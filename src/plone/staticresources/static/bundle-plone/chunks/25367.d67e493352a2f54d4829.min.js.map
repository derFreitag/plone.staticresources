{"version":3,"file":"chunks/25367.d67e493352a2f54d4829.min.js","mappings":"2MAEe,MAAMA,EACjB,WAAAC,CAAYC,GACRC,KAAKD,GAAKA,CACd,CACA,eAAAE,CAAgBC,GACZ,SAAOA,GAAU,SAAUC,EAAUC,GACjCA,EAAQC,SAAS,eACG,IAAED,GAASE,KAAK,gBACtBC,KAAK,WAAY,WACnC,GACJ,CACA,cAAAC,CAAeN,GACX,SAAOA,GAAU,SAAUC,EAAUC,GACjCA,EAAQK,YAAY,eACA,IAAEL,GAASE,KAAK,gBACtBI,WAAW,WAC7B,GACJ,CACA,cAAAC,GACI,IAAIC,EAAmB,IAAE,iBAAiBC,SAAS,oBAC/CC,EAAoB,IAAE,iBAAiBD,SAAS,qBAChDE,EAAqB,IAAE,iBAAiBF,SAAS,uBAG5B,IAArBD,EACAZ,KAAKQ,eAAe,CAChB,IAAE,8CACF,IAAE,mDACF,IAAE,8CACF,IAAE,gDACF,IAAE,sDACF,IAAE,0CACF,IAAE,mCACF,IAAE,gDACF,IAAE,0DACF,IAAE,2CACF,IAAE,uDAGNR,KAAKC,gBAAgB,CACjB,IAAE,8CACF,IAAE,mDACF,IAAE,8CACF,IAAE,gDACF,IAAE,sDACF,IAAE,0CACF,IAAE,mCACF,IAAE,gDACF,IAAE,0DACF,IAAE,2CACF,IAAE,wDAKiB,IAAvBc,EACAf,KAAKC,gBAAgB,CACjB,IAAE,0DACF,IAAE,2CACF,IAAE,wDAImB,IAArBW,GACAZ,KAAKQ,eAAe,CAChB,IAAE,0DACF,IAAE,2CACF,IAAE,wDAOY,IAAtBM,GACAd,KAAKC,gBAAgB,CAAC,IAAE,+CAEhC,CAEA,IAAAe,GACI,IAAIC,EAAOjB,KAUXiB,EAAKN,iBAEL,IAAE,oCAAoCO,GAAG,UAAU,WAC3ClB,KAAKmB,QACL,IAAE,iBAAiBd,SAAS,oBAE5B,IAAE,iBAAiBI,YAAY,oBAEnCQ,EAAKN,gBACT,IAOA,IAAE,mCAAmCO,GAAG,UAAU,WAC9C,IAAElB,MAAMM,KAAK,gBAAgBI,WAAW,WAC5C,GAGJ,E","sources":["webpack://plone.staticresources/./node_modules/@der-freitag/mockup/src/pat/controlpanels/discussion--implementation.js"],"sourcesContent":["import $ from \"jquery\";\n\nexport default class Contentrules {\n    constructor(el) {\n        this.el = el;\n    }\n    disableSettings(settings) {\n        $.each(settings, function (intIndex, setting) {\n            setting.addClass(\"unclickable\");\n            var setting_field = $(setting).find(\"input,select\");\n            setting_field.attr(\"disabled\", \"disabled\");\n        });\n    }\n    enableSettings(settings) {\n        $.each(settings, function (intIndex, setting) {\n            setting.removeClass(\"unclickable\");\n            var setting_field = $(setting).find(\"input,select\");\n            setting_field.removeAttr(\"disabled\");\n        });\n    }\n    updateSettings() {\n        var globally_enabled = $(\"#content-core\").hasClass(\"globally_enabled\");\n        var moderation_custom = $(\"#content-core\").hasClass(\"moderation_custom\");\n        var invalid_mail_setup = $(\"#content-core\").hasClass(\"invalid_mail_setup\");\n\n        /* If commenting is globally disabled, disable all settings. */\n        if (globally_enabled === true) {\n            this.enableSettings([\n                $(\"#formfield-form-widgets-anonymous_comments\"),\n                $(\"#formfield-form-widgets-anonymous_email_enabled\"),\n                $(\"#formfield-form-widgets-moderation_enabled\"),\n                $(\"#formfield-form-widgets-edit_comment_enabled\"),\n                $(\"#formfield-form-widgets-delete_own_comment_enabled\"),\n                $(\"#formfield-form-widgets-text_transform\"),\n                $(\"#formfield-form-widgets-captcha\"),\n                $(\"#formfield-form-widgets-show_commenter_image\"),\n                $(\"#formfield-form-widgets-moderator_notification_enabled\"),\n                $(\"#formfield-form-widgets-moderator_email\"),\n                $(\"#formfield-form-widgets-user_notification_enabled\"),\n            ]);\n        } else {\n            this.disableSettings([\n                $(\"#formfield-form-widgets-anonymous_comments\"),\n                $(\"#formfield-form-widgets-anonymous_email_enabled\"),\n                $(\"#formfield-form-widgets-moderation_enabled\"),\n                $(\"#formfield-form-widgets-edit_comment_enabled\"),\n                $(\"#formfield-form-widgets-delete_own_comment_enabled\"),\n                $(\"#formfield-form-widgets-text_transform\"),\n                $(\"#formfield-form-widgets-captcha\"),\n                $(\"#formfield-form-widgets-show_commenter_image\"),\n                $(\"#formfield-form-widgets-moderator_notification_enabled\"),\n                $(\"#formfield-form-widgets-moderator_email\"),\n                $(\"#formfield-form-widgets-user_notification_enabled\"),\n            ]);\n        }\n\n        /* If the mail setup is invalid, disable the mail settings. */\n        if (invalid_mail_setup === true) {\n            this.disableSettings([\n                $(\"#formfield-form-widgets-moderator_notification_enabled\"),\n                $(\"#formfield-form-widgets-moderator_email\"),\n                $(\"#formfield-form-widgets-user_notification_enabled\"),\n            ]);\n        } else {\n            /* Enable mail setup only if discussion is enabled. */\n            if (globally_enabled === true) {\n                this.enableSettings([\n                    $(\"#formfield-form-widgets-moderator_notification_enabled\"),\n                    $(\"#formfield-form-widgets-moderator_email\"),\n                    $(\"#formfield-form-widgets-user_notification_enabled\"),\n                ]);\n            }\n        }\n\n        /* If a custom workflow for comments is enabled, disable the moderation\n        switch. */\n        if (moderation_custom === true) {\n            this.disableSettings([$(\"#formfield-form-widgets-moderation_enabled\")]);\n        }\n    }\n\n    init() {\n        let self = this;\n        /* Disable a control panel setting */\n        //#JSCOVERAGE_IF 0\n\n        /**************************************************************************\n         * Window Load Function: Executes when complete page is fully loaded,\n         * including all frames,\n         **************************************************************************/\n\n        // Update settings on page load\n        self.updateSettings();\n        // Set #content-core class and update settings afterwards\n        $(\"#form-widgets-globally_enabled-0\").on(\"change\", function () {\n            if (this.checked) {\n                $(\"#content-core\").addClass(\"globally_enabled\");\n            } else {\n                $(\"#content-core\").removeClass(\"globally_enabled\");\n            }\n            self.updateSettings();\n        });\n\n        /**********************************************************************\n         * Remove the disabled attribute from all form elements before\n         * submitting the form. Otherwise the z3c.form will raise errors on\n         * the required attributes.\n         **********************************************************************/\n        $(\"form#DiscussionSettingsEditForm\").on(\"submit\", function () {\n            $(this).find(\"input,select\").removeAttr(\"disabled\");\n        });\n\n        //#JSCOVERAGE_ENDIF\n    }\n}\n"],"names":["Contentrules","constructor","el","this","disableSettings","settings","intIndex","setting","addClass","find","attr","enableSettings","removeClass","removeAttr","updateSettings","globally_enabled","hasClass","moderation_custom","invalid_mail_setup","init","self","on","checked"],"sourceRoot":""}