{"version":3,"file":"chunks/tinymce.67ee84cb4e3dcc1a5616.min.js","mappings":"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CIgD,GAAa,SAAU/yB,EAAQzzF,GACjC,OAAOykH,GAAahxB,EAAQzzF,GAAMsgF,MAAK,SAAUjjD,GAC/C,OAAOkoF,GAAS3c,GAAUnlG,QAAQgwF,GAASp2D,EAAMo2D,EAAOoxB,YAC1D,GACF,EAMI4B,GAAQ,SAAUxmH,EAAO8mC,EAAKnsB,GAChC,IAAI8rG,EAA+B,iBAAVzmH,EAAqBma,WAAWna,GAASA,EAMlE,OALIymH,EAAc9rG,EAChB8rG,EAAc9rG,EACL8rG,EAAc3/E,IACvB2/E,EAAc3/E,GAET2/E,CACT,EA8BIC,GAAc,CAChB,EACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,EACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,IACA,KACA,EACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,EACA,IACA,IACA,IACA,IACA,EACA,IACA,IACA,IACA,EACA,IACA,EACA,IACA,IACA,EACA,IACA,IACA,IACA,EACA,IACA,IACA,EACA,IACA,IACA,IACA,IAEEC,GAAW,SAAUC,EAASC,GAIhC,IAHA,IAEIvsG,EAFAs/E,EAAM,GACNktB,EAAM,IAAI3mH,MAAM,IAEXsB,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAK,IAAIqiB,EAAI,EAAGA,EAAI,EAAGA,IACrB81E,EAAI91E,GAAK+iG,EAAQ/iG,EAAQ,EAAJriB,GAEvB,IAASqiB,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1BxJ,EAAM,EACN,IAAK,IAAIhR,EAAI,EAAGA,EAAI,EAAGA,IACrBgR,GAAOssG,EAAQ9iG,EAAQ,EAAJxa,GAASswF,EAAItwF,GAElCw9G,EAAIhjG,EAAQ,EAAJriB,GAAS6Y,CACnB,CACF,CACA,OAAOwsG,CACT,EA2GIC,GAAc,SAAUC,EAAIvkD,GAC9B,OAAOukD,EAAGhB,WAAW3lC,MAAK,SAAUmT,GAClC,OAAOyzB,GAAiBzzB,EAAQwzB,EAAGvB,UAAWhjD,EAChD,GACF,EACIwkD,GAAmB,SAAUzzB,EAAQzzF,EAAM0iE,GAC7C,IAAIid,EAAUqjC,GAAavvB,GAgBvB0zB,EAfc,SAAUC,EAAYh2B,GAGtC,IAFA,IAAIjqF,EAAGopD,EAAG/tD,EAAG3B,EACT4xB,EAAO20F,EAAW30F,KAAM40F,EAAKj2B,EAAE,GAAIk2B,EAAKl2B,EAAE,GAAIm2B,EAAKn2B,EAAE,GAAIo2B,EAAKp2B,EAAE,GAAIq2B,EAAKr2B,EAAE,GAAIs2B,EAAKt2B,EAAE,GAAIu2B,EAAKv2B,EAAE,GAAIw2B,EAAKx2B,EAAE,GAAIy2B,EAAKz2B,EAAE,GAAI02B,EAAK12B,EAAE,GAAI22B,EAAM32B,EAAE,IAAK42B,EAAM52B,EAAE,IAAK62B,EAAM72B,EAAE,IAAK82B,EAAM92B,EAAE,IAAK+2B,EAAM/2B,EAAE,IAAKg3B,EAAMh3B,EAAE,IAAKi3B,EAAMj3B,EAAE,IAAKk3B,EAAMl3B,EAAE,IAAKm3B,EAAMn3B,EAAE,IAAKo3B,EAAMp3B,EAAE,IAC9P1vF,EAAI,EAAGA,EAAI+wB,EAAK7wB,OAAQF,GAAK,EACpCyF,EAAIsrB,EAAK/wB,GACT6uD,EAAI99B,EAAK/wB,EAAI,GACbc,EAAIiwB,EAAK/wB,EAAI,GACbb,EAAI4xB,EAAK/wB,EAAI,GACb+wB,EAAK/wB,GAAKyF,EAAIkgH,EAAK92D,EAAI+2D,EAAK9kH,EAAI+kH,EAAK1mH,EAAI2mH,EAAKC,EAC9Ch1F,EAAK/wB,EAAI,GAAKyF,EAAIugH,EAAKn3D,EAAIo3D,EAAKnlH,EAAIolH,EAAK/mH,EAAIgnH,EAAKC,EAClDr1F,EAAK/wB,EAAI,GAAKyF,EAAI4gH,EAAMx3D,EAAIy3D,EAAMxlH,EAAIylH,EAAMpnH,EAAIqnH,EAAMC,EACtD11F,EAAK/wB,EAAI,GAAKyF,EAAIihH,EAAM73D,EAAI83D,EAAM7lH,EAAI8lH,EAAMznH,EAAI0nH,EAAMC,EAExD,OAAOpB,CACT,CACaqB,CAAY9oC,EAAQmU,aAAa,EAAG,EAAGL,EAAOl0E,MAAOk0E,EAAOz4E,QAAS0nD,GAElF,OADAid,EAAQ+oC,aAAavB,EAAQ,EAAG,GACzBX,GAAW/yB,EAAQzzF,EAC5B,EAMI2oH,GAAuB,SAAUl1B,EAAQzzF,EAAM0iE,GACjD,IAAIid,EAAUqjC,GAAavvB,GAwCvBm1B,EAAWjpC,EAAQmU,aAAa,EAAG,EAAGL,EAAOl0E,MAAOk0E,EAAOz4E,QAC3D6tG,EAAYlpC,EAAQmU,aAAa,EAAG,EAAGL,EAAOl0E,MAAOk0E,EAAOz4E,QAGhE,OAFA6tG,EAzCkB,SAAUC,EAAKC,EAAMC,GAerC,IAdA,IAAIvC,EAAQ,SAAUxmH,EAAO8mC,EAAKnsB,GAMhC,OALI3a,EAAQ2a,EACV3a,EAAQ2a,EACC3a,EAAQ8mC,IACjB9mC,EAAQ8mC,GAEH9mC,CACT,EACIuyF,EAAOvyE,KAAKizB,MAAMjzB,KAAKw1E,KAAKuzB,EAAQpnH,SACpCqnH,EAAWhpG,KAAKiW,MAAMs8D,EAAO,GAC7BQ,EAAO81B,EAAIr2F,KACXy2F,EAAQH,EAAKt2F,KACblR,EAAIunG,EAAIvpG,MACR7E,EAAIouG,EAAI9tG,OACH1N,EAAI,EAAGA,EAAIoN,EAAGpN,IACrB,IAAK,IAAIpN,EAAI,EAAGA,EAAIqhB,EAAGrhB,IAAK,CAI1B,IAHA,IAAIiH,EAAI,EACJopD,EAAI,EACJ/tD,EAAI,EACC2mH,EAAK,EAAGA,EAAK32B,EAAM22B,IAC1B,IAAK,IAAIC,EAAK,EAAGA,EAAK52B,EAAM42B,IAAM,CAChC,IAAIC,EAAM5C,EAAMvmH,EAAIkpH,EAAKH,EAAU,EAAG1nG,EAAI,GAEtC+nG,EAAgC,GAD1B7C,EAAMn5G,EAAI67G,EAAKF,EAAU,EAAGvuG,EAAI,GACjB6G,EAAI8nG,GACzBE,EAAKP,EAAQG,EAAK32B,EAAO42B,GAC7BjiH,GAAK6rF,EAAKs2B,GAAeC,EACzBh5D,GAAKyiC,EAAKs2B,EAAc,GAAKC,EAC7B/mH,GAAKwwF,EAAKs2B,EAAc,GAAKC,CAC/B,CAEF,IAAI3yG,EAAuB,GAAbtJ,EAAIiU,EAAIrhB,GACtBgpH,EAAMtyG,GAAU6vG,EAAMt/G,EAAG,EAAG,KAC5B+hH,EAAMtyG,EAAS,GAAK6vG,EAAMl2D,EAAG,EAAG,KAChC24D,EAAMtyG,EAAS,GAAK6vG,EAAMjkH,EAAG,EAAG,IAClC,CAEF,OAAOumH,CACT,CAGYN,CAAYG,EAAUC,EAAWnmD,GAC7Cid,EAAQ+oC,aAAaG,EAAW,EAAG,GAC5BrC,GAAW/yB,EAAQzzF,EAC5B,EA2BIwpH,GAA+B,SAAUC,GAC3C,OAAO,SAAUxC,EAAIyC,GACnB,OAAO1C,GAAYC,EAAIwC,EAzWlB,CACL,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAgVkDC,GACpD,CACF,EAWIC,GAVmB,SAAUjnD,GAC/B,OAAO,SAAUukD,GACf,OAAOD,GAAYC,EAAIvkD,EACzB,CACF,CAMeknD,CAAiB,EAC7B,EACD,EACA,EACA,EACA,IACA,GACC,EACD,EACA,EACA,IACA,EACA,GACC,EACD,EACA,IACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IAEEC,GAAeL,IAjNI,SAAU9mD,EAAQziE,GAEvC,OADAA,EAAQwmH,GAAM,IAAMxmH,GAAQ,IAAK,KAC1B2mH,GAASlkD,EAAQ,CACtB,EACA,EACA,EACA,EACAziE,EACA,EACA,EACA,EACA,EACAA,EACA,EACA,EACA,EACA,EACAA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAEJ,IAqLI6pH,GAAaN,IA7PI,SAAU9mD,EAAQziE,GACrC,IAAIC,EAcJ,OAbAD,EAAQwmH,GAAMxmH,GAAQ,EAAG,GAGvBC,GAFFD,GAAS,KACG,EACN,IAAMA,EAAQ,IAAM,IAQhB,KAJNC,EADQ,KADVA,EAAID,EAAQ,GAEN0mH,GAAY1mH,GAEZ0mH,GAAY1mG,KAAKiW,MAAMj2B,KAAW,EAAIC,GAAKymH,GAAY1mG,KAAKiW,MAAMj2B,GAAS,GAAKC,GAExE,IAET0mH,GAASlkD,EAAQ,CACtBxiE,EAAI,IACJ,EACA,EACA,EACA,IAAO,IAAMA,GACb,EACAA,EAAI,IACJ,EACA,EACA,IAAO,IAAMA,GACb,EACA,EACAA,EAAI,IACJ,EACA,IAAO,IAAMA,GACb,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAEJ,IAoNI6pH,GAAa,SAAU9C,EAAI+C,EAASC,EAASC,GAC/C,OAAOlD,GAAYC,EAtLF,SAAUvkD,EAAQsnD,EAASC,EAASC,GAIrD,OAHAF,EAAUvD,GAAMuD,EAAS,EAAG,GAC5BC,EAAUxD,GAAMwD,EAAS,EAAG,GAC5BC,EAAUzD,GAAMyD,EAAS,EAAG,GACrBtD,GAASlkD,EAAQ,CACtBsnD,EACA,EACA,EACA,EACA,EACA,EACAC,EACA,EACA,EACA,EACA,EACA,EACAC,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAEJ,CAuJyBC,CApZhB,CACL,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GA2X8CH,EAASC,EAASC,GACpE,EACIE,IArCmCle,GAqCA,CACrC,GACC,EACD,GACC,EACD,GACC,EACD,GACC,EACD,GA7CO,SAAU+a,GACf,OA1FkB,SAAUA,EAAIvkD,GAClC,OAAOukD,EAAGhB,WAAW3lC,MAAK,SAAUmT,GAClC,OAAOk1B,GAAqBl1B,EAAQwzB,EAAGvB,UAAWhjD,EACpD,GACF,CAsFW2nD,CAAgBpD,EAAI/a,GAC7B,GA6CEoe,IApFgCne,GAoFF,SAAUtpB,EAAO5iF,GACjD,OAA0C,IAAnCggB,KAAKsqG,IAAI1nC,EAAQ,IAAK,EAAI5iF,EACnC,EAlES,SAAUgnH,EAAIhnH,GACnB,OAAOgnH,EAAGhB,WAAW3lC,MAAK,SAAUmT,GAClC,OArBa,SAAUA,EAAQzzF,EAAMC,GAYvC,IAXA,IAAI0/E,EAAUqjC,GAAavvB,GACvB3oC,EAAS,IAAI1qD,MAAM,KAUdsB,EAAI,EAAGA,EAAIopD,EAAOlpD,OAAQF,IACjCopD,EAAOppD,GAAKyqG,GAAQzqG,EAAGzB,GAEzB,IAAIknH,EAZc,SAAUC,EAAYlnC,GAEtC,IADA,IAAIztD,EAAO20F,EAAW30F,KACb/wB,EAAI,EAAGA,EAAI+wB,EAAK7wB,OAAQF,GAAK,EACpC+wB,EAAK/wB,GAAKw+E,EAAWztD,EAAK/wB,IAC1B+wB,EAAK/wB,EAAI,GAAKw+E,EAAWztD,EAAK/wB,EAAI,IAClC+wB,EAAK/wB,EAAI,GAAKw+E,EAAWztD,EAAK/wB,EAAI,IAEpC,OAAO0lH,CACT,CAIaoD,CAAY7qC,EAAQmU,aAAa,EAAG,EAAGL,EAAOl0E,MAAOk0E,EAAOz4E,QAAS8vC,GAElF,OADA60B,EAAQ+oC,aAAavB,EAAQ,EAAG,GACzBX,GAAW/yB,EAAQzzF,EAC5B,CAGWyqH,CAAWh3B,EAAQwzB,EAAGvB,UAAWzlH,EAC1C,GACF,GAgEEyqH,GAAQ,SAAUvH,EAAOwH,EAAIC,GAC/B,IAAIC,EAAK3H,GAAWC,GAChB2H,EAAKzH,GAAYF,GACjB4H,EAASJ,EAAKE,EACdG,EAASJ,EAAKE,EACdG,GAAc,GACdF,EAAS,IAAOA,EAAS,KAC3BA,EAASA,EAAS,GAAM,GAAM,EAC9BE,GAAc,IAEZD,EAAS,IAAOA,EAAS,KAC3BA,EAASA,EAAS,GAAM,GAAM,EAC9BC,GAAc,GAEhB,IAAIC,EAASC,GAAOhI,EAAO4H,EAAQC,GACnC,OAAQC,EAAuBC,EAAO5qC,MAAK,SAAUyiC,GACnD,OAAO2H,GAAM3H,EAAS4H,EAAIC,EAC5B,IAFsBM,CAGxB,EACIC,GAAS,SAAUhI,EAAO4H,EAAQC,GACpC,OAAO,IAAIpiB,IAAU,SAAUnlG,GAC7B,IAAIonH,EAAK3H,GAAWC,GAChB2H,EAAKzH,GAAYF,GACjBwH,EAAK1qG,KAAKiW,MAAM20F,EAAKE,GACrBH,EAAK3qG,KAAKiW,MAAM40F,EAAKE,GACrBv3B,EAASovB,GAAS8H,EAAIC,GACZ5H,GAAavvB,GACnBwvB,UAAUE,EAAO,EAAG,EAAG0H,EAAIC,EAAI,EAAG,EAAGH,EAAIC,GACjDnnH,EAAQgwF,EACV,GACF,EAEI23B,GAAoB,SAAUlkH,EAAKmkH,QACnB,IAAdA,IACFA,EAAY,GAEd,IAAIC,EAAMrrG,KAAKsqG,IAAI,GAAIc,GACnBE,EAAQtrG,KAAKizB,MAAMhsC,EAAMokH,GAC7B,OAAOrrG,KAAK2mE,KAAK2kC,EAAQD,EAC3B,EAMIE,GAAc,SAAUrI,EAAOnjH,EAAMyrH,GACvC,IACIC,GADUD,EAAQ,EAAI,IAAMA,EAAQA,GACpBxrG,KAAK0rG,GAAK,IAC1BpsG,EAAQ4jG,EAAM5jG,MACdvE,EAASmoG,EAAMnoG,OACf4wG,EAAM3rG,KAAK2rG,IAAIF,GACfG,EAAM5rG,KAAK4rG,IAAIH,GACfI,EAAWV,GAAkBnrG,KAAK0mE,IAAIpnE,EAAQssG,GAAO5rG,KAAK0mE,IAAI3rE,EAAS4wG,IACvEG,EAAYX,GAAkBnrG,KAAK0mE,IAAIpnE,EAAQqsG,GAAO3rG,KAAK0mE,IAAI3rE,EAAS6wG,IACxEp4B,EAASovB,GAASiJ,EAAUC,GAC5BpsC,EAAUqjC,GAAavvB,GAI3B,OAHA9T,EAAQrkE,UAAUwwG,EAAW,EAAGC,EAAY,GAC5CpsC,EAAQqsC,OAAON,GACf/rC,EAAQsjC,UAAUE,GAAQ5jG,EAAQ,GAAIvE,EAAS,GACxCwrG,GAAW/yB,EAAQzzF,EAC5B,EAMIisH,GAAY,SAAU9I,EAAOnjH,EAAMksH,GACrC,IAAIz4B,EAASovB,GAASM,EAAM5jG,MAAO4jG,EAAMnoG,QACrC2kE,EAAUqjC,GAAavvB,GAQ3B,MAPa,MAATy4B,GACFvsC,EAAQ+qC,MAAM,GAAI,GAClB/qC,EAAQsjC,UAAUE,EAAO,GAAI1vB,EAAOz4E,UAEpC2kE,EAAQ+qC,OAAO,EAAG,GAClB/qC,EAAQsjC,UAAUE,GAAQ1vB,EAAOl0E,MAAO,IAEnCinG,GAAW/yB,EAAQzzF,EAC5B,EAMImsH,GAAY,SAAUhJ,EAAOnjH,EAAME,EAAGoN,EAAGiU,EAAG7G,GAC9C,IAAI+4E,EAASovB,GAASthG,EAAG7G,GAGzB,OAFcsoG,GAAavvB,GACnBwvB,UAAUE,GAAQjjH,GAAIoN,GACvBk5G,GAAW/yB,EAAQzzF,EAC5B,EASIosH,GAAS,SAAUnF,GACrB,OAAO0C,GAAS1C,EAClB,EACIoF,GAAU,SAAUpF,GACtB,OAAOmD,GAAUnD,EACnB,EACIqF,GAAQ,SAAUrF,EAAIhnH,GACxB,OAAOqqH,GAAQrD,EAAIhnH,EACrB,EAIIsyF,GAAa,SAAU00B,EAAIyC,GAC7B,OAAOG,GAAa5C,EAAIyC,EAC1B,EACI6C,GAAW,SAAUtF,EAAIyC,GAC3B,OAAOI,GAAW7C,EAAIyC,EACxB,EACI8C,GAAO,SAAUvF,EAAIiF,GACvB,OAvDW,SAAUjF,EAAIiF,GACzB,OAAOjF,EAAGhB,WAAW3lC,MAAK,SAAUmT,GAClC,OAAOw4B,GAAUx4B,EAAQwzB,EAAGvB,UAAWwG,EACzC,GACF,CAmDSO,CAAOxF,EAAIiF,EACpB,EACIQ,GAAO,SAAUzF,EAAI/mH,EAAGoN,EAAGiU,EAAG7G,GAChC,OAzCW,SAAUusG,EAAI/mH,EAAGoN,EAAGiU,EAAG7G,GAClC,OAAOusG,EAAGhB,WAAW3lC,MAAK,SAAUmT,GAClC,OAAO04B,GAAU14B,EAAQwzB,EAAGvB,UAAWxlH,EAAGoN,EAAGiU,EAAG7G,EAClD,GACF,CAqCSiyG,CAAO1F,EAAI/mH,EAAGoN,EAAGiU,EAAG7G,EAC7B,EACIkyG,GAAW,SAAU3F,EAAI1lG,EAAG7G,GAC9B,OAjCa,SAAUusG,EAAI1lG,EAAG7G,GAC9B,OAAOusG,EAAGhB,WAAW3lC,MAAK,SAAUmT,GAClC,OAAOi3B,GAAMj3B,EAAQlyE,EAAG7G,GAAG4lE,MAAK,SAAUusC,GACxC,OAAOrG,GAAWqG,EAAW5F,EAAGvB,UAClC,GACF,GACF,CA2BSoH,CAAS7F,EAAI1lG,EAAG7G,EACzB,EACIsxG,GAAS,SAAU/E,EAAIwE,GACzB,OArFa,SAAUxE,EAAIwE,GAC3B,OAAOxE,EAAGhB,WAAW3lC,MAAK,SAAUmT,GAClC,OAAO+3B,GAAY/3B,EAAQwzB,EAAGvB,UAAW+F,EAC3C,GACF,CAiFSsB,CAAS9F,EAAIwE,EACtB,EAEIuB,GAAa,SAAUj1C,EAAUk1C,EAAenzF,GAClD,OAAOs+C,GAASL,EAAU,CACxB/qE,IAAK,OACLssB,QAAS,CACP,WACA,uBAEFQ,WAAYA,GACXmzF,EACL,EACIC,GAAqB,SAAUn1C,EAAUk1C,GAC3C,OAAOD,GAAWj1C,EAAUk1C,EAAe,GAC7C,EACIE,GAA+B,SAAUp1C,EAAUk1C,GACrD,OAAOD,GAAWj1C,EAAUk1C,EAAe,CAACnlD,GAAUxqC,OAAO,CAAC,IAChE,EACI8vF,GAAgB,SAAUlgH,EAAM3B,EAAQ+iF,GAC1C,MAAO,CACLviF,IAAK,CACHiB,IAAK,OACL4yB,UAAW0uD,EAAmBhzE,UAAUpO,GACxCosB,QAAS,CAAC/tB,EAAS,mBAErBuuB,WAAYmR,GAAS,CAAC68B,GAAUxqC,OAAO,CAAC,KAE5C,EAGI+vF,GAA+Bv3F,GAAW,0BAS1Cw3F,KAA2Bp6G,GAAK,CAAC,GAAM8d,MAAe,CACxD,YACA,uBACA,WACA,yBACC9d,IAECq6G,GAAiBz3F,GAAW,oBAC5B03F,GAAiB13F,GAAW,oBAC5B23F,GAAuB,SAAUx0F,EAAM1tB,EAAQwuE,GACjD,IAAI8R,EAAgB3/D,GAAKrqB,GACrB6rH,EAAoBz0F,EAAK/rB,KAAKrH,KAAI,SAAUqH,GAC9C,OAAO0pE,GAAOw2C,GAAclgH,EAAM3B,EAAQwuE,EAAgBU,WAC5D,IACIkzC,EAAoB10F,EAAKogD,KAAKxzE,KAAI,SAAUkyE,GAC9C,OAAOnB,GAAOu2C,GAA6Bp1C,EAAUgC,EAAgBU,UAAU36E,OACjF,IACI8tH,EAAsB,SAAUp1F,EAAMuhE,GACxC,IAAI8zB,EAAWxhE,GAAahC,SAAS7xB,GAIrC,OAHAqwC,GAAS58B,MAAM4hF,GACfv7F,GAASu7F,EAAU,UAAW,CAAEp0G,IAAKsgF,EAAGp9E,MAAMlD,MAC9C00F,GAAS7lD,MAAMulE,GACRpnH,EAASJ,MAAK,EACvB,EACI6mE,EAAOj0C,EAAKi0C,KAAKhoE,MAAK,WACxB,MAAO,CAAC,CACV,IAAG,SAAUgoE,GACX,MAAO,CAAEA,KAAMA,EACjB,IACI4gD,EAAoB70F,EAAKyuD,QAAQxiF,MAAK,WACxC,MAAO,CAAC,CACV,IAAG,SAAUwiF,GACX,IAAIqmC,EAAoBh0C,EAAgBU,UAAUn/D,UAAUosE,GAC5D,MAAO,CACL,MAASqmC,EACT,aAAcA,EAElB,IACIv/B,EAAWpW,GAAS,eAAgB,CACtCprE,IAAK,MACLssB,QAAS,CAAC/tB,EAAS,qBAClBwuE,EAAgBU,UAAU36E,OAuE7B,OAtEkB82E,GAAOu3B,GAASv/C,OAAOlrD,EAASA,EAASA,EAAS,CAAC,EAAGu1B,EAAK1F,IAAM,CAAEA,IAAK0F,EAAK1F,KAAQ,CAAC,GAAI25C,GAAO,CACjHnhE,IAAK,CACHiB,IAAK,SACLssB,QAAS,CACP/tB,EACAA,EAAS,YACTzI,OAAOyE,EAAM0xB,EAAKK,SAAS,SAAU4B,GACrC,OAAO3vB,EAAS,KAAO2vB,CACzB,KACA3B,WAAY71B,EAAS,CAAC,EAAGoqH,IAE3B5vF,WAAYouD,GAAwB,CAClCqhC,EAAkB9nH,KAAI,SAAU85G,GAC9B,OAAOA,EAAI5oC,QACb,IACA22C,EAAkB7nH,KAAI,SAAU85G,GAC9B,OAAOA,EAAI5oC,QACb,IACAtwE,EAASJ,KAAKmoF,KAEhB4e,YAAY,EACZC,aAAa,EACbkB,mBAAoBtjE,GAASzmC,EAAcA,EAAc,GAAIy0B,EAAKs1E,oBAAoB,GAAO,CAC3F9iB,IAAwB,WACtB,OAAOxyD,EAAKu7B,UAAYulB,EAAgBU,UAAUplB,YACpD,IACAm2B,KACAkjB,GAAYpxE,OAAO,CAAC,GACpBwqC,GAAUxqC,OAAO,CAAC,GAClBA,GAAO,kBAAmB,CACxBsuD,GAAkB3yD,EAAM4yD,GACxBG,GAAkB/yD,EAAM4yD,KAE1BvuD,GAAO,iCAAkC,CACvCtK,GAAMu6F,IAAgB,SAAU/0F,EAAMuhE,GACpC2zB,EAAkB3nH,MAAK,SAAU45G,GAC/B,OAAOA,EAAIpnG,OAAOigB,EACpB,IAAG1yB,MAAK,SAAUkoH,GAChBlmD,GAAUrtD,IAAIuzG,EAAa,CAAC9gH,GAAK6sE,EAAgBU,UAAUn/D,UAAUy+E,EAAGp9E,MAAMzP,QAChF,GACF,IACA8lB,GAAMw6F,IAAgB,SAAUh1F,EAAMuhE,GACpC4zB,EAAkB5nH,MAAK,SAAU45G,GAC/B,OAAOA,EAAIpnG,OAAOigB,EACpB,IAAG1yB,MAAK,SAAUmoH,GAChBnmD,GAAUrtD,IAAIwzG,EAAa,CAACd,GAA6BpzB,EAAGp9E,MAAM08D,KAAMU,EAAgBU,UAAU36E,QACpG,GACF,QAED,IACHy6B,WAAYtW,GAAUqpG,GAAyB,CAC7C59F,UAAW,CACT,WACA,uBACA,mBACA,4BAGJq+E,kBAAmB9iE,GAAS,CAACu7B,GAAOlpC,OAAO,CACvCsX,KAAM,UACNoxB,OAAQ4nD,EACR3nD,QAAS2nD,MAEbt5C,SAAUyF,EAAgBW,QAC1BtR,YAAa79D,EAAS,WACtByjB,MAAO,CAAEs3C,KAAM7W,GAAK,EAAOx2B,EAAKunD,QAASvnD,EAAKqqD,UAC9ClD,MAAO,SAAU5nD,GACf,OAAOqxE,GAAUpnG,EAAMw2B,EAAKmnD,MAAO5nD,GACrC,MAEiBu+C,QACrB,EAKIm3C,GAAgB,SAAUt0G,GAC5B,MAAqB,cAAdA,EAAK5Z,IACd,EAIImuH,GAAc,CAAEnuH,KAAM,aACtBouH,GAAmB,SAAUnjE,EAAO0iB,GACtC,IAAI0gD,EAAYrmH,EAAMijD,GAAO,SAAUnjD,EAAK8R,GAC1C,OAZsB,SAAUA,GAClC,OAAO9Y,EAAS8Y,EAClB,CAUQ00G,CAAoB10G,GACT,KAATA,EACK9R,EACW,MAAT8R,EACF9R,EAAIlG,OAAS,IAAMssH,GAAcpmH,EAAIA,EAAIlG,OAAS,IAAMkG,EAAIhF,OAAO,CAACqrH,KAAgBrmH,EAClFwC,GAAMqjE,EAAW/zD,EAAK9L,eACxBhG,EAAIhF,OAAO,CAAC6qE,EAAU/zD,EAAK9L,iBAE3BhG,EAGFA,EAAIhF,OAAO,CAAC8W,GAEvB,GAAG,IAIH,OAHIy0G,EAAUzsH,OAAS,GAAKssH,GAAcG,EAAUA,EAAUzsH,OAAS,KACrEysH,EAAU15B,MAEL05B,CACT,EAYIE,GAAc,SAAU30G,EAAM+zD,GAChC,OArCwB,SAAU/zD,GAClC,OAAOtP,GAAMsP,EAAM,kBACrB,CAmCS40G,CAAoB50G,GAZF,SAAUA,EAAM+zD,GACzC,IAAI8gD,EAAe70G,EAAK89E,kBACpBl3E,EAAO+uD,GAAOk/C,EAAc9gD,GAGhC,MAAO,CACL/zD,KAAMA,EACN6zD,MAJaxpD,GAAUzD,EAAKitD,MAAOlgD,GAAO3T,EAAK3Z,MAAOugB,EAAKyqC,QAK3DyiB,WAJkBzpD,GAAUzD,EAAKktD,WAAYngD,GAAO3T,EAAK3Z,MAAO2Z,EAAK3Z,QAMzE,CAEqCyuH,CAAqB90G,EAAM+zD,GAAa,CACzE/zD,KAAMA,EACN6zD,MAAO,CAAC,EACRC,WAAY,CAAC,EAEjB,EAWI6B,GAAS,SAAUtkB,EAAO0iB,GAC5B,IAAI0gD,EAAYD,GAAiBttH,EAASmqD,GAASA,EAAM7yB,MAAM,KAAO6yB,EAAO0iB,GAC7E,OAAO9lE,EAAMwmH,GAAW,SAAUvmH,EAAK8R,GACrC,IAAI+0G,EAbsB,SAAU/0G,GACtC,GAAIs0G,GAAct0G,GAChB,OAAOA,EAEP,IAAIm1D,EAAY3kE,GAAMwP,EAAM,SAASrU,YAAW,WAC9C,OAAOuwB,GAAW,sBACpB,IACA,OAAO7R,GAAU,CAAEhkB,MAAO8uE,GAAan1D,EAE3C,CAIwBg1G,CAAwBh1G,GACxCi1G,EAAUN,GAAYI,EAAehhD,GACzC,MAAO,CACLF,MAAOxpD,GAAUnc,EAAI2lE,MAAOohD,EAAQphD,OACpCxiB,MAAO,CAAC4jE,EAAQj1G,MAAM9W,OAAOgF,EAAImjD,OACjCyiB,WAAYzpD,GAAUnc,EAAI4lE,WAAYmhD,EAAQnhD,YAElD,GAAG,CACDD,MAAO,CAAC,EACRC,WAAY,CAAC,EACbziB,MAAO,IAEX,EAEI3zB,GAAQ,SAAU2zB,EAAOihC,EAAclS,EAAWwhB,GACpD,IAAIvtB,EAAUn4C,GAAW,gBACrBrD,EAAO88C,GAAOtkB,EAAO+uB,EAAUC,OAAOQ,UAAU9M,aACpD,GAA0B,IAAtBl7C,EAAKw4B,MAAMrpD,OACb,OAAO6E,EAAS1B,OAElB,IAAI+pH,EAAW5yB,GAAkBjuB,EAASx7C,EAAKw4B,MAAOihC,EAAclS,EAAWwhB,GAC3EuzB,EAAWvlH,GAAMipB,EAAKg7C,OAAO,SAAUE,EAAWsB,GACpD,OAAOitB,GAAkBjtB,EAAUtB,EAAWue,EAAclS,GAAW,EACzE,IACIvM,EAAQxpD,GAAU8qG,EAAUxhG,GAAO0gD,EAAS6gD,IAChD,OAAOroH,EAAS/B,KAAK0rE,GAAW2D,WAAW9F,EAASR,EAAOh7C,EAAKi7C,YAClE,EAEIshD,GAAmB,SAAUvgG,GAC/B,MAAO,CACL4mC,WAAY,WACV,OAAOQ,GAAUR,WAAW5mC,EAC9B,EACAsqE,YAAa,SAAUx7D,GACrB,OAAOs4B,GAAUp7C,IAAIgU,EAAW8O,EAClC,EACAu7D,UAAW,SAAUv7D,GACnB,IAAIq/C,EAAMnuD,EAAU7gB,QAChB2vB,GACFjB,GAAMsgD,EAAK,qBACX1kE,GAAM0kE,EAAK,gBAAgB,KAE3BngD,GAASmgD,EAAK,qBACdlkE,GAASkkE,EAAK,gBAElB,EACA6B,SAAU,WACR,OAAO9hD,GAAIlO,EAAU7gB,QAAS,oBAChC,EAEJ,EACIqhH,GAAmB,SAAUh2F,EAAM1tB,EAAQyuE,EAAW9M,GACxD,OAAOugD,GAAqB,CAC1BvgH,KAAM+rB,EAAK/rB,KACXmsE,KAAMpgD,EAAKogD,KACXqO,QAASzuD,EAAKyuD,QACdxa,KAAMA,EACNkT,MAAO,SAAU8uC,EAAO34B,GACtBt9D,EAAKmnD,OAAM,SAAUn1B,GACnBsrC,EAASj/D,GAAM2zB,EAAOs3B,GAAe6J,iBAAkBpS,GAAW,GACpE,GACF,EACA+R,QAAS9yD,EAAK8yD,QACdJ,OAAQqjC,GACRxuC,QAAS,EACT8C,QAAS,SACThqD,QAAS,GACTi1E,mBAAoB,CAACzK,GAAYxmE,OAAO,CAAC,KACxC/xB,EAAQyuE,EAAUC,OACvB,EACIk1C,GAAW,SAAUlkE,EAAOmkE,EAAWp1C,GACzC,IAAIq1C,EAAoB,SAAUz1G,GAChC,OAAO,SAAU4lC,GACf,IAAIpM,GAAYoM,EAAIi/B,WACpBj/B,EAAIs5C,UAAU1lD,GACdx5B,EAAK01G,QAAQ70G,IAAI24B,GACjB4mC,EAAUC,OAAOS,UAAU50E,MAAK,SAAU4hD,GACxC0nE,IAAY72G,OAAOmvC,GAAM5hD,MAAK,SAAUypH,GACtCvjF,GAAQujF,EAAK3hH,SACb0kB,GAASi9F,EAAM5qB,GAAiB,CAC9BnkG,KAAMoZ,EAAKpZ,KACXP,MAAO2Z,EAAK01G,QAAQn1G,OAExB,GACF,GACF,CACF,EACIq1G,EAAmB,SAAU51G,GAC/B,OAAO,SAAU4lC,GACfA,EAAIs5C,UAAUl/E,EAAK01G,QAAQn1G,MAC7B,CACF,EACA,OAAO,SAAU+M,GACfA,EAAQ3f,EAAM0jD,GAAO,SAAUrxC,GAC7B,IAAI1M,EAAO0M,EAAK1M,KAAKhI,MAAK,WACxB,MAAO,CAAC,CACV,IAAG,SAAUgI,GACX,MAAO,CAAEA,KAAMA,EACjB,IACA,OAAOxJ,EAASA,EAAS,CACvB1D,KAAM4Z,EAAK5Z,KACXqqC,QAAQ,GACPn9B,GAAO,CACRssE,SAAU61C,EAAkBz1G,GAC5BmyE,QAASyjC,EAAiB51G,IAE9B,IACF,CACF,EAEI61G,GAAmB,SAAUx2F,EAAMy2F,EAAWtrB,EAAiBr4F,EAAKmyB,EAAYowD,QAC1D,IAApB8V,IACFA,EAAkB,IAEpB,IAAIlxE,EAASw8F,EAAUxqH,MAAK,WAC1B,MAAO,CAAC,CACV,IAAG,SAAUguB,GACX,MAAO,CAAEA,OAAQA,EACnB,IACIy8F,EAASjsH,EAAS,CACpB+yE,iBAAkBxrC,GAAS,CACzBwgD,IAAwB,WACtB,OAAOxyD,EAAKu7B,UAAY85B,EAAmBj5B,YAC7C,IACAm2B,KACAsY,GAAYxmE,OAAO,CAAC,GACpBA,GAAO,eAAgB,CACrBpgB,GAAe,SACfA,GAAe,gBAEjBpa,OAAOshG,IACT7pE,WAAY,CACVnK,MAAO,CACL,eACA,wBAEFV,UAAW,CACT,eACA,0BAGHwD,GACC08F,EAAW3rG,GAAU0rG,EAAQ,CAAE5jH,IAAKA,IACxC,OAAOkY,GAAU2rG,EAAU,CAAE1xF,WAAYA,GAC3C,EACI2xF,GAAuB,SAAU52F,EAAM/F,EAAQo7D,EAAoB8V,QAC7C,IAApBA,IACFA,EAAkB,IAEpB,IAMIr4F,EAAM,CACRiB,IAAK,SACLssB,QAAS,CAAC,YACVC,WATsBN,EAAKyuD,QAAQ7hF,KAAI,SAAU6hF,GACjD,MAAO,CACL,aAAc4G,EAAmBhzE,UAAUosE,GAC3C,MAAS4G,EAAmBhzE,UAAUosE,GAE1C,IAAGpiF,MAAM,CAAC,IAMN+zE,EAAOpgD,EAAKogD,KAAKxzE,KAAI,SAAUkyE,GACjC,OAAOm1C,GAAmBn1C,EAAUuW,EAAmBxuF,MACzD,IACIo+B,EAAaouD,GAAwB,CAACjT,IAC1C,OAAOo2C,GAAiBx2F,EAAM/F,EAAQkxE,EAAiBr4F,EAAKmyB,EAAYowD,EAC1E,EACIwhC,GAAmB,SAAU72F,EAAM/F,EAAQo7D,EAAoB8V,QACzC,IAApBA,IACFA,EAAkB,IAEpB,IAAI2rB,EAAiBF,GAAqB52F,EAAMxyB,EAASJ,KAAK6sB,GAASo7D,EAAoB8V,GAC3F,OAAO7tB,GAAO3nB,OAAOmhE,EACvB,EACIC,GAAmB,SAAU/2F,EAAM/F,EAAQo7D,EAAoB8V,EAAiBD,QAC1D,IAApBC,IACFA,EAAkB,SAEC,IAAjBD,IACFA,EAAe,IAEjB,IAAI8rB,EAAiB3hC,EAAmBhzE,UAAU2d,EAAK/rB,MACnDmsE,EAAOpgD,EAAKogD,KAAOpgD,EAAKogD,KAAKxzE,KAAI,SAAUkyE,GAC7C,OAAOm1C,GAAmBn1C,EAAUuW,EAAmBxuF,MACzD,IAAK2G,EAAS1B,OACVm5B,EAAam7C,EAAKj0E,SAAWknF,GAAwB,CAACjT,IAAS,GAC/Dz5C,EAAYy5C,EAAKj0E,SAAW,CAAC,EAAI,CAAEw6B,UAAWqwF,GAC9C32F,EAAU90B,EAAcA,EAAcA,EAAcA,EAAc,GAAKy0B,EAAKg1C,SAAYh1C,EAAKi3F,WAG7F,CAAC,cAHyG,CAC5G,aACA,0BACkB,GAAO72C,EAAKj0E,SAAW,CAAC,oBAAsB,IAAI,GAAO6zB,EAAKi3F,WAAa,CAAC,qBAAuB,IAAI,GAAO/rB,GAAc,GAC5Ip4F,EAAMrI,EAASA,EAAS,CAC1BsJ,IAAK,SACLssB,QAASA,GACRsG,GAAY,CAAErG,WAAY,CAAE20D,MAAO+hC,KACtC,OAAOR,GAAiBx2F,EAAM/F,EAAQkxE,EAAiBr4F,EAAKmyB,EAAYowD,EAC1E,EACI6hC,GAAe,SAAUl3F,EAAM/F,EAAQo7D,EAAoB8V,EAAiBD,QACtD,IAApBC,IACFA,EAAkB,SAEC,IAAjBD,IACFA,EAAe,IAEjB,IAAIisB,EAAaJ,GAAiB/2F,EAAMxyB,EAASJ,KAAK6sB,GAASo7D,EAAoB8V,EAAiBD,GACpG,OAAO5tB,GAAO3nB,OAAOwhE,EACvB,EACIC,GAAY,SAAU7vH,EAAM8vH,GAC9B,OAAO,SAAU93F,GACI,WAAf83F,EACFh+F,GAASkG,EAAMmsE,GAAiB,CAC9BnkG,KAAMA,EACNP,MAAO,CAAC,IAEc,WAAfqwH,EACTl+F,GAAKoG,EAAMosE,IACa,WAAf0rB,EACTl+F,GAAKoG,EAAMksE,IAEX73F,QAAQC,MAAM,wBAAyBwjH,EAE3C,CACF,EAOIC,GAAqB,SAAUt3F,EAAMq3F,EAAYt2C,GACnD,GAP2B,SAAU/gD,EAAMq3F,GAC3C,MAAsB,SAAfA,CACT,CAKME,CAAuBv3F,EAAMq3F,GAAa,CAC5C,IAGIG,EAAiBx3F,EACjBy3F,EAAYhtH,EAASA,EAAS,CAAC,EAAGu1B,GAAO,CAC3C8yD,QAAS,SAAUvsC,GAEjB,OADAA,EAAIu5C,YAAY9/D,EAAKu7B,UACd3yD,CACT,EACAu+E,MAAO+uC,GAASsB,EAAexlE,OATjB,WACd,OAAO0lE,CACT,GAOmD32C,KAE/C22C,EAAc/5C,GAAOq4C,GAAiByB,EAAW,WAAY12C,EAAWvzE,EAAS1B,SACrF,OAAO4rH,EAAY55C,QACrB,CAAO,GAlBsB,SAAU99C,EAAMq3F,GAC7C,MAAsB,WAAfA,GAA0C,WAAfA,GAA0C,WAAfA,CAC/D,CAgBaM,CAAyB33F,EAAMq3F,GAAa,CACrD,IAAIp9F,EAASm9F,GAAUp3F,EAAKz4B,KAAM8vH,GAC9BF,EAAa1sH,EAASA,EAAS,CAAC,EAAGu1B,GAAO,CAAEi3F,YAAY,IAC5D,OAAOC,GAAaC,EAAYl9F,EAAQ8mD,EAAUC,OAAOQ,UAAW,GACtE,CACE5tE,QAAQC,MAAM,+BAAgCwjH,EAElD,EACIO,GAAqB,SAAU53F,EAAMq1D,GACvC,IA51I8B2V,EAAQC,EA41IlChxE,EAASm9F,GAAUp3F,EAAKz4B,KAAM,UAClC,OA71I8ByjG,EA61IPx9F,EAAS1B,OA71IMm/F,EA61IEd,GAAUp0E,MAAMlJ,MAAMpiB,EAAS,CAAEstD,QAASulB,IAAUy5C,GAAiB/2F,EAAMxyB,EAASJ,KAAK6sB,GAASo7D,EAAoB,CAC5JiyB,GAA2B,IAC3Bb,SA91IK1b,GAAoBC,EAAQC,EAAQ,GAAI,GAg2IjD,EAEI4sB,GAAWzuH,EAAW,CACxBopB,GAAU,aAAc,UACxBA,GAAU,aAAc,UACxBsZ,GAAgB,kBAChBV,GAAU,CAAC,cACX5Y,GAAU,UAAU,GACpBohC,GAAuB,yBAA0B,CAC/CsH,GACA9H,OAMA0kE,GAAc,SAAUC,EAAUC,GACpC,OAAO3sF,GAAS,CACd0sB,QAASoyC,GACT5iG,KAAMwwH,EACN12E,UAAW,SAAUjnB,GACnB,MAAO,CACLgwE,gBAAiBp4D,GAAS,CAAC3N,GAAO,0BAA2B,CAACtK,GAAMjO,MAAS,SAAUve,IAThF,SAAUgyB,EAAMnF,EAAQC,GACrC,OAAOg+B,GAAQ94B,EAAMnF,EAAQC,GAAUvtB,KAAKouD,GAAUL,WACxD,EAQc0vC,CAASh9F,EAAI6sB,EAAQ49F,GAAWnrH,MAAK,SAAU26G,GAC7CnvD,GAAQ9qD,EAAI6sB,EAAQ,QAAQvtB,MAAK,SAAUorH,GACrC7mD,GAASZ,KAAKynD,IAChB79F,EAAO89F,eAAe3qH,EAAIi6G,EAAOyQ,EAErC,GACF,GACF,QAER,GAEJ,EACIE,GAAU/uH,EAAW,CACvB0uH,GAAY,SAAU,UACtBA,GAAY,SAAU,UACtBzsF,GAAS,CACP0sB,QAASulB,GACTtuD,OAAQ,CAACsC,GAAW,QACpB/pB,KAAM,OACN85C,UAAW,SAAUjnB,GACnB,MAAO,CACLojD,iBAAkBxrC,GAAS,CAACo/B,GAAS/sC,OAAO,CACxC05B,SAAU3jC,EAAOg+F,OACjBjoD,YAAa/1C,EAAOm5C,QAAQ8kD,UAC5BpoD,KAAM,CAAEt0B,KAAM,eAGtB,MAkDA28E,GAAoB79D,GAAU,CAChClzD,KAAM,oBACNgzD,aAAcs9D,KACdn9D,WAAYy9D,KACZpgE,QAlDc,SAAU39B,EAAQ6K,EAAY4uC,EAAOC,GACnD,MAAO,CACLx5C,IAAKF,EAAOE,IACZxnB,IAAKsnB,EAAOtnB,IACZmyB,WAAYA,EACZpE,WAAY+yB,GAAyBx5B,EAAOm+F,uBAAwB,CAClEr9D,GAAU72B,OAAO,CAAE22B,KAAMxtD,EAASJ,OAClCgmD,GAAa/uB,OAAO,CAClBsqB,MAAO,CACLhT,KAAM,SACNyV,SAAU,SAAU7xB,GAClB,IAAItlB,EACA8b,EAAQijC,GAAcz5B,EAAMnF,EAAQ,CACtC,SACA,WAEF,OAAOngB,EAAK,CAAC,GAAMmgB,EAAOo+F,YAAcplE,GAAahC,SAASr7B,EAAM0iG,UAAWx+G,EAAGmgB,EAAOs+F,YAActlE,GAAahC,SAASr7B,EAAM4iG,UAAW1+G,CAChJ,EACAk3C,SAAU,SAAU5xB,EAAMv4B,GACxB,IAAI+uB,EAAQijC,GAAcz5B,EAAMnF,EAAQ,CACtC,SACA,WAEE9oB,GAAkBtK,EAAOozB,EAAOo+F,aAClCplE,GAAajC,SAASp7B,EAAM0iG,SAAUzxH,EAAMozB,EAAOo+F,aAEjDlnH,GAAkBtK,EAAOozB,EAAOs+F,aAClCtlE,GAAajC,SAASp7B,EAAM4iG,SAAU3xH,EAAMozB,EAAOs+F,YAEvD,OAIN1xF,KAAM,CACJ4xF,UAAW,SAAUpjG,GACnB,OAAO6iC,GAAQ7iC,EAAW4E,EAAQ,SACpC,EACAy+F,UAAW,SAAUrjG,GACnB,OAAO6iC,GAAQ7iC,EAAW4E,EAAQ,SACpC,EACA0+F,QAAS,SAAUtjG,GACjB,OAAO6iC,GAAQ7iC,EAAW4E,EAAQ,OACpC,GAGN,EAME4M,KAAM,CACJ4xF,UAAW,SAAU5xF,EAAMxR,GACzB,OAAOwR,EAAK4xF,UAAUpjG,EACxB,EACAqjG,UAAW,SAAU7xF,EAAMxR,GACzB,OAAOwR,EAAK6xF,UAAUrjG,EACxB,EACAsjG,QAAS,SAAU9xF,EAAMxR,GACvB,OAAOwR,EAAK8xF,QAAQtjG,EACtB,KA4BAujG,GAAY,SAAUC,GACxB,IACI58G,EADa,gFACMk8E,KAAK0gC,GAC5B,GAAc,OAAV58G,EAAgB,CAClB,IAAIpV,EAAQma,WAAW/E,EAAM,IACzBi3D,EAAOj3D,EAAM,GACjB,OAAOkN,GAAOtiB,MAAM,CAClBA,MAAOA,EACPqsE,KAAMA,GAEV,CACE,OAAO/pD,GAAOzV,MAAMmlH,EAExB,EACIC,GAAc,SAAU5qH,EAAMglE,GAChC,IAAI6lD,EAAS,CACX,GAAI,GACJ,GAAM,GACN,GAAM,GACN,GAAM,KACN,GAAM,GACN,GAAM,KACN,GAAM,GAEJn7G,EAAY,SAAUo6C,GACxB,OAAO9mD,GAAM6nH,EAAQ/gE,EACvB,EACA,OAAI9pD,EAAKglE,OAASA,EACT7lE,EAASJ,KAAKiB,EAAKrH,OACjB+W,EAAU1P,EAAKglE,OAASt1D,EAAUs1D,GACvC6lD,EAAO7qH,EAAKglE,QAAU6lD,EAAO7lD,GACxB7lE,EAASJ,KAAKiB,EAAKrH,OAEnBwG,EAASJ,KAAKiB,EAAKrH,MAAQkyH,EAAO7qH,EAAKglE,MAAQ6lD,EAAO7lD,IAGxD7lE,EAAS1B,MAEpB,EACIqtH,GAAmB,SAAUC,GAC/B,OAAO5rH,EAAS1B,MAClB,EAWIutH,GAAqB,SAAUC,EAAkBC,GACnD,IAAIC,EAAST,GAAUO,GAAkBpwG,aACrCuwG,EAASV,GAAUQ,GAAgBrwG,aACvC,OAAOtX,GAAM4nH,EAAQC,GAAQ,SAAUC,EAAOC,GAC5C,OAAOV,GAAYS,EAAOC,EAAMtmD,MAAMzmE,KAAI,SAAU0U,GAClD,OAAOq4G,EAAM3yH,MAAQsa,CACvB,IAAG1U,KAAI,SAAUsB,GACf,OAjBoB,SAAUujH,EAAOp+C,GACzC,OAAO,SAAUhlE,GACf,OAAO4qH,GAAY5qH,EAAMglE,GAAMzmE,KAAI,SAAU5F,GAC3C,MAAO,CACLA,MAAOA,EAAQyqH,EACfp+C,KAAMA,EAEV,GACF,CACF,CAQaumD,CAAoB1rH,EAAGyrH,EAAMtmD,KACtC,IAAGhnE,MAAM8sH,GACX,IAAG9sH,MAAM8sH,GACX,EAEIU,GAAkB,SAAU75F,EAAMq1D,GACpC,IAAIykC,EAAYX,GACZY,EAAal9F,GAAW,eACxBm9F,EAAW,SAAUl7C,GACvB,OAAOK,GAASL,EAAU,CACxB/qE,IAAK,OACLssB,QAAS,CACP,WACA,kBAAoBy+C,IAErBuW,EAAmBxuF,MACxB,EACIozH,EAAQ3B,GAAkBviG,MAAMkiG,KAAK,CACvCnlH,IAAK,CACHiB,IAAK,SACLssB,QAAS,CACP,WACA,aACA,oBACA,oBAEFC,WAAY,CAAE20D,MAAOI,EAAmBhzE,UAAU2d,EAAKtP,MAAMrkB,MAAM,4BAErE44B,WAAY,CACV+0F,EAAS,QACTA,EAAS,WAEXx8C,iBAAkBxrC,GAAS,CACzB4qB,GAAUv4B,OAAO,CACfk3B,SAAU,WACR,OAAOv7B,EAAKu7B,UAAY85B,EAAmBj5B,YAC7C,IAEFm2B,KACAsY,GAAYxmE,OAAO,CAAC,OAGpB61F,EAAY,SAAUj1F,GACxB,MAAO,CACLnyB,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,oBAEZ4E,WAAYA,EAEhB,EACIk1F,EAAe,SAAUC,GAC3B,OAAOjwB,GAAUp0E,MAAMlJ,MAAM,CAC3BkrC,QAASo1C,GACTD,aAAc,CAAC,iBACfH,gBAAiB/6D,GAAS,CACxB4qB,GAAUv4B,OAAO,CACfk3B,SAAU,WACR,OAAOv7B,EAAKu7B,UAAY85B,EAAmBj5B,YAC7C,IAEFm2B,KACAsY,GAAYxmE,OAAO,CAAC,GACpBA,GAAO,oBAAqB,CAC1BtK,GAAMjD,MAAW,SAAUtB,EAAWmb,GACpCtX,GAAS7D,EAAWukG,EAAY,CAAEK,SAAUA,GAC9C,IACArgG,GAAM7C,MAAU,SAAU1B,EAAWmb,GACnCtX,GAAS7D,EAAW+1E,GAAiB,CAAEhkG,KAAMy4B,EAAKz4B,MACpD,QAGJslG,eAAe,GAEnB,EACIrC,EAAW,SAAU95E,GACvB,MAAO,CACL5d,IAAK,CACHiB,IAAK,QACLssB,QAAS,CAAC,aACVsG,UAAW0uD,EAAmBhzE,UAAUqO,IAG9C,EACI2pG,EAAa/B,GAAkBviG,MAAM0iG,OAAOyB,EAAU,CACxD/vB,GAAUp0E,MAAMrF,MAAM85E,EAAS,UAC/B2vB,GAAa,MAEXG,EAAchC,GAAkBviG,MAAM4iG,OAAOuB,EAAU,CACzD/vB,GAAUp0E,MAAMrF,MAAM85E,EAAS,WAC/B2vB,GAAa,MAEf,OAAO7B,GAAkB3iE,OAAO,CAC9B7iD,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,oBAEZ4E,WAAY,CAAC,CACTnyB,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,+BAEZ4E,WAAY,CACVo1F,EACAC,EACAJ,EAAU,CACR1vB,EAAS,UACTyvB,OAIRzB,WAAY,QACZE,WAAY,SACZN,QAAQ,EACR7kD,QAAS,CAAE8kD,UAAW,cACtBH,eAAgB,SAAUvgH,EAAS6vG,EAAO+S,GACxCxB,GAAU3lE,GAAahC,SAASz5C,IAAU9K,MAAK,SAAUwB,GACvDyrH,EAAUzrH,GAAMxB,MAAK,SAAU2tH,GAC7BpnE,GAAajC,SAASq2D,EAzMf,SAAUn5G,GACzB,IAc2BglE,EAdvBonD,EAAU,CACZ,GAAI,EACJ,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,GAAM,EACN,IAAO,EACP,GAAM,EACN,GAAM,EACN,IAAK,GAKHC,EAAUrsH,EAAKrH,MAAMkzC,SAHEm5B,EAGiBhlE,EAAKglE,QAFhConD,EAAUA,EAAQpnD,GAAQ,GAM3C,OAH8B,IAA1BqnD,EAAQtvH,QAAQ,OAClBsvH,EAAUA,EAAQhoH,QAAQ,SAAU,KAE/BgoH,EAAUrsH,EAAKglE,IACxB,CAkLuCsnD,CAAWH,GAC1C,GACF,GACF,EACAjC,uBAAwBvmF,GAAS,CAC/B4qB,GAAUv4B,OAAO,CACfk3B,SAAU,WACR,OAAOv7B,EAAKu7B,UAAY85B,EAAmBj5B,YAC7C,EACAF,WAAY,SAAU38B,GACpB+4F,GAAkBM,UAAUr5F,GAAMzyB,KAAKq9F,GAAUI,UAAU19F,KAAK+vD,GAAUH,SAC1E67D,GAAkBO,UAAUt5F,GAAMzyB,KAAKq9F,GAAUI,UAAU19F,KAAK+vD,GAAUH,SAC1E67D,GAAkBQ,QAAQv5F,GAAM1yB,KAAK+vD,GAAUH,QACjD,EACAN,UAAW,SAAU58B,GACnB+4F,GAAkBM,UAAUr5F,GAAMzyB,KAAKq9F,GAAUI,UAAU19F,KAAK+vD,GAAUJ,QAC1E87D,GAAkBO,UAAUt5F,GAAMzyB,KAAKq9F,GAAUI,UAAU19F,KAAK+vD,GAAUJ,QAC1E87D,GAAkBQ,QAAQv5F,GAAM1yB,KAAK+vD,GAAUJ,OACjD,IAEF+1B,KACAluD,GAAO,qBAAsB,CAACtK,GAAMggG,GAAY,SAAUvkG,EAAWC,GACjE,IAAI2kG,EAAW3kG,EAAe/R,MAAM02G,SAChCQ,EAAaR,EAAW9B,GAAkBM,UAAUpjG,GAAa8iG,GAAkBO,UAAUrjG,GAC7FqlG,EAAWT,EAAW9B,GAAkBO,UAAUrjG,GAAa8iG,GAAkBM,UAAUpjG,GAC3FslG,EAASF,EAAWhuH,IAAIwmD,GAAahC,UAAU/kD,MAAM,IACrD0uH,EAASF,EAASjuH,IAAIwmD,GAAahC,UAAU/kD,MAAM,IACvDytH,EAAYT,GAAmByB,EAAQC,EACzC,SAGR,EAWIC,GAAW,CACbC,KAVS7xH,EAAWyzB,GAAW,SAW/Bq+F,KAVS9xH,EAAWyzB,GAAW,SAW/Bs+F,KAVS/xH,EAAWyzB,GAAW,SAW/Bu+F,KAVShyH,EAAWyzB,GAAW,SAW/B1zB,MAVUC,EAAWyzB,GAAW,UAWhCw+F,KAVSjyH,EAAWyzB,GAAW,SAW/BzH,UAVgBhsB,EAAWyzB,GAAW,cAWtCy+F,cAVkBlyH,EAAWyzB,GAAW,mBAWxC0+F,eAVmBnyH,EAAWyzB,GAAW,qBAYvC2+F,GAAYpyH,EAAW,cACvBqzD,GAAUrzD,EAAW,WACrBozD,GAASpzD,EAAW,UACpBosD,GAAW,CACbk2C,gBAAiBA,GACjB8vB,UAAWA,GACX/+D,QAASA,GACTD,OAAQA,IAGNi/D,GAAkB,SAAUC,EAAYrmC,GAC1C,IAAIsmC,EAAe,SAAU1nH,EAAMgmB,EAAQshC,EAAUyZ,GACnD,OAAO2I,GAAOu5C,GAAa,CACzB3vH,KAAM0M,EACNA,KAAMA,EACNsnD,SAAUA,EACVyZ,QAASA,EACToL,KAAM5yE,EAAS1B,OACfmrH,YAAY,GACXh9F,EAAQo7D,GACb,EACIumC,EAAmB,SAAUx7C,EAAMqO,EAASx0D,EAAQshC,GACtD,OAAOoiB,GAAOk5C,GAAiB,CAC7BtvH,KAAM64E,EACNA,KAAM5yE,EAASJ,KAAKgzE,GACpBqO,QAASjhF,EAASJ,KAAKqhF,GACvBlzB,SAAUA,EACVyZ,SAAS,EACTiiD,YAAY,GACXh9F,EAAQo7D,GACb,EACIwmC,EAAuB,SAAU1Z,EAAO2Z,GAC1C3Z,EAAMv1G,KAAI,SAAU85G,GAClB,IAAIlxF,EAAYkxF,EAAIxlG,IAAI46G,GACpBtmG,EAAUsR,cAAc81B,KAC1BA,GAAUH,QAAQjnC,EAEtB,GACF,EACIumG,EAAsB,SAAU5Z,EAAO2Z,GACzC3Z,EAAMv1G,KAAI,SAAU85G,GAClB,IAAIlxF,EAAYkxF,EAAIxlG,IAAI46G,GACpBtmG,EAAUsR,cAAc81B,KAC1BA,GAAUJ,OAAOhnC,EAErB,GACF,EACIwmG,EAAW,CACbjoH,IAAK,MACLssB,QAAS,CACP,2BACA,+BAGA47F,EAASrzH,EACTszH,EAAS,SAAU38F,EAAM7b,EAAO8V,GAClCH,GAASkG,EAAM7b,EAAO8V,EACxB,EACI2iG,EAAc,SAAU3mG,GAC1B,OAAO2D,GAAK3D,EAAWggC,GAASiH,UAClC,EACI2/D,EAAa,SAAU5mG,GACzB,OAAO2D,GAAK3D,EAAWggC,GAASgH,SAClC,EACI6/D,EAAgB,SAAU98F,EAAMnK,GAClC+mG,EAAY58F,GACZ28F,EAAO38F,EAAMy7F,GAAS5lG,YAAa,CAAEA,UAAWA,IAChDgnG,EAAW78F,EACb,EAMI+8F,EAAc,SAAUz+C,GAC1B,OAAO,WACL0+C,GAAaj9G,OAAOu+D,GAAahxE,MAAK,SAAUuvB,GAC9CyyC,GAAUrtD,IAAI4a,EAAW,CAACogG,GAC5B,GACF,CACF,EACIC,EAAqB,SAAUl9F,EAAMnK,GACvC+mG,EAAY58F,GACZ28F,EAAO38F,EAAMy7F,GAASO,iBAAkB,CACtCnmG,UAAWA,EACXimG,KAAMiB,EAAY/8F,KAEpB68F,EAAW78F,EACb,EACIm9F,EAAmB,WACrB,OAAOf,EAAa,QAAQ,SAAUgB,GACpC,OAAOT,EAAOS,EAAQ3B,GAASI,OAAQ,CAAEC,KAAMiB,EAAYK,IAC7D,IAAG,GAAO,EACZ,EACIC,EAAe,WACjB,OAAOj/C,GAAO,CACZ7qE,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,eAEZQ,WAAYmR,GAAS,CAAC4qB,GAAUv4B,OAAO,CAAC,MAE5C,EACIw4F,EAAoB,WACtB,OAAOlB,EAAa,SAAS,SAAUgB,GACrC,OAAOT,EAAOS,EAAQ3B,GAAS7xH,QAAS,CAAEkyH,KAAMiB,EAAYK,IAC9D,IAAG,GAAM,EACX,EAOIG,EAAsB,CACxBJ,IACAE,IACAjB,EAAa,SAAS,SAAUgB,GAC9B,IAAIvnG,EATC,SAAU44F,GACf,IAAI15E,EAAOonF,EAAWqB,UACtB,OAAOtJ,GAAKzF,EAAI15E,EAAKrtC,EAAGqtC,EAAKjgC,EAAGigC,EAAKhsB,EAAGgsB,EAAK7yB,EAC/C,EAOEg7G,EAAmBE,EAAQvnG,GAC3BsmG,EAAWsB,UACb,IAAG,GAAO,IAERC,EAAY7zB,GAAUzzC,OAAO,CAC/B7iD,IAAKkpH,EACL/2F,WAAY63F,EAAoBlwH,KAAI,SAAU85G,GAC5C,OAAOA,EAAI5oC,QACb,IACAwrB,oBAAqBt3D,GAAS,CAAC3N,GAAO,kCAAmC,CACrEtK,GAAMy7B,GAASiH,WAAW,SAAUl9B,EAAMgyB,GACxCsqE,EAAqBiB,EAAqBv9F,EAC5C,IACAxF,GAAMy7B,GAASgH,UAAU,SAAUj9B,EAAMgyB,GACvCwqE,EAAoBe,EAAqBv9F,EAC3C,UAGF29F,EAAUv/C,GAAOk8C,GAAgB,CACnCtyH,KAAM,OACNmpB,MAAOljB,EAAS1B,OAChBqxH,WAAW,EACX5hE,UAAU,GACT85B,IAMC+nC,EAAwB,CAC1BV,IACAE,IACAM,EACAN,IACAjB,EAAa,SAAS,SAAUgB,GAC9BO,EAAQ59G,OAAOq9G,GAAQ9vH,MAAK,SAAUwwH,GACpC,IAAIr2H,EAAQosD,GAAahC,SAASisE,GAG9BjoG,EAfgB,SAAU9O,EAAOvE,GACzC,OAAO,SAAUisG,GACf,OAAO2F,GAAS3F,EAAI1nG,EAAOvE,EAC7B,CACF,CAWsBu7G,CAFJpjH,SAASlT,EAAMsf,MAAO,IACrBpM,SAASlT,EAAM+a,OAAQ,KAEpC06G,EAAmBE,EAAQvnG,EAC7B,GACF,IAAG,GAAO,IAERmoG,EAAcn0B,GAAUzzC,OAAO,CACjC7iD,IAAKkpH,EACL/2F,WAAYm4F,EAAsBxwH,KAAI,SAAU85G,GAC9C,OAAOA,EAAI5oC,QACb,IACAwrB,oBAAqBt3D,GAAS,CAAC3N,GAAO,oCAAqC,CACvEtK,GAAMy7B,GAASiH,WAAW,SAAUl9B,EAAMgyB,GACxCsqE,EAAqBuB,EAAuB79F,EAC9C,IACAxF,GAAMy7B,GAASgH,UAAU,SAAUj9B,EAAMgyB,GACvCwqE,EAAoBqB,EAAuB79F,EAC7C,UAGFi+F,EAAqB,SAAUpoG,EAAWpuB,GAC5C,OAAO,SAAUgnH,GACf,OAAO54F,EAAU44F,EAAIhnH,EACvB,CACF,EACIy2H,EAAiBD,EAAmBjK,GAAM,KAC1CmK,EAAeF,EAAmBjK,GAAM,KACxCoK,EAAyBH,EAAmBzK,IAAS,IACrD6K,EAAkBJ,EAAmBzK,GAAQ,IAC7C8K,EAAqB,SAAUt+F,EAAMu+F,IArHjB,SAAUv+F,EAAMnK,GACtC+mG,EAAY58F,GACZ28F,EAAO38F,EAAMy7F,GAASM,gBAAiB,CAAElmG,UAAWA,IACpDgnG,EAAW78F,EACb,CAkHEw+F,CAAkBx+F,EAAMu+F,EAC1B,EACIE,EAAuB,CACzBtB,IACAE,IACAhB,EAAiB,oBAAqB,qBAAqB,SAAUe,GACnEkB,EAAmBlB,EAAQc,EAC7B,IAAG,GACH7B,EAAiB,kBAAmB,mBAAmB,SAAUe,GAC/DkB,EAAmBlB,EAAQe,EAC7B,IAAG,GACH9B,EAAiB,cAAe,2BAA2B,SAAUe,GACnEkB,EAAmBlB,EAAQgB,EAC7B,IAAG,GACH/B,EAAiB,eAAgB,oBAAoB,SAAUe,GAC7DkB,EAAmBlB,EAAQiB,EAC7B,IAAG,GACHhB,IACAC,KAEEoB,EAAkB70B,GAAUzzC,OAAO,CACrC7iD,IAAKkpH,EACL/2F,WAAY+4F,EAAqBpxH,KAAI,SAAU85G,GAC7C,OAAOA,EAAI5oC,QACb,IACAwrB,oBAAqBt3D,GAAS,CAAC3N,GAAO,wCAAyC,CAC3EtK,GAAMy7B,GAASiH,WAAW,SAAUl9B,EAAMgyB,GACxCsqE,EAAqBmC,EAAsBz+F,EAC7C,IACAxF,GAAMy7B,GAASgH,UAAU,SAAUj9B,EAAMgyB,GACvCwqE,EAAoBiC,EAAsBz+F,EAC5C,UAGF2+F,EAAa,SAAUxtG,EAAOovF,EAAUhyE,EAAK9mC,EAAO2a,GACtD,IAAI80F,EAAYgJ,GAAO1pF,MAAMrF,MAAM,CACjC5d,IAAK,CACHiB,IAAK,QACLssB,QAAS,CAAC,aACVsG,UAAW0uD,EAAmBhzE,UAAUqO,MAGxCgnF,EAAW+H,GAAO1pF,MAAM2hF,SAAS,CACnC5kG,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,oBACVC,WAAY,CAAE2zC,KAAM,mBAGpBypC,EAAQ+B,GAAO1pF,MAAM2nF,MAAM,CAC7B5qG,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,sBACVC,WAAY,CAAE2zC,KAAM,mBAGxB,OAAO0J,GAAO8hC,GAAO9pD,OAAO,CAC1B7iD,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,cACVC,WAAY,CAAE2zC,KAAM,iBAEtB0iC,MAAO,CACLh7D,KAAM,IACNu8D,KAAMpqE,EACNwJ,KAAM31B,EACNy+F,gBAAiBh3G,EAAW,CAAEnC,EAAGD,KAEnCi+B,WAAY,CACVwxE,EACAiB,EACAgG,GAEFuC,iBAAkBjuE,GAAS,CAAC49B,GAASvrC,OAAO,CAAC,KAC7Cy7E,SAAUA,IAEd,EACIqe,EAAqB,SAAUztG,EAAO0E,EAAW0Y,EAAK9mC,EAAO2a,GAK/D,OAAOu8G,EAAWxtG,GAJH,SAAU+rF,EAAQ2H,EAAQp9G,GACvC,IAAIo3H,EAAeZ,EAAmBpoG,EAAWpuB,EAAMC,EAAI,KAC3Do1H,EAAc5f,EAAQ2hB,EACxB,GACmCtwF,EAAK9mC,EAAO2a,EACjD,EAQI08G,EAA4B,SAAU3tG,EAAO0E,EAAW0Y,EAAK9mC,EAAO2a,GACtE,IAAI28G,EAR8B,SAAU5tG,EAAO0E,EAAW0Y,EAAK9mC,EAAO2a,GAC1E,MAAO,CACL+6G,IACAyB,EAAmBztG,EAAO0E,EAAW0Y,EAAK9mC,EAAO2a,GACjDk7G,IAEJ,CAE8B0B,CAA8B7tG,EAAO0E,EAAW0Y,EAAK9mC,EAAO2a,GACxF,OAAOynF,GAAUzzC,OAAO,CACtB7iD,IAAKkpH,EACL/2F,WAAYq5F,EAAsB1xH,KAAI,SAAU85G,GAC9C,OAAOA,EAAI5oC,QACb,IACAwrB,oBAAqBt3D,GAAS,CAAC3N,GAAO,0CAA2C,CAC7EtK,GAAMy7B,GAASiH,WAAW,SAAUl9B,EAAMgyB,GACxCsqE,EAAqByC,EAAuB/+F,EAC9C,IACAxF,GAAMy7B,GAASgH,UAAU,SAAUj9B,EAAMgyB,GACvCwqE,EAAoBuC,EAAuB/+F,EAC7C,SAGR,EACI++F,EAAwB,CAC1B5B,IACAE,IACAC,KAEE2B,EAAcp1B,GAAUzzC,OAAO,CACjC7iD,IAAKkpH,EACL/2F,WAAYq5F,EAAsB1xH,KAAI,SAAU85G,GAC9C,OAAOA,EAAI5oC,QACb,MAEE2gD,EAAkBJ,EAA0B,aAAc/kC,IAAa,IAAK,EAAG,KAC/EolC,EAAgBL,EAA0B,WAAY/K,IAAW,IAAK,EAAG,KACzEqL,EAAaN,EAA0B,QAAShL,IAAQ,IAAK,EAAG,KAChEuL,EAAqB,SAAUlmC,EAAKC,EAAOC,GAC7C,OAAO,SAAUo1B,GACf,OAxpCS,SAAUA,EAAI+C,EAASC,EAASC,GAC7C,OAAOH,GAAW9C,EAAI+C,EAASC,EAASC,EAC1C,CAspCa4N,CAAS7Q,EAAIt1B,EAAKC,EAAOC,EAClC,CACF,EACIkmC,EAAkB,SAAUpuG,GAiB9B,OAAOwtG,EAAWxtG,GAhBH,SAAU+rF,EAAQ2H,EAAQlW,GACvC,IAAI6wB,EAASC,EAAO1/G,OAAOm9F,GACvBwiB,EAAUC,EAAQ5/G,OAAOm9F,GACzB0iB,EAAWC,EAAS9/G,OAAOm9F,GAC/BsiB,EAAOlyH,MAAK,SAAU6rF,GACpBumC,EAAQpyH,MAAK,SAAU+rF,GACrBumC,EAAStyH,MAAK,SAAU8rF,GACtB,IAAIzqF,EAAIklD,GAAahC,SAASsnC,GAAKzxF,EAAI,IACnCqwD,EAAIlE,GAAahC,SAASunC,GAAO1xF,EAAI,IACrCsC,EAAI6pD,GAAahC,SAASwnC,GAAM3xF,EAAI,IACpCmuB,EAAYwpG,EAAmB1wH,EAAGopD,EAAG/tD,GACzC8yH,EAAc5f,EAAQrnF,EACxB,GACF,GACF,GACF,GACmC,EAAG,IAAK,IAC7C,EACI4pG,EAASF,EAAgB,KACzBM,EAAWN,EAAgB,KAC3BI,EAAUJ,EAAgB,KAC1BO,EAA0B,CAC5B3C,IACAsC,EACAI,EACAF,EACArC,KAEEyC,EAAgBl2B,GAAUzzC,OAAO,CACnC7iD,IAAKkpH,EACL/2F,WAAYo6F,EAAwBzyH,KAAI,SAAU85G,GAChD,OAAOA,EAAI5oC,QACb,MAEEyhD,EAAyB,SAAUC,EAAOpqG,EAAW28B,GACvD,OAAO,SAAU4qE,GAOfT,EAAOS,EAAQ3B,GAASK,OAAQ,CAC9BjmG,UAAWA,EACXimG,KARS,WACTkB,GAAaj9G,OAAOq9G,GAAQ9vH,MAAK,SAAUuvB,GACzCyyC,GAAUrtD,IAAI4a,EAAW,CAACojG,IAC1BztE,EAAO31B,EACT,GACF,GAKF,CACF,EAeIqjG,EAAmBjyH,EAASJ,KAAKgmH,IACjCsM,EAAkBlyH,EAASJ,KAAK+lH,IAChCwM,EAAwB,CAC1B/D,EAAiB,OAAQ,OAAQ2D,EAAuBtC,EAAWzvH,EAAS1B,QAjBxD,SAAU8zH,GAC9BlE,EAAWmE,UACb,KAewG,GACtGjE,EAAiB,SAAU,SAAU2D,EAAuBhC,EAAa/vH,EAAS1B,QAf5D,SAAU+xE,GAChCq/C,EAAQ59G,OAAOu+D,GAAahxE,MAAK,SAAUwwH,GACzC,IAAIyC,EAAepE,EAAWqE,kBAC1Bz5G,EAAQw5G,EAAax5G,MACrBvE,EAAS+9G,EAAa/9G,OAC1BqxC,GAAajC,SAASksE,EAAW,CAC/B/2G,MAAOA,EACPvE,OAAQA,GAEZ,GACF,KAKgH,GAC9G65G,EAAiB,cAAe,cAAe2D,EAAuBtB,EAAiBzwH,EAAS1B,OAAQmwH,IAAS,GACjHL,EAAiB,aAAc,aAAc2D,EAAuBd,EAAiBjxH,EAAS1B,OAAQmwH,IAAS,GAC/GL,EAAiB,UAAW,UAAW2D,EAAuBf,EAAaiB,EAAkBxD,IAAS,GACtGL,EAAiB,WAAY,WAAY2D,EAAuBb,EAAelxH,EAAS1B,OAAQmwH,IAAS,GACzGL,EAAiB,eAAgB,eAAgB2D,EAAuBD,EAAe9xH,EAAS1B,OAAQmwH,IAAS,GACjHL,EAAiB,QAAS,QAAS2D,EAAuBZ,EAAYnxH,EAAS1B,OAAQmwH,IAAS,GAChGL,EAAiB,SAAU,SAAU2D,EAAuBf,EAAakB,EAAiBzD,IAAS,IAEjGO,EAAcpzB,GAAUzzC,OAAO,CACjC7iD,IAAKkpH,EACL/2F,WAAY06F,EAAsB/yH,KAAI,SAAU85G,GAC9C,OAAOA,EAAI5oC,QACb,MAEE1hD,EAAYgtE,GAAUzzC,OAAO,CAC/B7iD,IAAK,CAAEiB,IAAK,OACZkxB,WAAY,CAACu3F,GACblzB,oBAAqBt3D,GAAS,CAAC68B,GAAUxqC,OAAO,CAAC,OAE/Ck4F,GAAe5+C,GAAOvhD,GAO1B,MAAO,CACLmgG,aAAcA,GACdyD,eARmB,SAAUniD,GAC7B,OAAO0+C,GAAaj9G,OAAOu+D,GAAajxE,KAAI,SAAUwvB,GACpD,IAAIojG,EAAQpjG,EAAU6I,aAAa,GACnC,OAAOu6F,EAAMv6F,aAAau6F,EAAMv6F,aAAat8B,OAAS,EACxD,GACF,EAKF,EAEIs3H,GAAWv5H,QAAQ4D,KAAKC,MAAMC,QAAQ,qBAEtC01H,GAAWx5H,QAAQ4D,KAAKC,MAAMC,QAAQ,2BAEtC21H,GAAWz5H,QAAQ4D,KAAKC,MAAMC,QAAQ,mBAoBtC41H,GAAsB,SAAUj1H,GAClC,GAJmB,SAAUA,GAC7B,OAAO/C,EAAc+C,EAAEk1H,eACzB,CAEMC,CAAen1H,GAEjB,IADA,IAAIgF,EAAO,8CAA8CgvB,MAAM,KACtD12B,EAAI,EAAGA,EAAI0H,EAAKxH,OAAQF,IAC/B0C,EAAEgF,EAAK1H,IAAM0C,EAAEk1H,eAAe,GAAGlwH,EAAK1H,GAG5C,EACA,SAAS83H,GAAY56H,EAAIs7E,GACvB,IAAIhnE,EAAI69B,EAAI0oF,EACRC,EAMAC,EACAC,EACAC,EAPAC,EAAe,GACfC,EAAgB,GAChBjiH,EAAmC,QAA5B5E,EAAKgnE,EAAS/6E,gBAA6B,IAAP+T,EAAgBA,EAAK/T,SAChEgtC,EAAgC,QAAxB4E,EAAKmpC,EAAS/tC,YAAyB,IAAP4E,EAAgBA,EAAKj5B,EAC7DkiH,EAAW5tH,GAAaF,QAAQ4L,GAIhCmiH,EAAgB7tH,GAAaF,QAAQigC,EAAK+tF,eAA0C,QAA1BT,EAAKv/C,EAASv8D,cAA2B,IAAP87G,EAAgBA,EAAK76H,IACjHwM,EAAQ,SAAUhH,GACpB,IAAIsY,EAAWtY,EAAEqV,IACb0gH,EAxCc,SAAUriH,GAC9B,IAAI8C,EAAMqF,KAAKrF,IACX1E,EAAkB4B,EAAI5B,gBACtBoB,EAAOQ,EAAIR,KACX8iH,EAAcx/G,EAAI1E,EAAgBkkH,YAAa9iH,EAAK8iH,aACpDt6G,EAAclF,EAAI1E,EAAgB4J,YAAaxI,EAAKwI,aACpD9F,EAAcY,EAAI1E,EAAgB8D,YAAa1C,EAAK0C,aACpDqgH,EAAez/G,EAAI1E,EAAgBmkH,aAAc/iH,EAAK+iH,cACtDt6G,EAAenF,EAAI1E,EAAgB6J,aAAczI,EAAKyI,cAE1D,MAAO,CACLR,MAAO66G,EAAcpgH,EAAc8F,EAAcs6G,EACjDp/G,OAAQq/G,EAHSz/G,EAAI1E,EAAgB+E,aAAc3D,EAAK2D,cAGlB8E,EAAes6G,EAEzD,CA0BkBC,CAAgBxiH,GAC9BuhH,GAAoB38G,GACpBtY,EAAE6Y,UACF08G,EAAaj9G,EAASk5G,OACtBgE,EAASl9G,EAAS69G,QAClBV,EAASn9G,EAAS89G,QAClB,IAAIC,EAASphH,GAAM4gH,EAAe,UAClCP,EAAettH,GAAaW,QAAQ,MAAO+K,GAC3CoB,GAAOwgH,EAAc,CACnB,SAAY,WACZ,IAAO,IACP,KAAQ,IACR,MAASS,EAAQ56G,MAAQ,KACzB,OAAU46G,EAAQn/G,OAAS,KAC3B,UAAW,aACX,QAAW,SACXy/G,OAAQA,IAEVr8G,GAASrG,GAAQiiH,GAAWN,GAC5BK,EAAcr7H,KAAKqH,GAAKi0H,EAAU,YAAaU,GAAO30H,GAAKi0H,EAAU,YAAaU,GAAO30H,GAAKi0H,EAAU,UAAWj9G,GAAOhX,GAAKi0H,EAAU,WAAYj9G,IACrJm9D,EAAS9uE,MAAMsR,EACjB,EACIg+G,EAAO,SAAUt2H,GACnB,IAAIsY,EAAWtY,EAAEqV,IAEjB,GADA4/G,GAAoB38G,GAChBA,EAASk5G,SAAW+D,EACtB,OAAO58G,EAAK3Y,GAEdsY,EAASi+G,OAASj+G,EAAS69G,QAAUX,EACrCl9G,EAASk+G,OAASl+G,EAAS89G,QAAUX,EACrCz1H,EAAE6Y,UACFi9D,EAASwgD,KAAKh+G,EAChB,EACIK,EAAO,SAAU3Y,GACnBi1H,GAAoBj1H,EAAEqV,KACtBjS,EAAOuyH,GAAe,SAAU31H,GAC9B,OAAOA,EAAEyZ,QACX,IACAk8G,EAAgB,GAChBj7G,GAAS46G,GACLx/C,EAASn9D,MACXm9D,EAASn9D,KAAK3Y,EAAEqV,IAEpB,EAYA,OADAqgH,EAAap7H,KAAKqH,GAAKk0H,EAAe,YAAa7uH,GAAQrF,GAAKk0H,EAAe,aAAc7uH,IACtF,CAAEinC,QAXK,WACZ7qC,EAAOuyH,EAAcj3H,OAAOg3H,IAAe,SAAU11H,GACnD,OAAOA,EAAEyZ,QACX,IACAk8G,EAAgB,GAChBD,EAAe,GACXz4H,EAAcq4H,IAChB56G,GAAS46G,EAEb,EAGF,CAEA,IAAIjtG,GAAQ,EAqSRouG,GApSW,SAAUC,EAAaC,EAAcC,EAAWC,EAAc/nG,GAC3E,IAAIgoG,EACAtlG,EAAS,GAETh3B,EAAK2M,YAAmBkhB,KACxB4I,EAAYjpB,GAAaF,QAAQ+uH,GACjCE,EAAU,CACZ,CACE36H,KAAM,OACN46H,KAAM,EACNC,KAAM,EACNV,OAAQ,EACRC,OAAQ,EACRU,OAAQ,EACRC,OAAQ,EACR5xG,MAAO,aAET,CACEnpB,KAAM,KACN46H,KAAM,EACNC,KAAM,EACNV,OAAQ,EACRC,OAAQ,EACRU,QAAS,EACTC,QAAS,EACT5xG,MAAO,wBAET,CACEnpB,KAAM,KACN46H,KAAM,EACNC,KAAM,EACNV,OAAQ,EACRC,OAAQ,EACRU,OAAQ,EACRC,QAAS,EACT5xG,MAAO,yBAET,CACEnpB,KAAM,KACN46H,KAAM,EACNC,KAAM,EACNV,OAAQ,EACRC,OAAQ,EACRU,QAAS,EACTC,OAAQ,EACR5xG,MAAO,2BAET,CACEnpB,KAAM,KACN46H,KAAM,EACNC,KAAM,EACNV,OAAQ,EACRC,OAAQ,EACRU,OAAQ,EACRC,OAAQ,EACR5xG,MAAO,6BAGP6xG,EAAW,CACb,MACA,QACA,SACA,QAUEC,EAAkB,SAAUC,EAAWC,GACzC,MAAO,CACLz7H,EAAGy7H,EAAUz7H,EAAIw7H,EAAUx7H,EAC3BoN,EAAGquH,EAAUruH,EAAIouH,EAAUpuH,EAC3BiU,EAAGo6G,EAAUp6G,EACb7G,EAAGihH,EAAUjhH,EAEjB,EAIIkhH,EAAW,SAAUj+G,EAAQk+G,EAAWlB,EAAQC,GAClD,IAAI16H,EAAI27H,EAAU37H,EAAIy6H,EAASh9G,EAAOg9G,OAClCrtH,EAAIuuH,EAAUvuH,EAAIstH,EAASj9G,EAAOi9G,OAClCr5G,EAAItB,KAAKrF,IAAI,GAAIihH,EAAUt6G,EAAIo5G,EAASh9G,EAAO29G,QAC/C5gH,EAAIuF,KAAKrF,IAAI,GAAIihH,EAAUnhH,EAAIkgH,EAASj9G,EAAO49G,QAC/ChuF,EAAOutF,EAAc5B,GAASzS,MAAM,CACtCvmH,EAAGA,EACHoN,EAAGA,EACHiU,EAAGA,EACH7G,EAAGA,GACFsgH,EAA2B,SAAhBr9G,EAAOnd,MACrB+sC,EAAOkuF,EAAgBT,EAAWztF,GAClCuuF,EAAS5oC,KAAK,aAAc,CAAE3lD,KAAMA,IACpCwuF,EAAaxuF,EACf,EAiHIyuF,EAAU,SAAUzuF,GACtB,IAAI0uF,EAAoB,SAAUz7H,EAAM07H,GACtCt6F,GAAWvM,EAAW,IAAMz2B,EAAK,IAAM4B,GAAMsF,MAAK,SAAU82E,GAC1D1jE,GAAO0jE,EAAK,CACVjyE,KAAMuxH,EAAQh8H,EAAI,KAClBmb,IAAK6gH,EAAQ5uH,EAAI,KACjBiS,MAAOU,KAAKrF,IAAI,EAAGshH,EAAQ36G,GAAK,KAChCvG,OAAQiF,KAAKrF,IAAI,EAAGshH,EAAQxhH,GAAK,MAErC,GACF,EACAlT,EAAO2zH,GAAS,SAAUx9G,GACxBikB,GAAWvM,EAAW,IAAMz2B,EAAK,IAAM+e,EAAOnd,MAAMsF,MAAK,SAAU82E,GACjE1jE,GAAO0jE,EAAK,CACVjyE,KAAM4iC,EAAKhsB,EAAI5D,EAAOy9G,KAAO7tF,EAAKrtC,EAAI,KACtCmb,IAAKkyB,EAAK7yB,EAAIiD,EAAO09G,KAAO9tF,EAAKjgC,EAAI,MAEzC,GACF,IACA2uH,EAAkB,MAAO,CACvB/7H,EAAG66H,EAAa76H,EAChBoN,EAAGytH,EAAaztH,EAChBiU,EAAGw5G,EAAax5G,EAChB7G,EAAG6yB,EAAKjgC,EAAIytH,EAAaztH,IAE3B2uH,EAAkB,QAAS,CACzB/7H,EAAGqtC,EAAKrtC,EAAIqtC,EAAKhsB,EACjBjU,EAAGigC,EAAKjgC,EACRiU,EAAGw5G,EAAax5G,EAAIgsB,EAAKrtC,EAAIqtC,EAAKhsB,EAAIw5G,EAAa76H,EACnDwa,EAAG6yB,EAAK7yB,IAEVuhH,EAAkB,SAAU,CAC1B/7H,EAAG66H,EAAa76H,EAChBoN,EAAGigC,EAAKjgC,EAAIigC,EAAK7yB,EACjB6G,EAAGw5G,EAAax5G,EAChB7G,EAAGqgH,EAAargH,EAAI6yB,EAAKjgC,EAAIigC,EAAK7yB,EAAIqgH,EAAaztH,IAErD2uH,EAAkB,OAAQ,CACxB/7H,EAAG66H,EAAa76H,EAChBoN,EAAGigC,EAAKjgC,EACRiU,EAAGgsB,EAAKrtC,EAAI66H,EAAa76H,EACzBwa,EAAG6yB,EAAK7yB,IAEVuhH,EAAkB,OAAQ1uF,EAC5B,EACI4uF,EAAU,SAAU5uF,GAEtByuF,EADAlB,EAAcvtF,EAEhB,EAKIwuF,EAAe,SAAUxuF,GAvMP,IAAUmuF,EAAWU,EAwMzCD,GAxM8BT,EAwMNV,EAvMjB,CACL96H,GAFuCk8H,EAwMN7uF,GAtMjBrtC,EAAIw7H,EAAUx7H,EAC9BoN,EAAG8uH,EAAa9uH,EAAIouH,EAAUpuH,EAC9BiU,EAAG66G,EAAa76G,EAChB7G,EAAG0hH,EAAa1hH,IAoMpB,GAvKa,WACX,IAcI2hH,EAAgBjwH,GAAaW,QAAQ,OACzCoL,GAASkkH,EAAe,CACtBz9H,GAAIA,EACJ,MAAS2M,yBACT,KAAQ,OACR,kBAAmB,YAErB6S,GAASiX,EAAWgnG,GACpB70H,EAAOg0H,GAAU,SAAUc,GACzB16F,GAAWvM,EAAW,IAAMz2B,GAAIkH,MAAK,SAAUy2H,GAC7C,IAAIC,EAAcpwH,GAAaW,QAAQ,OACvCoL,GAASqkH,EAAa,CACpB,GAAM59H,EAAK,IAAM09H,EACjB,MAAS/wH,qBACT,iBAAkB,QAEpB0N,GAAMujH,EAAa,UAAW,QAC9Bp+G,GAASm+G,EAAYC,EACvB,GACF,IACAh1H,EAAO2zH,GAAS,SAAUx9G,GACxBikB,GAAWvM,EAAW,IAAMz2B,GAAIkH,MAAK,SAAU22H,GAC7C,IAAIC,EAAatwH,GAAaW,QAAQ,OACtCoL,GAASukH,EAAY,CACnB,GAAM99H,EAAK,IAAM+e,EAAOnd,KACxB,aAAcmd,EAAOgM,MACrB,eAAgB,QAChB,iBAAkB,MAClB,KAAQ,WACR,SAAY,KACZ,MAAShM,EAAOgM,QAElBiT,GAAM8/F,EAAY,CAChBnxH,sBACAA,uBAA8BoS,EAAOnd,OAEvCyY,GAAMyjH,EAAY,UAAW,QAC7Bt+G,GAASq+G,EAAWC,EACtB,GACF,IACAxB,EAAc3zH,EAAM4zH,GAtDG,SAAUx9G,GAC/B,IAAIk+G,EACJ,OAAOrC,GAAW56H,EAAI,CACpBO,SAAU87H,EAAallH,cACvBo2B,KAAMh1B,GAAYke,GAAWtpB,IAC7B4R,OAAQ/e,EAAK,IAAM+e,EAAOnd,KAC1B4K,MAAO,WACLywH,EAAYf,CACd,EACAJ,KAAM,SAAUt2H,GACdw3H,EAASj+G,EAAQk+G,EAAWz3H,EAAEu2H,OAAQv2H,EAAEw2H,OAC1C,GAEJ,IA0CAoB,EAAQlB,GACR,IAAI6B,EAAc,SAAUv4H,GAC1B8T,GAAM9T,EAAE2L,OAAQ,eAA+B,UAAf3L,EAAEqV,IAAIzZ,KAAmB,OAAS,QACpE,EAkCA41B,EAAOl3B,KAAKqH,GAAKsvB,EAAW,UAAWsnG,GAAc52H,GAAKsvB,EAAW,WAAYsnG,GAAc52H,GAAKsvB,EAAW,WAjC3F,SAAUjxB,GAC5B,IAAIw4H,EACJp1H,EAAO2zH,GAAS,SAAUx9G,GACxB,GAAItF,GAAMjU,EAAE2L,OAAQ,QAAUnR,EAAK,IAAM+e,EAAOnd,KAE9C,OADAo8H,EAAej/G,GACR,CAEX,IACA,IAAIk/G,EAAe,SAAU9rB,EAAKpzF,EAAQk+G,EAAWlB,EAAQC,GAC3D7pB,EAAI/zF,kBACJ+zF,EAAI7zF,iBACJ0+G,EAASgB,EAAcf,EAAWlB,EAAQC,EAC5C,EACA,OAAQx2H,EAAEqV,IAAIqjH,SACd,KAAK1D,GAAS9gE,KACZukE,EAAaz4H,EAAGw4H,EAAc9B,GAAc,GAAI,GAChD,MACF,KAAK1B,GAAS5gE,MACZqkE,EAAaz4H,EAAGw4H,EAAc9B,EAAa,GAAI,GAC/C,MACF,KAAK1B,GAAS7gE,GACZskE,EAAaz4H,EAAGw4H,EAAc9B,EAAa,GAAI,IAC/C,MACF,KAAK1B,GAAS3gE,KACZokE,EAAaz4H,EAAGw4H,EAAc9B,EAAa,EAAG,IAC9C,MACF,KAAK1B,GAASjhE,MACd,KAAKihE,GAAS2D,SACZ34H,EAAE6Y,UACFiW,IAGJ,IAEF,CAwFAmoE,GACA,IAAIygC,EAAWp4H,EAASA,EAAS,CAAC,EAAGy1H,IAAW,CAC9C6D,iBAzFqB,SAAUz/F,GAC/B,IAAIwmC,EAAYv/D,EAAcA,EAAc,GAAI+C,EAAM4zH,GAAS,SAAUx9G,GACvE,MAAO,IAAM/e,EAAK,IAAM+e,EAAOnd,IACjC,KAAI,GAAO+G,EAAMi0H,GAAU,SAAUc,GACnC,MAAO,IAAM19H,EAAK,IAAM09H,CAC1B,KAAI,GAAMt1G,KAAK,KACXi2G,EAAQh9E,GAAY5qB,EAAW0uC,GAEjCv8D,EAAOy1H,EADL1/F,EACY,SAAUq/C,GACtB,OAAO9iE,GAAS8iE,EAAK,UACvB,EAEc,SAAUA,GACtB,OAAO3jE,GAAM2jE,EAAK,UAAW,OAC/B,EAEJ,EA0EEsgD,aAjBiB,SAAU3vF,GAC3BytF,EAAYztF,EACZyuF,EAAQlB,EACV,EAeEqB,QAASA,EACTgB,aA7MiB,WACjB,OAAO1B,EAAgBT,EAAWF,EACpC,EA4MEiB,aAAcA,EACdqB,gBA5BoB,SAAU7vF,GAC9BwtF,EAAextF,EACfyuF,EAAQlB,EACV,EA0BEzoF,QAlBY,WACZ7qC,EAAO0zH,GAAa,SAAUmC,GAC5B,OAAOA,EAAOhrF,SAChB,IACA6oF,EAAc,GACd1zH,EAAOouB,GAAQ,SAAUxxB,GACvB,OAAOA,EAAEyZ,QACX,IACA+X,EAAS,EACX,IAWA,OAAOkmG,CACT,EAgBIwB,GAAmB,SAAUC,GAC/B,IAt3cI59F,EAs3cA69F,EAAQ5mD,GAAO,CACjB7qE,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,6BACVC,WAAY,CAAE2zC,KAAM,mBAGpBuwD,EAAYvxG,GAAK,GACjBwxG,GA93cA/9F,EAAUyS,KAIP1uC,EAASA,EAAS,CAAC,EAAGi8B,GAAU,CAAE7Q,IAH/B,SAAU9rB,GAClB,OAAO28B,EAAQxlB,MAAMrU,KAAK9C,EAC5B,KA43cI26H,EAAYzxG,GAAK,CACnBhsB,EAAG,EACHoN,EAAG,EACHiU,EAAG,EACH7G,EAAG,IAEDkjH,EAAgB1xG,GAAK,CACvBhsB,EAAG,EACHoN,EAAG,EACHiU,EAAG,EACH7G,EAAG,IAEDmjH,EAAa,SAAU/mD,EAAagnD,GACtCtI,EAAaj9G,OAAOu+D,GAAahxE,MAAK,SAAU2yH,GAC9C,IAAIrE,EAAOqJ,EAAUtjH,MACjB4jH,EAASxhH,GAAMk8G,EAAM7qH,SACrBowH,EAAS9iH,GAAMu9G,EAAM7qH,SACrB2R,EAAQu+G,EAAI/xH,IAAIq3G,aAAegR,EAC/Bp5G,EAAS8iH,EAAI/xH,IAAIu3G,cAAgB8Q,EACjCzpH,EAAOsV,KAAKrF,IAAI,EAAGmjH,EAAS,EAAIx+G,EAAQ,GACxClE,EAAM4E,KAAKrF,IAAI,EAAGojH,EAAS,EAAIhjH,EAAS,GACxC7B,EAAM,CACRxO,KAAMA,EAAKvE,WAAa,KACxBiV,IAAKA,EAAIjV,WAAa,KACtBmZ,MAAOA,EAAMnZ,WAAa,KAC1B4U,OAAQA,EAAO5U,WAAa,KAC5Bqb,SAAU,YAEZvI,GAAO4kH,EAAK3kH,GACZqkH,EAAMjlH,OAAOkgH,GAAO3yH,MAAK,SAAUm4H,GACjC/kH,GAAO+kH,EAAGrwH,QAASuL,EACrB,IACAukH,EAAS5uG,KAAI,SAAUovG,GACrB,IAAI3wF,EAAOowF,EAAUxjH,MACrB+jH,EAAM/B,QAAQ,CACZj8H,EAAGqtC,EAAKrtC,EAAIk0H,EAAOzpH,EACnB2C,EAAGigC,EAAKjgC,EAAI8mH,EAAO/4G,EACnBkG,EAAGgsB,EAAKhsB,EAAI6yG,EACZ15G,EAAG6yB,EAAK7yB,EAAI05G,IAEd8J,EAAMhB,aAAa,CACjBh9H,EAAGyK,EACH2C,EAAG+N,EACHkG,EAAGhC,EACH7E,EAAGM,IAELkjH,EAAMd,gBAAgB,CACpBl9H,EAAG,EACHoN,EAAG,EACHiU,EAAGw8G,EACHrjH,EAAGsjH,GAEP,GACF,GACF,EAeIG,EAAY,SAAUrnD,EAAasnD,GACrC,IA7FsBjb,EA6FlB2a,EAAM1xH,GAAaW,QAAQ,OAE/B,OADAmL,GAAM4lH,EAAK,MAAOM,IA9FIjb,EA+FL2a,EAAI/xH,IA9FhB,IAAI+yE,IAAS,SAAUr7E,GAC5B,IAAI0hH,EAAS,WACXhC,EAAMrlG,oBAAoB,OAAQqnG,GAClC1hH,EAAQ0/G,EACV,EACIA,EAAM/iB,SACR38F,EAAQ0/G,GAERA,EAAMvlG,iBAAiB,OAAQunG,EAEnC,KAoF4B7kC,MAAK,WACzBxJ,EAAYpkD,YAAYiF,eAC1B69F,EAAaj9G,OAAOu+D,GAAajxE,KAAI,SAAU4yH,GAC7C,IAAI4F,EAAOv9F,GAAW,CAAElzB,QAASkwH,IACjCh2D,GAAUX,UAAUsxD,EAAO,EAAGhyH,EAASJ,KAAKg4H,IAC5C,IAAIC,EAAeV,EAAczjH,MAC7BokH,EAAW,CACbr+H,EAAG,EACHoN,EAAG,EACHiU,EAAGu8G,EAAI/xH,IAAIq3G,aACX1oG,EAAGojH,EAAI/xH,IAAIu3G,eAEbsa,EAAcnjH,IAAI8jH,GAClB,IAAIhxF,EAAO2rF,GAASsF,QAAQD,GAAW,IAAK,IAC5CZ,EAAUljH,IAAI8yB,GACV+wF,EAAa/8G,IAAMg9G,EAASh9G,GAAK+8G,EAAa5jH,IAAM6jH,EAAS7jH,GAhC3D,SAAUo8D,EAAagnD,GACnCtI,EAAaj9G,OAAOu+D,GAAahxE,MAAK,SAAU2yH,GAC9C,IAAIsF,EAASxhH,GAAMk8G,EAAM7qH,SACrBowH,EAAS9iH,GAAMu9G,EAAM7qH,SACrB2R,EAAQu+G,EAAI/xH,IAAIq3G,aAChBpoG,EAAS8iH,EAAI/xH,IAAIu3G,cACjB8Q,EAAOn0G,KAAK8mB,IAAIg3F,EAASx+G,EAAOy+G,EAAShjH,GACzCo5G,GAAQ,EACVqJ,EAAUhjH,IAAI,GAEdgjH,EAAUhjH,IAAI25G,EAElB,GACF,CAoBUqK,CAAQhG,EAAOqF,GAEjBD,EAAWpF,EAAOqF,EACpB,GAEJ,GACF,EAuBIzoG,EAAYgtE,GAAUzzC,OAAO,CAC/B7iD,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,2BAEZ4E,WAAY,CACVs/F,EAAMzmD,SACN,CACEhrE,IAAK,CACHiB,IAAK,MACLusB,WAAY,CAAE22D,IAAKqtC,KAGvB,CACExxH,IAAK,CAAEiB,IAAK,OACZ8sB,WAAYmR,GAAS,CAAC3N,GAAO,0BAA2B,CACpDnJ,IAAc,SAAUqE,GACtBg9F,EAAaj9G,OAAOigB,GAAM1yB,MAAK,SAAUuvB,GACvC,IAAIp2B,EAAKo2B,EAAUznB,QAAQ7B,IACvBmyH,EAAQrD,GAAgB,CAC1B36H,EAAG,GACHoN,EAAG,GACHiU,EAAG,IACH7G,EAAG,KACF,CACDxa,EAAG,EACHoN,EAAG,EACHiU,EAAG,IACH7G,EAAG,KACF,CACDxa,EAAG,EACHoN,EAAG,EACHiU,EAAG,IACH7G,EAAG,KACFzb,EAAI4C,GACPq8H,EAAMlB,kBAAiB,GACvBkB,EAAMxsF,GAAG,cAAc,SAAUttC,GAC/B,IAAImpC,EAAOnpC,EAAEmpC,KACT6mF,EAAOqJ,EAAUtjH,MACjB+hH,EAAU,CACZh8H,EAAG+f,KAAKizB,MAAM3F,EAAKrtC,EAAIk0H,GACvB9mH,EAAG2S,KAAKizB,MAAM3F,EAAKjgC,EAAI8mH,GACvB7yG,EAAGtB,KAAKizB,MAAM3F,EAAKhsB,EAAI6yG,GACvB15G,EAAGuF,KAAKizB,MAAM3F,EAAK7yB,EAAI05G,IAEzBuJ,EAAUljH,IAAIyhH,EAChB,IACAwB,EAASjjH,IAAIyjH,EACf,GACF,IACA9pG,IAAc,WACZspG,EAASxrF,OACX,UAIRqwD,oBAAqBt3D,GAAS,CAC5B68B,GAAUxqC,OAAO,CAAC,GAClBA,GAAO,qBAAsB,CAACnJ,IAAc,SAAUqE,GAClD2lG,EAAU3lG,EAAM+kG,EAClB,UAGF/H,EAAe5+C,GAAOvhD,GAQ1B,MAAO,CACLmgG,aAAcA,EACd2I,UAAWA,EACX/J,KAhGS,SAAUt9C,EAAaxxC,GAChC,IAAIo5F,EAAcjB,EAAUtjH,MACxBwkH,EAAUr5F,EAAY,EAAIrlB,KAAK8mB,IAAI,EAAG23F,EAAc,IAAOz+G,KAAKrF,IAAI,GAAK8jH,EAAc,IAC3FjB,EAAUhjH,IAAIkkH,GACdnJ,EAAaj9G,OAAOu+D,GAAahxE,MAAK,SAAU2yH,GAC9C,IAAIqF,EAAMrF,EAAMv6F,aAAa,GAAGtwB,QAChCiwH,EAAWpF,EAAOqF,EACpB,GACF,EAyFEhF,SAxFa,WACb4E,EAAS5uG,KAAI,SAAUovG,GACrBA,EAAMlB,kBAAiB,EACzB,GACF,EAqFE/G,SApFa,WACbyH,EAAS5uG,KAAI,SAAUovG,GACrBA,EAAMlB,kBAAiB,EACzB,GACF,EAiFEhH,QAhFY,WACZ,OAAO2H,EAAUxjH,KACnB,EA+EE6+G,gBAdoB,WACpB,IAAIuF,EAAWX,EAAczjH,MAC7B,MAAO,CACLoF,MAAOg/G,EAASh9G,EAChBvG,OAAQujH,EAAS7jH,EAErB,EAUF,EAEIk6G,GAAe,SAAUh1F,EAAWy5C,EAAM7kB,EAAUthC,EAAQo7D,GAC9D,OAAOwhC,GAAiB,CACtBtvH,KAAMo/B,EACNy5C,KAAM5yE,EAASJ,KAAKgzE,GACpB7kB,SAAUA,EACVkzB,QAASjhF,EAASJ,KAAKu5B,GACvBquC,SAAS,EACTiiD,YAAY,GACXh9F,EAAQo7D,EACb,EACIswC,GAAmB,SAAUhJ,EAAQiJ,GACnCA,EACFhpE,GAAUJ,OAAOmgE,GAEjB//D,GAAUH,QAAQkgE,EAEtB,EA8EA,IA+9KIkJ,GA/9KAC,GAAY,SAAUjlE,GACxB,IArCIrnC,EACAhc,EAmBAuoH,EAGAC,EAcAC,EAAYhzG,GAAK4tC,GACjBqlE,EAAY5sF,KACZ6sF,GAtCA3oH,GAAS,EAyBN,CACLgc,KA3BEA,EAAO,GA4BT5yB,IA1BQ,SAAU09B,GAClB,IAAI8hG,EAAU5sG,EAAKgiE,SAASh+E,GAE5B,OADAgc,EAAK/zB,KAAK6+B,GACH,CACLA,MAAOA,EACP8hG,QAASA,EAEb,EAoBEnL,KAnBS,WACT,GAAI8K,IACF,OAAOvsG,IAAOhc,EAElB,EAgBE09G,KAfS,WACT,GAAI8K,IACF,OAAOxsG,IAAOhc,EAElB,EAYEuoH,QAXEA,EAAU,WACZ,OAAOvoH,EAAQ,CACjB,EAUEwoH,QATEA,EAAU,WACZ,OAAkB,IAAXxoH,GAAgBA,EAAQgc,EAAK7wB,OAAS,CAC/C,IAeAw9H,EAAUv/H,IAAIi6D,GACd,IAGIwlE,EAAe,SAAU/hG,GAC3B2hG,EAAUzkH,IAAI8iB,EAChB,EAUIgiG,EAAc,SAAUliG,GAC1B,MAAO,CACLA,KAAMA,EACN+gG,IAAKnjI,IAAI+pH,gBAAgB3nF,GAE7B,EACImiG,EAAe,SAAUjiG,GAC3BtiC,IAAIqqH,gBAAgB/nF,EAAM6gG,IAC5B,EAIIqB,EAAmB,WACrBN,EAAUztF,GAAG8tF,GACbL,EAAUjtF,OACZ,EACIwtF,EAAe,SAAUriG,GAC3B,IAAIqnB,EAAW66E,EAAYliG,GAC3BiiG,EAAa56E,GACb,IAV4Bi7E,EAUxBN,EAAUD,EAAUv/H,IAAI6kD,GAAU26E,QAEtC,OAZ4BM,EAWdN,EAVdrf,GAASl6G,KAAK65H,EAAQH,GAWf96E,EAAS05E,GAClB,EA8BA,MAAO,CACLwB,aApEiB,WACjB,OAAOV,EAAU/kH,KACnB,EAmEEmlH,aAAcA,EACdI,aAAcA,EACdG,aAjEiB,WACjB,OAAOV,EAAUhlH,MAAM5U,WAAW25H,EAAU/kH,IAC9C,EAgEE2lH,gBA/DoB,SAAUziG,GAC9B,IAAI0iG,EAAeR,EAAYliG,GAG/B,OAFAoiG,IACAN,EAAU1kH,IAAIslH,GACPA,EAAa3B,GACtB,EA2DE4B,aAnCiB,SAAU3iG,GAC3B,IAAIqnB,EAAW66E,EAAYliG,GAE3B,OADA8hG,EAAU1kH,IAAIiqC,GACPA,EAAS05E,GAClB,EAgCE6B,eA/BmB,SAAUC,GAC7B,OAAOf,EAAUhlH,MAAMjV,KAAKrD,GAAM,SAAUs+H,GAC1CT,EAAaS,EAAK9iG,MAClB6iG,GACF,GACF,EA2BET,iBAAkBA,EAClBvL,KA3BS,WACT,IAAIkM,EAAehB,EAAUlL,OAE7B,OADAoL,EAAac,GACNA,EAAahC,GACtB,EAwBEjK,KAvBS,WACT,IAAIiM,EAAehB,EAAUjL,OAE7B,OADAmL,EAAac,GACNA,EAAahC,GACtB,EAoBEiC,iBAnBqB,WAGrB,MAAO,CACLC,YAHgBlB,EAAUJ,UAI1BuB,YAHgBnB,EAAUH,UAK9B,EAcF,EAEIuB,GAAmB,SAAUntG,EAAQi7D,GACvC,IAAI/wD,EAAQwhG,GAAU1rG,EAAO+sG,cAKzBK,EAAyB,SAAU3pD,GACrC,IAAI4pD,EAAgBnjG,EAAM8iG,mBAC1BM,EAAQF,uBAAuB3pD,EAAa4pD,EAAcJ,YAAaI,EAAcH,aACrFjuG,GAASwkD,EAAaroB,GAASk2C,gBAAiB,CAC9CnkG,KAAMiuD,GAASgmE,YACfx0H,MAAOygI,EAAcJ,aAEzB,EAkBIM,EAAoB,SAAU3Z,GAChC,OAAOA,EAAGrC,QACZ,EACIic,EAAQ,SAAU/pD,GACpBxkD,GAASwkD,EAAaroB,GAASk2C,gBAAiB,CAC9CnkG,KAAMiuD,GAASiH,UACfz1D,MAAO,CAAC,GAEZ,EACI6gI,EAAU,SAAUhqD,GACtBiqD,EAAU9H,eAAeniD,GAAahxE,MAAK,SAAUk7H,GACnDnrE,GAAUJ,OAAOurE,EACnB,IACA1uG,GAASwkD,EAAaroB,GAASk2C,gBAAiB,CAC9CnkG,KAAMiuD,GAASgH,SACfx1D,MAAO,CAAC,GAEZ,EACIk+H,EAAY,SAAUrnD,EAAaoZ,GAErC,OADA2wC,EAAM/pD,GACC69C,EAAWwJ,UAAUrnD,EAAaoZ,EAC3C,EACI+wC,EAAiB,SAAUnqD,EAAaz5C,EAAMn3B,EAAQgtB,EAAQohG,GAChEuM,EAAM/pD,GApnFc,SAAUz5C,GAChC,OAAO6oF,GAAS7oF,EAClB,CAmnFI6jG,CAAkB7jG,GAAMijD,KAAKp6E,GAAQo6E,KAAKsgD,GAAmBtgD,KAAKptD,GAAQotD,MAAK,SAAU89C,GACvF,OAAOD,EAAUrnD,EAAasnD,EAChC,IAAG99C,MAAK,WACNmgD,EAAuB3pD,GACvBw9C,IACAwM,EAAQhqD,EACV,IAAGqqD,OAAM,SAAUz+G,GACjB7V,QAAQigB,IAAIpK,GACRo0D,EAAYpkD,YAAYiF,eAC1BmpG,EAAQhqD,EAEZ,GACF,EACIsqD,EAAa,SAAUtqD,EAAa5wE,EAAQouH,GAC9C,IAAIj3F,EAAOE,EAAMqiG,eAAeviG,KAIhC4jG,EAAenqD,EAAaz5C,EAAMn3B,GAHrB,SAAUm3B,GACrB,OAAOE,EAAMuiG,gBAAgBziG,EAC/B,GACkDi3F,EACpD,EAyBImL,EAAmB,SAAU3oD,GAC/B,IAAIuqD,EAAa9jG,EAAMqiG,eAAexB,IAGtC,OAFA7gG,EAAMkiG,mBACNgB,EAAuB3pD,GAChBuqD,CACT,EAsBI1M,EAAa2I,GAAiBjqG,EAAO+sG,aAAahC,KAClDuC,EAnSc,SAAUryC,GAC5B,IAQIgzC,EAAU1qD,GAAOg+C,GAAa,OAAQ,QAAQ,GAAM,SAAUgB,GAChEtjG,GAASsjG,EAAQ3B,GAASC,OAAQ,CAAE5uF,UAAW,GACjD,GAAGgpD,IACCizC,EAAU3qD,GAAOg+C,GAAa,OAAQ,QAAQ,GAAM,SAAUgB,GAChEtjG,GAASsjG,EAAQ3B,GAASE,OAAQ,CAAE7uF,UAAW,GACjD,GAAGgpD,IACCj5D,EAAYgtE,GAAUzzC,OAAO,CAC/B7iD,IAAK,CACHiB,IAAK,MACLssB,QAAS,CACP,2BACA,6BAGJ4E,WAAY,CACVojG,EAAQvqD,SACRwqD,EAAQxqD,SACR69C,GAAa,UAAW,WAAW,GAAO,SAAUgB,GAClDtjG,GAASsjG,EAAQ3B,GAASG,OAAQ,CAAE9uF,UAAW,GACjD,GAAGgpD,GACHsmC,GAAa,WAAY,YAAY,GAAO,SAAUgB,GACpDtjG,GAASsjG,EAAQ3B,GAASG,OAAQ,CAAE9uF,WAAY,GAClD,GAAGgpD,MAGP,MAAO,CACLj5D,UAAWA,EACXorG,uBAnC2B,SAAU3pD,EAAawpD,EAAaC,GAC/De,EAAQ/oH,OAAOu+D,GAAahxE,MAAK,SAAUouH,GACzC0K,GAAiB1K,EAAMoM,EACzB,IACAiB,EAAQhpH,OAAOu+D,GAAahxE,MAAK,SAAUquH,GACzCyK,GAAiBzK,EAAMoM,EACzB,GACF,EA8BF,CA6PgBiB,CAAclzC,GACxByyC,EAAYrM,GAAgBC,EAAYrmC,GAW5C,MAAO,CACLviF,IAAK,CACHiB,IAAK,MACLusB,WAAY,CAAE2zC,KAAM,iBAEtBhvC,WAAY,CACV6iG,EAAUvL,aAAaz+C,SACvB49C,EAAWa,aAAaz+C,SACxB4pD,EAAQtrG,WAEVyE,WAAYmR,GAAS,CACnBohB,GAAa/uB,OAAO,CAClBsqB,MAAO,CACLhT,KAAM,SACNyV,SAAU,WACR,OAAO9sB,EAAMqiG,cACf,KAGJtiG,GAAO,qBAAsB,CAC3BtK,GAAMihG,GAASC,QA9IV,SAAUp9C,EAAaltC,GAChC,IAAIw0F,EAAM7gG,EAAM22F,OAChBiK,EAAUrnD,EAAasnD,GAAK99C,MAAK,SAAUmhD,GACzCX,EAAQhqD,GACR2pD,EAAuB3pD,EACzB,GACF,IAyIM9jD,GAAMihG,GAASE,QAxIV,SAAUr9C,EAAaltC,GAChC,IAAIw0F,EAAM7gG,EAAM42F,OAChBgK,EAAUrnD,EAAasnD,GAAK99C,MAAK,SAAUmhD,GACzCX,EAAQhqD,GACR2pD,EAAuB3pD,EACzB,GACF,IAmIM9jD,GAAMihG,GAASG,QA/JV,SAAUt9C,EAAapoD,GAChC,IAAI4W,EAAY5W,EAAe/R,MAAM2oB,UACrCqvF,EAAWP,KAAKt9C,EAAaxxC,EAC/B,IA6JMtS,GAAMihG,GAASI,QAnDV,SAAUv9C,EAAapoD,IANrB,SAAUooD,GACrB,IAAIuqD,EAAa5B,EAAiB3oD,GAClCqnD,EAAUrnD,EAAauqD,GAAY/gD,MAAK,SAAUmhD,GAChDX,EAAQhqD,EACV,GACF,CAEEgF,CAAOhF,IAEPw9C,EADW5lG,EAAe/R,MAAM23G,QAEhCK,EAAWsB,UACb,IA+CMjjG,GAAMihG,GAAS7xH,SAxET,SAAU00E,EAAapoD,GAMjC6O,EAAM0iG,gBALU,WACdR,EAAiB3oD,IAEjBw9C,EADW5lG,EAAe/R,MAAM23G,OAElC,GAEF,IAkEMthG,GAAMihG,GAAS5lG,aA/CL,SAAUyoD,EAAapoD,GACrC,OAAO0yG,EAAWtqD,EAAapoD,EAAe/R,MAAM0R,UAAWxsB,EACjE,IA8CMmxB,GAAMihG,GAASM,iBA7CD,SAAUz9C,EAAapoD,GACzC,OA9CmB,SAAUooD,EAAa5wE,GAC1C,IAAIm3B,EAAOE,EAAMsiG,eAAexiG,KAIhC4jG,EAAenqD,EAAaz5C,EAAMn3B,GAHrB,SAAUm3B,GACrB,OAAOE,EAAMyiG,aAAa3iG,EAC5B,GACkDx7B,EACpD,CAwCS6/H,CAAe5qD,EAAapoD,EAAe/R,MAAM0R,UAC1D,IA4CM2E,GAAMihG,GAASO,kBA3CA,SAAU19C,EAAapoD,GAC1C,OA1CoB,SAAUooD,EAAa5wE,EAAQouH,GACnD,IAAIj3F,EAAOE,EAAMqiG,eAAeviG,KAMhC4jG,EAAenqD,EAAaz5C,EAAMn3B,GALrB,SAAUm3B,GACrB,IAAI+gG,EAAM7gG,EAAMmiG,aAAariG,GAE7B,OADAoiG,EAAiB3oD,GACVsnD,CACT,GACkD9J,EACpD,CAkCSqN,CAAgB7qD,EAAapoD,EAAe/R,MAAM0R,UAAWK,EAAe/R,MAAM23G,KAC3F,IA0CMthG,GAAMihG,GAASK,QAtCV,SAAUx9C,EAAapoD,IAnHZ,SAAUooD,GAC9B6pD,EAAQF,uBAAuB3pD,GAAa,GAAO,EACrD,CAkHE8qD,CAAgB9qD,GAChB,IAAIzoD,EAAYK,EAAe/R,MAAM0R,UACjCimG,EAAO5lG,EAAe/R,MAAM23G,KAChCjmG,EAAUnpB,MAAK,WACbovH,GACF,IAAG,SAAUjmG,GACX+yG,EAAWtqD,EAAazoD,EAAWimG,EACrC,GACF,MA+BI5U,OAGN,EA0BImiB,GAAmB,SAAUjoH,GAC/B,OAAQtP,GAAMsP,EAAM,QACtB,EACIkoH,GAAgB,aAChBC,GAAa,SAAUC,EAAcxhI,EAAMyqD,EAAOg3E,GACpD,OAAO16H,EAAM0jD,GAAO,SAAUrxC,GAC5B,OAAKioH,GAAiBjoH,GASb,CACL5Z,KAAM,iBACNkN,KAAM0M,EAAK1M,KACXjN,MAAO2Z,EAAK3Z,MACZoqC,OAAQzwB,EAAK3Z,QAAUgiI,EACvBzoD,SAAU,WACRntB,GAAajC,SAAS43E,EAAcpoH,EAAK3Z,OACzCqyB,GAAS0vG,EAAcx9B,GAAiB,CAAEhkG,KAAMA,IAChDqoE,GAAS58B,MAAM+1F,EACjB,GAjBK,CACLhiI,KAAM,iBACNkN,KAAM0M,EAAK1M,KACXwqF,gBAAiB,WACf,OAAOqqC,GAAWC,EAAcxhI,EAAMoZ,EAAKqxC,MAAOg3E,EACpD,EAeN,GACF,EACIC,GAAkB,SAAUj3E,EAAOhrD,GACrC,OAAOiJ,GAAQ+hD,GAAO,SAAUrxC,GAC9B,OAAKioH,GAAiBjoH,GAGb5O,GAAO4O,EAAK3Z,QAAUA,EAAO2Z,GAF7BsoH,GAAgBtoH,EAAKqxC,MAAOhrD,EAIvC,GACF,EAoIIkiI,GAAan1E,GAAO,CACtBxsD,KAAM,aACNgzD,aAAc,CACZjpC,GAAW,WACXzE,GAAM,mBAAoB,CACxB+iD,GACAxc,KAEF5gC,GAAU,gBAAiB,IAC3BA,GAAU,mBAAoB,CAAC,GAC/BP,GAAO,SAET8lC,QAtDc,SAAU39B,EAAQy5C,GAChC,IAAIjuE,EAAU0I,EAAM8rB,EAAOx0B,SAAS,SAAUqsB,GAC5C,MAAO,CACLnf,IAAK,CACHiB,IAAK,SACL/M,MAAOirB,EAAOjrB,MACd2/B,UAAW1U,EAAOhe,MAGxB,IACIk1H,EAAgB/uG,EAAOZ,KAAK5sB,KAAI,SAAU6D,GAC5C,OAAO6jB,GAAO,eAAgB7jB,EAChC,IAAGpE,MAAM,CAAC,GACV,MAAO,CACLiuB,IAAKF,EAAOE,IACZxnB,IAAK,CACHiB,IAAK,SACLssB,QAASjG,EAAOgvG,cAChB9oG,WAAYlG,EAAOivG,kBAErBpkG,WAAYr/B,EACZi7B,WAAY8yB,GAAQv5B,EAAOkvG,iBAAkB,CAC3C15D,GAASvrC,OAAO,CAAC,GACjB+uB,GAAa/uB,OAAO,CAClBsqB,MAAOlkD,EAAS,CACdkxC,KAAM,SACNyV,SAAU,SAAU0sC,GAClB,OAAOj6D,GAAMi6D,EAAOnpF,QACtB,EACAw8C,SAAU,SAAU2sC,EAAQ3jD,GACdnrC,EAAOorB,EAAOx0B,SAAS,SAAU4jB,GAC3C,OAAOA,EAAIxiB,QAAUmzC,CACvB,IACUhuC,UACR23B,GAAMg6D,EAAOnpF,QAASwlC,EAE1B,GACCgvF,OAIX,IAyIInnB,GAAkB,SAAUhiF,EAAMq1D,GACpC,IAAI2V,EAAShrE,EAAKtP,MAAM9jB,KAAI,SAAU8jB,GACpC,OAAO46E,GAAc56E,EAAO2kE,EAC9B,IACIk0C,EAAsB,CACxB3sE,GAAUv4B,OAAO,CACfk3B,SAAU,WACR,OAAOv7B,EAAKu7B,UAAY85B,EAAmBj5B,YAC7C,IAEFm2B,KACAhlB,GAAOlpC,OAAO,CACZsX,KAAM,YACN2oB,UAA6B,IAAnBtkC,EAAKwpG,UACf9kE,iBAAoC,IAAnB1kC,EAAKwpG,UACtBxlE,QAAS,SAAUzkC,GAEjB,OADApG,GAAKoG,EAAMosE,IACJn+F,EAASJ,MAAK,EACvB,IAEFi3B,GAAO,mBAAoB,CACzBtK,GAAMjO,MAAS,SAAU0J,EAAWzM,GAClCsQ,GAAS7D,EAAW+1E,GAAiB,CAAEhkG,KAAMy4B,EAAKz4B,MACpD,IACAwyB,GAAMlC,MAAa,SAAUrC,EAAWzM,GACtCsQ,GAAS7D,EAAW+1E,GAAiB,CAAEhkG,KAAMy4B,EAAKz4B,MACpD,MAEFsjG,GAAYxmE,OAAO,CAAC,IAElBolG,EAAuBzpG,EAAKsyE,WAAW1lG,KAAI,SAAU88H,GACvD,OAAOr3B,GAAahuE,OAAO,CACzBogD,QAAS,SAAU34D,GACjB,OAAO3O,GAAO2O,EAAMnX,QACtB,EACAs8F,aAAc,cACd7kF,UAAW,CACTwlF,SAAU,SAAU9lF,GAClB,IAAIrb,EAAI2iD,GAAahC,SAAStlC,GAC1BoB,EAASw8G,EAAGt9G,UAAU3b,GAC1B,OAAOmgG,IAAuB,IAAX1jF,EAAkB5D,GAAOtiB,MAAMyJ,GAAK6Y,GAAOzV,MAAMqZ,GACtE,EACAilF,eAAgBu3B,EAAGv3B,iBAGzB,IAAGjlG,UACCooD,EAAct1B,EAAKs1B,YAAYrpD,KAAK7C,EAAW,CAAC,IAAI,SAAU0B,GAChE,MAAO,CAAEwqD,YAAa+/B,EAAmBhzE,UAAUvX,GACrD,IACI6+H,EAAY3pG,EAAK2pG,UAAU19H,KAAK7C,EAAW,CAAC,IAAI,SAAUuyC,GAC5D,MAAO,CAAEiuF,UAAWjuF,EACtB,IACIqxD,EAAkBviG,EAASA,EAAS,CAAC,EAAG6qD,GAAcq0E,GACtD1+B,EAASd,GAAUp0E,MAAMlJ,MAAM,CACjC9Y,KAAwB,IAAnBisB,EAAKwpG,UAAqB,WAAa,QAC5Cx8B,gBAAiBA,EACjBE,aAAc,CAACltE,EAAK6pG,WACpB98B,gBAAiB/6D,GAAS5iC,EAAQ,CAChCm6H,EACAE,KAEF58B,eAAe,EACf90C,QAASo1C,KAGP28B,GADe9pG,EAAK+pG,KAAO,CAAC,8BAAgC,IAC/BlgI,OAAOm2B,EAAKgqG,UAAY,CAAC,4BAA8B,IACpF7+B,EAAkB,CACpBvuC,GAAUv4B,OAAO,CACfk3B,SAAU,WACR,OAAOv7B,EAAKu7B,UAAY85B,EAAmBj5B,YAC7C,EACAF,WAAY,SAAU38B,GACpB4qE,GAAUI,SAAShrE,GAAM1yB,KAAK+vD,GAAUH,QAC1C,EACAN,UAAW,SAAU58B,GACnB4qE,GAAUI,SAAShrE,GAAM1yB,KAAK+vD,GAAUJ,OAC1C,IAEF+1B,MAEF,OAAOwY,GAAoBC,EAAQC,EAAQ6+B,EAAe3+B,EAC5D,EA6CI8+B,GAA+Bv/H,OAAO+c,OAAO,CAC7CC,UAAW,KACXiV,OAjBW,SAAUutG,EAAcC,GACrC,IACIC,EADUF,EAAaG,OAAOC,QACV1yD,MAAMsyD,EAAcC,GAC5C,OAAOvwG,GAAS,CACdG,GAAMmwG,EAAaxmH,MAAO0mH,GAC1BjvG,IAAc,WACZ,OAAOgvG,EAAYtnD,QACrB,KACAh5E,OAAOqgI,EAAaK,YAAY39H,KAAI,SAAUzB,GAC9C,MAAO,CAAC4uB,GAAM5uB,GAAG,WACb,OAAOg/H,EAAYtnD,QACrB,IACJ,IAAGx2E,MAAM,KACX,IAOIy2E,GAAW,SAAU0nD,GACvB,IAAIlmG,EAAQrR,GAAK,MAajB,OAAO6M,GAAK,CACVC,UAbc,WACd,MAAO,CAAEsa,MAAuB,OAAhB/V,EAAMpjB,MAAiB,MAAQ,QACjD,EAYEupH,SAXa,SAAUvjI,GACvBo9B,EAAM9iB,IAAIta,EACZ,EAUE27E,OATW,WACX,IAAI37E,EAAIo9B,EAAMpjB,MACJ,OAANha,GACFA,EAAE27E,QAEN,GAMF,EAKI6nD,GAA8BhgI,OAAO+c,OAAO,CAC5CC,UAAW,KACXo7D,SAAUA,GACVjjD,KAPS,SAAUG,GACrB,OAAOA,EAAKqqG,OAAOC,QAAQhmG,MAAMtE,EACnC,IAmBI2qG,GAAkB,CACpBp5G,GAAW,SAAUL,GAAS,OAAQ,CACpC4xD,SAAU,CACRxxD,GAAW,SACXkB,GAAU,aAAa,GACvBwZ,GAAS,UAAW,CAClB4rC,MAjBM,SAAUgzD,EAAYT,GAClC,IAAIU,EAAQD,EAAWP,OACnBS,EAAYniF,GAAKiiF,EAAWG,SAAUF,EAAM3vF,OAEhD,OADAivF,EAAYM,SAASK,GACd,SAAUt1G,EAAWC,GAC1Bq1G,EAAUhoD,SAASttD,EAAWC,GAC1Bo1G,EAAMG,WACRv1G,EAAe3R,MAEnB,CACF,EAQQwgB,MAAOw+C,SAIbtwD,GAAU,QAAS,SACnBP,GAAO,eACP6Z,GAAgB,aAGdm/F,GAAY94F,GAAS,CACvB1kB,OAAQk9G,GACRpjI,KAAM,YACN6pC,OAAQ64F,GACR3lG,MAAOomG,KAGLQ,GAAmB,SAAUv0B,EAAO7qF,EAAOnL,GAC7C,IAAIwqH,EAAW/3E,GAAahC,SAASzwC,GACrCyyC,GAAajC,SAASrlC,EAAOq/G,GAC7BC,GAAet/G,EACjB,EACIu/G,GAAiB,SAAUv/G,EAAO/hB,GACpC,IAAI/D,EAAK8lB,EAAMnX,QACX3N,EAAQ68B,GAAM79B,GACdkN,EAAOlN,EAAG8M,IACY,WAAtBsM,GAAMpZ,EAAI,SACZ+D,EAAEmJ,EAAMlM,EAEZ,EACIokI,GAAiB,SAAUt/G,GAC7Bu/G,GAAev/G,GAAO,SAAU5Y,EAAMlM,GACpC,OAAOkM,EAAK45F,kBAAkB9lG,EAAM2B,OAAQ3B,EAAM2B,OACpD,GACF,EAMI2iI,GAAoB,SAAU30B,EAAO7qF,EAAOnL,GAC9C,GAAKg2F,EAAM40B,YAEJ,CACL,IAAI/xB,EAAepmD,GAAahC,SAAStlC,GACrC0/G,EAAiB70B,EAAM80B,eAAejyB,GACtC1jC,EAAY1iB,GAAahC,SAASzwC,GAEtC,OAA+C,IAD7Bg2F,EAAM80B,eAAe31D,GACpB1qE,QAAQogI,GAAwBh+H,EAASJ,MAAK,WAC/D89H,GAAiBv0B,EAAO7qF,EAAOnL,GAdb,SAAUmL,EAAO85B,GACvCylF,GAAev/G,GAAO,SAAU5Y,EAAMlM,GACpC,OAAOkM,EAAK45F,kBAAkBlnD,EAAa5+C,EAAM2B,OACnD,GACF,CAWM+iI,CAAkB5/G,EAAO0/G,EAAe7iI,OAC1C,IAAK6E,EAAS1B,MAChB,CAVE,OAAO0B,EAAS1B,MAWpB,EAEI6/H,GAAcviI,EAAW,+BA+LzBwiI,GAAWxiI,EAAW,CACxB6oB,GAAO,YACPX,GAAW,SACXkB,GAAU,WAAY,GACtBA,GAAU,eAAgB,KAC1BoZ,GAAU,UACVpZ,GAAU,aAAchlB,EAASJ,MACjColB,GAAU,qBAAsBppB,EAAW,CAAC,IAC5CopB,GAAU,UAAWhlB,EAAS1B,QAC9B0mB,GAAU,aAAc,CAAC,GACzBQ,GAAe,QAAS,CAAC,EAAG,CAC1BR,GAAU,kBAAkB,SAAU24G,GACpC,YAAyB1kI,IAAlB0kI,EAAS94E,WAA6C5rD,IAAvB0kI,EAAS94E,KAAKp+C,KAAqBk3H,EAAS94E,KAAKp+C,KAAOk3H,EAASnkI,KACzG,IACAwrB,GAAU,eAAe,GACzBA,GAAU,sBAAsB,KAElCoZ,GAAU,cACVC,GAAkB,aAClBD,GAAU,iBACVpZ,GAAU,eAAgB,IAC1BA,GAAU,kBAAmB,CAAC,GAC9BA,GAAU,cAAe,CAAC,GAC1BA,GAAU,cAAc,GACxBA,GAAU,eAAe,GACzBA,GAAU,iBAAiB,GAC3B4Y,GAAU,CAAC,cACXnZ,GAAO,eACPpF,GAAM,sBAAuB,CAC3B+iD,GACAxc,GACA63E,GACA19D,GACA6D,GACA2hC,KAEF3hF,GAAY,cAAc,WACxB,OAAO6B,IAAK,EACd,KACAppB,OAAO8iG,MAAY9iG,OAAOkrG,OACxB82B,GAAUziI,EAAW,CAACytD,GAAW,CACjC7nC,OAAQ,CAACmc,MACT5jC,KAAM,OACN85C,UAAW,SAAUjnB,GACnB,MAAO,CACLk5C,WAAW,EACX/V,YAAa,SAAU8P,EAAM1sD,GACtByZ,EAAO0xG,WAAW5qH,MAOrBmsD,EAAK5zC,YAAYc,SAASH,EAAOE,KAAKztB,MAAK,SAAUif,GACnDw/G,GAAkBlxG,EAAOu8E,MAAO7qF,EAAOnL,GAAM1U,MAAK,WAChD,OAAO8yD,GAAaX,YAAYiP,EAAM1sD,EACxC,IAAG,SAAUlX,GACX,OAAOA,GACT,GACF,IAZA4jE,EAAK5zC,YAAYc,SAASH,EAAOE,KAAKztB,MAAK,SAAUif,GAC/CsO,EAAOu8E,MAAMo1B,oBACfb,GAAiB9wG,EAAOu8E,MAAO7qF,EAAOnL,EAE1C,IAUFyZ,EAAO0xG,WAAWtqH,KAAI,EACxB,EACAq4D,UAAW,SAAUxM,EAAM1sD,GACzB,OAAO0sD,EAAK5zC,YAAYc,SAASH,EAAOE,KAAKpR,aAAatc,KAAI,SAAUo/H,GAEtE,OADA3yG,GAAS2yG,EAAWL,KAAe,CAAEhrH,KAAMA,KACpC,CACT,GACF,EACAgxD,QAAS,SAAUtE,EAAM1sD,GACvByZ,EAAO0xG,WAAWtqH,KAAI,GACtB6rD,EAAK5zC,YAAYc,SAASH,EAAOE,KAAKztB,MAAK,SAAUif,GAC/CsO,EAAOu8E,MAAMo1B,oBACfb,GAAiB9wG,EAAOu8E,MAAO7qF,EAAOnL,EAE1C,GACF,EAEJ,MAGAsrH,GAAYxxE,GAAU,CACxBlzD,KAAM,YACNgzD,aAAcqxE,KACdlxE,WAAYmxE,KACZ9zE,QAnRW,SAAU39B,EAAQ6K,EAAYjF,EAAM83B,GAC/C,IAAIo0E,EAAe,SAAU3sG,EAAM9J,EAAgB02G,GACjD/xG,EAAO0xG,WAAWtqH,KAAI,GACtB,IAAIisC,EAAUslD,GAASP,WAAWjzE,EAAM,WACxC,GAAIwwB,GAAWzB,OAAOb,GACpByN,GAAUL,WAAWpN,GAAS5gD,MAAK,SAAUwgE,GAC3CtO,GAAaJ,eAAe0O,GAAMphE,MAAK,WACrCkgI,EAAY9+D,EACd,IAAG,WACD1zC,GAAc8zB,EAAS4f,EAAK14D,QAAS,UAAW8gB,EAClD,GACF,QACK,CAILy5B,GAAK90B,EAAQk5E,EAAS/zE,GAAOA,EAAMkuB,EAASqK,GAH3B,SAAUrK,GACzByN,GAAUL,WAAWpN,GAAS5gD,KAAKs/H,EACrC,GACmEz8B,GAAgBoE,gBAAgB5yF,IAAItY,EACzG,CACF,EACIwjI,EAAoBx/B,GAAgBxyE,GACpCk5E,EAAW,SAAU/zE,GACvB,OAAO,SAAUs0E,GACf,OAAOA,EAAMjnG,KAAI,SAAU4sB,GACzB,IAAIg7C,EAAQtjE,GAAOsoB,EAAKg7C,OACpBxiB,EAAQ3iD,EAAOmlE,GAAO,SAAUnH,GAClC,OAAO1+D,EAAS0+D,EAAKrb,OAAO,SAAUrxC,GACpC,MAAqB,SAAdA,EAAK5Z,IACd,GACF,IAKA,OAJeqsD,GAAa7D,SAAShwB,GAC5BwyB,OAAOzjD,EAAM0jD,GAAO,SAAUrxC,GACrC,OAAOA,EAAK6Y,IACd,KACOA,CACT,GACF,CACF,EACIqH,EAAa,CACf+uC,GAASvrC,OAAO,CAAC,GACjB+uB,GAAa/uB,OAAO,CAClBquB,WAAYt4B,EAAOs4B,WACnB/D,MAAOlkD,EAAS,CACdkxC,KAAM,UACNiX,WAAY,SAAUrzB,GACpB,OAAOsE,GAAMtE,EAAK5qB,QACpB,EACAk+C,iBAAkB,SAAUf,GAC1B,MAAO,CACL9qD,MAAO8qD,EACPO,KAAM,CAAC,EAEX,EACAlB,SAAU,SAAU5xB,EAAM/F,GACxBsK,GAAMvE,EAAK5qB,QAASylB,EAAOu8E,MAAM80B,eAAejyG,GAClD,GACCY,EAAOwkE,YAAYhyF,KAAI,SAAUkb,GAClC,OAAOwM,GAAO,eAAgBxM,EAChC,IAAGzb,MAAM,CAAC,MAEZ4+H,GAAU5mG,OAAO,CACfgmG,OAAQ,CACN1uF,KAAM,WACNT,MAAO9gB,EAAOiyG,aACdrB,WAAW,GAEbD,SAAU,SAAUv1G,EAAWmb,GAC7B,IAAI8c,EAAUslD,GAASP,WAAWh9E,EAAW,WAE7C,GADmBo6C,GAASL,UAAU/5C,IAEhCqO,GAAMrO,EAAU7gB,SAAShM,QAAUyxB,EAAOmqD,SAAU,CACtD,IAAI+nD,EAAkBpxE,GAAUL,WAAWpN,GAAS3gD,MAAK,SAAUugE,GACjE,OAAOtO,GAAaJ,eAAe0O,GAAMzgE,IAAIwmD,GAAahC,SAC5D,IACAh3B,EAAO0xG,WAAWtqH,KAAI,GAmBtB0tC,GAAK90B,EAAQk5E,EAAS99E,GAAYA,EAAWi4B,EAASqK,GAlBrC,SAAU1J,GACzB8M,GAAUL,WAAWpN,GAAS5gD,MAAK,SAAUwgE,GAC3Ci/D,EAAgBrgI,MAAK,WACfmuB,EAAOu8E,MAAM40B,aACfxsE,GAAaV,eAAegP,EAEhC,IAAG,SAAUk/D,GACXxtE,GAAaL,YAAY2O,GAAM,SAAU1sD,GAEvC,OADeyyC,GAAahC,SAASzwC,GACrB3Z,QAAUulI,EAAGvlI,KAC/B,IACA+3D,GAAaJ,eAAe0O,GAAM1gE,SAAQ,WAExC,OADAoyD,GAAaV,eAAegP,GACrB7/D,EAAS1B,MAClB,GACF,GACF,GACF,GAC6E4jG,GAAgBoE,gBAAgB5yF,IAAItY,EACnH,CAEJ,EACA2hI,YAAapyG,OAEfo1C,GAAOlpC,OAAO,CACZsX,KAAM,UACNmxB,OAAQ,SAAUvtC,EAAM9J,GAEtB,OADAy2G,EAAa3sG,EAAM9J,EAAgBspC,GAAaV,gBACzC7wD,EAASJ,MAAK,EACvB,EACAi2D,SAAU,SAAU9jC,GAClB,IAAIkuB,EAAUslD,GAASP,WAAWjzE,EAAM,WACxC,OAAIwwB,GAAWzB,OAAOb,IACpBsC,GAAWV,MAAM5B,GACVjgD,EAASJ,MAAK,IAEhBI,EAAS1B,MAClB,EACA+gE,KAAM,SAAUttC,EAAM9J,GAEpB,OADAy2G,EAAa3sG,EAAM9J,EAAgBspC,GAAaR,eACzC/wD,EAASJ,MAAK,EACvB,EACAk2D,QAAS,SAAU/jC,GACjB,IAAIkuB,EAAUslD,GAASP,WAAWjzE,EAAM,WACpCitG,EAAgBz8E,GAAWzB,OAAOb,GACtC,GAAI++E,IAAkBpyG,EAAO0xG,WAAW5qH,MACtC,OAAOg6C,GAAUL,WAAWpN,GAAS3gD,MAAK,SAAUugE,GAClD,OAAOtO,GAAaJ,eAAe0O,EACrC,IAAGzgE,KAAI,SAAU+T,GAEf,OADA0Y,GAASkG,EAAMosG,KAAe,CAAEhrH,KAAMA,KAC/B,CACT,IAEA,IAAI64F,EAAepmD,GAAahC,SAAS7xB,GAMzC,OALApG,GAAKoG,EAAMpH,MACXiC,EAAOy/C,UAAUpsB,EAASluB,EAAMi6E,GAC5BgzB,GACFz8E,GAAWV,MAAM5B,GAEZjgD,EAASJ,MAAK,EAEzB,IAEFgkE,GAAS/sC,OAAO,CACd8rC,YAAa/1C,EAAOm5C,QAAQk5D,UAC5Bx8D,KAAM,CAAEt0B,KAAM,cAEhBo3D,GAAS1uE,OAAO,CACdo0C,OAAQ,CACNhrB,QAAS,SAAUrM,GACjB,OAAOuzD,GAAcv6E,EAAQgnB,EAAS,CACpC4M,OAAQ,WACN,OAAOojB,GAAS34B,GAAG2I,EACrB,EACA8M,QAAS,WACP,OAAOkjB,GAASz4B,IAAIyI,EACtB,GAEJ,KAGJ/c,GAAO,kBAAmB,CACxBhJ,IAAe,SAAUkE,GACvB,IAAIg0E,EAAa3qG,EACjBsrG,GAAY95E,EAAQk5E,EAAS/zE,GAAOA,EAAMu4B,EAAWy7C,EAAY7D,GAAgBoE,gBAAgB5yF,IAAItY,EACvG,IACAmxB,GAAM4xG,MAAe,SAAUpsG,EAAMuhE,GACnC,IAAIrzC,EAAUslD,GAASP,WAAWjzE,EAAM,WACxC2rG,GAAiB9wG,EAAOu8E,MAAOp3E,EAAMuhE,EAAGp9E,MAAM/C,MAC9CwY,GAAKoG,EAAMpH,MACXiC,EAAOsyG,cAAcntG,EAAMkuB,EAASqzC,EAAGp9E,MAAM/C,KAAMyyC,GAAahC,SAAS7xB,IACzEwwB,GAAWV,MAAM5B,GACjB29E,GAAe7rG,EACjB,KACA11B,OAAOuwB,EAAOuyG,cAAgB,CAAC5yG,GAAMnC,MAAY,SAAUo0G,GACzD,IAAIv+E,EAAUslD,GAASP,WAAWw5B,EAAW,WACzCr1H,GAAO82C,EAAQ94C,SAASvI,UAC1B2jD,GAAWV,MAAM5B,EAErB,KAAM,MAEV,MAAO,CACLnzB,IAAKF,EAAOE,IACZxnB,IAAKA,GAAIkY,GAAUoP,EAAQ,CACzB4yE,gBAAiB,CACf,KAAQ,WACR,oBAAqB,OACrB,gBAAiB,WAGrBnsE,WAAYp2B,EAASA,EAAS,CAAC,EAAG2hI,GAAoBz4E,GAAQv5B,EAAOwyG,oBAAqB/rG,IAC1FS,WAAYlH,EAAOkH,WAEvB,IA2FIurG,GAAO,SAAUn/G,GAgDnB,OAAOjjB,EAASA,EAAS,CAAC,EAAGijB,GAAW,CACtCijF,SAhDa,WACb,OAAOk8B,GAAKn/G,EAASijF,WACvB,EA+CEm8B,WA9Ce,SAAU/iI,GACzB,OAAO8iI,GAAKn/G,EAAS5gB,MAAK,SAAUigI,GAClC,OAAOA,EAAK9gI,MAAK,SAAUwd,GACzB,OAAOmnF,GAAYtnF,GAAOzV,MAAM4V,GAClC,IAAG,SAAU7hB,GACX,OAAOmC,EAAEnC,EACX,GACF,IACF,EAuCEolI,WAtCe,SAAUjjI,GACzB,OAAO8iI,GAAKn/G,EAAS9gB,KAAI,SAAUmgI,GACjC,OAAOA,EAAKjgI,KAAK/C,EACnB,IACF,EAmCEkjI,UAlCc,SAAUljI,GACxB,OAAO8iI,GAAKn/G,EAAS9gB,KAAI,SAAUmgI,GACjC,OAAOA,EAAKngI,IAAI7C,EAClB,IACF,EA+BEkf,SA9Ba,SAAUlf,GACvB,OAAO8iI,GAAKn/G,EAAS9gB,KAAI,SAAUmgI,GACjC,OAAOA,EAAK9jH,SAASlf,EACvB,IACF,EA2BEmjI,WA1Be,SAAUC,EAAWC,GACpC,OAAO1/G,EAAS9gB,KAAI,SAAU+c,GAC5B,OAAOA,EAAI1d,KAAKkhI,EAAWC,EAC7B,GACF,EAuBEC,YAtBgB,SAAUjsD,EAASksD,GACnC,OAAOT,GAAKj8B,IAAU,SAAUtT,GAC9B,IAAIiwC,GAAW,EACXlzF,EAAQiB,YAAW,WACrBiyF,GAAW,EACXjwC,EAASh0E,GAAOzV,MAAMy5H,KACxB,GAAGlsD,GACH1zD,EAASxM,KAAI,SAAUgM,GAChBqgH,IACH3yF,aAAaP,GACbijD,EAASpwE,GAEb,GACF,IACF,GAUF,EACIsgH,GAAO,SAAUC,GACnB,OAAOZ,GAAKj8B,GAAU68B,GACxB,EAsBIC,GACEF,GAUFG,GAAc,CAAE5mI,KAAM,aACtB6mI,GAAa,SAAU92H,GACzB,MAAO,CACL/P,KAAM,WACNC,MAAO8P,EAAOquH,IACdlxH,KAAM6C,EAAOm+E,MACb5iC,KAAM,CAAEzF,OAAQ91C,EAAO81C,QACvB2zB,SAAU33E,EAEd,EACIilI,GAAiB,SAAU54C,EAAOkwC,GACpC,MAAO,CACLp+H,KAAM,WACNC,MAAOm+H,EACPlxH,KAAMghF,EACN5iC,KAAM,CAAEzF,YAAQnmD,GAChB85E,SAAU33E,EAEd,EASIklI,GAAkB,SAAU/mI,EAAMgnI,GACpC,OATgB,SAAUA,GAC1B,OAAOz/H,EAAMy/H,EAASH,GACxB,CAOSI,CANe,SAAUjnI,EAAMgnI,GACtC,OAAOp/H,EAASo/H,GAAS,SAAUj3H,GACjC,OAAOA,EAAO/P,OAASA,CACzB,GACF,CAEqBknI,CAAkBlnI,EAAMgnI,GAC7C,EACIG,GAAgB,SAAUC,GAC5B,OAAOL,GAAgB,SAAUK,EAASJ,QAC5C,EACIK,GAAgB,SAAUD,GAC5B,OAAOL,GAAgB,SAAUK,EAASJ,QAC5C,EACIM,GAAkB,SAAUF,GAC9B,OAAO3gI,EAAS/B,KAAK0iI,EAASG,WAAW1hI,KAAI,SAAUu4H,GACrD,OAAO0I,GAAe,QAAS1I,EACjC,IAAGj4H,SACL,EACIqhI,GAAqB,SAAUJ,GACjC,OAAO3gI,EAAS/B,KAAK0iI,EAASK,cAAc5hI,KAAI,SAAUu4H,GACxD,OAAO0I,GAAe,WAAY1I,EACpC,IAAGj4H,SACL,EAYIuhI,GAAgB,SAAUC,EAAMh6D,GAClC,IAAIi6D,EAAgBD,EAAK75H,cACzB,OAAOlG,EAAS+lE,GAAW,SAAU/zD,GACnC,IAAI1M,OAAqBxN,IAAdka,EAAK0xC,WAAyC5rD,IAAnBka,EAAK0xC,KAAKp+C,KAAqB0M,EAAK0xC,KAAKp+C,KAAO0M,EAAK1M,KAC3F,OAAO7B,GAAW6B,EAAKY,cAAe85H,IAAkBv8H,GAAWuO,EAAK3Z,MAAM6N,cAAe85H,EAC/F,GACF,EAEIC,GAAW,SAAUC,EAAU/iH,EAAOgjH,GACxC,IAAIC,EAAgB37E,GAAahC,SAAStlC,GACtC4iH,OAAmCjoI,IAA5BsoI,EAAc18E,KAAKp+C,KAAqB86H,EAAc18E,KAAKp+C,KAAO86H,EAAc/nI,MAE3F,OADW8nI,EAAaE,qBACZ/iI,MAAK,WACf,MAAO,EACT,IAAG,SAAUkiI,GACX,IArB0Bn8E,EAqBtBi9E,EAAUR,GAAcC,EA1BX,SAAUO,GAC7B,OAAO3gI,EAAM2gI,GAAS,SAAU9J,GAC9B,OAAO0I,GAAe1I,EAAKA,EAC7B,GACF,CAsBsC+J,CAAeJ,EAAaK,WAAWN,KACzE,MAAoB,SAAbA,GAtBmB78E,EAsBiB,CACzCi9E,EACAR,GAAcC,EAAMR,GAAcC,IAClCM,GAAcC,EAAMt/H,EAAQ,CAC1Bi/H,GAAgBF,GAChBC,GAAcD,GACdI,GAAmBJ,OA3BlBp/H,EAAMijD,GAAO,SAAUpqD,EAAG2B,GAE/B,OAD6B,IAAb3B,EAAEe,QAA6B,IAAbY,EAAEZ,OACjBf,EAAEiC,OAAON,GAAK3B,EAAEiC,OAAO8jI,GAAapkI,EACzD,GAAG,KA0BI0lI,CACP,GACF,EACIG,GAAUvyG,GAAW,gBAgZrBwyG,GAAS,SAAUjtC,GACrB,OAAO,SAAUrsE,EAAOiK,EAAM+gD,GAC5B,OAAO5vE,GAAM6uB,EAAM,QAAQ/zB,MAAK,WAC9B,OAAOm2F,EAAOpiE,EAAM+gD,EACtB,IAAG,SAAUx1C,GACX,OAAOxV,EAAMlJ,MAAM0e,EAAW62D,EAAOpiE,EAAM+gD,GAC7C,GACF,CACF,EAOIuuD,GAAY,CACdC,IAAKF,IAAO,SAAUrvG,EAAM+gD,GAC1B,OAznPY,SAAU/gD,EAAM+gD,GAC9B,MAAO,CACLjuE,IAAK,CACHiB,IAAK,MACLssB,QAAS,CACP,UACA,+BAGJ4E,WAAY32B,EAAM0xB,EAAKgyB,MAAO+uB,EAAUyuD,aAE5C,CA8mPWC,CAAUzvG,EAAM+gD,EAAUC,OACnC,IACA0uD,WAAYL,IAAO,SAAUrvG,EAAM+gD,GACjC,OAAOirB,GAAiBhsE,EAAM+gD,EAAUC,OAAOQ,UACjD,IACAmuD,YAAaN,IAAO,SAAUrvG,EAAM+gD,GAClC,OAtMoB,SAAU/gD,EAAMq1D,GACtC,OAAO+T,GAAUzzC,OAAO,CACtB7iD,IAAK,CACHiB,IAAK,MACLusB,WAAY,CAAE2zC,KAAM,SACpB5zC,QAAS,CACP,mBACA,uBACA,qBAAuBL,EAAKqgD,QAGhCp7C,WAAY,CACV,CACEnyB,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,2BAEZ4E,WAAY,CAACq4C,GAAO3nB,OAAO,CACvB7iD,IAAK,CACHiB,IAAK,SACLssB,QAAS,CACP,aACA,oBACA,oBAEFsG,UAAW83C,GAAMz+C,EAAKogD,KAAMiV,EAAmBxuF,OAC/Cy5B,WAAY,CAAE20D,MAAOI,EAAmBhzE,UAAU2d,EAAK4vG,eAEzD31G,OAAQ,SAAUsF,GAChBlG,GAASkG,EAAMmsE,GAAiB,CAC9BnkG,KAAM,eACNP,MAAOg5B,EAAKmlG,KAEhB,EACA3nD,iBAAkBxrC,GAAS,CAAC2sC,WAGlC,CACE7rE,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,0BACVsG,UAAW0uD,EAAmBhzE,UAAU2d,EAAK/rB,UAKvD,CAwJW47H,CAAkB7vG,EAAM+gD,EAAUC,OAAOQ,UAClD,IACA11D,MAAOujH,IAAO,SAAUrvG,EAAM+gD,GAC5B,OA1gCc,SAAU/gD,EAAMq1D,GAChC,OAAO2sB,GAAgB,CACrBz6G,KAAMy4B,EAAKz4B,KACXiiI,WAAW,EACX94G,MAAOsP,EAAKtP,MACZi5G,UAAW3pG,EAAK2pG,UAChBr0E,YAAat1B,EAAKs1B,YAClBy0E,MAAM,EACNxuE,SAAUv7B,EAAKu7B,SACfsuE,UAAW,gBACXv3B,WAAY9kG,EAAS1B,OACrBk+H,UAAWhqG,EAAKgqG,WACf30C,EACL,CA6/BWy6C,CAAY9vG,EAAM+gD,EAAUC,OAAOQ,UAC5C,IACAuuD,SAAUV,IAAO,SAAUrvG,EAAM+gD,GAC/B,OA//BiB,SAAU/gD,EAAMq1D,GACnC,OAAO2sB,GAAgB,CACrBz6G,KAAMy4B,EAAKz4B,KACXiiI,WAAW,EACX94G,MAAOsP,EAAKtP,MACZi5G,UAAWn8H,EAAS1B,OACpBwpD,YAAat1B,EAAKs1B,YAClBy0E,MAAM,EACNxuE,SAAUv7B,EAAKu7B,SACfsuE,UAAW,eACXv3B,WAAY9kG,EAAS1B,OACrBk+H,UAAWhqG,EAAKgqG,WACf30C,EACL,CAk/BW26C,CAAehwG,EAAM+gD,EAAUC,OAAOQ,UAC/C,IACA9wD,MAAO2+G,IAAO,SAAUrvG,EAAM+gD,GAC5B,OA36Cc,SAAU/gD,EAAMiwG,GAChC,IAAIv/G,EAAQ,CACV5d,IAAK,CACHiB,IAAK,QACL4yB,UAAWspG,EAAgBzuD,UAAUn/D,UAAU2d,EAAKtP,OACpD2P,QAAS,CAAC,eAGV8hF,EAAQ7zG,EAAM0xB,EAAKgyB,MAAOi+E,EAAgBT,aAC9C,MAAO,CACL18H,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,oBAEZ4E,WAAY,CAACvU,GAAO7mB,OAAOs4G,GAC3BthF,WAAYmR,GAAS,CACnBy0E,KACA53C,GAAUxqC,OAAO,CAAC,GAClBijF,GAA4B95G,EAAS1B,QACrCyhE,GAAOlpC,OAAO,CAAEsX,KAAM,cAG5B,CAq5CWu0F,CAAYlwG,EAAM+gD,EAAUC,OACrC,IACAmvD,OAzBe,SAAU/tC,GACzB,OAAO,SAAUrsE,EAAOiK,EAAM+gD,GAC5B,IAAIqvD,EAAaplH,GAAUgV,EAAM,CAAEszB,OAAQ,YAC3C,OAAO+7E,GAAOjtC,EAAPitC,CAAet5G,EAAOq6G,EAAYrvD,EAC3C,CACF,CAoBUsvD,EAAW,SAAUrwG,EAAM+gD,GACjC,OAAOooC,GAAanpF,EAAM+gD,EAAUC,OAAOQ,UAC7C,IACAm7C,OAAQ0S,IAAO,SAAUrvG,EAAM+gD,GAC7B,OAAO62C,GAAmB53F,EAAM+gD,EAAUC,OAAOQ,UACnD,IACA8uD,SAAUjB,IAAO,SAAUrvG,EAAM+gD,GAC/B,OAxKiB,SAAU/gD,EAAM20D,GACnC,IAAI47C,EAAen9E,GAAa/uB,OAAO,CACrCsqB,MAAO,CACLhT,KAAM,SACNyV,SAAU,SAAU7xB,GAElB,OADSA,EAAK5qB,QAAQ7B,IACZo+D,OACZ,EACA/f,SAAU,SAAU5xB,EAAMv4B,GACfu4B,EAAK5qB,QAAQ7B,IACnBo+D,QAAUlqE,CACf,KAGAwpI,EAAwB,SAAUjxG,GAEpC,OADAA,EAAK5qB,QAAQ7B,IAAIqkB,QACV3pB,EAASJ,MAAK,EACvB,EACI69F,EAASd,GAAUp0E,MAAMlJ,MAAM,CACjCkrC,QAAS,CAAEpC,OAAQtsD,GACnByJ,IAAK,CACHiB,IAAK,QACLssB,QAAS,CAAC,uBACVC,WAAY,CAAEv5B,KAAM,aAEtB85B,WAAYmR,GAAS,CACnBy0E,KACA7pD,GAAUv4B,OAAO,CACfk3B,SAAU,WACR,OAAOv7B,EAAKu7B,UAAYo5B,EAAkBv4B,YAC5C,IAEFyuC,GAAYxmE,OAAO,CAAC,GACpBurC,GAASvrC,OAAO,CAAC,GACjBksG,EACAhjE,GAAOlpC,OAAO,CACZsX,KAAM,UACN2nB,QAASktE,EACT/jE,QAAS+jE,EACTvjE,gBAAgB,IAElB5oC,GAAO,kBAAmB,CAACtK,GAAM7C,MAAU,SAAU1B,EAAWzM,GAC5DsQ,GAAS7D,EAAW+1E,GAAiB,CAAEhkG,KAAMy4B,EAAKz4B,MACpD,UAGFyjG,EAASb,GAAUp0E,MAAMrF,MAAM,CACjC5d,IAAK,CACHiB,IAAK,OACLssB,QAAS,CAAC,uBACVsG,UAAWguD,EAAkBtyE,UAAU2d,EAAKtP,QAE9CmQ,WAAYmR,GAAS,CAACyjE,GAAYpxE,OAAO,CAAC,OAExC21F,EAAW,SAAUyW,GAEvB,OAAOtxD,GADsB,YAAdsxD,EAA0B,WAAa,aAC5B,CACxB18H,IAAK,OACLssB,QAAS,CACP,WACA,sBAAwBowG,IAEzB97C,EAAkB9tF,MACvB,EACI6pI,EAAW/yD,GAAO,CACpB7qE,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,wBAEZ4E,WAAY,CACV+0F,EAAS,WACTA,EAAS,gBAGb,OAAO7vB,GAAUx0C,OAAO,CACtB7iD,IAAK,CACHiB,IAAK,QACLssB,QAAS,CAAC,iBAEZ4E,WAAY,CACVgmE,EACAylC,EAAS5yD,SACTktB,GAEFZ,gBAAiBp4D,GAAS,CACxB4qB,GAAUv4B,OAAO,CACfk3B,SAAU,WACR,OAAOv7B,EAAKu7B,UAAYo5B,EAAkBv4B,YAC5C,EACAH,aAAc,yBACdC,WAAY,SAAU38B,GACpB4qE,GAAUI,SAAShrE,GAAM1yB,KAAK+vD,GAAUH,QAC1C,EACAN,UAAW,SAAU58B,GACnB4qE,GAAUI,SAAShrE,GAAM1yB,KAAK+vD,GAAUJ,OAC1C,IAEF+1B,QAGN,CAoEWo+C,CAAe3wG,EAAM+gD,EAAUC,OAAOQ,UAC/C,IACA8e,WAAY+uC,IAAO,SAAUrvG,EAAM+gD,GACjC,OAAO80B,GAAiB71E,EAAM+gD,EAAUC,OAAQD,EAAUuf,WAC5D,IACAzB,YAAawwC,IA5vJS,SAAUx7D,GAChC,IAAI+tC,EAAW,SAAUxwG,GACvB,MAAO,OAASA,CAClB,EACIw/H,EAAsBjsB,GAAYiC,GAAahF,GAa/CivB,EAAYlzD,GAAOizD,EAAoBj7E,OAAO,CAChD7iD,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAACuhF,EAAS,2BACnBthF,WAAY,CAAE2zC,KAAM,iBAEtBivC,WAlBe,SAAUlC,GACzB3nF,GAAS2nF,EAAMtV,GAAiB,CAC9BnkG,KAAM,YACNP,OAAO,GAEX,EAcE+9G,aAbiB,SAAU/D,GAC3B3nF,GAAS2nF,EAAMtV,GAAiB,CAC9BnkG,KAAM,YACNP,OAAO,GAEX,KAUA,MAAO,CACL8L,IAAK,CAAEiB,IAAK,OACZkxB,WAAY,CAAC4rG,EAAU/yD,UACvBj9C,WAAYmR,GAAS,CACnBohB,GAAa/uB,OAAO,CAClBsqB,MAAO,CACLhT,KAAM,SACNyV,SAAU,SAAU7xB,GAClB,IAAIuxG,EAASD,EAAU3vH,IAAIqe,GAM3B,OALiB27B,GAAUL,WAAWi2E,GACdhkI,MAAK,SAAUg4G,GAErC,OADiB1xD,GAAahC,SAAS0zD,GACrBptB,GACpB,IACc9qF,KAAI,SAAU8qF,GAC1B,MAAO,IAAMA,CACf,IAAGrrF,MAAM,GACX,EACA8kD,SAAU,SAAU5xB,EAAM4a,GACxB,IACIg+C,EADU,wCACEG,KAAKn+C,GACjB22F,EAASD,EAAU3vH,IAAIqe,GACV27B,GAAUL,WAAWi2E,GAC3B7kI,MAAK,WACd2H,QAAQigB,IAAI,oBACd,IAAG,SAAUixF,GACX1xD,GAAajC,SAAS2zD,EAAS,CAAEptB,IAAKlqF,EAAS/B,KAAK0sF,EAAE,IAAI9rF,MAAM,MAChE+0G,GAAK7W,SAASua,EAAS,OAAOj4G,MAAK,SAAUi2G,GAC3C3pF,GAAK2pF,EAAUh3F,KACjB,GACF,GACF,KAGJ26F,OAGN,IA8rJEsqB,SAAU1B,IAAO,SAAUrvG,EAAM+gD,GAC/B,OAAO4mC,GAAe3nF,EAAM+gD,EAAUC,OAAOQ,UAC/C,IACA/N,KAAM47D,IAAO,SAAUrvG,EAAM+gD,GAC3B,OA58Ia,SAAU/gD,EAAM+gD,GAC/B,MAAO,CACLjuE,IAAK,CACHiB,IAAK,MACLssB,QAAS,CACP,iBACA,mBAAqBL,EAAKunD,QAAU,QAGxCtiD,WAAY32B,EAAM0xB,EAAKgyB,MAAO+uB,EAAUyuD,aAE5C,CAi8IWwB,CAAWhxG,EAAM+gD,EAAUC,OACpC,IACAiwD,QAAS5B,IAAO,SAAUrvG,EAAM+gD,GAC9B,OAn4CgB,SAAU/gD,EAAM+gD,GAClC,IAAIsU,EAAqBtU,EAAUC,OAAOQ,UACtC0vD,EAAc/qI,GAAK65B,EAAKgyB,OAAO/kD,OAAO27H,IACtC59B,EAAShrE,EAAKtP,MAAM9jB,KAAI,SAAU8jB,GACpC,OAAO46E,GAAc56E,EAAO2kE,EAC9B,IACI4V,EAASd,GAAUp0E,MAAMlJ,MAAM,CACjC/Z,IAAK,CAAC,EACNilD,QAAS,CACPpC,OAAQ,SAAUw7E,GAChB,OAAO3c,GAAqB,CAC1Bl6F,IAAK62G,EAAW72G,IAChBrmB,KAAMi9H,EAAYtkI,KAAI,SAAU+T,GAC9B,OAAOA,EAAK1M,IACd,IACAmsE,KAAM5yE,EAAS1B,OACf2iF,QAASzuD,EAAKtP,MACdujD,KAAMzmE,EAAS1B,OACfq7E,MAAO,SAAU5nD,EAAM+9D,GACrB,IAAItrC,EAAQ82E,GAAWvpG,EAAMS,EAAKz4B,KAAMy4B,EAAKgyB,MAAOoB,GAAahC,SAAS7xB,IAC1E+9D,EAASj/D,GAAM2zB,EAAOs3B,GAAe6J,iBAAkBpS,GAAW,GACpE,EACA+R,QAAS1pF,EAAWR,GACpB8pF,OAAQtpF,EAAW,CAAC,GACpBm+E,QAAS,EACT8C,QAAS,SACThqD,QAAS,GACTi1E,mBAAoB,CAClBzK,GAAYxmE,OAAO,CAAC,GACpB+uB,GAAa/uB,OAAO,CAClBsqB,MAAO,CACLhT,KAAM,SACNmX,aAAco+E,EAAYtkI,KAAI,SAAU+T,GACtC,OAAOA,EAAK3Z,KACd,IAAGqF,MAAM,IACT+kD,SAAU,SAAU7xB,GAClB,OAAOngB,GAAMmgB,EAAK5qB,QAASk0H,GAC7B,EACA13E,SAAU,SAAU5xB,EAAM/F,GACxByvG,GAAgBjpG,EAAKgyB,MAAOx4B,GAAM3sB,MAAK,SAAU8T,GAC/C1B,GAAMsgB,EAAK5qB,QAASk0H,GAAeloH,EAAK3Z,OACxCqyB,GAASkG,EAAM+0F,GAAgB,CAAErgH,KAAM0M,EAAK1M,MAC9C,GACF,OAIL,cAAe8sE,EAAUC,OAC9B,KAGAowD,EAAc,CAChBt+H,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,qBAEZ4E,WAAY,CAACgmE,IAEf,OAAOd,GAAUx0C,OAAO,CACtB7iD,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,oBAEZ4E,WAAY71B,EAAQ,CAClB47F,EAAO99F,UACP,CAACkkI,KAEHhnC,gBAAiBp4D,GAAS,CAAC4qB,GAAUv4B,OAAO,CACxCk3B,SAAUnyD,EAAW42B,EAAKu7B,UAC1BW,WAAY,SAAU38B,GACpB4qE,GAAUI,SAAShrE,GAAM1yB,KAAK+vD,GAAUH,QAC1C,EACAN,UAAW,SAAU58B,GACnB4qE,GAAUI,SAAShrE,GAAM1yB,KAAK+vD,GAAUJ,OAC1C,OAGR,CAszCW60E,CAAcrxG,EAAM+gD,EAC7B,IACAuwD,UAAWjC,IAAO,SAAUrvG,EAAM+gD,GAChC,OApvCkB,SAAU/gD,EAAMq1D,GACpC,IAAIk8C,EAAoBjjI,EAAM0xB,EAAKgyB,OAAO,SAAUrxC,GAClD,MAAO,CACL1M,KAAMohF,EAAmBhzE,UAAU1B,EAAK1M,MACxCjN,MAAO2Z,EAAK3Z,MAEhB,IACIgkG,EAAShrE,EAAKtP,MAAM9jB,KAAI,SAAU8jB,GACpC,OAAO46E,GAAc56E,EAAO2kE,EAC9B,IACI4V,EAASd,GAAUp0E,MAAMlJ,MAAM,CACjC/Z,IAAK,CAAC,EACNu2H,iBAAkB,CAAEh7H,KAAM2xB,EAAK3xB,MAC/BzI,QAAS2rI,EACTx5E,QAASmxE,GACTI,iBAAkBt3F,GAAS,CACzB4qB,GAAUv4B,OAAO,CACfk3B,SAAU,WACR,OAAOv7B,EAAKu7B,UAAY85B,EAAmBj5B,YAC7C,IAEFyuC,GAAYxmE,OAAO,CAAC,GACpBA,GAAO,mBAAoB,CAACtK,GAAM7C,MAAU,SAAU1B,EAAWzM,GAC7DsQ,GAAS7D,EAAW+1E,GAAiB,CAAEhkG,KAAMy4B,EAAKz4B,MACpD,UAGFiqI,EAAUxxG,EAAK3xB,KAAO,EAAIb,EAAS1B,OAAS0B,EAASJ,KAAK+xE,GAAS,eAAgB,CACrFprE,IAAK,MACLssB,QAAS,CAAC,6BACTg1D,EAAmBxuF,QAClB4qI,EAAa,CACf3+H,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,oBAEZ4E,WAAY71B,EAAQ,CAClB,CAAC67F,GACDumC,EAAQtkI,aAGZ,OAAOi9F,GAAUx0C,OAAO,CACtB7iD,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,oBAEZ4E,WAAY71B,EAAQ,CAClB47F,EAAO99F,UACP,CAACukI,KAEHrnC,gBAAiBp4D,GAAS,CACxB4qB,GAAUv4B,OAAO,CACfk3B,SAAU,WACR,OAAOv7B,EAAKu7B,UAAY85B,EAAmBj5B,YAC7C,EACAF,WAAY,SAAU38B,GACpB4qE,GAAUI,SAAShrE,GAAM1yB,KAAK+vD,GAAUH,QAC1C,EACAN,UAAW,SAAU58B,GACnB4qE,GAAUI,SAAShrE,GAAM1yB,KAAK+vD,GAAUJ,OAC1C,IAEF+1B,QAGN,CAmrCWm/C,CAAgB1xG,EAAM+gD,EAAUC,OAAOQ,UAChD,IACAmwD,UAAWtC,IAAO,SAAUrvG,EAAM+gD,GAChC,OAAO84C,GAAgB75F,EAAM+gD,EAAUC,OAAOQ,UAChD,IACAowD,SAAUvC,IAAO,SAAUrvG,EAAM+gD,GAC/B,OA9ciB,SAAU/gD,EAAM+gD,EAAW+tD,GAC9C,IAAI70H,EACAo7E,EAAqBtU,EAAUC,OAAOQ,UACtCqwD,EAAgB,SAAUr8G,GAC5B,IAAIs8G,EAAW1+E,GAAahC,SAAS57B,GACrCs5G,EAAaiD,aAAaD,EAAS9qI,MAAOg5B,EAAKgyG,SACjD,EACI/mC,EAASd,GAAUp0E,MAAMlJ,MAAM,CACjCkrC,QAASk0E,GACTU,eAAe,EACfz/B,aAAc,CAAC,iBACf2H,eAAgB,CAAC,sBACjB7H,gBAAiB,CACf,oBAAqBoiC,GACrB,KAAQ,OAEV7qD,SAAU,EACV8nD,aAAc,EACdllD,MAAO,SAAUr7D,GACf,IAAIkmC,EAAQ48E,GAAS5uG,EAAKgyG,SAAUlmH,EAAOgjH,GACvCj7B,EAAQx1E,GAAM2zB,EAAOs3B,GAAesb,kBAAmB7jB,GAAW,GACtE,OAAO6vB,GAAYiD,EACrB,EACAT,WAAY,SAAU7zE,GACpB,OAAO0yG,EAAU3yH,OAAOigB,EAC1B,EACAmzB,WAAY,SAAUnzB,EAAM2yG,GACtB3yG,EAAKuH,cAAcurE,KACrBA,GAAax8E,IAAI0J,GAAMre,IAAItY,EAE/B,EACAgkI,oBAAqB56F,GAAS5iC,EAAQ,CACpC0/H,EAAaqD,uBAAuBvlI,KAAI,SAAU2X,GAChD,OAAO8tF,GAAahuE,OAAO,CACzBogD,QAAS,SAAUllD,GACjB,OAAOpiB,GAAOoiB,EAAK5qB,QACrB,EACAs8F,aAAc,mCACdC,OAAQ,CACNO,UAAW,SAAUlyE,EAAM9V,GACzB2oH,EAAe9yH,OAAOigB,GAAM1yB,MAAK,SAAUwlI,GACzCpzH,GAAMozH,EAAY19H,QAAS,QAAS0gF,EAAmBhzE,UAAUoH,GACnE,GACF,GAEF2C,UAAW,CACTwlF,SAAU,SAAU9lF,GAClB,IAAIgmH,EAAW1+E,GAAahC,SAAStlC,GACrC,OAAO4hH,IAAgB,SAAU4E,GAC/B/tH,EAAQ,CACNxd,KAAMi5B,EAAKgyG,SACX7M,IAAK2M,EAAS9qI,QACb,SAAUsrG,GACX,GAA0B,YAAtBA,EAAWxhC,OAAsB,CACnC,IAAIrnD,EAAMH,GAAOzV,MAAMy+F,EAAWlpF,SAClCkpH,EAAU7oH,EACZ,KAAO,CACL,IAAInI,EAAMgI,GAAOtiB,MAAMsrG,EAAWlpF,SAClCkpH,EAAUhxH,EACZ,CACF,GACF,GACF,EACA6wF,gBAAgB,IAGtB,IAAGjlG,UACH,CACE0vD,GAAUv4B,OAAO,CACfk3B,SAAU,WACR,OAAOv7B,EAAKu7B,UAAY85B,EAAmBj5B,YAC7C,IAEFyuC,GAAYxmE,OAAO,CAAC,GACpBA,GAAO,kBAAmBj1B,EAAQ,CACd,SAAlB4wB,EAAKgyG,SAAsB,CAACj4G,GAAMjO,MAAS,SAAUyT,GACjDlG,GAASkG,EAAMgsE,GAAiB,CAAEhkG,KAAMy4B,EAAKz4B,MAC/C,KAAM,GACR,CACEwyB,GAAM7C,MAAU,SAAUqI,GACxBlG,GAASkG,EAAMgsE,GAAiB,CAAEhkG,KAAMy4B,EAAKz4B,OAC7CsqI,EAActyG,EAChB,IACAxF,GAAMlC,MAAa,SAAU0H,GAC3BlG,GAASkG,EAAMgsE,GAAiB,CAAEhkG,KAAMy4B,EAAKz4B,OAC7CsqI,EAActyG,EAChB,YAKR+B,YAAarnB,EAAK,CAAC,EAAGA,EAAG6R,MAAW,CAClC,YACA,kBACA,gBACC7R,GACH08F,MAAO,CACL80B,eAAgB,SAAUN,GACxB,OAAOA,EAASnkI,KAClB,EACAukI,aAAa,EACbQ,oBAAoB,GAEtBx4D,QAAS,CAAEk5D,UAAW,6BACtBpxD,SAAU0F,EAAUC,OAAOS,QAC3B1rD,MAAO,CAAEs3C,KAAM7W,GAAK,EAAO,EAAG,WAC9BqjB,UAAW,SAAU04D,EAAO/8G,EAAWg9G,GACrCn5G,GAAS7D,EAAWm2E,GAAiB,CAAC,EACxC,EACA+gC,cAAe,SAAUV,EAAW59E,EAAUg9B,EAAO8iB,GACnD2jC,EAAc7F,GACd3yG,GAAS2yG,EAAWzgC,GAAiB,CAAEhkG,KAAMy4B,EAAKz4B,MACpD,IAEEyjG,EAAShrE,EAAKtP,MAAM9jB,KAAI,SAAU8jB,GACpC,OAAO46E,GAAc56E,EAAO2kE,EAC9B,IAwBI+8C,EAAiBz0D,GAvBN,SAAUp2E,EAAMkrI,EAAOryD,EAAM1vD,GAO1C,YANa,IAAT0vD,IACFA,EAAO74E,QAEK,IAAVmpB,IACFA,EAAQnpB,GAEH43E,GAASiB,EAAM,CACpBrsE,IAAK,MACLssB,QAAS,CACP,WACA,iCAAmC94B,GAErC+4B,WAAY71B,EAAS,CACnB,MAAS4qF,EAAmBhzE,UAAUqO,GACtC,YAAa,UACZ+hH,EAAMxmI,MAAK,WACZ,MAAO,CAAC,CACV,IAAG,SAAUtG,GACX,MAAO,CAAEA,GAAIA,EACf,MACC0vF,EAAmBxuF,MACxB,CAC4BmzH,CAAS,UAAWxsH,EAASJ,KAAKgiI,IAAU,YACpEsD,EAAY/0D,GAAO,CACrB7qE,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,uCAEZ4E,WAAY,CAACmtG,EAAet0D,YAE1B60D,EAAe7D,EAAa8D,aAAa5yG,EAAKgyG,UAC9Ca,EAAiBh2G,GAAW,qBAC5Bo1G,EAAYt0D,GAAO,CACrB7qE,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,qBAEZ4E,WAAY,CACVgmE,EACAynC,EAAU50D,UAEZj9C,WAAYmR,GAAS,CAAC4qB,GAAUv4B,OAAO,CACnCk3B,SAAU,WACR,OAAOv7B,EAAKu7B,UAAY85B,EAAmBj5B,YAC7C,QAGF02E,EAAqBn1D,GAAOu5C,GAAa,CAC3C3vH,KAAMy4B,EAAKz4B,KACX64E,KAAM5yE,EAASJ,KAAK,UACpB6G,KAAM+rB,EAAKtP,MAAMrkB,MAAM,IACvBkvD,SAAUv7B,EAAKu7B,SACfyZ,SAAS,EACTiiD,YAAY,IACX,SAAUzhG,GACX,OAAO2D,GAAK3D,EAAWq9G,EACzB,GAAGx9C,EAAoB,GAAI,CAAC,oBA2B5B,OAAO8U,GAAUx0C,OAAO,CACtB7iD,IA9vOKu4F,GAAuB,IA+vO5BpmE,WAAY+lE,EAAO99F,UAAUrD,OAAO,CA3B7B,CACLiJ,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,+BAEZ4E,WAAY71B,EAAQ,CAClB,CAAC6iI,EAAUn0D,UACX60D,EAAa/lI,KAAI,WACf,OAAOkmI,EAAmBh1D,QAC5B,IAAG5wE,eAmBPk9F,gBAAiBp4D,GAAS,CACxB4qB,GAAUv4B,OAAO,CACfk3B,SAAU,WACR,OAAOv7B,EAAKu7B,UAAY85B,EAAmBj5B,YAC7C,EACAF,WAAY,SAAU38B,GACpB4qE,GAAUI,SAAShrE,GAAM1yB,KAAK+vD,GAAUH,SACxCq2E,EAAmBxzH,OAAOigB,GAAM1yB,KAAK+vD,GAAUH,QACjD,EACAN,UAAW,SAAU58B,GACnB4qE,GAAUI,SAAShrE,GAAM1yB,KAAK+vD,GAAUJ,QACxCs2E,EAAmBxzH,OAAOigB,GAAM1yB,KAAK+vD,GAAUJ,OACjD,IAEF+1B,KACAluD,GAAO,mBAAoB,CAACtK,GAAM84G,GA9BlB,SAAUtzG,GAC5B27B,GAAUL,WAAWt7B,GAAM1yB,MAAK,SAAUggB,GACxC,IAAIkmH,EAAgB3/E,GAAahC,SAASvkC,GACtCmmH,EAAUvoI,EAAS,CAAEwoI,UAAWjzG,EAAKz4B,MAAQwrI,GACjDJ,EAAa9lI,MAAK,SAAUikI,GAC1BA,EAAOkC,GAAS9xH,KAAI,SAAUgyH,GAC5B9/E,GAAajC,SAAStkC,EAAOqmH,GAC7B75G,GAASkG,EAAMgsE,GAAiB,CAAEhkG,KAAMy4B,EAAKz4B,MAC/C,GACF,GACF,GACF,SAsBF,CAgPW4rI,CAAenzG,EAAM+gD,EAAWA,EAAU6wD,SACnD,IACAwB,aAAc/D,IAzsJS,SAAUrvG,GACjC,IAAIqzG,EAAY/5F,KACZg6F,EAAc31D,GAAO,CAAE7qE,IAAK,CAAEiB,IAAKisB,EAAKjsB,OACxC++C,EAAexZ,KACnB,MAAO,CACLxmC,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,sBAEZQ,WAAYmR,GAAS,CACnB3N,GAAO,uBAAwB,CAACnJ,IAAc,SAAU1F,GACpD89G,EAAYh0H,OAAOkW,GAAW3oB,MAAK,SAAU0mI,KAd/B,SAAUvzG,GAChC,OAAO3uB,GAAM2uB,EAAM,OACrB,CAaawzG,CAAkBxzG,GAAoC8mF,GAASn2C,KAAK3wC,EAAKyzG,SAAUzzG,EAAK0zG,WAAWrsD,MAAK,SAAUxnD,GACjH,OAAOA,EAAK0zG,EAAG5+H,QAAQ7B,IAAKktB,EAAKihD,SACnC,IAF2BjhD,EAAKH,KAAK0zG,EAAG5+H,QAAQ7B,MAE5Cu0E,MAAK,SAAUssD,GACjB7gF,EAAara,IAAG,SAAUm7F,GACxBD,EAAGxiF,SAASyiF,EACd,IACA9gF,EAAa7Z,QACbo6F,EAAU7xH,IAAImyH,EAChB,GACF,GACF,MACFvgF,GAAa/uB,OAAO,CAClBsqB,MAAO,CACLhT,KAAM,SACNyV,SAAU,WACR,OAAOiiF,EAAUnyH,MAAMjV,MAAK,WAC1B,OAAO6mD,EAAa5xC,MAAM7U,MAAM,GAClC,IAAG,SAAUwnI,GACX,OAAOA,EAAGziF,UACZ,GACF,EACAD,SAAU,SAAU37B,EAAWxuB,GAC7BqsI,EAAUnyH,MAAMjV,MAAK,WACnB6mD,EAAatxC,IAAIxa,EACnB,IAAG,SAAU6sI,GACX,OAAOA,EAAG1iF,SAASnqD,EACrB,GACF,KAGJy/G,OAEFxhF,WAAY,CAACquG,EAAYx1D,UAE7B,IA4pJEg2D,UAAWzE,IA3FS,SAAUrvG,GAC9B,MAAqB,iBAAjBA,EAAKqqD,QACA+e,GAAUzzC,OAAO,CACtB7iD,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,mBACVsG,UAAW3G,EAAK3sB,QAIb+1F,GAAUzzC,OAAO,CACtB7iD,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,mBACVsG,UAAW3G,EAAK3sB,KAChBitB,WAAY,CAAE2zC,KAAM,aAEtBq1B,oBAAqBt3D,GAAS,CAC5B64D,GAAYxmE,OAAO,CAAC,GACpBurC,GAASvrC,OAAO,CAAC,MAIzB,IAqEE0vG,WAAY1E,IAAO,SAAUrvG,EAAM+gD,GACjC,OAAOwmD,GAAiBvnG,EAAM+gD,EAAUC,OAAOQ,UACjD,IACAwyD,MAAO3E,IAAO,SAAUrvG,EAAM+gD,GAC5B,OA/rCc,SAAU/gD,EAAMq1D,GAChC,IA+B2B/pB,EAvBEoW,EARzBuyD,EAAW,SAAUhgI,GACvB,MAAO,CACLnB,IAAK,CACHiB,IAAK,KACL4yB,UAAW0uD,EAAmBhzE,UAAUpO,IAG9C,EAUIigI,EAAW,SAAUjgI,GACvB,MAAO,CACLnB,IAAK,CACHiB,IAAK,KACL4yB,UAAW0uD,EAAmBhzE,UAAUpO,IAG9C,EACIkgI,EAAW,SAAU3tE,GACvB,MAAO,CACL1zD,IAAK,CAAEiB,IAAK,MACZkxB,WAAY32B,EAAMk4D,EAAK0tE,GAE3B,EAOA,MAAO,CACLphI,IAAK,CACHiB,IAAK,QACLssB,QAAS,CAAC,sBAEZ4E,WAAY,EAlCey8C,EAmCZ1hD,EAAK0hD,OAlCb,CACL5uE,IAAK,CAAEiB,IAAK,SACZkxB,WAAY,CAAC,CACTnyB,IAAK,CAAEiB,IAAK,MACZkxB,WAAY32B,EAAMozE,EAAQuyD,QAkBP3oE,EAaZtrC,EAAKghE,MAZX,CACLluF,IAAK,CAAEiB,IAAK,SACZkxB,WAAY32B,EAAMg9D,EAAM6oE,MAY1BtzG,WAAYmR,GAAS,CACnB64D,GAAYxmE,OAAO,CAAC,GACpBurC,GAASvrC,OAAO,CAAC,KAGvB,CA2oCW+vG,CAAYp0G,EAAM+gD,EAAUC,OAAOQ,UAC5C,IACAg+C,MAAO6P,IAAO,SAAUrvG,EAAM+gD,GAC5B,OAx0Cc,SAAU/gD,EAAM+gD,GAChC,MAAO,CACLjuE,IAAK,CACHiB,IAAK,MACLssB,QAASL,EAAKK,SAEhB4E,WAAY32B,EAAM0xB,EAAKgyB,MAAO+uB,EAAUC,OAAOwuD,aAEnD,CAg0CW6E,CAAYr0G,EAAM+gD,EAC3B,KAEEuzD,GAAc,CAChBznH,MAAO,SAAUud,EAAOpK,GACtB,OAAOA,CACT,GAEEu0G,GAAkB,SAAUx+G,EAAOiK,EAAMw0G,GAC3C,IAAIC,EAAezpH,GAAUwpH,EAAc,CACzCxzD,OAAQ,CACNwuD,YAAa,SAAU3hE,GACrB,OAAO6mE,GAAe3+G,EAAO83C,EAAW4mE,EAC1C,KAGJ,OAAOC,GAAe3+G,EAAOiK,EAAMy0G,EACrC,EACIC,GAAiB,SAAU3+G,EAAOiK,EAAM+gD,GAC1C,OAAO5vE,GAAMm+H,GAAWtvG,EAAKj5B,MAAMkF,MAAK,WAEtC,OADA2H,QAAQC,MAAM,yBAA2BmsB,EAAKj5B,KAAO,+BAAgCi5B,GAC9EA,CACT,IAAG,SAAU+3B,GACX,OAAOA,EAAQhiC,EAAOiK,EAAM+gD,EAC9B,GACF,EAMI4zD,GAAqB,CACvBC,aAAc,GACdC,YAAa,GACbC,UAAW,GACXC,WAAY,GACZxuH,MAAO,GACP7U,KAAM,GACN8U,OAAQ,GACRpE,IAAK,IAEH4yH,GAAwB,SAAUC,EAAoBC,EAAeC,GACvE,IACI9zF,EAAY,CAAEtD,kBAAmBR,MAkCrC,OAAO,WACL,OAAO43F,IAjCA,CACLpuI,KAAM,OACNmsC,KAAM90B,GAAoB62H,KAC1B/hI,KAAM1F,EAAS/B,KAAKwpI,KACpB7oG,OAAQgS,GAPK,MAOwBu2F,IACrCl0F,QAAS,CACPI,MAAO,WACL,MAAO,CAAC/T,GACV,EACA6T,MAAO,WACL,MAAO,CAAC5T,GACV,GAEFsU,UAAWA,GAIN,CACLt6C,KAAM,UACNq6C,QAAS8zF,IACT9oG,OAAQgS,IAvBK,MAuByBu2F,IACtCl0F,QAAS,CACPI,MAAO,WACL,MAAO,CAAClS,GACV,EACAgS,MAAO,WACL,MAAO,CAAC9R,GACV,GAEFwS,UAAWA,EAKf,CACF,EACI+zF,GAAkB,SAAUH,EAAoBC,EAAeC,GA8BjE,OAAO,WACL,OAAOA,IA7BA,CACLpuI,KAAM,OACNmsC,KAAM90B,GAAoB62H,KAC1B/hI,KAAM1F,EAAS/B,KAAKwpI,KACpBx0F,QAAS,CACPI,MAAO,WACL,MAAO,CAAC5T,GACV,EACA0T,MAAO,WACL,MAAO,CAAC1T,GACV,IAKG,CACLlmC,KAAM,UACNq6C,QAAS8zF,IACTz0F,QAAS,CACPI,MAAO,WACL,MAAO,CAAC5R,GACV,EACA0R,MAAO,WACL,MAAO,CAAC1R,GACV,GAMN,CACF,EACIomG,GAAkB,SAAU10D,EAAQ20D,GACtC,OAAO,WACL,MAAO,CACLvuI,KAAM,YACNmsC,KAAMoiG,IACNttF,aAAc,WACZ,IAAI3D,EAAMs8B,EAAOv8B,UAAUmiC,SAC3B,OAAO/4E,EAASJ,KAAK42C,GAAaa,MAAM1xC,GAAaF,QAAQoxC,EAAIC,gBAAiBD,EAAIuB,YAAazyC,GAAaF,QAAQoxC,EAAIwB,cAAexB,EAAIyB,WACjJ,EAEJ,CACF,EACIyvF,GAAkB,SAAUD,GAC9B,OAAO,SAAU3gI,GACf,MAAO,CACL5N,KAAM,OACNmsC,KAAMoiG,IACNpiI,KAAMyB,EAEV,CACF,EACI6gI,GAAa,SAAU70D,EAAQu0D,EAAeO,GAChD,IAAIC,EAA2BpkD,GAAkB3Q,GAC7C20D,EAAc,WAChB,OAAOniI,GAAaF,QAAQ0tE,EAAO7hE,UACrC,EACIm2H,EAAqB,WACvB,OAAO9hI,GAAaF,QAAQ0tE,EAAOkB,0BACrC,EACIszD,EAA4B,WAC9B,OAAOO,IAA6BD,GACtC,EACA,MAAO,CACLE,aAAcX,GAAsBC,EAAoBC,EAAeC,GACvEj1D,OAAQk1D,GAAgBH,EAAoBC,EAAeC,GAC3D3T,OAAQ6T,GAAgB10D,EAAQ20D,GAChCpiI,KAAMqiI,GAAgBD,GAE1B,EAEIj/B,GAAc,SAAU11B,GAC1B,OAAO,SAAU2c,EAAUt2F,GACZg2F,GAAkBrc,EAC/Bsc,CAAOK,EAAUt2F,EACnB,CACF,EACIu5F,GAAkB,SAAU5f,GAC9B,OAAO,WACL,OAAOkb,GAAkBlb,EAC3B,CACF,EACI6f,GAAY,SAAU7f,GACxB,OAAO,WACL,OAAOmb,GAAYnb,EACrB,CACF,EACIghB,GAAe,SAAUhhB,GAC3B,OAAO,WACL,OAAO2b,GAAe3b,EACxB,CACF,EACIi1D,GAAsB,SAAUj1D,GAClC,MAAO,CACL01B,YAAaA,GAAY11B,GACzB4f,gBAAiBA,GAAgB5f,GACjC6f,UAAWA,GAAU7f,GACrBghB,aAAcA,GAAahhB,GAE/B,EAEIk1D,GAAmB,SAAUl1D,GAC/B,OAAO,WACL,OA7wUqB,SAAUA,GACjC,OAAOA,EAAO8O,SAAS,mBAAmB,EAAO,UACnD,CA2wUWqmD,CAAmBn1D,EAC5B,CACF,EACIo1D,GAAkB,SAAUp1D,GAC9B,MAAO,CAAEk1D,iBAAkBA,GAAiBl1D,GAC9C,EAaIq1D,GAAsB,CACxB,CACE/gD,MAAO,WACPjjC,MAAO,CACL,CACEijC,MAAO,YACP6H,OAAQ,MAEV,CACE7H,MAAO,YACP6H,OAAQ,MAEV,CACE7H,MAAO,YACP6H,OAAQ,MAEV,CACE7H,MAAO,YACP6H,OAAQ,MAEV,CACE7H,MAAO,YACP6H,OAAQ,MAEV,CACE7H,MAAO,YACP6H,OAAQ,QAId,CACE7H,MAAO,SACPjjC,MAAO,CACL,CACEijC,MAAO,OACP6H,OAAQ,QAEV,CACE7H,MAAO,SACP6H,OAAQ,UAEV,CACE7H,MAAO,YACP6H,OAAQ,aAEV,CACE7H,MAAO,gBACP6H,OAAQ,iBAEV,CACE7H,MAAO,cACP6H,OAAQ,eAEV,CACE7H,MAAO,YACP6H,OAAQ,aAEV,CACE7H,MAAO,OACP6H,OAAQ,UAId,CACE7H,MAAO,SACPjjC,MAAO,CACL,CACEijC,MAAO,YACP6H,OAAQ,KAEV,CACE7H,MAAO,aACP6H,OAAQ,cAEV,CACE7H,MAAO,MACP6H,OAAQ,OAEV,CACE7H,MAAO,MACP6H,OAAQ,SAId,CACE7H,MAAO,QACPjjC,MAAO,CACL,CACEijC,MAAO,OACP6H,OAAQ,aAEV,CACE7H,MAAO,SACP6H,OAAQ,eAEV,CACE7H,MAAO,QACP6H,OAAQ,cAEV,CACE7H,MAAO,UACP6H,OAAQ,mBAiBZm5C,GAAa,SAAUC,GACzB,OAAOnnI,EAAMmnI,GAAa,SAAUrnI,EAAKsnI,GACvC,GAbK9kI,GAac8kI,EAbA,SAaM,CACvB,IAAIjpH,EAAS+oH,GAAWE,EAAInkF,OAC5B,MAAO,CACLokF,cAAevnI,EAAIunI,cAAcvsI,OAAOqjB,EAAOkpH,eAC/CC,QAASxnI,EAAIwnI,QAAQxsI,OAAO,CAAC,CACzBorF,MAAOkhD,EAAIlhD,MACXjjC,MAAO9kC,EAAOmpH,WAGtB,CAAO,GAjBU,SAAUv5C,GAC7B,OAAOzrF,GAAMyrF,EAAQ,SACvB,CAeew5C,CAAeH,IApBV,SAAUr5C,GAC5B,OAAOzrF,GAAMyrF,EAAQ,QACvB,CAkBsCy5C,CAAcJ,IAd7B,SAAUr5C,GAC/B,OAAOzrF,GAAMyrF,EAAQ,WACvB,CAY4D05C,CAAiBL,GAAM,CAC7E,IACIM,EAAuB,WADV5uI,EAASsuI,EAAI5uI,MAAQ4uI,EAAI5uI,KAAO4uI,EAAIlhD,MAAMpgF,eAE3D,MAAO,CACLuhI,cAAevnI,EAAIunI,cAAcvsI,OAAO,CAAC,CACrCtC,KAAMkvI,EACN35C,OAAQq5C,KAEZE,QAASxnI,EAAIwnI,QAAQxsI,OAAO,CAAC,CACzBorF,MAAOkhD,EAAIlhD,MACX6H,OAAQ25C,EACRr2D,KAAM+1D,EAAI/1D,QAGlB,CACE,OAAO31E,EAASA,EAAS,CAAC,EAAGoE,GAAM,CAAEwnI,QAASxnI,EAAIwnI,QAAQxsI,OAAOssI,IAErE,GAAG,CACDC,cAAe,GACfC,QAAS,IAEb,EAmBIK,GAAkB,SAAU/1D,GAC9B,OApjVwB,SAAUA,GAClC,OAAOnzE,EAAS/B,KAAKk1E,EAAO8O,SAAS,kBAAkBxiF,OAAOlF,EAChE,CAkjVS4uI,CAAoBh2D,GAAQ/zE,KAAI,SAAUspI,GAC/C,IAAIU,EApBoB,SAAUj2D,EAAQu1D,GAC5C,IAAIhpH,EAAS+oH,GAAWC,GACpBW,EAAkB,SAAUT,GAC9B7nI,EAAO6nI,GAAe,SAAUD,GACzBx1D,EAAOm2D,UAAUpzG,IAAIyyG,EAAI5uI,OAC5Bo5E,EAAOm2D,UAAU9tC,SAASmtC,EAAI5uI,KAAM4uI,EAAIr5C,OAE5C,GACF,EAQA,OAPInc,EAAOm2D,UACTD,EAAgB3pH,EAAOkpH,eAEvBz1D,EAAOloC,GAAG,QAAQ,WAChBo+F,EAAgB3pH,EAAOkpH,cACzB,IAEKlpH,EAAOmpH,OAChB,CAGgCU,CAAsBp2D,EAAQu1D,GAC1D,OAnjVsB,SAAUv1D,GAClC,OAAOA,EAAO8O,SAAS,uBAAuB,EAAO,UACvD,CAijVWunD,CAAoBr2D,GAAUq1D,GAAoBnsI,OAAO+sI,GAAyBA,CAC3F,IAAGvqI,MAAM2pI,GACX,EAEIiB,GAAe,SAAUt2H,EAAMu2H,EAAeC,GAChD,IAAIC,EAAgB,CAClBrwI,KAAM,YACN64F,WAAYs3C,EAAcv2H,EAAKm8E,QAC/Bu6C,gBAAiBF,EAAcx2H,EAAKm8E,SAEtC,OAAO9xE,GAAUrK,EAAMy2H,EACzB,EACIE,GAAa,SAAU32D,EAAQ01D,EAASa,EAAeC,GACzD,IAoBII,EAAW,SAAUvlF,GACvB,OAAO1jD,EAAM0jD,GAAO,SAAUrxC,GAC5B,IAAIiO,EAASze,GAAKwQ,GAClB,GAAIrP,GAAkBqP,EAAM,SAAU,CACpC,IAAI62H,EAAWD,EAAS52H,EAAKqxC,OAC7B,OAAOhnC,GAtBI,SAAUrK,GAEzB,OAAOqK,GAAUrK,EADC,CAAE5Z,KAAM,WAE5B,CAmBuB0wI,CAAW92H,GAAO,CAAE+2H,cAAetuI,EAAWouI,IACjE,CAAO,OAAIlmI,GAAkBqP,EAAM,UA1BjB,SAAUA,GAC9B,OAAOs2H,GAAat2H,EAAMu2H,EAAeC,EAC3C,CAyBaQ,CAAgBh3H,GACI,IAAlBiO,EAAOjmB,QAAgBmF,EAAW8gB,EAAQ,SAC5C5D,GAAUrK,EAAM,CAAE5Z,KAAM,cAtBlB,SAAU4Z,GAC3B,IAAIi3H,EAAa/vI,EAAS8Y,EAAKpZ,MAAQoZ,EAAKpZ,KAAOs1B,GAAWlc,EAAKs0E,OAC/DwhD,EAAuB,UAAYmB,EACnCC,EAAa,CACf9wI,KAAM,YACN+1F,OAAQ25C,EACR72C,WAAYs3C,EAAcT,GAC1BY,gBAAiBF,EAAcV,IAE7BqB,EAAU9sH,GAAUrK,EAAMk3H,GAE9B,OADAl3D,EAAOm2D,UAAU9tC,SAAS4uC,EAAYE,GAC/BA,CACT,CAYaC,CAAap3H,EAExB,GACF,EACA,OAAO42H,EAASlB,EAClB,EAEI2B,GAAS,SAAUr3D,GACrB,IAAIu2D,EAAgB,SAAUp6C,GAC5B,OAAO,WACL,OAAOnc,EAAOm2D,UAAU16H,MAAM0gF,EAChC,CACF,EACIq6C,EAAgB,SAAUr6C,GAC5B,OAAO,WACL,IAAIq5C,EAAMx1D,EAAOm2D,UAAU51H,IAAI47E,GAC/B,YAAer2F,IAAR0vI,EAAoB3oI,EAASJ,KAAK,CACvC2G,IAAKoiI,EAAIxtI,OAAS,IAAIwtI,EAAI,GAAGhlD,QAAUglD,EAAI,GAAGvO,QAAiB,MAC/DrnG,OAAQogD,EAAO7tE,IAAImlI,WAAWt3D,EAAOm2D,UAAUoB,WAAWp7C,MACvDtvF,EAAS1B,MAChB,CACF,EACIsD,EAAU,SAAU+mI,GACtB,IAAI9uG,EAAO8uG,EAAInkF,MACf,YAAgBvrD,IAAT4gC,GAAsBA,EAAK1+B,OAAS,EAAI0G,EAAOg4B,EAAMj4B,GAAW,CAAC+mI,EAAIr5C,OAC9E,EACIq7C,EAAkBllH,GAAK,IACvBmlH,EAA2BnlH,GAAK,IAChColH,EAAgBplH,GAAK,IACrBqlH,EAAyBrlH,GAAK,IAC9BslH,EAAkBtlH,IAAK,GAC3B0tD,EAAOloC,GAAG,WAAW,SAAU+/F,GAC7B,IAAInC,EAAUK,GAAgB/1D,GAC1B83D,EAAWnB,GAAW32D,EAAQ01D,EAASa,EAAeC,GAC1DgB,EAAgB32H,IAAIi3H,GACpBL,EAAyB52H,IAAInS,EAAOopI,EAAUrpI,GAChD,IACAuxE,EAAOloC,GAAG,yBAAyB,SAAUttC,GAC3C,IAAIutI,EAAgBpB,GAAW32D,EAAQx1E,EAAE6mD,MAAOklF,EAAeC,GAC/DkB,EAAc72H,IAAIk3H,GAClBH,EAAgB/2H,IAAIrW,EAAEuH,SACtB4lI,EAAuB92H,IAAInS,EAAOqpI,EAAetpI,GACnD,IAWA,MAAO,CACL+vF,QAXY,WACZ,IAAIw5C,EAAeJ,EAAgBr3H,MAAQ,GAAKi3H,EAAgBj3H,MAC5D03H,EAAaP,EAAcn3H,MAC/B,OAAOy3H,EAAa9uI,OAAO+uI,EAC7B,EAQEC,iBAPqB,WACrB,IAAIF,EAAeJ,EAAgBr3H,MAAQ,GAAKk3H,EAAyBl3H,MACrE03H,EAAaN,EAAuBp3H,MACxC,OAAOy3H,EAAa9uI,OAAO+uI,EAC7B,EAKF,EAKI9xF,GAAOigE,GAASjgE,KAChBgyF,GAA0B,SAAU9xI,GACtC,OAAO,SAAUkM,GACf,GANY,SAAUA,GACxB,OAAO9K,EAAc8K,IAA2B,IAAlBA,EAAK6B,QACrC,CAIQgkI,CAAU7lI,GAAO,CACnB,GAAIA,EAAK8lI,kBAAoBhyI,EAC3B,OAAO,EAET,GAAIkM,EAAKmM,aAAa,8BAAgCrY,EACpD,OAAO,CAEX,CACA,OAAO,CACT,CACF,EACIiyI,GAAwBH,GAAwB,QAChDI,GAAyBJ,GAAwB,SACjDK,GAAS,SAAUpyI,EAAMkuF,EAAOkwC,EAAK9kD,EAAOzzB,GAC9C,MAAO,CACL7lD,KAAMA,EACNkuF,MAAOA,EACPkwC,IAAKA,EACL9kD,MAAOA,EACPzzB,OAAQA,EAEZ,EAeIwsF,GAAiB,SAAUz1D,GAC7B,OAAOA,EAAI01D,WAAa11D,EAAIh+D,WAC9B,EAOI2zH,GAAgB,SAAU31D,GAC5B,OAJa,SAAUA,GACvB,OAAOA,GAAwB,MAAjBA,EAAI/uE,eAA6CnO,KAAxBk9E,EAAIh+E,IAAMg+E,EAAIp8E,KACvD,CAESgyI,CAAS51D,IAAQ61D,GAAW71D,EACrC,EACI81D,GAAW,SAAU91D,GACvB,OAAOA,GAAO,aAAa1tE,KAAK0tE,EAAI/uE,SACtC,EACI4kI,GAAa,SAAU71D,GACzB,OA9BiC,SAAUzwE,GAC3C,KAAOA,EAAOA,EAAKkK,YAAY,CAC7B,IAAIpW,EAAQkM,EAAK8lI,gBACjB,GAAIhyI,GAAmB,YAAVA,EACX,OAAOiyI,GAAsB/lI,EAEjC,CACA,OAAO,CACT,CAsBSwmI,CAA6B/1D,KAASu1D,GAAuBv1D,EACtE,EACIg2D,GAAgB,SAAUh2D,GAC5B,OAAO81D,GAAS91D,IAAQ61D,GAAW71D,EACrC,EAIIi2D,GAAe,SAAUj2D,GAC3B,IAAIk2D,EAtBgB,SAAUl2D,GAC9B,OAAOA,EAAIh+E,GAAKg+E,EAAIh+E,GAAKk3B,GAAW,IACtC,CAoBiBi9G,CAAgBn2D,GAI/B,OAAOw1D,GAAO,SAAUC,GAAez1D,GAAM,IAAMk2D,EARtC,SAAUl2D,GACvB,OAAO81D,GAAS91D,GAAOzpE,SAASypE,EAAI/uE,SAAS1C,OAAO,GAAI,IAAM,CAChE,CAM+D6nI,CAASp2D,IAHzD,WACXA,EAAIh+E,GAAKk0I,CACX,GAEF,EACIG,GAAe,SAAUr2D,GAC3B,IAAIs2D,EAAWt2D,EAAIh+E,IAAMg+E,EAAIp8E,KACzB2yI,EAAad,GAAez1D,GAChC,OAAOw1D,GAAO,SAAUe,GAA0B,IAAMD,EAAU,IAAMA,EAAU,EAAGrxI,EACvF,EAOIuxI,GAAoB,SAAUx2D,GAChC,IAhDqBloE,EAAUy3B,EAgD3BknG,GAhDiB3+H,EAgDH,kCAhDay3B,EAgDsBywC,EA/C9Cr1E,EAAM04C,GAAY7zC,GAAaF,QAAQigC,GAAOz3B,IAAW,SAAU9G,GACxE,OAAOA,EAAQ7B,GACjB,KA8CA,OAAOsnI,CACT,EACIC,GAAW,SAAUvjI,GACvB,OAAOgwC,GAAKhwC,EAAOm+E,OAAOtsF,OAAS,CACrC,EAKI2xI,GAJO,SAAU32D,GACnB,IAAIy2D,EAAOD,GAAkBx2D,GAC7B,OAAOh1E,EAfc,SAAUyrI,GAC/B,OAAO9rI,EAAMK,EAASyrI,EAAMT,IAAgBC,GAC9C,CAakBW,CAAiBH,GAAMvwI,OAZlB,SAAUuwI,GAC/B,OAAO9rI,EAAMK,EAASyrI,EAAMd,IAAgBU,GAC9C,CAUgDQ,CAAiBJ,IAAQC,GACzE,EAGII,GAAc,sBAEdC,GAAY,SAAUvV,GACxB,OAAOt9H,EAASs9H,IAAQ,UAAUlvH,KAAKkvH,EACzC,EAIIwV,GAAqB,SAAUzsI,GACjC,OAAOpG,EAASoG,IAAM+C,GAAO/C,GAAG,SAAUlH,GACxC,QAJKe,EADoBH,EAKJZ,IAJFY,EAAEe,QALJ,GAKgCqE,EAAOpF,EAAG8yI,KAD5C,IAAU9yI,CAM3B,IAAGwE,QACL,EACIwuI,GAAgB,WAClB,IAII3L,EAJA4L,EAAkB//C,GAASxV,QAAQm1D,IACvC,GAAwB,OAApBI,EACF,MAAO,CAAC,EAGV,IACE5L,EAAUljH,KAAKkvB,MAAM4/F,EAOvB,CANE,MAAO1vI,GACP,GAAIA,aAAa2vI,YAEf,OADAlnI,QAAQigB,IAAI,iBAAmB4mH,GAAc,sBAAuBtvI,GAC7D,CAAC,EAEV,MAAMA,CACR,CACA,OAAKwvI,GAAmB1L,GAIjBA,GAHLr7H,QAAQigB,IAAI,iBAAmB4mH,GAAc,wBAAyBxL,GAC/D,CAAC,EAGZ,EAOIE,GAAa,SAAUN,GACzB,IAAII,EAAU2L,KACd,OAAOzpI,GAAM89H,EAASJ,GAAUxiI,MAAM,GACxC,EACI0lI,GAAe,SAAU5M,EAAK0J,GAChC,GAAK6L,GAAUvV,GAAf,CAGA,IAAI8J,EAAU2L,KACV5oF,EAAQ7gD,GAAM89H,EAASJ,GAAUxiI,MAAM,IACvC0uI,EAAkBpsI,EAASqjD,GAAO,SAAUrxC,GAC9C,OAAOA,IAASwkH,CAClB,IACA8J,EAAQJ,GAAY,CAAC1J,GAAKt7H,OAAOkxI,GAAiBlvI,MAAM,EApDrC,GAiCD,SAAUojI,GAC5B,IAAK0L,GAAmB1L,GACtB,MAAM,IAAI/kI,MAAM,4BAA8B6hB,KAAKC,UAAUijH,IAE/Dn0C,GAASa,QAAQ8+C,GAAa1uH,KAAKC,UAAUijH,GAC/C,CAeE+L,CAAc/L,EAPd,CAQF,EAEIgM,GAAW,SAAUj0I,GACvB,QAASA,CACX,EACIk0I,GAAU,SAAUl0I,GACtB,OAAOuJ,GAAMw2G,GAASm0B,QAAQl0I,EAAO,QAASi0I,GAChD,EACIE,GAAY,SAAUx6D,GACxB,OAAOnzE,EAAS/B,KAhsVU,SAAUk1E,GACpC,OAAOA,EAAO8O,SAAS,uBACzB,CA8rVuB2rD,CAAsBz6D,IAAS1zE,OAAO5E,EAC7D,EAWIgzI,GAAmB,SAAU16D,EAAQqxD,GACvC,IAAIsJ,EAXe,SAAU36D,GAC7B,IAAI46D,EAAe/tI,EAASJ,KAhsVL,SAAUuzE,GACjC,OAAOA,EAAO8O,SAAS,oBACzB,CA8rVmC+rD,CAAmB76D,IAAS1zE,OAAOguI,IAChEQ,EAAiBjuI,EAASJ,KA9rVE,SAAUuzE,GAC1C,OAAOA,EAAO8O,SAAS,8BACzB,CA4rVqCisD,CAA4B/6D,IAAS1zE,OAAOguI,IAC3EU,EAAWJ,EAAa7uI,GAAG+uI,GAAgB7uI,IAAIsuI,IACnD,OAAOC,GAAUx6D,GAAQ10E,KAAK9B,GAAO,SAAUyxI,GAC7C,OAAOD,EAAS1vI,KAAK7B,GAAQ,SAAUyxI,GACrC,OAAO1rI,GAAK0rI,GAAOlzI,OAAS,GAAIkzI,CAClC,GACF,GACF,CAEoBC,CAAen7D,GACjC,OAAI14E,EAAUqzI,GACLA,EAAcH,GAAUx6D,GAAUnzE,EAAS1B,OAE3CwvI,EAAYtJ,GAAYmJ,GAAUx6D,GAAUnzE,EAAS1B,MAEhE,EA2BIiwI,GAAiB,SAAU/0I,GAC7B,OAAOwG,EAAS/B,KAAKzE,GAAOiG,OAAOpF,GAAU4E,gBAC/C,EAcIuvI,GAAoB,SAAUr7D,GAChC,MAAO,CACLwuD,WAAYA,GACZ4C,aAAcA,GACd/C,mBAAoB,WAClB,OAlBmB,SAAUruD,GACjC,OAzuVoB,SAAUA,GAC9B,OAA6C,IAAtCA,EAAO8O,SAAS,iBACzB,CAuuVMwsD,CAAgBt7D,GACXnzE,EAAS1B,OAEX0B,EAASJ,KAAK,CACnB2gI,QAASuM,GAAiB35D,EAAO7hE,WACjCwvH,UAAWyN,GAAepqD,GAAahR,IACvC6tD,aAAcuN,GAAenqD,GAAgBjR,KAEjD,CASaquD,CAAmBruD,EAC5B,EACAwxD,qBAAsB,WACpB,OAXqB,SAAUxxD,GACnC,OAAOnzE,EAAS/B,KA1uVkB,SAAUk1E,GAC5C,IAAIp8D,EAAUo8D,EAAO8O,SAAS,qCAAiChpF,EAAW,YAC1E,YAAgBA,IAAZ8d,EACKo8D,EAAO8O,SAAS,oCAAgChpF,EAAW,YAE3D8d,CAEX,CAmuVuB23H,CAA8Bv7D,GACrD,CASawxD,CAAqBxxD,EAC9B,EACAiyD,aAAc,SAAUZ,GACtB,OArDa,SAAUrxD,EAAQqxD,GACnC,OAAOqJ,GAAiB16D,EAAQqxD,GAAUplI,KAAI,SAAUkkI,GACtD,OAAO,SAAUqL,GACf,OAAOvrC,IAAU,SAAU0hC,GACzB,IAaIjgF,EAAO5nD,EAAS,CAClBunI,SAAUA,EACViB,UAAWkJ,EAAMlJ,WAChBzlI,EAAS/B,KAAK0wI,EAAM9pF,MAAMhmD,MAAM,CAAC,IACpCykI,EAAO9lI,KAAK21E,GAjBE,SAAU35E,EAAOqrD,GAC7B,IAAKxqD,EAASb,GACZ,MAAM,IAAIkD,MAAM,+BAElB,QAAazD,IAAT4rD,IAAuBvqD,EAASuqD,GAClC,MAAM,IAAInoD,MAAM,gCAMlBooI,EAJQ,CACNtrI,MAAOA,EACPqrD,KAAMA,GAGV,GAK6B8pF,EAAMn1I,MAAOqrD,EAC5C,GACF,CACF,GACF,CA4BaugF,CAAajyD,EAAQqxD,EAC9B,EAEJ,EAEIoK,GAAS,SAAU3tF,EAAMkyB,EAAQu0D,GACnC,IAAImH,EAAmBppH,IAAK,GACxBm9D,EA/gBgB,SAAUzP,GAC9B,IAAIhlC,EAAO1oB,GAAKg+D,GAAwBtQ,GAAU,SAAW,OAC7D,MAAO,CACLgB,kBAAmB,WACjB,MAAsB,QAAfhmC,EAAKz6B,KACd,EACAo7H,eAAgB3gG,EAAKz6B,IACrBq7H,eAAgB5gG,EAAKn6B,IAEzB,CAsgBgBg7H,CAAgB77D,GAC1BI,EAAY,CACdC,OAAQ,CACNQ,UAAW,CACT36E,MAAO,WACL,OAAO85E,EAAOmI,GAAGC,SAASC,SAASniF,KACrC,EACA6tE,UAAW,WACT,OAAOiM,EAAOmI,GAAGC,SAASC,SAAStU,SACrC,EACAryD,UAAW07D,GAAS17D,UACpB+5C,WAAY,WACV,OAAOukB,EAAOhlC,KAAK02C,cAAgB1R,EAAOmI,GAAG1sB,YAC/C,EACAisD,WAAY1nC,EAAO8O,SAAS3iF,KAAK6zE,IAEnC6uD,YAAa,SAAU5kI,GACrB,OAxsBmB,SAAUo1B,EAAM+gD,GAEzC,OAAO2zD,GADKJ,GACiBt0G,EAAM+gD,EACrC,CAqsBe07D,CAAqB7xI,EAAGm2E,EACjC,EACAuB,QAASkzD,GAAW70D,EAAQu0D,EAAe9kD,EAAQzO,mBACnDD,OAAQ0O,EACR3O,QAAS,WACP,OAAOn4D,GAAOtiB,MAAMynD,EACtB,GAEFmjF,SAAUoK,GAAkBr7D,GAC5B+7D,YAAa1E,GAAOr3D,GACpB2f,WAAYs1C,GAAoBj1D,GAChCsc,OAAQ84C,GAAgBp1D,GACxBg8D,kBAAmB,WACjB,OAAON,EAAiBn7H,KAC1B,EACA07H,oBAAqB,SAAUt4G,GAC7B,OAAO+3G,EAAiB76H,IAAI8iB,EAC9B,GAEF,OAAOy8C,CACT,EAwGI87D,GAAUtjF,GACVujF,GAAWhmF,GAEXimF,GAAW3zI,EAAW,CACxBopB,GAAU,SAAS,GACnBlB,GAAW,YACXkB,GAAU,YAAa5pB,GACvBgrD,GAAuB,iBAAkB,CAACib,OAKxCmuE,GAAYvnF,GAAS,CACvBluD,KAAM,QACN85C,UALqB,WACrB,MAAO,CAAExgB,WAAYmR,GAAS,CAAC68B,GAAUxqC,OAAO,CAAC,KACnD,IAKI44G,GAAU7zI,EAAW,CAAC4zI,KACtBz1I,GAAO6B,EAAW,cA6ClB8zI,GAAaziF,GAAU,CACzBlzD,KAAMA,KACNgzD,aAAcwiF,KACdriF,WAAYuiF,KACZllF,QA/Cc,SAAU39B,EAAQ6K,EAAY4uC,EAAOspE,GACnD,IAwBItvH,EAAQuM,EAAOgjH,MAAQ,CACzBv8G,WAAY,CAACguC,GAAUxqC,OAAO,CAAC,IAC/BY,WAAY,IACV,CACFpE,WAAY,GACZoE,WAAYA,GAEVo4G,EAAmB,SAAU7nH,GAC/B,OAAO4E,EAAOgjH,MAAQ5vI,EAASJ,KAAKooB,GAAa6iC,GAAQ7iC,EAAW4E,EAAQ,QAC9E,EACA,MAAO,CACLE,IAAKF,EAAOE,IACZxnB,IAAKsnB,EAAOtnB,IACZmyB,WAAYpX,EAAMoX,WAClBpE,WAAY8yB,GAAQv5B,EAAOkjH,eAAgBzvH,EAAMgT,YACjDmG,KAAM,CAAEu2G,SAvCK,SAAUt5G,EAAM+tB,GAC7BqrF,EAAiBp5G,GAAMh4B,MAAK,WAE1B,MADA2H,QAAQC,MAAM,gGACR,IAAI3J,MAAM,+FAClB,IAAG,SAAUkyB,GACX,IAAIohH,EAAY3uE,GAAU/e,SAAS1zB,GAC/BqhH,EAAmBzrF,EAAMrpD,OACzB+0I,EAAgBD,EAAmBD,EAAU70I,OAC7Cg1I,EAAaD,EAAgB,EAAI1vI,EAAQ0vI,GAAe,WAC1D,OAAOtjH,EAAOwjH,UAChB,IAAK,GACDC,EAAgBL,EAAU3xI,MAAM4xI,GACpClvI,EAAOsvI,GAAe,SAAUl9H,GAC9B,OAAOkuD,GAAUprC,OAAOrH,EAAWzb,EACrC,IACApS,EAAOovI,GAAY,SAAUh9H,GAC3B,OAAOkuD,GAAUvoE,OAAO81B,EAAWzb,EACrC,IACA,IAAIm9H,EAAajvE,GAAU/e,SAAS1zB,GACpC7tB,EAAOuvI,GAAY,SAAUn9H,EAAMlY,GACjC2xB,EAAO2jH,UAAU95G,EAAMtjB,EAAMqxC,EAAMvpD,GAAIA,EACzC,GACF,GACF,GAkBF,EAMEu+B,KAAM,CACJu2G,SAAU,SAAUv2G,EAAM/C,EAAM+tB,GAC9BhrB,EAAKu2G,SAASt5G,EAAM+tB,EACtB,KAIAgsF,GAAW50I,EAAW,CACxBkoB,GAAW,OACXkB,GAAU,SAAS,GACnB3F,GAAM,oBAAqB,CAACgiD,OAK1BovE,GAAU70I,EAAW,CAACqsD,GAAS,CAC/BluD,KAAM,SACN85C,UALgB,WAClB,MAAO,CAAExgB,WAAYmR,GAAS,CAAC68B,GAAUxqC,OAAO,CAAC,KACnD,MAkCI65G,GAAUzjF,GAAU,CACtBlzD,KAAM,UACNgzD,aAAcyjF,KACdtjF,WAAYujF,KACZlmF,QAhCc,SAAU39B,EAAQ6K,EAAY4uC,EAAOC,GACnD,IAQIqqE,EAAoB,SAAU3oH,GAChC,OAAO4E,EAAOgjH,MAAQ5vI,EAASJ,KAAKooB,GAAa6iC,GAAQ7iC,EAAW4E,EAAQ,SAC9E,EACIvM,EAAQuM,EAAOgjH,MAAQ,CACzBv8G,WAAY,CAACguC,GAAUxqC,OAAO,CAAC,IAC/BY,WAAY,IACV,CACFpE,WAAY,GACZoE,WAAYA,GAEd,MAAO,CACL3K,IAAKF,EAAOE,IACZxnB,IAAKsnB,EAAOtnB,IACZmyB,WAAYpX,EAAMoX,WAClBpE,WAAY8yB,GAAQv5B,EAAOgkH,kBAAmBvwH,EAAMgT,YACpDmG,KAAM,CAAEq3G,UAvBM,SAAUjuD,EAASkuD,GACjCH,EAAkB/tD,GAASnkF,MAAK,WAE9B,MADA2H,QAAQC,MAAM,8FACR,IAAI3J,MAAM,6FAClB,IAAG,SAAUkyB,GACXyyC,GAAUrtD,IAAI4a,EAAWkiH,EAC3B,GACF,GAiBEn5G,gBAAiB,CAAE7E,WAAY,CAAE2zC,KAAM,UAE3C,EAMEjtC,KAAM,CACJq3G,UAAW,SAAUr3G,EAAMopD,EAASkuD,GAClCt3G,EAAKq3G,UAAUjuD,EAASkuD,EAC1B,KAIAC,GAAU31I,EACV41I,GAAar0I,EACbs0I,GAAkBr1I,EAAW,IAE7Bs1I,GAA4Bh0I,OAAO+c,OAAO,CAC1CC,UAAW,KACXkwD,MAAO2mE,GACPI,SAAUH,GACVI,cAAeH,KAGfI,GAAkB,SAAUlqI,GAG9B,OAFcpD,GAAKgP,GAAO5L,EAAS,YAAa,SACjBnH,EAAS1B,OAASuR,GAAa1I,IACxChI,SAAQ,WAC5B,IAAIoY,EAAS5R,GAAaW,QAAQ,QAClC,OAAOqJ,GAAOxI,GAAS7H,MAAK,SAAUqQ,GACpCgI,GAAShI,EAAQ4H,GACjB,IAAI+5H,EAAiBzhI,GAAa0H,GAElC,OADAc,GAASd,GACF+5H,CACT,GACF,GACF,EACIC,GAAY,SAAUpqI,GACxB,OAAOkqI,GAAgBlqI,GAAS/H,IAAI4V,IAAYlW,YAAW,WACzD,OAAOgW,GAAc,EAAG,EAC1B,GACF,EAEI08H,GAAW7rH,GAAa,CAC1B,CAAE8rH,OAAQ,IACV,CAAEx9F,SAAU,CAAC,gBACb,CAAExN,MAAO,CAAC,kBAERirG,GAAS,SAAU1pH,EAAW2pH,GAChC,IAAIzjI,EAAO8Z,EAAU7gB,QACrB0uB,GAAM3nB,EAAMyjI,EAAeC,iBAC3B57G,GAAS9nB,EAAMyjI,EAAeE,cAC9Bh8G,GAAM3nB,EAAMyjI,EAAeG,aAC3BH,EAAe5iE,OAAO/mD,EACxB,EACI+pH,GAAY,SAAU/pH,EAAW2pH,GACnC,IAAIzjI,EAAO8Z,EAAU7gB,QACrB0uB,GAAM3nB,EAAMyjI,EAAeC,iBAC3B57G,GAAS9nB,EAAMyjI,EAAeG,aAC9Bj8G,GAAM3nB,EAAMyjI,EAAeE,cAC3BF,EAAe3iE,OAAOhnD,EACxB,EAUIgqH,GAAoB,SAAUjtG,EAAOpvB,EAAK6xB,GAC5C,OAAOhoC,EAAOulC,GAAO,SAAUoJ,GAC7B,OAAQA,GACR,IAAK,SACH,OAP0B,SAAUx4B,EAAK6xB,GAC7C,OAAO7xB,EAAIqD,QAAUwuB,EAASxuB,MAChC,CAKai5H,CAA0Bt8H,EAAK6xB,GACxC,IAAK,MACH,OAZuB,SAAU7xB,EAAK6xB,GAC1C,OAAO7xB,EAAI9O,GAAK2gC,EAAS3gC,CAC3B,CAUaqrI,CAAuBv8H,EAAK6xB,GAEvC,GACF,EACI2qG,GAAW,SAAUjkI,EAAM4oB,GAC7B,OAAOA,EAAMs7G,gBAAgBhzI,KAAI,SAAUsoC,GACzC,OAAO/sB,GAAO+sB,EAAI/sB,OAAOlhB,EAAGiuC,EAAI/sB,OAAO9T,EAAGiP,GAAM5H,GAAOuG,GAAMvG,GAC/D,GACF,EAQImkI,GAAmB,SAAUnkI,EAAMyH,EAAKmhB,GAC1C,OAAOA,EAAMs7G,gBAAgB9yI,MAAK,SAAU0b,GAE1C,OADA8b,EAAMw7G,kBACEt3H,EAASA,UACjB,IAAK,SACH,OAAOhb,EAASJ,KAAK4xI,GAASC,UAChC,IAAK,WACH,IAAIc,EAAclB,GAAgBnjI,GAAM9O,IAAIwb,IAAO9b,YAAW,WAC5D,OAAO8b,GAAM/J,KACf,IACA,OAAO7Q,EAASJ,KAAK4xI,GAASv9F,SAAS9N,GAAc,WAAYxiC,GAAMqX,EAASzV,MAAO,QAAQnG,KAAI,SAAUozI,GAC3G,OAAO78H,EAAIlc,EAAI84I,EAAY94I,CAC7B,IAAIkK,GAAMqX,EAASzV,MAAO,OAAOnG,KAAI,SAAUqzI,GAC7C,OAAO98H,EAAI9O,EAAI0rI,EAAY1rI,CAC7B,IAAIlD,GAAMqX,EAASzV,MAAO,SAASnG,KAAI,SAAUszI,GAC/C,OAAOH,EAAYx5H,MAAQpD,EAAIoD,KACjC,IAAIpV,GAAMqX,EAASzV,MAAO,UAAUnG,KAAI,SAAUuzI,GAChD,OAAOJ,EAAYv5H,OAASrD,EAAIqD,MAClC,OACF,QACE,OAAOhZ,EAAS1B,OAEpB,GACF,EAQIs0I,GAAe,SAAU1kI,EAAMs5B,EAAU1Q,GAC3C,IAAInhB,EAAMiF,GAAM1M,GAChB,GAAK8jI,GAAkBl7G,EAAM+7G,WAAYl9H,EAAK6xB,GAS5C,OAAOxnC,EAAS1B,QAjDH,SAAU4P,EAAMyH,EAAKmhB,GACpCA,EAAMg8G,cAAc,CAClBvtI,MAAO0N,GAAU/E,GACjB8M,SAAUpI,GAAM1E,EAAM,aAAe,SACrCyM,OAAQhF,GAEZ,CAmCIo9H,CAAW7kI,EAAMyH,EAAKmhB,GACtB,IAAIk8G,EAAS/9H,KACT/Q,EAAOyR,EAAIlc,EAAIu5I,EAAOv5I,EACtBw5I,EAAQzrG,EAAS3gC,EAAImsI,EAAOnsI,EAC5BmS,EAASg6H,EAAOh6H,OAASwuB,EAASxuB,OAClCk6H,EAAQv9H,EAAI9O,GAAK2gC,EAAS3gC,EAC9B,OAAO7G,EAASJ,KAAK4xI,GAAS/qG,MAAMN,GAAc,QAASnmC,EAASJ,KAAKsE,GAAOgvI,EAAQlzI,EAASJ,KAAKqzI,GAASjzI,EAAS1B,OAAQ0B,EAAS1B,OAAS40I,EAAgClzI,EAAS1B,OAAjC0B,EAASJ,KAAKoZ,KAI5K,EACIm6H,GAAW,SAAUnrH,EAAWwf,EAAU1Q,GAC5C,IAAI5oB,EAAO8Z,EAAU7gB,QAErB,OADepD,GAAKgP,GAAO7E,EAAM,YAAa,SAvB1B,SAAUA,EAAMs5B,EAAU1Q,GAC9C,OAAOq7G,GAASjkI,EAAM4oB,GAAOr3B,QAAO,SAAUkW,GAC5C,OAAOq8H,GAAkBl7G,EAAM+7G,WAAYl9H,EAAK6xB,EAClD,IAAGloC,MAAK,SAAUqW,GAChB,OAAO08H,GAAiBnkI,EAAMyH,EAAKmhB,EACrC,GACF,CAkBoBs8G,CAAgBllI,EAAMs5B,EAAU1Q,GAAS87G,GAAa1kI,EAAMs5B,EAAU1Q,EAC1F,EAQIu8G,GAAgB,SAAUrrH,EAAW6O,EAAQC,GAC/CA,EAAMw8G,WAAU,GAChBvyI,EAAO,CACL,OACA,QACA,MACA,SACA,aACC,SAAU+b,GACX,OAAOzJ,GAAS2U,EAAU7gB,QAAS2V,EACrC,IACA+Z,EAAO08G,WAAWvrH,EACpB,EACIwrH,GAAe,SAAUxrH,EAAW6O,EAAQC,EAAO9b,GACrD,IAAIm2H,EAAiC,UAAtBn2H,EAASA,SACxB8b,EAAMw8G,UAAUnC,GAChB9qG,GAAiBre,EAAU7gB,QAAS6T,IACvBm2H,EAAWt6G,EAAO48G,SAAW58G,EAAO08G,YAC1CvrH,EACT,EACI0rH,GAAmB,SAAU1rH,EAAW6O,EAAQC,EAAO0Q,EAAUmsG,QAC7C,IAAlBA,IACFA,GAAgB,GAElB98G,EAAO+8G,WAAWv0I,MAAK,SAAUw0I,GAC/BA,EAAYC,YAAY9rH,GAAW3oB,MAAK,SAAUsW,GAChD,IAAIk5B,EAlHe,SAAUl5B,EAAK6xB,GACtC,OAAO7xB,EAAI9O,EAAI2gC,EAASxuB,QAAUrD,EAAIqD,OAASwuB,EAAS3gC,CAC1D,CAgHsBktI,CAAmBp+H,EAAK6xB,GACpCqH,IAAc/X,EAAM+X,cACtB/X,EAAMk9G,WAAWnlG,GACb8kG,IAAkB9kG,GACpB1Y,GAAMnO,EAAU7gB,QAAS,CAAC0sI,EAAYhC,eACtCgC,EAAY7kE,OAAOhnD,KAEN6mB,EAAY6iG,GAASK,IAC3B/pH,EAAW6rH,GAGxB,GACF,GACF,EAkBII,GAAgB,SAAUjsH,EAAW6O,EAAQC,GAC/C,IAAI5oB,EAAO8Z,EAAU7gB,QACrB2vB,EAAMw8G,WAAU,GAlEO,SAAUtrH,EAAW8O,GAC5C,IAAI5oB,EAAO8Z,EAAU7gB,QACrB,OAAOgrI,GAASjkI,EAAM4oB,GAAOx3B,MAAK,SAAUqW,GAC1C,OAAO08H,GAAiBnkI,EAAMyH,EAAKmhB,EACrC,GACF,CA8DEo9G,CAAmBlsH,EAAW8O,GAAOz3B,MAAK,SAAU80I,GAClDA,EAAM11I,MAAK,WACT,OAAO40I,GAAcrrH,EAAW6O,EAAQC,EAC1C,IAAG,SAAU9b,GACX,OAAOw4H,GAAaxrH,EAAW6O,EAAQC,EAAO9b,EAChD,GAAG5f,EACL,IACA07B,EAAMk9G,YAAW,GACjBn9G,EAAO+8G,WAAWv0I,MAAK,SAAUw0I,GAC/Bz9G,GAASloB,EAAM,CACb2lI,EAAY/B,YACZ+B,EAAYhC,aACZgC,EAAYjC,kBAEdiC,EAAY9kE,OAAO/mD,EACrB,IACAosH,GAAUpsH,EAAW6O,EAAQC,EAC/B,EACIs9G,GAAY,SAAUpsH,EAAW6O,EAAQC,GACvC9O,EAAUiE,YAAYiF,eAvCN,SAAUlJ,EAAW6O,EAAQC,GACjD,IAAI0Q,EAAW3Q,EAAOw9G,aAAarsH,GACpB8O,EAAMq6G,YAEnBuC,GAAiB1rH,EAAW6O,EAAQC,EAAO0Q,GAE7C2rG,GAASnrH,EAAWwf,EAAU1Q,GAAOz3B,MAAK,SAAU80I,GAClDA,EAAM11I,MAAK,WACT,OAAO40I,GAAcrrH,EAAW6O,EAAQC,EAC1C,IAAG,SAAU9b,GACX,OAAOw4H,GAAaxrH,EAAW6O,EAAQC,EAAO9b,EAChD,IAAG,SAAUA,GACX04H,GAAiB1rH,EAAW6O,EAAQC,EAAO0Q,GAAU,GACrDgsG,GAAaxrH,EAAW6O,EAAQC,EAAO9b,EACzC,GACF,GACF,CAwBIs5H,CAAgBtsH,EAAW6O,EAAQC,EAEvC,EACI0nB,GAAQ,SAAUx2B,EAAW6O,EAAQC,GACnCA,EAAMq6G,YACR8C,GAAcjsH,EAAW6O,EAAQC,EAErC,EAWIy9G,GAA2Br3I,OAAO+c,OAAO,CACzCC,UAAW,KACX6uD,QAASqrE,GACT51F,MAAOA,GACP2yF,SAda,SAAUnpH,EAAW6O,EAAQC,GAC5C,OAAOA,EAAMq6G,UACf,EAaI0B,SATW,SAAU7qH,EAAW6O,EAAQC,GAC1C,OAAOA,EAAM+7G,UACf,EAQI2B,SAbW,SAAUxsH,EAAW6O,EAAQC,EAAOiO,GACjD,OAAOjO,EAAM09G,SAASzvG,EACxB,IAsCI0vG,GAA6Bv3I,OAAO+c,OAAO,CAC3CC,UAAW,KACXiV,OA1BW,SAAUulH,EAAUC,GACjC,OAAOvoH,GAAS,CACdqB,GAAY5D,MAAiB,SAAU7B,EAAWC,GAChDysH,EAASd,WAAWv0I,MAAK,SAAUw0I,GAC7B39G,GAAIlO,EAAU7gB,QAAS0sI,EAAYjC,mBACrCx7G,GAASpO,EAAU7gB,QAAS,CAC1B0sI,EAAYjC,gBACZiC,EAAY/B,eAED6C,EAAU9lG,YAAcglG,EAAYe,QAAUf,EAAYgB,UAChE7sH,IAETC,EAAe3R,MACjB,GACF,IACAiW,GAAMxB,MAAgB,SAAU/C,EAAWzM,GACzC64H,GAAUpsH,EAAW0sH,EAAUC,EACjC,IACApoH,GAAMvB,MAAgB,SAAUhD,EAAWzM,GACzCijC,GAAMx2B,EAAW0sH,EAAUC,EAC7B,KAEJ,IAOIG,GAAgB,CAClB/vH,GAAY,aAAc,CACxBd,GAAe,eACfA,GAAe,gBACfA,GAAe,mBACfE,GAAiB,eACjBia,GAAU,UACVA,GAAU,WACVA,GAAU,UACVA,GAAU,cAEZ9Y,GAAkB,eAAgBrQ,IAClCsQ,GAAiB,QAAS,CACxB,MACA,UACCvD,IACHoc,GAAU,YACVA,GAAU,eA8BR22G,GAAUpwG,GAAS,CACrB1kB,OAAQ60H,GACR/6I,KAAM,UACN6pC,OAAQ6wG,GACRj7G,KAAM+6G,GACNz9G,MAV8B55B,OAAO+c,OAAO,CAC1CC,UAAW,KACXmY,KAxBS,SAAUG,GACrB,IAAIwiH,EAASvvH,IAAK,GACdwvH,EAAUxvH,IAAK,GACfyvH,EAAgBppG,KAChB/G,EAAQtf,GAAK+M,EAAKuS,OAItB,OAAOzS,GAAK,CACV6+G,SAAU6D,EAAOthI,IACjB4/H,UAAW0B,EAAOhhI,IAClBo+H,cAAe8C,EAAcxhI,IAC7Bo/H,cAAeoC,EAAclhI,IAC7Bs+H,gBAAiB4C,EAAczpG,MAC/BoD,UAAWomG,EAAQvhI,IACnBsgI,WAAYiB,EAAQjhI,IACpB6+H,SAAU9tG,EAAMrxB,IAChB8gI,SAAUzvG,EAAM/wB,IAChBue,UAbc,WACd,MAAO,YAAcyiH,EAAOthI,MAAQ,cAAgBuhI,EAAQvhI,MAAQ,YAAcqxB,EAAMrxB,MAAM6M,KAAK,IACrG,GAaF,MAeI40H,GAAsBv5I,EAAWyzB,GAAW,0BAE5C+lH,GAAa,CACftD,YAAa,yBACbD,aAAc,0BACdD,gBAAiB,8BAEfyD,GAAsB,iCACtBC,GAAuB,kCAuBvBC,GAAe,SAAUrhE,EAAQ/lC,GACnC,OAAO7tC,EAAWy0I,GAAQlC,SAAS3+D,GAAS/lC,EAC9C,EACIqnG,GAA0B,SAAUthE,GACtC,IAGIiC,EAAMjC,EAAO/sE,QACjBwI,GAAOwmE,GAAK92E,MAAK,SAAUo2I,GACzB,IAAIC,EAAU,WAAaX,GAAQlC,SAAS3+D,GAAQ,GACpD,GAAI6gE,GAAQ5D,SAASj9D,GAAS,CAC5B,IAAIyhE,EAAc7/H,GAAM2/H,GACxBjjI,GAAM2jE,EAAK,QAASw/D,EAAc,MAClCnjI,GAAMijI,EAAYC,EATE,SAAUv/D,GAChC,OAAOzhE,GAAWyhE,IAAQzpE,SAASkG,GAAMujE,EAAK,cAAe,KAAO,IAAMzpE,SAASkG,GAAMujE,EAAK,iBAAkB,KAAO,EACzH,CAO+By/D,CAAkBz/D,GAAO,KACtD,MACE9iE,GAAS8iE,EAAK,SACd9iE,GAASoiI,EAAYC,EAEzB,GACF,EACIG,GAAuB,SAAUC,EAAUb,GACzCA,GACFj/G,GAAS8/G,EAAUV,GAAWvD,cAC9B17G,GAAM2/G,EAAU,CACdV,GAAWxD,gBACXwD,GAAWtD,gBAGb97G,GAAS8/G,EAAUV,GAAWtD,aAC9B37G,GAAM2/G,EAAU,CACdV,GAAWvD,aACXuD,GAAWxD,kBAGjB,EACImE,GAAsB,SAAU5iE,EAAQ6hE,GAC1C,IAAIgB,EAAkBrwI,GAAaF,QAAQ0tE,EAAOywB,gBAC9CoxC,GACFn/G,GAAMmgH,EAAiBX,IACvBr/G,GAASggH,EAAiBV,MAE1Bz/G,GAAMmgH,EAAiBV,IACvBt/G,GAASggH,EAAiBX,IAE9B,EAyDIjE,GAAgB,SAAUj+D,EAAQG,GACpC,IAAI2iE,EAAanqG,KACb+hC,EAAWyF,EAAgBW,QAC3BiiE,EAAmB,SAAU35I,GAC/BsxE,IAAWxuE,MAAK,SAAU4hD,GACxB,OAAO1kD,EAAE0kD,EAAK95C,QAChB,GACF,EACIgvI,EAAkB,SAAUpkH,GACzBohD,EAAOwQ,QACV6xD,GAAwBzjH,GAE1BgkH,GAAoB5iE,EAAQ4hE,GAAQ5D,SAASp/G,IAC7CA,EAAK9F,YAAY0E,YAAY,CAAC8xB,MAAqB,CAAC,GACpDorB,IAAWxuE,MAAK,SAAU4hD,GACxB,OAAOA,EAAKh1B,YAAY0E,YAAY,CAAC8xB,MAAqB,CAAC,EAC7D,GACF,EACI2zF,EAAuBjjE,EAAOwQ,OAAS,GAtBnB,WACxB,IAAIl3E,EACJ,MAAO,CAACy4B,GAAUrO,OAAO,CAAE0L,UAAW91B,EAAK,CAAC,EAAGA,EAAG0oI,MAAyB,CAAEryG,UAAW0yG,IAA2B/oI,KACrH,CAmBkD4pI,GAChD,OAAOt4I,EAAc,CACnBqkE,GAASvrC,OAAO,CAAC,GACjBk+G,GAAQl+G,OAAO,CACb+8G,WAAY32I,EAAS,CACnB62I,YAAa,SAAU/hH,GACrB,IAAIukH,EAAe5hI,GAAWqd,EAAK5qB,SAC/BynB,EAAYukD,EAAOwQ,OAASxQ,EAAOkB,0BAA4BlB,EAAOywB,eACtEjuF,EAAMiF,GAAMjV,GAAaF,QAAQmpB,IACjC2nH,EAAY5gI,EAAIpB,OAAS+hI,EACzBE,EAAW7gI,EAAI9O,GAAK0uI,GAAaxjH,EAAM,OAAS,EAAIukH,GACxD,OAAOt2I,EAASJ,KAAK+a,GAAOhF,EAAIlc,EAAG+8I,EAAU7gI,EAAImD,MAAOy9H,GAC1D,EACAxnE,OAAQ,WACNmnE,GAAiB,SAAUhoI,GACzB,OAAO2nI,GAAqB3nI,GAAM,EACpC,GACF,EACA0mI,QAAS,SAAU7iH,GACjBmkH,GAAiB,SAAUhoI,GACzB,OAAOkoB,GAASloB,EAAM,CACpBknI,GAAWxD,gBACXwD,GAAWtD,aAEf,IACAmE,EAAWviI,MAAMrU,MAAK,SAAU6O,GAnGvB,IAAUuoI,EAAYC,EACnCC,EADuBF,EAoGJ1kH,EAAK5qB,QAnGxBwvI,EAAWtnI,GADwBqnI,EAoGFxoI,GAlGrC01B,GAAO+yG,GAAUl3I,QAAO,SAAUm3I,GAChC,OAAQpoI,GAAGkoI,EAAaE,EAC1B,IAAGn3I,QAAO,SAAUm3I,GAClB,OAAOpoI,GAAGooI,EAAWjxI,GAAaF,QAAQkxI,EAASrxI,IAAIuL,QAAU5B,GAASwnI,EAAYG,EACxF,IAAGv3I,MAAK,WACN,OAAOkmC,GAAQmxG,EACjB,IA6FUT,EAAWxqG,OACb,GACF,EACAujC,OAAQ,SAAUj9C,IA9FJ,SAAU8kH,EAAShpE,GACvC,OAAO1kE,GAAO0tI,GAAS13I,SAAQ,WAC7B,OAAO0uE,IAAWnyD,aAAapc,MAAK,SAAU2hD,GAC5C,OAAO93C,GAAO83C,EAAK95C,QACrB,GACF,GACF,EAyFU2vI,CAAgB/kH,EAAK5qB,QAAS0mE,GAAUpvE,KAAKw3I,EAAWxqG,MAAOwqG,EAAWjiI,KAC1EkiI,GAAiB,SAAUhoI,GACzB,OAAO2nI,GAAqB3nI,GAAM,EACpC,GACF,EACA2mI,SAAU,WACRqB,GAAiB,SAAUhoI,GACzB,OAAOkoB,GAASloB,EAAM,CAACknI,GAAWxD,iBACpC,GACF,GACCwD,IACHf,aAAc,SAAUtiH,GACtB,IAAIuiD,EAAQr/D,KACR9E,EA5jXiB,SAAUgjE,GACrC,OAAOA,EAAO8O,SAAS,wBAAyB,EAAG,SACrD,CA0jXqB80D,CAAuB5jE,GAChCv+D,EAAM0/D,EAAMztE,GAAK0uI,GAAaxjH,EAAM,OAAS5hB,EAAS,GACtDoE,EAAS+/D,EAAM//D,QAAUghI,GAAaxjH,EAAM,UAAY5hB,EAAS,GACrE,OAAOwK,GAAO25D,EAAM76E,EAAGmb,EAAK0/D,EAAMx7D,MAAOvE,EAC3C,EACAwwB,MAAO,CAACuuC,EAAgBY,OAAO46D,kBAC/B2E,SAAU0C,EACV5C,WAAY4C,KAEbC,GAAsB,EAC3B,EAEIY,GAA4B95I,OAAO+c,OAAO,CAC1CC,UAAW,KACXkwD,MAnHU,SAAU+I,EAAQG,EAAiB2jE,GAC1C9jE,EAAOwQ,SACLrQ,EAAgBY,OAAOC,qBAC1BhB,EAAOloC,GAAG,gBAAgB,WACxBgsG,IAAa53I,KAAK01I,GAAQv2F,MAC5B,IAEF20B,EAAOloC,GAAG,6BAA6B,WACrCgsG,IAAa53I,KAAKm2I,GACpB,IACAriE,EAAOloC,GAAG,cAAc,WACtBgsG,IAAa53I,MAAK,SAAU0yB,GAC1BgjH,GAAQ5D,SAASp/G,GAAQgjH,GAAQv2F,MAAMzsB,GAAQgjH,GAAQhsE,QAAQh3C,EACjE,GACF,IACAohD,EAAOloC,GAAG,0BAA0B,WAClCgsG,IAAa53I,KAAK01I,GAAQv2F,MAC5B,KAEF20B,EAAOloC,GAAG,uBAAuB,SAAUttC,GACzCs5I,IAAa53I,MAAK,SAAU60E,GAC1B6gE,GAAQhsE,QAAQmL,GAChB,IAAIuiE,EAAaviE,EAAO/sE,QACpB0nC,GAAU4nG,IA3GS,SAAU94I,EAAGu5I,GACxC,IAAI7lI,EAAMhC,GAAQ6nI,GACdC,EAAa9lI,EAAI/L,IAAIoK,YAAY0nI,YACjCC,EAAY3+H,GAAMrH,GAClBimI,EAAgB3xI,GAAaF,QAAQ9H,EAAEw4E,KACvCohE,EAAYx8H,GAAWu8H,GACvBE,EAAe/iI,GAAM6iI,GACrBG,EAAYF,EAAU1wI,EACtB6wI,EAAeD,EAAYD,EAC3BG,EAAkB3iI,GAAWkiI,GAC7BU,EAAqBnjI,GAAMyiI,GAC3BW,EAAkBF,EAAgB/iI,IAClCkjI,EAAqBD,EAAkBD,EACvCG,EAA0Bv+H,KAAK0mE,IAAI23D,EAAkBR,EAAUziI,KAAO,EACtEojI,EAA6Bx+H,KAAK0mE,IAAI43D,GAAsBT,EAAUziI,IAAMuiI,IAAe,EAC/F,GAAIY,GAA2BN,EAAYK,EACzC95I,GAAGq5I,EAAUnzI,KAAMuzI,EAAYG,EAAoBvmI,QAC9C,GAAI2mI,GAA8BN,EAAeG,EAAiB,CACvE,IAAIhxI,EAAI4wI,EAAYN,EAAaK,EAAeI,EAChD55I,GAAGq5I,EAAUnzI,KAAM2C,EAAGwK,EACxB,CACF,CAuFQ4mI,CAAuBt6I,EAAG84I,EAE9B,GACF,IACAtjE,EAAOloC,GAAG,cAAc,WACtB8qG,GAAoB5iE,GAAQ,EAC9B,GACF,EAqFIg+D,SApFW,SAAU8F,GACvB,OAAOA,IAAa73I,IAAI21I,GAAQ5D,UAAUtyI,OAAM,EAClD,EAmFIuyI,cAAeA,KAcf8G,GAA2B/3H,GAAM,CACnC8D,GAAe,QACfF,GAAW,QAAS9C,GAAM,CACxBS,GAAS,CACPuC,GAAe,QACfO,GAAgB,QAASxC,MAE3BA,OAEF3lB,OAAO+9E,KAKL+9D,GAAuB,CACzBvzH,GAAa,QACbA,GAAa,WACbA,GAAa,QACbT,GAAiB,SACjBmB,GAAkB,WAAW,WAC3B,OAAOlqB,CACT,KAGEg9I,GAAmBj4H,GAAMpiB,EAAc,CAACkmB,GAAe,SAAUk0H,IAAsB,IACvFE,GAAmB,SAAU7lH,GAC/B,OAAOvP,GAAM,aAAcm1H,GAAkB5lH,EAC/C,EAEI8lH,GAAoBn4H,GAAM,CAC5B8D,GAAe,QACfW,GAAa,WACbA,GAAa,QACbA,GAAa,QACbC,GAAe,UACfV,GAAiB,SACjBmB,GAAkB,WAAW,WAC3B,OAAOlqB,CACT,IACAgqB,GAAoB,UAAW,SAAU,CACvC,SACA,QACA,gBAEFJ,GAAU,UAAW,GACrBb,GAAiB,YACjBA,GAAiB,kBAiFfo0H,GAAgBhyF,GAAO,CACzBgE,QA5Ec,SAAU39B,EAAQ4F,GAChC,IAgBIgH,EAAO,CACTgM,MAAOu6B,GAAO1L,QACdmkF,SAlBa,SAAUzmH,EAAMi1C,GAC7B,IAAIyxE,EAAW33I,EAAMkmE,GAAO,SAAU2jB,GACpC,IAAIg/B,EAAa,CACfpwH,KAAM,aACNkN,KAAMkkF,EAAElkF,KACRkzE,MAAO,SAAUmW,GACfA,EAASnF,EAAEy2C,WACb,GAEE5T,EAAW6qB,GAAiB1uB,GAAYluG,UAAS,SAAU6H,GAC7D,OAAOC,GAAYD,EACrB,IAAGvkB,WACH,OAAOypH,GAAiBgF,EAAU,WAAYh7F,EAAK+gD,UAAWvzE,EAASJ,KAAK,YAC9E,IACAyhE,GAAUrtD,IAAI+d,EAAM0mH,EACtB,GAKA,MAAO,CACL3rH,IAAKF,EAAOE,IACZxnB,IAAKsnB,EAAOtnB,IACZmyB,WAAY,GACZpE,WAAYmR,GAAS,CACnB68B,GAAUxqC,OAAO,CAAC,GAClBA,GAAO,iBAAkB,CACvBnJ,IAAc,SAAU1F,GACtB4E,EAAO04D,QAAQt9D,EACjB,IACAuE,GAAMlD,MAAa,SAAU0I,EAAMuhE,GACjCn4D,GAAWpJ,EAAK5qB,QAAS,qBAA0B9H,MAAK,SAAUq5I,GAChEp9G,GAAUg4D,EAAGp9E,MAAM5M,OAAQ,aAAkBjK,MAAK,SAAUs5I,GACrDnqI,GAAGkqI,EAAcC,IACpB5mH,EAAK9F,YAAYoB,SAASqrH,GAAcr5I,MAAK,SAAUu5I,GACrD7mH,EAAK9F,YAAYoB,SAASsrH,GAAet5I,MAAK,SAAUw5I,GACtDnxC,GAAS5+B,OAAO+vE,GAChBnxC,GAAS7lD,MAAM+2F,GACfx2E,GAAS58B,MAAMqzG,EACjB,GACF,GAEJ,GACF,GACF,IACAtsH,GAAMlB,MAAgB,SAAU0G,EAAMuhE,GACpCA,EAAGp9E,MAAM+8C,UAAU3zD,MAAK,SAAUw5I,GAChC,OAAO/mH,EAAK9F,YAAYoB,SAASyrH,GAAMp9H,YACzC,IAAGrc,MAAK,SAAUy5I,GAChBxlD,EAAGp9E,MAAMgwB,SAAS5mC,MAAK,SAAU6I,GAC/B,OAAO4pB,EAAK9F,YAAYoB,SAASllB,GAAIuT,YACvC,IAAGrc,MAAK,SAAU8I,GACZu/F,GAAS5mD,OAAOg4F,KAClBpxC,GAAS5+B,OAAO3gE,GAChBu/F,GAAS7lD,MAAMi3F,GAEnB,GACF,GACF,MAEF/4E,GAAOlpC,OAAO,CACZsX,KAAM,OACNlgC,SAAU,YACV4nD,SAAU,SAAU9jC,GAElB,OADAnF,EAAOipC,SAAS9jC,GACT/xB,EAASJ,MAAK,EACvB,IAEFy9F,GAAYxmE,OAAO,CAAC,KAEtB2C,KAAMA,EACN7B,gBAAiB,CAAE7E,WAAY,CAAE2zC,KAAM,YAE3C,EAGE1sE,KAAM,iBACNgzD,aAAc,CACZjpC,GAAW,OACXA,GAAW,OACXA,GAAW,YACXA,GAAW,aACXkB,GAAU,UAAW5pB,IAEvBo+B,KAAM,CACJgM,MAAO,SAAUhM,EAAMzH,GACrByH,EAAKgM,MAAMzT,EACb,EACAymH,SAAU,SAAUh/G,EAAMzH,EAAMi1C,GAC9BxtC,EAAKg/G,SAASzmH,EAAMi1C,EACtB,KAIA+xE,GAAmB,SAAU/wH,EAAWgxH,GAC1C,OAAOA,EAAYD,iBAAiBt6I,MAAK,WACvC,OAAOupB,EAAU7gB,OACnB,IAAG,SAAUuM,GACX,OAAOA,EAAIsU,EACb,GACF,EAEIixH,GAAuB,SAAUD,GACnC,OAAOA,EAAYE,UAAU9mI,QAC/B,EACI+mI,GAAe,SAAUH,EAAa9qI,GACxC,OAAO8qI,EAAYE,UAAUC,aAAajrI,EAC5C,EACIkrI,GAAqB,SAAUpxH,EAAWgxH,GAC5C,IAAItzG,EAAOqzG,GAAiB/wH,EAAWgxH,GACvC5iH,GAASsP,EAAM,CACbszG,EAAYK,eACZL,EAAYM,cAEhB,EACIC,GAAY,SAAUvxH,EAAWgxH,GACnChjH,GAAShO,EAAU7gB,QAAS6xI,EAAY/Z,WACxCppG,GAAM7N,EAAU7gB,QAAS6xI,EAAYQ,aACrChnI,GAAMwV,EAAU7gB,QAAS8xI,GAAqBD,GAAc,OAC5D1lI,GAAO0U,EAAU7gB,QACnB,EACIsyI,GAAW,SAAUzxH,EAAWgxH,GAClChjH,GAAShO,EAAU7gB,QAAS6xI,EAAYQ,aACxC3jH,GAAM7N,EAAU7gB,QAAS6xI,EAAY/Z,WACrC5rH,GAAS2U,EAAU7gB,QAAS8xI,GAAqBD,GACnD,EACIU,GAAoB,SAAU1xH,EAAWgxH,EAAaW,EAAYC,GACpED,EAAWE,eACXrnI,GAAMwV,EAAU7gB,QAAS8xI,GAAqBD,GAAcG,GAAaH,EAAahxH,EAAU7gB,UAChGmM,GAAO0U,EAAU7gB,SACjBiyI,GAAmBpxH,EAAWgxH,GAC9BO,GAAUvxH,EAAWgxH,GACrBA,EAAYc,cAAc9xH,GAC1BgxH,EAAYe,SAAS/xH,EACvB,EACIgyH,GAAgB,SAAUhyH,EAAWgxH,EAAaW,EAAYM,GAChE,IAAIp5I,EAAOo5I,EAAen7I,YAAW,WACnC,OAAOq6I,GAAaH,EAAahxH,EAAU7gB,QAC7C,IACAwyI,EAAWE,eACXrnI,GAAMwV,EAAU7gB,QAAS8xI,GAAqBD,GAAcn4I,GAC5DyS,GAAO0U,EAAU7gB,SACjB,IAAIu+B,EAAOqzG,GAAiB/wH,EAAWgxH,GACvChjH,GAAS0P,EAAMszG,EAAYM,cAC3BzjH,GAAM6P,EAAMszG,EAAYK,gBACxBE,GAAUvxH,EAAWgxH,GACrBA,EAAYc,cAAc9xH,EAC5B,EACIkyH,GAAqB,SAAUlyH,EAAWgxH,EAAaW,GACzD,IAAI94I,EAAOs4I,GAAaH,EAAahxH,EAAU7gB,UACvB,QAATtG,EAAiB64I,GAAoBM,IAC3ChyH,EAAWgxH,EAAaW,EAAY35I,EAASJ,KAAKiB,GAC7D,EACIs5I,GAAc,SAAUnyH,EAAWgxH,EAAaW,GAClD,IAAIj0G,EAAOqzG,GAAiB/wH,EAAWgxH,GACnCoB,EAAelkH,GAAIwP,EAAMszG,EAAYK,gBACrCgB,EAAalB,GAAaH,EAAahxH,EAAU7gB,SACrDsyI,GAASzxH,EAAWgxH,GACpB,IAAIsB,EAAWnB,GAAaH,EAAahxH,EAAU7gB,UAQhCizI,EAPI,WACrB5nI,GAAMwV,EAAU7gB,QAAS8xI,GAAqBD,GAAcqB,GAC5D/mI,GAAO0U,EAAU7gB,QACnB,EACwB,WACtBoyI,GAAUvxH,EAAWgxH,EACvB,KAGAhjH,GAAS0P,EAAMszG,EAAYK,gBAC3BxjH,GAAM6P,EAAMszG,EAAYM,cACxBG,GAASzxH,EAAWgxH,GACpBxmI,GAAMwV,EAAU7gB,QAAS8xI,GAAqBD,GAAcsB,GAC5DX,EAAWY,cACXvB,EAAYwB,YAAYxyH,EAC1B,EA6BIyyH,GAAY,SAAUzyH,EAAWgxH,EAAa0B,GAChD,IAAIh1G,EAAOqzG,GAAiB/wH,EAAWgxH,GACvC,OAA+C,IAAxC9iH,GAAIwP,EAAMszG,EAAYM,aAC/B,EACIqB,GAAc,SAAU3yH,EAAWgxH,EAAa0B,GAClD,IAAIh1G,EAAOqzG,GAAiB/wH,EAAWgxH,GACvC,OAAiD,IAA1C9iH,GAAIwP,EAAMszG,EAAYK,eAC/B,EASIuB,GAA2B19I,OAAO+c,OAAO,CACzCC,UAAW,KACX6uD,QA9CY,SAAU/gD,EAAWgxH,EAAaW,GAChD,GAAIA,EAAWkB,aAAc,CAC3BxnI,GAAS2U,EAAU7gB,QAAS8xI,GAAqBD,IACjD,IAAIsB,EAAWnB,GAAaH,EAAahxH,EAAU7gB,SACnDqL,GAAMwV,EAAU7gB,QAAS8xI,GAAqBD,GAAcsB,EAC9D,CACF,EAyCIQ,KAxCO,SAAU9yH,EAAWgxH,EAAaW,GACtCA,EAAWkB,cACdV,GAAYnyH,EAAWgxH,EAAaW,EAExC,EAqCIoB,OApCS,SAAU/yH,EAAWgxH,EAAaW,GACzCA,EAAWkB,cACbX,GAAmBlyH,EAAWgxH,EAAaW,EAE/C,EAiCIqB,gBAhCkB,SAAUhzH,EAAWgxH,EAAaW,GAClDA,EAAWkB,cACbnB,GAAkB1xH,EAAWgxH,EAAaW,EAE9C,EA6BIsB,SA5BW,SAAUjzH,EAAWgxH,EAAaW,GAC/C,OAAOA,EAAWkB,YACpB,EA2BIK,UA1BY,SAAUlzH,EAAWgxH,EAAaW,GAChD,OAAOA,EAAWwB,aACpB,EAyBIV,UAAWA,GACXE,YAAaA,GACbS,gBAlBkB,SAAUpzH,EAAWgxH,EAAaW,GACtD,OAAOc,GAAUzyH,EAAWgxH,IAAgB2B,GAAY3yH,EAAWgxH,EACrE,EAiBIqC,WAhBa,SAAUrzH,EAAWgxH,EAAaW,IACzCA,EAAWkB,aAAeX,GAAqBC,IACrDnyH,EAAWgxH,EAAaW,EAC5B,EAcIP,mBAAoBA,KA2BpBkC,GAA6Bp+I,OAAO+c,OAAO,CAC3CC,UAAW,KACX+d,QA1BU,SAAU3Q,EAAM0xH,EAAa0B,GACzC,IAAI/2E,EAAWq1E,EAAYr1E,SAC3B,OAAkB/wC,GAAX+wC,EAAgB,CACrB9wC,QAAS,CAACmmH,EAAY/Z,WACtBlsG,OAAQ,CAAC,GACD,CACRF,QAAS,CAACmmH,EAAYQ,aACtBzmH,OAAQjM,GAAOkyH,EAAYE,UAAU9mI,SAAU,QAEnD,EAkBI+c,OAjBW,SAAU6pH,EAAaW,GACpC,OAAOvtH,GAAS,CAACqB,GAAY5D,MAAiB,SAAU7B,EAAWC,GACrDA,EAAe/R,MAAMlD,IACvBk6B,eAAiB8rG,EAAYE,UAAU9mI,WAC7CgnI,GAAmBpxH,EAAWgxH,GAC1BW,EAAWkB,cACbxnI,GAAS2U,EAAU7gB,QAAS6xI,EAAYE,UAAU9mI,WAEvCunI,EAAWkB,aAAe7B,EAAYuC,QAAUvC,EAAYe,UAClE/xH,GAEX,KACJ,IAQIwzH,GAAgB,CAClB13H,GAAW,eACXA,GAAW,aACXA,GAAW,kBACXA,GAAW,gBACXW,GAAO,oBACP2Z,GAAU,YACVA,GAAU,iBACVA,GAAU,WACVA,GAAU,eACVpZ,GAAU,YAAY,GACtBjB,GAAW,YAAaL,GAAS,WAAY,CAC3C5K,MAAO,CACL0lB,GAAS,WAAY,SACrBA,GAAS,gBAAgB,SAAUtwB,GACjC,OAAO4H,GAAM5H,GAAQ,IACvB,KAEFqG,OAAQ,CACNiqB,GAAS,WAAY,UACrBA,GAAS,gBAAgB,SAAUtwB,GACjC,OAAOuG,GAAMvG,GAAQ,IACvB,SA4BFutI,GAAU92G,GAAS,CACrB1kB,OAAQu7H,GACRzhJ,KAAM,UACN6pC,OAAQ03G,GACR9hH,KAAMohH,GACN9jH,MAV8B55B,OAAO+c,OAAO,CAC1CC,UAAW,KACXmY,KApBS,SAAUG,GACrB,IAAIsE,EAAQrR,GAAK+M,EAAKmxC,UAItB,OAAOrxC,GAAK,CACVuoH,WAAY,WACV,OAAuB,IAAhB/jH,EAAMpjB,KACf,EACAynI,YAAa,WACX,OAAuB,IAAhBrkH,EAAMpjB,KACf,EACAmmI,aAAc79I,EAAM86B,EAAM9iB,KAAK,GAC/BumI,YAAav+I,EAAM86B,EAAM9iB,KAAK,GAC9Bue,UAZc,WACd,MAAO,aAAeuE,EAAMpjB,KAC9B,GAYF,MAeIoG,GAAQ,YACR4hI,GAAW,CAACr8H,GAAM,iBAAkB,KACpCs8H,GAAc,SAAU5hJ,GAC1B,MAAO,gBAAkBA,EAAO,GAClC,EAuBI6hJ,GAAS,SAAUhvH,EAAQ6K,GAC7B,IAawBl7B,EAbpBs/I,EAAe,SAAUtgI,GAC3B,OAAOgwC,GAAgB3+B,EACzB,EAIIkvH,EAAS,SAAUv/I,EAAGw/I,GACxB,OAAO,SAAUntH,EAAWhrB,GAC1B,OAAOinD,GAAQj8B,EAAWhC,EAAQhpB,GAAKxE,KAAI,SAAU48I,GACnD,OAAOz/I,EAAEy/I,EAAMp4I,EACjB,IAAG/E,MAAMk9I,EACX,CACF,EAQIE,EAAY,SAAUlqH,EAAMmqH,GAC9B,MAA8C,SAAvCtqI,GAAMmgB,EAAK5qB,QAAS,cAC7B,EAuBIo6E,EAAYu6D,EAAOG,GAAW,GAC9BE,EAAWL,GAZF,SAAU/pH,EAAMnuB,GAC3B,GAAIq4I,EAAUlqH,GAAO,CACnB,IAAI5qB,EAAU4qB,EAAK5qB,QACnBqL,GAAMrL,EAAS,UAAW,QAC1BsK,GAAMtK,EAAS,cAAe,QAC9B0kB,GAASkG,EAAMzG,KAAkB,CAC/BvxB,KAAM6J,EACNqxI,SAAS,GAEb,CACF,IAGImH,GAlCoB7/I,EAkCA4/I,EAjCf,SAAUvtH,EAAWjsB,GAC1B5B,EAAO4B,GAAM,SAAUiB,GACrB,OAAOrH,EAAEqyB,EAAWhrB,EACtB,GACF,GAiCEy4I,EAAWP,GA5BF,SAAU/pH,EAAMnuB,GAC3B,IAAKq4I,EAAUlqH,GAAO,CACpB,IAAI5qB,EAAU4qB,EAAK5qB,QACnBkM,GAASlM,EAAS,WAClB8K,GAAS9K,EAAS,eAClB0kB,GAASkG,EAAMzG,KAAkB,CAC/BvxB,KAAM6J,EACNqxI,SAAS,GAEb,CACF,IAmBIz7G,EAAO,CACTqiH,aAAcA,EACdS,QAnDY,SAAU1tH,EAAWhrB,GACjC,OAAOinD,GAAQj8B,EAAWhC,EAAQhpB,EACpC,EAkDE29E,UAAWA,EACX46D,SAAUA,EACVI,aATiB,SAAU3tH,GAC3B,OAAOwtH,EAAUxtH,EAAWitH,IAC9B,EAQEQ,SAAUA,GAEZ,MAAO,CACLvvH,IAAKF,EAAOE,IACZxnB,IAAKsnB,EAAOtnB,IACZmyB,WAAYA,EACZpE,WAAY4yB,GAAMr5B,EAAO4vH,gBACzBhjH,KAAMA,EAEV,EACIijH,GAAW15I,GAAM,CACnB84I,aAAc,SAAUriH,EAAM/E,GAC5B,OAAO+E,EAAKqiH,aAAapnH,EAC3B,EACA6nH,QAAS,SAAU9iH,EAAM/E,EAAG7wB,GAC1B,OAAO41B,EAAK8iH,QAAQ7nH,EAAG7wB,EACzB,EACA29E,UAAW,SAAU/nD,EAAM/E,EAAG7wB,GAC5B,OAAO41B,EAAK+nD,UAAU9sD,EAAG7wB,EAC3B,EACAu4I,SAAU,SAAU3iH,EAAM/E,EAAG7wB,GAC3B,OAAO41B,EAAK2iH,SAAS1nH,EAAG7wB,EAC1B,EACA24I,aAAc,SAAU/iH,EAAM/E,GAC5B,OAAO+E,EAAK+iH,aAAa9nH,EAC3B,EACA4nH,SAAU,SAAU7iH,EAAM/E,EAAG7wB,GAC3B,OAAO41B,EAAK6iH,SAAS5nH,EAAG7wB,EAC1B,IACC,SAAUpK,GACX,OAAOw4B,GAAQx4B,EACjB,IACIkjJ,GAAgBz/I,EAASA,EAAS,CAAC,EAAGw/I,IAAW,CAAEt0F,OAjH1C,SAAUw0F,GACrB,IAAIp0H,EAAQ,WACV,IAAI4nD,EAAS,GAKb,MAAO,CACL6rE,KALS,SAAUjiJ,EAAM88B,GAEzB,OADAs5C,EAAOl4E,KAAK8B,GACLkwD,GAAcnwC,GAAO6hI,GAAY5hJ,GAAO88B,EACjD,EAGEs5C,OAAQv0E,EAAWu0E,GAEvB,CAVY,GAWR39C,EAAOmqH,EAAMp0H,GACbqjC,EAAYrjC,EAAM4nD,SAClB2jC,EAAahzG,EAAM8qD,GAAW,SAAUvuD,GAC1C,OAAOwgC,GAAS,CACd9jC,KAAMsD,EACN2sD,MAAO2xF,GAAYt+I,IAEvB,IACA,OAAOivD,GAAYxyC,GAAO4hI,GAAU5nC,EAAY8nC,GAAQppH,EAC1D,IA8FIoqH,GAAgBz8H,GAAM,CACxByE,GAAa,QACbA,GAAa,WACbU,GAAkB,SAAUlqB,GAC5BkqB,GAAkB,SAAUlqB,GAC5BkqB,GAAkB,WAAW,WAC3B,OAAOlqB,CACT,MAgCE8pF,GAAS,SAAUnzD,GACrB,MAAO,CACL5qB,QAAS,WACP,OAAO4qB,EAAK5qB,QAAQ7B,GACtB,EAEJ,EACIu3I,GAAa,SAAUt0H,EAAOu0H,GAChC,IAAI/7D,EAAQjgF,EAAM6B,GAAKm6I,IAAe,SAAU/iJ,GAC9C,IAAIy4B,EAAOsqH,EAAa/iJ,GACpBgjJ,EAAUh+I,GAxCE,SAAUyzB,GAC5B,OAAOvP,GAAM,UAAW25H,GAAepqH,EACzC,CAsC2BwqH,CAAcxqH,IACrC,MAAO,CACLz4B,KAAMA,EACNmrF,OAAQA,GACRI,QAASy3D,EAAQz3D,QACjBvW,OAAQguE,EAAQhuE,OAChBC,OAAQ+tE,EAAQ/tE,OAEpB,IACA,OAAOluE,EAAMigF,GAAO,SAAUvuD,GAC5B,IAAI4yD,EAAgB3/D,GAAKrqB,GACzB,OAAOmtB,EAAMyzH,KAAKxpH,EAAKz4B,KAAM,CAC3BuL,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,sBAEZQ,WAAYgtD,GAA+B,CACzC8E,GAAkB3yD,EAAM4yD,GACxBG,GAAkB/yD,EAAM4yD,GACxB74D,GAAMjB,MAAkB,SAAU2xH,EAAW3pD,GAC3C,IAAItnE,EAAOsnE,EAAGp9E,MACVgnI,EAAmB17I,EAAOu/E,GAAO,SAAUlqD,GAC7C,OAAOA,EAAO98B,OAASiyB,EAAKjyB,IAC9B,IACAmjJ,EAAiB79I,MAAK,SAAU89I,IAChBnxH,EAAKipH,QAAUkI,EAAcpuE,OAASouE,EAAcnuE,QAC1DmuE,EAAcj4D,OAAO+3D,GAC/B,GACF,OAGN,GACF,EACIG,GAAc,SAAUN,GAC1B,OAAOJ,GAAcv0F,QAAO,SAAU5/B,GACpC,MAAO,CACLjjB,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,gCAEZ4E,WAAYolH,GAAWt0H,EAAOu0H,GAC9BN,eAAgBn8D,GAA+B,CAAC3yD,IAAc,SAAU2vH,GACpE,OAAOX,GAAcH,aAAac,EACpC,MAEN,GACF,EA2BIC,GAAe,SAAUC,GAE3B,OADgB7vF,GAAUL,WAAWkwF,GACpBj+I,MAAK,SAAU2vG,GAE9B,OADkBwsC,GAAQhB,UAAUxrC,IAAWwsC,GAAQR,SAAShsC,GAEvCvhD,GAAUL,WAAW4hD,GACpB3vG,MAAK,SAAU+9I,GACrC,OAAO77I,EAAOk7I,GAAcb,aAAawB,IAAgB,SAAUtjJ,GACjE,OAAO2iJ,GAAcn7D,UAAU87D,EAAetjJ,EAChD,GACF,IAEOiG,EAAS1B,MAEpB,GACF,EACIk/I,GAAUnuH,GAAW,gBACrBouH,GAAWpuH,GAAW,iBAkGtBquH,GAA4BxgJ,OAAO+c,OAAO,CAC1CC,UAAW,KACXkgH,MAtCQ,SAAUpyG,EAAW6O,EAAQC,EAAO6mH,GAC9ClsI,GAAMuW,EAAU7gB,QAAS,aAAa,GACtC,IAAIu+B,EAAO7O,EAAOogD,QAAQjvD,GAAWnpB,MAAMmpB,GACvC41H,EAAoBp5G,GAAS,CAC/Bu7B,GAAOlpC,OAAO,CACZsX,KAAM,UACNixB,MAAO,WACL,OAAOp/D,EAASJ,MAAK,EACvB,EACAu/D,WAAY,WACV,OAAOn/D,EAASJ,MAAK,EACvB,IAEFwiE,GAASvrC,OAAO,CAAC,KAEfgnH,EAAYF,EAAYj4G,EAAMk4G,GAC9B/nB,EAAUnwF,EAAKzZ,YAAY4E,MAAMgtH,GACrCx8E,GAAUvoE,OAAO4sC,EAAM/K,GAAQk7F,IAC3BA,EAAQv8F,cAAcymC,KAAWlpC,EAAO2O,OAC1Cu6B,GAAO1L,QAAQwhE,GAEZ/+F,EAAMgnH,aACTjnH,EAAOknH,QAAQ/1H,GAEjB8O,EAAMknH,WAAU,WACd,OAAO38E,GAAUprC,OAAOyP,EAAMmwF,EAChC,GACF,EAYIwE,QAXU,SAAUryG,EAAW6O,EAAQC,GACzC7kB,GAAS+V,EAAU7gB,QAAS,aACxB2vB,EAAMgnH,aACRjnH,EAAOonH,UAAUj2H,GAEnB8O,EAAM2U,OACR,IAQIyyG,GAAiB,CACnB54H,GAAkB,UAAWtlB,EAAS1B,MACtC+mB,GAAiB,SAAS,GAC1B+Y,GAAU,WACVA,GAAU,cAqBR+/G,GAAWx5G,GAAS,CACtB1kB,OAAQi+H,GACRnkJ,KAAM,WACNy/B,KAAMkkH,GACN5mH,MAT+B55B,OAAO+c,OAAO,CAC3CC,UAAW,KACXmY,KAfS,WACX,IAAIwjG,EAAUlqF,KAId,OAAOrZ,GAAK,CACVC,UAAWsjG,EAAQnqF,MACnBsyG,UALc,SAAUpyG,GACxBiqF,EAAQ7hH,IAAI,CAAE43B,QAASA,GACzB,EAIEH,MAAOoqF,EAAQpqF,MACfqyG,UAAWjoB,EAAQnqF,OAEvB,MA4BI9lC,GAAW,SAAUC,GACvB,IAAIqI,EAAOvI,GAAaC,SAASC,GAC7B4S,EAAa3I,GAAS5B,GACtByD,EAjBS,SAAUzD,GACvB,IAAI4kB,OAAqC75B,IAAxBiV,EAAK5I,IAAIwtB,WAA2B5kB,EAAK5I,IAAIwtB,WAAa,GAC3E,OAAOvxB,EAAMuxB,GAAY,SAAU/2B,EAAGs5B,GACpC,IAAI5oB,EACJ,MAAkB,UAAd4oB,EAAKt7B,KACAgC,EAEAkB,EAASA,EAAS,CAAC,EAAGlB,KAAK0Q,EAAK,CAAC,GAAM4oB,EAAKt7B,MAAQs7B,EAAK77B,MAAOiT,GAE3E,GAAG,CAAC,EACN,CAOc2xI,CAASlwI,GACjB2kB,EAPW,SAAU3kB,GACzB,OAAOvU,MAAMC,UAAUyE,MAAMb,KAAK0Q,EAAK5I,IAAIiwB,UAAW,EACxD,CAKgB2b,CAAWhjC,GACrBo0C,EAAiC,IAAtB7pC,EAAWtd,OAAe,CAAC,EAAI,CAAEg+B,UAAWpL,GAAM7f,IACjE,OAAOjR,EAAS,CACdsJ,IAAKW,GAAOgH,GACZ2kB,QAASA,EACTC,WAAYnhB,GACX2wC,EACL,EAiBI+7F,GAAqB,SAAUC,GACjC,OAAO5wF,GAAUL,WAAWixF,GAAUj/I,MAAK,SAAU0yB,GACnD,OAAOwT,GAAQxT,EAAK5qB,QACtB,GACF,EAmBIo3I,GAAiB,SAAUprE,EAAQphD,EAAM+E,EAAOqwD,GAClD,IAAIhgF,EAAU4qB,EAAK5qB,QAEnB,GArByB,SAAUgsE,EAAQr8C,GAC3C,IAAI0nH,EAAe,WACfC,EAAmB,oBACvBz+I,EAAS/B,KAAKk1E,EAAOurE,eAAet/I,IAAIuG,GAAaF,SAASpG,MAAK,SAAUsjI,GACvE7rG,GACFhlB,GAAO6wH,EAAQ6b,GAAcn/I,MAAK,SAAUs/I,GAC1C,OAAOltI,GAAMkxH,EAAQ8b,EAAkBE,EACzC,IACAltI,GAAMkxH,EAAQ6b,GAAe,KAE7BvsI,GAAS0wH,EAAQ6b,GACjB1sI,GAAO6wH,EAAQ8b,GAAkBp/I,MAAK,SAAUs/I,GAC9CltI,GAAMkxH,EAAQ6b,EAAcG,GAC5B1sI,GAAS0wH,EAAQ8b,EACnB,IAEJ,GACF,CAGEG,CAAqBzrE,EAAQr8C,GACzBA,EACFqnH,GAAS/jB,MAAMroG,EA1CC,SAAUo1D,GAC5B,OAAO,SAAU03D,EAAOC,GACtB,MAAO,CACLx5I,IAAK,CACHiB,IAAK,MACLusB,WAAY,CACV,aAAcq0D,EAAkBtyE,UAAU,cAC1C,SAAY,KAEdge,QAAS,CAAC,+BAEZ4E,WAAY,CAAC,CAAEnyB,IAAKM,GAAS,sEAEjC,CACF,CA4ByBm5I,CAAc53D,IACnC9zE,GAASlM,EAAS,WAClB8K,GAAS9K,EAAS,eACdgsE,EAAO1tC,YACT44G,GAAmBtsH,OAEhB,CACL,IAAIitH,EAAgBtxF,GAAUL,WAAWt7B,GAAMxyB,QAAO,SAAU0/I,GAC9D,OAAOx5G,GAASw5G,EAAS93I,QAC3B,IACAg3I,GAAS9jB,QAAQtoG,GACjBvf,GAAMrL,EAAS,UAAW,QAC1BsK,GAAMtK,EAAS,cAAe,QAC1B63I,GACF7rE,EAAO3tC,OAEX,CACF,EAmCI05G,GAAU,SAAU/rE,EAAQgsE,EAAc7rE,GAC5C,IAAI8rE,EAAgB35H,IAAK,GACrBonB,EAAQf,KACRuzG,EAAa,SAAU1hJ,GAbN,IAAUuY,GAczBkpI,EAAc1rI,OAjBH,SAAUwC,GAC3B,MAAsB,YAAfA,EAAM3c,IACf,CAEM+lJ,CAD2BppI,EAcgBvY,KAZlCuY,EAAMC,SAAWxd,GAAKud,EAAME,gBAAkBpW,EAAS/B,KAAKiY,EAAM5M,SACjElK,IAAIuG,GAAaF,SAAShG,OAAO+H,IAAajI,QAAO,SAAUggJ,GACzE,OAAOrpH,GAAIqpH,EAAW,eACxB,MAUE5hJ,EAAE8Y,iBACF4nI,GAAmBc,KACnBhsE,EAAOqsE,cAAcntD,UAAUlf,GAEnC,EACKA,EAAOwQ,QACVxQ,EAAOloC,GAAG,WAAW,WACnBkoC,EAAO7tE,IAAIhG,KAAK6zE,EAAOx8B,SAAU,UAAW0oG,GAC5ClsE,EAAOloC,GAAG,qBAAqB,SAAUttC,GACP,aAA5BA,EAAE8hJ,QAAQp4I,gBAA4C,IAAZ1J,EAAEnE,OAC9C6lJ,EAAW1hJ,EAEf,GACF,IAEF,IAAIolE,EAAS,SAAUjsC,GACjBA,IAAUsoH,EAAc1rI,QAC1B0rI,EAAcprI,IAAI8iB,GAClBynH,GAAeprE,EAAQgsE,IAAgBroH,EAAOw8C,EAAgBU,WAC9Db,EAAOsZ,KAAK,qBAAsB,CAAE31D,MAAOA,IAE/C,EACAq8C,EAAOloC,GAAG,iBAAiB,SAAUttC,GAEnC,GADAkvC,EAAM5B,GAAG4kC,GAASziC,cACdtyC,EAAS6C,EAAE2xB,MAAO,CACpB,IAAIif,EAAUshC,GAAS6vE,iBAAiBvsE,GAAQ,WAC9C,OAAOpQ,EAAOplE,EAAEm5B,MAClB,GAAGn5B,EAAE2xB,MACLud,EAAM74B,IAAIu6B,EACZ,MACEw0B,EAAOplE,EAAEm5B,OACT+V,EAAMpB,OAEV,GACF,EAmBI9U,GAAS,SAAUgpH,EAAQt/H,EAAOu/H,GACpC,MAAO,CACLD,OAAQA,EACRt/H,MAAOA,EACPu/H,YAAaA,EAEjB,EACIC,GAAY,SAAUn1F,EAAOo1F,EAAO5kJ,GACtC,IAAI6kJ,EAzBW,SAAUx/I,EAAIhE,GAC7B,IAIImE,EAAIa,EAAMhB,GAAI,SAAUxE,EAAG3B,GAE7B,OADYmC,EAAEnC,EAAG2B,EAAEb,KACNuD,KAAK7C,EAAWG,IAAI,SAAUkH,GACzC,MAAO,CACL/H,IAAK+H,EAAE6yC,OACPrf,KAAM16B,EAAE06B,KAAKp6B,OAAO,CAAC4G,IAEzB,GACF,GAZW,CACT/H,IAAK,EACLu7B,KAAM,KAWR,OAAO/1B,EAAE+1B,IACX,CAUeupH,CAAWt1F,GAAO,SAAUmb,EAAM17D,GAC7C,IAAI2O,EAAQ5d,EAAI2qE,GAChB,OAAO7lE,EAASJ,KAAK,CACnBuH,QAAS0+D,EACTlhE,MAAOwF,EACP2rC,OAAQ3rC,EAAU2O,EAClBA,MAAOA,GAEX,IACI6mI,EAASx+I,EAAS4+I,GAAQ,SAAUl6E,GACtC,OAAOA,EAAK/vB,QAAUgqG,CACxB,IACIF,EAAcx+I,EAAMu+I,GAAQ,SAAUt+I,EAAK7I,GAC7C,OAAO6I,EAAM7I,EAAGsgB,KAClB,GAAG,GAEH,MAAO,CACL6mI,OAAQA,EACRt/H,MAHU0/H,EAAO1hJ,MAAMshJ,EAAOxkJ,QAI9BykJ,YAAaA,EAEjB,EACIK,GAAS,SAAUF,GACrB,OAAOj/I,EAAMi/I,GAAQ,SAAUl6E,GAC7B,OAAOA,EAAK1+D,OACd,GACF,EAgBI+4I,GAAY,SAAUJ,EAAOp1F,EAAOxvD,EAAKilJ,GAC3C,IAAIC,EALO,SAAUN,EAAOp1F,EAAOxvD,GACnC,IAAIklJ,EAASP,GAAUn1F,EAAOo1F,EAAO5kJ,GACrC,OAA+B,IAAxBklJ,EAAO//H,MAAMllB,OAAe6E,EAASJ,KAAKwgJ,GAAUpgJ,EAAS1B,MACtE,CAEe+hJ,CAAOP,EAAOp1F,EAAOxvD,GAAK4D,YAAW,WAChD,OAAO+gJ,GAAUn1F,EAAOo1F,EAAQ5kJ,EAAIilJ,GAAajlJ,EACnD,IACIykJ,EAASS,EAAOT,OAChBt/H,EAAQ+/H,EAAO//H,MACfu/H,EAAcQ,EAAOR,YACzB,OAAqB,IAAjBv/H,EAAMllB,QAAgBklB,EAAM,GAAGvH,OAAS5d,EAAIilJ,GAtBpC,SAAUR,EAAQt/H,EAAOu/H,GACrC,IAAIh2G,EAAOq2G,GAAON,EAAOtjJ,OAAOgkB,IAChC,OAAOsW,GAAOiT,EAAM,GAAIg2G,EAC1B,CAoBWU,CAAQX,EAAQt/H,EAAOu/H,GACrBv/H,EAAMllB,QAAU,EApBd,SAAUwkJ,EAAQt/H,EAAO8/H,EAAYP,GAClD,IAAIh2G,EAAOq2G,GAAON,GAAQtjJ,OAAO,CAAC8jJ,IAClC,OAAOxpH,GAAOiT,EAAMq2G,GAAO5/H,GAAQu/H,EACrC,CAkBWW,CAASZ,EAAQt/H,EAAO8/H,EAAYP,GAjBlC,SAAUD,EAAQt/H,EAAOu/H,GACpC,OAAOjpH,GAAOspH,GAAON,GAAS,GAAIC,EACpC,CAiBWY,CAAOb,EAAQt/H,EAAOu/H,EAEjC,EAEIa,GAAc,SAAU79D,EAAS89D,GACnC,IAAIC,EAAU7/I,EAAM4/I,GAAc,SAAU52F,GAC1C,OAAOnvB,GAAQmvB,EACjB,IACA4mF,GAAQG,UAAUjuD,EAAS+9D,EAC7B,EAQIC,GAAY,SAAUh+D,EAASh2D,EAAQi0H,GACzC,IAAIC,EAAcl0H,EAAOk0H,YAAYptI,MACrC,GAA2B,IAAvBotI,EAAY3lJ,OAAhB,CAGA,IAAIqsE,EAAUzc,GAAa63B,EAASh2D,EAAQ,WACxCm0H,EAAgBx7C,GAASP,WAAWpiB,EAAS,iBACjDpwE,GAAMg1D,EAAQrgE,QAAS,aAAc,UACrC,IAAI2pI,EAASgQ,EAAYzkJ,OAAO,CAAC0kJ,IAC7BC,EAfGv+I,GAe2BquI,GAfZ,SAAU/+G,GAC9B,OAAO5oB,GAAO4oB,EAAK5qB,SAAS7H,MAAK,SAAU22I,GACzC,OAAOlkH,EAAK9F,YAAYoB,SAAS4oH,GAAYv6H,YAC/C,GACF,IAYAmlI,EAAY,IACZJ,GAAYj5E,EAASspE,GACrB,IAAImQ,EAAiBnrI,GAAM0xD,EAAQrgE,SAC/B+5I,EAAYhB,GAAUe,EAAgBr0H,EAAOk0H,YAAYptI,OAAO,SAAUqe,GAC5E,OAAOjc,GAAMic,EAAK5qB,QACpB,GAAG45I,GAC4B,IAA3BG,EAAU7gI,MAAMllB,QAClBkmE,GAAUprC,OAAOuxC,EAASu5E,GAC1BF,EAAY,MAEZJ,GAAYj5E,EAAS05E,EAAUvB,QAC/BkB,EAAYK,EAAU7gI,QAExBhN,GAASm0D,EAAQrgE,QAAS,cAC1BmM,GAAOk0D,EAAQrgE,SACf65I,EAAY3hJ,KAAK+iE,GAAS58B,MArB1B,CAsBF,EAEI27G,GAAWvlJ,EAAW,CACxByjB,GAAM,yBAA0B,CAACkmF,KACjC3hF,GAAY,eAAe,WACzB,OAAO6B,GAAK,GACd,MAGE27H,GAAWxlJ,EAAW,CACxBgiC,GAAU,CAAC,yBACX/Y,GAAe,qBACff,GAAW,YACXF,GAAY,kBAAkB,WAC5B,OAAO6B,GAAK,GACd,KACAppB,OAAO8kJ,OACLE,GAAUzlJ,EAAW,CACvBiiC,GAAS,CACP0sB,QAASmmF,GACTlvH,OAAQgvH,KACRz2I,KAAM,YAERsvD,GAAW,CACT7nC,OAAQgvH,KACRz2I,KAAM,aAERsvD,GAAW,CAAEtvD,KAAM,oBACnBsvD,GAAW,CAAEtvD,KAAM,qBAGjBunJ,GAAa1lJ,GAAW,SAAUuL,EAAS2oC,IAjmsBlC,SAAU3oC,EAAS3N,GAC9B,IAQIm2C,EAAS95B,GAAM1B,IAAIhN,EAAS3N,EARf,CACf,cACA,oBACA,eACA,gBACA,qBACA,iBAGFgZ,GAAMrL,EAAS,YAAawoC,EAAS,KACvC,CAulsBE4xG,CAAOp6I,EAASqS,KAAKiW,MAAMqgB,GAC7B,IAEI0xG,GAAW5lJ,EAAW,CACxBgiC,GAAU,CAAC,iBACX9Z,GAAW,YACXK,GAAiB,SACjBU,GAAe,aACfE,GAAY,4BAA6B,CAACC,GAAU,QAASmG,QAC7DqnB,OAEEivG,GAAU7lJ,EAAW,CACvBytD,GAAW,CACTtvD,KAAM,SACN85C,UAAW,SAAUjnB,GACnB,MAAO,CACLtnB,IAAK,CAAEwtB,WAAY,CAAE,gBAAiB,SACtCk9C,iBAAkBxrC,GAAS,CAACo/B,GAAS/sC,OAAO,CACxC8rC,YAAa/1C,EAAOm5C,QAAQ27E,aAC5Bj/E,KAAM,CAAEt0B,KAAM,YACdi1B,iBAAiB,MAGzB,IAEF/Z,GAAW,CACTkB,QAASmmF,GACTlvH,OAAQgvH,KACRz2I,KAAM,UACN85C,UAAW,SAAUjnB,GACnB,MAAO,CACLgkH,kBAAmBpsG,GAAS,CAACu7B,GAAOlpC,OAAO,CACvCsX,KAAM,SACN0nB,SAAU,SAAU9jC,GAElB,OADA84B,GAAQ94B,EAAMnF,EAAQ,UAAUvtB,KAAK+iE,GAAS58B,OACvCxlC,EAAS1B,MAClB,MAGR,MAIAykE,GAAS,SAAUosD,EAAQ7kE,GAC7B,IAAIq3F,EAAiBp8C,GAASP,WAAWmqB,EAAQ,kBAC7C5sE,GAAWzB,OAAO6gG,GACpBp/F,GAAWV,MAAM8/F,GAEjBp/F,GAAWb,KAAKigG,EAAgBr3F,EAAUs4B,UAE9C,EACI5nE,GAAW,SAAUm0G,EAAQvsC,EAASh2D,EAAQqmB,GAChD,IAAIt4B,EAASiS,EAAO6a,UAAUroC,KAAI,SAAUwiJ,GAC1C,OAAOA,GACT,IACI3gG,EAAOr0B,EAAOihD,SAASshD,GAAQpwH,WACnC4/C,GAAYhB,qBAAqBsD,EAAM2hC,EAAS,CAC9CpiD,OAAQ,CACNjnC,KAAM,UACNq6C,QAASu7E,EACTl8E,QAASA,EACTY,UAAW,CAAEpD,iBAAkB6wG,QAEhC3mI,EACL,EACIk2H,GAAY,SAAU1hB,EAAQvsC,EAASh2D,EAAQqmB,EAAS69F,GAC1DJ,GAAQG,UAAUjuD,EAASkuD,GAC3B91H,GAASm0G,EAAQvsC,EAASh2D,EAAQqmB,GAClC2wB,GAAS34B,GAAGkkF,EACd,EAwFI0yB,GAAwB50F,GAAU,CACpClzD,KAAM,wBACNwwD,QAtCc,SAAU39B,EAAQ6K,EAAYjF,EAAM83B,GAClD,OAAOrtD,EAASA,EAAS,CAAC,EAAG6yE,GAAO3nB,OAAOlrD,EAASA,EAAS,CAAC,EAAGqtD,EAAU6kE,UAAW,CACpF1iG,OAAQ,SAAU0iG,GAChBpsD,GAAOosD,EAAQ7kE,EACjB,EACA0lB,iBAAkB5pB,GAAyB,CAAEF,KAAMoE,EAAU6kE,SAASn/C,kBAAoB,CAACu1B,GAAS1uE,OAAO,CACvGo0C,OAAQ,CACN02E,eAAgB,SAAUxyB,GACxB,OA3DM,SAAUA,EAAQ38F,EAAM5F,GACxC,IAAIw6E,EAAY7rE,KAahB,MAAO,CACLj2B,IAAK,CACHiB,IAAK,MACLusB,WAAY,CAAE36B,GAAIivG,EAAUjvG,KAE9Bk7B,WAAYmR,GAAS,CACnBu7B,GAAOlpC,OAAO,CACZsX,KAAM,UACN0nB,SAAU,SAAU9jC,GAElB,OADAwwB,GAAWV,MAAM9vB,GACV/xB,EAASJ,MAAK,EACvB,IAEF2iD,GAAW1rB,OAAO,CAChB2pB,OA1BO,SAAUP,EAAS2iC,GAC9Bh2D,EAAO+sD,QAAQjmE,KAAI,SAAUo9H,GAC3BD,GAAU1hB,EAAQvsC,EAASh2D,EAAQ4F,EAAKygB,QAAS69F,GACjD1pC,EAAU3rE,KAAK0zF,EAAOhoH,SACtB44D,GAAO1L,QAAQuuB,EACjB,GACF,EAqBMliC,QApBQ,WACZkjB,GAASz4B,IAAIgkF,GACb/sD,GAAS58B,MAAM2pF,GACf/nB,EAAU1rE,OAAOyzF,EAAOhoH,QAC1B,EAiBM26C,SAAU,SAAUlzB,EAAW5C,EAAM4P,GACnC,OAAOI,GAAWhQ,EAAM4P,IAAcI,GAAWmzF,EAAQvzF,EAC3D,EACAykB,eAAgB,WACd,OAAOzzB,EAAOihD,SAASshD,GAAQpwH,UACjC,IAEFmmC,GAAUrO,OAAO,CACf0L,SAAUtlC,EAASA,EAAS,CAAC,EAAG2lD,GAAmB3lD,EAAS,CAAE6lD,YAAanmD,GAASiwB,EAAOqiD,0BAA0B7vE,KAAI,SAAU4jD,GACjI,MAAO,CAAED,iBAAkB,CAAE7sC,MAAO8sC,EAAG9sC,OACzC,IAAGrX,MAAM,CAAC,MAAOqkD,GAAiB,CAChCC,aAAc,WACZZ,GAAWR,SAASwjD,GAASP,WAAWmqB,EAAQ,mBAAmB9vH,MAAK,SAAUujF,GAChF5nE,GAASm0G,EAAQvsC,EAASh2D,EAAQ4F,EAAKygB,QACzC,GACF,SAKV,CASmB6uG,CAAY3yB,EAAQ38F,EAAM5F,EACnC,WAGF,CACJ4M,KAAM,CACJq3G,UAAW,SAAU1hB,EAAQ2hB,GAC3BvuF,GAAWR,SAASwjD,GAASP,WAAWmqB,EAAQ,mBAAmB9vH,MAAK,SAAUujF,GAChFiuD,GAAU1hB,EAAQvsC,EAASh2D,EAAQ4F,EAAKygB,QAAS69F,EACnD,GACF,EACA1pG,WAAY,SAAU+nF,GACpB5sE,GAAWR,SAASwjD,GAASP,WAAWmqB,EAAQ,mBAAmB9vH,MAAK,SAAUujF,GAChF5nE,GAASm0G,EAAQvsC,EAASh2D,EAAQ4F,EAAKygB,QACzC,GACF,EACA8vB,OAAQ,SAAUosD,GAChBpsD,GAAOosD,EAAQ7kE,EACjB,EACAy3F,WAAY,SAAU5yB,GACpB,OAAO5sE,GAAWR,SAASwjD,GAASP,WAAWmqB,EAAQ,kBACzD,EACAruE,OAAQ,SAAUquE,GAChB,OAAO5sE,GAAWzB,OAAOykD,GAASP,WAAWmqB,EAAQ,kBACvD,IAGN,EAIEpiE,aAAcy0F,KACdt0F,WAAYu0F,KACZjoH,KAAM,CACJq3G,UAAW,SAAUr3G,EAAM21F,EAAQ2hB,GACjCt3G,EAAKq3G,UAAU1hB,EAAQ2hB,EACzB,EACA1pG,WAAY,SAAU5N,EAAM21F,GAC1B31F,EAAK4N,WAAW+nF,EAClB,EACApsD,OAAQ,SAAUvpC,EAAM21F,GACtB31F,EAAKupC,OAAOosD,EACd,EACA4yB,WAAY,SAAUvoH,EAAM21F,GAC1B,OAAO31F,EAAKuoH,WAAW5yB,EACzB,EACAruE,OAAQ,SAAUtnB,EAAM21F,GACtB,OAAO31F,EAAKsnB,OAAOquE,EACrB,KAIA6yB,GAAWpmJ,EAAW,CACxBkoB,GAAW,SACX8Z,GAAU,CAAC,iBACXve,GAAM,mBAAoB,CAAC0gD,OAEzBkiF,GAAUrmJ,EAAW,CAAC+M,GAAM,CAC5B5O,KAAM,QACN8rE,KAAM,WAeNq8E,GAAej1F,GAAU,CAC3BlzD,KAAM,eACNgzD,aAAci1F,KACd90F,WAAY+0F,KACZ13F,QAhBc,SAAU39B,EAAQ6K,EAAY4uC,EAAOC,GACnD,MAAO,CACLx5C,IAAKF,EAAOE,IACZxnB,IAAKsnB,EAAOtnB,IACZmyB,WAAYA,EACZpE,WAAY8yB,GAAQv5B,EAAOu1H,iBAAkB,CAACpiF,GAAOlpC,OAAO,CACxDsX,KAAM,OACNlgC,SAAU2e,EAAOm5C,QAAQq8E,iBAE7BzqH,gBAAiB,CAAE7E,WAAY,CAAE2zC,KAAM,YAE3C,IAQI47E,GAAc,SAAU1tC,GAC1B,OAAO7zG,EAAM6zG,GAAO,SAAU7qD,GAC5B,OAAOnvB,GAAQmvB,EACjB,GACF,EACIw4F,GAAY,SAAU1/D,EAAS2/D,EAA0B31H,GAC3Dg0H,GAAUh+D,EAASh2D,GAAQ,SAAU41H,GACnC51H,EAAO41H,eAAexuI,IAAIwuI,GAC1BD,EAAyBzwI,OAAO8wE,GAASvjF,MAAK,SAAUojJ,GACtDZ,GAAsBhR,UAAU4R,EAAuBJ,GAAYG,GACrE,GACF,GACF,EAkFIE,GAAuBz1F,GAAU,CACnClzD,KAAM,uBACNgzD,aAAcq0F,KACdl0F,WAAYm0F,KACZ92F,QArFc,SAAU39B,EAAQ6K,EAAYjF,EAAM83B,GAClD,IAAIi4F,EAA2BpyE,GAAO0xE,GAAsB15F,OAAO,CACjEwxB,MAAO,WACL,OAAOypB,IAAU,SAAUpmG,GACzBA,EAAQqlJ,GAAYz1H,EAAO41H,eAAe9uI,OAC5C,GACF,EACAu/B,QAAS,CACPE,MAAO,WACL,MAAO,CACL9R,GACAF,GAEJ,EACAkS,MAAO,WACL,MAAO,CACLlS,GACAE,GAEJ,EACAkS,YAAa,WACX,MAAO,CACLhS,GACAD,GAEJ,EACAmS,YAAa,WACX,MAAO,CACLnS,GACAC,GAEJ,GAEFkG,UAAWjV,EAAKmwH,kBAChB90E,SAAUjhD,EAAOihD,SACjBoB,0BAA2B,CAAC,EAC5BlJ,QAAS,CAAE27E,aAAc90H,EAAOm5C,QAAQ68E,sBACxCr6H,MAAO,CACL4mG,OAAQ7kE,EAAU,qBAClBs4B,QAASt4B,EAAUi2F,eAGvB,MAAO,CACLzzH,IAAKF,EAAOE,IACZxnB,IAAKsnB,EAAOtnB,IACZmyB,WAAYA,EACZpE,WAAY8yB,GAAQv5B,EAAOi2H,uBAAwB,CAACt9C,GAAS1uE,OAAO,CAChEo0C,OAAQ,CACN81E,cAAe,WACb,OAAOmB,GAAa/5F,OAAOlrD,EAASA,EAAS,CAAC,EAAGqtD,EAAU,qBAAsB,CAAE9F,MAAO,CAAC+9F,EAAyBjyE,YACtH,OAGN92C,KAAM,CACJq3G,UAAW,SAAUjuD,EAASkuD,GAC5BlkH,EAAOk0H,YAAY9sI,IAAIlT,EAAMgwI,EAAQluD,EAAQ32D,YAAY4E,QACzDyxH,GAAU1/D,EAAS2/D,EAA0B31H,EAC/C,EACAm8C,QAAS,SAAU6Z,GACjB,OAAO0/D,GAAU1/D,EAAS2/D,EAA0B31H,EACtD,EACAm2C,OAAQ,SAAU6f,GAChB2/D,EAAyBzwI,OAAO8wE,GAASvjF,MAAK,SAAUojJ,GACtDZ,GAAsB9+E,OAAO0/E,EAC/B,GACF,EACA3hG,OAAQ,SAAU8hC,GAChB,OAAO2/D,EAAyBzwI,OAAO8wE,GAASxjF,IAAIyiJ,GAAsB/gG,QAAQjiD,OAAM,EAC1F,EACAuoC,WAAY,SAAUw7C,GACpB2/D,EAAyBzwI,OAAO8wE,GAASvjF,MAAK,SAAUojJ,GACtDZ,GAAsBz6G,WAAWq7G,EACnC,GACF,EACAK,YAAa,SAAUlgE,GACrB,OAAO2/D,EAAyBzwI,OAAO8wE,GAAStjF,KAAKuiJ,GAAsBE,WAC7E,GAEFpqH,gBAAiB,CAAE7E,WAAY,CAAE2zC,KAAM,UAE3C,EAMEjtC,KAAM,CACJq3G,UAAW,SAAUr3G,EAAMopD,EAASkuD,GAClCt3G,EAAKq3G,UAAUjuD,EAASkuD,EAC1B,EACA/nE,QAAS,SAAUvvC,EAAMopD,GACvBppD,EAAKuvC,QAAQ6Z,EACf,EACAx7C,WAAY,SAAU5N,EAAMopD,GAC1BppD,EAAK4N,WAAWw7C,EAClB,EACA7f,OAAQ,SAAUvpC,EAAMopD,GACtBppD,EAAKupC,OAAO6f,EACd,EACA9hC,OAAQ,SAAUtnB,EAAMopD,GACtB,OAAOppD,EAAKsnB,OAAO8hC,EACrB,EACAkgE,YAAa,SAAUtpH,EAAMopD,GAC3B,OAAOppD,EAAKspH,YAAYlgE,EAC1B,KAIAmgE,GAAWnnJ,EAAW,CACxBgiC,GAAU,CACR,cACA,YACA,iBACA,eACA,yBAEFQ,GAAU,YACVA,GAAU,aACV/hC,OAAO8kJ,OACL6B,GAAUpnJ,EAAW,CACvBiiC,GAAS,CACP0sB,QAASmmF,GACTlvH,OAAQgvH,KACRz2I,KAAM,YAER8jC,GAAS,CACP0sB,QAASmmF,GACTlvH,OAAQgvH,KACRz2I,KAAM,WACN85C,UAAW,SAAUjnB,GACnB,MAAO,CACLgkH,kBAAmBpsG,GAAS,CAC1Bi3G,GAAQ5kH,OAAO,CACbqiH,UAAW,CAAE9mI,SAAU,UACvBonI,YAAa5sH,EAAOm5C,QAAQyzE,YAC5Bva,UAAWryG,EAAOm5C,QAAQk5D,UAC1Boa,eAAgBzsH,EAAOm5C,QAAQszE,eAC/BC,aAAc1sH,EAAOm5C,QAAQuzE,aAC7BS,SAAU,SAAUhoH,GAClB84B,GAAQ94B,EAAMnF,EAAQ,mBAAmBvtB,MAAK,SAAU8vH,GACtDvrD,GAASz4B,IAAIgkF,GACb/sD,GAAS58B,MAAM2pF,EACjB,IACAviG,EAAOq2H,SAASlxH,EAClB,EACAwpH,QAAS,SAAUxpH,GACjBguC,GAAO1L,QAAQtiC,GACfnF,EAAOs2H,SAASnxH,EAClB,EACAyoH,YAAa,SAAUzoH,GACrB84B,GAAQ94B,EAAMnF,EAAQ,mBAAmBvtB,KAAKukE,GAAS34B,GACzD,IAEF80B,GAAOlpC,OAAO,CACZsX,KAAM,UACN0nB,SAAU,SAAU9jC,GAElB,OADA84B,GAAQ94B,EAAMnF,EAAQ,mBAAmBvtB,KAAK+iE,GAAS58B,OAChDxlC,EAASJ,MAAK,EACvB,MAIR,IAEFypD,GAAW,CACTtvD,KAAM,kBACN85C,UAAW,SAAUjnB,GACnB,MAAO,CACLojD,iBAAkBxrC,GAAS,CAACo/B,GAAS/sC,OAAO,CACxC8rC,YAAa/1C,EAAOm5C,QAAQ68E,qBAC5BngF,KAAM,CAAEt0B,KAAM,WACdi1B,iBAAiB,MAGzB,IAEF/Z,GAAW,CAAEtvD,KAAM,qBAMjBopJ,GAAgB,SAAUvgE,EAASh2D,GACrCi+B,GAAQ+3B,EAASh2D,EAAQ,mBAAmBttB,MAAK,WAC/C,OAAOurD,GAAQ+3B,EAASh2D,EAAQ,WAClC,IAAGvtB,MAAK,SAAU+jJ,GAChBr6E,GAAQ6Z,EAASh2D,GACjB6uH,GAAQJ,WAAW+H,EACrB,GACF,EACIr6E,GAAU,SAAU6Z,EAASh2D,GAC/Bi+B,GAAQ+3B,EAASh2D,EAAQ,YAAYvtB,MAAK,SAAUkhJ,GAClDK,GAAUh+D,EAASh2D,GAAQ,SAAUkkH,GACnC,IAAIgQ,EAAchgJ,EAAMgwI,GAAQ,SAAUhnF,GACxC,OAAOnvB,GAAQmvB,EACjB,IACA4mF,GAAQG,UAAU0P,EAAUO,EAC9B,IACAj2F,GAAQ+3B,EAASh2D,EAAQ,mBAAmBvtB,MAAK,SAAU8vH,GACrDssB,GAAQR,SAASsF,IACnB38E,GAAS34B,GAAGkkF,EAEhB,IACAssB,GAAQ1yE,QAAQw3E,EAClB,GACF,EA+CI8C,GAAsBp2F,GAAU,CAClClzD,KAAM,sBACNgzD,aAAcg2F,KACd71F,WAAY81F,KACZz4F,QAlDc,SAAU39B,EAAQ6K,EAAYjF,EAAM83B,GAClD,IAAIg5F,EAAqB,uBAKzB,MAAO,CACLx2H,IAAKF,EAAOE,IACZxnB,IAAKsnB,EAAOtnB,IACZmyB,WAAYA,EACZpE,WAAY8yB,GAAQv5B,EAAOi2H,uBAAwB,CACjDt9C,GAAS1uE,OAAO,CACdo0C,OAAQ,CACN81E,cAAe,SAAUn+D,GACvB,OAAOs/D,GAAa/5F,OAAOlrD,EAASA,EAAS,CAAC,EAAGqtD,EAAU,qBAAsB,CAC/E9F,MAAO,CAACsrB,GAAO3nB,OAAOlrD,EAASA,EAAS,CAAC,EAAGqtD,EAAU,sBAAuB,CACzE79B,OAAQ,SAAU82H,GAChB53H,GAAKi3D,EAAS0gE,EAChB,QAGR,KAGJzsH,GAAO,wBAAyB,CAACtK,GAAM+2H,GAAoB,SAAU1gE,GACjEugE,GAAcvgE,EAASh2D,EACzB,QAEJ4M,KAAM,CACJq3G,UAAW,SAAUjuD,EAASkuD,IA3BhB,SAAUluD,EAASkuD,GACnC,IAAIxwF,EAAQx/C,EAAMgwI,EAAQluD,EAAQ32D,YAAY4E,OAC9CjE,EAAOk0H,YAAY9sI,IAAIssC,EACzB,CAyBMkjG,CAAY5gE,EAASkuD,GACrB/nE,GAAQ6Z,EAASh2D,EACnB,EACAm8C,QAAS,SAAU6Z,GACjB,OAAO7Z,GAAQ6Z,EAASh2D,EAC1B,EACAm2C,OAAQ,SAAU6f,GAChB,OAAOugE,GAAcvgE,EAASh2D,EAChC,EACAk0B,OAAQ,SAAU8hC,GAChB,OAnEK,SAAUA,EAASh2D,GAC9B,OAAOi+B,GAAQ+3B,EAASh2D,EAAQ,YAAYxtB,IAAIq8I,GAAQR,UAAUp8I,OAAM,EAC1E,CAiEeiiD,CAAO8hC,EAASh2D,EACzB,GAEF+K,gBAAiB,CAAE7E,WAAY,CAAE2zC,KAAM,UAE3C,EAMEjtC,KAAM,CACJq3G,UAAW,SAAUr3G,EAAMopD,EAASkuD,GAClCt3G,EAAKq3G,UAAUjuD,EAASkuD,EAC1B,EACA/nE,QAAS,SAAUvvC,EAAMopD,GACvBppD,EAAKuvC,QAAQ6Z,EACf,EACA7f,OAAQ,SAAUvpC,EAAMopD,GACtBppD,EAAKupC,OAAO6f,EACd,EACA9hC,OAAQ,SAAUtnB,EAAMopD,GACtB,OAAOppD,EAAKsnB,OAAO8hC,EACrB,KAIA6gE,GAA2B,SAAUC,GACvC,IAAI5wH,EAAa4wH,EAAaj8D,MAAMhpF,MAAK,WACvC,MAAO,CAAC,CACV,IAAG,SAAUgpF,GACX,MAAO,CAAE30D,WAAY,CAAE20D,MAAOA,GAChC,IACA,MAAO,CACLniF,IAAKrI,EAAS,CACZsJ,IAAK,MACLssB,QAAS,CAAC,uBACTC,GACH2E,WAAY,CAACyqH,GAAa35H,MAAMi8B,MAAM,CAAC,IACvCA,MAAOk/F,EAAal/F,MACpBuhB,QAAS,CAAEq8E,aAAc,gIACzBD,iBAAkB39G,GAAS,CACzB64D,GAAYxmE,OAAO,CAAC,GACpBurC,GAASvrC,OAAO,CAAC,KAGvB,EACI8sH,GAAqB,SAAUD,GACjC,OAAOxB,GAAa/5F,OAAOs7F,GAAyBC,GACtD,EACIE,GAAuB,SAAUC,EAAaC,GAChD,IAAIC,EAAar2H,IAAc,SAAU1F,GACvC,IAAI8oH,EAAShwI,EAAM+iJ,EAAYG,WAAYL,IAC3CjT,GAAQG,UAAU7oH,EAAW8oH,EAC/B,IACA,OAAOtsG,GAAS,CACdwgD,GAA+B6+D,EAAY7vE,UAAUplB,YACrDm2B,KACAhlB,GAAOlpC,OAAO,CACZsX,KAAM21G,EACNjuF,SAAUguF,EAAYhuF,SACtB5nD,SAAU,wBAEZ4oB,GAAO,iBAAkB,CAACktH,KAE9B,EACIE,GAA0B,SAAUJ,GACtC,IAAIC,EAAWD,EAAYK,aAAe,SAAW,UACrD,MAAO,CACLp3H,IAAK+2H,EAAY/2H,IACjBxnB,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,yBAEZtK,MAAO,CACL,iBAAkBk7H,GAAyB,CACzCh8D,MAAOznF,EAAS1B,OAChBkmD,MAAO,KAET,kBAAmB4kE,GAAqB,CACtCrvH,KAAM,OACN64E,KAAM5yE,EAASJ,KAAK,eACpBmuD,UAAU,EACVkzB,QAASjhF,EAASJ,KAAK,WACvB4nE,SAAS,EACTiiD,YAAY,GACXzpH,EAAS1B,OAAQulJ,EAAY7vE,YAElC6uE,uBAAwBe,GAAqBC,EAAaC,GAE9D,EACIK,GAA4B,SAAUN,GACxC,IAAIO,EAAWH,GAAwBJ,GAEnCr8E,EAAUk7E,GAAqBn6H,MAAMi/C,QAAQ,CAC/CliE,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,2BAGd,OAAO6vH,GAAqBv6F,OAAOlrD,EAASA,EAAS,CAAC,EAAGmnJ,GAAW,CAClEv2E,SAAUg2E,EAAY5vE,QACtB0uE,kBAAmB,WACjB,IAAIlM,EAAaoN,EAAYQ,eAAepN,aAAa9vI,QACrDm9I,EAAevpI,GAAW07H,GAC1B8N,EAAU90I,GAAgBgnI,GAC1B+N,EAAYzpI,GAAWwpI,GACvBhwI,EAASiF,KAAKrF,IAAIowI,EAAQj/I,IAAIsuH,aAAc4wB,EAAUjwI,QAC1D,OAAOoG,GAAO2pI,EAAa7qJ,EAfT,EAe8B+qJ,EAAU39I,EAAGy9I,EAAaxrI,MAAQ2rI,EAAqBlwI,EACzG,EACAgU,MAAOtrB,EAASA,EAAS,CAAC,EAAGmnJ,EAAS77H,OAAQ,CAC5Cg4H,SAAU,CACRj7I,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,yBACVC,WAAY+wH,EAAY/wH,eAI9B2E,WAAY,CAAC+vC,GACbzB,QAAS,CAAE68E,qBAAsB,uBAErC,EACI8B,GAA2B,SAAUb,GACvC,IAAIr8E,EAAU67E,GAAoB96H,MAAMi/C,QAAQ,CAC9CliE,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,2BAGV0tH,EAAW8C,GAAoB96H,MAAMg4H,SAAS,CAChDj7I,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,4BAGVuxH,EAAWH,GAAwBJ,GACvC,OAAOR,GAAoBl7F,OAAOlrD,EAASA,EAAS,CAAC,EAAGmnJ,GAAW,CACjE3sH,WAAY,CACV+vC,EACA+4E,GAEFx6E,QAAS,CACPk5D,UAAW,8BACXua,YAAa,gCACbF,aAAc,iCACdD,eAAgB,mCAChBuJ,qBAAsB,qBAExBM,SAAU,SAAUnxH,GAClBA,EAAK9F,YAAY0E,YAAY,CAACwkH,MAAwB,CAAE57I,KAAM,UAChE,EACA0pJ,SAAU,SAAUlxH,GAClBA,EAAK9F,YAAY0E,YAAY,CAACwkH,MAAwB,CAAE57I,KAAM,UAChE,IAEJ,EACIorJ,GAAgB,SAAUd,GAC5B,IAAIC,EAAWD,EAAYK,aAAe,SAAW,UACrD,OAAOxT,GAAQvoF,OAAO,CACpBr7B,IAAK+2H,EAAY/2H,IACjBxnB,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,eAAex2B,OAAOwnJ,EAAYtqJ,OAASsiF,GAAY+oE,UAAY,CAAC,0BAA4B,KAE5GntH,WAAY,CAACi5G,GAAQnoH,MAAMuoH,OAAO,CAAC,IACnCF,kBAAmBgT,GAAqBC,EAAaC,IAEzD,EAsFIe,GAAcvV,GAASrnF,SAAS,CAClCsC,QAASguF,GACTx+I,KAAM,UACNynB,OAAQ,CAACsC,GAAW,gBAWlBghI,GAAsBxV,GAASrnF,SAAS,CAC1CsC,QAAS,CACPpC,OAAQ,SAAU31B,GAChB,OAAOk9G,GAAWvnF,OAAO,CACvBr7B,IAAK0F,EAAK1F,IACVxnB,IAAKktB,EAAKltB,IACVwqI,eAAgBtrG,GAAS,CAACu7B,GAAOlpC,OAAO,CACpCsX,KAAM,UACNlgC,SAAU,mBAEdmiI,SAAU,WACR,OAAOuU,GAAc,CACnBprJ,KAAMi5B,EAAKj5B,KACXuzB,IAAKuC,GAAW,yBAChB60H,cAAc,EACdF,WAAY,GACZhwE,UAAWxhD,EAAKwhD,UAChBne,SAAU,WAER,OADArjC,EAAKqjC,WACE71D,EAASJ,MAAK,EACvB,GAEJ,EACA2wI,UAAW,SAAUwU,EAAWC,EAAIh5H,EAAMi5H,GACxCvU,GAAQG,UAAUmU,EAAIh5H,EACxB,EACA4jH,OAAO,GAEX,GAEF71I,KAAM,mBACNynB,OAAQ,CACNsC,GAAW,OACXA,GAAW,eAGXohI,GAAc5V,GAASrnF,SAAS,CAClCsC,QAAS,CACPpC,OAAQ,SAAU31B,GAChB,IAAI2yH,EAhDW,SAAU3yH,GAC7B,OAAIA,EAAKj5B,OAASsiF,GAAYupE,QACrBV,GACElyH,EAAKj5B,OAASsiF,GAAYwpE,SAC5BlB,GAEAQ,EAEX,CAwCqBW,CAAe9yH,GAmB9B,OAAO2yH,EAlBW,CAChB5rJ,KAAMi5B,EAAKj5B,KACXuzB,IAAK0F,EAAK1F,IACV+oC,SAAU,WAER,OADArjC,EAAKqjC,WACE71D,EAASJ,MAAK,EACvB,EACAskJ,cAAc,EACdF,WAAY,GACZ/vE,QAASzhD,EAAKyhD,QACdD,UAAWxhD,EAAKwhD,UAChBqwE,eAAgB,CACdkB,YAAa/yH,EAAK+yH,YAClBC,eAAgBhzH,EAAKgzH,eACrBvO,WAAYzkH,EAAKykH,YAEnBnkH,WAAYN,EAAKM,YAGrB,GAEF/4B,KAAM,UACNynB,OAAQ,CACNsC,GAAW,OACXA,GAAW,YACXA,GAAW,cAGX2hI,GAAanW,GAASrnF,SAAS,CACjCsC,QAAS,CAAEpC,OA/2DM,SAAU31B,GAC3B,IAAI2gD,EAAS3gD,EAAK2gD,OACdl8C,EAAkBzE,EAAKkzH,OAAStU,GAAgBH,GACpD,MAAO,CACLnkH,IAAK0F,EAAK1F,IACVxnB,IAAKktB,EAAKltB,IACVmyB,WAAYjF,EAAKiF,WACjBpE,WAAYmR,GAASvN,EAAgBk8C,EAAQ3gD,EAAK8gD,kBAEtD,GAu2DEv5E,KAAM,SACNynB,OAAQ,CAACsC,GAAW,UAElB6hI,GAAarW,GAASrnF,SAAS,CACjCluD,KAAM,SACNynB,OAAQ,CAACsC,GAAW,UAElB8hI,GAActW,GAASrnF,SAAS,CAClCsC,QAAS,CAAEpC,OAlvCO,SAAU31B,GAC5B,MAAO,CACL1F,IAAK0F,EAAK1F,IACVxnB,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,eACVC,WAAY,CAAE2zC,KAAM,kBAEtBhvC,WAAY,CAAC,CACTnyB,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,wBAEZ4E,WAAY,GACZpE,WAAYmR,GAAS,CACnB64D,GAAYxmE,OAAO,CAAC,GACpBurC,GAASvrC,OAAO,CAAC,GACjB4kH,GAAQ5kH,OAAO,CACbqiH,UAAW,CAAE9mI,SAAU,SACvBonI,YAAa,8BACbva,UAAW,4BACXoa,eAAgB,iCAChBC,aAAc,+BACdS,SAAU,SAAU9qC,GACKvhD,GAAUL,WAAW4hD,GAC3B5vG,KAAKq9I,GAAcH,cACpC5wH,GAAKsjF,EAAQwuC,GACf,EACAlC,QAAS,SAAUtsC,GACjBtjF,GAAKsjF,EAAQwuC,GACf,EACAjD,YAAa,SAAUvrC,GACrBpjF,GAASojF,EAAQuuC,GAAS,CAAE1kI,MAAO/F,GAAOk8F,EAAO9nG,QAAS,SAAStI,MAAM,KAC3E,EACAi7I,cAAe,SAAU7qC,GACvBpjF,GAASojF,EAAQuuC,GAAS,CAAE1kI,MAAOhD,GAAMm5F,EAAO9nG,SAAW,MAC7D,IAEFk6D,GAAUxqC,OAAO,CAAC,GAClB62B,GAAU72B,OAAO,CACf22B,KAAM,SAAUz7B,GACd,IAAIjiB,EAAWuxD,GAAU/e,SAASvwB,GAClC,OAAOp5B,GAAKmX,EACd,QAIRujB,WAAYmR,GAAS,CACnBy0E,GAAyB,GACzBpiF,GAAO,yBAA0B,CAC/BtK,GAAMixH,IAAS,SAAUzrH,EAAMuhE,GAC7B9gF,GAAMuf,EAAK5qB,QAAS,QAASmsF,EAAGp9E,MAAM4C,MACxC,IACAyT,GAAMkxH,IAAU,SAAU1rH,EAAMgyB,GAC9B1wC,GAAS0e,EAAK5qB,QAAS,QACzB,QAIR,GAwrCEpN,KAAM,UACNynB,OAAQ,CAACsC,GAAW,UAElB+hI,GAAevW,GAASrnF,SAAS,CACnCsC,QAAS,CAAEpC,OAzhCQ,SAAU31B,GAC7B,MAAO,CACL1F,IAAK0F,EAAK1F,IACVxnB,IAAK,CACHiB,IAAK,MACLusB,WAAY,CAAE,cAAe,QAC7BD,QAAS,CAAC,gBACVE,OAAQ,CAAEqjE,QAAS,SAErB/iE,WAAYmR,GAAS,CACnB68B,GAAUxqC,OAAO,CAAC,GAClBsnH,GAAStnH,OAAO,CAAE2O,OAAO,IACzBkoB,GAAU72B,OAAO,CACf22B,KAAM,SAAUz7B,GACd,OAAOp5B,GAAKo5B,EAAK0F,aACnB,MAGJA,WAAY,GAEhB,GAsgCE19B,KAAM,WACNynB,OAAQ,CAACsC,GAAW,UAElBgiI,GAAiB74F,GAAU,CAC7BlzD,KAAM,iBACNwwD,QA3Lc,SAAU39B,EAAQ6K,EAAY4uC,GAC5C,IAAI7sC,EAAO,CACTusH,UAAW,SAAUh0H,GACnB,OAAOs9G,GAAQxkF,QAAQ94B,EAAMnF,EAAQ,SACvC,EACAo5H,WAAY,SAAUj0H,EAAM+qH,GAC1BzN,GAAQxkF,QAAQ94B,EAAMnF,EAAQ,WAAWvtB,MAAK,SAAUk+I,GACtD,OArnCS,SAAUA,EAAST,GAClBpvF,GAAUL,WAAWkwF,GAC3Bl+I,MAAK,SAAU4vG,GACvB,OAAO5tC,GAAUrtD,IAAIi7F,EAAQ,CAACmuC,GAAYN,IAC5C,GACF,CAgnCekJ,CAAWzI,EAAST,EAC7B,GACF,EACAmJ,cAAe,SAAUl0H,EAAMh4B,GAC7Bs1I,GAAQxkF,QAAQ94B,EAAMnF,EAAQ,WAAWvtB,MAAK,SAAUk+I,GACtD,OApnCY,SAAUA,EAASxjJ,GACrB2zD,GAAUL,WAAWkwF,GAC3Bl+I,MAAK,SAAU4vG,GACAvhD,GAAUL,WAAW4hD,GAC3B5vG,MAAK,SAAUg+I,GAC1B5B,GAAQR,SAAShsC,GACfytC,GAAcn7D,UAAU87D,EAAetjJ,GACzC0hJ,GAAQV,OAAO9rC,IAEfytC,GAAcH,aAAac,GAC3BX,GAAcL,SAASgB,EAAetjJ,KAGxC2iJ,GAAcH,aAAac,GAC3BX,GAAcL,SAASgB,EAAetjJ,GACtC0hJ,GAAQX,KAAK7rC,GAEjB,GACF,GACF,CAimCeg3C,CAAc1I,EAASxjJ,EAChC,GACF,EACAujJ,aAAc,SAAUvrH,GACtB,OAAOs9G,GAAQxkF,QAAQ94B,EAAMnF,EAAQ,WAAWttB,KAAKg+I,IAAct+I,WACrE,EACAknJ,UAAW,SAAUn0H,GACnB,OAAOs9G,GAAQxkF,QAAQ94B,EAAMnF,EAAQ,SACvC,EACAm1H,WAAY,SAAUhwH,GACpB,OAAOs9G,GAAQxkF,QAAQ94B,EAAMnF,EAAQ,UACvC,EACAu5H,WAAY,SAAUp0H,EAAM++G,GAC1BzB,GAAQxkF,QAAQ94B,EAAMnF,EAAQ,WAAWvtB,MAAK,SAAUujF,GACtDA,EAAQzwD,UAAU0+G,UAAUjuD,EAASkuD,EACvC,GACF,EACAsV,YAAa,SAAUr0H,EAAMmxD,GAC3BmsD,GAAQxkF,QAAQ94B,EAAMnF,EAAQ,oBAAoBvtB,MAAK,SAAUgnJ,GAC/D3W,GAAWK,SAASsW,EAAUnjE,EAChC,GACF,EACAojE,eAAgB,SAAUv0H,GACVs9G,GAAQxkF,QAAQ94B,EAAMnF,EAAQ,WACpCvtB,MAAK,SAAUujF,GACrB,OAAOA,EAAQzwD,UAAU42C,QAAQ6Z,EACnC,GACF,EACA2jE,oBAAqB,SAAUx0H,GAC7Bs9G,GAAQxkF,QAAQ94B,EAAMnF,EAAQ,WAAWvtB,MAAK,SAAUujF,GAjmvBhD,IAAUxoF,EAAGmC,EAAHnC,EAkmvBRwoF,EAAQzwD,UAAU4wC,OAlmvBPxmE,EAkmvBe,SAAUwmE,GAC1C,OAAOA,EAAO6f,EAChB,EAnmvBCxoF,QAAgC4F,EAASJ,KAAKrD,EAAEnC,IAAM4F,EAAS1B,MAomvBlE,GACF,EACAkoJ,uBAAwB,SAAUz0H,GAChC,OAAOs9G,GAAQxkF,QAAQ94B,EAAMnF,EAAQ,WAAWttB,MAAK,SAAUsjF,GAC7D,OAAO5iF,EAAS/B,KAAK2kF,EAAQzwD,UAAU2uB,QAAQ1hD,KAAI,SAAU0hD,GAC3D,OAAOA,EAAO8hC,EAChB,GACF,IAAG/jF,OAAM,EACX,EACA4nJ,YAAa,SAAU10H,GACrB,OAAOs9G,GAAQxkF,QAAQ94B,EAAMnF,EAAQ,WACvC,EACA85H,aAAc,SAAU30H,GACLs9G,GAAQxkF,QAAQ94B,EAAMnF,EAAQ,WAAWztB,SAAQ,WAChE,OAAOkwI,GAAQxkF,QAAQ94B,EAAMnF,EAAQ,mBACvC,IACWvtB,MAAK,SAAUujF,GACxB7iB,GAAO1L,QAAQuuB,EACjB,GACF,EACA+jE,WAAY,SAAU50H,EAAMi1C,GAC1BqoE,GAAQxkF,QAAQ94B,EAAMnF,EAAQ,WAAWvtB,MAAK,SAAUunJ,GACtDrO,GAAcC,SAASoO,EAAS5/E,EAClC,GACF,EACA6/E,aAAc,SAAU90H,GACtBs9G,GAAQxkF,QAAQ94B,EAAMnF,EAAQ,WAAWvtB,MAAK,SAAUunJ,GACtDrO,GAAc/yG,MAAMohH,EACtB,GACF,GAEF,MAAO,CACL95H,IAAKF,EAAOE,IACZxnB,IAAKsnB,EAAOtnB,IACZmyB,WAAYA,EACZ+B,KAAMA,EACNnG,WAAYzG,EAAOyG,WAEvB,EAyGE05B,aAAc,CACZjpC,GAAW,OACXA,GAAW,eAEbopC,WAAY,CACVu4F,GACAZ,GACAK,GACAJ,GACAa,GACAC,GACAC,IAEFrsH,KAAM,CACJusH,UAAW,SAAUvsH,EAAMzH,GACzB,OAAOyH,EAAKusH,UAAUh0H,EACxB,EACAi0H,WAAY,SAAUxsH,EAAMzH,EAAM+qH,GAChCtjH,EAAKwsH,WAAWj0H,EAAM+qH,EACxB,EACAmJ,cAAe,SAAUzsH,EAAMzH,EAAMh4B,GACnCy/B,EAAKysH,cAAcl0H,EAAMh4B,EAC3B,EACAujJ,aAAc,SAAU9jH,EAAMzH,GAC5B,OAAOyH,EAAK8jH,aAAavrH,EAC3B,EACAm0H,UAAW,SAAU1sH,EAAMzH,GACzB,OAAOyH,EAAK0sH,UAAUn0H,EACxB,EACAgwH,WAAY,SAAUvoH,EAAMzH,GAC1B,OAAOyH,EAAKuoH,WAAWhwH,EACzB,EACAo0H,WAAY,SAAU3sH,EAAMzH,EAAM+0H,GAChC,IAAIhW,EAAShwI,EAAMgmJ,GAAM,SAAUC,GACjC,OAAOpD,GAAmBoD,EAC5B,IACAvtH,EAAK2sH,WAAWp0H,EAAM++G,EACxB,EACAsV,YAAa,SAAU5sH,EAAMzH,EAAM1xB,GACjC,IAAI2mJ,EAAmBlmJ,EAAMT,GAAI,SAAUypD,GACzC,OAAOhpD,EAAMgpD,EAAG65F,GAClB,IACAnqH,EAAK4sH,YAAYr0H,EAAMi1H,EACzB,EACAV,eAAgB,SAAU9sH,EAAMzH,GAC9B,OAAOyH,EAAK8sH,eAAev0H,EAC7B,EACAw0H,oBAAqB,SAAU/sH,EAAMzH,GACnCyH,EAAK+sH,oBAAoBx0H,EAC3B,EACAy0H,uBAAwB,SAAUhtH,EAAMzH,GACtC,OAAOyH,EAAKgtH,uBAAuBz0H,EACrC,EACA00H,YAAa,SAAUjtH,EAAMzH,GAC3B,OAAOyH,EAAKitH,YAAY10H,EAC1B,EACA40H,WAAY,SAAUntH,EAAMzH,EAAMi1C,GAChCxtC,EAAKmtH,WAAW50H,EAAMi1C,EACxB,EACA6/E,aAAc,SAAUrtH,EAAMzH,GAC5ByH,EAAKqtH,aAAa90H,EACpB,EACA20H,aAAc,SAAUltH,EAAMzH,GAC5ByH,EAAKktH,aAAa30H,EACpB,KAKAk1H,GAAe,CACjBnsC,KAAM,CACJrzB,MAAO,OACPjjC,MAAO,8EAET0iG,KAAM,CACJz/D,MAAO,OACPjjC,MAAO,oEAET3qC,KAAM,CACJ4tE,MAAO,OACPjjC,MAAO,gGAETjsD,OAAQ,CACNkvF,MAAO,SACPjjC,MAAO,oJAET8qC,OAAQ,CACN7H,MAAO,SACPjjC,MAAO,sLAET2iG,MAAO,CACL1/D,MAAO,QACPjjC,MAAO,gEAETgiF,MAAO,CACL/+C,MAAO,QACPjjC,MAAO,yEAET4iG,KAAM,CACJ3/D,MAAO,OACPjjC,MAAO,SA2BP6iG,GAAmB,SAAU7iG,GAC/B,MAAqB,iBAAVA,EACFA,EAAM7yB,MAAM,KAEd6yB,CACT,EACI8iG,GAAgB,SAAUn0E,EAAQoI,GACpC,IAAIgsE,EAActqJ,EAASA,EAAS,CAAC,EAAGgqJ,IAAe1rE,EAASvU,OAC5DwgF,EAAmB7kJ,GAAK44E,EAASvU,OAAO7rE,OAAS,EACjDyrJ,OAA+B3tJ,IAArBsiF,EAASqrE,UAA8C,IAArBrrE,EAASqrE,QAAmBS,GApEzD,iDAoE4FA,IAAsC,IAArB9rE,EAASqrE,QAAoB,GAAKrrE,EAASqrE,SACvKa,EAAatmJ,EAASylJ,GAAS,SAAUp+E,GAC3C,IAAIk/E,EAAgB7jJ,GAAMojJ,GAAcz+E,GACxC,OAAIg/E,EACKE,GAAiB/jJ,GAAM43E,EAASvU,MAAOwB,GAAUjpE,QAAO,SAAUsgE,GACvE,OAAOh8D,GAAMg8D,EAAM,QACrB,IAEO6nF,CAEX,IACI1gF,EAAQlmE,EAAM2mJ,GAAY,SAAUj/E,GACtC,IAAIm/E,EAAWJ,EAAY/+E,GAC3B,OA9CO,SAAU3I,EAAM0b,EAAUpI,GACnC,IAAIy0E,EAvpboB,SAAUz0E,GAClC,OAAOA,EAAO8O,SAAS,oBAAqB,GAC9C,CAqpbyB4lE,CAAoB10E,GAAQxhD,MAAM,QACzD,MAAO,CACLlrB,KAAMo5D,EAAK4nB,MACX25C,SAAU,WACR,OAAOv/H,EAAOg+D,EAAKrb,OAAO,SAAUvpD,GAClC,IAAI6sJ,EAAW7sJ,EAAEoM,cACjB,OAA+B,IAA3BygJ,EAASxuG,OAAOn+C,QAEToE,EAAOqoJ,GAAkB,SAAUG,GAC1C,OAAOA,IAAoBD,CAC7B,IAHO,GAKe,cAAbA,GAAyC,MAAbA,EAC9B,CAAC,CAAEvuJ,KAAM,cACPgiF,EAASrU,UAAU4gF,GACrB,CAACvsE,EAASrU,UAAU4gF,IAEpB,EAEX,GACF,EAEJ,CAuBW32G,CAAK,CACVs2C,MAAOkgE,EAASlgE,MAChBjjC,MAAO6iG,GAAiBM,EAASnjG,QAChC+2B,EAAUpI,EACf,IACA,OAAOhyE,EAAS6lE,GAAO,SAAUnH,GAI/B,OAAOA,EAAKuhE,WAAWjmI,OAAS,GAAKoE,EAAOsgE,EAAKuhE,YAH5B,SAAUjuH,GAC7B,MAAqB,cAAdA,EAAK5Z,IACd,GAEF,GACF,EAEIyuJ,GAAiB,SAAU70E,GAC7B,IAAIouB,EAAO,WACTpuB,EAAO80E,aAAc,EAv5ZF,SAAU90E,GACxBA,EAAOsZ,KAAK,aACrB,CAs5ZIy7D,CAAiB/0E,EACnB,EACA,OAAO,WACDA,EAAOg1E,YACT5mD,IAEApuB,EAAOloC,GAAG,OAAQs2D,EAEtB,CACF,EAOI6mD,GAAiB,SAAUj1E,EAAQk1E,EAAeC,GACpD,OAAO,IAAIjwE,IAAS,SAAUr7E,EAASkkG,GACrConD,EAAiBnlF,KAAKklF,EAAerrJ,EAASkkG,GAC9C/tB,EAAOloC,GAAG,UAAU,WAClB,OAAOq9G,EAAiBC,OAAOF,EACjC,GACF,GACF,EACIG,GAAc,SAAUr1E,EAAQs1E,GAElC,OAAOL,GAAej1E,EADNs1E,EAAU,gBACet1E,EAAOmI,GAAGgtE,iBACrD,EACII,GAAuB,SAAUv1E,EAAQs1E,GAC3C,IA33uB6B9qJ,EA43uB7B,OA53uB6BA,EA23uBSgI,GAAaF,QAAQ0tE,EAAO+O,cA13uB3DpxE,GAAcnT,GAAGgB,UA63uBfypJ,GAAej1E,EADCs1E,EAAU,0BACe3mE,GAASM,IAAIkmE,kBAEtDjwE,GAASr7E,SAEpB,EACI2rJ,GAAW,SAAUC,EAAUz1E,GACjC,IAAIs1E,EA3ybW,SAAUt1E,GACzB,IAAI01E,EAAO11E,EAAO8O,SAAS,QACvBwmE,EAAUt1E,EAAO8O,SAAS,YAC9B,IAAa,IAAT4mE,EAAgB,CAClB,IAAIC,EAAWD,GAAc,QAE3BJ,EADEA,EACQt1E,EAAO41E,gBAAgB50G,WAAWs0G,GAElC1mE,GAASinE,QAAU,aAAeF,CAEhD,CACA,OAAOL,CACT,CA+xbgBQ,CAAW91E,GACrBs1E,GACFt1E,EAAO+1E,WAAWjxJ,KAAKwwJ,GAAWG,EAAW,kBAAoB,YAAc,aAElD,IA/xbZ,SAAUz1E,GAC7B,OAAmC,IAA5BA,EAAO8O,SAAS,OACzB,CA6xbMknE,CAAeh2E,IAAqB94E,EAASouJ,GAC/CpwE,GAASj8E,IAAI,CACXosJ,GAAYr1E,EAAQs1E,GACpBC,GAAqBv1E,EAAQs1E,KAC5B5uE,KAAKmuE,GAAe70E,GApCH,SAAUA,EAAQl3D,GACxC,OAAO,WACL,OAj6ZsB,SAAUk3D,EAAQ9sE,GAC1C,OAAO8sE,EAAOsZ,KAAK,gBAAiBpmF,EACtC,CA+5ZW+iJ,CAAoBj2E,EAAQ,CAAEv3D,QAASK,GAChD,CACF,CAgCoCotI,CAAkBl2E,EAAQ,6BAE1D60E,GAAe70E,EAAf60E,EAEJ,EACIrlB,GAAS3mI,EAAM2sJ,IAAU,GACzBhlE,GAAS3nF,EAAM2sJ,IAAU,GAEzBW,GAAsB,SAAUn2E,EAAQp5E,GAC1C,OAAO,SAAUg/C,GACf,IAAIwwG,EAAgB19G,KAChBxZ,EAAO,WACT0mB,EAAIs5C,UAAUlf,EAAOm2D,UAAU16H,MAAM7U,IACrC,IAAIyvJ,EAAUr2E,EAAOm2D,UAAUmgB,cAAc1vJ,EAAMg/C,EAAIs5C,WACvDk3D,EAAcv1I,IAAIw1I,EACpB,EAEA,OADAr2E,EAAOg1E,YAAc91H,IAAS8gD,EAAOu2E,KAAK,OAAQr3H,GAC3C,WACL8gD,EAAOhoC,IAAI,OAAQ9Y,GACnBk3H,EAAc99G,OAChB,CACF,CACF,EACIk+G,GAAe,SAAUx2E,EAAQj9D,EAAO3Z,GAC1C,OAAO,SAAUw8C,GACf,IAAI6wG,EAAc,WAChB,OAAOrtJ,EAAEw8C,EACX,EACI1mB,EAAO,WACT91B,EAAEw8C,GACFo6B,EAAOloC,GAAG/0B,EAAO0zI,EACnB,EAEA,OADAz2E,EAAOg1E,YAAc91H,IAAS8gD,EAAOu2E,KAAK,OAAQr3H,GAC3C,WACL8gD,EAAOhoC,IAAI,OAAQ9Y,GACnB8gD,EAAOhoC,IAAIj1B,EAAO0zI,EACpB,CACF,CACF,EACIC,GAAyB,SAAU12E,GACrC,OAAO,SAAU22E,GACf,OAAO,WACL32E,EAAO42E,YAAYC,UAAS,WAC1B72E,EAAO3tC,QACP2tC,EAAOwc,YAAY,mBAAmB,EAAOm6D,EAAQx6D,OACvD,GACF,CACF,CACF,EACI26D,GAAsB,SAAU92E,EAAQssE,GAC1C,OAAO,WACL,OAAOtsE,EAAOwc,YAAY8vD,EAC5B,CACF,EAEIyK,GAAsB,SAAUC,EAAS52E,EAAW/gD,GACtD,IAAI43H,EAAe,SAAUN,EAASO,EAAUt8F,EAAUv0D,GACxD,IAAIgwH,EAAiBj2C,EAAUC,OAAOQ,UAAUn/D,UAAUi1I,EAAQriE,OAClE,GAAqB,cAAjBqiE,EAAQvwJ,KACV,OAAOyG,EAASJ,KAAK,CACnBrG,KAAM,YACNkN,KAAM+iH,IAEH,GAAqB,YAAjBsgC,EAAQvwJ,KAAoB,CACrC,IAAIirD,EAAQ3iD,EAAOioJ,EAAQ5f,iBAAiB,SAAUogB,GACpD,OAAOlmD,EAASkmD,EAAID,EAAU7wJ,EAChC,IACA,OAAiB,IAAb6wJ,GAAkB7lG,EAAMrpD,QAAU,EAC7B6E,EAAS1B,OAET0B,EAASJ,KAAK,CACnBrG,KAAM,iBACNkN,KAAM+iH,EACNz7D,SAAUvJ,EAAMrpD,QAAU,EAC1B81F,gBAAiB,WACf,OAAOpvF,EAAOioJ,EAAQ5f,iBAAiB,SAAUogB,GAC/C,OAAOlmD,EAASkmD,EAAID,EAAU7wJ,EAChC,GACF,GAGN,CACE,OAAOwG,EAASJ,KAAK3C,EAAS,CAC5B1D,KAAM,iBACNkN,KAAM+iH,EACN52C,KAAMk3E,EAAQl3E,KACdhvC,OAAQkmH,EAAQ13D,WAAW54F,GAC3Bu0D,SAAUA,EACVglB,SAAUvgD,EAAKugD,SAAS+2E,IACvBA,EAAQjgB,kBAAkBprI,MAAK,WAChC,MAAO,CAAC,CACV,IAAG,SAAUw2G,GACX,MAAO,CAAEpwD,KAAM,CAAEt/C,MAAO0vG,GAC1B,KAEJ,EACI7Q,EAAW,SAAUjxF,EAAMk3I,EAAU7wJ,GACvC,IAAI+wJ,EAAwB,cAAdp3I,EAAK5Z,MAAwBi5B,EAAKgyE,UAAUrxF,GAC1D,OAAiB,IAAbk3I,EACKE,EAAU,GAAKH,EAAaj3I,EAAMk3I,GAAU,EAAO7wJ,GAAOkG,UAE1D0qJ,EAAaj3I,EAAMk3I,EAAUE,EAAS/wJ,GAAOkG,SAExD,EACI8qJ,EAAgB,SAAUC,GAC5B,IAAIjxJ,EAAQg5B,EAAKk4H,kBACbL,EAAW73H,EAAKm4H,WAAa,EAAI,EACrC,OAAO9oJ,EAAO4oJ,GAAU,SAAUt3I,GAChC,OAAOixF,EAASjxF,EAAMk3I,EAAU7wJ,EAClC,GACF,EASA,MAAO,CACLgxJ,cAAeA,EACf9hC,SAVa,SAAUn1C,EAAW22D,GAClC,OAAO,SAAUn4G,EAAM+9D,GACrB,IAAI26D,EAAWvgB,IACX1lF,EAAQgmG,EAAcC,GAE1B36D,EADWj/D,GAAM2zB,EAAOs3B,GAAe6J,iBAAkBpS,GAAW,GAEtE,CACF,EAKF,EACIq3E,GAAkB,SAAUz3E,EAAQI,EAAW/gD,GACjD,IAAI0xB,EAAU1xB,EAAK0xB,QACfgmF,EAAiC,UAAjBhmF,EAAQ3qD,KAAmB,WAC7C,OAAOuH,EAAMojD,EAAQl4B,MAAM,SAAU1R,GACnC,OAAOmvH,GAAanvH,EAAGkY,EAAKk3G,cAAel3G,EAAKm3G,cAClD,GACF,EAAIzlF,EAAQytC,QACZ,MAAO,CACLntC,MAAO0lG,GAAoB/2E,EAAQI,EAAW/gD,GAC9C03G,cAAeA,EAEnB,EACI2gB,GAAqB,SAAU13E,EAAQI,EAAW/gD,GACpD,IAAI/lB,EAAKm+I,GAAgBz3E,EAAQI,EAAW/gD,GAAOgyB,EAAQ/3C,EAAG+3C,MAAO0lF,EAAgBz9H,EAAGy9H,cAIpF5kD,EAAUqkE,GAAax2E,EAAQ,cAAc,SAAUp6B,GACzD,IAAIhnB,EAAOgnB,EAAI+xG,eACft4H,EAAKggD,WAAWzgD,EAClB,IACA,OAAOi1F,GAAqB,CAC1BvgH,KAAM+rB,EAAKogD,KAAKj0E,SAAWqB,EAAS1B,OAASk0B,EAAK/rB,KAClDmsE,KAAMpgD,EAAKogD,KACXqO,QAASjhF,EAAS/B,KAAKu0B,EAAKyuD,SAC5Bxa,KAAMzmE,EAAS1B,OACfq7E,MAAOn1B,EAAMkkE,SAASn1C,EAAW22D,GACjC5kD,QAASA,EACTJ,OAdW,SAAUnzD,GACrB,MAAO,CAAE+4H,aAAclvJ,EAAWm2B,GACpC,EAaEgoD,QAAS,EACT8C,QAAS,SACThqD,QAASL,EAAKogD,KAAKj0E,SAAW,GAAK,CAAC,WACpCmpG,mBAAoB,IACnB,WAAYv0B,EAAUC,OAC3B,GAuBC,SAAU6kD,GACTA,EAAUA,EAAqB,UAAI,GAAK,YACxCA,EAAUA,EAAiB,MAAI,GAAK,OACtC,CAHA,CAGEA,KAAcA,GAAY,CAAC,IAC7B,IA69EM0yB,GAEAC,GAEAhvI,GAGAivI,GA8uDFC,GA3sIAC,GAA4B,SAAUh4E,EAAQi4E,EAAazhG,EAAU0hG,GACvE,IACIr/H,EAlCQ,SAAUs/H,GACtB,OAAOxqJ,EAAMwqJ,GAAY,SAAUn4I,GACjC,IAAIs0E,EAAQt0E,EAAMm8E,EAASn8E,EACvBzP,EAASyP,EAAKwe,MAAM,KAKxB,OAJIjuB,EAAOvI,OAAS,IAClBssF,EAAQ/jF,EAAO,GACf4rF,EAAS5rF,EAAO,IAEX,CACL+jF,MAAOA,EACP6H,OAAQA,EAEZ,GACF,CAqBazxE,CATD,SAAUytI,EAAYD,GAChC,OAAIA,IAAchzB,GAAUkzB,UACnBD,EAAWpmJ,QAAQ,KAAM,IAAIysB,MAAM,KAEnC25H,EAAW35H,MAAM,IAE5B,CAGqBA,CADFwhD,EAAO8O,SAASmpE,EAAazhG,EAAU,UACnB0hG,IACrC,MAAO,CACL9xJ,KAAM,QACNyyB,KAAMA,EAEV,EAEIw/H,GAAiB,CACnB,CACE/jE,MAAO,OACP7U,KAAM,aACN0c,OAAQ,YACRmwD,QAAS,eAEX,CACEh4D,MAAO,SACP7U,KAAM,eACN0c,OAAQ,cACRmwD,QAAS,iBAEX,CACEh4D,MAAO,QACP7U,KAAM,cACN0c,OAAQ,aACRmwD,QAAS,gBAEX,CACEh4D,MAAO,UACP7U,KAAM,gBACN0c,OAAQ,eACRmwD,QAAS,gBAGTgM,GAAY,SAAUt4E,GACxB,IAoBIjvB,EAzEG,CACL3qD,KAAM,QACNyyB,KAuEoCw/H,IAUtC,MAAO,CACLvqE,QAAS,QACTx6E,KAAMzG,EAAS1B,OACfs0E,KAAM5yE,EAASJ,KAAK,cACpB8pI,cA7BkB,SAAUp6C,GAC5B,OAAO,WACL,OAAOnc,EAAOm2D,UAAU16H,MAAM0gF,EAChC,CACF,EA0BEo7D,gBAAiB1qJ,EAAS1B,KAC1BqrI,cA1BkB,SAAU+hB,GAC5B,OAAO1rJ,EAAS1B,IAClB,EAyBEy0E,SAhBa,SAAU+2E,GACvB,OAAO,WACL,OAAOtoJ,EAAOgqJ,IAAgB,SAAUr4I,GACtC,OAAOA,EAAKm8E,SAAWw6D,EAAQx6D,MACjC,IAAGjwF,MAAK,SAAU8T,GAChB,OAAOggE,EAAOwc,YAAYx8E,EAAKssI,QACjC,GACF,CACF,EASEjtE,WAzByB,SAAUzgD,GACnC,IAAInjB,EAbGpN,EAAOgqJ,IAAgB,SAAUr4I,GACtC,OAAOggE,EAAOm2D,UAAU16H,MAAMuE,EAAKm8E,OACrC,IAYIq8D,EAAY/8I,EAAMnQ,KAAK7C,EAAW,SAAS,SAAUuX,GACvD,OAAOA,EAAKs0E,MAAMpgF,aACpB,IACAwkB,GAASkG,EAAMg1F,GAAgB,CAAEn0C,KAAM,SAAW+4E,GACpD,EAoBEznG,QAASA,EACTymG,YAAY,EACZnmD,UAAW,SAAUrxF,GACnB,OAAQggE,EAAOm2D,UAAUsiB,SAASz4I,EAAKm8E,OACzC,EAEJ,EAeIu8D,GAAmB,CACrB,gBACA,WACA,SACA,iBACA,cAEEC,GAAa,SAAUC,GACzB,IAAIC,EAAQD,EAAWp6H,MAAM,WAC7B,OAAO7wB,EAAMkrJ,GAAO,SAAUC,GAC5B,OAAOA,EAAK/mJ,QAAQ,iBAAkB,GACxC,GACF,EAUIgnJ,GAAY,SAAU/4E,GACxB,IAAIg5E,EAAa,cACbC,EAAmB,WACrB,IAAIC,EAAe,SAAUN,GAC3B,OAAOA,EAAaD,GAAWC,GAAY,GAAK,EAClD,EACIA,EAAa54E,EAAOm5E,kBAAkB,YACtC9nG,EAAQN,EAAQl4B,KAChBigI,EAAOF,EAAaA,EAAW1kJ,cAAgB,GAC/CklJ,EAAW/qJ,EAAOgjD,GAAO,SAAUrxC,GACrC,IAAIm8E,EAASn8E,EAAKm8E,OAClB,OAAOA,EAAOjoF,gBAAkB4kJ,GAAQI,EAAa/8D,GAAQjoF,gBAAkBglJ,EAAaJ,GAAM5kJ,aACpG,IAAGlI,SAAQ,WACT,OAAOoF,GAtBW,SAAUwnJ,GAChC,IACMC,EAKN,OAA+C,IAAxCD,EAAWnuJ,QAAQ,mBALpBouJ,EAAQF,GAAWC,EAAW1kJ,eAC3B7H,EAAOqsJ,IAAkB,SAAUI,GACxC,OAAOD,EAAMpuJ,QAAQquJ,EAAK5kJ,gBAAkB,CAC9C,IAGJ,CAcoBmlJ,CAAkBP,GAAO,CACrCxkE,MAAO0kE,EACP78D,OAAQ28D,GAEZ,IACA,MAAO,CACLM,SAAUA,EACVN,KAAMF,EAEV,EAmCI7nG,EAAUinG,GAA0Bh4E,EAAQ,eAhFxB,ukBAgF6DklD,GAAUkzB,WAC/F,MAAO,CACLtqE,QAAS,QACTx6E,KAAMzG,EAASJ,KAAKusJ,GACpBv5E,KAAM5yE,EAAS1B,OACforI,cAvCkB,SAAUv2H,GAC5B,OAAO,SAAU21F,GACf,OAAOA,EAASvpG,QAAO,SAAU/F,GAC/B,OAAOA,EAAM81F,SAAWn8E,CAC1B,GACF,CACF,EAkCEu3I,gBAjCoB,WAEpB,OADe0B,IAAmBG,QAEpC,EA+BE5iB,cA9BkB,SAAUx2H,GAC5B,OAAO,WACL,OAAOnT,EAASJ,KAAK,CACnB2G,IAAK,MACLwsB,QAAmC,IAA3B5f,EAAKvV,QAAQ,SAAkB,CAAE,cAAeuV,GAAS,CAAC,GAEtE,CACF,EAwBE4/D,SAvBa,SAAU+2E,GACvB,OAAO,WACL32E,EAAO42E,YAAYC,UAAS,WAC1B72E,EAAO3tC,QACP2tC,EAAOwc,YAAY,YAAY,EAAOm6D,EAAQx6D,OAChD,GACF,CACF,EAiBE9c,WAhByB,SAAUzgD,GACnC,IAAItlB,EAAK2/I,IAAoBG,EAAW9/I,EAAG8/I,SAAUN,EAAOx/I,EAAGw/I,KAC3DxlJ,EAAO8lJ,EAAS9tJ,KAAK7C,EAAWqwJ,IAAO,SAAU94I,GACnD,OAAOA,EAAKs0E,KACd,IACA57D,GAASkG,EAAM+0F,GAAgB,CAAErgH,KAAMA,GACzC,EAWEy9C,QAASA,EACTymG,YAAY,EACZnmD,UAAW7nG,EAEf,EAeI8vJ,GAAkB,CACpB,MAAO,IACP,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,IACR,OAAQ,KAENC,GAAmB,CACrB,WAAY,MACZ,UAAW,MACX,MAAS,OACT,OAAU,OACV,MAAS,OACT,UAAW,OACX,WAAY,QAMVC,GAAO,SAAUC,EAAUhoC,GAC7B,MAAI,aAAan8G,KAAKmkJ,GALZ,SAAU7qI,EAAQ6iG,GAC5B,IAAIioC,EAASrzI,KAAKsqG,IAAI,GAAIc,GAC1B,OAAOprG,KAAKizB,MAAM1qB,EAAS8qI,GAAUA,CACvC,CAGWpgH,CAA+B,GAAzB//B,SAASkgJ,EAAU,IAAW,GAAIhoC,GAAa,GAAK,KAE1DjhH,GAAM+oJ,GAAkBE,GAAU/tJ,MAAM+tJ,EAEnD,EAIIE,GAAY,SAAU35E,GACxB,IAAIi5E,EAAmB,WACrB,IAAIG,EAAWvsJ,EAAS1B,OACpBkmD,EAAQN,EAAQl4B,KAChB4gI,EAAWz5E,EAAOm5E,kBAAkB,YACxC,GAAIM,EAQF,IAPA,IAAIG,EAAU,SAAUnoC,GACtB,IAAIooC,EAAKL,GAAKC,EAAUhoC,GACpBqoC,EAXG,SAAUL,GACvB,OAAOjpJ,GAAM8oJ,GAAiBG,GAAU/tJ,MAAM,GAChD,CASqBquJ,CAASF,GACtBT,EAAW/qJ,EAAOgjD,GAAO,SAAUrxC,GACjC,OAAOA,EAAKm8E,SAAWs9D,GAAYz5I,EAAKm8E,SAAW09D,GAAM75I,EAAKm8E,SAAW29D,CAC3E,GACF,EACSroC,EAAY,EAAG2nC,EAAS3tJ,UAAYgmH,GAAa,EAAGA,IAC3DmoC,EAAQnoC,GAGZ,MAAO,CACL2nC,SAAUA,EACV1rJ,KAAM+rJ,EAEV,EAYIjjB,EAAgB/tI,EAAWoE,EAAS1B,MAgBpC4lD,EAAUinG,GAA0Bh4E,EAAQ,mBAlFrB,oCAkFiEklD,GAAU80B,OACtG,MAAO,CACLlsE,QAAS,aACTx6E,KAAMzG,EAASJ,KAAK,QACpBgzE,KAAM5yE,EAAS1B,OACforI,cAhCkB,SAAUv2H,GAC5B,OAAO,SAAU21F,GACf,OAAOA,EAASvpG,QAAO,SAAU/F,GAC/B,OAAOA,EAAM81F,SAAWn8E,CAC1B,GACF,CACF,EA2BEw2H,cAAeA,EACf+gB,gBA3BoB,WAEpB,OADe0B,IAAmBG,QAEpC,EAyBEx5E,SAvBa,SAAU+2E,GACvB,OAAO,WACL32E,EAAO42E,YAAYC,UAAS,WAC1B72E,EAAO3tC,QACP2tC,EAAOwc,YAAY,YAAY,EAAOm6D,EAAQx6D,OAChD,GACF,CACF,EAiBE9c,WAhByB,SAAUzgD,GACnC,IAAItlB,EAAK2/I,IAAoBG,EAAW9/I,EAAG8/I,SAAU1rJ,EAAO4L,EAAG5L,KAC3D4F,EAAO8lJ,EAAS9tJ,KAAK7C,EAAWiF,IAAO,SAAU+N,GACnD,OAAOA,EAAM64E,KACf,IACA57D,GAASkG,EAAM+0F,GAAgB,CAAErgH,KAAMA,GACzC,EAWEy9C,QAASA,EACTymG,YAAY,EACZnmD,UAAW7nG,EAEf,EAcIywJ,GAAc,SAAUj6E,EAAQk6E,GAClC,IAAIt6H,EAASs6H,IACTxkB,EAAU/nI,EAAMiyB,GAAQ,SAAUxtB,GACpC,OAAOA,EAAM+pF,MACf,IACA,OAAOtvF,EAAS/B,KAAKk1E,EAAOm2D,UAAU/xC,QAAQsxC,IAAUvpI,MAAK,SAAUqpI,GACrE,OAAOnnI,EAAOuxB,GAAQ,SAAU/G,GAC9B,OAAOA,EAAKsjE,SAAWq5C,CACzB,GACF,IAAGxpI,SAAQ,WACT,OAAOoF,GAAO4uE,EAAOm2D,UAAU16H,MAAM,KAAM,CACzC64E,MAAO,YACP6H,OAAQ,KAEZ,GACF,EAGIg+D,GAAY,SAAUn6E,GACxB,IAAIo6E,EAAiB,YAwBjBrpG,EAAUinG,GAA0Bh4E,EAAQ,gBA1B9B,6GA0B8DklD,GAAUkzB,WAC1F,MAAO,CACLtqE,QAAS,SACTx6E,KAAMzG,EAASJ,KAAK2tJ,GACpB36E,KAAM5yE,EAAS1B,OACforI,cA5BkB,SAAUp6C,GAC5B,OAAO,WACL,OAAOnc,EAAOm2D,UAAU16H,MAAM0gF,EAChC,CACF,EAyBEo7D,gBAAiB1qJ,EAAS1B,KAC1BqrI,cAzBkB,SAAUr6C,GAC5B,OAAO,WACL,IAAIq5C,EAAMx1D,EAAOm2D,UAAU51H,IAAI47E,GAC/B,OAAOtvF,EAASJ,KAAK,CACnB2G,IAAKoiI,EAAIxtI,OAAS,IAAIwtI,EAAI,GAAGhlD,QAAUglD,EAAI,GAAGvO,QAAiB,MAC/DrnG,OAAQogD,EAAO7tE,IAAImlI,WAAWt3D,EAAOm2D,UAAUoB,WAAWp7C,KAE9D,CACF,EAkBEvc,SAAU82E,GAAuB12E,GACjCX,WAlByB,SAAUzgD,GACnC,IAGItrB,EAHiB2mJ,GAAYj6E,GAAQ,WACvC,OAAOjvB,EAAQl4B,IACjB,IAC0BvtB,KAAK7C,EAAW2xJ,IAAiB,SAAU5kB,GACnE,OAAOA,EAAIlhD,KACb,IACA57D,GAASkG,EAAM+0F,GAAgB,CAAErgH,KAAMA,GACzC,EAWEy9C,QAASA,EACTymG,YAAY,EACZnmD,UAAW,SAAUrxF,GACnB,OAAQggE,EAAOm2D,UAAUsiB,SAASz4I,EAAKm8E,OACzC,EAEJ,EAcIk+D,GAAU,SAAUr6E,EAAQjvB,GAC9B,IAAIqpG,EAAiB,YA8BrB,MAAO,CACLtsE,QAAS,UACTx6E,KAAMzG,EAASJ,KAAK2tJ,GACpB36E,KAAM5yE,EAAS1B,OACforI,cAjCkB,SAAUp6C,GAC5B,OAAO,WACL,OAAOnc,EAAOm2D,UAAU16H,MAAM0gF,EAChC,CACF,EA8BEo7D,gBAAiB1qJ,EAAS1B,KAC1BqrI,cA9BkB,SAAUr6C,GAC5B,OAAO,WACL,IAAIq5C,EAAMx1D,EAAOm2D,UAAU51H,IAAI47E,GAC/B,YAAer2F,IAAR0vI,EAAoB3oI,EAASJ,KAAK,CACvC2G,IAAKoiI,EAAIxtI,OAAS,IAAIwtI,EAAI,GAAGhlD,QAAUglD,EAAI,GAAGvO,QAAiB,MAC/DrnG,OAAQogD,EAAO7tE,IAAImlI,WAAWt3D,EAAOm2D,UAAUoB,WAAWp7C,MACvDtvF,EAAS1B,MAChB,CACF,EAuBEy0E,SAAU82E,GAAuB12E,GACjCX,WAvByB,SAAUzgD,GACnC,IAAI07H,EAAiB,SAAU9kB,GAC7B,IAAI9uG,EAAO8uG,EAAInkF,MACf,YAAgBvrD,IAAT4gC,GAAsBA,EAAK1+B,OAAS,EAAI0G,EAAOg4B,EAAM4zH,GAAkB,CAAC,CAC3EhmE,MAAOkhD,EAAIlhD,MACX6H,OAAQq5C,EAAIr5C,QAElB,EACIo+D,EAAiB7rJ,EAAOqnI,GAAgB/1D,GAASs6E,GAEjDhnJ,EADiB2mJ,GAAYj6E,EAAQv3E,EAAW8xJ,IAC1BjvJ,KAAK7C,EAAW2xJ,IAAiB,SAAU5kB,GACnE,OAAOA,EAAIlhD,KACb,IACA57D,GAASkG,EAAM+0F,GAAgB,CAAErgH,KAAMA,GACzC,EAUEkkJ,WAAYx3E,EAAO8O,SAAS,0BAA0B,EAAO,WAC7DuiB,UAAW,SAAUrxF,GACnB,OAAQggE,EAAOm2D,UAAUsiB,SAASz4I,EAAKm8E,OACzC,EACAprC,QAASA,EAEb,EA8CIypG,GAAgCzwJ,OAAO+c,OAAO,CAC9CC,UAAW,KACXiV,OAhCW,SAAUy+H,EAAkBC,GACzC,IAAItpG,EAAS,SAAUv8B,EAAWgE,GAChC4hI,EAAiBr1C,YAAYl5G,MAAK,SAAUk5G,GAC1C,IAAIt6D,EAAWs6D,EAAYvwF,EAAWgE,GACtC6hI,EAAgB75I,IAAIiqC,EACtB,IACA2vG,EAAiBE,iBAAiBzuJ,MAAK,SAAUyuJ,GAC/C,IAAIC,EAAgBD,EAAiB9hI,EAAM6hI,EAAgBn6I,OACvDsrC,EAAcl+C,EAAMitJ,EAAe/lI,EAAUiE,YAAY4E,OAC7DkuB,GAAgB/2B,EAAWg3B,EAC7B,GACF,EACA,OAAO5yB,GAAS,CACdG,GAAMjC,MAAW,SAAUtC,EAAWpM,GACpC,IAAI4mB,EAAgB5mB,EACpB,IAAK4mB,EAAcE,UAAW,CAC5B,IAAIsrH,EAAUJ,EAAiBI,QAC3B1tJ,EAAWkiC,EAAcD,SAAUyrH,IACrCzpG,EAAOv8B,EAAWwa,EAAcxW,KAEpC,CACF,IACA0B,IAAc,SAAUqE,EAAMgyB,GAC5B6pG,EAAiBx8D,YAAY/xF,MAAK,SAAU4uJ,GAC1C1pG,EAAOxyB,EAAMk8H,EACf,GACF,KAEJ,IAWIC,GAA8BhxJ,OAAO+c,OAAO,CAC5CC,UAAW,KACX6nC,SANW,SAAU/5B,EAAWo4C,EAAe+tF,GACjD,OAAOA,CACT,IAOIC,GAAmB,CACrBtqI,GAAW,WACXW,GAAO,oBACPA,GAAO,eACPA,GAAO,gBAmBL4pI,GAA+BnxJ,OAAO+c,OAAO,CAC7CC,UAAW,KACXmY,KAlBS,WACX,IAAI+pC,EAAO32C,GAAKzlB,EAAS1B,QAOzB,MAAO,CACLi0B,UAJc,WACd,OAAO6pC,EAAK1oD,MAAM7U,MAAM,OAC1B,EAGE6U,IAAK0oD,EAAK1oD,IACVM,IAAKooD,EAAKpoD,IACVy3B,MAVU,WACV,OAAO2wB,EAAKpoD,IAAIhU,EAAS1B,OAC3B,EAUF,IAOIgwJ,GAAa3pH,GAAS,CACxB1kB,OAAQmuI,GACRr0J,KAAM,aACN6pC,OAAQ+pH,GACRn0H,KAAM00H,GACNp3H,MAAOu3H,KAGLE,GAAW3yJ,EAAW,CACxBkoB,GAAW,eACXA,GAAW,SACXwa,GAAgB,aAChBtZ,GAAU,aAAchlB,EAASJ,MACjColB,GAAU,qBAAsBppB,EAAW,CAAC,IAC5C42C,KACAlU,GAAgB,iBAChB7Z,GAAO,YACPX,GAAW,OACXsa,GAAU,UACV/e,GAAM,0BAA2B,CAC/BkmF,GACAxlC,GACAqC,KAEFp9C,GAAU,cAAc,GACxBA,GAAU,eAAe,GACzBA,GAAU,aAAc,CAAC,GACzBP,GAAO,SACPpoB,OAAOkrG,OACLinD,GAAY3wH,GAAS,CACvB0sB,QAASulB,GACTtuD,OAAQ,CAACsC,GAAW,QACpB/pB,KAAM,QACN4vD,SAAU,WACR,MAAO,CAAEqmB,iBAAkBxrC,GAAS,CAAC49B,GAASl+B,WAChD,EACA2P,UAAW,SAAUjnB,GACnB,MAAO,CACLtnB,IAAK,CACHiB,IAAK,OACLusB,WAAY,CAAE2zC,KAAM,iBAEtBh6C,OAAQ,SAAUgiI,GAChBA,EAAMxiI,YAAYc,SAASH,EAAOE,KAAKztB,KAAKysB,GAC9C,EACAkkD,iBAAkBxrC,GAAS,CAACo/B,GAAS/sC,OAAO,CACxCusC,iBAAiB,EACjBT,YAAa/1C,EAAO+1C,gBAG5B,IAEE+rF,GAAa7wH,GAAS,CACxB0sB,QAASulB,GACTtuD,OAAQ,CAACsC,GAAW,QACpB/pB,KAAM,SACN4vD,SAAU,WACR,MAAO,CAAEqmB,iBAAkBxrC,GAAS,CAAC49B,GAASl+B,WAChD,EACA2P,UAAW,SAAUjnB,GACnB,MAAO,CACLtnB,IAAK,CACHiB,IAAK,OACLusB,WAAY,CAAE2zC,KAAM,iBAEtBh6C,OAAQ,SAAUkiI,GAChBA,EAAI1iI,YAAYc,SAASH,EAAOE,KAAKztB,MAAK,SAAUuvJ,GAClDhiI,EAAOy/C,UAAUuiF,EAAeD,EAClC,GACF,EAEJ,IAEEE,GAAUjzJ,EAAW,CACvB4yJ,GACAE,GACAzmG,GAAS,CACPsC,QAAS,CACPpC,OAAQ,SAAU31B,GAChB,MAAO,CACL1F,IAAK0F,EAAK1F,IACVxnB,IAAK,CACHiB,IAAK,OACLwsB,OAAQ,CAAEqjE,QAAS,QACnBtjE,WAAY,CAAE,cAAe,QAC7BqG,UAAW3G,EAAK/rB,MAGtB,GAEF+a,OAAQ,CAACsC,GAAW,SACpB/pB,KAAM,oBAERsvD,GAAW,CACT7nC,OAAQ,CAACmc,MACT5jC,KAAM,OACN4vD,SAAU,SAAU/8B,GAClB,MAAO,CACLy/C,UAAW,SAAUxC,EAAO12D,GAC1B02D,EAAM59C,YAAYc,SAASH,EAAOE,KAAKztB,MAAK,SAAUuvJ,GACpDhiI,EAAOsyG,cAAc0vB,EAAe/kF,EAAO12D,EAC7C,GACF,EAEJ,IAEFqyF,OAyFEspD,GAAgB7hG,GAAU,CAC5BlzD,KAAM,gBACNgzD,aAAcwhG,KACdrhG,WAAY2hG,KACZtkG,QA1Fc,SAAU39B,EAAQ6K,EAAYjF,EAAM83B,GAClD,IAAI79C,EACAk7F,EAAe,SAAU1nD,GAC3ByN,GAAUL,WAAWpN,GAAS5gD,MAAK,SAAU8K,GAC3ConD,GAAaV,eAAe1mD,GAC5B41D,GAAO1L,QAAQlqD,EACjB,GACF,EACIsiB,EAAS,SAAUzE,GAErB0+E,GAAY95E,EAAQ/wB,EAAYmsB,EAAWsiC,EAD1Bq9C,EACiDzF,GAAgBoE,gBAAgB5yF,IAAItY,EACxG,EAKI2zJ,EAAkB,SAAUh9H,GAC9B,IAAIo9F,EAASpkE,GAAah5B,EAAMnF,EAAQ,UAExC,OADAd,GAAYqjG,GACLnvH,EAASJ,MAAK,EACvB,EACIovJ,EAAe/xJ,EAASA,EAAS,CAAC,EAAGmvB,GAAS,CAACsB,IAAc,SAAU1F,EAAWmb,GAC7D0nB,GAAQ7iC,EAAW4E,EAAQ,mBACjCvtB,MAAK,SAAUw9F,GAC5B,IAAIC,EAAeztE,GAAW,QAC9B5d,GAAMorF,EAAW11F,QAAS,KAAM21F,GAChCrrF,GAAMuW,EAAU7gB,QAAS,mBAAoB21F,EAC/C,GACF,OAAO/4B,GAAS/jE,EAASJ,KAAK6sB,KAC5B+M,EAAO,CACTuwC,gBAAiB,SAAUh4C,GACrB6xC,GAASZ,KAAKjxC,IAChBg4C,GAAgBh4C,EAEpB,GAEF,MAAO,CACLjF,IAAKF,EAAOE,IACZxnB,IAAKsnB,EAAOtnB,IACZmyB,WAAYA,EACZ+B,KAAMA,EACN1F,WAAY72B,EAASA,EAAS,CAAC,EAAG2vB,EAAOkH,aAAcrnB,EAAK,CAAC,EAAGA,EAAG8d,MAAe,CAChF,YACA,WACA,wBACC9d,IACH0iB,OAAQ6/H,EACR37H,WAAY8yB,GAAQv5B,EAAOqiI,wBAAyB,CAClD1pD,GAAS1uE,OAAO,CACdo0C,OAAQ,CACNhrB,QAAS,SAAUrM,GACjB,IAAI66G,EAAQ1jG,GAAanX,EAAShnB,EAAQ,SAW1C,OAAOu6E,GAAcv6E,EAAQgnB,EAVhB,CACX4M,OAAQ,WACNojB,GAAS34B,GAAGwjH,GACZ7qF,GAAS34B,GAAG2I,EACd,EACA8M,QAAS,WACPkjB,GAASz4B,IAAIsjH,GACb7qF,GAASz4B,IAAIyI,EACf,GAGJ,KAGJmsB,GAAOlpC,OAAO,CACZsX,KAAM,UACN8wB,QAAS8vF,EACTj5F,QAASi5F,EACTzvF,OA1DS,SAAUvtC,GAEvB,OADAtF,EAAOsF,GACA/xB,EAASJ,MAAK,EACvB,IAyDIwiE,GAASvrC,OAAO,CAAC,GACjB+sC,GAAS/sC,OAAO,CACdusC,iBAAiB,EACjBX,KAAM,CAAEt0B,KAAM,gBAGlBxW,gBAAiB,CACf7E,WAAY,CACV,KAAQlG,EAAO65C,KAAK5nE,MAAM,UAC1B,iBAAiB,IAIzB,EAME26B,KAAM,CACJuwC,gBAAiB,SAAUvwC,EAAMzH,GAC/B,OAAOyH,EAAKuwC,gBAAgBh4C,EAC9B,KAIAm9H,GAAe,SAAUlnI,GAC3B,MAAO,CACL4mC,WAAY,WACV,OAAOQ,GAAUR,WAAW5mC,EAC9B,EACAsqE,YAAa,SAAUx7D,GACrB,OAAOs4B,GAAUp7C,IAAIgU,EAAW8O,EAClC,EAEJ,EACIq4H,GAAe,SAAUnnI,GAC3B,MAAO,CACLqqE,UAAW,SAAUv7D,GACnB8sC,GAAS5vD,IAAIgU,EAAW8O,EAC1B,EACAkhD,SAAU,WACR,OAAOpU,GAASZ,KAAKh7C,EACvB,EACA4mC,WAAY,WACV,OAAOQ,GAAUR,WAAW5mC,EAC9B,EACAsqE,YAAa,SAAUx7D,GACrB,OAAOs4B,GAAUp7C,IAAIgU,EAAW8O,EAClC,EAEJ,EACIs4H,GAAuB,SAAUnuE,EAAS4G,GAC5C,OAAO5G,EAAQ7hF,KAAI,SAAU6hF,GAC3B,MAAO,CACL,aAAc4G,EAAmBhzE,UAAUosE,GAC3C,MAAS4G,EAAmBhzE,UAAUosE,GAE1C,IAAGpiF,MAAM,CAAC,EACZ,EACIwwJ,GAAmBhgI,GAAW,gBAC9BigI,GAAwB,SAAU18E,EAAMnsE,EAAMw6E,EAASsb,EAAUlpE,EAAYw0D,GAC/E,IAAI0nE,EACJ,MAAO,CACLjqJ,IAAK,CACHiB,IAAK,SACLssB,QAAS,CAAC,YAAYx2B,OAAOoK,EAAK9H,SAAW,CAAC,oBAAsB,IACpEm0B,WAAYs8H,GAAqBnuE,EAAS4G,IAE5CpwD,WAAYouD,GAAwB,CAClCjT,EAAKxzE,KAAI,SAAUkyE,GACjB,OAAOm1C,GAAmBn1C,EAAUuW,EAAmBxuF,MACzD,IACAoN,EAAKrH,KAAI,SAAUqH,GACjB,OAAOkgH,GAAclgH,EAAM,WAAYohF,EACzC,MAEF/zD,YAAay7H,EAAK,CAAC,EAAGA,EAAGtmI,MAAe,CACtC,WACA,uBACA,gCACCsmI,GACHv/E,iBAAkBxrC,GAAS,CACzBwgD,GAA+B6C,EAAmBj5B,YAClDm2B,KACAluD,GAAO,+BAAgC,CAACtK,GAAMtD,MAAa,SAAUkmG,EAAQ77B,GACzEA,EAAGp9E,MAAMM,UACTmV,GAAKwjG,EAAQkgC,GACf,OACFhzJ,OAAOkgG,EAASn9F,KAAI,SAAUsB,GAC9B,OAAO4tJ,GAAWz3H,OAAO,CACvBm3H,QAASttJ,EACT0wF,YAAa,CACXxe,KAAMA,EACNnsE,KAAMA,GAERqnJ,iBAAkB,SAAU9hI,EAAMkvC,GAChC,OAAO2qB,GAAwB,CAC7B75D,EAAK4mD,KAAKxzE,KAAI,SAAUkyE,GACtB,OAAOm1C,GAAmBn1C,EAAUuW,EAAmBxuF,MACzD,IACA2yB,EAAKvlB,KAAKrH,KAAI,SAAUqH,GACtB,OAAOkgH,GAAclgH,EAAM,WAAYohF,EACzC,KAEJ,GAEJ,IAAGnoF,WAAWrD,OAAOg3B,EAAWx0B,MAAM,MAE1C,EAuBI2wJ,GAA4B,SAAUh9H,EAAMi9H,EAAgB5nE,GAC9D,IApsQqC39E,EAosQjCk7E,EAAgB3/D,GAAKrqB,GACrB8iF,EAAYoxE,GAAsB98H,EAAKogD,KAAMpgD,EAAK/rB,KAAM+rB,EAAKyuD,QAASjhF,EAAS1B,OAAQ0B,EAAS1B,OAAQupF,GAC5G,OAAO/X,GAAO3nB,OAAO,CACnB7iD,IAAK44E,EAAU54E,IACfmyB,WAAYymD,EAAUzmD,WACtB3D,WAAY+yF,GACZ72C,iBAAkBxrC,GAAS,CACzB3N,GAAO,wBAAyB,EA3sQC3sB,EA4sQR,CACrB6oE,SAAUvgD,EAAKugD,SACfmS,OAAQuqE,EAAevqE,QA7sQxBr3D,IAAe,SAAUkE,EAAMoR,GACpC8hD,GAAW/6E,EAAM6nB,EAAjBkzD,EAAuB,SAAUyqE,GAC/B7jI,GAASkG,EAAM60F,GAA8B,CAAE+oC,UAAWD,IAC1DxlJ,EAAK6oE,SAAS28E,EAChB,GACF,KA0sQMvqE,GAAkBsqE,EAAgBrqE,GAClCG,GAAkBkqE,EAAgBrqE,KAEpCJ,IAA+B,WAC7B,OAAOxyD,EAAKu7B,UAAY85B,EAAmBj5B,YAC7C,IACAm2B,MACA1oF,OAAOozJ,EAAeG,2BAE5B,EAIIC,GAA0B,SAAUr9H,EAAMq1D,EAAoBioE,GAChE,OAAON,GAA0Bh9H,EAAM,CACrCo9H,wBAAyB,GAAGvzJ,OAAOyzJ,EAAY30J,OAAS,EAAI,CAAC07B,GAAO,oBAAqBi5H,IAAgB,IACzG5qE,OAAQgqE,GACR5pE,QAAS9yD,EAAK8yD,SACbuC,EACL,EAIIkoE,GAAgC,SAAUv9H,EAAMq1D,EAAoBioE,GACtE,OAAOtyI,GAAUgyI,GAA0Bh9H,EAAM,CAC/Co9H,wBAAyB,CACvBvuF,GAAUxqC,OAAO,CAAC,GAClB+sC,GAAS/sC,OAAO,CACd8rC,YAAa,oBACbF,KAAM,CAAEt0B,KAAM,WACdi1B,iBAAiB,KAEnB/mE,OAAOyzJ,EAAY30J,OAAS,EAAI,CAAC07B,GAAO,0BAA2Bi5H,IAAgB,IACrF5qE,OAAQiqE,GACR7pE,QAAS9yD,EAAK8yD,SACbuC,GACL,EACImoE,GAAe,SAAU9qE,EAAQ1yD,EAAMq1D,GACzC,OAAO,SAAU91D,GACf,OAAOqxE,IAAU,SAAUtT,GACzB,OAAOt9D,EAAKmnD,MAAMmW,EACpB,IAAG1wF,KAAI,SAAUolD,GACf,OAAOxkD,EAAS/B,KAAK23F,GAAqBp4E,GAAUs0E,GAAwBziE,GAAW,cAAem1B,GAAO,SAAUhrD,GACrHg5B,EAAKq+D,aAAa3L,EAAOnzD,GAAOv4B,EAClC,GAAGg5B,EAAKunD,QAASvnD,EAAKqqD,QAASf,GAAe6J,iBAAkBnzD,EAAK89D,OAAOzxF,MAAMlC,GAAQkrF,GAAqB,CAC7GhwB,SAAU26B,GAAmBhgE,EAAKunD,QAASvnD,EAAKqqD,SAChDtW,eAAgB8Z,GAAgD,SAAjB7tD,EAAKunD,QAAqB,GAAK,CAACrsD,IAAc,SAAUqE,EAAMgyB,GACzG47B,GAAW5tD,EAAM,EAAG6qD,GAAepqD,EAAKqqD,UAAUx9E,MAAK,SAAUkwJ,GAC/D,IAAIl4F,EAAUk4F,EAAGl4F,QAASC,EAAai4F,EAAGj4F,WAC1CyI,GAAOxI,YAAYxlC,EAAMslC,EAASC,EACpC,GACF,SAEN,GACF,CACF,EAgGI24F,GAAiB,CACnB,CACEl2J,KAAM,UACNyqD,MAAO,CACL,OACA,SAGJ,CACEzqD,KAAM,SACNyqD,MAAO,CAAC,gBAEV,CACEzqD,KAAM,aACNyqD,MAAO,CACL,OACA,WAGJ,CACEzqD,KAAM,YACNyqD,MAAO,CACL,YACA,cACA,aACA,iBAGJ,CACEzqD,KAAM,cACNyqD,MAAO,CACL,UACA,WAGJ,CACEzqD,KAAM,gBACNyqD,MAAO,CAAC,iBAEV,CACEzqD,KAAM,WACNyqD,MAAO,CAAC,gBAGR0rG,GAAmB,SAAUC,EAAev7D,GAC9C,OAAO,SAAUpiE,EAAM4gD,EAAQD,GAC7B,IAAIq6C,EAAW2iC,EAAc39H,GAAM/W,UAAS,SAAU6H,GACpD,OAAOC,GAAYD,EACrB,IAAGvkB,WACH,OAAO61F,EAAO44B,EAAUp6C,EAAQD,EAClC,CACF,EACIk7D,GAAQ,CACVlf,OAAQ+gC,GAAiB51E,IAAqB,SAAUl9E,EAAGg2E,GACzD,OAnMgC5gD,EAmMLp1B,EAnMWyqF,EAmMRzU,EAAOG,UAAUC,OAAOQ,UAlMjD67E,GAAwBr9H,EAAMq1D,EAAoB,IADjC,IAAUr1D,EAAMq1D,CAoMxC,IACAuoE,aAAcF,GAAiBz1E,IAAoB,SAAUr9E,EAAGg2E,GAC9D,OA5LsC5gD,EA4LLp1B,EA5LWyqF,EA4LRzU,EAAOG,UAAUC,OAAOQ,UA3LvD+7E,GAA8Bv9H,EAAMq1D,EAAoB,IADjC,IAAUr1D,EAAMq1D,CA6L9C,IACAwoE,WAAYH,GAAiB7X,IAAkB,SAAUj7I,EAAGg2E,GAC1D,OAAOo1C,GAAiBprH,EAAG,WAAYg2E,EAAOG,UAAWvzE,EAAS1B,OACpE,IACAgyJ,YAAaJ,IA/vGS,SAAU19H,GAChC,OAAOvP,GAAM,cAAeq1H,GAAmB9lH,EACjD,IA6vGmD,SAAUp1B,EAAGg2E,GAC5D,OA9JoB,SAAU5gD,EAAM8gD,GACtC,IAAIi8E,EACAgB,EAAiBlhI,GAAW,yCAC5B61D,EAAS,SAAUnzD,GACrB,MAAO,CACL68B,WAAY,WACV,OAAOQ,GAAUR,WAAW78B,EAC9B,EACAugE,YAAa,SAAUx7D,GACrB,OAAOs4B,GAAUp7C,IAAI+d,EAAM+E,EAC7B,EACAo5D,YAAa,SAAU/3F,EAAIqB,GACzB2hC,GAAWpJ,EAAK5qB,QAAS,gBAAkBhP,EAAK,gBAAkBA,EAAK,MAAMkH,MAAK,SAAUmxJ,GAC1F/+I,GAAM++I,EAAe,OAAQh3J,EAC/B,GACF,EACAi3J,cAAe,SAAUt4J,EAAIqB,GAC3B2hC,GAAWpJ,EAAK5qB,QAAS,gBAAkBhP,EAAK,gBAAkBA,EAAK,MAAMkH,MAAK,SAAUmxJ,GAC1F/+I,GAAM++I,EAAe,SAAUh3J,EACjC,GACF,EACA64F,UAAW,SAAUv7D,GACnBrlB,GAAMsgB,EAAK5qB,QAAS,eAAgB2vB,GACpCqE,GAAWpJ,EAAK5qB,QAAS,QAAQ9H,MAAK,SAAU8vH,GAC9Cp9F,EAAK9F,YAAYoB,SAAS8hG,GAAQ9vH,MAAK,SAAUqxJ,GAC/C,OAAO9sF,GAAS5vD,IAAI08I,EAAY55H,EAClC,GACF,GACF,EACAkhD,SAAU,WACR,OAAO78C,GAAWpJ,EAAK5qB,QAAS,QAAQ5H,QAAO,SAAU4vH,GACvD,OAAOp9F,EAAK9F,YAAYoB,SAAS8hG,GAAQ5vH,OAAOqkE,GAASZ,KAC3D,GACF,EAEJ,EACIoiB,EAAgB3/D,GAAKrqB,GACrBq0J,EAAiB,CACnBvqE,OAAQA,EACRI,QAAS9yD,EAAK8yD,SAEhB,OAAOwpE,GAAc3mG,OAAO,CAC1B7iD,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,oBACVC,WAAY71B,EAAS,CAAE,gBAAgB,GAASmyJ,GAAqB58H,EAAKyuD,QAAS3N,EAAgBU,aAErG3H,UAAW,SAAU8iD,GACnB38F,EAAKugD,SAASmS,EAAOiqC,GACvB,EACA+P,cAAe,SAAUzyH,EAAI69B,EAAI0oF,GACjC,EACAi8B,wBAAyBzqH,GAAS,CAChCwgD,GAA6B1R,EAAgBU,UAAUplB,YACvDm2B,KACAluD,GAAO,wBAAyB,CAC9BtK,GAAM8iI,GAAkBjtF,GAAS58B,OACjC2/C,GAAkBsqE,EAAgBrqE,GAClCG,GAAkBkqE,EAAgBrqE,KAEpC6iB,GAAYpxE,OAAO,CAAC,KAEtB/C,YAAay7H,EAAK,CAAC,EAAGA,EAAGtkI,MAAmB,CAC1C,uBACA,yBACCskI,GACH5sF,YAAa,oBACbkL,SAAUyF,EAAgBW,QAC1B0F,MAAOq2E,GAAa9qE,EAAQ1yD,EAAM8gD,EAAgBU,WAClDzrD,MAAO,CAAEs3C,KAAM7W,GAAK,EAAOx2B,EAAKunD,QAASvnD,EAAKqqD,UAC9CplD,WAAY,CACVq3H,GAAcvmI,MAAM4mG,OAAOmgC,GAAsB98H,EAAKogD,KAAMpgD,EAAK/rB,KAAMzG,EAAS1B,OAAQ0B,EAASJ,KAAK2wJ,GAAiBvwJ,EAASJ,KAAK,CAACgkE,GAAS/sC,OAAO,CAClJ8rC,YAAa,oBACbS,iBAAiB,MACbkQ,EAAgBU,YACxB86E,GAAcvmI,MAAMkmI,MAAM,CACxBnpJ,IAAK,CACHiB,IAAK,SACLssB,QAAS,CACP,WACA,6BAEFsG,UAAW83C,GAAM,eAAgBqC,EAAgBU,UAAU36E,QAE7D22E,iBAAkBxrC,GAAS,CACzBwgD,GAA6B1R,EAAgBU,UAAUplB,YACvDm2B,KACA5T,SAGJ29E,GAAcvmI,MAAM,mBAAmB,CAAE9hB,KAAM6sE,EAAgBU,UAAUn/D,UAAU,4CAGzF,CAiEW87I,CAAkBvzJ,EAAGg2E,EAAOG,UAAUC,OAC/C,IACAo9E,mBAAoBV,IAxyGS,SAAU19H,GACvC,OAAOvP,GAAM,qBAAsBi1H,GAA0B1lH,EAC/D,IAsyGiE,SAAUp1B,EAAGg2E,EAAQD,GAClF,IAAI1mE,EACA8kF,EAAUpe,EAAOmI,GAAGC,SAASC,SAAS+V,QAQtCz+D,IAAcrmB,EAAK,CAAC,GAAM4lC,IAAa+gC,EAAOG,UAAUC,OAAOU,OAAOC,oBAAsBtsC,GAAegpH,YAAchpH,GAAe0K,YAAa9lC,GACzJ,GAAQ42E,GAAelQ,KAClB0I,GAAYwpE,SACf,OAxQ4B,SAAU7yH,EAAM+gD,EAAWu9E,EAAiBh+H,GAC5E,IAAIwgD,EAAkBC,EAAUC,OAChC,OAAOquE,GAAsB15F,OAAO,CAClC0lB,SAAUyF,EAAgBW,QAC1B0F,MAAO,WACL,OAAOypB,IAAU,SAAUpmG,GACzBA,EAAQ8D,EAAMgwJ,EAAgBt+H,EAAKgyB,OAAQm/F,IAC7C,GACF,EACA59E,QAAS,CAAE27E,aAAc,qBACzBn5H,MAAO,CACL4mG,OAAQmgC,GAAsB98H,EAAKogD,KAAMpgD,EAAK/rB,KAAM+rB,EAAKyuD,QAASjhF,EAAS1B,OAAQ0B,EAAS1B,OAAQg1E,EAAgBU,WACpH4O,QAAS,CACPt9E,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,yBACVC,WAAYA,MAKtB,CAmPai+H,CAA4B3zJ,EAAGg2E,EAAOG,WAVhC,SAAUqP,GACvB,OAAOkuE,GAAgB39E,EAAQ,CAC7Boe,QAASA,EACT3O,QAASA,EACTouE,oBAAoB,GACnB59E,EAAQpzE,EAAS1B,OACtB,GAIoEw0B,GAElE,MAAM,IAAIp2B,MAAM,qEAEpB,IACAu0J,kBAAmB,SAAU99E,EAAQC,GACnC,OAxoBoB,SAAUD,EAAQI,GACxC,IAAIrvB,EAAUjnD,EAAS,CAAE1D,KAAM,YAAcg6E,EAAU27D,aACvD,OAAO2b,GAAmB13E,EAAQI,EAAWi6E,GAAQr6E,EAAQjvB,GAC/D,CAqoBWgtG,CAAkB/9E,EAAQC,EAAOG,UAC1C,EACA49E,qBAAsB,SAAUh+E,EAAQC,GACtC,OAhxBuB,SAAUD,EAAQI,GAC3C,OAAOs3E,GAAmB13E,EAAQI,EAAWu5E,GAAU35E,GACzD,CA8wBWi+E,CAAqBj+E,EAAQC,EAAOG,UAC7C,EACA89E,iBAAkB,SAAUl+E,EAAQC,GAClC,OAj4BmB,SAAUD,EAAQI,GACvC,OAAOs3E,GAAmB13E,EAAQI,EAAW24E,GAAU/4E,GACzD,CA+3BWm+E,CAAiBn+E,EAAQC,EAAOG,UACzC,EACAg+E,aAAc,SAAUp+E,EAAQC,GAC9B,OA7sBqB,SAAUD,EAAQI,GACzC,OAAOs3E,GAAmB13E,EAAQI,EAAW+5E,GAAUn6E,GACzD,CA2sBWq+E,CAAmBr+E,EAAQC,EAAOG,UAC3C,EACAk+E,gBAAiB,SAAUt+E,EAAQC,GACjC,OAn/BoB,SAAUD,EAAQI,GACxC,OAAOs3E,GAAmB13E,EAAQI,EAAWk4E,GAAUt4E,GACzD,CAi/BWu+E,CAAkBv+E,EAAQC,EAAOG,UAC1C,GAUEo+E,GAAiB,CACnBziB,YAAab,GAAM4iB,kBACnBW,eAAgBvjB,GAAM8iB,qBACtBU,WAAYxjB,GAAMgjB,iBAClBS,aAAczjB,GAAMkjB,aACpBloE,MAAOglD,GAAMojB,iBA2BXM,GAAgB,SAAUC,GAC5B,IAXIC,EAWArvE,EAAUovE,EAAcpvE,QACxB2O,EAAUygE,EAAczgE,QAC5B,OAAgB,IAAZ3O,EACK,QACc3pF,IAAZ2pF,IAAqC,IAAZA,EA9BX,SAAU2O,GACnC,IAAI2gE,EAAqBpxJ,EAAMmvJ,IAAgB,SAAUtnJ,GACvD,IAAI67C,EAAQrjD,EAASwH,EAAM67C,OAAO,SAAU2tG,GAC1C,OAAOtuJ,GAAM0tF,EAAS4gE,IAAYtuJ,GAAM8tJ,GAAgBQ,EAC1D,IACA,MAAO,CACLp4J,KAAM4O,EAAM5O,KACZyqD,MAAOA,EAEX,IACA,OAAOrjD,EAAS+wJ,GAAoB,SAAUvpJ,GAC5C,OAAOA,EAAM67C,MAAMrpD,OAAS,CAC9B,GACF,CAkBWi3J,CAAqB7gE,GACnBl3F,EAASuoF,IAjBhBqvE,EAkB0BrvE,EAlBCjxD,MAAM,KAC9B7wB,EAAMmxJ,GAAe,SAAUnoG,GACpC,MAAO,CAAEtF,MAAOsF,EAAExQ,OAAO3nB,MAAM,KACjC,KAE+B,SAAUixD,GACzC,OAAO7nF,EAAU6nF,GAAS,SAAUlpF,GAClC,OAAOmK,GAAMnK,EAAG,SAAWmK,GAAMnK,EAAG,QACtC,GACF,CAUa24J,CAA2BzvE,GAC7BA,GAEPx8E,QAAQC,MAAM,sEACP,GAEX,EACIisJ,GAAe,SAAUn/E,EAAQoe,EAASghE,EAAavB,EAAoB59E,EAAQo/E,GACrF,OAAO7uJ,GAAM4tF,EAASghE,EAAYlrJ,eAAelI,SAAQ,WACvD,OAAOqzJ,EAASlzJ,MAAK,SAAUkoD,GAC7B,OAAO/kD,GAAQ+kD,GAAI,SAAU1iD,GAC3B,OAAOnB,GAAM4tF,EAASzsF,EAASytJ,EAAYlrJ,cAC7C,GACF,GACF,IAAG5I,MAAK,WACN,OAAOkF,GAAMguJ,GAAgBY,EAAYlrJ,eAAejI,KAAI,SAAUsB,GACpE,OAAOA,EAAEyyE,EAAQC,EACnB,IAAGj0E,SAAQ,WACT,OAAOa,EAAS1B,MAClB,GACF,IAAG,SAAUk0B,GACX,MAAkB,uBAAdA,EAAKj5B,MAAkCy3J,EAtE7B,SAAUx+H,EAAM4gD,EAAQD,GACxC,OAAOxvE,GAAM0qI,GAAO77G,EAAKj5B,MAAMkF,MAAK,WAElC,OADA2H,QAAQC,MAAM,6BAA8BmsB,GACrCxyB,EAAS1B,MAClB,IAAG,SAAUs2F,GACX,OAAO50F,EAASJ,KAAKg1F,EAAOpiE,EAAM4gD,EAAQD,GAC5C,GACF,CAmEas/E,CAAYjgI,EAAM4gD,EAAQD,IAHjC/sE,QAAQ6oB,KAAK,iBAAoBsjI,EAAc,qHACxCvyJ,EAAS1B,OAIpB,GACF,EACIwyJ,GAAkB,SAAU39E,EAAQ6+E,EAAe5+E,EAAQo/E,GAC7D,IAAIE,EAAgBX,GAAcC,GAC9BlhB,EAAShwI,EAAM4xJ,GAAe,SAAU/pJ,GAC1C,IAAI67C,EAAQ3iD,EAAO8G,EAAM67C,OAAO,SAAU+tG,GACxC,OAAqC,IAA9BA,EAAYj5G,OAAOn+C,OAAe,GAAKm3J,GAAan/E,EAAQ6+E,EAAczgE,QAASghE,EAAaP,EAAchB,mBAAoB59E,EAAQo/E,GAAU9yJ,SAC7J,IACA,MAAO,CACL+nF,MAAOznF,EAAS/B,KAAKk1E,EAAOt+D,UAAUlM,EAAM5O,OAC5CyqD,MAAOA,EAEX,IACA,OAAOrjD,EAAS2vI,GAAQ,SAAUnoI,GAChC,OAAOA,EAAM67C,MAAMrpD,OAAS,CAC9B,GACF,EAEIgrJ,GAAa,SAAUhzE,EAAQqR,EAAcmuE,EAAap/E,GAC5D,IAAIxhD,EAAOyyD,EAAaE,eACpBstE,EAAgBW,EAAY/vE,QAC5BgwE,EAAuBD,EAAYphE,QACvC,GAAIx2F,EAAUi3J,EAAe33J,GAAW,CACtC,IAAI6oF,EAAW8uE,EAAc5yJ,KAAI,SAAU1F,GACzC,IAAIm9B,EAAS,CACX+rD,QAASlpF,EACT63F,QAASqhE,EACT5B,mBAAoB2B,EAAY3B,oBAElC,OAAOF,GAAgB39E,EAAQt8C,EAAQ,CAAE08C,UAAWA,GAAavzE,EAAS1B,OAC5E,IACAwnJ,GAAeM,YAAYr0H,EAAMmxD,EACnC,MACE4iE,GAAeK,WAAWp0H,EAAM++H,GAAgB39E,EAAQw/E,EAAa,CAAEp/E,UAAWA,GAAavzE,EAAS1B,QAE5G,EAEIu0J,GAAY9kJ,KACZ+kJ,GAAUD,GAAUhmJ,GAAGtB,SAAWsnJ,GAAUhmJ,GAAGzC,QAAQpC,OAAS,GA6GhE+qJ,GAAsB71J,OAAO+c,OAAO,CACpCC,UAAW,KACX06E,OApEW,SAAUzhB,EAAQqR,EAAcmuE,EAAap/E,EAAW/3E,GACrE,IAAIw3J,EAAmBvtI,GAAK,GACxBi/D,EAAiBF,EAAaE,eAClCi+C,GAAOxvD,GACP,IAAI8/E,EAActtJ,GAAaF,QAAQjK,EAAK03J,YACxCC,EAASviJ,GAAoBF,GAAYuiJ,KA3ooBvB,SAAU9rJ,EAASy4C,GACzCC,GAAiB14C,EAASy4C,EAAWpoC,GACvC,CA0ooBE47I,CAAkBH,EAAazuE,EAAaG,YAC5ChlC,GAAawzG,EAAQ3uE,EAAanR,cAClCF,EAAOloC,GAAG,cAAc,WACtBk7G,GAAWhzE,EAAQqR,EAAcmuE,EAAap/E,GAC9Cy/E,EAAiBh/I,IAAIm/D,EAAOx8B,SAAS08G,YACrCvN,GAAea,WAAWjiE,EAAgB4iE,GAAcn0E,EAAQw/E,IAChE7M,GAAeE,WAAWthE,EAAgBiuE,EAAYpV,SAtDtC,SAAUpqE,EAAQqR,GACpC,IAAIl/E,EAAM6tE,EAAO7tE,IACb42G,EAAgB/oC,EAAOx8B,SACvB28G,EAAgBngF,EAAO6C,SAASvmE,gBAChC8jJ,EAAuB9tI,GAAK3Q,GAAconG,EAAcm3C,WAAYn3C,EAAck7B,cAClFoc,EAAyB/tI,GAAK3Q,GAAcw+I,EAAc//I,YAAa+/I,EAAc9+I,eACrFi/I,EAAe,WACjB,IAAIC,EAAQH,EAAqB7/I,MAC7BggJ,EAAMxvJ,OAASg4G,EAAcm3C,YAAcK,EAAM9+I,MAAQsnG,EAAck7B,cACzEmc,EAAqBv/I,IAAIc,GAAconG,EAAcm3C,WAAYn3C,EAAck7B,cAC/E5qD,GAAkBrZ,GAEtB,EACIwgF,EAAiB,WACnB,IAAIC,EAASzgF,EAAO6C,SAASvmE,gBACzBokJ,EAAQL,EAAuB9/I,MAC/BmgJ,EAAM3vJ,OAAS0vJ,EAAOrgJ,aAAesgJ,EAAMj/I,MAAQg/I,EAAOp/I,eAC5Dg/I,EAAuBx/I,IAAIc,GAAc8+I,EAAOrgJ,YAAaqgJ,EAAOp/I,eACpEg4E,GAAkBrZ,GAEtB,EACIh6D,EAAS,SAAUxb,GACrB,OA30coB,SAAUw1E,EAAQx1E,GACxC,OAAOw1E,EAAOsZ,KAAK,gBAAiB9uF,EACtC,CAy0cWm2J,CAAkB3gF,EAAQx1E,EACnC,EACA2H,EAAIhG,KAAK48G,EAAe,SAAUu3C,GAClCnuJ,EAAIhG,KAAK48G,EAAe,SAAU/iG,GAClC,IAAI46I,EAAc/nH,GAAQrmC,GAAaF,QAAQ0tE,EAAO7hE,WAAY,OAAQqiJ,GACtEhvE,EAAaH,EAAanR,aAAalsE,QAC3CgsE,EAAOloC,GAAG,QAAQ,WAChBz4B,GAAMmyE,EAAY,UAAW,OAC/B,IACAxR,EAAOloC,GAAG,QAAQ,WAChB53B,GAASsxE,EAAY,UACvB,IACAxR,EAAOloC,GAAG,aAAc0oH,GACxBxgF,EAAOloC,GAAG,UAAU,WAClB8oH,EAAY38I,SACZ9R,EAAI8R,OAAO8kG,EAAe,SAAUu3C,GACpCnuJ,EAAI8R,OAAO8kG,EAAe,SAAU/iG,GACpC+iG,EAAgB,IAClB,GACF,CAcI83C,CAAc7gF,EAAQqR,EACxB,IACA,IAxxgBoBvoF,EAAIm5E,EACpBvoC,EAuxgBAonH,EAASnO,GAAeC,UAAUrhE,GAAgB3lF,SAAS,0CAC/D,GAAI+zJ,GAAS,CACXrgJ,GAAOwhJ,EAAO9sJ,QAAS,CACrB,SAAY,SACZ,6BAA8B,UAEhC,IAAI+sJ,GA9xgBcj4J,EA8xgBA,WAChBk3E,EAAOsZ,KAAK,gBACd,EAhygBsBrX,EAgygBnB,GA/xgBDvoC,EAAQ,KAmBL,CACLwoC,OAnBW,WACN76E,EAAOqyC,KACVO,aAAaP,GACbA,EAAQ,KAEZ,EAeEyoC,SAda,WAEb,IADA,IAAI95E,EAAO,GACFC,EAAK,EAAGA,EAAKC,UAAUP,OAAQM,IACtCD,EAAKC,GAAMC,UAAUD,GAEnBjB,EAAOqyC,KACTA,EAAQiB,YAAW,WACjBjB,EAAQ,KACR5wC,EAAGN,MAAM,KAAMH,EACjB,GAAG45E,GAEP,IA8wgBM++E,EAAW70J,GAAK20J,EAAO9sJ,QAAS,SAAU+sJ,EAAM5+E,UACpDnC,EAAOloC,GAAG,SAAUkpH,EAAS/8I,OAC/B,CACAwtE,GAAwBzR,EAAQqR,GAChCrR,EAAOihF,WAAW,iBAAiB,SAAUC,EAAK76J,GAChDssJ,GAAeG,cAAcvhE,EAAgBlrF,GAC7C25E,EAAOsZ,KAAK,gBACd,IACAtZ,EAAOmhF,qBAAqB,iBAAiB,WAC3C,OAAOxO,GAAexI,aAAa54D,EACrC,IACA,IAAI6vE,EAAclxE,GAAelQ,GAI7BohF,IAAgB14E,GAAYupE,SAAWmP,IAAgB14E,GAAYwpE,UACrElyE,EAAOloC,GAAG,2CAA2C,WACnD,IAAInyB,EAAQq6D,EAAOx8B,SAAS08G,WACxBv6I,IAAUk6I,EAAiBt/I,QALjCoyI,GAAeQ,eAAe9hE,EAAaE,gBAOvCsuE,EAAiBh/I,IAAI8E,GAEzB,IAEF,IAAIigC,EAAM,CACRiW,OAAQ,WACNu1B,GAAkBC,GAAc,EAClC,EACAv1B,QAAS,WACPs1B,GAAkBC,GAAc,EAClC,EACA51B,WAAY,WACV,OAAOQ,GAAUR,WAAW81B,EAC9B,GAEF,MAAO,CACL8vE,gBAAiBP,EAAO9sJ,QAAQ7B,IAChC0wI,gBAAiBtxD,EAAev9E,QAAQ7B,IACxCyzC,IAAKA,EAET,IAOI07G,GAAa,SAAU3gJ,GAEzB,MADS,mBACFrL,KAAK,GAAKqL,GACR9T,EAASJ,KAAK8M,SAAS,GAAKoH,EAAK,KAEnC9T,EAAS1B,MAClB,EACIo2J,GAAU,SAAU5gJ,GACtB,OAAOhZ,EAASgZ,GAAOA,EAAM,KAAOA,CACtC,EACI6gJ,GAAiB,SAAU9zJ,EAAM+zJ,EAASC,GAC5C,IAAIC,EAAcF,EAAQn1J,QAAO,SAAU6gC,GACzC,OAAOz/B,EAAOy/B,CAChB,IACIy0H,EAAcF,EAAQp1J,QAAO,SAAU0U,GACzC,OAAOtT,EAAOsT,CAChB,IACA,OAAO2gJ,EAAY51J,GAAG61J,GAAal2J,MAAMgC,EAC3C,EAUIm0J,GAAwB,SAAU7hF,GACpC,IAAI5+D,EATU,SAAU4+D,GACxB,IAAI8hF,EAAajzE,GAAiB7O,GAC9B+hF,EAAY3yE,GAAoBpP,GAChC1oC,EAAYg4C,GAAoBtP,GACpC,OAAOshF,GAAWQ,GAAY71J,KAAI,SAAUmV,GAC1C,OAAOogJ,GAAepgJ,EAAQ2gJ,EAAWzqH,EAC3C,GACF,CAEe0qH,CAAUhiF,GACvB,OAAO5+D,EAAO1V,MAAMmjF,GAAiB7O,GACvC,EACIiiF,GAAW,SAAUjiF,GACvB,IAAIkiF,EAAYlzE,GAAgBhP,GAC5BmiF,EAAWhzE,GAAmBnP,GAC9BroC,EAAW03C,GAAmBrP,GAClC,OAAOshF,GAAWY,GAAWj2J,KAAI,SAAU0Z,GACzC,OAAO67I,GAAe77I,EAAOw8I,EAAUxqH,EACzC,GACF,EAMIyqH,GAAe,SAAUpiF,EAAQosE,EAAW/6D,EAAcjR,EAAWiiF,GACvE,IAAIniF,EAAemR,EAAanR,aAAcqR,EAAiBF,EAAaE,eACxEtC,EAAMN,GAASM,IACf8lD,EAA2BpkD,GAAkB3Q,GAC7CsiF,EAAWxxE,GAAgB9Q,GAC3BuiF,EAAoBlzE,GAAmBrP,GAAQj0E,GAAGk2J,GAASjiF,IAC3DwiF,EAAkBpiF,EAAUC,OAAOU,OACnCC,EAAoBwhF,EAAgBxhF,kBACpCogF,EAAclxE,GAAelQ,GAC7ByiF,EAAiBrB,IAAgB14E,GAAYupE,SAAWmP,IAAgB14E,GAAYwpE,SACpFpQ,EAAUxvH,IAAK,GACfopB,EAAY,WACd,OAAOomG,EAAQvhI,QAAUy/D,EAAOylD,OAClC,EACIi9B,EAAoB,SAAUjzE,GAChC,OAAOgzE,EAAiBhzE,EAAQnkF,KAAK7C,EAAW,IAAI,SAAUk6J,GAC5D,OAAOA,EAAKr+H,aAAat8B,OAAS,EAAIsZ,GAAMqhJ,EAAKr+H,aAAa,GAAGtwB,SAAW,CAC9E,IAAK,CACP,EAuDI4uJ,EAAqB,WACvB1iF,EAAa1iD,YAAY,CAAC8xB,MAAqB,CAAC,EAClD,EACIuzG,EAAiB,SAAUC,GAI7B,QAHqB,IAAjBA,IACFA,GAAe,GAEZpnH,IAAL,CAzBsB,IAClB/D,EAoCJ,GATKo9F,IA3BDp9F,EAAW4qH,EAAkB52J,YAAW,WAC1C,IAAIo3J,EAAazB,GAAW7hJ,GAAM/B,KAAQ,gBAAgBhS,MAAM,GAChE,OAAOiX,GAAMjF,MAAUmE,GAAWuqI,GAAWr7I,KAAOgyJ,CACtD,IACA1jJ,GAAMgjJ,EAAe9hJ,MAAMvM,QAAS,YAAa2jC,EAAW,OA0BxD8qH,GACF9P,GAAeQ,eAAe5hE,GAE3BwjD,GA3BoB,WACzB,IAAItlD,EAAUkjE,GAAe/D,WAAWr9D,GACpCv0E,EAAS0lJ,EAAkBjzE,GAC3BuzE,EAAev7I,GAAM2kI,GACrB3qI,EAAMu/D,IAAsB36D,KAAKrF,IAAIgiJ,EAAatvJ,EAAI4N,GAAM+gJ,EAAe9hJ,MAAMvM,SAAWgJ,EAAQ,GAAKgmJ,EAAan9I,OAC1HvG,GAAOiyE,EAAev9E,QAAS,CAC7B6T,SAAU,WACVpG,IAAK4E,KAAKizB,MAAM73B,GAAO,KACvB1Q,KAAMsV,KAAKizB,MAAM0pH,EAAa18J,GAAK,MAEvC,CAkBI28J,GAEEX,EAAU,CACZ,IAAIY,EAAqBb,EAAe9hJ,MACxCuiJ,EAAelhB,GAAQv2F,MAAM63G,GAAsBthB,GAAQhsE,QAAQstF,EACrE,CACAN,GAdA,CAeF,EACIO,EAAa,SAAUC,GAIzB,QAHiB,IAAbA,IACFA,GAAW,IAETruB,GAA6ButB,GAAa5mH,IAA9C,CAGA,IAAI2nH,EAAcb,EAAgB7mB,iBAC9B2nB,EAvFS,SAAU7nI,GACvB,OAAQ20D,GAAmBpQ,IAC3B,KAAKiQ,GAAgBI,KACnB,IAAIkzE,EAAY5Q,GAAe/D,WAAWr9D,GACtCv0E,EAAS0lJ,EAAkBa,GAC3BC,EAAgBliJ,GAAMma,EAAUznB,SAAWgJ,EAC3CgmJ,EAAev7I,GAAM2kI,GAEzB,GADgB4W,EAAatvJ,EAAI8vJ,EAE/B,MAAO,MAEP,IAAItlJ,EAAM5B,GAAgB8vI,GACtBqX,EAAYp9I,KAAKrF,IAAI9C,EAAI/L,IAAIsuH,aAAcn/G,GAAMpD,IAErD,OADmB8kJ,EAAan9I,OAAS49I,EAAYD,GAInC1hJ,KACuB+D,OAASm9I,EAAan9I,OAAS29I,EAH/D,SAIoC,MAGjD,KAAKvzE,GAAgBpqE,OACnB,MAAO,SACT,KAAKoqE,GAAgBxuE,IACrB,QACE,MAAO,MAEX,CA2DgBiiJ,CAASrB,EAAe9hJ,OAClC+iJ,IAAYD,KA3DF,SAAUroH,GACxB,IAAIvf,EAAY4mI,EAAe9hJ,MAC/BqhI,GAAQP,SAAS5lH,EAAW,CAACuf,IAC7BwnH,EAAgB5mB,eAAe5gG,GAC/B,IAAI2oH,EAAc3iF,IAAsBtsC,GAAegpH,YAAchpH,GAAe0K,YACpF9gC,GAAMmd,EAAUznB,QAASkrC,GAAWykH,EACtC,CAsDIC,CAAUN,GACNF,GACFP,GAAe,GANnB,CASF,EAiBA,MAAO,CACLnnH,UAAWA,EACXslC,kBAAmBA,EACnBwN,KAnBS,WACTszD,EAAQjhI,KAAI,GACZxB,GAAMkyE,EAAev9E,QAAS,UAAW,QACzCi7E,EAAI40E,SAAS7jF,EAAO7hE,UAAW,kBAC/B+B,GAASggE,EAAalsE,QAAS,WAC/BmvJ,GAAW,GACXN,GACF,EAaEtnF,KAZS,WACTumE,EAAQjhI,KAAI,GACRwwE,EAAaE,iBACflyE,GAAMkyE,EAAev9E,QAAS,UAAW,QACzCi7E,EAAI60E,YAAY9jF,EAAO7hE,UAAW,mBAEpCkB,GAAM6gE,EAAalsE,QAAS,UAAW,OACzC,EAMEo9C,OAAQyxG,EACRM,WAAYA,EACZ7zG,iBAAkBszG,EAEtB,EAEImB,GAAwB,SAAU3X,EAAWtX,GAC/C,IAAIttH,EAASC,GAAM2kI,GACnB,MAAO,CACL73G,IAAKugG,EAAettH,EAAO9T,EAAI8T,EAAO3B,OACtC2B,OAAQA,EAEZ,EAqGIw8I,GAAsBj6J,OAAO+c,OAAO,CACpCC,UAAW,KACX06E,OA3DS,SAAUzhB,EAAQqR,EAAcmuE,EAAap/E,EAAW/3E,GACnE,IAAImpF,EAAaH,EAAaG,WAAYtR,EAAemR,EAAanR,aAAcqR,EAAiBF,EAAaE,eAC9G8wE,EAAiB/vI,GAAK,MACtB85H,EAAY55I,GAAaF,QAAQjK,EAAK03J,YACtC53E,EAAKi6E,GAAapiF,EAAQosE,EAAW/6D,EAAcjR,EAAWiiF,GAC9D4B,EAp6eiB,SAAUjkF,GAC/B,OAAOA,EAAO8O,SAAS,mBAAmB,EAAO,UACnD,CAk6euBo1E,CAAiBlkF,GACtCwQ,GAAOxQ,GACP,IAAIyhB,EAAS,WACX,GAAI4gE,EAAe9hJ,MACjB4nE,EAAGqG,WADL,CAIA6zE,EAAexhJ,IAAI8xI,GAAeI,UAAUxhE,GAAgB3lF,YAC5D,IAAIu4J,EAAcvzE,GAAe5Q,GACjCxzB,GAAa23G,EAAa3yE,GAC1BhlC,GAAa23G,EAAajkF,GAC1B8yE,GAAWhzE,EAAQqR,EAAcmuE,EAAap/E,GAC9CuyE,GAAea,WAAWjiE,EAAgB4iE,GAAcn0E,EAAQw/E,IAChEr3E,EAAGqG,OA7DW,SAAUxO,EAAQosE,EAAWjkE,EAAI87E,GACjD,IAAIG,EAAmB9xI,GAAKyxI,GAAsB3X,EAAWjkE,EAAGnH,sBAC5DqjF,EAAgB,SAAU75J,GAC5B,IAAI8O,EAAKyqJ,GAAsB3X,EAAWjkE,EAAGnH,qBAAsBzsC,EAAMj7B,EAAGi7B,IAAK/sB,EAASlO,EAAGkO,OACzF2vB,EAAKitH,EAAiB7jJ,MAAO+jJ,EAAUntH,EAAG5C,IAAKgwH,EAAaptH,EAAG3vB,OAC/Dg9I,EAAah9I,EAAOpG,SAAWmjJ,EAAWnjJ,QAAUoG,EAAO7B,QAAU4+I,EAAW5+I,MACpFy+I,EAAiBvjJ,IAAI,CACnB0zB,IAAKA,EACL/sB,OAAQA,IAENg9I,GACFnrE,GAAkBrZ,EAAQx1E,GAExB29E,EAAGzsC,cACD4oH,IAAY/vH,EACd4zC,EAAG/2B,QAAO,GACDozG,IACTr8E,EAAGg7E,aACHh7E,EAAG74B,oBAGT,EACK20G,IACHjkF,EAAOloC,GAAG,WAAYqwC,EAAGqG,MACzBxO,EAAOloC,GAAG,aAAcqwC,EAAG5M,OAE7ByE,EAAOloC,GAAG,2BAA2B,WACnC,OAAOqwC,EAAG/2B,QAAO,EACnB,IACA4uB,EAAOloC,GAAG,sBAAsB,SAAUttC,GACxCkyE,GAAShiC,uBAAsB,WAC7B,OAAO2pH,EAAc75J,EACvB,GACF,IACAw1E,EAAOloC,GAAG,gBAAgB,WACxB,OAAOqwC,EAAGg7E,YACZ,IACA,IAAIvC,EAAcloH,KAClBkoH,EAAY//I,IAAIg4B,GAAQrmC,GAAaF,QAAQ0tE,EAAO7hE,WAAY,OAAQkmJ,IACxErkF,EAAOloC,GAAG,UAAU,WAClB8oH,EAAYtoH,OACd,GACF,CAoBImsH,CAAYzkF,EAAQosE,EAAWjkE,EAAI87E,GACnCjkF,EAAO0kF,aATP,CAUF,EACA1kF,EAAOloC,GAAG,OAAQ2pD,GAClBzhB,EAAOloC,GAAG,OAAQqwC,EAAG5M,MAChB0oF,IACHjkF,EAAOloC,GAAG,QAAS2pD,GACnBzhB,EAAOloC,GAAG,OAAQqwC,EAAG5M,OAEvByE,EAAOloC,GAAG,QAAQ,YACZkoC,EAAO1tC,YAAc2xH,IACvBxiE,GAEJ,IACAhQ,GAAwBzR,EAAQqR,GAChC,IAAIzrC,EAAM,CACR4oC,KAAM,WACJrG,EAAGqG,MACL,EACAjT,KAAM,WACJ4M,EAAG5M,MACL,EACA1f,OAAQ,WACNu1B,GAAkBC,GAAc,EAClC,EACAv1B,QAAS,WACPs1B,GAAkBC,GAAc,EAClC,EACA51B,WAAY,WACV,OAAOQ,GAAUR,WAAW81B,EAC9B,GAEF,MAAO,CACLsxD,gBAAiBtxD,EAAev9E,QAAQ7B,IACxCyzC,IAAKA,EAET,IAQI++G,GAA0B,sBAY1BC,GAAe,SAAU/8C,EAAUzsF,GACrC,OAAOhC,GAAMq6F,IAA8B,SAAU70F,EAAMuhE,GACzD,IACI0kE,EAbS,SAAU15I,GACzB,MAAO,CACLowD,KAAM,WACJ,OAAO/iD,GAAKrN,EAAOoM,KACrB,EACAk5B,SAAU,WACR,OAAOgC,GAAahC,SAAStlC,EAC/B,EAEJ,CAIkB25I,CADFj9C,EAAStnG,IAAIqe,IAEzBxD,EAASwkD,SAASilF,EAAS1kE,EAAGp9E,MAAMy5I,UACtC,GACF,EAiBI1jG,GAAc,SAAU+uD,EAAUmU,EAAQtnC,GAC5C,IAAIzU,EAAS,CAAEG,UAAW,CAAEC,OAAQ,CAAEQ,UAAW6T,KACjD,MAAoB,4BAAhBsnC,EAAO51H,KAVmB,SAAUyhH,EAAUmU,EAAQ/7C,GAC1D,IAAI3mE,EAAK0iH,EAAO5gG,SAAU9hB,EAAG+6D,QAAS,IAAIztD,EAAOrc,EAAO+O,EAAI,CAAC,YACzDswI,EAAUh+I,GAAS07E,GAAmBx9E,EAASA,EAAS,CAAC,EAAG8c,GAAO,CACrExgB,KAAM,eACNw5E,SAAU33E,MAEZ,OAAO20J,GAA8BhT,EAAS3pE,EAAOG,UAAUC,OAAOQ,UAAW,CAAC+jF,GAAa/8C,EAAUmU,IAC3G,CAIW+oC,CAA0Bl9C,EAAUmU,EAAQ/7C,GAnB7B,SAAU4nC,EAAUmU,EAAQ/7C,GACpD,IAAI3mE,EAAK0iH,EAAO5gG,SAAU9hB,EAAG+6D,QAAS,IAAIztD,EAAOrc,EAAO+O,EAAI,CAAC,YACzDswI,EAAUh+I,GAASu7E,GAAoBr9E,EAASA,EAAS,CAAC,EAAG8c,GAAO,CACtExgB,KAAM,SACNw5E,SAAU33E,MAEZ,OAAOy0J,GAAwB9S,EAAS3pE,EAAOG,UAAUC,OAAOQ,UAAW,CAAC+jF,GAAa/8C,EAAUmU,IACrG,CAcWgpC,CAAoBn9C,EAAUmU,EAAQ/7C,EAEjD,EA2BIglF,GAAkB,SAAU/hD,EAAKriC,GACnC,IAAIwrB,EAAkB6W,EAAInzF,MAAMzkB,MAAK,WACnC,MAAO,CAAC,CACV,IAAG,SAAUykB,GACX,MAAO,CAAE,aAAcA,EACzB,IACI83F,EAAW7qC,GAAOwvB,GAAMx3C,OAAO,CACjCu3C,aAAc,CACZ,wBACA,sBAEF1zE,KAAMqqF,EAAIpJ,YACVzN,gBAAiBA,EACjBH,eAAe,EACfE,gBAAiB/6D,GAAS,CAACu7B,GAAOlpC,OAAO,CACrCsX,KAAM,UACN2nB,QAAS,SAAUx3C,GACjB,OAAO+5I,EAASC,YAAYh6I,GAAOlf,KAAI,SAAUooE,GAE/C,OADA17C,GAAY07C,IACL,CACT,GACF,EACAjI,OAAQ,SAAUxtC,EAAMuhE,GAEtB,OADAA,EAAG/lE,MACIvtB,EAAS1B,MAClB,EACAkhE,QAAS,SAAUztC,EAAMuhE,GAEvB,OADAA,EAAG/lE,MACIvtB,EAAS1B,MAClB,SAGF+5J,EA1DS,SAAUr9C,EAAUzpB,EAAS1J,GAC1C,IAAI0wE,EAAWz3J,EAAMywF,GAAS,SAAU49B,GACtC,OAAOh/C,GAAOlkB,GAAY+uD,EAAUmU,EAAQtnC,GAC9C,IAiBA,MAAO,CACL2wE,QAjBY,WACZ,OAAO13J,EAAMy3J,GAAU,SAAUr/C,GAC/B,OAAOA,EAAI5oC,QACb,GACF,EAcEgoF,YAbgB,SAAUG,GAC1B,OAAOh2J,GAAQ8uF,GAAS,SAAU49B,EAAQl0H,GACxC,OAAIk0H,EAAO3nD,QACFxnE,EAAS/B,KAAKs6J,EAASt9J,IAAIqE,MAAK,SAAU45G,GAC/C,OAAOA,EAAIpnG,OAAO2mJ,EACpB,IAAGh5J,OAAOnD,EAAI8yD,GAAUR,aAEjB5uD,EAAS1B,MAEpB,GACF,EAKF,CAkCiB0tD,CAASgvD,EAAU3E,EAAIgiD,SAAUrkF,GAChD,MAAO,CACL,CACEyT,MAAOznF,EAAS1B,OAChBkmD,MAAO,CAACw2D,EAAS1qC,WAEnB,CACEmX,MAAOznF,EAAS1B,OAChBkmD,MAAO6zG,EAASG,WAGtB,EAWIE,GAEeN,GAGfO,GAAoB,SAAUv+J,EAAG2B,EAAG68J,GAItC,YAHkB,IAAdA,IACFA,EAAY,KAEP78J,EAAEid,OAAS5e,EAAEyM,GAAK+xJ,GAAax+J,EAAE4e,OAASjd,EAAE8K,GAAK+xJ,CAC1D,EAaIC,GAAqB,SAAU1lF,GACjC,IACIrsC,EAda,SAAU+P,GAC3B,IAAI/P,EAAO+P,EAAIviC,wBACf,GAAIwyB,EAAKvyB,QAAU,GAAKuyB,EAAKhuB,OAAS,EAAG,CACvC,IAAIggJ,EAAS1oJ,GAAKzK,GAAaF,QAAQoxC,EAAIC,gBAAiBD,EAAIuB,aAAajxC,QAE7E,OADUM,GAASqxJ,GAAUnpJ,GAAOmpJ,GAAU94J,EAASJ,KAAKk5J,IACjDr5J,OAAO+H,IAAapI,KAAI,SAAUzB,GAC3C,OAAOA,EAAE2H,IAAIgP,uBACf,IAAGzV,MAAMioC,EACX,CACE,OAAOA,CAEX,CAGaiyH,CADD5lF,EAAOv8B,UAAUmiC,UAE3B,GAAI5F,EAAOwQ,OAAQ,CACjB,IAAIq1E,EAAWtgJ,KACf,OAAOiC,GAAOq+I,EAAS90J,KAAO4iC,EAAK5iC,KAAM80J,EAASpkJ,IAAMkyB,EAAKlyB,IAAKkyB,EAAKhuB,MAAOguB,EAAKvyB,OACrF,CACE,IAAI0kJ,EAAUl+I,GAAWpV,GAAaF,QAAQ0tE,EAAO7hE,YACrD,OAAOqJ,GAAOs+I,EAAQx/J,EAAIqtC,EAAK5iC,KAAM+0J,EAAQpyJ,EAAIigC,EAAKlyB,IAAKkyB,EAAKhuB,MAAOguB,EAAKvyB,OAEhF,EA4CI2kJ,GAA0B,SAAU/lF,EAAQG,EAAiB6lF,EAAav5E,QAC7D,IAAXA,IACFA,EAAS,GAEX,IAAIw5E,EAAiBngJ,GAAYlS,QAC7BsyJ,EAAiBz+I,GAAMjV,GAAaF,QAAQ0tE,EAAOkB,4BACnDilF,EAA0B52E,GAAiBvP,IAAWwP,GAAiBxP,IAAW6P,GAAmB7P,GACrG1mE,EA7CoB,SAAU4sJ,EAAgBD,EAAgBx5E,GAClE,IAAInmF,EAAI+f,KAAKrF,IAAIklJ,EAAe5/J,EAAImmF,EAAQw5E,EAAe3/J,GAE3D,MAAO,CACLA,EAAGA,EACHqf,MAHUU,KAAK8mB,IAAI+4H,EAAetgJ,MAAQ6mE,EAAQw5E,EAAergJ,OAGlDtf,EAEnB,CAsCW8/J,CAAoBF,EAAgBD,EAAgBx5E,GAASnmF,EAAIgT,EAAGhT,EAAGqf,EAAQrM,EAAGqM,MAC3F,GAAIq6D,EAAOwQ,SAAW21E,EACpB,OAAO3+I,GAAOlhB,EAAG2/J,EAAevyJ,EAAGiS,EAAOsgJ,EAAe7kJ,QAEzD,IACI+1B,EA1CgB,SAAU6oC,EAAQkmF,EAAgBD,EAAgBI,EAAsBL,EAAav5E,GAC3G,IAAIhxD,EAAYjpB,GAAaF,QAAQ0tE,EAAOywB,gBACxC1vB,EAAS/4C,GAAWvM,EAAW,sBAAsB/vB,MAAM+vB,GAC3D6qI,EAAY7+I,GAAMs5D,GAClBwlF,EAA4BD,EAAU5yJ,GAAKwyJ,EAAergJ,OAC1D2gJ,EAAiBH,IAAyBE,EAC9C,GAAIvmF,EAAOwQ,QAAUg2E,EACnB,MAAO,CACL9yJ,EAAG2S,KAAKrF,IAAIslJ,EAAUzgJ,OAAS4mE,EAAQw5E,EAAevyJ,GACtDmS,OAAQogJ,EAAepgJ,QAG3B,GAAIm6D,EAAOwQ,SAAWg2E,EACpB,MAAO,CACL9yJ,EAAGuyJ,EAAevyJ,EAClBmS,OAAQQ,KAAK8mB,IAAIm5H,EAAU5yJ,EAAI+4E,EAAQw5E,EAAepgJ,SAG1D,IAAI4gJ,EAAkC,SAAhBT,EAAyBv+I,GAAMgU,GAAayqI,EAClE,OAAIM,EACK,CACL9yJ,EAAG2S,KAAKrF,IAAIslJ,EAAUzgJ,OAAS4mE,EAAQw5E,EAAevyJ,GACtDmS,OAAQQ,KAAK8mB,IAAIs5H,EAAgB5gJ,OAAS4mE,EAAQw5E,EAAepgJ,SAG9D,CACLnS,EAAG2S,KAAKrF,IAAIylJ,EAAgB/yJ,EAAI+4E,EAAQw5E,EAAevyJ,GACvDmS,OAAQQ,KAAK8mB,IAAIm5H,EAAU5yJ,EAAI+4E,EAAQw5E,EAAepgJ,QAE1D,CAaa6gJ,CAAkB1mF,EAAQkmF,EAAgBD,EADhC9lF,EAAgBY,OAAOC,oBACuCglF,EAAav5E,GAAS/4E,EAAIyjC,EAAGzjC,EAAGmS,EAASsxB,EAAGtxB,OAC7H,OAAO2B,GAAOlhB,EAAGoN,EAAGiS,EAAOE,EAASnS,EAExC,EAGIizJ,GAAqB,CACvB1yB,aAAc,GACdC,YAAa,GACbC,UAAW,CAAC,uBACZC,WAAY,CAAC,wBACbxuH,MAAO,CAAC,kBACR7U,KAAM,CAAC,iBACP8U,OAAQ,CAAC,mBACTpE,IAAK,CAAC,gBACNmlJ,MAAO,CAAC,mBAENrlF,GAAkB,CACpBnkC,kBAAmBR,KACnBU,iBAAkB6wG,MAgBhB0Y,GAAwB,SAAUh/I,GACpC,MAAoB,SAAbA,CACT,EACIi/I,GAAuB,SAAU9mF,EAAQ+mF,EAAYhsJ,EAAM8d,EAAMrR,GACnE,IAAIw/I,EAAkBtB,GAAmB1lF,GACrCinF,EAAsBpuI,EAAKkqE,cAAc32F,QAAO,SAAUu5I,GAC5D,OAAOtqI,GAAGN,EAAM4qI,EAClB,IACA,OAtB4B,SAAU3lE,EAAQjlE,GAC9C,IAAI2oC,EAAMs8B,EAAOv8B,UAAUmiC,SACvB+/E,EAAS1oJ,GAAKzK,GAAaF,QAAQoxC,EAAIC,gBAAiBD,EAAIuB,aAChE,OAAOvB,EAAIC,iBAAmBD,EAAIwB,cAAgBxB,EAAIuB,cAAgBvB,EAAIyB,UAAY,GAAK9pC,GAAGsqJ,EAAO3xJ,QAAS+G,EAChH,CAkBMmsJ,CAAwBlnF,EAAQjlE,GAC3BksJ,EAAsB1qF,GAAWjwC,GAC/B26H,EAnBU,SAAUlsJ,EAAM8M,EAAUze,GAC/C,IAAI+9J,EAAkBvnJ,GAAO7E,EAAM,YACnCsE,GAAMtE,EAAM,WAAY8M,GACxB,IAAI0E,EAASnjB,EAAE2R,GAIf,OAHAosJ,EAAgBj7J,MAAK,SAAUqoC,GAC7B,OAAOl1B,GAAMtE,EAAM,WAAYw5B,EACjC,IACOhoB,CACT,CAYW66I,CAAiBL,EAAYluI,EAAKqyB,WAAW,WAElD,OADoBs6G,GAAkBwB,EAAiBv/I,GAAMs/I,MACpCluI,EAAKwuI,eAAiB5qF,GAASF,EAC1D,KAEiC,UAAnB1jD,EAAKqyB,UAAwB1jC,EAAO9T,EAAI6R,KAAQ9D,IAAM+F,EAAO9T,IACpD4N,GAAMylJ,GA/Cd,KAgDsBC,EAAgBtzJ,EAAI44B,GAAQD,EAErE,EACIi7H,GAAkB,SAAUtnF,EAAQunF,EAAQ1uI,EAAMhR,GACpD,IAAI2/I,EAAmB,SAAUzsJ,GAC/B,OAAO,SAAUsyB,EAAQr5B,EAASi6B,EAAS8b,EAAQviC,GACjD,IAAI0wB,EAAS4uH,GAAqB9mF,EAAQj2B,EAAQhvC,EAAM8d,EAAMrR,GAC1DigJ,EAAY39J,EAASA,EAAS,CAAC,EAAGujC,GAAS,CAC7C35B,EAAG8T,EAAO9T,EACV0N,OAAQoG,EAAOpG,SAEjB,OAAOtX,EAASA,EAAS,CAAC,EAAGouC,EAAOuvH,EAAWzzJ,EAASi6B,EAAS8b,EAAQviC,IAAU,CAAEskB,WAAW,GAClG,CACF,EACI47H,EAAkB,SAAU3sJ,GAC9B,OAAO8rJ,GAAsBh/I,GAAY,CAAC2/I,EAAiBzsJ,IAAS,EACtE,EA6CA,OAAOwsJ,EAtBuB,CAC5BvnH,MAAO,SAAUjlC,GACf,MAAO,CACLuzB,GACAN,GACAE,GACAC,GACAC,GACAC,IACAnlC,OAAOw+J,EAAgB3sJ,GAC3B,EACAmlC,MAAO,SAAUnlC,GACf,MAAO,CACLuzB,GACAJ,GACAF,GACAI,GACAD,GACAE,IACAnlC,OAAOw+J,EAAgB3sJ,GAC3B,GA1C6B,CAC7BilC,MAAO,SAAUjlC,GACf,MAAO,CACLszB,GACAC,GACAH,GACAH,GACAI,GACAF,IACAhlC,OAAOw+J,EAAgB3sJ,GAC3B,EACAmlC,MAAO,SAAUnlC,GACf,MAAO,CACLszB,GACAC,GACAF,GACAF,GACAC,GACAH,IACA9kC,OAAOw+J,EAAgB3sJ,GAC3B,EAyBJ,EAwBI4sJ,GAAkB,SAAU5sJ,EAAMlF,GACpC,IAAI+xJ,EAAO55J,EAAS6H,GAAY,SAAUgyJ,GACxC,OAAOA,EAAW1uI,UAAUpe,EAAK5I,IACnC,IACImH,EAAKzL,EAAY+5J,GAAM,SAAUrhK,GACjC,MAAkB,mBAAXA,EAAEH,IACX,IACF,MAAO,CACL0hK,gBAFWxuJ,EAAGxL,KAGdi6J,aAH2BzuJ,EAAGvL,KAKlC,EAyDIi6J,GAAiB,SAAUjtJ,EAAMktJ,EAAgBC,GACnD,IAAIC,EAAcR,GAAgB5sJ,EAAMktJ,GACxC,GAAIE,EAAYJ,aAAa//J,OAAS,EACpC,OAAO6E,EAASJ,KAAK,CACnBsO,KAAMA,EACNg1E,SAAU,CAACo4E,EAAYJ,aAAa,MAGtC,IAAIK,EAAgBT,GAAgB5sJ,EAAMmtJ,GAC1C,GAAIE,EAAcL,aAAa//J,OAAS,EACtC,OAAO6E,EAASJ,KAAK,CACnBsO,KAAMA,EACNg1E,SAAU,CAACq4E,EAAcL,aAAa,MAEnC,GAAII,EAAYL,gBAAgB9/J,OAAS,GAAKogK,EAAcN,gBAAgB9/J,OAAS,EAAG,CAC7F,IAAI+nF,EAvEyB,SAAUA,GAC3C,GAAIA,EAAS/nF,QAAU,EACrB,OAAO+nF,EAEP,IAAIs4E,EAAoB,SAAUhiK,GAChC,OAAO+F,EAAO2jF,GAAU,SAAUxpF,GAChC,OAAOA,EAAEshB,WAAaxhB,CACxB,GACF,EACIiiK,EAA2B,SAAUjiK,GACvC,OAAO2H,EAAS+hF,GAAU,SAAUxpF,GAClC,OAAOA,EAAEshB,WAAaxhB,CACxB,GACF,EACIkiK,EAAuBF,EAAkB,aACzCG,EAAkBH,EAAkB,QACxC,GAAIE,GAAwBC,EAAiB,CAC3C,GAAIA,GAAmBD,EAAsB,CAC3C,IAAIE,EAAeH,EAAyB,QACxCI,EAAoB/6J,EAAM26J,EAAyB,cAAc,SAAU/hK,GAC7E,OAAOuD,EAASA,EAAS,CAAC,EAAGvD,GAAI,CAAEshB,SAAU,QAC/C,IACA,OAAO4gJ,EAAav/J,OAAOw/J,EAC7B,CACE,OAA8BJ,EAAvBC,EAAgD,YAAwC,OAEnG,CACE,OAAOD,EAAyB,OAGtC,CAyCqBK,CAA6BR,EAAYL,gBAAgB5+J,OAAOk/J,EAAcN,kBAC7F,OAAOj7J,EAASJ,KAAK,CACnBsO,KAAMA,EACNg1E,SAAUA,GAEd,CACE,OAAOljF,EAAS1B,MAGtB,EACIy9J,GAAgB,SAAUr0I,EAAQs0I,EAAWC,GAC/C,OAAIv0I,EAAOs0I,GACFh8J,EAAS1B,OAETqpB,GAAWq0I,GAAW,SAAUE,GACrC,GAAI10J,GAAY00J,GAAe,CAC7B,IAAIzvJ,EAAKquJ,GAAgBoB,EAAcD,EAAOE,aAAclB,EAAkBxuJ,EAAGwuJ,gBAAiBC,EAAezuJ,EAAGyuJ,aAChHh4E,EAAWg4E,EAAa//J,OAAS,EAAI+/J,EAzDX,SAAUh4E,GAC9C,GAAIA,EAAS/nF,QAAU,EACrB,OAAO+nF,EAEP,IAAIk5E,EAAiB,SAAU5iK,GAC7B,OAAOgI,EAAO0hF,GAAU,SAAUxpF,GAChC,OAAOA,EAAEshB,WAAaxhB,CACxB,GACF,EACI6iK,EAAeD,EAAe,aAAaj9J,SAAQ,WACrD,OAAOi9J,EAAe,OACxB,IAAGj9J,SAAQ,WACT,OAAOi9J,EAAe,OACxB,IAAGh9J,KAAI,SAAU1F,GACf,OAAOA,EAAEshB,QACX,IACA,OAAOqhJ,EAAa59J,MAAK,WACvB,MAAO,EACT,IAAG,SAAUipC,GACX,OAAOvmC,EAAS+hF,GAAU,SAAUxpF,GAClC,OAAOA,EAAEshB,WAAa0sB,CACxB,GACF,GAEJ,CAiCgE40H,CAAgCrB,GACxF,OAAO/3E,EAAS/nF,OAAS,EAAI6E,EAASJ,KAAK,CACzCsO,KAAMguJ,EACNh5E,SAAUA,IACPljF,EAAS1B,MAChB,CACE,OAAO0B,EAAS1B,MAEpB,GAAGopB,EAEP,EAkBI60I,GAAa,SAAUtB,EAAiBrlG,GAC1C,IAAI4mG,EAAQ,CAAC,EACTL,EAAc,GACdM,EAAgB,GAChBC,EAAiB,CAAC,EAClBC,EAAc,CAAC,EACfC,EAAe,SAAUh5J,EAAKigJ,GAChC,IAAIgZ,EAAc99J,GAtshBbkkB,GAAM,cAAei4D,GAsshBmB2oE,IAC7C2Y,EAAM54J,GAAOi5J,EACbA,EAAYC,OAAO19J,KAAI,SAAU09J,GAC/BJ,EAAe,QAAU94J,GAAY3G,EAASA,EAAS,CAAC,EAAG4mJ,EAAYiZ,QAAS,CAC9EvjK,KAAsB,4BAAhBujK,EAAOvjK,KAAqC,eAAiB,SACnEw5E,SAAU,WACRnd,EAASinG,EACX,GAEJ,IAC0B,WAAtBA,EAAY/2J,MACd22J,EAAcxkK,KAAK4kK,GAEnBV,EAAYlkK,KAAK4kK,GAEnBF,EAAY/4J,GAAOi5J,CACrB,EACIE,EAAkB,SAAUn5J,EAAKigJ,GAhthBZ,IAAUrxH,KAithBZqxH,EAhthBhB5gI,GAAM,iBAAkBk4D,GAAsB3oD,IAgthBjBnzB,MAAK,SAAU29J,GACrB,WAAtBnZ,EAAY/9I,MACd22J,EAAcxkK,KAAK+kK,GAEnBb,EAAYlkK,KAAK+kK,GAEnBL,EAAY/4J,GAAOo5J,CACrB,GACF,EACI57I,EAASze,GAAKs4J,GASlB,OARAl6J,EAAOqgB,GAAQ,SAAUxd,GACvB,IAAIo3J,EAAaC,EAAgBr3J,GACT,gBAApBo3J,EAAWzhK,KACbqjK,EAAah5J,EAAKo3J,GACW,mBAApBA,EAAWzhK,MACpBwjK,EAAgBn5J,EAAKo3J,EAEzB,IACO,CACLwB,MAAOA,EACPL,YAAaA,EACbM,cAAeA,EACfE,YAAaA,EACbD,eAAgBA,EAEpB,EAEIO,GAAoB5tI,GAAW,iBAC/B6tI,GAAiB7tI,GAAW,kBAC5B8tI,GAAmB9tI,GAAW,sBAC9B+tI,GAAgB,oBAsFhBxrB,GAAkB,sBAClByrB,GAAa,SAAUlqF,EAAQmqF,EAAyBr8G,EAAMmyB,GAChE,IAvFmC5gD,EAC/BwL,EAsFAu1C,EAAYH,EAAOG,UACnBD,EAAkBC,EAAUC,OAC5BrmE,EAAUY,KAAWhB,WAAWI,QAChC+oF,EAAcpqD,KACdyxH,EAAczxH,KACd0xH,EAAsB1xH,KACtBouH,EAAahgI,IA7FkB1H,EA6FW,CAC5CyuB,KAAMA,EACN4U,SAAU,WAER,OADAsd,EAAO3tC,QACAxlC,EAASJ,MAAK,EACvB,GAjGEo+B,EAAQvY,GAAK,IACVgoD,GAAWtlB,OAAO,CACvB7iD,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,YAEZo8C,0BAA2B,CAAE/4D,MAAO,mBACpC64D,OAAQ,SAAUh9C,GAChBiM,EAAMhqB,IAAI,IACVy5D,GAAWkB,WAAW58C,GAAM1yB,MAAK,SAAUo1B,GACzCphB,GAASohB,EAAEttB,QAAS,aACtB,IACA6uB,GAASjE,EAAK5qB,QAASi2J,IACvB/pJ,GAAS0e,EAAK5qB,QAAS,QACzB,EACAynE,iBAAkBpqC,GAAS,CACzB3N,GAAO,yBAA0B,CAC/BpJ,GAAY5D,MAAiB,SAAUkI,EAAMuhE,GACT,UAA9BA,EAAGp9E,MAAMlD,IAAIk6B,eACflX,GAASjE,EAAK5qB,QAASi2J,IACvB/pJ,GAAS0e,EAAK5qB,QAAS,SAE3B,IACAolB,GAAM4wI,IAAkB,SAAUprI,EAAMuhE,GACtC,IAAIplF,EAAO6jB,EAAK5qB,QAChBkM,GAASnF,EAAM,SACf,IAAIuvJ,EAAe3nJ,GAAM5H,GACzBu/D,GAAWzrB,WAAWjwB,EAAMuhE,EAAGp9E,MAAMosC,UACrCzsB,GAAM3nB,EAAMkvJ,IACZ,IAAI/3C,EAAWvvG,GAAM5H,GACrBsE,GAAMtE,EAAM,QAASuvJ,EAAe,MACpChwF,GAAWkB,WAAW58C,GAAM1yB,MAAK,SAAUq+J,GACzCpqE,EAAGp9E,MAAMsvB,MAAMlmC,MAAK,SAAU/C,GAE5B,OADAgpC,GAAQhpC,GACD4M,GAAO+E,EAChB,IAAG/O,SAAQ,WAET,OADA4gE,GAAO1L,QAAQqpG,GACR95H,GAAOlzB,GAAYxC,GAC5B,GACF,IACA2hE,GAAS/hC,YAAW,WAClBt7B,GAAMuf,EAAK5qB,QAAS,QAASk+G,EAAW,KAC1C,GAAG,EACL,IACA94F,GAAM0wI,IAAmB,SAAUlrI,EAAMuhE,GACvC7lB,GAAWkB,WAAW58C,GAAM1yB,MAAK,SAAUs+J,GACzC3/H,EAAMhqB,IAAIgqB,EAAMtqB,MAAMrX,OAAO,CAAC,CAC1B0lI,IAAK47B,EACLn4H,MAAO5B,GAAOlzB,GAAYqhB,EAAK5qB,aAErC,IACA0kB,GAASkG,EAAMorI,GAAkB,CAC/B76G,SAAUgxC,EAAGp9E,MAAM0nJ,gBACnBp4H,MAAOxlC,EAAS1B,QAEpB,IACAiuB,GAAM2wI,IAAgB,SAAUnrI,EAAMgyB,GACpCvhD,GAAOw7B,EAAMtqB,OAAOrU,MAAK,SAAU87C,GACjCnd,EAAMhqB,IAAIgqB,EAAMtqB,MAAMrV,MAAM,EAAG2/B,EAAMtqB,MAAMvY,OAAS,IACpD0wB,GAASkG,EAAMorI,GAAkB,CAC/B76G,SAAU3nB,GAAQwgB,EAAK4mF,KACvBv8F,MAAO2V,EAAK3V,OAEhB,GACF,MAEFu6B,GAAOlpC,OAAO,CACZsX,KAAM,UACN0nB,SAAU,SAAU9jC,GAClB,OAAOvvB,GAAOw7B,EAAMtqB,OAAOjV,MAAK,WAC9B,OAAO+zB,EAAKqjC,UACd,IAAG,SAAUt6C,GAEX,OADAoQ,GAAKoG,EAAMmrI,IACJl9J,EAASJ,MAAK,EACvB,GACF,MAGJiuE,SAAU,WACR,OAAO/xD,GAAOtiB,MAAMg5B,EAAKyuB,KAC3B,MAmBExZ,EAAY,WACd,IAAIzsB,EAAWwiJ,EAAoB9pJ,MAAM7U,MAAM,QAC3C+gF,EAASo6E,GAAsBh/I,GAAY,EAAI,EACnD,OAAOk+I,GAAwB/lF,EAAQG,EAAiBt4D,EAAU4kE,EACpE,EACIi+E,EAAmB,WACrB,QAAQ1qF,EAAOylD,SAAazrH,KAAaomE,EAAU47D,oBACrD,EAII2uB,EAA2B,WAC7B,GAAKD,IAEE,CACL,IAAIE,EAAuBt2H,IACvBu2H,EAAej6J,GAAKy5J,EAAoB9pJ,MAAO,QA9e5B,SAAUy/D,EAAQ+iB,GAC7C,OAAOA,EAAYz2F,OAAOyR,IAAQ9R,IAAI2b,IAAYjc,YAAW,WAC3D,OAAO+5J,GAAmB1lF,EAC5B,GACF,CA0emE8qF,CAAuB9qF,EAAQ+iB,EAAYxiF,OAASmlJ,GAAmB1lF,GACpI,OAAO4qF,EAAqBxpJ,QAAU,IAAMokJ,GAAkBqF,EAAcD,EAC9E,CALE,OAAO,CAMX,EACIl8G,EAAQ,WACVq0C,EAAYzqD,QACZ8xH,EAAY9xH,QACZ+xH,EAAoB/xH,QACpBgiC,GAAWiB,KAAKwrF,EAClB,EACIgE,EAA8B,WAChC,GAAIzwF,GAAW3sB,OAAOo5G,GAAa,CACjC,IAAIiE,EAAgBjE,EAAW/yJ,QAC/BkM,GAAS8qJ,EAAe,WACpBL,IACFtrJ,GAAM2rJ,EAAe,UAAW,SAEhCZ,EAAYvpJ,IAAI,GAChBy5D,GAAWrmC,WAAW8yH,GAE1B,CACF,EACIkE,EAAkB,SAAUva,GAC9B,MAAO,CACLv+I,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,oBAEZ4E,WAAY,CAACosH,GACbxwH,WAAYmR,GAAS,CACnBu7B,GAAOlpC,OAAO,CAAEsX,KAAM,YACtBtX,GAAO,yBAA0B,CAC/BnJ,IAAc,SAAUqE,GACtBohD,EAAOkrF,UAAUjlK,IAAI,UAAW,mBAAmB,WACjD,OAAO2mE,GAAO1L,QAAQtiC,EACxB,GACF,IACApE,IAAc,SAAU86F,GACtBt1C,EAAOkrF,UAAUpoI,OAAO,UAC1B,QAIR,EACIqoI,EAAY12J,IAAO,WACrB,OAAO20J,GAAWe,GAAyB,SAAUtC,GACnD,IAAIuD,EAAYC,EAAa,CAACxD,IAC9BnvI,GAASquI,EAAY+C,GAAmB,CAAEW,gBAAiBQ,EAAgBG,IAC7E,GACF,IAWIC,EAAe,SAAUt7E,GAC3B,IAAIqO,EAAUpe,EAAOmI,GAAGC,SAASC,SAAS+V,QACtC0qE,EAASqC,IACTG,EAAaxhK,EAASA,EAAS,CAAC,EAAGs0F,GAAU0qE,EAAOS,gBACpDvD,EAAc91E,GAAelQ,KAAY0I,GAAY+oE,UAAY/oE,GAAY+oE,UAAY/oE,GAAY6iF,QACrG1a,EAAapiJ,EAAQd,EAAMoiF,GAAU,SAAUmzB,GACjD,MAAoB,mBAAbA,EAAI98G,KAhBiB,SAAUklK,EAAYpoD,GACpD,OAAOy6C,GAAgB39E,EAAQ,CAC7Boe,QAASktE,EACT77E,QAASyzB,EAAI7xD,MACbwsG,oBAAoB,GACnB59E,EAAQpzE,EAASJ,KAAK,CAAC,UAC5B,CAU2C++J,CAA0BF,EAAYpoD,GATpD,SAAUA,EAAKriC,GAC1C,OAAO0kF,GAA4BriD,EAAKriC,EAC1C,CAOwF4qF,CAAuBvoD,EAAK/iC,EAAgBU,UAClI,KACA,OAAO2wE,GAAc,CACnBprJ,KAAM4/J,EACNrsI,IAAKuC,GAAW,mBAChB20H,WAAYA,EACZnuF,SAAU71D,EAAS1B,KACnB4lJ,cAAc,EACdlwE,UAAWV,EAAgBU,WAE/B,EACI2xB,EAAY,SAAU3qF,EAAU7T,GAClC,IAAI02C,EAAyB,SAAb7iC,EAAsBs4D,EAAgBwB,QAAQpvE,KAAKyB,GAAWmsE,EAAgBwB,QAAQk/C,SAClG6qC,EAlZc,SAAU1rF,EAAQn4D,EAAU7N,EAAS6e,GACzD,MAAiB,SAAbhR,EACK,CACL4jB,OAAQgS,GAlHK,GAkHc,EAAGkpH,IAC9B7mH,QAAS,CACPE,MAAO,WACL,MAAO,CAACzR,GACV,EACA2R,MAAO,WACL,MAAO,CAACzR,GACV,GAEFiS,UAAW6gC,IAGN,CACL91C,OAAQgS,GAAK,EA/HA,GA+HiBkpH,GAAoB,EA/HrC,IAgIb7mH,QAASwnH,GAAgBtnF,EAAQhmE,EAAS6e,EAAMhR,GAChD64B,UAAW6gC,GAGjB,CA6XuBoqF,CAAgB3rF,EAAQn4D,EAAU7N,IAAW,CAC9D+oF,YAAaA,EAAYxiF,IACzB8mJ,aAAc,WACZ,OAAOz2J,GAAKw5J,EAAY7pJ,MAAO,EACjC,EACA2qC,QAAS,WACP,OAAOM,GAAYN,QAAQ4C,EAC7B,IAEF,OAAOzjC,GAAUqgC,EAAWghH,EAC9B,EACIE,EAAgB,SAAU/D,EAAY9sJ,GAExC,GADA8wJ,EAAqB3pF,SAChBwoF,IAAL,CAGA,IAAIha,EAAc2a,EAAaxD,GAC3BhgJ,EAAWggJ,EAAW,GAAGhgJ,SACzBwlB,EAASmlE,EAAU3qF,EAAU9M,GACjCsvJ,EAAoBxpJ,IAAIgH,GACxBuiJ,EAAYvpJ,IAAI,GAChB,IAAImqJ,EAAgBjE,EAAW/yJ,QAC/BkM,GAAS8qJ,EAAe,WA7GA,SAAUjwJ,GAClC,OAAOnK,GAAKK,GAAM8J,EAAMgoF,EAAYxiF,MAAOlF,KAAK,EAClD,CA4GOywJ,CAAoB/wJ,KACvB8nB,GAASmoI,EAAevsB,IACxBjzF,GAAYH,MAAMyC,EAAMi5G,IAE1BzsF,GAAWG,iBAAiBssF,EAAYkE,EAAgBva,GAAc,CACpErjH,OAAQA,EACR6L,WAAY,CACVxZ,QAAS,CAAC++G,IACVzjG,KAAM,eAEP,WACD,OAAOnuC,EAASJ,KAAK6nC,IACvB,IACAv5B,EAAKzP,KAAKy3F,EAAYzqD,MAAOyqD,EAAYliF,KACrC8pJ,KACFtrJ,GAAM2rJ,EAAe,UAAW,OAvBlC,CAyBF,EACIa,EAAuB7jH,IAAK,WACzBg4B,EAAO1tC,aAAc0tC,EAAOylD,UAG7B1iG,GAAIgkI,EAAW/yJ,QAASyqI,IAC1BotB,EAAqB1pF,WA1TZ,SAAU2mF,EAAQ9oF,GAC/B,IAAI+rF,EAAWv5J,GAAaF,QAAQ0tE,EAAO7hE,WACvCoW,EAAS,SAAUxZ,GACrB,OAAOM,GAAGN,EAAMgxJ,EAClB,EAIIlD,EAAYr2J,GAAaF,QAAQ0tE,EAAOv8B,UAAUm/B,WACtD,OAJoB,SAAUimF,GAC5B,OAAQt0I,EAAOs0I,KAAe/sJ,GAASiwJ,EAAUlD,EACnD,CAEImD,CAAcnD,GACTh8J,EAAS1B,OAEX68J,GAAea,EAAWC,EAAOE,YAAaF,EAAOQ,eAAet9J,SAAQ,WACjF,OAAO48J,GAAcr0I,EAAQs0I,EAAWC,EAC1C,GACF,CA8SMmD,CADad,IACInrF,GAAQ10E,KAAKojD,GAAO,SAAU33C,GAC7C60J,EAAc70J,EAAKg5E,SAAUljF,EAASJ,KAAKsK,EAAKgE,MAClD,IAEJ,GAAG,IACHilE,EAAOloC,GAAG,QAAQ,WAChBkoC,EAAOloC,GAAG,SAAU4W,GACpBsxB,EAAOloC,GAAG,kEAAmEizH,GAC7E/qF,EAAOloC,GAAG,+BAAgC+zH,EAAqB1pF,UAC/DnC,EAAOloC,GAAG6sH,GAAyBj2G,GACnCsxB,EAAOloC,GAtxBmB,uBAsxBS,SAAUttC,GAC3C,IAAIs+J,EAASqC,IACb36J,GAAMs4J,EAAOU,YAAah/J,EAAE0hK,YAAYhgK,MAAK,SAAUg3G,GACrD0oD,EAAc,CAAC1oD,GAAM9xG,GAAO5G,EAAE2L,SAAW6pE,EAAQx1E,EAAE2L,SACnDmkE,GAAWkB,WAAWurF,GAAY76J,KAAK0gE,GAAO1L,QAChD,GACF,IACA8e,EAAOloC,GAAG,YAAY,SAAU+/F,GAC9Bn7D,GAAS6vE,iBAAiBvsE,GAAQ,WAC5BhqE,GAAO83C,EAAK95C,SAASvI,UAAYuK,GAAO+wJ,EAAW/yJ,SAASvI,UAC9DijD,GAEJ,GAAG,EACL,IACAsxB,EAAOloC,GAAG,cAAc,WAClBkoC,EAAOhlC,KAAK02C,cACdhjC,GAEJ,IACAsxB,EAAOloC,GAAG,sBAAsB,SAAU/0B,GACpCA,EAAM4gB,MACR+qB,IACSsxB,EAAO1tC,YAChBu5H,EAAqB1pF,UAEzB,IACAnC,EAAOloC,GAAG,cAAc,SAAU+/F,GAChC7hI,GAAO+wJ,EAAW/yJ,SAAS1I,KAAKugK,EAAqB1pF,SAAUl6E,EACjE,GACF,GACF,EA4CIsvD,GAAQ,CACV40G,kBAAmB,CACjB,KACA,KACA,MACA,KACA,KACA,MACA,KACA,MACA,KACA,KACA,KACA,KACA,OACA,OACA,KACA,KACA,IACA,KACA,KACA,KACA,MAEF74H,MAAO,CACL,KACA,MAEFD,SAAU,CAAC,KACXtuB,MAAO,CAAC,KAENqnJ,IAGEvU,GAAe,kBAEfhvI,GAAM,SAAUsC,GAClB,MAAO,MAAQA,EAAQ,IACzB,EACI2sI,GAAyB,CAC3B,WACAF,YAAsB/uI,GATpB+uI,GAAgB,UASyB/uI,GAAIgvI,IAC/CwU,YAAsBxjJ,GAAIgvI,IAC1BD,GAAgB/uI,GAAIgvI,KACpBzqI,KAAK,KAEA,IAAIyoE,OAAO,aADOiiE,GACP,YAShBx9G,GAAQ,SAAUnvB,EAAOmhJ,GAE3B,OADYz/J,EAAS/B,KAAKshK,GAAQz0E,KAAKxsE,IAC1Bhf,MAAK,SAAUsB,GAC1B,IAAIpH,EAAQoP,OAAOhI,EAAM,IACrB8+J,EAAU9+J,EAAM,GACpB,OAZS,SAAUilE,EAAM45F,GAC3B,OAAOlgK,EAAOkgK,GAAU,SAAUp+J,GAChC,OAAO9B,EAAOmrD,GAAMrpD,IAAM,SAAUs+J,GAClC,OAAO95F,IAAS85F,CAClB,GACF,GACF,CAMQC,CAAOF,EAASD,GACXz/J,EAASJ,KAAK,CACnBpG,MAAOA,EACPqsE,KAAM65F,IAGD1/J,EAAS1B,MAEpB,GACF,EAQIuhK,GAAqB,SAAU1sF,EAAQ3gD,GACzC,IAAIstI,EAAe,WACjB,IAAI1nK,EAAUo6B,EAAKutI,WAAW5sF,GAC1BztD,EAAU8M,EAAK66B,WAAW8lB,GAAQ/zE,IAAIozB,EAAKwtI,MAC3C71J,EAAU2hC,KACd,OAAOhrC,EAAM1I,GAAS,SAAUoB,GAC9B,MAAO,CACLD,KAAM,iBACNkN,KAAM+rB,EAAK4jE,QAAQ58F,GACnB8rF,QAAS,SAAUvsC,GACjB,IAAIs5C,EAAY,SAAUzuD,GACpBA,IACFz5B,EAAQ8gC,IAAG,SAAUg1H,GACnB,OAAOA,EAAO5tE,WAAU,EAC1B,IACAloF,EAAQ6J,IAAI+kC,IAEdA,EAAIs5C,UAAUzuD,EAChB,EACAyuD,EAAUtuF,GAAK2hB,EAAS8M,EAAKwtI,KAAKxmK,KAClC,IAAI0mK,EAAgB1tI,EAAK2tI,QAAQhtF,EAAQ35E,EAAO64F,GAChD,OAAO,WACLloF,EAAQshC,QACRy0H,GACF,CACF,EACAntF,SAAU,WACR,OAAOvgD,EAAK4tI,WAAWjtF,EAAQ35E,EACjC,EAEJ,GACF,EACA25E,EAAOmI,GAAGC,SAAS8kF,cAAc7tI,EAAKz4B,KAAM,CAC1CknF,QAASzuD,EAAK/rB,KACdmsE,KAAMpgD,EAAKogD,KACX+G,MAAO,SAAUmW,GACf,OAAOA,EAASgwE,IAClB,EACAx6E,QAAS9yD,EAAK8tI,iBAEhBntF,EAAOmI,GAAGC,SAASyV,kBAAkBx+D,EAAKz4B,KAAM,CAC9CR,KAAM,iBACNkN,KAAM+rB,EAAK/rB,KACXwqF,gBAAiB6uE,EACjBx6E,QAAS9yD,EAAK+tI,aAElB,EACIC,GAAiB,CACnBzmK,KAAM,aACN0M,KAAM,cACNmsE,KAAM,cACNmtF,WA9/gByB,SAAU5sF,GACnC,OAAOA,EAAO8O,SAAS,qBAAsB,0BAA2B,UAAUtwD,MAAM,IAC1F,EA6/gBEquI,KAAM,SAAU1hJ,GACd,OA5DY,SAAUA,EAAOmhJ,GAC/B,OAAOhyH,GAAMnvB,EAAOmhJ,GAAUrgK,KAAI,SAAUqN,GAE1C,OADYA,EAAGjT,MAAciT,EAAGo5D,IAElC,GACF,CAuDW46F,CAAUniJ,EAAO,CACtB,QACA,WACA,UACCzf,MAAMyf,EACX,EACA83E,QAASv6F,EACTskK,QAAS,SAAUhtF,EAAQ35E,EAAOs2F,GAChC,OAAO3c,EAAOm2D,UAAUmgB,cAAc,aAAc35D,GAAU,EAAO,CAAEt2F,MAAOA,IAAS4d,MACzF,EACAi2C,WAAY,SAAU8lB,GACpB,OAAOnzE,EAAS/B,KAAKk1E,EAAOm5E,kBAAkB,cAChD,EACA8T,WAAY,SAAUjtF,EAAQ35E,GAC5B,OAAO25E,EAAOwc,YAAY,cAAc,EAAOn2F,EACjD,GAkDEknK,GAAa,SAAUvtF,GACzB0sF,GAAmB1sF,EAAQqtF,IAjDV,SAAUrtF,GAC3B,IAAIwtF,EAAc3gK,EAAS/B,KA/ghBH,SAAUk1E,GAClC,OAAOA,EAAO8O,SAAS,qBAAiBhpF,EAAW,QACrD,CA6ghBkC2nK,CAAoBztF,IACpD,OAAOwtF,EAAYvhK,KAAI,SAAUq0E,GAC/B,MAAO,CACL15E,KAAM,WACN0M,KAAM,WACNmsE,KAAM,WACNmtF,WAAYnkK,EAAW63E,GACvBusF,KAAM,SAAU1hJ,GACd,OAAO5jB,EAAY4jB,EAAMuiJ,YAAcviJ,EAAMwiJ,KAAOxiJ,EAAMwiJ,KAAO,IAAMxiJ,EAAMuiJ,UAC/E,EACAzqE,QAAS,SAAU93E,GACjB,OAAOA,EAAMmpE,KACf,EACA04E,QAAS,SAAUhtF,EAAQ35E,EAAOs2F,GAChC,OAAO3c,EAAOm2D,UAAUmgB,cAAc,OAAQ35D,GAAU,EAAO,CAC7Dt2F,MAAOA,EAAMsnK,KACbC,YAAavnK,EAAMqnK,aAClBzpJ,MACL,EACAi2C,WAAY,SAAU8lB,GACpB,IAAIztE,EAAOC,GAAaF,QAAQ0tE,EAAOv8B,UAAUm/B,WACjD,OAAOjuD,GAAUpiB,GAAM,SAAUrI,GAC/B,OAAO2C,EAASJ,KAAKvC,GAAGoC,OAAO+H,IAAalI,MAAK,SAAU0hK,GAEzD,OADclvJ,GAAOkvJ,EAAK,QACX5hK,KAAI,SAAU0hK,GAE3B,MAAO,CACLA,KAAMA,EACND,WAHe/uJ,GAAOkvJ,EAAK,iBAAiB/hK,iBAI5CwoF,MAAO,GAEX,GACF,GACF,GACF,EACA24E,WAAY,SAAUjtF,EAAQ8tF,GAC5B,OAAO9tF,EAAOwc,YAAY,QAAQ,EAAOsxE,EAC3C,EACAX,eAAgB,SAAUvnH,GACxB,IAAIo7G,EAAWtoH,KAGf,OAFAkN,EAAIs5C,UAAUlf,EAAOm2D,UAAU16H,MAAM,OAAQ,CAAC,OAAG3V,GAAW,IAC5Dk7J,EAASngJ,IAAIm/D,EAAOm2D,UAAUmgB,cAAc,OAAQ1wG,EAAIs5C,WAAW,IAC5D8hE,EAAS1oH,KAClB,EAEJ,GACF,CAGEy1H,CAAa/tF,GAAQ9zE,MAAK,SAAUmzB,GAClC,OAAOqtI,GAAmB1sF,EAAQ3gD,EACpC,GACF,EAEI2uI,GAAa,SAAUhuF,EAAQI,IA3iFb,SAAUJ,EAAQI,GACtC,IAAIrM,EAAY0jF,GAAgBz3E,EAAQI,EAAWk4E,GAAUt4E,IAC7DA,EAAOmI,GAAGC,SAASyV,kBAAkB,QAAS,CAC5CvqF,KAAM8sE,EAAUC,OAAOQ,UAAUn/D,UAAU,SAC3Co8E,gBAAiB,WACf,OAAO/pB,EAAU1iB,MAAMgmG,cAActjF,EAAUgjE,gBACjD,GAEJ,CAoiFEk3B,CAAgBjuF,EAAQI,GAh8EL,SAAUJ,EAAQI,GACrC,IAAIrM,EAAY0jF,GAAgBz3E,EAAQI,EAAW24E,GAAU/4E,IAC7DA,EAAOmI,GAAGC,SAASyV,kBAAkB,cAAe,CAClDvqF,KAAM8sE,EAAUC,OAAOQ,UAAUn/D,UAAU,SAC3Co8E,gBAAiB,WACf,OAAO/pB,EAAU1iB,MAAMgmG,cAActjF,EAAUgjE,gBACjD,GAEJ,CAy7EEm3B,CAAeluF,EAAQI,GA7sEH,SAAUJ,EAAQI,GACtC,IAAIrvB,EAAUjnD,EAAS,CAAE1D,KAAM,YAAcg6E,EAAU27D,aACnDhoE,EAAY0jF,GAAgBz3E,EAAQI,EAAWi6E,GAAQr6E,EAAQjvB,IACnEivB,EAAOmI,GAAGC,SAASyV,kBAAkB,UAAW,CAC9CvqF,KAAM,UACNwqF,gBAAiB,WACf,OAAO/pB,EAAU1iB,MAAMgmG,cAActjF,EAAUgjE,gBACjD,GAEJ,CAqsEEo3B,CAAgBnuF,EAAQI,GA3wEH,SAAUJ,EAAQI,GACvC,IAAIrM,EAAY0jF,GAAgBz3E,EAAQI,EAAW+5E,GAAUn6E,IAC7DA,EAAOmI,GAAGC,SAASyV,kBAAkB,eAAgB,CACnDvqF,KAAM,SACNwqF,gBAAiB,WACf,OAAO/pB,EAAU1iB,MAAMgmG,cAActjF,EAAUgjE,gBACjD,GAEJ,CAowEEq3B,CAAiBpuF,EAAQI,GAr1EF,SAAUJ,EAAQI,GACzC,IAAIrM,EAAY0jF,GAAgBz3E,EAAQI,EAAWu5E,GAAU35E,IAC7DA,EAAOmI,GAAGC,SAASyV,kBAAkB,YAAa,CAChDvqF,KAAM,aACNwqF,gBAAiB,WACf,OAAO/pB,EAAU1iB,MAAMgmG,cAActjF,EAAUgjE,gBACjD,GAEJ,CA80EEs3B,CAAmBruF,EAAQI,EAC7B,EAEIkuF,GAAsB,SAAUtuF,GAClC,OAAOw2E,GAAax2E,EAAQ,cAAc,SAAUp6B,GAClDA,EAAIu5C,aAAanf,EAAOuuF,kBAAkB,WAC5C,GACF,EAcIC,GAAa,SAAUxuF,IAbH,SAAUA,GAChCA,EAAOmI,GAAGC,SAASqmF,UAAU,UAAW,CACtC3gF,QAAS,kBACTrO,KAAM,UACN0S,QAASm8E,GAAoBtuF,GAC7BJ,SAAUk3E,GAAoB92E,EAAQ,aAExCA,EAAOmI,GAAGC,SAASqmF,UAAU,SAAU,CACrC3gF,QAAS,kBACTrO,KAAM,SACNG,SAAUk3E,GAAoB92E,EAAQ,WAE1C,CAEE0uF,CAAkB1uF,EACpB,EAEI2uF,GAAuB,SAAU3uF,EAAQw1D,GAC3C,OAAO,WACLx1D,EAAOwc,YAAY,mBAAmB,EAAOg5C,EAC/C,CACF,EA4HIo5B,GAAoB,SAAU5uF,IA3HN,SAAUA,GACpComC,GAASl6G,KAAK,CACZ,CACEtF,KAAM,OACN0M,KAAM,OACNmsE,KAAM,QAER,CACE74E,KAAM,SACN0M,KAAM,SACNmsE,KAAM,UAER,CACE74E,KAAM,YACN0M,KAAM,YACNmsE,KAAM,aAER,CACE74E,KAAM,gBACN0M,KAAM,gBACNmsE,KAAM,kBAER,CACE74E,KAAM,YACN0M,KAAM,YACNmsE,KAAM,aAER,CACE74E,KAAM,cACN0M,KAAM,cACNmsE,KAAM,iBAEP,SAAU+7E,EAAKqT,GAChB7uF,EAAOmI,GAAGC,SAAS0mF,gBAAgBtT,EAAI50J,KAAM,CAC3CknF,QAAS0tE,EAAIloJ,KACbmsE,KAAM+7E,EAAI/7E,KACV0S,QAASgkE,GAAoBn2E,EAAQw7E,EAAI50J,MACzCg5E,SAAU+uF,GAAqB3uF,EAAQw7E,EAAI50J,OAE/C,IACA,IAAK,IAAIkB,EAAI,EAAGA,GAAK,EAAGA,IAAK,CAC3B,IAAIinK,EAAS,IAAMjnK,EACnBk4E,EAAOmI,GAAGC,SAAS0mF,gBAAgBC,EAAQ,CACzCz7J,KAAMy7J,EAAO33E,cACbtJ,QAAS,WAAahmF,EACtBqqF,QAASgkE,GAAoBn2E,EAAQ+uF,GACrCnvF,SAAU+uF,GAAqB3uF,EAAQ+uF,IAE3C,CACF,CA2EEC,CAAsBhvF,GA1EK,SAAUA,GACrComC,GAASl6G,KAAK,CACZ,CACEtF,KAAM,MACN0M,KAAM,MACNgmB,OAAQ,MACRmmD,KAAM,OAER,CACE74E,KAAM,OACN0M,KAAM,OACNgmB,OAAQ,OACRmmD,KAAM,QAER,CACE74E,KAAM,QACN0M,KAAM,QACNgmB,OAAQ,QACRmmD,KAAM,SAER,CACE74E,KAAM,OACN0M,KAAM,OACNgmB,OAAQ,UACRmmD,KAAM,QAER,CACE74E,KAAM,YACN0M,KAAM,aACNgmB,OAAQ,YACRmmD,KAAM,cAER,CACE74E,KAAM,cACN0M,KAAM,eACNgmB,OAAQ,iBACRmmD,KAAM,gBAER,CACE74E,KAAM,eACN0M,KAAM,mBACNgmB,OAAQ,eACRmmD,KAAM,qBAER,CACE74E,KAAM,SACN0M,KAAM,SACNgmB,OAAQ,SACRmmD,KAAM,YAEP,SAAU+7E,GACXx7E,EAAOmI,GAAGC,SAASqmF,UAAUjT,EAAI50J,KAAM,CACrCknF,QAAS0tE,EAAIloJ,KACbmsE,KAAM+7E,EAAI/7E,KACVG,SAAUk3E,GAAoB92E,EAAQw7E,EAAIliI,SAE9C,GACF,CAkBE21I,CAAuBjvF,GAjBU,SAAUA,GAC3ComC,GAASl6G,KAAK,CAAC,CACXtF,KAAM,aACN0M,KAAM,aACNgmB,OAAQ,gBACRmmD,KAAM,WACJ,SAAU+7E,GACdx7E,EAAOmI,GAAGC,SAAS0mF,gBAAgBtT,EAAI50J,KAAM,CAC3CknF,QAAS0tE,EAAIloJ,KACbmsE,KAAM+7E,EAAI/7E,KACVG,SAAUk3E,GAAoB92E,EAAQw7E,EAAIliI,QAC1C64D,QAASgkE,GAAoBn2E,EAAQw7E,EAAI50J,OAE7C,GACF,CAIEsoK,CAA6BlvF,EAC/B,EAqGImvF,GAAa,SAAUnvF,GACzB4uF,GAAkB5uF,GArGM,SAAUA,GAClComC,GAASl6G,KAAK,CACZ,CACEtF,KAAM,OACN0M,KAAM,OACNgmB,OAAQ,OACRmmD,KAAM,OACN6T,SAAU,UAEZ,CACE1sF,KAAM,SACN0M,KAAM,SACNgmB,OAAQ,SACRmmD,KAAM,SACN6T,SAAU,UAEZ,CACE1sF,KAAM,YACN0M,KAAM,YACNgmB,OAAQ,YACRmmD,KAAM,YACN6T,SAAU,UAEZ,CACE1sF,KAAM,gBACN0M,KAAM,gBACNgmB,OAAQ,gBACRmmD,KAAM,iBACN6T,SAAU,IAEZ,CACE1sF,KAAM,YACN0M,KAAM,YACNgmB,OAAQ,YACRmmD,KAAM,YACN6T,SAAU,IAEZ,CACE1sF,KAAM,cACN0M,KAAM,cACNgmB,OAAQ,cACRmmD,KAAM,cACN6T,SAAU,IAEZ,CACE1sF,KAAM,eACN0M,KAAM,mBACNgmB,OAAQ,eACRmmD,KAAM,oBACN6T,SAAU,IAEZ,CACE1sF,KAAM,cACN0M,KAAM,eACNgmB,OAAQ,iBACRmmD,KAAM,eACN6T,SAAU,IAEZ,CACE1sF,KAAM,MACN0M,KAAM,MACNgmB,OAAQ,MACRmmD,KAAM,MACN6T,SAAU,UAEZ,CACE1sF,KAAM,OACN0M,KAAM,OACNgmB,OAAQ,OACRmmD,KAAM,OACN6T,SAAU,UAEZ,CACE1sF,KAAM,QACN0M,KAAM,QACNgmB,OAAQ,QACRmmD,KAAM,QACN6T,SAAU,UAEZ,CACE1sF,KAAM,YACN0M,KAAM,aACNgmB,OAAQ,YACRmmD,KAAM,aACN6T,SAAU,YAEX,SAAUkoE,GACXx7E,EAAOmI,GAAGC,SAASgnF,YAAY5T,EAAI50J,KAAM,CACvC0M,KAAMkoJ,EAAIloJ,KACVmsE,KAAM+7E,EAAI/7E,KACV6T,SAAUkoE,EAAIloE,SACd1T,SAAUk3E,GAAoB92E,EAAQw7E,EAAIliI,SAE9C,IACA0mD,EAAOmI,GAAGC,SAASgnF,YAAY,aAAc,CAC3C97J,KAAM,OACNmsE,KAAM,aACNG,SAAU+uF,GAAqB3uF,EAAQ,SAE3C,CAGEqvF,CAAoBrvF,EACtB,EAEIsvF,GAAuB,SAAUtvF,EAAQ55E,GAC3C,OAAOowJ,GAAax2E,EAAQ,sDAAsD,SAAUp6B,GAC1FA,EAAIu5C,YAAYnf,EAAOhlC,KAAK02C,eAAiB1R,EAAO42E,YAAYxwJ,KAClE,GACF,EAiCImpK,GAAa,SAAUvvF,IAhCD,SAAUA,GAClCA,EAAOmI,GAAGC,SAASgnF,YAAY,OAAQ,CACrC97J,KAAM,OACNmsE,KAAM,OACN6T,SAAU,SACVnB,QAASm9E,GAAqBtvF,EAAQ,WACtCJ,SAAUk3E,GAAoB92E,EAAQ,UAExCA,EAAOmI,GAAGC,SAASgnF,YAAY,OAAQ,CACrC97J,KAAM,OACNmsE,KAAM,OACN6T,SAAU,SACVnB,QAASm9E,GAAqBtvF,EAAQ,WACtCJ,SAAUk3E,GAAoB92E,EAAQ,SAE1C,CAkBEwvF,CAAoBxvF,GAjBA,SAAUA,GAC9BA,EAAOmI,GAAGC,SAASqmF,UAAU,OAAQ,CACnC3gF,QAAS,OACTrO,KAAM,OACN7kB,UAAU,EACVu3B,QAASm9E,GAAqBtvF,EAAQ,WACtCJ,SAAUk3E,GAAoB92E,EAAQ,UAExCA,EAAOmI,GAAGC,SAASqmF,UAAU,OAAQ,CACnC3gF,QAAS,OACTrO,KAAM,OACN7kB,UAAU,EACVu3B,QAASm9E,GAAqBtvF,EAAQ,WACtCJ,SAAUk3E,GAAoB92E,EAAQ,SAE1C,CAGEyvF,CAAgBzvF,EAClB,EAEI0vF,GAAwB,SAAU1vF,GACpC,OAAOw2E,GAAax2E,EAAQ,aAAa,SAAUp6B,GACjDA,EAAIs5C,UAAUlf,EAAO2vF,UACvB,GACF,EAeItnE,GAAW,SAAUroB,IAPG,SAAUA,GACpCA,EAAOmI,GAAGC,SAASqmF,UAAU,YAAa,CACxC3gF,QAAS,cACTx6E,KAAM,cACNssE,SAAUk3E,GAAoB92E,EAAQ,uBAE1C,CAEE4vF,CAAsB5vF,GAfA,SAAUA,GAChCA,EAAOmI,GAAGC,SAASynF,kBAAkB,YAAa,CAChDv8J,KAAM,cACN6+E,QAASu9E,GAAsB1vF,GAC/BJ,SAAUk3E,GAAoB92E,EAAQ,uBAE1C,CAUE8vF,CAAkB9vF,EACpB,EAEI+vF,GAAU,SAAU/vF,EAAQI,IAlkBf,SAAUJ,GA2BzBpyE,EA1B0B,CACxB,CACEhH,KAAM,YACN0M,KAAM,aACN08J,IAAK,cACLvwF,KAAM,cAER,CACE74E,KAAM,cACN0M,KAAM,eACN08J,IAAK,gBACLvwF,KAAM,gBAER,CACE74E,KAAM,aACN0M,KAAM,cACN08J,IAAK,eACLvwF,KAAM,eAER,CACE74E,KAAM,eACN0M,KAAM,UACN08J,IAAK,cACLvwF,KAAM,mBAGkB,SAAUz/D,GACpCggE,EAAOmI,GAAGC,SAAS0mF,gBAAgB9uJ,EAAKpZ,KAAM,CAC5CknF,QAAS9tE,EAAK1M,KACdmsE,KAAMz/D,EAAKy/D,KACXG,SAAUk3E,GAAoB92E,EAAQhgE,EAAKgwJ,KAC3C79E,QAASgkE,GAAoBn2E,EAAQhgE,EAAKpZ,OAE9C,IACAo5E,EAAOmI,GAAGC,SAASqmF,UAAU,YAAa,CACxC3gF,QAAS,eACTrO,KAAM,aACNG,SAAUk3E,GAAoB92E,EAAQ,gBAE1C,CA2hBEiwF,CAAWjwF,GACXmvF,GAAWnvF,GACXguF,GAAWhuF,EAAQI,GACnBmvF,GAAWvvF,GA1ofI,SAAUA,IAlLJ,SAAUA,GAC/BA,EAAOihF,WAAW,qBAAqB,SAAU9kE,EAAQ91F,IAfzC,SAAU25E,EAAQmc,EAAQ91F,GAC1C25E,EAAO42E,YAAYC,UAAS,WAC1B72E,EAAO3tC,QACP2tC,EAAOm2D,UAAU3tI,MAAM2zF,EAAQ,CAAE91F,MAAOA,IACxC25E,EAAO0kF,aACT,GACF,CAUIwL,CAAYlwF,EAAQmc,EAAQ91F,EAC9B,IACA25E,EAAOihF,WAAW,sBAAsB,SAAU9kE,IAXjC,SAAUnc,EAAQmc,GACnCnc,EAAO42E,YAAYC,UAAS,WAC1B72E,EAAO3tC,QACP2tC,EAAOm2D,UAAUrzG,OAAOq5D,EAAQ,CAAE91F,MAAO,MAAQ,MAAM,GACvD25E,EAAO0kF,aACT,GACF,CAMIyL,CAAanwF,EAAQmc,EACvB,GACF,CA4KEi0E,CAAiBpwF,GACjB,IAAIqwF,EAAgB/9I,GAAKopE,IACrB40E,EAAgBh+I,GAAKopE,IACzBsB,GAAwBhd,EAAQ,YAAa,YAAa,aAAcqwF,GACxErzE,GAAwBhd,EAAQ,YAAa,cAAe,mBAAoBswF,GAChF1yE,GAA0B5d,EAAQ,YAAa,YAAa,cAC5D4d,GAA0B5d,EAAQ,YAAa,cAAe,mBAChE,CAmofEuwF,CAAWvwF,GACXqoB,GAASroB,GACTwuF,GAAWxuF,GACXutF,GAAWvtF,EACb,EAEIhrE,GAAK,SAAU1O,EAAGoN,GACpB,MAAO,CACLtN,KAAM,YACNE,EAAGA,EACHoN,EAAGA,EAEP,EAII88J,GAAe,SAAUhmK,GAC3B,MAAkB,cAAXA,EAAEpE,MAAoD,IAA5BoE,EAAEpE,KAAKqE,QAAQ,QAClD,EAiBIgmK,GAAgC,SAAUz8J,EAASugC,GACrD,IAAIm8H,EAAe/hF,GAASM,IAAI0hF,OAAO38J,GACvC,OAxBc,SAAUugC,EAAKq8H,EAAIC,GACjC,OAAO77J,GAAGu/B,EAAIjuC,EAAIsqK,EAAIr8H,EAAI7gC,EAAIm9J,EAChC,CAsBSC,CAAUv8H,EAAKm8H,EAAapqK,EAAGoqK,EAAah9J,EACrD,EACIq9J,GAAiB,SAAU/wF,EAAQx1E,GACrC,MAAe,gBAAXA,EAAEpE,MAAqC,cAAXoE,EAAEpE,KAC5B45E,EAAOwQ,OAtBE,SAAUhmF,GACzB,GAAIgmK,GAAahmK,GAAI,CACnB,IAAIu6F,EAAQv6F,EAAEk6F,QAAQ,GACtB,OAAO1vF,GAAG+vF,EAAMisE,MAAOjsE,EAAMksE,MAC/B,CACE,OAAOj8J,GAAGxK,EAAEwmK,MAAOxmK,EAAEymK,MAEzB,CAgBaC,CAAW1mK,GAEXimK,GAA8BzwF,EAAOkB,0BAjB/B,SAAU12E,GAC3B,GAAIgmK,GAAahmK,GAAI,CACnB,IAAIu6F,EAAQv6F,EAAEk6F,QAAQ,GACtB,OAAO1vF,GAAG+vF,EAAMthF,QAASshF,EAAMrhF,QACjC,CACE,OAAO1O,GAAGxK,EAAEiZ,QAASjZ,EAAEkZ,QAE3B,CAU6EytJ,CAAa3mK,IAG/E4mK,GAAmBpxF,EAE9B,EACIoxF,GAAqB,SAAUpxF,GACjC,MAAO,CACL55E,KAAM,YACNmsC,KAAM//B,GAAaF,QAAQ0tE,EAAOv8B,UAAUm/B,WAEhD,EAQIyuF,GAAkB,SAAUrxF,EAAQx1E,EAAG8mK,GACzC,OAAQA,GACR,IAAK,OACH,OAVgB,SAAUtxF,GAC5B,MAAO,CACL55E,KAAM,OACNmM,KAAM1F,EAASJ,KAAK+F,GAAaF,QAAQ0tE,EAAOv8B,UAAUm/B,YAC1DrwC,KAAM//B,GAAaF,QAAQ0tE,EAAO7hE,WAEtC,CAIWozJ,CAAcvxF,GACvB,IAAK,QACH,OAAO+wF,GAAe/wF,EAAQx1E,GAChC,IAAK,YACH,OAAO4mK,GAAmBpxF,GAE9B,EAEIwxF,GAAgB,SAAUxxF,EAAQx1E,EAAGinK,EAAWrxF,EAAWsxF,EAAaJ,GAC1E,IAAIjgH,EAAQogH,IACRE,EAAaN,GAAgBrxF,EAAQx1E,EAAG8mK,GAC5C5zI,GAAM2zB,EAAOs3B,GAAe6J,iBAAkBpS,GAAW,GAAOn0E,KAAI,SAAUuoJ,GAC5EhqJ,EAAE8Y,iBACFg3D,GAAWgB,WAAWo2F,EAAa,CAAErkI,OAAQskI,GAAc,CACzDjlG,KAAM,CAAEkG,QAASA,GAAQ,WACzB/5C,KAAM27H,GAEV,GACF,EAEI10G,GAAU,CACZE,MAAO,WACL,MAAO,CACL1R,GACAN,GACAE,GACAC,GACAC,GACAC,GACA/B,GACAD,GACAF,GACAF,GACAG,GACAF,GAEJ,EACAgU,MAAO,WACL,MAAO,CACL5R,GACAJ,GACAF,GACAI,GACAD,GACAE,GACA/B,GACAD,GACAD,GACAF,GACAC,GACAF,GAEJ,GAGE2lI,GAAmB,CACrB39B,aAAc,GACdC,YAAa,GACbC,UAAW,CAAC,uBACZC,WAAY,CAAC,wBACbxuH,MAAO,CAAC,kBACR7U,KAAM,CAAC,iBACP8U,OAAQ,CAAC,mBACTpE,IAAK,CAAC,iBAmDJ+sE,GAAO,SAAUxO,EAAQx1E,EAAG6mD,EAAO+uB,EAAWsxF,EAAaJ,EAAYl4F,GACzE,IAAIu4F,EAbc,SAAU3xF,EAAQx1E,EAAG8mK,GACvC,IAAIK,EAAaN,GAAgBrxF,EAAQx1E,EAAG8mK,GAE5C,OAAOxnK,EAAS,CACd2hC,OAAQgS,GAAK,EAFoB,UAAf6zH,EAlDL,GAkD2C,EAEzBM,IAC/B9xH,QAASA,GACTY,UAAW,CACTpD,iBAAkB6wG,KAClB/wG,kBAAmBR,OAEpB+0H,EACL,CAEmBE,CAAc7xF,EAAQx1E,EAAG8mK,GAC1C5zI,GAAM2zB,EAAOs3B,GAAe6J,iBAAkBpS,GAAW,GAAMn0E,KAAI,SAAUuoJ,GAC3EhqJ,EAAE8Y,iBACFg3D,GAAWK,qBAAqB+2F,EAAa,CAAErkI,OAAQskI,GAAc,CACnEjlG,KAAM,CACJkG,QAASA,GAAQ,UACjBwG,qBAAsBA,GAExBvgD,KAAM27H,EACNpuJ,KAAM,eACL,WACD,OAAOyG,EAASJ,KAAKs5J,GAAwB/lF,EAAQI,EAAUC,OAAuB,SAAfixF,EAAwB,OAAS,aAC1G,IACAtxF,EAAOsZ,KAAKqrE,GACd,GACF,EACImN,GAAc,SAAU9xF,EAAQx1E,EAAGinK,EAAWrxF,EAAWsxF,EAAaJ,GACxE,IAAI5R,EAAY9kJ,KACZxC,EAAQsnJ,EAAUhmJ,GAAGtB,QACrBE,EAAQonJ,EAAUhmJ,GAAGpB,QACrBD,EAAYqnJ,EAAUhmJ,GAAGrB,YACzB2B,EAAU0lJ,EAAU9lJ,WAAWI,UAI/Bu0C,EAAO,WACT,IAAI8C,EAAQogH,IACZjjF,GAAKxO,EAAQx1E,EAAG6mD,EAAO+uB,EAAWsxF,EAAaJ,IAJtCj5J,GAAaD,GAASE,GAAS0B,GAK1C,EACA,IAAK1B,GAASF,IAAyB,SAAfk5J,EAAuB,CAC7C,IAAIS,EAAY,YAnEI,SAAU/xF,GAChC,IAAIgyF,EAAoBhyF,EAAOv8B,UAAUmiC,SACrCqsF,EAAiB,WACnBv1F,GAAS6vE,iBAAiBvsE,GAAQ,WAChCA,EAAOv8B,UAAUyuH,OAAOF,EAC1B,GAAG,IACHG,GACF,EACAnyF,EAAOu2E,KAAK,WAAY0b,GACxB,IAAIG,EAAmB,SAAU5nK,GAC/BA,EAAE8Y,iBACF9Y,EAAEw6E,0BACJ,EACAhF,EAAOloC,GAAG,YAAas6H,GAAkB,GACzC,IAAIC,EAAsB,WACxB,OAAOF,GACT,EACAnyF,EAAOu2E,KAAK,kBAAmB8b,GAC/B,IAAIF,EAAuB,WACzBnyF,EAAOhoC,IAAI,WAAYi6H,GACvBjyF,EAAOhoC,IAAI,kBAAmBq6H,GAC9BryF,EAAOhoC,IAAI,YAAao6H,EAC1B,CACF,CA6CME,CAAkBtyF,GAClBzxB,GACF,GAnFyB,SAAUyxB,EAAQx1E,GAC7C,IAAIi5C,EAAYu8B,EAAOv8B,UACvB,GAAIA,EAAUukG,eAAiBx9I,EAAEk6F,QAAQ18F,OAAS,EAChD,OAAO,EAEP,IAAIuqK,EAAU/nK,EAAEk6F,QAAQ,GACpBhhD,EAAMD,EAAUmiC,SAEpB,OADiBp+B,GAAaw4B,EAAOx8B,SAAUH,GAAaF,SAASO,IACnDt3C,QAAO,SAAUomK,GACjC,OAAOA,EAAQzhK,MAAQwhK,EAAQ9uJ,SAAW+uJ,EAAQ5sJ,OAAS2sJ,EAAQ9uJ,SAAW+uJ,EAAQ/wJ,KAAO8wJ,EAAQ7uJ,SAAW8uJ,EAAQ3sJ,QAAU0sJ,EAAQ7uJ,OAC5I,GAEJ,CAwEQ+uJ,CAAuBzyF,EAAQx1E,IAGjCw1E,EAAOu2E,KAAK,kBAAmBwb,GAC/B/xF,EAAOu2E,KAAK,YAAY,WACtB,OAAOv2E,EAAOhoC,IAAI,kBAAmB+5H,EACvC,KALAA,GAOJ,MACExjH,GAEJ,EAEImkH,GAAkB,SAAUhvI,GAC9B,MAAyB,iBAAXA,EAAsBA,EAAOlF,MAAM,QAAUkF,CAC7D,EACIivI,GAAuB,SAAU3yF,GACnC,OAAOA,EAAO8O,SAAS,gCAAgC,EAAO,UAChE,EAYI8jF,GAAiB,SAAU5yF,GAC7B,OAZiB,SAAUA,EAAQp5E,EAAMisK,GACzC,IAAIC,EAAe9yF,EAAOmI,GAAGC,SAASC,SAASyqF,aAC/C,OAAOjmK,EAAS/B,KAAKk1E,EAAO8O,SAASloF,IAAOqF,IAAIymK,IAAiB/mK,YAAW,WAC1E,OAAOqC,EAAS0kK,GAAgBG,IAAe,SAAU7yJ,GACvD,OAAOtP,GAAMoiK,EAAc9yJ,EAC7B,GACF,GACF,CAKS2sJ,CAAa3sF,EAAQ,cAAe,6EAC7C,EAKImK,GAAc,SAAUnqE,GAC1B,OAAO9Y,EAAS8Y,GAAiB,MAATA,EAA6B,cAAdA,EAAK5Z,IAC9C,EACIksE,GAAY,CAAElsE,KAAM,aACpB2sK,GAAkB,SAAU/yJ,GAC9B,IAj03BoB5W,EAi03BhB4pK,EAAiB,SAAUhzJ,GAC7B,MAAO,CACL1M,KAAM0M,EAAK1M,KACXmsE,KAAMz/D,EAAKy/D,KACX7kB,SAAU56C,EAAK46C,SACf04B,SAAUtzE,EAAKszE,SAEnB,EACA,GAAIpsF,EAAS8Y,GACX,OAAOA,EAEP,OAAQA,EAAK5Z,MACb,IAAK,YACH,OAAOksE,GACT,IAAK,UACH,OAAOxoE,EAASA,EAAS,CAAE1D,KAAM,kBAAoB4sK,EAAehzJ,IAAQ,CAC1E89E,gBAAiB,WACf,IAAIzsC,EAAQrxC,EAAK89E,kBACjB,OAAI52F,EAASmqD,GACJA,EAEA1jD,EAAM0jD,EAAO0hH,GAExB,IAEJ,QACE,OAAOjpK,EAASA,EAAS,CAAE1D,KAAM,YAAc4sK,EAAehzJ,IAAQ,CAAE4/D,UA313BxDx2E,EA213BwE4W,EAAK4/D,SA113B1F,WACL,OAAOx2E,GACT,KA213BF,EACI6pK,GAAsB,SAAU7lK,EAAI8lK,GACtC,GAA0B,IAAtBA,EAAWlrK,OACb,OAAOoF,EAET,IAAI+lK,EAAe9jK,GAAOjC,GAAId,QAAO,SAAU0T,GAC7C,OAAQmqE,GAAYnqE,EACtB,IACI8iC,EAASqwH,EAAa7nK,MAAK,WAC7B,MAAO,EACT,IAAG,SAAU8c,GACX,MAAO,CAACkqD,GACV,IACA,OAAOllE,EAAGlE,OAAO45C,GAAQ55C,OAAOgqK,GAAYhqK,OAAO,CAACopE,IACtD,EAyBI8gG,GAAwB,SAAUpzF,EAAQx1E,GAC5C,MAAkB,cAAXA,EAAEpE,OAAsC,IAAboE,EAAEwxH,QAAgBxxH,EAAE2L,SAAW6pE,EAAO7hE,WAA+B,KAAlB3T,EAAE6oK,YACzF,EACIC,GAAqB,SAAUtzF,EAAQx1E,GACzC,OAAO4oK,GAAsBpzF,EAAQx1E,GAAKw1E,EAAOv8B,UAAUQ,UAAS,GAAQz5C,EAAE2L,MAChF,EAYIo9J,GAAU,SAAUvzF,EAAQtF,EAAU0F,GACxC,IACIpmE,EADYY,KACQhB,WAAWI,QAC/B03J,EAAc3qI,GAAQuzC,GAAWtlB,OAAO,CAC1C7iD,IAAK,CAAEiB,IAAK,OACZsnE,SAAUA,EACVhY,SAAU,WACR,OAAOsd,EAAO3tC,OAChB,EACAupC,OAAQ,WACN,OAAOwE,EAAU67D,qBAAoB,EACvC,EACApgE,OAAQ,WACN,OAAOuE,EAAU67D,qBAAoB,EACvC,EACAngE,0BAA2B,CAAC,EAC5BL,iBAAkBpqC,GAAS,CAAC3N,GAAO,qBAAsB,CAACtK,GAAMpB,MAAoB,SAAU4G,EAAMgyB,GAC9FxB,GAAWV,MAAM9vB,GACjBohD,EAAO3tC,OACT,WAEFmhI,EAAkB,SAAU37B,GAC9B,OAAOv9D,GAAWiB,KAAKm2F,EACzB,EACI+B,EAAkB,SAAUjpK,GAI9B,GAHImoK,GAAqB3yF,IACvBx1E,EAAE8Y,kBA9CuB,SAAU08D,EAAQx1E,GAC/C,OAAOA,EAAEi1D,UAAYkzG,GAAqB3yF,EAC5C,CA8CQ0zF,CAAyB1zF,EAAQx1E,KAhIb,SAAUw1E,GACpC,OAA0C,IAAnCA,EAAO8O,SAAS,cACzB,CA8H+C6kF,CAAsB3zF,GAAjE,CAGA,IAAIsxF,EA1CY,SAAUtxF,EAAQx1E,GACpC,IAAIsQ,EApFwB,SAAUklE,GACtC,OAAOA,EAAO8O,SAAS,4BAA6B,GAAI,SAC1D,CAkFiB8kF,CAAwB5zF,GACnCsxF,EAAa8B,GAAsBpzF,EAAQx1E,GAAK,YAAc,QAClE,GAAIyH,GAAW6I,GAAW,CACxB,IAAI3E,EAASm9J,GAAmBtzF,EAAQx1E,GAExC,OADqB45F,GAAQ5xF,GAAaF,QAAQ6D,GAAS2E,GACnC,OAASw2J,CACnC,CACE,OAAOA,CAEX,CAgCqBuC,CAAc7zF,EAAQx1E,IAOnBwP,IAAY83J,GAAcN,IAChCxxF,EAAQx1E,GAPN,WACd,IAAIspK,EAAkBR,GAAmBtzF,EAAQx1E,GAC7C49E,EAAWpI,EAAOmI,GAAGC,SAASC,SAC9Bld,EAAaynG,GAAe5yF,GAChC,OA7EoB,SAAU8yF,EAAc3nG,EAAY2oG,GAC5D,IAAIC,EAAW3lK,EAAM+8D,GAAY,SAAUj9D,EAAKtH,GAC9C,OAAO4J,GAAMsiK,EAAclsK,EAAKsN,eAAejI,KAAI,SAAUygE,GAC3D,IAAIrb,EAAQqb,EAAKtb,OAAO0iH,GACxB,GAAI5sK,EAASmqD,GACX,OAAO4hH,GAAoB/kK,EAAKmjD,EAAM7yB,MAAM,MACvC,GAAI6yB,EAAMrpD,OAAS,EAAG,CAC3B,IAAIgsK,EAAWrmK,EAAM0jD,EAAO0hH,IAC5B,OAAOE,GAAoB/kK,EAAK8lK,EAClC,CACE,OAAO9lK,CAEX,IAAGvC,YAAW,WACZ,OAAOuC,EAAIhF,OAAO,CAACtC,GACrB,GACF,GAAG,IAIH,OAHImtK,EAAS/rK,OAAS,GAAKmiF,GAAY4pF,EAASA,EAAS/rK,OAAS,KAChE+rK,EAASh5E,MAEJg5E,CACT,CAyDaE,CAAoB7rF,EAAS0qF,aAAc3nG,EAAY2oG,EAChE,GAEoC1zF,EAAWsxF,EAAaJ,EAT5D,CAUF,EACAtxF,EAAOloC,GAAG,QAAQ,WAChB,IAAIo8H,EAAa,2DAA6Dl6J,IAAY,GAAK,iBAC/FgmE,EAAOloC,GAAGo8H,EAAYV,GACtBxzF,EAAOloC,GAAG,wBAAyB27H,EACrC,GACF,EAEI9gJ,GAAMH,GAAa,CACrB,CACExV,OAAQ,CACN,IACA,MAGJ,CACE8jC,SAAU,CACR,IACA,MAGJ,CACExN,MAAO,CACL,IACA,QAIF6gI,GAAW,SAAU59I,GACvB,OAAO,SAAUwqB,GACf,OAAOA,EAAMr/B,WAAW6U,EAAOxlB,MAAOwlB,EAAO9U,IAC/C,CACF,EACIxb,GAAM,SAAUswB,GAClB,OAAO,SAAUwqB,GACf,OAAOA,EAAMr/B,UAAU6U,EAAOxlB,KAAMwlB,EAAO9U,IAC7C,CACF,EACIgT,GAAY,SAAU2/I,GACxB,OAAO,SAAU9tK,EAAGoN,GAClB,OAAOtF,EAAMgmK,GAAS,SAAUxtJ,EAAMxd,GACpC,OAAOA,EAAEwd,EACX,GAAGjF,GAAcrb,EAAGoN,GACtB,CACF,EACI2gK,GAAU,SAAUC,EAAOtuJ,EAAQkuB,GACrC,OAAOogI,EAAMhpK,KAAKmpB,GAAU,CAC1BxuB,GAAIiuC,GACJigI,GAASnuJ,KACPyO,GAAU,CAAC0/I,GAASnuJ,KAAWyO,GAAU,IAC/C,EACI8/I,GAAa,SAAUD,EAAOtuJ,EAAQkuB,GACxC,OAAOogI,EAAMhpK,KAAKmpB,GAAU,CAACxuB,GAAIiuC,KAAWzf,GAAU,IAAKA,GAAU,CAACxuB,GAAI+f,KAC5E,EACIwuJ,GAAW,SAAUF,EAAOtuJ,EAAQkuB,GACtC,OAAOogI,EAAMhpK,KAAKmpB,GAAU,IAAKA,GAAU,CAAC0/I,GAASjgI,KAAWzf,GAAU,CACxExuB,GAAI+f,GACJmuJ,GAASjgI,KAEb,EAaIugI,GAAW,SAAUH,EAAOtuJ,EAAQkuB,GACtC,IAAIwgI,EAAYJ,EAAMhpK,MAAK,SAAUhF,EAAGoN,GACtC,MAAO,CACLmU,SAAUhb,EAASJ,KAAK,YACxBsE,KAAMlE,EAASJ,KAAKnG,EAAI,MACxBmb,IAAK5U,EAASJ,KAAKiH,EAAI,MAE3B,IAAG,SAAUpN,EAAGoN,GACd,MAAO,CACLmU,SAAUhb,EAASJ,KAAK,YACxBsE,KAAMlE,EAASJ,KAAKnG,EAAI4tC,EAAOnjC,KAAO,MACtC0Q,IAAK5U,EAASJ,KAAKiH,EAAIwgC,EAAOzyB,IAAM,MAExC,IAAG,SAAUnb,EAAGoN,GACd,MAAO,CACLmU,SAAUhb,EAASJ,KAAK,SACxBsE,KAAMlE,EAASJ,KAAKnG,EAAI,MACxBmb,IAAK5U,EAASJ,KAAKiH,EAAI,MAE3B,IACA,OAAO5J,EAAS,CACd8b,MAAO/Y,EAAS1B,OAChB0a,OAAQhZ,EAAS1B,QAChBupK,EACL,EAUIC,GAAS,SAAUC,EAAcC,EAAe7uJ,EAAQkuB,GAC1D,IAAI4gI,EAAY,SAAUC,EAAS//J,GACjC,OAAO,SAAUggK,EAAMC,GACrB,IAAI75I,EAAW25I,EAAQF,EAAe7uJ,EAAQkuB,GAC9C,OAAOl/B,EAAGggK,EAAKtpK,MAAM0vB,EAASrqB,MAAOkkK,EAAKvpK,MAAM0vB,EAAS3Z,KAC3D,CACF,EACA,OAAOmzJ,EAAatpK,KAAKwpK,EAAUN,GAAUx3J,IAAS83J,EAAUP,GAAYzzH,IAAWg0H,EAAUT,GAAS/gI,IAC5G,EACIt2B,GAAS2V,GAAI3V,OACb8jC,GAAWnuB,GAAImuB,SACfxN,GAAQ3gB,GAAI2gB,MAEZ4hI,GAAiB,SAAUlhK,EAASpN,GACtC,IAAIP,EAAQoY,GAAMzK,EAASpN,GAC3B,OAAOW,EAAYlB,GAAS8uK,IAAM57J,SAASlT,EAAO,GACpD,EAkBI+uK,GAAY,SAAUvgJ,EAAWwgJ,EAAUf,EAAOpnI,GACpD,OAlBQ,SAAUrY,EAAWygJ,GAC7B,IAAIthK,EAAU6gB,EAAU7gB,QACpB1N,EAAI4uK,GAAelhK,EAASshK,EAAUC,UACtC7hK,EAAIwhK,GAAelhK,EAASshK,EAAUE,SAC1C,OAAO50J,MAAMta,IAAMsa,MAAMlN,GAAK7G,EAAS1B,OAAS0B,EAASJ,KAAKkV,GAAcrb,EAAGoN,GACjF,CAaS6M,CAAIsU,EAAWwgJ,GAAU/pK,MAAK,WACnC,OAAOgpK,CACT,IAAG,SAAU1/H,GACX,OAAOtB,GAAMsB,EAAQ7jC,KAAOm8B,EAAMn8B,KAAM6jC,EAAQnzB,IAAMyrB,EAAMzrB,IAC9D,GACF,EACIg0J,GAAa,SAAU5gJ,EAAWwgJ,EAAUf,EAAOpnI,EAAOlnB,EAAQkuB,GACpE,IAAIwhI,EAAWN,GAAUvgJ,EAAWwgJ,EAAUf,EAAOpnI,GACjDirE,EAAOk9D,EAASM,SAAWC,GAAgB/gJ,EAAWwgJ,EAAUK,EAAU1vJ,EAAQkuB,GAAU2hI,GAAShhJ,EAAWwgJ,EAAUK,EAAU1vJ,EAAQkuB,GAC5I4hI,EAAazB,GAAQqB,EAAU1vJ,EAAQkuB,GAE3C,OAvBQ,SAAUrf,EAAWygJ,EAAWzb,GACxC,IAAI7lJ,EAAU6gB,EAAU7gB,QACxBsK,GAAMtK,EAASshK,EAAUC,SAAU1b,EAAG9oJ,KAAO,MAC7CuN,GAAMtK,EAASshK,EAAUE,QAAS3b,EAAGp4I,IAAM,KAC7C,CAkBEZ,CAAIgU,EAAWwgJ,EAAUS,GAClB39D,EAAK7sG,MAAK,WACf,MAAO,CACLgpK,MAAOhhI,GAAMwiI,EAAW/kK,KAAM+kK,EAAWr0J,KACzCyL,MAAOrgB,EAAS1B,OAEpB,IAAG,SAAU4qK,GACX,MAAO,CACLzB,MAAOyB,EAAQvyI,OACftW,MAAO6oJ,EAAQ7oJ,MAEnB,GACF,EACI8oJ,GAAW,SAAUnhJ,EAAWwgJ,IA9BxB,SAAUxgJ,EAAWygJ,GAC/B,IAAIthK,EAAU6gB,EAAU7gB,QACxB8K,GAAS9K,EAASshK,EAAUC,UAC5Bz2J,GAAS9K,EAASshK,EAAUE,QAC9B,CA2BEl9H,CAAMzjB,EAAWwgJ,EACnB,EACIY,GAAmB,SAAUC,EAAOR,EAAU1vJ,EAAQkuB,GACxD,OAAO5kC,GAAQ4mK,GAAO,SAAU/9D,GAC9B,IAAIg+D,EAASh+D,EAAKg+D,OACdC,EA9GU,SAAUC,EAAQC,EAAQz+D,EAAQC,EAAQ9xF,EAAQkuB,GAClE,IAAIrlC,EAAK0lK,GAAW8B,EAAQrwJ,EAAQkuB,GAChCplC,EAAKylK,GAAW+B,EAAQtwJ,EAAQkuB,GACpC,OAAO7tB,KAAK0mE,IAAIl+E,EAAGkC,KAAOjC,EAAGiC,OAAS8mG,GAAUxxF,KAAK0mE,IAAIl+E,EAAG4S,IAAM3S,EAAG2S,MAAQq2F,CAC/E,CA0GkBy+D,CAAYb,EAAUS,EAAQh+D,EAAKj0D,MAAMnzC,KAAMonG,EAAKj0D,MAAMziC,IAAKuE,EAAQkuB,GACrF,OAAOkiI,EAAUvpK,EAASJ,KAAK,CAC7B+2B,OAAQmxI,GAAOx8D,EAAK30E,OAAQkyI,EAAU1vJ,EAAQkuB,GAC9ChnB,MAAOirF,EAAKjrF,QACTrgB,EAAS1B,MAChB,GACF,EACIyqK,GAAkB,SAAU/gJ,EAAWwgJ,EAAUK,EAAU1vJ,EAAQkuB,GACrE,IAAIgiI,EAAQb,EAASmB,cAAc3hJ,GAEnC,OADgBohJ,GAAiBC,EAAOR,EAAU1vJ,EAAQkuB,GACzCloC,SAAQ,WACvB,IAAIyqK,EAAWroK,EAAM8nK,GAAO,SAAUhoK,EAAKiqG,GACzC,IAAIg+D,EAASh+D,EAAKg+D,OACdO,EAtHM,SAAUL,EAAQC,EAAQz+D,EAAQC,EAAQ9xF,EAAQkuB,GAChE,IAAIrlC,EAAK0lK,GAAW8B,EAAQrwJ,EAAQkuB,GAChCplC,EAAKylK,GAAW+B,EAAQtwJ,EAAQkuB,GAChCnjC,EAAOsV,KAAK0mE,IAAIl+E,EAAGkC,KAAOjC,EAAGiC,MAC7B0Q,EAAM4E,KAAK0mE,IAAIl+E,EAAG4S,IAAM3S,EAAG2S,KAC/B,OAAOE,GAAc5Q,EAAM0Q,EAC7B,CAgHmBk1J,CAAUjB,EAAUS,EAAQh+D,EAAKj0D,MAAMnzC,KAAMonG,EAAKj0D,MAAMziC,IAAKuE,EAAQkuB,GAClF,OAAOhmC,EAAIwoK,OAAOprK,MAAK,WACrB,MAAO,CACLorK,OAAQ7pK,EAASJ,KAAKiqK,GACtBv+D,KAAMtrG,EAASJ,KAAK0rG,GAExB,IAAG,SAAUy+D,GAGX,OAFeF,EAAO3lK,KAAO2lK,EAAOj1J,KAAO,IAC5Bm1J,EAAW7lK,KAAO6lK,EAAWn1J,KAAO,EAE1C,CACLi1J,OAAQ7pK,EAASJ,KAAKiqK,GACtBv+D,KAAMtrG,EAASJ,KAAK0rG,IAGfjqG,CAEX,GACF,GAAG,CACDwoK,OAAQ7pK,EAAS1B,OACjBgtG,KAAMtrG,EAAS1B,SAEjB,OAAOsrK,EAASt+D,KAAKlsG,KAAI,SAAUksG,GACjC,MAAO,CACL30E,OAAQmxI,GAAOx8D,EAAK30E,OAAQkyI,EAAU1vJ,EAAQkuB,GAC9ChnB,MAAOirF,EAAKjrF,MAEhB,GACF,GACF,EACI2oJ,GAAW,SAAUhhJ,EAAWwgJ,EAAUK,EAAU1vJ,EAAQkuB,GAC9D,IAAIgiI,EAAQb,EAASmB,cAAc3hJ,GACnC,OAAOohJ,GAAiBC,EAAOR,EAAU1vJ,EAAQkuB,EACnD,EAoBI2iI,GAA4B9sK,OAAO+c,OAAO,CAC1CC,UAAW,KACX+vJ,OAdS,SAAUjiJ,EAAWkiJ,EAAYhvG,EAAQowC,GACpD,IAAIhiG,EAAS4gK,EAAWC,UAAUniJ,EAAU7gB,SAC5C,GAAI+iK,EAAWE,iBAAkB,CAC/B,IAAI/4J,EAAMhC,GAAQ2Y,EAAU7gB,SACxB6xJ,EAAWtgJ,GAAMrH,GACjBg5J,EAAW94B,GAAUjoI,GACrBghK,EAbO,SAAUh/D,EAAMnyF,EAAQkuB,GACrC,MAAO,CACLogI,MAAOK,GAAOx8D,EAAK30E,OAAQ20E,EAAK30E,OAAQxd,EAAQkuB,GAChDhnB,MAAOirF,EAAKjrF,MAEhB,CAQkBkqJ,CAASj/D,EAAM0tD,EAAUqR,GACnCt3I,EAAS60I,GAAS0C,EAAQ7C,MAAOzO,EAAUqR,GAC/C13J,GAAWrJ,EAAQypB,EACrB,CACF,IAOIy3I,GAAmB,uBAmBnBC,GAAY,SAAUC,EAAc70C,GACtC60C,EAAaz+I,YAAY+E,SAAS6kG,GATjB,SAAUA,GAC3BlmH,GAAOkmH,EAAQ1uH,SAAS1H,OAAO+H,IAAanI,MAAK,SAAUqmC,GACzD3yB,GAAO2yB,EAAM,WAAWrmC,MAAK,SAAUsrK,GACrCl5J,GAAMi0B,EAAM8kI,GAAkBG,EAChC,IACAn4J,GAAMkzB,EAAM,UAAW9yB,GAAMijH,EAAQ1uH,QAAS,WAChD,GACF,CAGEyjK,CAAa/0C,EACf,EACIg1C,GAAU,SAAUh1C,IAtBN,SAAUA,GAC1BlmH,GAAOkmH,EAAQ1uH,SAAS1H,OAAO+H,IAAanI,MAAK,SAAUqmC,GACzD5zB,GAAO4zB,EAAM8kI,IAAkB/rK,MAAK,WAClC,OAAO4U,GAASqyB,EAAM,UACxB,IAAG,SAAUolI,GACX,OAAOt4J,GAAMkzB,EAAM,UAAWolI,EAChC,IACA74J,GAASyzB,EAAM8kI,GACjB,GACF,CAcEO,CAAYl1C,GACZA,EAAQ5pG,YAAYgF,cAAc4kG,EACpC,EACIm1C,GAAkB,SAAUhjJ,EAAWijJ,EAAcC,GACvD,OAAOljJ,EAAUiE,YAAY4E,MAAM+qE,GAAUzzC,OAAO,CAClD7iD,IAAK,CACHytB,OAAQ,CACN,KAAQ,MACR,IAAO,MACP,MAAS,OACT,OAAU,OACV,SAAY,QACZ,UAAW,oBAEbF,QAAS,CAACo4I,IAEZ97I,OAAQ+7I,IAEZ,EAEIC,GAAapmJ,GAAY,QAAS,CACpCjB,GAAW,iBACXsa,GAAU,YACVta,GAAW,YACXA,GAAW,WACXkB,GAAU,eAAgB/P,IAC1B+P,GAAU,YAAY,KAGpBomJ,GAAW,CACbpmJ,GAAU,WAAYroB,GACtBmnB,GAAW,gBACXkB,GAAU,YAAanpB,GACvBmpB,GAAU,SAAU5pB,GACpB4pB,GAAU,oBAAoB,GAC9BA,GAAU,SAAU5pB,GACpBkqB,GAAkB,YAAarQ,IAC/Bk2J,IAGEE,GAAkB,SAAU/hK,GAC9B,OA7w3BoBjF,EA6w3BP0O,GAAOzJ,EAAQ,QA7w3BJhF,EA6w3BayO,GAAOzJ,EAAQ,OA7w3BxBgiK,EA6w3BgCv4J,GAAOzJ,EAAQ,YA7w3B3C/M,EA6w3BwD,SAAU2H,EAAM0Q,EAAKoG,GAE3G,OADsB,UAAbA,EAAuByrB,GAAQt2B,IAC9BzD,SAASxI,EAAM,IAAKwI,SAASkI,EAAK,IAC9C,EA/w3BOvQ,EAAG1F,UAAY2F,EAAG3F,UAAY2sK,EAAG3sK,SAAWqB,EAASJ,KAAKrD,EAAE8H,EAAGtF,WAAYuF,EAAGvF,WAAYusK,EAAGvsK,aAAeiB,EAAS1B,QA+w3BzHQ,YAAW,WACZ,IAAIysK,EAAWv2J,GAAW1L,GAC1B,OAAO2qC,GAASs3H,EAASrnK,KAAMqnK,EAAS32J,IAC1C,IAnx3BU,IAAUvQ,EAAIC,EAAIgnK,EAAI/uK,CAox3BlC,EAeIivK,GAAe,SAAUxjJ,EAAWyjJ,EAAUC,EAAcvyJ,EAAQkuB,EAAQhH,EAAO03D,GAYrF,OA1BgB,SAAU/vE,EAAW2jJ,EAAQxyJ,EAAQkuB,EAAQ0wD,GAC7D,IAAIp9E,EAASo9E,EAAUp9E,OACnBixJ,EAAgBlE,GAAWiE,EAAQxyJ,EAAQkuB,GAC3C4B,EAAO1I,GAAQqrI,EAAc1nK,KAAMyW,EAAOlhB,EAAGkhB,EAAOlhB,EAAIkhB,EAAO7B,MAAQi/E,EAAUj/E,OACjFowB,EAAO3I,GAAQqrI,EAAch3J,IAAK+F,EAAO9T,EAAG8T,EAAO9T,EAAI8T,EAAOpG,OAASwjF,EAAUxjF,QACjFs3J,EAAY53H,GAAShL,EAAMC,GAC/B,OAAOyiI,EAAOltK,MAAK,WACjB,IAAIqtK,EAAWnE,GAASkE,EAAW1yJ,EAAQkuB,GAC3C,OAAOl3B,GAAO27J,EAAS5nK,KAAM4nK,EAASl3J,IACxC,GAAGhZ,EAAWiwK,IAAY,WACxB,IAAI9jI,EAAUy/H,GAAQqE,EAAW1yJ,EAAQkuB,GACzC,OAAOZ,GAAMsB,EAAQ7jC,KAAM6jC,EAAQnzB,IACrC,GACF,CAaSm3J,CAAY/jJ,EAXJyjJ,EAAShtK,MAAK,WAC3B,IAzOsBgpK,EAAOvzC,EAAQC,EAyOjC63C,GAzOkBvE,EAyOKiE,EAzOEx3C,EAyOY7zF,EAAMn8B,KAzOViwH,EAyOgB9zF,EAAMzrB,IAxOtD6yJ,EAAMhpK,MAAK,SAAUhF,EAAGoN,GAC7B,OAAOsJ,GAAO1W,EAAIy6H,EAAQrtH,EAAIstH,EAChC,IAAG,SAAU16H,EAAGoN,GACd,OAAOotC,GAASx6C,EAAIy6H,EAAQrtH,EAAIstH,EAClC,IAAG,SAAU16H,EAAGoN,GACd,OAAO4/B,GAAMhtC,EAAIy6H,EAAQrtH,EAAIstH,EAC/B,KAmOM80C,EAAazB,GAAQwE,EAAY7yJ,EAAQkuB,GAC7C,OAAOZ,GAAMwiI,EAAW/kK,KAAM+kK,EAAWr0J,IAC3C,IAAG,SAAU4zJ,GACX,IAAIyD,EAAWrD,GAAW5gJ,EAAWwgJ,EAAUkD,EAAcrrI,EAAOlnB,EAAQkuB,GAI5E,OAHA4kI,EAAS5rJ,MAAMhhB,MAAK,SAAUghB,GAC5BmoJ,EAAS0D,SAASlkJ,EAAW3H,EAC/B,IACO4rJ,EAASxE,KAClB,IACwCtuJ,EAAQkuB,EAAQ0wD,EAC1D,EAeIo0E,GAAgB,SAAUjC,EAAYn4I,GACxC,MAAO,CACLpX,OAAQuvJ,EAAWziI,YACnBlzB,OAAQG,GAAWqd,EAAK5qB,SACxB2R,MAAO/C,GAAWgc,EAAK5qB,SAE3B,EACI2wD,GAAO,SAAU9vC,EAAWkiJ,EAAYkC,EAAWC,EAAUn2J,GAC/D,IAAImqB,EAAQ+rI,EAAU7nH,OAAO8nH,EAAUn2J,GACnCo2J,EAAgBF,EAAUG,eAAeztK,YAAW,WACtD,OAAOqtK,GAAcjC,EAAYliJ,EACnC,IACAqY,EAAMhhC,MAAK,SAAUmtK,IA1BV,SAAUxkJ,EAAWkiJ,EAAYnyE,EAAW13D,GACvD,IAAI/2B,EAAS4gK,EAAWC,UAAUniJ,EAAU7gB,SAC5C,GAAI+iK,EAAWE,iBAAkB,CAC/B,IAAI/4J,EAAMhC,GAAQ2Y,EAAU7gB,SACxB6xJ,EAAWtgJ,GAAMrH,GACjBg5J,EAAW94B,GAAUjoI,GACrBoiK,EAAeL,GAAgB/hK,GAC/Bu/J,EAAW2C,GAAaxjJ,EAAWkiJ,EAAWb,MAAOqC,EAAc1S,EAAUqR,EAAUhqI,EAAO03D,GAC9FhlE,EAAS60I,GAASiB,EAAU7P,EAAUqR,GAC1C13J,GAAWrJ,EAAQypB,EACrB,CACAm3I,EAAWuC,OAAOzkJ,EAAW1e,EAAQ+2B,EACvC,CAeIqsI,CAAO1kJ,EAAWkiJ,EAAYoC,EAAeE,EAC/C,GACF,EACIl2J,GAAO,SAAU0R,EAAW6tG,EAASq0C,EAAYkC,GACnDv2C,EAAQx2H,KAAKwrK,IACbX,EAAWb,MAAMhqK,MAAK,SAAUmpK,GAC9BW,GAASnhJ,EAAWwgJ,EACtB,IACA,IAAIl/J,EAAS4gK,EAAWC,UAAUniJ,EAAU7gB,SAC5CilK,EAAU5tH,QACV0rH,EAAW7vD,OAAOryF,EAAW1e,EAC/B,EACImf,GAAW,SAAU0G,GACvB,OAAO,SAAU+6I,EAAYkC,GAC3B,IAAIO,EAAmB,SAAU56I,GAC/Bq6I,EAAUQ,aAAaT,GAAcjC,EAAYn4I,GACnD,EACA,OAAO3F,GAASruB,EAAc,CAACwuB,GAAMxB,MAAgB,SAAUgH,GAC3Dq6I,EAAUG,eAAeltK,MAAK,WAC5B,OAAOstK,EAAiB56I,EAC1B,GACF,KAAK5C,EAAO+6I,EAAYkC,EAAWO,IAAmB,GAC1D,CACF,EAoBIE,GAAyB3vK,OAAO+c,OAAO,CACvCC,UAAW,KACXy3E,QATY,SAAUz7E,GACxB,OAAOlW,EAAS/B,KAAK6W,GAAcoB,EAAMzc,EAAGyc,EAAMrP,GACpD,EAQIimK,SAPa,SAAUrvJ,EAAKtV,GAC9B,OAAO2M,GAAc3M,EAAGjE,KAAOuZ,EAAIvZ,KAAMiE,EAAGyM,IAAM6I,EAAI7I,IACxD,IAQIm4J,GAAW,SAAU7C,EAAYkC,EAAWO,GAC9C,MAAO,CAACpgJ,GAAMtD,MAAa,SAAUjB,EAAWC,GAE5C,GAAmB,IADTA,EAAe/R,MAAMlD,IACvBm8G,OAAR,CAGAlnG,EAAe3R,OACf,IAAI02J,EAAS,WACX,OAAO12J,GAAK0R,EAAWhoB,EAASJ,KAAKi2H,GAAUq0C,EAAYkC,EAC7D,EACIa,EAAYz1E,GAAgBw1E,EAAQ,KACpCE,EAAU,CACZC,KAAMH,EACNC,UAAWA,EAAUt1E,SACrBy1E,UAAWJ,EACXl1G,KAAM,SAAU5hD,GACd+2J,EAAU53F,SACVvd,GAAK9vC,EAAWkiJ,EAAYkC,EAAWS,GAAW32J,EACpD,GAEE2/G,EAAUm1C,GAAgBhjJ,EAAWkiJ,EAAWe,aA5C7C,SAAUiC,GACrB,OAAO9gJ,GAAS,CACdG,GAAMtD,KAAaikJ,EAAQE,WAC3B7gJ,GAAMnD,KAAW8jJ,EAAQC,MACzB5gJ,GAAMrD,MAAa,SAAU6I,EAAM9J,GACjCilJ,EAAQp1G,KAAK7vC,EAAe/R,MAC9B,IACAqW,GAAMpD,KAAY+jJ,EAAQD,YAE9B,CAmCwEI,CAAOH,IAEvEP,EAAiB3kJ,GACjByiJ,GAAUziJ,EAAW6tG,EAlBvB,CAqBF,IACJ,EACIy3C,GAAWvvK,EAAcA,EAAc,GAAIqtK,IAAU,GAAO,CAAC5sI,GAAS,UAAW,CAAE/V,SAAUA,GAASskJ,QAAe,GA0BrHQ,GAAyBrwK,OAAO+c,OAAO,CACvCC,UAAW,KACXy3E,QAXU,SAAUz7E,GACtB,IACI2hF,EADM3hF,EAAMlD,IACE6kF,QAClB,OAA0B,IAAnBA,EAAQ18F,OAPC,SAAU08F,GAC1B,IAAIK,EAAQL,EAAQ,GACpB,OAAO73F,EAASJ,KAAKkV,GAAcojF,EAAMthF,QAASshF,EAAMrhF,SAC1D,CAIgC22J,CAAY31E,GAAW73F,EAAS1B,MAChE,EAQIwuK,SAPW,SAAUrvJ,EAAKtV,GAC5B,OAAO2M,GAAc3M,EAAGjE,KAAOuZ,EAAIvZ,KAAMiE,EAAGyM,IAAM6I,EAAI7I,IACxD,IAQI64J,GAAW,SAAUvD,EAAYkC,EAAWO,GAC9C,IAAIe,EAAmB5hI,KACnB6hI,EAAe,SAAU3lJ,GAC3B1R,GAAK0R,EAAW0lJ,EAAiBh6J,MAAOw2J,EAAYkC,GACpDsB,EAAiBjiI,OACnB,EACA,MAAO,CACLlf,GAAM1D,MAAc,SAAUb,EAAWC,GACvCA,EAAe3R,OACf,IAAIA,EAAO,WACT,OAAOq3J,EAAa3lJ,EACtB,EACIklJ,EAAU,CACZC,KAAM72J,EACN22J,UAAW7xK,EACXgyK,UAAW92J,EACXwhD,KAAM,SAAU5hD,GACd4hD,GAAK9vC,EAAWkiJ,EAAYkC,EAAWmB,GAAWr3J,EACpD,GAEE2/G,EAAUm1C,GAAgBhjJ,EAAWkiJ,EAAWe,aAlD7C,SAAUiC,GACrB,OAAO9gJ,GAAS,CACdG,GAAM1D,KAAcqkJ,EAAQE,WAC5B7gJ,GAAMxD,KAAYmkJ,EAAQC,MAC1B5gJ,GAAMvD,KAAekkJ,EAAQC,MAC7B5gJ,GAAMzD,MAAa,SAAUiJ,EAAM9J,GACjCilJ,EAAQp1G,KAAK7vC,EAAe/R,MAC9B,KAEJ,CAyCwE03J,CAAOV,IACzEQ,EAAiB15J,IAAI6hH,GAEnB82C,EAAiB3kJ,GACjByiJ,GAAUziJ,EAAW6tG,EAGzB,IACAtpG,GAAMzD,MAAa,SAAUd,EAAWC,GACtCA,EAAe3R,OACfwhD,GAAK9vC,EAAWkiJ,EAAYkC,EAAWmB,GAAWtlJ,EAAe/R,MACnE,IACAqW,GAAMxD,MAAY,SAAUf,EAAWC,GACrCA,EAAe3R,OACfq3J,EAAa3lJ,EACf,IACAuE,GAAMvD,KAAe2kJ,GAEzB,EAQIE,GAAQP,GACRp1E,GARWn6F,EAAcA,EAAc,GAAIqtK,IAAU,GAAO,CAAC5sI,GAAS,UAAW,CAAE/V,SAAUA,GAASglJ,QAAe,GASrHK,GAJW/vK,EAAcA,EAAc,GAAIqtK,IAAU,GAAO,CAAC5sI,GAAS,UAAW,CAAE/V,SAAUA,IAHpF,SAAUyhJ,EAAYkC,EAAWO,GAC5C,OAAO5uK,EAAcA,EAAc,GAAIgvK,GAAS7C,EAAYkC,EAAWO,IAAmB,GAAOc,GAASvD,EAAYkC,EAAWO,IAAmB,EACtJ,QACuH,GAMnHoB,GAAgC7wK,OAAO+c,OAAO,CAC9CC,UAAW,KACX2zJ,MAAOA,GACP31E,MAAOA,GACP41E,aAAcA,KAsCdE,GAAyB9wK,OAAO+c,OAAO,CACvCC,UAAW,KACXmY,KArCO,WACT,IAAI47I,EAAWjuK,EAAS1B,OACpBy5F,EAAY/3F,EAAS1B,OAuBrBi0B,EAAY32B,EAAW,CAAC,GAC5B,OAAO02B,GAAK,CACVC,UAAWA,EACXisB,MAzBU,WACVyvH,EAAWjuK,EAAS1B,OACpBy5F,EAAY/3F,EAAS1B,MACvB,EAuBEimD,OAfW,SAAUpW,EAAM+/H,GAC3B,OAAO//H,EAAKwjD,QAAQu8E,GAAW5uK,MAAK,SAAU6uK,GAC5C,OATiB,SAAUhgI,EAAMhmC,GACnC,IAAIuX,EAASuuJ,EAAS7uK,KAAI,SAAUqe,GAClC,OAAO0wB,EAAK2+H,SAASrvJ,EAAKtV,EAC5B,IAEA,OADA8lK,EAAWjuK,EAASJ,KAAKuI,GAClBuX,CACT,CAGW0uJ,CAAejgI,EAAMggI,EAC9B,GACF,EAYE5B,aARiB,WACjB,OAAOx0E,CACT,EAOE60E,aAZiB,SAAU5gJ,GAC3B+rE,EAAY/3F,EAASJ,KAAKosB,EAC5B,GAYF,IAOIqiJ,GAAWvpI,GAAY,CACzBG,UAAW,OACX1iB,SAAUwrJ,GACVh0K,KAAM,WACN6pC,OAAQ,CACNzU,OAAQ,SAAU+6I,EAAYkC,GAE5B,OADclC,EAAWoE,QACV7lJ,SAASyhJ,EAAYkC,EACtC,GAEF/rJ,MAAO,CACLirF,KAAM,SAAUprD,GACd,MAAO,CACLopH,OAAQppH,EAAQopH,OAChBjyH,MAAO6I,EAAQ7I,MACf1gB,OAAQupB,EAAQvpB,OAChBtW,MAAOrgB,EAAS/B,KAAKiiD,EAAQ7/B,OAEjC,GAEFyW,MAAOk3I,GACPx0I,KAAMwwI,KAKJuE,GAAW,SAAUC,EAAaC,EAAIh1K,EAAGoN,EAAGiS,EAAOvE,GACrD,OAAOi6J,EAAY/vK,MAAK,WACtB,OAAO4vK,GAAS/iE,KAAK,CACnBg+D,OAAQr1H,GAASx6C,EAJNi1K,GAIsB7nK,EAJtB6nK,IAKXr3H,MAAOviC,GAAcgE,EAAOvE,GAC5BoiB,OAAQsd,GAASj0C,EAASJ,KAAKnG,GAAIuG,EAASJ,KAAKiH,IACjDwZ,MAAO,CAAEouJ,GAAIA,IAEjB,IAAG,SAAUE,GACX,IAAIC,EAAan1K,EAVJi1K,GAWTG,EAAYhoK,EAXH6nK,GAcT5nI,EAAO6nI,EAAexnK,QAAQ7B,IAAIgP,wBACtC,OAAO+5J,GAAS/iE,KAAK,CACnBg+D,OAAQr1H,GAAS26H,EAAYC,GAC7Bx3H,MAAOviC,GAlBG,OAmBV6hB,OAAQsd,GAASj0C,EAASJ,KAAKnG,EAAIqtC,EAAKhuB,MAAQ,GAAI9Y,EAASJ,KAAKiH,EAAIigC,EAAKvyB,OAAS,IACpF8L,MAAO,CAAEouJ,GAAIA,IAEjB,GACF,EACIK,GAAiB,SAAUnF,EAAevtG,EAAMs2C,GAMlD,MAAO,CACLi3D,cAAeA,EACfjB,SAAU,iBACVC,QAAS,gBACTuD,SAAU,SAAUlkJ,EAAW3H,GAC7B,IAAIouJ,EAAKpuJ,EAAMouJ,IAVF,SAAUM,EAASN,GAClC,OAAOM,EAAQxvK,QAAO,SAAUyvK,GAC9B,OAAOxgK,GAAGwgK,EAAWP,EACvB,GACF,EAOSQ,CAAW7yG,EAAK1oD,MAAO+6J,KAC1BryG,EAAKpoD,IAAIy6J,GACT/7D,EAAS+7D,GAEb,EACA3F,UAAU,EAEd,EACIoG,GAAiB,SAAU7F,GAC7B,OAAOl5F,GAAOL,GAAO3nB,OAAO,CAC1B7iD,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,iBAEZm9C,iBAAkBxrC,GAAS,CACzB6pI,GAASx3I,OAAO,CACdsX,KAAM,eACN88H,aAAc,UACd5B,MAAOA,IAETphE,GAAYpxE,OAAO,CAAC,KAEtB/C,WAAY,CACV7K,UAAW,CACT,WACA,wBAEFJ,WAAY,CACV,WACA,2BAIR,EACIsmJ,GAAU,SAAUh8F,EAAQlyB,GAC9B,IAAImuH,EAAQ3pJ,GAAK,IACb4pJ,EAAQ5pJ,GAAK,IACbopB,EAAYppB,IAAK,GACjB6pJ,EAAYxjI,KACZyjI,EAAazjI,KACb0jI,EAAiB,SAAUf,GAC7B,IAAI94J,EAAMoF,GAAW0zJ,GACrB,OAAOF,GAASkB,EAAW39J,OAAOmvC,GAAOwtH,EAAI94J,EAAIlc,EAAGkc,EAAI9O,EAAG8O,EAAImD,MAAOnD,EAAIpB,OAC5E,EAMIm7J,EAAqB,SAAUjB,GACjC,IAAI94J,EAAMoF,GAAW0zJ,GACrB,OAAOF,GAASoB,EAAe79J,OAAOmvC,GAAOwtH,EAAI94J,EAAIoD,MAAOpD,EAAIqD,OAAQrD,EAAImD,MAAOnD,EAAIpB,OACzF,EAMIq7J,EAAed,IAdG,WACpB,OAAOhuK,EAAMsuK,EAAM17J,OAAO,SAAU+6J,GAClC,OAAOe,EAAef,EACxB,GACF,GAUmDa,GAAW,SAAU3qK,GACtE4qK,EAAW77J,MAAMrU,MAAK,SAAUy2C,GAC9Bq9B,EAAOsZ,KAAK,sBAAuB,CACjC9nF,MAAOA,EACPmxC,OAAQA,GAEZ,GACF,IACI+5H,EAAmBf,IAbG,WACxB,OAAOhuK,EAAMuuK,EAAM37J,OAAO,SAAU+6J,GAClC,OAAOiB,EAAmBjB,EAC5B,GACF,GAS2Dc,GAAY,SAAUz5H,GAC/Ew5H,EAAU57J,MAAMrU,MAAK,SAAUsF,GAC7BwuE,EAAOsZ,KAAK,sBAAuB,CACjC9nF,MAAOA,EACPmxC,OAAQA,GAEZ,GACF,IACI25H,EAAaP,GAAeU,GAC5BD,EAAiBT,GAAeW,GAChCx6H,EAAUnb,GAAQu1I,EAAWn/F,UAC7Bw/F,EAAc51I,GAAQy1I,EAAer/F,UAWrC25F,EAAS,SAAUh8J,EAAUmuD,EAAM2zG,EAAeroI,GACpD,IAAI4jE,EAAOykE,EAAc3zG,GACzBiyG,GAASpE,OAAOh8J,EAAUq9F,IAZL,SAAUr9F,EAAUmuD,EAAM4zG,EAASC,GACxD,IAAIC,EAAW9zG,EAAK92D,IAAIgP,wBACxBjB,GAASpF,EAAS9G,QAAS,WAC3B,IAAIgpK,EAAiBzgK,GAAY/J,GAAaF,QAAQ0tE,EAAO7hE,YAAYhM,IAAI8xI,YACzEg5B,EAAgBJ,EAAQE,GACxBG,EAAgBJ,EAAQC,EAAUC,IAClCC,GAAiBC,IACnB79J,GAAMvE,EAAS9G,QAAS,UAAW,OAEvC,CAUEmpK,CAAiBriK,EAAUmuD,GANb,SAAUt1B,GACtB,OAAOA,EAAKY,GAAO,CACrB,IACc,SAAUZ,EAAMqpI,GAC5B,OAAOrpI,EAAKY,GAAOyoI,CACrB,GAEF,EACII,EAAc,SAAUn0G,GAC1B,OAAO6tG,EAAO50H,EAAS+mB,EAAMozG,EAAgB,MAC/C,EAIIgB,EAAkB,SAAUp0G,GAC9B,OAAO6tG,EAAO6F,EAAa1zG,EAAMszG,EAAoB,SACvD,EAII3hK,KAAWhB,WAAWI,YACxBgmE,EAAOloC,GAAG,wBAAwB,SAAUttC,GACrCkxC,EAAUn7B,QACb0rC,GAAO6B,EAAM5L,GACb+J,GAAO6B,EAAM6uH,GACbjhI,EAAU76B,KAAI,IAEhBs7J,EAAUt7J,IAAIrW,EAAEgH,OAChB4qK,EAAWv7J,IAAIrW,EAAEm4C,QACjBn4C,EAAE8yK,WAAWpxK,MAAK,SAAUoxK,GAC1BrB,EAAMp7J,IAAIy8J,EAAWC,eACrBrB,EAAMr7J,IAAIy8J,EAAWE,kBACrBJ,EAAY5yK,EAAEgH,OACd6rK,EAAgB7yK,EAAEm4C,OACpB,GACF,IACAq9B,EAAOloC,GAAG,2CAA2C,WAxB9CqkI,EAAU57J,MAAMrU,KAAKkxK,GAMrBhB,EAAW77J,MAAMrU,KAAKmxK,EAqB7B,IACAr9F,EAAOloC,GAAG,uBAAuB,WAC3B4D,EAAUn7B,QACZ8rC,GAAOnK,GACPmK,GAAOswH,GACPjhI,EAAU76B,KAAI,IAEhBs7J,EAAU7jI,QACV8jI,EAAW9jI,OACb,IAEJ,EAEImlI,GAAW,SAAUz6F,GACvB,GAAqB,IAAjBA,EAAI5uE,SAAgB,CACtB,GAAqB,OAAjB4uE,EAAI/uE,UAAuB+uE,EAAItkE,aAAa,kBAC9C,OAAO,EAET,GAA0C,aAAtCskE,EAAItkE,aAAa,iBACnB,OAAO,CAEX,CACA,OAAO,CACT,EACIg/J,GAAoB,SAAU19F,EAAQM,EAAUoU,GAC7CpU,EAAS43E,YACZ53E,EAAS43E,UAAY,KAkEvB,MAAO,CACL/lJ,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,uBACVC,WAAY,CAAE2zC,KAAM,eAEtBpzC,WAAYmR,GAAS,CACnBu7B,GAAOlpC,OAAO,CACZsX,KAAM,OACNlgC,SAAU,qBAEZmhD,GAAUv4B,OAAO,CAAEk3B,SAAU85B,EAAmBj5B,aAChDm2B,KACAsY,GAAYxmE,OAAO,CAAC,GACpBwqC,GAAUxqC,OAAO,CAAC,GAClBA,GAAO,oBAAqB,CAACnJ,IAAc,SAAUqE,EAAMi5G,GACvD73D,EAAOkrF,UAAUjlK,IAAI,UAAW,+BAA+B,WAC7D,OAAO2mE,GAAO1L,QAAQtiC,EACxB,IACAohD,EAAOloC,GAAG,cAAc,SAAUttC,GAChC,IAlFJmzK,EAwBAC,EA0DQC,EA3CG,SAAUC,GAGzB,IAFA,IAAID,EAAU,GACV/1K,EAAIg2K,EAAQ91K,OACTF,KAAM,GAAG,CACd,IAAIi2K,EAAWD,EAAQh2K,GACvB,GAA0B,IAAtBi2K,EAAS3pK,WAAmBqpK,GAASM,GAAW,CAClD,IAAI11K,EAAO23E,EAAOsZ,KAAK,cAAe,CACpC1yF,KAAMm3K,EAAS9pK,SAASC,cACxBiC,OAAQ4nK,IAQV,GANK11K,EAAK21K,sBACRH,EAAQ/4K,KAAK,CACX8B,KAAMyB,EAAKzB,KACXoN,QAAS+pK,IAGT11K,EAAK41K,uBACP,KAEJ,CACF,CACA,OAAOJ,CACT,CAqBwBK,CAAW1zK,EAAEszK,SACvBD,EAAQ71K,OAAS,EACnBkmE,GAAUrtD,IAAI+d,GApFpB++I,EAAkBhwK,EAoFoBkwK,GArFtB,IACe,SAAUhoH,EAAMh5C,GACjD,OAAO8/D,GAAO3nB,OAAO,CACnB7iD,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,4BACVC,WAAY,CACV,KAAQ,SACR,aAAc9iB,EACd,aAAc,EACd,aAAcA,EAAQ,GAExBmpB,UAAW6vB,EAAKjvD,MAElB0yB,OAAQ,SAAU6kJ,GAChBn+F,EAAO3tC,QACP2tC,EAAOv8B,UAAU05C,OAAOtnC,EAAK7hD,SAC7BgsE,EAAO0kF,aACT,EACA7nF,iBAAkBxrC,GAAS,CACzBwgD,GAAwB6C,EAAmBj5B,YAC3Cm2B,QAGN,IACIgsF,EAAU,CACZzrK,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,+BACVC,WAAY,CAAE,eAAe,GAC7BqG,UAAW,IAAMs6C,EAAS43E,UAAY,MAGnC9pJ,EAAMuvK,EAAgBzyK,MAAM,IAAI,SAAUgD,EAAK8F,GACpD,IAAIoqK,EAASlwK,EAGb,OAFAkwK,EAAOt5K,KAAK84K,GACZQ,EAAOt5K,KAAKkP,GACLoqK,CACT,GAAG,CAACT,EAAgB,OAiDVzvG,GAAUrtD,IAAI+d,EAAM,GAExB,GACF,QAEJ0F,WAAY,GAEhB,GAGC,SAAUyzH,GACTA,EAAYA,EAAkB,KAAI,GAAK,OACvCA,EAAYA,EAAkB,KAAI,GAAK,OACvCA,EAAYA,EAAsB,SAAI,GAAK,UAC7C,CAJA,CAIEA,KAAgBA,GAAc,CAAC,IACjC,IAQIsmB,GAAS,SAAUr+F,EAAQ02F,EAAQ4H,GACrC,IAAI7iJ,EAAYjpB,GAAaF,QAAQ0tE,EAAOywB,gBACxCxsC,EAVc,SAAU+b,EAAQ02F,EAAQ4H,EAAYC,EAAgBC,GACxE,IAAIv6G,EAAa,CAAC,EAKlB,OAJAA,EAAW7iD,OAASogJ,GAAe+c,EAAiB7H,EAAOj1J,IAAK2tE,GAAoBpP,GAASsP,GAAoBtP,IAC7Gs+F,IAAevmB,GAAY0mB,OAC7Bx6G,EAAWt+C,MAAQ67I,GAAegd,EAAgB9H,EAAO3lK,KAAMo+E,GAAmBnP,GAASqP,GAAmBrP,KAEzG/b,CACT,CAGmBy6G,CAAc1+F,EAAQ02F,EAAQ4H,EAAYh9J,GAAMma,GAAY9Y,GAAM8Y,IACnFvvB,GAAK+3D,GAAY,SAAUtjD,EAAKg+J,GAC9B,OAAOt/J,GAAMoc,EAAWkjJ,EAAKpd,GAAQ5gJ,GACvC,IA91iBqB,SAAUq/D,GACxBA,EAAOsZ,KAAK,eACrB,CA61iBEslF,CAAiB5+F,EACnB,EAaI6+F,GAAkB,SAAU7+F,EAAQs+F,EAAYh4K,EAAGoN,GACrD,IACIw5B,EAAQvrB,GADA,GACcrb,EADd,GACyBoN,GAErC,OADA2qK,GAAOr+F,EAAQ9yC,EAAOoxI,GACfzxK,EAASJ,MAAK,EACvB,EACIqyK,GAAsB,SAAU9+F,EAAQ0U,GAC1C,IAAI4pF,EAlBc,SAAUt+F,GAC5B,IAAIp1D,GAAYo1D,EAAOmkB,UAAU,cAC7Bk6E,EAASr+F,EAAO8O,SAAS,SAAUlkE,GACvC,OAAe,IAAXyzJ,EACKtmB,GAAYgnB,KACC,SAAXV,EACFtmB,GAAY0mB,KAEZ1mB,GAAYinB,QAEvB,CAQmBC,CAAcj/F,GAC/B,OAAIs+F,IAAevmB,GAAYgnB,KACtBlyK,EAAS1B,OAEX0B,EAASJ,KAAK+xE,GAAS,gBAAiB,CAC7CprE,IAAK,MACLssB,QAAS,CAAC,gCACVC,WAAY,CAAE20D,MAAOI,EAAmBhzE,UAAU,WAClDwe,WAAY,CACVg7I,GAASx3I,OAAO,CACdsX,KAAM,QACNi8H,kBAAkB,EAClBqC,OAAQ,SAAUhkD,EAAO4pD,EAAShyI,GAChC,OAAOmxI,GAAOr+F,EAAQ9yC,EAAOoxI,EAC/B,EACAxG,aAAc,gBAEhBlrG,GAAOlpC,OAAO,CACZsX,KAAM,UACNoxB,OAAQ,WACN,OAAOyyG,GAAgB7+F,EAAQs+F,GAAa,EAAG,EACjD,EACAjyG,QAAS,WACP,OAAOwyG,GAAgB7+F,EAAQs+F,EAAY,EAAG,EAChD,EACApyG,KAAM,WACJ,OAAO2yG,GAAgB7+F,EAAQs+F,EAAY,GAAI,EACjD,EACAnyG,OAAQ,WACN,OAAO0yG,GAAgB7+F,EAAQs+F,EAAY,EAAG,EAChD,IAEFp0E,GAAYxmE,OAAO,CAAC,GACpBurC,GAASvrC,OAAO,CAAC,KAElBgxD,EAAmBxuF,OACxB,EA+DIi5K,GAAkB,SAAUn/F,EAAQ0U,GACtC,IAcI0qF,EAAoB,WACtB,IAdIrvJ,EAcAuU,EAAa,GAUjB,OATI07C,EAAO8O,SAAS,eAAe,EAAM,YACvCxqD,EAAWx/B,KAAK44K,GAAkB19F,EAAQ,CAAC,EAAG0U,IAE5C1U,EAAOmkB,UAAU,cACnB7/D,EAAWx/B,KAlFK,SAAUk7E,EAAQ0U,GACtC,IAAIp7E,EACA+lK,EAAmB,SAAUzgJ,EAAM/L,EAAOmoB,GAC5C,OAAOkzB,GAAUrtD,IAAI+d,EAAM,CAACtrB,GAAKohF,EAAmBhzE,UAAU,CAC1D,OAASs5B,EACTnoB,EAAMmoB,OAEZ,EACA,OAAO2hC,GAAO3nB,OAAO,CACnB7iD,IAAK,CACHiB,IAAK,SACLssB,QAAS,CAAC,6BAEZ4E,WAAY,GACZu4C,iBAAkBxrC,GAAS,CACzBwgD,GAAwB6C,EAAmBj5B,YAC3Cm2B,KACAsY,GAAYxmE,OAAO,CAAC,GACpBwqC,GAAUxqC,OAAO,CAAC,GAClB+uB,GAAa/uB,OAAO,CAClBsqB,MAAO,CACLhT,KAAM,SACNmX,aAAc,CACZnX,KAAM,QACNnoB,MAAO,CACLysJ,MAAO,EACPC,WAAY,OAKpB77I,GAAO,mBAAoB,CACzBhJ,IAAe,SAAUkE,GACvB,IAAI4gJ,EAAa/sH,GAAahC,SAAS7xB,GACnC0kI,EAA8B,UAApBkc,EAAWxkI,KAAmB,aAAe,QAC3DyX,GAAajC,SAAS5xB,EAAM,CAC1Boc,KAAMsoH,EACNzwI,MAAO2sJ,EAAW3sJ,QAEpBwsJ,EAAiBzgJ,EAAM4gJ,EAAW3sJ,MAAOywI,EAC3C,IACA/oI,IAAc,SAAUqE,GACtBohD,EAAOloC,GAAG,mBAAmB,SAAUttC,GACrC,IAAIwwC,EAAOyX,GAAahC,SAAS7xB,GAAMoc,KACvCyX,GAAajC,SAAS5xB,EAAM,CAC1Boc,KAAMA,EACNnoB,MAAOroB,EAAEi1K,YAEXJ,EAAiBzgJ,EAAMp0B,EAAEi1K,UAAWzkI,EACtC,GACF,QAGJra,YAAarnB,EAAK,CAAC,EAAGA,EAAG8d,MAAe,CACtC,YACA,uBACA,oBACC9d,IAEP,CAuBsBomK,CAAgB1/F,EAAQ0U,IAEtC1U,EAAO8O,SAAS,YAAY,EAAM,YACpCxqD,EAAWx/B,KAjBN,CACLqN,IAAK,CACHiB,IAAK,OACLssB,QAAS,CAAC,2BACVsG,UALW,+LAJXjW,EAAQqtD,GAAS17D,UAAU,CAC7B,iBACA,UAEqN,KAAOqO,EAAQ,UAoBlOuU,EAAWt8B,OAAS,EACf,CAAC,CACJmK,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,kCAEZ4E,WAAYA,IAGX,EACT,EAMA,MAAO,CACLnyB,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,kBAEZ4E,WAVkB,WAClB,IAAIA,EAAa86I,IACbO,EAAgBb,GAAoB9+F,EAAQ0U,GAChD,OAAOpwD,EAAWp7B,OAAOy2K,EAAcpzK,UACzC,CAMcqzK,GAEhB,EAEIC,GAAU,SAAU7/F,GACtB,IAAI1mE,EAyBEwmK,EACAC,EAeAC,EAxCFvqB,EAAWz1E,EAAOwQ,OAClBx1C,EAAOy6G,EAAWuO,GAASpE,GAC3B7+E,EAAS+P,GAAgB9Q,GAAU6jE,GAAe9F,GAClDkiC,EAAqBpzK,EAAS1B,OAC9BuP,EAAWE,KAEXslK,EADOxlK,EAASzB,QAAQ5B,OACC,CAAC,mBAAqB,GAG/C8oK,EAFUzlK,EAASd,WAAWI,UAEJ,CADL,sBAC4B,GACjDomK,EAAkB9vF,GAAwBtQ,GAC1CmkF,EAAcvzE,GAAe5Q,GAC7BqgG,EAAgBjjG,GAASp+B,QAAU,CAAErf,WAAY,CAAE4N,IAAK,QAAY,CAAC,EACrE+yI,EAAwB,CAAE3gJ,YAAarmB,EAAK,CAAC,EAAGA,EAAG4lC,IAAakhI,EAAkB1rI,GAAe0K,YAAc1K,GAAegpH,YAAapkJ,IAC3IwqI,EAAa,WACf,OAAOm8B,EAAmB9zK,KAAKwmJ,GAAeI,UAChD,EAIIwtB,EAAqB,WACvBlhK,GAAM6gE,EAAalsE,QAAS,QAASzO,SAASmY,KAAKwI,YAAc,KACnE,EAwBI4nC,EAAO/mB,IAtBL+4I,EAAoBzkK,GAAGqC,KAAQymJ,IAAkD,SAAlC1kJ,GAAM0kJ,EAAa,WAClE4b,EAAW,CACb5tK,IAAKrI,EAAS,CACZsJ,IAAK,MACLssB,QAAS,CACP,MACA,kBACA,mBACAx2B,OAAOg3K,GAAiBh3K,OAAOi3K,IAChCE,GACHngJ,WAAYmR,GAAS,CAACma,GAAY9nB,OAAO,CACrCwO,SAAU,WACR,OAlBD6uC,EAAOi9D,SAAS8F,EAmBjB,OAGFk8B,EAAoB,CACtB7tK,IAAK,CAAEytB,OAAQ,CAAEja,MAAOpgB,SAASmY,KAAKwI,YAAc,OACpD8V,OAAQ/C,GAAS,CAACG,GAAMvB,KAAgB0oJ,MAEnCl2J,GAAU01J,EAAUD,EAAoBE,EAAoB,CAAC,KAGlEtlG,EAAW,WACb,OAAO/xD,GAAOtiB,MAAMynD,EACtB,EACI0yH,EAAexjG,GAAO,CACxB7qE,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,oBAaVssH,EAAe,WACjB,OAAOi0B,EAAmB9zK,MAAK,SAAUsvB,GACvC,OAAOk3H,GAAeW,YAAY73H,EACpC,IAAG7vB,SAAS,kCACd,EACIw0E,EAAYq7D,GAAO3tF,EAAMkyB,GAfT,WAClB,OAAOigG,EAAmB9zK,MAAK,SAAUsvB,GACvC,OAAO+kJ,EAAa7hK,OAAO8c,EAC7B,IAAG7vB,SAAS,sCACd,IAYI8lJ,EAAciB,GAAev9H,MAAMq+H,QAAQ,CAC7CthJ,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,gBAEZ0gD,UAAWA,EACX1d,SAAU,WACRsd,EAAO3tC,OACT,IAEE+uH,EAAclxE,GAAelQ,GAC7B+xE,EAAcY,GAAev9H,MAAMq6D,QAAQ3lF,EAAS,CACtDqI,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,gBAEZohD,QAASpG,EACTmG,UAAWT,EAAUC,OAAOQ,UAC5Bne,SAAU,WACRsd,EAAO3tC,OACT,EACAjsC,KAAMg7J,EACNhP,YAjCgB,WAChB,OAAO6tB,EAAmB9zK,MAAK,SAAUsvB,GACvC,OAAOk3H,GAAe/D,WAAWnzH,EACnC,IAAG7vB,SAAS,sCACd,EA8BEk4I,WAAY,WACV,OAAOA,IAAal4I,SAAS,gCAC/B,GACC00K,IACC3uB,EAAsBgB,GAAev9H,MAAM,oBAAoB,CACjEjjB,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,yBAEZmhD,UAAWT,EAAUC,OAAOQ,UAC5Bne,SAAU,WACRsd,EAAO3tC,OACT,EACAjsC,KAAMg7J,IAEJ5O,EAAaG,GAAev9H,MAAM0rI,OAAO,CAC3C3uJ,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,oBAGV+yH,EAAcE,GAAev9H,MAAMg1H,QAAQ,CAC7Cj4I,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,kBAGVgzH,EAAeC,GAAev9H,MAAM+1H,SAAS,CAC/Ch5I,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,iBAEZ0gD,UAAWA,IAGTqgG,EADKzgG,EAAO8O,SAAS,aAAa,EAAM,aACrB2mE,EAAW5oJ,EAASJ,KAAK0yK,GAAgBn/F,EAAQI,EAAUC,OAAOQ,YAAch0E,EAAS1B,OAC5Gu1K,EAAyB,CAC3BvuK,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,qBAEZ4E,WAAY,CACVkuH,EACAC,IAGAkuB,EAAqB9wF,GAAmB7P,GACxC4gG,EAAapxF,GAAiBxP,GAC9B6gG,EAAatxF,GAAiBvP,GAU9BsyE,EAAaK,GAAev9H,MAAM2rD,OAAO,CAC3C5uE,IAAKrI,EAAS,CACZsJ,IAAK,MACLssB,QAAS,CAAC,sBACT4gJ,GACHh8I,WAAY71B,EAAQ,CAClBoyK,EAAa,CAACnvB,GAAe,GAd3BivB,EACK,CAAChvB,GACCivB,EACF,CAAC7uB,GAED,GAWPphE,GAAkB3Q,GAAU,GAAK,CAACwgG,EAAarjG,YAEjDo1E,OAAQzhE,GAAgB9Q,GACxBA,OAAQA,EACRG,gBAAiBC,EAAUC,SAEzBygG,EAAmBryK,EAAQ,CAC7B2xK,EAAkB,GAAK,CAAC9tB,GACxBmD,EAAW,GAAK,CAACirB,GACjBN,EAAkB,CAAC9tB,GAAc,KAS/ByuB,EAAsBtyK,EAAQ,CAChC,CARoB,CACpB0D,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,yBAEZ4E,WAAYw8I,IAIZrrB,EAAW,GAAKgrB,EAAUl0K,UAC1B,CAACmmJ,KAEC+qB,EAAW5sF,GAAkB7Q,GAC7BrgD,EAAa71B,EAASA,EAAS,CAAEwpE,KAAM,eAAiB8J,GAASp+B,QAAU,CAAEzR,IAAK,OAAU,CAAC,GAAIkwI,EAAW,CAAE,cAAe,QAAW,CAAC,GACzIlsF,EAAiBxqD,GAAQ4rH,GAAe39F,OAAO,CACjD7iD,IAAK,CACHiB,IAAK,MACLssB,QAAS,CACP,MACA,eACAx2B,OAAOusJ,EAAW,CAAC,sBAAwB,IAAIvsJ,OAAOk3K,EAAkB,CAAC,+BAAiC,IAAIl3K,OAAOi3K,GAAej3K,OAAOg3K,GAC7ItgJ,OAAQ91B,EAAS,CAAEm4I,WAAY,UAAYw7B,EAAW,CACpDuD,QAAS,IACTC,OAAQ,KACN,CAAC,GACLthJ,WAAYA,GAEd2E,WAAYy8I,EACZ7gJ,WAAYmR,GAAS,CACnBugD,KACA31B,GAAUv4B,OAAO,CAAE43B,aAAc,0BACjCsR,GAAOlpC,OAAO,CACZsX,KAAM,SACNlgC,SAAU,mOAIhBmlK,EAAqBpzK,EAASJ,KAAK8kF,GACnCvR,EAAOkrF,UAAUjlK,IAAI,SAAU,iBAAiB,WAC9C0sJ,GAAee,aAAaniE,EAC9B,IACAvR,EAAOkrF,UAAUjlK,IAAI,UAAW,iBAAiB,WAC/C0sJ,GAAeY,aAAahiE,EAC9B,IACAvR,EAAOihF,WAAW,uBAAuB,WACvCtO,GAAeS,oBAAoB7hE,EACrC,IACAvR,EAAOkhG,qBAAqB,uBAAuB,WACjD,OAAOvuB,GAAeU,uBAAuB9hE,EAC/C,IACA,IAAIC,EAAaoX,GAASrX,GACtBrR,EAAe0oB,GAAS96C,IApoPhB,SAAUkyB,EAAQwR,EAAYtR,GAC1C,IAAIziD,EAAiB,SAAU72B,EAAMuwG,GACnCvpG,EAAO,CACL4jF,EACAtR,IACC,SAAUihG,GACXA,EAAK1jJ,eAAe72B,EAAMuwG,EAC5B,GACF,EACI35E,EAAc,SAAUq9H,EAASpyI,GACnC7a,EAAO,CACL4jF,EACAtR,IACC,SAAUihG,GACXA,EAAK3jJ,YAAY,CAACq9H,GAAUpyI,EAC9B,GACF,EACI24J,EAAoB,SAAUjqE,GAChC,OAAO35E,EAAY6xB,KAAiB,CAAEl5C,OAAQghG,EAAIhhG,QACpD,EACI+H,EAAMi0B,KACNkvI,EAAel1K,GAAK+R,EAAK,aAAckjK,GACvCE,EAAcn1K,GAAK+R,EAAK,aAAa,SAAUi5F,GACjD,OAAO15E,EAAe/F,KAAqBy/E,EAC7C,IACIoqE,EAAap1K,GAAK+R,EAAK,YAAY,SAAUi5F,GAC/C,OAAO15E,EAAe9F,KAAoBw/E,EAC5C,IACIqqE,EAAcr1K,GAAK+R,EAAK,YAAakjK,GACrCK,EAAYt1K,GAAK+R,EAAK,WAAW,SAAUi5F,GACtB,IAAnBA,EAAIt3F,IAAIm8G,QACVx+F,EAAY+xB,KAAiB,CAAEp5C,OAAQghG,EAAIhhG,QAE/C,IACIurK,EAAiB,SAAU7hK,GAC7B,OAAO2d,EAAY6xB,KAAiB,CAAEl5C,OAAQ3D,GAAaF,QAAQuN,EAAI1J,SACzE,EACIwrK,EAAmB,SAAU9hK,GACZ,IAAfA,EAAIm8G,QACNx+F,EAAY+xB,KAAiB,CAAEp5C,OAAQ3D,GAAaF,QAAQuN,EAAI1J,SAEpE,EACIyrK,EAAqB,WACvBh0K,EAAOoyE,EAAOqsE,cAAc9rI,OAAO,SAAUshK,GACvC7hG,IAAW6hG,GACbA,EAAWvoF,KAAK,gBAAiB,CAAEwoF,cAAe9hG,GAEtD,GACF,EACI+hG,EAAiB,SAAU5qE,GAC7B,OAAO15E,EAAe7F,KAAgBmhB,GAAao+D,GACrD,EACI6qE,EAAiB,SAAU7qE,GAC7B35E,EAAY8xB,KAAoB,CAAC,GACjC7xB,EAAe5F,KAAgBkhB,GAAao+D,GAC9C,EACI8qE,EAAiB,WACnB,OAAOzkJ,EAAY8xB,KAAoB,CAAC,EAC1C,EACI4yH,EAAmB,SAAU/qE,GAC3BA,EAAIxzE,OACNnG,EAAY6xB,KAAiB,CAAEl5C,OAAQ3D,GAAaF,QAAQ0tE,EAAOywB,iBAEvE,EACI0xE,EAAkB,SAAUp/J,GAC9Bya,EAAY6xB,KAAiB,CAAEl5C,OAAQ3D,GAAaF,QAAQyQ,EAAM++J,cAAcrxE,iBAClF,EACAzwB,EAAOloC,GAAG,cAAc,WACtBkoC,EAAOloC,GAAG,QAAS4pI,GACnB1hG,EAAOloC,GAAG,MAAO4pI,GACjB1hG,EAAOloC,GAAG,UAAW6pI,GACrB3hG,EAAOloC,GAAG,YAAa8pI,GACvB5hG,EAAOloC,GAAG,eAAgBiqI,GAC1B/hG,EAAOloC,GAAG,eAAgBkqI,GAC1BhiG,EAAOloC,GAAG,eAAgBmqI,GAC1BjiG,EAAOloC,GAAG,qBAAsBoqI,GAChCliG,EAAOloC,GAAG,gBAAiBqqI,EAC7B,IACAniG,EAAOloC,GAAG,UAAU,WAClBkoC,EAAOhoC,IAAI,QAAS0pI,GACpB1hG,EAAOhoC,IAAI,MAAO0pI,GAClB1hG,EAAOhoC,IAAI,UAAW2pI,GACtB3hG,EAAOhoC,IAAI,YAAa4pI,GACxB5hG,EAAOhoC,IAAI,eAAgB+pI,GAC3B/hG,EAAOhoC,IAAI,eAAgBgqI,GAC3BhiG,EAAOhoC,IAAI,eAAgBiqI,GAC3BjiG,EAAOhoC,IAAI,qBAAsBkqI,GACjCliG,EAAOhoC,IAAI,gBAAiBmqI,GAC5BX,EAAYv9J,SACZo9J,EAAap9J,SACbq9J,EAAYr9J,SACZs9J,EAAWt9J,SACXw9J,EAAUx9J,QACZ,IACA+7D,EAAOloC,GAAG,UAAU,WAClB8U,GAAa4kC,GACb5kC,GAAaszB,GACbsR,EAAW/4C,UACXynC,EAAaznC,SACf,GACF,CAiiPE2pI,CAAQpiG,EAAQwR,EAAYtR,GAC5B,IAQImiG,EAAgB,WAClB,IAAIC,EAAe/gB,GAAQM,GAAsB7hF,IAC7CuiG,EAAchhB,GAnyGK,SAAUvhF,GAEnC,OADYiiF,GAASjiF,GACRt0E,MAAMsjF,GAAgBhP,GACrC,CAgyG8BwiG,CAAqBxiG,IAW/C,OAVKA,EAAOwQ,SACNvwE,GAAa,MAAO,QAASsiK,IAC/BljK,GAAMkyE,EAAev9E,QAAS,QAASuuK,GAErCtiK,GAAa,MAAO,SAAUqiK,GAChCjjK,GAAMkyE,EAAev9E,QAAS,SAAUsuK,GAExCjjK,GAAMkyE,EAAev9E,QAAS,SAAU,UAGrCsuK,CACT,EAsCA,MAAO,CACL9wF,WAAYA,EACZtR,aAAcA,EACdE,UAAWA,EACXqiG,SAzCa,WACb1hG,EAAO9J,MAAM+I,EAAQI,EAAUC,OAAQyjE,GACvCisB,GAAQ/vF,EAAQI,GAChBmzF,GAAQvzF,EAAQtF,EAAU0F,GAv5MhB,SAAUJ,GACtB,IAAI0iG,EAAW1iG,EAAOmI,GAAGC,SAASC,SAASq6F,SAC3C90K,EAAO4B,GAAKkzK,IAAW,SAAU97K,GAC/B,IAAIy4B,EAAOqjJ,EAAS97K,GAChBi+E,EAAW,WACb,OAAOj0E,GAAK/D,EAAS/B,KAAKk1E,EAAOm5E,kBAAkB,kBAAmBvyJ,EACxE,EACAo5E,EAAOmI,GAAGC,SAAS0mF,gBAAgBloK,EAAM,CACvC64E,KAAMpgD,EAAKogD,KACXqO,QAASzuD,EAAKyuD,QACdlO,SAAU,SAAU48E,GAClBx8E,EAAOwc,YAAY,iBAAiB,EAAO51F,GAC3C41J,EAAUt9D,UAAUra,IACtB,EACAsN,QAAS,SAAUqqE,GACjB,IAAImmB,EAAe,WACjB,OAAOnmB,EAAUt9D,UAAUra,IAC7B,EAEA,OADA7E,EAAOloC,GAAG,gBAAiB6qI,GACpB,WACL3iG,EAAOhoC,IAAI,gBAAiB2qI,EAC9B,CACF,GAEJ,GACF,CA+3MIC,CAAQ5iG,GACR+rE,GAAQ/rE,EAAQgsE,EAAc5rE,EAAUC,QACxCzwE,GAhilBmB,SAAUowE,GAC/B,OAAOA,EAAO8O,SAAS,iBAAkB,CAAC,EAAG,SAC/C,CA8hlBU+zF,CAAiB7iG,IAAS,SAAU8iG,EAA0Bl8K,GAClEo5E,EAAOmI,GAAGC,SAAS26F,sBAAsBn8K,EAAMk8K,EACjD,IACA,IAAIxpK,EAAK0mE,EAAOmI,GAAGC,SAASC,SAAU+V,EAAU9kF,EAAG8kF,QAASrqB,EAAYz6D,EAAGy6D,UAAW+zF,EAAkBxuJ,EAAGwuJ,gBAAiB4a,EAAWppK,EAAGopK,SACtIM,EAAalzF,GAA2B9P,GACxCw/E,EAAc,CAChBzrF,UAAWA,EACXF,MAAOoC,GAAS+J,GAChByzE,QAAS1iE,GAAW/Q,GACpByP,QAASuzF,EAAWr3K,YAAW,WAC7B,OAv+kBS,SAAUq0E,GACzB,OAAOA,EAAO8O,SAAS,WAAW,EACpC,CAq+kBe8/D,CAAW5uE,EACpB,IACA69E,mBAAoBuD,IAAgB14E,GAAYwpE,SAChD9zD,QAASA,EACTgsD,QAASs4B,GAEXxY,GAAWlqF,EAAQ8nF,EAAiBh6G,EAAM,CAAEsyB,UAAWA,IACvD47F,GAAQh8F,EAAQlyB,GAChB,IAAIk1B,EAAMhD,EAAO+O,aACb3tE,EAASihK,IACThxF,EAAe,CACjBG,WAAYA,EACZtR,aAAcA,EACdqR,eAAgBA,GAEdlpF,EAAO,CACT03J,WAAY/8E,EACZ5hE,OAAQA,GAEV,OAAO45B,EAAKymD,OAAOzhB,EAAQqR,EAAcmuE,EAAap/E,EAAW/3E,EACnE,EAME46K,MAjEU,WAMV,MAAO,CAAE7zI,SALM,CACb8zI,aAAchjG,EAAa3iD,UAC3BC,YAAa0iD,EAAa1iD,YAC1B6qE,SAAUpgG,GAGd,EA4DF,EAoBIk7K,GAAW16K,EAAW,CACxBkoB,GAAW,YACXW,GAAO,kBACPa,GAAkB,YAAarQ,IAC/B+P,GAAU,eAAgBpoB,GAC1BooB,GAAU,aAAc,CAAC,GACzB3F,GAAM,kBAAmB,CAAC0gD,KAC1B1hC,GAAkB,aAClBE,GAAwB,cAEtBg4I,GAAQ,CAAEpuH,OAAQtsD,GAClB26K,GAAU56K,EAAW,CACvBqsD,GAAS,CACPluD,KAAM,aACN85C,UAAW,SAAUjnB,EAAQ4F,GAC3B,MAAO,CACLa,WAAYmR,GAAS,CAAC6pI,GAASx3I,OAAO,CAClCsX,KAAM,QACNg8H,UAAW,SAAUjzJ,GACnB,OAAO2jB,GAAS3jB,EAAQ,mBAAmBrY,MAAMqY,EACnD,EACA+zJ,aAAcr+I,EAAO6pJ,eAAe13K,SAAS,IAAIrC,MAAM,+EAAiF6hB,KAAKC,UAAUgU,EAAM,KAAM,IAAI5W,SACvK6rB,UAAW7a,EAAO8pJ,kBAG1B,IAEF74I,GAAS,CACPrc,OAAQ,CAACsC,GAAW,QACpB/pB,KAAM,UAER8jC,GAAS,CACP0sB,QAASgsH,GACT/0J,OAAQ,CAACsC,GAAW,QACpB/pB,KAAM,UAER8jC,GAAS,CACP0sB,QAASgsH,GACT/0J,OAAQ,CAACsC,GAAW,QACpB/pB,KAAM,SAERkuD,GAAS,CACPsC,QAASgsH,GACT/0J,OAAQ,CAACsC,GAAW,QACpB/pB,KAAM,WAERsvD,GAAW,CACTkB,QAAS,CACPpC,OAAQ,SAAU31B,EAAM5F,GACtB,OAAO3vB,EAASA,EAAS,CAAC,EAAGu1B,GAAO,CAClCltB,IAAKsnB,EAAOtnB,IACZmyB,WAAY7K,EAAO6K,YAEvB,GAEFjW,OAAQ,CACNwD,GAAU,MAAO,CACfze,IAAK,MACLwsB,OAAQ,CACN/X,SAAU,QACV9W,KAAM,MACN0Q,IAAK,MACLmE,MAAO,MACPC,OAAQ,SAGZgM,GAAU,aAAc,KAE1BjrB,KAAM,cAgFN48K,GAAc1pH,GAAU,CAC1BlzD,KAAM,cACNgzD,aAAcupH,KACdppH,WAAYspH,KACZjsH,QAhFc,SAAU39B,EAAQ6K,EAAYjF,EAAM83B,GAClD,IAAI79C,EACAmqK,EAAa9qI,KAqCb+qI,EAAgBxnJ,GAAW,gBAC3ByE,EAAa72B,EAASA,EAAS,CAAC,EAAG2vB,EAAOkH,cAAcrnB,EAAK,CAAC,GAAMwe,MAAmB,CAAC4rJ,GAAex6K,OAAOuwB,EAAOkH,WAAW,0BAA4B,IAAKrnB,IACrK,MAAO,CACLqgB,IAAKF,EAAOE,IACZxnB,IAAKsnB,EAAOtnB,IACZmyB,WAAYA,EACZ+B,KAAM,CACJmoD,KA3Ca,SAAU8N,GACzBmnF,EAAW5iK,IAAIy7E,GACf,IAAIxuC,EAAOr0B,EAAOihD,SAAS4hB,GAAQ1wF,WAC/B+3K,EAAkBxsH,EAAUurE,UAC5BA,EAAU50E,EAAKh1B,YAAY4E,MAAM5zB,EAASA,EAAS,CAAC,EAAG65K,GAAkB,CAC3Er/I,WAAYq/I,EAAgBr/I,WAAWp7B,OAAO,CAACs+B,GAAQ80D,KACvDp8D,WAAYmR,GAAS,CACnB49B,GAASvrC,OAAO,CAAC,GACjBA,GAAO,wBAAyB,CAACpJ,GAAYnE,MAAW,WACpDy2C,GAAO1L,QAAQo7B,EACjB,WAGNrwC,GAAO6B,EAAM40E,GACb91D,GAAO1L,QAAQo7B,EACjB,EA6BI/gB,KA5Ba,SAAU+gB,GACzBmnF,EAAWnrI,QACX97B,GAAO8/E,EAAOtoF,SAAS9H,MAAK,SAAU03K,GACpCtnF,EAAOxjE,YAAYoB,SAAS0pJ,GAAY13K,MAAK,SAAUw2H,GACrDr2E,GAAOq2E,EACT,GACF,GACF,EAsBIvkH,QArBgB,SAAUm+E,GAC5B,OAAO1kC,GAAa0kC,EAAQ7iE,EAAQ,OACtC,EAoBIoqJ,UAnBkB,SAAUvnF,GAC9B,OAAO1kC,GAAa0kC,EAAQ7iE,EAAQ,SACtC,EAkBIqqJ,QAdU,SAAUxnF,GACtB0uD,GAAS9jB,QAAQ5qC,EACnB,EAaIynF,QAlBU,SAAUznF,EAAQkuD,GAC9BQ,GAAS/jB,MAAM3qC,EAAQkuD,EACzB,GAkBE7pH,WAAYA,EACZ6D,gBAAiB,CACf7E,WAAY,CACV,KAAQ,SACR,aAAc,SAGlBO,WAAY8yB,GAAQv5B,EAAOuqJ,gBAAiB,CAC1C91G,GAAUxqC,OAAO,CAAC,GAClBkpC,GAAOlpC,OAAO,CACZsX,KAAM,SACN2nB,QAASlpC,EAAOy/C,UAChBxW,SAAUjpC,EAAOipC,SACjBN,aAAc3oC,EAAO2oC,eAEvB4oF,GAAStnH,OAAO,CAAEogD,QAAS2/F,EAAWljK,MACtCmjB,GAAOggJ,EAAe,CAACnpJ,IAAc,SAAU+G,GAtJpC,IAAU2iJ,EAAiBC,EACtChkF,EAVsBikF,EAAkBC,EACxCC,EAQqBJ,EAuJN3iJ,EAAEttB,QAvJqBkwK,EAuJZtsH,GAAat2B,EAAG7H,EAAQ,SAASzlB,QAtJ3DksF,EAAUvhF,GAAOslK,EAAiB,MAAM34K,MAAK,WAC/C,IAAItG,EAAKk3B,GAAW,gBAEpB,OADA5d,GAAM4lK,EAAc,KAAMl/K,GACnBA,CACT,GAAG0D,GACH4V,GAAM2lK,EAAiB,kBAAmB/jF,GAfhBikF,EAiKN7iJ,EAAEttB,QAjKsBowK,EAiKbxsH,GAAat2B,EAAG7H,EAAQ,QAAQzlB,QAhK3DqwK,EAAax3K,EAAS/B,KAAK2T,GAAM0lK,EAAkB,OAAO74K,MAAK,WACjE,IAAItG,EAAKk3B,GAAW,mBAEpB,OADA5d,GAAM8lK,EAAiB,KAAMp/K,GACtBA,CACT,GAAG0D,GACH4V,GAAM6lK,EAAkB,mBAAoBE,EA4JtC,QAGR,EAMEh+I,KAAM,CACJmoD,KAAM,SAAUnoD,EAAMi2D,GACpBj2D,EAAKmoD,KAAK8N,EACZ,EACA/gB,KAAM,SAAUl1C,EAAMi2D,GACpBj2D,EAAKk1C,KAAK+gB,EACZ,EACAn+E,QAAS,SAAUkoB,EAAMi2D,GACvB,OAAOj2D,EAAKloB,QAAQm+E,EACtB,EACAunF,UAAW,SAAUx9I,EAAMi2D,GACzB,OAAOj2D,EAAKw9I,UAAUvnF,EACxB,EACAynF,QAAS,SAAU19I,EAAMi2D,EAAQkuD,GAC/BnkH,EAAK09I,QAAQznF,EAAQkuD,EACvB,EACAs5B,QAAS,SAAUz9I,EAAMi2D,GACvBj2D,EAAKy9I,QAAQxnF,EACf,KAIAgoF,GAA6Bt3J,GAAM,CACrC8D,GAAe,QACfA,GAAe,SACf5nB,OAAO0iF,KACL24F,GAAoCz1J,GAEpC01J,GAAyB,CAC3Bh0J,GAAQ,OAAQ,OAAQhG,IAAe,WACrC,OAAO0R,GAAW,cACpB,IAAIrN,IACJ4C,GAAa,QACbQ,GAAoB,QAAS,MAAO,CAClC,QACA,QAEFC,GAAiB,WAAW,GAC5BA,GAAiB,YAAY,IAE3BuyJ,GAA2B75K,EAAcA,EAAc,GAAI45K,IAAwB,GAAO,CAAC1zJ,GAAe,UAAU,GACpH4zJ,GAA2B95K,EAAc,CAACmmB,GAAmB,OAAQ,CACrE,SACA,SACA,YACG0zJ,IAA0B,GAC7BE,GAAyB/5K,EAAc,CACzCmmB,GAAmB,OAAQ,CAAC,SAC5BU,GAAa,QACbA,GAAa,WACbA,GAAa,QACbJ,GAAgB,QAASizJ,KACxBE,IAAwB,GACvBI,GAA2Br0J,GAAS,OAAQ,CAC9Cs0J,OAAQH,GACRxiG,OAAQwiG,GACR/4J,OAAQ+4J,GACRh4G,KAAMi4G,KAGJG,GAAoB,CACtBh0J,GAAe,QACfA,GAAe,QACfC,GAAmB,QAAS,CAC1B,OACA,OACA,QACA,YAEFD,GAAe,QACfe,GAAU,MAAO,KAEfkzJ,GAAoB/3J,GAAM83J,IAS1BE,GAAe,CACjBl0J,GAAe,QACfA,GAAe,QACfoB,GAAiB,YAAY,GAC7BA,GAAiB,WAAW,GAC5B1B,GAAQ,OAAQ,OAAQhG,IAAe,WACrC,OAAO0R,GAAW,cACpB,IAAIrN,IACJ4C,GAAa,QACbS,GAAiB,cAAc,IAE7B+yJ,GAAej4J,GAAMg4J,IAErBE,GAAiB,CACnBp0J,GAAe,QACfA,GAAe,QACfA,GAAe,SACfoB,GAAiB,YAAY,IAE3BizJ,GAAiBn4J,GAAMk4J,IACvBE,GAAwBt2J,GAExBu2J,GAAsB,CACxBv0J,GAAe,QACfA,GAAe,SAEbw0J,GAA+BD,GAAoBn8K,OAAO,CAACuoB,GAAa,WAExE8zJ,GAAmBD,GAA6Bp8K,OAAO,CAAC2oB,GAAU,UAAW,UAC7E2zJ,GAAmBx4J,GAAMu4J,IACzBE,GAA0Bl3J,GAAS,CACrCuC,GAAe,SACfA,GAAe,QACfA,GAAe,UAIb40J,GAAmB14J,GADAs4J,IAEnBK,GAA0B92J,GAG1B+2J,GAAoB54J,GADAs4J,IAEpBO,GAA2Bh3J,GAE3Bi3J,GAAqBT,GAAoBn8K,OAAO,CAClD8oB,GAAgB,MAAO,YACvBlB,GAAe,YACfA,GAAe,aA7x2BM,SAAUrgB,EAAKma,GACpC,OAAOkH,GAAYrhB,EAAKma,EAAUsE,GACpC,CA4x2BE62J,CAAiB,gBAAYjgL,KAE3BkgL,GAAwBX,GAAoBn8K,OAAO,CACrD8oB,GAAgB,MAAO,YACvBhB,GAAiB,UAEfi1J,GAAqBr2J,IAAQ,SAAU9f,GACzC,OAAOggB,GAAM,mBAAoBjD,GAAUm5J,IAAwBl2K,GAAG9D,SAAQ,WAC5E,OAAO8jB,GAAM,mBAAoBjD,GAAUi5J,IAAqBh2K,EAClE,GACF,IACIo2K,GAA4Br3J,GAG5Bs3J,GAAiBn5J,GADAs4J,IAEjBc,GA962BKv4J,GAAMjC,IAg72BXy6J,GAAmB,SAAUC,GAC/B,MAAO,CACLx1J,GAAe,QACfD,GAAe,WACfy1J,EAEJ,EAEIC,GAAkB,CACpBz1J,GAAe,QACfA,GAAe,QACfmB,GAAoB,UAAW,eAAgB,CAC7C,eACA,cAGAu0J,GAAkBx5J,GAAMu5J,IAExBE,GAAenB,GAA6Bp8K,OAAO,CAACgpB,GAAiB,aAAa,KAClFw0J,GAAe15J,GAAMy5J,IACrBE,GAAsB93J,GAEtB+3J,GAAmBtB,GAA6Bp8K,OAAO,CAAC0nB,GAAW,eAAgB5D,GAAM,CACzF2D,GAAW,QACXG,GAAe,YAEf+1J,GAAmB75J,GAAM45J,IAEzBE,GAAcxB,GAA6Bp8K,OAAO,CACpDuoB,GAAa,aACbA,GAAa,eACbS,GAAiB,aAAa,GAC9BA,GAAiB,YAAY,KAE3B60J,GAAc/5J,GAAM85J,IACpBE,GAAqBn4J,GAErBo4J,GAAoB,SAAUX,GAChC,MAAO,CACLx1J,GAAe,QACfA,GAAe,SACfw1J,EAEJ,EAEIY,GAA0B,CAC5Bp2J,GAAe,QACfA,GAAe,UAEbq2J,GAA0B,CAC5Br2J,GAAe,QACfO,GAAgB,QA772BJ,SAAU+1J,EAAM/4J,GAC5B,OA5HIg5J,EAAO5yK,GA4HQ4Z,GArHZ,CACL3C,QAPY,SAAUxE,EAAMvG,GAC5B,OAAO0mK,IAAO37J,QAAQxE,EAAMvG,EAC9B,EAMEnU,SALa,WACb,OAAO66K,IAAO76K,UAChB,GAPU,IACN66K,CA6HN,CA272B2BC,CAAQ,GAAS,WACxC,OAAOC,EACT,MAEEA,GAAoBz5J,GAAM,CAC5Bd,GAAMk6J,IACNl6J,GAAMm6J,MAEJK,GAAgBlC,GAA6Bp8K,OAAO,CACtDmoB,GAAgB,QAASk2J,IACzBr1J,GAAiB,YAAY,KAE3Bu1J,GAAgBz6J,GAAMw6J,IACtBE,GAAuB74J,GAEvB84J,GAAkBrC,GAA6Bp8K,OAAO,CACxDioB,GAAmB,QAAS,CAC1BL,GAAe,QACfA,GAAe,WAEjBiB,GAAgB,OAAQ,GACxBG,GAAiB,YAAY,KAE3B01J,GAAkB56J,GAAM26J,IACxBE,GAAyBh5J,GAEzBi5J,GAAkBxC,GAA6Bp8K,OAAO,CACxDgpB,GAAiB,aAAa,GAC9BA,GAAiB,YAAY,KAE3B61J,GAAkB/6J,GAAM86J,IACxBE,GAAyBh7J,GAAM,CACjC8D,GAAe,SACfA,GAAe,YAGbm3J,GAAc,CAChBn3J,GAAe,QACfO,GAAgB,SAAUxC,IAC1BwC,GAAgB,QAASxD,GAAMgB,MAE7Bq5J,GAAcl7J,GAAMi7J,IAEpBE,GAAiB7C,GAA6Bp8K,OAAO,CACvDuoB,GAAa,eACbS,GAAiB,aAAa,GAC9BA,GAAiB,YAAY,KAE3Bk2J,GAAiBp7J,GAAMm7J,IACvBE,GAAwBx5J,GAExBy5J,GAAiBhD,GAA6Bp8K,OAAO,CACvD+oB,GAAoB,WAAY,OAAQ,CACtC,QACA,QACA,SAEFJ,GAAU,YAAY,KAEpB02J,GAAiBv7J,GAAMs7J,IACvBE,GAAwBx7J,GAAM,CAChC8D,GAAe,SACfe,GAAU,OAAQ,CAAC,KAGjB42J,GAAmB,SAAU7hL,GAC/B,OAAO4pB,GAAQ,QAAS,QA153BjB,CACLpd,IAAK,WACLsX,QAAS,CAAC,GAw53BmCmD,GAAM+B,IAAQ,SAAU9f,GACrE,OAAOggB,GAAM,oBAAsBlpB,EAAM8hL,GAAY54K,GAAGxE,MAAK,SAAUq9K,GACrE,OAAOhgK,GAAOzV,MAAMkd,GAAYu4J,GAClC,IAAG,SAAUC,GACX,OAAOjgK,GAAOtiB,MAAMuiL,EACtB,GACF,KACF,EACIF,GAAah8J,IAAW,WAC1B,OAAO+C,GAAS,OAAQ,CACtBu/G,YAAa+1C,GACbn2C,IAAK5hH,IAxMuBs5J,EAwMDmC,GAAiB,OAvMvC,CACL33J,GAAe,QACfw1J,KAsMAtqD,OAAQipD,GACRt1C,SAAUw1C,GACVxlF,WAAY+lF,GACZxnF,YAAa0nF,GACbx1C,SAAU+1C,GACVrzG,KAAM9lD,GAAMq5J,GAAiBoC,GAAiB,UAC9Cj5C,OAAQk3C,GACRv7J,MAAO47J,GACPz2C,QAASm3C,GACT92C,UAAWi3C,GACX52C,UAAW+2C,GACX34C,SAAUg5C,GACVn3C,SAAUs3C,GACV91C,aAAcwzC,GACd9yC,UAAWqzC,GACXpzC,WAAYyzC,GACZ93C,WAAYy2C,GACZz1J,MAAO/C,GAAMi6J,GAAkBwB,GAAiB,WAChDp1C,MAAO60C,GACPrpD,MAAOgqD,KA5NW,IAAUvC,CA8NhC,IACIwC,GAAc,CAChBh4J,GAAe,QACfe,GAAU,UAAW,IACrBR,GAAgB,QAASq3J,KAEvBG,GAAc77J,GAAM87J,IAEpBC,GAAY,CACdv4J,GAAQ,OAAQ,OAAQhG,IAAe,WACrC,OAAO0R,GAAW,WACpB,IAAIrN,IACJiC,GAAe,SACfO,GAAgB,QAASq3J,KAEvBM,GAAiB,CACnBl4J,GAAe,QACfK,GAAmB,OAAQ43J,KAEzBE,GAAiBj8J,GAAMg8J,IAEvBE,GAAqBzE,GACrB0E,GAAqBvE,GACrBwE,GAAep8J,GAAM,CACvB8D,GAAe,SACfF,GAAW,OAAQnB,GAAS,OAAQ,CAClCovG,MAAOgqD,GACPQ,SAAUJ,MAEZj3J,GAAgB,OAAQ,UACxBX,GAAgB,UAAW83J,IAC3Bt3J,GAAU,cAAe,CAAC,GAC1BM,GAAkB,WAAYlqB,GAC9BkqB,GAAkB,WAAYlqB,GAC9BkqB,GAAkB,WAAYlqB,GAC9BkqB,GAAkB,UAAWlqB,GAC7BkqB,GAAkB,WAAYlqB,GAC9B4pB,GAAU,cAAe5pB,KAMvBqhL,GAAwBt8J,GAAMpiB,EAAc,CAACmmB,GAAmB,OAAQ,CACxE,SACA,YACGm4J,IAAoB,IACvBK,GAAkBv8J,GAAM,CAC1B8D,GAAe,SACfA,GAAe,OACfU,GAAa,UACbA,GAAa,SACbG,GAAc,UAAW23J,IACzBn3J,GAAkB,WAAYlqB,GAC9BkqB,GAAkB,WAAYlqB,GAC9BkqB,GAAkB,UAAWlqB,GAC7BkqB,GAAkB,YAAalqB,KAM7BuhL,GAAgB,SAAU/5K,GAC5B,OAAItI,EAASsI,GACJ,CAACA,GAAKvG,OAAOwF,EAAO6B,GAAOd,GAAM+5K,KAC/BpiL,EAAQqI,GACVf,EAAOe,EAAK+5K,IAEZ,EAEX,EAEIC,GAAc,SAAUh6K,GAC1B,OAAOvI,EAASuI,EAAIrJ,OAASc,EAASuI,EAAI7I,KAC5C,EACI8iL,GAAiB,CACnB/5C,SAAUy1C,GACVzlF,WAAYgmF,GACZznF,YAAa2nF,GACbz1C,SAAUg2C,GACVj7J,MAAO67J,GACPx3C,OAAQm3C,GACR31C,UAAWg3C,GACXr3C,UAAWk3C,GACXv3C,QAASo3C,GACTh6K,KAAMs6K,GACN54C,SAAUi5C,GACVp3C,SAAUu3C,GACV/1C,aAAcyzC,GACdn3C,WAAY02C,GACZkE,eAAgBpF,IASdqF,GAAsB,SAAU7+F,GAClC,IAAI8+F,EALc,SAAU9+F,GAC5B,OAAO/8E,EAASw7K,GAAcz+F,GAAY0+F,GAC5C,CAGmBK,CAAc/+F,GAC3Bj+D,EAASpe,EAAOm7K,GAAY,SAAU7pK,GACxC,OAVmB,SAAUA,GAC/B,OAAOnT,EAAS/B,KAAK4+K,GAAe1pK,EAAK5Z,MAC3C,CAQW2jL,CAAiB/pK,GAAM1U,MAAK,WACjC,MAAO,EACT,IAAG,SAAU+iB,GACX,MAAO,CAACuC,GAAW5Q,EAAKpZ,KAAMynB,GAChC,GACF,IACA,OAAOrB,GAAMF,EACf,EAEIpB,GAAU,SAAUq/D,GAItB,MAAO,CACLi/F,eAJmBp+K,GAxEdkkB,GAAM,SAAUs5J,GAwEoBr+F,IAKzCk/F,cAJkBL,GAAoB7+F,GAKtCkT,YAJgBlT,EAAUkT,YAM9B,EACIisF,GAAgB,CAClB37H,KAAM,SAAU6I,EAAS2zB,GACvB,IAAI76D,EAAaxE,GAAQq/D,GACzB,OAAO3zB,EAAQlnC,EAAW85J,eAAgB95J,EAAW+tE,YAAa/tE,EAAW+5J,cAC/E,EACAE,QAAS,SAAU/yH,EAAS2zB,GAE1B,OAAO3zB,EADcxrD,GApEhBkkB,GAAM,SAAUy5J,GAoEyBx+F,IAEhD,EACAq/F,OAAQ,SAAUr/F,GAChB,OAAOr/D,GAAQq/D,EACjB,GAGEs/F,GAAgB,SAAU95K,GAC5B,IAAIgZ,EAAS,GACTgD,EAAS,CAAC,EAQd,OAPArgB,GAAKqE,GAAQ,SAAUlK,EAAOO,GAC5BP,EAAMiF,MAAK,WACTie,EAAOzkB,KAAK8B,EACd,IAAG,SAAUkJ,GACXyc,EAAO3lB,GAAQkJ,CACjB,GACF,IACOyZ,EAAOvhB,OAAS,EAAI2gB,GAAOzV,MAAMqW,GAAUZ,GAAOtiB,MAAMkmB,EACjE,EAEI+9J,GAAkB,SAAUjrJ,EAAM+gD,GACpC,IAAImqG,EAAUvtG,GAAOyjC,GAAKzrD,QAAO,SAAU5/B,GACzC,MAAO,CACLjjB,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,YAAYx2B,OAAOm2B,EAAKK,UAEpC4E,WAAY32B,EAAM0xB,EAAKgyB,OAAO,SAAUrxC,GACtC,OAAO4zH,GAAgBx+G,EAAOpV,EAAMogE,EACtC,IAEJ,KACA,MAAO,CACLjuE,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,qBAEZ4E,WAAY,CAAC,CACTnyB,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,6BAEZ4E,WAAY,CAACimJ,EAAQptG,YAEzBj9C,WAAYmR,GAAS,CACnBu7B,GAAOlpC,OAAO,CACZsX,KAAM,UACNonB,aAAcj5D,EAAIm/G,MAEpBxC,GAAyBykE,GACzB5jE,GAA4B4jE,EAAS,CACnCxjE,YAAa,SAAUyjE,GACrB,OAAOH,GAAcG,GAAWl/K,MAAK,SAAUwd,GAE7C,OADA7V,QAAQC,MAAM4V,GACP,CAAC,CACV,GAAGpgB,EACL,MAIR,EAyBI+hL,GAAYr3H,GAAO,CACrBxsD,KAAM,YACNgzD,aAAc,CACZ/nC,GAAU,WAAO/rB,GACjB6qB,GAAW,SACXH,GAAQ,MAAO,MAAO3F,IAAe,WACnC,MAAO,CACL8U,WAAY,CACV,KAAQ,MACR,GAAMzD,GAAW,QACjB,gBAAiB,SAGvB,IAAI1N,MACJ8C,GAAO,UACPO,GAAU,kBAAmB,CAAC,GAC9B3F,GAAM,sBAAuB,CAC3B+iD,GACArC,GACAna,KAEF9hC,GAAW,SAEbymC,QA9Cc,SAAU39B,EAAQy5C,GAChC,MAAO,CACLv5C,IAAKF,EAAOE,IACZxnB,IAAKsnB,EAAOtnB,IACZmyB,WAAY7K,EAAO6K,WACnBtI,OAAQ40C,GAASn3C,EAAOH,QACxB4G,WAAY8yB,GAAQv5B,EAAOixJ,oBAAqB,CAC9Cz7G,GAASvrC,OAAO,CAAC,GACjBkpC,GAAOlpC,OAAO,CACZsX,KAAM,YACNyoB,UAAU,EACVE,UAAU,IAEZlR,GAAa/uB,OAAO,CAClBsqB,MAAO,CACLhT,KAAM,SACNmX,aAAc14B,EAAOpzB,WAI3Bm+B,gBAAiB/K,EAAO+K,gBAE5B,IA2BImmJ,GAAWliL,EAAW,CACxBkoB,GAAW,QACXA,GAAW,OACXkB,GAAU,kBAAkB,GAC5B3F,GAAM,mBAAoB,CACxBkyC,GACAwO,KAEFniC,GAAU,CACR,WACA,oBAGAmgJ,GAAWp1K,GAAM,CACnB4hD,QAASqzH,GACT7jL,KAAM,OACN8rE,KAAM,MACNhyB,UAAW,SAAUmqI,GACnB,IAAIC,EAAe,SAAUC,EAAQ/uD,GACnC59D,GAAaX,YAAYstH,EAAQ/uD,GACjCtjG,GAASqyJ,EAAQ1yJ,KAAc,CAC7B0yJ,OAAQA,EACR/uD,OAAQA,GAEZ,EACIgvD,EAAc,SAAUD,EAAQ/uD,GAClC59D,GAAa1B,UAAUquH,EAAQ/uD,GAC/BtjG,GAASqyJ,EAAQ3yJ,KAAa,CAC5B2yJ,OAAQA,EACR/uD,OAAQA,GAEZ,EACA,MAAO,CACL1iG,OAAQ,SAAU0iG,GAChB,IAAI+uD,EAAS/uD,EAAOljG,YAAYc,SAASixJ,EAAUlxJ,KAAK/tB,WACpD25I,EAAennF,GAAazB,cAAcouH,EAAQ/uD,IAEhDupB,GAAgBslC,EAAUI,eACrBH,EACGvlC,EAGHt9I,EAFA+iL,GAKFD,EAAQ/uD,EACnB,EACAx3F,gBAAiB,CAAE9E,QAAS,CAACmrJ,EAAUj4G,QAAQs4G,WAEnD,IAEEC,GAAU1iL,EAAW,CAACmiL,KAiCtBQ,GAAStxH,GAAU,CACrBlzD,KAAM,SACNgzD,aAAc+wH,KACd5wH,WAAYoxH,KACZ/zH,QAnCc,SAAU39B,EAAQ6K,EAAY4uC,EAAOC,GACnD,MAAO,CACL,IAAO15C,EAAOE,IACd,IAAOF,EAAOtnB,IACdmyB,WAAYA,EACZ,iBAAkB,SAClB,gBAAmB,CAAE3E,WAAY,CAAE2zC,KAAM,YACzC,WAActgB,GAAQv5B,EAAO4xJ,iBAAkB,CAC7CjtH,GAAa16B,OAAO,CAClB64B,eAAgB9iC,EAAOm5C,QAAQ04G,cAC/BvuH,UAAWtjC,EAAOm5C,QAAQs4G,SAC1BtuH,YAAa,SAAUmuH,EAAQQ,GAC7BjtK,GAAMitK,EAAIv3K,QAAS,gBAAiB,OACtC,EACAyoD,cAAe,SAAUsuH,EAAQQ,GAC/BjtK,GAAMitK,EAAIv3K,QAAS,gBAAiB,QACtC,IAEF44D,GAAOlpC,OAAO,CACZsX,KAAM,OACNgtB,WAAY,SAAU+iH,GACpB,OAAO3sH,GAAaJ,eAAe+sH,GAAQ9+K,KAAI,SAAUs/K,GACvD,OAAOA,EAAIv3K,OACb,GACF,EACA8G,SAAU,IAAM2e,EAAOm5C,QAAQs4G,SAC/B7iH,eAAe,MAIvB,IAgBImjH,GAAUp4H,GAAO,CACnBxsD,KAAM,UACNgzD,aAAc,CAAC1tC,GAAM,oBAAqB,CAACgiD,MAC3C9W,QAXc,SAAU39B,EAAQy5C,GAChC,MAAO,CACLv5C,IAAKF,EAAOE,IACZxnB,IAAKsnB,EAAOtnB,IACZ+tB,WAAY8yB,GAAQv5B,EAAOgyJ,kBAAmB,CAACv9G,GAAUxqC,OAAO,CAAC,KACjEc,gBAAiB,CAAE7E,WAAY,CAAE2zC,KAAM,aAE3C,IAOIjlD,GAAS5lB,EAAW,CACtBopB,GAAU,eAAe,GACzBoZ,GAAU,eACVA,GAAU,gBACVpZ,GAAU,OAAQ,IAClB3F,GAAM,uBAAwB,MAE5Bw/J,GAAUhhJ,GAAS,CACrB0sB,QAASg0H,GACT/8J,OAAQ,CACNsC,GAAW,OACXM,GAAc,UAAW,CACvBN,GAAW,YACXA,GAAW,oBAGf/pB,KAAM,SACN4vD,SAAU,SAAU/8B,GAClB,MAAO,CAAEkyJ,KAAMlyJ,EAAOkyJ,KACxB,IAEEC,GAAWlhJ,GAAS,CACtB0sB,QAASo0H,GACT5kL,KAAM,YAEJwuB,GAAQ3sB,EAAW,CACrBijL,GACAE,KAkEEC,GAAa/xH,GAAU,CACzBlzD,KAAM,aACNgzD,aAAcvrC,KACd0rC,WAAY3kC,KACZgiC,QAnEY,SAAU39B,EAAQ6K,EAAY4uC,EAAOC,GACjD,IAgBI24G,EAAc,SAAUC,EAASC,GACnCt0H,GAAQq0H,EAAStyJ,EAAQ,UAAUvtB,MAAK,SAAU6+K,GAChDiB,EAAOjB,GAAQ7+K,KAAKysB,GACtB,GACF,EACA,MAAO,CACLgB,IAAKF,EAAOE,IACZxnB,IAAKsnB,EAAOtnB,IACZmyB,WAAYA,EACZpE,WAAY4yB,GAAMr5B,EAAOwyJ,sBACzBjwJ,OAAQ/C,GAASxqB,EAAQ,CACvBgrB,EAAOyyJ,YAAc,CAAC3xJ,IAAc,SAAUwxJ,EAAS/7I,GACnD87I,EAAYC,EAAS3tH,GAAapB,SACpC,KAAM,GACR,CACE5jC,GAAMhB,MAAa,SAAU2zJ,EAASj3J,IA/B1B,SAAUknG,GAC1B,IAAImwD,EAAW15H,GAAahC,SAASurE,GACrCtkE,GAAQskE,EAAQviG,EAAQ,WAAWvtB,MAAK,SAAUkgL,GAChD,IAAIC,EAAeh+K,EAAOorB,EAAOkyJ,MAAM,SAAUplL,GAC/C,OAAOA,EAAEF,QAAU8lL,CACrB,IACAE,EAAangL,MAAK,SAAUogL,GAC1B,IAAIztD,EAAQytD,EAAQ5lK,OACpB/H,GAAOq9G,EAAOhoH,QAAS,MAAM9H,MAAK,SAAUlH,GAC1CsZ,GAAM8tK,EAAQp4K,QAAS,kBAAmBhP,EAC5C,IACAkpE,GAAUrtD,IAAIurK,EAASvtD,GACvBplG,EAAO8yJ,YAAYH,EAASpwD,EAAQ6C,EACtC,GACF,GACF,CAkBQmsD,CADal2J,EAAe/R,MAAMi5G,OAEpC,IACA5iG,GAAMf,MAAc,SAAU0zJ,EAASj3J,GACrC,IAAIknG,EAASlnG,EAAe/R,MAAMi5G,OAClCviG,EAAO+yJ,aAAaT,EAAS/vD,EAC/B,QAGJ31F,KAAM,CACJomJ,aAAc,SAAUV,GACtB,OAAOr0H,GAAQq0H,EAAStyJ,EAAQ,WAAWxtB,KAAI,SAAUmgL,GACvD,OAAOl+G,GAAU/e,SAASi9H,EAC5B,IAAG1gL,MAAM,GACX,EACAghL,QAAS,SAAUX,EAASY,GAU1Bb,EAAYC,GATY,SAAUhB,GAChC,IAAIl1K,EAAauoD,GAAad,cAAcytH,GAI5C,OAHa18K,EAAOwH,GAAY,SAAUyrB,GACxC,OAAOmxB,GAAahC,SAASnvB,KAAOqrJ,CACtC,IACcrgL,QAAO,SAAUi/K,GAC7B,OAAQntH,GAAazB,cAAcouH,EAAQQ,EAC7C,GACF,GAEF,GAGN,EAMEllJ,KAAM,CACJomJ,aAAc,SAAUpmJ,EAAMxR,GAC5B,OAAOwR,EAAKomJ,aAAa53J,EAC3B,EACA63J,QAAS,SAAUrmJ,EAAMxR,EAAW83J,GAClCtmJ,EAAKqmJ,QAAQ73J,EAAW83J,EAC1B,KA+CAC,GAAmB,SAAUR,EAAShrK,GACxC/B,GAAM+sK,EAAS,SAAUhrK,EAAS,MAC7BxG,KAAW3B,QAAQ5B,OAGtB6I,GAASksK,EAAS,cAFlB/sK,GAAM+sK,EAAS,aAAchrK,EAAS,KAI1C,EACIyrK,GAAsB,SAAUC,EAAYV,EAASW,GACvDrlJ,GAASolJ,EAAY,mBAAmB5gL,MAAK,SAAUowF,GACrDt0D,GAAWs0D,EAAQ,oBAAoBpwF,MAAK,SAAU8gL,GACpDD,EAAaxsK,MAAMtU,KAAI,SAAUmV,GAG/B,OAFA/B,GAAM+sK,EAAS,SAAU,KACzB/sK,GAAM+sK,EAAS,aAAc,KACtB/lK,KAAK8mB,IAAI/rB,EAtCE,SAAUk7E,EAAQ8vF,EAASY,GACnD,IAGI11I,EAHA21I,EAAoB3wK,GAAgBggF,GAAQnqF,IAC5CuxI,EAAUh8G,GAAS40D,EAAQ,oBAAoB5wF,MAAM4wF,GAIvDhlD,EAH2C,UAA/B73B,GAAMikI,EAAS,YAGfr9H,KAAKrF,IAAIisK,EAAkB9mK,aAAcvS,OAAOqwI,aAEhD59H,KAAKrF,IAAIisK,EAAkB5rK,aAAc4rK,EAAkBxsD,cAEzE,IAAIysD,EAAgB5rK,GAAM8qK,GAEtBe,EADkBf,EAAQj6K,IAAI4P,YAAcirK,EAAQ76K,IAAI4P,WAAaY,GAAMqqK,GACtC3mK,KAAKrF,IAAIM,GAAM0rK,GAAUE,GAAiBA,EAC/EE,EAAkB7zK,SAASkG,GAAM68E,EAAQ,cAAe,KAAO,EAC/D+wF,EAAqB9zK,SAASkG,GAAM68E,EAAQ,iBAAkB,KAAO,EAGzE,OAAOhlD,GAFYh2B,GAAMg7E,GAAU8wF,EAAkBC,EACnBF,EAEpC,CAoBgCG,CAAoBhxF,EAAQ8vF,EAASY,GAC/D,IAAG9gL,MAAK,SAAUkV,GAChBwrK,GAAiBR,EAAShrK,EAC5B,GACF,GACF,GACF,EACImsK,GAAa,SAAUjxF,GACzB,OAAOt0D,GAAWs0D,EAAQ,oBAC5B,EACI3K,GAAU,SAAU67F,GACtB,IACMT,EACAU,EAFFC,GACEX,EAAep0I,KACf80I,EAAc,CAChBlzJ,IAAc,SAAUqE,GACtB,IAAI09D,EAAS19D,EAAK5qB,QAClBu5K,GAAWjxF,GAAQpwF,MAAK,SAAUkgL,GAChC/sK,GAAM+sK,EAAS,aAAc,UAC7BxtJ,EAAK9F,YAAYoB,SAASkyJ,GAAS7jK,aAAarc,MAAK,SAAUyhL,GAC7D,IAAIC,EA5EK,SAAUJ,EAASpB,EAASuB,GAC/C,OAAOhgL,EAAM6/K,GAAS,SAAUK,EAAM/lL,GACpComE,GAAUrtD,IAAI8sK,EAAaH,EAAQ1lL,GAAG4e,QACtC,IAAIitB,EAAOy4I,EAAQj6K,IAAIgP,wBAEvB,OADA+sD,GAAUrtD,IAAI8sK,EAAa,IACpBh6I,EAAKvyB,MACd,GACF,CAqE0B0sK,CAAeN,EAASpB,EAASuB,GAC3CI,EArEG,SAAUH,GAC3B,OAAOpoL,GAAKyJ,GAAK2+K,GAAS,SAAU3mL,EAAG2B,GACrC,OAAI3B,EAAI2B,GACE,EACC3B,EAAI2B,EACN,EAEA,CAEX,IACF,CA2DkColL,CAAaJ,GACnCG,EAAgBziL,KAAKyhL,EAAaz0I,MAAOy0I,EAAalsK,IACxD,IACAgsK,GAAoBvwF,EAAQ8vF,EAASW,GACrC7sK,GAASksK,EAAS,cA3Cd,SAAUoB,EAAS5uJ,GAC/Bp5B,GAAKgoL,GAASthL,MAAK,SAAUq/K,GAC3B,OAAOM,GAAWa,QAAQ9tJ,EAAM2sJ,EAAIllL,MACtC,GACF,CAwCUqmL,CAAQc,EAAS5uJ,GACjB89C,GAAShiC,uBAAsB,WAC7BmyI,GAAoBvwF,EAAQ8vF,EAASW,EACvC,GACF,GACF,IACA3zJ,GAAMvB,MAAgB,SAAU+G,GAC9B,IAAI09D,EAAS19D,EAAK5qB,QAClBu5K,GAAWjxF,GAAQpwF,MAAK,SAAUkgL,GAChCS,GAAoBvwF,EAAQ8vF,EAASW,EACvC,GACF,IACA3zJ,GAAMgyE,IAAiB,SAAUxsE,EAAMgyB,GACrC,IAAI0rC,EAAS19D,EAAK5qB,QAClBu5K,GAAWjxF,GAAQpwF,MAAK,SAAUkgL,GAChC,IAAIt5I,EAAWrC,GAAOlzB,GAAY6uK,IAClC/sK,GAAM+sK,EAAS,aAAc,UAC7B,IAAI6B,EAAYruK,GAAOwsK,EAAS,UAAUngL,KAAI,SAAU6U,GACtD,OAAOvH,SAASuH,EAAG,GACrB,IACAZ,GAASksK,EAAS,UAClBlsK,GAASksK,EAAS,cAClB,IAAIj6D,EAAYi6D,EAAQj6K,IAAIgP,wBAAwBC,OACrC6sK,EAAU5hL,QAAO,SAAUyU,GACxC,OAAOqxG,EAAYrxG,CACrB,KAEEisK,EAAalsK,IAAIsxG,GACjB06D,GAAoBvwF,EAAQ8vF,EAASW,IAErCkB,EAAU/hL,MAAK,SAAU4U,GACvB8rK,GAAiBR,EAAStrK,EAC5B,IAEFZ,GAASksK,EAAS,cAClBt5I,EAAS5mC,KAAKkmC,GAChB,GACF,KAGK,CACLq7I,YAAaA,EACbvB,aAHgB,IAcpB,MAAO,CACLwB,eAAgBA,EAChBQ,eAPO,CACLT,YAHgB,GAIhBvB,aAHgB,GAUtB,EAEIiC,GAA2B,uBAC3BC,GAAwB,oBACxBC,GAAiB,SAAUhvJ,EAAM+gD,GACnC,IAAIkuG,EAAch8J,GAAK,CAAC,GACpBi8J,EAAqB,SAAUluE,GACjC,IAAImuE,EAAW/7H,GAAahC,SAAS4vD,GACjCouE,EAAYpE,GAAcmE,GAAU9iL,MAAM,CAAC,GAC3CgjL,EAAcJ,EAAY/tK,MAC1B00G,EAAU5qG,GAAUqkK,EAAaD,GACrCH,EAAYztK,IAAIo0G,EAClB,EACI05D,EAAgB,SAAUtuE,GAC5B,IAAIisE,EAAUgC,EAAY/tK,MAC1BkyC,GAAajC,SAAS6vD,EAAMisE,EAC9B,EACIsC,EAASt8J,GAAK,MACdk7J,EAAU7/K,EAAM0xB,EAAKssJ,MAAM,SAAUJ,GACvC,MAAO,CACLllL,MAAOklL,EAAI3kL,KACXuL,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,6BACVsG,UAAWo6C,EAAUC,OAAOQ,UAAUn/D,UAAU6pK,EAAIj3F,QAEtD5tE,KAAM,WACJ,MAAO,CAAC+5F,GAAKzrD,QAAO,SAAU5/B,GAC1B,MAAO,CACLjjB,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,aAEZ4E,WAAY32B,EAAM49K,EAAIl6H,OAAO,SAAUrxC,GACrC,OAAO4zH,GAAgBx+G,EAAOpV,EAAMogE,EACtC,IACAggC,eAAgB/uE,GAAS,CACvBu7B,GAAOlpC,OAAO,CACZsX,KAAM,UACNonB,aAAcj5D,EAAIm/G,MAEpB5kF,GAAO,sBAAuB,CAC5BnJ,GAAco0J,GACdn0J,GAAc+zJ,KAEhBx8I,GAAUrO,OAAO,CACf0L,SAAUvb,GAAQ,CAChB,CACEpjB,IAAK09K,GACL9nL,MAAO,CAAEspC,UAAW4+I,IAEtB,CACE99K,IAAK29K,GACL/nL,MAAO,CAAEspC,UAAWg/I,UAMhC,IACJ,EAEJ,IACIE,EAAUl9F,GAAQ67F,GAASE,eAC/B,OAAO7B,GAAW72H,OAAO,CACvB7iD,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,qBAEZ6sJ,YAAa,SAAUR,EAAS/vD,EAAQ8yD,GACtC,IAAIloL,EAAO6rD,GAAahC,SAASurE,GACjCtjG,GAASqzJ,EAAS5gF,GAAoB,CACpCvkG,KAAMA,EACNmoL,QAASH,EAAOruK,QAElBquK,EAAO/tK,IAAIja,EACb,EACA+kL,KAAM6B,EACNlpJ,WAAY,CACVunJ,GAAWz2J,MAAM21J,OAAO,CACtB54K,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,yBAEZ4E,WAAY,CAAC8mJ,GAAOh2J,MAAMu2J,KAAK,CAAC,IAChC/4G,QAAS,CACPs4G,SAAU,UACVI,cAAe,qCAEjBD,iBAAkBh6I,GAAS,CAAC64D,GAAYxmE,OAAO,CAAC,OAElDmoJ,GAAWz2J,MAAMg3J,QAAQ,CACvBj6K,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,gCAIhBwsJ,YAAa2C,EAAQ3C,YACrBD,qBAAsB56I,GAAS,CAC7B3N,GAAO,WAAYmrJ,EAAQpB,aAC3B7gH,GAAOlpC,OAAO,CAAEsX,KAAM,YACtBuf,GAAU72B,OAAO,CACf22B,KAAM,SAAUz7B,GACd,OAAOp5B,GAAKqmL,GAAWY,aAAa7tJ,GACtC,IAEF6zB,GAAa/uB,OAAO,CAClBsqB,MAAO,CACLhT,KAAM,SACNyV,SAAU,SAAUu+H,GAElB,OADAA,EAASl2J,YAAY0E,YAAY,CAAC2wJ,IAA2B,CAAC,GACvDG,EAAY/tK,KACrB,EACAiwC,SAAU,SAAUw+H,EAAU3oL,GAC5BioL,EAAYztK,IAAIxa,GAChB2oL,EAASl2J,YAAY0E,YAAY,CAAC4wJ,IAAwB,CAAC,EAC7D,QAKV,EAEIa,GAAgB/yJ,GAAW,iBAC3BgzJ,GAAehzJ,GAAW,gBAC1BizJ,GAAcjzJ,GAAW,eACzBkzJ,GAAgBlzJ,GAAW,iBAC3BmzJ,GAAyBnzJ,GAAW,qBAEpCozJ,GAAa,SAAUjwJ,EAAMr6B,EAAIo7E,EAAWmvG,GAmB9C,MAAO,CACLp9K,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,0BACVC,WAAY71B,EAASA,EAAS,CAAC,EAAG9E,EAAGiH,KAAI,SAAU3F,GACjD,MAAO,CAAEtB,GAAIsB,EACf,IAAGoF,MAAM,CAAC,IAAK6jL,EAPE,CAAE,YAAa,UAOY,CAAC,IAE/CjrJ,WAAY,GACZpE,WAAYmR,GAAS,CACnBy0E,GAAyB,GACzBq1C,GAAWz3H,OAAO,CAChBm3H,QAASs0B,GACT/pE,YArBY,SAAUkQ,EAAOk6D,GACjC,OAAO3iL,EAASJ,KAAK,CACnBgjL,WAAY,WACV,MAA8B,aAAvBD,EAAS9xK,KAAKtX,IACvB,GAEJ,EAgBMu0J,iBAhCiB,SAAU60B,GAC/B,MACK,aADGA,EAAS9xK,KAAKtX,KAEX,CAACioL,GAAemB,EAAS9xK,KAAM0iE,IAG/B,CAACkqG,GAAgBkF,EAAS9xK,KAAM0iE,GAG7C,EAwBM6d,YAAa5+D,MAIrB,EAsCIrlB,GAAU+4E,GAASn5E,WAAWI,UAC9B01K,GAAe,SAAUp7F,EAAO5lC,GAClC,MAAO,CACLv8C,IAAK,CACHiB,IAAK,MACLwsB,OAAQ,CAAEqjE,QAAS,QACnBvjE,QAAS,CAAC,uBAEZ4E,WAAY,CACVgwD,EACA5lC,GAGN,EACIihI,GAAS,SAAUpiI,EAASmnC,GAC9B,OAAO8uF,GAAYpuJ,MAAMs5B,MAAMiuB,GAAO3nB,OAAO,CAC3C7iD,IAAK,CACHiB,IAAK,SACLssB,QAAS,CACP,aACA,mBACA,qBAEFC,WAAY,CACV,KAAQ,SACR,aAAc+0D,EAAmBhzE,UAAU,WAG/C4X,OAAQi0B,EACRsvB,iBAAkBxrC,GAAS,CAAC64D,GAAYxmE,OAAO,CAAC,OAEpD,EACIksJ,GAAY,WACd,OAAOpM,GAAYpuJ,MAAMk/D,MAAM,CAC7BniF,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,qBACVsG,UAAW,GACXpG,OAAQ,CAAEqjE,QAAS,UAGzB,EACI4sF,GAAe,SAAUpnK,EAASisE,GACpC,OAAO8uF,GAAYpuJ,MAAM1X,KAAK,CAC5BvL,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,qBAEZ4E,WAAY,CAAC,CACTnyB,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,6BAEZ4E,WAAY,CAAC,CAAEnyB,IAAKM,GAAS,MAAQiiF,EAAmBhzE,UAAU+G,GAAW,aAGrF,EACIqnK,GAAU,SAAU1xF,GACtB,OAAOolF,GAAYpuJ,MAAM26J,OAAO,CAC9B59K,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,uBAEZ4E,WAAY85D,GAEhB,EACI4xF,GAAe,SAAUC,EAAcC,GACzC,MAAO,CACLznF,GAAUzzC,OAAO,CACf7iD,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,6BAEZ4E,WAAY2rJ,IAEdxnF,GAAUzzC,OAAO,CACf7iD,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,2BAEZ4E,WAAY4rJ,IAGlB,EACIC,GAAiB,SAAU9wJ,GAC7B,IAAI/lB,EACA82K,EAAc,aACdtY,EAAesY,EAAc,QAC7BC,EAAuBvY,EAAe,aACtCwY,EAAkBF,EAAc,mBACpC,OAAO5M,GAAYxuH,OAAO,CACxB0lB,SAAUr7C,EAAKq7C,SACfhY,SAAU,SAAU9jC,GAElB,OADAS,EAAKqjC,SAAS9jC,GACP/xB,EAASJ,MAAK,EACvB,EACA21D,aAAc,SAAUrnD,GACtB,OAAQutG,GAAavtG,EACvB,EACA5I,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC0wJ,GAAalnL,OAAOm2B,EAAKkrE,cACnC3qE,OAAQ91B,EAAS,CAAE+d,SAAU,YAAcwX,EAAKkxJ,cAElDjsJ,WAAY15B,EAAc,CACxBy0B,EAAK0hD,OACL1hD,EAAK3hB,MACJ2hB,EAAK0wJ,OAAOxjL,WAAW,GAC1B6oB,MAAO,CACLstG,QAAS,CACPvwH,IAAKM,GAAS,eAAiBqlK,EAAe,YAC9CxzI,WAAY,CAAC,CACTnyB,IAAK,CACHiB,IAAK,MACLssB,QAAS1lB,GAAU,CACjBq2K,EACAA,EAAuB,YACrB,CAACA,QAKf/M,eAAgBxL,EAChBkM,gBAAiB3yI,GAASzmC,EAAc,CACtCqkE,GAASvrC,OAAO,CAAC,GACjBA,GAAO,gBAAiBrE,EAAKmxJ,aAAatnL,OAAO,CAACoxB,GAAYnE,MAAW,SAAUyI,EAAMgyB,GACrFgc,GAAO1L,QAAQtiC,EACjB,OACF8E,GAAO,cAAe,CACpBnJ,IAAc,WACZmI,GAAMhlB,KAAQ4yK,EAChB,IACA91J,IAAc,WACZqI,GAASnlB,KAAQ4yK,EACnB,OAEDjxJ,EAAKmrE,iBAAiB,IACzB7pE,WAAY72B,GAAUwP,EAAK,CAAC,EAAGA,EAAG8d,MAAe,CAAC,iBAAkB9d,EAAGwe,MAAmB,CACxF,cACA,gBACA,wBACCxe,EAAGye,MAAqB,CACzB,uBACA,gBACA,eACCze,GAAK+lB,EAAKsB,aAEjB,EAEI8vJ,GAAc,SAAU/7F,GAC1B,OAAO/X,GAAO3nB,OAAO,CACnB7iD,IAAK,CACHiB,IAAK,SACLssB,QAAS,CACP,aACA,mBACA,qBAEFC,WAAY,CACV,KAAQ,SACR,aAAc+0D,EAAmBhzE,UAAU,SAC3C,MAASgzE,EAAmBhzE,UAAU,WAG1C4iB,WAAY,CAACk6C,GAAS,QAAS,CAC3BprE,IAAK,MACLssB,QAAS,CAAC,aACTg1D,EAAmBxuF,QACxBozB,OAAQ,SAAUsF,GAChBpG,GAAKoG,EAAMksE,GACb,GAEJ,EACI4lF,GAAc,SAAUrxJ,EAAMr6B,EAAI0vF,GACpC,IAAIimE,EAAmB,SAAU9hI,GAC/B,MAAO,CAACvlB,GAAKohF,EAAmBhzE,UAAUmX,EAAKy7D,QACjD,EACA,MAAO,CACLniF,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,qBACVC,WAAY71B,EAAS,CAAC,EAAG9E,EAAGiH,KAAI,SAAU3F,GACxC,MAAO,CAAEtB,GAAIsB,EACf,IAAGoF,MAAM,CAAC,KAEZ44B,WAAYq2H,EAAiBt7H,GAC7Ba,WAAYmR,GAAS,CAAC8pH,GAAWz3H,OAAO,CACpCm3H,QAASq0B,GACTv0B,iBAAkBA,MAG1B,EACIg2B,GAAmB,WACrB,MAAO,CAAEx+K,IAAKM,GAAS,8CACzB,EAoCIsgJ,GAAY,SAAUz+D,EAAOlU,GAC/B,OAZsB,SAAU/gD,EAAMq1D,GACtC,IAAIk8F,EAASpN,GAAYpuJ,MAAMk/D,MAAMo8F,GAAYrxJ,EAAMxyB,EAAS1B,OAAQupF,IACpEm8F,EAAUrN,GAAYpuJ,MAAM07J,WAAWH,MACvChB,EAASnM,GAAYpuJ,MAAMs5B,MAAM+hI,GAAY/7F,IAC7CpwD,EAAa,CAACssJ,GAAQ1nL,OAAOm2B,EAAK0xJ,UAAY,CAACF,GAAW,IAAI3nL,OAAO,CAACymL,IAC1E,OAAOlnF,GAAUzzC,OAAO,CACtB7iD,IAAKM,GAAS,0CACd6xB,WAAYA,GAEhB,CAGS0sJ,CAAkB,CACvB18F,MAAOlU,EAAUC,OAAOQ,UAAUn/D,UAAU4yE,GAC5Cy8F,UAAW3wG,EAAUkc,OAAO44C,oBAC3B90D,EAAUC,OAAOQ,UACtB,EACI2pE,GAAc,SAAU/hI,EAASwoK,EAAIpwG,GACvC,MAAO,CACL1uE,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,4BACVC,WAAY,CAAE,aAAckhD,EAAUn/D,UAAU+G,IAChDmX,OAAQ,CACN7uB,KAAM,MACN6U,MAAO,MACPC,OAAQ,MACRpE,IAAK,MACLoG,SAAU,aAGdqY,WAAY+wJ,EACZ3sJ,WAAY,CAAC,CAAEnyB,IAAKM,GAAS,sEAEjC,EACIy+K,GAAiB,SAAUC,EAAYtwG,EAAW3zD,GACpD,MAAO,CACLqgC,QAAS,WACP,OAAOrgC,EAAMkkK,aACf,EACAxmC,QAAS,SAAUymC,GACjB7N,GAAYO,QAAQoN,KAAc,SAAU77D,EAAO27D,GACjD,OAAOzmC,GAAY6mC,EAAW5oK,QAASwoK,EAAIpwG,EAC7C,GACF,EACAiqE,UAAW,WACT04B,GAAYM,QAAQqN,IACtB,EAEJ,EACIG,GAAoB,SAAUjyJ,EAAM4+D,EAAauyF,EAAcpwG,GACjE,IAAI9mE,EAIJ,OAAOytB,GAAQopJ,GAAermL,EAASA,EAAS,CAAC,EAAGu1B,GAAO,CACzDq7C,SAAU0F,EAAUC,OAAOS,QAC3B0pB,gBAAiB5/F,EAAc,CAC7BuwJ,GAAWz3H,OAAO,CAChBm3H,QAASo0B,GACT7pE,YARY,SAAUkQ,EAAOk6D,GACjC,OAAO3iL,EAASJ,KAAK+iL,EACvB,EAOMvxF,YAAaA,IAEf0oB,GAA2B,CAAC,IAC3BtnF,EAAKmrE,iBAAiB,GACzB9nC,SAAU,SAAU9jC,GAClBpG,GAAKoG,EAAMksE,GACb,EACA0lF,aAAcA,EACd7vJ,YAAarnB,EAAK,CAAC,EAAGA,EAAG6d,MAAa,CACpCgkI,GAAWv0J,OACXmrC,GAAUnrC,QACT0S,EAAGwe,MAAmB,CACvB,cACAqjI,GAAWv0J,OACX,WACA,gBACA,wBACC0S,EAAGye,MAAqB,CACzB,uBACA,gBACA,WACAojI,GAAWv0J,OACX,eACC0S,MAEP,EACIi4K,GAAiB,SAAUnzF,GAQ7B,OAAOzwF,EAAMywF,GAAS,SAAU49B,GAC9B,MAAoB,SAAhBA,EAAO51H,KARE,SAAU41H,GACvB,IAAI3qE,EAAQ1jD,EAAMquH,EAAO3qE,OAAO,SAAUrxC,GACxC,IAAIipD,EAAO32C,IAAK,GAChB,OAAOxoB,EAASA,EAAS,CAAC,EAAGkW,GAAO,CAAE01G,QAASzsD,GACjD,IACA,OAAOn/D,EAASA,EAAS,CAAC,EAAGkyH,GAAS,CAAE3qE,MAAOA,GACjD,CAGWmgI,CAASx1D,GAEXA,CACT,GACF,EACIy1D,GAAuB,SAAUrzF,GACnC,OAAOhwF,EAAMgwF,GAAS,SAAUlwF,EAAK8tH,GACnC,MAAoB,SAAhBA,EAAO51H,KAEFgI,EADU4tH,EACO3qE,OAAO,SAAUqgI,EAAU1xK,GAEjD,OADA0xK,EAAS1xK,EAAKpZ,MAAQoZ,EAAK01G,QACpBg8D,CACT,GAAGxjL,GAEEA,CACT,GAAG,CAAC,EACN,EAEIyjL,GAAmB,SAAUC,EAAc3xG,GAC7C,MAAO,CACLjmD,GAAc7D,KAAWq4C,IACzBojH,EAAa/mF,IAAgB,SAAUxM,EAAMh/D,GAC3C4gD,EAAO1yB,UACPluB,EAAKkuB,SACP,IACAqkI,EAAa9mF,IAAiB,SAAUllD,EAAKvmB,EAAMwyJ,EAAQllL,GACzD0yB,EAAKq/D,SAAS94C,GACdptB,GAAK7rB,EAAMk+F,GACb,IACAzxE,GAAM8xE,IAAkB,SAAU20B,EAAIjvE,GACpC,OAAOqvB,EAAO6qE,WAChB,IACA1xH,GAAM6xE,IAAgB,SAAU40B,EAAI1/B,GAClC,OAAOlgB,EAAO2qE,QAAQzqD,EAAGp9E,MAC3B,IAEJ,EA+EI+uK,GA9EgB,SAAUC,EAAgB9xG,GAC5C,IAAI2xG,EAAe,SAAUhxJ,EAAWx3B,GACtC,OAAOgwB,GAAMwH,GAAW,SAAUU,EAAG6+D,GACnC6xF,EAAS1wJ,GAAG,SAAUjC,EAAMwgG,GAC1Bz2H,EAAE2oL,IAAkB1yJ,EAAM8gE,EAAGp9E,MAAOue,EACtC,GACF,GACF,EACI0wJ,EAAW,SAAU1wJ,EAAGl4B,GAC1B+xJ,GAAWvsG,SAASttB,GAAG/gB,MAAMrU,MAAK,SAAU+lL,GAC1C7oL,EAAE6oL,EAAe3wJ,EACnB,GACF,EACA,OAAO12B,EAAcA,EAAc,GAAI+mL,GAAiBC,EAAc3xG,IAAS,GAAO,CAAC2xG,EAAa7mF,IAAiB,SAAUnlD,EAAKvmB,EAAMtc,GACtIsc,EAAKugD,SAASh6B,EAAK,CAAEh/C,KAAMmc,EAAMnc,MACnC,MAAK,EACT,EA8DIkrL,GA7Da,SAAUC,EAAgB9xG,EAAQa,GACjD,IAAI8wG,EAAe,SAAUhxJ,EAAWx3B,GACtC,OAAOgwB,GAAMwH,GAAW,SAAUU,EAAG6+D,GACnC6xF,EAAS1wJ,GAAG,SAAUjC,EAAMwgG,GAC1Bz2H,EAAE2oL,IAAkB1yJ,EAAM8gE,EAAGp9E,MAAOue,EACtC,GACF,GACF,EACI0wJ,EAAW,SAAU1wJ,EAAGl4B,GAC1B+xJ,GAAWvsG,SAASttB,GAAG/gB,MAAMrU,MAAK,SAAUgmL,GAC1C9oL,EAAE8oL,EAAkBlI,eAAgB1oJ,EACtC,GACF,EACA,OAAO12B,EAAcA,EAAc,GAAI+mL,GAAiBC,EAAc3xG,IAAS,GAAO,CACpF2xG,EAAa5mF,IAAiB,SAAUplD,EAAKvmB,GAC3C,OAAOA,EAAKk/D,SAAS34C,EACvB,IACAgsI,EAAahnF,IAAiB,SAAUhlD,EAAKvmB,EAAMtc,GACjDsc,EAAKkgF,SAAS35D,EAAK,CAAEh/C,KAAMmc,EAAMnc,MACnC,IACAgrL,EAAa7mF,IAAiB,SAAUnlD,EAAKvmB,EAAMtc,EAAO8R,GACxD,IAAIqsC,EAAU,WACZ,OAAO0L,GAAO1L,QAAQrsC,EACxB,EACI4mC,EAAa,SAAU9oB,GACzB,OAAO/zB,GAAM+zB,EAAS,aAAeh0B,GAAOg0B,EAAS,iBAAiBvmC,QAAO,SAAUuU,GACrF,MAAe,SAARA,CACT,GACF,EACI2hE,EAAW/kE,GAAYsX,EAAU7gB,SACjCgD,EAAUy5B,GAAO6xC,GACrBjjD,EAAKugD,SAASh6B,EAAK,CACjBh/C,KAAMmc,EAAMnc,KACZP,MAAO0c,EAAM1c,QAEfoqC,GAAO6xC,GAAUh3E,KAAK41D,GAAS,SAAUvuB,GACnC8oB,EAAW9oB,IAEJ37B,EAAQ5K,QAAO,SAAU+lL,GAChC,OAAOr2K,GAAS62B,EAASw/I,IAAQ12H,EAAW02H,EAC9C,IAHAjxH,IAMA4f,IAAUv4D,aAAajc,QAAO,SAAUwhD,GACtC,OAAQhyC,GAASgyC,EAAK95C,QAAS2+B,EACjC,IAAGzmC,KAAKg1D,EAEZ,GACF,IACA0wH,EAAazmF,IAAoB,SAAUvlD,EAAKvmB,EAAMtc,GACpDsc,EAAK+yJ,YAAYxsI,EAAK,CACpBysI,WAAYtvK,EAAMnc,KAClB0rL,WAAYvvK,EAAMgsK,SAEtB,IACAv0J,IAAc,SAAU3F,GACtB,IAAI+wB,EAAMmsI,IACVt/H,GAAajC,SAAS37B,EAAW+wB,EAAI44C,UACvC,MACC,EACL,EAgBIm8D,GAAmB,SAAU1tG,EAAOtpB,GACtC,IAAI4uJ,EAAgB5uJ,EAAM13B,KAAI,SAAUhC,GACtC,OAAOA,EAAEsoL,aACX,IAAG7mL,MAAM,IACL8mL,EAAe3kL,EAAY0kL,GAAe,SAAUv2D,GACtD,MAAwB,UAAjBA,EAAO9lC,KAChB,IACIu8F,EAAY,SAAUh8K,EAAM2nF,GAC9B,OAAOqK,GAAUzzC,OAAO,CACtB7iD,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,sBAAwBjpB,IAEpC6tB,WAAY32B,EAAMywF,GAAS,SAAU49B,GACnC,OAAOA,EAAO02D,QAAQv1G,QACxB,KAEJ,EAGA,MAAO,CAFYs1G,EAAU,QAASD,EAAa1kL,MAClC2kL,EAAU,MAAOD,EAAazkL,MAKjD,EACI4kL,GAAe,SAAUC,EAAUxyG,GAkBrC,MAAO,CACLjuE,IAAKM,GAAS,0CACd6xB,WAAY,GACZpE,WAAYmR,GAAS,CAAC8pH,GAAWz3H,OAAO,CACpCm3H,QAASu0B,GACTnxF,YAAa20F,EACbxtE,YAvBY,SAAUkQ,EAAOz8F,GACjC,IAAI05J,EAAgB5kL,EAAMkrB,EAAKulE,SAAS,SAAU49B,GAChD,IAAIr8C,EAAY3C,GAtCL,SAAUg/C,EAAQ57C,GACjC,OAAOu2C,GAAmBqF,EAAQA,EAAO51H,KAAMg6E,EACjD,CAoC6ByyG,CAAW72D,EAAQ57C,IAC1C,MAAO,CACLx5E,KAAMo1H,EAAOp1H,KACbsvF,MAAO8lC,EAAO9lC,MACdw8F,QAAS/yG,EAEb,IAIA,OAAO9yE,EAASJ,KAAK,CACnBqmL,aAJiB,SAAUxtB,EAAcytB,GACzC,OA3CO,SAAUztB,EAAcitB,EAAeQ,GAClD,OAAO1kL,EAAOkkL,GAAe,SAAUv2D,GACrC,OAAOA,EAAOp1H,OAASmsL,CACzB,IAAG5mL,MAAK,SAAUwzE,GAChB,OAAOA,EAAU+yG,QAAQ/zK,OAAO2mJ,EAClC,GACF,CAqCap0G,CAAOo0G,EAAcitB,EAAeQ,EAC7C,EAGER,cAAeA,GAEnB,EAQM53B,iBAAkBA,OAG1B,EAIIq4B,GAAoB,SAAUJ,EAAUxyG,GAC1C,OAAOojG,GAAYpuJ,MAAM26J,OAAO4C,GAAaC,EAAUxyG,GACzD,EAEI6yG,GAAgB,SAAU5/F,EAAQzsF,GAEpC,GADWysF,EAAOvP,UACThrD,YAAYiF,cAAe,CAClC,IAAIm1J,EAAS34H,GAAUL,WAAWm5B,EAAO8/F,kBAAkBznL,MAAM2nF,EAAO8/F,kBACxE,OAAO1yE,GAAK7W,SAASspF,EAAQtsL,GAAM0E,MAAK,WACtC,IAAIykL,EAAS18F,EAAOwwF,YAEpB,OADkB1oB,GAAWvsG,SAASmhI,GACnBxvK,MAAMpU,MAAK,SAAU/C,GACtC,OAAOA,EAAE0pL,aAAaI,EAAQtsL,EAChC,GACF,IAAG,SAAUg4B,GACX,OAAO/xB,EAASJ,KAAKmyB,EACvB,GACF,CACE,OAAO/xB,EAAS1B,MAEpB,EAOIioL,GAAe,SAAU//F,EAAQggG,EAAUC,GAC7C,IAAIC,EAAW,SAAUnqL,GACvB,IAAImpC,EAAO8gD,EAAOvP,UACdvxC,EAAKzZ,YAAYiF,eACnB30B,EAAEmpC,EAEN,EA0EIihJ,EAAc,CAChBh1F,QA1EY,WACZ,IAAIjsD,EAAO8gD,EAAOvP,UACd2vG,EAAYlhJ,EAAKzZ,YAAYiF,cAAgBs1D,EAAO8/F,iBAAmB5gJ,EACvEmhJ,EAAoBjhI,GAAahC,SAASgjI,GAC1CE,EAAuB/jL,GAAM0jL,GAAgB,SAAUrqH,GACzD,OAAOA,EAAK1oD,KACd,IACA,OAAOzW,EAASA,EAAS,CAAC,EAAG4pL,GAAoBC,EACnD,EAmEEC,QAlEY,SAAU3+D,GACtBs+D,GAAS,SAAUnrK,GACjB,IAAIyrK,EAAWL,EAAYh1F,UACvBs1F,EAAahqL,EAASA,EAAS,CAAC,EAAG+pL,GAAW5+D,GAC9C8+D,EA1BW,SAAU1gG,EAAQx6D,GACrC,IAAI0Z,EAAO8gD,EAAOvP,UAClB,OAAOq3E,GAAWvsG,SAASrc,GAAMhyB,MAAMtU,KAAI,SAAU+nL,GACnD,OAAOpoL,GAASkkB,GAAM,OAAQkkK,EAAY/J,cAAepxJ,GAC3D,IAAGntB,MAAMmtB,EACX,CAqB4Bo7J,CAAe5gG,EAAQygG,GACzCzzE,EAAOhtB,EAAO8/F,iBAClB1gI,GAAajC,SAAS6vD,EAAM0zE,GAC5B7nL,GAAKonL,GAAgB,SAAUxjL,EAAGH,GAC5Be,GAAMojL,EAAYnkL,IACpBG,EAAE+Q,IAAIizK,EAAWnkL,GAErB,GACF,GACF,EAsDEmsD,QArDY,SAAUl1D,GACtBqsL,GAAc5/F,EAAQzsF,GAAMsF,KAAK+vD,GAAUH,QAC7C,EAoDED,OAnDW,SAAUj1D,GACrBqsL,GAAc5/F,EAAQzsF,GAAMsF,KAAK+vD,GAAUJ,OAC7C,EAkDExpB,MAjDU,SAAUzrC,GACpBqsL,GAAc5/F,EAAQzsF,GAAMsF,KAAK+iE,GAAS58B,MAC5C,EAgDE40F,MA/CU,SAAUx+G,GACpB,IAAKvhB,EAASuhB,GACZ,MAAM,IAAIlf,MAAM,0GAElBgqL,GAAS,SAAUhhJ,GACjB7Z,GAAS6Z,EAAM04D,GAAgB,CAAExiF,QAASA,GAC5C,GACF,EAyCEy+G,QAxCY,WACZqsD,GAAS,SAAUhhJ,GACjB/Z,GAAK+Z,EAAM24D,GACb,GACF,EAqCEwhF,QApCY,SAAU9lL,GACtB2sL,GAAS,SAAUnrK,GACjB,IAAI1K,EAAO21E,EAAOl1E,UACFg9I,GAAWvsG,SAASlxC,GACtB6C,MAAMnU,QAAO,SAAUxD,GACjC,OAAOA,EAAE6mL,YACX,KACAl1H,GAAUL,WAAWx8C,GAAMxR,MAAK,SAAUgoL,GACxCrI,GAAWa,QAAQwH,EAAYttL,EACjC,GAEJ,GACF,EAyBEwjL,OAxBW,SAAUjjK,GACrBosK,GAAS,SAAUhhJ,GACjB,IAAI4hJ,EAAad,EAASlsK,GAC1BorB,EAAKzZ,YAAY0E,YAAY,CAACyxJ,IAAgBkF,GAC9C5hJ,EAAKzZ,YAAY0E,YAAY,CAAC0xJ,IAAeiF,EAAWnK,gBACxDz3I,EAAKzZ,YAAY0E,YAAY,CAAC2xJ,IAAcgF,EAAWnK,gBACvDz3I,EAAKzZ,YAAY0E,YAAY,CAAC4xJ,IAAgB+E,EAAWnK,gBACzDwJ,EAAYI,QAAQO,EAAWl2F,YACjC,GACF,EAgBEvvC,MAfU,WACV6kI,GAAS,SAAUhhJ,GACjB/Z,GAAK+Z,EAAMs4D,GACb,GACF,GAaA,OAAO2oF,CACT,EAYIY,GAAe,SAAUD,EAAYjnK,EAAOkzD,GAC9C,IAAIW,EAASgyE,GAAUohC,EAAWnK,eAAe11F,MAAOlU,GACpD1iE,EA/pBgB,SAAU2hB,EAAM+gD,GACpC,IAAIi0G,EAAW/E,GAAWjwJ,EAAMxyB,EAAS1B,OAAQi1E,GAAW,GAC5D,OAAOojG,GAAYpuJ,MAAM1X,KAAK22K,EAChC,CA4pBaC,CAAgB,CAAE52K,KAAMy2K,EAAWnK,eAAetsK,MAAQ0iE,GACjEm0G,EAAsBhD,GAAe4C,EAAWnK,eAAe5rF,SAC/Do2F,EAAa/C,GAAqB8C,GAClCxE,EAASiD,GAAkB,CAAE50F,QAASm2F,GAAuBn0G,GAC7DowG,EAAesB,IAA8B,WAC/C,OAAO0B,CACT,GAAGtC,IAAe,WAChB,OAAO50F,CACT,GAAGlc,EAAUC,OAAOQ,UAAW3zD,GAAQkzD,EAAUC,OAAOS,SACpD2zG,EArBqB,SAAU/mL,GACnC,OAAQA,GACR,IAAK,QACH,MAAO,CAAC,wBACV,IAAK,SACH,MAAO,CAAC,wBACV,QACE,MAAO,GAEX,CAYmBgnL,CAAqBP,EAAWnK,eAAet8K,MAC5D2xB,EAAO,CACT0hD,OAAQA,EACRrjE,KAAMA,EACNqyK,OAAQljL,EAASJ,KAAKsjL,GACtBxlF,aAAckqF,EACdjqF,gBAAiB,GACjB+lF,YAAa,CAAC,GAEZj0F,EAASg1F,GAAkBjyJ,EAAM80J,EAAY3D,EAAcpwG,GAC3Du0G,EAKK,CACL7wG,QAASr7E,EAAW6zF,GACpBn+E,QAAS,WACP,OAAOqlK,GAAYrlK,QAAQm+E,EAC7B,EACAunF,UAAW,WACT,OAAOL,GAAYK,UAAUvnF,EAC/B,EACA62F,eAZY,WACZ,IAAIyB,EAAYpR,GAAYrlK,QAAQm+E,GACpC,OAAO/hC,GAAUL,WAAW06H,GAAWlpL,MAAMkpL,EAC/C,GAYEpB,EAAcJ,GAAauB,EAAaznK,EAAMk9J,OAAQoK,GAC1D,MAAO,CACLl4F,OAAQA,EACRk3F,YAAaA,EAEjB,EAEIqB,GAAqB,SAAUV,EAAYjnK,EAAOkzD,EAAWmvG,GAC/D,IAAIj2K,EAAI69B,EAreyB9X,EAAMy1J,EAASpgG,EAse5CqgG,EAAgB74J,GAAW,gBAC3B84J,EAAkB94J,GAAW,kBAI7B+4J,EAAYj4G,IA3eiB39C,EA2eS,CACxCi1D,MAAO6/F,EAAWnK,eAAe11F,MACjCy8F,WAAW,GA7e0B+D,EA8epCC,EA9e6CrgG,EA8e9BtU,EAAUC,OAAOQ,UA7e5B4nB,GAAUzzC,OAAO,CACtB7iD,IAAKM,GAAS,0CACd6xB,WAAY,CACVosJ,GAAYrxJ,EAAMxyB,EAASJ,KAAKqoL,GAAUpgG,GAC1Ci8F,KACAF,GAAY/7F,IAEdiU,oBAAqBt3D,GAAS,CAAC6pI,GAASx3I,OAAO,CAC3CsX,KAAM,QACN88H,aAAc,UACdd,UAAW,SAAUjzJ,GACnB,OAAOokB,GAAUpkB,EAAQ,mBAAmBnY,UAC9C,EACAsqK,MAAO,CACLM,cAAe,WACb,MAAO,EACT,EACAjB,SAAU,iBACVC,QAAS,yBA4db0f,EAAUl4G,GAvtBO,SAAU39C,EAAM81J,EAAW/0G,EAAWmvG,GAC3D,OAAOD,GAAWjwJ,EAAMxyB,EAASJ,KAAK0oL,GAAY/0G,EAAWmvG,EAC/D,CAqtBuB6F,CAAiB,CAAE13K,KAAMy2K,EAAWnK,eAAetsK,MAAQs3K,EAAiB50G,EAAWmvG,IACxGgF,EAAsBhD,GAAe4C,EAAWnK,eAAe5rF,SAC/Do2F,EAAa/C,GAAqB8C,GAClCc,EAAYr4G,GAjMO,SAAU41G,EAAUxyG,GAC3C,OAAOuyG,GAAaC,EAAUxyG,EAChC,CA+LyBk1G,CAAmB,CAAEl3F,QAASm2F,GAAuBn0G,IACxEowG,EAAesB,IAA8B,WAC/C,OAAO0B,CACT,GAAG,CACD5oC,QAAS,SAAU7nI,GACjBioI,GAAS/jB,MAAM3qC,GAAQ,SAAUg5B,EAAO27D,GACtC,OAAOzmC,GAAYznI,EAAM0F,QAASwoK,EAAI7wG,EAAUC,OAAOQ,UACzD,GACF,EACAiqE,UAAW,WACTE,GAAS9jB,QAAQ5qC,EACnB,EACA/uC,QAAS,WACP,OAAOrgC,EAAMkkK,aACf,GACChxG,EAAUC,OAAOS,SAChBwb,EAASv1D,GAAQ,CACnB50B,IAAK,CACHiB,IAAK,MACLssB,QAAS,CACP,aACA,qBAEFC,YAAarmB,EAAK,CAAEg6D,KAAM,UAAYh6D,EAAG,mBAAqBy7K,EAAez7K,EAAG,oBAAsB07K,EAAiB17K,IAEzHqnB,YAAawW,EAAK,CAAC,EAAGA,EAAGhgB,MAAa,CACpCgkI,GAAWv0J,OACXmrC,GAAUnrC,QACTuwC,EAAG/f,MAAe,CAAC,mBAAoB+f,EAAGrf,MAAmB,CAC9D,aACA,mBACCqf,GACHjX,WAAYmR,GAAS,CACnBu7B,GAAOlpC,OAAO,CACZsX,KAAM,SACN0nB,SAAU,SAAUphC,GAElB,OADA9I,GAAK8I,EAAGupE,IACDh+F,EAASJ,MAAK,EACvB,EACA21D,aAAc,SAAUrnD,GACtB,OAAQutG,GAAavtG,KAA2B,WAAjBhH,GAAOgH,IAAkD,aAA5B0D,GAAM1D,EAAM,YAC1E,IAEFogJ,GAAWz3H,OAAO,CAChBm3H,QAASo0B,GACT7pE,YAvDY,SAAUkQ,EAAOk6D,GACjC,OAAO3iL,EAASJ,KAAK+iL,EACvB,EAsDMvxF,YAAak2F,IAEfllH,GAASvrC,OAAO,CAAC,GACjBA,GAAO,kBAAmB8sJ,EAAatnL,OAAO,CAACoxB,GAAYnE,MAAW,SAAUyI,EAAMgyB,GAClFgc,GAAO1L,QAAQtiC,EACjB,OACFosH,GAAStnH,OAAO,CACdogD,QAAS,WACP,OAAOj3E,EAASJ,KAAK6vF,EACvB,IAEFpuB,GAAUxqC,OAAO,CAAC,GAClBijF,GAA2B,CAAC,KAE9BriF,WAAY,CACV2wJ,EAAU93G,SACV+3G,EAAQ/3G,SACRk4G,EAAUl4G,YAGVq2G,EAAcJ,GAAa,CAC7BtvG,QAASr7E,EAAW6zF,GACpBunF,UAAW,WACT,OAAOwR,EAAU90K,IAAI+7E,EACvB,EACAn+E,QAAS,WACP,OAAO+2K,EAAQ30K,IAAI+7E,EACrB,EACA62F,eAAgB,WACd,IAAIz1K,EAAOw3K,EAAQ30K,IAAI+7E,GACvB,OAAO/hC,GAAUL,WAAWx8C,GAAMhS,MAAMgS,EAC1C,GACCwP,EAAMk9J,OAAQoK,GACjB,MAAO,CACLl4F,OAAQA,EACRk3F,YAAaA,EAEjB,EAEI+B,GAAWxvL,QAAQ4D,KAAKC,MAAMC,QAAQ,oBAuCtC2rL,GAA4B,CAC9B,gBACA,aACA,cACA,QACA,QACA,WAEEC,GAAqB,SAAU58J,GACjC,OAAO1xB,EAAS0xB,KAAgE,IAAvD28J,GAA0B/qL,QAAQouB,EAAK68J,UAClE,EA2BIC,GAAkB,SAAU3L,EAAgB98J,EAAO8yD,EAAQI,GAC7D,IAAI9mE,EA3E0Bi5B,EAC1BghJ,EA2EAxyG,EAASgyE,GAAUi3B,EAAe11F,MAAOlU,GACzC1iE,EAv3BiB,SAAU2hB,GAC/B,IAAIg1J,EAAW,CACbliL,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,2BAEZ4E,WAAY,CAAC,CACTnyB,IAAK,CACHiB,IAAK,MACLssB,QAAS,CAAC,4BAEZ4E,WAAY,CAAC6jF,GAAM,CACfh2G,IAAK,CACHiB,IAAK,SACLusB,WAAY,CAAE22D,IAAKj3D,EAAKmlG,MAE1BtkG,WAAYmR,GAAS,CACnB64D,GAAYxmE,OAAO,CAAC,GACpBurC,GAASvrC,OAAO,CAAC,UAI3BxD,WAAYmR,GAAS,CAACu7B,GAAOlpC,OAAO,CAChCsX,KAAM,UACNonB,aAAcj5D,EAAIm/G,SAGxB,OAAOk7D,GAAYpuJ,MAAM1X,KAAK22K,EAChC,CA21BauB,CAAiB5L,GACxB+F,EAAS/F,EAAe5rF,QAAQjyF,MAAK,SAAUiyF,GACjD,OAAuB,IAAnBA,EAAQp2F,OACH6E,EAAS1B,OAET0B,EAASJ,KAAKumL,GAAkB,CAAE50F,QAASA,GAAWhe,GAEjE,IACIowG,EAAesB,IAAiC,WAClD,OAAO0B,CACT,GAAGtC,IAAe,WAChB,OAAO50F,CACT,GAAGlc,EAAUC,OAAOQ,UAAW3zD,IAC3B0S,EAAS91B,EAASA,EAAS,CAAC,EAAGkgL,EAAe5oK,OAAO9V,MAAK,WAC5D,MAAO,CAAC,CACV,IAAG,SAAU8V,GACX,MAAO,CACL,OAAUA,EAAS,KACnB,aAAcA,EAAS,KAE3B,KAAK4oK,EAAerkK,MAAMra,MAAK,WAC7B,MAAO,CAAC,CACV,IAAG,SAAUqa,GACX,MAAO,CACL,MAASA,EAAQ,KACjB,YAAaA,EAAQ,KAEzB,KACI+Z,EAAUsqJ,EAAerkK,MAAMla,UAAYu+K,EAAe5oK,OAAO3V,SAAW,CAAC,wBAA0B,GACvGoqL,EAAY,IAAIN,GAASvL,EAAexlD,IAAK,CAAEsxD,SAAU,IAAIP,GAAS3hL,OAAOwkK,SAAS2d,QACtFC,EAAeH,EAAUI,SAAW,MAAQJ,EAAU14K,MAAQ04K,EAAUK,KAAO,IAAML,EAAUK,KAAO,IACtGC,EAAyBz9I,KACzB8xD,EAAkB,CACpB9mE,GAAO,WAAY,CACjBnJ,IAAc,WACZ,IAAItW,EAAS9X,GAAKqG,GAAaF,QAAQsB,QAAS,WAAW,SAAUpJ,GACnE,GAAIqrL,EAAUO,aAAa,IAAIb,GAAS/qL,EAAEqV,IAAIq0B,SAAU,CACtD,IAAIrb,EAAOruB,EAAEqV,IAAIgZ,KACb48J,GAAmB58J,GAhEf,SAAUmnD,EAAQp6B,EAAK/sB,GACzC,OAAQA,EAAK68J,WACb,IAAK,gBACH11G,EAAOq2G,cAAcx9J,EAAKiC,SAC1B,MACF,IAAK,aACHklD,EAAOnxB,WAAWh2B,EAAKiC,SACvB,MACF,IAAK,cACH,IAAIqtD,IAAK7gF,EAAUuxB,EAAKsvD,KAAMtvD,EAAKsvD,GACnCnI,EAAOwc,YAAY3jE,EAAKm3I,IAAK7nF,EAAItvD,EAAKxyB,OACtC,MACF,IAAK,QACHu/C,EAAI8I,QACJ,MACF,IAAK,QACH9I,EAAIqhF,MAAMpuG,EAAKpQ,SACf,MACF,IAAK,UACHm9B,EAAIshF,UAGR,CA2CcovD,CAAct2G,EAAQwzG,EAAa36J,GApE3B,SAAUA,GAC9B,OAAQ48J,GAAmB58J,IAAS1xB,EAAS0xB,IAASnoB,GAAMmoB,EAAM,YACpE,CAmEuB09J,CAAgB19J,IACzBmxJ,EAAewM,UAAUhD,EAAa36J,EAE1C,CACF,IACAs9J,EAAuBt1K,IAAIoD,EAC7B,IACAuW,GAAc27J,EAAuB79I,SAEvCvG,GAAUrO,OAAO,CACf0L,UAAW91B,EAAK,CAAC,EAAGA,EAAG+1K,IAA0B,CAC/C1/I,UAAW,SAAU/Q,EAAM/F,GACzBmP,GAAWpJ,EAAK5qB,QAAS,UAAU9H,MAAK,SAAUuqL,GAChCA,EAAUtkL,IAAI42G,cACpB2tE,YAAY79J,EAAMm9J,EAC9B,GACF,GACC18K,MAWHgjF,EAASg1F,GARF,CACTvwG,OAAQA,EACRrjE,KAAMA,EACNqyK,OAAQA,EACRxlF,aAAc7qE,EACd8qE,gBAAiBA,EACjB+lF,YAAa3wJ,GAEsBoqJ,EAAgBwG,EAAcpwG,GAC/DozG,GAlJ0BjhJ,EAkJI+pD,EAjJ9Bi3F,EAAW,SAAUnqL,GACnBmpC,EAAKzZ,YAAYiF,eACnB30B,EAAEmpC,EAEN,EAwBO,CACL00F,MAxBU,SAAUx+G,GACpB,IAAKvhB,EAASuhB,GACZ,MAAM,IAAIlf,MAAM,6GAElBgqL,GAAS,SAAUhhJ,GACjB7Z,GAAS6Z,EAAM04D,GAAgB,CAAExiF,QAASA,GAC5C,GACF,EAkBEy+G,QAjBY,WACZqsD,GAAS,SAAUhhJ,GACjB/Z,GAAK+Z,EAAM24D,GACb,GACF,EAcEx8C,MAbU,WACV6kI,GAAS,SAAUhhJ,GACjB/Z,GAAK+Z,EAAMs4D,GACb,GACF,EAUE8rF,YATgB,SAAU99J,GAC1B06J,GAAS,SAAUhhJ,GACjBA,EAAKzZ,YAAY0E,YAAY,CAAC6xJ,IAAyBx2J,EACzD,GACF,IAuHA,MAAO,CACLyjE,OAAQA,EACRk3F,YAAaA,EAEjB,EA0GIoD,GAA6B,SAAU52G,EAAQ8Q,EAAiBu1E,GAClE,OAAIv1E,GAAmBu1E,EACd,GAEA,CAACzkB,GAAQl+G,OAAO,CACnB+8G,WAAY,CACVE,YAAa,WACX,OAAO9zI,EAASJ,KAAKgb,GAAMjV,GAAaF,QAAQ0tE,EAAOkB,4BACzD,EACAy9D,YAAa,yBACbD,aAAc,0BACdD,gBAAiB,8BAEnB7sG,MAAO,CAAC,SAGhB,EACIqlC,GAAQ,SAAUgJ,GACpB,IAAIG,EAAYH,EAAOG,UACnBJ,EAASC,EAAOD,OAChB62G,EAAoB/lG,GAAgB9Q,GACpC82G,EA7HQ,SAAU72G,GACtB,IAAIE,EAAkBF,EAAOG,UAAUC,OAkCvC,MAAO,CAAE9xB,KAjCE,SAAU9lC,EAASk0E,GAC5B,IAAIo6F,EAAc,WAChBvT,GAAYjoG,KAAKu7G,GACjBn6F,GACF,EACIq6F,EAAiBh6G,GAAO25C,GAAmB,CAC7C/vH,KAAM,cACN0M,KAAM,KACN+gE,SAAS,EACT6hB,MAAO,MACPt7B,UAAU,EACV6kB,KAAM5yE,EAAS1B,QACd,SAAU80E,EAAOG,YAChB62G,EAAYrH,KACZsH,EAAYvH,GAAOoH,EAAa52G,EAAgBU,WAChDi2G,EAAc/vJ,GAAQopJ,GAAe,CACvCz1G,SAAU,WACR,OAAOyF,EAAgBW,SACzB,EACAC,OAAQ2uG,GAAauH,EAAWC,GAChCx5K,KAAMmyK,GAAapnK,EAAS03D,EAAgBU,WAC5CkvG,OAAQljL,EAASJ,KAAKqjL,GAAQE,GAAa,GAAI,CAACgH,EAAe75G,aAC/Dza,SAAUq0H,EACVxsF,aAAc,CAAC,oBACfC,gBAAiB,GACjB+lF,YAAa,CAAC,EACdC,aAAc,CAACp3J,GAAM0xE,GAAiBisF,IACtCp2J,WAAY,CAAC,KAEf6iJ,GAAYh1F,KAAKsoG,GACjB,IAAIK,EAAoBH,EAAez2K,IAAIu2K,GAC3C7nH,GAAS58B,MAAM8kJ,EACjB,EAEF,CAyFoBC,CAAQn3G,GACtBo3G,EAxFQ,SAAUp3G,GACtB,IAAIE,EAAkBF,EAAOG,UAAUC,OAwDvC,MAAO,CAAE9xB,KAvDE,SAAU9lC,EAASk0E,GAC5B,IAAIo6F,EAAc,SAAUpzJ,GAC1B6/I,GAAYjoG,KAAK87G,GACjB16F,EAASh5D,EACX,EACI2zJ,EAAet6G,GAAO25C,GAAmB,CAC3C/vH,KAAM,MACN0M,KAAM,MACN+gE,SAAS,EACT6hB,MAAO,MACPt7B,UAAU,EACV6kB,KAAM5yE,EAAS1B,QACd,SAAU80E,EAAOG,YAChBm3G,EAAW5gE,GAAmB,CAChC/vH,KAAM,KACN0M,KAAM,KACN+gE,SAAS,EACT6hB,MAAO,MACPt7B,UAAU,EACV6kB,KAAM5yE,EAAS1B,QACd,SAAU80E,EAAOG,WAChB62G,EAAYrH,KACZsH,EAAYvH,IAAO,WACrB,OAAOoH,GAAY,EACrB,GAAG52G,EAAgBU,WACfw2G,EAAgBtwJ,GAAQopJ,GAAe,CACzCz1G,SAAU,WACR,OAAOyF,EAAgBW,SACzB,EACAC,OAAQ2uG,GAAauH,EAAWC,GAChCx5K,KAAMmyK,GAAapnK,EAAS03D,EAAgBU,WAC5CkvG,OAAQljL,EAASJ,KAAKqjL,GAAQE,GAAa,GAAI,CAC7CuH,EACAD,EAAan6G,aAEfza,SAAU,WACR,OAAOq0H,GAAY,EACrB,EACAxsF,aAAc,CAAC,sBACfC,gBAAiB,GACjB+lF,YAAa,CAAC,EACdC,aAAc,CACZp3J,GAAM0xE,IAAiB,WACrB,OAAOisF,GAAY,EACrB,IACA39J,GAAM4xE,IAAiB,WACrB,OAAO+rF,GAAY,EACrB,KAEFp2J,WAAY,CAAC,KAEf6iJ,GAAYh1F,KAAK6oG,GACjB,IAAIG,EAAkBF,EAAa/2K,IAAI82K,GACvCpoH,GAAS58B,MAAMmlJ,EACjB,EAEF,CA8BsBC,CAAQx3G,GAaxBy3G,EAAqB,SAAUh0J,EAAQ0tJ,GAWzC,OAAOlH,GAAcC,SAVP,SAAUh7H,GACtB,IAAImtC,EAASq5F,GAAgBxmI,EAAU,CACrCiiI,YAAa,WACX5N,GAAYjoG,KAAK+gB,EAAOA,QACxB80F,EAAY90F,EAAOk3F,YACrB,GACCxzG,EAAQI,GAEX,OADAojG,GAAYh1F,KAAK8N,EAAOA,QACjBA,EAAOk3F,WAChB,GACsC9vJ,EACxC,EACIi0J,EAAkB,SAAUj0J,EAAQ0tJ,GAmBtC,OAAOlH,GAAc37H,MAlBP,SAAUY,EAAUyoI,EAAqB3N,GACrD,IAAIhsF,EAAc25F,EAMdt7F,EAAS83F,GALI,CACfnK,cAAeA,EACfhsF,YAAaA,EACb+rF,eAAgB76H,GAEoB,CACpCi7H,OAAQF,GAAcE,OACtBgH,YAAa,WACX5N,GAAYjoG,KAAK+gB,EAAOA,QACxB80F,EAAY90F,EAAOk3F,YACrB,GACCpzG,GAGH,OAFAojG,GAAYh1F,KAAK8N,EAAOA,QACxBA,EAAOk3F,YAAYI,QAAQ31F,GACpB3B,EAAOk3F,WAChB,GACmC9vJ,EACrC,EACIm0J,EAAmB,SAAUC,EAAUzqJ,EAAQ+jJ,EAAa7B,GAkD9D,OAAOrF,GAAc37H,MAjDP,SAAUY,EAAUyoI,EAAqB3N,GACrD,IAAIhsF,EA5EDryF,GAASkkB,GAAM,OA4EkCm6J,EAArB2N,IAC3B5iD,EAAer8F,KACf0tH,EAAuBjmF,EAAUC,OAAOU,OAAOC,oBAM/C+2G,EAAiB,WACnB,OAAO/iD,EAAal9F,IAAG,SAAUwkD,GAC/BhiB,GAAWrmC,WAAWqoD,GACtBslD,GAAQhsE,QAAQ0mB,EAClB,GACF,EACI07F,EAAWnD,GAXE,CACf5K,cAAeA,EACfhsF,YAAaA,EACb+rF,eAAgB76H,GAQ4B,CAC5Ci7H,OAAQF,GAAcE,OACtBgH,YAAa,WACXp8C,EAAal9F,GAAGwiC,GAAWiB,MAC3ByE,EAAOhoC,IAAI,eAAgB+/I,GAC3B/iD,EAAa18F,QACb84I,EAAY4G,EAASxE,YACvB,GACCpzG,EAAWmvG,GACV0I,EAAmBlxJ,GAAQuzC,GAAWtlB,OAAOlrD,EAASA,EAAS,CACjE4wE,SAAU0F,EAAUC,OAAOS,QAC3B3uE,IAAK,CACHiB,IAAK,MACLssB,QAAS,IAEXo8C,0BAA2B,CAAC,GAC3BuqF,EAAuB,CAAC,EAAI,CAAEtqF,2BAA4B,CAAC,IAAM,CAClEN,iBAAkBpqC,GAASzmC,EAAc,CAAC84B,GAAO,+BAAgC,CAACtK,GAAMpB,MAAoB,SAAUs9F,EAAO1kE,GACvHp4B,GAAKw/J,EAAS17F,OAAQwO,GACxB,OAAO8rF,GAA2B52G,EAAQ62G,EAAmBxwB,IAAuB,IACxF12G,YAAa,SAAU2lE,EAAOn/G,GAC5B,OA7GmB,SAAUA,GACrC,OAAOiuF,GAAQjuF,EAAQ,sBAAwBiuF,GAAQjuF,EAAQ,sBACjE,CA2GiB+hL,CAAuB/hL,EAChC,MAUF,OARA6+H,EAAan0H,IAAIo3K,GACjB39G,GAAWC,WAAW09G,EAAkBzwJ,GAAQwwJ,EAAS17F,QAAS,CAAEjvD,OAAQA,GAAUxgC,EAASJ,KAAKiR,OAC/Fm5K,GAAsBxwB,IACzBzkB,GAAQhsE,QAAQqiH,GAChBj4G,EAAOloC,GAAG,eAAgBigJ,IAE5BC,EAASxE,YAAYI,QAAQ31F,GAC7BrxB,GAAO1L,QAAQ82H,EAAS17F,QACjB07F,EAASxE,WAClB,GACmCsE,EACrC,EAcA,MAAO,CACLvpI,KAhHS,SAAU7qB,EAAQvQ,EAAQi+J,GACnC,YAAetrL,IAAXqtB,GAA0C,YAAlBA,EAAOq9D,OAC1BqnG,EAAiBn0J,EAAQ08C,EAAUC,OAAOsB,QAAQqzD,eAAgBo8C,EAAaj+J,EAAOo8J,gBACzEzpL,IAAXqtB,GAA0C,WAAlBA,EAAOq9D,OACjCqnG,EAAiBn0J,EAAQ08C,EAAUC,OAAOsB,QAAQk/C,SAAUuwD,EAAaj+J,EAAOo8J,WAEhFoI,EAAgBj0J,EAAQ0tJ,EAEnC,EAyGEjH,QAxGY,SAAUzmJ,EAAQ0tJ,GAC9B,OAAOsG,EAAmBh0J,EAAQ0tJ,EACpC,EAuGE3yF,MAXU,SAAUh2E,EAASk0E,GAC7Bm6F,EAAYvoI,KAAK9lC,GAAS,WACxBk0E,GACF,GACF,EAQEjuC,MAPU,SAAU8kI,GACpBA,EAAY9kI,OACd,EAMEypI,QAlBY,SAAU1vK,EAASk0E,GAC/B06F,EAAc9oI,KAAK9lC,GAAS,SAAUkb,GACpCg5D,EAASh5D,EACX,GACF,EAgBF,EAGEj6B,EAASzD,IAAI,UAAU,SAAU+5E,GAC/B,IAAI1mE,EAAKumK,GAAQ7/F,GAASE,EAAe5mE,EAAG4mE,aAAcE,EAAY9mE,EAAG8mE,UAAWqiG,EAAWnpK,EAAGmpK,SAAUQ,EAAQ3pK,EAAG2pK,MACvHtgF,GAAuB3iB,EAAQI,EAAUC,QACzC,IAAI+3G,EAAYnhH,GAAM,CACpB+I,OAAQA,EACRI,UAAWA,IAEb,MAAO,CACLqiG,SAAUA,EACV4V,qBAAsB5vL,EAAW2vL,GACjCE,2BAA4B,WAC1B,OAAOv4G,GAAwBC,EAAQ,CAAEI,UAAWA,GAAaF,EACnE,EACAiI,GAAI86F,IAER,GAKN,CA1v/BA,E,yBCAC,WACG,aAEA,IAAIsV,EAAW,SAAUjyL,GACvB,GAAU,OAANA,EACF,MAAO,OAET,QAAUR,IAANQ,EACF,MAAO,YAET,IAAIC,SAAWD,EACf,MAAU,WAANC,IAAmBC,MAAMC,UAAUC,cAAcJ,IAAMA,EAAEK,aAAsC,UAAvBL,EAAEK,YAAYC,MACjF,QAEC,WAANL,IAAmBM,OAAOJ,UAAUC,cAAcJ,IAAMA,EAAEK,aAAsC,WAAvBL,EAAEK,YAAYC,MAClF,SAEFL,CACT,EAuBIiyL,EAAO,SAAUpvL,GACnB,MAAO,CAAEiS,GAAIjS,EACf,EAIIqvL,EAHWD,GAAK,SAAUlyL,EAAGoN,GAC/B,OAAOpN,IAAMoN,CACf,IAEIglL,EAAU,SAAUC,GACtB,OAAOH,GAAK,SAAUlyL,EAAGoN,GACvB,GAAIpN,EAAE0B,SAAW0L,EAAE1L,OACjB,OAAO,EAGT,IADA,IAAID,EAAMzB,EAAE0B,OACHF,EAAI,EAAGA,EAAIC,EAAKD,IACvB,IAAK6wL,EAAIt9K,GAAG/U,EAAEwB,GAAI4L,EAAE5L,IAClB,OAAO,EAGX,OAAO,CACT,GACF,EACI8wL,EAAgB,SAAUD,EAAKE,GACjC,OA3Bc,SAAUF,EAAKvvL,GAC7B,OAAOovL,GAAK,SAAUlyL,EAAGoN,GACvB,OAAOilL,EAAIt9K,GAAGjS,EAAE9C,GAAI8C,EAAEsK,GACxB,GACF,CAuBSolL,CAAUJ,EAAQC,IAAM,SAAUvrL,GACvC,OAjCS,SAAUA,EAAIyrL,GAEzB,OADYryL,MAAMC,UAAUyE,MAAMb,KAAK+C,GAC1B6B,KAAK4pL,EACpB,CA8BWE,CAAO3rL,EAAIyrL,EACpB,GACF,EACIG,EAAW,SAAUL,GACvB,OAAOH,GAAK,SAAUlyL,EAAGoN,GACvB,IAAIulL,EAAKlvL,OAAOyF,KAAKlJ,GACjB4yL,EAAKnvL,OAAOyF,KAAKkE,GACrB,IAAKklL,EAAcH,GAAUp9K,GAAG49K,EAAIC,GAClC,OAAO,EAGT,IADA,IAAInxL,EAAMkxL,EAAGjxL,OACJF,EAAI,EAAGA,EAAIC,EAAKD,IAAK,CAC5B,IAAIqxL,EAAIF,EAAGnxL,GACX,IAAK6wL,EAAIt9K,GAAG/U,EAAE6yL,GAAIzlL,EAAEylL,IAClB,OAAO,CAEX,CACA,OAAO,CACT,GACF,EACIC,EAAQZ,GAAK,SAAUlyL,EAAGoN,GAC5B,GAAIpN,IAAMoN,EACR,OAAO,EAET,IAAI2lL,EAAKd,EAASjyL,GAElB,OAAI+yL,IADKd,EAAS7kL,KAtEE,SAAUpN,GAC9B,OAQkB,IARX,CACL,YACA,UACA,SACA,SACA,WACA,MACA,QACAmE,QAAQnE,EACZ,CAgEMgzL,CAAgBD,GACX/yL,IAAMoN,EACG,UAAP2lL,EACFX,EAAQU,GAAO/9K,GAAG/U,EAAGoN,GACZ,WAAP2lL,GACFL,EAASI,GAAO/9K,GAAG/U,EAAGoN,GAGjC,IAcIvN,EAAW,SAAUC,GACvB,OAAO,SAAUC,GACf,OAbEE,SADiBD,EAcLD,IAZN,OAANC,EACK,OACQ,WAANC,IAAmBC,MAAMC,UAAUC,cAAcJ,IAAMA,EAAEK,aAAsC,UAAvBL,EAAEK,YAAYC,MACxF,QACQ,WAANL,IAAmBM,OAAOJ,UAAUC,cAAcJ,IAAMA,EAAEK,aAAsC,WAAvBL,EAAEK,YAAYC,MACzF,SAEAL,KAKkBH,EAdhB,IAAUE,EACjBC,CAcJ,CACF,EACIQ,EAAe,SAAUX,GAC3B,OAAO,SAAUC,GACf,cAAcA,IAAUD,CAC1B,CACF,EACIY,EAAO,SAAUT,GACnB,OAAO,SAAUU,GACf,OAAOV,IAAMU,CACf,CACF,EACIsyL,EAAapzL,EAAS,UACtBgB,EAAWhB,EAAS,UACpBqzL,EAAYrzL,EAAS,SACrBkB,EAASL,EAAK,MACdM,EAAYP,EAAa,WACzBQ,EAAcP,OAAKlB,GACnB0B,EAAa,SAAUP,GACzB,OAAOA,OACT,EACIQ,EAAgB,SAAUR,GAC5B,OAAQO,EAAWP,EACrB,EACIS,EAAaX,EAAa,YAC1BY,EAAWZ,EAAa,UAExBkB,EAAO,WACX,EACIC,EAAU,SAAUC,EAAIC,GAC1B,OAAO,WAEL,IADA,IAAIC,EAAO,GACFC,EAAK,EAAGA,EAAKC,UAAUP,OAAQM,IACtCD,EAAKC,GAAMC,UAAUD,GAEvB,OAAOH,EAAGC,EAAGI,MAAM,KAAMH,GAC3B,CACF,EACIoxL,EAAW,SAAUz7K,EAAKC,GAC5B,OAAO,SAAUhX,GACf,OAAO+W,EAAIC,EAAIhX,GACjB,CACF,EACIwuB,EAAW,SAAUpvB,GACvB,OAAO,WACL,OAAOA,CACT,CACF,EACIqzL,EAAW,SAAUpzL,GACvB,OAAOA,CACT,EACIqC,EAAe,SAAU1B,EAAG2B,GAC9B,OAAO3B,IAAM2B,CACf,EACA,SAASC,EAAMC,GAEb,IADA,IAAIC,EAAc,GACTT,EAAK,EAAGA,EAAKC,UAAUP,OAAQM,IACtCS,EAAYT,EAAK,GAAKC,UAAUD,GAElC,OAAO,WAEL,IADA,IAAIU,EAAW,GACNV,EAAK,EAAGA,EAAKC,UAAUP,OAAQM,IACtCU,EAASV,GAAMC,UAAUD,GAE3B,IAAIW,EAAMF,EAAYG,OAAOF,GAC7B,OAAOF,EAAGN,MAAM,KAAMS,EACxB,CACF,CACA,IAAIE,EAAM,SAAUC,GAClB,OAAO,SAAU7C,GACf,OAAQ6C,EAAE7C,EACZ,CACF,EAMIiC,EAAQ,SAAUY,GACpB,OAAOA,GACT,EACIiB,EAAO,SAAUjB,GACnBA,GACF,EACII,EAAQisB,GAAS,GACjBhsB,EAASgsB,GAAS,GAElBtqB,EAAO,WACT,OAAOC,CACT,EACIA,EAAO,WACT,IAAIf,EAAO,SAAUgB,GACnB,OAAOA,GACT,EACIrG,EAAK00L,EA6BT,MA5BS,CACPpuL,KAAM,SAAUpB,EAAGqB,GACjB,OAAOrB,GACT,EACAsB,OAAQhC,EACRiC,OAAQhC,EACRiC,MAAO1G,EACP2G,WAAYtB,EACZuB,SAAU,SAAUtC,GAClB,MAAM,IAAIC,MAAMD,GAAO,kCACzB,EACAuC,UAAW4pB,EAAS,MACpB3pB,eAAgB2pB,OAAS3vB,GACzBiG,GAAI/G,EACJgH,QAAS3B,EACT4B,IAAKd,EACLe,KAAMjE,EACNkE,KAAMhB,EACNiB,OAAQ5C,EACR6C,OAAQ5C,EACR6C,OAAQ,WACN,OAAOnB,GACT,EACAoB,QAAS,WACP,MAAO,EACT,EACAC,SAAUipB,EAAS,UAGvB,CAlCW,GAmCPhpB,EAAO,SAAUxF,GACnB,IAAIyF,EAAa+oB,EAASxuB,GACtB0F,EAAO,WACT,OAAOC,CACT,EACIT,EAAO,SAAU/C,GACnB,OAAOA,EAAEnC,EACX,EACI2F,EAAK,CACPtB,KAAM,SAAUpB,EAAGD,GACjB,OAAOA,EAAEhD,EACX,EACAuE,OAAQ/B,EACRgC,OAAQjC,EACRkC,MAAOgB,EACPf,WAAYe,EACZd,SAAUc,EACVb,UAAWa,EACXZ,eAAgBY,EAChBX,GAAIY,EACJX,QAASW,EACTV,IAAK,SAAU7C,GACb,OAAOqD,EAAKrD,EAAEnC,GAChB,EACAiF,KAAM,SAAU9C,GACdA,EAAEnC,EACJ,EACAkF,KAAMA,EACNC,OAAQD,EACRE,OAAQF,EACRG,OAAQ,SAAUlD,GAChB,OAAOA,EAAEnC,GAAK2F,EAAKxB,CACrB,EACAmB,QAAS,WACP,MAAO,CAACtF,EACV,EACAuF,SAAU,WACR,MAAO,QAAUvF,EAAI,GACvB,GAEF,OAAO2F,CACT,EAIIC,EAAW,CACbJ,KAAMA,EACNtB,KAAMA,EACNL,KANW,SAAUzE,GACrB,OAAOA,QAAwC+E,EAAOqB,EAAKpG,EAC7D,GAOIyG,EAActG,MAAMC,UAAUyE,MAC9B6B,EAAgBvG,MAAMC,UAAUgE,QAChCuC,EAAaxG,MAAMC,UAAU3B,KAC7BmI,EAAa,SAAUC,EAAI3G,GAC7B,OAAOwG,EAAc1C,KAAK6C,EAAI3G,EAChC,EAKIozL,EAAa,SAAUvsL,EAAI9G,GAC7B,OAAO2G,EAAWG,EAAI9G,IAAM,CAC9B,EACI8F,EAAS,SAAUgB,EAAIvF,GACzB,IAAK,IAAIC,EAAI,EAAGC,EAAMqF,EAAGpF,OAAQF,EAAIC,EAAKD,IAAK,CAE7C,GAAID,EADIuF,EAAGtF,GACCA,GACV,OAAO,CAEX,CACA,OAAO,CACT,EACI8xL,EAAQ,SAAUxsL,EAAIhE,GAGxB,IAFA,IAAIrB,EAAMqF,EAAGpF,OACTuF,EAAI,IAAI/G,MAAMuB,GACTD,EAAI,EAAGA,EAAIC,EAAKD,IAAK,CAC5B,IAAIxB,EAAI8G,EAAGtF,GACXyF,EAAEzF,GAAKsB,EAAE9C,EAAGwB,EACd,CACA,OAAOyF,CACT,EACIssL,EAAS,SAAUzsL,EAAIhE,GACzB,IAAK,IAAItB,EAAI,EAAGC,EAAMqF,EAAGpF,OAAQF,EAAIC,EAAKD,IAAK,CAE7CsB,EADQgE,EAAGtF,GACNA,EACP,CACF,EACIqG,EAAQ,SAAUf,EAAIhE,GACxB,IAAK,IAAItB,EAAIsF,EAAGpF,OAAS,EAAGF,GAAK,EAAGA,IAAK,CAEvCsB,EADQgE,EAAGtF,GACNA,EACP,CACF,EACIilJ,EAAY,SAAU3/I,EAAIvF,GAG5B,IAFA,IAAIiG,EAAO,GACPC,EAAO,GACFjG,EAAI,EAAGC,EAAMqF,EAAGpF,OAAQF,EAAIC,EAAKD,IAAK,CAC7C,IAAIxB,EAAI8G,EAAGtF,IACDD,EAAKvB,EAAGwB,GAAKgG,EAAOC,GAC1BjJ,KAAKwB,EACX,CACA,MAAO,CACLwH,KAAMA,EACNC,KAAMA,EAEV,EACI+rL,EAAW,SAAU1sL,EAAIvF,GAE3B,IADA,IAAI0F,EAAI,GACCzF,EAAI,EAAGC,EAAMqF,EAAGpF,OAAQF,EAAIC,EAAKD,IAAK,CAC7C,IAAIxB,EAAI8G,EAAGtF,GACPD,EAAKvB,EAAGwB,IACVyF,EAAEzI,KAAKwB,EAEX,CACA,OAAOiH,CACT,EACIU,EAAQ,SAAUb,EAAIhE,EAAG8E,GAI3B,OAHAC,EAAMf,GAAI,SAAU9G,EAAGwB,GACrBoG,EAAM9E,EAAE8E,EAAK5H,EAAGwB,EAClB,IACOoG,CACT,EACIE,EAAQ,SAAUhB,EAAIhE,EAAG8E,GAI3B,OAHA2rL,EAAOzsL,GAAI,SAAU9G,EAAGwB,GACtBoG,EAAM9E,EAAE8E,EAAK5H,EAAGwB,EAClB,IACOoG,CACT,EACI6rL,EAAc,SAAU3sL,EAAIvF,EAAMyG,GACpC,IAAK,IAAIxG,EAAI,EAAGC,EAAMqF,EAAGpF,OAAQF,EAAIC,EAAKD,IAAK,CAC7C,IAAIxB,EAAI8G,EAAGtF,GACX,GAAID,EAAKvB,EAAGwB,GACV,OAAO+E,EAASJ,KAAKnG,GAChB,GAAIgI,EAAMhI,EAAGwB,GAClB,KAEJ,CACA,OAAO+E,EAAS1B,MAClB,EACIuK,EAAS,SAAUtI,EAAIvF,GACzB,OAAOkyL,EAAY3sL,EAAIvF,EAAM2B,EAC/B,EACIwwL,EAAc,SAAU5sL,EAAIvF,GAC9B,IAAK,IAAIC,EAAI,EAAGC,EAAMqF,EAAGpF,OAAQF,EAAIC,EAAKD,IAAK,CAE7C,GAAID,EADIuF,EAAGtF,GACCA,GACV,OAAO+E,EAASJ,KAAK3E,EAEzB,CACA,OAAO+E,EAAS1B,MAClB,EAWIgB,GAAO,SAAUiB,EAAIhE,GACvB,OAXY,SAAUgE,GAEtB,IADA,IAAIG,EAAI,GACCzF,EAAI,EAAGC,EAAMqF,EAAGpF,OAAQF,EAAIC,IAAOD,EAAG,CAC7C,IAAK0xL,EAAUpsL,EAAGtF,IAChB,MAAM,IAAIyB,MAAM,oBAAsBzB,EAAI,6BAA+BsF,GAE3EJ,EAAWxE,MAAM+E,EAAGH,EAAGtF,GACzB,CACA,OAAOyF,CACT,CAESkB,CAAQmrL,EAAMxsL,EAAIhE,GAC3B,EACIiD,GAAS,SAAUe,EAAIvF,GACzB,IAAK,IAAIC,EAAI,EAAGC,EAAMqF,EAAGpF,OAAQF,EAAIC,IAAOD,EAAG,CAE7C,IAAmB,IAAfD,EADIuF,EAAGtF,GACCA,GACV,OAAO,CAEX,CACA,OAAO,CACT,EACI6G,GAAU,SAAUvB,GACtB,IAAIG,EAAIT,EAAYzC,KAAK+C,EAAI,GAE7B,OADAG,EAAEoB,UACKpB,CACT,EACIqB,GAAa,SAAUC,EAAIC,GAC7B,OAAOgrL,EAASjrL,GAAI,SAAUvI,GAC5B,OAAQqzL,EAAW7qL,EAAIxI,EACzB,GACF,EASI2I,GAAO,SAAU7B,EAAI8B,GACvB,IAAIC,EAAOrC,EAAYzC,KAAK+C,EAAI,GAEhC,OADA+B,EAAKF,KAAKC,GACHC,CACT,EACIwT,GAAQ,SAAUvV,EAAItF,GACxB,OAAOA,GAAK,GAAKA,EAAIsF,EAAGpF,OAAS6E,EAASJ,KAAKW,EAAGtF,IAAM+E,EAAS1B,MACnE,EACI3F,GAAO,SAAU4H,GACnB,OAAOuV,GAAMvV,EAAI,EACnB,EACIiC,GAAS,SAAUjC,GACrB,OAAOuV,GAAMvV,EAAIA,EAAGpF,OAAS,EAC/B,EACI8C,GAAOpD,EAAWlB,MAAMsE,MAAQtE,MAAMsE,KAAO,SAAUxE,GACzD,OAAOwG,EAAYzC,KAAK/D,EAC1B,EACIgJ,GAAU,SAAUC,EAAKnG,GAC3B,IAAK,IAAItB,EAAI,EAAGA,EAAIyH,EAAIvH,OAAQF,IAAK,CACnC,IAAIyF,EAAInE,EAAEmG,EAAIzH,GAAIA,GAClB,GAAIyF,EAAE/B,SACJ,OAAO+B,CAEX,CACA,OAAOV,EAAS1B,MAClB,EAEIqE,GAAOzF,OAAOyF,KACdyqL,GAAmBlwL,OAAOK,eAC1B8vL,GAAS,SAAUzqL,EAAKrG,GAE1B,IADA,IAAIsG,EAAQF,GAAKC,GACRE,EAAI,EAAG5H,EAAM2H,EAAM1H,OAAQ2H,EAAI5H,EAAK4H,IAAK,CAChD,IAAI7H,EAAI4H,EAAMC,GAEdvG,EADQqG,EAAI3H,GACPA,EACP,CACF,EACI6F,GAAQ,SAAU8B,EAAKrG,GACzB,OAAOyG,GAASJ,GAAK,SAAUnJ,EAAGwB,GAChC,MAAO,CACL6H,EAAG7H,EACHgI,EAAG1G,EAAE9C,EAAGwB,GAEZ,GACF,EACI+H,GAAW,SAAUJ,EAAKrG,GAC5B,IAAImE,EAAI,CAAC,EAKT,OAJA2sL,GAAOzqL,GAAK,SAAUnJ,EAAGwB,GACvB,IAAIiI,EAAQ3G,EAAE9C,EAAGwB,GACjByF,EAAEwC,EAAMJ,GAAKI,EAAMD,CACrB,IACOvC,CACT,EACI6C,GAAS,SAAU7C,GACrB,OAAO,SAAUjH,EAAGwB,GAClByF,EAAEzF,GAAKxB,CACT,CACF,EACI6J,GAAiB,SAAUV,EAAK5H,EAAMoI,EAAQC,GAKhD,OAHAgqL,GAAOzqL,GAAK,SAAUnJ,EAAGwB,IACtBD,EAAKvB,EAAGwB,GAAKmI,EAASC,GAAS5J,EAAGwB,EACrC,IAHQ,CAAC,CAKX,EAUIqyL,GAAW,SAAU1qL,EAAK5H,GAC5B,IAAItB,EAAI,CAAC,EAET,OADA4J,GAAeV,EAAK5H,EAAMuI,GAAO7J,GAAI0B,GAC9B1B,CACT,EAQIgK,GAAS,SAAUd,GACrB,OARe,SAAUA,EAAKrG,GAC9B,IAAImE,EAAI,GAIR,OAHA2sL,GAAOzqL,GAAK,SAAUpJ,EAAOO,GAC3B2G,EAAEzI,KAAKsE,EAAE/C,EAAOO,GAClB,IACO2G,CACT,CAES8C,CAAWZ,EAAKiqL,EACzB,EACIn0K,GAAQ,SAAU9V,EAAKgB,GACzB,OAAOC,GAAMjB,EAAKgB,GAAO5D,EAAS/B,KAAK2E,EAAIgB,IAAQ5D,EAAS1B,MAC9D,EACIuF,GAAQ,SAAUjB,EAAKgB,GACzB,OAAOwpL,GAAiB5vL,KAAKoF,EAAKgB,EACpC,EACIE,GAAoB,SAAUlB,EAAKgB,GACrC,OAAOC,GAAMjB,EAAKgB,SAAqB3K,IAAb2J,EAAIgB,IAAmC,OAAbhB,EAAIgB,EAC1D,EAQIrJ,GAAUZ,MAAMY,QAYhBgzL,GAAS,SAAUryK,EAAG6lF,EAAI3jG,GAC5B,IAAIC,EAAGe,EACP,IAAK8c,EACH,OAAO,EAGT,GADA9d,EAAIA,GAAK8d,OACQjiB,IAAbiiB,EAAE/f,QACJ,IAAKkC,EAAI,EAAGe,EAAI8c,EAAE/f,OAAQkC,EAAIe,EAAGf,IAC/B,IAA+B,IAA3B0jG,EAAGvjG,KAAKJ,EAAG8d,EAAE7d,GAAIA,EAAG6d,GACtB,OAAO,OAIX,IAAK7d,KAAK6d,EACR,GAAIrX,GAAMqX,EAAG7d,KACoB,IAA3B0jG,EAAGvjG,KAAKJ,EAAG8d,EAAE7d,GAAIA,EAAG6d,GACtB,OAAO,EAKf,OAAO,CACT,EACInY,GAAQ,SAAUnC,EAAOkvF,GAC3B,IAAIwwB,EAAM,GAIV,OAHAitE,GAAO3sL,GAAO,SAAUuS,EAAMnD,GAC5BswG,EAAIroH,KAAK63F,EAAS38E,EAAMnD,EAAOpP,GACjC,IACO0/G,CACT,EACIn/G,GAAW,SAAU/G,EAAGmC,GAC1B,IAAI2e,EAAI,GAMR,OALAqyK,GAAOnzL,GAAG,SAAU6I,EAAG+M,GAChBzT,IAAKA,EAAE0G,EAAG+M,EAAO5V,IACpB8gB,EAAEjjB,KAAKgL,EAEX,IACOiY,CACT,EACIsyK,GAAY,SAAUpzL,EAAG6I,GAC3B,GAAI7I,EACF,IAAK,IAAIa,EAAI,EAAGmD,EAAIhE,EAAEe,OAAQF,EAAImD,EAAGnD,IACnC,GAAIb,EAAEa,KAAOgI,EACX,OAAOhI,EAIb,OAAQ,CACV,EACIwyL,GAAS,SAAUvrD,EAAYwrD,EAAUC,EAAavsF,GAExD,IADA,IAAI//F,EAAM3G,EAAYizL,GAAezrD,EAAW,GAAKyrD,EAC5C1yL,EAAI,EAAGA,EAAIinI,EAAW/mI,OAAQF,IACrCoG,EAAMqsL,EAASlwL,KAAK4jG,EAAS//F,EAAK6gI,EAAWjnI,GAAIA,GAEnD,OAAOoG,CACT,EACIM,GAAc,SAAUf,EAAO0rB,EAAW80E,GAC5C,IAAInmG,EAAGmD,EACP,IAAKnD,EAAI,EAAGmD,EAAIwC,EAAMzF,OAAQF,EAAImD,EAAGnD,IACnC,GAAIqxB,EAAU9uB,KAAK4jG,EAASxgG,EAAM3F,GAAIA,EAAG2F,GACvC,OAAO3F,EAGX,OAAQ,CACV,EACIo7E,GAAS,SAAU6rD,GACrB,OAAOA,EAAWA,EAAW/mI,OAAS,EACxC,EAEI8B,GAAW,WAUb,OATAA,GAAWC,OAAOC,QAAU,SAAkBzD,GAC5C,IAAK,IAAI0D,EAAGnC,EAAI,EAAGoC,EAAI3B,UAAUP,OAAQF,EAAIoC,EAAGpC,IAE9C,IAAK,IAAIqC,KADTF,EAAI1B,UAAUT,GAERiC,OAAOtD,UAAU2D,eAAeC,KAAKJ,EAAGE,KAC1C5D,EAAE4D,GAAKF,EAAEE,IAEf,OAAO5D,CACT,EACOuD,GAAStB,MAAM8B,KAAM/B,UAC9B,EAaA,SAASqC,GAAcC,EAAIC,EAAMC,GAC/B,GAAIA,GAA6B,IAArBxC,UAAUP,OACpB,IAAK,IAA4BgD,EAAxBlD,EAAI,EAAGmD,EAAIH,EAAK9C,OAAYF,EAAImD,EAAGnD,KACtCkD,GAAQlD,KAAKgD,IACVE,IACHA,EAAKxE,MAAMC,UAAUyE,MAAMb,KAAKS,EAAM,EAAGhD,IAC3CkD,EAAGlD,GAAKgD,EAAKhD,IAGnB,OAAO+C,EAAG3B,OAAO8B,GAAMxE,MAAMC,UAAUyE,MAAMb,KAAKS,GACpD,CAEA,IAAI2J,GAAS,SAAUrL,GACrB,IACImE,EADAmH,GAAS,EAEb,OAAO,WAEL,IADA,IAAIrM,EAAO,GACFC,EAAK,EAAGA,EAAKC,UAAUP,OAAQM,IACtCD,EAAKC,GAAMC,UAAUD,GAMvB,OAJKoM,IACHA,GAAS,EACTnH,EAAInE,EAAEZ,MAAM,KAAMH,IAEbkF,CACT,CACF,EAqDIktL,GAAY,WACd,OAAO57I,GAAK,EAAG,EACjB,EACIA,GAAO,SAAUhqC,EAAOC,GAC1B,MAAO,CACLD,MAAOA,EACPC,MAAOA,EAEX,EACIC,GAAU,CACZC,GAAI6pC,GACJ5pC,OAlBa,SAAUC,EAAgBC,GACvC,IAAIC,EAAevO,OAAOsO,GAAOjB,cACjC,OAA8B,IAA1BgB,EAAelN,OACVyyL,KAhBE,SAAUplL,EAASF,GAC9B,IAAI5H,EAVW,SAAU8H,EAASpL,GAClC,IAAK,IAAInC,EAAI,EAAGA,EAAIuN,EAAQrN,OAAQF,IAAK,CACvC,IAAIxB,EAAI+O,EAAQvN,GAChB,GAAIxB,EAAEgP,KAAKrL,GACT,OAAO3D,CAEX,CAEF,CAEUiP,CAAWF,EAASF,GAC5B,IAAK5H,EACH,MAAO,CACLsH,MAAO,EACPC,MAAO,GAGX,IAAIU,EAAQ,SAAU1N,GACpB,OAAO2N,OAAON,EAAMpD,QAAQxE,EAAG,IAAMzF,GACvC,EACA,OAAO+2C,GAAKrpC,EAAM,GAAIA,EAAM,GAC9B,CAMSyR,CAAO/R,EAAgBE,EAChC,EAaEO,QAAS8kL,IAkBPC,GAAW,SAAU7kL,EAAYC,GACnC,IAAIX,EAAQtO,OAAOiP,GAAW5B,cAC9B,OAAOwB,EAAOG,GAAY,SAAUE,GAClC,OAAOA,EAAUC,OAAOb,EAC1B,GACF,EA8BIhI,GAAa,SAAUmE,EAAKC,GAC9B,OAAgC,IAAzBD,EAAI7G,QAAQ8G,EACrB,EACIG,GAAa,SAAUJ,EAAKK,GAC9B,OAVe,SAAUL,EAAKC,EAAQC,GACtC,MAAkB,KAAXD,GAAiBD,EAAItJ,QAAUuJ,EAAOvJ,QAAUsJ,EAAIC,OAAOC,EAAOA,EAAQD,EAAOvJ,UAAYuJ,CACtG,CAQSF,CAAWC,EAAKK,EAAQ,EACjC,EACIK,GAAQ,SAAUzE,GACpB,OAAO,SAAUtD,GACf,OAAOA,EAAE8H,QAAQxE,EAAG,GACtB,CACF,EACIotL,GAAS3oL,GAAM,cACf4oL,GAAQ5oL,GAAM,SACd6oL,GAAQ7oL,GAAM,SACdC,GAAa,SAAUhI,GACzB,OAAOA,EAAEjC,OAAS,CACpB,EACI8yL,GAAY,SAAU7wL,GACxB,OAAQgI,GAAWhI,EACrB,EAEIgM,GAAqB,sCACrBC,GAAgB,SAAUC,GAC5B,OAAO,SAAUC,GACf,OAAOjJ,GAAWiJ,EAAUD,EAC9B,CACF,EACIE,GAAW,CACb,CACEzP,KAAM,OACNsO,eAAgB,CAAC,kCACjBc,OAAQ,SAAUI,GAChB,OAAOjJ,GAAWiJ,EAAU,UAAYjJ,GAAWiJ,EAAU,WAAajJ,GAAWiJ,EAAU,WAAajJ,GAAWiJ,EAAU,cACnI,GAEF,CACExP,KAAM,SACN0P,MAAO,WACPpB,eAAgB,CACd,kCACAe,IAEFD,OAAQ,SAAUI,GAChB,OAAOjJ,GAAWiJ,EAAU,YAAcjJ,GAAWiJ,EAAU,cACjE,GAEF,CACExP,KAAM,KACNsO,eAAgB,CACd,iCACA,8BAEFc,OAAQ,SAAUI,GAChB,OAAOjJ,GAAWiJ,EAAU,SAAWjJ,GAAWiJ,EAAU,UAC9D,GAEF,CACExP,KAAM,QACNsO,eAAgB,CACde,GACA,kCAEFD,OAAQE,GAAc,UAExB,CACEtP,KAAM,UACNsO,eAAgB,CAAC,uCACjBc,OAAQE,GAAc,YAExB,CACEtP,KAAM,SACNsO,eAAgB,CACde,GACA,iCAEFD,OAAQ,SAAUI,GAChB,OAAQjJ,GAAWiJ,EAAU,WAAajJ,GAAWiJ,EAAU,aAAejJ,GAAWiJ,EAAU,cACrG,IAGAG,GAAO,CACT,CACE3P,KAAM,UACNoP,OAAQE,GAAc,OACtBhB,eAAgB,CAAC,0CAEnB,CACEtO,KAAM,MACNoP,OAAQ,SAAUI,GAChB,OAAOjJ,GAAWiJ,EAAU,WAAajJ,GAAWiJ,EAAU,OAChE,EACAlB,eAAgB,CACd,sCACA,+BACA,wCAGJ,CACEtO,KAAM,UACNoP,OAAQE,GAAc,WACtBhB,eAAgB,CAAC,sCAEnB,CACEtO,KAAM,MACNoP,OAAQE,GAAc,YACtBhB,eAAgB,CAAC,wCAEnB,CACEtO,KAAM,QACNoP,OAAQE,GAAc,SACtBhB,eAAgB,IAElB,CACEtO,KAAM,UACNoP,OAAQE,GAAc,SACtBhB,eAAgB,IAElB,CACEtO,KAAM,UACNoP,OAAQE,GAAc,WACtBhB,eAAgB,IAElB,CACEtO,KAAM,WACNoP,OAAQE,GAAc,QACtBhB,eAAgB,CAAC,qCAGjBsB,GAAe,CACjBH,SAAUof,EAASpf,IACnBE,KAAMkf,EAASlf,KAGbE,GAAO,OACPC,GAAS,SAETC,GAAQ,QACRC,GAAU,UACVC,GAAS,SAOTo4F,GAAO,SAAUl4F,GACnB,IAAIC,EAAUD,EAAKC,QACfC,EAAUF,EAAKE,QACfC,EAAY,SAAUtQ,GACxB,OAAO,WACL,OAAOoQ,IAAYpQ,CACrB,CACF,EACA,MAAO,CACLoQ,QAASA,EACTC,QAASA,EACTE,OAAQD,EAAUT,IAClBW,SAAUF,EAAUR,IACpBW,KAAMH,EAvBC,MAwBPI,QAASJ,EAAUP,IACnBY,UAAWL,EAAUN,IACrBY,SAAUN,EAAUL,IAExB,EACIY,GAAU,CACZ9B,QA1Bc,WACd,OAAOs5F,GAAK,CACVj4F,aAASlR,EACTmR,QAASlC,GAAQY,WAErB,EAsBEX,GAAIi6F,GACJx4F,KAAMgf,EAAShf,IACfC,OAAQ+e,EAAS/e,IACjBgB,GAAI+d,EAlCK,MAmCT9e,MAAO8e,EAAS9e,IAChBC,QAAS6e,EAAS7e,IAClBC,OAAQ4e,EAAS5e,KAGfc,GAAU,UAEVC,GAAU,UACVC,GAAQ,QAERC,GAAU,UACVC,GAAU,UACVC,GAAW,WAOX+iL,GAAO,SAAUhkL,GACnB,IAAIC,EAAUD,EAAKC,QACfC,EAAUF,EAAKE,QACfiB,EAAO,SAAUtR,GACnB,OAAO,WACL,OAAOoQ,IAAYpQ,CACrB,CACF,EACA,MAAO,CACLoQ,QAASA,EACTC,QAASA,EACTkB,UAAWD,EAAKP,IAChBS,MAAOF,EAzBD,OA0BNG,UAAWH,EAAKN,IAChBU,MAAOJ,EAxBD,OAyBNK,QAASL,EAAKL,IACdW,UAAWN,EAAKJ,IAChBW,UAAWP,EAAKH,IAChBW,WAAYR,EAAKF,IAErB,EACIW,GAAkB,CACpBhD,QA5BY,WACZ,OAAOolL,GAAK,CACV/jL,aAASlR,EACTmR,QAASlC,GAAQY,WAErB,EAwBEX,GAAI+lL,GACJpjL,QAAS8d,EAAS9d,IAClBiB,IAAK6c,EAtCG,OAuCR7d,QAAS6d,EAAS7d,IAClBC,MAAO4d,EAAS5d,IAChBgB,IAAK4c,EAtCG,OAuCR3d,QAAS2d,EAAS3d,IAClBC,QAAS0d,EAAS1d,IAClBC,SAAUyd,EAASzd,KAmBjBc,GAhBW,SAAUhD,EAAWiD,EAAkBC,GACpD,IAAI3C,EAAWG,GAAaH,WACxBE,EAAOC,GAAaD,OACpB0C,EAAUF,EAAiB5M,MAAK,SAAU+M,GAC5C,OArRkB,SAAU7C,EAAU6C,GACxC,OAAO5J,GAAQ4J,EAAcC,QAAQ,SAAUC,GAC7C,IAAIC,EAAUD,EAAQ9C,MAAMpC,cAC5B,OAAOwB,EAAOW,GAAU,SAAU4C,GAChC,IAAIK,EACJ,OAAOD,KAAsC,QAAxBC,EAAKL,EAAQ3C,aAA0B,IAAPgD,OAAgB,EAASA,EAAGpF,cACnF,IAAGjI,KAAI,SAAU8K,GACf,MAAO,CACLC,QAASD,EAAKnQ,KACdqQ,QAASlC,GAAQC,GAAGuE,SAASH,EAAQnC,QAAS,IAAK,GAEvD,GACF,GACF,CAwQWuC,CAAgBnD,EAAU6C,EACnC,IAAGlN,SAAQ,WACT,OAlQgB,SAAUqK,EAAUP,GACtC,OAAO4kL,GAASrkL,EAAUP,GAAW7J,KAAI,SAAUgN,GACjD,IAAIhC,EAAUlC,GAAQE,OAAOgE,EAAQ/D,eAAgBY,GACrD,MAAO,CACLkB,QAASiC,EAAQrS,KACjBqQ,QAASA,EAEb,GACF,CA0PWwC,CAAcpD,EAAUP,EACjC,IAAGxK,KAAKmM,GAAQ9B,QAAS8B,GAAQzC,IAC7B0E,EA3PS,SAAUnD,EAAMT,GAC7B,OAAO4kL,GAASnkL,EAAMT,GAAW7J,KAAI,SAAUyN,GAC7C,IAAIzC,EAAUlC,GAAQE,OAAOyE,EAAGxE,eAAgBY,GAChD,MAAO,CACLkB,QAAS0C,EAAG9S,KACZqQ,QAASA,EAEb,GACF,CAmPW0C,CAASpD,EAAMT,GAAWxK,KAAKqN,GAAgBhD,QAASgD,GAAgB3D,IAC7E4E,EA5VW,SAAUF,EAAIT,EAASnD,EAAWkD,GACjD,IAAIa,EAASH,EAAGtB,UAAuC,IAA5B,QAAQ9C,KAAKQ,GACpCgE,EAAWJ,EAAGtB,UAAYyB,EAC1BE,EAAWL,EAAGtB,SAAWsB,EAAGrB,YAC5B2B,EAAUD,GAAYf,EAAW,oBACjCiB,EAAWJ,IAAWC,GAAYC,GAAYf,EAAW,4BACzDkB,EAAUJ,GAAYC,IAAaE,EACnCE,EAAalB,EAAQzB,YAAckC,EAAGtB,UAAyC,IAA9B,UAAU9C,KAAKQ,GAChEsE,GAAaF,IAAYD,IAAaE,EAC1C,MAAO,CACLN,OAAQ4b,EAAS5b,GACjBC,SAAU2b,EAAS3b,GACnBG,SAAUwb,EAASxb,GACnBC,QAASub,EAASvb,GAClBF,QAASyb,EAASzb,GAClB3B,UAAWqB,EAAGrB,UACdD,MAAOsB,EAAGtB,MACViC,UAAWob,EAAStb,GACpBC,UAAWqb,EAASrb,GAExB,CAwUmBE,CAAWZ,EAAIT,EAASnD,EAAWkD,GACpD,MAAO,CACLC,QAASA,EACTS,GAAIA,EACJE,WAAYA,EAEhB,EAGIZ,GAAa,SAAUuB,GACzB,OAAO3G,OAAO4G,WAAWD,GAAOE,OAClC,EACIugL,GAAavmL,IAAO,WACtB,OAAOqE,GAAyB6B,UAAU7E,UAAWjJ,EAAS/B,KAAK6P,UAAUzB,eAAgBF,GAC/F,IACI/D,GAAS,WACX,OAAO+lL,IACT,EAEIllL,GAAY6E,UAAU7E,UACtBmlL,GAAahmL,KACbimL,GAAYD,GAAWhiL,QACvBS,GAAKuhL,GAAWvhL,GAChBE,GAAaqhL,GAAWrhL,WACxBuhL,GAAS,SAAS7lL,KAAKQ,MAAeolL,GAAU/jL,SAChDikL,GAAU,aAAcxnL,QAAU,eAAgBA,QAAU,QAASA,UAAYvS,IAAI+pH,gBACrFiwE,IAAuD,IAAxCvlL,GAAUrL,QAAQ,iBACjC6wL,GAAM,CACR3kL,MAAOukL,GAAU5jL,UACjB6jL,OAAQA,GACRzjL,MAAIwjL,GAAU7jL,SAAU6jL,GAAU/jL,WAAW+jL,GAAUjkL,QAAQpC,MAC/D0mL,MAAOL,GAAU3jL,YACjB07E,IAAKv5E,GAAGpB,SAAWoB,GAAGtB,QACtBojL,IAAK5hL,GAAWC,UAAYD,GAAWE,WACvClC,QAAS8B,GAAGrB,YACZggI,iBAAiB,EACjBojD,eAAgB,iFAChBC,YAAY,EACZx3I,MAAOtwC,OAAOyzC,cAAgB,UAAWzzC,OACzC+nL,aAAcT,GAAU7jL,OAAS9R,SAASo2L,cAAgB,EAAI,GAC9DP,QAASA,GACTQ,SAAS,EACTC,YAAa,KACbpgK,UAAW,KACXqgK,uBAAuB,EACvBC,YAAab,GAAU7jL,OACvB2kL,QAASpiL,GAAWQ,YACpBihL,aAAcA,GACdpiL,QAAS,CACPjC,QAASkkL,GAAUlkL,QACnBC,QAASikL,GAAUjkL,QACnBG,SAAU8jL,GAAU9jL,SACpBD,OAAQ+jL,GAAU/jL,OAClBI,UAAW2jL,GAAU3jL,UACrBF,KAAM6jL,GAAU7jL,KAChBC,QAAS4jL,GAAU5jL,QACnBE,SAAU0jL,GAAU1jL,UAEtBkC,GAAI,CACF1C,QAAS0C,GAAG1C,QACZC,QAASyC,GAAGzC,QACZoB,UAAWqB,GAAGrB,UACdK,WAAYgB,GAAGhB,WACfD,UAAWiB,GAAGjB,UACdL,MAAOsB,GAAGtB,MACVG,QAASmB,GAAGnB,QACZD,MAAOoB,GAAGpB,MACVE,UAAWkB,GAAGlB,UACdL,UAAWuB,GAAGvB,WAEhByB,WAAY,CACVQ,UAAWR,GAAWQ,UACtBP,OAAQD,GAAWC,OACnBC,SAAUF,GAAWE,SACrBI,QAASN,GAAWM,QACpBD,SAAUL,GAAWK,SACrBD,QAASJ,GAAWI,QACpBK,UAAWT,GAAWS,YAItB4hL,GAAqB,aACrBC,GAAS,SAAU5qL,GACrB,OAAOA,QAAoC,IAAM,GAAKA,GAAKS,QAAQkqL,GAAoB,GACzF,EACIE,GAAO,SAAU1sL,EAAKrJ,GACxB,OAAKA,IAGQ,UAATA,IAAoBgB,GAAQqI,YAGlBA,IAAQrJ,OALLN,IAAR2J,CAMX,EA4FI2sL,GAAS,SAAUr0K,EAAG3e,EAAGc,EAAGD,GAC9BA,EAAIA,GAAKK,KACLyd,IACE7d,IACF6d,EAAIA,EAAE7d,IAERkwL,GAAOryK,GAAG,SAAUA,EAAGjgB,GACrB,IAA2B,IAAvBsB,EAAEiB,KAAKJ,EAAG8d,EAAGjgB,EAAGoC,GAClB,OAAO,EAETkyL,GAAOr0K,EAAG3e,EAAGc,EAAGD,EAClB,IAEJ,EAuCIL,GAAQ,CACVu8C,KAAM+1I,GACN90L,QAASA,GACTyT,GAAIshL,GACJ5vL,QAjtBc,SAAUkD,GACxB,GAAKrI,GAAQqI,GAOX,OAAOA,EALP,IADA,IAAIhC,EAAQ,GACH3F,EAAI,EAAGmD,EAAIwE,EAAIzH,OAAQF,EAAImD,EAAGnD,IACrC2F,EAAM3F,GAAK2H,EAAI3H,GAEjB,OAAO2F,CAIX,EAwsBE8sI,QApJc,SAAUlpF,EAAOgrI,EAAOpwL,GACtC,IAAInE,EAQJ,IANAu0L,EAAQA,GAAS,IACI,iBAFrBhrI,EAAQA,GAAS,MAGfA,EAAQA,EAAM7yB,MAAM69J,IAEtBpwL,EAAMA,GAAO,CAAC,EACdnE,EAAIupD,EAAMrpD,OACHF,KACLmE,EAAIolD,EAAMvpD,IAAM,CAAC,EAEnB,OAAOmE,CACT,EAwIEC,KAAMkuL,GACNnuL,IAAK2D,GACL0sL,KAAMtuL,GACNuuL,QAASlC,GACTmC,OA3ImB9rL,GA4InB+rL,OAjFa,SAAUhtL,GAEvB,IADA,IAAIitL,EAAO,GACFp0L,EAAK,EAAGA,EAAKC,UAAUP,OAAQM,IACtCo0L,EAAKp0L,EAAK,GAAKC,UAAUD,GAE3B,IAAK,IAAIR,EAAI,EAAGA,EAAI40L,EAAK10L,OAAQF,IAAK,CACpC,IAAI60L,EAAMD,EAAK50L,GACf,IAAK,IAAIinK,KAAU4tB,EACjB,GAAIjsL,GAAMisL,EAAK5tB,GAAS,CACtB,IAAI1oK,EAAQs2L,EAAI5tB,QACFjpK,IAAVO,IACFoJ,EAAIs/J,GAAU1oK,EAElB,CAEJ,CACA,OAAOoJ,CACT,EAiEE+oI,OA5Ia,SAAUvuI,EAAGE,EAAGooC,GAC7B,IACIqqJ,EAAIC,EAAKv7J,EADT30B,EAAOrC,KACKwyL,EAAK,EAEjBC,GADJ9yL,EAAI,oCAAoC0tF,KAAK1tF,IAClC,GAAGwR,MAAM,iBAAiB,GACjCuhL,EAAKrwL,EAAKswL,SAAShzL,EAAE,GAAG8H,QAAQ,SAAU,IAAKwgC,GACnD,IAAIyqJ,EAAGD,GAAP,CAGA,GAAa,WAAT9yL,EAAE,GAKJ,OAJA+yL,EAAGD,GAAM5yL,OACLG,KAAK4yL,UACP5yL,KAAK4yL,SAASjzL,EAAE,GAAIA,EAAE,GAAI+yL,EAAGD,KAI5B5yL,EAAE4yL,KACL5yL,EAAE4yL,GAAM,WACR,EACAD,EAAK,GAEPE,EAAGD,GAAM5yL,EAAE4yL,GACXpwL,EAAK8vL,OAAOO,EAAGD,GAAIt2L,UAAW0D,GAC1BF,EAAE,KACJ2yL,EAAKjwL,EAAK9C,QAAQI,EAAE,IAAIxD,UACxBo2L,EAAM5yL,EAAE,GAAGwR,MAAM,aAAa,GAC9B6lB,EAAI07J,EAAGD,GAELC,EAAGD,GADDD,EACO,WACP,OAAOF,EAAGC,GAAKr0L,MAAM8B,KAAM/B,UAC7B,EAES,WAEP,OADA+B,KAAKkS,OAASogL,EAAGC,GACVv7J,EAAE94B,MAAM8B,KAAM/B,UACvB,EAEFy0L,EAAGD,GAAIt2L,UAAUs2L,GAAMC,EAAGD,GAC1BpwL,EAAKT,KAAK0wL,GAAI,SAAUxzL,EAAGc,GACzB8yL,EAAGD,GAAIt2L,UAAUyD,GAAK0yL,EAAG1yL,EAC3B,IACAyC,EAAKT,KAAK/B,GAAG,SAAUf,EAAGc,GACpB0yL,EAAG1yL,GACL8yL,EAAGD,GAAIt2L,UAAUyD,GAAK,WAEpB,OADAI,KAAKkS,OAASogL,EAAG1yL,GACVd,EAAEZ,MAAM8B,KAAM/B,UACvB,EAEI2B,IAAM6yL,IACRC,EAAGD,GAAIt2L,UAAUyD,GAAKd,EAG5B,KAEFuD,EAAKT,KAAK/B,EAAEm0I,QAAQ,SAAUl1I,EAAGc,GAC/B8yL,EAAGD,GAAI7yL,GAAKd,CACd,GAhDA,CAiDF,EAoFE+zL,KAAMf,GACNa,SApDa,SAAU/yL,EAAG6d,GAC1B,IAAIjgB,EAAGgI,EAGP,IAFAiY,EAAIA,GAAKnU,OACT1J,EAAIA,EAAEs0B,MAAM,KACP12B,EAAI,EAAGA,EAAIoC,EAAElC,OAAQF,IAEnBigB,EADLjY,EAAI5F,EAAEpC,MAEJigB,EAAEjY,GAAK,CAAC,GAEViY,EAAIA,EAAEjY,GAER,OAAOiY,CACT,EAyCEle,QAxCc,SAAUK,EAAG6d,GAC3B,IAAIjgB,EAAGmD,EAGP,IAFA8c,EAAIA,GAAKnU,OAEJ9L,EAAI,EAAGmD,GADZf,EAAIA,EAAEs0B,MAAM,MACMx2B,OAAQF,EAAImD,IAC5B8c,EAAIA,EAAE7d,EAAEpC,KADuBA,KAMjC,OAAOigB,CACT,EA8BE0/F,QA7Bc,SAAUx9G,EAAGkd,GAC3B,OAAKld,GAAKkyL,GAAKlyL,EAAG,SACTA,EAEF2F,GAAM3F,EAAEu0B,MAAMrX,GAAK,KAAM+0K,GAClC,EAyBEkB,gBAxBoB,SAAU54D,GAC9B,IAAIq3D,EAAcP,GAAIO,YAItB,OAHIA,IACFr3D,KAA8B,IAAtBA,EAAI/5H,QAAQ,KAAc,IAAM,KAAOoxL,GAE1Cr3D,CACT,GAyCI64D,GAAY,SAAU9qL,GACxB,GAAIA,QACF,MAAM,IAAIhJ,MAAM,oCAElB,MAAO,CAAE4I,IAAKI,EAChB,EAIIC,GAAe,CACjBC,SA9Be,SAAUC,EAAMC,GAC/B,IACIC,GADMD,GAASpN,UACLsN,cAAc,OAE5B,GADAD,EAAIE,UAAYJ,GACXE,EAAIG,iBAAmBH,EAAII,WAAWhL,OAAS,EAElD,MADAiL,QAAQC,MAAM,wCAAyCR,GACjD,IAAInJ,MAAM,qCAElB,OAAO8zL,GAAUzqL,EAAII,WAAW,GAClC,EAsBEG,QArBY,SAAUC,EAAKT,GAC3B,IACIJ,GADMI,GAASpN,UACJsN,cAAcO,GAC7B,OAAOiqL,GAAU9qL,EACnB,EAkBEc,SAjBa,SAAUC,EAAMX,GAC7B,IACIJ,GADMI,GAASpN,UACJgO,eAAeD,GAC9B,OAAO+pL,GAAU9qL,EACnB,EAcED,QAAS+qL,GACT7pL,UARgB,SAAUC,EAAQnN,EAAGoN,GACrC,OAAO7G,EAAS/B,KAAK2I,EAAOtB,IAAIwB,iBAAiBrN,EAAGoN,IAAIzH,IAAIoxL,GAC9D,GASI9wL,GAAU,SAAU4J,EAAQ/M,GAC9B,IAAImE,EAAI,GACJ+vL,EAAU,SAAU9yL,GAEtB,OADA+C,EAAEzI,KAAK0F,GACApB,EAAEoB,EACX,EACI2nL,EAAM/oL,EAAE+M,GACZ,GACEg8K,EAAMA,EAAIhmL,KAAKmxL,SACRnL,EAAI3mL,UACb,OAAO+B,CACT,EAeIgwL,GAAO,SAAUvpL,EAAS8G,GAC5B,IAAI3I,EAAM6B,EAAQ7B,IAClB,GALY,IAKRA,EAAIiC,SACN,OAAO,EAEP,IAAI2G,EAAO5I,EACX,QAAqBrM,IAAjBiV,EAAKN,QACP,OAAOM,EAAKN,QAAQK,GACf,QAA+BhV,IAA3BiV,EAAKC,kBACd,OAAOD,EAAKC,kBAAkBF,GACzB,QAAmChV,IAA/BiV,EAAKE,sBACd,OAAOF,EAAKE,sBAAsBH,GAC7B,QAAgChV,IAA5BiV,EAAKG,mBACd,OAAOH,EAAKG,mBAAmBJ,GAE/B,MAAM,IAAIvR,MAAM,iCAGtB,EACI4R,GAAiB,SAAUhJ,GAC7B,OAvBY,IAuBLA,EAAIiC,UAzBE,IAyBsBjC,EAAIiC,UAxBjB,KAwB0CjC,EAAIiC,UAA4D,IAA1BjC,EAAIiJ,iBAC5G,EAUIC,GAAK,SAAUC,EAAIC,GACrB,OAAOD,EAAGnJ,MAAQoJ,EAAGpJ,GACvB,EAMIqJ,GAAa,SAAUF,EAAIC,GAC7B,OAlD0CtU,EAkDPqU,EAAGnJ,IAlDOvJ,EAkDF2S,EAAGpJ,IArDlB,SAAUlL,EAAG2B,EAAG6S,GAC5C,OAAkD,IAA1CxU,EAAEyU,wBAAwB9S,GAAK6S,EACzC,CAESC,CAAwBzU,EAAG2B,EAAG+S,KAAKC,gCADV,IAAU3U,EAAG2B,CAmD/C,EACI6I,GAAa,SAAU6J,EAAIC,GAC7B,OAAOtG,KAASgE,QAAQ5B,OAASmE,GAAWF,EAAIC,GAT5B,SAAUD,EAAIC,GAClC,IAAIQ,EAAKT,EAAGnJ,IACR6J,EAAKT,EAAGpJ,IACZ,OAAO4J,IAAOC,GAAaD,EAAGD,SAASE,EACzC,CAKwDC,CAAgBX,EAAIC,EAC5E,EAEkB,oBAAX3H,OAAyBA,OAASC,SAAS,eAATA,GAEzC,IAAIjN,GAAO,SAAUoN,GAEnB,OADQA,EAAQ7B,IAAI8B,SACXC,aACX,EACI9N,GAAO,SAAU4N,GACnB,OAAOA,EAAQ7B,IAAIiC,QACrB,EACID,GAAS,SAAU5N,GACrB,OAAO,SAAUyN,GACf,OAAO5N,GAAK4N,KAAazN,CAC3B,CACF,EAIIi3L,GAAcrpL,GAlEJ,GAmEVspL,GAAWtpL,GAlEJ,GAmEPupL,GAAevpL,GAtEJ,GAuEXwpL,GAAuBxpL,GAtEH,IA6EpB6rG,GAAU,SAAUhsG,GACtB,OAAOxB,GAAaF,QAAQ0B,EAAQ7B,IAAIgK,cAC1C,EACIC,GAAkB,SAAUC,GAC9B,OAAOqhL,GAAarhL,GAAOA,EAAM2jG,GAAQ3jG,EAC3C,EAIIE,GAAc,SAAUvI,GAC1B,OAAOxB,GAAaF,QAAQ8J,GAAgBpI,GAAS7B,IAAIoK,YAC3D,EACIC,GAAS,SAAUxI,GACrB,OAAOnH,EAAS/B,KAAKkJ,EAAQ7B,IAAIsK,YAAYxQ,IAAIuG,GAAaF,QAChE,EAyBIsrL,GAAc,SAAU5pL,GAC1B,OAAOnH,EAAS/B,KAAKkJ,EAAQ7B,IAAI0rL,iBAAiB5xL,IAAIuG,GAAaF,QACrE,EACIiS,GAAc,SAAUvQ,GAC1B,OAAOnH,EAAS/B,KAAKkJ,EAAQ7B,IAAIoS,aAAatY,IAAIuG,GAAaF,QACjE,EACIwrL,GAAe,SAAU9pL,GAC3B,OAAOrF,GAAQpC,GAAQyH,EAAS4pL,IAClC,EACIG,GAAe,SAAU/pL,GAC3B,OAAOzH,GAAQyH,EAASuQ,GAC1B,EACI5H,GAAW,SAAU3I,GACvB,OAAO4lL,EAAM5lL,EAAQ7B,IAAIa,WAAYR,GAAaF,QACpD,EACIy1B,GAAU,SAAU/zB,EAAS6I,GAC/B,IAAIC,EAAK9I,EAAQ7B,IAAIa,WACrB,OAAOnG,EAAS/B,KAAKgS,EAAGD,IAAQ5Q,IAAIuG,GAAaF,QACnD,EACIqS,GAAa,SAAU3Q,GACzB,OAAO+zB,GAAQ/zB,EAAS,EAC1B,EACIgqL,GAAY,SAAUhqL,GACxB,OAAO+zB,GAAQ/zB,EAASA,EAAQ7B,IAAIa,WAAWhL,OAAS,EAC1D,EACIi2L,GAAkB,SAAUjqL,GAC9B,OAAOA,EAAQ7B,IAAIa,WAAWhL,MAChC,EAUIkV,GAAe,SAAUb,GAC3B,OAAOshL,GAAqBthL,IAAQ5U,EAAc4U,EAAIlK,IAAIgL,KAC5D,EACIC,GAAY1V,EAAW2V,QAAQ5W,UAAU6W,eAAiB5V,EAAWiU,KAAKlV,UAAU8W,aACpFrL,GAAgBujB,EAASrY,IACzBG,GAAcH,GAAY,SAAU5S,GACtC,OAAOgI,GAAaF,QAAQ9H,EAAE2H,IAAIoL,cACpC,EAAInB,GACA8hL,GAAoB,SAAU7hL,GAChC,OAAOa,GAAab,GAAOA,EAjBf,SAAU6B,GACtB,IAAItV,EAAIsV,EAAI/L,IAAI3M,KAChB,GAAIoD,QACF,MAAM,IAAIW,MAAM,6BAElB,OAAOiJ,GAAaF,QAAQ1J,EAC9B,CAWmCu1L,CAAQ/hL,GAAgBC,GAC3D,EAKIuB,GAAgB,SAAUpT,GAC5B,OAAOgI,GAAaF,QAAQ9H,EAAE2H,IAAIgL,KACpC,EAeIU,GAAmB,SAAU7J,GAC/B,OAAOvM,EAAcuM,EAAQ7B,IAAI2L,WACnC,EAEIsgL,GAAW,SAAUh6K,EAAQpQ,GAChBwI,GAAO4H,GACblY,MAAK,SAAU4D,GACtBA,EAAEqC,IAAIzM,aAAasO,EAAQ7B,IAAKiS,EAAOjS,IACzC,GACF,EACIksL,GAAU,SAAUj6K,EAAQpQ,GAChBuQ,GAAYH,GAClB9Y,MAAK,WACIkR,GAAO4H,GACblY,MAAK,SAAU4D,GACtB+U,GAAS/U,EAAGkE,EACd,GACF,IAAG,SAAUlE,GACXsuL,GAAStuL,EAAGkE,EACd,GACF,EACI85D,GAAU,SAAUtxD,EAAQxI,GACX2Q,GAAWnI,GACjBlR,MAAK,WAChBuZ,GAASrI,EAAQxI,EACnB,IAAG,SAAUlE,GACX0M,EAAOrK,IAAIzM,aAAasO,EAAQ7B,IAAKrC,EAAEqC,IACzC,GACF,EACI0S,GAAW,SAAUrI,EAAQxI,GAC/BwI,EAAOrK,IAAIyS,YAAY5Q,EAAQ7B,IACjC,EAWIxM,GAAS,SAAU6W,EAAQsI,GAC7B+0K,EAAO/0K,GAAU,SAAUxe,GACzBue,GAASrI,EAAQlW,EACnB,GACF,EAEIye,GAAQ,SAAU/Q,GACpBA,EAAQ7B,IAAI6S,YAAc,GAC1B60K,EAAOl9K,GAAS3I,IAAU,SAAUiR,GAClCnG,GAASmG,EACX,GACF,EACInG,GAAW,SAAU9K,GACvB,IAAI7B,EAAM6B,EAAQ7B,IACK,OAAnBA,EAAIsK,YACNtK,EAAIsK,WAAW0I,YAAYhT,EAE/B,EACIiT,GAAS,SAAUC,GACrB,IAxBuBjB,EAwBnBkB,EAAa3I,GAAS0I,GACtBC,EAAWtd,OAAS,IAzBDoc,EA0BZiB,EAzBXw0K,EAyBoBv0K,GAzBH,SAAUhf,GACzB83L,GAASh6K,EAAQ9d,EACnB,KAyBAwY,GAASuG,EACX,EAEItH,GAAS,SAAU/J,GACrB,IAAI7B,EAAMsrL,GAASzpL,GAAWA,EAAQ7B,IAAIsK,WAAazI,EAAQ7B,IAC/D,GAAIA,SAA2D,OAAtBA,EAAIgK,cAC3C,OAAO,EAET,IAAI+B,EAAM/L,EAAIgK,cACd,OA/FkB,SAAU3R,GAC5B,IAAI+C,EAAIgQ,GAAY/S,GACpB,OAAO0S,GAAa3P,GAAKV,EAASJ,KAAKc,GAAKV,EAAS1B,MACvD,CA4FSwS,CAAcnL,GAAaF,QAAQH,IAAM7G,MAAK,WACnD,OAAO4S,EAAIR,KAAK5B,SAAS3J,EAC3B,GAAGsnL,EAAS17K,GAAQH,IACtB,EAEIrQ,GAAI,SAAUwD,EAAM0Q,GAItB,MAAO,CACL1Q,KAAMA,EACN0Q,IAAKA,EACLC,UANc,SAAUpb,EAAGoN,GAC3B,OAAOnG,GAAEwD,EAAOzK,EAAGmb,EAAM/N,EAC3B,EAMF,EACIiO,GAAgBpU,GAMhBqU,GAAqB,SAAU3a,EAAG2B,GACpC,YAAU9C,IAANmB,EACKA,OAEMnB,IAAN8C,EAAkBA,EAAI,CAEjC,EAeIyrC,GAAW,SAAUrgC,GACvB,IAAI7B,EAAM6B,EAAQ7B,IAEduL,EADMvL,EAAIgK,cACCuB,KACf,OAAIA,IAASvL,EACJwP,GAAcjE,EAAKqE,WAAYrE,EAAKsE,WAExCjE,GAAO/J,GAhCI,SAAU7B,GAC1B,IAAIqQ,EAAMrQ,EAAIgP,wBACd,OAAOQ,GAAca,EAAIzR,KAAMyR,EAAIf,IACrC,CAgCSgB,CAAYtQ,GAFVwP,GAAc,EAAG,EAG5B,EAEIsE,GAAQ,SAAUT,GACpB,IAAItH,OAAepY,IAAT0f,EAAqBA,EAAKrT,IAAM5M,SACtCe,EAAI4X,EAAIR,KAAKyE,YAAcjE,EAAI5B,gBAAgB6F,WAC/CzO,EAAIwK,EAAIR,KAAKuE,WAAa/D,EAAI5B,gBAAgB2F,UAClD,OAAON,GAAcrb,EAAGoN,EAC1B,EACI7I,GAAK,SAAUvE,EAAGoN,EAAG8R,GACvB,IACI1D,QADehc,IAAT0f,EAAqBA,EAAKrT,IAAM5M,UAC5BgX,YACVuF,GACFA,EAAI2D,SAASnf,EAAGoN,EAEpB,EACI4qL,GAAW,SAAUtqL,EAASuqL,GACjBtpL,KAASgE,QAAQzB,YAChB9P,EAAWsM,EAAQ7B,IAAIqsL,wBACrCxqL,EAAQ7B,IAAIqsL,wBAAuB,GAEnCxqL,EAAQ7B,IAAIssL,eAAeF,EAE/B,EAUI/2K,GAAS,SAAUlhB,EAAGoN,EAAGiS,EAAOvE,GAClC,MAAO,CACL9a,EAAGA,EACHoN,EAAGA,EACHiS,MAAOA,EACPvE,OAAQA,EACRwE,MAAOtf,EAAIqf,EACXE,OAAQnS,EAAI0N,EAEhB,EACIkzB,GAAY,SAAUvuB,GACxB,IAAIjE,OAAehc,IAATigB,EAAqBnS,OAASmS,EACpC7H,EAAM4D,EAAIvc,SACVygB,EAASC,GAAMzT,GAAaF,QAAQ4L,IACxC,OAtBU,SAAU6H,GACpB,IAAIjE,OAAehc,IAATigB,EAAqBnS,OAASmS,EACxC,OAAI9Q,KAASgE,QAAQ1B,YACZ1K,EAAS1B,OAET0B,EAAS/B,KAAKgX,EAAoB,eAE7C,CAeS8Y,CAAM9Y,GAAKxW,MAAK,WACrB,IAAIoH,EAAOoP,EAAIvc,SAAS+W,gBACpBqJ,EAAQjT,EAAKwT,YACb9E,EAAS1O,EAAKyT,aAClB,OAAOqB,GAAOxB,EAAOjV,KAAMiV,EAAOvE,IAAKkE,EAAOvE,EAChD,IAAG,SAAUgF,GACX,OAAOoB,GAAOnB,KAAKrF,IAAIoF,EAAeE,SAAUN,EAAOjV,MAAOsV,KAAKrF,IAAIoF,EAAeG,QAASP,EAAOvE,KAAM2E,EAAeT,MAAOS,EAAehF,OACnJ,GACF,EAEIs9K,GAAa,SAAUt4L,GACzB,OAAO,SAAUmM,GACf,QAASA,GAAQA,EAAK6B,WAAahO,CACrC,CACF,EACIu4L,GAAmB,SAAUpsL,GAC/B,QAASA,IAASxI,OAAO60L,eAAersL,EAC1C,EACIssL,GAAcH,GAAW,GACzBI,GAAiB,SAAU9nI,GAC7B,IAAI+nI,EAAkB/nI,EAAM/qD,KAAI,SAAUhC,GACxC,OAAOA,EAAEiK,aACX,IACA,OAAO,SAAU3B,GACf,GAAIA,GAAQA,EAAK0B,SAAU,CACzB,IAAIA,EAAW1B,EAAK0B,SAASC,cAC7B,OAAOylL,EAAWoF,EAAiB9qL,EACrC,CACA,OAAO,CACT,CACF,EACI+qL,GAAmB,SAAUp4L,EAAM2J,GACrC,IAAI8gD,EAAQ9gD,EAAO2D,cAAcsqB,MAAM,KACvC,OAAO,SAAUjsB,GACf,GAAIssL,GAAYtsL,GACd,IAAK,IAAIzK,EAAI,EAAGA,EAAIupD,EAAMrpD,OAAQF,IAAK,CACrC,IAAIm3L,EAAW1sL,EAAK4J,cAAcI,YAAYmD,iBAAiBnN,EAAM,MAErE,IADe0sL,EAAWA,EAAS5sL,iBAAiBzL,GAAQ,QAC3CyqD,EAAMvpD,GACrB,OAAO,CAEX,CAEF,OAAO,CACT,CACF,EACI+W,GAAe,SAAUqgL,GAC3B,OAAO,SAAU3sL,GACf,OAAOssL,GAAYtsL,IAASA,EAAKsM,aAAaqgL,EAChD,CACF,EAMIC,GAAY,SAAU5sL,GACxB,OAAOssL,GAAYtsL,IAASA,EAAKsM,aAAa,iBAChD,EAIIugL,GAAY,SAAU7sL,GACxB,OAAOssL,GAAYtsL,IAA0B,UAAjBA,EAAK8sL,OACnC,EACIlnD,GAA0B,SAAU9xI,GACtC,OAAO,SAAUkM,GACf,GAAIssL,GAAYtsL,GAAO,CACrB,GAAIA,EAAK8lI,kBAAoBhyI,EAC3B,OAAO,EAET,GAAIkM,EAAKmM,aAAa,8BAAgCrY,EACpD,OAAO,CAEX,CACA,OAAO,CACT,CACF,EACIi5L,GAAoBR,GAAe,CACrC,WACA,UAEES,GAAWb,GAAW,GACtBc,GAAYd,GAAW,GACvBe,GAAef,GAAW,GAC1BlqL,GAAqBkqL,GAAW,IAChCgB,GAASZ,GAAe,CAAC,OACzBa,GAAQb,GAAe,CAAC,QACxBc,GAA0BznD,GAAwB,QAClD0nD,GAA2B1nD,GAAwB,SACnD2nD,GAAgBhB,GAAe,CACjC,KACA,OAEEiB,GAAYjB,GAAe,CAC7B,QACA,QACA,SACA,UAGEluL,GAAO,SAAUC,EAAKC,EAAK5B,GAI7B,YAHmB,IAAfA,IACFA,EAAavG,GAERkI,EAAIzE,QAAO,SAAU2E,GAC1B,OAAO7B,EAAW6B,EAAMD,EAC1B,GACF,EAWIG,GAAQ,SAAUC,EAAIC,EAAI/H,GAC5B,OAAO8H,EAAG1F,UAAY2F,EAAG3F,SAAWqB,EAASJ,KAAKrD,EAAE8H,EAAGtF,WAAYuF,EAAGvF,aAAeiB,EAAS1B,MAChG,EAQIqS,GAAc,SAAUrL,GAC1B,YAAqBrM,IAAdqM,EAAIC,OAAuB1K,EAAWyK,EAAIC,MAAMC,iBACzD,EAEI+L,GAAS,SAAUjM,EAAK1B,EAAKpK,GAC/B,KAAIkzL,EAAWlzL,IAAUiB,EAAUjB,IAAUsB,EAAStB,IAIpD,MADA4M,QAAQC,MAAM,sCAAuCzC,EAAK,YAAapK,EAAO,cAAe8L,GACvF,IAAI5I,MAAM,kCAHhB4I,EAAIkM,aAAa5N,EAAKpK,EAAQ,GAKlC,EACIqpE,GAAQ,SAAU17D,EAASvD,EAAKpK,GAClC+X,GAAOpK,EAAQ7B,IAAK1B,EAAKpK,EAC3B,EACIkY,GAAW,SAAUvK,EAASwK,GAChC,IAAIrM,EAAM6B,EAAQ7B,IAClB+nL,GAAO17K,GAAO,SAAU1O,EAAGH,GACzByO,GAAOjM,EAAKxC,EAAGG,EACjB,GACF,EACI8yB,GAAQ,SAAU5uB,EAASvD,GAC7B,IAAIX,EAAIkE,EAAQ7B,IAAIuM,aAAajO,GACjC,OAAa,OAANX,OAAahK,EAAYgK,CAClC,EACI6O,GAAS,SAAU3K,EAASvD,GAC9B,OAAO5D,EAAS/B,KAAK83B,GAAM5uB,EAASvD,GACtC,EAKIyP,GAAW,SAAUlM,EAASvD,GAChCuD,EAAQ7B,IAAI4M,gBAAgBtO,EAC9B,EAiBI6O,GAAS,SAAUtL,EAASuL,GAC9B,IAAIpN,EAAM6B,EAAQ7B,IAClB+nL,GAAO36K,GAAK,SAAUzP,EAAGH,IAXT,SAAUwC,EAAK8M,EAAU5Y,GACzC,IAAKkzL,EAAWlzL,GAEd,MADA4M,QAAQC,MAAM,qCAAsC+L,EAAU,YAAa5Y,EAAO,cAAe8L,GAC3F,IAAI5I,MAAM,+BAAiClD,GAE/CmX,GAAYrL,IACdA,EAAIC,MAAM8M,YAAYD,EAAU5Y,EAEpC,CAII2Y,CAAY7M,EAAKxC,EAAGG,EACtB,GACF,EACIozB,GAAQ,SAAUlvB,EAASiL,GAC7B,IAAI9M,EAAM6B,EAAQ7B,IAEd5E,EADSqG,OAAO8L,iBAAiBvN,GACtBE,iBAAiB4M,GAChC,MAAa,KAAN1R,GAAawQ,GAAO/J,GAA8CzG,EAAnCoS,GAAkBxN,EAAK8M,EAC/D,EACIU,GAAoB,SAAUxN,EAAK8M,GACrC,OAAOzB,GAAYrL,GAAOA,EAAIC,MAAMC,iBAAiB4M,GAAY,EACnE,EACIW,GAAS,SAAU5L,EAASiL,GAC9B,IAAI9M,EAAM6B,EAAQ7B,IACd0N,EAAMF,GAAkBxN,EAAK8M,GACjC,OAAOpS,EAAS/B,KAAK+U,GAAKvT,QAAO,SAAUiB,GACzC,OAAOA,EAAEvF,OAAS,CACpB,GACF,EACI8X,GAAY,SAAU9L,GACxB,IAAIuL,EAAM,CAAC,EACPpN,EAAM6B,EAAQ7B,IAClB,GAAIqL,GAAYrL,GACd,IAAK,IAAIrK,EAAI,EAAGA,EAAIqK,EAAIC,MAAMpK,OAAQF,IAAK,CACzC,IAAIiY,EAAW5N,EAAIC,MAAM4N,KAAKlY,GAC9ByX,EAAIQ,GAAY5N,EAAIC,MAAM2N,EAC5B,CAEF,OAAOR,CACT,EAKIygL,GAAY/qL,KAASgE,QACrBgnL,GAAe,SAAUC,GAC3B,OAAOxqL,EAAOwqL,EAAO1C,GACvB,EAiBI2C,GAAW,SAAUn9G,EAAKr8C,GAC5B,OAAOq8C,EAAIrmE,UAAYg9K,EAAW32G,EAAIrmE,SAAUgqB,EAClD,EACIgqI,GAAS,SAAUjzJ,EAAMslE,EAAK0gE,GAChC,IAAIp9I,EAAI,EAAGoN,EAAI,EACXwK,EAAMR,EAAKvB,cAEf,GADAunI,EAAUA,GAAoBhmI,EAC1BslE,EAAK,CACP,GAAI0gE,IAAYhmI,GAAQslE,EAAI7hE,uBAA2E,WAAlD+hB,GAAM1wB,GAAaF,QAAQoL,GAAO,YAA0B,CAC/G,IAAI62B,EAAMyuC,EAAI7hE,wBAGd,MAAO,CACL7a,EAHFA,EAAIiuC,EAAIxjC,MAAQmN,EAAI5B,gBAAgB6F,YAAczE,EAAKyE,YAAcjE,EAAI5B,gBAAgBgG,WAIvF5O,EAHFA,EAAI6gC,EAAI9yB,KAAOvD,EAAI5B,gBAAgB2F,WAAavE,EAAKuE,WAAa/D,EAAI5B,gBAAgB+F,UAKxF,CAEA,IADA,IAAI3F,EAAesmE,EACZtmE,GAAgBA,IAAiBgnI,GAAWhnI,EAAatI,WAAa+rL,GAASzjL,EAAcgnI,IAAU,CAC5G,IAAI08C,EAAmB1jL,EACvBpW,GAAK85L,EAAiBr+K,YAAc,EACpCrO,GAAK0sL,EAAiBp+K,WAAa,EACnCtF,EAAe0jL,EAAiB1jL,YAClC,CAEA,IADAA,EAAesmE,EAAIvmE,WACZC,GAAgBA,IAAiBgnI,GAAWhnI,EAAatI,WAAa+rL,GAASzjL,EAAcgnI,IAClGp9I,GAAKoW,EAAayF,YAAc,EAChCzO,GAAKgJ,EAAauF,WAAa,EAC/BvF,EAAeA,EAAaD,WAE9B/I,GA9CwB,SAAUsvE,GACpC,OAAIg9G,GAAUzoL,aAA6B,UAAd3Q,GAAKo8E,GACzBi9G,GAAatjL,GAASqmE,IAAM12E,QAAO,SAAU02E,GAClD,MAAqB,YAAdp8E,GAAKo8E,EACd,IAAG72E,MAAK,SAAUk0L,GAChB,OAAOJ,GAAalC,GAAasC,IAAUp0L,KAAI,SAAUyR,GACvD,IAAI4iL,EAAU5iL,EAAKvL,IAAI6P,UACnBu+K,EAAaF,EAAQluL,IAAI6P,UACzBw+K,EAAgBH,EAAQluL,IAAIkP,aAChC,OAAOi/K,GAAWC,GAAcC,EAAgB,CAClD,GACF,IAAG90L,MAAM,GAEF,CAEX,CA+BS+0L,CAAsBjuL,GAAaF,QAAQ0wE,GAClD,CACA,MAAO,CACL18E,EAAGA,EACHoN,EAAGA,EAEP,EAEI+4F,GAAY,CAAC,EAAGi0F,GAAW,CAAEh0F,QAASD,KACzC,SAAUE,EAAQD,EAAS3nG,EAAQ6nG,GACjC,IAAUC,EAAQz1C,EAARy1C,EAETviG,KAFiB8sD,EAEX,WACN,IAAI61C,EAAuC,oBAAfF,WAA6BA,WAA+B,oBAAXn5F,OAAyBA,YAA2B,IAAX,EAAA+iD,EAAyB,EAAAA,EAAyB,oBAAThqD,KAAuBA,KAAO,CAAC,EAC1LugG,EAAU,CAAER,QAAS,CAAC,IACzB,SAAU3nG,IACR,SAAUwtC,GACT,IAAI46D,EAAiBxyD,WACrB,SAAS1yC,IACT,CAMA,SAASmlG,EAAQtkG,GACf,GAAoB,iBAATwB,KACT,MAAM,IAAI+iG,UAAU,wCACtB,GAAkB,mBAAPvkG,EACT,MAAM,IAAIukG,UAAU,kBACtB/iG,KAAKy9D,OAAS,EACdz9D,KAAKgjG,UAAW,EAChBhjG,KAAKijG,YAASznG,EACdwE,KAAKkjG,WAAa,GAClBC,EAAU3kG,EAAIwB,KAChB,CACA,SAASyZ,EAAOpX,EAAM+gG,GACpB,KAAuB,IAAhB/gG,EAAKo7D,QACVp7D,EAAOA,EAAK4gG,OAEM,IAAhB5gG,EAAKo7D,QAITp7D,EAAK2gG,UAAW,EAChBF,EAAQO,cAAa,WACnB,IAAIC,EAAqB,IAAhBjhG,EAAKo7D,OAAe2lC,EAASG,YAAcH,EAASI,WAC7D,GAAW,OAAPF,EAAJ,CAIA,IAAI1jF,EACJ,IACEA,EAAM0jF,EAAGjhG,EAAK4gG,OAIhB,CAHE,MAAO/iG,GAEP,YADAujG,EAAOL,EAASR,QAAS1iG,EAE3B,CACAX,EAAQ6jG,EAASR,QAAShjF,EAR1B,MAFmB,IAAhBvd,EAAKo7D,OAAel+D,EAAUkkG,GAAQL,EAASR,QAASvgG,EAAK4gG,OAWlE,KAlBE5gG,EAAK6gG,WAAW1oG,KAAK4oG,EAmBzB,CACA,SAAS7jG,EAAQ8C,EAAM6sC,GACrB,IACE,GAAIA,IAAa7sC,EACf,MAAM,IAAI0gG,UAAU,6CACtB,GAAI7zD,IAAiC,iBAAbA,GAA6C,mBAAbA,GAA0B,CAChF,IAAIktC,EAAOltC,EAASktC,KACpB,GAAIltC,aAAoB4zD,EAItB,OAHAzgG,EAAKo7D,OAAS,EACdp7D,EAAK4gG,OAAS/zD,OACdw0D,EAAOrhG,GAEF,GAAoB,mBAAT+5E,EAEhB,YADA+mB,GArDM3kG,EAqDS49E,EArDLunB,EAqDWz0D,EApDpB,WACL1wC,EAAGN,MAAMylG,EAAS1lG,UACpB,GAkDsCoE,EAGpC,CACAA,EAAKo7D,OAAS,EACdp7D,EAAK4gG,OAAS/zD,EACdw0D,EAAOrhG,EAGT,CAFE,MAAOnC,GACPujG,EAAOphG,EAAMnC,EACf,CA9DF,IAAc1B,EAAImlG,CA+DlB,CACA,SAASF,EAAOphG,EAAM6sC,GACpB7sC,EAAKo7D,OAAS,EACdp7D,EAAK4gG,OAAS/zD,EACdw0D,EAAOrhG,EACT,CACA,SAASqhG,EAAOrhG,GACM,IAAhBA,EAAKo7D,QAA2C,IAA3Bp7D,EAAK6gG,WAAWxlG,QACvColG,EAAQO,cAAa,WACdhhG,EAAK2gG,UACRF,EAAQc,sBAAsBvhG,EAAK4gG,OAEvC,IAEF,IAAK,IAAIzlG,EAAI,EAAGC,EAAM4E,EAAK6gG,WAAWxlG,OAAQF,EAAIC,EAAKD,IACrDic,EAAOpX,EAAMA,EAAK6gG,WAAW1lG,IAE/B6E,EAAK6gG,WAAa,IACpB,CACA,SAASW,EAAQN,EAAaC,EAAYZ,GACxC5iG,KAAKujG,YAAqC,mBAAhBA,EAA6BA,EAAc,KACrEvjG,KAAKwjG,WAAmC,mBAAfA,EAA4BA,EAAa,KAClExjG,KAAK4iG,QAAUA,CACjB,CACA,SAASO,EAAU3kG,EAAI6D,GACrB,IAAIyhG,GAAO,EACX,IACEtlG,GAAG,SAAUzC,GACP+nG,IAEJA,GAAO,EACPvkG,EAAQ8C,EAAMtG,GAChB,IAAG,SAAUgoG,GACPD,IAEJA,GAAO,EACPL,EAAOphG,EAAM0hG,GACf,GAMF,CALE,MAAOC,GACP,GAAIF,EACF,OACFA,GAAO,EACPL,EAAOphG,EAAM2hG,EACf,CACF,CACAlB,EAAQ3mG,UAAiB,MAAI,SAAUqnG,GACrC,OAAOxjG,KAAKo8E,KAAK,KAAMonB,EACzB,EACAV,EAAQ3mG,UAAUigF,KAAO,SAAUmnB,EAAaC,GAC9C,IAAIS,EAAO,IAAIjkG,KAAK3D,YAAYsB,GAEhC,OADA8b,EAAOzZ,KAAM,IAAI6jG,EAAQN,EAAaC,EAAYS,IAC3CA,CACT,EACAnB,EAAQnkG,IAAM,SAAUsG,GACtB,IAAIlH,EAAO7B,MAAMC,UAAUyE,MAAMb,KAAKkF,GACtC,OAAO,IAAI69F,GAAQ,SAAUvjG,EAASkkG,GACpC,GAAoB,IAAhB1lG,EAAKL,OACP,OAAO6B,EAAQ,IACjB,IAAI2kG,EAAYnmG,EAAKL,OACrB,SAASghB,EAAIlhB,EAAG6Y,GACd,IACE,GAAIA,IAAuB,iBAARA,GAAmC,mBAARA,GAAqB,CACjE,IAAI+lE,EAAO/lE,EAAI+lE,KACf,GAAoB,mBAATA,EAIT,YAHAA,EAAKr8E,KAAKsW,GAAK,SAAUA,GACvBqI,EAAIlhB,EAAG6Y,EACT,GAAGotF,EAGP,CACA1lG,EAAKP,GAAK6Y,EACU,KAAd6tF,GACJ3kG,EAAQxB,EAIZ,CAFE,MAAOimG,GACPP,EAAOO,EACT,CACF,CACA,IAAK,IAAIxmG,EAAI,EAAGA,EAAIO,EAAKL,OAAQF,IAC/BkhB,EAAIlhB,EAAGO,EAAKP,GAEhB,GACF,EACAslG,EAAQvjG,QAAU,SAAUxD,GAC1B,OAAIA,GAA0B,iBAAVA,GAAsBA,EAAMM,cAAgBymG,EACvD/mG,EAEF,IAAI+mG,GAAQ,SAAUvjG,GAC3BA,EAAQxD,EACV,GACF,EACA+mG,EAAQW,OAAS,SAAU1nG,GACzB,OAAO,IAAI+mG,GAAQ,SAAUvjG,EAASkkG,GACpCA,EAAO1nG,EACT,GACF,EACA+mG,EAAQqB,KAAO,SAAUl+F,GACvB,OAAO,IAAI68F,GAAQ,SAAUvjG,EAASkkG,GACpC,IAAK,IAAIjmG,EAAI,EAAGC,EAAMwI,EAAOvI,OAAQF,EAAIC,EAAKD,IAC5CyI,EAAOzI,GAAG4+E,KAAK78E,EAASkkG,EAE5B,GACF,EACAX,EAAQO,aAAuC,mBAAjBe,aAA8B,SAAU5lG,GACpE4lG,aAAa5lG,EACf,EAAI,SAAUA,GACZqkG,EAAerkG,EAAI,EACrB,EACAskG,EAAQc,sBAAwB,SAA+BplF,GACtC,oBAAZ7V,SAA2BA,SACpCA,QAAQ6oB,KAAK,wCAAyChT,EAE1D,EACAskF,EAAQuB,gBAAkB,SAAyB7lG,GACjDskG,EAAQO,aAAe7kG,CACzB,EACAskG,EAAQwB,yBAA2B,SAAkC9lG,GACnEskG,EAAQc,sBAAwBplG,CAClC,EACI/D,EAAO2nG,QACT3nG,EAAO2nG,QAAUU,EACP76D,EAAK66D,UACf76D,EAAK66D,QAAUA,EAEnB,CA/LA,CA+LEH,EACJ,CAjMA,CAiMEC,GACF,IAAI2B,EAAkB3B,EAAQR,QAS9B,MADwB,CAAEoC,YANF,oBAAXl7F,OACFA,OAEAC,SAAS,eAATA,IAGkCu5F,SAAWyB,EAE1D,EAhNqB,iBAAZnC,QAA0C,IAAX3nG,EAAyBA,EAAO2nG,QAAUt1C,IAA8B,mBAAXu1C,GAAyBA,EAAOG,IAAMH,EAAOv1C,IAAYy1C,EAA+B,oBAAfE,WAA6BA,WAAaF,GAAUlgG,MAAaqgG,oBAAsB51C,GAiNvQ,CAnNA,MAmNEtxD,EAAW2mG,GAAWi0F,IACxB,IAAI1xF,GAAY0xF,GAASh0F,QAAQoC,WAE7B+9B,GAAO,SAAU39B,GACnB,IAAIr2E,EAAOhsB,EAAS1B,OAChBgkG,EAAY,GAQZ5uF,EAAM,SAAU6uF,GACdC,IACFhlG,EAAK+kG,GAELD,EAAUrqG,KAAKsqG,EAEnB,EAQIC,EAAU,WACZ,OAAOx2E,EAAKrtB,QACd,EACI0pB,EAAM,SAAUo6E,GAClBuqF,EAAOvqF,EAAKjlG,EACd,EACIA,EAAO,SAAUujG,GACnB/0E,EAAK3sB,MAAK,SAAU5F,GAClBq0C,YAAW,WACTizD,EAAGtnG,EACL,GAAG,EACL,GACF,EAEA,OADA4oG,GApBU,SAAU5oG,GACb+oG,MACHx2E,EAAOhsB,EAASJ,KAAKnG,GACrB4uB,EAAIi6E,GACJA,EAAY,GAEhB,IAeO,CACL5uF,IAAKA,EACLtU,IArCQ,SAAU7C,GAClB,OAAOyjI,IAAK,SAAUz9B,GACpB7uF,GAAI,SAAUsY,GACZu2E,EAAUhmG,EAAEyvB,GACd,GACF,GACF,EAgCEw2E,QAASA,EAEb,EAMIE,GAAY,CACdv6F,GAAI63H,GACJr9B,KAPW,SAAUvoG,GACrB,OAAO4lI,IAAK,SAAUlwC,GACpBA,EAAS11F,EACX,GACF,GAMIwoG,GAAgB,SAAU3mF,GAC5B6xB,YAAW,WACT,MAAM7xB,CACR,GAAG,EACL,EACIk1B,GAAO,SAAU9oB,GACnB,IAAI3U,EAAM,SAAUo8E,GAClBznE,IAAMwxD,KAAKiW,EAAU8S,GACvB,EAiCA,MAAO,CACLxjG,IAjCQ,SAAUgS,GAClB,OAAO+/B,IAAK,WACV,OAAO9oB,IAAMwxD,KAAKzoE,EACpB,GACF,EA8BE9R,KA7BS,SAAUwjG,GACnB,OAAO3xD,IAAK,WACV,OAAO9oB,IAAMwxD,MAAK,SAAU52E,GAC1B,OAAO6/F,EAAS7/F,GAAG8/F,WACrB,GACF,GACF,EAwBEC,SAvBa,SAAUC,GACvB,OAAO9xD,IAAK,WACV,OAAO9oB,IAAMwxD,MAAK,WAChB,OAAOopB,EAAQF,WACjB,GACF,GACF,EAkBEG,OAjBW,WACX,OAAOR,GAAUv6F,GAAGuL,EACtB,EAgBEyvF,SAfa,WACb,IAAIrV,EAAQ,KACZ,OAAO38C,IAAK,WAIV,OAHc,OAAV28C,IACFA,EAAQzlE,KAEHylE,CACT,GACF,EAQEiV,UAPc16E,EAQd3U,IAAKA,EAET,EAWI0vF,GAVK,SAAUf,GACjB,OAAOlxD,IAAK,WACV,OAAO,IAAIgxD,GAAUE,EACvB,GACF,EAWIyxF,GAAQ,SAAUC,EAAa5rL,GACjC,OAAOA,GAAG,SAAU2nF,GAClB,IAAIpvF,EAAI,GACJslB,EAAQ,EAUe,IAAvB+tK,EAAY54L,OACd20F,EAAS,IAETk9F,EAAO+G,GAAa,SAAUC,EAAY/4L,GACxC+4L,EAAWtgL,IAbN,SAAUzY,GACjB,OAAO,SAAUzB,GACfkH,EAAEzF,GAAKzB,IACPwsB,GACa+tK,EAAY54L,QACvB20F,EAASpvF,EAEb,CACF,CAKmBqgG,CAAG9lG,GACpB,GAEJ,GACF,EAMI6wC,GAAU,SAAU5wB,GA+BtB,MAAO,CACLC,QAASve,EACTwe,QAASze,EACTkC,MAAO+pB,EAAS1N,GAChBpc,WAAY8pB,EAAS1N,GACrBnc,SAAU6pB,EAAS1N,GACnBhc,GApCO,SAAUmc,GACjB,OAAOywB,GAAQ5wB,EACjB,EAmCE/b,QAlCY,SAAUmc,GACtB,OAAOwwB,GAAQ5wB,EACjB,EAiCEzc,KApBS,SAAU8c,EAAGC,GACtB,OAAOA,EAAQN,EACjB,EAmBE9b,IAjCQ,SAAU7C,GAClB,OAAOuvC,GAAQvvC,EAAE2e,GACnB,EAgCEO,SA/Ba,SAAUH,GACvB,OAAOwwB,GAAQ5wB,EACjB,EA8BE7b,KA7BS,SAAU9C,GACnBA,EAAE2e,EACJ,EA4BE5b,KA3BS,SAAU/C,GACnB,OAAOA,EAAE2e,EACX,EA0BE3b,OAtBW,SAAUhD,GACrB,OAAOA,EAAE2e,EACX,EAqBE1b,OApBW,SAAUjD,GACrB,OAAOA,EAAE2e,EACX,EAmBEQ,WAlBe,WACf,OAAO1b,EAASJ,KAAKsb,EACvB,EAkBF,EACI7U,GAAQ,SAAUuV,GAuBpB,MAAO,CACLT,QAASxe,EACTye,QAASxe,EACTiC,MAAOguL,EACP/tL,WA1Be,SAAUvC,GACzB,OAAOA,GACT,EAyBEwC,SAxBa,WACb,OAnpEgBtC,EAmpELzC,OAAO4hB,GAlpEb,WACL,MAAM,IAAIlf,MAAMD,EAClB,KAHQ,IAAUA,CAopElB,EAuBEyC,GAtBO2tL,EAuBP1tL,QAtBY,SAAU5C,GACtB,OAAOA,GACT,EAqBEkC,KAXS,SAAUod,EAASN,GAC5B,OAAOM,EAAQD,EACjB,EAUExc,IArBQ,SAAUkc,GAClB,OAAOjV,GAAMuV,EACf,EAoBEH,SAnBa,SAAUlf,GACvB,OAAO8J,GAAM9J,EAAEqf,GACjB,EAkBEvc,KAAMjE,EACNkE,KAlBS,SAAUgc,GACnB,OAAOjV,GAAMuV,EACf,EAiBErc,OAAQ5C,EACR6C,OAAQ5C,EACR8e,WAAY1b,EAAS1B,KAEzB,EAMIwd,GAAS,CACXtiB,MAAOsyC,GACPzlC,MAAOA,GACP0V,WARe,SAAUC,EAAKC,GAC9B,OAAOD,EAAIvd,MAAK,WACd,OAAO4H,GAAM4V,EACf,GAAG6vB,GACL,GA8EInmB,GAvEa,SAAUC,GACzB,IAAK+mK,EAAU/mK,GACb,MAAM,IAAIlpB,MAAM,0BAElB,GAAqB,IAAjBkpB,EAAMzqB,OACR,MAAM,IAAIuB,MAAM,mCAElB,IAAImpB,EAAe,GACfC,EAAM,CAAC,EA6DX,OA5DAknK,EAAOpnK,GAAO,SAAUG,EAAOC,GAC7B,IAAI5E,EAASze,GAAKojB,GAClB,GAAsB,IAAlB3E,EAAOjmB,OACT,MAAM,IAAIuB,MAAM,kCAElB,IAAIkH,EAAMwd,EAAO,GACb5nB,EAAQusB,EAAMniB,GAClB,QAAiB3K,IAAb6sB,EAAIliB,GACN,MAAM,IAAIlH,MAAM,0BAA4BkH,GACvC,GAAY,SAARA,EACT,MAAM,IAAIlH,MAAM,yCACX,IAAKiwL,EAAUnzL,GACpB,MAAM,IAAIkD,MAAM,mCAElBmpB,EAAa5tB,KAAK2L,GAClBkiB,EAAIliB,GAAO,WAET,IADA,IAAIpI,EAAO,GACFC,EAAK,EAAGA,EAAKC,UAAUP,OAAQM,IACtCD,EAAKC,GAAMC,UAAUD,GAEvB,IAAIwqB,EAAYzqB,EAAKL,OACrB,GAAI8qB,IAAczsB,EAAM2B,OACtB,MAAM,IAAIuB,MAAM,qCAAuCkH,EAAM,cAAgBpK,EAAM2B,OAAS,KAAO3B,EAAQ,UAAYysB,GAEzH,IAAIrX,EAAQ,SAAU2T,GACpB,IAAI2D,EAAavjB,GAAK4f,GACtB,GAAIsD,EAAa1qB,SAAW+qB,EAAW/qB,OACrC,MAAM,IAAIuB,MAAM,iDAAmDmpB,EAAatF,KAAK,KAAO,aAAe2F,EAAW3F,KAAK,MAK7H,IAHc/gB,GAAOqmB,GAAc,SAAUM,GAC3C,OAAO2mK,EAAW5mK,EAAYC,EAChC,IAEE,MAAM,IAAIzpB,MAAM,gEAAkEwpB,EAAW3F,KAAK,MAAQ,eAAiBsF,EAAatF,KAAK,OAE/I,OAAOgC,EAAS3e,GAAKjI,MAAM,KAAMH,EACnC,EACA,MAAO,CACLiD,KAAM,WAEJ,IADA,IAAI2nB,EAAW,GACN3qB,EAAK,EAAGA,EAAKC,UAAUP,OAAQM,IACtC2qB,EAAS3qB,GAAMC,UAAUD,GAE3B,GAAI2qB,EAASjrB,SAAWyqB,EAAMzqB,OAC5B,MAAM,IAAIuB,MAAM,+CAAiDkpB,EAAMzqB,OAAS,SAAWirB,EAASjrB,QAEtG,IAAImO,EAAS8c,EAASJ,GACtB,OAAO1c,EAAO3N,MAAM,KAAMH,EAC5B,EACAoT,MAAOA,EACPyX,IAAK,SAAUnD,GACb9c,QAAQigB,IAAInD,EAAO,CACjB2C,aAAcA,EACd/rB,YAAa8J,EACb0iB,OAAQ9qB,GAEZ,EAEJ,CACF,IACOsqB,CACT,EAGAH,GAAa,CACX,CACEY,WAAY,CACV,SACA,WAGJ,CACEC,WAAY,CACV,SACA,WAGJ,CACEC,YAAa,CACX,SACA,WAGJ,CACEC,WAAY,CACV,SACA,aAIN,IAAIutK,GAAQ,SAAUv0K,GACpB,OAAOA,EAAOjhB,KAAKouL,EAAUA,EAC/B,EAEA,SAASjyJ,GAAmB5sB,EAAI6sB,EAAU/0B,EAAO1L,EAAGstB,GAClD,OAAI1Z,EAAGlI,EAAO1L,GACL4F,EAASJ,KAAKkG,GACZjL,EAAW6sB,IAAWA,EAAO5hB,GAC/B9F,EAAS1B,OAETu8B,EAAS/0B,EAAO1L,EAAGstB,EAE9B,CAEA,IAsDIwsK,GAt1B8B7B,GAAU8B,GAq6FxCC,GAASC,GAAM79G,GAAS89G,GAAOC,GAAUC,GAASC,GAAUC,GAAkBC,GAAWC,GAAcC,GAAaC,GAAYvwC,GAASwwC,GAAgBC,GAAWC,GAAwBhmL,GAroE5LimL,GAAa,SAAUpvL,EAAOwmB,EAAW5E,GAG3C,IAFA,IAAIvgB,EAAUrB,EAAMR,IAChBgR,EAAOzb,EAAW6sB,GAAUA,EAAS/qB,EAClCwK,EAAQyI,YAAY,CACzBzI,EAAUA,EAAQyI,WAClB,IAAIpX,EAAKmN,GAAaF,QAAQ0B,GAC9B,GAAImlB,EAAU9zB,GACZ,OAAOwH,EAASJ,KAAKpH,GAChB,GAAI8d,EAAK9d,GACd,KAEJ,CACA,OAAOwH,EAAS1B,MAClB,EACI08B,GAAY,SAAUl1B,EAAOwmB,EAAW5E,GAI1C,OAAOkT,IAHE,SAAUx9B,EAAGqL,GACpB,OAAOA,EAAKrL,EACd,GAC6B83L,GAAYpvL,EAAOwmB,EAAW5E,EAC7D,EAUIoS,GAAQ,SAAUh0B,EAAOwmB,GAK3B,OADazjB,EAAO/C,EAAMR,IAAIa,YAHnB,SAAUT,GACnB,OAAO4mB,EAAU3mB,GAAaF,QAAQC,GACxC,IAEctG,IAAIuG,GAAaF,QACjC,EAEIkiB,GAAa,SAAU7hB,EAAOmI,EAAUyZ,GAC1C,OAAOwtK,GAAWpvL,GAAO,SAAUnI,GACjC,OAAO+yL,GAAK/yL,EAAGsQ,EACjB,GAAGyZ,EACL,EACIyT,GAAa,SAAUr1B,EAAOmI,GAChC,OAtsCQ,SAAUA,EAAUnI,GAC5B,IAAIwhB,OAAiBruB,IAAV6M,EAAsBpN,SAAWoN,EAAMR,IAClD,OAAOgJ,GAAegZ,GAAQtnB,EAAS1B,OAAS0B,EAAS/B,KAAKqpB,EAAK8T,cAAcntB,IAAW7O,IAAIuG,GAAaF,QAC/G,CAmsCS41B,CAAIptB,EAAUnI,EACvB,EACIm1B,GAAY,SAAUn1B,EAAOmI,EAAUyZ,GAIzC,OAAOkT,IAHE,SAAUzzB,EAAS8G,GAC1B,OAAOyiL,GAAKvpL,EAAS8G,EACvB,GAC6B0Z,GAAY7hB,EAAOmI,EAAUyZ,EAC5D,EAEIytK,GAAapuL,OAAOw5F,QAAUx5F,OAAOw5F,QAAU4B,GAqB/CizF,GAAoB,SAAUtlG,EAAUxgE,GAI1C,MAHoB,iBAATA,IACTA,EAAO,GAEFwe,WAAWgiD,EAAUxgE,EAC9B,EACI+lK,GAAqB,SAAUvlG,EAAUxgE,GAI3C,MAHoB,iBAATA,IACTA,EAAO,GAEFgmK,YAAYxlG,EAAUxgE,EAC/B,EAOIimK,GAAW,SAAUzlG,EAAUxgE,GACjC,IAAIud,EACA2oJ,EAAO,WAET,IADA,IAAIh6L,EAAO,GACFC,EAAK,EAAGA,EAAKC,UAAUP,OAAQM,IACtCD,EAAKC,GAAMC,UAAUD,GAEvB2xC,aAAaP,GACbA,EAAQuoJ,IAAkB,WACxBtlG,EAASn0F,MAAM8B,KAAMjC,EACvB,GAAG8zB,EACL,EAIA,OAHAkmK,EAAKl/K,KAAO,WACV82B,aAAaP,EACf,EACO2oJ,CACT,EACIC,GAAQ,CACV5nJ,sBAAuB,SAAUiiD,EAAU3oF,GACrC+sL,GACFA,GAA6Br6G,KAAKiW,GAGpCokG,GAA+B,IAAIiB,IAAW,SAAUn4L,GACjDmK,IACHA,EAAUzO,SAASmY,MA7DC,SAAUi/E,EAAU3oF,GAU9C,IATA,IAAIuuL,EAA4B3uL,OAAO8mC,sBACnC8nJ,EAAU,CACZ,KACA,MACA,UAKO16L,EAAI,EAAGA,EAAI06L,EAAQx6L,SAAWu6L,EAA2Bz6L,IAChEy6L,EAA4B3uL,OAAO4uL,EAAQ16L,GAAK,yBAE7Cy6L,IACHA,EAPgB,SAAU30F,GAC1Bh6F,OAAO+mC,WAAWizD,EAAI,EACxB,GAOA20F,EAA0B5lG,EAAU3oF,EACtC,CA8CM0mC,CAAsB7wC,EAASmK,EACjC,IAAG0yE,KAAKiW,EACV,EACAhiD,WAAYsnJ,GACZE,YAAaD,GACb31C,iBAAkB,SAAUvsE,EAAQ2c,EAAUxgE,GAC5C,OAAO8lK,IAAkB,WAClBjiH,EAAOylD,SACV9oC,GAEJ,GAAGxgE,EACL,EACAsmK,kBAAmB,SAAUziH,EAAQ2c,EAAUxgE,GAC7C,IAAIud,EAAQwoJ,IAAmB,WACxBliH,EAAOylD,QAGVi9D,cAAchpJ,GAFdijD,GAIJ,GAAGxgE,GACH,OAAOud,CACT,EACA0oJ,SAAUA,GACVjgH,SAAUigH,GACVM,cAtDyB,SAAU19L,GACnC,OAAO09L,cAAc19L,EACvB,EAqDEi1C,aA1DwB,SAAUj1C,GAClC,OAAOi1C,aAAaj1C,EACtB,GA2DI29L,GAAmB,SAAUC,EAAsBtiH,QACpC,IAAbA,IACFA,EAAW,CAAC,GAEd,IAAIuiH,EAAU,EACVC,EAAe,CAAC,EAChBC,EAAOvwL,GAAaF,QAAQswL,GAC5B1kL,EAAM9B,GAAgB2mL,GACtBC,EAAc1iH,EAAS0iH,aAAe,IAqBtChzH,EAAO,SAAUw0D,EAAKl3G,EAAS21K,GACjC,IAAI36J,EACA46J,EAAgBt5L,GAAMwzL,gBAAgB54D,GACtC7gG,EAbiB,SAAU6gG,GAC/B,OAAOj/G,GAAMu9K,EAAct+D,GAAK74H,YAAW,WACzC,MAAO,CACL3G,GAAI,QAAU69L,IACdM,OAAQ,GACRC,OAAQ,GACRvwK,MAAO,EAEX,GACF,CAIcwwK,CAAiBH,GAC7BJ,EAAaI,GAAiBv/J,EAC9BA,EAAM9Q,QACN,IAAIhpB,EAAU,SAAUslG,EAAWh/B,GAEjC,IADA,IAAIroE,EAAIqnG,EAAUnnG,OACXF,KACLqnG,EAAUrnG,KAEZ67B,EAAMwsC,OAASA,EACfxsC,EAAMw/J,OAAS,GACfx/J,EAAMy/J,OAAS,GACX96J,IACFA,EAAKg7J,OAAS,KACdh7J,EAAKi7J,QAAU,KACfj7J,EAAO,KAEX,EACI66J,EAAS,WACX,OAAOt5L,EAAQ85B,EAAMw/J,OAAQ,EAC/B,EACIC,EAAS,WACX,OAAOv5L,EAAQ85B,EAAMy/J,OAAQ,EAC/B,EAUII,EAA0B,WATnB,IAAUC,EAAcC,EAAdD,EAUd,WAGH,IAFA,IAAIE,EAAcf,EAAqBe,YACnC77L,EAAI67L,EAAY37L,OACbF,KAAK,CACV,IACI6e,EADag9K,EAAY77L,GACN87L,UACvB,GAAIj9K,GAASA,EAAM3hB,KAAOsjC,EAAKtjC,GAE7B,OADAm+L,KACO,CAEX,CACA,OAAO,CACT,EAtBiCO,EAsB9BF,EArBEC,MACCrnK,KAAKynK,MAAQt6J,EAAYy5J,EAC3BV,GAAM3nJ,WAAW+oJ,GAEjBN,IAkBN,EAOA,GANI91K,GACFqW,EAAMw/J,OAAOr+L,KAAKwoB,GAEhB21K,GACFt/J,EAAMy/J,OAAOt+L,KAAKm+L,GAEC,IAAjBt/J,EAAMwsC,OAGV,GAAqB,IAAjBxsC,EAAMwsC,OAIV,GAAqB,IAAjBxsC,EAAMwsC,OAAV,CAIAxsC,EAAMwsC,OAAS,EACf,IAAI2zH,EAAWtxL,GAAaW,QAAQ,OAAQ+K,EAAI/L,KAChDoM,GAASulL,EAAU,CACjB1vJ,IAAK,aACLhuC,KAAM,WACNpB,GAAI2+B,EAAM3+B,KAEZ,IA3FuBgP,EA2FnBu1B,EAAYnN,KAAKynK,MACjBvjH,EAASyjH,gBACXr0H,GAAMo0H,EAAU,cAAe,aAE7BxjH,EAAS0jH,gBACXt0H,GAAMo0H,EAAU,iBAAkBxjH,EAAS0jH,iBAE7C17J,EAAOw7J,EAAS3xL,KACXmxL,OAASE,EACdl7J,EAAKi7J,QAAUH,EApGQpvL,EAqGd8vL,EApGTj/K,GAASq5K,GAAkB6E,GAAO/uL,GAqGlC07D,GAAMo0H,EAAU,OAAQZ,EAnBxB,MAFEE,SAJAD,GA0BJ,EACIc,EAAQ,SAAUz/D,GACpB,OAAOv0B,IAAU,SAAUpmG,GACzBmmE,EAAKw0D,EAAKt8H,EAAQ2B,EAAS4rB,EAAS9M,GAAOtiB,MAAMm+H,KAAQt8H,EAAQ2B,EAAS4rB,EAAS9M,GAAOzV,MAAMsxH,KAClG,GACF,EAaI4wB,EAAS,SAAU5wB,GACrB,IAAI0+D,EAAgBt5L,GAAMwzL,gBAAgB54D,GAC1Cj/G,GAAMu9K,EAAcI,GAAeh3L,MAAK,SAAUy3B,GAChD,IAzHwB3+B,EACtBk/L,EAyHY,MADAvgK,EAAM9Q,eAEXiwK,EAAaI,GA3HEl+L,EA4HV2+B,EAAM3+B,GA3HlBk/L,EAAiBhG,GAAkB6E,GACvC/6J,GAAWk8J,EAAgB,IAAMl/L,GAAIkH,KAAK4S,IA4H1C,GACF,EAMA,MAAO,CACLkxD,KAAMA,EACNm0H,QA7BY,SAAUC,EAAM92K,EAAS21K,GAre/B,IAAUoB,KAseZzK,EAAMwK,EAAMH,GAreXtD,GAAM0D,EAASp0F,KAqeI1vF,KAAI,SAAUgM,GACpC,IAAI6I,EAAQ23H,EAAUxgI,GAAQ,SAAUhf,GACtC,OAAOA,EAAEya,SACX,IACIoN,EAAMrnB,KAAK/F,OAAS,EACtBi7L,EAAQ7tK,EAAMrnB,KAAK9B,IAAI60L,KAEvBxzK,EAAQ8H,EAAMtnB,KAAK7B,IAAI60L,IAE3B,GACF,EAmBE1rC,OAAQA,EACRkvC,UATc,SAAUF,GACxBvK,EAAOuK,GAAM,SAAU5/D,GACrB4wB,EAAO5wB,EACT,GACF,EAME+/D,mBAhJuB,SAAUP,GACjC1jH,EAAS0jH,eAAiBA,CAC5B,EAgJF,EAeI9hE,GAbW,WACb,IAAIj2H,EAAM,IAAIu4L,QAUd,MAAO,CAAEC,WATQ,SAAUC,EAAkBpkH,GAC3C,IACIqkH,EADOpnL,GAAYmnL,GACJvyL,IACnB,OAAOtF,EAAS/B,KAAKmB,EAAIsU,IAAIokL,IAAUh5L,YAAW,WAChD,IAAIi5L,EAAKjC,GAAiBgC,EAASrkH,GAEnC,OADAr0E,EAAI4U,IAAI8jL,EAASC,GACVA,CACT,GACF,EAEF,CACenzJ,GAEXozJ,GAAgB,WAClB,SAASA,EAAch8B,EAAWvmF,GAChCh4E,KAAKiI,KAAOs2J,EACZv+J,KAAKg4E,SAAWA,EAChBh4E,KAAK0M,QAAU1M,KAAK0M,QAAQ7K,KAAK7B,MACjCA,KAAKqxC,KAAOrxC,KAAKqxC,KAAKxvC,KAAK7B,MAC3BA,KAAKq7I,KAAOr7I,KAAKq7I,KAAKx5I,KAAK7B,MAC3BA,KAAKw6L,MAAQx6L,KAAKw6L,MAAM34L,KAAK7B,KAC/B,CA2DA,OA1DAu6L,EAAcp+L,UAAUuQ,QAAU,WAChC,OAAO1M,KAAKiI,IACd,EACAsyL,EAAcp+L,UAAUk1C,KAAO,SAAUxgB,GAEvC,OADA7wB,KAAKiI,KAAOjI,KAAKy6L,YAAYz6L,KAAKiI,KAAM,aAAc,cAAe4oB,GAC9D7wB,KAAKiI,IACd,EACAsyL,EAAcp+L,UAAUk/I,KAAO,SAAUxqH,GAEvC,OADA7wB,KAAKiI,KAAOjI,KAAKy6L,YAAYz6L,KAAKiI,KAAM,YAAa,kBAAmB4oB,GACjE7wB,KAAKiI,IACd,EACAsyL,EAAcp+L,UAAUq+L,MAAQ,SAAU3pK,GAExC,OADA7wB,KAAKiI,KAAOjI,KAAK06L,iBAAiB16L,KAAKiI,KAAM,YAAa,kBAAmB4oB,GACtE7wB,KAAKiI,IACd,EACAsyL,EAAcp+L,UAAUs+L,YAAc,SAAUxyL,EAAM0yL,EAAWC,EAAa/pK,GAC5E,IAAI7W,EAAS9H,EACb,GAAIjK,EAAM,CACR,IAAK4oB,GAAW5oB,EAAK0yL,GACnB,OAAO1yL,EAAK0yL,GAEd,GAAI1yL,IAASjI,KAAKg4E,SAAU,CAE1B,GADAh+D,EAAU/R,EAAK2yL,GAEb,OAAO5gL,EAET,IAAK9H,EAASjK,EAAKkK,WAAYD,GAAUA,IAAWlS,KAAKg4E,SAAU9lE,EAASA,EAAOC,WAEjF,GADA6H,EAAU9H,EAAO0oL,GAEf,OAAO5gL,CAGb,CACF,CACF,EACAugL,EAAcp+L,UAAUu+L,iBAAmB,SAAUzyL,EAAM0yL,EAAWC,EAAa/pK,GACjF,IAAI7W,EAAS9H,EAAQmqB,EACrB,GAAIp0B,EAAM,CAER,GADA+R,EAAU/R,EAAK2yL,GACX56L,KAAKg4E,UAAYh+D,IAAYha,KAAKg4E,SACpC,OAEF,GAAIh+D,EAAS,CACX,IAAK6W,EACH,IAAKwL,EAAQriB,EAAQ2gL,GAAYt+J,EAAOA,EAAQA,EAAMs+J,GACpD,IAAKt+J,EAAMs+J,GACT,OAAOt+J,EAIb,OAAOriB,CACT,CAEA,IADA9H,EAASjK,EAAKkK,aACAD,IAAWlS,KAAKg4E,SAC5B,OAAO9lE,CAEX,CACF,EACOqoL,CACT,CApEoB,GAmLhBM,GAAa,SAAU9zI,GACzB,IAAIH,EACJ,OAAO,SAAU3+C,GAEf,OADA2+C,EAASA,GA3jFK,SAAU9jD,EAAIhE,GAE9B,IADA,IAAImE,EAAI,CAAC,EACAzF,EAAI,EAAGC,EAAMqF,EAAGpF,OAAQF,EAAIC,EAAKD,IAAK,CAC7C,IAAIxB,EAAI8G,EAAGtF,GACXyF,EAAE1G,OAAOP,IAAM8C,EAAE9C,EAAGwB,EACtB,CACA,OAAOyF,CACT,CAojF+BwB,CAAYsiD,EAAO5nD,GACvCiH,GAAMwgD,EAAQtqD,GAAK2L,GAC5B,CACF,EACI6yL,GAAYD,GA/BD,CACb,KACA,KACA,KACA,KACA,KACA,OA0BEE,GAAYF,GArHH,CACX,UACA,QACA,UACA,MACA,KACA,aACA,SACA,OACA,WACA,SACA,SACA,OACA,OACA,MACA,UACA,UACA,OACA,IACA,KACA,WACA,KACA,SACA,UACA,SACA,aACA,KACA,KACA,KACA,KACA,KACA,KACA,UACA,MACA,MACA,YACA,OACA,MACA,KACA,KACA,KACA,KACA,QACA,QACA,QACA,QACA,KACA,KACA,KACA,YAwEEG,GAAa,SAAU/yL,GACzB,OAAOirL,GAAYjrL,KAAU8yL,GAAU9yL,EACzC,EACIgzL,GAAS,SAAUhzL,GACrB,OAAOirL,GAAYjrL,IAAwB,OAAf3L,GAAK2L,EACnC,EACIizL,GAAgBL,GAnEH,CACf,KACA,KACA,KACA,KACA,KACA,KACA,IACA,MACA,UACA,MACA,OACA,aACA,SACA,MACA,WACA,SACA,SACA,UACA,UACA,SACA,QACA,MACA,WA6CEM,GAASN,GA9BD,CACV,KACA,KACA,OA4BEO,GAAaP,GApCC,CAChB,KACA,KACA,OAkCEQ,GAAiBR,GA3ED,CAClB,QACA,QACA,UAyEES,GAAgBT,GAhFH,CACf,KACA,OA+EEU,GAAsBV,GA7BT,CACf,MACA,SACA,WACA,UAgCEW,GAAO,IAQPC,GATY,SAUZC,GARW,SAAUjiH,GACvB,MAHc,WAGPA,CACT,EAOIkiH,GANa,SAAUh8L,GACzB,OAAOA,EAAE8H,QAAQ,UAAW,GAC9B,EAMIm0L,GAAcrH,GACdsH,GAAW5G,GACX6G,GAA0B,SAAU7zL,GAItC,OAHI4zL,GAAS5zL,KACXA,EAAOA,EAAKkK,YAEPypL,GAAY3zL,IAASA,EAAKsM,aAAa,iBAChD,EACIwnL,GAAyB,SAAU9zL,GACrC,OAAO4zL,GAAS5zL,IAASyzL,GAAOzzL,EAAKsmB,KACvC,EACIytK,GAAqB,SAAU/zL,GACjC,OAAO6zL,GAAwB7zL,IAAS8zL,GAAuB9zL,EACjE,EACIg0L,GAAa,SAAUh0L,GACzB,OAAOA,EAAKoS,aAAepS,EAAKyrL,YAAc0B,GAAOntL,EAAKoS,WAC5D,EAmCI6hL,GAAiB,SAAUjyJ,GAC7B,IAAI9Y,EAAY8Y,EAAI9Y,YACpB,QAAK8jK,GAAS9jK,KAGPA,EAAU5C,KAAKmrD,OAAOzvC,EAAIv3B,YAAc+oL,IAAUxxJ,EAAIkyJ,aAAeJ,GAAuB5qK,EAAUoiK,iBAC/G,EACI6I,GAAgB,SAAUnyJ,GAC5B,IAAI9Y,EAAY8Y,EAAI9Y,YACpB,QAAK8jK,GAAS9jK,KAGPA,EAAU5C,KAAKmrD,OAAOzvC,EAAIv3B,SAAW,KAAO+oL,IAAUxxJ,EAAIoyJ,WAAaN,GAAuB5qK,EAAUlX,aACjH,EAMIqiL,GAAgB,SAAUC,EAAWt0L,EAAMuwC,GAC7C,IALIgkJ,EAMAC,EADMx0L,EAAK4J,cACKtJ,cAAcg0L,GAClCE,EAAU1oL,aAAa,iBAAkBykC,EAAS,SAAW,SAC7DikJ,EAAU1oL,aAAa,iBAAkB,OACzC0oL,EAAUniL,cATNkiL,EAAKvhM,SAASsN,cAAc,OAC7BwL,aAAa,iBAAkB,KAC3ByoL,IAQP,IAAIrqL,EAAalK,EAAKkK,WAUtB,OATKqmC,EAOHrmC,EAAW/W,aAAaqhM,EAAWx0L,GAN/BA,EAAKgS,YACP9H,EAAW/W,aAAaqhM,EAAWx0L,EAAKgS,aAExC9H,EAAWmI,YAAYmiL,GAKpBA,CACT,EACIC,GAA6B,SAAUz0L,GACzC,OAAO4zL,GAAS5zL,IAASA,EAAKsmB,KAAK,KAAOktK,EAC5C,EACIkB,GAA2B,SAAU10L,GACvC,OAAO4zL,GAAS5zL,IAASA,EAAKsmB,KAAKtmB,EAAKsmB,KAAK7wB,OAAS,KAAO+9L,EAC/D,EAQImB,GAA0B,SAAUC,GACtC,OAAIA,GAAkBA,EAAetoL,aAAa,mBAP9CuoL,EAQUD,EARAE,qBAAqB,MAC/BC,EAASF,EAAIA,EAAIp/L,OAAS,GAC1Bm3L,GAAUmI,IACZA,EAAO7qL,WAAW0I,YAAYmiL,GAM9BH,EAAepoL,gBAAgB,kBAC/BooL,EAAepoL,gBAAgB,kBAC/BooL,EAAepoL,gBAAgB,SAC/BooL,EAAepoL,gBAAgB,eACxBooL,GAEF,KAhBS,IACZC,EACAE,CAeN,EACIC,GAA+B,SAAUrjJ,GAC3C,OAAOkiJ,GAAwBliJ,EAAMP,eACvC,EAEI6jJ,GAA0B5H,GAC1B6H,GAA2B5H,GAC3B6H,GAAShI,GACTiI,GAAWpI,GACXqI,GAAuB9I,GAAe,CACxC,SACA,QACA,aAEE+I,GAAiB/I,GAAe,CAClC,MACA,QACA,WACA,KACA,SACA,QACA,QACA,SACA,UAEEgJ,GAAYhJ,GAAe,CAAC,UAC5BiJ,GAAqBzB,GACrB0B,GAAqB,SAAUz1L,GACjC,OAAIw1L,GAAmBx1L,KAGnBo1L,GAASp1L,IACHq1L,GAAqBr1L,EAAKkK,YAE7BorL,GAAet1L,IAASm1L,GAAOn1L,IAASu1L,GAAUv1L,IAAS01L,GAA4B11L,GAChG,EAII01L,GAA8B,SAAU11L,GAC1C,OAAgC,IAJb,SAAUA,GAC7B,OAAOssL,GAAYtsL,IAA+C,SAAtCA,EAAKmM,aAAa,eAChD,CAESwpL,CAAe31L,IAAmBk1L,GAAyBl1L,EACpE,EAuBI41L,GAA6B,SAAU51L,EAAMggC,GAC/C,OAAOy1J,GAAmBz1L,IAvBT,SAAUA,EAAMggC,GACjC,IAAKhgC,EAAOA,EAAKkK,WAAYlK,GAAQA,IAASggC,EAAMhgC,EAAOA,EAAKkK,WAAY,CAC1E,GAAIwrL,GAA4B11L,GAC9B,OAAO,EAET,GAAIi1L,GAAwBj1L,GAC1B,OAAO,CAEX,CACA,OAAO,CACT,CAaqC61L,CAAa71L,EAAMggC,EACxD,EAEI81J,GAAqB,eACrBC,GAAmB,SAAUh1L,GAC/B,OAAO+0L,GAAmB/yL,KAAKhC,EACjC,EAEIi1L,GAA8B,SAAUh2L,EAAM+vE,GAChD,IA1MyB3vE,EAAOmI,EAAUyZ,EA0MtCi0K,EAAch2L,GAAaF,QAAQgwE,GACnCumF,EAAYr2J,GAAaF,QAAQC,GACrC,OA5MyBI,EA4MPk2J,EA5Mc/tJ,EA4MH,WA5MayZ,EA4MD1rB,EAAMwS,GAAImtL,GA3M5Ch0K,GAAW7hB,EAAOmI,EAAUyZ,GAAQ/oB,QA4M7C,EAOIi9L,GAAc,SAAUl2L,EAAM+vE,GAChC,OAAO0lH,GAAmBz1L,KAA0C,IAPnD,SAAUA,EAAM+vE,GACjC,OAAOi9G,GAAShtL,IAAS+1L,GAAiB/1L,EAAKsmB,QAAyD,IAAhD0vK,GAA4Bh2L,EAAM+vE,EAC5F,CAKqCgB,CAAa/wE,EAAM+vE,IAJpC,SAAU/vE,GAC5B,OAAOssL,GAAYtsL,IAA2B,MAAlBA,EAAK0B,WAAqB1B,EAAKsM,aAAa,UAAYtM,EAAKsM,aAAa,SAAWtM,EAAKsM,aAAa,MACrI,CAE+E6pL,CAAcn2L,IAASo2L,GAAWp2L,EACjH,EACIo2L,GAAa9pL,GAAa,qBAC1B+pL,GAAY/pL,GAAa,kBACzBgqL,IAngD8B3J,GAmgDC,iBAngDS8B,GAmgDS,MAlgD5C,SAAUzuL,GACf,OAAOssL,GAAYtsL,IAASA,EAAKmM,aAAawgL,MAAc8B,EAC9D,GAmiDE8H,GAAY,SAAU9lH,EAAK+lH,GAI7B,YAHkB,IAAdA,IACFA,GAAY,GApCE,SAAUhpC,EAAYgpC,GACtC,IAAIC,EAAU,EACd,GAAIP,GAAY1oC,EAAYA,GAC1B,OAAO,EAEP,IAAIxtJ,EAAOwtJ,EAAWp7I,WACtB,IAAKpS,EACH,OAAO,EAET,IAAI02L,EAAS,IAAIpE,GAActyL,EAAMwtJ,GACrC,EAAG,CACD,GAAIgpC,EAAW,CACb,GAAIF,GAAWt2L,GAAO,CACpBA,EAAO02L,EAAOttJ,MAAK,GACnB,QACF,CACA,GAAIitJ,GAAUr2L,GAAO,CACnBA,EAAO02L,EAAOttJ,OACd,QACF,CACF,CACA,GAAI+jJ,GAAOntL,GACTy2L,IACAz2L,EAAO02L,EAAOttJ,WAFhB,CAKA,GAAI8sJ,GAAYl2L,EAAMwtJ,GACpB,OAAO,EAETxtJ,EAAO02L,EAAOttJ,MAJd,CAKF,OAASppC,GACT,OAAOy2L,GAAW,CAEtB,CAKSE,CAAYlmH,EAAI7wE,IAAK42L,EAC9B,EAKII,GAAkB,SAAU52L,EAAMggC,GACpC,OAAO9qC,EAAc8K,KAAUk2L,GAAYl2L,EAAMggC,IAAS+yJ,GAAW9yL,GAAaF,QAAQC,IAC5F,EAQI62L,GAAmB,SAAU72L,GAC/B,OAdW,SAAUA,GACrB,MAAuC,SAAhCA,EAAK0B,SAASC,aACvB,CAYSm1L,CAAO92L,IAAgD,aAAvCA,EAAKmM,aAAa,gBAC3C,EACI4qL,GAAiB,SAAU/2L,EAAMggC,GACnC,OAAOgtJ,GAAShtL,IAASA,EAAKsmB,KAAK7wB,OAAS,GAXd,SAAUuK,EAAMggC,GAC9C,IAAIozG,EAAO,IAAIk/C,GAActyL,EAAMggC,GAAMozG,MAAK,GAC1ChqG,EAAO,IAAIkpJ,GAActyL,EAAMggC,GAAMoJ,MAAK,GAC1C4tJ,EAAehiM,EAAYo+I,IAASwjD,GAAgBxjD,EAAMpzG,GAC1Di3J,EAAejiM,EAAYo0C,IAASwtJ,GAAgBxtJ,EAAMpJ,GAC9D,OAAOg3J,GAAgBC,CACzB,CAKmDC,CAA0Bl3L,EAAMggC,EACnF,EAOIm3J,GAAW,SAAUv3L,EAAKI,EAAMggC,GAClC,IAAI+vC,EAAW/vC,GAAQhgC,EACvB,GAAIssL,GAAYtsL,IAAS62L,GAAiB72L,GACxC,OAAOA,EAGT,IADA,IAAIoK,EAAWpK,EAAKS,WACXlL,EAAI6U,EAAS3U,OAAS,EAAGF,GAAK,EAAGA,IACxC4hM,GAASv3L,EAAKwK,EAAS7U,GAAIw6E,GAE7B,GAAIu8G,GAAYtsL,GAAO,CACrB,IAAIo3L,EAAkBp3L,EAAKS,WACI,IAA3B22L,EAAgB3hM,QAAgBohM,GAAiBO,EAAgB,KACnEp3L,EAAKkK,WAAW/W,aAAaikM,EAAgB,GAAIp3L,EAErD,CAIA,OArBe,SAAUA,GACzB,OAAOiC,GAAmBjC,IAASktL,GAAaltL,EAClD,CAgBOgC,CAAWhC,IAAUk2L,GAAYl2L,EAAM+vE,IArB1B,SAAU/vE,GAC5B,QAAOssL,GAAYtsL,IAAQA,EAAKS,WAAWhL,OAAS,CACtD,CAmB4D4hM,CAAcr3L,IAAU+2L,GAAe/2L,EAAM+vE,IACrGnwE,EAAI2wB,OAAOvwB,GAENA,CACT,EAEIs3L,GAAYjgM,GAAM2wI,QAClBuvD,GAAmB,0EACnBC,GAAkB,kEAClBC,GAAiB,aACjBC,GAAe,kCACfC,GAAW,CACb,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAEHC,GAAe,CACjB,IAAK,SACL,IAAM,QACN,IAAK,OACL,IAAK,OACL,IAAK,QACL,IAAK,SAEHC,GAAkB,CACpB,OAAQ,IACR,OAAQ,IACR,QAAS,IACT,SAAU,IACV,SAAU,KAORC,GAAsB,SAAUh5I,EAAOi5I,GACzC,IAAIxiM,EAAGy7E,EAAKgnH,EACRr5I,EAAS,CAAC,EACd,GAAIG,EAAO,CAGT,IAFAA,EAAQA,EAAM7yB,MAAM,KACpB8rK,EAAQA,GAAS,GACZxiM,EAAI,EAAGA,EAAIupD,EAAMrpD,OAAQF,GAAK,EACjCy7E,EAAM18E,OAAO2jM,aAAajxL,SAAS83C,EAAMvpD,GAAIwiM,IACxCH,GAAa5mH,KAChBgnH,EAAS,IAAMl5I,EAAMvpD,EAAI,GAAK,IAC9BopD,EAAOqyB,GAAOgnH,EACdr5I,EAAOq5I,GAAUhnH,GAGrB,OAAOryB,CACT,CACF,EACIu5I,GAAgBJ,GAAoB,+rEAAwzE,IAC51EK,GAAY,SAAUp3L,EAAM4uB,GAC9B,OAAO5uB,EAAKvB,QAAQmwB,EAAO4nK,GAAmBC,IAAiB,SAAUxmH,GACvE,OAAO4mH,GAAa5mH,IAAQA,CAC9B,GACF,EAMIonH,GAAgB,SAAUr3L,EAAM4uB,GAClC,OAAO5uB,EAAKvB,QAAQmwB,EAAO4nK,GAAmBC,IAAiB,SAAUxmH,GACvE,OAAIA,EAAIv7E,OAAS,EACR,MAAsC,MAA7Bu7E,EAAIknC,WAAW,GAAK,QAAiBlnC,EAAIknC,WAAW,GAAK,OAAS,OAAS,IAEtF0/E,GAAa5mH,IAAQ,KAAOA,EAAIknC,WAAW,GAAK,GACzD,GACF,EACImgF,GAAc,SAAUt3L,EAAM4uB,EAAM2oK,GAEtC,OADAA,EAAWA,GAAYJ,GAChBn3L,EAAKvB,QAAQmwB,EAAO4nK,GAAmBC,IAAiB,SAAUxmH,GACvE,OAAO4mH,GAAa5mH,IAAQsnH,EAAStnH,IAAQA,CAC/C,GACF,EAoDIunH,GAAW,CACbJ,UAAWA,GACX3+F,aAxEiB,SAAUz4F,GAC3B,OAAQ,GAAKA,GAAMvB,QAAQi4L,IAAgB,SAAUzmH,GACnD,OAAO4mH,GAAa5mH,IAAQA,CAC9B,GACF,EAqEEonH,cAAeA,GACfC,YAAaA,GACbG,cAxDkB,SAAUnkM,EAAMikM,GAClC,IAAIG,EAAcX,GAAoBQ,IAAaJ,GAkB/CQ,EAAUpB,GAAUjjM,EAAKmL,QAAQ,MAAO,MAC5C,OAAIk5L,EAAQC,OAASD,EAAQE,QAlBD,SAAU73L,EAAM4uB,GAC1C,OAAO5uB,EAAKvB,QAAQmwB,EAAO4nK,GAAmBC,IAAiB,SAAUxmH,GACvE,YAA0Bz9E,IAAtBqkM,GAAa5mH,GACR4mH,GAAa5mH,QAEGz9E,IAArBklM,EAAYznH,GACPynH,EAAYznH,GAEjBA,EAAIv7E,OAAS,EACR,MAAsC,MAA7Bu7E,EAAIknC,WAAW,GAAK,QAAiBlnC,EAAIknC,WAAW,GAAK,OAAS,OAAS,IAEtF,KAAOlnC,EAAIknC,WAAW,GAAK,GACpC,GACF,EAQIwgF,EAAQC,MACNL,EARkB,SAAUv3L,EAAM4uB,GACtC,OAAO0oK,GAAYt3L,EAAM4uB,EAAM8oK,EACjC,EASSJ,GAELK,EAAQE,QACHR,GAEFD,EACT,EAwBEU,OAvBW,SAAU93L,GACrB,OAAOA,EAAKvB,QAAQk4L,IAAc,SAAUhhM,EAAKkiM,GAC/C,OAAIA,GAEAA,EADsC,MAApCA,EAAQnnH,OAAO,GAAG9vE,cACVqF,SAAS4xL,EAAQ55L,OAAO,GAAI,IAE5BgI,SAAS4xL,EAAS,KAEhB,OACZA,GAAW,MACJtkM,OAAO2jM,aAAa,OAASW,GAAW,IAAK,OAAmB,KAAVA,KAExDjB,GAASiB,IAAYtkM,OAAO2jM,aAAaW,GAE3Cf,GAAgBnhM,IAAQwhM,GAAcxhM,IA/F9B,SAAUqK,GAC3B,IAAI0vE,EAAMxwE,GAAaW,QAAQ,OAAOhB,IAEtC,OADA6wE,EAAIlwE,UAAYQ,EACT0vE,EAAIh+D,aAAeg+D,EAAI01D,WAAaplI,CAC7C,CA2FyD+3L,CAAapiM,EACpE,GACF,GAUIqiM,GAAW,CAAC,EAAGC,GAAW,CAAC,EAC3BC,GAAY5hM,GAAM2wI,QAASkxD,GAAS7hM,GAAMsC,KAAMw/L,GAAW9hM,GAAM6yL,OAAQkP,GAAY/hM,GAAM69G,QAASmkF,GAAYhiM,GAAM2yL,QACtHsP,GAAU,SAAUx6I,EAAOgrI,GAE7B,OADAhrI,EAAQznD,GAAMu8C,KAAKkL,IACJA,EAAM7yB,MAAM69J,GAAS,KAAO,EAC7C,EA6OIyP,GAAoB,SAAUzlM,EAAO20C,GACvC,IAAIpb,EAUJ,OATIv5B,IACFu5B,EAAS,CAAC,EACW,iBAAVv5B,IACTA,EAAQ,CAAE,IAAKA,IAEjBolM,GAAOplM,GAAO,SAAUA,EAAOoK,GAC7BmvB,EAAOnvB,GAAOmvB,EAAOnvB,EAAI2mF,eAA0B,QAATp8C,EAAiBwwJ,GAAUnlM,EAAO,QAAUslM,GAAUtlM,EAAO,OACzG,KAEKu5B,CACT,EACImsK,GAAS,SAAUzrH,GACrB,IAAIx7D,EAAW,CAAC,EACZnI,EAAW,CAAC,EACZqvL,EAAkB,GAClBC,EAAoB,CAAC,EAAGC,EAAkB,CAAC,EAC3CC,EAAoB,SAAU76K,EAAQ86K,EAAcC,GACtD,IAAIhmM,EAAQi6E,EAAShvD,GAWrB,OAVKjrB,EAQHA,EAAQmlM,GAAUnlM,EAAO,OAAQmlM,GAAUnlM,EAAM+wF,cAAe,UAPhE/wF,EAAQilM,GAASh6K,MAEfjrB,EAAQmlM,GAAUY,EAAc,IAAKZ,GAAUY,EAAah1G,cAAe,MAC3E/wF,EAAQqlM,GAASrlM,EAAOgmM,GACxBf,GAASh6K,GAAUjrB,GAKhBA,CACT,EAEIimM,EA7Qc,SAAUlmM,GAC5B,IACImmM,EAAkBC,EAClBC,EAAiBC,EAAaC,EAAmBC,EAFjDv+K,EAAS,CAAC,EAGVpoB,EAAM,SAAUW,EAAM+4B,EAAYhjB,GACpC,IAAIkwL,EAAIC,EAAiB94L,EACrB+4L,EAAa,SAAUt/L,EAAOgC,GAChC,IACI3H,EAAGmD,EADHgB,EAAM,CAAC,EAEX,IAAKnE,EAAI,EAAGmD,EAAIwC,EAAMzF,OAAQF,EAAImD,EAAGnD,IACnCmE,EAAIwB,EAAM3F,IAAM2H,GAAO,CAAC,EAE1B,OAAOxD,CACT,EAEA0zB,EAAaA,GAAc,GACH,iBAFxBhjB,EAAWA,GAAY,MAGrBA,EAAWkvL,GAAQlvL,IAErB,IAAIq6C,EAAQ60I,GAAQjlM,GAEpB,IADAimM,EAAK71I,EAAMhvD,OACJ6kM,KAKL74L,EAAU,CACR2rB,WAAYotK,EALdD,EAAkBjB,GAAQ,CACxBU,EACA5sK,GACAvS,KAAK,OAGL0/K,gBAAiBA,EACjBnwL,SAAUowL,EAAWpwL,EAAU4uL,KAEjCl9K,EAAO2oC,EAAM61I,IAAO74L,CAExB,EACIg5L,EAAW,SAAUpmM,EAAM+4B,GAC7B,IAAIktK,EAAII,EAAYnlM,EAAGmD,EACnB+rD,EAAQ60I,GAAQjlM,GACpBimM,EAAK71I,EAAMhvD,OAEX,IADA,IAAIwW,EAAQqtL,GAAQlsK,GACbktK,KAEL,IADAI,EAAa5+K,EAAO2oC,EAAM61I,IACrB/kM,EAAI,EAAGmD,EAAIuT,EAAMxW,OAAQF,EAAImD,EAAGnD,IACnCmlM,EAAWttK,WAAWnhB,EAAM1W,IAAM,CAAC,EACnCmlM,EAAWH,gBAAgBhoM,KAAK0Z,EAAM1W,GAG5C,EACA,OAAIwjM,GAASllM,GACJklM,GAASllM,IAElBmmM,EAAmB,wDACnBC,EAAe,sFACfC,EAAkB,wLACL,UAATrmM,IACFmmM,GAAoB,8EACpBC,GAAgB,6EAChBC,GAAmB,oGAER,iBAATrmM,IACFmmM,GAAoB,YAEpBE,EAAkB,CAChBA,EAFFG,EAAuB,8CAIrBx/K,KAAK,KACPq+K,GAAOI,GAAQe,IAAuB,SAAUhmM,GAC9CX,EAAIW,EAAM,GAAI6lM,EAChB,IAEAD,EAAe,CACbA,EAFFG,EAAoB,+BAIlBv/K,KAAK,KACPs/K,EAAc,CACZF,EACAC,GACAr/K,KAAK,KACPq+K,GAAOI,GAAQc,IAAoB,SAAU/lM,GAC3CX,EAAIW,EAAM,GAAI8lM,EAChB,KAEFA,EAAcA,GAAe,CAC3BF,EACAC,GACAr/K,KAAK,KACPnnB,EAAI,OAAQ,WAAY,aACxBA,EAAI,OAAQ,GAAI,sDAChBA,EAAI,wBACJA,EAAI,OAAQ,eACZA,EAAI,OAAQ,+CACZA,EAAI,OAAQ,mCACZA,EAAI,QAAS,qBACbA,EAAI,SAAU,gCACdA,EAAI,OAAQ,0LAAqMymM,GACjNzmM,EAAI,4BAA6B,GAAIymM,GACrCzmM,EAAI,0GAA2G,GAAIwmM,GACnHxmM,EAAI,aAAc,OAAQymM,GAC1BzmM,EAAI,KAAM,sBAAuB,MACjCA,EAAI,KAAM,GAAI,MACdA,EAAI,KAAM,QAASymM,GACnBzmM,EAAI,KAAM,GAAI,SACdA,EAAI,IAAK,sCAAuCwmM,GAChDxmM,EAAI,IAAK,OAAQwmM,GACjBxmM,EAAI,UAAW,gBAAiBymM,GAChCzmM,EAAI,MAAO,kDACXA,EAAI,SAAU,wBAAyBymM,GACvCzmM,EAAI,QAAS,yBACbA,EAAI,SAAU,wDAAyD,CACrEymM,EACA,SACAt/K,KAAK,MACPnnB,EAAI,QAAS,cACbA,EAAI,MAAO,OAAQ,CACjBymM,EACA,QACAt/K,KAAK,MACPnnB,EAAI,OAAQ,wDACZA,EAAI,QAAS,SAAU,yCAAoD,UAATG,EAAmB,OAAS,KAC9FH,EAAI,WAAY,OAAQ,OACxBA,EAAI,MAAO,QACXA,EAAI,oBAAqB,GAAI,MAC7BA,EAAI,KAAM,GAAI,SACdA,EAAI,KAAM,0BAA2BymM,GACrCzmM,EAAI,KAAM,qCAAsCymM,GAChDzmM,EAAI,OAAQ,2EAA4EymM,GACxFzmM,EAAI,WAAY,qBAAsB,CACpCymM,EACA,UACAt/K,KAAK,MACPnnB,EAAI,QAAS,WAAYwmM,GACzBxmM,EAAI,QAAS,0NACbA,EAAI,SAAU,4FAAsG,UAATG,EAAmBsmM,EAAcD,GAC5IxmM,EAAI,SAAU,4CAA6C,mBAC3DA,EAAI,WAAY,iBAAkB,UAClCA,EAAI,SAAU,iCACdA,EAAI,WAAY,yEAChBA,EAAI,OAAQ,aAAc,CACxBymM,EACA,MACAt/K,KAAK,MACPnnB,EAAI,WAAY,GAAIymM,GACP,UAATtmM,IACFH,EAAI,OACJA,EAAI,OAAQ,GAAI,CACdwmM,EACA,SACAr/K,KAAK,MACPnnB,EAAI,aAAc,GAAIymM,GACtBzmM,EAAI,yBAA0B,GAAIwmM,GAClCxmM,EAAI,SAAU,eAAgBymM,GAC9BzmM,EAAI,QAAS,+FAAqG,CAChHymM,EACA,gBACAt/K,KAAK,MACPnnB,EAAI,QAAS,kFAAwF,CACnGymM,EACA,gBACAt/K,KAAK,MACPnnB,EAAI,UAAW,GAAI,cACnBA,EAAI,SAAU,+BACdA,EAAI,QAAS,kCACbA,EAAI,WAAY,GAAI,CAClBwmM,EACA,UACAr/K,KAAK,MACPnnB,EAAI,+CAAgD,GAAIymM,GACxDzmM,EAAI,SAAU,GAAI,qBAClBA,EAAI,SAAU,GAAI,CAChBymM,EACA,cACAt/K,KAAK,MACPnnB,EAAI,OAAQ,WAAYwmM,GACxBxmM,EAAI,SAAU,OAAQymM,GACtBzmM,EAAI,UAAW,uDACfA,EAAI,SAAU,gBAAiBwmM,GAC/BxmM,EAAI,WAAY,YAAawmM,GAC7BxmM,EAAI,QAAS,iCAAkCwmM,GAC/CxmM,EAAI,UAAW,OAAQ,CACrBymM,EACA,WACAt/K,KAAK,MACPnnB,EAAI,SAAU,mDAEH,iBAATG,IACF4mM,EAAS,SAAU,sBACnBA,EAAS,QAAS,aAClBA,EAAS,SAAU,qFACnBA,EAAS,QAAS,4BAClBA,EAAS,QAAS,kBAClBA,EAAS,IAAK,iCACdA,EAAS,KAAM,SACfA,EAAS,SAAU,0EACnBA,EAAS,MAAO,4CAChBA,EAAS,SAAU,iEACnBA,EAAS,gBAAiB,mBAC1BA,EAAS,QAAS,gBAClBA,EAAS,UACTA,EAAS,YACTA,EAAS,yCAA0C,SACnDA,EAAS,KAAM,gBACfA,EAAS,KAAM,QACfA,EAAS,iBAAkB,WAC3BA,EAAS,MAAO,mBAChBA,EAAS,KAAM,4BACfA,EAAS,UAAW,UACpBA,EAAS,QAAS,mEAClBA,EAAS,MAAO,mCAChBA,EAAS,WAAY,mCACrBA,EAAS,QAAS,6BAClBA,EAAS,KAAM,qCACfA,EAAS,KAAM,8DACfA,EAAS,OAAQ,UACjBA,EAAS,KAAM,yEACfA,EAAS,QAAS,6BAClBA,EAAS,QAAS,6BAClBA,EAAS,OAAQ,UACjBA,EAAS,OAAQ,6CAEN,UAAT5mM,IACF4mM,EAAS,+BAAgC,aACzCA,EAAS,iBAAkB,eAC3BA,EAAS,IAAK,YACdA,EAAS,kBAAmB,eAC5BA,EAAS,MAAO,WAChBA,EAAS,SAAU,6CAErBvB,GAAOI,GAAQ,8BAA8B,SAAUjlM,GACjDynB,EAAOznB,WACFynB,EAAOznB,GAAM+V,SAAS/V,EAEjC,WACOynB,EAAOgyK,QAAQ1jL,SAAS02H,aACxBhlH,EAAO6+K,OACd5B,GAASllM,GAAQioB,EACVA,EACT,CAkCoB8+K,EADlB7sH,EAAWA,GAAY,CAAC,GACiBjyD,SACZ,IAAzBiyD,EAAS8sH,cACX9sH,EAAS+sH,eAAiB,QAE5B,IAAIC,EAAcxB,GAAkBxrH,EAASitH,cACzCC,EAAgB1B,GAAkBxrH,EAASmtH,eAAgB,OAC3DC,EAAe5B,GAAkBxrH,EAASqtH,cAAe,OACzDC,EAAwBzB,EAAkB,sBAAuB,qEACjE0B,EAAyB1B,EAAkB,wBAAyB,mDACpE2B,EAAwB3B,EAAkB,uBAAwB,+FAClE4B,EAAc5B,EAAkB,qBAAsB,iIACtD6B,EAAmC,8CACnCC,EAAsB9B,EAAkB,qBAAsB6B,EAAmC,OAAQF,GACzGI,EAAoC/B,EAAkB,sCAAuC6B,EAAmC,SAAUF,GAC1IK,EAAuBhC,EAAkB,sBAAuB,sIAChEiC,EAAmBjC,EAAkB,iBAAkB,iJAA4JgC,GACnNE,EAAwBlC,EAAkB,uBAAwB,0EACtEV,IAAQnrH,EAAS3T,SAAW,oEAAoEnuC,MAAM,MAAM,SAAU53B,GACpHslM,EAAgBtlM,GAAQ,IAAIivF,OAAO,KAAOjvF,EAAO,SAAU,KAC7D,IACA,IAAI0nM,EAAkB,SAAUh9L,GAC9B,OAAO,IAAIukF,OAAO,IAAMvkF,EAAIS,QAAQ,WAAY,OAAS,IAC3D,EACIw8L,EAAmB,SAAUC,GAC/B,IAAIC,EAAIppM,EAAIqpM,EAAIC,EAAIl0L,EAASzG,EAASkuB,EAAM0sK,EAAUC,EAAa3P,EAAU4P,EAAUnvK,EAAYmtK,EAAiBn7L,EAAQo9L,EAAYxC,EAAkByC,EAAuB3oM,EAC7K4oM,EAAoB,6DAA8DC,EAAiB,oDAAqDC,EAAoB,QAChL,GAAIX,EAAe,CACjB,IAAIY,EAAmBvD,GAAQ2C,EAAe,KAK9C,IAJI1pL,EAAS,OACXynL,EAAmBznL,EAAS,KAAK6a,WACjCqvK,EAAwBlqL,EAAS,KAAKgoL,iBAEnC2B,EAAK,EAAGppM,EAAK+pM,EAAiBpnM,OAAQymM,EAAKppM,EAAIopM,IAElD,GADAh0L,EAAUw0L,EAAkBt3G,KAAKy3G,EAAiBX,IACrC,CA0BX,GAzBA98L,EAAS8I,EAAQ,GACjBo0L,EAAcp0L,EAAQ,GACtBs0L,EAAat0L,EAAQ,GACrBm0L,EAAWn0L,EAAQ,GAGnBzG,EAAU,CACR2rB,WAHFA,EAAa,CAAC,EAIZmtK,gBAHFA,EAAkB,IAKH,MAAXn7L,IACFqC,EAAQq7L,WAAY,GAEP,MAAX19L,IACFqC,EAAQs7L,aAAc,GAEL,MAAf70L,EAAQ,KACVzG,EAAQu7L,kBAAmB,GAEzBhD,IACFrS,GAAOqS,GAAkB,SAAUlmM,EAAOoK,GACxCkvB,EAAWlvB,GAAOpK,CACpB,IACAymM,EAAgBhoM,KAAK0D,MAAMskM,EAAiBkC,IAE1CJ,EAEF,IAAKF,EAAK,EAAGC,GADbC,EAAW/C,GAAQ+C,EAAU,MACF5mM,OAAQ0mM,EAAKC,EAAID,IAE1C,GADAj0L,EAAUy0L,EAAev3G,KAAKi3G,EAASF,IAC1B,CAWX,GAVAxsK,EAAO,CAAC,EACR4sK,EAAWr0L,EAAQ,GACnBykL,EAAWzkL,EAAQ,GAAG1I,QAAQ,UAAW,KACzCJ,EAAS8I,EAAQ,GACjBpU,EAAQoU,EAAQ,GACC,MAAbq0L,IACF96L,EAAQw7L,mBAAqBx7L,EAAQw7L,oBAAsB,GAC3Dx7L,EAAQw7L,mBAAmB1qM,KAAKo6L,GAChCh9J,EAAKwI,UAAW,GAED,MAAbokK,EAAkB,QACbnvK,EAAWu/J,GAClB4N,EAAgBjyG,OAAO+wG,GAAUkB,EAAiB5N,GAAW,GAC7D,QACF,CACIvtL,IACa,MAAXA,IACFqC,EAAQy7L,kBAAoBz7L,EAAQy7L,mBAAqB,GACzDz7L,EAAQy7L,kBAAkB3qM,KAAK,CAC7B8B,KAAMs4L,EACN74L,MAAOA,IAET67B,EAAKkqK,aAAe/lM,GAEP,MAAXsL,IACFqC,EAAQ07L,iBAAmB17L,EAAQ07L,kBAAoB,GACvD17L,EAAQ07L,iBAAiB5qM,KAAK,CAC5B8B,KAAMs4L,EACN74L,MAAOA,IAET67B,EAAKytK,YAActpM,GAEN,MAAXsL,IACFuwB,EAAK0tK,YAAcpE,GAAUnlM,EAAO,OAGpC8oM,EAAkB75L,KAAK4pL,IACzBlrL,EAAQ67L,kBAAoB77L,EAAQ67L,mBAAqB,GACzD3tK,EAAKkqI,QAAUkiC,EAAgBpP,GAC/BlrL,EAAQ67L,kBAAkB/qM,KAAKo9B,KAE1BvC,EAAWu/J,IACd4N,EAAgBhoM,KAAKo6L,GAEvBv/J,EAAWu/J,GAAYh9J,EAE3B,CAGCqqK,GAAoC,MAAhBsC,IACvBtC,EAAmB5sK,EACnBqvK,EAAwBlC,GAEtBiC,IACF/6L,EAAQ+6L,WAAaF,EACrB/pL,EAASiqL,GAAc/6L,GAErBm7L,EAAkB75L,KAAKu5L,IACzB76L,EAAQo4J,QAAUkiC,EAAgBO,GAClC7C,EAAgBlnM,KAAKkP,IAErB8Q,EAAS+pL,GAAe76L,CAE5B,CAEJ,CACF,EACI87L,EAAmB,SAAUtB,GAC/B1pL,EAAW,CAAC,EACZknL,EAAkB,GAClBuC,EAAiBC,GACjB/C,GAAOa,GAAa,SAAUt4L,EAASpN,GACrC+V,EAAS/V,GAAQoN,EAAQ2I,QAC3B,GACF,EACIozL,EAAoB,SAAUC,GAChC,IAAIC,EAAsB,aACtBD,IACF1E,GAAS4E,oBAAsB5E,GAAS6E,eAAiB,KACzD1E,GAAOI,GAAQmE,EAAgB,MAAM,SAAUrwI,GAC7C,IAAIllD,EAAUw1L,EAAoBt4G,KAAKh4B,GAAO6wB,EAAwB,MAAf/1E,EAAQ,GAAY21L,EAAY5/G,EAAS,OAAS,MAAO5pF,EAAO6T,EAAQ,GAO/H,GANAkC,EAAS/V,GAAQ+V,EAASyzL,GAC1BnE,EAAkBrlM,GAAQwpM,EACrB5/G,IACH49G,EAAiBxnM,EAAKwwF,eAAiB,CAAC,EACxCg3G,EAAiBxnM,GAAQ,CAAC,IAEvBke,EAASle,GAAO,CACnB,IAAIypM,EAAavrL,EAASsrL,UAC1BC,EAAa3E,GAAS,CAAC,EAAG2E,IACRd,wBACXc,EAAWf,YAClBxqL,EAASle,GAAQypM,CACnB,CACA5E,GAAO9uL,GAAU,SAAU3I,EAASs8L,GAC9Bt8L,EAAQo8L,KACVzzL,EAAS2zL,GAAWt8L,EAAU03L,GAAS,CAAC,EAAG/uL,EAAS2zL,IACpDt8L,EAAQpN,GAAQoN,EAAQo8L,GAE5B,GACF,IAEJ,EACIG,EAAmB,SAAUC,GAC/B,IAAIC,EAAkB,+LACtBnF,GAAShrH,EAASjyD,QAAU,KACxBmiL,GACF/E,GAAOI,GAAQ2E,EAAe,MAAM,SAAU7wI,GAC5C,IACInjD,EAAQ7K,EADR8I,EAAUg2L,EAAgB94G,KAAKh4B,GAE/BllD,IACF9I,EAAS8I,EAAQ,GAEf+B,EADE7K,EACOgL,EAASlC,EAAQ,IAEjBkC,EAASlC,EAAQ,IAAM,CAAE,WAAY,CAAC,GAEjD+B,EAASG,EAASlC,EAAQ,IAC1BgxL,GAAOI,GAAQpxL,EAAQ,GAAI,MAAM,SAAUksB,GAC1B,MAAXh1B,SACK6K,EAAOmqB,GAEdnqB,EAAOmqB,GAAS,CAAC,CAErB,IAEJ,GAEJ,EACI+pK,EAAiB,SAAU9pM,GAC7B,IAA8BkB,EAA1BkM,EAAU8Q,EAASle,GACvB,GAAIoN,EACF,OAAOA,EAGT,IADAlM,EAAIkkM,EAAgBhkM,OACbF,KAEL,IADAkM,EAAUg4L,EAAgBlkM,IACdskK,QAAQ92J,KAAK1O,GACvB,OAAOoN,CAGb,EACKssE,EAAS+sH,eA0BZyC,EAAiBxvH,EAAS+sH,iBAzB1B5B,GAAOa,GAAa,SAAUt4L,EAASpN,GACrCke,EAASle,GAAQ,CACf+4B,WAAY3rB,EAAQ2rB,WACpBmtK,gBAAiB94L,EAAQ84L,iBAE3BnwL,EAAS/V,GAAQoN,EAAQ2I,QAC3B,IACwB,UAApB2jE,EAASjyD,QACXo9K,GAAOI,GAAQ,kBAAkB,SAAU7rL,GACzC,IAAIqxC,EAAQw6I,GAAQ7rL,EAAM,KAC1B8E,EAASusC,EAAM,IAAI09I,WAAa19I,EAAM,EACxC,IAEFo6I,GAAOI,GAAQ,mEAAmE,SAAUjlM,GACtFke,EAASle,KACXke,EAASle,GAAM0oM,aAAc,EAEjC,IACA7D,GAAOI,GAAQ,yDAAyD,SAAUjlM,GAChFke,EAASle,GAAMyoM,WAAY,CAC7B,IACA5D,GAAOI,GAAQ,SAAS,SAAUjlM,GAChCke,EAASle,GAAM2oM,kBAAmB,CACpC,KAIFQ,EAAkBzvH,EAASqwH,iBAC3BJ,EAAiBjwH,EAASswH,gBAC1BrC,EAAiBjuH,EAASuwH,yBAC1BN,EAAiB,yBACjB9E,GAAO,CACLqF,GAAI,KACJC,GAAI,KACJC,GAAI,QACJ11B,GAAI,KACJ21B,GAAI,KACJC,GAAI,oBACJC,MAAO,QACPC,MAAO,QACPC,MAAO,QACPC,OAAQ,WACRC,KAAM,MACNC,MAAO,uBACN,SAAU1zB,EAAS99J,GAChB8E,EAAS9E,KACX8E,EAAS9E,GAAMyxL,gBAAkB5F,GAAQ/tB,GAE7C,IACIx9F,EAASoxH,kBACXjG,GAAOE,GAAUrrH,EAASoxH,mBAAmB,SAAU1xL,GACjD8E,EAAS9E,WACJ8E,EAAS9E,EAEpB,IAEG0wL,EAAe,SAClBnC,EAAiB,0BAEnB,IAAIoD,EAAiBl8K,EAAS63K,GAC1BsE,EAAmBn8K,EAAS+3K,GAC5BqE,EAAkBp8K,EAASi4K,GAC3BoE,EAAer8K,EAASs4K,GACxBgE,EAAmBt8K,EAAS24K,GAC5B4D,EAAuBv8K,EAAS04K,GAChC8D,EAAwBx8K,EAAS44K,GACjC6D,EAAwBz8K,EAASq4K,GACjCqE,EAAyB18K,EAASo4K,GAClCuE,EAAsB38K,EAASw4K,GAC/BoE,EAAoC58K,EAASy4K,GAC7CoE,EAAwB78K,EAASm4K,GACjC2E,EAAqB98K,EAASy2K,GA4B9BsG,EAAoB/8K,EAASw2K,GACjC,MAAO,CACLtvL,SAAUA,EACVmI,SAAUA,EACV6sL,eAAgBA,EAChBE,gBAAiBA,EACjBE,iBAAkBA,EAClBH,iBAAkBA,EAClBM,sBAAuBA,EACvBF,qBAAsBA,EACtBC,sBAAuBA,EACvBH,aAAcA,EACdpB,eAAgBA,EAChByB,uBAAwBA,EACxBC,oBAAqBA,EACrBC,kCAAmCA,EACnCC,sBAAuBA,EACvBC,mBAAoBA,EACpBE,aA7CiB,SAAU7rM,EAAM+/B,GACjC,IAAInqB,EAASG,EAAS/V,EAAKsN,eAC3B,SAAUsI,IAAUA,EAAOmqB,EAAMzyB,eACnC,EA2CE8pF,QA1CY,SAAUp3F,EAAMs7B,GAC5B,IAAIwwK,EAAc5qM,EACd63D,EAAO+wI,EAAe9pM,GAC1B,GAAI+4D,EAAM,CACR,IAAIz9B,EAcF,OAAO,EAbP,GAAIy9B,EAAKhgC,WAAWuC,GAClB,OAAO,EAGT,GADAwwK,EAAe/yI,EAAKkwI,kBAGlB,IADA/nM,EAAI4qM,EAAa1qM,OACVF,KACL,GAAI4qM,EAAa5qM,GAAGskK,QAAQ92J,KAAK1O,GAC/B,OAAO,CAOjB,CACA,OAAO,CACT,EAqBE4rM,kBAAmBA,EACnBjE,iBAAkBA,EAClBuB,iBAAkBA,EAClBC,kBAAmBA,EACnBQ,iBAAkBA,EAEtB,EAEI34G,GAAQ,SAAUn8E,EAAOlO,EAAGopD,EAAG/tD,GACjC,IAAImuF,EAAM,SAAUp2E,GAElB,OADAA,EAAMpH,SAASoH,EAAK,IAAInU,SAAS,KACtBxE,OAAS,EAAI2Y,EAAM,IAAMA,CACtC,EACA,MAAO,IAAMo2E,EAAIxpF,GAAKwpF,EAAIpgC,GAAKogC,EAAInuF,EACrC,EACI+pM,GAAS,SAAUryH,EAAUjyD,GAC/B,IAKIvmB,EAEAwlM,EACAE,EARAoF,EAAQtoM,KACRuoM,EAAY,2DACZC,EAAiB,+HACjBC,EAAc,2BACdC,EAAkB,OAElBC,EAAiB,CAAC,EAGlBC,EA5jCU,SA6jCd5yH,EAAWA,GAAY,CAAC,EACpBjyD,IACFi/K,EAAcj/K,EAAOsjL,iBACrBnE,EAAgBn/K,EAAOujL,oBAEzB,IAAIuB,EAAgB,8BAA0C30K,MAAM,KACpE,IAAK12B,EAAI,EAAGA,EAAIqrM,EAAcnrM,OAAQF,IACpCmrM,EAAeE,EAAcrrM,IAAMorM,EAAgBprM,EACnDmrM,EAAeC,EAAgBprM,GAAKqrM,EAAcrrM,GAEpD,MAAO,CACL8vF,MAAO,SAAU3O,GACf,OAAOA,EAAMl3E,QAAQ8gM,EAAWj7G,GAClC,EACAt9C,MAAO,SAAU/6B,GACf,IACI9E,EAAS7T,EAAMP,EAAO+sM,EAwDAj9L,EAAQlP,EAAG2B,EAAG04B,EAzDpC1B,EAAS,CAAC,EAEVyzK,EAAe/yH,EAASgzH,cACxBC,EAAoBjzH,EAASkzH,qBAAuBZ,EACpDa,EAAW,SAAU9hM,EAAQE,EAAQ6hM,GACvC,IAAIjyL,EAAMme,EAAOjuB,EAAS,OAASE,GACnC,GAAK4P,EAAL,CAGA,IAAImE,EAAQga,EAAOjuB,EAAS,SAAWE,GACvC,GAAK+T,EAAL,CAGA,IAAIC,EAAS+Z,EAAOjuB,EAAS,UAAYE,GACzC,GAAKgU,EAAL,CAGA,IAAI9U,EAAO6uB,EAAOjuB,EAAS,QAAUE,GACrC,GAAKd,EAAL,CAGA,IAAIyR,EAAM,CACRf,EACAmE,EACAC,EACA9U,GAGF,IADAjJ,EAAI0a,EAAIxa,OAAS,EACVF,KACD0a,EAAI1a,KAAO0a,EAAI1a,EAAI,KAIrBA,GAAK,GAAK4rM,IAGd9zK,EAAOjuB,EAASE,IAAiB,IAAP/J,EAAW0a,EAAI,GAAKA,EAAI4K,KAAK,YAChDwS,EAAOjuB,EAAS,OAASE,UACzB+tB,EAAOjuB,EAAS,SAAWE,UAC3B+tB,EAAOjuB,EAAS,UAAYE,UAC5B+tB,EAAOjuB,EAAS,QAAUE,GApBjC,CAJA,CAJA,CAJA,CAiCF,EACI8hM,EAAc,SAAUljM,GAC1B,IAAyB3I,EAArBzB,EAAQu5B,EAAOnvB,GACnB,GAAKpK,EAAL,CAKA,IADAyB,GADAzB,EAAQA,EAAMm4B,MAAM,MACVx2B,OACHF,KACL,GAAIzB,EAAMyB,KAAOzB,EAAM,GACrB,OAAO,EAIX,OADAu5B,EAAOnvB,GAAOpK,EAAM,IACb,CATP,CAUF,EAgBIqvF,EAAS,SAAUpkF,GAErB,OADA8hM,GAAY,EACLH,EAAe3hM,EACxB,EACI85L,EAAS,SAAU95L,EAAKsiM,GAS1B,OARIR,IACF9hM,EAAMA,EAAIS,QAAQ,gBAAgB,SAAUT,GAC1C,OAAO2hM,EAAe3hM,EACxB,KAEGsiM,IACHtiM,EAAMA,EAAIS,QAAQ,gBAAiB,OAE9BT,CACT,EACIuiM,EAA0B,SAAUC,GACtC,OAAOjtM,OAAO2jM,aAAajxL,SAASu6L,EAAO5oM,MAAM,GAAI,IACvD,EACI6oM,EAAqB,SAAU1tM,GACjC,OAAOA,EAAM0L,QAAQ,gBAAiB8hM,EACxC,EACIG,EAAa,SAAUv4L,EAAO+oH,EAAKyvE,EAAMC,EAAM5iM,EAAK6iM,GAEtD,GADA7iM,EAAMA,GAAO6iM,EAGX,MAAO,KADP7iM,EAAM85L,EAAO95L,IACKS,QAAQ,MAAO,OAAU,IAG7C,GADAyyH,EAAM4mE,EAAO5mE,GAAOyvE,GAAQC,IACvB5zH,EAAS8zH,kBAAmB,CAC/B,IAAIrhE,EAAYvO,EAAIzyH,QAAQ,aAAc,IAC1C,GAAI,oBAAoBuD,KAAKy9H,GAC3B,MAAO,GAET,IAAKzyD,EAAS+zH,qBAAuB,oBAAoB/+L,KAAKy9H,GAC5D,MAAO,EAEX,CAIA,OAHIsgE,IACF7uE,EAAM6uE,EAAahpM,KAAKkpM,EAAmB/uE,EAAK,UAE3C,QAAWA,EAAIzyH,QAAQ,MAAO,OAAU,IACjD,EACA,GAAIwN,EAAK,CAKP,IAHAA,GADAA,EAAMA,EAAIxN,QAAQ,mBAAoB,KAC5BA,QAAQ,oBAAqB2jF,GAAQ3jF,QAAQ,0BAA0B,SAAUT,GACzF,OAAOA,EAAIS,QAAQ,QAAS2jF,EAC9B,IACOj7E,EAAUs4L,EAAYp7G,KAAKp4E,IAIhC,GAHAwzL,EAAYuB,UAAY75L,EAAQoC,MAAQpC,EAAQ,GAAGzS,OACnDpB,EAAO6T,EAAQ,GAAG1I,QAAQihM,EAAiB,IAAI9+L,cAC/C7N,EAAQoU,EAAQ,GAAG1I,QAAQihM,EAAiB,IACxCpsM,GAAQP,EAAO,CAGjB,GAFAO,EAAOmtM,EAAmBntM,GAC1BP,EAAQ0tM,EAAmB1tM,IACU,IAAjCO,EAAK6D,QAAQyoM,KAAgD,IAAvBtsM,EAAK6D,QAAQ,KACrD,SAEF,IAAK61E,EAAS8zH,oBAA+B,aAATxtM,GAAuB,4BAA4B0O,KAAKjP,IAC1F,SAEW,gBAATO,GAAoC,QAAVP,EAC5BA,EAAQ,OACU,UAATO,GAA6B,qBAATA,IAC7BP,EAAQA,EAAM6N,eAGhB7N,GADAA,EAAQA,EAAM0L,QAAQ8gM,EAAWj7G,KACnB7lF,QAAQ+gM,EAAgBkB,GACtCp0K,EAAOh5B,GAAQwsM,EAAYhI,EAAO/kM,GAAO,GAAQA,CACnD,CAEFotM,EAAS,SAAU,IAAI,GACvBA,EAAS,SAAU,UACnBA,EAAS,SAAU,UACnBA,EAAS,SAAU,UACnBA,EAAS,UAAW,IACpBA,EAAS,SAAU,IA1FKt9L,EA2Fd,SA3FyBvN,EA2FC,eA3FE04B,EA2Fc,eA1F/CqyK,EAD2B1sM,EA2FZ,iBAvFf0sM,EAAY/qM,IAGZ+qM,EAAYryK,KAGjB1B,EAAOzpB,GAAUypB,EAAO34B,GAAK,IAAM24B,EAAOh3B,GAAK,IAAMg3B,EAAO0B,UACrD1B,EAAO34B,UACP24B,EAAOh3B,UACPg3B,EAAO0B,IA+EQ,gBAAlB1B,EAAOqhJ,eACFrhJ,EAAOqhJ,OAEe,SAA3BrhJ,EAAO,wBACFA,EAAO,eAElB,CACA,OAAOA,CACT,EACA20K,UAAW,SAAU30K,EAAQivK,GAC3B,IAAItvL,EAAM,GACNi1L,EAAkB,SAAU5tM,GAC9B,IAAIP,EACAouM,EAAYnH,EAAY1mM,GAC5B,GAAI6tM,EACF,IAAK,IAAIC,EAAM,EAAGzpM,EAAIwpM,EAAUzsM,OAAQ0sM,EAAMzpM,EAAGypM,IAC/C9tM,EAAO6tM,EAAUC,IACjBruM,EAAQu5B,EAAOh5B,MAEb2Y,IAAQA,EAAIvX,OAAS,EAAI,IAAM,IAAMpB,EAAO,KAAOP,EAAQ,IAInE,EAmBA,OAVIwoM,GAAevB,GACjBkH,EAAgB,KAChBA,EAAgB3F,IAEhB3U,GAAOt6J,GAAQ,SAAUv5B,EAAOO,IAC1BP,GAAWmnM,IAbL,SAAU5mM,EAAMioM,GAC5B,IAAI8F,EAAWnH,EAAc,KAC7B,QAAImH,GAAYA,EAAS/tM,KAGzB+tM,EAAWnH,EAAcqB,KACJ8F,EAAS/tM,GAChC,CAMoCo3F,CAAQp3F,EAAMioM,KAC5CtvL,IAAQA,EAAIvX,OAAS,EAAI,IAAM,IAAMpB,EAAO,KAAOP,EAAQ,IAE/D,IAEKkZ,CACT,EAEJ,EAEIq1L,GAAa,CACfC,aAAa,EACbC,QAAQ,EACRC,QAAQ,EACRC,aAAa,EACbC,iBAAiB,EACjBC,iBAAiB,EACjBC,eAAe,EACfC,aAAa,GAEXC,GAAgB,SAAUtyL,GAC5B,OAAOA,aAAiBuyL,OAAS5tM,EAAWqb,EAAMwyL,UACpD,EAqBIC,GAAc,SAAUpvM,EAAMqvM,EAAeC,EAAgB78K,GAC/D,IAAIvf,EACAyJ,EAhBQ,SAAU0yL,EAAe58K,GACrC,IAAI9V,EAAQ8V,QAAmCA,EAAO,CAAC,EACvD,IAAK,IAAIk2I,KAAU0mC,EACZ/kM,GAAMkkM,GAAY7lC,KACrBhsJ,EAAMgsJ,GAAU0mC,EAAc1mC,IAQlC,OALItnK,EAAcsb,EAAME,gBACtBF,EAAME,aAAe,WACnB,OAAOwyL,EAAcxyL,cACvB,GAEKF,CACT,CAGc4yL,CAAQF,EAAe58K,GAkCnC,OAjCA9V,EAAM3c,KAAOA,EACToB,EAAWub,EAAM5M,UACnB4M,EAAM5M,OAAqC,QAA3BmD,EAAKyJ,EAAM6yL,kBAA+B,IAAPt8L,EAAgBA,EAAKo8L,GAtBrD,SAAU3yL,GAC/B,OAAOvb,EAAWub,EAAMO,iBAAmB+xL,GAActyL,EAC3D,CAsBM8yL,CAAiBJ,KACnB1yL,EAAMO,eAAiB,WACrBP,EAAM+yL,kBAAmB,EACzB/yL,EAAMi7J,mBAAqBv0K,EACvB/B,EAAW+tM,EAAcnyL,gBAC3BmyL,EAAcnyL,iBACL+xL,GAAcI,KACvBA,EAAcT,aAAc,EAEhC,EACAjyL,EAAMK,gBAAkB,WACtBL,EAAMgzL,cAAe,EACrBhzL,EAAMk7J,qBAAuBx0K,EACzB/B,EAAW+tM,EAAcryL,iBAC3BqyL,EAAcryL,kBACLiyL,GAAcI,KACvBA,EAAcM,cAAe,EAEjC,EACAhzL,EAAMiiE,yBAA2B,WAC/BjiE,EAAMizL,8BAAgCvsM,EACtCsZ,EAAMK,iBACR,EAjDwB,SAAUL,GACpC,OAAOA,EAAMi7J,qBAAuBv0K,GAAUsZ,EAAMi7J,qBAAuBx0K,CAC7E,CAgDSysM,CAAsBlzL,KACzBA,EAAMi7J,oBAAgD,IAA3Bj7J,EAAM+yL,iBAA4BrsM,EAASD,EACtEuZ,EAAMk7J,sBAA8C,IAAvBl7J,EAAMgzL,aAAwBtsM,EAASD,EACpEuZ,EAAMizL,8BAAgCxsM,IAGnCuZ,CACT,EAGImzL,GAAe,+BACfC,GAAW,SAAUhgM,EAAQvP,EAAM+1F,EAAU9jD,GAC3C1iC,EAAO6N,iBACT7N,EAAO6N,iBAAiBpd,EAAM+1F,EAAU9jD,IAAW,GAC1C1iC,EAAOigM,aAChBjgM,EAAOigM,YAAY,KAAOxvM,EAAM+1F,EAEpC,EACI05G,GAAc,SAAUlgM,EAAQvP,EAAM+1F,EAAU9jD,GAC9C1iC,EAAO+N,oBACT/N,EAAO+N,oBAAoBtd,EAAM+1F,EAAU9jD,IAAW,GAC7C1iC,EAAOmgM,aAChBngM,EAAOmgM,YAAY,KAAO1vM,EAAM+1F,EAEpC,EAII45G,GAAM,SAAUd,EAAe58K,GACjC,IAAI9V,EAAQyyL,GAAYC,EAAcrvM,KAAMqvM,EAAelwM,SAAUszB,GACrE,GALiB,SAAU9V,GAC3B,OAAOtb,EAAcsb,IAAUmzL,GAAa5gM,KAAKyN,EAAM3c,KACzD,CAGMowM,CAAaf,IAAkBluM,EAAYkuM,EAAczkC,SAAWzpK,EAAYkuM,EAAchyL,SAAU,CAC1G,IAAIgzL,EAAW1zL,EAAM5M,OAAOgG,eAAiB5W,SACzC2Y,EAAMu4L,EAASn6L,gBACfoB,EAAO+4L,EAAS/4L,KAChB45F,EAAav0F,EACjBu0F,EAAW05D,MAAQykC,EAAchyL,SAAWvF,GAAOA,EAAIiE,YAAczE,GAAQA,EAAKyE,YAAc,IAAMjE,GAAOA,EAAIoE,YAAc5E,GAAQA,EAAK4E,YAAc,GAC1Jg1F,EAAW25D,MAAQwkC,EAAc/xL,SAAWxF,GAAOA,EAAI+D,WAAavE,GAAQA,EAAKuE,WAAa,IAAM/D,GAAOA,EAAImE,WAAa3E,GAAQA,EAAK2E,WAAa,EACxJ,CAIA,OAHI9a,EAAYwb,EAAM2zL,WACpB3zL,EAAM2zL,SAAU,GAEX3zL,CACT,EACI4zL,GAAc,SAAU70L,EAAK66E,EAAUi6G,GACzC,IAAI14L,EAAM4D,EAAIvc,SAAUwd,EAAQ,CAAE3c,KAAM,SACxC,GAAIwwM,EAAWC,UACbl6G,EAAS55E,OADX,CAIA,IAGI+zL,EAAe,WACjBT,GAAYv0L,EAAK,mBAAoBg1L,GACrCT,GAAYv0L,EAAK,OAAQg1L,GACpBF,EAAWC,YACdD,EAAWC,WAAY,EACvBl6G,EAAS55E,IAEXjB,EAAM,IACR,EAV4B,aAAnB5D,EAAI64L,YAAgD,gBAAnB74L,EAAI64L,YAAgC74L,EAAIR,KAYhFo5L,IAEAX,GAASr0L,EAAK,mBAAoBg1L,GAE/BF,EAAWC,WACdV,GAASr0L,EAAK,OAAQg1L,EAnBxB,CAqBF,EACIE,GAAa,WACf,SAASA,IACP1sM,KAAKusM,WAAY,EACjBvsM,KAAK0xB,OAAS,CAAC,EACf1xB,KAAKuoB,MAAQ,EACbvoB,KAAK2sM,QAlEgB,cAkEiB,IAAI76K,MAAQ5vB,SAAS,IAC3DlC,KAAK4sM,mBAAqB,iBAAkB3xM,SAAS+W,gBACrDhS,KAAK6sM,WAAa,cAAe5xM,SAAS+W,gBAC1ChS,KAAKuoB,MAAQ,CACf,CAsNA,OArNAmkL,EAAWvwM,UAAU0F,KAAO,SAAUgK,EAAQ6gD,EAAO2lC,EAAUhqF,GAC7D,IACI3N,EAAIoyM,EAActvM,EAAGlB,EAAMywM,EAAUC,EAAez+J,EADpDlsC,EAAOrC,KAEPwX,EAAMlO,OACN2jM,EAAuB,SAAUpgG,GACnCxqG,EAAK6qM,gBAAgBjB,GAAIp/F,GAAOr1F,EAAIiB,OAAQ/d,EAC9C,EACA,GAAKmR,GAA8B,IAApBA,EAAO/B,UAAsC,IAApB+B,EAAO/B,SAA/C,CAGK+B,EAAOxJ,EAAKsqM,SAKfjyM,EAAKmR,EAAOxJ,EAAKsqM,UAJjBjyM,EAAK2H,EAAKkmB,QACV1c,EAAOxJ,EAAKsqM,SAAWjyM,EACvB2H,EAAKqvB,OAAOh3B,GAAM,CAAC,GAIrB2N,EAAQA,GAASwD,EACjB,IAAIshM,EAAYzgJ,EAAMx4B,MAAM,KAE5B,IADA12B,EAAI2vM,EAAUzvM,OACPF,KAELwvM,EAAgBC,EAChBF,EAAWx+J,GAAU,EACR,sBAHbjyC,EAAO6wM,EAAU3vM,MAIflB,EAAO,SAEL+F,EAAKkqM,WAAsB,UAATjwM,GAA0C,aAAtBuP,EAAO4gM,WAC/Cp6G,EAAStyF,KAAKsI,EAAO4jM,GAAI,CAAEnwM,KAAMQ,MAG9B+F,EAAKuqM,qBACRG,EAAW1qM,EAAK+qM,gBAAgB9wM,MAE9B0wM,EAAgB,SAAUngG,GACxB,IAAIngG,EAAUmgG,EAAIwgG,cACdC,EAAUzgG,EAAI2qE,cAClB,GAAI81B,GAAW5gM,EAAQ8E,SACrB87L,EAAU5gM,EAAQ8E,SAAS87L,QAE3B,KAAOA,GAAWA,IAAY5gM,GAC5B4gM,EAAUA,EAAQn7L,WAGjBm7L,KACHzgG,EAAMo/F,GAAIp/F,GAAOr1F,EAAIiB,QACjB3c,KAAoB,aAAb+wG,EAAI/wG,KAAsB,aAAe,aACpD+wG,EAAIhhG,OAASa,EACbrK,EAAK6qM,gBAAgBrgG,EAAKnyG,GAE9B,GAGC2H,EAAKwqM,YAAwB,YAATvwM,GAA+B,aAATA,IAC7CiyC,GAAU,EACVw+J,EAAoB,YAATzwM,EAAqB,QAAU,OAC1C0wM,EAAgB,SAAUngG,IACxBA,EAAMo/F,GAAIp/F,GAAOr1F,EAAIiB,QACjB3c,KAAoB,UAAb+wG,EAAI/wG,KAAmB,UAAY,WAC9CuG,EAAK6qM,gBAAgBrgG,EAAKnyG,EAC5B,IAEFoyM,EAAezqM,EAAKqvB,OAAOh3B,GAAI4B,IAehB,UAATA,GAAoB+F,EAAKkqM,UAC3Bl6G,EAAS45G,GAAI,CAAEnwM,KAAMQ,KAErBwwM,EAAatyM,KAAK,CAChBu9L,KAAM1lG,EACNhqF,MAAOA,KAlBXhG,EAAKqvB,OAAOh3B,GAAI4B,GAAQwwM,EAAe,CAAC,CACpC/U,KAAM1lG,EACNhqF,MAAOA,IAEXykM,EAAaC,SAAWA,EACxBD,EAAav+J,QAAUA,EACvBu+J,EAAaE,cAAgBA,EAChB,UAAT1wM,EACF+vM,GAAYxgM,EAAQmhM,EAAe3qM,GAEnCwpM,GAAShgM,EAAQkhM,GAAYzwM,EAAM0wM,EAAez+J,KAcxD,OADA1iC,EAASihM,EAAe,KACjBz6G,CA/EP,CAgFF,EACAq6G,EAAWvwM,UAAUwd,OAAS,SAAU9N,EAAQ6gD,EAAO2lC,GACrD,IAAIy6G,EAActvM,EAAG+vM,EAAIjxM,EAAMkxM,EAC/B,IAAK3hM,GAA8B,IAApBA,EAAO/B,UAAsC,IAApB+B,EAAO/B,SAC7C,OAAO9J,KAET,IAAItF,EAAKmR,EAAO7L,KAAK2sM,SACrB,GAAIjyM,EAAI,CAEN,GADA8yM,EAAWxtM,KAAK0xB,OAAOh3B,GACnBgyD,EAAO,CACT,IAAIygJ,EAAYzgJ,EAAMx4B,MAAM,KAE5B,IADA12B,EAAI2vM,EAAUzvM,OACPF,KAGL,GADAsvM,EAAeU,EADflxM,EAAO6wM,EAAU3vM,IAEC,CAChB,GAAI60F,EAEF,IADAk7G,EAAKT,EAAapvM,OACX6vM,KACL,GAAIT,EAAaS,GAAIxV,OAAS1lG,EAAU,CACtC,IAAI26G,EAAgBF,EAAaE,cAC7BD,EAAWD,EAAaC,SAAUx+J,EAAUu+J,EAAav+J,SAC7Du+J,EAAeA,EAAalsM,MAAM,EAAG2sM,GAAI3uM,OAAOkuM,EAAalsM,MAAM2sM,EAAK,KAC3DP,cAAgBA,EAC7BF,EAAaC,SAAWA,EACxBD,EAAav+J,QAAUA,EACvBi/J,EAASlxM,GAAQwwM,CACnB,CAGCz6G,GAAoC,IAAxBy6G,EAAapvM,gBACrB8vM,EAASlxM,GAChByvM,GAAYlgM,EAAQihM,EAAaC,UAAYzwM,EAAMwwM,EAAaE,cAAeF,EAAav+J,SAEhG,CAEJ,MACEqhJ,GAAO4d,GAAU,SAAUV,EAAcxwM,GACvCyvM,GAAYlgM,EAAQihM,EAAaC,UAAYzwM,EAAMwwM,EAAaE,cAAeF,EAAav+J,QAC9F,IACAi/J,EAAW,CAAC,EAEd,IAAKlxM,KAAQkxM,EACX,GAAIpnM,GAAMonM,EAAUlxM,GAClB,OAAO0D,YAGJA,KAAK0xB,OAAOh3B,GACnB,WACSmR,EAAO7L,KAAK2sM,QAGrB,CAFE,MAAO3oG,GACPn4F,EAAO7L,KAAK2sM,SAAW,IACzB,CACF,CACA,OAAO3sM,IACT,EACA0sM,EAAWvwM,UAAU6yF,KAAO,SAAUnjF,EAAQvP,EAAMyB,GAClD,IAAIrD,EACJ,IAAKmR,GAA8B,IAApBA,EAAO/B,UAAsC,IAApB+B,EAAO/B,SAC7C,OAAO9J,KAET,IAAIyY,EAAQwzL,GAAI,CACdnwM,KAAMQ,EACNuP,OAAQA,GACP9N,GACH,IACErD,EAAKmR,EAAO7L,KAAK2sM,WAEf3sM,KAAKktM,gBAAgBz0L,EAAO/d,GAE9BmR,EAASA,EAAOsG,YAActG,EAAOgG,eAAiBhG,EAAOoG,aAAepG,EAAO4hM,mBAC5E5hM,IAAW4M,EAAMk7J,wBAC1B,OAAO3zK,IACT,EACA0sM,EAAWvwM,UAAUuxM,MAAQ,SAAU7hM,GACrC,IAAIrO,EAAG6U,EACP,IAAKxG,GAA8B,IAApBA,EAAO/B,UAAsC,IAApB+B,EAAO/B,SAC7C,OAAO9J,KAQT,GANI6L,EAAO7L,KAAK2sM,UACd3sM,KAAK2Z,OAAO9N,GAETA,EAAOkxL,uBACVlxL,EAASA,EAAO5Q,UAEd4Q,GAAUA,EAAOkxL,qBAInB,IAHA/8L,KAAK2Z,OAAO9N,GAEZrO,GADA6U,EAAWxG,EAAOkxL,qBAAqB,MAC1Br/L,OACNF,MACLqO,EAASwG,EAAS7U,IACPwC,KAAK2sM,UACd3sM,KAAK2Z,OAAO9N,GAIlB,OAAO7L,IACT,EACA0sM,EAAWvwM,UAAUgyC,QAAU,WAC7BnuC,KAAK0xB,OAAS,CAAC,CACjB,EACAg7K,EAAWvwM,UAAUy7E,OAAS,SAAU13E,GAKtC,OAJIA,IACFA,EAAE8Y,iBACF9Y,EAAEw6E,6BAEG,CACT,EACAgyH,EAAWvwM,UAAU+wM,gBAAkB,SAAUrgG,EAAKnyG,GACpD,IAAIy2B,EAAYnxB,KAAK0xB,OAAOh3B,GACxBoyM,EAAe37K,GAAaA,EAAU07E,EAAI/wG,MAC9C,GAAIgxM,EACF,IAAK,IAAItvM,EAAI,EAAGmD,EAAImsM,EAAapvM,OAAQF,EAAImD,EAAGnD,IAAK,CACnD,IAAI60F,EAAWy6G,EAAatvM,GAI5B,GAHI60F,IAAwD,IAA5CA,EAAS0lG,KAAKh4L,KAAKsyF,EAAShqF,MAAOwkG,IACjDA,EAAI7zF,iBAEF6zF,EAAI6+F,gCACN,MAEJ,CAEJ,EACAgB,EAAW1B,MAAQ,IAAI0B,EAChBA,CACT,CAhOiB,GAkOyLC,GAAU,UAAY,IAAI76K,KAAQ67K,GAAerkM,OAAOrO,SAAU2yM,GAAU,EAAG9pG,GAAO,EAAG+pG,GAAaC,KAAeC,GAAaD,KAAeE,GAAgBF,KAAeG,GAAY,SAAUtxM,EAAG2B,GAI/Y,OAHI3B,IAAM2B,IACR64L,IAAe,GAEV,CACT,EAAG+W,GAAe,YAAkBC,GAAe,GAAK,GAAIjc,GAAS,CAAC,EAAEpyL,eAAgBmF,GAAM,GAAIwrF,GAAMxrF,GAAIwrF,IAAK29G,GAAcnpM,GAAIzK,KAAM6zM,GAASppM,GAAIzK,KAAM8zM,GAAUrpM,GAAIrE,MAAOT,GAAU8E,GAAI9E,SAAW,SAAUsQ,GAElN,IADA,IAAIjT,EAAI,EAAGC,EAAMuC,KAAKtC,OACfF,EAAIC,EAAKD,IACd,GAAIwC,KAAKxC,KAAOiT,EACd,OAAOjT,EAGX,OAAQ,CACV,EAA4I+wM,GAAa,sBAAuBC,GAAa,mCAAoCn5K,GAAa,2BAA4Bm5K,GAAa,OAASD,GAAa,gBAAkBA,GAAa,2DAA6DC,GAAa,OAASD,GAAa,OAAQE,GAAU,KAAOD,GAAP,wFAAwHn5K,GAAxH,eAA+Jq5K,GAAQ,IAAInjH,OAAO,uEAAsE,KAAMojH,GAAS,IAAIpjH,OAAO,8CAA6CqjH,GAAe,IAAIrjH,OAAO,wEAAsEsjH,GAAmB,IAAItjH,OAAO,4DAA2D,KAAMujH,GAAU,IAAIvjH,OAAOkjH,IAAUM,GAAc,IAAIxjH,OAAO,IAAMijH,GAAa,KAAMQ,GAAY,CACvhCC,GAAI,IAAI1jH,OAAO,MAAQijH,GAAa,KACpCU,MAAO,IAAI3jH,OAAO,QAAUijH,GAAa,KACzCW,IAAK,IAAI5jH,OAAO,KAAOijH,GAAa,SACpCY,KAAM,IAAI7jH,OAAO,IAAMl2D,IACvBg6K,OAAQ,IAAI9jH,OAAO,IAAMkjH,IACzBa,MAAO,IAAI/jH,OAAO,4LAAyL,KAC3MgkH,KAAM,IAAIhkH,OAAO,mIAA0B,KAC3CikH,aAAc,IAAIjkH,OAAO,6IAA2I,MACnKkkH,GAAU,sCAAuCC,GAAU,SAAUC,GAAU,yBAA0BC,GAAe,mCAAoCC,GAAW,OAAQC,GAAU,QAASC,GAAY,IAAIxkH,OAAO,kEAAiE,MAAOykH,GAAY,SAAUlyL,EAAGmyL,EAASC,GACpU,IAAIC,EAAO,KAAOF,EAAU,MAC5B,OAAOE,GAASA,GAAQD,EAAoBD,EAAUE,EAAO,EAAI5zM,OAAO2jM,aAAaiQ,EAAO,OAAS5zM,OAAO2jM,aAAaiQ,GAAQ,GAAK,MAAc,KAAPA,EAAc,MAC7J,EACF,IACE9B,GAAOnwM,MAAM+G,GAAMqpM,GAAQvuM,KAAK4tM,GAAajlM,YAAailM,GAAajlM,YACvEzD,GAAI0oM,GAAajlM,WAAWhL,QAAQoM,QAYtC,CAXE,MAAO5J,GACPmuM,GAAS,CACPnwM,MAAO+G,GAAIvH,OAAS,SAAUmO,EAAQukM,GACpChC,GAAYlwM,MAAM2N,EAAQyiM,GAAQvuM,KAAKqwM,GACzC,EAAI,SAAUvkM,EAAQukM,GAEpB,IADA,IAAIvwL,EAAIhU,EAAOnO,OAAQF,EAAI,EACpBqO,EAAOgU,KAAOuwL,EAAI5yM,OAEzBqO,EAAOnO,OAASmiB,EAAI,CACtB,EAEJ,CACA,IAAIwwL,GAAS,SAAU7/L,EAAUirE,EAASz8D,EAASsxL,GACjD,IAAIn/L,EAAOV,EAAMy8E,EAAGpjF,EAAUtM,EAAG61I,EAAQrzH,EAAKuwL,EAAKt3G,EAAYu3G,EAM/D,IALK/0H,EAAUA,EAAQ5pE,eAAiB4pE,EAAUkyH,MAAkBtW,IAClED,GAAY37G,GAGdz8D,EAAUA,GAAW,IAChBxO,GAAgC,iBAAbA,EACtB,OAAOwO,EAET,GAAsC,KAAjClV,GALL2xE,EAAUA,GAAW47G,IAKGvtL,WAAgC,IAAbA,EACzC,MAAO,GAET,GAAIwtL,KAAmBgZ,EAAM,CAC3B,GAAIn/L,EAAQy+L,GAAaviH,KAAK78E,GAC5B,GAAI08E,EAAI/7E,EAAM,IACZ,GAAiB,IAAbrH,EAAgB,CAElB,KADA2G,EAAOgrE,EAAQu6C,eAAe9oC,MAClBz8E,EAAK0B,WAMf,OAAO6M,EALP,GAAIvO,EAAK/V,KAAOwyF,EAEd,OADAluE,EAAQxkB,KAAKiW,GACNuO,CAKb,MACE,GAAIy8D,EAAQ5pE,gBAAkBpB,EAAOgrE,EAAQ5pE,cAAcmkH,eAAe9oC,KAAO17E,GAASiqE,EAAShrE,IAASA,EAAK/V,KAAOwyF,EAEtH,OADAluE,EAAQxkB,KAAKiW,GACNuO,MAGN,IAAI7N,EAAM,GAEf,OADAk9L,GAAOnwM,MAAM8gB,EAASy8D,EAAQshH,qBAAqBvsL,IAC5CwO,EACF,IAAKkuE,EAAI/7E,EAAM,KAAOwlL,GAAQ8Z,uBAEnC,OADApC,GAAOnwM,MAAM8gB,EAASy8D,EAAQg1H,uBAAuBvjH,IAC9CluE,CACT,CAEF,GAAI23K,GAAQ+Z,OAASnZ,KAAcA,GAAUvsL,KAAKwF,IAAY,CAI5D,GAHA+/L,EAAMvwL,EAAM2sL,GACZ1zG,EAAaxd,EACb+0H,EAA2B,IAAb1mM,GAAkB0G,EACf,IAAb1G,GAAqD,WAAnC2xE,EAAQ9xE,SAASC,cAA4B,CASjE,IARAypI,EAASyjD,GAAStmL,IACdwP,EAAMy7D,EAAQrnE,aAAa,OAC7Bm8L,EAAMvwL,EAAIvY,QAAQqoM,GAAS,QAE3Br0H,EAAQ1nE,aAAa,KAAMw8L,GAE7BA,EAAM,QAAWA,EAAM,MACvB/yM,EAAI61I,EAAO31I,OACJF,KACL61I,EAAO71I,GAAK+yM,EAAMI,GAAWt9D,EAAO71I,IAEtCy7F,EAAa42G,GAAS7kM,KAAKwF,IAAaogM,GAAYn1H,EAAQtpE,aAAespE,EAC3E+0H,EAAcn9D,EAAOvwH,KAAK,IAC5B,CACA,GAAI0tL,EACF,IAEE,OADAnC,GAAOnwM,MAAM8gB,EAASi6E,EAAW99F,iBAAiBq1M,IAC3CxxL,CAMT,CALE,MAAO6xL,GACT,CAAE,QACK7wL,GACHy7D,EAAQhnE,gBAAgB,KAE5B,CAEJ,CACF,CACA,OAAOuiL,GAASxmL,EAAS/I,QAAQinM,GAAO,MAAOjzH,EAASz8D,EAASsxL,EACnE,EACA,SAASxC,KACP,IAAI5oM,EAAO,GAOX,OANA,SAASmrF,EAAMlqF,EAAKpK,GAIlB,OAHImJ,EAAK1K,KAAK2L,EAAM,KAAOywL,GAAKka,oBACvBzgH,EAAMnrF,EAAK4jF,SAEbuH,EAAMlqF,EAAM,KAAOpK,CAC5B,CAEF,CACA,SAASg1M,GAAavyM,GAEpB,OADAA,EAAGmuM,KAAW,EACPnuM,CACT,CACA,SAASwyM,GAAar0M,EAAG2B,GACvB,IAAIupL,EAAMvpL,GAAK3B,EAAGs0M,EAAOppB,GAAsB,IAAflrL,EAAEmN,UAAiC,IAAfxL,EAAEwL,YAAoBxL,EAAE4yM,aAAe/C,MAAkBxxM,EAAEu0M,aAAe/C,IAC9H,GAAI8C,EACF,OAAOA,EAET,GAAIppB,EACF,KAAOA,EAAMA,EAAI5tK,aACf,GAAI4tK,IAAQvpL,EACV,OAAQ,EAId,OAAO3B,EAAI,GAAK,CAClB,CAaA,SAASw0M,GAAuB3yM,GAC9B,OAAOuyM,IAAa,SAAUK,GAE5B,OADAA,GAAYA,EACLL,IAAa,SAAUT,EAAMngM,GAElC,IADA,IAAI0P,EAAGwxL,EAAe7yM,EAAG,GAAI8xM,EAAK5yM,OAAQ0zM,GAAW5zM,EAAI6zM,EAAa3zM,OAC/DF,KACD8yM,EAAKzwL,EAAIwxL,EAAa7zM,MACxB8yM,EAAKzwL,KAAO1P,EAAQ0P,GAAKywL,EAAKzwL,IAGpC,GACF,GACF,CACA,SAAS+wL,GAAYn1H,GACnB,OAAOA,UAAkBA,EAAQshH,uBAAyBmR,IAAgBzyH,CAC5E,CAygBA,SAAS61H,KACT,CA+CA,SAASX,GAAWY,GAElB,IADA,IAAI/zM,EAAI,EAAGC,EAAM8zM,EAAO7zM,OAAQ8S,EAAW,GACpChT,EAAIC,EAAKD,IACdgT,GAAY+gM,EAAO/zM,GAAGzB,MAExB,OAAOyU,CACT,CACA,SAASghM,GAAcC,EAASC,EAAY7nL,GAC1C,IAAIoZ,EAAMyuK,EAAWzuK,IAAK0uK,EAAmB9nL,GAAgB,eAARoZ,EAAsB2uK,EAAW9tG,KACtF,OAAO4tG,EAAWr1I,MAAQ,SAAU5rD,EAAMgrE,EAASo2H,GACjD,KAAOphM,EAAOA,EAAKwyB,IACjB,GAAsB,IAAlBxyB,EAAK3G,UAAkB6nM,EACzB,OAAOF,EAAQhhM,EAAMgrE,EAASo2H,EAGpC,EAAI,SAAUphM,EAAMgrE,EAASo2H,GAC3B,IAAIC,EAAUC,EAAYC,EAAW,CACjCpE,GACAgE,GAEJ,GAAIC,GACF,KAAOphM,EAAOA,EAAKwyB,IACjB,IAAsB,IAAlBxyB,EAAK3G,UAAkB6nM,IACrBF,EAAQhhM,EAAMgrE,EAASo2H,GACzB,OAAO,OAKb,KAAOphM,EAAOA,EAAKwyB,IACjB,GAAsB,IAAlBxyB,EAAK3G,UAAkB6nM,EAAkB,CAE3C,IAAKG,GADLC,EAAathM,EAAKk8L,MAAal8L,EAAKk8L,IAAW,CAAC,IACrB1pK,KAAS6uK,EAAS,KAAOlE,IAAWkE,EAAS,KAAOF,EAC7E,OAAOI,EAAS,GAAKF,EAAS,GAG9B,GADAC,EAAW9uK,GAAO+uK,EACdA,EAAS,GAAKP,EAAQhhM,EAAMgrE,EAASo2H,GACvC,OAAO,CAGb,CAGN,CACF,CACA,SAASI,GAAeC,GACtB,OAAOA,EAASx0M,OAAS,EAAI,SAAU+S,EAAMgrE,EAASo2H,GAEpD,IADA,IAAIr0M,EAAI00M,EAASx0M,OACVF,KACL,IAAK00M,EAAS10M,GAAGiT,EAAMgrE,EAASo2H,GAC9B,OAAO,EAGX,OAAO,CACT,EAAIK,EAAS,EACf,CAQA,SAASC,GAASC,EAAWzwM,EAAKK,EAAQy5E,EAASo2H,GAEjD,IADA,IAAIphM,EAAM4hM,EAAe,GAAI70M,EAAI,EAAGC,EAAM20M,EAAU10M,OAAQ40M,EAAgB,MAAP3wM,EAC9DnE,EAAIC,EAAKD,KACViT,EAAO2hM,EAAU50M,MACdwE,IAAUA,EAAOyO,EAAMgrE,EAASo2H,KACnCQ,EAAa73M,KAAKiW,GACd6hM,GACF3wM,EAAInH,KAAKgD,KAKjB,OAAO60M,CACT,CACA,SAASE,GAAWC,EAAWhiM,EAAUihM,EAASgB,EAAYC,EAAYC,GAOxE,OANIF,IAAeA,EAAW9F,MAC5B8F,EAAaF,GAAWE,IAEtBC,IAAeA,EAAW/F,MAC5B+F,EAAaH,GAAWG,EAAYC,IAE/B5B,IAAa,SAAUT,EAAMtxL,EAASy8D,EAASo2H,GACpD,IAAI51E,EAAMz+H,EAAGiT,EAAMmiM,EAAS,GAAIC,EAAU,GAAIC,EAAc9zL,EAAQthB,OAAQq7H,EAAQu3E,GA7BxF,SAA0B9/L,EAAUuiM,EAAU/zL,GAE5C,IADA,IAAIxhB,EAAI,EAAGC,EAAMs1M,EAASr1M,OACnBF,EAAIC,EAAKD,IACd6yM,GAAO7/L,EAAUuiM,EAASv1M,GAAIwhB,GAEhC,OAAOA,CACT,CAuBgGg0L,CAAiBxiM,GAAY,IAAKirE,EAAQ3xE,SAAW,CAAC2xE,GAAWA,EAAS,IAAKw3H,GAAYT,IAAclC,GAAS9/L,EAA+DuoH,EAAnDo5E,GAASp5E,EAAO65E,EAAQJ,EAAW/2H,EAASo2H,GAAcqB,EAAazB,EAAUiB,IAAepC,EAAOkC,EAAYM,GAAeL,GAAc,GAAKzzL,EAAUi0L,EAIzX,GAHIxB,GACFA,EAAQwB,EAAWC,EAAYz3H,EAASo2H,GAEtCY,EAIF,IAHAx2E,EAAOk2E,GAASe,EAAYL,GAC5BJ,EAAWx2E,EAAM,GAAIxgD,EAASo2H,GAC9Br0M,EAAIy+H,EAAKv+H,OACFF,MACDiT,EAAOwrH,EAAKz+H,MACd01M,EAAWL,EAAQr1M,MAAQy1M,EAAUJ,EAAQr1M,IAAMiT,IAIzD,GAAI6/L,GACF,GAAIoC,GAAcF,EAAW,CAC3B,GAAIE,EAAY,CAGd,IAFAz2E,EAAO,GACPz+H,EAAI01M,EAAWx1M,OACRF,MACDiT,EAAOyiM,EAAW11M,KACpBy+H,EAAKzhI,KAAKy4M,EAAUz1M,GAAKiT,GAG7BiiM,EAAW,KAAMQ,EAAa,GAAIj3E,EAAM41E,EAC1C,CAEA,IADAr0M,EAAI01M,EAAWx1M,OACRF,MACAiT,EAAOyiM,EAAW11M,MAAQy+H,EAAOy2E,EAAavyM,GAAQJ,KAAKuwM,EAAM7/L,GAAQmiM,EAAOp1M,KAAO,IAC1F8yM,EAAKr0E,KAAUj9G,EAAQi9G,GAAQxrH,GAGrC,OAEAyiM,EAAaf,GAASe,IAAel0L,EAAUk0L,EAAW3iH,OAAOuiH,EAAaI,EAAWx1M,QAAUw1M,GAC/FR,EACFA,EAAW,KAAM1zL,EAASk0L,EAAYrB,GAEtCxD,GAAOnwM,MAAM8gB,EAASk0L,EAG5B,GACF,CACA,SAASC,GAAkB5B,GAUzB,IATA,IAAI6B,EAAc3B,EAAS5xL,EAAGpiB,EAAM8zM,EAAO7zM,OAAQ21M,EAAkBzc,GAAK7tJ,SAASwoK,EAAO,GAAGz1M,MAAOw3M,EAAmBD,GAAmBzc,GAAK7tJ,SAAS,KAAMvrC,EAAI61M,EAAkB,EAAI,EAAGE,EAAe/B,IAAc,SAAU/gM,GAC9N,OAAOA,IAAS2iM,CAClB,GAAGE,GAAkB,GAAOE,EAAkBhC,IAAc,SAAU/gM,GACpE,OAAOtQ,GAAQJ,KAAKqzM,EAAc3iM,IAAS,CAC7C,GAAG6iM,GAAkB,GAAOpB,EAAW,CAAC,SAAUzhM,EAAMgrE,EAASo2H,GAC7D,IAAIjyL,GAAOyzL,IAAoBxB,GAAOp2H,IAAYw7G,OAAuBmc,EAAe33H,GAAS3xE,SAAWypM,EAAa9iM,EAAMgrE,EAASo2H,GAAO2B,EAAgB/iM,EAAMgrE,EAASo2H,IAE9K,OADAuB,EAAe,KACRxzL,CACT,GACGpiB,EAAIC,EAAKD,IACd,GAAIi0M,EAAU7a,GAAK7tJ,SAASwoK,EAAO/zM,GAAG1B,MACpCo2M,EAAW,CAACV,GAAcS,GAAeC,GAAWT,QAC/C,CAEL,IADAA,EAAU7a,GAAK50L,OAAOuvM,EAAO/zM,GAAG1B,MAAMoC,MAAM,KAAMqzM,EAAO/zM,GAAG2S,UAChDw8L,IAAU,CAEpB,IADA9sL,IAAMriB,EACCqiB,EAAIpiB,IACLm5L,GAAK7tJ,SAASwoK,EAAO1xL,GAAG/jB,MADd+jB,KAKhB,OAAO0yL,GAAW/0M,EAAI,GAAKy0M,GAAeC,GAAW10M,EAAI,GAAKmzM,GAAWY,EAAO3wM,MAAM,EAAGpD,EAAI,GAAGoB,OAAO,CAAE7C,MAA8B,MAAvBw1M,EAAO/zM,EAAI,GAAG1B,KAAe,IAAM,MAAO2L,QAAQinM,GAAO,MAAO+C,EAASj0M,EAAIqiB,GAAKszL,GAAkB5B,EAAO3wM,MAAMpD,EAAGqiB,IAAKA,EAAIpiB,GAAO01M,GAAkB5B,EAASA,EAAO3wM,MAAMif,IAAKA,EAAIpiB,GAAOkzM,GAAWY,GACzT,CACAW,EAAS13M,KAAKi3M,EAChB,CAEF,OAAOQ,GAAeC,EACxB,CAptBAvb,GAAU0Z,GAAO1Z,QAAU,CAAC,EAC5BE,GAAQwZ,GAAOxZ,MAAQ,SAAUpmL,GAC/B,IAAIuB,EAAkBvB,IAASA,EAAKoB,eAAiBpB,GAAMuB,gBAC3D,QAAOA,GAA+C,SAA7BA,EAAgBrI,QAC3C,EACAytL,GAAciZ,GAAOjZ,YAAc,SAAUnvL,GAC3C,IAAIwrM,EAAY7/L,EAAM3L,EAAOA,EAAK4J,eAAiB5J,EAAO0lM,GAAcz7L,EAAS0B,EAAI3B,YAQrF,OAAI2B,IAAQyjL,IAA+B,IAAjBzjL,EAAI9J,UAAmB8J,EAAI5B,iBAGrDqlL,GAAazjL,EACbkzI,GAAUlzI,EAAI5B,gBACdslL,IAAkBT,GAAMjjL,GACpB1B,GAAUA,IAbd,SAAgBsF,GACd,IACE,OAAOA,EAAIL,GAEb,CADE,MAAO6sF,GACT,CACA,OAAO,IACT,CAOyB0vG,CAAOxhM,KAC1BA,EAAOwH,iBACTxH,EAAOwH,iBAAiB,UAAU,WAChC09K,IACF,IAAG,GACMllL,EAAO45L,aAChB55L,EAAO45L,YAAY,YAAY,WAC7B1U,IACF,KAGJT,GAAQthK,YAAa,EACrBshK,GAAQoG,sBAAuB,EAC/BpG,GAAQ8Z,uBAAyBd,GAAQ3kM,KAAK4I,EAAI68L,wBAClD9Z,GAAQz4F,SAAU,EAClB04F,GAAK7mI,KAAKk/I,GAAK,SAAUv0M,EAAI+gF,GAC3B,UAAWA,EAAQu6C,iBAAmBk4E,IAAgB5W,GAAgB,CACpE,IAAIpqG,EAAIzR,EAAQu6C,eAAet7H,GAC/B,OAAOwyF,GAAKA,EAAE/6E,WAAa,CAAC+6E,GAAK,EACnC,CACF,EACA0pG,GAAK50L,OAAOitM,GAAK,SAAUv0M,GACzB,IAAIi5M,EAASj5M,EAAG+M,QAAQsoM,GAAWC,IACnC,OAAO,SAAUv/L,GACf,OAAOA,EAAK2D,aAAa,QAAUu/L,CACrC,CACF,EACA/c,GAAK7mI,KAAKo/I,IAAMxY,GAAQoG,qBAAuB,SAAUj0L,EAAK2yE,GAC5D,UAAWA,EAAQshH,uBAAyBmR,GAC1C,OAAOzyH,EAAQshH,qBAAqBj0L,EAExC,EAAI,SAAUA,EAAK2yE,GACjB,IAAIhrE,EAAMmjM,EAAM,GAAIp2M,EAAI,EAAGwhB,EAAUy8D,EAAQshH,qBAAqBj0L,GAClE,GAAY,MAARA,EAAa,CACf,KAAO2H,EAAOuO,EAAQxhB,MACE,IAAlBiT,EAAK3G,UACP8pM,EAAIp5M,KAAKiW,GAGb,OAAOmjM,CACT,CACA,OAAO50L,CACT,EACA43K,GAAK7mI,KAAKm/I,MAAQvY,GAAQ8Z,wBAA0B,SAAUjrE,EAAW/pD,GACvE,GAAI67G,GACF,OAAO77G,EAAQg1H,uBAAuBjrE,EAE1C,EACAgyD,GAAgB,GAChBD,GAAY,GACZZ,GAAQkd,mBAAoB,EAC5Btc,GAAYA,GAAU75L,QAAU,IAAI6tF,OAAOgsG,GAAUz0K,KAAK,MAC1D00K,GAAgBA,GAAc95L,QAAU,IAAI6tF,OAAOisG,GAAc10K,KAAK,MACtE2wL,EAAa9D,GAAQ3kM,KAAK87I,GAAQ11I,yBAClCI,GAAWiiM,GAAc9D,GAAQ3kM,KAAK87I,GAAQt1I,UAAY,SAAU7U,EAAG2B,GACrE,IAAIw1M,EAAuB,IAAfn3M,EAAEmN,SAAiBnN,EAAEqV,gBAAkBrV,EAAGo3M,EAAMz1M,GAAKA,EAAE6T,WACnE,OAAOxV,IAAMo3M,MAAUA,GAAwB,IAAjBA,EAAIjqM,YAAmBgqM,EAAMtiM,SAAWsiM,EAAMtiM,SAASuiM,GAAOp3M,EAAEyU,yBAA4D,GAAjCzU,EAAEyU,wBAAwB2iM,IACrJ,EAAI,SAAUp3M,EAAG2B,GACf,GAAIA,EACF,KAAOA,EAAIA,EAAE6T,YACX,GAAI7T,IAAM3B,EACR,OAAO,EAIb,OAAO,CACT,EACAsxM,GAAYwF,EAAa,SAAU92M,EAAG2B,GACpC,GAAI3B,IAAM2B,EAER,OADA64L,IAAe,EACR,EAET,IAAI6c,GAAWr3M,EAAEyU,yBAA2B9S,EAAE8S,wBAC9C,OAAI4iM,IAIU,GADdA,GAAWr3M,EAAEkV,eAAiBlV,MAAQ2B,EAAEuT,eAAiBvT,GAAK3B,EAAEyU,wBAAwB9S,GAAK,KACzEq4L,GAAQsd,cAAgB31M,EAAE8S,wBAAwBzU,KAAOq3M,EACvEr3M,IAAMiX,GAAOjX,EAAEkV,gBAAkB87L,IAAgBn8L,GAASm8L,GAAchxM,IAClE,EAEN2B,IAAMsV,GAAOtV,EAAEuT,gBAAkB87L,IAAgBn8L,GAASm8L,GAAcrvM,GACnE,EAEF44L,GAAY/2L,GAAQJ,KAAKm3L,GAAWv6L,GAAKwD,GAAQJ,KAAKm3L,GAAW54L,GAAK,EAE9D,EAAV01M,GAAe,EAAI,EAC5B,EAAI,SAAUr3M,EAAG2B,GACf,GAAI3B,IAAM2B,EAER,OADA64L,IAAe,EACR,EAET,IAAItP,EAAKrqL,EAAI,EAAG02M,EAAMv3M,EAAEwV,WAAY4hM,EAAMz1M,EAAE6T,WAAYgiM,EAAK,CAACx3M,GAAIy3M,EAAK,CAAC91M,GACxE,IAAK41M,IAAQH,EACX,OAAOp3M,IAAMiX,GAAO,EAAItV,IAAMsV,EAAM,EAAIsgM,GAAO,EAAIH,EAAM,EAAI7c,GAAY/2L,GAAQJ,KAAKm3L,GAAWv6L,GAAKwD,GAAQJ,KAAKm3L,GAAW54L,GAAK,EAC9H,GAAI41M,IAAQH,EACjB,OAAO/C,GAAar0M,EAAG2B,GAGzB,IADAupL,EAAMlrL,EACCkrL,EAAMA,EAAI11K,YACfgiM,EAAG3jH,QAAQq3F,GAGb,IADAA,EAAMvpL,EACCupL,EAAMA,EAAI11K,YACfiiM,EAAG5jH,QAAQq3F,GAEb,KAAOssB,EAAG32M,KAAO42M,EAAG52M,IAClBA,IAEF,OAAOA,EAAIwzM,GAAamD,EAAG32M,GAAI42M,EAAG52M,IAAM22M,EAAG32M,KAAOmwM,IAAgB,EAAIyG,EAAG52M,KAAOmwM,GAAe,EAAI,CACrG,EACO/5L,GApHEyjL,EAqHX,EACAgZ,GAAOlgM,QAAU,SAAUkkM,EAAM75L,GAC/B,OAAO61L,GAAOgE,EAAM,KAAM,KAAM75L,EAClC,EACA61L,GAAOiE,gBAAkB,SAAU7jM,EAAM4jM,GAKvC,IAJK5jM,EAAKoB,eAAiBpB,KAAU4mL,IACnCD,GAAY3mL,GAEd4jM,EAAOA,EAAK5sM,QAAQonM,GAAkB,UAClClY,GAAQ2d,iBAAmBhd,MAAoBE,KAAkBA,GAAcxsL,KAAKqpM,OAAY9c,KAAcA,GAAUvsL,KAAKqpM,IAC/H,IACE,IAAIz0L,EA1T6KzP,UA0T/JpQ,KAAK0Q,EAAM4jM,GAC7B,GAAIz0L,GAAO+2K,GAAQkd,mBAAqBpjM,EAAKxV,UAAuC,KAA3BwV,EAAKxV,SAAS6O,SACrE,OAAO8V,CAGX,CADE,MAAO1f,GACT,CAEF,OAAOmwM,GAAOgE,EAAMhd,GAAY,KAAM,CAAC5mL,IAAO/S,OAAS,CACzD,EACA2yM,GAAO7+L,SAAW,SAAUiqE,EAAShrE,GAInC,OAHKgrE,EAAQ5pE,eAAiB4pE,KAAa47G,IACzCD,GAAY37G,GAEPjqE,GAASiqE,EAAShrE,EAC3B,EACA4/L,GAAOz4K,KAAO,SAAUnnB,EAAMnU,IACvBmU,EAAKoB,eAAiBpB,KAAU4mL,IACnCD,GAAY3mL,GAEd,IAAIjS,EAAKo4L,GAAK2d,WAAWj4M,EAAKsN,eAAgByM,EAAM7X,GAAM0zL,GAAOnyL,KAAK62L,GAAK2d,WAAYj4M,EAAKsN,eAAiBpL,EAAGiS,EAAMnU,GAAOg7L,SAAkB97L,EAC/I,YAAeA,IAAR6a,EAAoBA,EAAMsgL,GAAQthK,aAAeiiK,GAAiB7mL,EAAK2D,aAAa9X,IAAS+Z,EAAM5F,EAAK+jM,iBAAiBl4M,KAAU+Z,EAAIo+L,UAAYp+L,EAAIta,MAAQ,IACxK,EACAs0M,GAAOznM,MAAQ,SAAU5J,GACvB,MAAM,IAAIC,MAAM,0CAA4CD,EAC9D,EACAqxM,GAAOqE,WAAa,SAAU11L,GAC5B,IAAIvO,EAAMkkM,EAAa,GAAI90L,EAAI,EAAGriB,EAAI,EAItC,GAHA25L,IAAgBR,GAAQie,iBACxB1d,IAAaP,GAAQke,YAAc71L,EAAQpe,MAAM,GACjDoe,EAAQra,KAAKspM,IACT9W,GAAc,CAChB,KAAO1mL,EAAOuO,EAAQxhB,MAChBiT,IAASuO,EAAQxhB,KACnBqiB,EAAI80L,EAAWn6M,KAAKgD,IAGxB,KAAOqiB,KACLb,EAAQuxE,OAAOokH,EAAW90L,GAAI,EAElC,CAEA,OADAq3K,GAAY,KACLl4K,CACT,EACA+5D,GAAUs3H,GAAOt3H,QAAU,SAAUtoE,GACnC,IAAIxI,EAAM2X,EAAM,GAAIpiB,EAAI,EAAGsM,EAAW2G,EAAK3G,SAC3C,GAAKA,GAIE,GAAiB,IAAbA,GAA+B,IAAbA,GAA+B,KAAbA,EAAiB,CAC9D,GAAgC,iBAArB2G,EAAKiK,YACd,OAAOjK,EAAKiK,YAEZ,IAAKjK,EAAOA,EAAK4J,WAAY5J,EAAMA,EAAOA,EAAKwJ,YAC7C2F,GAAOm5D,GAAQtoE,EAGrB,MAAO,GAAiB,IAAb3G,GAA+B,IAAbA,EAC3B,OAAO2G,EAAK+qC,eAZZ,KAAOvzC,EAAOwI,EAAKjT,MACjBoiB,GAAOm5D,GAAQ9wE,GAanB,OAAO2X,CACT,EACAg3K,GAAOyZ,GAAOxwI,UAAY,CACxBixI,YAAa,GACbgE,aAAc/D,GACd5/L,MAAO69L,GACPuF,WAAY,CAAC,EACbxkJ,KAAM,CAAC,EACPhnB,SAAU,CACR,IAAK,CACH9F,IAAK,aACLo5B,OAAO,GAET,IAAK,CAAEp5B,IAAK,cACZ,IAAK,CACHA,IAAK,kBACLo5B,OAAO,GAET,IAAK,CAAEp5B,IAAK,oBAEduvK,UAAW,CACTpD,KAAM,SAAUj+L,GAMd,OALAA,EAAM,GAAKA,EAAM,GAAG1J,QAAQsoM,GAAWC,IACvC7+L,EAAM,IAAMA,EAAM,IAAMA,EAAM,IAAMA,EAAM,IAAM,IAAI1J,QAAQsoM,GAAWC,IACtD,OAAb7+L,EAAM,KACRA,EAAM,GAAK,IAAMA,EAAM,GAAK,KAEvBA,EAAMvQ,MAAM,EAAG,EACxB,EACA0uM,MAAO,SAAUn+L,GAWf,OAVAA,EAAM,GAAKA,EAAM,GAAGvH,cACS,QAAzBuH,EAAM,GAAGvQ,MAAM,EAAG,IACfuQ,EAAM,IACTk/L,GAAOznM,MAAMuI,EAAM,IAErBA,EAAM,KAAOA,EAAM,GAAKA,EAAM,IAAMA,EAAM,IAAM,GAAK,GAAkB,SAAbA,EAAM,IAA8B,QAAbA,EAAM,KACvFA,EAAM,KAAOA,EAAM,GAAKA,EAAM,IAAmB,QAAbA,EAAM,KACjCA,EAAM,IACfk/L,GAAOznM,MAAMuI,EAAM,IAEdA,CACT,EACAk+L,OAAQ,SAAUl+L,GAChB,IAAI4jM,EAAQC,GAAY7jM,EAAM,IAAMA,EAAM,GAC1C,OAAI69L,GAAUM,MAAMtkM,KAAKmG,EAAM,IACtB,MAELA,EAAM,GACRA,EAAM,GAAKA,EAAM,IAAMA,EAAM,IAAM,GAC1B6jM,GAAYlG,GAAQ9jM,KAAKgqM,KAAcD,EAASje,GAASke,GAAU,MAAWD,EAASC,EAAS70M,QAAQ,IAAK60M,EAASt3M,OAASq3M,GAAUC,EAASt3M,UAC3JyT,EAAM,GAAKA,EAAM,GAAGvQ,MAAM,EAAGm0M,GAC7B5jM,EAAM,GAAK6jM,EAASp0M,MAAM,EAAGm0M,IAExB5jM,EAAMvQ,MAAM,EAAG,GACxB,GAEFoB,OAAQ,CACNmtM,IAAK,SAAU8F,GACb,IAAItrM,EAAWsrM,EAAiBxtM,QAAQsoM,GAAWC,IAAWpmM,cAC9D,MAA4B,MAArBqrM,EAA2B,WAChC,OAAO,CACT,EAAI,SAAUxkM,GACZ,OAAOA,EAAK9G,UAAY8G,EAAK9G,SAASC,gBAAkBD,CAC1D,CACF,EACAulM,MAAO,SAAU1pE,GACf,IAAIs8B,EAAU+rC,GAAWroE,EAAY,KACrC,OAAOs8B,IAAYA,EAAU,IAAIv2E,OAAO,0BAA2Bi6C,EAAY,IAAM+oE,GAAa,SAAWV,GAAWroE,GAAW,SAAU/0H,GAC3I,OAAOqxJ,EAAQ92J,KAA+B,iBAAnByF,EAAK+0H,WAA0B/0H,EAAK+0H,kBAAoB/0H,EAAK2D,eAAiB85L,IAAgBz9L,EAAK2D,aAAa,UAAY,GACzJ,GACF,EACAg7L,KAAM,SAAU9yM,EAAM44M,EAAUhzC,GAC9B,OAAO,SAAUzxJ,GACf,IAAIwR,EAASouL,GAAOz4K,KAAKnnB,EAAMnU,GAC/B,OAAc,MAAV2lB,EACkB,OAAbizL,GAEJA,IAGLjzL,GAAU,GACU,MAAbizL,EAAmBjzL,IAAWigJ,EAAqB,OAAbgzC,EAAoBjzL,IAAWigJ,EAAqB,OAAbgzC,EAAoBhzC,GAAmC,IAA1BjgJ,EAAO9hB,QAAQ+hK,GAA4B,OAAbgzC,EAAoBhzC,GAASjgJ,EAAO9hB,QAAQ+hK,IAAU,EAAiB,OAAbgzC,EAAoBhzC,GAASjgJ,EAAOrhB,OAAOshK,EAAMxkK,UAAYwkK,EAAqB,OAAbgzC,GAAqB,IAAMjzL,EAAS,KAAK9hB,QAAQ+hK,IAAU,EAAiB,OAAbgzC,IAAoBjzL,IAAWigJ,GAASjgJ,EAAOrhB,MAAM,EAAGshK,EAAMxkK,OAAS,KAAOwkK,EAAQ,KACra,CACF,EACAotC,MAAO,SAAUxzM,EAAMq5M,EAAM/D,EAAU/0I,EAAO3e,GAC5C,IAAIkC,EAA8B,QAArB9jD,EAAK8E,MAAM,EAAG,GAAcw0M,EAA6B,SAAnBt5M,EAAK8E,OAAO,GAAey0M,EAAkB,YAATF,EACvF,OAAiB,IAAV94I,GAAwB,IAAT3e,EAAa,SAAUjtC,GAC3C,QAASA,EAAK0B,UAChB,EAAI,SAAU1B,EAAMgrE,EAASo2H,GAC3B,IAAIxhH,EAAO0hH,EAAY9pM,EAAMgpM,EAAMqE,EAAWpuM,EAAO+7B,EAAM2c,IAAWw1J,EAAU,cAAgB,kBAAmBljM,EAASzB,EAAK0B,WAAY7V,EAAO+4M,GAAU5kM,EAAK9G,SAASC,cAAe2rM,GAAY1D,IAAQwD,EAC/M,GAAInjM,EAAQ,CACV,GAAI0tC,EAAQ,CACV,KAAO3c,GAAK,CAEV,IADAh7B,EAAOwI,EACAxI,EAAOA,EAAKg7B,IACjB,GAAIoyK,EAASptM,EAAK0B,SAASC,gBAAkBtN,EAAyB,IAAlB2L,EAAK6B,SACvD,OAAO,EAGX5C,EAAQ+7B,EAAe,SAATnnC,IAAoBoL,GAAS,aAC7C,CACA,OAAO,CACT,CAEA,GADAA,EAAQ,CAACkuM,EAAUljM,EAAOmI,WAAanI,EAAOwhL,WAC1C0hB,GAAWG,GAMb,IAHAD,GADAjlH,GADA0hH,EAAa7/L,EAAOy6L,MAAaz6L,EAAOy6L,IAAW,CAAC,IACjC7wM,IAAS,IACV,KAAO8xM,IAAWv9G,EAAM,GAC1C4gH,EAAO5gH,EAAM,KAAOu9G,IAAWv9G,EAAM,GACrCpoF,EAAOqtM,GAAapjM,EAAOxJ,WAAW4sM,GAC/BrtM,IAASqtM,GAAartM,GAAQA,EAAKg7B,KAASguK,EAAOqE,EAAY,IAAMpuM,EAAMupF,OAChF,GAAsB,IAAlBxoF,EAAK6B,YAAoBmnM,GAAQhpM,IAASwI,EAAM,CAClDshM,EAAWj2M,GAAQ,CACjB8xM,GACA0H,EACArE,GAEF,KACF,OAEG,GAAIsE,IAAallH,GAAS5/E,EAAKk8L,MAAal8L,EAAKk8L,IAAW,CAAC,IAAI7wM,KAAUu0F,EAAM,KAAOu9G,GAC7FqD,EAAO5gH,EAAM,QAEb,MAAOpoF,IAASqtM,GAAartM,GAAQA,EAAKg7B,KAASguK,EAAOqE,EAAY,IAAMpuM,EAAMupF,UAC3E4kH,EAASptM,EAAK0B,SAASC,gBAAkBtN,EAAyB,IAAlB2L,EAAK6B,cAAqBmnM,IACzEsE,KACDttM,EAAK0kM,MAAa1kM,EAAK0kM,IAAW,CAAC,IAAI7wM,GAAQ,CAC9C8xM,GACAqD,IAGAhpM,IAASwI,MAOnB,OADAwgM,GAAQvzJ,KACQ2e,GAAS40I,EAAO50I,GAAU,GAAK40I,EAAO50I,GAAS,CACjE,CACF,CACF,EACAgzI,OAAQ,SAAUmG,EAAQpE,GACxB,IAAIrzM,EAAMS,EAAKo4L,GAAK6X,QAAQ+G,IAAW5e,GAAK0a,WAAWkE,EAAO5rM,gBAAkBymM,GAAOznM,MAAM,uBAAyB4sM,GACtH,OAAIh3M,EAAGmuM,IACEnuM,EAAG4yM,GAER5yM,EAAGd,OAAS,GACdK,EAAO,CACLy3M,EACAA,EACA,GACApE,GAEKxa,GAAK0a,WAAWxxM,eAAe01M,EAAO5rM,eAAiBmnM,IAAa,SAAUT,EAAMngM,GAEzF,IADA,IAAImgF,EAAKmlH,EAAUj3M,EAAG8xM,EAAMc,GAAW5zM,EAAIi4M,EAAQ/3M,OAC5CF,KAEL8yM,EADAhgH,EAAMnwF,GAAQJ,KAAKuwM,EAAMmF,EAAQj4M,OACnB2S,EAAQmgF,GAAOmlH,EAAQj4M,GAEzC,IAAK,SAAUiT,GACb,OAAOjS,EAAGiS,EAAM,EAAG1S,EACrB,GAEKS,CACT,GAEFiwM,QAAS,CACP5vM,IAAKkyM,IAAa,SAAUvgM,GAC1B,IAAIqQ,EAAQ,GAAI7B,EAAU,GAAIyyL,EAAU1a,GAAQvmL,EAAS/I,QAAQinM,GAAO,OACxE,OAAO+C,EAAQ9E,IAAWoE,IAAa,SAAUT,EAAMngM,EAASsrE,EAASo2H,GAEvE,IADA,IAAIphM,EAAM2hM,EAAYX,EAAQnB,EAAM,KAAMuB,EAAK,IAAKr0M,EAAI8yM,EAAK5yM,OACtDF,MACDiT,EAAO2hM,EAAU50M,MACnB8yM,EAAK9yM,KAAO2S,EAAQ3S,GAAKiT,GAG/B,IAAK,SAAUA,EAAMgrE,EAASo2H,GAI5B,OAHAhxL,EAAM,GAAKpQ,EACXghM,EAAQ5wL,EAAO,KAAMgxL,EAAK7yL,GAC1B6B,EAAM,GAAK,MACH7B,EAAQyxE,KAClB,CACF,IACAh4D,IAAKs4K,IAAa,SAAUvgM,GAC1B,OAAO,SAAUC,GACf,OAAO4/L,GAAO7/L,EAAUC,GAAM/S,OAAS,CACzC,CACF,IACA8T,SAAUu/L,IAAa,SAAU/nM,GAE/B,OADAA,EAAOA,EAAKvB,QAAQsoM,GAAWC,IACxB,SAAUv/L,GACf,OAAQA,EAAKiK,aAAejK,EAAK29H,WAAar1D,GAAQtoE,IAAOtQ,QAAQ6I,IAAS,CAChF,CACF,IACAw6J,KAAMutC,IAAa,SAAUvtC,GAK3B,OAJKurC,GAAY/jM,KAAKw4J,GAAQ,KAC5B6sC,GAAOznM,MAAM,qBAAuB46J,GAEtCA,EAAOA,EAAK/7J,QAAQsoM,GAAWC,IAAWpmM,cACnC,SAAU6G,GACf,IAAIilM,EACJ,GACE,GAAIA,EAAWpe,GAAiB7mL,EAAK+yJ,KAAO/yJ,EAAK2D,aAAa,aAAe3D,EAAK2D,aAAa,QAE7F,OADAshM,EAAWA,EAAS9rM,iBACA45J,GAAyC,IAAjCkyC,EAASv1M,QAAQqjK,EAAO,YAE9C/yJ,EAAOA,EAAK0B,aAAiC,IAAlB1B,EAAK3G,UAC1C,OAAO,CACT,CACF,IACA+B,OAAQ,SAAU4E,GAChB,IAAI8xJ,EAAOj5J,OAAOwkK,UAAYxkK,OAAOwkK,SAASvL,KAC9C,OAAOA,GAAQA,EAAK3hK,MAAM,KAAO6P,EAAK/V,EACxC,EACAutC,KAAM,SAAUx3B,GACd,OAAOA,IAASq2I,EAClB,EACA/+G,MAAO,SAAUt3B,GACf,OAAOA,IAAS4mL,GAAWnvJ,iBAAmBmvJ,GAAWrvJ,UAAYqvJ,GAAWrvJ,gBAAkBv3B,EAAK3U,MAAQ2U,EAAKg7K,OAASh7K,EAAKywI,SACpI,EACAvmB,QAAS,SAAUlqH,GACjB,OAAyB,IAAlBA,EAAK6/C,QACd,EACAA,SAAU,SAAU7/C,GAClB,OAAyB,IAAlBA,EAAK6/C,QACd,EACA2V,QAAS,SAAUx1D,GACjB,IAAI9G,EAAW8G,EAAK9G,SAASC,cAC7B,MAAoB,UAAbD,KAA0B8G,EAAKw1D,SAAwB,WAAbt8D,KAA2B8G,EAAKqiD,QACnF,EACAA,SAAU,SAAUriD,GAIlB,OAHIA,EAAK0B,YACP1B,EAAK0B,WAAWwjM,eAEO,IAAlBllM,EAAKqiD,QACd,EACAr4C,MAAO,SAAUhK,GACf,IAAKA,EAAOA,EAAK4J,WAAY5J,EAAMA,EAAOA,EAAKwJ,YAC7C,GAAIxJ,EAAK3G,SAAW,EAClB,OAAO,EAGX,OAAO,CACT,EACAoI,OAAQ,SAAUzB,GAChB,OAAQmmL,GAAK6X,QAAQh0L,MAAMhK,EAC7B,EACAgmE,OAAQ,SAAUhmE,GAChB,OAAOi/L,GAAQ1kM,KAAKyF,EAAK9G,SAC3B,EACAkX,MAAO,SAAUpQ,GACf,OAAOg/L,GAAQzkM,KAAKyF,EAAK9G,SAC3B,EACA+nH,OAAQ,SAAUjhH,GAChB,IAAInU,EAAOmU,EAAK9G,SAASC,cACzB,MAAgB,UAATtN,GAAkC,WAAdmU,EAAK3U,MAA8B,WAATQ,CACvD,EACA0M,KAAM,SAAUyH,GACd,IAAImnB,EACJ,MAAuC,UAAhCnnB,EAAK9G,SAASC,eAA2C,SAAd6G,EAAK3U,OAA0D,OAArC87B,EAAOnnB,EAAK2D,aAAa,UAA2C,SAAvBwjB,EAAKhuB,cAChI,EACAyyD,MAAO80I,IAAuB,WAC5B,MAAO,CAAC,EACV,IACAzzJ,KAAMyzJ,IAAuB,SAAUE,EAAc3zM,GACnD,MAAO,CAACA,EAAS,EACnB,IACAqT,GAAIogM,IAAuB,SAAUE,EAAc3zM,EAAQ0zM,GACzD,MAAO,CAACA,EAAW,EAAIA,EAAW1zM,EAAS0zM,EAC7C,IACAwE,KAAMzE,IAAuB,SAAUE,EAAc3zM,GAEnD,IADA,IAAIF,EAAI,EACDA,EAAIE,EAAQF,GAAK,EACtB6zM,EAAa72M,KAAKgD,GAEpB,OAAO6zM,CACT,IACAwE,IAAK1E,IAAuB,SAAUE,EAAc3zM,GAElD,IADA,IAAIF,EAAI,EACDA,EAAIE,EAAQF,GAAK,EACtB6zM,EAAa72M,KAAKgD,GAEpB,OAAO6zM,CACT,IACAyE,GAAI3E,IAAuB,SAAUE,EAAc3zM,EAAQ0zM,GAEzD,IADA,IAAI5zM,EAAI4zM,EAAW,EAAIA,EAAW1zM,EAAS0zM,IAClC5zM,GAAK,GACZ6zM,EAAa72M,KAAKgD,GAEpB,OAAO6zM,CACT,IACA0E,GAAI5E,IAAuB,SAAUE,EAAc3zM,EAAQ0zM,GAEzD,IADA,IAAI5zM,EAAI4zM,EAAW,EAAIA,EAAW1zM,EAAS0zM,IAClC5zM,EAAIE,GACX2zM,EAAa72M,KAAKgD,GAEpB,OAAO6zM,CACT,MAGJza,GAAK6X,QAAQuH,IAAMpf,GAAK6X,QAAQ19L,GAChCw+K,EAAO,CACL,QACA,WACA,OACA,WACA,UACC,SAAU/xL,GACXo5L,GAAK6X,QAAQjxM,GA5hBf,SAA2B1B,GACzB,OAAO,SAAU2U,GAEf,MAAgB,UADLA,EAAK9G,SAASC,eACE6G,EAAK3U,OAASA,CAC3C,CACF,CAuhBoBm6M,CAAkBz4M,EACtC,IACA+xL,EAAO,CACL,SACA,UACC,SAAU/xL,GACXo5L,GAAK6X,QAAQjxM,GA5hBf,SAA4B1B,GAC1B,OAAO,SAAU2U,GACf,IAAInU,EAAOmU,EAAK9G,SAASC,cACzB,OAAiB,UAATtN,GAA6B,WAATA,IAAsBmU,EAAK3U,OAASA,CAClE,CACF,CAuhBoBo6M,CAAmB14M,EACvC,IAGA8zM,GAAWn1M,UAAYy6L,GAAKuf,QAAUvf,GAAK6X,QAC3C7X,GAAK0a,WAAa,IAAIA,GACtBxa,GAAWuZ,GAAOvZ,SAAW,SAAUtmL,EAAU4lM,GAC/C,IAAIX,EAAStkM,EAAOogM,EAAQz1M,EAAMu6M,EAAOhjE,EAAQijE,EAAYnsM,EAAS4jM,GAAWv9L,EAAW,KAC5F,GAAIrG,EACF,OAAOisM,EAAY,EAAIjsM,EAAOvJ,MAAM,GAKtC,IAHAy1M,EAAQ7lM,EACR6iI,EAAS,GACTijE,EAAa1f,GAAK4b,UACX6D,GAAO,CAgBZ,IAAKv6M,KAfA25M,KAAYtkM,EAAQw9L,GAAOthH,KAAKgpH,MAC/BllM,IACFklM,EAAQA,EAAMz1M,MAAMuQ,EAAM,GAAGzT,SAAW24M,GAE1ChjE,EAAO74I,KAAK+2M,EAAS,KAEvBkE,GAAU,GACNtkM,EAAQy9L,GAAavhH,KAAKgpH,MAC5BZ,EAAUtkM,EAAM23E,QAChByoH,EAAO/2M,KAAK,CACVuB,MAAO05M,EACP35M,KAAMqV,EAAM,GAAG1J,QAAQinM,GAAO,OAEhC2H,EAAQA,EAAMz1M,MAAM60M,EAAQ/3M,SAEjBk5L,GAAK50L,OACX40L,GAAK50L,OAAOlC,eAAehE,OAG3BqV,EAAQ69L,GAAUlzM,GAAMuxF,KAAKgpH,KAAaC,EAAWx6M,MAAUqV,EAAQmlM,EAAWx6M,GAAMqV,MAC3FskM,EAAUtkM,EAAM23E,QAChByoH,EAAO/2M,KAAK,CACVuB,MAAO05M,EACP35M,KAAMA,EACNqU,QAASgB,IAEXklM,EAAQA,EAAMz1M,MAAM60M,EAAQ/3M,UAGhC,IAAK+3M,EACH,KAEJ,CACA,OAAOW,EAAYC,EAAM34M,OAAS24M,EAAQhG,GAAOznM,MAAM4H,GAAYu9L,GAAWv9L,EAAU6iI,GAAQzyI,MAAM,EACxG,EAuNAm2L,GAAUsZ,GAAOtZ,QAAU,SAAUvmL,EAAUW,GAC7C,IAAI3T,EAAG+4M,EAAc,GAAIC,EAAkB,GAAIrsM,EAAS6jM,GAAcx9L,EAAW,KACjF,IAAKrG,EAAQ,CAKX,IAJKgH,IACHA,EAAQ2lL,GAAStmL,IAEnBhT,EAAI2T,EAAMzT,OACHF,MACL2M,EAASgpM,GAAkBhiM,EAAM3T,KACtBmvM,IACT4J,EAAY/7M,KAAK2P,GAEjBqsM,EAAgBh8M,KAAK2P,GAGzBA,EAAS6jM,GAAcx9L,EAxE3B,SAAkCgmM,EAAiBD,GACjD,IAAIE,EAAQF,EAAY74M,OAAS,EAAGg5M,EAAYF,EAAgB94M,OAAS,EAAGi5M,EAAe,SAAUrG,EAAM70H,EAASo2H,EAAK7yL,EAAS43L,GAC9H,IAAInmM,EAAMoP,EAAG4xL,EAASoF,EAAe,EAAGr5M,EAAI,IAAK40M,EAAY9B,GAAQ,GAAIwG,EAAa,GAAIC,EAAgB9f,GAAkBl+D,EAAQu3E,GAAQoG,GAAa9f,GAAK7mI,KAAKo/I,IAAI,IAAKyH,GAAYI,EAAgBpJ,IAA4B,MAAjBmJ,EAAwB,EAAIh7L,KAAKkW,UAAY,GAAKx0B,EAAMs7H,EAAMr7H,OAIjR,IAHIk5M,IACF3f,GAAmBx7G,IAAY47G,IAAc57G,GAExCj+E,IAAMC,GAA4B,OAApBgT,EAAOsoH,EAAMv7H,IAAaA,IAAK,CAClD,GAAIk5M,GAAajmM,EAAM,CAErB,IADAoP,EAAI,EACG4xL,EAAU+E,EAAgB32L,MAC/B,GAAI4xL,EAAQhhM,EAAMgrE,EAASo2H,GAAM,CAC/B7yL,EAAQxkB,KAAKiW,GACb,KACF,CAEEmmM,IACFhJ,GAAUoJ,EAEd,CACIP,KACEhmM,GAAQghM,GAAWhhM,IACrBomM,IAEEvG,GACF8B,EAAU53M,KAAKiW,GAGrB,CAEA,GADAomM,GAAgBr5M,EACZi5M,GAASj5M,IAAMq5M,EAAc,CAE/B,IADAh3L,EAAI,EACG4xL,EAAU8E,EAAY12L,MAC3B4xL,EAAQW,EAAW0E,EAAYr7H,EAASo2H,GAE1C,GAAIvB,EAAM,CACR,GAAIuG,EAAe,EACjB,KAAOr5M,KACC40M,EAAU50M,IAAMs5M,EAAWt5M,KAC/Bs5M,EAAWt5M,GAAKizF,GAAI1wF,KAAKif,IAI/B83L,EAAa3E,GAAS2E,EACxB,CACAzI,GAAOnwM,MAAM8gB,EAAS83L,GAClBF,IAActG,GAAQwG,EAAWp5M,OAAS,GAAKm5M,EAAeN,EAAY74M,OAAS,GACrF2yM,GAAOqE,WAAW11L,EAEtB,CAKA,OAJI43L,IACFhJ,GAAUoJ,EACV/f,GAAmB8f,GAEd3E,CACT,EACF,OAAOqE,EAAQ1F,GAAa4F,GAAgBA,CAC9C,CAgBqCM,CAAyBT,EAAiBD,IAC3EpsM,EAAOqG,SAAWA,CACpB,CACA,OAAOrG,CACT,EACA6sL,GAAWqZ,GAAOx9G,OAAS,SAAUriF,EAAUirE,EAASz8D,EAASsxL,GAC/D,IAAI9yM,EAAG+zM,EAAQ2F,EAAOp7M,EAAMi0D,EAAMonJ,EAA+B,mBAAb3mM,GAA2BA,EAAUW,GAASm/L,GAAQxZ,GAAStmL,EAAW2mM,EAAS3mM,UAAYA,GAEnJ,GADAwO,EAAUA,GAAW,GACA,IAAjB7N,EAAMzT,OAAc,CAEtB,IADA6zM,EAASpgM,EAAM,GAAKA,EAAM,GAAGvQ,MAAM,IACxBlD,OAAS,GAAkC,QAA5Bw5M,EAAQ3F,EAAO,IAAIz1M,MAAiB66L,GAAQz4F,SAAgC,IAArBziB,EAAQ3xE,UAAkBwtL,IAAkBV,GAAK7tJ,SAASwoK,EAAO,GAAGz1M,MAAO,CAE1J,KADA2/E,GAAWm7G,GAAK7mI,KAAKk/I,GAAGiI,EAAM/mM,QAAQ,GAAG1I,QAAQsoM,GAAWC,IAAYv0H,IAAY,IAAI,IAEtF,OAAOz8D,EACEm4L,IACT17H,EAAUA,EAAQtpE,YAEpB3B,EAAWA,EAAS5P,MAAM2wM,EAAOzoH,QAAQ/sF,MAAM2B,OACjD,CAEA,IADAF,EAAIwxM,GAAUQ,aAAaxkM,KAAKwF,GAAY,EAAI+gM,EAAO7zM,OAChDF,MACL05M,EAAQ3F,EAAO/zM,IACXo5L,GAAK7tJ,SAASjtC,EAAOo7M,EAAMp7M,QAG/B,IAAIi0D,EAAO6mI,GAAK7mI,KAAKj0D,MACfw0M,EAAOvgJ,EAAKmnJ,EAAM/mM,QAAQ,GAAG1I,QAAQsoM,GAAWC,IAAYH,GAAS7kM,KAAKumM,EAAO,GAAGz1M,OAAS80M,GAAYn1H,EAAQtpE,aAAespE,IAAU,CAG5I,GAFA81H,EAAOhhH,OAAO/yF,EAAG,KACjBgT,EAAW8/L,EAAK5yM,QAAUizM,GAAWY,IAGnC,OADAlD,GAAOnwM,MAAM8gB,EAASsxL,GACftxL,EAET,KACF,CAGN,CAEA,OADCm4L,GAAYpgB,GAAQvmL,EAAUW,IAAQm/L,EAAM70H,GAAU67G,GAAgBt4K,EAAS6wL,GAAS7kM,KAAKwF,IAAaogM,GAAYn1H,EAAQtpE,aAAespE,GACvIz8D,CACT,EACA23K,GAAQke,WAAalI,GAAQz4K,MAAM,IAAIvvB,KAAKspM,IAAWnrL,KAAK,MAAQ6pL,GACpEhW,GAAQie,mBAAqBzd,GAC7BC,KACAT,GAAQsd,cAAe,EAEvB,IAAIrgM,GAAM3Y,SACNT,GAAO0B,MAAMC,UAAU3B,KACvBoG,GAAQ1E,MAAMC,UAAUyE,MACxBw2M,GAAa,2CACbC,GAAU3K,GAAW1B,MACrBsM,GAAch4M,GAAM2wI,QAAQ,+BAC5BsnE,GAAY,SAAUpyM,GACxB,YAAsB,IAARA,CAChB,EACIvI,GAAW,SAAUuI,GACvB,MAAsB,iBAARA,CAChB,EAIIqyM,GAAmB,SAAUpvM,EAAMqvM,GAErC,IAGIxvM,EAHAkpB,GADJsmL,EAAUA,GAAW7jM,IACGrL,cAAc,OAClCmvM,EAAOD,EAAQ9mL,yBAGnB,IAFAQ,EAAU3oB,UAAYJ,EAEfH,EAAOkpB,EAAU9W,YACtBq9L,EAAKp9L,YAAYrS,GAEnB,OAAOyvM,CACT,EACIC,GAAgB,SAAUC,EAAaC,EAAYxlH,EAAUhuF,GAC/D,IAAI7G,EACJ,GAAIZ,GAASi7M,GACXA,EAAaL,GAAiBK,EAAYC,GAAmBF,EAAY,UACpE,GAAIC,EAAWn6M,SAAWm6M,EAAW/tM,SAAU,CAEpD,GADA+tM,EAAaE,GAASC,UAAUH,GAC5BxzM,EACF,IAAK7G,EAAIq6M,EAAWn6M,OAAS,EAAGF,GAAK,EAAGA,IACtCm6M,GAAcC,EAAaC,EAAWr6M,GAAI60F,EAAUhuF,QAGtD,IAAK7G,EAAI,EAAGA,EAAIq6M,EAAWn6M,OAAQF,IACjCm6M,GAAcC,EAAaC,EAAWr6M,GAAI60F,EAAUhuF,GAGxD,OAAOuzM,CACT,CACA,GAAIC,EAAW/tM,SAEb,IADAtM,EAAIo6M,EAAYl6M,OACTF,KACL60F,EAAStyF,KAAK63M,EAAYp6M,GAAIq6M,GAGlC,OAAOD,CACT,EACIK,GAAW,SAAUhwM,EAAMu9H,GAC7B,OAAOv9H,GAAQu9H,IAA8E,KAAhE,IAAMv9H,EAAKu9H,UAAY,KAAKrlI,QAAQ,IAAMqlI,EAAY,IACrF,EACIl8G,GAAS,SAAU9O,EAAUO,EAASpc,GACxC,IAAIu5M,EAAYC,EAahB,OAZAp9L,EAAUg9L,GAASh9L,GAAS,GAC5BP,EAAS5Y,MAAK,WACZ,IAAIS,EAAOrC,KACNrB,GAAOu5M,IAAe71M,EAAK8P,aAC9B+lM,EAAa71M,EAAK8P,WAClBgmM,EAAap9L,EAAQiW,WAAU,GAC/B3uB,EAAK8P,WAAW/W,aAAa+8M,EAAY91M,IAGzC81M,EAAW79L,YAAYjY,EAE3B,IACOmY,CACT,EACI49L,GAAgB94M,GAAM2wI,QAAQ,uEAAwE,KACtGooE,GAAa/4M,GAAM2wI,QAAQ,gGAAiG,KAC5HqoE,GAAU,CACZC,IAAK,UACLC,MAAO,YACPxxH,SAAU,YAERyxH,GAAS,CAAEC,MAAO,YAClBC,GAAY,CAAC,EAAGC,GAAW,CAAC,EAC5BC,GAAsB,SAAUroM,EAAUirE,GAC5C,OAAO,IAAIs8H,GAASv5M,GAAGo2B,KAAKpkB,EAAUirE,EACxC,EAcIq9H,GAAmB,aACnBtxM,GAAS,SAAUR,GACrB,OAAOA,QAAoC,IAAM,GAAKA,GAAKS,QAAQqxM,GAAkB,GACvF,EACIC,GAAS,SAAU5zM,EAAKktF,GAC1B,IAAI30F,EAAQyI,EAAK3I,EAAGzB,EACpB,GAAIoJ,EAEF,QAAe3J,KADfkC,EAASyH,EAAIzH,SAEX,IAAKyI,KAAOhB,EACV,GAAIA,EAAIrF,eAAeqG,KACrBpK,EAAQoJ,EAAIgB,IAC6B,IAArCksF,EAAStyF,KAAKhE,EAAOoK,EAAKpK,IAC5B,WAKN,IAAKyB,EAAI,EAAGA,EAAIE,IACd3B,EAAQoJ,EAAI3H,IAC2B,IAAnC60F,EAAStyF,KAAKhE,EAAOyB,EAAGzB,IAFNyB,KAQ5B,OAAO2H,CACT,EACI6zM,GAAS,SAAU71M,EAAOkvF,GAC5B,IAAIwwB,EAAM,GAMV,OALAk2F,GAAO51M,GAAO,SAAU3F,EAAGkY,GACrB28E,EAAS38E,EAAMlY,IACjBqlH,EAAIroH,KAAKkb,EAEb,IACOmtG,CACT,EACIi1F,GAAqB,SAAUpuM,GACjC,OAAKA,EAGoB,IAArBA,EAAQI,SACHJ,EAEFA,EAAQmI,cALN+B,EAMX,EACAilM,GAAoBr6M,GAAKq6M,GAAoB18M,UAAY,CACvDE,YAAaw8M,GACbroM,SAAU,GACVirE,QAAS,KACT/9E,OAAQ,EACRk3B,KAAM,SAAUpkB,EAAUirE,GACxB,IACItqE,EAAOlJ,EADP5F,EAAOrC,KAEX,IAAKwQ,EACH,OAAOnO,EAET,GAAImO,EAAS1G,SAGX,OAFAzH,EAAKo5E,QAAUp5E,EAAK,GAAKmO,EACzBnO,EAAK3E,OAAS,EACP2E,EAET,GAAIo5E,GAAWA,EAAQ3xE,SACrBzH,EAAKo5E,QAAUA,MACV,CACL,GAAIA,EACF,OAAOs8H,GAASvnM,GAAUonB,KAAK6jD,GAEjCp5E,EAAKo5E,QAAUA,EAAUxgF,QAC3B,CACA,GAAI2B,GAAS4T,GAAW,CAWtB,GAVAnO,EAAKmO,SAAWA,IAEdW,EADyB,MAAvBX,EAASkpE,OAAO,IAAuD,MAAzClpE,EAASkpE,OAAOlpE,EAAS9S,OAAS,IAAc8S,EAAS9S,QAAU,EAC3F,CACN,KACA8S,EACA,MAGM4mM,GAAW/pH,KAAK78E,IAqBxB,OAAOunM,GAASt8H,GAAS1rB,KAAKv/C,GAlB9B,GAAIW,EAAM,GAER,IADAlJ,EAAOuvM,GAAiBhnM,EAAUsnM,GAAmBr8H,IAAUphE,WACxDpS,GACLzN,GAAKuF,KAAKsC,EAAM4F,GAChBA,EAAOA,EAAKgS,gBAET,CAEL,KADAhS,EAAO6vM,GAAmBr8H,GAASu6C,eAAe7kH,EAAM,KAEtD,OAAO9O,EAET,GAAI4F,EAAKvN,KAAOyW,EAAM,GACpB,OAAO9O,EAAK0tD,KAAKv/C,GAEnBnO,EAAK3E,OAAS,EACd2E,EAAK,GAAK4F,CACZ,CAIJ,MACEjI,KAAKrE,IAAI6U,GAAU,GAErB,OAAOnO,CACT,EACAJ,QAAS,WACP,OAAO3C,GAAM2C,QAAQjC,KACvB,EACArE,IAAK,SAAUorD,EAAOpiD,GACpB,IACIixL,EAAOp4L,EADP6E,EAAOrC,KAEX,GAAIpD,GAASmqD,GACX,OAAO1kD,EAAK1G,IAAIo8M,GAAShxJ,IAE3B,IAAa,IAATpiD,EAGF,IAFAixL,EAAQmiB,GAASpmL,OAAOtvB,EAAKJ,UAAUrD,OAAOm5M,GAASC,UAAUjxJ,KACjE1kD,EAAK3E,OAASk4L,EAAMl4L,OACfF,EAAI,EAAGA,EAAIo4L,EAAMl4L,OAAQF,IAC5B6E,EAAK7E,GAAKo4L,EAAMp4L,QAGlBhD,GAAK0D,MAAMmE,EAAM01M,GAASC,UAAUjxJ,IAEtC,OAAO1kD,CACT,EACAu1B,KAAM,SAAUt7B,EAAMP,GACpB,IACIk9M,EADA52M,EAAOrC,KAEX,GAAoB,iBAAT1D,EACTy8M,GAAOz8M,GAAM,SAAUA,EAAMP,GAC3BsG,EAAKu1B,KAAKt7B,EAAMP,EAClB,QACK,KAAIw7M,GAAUx7M,GAgBd,CACL,GAAIsG,EAAK,IAA2B,IAArBA,EAAK,GAAGyH,SAAgB,CAErC,IADAmvM,EAAON,GAAUr8M,KACL28M,EAAKhjM,IACf,OAAOgjM,EAAKhjM,IAAI5T,EAAK,GAAI/F,GAE3B,GAAI+7M,GAAW/7M,GACb,OAAO+F,EAAKgd,KAAK/iB,GAAQA,OAAOd,EAGpB,QADdO,EAAQsG,EAAK,GAAG+R,aAAa9X,EAAM,MAEjCP,OAAQP,EAEZ,CACA,OAAOO,CACT,CA9BEiE,KAAK4B,MAAK,WACR,IAAIq3M,EACJ,GAAsB,IAAlBj5M,KAAK8J,SAAgB,CAEvB,IADAmvM,EAAON,GAAUr8M,KACL28M,EAAK1iM,IAEf,YADA0iM,EAAK1iM,IAAIvW,KAAMjE,GAGH,OAAVA,EACFiE,KAAKyU,gBAAgBnY,EAAM,GAE3B0D,KAAK+T,aAAazX,EAAMP,EAAO,EAEnC,CACF,GAgBF,CACA,OAAOsG,CACT,EACA62M,WAAY,SAAU58M,GACpB,OAAO0D,KAAK43B,KAAKt7B,EAAM,KACzB,EACA+iB,KAAM,SAAU/iB,EAAMP,GACpB,IAAIsG,EAAOrC,KAEX,GAAoB,iBADpB1D,EAAOg8M,GAAQh8M,IAASA,GAEtBy8M,GAAOz8M,GAAM,SAAUA,EAAMP,GAC3BsG,EAAKgd,KAAK/iB,EAAMP,EAClB,QACK,KAAIw7M,GAAUx7M,GAOnB,OAAIsG,EAAK,IAAMA,EAAK,GAAGyH,UAAYxN,KAAQ+F,EAAK,GACvCA,EAAK,GAAG/F,GAEVP,EATPiE,KAAK4B,MAAK,WACc,IAAlB5B,KAAK8J,WACP9J,KAAK1D,GAAQP,EAEjB,GAMF,CACA,OAAOsG,CACT,EACA4S,IAAK,SAAU3Y,EAAMP,GACnB,IACI28E,EAAKugI,EADL52M,EAAOrC,KAEPm5M,EAAQ,SAAU78M,GACpB,OAAOA,EAAKmL,QAAQ,UAAU,SAAU9K,EAAG2B,GACzC,OAAOA,EAAEwuF,aACX,GACF,EACIssH,EAAS,SAAU98M,GACrB,OAAOA,EAAKmL,QAAQ,UAAU,SAAU9K,GACtC,MAAO,IAAMA,CACf,GACF,EACA,GAAoB,iBAATL,EACTy8M,GAAOz8M,GAAM,SAAUA,EAAMP,GAC3BsG,EAAK4S,IAAI3Y,EAAMP,EACjB,SAEA,GAAIw7M,GAAUx7M,GACZO,EAAO68M,EAAM78M,GACQ,iBAAVP,GAAuBq8M,GAAc97M,KAC9CP,EAAQA,EAAMmG,WAAa,MAE7BG,EAAKT,MAAK,WACR,IAAIkG,EAAQ9H,KAAK8H,MAEjB,IADAmxM,EAAOL,GAASt8M,KACJ28M,EAAK1iM,IACf0iM,EAAK1iM,IAAIvW,KAAMjE,OADjB,CAIA,IACEiE,KAAK8H,MAAM2wM,GAAOn8M,IAASA,GAAQP,CAErC,CADE,MAAOioG,GACT,CACc,OAAVjoG,GAA4B,KAAVA,IAChB+L,EAAMgN,eACRhN,EAAMgN,eAAeskM,EAAO98M,IAE5BwL,EAAM2M,gBAAgBnY,GAT1B,CAYF,QACK,CAGL,GAFAo8E,EAAMr2E,EAAK,IACX42M,EAAOL,GAASt8M,KACJ28M,EAAKhjM,IACf,OAAOgjM,EAAKhjM,IAAIyiE,GAElB,IAAIA,EAAI7mE,cAAcI,YAMf,OAAIymE,EAAI2gI,aACN3gI,EAAI2gI,aAAaF,EAAM78M,IAEvB,GARP,IACE,OAAOo8E,EAAI7mE,cAAcI,YAAYmD,iBAAiBsjE,EAAK,MAAM3wE,iBAAiBqxM,EAAO98M,GAG3F,CAFE,MAAO0nG,GACP,MACF,CAMJ,CAEF,OAAO3hG,CACT,EACAm2B,OAAQ,WAGN,IAFA,IACIvwB,EAAMzK,EAAIwC,KAAKtC,OACZF,KACLyK,EAHSjI,KAGGxC,GACZ65M,GAAQ3J,MAAMzlM,GACVA,EAAKkK,YACPlK,EAAKkK,WAAW0I,YAAY5S,GAGhC,OAAOjI,IACT,EACAya,MAAO,WAGL,IAFA,IACIxS,EAAMzK,EAAIwC,KAAKtC,OACZF,KAEL,IADAyK,EAHSjI,KAGGxC,GACLyK,EAAKoS,YACVpS,EAAK4S,YAAY5S,EAAKoS,YAG1B,OAAOra,IACT,EACAoI,KAAM,SAAUrM,GACd,IACIyB,EADA6E,EAAOrC,KAEX,GAAIu3M,GAAUx7M,GAAQ,CACpByB,EAAI6E,EAAK3E,OACT,IACE,KAAOF,KACL6E,EAAK7E,GAAGgL,UAAYzM,CAIxB,CAFE,MAAOioG,GACP+zG,GAAS11M,EAAK7E,IAAIid,QAAQpf,OAAOU,EACnC,CACA,OAAOsG,CACT,CACA,OAAOA,EAAK,GAAKA,EAAK,GAAGmG,UAAY,EACvC,EACAQ,KAAM,SAAUjN,GACd,IACIyB,EADA6E,EAAOrC,KAEX,GAAIu3M,GAAUx7M,GAAQ,CAEpB,IADAyB,EAAI6E,EAAK3E,OACFF,KACD,cAAe6E,EAAK7E,GACtB6E,EAAK7E,GAAG4wI,UAAYryI,EAEpBsG,EAAK,GAAGqY,YAAc3e,EAG1B,OAAOsG,CACT,CACA,OAAOA,EAAK,GAAKA,EAAK,GAAG+rI,WAAa/rI,EAAK,GAAGqY,YAAc,EAC9D,EACArf,OAAQ,WACN,OAAOs8M,GAAc33M,KAAM/B,WAAW,SAAUgK,IACxB,IAAlBjI,KAAK8J,UAAkB9J,KAAK6S,MAA+B,IAAvB7S,KAAK6S,KAAK/I,WAChD9J,KAAKsa,YAAYrS,EAErB,GACF,EACAu7D,QAAS,WACP,OAAOm0I,GAAc33M,KAAM/B,WAAW,SAAUgK,IACxB,IAAlBjI,KAAK8J,UAAkB9J,KAAK6S,MAA+B,IAAvB7S,KAAK6S,KAAK/I,WAChD9J,KAAK5E,aAAa6M,EAAMjI,KAAKqa,WAEjC,IAAG,EACL,EACAm+B,OAAQ,WACN,IAAIn2C,EAAOrC,KACX,OAAIqC,EAAK,IAAMA,EAAK,GAAG8P,WACdwlM,GAAct1M,EAAMpE,WAAW,SAAUgK,GAC9CjI,KAAKmS,WAAW/W,aAAa6M,EAAMjI,KACrC,IAEKqC,CACT,EACAo2C,MAAO,WACL,IAAIp2C,EAAOrC,KACX,OAAIqC,EAAK,IAAMA,EAAK,GAAG8P,WACdwlM,GAAct1M,EAAMpE,WAAW,SAAUgK,GAC9CjI,KAAKmS,WAAW/W,aAAa6M,EAAMjI,KAAKia,YAC1C,IAAG,GAEE5X,CACT,EACAi3M,SAAU,SAAUjjM,GAElB,OADA0hM,GAAS1hM,GAAKhb,OAAO2E,MACdA,IACT,EACAu5M,UAAW,SAAUljM,GAEnB,OADA0hM,GAAS1hM,GAAKmtD,QAAQxjE,MACfA,IACT,EACAw5M,YAAa,SAAUhpL,GACrB,OAAOxwB,KAAKw4C,OAAOhoB,GAASgI,QAC9B,EACAopG,KAAM,SAAUpxG,GACd,OAAOlH,GAAOtpB,KAAMwwB,EACtB,EACAjH,QAAS,SAAUiH,GACjB,OAAOlH,GAAOtpB,KAAMwwB,GAAS,EAC/B,EACAipL,UAAW,SAAUjpL,GAInB,OAHAxwB,KAAK4B,MAAK,WACRm2M,GAAS/3M,MAAM6kD,WAAWt7B,QAAQiH,EACpC,IACOxwB,IACT,EACA8a,OAAQ,WACN,OAAO9a,KAAKkS,SAAStQ,MAAK,WACxBm2M,GAAS/3M,MAAMw5M,YAAYx5M,KAAK0I,WAClC,GACF,EACA0oB,MAAO,WACL,IAAInP,EAAS,GAIb,OAHAjiB,KAAK4B,MAAK,WACRqgB,EAAOznB,KAAKwF,KAAKgxB,WAAU,GAC7B,IACO+mL,GAAS91L,EAClB,EACAs3I,SAAU,SAAU/zB,GAClB,OAAOxlI,KAAKklE,YAAYsgE,GAAW,EACrC,EACAg0B,YAAa,SAAUh0B,GACrB,OAAOxlI,KAAKklE,YAAYsgE,GAAW,EACrC,EACAtgE,YAAa,SAAUsgE,EAAWnsG,GAChC,IAAIh3B,EAAOrC,KACX,MAAyB,iBAAdwlI,KAGqB,IAA5BA,EAAUrlI,QAAQ,KACpB44M,GAAOvzE,EAAUtxG,MAAM,MAAM,WAC3B7xB,EAAK6iE,YAAYllE,KAAMq5B,EACzB,IAEAh3B,EAAKT,MAAK,SAAU2Q,EAAOtK,GACzB,IAAIyxM,EAAazB,GAAShwM,EAAMu9H,GAChC,GAAIk0E,IAAergL,EAAO,CACxB,IAAIsgL,EAAoB1xM,EAAKu9H,UACzBk0E,EACFzxM,EAAKu9H,UAAYh+H,IAAQ,IAAMmyM,EAAoB,KAAKlyM,QAAQ,IAAM+9H,EAAY,IAAK,MAEvFv9H,EAAKu9H,WAAam0E,EAAoB,IAAMn0E,EAAYA,CAE5D,CACF,KAjBOnjI,CAoBX,EACA41M,SAAU,SAAUzyE,GAClB,OAAOyyE,GAASj4M,KAAK,GAAIwlI,EAC3B,EACA5jI,KAAM,SAAUywF,GACd,OAAO0mH,GAAO/4M,KAAMqyF,EACtB,EACA7kD,GAAI,SAAUlxC,EAAM+1F,GAClB,OAAOryF,KAAK4B,MAAK,WACfy1M,GAAQx1M,KAAK7B,KAAM1D,EAAM+1F,EAC3B,GACF,EACA3kD,IAAK,SAAUpxC,EAAM+1F,GACnB,OAAOryF,KAAK4B,MAAK,WACfy1M,GAAQ19L,OAAO3Z,KAAM1D,EAAM+1F,EAC7B,GACF,EACAunH,QAAS,SAAUt9M,GACjB,OAAO0D,KAAK4B,MAAK,WACK,iBAATtF,EACT+6M,GAAQroH,KAAKhvF,KAAM1D,EAAKR,KAAMQ,GAE9B+6M,GAAQroH,KAAKhvF,KAAM1D,EAEvB,GACF,EACA4nF,KAAM,WACJ,OAAOlkF,KAAKiV,IAAI,UAAW,GAC7B,EACAg8D,KAAM,WACJ,OAAOjxE,KAAKiV,IAAI,UAAW,OAC7B,EACArU,MAAO,WACL,OAAOm3M,GAASn3M,GAAM1C,MAAM8B,KAAM/B,WACpC,EACA8S,GAAI,SAAUwB,GACZ,OAAkB,IAAXA,EAAevS,KAAKY,MAAM2R,GAASvS,KAAKY,MAAM2R,GAAQA,EAAQ,EACvE,EACA8pD,MAAO,WACL,OAAOr8D,KAAK+Q,GAAG,EACjB,EACA2sC,KAAM,WACJ,OAAO19C,KAAK+Q,IAAI,EAClB,EACAg/C,KAAM,SAAUv/C,GACd,IAAIhT,EAAGmD,EACHif,EAAM,GACV,IAAKpiB,EAAI,EAAGmD,EAAIX,KAAKtC,OAAQF,EAAImD,EAAGnD,IAClCu6M,GAAShoJ,KAAKv/C,EAAUxQ,KAAKxC,GAAIoiB,GAEnC,OAAOm4L,GAASn4L,EAClB,EACA5d,OAAQ,SAAUwO,GAChB,OACSunM,GADe,mBAAbvnM,EACOwoM,GAAOh5M,KAAKiC,WAAW,SAAUyT,EAAMlY,GACrD,OAAOgT,EAAShT,EAAGkY,EACrB,IAEcqiM,GAAS/1M,OAAOwO,EAAUxQ,KAAKiC,WACjD,EACA63F,QAAS,SAAUtpF,GACjB,IAAIyR,EAAS,GAgBb,OAfIzR,aAAoBunM,KACtBvnM,EAAWA,EAAS,IAEtBxQ,KAAK4B,MAAK,SAAUpE,EAAGyK,GACrB,KAAOA,GAAM,CACX,GAAwB,iBAAbuI,GAAyBunM,GAAS9vM,GAAMsI,GAAGC,GAAW,CAC/DyR,EAAOznB,KAAKyN,GACZ,KACF,CAAO,GAAIA,IAASuI,EAAU,CAC5ByR,EAAOznB,KAAKyN,GACZ,KACF,CACAA,EAAOA,EAAKkK,UACd,CACF,IACO4lM,GAAS91L,EAClB,EACAvP,OAAQ,SAAUA,GAChB,IAAIgmE,EAAK9kE,EAAKzK,EACI8gC,EAAdjuC,EAAI,EAAGoN,EAAI,EACf,OAAKsJ,EAgBE1S,KAAKiV,IAAIvC,KAfdgmE,EAAM14E,KAAK,MAGTmJ,GADAyK,EAAM8kE,EAAI7mE,eACGG,gBACT0mE,EAAI7hE,wBAEN7a,GADAiuC,EAAMyuC,EAAI7hE,yBACFpQ,MAAQ0C,EAAO0O,YAAcjE,EAAIR,KAAKyE,YAAc1O,EAAO6O,WACnE5O,EAAI6gC,EAAI9yB,KAAOhO,EAAOwO,WAAa/D,EAAIR,KAAKuE,WAAaxO,EAAO4O,YAG7D,CACLtR,KAAMzK,EACNmb,IAAK/N,GAIX,EACA5O,KAAMA,GACNmK,KAAMzI,MAAMC,UAAUwI,KACtB4rF,OAAQr0F,MAAMC,UAAUo0F,QAE1BjxF,GAAM6yL,OAAO0mB,GAAqB,CAChC1mB,OAAQ7yL,GAAM6yL,OACd6lB,UAAW,SAAU6B,GACnB,OAplBqB10M,EAolBR00M,IAnlBD10M,IAAQA,EAAImE,QAmlBAuwM,EAAO/vM,SACtB,CAAC+vM,GAEHv6M,GAAM2C,QAAQ43M,GAvlBV,IAAU10M,CAwlBvB,EACA8sL,QAnhBc,SAAUv8K,EAAMvS,GAC9B,IAAI3F,EACJ,GAAI2F,EAAMhD,QACR,OAAOgD,EAAMhD,QAAQuV,GAGvB,IADAlY,EAAI2F,EAAMzF,OACHF,KACL,GAAI2F,EAAM3F,KAAOkY,EACf,OAAOlY,EAGX,OAAQ,CACV,EAwgBEV,QAASwC,GAAMxC,QACf8E,KAAMm3M,GACNl9J,KAAMr0C,GACNwqL,KAAMgnB,GACNjpJ,KAAMsgJ,GACNgE,KAAMhE,GAAOxwI,UACbluC,OAAQ0+K,GAAOqE,WACf1rM,KAAMqnM,GAAOt3H,QACbvnE,SAAU6+L,GAAO7+L,SACjBxP,OAAQ,SAAUqyM,EAAMt7E,EAAOl6H,GAC7B,IAAIrB,EAAIu7H,EAAMr7H,OAId,IAHImB,IACFw1M,EAAO,QAAUA,EAAO,KAEnB72M,KACqB,IAAtBu7H,EAAMv7H,GAAGsM,UACXivH,EAAMxoC,OAAO/yF,EAAG,GAQpB,OAJEu7H,EADmB,IAAjBA,EAAMr7H,OACAq6M,GAAShoJ,KAAKukJ,gBAAgBv7E,EAAM,GAAIs7E,GAAQ,CAACt7E,EAAM,IAAM,GAE7Dg/E,GAAShoJ,KAAK5/C,QAAQkkM,EAAMt7E,EAGxC,IAEF,IAAI91F,GAAM,SAAUloC,EAAIskB,EAAMrb,GAC5B,IAAIyxM,EAAU,GACV5tB,EAAM9sL,EAAGskB,GAIb,IAHqB,iBAAVrb,GAAsBA,aAAiB+zM,KAChD/zM,EAAQA,EAAM,IAET6jL,GAAwB,IAAjBA,EAAI/9K,UAAgB,CAChC,QAActO,IAAVwI,EAAqB,CACvB,GAAI6jL,IAAQ7jL,EACV,MAEF,GAAqB,iBAAVA,GAAsB+zM,GAASlwB,GAAKt3K,GAAGvM,GAChD,KAEJ,CACqB,IAAjB6jL,EAAI/9K,UACN2rM,EAAQj7M,KAAKqtL,GAEfA,EAAMA,EAAIxoK,EACZ,CACA,OAAOo2L,CACT,EACIqE,GAAY,SAAU7xM,EAAM2yL,EAAa9wL,EAAU9F,GACrD,IAAIie,EAAS,GAIb,IAHIje,aAAiB+zM,KACnB/zM,EAAQA,EAAM,IAETiE,EAAMA,EAAOA,EAAK2yL,GACvB,IAAI9wL,GAAY7B,EAAK6B,WAAaA,EAAlC,CAGA,QAActO,IAAVwI,EAAqB,CACvB,GAAIiE,IAASjE,EACX,MAEF,GAAqB,iBAAVA,GAAsB+zM,GAAS9vM,GAAMsI,GAAGvM,GACjD,KAEJ,CACAie,EAAOznB,KAAKyN,EATZ,CAWF,OAAOga,CACT,EACI83L,GAAe,SAAU9xM,EAAM2yL,EAAa9wL,GAC9C,IAAK7B,EAAOA,EAAK2yL,GAAc3yL,EAAMA,EAAOA,EAAK2yL,GAC/C,GAAI3yL,EAAK6B,WAAaA,EACpB,OAAO7B,EAGX,OAAO,IACT,EACA8wM,GAAO,CACL7mM,OAAQ,SAAUjK,GAChB,IAAIiK,EAASjK,EAAKkK,WAClB,OAAOD,GAA8B,KAApBA,EAAOpI,SAAkBoI,EAAS,IACrD,EACAshK,QAAS,SAAUvrK,GACjB,OAAOg7B,GAAIh7B,EAAM,aACnB,EACAopC,KAAM,SAAUppC,GACd,OAAO8xM,GAAa9xM,EAAM,cAAe,EAC3C,EACAozI,KAAM,SAAUpzI,GACd,OAAO8xM,GAAa9xM,EAAM,kBAAmB,EAC/C,EACAoK,SAAU,SAAUpK,GAClB,OAAO6xM,GAAU7xM,EAAKoS,WAAY,cAAe,EACnD,EACAwqC,SAAU,SAAU58C,GAClB,OAAO3I,GAAM2C,SAA2B,WAAlBgG,EAAK0B,SAAwB1B,EAAK+xM,iBAAmB/xM,EAAKw2G,cAAcxjH,SAAWgN,GAAMS,WACjH,IACC,SAAUpM,EAAMkC,GACjBq6M,GAAoBr6M,GAAGlC,GAAQ,SAAUkU,GACvC,IACIyR,EAAS,GADFjiB,KAEN4B,MAAK,WACR,IAAIg0L,EAAQp3L,EAAGuB,KAAKkiB,EAAQjiB,KAAMwQ,EAAUyR,GACxC2zK,IACEmiB,GAASj7M,QAAQ84L,GACnB3zK,EAAOznB,KAAK0D,MAAM+jB,EAAQ2zK,GAE1B3zK,EAAOznB,KAAKo7L,GAGlB,IACI51L,KAAKtC,OAAS,IACX45M,GAAYh7M,KACf2lB,EAAS81L,GAASpmL,OAAO1P,IAEK,IAA5B3lB,EAAK6D,QAAQ,aACf8hB,EAASA,EAAO5d,YAGpB,IAAI41M,EAAgBlC,GAAS91L,GAC7B,OAAIzR,EACKypM,EAAcj4M,OAAOwO,GAEvBypM,CACT,CACF,IACAlB,GAAO,CACLmB,aAAc,SAAUjyM,EAAMjE,GAC5B,OAAOi/B,GAAIh7B,EAAM,aAAcjE,EACjC,EACAm2M,UAAW,SAAUlyM,EAAMjE,GACzB,OAAO81M,GAAU7xM,EAAM,cAAe,EAAGjE,GAAOpD,MAAM,EACxD,EACAw5M,UAAW,SAAUnyM,EAAMjE,GACzB,OAAO81M,GAAU7xM,EAAM,kBAAmB,EAAGjE,GAAOpD,MAAM,EAC5D,IACC,SAAUtE,EAAMkC,GACjBq6M,GAAoBr6M,GAAGlC,GAAQ,SAAUkU,EAAUxO,GACjD,IACIigB,EAAS,GADFjiB,KAEN4B,MAAK,WACR,IAAIg0L,EAAQp3L,EAAGuB,KAAKkiB,EAAQjiB,KAAMwQ,EAAUyR,GACxC2zK,IACEmiB,GAASj7M,QAAQ84L,GACnB3zK,EAAOznB,KAAK0D,MAAM+jB,EAAQ2zK,GAE1B3zK,EAAOznB,KAAKo7L,GAGlB,IACI51L,KAAKtC,OAAS,IAChBukB,EAAS81L,GAASpmL,OAAO1P,GACO,IAA5B3lB,EAAK6D,QAAQ,YAA6B,cAAT7D,IACnC2lB,EAASA,EAAO5d,YAGpB,IAAI41M,EAAgBlC,GAAS91L,GAC7B,OAAIjgB,EACKi4M,EAAcj4M,OAAOA,GAEvBi4M,CACT,CACF,IACApB,GAAoBr6M,GAAG+R,GAAK,SAAUC,GACpC,QAASA,GAAYxQ,KAAKgC,OAAOwO,GAAU9S,OAAS,CACtD,EACAm7M,GAAoBr6M,GAAGo2B,KAAKz4B,UAAY08M,GAAoBr6M,GAC5Dq6M,GAAoBwB,iBAAmB,SAAUhoH,GAC/C,IAAInmC,EACAouJ,EAAM,SAAU9pM,EAAUirE,GAQ5B,OAPAvvB,EAAWA,GAAYmmC,IACE,IAArBp0F,UAAUP,SACZ8S,EAAW07C,EAASxiD,SAEjB+xE,IACHA,EAAUvvB,EAASuvB,SAEd,IAAI6+H,EAAI97M,GAAGo2B,KAAKpkB,EAAUirE,EACnC,EAEA,OADAs8H,GAAS5lB,OAAOmoB,EAAKt6M,MACds6M,CACT,EACAzB,GAAoBF,UAAYA,GAChCE,GAAoBD,SAAWA,GAC/B,IAAIb,GAAWc,GAEX0B,GAASj7M,GAAMsC,KACf44M,GAASl7M,GAAM0yL,KACfjlL,GAAOikL,GAAI5jL,GACXqtM,GAAmB,mBA2CnBC,GAA0B,SAAUplL,EAAQqlL,GAC9C,IAAIn+F,EAAWm+F,EAAK/iL,KAAK,SACrB77B,EAAQu5B,EAAO20K,UAAU30K,EAAO0a,MAAMwsE,GAAWm+F,EAAK,GAAGhxM,UACxD5N,IACHA,EAAQ,MAEV4+M,EAAK/iL,KAAK,iBAAkB77B,EAC9B,EACI6+M,GAAgB,SAAU3yM,EAAM4yM,GAClC,IAAaC,EAAchxM,EAAvBwmF,EAAM,EACV,GAAIroF,EACF,IAAK6yM,EAAe7yM,EAAK6B,SAAU7B,EAAOA,EAAKsrL,gBAAiBtrL,EAAMA,EAAOA,EAAKsrL,gBAChFzpL,EAAW7B,EAAK6B,WACZ+wM,GAA2B,IAAb/wM,GACZA,IAAagxM,GAAiB7yM,EAAKuzC,UAAU99C,UAInD4yF,IACAwqH,EAAehxM,GAGnB,OAAOwmF,CACT,EACIyqH,GAAW,SAAUnnM,EAAKoiE,QACX,IAAbA,IACFA,EAAW,CAAC,GAEd,IAAIglI,EAAc,CAAC,EACfxjM,EAAMlO,OACN0zG,EAAQ,CAAC,EACTi+F,EAAU,EAGVpwD,EAAmBjzB,GAASuiE,WAAWjyL,GAAaF,QAAQ4L,GAAM,CACpE6lL,eAAgBzjH,EAASyjH,eACzBC,eAAgB1jH,EAAS0jH,iBAEvBwhB,EAAc,GACdn3L,EAASiyD,EAASjyD,OAASiyD,EAASjyD,OAAS09K,GAAO,CAAC,GACrDnsK,EAAS+yK,GAAO,CAClBW,cAAehzH,EAASgzH,cACxBE,oBAAqBlzH,EAASkzH,qBAC7BlzH,EAASjyD,QACR2N,EAASskD,EAASmlI,UAAY,IAAIzO,GAAeA,GAAW1B,MAC5DlH,EAAmB//K,EAAO0jL,mBAC1B2T,EAAIrD,GAASsC,kBAAiB,WAChC,MAAO,CACL5+H,QAAS7nE,EACTlK,QAASrH,EAAKm3E,UAElB,IAYIvjE,EAAM,SAAUyiE,GAClB,OAAOA,GAAO9kE,GAAOq7K,EAAWv2G,GAAO9kE,EAAIoiH,eAAet9C,GAAOA,CACnE,EACI2iI,EAAK,SAAU3iI,GACjB,OAAO0iI,EAAiB,iBAAR1iI,EAAmBziE,EAAIyiE,GAAOA,EAChD,EACI4iI,EAAY,SAAU5iI,EAAKp8E,EAAMi/M,GACnC,IAAItC,EAAMl9M,EACN4+M,EAAOU,EAAG3iI,GAYd,OAXIiiI,EAAKj9M,SAGL3B,GAFFk9M,EAAON,EAAUr8M,KACL28M,EAAKhjM,IACPgjM,EAAKhjM,IAAI0kM,EAAMr+M,GAEfq+M,EAAK/iL,KAAKt7B,SAGD,IAAVP,IACTA,EAAQw/M,GAAc,IAEjBx/M,CACT,EACIy/M,EAAa,SAAU9iI,GACzB,IAAIzwE,EAAOgO,EAAIyiE,GACf,OAAKzwE,EAGEA,EAAKotB,WAFH,EAGX,EACIomL,EAAY,SAAU/iI,EAAKp8E,EAAMP,GACrB,KAAVA,IACFA,EAAQ,MAEV,IAAI4+M,EAAOU,EAAG3iI,GACVgjI,EAAgBf,EAAK/iL,KAAKt7B,GAC9B,GAAKq+M,EAAKj9M,OAAV,CAGA,IAAIu7M,EAAON,EAAUr8M,GACjB28M,GAAQA,EAAK1iM,IACf0iM,EAAK1iM,IAAIokM,EAAM5+M,EAAOO,GAEtBq+M,EAAK/iL,KAAKt7B,EAAMP,GAEd2/M,IAAkB3/M,GAASi6E,EAAS2lI,aACtC3lI,EAAS2lI,YAAY,CACnBC,QAASjB,EACT/lB,SAAUt4L,EACVo6L,UAAW36L,GAXf,CAcF,EAYIy9E,EAAU,WACZ,OAAOxD,EAAS6lI,cAAgBjoM,EAAIR,IACtC,EAUI0oM,EAAW,SAAUpjI,EAAK0gE,GAC5B,OAAOitB,GAAOzyJ,EAAIR,KAAM6C,EAAIyiE,GAAM0gE,EACpC,EAaIx0D,EAAW,SAAUlM,EAAKp8E,EAAMq4L,GAClC,IAAIgmB,EAAOU,EAAG3iI,GACd,OAAIi8G,EACKgmB,EAAK1lM,IAAI3Y,IAKL,WAHbA,EAAOA,EAAKmL,QAAQ,UAAU,SAAU9K,EAAG2B,GACzC,OAAOA,EAAEwuF,aACX,OAEExwF,EAAO00L,GAAIriL,QAAQ5B,OAAS,aAAe,YAEtC4tM,EAAK,IAAMA,EAAK,GAAG7yM,MAAQ6yM,EAAK,GAAG7yM,MAAMxL,QAAQd,EAC1D,EACIugN,EAAU,SAAUrjI,GACtB,IAAIr7D,EAAG7G,EAUP,OATAkiE,EAAMziE,EAAIyiE,GACVr7D,EAAIunE,EAASlM,EAAK,SAClBliE,EAAIouE,EAASlM,EAAK,WACO,IAArBr7D,EAAEld,QAAQ,QACZkd,EAAI,IAEmB,IAArB7G,EAAErW,QAAQ,QACZqW,EAAI,GAEC,CACL6G,EAAGpO,SAASoO,EAAG,KAAOq7D,EAAI5iE,aAAe4iE,EAAI98D,YAC7CpF,EAAGvH,SAASuH,EAAG,KAAOkiE,EAAI3hE,cAAgB2hE,EAAI78D,aAElD,EAYItL,EAAK,SAAUmoE,EAAKloE,GACtB,IAAIhT,EACJ,IAAKk7E,EACH,OAAO,EAET,IAAKx8E,MAAMY,QAAQ47E,GAAM,CACvB,GAAiB,MAAbloE,EACF,OAAwB,IAAjBkoE,EAAI5uE,SAEb,GAAI2wM,GAAiBzvM,KAAKwF,GAAW,CACnC,IAAIqvD,EAAYrvD,EAAS5G,cAAcsqB,MAAM,KACzC8xK,EAAUttH,EAAI/uE,SAASC,cAC3B,IAAKpM,EAAIqiE,EAAUniE,OAAS,EAAGF,GAAK,EAAGA,IACrC,GAAIqiE,EAAUriE,KAAOwoM,EACnB,OAAO,EAGX,OAAO,CACT,CACA,GAAIttH,EAAI5uE,UAA6B,IAAjB4uE,EAAI5uE,SACtB,OAAO,CAEX,CACA,IAAIqlI,EAAQjzI,MAAMY,QAAQ47E,GAAeA,EAAR,CAACA,GAClC,OAAO23H,GAAO7/L,EAAU2+H,EAAK,GAAGt9H,eAAiBs9H,EAAK,GAAI,KAAMA,GAAMzxI,OAAS,CACjF,EACIq1F,EAAa,SAAUra,EAAKloE,EAAUy3B,EAAM+zK,GAC9C,IACIC,EADAh6L,EAAS,GAETha,EAAOgO,EAAIyiE,GAef,IAdAsjI,OAAsBxgN,IAAZwgN,EACV/zK,EAAOA,IAAgC,SAAvBuxC,IAAU7vE,SAAsB6vE,IAAUrnE,WAAa,MACnE7S,GAAMiR,GAAGC,EAAU,YACrByrM,EAAczrM,EAEZA,EADe,MAAbA,EACS,SAAUvI,GACnB,OAAyB,IAAlBA,EAAK6B,QACd,EAEW,SAAU7B,GACnB,OAAOsI,EAAGtI,EAAMg0M,EAClB,GAGGh0M,KACDA,IAASggC,GAAQ/qC,EAAW+K,EAAK6B,WAAaqrL,GAAaltL,IAASiC,GAAmBjC,KADhF,CAIX,IAAKuI,GAAgC,mBAAbA,GAA2BA,EAASvI,GAAO,CACjE,IAAI+zM,EAGF,MAAO,CAAC/zM,GAFRga,EAAOznB,KAAKyN,EAIhB,CACAA,EAAOA,EAAKkK,UACd,CACA,OAAO6pM,EAAU/5L,EAAS,IAC5B,EAKIi6L,EAAW,SAAUj0M,EAAMuI,EAAUlU,GACvC,IAAIy7L,EAAOvnL,EACX,GAAIvI,EAMF,IALwB,iBAAbuI,IACTunL,EAAO,SAAU9vL,GACf,OAAOsI,EAAGtI,EAAMuI,EAClB,GAEGvI,EAAOA,EAAK3L,GAAO2L,EAAMA,EAAOA,EAAK3L,GACxC,GAAoB,mBAATy7L,GAAuBA,EAAK9vL,GACrC,OAAOA,EAIb,OAAO,IACT,EAUI2iB,EAAM,SAAU8tD,EAAKq/G,EAAM1vL,GAC7B,IAAI4Z,EACAha,EAAsB,iBAARywE,EAAmBziE,EAAIyiE,GAAOA,EAChD,IAAKzwE,EACH,OAAO,EAET,GAAI3I,GAAMxC,QAAQmL,KAAUA,EAAKvK,QAA0B,IAAhBuK,EAAKvK,QAO9C,OANAukB,EAAS,GACTs4L,GAAOtyM,GAAM,SAAUywE,EAAKl7E,GACtBk7E,GACFz2D,EAAOznB,KAAKu9L,EAAKh4L,KAAKsI,EAAsB,iBAARqwE,EAAmBziE,EAAIyiE,GAAOA,EAAKl7E,GAE3E,IACOykB,EAET,IAAIw5D,EAAUpzE,GAAgBrI,KAC9B,OAAO+3L,EAAKh4L,KAAK07E,EAASxzE,EAC5B,EACIk0M,EAAa,SAAUzjI,EAAKxkE,GAC9BmnM,EAAG3iI,GAAK92E,MAAK,SAAUpE,EAAGyK,GACxBsyM,GAAOrmM,GAAO,SAAUnY,EAAOO,GAC7Bm/M,EAAUxzM,EAAM3L,EAAMP,EACxB,GACF,GACF,EACIqgN,EAAU,SAAU1jI,EAAKtwE,GAC3B,IAAIuyM,EAAOU,EAAG3iI,GACV3rE,GACF4tM,EAAK/4M,MAAK,SAAUpE,EAAGqO,GACrB,IAA2B,IAAvBA,EAAOwwM,YAAX,CAGA,KAAOxwM,EAAOwO,YACZxO,EAAOgP,YAAYhP,EAAOwO,YAE5B,IACExO,EAAOrD,UAAY,OAASJ,EAC5ByD,EAAOgP,YAAYhP,EAAOwO,WAG5B,CAFE,MAAO2pF,GACP+zG,GAAS,eAAe3vM,KAAK,OAASA,GAAMy8C,WAAWjkD,MAAM,GAAG04M,SAASztM,EAC3E,CACA,OAAOzD,CAVP,CAWF,IAEAuyM,EAAKvyM,KAAKA,EAEd,EACIzM,EAAM,SAAU2gN,EAAWhgN,EAAM4X,EAAO9L,EAAM8lI,GAChD,OAAOtjH,EAAI0xL,GAAW,SAAUA,GAC9B,IAAIC,EAAyB,iBAATjgN,EAAoBsX,EAAIrL,cAAcjM,GAAQA,EASlE,OARA6/M,EAAWI,EAAQroM,GACf9L,IACkB,iBAATA,GAAqBA,EAAK0B,SACnCyyM,EAAOjiM,YAAYlS,GACM,iBAATA,GAChBg0M,EAAQG,EAAQn0M,IAGZ8lI,EAAyCquE,EAAhCD,EAAUhiM,YAAYiiM,EACzC,GACF,EACIruE,EAAS,SAAU5xI,EAAM4X,EAAO9L,GAClC,OAAOzM,EAAIiY,EAAIrL,cAAcjM,GAAOA,EAAM4X,EAAO9L,GAAM,EACzD,EAEIgjF,EAASo1G,GAAS/+F,aA4BlBjpE,EAAS,SAAUvwB,EAAMu0M,GAC3B,IAAIC,EAAQpB,EAAGpzM,GAef,OAdIu0M,EACFC,EAAM76M,MAAK,WAET,IADA,IAAIy6B,EACGA,EAAQr8B,KAAKqa,YACK,IAAnBgiB,EAAMvyB,UAAwC,IAAtBuyB,EAAM9N,KAAK7wB,OACrCsC,KAAK6a,YAAYwhB,GAEjBr8B,KAAKmS,WAAW/W,aAAaihC,EAAOr8B,KAG1C,IAAGw4B,SAEHikL,EAAMjkL,SAEDikL,EAAM/+M,OAAS,EAAI++M,EAAMx6M,UAAYw6M,EAAM,EACpD,EAmDIv3I,EAAc,SAAUwT,EAAKgkI,EAAKrjL,GACpCgiL,EAAG3iI,GAAKxT,YAAYw3I,EAAKrjL,GAAOz3B,MAAK,WACZ,KAAnB5B,KAAKwlI,WACPuyE,GAAS/3M,MAAM43B,KAAK,QAAS,KAEjC,GACF,EAmDInwB,EAAU,SAAU80M,EAAQI,EAAQH,GACtC,OAAO5xL,EAAI+xL,GAAQ,SAAUA,GAS3B,OARIr9M,GAAMiR,GAAGosM,EAAQ,WACnBJ,EAASA,EAAOvrL,WAAU,IAExBwrL,GACFjC,GAAOC,GAAOmC,EAAOj0M,aAAa,SAAUT,GAC1Cs0M,EAAOjiM,YAAYrS,EACrB,IAEK00M,EAAOxqM,WAAWyqM,aAAaL,EAAQI,EAChD,GACF,EAgCIE,EAAoB,SAAU50M,GAChC,GAAIssL,GAAYtsL,GAAO,CACrB,IAAIm2L,EAAgD,MAAhCn2L,EAAK0B,SAASC,gBAA0B0xM,EAAUrzM,EAAM,SAAWqzM,EAAUrzM,EAAM,MACvG,GAAIqzM,EAAUrzM,EAAM,SAAWqzM,EAAUrzM,EAAM,sBAAwBm2L,EACrE,OAAO,CAEX,CACA,OAAO,CACT,EA8CIpkH,EAAY,WACd,OAAOpmE,EAAImmC,aACb,EA0BIl4C,EAAO,SAAUgK,EAAQvP,EAAMy7L,EAAM1vL,GACvC,GAAI/I,GAAMxC,QAAQ+O,GAAS,CAGzB,IAFA,IAAIrO,EAAIqO,EAAOnO,OACXo/M,EAAK,GACFt/M,KACLs/M,EAAGt/M,GAAKqE,EAAKgK,EAAOrO,GAAIlB,EAAMy7L,EAAM1vL,GAEtC,OAAOy0M,CACT,CAUA,OATI9mI,EAASgmI,SAAYnwM,IAAW+H,GAAO/H,IAAW2L,GACpD0jM,EAAY1gN,KAAK,CACfqR,EACAvP,EACAy7L,EACA1vL,IAGSqpB,EAAO7vB,KAAKgK,EAAQvP,EAAMy7L,EAAM1vL,GAAShG,EAExD,EACIsX,EAAS,SAAU9N,EAAQvP,EAAMy7L,GACnC,GAAIz4L,GAAMxC,QAAQ+O,GAAS,CAGzB,IAFA,IAAIrO,EAAIqO,EAAOnO,OACXo/M,EAAK,GACFt/M,KACLs/M,EAAGt/M,GAAKmc,EAAO9N,EAAOrO,GAAIlB,EAAMy7L,GAElC,OAAO+kB,CACT,CACE,GAAI5B,EAAYx9M,OAAS,IAAMmO,IAAW+H,GAAO/H,IAAW2L,GAE1D,IADIha,EAAI09M,EAAYx9M,OACbF,KAAK,CACV,IAAIkY,EAAOwlM,EAAY19M,GACnBqO,IAAW6J,EAAK,IAAQpZ,GAAQA,IAASoZ,EAAK,IAASqiL,GAAQA,IAASriL,EAAK,IAC/Egc,EAAO/X,OAAOjE,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAEzC,CAEF,OAAOgc,EAAO/X,OAAO9N,EAAQvP,EAAMy7L,EAEvC,EAII7/G,EAAqB,SAAUjwE,GACjC,GAAIA,GAAQssL,GAAYtsL,GAAO,CAC7B,IAAI8lI,EAAkB9lI,EAAKmM,aAAa,4BACxC,OAAI25H,GAAuC,YAApBA,EACdA,EAEuB,YAAzB9lI,EAAK8lI,gBAAgC9lI,EAAK8lI,gBAAkB,IACrE,CACE,OAAO,IAEX,EA4CI1rI,EAAO,CACTuR,IAAKA,EACLoiE,SAAUA,EACVx+D,IAAKA,EACLwlG,MAAOA,EACP+/F,SAxrBY,EAyrBZC,UAxrBa,EAyrBbnyD,iBAAkBA,EAClBqwD,YAAaA,EACb5lL,OAAQA,EACRvR,OAAQA,EACR2N,OAAQA,EACRumD,QA3qBY,SAAUhwE,GACtB,GAAoB,iBAATA,EACT,QAAS67L,EAAiB77L,GACrB,GAAIA,EAAM,CACf,IAAInM,EAAOmM,EAAK6B,SAChB,GAAIhO,EACF,QAAmB,IAATA,IAAcgoM,EAAiB77L,EAAK0B,UAElD,CACA,OAAO,CACT,EAkqBEyxM,EAAGA,EACHC,GAAIA,EACJpzK,KAAM,KACN7W,MAhnBU,SAAUnpB,EAAMg1M,GAC1B,IAAKlwM,IAA0B,IAAlB9E,EAAK6B,UAAkBmzM,EAClC,OAAOh1M,EAAK+oB,UAAUisL,GAEtB,IAAIC,EAAUtpM,EAAIrL,cAAcN,EAAK0B,UAIrC,OAHA4wM,GAAOiB,EAAWvzM,IAAO,SAAU2vB,GACjC6jL,EAAUyB,EAAStlL,EAAKjuB,SAAU2xM,EAAUrzM,EAAM2vB,EAAKjuB,UACzD,IACOuzM,CAEX,EAumBE1jI,QAASA,EACT2jI,YApmBgB,SAAUC,GAC1B,IAAIl4L,EAAK8kB,GAAUozK,GACnB,MAAO,CACLphN,EAAGkpB,EAAGlpB,EACNoN,EAAG8b,EAAG9b,EACNiU,EAAG6H,EAAG7J,MACN7E,EAAG0O,EAAGpO,OAEV,EA6lBEg7G,QAhjBY,SAAUp5C,GACtBA,EAAMziE,EAAIyiE,GACV,IAAIzuC,EAAM6xK,EAASpjI,GACft1E,EAAO24M,EAAQrjI,GACnB,MAAO,CACL18E,EAAGiuC,EAAIjuC,EACPoN,EAAG6gC,EAAI7gC,EACPiU,EAAGja,EAAKia,EACR7G,EAAGpT,EAAKoT,EAEZ,EAuiBEulM,QAASA,EACTxiI,UA5ec,SAAUtxE,EAAMuI,EAAUy3B,GACxC,IAAIurI,EAAUzgF,EAAW9qF,EAAMuI,EAAUy3B,GAAM,GAC/C,OAAOurI,GAAWA,EAAQ91K,OAAS,EAAI81K,EAAQ,GAAK,IACtD,EA0eEzgF,WAAYA,EACZ98E,IAAKA,EACL29C,QA3dY,SAAU3rD,EAAMuI,GAC5B,OAAO0rM,EAASj0M,EAAMuI,EAAU,cAClC,EA0dE6sM,QAzdY,SAAUp1M,EAAMuI,GAC5B,OAAO0rM,EAASj0M,EAAMuI,EAAU,kBAClC,EAwdEqiF,OAvdW,SAAUriF,EAAUnI,GAC/B,OAAOgoM,GAAO7/L,EAAUyF,EAAI5N,IAAU2tE,EAAS6lI,cAAgBjoM,EAAK,GACtE,EAsdErD,GAAIA,EACJ5U,IAAKA,EACLuyI,OAAQA,EACRovE,WAtZe,SAAUhhN,EAAM4X,EAAO9L,GACtC,IAAkBjC,EAAdo3M,EAAU,GAEd,IAAKp3M,KADLo3M,GAAW,IAAMjhN,EACL4X,EACN7N,GAAkB6N,EAAO/N,KAC3Bo3M,GAAW,IAAMp3M,EAAM,KAAOilF,EAAOl3E,EAAM/N,IAAQ,KAGvD,YAAoB,IAATiC,EACFm1M,EAAU,IAAMn1M,EAAO,KAAO9L,EAAO,IAEvCihN,EAAU,KACnB,EA2YEC,eA1YmB,SAAUp1M,GAC7B,IAAIH,EACAkpB,EAAYvd,EAAIrL,cAAc,OAC9BmvM,EAAO9jM,EAAI+c,yBAKf,IAJA+mL,EAAKp9L,YAAY6W,GACb/oB,IACF+oB,EAAU3oB,UAAYJ,GAEjBH,EAAOkpB,EAAU9W,YACtBq9L,EAAKp9L,YAAYrS,GAGnB,OADAyvM,EAAK78L,YAAYsW,GACVumL,CACT,EA8XEl/K,OAAQA,EACRilL,SAvmBa,SAAU/kI,EAAKp8E,EAAMP,GAClC,IAAI4+M,EAAO1rB,EAAW3yL,GAAQ++M,EAAG3iI,GAAKzjE,IAAI3Y,EAAMP,GAASs/M,EAAG3iI,GAAKzjE,IAAI3Y,GACjE05E,EAAS0nI,eACXhD,GAAwBplL,EAAQqlL,EAEpC,EAmmBE/1H,SAAUA,EACV+4H,UAnmBc,SAAUjlI,EAAKklI,GAC7B,IAAIjD,EAAOU,EAAG3iI,GAAKzjE,IAAI2oM,GACnB5nI,EAAS0nI,eACXhD,GAAwBplL,EAAQqlL,EAEpC,EA+lBEkD,iBA/WqB,SAAU39M,GAC/B,OAAO0qB,EAAI1qB,GAAG,SAAUA,GACtB,IAAI1C,EACA0W,EAAQhU,EAAEm1B,WACd,IAAK73B,EAAI0W,EAAMxW,OAAS,EAAGF,GAAK,EAAGA,IACjC0C,EAAE49M,oBAAoB5pM,EAAMwB,KAAKlY,GAErC,GACF,EAwWEi+M,UAAWA,EACXU,WAAYA,EACZb,UAAWA,EACXj1C,OAAQy1C,EACR9uE,WA3We,SAAU+wE,GACzB,OAAOzoL,EAAO0a,MAAM+tK,EACtB,EA0WEC,eAzWmB,SAAUJ,EAAWthN,GACxC,OAAOg5B,EAAO20K,UAAU2T,EAAWthN,EACrC,EAwWE2hN,SAvWa,SAAUF,GACvB,IAAI7iN,EAAMgjN,EACV,GAAI77M,IAAS04M,GAASp2H,KAAO/wE,IAAQ3Y,SAAU,CAC7C,GAAI+/M,EAAY+C,GACd,OAEF/C,EAAY+C,IAAW,CACzB,EACAG,EAAWtqM,EAAIoiH,eAAe,wBAE5BkoF,EAAWtqM,EAAIrL,cAAc,UACpB7N,GAAK,mBACdwjN,EAASpiN,KAAO,YAChBZ,EAAO0Y,EAAImpL,qBAAqB,QAAQ,IAC/B1iL,WACPnf,EAAKE,aAAa8iN,EAAUhjN,EAAKmf,YAEjCnf,EAAKof,YAAY4jM,IAGjBA,EAASC,WACXD,EAASC,WAAWJ,SAAWA,EAE/BG,EAAS5jM,YAAY1G,EAAI3K,eAAe80M,GAE5C,EA+UEK,QA9UY,SAAUtkB,GACjBA,IACHA,EAAO,IAETvK,EAAOuK,EAAK5lK,MAAM,MAAM,SAAUgmG,GAChCld,EAAMkd,IAAO,EACb2wB,EAAiBnlF,KAAKw0D,EAAKv8H,EAC7B,GACF,EAuUE47J,SA/Ta,SAAU7gF,EAAKgkI,GAC5BrB,EAAG3iI,GAAK6gF,SAASmjD,EACnB,EA8TEljD,YA7TgB,SAAU9gF,EAAKgkI,GAC/Bx3I,EAAYwT,EAAKgkI,GAAK,EACxB,EA4TEzE,SA3Ta,SAAUv/H,EAAKgkI,GAC5B,OAAOrB,EAAG3iI,GAAKu/H,SAASyE,EAC1B,EA0TEx3I,YAAaA,EACbgf,KA1TS,SAAUxL,GACnB2iI,EAAG3iI,GAAKwL,MACV,EAyTEjT,KAxTS,SAAUyH,GACnB2iI,EAAG3iI,GAAKzH,MACV,EAuTEkiG,SAtTa,SAAUz6F,GACvB,MAAkC,SAA3B2iI,EAAG3iI,GAAKzjE,IAAI,UACrB,EAqTEopM,SApTa,SAAUh3M,GACvB,OAASA,GAAS,QAAmB4zM,GACvC,EAmTEmB,QAASA,EACTkC,aAnTiB,SAAU5lI,GAC3B,IAAIzwE,EAAsB,iBAARywE,EAAmBziE,EAAIyiE,GAAOA,EAChD,OAAO67G,GAAYtsL,GAAQA,EAAKs2M,UAAYxG,GAAS,eAAe18M,OAAO08M,GAAS9vM,GAAMmpB,SAAShpB,MACrG,EAiTEo2M,aAhTiB,SAAU9lI,EAAKtwE,GAChCizM,EAAG3iI,GAAK92E,MAAK,WACX,IACE,GAAI,cAAe5B,KAEjB,YADAA,KAAKu+M,UAAYn2M,EAIrB,CADE,MAAO47F,GACT,CACAxrE,EAAOu/K,GAAS/3M,MAAMoI,KAAKA,IAAO,EACpC,GACF,EAsSE04L,OAlbWN,GAASM,OAmbpB11G,OAAQA,EACRqzH,YAvSgB,SAAUx2M,EAAMy2M,GAChC,IAAIC,EAAgB1oM,EAAIyoM,GACxB,OAAO9zL,EAAI3iB,GAAM,SAAUA,GACzB,IAAIiK,EAASysM,EAAcxsM,WACvB8H,EAAc0kM,EAAc1kM,YAMhC,OALIA,EACF/H,EAAO9W,aAAa6M,EAAMgS,GAE1B/H,EAAOoI,YAAYrS,GAEdA,CACT,GACF,EA4RER,QAASA,EACTm3M,OA/QW,SAAUlmI,EAAKp8E,GAC1B,IAAIigN,EAQJ,OAPI7jI,EAAI/uE,WAAarN,EAAKwwF,gBACxByvH,EAASruE,EAAO5xI,GAChBi+M,GAAOiB,EAAW9iI,IAAM,SAAUmmI,GAChCpD,EAAUc,EAAQsC,EAASl1M,SAAU2xM,EAAU5iI,EAAKmmI,EAASl1M,UAC/D,IACAlC,EAAQ80M,EAAQ7jI,GAAK,IAEhB6jI,GAAU7jI,CACnB,EAsQEomI,mBArQuB,SAAUniN,EAAG2B,GAEpC,IADA,IAAYygN,EAARh1J,EAAKptD,EACFotD,GAAI,CAET,IADAg1J,EAAKzgN,EACEygN,GAAMh1J,IAAOg1J,GAClBA,EAAKA,EAAG5sM,WAEV,GAAI43C,IAAOg1J,EACT,MAEFh1J,EAAKA,EAAG53C,UACV,CACA,OAAK43C,GAAMptD,EAAEkV,cACJlV,EAAEkV,cAAcG,gBAElB+3C,CACT,EAsPEujC,MArPU,SAAU0xH,GACpB,OAAO1pL,EAAOg4D,MAAMhuF,GAAMu8C,KAAKmjK,GACjC,EAoPEp0L,IAAKA,EACL4wL,WAAYA,EACZyD,QA5OY,SAAUh3M,EAAMuS,GAC5B,IAAI1e,EAAMQ,EAAMoiM,EAAU,EAC1B,GAAIme,EAAkB50M,GACpB,OAAO,EAGT,GADAA,EAAOA,EAAKoS,WACF,CACR,IAAIskL,EAAS,IAAIpE,GAActyL,EAAMA,EAAKkK,YACtCo8L,EAAaxqL,EAASA,EAAOikL,wBAA0B,CAAC,EAC5DxtL,EAAWA,IAAauJ,EAASA,EAAO+jL,sBAAwB,MAChE,EAAG,CAED,GADAhsM,EAAOmM,EAAK6B,SACRyqL,GAAYtsL,GAAO,CACrB,IAAIi3M,EAAWj3M,EAAKmM,aAAa,kBACjC,GAAI8qM,EAAU,CACZj3M,EAAO02L,EAAOttJ,KAAkB,QAAb6tK,GACnB,QACF,CAEA,GADA5iN,EAAO2L,EAAK0B,SAASC,cACjB4Q,GAAYA,EAASle,GAAO,CAC9B,GAAa,OAATA,EAAe,CACjBoiM,IACAz2L,EAAO02L,EAAOttJ,OACd,QACF,CACA,OAAO,CACT,CACA,GAAIwrK,EAAkB50M,GACpB,OAAO,CAEX,CACA,GAAa,IAATnM,EACF,OAAO,EAET,GAAa,IAATA,IAAekiM,GAAiB/1L,EAAKuzC,WACvC,OAAO,EAET,GAAa,IAAT1/C,GAAcmM,EAAKkK,YAAco8L,EAAWtmM,EAAKkK,WAAWxI,WAAaq0L,GAAiB/1L,EAAKuzC,WACjG,OAAO,EAETvzC,EAAO02L,EAAOttJ,MAChB,OAASppC,EACX,CACA,OAAOy2L,GAAW,CACpB,EAiME1kH,UAAWA,EACXs7H,UAAWsF,GACX1mL,MA/LU,SAAUooL,EAAW6C,EAAUC,GACzC,IACIC,EACAC,EACAntM,EAHAynC,EAAQogC,IAIZ,GAAIsiI,GAAa6C,EAiBf,OAhBAvlK,EAAMK,SAASqiK,EAAUnqM,WAAYyoM,GAAc0B,IACnD1iK,EAAMQ,OAAO+kK,EAAShtM,WAAYyoM,GAAcuE,IAChDE,EAAiBzlK,EAAM4+B,mBACvB5+B,EAAQogC,KACF//B,SAASklK,EAAShtM,WAAYyoM,GAAcuE,GAAY,GAC9DvlK,EAAMQ,OAAOkiK,EAAUnqM,WAAYyoM,GAAc0B,GAAa,GAC9DgD,EAAgB1lK,EAAM4+B,mBACtBrmE,EAAamqM,EAAUnqM,YACZ/W,aAAagkM,GAAS/8L,EAAMg9M,GAAiB/C,GACpD8C,EACFjtM,EAAW/W,aAAagkN,EAAgB9C,GAExCnqM,EAAW/W,aAAa+jN,EAAU7C,GAEpCnqM,EAAW/W,aAAagkM,GAAS/8L,EAAMi9M,GAAgBhD,GACvD9jL,EAAO8jL,GACA8C,GAAkBD,CAE7B,EAwKEt9M,KAAMA,EACN8X,OAAQA,EACRq1E,KAhIS,SAAUnjF,EAAQvP,EAAMuwG,GACjC,OAAOn7E,EAAOs9D,KAAKnjF,EAAQvP,EAAMuwG,EACnC,EA+HE30B,mBAAoBA,EACpBqnI,yBApH6B,SAAUt3M,GAGvC,IAFA,IAAIggC,EAAOuxC,IACPngD,EAAQ,KACLpxB,GAAQA,IAASggC,GAER,QADd5O,EAAQ6+C,EAAmBjwE,IADCA,EAAOA,EAAKkK,YAM1C,OAAOknB,CACT,EA2GE8U,QA1GY,WACZ,GAAI+sK,EAAYx9M,OAAS,EAEvB,IADA,IAAIF,EAAI09M,EAAYx9M,OACbF,KAAK,CACV,IAAIkY,EAAOwlM,EAAY19M,GACvBk0B,EAAO/X,OAAOjE,EAAK,GAAIA,EAAK,GAAIA,EAAK,GACvC,CAEFk6K,GAAO5yE,GAAO,SAAUl/F,EAAGo8G,GACzB2wB,EAAiBC,OAAO5wB,UACjBld,EAAMkd,EACf,IACIm2E,GAAOjZ,aACTiZ,GAAOjZ,aAEX,EA4FEooB,UA3Fc,SAAUv3M,EAAMiK,GAC9B,GAAKnF,GAEE,CACL,KAAO9E,GAAM,CACX,GAAIiK,IAAWjK,EACb,OAAO,EAETA,EAAOA,EAAKkK,UACd,CACA,OAAO,CACT,CATE,OAAOlK,IAASiK,GAAUA,EAAOV,SAASvJ,EAU9C,EAgFEw3M,QA/EY,SAAUx8M,GACtB,MAAO,mBAAqBA,EAAEo2C,eAAe1vC,SAAW,kBAAoB1G,EAAE03C,YAAc,mBAAqB13C,EAAE23C,aAAajxC,SAAW,gBAAkB1G,EAAE43C,SACjK,GA+EI89J,EA30Be,SAAUrjL,EAAQ0gD,EAAU+D,GAC/C,IAAI2lI,EAAa1pI,EAAS2pI,YACtBC,EAAc,CAChBrpM,IAAK,SAAUokM,EAAM5+M,EAAOO,GACtB05E,EAASgzH,eAA2B,OAAVjtM,IAC5BA,EAAQi6E,EAASgzH,cAAcjpM,KAAKi2E,EAASkzH,qBAAuBnvH,IAAch+E,EAAOO,EAAMq+M,EAAK,KAEtGA,EAAK/iL,KAAK,YAAct7B,EAAMP,GAAO67B,KAAKt7B,EAAMP,EAClD,EACAka,IAAK,SAAU0kM,EAAMr+M,GACnB,OAAOq+M,EAAK/iL,KAAK,YAAct7B,IAASq+M,EAAK/iL,KAAKt7B,EACpD,GAEEq8M,EAAY,CACd7wM,MAAO,CACLyO,IAAK,SAAUokM,EAAM5+M,GACL,OAAVA,GAAmC,iBAAVA,GAIzB2jN,GACF/E,EAAK/iL,KAAK,iBAAkB77B,GAEhB,OAAVA,GAAmC,iBAAVA,GAC3B4+M,EAAKzB,WAAW,SAChByB,EAAK1lM,IAAIqgB,EAAO0a,MAAMj0C,KAEtB4+M,EAAK/iL,KAAK,QAAS77B,IAVnB4+M,EAAK1lM,IAAIlZ,EAYb,EACAka,IAAK,SAAU0kM,GACb,IAAI5+M,EAAQ4+M,EAAK/iL,KAAK,mBAAqB+iL,EAAK/iL,KAAK,SAErD,OADQtC,EAAO20K,UAAU30K,EAAO0a,MAAMj0C,GAAQ4+M,EAAK,GAAGhxM,SAExD,IAMJ,OAHI+1M,IACF/G,EAAUltB,KAAOktB,EAAU3sH,IAAM4zH,GAE5BjH,CACT,CAkyBkBkH,CAAevqL,EAAQ0gD,EAAU7qD,EAAS9oB,IAC1D,OAAOA,CACT,EACA04M,GAASp2H,IAAMo2H,GAAS9/M,UACxB8/M,GAASzF,UAAYsF,GAErB,IAAIkF,GAAQ/E,GAASp2H,IACjBo7H,GAASzgN,GAAMsC,KAAMowL,GAAO1yL,GAAM0yL,KAKlCguB,GAAe,WACjB,SAASA,EAAahqI,QACH,IAAbA,IACFA,EAAW,CAAC,GAEdh2E,KAAKy7H,OAAS,CAAC,EACfz7H,KAAKigN,MAAQ,GACbjgN,KAAKkgN,sBAAwB,CAAC,EAC9BlgN,KAAKmgN,qBAAuB,GAC5BngN,KAAKogN,QAAU,EACfpgN,KAAKg2E,SAAWA,CAClB,CAwIA,OAvIAgqI,EAAa7jN,UAAU89L,mBAAqB,SAAUP,GACpD15L,KAAKg2E,SAAS0jH,eAAiBA,CACjC,EACAsmB,EAAa7jN,UAAUkkN,WAAa,SAAUnmF,EAAKl3G,EAAS21K,GAC1D,IACIjgH,EADA7wE,EAAMi4M,GAENQ,EAAU,WACZz4M,EAAI2wB,OAAO99B,GACPg+E,IACFA,EAAIugH,QAAUvgH,EAAIsgH,OAAStgH,EAAM,KAErC,EAeIh+E,EAAKmN,EAAIw2M,YACb3lI,EAAMz9E,SAASsN,cAAc,WACzB7N,GAAKA,EACTg+E,EAAI58E,KAAO,kBACX48E,EAAIsT,IAAM1sF,GAAMwzL,gBAAgB54D,GAC5Bl6H,KAAKg2E,SAAS0jH,gBAChB7xL,EAAI4zM,UAAU/iI,EAAK,iBAAkB14E,KAAKg2E,SAAS0jH,gBAErDhhH,EAAIsgH,OAtBO,WACTsnB,IACAt9L,GACF,EAoBA01D,EAAIugH,QAnBQ,WACVqnB,IACIljN,EAAWu7L,GACbA,IAEuB,oBAAZhwL,SAA2BA,QAAQigB,KAC5CjgB,QAAQigB,IAAI,0BAA4BsxG,EAG9C,GAWCj/H,SAAS8hM,qBAAqB,QAAQ,IAAM9hM,SAASmY,MAAMkH,YAAYo+D,EAC1E,EACAsnI,EAAa7jN,UAAUokN,OAAS,SAAUrmF,GACxC,OArDS,IAqDFl6H,KAAKy7H,OAAOvB,EACrB,EACA8lF,EAAa7jN,UAAUqkN,SAAW,SAAUtmF,GAC1Cl6H,KAAKy7H,OAAOvB,GAxDH,CAyDX,EACA8lF,EAAa7jN,UAAUR,IAAM,SAAUu+H,EAAKl3G,EAAS3a,EAAOswL,GAC1D,IAAIt/J,EAAQr5B,KAAKy7H,OAAOvB,GACxBl6H,KAAKigN,MAAMzlN,KAAK0/H,QACF1+H,IAAV69B,IACFr5B,KAAKy7H,OAAOvB,GAhEL,GAkELl3G,IACGhjB,KAAKkgN,sBAAsBhmF,KAC9Bl6H,KAAKkgN,sBAAsBhmF,GAAO,IAEpCl6H,KAAKkgN,sBAAsBhmF,GAAK1/H,KAAK,CACnCwoB,QAASA,EACT21K,QAASA,EACTtwL,MAAOA,GAASrI,OAGtB,EACAggN,EAAa7jN,UAAUupE,KAAO,SAAUw0D,EAAKl3G,EAAS3a,EAAOswL,GAC3D,OAAO34L,KAAKrE,IAAIu+H,EAAKl3G,EAAS3a,EAAOswL,EACvC,EACAqnB,EAAa7jN,UAAUq8B,OAAS,SAAU0hG,UACjCl6H,KAAKy7H,OAAOvB,UACZl6H,KAAKkgN,sBAAsBhmF,EACpC,EACA8lF,EAAa7jN,UAAUskN,UAAY,SAAUz9L,EAAS3a,EAAOswL,GAC3D34L,KAAK0gN,YAAY1gN,KAAKigN,MAAOj9L,EAAS3a,EAAOswL,EAC/C,EACAqnB,EAAa7jN,UAAUukN,YAAc,SAAUC,EAAS39L,EAAS3a,EAAOswL,GACtE,IAAIt2L,EAAOrC,KACP4gN,EAAW,GACXC,EAAgB,SAAUvkN,EAAM49H,GAClC6lF,GAAO19M,EAAK69M,sBAAsBhmF,IAAM,SAAU7nC,GAC5Cj1F,EAAWi1F,EAAS/1F,KACtB+1F,EAAS/1F,GAAMyD,KAAKsyF,EAAShqF,MAEjC,IACAhG,EAAK69M,sBAAsBhmF,QAAO1+H,CACpC,EACA6G,EAAK89M,qBAAqB3lN,KAAK,CAC7BwoB,QAASA,EACT21K,QAASA,EACTtwL,MAAOA,GAASrI,OAElB,IAAI0gN,EAAc,WAChB,IAAII,EAAiB9uB,GAAK2uB,GA4B1B,GA3BAA,EAAQjjN,OAAS,EACjBqiN,GAAOe,GAAgB,SAAU5mF,GAxG1B,IAyGD73H,EAAKo5H,OAAOvB,GAxGX,IA4GD73H,EAAKo5H,OAAOvB,GA9GV,IAkHF73H,EAAKo5H,OAAOvB,KACd73H,EAAKo5H,OAAOvB,GAnHR,EAoHJ73H,EAAK+9M,UACL/9M,EAAKg+M,WAAWnmF,GAAK,WACnB73H,EAAKo5H,OAAOvB,GArHX,EAsHD73H,EAAK+9M,UACLS,EAAc,UAAW3mF,GACzBwmF,GACF,IAAG,WACDr+M,EAAKo5H,OAAOvB,GAzHX,EA0HD73H,EAAK+9M,UACLQ,EAASpmN,KAAK0/H,GACd2mF,EAAc,UAAW3mF,GACzBwmF,GACF,KAjBAG,EAAc,UAAW3mF,GAJzB2mF,EAAc,UAAW3mF,EAuB7B,KACK73H,EAAK+9M,QAAS,CACjB,IAAIW,EAAkB1+M,EAAK89M,qBAAqBv/M,MAAM,GACtDyB,EAAK89M,qBAAqBziN,OAAS,EACnCqiN,GAAOgB,GAAiB,SAAU1uH,GACR,IAApBuuH,EAASljN,OACPN,EAAWi1F,EAASrvE,UACtBqvE,EAASrvE,QAAQjjB,KAAKsyF,EAAShqF,OAG7BjL,EAAWi1F,EAASsmG,UACtBtmG,EAASsmG,QAAQ54L,KAAKsyF,EAAShqF,MAAOu4M,EAG5C,GACF,CACF,EACAF,GACF,EACAV,EAAaA,aAAe,IAAIA,EACzBA,CACT,CApJmB,GAsJfh4L,GAAO,SAAUC,GACnB,IAAIlsB,EAAQksB,EAOZ,MAAO,CACLhS,IAPQ,WACR,OAAOla,CACT,EAMEwa,IALQ,SAAU/Q,GAClBzJ,EAAQyJ,CACV,EAKF,EAQI+oB,GAAO,CAAC,EACRyyL,GAAch5L,GAAK,MACnBi5L,GAAkB,WACpB,OAAOhmM,GAAMsT,GAAMyyL,GAAY/qM,MACjC,EAkEIirM,GAAO,CACThtH,QAlEY,WACZ,OAAO7wF,GAAMkrB,IAAM,SAAUxyB,GAC3B,OAAOyD,GAAS,CAAC,EAAGzD,EACtB,GACF,EA+DEolN,QA9DY,SAAUC,GAClBA,GACFJ,GAAYzqM,IAAI6qM,EAEpB,EA2DEC,QA1DY,WACZ,OAAOL,GAAY/qM,KACrB,EAyDEta,IAxDU,SAAU0nK,EAAMt8G,GAC1B,IAAIu6J,EAAW/yL,GAAK80I,GACfi+C,IACH/yL,GAAK80I,GAAQi+C,EAAW,CAAC,GAE3B1xB,GAAO7oI,GAAO,SAAUw6J,EAAajlN,GACnCglN,EAAShlN,EAAKsN,eAAiB23M,CACjC,GACF,EAiDEnqM,UAhDc,SAAUpO,GACxB,IAlCoBhC,EAkChBs6M,EAAWL,KAAkB7/M,MAAM,CAAC,GACpCc,EAAW,SAAUiD,GACvB,OAAI/H,EAAW+H,GACN1F,OAAOtD,UAAU+F,SAASnC,KAAKoF,GAEhC85M,EAAQ95M,GAAkB,GAAX,GAAKA,CAC9B,EACI85M,EAAU,SAAUj2M,GACtB,MAAgB,KAATA,SAAeA,CACxB,EACIw4M,EAAc,SAAUx4M,GAC1B,IAAIy4M,EAAUv/M,EAAS8G,GACvB,OAAOiS,GAAMqmM,EAAUG,EAAQ73M,eAAejI,IAAIO,GAAUd,MAAMqgN,EACpE,EACIC,EAAgB,SAAU16M,GAC5B,OAAOA,EAAIS,QAAQ,iBAAkB,GACvC,EACA,GAAIw3M,EAAQj2M,GACV,MAAO,GAET,GArDOnM,EADamK,EAsDVgC,IArDc5C,GAAMY,EAAK,OAsDjC,OAAO9E,EAAS8G,EAAKuM,KAEvB,GAtDgB,SAAUvO,GAC1B,OAAOkoL,EAAUloL,IAAQA,EAAItJ,OAAS,CACxC,CAoDMikN,CAAY34M,GAAO,CACrB,IAAI44M,EAAW54M,EAAKpI,MAAM,GAI1B,OAAO8gN,EAHUF,EAAYx4M,EAAK,IAAIvB,QAAQ,iBAAiB,SAAUo6M,EAAIC,GAC3E,OAAO17M,GAAMw7M,EAAUE,GAAM5/M,EAAS0/M,EAASE,IAAOD,CACxD,IAEF,CACA,OAAOH,EAAcF,EAAYx4M,GACnC,EAiBE0rC,MAhBY,WACZ,OAAOusK,KAAkBp/M,MAAK,SAAUklD,GACtC,OAAO9rC,GAAM8rC,EAAO,OACtB,IAAGjlD,QAAO,SAAUmhC,GAClB,MAAe,QAARA,CACT,GACF,EAWE8+K,QAVY,SAAU1+C,GACtB,OAAOj9J,GAAMmoB,GAAM80I,EACrB,GAWI2+C,GAAe,WACjB,IAAIj7J,EAAQ,GACR+yI,EAAO,CAAC,EACRlzI,EAAS,CAAC,EACVq7J,EAAa,GACbC,EAAe,SAAU5lN,EAAM+8B,GACjC,IAAI8oL,EAAmB3yB,EAASyyB,GAAY,SAAUnlH,GACpD,OAAOA,EAASxgG,OAASA,GAAQwgG,EAASzjE,QAAUA,CACtD,IACAk2J,EAAO4yB,GAAkB,SAAUrlH,GACjC,OAAOA,EAASzK,UAClB,GACF,EAOI+vH,EAAe,SAAU9lN,GAC3B,IAAI2lB,EAIJ,OAHI2kC,EAAOtqD,KACT2lB,EAAS2kC,EAAOtqD,GAAM8lN,cAEjBngM,GAAU,EACnB,EA2BIogM,EAAY,SAAUC,EAASjkL,GACjC,MAAmB,iBAARA,EACFA,EAEiB,iBAAZikL,EAAuB,CACnCj7M,OAAQ,GACRk7M,SAAUlkL,EACV92B,OAAQ,IACN,CACFF,OAAQi7M,EAAQj7M,OAChBk7M,SAAUlkL,EACV92B,OAAQ+6M,EAAQ/6M,OAEpB,EAqBIm+D,EAAO,SAAUppE,EAAMkmN,EAAUx/L,EAAS3a,EAAOswL,GACnD,IAAImB,EAAKx9L,GAAT,CAGA,IAAImmN,EAAgC,iBAAbD,EAAwBA,EAAWA,EAASn7M,OAASm7M,EAASD,SAAWC,EAASj7M,OAC1E,IAA3Bk7M,EAAUtiN,QAAQ,OAA4C,IAA9BsiN,EAAUtiN,QAAQ,SACpDsiN,EAAYT,GAAaz2D,QAAU,IAAMk3D,GAE3C3oB,EAAKx9L,GAAQmmN,EAAU5uL,UAAU,EAAG4uL,EAAU5oI,YAAY,MAC1D,IAAIiqB,EAAO,WACTo+G,EAAa5lN,EAAM,UAxBA,SAAUA,EAAMkmN,EAAUx/L,EAAS3a,GACxD,IAAIq6M,EAAON,EAAa9lN,GACxBizL,EAAOmzB,GAAM,SAAUrkL,GACrB,IAAIskL,EAASN,EAAUG,EAAUnkL,GACjCqnC,EAAKi9I,EAAOJ,SAAUI,OAAQnnN,OAAWA,EAC3C,IACIwnB,IACE3a,EACF2a,EAAQjjB,KAAKsI,GAEb2a,EAAQjjB,KAAKigN,IAGnB,CAYI4C,CAAiBtmN,EAAMkmN,EAAUx/L,EAAS3a,EAC5C,EACIu+C,EAAOtqD,GACTwnG,IAEAk8G,GAAaA,aAAarkN,IAAI8mN,EAAW3+G,EAAMz7F,EAAOswL,EAbxD,CAeF,EACIkqB,EAAU,SAAUvmN,EAAM+1F,EAAUh5D,QACxB,IAAVA,IACFA,EAAQ,SAENjzB,GAAMwgD,EAAQtqD,IAAmB,UAAV+8B,GAEhBjzB,GAAM0zL,EAAMx9L,IAAmB,WAAV+8B,EAD9Bg5D,IAIA4vH,EAAWznN,KAAK,CACd8B,KAAMA,EACN+8B,MAAOA,EACPg5D,SAAUA,GAGhB,EACA,MAAO,CACLtrC,MAAOA,EACP+yI,KAAMA,EACNlzI,OAAQA,EACRq7J,WAAYA,EACZhsM,IAjHQ,SAAU3Z,GAClB,GAAIsqD,EAAOtqD,GACT,OAAOsqD,EAAOtqD,GAAMs7H,QAGxB,EA6GEwqF,aAAcA,EACdU,gBAtGoB,SAAUxmN,EAAMymN,IACF,IAA9Bf,GAAagB,cACfH,EAAQvmN,GAAM,WACZ,IAAI2mN,EAAW/B,GAAKG,WAEf4B,GAAYF,IAAiE,KAD3D,KAAOA,GAAa,IAAM,KACF5iN,QAAQ,IAAM8iN,EAAW,MAGxEjD,GAAaA,aAAarkN,IAAIm+L,EAAKx9L,GAAQ,UAAY2mN,EAAW,MACpE,GAAG,SAEP,EA4FEtnN,IA3FQ,SAAUjB,EAAIwoN,EAAOd,GAC7B,IAAIe,EAAmBD,EAOvB,OANAn8J,EAAMvsD,KAAK2oN,GACXv8J,EAAOlsD,GAAM,CACXk9H,SAAUurF,EACVf,aAAcA,GAEhBF,EAAaxnN,EAAI,SACVyoN,CACT,EAmFE3qL,OAlFW,SAAUl8B,UACdw9L,EAAKx9L,UACLsqD,EAAOtqD,EAChB,EAgFE+lN,UAAWA,EACXe,cAlEkB,SAAUC,EAAY1C,GACxC,IAAI2C,EAAYxpB,EAAKupB,GACrB9zB,EAAOoxB,GAAS,SAAU/d,GACxBod,GAAaA,aAAarkN,IAAI2nN,EAAY,IAAM1gB,EAClD,GACF,EA8DEl9H,KAAMA,EACNm9I,QAASA,EAEb,EACAb,GAAagB,cAAe,EAC5BhB,GAAaz2D,QAAU,GACvBy2D,GAAauB,cAAgBvB,KAC7BA,GAAawB,aAAexB,KAE5B,IA0BIjmN,GAAQ,WACV,IAAI0/B,EA3BU,SAAUsS,GACxB,IAAItS,EAAUzT,GAAKzlB,EAAS1B,QACxB4lC,EAAS,WACX,OAAOhL,EAAQxlB,MAAMrU,KAAKmsC,EAC5B,EAeA,MAAO,CACLC,MAfU,WACVvH,IACAhL,EAAQllB,IAAIhU,EAAS1B,OACvB,EAaEotC,MAZU,WACV,OAAOxS,EAAQxlB,MAAM/U,QACvB,EAWE+U,IAVQ,WACR,OAAOwlB,EAAQxlB,KACjB,EASEM,IARQ,SAAU5W,GAClB8mC,IACAhL,EAAQllB,IAAIhU,EAASJ,KAAKxC,GAC5B,EAOF,CAEgBmuC,CAAUnwC,GAIxB,OAAO6B,GAASA,GAAS,CAAC,EAAGi8B,GAAU,CAAE+R,GAHhC,SAAU1uC,GACjB,OAAO28B,EAAQxlB,MAAMrU,KAAK9C,EAC5B,GAEF,EAEIu9D,GAAQ,SAAU79D,EAAIm5E,GACxB,IAAIvoC,EAAQ,KAmBZ,MAAO,CACLwoC,OAnBW,WACN76E,EAAOqyC,KACVO,aAAaP,GACbA,EAAQ,KAEZ,EAeEyoC,SAda,WAEb,IADA,IAAI95E,EAAO,GACFC,EAAK,EAAGA,EAAKC,UAAUP,OAAQM,IACtCD,EAAKC,GAAMC,UAAUD,GAEnBjB,EAAOqyC,KACTA,EAAQiB,YAAW,WACjBjB,EAAQ,KACR5wC,EAAGN,MAAM,KAAMH,EACjB,GAAG45E,GAEP,EAKF,EACIj6B,GAAO,SAAUl/C,EAAIm5E,GACvB,IAAIvoC,EAAQ,KACRwoC,EAAS,WACN76E,EAAOqyC,KACVO,aAAaP,GACbA,EAAQ,KAEZ,EAYA,MAAO,CACLwoC,OAAQA,EACRC,SAba,WAEb,IADA,IAAI95E,EAAO,GACFC,EAAK,EAAGA,EAAKC,UAAUP,OAAQM,IACtCD,EAAKC,GAAMC,UAAUD,GAEvB45E,IACAxoC,EAAQiB,YAAW,WACjBjB,EAAQ,KACR5wC,EAAGN,MAAM,KAAMH,EACjB,GAAG45E,EACL,EAKF,EAEI8rI,GAAS,SAAU/5M,EAASkuB,GAC9B,IAAI77B,EAAQu8B,GAAM5uB,EAASkuB,GAC3B,YAAiBp8B,IAAVO,GAAiC,KAAVA,EAAe,GAAKA,EAAMm4B,MAAM,IAChE,EAmBI2D,GAAW,SAAUnuB,GACvB,YAAiClO,IAA1BkO,EAAQ7B,IAAIiwB,SACrB,EAIIM,GAAQ,SAAU1uB,EAASsuB,GAC7B,OAzBU,SAAUtuB,EAASkuB,EAAMl9B,GACnC,IACIgQ,EADM+4M,GAAO/5M,EAASkuB,GACbh5B,OAAO,CAAClE,IAErB,OADA0qE,GAAM17D,EAASkuB,EAAMltB,EAAGoY,KAAK,OACtB,CACT,CAoBSiV,CAAMruB,EAAS,QAASsuB,EACjC,EACIG,GAAW,SAAUzuB,EAASsuB,GAChC,OAtBa,SAAUtuB,EAASkuB,EAAMl9B,GACtC,IAAIgQ,EAAK8kL,EAASi0B,GAAO/5M,EAASkuB,IAAO,SAAUpyB,GACjD,OAAOA,IAAM9K,CACf,IAMA,OALIgQ,EAAGhN,OAAS,EACd0nE,GAAM17D,EAASkuB,EAAMltB,EAAGoY,KAAK,MAE7BlN,GAASlM,EAASkuB,IAEb,CACT,CAYShd,CAASlR,EAAS,QAASsuB,EACpC,EAEIU,GAAQ,SAAUhvB,EAASsuB,GACzBH,GAASnuB,GACXA,EAAQ7B,IAAIiwB,UAAUn8B,IAAIq8B,GAE1BI,GAAM1uB,EAASsuB,EAEnB,EACIK,GAAa,SAAU3uB,GACzB,IAAIouB,EAAYD,GAASnuB,GAAWA,EAAQ7B,IAAIiwB,UAlBtC,SAAUpuB,GACpB,OAAO+5M,GAAO/5M,EAAS,QACzB,CAgB8DsrC,CAAMtrC,GACzC,IAArBouB,EAAUp6B,QACZkY,GAASlM,EAAS,QAEtB,EAUI+uB,GAAM,SAAU/uB,EAASsuB,GAC3B,OAAOH,GAASnuB,IAAYA,EAAQ7B,IAAIiwB,UAAUtmB,SAASwmB,EAC7D,EAEIqqD,GAAgB,SAAUh6E,EAAOwmB,GACnC,IAAI5M,EAAS,GAOb,OANAstK,EAAOl9K,GAAShK,IAAQ,SAAUrM,GAC5B6yB,EAAU7yB,KACZimB,EAASA,EAAOrjB,OAAO,CAAC5C,KAE1BimB,EAASA,EAAOrjB,OAAOyjF,GAAcrmF,EAAG6yB,GAC1C,IACO5M,CACT,EAEI85B,GAAc,SAAU1zC,EAAOmI,GACjC,OA37MQ,SAAUA,EAAUnI,GAC5B,IAAIwhB,OAAiBruB,IAAV6M,EAAsBpN,SAAWoN,EAAMR,IAClD,OAAOgJ,GAAegZ,GAAQ,GAAKylK,EAAMzlK,EAAK1uB,iBAAiBqV,GAAWtI,GAAaF,QACzF,CAw7MSrJ,CAAI6R,EAAUnI,EACvB,EAEIq7M,GAAav4L,EAAS,kBACtBw4L,GAAiBx4L,EAAS,uBAC1By4L,GAAmBz4L,EAAS,2BAE5B04L,GAAW,SAAUnuI,EAAQouI,GAC/B,IAAI1qK,EAAMs8B,EAAOv8B,UAAUmiC,SACvBp0E,EAAQgB,GAAaF,QAAQoxC,EAAIC,gBACjCpR,EAAO//B,GAAaF,QAAQ0tE,EAAO7hE,WACnCrD,EAAWszM,EAAe9iN,MAAK,WACjC,MAAO,IAAM0iN,IACf,IAAG,SAAUK,GACX,MAAO,IAAMJ,KAAmB,KAAOI,EAAK,IAC9C,IACIC,EAAWvmL,GAAQv2B,EAAOkyC,EAAIuB,aAAav5C,MAAM8F,GACjD4yF,EAAUt8D,GAAUwmL,EAAUxzM,GAAU,SAAU5Q,GACpD,OAAOmR,GAAGnR,EAAGqoC,EACf,IACIg8K,EAAU,SAAUjtL,EAAGriB,GACzB,OAv+LQ,SAAUjL,EAASvD,GAC7B,IAAI0B,EAAM6B,EAAQ7B,IAClB,SAAOA,IAAOA,EAAI0M,eAAe1M,EAAI0M,aAAapO,EACpD,CAo+LQmO,CAAM0iB,EAAGriB,GACJpS,EAASJ,KAAKm2B,GAAMtB,EAAGriB,IAEvBpS,EAAS1B,MAEpB,EACA,OAAOi5F,EAAQj4F,MAAK,SAAUm1B,GAC5B,OAAOitL,EAAQjtL,EAAG,GAAK4sL,MAAoB/hN,MAAK,SAAUwtB,GACxD,OAAO40L,EAAQjtL,EAAG,GAAK2sL,MAAkBhiN,KAAI,SAAUrF,GACrD,IAAIke,EAAW0pM,GAAYxuI,EAAQrmD,GACnC,MAAO,CACLA,IAAKA,EACL/yB,KAAMA,EACNke,SAAUA,EAEd,GACF,GACF,GACF,EAII0pM,GAAc,SAAUxuI,EAAQrmD,GAClC,IAAIjc,EAAOlL,GAAaF,QAAQ0tE,EAAO7hE,WACvC,OAAOkoC,GAAY3oC,EAAM,IAAMwwM,KAAqB,KAAOv0L,EAAM,KACnE,EAaI80L,GAAU,SAAUzuI,EAAQ0uI,GAC9B,IAAIC,EAAkBr8L,GAAK,CAAC,GACxBmtE,EAAW,WACb,MAAO,CACLwH,UAAW,GACX6zE,SAAUz0K,KAEd,EACIuoN,EAAgB,SAAUhoN,EAAMwC,GAClCylN,EAAgBjoN,GAAM,SAAUiyB,GAE9B,OADAzvB,EAAEyvB,GACKA,CACT,GACF,EACIg2L,EAAkB,SAAUjoN,EAAMwC,GACpC,IAAI0lN,EAAcH,EAAgBpuM,MAE9BwuM,EAAa3lN,EADNmc,GAAMupM,EAAaloN,GAAM+E,WAAW8zF,IAE/CqvH,EAAYloN,GAAQmoN,EACpBJ,EAAgB9tM,IAAIiuM,EACtB,EAoBIE,EAAehnK,IAAK,WACtB,IAAI8mK,EAAcH,EAAgBpuM,MAC9B0uM,EAAchgN,GAAKO,GAAKs/M,IAC5Bj1B,EAAOo1B,GAAa,SAAUroN,GAC5BioN,EAAgBjoN,GAAM,SAAUiyB,GAC9B,IAAI8sH,EAAO9sH,EAAKiiJ,SAASv6J,MAazB,OAZA4tM,GAASnuI,EAAQnzE,EAASJ,KAAK7F,IAAO0E,MAAK,WACrCq6I,EAAKn6I,YAdM,SAAU5E,GAC/BgoN,EAAchoN,GAAM,SAAUiyB,GAC5BghK,EAAOhhK,EAAKouE,WAAW,SAAU79F,GAC/B,OAAOA,GAAE,EAAOxC,EAClB,GACF,GACF,CASUsoN,CAAiBtoN,GACjBiyB,EAAKiiJ,SAASxiI,QAElB,IAAG,SAAUh/B,GACX,IAAIqgB,EAAMrgB,EAAGqgB,IAAK/yB,EAAO0S,EAAG1S,KAAMke,EAAWxL,EAAGwL,SAC3ClU,GAAK+0I,EAAMhsH,MAhCJ,SAAU/yB,EAAM+yB,EAAK7U,GACvC8pM,EAAchoN,GAAM,SAAUiyB,GAC5BghK,EAAOhhK,EAAKouE,WAAW,SAAU79F,GAC/B,OAAOA,GAAE,EAAMxC,EAAM,CACnB+yB,IAAKA,EACLumK,MAAOtG,EAAM90K,GAAU,SAAU/J,GAC/B,OAAOA,EAAK5I,GACd,KAEJ,GACF,GACF,CAsBUg9M,CAAcvoN,EAAM+yB,EAAK7U,GACzB+T,EAAKiiJ,SAASj6J,IAAI8Y,GAEtB,IACO,CACLmhJ,SAAUjiJ,EAAKiiJ,SACf7zE,UAAWpuE,EAAKouE,UAEpB,GACF,GACF,GAAG,IACHjnB,EAAOloC,GAAG,UAAU,WAClBk3K,EAAa9sI,QACf,IACAlC,EAAOloC,GAAG,cAAc,WACtBk3K,EAAa7sI,UACf,IASA,MAAO,CAAEitI,YARS,SAAUxoN,EAAMwC,GAChCylN,EAAgBjoN,GAAM,SAAUiyB,GAC9B,MAAO,CACLiiJ,SAAUjiJ,EAAKiiJ,SACf7zE,UAAWpuE,EAAKouE,UAAU/9F,OAAO,CAACE,IAEtC,GACF,EAEF,EAEIimN,GAAU,SAAUrvI,EAAQoI,GAI9BpI,EAAOloC,GAAG,QAAQ,WAChBkoC,EAAOsvI,WAAWC,cAAc,QAAQ,SAAUC,GAChD31B,EAAO21B,GAAO,SAAUn6G,IALH,SAAUA,GACjC,OAAOxoG,EAAS/B,KAAKuqG,EAAKnzE,KAAK+rL,OAAmB9hN,KAAKi8E,EAASl3B,OAClE,EAIMu+J,CAAmBp6G,GAAMnpG,MAAK,SAAUo0E,IACV,IAAxBA,EAASovI,YACXr6G,EAAKjwF,QAET,GACF,GACF,GACF,GACF,EAqBI6W,GAAS,EACT48B,GAAW,SAAUlnD,GACvB,IACIwqB,GADO,IAAIC,MACCC,UAGhB,OAAO1qB,EAAS,IAFH0U,KAAKiW,MAAsB,IAAhBjW,KAAKkW,aAC7BN,GACwCp1B,OAAOs1B,EACjD,EAqBItb,GAAM,SAAU7M,EAAS8mB,GAC3B,IAduBpoB,EAEnBE,EAaAmoB,EADQilF,GAAQhsG,GACD7B,IACf6oB,EAAWxoB,GAAaF,QAAQyoB,EAAOE,0BACvCC,GAjBmBxoB,EAiBQooB,GAf3BloB,GAeoCmoB,GAhBrBx1B,UACLsN,cAAc,QACxBC,UAAYJ,EACTiK,GAASnK,GAAaF,QAAQM,KAcrCjN,GAAOq1B,EAAUE,GACjBnW,GAAM/Q,GACN6Q,GAAS7Q,EAASgnB,EACpB,EAEIO,GAAU,SAAUH,EAAUC,GAChC,OAAO7oB,GAAaF,QAAQ8oB,EAASjpB,IAAImpB,UAAUD,GACrD,EACIF,GAAU,SAAUC,GACtB,OAAOG,GAAQH,GAAU,EAC3B,EACIu0L,GAAS,SAAUv0L,GACrB,OAAOG,GAAQH,GAAU,EAC3B,EAEIw0L,GAAa,SAAU/mD,EAAWvmF,EAAUG,QAC3B,IAAfA,IACFA,EAAaj5E,GAEf,IAAIy/L,EAAS,IAAIpE,GAAch8B,EAAWvmF,GACtC66G,EAAO,SAAUzxJ,GACnB,IAAIiQ,EACJ,GACEA,EAAOstJ,EAAOv9J,WACPiQ,IAAS4jJ,GAAS5jJ,KAAU8mC,EAAW9mC,IAChD,OAAO9uC,EAAS/B,KAAK6wC,GAAMrvC,OAAOizL,GACpC,EACA,MAAO,CACLvoL,QAAS,WACP,OAAOnK,EAAS/B,KAAKm+L,EAAOjyL,WAAW1K,OAAOizL,GAChD,EACA5jJ,KAAM,WACJ,OAAOwhJ,EAAK,OACd,EACAx3C,KAAM,WACJ,OAAOw3C,EAAK,OACd,EACA2H,MAAO,WACL,OAAO3H,EAAK,QACd,EAEJ,EAEI0yB,GAAa,SAAU19M,EAAKswE,GAC9B,IAAIqtI,EAAkBrtI,GAA0B,SAAUlwE,GACxD,OAAOJ,EAAIowE,QAAQhwE,IAASmtL,GAAOntL,IAASstL,GAAyBttL,EACvE,EACI4qL,EAAO,SAAU5qL,EAAMyK,EAAQisL,EAAQv+K,GACzC,GAAI60K,GAAShtL,GAAO,CAClB,IAAIw9M,EAAYrlM,EAAQnY,EAAMyK,EAAQzK,EAAKsmB,MAC3C,IAAmB,IAAfk3L,EACF,OAAOljN,EAASJ,KAAK,CACnBgvB,UAAWlpB,EACXyK,OAAQ+yM,GAGd,CACA,OAAO9mB,IAAS98L,MAAK,SAAUwvC,GAC7B,OAAOwhJ,EAAKxhJ,EAAKlgB,UAAWkgB,EAAK3+B,OAAQisL,EAAQv+K,EACnD,GACF,EAuBA,MAAO,CACLg4D,UAvBc,SAAUnwE,EAAMyK,EAAQ0N,EAAS6nB,GAC/C,IAAI02J,EAAS2mB,GAAWr9M,EAAMggC,EAAMu9K,GACpC,OAAO3yB,EAAK5qL,EAAMyK,GAAQ,WACxB,OAAOisL,EAAOtjD,OAAO15I,KAAI,SAAU05I,GACjC,MAAO,CACLlqH,UAAWkqH,EACX3oI,OAAQ2oI,EAAK39I,OAEjB,GACF,GAAG0iB,GAAS7e,WACd,EAcEmkN,SAba,SAAUz9M,EAAMyK,EAAQ0N,EAAS6nB,GAC9C,IAAI02J,EAAS2mB,GAAWr9M,EAAMggC,EAAMu9K,GACpC,OAAO3yB,EAAK5qL,EAAMyK,GAAQ,WACxB,OAAOisL,EAAOttJ,OAAO1vC,KAAI,SAAU0vC,GACjC,MAAO,CACLlgB,UAAWkgB,EACX3+B,OAAQ,EAEZ,GACF,GAAG0N,GAAS7e,WACd,EAKF,EAEIokN,GAAU5pM,KAAKizB,MACf5d,GAAQ,SAAUiY,GACpB,OAAKA,EAUE,CACL5iC,KAAMk/M,GAAQt8K,EAAK5iC,MACnB0Q,IAAKwuM,GAAQt8K,EAAKlyB,KAClBoE,OAAQoqM,GAAQt8K,EAAK9tB,QACrBD,MAAOqqM,GAAQt8K,EAAK/tB,OACpBD,MAAOsqM,GAAQt8K,EAAKhuB,OACpBvE,OAAQ6uM,GAAQt8K,EAAKvyB,SAfd,CACLrQ,KAAM,EACN0Q,IAAK,EACLoE,OAAQ,EACRD,MAAO,EACPD,MAAO,EACPvE,OAAQ,EAWd,EACIy0D,GAAW,SAAUliC,EAAMu8K,GAS7B,OARAv8K,EAAOjY,GAAMiY,GACTu8K,IAGFv8K,EAAK5iC,KAAO4iC,EAAK5iC,KAAO4iC,EAAKhuB,OAF7BguB,EAAK/tB,MAAQ+tB,EAAK5iC,KAKpB4iC,EAAKhuB,MAAQ,EACNguB,CACT,EAIIw8K,GAAkB,SAAUC,EAAWC,EAAOC,GAChD,OAAOF,GAAa,GAAKA,GAAa/pM,KAAK8mB,IAAIkjL,EAAMjvM,OAAQkvM,EAAMlvM,QAAU,CAC/E,EACImvM,GAAY,SAAUF,EAAOC,GAC/B,IAAIE,EAAanqM,KAAK8mB,IAAImjL,EAAMlvM,OAAS,EAAGivM,EAAMjvM,OAAS,GAC3D,OAAIivM,EAAMxqM,OAAS2qM,EAAaF,EAAM7uM,OAGlC4uM,EAAM5uM,IAAM6uM,EAAMzqM,SAGfsqM,GAAgBG,EAAM7uM,IAAM4uM,EAAMxqM,OAAQwqM,EAAOC,EAC1D,EACIG,GAAY,SAAUJ,EAAOC,GAC/B,OAAID,EAAM5uM,IAAM6uM,EAAMzqM,UAGlBwqM,EAAMxqM,OAASyqM,EAAM7uM,MAGlB0uM,GAAgBG,EAAMzqM,OAASwqM,EAAM5uM,IAAK4uM,EAAOC,EAC1D,EACII,GAAa,SAAU/8K,EAAMlwB,EAASC,GACxC,OAAOD,GAAWkwB,EAAK5iC,MAAQ0S,GAAWkwB,EAAK/tB,OAASlC,GAAWiwB,EAAKlyB,KAAOiC,GAAWiwB,EAAK9tB,MACjG,EAMI8qM,GAAkB,SAAUzsK,GAC9B,IAAIP,EAAiBO,EAAMP,eAAgBsB,EAAcf,EAAMe,YAC/D,OAAItB,EAAe5wC,iBAAmBmxC,EAAMiB,YAAcF,EAAc,EAC/DtB,EAAe3wC,WAAWiyC,GAE5B,IACT,EACI2rK,GAAY,SAAUn1L,EAAWze,GACnC,GAAI6hL,GAAYpjK,IAAcA,EAAU1oB,gBAAiB,CACvD,IAAIC,EAAayoB,EAAUzoB,WACvB69M,EAdM,SAAUxqN,EAAO8mC,EAAKnsB,GAClC,OAAOqF,KAAK8mB,IAAI9mB,KAAKrF,IAAI3a,EAAO8mC,GAAMnsB,EACxC,CAYqB8vM,CAAQ9zM,EAAQ,EAAGhK,EAAWhL,OAAS,GACxD,OAAOgL,EAAW69M,EACpB,CACE,OAAOp1L,CAEX,EASIs1L,GAAiB,IAAIl7H,OAAO,weAC5Bm7H,GAAkB,SAAU3hM,GAC9B,MAAqB,iBAAPA,GAAmBA,EAAGo7F,WAAW,IAAM,KAAOsmG,GAAez7M,KAAK+Z,EAClF,EA+BI4hM,GAAcpyB,GACdqyB,GAAqBlpB,GACrBmpB,GAAYnyB,GAAiB,UAAW,eACxCoyB,GAAYpyB,GAAiB,QAAS,cACtCqyB,GAnBM,WAER,IADA,IAAIhpN,EAAO,GACFC,EAAK,EAAGA,EAAKC,UAAUP,OAAQM,IACtCD,EAAKC,GAAMC,UAAUD,GAEvB,OAAO,SAAUhC,GACf,IAAK,IAAIwB,EAAI,EAAGA,EAAIO,EAAKL,OAAQF,IAC/B,IAAKO,EAAKP,GAAGxB,GACX,OAAO,EAGX,OAAO,CACT,CACF,CAMmC84D,CAAI6xJ,GAAaC,GAAoB/nN,EAAIioN,KACxEE,GAAWnoN,EAAI61L,GAAiB,cAAe,0BAC/CuyB,GAAWhyB,GACXiyB,GAAS9xB,GACT+xB,GAAcpM,GAASzF,UACvB8R,GAnDgB,SAAUj2L,EAAWze,GACvC,OAAIA,EAAS,GAAK6hL,GAAYpjK,IAAcA,EAAU1oB,qBACpD,EAEO69M,GAAUn1L,EAAWze,EAEhC,EA8CI20M,GAAgB,SAAUzzM,GAC5B,MAAO,gBAAiBA,EAAMA,EAAImmC,cAAgBghK,GAASp2H,IAAI3K,WACjE,EACIstI,GAAiB,SAAUruI,GAC7B,OAAOA,GAAO,YAAYjuE,KAAKiuE,EACjC,EACIsuI,GAAU,SAAUnuK,GACtB,QAASA,EAAIa,YAAcb,EAAIgB,MACjC,EACIotK,GAA0B,SAAU5tK,GACtC,IAAIzoB,EAAYyoB,EAAMP,eAClB3mC,EAASknC,EAAMe,YACnB,GAAI2sK,GAAe1tK,EAAM13C,aAAe8kN,GAAS71L,EAAUhf,aAAe8iL,GAAS9jK,GAAY,CAC7F,IAAInoB,EAAOmoB,EAAU5C,KACrB,GAAI+4L,GAAet+M,EAAK0J,EAAS,KAAO40M,GAAet+M,EAAK0J,EAAS,IACnE,OAAO,CAEX,CACA,OAAO,CACT,EA0BI+0M,GAAa,SAAUxkN,GACzB,OAAkB,IAAXA,EAAEwD,MAA0B,IAAZxD,EAAEqY,OAAyB,IAAVrY,EAAEkU,KAA0B,IAAblU,EAAEsY,MAC3D,EACImsM,GAA0B,SAAUhyM,GACtC,IAAIiyM,EACAC,EAAclyM,EAAK0nC,iBAMvB,OAJEuqK,EADEC,EAAYlqN,OAAS,EACV0zB,GAAMw2L,EAAY,IAElBx2L,GAAM1b,EAAKmB,0BAErB0wM,GAAQ7xM,IAASwxM,GAAOxxM,IAAS+xM,GAAWE,GApC7B,SAAUE,GAC9B,IAAIj0M,EAAMi0M,EAAOh2M,cACbunC,EAAMiuK,GAAczzM,GACpBk0M,EAASl0M,EAAI3K,eAAeuyL,IAC5BrpL,EAAa01M,EAAO11M,WACxBA,EAAW/W,aAAa0sN,EAAQD,GAChCzuK,EAAIa,SAAS6tK,EAAQ,GACrB1uK,EAAIgB,OAAO0tK,EAAQ,GACnB,IAAIH,EAAav2L,GAAMgoB,EAAIviC,yBAE3B,OADA1E,EAAW0I,YAAYitM,GAChBH,CACT,CA0BWI,CAAgBryM,GAErB+xM,GAAWE,IAAeJ,GAAQ7xM,GA3BF,SAAU0jC,GAC9C,IAAI4uK,EAAK5uK,EAAIC,eACT4uK,EAAK7uK,EAAIwB,aACTstK,EAAK9uK,EAAIuB,YACTwtK,EAAK/uK,EAAIyB,UACb,GAAImtK,IAAOC,GAAMhzB,GAASgzB,IAAc,IAAPC,GAAmB,IAAPC,EAAU,CACrD,IAAIC,EAAShvK,EAAIwgC,aAEjB,OADAwuI,EAAO/tK,YAAY4tK,GACZP,GAAwBU,EACjC,CACE,OAAO,IAEX,CAgBWC,CAAgC3yM,GAElCiyM,CACT,EACIW,GAA0B,SAAUX,EAAY/B,GAClD,IAAI2C,EAAgBh9I,GAASo8I,EAAY/B,GAGzC,OAFA2C,EAAcltM,MAAQ,EACtBktM,EAAcjtM,MAAQitM,EAAc9hN,KAAO,EACpC8hN,CACT,EACIC,GAA8B,SAAUC,GAC1C,IAAIb,EAAc,GACdc,EAAwB,SAAUf,GA7K1B,IAAU5B,EAAOC,EA8KD,IAAtB2B,EAAW7wM,SAGX8wM,EAAYlqN,OAAS,IAjLLqoN,EAkLN4B,EAlLa3B,EAkLD4B,EAAYA,EAAYlqN,OAAS,GAjLtDqoN,EAAMt/M,OAASu/M,EAAMv/M,MAAQs/M,EAAM5uM,MAAQ6uM,EAAM7uM,KAAO4uM,EAAMxqM,SAAWyqM,EAAMzqM,QAAUwqM,EAAMzqM,QAAU0qM,EAAM1qM,QAqLpHssM,EAAYptN,KAAKmtN,GACnB,EACIgB,EAAqB,SAAUx3L,EAAWze,GAC5C,IAAIknC,EAAQytK,GAAcl2L,EAAUtf,eACpC,GAAIa,EAASye,EAAU5C,KAAK7wB,OAAQ,CAClC,GAAIgpN,GAAgBv1L,EAAU5C,KAAK7b,IACjC,OAAOk1M,EAET,GAAIlB,GAAgBv1L,EAAU5C,KAAK7b,EAAS,MAC1CknC,EAAMK,SAAS9oB,EAAWze,GAC1BknC,EAAMQ,OAAOjpB,EAAWze,EAAS,IAC5B80M,GAAwB5tK,IAE3B,OADA8uK,EAAsBJ,GAAwBZ,GAAwB9tK,IAAQ,IACvEguK,CAGb,CACIl1M,EAAS,IACXknC,EAAMK,SAAS9oB,EAAWze,EAAS,GACnCknC,EAAMQ,OAAOjpB,EAAWze,GACnB80M,GAAwB5tK,IAC3B8uK,EAAsBJ,GAAwBZ,GAAwB9tK,IAAQ,KAG9ElnC,EAASye,EAAU5C,KAAK7wB,SAC1Bk8C,EAAMK,SAAS9oB,EAAWze,GAC1BknC,EAAMQ,OAAOjpB,EAAWze,EAAS,GAC5B80M,GAAwB5tK,IAC3B8uK,EAAsBJ,GAAwBZ,GAAwB9tK,IAAQ,IAGpF,EACIzoB,EAAYs3L,EAAct3L,YAC1Bze,EAAS+1M,EAAc/1M,SAC3B,GAAIu0M,GAAS91L,GAEX,OADAw3L,EAAmBx3L,EAAWze,GACvBk1M,EAET,GAAIjB,GAAYx1L,GACd,GAAIs3L,EAAcpsB,UAAW,CAC3B,IAAIp0L,EAAOm/M,GAAej2L,EAAWze,GACjCu0M,GAASh/M,IACX0gN,EAAmB1gN,EAAMA,EAAKsmB,KAAK7wB,QAEjCqpN,GAA6B9+M,KAAUi/M,GAAOj/M,IAChDygN,EAAsBJ,GAAwBZ,GAAwBz/M,IAAO,GAEjF,KAAO,CACDA,EAAOm/M,GAAej2L,EAAWze,GAIrC,GAHIu0M,GAASh/M,IACX0gN,EAAmB1gN,EAAM,GAEvB8+M,GAA6B9+M,IAASwgN,EAAcpsB,UAEtD,OADAqsB,EAAsBJ,GAAwBZ,GAAwBz/M,IAAO,IACtE2/M,EAET,IAAIgB,EAAaxB,GAAeqB,EAAct3L,YAAas3L,EAAc/1M,SAAW,GAChFq0M,GAA6B6B,KAAgB1B,GAAO0B,KAClD/B,GAAU+B,IAAe/B,GAAU5+M,KAAU8+M,GAA6B9+M,KAC5EygN,EAAsBJ,GAAwBZ,GAAwBkB,IAAa,IAGnF7B,GAA6B9+M,IAC/BygN,EAAsBJ,GAAwBZ,GAAwBz/M,IAAO,GAEjF,CAEF,OAAO2/M,CACT,EACIiB,GAAgB,SAAU13L,EAAWze,EAAQk1M,GAC/C,IAkBIxqK,EAAiB,WAInB,OAHKwqK,IACHA,EAAcY,GAA4BK,GAAc13L,EAAWze,KAE9Dk1M,CACT,EAUA,MAAO,CACLz2L,UAAWhG,EAASgG,GACpBze,OAAQyY,EAASzY,GACjBo2M,QAxBY,WACZ,IAAIlvK,EAAQytK,GAAcl2L,EAAUtf,eAGpC,OAFA+nC,EAAMK,SAAS9oB,EAAWze,GAC1BknC,EAAMQ,OAAOjpB,EAAWze,GACjBknC,CACT,EAoBEwD,eAAgBA,EAChBhM,UAdc,WACd,OAAOgM,IAAiB1/C,OAAS,CACnC,EAaEy+L,UAvCc,WACd,OAAI8qB,GAAS91L,GACO,IAAXze,CAGX,EAmCE2pL,QAlCY,WACZ,OAAI4qB,GAAS91L,GACJze,GAAUye,EAAU5C,KAAK7wB,OAE3BgV,GAAUye,EAAUzoB,WAAWhL,MACxC,EA8BEqrN,QAdY,SAAUN,GACtB,OAAOA,GAAiBt3L,IAAcs3L,EAAct3L,aAAeze,IAAW+1M,EAAc/1M,QAC9F,EAaE4lE,QAZY,SAAU9/B,GACtB,OAAO4uK,GAAej2L,EAAWqnB,EAAS9lC,EAAS,EAAIA,EACzD,EAYF,EACAm2M,GAAcG,eAAiB,SAAUpvK,GACvC,OAAOivK,GAAcjvK,EAAMP,eAAgBO,EAAMe,YACnD,EACAkuK,GAAcI,aAAe,SAAUrvK,GACrC,OAAOivK,GAAcjvK,EAAMgB,aAAchB,EAAMiB,UACjD,EACAguK,GAAcpwK,MAAQ,SAAUxwC,GAC9B,OAAO4gN,GAAc5gN,EAAKkK,WAAYg1M,GAAYl/M,GAAQ,EAC5D,EACA4gN,GAAcrwK,OAAS,SAAUvwC,GAC/B,OAAO4gN,GAAc5gN,EAAKkK,WAAYg1M,GAAYl/M,GACpD,EACA4gN,GAAct2C,QAAU,SAAU22C,EAAMC,GACtC,OAAOxiN,GAAMzL,GAAKiuN,EAAK/rK,kBAAmBr4C,GAAOmkN,EAAK9rK,kBAAmB6oK,IAAW7kN,OAAM,EAC5F,EACAynN,GAAcr2C,QAAU,SAAU02C,EAAMC,GACtC,OAAOxiN,GAAM5B,GAAOokN,EAAK/rK,kBAAmBliD,GAAKguN,EAAK9rK,kBAAmB+oK,IAAW/kN,OAAM,EAC5F,EACAynN,GAAc1sB,UAAY,SAAUlyJ,GAClC,QAAOA,GAAMA,EAAIkyJ,WACnB,EACA0sB,GAAcxsB,QAAU,SAAUpyJ,GAChC,QAAOA,GAAMA,EAAIoyJ,SACnB,EACAwsB,GAAcO,eAAiB,SAAUn/K,GACvC,QAAOA,GAAMgrJ,GAAShrJ,EAAI9Y,YAC5B,EACA03L,GAAcQ,kBAAoB,SAAUp/K,GAC1C,OAA6C,IAAtC4+K,GAAcO,eAAen/K,EACtC,EAEA,IAiiCIq/K,GAjiCAC,GAAsB,SAAU1hN,EAAKI,GACnCgtL,GAAShtL,IAA8B,IAArBA,EAAKsmB,KAAK7wB,QAC9BmK,EAAI2wB,OAAOvwB,EAEf,EAiBIuhN,GAAkB,SAAU3hN,EAAKuxC,EAAKnxC,GACpCiC,GAAmBjC,GAZJ,SAAUJ,EAAKuxC,EAAKs+J,GACvC,IAAIr9L,EAAa9X,EAAS/B,KAAKk3M,EAAKr9L,YAChCq5K,EAAYnxL,EAAS/B,KAAKk3M,EAAKhkB,WACnCt6I,EAAIq/B,WAAWi/H,GACfr9L,EAAWzY,MAAK,SAAUy6B,GACxB,OAAOktL,GAAoB1hN,EAAKw0B,EAAMk3J,gBACxC,IACAG,EAAU9xL,MAAK,SAAUy6B,GACvB,OAAOktL,GAAoB1hN,EAAKw0B,EAAMpiB,YACxC,GACF,CAGIwvM,CAAe5hN,EAAKuxC,EAAKnxC,GAlBZ,SAAUJ,EAAKuxC,EAAKnxC,GACnCmxC,EAAIq/B,WAAWxwE,GACfshN,GAAoB1hN,EAAKI,EAAKsrL,iBAC9Bg2B,GAAoB1hN,EAAKI,EAAKgS,YAChC,CAgBIw+D,CAAW5wE,EAAKuxC,EAAKnxC,EAEzB,EAEIyhN,GAAWz0B,GACX00B,GAAU90B,GACVygB,GAAYyF,GAASzF,UACrBsU,GAAmB,SAAU3hN,GAC/B,IAAIkK,EAAalK,EAAKkK,WACtB,OAAIw3M,GAAQx3M,GACHy3M,GAAiBz3M,GAEnBA,CACT,EACI03M,GAAgB,SAAU5hN,GAC5B,OAAKA,EAGE+nL,GAAO/nL,EAAKS,YAAY,SAAUuZ,EAAQha,GAM/C,OALI0hN,GAAQ1hN,IAA2B,OAAlBA,EAAK0B,SACxBsY,EAASA,EAAOrjB,OAAOirN,GAAc5hN,IAErCga,EAAOznB,KAAKyN,GAEPga,CACT,GAAG,IATM,EAUX,EAUI6nM,GAAQ,SAAUntN,GACpB,OAAO,SAAU2B,GACf,OAAO3B,IAAM2B,CACf,CACF,EAgBIyrN,GAAiB,SAAU9hN,GAO7B,OALIyhN,GAASzhN,GACJ,SAEAA,EAAK0B,SAASC,eAET,IAtBU,SAAU3B,GAClC,IAAI2tL,EAAOrjL,EACXqjL,EAAQi0B,GAAcD,GAAiB3hN,IACvCsK,EAAQrO,GAAY0xL,EAAOk0B,GAAM7hN,GAAOA,GACxC2tL,EAAQA,EAAMh1L,MAAM,EAAG2R,EAAQ,GAC/B,IAAIy3M,EAAmBh6B,GAAO4F,GAAO,SAAU3zK,EAAQha,EAAMzK,GAI3D,OAHIksN,GAASzhN,IAASyhN,GAAS9zB,EAAMp4L,EAAI,KACvCykB,IAEKA,CACT,GAAG,GAGH,OAFA2zK,EAAQlyL,GAASkyL,EAAOpB,GAAe,CAACvsL,EAAK0B,aAC7C4I,EAAQrO,GAAY0xL,EAAOk0B,GAAM7hN,GAAOA,IACzB+hN,CACjB,CAQsBC,CAAoBhiN,GAAQ,GAClD,EAWIiiN,GAAW,SAAUjiL,EAAMwgL,GAC7B,IAAIt3L,EAAWze,EAAmBy3M,EAAczhN,EAAY8qK,EAArC52J,EAAO,GAqB9B,OApBAuU,EAAYs3L,EAAct3L,YAC1Bze,EAAS+1M,EAAc/1M,SACnBg3M,GAASv4L,GACXg5L,EArDuB,SAAUliN,EAAMyK,GACzC,MAAOzK,EAAOA,EAAKsrL,kBACZm2B,GAASzhN,IAGdyK,GAAUzK,EAAKsmB,KAAK7wB,OAEtB,OAAOgV,CACT,CA6CmB03M,CAAqBj5L,EAAWze,IAG3CA,IADJhK,EAAayoB,EAAUzoB,YACEhL,QACvBysN,EAAe,QACfz3M,EAAShK,EAAWhL,OAAS,GAE7BysN,EAAe,SAEjBh5L,EAAYzoB,EAAWgK,IAEzBkK,EAAKpiB,KAAKuvN,GAAe54L,IACzBqiJ,EA3BmB,SAAUvrI,EAAMhgC,EAAM4mB,GACzC,IAAI2kJ,EAAU,GACd,IAAKvrK,EAAOA,EAAKkK,aAAYlK,IAASggC,GAChCpZ,GAAaA,EAAU5mB,IADeA,EAAOA,EAAKkK,WAItDqhK,EAAQh5K,KAAKyN,GAEf,OAAOurK,CACT,CAkBY62C,CAAepiL,EAAM9W,GAC/BqiJ,EAAU9vK,GAAS8vK,EAAS30K,EAAIg2L,MAChCj4K,EAAOA,EAAKhe,OAAO0G,GAAMkuK,GAAS,SAAUvrK,GAC1C,OAAO8hN,GAAe9hN,EACxB,MACY5D,UAAUye,KAAK,KAAO,IAAMqnM,CAC1C,EA+BIG,GAAY,SAAUriL,EAAMrrB,GAC9B,IAAIlK,EACJ,IAAKkK,EACH,OAAO,KAET,IAAIkO,EAAQlO,EAAKsX,MAAM,KACnBpX,EAAQgO,EAAM,GAAGoJ,MAAM,KAC3BxhB,EAASoY,EAAMptB,OAAS,EAAIotB,EAAM,GAAK,SACvC,IAAIqG,EAAY6+J,GAAOlzK,GAAO,SAAUmF,EAAQlmB,GAC9C,IAAIoV,EAAQ,4BAA4Bk8E,KAAKtxF,GAC7C,OAAKoV,GAGY,WAAbA,EAAM,KACRA,EAAM,GAAK,SA5CK,SAAUlJ,EAAM3L,EAAMiW,GAC1C,IAAIqjL,EAAQi0B,GAAc5hN,GAK1B,OAJA2tL,EAAQlyL,GAASkyL,GAAO,SAAU3tL,EAAMsK,GACtC,OAAQm3M,GAASzhN,KAAUyhN,GAAS9zB,EAAMrjL,EAAQ,GACpD,KACAqjL,EAAQlyL,GAASkyL,EAAOpB,GAAe,CAACl4L,MAC3BiW,EACf,CAuCWg4M,CAAgBtoM,EAAQ9Q,EAAM,GAAIlC,SAASkC,EAAM,GAAI,MALnD,IAMX,GAAG82B,GACH,OAAK9W,EAGAu4L,GAASv4L,GA3CO,SAAUA,EAAWze,GAE1C,IADA,IAAwC83M,EAApCviN,EAAOkpB,EAAWs5L,EAAe,EAC9Bf,GAASzhN,IAAO,CAErB,GADAuiN,EAAUviN,EAAKsmB,KAAK7wB,OAChBgV,GAAU+3M,GAAgB/3M,GAAU+3M,EAAeD,EAAS,CAC9Dr5L,EAAYlpB,EACZyK,GAAkB+3M,EAClB,KACF,CACA,IAAKf,GAASzhN,EAAKgS,aAAc,CAC/BkX,EAAYlpB,EACZyK,EAAS83M,EACT,KACF,CACAC,GAAgBD,EAChBviN,EAAOA,EAAKgS,WACd,CAIA,OAHIyvM,GAASv4L,IAAcze,EAASye,EAAU5C,KAAK7wB,SACjDgV,EAASye,EAAU5C,KAAK7wB,QAEnBmrN,GAAc13L,EAAWze,EAClC,CA8BSg4M,CAAiBv5L,EAAWliB,SAASyD,EAAQ,MANhDA,EADa,UAAXA,EACO4iM,GAAUnkL,GAAa,EAEvBmkL,GAAUnkL,GAEd03L,GAAc13L,EAAUhf,WAAYO,IARpC,IAWX,EAEIi4M,GAA2Bp1B,GAS3Bq1B,GAAW,SAAU/iN,EAAKg0C,EAAMg/J,EAAYzhK,EAAKlyC,GACnD,IAGIwB,EAHAyoB,EAAYioB,EAAIlyC,EAAQ,iBAAmB,gBAC3CwL,EAAS0mC,EAAIlyC,EAAQ,cAAgB,aACrCuvC,EAAQ,GACIgC,EAAQ,EACpBxQ,EAAOpgC,EAAI2xE,UAWf,IAVIy7G,GAAS9jK,GACXslB,EAAMj8C,KAAKqgN,EAfe,SAAUh/J,EAAM1qB,EAAWze,GACvD,IAAIzK,EAAM4iN,EAEV,IADAA,EAAgBhvK,EAAK1qB,EAAU5C,KAAK3tB,MAAM,EAAG8R,IAAShV,OACjDuK,EAAOkpB,EAAUoiK,gBAAiBtrL,GAAQgtL,GAAShtL,GAAOA,EAAOA,EAAKsrL,gBACzEs3B,GAAiBhvK,EAAK5zC,EAAKsmB,MAAM7wB,OAEnC,OAAOmtN,CACT,CAQ4BC,CAAwBjvK,EAAM1qB,EAAWze,GAAUA,IAGvEA,IADJhK,EAAayoB,EAAUzoB,YACEhL,QAAUgL,EAAWhL,SAC5C+6C,EAAQ,EACR/lC,EAASqJ,KAAKrF,IAAI,EAAGhO,EAAWhL,OAAS,IAE3C+4C,EAAMj8C,KAAKqN,EAAIytM,UAAU5sM,EAAWgK,GAASmoM,GAAcpiK,IAEtDtnB,GAAaA,IAAc8W,EAAM9W,EAAYA,EAAUhf,WAC5DskC,EAAMj8C,KAAKqN,EAAIytM,UAAUnkL,EAAW0pL,IAEtC,OAAOpkK,CACT,EAYIykB,GAAY,SAAUrzD,EAAKvL,EAAMoN,GACnC,IAAI6e,EAAQ,EAUZ,OATAjpB,GAAMsC,KAAKiG,EAAIgrF,OAAOv2F,IAAO,SAAU2L,GACrC,GAA4C,QAAxCA,EAAKmM,aAAa,kBAGtB,OAAInM,IAASyB,QAGb6e,GACF,IACOA,CACT,EACIwiM,GAAiB,SAAU3xK,EAAKlyC,GAClC,IAAIiqB,EAAWze,EAAQhK,EACnBrB,EAASH,EAAQ,QAAU,MAC/BiqB,EAAYioB,EAAI/xC,EAAS,aACzBqL,EAAS0mC,EAAI/xC,EAAS,UAClBktL,GAAYpjK,IAAqC,OAAvBA,EAAUxnB,WAEtCwnB,GADAzoB,EAAayoB,EAAUzoB,YACAqT,KAAK8mB,IAAI37B,EAAQwL,EAASA,EAAS,EAAGhK,EAAWhL,OAAS,OAE/EgV,EAASxL,EAAQ,EAAIiqB,EAAUzoB,WAAWhL,OAC1C07C,EAAI,OAASlyC,EAAQ,QAAU,QAAQiqB,EAAWze,GAGxD,EACIs4M,GAA8B,SAAU5xK,GAG1C,OAFA2xK,GAAe3xK,GAAK,GACpB2xK,GAAe3xK,GAAK,GACbA,CACT,EACIqhJ,GAAc,SAAUxyL,EAAMyK,GAChC,IAAIsH,EACJ,GAAIu6K,GAAYtsL,KACdA,EAAOq+M,GAAUr+M,EAAMyK,GACnBi4M,GAAyB1iN,IAC3B,OAAOA,EAGX,GAAI+zL,GAAmB/zL,GAAO,CAK5B,GAJIgtL,GAAShtL,IAAS6zL,GAAwB7zL,KAC5CA,EAAOA,EAAKkK,YAEd6H,EAAU/R,EAAKsrL,gBACXo3B,GAAyB3wM,GAC3B,OAAOA,EAGT,GADAA,EAAU/R,EAAKgS,YACX0wM,GAAyB3wM,GAC3B,OAAOA,CAEX,CACF,EAIIixM,GAAoB,SAAUpvK,EAAMg/J,EAAY1hK,GAClD,IAAIzvC,EAAUyvC,EAAUm/B,UACpBh8E,EAAOoN,EAAUA,EAAQC,SAAW,KACpCyvC,EAAMD,EAAUmiC,SACpB,GAAIqvI,GAAyBjhN,IAAqB,QAATpN,EACvC,MAAO,CACLA,KAAMA,EACNiW,MAAO2oD,GAAU/hB,EAAUtxC,IAAKvL,EAAMoN,IAG1C,IAAIsQ,EAboC,SAAUo/B,GAClD,OAAOqhJ,GAAYrhJ,EAAIC,eAAgBD,EAAIuB,cAAgB8/I,GAAYrhJ,EAAIwB,aAAcxB,EAAIyB,UAC/F,CAWgBqwK,CAAoC9xK,GAClD,OAAIp/B,EAEK,CACL1d,KAFFA,EAAO0d,EAAQ+6K,QAGbxiL,MAAO2oD,GAAU/hB,EAAUtxC,IAAKvL,EAAM0d,IAnF1B,SAAU6hC,EAAM1C,EAAW0hK,EAAYzhK,GACvD,IAAIvxC,EAAMsxC,EAAUtxC,IAAKsjN,EAAW,CAAC,EAQrC,OAPAA,EAASjkN,MAAQ0jN,GAAS/iN,EAAKg0C,EAAMg/J,EAAYzhK,GAAK,GACjDD,EAAUukG,gBACbytE,EAASlrG,IAAM2qG,GAAS/iN,EAAKg0C,EAAMg/J,EAAYzhK,GAAK,IAElD6jJ,GAA6B7jJ,KAC/B+xK,EAASC,aAAc,GAElBD,CACT,CA4ESE,CAAYxvK,EAAM1C,EAAW0hK,EAAYzhK,EAClD,EAWIkyK,GAAqB,SAAUzjN,EAAKnN,EAAI6wN,GAC1C,IAAIxtN,EAAO,CACT,gBAAiB,WACjBrD,GAAIA,EACJ,MAAS,mCAEX,OAAO6wN,EAAS1jN,EAAIqmI,OAAO,OAAQnwI,EAAM,YAAc8J,EAAIqmI,OAAO,OAAQnwI,EAC5E,EACIytN,GAAwB,SAAUryK,EAAWoyK,GAC/C,IAAI1jN,EAAMsxC,EAAUtxC,IAChBuxC,EAAMD,EAAUmiC,SAChB5gF,EAAKmN,EAAIw2M,WACTpjK,EAAY9B,EAAUukG,cACtBh0I,EAAUyvC,EAAUm/B,UACpBh8E,EAAOoN,EAAQC,SACnB,GAAa,QAATrN,EACF,MAAO,CACLA,KAAMA,EACNiW,MAAO2oD,GAAUrzD,EAAKvL,EAAMoN,IAGhC,IAAI+hN,EAAOT,GAA4B5xK,EAAIwgC,cAC3C,IAAK3+B,EAAW,CACdwwK,EAAKlgJ,UAAS,GACd,IAAImgJ,EAAkBJ,GAAmBzjN,EAAKnN,EAAK,OAAQ6wN,GAC3D/B,GAAgB3hN,EAAK4jN,EAAMC,EAC7B,EACAtyK,EAAM4xK,GAA4B5xK,IAC9BmyB,UAAS,GACb,IAAIogJ,EAAoBL,GAAmBzjN,EAAKnN,EAAK,SAAU6wN,GAM/D,OALA/B,GAAgB3hN,EAAKuxC,EAAKuyK,GAC1BxyK,EAAUyyK,eAAe,CACvBlxN,GAAIA,EACJmxN,MAAM,IAED,CAAEnxN,GAAIA,EACf,EACIoxN,GAAgB,SAAU3yK,EAAWr9C,EAAM++M,GAC7C,OAAa,IAAT/+M,EACKmvN,GAAkBtvB,GAAQkf,EAAY1hK,GAC3B,IAATr9C,EAlDU,SAAUq9C,GAC/B,IAAIC,EAAMD,EAAUmiC,SACpB,MAAO,CACLp0E,MAAOgjN,GAAS/wK,EAAUtxC,IAAI2xE,UAAWqvI,GAAcG,eAAe5vK,IACtE6mE,IAAKiqG,GAAS/wK,EAAUtxC,IAAI2xE,UAAWqvI,GAAcI,aAAa7vK,IAEtE,CA6CW2yK,CAAiB5yK,GACfr9C,EA7CU,SAAUq9C,GAC/B,MAAO,CAAEC,IAAKD,EAAUmiC,SAC1B,CA4CW0wI,CAAiB7yK,GAEjBqyK,GAAsBryK,GAAW,EAE5C,EACI8yK,GAAkB1tN,EAAM0sN,GAAmB77B,GAAU,GAErD88B,GAAQnR,GAASp2H,IAEjBwnI,GAAiB,SAAUz2I,EAAQp5E,EAAMwlM,GAC3C,IAAI/lM,EAAQ25E,EAAO8O,SAASloF,EAAMwlM,GAClC,IAA4B,IAAxB/lM,EAAMoE,QAAQ,KAAa,CAC7B,IAAIisN,EAAU12I,EAAO8O,SAASloF,EAAM,GAAI,QACxC,OAAO2e,GAAMmxM,EAAS12I,EAAOh7E,IAAI0G,MAAM0gM,EACzC,CACE,OAAO/lM,CAEX,EAgBIswN,GAA2B,SAAU32I,GACvC,OAAOA,EAAO8O,SAAS,0BAA2B,GACpD,EAII8nI,GAAqB,SAAU52I,GACjC,GAAIA,EAAO8O,SAAS,oBAAoB,GACtC,MAAO,IAET,IAAIm4C,EAAQjnD,EAAO8O,SAAS,oBAAqB,KACjD,OAAc,IAAVm4C,EACK,IACY,IAAVA,EACF,IAEAA,CAEX,EACI4vF,GAA0B,SAAU72I,GACtC,OAAOA,EAAO8O,SAAS,0BAA2B,CAAC,EACrD,EAsBIgoI,GAA4B,SAAU92I,GACxC,OAAOA,EAAO8O,SAAS,qBAAqB,EAAM,UACpD,EACIioI,GAAsB,SAAU/2I,GAClC,OAAOA,EAAO8O,SAAS,yBAAyB,EAAO,UACzD,EAIIkoI,GAAkB,SAAUh3I,GAC9B,OAAOA,EAAO8O,SAAS,QAAS,GAAI,SACtC,EAIImoI,GAAoB,SAAUj3I,GAChC,OAAOA,EAAO8O,SAAS,oBAAqB,GAAI,SAClD,EACIooI,GAAyB,SAAUl3I,GACrC,OAAOA,EAAO8O,SAAS,0BAA2B,GAAI,SACxD,EACIqoI,GAA6B,SAAUn3I,GACzC,OAAOA,EAAO8O,SAAS,6BAA6B,EAAO,UAC7D,EACIsoI,GAAyB,SAAUp3I,GACrC,OAAOA,EAAO8O,SAAS,wBAAyB,KAAM,WACxD,EACIuoI,GAA0B,SAAUr3I,GACtC,OAAOA,EAAO8O,SAAS,oBAAoB,EAAO,UACpD,EACIwoI,GAAoB,SAAUt3I,GAChC,OAAOA,EAAO8O,SAAS,kBAAmB,GAAI,SAChD,EACIyoI,GAAkB,SAAUv3I,GAC9B,OAAOA,EAAO8O,SAAS,WAAY,KAAM,SAC3C,EAII0oI,GAAwB,SAAUx3I,GACpC,OAAOA,EAAO8O,SAAS,qBAAqB,EAC9C,EAgBI2oI,GAAa,SAAUz3I,GACzB,IAAI03I,EAAU13I,EAAO8O,SAAS,WAAY,IAC1C,OAAO0qG,EAAUk+B,GAAWA,EAAU99B,EAAM89B,EAAQl5L,MAAM,KAAMm8J,GAClE,EAOIg9B,GAAoB,SAAU33I,GAChC,IAAIllE,EAAWklE,EAAO8O,SAAS,mBAC/B,OAAiB,IAAbh0E,IAAsBwgL,GAAIE,MAGrBjC,EAAWz+K,GAAYA,EAAW,0CAE7C,EAOI88M,GAAe,SAAU53I,GAC3B,OAAOA,EAAO8O,SAAS,aACzB,EAII+oI,GAAW,SAAU73I,GACvB,OAAOA,EAAO8O,SAAS,QACzB,EACIgpI,GAAiB,SAAU93I,GAC7B,OAAOA,EAAO8O,SAAS,WACzB,EACIipI,GAA4B,SAAU/3I,GACxC,OAAgD,IAAzCA,EAAO8O,SAAS,oBACzB,EAmDIkpI,GAAoB,SAAUh4I,GAChC,OAAOA,EAAO8O,SAAS,mBACzB,EACImpI,GAAa,SAAUj4I,GACzB,OAAOA,EAAO8O,SAAS,UAAW,GAAI,SACxC,EAoBIz6E,GAAcwqL,GACdq5B,GAAW34B,GACX44B,GAAe,SAAU5lN,GAC3B,IAAIkK,EAAalK,EAAKkK,WAClBA,GACFA,EAAW0I,YAAY5S,EAE3B,EACI6lN,GAAY,SAAU9kN,GACxB,IAAI+kN,EAAcpyB,GAAO3yL,GACzB,MAAO,CACLuf,MAAOvf,EAAKtL,OAASqwN,EAAYrwN,OACjCsL,KAAM+kN,EAEV,EACIC,GAAkB,SAAUnxB,GAE9B,IADA,IAAIvsG,GACwD,KAApDA,EAAMusG,EAAetuK,KAAKsrD,YAAY4hH,MAC5CoB,EAAeoxB,WAAW39H,EAAK,EAEnC,EACI49H,GAAkB,SAAUrxB,EAAgB5yJ,GAE9C,OADA1R,GAASskK,GACF5yJ,CACT,EAYIkkL,GAA6B,SAAUtxB,EAAgB5yJ,GACzD,IAAI93B,EAAa83B,EAAI9Y,YACjBi9L,EAvvRU,SAAUtrN,EAAI9G,GAC5B,IAAIiH,EAAIN,EAAWG,EAAI9G,GACvB,OAAc,IAAPiH,EAAWV,EAAS1B,OAAS0B,EAASJ,KAAKc,EACpD,CAovRoBorN,CAAU7tN,GAAK2R,EAAWzJ,YAAam0L,GAAgBl7L,KAAI,SAAU4Q,GACrF,OAAOA,EAAQ03B,EAAIv3B,SAAWm2M,GAAc12M,EAAY83B,EAAIv3B,SAAW,GAAKu3B,CAC9E,IAAG7oC,MAAM6oC,GAET,OADA1R,GAASskK,GACFuxB,CACT,EACIE,GAA2B,SAAUzxB,EAAgB5yJ,GACvD,OAAO2jL,GAAS/wB,IAAmB5yJ,EAAI9Y,cAAgB0rK,EApB3B,SAAUA,EAAgB5yJ,GACtD,IAAIuO,EAASs1K,GAAUjxB,EAAetuK,KAAKtnB,OAAO,EAAGgjC,EAAIv3B,WACrD+lC,EAAQq1K,GAAUjxB,EAAetuK,KAAKtnB,OAAOgjC,EAAIv3B,WAErD,OADW8lC,EAAOxvC,KAAOyvC,EAAMzvC,MACtBtL,OAAS,GAChBswN,GAAgBnxB,GACTgsB,GAAchsB,EAAgB5yJ,EAAIv3B,SAAW8lC,EAAOjwB,QAEpD0hB,CAEX,CAU0EskL,CAAwB1xB,EAAgB5yJ,GAAOikL,GAAgBrxB,EAAgB5yJ,EACzJ,EAIIukL,GAAsB,SAAUr9L,EAAW8Y,GAC7C,OAAO4+K,GAAcO,eAAen/K,GAAOqkL,GAAyBn9L,EAAW8Y,GAJ/C,SAAU4yJ,EAAgB5yJ,GAC1D,OAAOA,EAAI9Y,cAAgB0rK,EAAe1qL,WAAag8M,GAA2BtxB,EAAgB5yJ,GAAOikL,GAAgBrxB,EAAgB5yJ,EAC3I,CAEwFwkL,CAA4Bt9L,EAAW8Y,EAC/H,EACI1R,GAAW,SAAUm2L,GACnB3kN,GAAY2kN,IAAuB1yB,GAAmB0yB,KACpDzyB,GAAWyyB,GACbA,EAAmBj6M,gBAAgB,kBAEnCo5M,GAAaa,IAGbd,GAASc,KACXV,GAAgBU,GACuB,IAAnCA,EAAmBngM,KAAK7wB,QAC1BmwN,GAAaa,GAGnB,EAEIC,GAAYhkN,KAASgE,QACrBigN,GAA2Br5B,GAC3Bs5B,GAAYp5B,GACZq5B,GAAgBt5B,GAEhBu5B,GAAwB,SAAU9mL,EAAMv+B,EAAS8uC,GACnD,IACIw2K,EACAC,EAFAtH,EAAap8I,GAAS7hE,EAAQmN,wBAAyB2hC,GAG3D,GAAqB,SAAjBvQ,EAAK8sJ,QAAoB,CAC3B,IAAI5rL,EAAS8+B,EAAKp2B,cAAcG,gBAChCg9M,EAAU/mL,EAAKpwB,YAAc1O,EAAO0O,WACpCo3M,EAAUhnL,EAAKtwB,WAAaxO,EAAOwO,SACrC,KAAO,CACL,IAAIu3M,EAAWjnL,EAAKpxB,wBACpBm4M,EAAU/mL,EAAKpwB,WAAaq3M,EAASzoN,KACrCwoN,EAAUhnL,EAAKtwB,UAAYu3M,EAAS/3M,GACtC,CACAwwM,EAAWlhN,MAAQuoN,EACnBrH,EAAWrsM,OAAS0zM,EACpBrH,EAAWxwM,KAAO83M,EAClBtH,EAAWpsM,QAAU0zM,EACrBtH,EAAWtsM,MAAQ,EACnB,IAAI8mE,EAASz4E,EAAQoM,YAAcpM,EAAQkS,YAQ3C,OAPIumE,EAAS,IACP3pC,IACF2pC,IAAW,GAEbwlI,EAAWlhN,MAAQ07E,EACnBwlI,EAAWrsM,OAAS6mE,GAEfwlI,CACT,EAyBIwH,GAAY,SAAUz5I,EAAQztC,EAAMgwC,EAASjwC,GAC/C,IACIonL,EACAV,EAFAW,EAAkBtzN,KAGlBuzN,EAAYhD,GAAmB52I,GAC/B65I,EAAaD,EAAU5xN,OAAS,EAAI4xN,EAAY,IAsChDr+I,EAAO,YAnEmB,SAAUhpC,GAExC,IADA,IAAIunL,EAAuBzzK,GAAY7zC,GAAaF,QAAQigC,GA9BhC,qDA+BnBzqC,EAAI,EAAGA,EAAIgyN,EAAqB9xN,OAAQF,IAAK,CACpD,IAYM+wB,EAZFtmB,EAAOunN,EAAqBhyN,GAAGqK,IAC/BmS,EAAU/R,EAAKsrL,gBACfoJ,GAAyB3iL,KAEP,KADhBuU,EAAOvU,EAAQuU,MACV7wB,OACPsc,EAAQ7H,WAAW0I,YAAYb,GAE/BA,EAAQi0M,WAAW1/L,EAAK7wB,OAAS,EAAG,IAGxCsc,EAAU/R,EAAKgS,YACXyiL,GAA2B1iL,KAET,KADhBuU,EAAOvU,EAAQuU,MACV7wB,OACPsc,EAAQ7H,WAAW0I,YAAYb,GAE/BA,EAAQi0M,WAAW,EAAG,GAG5B,CACF,CA6CIwB,CAA0BxnL,GACtBymL,IACFn2L,GAASm2L,GACTA,EAAqB,MAEvBW,EAAgB7hL,IAAG,SAAUkiL,GAC3B3X,GAAS2X,EAAW7kI,OAAOryD,SAC3B62L,EAAgBrhL,OAClB,IACIohL,IACFp3B,GAAMI,cAAcg3B,GACpBA,OAAiB5zN,EAErB,EACIm0N,EAAa,WACfP,EAAiBp3B,GAAMH,aAAY,WAC7B7vJ,IACF+vK,GAAS,uBAAwB9vK,GAAMi9B,YAAY,2BAEnD6yI,GAAS,uBAAwB9vK,GAAMsxH,SAAS,0BAEpD,GAAG,IACL,EAaA,MAAO,CACLr1E,KA1ES,SAAU1rC,EAAQ9uC,GAC3B,IAAI0vC,EAEJ,GADA63B,IACI69I,GAAcplN,GAChB,OAAO,KAET,IAAIuuE,EAAQvuE,GA2BV,OATAglN,EA3nMe,SAAUzmN,EAAMuwC,GACnC,IACIo3K,EADM3nN,EAAK4J,cACI5I,eAAewyL,IAC9BtpL,EAAalK,EAAKkK,WACtB,GAAKqmC,EAgBE,CAEL,GADIx+B,EAAU/R,EAAKsrL,gBACfsI,GAAS7hL,GAAU,CACrB,GAAIgiL,GAAmBhiL,GACrB,OAAOA,EAET,GAAI2iL,GAAyB3iL,GAC3B,OAAOA,EAAQ61M,UAAU71M,EAAQuU,KAAK7wB,OAAS,EAEnD,CACAyU,EAAW/W,aAAaw0N,EAAU3nN,EACpC,KA3Ba,CACX,IAAI+R,EAAU/R,EAAKgS,YACnB,GAAI4hL,GAAS7hL,GAAU,CACrB,GAAIgiL,GAAmBhiL,GACrB,OAAOA,EAET,GAAI0iL,GAA2B1iL,GAE7B,OADAA,EAAQ61M,UAAU,GACX71M,CAEX,CACI/R,EAAKgS,YACP9H,EAAW/W,aAAaw0N,EAAU3nN,EAAKgS,aAEvC9H,EAAWmI,YAAYs1M,EAE3B,CAYA,OAAOA,CACT,CA0lM2BE,CAAepmN,EAAS8uC,GAC7CY,EAAM1vC,EAAQmI,cAAckoC,cACxBg2K,GAAwBrB,EAAmBz0M,cAC7Cm/B,EAAIa,SAASy0K,EAAoB,GACjCt1K,EAAIgB,OAAOs0K,EAAoB,KAE/Bt1K,EAAIa,SAASy0K,EAAoB,GACjCt1K,EAAIgB,OAAOs0K,EAAoB,IAE1Bt1K,EA1BPs1K,EAAqBpyB,GAAcizB,EAAY7lN,EAAS8uC,GACxD,IAAImvK,EAAaoH,GAAsB9mL,EAAMv+B,EAAS8uC,GACtDu/J,GAAS2W,GAAoBz5M,IAAI,MAAO0yM,EAAWxwM,KACnD,IAAI0zE,EAAQktH,GAAS,6DAA6D9iM,IAAIzV,GAAS,CAAC,EAAGmoN,IAAarO,SAASrxK,GAAM,GAyBjI,OAxBEonL,EAAgB94M,IAAI,CAClBs0E,MAAOA,EACPnhF,QAASA,EACT8uC,OAAQA,IAENA,GACFu/J,GAASltH,GAAO0uE,SAAS,2BAE3Bo2D,KACAv2K,EAAM1vC,EAAQmI,cAAckoC,eACxBE,SAASy0K,EAAoB,GACjCt1K,EAAIgB,OAAOs0K,EAAoB,GAa1Bt1K,CACT,EAuCE63B,KAAMA,EACN++I,OANW,WACX,MAAO,sOACT,EAKErmL,WAhBe,WACf0lL,EAAgB7hL,IAAG,SAAUkiL,GAC3B,IAAI/H,EAAaoH,GAAsB9mL,EAAMynL,EAAWhmN,QAASgmN,EAAWl3K,QAC5Eu/J,GAAS2X,EAAW7kI,OAAO51E,IAAIzV,GAAS,CAAC,EAAGmoN,GAC9C,GACF,EAYEx5K,QAXY,WACZ,OAAO6pJ,GAAMI,cAAcg3B,EAC7B,EAWF,EACIa,GAA0B,WAC5B,OAAOtB,GAAU5hN,QAAU4hN,GAAU9hN,UAAY8hN,GAAU1hN,WAC7D,EACI8iN,GAA0B,SAAU9nN,GACtC,OAAO2mN,GAAyB3mN,IAAS4mN,GAAU5mN,EACrD,EACIioN,GAAoB,SAAUjoN,GAChC,OAAO8nN,GAAwB9nN,IAAS6sL,GAAU7sL,IAASgoN,IAC7D,EAEIE,GAA2B56B,GAC3B66B,GAAU36B,GACV46B,GAAc37B,GAAiB,UAAW,kDAC1C47B,GAAmBt0B,GACnBu0B,GAAwBz0B,GACxB9gH,GAAcu5G,GACdi8B,GAAqB9yB,GACrB+yB,GAAa,SAAUrvL,GACzB,OAAOA,EAAY,CACrB,EACIsvL,GAAc,SAAUtvL,GAC1B,OAAOA,EAAY,CACrB,EACIuvL,GAAsB,SAAU99B,EAAMhiK,GAExC,IADA,IAAI5oB,EACGA,EAAO4qL,EAAKhiK,IACjB,IAAK0/L,GAAsBtoN,GACzB,OAAOA,EAGX,OAAO,IACT,EACI2oN,GAAa,SAAU3oN,EAAMm5B,EAAWyvL,EAAa74I,EAAUnnD,GACjE,IAAI8tK,EAAS,IAAIpE,GAActyL,EAAM+vE,GACjC84I,EAAwBX,GAAyBloN,IAASsoN,GAAsBtoN,GACpF,GAAIyoN,GAAYtvL,GAAY,CAC1B,GAAI0vL,GAEED,EADJ5oN,EAAO0oN,GAAoBhyB,EAAOtjD,KAAKx5I,KAAK88L,IAAS,IAEnD,OAAO12L,EAGX,KAAOA,EAAO0oN,GAAoBhyB,EAAOtjD,KAAKx5I,KAAK88L,GAAS9tK,IAC1D,GAAIggM,EAAY5oN,GACd,OAAOA,CAGb,CACA,GAAIwoN,GAAWrvL,GAAY,CACzB,GAAI0vL,GAEED,EADJ5oN,EAAO0oN,GAAoBhyB,EAAOttJ,KAAKxvC,KAAK88L,IAAS,IAEnD,OAAO12L,EAGX,KAAOA,EAAO0oN,GAAoBhyB,EAAOttJ,KAAKxvC,KAAK88L,GAAS9tK,IAC1D,GAAIggM,EAAY5oN,GACd,OAAOA,CAGb,CACA,OAAO,IACT,EACI8oN,GAAmB,SAAU9oN,EAAM+vE,GACrC,KAAO/vE,GAAQA,IAAS+vE,GAAU,CAChC,GAAIq4I,GAAYpoN,GACd,OAAOA,EAETA,EAAOA,EAAKkK,UACd,CACA,OAAO,IACT,EACI6+M,GAAgB,SAAUC,EAAgBC,EAAgBl5I,GAC5D,OAAO+4I,GAAiBE,EAAe9/L,YAAa6mD,KAAc+4I,GAAiBG,EAAe//L,YAAa6mD,EACjH,EACIm5I,GAA+B,SAAUC,EAAgB3I,GAC3D,IAAKA,EACH,OAAO,KAET,IAAIt3L,EAAYs3L,EAAct3L,YAC1Bze,EAAS+1M,EAAc/1M,SAC3B,OAAKsoE,GAAY7pD,GAGVA,EAAUzoB,WAAWgK,EAAS0+M,GAF5B,IAGX,EACIC,GAAc,SAAU74K,EAAQvwC,GAClC,IAAI2xC,EAAQ3xC,EAAK4J,cAAckoC,cAQ/B,OAPIvB,GACFoB,EAAMI,eAAe/xC,GACrB2xC,EAAMO,aAAalyC,KAEnB2xC,EAAMM,cAAcjyC,GACpB2xC,EAAMS,YAAYpyC,IAEb2xC,CACT,EACI03K,GAAqB,SAAUrpL,EAAMspL,EAAOC,GAC9C,OAAOT,GAAiBQ,EAAOtpL,KAAU8oL,GAAiBS,EAAOvpL,EACnE,EACIwpL,GAAO,SAAUhrN,EAAMwhC,EAAMhgC,GAE/B,IADA,IAAI2yL,EAAcn0L,EAAO,kBAAoB,cACtCwB,GAAQA,IAASggC,GAAM,CAC5B,IAAIjuB,EAAU/R,EAAK2yL,GAInB,GAHI01B,GAAiBt2M,KACnBA,EAAUA,EAAQ4gL,IAEhBu1B,GAAyBn2M,IAAYo2M,GAAQp2M,GAAU,CACzD,GAAIs3M,GAAmBrpL,EAAMjuB,EAAS/R,GACpC,OAAO+R,EAET,KACF,CACA,GAAIw2M,GAAmBx2M,GACrB,MAEF/R,EAAOA,EAAKkK,UACd,CACA,OAAO,IACT,EACI0H,GAAWtb,EAAM8yN,IAAa,GAC9Bt3M,GAAUxb,EAAM8yN,IAAa,GAC7BK,GAAiB,SAAUtwL,EAAW6G,EAAM2R,GAC9C,IAAI3xC,EACA0pN,EAAWpzN,EAAMkzN,IAAM,EAAMxpL,GAC7B2pL,EAAYrzN,EAAMkzN,IAAM,EAAOxpL,GAC/B9W,EAAYyoB,EAAMP,eAClB3mC,EAASknC,EAAMe,YACnB,GAAImhJ,GAAwB3qK,GAAY,CACjC6pD,GAAY7pD,KACfA,EAAYA,EAAUhf,YAExB,IAAI0/M,EAAa1gM,EAAU/c,aAAa,kBACxC,GAAmB,WAAfy9M,IACF5pN,EAAOkpB,EAAUlX,YACbi2M,GAAkBjoN,IACpB,OAAO4R,GAAS5R,GAGpB,GAAmB,UAAf4pN,IACF5pN,EAAOkpB,EAAUoiK,gBACb28B,GAAkBjoN,IACpB,OAAO8R,GAAQ9R,EAGrB,CACA,IAAK2xC,EAAMqB,UACT,OAAOrB,EAET,GAAIq7I,GAAS9jK,GAAY,CACvB,GAAIm/L,GAAiBn/L,GAAY,CAC/B,GAAkB,IAAdiQ,EAAiB,CAEnB,GADAn5B,EAAO2pN,EAAUzgM,GAEf,OAAOtX,GAAS5R,GAGlB,GADAA,EAAO0pN,EAASxgM,GAEd,OAAOpX,GAAQ9R,EAEnB,CACA,IAAmB,IAAfm5B,EAAkB,CAEpB,GADAn5B,EAAO0pN,EAASxgM,GAEd,OAAOpX,GAAQ9R,GAGjB,GADAA,EAAO2pN,EAAUzgM,GAEf,OAAOtX,GAAS5R,EAEpB,CACA,OAAO2xC,CACT,CACA,GAAI+iJ,GAAyBxrK,IAAcze,GAAUye,EAAU5C,KAAK7wB,OAAS,EAC3E,OAAkB,IAAd0jC,IACFn5B,EAAO2pN,EAAUzgM,IAERtX,GAAS5R,GAGb2xC,EAET,GAAI8iJ,GAA2BvrK,IAAcze,GAAU,EACrD,OAAmB,IAAf0uB,IACFn5B,EAAO0pN,EAASxgM,IAEPpX,GAAQ9R,GAGZ2xC,EAET,GAAIlnC,IAAWye,EAAU5C,KAAK7wB,OAE5B,OADAuK,EAAO2pN,EAAUzgM,IAERtX,GAAS5R,GAEX2xC,EAET,GAAe,IAAXlnC,EAEF,OADAzK,EAAO0pN,EAASxgM,IAEPpX,GAAQ9R,GAEV2xC,CAEX,CACA,OAAOA,CACT,EACIk4K,GAAoB,SAAU1c,EAASqT,GACzC,OAAOlmN,EAAS/B,KAAK2wN,GAA6B/b,EAAU,GAAK,EAAGqT,IAAgBzmN,OAAOmuN,GAC7F,EACI4B,GAA6B,SAAU3wL,EAAW6G,EAAM2R,GAC1D,IAAIo4K,EAAkBN,GAAetwL,EAAW6G,EAAM2R,GACtD,OAAmB,IAAfxY,EACKynL,GAAcG,eAAegJ,GAE/BnJ,GAAcI,aAAa+I,EACpC,EACIC,GAAyB,SAAUhoL,GACrC,OAAO1nC,EAAS/B,KAAKypC,EAAIquC,WAAW32E,IAAIuG,GAAaF,QACvD,EAIIkqN,GAAyB,SAAUC,EAAQ1J,GAC7C,KAAOA,EAAgB0J,EAAO1J,IAC5B,GAAIA,EAAcr3K,YAChB,OAAOq3K,EAGX,OAAOA,CACT,EACI2J,GAAwB,SAAU5xN,EAAMD,GAC1C,IAAI8xN,EAAcrB,GAAcxwN,EAAMD,GACtC,QAAK8xN,IAAej9B,GAAO50L,EAAK83E,aAGzB+5I,CACT,GAGC,SAAU/I,GACTA,EAAWA,EAAsB,WAAK,GAAK,YAC3CA,EAAWA,EAAqB,SAAI,GAAK,UAC3C,CAHA,CAGEA,KAAeA,GAAa,CAAC,IAC/B,IA0cmBgJ,GA1cfC,GAA2Bh9B,GAC3BvrL,GAAWirL,GACXnnD,GAAYymD,GACZi+B,GAASp9B,GACTq9B,GAAmB/0B,GACnBg1B,GAnxMa,SAAUzqN,GACzB,OAAOs1L,GAAet1L,IATW,SAAUA,GAC3C,QAAK01L,GAA4B11L,KAKnB,IAFPnE,EAAMtD,GAAKyH,EAAK80L,qBAAqB,OAAO,SAAU96K,EAAQy2D,GACnE,OAAOz2D,GAAUi7K,GAAwBxkH,EAC3C,IAAG,EACL,CAEiCi6I,CAA6B1qN,EAC9D,EAkxMI2qN,GAA2B/0B,GAS3Bg1B,GAAc,SAAU1hM,EAAWze,GACrC,OAAIye,EAAU1oB,iBAAmBiK,EAASye,EAAUzoB,WAAWhL,OACtDyzB,EAAUzoB,WAAWgK,GAEvB,IACT,EACIogN,GAA4B,SAAU1xL,EAAWn5B,GACnD,GAAIwoN,GAAWrvL,GAAY,CACzB,GAAIqxL,GAAiBxqN,EAAKsrL,mBAAqBvpL,GAAS/B,EAAKsrL,iBAC3D,OAAOs1B,GAAcrwK,OAAOvwC,GAE9B,GAAI+B,GAAS/B,GACX,OAAO4gN,GAAc5gN,EAAM,EAE/B,CACA,GAAIyoN,GAAYtvL,GAAY,CAC1B,GAAIqxL,GAAiBxqN,EAAKgS,eAAiBjQ,GAAS/B,EAAKgS,aACvD,OAAO4uM,GAAcpwK,MAAMxwC,GAE7B,GAAI+B,GAAS/B,GACX,OAAO4gN,GAAc5gN,EAAMA,EAAKsmB,KAAK7wB,OAEzC,CACA,OAAIgzN,GAAYtvL,GACVoxL,GAAOvqN,GACF4gN,GAAcrwK,OAAOvwC,GAEvB4gN,GAAcpwK,MAAMxwC,GAEtB4gN,GAAcrwK,OAAOvwC,EAC9B,EAaI8qN,GAAsB,SAAU3xL,EAAW4xL,EAAU/qL,GACvD,IAAIhgC,EACAgrN,EACAC,EACAzK,EACJ,IAAK36E,GAAU7lG,KAAU+qL,EACvB,OAAO,KAET,GAAIA,EAASjK,QAAQF,GAAcpwK,MAAMxQ,KAAUA,EAAKyrJ,WAEtD,GADA+0B,EAAgBI,GAAcpwK,MAAMxQ,EAAKyrJ,WACrCg9B,GAAYtvL,IAAcqxL,GAAiBxqL,EAAKyrJ,YAAc5lD,GAAU7lG,EAAKyrJ,WAC/E,OAAO8+B,GAAOvqL,EAAKyrJ,WAAam1B,GAAcrwK,OAAOvQ,EAAKyrJ,WAAa+0B,OAGzEA,EAAgBuK,EAElB,IAAI7hM,EAAYs3L,EAAct3L,YAC1Bze,EAAS+1M,EAAc/1M,SAC3B,GAAI1I,GAASmnB,GAAY,CACvB,GAAIu/L,GAAYtvL,IAAc1uB,EAAS,EACrC,OAAOm2M,GAAc13L,IAAaze,GAEpC,GAAI+9M,GAAWrvL,IAAc1uB,EAASye,EAAUzzB,OAC9C,OAAOmrN,GAAc13L,IAAaze,GAEpCzK,EAAOkpB,CACT,KAAO,CACL,GAAIu/L,GAAYtvL,IAAc1uB,EAAS,IACrCugN,EAAWJ,GAAY1hM,EAAWze,EAAS,GACvC+/M,GAAiBQ,IACnB,OAAKP,GAASO,KACZC,EAAYtC,GAAWqC,EAAU7xL,EAAWwxL,GAA0BK,IAEhEjpN,GAASkpN,GACJrK,GAAcqK,EAAWA,EAAU3kM,KAAK7wB,QAE1CmrN,GAAcpwK,MAAMy6K,GAG3BlpN,GAASipN,GACJpK,GAAcoK,EAAUA,EAAS1kM,KAAK7wB,QAExCmrN,GAAcrwK,OAAOy6K,GAGhC,GAAIxC,GAAWrvL,IAAc1uB,EAASye,EAAUzoB,WAAWhL,SACzDu1N,EAAWJ,GAAY1hM,EAAWze,GAC9B+/M,GAAiBQ,IACnB,OAAIT,GAAOS,GA5DK,SAAUhrL,EAAMgrL,GACtC,IAAIh5M,EAAcg5M,EAASh5M,YAC3B,OAAIA,GAAew4M,GAAiBx4M,GAC9BjQ,GAASiQ,GACJ4uM,GAAc5uM,EAAa,GAE3B4uM,GAAcrwK,OAAOv+B,GAGvB84M,GAAoBzJ,GAAW6J,SAAUtK,GAAcpwK,MAAMw6K,GAAWhrL,EAEnF,CAkDiBmrL,CAAkBnrL,EAAMgrL,IAE5BP,GAASO,KACZC,EAAYtC,GAAWqC,EAAU7xL,EAAWwxL,GAA0BK,IAEhEjpN,GAASkpN,GACJrK,GAAcqK,EAAW,GAE3BrK,GAAcrwK,OAAO06K,GAG5BlpN,GAASipN,GACJpK,GAAcoK,EAAU,GAE1BpK,GAAcpwK,MAAMw6K,GAG/BhrN,EAAOgrN,GAAsBxK,EAAcnwI,SAC7C,CACA,IAAIm4I,GAAWrvL,IAAcqnL,EAAcpsB,WAAaq0B,GAAYtvL,IAAcqnL,EAActsB,eAC9Fl0L,EAAO2oN,GAAW3oN,EAAMm5B,EAAWjiC,EAAQ8oC,GAAM,GAC7C2qL,GAAyB3qN,EAAMggC,IACjC,OAAO6qL,GAA0B1xL,EAAWn5B,GAGhDgrN,EAAWrC,GAAW3oN,EAAMm5B,EAAWwxL,GAA0B3qL,GACjE,IAAIorL,EAA8Bz6I,GAAO42G,EA9HxB,SAAUvnL,EAAMggC,GAEjC,IADA,IAAIurI,EAAU,GACPvrK,GAAQA,IAASggC,GACtBurI,EAAQh5K,KAAKyN,GACbA,EAAOA,EAAKkK,WAEd,OAAOqhK,CACT,CAuHoD8/C,CAAaniM,EAAW8W,GAAOsqL,KACjF,OAAIc,GAAiCJ,GAAaI,EAA4B7hN,SAASyhN,GAQnFA,EACKH,GAA0B1xL,EAAW6xL,GAEvC,KATHxK,EADEgI,GAAWrvL,GACGynL,GAAcpwK,MAAM46K,GAEpBxK,GAAcrwK,OAAO66K,EAQ3C,EACIE,GAAc,SAAUtrL,GAC1B,MAAO,CACLoJ,KAAM,SAAUo3K,GACd,OAAOsK,GAAoBzJ,GAAW6J,SAAU1K,EAAexgL,EACjE,EACAozG,KAAM,SAAUotE,GACd,OAAOsK,GAAoBzJ,GAAWkK,UAAW/K,EAAexgL,EAClE,EAEJ,EASIwrL,GAAkB,SAAUl2M,GAC9B,OAAIsrM,GAAcO,eAAe7rM,GACF,IAAtBA,EAAS7K,SAETgrL,GAAmBngL,EAAS+6D,UAEvC,EACIo7I,GAAe,SAAUn2M,GAC3B,GAAIsrM,GAAcO,eAAe7rM,GAAW,CAC1C,IAAI4T,EAAY5T,EAAS4T,YACzB,OAAO5T,EAAS7K,WAAaye,EAAU5C,KAAK7wB,MAC9C,CACE,OAAOggM,GAAmBngL,EAAS+6D,SAAQ,GAE/C,EACIq7I,GAA2B,SAAUnzN,EAAMD,GAC7C,OAAQsoN,GAAcO,eAAe5oN,KAAUqoN,GAAcO,eAAe7oN,IAAOC,EAAK83E,YAAc/3E,EAAG+3E,SAAQ,EACnH,EAIIs7I,GAAqB,SAAUxe,EAAS50M,EAAMD,GAChD,OAAI60M,GACMue,GAAyBnzN,EAAMD,KALpBgd,EAKmC/c,KAJhDqoN,GAAcO,eAAe7rM,IAAa63K,GAAO73K,EAAS+6D,cAIDo7I,GAAalzN,IAASizN,GAAgBlzN,IAE7FozN,GAAyBpzN,EAAIC,IAASizN,GAAgBjzN,IAASkzN,GAAanzN,GAP3E,IAAUgd,CASvB,EACIs2M,GAAe,SAAUze,EAASntK,EAAMgC,GAC1C,IAAI00J,EAAS40B,GAAYtrL,GACzB,OAAO1lC,EAAS/B,KAAK40M,EAAUzW,EAAOttJ,KAAKpH,GAAO00J,EAAOtjD,KAAKpxG,GAChE,EACIkuB,GAAW,SAAUi9I,EAASntK,EAAMznC,GACtC,OAAOqzN,GAAaze,EAASntK,EAAMznC,GAAMqB,MAAK,SAAUtB,GACtD,OAAIywN,GAAcxwN,EAAMD,EAAI0nC,IAAS2rL,GAAmBxe,EAAS50M,EAAMD,GAC9DszN,GAAaze,EAASntK,EAAM1nC,GAE5BgC,EAASJ,KAAK5B,EAEzB,GACF,EACIuzN,GAAiB,SAAU1e,EAASntK,EAAMznC,EAAMuzN,GAClD,OAAO57J,GAASi9I,EAASntK,EAAMznC,GAAMqB,MAAK,SAAUooC,GAClD,OAAO8pL,EAAa9pL,GAAO6pL,GAAe1e,EAASntK,EAAMgC,EAAK8pL,GAAgBxxN,EAASJ,KAAK8nC,EAC9F,GACF,EACI+pL,GAAa,SAAU5e,EAAS1rM,GAClC,IAlD2BzB,EAkDvBs2J,EAAY62C,EAAU1rM,EAAQ2Q,WAAa3Q,EAAQgqL,UACvD,OAAIuB,GAAS12B,GACJh8J,EAASJ,KAAK0mN,GAActqD,EAAW62C,EAAU,EAAI72C,EAAUhwI,KAAK7wB,SAClE6gK,EACLm/B,GAAmBn/B,GACdh8J,EAASJ,KAAKizM,EAAUyT,GAAcrwK,OAAO+lH,GAtDjD62B,GADoBntL,EAuDuDs2J,GAtD5DsqD,GAAcrwK,OAAOvwC,GAAQ4gN,GAAcpwK,MAAMxwC,IALlD,SAAUmtM,EAASntK,EAAM/gC,GAC9C,IAAIqW,EAAW63L,EAAUyT,GAAcrwK,OAAOtxC,GAAS2hN,GAAcpwK,MAAMvxC,GAC3E,OAAO2sN,GAAaze,EAASntK,EAAM1qB,EACrC,CA0Da02M,CAAiB7e,EAAS1rM,EAAS60J,GAGrCh8J,EAAS1B,MAEpB,EACIqzN,GAAe31N,EAAMs1N,IAAc,GACnCM,GAAe51N,EAAMs1N,IAAc,GACnCO,GAAkB71N,EAAMy1N,IAAY,GACpCK,GAAiB91N,EAAMy1N,IAAY,GAEnCM,GAAa,aACbC,GAAc,SAAUtsN,GAC1B,OAAOssL,GAAYtsL,IAASA,EAAKvN,KAAO45N,EAC1C,EACIE,GAA0B,SAAUphN,EAAMnL,GAC5C,KAAOA,GAAQA,IAASmL,GAAM,CAC5B,GAAInL,EAAKvN,KAAO45N,GACd,OAAOrsN,EAETA,EAAOA,EAAKkK,UACd,CACA,OAAO,IACT,EAcIsiN,GAAiB,SAAUtJ,GAC7B,OAAO7rN,GAAMxC,QAAQquN,EAASjkN,MAChC,EAEIwtN,GAAW,SAAU7sN,EAAKI,GAI5B,OAHIssL,GAAYtsL,IAASJ,EAAIowE,QAAQhwE,KAAUA,EAAKO,YAAcwoL,GAAI5jL,KACpEnF,EAAKO,UAAY,6BAEZP,CACT,EAmBI0sN,GAAuB,SAAU1sN,EAAMmxC,GACzC,OAAOi7K,GAAepsN,GAAMjH,KAAK9B,GAAO,SAAU+qC,GAGhD,OAFAmP,EAAIa,SAAShQ,EAAI9Y,YAAa8Y,EAAIv3B,UAClC0mC,EAAIgB,OAAOnQ,EAAI9Y,YAAa8Y,EAAIv3B,WACzB,CACT,GACF,EACIkiN,GAAyB,SAAU3sL,EAAMhgC,EAAMmxC,GACjD,SAXc,SAAUnxC,GACxB,OAAgC,IAAzBA,EAAKQ,eACd,CASMosN,CAAU5sN,KAASusN,GAAwBvsL,EAAMhgC,MAjBtC,SAAUA,EAAMmxC,GAC/B,IAAIw2K,EAAW3nN,EAAK4J,cAAc5I,eAAewyL,IACjDxzL,EAAKqS,YAAYs1M,GACjBx2K,EAAIa,SAAS21K,EAAU,GACvBx2K,EAAIgB,OAAOw1K,EAAU,EACvB,CAaIkF,CAAW7sN,EAAMmxC,IACV,EAIX,EACI27K,GAAc,SAAUltN,EAAKX,EAAOikN,EAAU/xK,GAChD,IACI57C,EAAGyK,EAAMyK,EAAQL,EADjBokC,EAAQ00K,EAASjkN,EAAQ,QAAU,OAEnC+gC,EAAOpgC,EAAI2xE,UACf,GAAI/iC,EAAO,CAET,IADA/jC,EAAS+jC,EAAM,GACVxuC,EAAOggC,EAAMzqC,EAAIi5C,EAAM/4C,OAAS,EAAGF,GAAK,EAAGA,IAAK,CAEnD,GADA6U,EAAWpK,EAAKS,WACZksN,GAAuB3sL,EAAMhgC,EAAMmxC,GACrC,OAAO,EAET,GAAI3C,EAAMj5C,GAAK6U,EAAS3U,OAAS,EAC/B,QAAIk3N,GAAuB3sL,EAAMhgC,EAAMmxC,IAGhCu7K,GAAqB1sN,EAAMmxC,GAEpCnxC,EAAOoK,EAASokC,EAAMj5C,GACxB,CACsB,IAAlByK,EAAK6B,WACP4I,EAASqJ,KAAK8mB,IAAI4T,EAAM,GAAIxuC,EAAKuzC,UAAU99C,SAEvB,IAAlBuK,EAAK6B,WACP4I,EAASqJ,KAAK8mB,IAAI4T,EAAM,GAAIxuC,EAAKS,WAAWhL,SAE1CwJ,EACFkyC,EAAIa,SAAShyC,EAAMyK,GAEnB0mC,EAAIgB,OAAOnyC,EAAMyK,EAErB,CACA,OAAO,CACT,EACIsiN,GAAkB,SAAU/sN,GAC9B,OAAOgtL,GAAShtL,IAASA,EAAKsmB,KAAK7wB,OAAS,CAC9C,EACIu3N,GAAkB,SAAUptN,EAAKN,EAAQ4jN,GAC3C,IAAkDljN,EAAMqoF,EAAKj/C,EAAMgqG,EAE/DlqH,EAAWze,EAFXoH,EAASjS,EAAIoO,IAAIk1M,EAASzwN,GAAK,IAAM6M,GACrCskN,EAAOV,EAASU,KAEpB,GAAI/xM,EAAQ,CAwCV,GAvCA7R,EAAO6R,EAAO3H,WACC,UAAX5K,GACGskN,EAGC/xM,EAAOrR,iBACTR,EAAO6R,EAAOO,WACdi2E,EAAM,GACG0kI,GAAgBl7M,EAAOG,cAChChS,EAAO6R,EAAOG,YACdq2E,EAAM,GACG0kI,GAAgBl7M,EAAOy5K,kBAChCtrL,EAAO6R,EAAOy5K,gBACdjjG,EAAMx2E,EAAOy5K,gBAAgBhlK,KAAK7wB,SAElCuK,EAAO6R,EAAO3H,WACdm+E,EAAMzoF,EAAIytM,UAAUx7L,GAAU,GAbhCw2E,EAAMzoF,EAAIytM,UAAUx7L,GAgBtBqX,EAAYlpB,EACZyK,EAAS49E,IAEJu7H,EAGC/xM,EAAOrR,iBACTR,EAAO6R,EAAOO,WACdi2E,EAAM,GACG0kI,GAAgBl7M,EAAOy5K,kBAChCtrL,EAAO6R,EAAOy5K,gBACdjjG,EAAMx2E,EAAOy5K,gBAAgBhlK,KAAK7wB,SAElCuK,EAAO6R,EAAO3H,WACdm+E,EAAMzoF,EAAIytM,UAAUx7L,IAVtBw2E,EAAMzoF,EAAIytM,UAAUx7L,GAatBqX,EAAYlpB,EACZyK,EAAS49E,IAENu7H,EAAM,CAQT,IAPAxwE,EAAOvhI,EAAOy5K,gBACdliJ,EAAOv3B,EAAOG,YACd3a,GAAMsC,KAAKtC,GAAM0yL,KAAKl4K,EAAOpR,aAAa,SAAUT,GAC9CgtL,GAAShtL,KACXA,EAAKuzC,UAAYvzC,EAAKuzC,UAAU/zC,QAAQ,UAAW,IAEvD,IACOqS,EAASjS,EAAIoO,IAAIk1M,EAASzwN,GAAK,IAAM6M,IAC1CM,EAAI2wB,OAAO1e,GAAQ,GAEjBuhI,GAAQhqG,GAAQgqG,EAAKvxI,WAAaunC,EAAKvnC,UAAYmrL,GAAS55C,KAAU21C,GAAI3kL,QAC5EikF,EAAM+qD,EAAK7/F,UAAU99C,OACrB29I,EAAK65E,WAAW7jL,EAAKmK,WACrB3zC,EAAI2wB,OAAO6Y,GACXlgB,EAAYkqH,EACZ3oI,EAAS49E,EAEb,CACA,OAAO/tF,EAASJ,KAAK0mN,GAAc13L,EAAWze,GAChD,CACE,OAAOnQ,EAAS1B,MAEpB,EA0BIs0N,GAAY,SAAUh8K,EAAWgyK,GACnC,IAAItjN,EAAMsxC,EAAUtxC,IACpB,GAAIsjN,EAAU,CACZ,GAAIsJ,GAAetJ,GACjB,OA7Ba,SAAUtjN,EAAKsjN,GAChC,IAAI/xK,EAAMvxC,EAAImyE,YACd,OAAI+6I,GAAYltN,GAAK,EAAMsjN,EAAU/xK,IAAQ27K,GAAYltN,GAAK,EAAOsjN,EAAU/xK,GACtE72C,EAASJ,KAAKi3C,GAEd72C,EAAS1B,MAEpB,CAsBau0N,CAAavtN,EAAKsjN,GACpB,GA7LgB,SAAUA,GACnC,OAAOl8B,EAAWk8B,EAASjkN,MAC7B,CA2LemuN,CAAqBlK,GAC9B,OAAO5oN,EAASJ,KAxKa,SAAU0F,EAAKsjN,GAChD,IAAIlhL,EACAmP,EAAMvxC,EAAImyE,YAKd,OAJA/vC,EAAMqgL,GAAUziN,EAAI2xE,UAAW2xI,EAASjkN,OACxCkyC,EAAIa,SAAShQ,EAAI9Y,YAAa8Y,EAAIv3B,UAClCu3B,EAAMqgL,GAAUziN,EAAI2xE,UAAW2xI,EAASlrG,KACxC7mE,EAAIgB,OAAOnQ,EAAI9Y,YAAa8Y,EAAIv3B,UACzB0mC,CACT,CAgK2Bk8K,CAA6BztN,EAAKsjN,IAClD,GAzLQ,SAAUA,GAC3B,OAAO/kN,GAAM+kN,EAAU,KACzB,CAuLeoK,CAAapK,GACtB,OAzBU,SAAUtjN,EAAKsjN,GAC7B,IAAI6H,EAAWiC,GAAgBptN,EAAK,QAASsjN,GACzCqK,EAASP,GAAgBptN,EAAK,MAAOsjN,GACzC,OAAOxkN,GAAMqsN,EAAUwC,EAAO/zN,GAAGuxN,IAAW,SAAUyC,EAAMC,GAC1D,IAAIt8K,EAAMvxC,EAAImyE,YAGd,OAFA5gC,EAAIa,SAASy6K,GAAS7sN,EAAK4tN,EAAKtkM,aAAcskM,EAAK/iN,UACnD0mC,EAAIgB,OAAOs6K,GAAS7sN,EAAK6tN,EAAKvkM,aAAcukM,EAAKhjN,UAC1C0mC,CACT,GACF,CAgBau8K,CAAU9tN,EAAKsjN,GACjB,GAxLW,SAAUA,GAC9B,OAAO/kN,GAAM+kN,EAAU,OACzB,CAsLeyK,CAAgBzK,GACzB,OAjBa,SAAUtjN,EAAKsjN,GAChC,OAAO5oN,EAAS/B,KAAKqH,EAAIgrF,OAAOs4H,EAAS7uN,MAAM6uN,EAAS54M,QAAQ5Q,KAAI,SAAU+2E,GAC5E,IAAIt/B,EAAMvxC,EAAImyE,YAEd,OADA5gC,EAAI6gC,WAAWvB,GACRt/B,CACT,GACF,CAWay8K,CAAahuN,EAAKsjN,GACpB,GAhMW,SAAUA,GAC9B,OAAO/kN,GAAM+kN,EAAU,MACzB,CA8Le2K,CAAgB3K,GACzB,OAAO5oN,EAASJ,KAAKgpN,EAAS/xK,IAElC,CACA,OAAO72C,EAAS1B,MAClB,EAEIk1N,GAAgB,SAAU58K,EAAWr9C,EAAM++M,GAC7C,OAAOiR,GAAc3yK,EAAWr9C,EAAM++M,EACxC,EACI+Q,GAAiB,SAAUzyK,EAAWgyK,GACxCgK,GAAUh8K,EAAWgyK,GAAUvpN,MAAK,SAAUw3C,GAC5CD,EAAUyuH,OAAOxuH,EACnB,GACF,EACI48K,GAAmB,SAAU/tN,GAC/B,OAAOssL,GAAYtsL,IAA0B,SAAjBA,EAAK8sL,SAA6D,aAAvC9sL,EAAKmM,aAAa,gBAC3E,EAOI6hN,IALe3D,GAKH92B,GAJP,SAAU06B,GACf,OAAO5D,KAAa4D,CACtB,GAGEC,GAAe,SAAUl9I,GAC3B,MAAe,KAARA,IAAgD,IAAlC,cAAgB94E,QAAQ84E,EAC/C,EACIm9I,GAAY,SAAUn9I,GACxB,OAAQk9I,GAAal9I,KAASg9I,GAAOh9I,EACvC,EAEIo9I,GAAS,SAAUpuN,GACrB,QAASA,EAAK6B,QAChB,EAIIwsN,GAAY,SAAUzuN,EAAKsxC,EAAWC,GACxC,IAAI1mC,EAAS0mC,EAAIuB,YACbxpB,EAAYioB,EAAIC,eACpB,IAAIloB,IAAcioB,EAAIwB,eANJ,SAAU3yC,GAC5B,OAAOA,GAAQ,UAAU+C,KAAK/C,EAAK0B,SACrC,CAKQ4sN,CAAcplM,EAAUzoB,WAAWgK,MAIrC6hL,GAAYpjK,GAAY,CAC1B,IAAIykK,EAAQzkK,EAAUzoB,WAClBi2L,OAAS,EACTjsL,EAASkjL,EAAMl4L,QACjByzB,EAAYykK,EAAMljL,GAClBisL,EAAS,IAAIpE,GAAcppK,EAAWtpB,EAAI0xE,UAAUpoD,EAAWtpB,EAAIowE,YAEnE9mD,EAAYykK,EAAMA,EAAMl4L,OAAS,IACjCihM,EAAS,IAAIpE,GAAcppK,EAAWtpB,EAAI0xE,UAAUpoD,EAAWtpB,EAAIowE,WAC5D5mC,MAAK,IAEd,IAAK,IAAIppC,EAAO02L,EAAOjyL,UAAWzE,EAAMA,EAAO02L,EAAOttJ,OACpD,GAAI4jJ,GAAShtL,KAAUuuN,GAAmBvuN,GAGxC,OAFAmxC,EAAIa,SAAShyC,EAAM,QACnBkxC,EAAUyuH,OAAOxuH,EAIvB,CACF,EACIq9K,GAA0B,SAAUxuN,EAAMopC,EAAMqlL,GAClD,GAAIzuN,EAAM,CACR,IAAI0uN,EAAWtlL,EAAO,cAAgB,kBACtC,IAAKppC,EAAOyuN,EAAMzuN,EAAOA,EAAK0uN,GAAW1uN,EAAMA,EAAOA,EAAK0uN,GACzD,GAAIpiC,GAAYtsL,KAAUuuN,GAAmBvuN,GAC3C,OAAOA,CAGb,CACF,EACI2uN,GAAgB,SAAUlhJ,EAAQp5E,GAIpC,OAHI+5N,GAAO/5N,KACTA,EAAOA,EAAKqN,YAEL+rE,EAAO3xD,OAAO2jL,uBAAuBprM,EAAKsN,cACrD,EACI8pF,GAAU,SAAUk1C,EAAI12H,EAAQmqB,GAClC,OAAOusG,EAAG7kH,OAAOokL,aAAaj2L,EAAQmqB,EACxC,EACIm6L,GAAqB,SAAUvuN,EAAM4uN,GAIvC,QAHoB,IAAhBA,IACFA,GAAc,GAEZ15N,EAAc8K,IAASgtL,GAAShtL,GAAO,CACzC,IAAIsmB,EAAOsoM,EAAc5uN,EAAKsmB,KAAK9mB,QAAQ,KAAM,KAAUQ,EAAKsmB,KAChE,OAAOyvK,GAAiBzvK,EAC1B,CACE,OAAO,CAEX,EAIIuoM,GAAc,SAAU/6N,EAAOg7N,GAQjC,OAPI35N,EAAWrB,GACbA,EAAQA,EAAMg7N,GACL55N,EAAc45N,KACvBh7N,EAAQA,EAAM0L,QAAQ,WAAW,SAAUT,EAAK1K,GAC9C,OAAOy6N,EAAKz6N,IAAS0K,CACvB,KAEKjL,CACT,EACIi7N,GAAS,SAAUC,EAAMptB,GAK3B,OAHAA,EAAOA,GAAQ,GACfotB,EAAO,KAFPA,EAAOA,GAAQ,IAEGttN,UAAYstN,GAC9BptB,EAAO,IAAMA,EAAKlgM,UAAYkgM,GACvBotB,EAAKrtN,gBAAkBigM,EAAKjgM,aACrC,EACIstN,GAAsB,SAAUrvN,EAAK9L,EAAOO,GAU9C,MATa,UAATA,GAA6B,oBAATA,IACtBP,EAAQ8L,EAAIylF,MAAMvxF,IAEP,eAATO,GAAmC,MAAVP,IAC3BA,EAAQ,QAEG,eAATO,IACFP,EAAQA,EAAM0L,QAAQ,UAAW,IAAIA,QAAQ,QAAS,MAEjD,GAAK1L,CACd,EACI6oF,GAAW,SAAU/8E,EAAKI,EAAM3L,GAClC,OAAO46N,GAAoBrvN,EAAKA,EAAI+8E,SAAS38E,EAAM3L,GAAOA,EAC5D,EACI66N,GAAoB,SAAUtvN,EAAKI,GACrC,IAAImvN,EAKJ,OAJAvvN,EAAI0xE,UAAUtxE,GAAM,SAAUrI,GAE5B,OADAw3N,EAAavvN,EAAI+8E,SAAShlF,EAAG,qBACO,SAAfw3N,CACvB,IACOA,CACT,EACIC,GAAe,SAAUxvN,EAAKI,EAAMuI,GACtC,OAAO3I,EAAIkrF,WAAW9qF,EAAMuI,EAAU3I,EAAI2xE,UAC5C,EAkBI89I,GAAoB,SAAU5hJ,EAAQi3D,EAAY4qF,GACpD,IAAIzzM,EAAY,CACd,SACA,QACA,WACA,aACA,SACA,WAEE0zM,EAAY,SAAU3lI,GACxB,OAAOg+F,GAASh+F,GAAQ,SAAU/zE,EAAG3X,GACnC,OAAOrE,EAAOgiB,GAAW,SAAU2zM,GACjC,OAAOA,IAAatxN,CACtB,GACF,GACF,EACA,OAAOrE,EAAO4zE,EAAOm2D,UAAU51H,IAAI02H,IAAa,SAAU+qF,GACxD,IAAIC,EAAeH,EAAUE,GAC7B,OAAO51N,EAAO4zE,EAAOm2D,UAAU51H,IAAIshN,IAAkB,SAAUK,GAC7D,IAAIC,EAAeL,EAAUI,GAC7B,OA5hTQ,SAAUrzN,EAAIC,EAAIuM,GAI9B,YAHW,IAAPA,IACFA,EAAK+9K,GAEAJ,EAAS39K,GAAIA,GAAGxM,EAAIC,EAC7B,CAuhTaszN,CAAQH,EAAcE,EAC/B,GACF,GACF,EACIvsF,GAAgB,SAAUz5C,GAC5B,OAAOxrF,GAAkBwrF,EAAQ,QACnC,EACI05C,GAAmB,SAAU15C,GAC/B,OAAOxrF,GAAkBwrF,EAAQ,WACnC,EACIw5C,GAAiB,SAAUx5C,GAC7B,OAAOxrF,GAAkBwrF,EAAQ,SACnC,EAIIkmI,GAAyB,SAAUlmI,GACrC,OAAO05C,GAAiB15C,KAA6B,IAAlBA,EAAOxmB,SAAqBggE,GAAex5C,EAChF,EAEImmI,GAAiBhC,GACjBiC,GAAeZ,GACfa,GAAmB1B,GACnB2B,GAAcvB,GAIdwB,GAA4B,SAAUvwN,EAAKI,GAE7C,IADA,IAAIiK,EAASjK,EACNiK,GAAQ,CACb,GAAIqiL,GAAYriL,IAAWrK,EAAIqwE,mBAAmBhmE,GAChD,MAA0C,UAAnCrK,EAAIqwE,mBAAmBhmE,GAAsBA,EAASjK,EAE/DiK,EAASA,EAAOC,UAClB,CACA,OAAOlK,CACT,EACIowN,GAAW,SAAUnxN,EAAOe,EAAMyK,EAAQmc,GAE5C,IADA,IAAI7nB,EAAMiB,EAAKsmB,KACN/wB,EAAIkV,EAAQxL,EAAQ1J,GAAK,EAAIA,EAAIwJ,EAAItJ,OAAQwJ,EAAQ1J,IAAMA,IAClE,GAAIqxB,EAAU7nB,EAAI0yE,OAAOl8E,IACvB,OAAO0J,EAAQ1J,EAAI,EAAIA,EAG3B,OAAQ,CACV,EACI86N,GAAY,SAAUpxN,EAAOe,EAAMyK,GACrC,OAAO2lN,GAASnxN,EAAOe,EAAMyK,GAAQ,SAAUskB,GAC7C,OAAOi/L,GAAOj/L,IAAMm/L,GAAan/L,EACnC,GACF,EACIuhM,GAAc,SAAUrxN,EAAOe,EAAMyK,GACvC,OAAO2lN,GAASnxN,EAAOe,EAAMyK,EAAQ0jN,GACvC,EACIoC,GAAmB,SAAU3wN,EAAKuL,EAAM+d,EAAWze,EAAQxL,EAAOuxN,GACpE,IAAIC,EACA1gJ,EAAWnwE,EAAI0xE,UAAUpoD,EAAWtpB,EAAIowE,UAAY7kE,EACpDy/K,EAAO,SAAU1hK,EAAWze,EAAQnV,GACtC,IAAIo7N,EAAapT,GAAW19M,GACxB82L,EAASz3L,EAAQyxN,EAAWvgJ,UAAYugJ,EAAWjT,SACvD,OAAOnjN,EAAS/B,KAAKm+L,EAAOxtK,EAAWze,GAAQ,SAAU1J,EAAM4vN,GAC7D,OAAIZ,GAAehvN,EAAKmJ,aACd,GAERumN,EAAe1vN,EACRzL,EAAK2J,EAAO8B,EAAM4vN,GAE7B,GAAG5gJ,GACL,EAEA,OADkB66G,EAAK1hK,EAAWze,EAAQ4lN,IACvBz2N,MAAK,SAAUogB,GAChC,OAAOw2M,EAAwB5lC,EAAK5wK,EAAOkP,UAAWlP,EAAOvP,QAAUxL,GAAS,EAAI,GAAIqxN,IAAeh2N,EAASJ,KAAK8f,EACvH,IAAGvgB,SAAQ,WACT,OAAOg3N,EAAen2N,EAASJ,KAAK,CAClCgvB,UAAWunM,EACXhmN,OAAQxL,EAAQ,EAAIwxN,EAAah7N,SAC9B6E,EAAS1B,MAChB,GACF,EACIg4N,GAAuB,SAAUhxN,EAAKixN,EAAY1/K,EAAKjoB,EAAWypK,GAChE3F,GAAS9jK,IAAcq/J,GAAUr/J,EAAU5C,OAAS4C,EAAUypK,KAChEzpK,EAAYA,EAAUypK,IAGxB,IADA,IAAIpnB,EAAUykD,GAAapwN,EAAKspB,GACvB3zB,EAAI,EAAGA,EAAIg2K,EAAQ91K,OAAQF,IAClC,IAAK,IAAI4L,EAAI,EAAGA,EAAI0vN,EAAWp7N,OAAQ0L,IAAK,CAC1C,IAAI2vN,EAAYD,EAAW1vN,GAC3B,KAAIjM,EAAc47N,EAAU99K,YAAc89K,EAAU99K,YAAc7B,EAAI6B,aAGlEswF,GAAiBwtF,IAAclxN,EAAI0I,GAAGijK,EAAQh2K,GAAIu7N,EAAUvoN,WAC9D,OAAOgjK,EAAQh2K,EAEnB,CAEF,OAAO2zB,CACT,EACI6nM,GAAoB,SAAUtjJ,EAAQojJ,EAAY3nM,EAAWypK,GAC/D,IAAI3yL,EAAOkpB,EACPtpB,EAAM6tE,EAAO7tE,IACbogC,EAAOpgC,EAAI2xE,UACXqY,EAASinI,EAAW,GAIxB,GAHIxtF,GAAcz5C,KAChB5pF,EAAO4pF,EAAO92E,QAAU,KAAOlT,EAAI0xE,UAAUpoD,EAAW0gE,EAAO8qC,MAAO10F,KAEnEhgC,EAAM,CACT,IAAIgxN,EAAYpxN,EAAI0xE,UAAUpoD,EAAW,YACzClpB,EAAOJ,EAAI0xE,UAAU07G,GAAS9jK,GAAaA,EAAUhf,WAAagf,GAAW,SAAUlpB,GACrF,OAAOA,IAASggC,GAAQkwL,GAAYziJ,EAAQztE,EAC9C,GAAGgxN,EACL,CAIA,GAHIhxN,GAAQqjI,GAAcz5C,IAAWA,EAAO92E,UAC1C9S,EAAOgwN,GAAapwN,EAAKI,EAAM,SAAS5D,UAAU,IAAM4D,IAErDA,EAEH,IADAA,EAAOkpB,EACAlpB,EAAK2yL,KAAiB/yL,EAAIowE,QAAQhwE,EAAK2yL,MAC5C3yL,EAAOA,EAAK2yL,IACRo8B,GAAO/uN,EAAM,SAKrB,OAAOA,GAAQkpB,CACjB,EACI+nM,GAAsB,SAAUrxN,EAAKogC,EAAM9W,EAAWypK,GACxD,IAAI1oL,EAASif,EAAUhf,WACvB,OAAIhV,EAAcg0B,EAAUypK,QAEjB1oL,IAAW+1B,IAAQ/qC,EAAWgV,KAAWrK,EAAIowE,QAAQ/lE,KAGvDgnN,GAAoBrxN,EAAKogC,EAAM/1B,EAAQ0oL,GAElD,EACIu+B,GAAsB,SAAUtxN,EAAKixN,EAAY3nM,EAAWze,EAAQxL,GACtE,IAhHwBe,EAgHpBiK,EAASif,EACTypK,EAAc1zL,EAAQ,kBAAoB,cAC1C+gC,EAAOpgC,EAAI2xE,UACf,GAAIy7G,GAAS9jK,KAAe+mM,GAAiB/mM,KACvCjqB,EAAQwL,EAAS,EAAIA,EAASye,EAAU5C,KAAK7wB,QAC/C,OAAOyzB,EAGX,OAAa,CACX,IAAK2nM,EAAW,GAAGM,cAAgBvxN,EAAIowE,QAAQ/lE,GAC7C,OAAOA,EAET,IAAK,IAAI8H,EAAU9H,EAAO0oL,GAAc5gL,EAASA,EAAUA,EAAQ4gL,GAAc,CAC/E,IAAIi8B,EAAc5hC,GAASj7K,KAAak/M,GAAoBrxN,EAAKogC,EAAMjuB,EAAS4gL,GAChF,IAAKo9B,GAAeh+M,MA7HjBo7K,GADiBntL,EA8HuB+R,KA7HxB/R,EAAKmM,aAAa,mBAAsBnM,EAAKgS,eA6HRi+M,GAAiBl+M,EAAS68M,GAChF,OAAO3kN,CAEX,CACA,GAAIA,IAAW+1B,GAAQ/1B,EAAOC,aAAe81B,EAAM,CACjD9W,EAAYjf,EACZ,KACF,CACAA,EAASA,EAAOC,UAClB,CACA,OAAOgf,CACT,EACIkoM,GAAyB,SAAUloM,GACrC,OAAO6mM,GAAe7mM,EAAUhf,aAAe6lN,GAAe7mM,EAChE,EACImoM,GAAY,SAAU5jJ,EAAQt8B,EAAK0/K,EAAYS,QACpB,IAAzBA,IACFA,GAAuB,GAEzB,IAAIlgL,EAAiBD,EAAIC,eAAgBsB,EAAcvB,EAAIuB,YAAaC,EAAexB,EAAIwB,aAAcC,EAAYzB,EAAIyB,UACrHhzC,EAAM6tE,EAAO7tE,IACbgqF,EAASinI,EAAW,IACpBvkC,GAAYl7I,IAAmBA,EAAe5wC,kBAChD4wC,EAAiBitK,GAAUjtK,EAAgBsB,GACvCs6I,GAAS57I,KACXsB,EAAc,IAGd45I,GAAY35I,IAAiBA,EAAanyC,kBAC5CmyC,EAAe0rK,GAAU1rK,EAAcxB,EAAI6B,UAAYJ,EAAYA,EAAY,GAC3Eo6I,GAASr6I,KACXC,EAAYD,EAAaY,UAAU99C,SAGvC27C,EAAiB++K,GAA0BvwN,EAAKwxC,GAChDuB,EAAew9K,GAA0BvwN,EAAK+yC,GAC1Cy+K,GAAuBhgL,KACzBA,EAAiB2+K,GAAe3+K,GAAkBA,EAAiBA,EAAelnC,WAEhFknC,EADED,EAAI6B,UACW5B,EAAek6I,iBAAmBl6I,EAElCA,EAAep/B,aAAeo/B,EAE7C47I,GAAS57I,KACXsB,EAAcvB,EAAI6B,UAAY5B,EAAe37C,OAAS,IAGtD27N,GAAuBz+K,KACzBA,EAAeo9K,GAAep9K,GAAgBA,EAAeA,EAAazoC,WAExEyoC,EADExB,EAAI6B,UACSL,EAAa3gC,aAAe2gC,EAE5BA,EAAa24I,iBAAmB34I,EAE7Cq6I,GAASr6I,KACXC,EAAYzB,EAAI6B,UAAY,EAAIL,EAAal9C,SAG7C07C,EAAI6B,aACWu9K,GAAiB3wN,EAAK6tE,EAAO7hE,UAAWwlC,EAAgBsB,GAAa,EAAM4+K,GACjF33N,MAAK,SAAUoN,GACxB,IAAImiB,EAAYniB,EAAGmiB,UAAWze,EAAS1D,EAAG0D,OAC1C2mC,EAAiBloB,EACjBwpB,EAAcjoC,CAChB,IACe8lN,GAAiB3wN,EAAK6tE,EAAO7hE,UAAW+mC,EAAcC,GAAW,EAAO0+K,GAC9E33N,MAAK,SAAUoN,GACtB,IAAImiB,EAAYniB,EAAGmiB,UAAWze,EAAS1D,EAAG0D,OAC1CkoC,EAAezpB,EACf0pB,EAAYnoC,CACd,KAkCF,OAhCI24H,GAAex5C,IAAWA,EAAOunI,gBAC9B/tF,GAAex5C,IAAaojG,GAAS57I,IAAmC,IAAhBsB,IAC3DtB,EAAiB8/K,GAAoBtxN,EAAKixN,EAAYz/K,EAAgBsB,GAAa,IAEhF0wF,GAAex5C,IAAaojG,GAASr6I,IAAiBC,IAAcD,EAAaY,UAAU99C,SAC9Fk9C,EAAeu+K,GAAoBtxN,EAAKixN,EAAYl+K,EAAcC,GAAW,KAG7Ek9K,GAAuBlmI,KACzBx4C,EAAiBw/K,GAAqBhxN,EAAKixN,EAAY1/K,EAAKC,EAAgB,mBAC5EuB,EAAei+K,GAAqBhxN,EAAKixN,EAAY1/K,EAAKwB,EAAc,iBAEtE0wF,GAAcz5C,IAAW05C,GAAiB15C,MAC5Cx4C,EAAiB2/K,GAAkBtjJ,EAAQojJ,EAAYz/K,EAAgB,mBACvEuB,EAAeo+K,GAAkBtjJ,EAAQojJ,EAAYl+K,EAAc,eAC/D0wF,GAAcz5C,KACXhqF,EAAIowE,QAAQ5+B,KACfA,EAAiB8/K,GAAoBtxN,EAAKixN,EAAYz/K,EAAgBsB,GAAa,IAEhF9yC,EAAIowE,QAAQr9B,KACfA,EAAeu+K,GAAoBtxN,EAAKixN,EAAYl+K,EAAcC,GAAW,MAI/E05I,GAAYl7I,KACdsB,EAAc9yC,EAAIytM,UAAUj8J,GAC5BA,EAAiBA,EAAelnC,YAE9BoiL,GAAY35I,KACdC,EAAYhzC,EAAIytM,UAAU16J,GAAgB,EAC1CA,EAAeA,EAAazoC,YAEvB,CACLknC,eAAgBA,EAChBsB,YAAaA,EACbC,aAAcA,EACdC,UAAWA,EAEf,EAEI2+K,GAAS,SAAU3xN,EAAKuxC,EAAKi5C,GAC/B,IAAI13C,EAAcvB,EAAIuB,YAClBtB,EAAiBitK,GAAUltK,EAAIC,eAAgBsB,GAC/CE,EAAYzB,EAAIyB,UAChBD,EAAe0rK,GAAUltK,EAAIwB,aAAcC,EAAY,GACvD1xB,EAAU,SAAUysK,GACtB,IAAI6jC,EAAY7jC,EAAM,GAClBX,GAASwkC,IAAcA,IAAcpgL,GAAkBsB,GAAe8+K,EAAUlrM,KAAK7wB,QACvFk4L,EAAMrlG,OAAO,EAAG,GAElB,IAAImpI,EAAW9jC,EAAMA,EAAMl4L,OAAS,GAIpC,OAHkB,IAAdm9C,GAAmB+6I,EAAMl4L,OAAS,GAAKg8N,IAAa9+K,GAAgBq6I,GAASykC,IAC/E9jC,EAAMrlG,OAAOqlG,EAAMl4L,OAAS,EAAG,GAE1Bk4L,CACT,EACI+jC,EAAkB,SAAU1xN,EAAM3L,EAAMs9N,GAE1C,IADA,IAAIC,EAAW,GACR5xN,GAAQA,IAAS2xN,EAAS3xN,EAAOA,EAAK3L,GAC3Cu9N,EAASr/N,KAAKyN,GAEhB,OAAO4xN,CACT,EACIC,EAAe,SAAU7xN,EAAMggC,GACjC,OAAOpgC,EAAI0xE,UAAUtxE,GAAM,SAAUA,GACnC,OAAOA,EAAKkK,aAAe81B,CAC7B,GAAGA,EACL,EACI8xL,EAAe,SAAUx7D,EAAWq7D,EAASvoL,GAE/C,IADA,IAAIupJ,EAAcvpJ,EAAO,cAAgB,kBAChCppC,EAAOs2J,EAAWkV,EAAWxrK,EAAKkK,WAAYlK,GAAQA,IAAS2xN,EAAS3xN,EAAOwrK,EAAU,CAChGA,EAAWxrK,EAAKkK,WAChB,IAAI6nN,EAAaL,EAAgB1xN,IAASs2J,EAAYt2J,EAAOA,EAAK2yL,GAAcA,GAC5Eo/B,EAAWt8N,SACR2zC,GACH2oL,EAAW31N,UAEbguF,EAASlpE,EAAQ6wM,IAErB,CACF,EACA,GAAI3gL,IAAmBuB,EACrB,OAAOy3C,EAASlpE,EAAQ,CAACkwB,KAE3B,IAAIjc,EAAWv1B,EAAIi3M,mBAAmBzlK,EAAgBuB,GACtD,GAAI/yC,EAAI23M,UAAUnmK,EAAgBuB,GAChC,OAAOm/K,EAAa1gL,EAAgBjc,GAAU,GAEhD,GAAIv1B,EAAI23M,UAAU5kK,EAAcvB,GAC9B,OAAO0gL,EAAan/K,EAAcxd,GAEpC,IAAI68L,EAAaH,EAAazgL,EAAgBjc,IAAaic,EACvD6gL,EAAWJ,EAAal/K,EAAcxd,IAAawd,EACvDm/K,EAAa1gL,EAAgB4gL,GAAY,GACzC,IAAIJ,EAAWF,EAAgBM,IAAe5gL,EAAiB4gL,EAAaA,EAAWhgN,YAAa,cAAeigN,IAAat/K,EAAes/K,EAASjgN,YAAcigN,GAClKL,EAASn8N,QACX20F,EAASlpE,EAAQ0wM,IAEnBE,EAAan/K,EAAcs/K,EAC7B,EAEIl/K,GAAY,SAAU7B,GACxB,IAAI4B,EAAS,GACb,GAAI5B,EACF,IAAK,IAAI37C,EAAI,EAAGA,EAAI27C,EAAUiD,WAAY5+C,IACxCu9C,EAAOvgD,KAAK2+C,EAAUmD,WAAW9+C,IAGrC,OAAOu9C,CACT,EAWIo/K,GAAqB,SAAUp/K,GACjC,OAAOy0I,EAXc,SAAUz0I,GAC/B,OAAOl5C,GAAKk5C,GAAQ,SAAUnB,GAC5B,IAAI3xC,EAAOo+M,GAAgBzsK,GAC3B,OAAO3xC,EAAO,CAACC,GAAaF,QAAQC,IAAS,EAC/C,GACF,CAMkBmyN,CAAiBr/K,GAASugJ,GAC5C,EAII++B,GAA8B,SAAUt/K,EAAQrxC,GAClD,IAAI4wN,EAHGv+K,GAGiCryC,EAHhB,+CAIxB,OAAO4wN,EAAc58N,OAAS,EAAI48N,EAAgBH,GAAmBp/K,EACvE,EACIw/K,GAAqB,SAAU7kJ,GACjC,OAAO2kJ,GAA4Br/K,GAAU06B,EAAOv8B,UAAUqhL,UAAWtyN,GAAaF,QAAQ0tE,EAAO7hE,WACvG,EACI4mN,GAAkB,SAAU97J,EAAM10C,GACpC,OAAOC,GAAWy0C,EAAM,QAAS10C,EACnC,EAkBIywM,GAAmB,SAAUzyN,GAC/B,OAAOoS,GAAWpS,GAAMjH,KAAKmqB,EAAS,CAACljB,KAAQ,SAAUo0B,GACvD,MAAO,CAACp0B,GAAMrJ,OAAO87N,GAAiBr+L,GACxC,GACF,EACIs+L,GAAoB,SAAU1yN,GAChC,OAAOyrL,GAAUzrL,GAAMjH,KAAKmqB,EAAS,CAACljB,KAAQ,SAAUo0B,GACtD,MAAoB,OAAhB//B,GAAK+/B,GACAi3J,GAAYj3J,GAAO16B,KAAI,SAAUqY,GACtC,MAAO,CAAC/R,GAAMrJ,OAAO+7N,GAAkB3gN,GACzC,IAAG5Y,MAAM,IAEF,CAAC6G,GAAMrJ,OAAO+7N,GAAkBt+L,GAE3C,GACF,EACIu+L,GAAyB,SAAUliJ,EAAKt/B,GAC1C,OAAOzyC,GAjCU,SAAUyyC,GAC3B,IAAI4uK,EAAK5uK,EAAIC,eAAgB6uK,EAAK9uK,EAAIuB,YACtC,OAAIs6I,GAAS+yB,GACG,IAAPE,EAAW3lN,EAASJ,KAAK+F,GAAaF,QAAQggN,IAAOzlN,EAAS1B,OAE9D0B,EAAS/B,KAAKwnN,EAAGt/M,WAAWw/M,IAAKvmN,IAAIuG,GAAaF,QAE7D,CA0Be6yN,CAAazhL,GAzBX,SAAUA,GACzB,IAAI6uK,EAAK7uK,EAAIwB,aAAcutK,EAAK/uK,EAAIyB,UACpC,OAAIo6I,GAASgzB,GACJE,IAAOF,EAAG15L,KAAK7wB,OAAS6E,EAASJ,KAAK+F,GAAaF,QAAQigN,IAAO1lN,EAAS1B,OAE3E0B,EAAS/B,KAAKynN,EAAGv/M,WAAWy/M,EAAK,IAAIxmN,IAAIuG,GAAaF,QAEjE,CAkBkC8yN,CAAW1hL,IAAM,SAAUmlH,EAAWq7D,GACpE,IAAI1yN,EAAQkE,EAAOsvN,GAAiBhiJ,GAAMn6E,EAAMwS,GAAIwtJ,IAChDt+C,EAAM70G,EAAOuvN,GAAkBjiJ,GAAMn6E,EAAMwS,GAAI6oN,IACnD,OAAO1yN,EAAMhG,UAAY++G,EAAI/+G,QAC/B,IAAGE,OAAM,EACX,EACI25N,GAAe,SAAUlzN,EAAKuxC,EAAKnxC,EAAMf,GAC3C,IAAI+gC,EAAOhgC,EAAM02L,EAAS,IAAIpE,GAActyL,EAAMggC,GAC9C27J,EAAoC/T,GAAShoL,EAAIkc,OAAOgkL,qCAAqC,SAAUjqL,EAAGxhB,GAC5G,OAAQ+yL,EAAW,CACjB,KACA,KACA,SACC/yL,EAAKsN,cACV,IACA,EAAG,CACD,GAAIqrL,GAAShtL,IAA+C,IAAtC3I,GAAMu8C,KAAK5zC,EAAKuzC,WAAW99C,OAM/C,YALIwJ,EACFkyC,EAAIa,SAAShyC,EAAM,GAEnBmxC,EAAIgB,OAAOnyC,EAAMA,EAAKuzC,UAAU99C,SAIpC,GAAIkmM,EAAkC37L,EAAK0B,UAUzC,YATIzC,EACFkyC,EAAIY,eAAe/xC,GAEG,OAAlBA,EAAK0B,SACPyvC,EAAIe,aAAalyC,GAEjBmxC,EAAIiB,YAAYpyC,GAKxB,OAASA,EAAOf,EAAQy3L,EAAOttJ,OAASstJ,EAAOtjD,QACzB,SAAlBpzG,EAAKt+B,WACHzC,EACFkyC,EAAIa,SAAShS,EAAM,GAEnBmR,EAAIgB,OAAOnS,EAAMA,EAAKv/B,WAAWhL,QAGvC,EACIs9N,GAAe,SAAUtlJ,GAC3B,IAAIz4B,EAAMy4B,EAAOv8B,UAAUqhL,SAC3B,OAAOv9K,GAAOA,EAAIb,WAAa,CACjC,EACI6+K,GAAc,SAAUvlJ,EAAQjQ,GAClC,IAAIy1J,EAAqBX,GAAmB7kJ,GACxCwlJ,EAAmBx9N,OAAS,EAC9B6xL,EAAO2rC,GAAoB,SAAUzqN,GACnC,IAAIxI,EAAOwI,EAAK5I,IACZszN,EAAczlJ,EAAO7tE,IAAImyE,YAC7BmhJ,EAAYnhL,eAAe/xC,GAC3BkzN,EAAY9gL,YAAYpyC,GACxBw9D,EAAS01J,GAAa,EACxB,IAEA11J,EAASiQ,EAAOv8B,UAAUmiC,UAAU,EAExC,EACIrJ,GAAW,SAAU94B,EAAWiiL,EAAc31J,GAChD,IAAI0lJ,EAAWK,GAAsBryK,EAAWiiL,GAChD31J,EAAS0lJ,GACThyK,EAAUyyK,eAAeT,EAC3B,EAyBIkQ,GAvBY,SAAU9qN,EAAIjU,GAC5B,IAMIi/C,EAAY,SAAU7xC,GACxB,OAAO6G,EAAG7G,GAAWnH,EAAS/B,KAAKkJ,EAAQ7B,IAAI2zC,WAAaj5C,EAAS1B,MACvE,EAOA,MAAO,CACLoV,IAhBQ,SAAUvM,GAClB,IAAK6G,EAAG7G,GACN,MAAM,IAAIzK,MAAM,gBAAkB3C,EAAO,eAAiBA,EAAO,SAEnE,OAAOi/C,EAAU7xC,GAAStI,MAAM,GAClC,EAYEm6C,UAAWA,EACXhlC,IATQ,SAAU7M,EAAS3N,GAC3B,IAAKwU,EAAG7G,GACN,MAAM,IAAIzK,MAAM,oBAAsB3C,EAAO,eAAiBA,EAAO,SAEvEoN,EAAQ7B,IAAI2zC,UAAYz/C,CAC1B,EAMF,CAEY0/C,CAAU03I,GAAU,QAC5B3qI,GAAQ,SAAU9+C,GACpB,OAAO2xN,GAAMplN,IAAIvM,EACnB,EAKI+xE,GAAU,SAAU/F,EAAQjlE,EAAM6qN,EAAU3xN,GAC9C,OAAOuI,GAAOzB,GAAMzP,MAAK,WACvB,MAAO,UACT,IAAG,SAAUkR,GACX,MAAiB,OAAbvI,GAPU,SAAU8G,GAC1B,OAAO0iL,GAAS1iL,IAAS+3C,GAAM/3C,KAAUgrL,EAC3C,CAK6B8/B,CAAY9qN,GAC5B,QA5uFM,SAAUA,GAC3B,OAAOyiL,GAAYziL,IAASgoB,GAAIhoB,EAAMizM,KACxC,CA2uFe8X,CAAa/qN,GACf,WACE8jN,GAAY9jN,EAAK5I,KACnB,QACG6rF,GAAQhe,EAAQ4lJ,EAAU3xN,IAAc+pF,GAAQhe,EAAQp5E,GAAK4V,GAASopN,GAGzE,QAFA,eAIX,GACF,EAQIG,GAAiB,SAAUC,EAAM1sN,EAAI80M,EAAgB6X,GACvD,IAAI9uL,EAAK79B,EAAGqgB,IAAKA,OAAa,IAAPwd,EAAgB0hB,GAAS,kBAAoB1hB,EAAIte,EA77T1E,SAAgB5uB,EAAGO,GACjB,IAAIjE,EAAI,CAAC,EACT,IAAK,IAAI4D,KAAKF,EACRF,OAAOtD,UAAU2D,eAAeC,KAAKJ,EAAGE,IAAMK,EAAEC,QAAQN,GAAK,IAC/D5D,EAAE4D,GAAKF,EAAEE,IACb,GAAS,MAALF,GAAqD,mBAAjCF,OAAOW,sBACxB,KAAI5C,EAAI,EAAb,IAAgBqC,EAAIJ,OAAOW,sBAAsBT,GAAInC,EAAIqC,EAAEnC,OAAQF,IAC7D0C,EAAEC,QAAQN,EAAErC,IAAM,GAAKiC,OAAOtD,UAAUkE,qBAAqBN,KAAKJ,EAAGE,EAAErC,MACzEvB,EAAE4D,EAAErC,IAAMmC,EAAEE,EAAErC,IAFgC,CAIpD,OAAOvB,CACT,CAk7TiFgE,CAAO+O,EAAI,CAAC,QACvF4sN,EAAS1zN,GAAaW,QAAQ,OAAQ6yN,GAC1ChjM,GAAMkjM,EAAQlY,MACdt+I,GAAMw2J,EAAQ,GAAKhY,KAAoBv0L,GACvC+1C,GAAMw2J,EAAQ,GAAKjY,KAAkBG,GACrC,IAAIvuF,EAAKomG,EAAStsM,EAAKd,GAAOujI,EAAKv8B,EAAGlgG,WAAYA,OAAoB,IAAPy8H,EAAgB,CAAC,EAAIA,EAAIvkB,EAAKhY,EAAGngG,QAASA,OAAiB,IAAPm4G,EAAgB,GAAKA,EAGxI,OAFAt5H,GAAS2nN,EAAQvmM,GApnFT,SAAU3rB,EAAS0rB,GAC3Bm6J,EAAOn6J,GAAS,SAAUp5B,GACxB08B,GAAMhvB,EAAS1N,EACjB,GACF,CAinFEL,CAAIigO,EAAQxmM,GACLwmM,CACT,EACIC,GAAW,SAAUnmJ,EAAQt8B,EAAK0qK,EAAgB6X,EAAUptM,GAC9D,IAAIutM,EAAc,GACdF,EAASH,GAAe/lJ,EAAO6C,SAAUhqD,EAAMu1L,EAAgB6X,GAC/D5gN,EAAUhf,KACVggO,EAAgB,WAClBhhN,EAAQizB,OACV,EASIguL,EAAkB,SAAUjjG,GAC9Bw2D,EAAOx2D,EAAOkjG,EAChB,EACIA,EAAiB,SAAUxrN,GAE7B,OADUgrE,GAAQ/F,EAAQjlE,EAAM,OAAQnU,GAAKmU,KAE7C,IAAK,gBACDsrN,IACA,IAAI/gN,EAAa3I,GAAS5B,GAC1BurN,EAAgBhhN,GAChB+gN,IACA,MAEJ,IAAK,QACD,IAAI1+M,EArBDtC,EAAQ9E,MAAM5U,YAAW,WAC9B,IAAIqJ,EAAKmmB,GAAQ+qM,GAGjB,OAFAE,EAAYthO,KAAKkQ,GACjBqQ,EAAQxE,IAAI7L,GACLA,CACT,KA3jSS,SAAUhB,EAASqR,GAC9B+4K,GAASpqL,EAASqR,GAClBR,GAASQ,EAASrR,EACpB,CAykSQwyN,CAAOzrN,EAAM4M,GAInB,EASA,OAJAm8M,GAAO9jJ,EAAO7tE,IAAKuxC,GAAK,SAAUw8I,GAChCmmC,IALiB,SAAUnmC,GAC3B,IAAI78D,EAAQu2D,EAAMsG,EAAO1tL,GAAaF,SACtCg0N,EAAgBjjG,EAClB,CAGEojG,CAAavmC,EACf,IACOkmC,CACT,EACIM,GAAuB,SAAU1mJ,EAAQp5E,EAAM05E,EAAUznD,GAC3DmnD,EAAO42E,YAAYC,UAAS,WAC1B,IAAIpzG,EAAYu8B,EAAOv8B,UACnBkjL,EAAaljL,EAAUmiC,SACvBghJ,EAAmB/B,GAAmB7kJ,GAAQh4E,OAAS,EAI3D,GAHI2+N,EAAWphL,YAAcqhL,GAnEb,SAAU5mJ,EAAQt8B,GACpC,IAAIn2C,EAAIq2N,GAAU5jJ,EAAQt8B,EAAK,CAAC,CAAE8sC,OAAQ,UAC1C9sC,EAAIa,SAASh3C,EAAEo2C,eAAgBp2C,EAAE03C,aACjCvB,EAAIgB,OAAOn3C,EAAE23C,aAAc33C,EAAE43C,WAC7B66B,EAAOv8B,UAAUyuH,OAAOxuH,EAC1B,CA+DMmjL,CAAc7mJ,EAAQ2mJ,GAEpBljL,EAAUmiC,SAASrgC,YAAcqhL,EAAkB,CACrD,IAAIvhN,EAAU0gN,GAAe/lJ,EAAO6C,SAAUhqD,EAAMjyB,EAAM05E,EAAS2lJ,UACnEplN,GAAIwE,EAASygL,IACbriJ,EAAUmiC,SAAS7C,WAAW19D,EAAQlT,KACtCsxC,EAAU05C,OAAO93E,EAAQlT,IAC3B,MACEoqE,GAAS94B,GAAW,GAAO,WACzB8hL,GAAYvlJ,GAAQ,SAAU8mJ,GAC5BX,GAASnmJ,EAAQ8mJ,EAAclgO,EAAM05E,EAAS2lJ,SAAUptM,EAC1D,GACF,GAEJ,GACF,EAEIkuM,GAAY,SAAU/mJ,GACxB,IAxtFIivI,EAwtFA7mI,GAxtFA6mI,EAAc,CAAC,EAYZ,CACL5mH,SAZa,SAAUzhG,EAAM05E,GAC7B2uI,EAAYroN,GAAQ,CAClBA,KAAMA,EACN05E,SAAUA,EAEd,EAQEpvB,OAPW,SAAUtqD,GACrB,OAAO2e,GAAM0pM,EAAaroN,GAAMqF,KAAI,SAAUhF,GAC5C,OAAOA,EAAEq5E,QACX,GACF,IA8sFA+uI,GAAQrvI,EAAQoI,GAChB,IAAIgsF,EAAUq6C,GAAQzuI,GACtB,MAAO,CACLqoB,SAAU,SAAUzhG,EAAM05E,GACxB8H,EAASigB,SAASzhG,EAAM05E,EAC1B,EACA6lJ,SAAU,SAAUv/N,EAAMiyB,GACxBuvD,EAASl3B,OAAOtqD,GAAMsF,MAAK,SAAUo0E,GACnComJ,GAAqB1mJ,EAAQp5E,EAAM05E,EAAUznD,EAC/C,GACF,EACAmuM,kBAAmB,SAAUpgO,EAAM+1F,GACjCy3E,EAAQg7C,YAAYxoN,EAAM+1F,EAC5B,EACA75D,OAAQ,SAAUl8B,GAChBunN,GAASnuI,EAAQnzE,EAASJ,KAAK7F,IAAOsF,MAAK,SAAUoN,GACnD,IAAIwL,EAAWxL,EAAGwL,SAClB+0K,EAAO/0K,EAAUM,GACnB,GACF,EACAijE,OAAQ,SAAUzhF,GAChB,IAAI0tE,EA91FI,SAAU0L,EAAQp5E,GAC9B,IAAI8W,EAAOlL,GAAaF,QAAQ0tE,EAAO7hE,WACnCy0D,EAAUvsB,GAAY3oC,EAAM,IAAMuwM,KAAmB,KAAOrnN,EAAO,MACnE0tE,EAAY,CAAC,EAMjB,OALAulH,EAAOjnH,GAAS,SAAU4kB,GACxB,IAAI79D,EAAMiJ,GAAM40D,EAAG02H,MACf+Y,EAAe1hN,GAAM+uD,EAAW36C,GAAKjuB,MAAM,IAC/C4oE,EAAU36C,GAAOstM,EAAa/9N,OAAO,CAACsuF,GACxC,IACOljB,CACT,CAo1FsB4yJ,CAAQlnJ,EAAQp5E,GAChC,OAAO+G,GAAM2mE,GAAW,SAAU+uD,GAChC,OAAOu2D,EAAMv2D,GAAO,SAAUtoH,GAC5B,OAAOA,EAAK5I,GACd,GACF,GACF,EAEJ,EAEIg1N,GAAkB,SAAU1jL,GAC9B,MAAO,CACL2jL,YAAav+N,EAAMw3N,GAAe58K,GAClCyyK,eAAgBrtN,EAAMqtN,GAAgBzyK,GAE1C,EACA0jL,GAAgB7E,eAAiBhC,GAEjC,IAAI+G,GAA2B,SAAU90L,EAAMhgC,GAC7C,KAAOA,GAAQA,IAASggC,GAAM,CAC5B,GAAIqtJ,GAAwBrtL,IAASstL,GAAyBttL,GAC5D,OAAOA,EAETA,EAAOA,EAAKkK,UACd,CACA,OAAO,IACT,EAEI6qN,GAAkB,SAAU7jN,EAASC,EAASwgC,GAChD,GAAIA,EAAMqB,UACR,OAAO,EAET,GAAI+1I,GAAIriL,QAAQ5B,QAAU6sC,EAAMe,cAAgBf,EAAMiB,UAAY,GAAKjB,EAAMP,iBAAmBO,EAAMgB,aAAc,CAClH,IAAI89B,EAAM9+B,EAAMP,eAAe3wC,WAAWkxC,EAAMe,aAChD,GAAI45I,GAAY77G,GACd,OAAO52E,EAAO42E,EAAIt7B,kBAAkB,SAAU/T,GAC5C,OAAO+8K,GAAW/8K,EAAMlwB,EAASC,EACnC,GAEJ,CACA,OAAOtX,EAAO83C,EAAMwD,kBAAkB,SAAU/T,GAC9C,OAAO+8K,GAAW/8K,EAAMlwB,EAASC,EACnC,GACF,EA6CI6jN,GAAY,SAAUvnJ,EAAQwnJ,EAAWt0N,GAC3C,OAAO8sE,EAAOsZ,KAAKkuI,EAAWt0N,EAChC,EACIu0N,GAAkB,SAAUznJ,EAAQmc,EAAQ5pF,EAAM8uN,GACpD,OAAOrhJ,EAAOsZ,KAAK,cAAe,CAChC6C,OAAQA,EACR5pF,KAAMA,EACN8uN,KAAMA,GAEV,EACIqG,GAAmB,SAAU1nJ,EAAQmc,EAAQ5pF,EAAM8uN,GACrD,OAAOrhJ,EAAOsZ,KAAK,eAAgB,CACjC6C,OAAQA,EACR5pF,KAAMA,EACN8uN,KAAMA,GAEV,EAEIsG,GAAK,CACPtpK,UAAW,EACXupK,OAAQ,GACR/oK,KAAM,GACNN,MAAO,GACPspK,IAAK,GACLnpK,KAAM,GACNE,MAAO,GACPukE,SAAU,GACV7kE,IAAK,EACLK,GAAI,GACJmpK,QAAS,GACTC,UAAW,GACXC,IAAK,GACLC,KAAM,GACNC,gBAAiB,SAAU19N,GACzB,OAAOA,EAAE+0D,UAAY/0D,EAAEi1D,SAAWj1D,EAAE29N,QAAUR,GAAGS,eAAe59N,EAClE,EACA49N,eAAgB,SAAU59N,GACxB,OAAO8wL,GAAIroG,IAAMzoF,EAAEksM,QAAUlsM,EAAEi1D,UAAYj1D,EAAE29N,MAC/C,GAGEE,GAA2BxoC,GAC3ByoC,GAAmB,SAAU7kL,EAAWu8B,GAC1C,IAEIuoJ,EAAaC,EAAkBC,EAAcC,EAAgBC,EAC7D3oG,EAAQC,EAAoC2oG,EAAQC,EAAQC,EAAOC,EACnEpjN,EAAOvE,EAGP4nN,EAAkBC,EAPlBC,EAAuB,oBACvB/2N,EAAM6tE,EAAO7tE,IAAKjG,EAAOtC,GAAMsC,KAI/Bi9N,EAAcnpJ,EAAO6C,SAAUumJ,EAAe7jO,SAC9CwnF,EAAM1mE,KAAK0mE,IAAKzzC,EAAQjzB,KAAKizB,MAAOkvJ,EAAcxoH,EAAO7hE,UAEzDkrN,EAAgB,CAClBC,GAAI,CACF,EACA,GACC,GACA,GAEHC,GAAI,CACF,EACA,EACA,GACC,GAEHppI,GAAI,CACF,EACA,EACA,EACA,GAEFqpI,GAAI,CACF,EACA,GACC,EACD,IAGAC,EAAU,SAAUzmJ,GACtB,OAAOA,IAAyB,QAAjBA,EAAI/uE,UAAsB+rE,EAAO7tE,IAAI0I,GAAGmoE,EAAK,gBAC9D,EACI03I,EAAU,SAAU13I,GACtB,OAAO+8G,GAAU/8G,IAAQ7wE,EAAIowM,SAASv/H,EAAK,qBAC7C,EASI0mJ,EAAyB,SAAUvyH,GACrC,IAAIhhG,EAASghG,EAAIhhG,QATc,SAAUghG,EAAKjzD,GAC9C,GAAiB,cAAbizD,EAAI/wG,MAAsD,IAA9B+wG,EAAI/wG,KAAKqE,QAAQ,SAAgB,CAC/D,IAAIs6F,EAAQoS,EAAIzS,QAAQ,GACxB,OAAO+kI,EAAQtyH,EAAIhhG,UAAYmxN,GAAgBviI,EAAMthF,QAASshF,EAAMrhF,QAASwgC,EAC/E,CACE,OAAOulL,EAAQtyH,EAAIhhG,UAAYmxN,GAAgBnwH,EAAI1zF,QAAS0zF,EAAIzzF,QAASwgC,EAE7E,EAGMylL,CAA2BxyH,EAAKn3B,EAAOv8B,UAAUmiC,YAAcuxB,EAAI6mE,sBACrEh+F,EAAOv8B,UAAU05C,OAAOhnF,EAE5B,EACIyzN,EAAmB,SAAU5mJ,GAC/B,OAAI7wE,EAAI0I,GAAGmoE,EAAK,gBACP,CAACA,EAAI/6C,cAAc,QACjB91B,EAAIowM,SAASv/H,EAAK,uBAAyBv7E,EAAcu7E,EAAI6mJ,mBAC/D,CACL7mJ,EACAA,EAAI6mJ,mBAGC,CAAC7mJ,EAEZ,EACI8mJ,EAAc,SAAU9mJ,GAC1B,IAAIloE,EAAW68M,GAAkB33I,GACjC,QAAKllE,IAGuC,UAAxCkoE,EAAItkE,aAAa,qBAGjBskE,IAAQhD,EAAO7hE,YAGfhM,EAAIowM,SAASv/H,EAAK,sBACbu6G,GAAK/qL,GAAaF,QAAQ0wE,EAAI6mJ,mBAAoB/uN,GAElDyiL,GAAK/qL,GAAaF,QAAQ0wE,GAAMloE,KAE3C,EAQIivN,EAAc,SAAU/1N,EAASpN,EAAMP,GACzC,GAAIoB,EAAcpB,GAAQ,CACxB,IAAI+mI,EAAUw8F,EAAiB51N,GAC/B6lL,EAAOzsD,GAAS,SAAUj3H,GACpBA,EAAO/D,MAAMxL,KAAUo5E,EAAO3xD,OAAO2vE,QAAQ7nF,EAAOlC,SAASC,cAAetN,GAC9EuL,EAAI41M,SAAS5xM,EAAQvP,EAAMP,GAE3B8L,EAAI4zM,UAAU5vM,EAAQvP,EAAM,GAAKP,EAErC,GACF,CACF,EACI2jO,EAAkB,SAAUC,EAAUtkN,EAAOvE,GAC/C2oN,EAAYE,EAAU,QAAStkN,GAC/BokN,EAAYE,EAAU,SAAU7oN,EAClC,EACI8oN,EAAqB,SAAU1/N,GACjC,IAAIu2H,EAAQC,EAAQmpG,EAChBC,EAAeC,EACnBtpG,EAASv2H,EAAEm2H,QAAUX,EACrBgB,EAASx2H,EAAEo2H,QAAUX,EACrBt6G,EAAQo7G,EAAS2nG,EAAe,GAAKE,EACrCxnN,EAAS4/G,EAAS0nG,EAAe,GAAKG,EACtCljN,EAAQA,EAAQ,EAAI,EAAIA,EACxBvE,EAASA,EAAS,EAAI,EAAIA,EAExB+oN,GADGV,EAAQlB,IAAgB7N,EAAQ6N,MAAsD,IAp/DhE,SAAUvoJ,GACvC,OAAOA,EAAO8O,SAAS,2BAA2B,EAAM,UAC1D,CAk/D0Dw7I,CAAyBtqJ,IAC7D2nJ,GAAGO,gBAAgB19N,GAEpBm9N,GAAGO,gBAAgB19N,GAEhC2/N,IACEp9I,EAAIg0C,GAAUh0C,EAAIi0C,IACpB5/G,EAASk4B,EAAM3zB,EAAQmjN,GACvBnjN,EAAQ2zB,EAAMl4B,EAAS0nN,KAEvBnjN,EAAQ2zB,EAAMl4B,EAAS0nN,GACvB1nN,EAASk4B,EAAM3zB,EAAQmjN,KAG3BkB,EAAgBxB,EAAkB7iN,EAAOvE,GAGzCgpN,GAFAA,EAAgB1B,EAAepL,SAASh3N,EAAIy6H,GAEZ,EAAIqpG,EAAgB,EACpDC,GAFAA,EAAgB3B,EAAepL,SAAS5pN,EAAIstH,GAEZ,EAAIqpG,EAAgB,EACpDl4N,EAAI81M,UAAUwgB,EAAc,CAC1B13N,KAAMq5N,EACN3oN,IAAK4oN,EACLpnI,QAAS,UAEXwlI,EAAa31N,UAAY6S,EAAQ,YAAcvE,EAC3CsnN,EAAe,GAAK,GAAKF,EAAiBtiN,aAAeP,GAC3DxT,EAAI41M,SAASygB,EAAkB,OA1If+B,WA0IuC3B,EAASjjN,IAE9D+iN,EAAe,GAAK,GAAKF,EAAiBriN,cAAgB/E,GAC5DjP,EAAI41M,SAASygB,EAAkB,MA7IDgC,WA6IwB3B,EAASznN,KAEjE2/G,EAASynE,EAAYhoE,YAAcwoG,IACnChoG,EAASwnE,EAAY/nE,aAAewoG,KACZ,GACtB92N,EAAI81M,UAAUwgB,EAAc,CAC1B13N,KAAMq5N,EAAgBrpG,EACtBt/G,IAAK4oN,EAAgBrpG,IAGpB+nG,KAjOmB,SAAU/oJ,EAAQ7pE,EAAQwP,EAAOvE,EAAQ8yB,GACnE8rC,EAAOsZ,KAAK,oBAAqB,CAC/BnjF,OAAQA,EACRwP,MAAOA,EACPvE,OAAQA,EACR8yB,OAAQA,GAEZ,CA2NMu2L,CAAsBzqJ,EAAQuoJ,EAAaK,EAAQC,EAAQ,UAAYH,EAAe9hO,MACtFmiO,GAAgB,EAEpB,EACI2B,EAAiB,WACnB,IAAIC,EAAmB5B,EACvBA,GAAgB,EACZ4B,IACFZ,EAAYxB,EAAa,QAAS5iN,GAClCokN,EAAYxB,EAAa,SAAUnnN,IAErCjP,EAAI8R,OAAOklN,EAAa,YAAae,GACrC/3N,EAAI8R,OAAOklN,EAAa,UAAWuB,GAC/BtB,IAAiBD,IACnBh3N,EAAI8R,OAAOmlN,EAAc,YAAac,GACtC/3N,EAAI8R,OAAOmlN,EAAc,UAAWsB,IAEtCv4N,EAAI2wB,OAAO0lM,GACXr2N,EAAI2wB,OAAO2lM,GACXt2N,EAAI2wB,OAAO6lM,GACXiC,EAAerC,GACXoC,KA/OgB,SAAU3qJ,EAAQ7pE,EAAQwP,EAAOvE,EAAQ8yB,GAC/D8rC,EAAOsZ,KAAK,gBAAiB,CAC3BnjF,OAAQA,EACRwP,MAAOA,EACPvE,OAAQA,EACR8yB,OAAQA,GAEZ,CAyOM22L,CAAkB7qJ,EAAQuoJ,EAAa5iN,EAAOvE,EAAQ,UAAYsnN,EAAe9hO,MACjFuL,EAAI4zM,UAAUwiB,EAAa,QAASp2N,EAAIyzM,UAAU2iB,EAAa,WAEjEvoJ,EAAO0kF,aACT,EACIkmE,EAAiB,SAAUx+E,GAC7B0+E,IACA,IAAIjjN,EAAW1V,EAAIw+J,OAAOvkB,EAAWo8C,GACjC+hC,EAAe1iN,EAASvhB,EACxBkkO,EAAe3iN,EAASnU,EACxBigC,EAAOy4G,EAAUjrI,wBACjB4pN,EAAcp3L,EAAKhuB,OAASguB,EAAK/tB,MAAQ+tB,EAAK5iC,KAC9Ci6N,EAAer3L,EAAKvyB,QAAUuyB,EAAK9tB,OAAS8tB,EAAKlyB,IACjD8mN,IAAgBn8E,IAClB6+E,IACA1C,EAAcn8E,EACdzmI,EAAQvE,EAAS,GAEnB,IAAI5W,EAAIw1E,EAAOsZ,KAAK,iBAAkB,CAAEnjF,OAAQi2I,IAC5C/jB,EAAgBl2H,EAAIyzM,UAAU2iB,EAAaW,EAAsB,KACjEY,EAAY19E,KAAe5hJ,EAAEwzK,qBAC/B9xK,EAAKm9N,GAAe,SAAUtlN,EAAQnd,GACpC,IAAIi8H,EACAqoG,EAAY,SAAU1gO,GACxB,IAtH2Bw4E,EAsHvB7sE,EAASyzN,EAAiBrB,GAAa,GAC3CvoG,EAASx1H,EAAEm2H,QACXV,EAASz1H,EAAEo2H,QACXgoG,EAASzyN,EAAO+P,YAChB2iN,EAAS1yN,EAAOgQ,aAChB2iN,EAAQD,EAASD,GACjBF,EAAiB3kN,GACFnd,KAAOA,EACtB8hO,EAAepL,SAAW,CACxBh3N,EAAGykO,EAAchnN,EAAO,GAAKwmN,EAC7B72N,EAAGs3N,EAAejnN,EAAO,GAAKymN,GAEhCxB,EAAmBxgC,EAAYhoE,YAC/ByoG,EAAoBzgC,EAAY/nE,aAChCkoG,EAAiBx2N,EAAIlM,IAAIuiM,EAAa,MAAO,CAC3C,MAAS,sBACT,iBAAkB,QAEpBr2L,EAAI81M,UAAU0gB,EAAgB,CAC5B9gN,SAAU,QACV9W,KAAM,IACN0Q,IAAK,IACLkE,MAAO,OACPvE,OAAQ,SAEVonN,EA9IF9N,EAD6B13I,EA+IWulJ,GA7InCp2N,EAAIqmI,OAAO,MAAO,CAAEliD,IAAKglG,GAAIG,iBAE7Bz4G,EAAI1nD,WAAU,GA4IjBnpB,EAAI0xJ,SAAS2kE,EAAkB,uBAC/Br2N,EAAI4zM,UAAUyiB,EAAkB,iBAAkB,OAClDA,EAAiBnwF,gBAAkB,QACnClmI,EAAI81M,UAAUugB,EAAkB,CAC9Bz3N,KAAMw5N,EACN9oN,IAAK+oN,EACL/9I,OAAQ,IAEVu9I,EAAgBxB,EAAkBuC,EAAaC,GAC/CxC,EAAiBzpN,gBAAgBmqN,GACjC1gC,EAAY5jL,YAAY4jN,GACxBr2N,EAAIhG,KAAKg9N,EAAa,YAAae,GACnC/3N,EAAIhG,KAAKg9N,EAAa,UAAWuB,GAC7BtB,IAAiBD,IACnBh3N,EAAIhG,KAAKi9N,EAAc,YAAac,GACpC/3N,EAAIhG,KAAKi9N,EAAc,UAAWsB,IAEpCjC,EAAet2N,EAAIlM,IAAIuiM,EAAa,MAAO,CACzC,MAAS,oBACT,iBAAkB,OACjBogC,EAAS,YAAcC,EAC5B,GACAhmG,EAAY1wH,EAAIoO,IAAI,kBAAoB3Z,KAEtCuL,EAAI2wB,OAAO+/F,GAEbA,EAAY1wH,EAAIlM,IAAIuiM,EAAa,MAAO,CACtC,GAAM,kBAAoB5hM,EAC1B,iBAAkB,MAClB,MAAS,mBACT,cAAgB,EAChB,MAAS,UAAYA,EAAO,iCAEf,KAAX00L,GAAI5jL,KACNmrH,EAAUwV,iBAAkB,GAE9BlmI,EAAIhG,KAAK02H,EAAW,aAAa,SAAUr4H,GACzCA,EAAEw6E,2BACFx6E,EAAE8Y,iBACF4nN,EAAU1gO,EACZ,IACAuZ,EAAOi/D,IAAM6/C,EACb1wH,EAAI81M,UAAUplF,EAAW,CACvB9xH,KAAMg6N,EAAchnN,EAAO,GAAKwmN,EAAe1nG,EAAUziH,YAAc,EACvEqB,IAAKupN,EAAejnN,EAAO,GAAKymN,EAAe3nG,EAAUxhH,aAAe,GAE5E,IAEA4pN,IAEG94N,EAAIyzM,UAAU2iB,EAAaW,IAC9BX,EAAYlqN,aAAa6qN,EAAsB7gG,EAEnD,EACI4iG,EAAiB,WACnBH,IACIvC,GACFA,EAAYxpN,gBAAgBmqN,GAE9BhvC,GAAOmvC,GAAe,SAAUhjO,EAAOO,GACrC,IAAIi8H,EAAY1wH,EAAIoO,IAAI,kBAAoB3Z,GACxCi8H,IACF1wH,EAAI8R,OAAO4+G,GACX1wH,EAAI2wB,OAAO+/F,GAEf,GACF,EACIsoG,EAAmB,SAAU3gO,GAC/B,IAAc4gO,EACVC,EAAiB,SAAU94N,EAAMiK,GACnC,GAAIjK,EACF,GACE,GAAIA,IAASiK,EACX,OAAO,QAEFjK,EAAOA,EAAKkK,WAEzB,EACIssN,GAAiB/oJ,EAAOylD,UAG5Bv5H,EAAKiG,EAAIgrF,OAAO,iDAAiD,SAAU+mC,GACzEA,EAAInlH,gBAAgBmqN,EACtB,IACAkC,EAAwB,cAAX5gO,EAAEpE,KAAuBoE,EAAE2L,OAASstC,EAAUm/B,UAEvDyoJ,EADJD,EAAaj5N,EAAIuzM,EAAE0lB,GAAYhnI,QAAQ,2DAA2D,GACnEokG,KAC7B8iC,IAEID,EADO5nL,EAAUQ,UAAS,GACDmnL,IAAeC,EAAe5nL,EAAU2/B,QAAO,GAAOgoJ,IACjFR,EAAeQ,GAInBH,IACF,EACIM,EAA+B,SAAUvoJ,GAC3C,OAAOqlJ,GAAyBhB,GAAyBrnJ,EAAO7hE,UAAW6kE,GAC7E,EACI8nJ,EAA2B,WAC7B5wC,GAAOmvC,GAAe,SAAUtlN,GAC1BA,EAAOi/D,MACT7wE,EAAI8R,OAAOF,EAAOi/D,YACXj/D,EAAOi/D,IAElB,GACF,EACIsoJ,EAAqB,WACvB,IACEtrJ,EAAO6C,SAAS2Z,YAAY,wBAAwB,EAAO,QAE7D,CADE,MAAO8R,GACT,CACF,EACAtuB,EAAOloC,GAAG,QAAQ,WAEhB,GADAwzL,IACIhwC,GAAIriL,QAAQ5B,QAAUikL,GAAIriL,QAAQ9B,SAAU,CAC9C6oE,EAAOloC,GAAG,mBAAmB,SAAUttC,GACrC,IAAI2L,EAAS3L,EAAE2L,OAAQlC,EAAWkC,EAAOlC,SACpC80N,IAAiB,mBAAmBzzN,KAAKrB,IAAcs3N,EAA6Bp1N,KACtE,IAAb3L,EAAEwxH,QACJh8C,EAAOv8B,UAAU05C,OAAOhnF,EAAqB,UAAblC,GAEnB,cAAXzJ,EAAEpE,MACJ45E,EAAO0kF,cAGb,IACA,IAAI8mE,EAA0B,SAAUhhO,GACtC,IAAIihO,EAAgB,SAAUl5N,GAC5B+vL,GAAM/1C,iBAAiBvsE,GAAQ,WAC7B,OAAOA,EAAOv8B,UAAU05C,OAAO5qF,EACjC,GACF,EACA,GAAIg5N,EAA6B/gO,EAAE2L,SAAW4pL,GAAUv1L,EAAE2L,QAGxD,OAFA3L,EAAE8Y,sBACFmoN,EAAcjhO,EAAE2L,QAGd,mBAAmBb,KAAK9K,EAAE2L,OAAOlC,YACnCzJ,EAAE8Y,iBACuB,QAArB9Y,EAAE2L,OAAOkpL,SACXosC,EAAcjhO,EAAE2L,QAGtB,EACAhE,EAAIhG,KAAKq8L,EAAa,kBAAmBgjC,GACzCxrJ,EAAOloC,GAAG,UAAU,WAClB,OAAO3lC,EAAI8R,OAAOukL,EAAa,kBAAmBgjC,EACpD,GACF,CACA,IAAIE,EAA4BppC,GAAMngH,UAAS,SAAU33E,GAClDw1E,EAAO2rJ,WACVR,EAAiB3gO,EAErB,IACAw1E,EAAOloC,GAAG,iFAAkF4zL,GAC5F1rJ,EAAOloC,GAAG,wBAAwB,SAAUttC,GACtC+9N,GAAwC,UAAzBA,EAAYt0N,UAC7By3N,EAA0BlhO,EAE9B,IACAw1E,EAAOloC,GAAG,YAAamzL,GACvBjrJ,EAAOloC,GAAG,wBAAyB4xL,GAAwB,EAC7D,IACA1pJ,EAAOloC,GAAG,SAAUgzL,GAIpB,MAAO,CACLhB,YAAaA,EACbc,eAAgBA,EAChBK,eAAgBA,EAChBE,iBAAkBA,EAClB1yL,QARY,WACZ8vL,EAAcC,EAAmBG,EAAiB,IACpD,EAQF,EAEIiD,GAAgB,SAAUr5N,GAC5B,OAAOqtL,GAAwBrtL,IAASstL,GAAyBttL,EACnE,EAuCIiB,GAAY,SAAUiQ,EAASC,EAASxF,GAC1C,IAAIwlC,EAAK3C,EACL8qL,EAAW3tN,EACf,GAAI2tN,EAASC,wBACX/qL,EAAQ8qL,EAASC,uBAAuBroN,EAASC,OAE/CggC,EAAMxlC,EAAImmC,eACNE,SAASxD,EAAMgrL,WAAYhrL,EAAM/jC,QACrC0mC,EAAImyB,UAAS,SAEV,GAAIg2J,EAASG,oBAClBtoL,EAAMmoL,EAASG,oBAAoBvoN,EAASC,QACvC,GAAImoN,EAASnuN,KAAKuuN,gBAAiB,CACxCvoL,EAAMmoL,EAASnuN,KAAKuuN,kBACpB,IACEvoL,EAAIwoL,YAAYzoN,EAASC,GACzBggC,EAAImyB,UAAS,EAGf,CAFE,MAAOy4B,GACP5qD,EA/CmB,SAAUjgC,EAASC,EAASxF,GACnD,IAAIupC,EACAzzC,EAAUkK,EAAIvK,iBAAiB8P,EAASC,GACxCggC,EAAMxlC,EAAIR,KAAKuuN,kBAWnB,GAVKj4N,GAA+B,SAApBA,EAAQqrL,UACtBrrL,EAAUkK,EAAIR,MAEhBgmC,EAAIyoL,kBAAkBn4N,IAEtByzC,GADAA,EAAQ79C,GAAM2C,QAAQm3C,EAAIgE,mBACZz4C,MAAK,SAAUhI,EAAG2B,GAG9B,OAFA3B,EAAIof,KAAK0mE,IAAI1mE,KAAKrF,IAAI/Z,EAAEwa,IAAMiC,EAASzc,EAAE4e,OAASnC,KAC9C2C,KAAK0mE,IAAI1mE,KAAKrF,IAAIpY,EAAE6Y,IAAMiC,EAAS9a,EAAEid,OAASnC,GAEpD,KACU1b,OAAS,EAAG,CACpB0b,GAAW+jC,EAAM,GAAG5hC,OAAS4hC,EAAM,GAAGhmC,KAAO,EAC7C,IAGE,OAFAiiC,EAAIwoL,YAAYzoN,EAASC,GACzBggC,EAAImyB,UAAS,GACNnyB,CAET,CADE,MAAO4qD,GACT,CACF,CACA,OAAO,IACT,CAuBY89H,CAAmB3oN,EAASC,EAASxF,EAC7C,CACA,OAxBgC,SAAUwlC,EAAK4+B,GACjD,IAAI+pJ,EAAgB3oL,GAAOA,EAAI2oL,cAAgB3oL,EAAI2oL,gBAAkB,KACrE,OAAOxsC,GApCU,SAAUttL,EAAM+vE,EAAUnpD,GAC3C,KAAO5mB,GAAQA,IAAS+vE,GAAU,CAChC,GAAInpD,EAAU5mB,GACZ,OAAOA,EAETA,EAAOA,EAAKkK,UACd,CACA,OAAO,IACT,CA4BkC6vN,CAAaD,EAAe/pJ,EAAUspJ,KAAkB,KAAOloL,CACjG,CAqBW6oL,CAA8B7oL,EAAKxlC,EAAIR,KAChD,CACA,OAAOgmC,CACT,EAEI8oL,GAAS,SAAUC,EAAM1W,GAC3B,OAAO0W,GAAQ1W,GAAS0W,EAAK9oL,iBAAmBoyK,EAAKpyK,gBAAkB8oL,EAAKxnL,cAAgB8wK,EAAK9wK,aAAiBwnL,EAAKvnL,eAAiB6wK,EAAK7wK,cAAgBunL,EAAKtnL,YAAc4wK,EAAK5wK,SACvL,EAWIunL,GAAc,SAAUn6N,EAAM+vE,EAAUnpD,GAC1C,OAAiD,OAVlC,SAAU5mB,EAAM+vE,EAAUnpD,GACzC,KAAO5mB,GAAQA,IAAS+vE,GAAU,CAChC,GAAInpD,EAAU5mB,GACZ,OAAOA,EAETA,EAAOA,EAAKkK,UACd,CACA,OAAO,IACT,CAESkwN,CAAWp6N,EAAM+vE,EAAUnpD,EACpC,EACIyzM,GAAoB,SAAUr6N,EAAM+vE,EAAU17E,GAChD,OAAO8lO,GAAYn6N,EAAM+vE,GAAU,SAAU/vE,GAC3C,OAAOA,EAAK0B,WAAarN,CAC3B,GACF,EACIimO,GAAU,SAAUt6N,GACtB,OAAOA,GAA0B,UAAlBA,EAAK0B,QACtB,EACI64N,GAAgB,SAAUv6N,GAC5B,OAAOA,GAAQ,oBAAoB+C,KAAK/C,EAAK0B,SAC/C,EACI84N,GAA0B,SAAUx6N,EAAM+vE,GAC5C,OAAOgkH,GAAmB/zL,KAAsD,IAA7Cm6N,GAAYn6N,EAAM+vE,EAAUu8I,GACjE,EACImO,GAAmB,SAAU76N,EAAKI,EAAMxB,GAE1C,IADA,IAAIk4L,EAAS,IAAIpE,GAActyL,EAAMJ,EAAI0xE,UAAUtxE,EAAKkK,WAAYtK,EAAIowE,UAAYpwE,EAAI2xE,WACjFvxE,EAAO02L,EAAOl4L,EAAO,OAAS,WACnC,GAAI2uL,GAAOntL,GACT,OAAO,CAGb,EAaI06N,GAAuB,SAAU96N,EAAK+6N,EAAa3nL,EAAWx0C,EAAM83J,GACtE,IAAIskE,EAEA56N,EADAmL,EAAOvL,EAAI2xE,UAEXmqH,EAAsB97L,EAAIkc,OAAO+jL,sBACjCg7B,EAAuBj7N,EAAI0xE,UAAUglF,EAAUpsJ,WAAYtK,EAAIowE,UAAY7kE,EAC/E,GAAI3M,GAAQ2uL,GAAO72B,IAAcqkE,GAAe/6N,EAAIo3M,QAAQ6jB,GAC1D,OAAOvgO,EAASJ,KAAK0mN,GAActqD,EAAUpsJ,WAAYtK,EAAIytM,UAAU/2C,KAGzE,IADA,IAAIogC,EAAS,IAAIpE,GAAch8B,EAAWukE,GACnC76N,EAAO02L,EAAOl4L,EAAO,OAAS,WAAW,CAC9C,GAA2C,UAAvCoB,EAAI03M,yBAAyBt3M,IAAqBw6N,GAAwBx6N,EAAMmL,GAClF,OAAO7Q,EAAS1B,OAElB,GAAIo0L,GAAShtL,IAASA,EAAKuzC,UAAU99C,OAAS,EAC5C,OAA2C,IAAvC4kO,GAAkBr6N,EAAMmL,EAAM,KACzB7Q,EAASJ,KAAK0mN,GAAc5gN,EAAMxB,EAAOwB,EAAKuzC,UAAU99C,OAAS,IAEnE6E,EAAS1B,OAElB,GAAIgH,EAAIowE,QAAQhwE,IAAS07L,EAAoB17L,EAAK0B,SAASC,eACzD,OAAOrH,EAAS1B,OAElBgiO,EAAoB56N,CACtB,CACA,OAAIgzC,GAAa4nL,EACRtgO,EAASJ,KAAK0mN,GAAcga,EAAmB,IAEjDtgO,EAAS1B,MAClB,EACIkiO,GAAoB,SAAUl7N,EAAKozC,EAAW/zC,EAAOkyC,GACvD,IAAIjoB,EAAWze,EAEXzK,EACA+6N,EAFA5vN,EAAOvL,EAAI2xE,UAEIqhI,GAAa,EAChC1pL,EAAYioB,GAAKlyC,EAAQ,QAAU,OAAS,aAC5CwL,EAAS0mC,GAAKlyC,EAAQ,QAAU,OAAS,UACzC,IAAI07N,EAAcruC,GAAYpjK,IAAcze,IAAWye,EAAUzoB,WAAWhL,OACxEimM,EAAsB97L,EAAIkc,OAAO+jL,sBAErC,GADAk7B,EAAgB97N,EACZ80L,GAAmB7qK,GACrB,OAAO5uB,EAAS1B,OASlB,GAPI0zL,GAAYpjK,IAAcze,EAASye,EAAUzoB,WAAWhL,OAAS,IACnEslO,GAAgB,GAEd7tC,GAAahkK,KACfA,EAAY/d,EACZV,EAAS,GAEPye,IAAc/d,EAAM,CACtB,GAAI4vN,IACF/6N,EAAOkpB,EAAUzoB,WAAWgK,EAAS,EAAIA,EAAS,EAAI,IAC5C,CACR,GAAIspL,GAAmB/zL,GACrB,OAAO1F,EAAS1B,OAElB,GAAI8iM,EAAoB17L,EAAK0B,WAAa44N,GAAQt6N,GAChD,OAAO1F,EAAS1B,MAEpB,CAEF,GAAIswB,EAAU1oB,gBAAiB,CAI7B,GAHAiK,EAASqJ,KAAK8mB,KAAKmgM,GAAiBtwN,EAAS,EAAIA,EAAS,EAAIA,EAAQye,EAAUzoB,WAAWhL,OAAS,GACpGyzB,EAAYA,EAAUzoB,WAAWgK,GACjCA,EAASuiL,GAAS9jK,IAAcyxM,EAAczxM,EAAU5C,KAAK7wB,OAAS,GACjEu9C,GAAa9pB,IAAc/d,EAAKsgL,WAAa6uC,GAAQpxM,GACxD,OAAO5uB,EAAS1B,OAElB,GA9E8B,SAAUuS,EAAMnL,GAClD,KAAOA,GAAQA,IAASmL,GAAM,CAC5B,GAAImiL,GAAyBttL,GAC3B,OAAO,EAETA,EAAOA,EAAKkK,UACd,CACA,OAAO,CACT,CAsEU8wN,CAA8B7vN,EAAM+d,IAAc6qK,GAAmB7qK,GACvE,OAAO5uB,EAAS1B,OAElB,GAAIswB,EAAU1oB,kBAA0C,IAAvB85N,GAAQpxM,GAAsB,CAC7DlpB,EAAOkpB,EACP,IAAIwtK,EAAS,IAAIpE,GAAcppK,EAAW/d,GAC1C,EAAG,CACD,GAAImiL,GAAyBttL,IAAS+zL,GAAmB/zL,GAAO,CAC9D4yM,GAAa,EACb,KACF,CACA,GAAI5lB,GAAShtL,IAASA,EAAKuzC,UAAU99C,OAAS,EAAG,CAC/CgV,EAASswN,EAAgB,EAAI/6N,EAAKuzC,UAAU99C,OAC5CyzB,EAAYlpB,EACZ4yM,GAAa,EACb,KACF,CACA,GAAIlX,EAAoB17L,EAAK0B,SAASC,iBAAmB44N,GAAcv6N,GAAO,CAC5EyK,EAAS7K,EAAIytM,UAAUrtM,GACvBkpB,EAAYlpB,EAAKkK,WACZ6wN,GACHtwN,IAEFmoM,GAAa,EACb,KACF,CACF,OAAS5yM,EAAO+6N,EAAgBrkC,EAAOttJ,OAASstJ,EAAOtjD,OACzD,CACF,CACF,CA8BA,OA7BIpgG,IACEg6I,GAAS9jK,IAAyB,IAAXze,GACzBiwN,GAAqB96N,EAAK+6N,EAAa3nL,GAAW,EAAM9pB,GAAWvvB,MAAK,SAAUqoC,GAChF9Y,EAAY8Y,EAAI9Y,YAChBze,EAASu3B,EAAIv3B,SACbmoM,GAAa,CACf,IAEEtmB,GAAYpjK,MACdlpB,EAAOkpB,EAAUzoB,WAAWgK,MAE1BzK,EAAOkpB,EAAUzoB,WAAWgK,EAAS,KAEnCzK,IAAQmtL,GAAOntL,IA5HR,SAAUA,EAAM3L,GAC/B,OAAO2L,EAAKsrL,iBAAmBtrL,EAAKsrL,gBAAgB5pL,WAAarN,CACnE,CA0HmC4mO,CAAWj7N,EAAM,MAASy6N,GAAiB76N,EAAKI,GAAM,IAAWy6N,GAAiB76N,EAAKI,GAAM,IACxH06N,GAAqB96N,EAAK+6N,EAAa3nL,GAAW,EAAMhzC,GAAMrG,MAAK,SAAUqoC,GAC3E9Y,EAAY8Y,EAAI9Y,YAChBze,EAASu3B,EAAIv3B,SACbmoM,GAAa,CACf,MAIFmoB,IAAkB/nL,GAAag6I,GAAS9jK,IAAcze,IAAWye,EAAUqqB,UAAU99C,QACvFilO,GAAqB96N,EAAK+6N,EAAa3nL,GAAW,EAAO9pB,GAAWvvB,MAAK,SAAUqoC,GACjF9Y,EAAY8Y,EAAI9Y,YAChBze,EAASu3B,EAAIv3B,SACbmoM,GAAa,CACf,IAEKA,EAAat4M,EAASJ,KAAK0mN,GAAc13L,EAAWze,IAAWnQ,EAAS1B,MACjF,EACIsiO,GAAc,SAAUt7N,EAAKuxC,GAC/B,IAAI6B,EAAY7B,EAAI6B,UAAWmoL,EAAUhqL,EAAIwgC,aACzCo5I,EAAWnK,GAAcG,eAAe5vK,GAc5C,OAbA2pL,GAAkBl7N,EAAKozC,GAAW,EAAMmoL,GAASxhO,MAAK,SAAUqoC,GACzDgR,GAAc4tK,GAAct2C,QAAQygD,EAAU/oL,IACjDm5L,EAAQnpL,SAAShQ,EAAI9Y,YAAa8Y,EAAIv3B,SAE1C,IACKuoC,GACH8nL,GAAkBl7N,EAAKozC,GAAW,EAAOmoL,GAASxhO,MAAK,SAAUqoC,GAC/Dm5L,EAAQhpL,OAAOnQ,EAAI9Y,YAAa8Y,EAAIv3B,SACtC,IAEEuoC,GACFmoL,EAAQ73J,UAAS,GAEZ22J,GAAO9oL,EAAKgqL,GAAW7gO,EAAS1B,OAAS0B,EAASJ,KAAKihO,EAChE,EAEIvT,GAAY,SAAU5nN,EAAMyK,GAC9B,OAAOzK,EAAK4nN,UAAUn9M,EACxB,EACIwhB,GAAQ,SAAUklB,GACpB,IAAIC,EAAiBD,EAAIC,eAAgBsB,EAAcvB,EAAIuB,YAAaC,EAAexB,EAAIwB,aAAcC,EAAYzB,EAAIyB,UAwBzH,OAvBIxB,IAAmBuB,GAAgBq6I,GAAS57I,GAC1CsB,EAAc,GAAKA,EAActB,EAAemC,UAAU99C,SAE5D27C,GADAuB,EAAei1K,GAAUx2K,EAAgBsB,IACX44I,gBAC1B14I,EAAYF,GAEdtB,EAAiBuB,EAAei1K,GAAUj1K,EAD1CC,GAAwBF,GAC2C44I,gBACnE14I,EAAYD,EAAaY,UAAU99C,OACnCi9C,EAAc,GAEdE,EAAY,IAIZo6I,GAAS57I,IAAmBsB,EAAc,GAAKA,EAActB,EAAemC,UAAU99C,SACxF27C,EAAiBw2K,GAAUx2K,EAAgBsB,GAC3CA,EAAc,GAEZs6I,GAASr6I,IAAiBC,EAAY,GAAKA,EAAYD,EAAaY,UAAU99C,SAEhFm9C,GADAD,EAAei1K,GAAUj1K,EAAcC,GAAW04I,iBACzB/3I,UAAU99C,SAGhC,CACL27C,eAAgBA,EAChBsB,YAAaA,EACbC,aAAcA,EACdC,UAAWA,EAEf,EAEIwoL,GAAa,SAAUx7N,GAYzB,MAAO,CACLgrL,KAZS,SAAUz5I,EAAKi5C,GACxB,OAAOmnI,GAAO3xN,EAAKuxC,EAAKi5C,EAC1B,EAWEn+D,MAVYA,GAWZykD,UAVc,SAAUv/B,GACxB,OAAO+pL,GAAYt7N,EAAKuxC,GAAKp4C,KAAK9B,GAAO,SAAUokO,GAGjD,OAFAlqL,EAAIa,SAASqpL,EAAcjqL,eAAgBiqL,EAAc3oL,aACzDvB,EAAIgB,OAAOkpL,EAAc1oL,aAAc0oL,EAAczoL,YAC9C,CACT,GACF,EAMF,EACAwoL,GAAWE,cAAgBrB,GAC3BmB,GAAWG,uBAAyBt6N,GACpCm6N,GAAWhd,gBAAkBA,GAC7Bgd,GAAW/qJ,QAAUguI,GAErB,IAqfImd,GA7cAnoL,GAxCY,SAAUh/C,EAAM0Z,GAC9B,IASIC,EAAM,SAAUvM,GAClB,IAAIzG,EAAI+S,EAAUtM,GAClB,GAAIzG,GAAK,GAAW,OAANA,EAAY,CACxB,IAAIgS,EAAM2jB,GAAMlvB,EAASpN,GACzB,OAAO4Z,WAAWjB,IAAQ,CAC5B,CACA,OAAOhS,CACT,EAEIkT,EAAY,SAAUzM,EAAS0M,GACjC,OAAOtS,EAAMsS,GAAY,SAAUxS,EAAK+Q,GACtC,IAAI0B,EAAMuiB,GAAMlvB,EAASiL,GACrB5Y,OAAgBP,IAAR6a,EAAoB,EAAIpH,SAASoH,EAAK,IAClD,OAAOC,MAAMva,GAAS6H,EAAMA,EAAM7H,CACpC,GAAG,EACL,EAMA,MAAO,CACLwa,IA/BQ,SAAU7M,EAAS8M,GAC3B,IAAKnZ,EAASmZ,KAAOA,EAAErF,MAAM,YAC3B,MAAM,IAAIlS,MAAM3C,EAAO,wDAA0Dka,GAEnF,IAAI3O,EAAM6B,EAAQ7B,IACdqL,GAAYrL,KACdA,EAAIC,MAAMxL,GAAQka,EAAI,KAE1B,EAwBEP,IAAKA,EACLQ,SAhBaR,EAiBbE,UAAWA,EACXO,IAVQ,SAAUhN,EAAS3N,EAAOqa,GAClC,IAAIO,EAAuBR,EAAUzM,EAAS0M,GAE9C,OADkBra,EAAQ4a,EAAuB5a,EAAQ4a,EAAuB,CAElF,EAQF,CAEUZ,CAAU,UAAU,SAAUrM,GACtC,IAAI7B,EAAM6B,EAAQ7B,IAClB,OAAO4L,GAAO/J,GAAW7B,EAAIgP,wBAAwBC,OAASjP,EAAIkP,YACpE,IAKImF,GAAS,SAAUC,EAAYvI,GAEjC,OADYuI,EAAWC,KAAKxI,GACf5S,KAAKmqB,EAAS,KAAK,SAAUrsB,GACxC,IAAIoT,EAASiK,EAAWE,MAAMvd,GAC1Bwd,EAAOJ,GAAOC,EAAYjK,GAC9B,MAAO,CAACpT,GAAGF,OAAO0d,EACpB,GACF,EAeIC,GAA0B9c,OAAO+c,OAAO,CACxCC,UAAW,KACXL,KAXO,SAAUxI,GACnB,IAAI5E,EAEJ,OADc4E,EAAI/L,MAAQ5M,SAAWsH,EAAS1B,OAAS0B,EAAS/B,KAAoC,QAA9BwO,EAAK4E,EAAI/L,IAAIoK,mBAAgC,IAAPjD,OAAgB,EAASA,EAAG0N,eACzH/a,IAAIuG,GAAaF,QAClC,EAQIqU,MAPQ,SAAU3S,GACpB,OAAOoI,GAAgBpI,EACzB,IAQI40B,GAAS,SAAU50B,GACrB,IAAIkK,EAAM1L,GAAaF,QAAQ/M,UAC3BygB,EAASC,GAAM/H,GACfoJ,EAvBO,SAAUtT,EAASyS,GAC9B,IAAIU,EAAIV,EAAWE,MAAM3S,GACzB,OAAOwS,GAAOC,EAAYU,EAC5B,CAoBeE,CAAOrT,EAAS6S,IACzB7J,EAASq3B,GAASrgC,GAClBzG,EAAIU,EAAMqZ,GAAQ,SAAU1e,EAAG3B,GACjC,IAAIsgB,EAAM8sB,GAASptC,GACnB,MAAO,CACL8J,KAAMnI,EAAEmI,KAAOwW,EAAIxW,KACnB0Q,IAAK7Y,EAAE6Y,IAAM8F,EAAI9F,IAErB,GAAG,CACD1Q,KAAM,EACN0Q,IAAK,IAEP,OAAOE,GAAcpU,EAAEwD,KAAOiM,EAAOjM,KAAOiV,EAAOjV,KAAMxD,EAAEkU,IAAMzE,EAAOyE,IAAMuE,EAAOvE,IACvF,EAEIusN,GAAqB,SAAUh6N,GACjC,MAAyB,aAAlBpN,GAAKoN,EACd,EA+CIi6N,GAAa,SAAUj6N,EAASk6N,GAClC,IAAI35L,EA9iUS,SAAUvgC,GACvB,IAAIkK,EAAMlK,EAAQ7B,IAAIgK,cAClBuB,EAAOQ,EAAIR,KACXoE,EAAM5D,EAAI3B,YACV7J,EAAOwL,EAAI5B,gBACf,GAAIoB,IAAS1J,EAAQ7B,IACnB,OAAOwP,GAAcjE,EAAKqE,WAAYrE,EAAKsE,WAE7C,IAAIC,EAAYL,GAAmBE,aAAiC,EAASA,EAAII,YAAaxP,EAAKuP,WAC/FE,EAAaP,GAAmBE,aAAiC,EAASA,EAAIM,YAAa1P,EAAKyP,YAChGE,EAAYT,GAAmBlP,EAAK2P,UAAW3E,EAAK2E,WACpDC,EAAaV,GAAmBlP,EAAK4P,WAAY5E,EAAK4E,YAC1D,OAAO+xB,GAASrgC,GAAS0N,UAAUS,EAAaG,EAAYL,EAAYI,EAC1E,CAiiUYy+B,CAAS9sC,GACfoN,EArGM,SAAUpN,GACpB,OAAO4xC,GAAIrlC,IAAIvM,EACjB,CAmGe8pE,CAAM9pE,GACnB,MAAO,CACLA,QAASA,EACT6R,OAAQ0uB,EAAI9yB,IAAML,EAClBA,OAAQA,EACRmzB,IAAKA,EACLq2K,QAASsjB,EAEb,EACIC,GAAe,SAAUn6N,EAASgJ,GACpC,IAAIunN,EAnDQ,SAAUvwN,EAASgJ,GAC/B,IAAIsI,EAAa3I,GAAS3I,GAC1B,GAA0B,IAAtBsR,EAAWtd,QAAgBgmO,GAAmBh6N,GAChD,MAAO,CACLA,QAASA,EACTgJ,OAAQA,GAEL,GAAIA,EAASsI,EAAWtd,SAAWgmO,GAAmB1oN,EAAWtI,IACtE,MAAO,CACLhJ,QAASsR,EAAWtI,GACpBA,OAAQ,GAGV,IAAIgrC,EAAO1iC,EAAWA,EAAWtd,OAAS,GAC1C,OAAIgmO,GAAmBhmL,GACd,CACLh0C,QAASA,EACTgJ,OAAQA,GAGS,QAAfpW,GAAKohD,GACA,CACLh0C,QAASg0C,EACThrC,OAAQ,GAEDygL,GAASz1I,GACX,CACLh0C,QAASg0C,EACThrC,OAAQ81C,GAAM9K,GAAMhgD,QAGf,CACLgM,QAASg0C,EACThrC,OAAQL,GAASqrC,GAAMhgD,OAKjC,CAamB4qC,CAAQ5+B,EAASgJ,GAC9Bq4F,EAAO7iG,GAAaC,SAAS,2EAEjC,OADA2rL,GAASmmC,EAAWvwN,QAASqhG,GACtB44H,GAAW54H,GAAM,WACtB,OAAOv2F,GAASu2F,EAClB,GACF,EAII+4H,GAAa,SAAUpuJ,EAAQ52E,EAAGs6C,EAAK66I,GACzC8vC,GAAaruJ,GAAQ,SAAUz0E,EAAIssI,GACjC,OAAOy2F,GAAgBtuJ,EAAQ52E,EAAGs6C,EAAK66I,EACzC,GAAG76I,EACL,EACI6qL,GAAmB,SAAUvuJ,EAAQ9hE,EAAK9U,EAAGgb,EAAQm6K,GACvD,IAAI1lK,EAAO,CACTmqD,IAAK5+D,EAAOpQ,QAAQ7B,IACpBosL,WAAYA,IA5Ec,SAAUv+G,EAAQnnD,GAE9C,OADkBmnD,EAAOsZ,KAAK,iBAAkBzgE,GAC7BmlJ,oBACrB,EA2EMwwD,CAAwBxuJ,EAAQnnD,KAIpCzvB,EAAE8U,EADc+H,GAAM/H,GAAKuD,IACT2C,EAAQm6K,GA9EO,SAAUv+G,EAAQnnD,GACnDmnD,EAAOsZ,KAAK,sBAAuBzgE,EACrC,CA6EE41M,CAA6BzuJ,EAAQnnD,GACvC,EACIy1M,GAAkB,SAAUtuJ,EAAQ52E,EAAGs6C,EAAK66I,GAC9C,IAAI7gL,EAAOlL,GAAaF,QAAQ0tE,EAAO7hE,WACnCD,EAAM1L,GAAaF,QAAQ0tE,EAAO6C,UAC/BnlE,EA1zTEvL,IAAIiO,YA2zTb,IAAIgE,EAAS+pN,GAAa37N,GAAaF,QAAQoxC,EAAIC,gBAAiBD,EAAIuB,aACxEspL,GAAiBvuJ,EAAQ9hE,EAAK9U,EAAGgb,EAAQm6K,GACzCn6K,EAAOwmM,SACT,EACIlkG,GAAc,SAAU1mC,EAAQhsE,EAAS5K,EAAGm1L,GAC9C,IAAIrgL,EAAM1L,GAAaF,QAAQ0tE,EAAO6C,UACtC0rJ,GAAiBvuJ,EAAQ9hE,EAAK9U,EA9BZ,SAAU4K,GAC5B,OAAOi6N,GAAWz7N,GAAaF,QAAQ0B,GAAU/L,EACnD,CA4BmCymO,CAAc16N,GAAUuqL,EAC3D,EACI8vC,GAAe,SAAUruJ,EAAQ52E,EAAGs6C,GACtC,IAAIirL,EAAejrL,EAAIC,eACnBsB,EAAcvB,EAAIuB,YAClB2pL,EAAalrL,EAAIwB,aACjBC,EAAYzB,EAAIyB,UACpB/7C,EAAEoJ,GAAaF,QAAQq8N,GAAen8N,GAAaF,QAAQs8N,IAC3D,IAAIlc,EAAS1yI,EAAO7tE,IAAImyE,YACxBouI,EAAOnuK,SAASoqL,EAAc1pL,GAC9BytK,EAAOhuK,OAAOkqL,EAAYzpL,GAC1B66B,EAAOv8B,UAAUyuH,OAAOxuH,EAC1B,EACImrL,GAAiB,SAAUzqN,EAAQ4/H,EAAYu6C,EAAYrgL,GAC7D,IAAIq2B,EAAMnwB,EAAOmwB,IACjB,GAAIgqJ,EACF1zL,GAAG0pC,EAAIxjC,KAAMwjC,EAAI9yB,IAAKvD,OACjB,CACL,IAAIxK,EAAI6gC,EAAI9yB,IAAMuiI,EAAa5/H,EAAOhD,OACtCvW,GAAG0pC,EAAIxjC,KAAM2C,EAAGwK,EAClB,CACF,EACI4wN,GAAqB,SAAU5wN,EAAK+D,EAAW+hI,EAAY5/H,EAAQm6K,GACrE,IAAIwwC,EAAiB/qF,EAAa/hI,EAC9BqiI,EAAYlgI,EAAOmwB,IAAI9yB,IACvB8iI,EAAengI,EAAOyB,OACtBmpN,EAAqBzqF,EAAeD,GAAaN,EACrD,GAAIM,EAAYriI,EACd4sN,GAAezqN,EAAQ4/H,GAA2B,IAAfu6C,EAAsBrgL,QACpD,GAAIomI,EAAYyqF,EAAgB,CAErCF,GAAezqN,EAAQ4/H,EADXgrF,GAAoC,IAAfzwC,GAAsC,IAAfA,EACdrgL,EAC5C,MAAWqmI,EAAewqF,IAAmBC,GAC3CH,GAAezqN,EAAQ4/H,GAA2B,IAAfu6C,EAAqBrgL,EAE5D,EACI+wN,GAAa,SAAU/wN,EAAK+D,EAAWmC,EAAQm6K,GACjD,IAAIv6C,EAAa9lI,EAAI/L,IAAIoK,YAAY0nI,YACrC6qF,GAAmB5wN,EAAK+D,EAAW+hI,EAAY5/H,EAAQm6K,EACzD,EACI2wC,GAAY,SAAUhxN,EAAK+D,EAAWmC,EAAQm6K,GAChD,IAAI4wC,EAAkBjxN,EAAI/L,IAAIoK,YAAY0nI,YAC1C6qF,GAAmB5wN,EAAK+D,EAAWktN,EAAiB/qN,EAAQm6K,GAC5D,IAAI6wC,EAAKxmM,GAAOxkB,EAAOpQ,SACnBiyJ,EAAiB3xH,GAAU1gC,QAC3Bw7N,EAAG3tN,IAAMwkJ,EAAevyJ,EAC1B4qL,GAASl6K,EAAOpQ,SAAwB,IAAfuqL,GAChB6wC,EAAG3tN,IAAMwkJ,EAAepgJ,QACjCy4K,GAASl6K,EAAOpQ,SAAwB,IAAfuqL,EAE7B,EACI8wC,GAAkB,SAAUrvJ,EAAQt8B,EAAK66I,GAC3C,OAAO6vC,GAAWpuJ,EAAQivJ,GAAYvrL,EAAK66I,EAC7C,EACI+wC,GAAoB,SAAUtvJ,EAAQhsE,EAASuqL,GACjD,OAAO73E,GAAY1mC,EAAQhsE,EAASi7N,GAAY1wC,EAClD,EACIgxC,GAAiB,SAAUvvJ,EAAQt8B,EAAK66I,GAC1C,OAAO6vC,GAAWpuJ,EAAQkvJ,GAAWxrL,EAAK66I,EAC5C,EACIixC,GAAmB,SAAUxvJ,EAAQhsE,EAASuqL,GAChD,OAAO73E,GAAY1mC,EAAQhsE,EAASk7N,GAAW3wC,EACjD,EAKIkxC,GAAsB,SAAUzvJ,EAAQt8B,EAAK66I,IAChCv+G,EAAOwQ,OAAS6+I,GAAkBE,IACxCvvJ,EAAQt8B,EAAK66I,EACxB,EASImxC,GAAa,SAAU17N,GACzB,IAAIu+B,EAAOh1B,GAAYvJ,GAAS7B,IAChC,OAAO6B,EAAQ7B,MAAQogC,EAAKC,aAC9B,EACI/B,GAAS,SAAU8B,GAIrB,YAHa,IAATA,IACFA,EAZK//B,GAAaF,QAAQ/M,WAcrBsH,EAAS/B,KAAKynC,EAAKpgC,IAAIqgC,eAAevmC,IAAIuG,GAAaF,QAChE,EAeImwC,GARW,SAAUjxC,EAAOkxC,EAASC,EAAQC,GAC/C,MAAO,CACLpxC,MAAOA,EACPkxC,QAASA,EACTC,OAAQA,EACRC,QAASA,EAEb,EAGIyjD,GAAQ7zE,GAAa,CACvB,CAAEswB,OAAQ,CAAC,YACX,CACEhL,GAAI,CACF,UACA,WAGJ,CAAEiL,MAAO,CAAC,cAWRC,IAHWqjD,GAAMvjD,OACZujD,GAAMvuD,GACDuuD,GAAMtjD,MALH,SAAUE,GACzB,OAAOA,EAAK33C,KAAKouL,EAAUA,EAAUA,EACvC,GAYI/mK,GAAMH,GAAa,CACrB,CAAE2wB,SAAU,CAAC,QACb,CACE9P,SAAU,CACR,YACA,eAGJ,CACE+P,MAAO,CACL,QACA,UACA,SACA,cA4BFC,GAAe,CACjBF,SATaxwB,GAAIwwB,SAUjB9P,SATa1gB,GAAI0gB,SAUjB+P,MATUzwB,GAAIywB,MAUdE,eA5BmB,SAAUC,GAC7B,OAAO5wB,GAAIywB,MAAMG,EAAS/xC,MAAO+xC,EAASb,QAASa,EAASZ,OAAQY,EAASX,QAC/E,EA2BEY,OAVW,SAAUC,GACrB,IAAIjyC,EAjBW,SAAUiyC,GACzB,OAAOA,EAAUhoC,MAAM,CACrB0nC,SAAU,SAAUO,GAClB,OAAOlxC,GAAaF,QAAQoxC,EAAIC,eAClC,EACAtQ,SAAU,SAAUuQ,EAAWC,GAC7B,OAAOb,GAAcY,EACvB,EACAR,MAAO,SAAU5xC,EAAOsyC,EAAUC,EAASC,GACzC,OAAOxyC,CACT,GAEJ,CAKcm+N,CAAWlsL,GACvB,OAAOlnC,GAAY/K,EACrB,EAQE0yC,MAPUzB,IAURmtL,GAAY36N,KAASgE,QACrBm0B,GAAU,SAAUpwB,EAAQhJ,GAC9B,IAAIgN,EAAMy8K,GAASzpL,GAAW8+C,GAAM9+C,GAAShM,OAAS2U,GAAS3I,GAAShM,OAAS,EACjF,OAAIgV,EAASgE,EACJA,EACEhE,EAAS,EACX,EAEFA,CACT,EACI6yN,GAAe,SAAUnsL,GAC3B,OAAOL,GAAaa,MAAMR,EAAIlyC,MAAO47B,GAAQsW,EAAIhB,QAASgB,EAAIlyC,OAAQkyC,EAAIf,OAAQvV,GAAQsW,EAAId,QAASc,EAAIf,QAC7G,EACImtL,GAAe,SAAUv9L,EAAMywC,GACjC,OAAQ27G,GAAiB37G,EAAI7wE,OAASV,GAAW8gC,EAAMywC,IAAQ3nE,GAAGk3B,EAAMywC,GAC1E,EACI+sJ,GAAc,SAAUx9L,GAC1B,OAAO,SAAUmR,GACf,OAAOosL,GAAav9L,EAAMmR,EAAIlyC,QAAUs+N,GAAav9L,EAAMmR,EAAIf,OACjE,CACF,EACIqtL,GAAc,SAAUhwJ,GAC1B,OAAyB,IAAlBA,EAAOwQ,QAAmBo/I,GAAUv4N,MAC7C,EACI44N,GAA8B,SAAU1iO,GAC1C,OAAO81C,GAAaa,MAAM1xC,GAAaF,QAAQ/E,EAAEo2C,gBAAiBp2C,EAAE03C,YAAazyC,GAAaF,QAAQ/E,EAAE23C,cAAe33C,EAAE43C,UAC3H,EAMIiiL,GAAc,SAAU70L,GAE1B,OAPc,SAAUzwB,GACxB,IAAI2hC,EAAY3hC,EAAIulC,eAEpB,OADW5D,GAAsC,IAAzBA,EAAUiD,WAAqC75C,EAAS/B,KAAK24C,EAAUmD,WAAW,IAArD/5C,EAAS1B,QACnDc,IAAIgkO,GACjB,CAGSxpL,CADGlqC,GAAYg2B,GACDpgC,KAAK7F,OAAOyjO,GAAYx9L,GAC/C,EAII29L,GAAsB,SAAUza,GAClC,IAAI/xK,EAAMn+C,SAAS8+C,cACnB,IAGE,OAFAX,EAAIa,SAASkxK,EAASjkN,MAAMW,IAAKsjN,EAAS/yK,SAC1CgB,EAAIgB,OAAO+wK,EAAS9yK,OAAOxwC,IAAKsjN,EAAS7yK,SAClC/1C,EAASJ,KAAKi3C,EAGvB,CAFE,MAAOt7B,GACP,OAAOvb,EAAS1B,MAClB,CACF,EACI6iD,GAAQ,SAAUgyB,GACpB,IAAImwJ,EAAcH,GAAYhwJ,GAAUonJ,GAAY50N,GAAaF,QAAQ0tE,EAAO7hE,YAActR,EAAS1B,OACvG60E,EAAOy1I,SAAW0a,EAAY3kO,SAAW2kO,EAAcnwJ,EAAOy1I,QAChE,EAOI7vI,GAAS,SAAU5F,GAErB,OADeA,EAAOy1I,SAAWz1I,EAAOy1I,SAAW5oN,EAAS1B,QAC5CgB,MAAK,SAAU7F,GAC7B,OA1BW,SAAUisC,EAAMkjL,GAC7B,OAAO5oN,EAAS/B,KAAK2qN,GAAUnpN,OAAOyjO,GAAYx9L,IAAOtmC,IAAI4jO,GAC/D,CAwBW5+H,CAASz+F,GAAaF,QAAQ0tE,EAAO7hE,WAAY7X,EAC1D,IAAG6F,KAAK+jO,GACV,EAWIE,GAAe,CAAEC,kBAJK,SAAUrtJ,GAClC,IAAI8sD,EAAY9sD,EAAI8sD,UAAUtjI,WAC9B,OAAsC,IAA/BsjI,EAAUrlI,QAAQ,UAAiD,IAA/BqlI,EAAUrlI,QAAQ,OAC/D,GAyBI6lO,GAAuB,SAAUtwJ,EAAQuwJ,GAC7Bt7N,KAASgE,QACX5B,OAZS,SAAU2oE,GAC/BA,EAAOloC,GAAG,YAAY,WACpBkW,GAAMgyB,EACR,GACF,CASIwwJ,CAAiBxwJ,GARC,SAAUA,EAAQuwJ,GACtCvwJ,EAAOloC,GAAG,oBAAoB,SAAU+/F,GACtC04F,EAAepuJ,UACjB,GACF,CAMIsuJ,CAAgBzwJ,EAAQuwJ,GAE1BvwJ,EAAOloC,GAAG,oBAAoB,SAAUttC,IA7BjB,SAAUA,GACjC,MAAkB,eAAXA,EAAEpE,MAAyBoE,EAAEkmO,eACtC,EA4BSC,CAAmBnmO,IACtBwjD,GAAMgyB,EAEV,GACF,EACIwuF,GAAa,SAAUxuF,GACzB,IAAIuwJ,EAAiB5pK,IAAM,WACzB3Y,GAAMgyB,EACR,GAAG,GACHA,EAAOloC,GAAG,QAAQ,WACZkoC,EAAOwQ,QArCW,SAAUxQ,EAAQuwJ,GAC1C,IAAIK,EAAc,WAChBL,EAAepuJ,UACjB,EACAkjI,GAASp2H,IAAI9iF,KAAK5G,SAAU,UAAWqrO,GACvC5wJ,EAAOloC,GAAG,UAAU,WAClButK,GAASp2H,IAAIhrE,OAAO1e,SAAU,UAAWqrO,EAC3C,GACF,CA8BMC,CAAoB7wJ,EAAQuwJ,GAE9BD,GAAqBtwJ,EAAQuwJ,EAC/B,IACAvwJ,EAAOloC,GAAG,UAAU,WAClBy4L,EAAeruJ,QACjB,GACF,EAGI4uJ,GAAQzrB,GAASp2H,IAYjB8hJ,GAAc,SAAU/wJ,EAAQgD,GAClC,IAAIguJ,EAzjGoB,SAAUhxJ,GAClC,OAAOA,EAAO8O,SAAS,qBAAsB,GAAI,SACnD,CAujGuBmiJ,CAAoBjxJ,GACrCxjE,EAASs0N,GAAMjtJ,UAAUb,GAAK,SAAUA,GAC1C,OAdoB,SAAUA,GAChC,OAAOotJ,GAAaC,kBAAkBrtJ,EACxC,CAYWqtJ,CAAkBrtJ,MAASguJ,GAAiBhxJ,EAAO7tE,IAAI0I,GAAGmoE,EAAKguJ,EACxE,IACA,OAAkB,OAAXx0N,CACT,EAaI00N,GAAmB,SAAU7kF,EAAe7hJ,GAC9C,IAAIw1E,EAASx1E,EAAEw1E,OACfwuF,GAAWxuF,GACXA,EAAOloC,GAAG,WAAW,WACnB,IAAIq5L,EAAgB9kF,EAAc8kF,cAC9BA,IAAkBnxJ,IAChBmxJ,GACFA,EAAc73I,KAAK,OAAQ,CAAE63I,cAAenxJ,IAE9CqsE,EAAcntD,UAAUlf,GACxBqsE,EAAc8kF,cAAgBnxJ,EAC9BA,EAAOsZ,KAAK,QAAS,CAAE83I,cAAeD,IACtCnxJ,EAAO3tC,OAAM,GAEjB,IACA2tC,EAAOloC,GAAG,YAAY,WACpBwqJ,GAAM/1C,iBAAiBvsE,GAAQ,WAC7B,IAAImxJ,EAAgB9kF,EAAc8kF,cAC7BJ,GAAY/wJ,EA9BA,SAAUA,GAC/B,IACE,IAAIztC,EAAOh1B,GAAY/K,GAAaF,QAAQ0tE,EAAO+O,eACnD,OAAOt+C,GAAO8B,GAAMjnC,MAAK,WACvB,OAAO/F,SAASmY,IAClB,IAAG,SAAUpX,GACX,OAAOA,EAAE6L,GACX,GAGF,CAFE,MAAOm8F,GACP,OAAO/oG,SAASmY,IAClB,CACF,CAmB+B2zN,CAAiBrxJ,KAAYmxJ,IAAkBnxJ,IACtEA,EAAOsZ,KAAK,OAAQ,CAAE63I,cAAe,OACrC9kF,EAAc8kF,cAAgB,KAElC,GACF,IACKpD,KACHA,GAAyB,SAAUvjO,GACjC,IAAI8mO,EAAejlF,EAAcilF,aAC7BA,GAlkVmB,SAAUvuN,GACrC,GAAI7Q,MAAmBzK,EAAcsb,EAAM5M,QAAS,CAClD,IAAI9Q,EAAKmN,GAAaF,QAAQyQ,EAAM5M,QACpC,GAAIqnL,GAAYn4L,IAAOwY,GAAiBxY,IAClC0d,EAAMC,UAAYD,EAAME,aAAc,CACxC,IAAIA,EAAeF,EAAME,eACzB,GAAIA,EACF,OAAOzd,GAAKyd,EAEhB,CAEJ,CACA,OAAOpW,EAAS/B,KAAKiY,EAAM5M,OAC7B,CAsjVQ+M,CAAuB1Y,GAAG0B,MAAK,SAAUiK,GACnCA,EAAOgG,gBAAkB5W,WACvB4Q,IAAW5Q,SAASmY,MAASqzN,GAAYO,EAAcn7N,IAAWk2I,EAAc8kF,gBAAkBG,IACpGA,EAAah4I,KAAK,OAAQ,CAAE63I,cAAe,OAC3C9kF,EAAc8kF,cAAgB,MAGpC,GAEJ,EACAL,GAAM3kO,KAAK5G,SAAU,UAAWwoO,IAEpC,EACIwD,GAA2B,SAAUllF,EAAe7hJ,GAClD6hJ,EAAc8kF,gBAAkB3mO,EAAEw1E,SACpCqsE,EAAc8kF,cAAgB,MAE3B9kF,EAAcilF,eACjBR,GAAM7sN,OAAO1e,SAAU,UAAWwoO,IAClCA,GAAyB,KAE7B,EAcIyD,GAAoB,SAAUj/L,EAAMmR,GACtC,OAJqB,SAAUA,GAC/B,OAAOA,EAAI6B,UAAY14C,EAAS/B,KAAK8lN,GAAUltK,EAAIC,eAAgBD,EAAIuB,cAAch5C,IAAIuG,GAAaF,SAAWzF,EAAS1B,MAC5H,CAESsmO,CAAiB/tL,GAAKv3C,MAAK,SAAUoG,GAC1C,OAAIozL,GAAepzL,GACV1F,EAASJ,KAAK8F,IACe,IAA3Bd,GAAW8gC,EAAMhgC,GACnB1F,EAASJ,KAAK8lC,GAEd1lC,EAAS1B,MAEpB,GACF,EACIumO,GAAuB,SAAU1xJ,EAAQt8B,GAC3C8tL,GAAkBh/N,GAAaF,QAAQ0tE,EAAO7hE,WAAYulC,GAAKv3C,MAAK,SAAU62E,GAC5E,OAAO07I,GAAgB17I,EAAI7wE,IAC7B,IAAG7G,MAAK,WACN00E,EAAOv8B,UAAUw/B,WAEnB,IAAG,SAAU0uJ,GACX,OAAO3xJ,EAAOv8B,UAAUyuH,OAAOy/D,EAASve,UAC1C,GACF,EACIwe,GAAY,SAAUl0N,GACxB,GAAIA,EAAKwhF,UACP,IACExhF,EAAKwhF,WAGP,CAFE,MAAOoP,GACP5wF,EAAK20B,OACP,MAEA30B,EAAK20B,OAET,EACIw/L,GAAkB,SAAU7uJ,GAC9B,OAAO0sJ,GAAW1sJ,KA5VGhvE,EA4VYgvE,EA3V1BvyC,GAAOlzB,GAAYvJ,IAAU1H,QAAO,SAAU9B,GACnD,OAAOwJ,EAAQ7B,IAAI2J,SAAStR,EAAE2H,IAChC,KAyVsC3G,SA5V3B,IAAUwI,CA6VvB,EAcIs+B,GAAW,SAAU0tC,GACvB,OAAOA,EAAOwQ,OAXK,SAAUxQ,GAC7B,IAAI8xJ,EAAU9xJ,EAAO7hE,UACrB,OAAO2zN,GAAWD,GAAgBr/N,GAAaF,QAAQw/N,GACzD,CAQyBC,CAAe/xJ,GAdnB,SAAUA,GAC7B,OAAOA,EAAOurE,eAAiBmkF,GAAWl9N,GAAaF,QAAQ0tE,EAAOurE,eACxE,CAYkDymF,CAAehyJ,EACjE,EACIiyJ,GAAqB,SAAUjyJ,GACjC,OAAO1tC,GAAS0tC,IAVD,SAAUA,GACzB,IAAI3jE,EAAMkB,GAAY/K,GAAaF,QAAQ0tE,EAAO+O,eAClD,OAAOt+C,GAAOp0B,GAAK/P,QAAO,SAAUyO,GAClC,aArIgBjV,KADds8B,EAsIiCrnB,EAAK5I,IAtItBiwB,aAEXA,EAAUtmB,SAAS,kBAAoBsmB,EAAUtmB,SAAS,0BAA4BsmB,EAAUtmB,SAAS,uBAoIhEi1N,GAAY/wJ,EAAQjlE,EAAK5I,KAvI5C,IAC3BiwB,CAuIJ,IAAG52B,QACL,CAK6B0mO,CAAWlyJ,EACxC,EA+BImyJ,GAAiB,SAAUnyJ,GAC7B,OAAOA,EAAOqsE,cAAcntD,UAAUlf,EACxC,EACI3tC,GAAQ,SAAU2tC,EAAQoyJ,GACxBpyJ,EAAOylD,UAGP2sG,EACFD,GAAenyJ,GAtCD,SAAUA,GAC1B,IAAIv8B,EAAYu8B,EAAOv8B,UACnB/lC,EAAOsiE,EAAO7hE,UACdulC,EAAMD,EAAUmiC,SACpB5F,EAAOqyJ,OAAOC,8BACUxsO,IAApBk6E,EAAOy1I,WAA+C,IAArBnjL,GAAS0tC,IAC5C4F,GAAO5F,GAAQ9zE,MAAK,SAAUqmO,GAC5BvyJ,EAAOv8B,UAAUyuH,OAAOqgE,GACxB7uL,EAAM6uL,CACR,IAEF,IAAIC,EAzEuB,SAAUxyJ,EAAQztE,GAC7C,OAAOytE,EAAO7tE,IAAI0xE,UAAUtxE,GAAM,SAAUA,GAC1C,MAA+C,SAAxCytE,EAAO7tE,IAAIqwE,mBAAmBjwE,EACvC,GACF,CAqE4BkgO,CAAuBzyJ,EAAQv8B,EAAUm/B,WACnE,GAAI5C,EAAO0lI,EAAE5pM,SAAS4B,EAAM80N,GAI1B,OAHAZ,GAAUY,GACVd,GAAqB1xJ,EAAQt8B,QAC7ByuL,GAAenyJ,GAGZA,EAAOwQ,SACL8qG,GAAI3kL,OACPi7N,GAAUl0N,GAEZsiE,EAAOx8B,SAASnR,UAEdipJ,GAAIC,OAASv7G,EAAOwQ,UACtBohJ,GAAUl0N,GACVg0N,GAAqB1xJ,EAAQt8B,IAE/ByuL,GAAenyJ,EACjB,CAWI0yJ,CAAY1yJ,GAEhB,EAEI2yJ,GAAqB,SAAUpgM,EAAMmR,EAAKlyC,EAAOohO,EAAM/oO,GACzD,IAAI4xB,EAAYjqB,EAAQkyC,EAAIC,eAAiBD,EAAIwB,aAC7CloC,EAASxL,EAAQkyC,EAAIuB,YAAcvB,EAAIyB,UAC3C,OAAOt4C,EAAS/B,KAAK2wB,GAAWxvB,IAAIuG,GAAaF,SAASrG,KAAI,SAAU+2E,GACtE,OAAQ4vJ,GAASlvL,EAAI6B,UAA4Dy9B,EAAhDj7C,GAAQi7C,EAAKn5E,EAAQm5E,EAAKhmE,IAAStR,MAAMs3E,EAC5E,IAAG72E,MAAK,SAAU62E,GAChB,OAAOw6G,GAAYx6G,GAAOn2E,EAASJ,KAAKu2E,GAAOxmE,GAAOwmE,GAAK12E,OAAOkxL,GACpE,IAAGvxL,KAAI,SAAU+2E,GACf,OAAOA,EAAI7wE,GACb,IAAGzG,MAAM6mC,EACX,EACI0R,GAAW,SAAU1R,EAAMmR,EAAKkvL,GAClC,OAAOD,GAAmBpgM,EAAMmR,GAAK,EAAMkvL,GAAM,SAAU5vJ,EAAKhmE,GAC9D,OAAOqJ,KAAK8mB,IAAI8wJ,GAAgBj7G,GAAMhmE,EACxC,GACF,EACIomE,GAAS,SAAU7wC,EAAMmR,EAAKkvL,GAChC,OAAOD,GAAmBpgM,EAAMmR,GAAK,EAAOkvL,GAAM,SAAU5vJ,EAAKhmE,GAC/D,OAAOA,EAAS,EAAIA,EAAS,EAAIA,CACnC,GACF,EACI61N,GAAqB,SAAUtgO,EAAMy9M,GAEvC,IADA,IAAIr6F,EAAOpjH,EACJA,GAAQgtL,GAAShtL,IAAyB,IAAhBA,EAAKvK,QACpCuK,EAAOy9M,EAAWz9M,EAAKgS,YAAchS,EAAKsrL,gBAE5C,OAAOtrL,GAAQojH,CACjB,EA6EIm9G,GAAgB,SAAU9yJ,EAAQ36B,GACpC,OAAOu0I,EAAMv0I,GAAQ,SAAUnB,GAC7B,IAAIizD,EAAMn3B,EAAOsZ,KAAK,oBAAqB,CAAEp1C,MAAOA,IACpD,OAAOizD,EAAIjzD,QAAUA,EAAQizD,EAAIjzD,MAAQA,CAC3C,GACF,EAEI6uL,GAAa,CACf,QAAS,EACT,WAAY,EACZ,SAAU,EACV,MAAO,EACP,WAAY,GACZ,qBAAsB,IAEpBC,GAAS,SAAUzgO,EAAMggC,EAAMozG,GACjC,IAAIs/C,EAAYt/C,EAAO,YAAc,aACjCu/C,EAAcv/C,EAAO,OAAS,OAClC,GAAIpzI,EAAK0yL,GACP,OAAO1yL,EAAK0yL,GAEd,GAAI1yL,IAASggC,EAAM,CACjB,IAAIjuB,EAAU/R,EAAK2yL,GACnB,GAAI5gL,EACF,OAAOA,EAET,IAAK,IAAIy5J,EAAWxrK,EAAKiK,OAAQuhK,GAAYA,IAAaxrI,EAAMwrI,EAAWA,EAASvhK,OAElF,GADA8H,EAAUy5J,EAASmnB,GAEjB,OAAO5gL,CAGb,CACF,EACI2uN,GAAkB,SAAU1gO,GAC9B,IAAK+1L,GAAiB/1L,EAAKlM,OACzB,OAAO,EAET,IAAIoW,EAAalK,EAAKiK,OACtB,OAAIC,GAAmC,SAApBA,EAAW7V,OAAmB6V,EAAWylB,KAAK,WAAa,SAAS5sB,KAAK/C,EAAKlM,MAInG,EACI8gN,GAAoB,SAAU50M,GAChC,IAAIm2L,EAA8B,MAAdn2L,EAAK3L,OAAiB2L,EAAK2vB,KAAK,SAAW3vB,EAAK2vB,KAAK,MACzE,OAAO3vB,EAAK2vB,KAAK,SAAW3vB,EAAK2vB,KAAK,QAAU3vB,EAAKoS,YAAcpS,EAAK2vB,KAAK,sBAAwBwmK,CACvG,EACIwqC,GAAU,WACZ,SAASA,EAAQtsO,EAAMR,GACrBkE,KAAK1D,KAAOA,EACZ0D,KAAKlE,KAAOA,EACC,IAATA,IACFkE,KAAKq1B,WAAa,GAClBr1B,KAAKq1B,WAAW1zB,IAAM,CAAC,EAE3B,CAoPA,OAnPAinO,EAAQ16F,OAAS,SAAU5xI,EAAM4X,GAC/B,IAAIjM,EAAO,IAAI2gO,EAAQtsO,EAAMmsO,GAAWnsO,IAAS,GAMjD,OALI4X,GACF07K,GAAO17K,GAAO,SAAUnY,EAAO64L,GAC7B3sL,EAAK2vB,KAAKg9J,EAAU74L,EACtB,IAEKkM,CACT,EACA2gO,EAAQzsO,UAAUsL,QAAU,SAAUQ,GACpC,IAAI5F,EAAOrC,KAMX,OALIiI,EAAKiK,QACPjK,EAAKuwB,SAEPn2B,EAAKvH,OAAOmN,EAAM5F,GAClBA,EAAKm2B,SACEn2B,CACT,EACAumO,EAAQzsO,UAAUy7B,KAAO,SAAUt7B,EAAMP,GACvC,IACImY,EADA7R,EAAOrC,KAEX,GAAoB,iBAAT1D,EAMT,OALIA,SACFszL,GAAOtzL,GAAM,SAAUP,EAAOoK,GAC5B9D,EAAKu1B,KAAKzxB,EAAKpK,EACjB,IAEKsG,EAET,GAAI6R,EAAQ7R,EAAKgzB,WAAY,CAC3B,QAAc75B,IAAVO,EAAqB,CACvB,GAAc,OAAVA,EAAgB,CAClB,GAAIO,KAAQ4X,EAAMvS,IAAK,QACduS,EAAMvS,IAAIrF,GAEjB,IADA,IAAIkB,EAAI0W,EAAMxW,OACPF,KACL,GAAI0W,EAAM1W,GAAGlB,OAASA,EAEpB,OADA4X,EAAMq8E,OAAO/yF,EAAG,GACT6E,CAGb,CACA,OAAOA,CACT,CACA,GAAI/F,KAAQ4X,EAAMvS,KAEhB,IADInE,EAAI0W,EAAMxW,OACPF,KACL,GAAI0W,EAAM1W,GAAGlB,OAASA,EAAM,CAC1B4X,EAAM1W,GAAGzB,MAAQA,EACjB,KACF,OAGFmY,EAAM1Z,KAAK,CACT8B,KAAMA,EACNP,MAAOA,IAIX,OADAmY,EAAMvS,IAAIrF,GAAQP,EACXsG,CACT,CACA,OAAO6R,EAAMvS,IAAIrF,EACnB,CACF,EACAssO,EAAQzsO,UAAUi1B,MAAQ,WACxB,IAEIy3M,EAFAxmO,EAAOrC,KACPoxB,EAAQ,IAAIw3M,EAAQvmO,EAAK/F,KAAM+F,EAAKvG,MAExC,GAAI+sO,EAAYxmO,EAAKgzB,WAAY,CAC/B,IAAIyzM,EAAa,GACjBA,EAAWnnO,IAAM,CAAC,EAClB,IAAK,IAAInE,EAAI,EAAGmD,EAAIkoO,EAAUnrO,OAAQF,EAAImD,EAAGnD,IAAK,CAChD,IAAIurO,EAAWF,EAAUrrO,GACH,OAAlBurO,EAASzsO,OACXwsO,EAAWA,EAAWprO,QAAU,CAC9BpB,KAAMysO,EAASzsO,KACfP,MAAOgtO,EAAShtO,OAElB+sO,EAAWnnO,IAAIonO,EAASzsO,MAAQysO,EAAShtO,MAE7C,CACAq1B,EAAMiE,WAAayzM,CACrB,CAGA,OAFA13M,EAAMr1B,MAAQsG,EAAKtG,MACnBq1B,EAAM43M,WAAa3mO,EAAK2mO,WACjB53M,CACT,EACAw3M,EAAQzsO,UAAUylI,KAAO,SAAU7mH,GACjC,IAAI1Y,EAAOrC,KAGX,OAFAqC,EAAK6P,OAAOpX,OAAOigB,EAAS1Y,GAC5B0Y,EAAQ1f,OAAOgH,GACRA,CACT,EACAumO,EAAQzsO,UAAU2e,OAAS,WAEzB,IADA,IAAIzY,EAAOrC,KACFiI,EAAO5F,EAAKgY,WAAYpS,GAAO,CACtC,IAAIopC,EAAOppC,EAAKopC,KAChBhvC,EAAKvH,OAAOmN,EAAM5F,GAAM,GACxB4F,EAAOopC,CACT,CACAhvC,EAAKm2B,QACP,EACAowM,EAAQzsO,UAAUq8B,OAAS,WACzB,IAAIn2B,EAAOrC,KAAMkS,EAAS7P,EAAK6P,OAAQm/B,EAAOhvC,EAAKgvC,KAAMgqG,EAAOh5I,EAAKg5I,KAoBrE,OAnBInpI,IACEA,EAAOmI,aAAehY,GACxB6P,EAAOmI,WAAag3B,EAChBA,IACFA,EAAKgqG,KAAO,OAGdA,EAAKhqG,KAAOA,EAEVn/B,EAAOwhL,YAAcrxL,GACvB6P,EAAOwhL,UAAYr4C,EACfA,IACFA,EAAKhqG,KAAO,OAGdA,EAAKgqG,KAAOA,EAEdh5I,EAAK6P,OAAS7P,EAAKgvC,KAAOhvC,EAAKg5I,KAAO,MAEjCh5I,CACT,EACAumO,EAAQzsO,UAAUd,OAAS,SAAU4M,GACnC,IAAI5F,EAAOrC,KACPiI,EAAKiK,QACPjK,EAAKuwB,SAEP,IAAIklB,EAAOr7C,EAAKqxL,UAShB,OARIh2I,GACFA,EAAKrM,KAAOppC,EACZA,EAAKozI,KAAO39F,EACZr7C,EAAKqxL,UAAYzrL,GAEjB5F,EAAKqxL,UAAYrxL,EAAKgY,WAAapS,EAErCA,EAAKiK,OAAS7P,EACP4F,CACT,EACA2gO,EAAQzsO,UAAUrB,OAAS,SAAUmN,EAAMghO,EAASzwL,GAC9CvwC,EAAKiK,QACPjK,EAAKuwB,SAEP,IAAItmB,EAAS+2N,EAAQ/2N,QAAUlS,KAqB/B,OApBIw4C,GACEywL,IAAY/2N,EAAOmI,WACrBnI,EAAOmI,WAAapS,EAEpBghO,EAAQ5tF,KAAKhqG,KAAOppC,EAEtBA,EAAKozI,KAAO4tF,EAAQ5tF,KACpBpzI,EAAKopC,KAAO43L,EACZA,EAAQ5tF,KAAOpzI,IAEXghO,IAAY/2N,EAAOwhL,UACrBxhL,EAAOwhL,UAAYzrL,EAEnBghO,EAAQ53L,KAAKgqG,KAAOpzI,EAEtBA,EAAKopC,KAAO43L,EAAQ53L,KACpBppC,EAAKozI,KAAO4tF,EACZA,EAAQ53L,KAAOppC,GAEjBA,EAAKiK,OAASA,EACPjK,CACT,EACA2gO,EAAQzsO,UAAU4hF,OAAS,SAAUzhF,GAGnC,IAFA,IACImoI,EAAa,GACRx8H,EAFEjI,KAEUqa,WAAYpS,EAAMA,EAAOygO,GAAOzgO,EAF1CjI,MAGLiI,EAAK3L,OAASA,GAChBmoI,EAAWjqI,KAAKyN,GAGpB,OAAOw8H,CACT,EACAmkG,EAAQzsO,UAAUkW,SAAW,WAG3B,IAFA,IACIoyH,EAAa,GACRx8H,EAFEjI,KAEUqa,WAAYpS,EAAMA,EAAOA,EAAKopC,KACjDozF,EAAWjqI,KAAKyN,GAElB,OAAOw8H,CACT,EACAmkG,EAAQzsO,UAAUse,MAAQ,WACxB,IAAIpY,EAAOrC,KACX,GAAIqC,EAAKgY,WAAY,CAEnB,IADA,IAAIu7K,EAAQ,GACH3tL,EAAO5F,EAAKgY,WAAYpS,EAAMA,EAAOygO,GAAOzgO,EAAM5F,GACzDuzL,EAAMp7L,KAAKyN,GAGb,IADA,IAAIzK,EAAIo4L,EAAMl4L,OACPF,KAAK,EACNyK,EAAO2tL,EAAMp4L,IACZ0U,OAASjK,EAAKoS,WAAapS,EAAKyrL,UAAYzrL,EAAKopC,KAAOppC,EAAKozI,KAAO,IAC3E,CACF,CAEA,OADAh5I,EAAKgY,WAAahY,EAAKqxL,UAAY,KAC5BrxL,CACT,EACAumO,EAAQzsO,UAAU8iN,QAAU,SAAUzkM,EAAU+zL,EAAY1/K,QACvC,IAAf0/K,IACFA,EAAa,CAAC,GAEhB,IAAIlsM,EAAOrC,KACPiI,EAAO5F,EAAKgY,WAChB,GAAIwiM,GAAkBx6M,GACpB,OAAO,EAET,GAAI4F,EACF,EAAG,CACD,GAAkB,IAAdA,EAAKnM,KAAY,CACnB,GAAImM,EAAK2vB,KAAK,kBACZ,SAEF,GAAIpd,EAASvS,EAAK3L,MAChB,OAAO,EAET,GAAIugN,GAAkB50M,GACpB,OAAO,CAEX,CACA,GAAkB,IAAdA,EAAKnM,KACP,OAAO,EAET,GAAkB,IAAdmM,EAAKnM,OAAe6sO,GAAgB1gO,GACtC,OAAO,EAET,GAAkB,IAAdA,EAAKnM,MAAcmM,EAAKiK,QAAUq8L,EAAWtmM,EAAKiK,OAAO5V,OAAS0hM,GAAiB/1L,EAAKlM,OAC1F,OAAO,EAET,GAAI8yB,GAAaA,EAAU5mB,GACzB,OAAO,CAEX,OAASA,EAAOygO,GAAOzgO,EAAM5F,IAE/B,OAAO,CACT,EACAumO,EAAQzsO,UAAU02L,KAAO,SAAUx3C,GACjC,OAAOqtF,GAAO1oO,KAAM,KAAMq7I,EAC5B,EACOutF,CACT,CA7Pc,GAqSVM,GAAkB,SAAU9gO,EAAM6Z,GACpC,OAAO7Z,EAAKX,QAAQwa,EAAOknN,IAAI,SAAUC,GACvC,OAAOnuN,GAAMgH,EAAOonN,KAAMD,GAAShoO,MAAMgoO,EAC3C,GACF,EAaIE,GAAShqO,GAAMsC,KAAMi6C,GAAOv8C,GAAMu8C,KAClC0tL,GAAa,uGAAuGr1M,MAAM,KAC1Hs1M,GAAgB,CAClBC,IAAK,GACLC,KAAM,GACNC,MAAO,IACPC,OAAQ,IAENC,GAAyB,CAC3B,MACA,SASEC,GAAe,SAAU9zJ,EAAUspC,EAAKy1E,GAC1C,OAAI/+G,EAAS+zJ,uBAEF,iBAAiB/+N,KAAKs0G,GAVZ,SAAU0qH,EAAkBj1C,GACjD,OAAI53L,EAAc6sO,IACRA,GAED7sO,EAAc43L,KAAY1F,EAAWw6C,GAAwB90C,EAExE,CAKWk1C,CAAiBj0J,EAAS+zH,oBAAqBhV,IAAY,yBAAyB/pL,KAAKs0G,GAEzF,UAAUt0G,KAAKs0G,GAE1B,EACI4qH,GAAM,WACR,SAASA,EAAIhwG,EAAKlkD,GAChBkkD,EAAMr+E,GAAKq+E,GACXl6H,KAAKg2E,SAAWA,GAAY,CAAC,EAC7B,IAAIm0J,EAAUnqO,KAAKg2E,SAASw1G,SACxBnpL,EAAOrC,KACX,GAAI,yBAAyBgL,KAAKkvH,IAAQ,QAAQlvH,KAAKkvH,GACrD73H,EAAKgmD,OAAS6xE,MADhB,CAIA,IAAIkwG,EAA2C,IAAtBlwG,EAAI/5H,QAAQ,MAIrC,GAHyB,IAArB+5H,EAAI/5H,QAAQ,MAAeiqO,IAC7BlwG,GAAOiwG,GAAUA,EAAQx+C,UAAqB,QAAU,cAAgBzxD,IAErE,iBAAiBlvH,KAAKkvH,GAAM,CAC/B,IAAIooF,EAAUtiN,KAAKg2E,SAASw1G,SAAWxrL,KAAKg2E,SAASw1G,SAAS5uK,KAAO,IAAIstN,EAAIjvO,SAAS6yK,SAAS2d,MAAMzhH,UACrG,GAAIhqE,KAAKg2E,SAASw1G,UAA+C,IAAnCxrL,KAAKg2E,SAASw1G,SAASG,SACnDzxD,EAAM,aAAe73H,EAAKgoO,UAAU/nB,EAASpoF,OACxC,CACL,IAAI/oH,EAAQ,oBAAoBk8E,KAAK6sC,GACrCA,GAAOiwG,GAAWA,EAAQx+C,UAAY,QAAU,cAAgBtpL,EAAKgoO,UAAU/nB,EAASnxM,EAAM,IAAMA,EAAM,EAC5G,CACF,CACA+oH,EAAMA,EAAIzyH,QAAQ,MAAO,YACzB,IAAI6iO,EAAW,uNAAuNj9I,KAAK6sC,GAC3OovG,GAAOC,IAAY,SAAU/jO,EAAGhI,GAC9B,IAAI+tD,EAAO++K,EAAS9sO,GAChB+tD,IACFA,EAAOA,EAAK9jD,QAAQ,cAAe,OAErCpF,EAAKmD,GAAK+lD,CACZ,IACI4+K,IACG9nO,EAAKspL,WACRtpL,EAAKspL,SAAWw+C,EAAQx+C,UAErBtpL,EAAKkoO,WACRloO,EAAKkoO,SAAWJ,EAAQI,UAErBloO,EAAKupL,MAAsB,aAAdvpL,EAAKwQ,OACrBxQ,EAAKupL,KAAOu+C,EAAQv+C,MAEjBvpL,EAAKwQ,MAAsB,aAAdxQ,EAAKwQ,OACrBxQ,EAAKwQ,KAAOs3N,EAAQt3N,MAEtBxQ,EAAKgmD,OAAS,IAEZ+hL,IACF/nO,EAAKspL,SAAW,GAvClB,CAyCF,CA2MA,OA1MAu+C,EAAIM,aAAe,SAAUlrH,GAC3B,IAAIxjH,EACA2uO,EAAgBC,mBAAmBprH,GAAKprF,MAAM,KAC9C/jB,EAAU,eAAek9E,KAAKo9I,EAAc,IAIhD,OAHIt6N,IACFrU,EAAOqU,EAAQ,IAEV,CACLrU,KAAMA,EACNyyB,KAAMk8M,EAAc,GAExB,EACAP,EAAIS,UAAY,SAAUrrH,EAAK7jC,EAAS9gF,GAItC,QAHgB,IAAZA,IACFA,EAAU,CAAC,GAETA,EAAQmvM,kBACV,OAAO,EAEP,IAAI8gC,EAAapqC,GAASM,OAAOxhF,GAAK73G,QAAQ,sBAAuB,IACrE,IACEmjO,EAAaF,mBAAmBE,EAGlC,CAFE,MAAO5mI,GACP4mI,EAAaC,SAASD,EACxB,CACA,OAAI,4BAA4B5/N,KAAK4/N,KAG7Bd,GAAanvO,EAASiwO,EAAYnvJ,EAE9C,EACAyuJ,EAAIY,mBAAqB,SAAU7tN,GACjC,IAAIqlM,EAYJ,OAVEA,EADmC,IAAjCrlM,EAAI0uK,SAASxrL,QAAQ,SAAkC,UAAjB8c,EAAI0uK,SAClC1uK,EAAIwuK,KAEJxuK,EAAI0uK,SAAW,KAAO1uK,EAAIpK,KAAOoK,EAAI8tN,SAE7C,yBAAyB//N,KAAKs3M,KAChCA,EAAUA,EAAQ76M,QAAQ,WAAY,IAAIA,QAAQ,gBAAiB,IAC9D,UAAUuD,KAAKs3M,KAClBA,GAAW,MAGRA,CACT,EACA4nB,EAAI/tO,UAAU6uO,QAAU,SAAUpuN,GAChC,IAAIquN,EAAY,mBAAmB59I,KAAKzwE,GACxC5c,KAAK4c,KAAOquN,EAAU,GACtBjrO,KAAKgqE,UAAYihK,EAAU,GAC3BjrO,KAAKq9G,KAAO4tH,EAAU,GACtBjrO,KAAKqoD,OAAS,GACdroD,KAAKkrO,QACP,EACAhB,EAAI/tO,UAAUgvO,WAAa,SAAU7rH,GACnC,IAAIpmF,EACJ,GAAY,OAARomF,EACF,OAAOA,EAET,IAAI8rH,EAAc,IAAIlB,EAAI5qH,EAAK,CAAEksE,SAAUxrL,OAC3C,GAAyB,aAArBorO,EAAYv4N,MAAuB7S,KAAK6S,OAASu4N,EAAYv4N,MAAQu4N,EAAYv4N,MAAQ7S,KAAK4rL,OAASw/C,EAAYx/C,MAAQ5rL,KAAK2rL,WAAay/C,EAAYz/C,UAAqC,KAAzBy/C,EAAYz/C,SACnL,OAAOy/C,EAAYF,SAErB,IAAIG,EAAKrrO,KAAKkrO,SAAUI,EAAKF,EAAYF,SACzC,OAAIG,IAAOC,GAAmC,MAA7BD,EAAG3xJ,OAAO2xJ,EAAG3tO,OAAS,IAAc2tO,EAAGpkO,OAAO,EAAGokO,EAAG3tO,OAAS,KAAO4tO,EAC5ED,GAETnyM,EAASl5B,KAAKurO,UAAUvrO,KAAK4c,KAAMwuN,EAAYxuN,MAC3CwuN,EAAYn7N,QACdipB,GAAU,IAAMkyM,EAAYn7N,OAE1Bm7N,EAAYroM,SACd7J,GAAU,IAAMkyM,EAAYroM,QAEvB7J,EACT,EACAgxM,EAAI/tO,UAAUu6C,WAAa,SAAU4oE,EAAKksH,GACxC,IAAIC,EAAc,IAAIvB,EAAI5qH,EAAK,CAAEksE,SAAUxrL,OAC3C,OAAOyrO,EAAYP,OAAOM,GAAUxrO,KAAK8rL,aAAa2/C,GACxD,EACAvB,EAAI/tO,UAAU2vL,aAAe,SAAUxsE,GACrC,GAAIt/G,KAAK6S,MAAQysG,EAAIzsG,MAAQ7S,KAAK2rL,UAAYrsE,EAAIqsE,SAAU,CAC1D,GAAI3rL,KAAK4rL,MAAQtsE,EAAIssE,KACnB,OAAO,EAET,IAAI8/C,EAAclC,GAAcxpO,KAAK2rL,UACrC,GAAI+/C,IAAgB1rO,KAAK4rL,MAAQ8/C,KAAiBpsH,EAAIssE,MAAQ8/C,GAC5D,OAAO,CAEX,CACA,OAAO,CACT,EACAxB,EAAI/tO,UAAUovO,UAAY,SAAU1hN,EAAMjN,GACxC,IAA8Bpf,EAAGmD,EAA7BgrO,EAAa,EAAG9oH,EAAM,GACtB+oH,EAAiB/hN,EAAKgK,UAAU,EAAGhK,EAAKgwD,YAAY,MAAM3lD,MAAM,KAChE6yB,EAAQnqC,EAAKsX,MAAM,KACvB,GAAI03M,EAAeluO,QAAUqpD,EAAMrpD,OACjC,IAAKF,EAAI,EAAGmD,EAAIirO,EAAeluO,OAAQF,EAAImD,EAAGnD,IAC5C,GAAIA,GAAKupD,EAAMrpD,QAAUkuO,EAAepuO,KAAOupD,EAAMvpD,GAAI,CACvDmuO,EAAanuO,EAAI,EACjB,KACF,CAGJ,GAAIouO,EAAeluO,OAASqpD,EAAMrpD,OAChC,IAAKF,EAAI,EAAGmD,EAAIomD,EAAMrpD,OAAQF,EAAImD,EAAGnD,IACnC,GAAIA,GAAKouO,EAAeluO,QAAUkuO,EAAepuO,KAAOupD,EAAMvpD,GAAI,CAChEmuO,EAAanuO,EAAI,EACjB,KACF,CAGJ,GAAmB,IAAfmuO,EACF,OAAO/uN,EAET,IAAKpf,EAAI,EAAGmD,EAAIirO,EAAeluO,QAAUiuO,EAAa,GAAInuO,EAAImD,EAAGnD,IAC/DqlH,GAAO,MAET,IAAKrlH,EAAImuO,EAAa,EAAGhrO,EAAIomD,EAAMrpD,OAAQF,EAAImD,EAAGnD,IAE9CqlH,GADErlH,IAAMmuO,EAAa,EACd,IAAM5kL,EAAMvpD,GAEZupD,EAAMvpD,GAGjB,OAAOqlH,CACT,EACAqnH,EAAI/tO,UAAUkuO,UAAY,SAAUxgN,EAAMjN,GACxC,IAAIpf,EAAmBquO,EAAhBC,EAAK,EAAGruN,EAAI,GACfmpL,EAAK,MAAM57L,KAAK4R,GAAQ,IAAM,GAC9BgvN,EAAiB/hN,EAAKqK,MAAM,KAC5B63M,EAAiBnvN,EAAKsX,MAAM,KAOhC,IANAo1M,GAAOsC,GAAgB,SAAUvmO,GAC3BA,GACFoY,EAAEjjB,KAAK6K,EAEX,IACAumO,EAAiBnuN,EACZjgB,EAAIuuO,EAAeruO,OAAS,EAAG+f,EAAI,GAAIjgB,GAAK,EAAGA,IACjB,IAA7BuuO,EAAevuO,GAAGE,QAAsC,MAAtBquO,EAAevuO,KAG3B,OAAtBuuO,EAAevuO,GAIfsuO,EAAK,EACPA,IAGFruN,EAAEjjB,KAAKuxO,EAAevuO,IAPpBsuO,KAqBJ,OAN6B,KAJ3BD,GAFFruO,EAAIouO,EAAeluO,OAASouO,IACnB,EACGznO,GAAQoZ,GAAGqF,KAAK,KAEhB8oN,EAAehrO,MAAM,EAAGpD,GAAGslB,KAAK,KAAO,IAAMze,GAAQoZ,GAAGqF,KAAK,MAE7D3iB,QAAQ,OAClB0rO,EAAU,IAAMA,GAEdjlC,GAAMilC,EAAQhyJ,YAAY,OAASgyJ,EAAQnuO,OAAS,IACtDmuO,GAAWjlC,GAENilC,CACT,EACA3B,EAAI/tO,UAAU+uO,OAAS,SAAUc,GAI/B,IAAIrsO,EA8BJ,YAjCoB,IAAhBqsO,IACFA,GAAc,GAGXhsO,KAAKqoD,SAAU2jL,IAClBrsO,EAAI,GACCqsO,IACChsO,KAAK2rL,SACPhsL,GAAKK,KAAK2rL,SAAW,MAErBhsL,GAAK,KAEHK,KAAKuqO,WACP5qO,GAAKK,KAAKuqO,SAAW,KAEnBvqO,KAAK6S,OACPlT,GAAKK,KAAK6S,MAER7S,KAAK4rL,OACPjsL,GAAK,IAAMK,KAAK4rL,OAGhB5rL,KAAK4c,OACPjd,GAAKK,KAAK4c,MAER5c,KAAKiQ,QACPtQ,GAAK,IAAMK,KAAKiQ,OAEdjQ,KAAK+iC,SACPpjC,GAAK,IAAMK,KAAK+iC,QAElB/iC,KAAKqoD,OAAS1oD,GAETK,KAAKqoD,MACd,EACO6hL,CACT,CA9PU,GAgQN+B,GAA0B3sO,GAAM2wI,QAAQ,6EAIxCi8F,GAA0B,SAAUnoN,EAAQ3b,EAAM+jO,GAKpD,IAJA,IAAIC,EAAiB,iCACjBC,EAAe,4EACfC,EAAqBvoN,EAAO6jL,wBAC5Br/K,EAAQ,EAAGhW,EAAQ45N,EACN,IAAV5jN,GAEL,IADA6jN,EAAepiC,UAAYz3L,IACd,CACX,IAAIg6N,EAAaH,EAAe/+I,KAAKjlF,GACrC,GAAmB,OAAfmkO,EACF,OAAOh6N,EACF,GAAsB,MAAlBg6N,EAAW,GAAY,CAE9Bh6N,EADEnL,GAAWmlO,EAAW,GAAI,MACpBC,GAAoBpkO,GAAM,EAAOmkO,EAAWh6N,MAAQ,MAAM7U,QAE1D8uO,GAAoBpkO,GAAM,EAAMmkO,EAAWh6N,MAAQ,GAE7D,KACF,CACE85N,EAAariC,UAAYoiC,EAAepiC,UACxC,IAAIyiC,EAAWJ,EAAah/I,KAAKjlF,GACjC,IAAIrL,EAAO0vO,IAAaA,EAASl6N,QAAU65N,EAAepiC,UAA1D,CAGsB,MAAlBuiC,EAAW,GACbhkN,GAAS,EACCniB,GAAMkmO,EAAoBC,EAAW,MAC/ChkN,GAAS,GAEXhW,EAAQ65N,EAAepiC,UAAYyiC,EAAS,GAAG/uO,OAC/C,KAPA,CASJ,CAEF,OAAO6U,CACT,EAIIi6N,GAAsB,SAAUpkO,EAAMuhN,EAASwiB,QAC9B,IAAfA,IACFA,EAAa,GAEf,IAAIO,EAAStkO,EAAKwB,cAClB,IAA4C,IAAxC8iO,EAAOvsO,QAAQ,OAAQgsO,IARF,SAAU/jO,EAAM+jO,GACzC,MAAO,2CAA2CnhO,KAAK5C,EAAKnB,OAAOklO,GACrE,CAMmDQ,CAAqBD,EAAQP,GAAa,CACzF,IAAIS,EAAaF,EAAOvsO,QAAQ,UAAWgsO,GAC3C,OAAOO,EAAOvsO,QAAQ,IAAKysO,EAC7B,CACE,GAAIjjB,EAAS,CACX,IAAI31L,EAAW04M,EAAOvsO,QAAQ,IAAKgsO,GACnC,OAAqB,IAAdn4M,EAAkBA,EAAW04M,EAAOhvO,MAC7C,CACE,IAAImvO,EAAmB,SACvBA,EAAiB7iC,UAAYmiC,EAC7B,IAAIh7N,EAAQ07N,EAAiBx/I,KAAKjlF,GAClC,OAAO+I,EAAQA,EAAMoB,MAAQpB,EAAM,GAAGzT,OAASgvO,EAAOhvO,MAG5D,EACIovO,GAAsB,SAAUC,EAAQC,GAC1C,IAAI78N,EAAU48N,EAAO1/I,KAAK2/I,GAC1B,GAAI78N,EAAS,CACX,IAAIs0J,EAASt0J,EAAQ,GACjBpU,EAAQoU,EAAQ,GACpB,MAAyB,iBAAXs0J,GAAgD,mBAAzBA,EAAO76J,cAAqC7N,EAAQ,IAC3F,CACE,OAAO,IAEX,EACIkxO,GAAY,SAAUj3J,EAAUjyD,GAClC,IAAI/U,OACW,IAAX+U,IACFA,EAAS09K,MAGX,IAAI7tL,EAAmC,QAA5B5E,GADXgnE,EAAWA,GAAY,CAAC,GACC/6E,gBAA6B,IAAP+T,EAAgBA,EAAK/T,SAChE86G,EAAOniG,EAAIrL,cAAc,SACK,IAA9BytE,EAASk3J,mBACXl3J,EAASk3J,kBAAmB,GAE9B,IAAIC,EAAUn3J,EAASm3J,QAAUn3J,EAASm3J,QAAUxvO,EAChDyvO,EAAQp3J,EAASo3J,MAAQp3J,EAASo3J,MAAQzvO,EAC1CqL,EAAOgtE,EAAShtE,KAAOgtE,EAAShtE,KAAOrL,EACvCuJ,EAAQ8uE,EAAS9uE,MAAQ8uE,EAAS9uE,MAAQvJ,EAC1CsiH,EAAMjqC,EAASiqC,IAAMjqC,EAASiqC,IAAMtiH,EACpC0vO,EAAKr3J,EAASq3J,GAAKr3J,EAASq3J,GAAK1vO,EACjC2vO,EAAUt3J,EAASs3J,QAAUt3J,EAASs3J,QAAU3vO,EAChD4vO,EAAgB,SAAUC,EAAe37I,QAC5B,IAAXA,IACFA,EAAS,QA2GX,IAzGA,IACI1hF,EAAoBpU,EAAO0xO,EAE3BC,EAAUlwO,EAAGmwO,EAAUrxO,EACvBsxO,EAAmBC,EACnBC,EAAaC,EAAgBn2M,EAAMo2M,EAAcC,EAAoBC,EACrEhpC,EAAoBC,EAAmBC,EAChB1O,EAPvBtuL,EAAOolO,EAAcplO,KACZmK,EAAQ,EACjBguB,EAAQ,GAK0Bg4J,EAAU,EAC5CuI,EAASN,GAASM,OAClBqtC,EAAmB7uO,GAAM2wI,QAAQ,gEACjCm+F,EAAyB,SAAXv8I,EAAoB,EAAI,EACtCw8I,EAAgB,SAAU/xO,GAC5B,IAAI2tC,EAAKzsC,EAET,IADAysC,EAAM1J,EAAM7iC,OACLusC,KACD1J,EAAM0J,GAAK3tC,OAASA,IAI1B,GAAI2tC,GAAO,EAAG,CACZ,IAAKzsC,EAAI+iC,EAAM7iC,OAAS,EAAGF,GAAKysC,EAAKzsC,KACnClB,EAAOikC,EAAM/iC,IACJqpG,OACPoZ,EAAI3jH,EAAKA,MAGbikC,EAAM7iC,OAASusC,CACjB,CACF,EACIqkM,EAAc,SAAUvyO,EAAOwZ,GACjC,OAAOvM,EAAKkgO,GAAgBntO,EAAOyxO,GAAgBj4N,EACrD,EACIg5N,EAAiB,SAAUxyO,GACf,KAAVA,IAGoB,MAApBA,EAAM29E,OAAO,KACf39E,EAAQ,IAAMA,GAEXi6E,EAASw4J,4BAAmE,QAArCzyO,EAAMkL,OAAO,EAAG,GAAG2C,gBAC7D7N,EAAQ,IAAMA,GAEhBoxO,EAAQjE,GAAgBntO,EAAOyxO,IACjC,EAIIiB,EAA0B,SAAU1yO,EAAOowO,GAC7C,IAAIuC,EAAW3yO,GAAS,GACpB4tN,GAAWviN,GAAWsnO,EAAU,MAChC16M,EAAWw4M,GAAoBpkO,EAAMuhN,EAASwiB,GAGlD,OAFApwO,EAAQqM,EAAKnB,OAAOklO,EAAYn4M,EAAWm4M,GAC3CoC,EAAe5kB,EAAU+kB,EAAW3yO,EAAQA,GACrCi4B,EAAW,CACpB,EACI26M,EAAiB,SAAU55C,EAASz4L,EAAMP,EAAO6yO,EAAMC,GAGzD,GADA9yO,EAbgB,SAAUA,GAC1B,OAAOmtO,GAAgBntO,EAAOyxO,EAChC,CAWUsB,EADRxyO,EAAOA,EAAKsN,iBACgBmlO,EAAezyO,EAAOwkM,EAAO/kM,GAAS6yO,GAAQC,GAAQ,KAC9EloI,IAAainI,IAAqD,IAxJhD,SAAUtxO,GACpC,OAAiC,IAA1BA,EAAK6D,QAAQ,UAA4C,IAA1B7D,EAAK6D,QAAQ,QACrD,CAsJ4C6uO,CAAsB1yO,GAAiB,CAC3E,IAAI2yO,EAAWhB,EAAmB3xO,GAClC,IAAK2yO,GAAYf,EAAwB,CAEvC,IADA,IAAI9jC,EAAM8jC,EAAuBxwO,OAC1B0sM,OACL6kC,EAAWf,EAAuB9jC,IACrBtoC,QAAQ92J,KAAK1O,MAIf,IAAT8tM,IACF6kC,EAAW,KAEf,CACA,IAAKA,EACH,OAEF,GAAIA,EAAS3pC,eAAiBvpM,KAASkzO,EAAS3pC,aAC9C,MAEJ,EAC0B,SAAThpM,GAA4B,OAATA,IAClBy4L,KAAWk3C,KAA4BlwO,KAAS6X,GAAO7X,KAASg6G,IAG9Eo4H,EAAiB7xO,KAAU4tO,GAAIS,UAAU5uO,EAAOg5L,EAAS/+G,IAGzD43J,IAAsBtxO,KAAQ6xO,GAA2C,IAAvB7xO,EAAK6D,QAAQ,SAGnEutO,EAAS/rO,IAAIrF,GAAQP,EACrB2xO,EAASlzO,KAAK,CACZ8B,KAAMA,EACNP,MAAOA,IAEX,EACImzO,EAAc,IAAI3jJ,OAAO,iUAA0W,KACnY4jJ,EAAa,iFACb7C,EAAqBvoN,EAAO6jL,wBAC5BwnC,EAAcp5J,EAASq5J,uBAAyBtrN,EAAO8jL,yBACvDknC,EAAehrN,EAAOyjL,eACtB7gG,EAAW3wB,EAAS2wB,SACpB2oI,EAAyBt5J,EAASu5J,iBAClCC,EAAiBx5J,EAASk3J,iBAC1BtrC,EAAkB79K,EAAOkkL,qBACzBwnC,EAAcrnO,EAAO,IAClB+H,EAAU++N,EAAY7hJ,KAAKoiJ,IAAc,CAC9C,IAAIpzJ,GAAYlsE,EAAQ,GAIxB,GAHIoC,EAAQpC,EAAQoC,OAClB+7N,EAAYxtC,EAAO14L,EAAKnB,OAAOsL,EAAOpC,EAAQoC,MAAQA,KAEpDxW,EAAQoU,EAAQ,GAEM,OADxBpU,EAAQA,EAAM6N,eACJ8vE,OAAO,KACf39E,EAAQA,EAAMkL,OAAO,IAEvBonO,EAActyO,QACT,GAAIA,EAAQoU,EAAQ,GAAI,CAC7B,GAAIA,EAAQoC,MAAQ8pE,GAAU3+E,OAAS0K,EAAK1K,OAAQ,CAClD4wO,EAAYxtC,EAAO14L,EAAKnB,OAAOkJ,EAAQoC,SACvCA,EAAQpC,EAAQoC,MAAQ8pE,GAAU3+E,OAClC,QACF,CAEwB,OADxB3B,EAAQA,EAAM6N,eACJ8vE,OAAO,KACf39E,EAAQA,EAAMkL,OAAO,IAEvB4mO,EAAe9xO,KAASuwO,EACpBkD,GAAkBJ,EAAYrzO,IAAUwkC,EAAM7iC,OAAS,GAAK6iC,EAAMA,EAAM7iC,OAAS,GAAGpB,OAASP,GAC/FsyO,EAActyO,GAEhB,IAAI2zO,GAAa5C,GAAoBqC,EAAYh/N,EAAQ,IACzD,GAAmB,OAAfu/N,GAAqB,CACvB,GAAmB,QAAfA,GAAsB,CACxBn9N,EAAQ25N,GAAwBnoN,EAAQ3b,EAAM8mO,EAAYllC,WAC1DklC,EAAYllC,UAAYz3L,EACxB,QACF,CACAw7N,GAAiB,CACnB,CACA,IAAKpnI,IAAamnI,EAAc/pN,EAAOqiL,eAAerqM,IAAS,CAqB7D,GApBAgyO,GAAiB,EACbpnI,IACFsnI,EAAqBH,EAAYz4M,WACjC64M,EAAyBJ,EAAYvoC,oBAEnCyoC,EAAe79N,EAAQ,MACzBy9N,GAA+D,IAA3CI,EAAa7tO,QAAQ,mBAChBmvO,IACvBvB,GAAiB,IAEnBL,EAAW,IACF/rO,IAAM,CAAC,EAChBqsO,EAAavmO,QAAQ0nO,GAAY,SAAUh+N,EAAO7U,EAAM+Z,EAAKu4N,EAAMC,GAEjE,OADAF,EAAe5yO,EAAOO,EAAM+Z,EAAKu4N,EAAMC,GAChC,EACT,MAEAnB,EAAW,IACF/rO,IAAM,CAAC,EAEdglG,IAAainI,EAAmB,CAQlC,GAPA1oC,EAAqB4oC,EAAY5oC,mBACjCC,EAAoB2oC,EAAY3oC,kBAChCC,EAAmB0oC,EAAY1oC,iBACP0oC,EAAY7oC,mBACNyoC,EAAShwO,SACrCqwO,GAAiB,GAEf3oC,EAEF,IADA5nM,EAAI4nM,EAAiB1nM,OACdF,KAELlB,GADAs7B,EAAOwtK,EAAiB5nM,IACZlB,KAEM,YADlBo6L,EAAY9+J,EAAK77B,SAEf26L,EAAY,OAAS6B,KAEvBm1C,EAAS/rO,IAAIrF,GAAQo6L,EACrBg3C,EAASlzO,KAAK,CACZ8B,KAAMA,EACNP,MAAO26L,IAIb,GAAIyO,EAEF,IADA3nM,EAAI2nM,EAAkBznM,OACfF,MAELlB,GADAs7B,EAAOutK,EAAkB3nM,IACblB,QACEoxO,EAAS/rO,MAEH,YADlB+0L,EAAY9+J,EAAK77B,SAEf26L,EAAY,OAAS6B,KAEvBm1C,EAAS/rO,IAAIrF,GAAQo6L,EACrBg3C,EAASlzO,KAAK,CACZ8B,KAAMA,EACNP,MAAO26L,KAKf,GAAIwO,EAAoB,CAEtB,IADA1nM,EAAI0nM,EAAmBxnM,OAChBF,OACD0nM,EAAmB1nM,KAAMkwO,EAAS/rO,QAI7B,IAAPnE,IACFuwO,GAAiB,EAErB,CACA,GAAIn2M,EAAO81M,EAAS/rO,IAAI,kBAAmB,CACzC,GAAa,QAATi2B,EAAgB,CAClBrlB,EAAQ25N,GAAwBnoN,EAAQ3b,EAAM8mO,EAAYllC,WAC1DklC,EAAYllC,UAAYz3L,EACxB,QACF,CACAw7N,GAAiB,CACnB,CACF,CACIA,GACF7mO,EAAMnL,EAAO2xO,EAAUG,EAE3B,MACEE,GAAiB,EAEnB,GAAIN,EAAY7rC,EAAgB7lM,GAAQ,CACtC0xO,EAAUzjC,UAAYz3L,EAAQpC,EAAQoC,MAAQ8pE,GAAU3+E,QACpDyS,EAAUs9N,EAAUpgJ,KAAKjlF,KACvB2lO,IACFJ,EAAWvlO,EAAKnB,OAAOsL,EAAOpC,EAAQoC,MAAQA,IAEhDA,EAAQpC,EAAQoC,MAAQpC,EAAQ,GAAGzS,SAEnCiwO,EAAWvlO,EAAKnB,OAAOsL,GACvBA,EAAQnK,EAAK1K,QAEXqwO,IACEJ,EAASjwO,OAAS,GACpB4wO,EAAYX,GAAU,GAExB1tH,EAAIlkH,IAENmzO,EAAYllC,UAAYz3L,EACxB,QACF,CACKs7N,IACEG,GAAgBA,EAAa7tO,QAAQ,OAAS6tO,EAAatwO,OAAS,EAK9DqwO,GACT9tH,EAAIlkH,GALJwkC,EAAM/lC,KAAK,CACT8B,KAAMP,EACN8qG,MAAOknI,IAMf,MAAO,GAAIhyO,EAAQoU,EAAQ,GACzBo+N,EAAexyO,QACV,GAAIA,EAAQoU,EAAQ,GAAI,CAE7B,KAD0C,IAAhBi+N,GAAqBp4J,EAAS25J,gBAAkBpvM,EAAM7iC,OAAS,GAAKqmB,EAAOokL,aAAa5nK,EAAMA,EAAM7iC,OAAS,GAAGpB,KAAM,WAGzI,CACLiW,EAAQk8N,EAAwB,GAAIt+N,EAAQoC,MAAQ,GACpD28N,EAAYllC,UAAYz3L,EACxB,QACF,CALE66N,EAAMrxO,EAMV,MAAO,GAAIA,EAAQoU,EAAQ,GACzBm9N,EAAQvxO,OACH,KAAKA,EAAQoU,EAAQ,KAAqB,OAAdksE,GAAoB,CACrD9pE,EAAQk8N,EAAwB1yO,EAAOoU,EAAQoC,MAAQ8pE,GAAU3+E,QACjEwxO,EAAYllC,UAAYz3L,EACxB,QACF,CAAO,GAAIxW,EAAQoU,EAAQ,GAAI,CAC7B,GAAoB,IAAhBi+N,EAEG,CACL77N,EAAQk8N,EAAwB,IAAKt+N,EAAQoC,MAAQ,GACrD28N,EAAYllC,UAAYz3L,EACxB,QACF,CALE86N,EAAGtxO,EAAOoU,EAAQ,GAMtB,EACAoC,EAAQpC,EAAQoC,MAAQ8pE,GAAU3+E,MACpC,CAIA,IAHI6U,EAAQnK,EAAK1K,QACf4wO,EAAYxtC,EAAO14L,EAAKnB,OAAOsL,KAE5B/U,EAAI+iC,EAAM7iC,OAAS,EAAGF,GAAK,EAAGA,KACjCzB,EAAQwkC,EAAM/iC,IACJqpG,OACRoZ,EAAIlkH,EAAMO,KAGhB,EAOA,MAAO,CAAE0zC,MANG,SAAU5nC,EAAMypF,QACX,IAAXA,IACFA,EAAS,QAEX07I,EA9tBwB,SAAUnlO,GAQpC,IAPA,IAII+H,EAJAy/N,EAAe,yCACfjwJ,EAAS,GACT0pJ,EAAO,CAAC,EACRhiO,EAASknD,GAAS,OAElBh8C,EAAQ,EACRgW,EAAQ,EACLpY,EAAUy/N,EAAaviJ,KAAKjlF,IAAO,CACxC,IAAIk3G,EAAMnvG,EAAQ,GACdi5N,EAAU/hO,EAAS,IAAMkhB,IAC7B8gN,EAAKD,GAAW9pH,EACZ/sG,EAAQpC,EAAQoC,OAClBotE,EAAOnlF,KAAK4N,EAAKnB,OAAOsL,EAAOpC,EAAQoC,MAAQA,IAEjDotE,EAAOnlF,KAAK4uO,GACZ72N,EAAQpC,EAAQoC,MAAQ+sG,EAAI5hH,MAC9B,CACA,IAAIyrO,EAAK,IAAI59I,OAAOlkF,EAAS,UAAW,KACxC,OAAc,IAAVkL,EACK,CACLlL,OAAQA,EACRgiO,KAAMA,EACNjhO,KAAMA,EACN+gO,GAAIA,IAGF52N,EAAQnK,EAAK1K,QACfiiF,EAAOnlF,KAAK4N,EAAKnB,OAAOsL,IAEnB,CACLlL,OAAQA,EACRgiO,KAAMA,EACNjhO,KAAMu3E,EAAO78D,KAAK,IAClBqmN,GAAIA,GAGV,CAyrBkB0G,CAAsBznO,GAAOypF,EAC7C,EAEF,EACAo7I,GAAU6C,WAAa5D,GAEvB,IAII6D,GAAe,SAAU/qB,EAAY58M,GAMvC,IALA,IAII+H,EAJA6/N,EAAiB,0CACjBjsN,EAASihM,EAAWjhM,OACpByM,EAPS,SAAUy/M,EAAW7nO,GAClC,IAAI8nO,EAAoB,IAAI3kJ,OAAO,CAAC,QAAU0kJ,EAAUntN,KAAK,KAAO,aAAaA,KAAK,KAAM,MAC5F,OAAO1a,EAAKX,QAAQyoO,EAAmB,GACzC,CAIgBC,CAASnrB,EAAWorB,eAAgBhoO,GAC9CkkO,EAAqBvoN,EAAO6jL,wBAEzBz3L,EAAU6/N,EAAe3iJ,KAAK78D,IAAU,CAC7C,IAAIje,EAAQy9N,EAAehmC,UACvBpxG,EAAczoF,EAAQ,GAAGzS,OACzB2yO,OAAc,EAEhBA,EADE/D,EAAmBn8N,EAAQ,IACfoC,EAEA06N,GAAU6C,WAAW/rN,EAAQyM,EAASje,GAEtDie,EAAUA,EAAQqD,UAAU,EAAGthB,EAAQqmF,GAAepoE,EAAQqD,UAAUw8M,GACxEL,EAAehmC,UAAYz3L,EAAQqmF,CACrC,CACA,OAAO+iG,GAAOnrK,EAChB,EACI8/M,GAAeP,GAcfQ,GAAqB,SAAU76J,EAAQ33E,EAAM8zF,EAAQz+E,GACvD,IAEIod,EAFAggN,EARY,SAAUzyO,EAAM8zF,GAChC,OAAOryF,GAASA,GAAS,CAAC,EAAGzB,GAAO,CAClC8zF,OAAQA,EACR57E,KAAK,EACLw6N,UAAU,GAEd,CAEsBC,CAAY3yO,EAAM8zF,GAClC8+I,EAAc5yO,EAAK6yO,UAAYJ,EAAgB96J,EAAOsZ,KAAK,mBAAoBwhJ,GAmBnF,OAhBEhgN,EADyB,QAAvBmgN,EAAY9+I,OACJvyF,GAAMu8C,KAAKy0L,GAAa56J,EAAOsvI,WAAY5xM,EAAK5K,YAC1B,SAAvBmoO,EAAY9+I,OACXnc,EAAO7tE,IAAIo3M,QAAQ7rM,GAAQ,GAAKuoL,GAAOvoL,EAAKg7H,WAAah7H,EAAKsH,aACxC,SAAvBi2N,EAAY9+I,OACXnc,EAAOsvI,WAAW/a,UAAU72L,EAAMu9N,GArBxB,SAAUj7J,EAAQttE,GACxC,IAAIm0L,EAAY+vB,GAAmB52I,GAC/Bm7J,EAAc,IAAItlJ,OAAO,MAAQgxG,EAAY,4CAAiDA,EAAY,8BAC9G,OAAOn0L,EAAKX,QAAQopO,EAAa,GACnC,CAmBcC,CAAkBp7J,EAAQA,EAAOsvI,WAAW/a,UAAU72L,EAAMu9N,IAEnEthD,EAAW,CACZ,OACA,QACCshD,EAAY9+I,SAAY0pG,GAAoBrzL,GAAaF,QAAQoL,IAGpEu9N,EAAYngN,QAAUA,EAFtBmgN,EAAYngN,QAAUlxB,GAAMu8C,KAAKrrB,GAI/BmgN,EAAYC,UACPD,EAAYngN,QAEZklD,EAAOsZ,KAAK,aAAc2hJ,GAAangN,OAElD,EAOIugN,GAASzxO,GAAMsC,KACfovO,GAAe,SAAUnpO,GA4C3B,MAAO,CAAEmsM,QA3CK,SAAUud,EAAOC,GAC7B,GAAID,EAAM5nN,WAAa6nN,EAAM7nN,SAC3B,OAAO,EAET,IAAI6xM,EAAa,SAAUvzM,GACzB,IAAIgpO,EAAU,CAAC,EAOf,OANAF,GAAOlpO,EAAI2zM,WAAWvzM,IAAO,SAAU2vB,GACrC,IAAIt7B,EAAOs7B,EAAKjuB,SAASC,cACC,IAAtBtN,EAAK6D,QAAQ,MAAuB,UAAT7D,GAA8C,IAA1BA,EAAK6D,QAAQ,WAC9D8wO,EAAQ30O,GAAQuL,EAAIyzM,UAAUrzM,EAAM3L,GAExC,IACO20O,CACT,EACIC,EAAiB,SAAUC,EAAMC,GACnC,IAAIr1O,EAAOO,EACX,IAAKA,KAAQ60O,EACX,GAAI/qO,GAAM+qO,EAAM70O,GAAO,CAErB,QAAqB,KADrBP,EAAQq1O,EAAK90O,IAEX,OAAO,EAET,GAAI60O,EAAK70O,KAAUP,EACjB,OAAO,SAEFq1O,EAAK90O,EACd,CAEF,IAAKA,KAAQ80O,EACX,GAAIhrO,GAAMgrO,EAAM90O,GACd,OAAO,EAGX,OAAO,CACT,EACA,QAAK40O,EAAe11B,EAAW+V,GAAQ/V,EAAWgW,QAG7C0f,EAAerpO,EAAImlI,WAAWnlI,EAAIyzM,UAAUiW,EAAO,UAAW1pN,EAAImlI,WAAWnlI,EAAIyzM,UAAUkW,EAAO,cAG/FwE,GAAiBzE,KAAWyE,GAAiBxE,IACvD,EAEF,EAEI6f,GAAY/xO,GAAM2wI,QAClBqhG,GAAS,SAAUt7J,GACrB,IAAI5tE,EAAO,GAEPmpO,GADJv7J,EAAWA,GAAY,CAAC,GACFu7J,OAClBC,EAAeH,GAAUr7J,EAASy7J,eAAiB,IACnDC,EAAcL,GAAUr7J,EAAS27J,cAAgB,IACjDvmJ,EAASo1G,GAASC,cAAczqH,EAAS47J,iBAAmB,MAAO57J,EAASuqH,UAC5EsxC,EAAyC,SAA5B77J,EAAS87J,eAC1B,MAAO,CACL5qO,MAAO,SAAU5K,EAAM4X,EAAOuG,GAC5B,IAAIjd,EAAGmD,EAAGi3B,EAAM77B,EAQhB,GAPIw1O,GAAUC,EAAal1O,IAAS8L,EAAK1K,OAAS,IAChD3B,EAAQqM,EAAKA,EAAK1K,OAAS,IACjBA,OAAS,GAAe,OAAV3B,GACtBqM,EAAK5N,KAAK,MAGd4N,EAAK5N,KAAK,IAAK8B,GACX4X,EACF,IAAK1W,EAAI,EAAGmD,EAAIuT,EAAMxW,OAAQF,EAAImD,EAAGnD,IACnCo6B,EAAO1jB,EAAM1W,GACb4K,EAAK5N,KAAK,IAAKo9B,EAAKt7B,KAAM,KAAM8uF,EAAOxzD,EAAK77B,OAAO,GAAO,KAI5DqM,EAAKA,EAAK1K,SADP+c,GAASo3N,EACQ,IAEA,MAElBp3N,GAAS82N,GAAUG,EAAYp1O,IAAS8L,EAAK1K,OAAS,IACxD3B,EAAQqM,EAAKA,EAAK1K,OAAS,IACjBA,OAAS,GAAe,OAAV3B,GACtBqM,EAAK5N,KAAK,KAGhB,EACAylH,IAAK,SAAU3jH,GACb,IAAIP,EACJqM,EAAK5N,KAAK,KAAM8B,EAAM,KAClBi1O,GAAUG,EAAYp1O,IAAS8L,EAAK1K,OAAS,IAC/C3B,EAAQqM,EAAKA,EAAK1K,OAAS,IACjBA,OAAS,GAAe,OAAV3B,GACtBqM,EAAK5N,KAAK,KAGhB,EACAwO,KAAM,SAAUA,EAAMuM,GAChBvM,EAAKtL,OAAS,IAChB0K,EAAKA,EAAK1K,QAAU6X,EAAMvM,EAAOoiF,EAAOpiF,GAE5C,EACAokO,MAAO,SAAUpkO,GACfZ,EAAK5N,KAAK,YAAawO,EAAM,MAC/B,EACAmkO,QAAS,SAAUnkO,GACjBZ,EAAK5N,KAAK,UAAQwO,EAAM,SAC1B,EACAqkO,GAAI,SAAU/wO,EAAM0M,GACdA,EACFZ,EAAK5N,KAAK,KAAM8B,EAAM,IAAK8uF,EAAOpiF,GAAO,MAEzCZ,EAAK5N,KAAK,KAAM8B,EAAM,MAEpBi1O,GACFnpO,EAAK5N,KAAK,KAEd,EACA8yO,QAAS,SAAUtkO,GACjBZ,EAAK5N,KAAK,YAAawO,EAAM,IAAKuoO,EAAS,KAAO,GACpD,EACAxwL,MAAO,WACL34C,EAAK1K,OAAS,CAChB,EACAwzE,WAAY,WACV,OAAO9oE,EAAK0a,KAAK,IAAIrb,QAAQ,MAAO,GACtC,EAEJ,EAEIsqO,GAAiB,SAAU/7J,EAAUjyD,QACxB,IAAXA,IACFA,EAAS09K,MAEX,IAAIuwC,EAASV,GAAOt7J,IACpBA,EAAWA,GAAY,CAAC,GACf2wB,WAAW,aAAc3wB,IAAWA,EAAS2wB,SAoFtD,MAAO,CAAEsjG,UAnFO,SAAUhiM,GACxB,IAAI0+F,EAAW3wB,EAAS2wB,SACpB37E,EAAW,CACb,EAAG,SAAU/iB,GACX+pO,EAAOhpO,KAAKf,EAAKlM,MAAOkM,EAAKsN,IAC/B,EACA,EAAG,SAAUtN,GACX+pO,EAAO7E,QAAQllO,EAAKlM,MACtB,EACA,EAAG,SAAUkM,GACX+pO,EAAO3E,GAAGplO,EAAK3L,KAAM2L,EAAKlM,MAC5B,EACA,GAAI,SAAUkM,GACZ+pO,EAAO1E,QAAQrlO,EAAKlM,MACtB,EACA,EAAG,SAAUkM,GACX+pO,EAAO5E,MAAMnlO,EAAKlM,MACpB,EACA,GAAI,SAAUkM,GACZ,GAAIA,EAAOA,EAAKoS,WACd,GACEw4K,EAAK5qL,SACEA,EAAOA,EAAKopC,KAEzB,GAEF2gM,EAAOjxL,QACP,IAAI8xI,EAAO,SAAU5qL,GACnB,IAAIqR,EAAU0R,EAAS/iB,EAAKnM,MAC5B,GAAKwd,EA4CHA,EAAQrR,OA5CI,CACZ,IAAIw8J,EAASx8J,EAAK3L,KACd2iN,EAAUh3M,EAAK+gO,WACf90N,EAAQjM,EAAKotB,WACjB,GAAIsxE,GAAYzyF,GAASA,EAAMxW,OAAS,EAAG,CACzC,IAAIu0O,EAAc,GAClBA,EAAYtwO,IAAM,CAAC,EACnB,IAAImsO,EAAc/pN,EAAOqiL,eAAen+L,EAAK3L,MAC7C,GAAIwxO,EAAa,CACf,IAAK,IAAItwO,EAAI,EAAGmD,EAAImtO,EAAYtrC,gBAAgB9kM,OAAQF,EAAImD,EAAGnD,IAAK,CAElE,IADIo3L,EAAWk5C,EAAYtrC,gBAAgBhlM,MAC3B0W,EAAMvS,IAAK,CACzB,IAAI+0L,EAAYxiL,EAAMvS,IAAIizL,GAC1Bq9C,EAAYtwO,IAAIizL,GAAY8B,EAC5Bu7C,EAAYz3O,KAAK,CACf8B,KAAMs4L,EACN74L,MAAO26L,GAEX,CACF,CACA,IAASl5L,EAAI,EAAGmD,EAAIuT,EAAMxW,OAAQF,EAAImD,EAAGnD,IAAK,CAC5C,IAAIo3L,EACJ,MADIA,EAAW1gL,EAAM1W,GAAGlB,QACN21O,EAAYtwO,KAAM,CAC9B+0L,EAAYxiL,EAAMvS,IAAIizL,GAC1Bq9C,EAAYtwO,IAAIizL,GAAY8B,EAC5Bu7C,EAAYz3O,KAAK,CACf8B,KAAMs4L,EACN74L,MAAO26L,GAEX,CACF,CACAxiL,EAAQ+9N,CACV,CACF,CAEA,GADAD,EAAO9qO,MAAMe,EAAK3L,KAAM4X,EAAO+qM,IAC1BA,EAAS,CACZ,GAAIh3M,EAAOA,EAAKoS,WACd,GACEw4K,EAAK5qL,SACEA,EAAOA,EAAKopC,MAEvB2gM,EAAO/xH,IAAIwkD,EACb,CACF,CAGF,EAMA,OALkB,IAAdx8J,EAAKnM,MAAek6E,EAASogF,MAG/BprI,EAAS,IAAI/iB,GAFb4qL,EAAK5qL,GAIA+pO,EAAO9gK,YAChB,EAEF,EAEIghK,GAAuB,IAAIC,IAoD7B5iD,EAlD8B,CAC5B,SACA,cACA,eACA,aACA,gBACA,UACA,eACA,gBACA,cACA,iBACA,SACA,eACA,eACA,eACA,aACA,wBACA,kBACA,mBACA,mBACA,oBACA,sBACA,oBACA,kBACA,QACA,WACA,OACA,QACA,MACA,SACA,UACA,UACA,YACA,QACA,YACA,YACA,SACA,aACA,aACA,WACA,aACA,aACA,gBACA,iBACA,aACA,mBACA,sBACA,sBACA,+BAE8B,SAAUznL,GACxCoqO,GAAqBv2O,IAAImM,EAC3B,IAEF,IAAIsqO,GAAsB,CACxB,OACA,kBACA,iBAEEC,GAAgB,SAAUxqO,EAAKI,GACjC,OAAO/C,GAAK2C,EAAImlI,WAAWnlI,EAAIyzM,UAAUrzM,EAAM,UACjD,EAIIqqO,GAAuB,SAAUzqO,EAAKI,GACxC,OAAOlG,GAAOswO,GAAcxqO,EAAKI,IAAO,SAAUH,GAChD,OALwB,SAAUA,GACpC,OAAOoqO,GAAqBz5M,IAAI3wB,EAClC,CAGYyqO,CAAsBzqO,EAChC,GACF,EAQI0qO,GAAmB,SAAU3qO,EAAKI,EAAMkK,GAC1C,IAAIsgO,EAAiBJ,GAAcxqO,EAAKI,GACpCyqO,EAAuBL,GAAcxqO,EAAKsK,GAC1CwgO,EAAgB,SAAUtzN,GAC5B,IAAIm8B,EAAY3zC,EAAI+8E,SAAS38E,EAAMoX,GAC/BuzN,EAAc/qO,EAAI+8E,SAASzyE,EAAYkN,GAC3C,OAAO1X,GAAW6zC,IAAc7zC,GAAWirO,IAAgBp3L,IAAco3L,CAC3E,EACA,OAAO9wO,EAAO2wO,GAAgB,SAAUI,GACtC,IAAIC,EAAa,SAAU1tO,GACzB,OAAOtD,EAAOsD,GAAO,SAAUia,GAC7B,OAAOA,IAASwzN,CAClB,GACF,EACA,IAAKC,EAAWJ,IAAyBI,EAAWV,IAAsB,CACxE,IAAIW,EArBDvjD,EAqBuCkjD,GArBtB,SAAU5qO,GAChC,OAAOhG,EAAOswO,IAAqB,SAAU/yN,GAC3C,OAAOjY,GAAWU,EAAOuX,EAC3B,GACF,IAkBI,OAAOvd,EAAOixO,EAAeJ,EAC/B,CACE,OAAOA,EAAcE,EAEzB,GACF,EAEIG,GAAS,SAAU59B,EAASvmL,EAAWob,GACzC,OAAO1nC,EAAS/B,KAAKypC,EAAI9Y,aAAanvB,OAAOizL,IAAUnzL,QAAO,SAAUkH,GACtE,IAAI45B,EAAQwyK,EAAU,GAAK,EAC3B,OAAOvmL,EAAU7lB,EAAKulB,KAAKmrD,OAAOzvC,EAAIv3B,SAAWkwB,GACnD,GACF,EACIqwM,GAAgB10O,EAAMy0O,IAAQ,EAAM7c,IACpC+c,GAAe30O,EAAMy0O,IAAQ,EAAO7c,IACpCgd,GAAc,SAAUlpM,GAC1B,IAAI9Y,EAAY8Y,EAAI9Y,YACpB,OAAO8jK,GAAS9jK,KAAyC,IAA1BA,EAAU5C,KAAK7wB,QAAgBg+L,GAAOvqK,EAAU5C,OAASsuM,GAAgB7E,eAAe7mM,EAAUhf,YACnI,EACIihO,GAAyB,SAAU56L,EAAQ3pB,GAC7C,OAAO,SAAUob,GACf,OAAO1nC,EAAS/B,KAAK2wN,GAA6B34K,EAAS,GAAK,EAAGvO,IAAMjoC,OAAO6sB,GAAW3tB,QAC7F,CACF,EACImyO,GAAe,SAAUprO,GAC3B,OAAOotL,GAAMptL,IAA0D,UAAjD2wB,GAAM1wB,GAAaF,QAAQC,GAAO,UAC1D,EACIqrO,GAAY,SAAUrrO,GACxB,OAAOstL,GAAyBttL,KA5+Xf,SAAUA,GAC3B,OAAOssL,GAAYtsL,IAAiD,QAAxCA,EAAKmM,aAAa,iBAChD,CA0+X4Cm/N,CAAatrO,EACzD,EACIurO,GAAqBJ,IAAuB,EAAMC,IAClDI,GAAoBL,IAAuB,EAAOC,IAClDK,GAAgBN,IAAuB,EAAM39C,IAC7Ck+C,GAAeP,IAAuB,EAAO39C,IAC7Cm+C,GAAgBR,IAAuB,EAAMt+C,IAC7C++C,GAAeT,IAAuB,EAAOt+C,IAC7Cg/C,GAA+BV,IAAuB,EAAME,IAC5DS,GAA8BX,IAAuB,EAAOE,IAW5DU,GAAmB,SAAUt7J,GAC/B,IAAIu7J,EAASl4L,GAAY28B,EAAK,MAC1BokH,EAAMtN,EAXU,SAAU92G,GAG9B,IAFA,IAAIrmE,EAAW,GACX6hO,EAAUx7J,EAAI7wE,IACXqsO,GACL7hO,EAAS7X,KAAK0N,GAAaF,QAAQksO,IACnCA,EAAUA,EAAQxgD,UAEpB,OAAOrhL,CACT,CAGqB8hO,CAAgBz7J,GAAK93E,OAAO,GAAIq6L,IAC/Cg5C,EAAOv2O,SAAWo/L,EAAIp/L,QACxB6xL,EAAOuN,EAAKtoL,GAEhB,EACI4/N,GAAoB,SAAU17J,GAChCj+D,GAAMi+D,GACNn+D,GAASm+D,EAAKxwE,GAAaC,SAAS,2BACtC,EACIksO,GAAsB,SAAU37J,GAClCg7G,GAAUh7G,GAAK92E,MAAK,SAAU8xL,GAC5BJ,GAAYI,GAAW9xL,MAAK,SAAU0yO,GAChCv5C,GAAUriH,IAAQuiH,GAAOvH,IAAcqH,GAAUu5C,IACnD9/N,GAASk/K,EAEb,GACF,GACF,EAKIwmB,GAAe,SAAUhzM,EAAO+gC,EAAMpZ,GACxC,OAAI1nB,GAAW8gC,EAAM/gC,IAJEpE,EA11YT,SAAU4G,EAASugB,GAIjC,IAHA,IAAIpR,EAAOzb,EAAW6sB,GAAUA,EAAS/qB,EACrC2I,EAAM6B,EAAQ7B,IACd+X,EAAM,GACgB,OAAnB/X,EAAIsK,iBAA0C3W,IAAnBqM,EAAIsK,YAA0B,CAC9D,IAAIoiO,EAAY1sO,EAAIsK,WAChBtS,EAAIqI,GAAaF,QAAQusO,GAE7B,GADA30N,EAAIplB,KAAKqF,IACO,IAAZgZ,EAAKhZ,GACP,MAEAgI,EAAM0sO,CAEV,CACA,OAAO30N,CACT,CAg1YoB40N,CAAUttO,GAAO,SAAUwxE,GACzC,OAAO7pD,EAAU6pD,IAAQ3nE,GAAG2nE,EAAKzwC,EACnC,IANKnlC,EAAGlC,MAAM,GAAI,IAQX,GATI,IAAUkC,CAWzB,EACI0wK,GAAU,SAAUtsK,EAAO+gC,GAC7B,OAAOiyK,GAAahzM,EAAO+gC,EAAM/oC,EACnC,EACIu1O,GAAiB,SAAUvtO,EAAO+gC,GACpC,MAAO,CAAC/gC,GAAOtI,OAAO40K,GAAQtsK,EAAO+gC,GACvC,EAEIysM,GAA+B,SAAUt/B,EAASntK,EAAMznC,GAC1D,OAAOszN,GAAe1e,EAASntK,EAAMznC,EAAM2yO,GAC7C,EACIwB,GAAoB,SAAU1sM,EAAMgC,GACtC,OAAO7+B,EAAOqpO,GAAevsO,GAAaF,QAAQiiC,EAAI9Y,aAAc8W,GAAO8yJ,GAC7E,EACI65C,GAA+B,SAAUx/B,EAASntK,EAAMgC,GAC1D,OAAOyqM,GAA6Bt/B,EAASntK,EAAKpgC,IAAKoiC,GAAKloC,QAAO,SAAUmpC,GAC3E,OAAOypM,GAAkB1sM,EAAMgC,GAAKjpC,MAAK,WACvC,OAAgD,IAAzCgwN,GAAc9lL,EAAQjB,EAAKhC,EAAKpgC,IACzC,IAAG,SAAUgtO,GACX,OAAgD,IAAzC7jB,GAAc9lL,EAAQjB,EAAKhC,EAAKpgC,MAAkBV,GAAW0tO,EAAW3sO,GAAaF,QAAQkjC,EAAO/Z,aAC7G,GACF,GACF,EACI2jN,GAAoB,SAAU1/B,EAASntK,EAAMgC,GAC/C,OAAO0qM,GAAkB1sM,EAAMgC,GAAKjpC,MAAK,WACvC,OAAO0zO,GAA6Bt/B,EAASntK,EAAKpgC,IAAKoiC,GAAKloC,QAAO,SAAUmpC,GAC3E,OAAgD,IAAzC8lL,GAAc9lL,EAAQjB,EAAKhC,EAAKpgC,IACzC,GACF,IAAG,SAAUqK,GACX,OAAOwiO,GAA6Bt/B,EAASljM,EAAOrK,IAAKoiC,GAAK9oC,QAChE,GACF,EACI4zO,GAAmBx2O,EAAMu2O,IAAmB,GAC5CE,GAAiBz2O,EAAMu2O,IAAmB,GAC1CG,GAAgB12O,EAAMq2O,IAA8B,GACpDM,GAAe32O,EAAMq2O,IAA8B,GAEnDO,GAAO,SAAUlrM,GACnB,OAAOgoL,GAAuBhoL,GAAKnoC,OAAOm5L,GAC5C,EACIm6C,GAAS,SAAUhgC,EAASntK,EAAMgC,GACpC,IAAIorM,EAAe7lD,EAASilD,GAAevsO,GAAaF,QAAQiiC,EAAI9Y,aAAc8W,GAAO8yJ,IACrF1yL,EAAQnN,GAAKm6O,GAAcj0O,MAAM6mC,GACrC,OAAO4rL,GAAaze,EAAS/sM,EAAMR,IAAKoiC,GAAKjoC,OAAOmzO,GACtD,EACIG,GAAe,SAAUrtM,EAAMgC,GACjC,OAAOgoL,GAAuBhoL,GAAKnoC,OAAOm5L,KAAWm6C,IAAO,EAAMntM,EAAMgC,GAAK/oC,QAC/E,EACIq0O,GAAY,SAAUttM,EAAMgC,GAC9B,OA53I+B,SAAUA,GACzC,OAAO1nC,EAAS/B,KAAKypC,EAAIquC,SAAQ,IAAO32E,IAAIuG,GAAaF,QAC3D,CA03ISwtO,CAA2BvrM,GAAKnoC,OAAOm5L,KAAWm6C,IAAO,EAAOntM,EAAMgC,GAAK/oC,QACpF,EACIu0O,GAAiBl3O,EAAM62O,IAAQ,GAC/BM,GAAan3O,EAAM62O,IAAQ,GAE3BO,GAAmB,SAAU1rM,GAC/B,OAAO4+K,GAAcO,eAAen/K,KAASA,EAAIkyJ,cAAgBlyJ,EAAIoyJ,SACvE,EACIu5C,GAAkB,SAAU3tM,EAAMgC,GACpC,IAAIorM,EAAe7lD,EAASilD,GAAevsO,GAAaF,QAAQiiC,EAAI9Y,aAAc8W,GAAO8yJ,IACzF,OAAO7/L,GAAKm6O,GAAcj0O,MAAM6mC,EAClC,EACI4tM,GAAiB,SAAU5tM,EAAMgC,GACnC,OAAI0rM,GAAiB1rM,GACZipM,GAAajpM,GAEbipM,GAAajpM,IAAQkqL,GAAayhB,GAAgB3tM,EAAMgC,GAAKpiC,IAAKoiC,GAAKnoC,OAAOoxO,GAEzF,EACI4C,GAAgB,SAAU7tM,EAAMgC,GAClC,OAAI0rM,GAAiB1rM,GACZgpM,GAAchpM,GAEdgpM,GAAchpM,IAAQiqL,GAAa0hB,GAAgB3tM,EAAMgC,GAAKpiC,IAAKoiC,GAAKnoC,OAAOmxO,GAE1F,EAOI8C,GAAU,SAAU9rM,GACtB,OAAOgoL,GAAuBhoL,GAAKpoC,MAAK,SAAU62E,GAChD,OAAOn7C,GAAUm7C,EAAKw6G,GACxB,IAAGpxL,QAAO,SAAU42E,GAClB,OAVa,SAAU38E,GACzB,OAAOszL,EAAW,CAChB,MACA,YACCtzL,EACL,CAKWi6O,CAAWp9M,GAAM8/C,EAAK,eAC/B,GACF,EAOIu9J,GAAmB,SAAUhuM,EAAMgC,GACrC,OAPwB,SAAUhC,EAAMgC,GACxC,OAAOkqL,GAAalsL,EAAKpgC,IAAKoiC,GAAK9oC,QACrC,CAKS+0O,CAAoBjuM,EAAMgC,IAJf,SAAUhC,EAAMgC,GAClC,OAAOiqL,GAAajsL,EAAKpgC,IAAKoiC,GAAK9oC,QACrC,CAE2Cg1O,CAAcluM,EAAMgC,IAAQ8qM,GAAiB9sM,EAAMgC,IAAQ+qM,GAAe/sM,EAAMgC,IAAQsrM,GAAUttM,EAAMgC,IAAQqrM,GAAartM,EAAMgC,EAC9K,EAQImsM,GAAoB,SAAUnuM,EAAMgC,GACtC,OAAI8rM,GAAQ9rM,KAGH8qM,GAAiB9sM,EAAMgC,IAAQgrM,GAAchtM,EAAMgC,IAAQsrM,GAAUttM,EAAMgC,IAAQ4rM,GAAe5tM,EAAMgC,GAEnH,EAUIosM,GAAqB,SAAUpuM,EAAMgC,GACvC,OAAI8rM,GAAQ9rM,KAGH+qM,GAAe/sM,EAAMgC,IAAQirM,GAAajtM,EAAMgC,IAAQqrM,GAAartM,EAAMgC,IAAQ6rM,GAAc7tM,EAAMgC,GAElH,EACIqsM,GAAgB,SAAUruM,EAAMgC,GAClC,OAAOmsM,GAAkBnuM,EAAMgC,IAAQosM,GAAmBpuM,EAjB5C,SAAUgC,GACxB,IAAI9Y,EAAY8Y,EAAI9Y,YAChBze,EAASu3B,EAAIv3B,SACjB,OAAIuiL,GAAS9jK,IAAcze,EAASye,EAAU5C,KAAK7wB,OAC1CmrN,GAAc13L,EAAWze,EAAS,GAElCu3B,CAEX,CASkE2nL,CAAU3nL,GAC5E,EACIssM,GAAW,SAAUvtO,EAAM0J,GAC7B,OAAOujN,GAAOjtN,EAAK0wE,OAAOhnE,GAC5B,EACI8jO,GAAU,SAAUvsM,GACtB,IAAI9Y,EAAY8Y,EAAI9Y,YACpB,OAAO8jK,GAAS9jK,IAActuB,GAAWsuB,EAAU5C,KAAMitK,GAC3D,EAqBIi7C,GAAkC,SAAUxuO,GAC9C,IAAIe,EAAOf,EAAKsmB,KACZmoN,EAtBoB,SAAU1tO,GAClC,IAAI2tO,EAAQ3tO,EAAKkrB,MAAM,IACvB,OAAOo7J,EAAMqnD,GAAO,SAAU19J,EAAKz7E,GACjC,OAAIy4N,GAAOh9I,IAAQz7E,EAAI,GAAKA,EAAIm5O,EAAMj5O,OAAS,GAAK04N,GAAUugB,EAAMn5O,EAAI,KAAO44N,GAAUugB,EAAMn5O,EAAI,IAC1F,IAEAy7E,CAEX,IAAGn2D,KAAK,GACV,CAagB8zN,CAAoB5tO,GAClC,OAAI0tO,IAAY1tO,IACdf,EAAKsmB,KAAOmoN,GACL,EAIX,EAWIG,GAAiB,SAAU5uM,EAAMgC,GACnC,OAAO1nC,EAASJ,KAAK8nC,GAAKjoC,OAAOw0O,IAAS30O,MAAK,SAAUooC,GACvD,IAAI9Y,EAAY8Y,EAAI9Y,YAChB0pL,EAjCmB,SAAU5yK,EAAMhgC,GACzC,IAAIe,EAAOf,EAAKsmB,KACZuoN,EAAWjuB,GAAc5gN,EAAM,GACnC,SAAIsuO,GAASvtO,EAAM,IAAOstO,GAAcruM,EAAM6uM,KAC5C7uO,EAAKsmB,KAAO,IAAMvlB,EAAKpI,MAAM,GACtB,GAIX,CAwBqBm2O,CAAqB9uM,EAAM9W,IAAcslN,GAAgCtlN,IAbrE,SAAU8W,EAAMhgC,GACvC,IAAIe,EAAOf,EAAKsmB,KACZyoN,EAAUnuB,GAAc5gN,EAAMe,EAAKtL,OAAS,GAChD,SAAI64O,GAASvtO,EAAMA,EAAKtL,OAAS,IAAO44O,GAAcruM,EAAM+uM,KAC1D/uO,EAAKsmB,KAAOvlB,EAAKpI,MAAM,GAAI,GAAK,IACzB,GAIX,CAI4Gq2O,CAAmBhvM,EAAM9W,GACjI,OAAO0pL,EAAat4M,EAASJ,KAAK8nC,GAAO1nC,EAAS1B,MACpD,GACF,EACIq2O,GAAyB,SAAUxhK,GACrC,IAAIztC,EAAO//B,GAAaF,QAAQ0tE,EAAO7hE,WACnC6hE,EAAOv8B,UAAUukG,eACnBm5F,GAAe5uM,EAAM4gL,GAAcG,eAAetzI,EAAOv8B,UAAUmiC,WAAW15E,MAAK,SAAUqoC,GAC3FyrC,EAAOv8B,UAAUyuH,OAAO39H,EAAI6+K,UAC9B,GAEJ,EA4BIquB,GAAc,SAAUlvO,EAAMyK,EAAQ6V,GACxC,GAAc,IAAVA,EAAJ,CAGA,IAAImwD,EAAMxwE,GAAaF,QAAQC,GAC3BggC,EAAOwvJ,GAAW/+G,EAAKqiH,IAAW35L,MAAMs3E,GACxC61H,EAAatmM,EAAKsmB,KAAK3tB,MAAM8R,EAAQA,EAAS6V,GAC9C6uN,EAAiB1kO,EAAS6V,GAAStgB,EAAKsmB,KAAK7wB,QAAU24O,GAAmBpuM,EAAM4gL,GAAc5gN,EAAMA,EAAKsmB,KAAK7wB,SAC9G25O,EAA8B,IAAX3kO,GAAgB0jO,GAAkBnuM,EAAM4gL,GAAc5gN,EAAM,IACnFA,EAAKqvO,YAAY5kO,EAAQ6V,EAnCJ,SAAUiI,EAAS6mN,EAAkBD,GAwB1D,OAvBatzO,EAAM0sB,GAAS,SAAU5sB,EAAKozB,GACzC,OAAIm/L,GAAan/L,IAAMi/L,GAAOj/L,GACxBpzB,EAAI2zO,qBAAmC,KAAZ3zO,EAAIoD,KAAcqwO,GAAoBzzO,EAAIoD,IAAItJ,SAAW8yB,EAAQ9yB,OAAS,GAAK05O,EACrG,CACLG,qBAAqB,EACrBvwO,IAAKpD,EAAIoD,IAAMw0L,IAGV,CACL+7C,qBAAqB,EACrBvwO,IAAKpD,EAAIoD,IAAM,KAIZ,CACLuwO,qBAAqB,EACrBvwO,IAAKpD,EAAIoD,IAAMgwB,EAGrB,GAAG,CACDugN,qBAAqB,EACrBvwO,IAAK,KAEOA,GAChB,CAUkCwwO,CAAiBjpC,EAAY8oC,EAAkBD,GAN/E,CAOF,EACIK,GAA2B,SAAUxvO,EAAMyK,GAC7C,IAAI8d,EAAUvoB,EAAKsmB,KAAK3tB,MAAM8R,GAC1BglO,EAAkBlnN,EAAQ9yB,OAAS4yL,GAAM9/J,GAAS9yB,OACtDy5O,GAAYlvO,EAAMyK,EAAQglO,EAC5B,EACIC,GAA4B,SAAU1vO,EAAMyK,GAC9C,IAAI8d,EAAUvoB,EAAKsmB,KAAK3tB,MAAM,EAAG8R,GAC7BglO,EAAkBlnN,EAAQ9yB,OAAS6yL,GAAM//J,GAAS9yB,OACtDy5O,GAAYlvO,EAAMyK,EAASglO,EAAiBA,EAC9C,EACIE,GAAiB,SAAUC,EAAU5kB,EAAU6kB,EAAqBC,QAClD,IAAhBA,IACFA,GAAc,GAEhB,IAAIC,EAAmBznD,GAAMsnD,EAAStpN,MAAM7wB,OACxCu6O,EAAUF,EAAcF,EAAW5kB,EACnCilB,EAAaH,EAAc9kB,EAAW4kB,EAU1C,OATIE,EACFE,EAAQ/iB,WAAWgjB,EAAW3pN,MAE9B0pN,EAAQE,WAAW,EAAGD,EAAW3pN,MAEnC/Z,GAAStM,GAAaF,QAAQkwO,IAC1BJ,GACFL,GAAyBQ,EAASD,GAE7BC,CACT,EAOItuM,GAAa,SAAU+uC,EAAKzuC,GAC9B,OANoB,SAAUA,EAAKyuC,GACnC,IAAIvnD,EAAY8Y,EAAI9Y,YAChBze,EAASu3B,EAAIv3B,SACjB,OAA6C,IAAtCm2M,GAAcO,eAAen/K,IAAkB9Y,IAAcunD,EAAIvmE,YAAcO,EAASm2M,GAAcrwK,OAAOkgC,GAAKhmE,QAC3H,CAES0lO,CAAgBnuM,EAAKyuC,GAAOmwI,GAAc5+K,EAAI9Y,YAAa8Y,EAAIv3B,SAAW,GAAKu3B,CACxF,EAOIouM,GAAkC,SAAU3/J,GAC9C,OAAIglH,GAAmBhlH,EAAI66G,iBAClBhxL,EAASJ,MALS8F,EAKSywE,EAAI66G,gBAJjC0B,GAAShtL,GAAQ4gN,GAAc5gN,EAAMA,EAAKsmB,KAAK7wB,QAAUmrN,GAAcpwK,MAAMxwC,KAM3EywE,EAAI66G,gBAAkB8gC,GAAe37I,EAAI66G,iBAAmBhxL,EAAS1B,OAP7D,IAAUoH,CAS7B,EACIqwO,GAA8B,SAAU5/J,GAC1C,OAAIglH,GAAmBhlH,EAAIz+D,aAClB1X,EAASJ,MAfY8F,EAeSywE,EAAIz+D,YAdpCg7K,GAAShtL,GAAQ4gN,GAAc5gN,EAAM,GAAK4gN,GAAcrwK,OAAOvwC,KAgB7DywE,EAAIz+D,YAAcm6M,GAAgB17I,EAAIz+D,aAAe1X,EAAS1B,OAjBnD,IAAUoH,CAmBhC,EAYIswO,GAA6B,SAAUr6C,EAAaxlH,GACtD,OAAO2/J,GAAgC3/J,GAAKh3E,SAAQ,WAClD,OAAO42O,GAA4B5/J,EACrC,IAAGh3E,SAAQ,WACT,OAfoC,SAAUw8L,EAAaxlH,GAC7D,IAAI8/J,EAAgB3vB,GAAcrwK,OAAOkgC,EAAI66G,gBAAkB76G,EAAI66G,gBAAkB76G,EAAIvmE,YACzF,OAAOgiN,GAAaj2B,EAAas6C,GAAex3O,MAAK,WACnD,OAAOkzN,GAAah2B,EAAa2qB,GAAcpwK,MAAMigC,GACvD,GAAGn2E,EAASJ,KACd,CAUWs2O,CAAkCv6C,EAAaxlH,EACxD,GACF,EACIggK,GAA2B,SAAUx6C,EAAaxlH,GACpD,OAAO4/J,GAA4B5/J,GAAKh3E,SAAQ,WAC9C,OAAO22O,GAAgC3/J,EACzC,IAAGh3E,SAAQ,WACT,OAhBmC,SAAUw8L,EAAaxlH,GAC5D,OAAOw7I,GAAah2B,EAAa2qB,GAAcpwK,MAAMigC,IAAM13E,MAAK,WAC9D,OAAOmzN,GAAaj2B,EAAa2qB,GAAcrwK,OAAOkgC,GACxD,GAAGn2E,EAASJ,KACd,CAYWw2O,CAAiCz6C,EAAaxlH,EACvD,GACF,EAIIkgK,GAAoC,SAAUxjC,EAASlX,EAAaxlH,GACtE,OAJsB,SAAU08H,EAASlX,EAAaxlH,GACtD,OAAO08H,EAAUsjC,GAAyBx6C,EAAaxlH,GAAO6/J,GAA2Br6C,EAAaxlH,EACxG,CAESmgK,CAAkBzjC,EAASlX,EAAaxlH,GAAK/2E,IAAIpD,EAAMorC,GAAY+uC,GAC5E,EACIogK,GAAiB,SAAUpjK,EAAQ0/H,EAASnrK,GAC9CA,EAAIjpC,MAAK,WACP00E,EAAO3tC,OACT,IAAG,SAAUkC,GACXyrC,EAAOv8B,UAAUyuH,OAAO39H,EAAI6+K,UAAW1T,EACzC,GACF,EAMIn9H,GAAU,SAAUvC,EAAQgD,GAC9B,OAAOA,GAAOtyE,GAAMsvE,EAAO3xD,OAAO0jL,mBAAoBnrM,GAAKo8E,GAC7D,EACIqgK,GAAiB,SAAUrgK,GAC7B,GAAI8lH,GAAU9lH,GAAM,CAClB,IAAI8jH,EAAKt0L,GAAaC,SAAS,2BAG/B,OAFAsS,GAAMi+D,GACNn+D,GAASm+D,EAAK8jH,GACPj6L,EAASJ,KAAK0mN,GAAcrwK,OAAOgkJ,EAAG30L,KAC/C,CACE,OAAOtF,EAAS1B,MAEpB,EACIm4O,GAAmB,SAAUtgK,EAAKugK,EAAmBnB,GACvD,IAzzYoBlxO,EAAIC,EAAIgnK,EAAI/uK,EAyzY5Bo6O,EAAc5lD,GAAY56G,GAAK12E,OAAOmxL,IACtCgmD,EAAcl/N,GAAYy+D,GAAK12E,OAAOmxL,IAE1C,OADA3+K,GAASkkE,IA3zYW9xE,EA4zYPsyO,EA5zYWryO,EA4zYEsyO,EA5zYEtrE,EA4zYWorE,EA5zYPn6O,EA4zY0B,SAAUu8I,EAAMhqG,EAAMpH,GAC9E,IAAI4tM,EAAWx8F,EAAKxzI,IAAKorN,EAAW5hL,EAAKxpC,IACrC6K,EAASmlO,EAAStpN,KAAK7wB,OAE3B,OADAk6O,GAAeC,EAAU5kB,EAAU6kB,GAC5B7tM,EAAI9Y,cAAgB8hM,EAAWpK,GAAcgvB,EAAUnlO,GAAUu3B,CAC1E,EAh0YOrjC,EAAG1F,UAAY2F,EAAG3F,UAAY2sK,EAAG3sK,SAAWqB,EAASJ,KAAKrD,EAAE8H,EAAGtF,WAAYuF,EAAGvF,WAAYusK,EAAGvsK,aAAeiB,EAAS1B,QAg0YzHa,SAAQ,WAST,OARIo2O,IACFoB,EAAYt3O,MAAK,SAAU82E,GACzB,OAAOi/J,GAA0Bj/J,EAAI7wE,IAAK6wE,EAAI7wE,IAAInK,OACpD,IACAy7O,EAAYv3O,MAAK,SAAU82E,GACzB,OAAO++J,GAAyB/+J,EAAI7wE,IAAK,EAC3C,KAEKoxO,CACT,GACF,EAIIG,GAAkB,SAAU1jK,EAAQ0/H,EAAS18H,EAAK2gK,QAClC,IAAdA,IACFA,GAAY,GAEd,IA9CwBnF,EA8CpBoF,EAAiBV,GAAkCxjC,EAAS1/H,EAAO7hE,UAAW6kE,EAAI7wE,KAClF0xO,EAAc9hD,GAAW/+G,EAAKn6E,EAAM05E,GAASvC,IA/CzBw+J,EA+C4Cx+J,EAAO7hE,UA9CpE,SAAU6kE,GACf,OAAOA,EAAI7wE,MAAQqsO,CACrB,IA6CIsF,EAA2BR,GAAiBtgK,EAAK4gK,EATjC,SAAU5jK,EAAQhsE,GACtC,OAAOtD,GAAMsvE,EAAO3xD,OAAO4jL,wBAAyBrrM,GAAKoN,GAC3D,CAOuE+vO,CAAgB/jK,EAAQgD,IACzFhD,EAAO7tE,IAAIo3M,QAAQvpI,EAAO7hE,YAC5B6hE,EAAOnxB,WAAW,IAClBmxB,EAAOv8B,UAAU0/B,qBAEjB0gK,EAAY13O,KAAKk3O,IAAgB/3O,MAAK,WAChCq4O,GACFP,GAAepjK,EAAQ0/H,EAASokC,EAEpC,IAAG,SAAUE,GACPL,GACFP,GAAepjK,EAAQ0/H,EAAS7yM,EAASJ,KAAKu3O,GAElD,GAEJ,EAOIC,GAAgB,SAAU5wG,GAC5B,OAAOhtF,GAAYgtF,EAAO,QAC5B,EAqBI6wG,GAAe,SAAU1yO,EAAO+4G,GAClC,MAAO,CACL/4G,MAAOA,EACP+4G,IAAKA,EAET,EAQI45H,GAAe3xN,GAAa,CAC9B,CACE4xN,gBAAiB,CACf,MACA,SAGJ,CAAEC,UAAW,CAAC,UACd,CACEC,aAAc,CACZ,QACA,mBAGJ,CACEC,WAAY,CACV,kBACA,gBACA,iBAIFC,GAAmB,SAAU/oN,EAAWlH,GAC1C,OAAOuT,GAAUt1B,GAAaF,QAAQmpB,GAAY,QAASlH,EAC7D,EACIkwN,GAAoB,SAAUC,GAChC,OAAQrpO,GAAGqpO,EAAQlzO,MAAOkzO,EAAQn6H,IACpC,EACIo6H,GAAsB,SAAUD,EAASnwN,GAC3C,OAAOwwM,GAAgB2f,EAAQlzO,MAAO+iB,GAAQpoB,MAAK,SAAUy4O,GAC3D,OAAO7f,GAAgB2f,EAAQn6H,IAAKh2F,GAAQpoB,MAAK,SAAU04O,GACzD,OA56YiBj8O,EA46YHyS,GAAGupO,EAAkBC,GA56Yf59O,EA46YgC29O,EA36YjDh8O,EAAIiE,EAASJ,KAAKxF,GAAK4F,EAAS1B,OAD5B,IAAUvC,EAAG3B,CA66YtB,GACF,GACF,EA8BI69O,GAA+B,SAAUvwN,GAC3C,OAAO,SAAUmwN,GACf,OAAOC,GAAoBD,EAASnwN,GAAQtoB,KAAI,SAAUonI,GACxD,OA1Ee,SAAU3vF,EAAK2vF,EAAOhzC,GACzC,MAAO,CACL38C,IAAKA,EACL2vF,MAAOA,EACPhzC,MAAOA,EAEX,CAoEa0kJ,CAAeL,EAASrxG,EAAO4wG,GAAc5wG,GACtD,GACF,CACF,EACI2xG,GAAqB,SAAUN,EAASO,EAAkBvhM,EAAKnvB,GACjE,GAAImvB,EAAI6B,YAAcm/L,EAAQr4O,OAAOo4O,IACnC,OAAO53O,EAAS1B,OACX,GAAI85O,EAAiBC,YAAa,CACvC,IAAIC,EAAqBT,EAAQv4O,KAAK24O,GAA6BvwN,IACnE,OAAO1nB,EAASJ,KAAK,CACnB+E,MAAO2zO,EACP56H,IAAK46H,GAET,CACE,IAAIhpE,EAAYqoE,GAAiB9gM,EAAIC,eAAgBpvB,GACjD6wN,EAAUZ,GAAiB9gM,EAAIwB,aAAc3wB,GAC7C8wN,EAAsBlpE,EAAUhwK,KArCP,SAAUooB,GACzC,OAAO,SAAU4nJ,GACf,OAAO4oD,GAAgB5oD,EAAW5nJ,GAAQpoB,MAAK,SAAUknI,GACvD,OAAOhkI,GAAO40O,GAAc5wG,IAAQpnI,KAAI,SAAUm5O,GAChD,OAAOlB,GAAa/nE,EAAWipE,EACjC,GACF,GACF,CACF,CA6B6CE,CAA2B/wN,IAASpoB,KAAK24O,GAA6BvwN,IAC3GgxN,EAAoBH,EAAQj5O,KA7BL,SAAUooB,GACvC,OAAO,SAAU6wN,GACf,OAAOrgB,GAAgBqgB,EAAS7wN,GAAQpoB,MAAK,SAAUknI,GACrD,OAAO7tI,GAAKy+O,GAAc5wG,IAAQpnI,KAAI,SAAUkwK,GAC9C,OAAO+nE,GAAa/nE,EAAWipE,EACjC,GACF,GACF,CACF,CAqByCI,CAAyBjxN,IAASpoB,KAAK24O,GAA6BvwN,IACzG,OAAO1nB,EAASJ,KAAK,CACnB+E,MAAO6zO,EACP96H,IAAKg7H,GAGX,EACIE,GAAe,SAAUplJ,EAAOp3B,GAClC,OAAO+wH,EAAY35F,GAAO,SAAU/5F,GAClC,OAAO+U,GAAG/U,EAAG2iE,EACf,GACF,EACIy8K,GAAmB,SAAUX,GAC/B,OAAO9zO,GAAMw0O,GAAaV,EAAe1kJ,MAAO0kJ,EAAerhM,IAAIlyC,OAAQi0O,GAAaV,EAAe1kJ,MAAO0kJ,EAAerhM,IAAI6mE,MAAM,SAAUksH,EAAYn4M,GAC3J,OAAOymN,EAAe1kJ,MAAMn1F,MAAMurO,EAAYn4M,EAAW,EAC3D,GACF,EACIqnN,GAAmC,SAAUC,EAAYliM,EAAKnvB,GAChE,OAAOqxN,EAAWx5O,QAAO,SAAUs4O,GACjC,OApEoB,SAAUA,EAASnwN,GACzC,OAAQkwN,GAAkBC,IAAYC,GAAoBD,EAASnwN,GAAQnoB,QAAO,SAAUinI,GAC1F,IAAI1oE,EAAO0oE,EAAMlhI,IAAIw4D,KACrB,OAAuB,IAAhBA,EAAK3iE,QAAyC,IAAzB2iE,EAAK,GAAG01B,MAAMr4F,MAC5C,GACF,CA+DW69O,CAAkBnB,EAASnwN,IAAW2wM,GAAuBwf,EAAQlzO,MAAOkyC,EACrF,GACF,EACIoiM,GAAgB,SAAUpiM,EAAKuhM,GACjC,IAAIc,EAAad,EAAiBc,WAAYC,EAAWf,EAAiBe,SACtEC,EAAkBviM,EAAIwgC,aAO1B,OANA6hK,EAAW75O,MAAK,SAAUmnI,GACxB,OAAO4yG,EAAgBzhM,cAAc6uF,EAAMlhI,IAC7C,IACA6zO,EAAS95O,MAAK,SAAUmnI,GACtB,OAAO4yG,EAAgBxhM,aAAa4uF,EAAMlhI,IAC5C,IACO8zO,CACT,EAmCIC,GAAqB,SAAU3zM,EAAMmR,GACvC,IAAInvB,EAjMkB,SAAUge,GAChC,OAAO,SAAU4/I,GACf,OAAO92K,GAAGk3B,EAAM4/I,EAClB,CACF,CA6Leg0D,CAAkB5zM,GAC3BqzM,EAhHW,SAAUliM,EAAKnvB,GAC9B,IAAI4nJ,EAAYqoE,GAAiB9gM,EAAIC,eAAgBpvB,GACjD6wN,EAAUZ,GAAiB9gM,EAAIwB,aAAc3wB,GACjD,OAAOtjB,GAAMkrK,EAAWipE,EAASlB,GACnC,CA4GmBkC,CAAW1iM,EAAKnvB,GAC7B0wN,EA3LyB,SAAUvhM,EAAKnvB,GAC5C,IAAI8xN,EAAW,SAAU9zO,GACvB,OAAOwyN,GAAgBvyN,GAAaF,QAAQC,GAAOgiB,EACrD,EACIwxN,EAAaM,EAAS3iM,EAAIC,gBAC1BqiM,EAAWK,EAAS3iM,EAAIwB,cACxBohM,EAAiBP,EAAWv6O,SAC5B+6O,EAAeP,EAASx6O,SACxB05O,EAAcj0O,GAAM80O,EAAYC,EAAU3qO,IAAI3P,OAAM,GAExD,MAAO,CACLq6O,WAAYA,EACZC,SAAUA,EACVM,eAAgBA,EAChBC,aAAcA,EACdrB,YAAaA,EACbsB,cAPkBtB,GAAeoB,GAAkBC,EASvD,CAyKyBE,CAAyB/iM,EAAKnvB,GACrD,OAAIoxN,GAAiCC,EAAYliM,EAAKnvB,GAC7CqxN,EAAW35O,KAAI,SAAUy4O,GAC9B,OAAOP,GAAaC,gBAAgB1gM,EAAKghM,EAAQlzO,MACnD,IACSyzO,EAAiBuB,aArBP,SAAU9B,EAASO,EAAkBvhM,EAAKnvB,GAC/D,OAAOywN,GAAmBN,EAASO,EAAkBvhM,EAAKnvB,GAAQpoB,MAAK,SAAUmN,GAC/E,IAAI9H,EAAQ8H,EAAG9H,MAAO+4G,EAAMjxG,EAAGixG,IAC3Bm8H,EAA0Bl1O,EAAMrF,KAAKu5O,IAAkBh6O,MAAM,IAC7Di7O,EAAwBp8H,EAAIp+G,KAAKu5O,IAAkBh6O,MAAM,IAC7D,GAAIg7O,EAAwB1+O,OAAS,GAAK2+O,EAAsB3+O,OAAS,EAAG,CAC1E,IAAIi+O,EAAkBH,GAAcpiM,EAAKuhM,GACzC,OAAOp4O,EAASJ,KAAK03O,GAAaI,WAAWmC,EAAyBC,EAAuBV,GAC/F,CACE,OAAOp5O,EAAS1B,MAEpB,GACF,CAUWy7O,CAAiBhB,EAAYX,EAAkBvhM,EAAKnvB,GA3CvC,SAAUmwN,EAASO,EAAkBvhM,EAAKnvB,GAChE,OAAOywN,GAAmBN,EAASO,EAAkBvhM,EAAKnvB,GAAQpoB,MAAK,SAAUmN,GAC/E,IAAI9H,EAAQ8H,EAAG9H,MAAO+4G,EAAMjxG,EAAGixG,IAC/B,OAAO/4G,EAAMzF,GAAGw+G,EAClB,IAAGp+G,MAAK,SAAU44O,GAChB,IAAIG,EAAcD,EAAiBC,YAC/BtgB,EAAgB8gB,GAAiBX,GAAgBr5O,MAAM,IAC3D,GAAIw5O,GAAeH,EAAe1kJ,MAAMr4F,SAAW48N,EAAc58N,OAC/D,OAAO6E,EAASJ,KAAK03O,GAAaE,UAAUU,EAAe1xG,QACtD,GAAIuxF,EAAc58N,OAAS,EAAG,CACnC,GAAIk9O,EACF,OAAOr4O,EAASJ,KAAK03O,GAAaG,aAAa1f,EAAe/3N,EAAS1B,SAEvE,IAAI86O,EAAkBH,GAAcpiM,EAAKuhM,GACzC,OAAOp4O,EAASJ,KAAK03O,GAAaG,aAAa1f,EAAe/3N,EAASJ,KAAK3C,GAASA,GAAS,CAAC,EAAGm7O,GAAmB,CAAEvhM,IAAKuiM,MAEhI,CACE,OAAOp5O,EAAS1B,MAEpB,GACF,CAyBW07O,CAAkBjB,EAAYX,EAAkBvhM,EAAKnvB,EAEhE,EAEIuyN,GAAc,SAAUv0M,GAC1B,IAv9Z0Bv+B,EAw9Z1B,OA1haY,IAmEL5N,GADmB4N,EAu9ZFu+B,IAt9Z8B,aAAlB3rC,GAAKoN,GAs9ZT4pL,GAAYrrJ,GAAQyrJ,GAAUzrJ,IACjDpmC,KAAK26O,IAAa96O,SAAQ,WACrC,OAAOa,EAASJ,KAAK8lC,EACvB,GACF,EACIw0M,GAAa,SAAU1mJ,GACzB,OAAOw5F,EAAOx5F,GAAO,SAAUp3B,GAC7B/oD,GAAS+oD,EAAM,mBACfy1K,GAAkBz1K,EACpB,GACF,EAcI+9K,GAA0B,SAAUhnK,EAAQ/W,EAAMvlB,EAAKujM,GACzD,IAAIC,EAAiBxjM,EAAIwgC,aACrB+iK,GACFC,EAAe3iM,SAASb,EAAIC,eAAgBD,EAAIuB,aAChDiiM,EAAeviM,YAAYskB,EAAK92D,IAAI6rL,aAEpCkpD,EAAe5iM,eAAe2kB,EAAK92D,IAAIwS,YACvCuiO,EAAexiM,OAAOhB,EAAIwB,aAAcxB,EAAIyB,YAE9CgiM,GAAmBnnK,EAAQknK,EAAgBj+K,GAAM,EACnD,EACIm+K,GAAkC,SAAUpnK,GAC9C,IAAI4kJ,EAAgBC,GAAmB7kJ,GACnCqnK,EAAe70O,GAAaF,QAAQ0tE,EAAOv8B,UAAUm/B,WACrDk9G,GAAcunD,EAAal1O,MAAQ22L,GAAUu+C,GAC/CrnK,EAAOv8B,UAAU0/B,kBAAkBkkK,EAAal1O,IAAK,GAErD6tE,EAAOv8B,UAAUoyB,UAAS,GAExB+uJ,EAAc58N,OAAS,GAAKoE,EAAOw4N,GAAe,SAAU37J,GAC5D,OAAO5tD,GAAG4tD,EAAMo+K,EAClB,KACA33K,GAAM23K,EAAc,oBAAqB,IAE7C,EACIC,GAAwB,SAAUtnK,EAAQqgB,EAAOknJ,GACnD,IAAIC,EAAYxnK,EAAOv8B,UAAUmiC,SAC7B6hK,EAAeF,EAAep7O,MAAK,SAAUmN,GAC/C,IAAIoqC,EAAMpqC,EAAGoqC,IAAK4iM,EAAiBhtO,EAAGgtO,eAClCoB,EA1Cc,SAAU1nK,EAAQvkD,GACtC,OAAO5uB,EAAS/B,KAAKk1E,EAAO7tE,IAAI0xE,UAAUpoD,EAAWukD,EAAO7tE,IAAIowE,UAAUt2E,IAAIuG,GAAaF,QAC7F,CAwCuBq1O,CAAgB3nK,EAAQsmK,EAAiB5iM,EAAIwB,aAAexB,EAAIC,gBACnFD,EAAIkkM,iBAxCe,SAAU5nK,EAAQ6nK,EAAcC,GACrDA,EAAW57O,MAAK,SAAU+6H,GACpB4gH,EACF/oO,GAASmoH,IAETy3G,GAAkBz3G,GAClBjnD,EAAOv8B,UAAU0/B,kBAAkB8jD,EAAM90H,IAAK,GAElD,GACF,CAgCI41O,CAAiB/nK,EAAQsmK,EAAgBoB,EAAap7O,OAAOw8L,KAC7D,IAAIk/C,EAAe1B,EAAiBjmJ,EAAM,GAAKA,EAAMA,EAAMr4F,OAAS,GAEpE,OADAg/O,GAAwBhnK,EAAQgoK,EAAcR,EAAWlB,GACpDx9C,GAAUk/C,GAGNn7O,EAAS1B,OAFT0B,EAASJ,KAAK65O,EAAiBjmJ,EAAMn1F,MAAM,GAAKm1F,EAAMn1F,MAAM,GAAI,GAI3E,IAAGQ,MAAM20F,GAGT,OAFA0mJ,GAAWU,GACXL,GAAgCpnK,IACzB,CACT,EACIioK,GAAuB,SAAUjoK,EAAQkoK,EAAiBC,EAAeC,GAC3E,IAAI1kM,EAAMs8B,EAAOv8B,UAAUmiC,SACvBu2F,EAAY+rE,EAAgB,GAC5B9C,EAAU+C,EAAcA,EAAcngP,OAAS,GACnDg/O,GAAwBhnK,EAAQm8F,EAAWz4H,GAAK,GAChDsjM,GAAwBhnK,EAAQolK,EAAS1hM,GAAK,GAC9C,IAAI2kM,EAAyBv/C,GAAU3sB,GAAa+rE,EAAkBA,EAAgBh9O,MAAM,GACxFo9O,EAAuBx/C,GAAUs8C,GAAW+C,EAAgBA,EAAcj9O,MAAM,GAAI,GAIxF,OAHA67O,GAAWsB,EAAuBn/O,OAAOo/O,IACzCF,EAAWR,iBACXR,GAAgCpnK,IACzB,CACT,EACImnK,GAAqB,SAAUnnK,EAAQt8B,EAAKulB,EAAMs/K,QAC9B,IAAlBA,IACFA,GAAgB,GAElB7kM,EAAIkkM,iBACJ,IAjgauB5zO,EAiganBgwN,EAAW8iB,GAAY79K,GAAMv9D,MAAMu9D,GACnCu/K,EAAYh2O,GAAaF,QAAQ0tE,EAAO7tE,IAAI0xE,UAAUmgJ,EAAS7xN,IAAK6tE,EAAO7tE,IAAIowE,UAOnF,GANIumH,GAAU0/C,KACZ9J,GAAkB8J,GACdD,GACFvoK,EAAOv8B,UAAU0/B,kBAAkBqlK,EAAUr2O,IAAK,KAGjDkJ,GAAG4tD,EAAMu/K,GAAY,CACxB,IAAIC,EAAyB73O,GAAK4L,GAAOgsO,GAAYv/K,GAAQ,GApgaxDzsD,GANgBxI,EA0gasDw0O,GApgatDv8O,IAAI0Q,IAAU1Q,KALpB,SAAU6Y,GACzB,OAAOg1K,EAASh1K,GAAU,SAAUxe,GAClC,OAAQ+U,GAAGrH,EAAS1N,EACtB,GACF,IACqDoF,MAAM,IAqgazDmuL,EAAO4uD,EAAuBv/O,OAAOyT,GAASssD,KAAQ,SAAU12D,GACzD8I,GAAG9I,EAAMi2O,IAAe/2O,GAAWc,EAAMi2O,KAAc1/C,GAAUv2L,IACpEuM,GAASvM,EAEb,GACF,CACA,OAAO,CACT,EACIm2O,GAAqB,SAAU1oK,EAAQqzD,GAEzC,OADAqwG,GAAgB1jK,GAAQ,EAAOqzD,IACxB,CACT,EASIs1G,GAAmB,SAAU3oK,EAAQ0jE,EAAShgG,EAAKklM,GACrD,OAAOC,GAAiBnlG,EAASklG,GAAUt9O,MAAK,WAC9C,OAVkB,SAAU00E,EAAQ0jE,EAAShgG,GAC/C,OAAOwiM,GAAmBxiG,EAAShgG,GAAKz3C,KAAI,SAAUqtB,GACpD,OAAOA,EAAOhuB,KAAKzC,EAAMs+O,GAAoBnnK,GAASn3E,EAAM6/O,GAAoB1oK,GAASn3E,EAAMy+O,GAAuBtnK,GAASn3E,EAAMo/O,GAAsBjoK,GAC7J,GACF,CAMW8oK,CAAgB9oK,EAAQ0jE,EAAShgG,EAC1C,IAAG,SAAU28I,GACX,OAPqB,SAAUrgH,EAAQqgH,GACzC,OAAO0oD,GAAa/oK,EAAQqgH,EAC9B,CAKW2oD,CAAmBhpK,EAAQqgH,EACpC,IAAG30L,OAAM,EACX,EAMIu9O,GAAgB,SAAUvlG,EAAS1gE,GACrC,OAAOttE,EAAOqpO,GAAe/7J,EAAK0gE,GAAUkiD,GAC9C,EACIijD,GAAmB,SAAUnlG,EAAS1gE,GACxC,OAAOttE,EAAOqpO,GAAe/7J,EAAK0gE,IApladtwI,EAola8B,UAnla3C,SAAU5I,GACf,OAAOgzL,GAAYhzL,IAAM5D,GAAK4D,KAAO4I,CACvC,IAHU,IAAUA,CAqlatB,EAQI21O,GAAe,SAAU/oK,EAAQgD,GAGnC,OAFA07J,GAAkB17J,GAClBhD,EAAOv8B,UAAU0/B,kBAAkBH,EAAI7wE,IAAK,GACrCtF,EAASJ,MAAK,EACvB,EAgBIy8O,GAA2B,SAAUlpK,EAAQ0jE,EAASg8D,EAASypC,EAAar+O,GAC9E,OAAO23D,GAASi9I,EAAS1/H,EAAO7hE,UAAWrT,GAAMqB,MAAK,SAAUtB,GAC9D,OAjBwB,SAAUs+O,EAAazpC,EAAS50M,EAAMD,GAChE,OAAO6zN,GAAgByqB,EAAYh3O,KAAKhG,MAAK,SAAUw6D,GACrD,OAAOg4J,GAAewqB,EAAYh3O,KAAKlG,KAAI,SAAU+7C,GACnD,OAAO03J,EAAU50M,EAAKuoN,QAAQ1sJ,IAAU97D,EAAGwoN,QAAQrrK,GAAQl9C,EAAKuoN,QAAQrrK,IAASn9C,EAAGwoN,QAAQ1sJ,EAC9F,GACF,IAAGj7D,OAAM,EACX,CAWW09O,CAAsBD,EAAazpC,EAAS50M,EAAMD,GAVrC,SAAUm1E,EAAQgD,GACxC,OAAO+lK,GAAa/oK,EAAQgD,EAC9B,CAQmEqmK,CAAkBrpK,EAAQmpK,GAPlE,SAAUzlG,EAASylG,EAAat+O,GACzD,OAAOg+O,GAAiBnlG,EAASlxI,GAAaF,QAAQzH,EAAG+3E,YAAY32E,KAAI,SAAUq9O,GACjF,OAAsC,IAA/BjuO,GAAGiuO,EAAWH,EACvB,GACF,CAG4GI,CAAqB7lG,EAASylG,EAAat+O,EACrJ,IAAGkB,GAAGc,EAASJ,MAAK,GACtB,EACI+8O,GAAmB,SAAUxpK,EAAQ0/H,EAASh8D,EAASklG,GACzD,IAAI99O,EAAOqoN,GAAcG,eAAetzI,EAAOv8B,UAAUmiC,UACzD,OAAOqjK,GAAcvlG,EAASklG,GAAUz8O,MAAK,SAAUs9O,GACrD,OAAO3gD,GAAU2gD,GAAYV,GAAa/oK,EAAQypK,GAnC7B,SAAUzpK,EAAQ0jE,EAASg8D,EAAS+pC,EAAU3+O,GACrE,OAAO23D,GAASi9I,EAAS1/H,EAAO7hE,UAAWrT,GAAMqB,MAAK,SAAUtB,GAC9D,OAAOo+O,GAAcvlG,EAASlxI,GAAaF,QAAQzH,EAAG+3E,YAAY32E,KAAI,SAAU48D,GAC9E,OAAgC,IAAzBxtD,GAAGwtD,EAAQ4gL,EACpB,GACF,GACF,CA6BkEC,CAAmB1pK,EAAQ0jE,EAASg8D,EAAS+pC,EAAU3+O,EACvH,IAAGY,OAAM,EACX,EAKIi+O,GAAc,SAAUjqC,EAASnrK,GACnC,OAAOmrK,EAAUw+B,GAAc3pM,GAAO4pM,GAAa5pM,EACrD,EAOIq1M,GAAgB,SAAU5pK,EAAQ0/H,EAASkpC,GAC7C,IAAIllG,EAAUlxI,GAAaF,QAAQ0tE,EAAO7hE,WAC1C,OAAO0qO,GAAiBnlG,EAASklG,GAAUt9O,MAAK,WAC9C,OAAOk+O,GAAiBxpK,EAAQ0/H,EAASh8D,EAASklG,IAT3B,SAAU5oK,EAAQ0/H,GAC3C,IAAImqC,EAAU12B,GAAcG,eAAetzI,EAAOv8B,UAAUmiC,UAC5D,OAAO+jK,GAAYjqC,EAASmqC,IAAY1rB,GAAaze,EAAS1/H,EAAO7hE,UAAW0rO,GAASz9O,QAAO,SAAUmoC,GACxG,OAAOo1M,GAAYjqC,EAASnrK,EAC9B,GACF,CAImEu1M,CAAqB9pK,EAAQ0/H,EAC9F,IAAG,SAAUypC,GACX,OAlBqB,SAAUnpK,EAAQ0/H,EAASh8D,EAASylG,GAC3D,IAAIr+O,EAAOqoN,GAAcG,eAAetzI,EAAOv8B,UAAUmiC,UACzD,OAAOkjH,GAAUqgD,GAAeJ,GAAa/oK,EAAQmpK,GAAeD,GAAyBlpK,EAAQ0jE,EAASg8D,EAASypC,EAAar+O,EACtI,CAeWi/O,CAAmB/pK,EAAQ0/H,EAASh8D,EAASylG,GAAaz9O,OAAM,EACzE,GACF,EACIs+O,GAAoB,SAAUhqK,EAAQ0/H,GACxC,IAAIkpC,EAAWp2O,GAAaF,QAAQ0tE,EAAOv8B,UAAUQ,UAAS,IAC1Do8C,EAAQwkI,GAAmB7kJ,GAC/B,OAAOA,EAAOv8B,UAAUukG,eAAkC,IAAjB3nD,EAAMr4F,OAAe4hP,GAAc5pK,EAAQ0/H,EAASkpC,GAzE3E,SAAU5oK,EAAQ4oK,EAAUhkB,GAC9C,IAAItiJ,EAAW9vE,GAAaF,QAAQ0tE,EAAO7hE,WACvCulC,EAAMs8B,EAAOv8B,UAAUmiC,SAC3B,OAAgC,IAAzBg/I,EAAc58N,OAAes/O,GAAsBtnK,EAAQ4kJ,EAAe/3N,EAAS1B,QAAUw9O,GAAiB3oK,EAAQsC,EAAU5+B,EAAKklM,EAC9I,CAqE2GqB,CAAcjqK,EAAQ4oK,EAAUvoJ,EAC3I,EAQI6pJ,GAA+B,SAAUxmM,GAC3C,IAAI45K,EAAWnK,GAAcG,eAAe5vK,GACxCo8K,EAAS3M,GAAcI,aAAa7vK,GACpC4+B,EAAW5+B,EAAIymM,wBACnB,OAAOhsB,IAAa,EAAO77I,EAAUw9I,GAAQ7zN,KAAI,SAAUm+O,GACzD,OAAK9uB,GAAcgC,EAAUwC,EAAQx9I,IAAag5I,GAAcgC,EAAU8sB,EAAW9nK,GAXvE,SAAUgwI,EAAIE,EAAID,EAAIE,GACtC,IAAI/uK,EAAMn+C,SAAS8+C,cAGnB,OAFAX,EAAIa,SAAS+tK,EAAIE,GACjB9uK,EAAIgB,OAAO6tK,EAAIE,GACR/uK,CACT,CAOaW,CAAYi5K,EAAS7hM,YAAa6hM,EAAStgN,SAAUotO,EAAU3uN,YAAa2uN,EAAUptO,UAEtF0mC,CAEX,IAAGh4C,MAAMg4C,EACX,EACIu/B,GAAY,SAAUv/B,GACxB,OAAOA,EAAI6B,UAAY7B,EAAMwmM,GAA6BxmM,EAC5D,EAQI2mM,GAAqB,SAAUh8N,EAAQ9b,GAEzC,OADoB8b,EAAO0jL,mBACNx/L,EAAK3L,OARJ,SAAU2L,GAChC,OAAOA,EAAKoS,YAAcpS,EAAKoS,aAAepS,EAAKyrL,SACrD,CAMqCssD,CAAkB/3O,IALnC,SAAUA,GAC5B,MAAqB,OAAdA,EAAK3L,MAAiB2L,EAAKlM,QAAUy/L,EAC9C,CAGgEykD,CAAch4O,EAAKoS,WACnF,EAKI6lO,GAAiB,SAAUn8N,EAAQ2M,GACrC,IAAIrW,EAAaqW,EAASrW,WACtBq5K,EAAYhjK,EAASgjK,UAUzB,OATIr5K,GAAkC,SAApBA,EAAW/d,OAC3B+d,EAAaA,EAAWg3B,MAEtBqiJ,GAAsC,eAAzBA,EAAU97J,KAAK,QAC9B87J,EAAYA,EAAUr4C,MAXG,SAAUt3H,EAAQ9b,GAC7C,IAAIk4O,EAAmBp8N,EAAO+jL,sBAC9B,OAAO7/L,IAASA,EAAKg3M,QAAQkhC,IAAqBJ,GAAmBh8N,EAAQ9b,GAC/E,CAUMm4O,CAAuBr8N,EAAQ2vK,KACjCA,EAAYA,EAAUr4C,SAEnBhhI,GAAcA,IAAeq5K,KAGP,OAApBr5K,EAAW/d,MAAqC,OAApB+d,EAAW/d,KAChD,EAyBI+jP,GAAmB,SAAUp4O,GAC/B,OAAOA,GAAQA,EAAKoS,YAAcpS,EAAKoS,aAAepS,EAAKyrL,WAJ7C,SAAUzrL,GACxB,OAAOA,EAAKsmB,OAASitK,IAAQpG,GAAOntL,EACtC,CAE0Eq4O,CAAUr4O,EAAKoS,WACzF,EAIIkmO,GAAgB,SAAUpxG,GAC5B,OAAOA,EAAKzxI,OAAS,MAJSg7E,EAIYy2D,EAAKA,EAAKzxI,OAAS,IAHjD2c,YAAcgmO,GAAiB3nK,IAGwBy2D,EAAKvuI,MAAM,GAAI,GAAKuuI,EAJnE,IAAUz2D,CAKhC,EACI8nK,GAAc,SAAU34O,EAAKI,GAC/B,IAAIsxO,EAAc1xO,EAAI0xE,UAAUtxE,EAAMJ,EAAIowE,SAC1C,OAAOshK,GAAwC,OAAzBA,EAAY5vO,SAAoB4vO,EAAc,IACtE,EAoBIkH,GAAa,SAAUx4O,EAAM+vE,GAC/B,IAAIqvJ,EAAWxe,GAAcpwK,MAAMxwC,GAE/By4O,EADcntB,GAAYv7I,GACAqjE,KAAKgsF,GACnC,OAAOqZ,EAAcA,EAAY53B,UAAY,IAC/C,EAYI63B,GAAiB,SAAU90O,EAAQsjI,EAAMn3D,GAC3C,IAAIskI,EAAYzwM,EAAOsG,WAIvB,OAHA7S,GAAMsC,KAAKutI,GAAM,SAAUz2D,GACzB4jI,EAAUlhN,aAAas9E,EAAK7sE,EAC9B,IA3BgB,SAAU5D,EAAM+vE,GAChC,IAAIqvJ,EAAWxe,GAAcrwK,OAAOvwC,GAEhCy4O,EADcntB,GAAYv7I,GACA3mC,KAAKg2L,GACnC,OAAOqZ,EAAcA,EAAY53B,UAAY,IAC/C,CAuBS83B,CAAY/0O,EAAQmsE,EAC7B,EAKI6oK,GAAkB,SAAU77B,EAAYn9M,EAAKuxC,EAAK1oB,GACpD,IArEwBgoD,EAqEpBooK,EA1Ec,SAAUj5O,EAAKm9M,EAAYt0L,GAC7C,IAAItoB,EAAO48M,EAAW/a,UAAUv5K,GAEhC,OAduB,SAAUowN,GACjC,IAAIzmO,EAAaymO,EAAYzmO,WACzBq5K,EAAYotD,EAAYptD,UAO5B,OANIr5K,GAAsC,SAAxBA,EAAW1Q,UAC3B0Q,EAAWlI,WAAW0I,YAAYR,GAEhCq5K,GAA8B,eAAjBA,EAAUh5L,IACzBg5L,EAAUvhL,WAAW0I,YAAY64K,GAE5BotD,CACT,CAISC,CADWl5O,EAAI21M,eAAep1M,GAEvC,CAsEoB44O,CAAcn5O,EAAKm9M,EAAYt0L,GAC7CuwN,EAAWT,GAAY34O,EAAKuxC,EAAIC,gBAChC6nM,EAASX,IAvEW7nK,EAuEaooK,EAAYzmO,WAtE1Cm1K,EAAS92G,EAAIhwE,YAAY,SAAU2zB,GACxC,MAA0B,OAAnBA,EAAM1yB,QACf,MAsEIquE,EAAWnwE,EAAI2xE,UACf2nK,EAAO,SAAUrzE,GACnB,IAAIu5D,EAAWxe,GAAcG,eAAe5vK,GACxCgoM,EAAc7tB,GAAY1rN,EAAI2xE,WAC9BtuC,EALU,IAKD4iI,EAAyBszE,EAAY/lG,KAAKgsF,GAAY+Z,EAAY/vM,KAAKg2L,GACpF,OAAOn8L,GAASs1M,GAAY34O,EAAKqjC,EAAOotC,aAAe2oK,CACzD,EACA,OAAIE,EARY,GASPR,GAAeM,EAAUC,EAAQlpK,GAC/BmpK,EAVc,GARP,SAAUt1O,EAAQsjI,EAAMn3D,EAAUnwE,GAEpD,OADAA,EAAI42M,YAAYtvE,EAAK9qI,UAAWwH,GACzB40O,GAAWtxG,EAAK,GAAIn3D,EAC7B,CAgBWqpK,CAAcJ,EAAUC,EAAQlpK,EAAUnwE,GArClC,SAAUgE,EAAQsjI,EAAMn3D,EAAU5+B,GACnD,IAAItuB,EAvBS,SAAU3Y,EAAYinC,GACnC,IAAIkoM,EAAYloM,EAAIwgC,aAChB2nK,EAAWnoM,EAAIwgC,aAGnB,OAFA0nK,EAAUtnM,eAAe7nC,GACzBovO,EAASlnM,YAAYloC,GACd,CACLmvO,EAAUE,gBACVD,EAASC,gBAEb,CAccC,CAAS51O,EAAQutC,GACzBkjK,EAAYzwM,EAAOsG,WAOvB,OANAmqM,EAAUlhN,aAAa0vB,EAAM,GAAIjf,GACjCvM,GAAMsC,KAAKutI,GAAM,SAAUu3D,GACzB4V,EAAUlhN,aAAasrM,EAAI76L,EAC7B,IACAywM,EAAUlhN,aAAa0vB,EAAM,GAAIjf,GACjCywM,EAAUzhM,YAAYhP,GACf40O,GAAWtxG,EAAKA,EAAKzxI,OAAS,GAAIs6E,EAC3C,CA6BS0pK,CAAaT,EAAUC,EAAQlpK,EAAU5+B,EAClD,EAiBIuoM,GAAgBnsD,GAuHhBosD,GAAwB,SAAUlsK,GACpC,IAAI7tE,EAAM6tE,EAAO7tE,IACbuxC,EAAMu/B,GAAUjD,EAAOv8B,UAAUmiC,UACrC5F,EAAOv8B,UAAUyuH,OAAOxuH,GACxB,IAAIy4H,EAAYhqK,EAAI0xE,UAAUngC,EAAIC,eAAgBsoM,KA1HnB,SAAU95O,EAAKuxC,EAAKulB,GACnD,OAAa,OAATA,GAEKA,IADO92D,EAAI0xE,UAAUngC,EAAIwB,aAAc+mM,KACnB/mB,GAAuB1yN,GAAaF,QAAQ22D,GAAOvlB,EAIlF,CAoHMyoM,CAA2Bh6O,EAAKuxC,EAAKy4H,GAGvCn8F,EAAO6C,SAAS2Z,YAAY,UAAU,EAAO,MAF7C2qJ,GAAmBnnK,EAAQt8B,EAAKlxC,GAAaF,QAAQ6pK,GAIzD,EACIiwE,GAAoB,SAAUpsK,EAAQ35E,EAAOi4F,GAC/C,IAAI7hF,EACAinC,EAAKnxC,EACLkxC,EAAYu8B,EAAOv8B,UACnBtxC,EAAM6tE,EAAO7tE,IACb,QAAQmD,KAAKjP,KACfA,EAvJqB,SAAU8L,EAAKuxC,EAAKhxC,GAC3C,IAAI6/B,EAAO//B,GAAaF,QAAQH,EAAI2xE,WAWpC,OATEpxE,EADEguO,GAAkBnuM,EAAM4gL,GAAcG,eAAe5vK,IAChDhxC,EAAKX,QAAQ,KAAM,UAEnBW,EAAKX,QAAQ,UAAW,KAE7B4uO,GAAmBpuM,EAAM4gL,GAAcI,aAAa7vK,IAC/ChxC,EAAKX,QAAQ,0BAA2B,UAExCW,EAAKX,QAAQ,uBAAwB,IAGhD,CA0IYs6O,CAAmBl6O,EAAKsxC,EAAUmiC,SAAUv/E,IAEtD,IAAIimP,EAAStsK,EAAOssK,OAChBC,EAAQjuJ,EAAQiuJ,MAChBj9B,EAAa+sB,GAAe,CAAEprI,SAAU6mH,GAAe93I,IAAWA,EAAO3xD,QACzEm+N,EAAe,iEACfnkP,EAAO23E,EAAOsZ,KAAK,mBAAoB,CACzCx+D,QAASz0B,EACT81F,OAAQ,OACR14C,WAAW,EACXgpM,MAAOnuJ,EAAQmuJ,QAEjB,GAAIpkP,EAAK21K,qBACPh+F,EAAOsZ,KAAK,aAAc,CACxBx+D,QAASzyB,EAAKyyB,QACdqhE,OAAQ,OACR14C,WAAW,EACXgpM,MAAOnuJ,EAAQmuJ,YALnB,EAUmC,KADnCpmP,EAAQgC,EAAKyyB,SACHrwB,QAAQ,cAChBpE,GAAS,YAEXA,EAAQA,EAAM0L,QAAQ,cAAey6O,GAErC,IAAIE,GADJhpM,EAAMD,EAAUmiC,UACOjiC,iBAAmBD,EAAI2oL,cAAgB3oL,EAAI2oL,gBAAkB,MAChF3uN,EAAOsiE,EAAO7hE,UACduuO,IAAiBhvO,GAAQ+lC,EAAUukG,eACjC71I,EAAIowE,QAAQ7kE,EAAKiH,aAtGH,SAAUq7D,EAAQztE,GACtC,OAAOA,IAASytE,EAAO3xD,OAAO6jL,wBAAwB3/L,EAAK0B,SAC7D,CAoGwC04O,CAAgB3sK,EAAQtiE,EAAKiH,aAAexS,EAAIo3M,QAAQ7rM,EAAKiH,eAC/F++B,EAAMvxC,EAAImyE,aACN//B,SAAS7mC,EAAKiH,WAAY,GAC9B++B,EAAIgB,OAAOhnC,EAAKiH,WAAY,GAC5B8+B,EAAUyuH,OAAOxuH,IAGhBD,EAAUukG,eACbkkG,GAAsBlsK,GAGxB,IAzHqCgD,EAyHjC4pK,EAAa,CACf7mK,SAFFtpE,EAAagnC,EAAUm/B,WAED3uE,SAASC,cAC7B2kB,KAAMylE,EAAQzlE,KACdzzB,QAAQ,GAEN41B,EAAWsxN,EAAOhyM,MAAMj0C,EAAOumP,GACnC,IAAsB,IAAlBtuJ,EAAQmuJ,OAAkBjC,GAAexqK,EAAO3xD,OAAQ2M,IAzQxC,SAAU7oB,EAAKI,GACnC,QAASu4O,GAAY34O,EAAKI,EAC5B,CAuQ2Es6O,CAAgB16O,EAAKsK,GAI5F,OAHAinC,EAAMynM,GAAgB77B,EAAYn9M,EAAKsxC,EAAUmiC,SAAU5qD,GAC3DyoB,EAAUyuH,OAAOxuH,QACjBs8B,EAAOsZ,KAAK,aAAcjxF,GAK5B,GA/IyB,SAAU2yB,GAEnC,IADA,IAAIzoB,EAAOyoB,EACJzoB,EAAOA,EAAK4qL,QACC,IAAd5qL,EAAKnM,MACPmM,EAAK2vB,KAAK,oBAAqB,IAGrC,CAsIE4qN,CAAqB9xN,GAEG,gBADxBzoB,EAAOyoB,EAASgjK,WACP97J,KAAK,MAAwB,CACpC,IAAI9d,EAAS7R,EACb,IAAKA,EAAOA,EAAKozI,KAAMpzI,EAAMA,EAAOA,EAAK4qL,MAAK,GAC5C,GAAkB,IAAd5qL,EAAKnM,OAAe+L,EAAIowE,QAAQhwE,EAAK3L,MAAO,CAC1Co5E,EAAO3xD,OAAOokL,aAAalgM,EAAKiK,OAAO5V,KAAM,SAC/C2L,EAAKiK,OAAOpX,OAAOgf,EAAQ7R,EAAoB,OAAdA,EAAK3L,MAExC,KACF,CAEJ,CAEA,GADAo5E,EAAO+sK,oBAAoBC,wBAAwBvwO,GAC9CmwO,EAAWx1F,QAGT,CACLp3E,EAAOv8B,UAAUoL,WAAW29L,GAC5B/vO,EAAagnC,EAAUm/B,UACvB,IAAIN,EAAWtC,EAAO7hE,UAMtB,IAL4B,IAAxB1B,EAAWrI,SACbqI,EAAalK,EAAO+vE,EAEpB/vE,EAAOkK,EAEFlK,IAAS+vE,GACd7lE,EAAalK,EACbA,EAAOA,EAAKkK,WAEdpW,EAAQoW,IAAe6lE,EAAWA,EAASxvE,UAAYX,EAAIy2M,aAAansM,GACxEpW,EAAQipN,EAAW/a,UAAU+3C,EAAOhyM,MAAMj0C,EAAM0L,QAAQ,qDAAqD,WAC3G,OAAOu9M,EAAW/a,UAAUv5K,EAC9B,MACIve,IAAe6lE,EACjBnwE,EAAIu0M,QAAQpkI,EAAUj8E,GAEtB8L,EAAI22M,aAAarsM,EAAYpW,EAEjC,MA3NmB,SAAU25E,EAAQ35E,EAAOoW,GAC5C,GAAkD,QAA9CA,EAAWiC,aAAa,kBAC1BjC,EAAWA,WAAW/W,aAAas6E,EAAO7tE,IAAI21M,eAAezhN,GAAQoW,OAChE,CACL,IAAIlK,EAAOkK,EAAWkI,WAClBm3M,EAAQr/M,EAAWuhL,WAClBzrL,GAAQA,IAASupN,GAA2B,OAAlBvpN,EAAK0B,SAClC+rE,EAAO7tE,IAAIu0M,QAAQjqM,EAAYpW,GAE/B25E,EAAOv8B,UAAUoL,WAAWxoD,EAEhC,CACF,CAwLI4mP,CAAejtK,EADf35E,EAAQipN,EAAW/a,UAAUv5K,GACCve,IApLH,SAAUujE,EAAQusK,GAC/C,IAAIW,EAAqBltK,EAAO3xD,OAAO4jL,wBACnC9/L,EAAM6tE,EAAO7tE,IACjB,GAAIo6O,EAAO,CACT,IAAIY,EAASntK,EAAO7hE,UAChBivO,EAAiB9R,GAAanpO,GAClCvI,GAAMsC,KAAKiG,EAAIgrF,OAAO,yBAAyB,SAAU5qF,GAEvD,GADe9K,EAAcylP,EAAmB36O,EAAK0B,SAASC,iBAC9C0oO,GAAqBzqO,EAAKI,GACxC,IAAK,IAAIkK,EAAalK,EAAKkK,WAAYhV,EAAcgV,IAAeA,IAAe0wO,IAC7DrQ,GAAiB3qO,EAAKI,EAAMkK,GADyCA,EAAaA,EAAWA,WAKjH,GAAI2wO,EAAe9uC,QAAQ7hM,EAAYlK,GAAO,CAC5CJ,EAAI2wB,OAAOvwB,GAAM,GACjB,KACF,CAGN,GACF,CACF,CAsLE86O,CAAyBrtK,EAAQusK,GAlKP,SAAUvsK,EAAQ57D,GAC5C,IAAIkpO,EACAn7O,EAAM6tE,EAAO7tE,IACbsxC,EAAYu8B,EAAOv8B,UACvB,GAAKr/B,EAAL,CAGAq/B,EAAUg7I,eAAer6K,GACzB,IAAImpO,EAAoBlmB,GAAyBrnJ,EAAO7hE,UAAWiG,GACnE,GAAkD,UAA9CjS,EAAIqwE,mBAAmB+qK,GAGzB,OAFAp7O,EAAI2wB,OAAO1e,QACXq/B,EAAU05C,OAAOowJ,GAGnB,IAAI7pM,EAAMvxC,EAAImyE,YACV/xE,EAAO6R,EAAOy5K,gBAClB,GAAI0B,GAAShtL,IAEX,GADAmxC,EAAIa,SAAShyC,EAAMA,EAAKuzC,UAAU99C,SAC7BszL,GAAI5jL,GAAI,CACX,IAAIokN,EAAQ13M,EAAOG,YACfg7K,GAASu8B,KACXvpN,EAAKitN,WAAW1D,EAAMjjM,MACtBijM,EAAMr/M,WAAW0I,YAAY22M,GAEjC,OAEAp4K,EAAIY,eAAelgC,GACnBs/B,EAAIe,aAAargC,GAEnB,IAQIy/N,EAAc1xO,EAAI0xE,UAAUz/D,EAAQjS,EAAIowE,SAC5CpwE,EAAI2wB,OAAO1e,GACPy/N,GAAe1xO,EAAIo3M,QAAQs6B,KAC7B7jK,EAAO0lI,EAAEm+B,GAAa9+N,QACtB2+B,EAAIa,SAASs/L,EAAa,GAC1BngM,EAAIgB,OAAOm/L,EAAa,GACnBoI,GAAcpI,IAjDA,SAAUtxO,GAC/B,QAASA,EAAKmM,aAAa,oBAC7B,CA+CwC8uO,CAAiB3J,MAAiByJ,EAdjD,SAAU5pM,GAC/B,IAAIiuL,EAAWxe,GAAcG,eAAe5vK,GAG5C,GADAiuL,EADkB9T,GAAY79I,EAAO7hE,WACdw9B,KAAKg2L,GAE1B,OAAOA,EAASve,SAEpB,CAOkFq6B,CAAiB/pM,IAI/FvxC,EAAIlM,IAAI49O,EAAa1xO,EAAIqmI,OAAO,KAAM,CAAE,iBAAkB,QAH1D90F,EAAM4pM,EACNn7O,EAAI2wB,OAAO+gN,KAKfpgM,EAAUyuH,OAAOxuH,EA5CjB,CA6CF,CAgHEgqM,CAAsB1tK,EAAQ7tE,EAAIoO,IAAI,eA9KDyiE,EA+KdhD,EAAO7hE,UA9K9BvU,GAAMsC,KAAK82E,EAAIqkH,qBAAqB,MAAM,SAAUrkH,GAClDA,EAAIjkE,gBAAgB,oBACtB,IArCyB,SAAU5M,EAAK6wE,GACxCn2E,EAAS/B,KAAKqH,EAAI0xE,UAAUb,EAAK,UAAU/2E,IAAIuG,GAAaF,SAASpG,KAAKyyO,GAC5E,CAgNEgP,CAAqBx7O,EAAKsxC,EAAUQ,YACpC+7B,EAAOsZ,KAAK,aAAcjxF,GAC1B23E,EAAO4tK,WA9EP,CA+EF,EAEIC,GAAW,SAAUt7O,EAAMzJ,GAC7BA,EAAGyJ,GACCA,EAAKoS,YACPkpO,GAASt7O,EAAKoS,WAAY7b,GAExByJ,EAAKopC,MACPkyM,GAASt7O,EAAKopC,KAAM7yC,EAExB,EA6CIkH,GAAW,SAAU89O,EAAaC,EAAkBx7O,GACtD,IAAIkI,EA7CkB,SAAUqzO,EAAaC,EAAkBx7O,GAC/D,IAAI41J,EAAc,CAAC,EACf6lF,EAAc,CAAC,EACfvzO,EAAU,GA6Bd,IAAK,IAAIs0J,KA5BLx8J,EAAKoS,YACPkpO,GAASt7O,EAAKoS,YAAY,SAAUpS,GAClCsnL,EAAOi0D,GAAa,SAAUxhP,GACxBA,EAAO1F,OAAS2L,EAAK3L,OACnBuhK,EAAY77J,EAAO1F,MACrBuhK,EAAY77J,EAAO1F,MAAMs5L,MAAMp7L,KAAKyN,GAEpC41J,EAAY77J,EAAO1F,MAAQ,CACzB0F,OAAQA,EACR4zL,MAAO,CAAC3tL,IAIhB,IACAsnL,EAAOk0D,GAAkB,SAAUzhP,GACK,iBAA3BiG,EAAK2vB,KAAK51B,EAAO1F,QACtBonP,EAAY1hP,EAAO1F,MACrBonP,EAAY1hP,EAAO1F,MAAMs5L,MAAMp7L,KAAKyN,GAEpCy7O,EAAY1hP,EAAO1F,MAAQ,CACzB0F,OAAQA,EACR4zL,MAAO,CAAC3tL,IAIhB,GACF,IAEiB41J,EACbz3J,GAAMy3J,EAAa4G,IACrBt0J,EAAQ3V,KAAKqjK,EAAY4G,IAG7B,IAAK,IAAIk/E,KAAUD,EACbt9O,GAAMs9O,EAAaC,IACrBxzO,EAAQ3V,KAAKkpP,EAAYC,IAG7B,OAAOxzO,CACT,CAEgByzO,CAAkBJ,EAAaC,EAAkBx7O,GAC/DsnL,EAAOp/K,GAAS,SAAUgB,GACxBo+K,EAAOp+K,EAAMnP,OAAO6iG,WAAW,SAAUxS,GACvCA,EAASlhF,EAAMykL,MAAOzkL,EAAMnP,OAAO1F,KAAM,CAAC,EAC5C,GACF,GACF,EAGIunP,GAAa,SAAUrzN,GACzB,OAAOA,aAAmBo4M,EAC5B,EAUIkb,GAAgB,SAAUpuK,EAAQttE,EAAM27O,GAC1CruK,EAAO7tE,IAAIu0M,QAAQ1mI,EAAO7hE,UAAWzL,IACjB,IAAhB27O,GAXc,SAAUruK,GACxB1tC,GAAS0tC,IACX0+I,GAAgB1+I,EAAO7hE,WAAWjS,MAAK,SAAUqoC,GAC/C,IAAIhiC,EAAOgiC,EAAIquC,UACX+uJ,EAAWvyC,GAAU7sL,GAAQmsN,GAAgBnsN,GAAM7G,MAAM6oC,GAAOA,EACpEyrC,EAAOv8B,UAAUyuH,OAAOy/D,EAASve,UACnC,GAEJ,CAIIm1B,CAAcvoK,EAElB,EAiDIsuK,GAAqB,SAAUtuK,EAAQllD,EAASzyB,GAClD,IAAIyyO,EAPY,SAAUzyO,EAAMyyB,GAChC,OAAOhxB,GAASA,GAAS,CAAEqyF,OA9DP,QA8DkC9zF,GAAO,CAC3DwY,KAAK,EACLia,QAASqzN,GAAWrzN,GAAW,GAAKA,GAExC,CAEsByzN,CAAYlmP,EAAMyyB,GAClCmgN,EAAc5yO,EAAK6yO,UAAYJ,EAAgB96J,EAAOsZ,KAAK,mBAAoBwhJ,GAInF,OAHKqT,GAAWrzN,KACdA,EAAUmgN,EAAYngN,SAEjBjuB,EAAS/B,KAAKk1E,EAAO7hE,WAAW7S,KAAKmqB,EAASqF,IAAU,SAAUpd,GACvE,OAAOywO,GAAWrzN,GAvBD,SAAUklD,EAAQtiE,EAAMod,EAASzyB,GACpD2H,GAASgwE,EAAOssK,OAAOkC,iBAAkBxuK,EAAOssK,OAAOmC,sBAAuB3zN,GAC9E,IAAIpoB,EAAO2pO,GAAe,CAAEprI,SAAUjxB,EAAOixB,UAAYjxB,EAAO3xD,QAAQkmL,UAAUz5K,GAMlF,OALAzyB,EAAKyyB,QAAU+qK,GAAoBrzL,GAAaF,QAAQoL,IAAShL,EAAO9I,GAAMu8C,KAAKzzC,GACnF07O,GAAcpuK,EAAQ33E,EAAKyyB,QAASzyB,EAAKqmP,cACpCrmP,EAAK6yO,WACRl7J,EAAOsZ,KAAK,aAAcjxF,GAErByyB,CACT,CAciC6zN,CAAe3uK,EAAQtiE,EAAMod,EAASmgN,GAvDhD,SAAUj7J,EAAQtiE,EAAMod,EAASzyB,GACtD,GAAuB,IAAnByyB,EAAQ9yB,QAAgB,QAAQsN,KAAKwlB,GAAU,CACjD,IAAI8zN,EAAO,0BACW,UAAlBlxO,EAAKzJ,SACP6mB,EAAU,WAAa8zN,EAAO,aACrB,YAAYt5O,KAAKoI,EAAKzJ,YAC/B6mB,EAAU,OAAS8zN,EAAO,SAE5B,IAAIC,EAAsBj4B,GAAmB52I,GACzC6uK,GAAuB7uK,EAAO3xD,OAAOokL,aAAa/0L,EAAKzJ,SAASC,cAAe26O,EAAoB36O,gBACrG4mB,EAAU8zN,EACV9zN,EAAUklD,EAAO7tE,IAAIy1M,WAAWinC,EAAqBh4B,GAAwB72I,GAASllD,IAC5EA,IACVA,EAAU,2BAEZszN,GAAcpuK,EAAQllD,EAASzyB,EAAKqmP,cACpC1uK,EAAOsZ,KAAK,aAAcjxF,EAC5B,KACsB,QAAhBA,EAAK8zF,SACPrhE,EAAUuhN,GAAe,CAAEprI,SAAUjxB,EAAOixB,UAAYjxB,EAAO3xD,QAAQkmL,UAAUv0H,EAAOssK,OAAOhyM,MAAMxf,EAAS,CAC5Gg0N,eAAe,EACf1pP,QAAQ,MAGZiD,EAAKyyB,QAAU+qK,GAAoBrzL,GAAaF,QAAQoL,IAASod,EAAUlxB,GAAMu8C,KAAKrrB,GACtFszN,GAAcpuK,EAAQ33E,EAAKyyB,QAASzyB,EAAKqmP,cACpCrmP,EAAK6yO,WACRl7J,EAAOsZ,KAAK,aAAcjxF,GAG9B,OAAOA,EAAKyyB,OACd,CAwBsFi0N,CAAiB/uK,EAAQtiE,EAAMod,EAASmgN,EAC5H,GACF,EAEI32N,GAAU,SAAU3R,EAAOwmB,GAC7B,OAvjZc,SAAUxmB,EAAOwmB,GAC/B,IAAInlB,EAAUrB,EAAMR,IACpB,OAAK6B,EAAQyI,WAGNkqB,GAAMn0B,GAAaF,QAAQ0B,EAAQyI,aAAa,SAAUnW,GAC/D,OAAQ+U,GAAG1I,EAAOrM,IAAM6yB,EAAU7yB,EACpC,IAJSuG,EAAS1B,MAKpB,CA+iZS6jP,CAAUr8O,EAAOwmB,GAAW3tB,QACrC,EAEI8oB,GAAe,SAAUC,GAC3B,OAAO7sB,EAAW6sB,GAAUA,EAAS/qB,CACvC,EAgBI2+B,GAAY,SAAUx1B,EAAO8hB,EAAWF,GAC1C,IAAIvd,EAAUyd,EAAU9hB,GACpBwQ,EAAOmR,GAAaC,GACxB,OAAOvd,EAAQhL,SAAQ,WACrB,OAAOmX,EAAKxQ,GAAS9F,EAAS1B,OAnBnB,SAAUwH,EAAO8hB,EAAWF,GAGzC,IAFA,IAAIvgB,EAAUrB,EAAMR,IAChBgR,EAAOmR,GAAaC,GACjBvgB,EAAQyI,YAAY,CACzBzI,EAAUA,EAAQyI,WAClB,IAAIpX,EAAKmN,GAAaF,QAAQ0B,GAC1B0gB,EAAcD,EAAUpvB,GAC5B,GAAIqvB,EAAYlpB,SACd,OAAOkpB,EACF,GAAIvR,EAAK9d,GACd,KAEJ,CACA,OAAOwH,EAAS1B,MAClB,CAK2Cu8B,CAAS/0B,EAAO8hB,EAAWtR,EACpE,GACF,EAEI8rO,GAAS3tB,GACT4tB,GAAmC,SAAUh8G,EAAI3gI,EAAM3L,GACzD,IAAIw8N,EAAalwF,EAAGiD,UAAU51H,IAAI3Z,GAClC,GAAIw8N,EACF,IAAK,IAAIt7N,EAAI,EAAGA,EAAIs7N,EAAWp7N,OAAQF,IAAK,CAC1C,IAAIq0F,EAASinI,EAAWt7N,GACxB,GAAI+tI,GAAiB15C,KAA8B,IAAnBA,EAAOgzJ,SAAqBj8G,EAAG/gI,IAAI0I,GAAGtI,EAAM4pF,EAAOrhF,UACjF,OAAO,CAEX,CAEF,OAAO,CACT,EACIs0O,GAAe,SAAUpvK,EAAQztE,EAAM3L,EAAMy6N,EAAMguB,GACrD,IAAI98M,EAAOytC,EAAO7tE,IAAI2xE,UACtB,OAAIvxE,IAASggC,IAGbhgC,EAAOytE,EAAO7tE,IAAI0xE,UAAUtxE,GAAM,SAAUA,GAC1C,QAAI28O,GAAiClvK,EAAQztE,EAAM3L,KAG5C2L,EAAKkK,aAAe81B,KAAU+8M,GAAUtvK,EAAQztE,EAAM3L,EAAMy6N,GAAM,GAC3E,MACSiuB,GAAUtvK,EAAQztE,EAAM3L,EAAMy6N,EAAMguB,GAC/C,EACIE,GAAc,SAAUp9O,EAAKI,EAAM4pF,GACrC,QAAI8yJ,GAAO18O,EAAM4pF,EAAO3L,YAGpBy+J,GAAO18O,EAAM4pF,EAAO8qC,SAGpB9qC,EAAOrhF,SACgB,IAAlBvI,EAAK6B,UAAkBjC,EAAI0I,GAAGtI,EAAM4pF,EAAOrhF,eADpD,GAGF,EACI00O,GAAa,SAAUr9O,EAAKI,EAAM4pF,EAAQw4D,EAAU06F,EAAShuB,GAC/D,IAAIhwK,EAAQ8qC,EAAOw4D,GACnB,GAAIjtJ,EAAWy0F,EAAOszJ,SACpB,OAAOtzJ,EAAOszJ,QAAQl9O,EAAM4pF,EAAQw4D,GAEtC,GAAItjG,EACF,GAAI9pD,EAAY8pD,EAAMrpD,SACpB,IAAK,IAAIyI,KAAO4gD,EACd,GAAI3gD,GAAM2gD,EAAO5gD,GAAM,CACrB,IAAIpK,EAAqB,eAAbsuJ,EAA4BxiJ,EAAIyzM,UAAUrzM,EAAM9B,GAAOy+E,GAAS/8E,EAAKI,EAAM9B,GACnFi/O,EAAgBtuB,GAAY/vK,EAAM5gD,GAAM4wN,GACxCsuB,EAAenoP,EAAWnB,IAAUy0L,GAAUz0L,GAClD,GAAIspP,GAAgBnoP,EAAWkoP,GAC7B,SAEF,GAAIL,GAAWM,IAAiBxzJ,EAAO/4C,MACrC,OAAO,EAET,KAAMisM,GAAWlzJ,EAAO/4C,SAAW6rM,GAAO5oP,EAAOm7N,GAAoBrvN,EAAKu9O,EAAej/O,IACvF,OAAO,CAEX,OAGF,IAAK,IAAI3I,EAAI,EAAGA,EAAIupD,EAAMrpD,OAAQF,IAChC,GAAiB,eAAb6sJ,EAA4BxiJ,EAAIyzM,UAAUrzM,EAAM8+C,EAAMvpD,IAAMonF,GAAS/8E,EAAKI,EAAM8+C,EAAMvpD,IACxF,OAAO,EAKf,OAAO,CACT,EACIwnP,GAAY,SAAUp8G,EAAI3gI,EAAM3L,EAAMy6N,EAAMguB,GAC9C,IAAIjsB,EAAalwF,EAAGiD,UAAU51H,IAAI3Z,GAC9BuL,EAAM+gI,EAAG/gI,IACb,GAAIixN,GAAc7wN,EAChB,IAAK,IAAIzK,EAAI,EAAGA,EAAIs7N,EAAWp7N,OAAQF,IAAK,CAC1C,IAAIq0F,EAASinI,EAAWt7N,GACxB,GAAIynP,GAAYr8G,EAAG/gI,IAAKI,EAAM4pF,IAAWqzJ,GAAWr9O,EAAKI,EAAM4pF,EAAQ,aAAckzJ,EAAShuB,IAASmuB,GAAWr9O,EAAKI,EAAM4pF,EAAQ,SAAUkzJ,EAAShuB,GAAO,CAC7J,IAAI3hM,EAAUy8D,EAAOz8D,QACrB,GAAIA,EACF,IAAK,IAAIp5B,EAAI,EAAGA,EAAIo5B,EAAQ13B,OAAQ1B,IAClC,IAAK4sI,EAAG/gI,IAAIowM,SAAShwM,EAAM6uN,GAAY1hM,EAAQp5B,GAAI+6N,IACjD,OAIN,OAAOllI,CACT,CACF,CAEJ,EACIyzJ,GAAU,SAAU5vK,EAAQp5E,EAAMy6N,EAAM9uN,EAAM88O,GAChD,GAAI98O,EACF,OAAO68O,GAAapvK,EAAQztE,EAAM3L,EAAMy6N,EAAMguB,GAGhD,GADA98O,EAAOytE,EAAOv8B,UAAUm/B,UACpBwsK,GAAapvK,EAAQztE,EAAM3L,EAAMy6N,EAAMguB,GACzC,OAAO,EAET,IAAIxmF,EAAY7oF,EAAOv8B,UAAUQ,WACjC,QAAI4kH,IAAct2J,IACZ68O,GAAapvK,EAAQ6oF,EAAWjiK,EAAMy6N,EAAMguB,GAKpD,EAgBIjrJ,GAAU,SAAUpkB,EAAQhpB,GAC9B,IAAIziC,EAAS,SAAUyuD,GACrB,OAAO3nE,GAAG2nE,EAAKxwE,GAAaF,QAAQ0tE,EAAO7hE,WAC7C,EAIA,OAAOtR,EAAS/B,KAAKk1E,EAAOv8B,UAAUQ,UAAS,IAAO93C,MAAK,SAAU0jP,GACnE,OAAO1nN,GAAU31B,GAAaF,QAAQu9O,IAAS,SAAU7sK,GACvD,OAAO1zE,GAAQ0nD,GAAO,SAAUpwD,GAC9B,OANM,SAAUo8E,EAAKp8E,GACzB,OAAO0oP,GAAUtvK,EAAQgD,EAAI7wE,IAAKvL,GAAQiG,EAASJ,KAAK7F,GAAQiG,EAAS1B,MAC3E,CAIasQ,CAAMunE,EAAKp8E,EACpB,GACF,GAAG2tB,EACL,IAAG1oB,WACL,EAqBIikP,GAAiB,SAAU9vK,EAAQztE,EAAMw9O,GAC3C,OAAO3hP,EAAM2hP,GAAa,SAAU7hP,EAAKtH,GACvC,IAAIopP,EA5uKmB,SAAUhwK,EAAQi3D,GAe3C,OAAO7qI,EAAO4zE,EAAOm2D,UAAU51H,IAAI02H,IAdX,SAAU96C,GAChC,IAAI8zJ,EAAkB,SAAUtvO,GAC9B,OAAOA,EAAI3Y,OAAS,GAAuB,MAAlB2Y,EAAIqjE,OAAO,EACtC,EACA,OAAO53E,EAAO,CACZ,SACA,eACC,SAAUqE,GACX,OAAO8U,GAAM42E,EAAQ1rF,GAAKrE,QAAO,SAAU8f,GACzC,IAAIgkO,EAAc12D,EAAUttK,GAASA,EAAQ3b,GAAO2b,GACpD,OAAO9f,EAAO8jP,EAAaD,EAC7B,GACF,GACF,GAEF,CA4tKuBE,CAAqBnwK,EAAQp5E,GAChD,OAAIo5E,EAAOm2D,UAAUm5G,UAAU/8O,EAAM3L,EAAM,CAAC,EAAGopP,GACtC9hP,EAAIhF,OAAO,CAACtC,IAEZsH,CAEX,GAAG,GACL,EAEIkiP,GAAOrqD,GAAQsqD,GAAW,aAiB1BC,GAAwB,SAAU/9O,GACpC,OAd4B,SAAUA,GAEtC,IADA,IAAI2tL,EAAQ,GACL3tL,GAAM,CACX,GAAsB,IAAlBA,EAAK6B,UAAkB7B,EAAKuzC,YAAcsqM,IAAQ79O,EAAKS,WAAWhL,OAAS,EAC7E,MAAO,GAEa,IAAlBuK,EAAK6B,UACP8rL,EAAMp7L,KAAKyN,GAEbA,EAAOA,EAAKoS,UACd,CACA,OAAOu7K,CACT,CAESqwD,CAAwBh+O,GAAMvK,OAAS,CAChD,EACIwoP,GAAoB,SAAUj+O,GAChC,GAAIA,EAAM,CACR,IAAI02L,EAAS,IAAIpE,GAActyL,EAAMA,GACrC,IAAKA,EAAO02L,EAAOjyL,UAAWzE,EAAMA,EAAO02L,EAAOttJ,OAChD,GAAI4jJ,GAAShtL,GACX,OAAOA,CAGb,CACA,OAAO,IACT,EACIk+O,GAAuB,SAAUC,GACnC,IAAIvpD,EAAiB30L,GAAaW,QAAQ,QAS1C,OARAoL,GAAS4oL,EAAgB,CACvB,GAAMkpD,GACN,iBAAkB,IAClB,gBAAiB,iBAEfK,GACF7rO,GAASsiL,EAAgB30L,GAAaa,SAAS+8O,KAE1CjpD,CACT,EAQIwpD,GAA2B,SAAU3wK,EAAQztE,EAAMoxO,QACnC,IAAdA,IACFA,GAAY,GAEd,IAAIxxO,EAAM6tE,EAAO7tE,IAAKsxC,EAAYu8B,EAAOv8B,UACzC,GAAI6sM,GAAsB/9O,GACxBmxO,GAAgB1jK,GAAQ,EAAOxtE,GAAaF,QAAQC,GAAOoxO,OACtD,CACL,IAAIjgM,EAAMD,EAAUmiC,SAChBqhD,EAAQ90H,EAAI0xE,UAAUtxE,EAAMJ,EAAIowE,SAChC5+B,EAAiBD,EAAIC,eACrBsB,EAAcvB,EAAIuB,YAClBC,EAAexB,EAAIwB,aACnBC,EAAYzB,EAAIyB,UAChB+0K,EArByB,SAAUlB,GACzC,IAAIkB,EAAWs2B,GAAkBx3B,GAIjC,OAHIkB,GAAYA,EAASp0K,UAAUk+B,OAAO,KAAOosK,IAC/Cl2B,EAAS3B,WAAW,EAAG,GAElB2B,CACT,CAemB02B,CAA2Br+O,GAC1CJ,EAAI2wB,OAAOvwB,GAAM,GACboxC,IAAmBu2K,GAAYj1K,EAAc,GAC/CvB,EAAIa,SAAS21K,EAAUj1K,EAAc,GAEnCC,IAAiBg1K,GAAY/0K,EAAY,GAC3CzB,EAAIgB,OAAOw1K,EAAU/0K,EAAY,GAE/B8hF,GAAS90H,EAAIo3M,QAAQtiF,IACvBy3G,GAAkBlsO,GAAaF,QAAQ20H,IAEzCxjF,EAAUyuH,OAAOxuH,EACnB,CACF,EACImtM,GAAuB,SAAU7wK,EAAQztE,EAAMoxO,QAC/B,IAAdA,IACFA,GAAY,GAEd,IAAIxxO,EAAM6tE,EAAO7tE,IAAKsxC,EAAYu8B,EAAOv8B,UACzC,GAAKlxC,EAQHo+O,GAAyB3wK,EAAQztE,EAAMoxO,QANvC,KADApxO,EAAOusN,GAAwB9+I,EAAO7hE,UAAWslC,EAAUQ,aAEzD,KAAO1xC,EAAOJ,EAAIoO,IAAI8vO,KACpBM,GAAyB3wK,EAAQztE,GAAM,EAM/C,EAcIu+O,GAAa,SAAUr0O,EAAYlK,GAErC,OADAkK,EAAWmI,YAAYrS,GAChBA,CACT,EACIw+O,GAAsC,SAAUC,EAAa7pD,GAC/D,IAAI8pD,EAAsBhjP,EAAM+iP,GAAa,SAAUv0O,EAAYy0O,GACjE,OAAOJ,GAAWr0O,EAAYy0O,EAAW51N,WAAU,GACrD,GAAG6rK,GACH,OAAO2pD,GAAWG,EAAqBA,EAAoB90O,cAAc5I,eAAe68O,IAC1F,EAqDIe,GAAoB,SAAUnxK,EAAQp5E,EAAMy6N,EAAMguB,GACpD,IAEI+B,EAAiB7+O,EAAM2+O,EAFvB/+O,EAAM6tE,EAAO7tE,IACbsxC,EAAYu8B,EAAOv8B,UAEnBq6H,EAAU,GACVp6H,EAAMD,EAAUmiC,SAChBnqD,EAAYioB,EAAIC,eAChB3mC,EAAS0mC,EAAIuB,YAQjB,IAPA1yC,EAAOkpB,EACoB,IAAvBA,EAAUrnB,WACR4I,IAAWye,EAAUqqB,UAAU99C,SACjCopP,GAAkB,GAEpB7+O,EAAOA,EAAKkK,YAEPlK,GAAM,CACX,GAAI+8O,GAAUtvK,EAAQztE,EAAM3L,EAAMy6N,EAAMguB,GAAU,CAChD6B,EAAa3+O,EACb,KACF,CACIA,EAAKgS,cACP6sO,GAAkB,GAEpBtzE,EAAQh5K,KAAKyN,GACbA,EAAOA,EAAKkK,UACd,CACA,GAAKy0O,EAGL,GAAIE,EAAiB,CACnB,IAAI37B,EAAWhyK,EAAU2jL,cACzB1jL,EAAImyB,UAAS,GACb,IAAIw7K,EAAcztB,GAAU5jJ,EAAQt8B,EAAKs8B,EAAOm2D,UAAU51H,IAAI3Z,IAAO,GACrEyqP,EAAc7yN,GAAM6yN,GACpBrxK,EAAOm2D,UAAUrzG,OAAOl8B,EAAMy6N,EAAMgwB,EAAahC,GACjD5rM,EAAUyyK,eAAeT,EAC3B,KAAO,CACL,IAAItuB,EAAiB23B,GAAwB9+I,EAAO7hE,UAAW+yO,GAC3DI,EAAoBb,IAAqB,GAAOt+O,KAjHzB,SAAU6tE,EAAQmnH,EAAgB+pD,GAC/D,IAAI/+O,EAAM6tE,EAAO7tE,IAAK80H,EAAQ90H,EAAI0xE,UAAUqtK,EAAYroP,EAAMq4N,GAAelhJ,IACzEinD,GAAS90H,EAAIo3M,QAAQtiF,GACvBiqH,EAAWz0O,WAAWyqM,aAAa/f,EAAgB+pD,IAEnD5S,GAAiB9rO,GAAaF,QAAQ4+O,IAClC/+O,EAAIo3M,QAAQ2nC,GACdA,EAAWz0O,WAAWyqM,aAAa/f,EAAgB+pD,GAEnD/+O,EAAI42M,YAAY5hB,EAAgB+pD,GAGtC,CAsGIK,CAAyBvxK,EAAQsxK,EAAsC,OAAnBnqD,EAA0BA,EAAiB+pD,GAC/F,IAAIM,EA5Fc,SAAUxxK,EAAQmnH,EAAgB+pD,EAAYtqP,EAAMy6N,EAAMguB,GAC9E,IAAIl5G,EAAYn2D,EAAOm2D,UACnBhkI,EAAM6tE,EAAO7tE,IACbs/O,EAAe33D,EAAStqL,GAAK2mI,EAAU51H,QAAQ,SAAU02H,GAC3D,OAAOA,IAAerwI,IAASuG,GAAW8pI,EAAY,eACxD,IACIy6G,EAAiB5B,GAAe9vK,EAAQkxK,EAAYO,GAIxD,GAHoB33D,EAAS43D,GAAgB,SAAUC,GACrD,OAAQ/vB,GAAkB5hJ,EAAQ2xK,EAAS/qP,EAC7C,IACkBoB,OAAS,EAAG,CAC5B,IAAI4pP,EAAmBV,EAAW51N,WAAU,GAI5C,OAHAnpB,EAAIlM,IAAIkhM,EAAgByqD,GACxBz7G,EAAUrzG,OAAOl8B,EAAMy6N,EAAMuwB,EAAkBvC,GAC/Cl9O,EAAI2wB,OAAO8uN,GACJ/kP,EAASJ,KAAKmlP,EACvB,CACE,OAAO/kP,EAAS1B,MAEpB,CAyE4B0mP,CAAgB7xK,EAAQsxK,EAAmBJ,EAAYtqP,EAAMy6N,EAAMguB,GACvFyC,EAAgBf,GAAoCjzE,EAAQ50K,OAAOsoP,EAAkBjlP,WAAY+kP,GACrGX,GAAyB3wK,EAAQmnH,GAAgB,GACjD1jJ,EAAU0/B,kBAAkB2uK,EAAe,GACvC3/O,EAAIo3M,QAAQ2nC,IACd/+O,EAAI2wB,OAAOouN,EAEf,CACF,EAWIa,GAAU,SAAU/xK,GACtBA,EAAOloC,GAAG,mBAAmB,SAAUttC,IAXb,SAAUw1E,EAAQkjD,GAC5C,IAAIz/E,EAAYu8B,EAAOv8B,UAAW/lC,EAAOsiE,EAAO7hE,UAChD0yO,GAAqB7wK,EAAQ,MAAM,GAClB,IAAZkjD,GAA6B,KAAZA,IAAmBz/E,EAAUukG,eAAiBvkG,EAAUQ,WAAWnxC,YAAcs9O,IACrGS,GAAqB7wK,EAAQ8+I,GAAwBphN,EAAM+lC,EAAUQ,aAEvD,KAAZi/E,GAA8B,KAAZA,GACpB2tH,GAAqB7wK,EAAQ8+I,GAAwBphN,EAAM+lC,EAAUQ,YAEzE,CAGI+tM,CAAsBhyK,EAAQx1E,EAAE04H,QAClC,GACF,EAQI+uH,GAAkB,SAAUjyK,EAAQhsE,GACtC,IAAIk+O,EAAiBlyK,EAAO3xD,OAAO4jL,wBACnC,OAAOvhM,GAAMwhP,EAAgBtrP,GAAKoN,MAAc6qN,GAAY7qN,EAAQ7B,OAASgtL,GAAUnrL,EAAQ7B,IACjG,EAKIggP,GAAmB,CAAC,EACpB7lP,GAAS0B,GACTokP,GAASh4D,IACY,SAAUxzL,EAAM28M,GAC3B4uC,GAAiBvrP,KAE3BurP,GAAiBvrP,GAAQ,IAE3BurP,GAAiBvrP,GAAM9B,KAAKy+M,EAC9B,CAMA8uC,CAAmB,OAAO,SAAUryK,GAClC,IACIsyK,EADA5uM,EAAMs8B,EAAOv8B,UAAUmiC,SASvB2sK,EAAQzzD,GAAe,CAAC,QACvBp7I,EAAI6B,YACP+sM,EAAStyK,EAAOv8B,UAAU+uM,oBAC1BJ,GAAO9lP,GAAOA,GAAOgmP,EAAQC,IAVX,SAAUE,GAC5B,OAAOF,EAAME,EAAI50D,mBAAgE,IAA5CxD,GAAUi4D,EAAQG,EAAI50D,gBAC7D,KAQuD,SAAU40D,GAPnD,IAAUC,EAAMC,EAAND,EAQZD,EAAI50D,gBAPdwkB,GAD4BswC,EAQGF,GAPhB3vN,SACfu/K,GAASqwC,GAAM/sP,OAAO,YAAYA,OAAOgtP,EAAK3/O,WAO9C,IAEJ,IAEA,IAAI4/O,GAAShpP,GAAMsC,KACf2mP,GAAkB,SAAUtgP,GAC9B,OAAOssL,GAAYtsL,KAAU+tN,GAAiB/tN,KAAUssN,GAAYtsN,KAAU4sL,GAAU5sL,EAC1F,EACIugP,GAAqB,SAAUvgP,EAAM2yL,GACvC,IAAK,IAAI5gL,EAAU/R,EAAM+R,EAASA,EAAUA,EAAQ4gL,GAAc,CAChE,GAAI3F,GAASj7K,IAAYrS,GAAWqS,EAAQuU,MAC1C,OAAOtmB,EAET,GAAIssL,GAAYv6K,KAAag8M,GAAiBh8M,GAC5C,OAAOA,CAEX,CACA,OAAO/R,CACT,EACIwgP,GAAqB,SAAU5gP,EAAKwzI,EAAMhqG,GAC5C,IAAIq3M,EAAe1X,GAAanpO,GAChC,GAAIwzI,GAAQhqG,IACVgqG,EAAOmtG,GAAmBntG,EAAM,mBAChChqG,EAAOm3M,GAAmBn3M,EAAM,eAC5Bq3M,EAAa10C,QAAQ34D,EAAMhqG,IAAO,CACpC,IAAK,IAAIr3B,EAAUqhI,EAAKphI,YAAaD,GAAWA,IAAYq3B,GAAO,CACjE,IAAIs3M,EAAa3uO,EACjBA,EAAUA,EAAQC,YAClBohI,EAAK/gI,YAAYquO,EACnB,CAKA,OAJA9gP,EAAI2wB,OAAO6Y,GACX/xC,GAAMsC,KAAKtC,GAAM0yL,KAAK3gJ,EAAK3oC,aAAa,SAAUT,GAChDozI,EAAK/gI,YAAYrS,EACnB,IACOozI,CACT,CAEF,OAAOhqG,CACT,EACIu3M,GAAgB,SAAU/gP,EAAKgqF,EAAQklI,EAAM9uN,GAC/C,GAAIA,IAAkC,IAA1B4pF,EAAOg3J,eAA0B,CAC3C,IAAI5Q,EAAUwQ,GAAmB5gP,EAAK4uN,GAAwBxuN,GAAOA,GACrEwgP,GAAmB5gP,EAAKowO,EAASxhB,GAAwBwhB,GAAS,GACpE,CACF,EAaI6Q,GAAuB,SAAU7gP,EAAMjG,EAAQoe,GACjDkoO,GAAOrgP,EAAKS,YAAY,SAAUT,GAC5BsgP,GAAgBtgP,KACdjG,EAAOiG,IACTmY,EAAQnY,GAENA,EAAKQ,iBACPqgP,GAAqB7gP,EAAMjG,EAAQoe,GAGzC,GACF,EAMI2oO,GAAW,SAAUlhP,EAAKvL,GAC5B,OAAO,SAAU2L,GACf,SAAUA,IAAQ28E,GAAS/8E,EAAKI,EAAM3L,GACxC,CACF,EACI0sP,GAAa,SAAUnhP,EAAKvL,EAAMP,GACpC,OAAO,SAAUkM,GACfJ,EAAI41M,SAASx1M,EAAM3L,EAAMP,GACU,KAA/BkM,EAAKmM,aAAa,UACpBnM,EAAKwM,gBAAgB,SAdL,SAAU5M,EAAKI,GACb,SAAlBA,EAAK0B,UAAuD,IAAhC9B,EAAI2zM,WAAWvzM,GAAMvK,QACnDmK,EAAI2wB,OAAOvwB,GAAM,EAErB,CAYIghP,CAAgBphP,EAAKI,EACvB,CACF,EAEIihP,GAAehhO,GAAa,CAC9B,CAAE2jM,KAAM,IACR,CAAEjN,OAAQ,CAAC,SACX,CAAEzjF,QAAS,MAETguH,GAAc,qBACdC,GAAS9pP,GAAMsC,KACfynP,GAASryB,GAITsyB,GAAwB,SAAUzhP,EAAKI,EAAMiK,GAC/C,OAAOrK,EAAI23M,UAAUv3M,EAAMiK,IAAWjK,IAASiK,IAAWrK,EAAIowE,QAAQ/lE,EACxE,EACIi0F,GAAe,SAAUyiC,EAAIxvF,EAAKlyC,GACpC,IAAIiqB,EAAYioB,EAAIlyC,EAAQ,iBAAmB,gBAC3CwL,EAAS0mC,EAAIlyC,EAAQ,cAAgB,aACzC,GAAIqtL,GAAYpjK,GAAY,CAC1B,IAAIo4N,EAAUp4N,EAAUzoB,WAAWhL,OAAS,GACvCwJ,GAASwL,GACZA,IAEFye,EAAYA,EAAUzoB,WAAWgK,EAAS62O,EAAUA,EAAU72O,EAChE,CAOA,OANIuiL,GAAS9jK,IAAcjqB,GAASwL,GAAUye,EAAUqqB,UAAU99C,SAChEyzB,EAAY,IAAIopK,GAAcppK,EAAWy3G,EAAG/0H,WAAWw9B,QAAUlgB,GAE/D8jK,GAAS9jK,KAAejqB,GAAoB,IAAXwL,IACnCye,EAAY,IAAIopK,GAAcppK,EAAWy3G,EAAG/0H,WAAWwnI,QAAUlqH,GAE5DA,CACT,EACIq4N,GAA0B,SAAUvhP,EAAMf,GAC5C,IAAImY,EAAOnY,EAAQ,aAAe,YAClC,GA1BqB,SAAUe,GAC/B,MAAO,eAAe+C,KAAK/C,EAAK0B,SAClC,CAwBM8/O,CAAiBxhP,IAASA,EAAKoX,GAAO,CACxC,IAAIqqO,EAAYzhP,EAAKoX,GACrB,MAAsB,OAAlBpX,EAAK0B,UACA+/O,EAAUrqO,IAEVqqO,CAEX,CACA,OAAOzhP,CACT,EACIohB,GAAS,SAAUxhB,EAAKI,EAAM3L,EAAM4X,GACtC,IAAI6G,EAAUlT,EAAIqmI,OAAO5xI,EAAM4X,GAG/B,OAFAjM,EAAKkK,WAAW/W,aAAa2f,EAAS9S,GACtC8S,EAAQT,YAAYrS,GACb8S,CACT,EACI4uO,GAAmB,SAAU9hP,EAAKI,EAAMopC,EAAM/0C,EAAM4X,GACtD,IAAIhN,EAAQgB,GAAaF,QAAQC,GAC7B8S,EAAU7S,GAAaF,QAAQH,EAAIqmI,OAAO5xI,EAAM4X,IAChD2lN,EAAWxoL,EAAOoiJ,GAAavsL,GAASssL,GAAatsL,GASzD,OARA7L,GAAO0f,EAAS8+M,GACZxoL,GACFyiJ,GAAS5sL,EAAO6T,GAChByoD,GAAQzoD,EAAS7T,KAEjB6sL,GAAQ7sL,EAAO6T,GACfR,GAASQ,EAAS7T,IAEb6T,EAAQlT,GACjB,EAeIkoD,GAAO,SAAUloD,EAAKI,EAAMopC,EAAMqlL,GACpC,IAAI18M,EAAUy8M,GAAwBxuN,EAAMopC,EAAMqlL,GAClD,OAAOx5N,EAAW8c,IAAiC,OAArBA,EAAQrQ,UAAqB9B,EAAIowE,QAAQj+D,EACzE,EACIk+N,GAAa,SAAUtvG,EAAI3gI,EAAM4pF,GACnC,IACI+3J,EADAz3O,EAAalK,EAAKkK,WAElBtK,EAAM+gI,EAAG/gI,IAAKgiP,EAAkBv9B,GAAmB1jF,GACnD0C,GAAcz5C,KACXg4J,EAUC13O,IAAetK,EAAI2xE,YAChBqY,EAAOi4J,YAAeT,GAAOphP,EAAM4pF,EAAOi4J,aAC7Cv6D,EAAO/uL,GAAKyH,EAAKS,aAAa,SAAUT,GAClCyrF,GAAQk1C,EAAIihH,EAAiB5hP,EAAK0B,SAASC,eACxCggP,EAIHA,EAAatvO,YAAYrS,IAHzB2hP,EAAevgO,GAAOxhB,EAAKI,EAAM4hP,GACjChiP,EAAIs0M,WAAWytC,EAAchhH,EAAG5yD,SAAS+zK,0BAK3CH,EAAe,IAEnB,KAtBA/hP,EAAIowE,QAAQhwE,KAAUJ,EAAIowE,QAAQ9lE,KAC/B49C,GAAKloD,EAAKI,GAAM,IAAW8nD,GAAKloD,EAAKI,EAAKoS,YAAY,GAAM,IAC/DpS,EAAK7M,aAAayM,EAAIqmI,OAAO,MAAOjmI,EAAKoS,YAEtC01C,GAAKloD,EAAKI,GAAM,IAAU8nD,GAAKloD,EAAKI,EAAKyrL,WAAW,GAAO,IAC9DzrL,EAAKqS,YAAYzS,EAAIqmI,OAAO,SA/oLlB,SAAUr8C,GAC5B,OAAO05C,GAAiB15C,IAAWw5C,GAAex5C,IAAWvrF,GAAK2U,GAAM42E,EAAQ,UAAU,EAC5F,CAmqLMm4J,CAAcn4J,KAAYw3J,GAAOx3J,EAAO3L,OAAQj+E,IAGpDJ,EAAI2wB,OAAOvwB,GAAM,EACnB,EACIgiP,GAAuB,SAAUrhH,EAAI/2C,EAAQklI,EAAM9uN,EAAMiiP,GAC3D,IAAIC,EACAtiP,EAAM+gI,EAAG/gI,IACb,IA3Dc,SAAUA,EAAKI,EAAM4pF,GACnC,SAAIw5C,GAAex5C,KAAWw3J,GAAOphP,EAAM4pF,EAAO3L,aAG9ColD,GAAcz5C,KAAWw3J,GAAOphP,EAAM4pF,EAAO8qC,UAG7C4O,GAAiB15C,GACZ0iG,GAAYtsL,IAASJ,EAAI0I,GAAGtI,EAAM4pF,EAAOrhF,eADlD,EAGF,CAiDO45O,CAAUviP,EAAKI,EAAM4pF,KAhDC,SAAU5pF,EAAM4pF,GAC3C,OAAOA,EAAOw4J,OAA2B,MAAlBpiP,EAAK0B,QAC9B,CA8CwC2gP,CAAuBriP,EAAM4pF,GACjE,OAAOq3J,GAAar9B,OAEtB,IAAInzI,EAAMzwE,EACV,GAAIojI,GAAex5C,IAA6B,QAAlBA,EAAOr5D,QAAoB02J,EAAUr9F,EAAO04J,qBAAsB,CAC9F,IAAIC,EAAkBh7D,EAAS3nL,EAAI2zM,WAAW9iI,IAAM,SAAU9gD,GAC5D,OAAOy3J,EAAWx9F,EAAO04J,oBAAqB3yN,EAAKt7B,KAAKsN,cAC1D,IAKA,GAJA/B,EAAIg2M,iBAAiBnlI,GACrB62G,EAAOi7D,GAAiB,SAAU5yN,GAChC,OAAO/vB,EAAI4zM,UAAU/iI,EAAK9gD,EAAKt7B,KAAMs7B,EAAK77B,MAC5C,IACIyuP,EAAgB9sP,OAAS,EAC3B,OAAOwrP,GAAatqC,OAAO,OAE/B,CACA,GAAsB,QAAlB/sH,EAAOr5D,OAAkB,CAC3B4wN,GAAOv3J,EAAOv8D,QAAQ,SAAUv5B,EAAOO,GACrCP,EAAQm7N,GAAoBrvN,EAAKivN,GAAY/6N,EAAOg7N,GAAOz6N,EAAO,IAC9De,EAASf,KACXA,EAAOP,EACPmuP,EAAc,OAEZr4J,EAAO44J,iBAAoBP,GAAeb,GAAOzkK,GAAS/8E,EAAKqiP,EAAa5tP,GAAOP,KACrF8L,EAAI41M,SAAS/kI,EAAKp8E,EAAM,IAE1B6tP,GAAiB,CACnB,IACIA,GAAkD,KAAhCtiP,EAAIyzM,UAAU5iI,EAAK,WACvCA,EAAIjkE,gBAAgB,SACpBikE,EAAIjkE,gBAAgB,mBAEtB20O,GAAOv3J,EAAOx8D,YAAY,SAAUt5B,EAAOO,GACzC,IAAIouP,EAMJ,GALA3uP,EAAQ+6N,GAAY/6N,EAAOg7N,GACvB15N,EAASf,KACXA,EAAOP,EACPmuP,EAAc,MAEZr4J,EAAO44J,iBAAoBP,GAAeb,GAAOxhP,EAAIyzM,UAAU4uC,EAAa5tP,GAAOP,GAAS,CAC9F,GAAa,UAATO,IACFP,EAAQ8L,EAAIyzM,UAAU5iI,EAAKp8E,MAEzBouP,EAAW,GACXn7D,EAAOxzL,EAAMm4B,MAAM,QAAQ,SAAUwoL,GAC/B,WAAW1xM,KAAK0xM,KAClBguC,IAAaA,EAAW,IAAM,IAAMhuC,EAExC,IACIguC,GAEF,YADA7iP,EAAI4zM,UAAU/iI,EAAKp8E,EAAMouP,GAQ/B,GAHIvB,GAAYn+O,KAAK1O,IACnBo8E,EAAIjkE,gBAAgB,YAAcnY,GAEvB,UAATA,GAAoBk4L,GAAe,CAAC,MAAhBA,CAAuB97G,IAAiD,SAAzC7wE,EAAI+8E,SAASlM,EAAK,mBAGvE,OAFAA,EAAIjkE,gBAAgBnY,QACpBuL,EAAI41M,SAAS/kI,EAAK,kBAAmB,QAG1B,UAATp8E,GACFo8E,EAAIjkE,gBAAgB,aAEtBikE,EAAIjkE,gBAAgBnY,EACtB,CACF,IACA8sP,GAAOv3J,EAAOz8D,SAAS,SAAUr5B,GAC/BA,EAAQ+6N,GAAY/6N,EAAOg7N,GACtBmzB,IAAeriP,EAAIowM,SAASiyC,EAAanuP,IAC5C8L,EAAI2xJ,YAAY9gF,EAAK38E,EAEzB,IAEA,IADA,IAAImY,EAAQrM,EAAI2zM,WAAW9iI,GAClBl7E,EAAI,EAAGA,EAAI0W,EAAMxW,OAAQF,IAAK,CACrC,IAAIo3L,EAAW1gL,EAAM1W,GAAGmM,SACxB,GAA8B,IAA1BirL,EAASz0L,QAAQ,MAA4C,IAA9By0L,EAASz0L,QAAQ,SAClD,OAAO+oP,GAAar9B,MAExB,CACF,CACA,MAAsB,SAAlBh6H,EAAOr5D,QACT0/M,GAAWtvG,EAAIlwD,EAAKmZ,GACbq3J,GAAa/tH,WAEf+tH,GAAar9B,MACtB,EACI8+B,GAAiB,SAAU/hH,EAAI/2C,EAAQklI,EAAM9uN,EAAMiiP,GACrD,OAAOD,GAAqBrhH,EAAI/2C,EAAQklI,EAAM9uN,EAAMiiP,GAAalpP,KAAK9B,GAAO,SAAU0rP,GAErF,OADAhiH,EAAG/gI,IAAI+2M,OAAO32M,EAAM2iP,IACb,CACT,GAAGzrP,EACL,EAaI0rP,GAAwB,SAAUn1K,EAAQmc,EAAQklI,EAAM3lM,GAC1D,OAAO64N,GAAqBv0K,EAAQmc,EAAQklI,EAAM3lM,EAAOA,GAAOpwB,KAAKmqB,EAASiG,IAAQ,SAAUw5N,GAG9F,OAFel1K,EAAO7tE,IAAI21M,iBACjBljM,YAAY8W,GACdskD,EAAO7tE,IAAI+2M,OAAOxtL,EAAOw5N,EAClC,GAAGz/N,EAAS,MACd,EAqCIwN,GAAW,SAAUiwG,EAAItsI,EAAMy6N,EAAM9uN,EAAM88O,GAC7C,IAAIjsB,EAAalwF,EAAGiD,UAAU51H,IAAI3Z,GAC9Bu1F,EAASinI,EAAW,GACpB/qF,GAAkB,EAClBlmI,EAAM+gI,EAAG/gI,IACTsxC,EAAYyvF,EAAGzvF,UACf2xM,EAAoB,SAAU35N,GAChC,IAAI45N,EA9Da,SAAUr1K,EAAQvkD,EAAW70B,EAAMy6N,EAAMguB,GAC5D,IAAIgG,EASJ,OARAx7D,EAAO8nC,GAAa3hJ,EAAO7tE,IAAKspB,EAAUhf,YAAY9N,WAAW,SAAU6N,GACzE,IAAK64O,GAA4B,WAAd74O,EAAOxX,IAAiC,SAAdwX,EAAOxX,GAAe,CACjE,IAAIm3F,EAASmzJ,GAAUtvK,EAAQxjE,EAAQ5V,EAAMy6N,EAAMguB,GAC/ClzJ,IAA2B,IAAjBA,EAAO39D,QACnB62N,EAAa74O,EAEjB,CACF,IACO64O,CACT,CAmDqBC,CAAepiH,EAAIz3G,EAAW70B,EAAMy6N,EAAMguB,GAC3D,OA5Ce,SAAUrvK,EAAQojJ,EAAYiyB,EAAY55N,EAAWtlB,EAAQqoB,EAAO29D,EAAQklI,GAC7F,IAAI3lM,EAAO65N,EAAWC,EAClBrjP,EAAM6tE,EAAO7tE,IACjB,GAAIkjP,EAAY,CAEd,IADA,IAAII,EAAmBJ,EAAW54O,WACzBshK,EAAWtiJ,EAAUhf,WAAYshK,GAAYA,IAAa03E,EAAkB13E,EAAWA,EAASthK,WAAY,CACnHif,EAAQvpB,EAAIupB,MAAMqiJ,GAAU,GAC5B,IAAK,IAAIj2K,EAAI,EAAGA,EAAIs7N,EAAWp7N,QAEf,QADd0zB,EAAQy5N,GAAsBn1K,EAAQojJ,EAAWt7N,GAAIu5N,EAAM3lM,IADtB5zB,KAMnC4zB,IACE65N,GACF75N,EAAM9W,YAAY2wO,GAEfC,IACHA,EAAa95N,GAEf65N,EAAY75N,EAEhB,EACI8C,GAAW29D,EAAOu5J,OAAUvjP,EAAIowE,QAAQ8yK,KAC1C55N,EAAYtpB,EAAIqsB,MAAM62N,EAAY55N,IAEhC85N,IACFp/O,EAAOsG,WAAW/W,aAAa6vP,EAAWp/O,GAC1Cq/O,EAAW5wO,YAAYzO,GACnBw/H,GAAex5C,IACjB+2J,GAAc/gP,EAAKgqF,EAAQklI,EAAMk0B,GAGvC,CACA,OAAO95N,CACT,CASWk6N,CAAaziH,EAAIkwF,EAAYiyB,EAAY55N,EAAWA,GAAW,EAAM0gE,EAAQklI,EACtF,EAIIu0B,EAAmB,SAAUrjP,GAC/B,OAAOnG,EAAOg3N,GAAY,SAAU5tF,GAClC,OAAOy/G,GAAe/hH,EAAIsC,EAAK6rF,EAAM9uN,EAAMA,EAC7C,GACF,EACImY,EAAU,SAAUnY,GACtB,IAAIsjP,GAAsB,EACtB19G,GAA0B,EAC1B0mD,GAAYtsL,IAASJ,EAAIqwE,mBAAmBjwE,KAC9CsjP,EAAsBx9G,EACtBA,EAAmD,SAAjClmI,EAAIqwE,mBAAmBjwE,GACzC4lI,GAA0B,GAE5B,IAAIx7H,EAAW7R,GAAKyH,EAAKS,YACzB,GAAIqlI,IAAoBF,EAAyB,CAC/C,IACI29G,EADUF,EAAiBrjP,IACKnG,EAAOg3N,GAAY,SAAUh6N,GAC/D,OAAOmmP,GAAYp9O,EAAKI,EAAMnJ,EAChC,IACIqT,EAAalK,EAAKkK,YACjBq5O,GAAsBruP,EAAcgV,IAAe4lN,GAAuBlmI,IAC7Ey5J,EAAiBn5O,EAErB,CACA,GAAI0/E,EAAOorH,MACL5qM,EAAS3U,OAAQ,CACnB,IAAK,IAAIF,EAAI,EAAGA,EAAI6U,EAAS3U,OAAQF,IACnC4iB,EAAQ/N,EAAS7U,IAEfqwI,IACFE,EAAkBw9G,EAEtB,CAOFh8D,EALsB,CACpB,YACA,eACA,aAEsB,SAAU6nC,GAC5B7iC,GAAYtsL,IAAS2gI,EAAG/gI,IAAI+8E,SAAS38E,EAAM,qBAAuBmvN,GAAcnvN,EAAKkK,YAAcglN,GAAkBtvN,EAAKI,EAAKkK,cAAgBilN,GACjJuzB,GAAe/hH,EAAI,CACjBq0E,MAAM,EACNnkK,OAAO,EACPotC,OAAQ,OACR5wD,OAAQ,CAAEm2N,eAAgBr0B,IACzB,KAAMnvN,EAEb,GACF,EACI6S,EAAS,SAAU5T,GACrB,IAAIe,EAAOJ,EAAIoO,IAAI/O,EAAQ,SAAW,QAClC27G,EAAM56G,EAAKf,EAAQ,aAAe,aAQtC,OA/DyB,SAAUe,GACnC,OAAO+tN,GAAiB/tN,IAASssL,GAAYtsL,KAAsB,WAAZA,EAAKvN,IAA+B,SAAZuN,EAAKvN,GACtF,CAsDMgxP,CAAqB7oI,KACvBA,EAAMA,EAAI37G,EAAQ,aAAe,cAE/B+tL,GAASpyE,IAA4B,IAApBA,EAAIt0F,KAAK7wB,SAC5BmlH,EAAM37G,EAAQe,EAAKsrL,iBAAmBtrL,EAAKgS,YAAchS,EAAKgS,aAAehS,EAAKsrL,iBAEpF1rL,EAAI2wB,OAAOvwB,GAAM,GACV46G,CACT,EACI8oI,EAAiB,SAAUvyM,GAC7B,IAAIC,EAAgBuB,EAChBmsM,EAAcztB,GAAU1wF,EAAIxvF,EAAK0/K,EAAY1/K,EAAI6B,WACrD,GAAI42C,EAAO39D,MAAO,CAIhB,GAHA6yN,EAAc7yN,GAAM6yN,IACpB1tM,EAAiB8sD,GAAayiC,EAAIm+G,GAAa,OAC/CnsM,EAAeurD,GAAayiC,EAAIm+G,IACK,CAGnC,GAFA1tM,EAAiBmwM,GAAwBnwM,GAAgB,GACzDuB,EAAe4uM,GAAwB5uM,GAAc,GACjD0uM,GAAsBzhP,EAAKwxC,EAAgBuB,GAAe,CAC5D,IAAI9gC,EAASvX,EAAS/B,KAAK64C,EAAeh/B,YAAYjZ,MAAMi4C,GAM5D,OALAyxM,EAAkBnB,GAAiB9hP,EAAKiS,GAAQ,EAAM,OAAQ,CAC5D,GAAM,SACN,gBAAiB,mBAEnBgB,GAAO,EAET,CACA,GAAIwuO,GAAsBzhP,EAAK+yC,EAAcvB,GAAiB,CACxDv/B,EAASvX,EAAS/B,KAAKo6C,EAAa84I,WAAWtyL,MAAMw5C,GAMzD,OALAkwM,EAAkBnB,GAAiB9hP,EAAKiS,GAAQ,EAAO,OAAQ,CAC7D,GAAM,OACN,gBAAiB,mBAEnBgB,GAAO,EAET,CACAu+B,EAAiBhwB,GAAOxhB,EAAKwxC,EAAgB,OAAQ,CACnD,GAAM,SACN,gBAAiB,aAEnBuB,EAAevxB,GAAOxhB,EAAK+yC,EAAc,OAAQ,CAC/C,GAAM,OACN,gBAAiB,aAEnB,IAAIwtK,EAASvgN,EAAImyE,YACjBouI,EAAOluK,cAAcb,GACrB+uK,EAAOjuK,aAAaS,GACpB4+K,GAAO3xN,EAAKugN,GAAQ,SAAUxyB,GAC5BrG,EAAOqG,GAAO,SAAUh2L,GACjBo2N,GAAiBp2N,IAAOo2N,GAAiBp2N,EAAEuS,aAC9C24O,EAAkBlrP,EAEtB,GACF,IACAkrP,EAAkBzxM,GAClByxM,EAAkBlwM,GAClBvB,EAAiBv+B,GAAO,GACxB8/B,EAAe9/B,GACjB,MACEu+B,EAAiBuB,EAAekwM,EAAkBzxM,GAEpD0tM,EAAY1tM,eAAiBA,EAAelnC,WAAaknC,EAAelnC,WAAaknC,EACrF0tM,EAAYpsM,YAAc9yC,EAAIytM,UAAUj8J,GACxC0tM,EAAYnsM,aAAeA,EAAazoC,WAAayoC,EAAazoC,WAAayoC,EAC/EmsM,EAAYlsM,UAAYhzC,EAAIytM,UAAU16J,GAAgB,CACxD,CACA4+K,GAAO3xN,EAAKk/O,GAAa,SAAUnxD,GACjCrG,EAAOqG,EAAOx1K,EAChB,GACF,EACA,GAAInY,EAAJ,CACE,GAAIouN,GAAOpuN,GAAO,CAChB,IAAImxC,EAAMvxC,EAAImyE,YACd5gC,EAAIY,eAAe/xC,GACnBmxC,EAAIiB,YAAYpyC,GAChB0jP,EAAevyM,EACjB,MACEuyM,EAAe1jP,GAEjBm1N,GAAiBx0F,EAAItsI,EAAM2L,EAAM8uN,EAEnC,MACA,GAAoD,UAAhDlvN,EAAIqwE,mBAAmB/+B,EAAUm/B,WAYhCn/B,EAAUukG,eAAkBrS,GAAex5C,KAAW0oI,GAAmB3xF,GAAIlrI,OAShFmpP,GAAkBj+G,EAAItsI,EAAMy6N,EAAMguB,IARlC9yK,GAAS94B,GAAW,GAAM,WACxB8hL,GAAYryF,EAAI+iH,EAClB,IACItgH,GAAex5C,IAAWyzJ,GAAQ18G,EAAItsI,EAAMy6N,EAAM59K,EAAUQ,aAC9D28K,GAAUzuN,EAAKsxC,EAAWA,EAAUmiC,UAEtCstD,EAAGwxB,eAILgjE,GAAiBx0F,EAAItsI,EAAM2L,EAAM8uN,OAvBjC,CACE9uN,EAAOkxC,EAAUm/B,UACjB,IAAK,IAAI96E,EAAI,EAAGA,EAAIs7N,EAAWp7N,UACzBo7N,EAAWt7N,GAAGouP,kBACZjB,GAAe/hH,EAAIkwF,EAAWt7N,GAAIu5N,EAAM9uN,EAAMA,IAFfzK,KAOvC4/N,GAAiBx0F,EAAItsI,EAAM2L,EAAM8uN,EAEnC,CAaF,EAEI80B,GAASvsP,GAAMsC,KA4BfkqP,GAAoB,SAAUp2K,EAAQojJ,EAAY/B,EAAM9uN,GAC1D4jP,GAAO/yB,GAAY,SAAUjnI,GACvBw5C,GAAex5C,IACjBg6J,GAAOn2K,EAAO7tE,IAAIgrF,OAAOhB,EAAO3L,OAAQj+E,IAAO,SAAUo0B,GAClDksN,GAAgBlsN,IAGrBsuN,GAAej1K,EAAQmc,EAAQklI,EAAM16L,EAAOw1D,EAAO/4C,MAAQzc,EAAQ,KACrE,IAhhBiB,SAAUx0B,EAAKgqF,EAAQ5pF,GAC5C,GAAI4pF,EAAOk6J,mBAAoB,CAC7B,IAAIv7O,EAAWqhF,EAAOw4J,MAAQ,WAAa,IAC3C/B,GAAOzgP,EAAIgrF,OAAOriF,EAAUvI,IAAO,SAAUA,GACvCsgP,GAAgBtgP,IAClBqgP,GAAOz2J,EAAOv8D,QAAQ,SAAUv5B,EAAOO,GACrCuL,EAAI41M,SAASx1M,EAAM3L,EAAM,GAC3B,GAEJ,GACF,CACF,CAugBI0vP,CAAiBt2K,EAAO7tE,IAAKgqF,EAAQ5pF,EACvC,GACF,EAiBIgkP,GAAS3sP,GAAMsC,KACfsqP,GAAgB,SAAUjkP,GAC5B,OAAOssL,GAAYtsL,KAAU+tN,GAAiB/tN,KAAUssN,GAAYtsN,KAAU4sL,GAAU5sL,EAC1F,EAsBIkkP,GAAgB,SAAUvjH,EAAItsI,EAAMy6N,EAAM9uN,GAC5C,IAAI6wN,EAAalwF,EAAGiD,UAAU51H,IAAI3Z,GAC9Bu1F,EAASinI,EAAW,GACpBp7E,GAAez1I,GAAQ2gI,EAAGzvF,UAAUukG,cACpC71I,EAAM+gI,EAAG/gI,IACTsxC,EAAYyvF,EAAGzvF,UACfizM,EAAmB,SAAU1zK,EAAKwyD,GAUpC,QATY,IAARA,IACFA,EAAMr5C,GAEJz0F,EAAW8tI,EAAImhH,WACjBnhH,EAAImhH,SAAS3zK,EAAKwyD,EAAK6rF,EAAM9uN,GAE/BgkP,GAAO/gH,EAAI51G,QAAQ,SAAUv5B,EAAOO,GAClCuL,EAAI41M,SAAS/kI,EAAKp8E,EAAMw6N,GAAY/6N,EAAOg7N,GAC7C,IACI7rF,EAAI51G,OAAQ,CACd,IAAIg3N,EAAWzkP,EAAIyzM,UAAU5iI,EAAK,SAC9B4zK,GACFzkP,EAAI4zM,UAAU/iI,EAAK,iBAAkB4zK,EAEzC,CACAL,GAAO/gH,EAAI71G,YAAY,SAAUt5B,EAAOO,GACtCuL,EAAI4zM,UAAU/iI,EAAKp8E,EAAMw6N,GAAY/6N,EAAOg7N,GAC9C,IACAk1B,GAAO/gH,EAAI91G,SAAS,SAAUr5B,GAC5BA,EAAQ+6N,GAAY/6N,EAAOg7N,GACtBlvN,EAAIowM,SAASv/H,EAAK38E,IACrB8L,EAAI0xJ,SAAS7gF,EAAK38E,EAEtB,GACF,EACIwwP,EAAiB,SAAUzzB,EAAY7wN,GACzC,IAAIukP,GAAQ,EAcZ,OAbAP,GAAOnzB,GAAY,SAAUjnI,GAC3B,QAAK05C,GAAiB15C,KAGlB10F,EAAc00F,EAAO52C,YAAc42C,EAAO52C,YAAcyiG,OAA5D,EAGI71I,EAAI0I,GAAGtI,EAAM4pF,EAAOrhF,YAAc+jN,GAAYtsN,IAChDmkP,EAAiBnkP,EAAM4pF,GACvB26J,GAAQ,GACD,QAHT,EAKF,IACOA,CACT,EACIC,EAAoB,SAAUnxB,GAChC,GAAIrsC,EAAWqsC,GAAW,CACxB,IAAIoxB,EAAU7kP,EAAIqmI,OAAOotF,GAEzB,OADA8wB,EAAiBM,GACVA,CACT,CACE,OAAO,IAEX,EACIC,EAAgB,SAAU9kP,EAAKuxC,EAAKwzM,GACtC,IAAI9wB,EAAc,GACd/tF,GAAkB,EAClButF,EAAWzpI,EAAO3L,QAAU2L,EAAO8qC,MACnC+vH,EAAUD,EAAkBnxB,GAChC9B,GAAO3xN,EAAKuxC,GAAK,SAAUw8I,GACzB,IAAIi3D,EACAzsO,EAAU,SAAUnY,GACtB,IAAI4lI,GAA0B,EAC1B09G,EAAsBx9G,EACtBpkI,EAAW1B,EAAK0B,SAASC,cACzBuI,EAAalK,EAAKkK,WAClB26O,EAAa36O,EAAWxI,SAASC,cAMrC,GALI2qL,GAAYtsL,IAASJ,EAAIqwE,mBAAmBjwE,KAC9CsjP,EAAsBx9G,EACtBA,EAAmD,SAAjClmI,EAAIqwE,mBAAmBjwE,GACzC4lI,GAA0B,GAExBunD,GAAOntL,KAjGD,SAAUytE,EAAQmc,EAAQ5pF,EAAM6kP,GAChD,GAjrOwB,SAAUp3K,GAClC,OAAOA,EAAO8O,SAAS,sBAAsB,EAAO,UACtD,CA+qOMuoK,CAAoBr3K,IAAW21D,GAAex5C,GAAS,CACzD,IAAIm7J,EAAwBxtP,GAASA,GAAS,CAAC,EAAGk2E,EAAO3xD,OAAO2jL,wBAAyB,CACvF12B,GAAI,CAAC,EACL21B,GAAI,CAAC,EACLD,GAAI,CAAC,EACLD,GAAI,CAAC,EACLD,GAAI,CAAC,EACLymD,WAAY,CAAC,EACbl3D,QAAS,CAAC,EACV/hG,QAAS,CAAC,EACVk5J,QAAS,CAAC,IAERC,EAAsBnzO,GAAQ9R,GAAaF,QAAQC,IAAO,SAAU+R,GACtE,OAAOu6M,GAAYv6M,EAAQnS,IAC7B,IACA,OAAOxB,GAAkB2mP,EAAuBF,IAAetuD,GAAUt2L,GAAaF,QAAQC,EAAKkK,aAAa,KAAWg7O,CAC7H,CACE,OAAO,CAEX,CA6E6BC,CAAYxkH,EAAI/2C,EAAQ5pF,EAAM6kP,GAKjD,OAJAD,EAAiB,UACbvhH,GAAcz5C,IAChBhqF,EAAI2wB,OAAOvwB,IAIf,GAAIqjI,GAAcz5C,IAAWA,EAAO92E,SAAWiqO,GAAUp8G,EAAI3gI,EAAM3L,EAAMy6N,GACvE81B,EAAiB,SADnB,CAIA,GAAI9+G,IAAoBF,GAA2BvC,GAAcz5C,KAAYA,EAAO92E,SAAW67M,GAAchuF,EAAIj/H,IAAa+pF,GAAQk1C,EAAIkkH,EAAYxxB,GAAW,CAC/J,IAAI5iJ,EAAM7wE,EAAI+2M,OAAO32M,EAAMqzN,GAI3B,OAHA8wB,EAAiB1zK,GACjBojJ,EAAYthO,KAAKk+E,QACjBm0K,EAAiB,KAEnB,CACA,GAAIthH,GAAiB15C,GAAS,CAC5B,IAAI26J,EAAQD,EAAezzB,EAAY7wN,GAIvC,IAHKukP,GAASrvP,EAAcgV,IAAe4lN,GAAuBlmI,KAChE26J,EAAQD,EAAezzB,EAAY3mN,KAEhCk5H,GAAex5C,IAAW26J,EAE7B,YADAK,EAAiB,KAGrB,EACI9+G,GAAoBF,IAA2Bn6C,GAAQk1C,EAAI0yF,EAAU3xN,KAAa+pF,GAAQk1C,EAAIkkH,EAAYxxB,KAAgBsxB,GAAgB33D,GAAShtL,IAASyzL,GAAOzzL,EAAKsmB,OAAWgmM,GAAYtsN,IAAWojI,GAAex5C,IAAYhqF,EAAIowE,QAAQhwE,IAQnP4kP,EAAiB,KACjBt9D,EAAO/uL,GAAKyH,EAAKS,YAAa0X,GAC1BytH,IACFE,EAAkBw9G,GAEpBsB,EAAiB,OAZZA,IACHA,EAAiBhlP,EAAIupB,MAAMs7N,GAAS,GACpCzkP,EAAKkK,WAAW/W,aAAayxP,EAAgB5kP,GAC7C6zN,EAAYthO,KAAKqyP,IAEnBA,EAAevyO,YAAYrS,GAxB7B,CAiCF,EACAsnL,EAAOqG,EAAOx1K,EAChB,KACqB,IAAjByxE,EAAOw4J,OACT96D,EAAOusC,GAAa,SAAU7zN,GAC5B,IAAImY,EAAU,SAAUnY,GACA,MAAlBA,EAAK0B,UACPyiP,EAAiBnkP,EAAM4pF,GAEzB09F,EAAO/uL,GAAKyH,EAAKS,YAAa0X,EAChC,EACAA,EAAQnY,EACV,IAEFsnL,EAAOusC,GAAa,SAAU7zN,GAC5B,IAqBIolP,EArBgB,SAAUplP,GAC5B,IAAIsgB,EAAQ,EAMZ,OALAgnK,EAAOtnL,EAAKS,YAAY,SAAUT,IA5yMlB,SAAUA,GAChC,OAAO9K,EAAc8K,IAASgtL,GAAShtL,IAAyB,IAAhBA,EAAKvK,MACvD,EA2yMe4vP,CAAkBrlP,IAAU+tN,GAAiB/tN,IAChDsgB,GAEJ,IACOA,CACT,CAaiBglO,CAActlP,KAC1B6zN,EAAYp+N,OAAS,IAAMmK,EAAIowE,QAAQhwE,IAAyB,IAAfolP,GAIlDhiH,GAAex5C,IAAWy5C,GAAcz5C,IAAWA,EAAO92E,WACvD82E,EAAO/4C,OAAwB,IAAfu0M,IACnBplP,EAnBc,SAAUA,GAC1B,IAAIulP,EAAepiP,EAAOnD,EAAKS,WAAYwjP,IAAelqP,QAAO,SAAUq6B,GACzE,OAAO4oN,GAAYp9O,EAAKw0B,EAAOw1D,EACjC,IACA,OAAO27J,EAAa7rP,KAAI,SAAU06B,GAChC,IAAIjL,EAAQvpB,EAAIupB,MAAMiL,GAAO,GAI7B,OAHA+vN,EAAiBh7N,GACjBvpB,EAAIJ,QAAQ2pB,EAAOnpB,GAAM,GACzBJ,EAAI2wB,OAAO6D,GAAO,GACXjL,CACT,IAAGhwB,MAAM6G,EACX,CAQWwlP,CAAYxlP,IAErB6jP,GAAkBljH,EAAIkwF,EAAY/B,EAAM9uN,GA7MzB,SAAUytE,EAAQmc,EAAQv1F,EAAMy6N,EAAM9uN,GACvD+8O,GAAUtvK,EAAQztE,EAAKkK,WAAY7V,EAAMy6N,IACvC4zB,GAAej1K,EAAQmc,EAAQklI,EAAM9uN,IAIvC4pF,EAAO67J,oBACTh4K,EAAO7tE,IAAI0xE,UAAUtxE,EAAKkK,YAAY,SAAUD,GAC9C,GAAI8yO,GAAUtvK,EAAQxjE,EAAQ5V,EAAMy6N,GAElC,OADA4zB,GAAej1K,EAAQmc,EAAQklI,EAAM9uN,IAC9B,CAEX,GAEJ,CAgMQ0lP,CAAiB/kH,EAAI/2C,EAAQv1F,EAAMy6N,EAAM9uN,GAtOX,SAAUJ,EAAKgqF,EAAQklI,EAAM9uN,GAC7D4pF,EAAOv8D,QAAUu8D,EAAOv8D,OAAOs4N,iBACjC9E,GAAqB7gP,EAAM8gP,GAASlhP,EAAK,YAAamhP,GAAWnhP,EAAK,kBAAmBivN,GAAYjlI,EAAOv8D,OAAOs4N,gBAAiB72B,IAExI,CAmOQ82B,CAAgChmP,EAAKgqF,EAAQklI,EAAM9uN,GAvPxB,SAAUJ,EAAKgqF,EAAQklI,EAAM9uN,GAC9D,IAAI6lP,EAAiC,SAAUluP,GAC7C,GAAmB,IAAfA,EAAEkK,UAAkBlK,EAAEuS,YAAwC,IAA1BvS,EAAEuS,WAAWrI,SAAgB,CACnE,IAAI2hP,EAAiBt0B,GAAkBtvN,EAAKjI,EAAEuS,YAC1CtK,EAAI+8E,SAAShlF,EAAG,UAAY6rP,EAC9B5jP,EAAI41M,SAAS79M,EAAG,kBAAmB6rP,GAC1B5jP,EAAI+8E,SAAShlF,EAAG,qBAAuB6rP,GAChD5jP,EAAI41M,SAAS79M,EAAG,kBAAmB,KAEvC,CACF,EACIiyF,EAAOv8D,SAAWu8D,EAAOv8D,OAAOqpD,OAASkT,EAAOv8D,OAAOm2N,kBACzDnsP,GAAMuzL,KAAK5qL,EAAM6lP,EAAgC,cACjDA,EAA+B7lP,GAEnC,CAyOQ8lP,CAA6BlmP,EAAKgqF,EAAQklI,EAAM9uN,GAnOtC,SAAUJ,EAAKgqF,EAAQklI,EAAM9uN,IACzCojI,GAAex5C,IAA8B,QAAlBA,EAAO3L,QAAsC,QAAlB2L,EAAO3L,SAC/D4iK,GAAqB7gP,EAAM8gP,GAASlhP,EAAK,YAAamhP,GAAWnhP,EAAK,WAAY,KAClFA,EAAI2wB,OAAO3wB,EAAIgrF,OAAyB,QAAlBhB,EAAO3L,OAAmB,MAAQ,MAAOj+E,IAAO,GAE1E,CA+NQ+lP,CAAYnmP,EAAKgqF,EAAQklI,EAAM9uN,GAC/B2gP,GAAc/gP,EAAKgqF,EAAQklI,EAAM9uN,IAZjCJ,EAAI2wB,OAAOvwB,GAAM,EAcrB,GACF,EACA,GAAoD,UAAhDJ,EAAIqwE,mBAAmB/+B,EAAUm/B,WAArC,CAYA,GAAIuZ,EAAQ,CACV,GAAI5pF,EACF,GAAIouN,GAAOpuN,IACT,IAAKskP,EAAezzB,EAAY7wN,GAAO,CACrC,IAAImxC,EAAMvxC,EAAImyE,YACd5gC,EAAIY,eAAe/xC,GACnBmxC,EAAIiB,YAAYpyC,GAChB0kP,EAAc9kP,EAAKyxN,GAAU1wF,EAAIxvF,EAAK0/K,IAAa,EACrD,OAEA6zB,EAAc9kP,EAAKI,GAAM,QAG3B,GAAKy1I,GAAgBrS,GAAex5C,KAAW0oI,GAAmB3xF,GAAIlrI,QA97BrD,SAAUg4E,EAAQp5E,EAAMy6N,GAC7C,IAAIl6B,EAAgB+yB,EAChBz2K,EAAYu8B,EAAOv8B,UACnBqjL,EAAerjL,EAAUmiC,SACzB5oE,EAAS8pN,EAAa7hL,YAEtB3xC,EADYwzN,EAAanjL,eACRmC,WACrBqhJ,EAAiB23B,GAAwB9+I,EAAO7hE,UAAWslC,EAAUQ,eAEnEi2K,EAAWs2B,GAAkBrpD,IAE/B,IAnJyBhrL,EAAe5J,EAmJpCgmP,EAAgB,gCACpB,GAAIjlP,GAAQ0J,EAAS,GAAKA,EAAS1J,EAAKtL,QAAUuwP,EAAcjjP,KAAKhC,EAAK0wE,OAAOhnE,KAAYu7O,EAAcjjP,KAAKhC,EAAK0wE,OAAOhnE,EAAS,IAAK,CACxI,IAAIy4M,EAAWhyK,EAAU2jL,cACzBN,EAAajxJ,UAAS,GACtB,IAAInyB,EAAMkgL,GAAU5jJ,EAAQ8mJ,EAAc9mJ,EAAOm2D,UAAU51H,IAAI3Z,IAC/D88C,EAAMllB,GAAMklB,GACZs8B,EAAOm2D,UAAU3tI,MAAM5B,EAAMy6N,EAAM39K,GACnCD,EAAUyyK,eAAeT,EAC3B,MACOtuB,GAAkB+yB,EAASp0K,YAAcsqM,KA5JvBj0O,EA6JO6jE,EAAO6C,SA7JCtwE,EA6JSk+O,IAAqB,GAAMt+O,IACxE+nN,GADA/yB,EA5JGhrL,EAAcq8O,WAAWjmP,GAAM,IA6JRoS,WAC1BmiN,EAAa/jJ,WAAWokH,GACxBnqL,EAAS,GAGTgjE,EAAOm2D,UAAU3tI,MAAM5B,EAAMy6N,EAAMl6B,GAErC1jJ,EAAU0/B,kBAAkB+2I,EAAUl9M,EAE1C,CA+6BQy7O,CAAiBvlH,EAAItsI,EAAMy6N,OAhBiD,CAC5E,IAAIq3B,EAAaj1M,EAAUm/B,UACvB+1K,EAAcv1B,EAAW,GACxBlwF,EAAG5yD,SAASs4K,oBAAqBD,EAAYE,cAAiB1mP,EAAI0xE,UAAU60K,EAAYvmP,EAAIowE,UAC/Fk0K,GAAcvjH,EAAIylH,EAAYE,cAEhCp1M,EAAUyuH,OAAOjvF,GAAUx/B,EAAUmiC,WACrCrJ,GAAS94B,GAAW,GAAM,WACxB8hL,GAAYryF,GAAI,SAAU4zF,EAAcgyB,GACtC,IAAIzH,EAAcyH,EAAOhyB,EAAelD,GAAU1wF,EAAI4zF,EAAc1D,GACpE6zB,EAAc9kP,EAAKk/O,GAAa,EAClC,GACF,IACAzwB,GAAUzuN,EAAKsxC,EAAWA,EAAUmiC,UACpCstD,EAAGwxB,aACL,EAp1Bc,SAAU99J,EAAMo5E,GAClCoyK,GAAOD,GAAiBvrP,IAAO,SAAU28M,GACvCA,EAAKvjI,EACP,GACF,CAo1BI+4K,CAAcnyP,EAAMssI,EACtB,CACAu0F,GAAgBv0F,EAAItsI,EAAM2L,EAAM8uN,EAnChC,KAXA,CACE9uN,EAAOkxC,EAAUm/B,UACjB,IAAK,IAAI96E,EAAI,EAAGmD,EAAIm4N,EAAWp7N,OAAQF,EAAImD,EAAGnD,IAAK,CACjD,IAAIkxP,EAAa51B,EAAWt7N,GAC5B,GAAIkxP,EAAW9C,iBAAmBrgH,GAAiBmjH,IAAe7mP,EAAI0I,GAAGtI,EAAMymP,EAAWl+O,UAAW,CACnG47O,EAAiBnkP,EAAMymP,GACvB,KACF,CACF,CACAvxB,GAAgBv0F,EAAItsI,EAAM2L,EAAM8uN,EAElC,CAoCF,EAEI43B,GAAU,SAAU5yP,GACtB,OAAOqK,GAAMrK,EAAO,OACtB,EAiBI6yP,GAAkB,SAAUl5K,GAC9B,OAAOA,EAAOv8B,UAAUQ,UAC1B,EACIk1M,GAAe,SAAUn5K,EAAQ89F,EAAS3hF,EAAQkzJ,EAAShuB,GAgB7D,OAAOtnC,EAAYjc,GAfE,SAAUvrK,GAC7B,IAAI6mP,EAAiBp5K,EAAOm2D,UAAUm5G,UAAU/8O,EAAM4pF,EAAQklI,QAAmCA,EAAO,CAAC,EAAGguB,GAC5G,OAAQ9nP,EAAY6xP,EACtB,IACsB,SAAU7mP,GAC9B,QAAI28O,GAAiClvK,EAAQztE,EAAM4pF,KAG5CkzJ,GACI5nP,EAAcu4E,EAAOm2D,UAAUm5G,UAAU/8O,EAAM4pF,EAAQklI,GAAM,GAK1E,GAEF,EACIhkI,GAAa,SAAUrd,EAAQgD,GACjC,IAAIhvE,EAAUgvE,QAAiCA,EAAMk2K,GAAgBl5K,GACrE,OAAO85G,EAAS6nC,GAAa3hJ,EAAO7tE,IAAK6B,IAAU,SAAUzB,GAC3D,OAAOssL,GAAYtsL,KAAU4sL,GAAU5sL,EACzC,GACF,EACI8mP,GAA+B,SAAUr5K,EAAQgD,EAAKs2K,GACxD,IAAIx7E,EAAUzgF,GAAWrd,EAAQgD,GACjCk3G,GAAOo/D,GAAqB,SAAUzgO,EAAMsjE,GAC1C,IAAIo9J,EAAe,SAAUl6N,GAC3B,IAAI5jB,EAAQ09O,GAAan5K,EAAQ89F,EAAS3hF,EAAQ98D,EAAKgwN,QAAS4J,GAAQ55N,GAAQA,EAAKgiM,UAAOv7N,GACxFyyC,EAAQ98B,EAAMjQ,SAClB,GAAI6zB,EAAKsE,MAAMpjB,QAAUg4B,EAAO,CAC9BlZ,EAAKsE,MAAM9iB,IAAI03B,GACf,IAAIihN,EAAS/9O,EAAM/P,MAAMs3E,GACrBi2K,GAAQ55N,GACVA,EAAKs9D,SAASpkD,EAAO,CACnBhmC,KAAMinP,EACNr9J,OAAQA,EACR2hF,QAASA,IAGX+b,EAAOx6J,EAAK8vE,WAAW,SAAUxS,GAC/B,OAAOA,EAASpkD,EAAO,CACrBhmC,KAAMinP,EACNr9J,OAAQA,EACR2hF,QAASA,GAEb,GAEJ,CACF,EACA+b,EAAO,CACLhhK,EAAK4gO,YACL5gO,EAAK6gO,gBACJH,GACH1/D,EAAOhhK,EAAK8gO,SAAUJ,EACxB,GACF,EAiEIK,GAAwB,SAAU55K,EAAQ65K,EAA2BnkH,EAAS/4C,EAAU0yJ,EAAShuB,GAKnG,OAJwC,OAApCw4B,EAA0Bt5O,OA7IlB,SAAUs5O,EAA2B75K,GACjD65K,EAA0Bh5O,IAAI,CAAC,GAC/Bm/D,EAAOloC,GAAG,cAAc,SAAUttC,GAChC6uP,GAA6Br5K,EAAQx1E,EAAEwJ,QAAS6lP,EAA0Bt5O,MAC5E,IACAy/D,EAAOloC,GAAG,4BAA4B,SAAUttC,GAC9C,IAAIwJ,EAAUnH,EAAS/B,KAAKN,EAAE+H,MAAMtG,KAAI,SAAU6tP,GAChD,OAAOn5B,GAAOm5B,GAAeA,EAAcA,EAAYn2M,cACzD,IAAGx3C,MAAK,SAAUoG,GAChB,OAAOssL,GAAYtsL,GAAQ1F,EAASJ,KAAK8F,GAAQ1F,EAAS/B,KAAKyH,EAAK85N,cACtE,IAAG1gO,YAAW,WACZ,OAAOutP,GAAgBl5K,EACzB,IACAq5K,GAA6Br5K,EAAQhsE,EAAS6lP,EAA0Bt5O,MAC1E,GACF,CA+HIw5O,CAAQF,EAA2B75K,GAlEpB,SAAUA,EAAQ65K,EAA2BnkH,EAAS/4C,EAAU0yJ,EAAShuB,GAC1F,IAAI24B,EAAoBH,EAA0Bt5O,MAClDs5K,EAAOnkD,EAAQl3G,MAAM,MAAM,SAAU29D,GACnC,IAAI3mF,EAAQ+P,GAAMy0O,EAAmB79J,GAAQxwF,YAAW,WACtD,IAAIwoB,EAAO,CACTslO,YAAa,CACX91N,MAAOrR,IAAK,GACZ+8N,SAAS,EACTlgJ,UAAW,IAEbuqJ,eAAgB,CACd/1N,MAAOrR,IAAK,GACZ+8N,SAAS,EACTlgJ,UAAW,IAEbwqJ,SAAU,IAGZ,OADAK,EAAkB79J,GAAUhoE,EACrBA,CACT,IACI+lC,EAAa,WACf,IAAI4jH,EAAUzgF,GAAWrd,GACzB,OAAOm5K,GAAan5K,EAAQ89F,EAAS3hF,EAAQkzJ,EAAShuB,GAAM71N,QAC9D,EACA,GAAIjE,EAAY85N,GAAO,CACrB,IAAI44B,EAAa5K,EAAU75O,EAAMikP,YAAcjkP,EAAMkkP,eACrDO,EAAW9qJ,UAAUrqG,KAAK63F,GACU,IAAhCs9J,EAAW9qJ,UAAUnnG,QACvBiyP,EAAWt2N,MAAM9iB,IAAIq5C,IAEzB,MACE1kD,EAAMmkP,SAAS70P,KAAK,CAClB6+B,MAAOrR,GAAK4nC,KACZm1L,QAASA,EACThuB,KAAMA,EACN1kI,SAAUA,GAGhB,IACAk9J,EAA0Bh5O,IAAIm5O,EAChC,CA4BEE,CAAal6K,EAAQ65K,EAA2BnkH,EAAS/4C,EAAU0yJ,EAAShuB,GACrE,CACLp9M,OAAQ,WACN,OA9BgB,SAAU41O,EAA2BnkH,EAAS/4C,GAClE,IAAIq9J,EAAoBH,EAA0Bt5O,MAClDs5K,EAAOnkD,EAAQl3G,MAAM,MAAM,SAAU29D,GACnC,OAAO52E,GAAMy0O,EAAmB79J,GAAQjwF,MAAK,SAAUsJ,GACrDwkP,EAAkB79J,GAAU,CAC1Bs9J,YAAa3vP,GAASA,GAAS,CAAC,EAAG0L,EAAMikP,aAAc,CACrDtqJ,UAAW2qF,EAAStkL,EAAMikP,YAAYtqJ,WAAW,SAAUvB,GACzD,OAAOA,IAAOjR,CAChB,MAEF+8J,eAAgB5vP,GAASA,GAAS,CAAC,EAAG0L,EAAMkkP,gBAAiB,CAC3DvqJ,UAAW2qF,EAAStkL,EAAMkkP,eAAevqJ,WAAW,SAAUvB,GAC5D,OAAOA,IAAOjR,CAChB,MAEFg9J,SAAU7/D,EAAStkL,EAAMmkP,UAAU,SAAU35O,GAC3C,OAAOA,EAAK28E,WAAaA,CAC3B,IAEJ,GACF,IACAk9J,EAA0Bh5O,IAAIm5O,EAChC,CAQa1uI,CAAgBuuI,EAA2BnkH,EAAS/4C,EAC7D,EAEJ,EAWIw9J,GAAe,SAAUr1O,EAAUnS,GACrC,IACIqoB,GADMroB,GAASpN,UACA01B,yBAInB,OAHA4+J,EAAO/0K,GAAU,SAAU9Q,GACzBgnB,EAASpW,YAAY5Q,EAAQ7B,IAC/B,IACOK,GAAaF,QAAQ0oB,EAC9B,EAEIo/N,GAAa,SAAUpmP,EAAS2R,EAAOglD,GACzC,MAAO,CACL32D,QAASA,EACT2R,MAAOA,EACPglD,KAAMA,EAEV,EACI0vL,GAAW,SAAUrmP,EAASqsF,GAChC,MAAO,CACLrsF,QAASA,EACTqsF,MAAOA,EAEX,EACIi6J,GAAe,SAAUh0P,EAAGoN,GAC9B,MAAO,CACLpN,EAAGA,EACHoN,EAAGA,EAEP,EACI6mP,GAAU,SAAUj/E,EAAI7qK,GAC1B,IAAIpK,EAAQkT,SAASqpB,GAAM04I,EAAI7qK,GAAM,IACrC,OAAOmQ,MAAMva,GAAS,EAAIA,CAC5B,EAeIm0P,GAAa,SAAUnnH,EAAO/sI,EAAGoN,GACnC,IAAIi3D,EAAO0oE,EAAM1oE,KAEjB,SADYA,EAAKj3D,GAAKi3D,EAAKj3D,GAAG2sF,MAAQ,IACvB/5F,EACjB,EAOI27J,GAAW,SAAUt3F,GACvB,OAAOv8D,EAAMu8D,GAAM,SAAUz8D,EAAK23D,GAChC,OAAOA,EAAIw6B,MAAMr4F,OAASkG,EAAM23D,EAAIw6B,MAAMr4F,OAASkG,CACrD,GAAG,EACL,EACIusP,GAAiB,SAAUpnH,EAAOr/H,GAEpC,IADA,IAAI22D,EAAO0oE,EAAM1oE,KACRj3D,EAAI,EAAGA,EAAIi3D,EAAK3iE,OAAQ0L,IAE/B,IADA,IAAI2sF,EAAQ11B,EAAKj3D,GAAG2sF,MACX/5F,EAAI,EAAGA,EAAI+5F,EAAMr4F,OAAQ1B,IAChC,GAAI+U,GAAGglF,EAAM/5F,GAAI0N,GACf,OAAOnH,EAASJ,KAAK6tP,GAAah0P,EAAGoN,IAI3C,OAAO7G,EAAS1B,MAClB,EACIuvP,GAAc,SAAUrnH,EAAOsnH,EAAIC,EAAItsJ,EAAIusJ,GAG7C,IAFA,IAAIC,EAAU,GACVnwL,EAAO0oE,EAAM1oE,KACRj3D,EAAIknP,EAAIlnP,GAAKmnP,EAAInnP,IAAK,CAC7B,IAAI2sF,EAAQ11B,EAAKj3D,GAAG2sF,MAChBn1F,EAAQyvP,EAAKrsJ,EAAKjO,EAAMn1F,MAAMyvP,EAAIrsJ,EAAK,GAAKjO,EAAMn1F,MAAMojG,EAAIqsJ,EAAK,GACrEG,EAAQh2P,KAAKu1P,GAAS1vL,EAAKj3D,GAAGM,QAAS9I,GACzC,CACA,OAAO4vP,CACT,EA2BIxoP,GAAU,SAAUyoP,GACtB,IAAI1nH,EAAQ+mH,GAAWj/N,GAAQ4/N,GAAW,EAAG,IAM7C,OALAlhE,EAAOxzI,GAAY00M,EAAU,OAAO,SAAU7pD,EAAIx9L,GAChDmmL,EAAOxzI,GAAY6qJ,EAAI,UAAU,SAAU51B,EAAIh1K,IAjFrC,SAAU+sI,EAAO/sI,EAAGoN,EAAGw9L,EAAI51B,GAIvC,IAHA,IAAI0/E,EAAUT,GAAQj/E,EAAI,WACtB2/E,EAAUV,GAAQj/E,EAAI,WACtB3wG,EAAO0oE,EAAM1oE,KACRuwL,EAAKxnP,EAAGwnP,EAAKxnP,EAAIsnP,EAASE,IAAM,CAClCvwL,EAAKuwL,KACRvwL,EAAKuwL,GAAMb,GAAS1qC,GAAOze,GAAK,KAElC,IAAK,IAAIiqD,EAAK70P,EAAG60P,EAAK70P,EAAI20P,EAASE,IACrBxwL,EAAKuwL,GAAI76J,MACf86J,GAAMD,IAAOxnP,GAAKynP,IAAO70P,EAAIg1K,EAAKngJ,GAAQmgJ,EAEpD,CACF,CAqEM8/E,CAAQ/nH,EA/DG,SAAUA,EAAO/sI,EAAGoN,GACnC,KAAO8mP,GAAWnnH,EAAO/sI,EAAGoN,IAC1BpN,IAEF,OAAOA,CACT,CA0DqB+0P,CAAWhoH,EAAO/sI,EAAGoN,GAAIA,EAAGw9L,EAAI51B,EACjD,GACF,IACO8+E,GAAW/mH,EAAMr/H,QAASiuJ,GAAS5uB,EAAM1oE,MAAO0oE,EAAM1oE,KAC/D,EACI2wL,GAAQ,SAAUjoH,GACpB,OA9BmB,SAAUA,EAAO1oE,GACpC,IAAI4wL,EAAepgO,GAAQk4G,EAAMr/H,SAC7BwnP,EAAYhpP,GAAaW,QAAQ,SAGrC,OAFAxN,GAAO61P,EAAW7wL,GAClB9lD,GAAS02O,EAAcC,GAChBD,CACT,CAwBSE,CAAepoH,EAvBC,SAAUA,GACjC,OAAOumD,EAAMvmD,EAAM1oE,MAAM,SAAU9E,GACjC,IAAIw6B,EAAQu5F,EAAM/zH,EAAIw6B,OAAO,SAAUp3B,GACrC,IAAIqyG,EAAKq0C,GAAO1mJ,GAGhB,OAFA/oD,GAASo7J,EAAI,WACbp7J,GAASo7J,EAAI,WACNA,CACT,IACI41B,EAAK/1K,GAAQ0qC,EAAI7xD,SAErB,OADArO,GAAOurM,EAAI7wG,GACJ6wG,CACT,GACF,CAW+BwqD,CAAmBroH,GAClD,EACIsoH,GAAa,SAAUtoH,EAAOs7F,EAAcC,GAC9C,OAAO6rB,GAAepnH,EAAOs7F,GAAcxiO,MAAK,SAAUmxN,GACxD,OAAOm9B,GAAepnH,EAAOu7F,GAAY3iO,KAAI,SAAU6zN,GACrD,OAzCS,SAAUzsF,EAAOiqF,EAAUwC,GACxC,IAAI66B,EAAKr9B,EAASh3N,EAAGs0P,EAAKt9B,EAAS5pN,EAC/B46F,EAAKwxH,EAAOx5N,EAAGu0P,EAAK/6B,EAAOpsN,EAC3BonP,EAAUF,EAAKC,EAAKH,GAAYrnH,EAAOsnH,EAAIC,EAAItsJ,EAAIusJ,GAAMH,GAAYrnH,EAAOsnH,EAAIE,EAAIvsJ,EAAIssJ,GAC5F,OAAOR,GAAW/mH,EAAMr/H,QAASiuJ,GAAS64F,GAAUA,EACtD,CAoCac,CAASvoH,EAAOiqF,EAAUwC,EACnC,GACF,GACF,EAOI+7B,GAA+B,SAAU/9E,EAASp6H,GACpD,OAAOhuC,EAAOooK,GAAS,SAAU96F,GAC/B,MAAqB,OAAdp8E,GAAKo8E,IAAiBkiJ,GAAuBliJ,EAAKt/B,EAC3D,IAAGp4C,KAAKmqB,EAAS,KAAK,SAAUqmO,GAC9B,OAT0B,SAAUh+E,GACtC,OAAOpoK,EAAOooK,GAAS,SAAU96F,GAC/B,MAAqB,OAAdp8E,GAAKo8E,IAA+B,OAAdp8E,GAAKo8E,EACpC,GACF,CAKW+4K,CAAwBj+E,GAAS7xK,KAAI,SAAU+vP,GACpD,IAAIC,EAAUzpP,GAAaW,QAAQvM,GAAKo1P,IACpCE,EAAa/hE,GAASr6K,GAAUk8O,IAAW,SAAUG,EAAQv1P,GAC/D,OAAO8K,GAAW9K,EAAM,aAC1B,IAEA,OADA0Y,GAAO28O,EAASC,GACT,CACL1pP,GAAaW,QAAQ,MACrB8oP,EAEJ,IAAGvwP,MAAM,GACX,GACF,EAoBI0wP,GAAkB,SAAU95K,EAAU5+B,GACxC,IAAI24M,EAAwB7pP,GAAaF,QAAQoxC,EAAIymM,yBACjDrsE,EAAUihE,GAAesd,EAAuB/5K,GAChDg6K,EAAexiE,EAAShc,GAAS,SAAU96F,GAC7C,OAAOsiH,GAAWtiH,IAAQoiH,GAAUpiH,EACtC,IACIu5K,EAAeV,GAA6B/9E,EAASp6H,GACrD84M,EAAcF,EAAapzP,OAAOqzP,EAAav0P,OAASu0P,EAnBrC,SAAUF,GACjC,OAAI32D,GAAW22D,GACN7/O,GAAO6/O,GAAuB/vP,OAAOm5L,IAAQn6L,KAAKmqB,EAAS,KAAK,SAAUwmO,GAC/E,MAAO,CACLI,EACAJ,EAEJ,IAEOx2D,GAAO42D,GAAyB,CAACA,GAAyB,EAErE,CAQ6EI,CAAmBJ,IAC9F,OAAOziE,EAAM4iE,EAAarhO,GAC5B,EACIuhO,GAAgB,WAClB,OAAOvC,GAAa,GACtB,EACIwC,GAAuB,SAAUr6K,EAAU5+B,GAC7C,OAjCmBk5M,EAiCPpqP,GAAaF,QAAQoxC,EAAIooM,iBAjCRryG,EAiC0B2iH,GAAgB95K,EAAU5+B,GAhC7E5/B,EAAU1V,EAAMqrI,GAAM,SAAUvrI,EAAK80E,GAEvC,OADAn+D,GAASm+D,EAAK90E,GACP80E,CACT,GAAG45K,GACInjH,EAAKzxI,OAAS,EAAImyP,GAAa,CAACr2O,IAAYA,EAL1C,IAAU84O,EAAUnjH,EACzB31H,CAiCN,EAII+4O,GAAmB,SAAUv6K,EAAUw6K,GACzC,OAJ6Bp5G,EAIPphE,EAJgBrZ,EAIN6zL,EAAmB,GAH5CtoO,GAAWy0C,EAAM,QAASpgE,EAAMwS,GAAIqoI,KAGYv3I,MAAK,SAAU4uP,GACpE,IAAIgC,EAAYD,EAAmB,GAC/BE,EAAWF,EAAmBA,EAAmB90P,OAAS,GAC1Di1P,EAAiB3qP,GAAQyoP,GAC7B,OAAOY,GAAWsB,EAAgBF,EAAWC,GAAU/wP,KAAI,SAAUixP,GACnE,OAAO/C,GAAa,CAACmB,GAAM4B,IAC7B,GACF,IAAGvxP,WAAW+wP,IAXK,IAAUh5G,EAASz6E,CAYxC,EAIIk0L,GAAS,SAAU76K,EAAUj9B,GAC/B,IAAIu/K,EAAgBD,GAA4Bt/K,EAAQi9B,GACxD,OAAOsiJ,EAAc58N,OAAS,EAAI60P,GAAiBv6K,EAAUsiJ,GALpC,SAAUtiJ,EAAUj9B,GAC7C,OAAOA,EAAOr9C,OAAS,GAAKq9C,EAAO,GAAGE,UAAYm3M,KAAkBC,GAAqBr6K,EAAUj9B,EAAO,GAC5G,CAGgF+3M,CAAqB96K,EAAUj9B,EAC/G,EAKIg4M,GAA0B,SAAU/pP,EAAMuJ,GAC5C,OAAOA,GAAS,GAAKA,EAAQvJ,EAAKtL,QAAUy4N,GAAantN,EAAK0wE,OAAOnnE,GACvE,EACIygP,GAAe,SAAUC,EAAKC,GAChC,IAAIlqP,EAAO2yL,GAAOs3D,EAAI7kH,WACtB,OAAO8kH,EARwB,SAAUlqP,GACzC,OAAOA,EAAKvB,QAAQ,kBAAmB,GACzC,CAMsB0rP,CAA2BnqP,GAAQA,CACzD,EAoDIoqP,GAA6B,SAAU19K,EAAQmc,EAAQ9zF,QAC5C,IAATA,IACFA,EAAO,CAAC,GAEV,IAAIyyO,EAXY,SAAUzyO,EAAM8zF,GAChC,OAAOryF,GAASA,GAAS,CAAC,EAAGzB,GAAO,CAClC8zF,OAAQA,EACR57E,KAAK,EACLkjC,WAAW,GAEf,CAKsBk6M,CAAYt1P,EAAM8zF,GAClC8+I,EAAcj7J,EAAOsZ,KAAK,mBAAoBwhJ,GAClD,GAAIG,EAAYj9D,qBAEd,OADAh+F,EAAOsZ,KAAK,aAAc2hJ,GACnBA,EAAYngN,QAErB,GAA2B,SAAvBmgN,EAAY9+I,OACd,OAzDiB,SAAUnc,GAC7B,OAAOnzE,EAAS/B,KAAKk1E,EAAOv8B,UAAUmiC,UAAU35E,KAAI,SAAUy3C,GAC5D,IAAIk6M,EAAiB/wP,EAAS/B,KAAKk1E,EAAO7tE,IAAI0xE,UAAUngC,EAAIymM,wBAAyBnqK,EAAO7tE,IAAIowE,UAC5F7kE,EAAOsiE,EAAO7hE,UACd0/O,EATiB,SAAUD,GACjC,OAAOA,EAAe3xP,KAAI,SAAUg7H,GAClC,OAAOA,EAAMhzH,QACf,IAAGvI,MAAM,OAAOwI,aAClB,CAK0B4pP,CAAmBF,GACrCG,EAAmBziE,GAAIriL,QAAQ5B,QAA8B,QAApBwmP,EACzCN,EAAMv9K,EAAO7tE,IAAIlM,IAAIyX,EAAMmgP,EAAiB,CAC9C,iBAAkB,MAClB,MAAS,iCACRn6M,EAAIooM,iBACHx4O,EAAOgqP,GAAaC,EAAKQ,GACzBC,EAAkB/3D,GAAOs3D,EAAIv4O,aAEjC,GADAg7D,EAAO7tE,IAAI2wB,OAAOy6N,GACdF,GAAwBW,EAAiB,IAAMX,GAAwBW,EAAiBA,EAAgBh2P,OAAS,GAAI,CACvH,IAAI67O,EAAc+Z,EAAelyP,MAAMgS,GACnCugP,EAAkBX,GAAazZ,EAAaka,GAC5CG,EAAYD,EAAgBxzP,QAAQ6I,GACxC,OAAmB,IAAf4qP,EACK5qP,GAEkB+pP,GAAwBY,EAAiBC,EAAY,GAEjD,IAAM,IAAM5qP,GADlB+pP,GAAwBY,EAAiBC,EAAY5qP,EAAKtL,QACb,IAAM,GAE9E,CACE,OAAOsL,CAEX,IAAG5H,MAAM,GACX,CA6BWyyP,CAAen+K,GAEtBi7J,EAAYF,UAAW,EACvB,IAAIjgN,EA/BmB,SAAUklD,EAAQ33E,GAC3C,IAAIq7C,EAAMs8B,EAAOv8B,UAAUmiC,SAAUw4K,EAASp+K,EAAO7tE,IAAIqmI,OAAO,QAC5DjxF,EAAMy4B,EAAOv8B,UAAUqhL,SACvBz/K,EAASytL,GAAc9yJ,EAAQ16B,GAAUiC,IACzCvsB,EAAW3yB,EAAKo4I,WAAa08G,GAAO3qP,GAAaF,QAAQ0tE,EAAO7hE,WAAYknC,GAAQlzC,IAAMuxC,EAAIooM,gBAIlG,OAHI9wN,GACFojO,EAAOx5O,YAAYoW,GAEdglD,EAAOv8B,UAAU6rK,WAAW/a,UAAU6pD,EAAQ/1P,EACvD,CAsBkBg2P,CAAqBr+K,EAAQi7J,GAC3C,MAA2B,SAAvBA,EAAY9+I,OACPrhE,GAEPmgN,EAAYngN,QAAUklD,EAAOv8B,UAAUukG,cAAgB,GAAKltH,EAC5DklD,EAAOsZ,KAAK,aAAc2hJ,GACnBA,EAAYngN,QAGzB,EAuHIwjO,GAAe,SAAUt7K,GAC3B,OAAI67G,GAAY77G,GACPA,EAAI6lI,UACFtpB,GAASv8G,GACX8nH,GAASJ,UAAU1nH,EAAInqD,MAAM,GAC3B2mK,GAAUx8G,GACZ,UAASA,EAAInqD,KAAO,SAEtB,EACT,EAaI0lO,GAAW,SAAUv7K,EAAKtwE,EAAMmK,GAClC,IAAIme,EAbe,SAAUtoB,GAC7B,IAAIH,EACAkpB,EAAYl2B,SAASsN,cAAc,OACnCmvM,EAAOz8M,SAAS01B,yBAIpB,IAHIvoB,IACF+oB,EAAU3oB,UAAYJ,GAEjBH,EAAOkpB,EAAU9W,YACtBq9L,EAAKp9L,YAAYrS,GAEnB,OAAOyvM,CACT,CAEiB8F,CAAep1M,GAC9B,GAAIswE,EAAIjwE,iBAAmB8J,EAAQmmE,EAAIhwE,WAAWhL,OAAQ,CACxD,IAAImO,EAAS6sE,EAAIhwE,WAAW6J,GAC5B1G,EAAOsG,WAAW/W,aAAas1B,EAAU7kB,EAC3C,MACE6sE,EAAIp+D,YAAYoW,EAEpB,EAyBI+O,GAAQ,SAAUy0N,EAAWx7K,GAC/B,IA5KmBjyE,EAAM6U,EACrBlY,EACA+wP,EACAC,EAQAC,EAwCAC,EAOAC,EAqDA3xD,EA6DA4xD,EAAmBllE,EAAM9uL,GAAKk4E,EAAIhwE,YAAasrP,IAEnD,OArBc,SAAU/iD,EAAMv4H,GAC9B,IAAInmE,EAAQ,EACZg9K,EAAO0hB,GAAM,SAAUjiL,GA5Jd,IA6JHA,EAAO,GACTzc,IA9JiB,IA+JRyc,EAAO,IAChBilO,GAASv7K,EAAK1pD,EAAO,GAAIzc,GACzBA,KAjK6B,IAkKpByc,EAAO,IAdP,SAAU0pD,EAAKnmE,GAC5B,GAAImmE,EAAIjwE,iBAAmB8J,EAAQmmE,EAAIhwE,WAAWhL,OAAQ,CACxD,IAAImO,EAAS6sE,EAAIhwE,WAAW6J,GAC5B1G,EAAOsG,WAAW0I,YAAYhP,EAChC,CACF,CAUM4oP,CAAS/7K,EAAKnmE,EAElB,GACF,CAQEmiP,EA7KyBp5O,EA6KQ44O,EA5K7B9wP,GADeqD,EA6KJ+tP,GA5KC92P,OAAS4d,EAAM5d,OAAS,EACpCy2P,EAAQ,IAAIj4P,MAAMkH,GAClBgxP,EAAM,IAAIl4P,MAAMkH,GAQhBixP,EAAc,SAAUM,EAAQC,EAAMC,EAAQC,EAAMlyD,GACtD,IAAI31J,EAASsnN,EAAeI,EAAQC,EAAMC,EAAQC,GAClD,GAAe,OAAX7nN,GAAmBA,EAAO/lC,QAAU0tP,GAAQ3nN,EAAO8nN,OAASH,EAAOE,GAAQ7nN,EAAOgzE,MAAQ00I,GAAU1nN,EAAO8nN,OAASJ,EAASE,EAG/H,IAFA,IAAIr3P,EAAIm3P,EACJ90O,EAAIg1O,EACDr3P,EAAIo3P,GAAQ/0O,EAAIi1O,GACjBt3P,EAAIo3P,GAAQ/0O,EAAIi1O,GAAQruP,EAAKjJ,KAAO8d,EAAMuE,IAC5C+iL,EAAOpoM,KAAK,CAnBX,EAqBCiM,EAAKjJ,OAELA,IACAqiB,GAEE+0O,EAAOD,EAASG,EAAOD,GACzBjyD,EAAOpoM,KAAK,CA3BW,EA6BrBiM,EAAKjJ,OAELA,IAEFolM,EAAOpoM,KAAK,CAjCD,EAmCT8gB,EAAMuE,OAENA,OAIH,CACLw0O,EAAYM,EAAQ1nN,EAAO/lC,MAAO2tP,EAAQ5nN,EAAO/lC,MAAQ+lC,EAAO8nN,KAAMnyD,GACtE,IAAK,IAAIoyD,EAAK/nN,EAAO/lC,MAAO8tP,EAAK/nN,EAAOgzE,MAAO+0I,EAC7CpyD,EAAOpoM,KAAK,CA5CT,EA8CDiM,EAAKuuP,KAGTX,EAAYpnN,EAAOgzE,IAAK20I,EAAM3nN,EAAOgzE,IAAMhzE,EAAO8nN,KAAMD,EAAMlyD,EAChE,CACF,EACI0xD,EAAa,SAAUptP,EAAO6tP,EAAMH,EAAME,GAE5C,IADA,IAAI70I,EAAM/4G,EACH+4G,EAAM80I,EAAOD,GAAQ70I,EAAM20I,GAAQnuP,EAAKw5G,KAAS3kG,EAAM2kG,EAAM80I,MAChE90I,EAEJ,OApDU,SAAU/4G,EAAO+4G,EAAK80I,GAChC,MAAO,CACL7tP,MAAOA,EACP+4G,IAAKA,EACL80I,KAAMA,EAEV,CA8CSE,CAAM/tP,EAAO+4G,EAAK80I,EAC3B,EACIR,EAAiB,SAAUI,EAAQC,EAAMC,EAAQC,GACnD,IAAI5nK,EAAI0nK,EAAOD,EACX/0P,EAAIk1P,EAAOD,EACf,GAAU,IAAN3nK,GAAiB,IAANttF,EACb,OAAO,KAET,IAKIid,EAAGxX,EAAG7H,EAAGxB,EAAGoN,EALZw5B,EAAQsqD,EAAIttF,EACZ+2C,EAAM/2C,EAAIstF,EACVx6E,GAAUikC,EAAM,GAAM,EAAIA,EAAMA,EAAM,GAAK,EAI/C,IAHAw9M,EAAM,EAAIzhP,GAAUiiP,EACpBP,EAAI,EAAI1hP,GAAUkiP,EAAO,EAEpB/3O,EAAI,EAAGA,GAAKnK,IAAUmK,EAAG,CAC5B,IAAKxX,GAAKwX,EAAGxX,GAAKwX,EAAGxX,GAAK,EAAG,CAS3B,IARA7H,EAAI6H,EAAIqN,EACJrN,KAAOwX,GAAKxX,IAAMwX,GAAKs3O,EAAM32P,EAAI,GAAK22P,EAAM32P,EAAI,GAClD22P,EAAM32P,GAAK22P,EAAM32P,EAAI,GAErB22P,EAAM32P,GAAK22P,EAAM32P,EAAI,GAAK,EAG5B4L,GADApN,EAAIm4P,EAAM32P,IACFm3P,EAASE,EAASxvP,EACnBrJ,EAAI44P,GAAQxrP,EAAI0rP,GAAQruP,EAAKzK,KAAOsf,EAAMlS,IAC/C+qP,EAAM32P,KAAOxB,IACXoN,EAEJ,GAAIw5B,EAAQ,GAAM,GAAKA,EAAQ/lB,GAAKxX,GAAKA,GAAKu9B,EAAQ/lB,GAChDu3O,EAAI52P,EAAIolC,IAAUuxN,EAAM32P,GAC1B,OAAO82P,EAAWF,EAAI52P,EAAIolC,GAAQv9B,EAAIsvP,EAASE,EAAQD,EAAME,EAGnE,CACA,IAAKzvP,EAAIu9B,EAAQ/lB,EAAGxX,GAAKu9B,EAAQ/lB,EAAGxX,GAAK,EAAG,CAS1C,IARA7H,EAAI6H,EAAIqN,EAASkwB,EACbv9B,IAAMu9B,EAAQ/lB,GAAKxX,IAAMu9B,EAAQ/lB,GAAKu3O,EAAI52P,EAAI,IAAM42P,EAAI52P,EAAI,GAC9D42P,EAAI52P,GAAK42P,EAAI52P,EAAI,GAAK,EAEtB42P,EAAI52P,GAAK42P,EAAI52P,EAAI,GAGnB4L,GADApN,EAAIo4P,EAAI52P,GAAK,GACLm3P,EAASE,EAASxvP,EACnBrJ,GAAK24P,GAAUvrP,GAAKyrP,GAAUpuP,EAAKzK,KAAOsf,EAAMlS,IACrDgrP,EAAI52P,GAAKxB,IACToN,IAEF,GAAIw5B,EAAQ,GAAM,IAAM/lB,GAAKxX,GAAKA,GAAKwX,GACjCu3O,EAAI52P,IAAM22P,EAAM32P,EAAIolC,GACtB,OAAO0xN,EAAWF,EAAI52P,GAAI6H,EAAIsvP,EAASE,EAAQD,EAAME,EAG3D,CACF,CACF,EACIlyD,EAAS,GACbyxD,EAAY,EAAG5tP,EAAK/I,OAAQ,EAAG4d,EAAM5d,OAAQklM,GACtCA,GA4DsClqH,GACtCA,CACT,EAEIw8K,GAAmB/qP,IAAO,WAC5B,OAAOlP,SAASk6P,eAAeC,mBAAmB,OACpD,IAsBIC,GAAmB,SAAU3/K,GAC/B,IApCqBgD,EAoCjBw7K,GApCiBx7K,EAoCEhD,EAAO7hE,UAnCvB27K,EAASF,EAAM9uL,GAAKk4E,EAAIhwE,YAAasrP,KAAe,SAAUt+O,GACnE,OAAOA,EAAKhY,OAAS,CACvB,KAkCI43P,EAAmBzzP,GAAKqyP,GAAW,SAAU9rP,GAC/C,IAAImtP,EAAUxlB,GAAar6J,EAAOsvI,WAAY58M,GAC9C,OAAOmtP,EAAQ73P,OAAS,EAAI,CAAC63P,GAAW,EAC1C,IACI/kO,EAAU8kO,EAAiBxyO,KAAK,IACpC,OA3BsC,IA2BpB0N,EA3BNrwB,QAAQ,aAEM,SAAU+zP,GACpC,MAAO,CACLp4P,KAAM,aACNo4P,UAAWA,EACX1jO,QAAS,GACT26L,SAAU,KACVqqC,eAAgB,KAEpB,CAiB+BC,CAAsBH,GAhB3B,SAAU9kO,GAClC,MAAO,CACL10B,KAAM,WACNo4P,UAAW,KACX1jO,QAASA,EACT26L,SAAU,KACVqqC,eAAgB,KAEpB,CAQyEE,CAAoBllO,EAC7F,EACImlO,GAAgB,SAAUjgL,EAAQN,EAAO58B,GAC3C,IAAI2yK,EAAW3yK,EAAS48B,EAAMogL,eAAiBpgL,EAAM+1I,SAClC,eAAf/1I,EAAMt5E,KACR2jC,GAAM21C,EAAM8+K,UAAWx+K,EAAO7hE,WAE9B6hE,EAAOnxB,WAAW6wB,EAAM5kD,QAAS,CAC/BqhE,OAAQ,MACRuyJ,cAAcjnP,EAAcguN,KAAasJ,GAAetJ,KAAaA,EAASC,cAGlF11I,EAAOv8B,UAAUyyK,eAAeT,EAClC,EACIyqC,GAAkB,SAAUxgL,GAC9B,MAAsB,eAAfA,EAAMt5E,KAAwBs5E,EAAM8+K,UAAUpxO,KAAK,IAAMsyD,EAAM5kD,OACxE,EACIqlO,GAAuB,SAAUzgL,GACnC,IAAIsD,EAAMxwE,GAAaW,QAAQ,OAAQqsP,MAGvC,OAFA3+O,GAAImiE,EAAKk9K,GAAgBxgL,IACzBm6G,EAAOxzI,GAAY28B,EAAK,qBAAsB59D,IACjC49D,EAvjSE7wE,IAAIW,SAwjSrB,EAOIstP,GAAS,SAAUC,EAAQC,GAC7B,SAAKD,IAAWC,OAPI,SAAUD,EAAQC,GACtC,OAAOJ,GAAgBG,KAAYH,GAAgBI,EACrD,CAOaC,CAAgBF,EAAQC,IANR,SAAUD,EAAQC,GAC7C,OAAOH,GAAqBE,KAAYF,GAAqBG,EAC/D,CAOWE,CAAuBH,EAAQC,GAE1C,EAEIG,GAAa,SAAUC,GACzB,OAAuB,IAAhBA,EAAMngP,KACf,EAEIogP,GAAY,SAAU/pG,EAAagqG,EAAQF,GACzCD,GAAWC,KACb9pG,EAAYgqG,OAASA,EAEzB,EACIC,GAAY,SAAUjqG,EAAa8pG,GACjC9pG,EAAYgqG,SACdD,GAAU/pG,GAAa,EAAO8pG,GAC9B9pG,EAAY3wJ,MAEhB,EA0KI66P,GAAmB,SAAU9gL,GAC/B,MAAO,CACL42E,YAAa,CACXmqG,aAAc,SAAUL,EAAOZ,GAC7B,OAtKa,SAAU9/K,EAAQ0gL,EAAOZ,GACxCW,GAAWC,IACbZ,EAAej/O,IAAI01M,GAAgBv2I,EAAOv8B,WAE9C,CAkKeu9M,CAAehhL,EAAQ0gL,EAAOZ,EACvC,EACA75P,IAAK,SAAU2wJ,EAAa/5I,EAAO6jP,EAAOZ,EAAgBpgL,EAAO38D,GAC/D,OApKa,SAAUi9D,EAAQ42E,EAAa/5I,EAAO6jP,EAAOZ,EAAgBpgL,EAAO38D,GACvF,IAAIk+O,EAAetB,GAAiB3/K,GAGpC,GAFAN,EAAQA,GAAS,CAAC,EAClBA,EAAQ91E,GAAM6yL,OAAO/8G,EAAOuhL,IACF,IAAtBR,GAAWC,IAAoB1gL,EAAOylD,QACxC,OAAO,KAET,IAAIy7H,EAAYtqG,EAAY/9H,KAAKhc,EAAM0D,OACvC,GAAIy/D,EAAOsZ,KAAK,gBAAiB,CAC7B5Z,MAAOA,EACPwhL,UAAWA,EACXzrD,cAAe1yL,IACdi7J,qBACH,OAAO,KAET,GAAIkjF,GAAad,GAAOc,EAAWxhL,GACjC,OAAO,KAELk3E,EAAY/9H,KAAKhc,EAAM0D,QACzBu/O,EAAev/O,MAAMrU,MAAK,SAAUi1P,GAClCvqG,EAAY/9H,KAAKhc,EAAM0D,OAAOu/O,eAAiBqB,CACjD,IAEF,IAAIC,EAznQwB,SAAUphL,GACtC,OAAOA,EAAO8O,SAAS,0BAA2B,EAAG,SACvD,CAunQ6BuyK,CAAwBrhL,GACnD,GAAIohL,GACExqG,EAAY/9H,KAAK7wB,OAASo5P,EAAsB,CAClD,IAAK,IAAIt5P,EAAI,EAAGA,EAAI8uJ,EAAY/9H,KAAK7wB,OAAS,EAAGF,IAC/C8uJ,EAAY/9H,KAAK/wB,GAAK8uJ,EAAY/9H,KAAK/wB,EAAI,GAE7C8uJ,EAAY/9H,KAAK7wB,SACjB6U,EAAMgE,IAAI+1I,EAAY/9H,KAAK7wB,OAC7B,CAEF03E,EAAM+1I,SAAWc,GAAgBv2I,EAAOv8B,WACpC5mC,EAAM0D,MAAQq2I,EAAY/9H,KAAK7wB,OAAS,IAC1C4uJ,EAAY/9H,KAAK7wB,OAAS6U,EAAM0D,MAAQ,GAE1Cq2I,EAAY/9H,KAAK/zB,KAAK46E,GACtB7iE,EAAMgE,IAAI+1I,EAAY/9H,KAAK7wB,OAAS,GACpC,IAAIK,EAAO,CACTq3E,MAAOA,EACPwhL,UAAWA,EACXzrD,cAAe1yL,GASjB,OAPIlG,EAAM0D,MAAQ,GAChBy/D,EAAOshL,UAAS,GAChBthL,EAAOsZ,KAAK,UAAWjxF,GACvB23E,EAAOsZ,KAAK,SAAUjxF,IAEtB23E,EAAOsZ,KAAK,UAAWjxF,GAElBq3E,CACT,CAgHe6hL,CAAevhL,EAAQ42E,EAAa/5I,EAAO6jP,EAAOZ,EAAgBpgL,EAAO38D,EAClF,EACAu3G,KAAM,SAAUs8B,EAAa8pG,EAAO7jP,GAClC,OAvFK,SAAUmjE,EAAQ42E,EAAa8pG,EAAO7jP,GACjD,IAAI6iE,EAaJ,OAZIk3E,EAAYgqG,SACdhqG,EAAY3wJ,MACZ2wJ,EAAYgqG,QAAS,EACrBD,GAAU/pG,GAAa,EAAO8pG,IAE5B7jP,EAAM0D,MAAQ,IAChB1D,EAAMgE,IAAIhE,EAAM0D,MAAQ,GACxBm/D,EAAQk3E,EAAY/9H,KAAKhc,EAAM0D,OAC/B0/O,GAAcjgL,EAAQN,GAAO,GAC7BM,EAAOshL,UAAS,GAChBthL,EAAOsZ,KAAK,OAAQ,CAAE5Z,MAAOA,KAExBA,CACT,CAwEe8hL,CAAOxhL,EAAQ42E,EAAa8pG,EAAO7jP,EAC5C,EACA09G,KAAM,SAAU19G,EAAOgc,GACrB,OArGK,SAAUmnD,EAAQnjE,EAAOgc,GACpC,IAAI6mD,EAQJ,OAPI7iE,EAAM0D,MAAQsY,EAAK7wB,OAAS,IAC9B6U,EAAMgE,IAAIhE,EAAM0D,MAAQ,GACxBm/D,EAAQ7mD,EAAKhc,EAAM0D,OACnB0/O,GAAcjgL,EAAQN,GAAO,GAC7BM,EAAOshL,UAAS,GAChBthL,EAAOsZ,KAAK,OAAQ,CAAE5Z,MAAOA,KAExBA,CACT,CA2Fe+hL,CAAOzhL,EAAQnjE,EAAOgc,EAC/B,EACAyf,MAAO,SAAUs+G,EAAa/5I,GAC5B,OAxHM,SAAUmjE,EAAQ42E,EAAa/5I,GAC3C+5I,EAAY/9H,KAAO,GACnBhc,EAAMgE,IAAI,GACV+1I,EAAYgqG,QAAS,EACrB5gL,EAAOsZ,KAAK,aACd,CAmHeooK,CAAQ1hL,EAAQ42E,EAAa/5I,EACtC,EACAwuC,MAAO,SAAUurG,GACf,OAhFM,SAAUA,GACtBA,EAAYt+G,QACZs+G,EAAY3wJ,KACd,CA6Ee07P,CAAQ/qG,EACjB,EACAgrG,QAAS,SAAUhrG,EAAa/5I,GAC9B,OA/EQ,SAAUmjE,EAAQ42E,EAAa/5I,GAC7C,OAAOA,EAAM0D,MAAQ,GAAKq2I,EAAYgqG,QAAUhqG,EAAY/9H,KAAK,KAAOunO,GAAOT,GAAiB3/K,GAAS42E,EAAY/9H,KAAK,GAC5H,CA6EegpO,CAAU7hL,EAAQ42E,EAAa/5I,EACxC,EACAilP,QAAS,SAAUlrG,EAAa/5I,GAC9B,OA/EQ,SAAU+5I,EAAa/5I,GACrC,OAAOA,EAAM0D,MAAQq2I,EAAY/9H,KAAK7wB,OAAS,IAAM4uJ,EAAYgqG,MACnE,CA6EemB,CAAUnrG,EAAa/5I,EAChC,EACAg6I,SAAU,SAAUD,EAAa8pG,EAAO/jK,GACtC,OA/ES,SAAUi6D,EAAa8pG,EAAO/jK,GAI7C,OAHAkkK,GAAUjqG,EAAa8pG,GACvB9pG,EAAYmqG,eACZnqG,EAAYroF,OAAOouB,GACZi6D,EAAY3wJ,KACrB,CA0Ee+7P,CAAWprG,EAAa8pG,EAAO/jK,EACxC,EACApuB,OAAQ,SAAUmyL,EAAO/jK,GACvB,OA5EO,SAAU+jK,EAAO/jK,GAC9B,IACE+jK,EAAM7/O,IAAI6/O,EAAMngP,MAAQ,GACxBo8E,GAGF,CAFE,QACA+jK,EAAM7/O,IAAI6/O,EAAMngP,MAAQ,EAC1B,CACF,CAqEe0hP,CAASvB,EAAO/jK,EACzB,EACAzvE,MAAO,SAAU0pI,EAAa/5I,EAAOqlP,EAAWC,GAC9C,OApIM,SAAUniL,EAAQ42E,EAAa/5I,EAAOqlP,EAAWC,GAC7D,GAAIvrG,EAAYC,SAASqrG,GAAY,CACnC,IAAIzsC,EAAW7+D,EAAY/9H,KAAKhc,EAAM0D,OAAOk1M,SACzCyrC,EAAYtqG,EAAY/9H,KAAKhc,EAAM0D,MAAQ,GAC/C0/O,GAAcjgL,EAAQkhL,GAAW,GAC7BtqG,EAAYC,SAASsrG,KACvBvrG,EAAY/9H,KAAKhc,EAAM0D,MAAQ,GAAGu/O,eAAiBrqC,EAEvD,CACF,CA2He2sC,CAAQpiL,EAAQ42E,EAAa/5I,EAAOqlP,EAAWC,EACxD,GAEFhsH,UAAW,CACT16H,MAAO,SAAU7U,EAAMy6N,EAAM9uN,EAAM88O,GACjC,OAAOO,GAAQ5vK,EAAQp5E,EAAMy6N,EAAM9uN,EAAM88O,EAC3C,EACAgT,SAAU,SAAUrrM,EAAOqqK,GACzB,OAhkEO,SAAUrhJ,EAAQhpB,EAAOqqK,GACtC,IAAIihC,EAAqB,GACrBC,EAAa,CAAC,EACd5zB,EAAe3uJ,EAAOv8B,UAAUQ,WAUpC,OATA+7B,EAAO7tE,IAAI0xE,UAAU8qJ,GAAc,SAAUp8N,GAC3C,IAAK,IAAIzK,EAAI,EAAGA,EAAIkvD,EAAMhvD,OAAQF,IAAK,CACrC,IAAIinK,EAAS/3G,EAAMlvD,IACdy6P,EAAWxzF,IAAWugF,GAAUtvK,EAAQztE,EAAMw8J,EAAQsyD,KACzDkhC,EAAWxzF,IAAU,EACrBuzF,EAAmBx9P,KAAKiqK,GAE5B,CACF,GAAG/uF,EAAO7tE,IAAI2xE,WACPw+K,CACT,CAkjEeD,CAASriL,EAAQhpB,EAAOqqK,EACjC,EACAiuB,UAAW,SAAU/8O,EAAM3L,EAAMy6N,EAAMguB,GACrC,OAAOC,GAAUtvK,EAAQztE,EAAM3L,EAAMy6N,EAAMguB,EAC7C,EACA52F,SAAU,SAAU7xJ,GAClB,OAxiEO,SAAUo5E,EAAQp5E,GAC/B,IAAIw8N,EAAapjJ,EAAOm2D,UAAU51H,IAAI3Z,GAClCuL,EAAM6tE,EAAO7tE,IACjB,GAAIixN,EAGF,IAFA,IAAIv6D,EAAY7oF,EAAOv8B,UAAUQ,WAC7B65H,EAAU6jD,GAAaxvN,EAAK02J,GACvBviK,EAAI88N,EAAWp7N,OAAS,EAAG1B,GAAK,EAAGA,IAAK,CAC/C,IAAI61F,EAASinI,EAAW98N,GACxB,IAAKuvI,GAAiB15C,IAAW10F,EAAc00F,EAAO08J,cACpD,OAAO,EAET,IAAK,IAAI/wP,EAAIg2K,EAAQ91K,OAAS,EAAGF,GAAK,EAAGA,IACvC,GAAIqK,EAAI0I,GAAGijK,EAAQh2K,GAAIq0F,EAAOrhF,UAC5B,OAAO,CAGb,CAEF,OAAO,CACT,CAqhEe29I,CAASz4E,EAAQp5E,EAC1B,EACAw9F,QAAS,SAAUptC,GACjB,OAAOotC,GAAQpkB,EAAQhpB,EACzB,EACAxuD,MAAO,SAAU5B,EAAMy6N,EAAM9uN,GAC3B,OAAOkkP,GAAcz2K,EAAQp5E,EAAMy6N,EAAM9uN,EAC3C,EACAuwB,OAAQ,SAAUl8B,EAAMy6N,EAAM9uN,EAAM88O,GAClC,OAAOpsN,GAAS+8C,EAAQp5E,EAAMy6N,EAAM9uN,EAAM88O,EAC5C,EACAz/K,OAAQ,SAAUhpE,EAAMy6N,EAAM9uN,GAC5B,OA3xBK,SAAUytE,EAAQp5E,EAAMy6N,EAAM9uN,GACzC,IAAIijI,EAAMx1D,EAAOm2D,UAAU51H,IAAI3Z,IAC3BgpP,GAAQ5vK,EAAQp5E,EAAMy6N,EAAM9uN,IAAY,WAAYijI,EAAI,KAAOA,EAAI,GAAG5lE,OAGxE6mL,GAAcz2K,EAAQp5E,EAAMy6N,EAAM9uN,GAFlC0wB,GAAS+8C,EAAQp5E,EAAMy6N,EAAM9uN,EAIjC,CAoxBeq9D,CAAOoQ,EAAQp5E,EAAMy6N,EAAM9uN,EACpC,EACA+jJ,cAAe,SAAUujG,EAA2BnkH,EAAS/4C,EAAU0yJ,EAAShuB,GAC9E,OAAOu4B,GAAsB55K,EAAQ65K,EAA2BnkH,EAAS/4C,EAAU0yJ,EAAShuB,EAC9F,GAEFrhJ,OAAQ,CACNxE,WAAY,SAAUnzE,EAAM8zF,GAC1B,OAt7HiB,SAAUnc,EAAQ33E,EAAM8zF,GAC/C,OAAOtvF,EAAS/B,KAAKk1E,EAAO7hE,WAAW7S,KAAKmqB,EAAyB,SAAhBptB,EAAK8zF,OAAoB,IAAI+2I,GAAQ,OAAQ,IAAM,KAAK,SAAUx1N,GACrH,OAAOm9N,GAAmB76J,EAAQ33E,EAAM8zF,EAAQz+E,EAClD,GACF,CAk7He8kP,CAAmBxiL,EAAQ33E,EAAM8zF,EAC1C,EACAttC,WAAY,SAAU/zB,EAASzyB,GAC7B,OAAOimP,GAAmBtuK,EAAQllD,EAASzyB,EAC7C,EACAguL,cAAe,SAAUhwL,EAAOi4F,GAC9B,OAAO8tJ,GAAkBpsK,EAAQ35E,EAAOi4F,EAC1C,EACAsvJ,UAAW,SAAU5qK,GACnB,OAjHgB,SAAUhD,EAAQgD,GACxC,IAAI7wE,EAAM6tE,EAAO7tE,IACbQ,EAAQlL,EAAcu7E,GAAOA,EAAMhD,EAAO7hE,UAC1C5W,EAAYy4E,EAAO2vF,aACrB3vF,EAAO2vF,UA1sQe,SAAU3vF,GAClC,OAAOA,EAAO8O,SAAS,UAAU,EAAM,UACzC,CAwsQuB2zK,CAAoBziL,IAEzC65G,EAAO1nL,EAAIgrF,OAAO,UAAWxqF,IAAQ,SAAU+vP,GAC7C,OAAQA,EAAWzuP,UACnB,IAAK,QACH,IAAI+yM,EA5sQoB,SAAUhnI,GACtC,OAAOA,EAAO8O,SAAS,qBAAsB,iBAAkB,SACjE,CA0sQgB6zK,CAAwB3iL,GAC9B35E,EAAQ8L,EAAIyzM,UAAU88C,EAAY,UAChCr8P,GAAmB,MAAVA,IAAkB25E,EAAO2vF,UAGtCx9J,EAAI2xJ,YAAY4+F,EAAY17C,GAF5B70M,EAAI0xJ,SAAS6+F,EAAY17C,GAI3B,MACF,IAAK,IACH,IAAK70M,EAAIyzM,UAAU88C,EAAY,QAAS,CACtC,IAAIE,EAAUzwP,EAAIyzM,UAAU88C,EAAY,SAAWA,EAAW19P,GAC1D69P,EAptQmB,SAAU7iL,GACvC,OAAOA,EAAO8O,SAAS,sBAAuB,kBAAmB,SACnE,CAktQoBg0K,CAAyB9iL,GACjC4iL,GAAW5iL,EAAO2vF,UACpBx9J,EAAI0xJ,SAAS6+F,EAAYG,GAEzB1wP,EAAI2xJ,YAAY4+F,EAAYG,EAEhC,EAGJ,IACA7iL,EAAOsZ,KAAK,YAAa,CACvBtlF,QAASgvE,EACT2sF,UAAW3vF,EAAO2vF,WAEtB,CA+EeozF,CAAkB/iL,EAAQgD,EACnC,GAEFv/B,UAAW,CACT+3B,WAAY,SAAU2gB,EAAQ9zF,GAC5B,OAAOq1P,GAA2B19K,EAAQmc,EAAQ9zF,EACpD,GAEFwX,IAAK,CACHmjP,SAAU,WACR,OAAOn2P,EAAS1B,MAClB,GAGN,EAiHI83P,GAAQ,SAAUjjL,GACpB,OAAOtvE,GAAMsvE,EAAOkjL,QAAS,MAC/B,EAMIC,GAAU,SAAUnjL,GACtB,IAAIojL,EAAapjL,EACjB,OAPgB,SAAUA,GAC1B,OAAOz6D,GAAMy6D,EAAOkjL,QAAS,OAAO/2P,MAAK,SAAUk3P,GACjD,OAAOx2P,EAAS/B,KAAKu4P,EAAUpsL,MACjC,GACF,CAGSqsL,CAAYtjL,GAAQ10E,MAAK,WAE9B,OADA83P,EAAWG,YAAczC,GAAiB9gL,GACnCnzE,EAAS1B,MAClB,IAAG,SAAU8rE,GAEX,OADAmsL,EAAWG,YApDO,WACpB,IAAIC,EAAM/tO,EAAS,MACf1Q,EAAQ0Q,EAAS,IACrB,MAAO,CACLmhI,YAAa,CACXmqG,aAAc94P,EACdhC,IAAKu9P,EACLlpI,KAAMkpI,EACNjpI,KAAMipI,EACNlrN,MAAOrwC,EACPojD,MAAOpjD,EACP25P,QAASp4P,EACTs4P,QAASt4P,EACTqtJ,SAAU2sG,EACVj1L,OAAQtmE,EACRilB,MAAOjlB,GAETkuI,UAAW,CACT16H,MAAOjS,EACP64P,SAAU5sO,EAAS,IACnB65N,UAAW75N,OAAS3vB,GACpB2yJ,SAAUjvJ,EACV46F,QAASr/E,EACTvc,MAAOP,EACP66B,OAAQ76B,EACR2nE,OAAQ3nE,EACRquJ,cAAe7gI,EAAS,CAAExR,OAAQhc,KAEpC+3E,OAAQ,CACNxE,WAAYz2D,EACZ8pC,WAAY9pC,EACZsxK,cAAepuL,EACf2lP,UAAW3lP,GAEbw7C,UAAW,CAAE+3B,WAAYz2D,GACzBlF,IAAK,CAAEmjP,SAAUvtO,EAAS5oB,EAAS1B,SAEvC,CAe6Bs4P,GAClB52P,EAASJ,MAAK,WACnB,OAAOwqE,IAAQyP,MAAK,SAAUg9K,GAE5B,OADAN,EAAWG,YAjIE,SAAUG,GAC7B,IAAIC,EAAc,SAAUtiC,GAC1B,OAAOl6N,EAASk6N,GAAQA,EAAO,CAAC,CAClC,EACIzqE,EAAc8sG,EAAU9sG,YAAazgB,EAAYutH,EAAUvtH,UAAWn2D,EAAS0jL,EAAU1jL,OAAQv8B,EAAYigN,EAAUjgN,UAAW5jC,EAAM6jP,EAAU7jP,IACtJ,MAAO,CACL+2I,YAAa,CACXmqG,aAAcnqG,EAAYmqG,aAC1B96P,IAAK2wJ,EAAY3wJ,IACjBq0H,KAAMs8B,EAAYt8B,KAClBC,KAAMq8B,EAAYr8B,KAClBjiF,MAAOs+G,EAAYt+G,MACnB+S,MAAOurG,EAAYvrG,MACnBu2M,QAAShrG,EAAYgrG,QACrBE,QAASlrG,EAAYkrG,QACrBjrG,SAAU,SAAU+sG,EAAcC,EAAQ/6P,GACxC,OAAO8tJ,EAAYC,SAAS/tJ,EAC9B,EACAylE,OAAQ,SAAUs1L,EAAQlnK,GACxB,OAAOi6D,EAAYroF,OAAOouB,EAC5B,EACAzvE,MAAO,SAAU02O,EAAc9xG,EAAQowG,EAAWC,GAChD,OAAOvrG,EAAY1pI,MAAMg1O,EAAWC,EACtC,GAEFhsH,UAAW,CACT16H,MAAO,SAAU7U,EAAMy6N,EAAMyiC,EAAOzU,GAClC,OAAOl5G,EAAU16H,MAAM7U,EAAM+8P,EAAYtiC,GAAOguB,EAClD,EACAgT,SAAUlsH,EAAUksH,SACpB/S,UAAWn5G,EAAUm5G,UACrB72F,SAAU,SAAU7xJ,GAClB,OAAOuvI,EAAUsiB,SAAS7xJ,EAC5B,EACAw9F,QAAS,SAAUptC,GACjB,OAAOm/E,EAAU/xC,QAAQptC,EAC3B,EACAxuD,MAAO,SAAU5B,EAAMy6N,EAAMyiC,GAC3B,OAAO3tH,EAAU3tI,MAAM5B,EAAM+8P,EAAYtiC,GAC3C,EACAv+L,OAAQ,SAAUl8B,EAAMy6N,EAAMyiC,EAAOC,GACnC,OAAO5tH,EAAUrzG,OAAOl8B,EAAM+8P,EAAYtiC,GAC5C,EACAzxJ,OAAQ,SAAUhpE,EAAMy6N,EAAMyiC,GAC5B,OAAO3tH,EAAUvmE,OAAOhpE,EAAM+8P,EAAYtiC,GAC5C,EACA/qE,cAAe,SAAU0tG,EAAMtuH,EAAS/4C,EAAU0yJ,EAAShuB,GACzD,OAAOlrF,EAAUmgB,cAAc5gB,EAAS/4C,EAAU0yJ,EAAShuB,EAC7D,GAEFrhJ,OAAQ,CACNxE,WAAY,SAAUnzE,EAAMkwJ,GAC1B,OAAOv4E,EAAOxE,WAAWnzE,EAC3B,EACAwmD,WAAY,SAAU/zB,EAASzyB,GAC7B,OAAO23E,EAAOnxB,WAAW/zB,EAASzyB,EACpC,EACAguL,cAAe,SAAUv7J,EAASmpO,GAChC,OAAOjkL,EAAOq2G,cAAcv7J,EAC9B,EACA8yN,UAAW5tK,EAAO4tK,WAEpBnqM,UAAW,CACT+3B,WAAY,SAAU+8E,EAASlwJ,GAC7B,OAAOo7C,EAAU+3B,WAAWnzE,EAC9B,GAEFwX,IAAK,CACHmjP,SAAU,WACR,OAAOn2P,EAASJ,KAAKoT,EAAIqkP,cAC3B,GAGN,CAwDiCC,CAAeT,GACjCA,EAAUU,IAAIC,QACvB,GACF,GACF,GACF,EACIC,GAA6B,SAAUtkL,GACzC,OAAOA,EAAOujL,YAAcvjL,EAAOujL,YAAczC,GAAiB9gL,EACpE,EACIukL,GAA0B,SAAUvkL,GACtC,IAAIujL,EAAcvjL,EAAOujL,YACzB,GAAKA,EAGH,OAAOA,EAFP,MAAM,IAAIh6P,MAAM,kDAIpB,EA6EIi7P,GAAe,SAAUxkL,EAAQ33E,GAKnC,YAJa,IAATA,IACFA,EAAO,CAAC,GATa,SAAU23E,EAAQmc,EAAQ9zF,GACjD,OAAOk8P,GAAwBvkL,GAAQv8B,UAAU+3B,WAAW2gB,EAAQ9zF,EACtE,CAUSo8P,CAAmBzkL,EADb33E,EAAK8zF,OAAS9zF,EAAK8zF,OAAS,OACC9zF,EAC5C,EAEIinM,GAAc,SAAUh8L,GAC1B,OAAwB,IAApBA,EAAKnB,IAAInK,QACX8W,GAASxL,GACFzG,EAAS1B,QAET0B,EAASJ,KAAK6G,EAEzB,EA4BIoxP,GAAwB,SAAUC,EAAWnnC,EAAW95K,EAAKlyC,GAC/DmzP,EAAUx4P,MAAK,SAAUo0J,GAGvB,OAFiB/uJ,EAAQywO,GAA4BF,IAC1CxhF,EAAMpuJ,IAAKX,EAAQ+uJ,EAAMpuJ,IAAInK,OAAS,GAC1Cw1N,EAAUlxN,OAAOmxL,IAAUxxL,KAAI,SAAUy0J,GAC9C,OA3BM,SAAUH,EAAOG,EAAOh9G,EAAKlyC,GACvC,IAAIozP,EAAWrkG,EAAMpuJ,IACjByqP,EAAWl8F,EAAMvuJ,IACjB0yP,EAAYrzP,EAAQozP,EAAS58P,OAAS40P,EAAS50P,OAC/CwJ,GACF0wO,GAAe0iB,EAAUhI,GAAU,GAAQprP,GAC3CkyC,EAAIa,SAASq4M,EAAUiI,KAEvB3iB,GAAe0a,EAAUgI,GAAU,GAAQpzP,GAC3CkyC,EAAIgB,OAAOk4M,EAAUiI,GAEzB,CAgBatY,CAAMhsF,EAAOG,EAAOh9G,EAAKlyC,EAClC,GACF,IAAGxF,SAAQ,WACT,IAAI84P,EAnCe,SAAUvyP,EAAMf,GACrC,OAAOe,EAAKjG,QAAO,SAAU02E,GAC3B,OAAOmkJ,GAAgB7E,eAAet/I,EAAI7wE,IAC5C,IAAGhG,KAAKqF,EAAQ+S,GAAcq5K,GAChC,CA+BwBmnE,CAAiBvnC,EAAWhsN,GAAOzF,GAAGyxN,GAAWlxN,OAAOmxL,IAC5E,OAAOqnE,EAAc74P,KAAI,SAAUy0J,GACjC,OApBwB,SAAUA,EAAOlvJ,GAC7CgL,GAAOkkJ,GAAOx0J,MAAK,SAAUqmC,GAC3B,IAAIj/B,EAAOotJ,EAAMvuJ,IACbX,GAASkvO,GAAkBnuM,EAAM4gL,GAAc7/M,EAAM,IACvDyuO,GAAyBzuO,EAAM,IACrB9B,GAASmvO,GAAmBpuM,EAAM4gL,GAAc7/M,EAAMA,EAAKtL,UACrEi6O,GAA0B3uO,EAAMA,EAAKtL,OAEzC,GACF,CAWag9P,CAAwBtkG,EAAOlvJ,EACxC,GACF,GACF,EAiCIyzP,GAAe,SAAUjlL,EAAQllD,EAASzyB,QAC/B,IAATA,IACFA,EAAO,CAAC,GAEV,IAAIyyO,EAzBU,SAAUzyO,EAAMyyB,GAC9B,OAAOhxB,GAASA,GAAS,CAAEqyF,OAAQ,QAAU9zF,GAAO,CAClDwY,KAAK,EACL4iC,WAAW,EACX3oB,QAASA,GAEb,CAmBsBoqO,CAAU78P,EAAMyyB,GAChCmgN,EAAcH,EAClB,IAAKA,EAAcI,UAAW,CAC5B,IAAIiqB,EAAYnlL,EAAOsZ,KAAK,mBAAoBwhJ,GAChD,GAAIqqB,EAAUnnF,qBAEZ,YADAh+F,EAAOsZ,KAAK,aAAc6rK,GAG1BlqB,EAAckqB,CAElB,CACAlqB,EAAYngN,QA7BK,SAAUklD,EAAQ33E,GACnC,GAAoB,QAAhBA,EAAK8zF,OAAkB,CACzB,IAAIz4C,EAAMs8B,EAAOv8B,UAAUmiC,SACvBw/K,EAAeplL,EAAO7tE,IAAI0xE,UAAUngC,EAAIymM,wBAAyBnqK,EAAO7tE,IAAIowE,SAC5E8iL,EAAcD,EAAe,CAAEr/K,QAASq/K,EAAanxP,SAASC,eAAkB,CAAC,EACjF3B,EAAOytE,EAAOssK,OAAOhyM,MAAMjyC,EAAKyyB,QAAShxB,GAASA,GAAS,CAC7DglP,eAAe,EACf8J,mBAAmB,GAClByM,GAAch9P,IACjB,OAAOg0O,GAAe,CAAEprI,SAAUjxB,EAAOixB,UAAYjxB,EAAO3xD,QAAQkmL,UAAUhiM,EAChF,CACE,OAAOlK,EAAKyyB,OAEhB,CAgBwBwqO,CAAatlL,EAAQi7J,GAC3C,IAAIv3L,EAAMs8B,EAAOv8B,UAAUmiC,UAhDT,SAAUliC,EAAK1oB,GACjC,IAAIrW,EAAa9X,EAAS/B,KAAKkwB,EAASrW,YAAY1Y,IAAIuG,GAAaF,SACjE0rL,EAAYnxL,EAAS/B,KAAKkwB,EAASgjK,WAAW/xL,IAAIuG,GAAaF,SACnEoxC,EAAIkkM,iBACJlkM,EAAIq/B,WAAW/nD,GACf,IAAIuqO,EAAW5gP,EAAWxY,KAAKyxL,IAAatxL,OAAOmxL,IAAUtxL,KAAKmjM,IAC9Dk2D,EAAWxnE,EAAU7xL,KAAKoY,IAAajY,OAAOmxL,IAAUtxL,KAAKmjM,IACjEo1D,GAAsBa,EAAU5gP,EAAY++B,GAAK,GACjDghN,GAAsBc,EAAUxnE,EAAWt6I,GAAK,GAChDA,EAAImyB,UAAS,EACf,CAuCE4vL,CAAc/hN,EAAKA,EAAIgiN,yBAAyBzqB,EAAYngN,UAC5DklD,EAAOv8B,UAAUyuH,OAAOxuH,GACxB+rL,GAAoBzvJ,EAAQt8B,GACvBu3L,EAAYC,WACfl7J,EAAOsZ,KAAK,aAAc2hJ,EAE9B,EAEI0qB,GAAwB,SAAU72C,EAAah0M,EAAU6hF,GAC3D,GAAImyH,GAAep+M,GAAMo+M,EAAah0M,GAAW,CAC/C,IAAI8qP,EAAe9rE,EAASg1B,EAAYh0M,IAAW,SAAU8yF,GAC3D,OAAOA,IAAOjR,CAChB,IAC4B,IAAxBipK,EAAa59P,cACR8mN,EAAYh0M,GAEnBg0M,EAAYh0M,GAAY8qP,CAE5B,CACF,EAmEA,IAkkD0B57O,GAqQpBknC,GAv0DF20M,GAAsB,SAAUniN,GAClC,QAASA,EAAIy5C,MACf,EACI2oK,GAAkB,SAAUvzP,GAC9B,SAAUA,IAAQA,EAAK4J,gBAAkB1K,GAAWe,GAAaF,QAAQC,EAAK4J,eAAgB3J,GAAaF,QAAQC,GACrH,EAUIwzP,GAAkB,SAAU5zP,EAAK2P,EAAKwtM,EAAYtvI,GACpD,IAAIgmL,EACAC,EACAC,EApFN,SAA0B/zP,EAAK6tE,GAC7B,IAAImmL,EACAC,EACAC,EAAmB,SAAUvrP,EAAUolL,GACzC,OAAOxqL,EAAOwqL,GAAO,SAAU3tL,GAC7B,OAAOJ,EAAI0I,GAAGtI,EAAMuI,EACtB,GACF,EACIuiF,EAAa,SAAUtiF,GACzB,OAAO5I,EAAIkrF,WAAWtiF,EAAM,KAAM5I,EAAI2xE,UACxC,EACA,MAAO,CACLoiL,0BAA2B,SAAUprP,EAAU6hF,GA4C7C,OA3CKwpK,IACHA,EAAsB,CAAC,EACvBC,EAAmB,CAAC,EACpBpmL,EAAOloC,GAAG,cAAc,SAAUttC,GAChC,IAAI+H,EAAO/H,EAAEwJ,QACT8pK,EAAUzgF,EAAW9qF,GACrB+zP,EAAmB,CAAC,EACxB18P,GAAMsC,KAAKi6P,GAAqB,SAAUh3J,EAAWr0F,GACnDurP,EAAiBvrP,EAAUgjK,GAAS5xK,MAAK,SAAUqG,GAC5C6zP,EAAiBtrP,KACpB++K,EAAO1qF,GAAW,SAAUxS,GAC1BA,GAAS,EAAM,CACbpqF,KAAMA,EACNuI,SAAUA,EACVgjK,QAASA,GAEb,IACAsoF,EAAiBtrP,GAAYq0F,GAE/Bm3J,EAAiBxrP,GAAYq0F,CAC/B,GACF,IACAvlG,GAAMsC,KAAKk6P,GAAkB,SAAUj3J,EAAWr0F,GAC3CwrP,EAAiBxrP,YACbsrP,EAAiBtrP,GACxBlR,GAAMsC,KAAKijG,GAAW,SAAUxS,GAC9BA,GAAS,EAAO,CACdpqF,KAAMA,EACNuI,SAAUA,EACVgjK,QAASA,GAEb,IAEJ,GACF,KAEGqoF,EAAoBrrP,KACvBqrP,EAAoBrrP,GAAY,IAElCqrP,EAAoBrrP,GAAUhW,KAAK63F,GACnC0pK,EAAiBvrP,EAAUuiF,EAAWrd,EAAOv8B,UAAUQ,aAAa/3C,MAAK,WACvEk6P,EAAiBtrP,GAAYqrP,EAAoBrrP,EACnD,IACO,CACLmJ,OAAQ,WACN0hP,GAAsBQ,EAAqBrrP,EAAU6hF,GACrDgpK,GAAsBS,EAAkBtrP,EAAU6hF,EACpD,EAEJ,EAEJ,CAoBkC4pK,CAAgBp0P,EAAK6tE,GAAQkmL,0BAgBzDr3M,EAAa,SAAU/zB,EAASzyB,GAClC,OAAO48P,GAAajlL,EAAQllD,EAASzyB,EACvC,EA2BIwtE,EAAW,SAAUq6I,GACvB,IAAIxsK,EAAM8iN,IACV9iN,EAAImyB,WAAWq6I,GACfh+C,EAAOxuH,EACT,EACIohL,EAAS,WACX,OAAOhjN,EAAIulC,aAAevlC,EAAIulC,eAAiBvlC,EAAIvc,SAASk+C,SAC9D,EACI+iN,EAAW,WACb,IAAI/iN,EAAWC,EAAKs/B,EAChByjL,EAA2B,SAAUC,EAAKC,EAAaC,GACzD,IACE,OAAOD,EAAYE,sBAAsBH,EAAKE,EAGhD,CAFE,MAAOt4J,GACP,OAAQ,CACV,CACF,EACIpwF,EAAM4D,EAAIvc,SACd,QAAwBO,IAApBk6E,EAAOy1I,WAA+C,IAArBnjL,GAAS0tC,GAAmB,CAC/D,IAAIy1I,EAAW7vI,GAAO5F,GACtB,GAAIy1I,EAASjqN,SACX,OAAOiqN,EAASxpN,KAAI,SAAUsB,GAC5B,OAAOulO,GAAc9yJ,EAAQ,CAACzyE,IAAI,EACpC,IAAG7B,MAAMwS,EAAImmC,cAEjB,CACA,KACOZ,EAAYqhL,OAAcnmC,GAAiBl7I,EAAUsD,cAEtDrD,EADED,EAAUiD,WAAa,EACnBjD,EAAUmD,WAAW,GAErBnD,EAAUY,YAAcZ,EAAUY,cAAgBnmC,EAAImmC,cAE9DX,EAAMovL,GAAc9yJ,EAAQ,CAACt8B,IAAM,GAGvC,CADE,MAAO4qD,GACT,CAiBA,OAhBK5qD,IACHA,EAAMxlC,EAAImmC,YAAcnmC,EAAImmC,cAAgBnmC,EAAIR,KAAKuuN,mBAEnDvoL,EAAIa,UAA4C,IAAhCb,EAAIC,eAAevvC,UAAkBsvC,EAAI6B,YAC3Dy9B,EAAM7wE,EAAI2xE,UACVpgC,EAAIa,SAASy+B,EAAK,GAClBt/B,EAAIgB,OAAOs+B,EAAK,IAEdgjL,GAAiBC,IACsD,IAArEQ,EAAyB/iN,EAAIojN,eAAgBpjN,EAAKsiN,IAAyF,IAAjES,EAAyB/iN,EAAIqjN,WAAYrjN,EAAKsiN,GAC1HtiN,EAAMuiN,GAEND,EAAgB,KAChBC,EAAgB,OAGbviN,CACT,EACIwuH,EAAS,SAAUxuH,EAAKg8J,GAC1B,IAAIntM,EACJ,GAlHe,SAAUmxC,GAC3B,QAAKA,MAEMmiN,GAAoBniN,IAGtBoiN,GAAgBpiN,EAAIC,iBAAmBmiN,GAAgBpiN,EAAIwB,cAEtE,CA0GS8hN,CAAatjN,GAAlB,CAGA,IAAIujN,EAAUpB,GAAoBniN,GAAOA,EAAM,KAC/C,GAAIujN,EAAJ,CACEhB,EAAgB,KAChB,IACEgB,EAAQ9pK,QAEV,CADE,MAAOmR,GACT,CAEF,KAPA,CAQA,IAAI/mD,EAAMu9K,IAMV,GADAphL,EAJUs8B,EAAOsZ,KAAK,oBAAqB,CACzCp1C,MAAOR,EACPg8J,QAASA,IAEDx7J,MACNqD,EAAK,CACP0+M,EAAgBviN,EAChB,IACE6D,EAAI2/M,kBACJ3/M,EAAI4/M,SAASzjN,EAEf,CADE,MAAO4qD,GACT,EACgB,IAAZoxG,GAAqBn4J,EAAIk1I,SAC3Bl1I,EAAIsuB,SAASnyB,EAAIwB,aAAcxB,EAAIyB,WACnCoC,EAAIk1I,OAAO/4I,EAAIC,eAAgBD,EAAIuB,cAErC+gN,EAAgBz+M,EAAIb,WAAa,EAAIa,EAAIX,WAAW,GAAK,IAC3D,CACKlD,EAAI6B,WAAa7B,EAAIC,iBAAmBD,EAAIwB,eAAgBqC,EAAI6/M,kBAAqB9rE,GAAI5jL,IACxFgsC,EAAIyB,UAAYzB,EAAIuB,YAAc,GAChCvB,EAAIC,eAAe5wC,kBACrBR,EAAOmxC,EAAIC,eAAe3wC,WAAW0wC,EAAIuB,eACZ,QAAjB1yC,EAAK8sL,UACf93I,EAAI6/M,iBAAiB1jN,EAAIC,eAAgBD,EAAIuB,YAAavB,EAAIwB,aAAcxB,EAAIyB,WAC5EoC,EAAIR,aAAerD,EAAIC,gBAAkB4D,EAAIP,YAActD,EAAIwB,cACjEqC,EAAI6/M,iBAAiB70P,EAAM,EAAGA,EAAM,IAM9CytE,EAAOsZ,KAAK,yBAA0B,CACpCp1C,MAAOR,EACPg8J,QAASA,GAnCX,CATA,CA8CF,EAWI2nD,EAAY,WACd,IAAI9/M,EAAMu9K,IACN/9K,EAAaQ,aAAiC,EAASA,EAAIR,WAC3DC,EAAYO,aAAiC,EAASA,EAAIP,UAC9D,IAAKO,IAAQR,IAAeC,GAAa23I,GAAiB53I,IAAe43I,GAAiB33I,GACxF,OAAO,EAET,IAAIsgN,EAAcn1P,EAAImyE,YACtBgjL,EAAY/iN,SAASwC,EAAYQ,EAAIL,cACrCogN,EAAYzxL,UAAS,GACrB,IAAI0xL,EAAap1P,EAAImyE,YAGrB,OAFAijL,EAAWhjN,SAASyC,EAAWO,EAAIJ,aACnCogN,EAAW1xL,UAAS,GACbyxL,EAAYT,sBAAsBS,EAAYR,eAAgBS,IAAe,CACtF,EA+CI76J,EAAU,CACZ86J,gBAAiB,KACjBC,iBAAkB,KAClBt1P,IAAKA,EACL2P,IAAKA,EACLwtM,WAAYA,EACZtvI,OAAQA,EACRnK,SAAUA,EACVsN,kBArOsB,SAAU5wE,EAAMyK,GACtC,IAAI0mC,EAAMvxC,EAAImyE,YACV78E,EAAc8K,IAAS9K,EAAcuV,IACvC0mC,EAAIa,SAAShyC,EAAMyK,GACnB0mC,EAAIgB,OAAOnyC,EAAMyK,GACjBk1J,EAAOxuH,GACPmyB,GAAS,KAETwvJ,GAAalzN,EAAKuxC,EAAKs8B,EAAO7hE,WAAW,GACzC+zJ,EAAOxuH,GAEX,EA2NE83B,WA1Ne,SAAUnzE,GACzB,OAAOm8P,GAAaxkL,EAAQ33E,EAC9B,EAyNEwmD,WAAYA,EACZu4K,YAhNgB,SAAUhhO,EAAM++M,GAChC,OAAOqiD,EAAgBpgC,YAAYhhO,EAAM++M,EAC3C,EA+ME+Q,eA9MmB,SAAUT,GAC7B,OAAO+xC,EAAgBtxC,eAAeT,EACxC,EA6MEt4H,OA5Ma,SAAU5qF,EAAMuoB,GAE7B,OAjgLS,SAAU3oB,EAAKI,EAAMuoB,GAChC,OAAOjuB,EAAS/B,KAAKyH,GAAMtG,KAAI,SAAUsG,GACvC,IAAIqoF,EAAMzoF,EAAIytM,UAAUrtM,GACpBmxC,EAAMvxC,EAAImyE,YAOd,OANA5gC,EAAIa,SAAShyC,EAAKkK,WAAYm+E,GAC9Bl3C,EAAIgB,OAAOnyC,EAAKkK,WAAYm+E,EAAM,GAC9B9/D,IACFuqM,GAAalzN,EAAKuxC,EAAKnxC,GAAM,GAC7B8yN,GAAalzN,EAAKuxC,EAAKnxC,GAAM,IAExBmxC,CACT,GACF,CAo/KIy5C,CAAOhrF,EAAKI,EAAMuoB,GAAS5uB,KAAKgmK,GACzB3/J,CACT,EA0MEy1I,YAzMgB,WAChB,IAAItkG,EAAM8iN,IAAYj/M,EAAMu9K,IAC5B,SAAKphL,GAAOA,EAAI1jC,QAGZ0jC,EAAIgkN,iBAC6C,IAA5ChkN,EAAIgkN,iBAAiB,aAAchkN,IAEpC6D,GAAO7D,EAAI6B,UACrB,EAiME8hN,UAAWA,EACXM,QAvFY,SAAU3kL,GAEtB,OADAn0B,EAAW18C,EAAIy2M,aAAa5lI,IACrBA,CACT,EAqFEJ,QApFc,WACd,OA1rLU,SAAUrwC,EAAMmR,GAC5B,IAAIs/B,EAAKr/B,EAAgBuB,EACzB,IAAKxB,EACH,OAAOnR,EAEToR,EAAiBD,EAAIC,eACrBuB,EAAexB,EAAIwB,aACnB,IAAID,EAAcvB,EAAIuB,YAClBE,EAAYzB,EAAIyB,UAEpB,OADA69B,EAAMt/B,EAAIymM,yBACLzmM,EAAI6B,YACH5B,IAAmBuB,GACjBC,EAAYF,EAAc,GACxBtB,EAAe5wC,kBACjBiwE,EAAMr/B,EAAe3wC,WAAWiyC,IAIN,IAA5BtB,EAAevvC,UAA4C,IAA1B8wC,EAAa9wC,WAE9CuvC,EADEA,EAAe37C,SAAWi9C,EACX4tL,GAAmBlvL,EAAep/B,aAAa,GAE/Co/B,EAAelnC,WAGhCyoC,EADgB,IAAdC,EACa0tL,GAAmB3tL,EAAa24I,iBAAiB,GAEjD34I,EAAazoC,WAE1BknC,GAAkBA,IAAmBuB,IAChCvB,EAITq/B,GAAwB,IAAjBA,EAAI5uE,SACN4uE,EAAIvmE,WAENumE,CACT,CAopLWJ,CAAQ5C,EAAO7hE,UAAWqoP,IACnC,EAmFE1hC,OAAQA,EACR5yD,OAAQA,EACRtsF,OAAQ4gL,EACRviN,SAhOe,SAAU2uL,GACzB,OAAO3uL,GAAS+7B,EAAO7hE,UAAWqoP,IAAY5zB,EAChD,EA+NExvJ,OA9Na,SAAUwvJ,GACvB,OAAOxvJ,GAAOpD,EAAO7hE,UAAWqoP,IAAY5zB,EAC9C,EA6NE4f,kBAvFwB,SAAU5J,EAAUgf,GAC5C,OAtpLoB,SAAUz1P,EAAKuxC,EAAKklM,EAAUgf,GACpD,IAAIr1P,EACAs1P,EAAiB,GACjBt1N,EAAOpgC,EAAI2xE,UAMf,GALA8kK,EAAWz2O,EAAI0xE,UAAU+kK,GAAY3kM,GAAS1R,EAAMmR,EAAKA,EAAI6B,WAAYpzC,EAAIowE,SAC7EqlL,EAASz1P,EAAI0xE,UAAU+jL,GAAUxkL,GAAO7wC,EAAMmR,EAAKA,EAAI6B,WAAYpzC,EAAIowE,SACnEqmK,GAAYA,IAAar2M,GAC3Bs1N,EAAe/iQ,KAAK8jP,GAElBA,GAAYgf,GAAUhf,IAAagf,EAAQ,CAC7Cr1P,EAAOq2O,EAEP,IADA,IAAI3/C,EAAS,IAAIpE,GAAc+jD,EAAUr2M,IACjChgC,EAAO02L,EAAOttJ,SAAWppC,IAASq1P,GACpCz1P,EAAIowE,QAAQhwE,IACds1P,EAAe/iQ,KAAKyN,EAG1B,CAIA,OAHIq1P,GAAUhf,IAAagf,GAAUA,IAAWr1N,GAC9Cs1N,EAAe/iQ,KAAK8iQ,GAEfC,CACT,CAgoLWrV,CAAkBrgP,EAAKq0P,IAAY5d,EAAUgf,EACtD,EAsFE3kL,UAtEc,WACd,IAAIv/B,EAAM8iN,IACNj/M,EAAMu9K,IACV,KArhPKx/K,GAqhPkBiC,GArhPGv/C,OAAS,IAqhPJs9N,GAAatlJ,GAAS,CACnD,IAAI0tJ,EAAUD,GAAYt7N,EAAKuxC,GAI/B,OAHAgqL,EAAQxhO,MAAK,SAAUwhO,GACrBx7D,EAAOw7D,EAAS25B,IAClB,IACO35B,EAAQhiO,MAAMg4C,EACvB,CACA,OAAOA,CACT,EA4DEokN,gBA3DoB,SAAUhtP,EAAU6hF,GAExC,OADAupK,EAA0BprP,EAAU6hF,GAC7B+P,CACT,EAyDEw5J,0BAA2BA,EAC3B6B,mBAzDuB,WAGvB,IAFA,IAAIC,EACAz1P,EAAOJ,EAAI2xE,UACRvxE,GAA0B,SAAlBA,EAAK0B,UAAqB,CACvC,GAAI1B,EAAKkuH,aAAeluH,EAAK4T,aAAc,CACzC6hP,EAAkBz1P,EAClB,KACF,CACAA,EAAOA,EAAKkK,UACd,CACA,OAAOurP,CACT,EA+CEvpE,eA9CmB,SAAUz7G,EAAKu7G,GAC9B92L,EAAcu7E,GA9rMM,SAAUhD,EAAQhsE,EAASuqL,IACtCv+G,EAAOwQ,OAAS8+I,GAAoBE,IAC1CxvJ,EAAQhsE,EAASuqL,EAC5B,CA4rMM0pE,CAAsBjoL,EAAQgD,EAAKu7G,GAEnCkxC,GAAoBzvJ,EAAQwmL,IAAYjoE,EAE5C,EAyCE2pE,aAxCiB,SAAUzkP,EAASC,GACpC,OAAOwuJ,EAAO1+J,GAAUiQ,EAASC,EAASs8D,EAAO6C,UACnD,EAuCE1hE,sBAtC0B,WAC1B,IAAIuiC,EAAM8iN,IACV,OAAO9iN,EAAI6B,UAAY4tK,GAAcG,eAAe5vK,GAAKgE,iBAAiB,GAAKhE,EAAIviC,uBACrF,EAoCEs3B,QAnCY,WACZ32B,EAAMkkP,EAAgBC,EAAgB,KACtCwB,EAAiBhvN,SACnB,GAkCI+uN,EAAkBrgC,GAAgBz6H,GAClC+6J,EAAmBn/B,GAAiB57H,EAAS1sB,GAGjD,OAFA0sB,EAAQ86J,gBAAkBA,EAC1B96J,EAAQ+6J,iBAAmBA,EACpB/6J,CACT,EAOIy7J,GAAuB,SAAUC,EAAWxoO,EAAQyoO,GACtDD,EAAU74C,cAAc,QAAQ,SAAUrvB,GACxCrG,EAAOqG,GAAO,SAAU3tL,GACtB,IAAI7C,EAAQkwB,EAAO0a,MAAM/nC,EAAK2vB,KAAK,UAC/B+mD,EAAQ12E,EAAK2vB,KAAK,SAClBomO,EAAO/1P,EAAK2vB,KAAK,QACjBx0B,EAAO6E,EAAK2vB,KAAK,QACjB+mD,IACFv5E,EAAMu5E,MAAQA,GAEZq/K,IACF54P,EAAM,eAAiB44P,GAErB56P,IACFgC,EAAM,aAAe24P,EAAU9uP,SAAShH,EAAK2vB,KAAK,QAAS,IAAM,IAEnE3vB,EAAK3L,KAAO,OACZ2L,EAAK2vB,KAAK,QAAStC,EAAO20K,UAAU7kM,IAtBxB,SAAU6C,EAAMykD,GAChC6iI,EAAO7iI,GAAO,SAAUpwD,GACtB2L,EAAK2vB,KAAKt7B,EAAM,KAClB,GACF,CAmBM2hQ,CAAYh2P,EAAM,CAChB,QACA,OACA,QAEJ,GACF,GACF,EAWIi2P,GAAa,SAAUJ,EAAW9nL,GACpC,IAAI1gD,EAAS+yK,KACTryH,EAASmoL,wBACXN,GAAqBC,EAAWxoO,EAAQh2B,GAAM69G,QAAQnnC,EAASooL,0BAbvC,SAAUN,EAAWxoO,GAC/CwoO,EAAU74C,cAAc,UAAU,SAAUrvB,GAC1CrG,EAAOqG,GAAO,SAAU3tL,GACtB,IAAI7C,EAAQkwB,EAAO0a,MAAM/nC,EAAK2vB,KAAK,UACnCxyB,EAAM,mBAAqB,eAC3B6C,EAAK3L,KAAO,OACZ2L,EAAK2vB,KAAK,QAAStC,EAAO20K,UAAU7kM,GACtC,GACF,GACF,CAMEi5P,CAAsBP,EAAWxoO,EACnC,EA8BIk1M,GAAe,SAAUlrH,GAC3B,IAAIxjH,EACAwiQ,EAAW5zB,mBAAmBprH,GAAKprF,MAAM,KACzC/jB,EAAU,eAAek9E,KAAKixK,EAAS,IAI3C,OAHInuP,IACFrU,EAAOqU,EAAQ,IAEV,CACLrU,KAAMA,EACNyyB,KAAM+vO,EAAS,GAEnB,EACIC,GAAY,SAAUziQ,EAAMyyB,GAC9B,IAAIvnB,EACJ,IACEA,EAAM24G,KAAKpxF,EAGb,CAFE,MAAOruB,GACP,OAAOqC,EAAS1B,MAClB,CAEA,IADA,IAAIoE,EAAM,IAAIm7G,WAAWp5G,EAAItJ,QACpBF,EAAI,EAAGA,EAAIyH,EAAIvH,OAAQF,IAC9ByH,EAAIzH,GAAKwJ,EAAIm5G,WAAW3iH,GAE1B,OAAO+E,EAASJ,KAAK,IAAIk+G,KAAK,CAACp7G,GAAM,CAAEnJ,KAAMA,IAC/C,EASI0iQ,GAAY,SAAUtkI,GACxB,OAA6B,IAAzBA,EAAI/5H,QAAQ,SAzDE,SAAU+5H,GAC5B,OAAO,IAAIw9D,IAAW,SAAUn4L,EAASkkG,GACvC,IAAIg7J,EAAkB,WACpBh7J,EAAO,kBAAoBy2B,EAAM,yDACnC,EACA,IACE,IAAIwkI,EAAQ,IAAIC,eAChBD,EAAMz6M,KAAK,MAAOi2E,GAAK,GACvBwkI,EAAME,aAAe,OACrBF,EAAM1lE,OAAS,WACQ,MAAjB0lE,EAAM74L,OACRtmE,EAAQm/P,EAAM9xG,UAEd6xG,GAEJ,EACAC,EAAMzlE,QAAUwlE,EAChBC,EAAMG,MAGR,CAFE,MAAO76J,GACPy6J,GACF,CACF,GACF,CAoCWK,CAAc5kI,GAEM,IAAzBA,EAAI/5H,QAAQ,UAZYm/G,EAaL4a,EAZhB,IAAIw9D,IAAW,SAAUn4L,GAC9B,IAAIyP,EAAKw7N,GAAalrH,GAAMxjH,EAAOkT,EAAGlT,KAAMyyB,EAAOvf,EAAGuf,KACtDgwO,GAAUziQ,EAAMyyB,GAAMvtB,MAAK,WACzB,OAAOzB,EAAQ,IAAI8gH,KAAK,IAC1B,GAAG9gH,EACL,KASO,KAfW,IAAU+/G,CAgB9B,EAWIy/I,GAAU,EACV1gD,GAAW,SAAUh3M,GACvB,OAAQA,GAAU,UAAY03P,IAChC,EACIC,GAAkB,SAAUC,EAAWrlI,EAAKr6H,EAASkkG,GACvD,IAAI+b,EAAQ0/I,EACZ,GAAiC,IAA7BtlI,EAAI5tC,IAAI7rF,QAAQ,SAApB,CAwBA,IAAI6O,EAAKw7N,GAAa5wG,EAAI5tC,KAAMz9D,EAAOvf,EAAGuf,KAAMzyB,EAAOkT,EAAGlT,KAC1D0jH,EAASjxF,GACT2wO,EAAWD,EAAUE,UAAU3/I,EAAQ1jH,IAErCyD,EAAQ,CACN0/G,MAAO2a,EACPslI,SAAUA,IAGZV,GAAU5kI,EAAI5tC,KAAK5P,MAAK,SAAUjjD,GAChC+lO,EAAWD,EAAU/wH,OAAOmwE,KAAYllL,EAAMqmF,GAC9Cy/I,EAAUtjQ,IAAIujQ,GACd3/P,EAAQ,CACN0/G,MAAO2a,EACPslI,SAAUA,GAEd,IAAG,SAAU1gP,GACXilF,EAAOjlF,EACT,GAnBF,MAtBE0gP,EAAWD,EAAUG,SAASxlI,EAAI5tC,MAEhCzsF,EAAQ,CACN0/G,MAAO2a,EACPslI,SAAUA,IAGZV,GAAU5kI,EAAI5tC,KAAK5P,MAAK,SAAUjjD,IAxBpB,SAAUA,GAC5B,OAAO,IAAIu+J,IAAW,SAAUn4L,GAC9B,IAAI0iH,EAAS,IAAIC,WACjBD,EAAOE,UAAY,WACjB5iH,EAAQ0iH,EAAOhgG,OACjB,EACAggG,EAAOG,cAAcjpF,EACvB,GACF,EAiBQkpF,CAAclpF,GAAMijD,MAAK,SAAUijL,GACjC7/I,EAASgrH,GAAa60B,GAAS9wO,KAC/B2wO,EAAWD,EAAU/wH,OAAOmwE,KAAYllL,EAAMqmF,GAC9Cy/I,EAAUtjQ,IAAIujQ,GACd3/P,EAAQ,CACN0/G,MAAO2a,EACPslI,SAAUA,GAEd,GACF,IAAG,SAAU1gP,GACXilF,EAAOjlF,EACT,GAwBN,EAII8gP,GAAe,SAAUC,EAAcN,GACzC,IAAIO,EAAiB,CAAC,EAuDtB,MAAO,CAAE5iC,QAtDK,SAAUlkJ,EAAK7pD,GACtBA,IACHA,EAAY1vB,GAEd,IAAIsgQ,EAASjwE,EATE,SAAU92G,GAC3B,OAAOA,EAAMl4E,GAAKk4E,EAAIqkH,qBAAqB,QAAU,EACvD,CAO0B2iE,CAAahnL,IAAM,SAAUkhD,GACjD,IAAI5tC,EAAM4tC,EAAI5tC,IACd,QAAKglG,GAAIF,WAGLl3D,EAAIrlH,aAAa,qBAGjBqlH,EAAIrlH,aAAa,6BAGhBy3E,GAAOA,IAAQglG,GAAIG,kBAGK,IAAzBnlG,EAAI7rF,QAAQ,UACNo/P,EAAaI,WAAW3zK,IAAQn9D,EAAU+qG,GAEvB,IAAzB5tC,EAAI7rF,QAAQ,UACP0uB,EAAU+qG,MAGrB,IACIgmI,EAAWtwE,EAAMmwE,GAAQ,SAAU7lI,GACrC,QAAgCp+H,IAA5BgkQ,EAAe5lI,EAAI5tC,KACrB,OAAO,IAAI0rG,IAAW,SAAUn4L,GAC9BigQ,EAAe5lI,EAAI5tC,KAAK5P,MAAK,SAAUyjL,GACrC,GAAyB,iBAAdA,EACT,OAAOA,EAETtgQ,EAAQ,CACN0/G,MAAO2a,EACPslI,SAAUW,EAAUX,UAExB,GACF,IAEF,IAAIY,EAAa,IAAIpoE,IAAW,SAAUn4L,EAASkkG,GACjDu7J,GAAgBC,EAAWrlI,EAAKr6H,EAASkkG,EAC3C,IAAGrnB,MAAK,SAAUn6D,GAEhB,cADOu9O,EAAev9O,EAAOg9F,MAAMjzB,KAC5B/pE,CACT,IAAGg7G,OAAM,SAAUr0H,GAEjB,cADO42P,EAAe5lI,EAAI5tC,KACnBpjF,CACT,IAEA,OADA42P,EAAe5lI,EAAI5tC,KAAO8zK,EACnBA,CACT,IACA,OAAOpoE,GAAW/4L,IAAIihQ,EACxB,EAEF,EAEIG,GAAgB,SAAU/pL,EAAUj4E,EAAMiiQ,EAAe/3P,IACzC+tE,EAASiqL,oBAAsBliQ,EAAKjD,SACnCklQ,EAAc/3P,EAAK3L,MACpC2L,EAAKwS,QAAQpf,OAAO,IAAIutO,GAAQ,KAAM,IAAII,YAAa,EAEvD/gO,EAAKwS,QAAQpf,OAAO,IAAIutO,GAAQ,QAAS,IAAI7sO,MAAQy/L,EAEzD,EAII0kE,GAAe,SAAUj4P,EAAM3L,GACjC,OAAO2L,GAAQA,EAAKoS,YAAcpS,EAAKoS,aAAepS,EAAKyrL,WAAazrL,EAAKoS,WAAW/d,OAASA,CACnG,EAKI2iN,GAAU,SAAUl7L,EAAQo8N,EAAkBggB,EAAoBl4P,GACpE,OAAOA,EAAKg3M,QAAQkhC,EAAkBggB,GAAoB,SAAUl4P,GAClE,OANW,SAAU8b,EAAQ9b,GAC/B,IAAIotD,EAAOtxC,EAAOqiL,eAAen+L,EAAK3L,MACtC,OAAO+4D,GAAQA,EAAK0vI,SACtB,CAGWq7D,CAASr8O,EAAQ9b,EAC1B,GACF,EAuBIo4P,GAA4B,SAAUre,EAAQhsK,GAChD,IAAIipL,EAAYjpL,EAASsqL,WACrBC,EAAe,SAAU3mI,GAC3B,IAAI4mI,EAAW5mI,EAAIhiG,KAAK,QAlBA,SAAUgiG,GACpC,OAAOA,EAAIhiG,KAAK,SAAWo5J,GAAIG,gBAAkBh0L,EAAcy8H,EAAIhiG,KAAK,wBAC1E,EAiBQ6oO,CAAsB7mI,IAtBX,SAAUA,GAC3B,OAAOz8H,EAAcy8H,EAAIhiG,KAAK,kBAChC,CAoBsC8oO,CAAa9mI,IAjqL9B,SAAUta,GAC7B,IAAInvG,EAAU,0CAA0Ck9E,KAAKiyB,GAC7D,OAAInvG,EACK5N,EAASJ,KAAK,CACnBrG,KAAMqU,EAAQ,GACdoe,KAAMm8M,mBAAmBv6N,EAAQ,MAG5B5N,EAAS1B,MAEpB,CA0pLI8/P,CAAeH,GAAUx+P,QAAO,WAC9B,OApBe,SAAU43H,EAAK5jD,GAClC,GAAIA,EAAS4qL,sBAAuB,CAClC,IAAIC,EAAY,IAAI9/I,MAKpB,OAJA8/I,EAAU70K,IAAM4tC,EAAIhiG,KAAK,OACzBg4J,GAAOh2D,EAAIvkG,WAAW1zB,KAAK,SAAU5F,EAAOoK,GAC1C06P,EAAU9sP,aAAa5N,EAAKpK,EAC9B,IACOi6E,EAAS4qL,sBAAsBC,EACxC,CACE,OAAO,CAEX,CASaC,CAAelnI,EAAK5jD,EAC7B,IAAGn0E,MAAK,SAAUmN,GAChB,IAAIlT,EAAOkT,EAAGlT,KAAMyyB,EAAOvf,EAAGuf,KAC9B,OAAOhsB,EAAS/B,KAAKy+P,EAAUE,UAAU5wO,EAAMzyB,IAAO4F,SAAQ,WAC5D,OAAO68P,GAAUziQ,EAAMyyB,GAAM5sB,KAAI,SAAUw3B,GACzC,IAAI+lO,EAAWD,EAAU/wH,OAAOmwE,KAAYllL,EAAM5K,GAElD,OADA0wO,EAAUtjQ,IAAIujQ,GACPA,CACT,GACF,GACF,IAAGt9P,MAAK,SAAUs9P,GAChBtlI,EAAIhiG,KAAK,MAAOsnO,EAAS6B,UAC3B,GACF,EACI9B,GACFjd,EAAOgf,mBAAmB,OAAO,SAAUprE,GACzC,OAAOrG,EAAOqG,EAAO2qE,EACvB,GAEJ,EA4JItwH,GAAU3wI,GAAM2wI,QAASgxH,GAAS3hQ,GAAMsC,KAAMs/P,GAAY5hQ,GAAM69G,QAASgkJ,GAAW7hQ,GAAM6yL,OAC1FivE,GAAY,SAAUprL,EAAUjyD,QACnB,IAAXA,IACFA,EAAS09K,MAEX,IAAI+hD,EAAc,CAAC,EACfC,EAAmB,GACnB4d,EAAe,CAAC,EAChBC,EAAoB,CAAC,GACzBtrL,EAAWA,GAAY,CAAC,GACf2wB,WAAW,aAAc3wB,IAAWA,EAAS2wB,SACtD3wB,EAASurL,UAAYvrL,EAASurL,WAAa,OAC3C,IAuGIC,EAAa,SAAUv5P,GACzB,IAAI3L,EAAO2L,EAAK3L,KACZA,KAAQknP,KACNxqN,EAAOqoO,EAAa/kQ,IAEtB08B,EAAKx+B,KAAKyN,GAEVo5P,EAAa/kQ,GAAQ,CAAC2L,IAI1B,IADA,IAAIzK,EAAIimP,EAAiB/lP,OAClBF,KAAK,CACV,IAEMw7B,EAFF47J,EAAW6uD,EAAiBjmP,GAAGlB,KACnC,GAAIs4L,KAAY3sL,EAAKotB,WAAW1zB,KAC1Bq3B,EAAOsoO,EAAkB1sE,IAE3B57J,EAAKx+B,KAAKyN,GAEVq5P,EAAkB1sE,GAAY,CAAC3sL,EAGrC,CACA,OAAOA,CACT,EAmVIm6F,EAAU,CACZr+E,OAAQA,EACRi9O,mBA/TuB,SAAU1kQ,EAAM+1F,GACvC4uK,GAAOC,GAAU5kQ,IAAO,SAAUA,GAChC,IAAIkB,EACJ,IAAKA,EAAI,EAAGA,EAAIimP,EAAiB/lP,OAAQF,IACvC,GAAIimP,EAAiBjmP,GAAGlB,OAASA,EAE/B,YADAmnP,EAAiBjmP,GAAGqnG,UAAUrqG,KAAK63F,GAIvCoxJ,EAAiBjpP,KAAK,CACpB8B,KAAMA,EACNuoG,UAAW,CAACxS,IAEhB,GACF,EAkTE8xJ,oBAjTwB,WACxB,MAAO,GAAGvlP,OAAO6kP,EACnB,EAgTEx+B,cAtVkB,SAAU3oN,EAAM+1F,GAClC4uK,GAAOC,GAAU5kQ,IAAO,SAAUA,GAChC,IAAI08B,EAAOwqN,EAAYlnP,GAClB08B,IACHwqN,EAAYlnP,GAAQ08B,EAAO,IAE7BA,EAAKx+B,KAAK63F,EACZ,GACF,EA+UE6xJ,eA9UmB,WACnB,IAAIrhI,EAAM,GACV,IAAK,IAAI4hD,KAAU++E,EACbp9O,GAAMo9O,EAAa/+E,IACrB5hD,EAAIroH,KAAK,CACP8B,KAAMmoK,EACN5/D,UAAW2+I,EAAY/+E,KAI7B,OAAO5hD,CACT,EAoUE2+I,WAAYA,EACZxxN,MAlTU,SAAU5nC,EAAMrK,GAC1B,IAAI63L,EAAOp4L,EAAGmD,EAAG8gQ,EAAIC,EAAI1oO,EAAM18B,EAE3B2L,EADA05P,EAAkB,GAWtB5jQ,EAAOA,GAAQ,CAAC,EAChBsjQ,EAAe,CAAC,EAChBC,EAAoB,CAAC,EACrB,IAAItB,EAAgBmB,GAASlxH,GAAQ,gDAAiDlsH,EAAO0jL,oBACzF04C,EAAmBp8N,EAAO+jL,sBAC1Bz1L,EAAW0R,EAAO1R,SAClBs0F,EAAW3wB,EAAS2wB,SAEpBi7J,EAjBmB,SAAUtlQ,GAC/B,OAAa,IAATA,EACK,IACW,IAATA,EACF,IAEAA,CAEX,CASoBulQ,CADM,sBAAuB9jQ,EAAOA,EAAKuwP,kBAAoBt4K,EAASs4K,mBAEtFwT,EAAqB/9O,EAAOikL,wBAC5B+5D,EAAwB,cACxBC,EAAsB,cACtBC,EAAsB,cACtBC,EAAwB,eACxBC,EAAiC/7P,GAAM07P,EAAoB/jQ,EAAK09E,UAAYr1E,GAAM07P,EAAoB9rL,EAASurL,WAqC/Ga,EAAa,SAAU9lQ,EAAMR,GAC/B,IACIk9B,EADA/wB,EAAO,IAAI2gO,GAAQtsO,EAAMR,GAU7B,OARIQ,KAAQknP,KACVxqN,EAAOqoO,EAAa/kQ,IAElB08B,EAAKx+B,KAAKyN,GAEVo5P,EAAa/kQ,GAAQ,CAAC2L,IAGnBA,CACT,EACIo6P,EAAyB,SAAUp6P,GAErC,IADA,IAAI+3P,EAAgBj8O,EAAO0jL,mBAClBmoB,EAAW3nN,EAAKozI,KAAMu0E,GAA8B,IAAlBA,EAAS9zN,MAAa,CAC/D,IAAIwmQ,EAAU1yC,EAAS7zN,MAAM0L,QAAQu6P,EAAqB,IAC1D,GAAIM,EAAQ5kQ,OAAS,EAEnB,YADAkyN,EAAS7zN,MAAQumQ,GAGnB,IAAIC,EAAe3yC,EAASv+K,KAC5B,GAAIkxN,EAAc,CAChB,GAA0B,IAAtBA,EAAazmQ,MAAcymQ,EAAaxmQ,MAAM2B,OAAQ,CACxDkyN,EAAWA,EAASv0E,KACpB,QACF,CACA,IAAK2kH,EAAcuC,EAAajmQ,OAA+B,WAAtBimQ,EAAajmQ,MAA2C,UAAtBimQ,EAAajmQ,KAAkB,CACxGszN,EAAWA,EAASv0E,KACpB,QACF,CACF,CACA,IAAIrhI,EAAU41M,EAASv0E,KACvBu0E,EAASp3L,SACTo3L,EAAW51M,CACb,CACF,EAUIgoO,EAAS/U,GAAU,CACrBtmI,SAAUA,EACV1rG,SAAU+6E,EAAS/6E,SACnB8uO,qBAAsB/zJ,EAAS+zJ,qBAC/BhgC,oBAAqB/zH,EAAS+zH,oBAC9BD,kBAAmB9zH,EAAS8zH,kBAC5B0kC,2BAA4Bx4J,EAASw4J,2BACrCmB,eAAgB35J,EAAS25J,eACzBN,sBAjB0B,SAAUxuN,GACpC,IAAIqY,EAAS,CAAC,EACd,IAAK,IAAIyqN,KAAU9iO,EACF,OAAX8iO,GAA8B,MAAXA,IACrBzqN,EAAOyqN,GAAU9iO,EAAM8iO,IAG3B,OAAOzqN,CACT,CASyBspO,CAAsBz+O,EAAO8jL,0BACpDulC,MAAO,SAAUpkO,GACff,EAAK5M,OAAO+mQ,EAAW,SAAU,IAAIrmQ,MAAQiN,CAC/C,EACAA,KAAM,SAAUA,EAAMuM,GACpB,IAAIq6M,EACCuyC,IACHn5P,EAAOA,EAAKvB,QAAQw6P,EAAqB,KA5f7B,SAAUh6P,EAAM+3P,GACpC,OAAO/3P,IAAS7B,GAAM45P,EAAe/3P,EAAK3L,OAAuB,OAAd2L,EAAK3L,KAC1D,CA2fcmmQ,CAAgBx6P,EAAKyrL,UAAWssE,KAClCh3P,EAAOA,EAAKvB,QAAQs6P,EAAuB,MAG3B,IAAhB/4P,EAAKtL,UACPkyN,EAAWwyC,EAAW,QAAS,IACtB7sP,MAAQA,EACjBtN,EAAK5M,OAAOu0N,GAAU7zN,MAAQiN,EAElC,EACAmkO,QAAS,SAAUnkO,GACjBf,EAAK5M,OAAO+mQ,EAAW,WAAY,IAAIrmQ,MAAQiN,CACjD,EACAqkO,GAAI,SAAU/wO,EAAM0M,GAClBf,EAAK5M,OAAO+mQ,EAAW9lQ,EAAM,IAAIP,MAAQiN,EACzCq5P,EAAuBp6P,EACzB,EACAqlO,QAAS,SAAUtkO,GACHf,EAAK5M,OAAO+mQ,EAAW,WAAY,KACzCrmQ,MAAQiN,EAChBq5P,EAAuBp6P,EACzB,EACAf,MAAO,SAAU5K,EAAM4X,EAAOuG,GAC5B,IAAIqzN,EAAcnnI,EAAW5iF,EAAOqiL,eAAe9pM,GAAQ,CAAC,EAC5D,GAAIwxO,EAAa,CACf,IAAImK,EAAUmqB,EAAWt0B,EAAYrpC,YAAcnoM,EAAM,GACzD27O,EAAQ5iN,WAAanhB,EACrB+jO,EAAQjP,WAAavuN,EACrBxS,EAAK5M,OAAO48O,GACZ,IAAIyqB,EAAWrwP,EAASpK,EAAK3L,MACzBomQ,GAAYrwP,EAAS4lO,EAAQ37O,QAAUomQ,EAASzqB,EAAQ37O,OAC1DqlQ,EAAgBnnQ,KAAKy9O,GAGvB,IADA,IAAI0qB,EAAiBlf,EAAiB/lP,OAC/BilQ,KAAkB,CACvB,IAAI/tE,EAAW6uD,EAAiBkf,GAAgBrmQ,KAC5Cs4L,KAAY1gL,EAAMvS,OACpBq3B,EAAOsoO,EAAkB1sE,IAEvB57J,EAAKx+B,KAAKy9O,GAEVqpB,EAAkB1sE,GAAY,CAACqjD,GAGrC,CACI+nB,EAAc1jQ,IAChB+lQ,EAAuBpqB,GAEpBx9N,IACHxS,EAAOgwO,IAEJkqB,GAAkCL,EAAmBxlQ,KACxD6lQ,GAAiC,EAErC,CACF,EACAliJ,IAAK,SAAU3jH,GACb,IAAIszN,EAAU5mN,EAAMgR,EAAS4oP,EACzB90B,EAAcnnI,EAAW5iF,EAAOqiL,eAAe9pM,GAAQ,CAAC,EAC5D,GAAIwxO,EAAa,CACf,GAAIkyB,EAAc1jQ,KACX6lQ,EAAgC,CAEnC,IADAvyC,EAAW3nN,EAAKoS,aACkB,IAAlBu1M,EAAS9zN,KAEvB,IADAkN,EAAO4mN,EAAS7zN,MAAM0L,QAAQs6P,EAAuB,KAC5CrkQ,OAAS,EAChBkyN,EAAS7zN,MAAQiN,EACjB4mN,EAAWA,EAASv+K,UAKpB,IAHAr3B,EAAU41M,EAASv+K,KACnBu+K,EAASp3L,SACTo3L,EAAW51M,EACJ41M,GAA8B,IAAlBA,EAAS9zN,MAC1BkN,EAAO4mN,EAAS7zN,MAChBie,EAAU41M,EAASv+K,MACC,IAAhBroC,EAAKtL,QAAgBwkQ,EAAsBl3P,KAAKhC,MAClD4mN,EAASp3L,SACTo3L,EAAW51M,GAEb41M,EAAW51M,EAKjB,IADA41M,EAAW3nN,EAAKyrL,YACkB,IAAlBk8B,EAAS9zN,KAEvB,IADAkN,EAAO4mN,EAAS7zN,MAAM0L,QAAQu6P,EAAqB,KAC1CtkQ,OAAS,EAChBkyN,EAAS7zN,MAAQiN,EACjB4mN,EAAWA,EAASv0E,UAKpB,IAHArhI,EAAU41M,EAASv0E,KACnBu0E,EAASp3L,SACTo3L,EAAW51M,EACJ41M,GAA8B,IAAlBA,EAAS9zN,MAC1BkN,EAAO4mN,EAAS7zN,MAChBie,EAAU41M,EAASv0E,MACC,IAAhBryI,EAAKtL,QAAgBwkQ,EAAsBl3P,KAAKhC,MAClD4mN,EAASp3L,SACTo3L,EAAW51M,GAEb41M,EAAW51M,CAInB,CAKF,GAHImoP,GAAkCL,EAAmBxlQ,KACvD6lQ,GAAiC,GAE/Br0B,EAAY9oC,aAAeia,GAAQl7L,EAAQo8N,EAAkB2hB,EAAoB75P,GAQnF,OAPA26P,EAAW36P,EAAKiK,OACZ8tP,EAAc/3P,EAAK3L,MACrB2L,EAAKwS,QAAQ+d,SAEbvwB,EAAK6S,cAEP7S,EAAO26P,GAGL90B,EAAY/oC,YAnoBH,SAAU98L,GAC/B,OAAOi4P,GAAaj4P,EAAM,UAAYA,EAAKoS,WAAWte,QAAUy/L,EAClE,CAioBwCqnE,CAAiB56P,IAASg3M,GAAQl7L,EAAQo8N,EAAkB2hB,EAAoB75P,KAC5G83P,GAAc/pL,EAAUj4E,EAAMiiQ,EAAe/3P,GAE/CA,EAAOA,EAAKiK,MACd,CACF,GACC6R,GACCi0D,EAAW/vE,EAAO,IAAI2gO,GAAQ7qO,EAAK09E,SAAWzF,EAASurL,UAAW,IAYtE,GAXAvf,EAAOhyM,MAAM5nC,EAAMrK,EAAK8zF,QACpB8U,GAAYg7J,EAAgBjkQ,SACzBK,EAAK09E,QAGR19E,EAAK+uJ,SAAU,EAxaI,SAAU8oC,GAuBjC,IAtBA,IAAIktE,EAAuB7yH,GAAQ,oCAC/BkwG,EAAmBp8N,EAAO+jL,sBAC1Bq4D,EAAqBp8O,EAAOikL,wBAC5B+6D,EAAoBh/O,EAAO2jL,uBAC3B9F,EAAkB79K,EAAOkkL,qBACzB+6D,EAA4B,SAAU/6P,EAAMg7P,GAI9C,QAH2B,IAAvBA,IACFA,EAAqBh7P,EAAKiK,QAExB0vL,EAAgB35L,EAAK3L,MACvB2L,EAAKwS,QAAQ+d,aACR,CAEL,IADA,IACSx6B,EAAK,EAAGklQ,EADFj7P,EAAKoK,WACoBrU,EAAKklQ,EAAWxlQ,OAAQM,IAAM,CACpE,IAAI0rP,EAAYwZ,EAAWllQ,GACtB+lB,EAAOokL,aAAa86D,EAAmB3mQ,KAAMotP,EAAUptP,OAC1D0mQ,EAA0BtZ,EAAWuZ,EAEzC,CACAh7P,EAAK6S,QACP,CACF,EACSynL,EAAK,EAAGA,EAAK3M,EAAMl4L,OAAQ6kM,IAAM,CACxC,IAAIt6L,EAAO2tL,EAAM2M,GACb9uB,OAAW,EAAQ0vF,OAAY,EAAQP,OAAW,EACtD,GAAK36P,EAAKiK,SAAUjK,EAAK+gC,MAGzB,GAAI+5N,EAAkB96P,EAAK3L,OAA8B,OAArB2L,EAAKiK,OAAO5V,KAAhD,CAEE,IADA,IAAI0d,EAAU/R,EAAKopC,KACZr3B,GACD+oP,EAAkB/oP,EAAQ1d,OAC5B0d,EAAQ1d,KAAO,KACf0d,EAAQgvB,OAAQ,EAChB/gC,EAAKiK,OAAOpX,OAAOkf,EAAS/R,EAAKiK,QAInC8H,EAAUA,EAAQq3B,KAEpBppC,EAAK6S,QAEP,KAdA,CAeA,IAAI04J,EAAU,CAACvrK,GACf,IAAKwrK,EAAWxrK,EAAKiK,OAAQuhK,IAAa1vJ,EAAOokL,aAAa10B,EAASn3K,KAAM2L,EAAK3L,QAAUwmQ,EAAqBrvF,EAASn3K,MAAOm3K,EAAWA,EAASvhK,OACnJshK,EAAQh5K,KAAKi5K,GAEf,GAAIA,GAAYD,EAAQ91K,OAAS,EAC/B,GAAIqmB,EAAOokL,aAAa10B,EAASn3K,KAAM2L,EAAK3L,MAAO,CACjDk3K,EAAQnvK,UAGR,IADA,IAAI++P,EADJD,EAAY3B,EAAWhuF,EAAQ,GAAGpiJ,SAEzB5zB,EAAI,EAAGA,EAAIg2K,EAAQ91K,OAAS,EAAGF,IAAK,CACvCumB,EAAOokL,aAAai7D,EAAY9mQ,KAAMk3K,EAAQh2K,GAAGlB,OACnDsmQ,EAAWpB,EAAWhuF,EAAQh2K,GAAG4zB,SACjCgyO,EAAY/nQ,OAAOunQ,IAEnBA,EAAWQ,EAEb,IAAK,IAAI1Z,EAAYl2E,EAAQh2K,GAAG6c,WAAYqvO,GAAaA,IAAcl2E,EAAQh2K,EAAI,IAAK,CACtF,IAAIy1N,EAAWy2B,EAAUr4M,KACzBuxN,EAASvnQ,OAAOquP,GAChBA,EAAYz2B,CACd,CACAmwC,EAAcR,CAChB,CACK3jD,GAAQl7L,EAAQo8N,EAAkBggB,EAAoBgD,GAIzD1vF,EAAS34K,OAAOmN,EAAMurK,EAAQ,IAAI,IAHlCC,EAAS34K,OAAOqoQ,EAAW3vF,EAAQ,IAAI,GACvCC,EAAS34K,OAAOmN,EAAMk7P,IAIxB1vF,EAAWD,EAAQ,IACfyrC,GAAQl7L,EAAQo8N,EAAkBggB,EAAoB1sF,IAAaysF,GAAazsF,EAAU,QAC5FA,EAASh5J,QAAQ+d,QAErB,MACEwqO,EAA0B/6P,QAEvB,GAAIA,EAAKiK,OAAQ,CACtB,GAAkB,OAAdjK,EAAK3L,KAAe,CAEtB,IADI0d,EAAU/R,EAAKozI,QACc,OAAjBrhI,EAAQ1d,MAAkC,OAAjB0d,EAAQ1d,MAAgB,CAC/D0d,EAAQ3e,OAAO4M,GACf,QACF,CAEA,IADA+R,EAAU/R,EAAKopC,QACkB,OAAjBr3B,EAAQ1d,MAAkC,OAAjB0d,EAAQ1d,MAAgB,CAC/D0d,EAAQlf,OAAOmN,EAAM+R,EAAQK,YAAY,GACzC,QACF,CACApS,EAAK25H,KAAK4/H,EAAW,IAAI54B,GAAQ,KAAM,KACvC,QACF,CACI7kN,EAAOokL,aAAalgM,EAAKiK,OAAO5V,KAAM,QAAUynB,EAAOokL,aAAa,MAAOlgM,EAAK3L,MAClF2L,EAAK25H,KAAK4/H,EAAW,IAAI54B,GAAQ,MAAO,KAExCo6B,EAA0B/6P,EAE9B,CAzDA,CA0DF,CACF,CAgUMo7P,CAAmB1B,IAKnBC,IAAoC,SAAlB5pL,EAAS17E,MAAmByB,EAAKymP,gBAzOnC,WAClB,IAAIv8O,EAAO+vE,EAAS39D,WAAYipP,EAAgB,KAC5CznN,EAAO,SAAUyzK,GACfA,KACFrnN,EAAOqnN,EAAUj1M,aACS,IAAdpS,EAAKnM,OACfmM,EAAKlM,MAAQkM,EAAKlM,MAAM0L,QAAQs6P,EAAuB,MAEzD95P,EAAOqnN,EAAU57B,YACS,IAAdzrL,EAAKnM,OACfmM,EAAKlM,MAAQkM,EAAKlM,MAAM0L,QAAQu6P,EAAqB,KAG3D,EACA,GAAKj+O,EAAOokL,aAAanwH,EAAS17E,KAAMslQ,EAAch4P,eAAtD,CAGA,KAAO3B,GAAM,CACX,IAAIopC,EAAOppC,EAAKopC,KACE,IAAdppC,EAAKnM,MAA4B,IAAdmM,EAAKnM,MAA4B,MAAdmM,EAAK3L,OAAiB0jQ,EAAc/3P,EAAK3L,QAAU2L,EAAK2vB,KAAK,kBAChG0rO,KACHA,EAAgBlB,EAAWR,EAAe,IAC5BhqO,KAAKo+C,EAAS+zK,yBAC5B/xK,EAASl9E,OAAOwoQ,EAAer7P,IAG/Bq7P,EAAcjoQ,OAAO4M,KAGvB4zC,EAAKynN,GACLA,EAAgB,MAElBr7P,EAAOopC,CACT,CACAwK,EAAKynN,EAlBL,CAmBF,CAuMEC,IAEGxlQ,EAAK+uJ,QAAS,CACjB,IAAKxwJ,KAAQ+kQ,EACX,GAAKj7P,GAAMi7P,EAAc/kQ,GAAzB,CAMA,IAHA08B,EAAOwqN,EAAYlnP,GAEnBmlQ,GADA7rE,EAAQyrE,EAAa/kQ,IACVoB,OACJ+jQ,KACA7rE,EAAM6rE,GAAIvvP,QACb0jL,EAAMrlG,OAAOkxK,EAAI,GAGrB,IAAKjkQ,EAAI,EAAGmD,EAAIq4B,EAAKt7B,OAAQF,EAAImD,EAAGnD,IAClCw7B,EAAKx7B,GAAGo4L,EAAOt5L,EAAMyB,EAVvB,CAaF,IAAKP,EAAI,EAAGmD,EAAI8iP,EAAiB/lP,OAAQF,EAAImD,EAAGnD,IAE9C,IADAw7B,EAAOyqN,EAAiBjmP,IACflB,QAAQglQ,EAAmB,CAGlC,IADAG,GADA7rE,EAAQ0rE,EAAkBtoO,EAAK18B,OACpBoB,OACJ+jQ,KACA7rE,EAAM6rE,GAAIvvP,QACb0jL,EAAMrlG,OAAOkxK,EAAI,GAGrB,IAAKA,EAAK,EAAGC,EAAK1oO,EAAK6rE,UAAUnnG,OAAQ+jQ,EAAKC,EAAID,IAChDzoO,EAAK6rE,UAAU48J,GAAI7rE,EAAO58J,EAAK18B,KAAMyB,EAEzC,CAEJ,CACA,OAAOi6E,CACT,GAYA,OAnoBe,SAAUgqK,EAAQhsK,GACjC,IAAIjyD,EAASi+N,EAAOj+N,OAChBiyD,EAASwtL,qBACXxhB,EAAO/8B,cAAc,MAAM,SAAUrvB,EAAO93K,EAAG/f,GAC7C,IAAIP,EAEAyK,EAGAiK,EAAQgmM,EAAY78D,EAAMooH,EAE1B31B,EAAale,EANbjvN,EAAIi1L,EAAMl4L,OAEVsiQ,EAAgB1gQ,GAAM6yL,OAAO,CAAC,EAAGpuK,EAAO0jL,oBACxC04C,EAAmBp8N,EAAO+jL,sBAE1Bg6D,EAAqB/9O,EAAOikL,wBAGhC,IADAg4D,EAAc5sP,KAAO,EAChB5V,EAAI,EAAGA,EAAImD,EAAGnD,IAGjB,GADA0U,GADAjK,EAAO2tL,EAAMp4L,IACC0U,OACV8tP,EAAc/3P,EAAKiK,OAAO5V,OAAS2L,IAASiK,EAAOwhL,UAAW,CAEhE,IADAr4C,EAAOpzI,EAAKozI,KACLA,GAAM,CAEX,GAAiB,UADjBooH,EAAWpoH,EAAK/+I,OAC0C,aAA/B++I,EAAKzjH,KAAK,iBAAiC,CACnD,OAAb6rO,IACFx7P,EAAO,MAET,KACF,CACAozI,EAAOA,EAAKA,IACd,CACIpzI,IACFA,EAAKuwB,SACDymL,GAAQl7L,EAAQo8N,EAAkB2hB,EAAoB5vP,KACxD47N,EAAc/pN,EAAOqiL,eAAel0L,EAAO5V,SAErCwxO,EAAY9oC,YACd9yL,EAAOsmB,SACEs1M,EAAY/oC,WACrBg7D,GAAc/pL,EAAUj4E,EAAMiiQ,EAAe9tP,IAKvD,KAAO,CAEL,IADAgmM,EAAajwM,EACNiK,GAAUA,EAAOmI,aAAe69L,GAAchmM,EAAOwhL,YAAcwkB,IACxEA,EAAahmM,GACT8tP,EAAc9tP,EAAO5V,QAGzB4V,EAASA,EAAOA,OAEdgmM,IAAehmM,IAA0C,IAAhC8jE,EAASiqL,sBACpCrwC,EAAW,IAAIgZ,GAAQ,QAAS,IACvB7sO,MAAQy/L,GACjBvzL,EAAKR,QAAQmoN,GAEjB,CAEJ,IAEFoyB,EAAOgf,mBAAmB,QAAQ,SAAUprE,GAC1C,IAO4B9rJ,EACtB45N,EARFlmQ,EAAIo4L,EAAMl4L,OAed,IAAKs4E,EAAS2tL,yBACZ,KAAOnmQ,KAAK,CACV,IAAIyK,EAAO2tL,EAAMp4L,GACC,MAAdyK,EAAK3L,MAAwC,WAAxB2L,EAAK2vB,KAAK,WACjC3vB,EAAK2vB,KAAK,OAXV8rO,YADsB55N,EAYO7hC,EAAK2vB,KAAK,QAXxBt4B,GAAMu8C,KAAK/R,GAAO,GAChC,kBAAkB9+B,KAAK04P,GAGnBA,EAXK,SAAU55N,GAIxB,OAHYA,EAAI5V,MAAM,KAAKlyB,QAAO,SAAUnC,GAC1C,OAAOA,EAAEnC,OAAS,CACpB,IACakB,OAAO,CAAC,aAAa+F,OAAOme,KAAK,IAChD,CAIW8gP,CAAUF,IAWnB,CAEJ,IACK1tL,EAAS6tL,4BACZ7hB,EAAOgf,mBAAmB,WAAW,SAAUprE,GAE7C,IADA,IAAsB57K,EAASs5K,EAAaphL,EAAQjK,EAAhDzK,EAAIo4L,EAAMl4L,OACPF,KAEL,GAAkB,OADlByK,EAAO2tL,EAAMp4L,IACJlB,MAAgB2L,EAAKoS,aAAepS,EAAK2vB,KAAK,QAAS,CAC9D1lB,EAASjK,EAAKiK,OACd8H,EAAU/R,EAAKyrL,UACf,GACEJ,EAAct5K,EAAQqhI,KACtBnpI,EAAOpX,OAAOkf,EAAS/R,GACvB+R,EAAUs5K,QACHt5K,EACX,CAEJ,IAEEg8D,EAAS8tL,mBACX9hB,EAAO/8B,cAAc,SAAS,SAAUrvB,GAEtC,IADA,IAAsB3tL,EAAMkK,EAAxB3U,EAAIo4L,EAAMl4L,OACPF,KAGL,GAAwB,QADxB2U,GADAlK,EAAO2tL,EAAMp4L,IACK0U,QACH5V,MAAqC,OAApB6V,EAAW7V,KACzC,GAAI2L,EAAKozI,MAA2B,OAAnBpzI,EAAKozI,KAAK/+I,KACzB2L,EAAKozI,KAAKhgJ,OAAO4M,OACZ,CACL,IAAIy+L,EAAK,IAAIkiC,GAAQ,KAAM,GAC3BliC,EAAG9uK,KAAK,QAAS,yBACjB3vB,EAAK25H,KAAK8kE,EACZ,CAGN,IAEE1wH,EAAS2wB,UAAY5iF,EAAOwjL,mBAC9By6C,EAAOgf,mBAAmB,SAAS,SAAUprE,GAG3C,IAFA,IAAIwN,EAAer/K,EAAOwjL,kBACtB/pM,EAAIo4L,EAAMl4L,OACPF,KAAK,CAIV,IAHA,IAAIyK,EAAO2tL,EAAMp4L,GACbs6B,EAAY7vB,EAAK2vB,KAAK,SAAS1D,MAAM,KACrC6vO,EAAa,GACRx2D,EAAK,EAAGA,EAAKz1K,EAAUp6B,OAAQ6vM,IAAM,CAC5C,IAAI/nE,EAAY1tG,EAAUy1K,GACtB1mG,GAAQ,EACRm9J,EAAkB5gE,EAAa,KAC/B4gE,GAAmBA,EAAgBx+H,KACrC3+B,GAAQ,GAEVm9J,EAAkB5gE,EAAan7L,EAAK3L,OAC/BuqG,GAASm9J,GAAmBA,EAAgBx+H,KAC/C3+B,GAAQ,GAENA,IACEk9J,IACFA,GAAc,KAEhBA,GAAcv+H,EAElB,CACKu+H,EAAWrmQ,SACdqmQ,EAAa,MAEf97P,EAAK2vB,KAAK,QAASmsO,EACrB,CACF,IAEF1D,GAA0Bre,EAAQhsK,EACpC,CAweEivF,CAAW7iE,EAASpsB,GA54BL,SAAU8nL,EAAW9nL,GAChCA,EAASiuL,eACX/F,GAAWJ,EAAW9nL,EAE1B,CAy4BE6uF,CAAWziE,EAASpsB,GACbosB,CACT,EAoLIhiF,GAAU,SAAUs1D,EAAQztE,EAAMlK,GACpC,OAJoB,SAAU23E,EAAQ33E,GACtC,OAAO23E,GAAUA,EAAOwuL,kBAAkB,gBAAkBnmQ,EAAK6yO,SACnE,CAESuzB,CAAgBzuL,EAAQ33E,GA5BhB,SAAU23E,EAAQztE,EAAMlK,GACvC,IAAIqmQ,EACAv8P,EAAM6tE,EAAO7tE,IACbw8P,EAAap8P,EAAK+oB,WAAU,GAC5BszO,EAAOrpQ,SAASk6P,eACpB,GAAImP,EAAKlP,mBAAoB,CAC3B,IAAImP,EAAQD,EAAKlP,mBAAmB,IACpC91P,GAAMsC,KAA6B,SAAxByiQ,EAAW16P,SAAsB06P,EAAW37P,WAAa,CAAC27P,IAAa,SAAUp8P,GAC1Fs8P,EAAMnxP,KAAKkH,YAAYiqP,EAAMrW,WAAWjmP,GAAM,GAChD,IAEEo8P,EAD0B,SAAxBA,EAAW16P,SACA46P,EAAMnxP,KAAKiH,WAEXkqP,EAAMnxP,KAErBgxP,EAASv8P,EAAI+L,IACb/L,EAAI+L,IAAM2wP,CACZ,CAKA,OAl5QmB,SAAU7uL,EAAQ33E,GAC9B23E,EAAOsZ,KAAK,aAAcjxF,EACnC,CA44QEymQ,CAAe9uL,EAAQl2E,GAASA,GAAS,CAAC,EAAGzB,GAAO,CAAEkK,KAAMo8P,KACxDD,IACFv8P,EAAI+L,IAAMwwP,GAELC,CACT,CAKyCI,CAAW/uL,EAAQztE,EAAMlK,GAAQkK,CAC1E,EAEIy8P,GAAc,SAAUC,EAAY10B,EAAW3zO,IACT,IAApCgD,GAAM2yL,QAAQg+C,EAAW3zO,KAC3BqoQ,EAAW3D,mBAAmB1kQ,GAAM,SAAUs5L,EAAOt5L,GAEnD,IADA,IAAIkB,EAAIo4L,EAAMl4L,OACPF,KACLo4L,EAAMp4L,GAAGo6B,KAAKt7B,EAAM,KAExB,IACA2zO,EAAUz1O,KAAK8B,GAEnB,EAuBIsoQ,GAAS,SAAUlvL,EAAQM,EAAUjyD,EAAQi0D,EAAUj6E,GACzD,IAAIyyB,EALc,SAAUwlD,EAAUjyD,EAAQ9b,GAE9C,OADqB8pO,GAAe/7J,EAAUjyD,GACxBkmL,UAAUhiM,EAClC,CAEgB48P,CAAc7uL,EAAUjyD,EAAQi0D,GAC9C,OAxBgB,SAAUtC,EAAQ33E,EAAMyyB,GACxC,IAAKzyB,EAAK6yO,WAAal7J,EAAQ,CAC7B,IAAIovL,EAr6Qc,SAAUpvL,EAAQ33E,GACtC,OAAO23E,EAAOsZ,KAAK,cAAejxF,EACpC,CAm6QkBgnQ,CAAgBrvL,EAAQl2E,GAASA,GAAS,CAAC,EAAGzB,GAAO,CAAEyyB,QAASA,KAC9E,OAAOs0O,EAAQt0O,OACjB,CACE,OAAOA,CAEX,CAiBSw0O,CAAYtvL,EAAQ33E,EAAMyyB,EACnC,EACIy0O,GAAoB,SAAUjvL,EAAUN,GAC1C,IAAIu6J,EAAY,CAAC,qBACbpoO,EAAM6tE,GAAUA,EAAO7tE,IAAM6tE,EAAO7tE,IAAMkzM,GAASp2H,IACnD5gE,EAAS2xD,GAAUA,EAAO3xD,OAAS2xD,EAAO3xD,OAAS09K,GAAOzrH,GAC9DA,EAAS47J,gBAAkB57J,EAAS47J,iBAAmB,QACvD57J,EAASwtL,sBAAsB,wBAAyBxtL,IAAWA,EAASwtL,oBAC5E,IAAImB,EAAavD,GAAUprL,EAAUjyD,IAjOxB,SAAU4gP,EAAY3uL,EAAUnuE,GAC7C88P,EAAW3D,mBAAmB,qBAAqB,SAAUprE,EAAOt5L,GAElE,IADA,IAAIkB,EAAIo4L,EAAMl4L,OACPF,KAAK,CACV,IAAIyK,EAAO2tL,EAAMp4L,GACjByK,EAAK2vB,KAAK,WAAY3vB,EAAK2vB,KAAK,sBAChC3vB,EAAK2vB,KAAKt7B,EAAM,KAClB,CACF,IACAqoQ,EAAW3D,mBAAmB,kBAAkB,SAAUprE,EAAOt5L,GAK/D,IAJA,IAAI4oQ,EAAe,YAAc5oQ,EAC7BysM,EAAe/yH,EAASgzH,cACxBC,EAAoBjzH,EAASkzH,oBAC7B1rM,EAAIo4L,EAAMl4L,OACPF,KAAK,CACV,IAAIyK,EAAO2tL,EAAMp4L,GACbzB,EAAQkM,EAAK2vB,KAAKstO,QACR1pQ,IAAVO,GACFkM,EAAK2vB,KAAKt7B,EAAMP,EAAM2B,OAAS,EAAI3B,EAAQ,MAC3CkM,EAAK2vB,KAAKstO,EAAc,QAExBnpQ,EAAQkM,EAAK2vB,KAAKt7B,GACL,UAATA,EACFP,EAAQ8L,EAAIm2M,eAAen2M,EAAImlI,WAAWjxI,GAAQkM,EAAK3L,MAC9CysM,IACThtM,EAAQgtM,EAAahpM,KAAKkpM,EAAmBltM,EAAOO,EAAM2L,EAAK3L,OAEjE2L,EAAK2vB,KAAKt7B,EAAMP,EAAM2B,OAAS,EAAI3B,EAAQ,MAE/C,CACF,IACA4oQ,EAAW3D,mBAAmB,SAAS,SAAUprE,GAE/C,IADA,IAAIp4L,EAAIo4L,EAAMl4L,OACPF,KAAK,CACV,IAAIyK,EAAO2tL,EAAMp4L,GACbzB,EAAQkM,EAAK2vB,KAAK,SAClB77B,IACFA,EAAQkM,EAAK2vB,KAAK,SAASnwB,QAAQ,8BAA+B,IAClEQ,EAAK2vB,KAAK,QAAS77B,EAAM2B,OAAS,EAAI3B,EAAQ,MAElD,CACF,IACA4oQ,EAAW3D,mBAAmB,iBAAiB,SAAUprE,EAAOt5L,EAAMyB,GAEpE,IADA,IAAIP,EAAIo4L,EAAMl4L,OACPF,KAAK,CACV,IAAIyK,EAAO2tL,EAAMp4L,GACjB,GAAmC,aAA/ByK,EAAK2vB,KAAK,mBAAoC75B,EAAKuiN,QAAS,CAC9D,IAAI6kD,EAAc5iQ,EAAS/B,KAAKyH,EAAKoS,YAAYvY,QAAO,SAAUuY,GAChE,OAAQqhL,GAAOrhL,EAAWte,MAC5B,IACIopQ,EACFl9P,EAAK6S,SAEL7S,EAAKuwB,QAET,CACF,CACF,IACAmsO,EAAW1/C,cAAc,YAAY,SAAUrvB,GAE7C,IADA,IAAIp4L,EAAIo4L,EAAMl4L,OACPF,KAAK,CACV,IAAIyK,EAAO2tL,EAAMp4L,GAAG6c,WAChBpS,IACFA,EAAKlM,MAAQykM,GAASM,OAAO74L,EAAKlM,OAEtC,CACF,IACA4oQ,EAAW1/C,cAAc,gBAAgB,SAAUrvB,EAAOt5L,GAKxD,IAJA,IAAIu/C,EAAO,SAAU9/C,GACnB,OAAOA,EAAM0L,QAAQ,2BAA4B,MAAMA,QAAQ,qBAAsB,IAAIA,QAAQ,0HAA2H,IAAIA,QAAQ,4GAA6G,GACvV,EACIjK,EAAIo4L,EAAMl4L,OACPF,KAAK,CACV,IAAIyK,EAAO2tL,EAAMp4L,GACbzB,EAAQkM,EAAKoS,WAAapS,EAAKoS,WAAWte,MAAQ,GACtD,GAAa,WAATO,EAAmB,CACrB,IAAIR,EAAOmM,EAAK2vB,KAAK,QACjB97B,GACFmM,EAAK2vB,KAAK,OAAiB,gBAAT97B,EAAyB,KAAOA,EAAK2L,QAAQ,SAAU,KAE3C,UAA5BuuE,EAAS87J,gBAA8B/1O,EAAM2B,OAAS,IACxDuK,EAAKoS,WAAWte,MAAQ,iBAAmB8/C,EAAK9/C,GAAS,WAE7D,KACkC,UAA5Bi6E,EAAS87J,gBAA8B/1O,EAAM2B,OAAS,IACxDuK,EAAKoS,WAAWte,MAAQ,YAAW8/C,EAAK9/C,GAAS,WAGvD,CACF,IACA4oQ,EAAW1/C,cAAc,YAAY,SAAUrvB,GAE7C,IADA,IAAIp4L,EAAIo4L,EAAMl4L,OACPF,KAAK,CACV,IAAIyK,EAAO2tL,EAAMp4L,GACbw4E,EAAS25J,gBAAoD,IAAlC1nO,EAAKlM,MAAMoE,QAAQ,YAChD8H,EAAK3L,KAAO,SACZ2L,EAAKnM,KAAO,EACZmM,EAAKlM,MAAQ8L,EAAIi5L,OAAO74L,EAAKlM,MAAM0L,QAAQ,oBAAqB,MACd,IAAzCQ,EAAKlM,MAAMoE,QAAQ,oBAC5B8H,EAAK3L,KAAO,QACZ2L,EAAKnM,KAAO,EACZmM,EAAKsN,KAAM,EACXtN,EAAKlM,MAAQ8uO,SAAS5iO,EAAKlM,OAAOkL,OAAO,IAE7C,CACF,IACA09P,EAAW1/C,cAAc,uBAAuB,SAAUrvB,EAAOt5L,GAE/D,IADA,IAAIkB,EAAIo4L,EAAMl4L,OACPF,KAAK,CACV,IAAIyK,EAAO2tL,EAAMp4L,GACC,IAAdyK,EAAKnM,KACPmM,EAAKuwB,SACkB,IAAdvwB,EAAKnM,OACD,UAATQ,GAAqB2L,EAAK2vB,KAAK,SACjC3vB,EAAK2vB,KAAK,OAAQ,QAGxB,CACF,IACA+sO,EAAW3D,mBAAmB,iBAAiB,SAAUprE,GACvDrG,EAAOqG,GAAO,SAAU3tL,GACa,iBAA/BA,EAAK2vB,KAAK,mBACR3vB,EAAKg3M,QAAQ0lD,EAAW5gP,OAAO+jL,uBACjC7/L,EAAKuwB,SAELvwB,EAAK6S,SAGX,GACF,IACA6pP,EAAW3D,mBAAmB,mIAA6I,SAAUprE,EAAOt5L,GAE1L,IADA,IAAIkB,EAAIo4L,EAAMl4L,OACPF,KACLo4L,EAAMp4L,GAAGo6B,KAAKt7B,EAAM,KAExB,GACF,CA0FEyhG,CAAS4mK,EAAY3uL,EAAUnuE,GAW/B,MAAO,CACLkc,OAAQA,EACRkhM,cAAe0/C,EAAW1/C,cAC1B+7C,mBAAoB2D,EAAW3D,mBAC/B/2D,UAdc,SAAUhiM,EAAMq6O,QACX,IAAfA,IACFA,EAAa,CAAC,GAEhB,IAAIvkP,EAAOyB,GAAS,CAAEqyF,OAAQ,QAAUywJ,GACpC7sF,EAAar1I,GAAQs1D,EAAQztE,EAAMlK,GACnCqK,EAhCc,SAAUP,EAAKI,EAAMlK,GACzC,IAAIqK,EAAOuzL,GAAO59L,EAAK0yO,SAAWxoO,EAAKO,UAAYX,EAAIy2M,aAAar2M,IACpE,OAAOlK,EAAKo7C,WAAaoiJ,GAAoBrzL,GAAaF,QAAQC,IAASG,EAAO9I,GAAMu8C,KAAKzzC,EAC/F,CA6Beg9P,CAAgBv9P,EAAK4tJ,EAAY13J,GACxCi6E,EA7BQ,SAAU2sL,EAAYv8P,EAAMrK,GAC1C,IAAIukP,EAAavkP,EAAKo7C,UAAY35C,GAAS,CAAE8uP,mBAAmB,GAASvwP,GAAQA,EAC7Ei6E,EAAW2sL,EAAW30N,MAAM5nC,EAAMk6O,GAEtC,OAxEmB,SAAUtqK,GAC7B,IAAIm9J,EAAO,SAAUltO,GACnB,OAAOA,GAAsB,OAAdA,EAAK3L,IACtB,EACI+oQ,EAAUrtL,EAAS07G,UACvB,GAAIyhD,EAAKkwB,GAAU,CACjB,IAAIC,EAAUD,EAAQhqH,KAClB85F,EAAKmwB,KACPD,EAAQ7sO,SACR8sO,EAAQ9sO,SAEZ,CACF,CA2DE+sO,CAAevtL,GACRA,CACT,CAwBmBwtL,CAAUb,EAAYv8P,EAAMrK,GAC3C,MAAuB,SAAhBA,EAAK8zF,OAAoB7Z,EAAW4sL,GAAOlvL,EAAQM,EAAUjyD,EAAQi0D,EAAUj6E,EACxF,EAME0nQ,SAAU1hP,EAAOkgL,iBACjByhE,SAAU3hP,EAAOyhL,iBACjBk/D,YAAanmQ,EAAMmmQ,GAAaC,EAAY10B,GAC5CG,aAAcjlN,EAAS8kN,GACvBiU,eAAgBygB,EAAWzgB,eAC3BC,oBAAqBwgB,EAAWxgB,oBAEpC,EAEIwhB,GAAgB,SAAU3vL,EAAUN,GACtC,IAAIkwL,EAAgBX,GAAkBjvL,EAAUN,GAChD,MAAO,CACL3xD,OAAQ6hP,EAAc7hP,OACtBkhM,cAAe2gD,EAAc3gD,cAC7B+7C,mBAAoB4E,EAAc5E,mBAClC/2D,UAAW27D,EAAc37D,UACzBw7D,SAAUG,EAAcH,SACxBC,SAAUE,EAAcF,SACxBhB,YAAakB,EAAclB,YAC3Bt0B,aAAcw1B,EAAcx1B,aAC5B8T,eAAgB0hB,EAAc1hB,eAC9BC,oBAAqByhB,EAAczhB,oBAEvC,EAGIjzK,GAAa,SAAUwE,EAAQ33E,GAKjC,YAJa,IAATA,IACFA,EAAO,CAAC,GAvrDO,SAAU23E,EAAQ33E,EAAM8zF,GACzC,OAAOmoK,GAA2BtkL,GAAQA,OAAOxE,WAAWnzE,EAAM8zF,EACpE,CAwrDSg0K,CAAanwL,EAAQ33E,EADfA,EAAK8zF,OAAS9zF,EAAK8zF,OALd,OAOpB,EAEIttC,GAAa,SAAUmxB,EAAQllD,EAASzyB,GAI1C,YAHa,IAATA,IACFA,EAAO,CAAC,GA5rDO,SAAU23E,EAAQllD,EAASzyB,GAC5C,OAAOi8P,GAA2BtkL,GAAQA,OAAOnxB,WAAW/zB,EAASzyB,EACvE,CA4rDS+nQ,CAAapwL,EAAQllD,EAASzyB,EACvC,EAEIgoQ,GAAQhrD,GAASp2H,IAIjBqhL,GAAc,SAAUhqQ,GAC1B,OAAOuG,EAAS/B,KAAKxE,GAAG4F,MAAK,SAAU5F,GACrC,OAAOA,EAAEmyC,SACX,GACF,EAmBI3V,GAAS,SAAUk9C,GACrB,IAAKA,EAAOylD,QAAS,CACnB,IAAIsnH,EAAsB/sK,EAAO+sK,oBAAqBwjB,EAAevwL,EAAOuwL,aACxE7yP,EAAOsiE,EAAO7hE,UACdnK,EAAUgsE,EAAO+O,aACjBrxE,GACFsiE,EAAOwwL,KAAK,CAAEC,aAAa,IAE7BzwL,EAAOylD,SAAU,EACjBzlD,EAAO0wL,wBACH1wL,EAAO2wL,gBAAkB38P,GAC3Bq8P,GAAMvtO,OAAO9uB,EAAQuQ,aAhiRV,SAAUy7D,GAClBA,EAAOsZ,KAAK,SACrB,CAgiRIs3K,CAAW5wL,GACXA,EAAOqsE,cAAcvpH,OAAOk9C,IACvBA,EAAOwQ,QAAU9yE,GAzCE,SAAUsiE,GACpCqwL,GAAMtoD,SAAS/nI,EAAOh7E,GAAI,UAAWg7E,EAAO6wL,WAC9C,CAwCMC,CAAsB9wL,GAliRX,SAAUA,GAClBA,EAAOsZ,KAAK,SACrB,CAkiRIy3K,CAAW/wL,GACXqwL,GAAMvtO,OAAOk9C,EAAOywB,gBACpB6/J,GAAYvjB,GACZujB,GAAYC,GACZvwL,EAAOvnC,SACT,CACF,EACIA,GAAU,SAAUunC,EAAQgxL,GAC9B,IAAIvtN,EAAYu8B,EAAOv8B,UAAWtxC,EAAM6tE,EAAO7tE,IAC3C6tE,EAAOixL,YAGND,GAAchxL,EAAOylD,SAIrBurI,IACHhxL,EAAOqsE,cAAcr0G,IAAI,eAAgBgoC,EAAOkxL,eAC5ClxL,EAAOmxL,OAASnxL,EAAOmxL,MAAM14N,SAC/BunC,EAAOmxL,MAAM14N,UAEf63N,GAAY7sN,GACZ6sN,GAAYn+P,IAlDE,SAAU6tE,GAC1B,IAAIqgC,EAAOrgC,EAAOoxL,YACd/wJ,IACEA,EAAKgxJ,gBACPhxJ,EAAKwkE,OAASxkE,EAAKgxJ,cACnBhxJ,EAAKgxJ,cAAgB,MAEvBhB,GAAMpsP,OAAOo8F,EAAM,eAAgBrgC,EAAOsxL,mBAE9C,CA2CEC,CAAYvxL,GA5DW,SAAUA,GACjCA,EAAOwxL,qBAAuBxxL,EAAOoxL,YAAcpxL,EAAOvkD,UAAYukD,EAAO6iE,gBAAkB,KAC/F7iE,EAAO20D,YAAc30D,EAAOskI,gBAAkBtkI,EAAO+oC,cAAgB,KACrE/oC,EAAOurE,cAAgBvrE,EAAOosE,UAAY,KACtCpsE,EAAOv8B,YACTu8B,EAAOv8B,UAAYu8B,EAAOv8B,UAAU3hC,IAAMk+D,EAAOv8B,UAAUtxC,IAAM6tE,EAAOv8B,UAAUtxC,IAAI+L,IAAM,KAEhG,CAsDEuzP,CAAmBzxL,GACnBA,EAAOixL,WAAY,GAbjBjxL,EAAOl9C,SAcX,EA2BIzY,IArBsBL,GAJf,SAAUM,EAAKtV,GAExB,OADkB7N,EAASmjB,IAAQnjB,EAAS6N,GACvBqV,GAAUC,EAAKtV,GAAMA,CAC5C,EAES,WAEL,IADA,IAAIiV,EAAU,GACL3hB,EAAK,EAAGA,EAAKC,UAAUP,OAAQM,IACtC2hB,EAAQ3hB,GAAMC,UAAUD,GAE1B,GAAuB,IAAnB2hB,EAAQjiB,OACV,MAAM,IAAIuB,MAAM,4BAGlB,IADA,IAAI2gB,EAAM,CAAC,EACFC,EAAI,EAAGA,EAAIF,EAAQjiB,OAAQmiB,IAAK,CACvC,IAAIC,EAAYH,EAAQE,GACxB,IAAK,IAAI1Z,KAAO2Z,EACV1Z,GAAM0Z,EAAW3Z,KACnByZ,EAAIzZ,GAAOuZ,GAAOE,EAAIzZ,GAAM2Z,EAAU3Z,IAG5C,CACA,OAAOyZ,CACT,GAIEwnP,GAAqB,6rBAAwtBlzO,MAAM,KACnvBmzO,GAAoB,8EAA8EnzO,MAAM,KACxGozO,GAAwB,iBAAiBpzO,MAAM,KAC/CqzO,GAAwB,SAAUvxL,GACpC,IAAIwxL,EAAeh4E,EAAS43E,IAAoB,SAAUK,GACxD,OAAOrhQ,GAAM4vE,EAAUyxL,EACzB,IACI5d,EAAkB7zK,EAASs4K,kBAI/B,OAHwB,IAApBzE,GAAiD,KAApBA,GAC/B2d,EAAahtQ,KAAK,kCAEbmK,GAAK6iQ,EACd,EACIE,GAAuB,SAAU1xL,GACnC,IAAI4iL,EAAUt5P,GAAM2wI,QAAQj6D,EAAS4iL,QAAS,KAC1C/+J,EAAY,SAAU8tK,GACxB,OAAOvhQ,GAAMwyP,EAAS+O,EACxB,EACIC,EAActnQ,GAAcA,GAAc,GAAIkvL,EAAS63E,GAAmBxtK,IAAY,GAAOh4F,GAAKylQ,IAAuB,SAAUK,GACrI,OAAO9tK,EAAU8tK,GAAU,CAACA,EAAS,wBAA0B,EACjE,KAAI,GACJ,OAAOhjQ,GAAKijQ,EACd,EAsBIC,GAAkBl9P,KAAS2E,WAC3BI,GAAUm4P,GAAgBn4P,UAC1BE,GAAUi4P,GAAgBj4P,UAC1BD,GAAWk4P,GAAgBl4P,WAC3Bm4P,GAAsB,CACxB,QACA,WACA,YAEEC,GAAuB,CACzBC,YAAY,EACZC,iBAAiB,EACjBl0F,QAAQ,GAENm0F,GAAmB,SAAUtP,GAC/B,IAAIgP,EAAc14E,EAAU0pE,GAAWA,EAAQ91O,KAAK,KAAO81O,EACvDuP,EAAiB74E,EAAML,EAAW24E,GAAeA,EAAY1zO,MAAM,KAAO,GAAIm8J,IAClF,OAAOb,EAAS24E,GAAgB,SAAUzyP,GACxC,OAAOA,EAAKhY,OAAS,CACvB,GACF,EAII0qQ,GAAkB,SAAUljQ,EAAM8wE,GACpC,IA73lBI/5E,EACA6C,EA43lBAmjB,GA53lBAnjB,EAAI,CAAC,EACT+G,GA23lBsBmwE,GAAU,SAAUj6E,EAAOoK,GAC/C,OAAOkpL,EAAWnqL,EAAMiB,EAC1B,GA73lB0BL,GAFtB7J,EAAI,CAAC,GAE4B6J,GAAOhH,IACrC,CACL7C,EAAGA,EACH6C,EAAGA,IA23lBL,OAlCkB,SAAU2qK,EAAUzzF,GACtC,MAAO,CACLyzF,SAAUt+I,EAASs+I,GACnBzzF,SAAU7qD,EAAS6qD,GAEvB,CA6BSqyL,CAAcpmP,EAAOhmB,EAAGgmB,EAAOnjB,EACxC,EASIwpQ,GAAa,SAAUD,EAAe/rQ,GACxC,OAAO8J,GAAMiiQ,EAAc5+F,WAAYntK,EACzC,EAQIspF,GAAiB,SAAU5P,EAAUulI,GACvC,OAAOtgM,GAAM+6D,EAAU,gBAAgBt0E,SAAQ,WAC7C,OAAOuZ,GAAM+6D,EAAU,kBAAkBr0E,KAAI,SAAU0U,GACrD,OAAe,IAARA,EAAgB,OAASA,CAClC,GACF,IAAGjV,MAAMm6M,EACX,EA+BIgtD,GAA2B,SAAUC,EAAgB54P,GACvD,IAAI64P,EAAwB,CAC1B10F,QAAQ,EACR20F,aAAc9iL,GAAe4iL,EAAgB,aAC7CG,gBAAgB,GAGlB,OAAOnpQ,GAASA,GAASA,GAAS,CAAC,EAAGuoQ,IAAuBU,GAAwB74P,EAD1D,CAAEu5I,SAAS,GACgF,CAAC,EACzH,EACIy/G,GAAqB,SAAUC,EAAkB7yL,GACnD,IAAI8yL,EAA6B9yL,EAAS+yL,iBAAmB/yL,EAAS+yL,iBAAmB,CAAC,EAC1F,OAAIF,GAAoBA,EAAiBE,iBAChCzpQ,GAAM6yL,OAAO,CAAC,EAAG02E,EAAiBE,iBAAkBD,GAEpDA,CAEX,EAIIE,GAAqB,SAAUC,EAAgBZ,EAAea,EAAgBC,GAChF,OAAIF,GAjEe,SAAUZ,EAAe/rQ,EAAMuqQ,GAClD,IAAIplF,EAAU4mF,EAAc5+F,WAC5B,OAAO6+F,GAAWD,EAAe/rQ,IAASmlL,EAAQnlL,GAAMuqQ,QAAUA,CACpE,CA8DwBuC,CAAef,EAAe,SAAU,UApFvD74E,EAqF4B25E,EArFV5qQ,EAAM8wL,EAAYy4E,KAsFhCmB,GAAkBX,GAAWD,EAAe,UAC9Cc,EAEAD,CAEX,EACIG,GAAiB,SAAUJ,EAAgBZ,EAAeiB,EAAyBtzL,GACrF,IAAIuzL,EAAgBrB,GAAiBoB,EAAwBE,gBACzDN,EAAiBhB,GAAiBlyL,EAAS4iL,SAC3C6Q,EAxEiB,SAAUpB,EAAe/rQ,GAC9C,OAAOgsQ,GAAWD,EAAe/rQ,GAAQ+rQ,EAAc5+F,WAAWntK,GAAQ,CAAC,CAC7E,CAsEqBotQ,CAAiBrB,EAAe,UAC/Cc,EAAgBM,EAAa7Q,QAAUsP,GAAiBuB,EAAa7Q,SAAWsQ,EAEhFS,EAlBe,SAAUJ,EAAe3Q,GAC5C,MAAO,GAAGh6P,OAAOspQ,GAAiBqB,IAAgB3qQ,OAAOspQ,GAAiBtP,GAC5E,CAgBwBgR,CAAeL,EADfP,GAAmBC,EAAgBZ,EAAea,EAAgBC,IAExF,GAAIn4E,GAAIriL,QAAQ5B,QAAUsiL,EAAWs6E,EAAiB,OACpD,MAAM,IAAI1qQ,MAAM,yCAElB,OAAOK,GAAM6yL,OAAOn8G,EAAU,CAAE4iL,QAAS+Q,EAAgB7mP,KAAK,MAChE,EAII+mP,GAAkB,SAAUZ,EAAgBr5P,EAASk6P,EAAiBR,EAAyBtzL,GACjG,IAAI+zL,EAAwBd,EAAiB,CAAEhsG,OAAQsrG,GAAyBvyL,EAASinF,QAAU,CAAC,EAAGrtJ,IAAa,CAAC,EACjHy4P,EAAgBD,GAAgB,CAAC,UAAWroP,GAAUgqP,EAAuB/zL,IAC7Eg0L,EAAmB1qQ,GAAM6yL,OAAO23E,EAAiBR,EAAyBjB,EAAcryL,WAN7E,SAAUizL,EAAgBZ,GACzC,OAAOY,GAAkBX,GAAWD,EAAe,SACrD,CAI0G4B,CAAWhB,EAAgBZ,GAtGpH,SAAUA,EAAe/rQ,EAAM4vD,QAC7B,IAAbA,IACFA,EAAW,CAAC,GAEd,IAAIu9G,EAAW4+F,EAAc5+F,WACzBygG,EAAkBjvP,GAAMwuJ,EAAUntK,GAAM8E,MAAM,CAAC,GACnD,OAAO9B,GAAM6yL,OAAO,CAAC,EAAGjmI,EAAUg+M,EACpC,CA+FsJC,CAAW9B,EAAe,UAAY,CAAC,EAAG,CAC5L1hK,UAAU,EACVoiK,iBAAkBH,GAAmBU,EAAyBjB,EAAcryL,cAE9E,OAAOqzL,GAAeJ,EAAgBZ,EAAeiB,EAAyBU,EAChF,EACII,GAAoB,SAAU10L,EAAQh7E,EAAI2vQ,EAAiBf,EAAyBtzL,GACtF,IAAI8zL,EApFmB,SAAU9zL,EAAUt7E,EAAI2vQ,EAAiB36P,EAASgmE,GACzE,IAAI40L,EAAe,CACjB5vQ,GAAIA,EACJmsQ,MAAO,SACP6B,aAAc9iL,GAAe5P,EAAU,YACvC4iL,QAAS,GACT2R,kBAAmBF,EACnBG,yBAAyB,EACzBC,cAAc,EACdC,oBAAoB,EACpBC,cAAc,EACdC,eAAe,EACfC,oBAAoB,EACpB5C,iBAAiB,EACjB36B,QAAS,kBACTw9B,QAAQ,EACR1M,wBAAyB,oDACzB9P,kBAAmB,IACnByc,cAAc,EACd9G,eAAe,EACf9F,wBAAwB,EACxB5sB,QAAQ,EACRE,cAAe,oMACfE,aAAc,oMACdC,gBAAiB,QACjB5oC,cAAetzH,EAAOs1L,WACtB9hE,oBAAqBxzH,GAEvB,OAAOl2E,GAASA,GAAS,CAAC,EAAG8qQ,GAAe56P,EAAUq4P,GAAuB,CAAC,EAChF,CAuDwBkD,CAAmBj1L,EAAUt7E,EAAI2vQ,EAAiB36P,GAASgmE,GAC7Ew1L,EAAgBrB,GAAgBj6P,IAAWD,GAAUC,GAASk6P,EAAiBR,EAAyBtzL,GAI5G,OAH2C,IAAvCk1L,EAAcC,sBAlKS,SAAUpwK,EAAamwK,GAClD,IAAI9D,EAAqBG,GAAsBxsK,GAC3CssK,EAAoBK,GAAqBwD,GACzCE,EAAuB/D,EAAkB3pQ,OAAS,EAClD2tQ,EAAwBjE,EAAmB1pQ,OAAS,EACpD4tQ,EAA8C,WAAxBJ,EAAcrE,MACxC,GAAIuE,GAAwBC,GAAyBC,EAAqB,CACxE,IAAIC,EAAa,OACbC,EAAgBF,EAAsB,wBAAwC,GAC9EG,EAAiBL,EAAuB,mBAA8B/D,EAAkBvkP,KAAKyoP,GAAc,GAC3GG,EAAkBL,EAAwB,oBAA+BjE,EAAmBtkP,KAAKyoP,GAAc,GACnH5iQ,QAAQ6oB,KAAK,2LAAkMg6O,EAAgBC,EAAiBC,EAClP,CACF,CAsJIC,CAAuB31L,EAAUk1L,GAE5BA,CACT,EACIU,GAAc,SAAU/8O,EAAW6mD,EAAQp5E,GAC7C,OAAOiG,EAAS/B,KAAKk1E,EAAOM,SAAS15E,IAAO0F,OAAO6sB,EACrD,EAsBI21D,GAAW,SAAU9O,EAAQp5E,EAAMi/M,EAAYz/M,GACjD,IANwB+D,EAMpB9D,EAAQO,KAAQo5E,EAAOM,SAAWN,EAAOM,SAAS15E,GAAQi/M,EAC9D,MAAa,SAATz/M,EAvBe,SAAUC,GAC7B,IAAIm9B,EAAS,CAAC,EAad,MAZqB,iBAAVn9B,EACTwzL,EAAOxzL,EAAMoE,QAAQ,KAAO,EAAIpE,EAAMm4B,MAAM,6BAA+Bn4B,EAAMm4B,MAAM,MAAM,SAAU7d,GACrG,IAAIpR,EAAMoR,EAAI6d,MAAM,KAChBjvB,EAAIvH,OAAS,EACfw7B,EAAO55B,GAAMu8C,KAAK52C,EAAI,KAAO3F,GAAMu8C,KAAK52C,EAAI,IAE5Ci0B,EAAO55B,GAAMu8C,KAAK52C,EAAI,KAAO3F,GAAMu8C,KAAK52C,EAAI,GAEhD,IAEAi0B,EAASn9B,EAEJm9B,CACT,CASW2yO,CAAe9vQ,GACJ,WAATD,EACF8vQ,GAAY38E,EAAYv5G,EAAQp5E,GAAM8E,MAAMm6M,GACjC,WAATz/M,EACF8vQ,GAAYvuQ,EAAUq4E,EAAQp5E,GAAM8E,MAAMm6M,GAC/B,YAATz/M,EACF8vQ,GAAY5uQ,EAAW04E,EAAQp5E,GAAM8E,MAAMm6M,GAChC,WAATz/M,EACF8vQ,GAAY/uQ,EAAU64E,EAAQp5E,GAAM8E,MAAMm6M,GAC/B,UAATz/M,EACF8vQ,GAAY18E,EAAWx5G,EAAQp5E,GAAM8E,MAAMm6M,GAChC,aAATz/M,EACF8vQ,IApBe/rQ,EAoBOovL,EAnBxB,SAAUtyL,GACf,OAAOuyL,EAAUvyL,IAAMoF,GAAOpF,EAAGkD,EACnC,GAiB4C61E,EAAQp5E,GAAM8E,MAAMm6M,GAC5C,aAATz/M,EACF8vQ,GAAYxuQ,EAAYs4E,EAAQp5E,GAAM8E,MAAMm6M,GAE5Cx/M,CAEX,EAsBIL,IAnBEkrD,GAAS,CAAC,EAaP,CACLjrD,IAbQ,SAAUjB,EAAIoxQ,GACtBllN,GAAOlsD,GAAMoxQ,CACf,EAYE71P,IAXQ,SAAUvb,GAClB,OAAIksD,GAAOlsD,GACFksD,GAAOlsD,GAET,CAAEkB,MAAO,CAAC,EACnB,EAOE68B,IANQ,SAAU/9B,GAClB,OAAO0L,GAAMwgD,GAAQlsD,EACvB,IASEqxQ,GAAU,SAAUC,EAAUtzL,GAEhC,OADaA,EAAI7wE,IACHmkQ,EAChB,EACIC,GAAsB,SAAUD,EAAUtzL,GAC5C,OAAOzpE,SAAS2pB,GAAM8/C,EAAKszL,GAAW,GACxC,EACIE,GAAiB3tQ,EAAMwtQ,GAAS,eAChCI,GAAkB5tQ,EAAMwtQ,GAAS,gBACjCK,GAAe7tQ,EAAM0tQ,GAAqB,cAC1CI,GAAgB9tQ,EAAM0tQ,GAAqB,eAoB3CK,GAAoB,SAAU52L,EAAQv8D,EAASC,GACjD,IAnskB8B1P,EAmskB1B6iQ,EAAUrkQ,GAAaF,QAAQ0tE,EAAO7hE,WACtCiuI,EAAYpsE,EAAOwQ,OAASqmL,GApskBF7iQ,EAoskB4B6iQ,EAnskBnDrkQ,GAAaF,QAAQ8J,GAAgBpI,GAAS7B,IAAImK,kBAoskBrDw6P,EAdU,SAAUtmL,EAAQxN,EAAKv/D,EAASC,GAC9C,IAAIuuM,EATsB,SAAUjvI,GACpC,OAAOA,EAAI7wE,IAAIgP,uBACjB,CAOmBA,CAAsB6hE,GAKvC,MAAO,CACL18E,EAHMmd,GAFK+sE,EAASyhI,EAAWlhN,KAAOiyE,EAAI7wE,IAAImQ,WAAaq0P,GAAc3zL,GAAO,GAMhFtvE,EAHMgQ,GAFK8sE,EAASyhI,EAAWxwM,IAAMuhE,EAAI7wE,IAAIkQ,UAAYq0P,GAAa1zL,GAAO,GAOjF,CAIwB8tF,CAAU9wF,EAAOwQ,OAAQ47D,EAAW3oI,EAASC,GACnE,OApB+B,SAAUmzP,EAASpzP,EAASC,GAC3D,IAAIwC,EAAcswP,GAAeK,GAC7B1wP,EAAeswP,GAAgBI,GACnC,OAAOpzP,GAAW,GAAKC,GAAW,GAAKD,GAAWyC,GAAexC,GAAWyC,CAC9E,CAgBS4wP,CAA2B3qH,EAAW0qH,EAAgBxwQ,EAAGwwQ,EAAgBpjQ,EAClF,EAIIsjQ,GAAwB,SAAUh3L,GACpC,IAJ0BztE,EAItB0kQ,EAAej3L,EAAOwQ,OAASxQ,EAAO7hE,UAAY6hE,EAAOkB,0BAC7D,OAL0B3uE,EAKP0kQ,EAJZpqQ,EAAS/B,KAAKyH,GAAMtG,IAAIuG,GAAaF,UAIXrG,IAAI8R,IAAQrS,OAAM,EACrD,EAcIwrQ,GAAsB,SAAUl3L,GAClC,IAAI8B,EAAgB,GAChBq1L,EAAoB,WACtB,IAdEC,EAcEjG,EAAQnxL,EAAOmxL,MACnB,OAAOA,GAASA,EAAM74E,2BAA6B64E,EAAM74E,6BAZpD,CACL/pI,KAJE6oN,EAAgB,WAClB,MAAM,IAAI7tQ,MAAM,8DAClB,EAGEmlD,MAAO0oN,EACPnjO,WAAYmjO,EACZr1L,QAASq1L,EASX,EACIC,EAAqB,WACvB,OAAOxqQ,EAAS/B,KAAKg3E,EAAc,GACrC,EAII7tC,EAAa,WACX6tC,EAAc95E,OAAS,GACzBmvQ,IAAoBljO,WAAW6tC,EAEnC,EAIIw1L,EAAoB,SAAU32L,GAChCq5G,EAAYl4G,GAAe,SAAUy1L,GACnC,OAAOA,IAAsB52L,CAC/B,IAAGz0E,MAAK,SAAU2Q,GAChBilE,EAAc+Y,OAAOh+E,EAAO,EAC9B,GACF,EACI0xC,EAAO,SAAUlvB,EAAMm4O,GAIzB,QAHkB,IAAdA,IACFA,GAAY,IAEVx3L,EAAOylD,SAAYuxI,GAAsBh3L,GAM7C,OAHIw3L,GACFx3L,EAAOsZ,KAAK,yBAA0B,CAAE3Y,aAActhD,IAEjD3pB,EAAOosE,GAAe,SAAUnB,GACrC,OA7BoB15E,EA6BLkwQ,IAAoBp1L,QAAQpB,GA7BpB/3E,EA6BmCy2B,IA5BrDp4B,EAAEb,OAASwC,EAAExC,MAAQa,EAAEqM,OAAS1K,EAAE0K,MAASrM,EAAE25E,aAAgB35E,EAAEw5E,SAAY73E,EAAEg4E,aAAgBh4E,EAAE63E,SAD1F,IAAUx5E,EAAG2B,CA8BzB,IAAG+C,YAAW,WACZq0E,EAAOqsE,cAAcntD,UAAUlf,GAC/B,IAAIW,EAAew2L,IAAoB5oN,KAAKlvB,GAAM,WAChDi4O,EAAkB32L,GAClB1sC,IACAojO,IAAqB/rQ,MAAK,WACxB,OAAO00E,EAAO3tC,OAChB,IAAG,SAAU5wB,GACX,OAAejP,GAAaF,QAAQmP,EAAIogE,SAp5PjC1vE,IAAIkgC,OAq5Pb,GACF,IAIA,OApCkB,SAAUsuC,GAC9BmB,EAAch9E,KAAK67E,EACrB,CA+BI82L,CAAgB92L,GAChB1sC,IACA+rC,EAAOsZ,KAAK,mBAAoB,CAAE3Y,aAAc72E,GAAS,CAAC,EAAG62E,KACtDA,CACT,GACF,EAQI+2L,EAAmBjiP,EAASqsD,GAuBhC,OAtBqB,SAAU9B,GAC7BA,EAAOloC,GAAG,cAAc,WACtB,IAAI6/N,EApwVc,SAAU33L,GAChC,OAAOA,EAAO8O,SAAS,kBACzB,CAkwV2B8oL,CAAkB53L,GACnC23L,GACFppN,EAAK,CACHj7C,KAAMqkQ,EACNvxQ,KAAM,UACNq6E,QAAS,IACR,GAELxsC,GACF,IACA+rC,EAAOloC,GAAG,6CAA6C,WACrDwqJ,GAAM5nJ,sBAAsBzG,EAC9B,IACA+rC,EAAOloC,GAAG,UAAU,WAClB+hJ,EAAO/3G,EAAc52E,SAAS,SAAUy1E,GACtCw2L,IAAoBzoN,MAAMiyB,EAC5B,GACF,GACF,CACAk3L,CAAe73L,GACR,CACLzxB,KAAMA,EACNG,MAhCU,WACV2oN,IAAqBnrQ,MAAK,SAAUy0E,GAClCw2L,IAAoBzoN,MAAMiyB,GAC1B22L,EAAkB32L,GAClB1sC,GACF,GACF,EA2BEyjO,iBAAkBA,EAEtB,EAEI7pD,GAAgBvB,GAAauB,cAE7BC,GAAexB,GAAawB,aAiBhC,IAAIgqD,GAAgB,SAAU93L,GAC5B,IAAI+3L,EAAU,GACVZ,EAAoB,WACtB,IAjBEC,EAiBEjG,EAAQnxL,EAAOmxL,MACnB,OAAOA,GAASA,EAAM94E,qBAAuB84E,EAAM94E,uBAf9C,CACL9pI,KAJE6oN,EAAgB,WAClB,MAAM,IAAI7tQ,MAAM,wDAClB,EAGE4gL,QAASitF,EACT34K,MAAO24K,EACPj/E,QAASi/E,EACT1oN,MAAO0oN,EACPY,UAAWZ,EACXa,UAAWb,EASb,EACIc,EAAW,SAAUvlQ,EAAOvJ,GAC9B,OAAO,WAEL,IADA,IAAIf,EAAO,GACFC,EAAK,EAAGA,EAAKC,UAAUP,OAAQM,IACtCD,EAAKC,GAAMC,UAAUD,GAEvB,OAAOc,EAAIA,EAAEZ,MAAMmK,EAAOtK,QAAQvC,CACpC,CACF,EAOIqyQ,EAAY,SAAU77K,GACxBy7K,EAAQjzQ,KAAKw3F,GAPK,SAAUA,GAC5Btc,EAAOsZ,KAAK,aAAc,CAAEgD,OAAQA,GACtC,CAME87K,CAAc97K,EAChB,EACIy6F,EAAc,SAAUz6F,IAPP,SAAUA,GAC7Btc,EAAOsZ,KAAK,cAAe,CAAEgD,OAAQA,GACvC,CAME+7K,CAAe/7K,GAIQ,KAHvBy7K,EAAUj+E,EAASi+E,GAAS,SAAUO,GACpC,OAAOA,IAAgBh8K,CACzB,KACYt0F,QACVg4E,EAAO3tC,OAEX,EAIIkmO,EAA8B,SAAUC,GAC1Cx4L,EAAOqsE,cAAcntD,UAAUlf,GAC/BhyB,GAAMgyB,GACN,IAAIsc,EAASk8K,IAEb,OADAL,EAAU77K,GACHA,CACT,EA8BA,OALAtc,EAAOloC,GAAG,UAAU,WAClB+hJ,EAAOk+E,GAAS,SAAUz7K,GACxB66K,IAAoBzoN,MAAM4tC,EAC5B,GACF,IACO,CACL/tC,KA9BS,SAAUlmD,EAAM8qB,GACzB,OAAOolP,GAA4B,WACjC,OAAOpB,IAAoB5oN,KAAKlmD,EAAM8qB,EAAQ4jK,EAChD,GACF,EA2BE5M,QA1BY,SAAU9hL,GACtB,OAAOkwQ,GAA4B,WACjC,OAAOpB,IAAoBhtF,QAAQ9hL,EAAM0uL,EAC3C,GACF,EAuBEt4F,MAtBU,SAAUh2E,EAASk0E,EAAUhqF,GACvC,IAAI8lQ,EAAoBtB,IACxBsB,EAAkBh6K,MAAMh2E,EAASyvP,EAASvlQ,GAAgB8lQ,EAAmB97K,GAC/E,EAoBEw7F,QAnBY,SAAU1vK,EAASk0E,EAAUhqF,GACzC,IAAI8lQ,EAAoBtB,IACxBsB,EAAkBtgF,QAAQ1vK,EAASyvP,EAASvlQ,GAAgB8lQ,EAAmB97K,GACjF,EAiBEjuC,MAhBU,WA3BH7hD,EAAS/B,KAAKitQ,EAAQA,EAAQ/vQ,OAAS,IA4B/BkE,MAAK,SAAUowF,GAC5B66K,IAAoBzoN,MAAM4tC,GAC1By6F,EAAYz6F,EACd,GACF,EAaF,EAEIo8K,GAAsB,SAAU14L,EAAQv3D,GAC1Cu3D,EAAO24L,oBAAoBpqN,KAAK,CAC9BnoD,KAAM,QACNkN,KAAMmV,GAEV,EACImwP,GAAe,SAAU54L,EAAQv3D,GAC/Bu3D,EAAO80E,YACT4jH,GAAoB14L,EAAQv3D,GAE5Bu3D,EAAOloC,GAAG,cAAc,WACtB4gO,GAAoB14L,EAAQv3D,EAC9B,GAEJ,EAOIowP,GAAW,SAAU74L,EAAQwnJ,EAAWl+N,GAC1Ci+N,GAAUvnJ,EAAQwnJ,EAAW,CAAE/+M,QAASnf,IACxC2J,QAAQC,MAAM5J,EAChB,EACIwvQ,GAAkB,SAAU1yQ,EAAMo+H,EAAK59H,GACzC,OAAOA,EAAO,kBAAoBR,EAAO,KAAOQ,EAAO,aAAe49H,EAAM,kBAAoBp+H,EAAO,SAAWo+H,CACpH,EACIu0I,GAAkB,SAAU/4L,EAAQwkD,EAAK59H,GAC3CiyQ,GAAS74L,EAAQ,kBAAmB84L,GAAgB,SAAUt0I,EAAK59H,GACrE,EAgBIoyQ,GAAY,SAAUvwP,GAExB,IADA,IAAIniB,EAAI,GACCgC,EAAK,EAAGA,EAAKC,UAAUP,OAAQM,IACtChC,EAAEgC,EAAK,GAAKC,UAAUD,GAExB,IAAI2K,EAAUW,OAAOX,QACjBA,IACEA,EAAQC,MACVD,EAAQC,MAAM1K,MAAMyK,EAASrI,GAAc,CAAC6d,GAAUniB,GAAG,IAEzD2M,EAAQigB,IAAI1qB,MAAMyK,EAASrI,GAAc,CAAC6d,GAAUniB,GAAG,IAG7D,EAKI2yQ,GAAoB,SAAUj5L,GAChC,OAAOk5L,GAAgBl5L,EA5+VL,SAAUA,GAC5B,IAAIm5L,EAAan5L,EAAO8O,SAAS,eACjC,OAAIyqG,EAAW4/E,GACNv/E,EAAMu/E,EAAW36O,MAAM,KAAMm8J,IAC3BnB,EAAU2/E,GACZA,GACiB,IAAfA,GAAwBn5L,EAAOwQ,OACjC,GAEA,CAAC,UAEZ,CAi+ViC4oL,CAAcp5L,GAC/C,EAIIk5L,GAAkB,SAAUl5L,EAAQq5L,GACtC,IAAI/jH,EAAUt1E,EAAOqsE,cAAcwJ,QAAU,iBAEzCyjH,EAAiB,UADRt5L,EAAOqsE,cAAcx6I,OACQ,OACtC2+E,GAA2B,IAAlBxQ,EAAOwQ,OACpB,OAAOopG,EAAMy/E,GAAU,SAAU70I,GAC/B,OAfuB,SAAUA,GACnC,MAAO,iBAAiBlvH,KAAKkvH,EAC/B,CAaQ+0I,CAAqB/0I,KAASh0C,EACzB8kE,EAAU,IAAM9wB,EAAM,IAAM80I,EAE5Bt5L,EAAO41E,gBAAgB50G,WAAWwjF,EAE7C,GACF,EACIg1I,GAA+B,SAAUx5L,GAC3CA,EAAO+1E,WAAa/1E,EAAO+1E,WAAW7sJ,OAAO+vQ,GAAkBj5L,GAjB5C,SAAUA,GAC7B,OAAOk5L,GAAgBl5L,EAAQy3I,GAAWz3I,GAC5C,CAe0Ey5L,CAAez5L,GACzF,EAEI05L,GAAe,WACjB,IACIC,EAAkB,CAAC,EACnBC,EAAe,SAAUzpM,EAAQ0pM,GACnC,MAAO,CACL1pM,OAAQA,EACR0pM,UAAWA,EAEf,EACIC,EAAa,SAAUzO,GACzB,OAAOA,KAAWsO,CACpB,EAuBA,MAAO,CACLG,WAAYA,EACZC,aAxBiB,SAAU1O,GAC3B,IAAI9+O,EAASotP,EAAgBtO,GAC7B,OAAO9+O,EAASA,EAAOstP,UAAY,IACrC,EAsBEG,UArBc,SAAU3O,GACxB,QAAOyO,EAAWzO,IAhBN,IAgBiBsO,EAAgBtO,GAASl7L,MACxD,EAoBE85L,WAnBe,SAAUoB,GACzB,QAAOyO,EAAWzO,IAnBQ,IAmBGsO,EAAgBtO,GAASl7L,MACxD,EAkBE8pM,YAjBgB,SAAU5O,GAC1BsO,EAAgBtO,GAAWuO,EAtBf,EAsBqC,KACnD,EAgBEM,aAfiB,SAAU7O,EAASwO,GACpCF,EAAgBtO,GAAWuO,EAzBD,EAyBwBC,EACpD,EAcEM,aAbiB,SAAU9O,UACpBsO,EAAgBtO,EACzB,EAYE5yN,QAXY,WACZkhO,EAAkB,CAAC,CACrB,EAWF,EAEI9mP,GAAQ,EAQRunP,GAAO,SAAUzoQ,GACnB,OAAOA,EAASkhB,MAPZwnP,EAAM,WACR,OAAOh0P,KAAKizB,MAAsB,WAAhBjzB,KAAKkW,UAAuB/vB,SAAS,GACzD,EAEO,KADG,IAAI4vB,MAAOC,UACJ7vB,SAAS,IAAM6tQ,IAAQA,IAAQA,KALvC,IACLA,CAQN,EAsGIC,GAAW,SAAUzQ,EAAcvpL,GACrC,IAAIi6L,EAAkB,CAAC,EAOnBC,EAAiB,SAAUhR,EAAUl8O,EAAS21K,EAAS9jH,GACzD,IAAIs7L,EAAM,IAAIxR,eACdwR,EAAIlsN,KAAK,OAAQ+xB,EAASkkD,KAC1Bi2I,EAAIC,gBAAkBp6L,EAASq6L,YAC/BF,EAAIG,OAAOC,WAAa,SAAUrwQ,GAChC20E,EAAS30E,EAAE+gH,OAAS/gH,EAAEmiJ,MAAQ,IAChC,EACA8tH,EAAIl3E,QAAU,WACZN,EAAQ,2DAA6Dw3E,EAAItqM,OAC3E,EACAsqM,EAAIn3E,OAAS,WACX,GAAIm3E,EAAItqM,OAAS,KAAOsqM,EAAItqM,QAAU,IACpC8yH,EAAQ,eAAiBw3E,EAAItqM,YAD/B,CAIA,IArBqB2qM,EAAOC,EAqBxBC,EAAO5vP,KAAKkvB,MAAMmgO,EAAIQ,cAC1B,GAAKD,GAAiC,iBAAlBA,EAAK5iG,SAIzB9qJ,GA1BqBwtP,EA0BJx6L,EAAS46L,SA1BEH,EA0BQC,EAAK5iG,SAzBvC0iG,EACKA,EAAM/oQ,QAAQ,MAAO,IAAM,IAAMgpQ,EAAMhpQ,QAAQ,MAAO,IAExDgpQ,SAmBH93E,EAAQ,iBAAmBw3E,EAAIQ,aAHjC,CAOF,EACA,IAAIzsF,EAAW,IAAI2sF,SACnB3sF,EAAS7oL,OAAO,OAAQ6jQ,EAAS/lO,OAAQ+lO,EAAS4R,YAClDX,EAAItR,KAAK36E,EACX,EAMI6sF,EAAiB,SAAU7R,EAAUhlI,GACvC,MAAO,CACLA,IAAKA,EACLglI,SAAUA,EACVr5L,QAAQ,EAEZ,EACImrM,EAAiB,SAAU9R,EAAU/gP,EAASxjB,GAChD,MAAO,CACLu/H,IAAK,GACLglI,SAAUA,EACVr5L,QAAQ,EACRj9D,MAAO,CACLuV,QAASA,EACTxjB,QAASA,GAGf,EACIs2Q,EAAiB,SAAUlQ,EAAS9+O,GACtC3iB,GAAMsC,KAAKquQ,EAAgBlP,IAAU,SAAUxhQ,GAC7CA,EAAQ0iB,EACV,WACOguP,EAAgBlP,EACzB,EAoDImQ,EAAc,SAAUC,EAAWC,GAIrC,OAHAD,EAAY7xQ,GAAM0yL,KAAKm/E,GAAW,SAAUjS,GAC1C,OAAQK,EAAaI,WAAWT,EAAS6B,UAC3C,IACOrpE,GAAW/4L,IAAIW,GAAMqC,IAAIwvQ,GAAW,SAAUjS,GACnD,OAAOK,EAAamQ,UAAUxQ,EAAS6B,WAZf,SAAU7B,GACpC,IAAI6B,EAAU7B,EAAS6B,UACvB,OAAO,IAAIrpE,IAAW,SAAUn4L,GAC9B0wQ,EAAgBlP,GAAWkP,EAAgBlP,IAAY,GACvDkP,EAAgBlP,GAASvmQ,KAAK+E,EAChC,GACF,CAMwD8xQ,CAAsBnS,GAxDzD,SAAUA,EAAU5lP,EAAS83P,GAEhD,OADA7R,EAAaoQ,YAAYzQ,EAAS6B,WAC3B,IAAIrpE,IAAW,SAAUn4L,GAC9B,IAAI82E,EACJ,IACE,IAAIi7L,EAAsB,WACpBj7L,GACFA,EAAajyB,OAGjB,EAyBA9qC,EAAQ4lP,GAxBM,SAAUhlI,GACtBo3I,IACA/R,EAAaqQ,aAAa1Q,EAAS6B,UAAW7mI,GAC9C+2I,EAAe/R,EAAS6B,UAAWgQ,EAAe7R,EAAUhlI,IAC5D36H,EAAQwxQ,EAAe7R,EAAUhlI,GACnC,IACc,SAAUtxH,EAAOjO,GAC7B,IAAI42Q,EAAiB52Q,GAAoB,CAAC,EAC1C22Q,IACA/R,EAAasQ,aAAa3Q,EAAS6B,WACnCkQ,EAAe/R,EAAS6B,UAAWiQ,EAAe9R,EAAUt2P,EAAO2oQ,IACnEhyQ,EAAQyxQ,EAAe9R,EAAUt2P,EAAO2oQ,GAC1C,IACW,SAAU78L,GACfA,EAAU,GAAKA,EAAU,KAG7BnyE,EAAS/B,KAAK61E,GAAc30E,SAAQ,WAClC,OAAOa,EAAS/B,KAAK4wQ,GAAkBzvQ,IAAIzD,EAC7C,IAAG0D,MAAK,SAAUhC,GAChBy2E,EAAez2E,EACfA,EAAE02E,YAAYv6E,MAAM24E,EACtB,GACF,GAIF,CAFE,MAAOsvB,GACPzkG,EAAQyxQ,EAAe9R,EAAUl7J,EAAG7lF,QAAS,CAAC,GAChD,CACF,GACF,CAgB0FqzP,CAAetS,EAAUlpL,EAAS18D,QAAS83P,EACnI,IACF,EAOA,OAHqC,IAAjCh0Q,EAAW44E,EAAS18D,WACtB08D,EAAS18D,QAAU42P,GAEd,CAAEI,OANI,SAAUa,EAAWC,GAChC,OAAQp7L,EAASkkD,KAAwBlkD,EAAS18D,UAlB/B42P,EAkBuDgB,EAAYC,EAAWC,GAxF1F,IAAI15E,IAAW,SAAUn4L,GAC9BA,EAAQ,GACV,GAuFF,EAKF,EAEI6xQ,GAAmB,SAAU17L,GAC/B,OAAO,WACL,OAAOA,EAAO24L,oBAAoBpqN,KAAK,CACrCj7C,KAAM0sE,EAAOt+D,UAAU,sBACvBtb,KAAM,OACNq6E,SAAU,EACVG,aAAa,GAEjB,CACF,EACIm7L,GAAiB,SAAU/7L,EAAQ6pL,GACrC,OAAOyQ,GAASzQ,EAAc,CAC5BrlI,IAAKyyF,GAAkBj3I,GACvBk7L,SAAUhkD,GAAuBl3I,GACjC26L,YAAaxjD,GAA2Bn3I,GACxCp8D,QAASwzM,GAAuBp3I,IAEpC,EAiCIg8L,GAAe,SAAUh8L,GAC3B,IACIi8L,EAAUC,EADV3S,EA1RU,WACd,IAAI5uK,EAAQ,GAgCRwhL,EAAa,SAAUp0P,GACzB,IAAKA,EAAE0b,OAAS1b,EAAE+hG,OAChB,MAAM,IAAIvgH,MAAM,wFAElB,IAnCwB6yQ,EAmCpBp3Q,EAAK+iB,EAAE/iB,IAAMo1Q,GAAK,UAClBxzQ,EAAOmhB,EAAEnhB,MAAQ5B,EACjBy+B,EAAO1b,EAAE0b,KACb,MAAO,CACLz+B,GAAIywB,EAASzwB,GACb4B,KAAM6uB,EAAS7uB,GACfw0Q,SAAU3lP,EAAS1N,EAAEqzP,UAAYx0Q,EAAO,KAzClBw1Q,EAyCkC34O,EAAKr9B,KAxCnD,CACV,aAAc,MACd,YAAa,MACb,YAAa,MACb,YAAa,MACb,aAAc,OACd,aAAc,OACd,gBAAiB,MACjB,aAAc,OACd,YAAa,MACb,aAAc,QAEHg2Q,EAAKloQ,gBAAkB,QA6BlCuvB,KAAMhO,EAASgO,GACfqmF,OAAQr0F,EAAS1N,EAAE+hG,QACnBuhJ,QAAS51O,EAAS1N,EAAEsjP,SAAWhqQ,IAAI+pH,gBAAgB3nF,IACnDmmF,IAAKn0F,EAAS1N,EAAE6hG,KAEpB,EAMIyyJ,EAAY,SAAUljP,GACxB,OAAOzjB,EAAOilF,EAAOxhE,GAAWrtB,gBAClC,EACIyU,EAAM,SAAUvb,GAClB,OAAOq3Q,GAAU,SAAUC,GACzB,OAAOA,EAAet3Q,OAASA,CACjC,GACF,EA0BA,MAAO,CACLwzI,OAxEW,SAAUzwH,EAAG0b,EAAMqmF,EAAQljH,EAAMw0Q,GAC5C,GAAI7hF,EAAWxxK,GAEb,OAAOo0P,EAAW,CAChBn3Q,GAFO+iB,EAGPnhB,KAAMA,EACNw0Q,SAAUA,EACV33O,KAAMA,EACNqmF,OAAQA,IAEL,GAAI3iH,EAAS4gB,GAClB,OAAOo0P,EAAWp0P,GAElB,MAAM,IAAIxe,MAAM,qBAEpB,EA0DEtD,IAxCQ,SAAUujQ,GACbjpP,EAAIipP,EAASxkQ,OAChB21F,EAAM71F,KAAK0kQ,EAEf,EAqCEjpP,IAAKA,EACLmpP,SA7Ba,SAAU2B,GACvB,OAAOgR,GAAU,SAAU7S,GACzB,OAAOA,EAAS6B,YAAcA,CAChC,GACF,EA0BE5B,UAzBc,SAAU3/I,EAAQ1jH,GAChC,OAAOi2Q,GAAU,SAAU7S,GACzB,OAAOA,EAAS1/I,WAAaA,GAAU0/I,EAAS/lO,OAAOr9B,OAASA,CAClE,GACF,EAsBEi2Q,UAAWA,EACXE,YAtBgB,SAAUlR,GAC1B1wK,EAAQm/F,EAASn/F,GAAO,SAAU6uK,GAChC,OAAIA,EAAS6B,YAAcA,IACzBhqQ,IAAIqqH,gBAAgB89I,EAAS6B,YACtB,EAGX,GACF,EAeE5yN,QAdY,WACZohJ,EAAOl/F,GAAO,SAAU2hL,GACtBj7Q,IAAIqqH,gBAAgB4wJ,EAAejR,UACrC,IACA1wK,EAAQ,EACV,EAWF,CAwLkB6hL,GAEZ3S,EAAe6P,KACf+C,EAAa,GACbC,EAxBoB,SAAU18L,GAClC,IAAI28L,EAAmBrqP,GAAK,MAgB5B,OAfA0tD,EAAOloC,GAAG,kBAAkB,SAAUttC,GACpCmyQ,EAAiB97P,IAAI/W,GAAS,CAAC,EAAGU,EAAEk1E,OACtC,IAaO,CAAEk9L,cAZW,WAClB,IAAI/jP,EAAOmnD,EAAO42E,YAAY/9H,KAC9BxpB,GAAOwpB,GAAMvsB,QAAO,SAAUozE,GAC5B,OAAQ0gL,GAAOuc,EAAiBp8P,MAAOm/D,EACzC,IAAGxzE,MAAK,SAAUwzE,GAChBM,EAAOshL,UAAS,GAChBthL,EAAOsZ,KAAK,SAAU,CACpB5Z,MAAOA,EACPwhL,UAAWv+O,GAAMkW,EAAMA,EAAK7wB,OAAS,GAAG6D,aAE5C,GACF,EAEF,CAMsBgxQ,CAAoB78L,GACpC88L,EAAa,SAAUngL,GACzB,OAAO,SAAUpwE,GACf,OAAIyzD,EAAOv8B,UACFk5C,EAASpwE,GAEX,EACT,CACF,EAIIwwP,EAAgB,SAAUjiP,EAAS9kB,EAAQjE,GAC7C,IAAI8K,EAAQ,EACZ,IAEiB,KADfA,EAAQie,EAAQrwB,QAAQuL,EAAQ6G,MAE9Bie,EAAUA,EAAQqD,UAAU,EAAGthB,GAAS9K,EAAU+oB,EAAQvpB,OAAOsL,EAAQ7G,EAAOhO,QAChF6U,GAAS9K,EAAQ/J,OAASgO,EAAOhO,OAAS,UAE1B,IAAX6U,GACT,OAAOie,CACT,EACIkiP,EAAkB,SAAUliP,EAASmiP,EAAWC,GAClD,IAAIC,EAAoB,QAAUD,EAAiB,KAAOA,IAAmB5hF,GAAIG,eAAiB,4BAA8B,IAGhI,OAFA3gK,EAAUiiP,EAAcjiP,EAAS,QAAUmiP,EAAY,IAAKE,GAC5DriP,EAAUiiP,EAAcjiP,EAAS,iBAAmBmiP,EAAY,IAAK,iBAAmBC,EAAiB,IAE3G,EACIE,EAAwB,SAAUH,EAAWC,GAC/CrjF,EAAO75G,EAAO42E,YAAY/9H,MAAM,SAAU6mD,GACrB,eAAfA,EAAMt5E,KACRs5E,EAAM8+K,UAAY5kE,EAAMl6G,EAAM8+K,WAAW,SAAUxjO,GACjD,OAAOgiP,EAAgBhiP,EAAUiiP,EAAWC,EAC9C,IAEAx9L,EAAM5kD,QAAUkiP,EAAgBt9L,EAAM5kD,QAASmiP,EAAWC,EAE9D,GACF,EASIG,EAAe,SAAU1gL,GAI3B,OAHKs/K,IACHA,EAAWF,GAAe/7L,EAAQ6pL,IAE7ByT,IAAgB52L,KAAKo2L,GAAW,SAAUS,GAC/C,IAAI9B,EAAY7hF,EAAM2jF,GAAY,SAAUpT,GAC1C,OAAOA,EAAUX,QACnB,IACA,OAAOyS,EAASrB,OAAOa,EAAWC,GAAiB17L,IAAS0G,KAAKo2L,GAAW,SAAUvwP,GACpF,IAAIixP,EAAiB,GACjBC,EAAiB7jF,EAAMrtK,GAAQ,SAAUmxP,EAAY7gQ,GACvD,IAAI2sP,EAAW+T,EAAW1gQ,GAAO2sP,SAC7BjgJ,EAAQg0J,EAAW1gQ,GAAO0sG,MAa9B,OAZIm0J,EAAWvtM,QA97WG,SAAU6P,GACpC,OAAOA,EAAO8O,SAAS,4BAA4B,EAAM,UAC3D,CA47WmC6uL,CAAsB39L,IAC7CupL,EAAUgT,YAAYhzJ,EAAMjzB,KACxB2sK,GAAMjjL,IAvBQ,SAAUupC,EAAOswJ,GAC3C,IAhC+Br1I,EAgC3BluC,EAAMtW,EAAOs1L,WAAWuE,EAAW,OACvCuD,EAAsB7zJ,EAAMjzB,IAAKujL,GACjC75L,EAAO0lI,EAAEn8F,GAAOrnF,KAAK,CACnB,IAAO60L,GAAoB/2I,IAnCEwkD,EAmCyBq1I,EAlCjDr1I,IAA6B,IAAtBA,EAAI/5H,QAAQ,KAAc,IAAM,MAAO,IAAI2xB,MAAOC,WAkCKw9O,EACnE,eAAgBvjL,GAEpB,CAiBYsnL,CAAsBr0J,EAAOm0J,EAAWl5I,MAEjCk5I,EAAWxqQ,QAChBwqQ,EAAWxqQ,MAAMjO,QAAQ69B,SAC3Bs6O,EAAsB7zJ,EAAM7qG,aAAa,OAAQ48K,GAAIG,gBACrD+hF,EAAe14Q,KAAKykH,IArehB,SAAUvpC,EAAQv3D,GAClCmwP,GAAa54L,EAAQwrI,GAAK9pM,UAAU,CAClC,8BACA+G,IAEJ,CAkeYo1P,CAAY79L,EAAQ09L,EAAWxqQ,MAAMuV,UAEhC,CACLzU,QAASu1G,EACTp5C,OAAQutM,EAAWvtM,OACnB2tM,UAAWJ,EAAWl5I,IACtBglI,SAAUA,EAEd,IAmBA,OAlBIiU,EAAez1Q,OAAS,GAC1B00Q,EAAcE,gBAEZY,EAAex1Q,OAAS,IACtBi7P,GAAMjjL,GACR/sE,QAAQC,MAAM,sEAEd8sE,EAAO42E,YAAYC,UAAS,WAC1BgjC,EAAO2jF,GAAgB,SAAUxpQ,GAC/BgsE,EAAO7tE,IAAI2wB,OAAO9uB,GAClBu1P,EAAUgT,YAAYvoQ,EAAQsiF,IAChC,GACF,KAGAqG,GACFA,EAAS8gL,GAEJA,CACT,IACF,IACF,EACIM,EAAmB,SAAUphL,GAC/B,GAAIm6H,GAA0B92I,GAC5B,OAAOq9L,EAAa1gL,EAExB,EACIqhL,EAAsB,SAAUC,GAClC,IAES,IAFL5xQ,GAAOowQ,GAAY,SAAUnwQ,GAC7B,OAAOA,EAAO2xQ,EAChB,IACA,OAAO,EAET,GAAoD,IAAhDA,EAAOv/P,aAAa,OAAOjU,QAAQ,SAAgB,CACrD,IAAIyzQ,EA5/WmB,SAAUl+L,GACrC,OAAOA,EAAO8O,SAAS,wBAAyBrlF,EAAQ,WAC1D,CA0/W0B00Q,CAAuBn+L,GAC3C,OAAOk+L,EAAcD,EACvB,CACA,OAAO,CACT,EAIIX,EAAgB,WAIlB,OAHKpB,IACHA,EAAetS,GAAaC,EAAcN,IAErC2S,EAAah1C,QAAQlnJ,EAAO7hE,UAAW6/P,GAAqBt3L,KAAKo2L,GAAW,SAAUvwP,GAe3F,OAdAA,EAASutK,EAASvtK,GAAQ,SAAU6xP,GAClC,MAA0B,iBAAfA,IACTxF,GAAa54L,EAAQo+L,IACd,EAGX,IACInb,GAAMjjL,IACR65G,EAAOttK,GAAQ,SAAU6xP,GACvBhB,EAAsBgB,EAAW70J,MAAMjzB,IAAK8nL,EAAW5U,SAAS6B,WAChE+S,EAAW70J,MAAMjzB,IAAM8nL,EAAW5U,SAAS6B,UAC3C+S,EAAW70J,MAAMxqG,gBAAgB,eACnC,IAEKwN,CACT,IACF,EAMI8xP,EAAkB,SAAUvjP,GAC9B,OAAOA,EAAQ/oB,QAAQ,uBAAuB,SAAU0J,EAAO4vP,GAC7D,IAAIwO,EAAYhQ,EAAakQ,aAAa1O,GAC1C,GAAIwO,EACF,MAAO,QAAUA,EAAY,IAE/B,IAAIrQ,EAAWD,EAAUG,SAAS2B,GAMlC,OALK7B,IACHA,EAAWp7P,EAAM4xE,EAAOqsE,cAAc9rI,OAAO,SAAUgM,EAAQyzD,GAC7D,OAAOzzD,GAAUyzD,EAAOuwL,cAAgBvwL,EAAOuwL,aAAahH,UAAUG,SAAS2B,EACjF,GAAG,OAED7B,EAEK,aADIA,EAAS/lO,OACOr9B,KAAO,WAAaojQ,EAAS1/I,SAAW,IAE9DruG,CACT,GACF,EA+BA,OA9BAukE,EAAOloC,GAAG,cAAc,WAClBg/K,GAA0B92I,GAC5B+9L,IAEAT,GAEJ,IACAt9L,EAAOloC,GAAG,kBAAkB,SAAUttC,GACpCA,EAAEswB,QAAUujP,EAAgB7zQ,EAAEswB,QAChC,IACAklD,EAAOloC,GAAG,cAAc,SAAUttC,GAC5BA,EAAE8zQ,aAA4B,QAAb9zQ,EAAE2xF,QAAiC,SAAb3xF,EAAE2xF,SAG7C3xF,EAAEswB,QAAUujP,EAAgB7zQ,EAAEswB,SAChC,IACAklD,EAAOloC,GAAG,cAAc,WACtBkoC,EAAOssK,OAAO/8B,cAAc,OAAO,SAAUw6C,GAC3ClwE,EAAOkwE,GAAQ,SAAU7lI,GACvB,IAAI5tC,EAAM4tC,EAAIhiG,KAAK,OACnB,IAAIqnO,EAAUG,SAASpzK,GAAvB,CAGA,IAAIujL,EAAYhQ,EAAakQ,aAAazjL,GACtCujL,GACF31I,EAAIhiG,KAAK,MAAO23O,EAHlB,CAKF,GACF,GACF,IACO,CACLtQ,UAAWA,EACXgV,UAjFc,SAAUjyQ,GACxBmwQ,EAAW33Q,KAAKwH,EAClB,EAgFE+wQ,aAAcA,EACdU,iBAAkBA,EAClBT,cAAeA,EACf7kO,QA5DY,WACZ8wN,EAAU9wN,UACVoxN,EAAapxN,UACbyjO,EAAeD,EAAW,IAC5B,EA0DF,EAuSIuC,GAAiB,SAAUx+L,GAC7B,IAAI01D,EAAU,CAAC,EAOXrtC,EAAW,SAAUzhG,EAAMu1F,GACzBv1F,IACG2yL,EAAW3yL,IAKT4yL,EAAUr9F,KACbA,EAAS,CAACA,IAEZ09F,EAAO19F,GAAQ,SAAUA,GACnB50F,EAAY40F,EAAOorH,QACrBprH,EAAOorH,MAAQ1xE,GAAiB15C,IAE9B50F,EAAY40F,EAAO39D,SACrB29D,EAAO39D,OAASq3G,GAAiB15C,IAAWw5C,GAAex5C,IAEzD50F,EAAY40F,EAAOr5D,SAAW+yG,GAAiB15C,KAAYw5C,GAAex5C,KAC5EA,EAAOr5D,OAAS,QAEd+yG,GAAiB15C,IAAWw5C,GAAex5C,KAC7CA,EAAOu5J,OAAQ,EACfv5J,EAAOunI,cAAe,GAEpBnqC,EAAWp9F,EAAOz8D,WACpBy8D,EAAOz8D,QAAUy8D,EAAOz8D,QAAQlB,MAAM,OAE1C,IACAk3G,EAAQ9uI,GAAQu1F,GAzBhB+9F,GAAOtzL,GAAM,SAAUu1F,EAAQv1F,GAC7ByhG,EAASzhG,EAAMu1F,EACjB,IA0BN,EASA,OAFAkM,EAnVQ,SAAUl2F,GAClB,IAAIujI,EAAU,CACZ+oI,UAAW,CAAC,CACR3jQ,SAAU,QACV8kB,OAAQ,CAAE8+O,cAAe,SAE7BC,aAAc,CAAC,CACX7jQ,SAAU,QACV8kB,OAAQ,CAAE8+O,cAAe,YAE7BE,aAAc,CAAC,CACX9jQ,SAAU,QACV8kB,OAAQ,CAAE8+O,cAAe,YAE7BG,UAAW,CACT,CACE/jQ,SAAU,eACVyqC,WAAW,EACX7lB,QAAS,aACTw2N,iBAAiB,EACjBp0I,QAAS,yBAEX,CACEhnG,SAAU,mDACV8kB,OAAQ,CAAEk/O,UAAW,QACrB3vB,SAAS,EACTrtI,SAAS,EACT+2I,aAAc,OAEhB,CACE/9O,SAAU,wBACVyqC,WAAW,EACX3lB,OAAQ,CAAEojL,MAAO,QACjBlhG,QAAS,0BAGbi9J,YAAa,CACX,CACEjkQ,SAAU,mDACV8kB,OAAQ,CAAEk/O,UAAW,UACrB3vB,SAAS,EACTrtI,QAAS,wBACT+2I,aAAc,OAEhB,CACE/9O,SAAU,eACVyqC,WAAW,EACX7lB,QAAS,eACTw2N,iBAAiB,EACjBp0I,QAAS,yBAEX,CACEhnG,SAAU,kBACVyqC,WAAW,EACX3lB,OAAQ,CACNqjE,QAAS,QACT+7K,WAAY,OACZC,YAAa,QAEfn9J,SAAS,GAEX,CACEhnG,SAAU,QACVyqC,WAAW,EACX3lB,OAAQ,CACNo/O,WAAY,OACZC,YAAa,QAEfn9J,QAAS,0BAGbo9J,WAAY,CACV,CACEpkQ,SAAU,eACVyqC,WAAW,EACX7lB,QAAS,cACTw2N,iBAAiB,EACjBp0I,QAAS,yBAEX,CACEhnG,SAAU,mDACV8kB,OAAQ,CAAEk/O,UAAW,SACrB3vB,SAAS,EACTrtI,QAAS,wBACT+2I,aAAc,OAEhB,CACE/9O,SAAU,wBACVyqC,WAAW,EACX3lB,OAAQ,CAAEojL,MAAO,SACjBlhG,QAAS,0BAGbq9J,aAAc,CAAC,CACXrkQ,SAAU,mDACV8kB,OAAQ,CAAEk/O,UAAW,WACrB3vB,SAAS,EACT0J,aAAc,MACd/2I,QAAS,0BAEbs9J,KAAM,CACJ,CACE5uL,OAAQ,SACR1tD,OAAQ,MACR+xN,oBAAqB,CACnB,QACA,UAGJ,CACErkK,OAAQ,OACR5wD,OAAQ,CAAEy/O,WAAY,SAExB,CACE7uL,OAAQ,IACR1tD,OAAQ,MACR+xN,oBAAqB,CACnB,QACA,WAINyqB,OAAQ,CACN,CACE9uL,OAAQ,KACR1tD,OAAQ,MACR+xN,oBAAqB,CACnB,QACA,UAGJ,CACErkK,OAAQ,OACR5wD,OAAQ,CAAE2/O,UAAW,WAEvB,CACE/uL,OAAQ,IACR1tD,OAAQ,MACR+xN,oBAAqB,CACnB,QACA,WAIN2qB,UAAW,CACT,CACEhvL,OAAQ,OACR5wD,OAAQ,CAAEm2N,eAAgB,aAC1B3yM,OAAO,GAET,CACEotC,OAAQ,IACR1tD,OAAQ,MACR+xN,oBAAqB,CACnB,QACA,WAIN4qB,cAAe,CACb,CACEjvL,OAAQ,OACR5wD,OAAQ,CAAEm2N,eAAgB,gBAC1B3yM,OAAO,GAET,CACEotC,OAAQ,SACR1tD,OAAQ,MACR+xN,oBAAqB,CACnB,QACA,UAGJ,CACErkK,OAAQ,IACR1tD,OAAQ,MACR+xN,oBAAqB,CACnB,QACA,WAIN6qB,UAAW,CACTlvL,OAAQ,OACR5wD,OAAQ,CAAEqpD,MAAO,UACjB0rK,OAAO,EACPI,gBAAgB,EAChBsB,oBAAoB,GAEtBspB,YAAa,CACXnvL,OAAQ,OACR5wD,OAAQ,CAAEs4N,gBAAiB,UAC3BvD,OAAO,EACPI,gBAAgB,EAChBsB,oBAAoB,GAEtBupB,SAAU,CACRpvL,OAAQ,OACR5gB,QAAQ,EACRhwC,OAAQ,CAAEg5H,WAAY,UACtBy9F,oBAAoB,GAEtBwpB,SAAU,CACRrvL,OAAQ,OACR5gB,QAAQ,EACRhwC,OAAQ,CAAE65H,SAAU,UACpB48F,oBAAoB,GAEtBypB,WAAY,CACVhlQ,SAAU,mCACV+9O,aAAc,IACdj5N,OAAQ,CAAEmgP,WAAY,WAExBC,eAAgB,CACdxvL,OAAQ,OACR7wD,WAAY,CAAEmjL,MAAO,WAEvBm9D,WAAY,CACVh5I,MAAO,aACP5hH,SAAS,EACTyd,OAAQ,OAEVo9O,UAAW,CAAE1vL,OAAQ,OACrB2vL,YAAa,CAAE3vL,OAAQ,OACvBm9E,KAAM,CAAEn9E,OAAQ,QAChBloD,KAAM,CACJkoD,OAAQ,IACR11E,SAAU,IACVgoB,OAAQ,MACRtE,OAAO,EACP+oL,MAAM,EACNkoC,QAAS,SAAUl9O,EAAM6tQ,EAAMC,GAC7B,OAAOxhF,GAAYtsL,IAASA,EAAKsM,aAAa,OAChD,EACA83O,SAAU,SAAU3zK,EAAKo9L,EAAM/+C,GAC7Bz3N,GAAMsC,KAAKm1N,GAAM,SAAUh7N,EAAOoK,GAChC0B,EAAI4zM,UAAU/iI,EAAKvyE,EAAKpK,EAC1B,GACF,GAEFynK,KAAM,CACJt9E,OAAQ,OACR6lK,oBAAoB,EACpBtB,gBAAgB,EAChBp1N,WAAY,CACV,KAAQ,SACR,gBAAiB,SAAU0hM,GACzB,IAAI/nN,EACJ,OAA+E,QAAvEA,EAAK+nN,aAAmC,EAASA,EAAKzzD,mBAAgC,IAAPt0J,EAAgBA,EAAK,IAC9G,IAGJgnQ,aAAc,CACZ,CACExlQ,SAAU,wFACVgoB,OAAQ,MACRtE,OAAO,EACPm3C,QAAQ,EACR+tJ,cAAc,EACdnc,MAAM,GAER,CACEzsM,SAAU,OACV6kB,WAAY,CACV,QACA,SAEFmD,OAAQ,QACRtE,OAAO,EACPm3C,QAAQ,EACR4xI,MAAM,GAER,CACEzsM,SAAU,IACV6kB,WAAY,CACV,QACA,SAEFnB,OAAO,EACPm3C,QAAQ,EACR4xI,MAAM,KAUZ,OANA39M,GAAMsC,KAAK,iDAAiDsyB,MAAM,OAAO,SAAU53B,GACjF8uI,EAAQ9uI,GAAQ,CACdqgI,MAAOrgI,EACPk8B,OAAQ,MAEZ,IACO4yG,CACT,CAgDWn1H,CAAIy/D,EAAO7tE,MACpBk2F,EA30Xe,SAAUroB,GACzB,OAAOA,EAAO8O,SAAS,UACzB,CAy0XWyxL,CAAWvgM,IACb,CACLz/D,IA/CU,SAAU3Z,GACpB,OAAOa,EAAcb,GAAQ8uI,EAAQ9uI,GAAQ8uI,CAC/C,EA8CE3yG,IA7CQ,SAAUn8B,GAClB,OAAO8J,GAAMglI,EAAS9uI,EACxB,EA4CEyhG,SAAUA,EACVF,WAZe,SAAUvhG,GAIzB,OAHIA,GAAQ8uI,EAAQ9uI,WACX8uI,EAAQ9uI,GAEV8uI,CACT,EASF,EAEI8qI,GAAS52Q,GAAMsC,KACfiG,GAAMkzM,GAASp2H,IACfwxL,GAAuB,SAAUC,EAAU1gM,GAC7C,IAAIgD,EAAKhjE,EAAMgb,EACX3M,EAAS2xD,GAAUA,EAAO3xD,QAAU09K,GAAO,CAAC,GAO5Cl5L,EAAgB,SAAU8tQ,GAC5B3gQ,EAAwB,iBAAV2gQ,EAAqB,CACjC/5Q,KAAM+5Q,EACNjhP,QAAS,GACTlhB,MAAO,CAAC,GACNmiQ,EACJ,IAAI39L,EAAM7wE,GAAIqmI,OAAOx4H,EAAKpZ,MAE1B,OAda,SAAUo8E,EAAKhjE,GACxBA,EAAK0f,QAAQ13B,QACfmK,GAAI0xJ,SAAS7gF,EAAKhjE,EAAK0f,QAAQtS,KAAK,MAEtCjb,GAAIs0M,WAAWzjI,EAAKhjE,EAAKxB,MAC3B,CAQEynN,CAASjjJ,EAAKhjE,GACPgjE,CACT,EAWI49L,EAAa,SAAU59L,EAAK09L,EAAUv8C,GACxC,IAAI3nN,EAAQqkQ,EACRn5O,EAAWg5O,EAAS14Q,OAAS,GAAK04Q,EAAS,GAC3CI,EAAep5O,GAAYA,EAAS9gC,KACpCm6Q,EAdkB,SAAU/9L,EAAKjtE,GACrC,IAAInP,EAAsB,iBAARo8E,EAAmBA,EAAI/uE,SAASC,cAAgB8uE,EAC9Dg+L,EAAU3yP,EAAOqiL,eAAe9pM,GAChC6qM,EAAkBuvE,GAAWA,EAAQvvE,gBACzC,SAAIA,IAAmBA,EAAgBzpM,UAC9B+N,IAA4D,IAA/CnM,GAAM2yL,QAAQkV,EAAiB17L,GAAoBA,EAAY07L,EAAgB,GAIvG,CAKuBwvE,CAAkBj+L,EAAK89L,GAC5C,GAAIC,EACED,IAAiBC,GACnBF,EAAkBH,EAAS,GAC3BA,EAAWA,EAASx1Q,MAAM,IAE1B21Q,EAAkBE,OAEf,GAAIr5O,EACTm5O,EAAkBH,EAAS,GAC3BA,EAAWA,EAASx1Q,MAAM,QACrB,IAAKi5N,EACV,OAAOnhJ,EAgBT,OAdI69L,IACFrkQ,EAAS3J,EAAcguQ,IAChBj8P,YAAYo+D,GAEjBmhJ,IACG3nN,IACHA,EAASrK,GAAIqmI,OAAO,QACb5zH,YAAYo+D,GAErBp5E,GAAMsC,KAAKi4N,GAAU,SAAU7/M,GAC7B,IAAI48P,EAAaruQ,EAAcyR,GAC/B9H,EAAO9W,aAAaw7Q,EAAYl+L,EAClC,KAEK49L,EAAWpkQ,EAAQkkQ,EAAUG,GAAmBA,EAAgB18C,SACzE,EACA,OAAIu8C,GAAYA,EAAS14Q,QACvBgY,EAAO0gQ,EAAS,GAChB19L,EAAMnwE,EAAcmN,IACpBgb,EAAW7oB,GAAIqmI,OAAO,QACb5zH,YAAYg8P,EAAW59L,EAAK09L,EAASx1Q,MAAM,GAAI8U,EAAKmkN,WACtDnpM,GAEA,EAEX,EACImmP,GAAoB,SAAUnhQ,GAChC,IAAIq/K,EACA5vL,EAAM,CACRiwB,QAAS,GACTlhB,MAAO,CAAC,GA4BV,MAzBa,OADbwB,EAAOvQ,EAAIqL,SAAWlR,GAAMu8C,KAAKnmC,MAE/Bq/K,EAAUr/K,EAAKjO,QAAQ,6CAA6C,SAAUqvQ,EAAIj1D,EAAIC,EAAIi1D,EAAIC,GAC5F,OAAQn1D,GACR,IAAK,IACH18M,EAAI+O,MAAMxZ,GAAKonN,EACf,MACF,IAAK,IACH38M,EAAIiwB,QAAQ56B,KAAKsnN,GACjB,MACF,IAAK,KACkF,IAAjFxiN,GAAM2yL,QAAQ,8CAA8C/9J,MAAM,KAAM4tL,KAC1E38M,EAAI+O,MAAM4tM,GAAMA,GAIpB,GAAW,MAAPi1D,EAAY,CACd,IAAI7pL,EAAI8pL,EAAG7lQ,MAAM,8BACb+7E,IACF/nF,EAAI+O,MAAMg5E,EAAE,IAAMA,EAAE,GAExB,CACA,MAAO,EACT,KAEF/nF,EAAI7I,KAAOy4L,GAAW,MACf5vL,CACT,EAgBI8nI,GAAa,SAAUv3D,EAAQmc,GACjC,IAAIv1F,EAAM26Q,EACWC,EAAjBC,EAAa,GACbC,EAh9XiB,SAAU1hM,GAC/B,IAAI5tE,EAAQ4tE,EAAO8O,SAAS,iBAxKH,+IAyKzB,OAAIyqG,EAAWnnL,GACNA,EAEA,EAEX,CAy8XsBuvQ,CAAiB3hM,GACrC,GAAsB,KAAlB0hM,EACF,MAAO,GAET,IAAIE,EAAa,SAAUjhQ,GACzB,OAAOA,EAAI5O,QAAQ,UAAW,GAChC,EACA,GAAsB,iBAAXoqF,EAAqB,CAE9B,KADAA,EAASnc,EAAOm2D,UAAU51H,IAAI47E,IAE5B,OAEFA,EAASA,EAAO,EAClB,CACA,GAAI,YAAaA,EAAQ,CACvB,IAAI0lL,EAAat8P,GAAM42E,EAAQ,WAC/B,GAAIvrF,GAAKixQ,GAAY,GACnB,MAAO,GAEPH,EAAgBG,EAAWn2Q,MAAMg2Q,EAErC,CACA96Q,EAAOu1F,EAAO8qC,OAAS9qC,EAAO3L,QAAU,OACxC,IAzC4B11E,EAyCxBu2C,GAzCwBv2C,EAyCFqhF,EAAOrhF,WAxCI,iBAAbA,GAIxBA,GADAA,EAAWA,EAAS0jB,MAAM,WAAW,IACjBzsB,QAAQ,sBAAuB,MAC5CnI,GAAMqC,IAAI6O,EAAS0jB,MAAM,4BAA4B,SAAUxe,GACpE,IAAImkN,EAAWv6N,GAAMqC,IAAI+T,EAAKwe,MAAM,gBAAiB2iP,IACjD1xQ,EAAM00N,EAASppI,MAInB,OAHIopI,EAASn8N,SACXyH,EAAI00N,SAAWA,GAEV10N,CACT,IAAGd,WAXM,GAwCL0iD,EAAMrpD,QACHqpD,EAAM,GAAGzqD,OACZyqD,EAAM,GAAGzqD,KAAOA,GAElBA,EAAOu1F,EAAOrhF,SACdymQ,EAAcd,GAAqBpvN,EAAO2uB,IAE1CuhM,EAAcd,GAAqB,CAAC75Q,GAAOo5E,GAE7C,IAAI8hM,EAAa3vQ,GAAIgrF,OAAOv2F,EAAM26Q,GAAa,IAAMA,EAAY58P,WAwDjE,OAvDA67P,GAAOrkL,EAAOv8D,QAAQ,SAAUv5B,EAAOO,GACrC,IAAI4yC,EAAWooO,EAAWv7Q,GACtBmzC,GACFrnC,GAAI41M,SAAS+5D,EAAYl7Q,EAAM4yC,EAEnC,IACAgnO,GAAOrkL,EAAOx8D,YAAY,SAAUt5B,EAAOO,GACzC,IAAI4yC,EAAWooO,EAAWv7Q,GACtBmzC,GACFrnC,GAAI4zM,UAAU+7D,EAAYl7Q,EAAM4yC,EAEpC,IACAgnO,GAAOrkL,EAAOz8D,SAAS,SAAUr5B,GAC/B,IAAImzC,EAAWooO,EAAWv7Q,GACrB8L,GAAIowM,SAASu/D,EAAYtoO,IAC5BrnC,GAAI0xJ,SAASi+G,EAAYtoO,EAE7B,IACAwmC,EAAOsZ,KAAK,kBACZnnF,GAAI81M,UAAUs5D,EAAa,CACzB15P,SAAU,WACV9W,MAAO,QAETivE,EAAO7hE,UAAUyG,YAAY28P,GAC7BC,EAAiBrvQ,GAAI+8E,SAASlP,EAAO7hE,UAAW,YAAY,GAC5DqjQ,EAAiB,MAAMlsQ,KAAKksQ,GAAkBjoQ,SAASioQ,EAAgB,IAAM,EAC7EhB,GAAOkB,EAAcljP,MAAM,MAAM,SAAU53B,GACzC,IAAIP,EAAQ8L,GAAI+8E,SAAS4yL,EAAYl7Q,GAAM,GAC3C,KAAa,qBAATA,GAA+B,oCAAoC0O,KAAKjP,KAC1EA,EAAQ8L,GAAI+8E,SAASlP,EAAO7hE,UAAWvX,GAAM,GACN,YAAnCuL,GAAIylF,MAAMvxF,GAAO6N,gBAIV,UAATtN,GACqC,YAAnCuL,GAAIylF,MAAMvxF,GAAO6N,eADvB,CAKA,GAAa,cAATtN,GACE,QAAQ0O,KAAKjP,GAAQ,CACvB,GAAuB,IAAnBm7Q,EACF,OAGFn7Q,EADema,WAAWna,IAAU,KAAKiP,KAAKjP,GAAS,IAAM,GAC1Cm7Q,EAAiB,IACtC,CAEW,WAAT56Q,GAAqBP,IACvBo7Q,GAAc,kBAEhBA,GAAc76Q,EAAO,IAAMP,EAAQ,GAbnC,CAcF,IACA25E,EAAOsZ,KAAK,uBACZnnF,GAAI2wB,OAAOy+O,GACJE,CACT,EA8BIM,GAAY,SAAU/hM,GACxB,IAAI01D,EAAU8oI,GAAex+L,GACzBgiM,EAAoB1vP,GAAK,MAG7B,OAjCY,SAAU0tD,GACtBA,EAAOiiM,YAAY,SAAU,GAAI,QACjCjiM,EAAOiiM,YAAY,SAAU,GAAI,UACjCjiM,EAAOiiM,YAAY,SAAU,GAAI,aACjC,IAAK,IAAIn6Q,EAAI,EAAGA,GAAK,EAAGA,IACtBk4E,EAAOiiM,YAAY,UAAYn6Q,EAAG,GAAI,CACpC,eACA,EACA,IAAMA,IAGVk4E,EAAOiiM,YAAY,WAAY,GAAI,CACjC,eACA,EACA,MAEFjiM,EAAOiiM,YAAY,WAAY,GAAI,CACjC,eACA,EACA,QAEFjiM,EAAOiiM,YAAY,WAAY,GAAI,CACjC,eACA,EACA,WAEJ,CAKEC,CAAQliM,GACR+xK,GAAQ/xK,GACD,CACLz/D,IAAKm1H,EAAQn1H,IACbwiB,IAAK2yG,EAAQ3yG,IACbslE,SAAUqtC,EAAQrtC,SAClBF,WAAYutC,EAAQvtC,WACpB3/F,MAAO,SAAU5B,EAAMy6N,EAAM9uN,IA/gHf,SAAUytE,EAAQp5E,EAAMy6N,EAAM9uN,GAC9CgyP,GAAwBvkL,GAAQm2D,UAAU3tI,MAAM5B,EAAMy6N,EAAM9uN,EAC9D,CA8gHM29J,CAAYlwF,EAAQp5E,EAAMy6N,EAAM9uN,EAClC,EACAuwB,OAAQ,SAAUl8B,EAAMy6N,EAAM9uN,EAAM88O,IA/gHrB,SAAUrvK,EAAQp5E,EAAMy6N,EAAM9uN,EAAM88O,GACrDkV,GAAwBvkL,GAAQm2D,UAAUrzG,OAAOl8B,EAAMy6N,EAAM9uN,EAAM88O,EACrE,CA8gHMl/E,CAAanwF,EAAQp5E,EAAMy6N,EAAM9uN,EAAM88O,EACzC,EACAz/K,OAAQ,SAAUhpE,EAAMy6N,EAAM9uN,IA/gHf,SAAUytE,EAAQp5E,EAAMy6N,EAAM9uN,GAC/CgyP,GAAwBvkL,GAAQm2D,UAAUvmE,OAAOhpE,EAAMy6N,EAAM9uN,EAC/D,CA8gHM4vQ,CAAaniM,EAAQp5E,EAAMy6N,EAAM9uN,EACnC,EACAkJ,MAAO,SAAU7U,EAAMy6N,EAAM9uN,EAAM88O,GACjC,OAxiHY,SAAUrvK,EAAQp5E,EAAMy6N,EAAM9uN,EAAM88O,GACpD,OAAOkV,GAAwBvkL,GAAQm2D,UAAU16H,MAAM7U,EAAMy6N,EAAM9uN,EAAM88O,EAC3E,CAsiHa+yB,CAAYpiM,EAAQp5E,EAAMy6N,EAAM9uN,EAAM88O,EAC/C,EACAjrJ,QAAS,SAAUptC,GACjB,OA/hHc,SAAUgpB,EAAQhpB,GACpC,OAAOutM,GAAwBvkL,GAAQm2D,UAAU/xC,QAAQptC,EAC3D,CA6hHaqrN,CAAcriM,EAAQhpB,EAC/B,EACAqrM,SAAU,SAAUrrM,EAAOqqK,GACzB,OA3iHgB,SAAUrhJ,EAAQhpB,EAAOqqK,GAC7C,OAAOkjC,GAAwBvkL,GAAQm2D,UAAUksH,SAASrrM,EAAOqqK,EACnE,CAyiHaihD,CAAgBtiM,EAAQhpB,EAAOqqK,EACxC,EACAiuB,UAAW,SAAU/8O,EAAM3L,EAAMy6N,EAAMguB,GACrC,OA3iHgB,SAAUrvK,EAAQztE,EAAM3L,EAAMy6N,EAAMguB,GACxD,OAAOkV,GAAwBvkL,GAAQm2D,UAAUm5G,UAAU/8O,EAAM3L,EAAMy6N,EAAMguB,EAC/E,CAyiHakzB,CAAgBviM,EAAQztE,EAAM3L,EAAMy6N,EAAMguB,EACnD,EACA52F,SAAU,SAAU7xJ,GAClB,OA3iHe,SAAUo5E,EAAQp5E,GACrC,OAAO29P,GAAwBvkL,GAAQm2D,UAAUsiB,SAAS7xJ,EAC5D,CAyiHa47Q,CAAexiM,EAAQp5E,EAChC,EACA0vJ,cAAe,SAAU5gB,EAAS/4C,EAAU0yJ,EAAShuB,GACnD,OA/hHc,SAAUrhJ,EAAQ65K,EAA2BnkH,EAAS/4C,EAAU0yJ,EAAShuB,GAC3F,OAAOkjC,GAAwBvkL,GAAQm2D,UAAUmgB,cAAcujG,EAA2BnkH,EAAS/4C,EAAU0yJ,EAAShuB,EACxH,CA6hHa/qE,CAAct2E,EAAQgiM,EAAmBtsI,EAAS/4C,EAAU0yJ,EAAShuB,EAC9E,EACA9pF,WAAY1uI,EAAM0uI,GAAYv3D,GAElC,EAEIyiM,GAAsB,SAAUzyG,GAClC,OAAQA,EAAI97J,eACZ,IAAK,OACL,IAAK,OACL,IAAK,aACL,IAAK,WACH,OAAO,EACT,QACE,OAAO,EAEX,EAsGIwuQ,GAAc,SAAU1iM,GAC1B,IAAI8/K,EAAiBz5P,KACjBq6P,EAAQpuO,GAAK,GACbzV,EAAQyV,GAAK,GACbskI,EAAc,CAChB/9H,KAAM,GACN+nO,QAAQ,EACRG,aAAc,YArtHC,SAAU/gL,EAAQ0gL,EAAOZ,GAC1CyE,GAAwBvkL,GAAQ42E,YAAYmqG,aAAaL,EAAOZ,EAClE,CAotHMiB,CAAa/gL,EAAQ0gL,EAAOZ,EAC9B,EACA75P,IAAK,SAAUy5E,EAAO38D,GACpB,OAttHa,SAAUi9D,EAAQ42E,EAAa/5I,EAAO6jP,EAAOZ,EAAgBpgL,EAAO38D,GACrF,OAAOwhP,GAAwBvkL,GAAQ42E,YAAY3wJ,IAAI2wJ,EAAa/5I,EAAO6jP,EAAOZ,EAAgBpgL,EAAO38D,EAC3G,CAotHa4/P,CAAa3iM,EAAQ42E,EAAa/5I,EAAO6jP,EAAOZ,EAAgBpgL,EAAO38D,EAChF,EACAu3G,KAAM,WACJ,OAttHK,SAAUt6C,EAAQ42E,EAAa8pG,EAAO7jP,GAC/C,OAAO0nP,GAAwBvkL,GAAQ42E,YAAYt8B,KAAKs8B,EAAa8pG,EAAO7jP,EAC9E,CAotHay9G,CAAKt6C,EAAQ42E,EAAa8pG,EAAO7jP,EAC1C,EACA09G,KAAM,WACJ,OAttHK,SAAUv6C,EAAQnjE,EAAOgc,GAClC,OAAO0rO,GAAwBvkL,GAAQ42E,YAAYr8B,KAAK19G,EAAOgc,EACjE,CAotHa0hG,CAAKv6C,EAAQnjE,EAAO+5I,EAAY/9H,KACzC,EACAyf,MAAO,YArtHC,SAAU0nC,EAAQ42E,EAAa/5I,GACzC0nP,GAAwBvkL,GAAQ42E,YAAYt+G,MAAMs+G,EAAa/5I,EACjE,CAotHMy7B,CAAM0nC,EAAQ42E,EAAa/5I,EAC7B,EACAwuC,MAAO,YArtHC,SAAU20B,EAAQ42E,GAC5B2tG,GAAwBvkL,GAAQ42E,YAAYvrG,MAAMurG,EACpD,CAotHMvrG,CAAM20B,EAAQ42E,EAChB,EACAgrG,QAAS,WACP,OAttHQ,SAAU5hL,EAAQ42E,EAAa/5I,GAC3C,OAAO0nP,GAAwBvkL,GAAQ42E,YAAYgrG,QAAQhrG,EAAa/5I,EAC1E,CAotHa+kP,CAAQ5hL,EAAQ42E,EAAa/5I,EACtC,EACAilP,QAAS,WACP,OAttHQ,SAAU9hL,EAAQ42E,EAAa/5I,GAC3C,OAAO0nP,GAAwBvkL,GAAQ42E,YAAYkrG,QAAQlrG,EAAa/5I,EAC1E,CAotHailP,CAAQ9hL,EAAQ42E,EAAa/5I,EACtC,EACAg6I,SAAU,SAAUl6D,GAClB,OAttHS,SAAU3c,EAAQ42E,EAAa8pG,EAAO/jK,GACnD,OAAO4nK,GAAwBvkL,GAAQ42E,YAAYC,SAASD,EAAa8pG,EAAO/jK,EAClF,CAotHak6D,CAAS72E,EAAQ42E,EAAa8pG,EAAO/jK,EAC9C,EACApuB,OAAQ,SAAUouB,IArtHT,SAAU3c,EAAQ0gL,EAAO/jK,GACpC4nK,GAAwBvkL,GAAQ42E,YAAYroF,OAAOmyL,EAAO/jK,EAC5D,CAotHMpuB,CAAOyR,EAAQ0gL,EAAO/jK,EACxB,EACAzvE,MAAO,SAAUg1O,EAAWC,IArtHpB,SAAUniL,EAAQ42E,EAAa/5I,EAAOqlP,EAAWC,GAC3DoC,GAAwBvkL,GAAQ42E,YAAY1pI,MAAM0pI,EAAa/5I,EAAOqlP,EAAWC,EACnF,CAotHMj1O,CAAM8yD,EAAQ42E,EAAa/5I,EAAOqlP,EAAWC,EAC/C,GAMF,OAJKc,GAAMjjL,IA9IQ,SAAUA,EAAQ42E,EAAa8pG,GAClD,IAAIkiB,EAAwBtwP,IAAK,GAC7BuwP,EAAwB,SAAUr4Q,GACpCm2P,GAAU/pG,GAAa,EAAO8pG,GAC9B9pG,EAAY3wJ,IAAI,CAAC,EAAGuE,EACtB,EACAw1E,EAAOloC,GAAG,QAAQ,WAChB8+G,EAAY3wJ,KACd,IACA+5E,EAAOloC,GAAG,qBAAqB,SAAUttC,GACvC,IAAIwlK,EAAMxlK,EAAE8hJ,QACPm2H,GAAoBzyG,KACvB6wF,GAAUjqG,EAAa8pG,GACvB9pG,EAAYmqG,eAEhB,IACA/gL,EAAOloC,GAAG,eAAe,SAAUttC,GACjC,IAAIwlK,EAAMxlK,EAAE8hJ,QACPm2H,GAAoBzyG,IACvB6yG,EAAsBr4Q,EAE1B,IACAw1E,EAAOloC,GAAG,yBAAyB,WACjC8+G,EAAYmqG,cACd,IACA/gL,EAAOloC,GAAG,iCAAkC+qO,GAC5C7iM,EAAOloC,GAAG,UAAW+qO,GACrB7iM,EAAOloC,GAAG,SAAS,SAAUttC,GAC3B,IAAI04H,EAAU14H,EAAE04H,QACZ14H,EAAEwzK,wBAGF96C,GAAW,IAAMA,GAAW,IAAMA,GAAW,IAAMA,GAAW,IAAkB,KAAZA,GAAkB14H,EAAEi1D,WAC1FojN,IACA7iM,EAAO0kF,eAEO,KAAZxhC,GAA8B,IAAZA,GACpBljD,EAAO0kF,cAELk+G,EAAsBriQ,OAASq2I,EAAYgqG,SAAoE,IAA1DR,GAAOT,GAAiB3/K,GAAS42E,EAAY/9H,KAAK,OAChF,IAArBmnD,EAAO8iM,YACT9iM,EAAOshL,UAAS,GAChBthL,EAAOsZ,KAAK,SAAU,CACpB5Z,MAAOk3E,EAAY/9H,KAAK,GACxBqoO,UAAW,QAGflhL,EAAOsZ,KAAK,cACZspL,EAAsB/hQ,KAAI,GAC1Bm/D,EAAO0kF,eAEX,IACA1kF,EAAOloC,GAAG,WAAW,SAAUttC,GAC7B,IAAI04H,EAAU14H,EAAE04H,QAChB,IAAI14H,EAAEwzK,qBAGN,GAAI96C,GAAW,IAAMA,GAAW,IAAMA,GAAW,IAAMA,GAAW,IAAkB,KAAZA,EAClE0zB,EAAYgqG,QACdiiB,EAAsBr4Q,OAF1B,CAMA,IAAIu4Q,EAASv4Q,EAAEi1D,UAAYj1D,EAAE29N,QAAU39N,EAAEksM,UACpCxzE,EAAU,IAAMA,EAAU,KAAmB,MAAZA,GAA+B,KAAZA,GAAmB0zB,EAAYgqG,QAAWmiB,IACjGnsH,EAAYmqG,eACZJ,GAAU/pG,GAAa,EAAM8pG,GAC7B9pG,EAAY3wJ,IAAI,CAAC,EAAGuE,GACpBo4Q,EAAsB/hQ,KAAI,GAN5B,CAQF,IACAm/D,EAAOloC,GAAG,aAAa,SAAUttC,GAC3BosJ,EAAYgqG,QACdiiB,EAAsBr4Q,EAE1B,IAUAw1E,EAAOloC,GAAG,SAAS,SAAUttC,GANF,IAAUuY,EAO/BvY,EAAEw4Q,YATqB,0BASiBx4Q,EAT/Bw4Q,WAGc,gBADQjgQ,EAOoCvY,GAN1Dw4Q,WAA6C,OAAfjgQ,EAAM8V,MAErB,SAAU9V,GACtC,MAA2B,oBAApBA,EAAMigQ,WAAuD,mBAApBjgQ,EAAMigQ,SACxD,CAE+EC,CAAwBz4Q,KACnGq4Q,EAAsBr4Q,EAE1B,IACAw1E,EAAOloC,GAAG,gCAAgC,SAAUttC,GAC7CA,EAAEwzK,sBACLh+F,EAAO0kF,aAEX,GACF,CAgDImzG,CAAe73L,EAAQ42E,EAAa8pG,GA/Cb,SAAU1gL,GACnCA,EAAOiiM,YAAY,SAAU,GAAI,QACjCjiM,EAAOiiM,YAAY,sBAAuB,GAAI,OAChD,CA8CEiB,CAAqBljM,GACd42E,CACT,EAEIusH,GAAoB,CACtB,EACA,GACAx7C,GAAGM,KACHN,GAAGK,IACH,GACA,GACA,GACA,IACA,IACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACAL,GAAG9oK,KACH8oK,GAAGhpK,GACHgpK,GAAGjpK,KACHipK,GAAG/oK,OACH11D,OAAOoyL,GAAIriL,QAAQ1B,YAAc,CAAC,KAAO,IACvC6rQ,GAAkB,uBAClBC,GAAkB,SAAU74Q,GAC9B,MAAkB,YAAXA,EAAEpE,MAAiC,UAAXoE,EAAEpE,IACnC,EACIk9Q,GAAgB,SAAU94Q,GAC5B,IAAI04H,EAAU14H,EAAE04H,QAChB,OAAOA,IAAYykG,GAAGtpK,WAAa6kE,IAAYykG,GAAGC,MACpD,EA2BI27C,GAAU,SAAUvjM,GACtB,IAAI7tE,EAAM6tE,EAAO7tE,IACbynN,EAAYhD,GAAmB52I,GAC/BrrB,EAn2Ye,SAAUqrB,GAC7B,OAAOA,EAAO8O,SAAS,cAAe0nI,GAAM5Q,UAAU5lI,EAAO+O,aAAc,eAAgB,SAC7F,CAi2YoBy0L,CAAexjM,GAC7ByjM,EAAoB,SAAUj5Q,EAAG+nB,GACnC,IA/B2B,SAAU/nB,GACvC,GAAI64Q,GAAgB74Q,GAAI,CACtB,IAAI04H,EAAU14H,EAAE04H,QAChB,OAAQogJ,GAAc94Q,KAAOm9N,GAAGS,eAAe59N,IAAMA,EAAE29N,QAAUjlG,GAAW,KAAOA,GAAW,KAAOy2D,EAAWwpF,GAAmBjgJ,GACrI,CACE,OAAO,CAEX,CAwBQwgJ,CAAyBl5Q,GAA7B,CAGA,IAAIkT,EAAOsiE,EAAO7hE,UACdwlQ,GA3BoB,SAAUn5Q,GACpC,OAAO64Q,GAAgB74Q,MAAQ84Q,GAAc94Q,IAAiB,UAAXA,EAAEpE,MAAkC,MAAdoE,EAAE04H,QAC7E,CAyB0B0gJ,CAAsBp5Q,IAxB1B,SAAU2H,EAAKuxI,EAASywG,GAC5C,GAAIrrD,GAAUt2L,GAAaF,QAAQoxI,IAAU,GAAQ,CACnD,IAAImgI,EAA6C,KAApB1vB,EACzBl0D,EAAev8C,EAAQmmF,kBAC3B,OAAK5pC,IAEM9tL,EAAI+8E,SAASw0D,EAAQmmF,kBAAmB,kBAAmB13N,EAAI+8E,SAASw0D,EAAQmmF,kBAAmB,mBAGrGg6C,GAA0B1xQ,EAAIowE,QAAQ09G,GAAgBk0D,IAAoBl0D,EAAahsL,SAASC,cAE3G,CACE,OAAO,CAEX,CAU6D4vQ,CAAgB3xQ,EAAKuL,EAAMk8M,IAClB,KAAzCznN,EAAIyzM,UAAUloM,EAAM0lQ,MAClBO,GAAmBpxP,KAC5CpgB,EAAI4zM,UAAUroM,EAAM0lQ,GAAiBO,EAAkBhvN,EAAc,MACrExiD,EAAI4zM,UAAUroM,EAAM,mBAAoBimQ,EAAkBhvN,EAAc,MA7hVlD,SAAUqrB,EAAQr8C,GACrCq8C,EAAOsZ,KAAK,oBAAqB,CAAE31D,MAAOA,GACnD,CA4hVMogP,CAAsB/jM,EAAQ2jM,GAC9B3jM,EAAOloC,GAAG6rO,EAAkB,UAAY,QAASF,GACjDzjM,EAAOhoC,IAAI2rO,EAAkB,QAAU,UAAWF,GATpD,CAWF,EACI9uN,GACFqrB,EAAOloC,GAAG,QAAQ,SAAUttC,GAC1Bi5Q,EAAkBj5Q,GAAG,GACrBw1E,EAAOloC,GAAG,gCAAiC2rO,GAC3CzjM,EAAOloC,GAAG,SAAS,SAAUttC,GAC3B,OAAO83L,GAAM/1C,iBAAiBvsE,GAAQ,WACpC,OAAOyjM,EAAkBj5Q,EAC3B,GACF,GACF,GAEJ,EAEIw5Q,GAAY,4CAKZC,GAAiB,SAAUjkM,EAAQgD,GACrC,OAAOu6G,GAAK/qL,GAAaF,QAAQ0wE,GAp5YH,SAAUhD,GACxC,OAAOA,EAAO8O,SAAS,6BAA8B,+BAAgC,SACvF,CAk5YyCo1L,CAA0BlkM,GACnE,EACIhhC,GAAQ,SAAUhrC,GACpB,MAA6D,QAAtDqxM,GAASp2H,IAAIC,SAASl7E,EAAS,aAAa,KARxBV,EAQwDU,EAAQgR,YAPpFg/P,GAAU1uQ,KAAKhC,IADL,IAAUA,CAS7B,EAII6wQ,GAAiB,SAAUF,EAAgB3hM,EAAU/tC,GACvD,IAAIupI,EAJkB,SAAUmmG,EAAgB3hM,EAAU/tC,GAC1D,OAAOulJ,EAASurB,GAASp2H,IAAIoO,WAAW9oD,EAAI9Y,YAAa,IAAK6mD,GAAW2hM,EAC3E,CAEgBG,CAAkBH,EAAgB3hM,EAAU/tC,GAC1D,OAAO1nC,EAAS/B,KAAKgzK,EAAQA,EAAQ91K,OAAS,GAChD,EASIq8Q,GAAoB,SAAU3kE,EAASnrK,GACzC,IAAKA,EACH,OAAOA,EAET,IAAI9Y,EAAY8Y,EAAI9Y,YAAaze,EAASu3B,EAAIv3B,SAC9C,OAAI0iM,EACErZ,GAAuB5qK,GACrB8jK,GAAS9jK,EAAUlX,aACd4uM,GAAc13L,EAAUlX,YAAa,GAErC4uM,GAAcpwK,MAAMtnB,GAGtB+qK,GAAejyJ,GAAO4+K,GAAc13L,EAAWze,EAAS,GAAKu3B,EAGlE8xJ,GAAuB5qK,GACrB8jK,GAAS9jK,EAAUoiK,iBACds1B,GAAc13L,EAAUoiK,gBAAiBpiK,EAAUoiK,gBAAgBhlK,KAAK7wB,QAExEmrN,GAAcrwK,OAAOrnB,GAGvBirK,GAAcnyJ,GAAO4+K,GAAc13L,EAAWze,EAAS,GAAKu3B,CAGzE,EACI+vO,GAAoBz7Q,EAAMw7Q,IAAmB,GAC7CE,GAAqB17Q,EAAMw7Q,IAAmB,GAO9CG,GAAwB,SAAUxwQ,GACpC,OAAOwxL,GAAcxxL,IAAY0xL,GAAW1xL,EAC9C,EACIywQ,GAAmB,SAAUniM,EAAUU,GACzC,OAAIvxE,GAAW6wE,EAAUU,GAChBn7C,GAAUm7C,EAAKwhM,GAVP,SAAUliM,GAC3B,OAAO,SAAUU,GACf,OAAO3nE,GAAGinE,EAAU9vE,GAAaF,QAAQ0wE,EAAI7wE,IAAIsK,YACnD,CACF,CAMiDioQ,CAAapiM,IAEnDz1E,EAAS1B,MAEpB,EAMIw5Q,GAAgB,SAAU3kM,GACxBA,EAAO7tE,IAAIo3M,QAAQvpI,EAAO7hE,aAC5B6hE,EAAOnxB,WAAW,IAPM,SAAUmxB,GACpC,IAAItiE,EAAOsiE,EAAO7hE,UACd5L,EAAOmL,EAAKiH,YAAcq7D,EAAO7tE,IAAIowE,QAAQ7kE,EAAKiH,YAAcjH,EAAKiH,WAAajH,EACtFsiE,EAAOv8B,UAAU0/B,kBAAkB5wE,EAAM,EAC3C,CAIIqyQ,CAAsB5kM,GAE1B,EAwBI6kM,GAAgB,SAAU/5Q,EAAMD,GAClC,MAAO,CACLC,KAAMA,EACND,GAAIA,EAER,EACIi6Q,GAAmB,SAAUxiM,EAAU/tC,GACzC,IAAImvG,EAAUlxI,GAAaF,QAAQgwE,GAC/B++C,EAAe7uH,GAAaF,QAAQiiC,EAAI9Y,aAC5C,OAAOgpP,GAAiB/gI,EAASriB,GAAcp1H,KAAI,SAAUg7H,GAC3D,OAhBgB,SAAUA,EAAOp/G,GACnC,MAAO,CACLo/G,MAAOA,EACPp/G,SAAUA,EAEd,CAWWk9P,CAAc99I,EAAO1yF,EAC9B,GACF,EA6BIywO,GAAgB,SAAU1iM,EAAUo9H,EAASh8J,GAC/C,IAAIuhO,EAAeH,GAAiBxiM,EAAU6wI,GAAcG,eAAe5vK,IACvEwhO,EAAaD,EAAa94Q,MAAK,SAAUg5Q,GAC3C,OAAOhnD,GAAaze,EAASp9H,EAAU6iM,EAASt9P,UAAU1b,MAAK,SAAUtB,GACvE,OAAOi6Q,GAAiBxiM,EAAUz3E,GAAIoB,KAAI,SAAUk5Q,GAClD,OApBS,SAAU7iM,EAAUo9H,EAASqlE,GAC5C,OAAIrlF,GAAOqlF,EAAcl9P,SAAS+6D,aAAiD,IAAnCkmH,GAAUi8E,EAAc99I,OAC/Dq3F,IAAW,EAAOymD,EAAc99I,MAAM90H,KAAKhG,MAAK,SAAUi5Q,GAC/D,OAAIA,EAAoB/xD,QAAQ0xD,EAAcl9P,UACrCs2M,GAAaze,EAASp9H,EAAU8iM,GAAqBj5Q,MAAK,SAAUtB,GACzE,OAAOi6Q,GAAiBxiM,EAAUz3E,EACpC,IAEOgC,EAASJ,KAAKs4Q,EAEzB,IAAGr5Q,MAAMq5Q,GAEFA,CAEX,CAMeM,CAAW/iM,EAAUo9H,EAASylE,EACvC,GACF,GACF,IACA,OAAOl0Q,GAAMg0Q,EAAcC,EAAYL,IAAev4Q,QAAO,SAAUu4Q,GACrE,OAtCoB,SAAUA,GAChC,OAAgE,IAAzDxpQ,GAAGwpQ,EAAc/5Q,KAAKm8H,MAAO49I,EAAch6Q,GAAGo8H,MACvD,CAoCWq+I,CAAkBT,IAnCT,SAAUA,GAC5B,OAAOroQ,GAAOqoQ,EAAc/5Q,KAAKm8H,OAAO96H,MAAK,SAAUo5Q,GACrD,OAAO/oQ,GAAOqoQ,EAAch6Q,GAAGo8H,OAAO36H,QAAO,SAAUk5Q,GACrD,OAAOnqQ,GAAGkqQ,EAASC,EACrB,GACF,IAAGh6Q,QACL,CA6B+Ci6Q,CAAcZ,IA5B1C,SAAUA,GAC3B,OAAkE,IAA3DhlF,GAAyBglF,EAAc/5Q,KAAKm8H,MAAM90H,OAA2E,IAAzD0tL,GAAyBglF,EAAch6Q,GAAGo8H,MAAM90H,IAC7H,CA0B+EuzQ,CAAab,EAC1F,GACF,EAKIc,GAAgC,SAAU1+I,GAC5C,IAAI3hH,EAAa3I,GAASsqH,GAC1B,OAAO+yD,EAAY10K,EAAY+/K,IAAW/5L,KAAKmqB,EAASnQ,IAAa,SAAUzI,GAC7E,OAAOyI,EAAWpa,MAAM,EAAG2R,EAC7B,GACF,EACI+oQ,GAAkB,SAAU3+I,GAC9B,IAAItqH,EAAWgpQ,GAA8B1+I,GAE7C,OADA4yD,EAAOl9K,EAAUmC,IACVnC,CACT,EACIkpQ,GAAkB,SAAUvjM,EAAU2kD,GACxC,IAAI62C,EAAUihE,GAAe93G,EAAO3kD,GACpC,OAAO5sE,EAAOooK,EAAQnvK,WAAW,SAAUqF,GACzC,OAAO80L,GAAU90L,EACnB,IAAG9H,KAAK4S,GACV,EAMIgnQ,GAAmB,SAAUxjM,EAAU68J,EAAW4mC,EAASC,GAC7D,GAAIl9E,GAAUi9E,GAEZ,OADArnC,GAAkBqnC,GACXrnD,GAAgBqnD,EAAQ5zQ,KALnB,IAFP2nL,EAASgE,GASEkoF,IATgB,SAAU3gR,GAC1C,OAAQyjM,GAAUzjM,EACpB,IAAG2C,QAOkC8gM,GAAUq2C,IAC7C/gD,GAAS4nF,EAAgBxzQ,GAAaW,QAAQ,OAEhD,IAAI0U,EAAW42M,GAAasnD,EAAQ5zQ,IAAKghN,GAAcrwK,OAAOkjO,EAAe7zQ,MAK7E,OAJA0nL,EAAO+rF,GAAgBzmC,IAAY,SAAUx4M,GAC3Cy3J,GAAS4nF,EAAgBr/O,EAC3B,IACAk/O,GAAgBvjM,EAAU68J,GACnBt3N,CACT,EACIo+P,GAAqB,SAAU3jM,EAAU68J,EAAW4mC,GACtD,GAAIj9E,GAAUi9E,GAKZ,OAJAjnQ,GAASinQ,GACLj9E,GAAUq2C,IACZT,GAAkBS,GAEbzgB,GAAgBygB,EAAUhtO,KAEnC,IAAI0V,EAAW82M,GAAeonD,EAAQ5zQ,KAKtC,OAJA0nL,EAAO+rF,GAAgBzmC,IAAY,SAAUx4M,GAC3C9hB,GAASkhQ,EAASp/O,EACpB,IACAk/O,GAAgBvjM,EAAU68J,GACnBt3N,CACT,EAKIq+P,GAAoB,SAAU/mC,EAAW4mC,GAC3C,OAAOt0Q,GAAWs0Q,EAAS5mC,GALJ,SAAU4mC,EAAS9+I,GAC1C,IAAIk/I,EAAmBpnC,GAAe93G,EAAO8+I,GAC7C,OAAOl5Q,EAAS/B,KAAKq7Q,EAAiBA,EAAiBn+Q,OAAS,GAClE,CAE0Co+Q,CAAmBL,EAAS5mC,GAAatyO,EAAS1B,MAC5F,EACIk7Q,GAAS,SAAU1/M,EAAOsgE,GAC5Bq3F,GAAW33J,EAAOsgE,EAAM90H,KAAKlG,KAAI,SAAU4b,GACzC,OAAOA,EAAS+6D,SAClB,IAAG32E,IAAIuG,GAAaF,SAAShG,OAAOi5L,IAAQr5L,KAAK4S,GACnD,EACIwnQ,GAAiB,SAAUhkM,EAAU68J,EAAW4mC,GAGlD,OAFAM,IAAO,EAAMlnC,GACbknC,IAAO,EAAON,GACPG,GAAkB/mC,EAAW4mC,GAASz6Q,KAAKzC,EAAMo9Q,GAAoB3jM,EAAU68J,EAAW4mC,GAAUl9Q,EAAMi9Q,GAAkBxjM,EAAU68J,EAAW4mC,GAC1J,EACIQ,GAAc,SAAUjkM,EAAUo9H,EAAS8mE,EAAQC,GACrD,OAAO/mE,EAAU4mE,GAAehkM,EAAUmkM,EAAQD,GAAUF,GAAehkM,EAAUkkM,EAAQC,EAC/F,EAEIC,GAAoB,SAAU1mM,EAAQ0/H,GACxC,IAAIp9H,EAAW9vE,GAAaF,QAAQ0tE,EAAO7hE,WACvC0J,EA/EO,SAAUy6D,EAAUo9H,EAASh8J,GACxC,OAAOA,EAAI6B,UAAYy/N,GAAc1iM,EAAUo9H,EAASh8J,GAAO72C,EAAS1B,MAC1E,CA6EiB2xB,CAAOwlD,EAASnwE,IAAKutM,EAAS1/H,EAAOv8B,UAAUmiC,UAAUz5E,MAAK,SAAU04Q,GACrF,OAAO0B,GAAYjkM,EAAUo9H,EAASmlE,EAAc/5Q,KAAKm8H,MAAO49I,EAAch6Q,GAAGo8H,MACnF,IAIA,OAHAp/G,EAAS3b,MAAK,SAAUqoC,GACtByrC,EAAOv8B,UAAUyuH,OAAO39H,EAAI6+K,UAC9B,IACOvrM,EAASrc,QAClB,EAgBIm7Q,GAAmB,SAAUp0O,EAAMisM,GACrC,IAAIjsO,EAAOC,GAAaF,QAAQksO,GAC5BjqN,EAAS1rB,EAAMwS,GAAIk3B,GACvB,OAAOwvJ,GAAWxvL,EAAMqzL,GAAerxK,GAAQ/oB,QACjD,EAIIo7Q,GAAuB,SAAUr0O,EAAMmR,GACzC,IAAImjO,EAAapoD,GAAalsL,EAAKpgC,IAAKghN,GAAcG,eAAe5vK,IAAMj4C,SACvEq7Q,EAAStoD,GAAajsL,EAAKpgC,IAAKghN,GAAcI,aAAa7vK,IAAMj4C,SACrE,OANuB,SAAU8mC,EAAMmR,GACvC,OAAOijO,GAAiBp0O,EAAMmR,EAAIC,iBAAmBgjO,GAAiBp0O,EAAMmR,EAAIwB,aAClF,CAIU6hO,CAAmBx0O,EAAMmR,IAAQmjO,GAAcC,CACzD,EAMIE,GAAgB,SAAUhnM,GAC5B,IAAIsC,EAAW9vE,GAAaF,QAAQ0tE,EAAO7hE,WACvCulC,EAAMs8B,EAAOv8B,UAAUmiC,SAC3B,OAAOghM,GAAqBtkM,EAAU5+B,GARtB,SAAUs8B,GAG1B,OAFAA,EAAOnxB,WAAW,IAClBmxB,EAAOv8B,UAAU0/B,qBACV,CACT,CAI+C8jM,CAAYjnM,GAnC9B,SAAUsC,EAAU7+B,GAC/C,IAAIC,EAAMD,EAAUmiC,SACpB,OAAO30E,GAAMwzQ,GAAiBniM,EAAU9vE,GAAaF,QAAQoxC,EAAIC,iBAAkB8gO,GAAiBniM,EAAU9vE,GAAaF,QAAQoxC,EAAIwB,gBAAgB,SAAUshO,EAAQC,GACvK,OAA2B,IAAvBprQ,GAAGmrQ,EAAQC,KACb/iO,EAAIkkM,iBACJ2+B,GAAYjkM,GAAU,EAAMkkM,EAAQC,GAAQv6Q,MAAK,SAAUqoC,GACzDkP,EAAUyuH,OAAO39H,EAAI6+K,UACvB,KACO,EAIX,IAAG1nN,OAAM,EACX,CAsBqEw7Q,CAAuB5kM,EAAUtC,EAAOv8B,UAC7G,EACI0jO,GAAoB,SAAUnnM,EAAQonM,GACxC,OAAOpnM,EAAOv8B,UAAUukG,eAAwBg/H,GAAchnM,EAChE,EAEIqnM,GAA0BznF,GAC1B0nF,GAA2BznF,GAC3B0nF,GAAY,SAAU77O,EAAWs0C,EAAQztE,EAAMuwC,EAAQ27I,GACzD,OAAO5xL,EAAS/B,KAAKk1E,EAAO+sK,oBAAoBw6B,UAAU77O,EAAWn5B,EAAMuwC,EAAQ27I,GACrF,EAMIl6G,GAAa,SAAUvE,EAAQztE,GAEjC,OADQytE,EAAOsZ,KAAK,uBAAwB,CAAEnjF,OAAQ5D,IAChDyrK,qBACGnxK,EAAS1B,OAEX0B,EAASJ,KAVC,SAAU8F,GAC3B,IAAImxC,EAAMnxC,EAAK4J,cAAckoC,cAE7B,OADAX,EAAI6gC,WAAWhyE,GACRmxC,CACT,CAMuB8jO,CAAaj1Q,GACpC,EACIk1Q,GAAqB,SAAUznM,EAAQ97B,EAAOu6I,GAChD,IAAI69B,EAAkBN,GAAe,EAAGh8I,EAAO7hE,UAAW+lC,GACtD6uK,EAAgBI,GAAcG,eAAegJ,GAC7CorD,EAAoB30D,EAAcnwI,UACtC,GAAIy3I,GAAwBqtD,GAC1B,OAAOH,GAAU,EAAGvnM,EAAQ0nM,GAAoB30D,EAAcpsB,WAAW,GAE3E,IAAIghF,EAA0B50D,EAAcnwI,SAAQ,GACpD,GAAIy3I,GAAwBstD,GAC1B,OAAOJ,GAAU,EAAGvnM,EAAQ2nM,GAAyB,GAAO,GAE9D,IAAIC,EAAS5nM,EAAO7tE,IAAI0xE,UAAUkvI,EAAcnwI,WAAW,SAAUrwE,GACnE,OAAO+0Q,GAAyB/0Q,IAAS80Q,GAAwB90Q,EACnE,IACA,OAAI8nN,GAAwButD,GACnBL,GAAU,EAAGvnM,EAAQ4nM,GAAQ,EAAOnpF,GAEtC5xL,EAAS1B,MAClB,EACI08Q,GAAmB,SAAU7nM,EAAQ97B,EAAOu6I,GAC9C,OAAOv6I,EAAMqB,UAAYkiO,GAAmBznM,EAAQ97B,EAAOu6I,GAAgB/yL,MAAMw4C,GAASA,CAC5F,EAEI4jO,GAAmB,SAAUvzO,GAC/B,OAAO6pM,GAA6B7pM,IAAQypM,GAAczpM,EAC5D,EACIwzO,GAAkB,SAAUxzO,GAC9B,OAAO8pM,GAA4B9pM,IAAQ0pM,GAAa1pM,EAC1D,EAMIyzO,GAA4B,SAAUhoM,EAAQ97B,EAAO3xC,EAAMm5B,EAAWg0K,EAASuoE,GAgBjF,OAfAV,GAAU77O,EAAWs0C,EAAQioM,EAAkBrlM,SAAS88H,GAAUA,GAAS,GAAMxzM,MAAK,SAAUg8Q,GAC9F,GAAIhkO,EAAMqB,UAAW,CACnB,IAAI4iO,EAAcjkO,EAAMggC,aACpBw7H,EACFyoE,EAAYzjO,OAAOwjO,EAAWvkO,eAAgBukO,EAAWjjO,aAEzDkjO,EAAY5jO,SAAS2jO,EAAWhjO,aAAcgjO,EAAW/iO,WAE3DgjO,EAAYvgC,gBACd,MACE1jM,EAAM0jM,iBAER5nK,EAAOv8B,UAAUyuH,OAAOg2G,EAC1B,IAnBsB,SAAU/1Q,EAAKI,GACjCgtL,GAAShtL,IAA8B,IAArBA,EAAKsmB,KAAK7wB,QAC9BmK,EAAI2wB,OAAOvwB,EAEf,CAgBE61Q,CAAkBpoM,EAAO7tE,IAAKI,IACvB,CACT,EAyBI81Q,GAAoB,SAAUroM,EAAQ0/H,GACxC,OAzBuB,SAAU1/H,EAAQ0/H,GACzC,IAAIx7J,EAAQ87B,EAAOv8B,UAAUmiC,SAC7B,IAAK25G,GAASr7I,EAAMimM,yBAClB,OAAO,EAET,IAAIz+M,EAAYg0K,EAAUkU,GAAW6J,SAAW7J,GAAWkK,UACvD4tB,EAAc7tB,GAAY79I,EAAO7hE,WACjCmqQ,EAAez/Q,EAAM2zN,GAAwB9c,EAAUgsC,EAAY/vM,KAAO+vM,EAAY/lG,MACtF4iI,EAAa7oE,EAAUooE,GAAmBC,GAC1Ch1D,EAAgBsJ,GAA2B3wL,EAAWs0C,EAAO7hE,UAAW+lC,GACxEskO,EAAoBnE,GAAkB3kE,EAAS4oE,EAAav1D,IAChE,IAAKy1D,IAAsB9rD,GAAsB3J,EAAey1D,GAC9D,OAAO,EACF,GAAID,EAAWC,GACpB,OAAOR,GAA0BhoM,EAAQ97B,EAAO6uK,EAAcnwI,UAAWl3C,EAAWg0K,EAAS8oE,GAE/F,IAAIP,EAAoBK,EAAaE,GACrC,SAAIP,GAAqBM,EAAWN,IAC9BvrD,GAAsB8rD,EAAmBP,KACpCD,GAA0BhoM,EAAQ97B,EAAO6uK,EAAcnwI,UAAWl3C,EAAWg0K,EAASuoE,EAInG,CAESQ,CAAmBzoM,EAAQ0/H,EACpC,EAKIgpE,GAAel2P,GAAa,CAC9B,CAAEsQ,OAAQ,CAAC,YACX,CAAE6lP,cAAe,CAAC,YAClB,CAAEC,eAAgB,CAAC,eAejBC,GAA8B,SAAUt2O,EAAMmtK,EAAS50M,EAAMD,GAC/D,IAAIi+Q,EAAWj+Q,EAAG+3E,SAAoB,IAAZ88H,GAC1B,OAAO+kE,GAAiBjyQ,GAAaF,QAAQigC,GAAO//B,GAAaF,QAAQxH,EAAK83E,YAAY32E,KAAI,SAAU88Q,GACtG,OAAOjgF,GAAUigF,GAAYL,GAAa5lP,OAAOimP,EAAS52Q,KAAOu2Q,GAAaC,cAAcG,EAC9F,IAAG98Q,SAAQ,WACT,OAAOa,EAASJ,KAAKi8Q,GAAaC,cAAcG,GAClD,GACF,EACIE,GAAkB,SAAUz2O,EAAMmtK,EAAS50M,GAC7C,OAAOqzN,GAAaze,EAASntK,EAAMznC,GAAMqB,MAAK,SAAUtB,GACtD,OA/B8B0H,EA+BR1H,EAAG+3E,UA9BpBgjH,GAAcpzL,GAAaF,QAAQC,KAAUmzL,GAAWlzL,GAAaF,QAAQC,KAYjD,SAAUggC,EAAMmtK,EAAS50M,EAAMD,GAClE,IAAI8xN,EAAc,SAAU35I,GAC1B,OAAOsiH,GAAW9yL,GAAaF,QAAQ0wE,MAAUs4I,GAAcxwN,EAAMD,EAAI0nC,EAC3E,EACA,OAAO6pL,IAAmB1c,EAAS50M,GAAMQ,MAAK,WAC5C,OAAO8wN,GAAkB1c,EAAS70M,GAAIS,KAAK9B,EAAOmzN,EACpD,GAAGA,EACL,CAaessD,CAA+B12O,EAAMmtK,EAAS50M,EAAMD,GADtDgC,EAAS1B,OAGPu0M,GAAW7f,GAAyBh1L,EAAG+3E,aAE3B,IAAZ88H,GAAqB7f,GAAyBh1L,EAAG+3E,SAAQ,IAD3DimM,GAA4Bt2O,EAAMmtK,EAAS50M,EAAMD,GAG/C60M,GAAW2+B,GAA4BvzO,KAE3B,IAAZ40M,GAAqB0+B,GAA6BtzO,GADpD+B,EAASJ,KAAKi8Q,GAAaE,eAAe/9Q,IAI1CgC,EAAS1B,OA5CE,IAAUoH,CA8ChC,GACF,EAuBI22Q,GAA2B,SAAU32O,EAAMmtK,EAAS50M,GACtD,OA/DkC,SAAU40M,EAAS50M,GACrD,IAAIk4E,EAAMl4E,EAAK83E,SAAoB,IAAZ88H,GACnBypE,EAAgBzpE,EAAU,QAAU,SACxC,OAAO7gB,GAAY77G,IAAQA,EAAItkE,aAAa,oBAAsByqQ,CACpE,CA2DMC,CAA8B1pE,EAAS50M,GAvBT,SAAU40M,EAAS18H,GACrD,OAAI08H,GAAW7f,GAAyB78G,EAAIz+D,aACnC1X,EAASJ,KAAKi8Q,GAAaC,cAAc3lM,EAAIz+D,eAC/B,IAAZm7L,GAAqB7f,GAAyB78G,EAAI66G,iBACpDhxL,EAASJ,KAAKi8Q,GAAaC,cAAc3lM,EAAI66G,kBAE7ChxL,EAAS1B,MAEpB,CAgBWk+Q,CAA8B3pE,EAAS50M,EAAK83E,SAAoB,IAAZ88H,IAAoBp0M,MAAK,WAClF,OAAO09Q,GAAgBz2O,EAAMmtK,EAAS50M,EACxC,GAAG+B,EAASJ,MAELu8Q,GAAgBz2O,EAAMmtK,EAAS50M,GAAMqB,MAAK,SAAUg4O,GACzD,OApBuC,SAAU5xM,EAAMznC,EAAMq5O,GACjE,OAAOA,EAAa74O,MAAK,SAAU03E,GACjC,OAAOn2E,EAASJ,KAAKi8Q,GAAa5lP,OAAOkgD,GAC3C,IAAG,SAAUA,GACX,OAAOn2E,EAASJ,KAAKi8Q,GAAaC,cAAc3lM,GAClD,IAAG,SAAUn4E,GACX,OAAIywN,GAAcxwN,EAAMD,EAAI0nC,GACnB1lC,EAAS1B,OAET0B,EAASJ,KAAKi8Q,GAAaE,eAAe/9Q,GAErD,GACF,CAQay+Q,CAAuC/2O,EAAMznC,EAAMq5O,EAC5D,GAEJ,EA0CIolC,GAAgB,SAAUvpM,EAAQztE,GACpC,OAAO1F,EAAS/B,KAAKu8N,GAAyBrnJ,EAAO7hE,UAAW5L,GAClE,EACIi3Q,GAAuB,SAAUxpM,EAAQ0/H,GAC3C,IAAI2nC,EAAernK,EAAOv8B,UAAUm/B,UACpC,OAAO2mM,GAAcvpM,EAAQqnK,GAAc/6O,OAAOuzL,IAA0Bv0L,MAAK,WAC/E,OA/CO,SAAUinC,EAAMmtK,EAASh8J,GAClC,IAAI44K,EAAkBN,GAAetc,EAAU,GAAK,EAAGntK,EAAMmR,GACzD54C,EAAOqoN,GAAcG,eAAegJ,GACpC9zB,EAAch2L,GAAaF,QAAQigC,GACvC,OAAgB,IAAZmtK,GAAqB2+B,GAA4BvzO,GAC5C+B,EAASJ,KAAKi8Q,GAAa5lP,OAAOh4B,EAAK83E,SAAQ,KAC7C88H,GAAW0+B,GAA6BtzO,GAC1C+B,EAASJ,KAAKi8Q,GAAa5lP,OAAOh4B,EAAK83E,aACzB,IAAZ88H,GAAqB0+B,GAA6BtzO,IAAS+0O,GAAUr3C,EAAa19L,GACpFi1O,GAAev3C,EAAa19L,GAAMmB,KAAI,SAAU66L,GACrD,OAAO4hF,GAAa5lP,OAAOgkK,EAAGlkH,UAChC,IACS88H,GAAW2+B,GAA4BvzO,IAAS80O,GAAap3C,EAAa19L,GAC5Ek1O,GAAWx3C,EAAa19L,GAAMmB,KAAI,SAAU66L,GACjD,OAAO4hF,GAAa5lP,OAAOgkK,EAAGlkH,UAChC,IAEOsmM,GAAyB32O,EAAMmtK,EAAS50M,EAEnD,CA4BWm3B,CAAK+9C,EAAO7hE,UAAWuhM,EAAS1/H,EAAOv8B,UAAUmiC,UAAUx5E,QAAO,SAAU+3O,GACjF,OAAOA,EAAa74O,KA3BJ,SAAU00E,EAAQ0/H,GACtC,OAAO,SAAU1rM,GAGf,OAFAgsE,EAAO+sK,oBAAoB08B,gBAC3B/lC,GAAgB1jK,EAAQ0/H,EAASltM,GAAaF,QAAQ0B,KAC/C,CACT,CACF,CAqB+B01Q,CAAgB1pM,EAAQ0/H,GApBnC,SAAU1/H,EAAQ0/H,GACpC,OAAO,SAAU1rM,GACf,IAAIugC,EAAMmrK,EAAUyT,GAAcrwK,OAAO9uC,GAAWm/M,GAAcpwK,MAAM/uC,GAExE,OADAgsE,EAAOv8B,UAAUyuH,OAAO39H,EAAI6+K,YACrB,CACT,CACF,CAciEu1D,CAAc3oM,EAAQ0/H,GAblE,SAAU1/H,GAC7B,OAAO,SAAUzrC,GAEf,OADAyrC,EAAOv8B,UAAUyuH,OAAO39H,EAAI6+K,YACrB,CACT,CACF,CAQiGw1D,CAAe5oM,GAC5G,GACF,GAAGv2E,EACL,EAIIkgR,GAAuB,SAAU3pM,EAAQ0/H,GAC3C,IAAI2nC,EAAernK,EAAOv8B,UAAUm/B,UACpC,SAAIi9G,GAAyBwnD,IAAkBvnD,GAAcunD,KACtCkiC,GAAcvpM,EAAQqnK,EAAa5qO,YAAYnQ,OAAOuzL,IACrDv0L,MAAK,WAPA,IAAUk9L,EAWnC,OAXmCA,EAQVh2L,GAAaF,QAAQ0tE,EAAO7hE,WAPzD07K,EAAOxzI,GAAYmiJ,EAAa,4BAA6B1pL,IAQzD4kO,GAAgB1jK,EAAQ0/H,EAASltM,GAAaF,QAAQ0tE,EAAOv8B,UAAUm/B,YACvE+hM,GAAc3kM,IACP,CACT,GAAGv2E,EAGP,EACImgR,GAAmB,SAAU5pM,GAC/B,IAAI7tE,EAAM6tE,EAAO7tE,IAAKsxC,EAAYu8B,EAAOv8B,UACrCmkO,EAASvgD,GAAyBrnJ,EAAO7hE,UAAWslC,EAAUm/B,WAClE,GAAIg9G,GAAwBgoF,IAAWz1Q,EAAIowE,QAAQqlM,IAAWz1Q,EAAIo3M,QAAQq+D,GAAS,CACjF,IAAI9gF,EAAK30L,EAAIqmI,OAAO,KAAM,CAAE,iBAAkB,MAC9CrmI,EAAIu0M,QAAQkhE,EAAQ,IACpBA,EAAOhjQ,YAAYkiL,GACnBrjJ,EAAUyuH,OAAOihD,GAAcrwK,OAAOgkJ,GAAIssB,UAC5C,CACA,OAAO,CACT,EACIy2D,GAAoB,SAAU7pM,EAAQ0/H,GACxC,OAAI1/H,EAAOv8B,UAAUukG,cACZwhI,GAAqBxpM,EAAQ0/H,GAE7BiqE,GAAqB3pM,EAAQ0/H,EAExC,EAaIoqE,GAAoB,SAAU9pM,EAAQ0/H,GACxC,QAAO1/H,EAAOv8B,UAAUukG,eAZN,SAAUhoE,EAAQ0/H,GACpC,IAAImqC,EAAU12B,GAAcG,eAAetzI,EAAOv8B,UAAUmiC,UAC5D,OAAOu4I,GAAaze,EAAS1/H,EAAO7hE,UAAW0rO,GAASv9O,QAAO,SAAUioC,GACvE,OAAOmrK,EAAUo+B,GAAmBvpM,GAAOwpM,GAAkBxpM,EAC/D,IAAGpoC,MAAK,SAAUooC,GAChB,OAAO1nC,EAAS/B,KAAK2wN,GAA6B/b,EAAU,GAAK,EAAGnrK,GACtE,IAAGnoC,QAAO,SAAU42E,GAElB,OADAhD,EAAOv8B,UAAU05C,OAAOna,IACjB,CACT,GACF,CAE0C+mM,CAAc/pM,EAAQ0/H,EAChE,EAEIt6H,GAASm6G,GACTyqF,GAA2B,SAAUz3Q,GACvC,OAAO6yE,GAAO7yE,IAASA,EAAKsmB,KAAK,KAAOktK,EAC1C,EACIkkF,GAAyB,SAAU13Q,GACrC,OAAO6yE,GAAO7yE,IAASA,EAAKsmB,KAAKtmB,EAAKsmB,KAAK7wB,OAAS,KAAO+9L,EAC7D,EACImkF,GAAa,SAAU33Q,GACzB,OAAOA,EAAK4J,cAAc5I,eAAewyL,GAC3C,EA+CIokF,GAAe,SAAUrnO,EAAQvwC,GACnC,OAAOuwC,EA/CU,SAAUvwC,GAC3B,GAAI6yE,GAAO7yE,EAAKsrL,iBACd,OAAIosF,GAAuB13Q,EAAKsrL,kBAG9BtrL,EAAKsrL,gBAAgB2hC,WAAWz5B,IAFzBxzL,EAAKsrL,gBAKT,GAAIz4G,GAAO7yE,GAChB,OAAIy3Q,GAAyBz3Q,IAG3BA,EAAKkwO,WAAW,EAAG18C,IAFZxzL,EAMT,IAAIgwO,EAAU2nC,GAAW33Q,GAEzB,OADAA,EAAKkK,WAAW/W,aAAa68O,EAAShwO,GAC/BgwO,CAEX,CA2BkB78O,CAAa6M,GA1Bb,SAAUA,GAC1B,GAAI6yE,GAAO7yE,EAAKgS,aACd,OAAIylQ,GAAyBz3Q,EAAKgS,cAGhChS,EAAKgS,YAAYk+N,WAAW,EAAG18C,IAFxBxzL,EAAKgS,YAKT,GAAI6gE,GAAO7yE,GAChB,OAAI03Q,GAAuB13Q,IAGzBA,EAAKitN,WAAWz5B,IAFTxzL,EAMT,IAAIgwO,EAAU2nC,GAAW33Q,GAMzB,OALIA,EAAKgS,YACPhS,EAAKkK,WAAW/W,aAAa68O,EAAShwO,EAAKgS,aAE3ChS,EAAKkK,WAAWmI,YAAY29N,GAEvBA,CAEX,CAEuCx5B,CAAYx2M,EACnD,EACI63Q,GAAqBvhR,EAAMshR,IAAc,GACzCE,GAAoBxhR,EAAMshR,IAAc,GAExCG,GAAkB,SAAU/1O,EAAKuO,GACnC,OAAIy8I,GAAShrJ,EAAI9Y,aACR0uP,GAAarnO,EAAQvO,EAAI9Y,aAEzB0uP,GAAarnO,EAAQvO,EAAIquC,UAEpC,EACI2nM,GAAsB,SAAUh2O,EAAK4gD,GACvC,IAAIq1L,EAAYr1L,EAAM50E,MACtB,OAAOiqQ,GAAaj2O,EAAI9Y,cAAgB+uP,GAAankF,GAAuBmkF,EAC9E,EACIC,GAAc,SAAUt1L,EAAOijF,GACjC,OAAOA,EAAS9sK,MAAK,SAAU0I,GAC7B6uB,GAASsyD,EAAM50E,OACf,IAAIjN,EAAO82Q,GAAmBp2Q,GAE9B,OADAmhF,EAAMt0E,IAAIvN,GACHzG,EAASJ,KAAK0mN,GAAc7/M,EAAMA,EAAKtL,OAAS,GACzD,IAAG,SAAUgM,GACX,OAAO0qN,GAAgB1qN,GAAS/H,KAAI,SAAUsoC,GAC5C,GAAKg2O,GAAoBh2O,EAAK4gD,GAM5B,OAAOg+H,GAAch+H,EAAM50E,MAAO,GALlCsiB,GAASsyD,EAAM50E,OACf,IAAIjN,EAAOg3Q,GAAgB/1O,GAAK,GAEhC,OADA4gD,EAAMt0E,IAAIvN,GACH6/M,GAAc7/M,EAAM,EAI/B,GACF,IAAG,SAAUU,GACX,OAAO2qN,GAAe3qN,GAAS/H,KAAI,SAAUsoC,GAC3C,GAAKg2O,GAAoBh2O,EAAK4gD,GAM5B,OAAOg+H,GAAch+H,EAAM50E,MAAO40E,EAAM50E,MAAMvY,OAAS,GALvD66B,GAASsyD,EAAM50E,OACf,IAAIjN,EAAOg3Q,GAAgB/1O,GAAK,GAEhC,OADA4gD,EAAMt0E,IAAIvN,GACH6/M,GAAc7/M,EAAMA,EAAKtL,OAAS,EAI7C,GACF,IAAG,SAAUgM,GACX6uB,GAASsyD,EAAM50E,OACf,IAAIjN,EAAO+2Q,GAAkBr2Q,GAE7B,OADAmhF,EAAMt0E,IAAIvN,GACHzG,EAASJ,KAAK0mN,GAAc7/M,EAAM,GAC3C,GACF,EAEIo3Q,GAAgB,SAAUC,EAAKtiR,GACjC,IAAK,IAAIP,EAAI,EAAGA,EAAI6iR,EAAI3iR,OAAQF,IAAK,CACnC,IAAIykB,EAASo+P,EAAI7iR,GAAGU,MAAM,KAAMH,GAChC,GAAIkkB,EAAO/gB,SACT,OAAO+gB,CAEX,CACA,OAAO1f,EAAS1B,MAClB,EAEIy/Q,GAAWp4P,GAAa,CAC1B,CAAEswB,OAAQ,CAAC,YACX,CAAEtxC,MAAO,CAAC,YACV,CAAE+4G,IAAK,CAAC,YACR,CAAExnE,MAAO,CAAC,cAER8nO,GAAY,SAAUvoM,EAAU/vE,GAClC,IAAIsxO,EAAcxoB,GAAiB9oN,EAAM+vE,GACzC,OAAOuhK,GAA4BvhK,CACrC,EACIx/B,GAAS,SAAUmhO,EAAgB3hM,EAAU/tC,GAC/C,IAAIu2O,EAAOxG,GAAkB/vO,GACzB5hC,EAAQk4Q,GAAUvoM,EAAUwoM,EAAKrvP,aACrC,OAAO0oP,GAAeF,EAAgBtxQ,EAAOm4Q,GAAMx/Q,MAAK,WACtD,OAAOkzN,GAAa7rN,EAAOm4Q,GAAM3+Q,KAAKtD,EAAMs7Q,GAAgBF,EAAgBtxQ,IAAQ1G,KAAI,SAAUukF,GAChG,OAAOo6L,GAAS9nO,OAAO0tC,EACzB,GACF,GAAG3jF,EAAS1B,KACd,EACI4/Q,GAAkC,SAAUzoM,EAAUU,GACxD,OAAkD,OAA3C87I,GAAwBx8I,EAAUU,EAC3C,EACIgoM,GAAuB,SAAU/G,EAAgB3hM,EAAU/tC,GAC7D,OAAO4vO,GAAeF,EAAgB3hM,EAAU/tC,GAAKjoC,OAAOzD,EAAMkiR,GAAiCzoM,GACrG,EACI2oM,GAAU,SAAUhH,EAAgB3hM,EAAU/tC,GAChD,IAAIu2O,EAAOvG,GAAmBhwO,GAC9B,OAAOy2O,GAAqB/G,EAAgB3hM,EAAUwoM,GAAM3+Q,MAAK,SAAUqkF,GAEzE,OADciuI,GAAajuI,EAAQs6L,GACpBr/Q,SAAWoB,EAASJ,KAAKm+Q,GAASp5Q,MAAMg/E,IAAW3jF,EAAS1B,MAC7E,GACF,EACIo/G,GAAM,SAAU05J,EAAgB3hM,EAAU/tC,GAC5C,IAAIu2O,EAAOxG,GAAkB/vO,GAC7B,OAAOy2O,GAAqB/G,EAAgB3hM,EAAUwoM,GAAM3+Q,MAAK,SAAUqkF,GAEzE,OADcguI,GAAahuI,EAAQs6L,GACpBr/Q,SAAWoB,EAASJ,KAAKm+Q,GAASrgK,IAAI/5B,IAAW3jF,EAAS1B,MAC3E,GACF,EACI43C,GAAQ,SAAUkhO,EAAgB3hM,EAAU/tC,GAC9C,IAAIu2O,EAAOvG,GAAmBhwO,GAC1B5hC,EAAQk4Q,GAAUvoM,EAAUwoM,EAAKrvP,aACrC,OAAO0oP,GAAeF,EAAgBtxQ,EAAOm4Q,GAAMx/Q,MAAK,WACtD,OAAOmzN,GAAa9rN,EAAOm4Q,GAAM3+Q,KAAKtD,EAAMs7Q,GAAgBF,EAAgBtxQ,IAAQ1G,KAAI,SAAUukF,GAChG,OAAOo6L,GAAS7nO,MAAMytC,EACxB,GACF,GAAG3jF,EAAS1B,KACd,EACI+/Q,GAAkB,SAAU9yG,GAC9B,OAAuC,IAAhCp5H,GAAM+vC,GAAWqpF,GAC1B,EACI+yG,GAAe,SAAUlH,EAAgB3hM,EAAU/tC,GAWrD,OAVem2O,GAAc,CAC3B5nO,GACAmoO,GACA1gK,GACAxnE,IACC,CACDkhO,EACA3hM,EACA/tC,IAEcjoC,OAAO4+Q,GACzB,EACIn8L,GAAa,SAAUqpF,GACzB,OAAOA,EAAS9sK,KAAKouL,EAAUA,EAAUA,EAAUA,EACrD,EACI0xF,GAAU,SAAUhzG,GACtB,OAAOA,EAAS9sK,KAAKmqB,EAAS,UAAWA,EAAS,SAAUA,EAAS,OAAQA,EAAS,SACxF,EACI41P,GAAU,SAAUjzG,GACtB,OAAOA,EAAS9sK,KAAKs/Q,GAAS9nO,OAAQ8nO,GAAS9nO,OAAQ8nO,GAAS7nO,MAAO6nO,GAAS7nO,MAClF,EACIiX,GAAS,SAAUo+G,GACrB,OAAOA,EAAS9sK,KAAKs/Q,GAASp5Q,MAAOo5Q,GAASp5Q,MAAOo5Q,GAASrgK,IAAKqgK,GAASrgK,IAC9E,EAII+gK,GAAiB,SAAU5rE,EAASukE,EAAgB3hM,EAAUx3E,EAAMD,EAAIutK,GAC1E,OAAOnnK,GAAMkzQ,GAAeF,EAAgB3hM,EAAUx3E,GAAOq5Q,GAAeF,EAAgB3hM,EAAUz3E,IAAK,SAAU0gR,EAAYC,GAC/H,OAAID,IAAeC,GA9uBE,SAAUlpM,EAAUu5I,EAAOC,GAClD,IAAI0qD,EAASnrD,GAAiBQ,EAAOv5I,GACjCmkM,EAASprD,GAAiBS,EAAOx5I,GACrC,OAAOkkM,GAAUA,IAAWC,CAC9B,CA0uBmCgF,CAAmBnpM,EAAUipM,EAAYC,GAC/DZ,GAAS7nO,MAAM28J,EAAU6rE,EAAaC,GAEtCpzG,CAEX,IAAG1sK,MAAM0sK,EACX,EACIszG,GAAiB,SAAUC,EAAcC,GAC3C,OAAOD,EAAargR,KAAK7B,GAAQ,SAAUkiR,GACzC,OAd4BE,EAcDD,IAbtBR,GADYU,EAcJH,KAbeP,GAAQS,IAAc98L,GAAW+8L,KAAe/8L,GAAW88L,IADhF,IAAUC,EAAWD,CAe9B,GACF,EAWIE,GAAqB,SAAUrsE,EAAStnC,GAC1C,OAAIsnC,EACKtnC,EAAS9sK,KAAKpD,EAAQ2E,EAASJ,KAAMm+Q,GAASp5Q,OAAQ3E,EAAS1B,KAAMjD,EAAQ2E,EAASJ,KAAMm+Q,GAAS7nO,OAAQl2C,EAAS1B,MAEtHitK,EAAS9sK,KAAKuB,EAAS1B,KAAMjD,EAAQ2E,EAASJ,KAAMm+Q,GAAS9nO,QAASj2C,EAAS1B,KAAMjD,EAAQ2E,EAASJ,KAAMm+Q,GAASrgK,KAEhI,EACIyhK,GAAiB,SAAUtsE,EAASukE,EAAgB3hM,EAAU/tC,GAChE,IAAIzpC,EAAOu5Q,GAAkB3kE,EAASnrK,GAClCo3O,EAAeR,GAAalH,EAAgB3hM,EAAUx3E,GAC1D,OAAOqgR,GAAalH,EAAgB3hM,EAAUx3E,GAAMqB,KAAKtD,EAAMkjR,GAAoBrsE,IAAU1zM,SAAQ,WACnG,OArBuB,SAAU0zM,EAASukE,EAAgB3hM,EAAUqpM,EAAcp3O,GACpF,IAAIzpC,EAAOu5Q,GAAkB3kE,EAASnrK,GAOtC,OANS4pL,GAAaze,EAASp9H,EAAUx3E,GAAMmB,IAAIpD,EAAMw7Q,GAAmB3kE,IAC1Dp0M,MAAK,WACrB,OAAOqgR,EAAa1/Q,IAAIo/Q,GAC1B,IAAG,SAAUxgR,GACX,OAAOsgR,GAAalH,EAAgB3hM,EAAUz3E,GAAIoB,IAAIpD,EAAMyiR,GAAgB5rE,EAASukE,EAAgB3hM,EAAUx3E,EAAMD,IAAKyB,OAAOzD,EAAM6iR,GAAgBC,GACzJ,IACgBr/Q,OAAO4+Q,GACzB,CAYWe,CAAqBvsE,EAASukE,EAAgB3hM,EAAUqpM,EAAcp3O,EAC/E,GACF,EACA1rC,EAAMmjR,IAAgB,GACtBnjR,EAAMmjR,IAAgB,GAEtB,IAuBIE,GApBA7qM,GAAU,SAAUq+H,EAASj8J,EAAWlP,GAC1C,IAAIrH,EAAQwyK,EAAU,GAAK,EAG3B,OAFAj8J,EAAUyuH,OAAOihD,GAAc5+K,EAAI9Y,YAAa8Y,EAAIv3B,SAAWkwB,GAAOkmL,WACtE3vK,EAAUqhL,SAASqnD,OAAO,OAAQzsE,EAAU,UAAY,WAAY,SAC7D,CACT,EACI0sE,GAAa,SAAU1sE,EAAS1/H,GAClC,IAAIt8B,EAAMs8B,EAAOv8B,UAAUmiC,SACvBrxC,EAAMmrK,EAAUyT,GAAcI,aAAa7vK,GAAOyvK,GAAcG,eAAe5vK,GACnF,QAZ0B,SAAUs8B,GACpC,OAAOt4E,EAAWs4E,EAAOv8B,UAAUqhL,SAASqnD,OAC9C,CAUOE,CAAsBrsM,KAEhB0/H,GAAWlZ,GAAejyJ,GAC5B8sC,IAAQ,EAAMrB,EAAOv8B,UAAWlP,KAC7BmrK,IAAWhZ,GAAcnyJ,KAC5B8sC,IAAQ,EAAOrB,EAAOv8B,UAAWlP,GAI5C,GAGC,SAAU23O,GACTA,EAAUA,EAAc,GAAI,GAAK,KACjCA,EAAUA,EAAiB,MAAI,GAAK,QACpCA,EAAUA,EAAgB,KAAI,GAAK,OACnCA,EAAUA,EAAe,IAAI,GAAK,KACpC,CALA,CAKEA,KAAcA,GAAY,CAAC,IAC7B,IA+HII,GA/HA15J,GAAO,SAAUlnF,EAAW0V,GAC9B,OAAO1V,IAAckoL,GAAWkK,UAAYnvN,GAAQyyC,GAAaA,CACnE,EACI+7I,GAAO,SAAUzxJ,EAAWggN,EAAan3M,GAC3C,OAAO7I,IAAckoL,GAAW6J,SAAWiuB,EAAY/vM,KAAKpH,GAAOm3M,EAAY/lG,KAAKpxG,EACtF,EACIg4O,GAAe,SAAU55Q,EAAO+4B,EAAW8gP,EAAYC,GACzD,OAAI/sF,GAAO+sF,EAAQ7pM,QAAQl3C,IAAckoL,GAAW6J,WAC3CyuD,GAAUQ,IAC+B,IAAvCpxD,GAAckxD,EAAYC,GAC5BP,GAAUS,MAEVT,GAAUU,IAErB,EACIC,GAAoB,SAAU1zP,EAAWuS,EAAW/4B,EAAOnB,GAI7D,IAHA,IAAIk6O,EAAc7tB,GAAYlrN,GAC1B65Q,EAAah7Q,EACb4vC,EAAY,GACTorO,GAAY,CACjB,IAAIC,EAAUtvF,GAAKzxJ,EAAWggN,EAAa8gC,GAC3C,IAAKC,EACH,MAEF,GAAI/sF,GAAO+sF,EAAQ7pM,SAAQ,IACzB,OAAIl3C,IAAckoL,GAAW6J,SACpB,CACLr8K,UAAWwxE,GAAKlnF,EAAW0V,GAAWl4C,OAAO,CAACujR,IAC9CK,UAAWZ,GAAUQ,GACrBK,QAASlgR,EAASJ,KAAKggR,IAGlB,CACLrrO,UAAWwxE,GAAKlnF,EAAW0V,GAC3B0rO,UAAWZ,GAAUQ,GACrBK,QAASlgR,EAASJ,KAAKggR,IAI7B,GAAKA,EAAQ/wO,YAAb,CAIA,GAAIviB,EAAUqzP,EAAYC,GAAU,CAClC,IAAIK,EAAYP,GAAa55Q,EAAO+4B,EAAW8gP,EAAYC,GAC3D,MAAO,CACLrrO,UAAWwxE,GAAKlnF,EAAW0V,GAC3B0rO,UAAWA,EACXC,QAASlgR,EAASJ,KAAKggR,GAE3B,CACArrO,EAAUt8C,KAAK2nR,GACfD,EAAaC,CAVb,MAFED,EAAaC,CAajB,CACA,MAAO,CACLrrO,UAAWwxE,GAAKlnF,EAAW0V,GAC3B0rO,UAAWZ,GAAUc,IACrBD,QAASlgR,EAAS1B,OAEtB,EACI8hR,GAA2B,SAAUvhP,EAAWwhP,EAAwBv6Q,EAAOnB,GACjF,OAAO07Q,EAAuBv6Q,EAAOnB,GAAOu7Q,QAAQ9gR,KAAI,SAAUsoC,GAChE,IAAI6M,EAAY8rO,EAAuBv6Q,EAAO4hC,GAAK6M,UACnD,OAAO1V,IAAckoL,GAAWkK,UAAY18K,EAAUl4C,OAAOqrC,GAAO,CAACA,GAAKrrC,OAAOk4C,EACnF,IAAG11C,MAAM,GACX,EACIyhR,GAAyC,SAAU/rO,EAAW96C,GAChE,OAAO8H,EAAMgzC,GAAW,SAAUlzC,EAAKsnC,GACrC,OAAOtnC,EAAI5C,MAAK,WACd,OAAOuB,EAASJ,KAAK+oC,EACvB,IAAG,SAAU8rM,GACX,OAAOrwO,GAAMzL,GAAK87O,EAAQ55L,kBAAmBliD,GAAKgwC,EAAOkS,mBAAmB,SAAU0lO,EAAU9qJ,GAC9F,IAAI+qJ,EAAWhnQ,KAAK0mE,IAAIzmF,EAAI8mR,EAASr8Q,MAErC,OADcsV,KAAK0mE,IAAIzmF,EAAIg8H,EAAQvxH,OACjBs8Q,EAAW73O,EAAS8rM,CACxC,IAAGv1O,GAAGmC,EACR,GACF,GAAGrB,EAAS1B,OACd,EACImiR,GAAgC,SAAUlsO,EAAW7M,GACvD,OAAO/uC,GAAK+uC,EAAImT,kBAAkBv7C,MAAK,SAAUohR,GAC/C,OAAOJ,GAAuC/rO,EAAWmsO,EAAWx8Q,KACtE,GACF,EACIy8Q,GAAgC3kR,EAAMgkR,GAAmB15D,GAAct2C,SAAU,GACjF4wG,GAA4B5kR,EAAMgkR,GAAmB15D,GAAcr2C,QAAS,GAC5E4wG,GAAoB7kR,EAAMokR,IAA2B,EAAGO,IACxDG,GAAoB9kR,EAAMokR,GAA0B,EAAGQ,IAkBvDG,GAAqB,SAAUr7Q,GACjC,IAAIs7Q,EAAkB,SAAU37D,GAC9B,OAAOt4B,EAAMs4B,GAAa,SAAUv+K,GAClC,IAAIs+K,EAAav2L,GAAMiY,GAEvB,OADAs+K,EAAW1/M,KAAOA,EACX0/M,CACT,GACF,EACA,GAAIpzB,GAAYtsL,GACd,OAAOs7Q,EAAgBt7Q,EAAKm1C,kBAE9B,GAAI63I,GAAShtL,GAAO,CAClB,IAAImxC,EAAMnxC,EAAK4J,cAAckoC,cAG7B,OAFAX,EAAIa,SAAShyC,EAAM,GACnBmxC,EAAIgB,OAAOnyC,EAAMA,EAAKsmB,KAAK7wB,QACpB6lR,EAAgBnqO,EAAIgE,iBAC7B,CACF,EACIA,GAAiB,SAAUw4I,GAC7B,OAAO/zL,GAAK+zL,EAAO0tF,GACrB,GAGC,SAAUtB,GACTA,EAAWA,EAAe,IAAK,GAAK,KACpCA,EAAWA,EAAiB,KAAI,GAAK,MACvC,CAHA,CAGEA,KAAeA,GAAa,CAAC,IAC/B,IAmwKIwB,GAsxBAC,GAlhMAC,GAAc,SAAUtiP,EAAWuiP,EAAWC,EAAY37O,EAAM4oL,EAAapI,GAC/E,IAAIhoL,EAAO,EACPxe,EAAS,GACTtmB,EAAM,SAAUsM,GAClB,IAAI2/M,EAAcxqK,GAAe,CAACn1C,KACf,IAAfm5B,IACFwmL,EAAcA,EAAYvjN,WAE5B,IAAK,IAAI7G,EAAI,EAAGA,EAAIoqN,EAAYlqN,OAAQF,IAAK,CAC3C,IAAImqN,EAAaC,EAAYpqN,GAC7B,IAAIomR,EAAWj8D,EAAYk8D,GAA3B,CAOA,GAJI5hQ,EAAOvkB,OAAS,GAAKimR,EAAUh8D,EAAY/uI,GAAO32D,KACpDwe,IAEFknL,EAAWlnL,KAAOA,EACdowL,EAAYlJ,GACd,OAAO,EAET1lM,EAAOznB,KAAKmtN,EARZ,CASF,CACF,EACIk8D,EAAmBjrM,GAAO6vI,EAAcrrK,kBAC5C,IAAKymO,EACH,OAAO5hQ,EAET,IAAIha,EAAOwgN,EAAcnwI,UAGzB,OAFA38E,EAAIsM,GAnCU,SAAUm5B,EAAW6G,EAAM4oL,EAAa5oN,GACtD,KAAOA,EAAO2oN,GAAW3oN,EAAMm5B,EAAWy8J,GAA4B51J,IACpE,GAAI4oL,EAAY5oN,GACd,MAGN,CA8BEhE,CAAUm9B,EAAW6G,EAAMtsC,EAAKsM,GACzBga,CACT,EAOI6hQ,GAAUvlR,EAAMmlR,GAAa1B,GAAW+B,GAAI99D,GAAWE,IACvD69D,GAAYzlR,EAAMmlR,GAAa1B,GAAWiC,KAAM99D,GAAWF,IAgD3Di+D,GAAc,SAAUC,GAC1B,OAAO,SAAUx8D,GACf,OAzDkB,SAAUw8D,EAAYx8D,GAC1C,OAAOA,EAAWlnL,KAAO0jP,CAC3B,CAuDWC,CAAgBD,EAAYx8D,EACrC,CACF,EACI08D,GAAS,SAAUF,GACrB,OAAO,SAAUx8D,GACf,OA3De,SAAUw8D,EAAYx8D,GACvC,OAAOA,EAAWlnL,OAAS0jP,CAC7B,CAyDWG,CAAaH,EAAYx8D,EAClC,CACF,EAEI48D,GAA2BhvF,GAC3BivF,GAAW5zD,GACX6zD,GAAqB,SAAU98D,EAAYxuM,GAC7C,OAAO4C,KAAK0mE,IAAIklI,EAAWlhN,KAAO0S,EACpC,EACIurQ,GAAsB,SAAU/8D,EAAYxuM,GAC9C,OAAO4C,KAAK0mE,IAAIklI,EAAWrsM,MAAQnC,EACrC,EACIwrQ,GAAY,SAAUxrQ,EAASwuM,GACjC,OAAOxuM,GAAWwuM,EAAWlhN,MAAQ0S,GAAWwuM,EAAWrsM,KAC7D,EACIspQ,GAAY,SAAUxrQ,EAASuuM,GACjC,OAAOvuM,GAAWuuM,EAAWxwM,KAAOiC,GAAWuuM,EAAWpsM,MAC5D,EAIIspQ,GAAwB,SAAUj9D,EAAazuM,EAAS2rQ,GAI1D,YAHoB,IAAhBA,IACFA,EAAc3lR,GAET6wL,GAAO43B,GAAa,SAAUm9D,EAAep9D,GAClD,GAAIg9D,GAAUxrQ,EAASwuM,GACrB,OAAOm9D,EAAYn9D,GAAcA,EAAao9D,EAEhD,GAAIJ,GAAUxrQ,EAAS4rQ,GACrB,OAAOD,EAAYC,GAAiBA,EAAgBp9D,EAEtD,IAAIq9D,EAAcjpQ,KAAK8mB,IAAI4hP,GAAmBM,EAAe5rQ,GAAUurQ,GAAoBK,EAAe5rQ,IACtG8rQ,EAAclpQ,KAAK8mB,IAAI4hP,GAAmB98D,EAAYxuM,GAAUurQ,GAAoB/8D,EAAYxuM,IACpG,OAAI8rQ,IAAgBD,GAff3+Q,GAe+CshN,EAfvB,SAesC48D,GAAyB58D,EAAW1/M,OAGnGg9Q,EAAcD,EAFTr9D,EAKFo9D,CACT,GACF,EACIG,GAAY,SAAU9jP,EAAW6G,EAAM4oL,EAAatyD,EAAW4mH,GACjE,IAAIl9Q,EAAOu8Q,GAASjmH,EAAWn9H,EAAWy8J,GAA4B51J,GAAOk9O,GAC7E,GACE,IAAKl9Q,GAAQ4oN,EAAY5oN,GACvB,aAEKA,EAAOu8Q,GAASv8Q,EAAMm5B,EAAWy8J,GAA4B51J,GACxE,EA2BIm9O,GAAmB,SAAUn9O,EAAM9uB,EAASC,GAC9C,IAAIisQ,EAAsBjoO,GAVF,SAAUnV,GAClC,OAAOunJ,EAAShvL,GAAKynC,EAAK80J,qBAAqB,MAAOmzB,GACxD,CAQ2Co1D,CAAoBr9O,IACzDs9O,EAAkB/1F,EAAS61F,EAAqB9mR,EAAMqmR,GAAWxrQ,IACjEosQ,EAAc,SAAU79D,GAC1B,OAAQ7yB,GAAU6yB,EAAW1/M,QAAUwtL,GAAUkyB,EAAW1/M,KAC9D,EACIw9Q,EAAkBZ,GAAsBU,EAAiBpsQ,EAASqsQ,GACtE,GAAIC,EAAiB,CACnB,IAAIN,EAAkBK,EAAYC,GAElC,GADAA,EAAkBZ,GAnCE,SAAU58O,EAAMy9O,EAAgBP,QAC9B,IAApBA,IACFA,GAAkB,GAEpB,IAAIv9D,EAAc,GACd5L,EAAU,SAAU2pE,EAAY19Q,GAClC,IAAI29Q,EAAYp2F,EAASpyI,GAAe,CAACn1C,KAAQ,SAAU0/M,GACzD,OAAQg+D,EAAWh+D,EAAY+9D,EACjC,IAEA,OADA99D,EAAcA,EAAYhpN,OAAOgnR,GACL,IAArBA,EAAUloR,MACnB,EAIA,OAHAkqN,EAAYptN,KAAKkrR,GACjBR,GAAUlD,GAAW+B,GAAI97O,EAAM1pC,EAAMy9M,EAASiK,IAAYy/D,EAAez9Q,KAAMk9Q,GAC/ED,GAAUlD,GAAWiC,KAAMh8O,EAAM1pC,EAAMy9M,EAASmK,IAAYu/D,EAAez9Q,KAAMk9Q,GAC1Ev9D,CACT,CAmB4Ci+D,CAAkB59O,EAAMw9O,EAAiBN,GAAkBhsQ,EAASqsQ,GACxGC,GAAmBv1D,GAAkBu1D,EAAgBx9Q,MACvD,OAjBU,SAAU0/M,EAAYxuM,GACpC,MAAO,CACLlR,KAAM0/M,EAAW1/M,KACjBuwC,OAAQisO,GAAmB98D,EAAYxuM,GAAWurQ,GAAoB/8D,EAAYxuM,GAEtF,CAYa2sQ,CAAUL,EAAiBtsQ,EAEtC,CACA,OAAO,IACT,EAEI4sQ,GAAc,SAAUrwM,EAAQt8B,GAClCs8B,EAAOv8B,UAAUyuH,OAAOxuH,GACxB+rL,GAAoBzvJ,EAAQA,EAAOv8B,UAAUmiC,SAC/C,EACI0qM,GAAsB,SAAUtwM,EAAQ97B,EAAOu6I,GACjD,OAAO5xL,EAASJ,KAAKo7Q,GAAiB7nM,EAAQ97B,EAAOu6I,GACvD,EACI8xF,GAAmB,SAAUvwM,EAAQt0C,EAAWwY,EAAOssO,EAAUC,EAASr4I,GAC5E,IAAI43E,EAAWtkL,IAAckoL,GAAW6J,SACpCiuB,EAAc7tB,GAAY79I,EAAO7hE,WACjCmqQ,EAAez/Q,EAAM2zN,GAAwBxM,EAAW07B,EAAY/vM,KAAO+vM,EAAY/lG,MACvF4iI,EAAav4D,EAAWwgE,EAAWC,EACvC,IAAKvsO,EAAMqB,UAAW,CACpB,IAAIhzC,EAAOo+M,GAAgBzsK,GAC3B,GAAIk0F,EAAU7lI,GACZ,OAAOg1Q,GAAU77O,EAAWs0C,EAAQztE,EAAMm5B,IAAckoL,GAAWkK,WAAW,EAElF,CACA,IAAI/K,EAAgBsJ,GAA2B3wL,EAAWs0C,EAAO7hE,UAAW+lC,GAC5E,GAAIqkO,EAAWx1D,GACb,OAAOxuI,GAAWvE,EAAQ+yI,EAAcnwI,SAASotI,IAEnD,IAAIw4D,EAAoBnE,GAAkBr0D,EAAUs4D,EAAav1D,IAC7D29D,EAA0BnpF,GAA6BrjJ,GAC3D,IAAKskO,EACH,OAAOkI,EAA0B7jR,EAASJ,KAAKy3C,GAASr3C,EAAS1B,OAEnE,GAAIo9Q,EAAWC,GACb,OAAOjB,GAAU77O,EAAWs0C,EAAQwoM,EAAkB5lM,SAASotI,GAAWA,GAAU,GAEtF,IAAIi4D,EAAoBK,EAAaE,GACrC,OAAIP,GAAqBM,EAAWN,IAC9BvrD,GAAsB8rD,EAAmBP,GACpCV,GAAU77O,EAAWs0C,EAAQioM,EAAkBrlM,SAASotI,GAAWA,GAAU,GAGpF0gE,EACKJ,GAAoBtwM,EAAQwoM,EAAkBp1D,WAAW,GAE3DvmN,EAAS1B,MAClB,EACIwlR,GAAiB,SAAU3wM,EAAQt0C,EAAWwY,EAAOssO,EAAUC,EAASr4I,GAC1E,IAAI26E,EAAgBsJ,GAA2B3wL,EAAWs0C,EAAO7hE,UAAW+lC,GACxE0sO,EAAkB1tM,GAAO6vI,EAAcrrK,kBACvCsoK,EAAWtkL,IAAc4gP,GAAWiC,KACxC,IAAKqC,EACH,OAAO/jR,EAAS1B,OAElB,IAUIuiQ,EATAmjB,GADW7gE,EAAWs+D,GAAYF,IACTpuM,EAAO7hE,UAAWqwQ,GAAY,GAAIz7D,GAC3D+9D,EAAoBh3F,EAAS+2F,EAAelC,GAAO,IACnDlrQ,EAAUmtQ,EAAgB7/Q,KAC1BggR,EAAe5B,GAAsB2B,EAAmBrtQ,GAC5D,GAAIstQ,GAAgB34I,EAAU24I,EAAax+Q,MAAO,CAChD,IAAIy+Q,EAAQ3qQ,KAAK0mE,IAAItpE,EAAUstQ,EAAahgR,MACxCkgR,EAAQ5qQ,KAAK0mE,IAAItpE,EAAUstQ,EAAanrQ,OAC5C,OAAO2hQ,GAAU77O,EAAWs0C,EAAQ+wM,EAAax+Q,KAAMy+Q,EAAQC,GAAO,EACxE,CASA,GANEvjB,EADE8iB,EAASz9D,GACGA,EAAcnwI,UACnB6tM,EAAQ19D,GACHA,EAAcnwI,SAAQ,GAEtB+tI,GAAgBzsK,GAEf,CACf,IAAIgtO,EAvNa,SAAUxlP,EAAW6G,EAAM4oL,EAAa5oN,GAC3D,IACIkqN,EACA00D,EACAlD,EACAl7D,EAJA24B,EAAc7tB,GAAYtrL,GAK1BhmB,EAAS,GACTwe,EAAO,EACPqmP,EAAgB,SAAUr+D,GAC5B,OACS7vI,GAAO6vI,EAAcrrK,iBAGhC,EACkB,IAAdhc,GACF+wL,EAASivB,EAAY/vM,KACrBw1O,EAAY1gE,GACZw9D,EAAY19D,GACZwC,EAAgBI,GAAcpwK,MAAMxwC,KAEpCkqN,EAASivB,EAAY/lG,KACrBwrI,EAAY5gE,GACZ09D,EAAYx9D,GACZsC,EAAgBI,GAAcrwK,OAAOvwC,IAEvC,IAAI47Q,EAAmBiD,EAAcr+D,GACrC,GACE,GAAKA,EAAcr3K,YAAnB,CAGA,IAAI/H,EAAOy9O,EAAcr+D,GACzB,IAAIk7D,EAAUt6O,EAAMw6O,GAApB,CAGI5hQ,EAAOvkB,OAAS,GAAKmpR,EAAUx9O,EAAMuvC,GAAO32D,KAC9Cwe,IAEF,IAAIknL,EAAav2L,GAAMiY,GAGvB,GAFAs+K,EAAWpqM,SAAWkrM,EACtBd,EAAWlnL,KAAOA,EACdowL,EAAYlJ,GACd,OAAO1lM,EAETA,EAAOznB,KAAKmtN,EAVZ,CAJA,QAeOc,EAAgB0J,EAAO1J,IAChC,OAAOxmM,CACT,CAyKyB8kQ,CAAe3lP,EAAWs0C,EAAO7hE,UAAWqwQ,GAAY,GAAI9gB,GAC7E4jB,EAAsBnC,GAAsBr1F,EAASo3F,EAAgBvC,GAAO,IAAKlrQ,GACrF,GAAI6tQ,EACF,OAAOhB,GAAoBtwM,EAAQsxM,EAAoBzpQ,SAASurM,WAAW,GAG7E,GADAk+D,EAAsBpuM,GAAO42G,EAASo3F,EAAgBvC,GAAO,KAE3D,OAAO2B,GAAoBtwM,EAAQsxM,EAAoBzpQ,SAASurM,WAAW,EAE/E,CACA,OAAiC,IAA7B09D,EAAkB9oR,OACbupR,GAAgBvxM,EAAQgwI,GAAU1jN,OAAO0jN,EAAWygE,EAAUD,GAAUvkR,KAAI,SAAUsoC,GAC3F,OAAOszO,GAAiB7nM,EAAQzrC,EAAI6+K,WAAW,EACjD,IAEKvmN,EAAS1B,MAClB,EACIomR,GAAkB,SAAUvxM,EAAQ0/H,GACtC,IAAIh8J,EAAMs8B,EAAOv8B,UAAUmiC,SACvBloE,EAAOsiE,EAAO7hE,UAClB,GAAIuhM,EAAS,CACX,IAAI50M,EAAOqoN,GAAcI,aAAa7vK,GAClCn3B,EAASkhQ,GAA0B/vQ,EAAM5S,GAC7C,OAAOuE,GAAOkd,EAAO60B,UACvB,CACMt2C,EAAOqoN,GAAcG,eAAe5vK,GACpCn3B,EAASihQ,GAA8B9vQ,EAAM5S,GACjD,OAAOtF,GAAK+mB,EAAO60B,UAEvB,EACIowO,GAAuB,SAAUxxM,EAAQ0/H,EAASiU,GACpD,OAAO49D,GAAgBvxM,EAAQ0/H,GAASpzM,OAAOqnN,GAAmBvnN,QAAO,SAAUmoC,GAEjF,OADAyrC,EAAOv8B,UAAUyuH,OAAO39H,EAAI6+K,YACrB,CACT,GACF,EAEIq+D,GAAmB,SAAUzxM,EAAQzrC,GACvC,IAAImP,EAAMs8B,EAAO7tE,IAAImyE,YACrB5gC,EAAIa,SAAShQ,EAAI9Y,YAAa8Y,EAAIv3B,UAClC0mC,EAAIgB,OAAOnQ,EAAI9Y,YAAa8Y,EAAIv3B,UAChCgjE,EAAOv8B,UAAUyuH,OAAOxuH,EAC1B,EACIguO,GAAc,SAAU/tP,EAAOq/C,GAC7Br/C,EACFq/C,EAAI3kE,aAAa,oBAAqB,mBAEtC2kE,EAAIjkE,gBAAgB,oBAExB,EACI4yQ,GAAsB,SAAU3xM,EAAQmV,EAAOijF,GACjD,OAAOqyG,GAAYt1L,EAAOijF,GAAUnsK,KAAI,SAAUsoC,GAEhD,OADAk9O,GAAiBzxM,EAAQzrC,GAClB6jI,CACT,GACF,EAmBIw5G,GAA2B,SAAU5xM,EAAQmV,GAC/C,GAAInV,EAAOv8B,UAAUukG,gBAAsC,IAArBhoE,EAAO2rJ,WAAsBx2I,EAAM50E,MAAO,CAC9E,IAAIg0B,EAAM4+K,GAAcG,eAAetzI,EAAOv8B,UAAUmiC,UACpDutI,GAAcO,eAAen/K,KAA0B,IArwChD,SAAUA,GACvB,OAAOiyJ,GAAejyJ,IAAQmyJ,GAAcnyJ,EAC9C,CAmwC6Cs9O,CAASt9O,KAChDk9O,GAAiBzxM,EAAQ84I,GAAoB3jI,EAAM50E,MAAOg0B,IAC1D4gD,EAAMt0E,IAAI,MAEd,CACF,EAYIixQ,GAAS,SAAU9xM,EAAQmV,EAAOuqH,GACpC,QAAOqY,GAA0B/3I,IAvChB,SAAUA,EAAQmV,EAAOuqH,GAC1C,IAAIp9H,EAAWtC,EAAO7hE,UAClBrT,EAAOqoN,GAAcG,eAAetzI,EAAOv8B,UAAUmiC,UACrDmsM,EAAmBlpR,EAAMo7Q,GAAgBjkM,GAE7C,OADegsM,GAAetsE,EAASqyE,EAAkBzvM,EAAUx3E,GACnDqB,MAAK,SAAUisK,GAC7B,OAAOu5G,GAAoB3xM,EAAQmV,EAAOijF,EAC5C,GACF,CA+B6C45G,CAAahyM,EAAQmV,EAAOuqH,GAASl0M,QAClF,EACIymR,GAAW,SAAUvyE,EAAS1/H,EAAQkyM,GACxC,QAAOn6D,GAA0B/3I,IAAUosM,GAAW1sE,EAAS1/H,EACjE,EACImyM,GAAqB,SAAUnyM,GACjC,IAAImV,EAAQ7iE,GAAK,MACby/P,EAAmBlpR,EAAMo7Q,GAAgBjkM,GAQ7C,OAPAA,EAAOloC,GAAG,cAAc,SAAUttC,IAC5ButN,GAA0B/3I,IAAas7G,GAAIriL,QAAQ5B,QAAU7M,EAAE+nB,UAvCnD,SAAU0xP,EAAgB9xQ,EAAKsnI,GACjD,IAAI24I,EAAmBx4F,EAAMvzI,GAAY7zC,GAAaF,QAAQH,EAAI2xE,WAAY,2CAA2C,SAAUt5E,GACjI,OAAOA,EAAE2H,GACX,IACIkgR,EAAkBv4F,EAASs4F,EAAkBnO,GAC7CqO,EAAgBx4F,EAASrgD,EAAMwqI,GACnCpqF,EAAOjrL,GAAWyjR,EAAiBC,GAAgBzpR,EAAM6oR,IAAa,IACtE73F,EAAOjrL,GAAW0jR,EAAeD,GAAkBxpR,EAAM6oR,IAAa,GACxE,CAgCMa,CAAcR,EAAkB/xM,EAAO7tE,IAAK3H,EAAEszK,SAC9C8zG,GAAyB5xM,EAAQmV,GAvBT,SAAU8uL,EAAgBjkM,EAAQmV,EAAOskD,GACrE,GAAIz5D,EAAOv8B,UAAUukG,cAAe,CAClC,IAAIwqI,EAAU14F,EAASrgD,EAAMwqI,GAC7BpqF,EAAO24F,GAAS,SAAUC,GACxB,IAAIl+O,EAAM4+K,GAAcG,eAAetzI,EAAOv8B,UAAUmiC,UACxDulM,GAAalH,EAAgBjkM,EAAO7hE,UAAWo2B,GAAKpoC,MAAK,SAAUisK,GACjE,OAAOu5G,GAAoB3xM,EAAQmV,EAAOijF,EAC5C,GACF,GACF,CACF,CAcMs6G,CAAwBX,EAAkB/xM,EAAQmV,EAAO3qF,EAAEszK,SAE/D,IACO3oF,CACT,EACIw9L,GAAe9pR,EAAMopR,IAAU,GAC/BW,GAAe/pR,EAAMopR,IAAU,GAC/BY,GAAuB,SAAU7yM,EAAQ0/H,EAASvqH,GACpD,GAAI4iI,GAA0B/3I,GAAS,CACrC,IAAI8yM,EAAYvB,GAAgBvxM,EAAQ0/H,GAAS/zM,YAAW,WAC1D,IAAI+3C,EAAMs8B,EAAOv8B,UAAUmiC,SAC3B,OAAO85H,EAAUyT,GAAcI,aAAa7vK,GAAOyvK,GAAcG,eAAe5vK,EAClF,IACA,OAAOynO,GAAatiR,EAAMo7Q,GAAgBjkM,GAASA,EAAO7hE,UAAW20Q,GAAW1mR,QAAO,SAAUmb,GAC/F,IAAIwrQ,EAAa1H,GAAQ9jQ,GACzB,OAAOkjQ,GAAYt1L,EAAO49L,GAAY3mR,QAAO,SAAUmoC,GAErD,OADAk9O,GAAiBzxM,EAAQzrC,IAClB,CACT,GACF,GACF,CACE,OAAO,CAEX,EAiBIy+O,GAAmB,SAAUhzM,EAAQmV,GACvC,OAAO,SAAUijF,GACf,OAAOqyG,GAAYt1L,EAAOijF,GAAUhsK,QAAO,SAAUmoC,GAEnD,OADAk9O,GAAiBzxM,EAAQzrC,IAClB,CACT,GACF,CACF,EACI0+O,GAAe,SAAUjzM,EAAQmV,EAAOrqF,EAAMD,GAChD,IAAIy3E,EAAWtC,EAAO7hE,UAClB4zQ,EAAmBlpR,EAAMo7Q,GAAgBjkM,GAC7CA,EAAO42E,YAAYroF,QAAO,WACxByR,EAAOv8B,UAAUyuH,OA3BI,SAAUpnK,EAAMD,GACvC,IAAIq5C,EAAQ3+C,SAAS8+C,cAGrB,OAFAH,EAAMK,SAASz5C,EAAK2wB,YAAa3wB,EAAKkS,UACtCknC,EAAMQ,OAAO75C,EAAG4wB,YAAa5wB,EAAGmS,UACzBknC,CACT,CAsB4BgvO,CAAmBpoR,EAAMD,IACjDm1E,EAAOwc,YAAY,UACnB2uL,GAAa4G,EAAkBzvM,EAAU6wI,GAAcG,eAAetzI,EAAOv8B,UAAUmiC,WAAW35E,IAAI+tD,IAAQ/tD,IAAI+mR,GAAiBhzM,EAAQmV,GAC7I,IACAnV,EAAO0kF,aACT,EAKIyuH,GAA2B,SAAUnzM,EAAQmV,EAAOuqH,EAAS50M,GAC/D,IAAIw3E,EALQ,SAAUA,EAAU/vE,GAEhC,OADkB8oN,GAAiB9oN,EAAM+vE,IACNA,CACrC,CAEiB8wM,CAAQpzM,EAAO7hE,UAAWrT,EAAK2wB,aAC1Cs2P,EAAmBlpR,EAAMo7Q,GAAgBjkM,GACzC2rM,EAAeR,GAAa4G,EAAkBzvM,EAAUx3E,GAC5D,OAAO6gR,EAAax/Q,MAAK,SAAUisK,GACjC,OAAIsnC,EACKtnC,EAAS9sK,KAAKmqB,EAAS5oB,EAASJ,KAAKutD,GAAOo+G,KAAavrK,EAAS1B,KAAMsqB,EAAS5oB,EAASJ,KAAK4+Q,GAAQjzG,KAAavrK,EAAS1B,MAE7HitK,EAAS9sK,KAAKuB,EAAS1B,KAAMsqB,EAAS5oB,EAASJ,KAAK4+Q,GAAQjzG,KAAavrK,EAAS1B,KAAMsqB,EAAS5oB,EAASJ,KAAKutD,GAAOo+G,KAEjI,IAAGnsK,IAAI+mR,GAAiBhzM,EAAQmV,IAAQxpF,YAAW,WACjD,IAAI0nR,EAAa5wN,GAASi9I,EAASp9H,EAAUx3E,GACzC8gR,EAAayH,EAAWlnR,MAAK,SAAUooC,GACzC,OAAO42O,GAAa4G,EAAkBzvM,EAAU/tC,EAClD,IACA,OAAOtjC,GAAM06Q,EAAcC,GAAY,WACrC,OAAOzH,GAAe4N,EAAkBzvM,EAAUx3E,GAAMsB,QAAO,SAAU42E,GACvE,QAhD4B,SAAUA,GAC5C,OAAO/xE,GAAMytN,GAAgB17I,GAAM27I,GAAe37I,IAAM,SAAUo+J,EAAUE,GAC1E,IAAIgyC,EAAqBjP,IAAkB,EAAMjjC,GAC7CmyC,EAAoBlP,IAAkB,EAAO/iC,GACjD,OAAO9iB,GAAax7I,EAAKswM,GAAoBjnR,QAAO,SAAUkoC,GAC5D,OAAOA,EAAI8+K,QAAQkgE,EACrB,GACF,IAAG7nR,OAAM,EACX,CAwCY8nR,CAA8BxwM,KAChC0gK,GAAgB1jK,EAAQ0/H,EAASltM,GAAaF,QAAQ0wE,KAC/C,EAIX,GACF,IAAGh3E,SAAQ,WACT,OAAO4/Q,EAAWz/Q,MAAK,SAAUic,GAC/B,OAAOirQ,EAAWpnR,KAAI,SAAUpB,GAM9B,OALI60M,EACFuzE,GAAajzM,EAAQmV,EAAOrqF,EAAMD,GAElCooR,GAAajzM,EAAQmV,EAAOtqF,EAAIC,IAE3B,CACT,GACF,GACF,IAAGY,OAAM,EACX,GACF,EACI+nR,GAAoB,SAAUzzM,EAAQmV,EAAOuqH,GAC/C,GAAI1/H,EAAOv8B,UAAUukG,eAAiB+vE,GAA0B/3I,GAAS,CACvE,IAAIl1E,EAAOqoN,GAAcG,eAAetzI,EAAOv8B,UAAUmiC,UACzD,OAAOutM,GAAyBnzM,EAAQmV,EAAOuqH,EAAS50M,EAC1D,CACA,OAAO,CACT,EAQI4oR,GAAkB,SAAU1wM,GAC9B,OAAgC,IAAzBi7G,GAAgBj7G,EACzB,EACI2wM,GAAqB,SAAUj0E,EAAS1/H,EAAQ7pE,EAAQy9Q,GAC1D,IAAIC,EAAoBhrR,EAAMopP,GAAiBjyK,GAC3CgxK,EAAcp3D,EAAME,EAAS85F,EAAeC,IAAoB,SAAU7wM,GAC5E,OAAOA,EAAI7wE,GACb,IACA,GAA2B,IAAvB6+O,EAAYhpP,OACd07O,GAAgB1jK,EAAQ0/H,EAASvpM,OAC5B,CACL,IAAIo+B,EA7uOqB,SAAUwrH,EAAYixF,GACjD,IAAI7pD,EAAiBspD,IAAqB,GACtCqjC,EAAY/iC,GAAoCC,EAAa7pD,EAAeh1L,KAGhF,OAFAisL,GAAS5rL,GAAaF,QAAQytJ,GAAaonC,GAC3CroL,GAAStM,GAAaF,QAAQytJ,IACvBozD,GAAc2gE,EAAW,EAClC,CAuuOcC,CAAuB59Q,EAAOhE,IAAK6+O,GAC7ChxK,EAAOv8B,UAAUyuH,OAAO39H,EAAI6+K,UAC9B,CACF,EACI4gE,GAAgB,SAAUh0M,EAAQ0/H,GACpC,IAAIh8D,EAAUlxI,GAAaF,QAAQ0tE,EAAO7hE,WACtCyqO,EAAWp2O,GAAaF,QAAQ0tE,EAAOv8B,UAAUQ,YACjD2vO,EAAgB95F,EAxBC,SAAUp2C,EAASklG,GACxC,IAAI9qE,EAAUihE,GAAe6J,EAAUllG,GACvC,OAAOs2C,EAAYlc,EAASunB,IAAW/5L,KAAKmqB,EAASqoJ,IAAU,SAAUjhK,GACvE,OAAOihK,EAAQ5yK,MAAM,EAAG2R,EAC1B,GACF,CAmB+Bo3Q,CAAiBvwI,EAASklG,GAAW8qC,IAClE,OAAOrkR,GAAOukR,GAAexnR,QAAO,SAAU+J,GAC5C,IA3uOsCnC,EA2uOlC61O,EAAU12B,GAAcG,eAAetzI,EAAOv8B,UAAUmiC,UAC5D,SA/2CkC,SAAU85H,EAASmqC,EAAS7mK,GAChE,OAAO/xE,GAAMytN,GAAgB17I,GAAM27I,GAAe37I,IAAM,SAAUo+J,EAAUE,GAC1E,IAAIgyC,EAAqBjP,IAAkB,EAAMjjC,GAC7CmyC,EAAoBlP,IAAkB,EAAO/iC,GAC7C4yC,EAAoB7P,IAAkB,EAAOx6B,GACjD,OAAInqC,EACK8e,GAAax7I,EAAKkxM,GAAmB9nR,QAAO,SAAUqgR,GAC3D,OAAOA,EAAQp5D,QAAQkgE,IAAsB1pC,EAAQx2B,QAAQigE,EAC/D,IAEO70D,GAAaz7I,EAAKkxM,GAAmB9nR,QAAO,SAAUk4J,GAC3D,OAAOA,EAAQ+uD,QAAQigE,IAAuBzpC,EAAQx2B,QAAQkgE,EAChE,GAEJ,IAAG7nR,OAAM,EACX,CAg2CQyoR,CAAgCz0E,EAASmqC,EAAS1zO,EAAOhE,OA5uOvB6B,EA4uO0DmC,EA3uO3F0oN,GAAY7qN,EAAQ7B,MAAQm+O,GAAsBt8O,EAAQ7B,SA4uO7DwhR,GAAmBj0E,EAAS1/H,EAAQ7pE,EAAQy9Q,IACrC,EAIX,GACF,EACIQ,GAAoB,SAAUp0M,EAAQ0/H,GACxC,QAAO1/H,EAAOv8B,UAAUukG,eAAgBgsI,GAAch0M,EAAQ0/H,EAChE,EAEI20E,GAAgB,SAAUr0M,EAAQ0/H,EAAS1rM,GAG7C,OAFAgsE,EAAO+sK,oBAAoB08B,gBAC3B/lC,GAAgB1jK,EAAQ0/H,EAASltM,GAAaF,QAAQ0B,KAC/C,CACT,EAmBIsgR,GAAoB,SAAUt0M,EAAQ0/H,GACxC,OAAO1/H,EAAOv8B,UAAUukG,cAnBR,SAAUhoE,EAAQ0/H,GAClC,IAAI60E,EAAc70E,EAAUs+B,GAAgBC,GACxCvyM,EAAYg0K,EAAUkU,GAAW6J,SAAW7J,GAAWkK,UACvD+rB,EAAUxtB,GAA2B3wL,EAAWs0C,EAAO7hE,UAAW6hE,EAAOv8B,UAAUmiC,UACvF,OAAI2uM,EAAY1qC,GACPwqC,GAAcr0M,EAAQ0/H,EAASmqC,EAAQjnK,SAAS88H,IAEhD7yM,EAAS/B,KAAKu5Q,GAAkB3kE,EAASmqC,IAAUv9O,QAAO,SAAUioC,GACzE,OAAOggP,EAAYhgP,IAAQmoL,GAAsBmtB,EAASt1M,EAC5D,IAAGnoC,QAAO,SAAUmoC,GAClB,OAAO8/O,GAAcr0M,EAAQ0/H,EAASnrK,EAAIquC,SAAS88H,GACrD,GAEJ,CAM0C80E,CAAYx0M,EAAQ0/H,GAL5C,SAAU1/H,EAAQ0/H,GAClC,IAAI2nC,EAAernK,EAAOv8B,UAAUm/B,UACpC,QAAOm9G,GAAUsnD,IAAgBgtC,GAAcr0M,EAAQ0/H,EAAS2nC,EAClE,CAEyE8gC,CAAYnoM,EAAQ0/H,EAC7F,EASI+0E,GAAmB,SAAUpuR,GAC/B,IAAIuoB,EAASrV,SAASlT,EAAO,IAC7B,OAAOua,MAAMgO,GAAU,EAAIA,CAC7B,EACI8lQ,GAAqB,SAAUC,EAAW3gR,GAG5C,OAFsB2gR,GAvynBA,UAAf/tR,GAuynBsCoN,GAAW,SAAW,YACtB,QAAhCkvB,GAAMlvB,EAAS,aAAyB,SAAW,QAElE,EAmBI4gR,GAAa,SAAU50M,GACzB,IAAIsyK,EAASuiC,GAAkB70M,GAC/B,OAAQA,EAAOhlC,KAAK02C,eAAiB4gK,EAAOtqP,OAAS,GAVlC,SAAUg4E,EAAQsyK,GACrC,OAAOjmP,GAAOimP,GAAQ,SAAUrrH,GAC9B,IAAI6tJ,EAAkBJ,GAAmBl9D,GAAsBx3I,GAASinD,GACpE8tJ,EAAcn1Q,GAAOqnH,EAAO6tJ,GAAiB7oR,IAAIwoR,IAAkB/oR,MAAM,GAE7E,MAA2B,UADLs0E,EAAO7tE,IAAIqwE,mBAAmBykD,EAAM90H,MACpB4iR,EAAc,CACtD,GACF,CAG4DC,CAAeh1M,EAAQsyK,GACnF,EACI2iC,GAAkB,SAAU5vR,GAC9B,OAAOogM,GAAOpgM,IAAOqgM,GAAWrgM,EAClC,EAIIwvR,GAAoB,SAAU70M,GAChC,OAAO85G,GAj2diBoG,EAi2dElgH,EAAOv8B,UAAU+uM,oBAh2dpC54D,EAAMsG,EAAO1tL,GAAaF,WAg2dgC,SAAUjN,GACzE,OAAQ4vR,GAAgB5vR,KALA,SAAUA,GACpC,OAAOmX,GAAOnX,GAAI+G,OAAO6oR,GAC3B,CAGoCC,CAAsB7vR,IA7CjDwiC,GA6CmExiC,GA7CjD,SAAU29E,GACjC,OAAO48G,GAAwB58G,EAAI7wE,MAAQ0tL,GAAyB78G,EAAI7wE,IAC1E,IAAG/F,QAAO,SAAU42E,GAClB,OAAO48G,GAAwB58G,EAAI7wE,IACrC,GA0CA,IAn2dc,IAAU+tL,CAo2d1B,EACIn8K,GAAS,SAAUi8D,EAAQssE,GAC7B,IAAIn6I,EAAM6tE,EAAO7tE,IAAKsxC,EAAYu8B,EAAOv8B,UAAW0yF,EAAYn2D,EAAOm2D,UACnEg/I,EA/7be,SAAUn1M,GAC7B,OAAOA,EAAO8O,SAAS,cAAe,OAAQ,SAChD,CA67boBsmM,CAAep1M,GAC7Bq1M,EAAa,YAAY19L,KAAKw9L,GAAa,GAC3CG,EAAc/7Q,SAAS47Q,EAAa,IACpCR,EAAYn9D,GAAsBx3I,GAClCm0K,EAAkBv9B,GAAmB52I,GACpCA,EAAOuuF,kBAAkB,wBAA2BvuF,EAAOuuF,kBAAkB,sBACxD,KAApB4lF,GAA2BhiP,EAAI0xE,UAAUpgC,EAAUm/B,UAAWzwE,EAAIowE,UACpE4zD,EAAU3tI,MAAM,OAGpBqxL,EAAOg7F,GAAkB70M,IAAS,SAAUinD,IA7C1B,SAAU90H,EAAKm6I,EAASqoI,EAAWtuR,EAAOqsE,EAAM1+D,GAClE,IAAI8gR,EAAkBJ,GAAmBC,EAAWniR,GAAaF,QAAQ0B,IACzE,GAAgB,YAAZs4I,EAAuB,CACzB,IAAIipI,EAAalvQ,KAAKrF,IAAI,EAAGyzQ,GAAiBzgR,EAAQ5B,MAAM0iR,IAAoBzuR,GAChF8L,EAAI41M,SAAS/zM,EAAS8gR,EAAiBS,EAAaA,EAAa7iN,EAAO,GAC1E,MACM6iN,EAAad,GAAiBzgR,EAAQ5B,MAAM0iR,IAAoBzuR,EAAQqsE,EAC5EvgE,EAAI41M,SAAS/zM,EAAS8gR,EAAiBS,EAE3C,CAqCIC,CAAcrjR,EAAKm6I,EAASqoI,EAAWW,EAAaD,EAAYpuJ,EAAM90H,IACxE,GACF,EAEIsjR,GAAkB,SAAUz1M,EAAQonM,GACtC,GAAIpnM,EAAOv8B,UAAUukG,eAAiB4sI,GAAW50M,GAAS,CACxD,IAAI7tE,EAAM6tE,EAAO7tE,IACbuxC,EAAMs8B,EAAOv8B,UAAUmiC,SACvBrxC,EAAM4+K,GAAcG,eAAe5vK,GACnCujF,EAAQ90H,EAAI0xE,UAAUngC,EAAIC,eAAgBxxC,EAAIowE,SAClD,GAAc,OAAV0kD,GAAkBo4G,GAAiB7sO,GAAaF,QAAQ20H,GAAQ1yF,GAElE,OADAxwB,GAAOi8D,EAAQ,YACR,CAEX,CACA,OAAO,CACT,EAEI01M,GAAgB,SAAU11M,EAAQssE,GACpCtsE,EAAO6C,SAAS2Z,YAAY8vD,GAAS,EAAO,KAC9C,EAkDIqpI,GAAU,SAAU31M,EAAQmV,GAC9BnV,EAAOihF,WAAW,UAAU,YAlDV,SAAUjhF,EAAQmV,GAChCsgM,GAAgBz1M,IAET6pM,GAAkB7pM,GAAQ,IAE1BqoM,GAAkBroM,GAAQ,IAE1ByzM,GAAkBzzM,EAAQmV,GAAO,IAEjCuxL,GAAkB1mM,GAAQ,IAE1BgqK,GAAkBhqK,IAElB8pM,GAAkB9pM,GAAQ,IAE1Bs0M,GAAkBt0M,GAAQ,IAE1BmnM,GAAkBnnM,IAElBo0M,GAAkBp0M,GAAQ,KAGnC01M,GAAc11M,EAAQ,UACtB2kM,GAAc3kM,GAElB,CA0BI41M,CAAc51M,EAAQmV,EACxB,IACAnV,EAAOihF,WAAW,iBAAiB,YA3BV,SAAUjhF,EAAQmV,GACvC00L,GAAkB7pM,GAAQ,IAEnBqoM,GAAkBroM,GAAQ,IAE1ByzM,GAAkBzzM,EAAQmV,GAAO,IAEjCuxL,GAAkB1mM,GAAQ,IAE1BgqK,GAAkBhqK,IAElB8pM,GAAkB9pM,GAAQ,IAE1Bs0M,GAAkBt0M,GAAQ,IAE1BmnM,GAAkBnnM,IAElBo0M,GAAkBp0M,GAAQ,IAGnC01M,GAAc11M,EAAQ,gBAE1B,CAMI61M,CAAqB71M,EAAQmV,EAC/B,GACF,EAIIsP,GAAW,SAAU1hF,GACvB,YAAsBjd,IAAlBid,EAAM2hF,SAAkD,IAAzB3hF,EAAM2hF,QAAQ18F,OACxC6E,EAAS1B,OAEX0B,EAASJ,KAAKsW,EAAM2hF,QAAQ,GACrC,EAMIoxL,GAAU,SAAU91M,GACtB,IAAI4kB,EAAYv+F,KACZw+F,EAAiBvyE,IAAK,GACtByjQ,EAAoB/tO,IAAK,SAAUx9C,GACrCw1E,EAAOsZ,KAAK,YAAaxvF,GAASA,GAAS,CAAC,EAAGU,GAAI,CAAEpE,KAAM,eAC3Dy+F,EAAehkF,KAAI,EACrB,GAlBoB,KAmBpBm/D,EAAOloC,GAAG,cAAc,SAAUttC,GAChCi6F,GAASj6F,GAAG0B,MAAK,SAAU64F,GACzBgxL,EAAkB7zM,SAClB,IAAIrpD,EAAO,CACTvyB,EAAGy+F,EAAMthF,QACT/P,EAAGqxF,EAAMrhF,QACTvN,OAAQ3L,EAAE2L,QAEZ4/Q,EAAkB5zM,SAAS33E,GAC3Bq6F,EAAehkF,KAAI,GACnB+jF,EAAU/jF,IAAIgY,EAChB,GACF,IAAG,GACHmnD,EAAOloC,GAAG,aAAa,SAAUttC,GAC/BurR,EAAkB7zM,SAClBuiB,GAASj6F,GAAG0B,MAAK,SAAU64F,GACzBH,EAAU9sD,IAAG,SAAUjf,IA5BX,SAAUksE,EAAOlsE,GACjC,IAAImsE,EAAQ3+E,KAAK0mE,IAAIgY,EAAMthF,QAAUoV,EAAKvyB,GACtC2+F,EAAQ5+E,KAAK0mE,IAAIgY,EAAMrhF,QAAUmV,EAAKnlB,GAC1C,OAAOsxF,EAXc,GAWcC,EAXd,CAYvB,EAyBYC,CAAYH,EAAOlsE,KACrB+rE,EAAUtsD,QACVusD,EAAehkF,KAAI,GACnBm/D,EAAOsZ,KAAK,mBAEhB,GACF,GACF,IAAG,GACHtZ,EAAOloC,GAAG,wBAAwB,SAAUttC,GAC1CurR,EAAkB7zM,SACH,gBAAX13E,EAAEpE,MAGNw+F,EAAUrkF,MAAMjU,QAAO,SAAUusB,GAC/B,OAAOA,EAAK1iB,OAAO6/Q,YAAYxrR,EAAE2L,OACnC,IAAGjK,MAAK,WACF24F,EAAetkF,MACjB/V,EAAE8Y,iBAEF08D,EAAOsZ,KAAK,MAAOxvF,GAASA,GAAS,CAAC,EAAGU,GAAI,CAAEpE,KAAM,QAEzD,GACF,IAAG,EACL,EAEI6vR,GAAiB,SAAU3rB,EAAe/3P,GAC5C,OAAO7B,GAAM45P,EAAe/3P,EAAK0B,SACnC,EACIiiR,GAAgB,SAAU5rB,EAAe/3P,GAC3C,QAAIgtL,GAAShtL,MAEFssL,GAAYtsL,MACb0jR,GAAe3rB,EAAe/3P,KAAU+tN,GAAiB/tN,GAIrE,EAMI4jR,GAAuB,SAAU7rB,EAAe/3P,GAClD,GAAIgtL,GAAShtL,GAAO,CAClB,GAA8B,IAA1BA,EAAKuzC,UAAU99C,OACjB,OAAO,EACF,GAAI,QAAQsN,KAAK/C,EAAKuzC,cAAgBvzC,EAAKgS,aAAe0xQ,GAAe3rB,EAAe/3P,EAAKgS,cAClG,OAAO,CAEX,CACA,OAAO,CACT,EACIspP,GAAgB,SAAU7tL,GAC5B,IAII4tL,EAAeV,EAAUppP,EAJzB3R,EAAM6tE,EAAO7tE,IAAKsxC,EAAYu8B,EAAOv8B,UACrCp1B,EAAS2xD,EAAO3xD,OAAQi8O,EAAgBj8O,EAAO0jL,mBAC/Cx/L,EAAOkxC,EAAUQ,WACjBq+B,EAAWtC,EAAO7hE,UAElBg2O,EAAkBv9B,GAAmB52I,GACzC,GAAKztE,GAASssL,GAAYtsL,IAAU4hP,EAApC,CAGA,IAAIiiC,EAAe9zM,EAASruE,SAASC,cACrC,GAAKma,EAAOokL,aAAa2jF,EAAcjiC,EAAgBjgP,iBA1BpC,SAAUo2P,EAAe/3N,EAAMhgC,GAClD,OAAOnG,EAAO0xK,GAAQtrK,GAAaF,QAAQC,GAAOC,GAAaF,QAAQigC,KAAQ,SAAUywC,GACvF,OAAOizM,GAAe3rB,EAAetnL,EAAI7wE,IAC3C,GACF,CAsB2EkkR,CAAe/rB,EAAehoL,EAAU/vE,GAAjH,CAGA,IAAImxC,EAAMD,EAAUmiC,SAChBjiC,EAAiBD,EAAIC,eACrBsB,EAAcvB,EAAIuB,YAClBC,EAAexB,EAAIwB,aACnBC,EAAYzB,EAAIyB,UAChBmxO,EAAmBhkP,GAAS0tC,GAEhC,IADAztE,EAAO+vE,EAAS39D,WACTpS,GACL,GAAI2jR,GAAc5rB,EAAe/3P,GAAO,CACtC,GAAI4jR,GAAqB7rB,EAAe/3P,GAAO,CAC7C26P,EAAW36P,EACXA,EAAOA,EAAKgS,YACZpS,EAAI2wB,OAAOoqO,GACX,QACF,CACKU,IACHA,EAAgBz7P,EAAIqmI,OAAO27G,EAAiBt9B,GAAwB72I,IACpEztE,EAAKkK,WAAW/W,aAAakoQ,EAAer7P,GAC5CuR,GAAU,GAEZopP,EAAW36P,EACXA,EAAOA,EAAKgS,YACZqpP,EAAchpP,YAAYsoP,EAC5B,MACEU,EAAgB,KAChBr7P,EAAOA,EAAKgS,YAGZT,GAAWwyQ,IACb5yO,EAAIa,SAASZ,EAAgBsB,GAC7BvB,EAAIgB,OAAOQ,EAAcC,GACzB1B,EAAUyuH,OAAOxuH,GACjBs8B,EAAO0kF,cAjCT,CAJA,CAuCF,EAeIsoF,GAA0B,SAAUhtK,EAAQu2M,GAC1CA,EAAoB13Q,aAAa,oBACnCqoL,GAAwBqvF,GALF,SAAUv2M,GAClCA,EAAOv8B,UAAUyuH,OAAOlyF,EAAOv8B,UAAUmiC,SAC3C,CAII4wM,CAAoBx2M,GACpBA,EAAOv8B,UAAUg7I,eAAe83F,GAEpC,EACIE,GAAuB,SAAUz2M,EAAQx1E,GAC3C,IAAI+rR,EAhBwB,SAAUv2M,GACtC,OAAOh4C,GAAWx1B,GAAaF,QAAQ0tE,EAAO7hE,WAAY,qBAAqBlS,KAAI,SAAU+2E,GAC3F,OAAOA,EAAI7wE,GACb,IAAGtG,WACL,CAY4B6qR,CAAwB12M,GAClD,GAAKu2M,EAGL,MAAe,qBAAX/rR,EAAEpE,MACJoE,EAAE8Y,iBACF9Y,EAAE4Y,uBACF4pO,GAAwBhtK,EAAQu2M,SAG9BhwF,GAAWgwF,KACbvpC,GAAwBhtK,EAAQu2M,GAChCv2M,EAAO42E,YAAY3wJ,OAEvB,EAKI0wR,GAA2B92F,GAoB3B+2F,GAAe,SAAU52M,EAAQt0C,EAAWwY,GAC9C,IAAIwnM,EAAc7tB,GAAY79I,EAAO7hE,WACjC04Q,EAA2BhuR,EAAM2zN,GAAsC,IAAd9wL,EAAkBggN,EAAY/vM,KAAO+vM,EAAY/lG,MAC9G,GAAIzhG,EAAMqB,WAvoca,SAAUy6B,GACjC,MAAsC,KAA/B42I,GAAmB52I,EAC5B,CAqocyB82M,CAAmB92M,GAAS,CACjD,IAAIyyK,EAAMzyK,EAAO7tE,IAAI0xE,UAAU3/B,EAAMP,eAAgB,OACrD,IAAK8uM,EACH,OAGF,IADeokC,EAAyB1jE,GAAcG,eAAepvK,IACtD,CACb,IAAI6yO,EAjBY,SAAU/2M,GAC9B,IAAIg3M,EAAYh3M,EAAO7tE,IAAIqmI,OAAOo+E,GAAmB52I,IAIrD,QAHKs7G,GAAI5jL,IAAM4jL,GAAI5jL,IAAM,MACvBs/Q,EAAUlkR,UAAY,2BAEjBkkR,CACT,CAWqBC,CAAgBj3M,GACb,IAAdt0C,EACFs0C,EAAO0lI,EAAE+sC,GAAK1vM,MAAMg0O,GAEpB/2M,EAAO0lI,EAAE+sC,GAAK3vM,OAAOi0O,GAEvB/2M,EAAOv8B,UAAU05C,OAAO45L,GAAU,GAClC/2M,EAAOv8B,UAAUoyB,UACnB,CACF,CACF,EACIqhN,GAAqB,SAAUl3M,EAAQ0/H,GACzC,IAAIh0K,EAAYg0K,EAAUkU,GAAW6J,SAAW7J,GAAWkK,UACvD55K,EAAQ87B,EAAOv8B,UAAUmiC,SAC7B,OA3C8B,SAAUl6C,EAAWs0C,EAAQ97B,GAC3D,OAAOqsO,GAAiBvwM,EAAQt0C,EAAWwY,EAAOk6L,GAA8BC,GAA6Bs4C,GAC/G,CAyCSQ,CAA0BzrP,EAAWs0C,EAAQ97B,GAAOl4C,SAAQ,WAEjE,OADA4qR,GAAa52M,EAAQt0C,EAAWwY,GACzBr3C,EAAS1B,MAClB,GACF,EACIisR,GAAmB,SAAUp3M,EAAQq3M,GACvC,IAAI3rP,EAAY2rP,EAAO,GAAK,EACxBnzO,EAAQ87B,EAAOv8B,UAAUmiC,SAC7B,OAhD4B,SAAUl6C,EAAWs0C,EAAQ97B,GAOzD,OAAOysO,GAAe3wM,EAAQt0C,EAAWwY,GAN1B,SAAU6uK,GACvB,OAAOqrB,GAA6BrrB,IAAkBmrB,GAAcnrB,EACtE,IACc,SAAUA,GACtB,OAAOsrB,GAA4BtrB,IAAkBorB,GAAaprB,EACpE,GACmE4jE,GACrE,CAwCSW,CAAwB5rP,EAAWs0C,EAAQ97B,GAAOl4C,SAAQ,WAE/D,OADA4qR,GAAa52M,EAAQt0C,EAAWwY,GACzBr3C,EAAS1B,MAClB,GACF,EACIosR,GAAU,SAAUv3M,EAAQ0/H,GAC9B,OAAOw3E,GAAmBl3M,EAAQ0/H,GAAStzM,QAAO,SAAUorR,GAE1D,OADAnH,GAAYrwM,EAAQw3M,IACb,CACT,GACF,EACIC,GAAU,SAAUz3M,EAAQq3M,GAC9B,OAAOD,GAAiBp3M,EAAQq3M,GAAMjrR,QAAO,SAAUorR,GAErD,OADAnH,GAAYrwM,EAAQw3M,IACb,CACT,GACF,EACIE,GAAuB,SAAU13M,EAAQ0/H,GAE3C,OAAO8xE,GAAqBxxM,EAAQ0/H,EADhBA,EAAU2+B,GAA8BD,GAE9D,EAEIu5C,GAAW,SAAUplR,GACvB,OAAOonL,EAAW,CAAC,cAAe/yL,GAAK2L,GACzC,EACIqlR,GAAc,SAAUzhR,GAC1B,IAAIutC,EAAMn+C,SAAS8+C,cAGnB,OAFAX,EAAIY,eAAenuC,EAAOhE,KAC1BuxC,EAAIe,aAAatuC,EAAOhE,KACjBuxC,CACT,EACIm0O,GAAgB,SAAUtlP,EAAMywC,EAAK08H,GACnCA,EACF76L,GAAS0tB,EAAMywC,GAEflV,GAAQv7B,EAAMywC,EAElB,EAcI80M,GAAkB,SAAUvlP,EAAM25N,EAAe1tP,EAAOkhM,GAC1D,MAAsB,KAAlBwsD,EAdS,SAAU35N,EAAMmtK,GAC7B,IAAI5Y,EAAKt0L,GAAaW,QAAQ,MAE9B,OADA0kR,GAActlP,EAAMu0J,EAAI4Y,GACjBk4E,GAAY9wF,EACrB,CAWWixF,CAASxlP,EAAMmtK,GAVR,SAAUntK,EAAMmtK,EAAS7Y,EAAWroL,GACpD,IAAIyoH,EAAQz0H,GAAaW,QAAQ0zL,GAC7BC,EAAKt0L,GAAaW,QAAQ,MAI9B,OAHAoL,GAAS0oH,EAAOzoH,GAChBqG,GAASoiH,EAAO6/D,GAChB+wF,GAActlP,EAAM00F,EAAOy4E,GACpBk4E,GAAY9wF,EACrB,CAKWkxF,CAAYzlP,EAAMmtK,EAASwsD,EAAe1tP,EAErD,EAKIy5Q,GAAsB,SAAU1lP,EAAMmtK,EAASnrK,GACjD,OAAOmrK,EA3/BU,SAAU/sM,EAAO4hC,GAClC,OAAOk5O,GAA0B96Q,EAAO4hC,GAAKw4O,QAAQthR,QACvD,CAy/BmBysR,CAAa3lP,EAAKpgC,IAAKoiC,GA9/BtB,SAAU5hC,EAAO4hC,GACnC,OAAOi5O,GAA8B76Q,EAAO4hC,GAAKw4O,QAAQthR,QAC3D,CA4/BiD0sR,CAAc5lP,EAAKpgC,IAAKoiC,EACzE,EACI6jP,GAA0B,SAAUp4M,EAAQ0/H,GAC9C,IAAIntK,EAAO//B,GAAaF,QAAQ0tE,EAAO7hE,WACnCo2B,EAAM4+K,GAAcG,eAAetzI,EAAOv8B,UAAUmiC,UACpDg0I,EAAYhD,GAAmB52I,GAC/Bq4M,EAAiBxhE,GAAwB72I,GAC7C,OAZ0B,SAAUzrC,EAAKhC,GACzC,IAAIhe,EAAS1rB,EAAMwS,GAAIk3B,GACvB,OAAO1K,GAAUr1B,GAAaF,QAAQiiC,EAAI9Y,aAAc4pK,GAAW9wK,GAAQjoB,OAAOqrR,GACpF,CASSW,CAAsB/jP,EAAKhC,GAAMnmC,QAAO,WAC7C,GAAI6rR,GAAoB1lP,EAAMmtK,EAASnrK,GAAM,CAC3C,IAAImP,EAAMo0O,GAAgBvlP,EAAMqnL,EAAWy+D,EAAgB34E,GAE3D,OADA1/H,EAAOv8B,UAAUyuH,OAAOxuH,IACjB,CACT,CACE,OAAO,CAEX,GACF,EACI60O,GAAU,SAAUv4M,EAAQ0/H,GAC9B,QAAI1/H,EAAOv8B,UAAUukG,eACZowI,GAAwBp4M,EAAQ0/H,EAI3C,EAiBI84E,GAAU,SAAUvvP,EAAUkuE,GAChC,OAAOhrG,GAhBa,SAAU88B,GAC9B,OAAO2wJ,EAAM3wJ,GAAU,SAAUmjI,GAC/B,OAAOtiK,GAAS,CACdy1D,UAAU,EACV4oK,QAAQ,EACR1oK,SAAS,EACTi3I,SAAS,EACTxzE,QAAS,EACT5pG,OAAQrxB,GACPmkK,EACL,GACF,CAKcqsH,CAAgBxvP,IAAW,SAAUmjI,GAC/C,OALe,SAAUA,EAASj1D,GACpC,OAAOA,EAAI+rB,UAAYkpC,EAAQlpC,SAAW/rB,EAAI53C,WAAa6sG,EAAQ7sG,UAAY43C,EAAIgxH,SAAW/7D,EAAQ+7D,QAAUhxH,EAAI13C,UAAY2sG,EAAQ3sG,SAAW03C,EAAIu/F,UAAYtqC,EAAQsqC,OAC7K,CAGWgiF,CAAatsH,EAASj1D,GAAO,CAACi1D,GAAW,EAClD,GACF,EACI9yI,GAAS,SAAUlwB,GAErB,IADA,IAAI9C,EAAI,GACCgC,EAAK,EAAGA,EAAKC,UAAUP,OAAQM,IACtChC,EAAEgC,EAAK,GAAKC,UAAUD,GAExB,OAAO,WACL,OAAOc,EAAEZ,MAAM,KAAMlC,EACvB,CACF,EACI+8D,GAAU,SAAUp6B,EAAUkuE,GAChC,OAAOzhG,EAAO8iR,GAAQvvP,EAAUkuE,IAAM,SAAUi1D,GAC9C,OAAOA,EAAQ9yI,QACjB,GACF,EAEIq/P,GAAU,SAAU34M,EAAQ0/H,GAC9B,IAAIh0K,EAAYg0K,EAAUkU,GAAW6J,SAAW7J,GAAWkK,UACvD55K,EAAQ87B,EAAOv8B,UAAUmiC,SAC7B,OAAO2qM,GAAiBvwM,EAAQt0C,EAAWwY,EAAO85L,GAAeC,GAAcl+C,IAAW3zL,QAAO,SAAUorR,GAEzG,OADAnH,GAAYrwM,EAAQw3M,IACb,CACT,GACF,EACIoB,GAAU,SAAU54M,EAAQq3M,GAC9B,IAAI3rP,EAAY2rP,EAAO,GAAK,EACxBnzO,EAAQ87B,EAAOv8B,UAAUmiC,SAC7B,OAAO+qM,GAAe3wM,EAAQt0C,EAAWwY,EAAO85L,GAAeC,GAAcl+C,IAAW3zL,QAAO,SAAUorR,GAEvG,OADAnH,GAAYrwM,EAAQw3M,IACb,CACT,GACF,EACIqB,GAAqB,SAAU74M,EAAQ0/H,GAEzC,OAAO8xE,GAAqBxxM,EAAQ0/H,EADlBA,EAAUu+B,GAAeD,GAE7C,EAwCI86C,GAAiB,SAAUC,EAAeC,EAAgB3lJ,EAAO/sI,EAAGoN,GACtE,IAAI2sF,EAAQh6C,GAAY7zC,GAAaF,QAAQ+gI,GAAQ,iBAAiBpnI,KAAI,SAAUzB,GAClF,OAAOA,EAAE2H,GACX,IACI8mR,EAAUn/F,EAhCC,SAAUi/F,EAAeG,GACxC,OAAO/sR,GAAK+sR,GAAK,SAAU59G,GACzB,IAAI3nI,EAZM,SAAUA,EAAMzG,GAC5B,MAAO,CACLn8B,KAAM4iC,EAAK5iC,KAAOm8B,EAClBzrB,IAAKkyB,EAAKlyB,IAAMyrB,EAChBtnB,MAAO+tB,EAAK/tB,MAAgB,EAARsnB,EACpBrnB,OAAQ8tB,EAAK9tB,OAAiB,EAARqnB,EACtBvnB,MAAOguB,EAAKhuB,MAAQunB,EACpB9rB,OAAQuyB,EAAKvyB,OAAS8rB,EAE1B,CAGeisP,CAAQz9P,GAAM4/I,EAAGn6J,0BAA2B,GACvD,MAAO,CACL,CACE7a,EAAGqtC,EAAK5iC,KACR2C,EAAGqlR,EAAcplP,GACjBs1B,KAAMqyG,GAER,CACEh1K,EAAGqtC,EAAK/tB,MACRlS,EAAGqlR,EAAcplP,GACjBs1B,KAAMqyG,GAGZ,GACF,CAgByB89G,CAAWL,EAAe14L,IAAQ,SAAUg5L,GACjE,OAAOL,EAAeK,EAAQ3lR,EAChC,IACA,OAlBsB,SAAUulR,EAAS3yR,EAAGoN,GAC5C,OAAOtF,EAAM6qR,GAAS,SAAU/qR,EAAKorR,GACnC,OAAOprR,EAAI5C,MAAK,WACd,OAAOuB,EAASJ,KAAK6sR,EACvB,IAAG,SAAUC,GACX,IAAIC,EAAUnzQ,KAAKw1E,KAAKx1E,KAAK0mE,IAAIwsM,EAAUjzR,EAAIA,GAAK+f,KAAK0mE,IAAIwsM,EAAU7lR,EAAIA,IACvE+lR,EAAUpzQ,KAAKw1E,KAAKx1E,KAAK0mE,IAAIusM,EAAUhzR,EAAIA,GAAK+f,KAAK0mE,IAAIusM,EAAU5lR,EAAIA,IAC3E,OAAO7G,EAASJ,KAAKgtR,EAAUD,EAAUF,EAAYC,EACvD,GACF,GAAG1sR,EAAS1B,OACd,CAQSuuR,CAAkBT,EAAS3yR,EAAGoN,GAAGzH,KAAI,SAAUotR,GACpD,OAAOA,EAAOpwN,IAChB,GACF,EAaI0wN,GAAsB9wR,EAAMiwR,IAZX,SAAUnlP,GAC7B,OAAOA,EAAK9tB,MACd,IAIc,SAAUwzQ,EAAQ3lR,GAC9B,OAAO2lR,EAAO3lR,EAAIA,CACpB,IAKIkmR,GAAsB/wR,EAAMiwR,IAVd,SAAUnlP,GAC1B,OAAOA,EAAKlyB,GACd,IAIc,SAAU43Q,EAAQ3lR,GAC9B,OAAO2lR,EAAO3lR,EAAIA,CACpB,IAGImmR,GAAiC,SAAUxmJ,EAAO9+F,GACpD,OAAO/uC,GAAK+uC,EAAImT,kBAAkBv7C,MAAK,SAAUwnC,GAC/C,OAAOgmP,GAAoBtmJ,EAAO1/F,EAAK5iC,KAAM4iC,EAAKlyB,IACpD,IAAGtV,MAAK,SAAU88D,GAChB,OAAOqkN,GAtoCF3uD,GAD4BhsN,EAuoCyBs2D,GAtoC/Bh9D,KAAI,SAAUsoC,GACzC,OAAOi5O,GAA8B76Q,EAAO4hC,GAAK6M,UAAUl4C,OAAOqrC,EACpE,IAAG7oC,MAAM,IAooC0D6oC,GAvoC1C,IAAU5hC,CAwoCnC,GACF,EACImnR,GAAiC,SAAUzmJ,EAAO9+F,GACpD,OAAOllC,GAAOklC,EAAImT,kBAAkBv7C,MAAK,SAAUwnC,GACjD,OAAOimP,GAAoBvmJ,EAAO1/F,EAAK5iC,KAAM4iC,EAAKlyB,IACpD,IAAGtV,MAAK,SAAU88D,GAChB,OAAOqkN,GAlpCF5uD,GAD6B/rN,EAmpCyBs2D,GAlpC/Bh9D,KAAI,SAAUsoC,GAC1C,MAAO,CAACA,GAAKrrC,OAAOukR,GAA0B96Q,EAAO4hC,GAAK6M,UAC5D,IAAG11C,MAAM,IAgpC2D6oC,GAnpC1C,IAAU5hC,CAopCpC,GACF,EAaIonR,GAAoB,SAAUlN,EAAmBl6Q,EAAO4hC,GAC1D,IAAIylP,EAAWnN,EAAkBl6Q,EAAO4hC,GACxC,OARwB,SAAUylP,GAClC,OAAOA,EAASlN,YAAcZ,GAAUU,MAAsC,IAA9BoN,EAAS54O,UAAUp5C,MACrE,CAMMiyR,CAAoBD,KAAct6F,GAAOnrJ,EAAIquC,YAL3B,SAAUo3M,GAChC,OAAOA,EAASlN,YAAcZ,GAAUQ,IAAoC,IAA9BsN,EAAS54O,UAAUp5C,MACnE,CAGiEkyR,CAAkBF,IAbhE,SAAUnN,EAAmBl6Q,EAAOqnR,GACrD,OAAOA,EAASjN,QAAQ3gR,QAAO,SAAU+tR,GACvC,OAAOtN,EAAkBl6Q,EAAOwnR,GAAUpN,QAAQvhR,QACpD,GACF,CAUY4uR,CAAavN,EAAmBl6Q,EAAOqnR,GAExCA,EAASjN,QAAQthR,QAE5B,EACI4uR,GAAyBxxR,EAAMkxR,GAAmBvM,IAClD8M,GAAwBzxR,EAAMkxR,GAAmBtM,IAOjD8M,GAAuB,SAAUv6M,EAAQ0/H,EAASrsE,EAAOmnJ,GAC3D,IAAI92O,EAAMs8B,EAAOv8B,UAAUmiC,SACvBl6C,EAAYg0K,EAAU,GAAK,EAC/B,SAAI6a,OAT2B,SAAU7a,EAASh8J,EAAK2vF,GACvD,IAAIs+F,EAAWxe,GAAcG,eAAe5vK,GAC5C,OAAO46K,IAAY5e,EAASrsE,GAAOjnI,QAAO,SAAUmoC,GAClD,OAAOA,EAAI8+K,QAAQse,EACrB,GACF,CAImC8oD,CAA2B/6E,EAASh8J,EAAK2vF,MACxEk0I,GAAU77O,EAAWs0C,EAAQqzD,GAAQqsE,GAAS,GAAOxzM,MAAK,SAAUwmN,GAClE29D,GAAYrwM,EAAQ0yI,EACtB,KACO,EAGX,EAeI2zB,GAAW,SAAUvrE,EAAUvmI,GACjC,IAAIhiC,EAAOgiC,EAAIquC,QAAQk4F,GACvB,OAAO+jB,GAAYtsL,IAA2B,UAAlBA,EAAK0B,SAAuBpH,EAASJ,KAAK8F,GAAQ1F,EAAS1B,MACzF,EAsBIw4O,GAAY,SAAU3jK,EAAQq3M,EAAM9iP,GACtC,IAAI8+F,EAAegzG,KAAPgxC,EAAsB9iP,GAC9ByT,GAAgB,IAATqvO,EACXhkJ,EAAM/nI,MAAK,WACT,OAAO+kR,GAAYrwM,EAAQzrC,EAAI6+K,UACjC,IAAG,SAAU//E,GACX,OAAOirF,GAAWt2K,EAAMg4B,EAAO7hE,WAAW7R,QAAO,SAAUg1O,GACzD,OAAOA,EAAQjuB,QAAQ9+K,EACzB,IAAGjpC,MAAK,WACN,OAAO+kR,GAAYrwM,EAAQzrC,EAAI6+K,UACjC,IAAG,SAAUhrM,GACX,OAhCY,SAAUivQ,EAAMr3M,EAAQqzD,EAAO9+F,GAC/C,IAAI4/M,EAAkBv9B,GAAmB52I,GACrCm0K,EACFn0K,EAAO42E,YAAYC,UAAS,WAC1B,IAAI7iJ,EAAUxB,GAAaW,QAAQghP,GACnC51O,GAASvK,EAAS6iN,GAAwB72I,IAC1Cn7D,GAAS7Q,EAASxB,GAAaW,QAAQ,OACnCkkR,EACFh5F,GAAQ7rL,GAAaF,QAAQ+gI,GAAQr/H,GAErCoqL,GAAS5rL,GAAaF,QAAQ+gI,GAAQr/H,GAExC,IAAI0vC,EAAMs8B,EAAO7tE,IAAImyE,YACrB5gC,EAAIa,SAASvwC,EAAQ7B,IAAK,GAC1BuxC,EAAIgB,OAAO1wC,EAAQ7B,IAAK,GACxBk+Q,GAAYrwM,EAAQt8B,EACtB,IAEA2sO,GAAYrwM,EAAQzrC,EAAI6+K,UAE5B,CAYasnE,CAAYrD,EAAMr3M,EAAQqzD,EAAO9+F,EAC1C,GACF,GACF,EACIomP,GAAqB,SAAU36M,EAAQq3M,EAAMhkJ,EAAOioC,GACtD,IAAI53H,EAAMs8B,EAAOv8B,UAAUmiC,SACvBrxC,EAAM4+K,GAAcG,eAAe5vK,GACnCnR,EAAOytC,EAAO7hE,UAClB,IAAKk5Q,GAAQgD,GAAuB/+G,EAAI/mI,GAAM,CAC5C,IAAIiB,EA3DsB,SAAUjD,EAAM8gG,EAAO7hI,GACnD,OAAOqoR,GAA+BxmJ,EAAO7hI,GAAOxF,SAAQ,WAC1D,OAAOxG,GAAKgM,EAAMk2C,kBAAkBv7C,MAAK,SAAUwnC,GACjD,OAAOw5O,GAAuCO,GAAkBn7O,EAAM4gL,GAAcrwK,OAAOuwF,IAAS1/F,EAAK5iC,KAC3G,GACF,IAAGrF,MAAMynN,GAAcrwK,OAAOuwF,GAChC,CAqDiBunJ,CAAwBroP,EAAM8gG,EAAO9+F,GAElD,OADAovM,GAAU3jK,EAAQq3M,EAAM7hP,IACjB,CACT,CAAO,GAAI6hP,GAAQiD,GAAsBh/G,EAAI/mI,GAAM,CAC7CiB,EAxDsB,SAAUjD,EAAM8gG,EAAO7hI,GACnD,OAAOsoR,GAA+BzmJ,EAAO7hI,GAAOxF,SAAQ,WAC1D,OAAOxG,GAAKgM,EAAMk2C,kBAAkBv7C,MAAK,SAAUwnC,GACjD,OAAOw5O,GAAuCQ,GAAkBp7O,EAAM4gL,GAAcpwK,MAAMswF,IAAS1/F,EAAK5iC,KAC1G,GACF,IAAGrF,MAAMynN,GAAcpwK,MAAMswF,GAC/B,CAkDiBwnJ,CAAwBtoP,EAAM8gG,EAAO9+F,GAElD,OADAovM,GAAU3jK,EAAQq3M,EAAM7hP,IACjB,CACT,CACE,OAAO,CAEX,EACI4vB,GAAS,SAAU4a,EAAQ0/H,EAASo7E,GACtC,OAAOjuR,EAAS/B,KAAKk1E,EAAO7tE,IAAI0xE,UAAU7D,EAAOv8B,UAAUm/B,UAAW,UAAUz2E,MAAK,SAAUmvK,GAC7F,OAAOzuK,EAAS/B,KAAKk1E,EAAO7tE,IAAI0xE,UAAUy3F,EAAI,UAAUrvK,KAAI,SAAUonI,GACpE,OAAOynJ,EAAM96M,EAAQ0/H,EAASrsE,EAAOioC,EACvC,GACF,IAAG5vK,OAAM,EACX,EACIqvR,GAAQ,SAAU/6M,EAAQ0/H,GAC5B,OAAOt6I,GAAO4a,EAAQ0/H,EAAS66E,GACjC,EACIS,GAAQ,SAAUh7M,EAAQ0/H,GAC5B,OAAOt6I,GAAO4a,EAAQ0/H,EAASi7E,GACjC,EAqFIv4G,GAAU,SAAUpiG,EAAQmV,GAC9BnV,EAAOloC,GAAG,WAAW,SAAUq/D,IACI,IAA7BA,EAAI6mE,sBArFmB,SAAUh+F,EAAQmV,EAAOgiB,GACtD,IAAIz9F,EAAKzE,KAASyE,GAClB2pD,GAAQ,CACN,CACE6/D,QAASykG,GAAG/oK,MACZtlC,OAAQA,GAAOi+P,GAASv3M,GAAQ,IAElC,CACEkjD,QAASykG,GAAGjpK,KACZplC,OAAQA,GAAOi+P,GAASv3M,GAAQ,IAElC,CACEkjD,QAASykG,GAAGhpK,GACZrlC,OAAQA,GAAOm+P,GAASz3M,GAAQ,IAElC,CACEkjD,QAASykG,GAAG9oK,KACZvlC,OAAQA,GAAOm+P,GAASz3M,GAAQ,IAElC,CACEkjD,QAASykG,GAAG/oK,MACZtlC,OAAQA,GAAOyhQ,GAAO/6M,GAAQ,IAEhC,CACEkjD,QAASykG,GAAGjpK,KACZplC,OAAQA,GAAOyhQ,GAAO/6M,GAAQ,IAEhC,CACEkjD,QAASykG,GAAGhpK,GACZrlC,OAAQA,GAAO0hQ,GAAOh7M,GAAQ,IAEhC,CACEkjD,QAASykG,GAAG9oK,KACZvlC,OAAQA,GAAO0hQ,GAAOh7M,GAAQ,IAEhC,CACEkjD,QAASykG,GAAG/oK,MACZtlC,OAAQA,GAAOq/P,GAAS34M,GAAQ,IAElC,CACEkjD,QAASykG,GAAGjpK,KACZplC,OAAQA,GAAOq/P,GAAS34M,GAAQ,IAElC,CACEkjD,QAASykG,GAAGhpK,GACZrlC,OAAQA,GAAOs/P,GAAS54M,GAAQ,IAElC,CACEkjD,QAASykG,GAAG9oK,KACZvlC,OAAQA,GAAOs/P,GAAS54M,GAAQ,IAElC,CACEkjD,QAASykG,GAAG/oK,MACZtlC,OAAQA,GAAOw4P,GAAQ9xM,EAAQmV,GAAO,IAExC,CACE+tC,QAASykG,GAAGjpK,KACZplC,OAAQA,GAAOw4P,GAAQ9xM,EAAQmV,GAAO,IAExC,CACE+tC,QAASykG,GAAG/oK,MACZa,SAAU/lD,EAAGpB,QACb6vN,OAAQzuN,EAAGpB,QACXghB,OAAQA,GAAOq5P,GAAc3yM,EAAQmV,IAEvC,CACE+tC,QAASykG,GAAGjpK,KACZe,SAAU/lD,EAAGpB,QACb6vN,OAAQzuN,EAAGpB,QACXghB,OAAQA,GAAOs5P,GAAc5yM,EAAQmV,IAEvC,CACE+tC,QAASykG,GAAGhpK,GACZrlC,OAAQA,GAAOi/P,GAASv4M,GAAQ,IAElC,CACEkjD,QAASykG,GAAG9oK,KACZvlC,OAAQA,GAAOi/P,GAASv4M,GAAQ,KAEjCm3B,GAAKjrG,MAAK,SAAUkc,GACrB+uF,EAAI7zF,gBACN,GACF,CAIM23Q,CAAyBj7M,EAAQmV,EAAOgiB,EAE5C,GACF,EAgGIymC,GAAU,SAAU59D,EAAQmV,GAC9BnV,EAAOloC,GAAG,WAAW,SAAUq/D,IACI,IAA7BA,EAAI6mE,sBAhGmB,SAAUh+F,EAAQmV,EAAOgiB,GACtD9zC,GAAQ,CACN,CACE6/D,QAASykG,GAAGtpK,UACZ/kC,OAAQA,GAAOm8P,GAAiBz1M,GAAQ,IAE1C,CACEkjD,QAASykG,GAAGtpK,UACZ/kC,OAAQA,GAAOuwP,GAAmB7pM,GAAQ,IAE5C,CACEkjD,QAASykG,GAAGC,OACZtuM,OAAQA,GAAOuwP,GAAmB7pM,GAAQ,IAE5C,CACEkjD,QAASykG,GAAGtpK,UACZ/kC,OAAQA,GAAO+uP,GAAmBroM,GAAQ,IAE5C,CACEkjD,QAASykG,GAAGC,OACZtuM,OAAQA,GAAO+uP,GAAmBroM,GAAQ,IAE5C,CACEkjD,QAASykG,GAAGtpK,UACZ/kC,OAAQA,GAAOm6P,GAAmBzzM,EAAQmV,GAAO,IAEnD,CACE+tC,QAASykG,GAAGC,OACZtuM,OAAQA,GAAOm6P,GAAmBzzM,EAAQmV,GAAO,IAEnD,CACE+tC,QAASykG,GAAGtpK,UACZ/kC,OAAQA,GAAO0wN,GAAmBhqK,GAAQ,IAE5C,CACEkjD,QAASykG,GAAGC,OACZtuM,OAAQA,GAAO0wN,GAAmBhqK,GAAQ,IAE5C,CACEkjD,QAASykG,GAAGtpK,UACZ/kC,OAAQA,GAAOwwP,GAAmB9pM,GAAQ,IAE5C,CACEkjD,QAASykG,GAAGC,OACZtuM,OAAQA,GAAOwwP,GAAmB9pM,GAAQ,IAE5C,CACEkjD,QAASykG,GAAGtpK,UACZ/kC,OAAQA,GAAOg7P,GAAmBt0M,GAAQ,IAE5C,CACEkjD,QAASykG,GAAGC,OACZtuM,OAAQA,GAAOg7P,GAAmBt0M,GAAQ,IAE5C,CACEkjD,QAASykG,GAAGtpK,UACZ/kC,OAAQA,GAAO6tP,GAAmBnnM,GAAQ,IAE5C,CACEkjD,QAASykG,GAAGC,OACZtuM,OAAQA,GAAO6tP,GAAmBnnM,GAAQ,IAE5C,CACEkjD,QAASykG,GAAGtpK,UACZ/kC,OAAQA,GAAOotP,GAAmB1mM,GAAQ,IAE5C,CACEkjD,QAASykG,GAAGC,OACZtuM,OAAQA,GAAOotP,GAAmB1mM,GAAQ,IAE5C,CACEkjD,QAASykG,GAAGtpK,UACZ/kC,OAAQA,GAAO86P,GAAmBp0M,GAAQ,IAE5C,CACEkjD,QAASykG,GAAGC,OACZtuM,OAAQA,GAAO86P,GAAmBp0M,GAAQ,KAE3Cm3B,GAAKjrG,MAAK,SAAUkc,GACrB+uF,EAAI7zF,gBACN,GACF,CAgBM43Q,CAAyBl7M,EAAQmV,EAAOgiB,EAE5C,IACAn3B,EAAOloC,GAAG,SAAS,SAAUq/D,IACM,IAA7BA,EAAI6mE,sBAnBe,SAAUh+F,EAAQm3B,GAC3C9zC,GAAQ,CACN,CACE6/D,QAASykG,GAAGtpK,UACZ/kC,OAAQA,GAAOswP,GAAkB5pM,IAEnC,CACEkjD,QAASykG,GAAGC,OACZtuM,OAAQA,GAAOswP,GAAkB5pM,KAElCm3B,EACL,CASMgkL,CAAqBn7M,EAAQm3B,EAEjC,GACF,EAUIikL,GAAsB,SAAUp7M,EAAQztC,GAC1C,IAAIhgC,EAAMyxN,EAAWzxL,EACjBpgC,EAAM6tE,EAAO7tE,IACb+7L,EAAoCluH,EAAO3xD,OAAOgkL,oCACtD,GAAK9/J,EAAL,CAGA,GAAI,eAAej9B,KAAKi9B,EAAKt+B,UAAW,CACtC,IAAI0Q,EAhB4B,SAAUpS,GAC5C,KAAOA,GAAM,CACX,GAAsB,IAAlBA,EAAK6B,UAAoC,IAAlB7B,EAAK6B,UAAkB7B,EAAKsmB,MAAQ,WAAWvjB,KAAK/C,EAAKsmB,MAClF,OAAOtmB,EAETA,EAAOA,EAAKgS,WACd,CACF,CASqB82Q,CAA8B9oP,EAAK5tB,YAChDA,GAAc,eAAerP,KAAKqP,EAAW1Q,WAC/Cs+B,EAAK7sC,aAAayM,EAAI+L,IAAI3K,eAAeuyL,IAAOvzJ,EAAK5tB,WAEzD,CACA,IAAI++B,EAAMvxC,EAAImyE,YAEd,GADA/xC,EAAK0wC,YACD1wC,EAAKx/B,gBAAiB,CAExB,IADA,IAAIk2L,EAAS,IAAIpE,GAActyJ,EAAMA,GAC9BhgC,EAAO02L,EAAOjyL,WAAW,CAC9B,GAAIuoL,GAAShtL,GAAO,CAClBmxC,EAAIa,SAAShyC,EAAM,GACnBmxC,EAAIgB,OAAOnyC,EAAM,GACjB,KACF,CACA,GAAI27L,EAAkC37L,EAAK0B,SAASC,eAAgB,CAClEwvC,EAAIY,eAAe/xC,GACnBmxC,EAAIe,aAAalyC,GACjB,KACF,CACAyxN,EAAWzxN,EACXA,EAAO02L,EAAOttJ,MAChB,CACKppC,IACHmxC,EAAIa,SAASy/K,EAAU,GACvBtgL,EAAIgB,OAAOs/K,EAAU,GAEzB,MACMtkC,GAAOntJ,GACLA,EAAKhuB,aAAepS,EAAIowE,QAAQhwC,EAAKhuB,cACvCm/B,EAAIY,eAAe/R,GACnBmR,EAAIe,aAAalS,KAEjBmR,EAAIc,cAAcjS,GAClBmR,EAAIiB,YAAYpS,KAGlBmR,EAAIa,SAAShS,EAAM,GACnBmR,EAAIgB,OAAOnS,EAAM,IAGrBytC,EAAOv8B,UAAUyuH,OAAOxuH,GACxB+rL,GAAoBzvJ,EAAQt8B,EA5C5B,CA6CF,EAaI43O,GAAiB,SAAUt7M,GAC7B,OAAOnzE,EAAS/B,KAAKk1E,EAAO7tE,IAAI0xE,UAAU7D,EAAOv8B,UAAUQ,UAAS,GAAO+7B,EAAO7tE,IAAIowE,SACxF,EAmBIg5M,GAAY,SAAUv4M,EAAKo0K,GAC7B,OAAOp0K,GAAOA,EAAIvmE,YAAcumE,EAAIvmE,WAAWxI,WAAamjP,CAC9D,EACIokC,GAAc,SAAUx4M,GAC1B,OAAOA,GAAO,eAAe1tE,KAAK0tE,EAAI/uE,SACxC,EAIIwnR,GAAoB,SAAUC,GAChC,IAAIC,EAAuBD,EAAej/Q,WAC1C,MAAI,eAAenH,KAAKqmR,EAAqB1nR,UACpC0nR,EAEFD,CACT,EACIE,GAAkB,SAAUF,EAAgB73C,EAAal9K,GAE3D,IADA,IAAIp0D,EAAOmpR,EAAe/0N,EAAQ,aAAe,aAC1Cp0D,IACDssL,GAAYtsL,IAGhBA,EAAOA,EAAKo0D,EAAQ,cAAgB,mBAEtC,OAAOp0D,IAASsxO,CAClB,EACIg4C,GAAW,SAAU77M,EAAQ87M,EAAgBJ,EAAgB73C,EAAak4C,GAC5E,IAAI5pR,EAAM6tE,EAAO7tE,IACbuxC,EAAMs8B,EAAOv8B,UAAUmiC,SAC3B,GAAI81M,IAAmB17M,EAAO7hE,UAA9B,CAvBiB,IAAU6kE,EACpBw4M,GADoBx4M,EA0BV04M,IAzBUF,GAAYx4M,EAAIvmE,cA0BzCs/Q,EAAe,MAEjB,IAAIhF,EAAWgF,EAAeD,EAAeC,GAAgB5pR,EAAIqmI,OAAO,MACxE,GAAIojJ,GAAgBF,EAAgB73C,GAAa,IAAS+3C,GAAgBF,EAAgB73C,GAAa,GACrG,GAAI03C,GAAUG,EAAgB,MAAO,CACnC,IAAIC,EAAuBF,GAAkBC,GAC7CvpR,EAAI42M,YAAYguE,EAAU4E,IA3Cb,SAAU34M,GAC3B,IAAI1pE,EACJ,OAAkC,QAAzBA,EAAK0pE,EAAIvmE,kBAA+B,IAAPnD,OAAgB,EAASA,EAAGqL,cAAgBq+D,CACxF,CAyCUg5M,CAAaN,GAGfvpR,EAAI2wB,OAAO44P,GAFXvpR,EAAI2wB,OAAO64P,EAIf,MACExpR,EAAIJ,QAAQglR,EAAU2E,QAEnB,GAAIE,GAAgBF,EAAgB73C,GAAa,GAClD03C,GAAUG,EAAgB,OAC5BvpR,EAAI42M,YAAYguE,EAAU0E,GAAkBC,IAC5C3E,EAASnyQ,YAAYzS,EAAI+L,IAAI3K,eAAe,MAC5CwjR,EAASnyQ,YAAY82Q,IAErBA,EAAej/Q,WAAW/W,aAAaqxR,EAAU2E,GAEnDvpR,EAAI2wB,OAAO+gN,QACN,GAAI+3C,GAAgBF,EAAgB73C,GAAa,GACtD1xO,EAAI42M,YAAYguE,EAAU0E,GAAkBC,IAC5CvpR,EAAI2wB,OAAO+gN,OACN,CACL63C,EAAiBD,GAAkBC,GACnC,IAAIO,EAASv4O,EAAIwgC,aACjB+3M,EAAOz3O,cAAcq/L,GACrBo4C,EAAOt3O,YAAY+2O,GACnB,IAAI1gQ,EAAWihQ,EAAOn5M,kBACD,OAAjBi5M,GAzEY,SAAU/4M,EAAKp8E,GACjC,OAAOo8E,EAAIr+D,YAAcq+D,EAAIr+D,WAAW1Q,WAAarN,CACvD,CAuEiCs1R,CAAclhQ,EAAU,OACnD+7P,EAAW/7P,EAASrW,WACpBxS,EAAI42M,YAAY/tL,EAAU0gQ,KAE1BvpR,EAAI42M,YAAY/tL,EAAU0gQ,GAC1BvpR,EAAI42M,YAAYguE,EAAU2E,IAE5BvpR,EAAI2wB,OAAO+gN,EACb,CACAu3C,GAAoBp7M,EAAQ+2M,EA5C5B,CA6CF,EAQIoF,GAAgB,SAAUhqR,EAAK6wE,GACjC,OAAOA,GAAwB,MAAjBA,EAAI/uE,UAAoB9B,EAAIo3M,QAAQvmI,EACpD,EAII8kK,GAAa,SAAU9kK,GACzBA,EAAIlwE,UAAY,yBAClB,EACIspR,GAA0B,SAAU3gQ,EAAWxnB,GACjD,OAAOwnB,EAAUxnB,WAAaA,GAAYwnB,EAAUoiK,iBAAmBpiK,EAAUoiK,gBAAgB5pL,WAAaA,CAChH,EACIooR,GAAgB,SAAUlqR,EAAKI,GACjC,OAAOA,GAAQJ,EAAIowE,QAAQhwE,KAAU,yBAAyB+C,KAAK/C,EAAK0B,YAAc,qBAAqBqB,KAAK/C,EAAKH,MAAMyV,WAA8C,SAAjC1V,EAAIqwE,mBAAmBjwE,EACjK,EA4BI+pR,GAAsB,SAAU9qR,EAAOiqB,EAAWze,GACpD,OAA4B,IAAxBuiL,GAAS9jK,GACJze,EACExL,EACS,IAAXwL,GAAgBye,EAAU5C,KAAKmrD,OAAOhnE,EAAS,KAAO+oL,GAAS,EAAI/oL,EAEnEA,IAAWye,EAAU5C,KAAK7wB,OAAS,GAAKyzB,EAAU5C,KAAKmrD,OAAOhnE,KAAY+oL,GAAStqK,EAAU5C,KAAK7wB,OAASgV,CAEtH,EAeIu/Q,GAAkB,SAAUpqR,EAAKI,GACnC,IACIiK,EAAQggR,EADRjqP,EAAOpgC,EAAI2xE,UAGf,IADAtnE,EAASjK,EACFiK,IAAW+1B,GAA2C,UAAnCpgC,EAAIqwE,mBAAmBhmE,IACR,SAAnCrK,EAAIqwE,mBAAmBhmE,KACzBggR,EAAehgR,GAEjBA,EAASA,EAAOC,WAElB,OAAOD,IAAW+1B,EAAOiqP,EAAejqP,CAC1C,EAgCIkqP,GAAsB,SAAUz8M,EAAQztE,GAC1C,IAAIs8O,EAAsBj4B,GAAmB52I,GACzC6uK,GAAuBA,EAAoB36O,gBAAkB3B,EAAK8sL,QAAQnrL,eAjC1D,SAAU8rE,EAAQztE,EAAMmqR,GAC5C,IAAIvqR,EAAM6tE,EAAO7tE,IACjBtF,EAAS/B,KAAK4xR,EAAqBtqR,OAAOnG,IAAIkG,EAAImlI,YAAYprI,MAAK,SAAUywR,GAC3E,IAAIC,EAAgB98Q,GAAUtN,GAAaF,QAAQC,IAC/CsqR,EAAY/yR,GAASA,GAAS,CAAC,EAAG8yR,GAAgBD,GACtDxqR,EAAI81M,UAAU11M,EAAMsqR,EACtB,IACA,IAAIC,EAAiBjwR,EAAS/B,KAAK4xR,EAAqB55E,OAAO72M,KAAI,SAAU8wR,GAC3E,OAAOA,EAAYv+P,MAAM,MAC3B,IACIw+P,EAAoBnwR,EAAS/B,KAAKyH,EAAKu9H,WAAW7jI,KAAI,SAAUgxR,GAClE,OAAOnjG,EAASmjG,EAAez+P,MAAM,QAAQ,SAAU8D,GACrD,MAAiB,KAAVA,CACT,GACF,IACArxB,GAAM6rR,EAAgBE,GAAmB,SAAUD,EAAaE,GAC9D,IAAIC,EAAkBpjG,EAASmjG,GAAgB,SAAU36P,GACvD,OAAQq3J,EAAWojG,EAAaz6P,EAClC,IACI66P,EAAavyR,GAAcA,GAAc,GAAImyR,GAAa,GAAOG,GAAiB,GACtF/qR,EAAI4zM,UAAUxzM,EAAM,QAAS4qR,EAAW/vQ,KAAK,KAC/C,IACA,IAAIgwQ,EAAe,CACjB,QACA,SAEEC,EAAiBljG,GAASuiG,GAAsB,SAAUt0Q,EAAG5J,GAC/D,OAAQm7K,EAAWyjG,EAAc5+Q,EACnC,IACArM,EAAIs0M,WAAWl0M,EAAM8qR,EACvB,CAKI1xL,CAAgB3rB,EAAQztE,EADGskN,GAAwB72I,GAGvD,EAoDIs9M,GAAW,SAAUt9M,EAAQm3B,GAC/B,IAAI8kL,EAAQxgQ,EAAWze,EAAQ6mO,EAC3BkzC,EAAU/7P,EAAU0gQ,EAAgB6B,EAAiBxB,EAAcyB,EACnErrR,EAAM6tE,EAAO7tE,IACbkc,EAAS2xD,EAAO3xD,OAAQ4/K,EAAsB5/K,EAAO+jL,sBACrD1uJ,EAAMs8B,EAAOv8B,UAAUmiC,SACvBk2M,EAAiB,SAAUl1R,GAC7B,IAAsBqgI,EAAO0nI,EAAY6b,EAArCj4Q,EAAOkpB,EACPyxN,EAAqB7+N,EAAO4jL,wBAOhC,GADAu4E,EAJEvjJ,EADErgI,GAA4B,UAApB22R,GAAmD,OAApBA,EACjCprR,EAAIqmI,OAAO5xI,GAAQm1R,GAEnBl4C,EAAYvoN,WAAU,IAGC,IA7red,SAAU0kD,GAC/B,OAAOA,EAAO8O,SAAS,eAAe,EACxC,CA2reQ2uM,CAAiBz9M,GACnB7tE,EAAI4zM,UAAU9+E,EAAO,QAAS,MAC9B90H,EAAI4zM,UAAU9+E,EAAO,QAAS,WAE9B,GACE,GAAIimH,EAAmB36O,EAAK0B,UAAW,CACrC,GAAI4qN,GAAYtsN,IAAS+tN,GAAiB/tN,GACxC,SAEFo8P,EAAap8P,EAAK+oB,WAAU,GAC5BnpB,EAAI4zM,UAAU4oD,EAAY,KAAM,IAC5B1nI,EAAMl0H,iBACR47P,EAAW/pP,YAAYqiH,EAAMtiH,YAC7BsiH,EAAMriH,YAAY+pP,KAElB6b,EAAY7b,EACZ1nI,EAAMriH,YAAY+pP,GAEtB,SACQp8P,EAAOA,EAAKkK,aAAelK,IAASiqR,GAIhD,OAFAC,GAAoBz8M,EAAQinD,GAC5B6gH,GAAW0iC,GACJvjJ,CACT,EACIy2J,EAA6B,SAAUlsR,GACzC,IAAIe,EAAM3L,EACN+2R,EAAmBrB,GAAoB9qR,EAAOiqB,EAAWze,GAC7D,GAAIuiL,GAAS9jK,KAAejqB,EAAQmsR,EAAmB,EAAIA,EAAmBliQ,EAAUqqB,UAAU99C,QAChG,OAAO,EAET,GAAIyzB,EAAUhf,aAAeonO,GAAe25C,IAA+BhsR,EACzE,OAAO,EAET,GAAIA,GAASqtL,GAAYpjK,IAAcA,IAAcooN,EAAYl/N,WAC/D,OAAO,EAET,GAAIy3Q,GAAwB3gQ,EAAW,UAAY2gQ,GAAwB3gQ,EAAW,MACpF,OAAO+hQ,IAA+BhsR,IAAUgsR,GAA8BhsR,EAEhF,IAAIy3L,EAAS,IAAIpE,GAAcppK,EAAWooN,GAQ1C,IAPItkD,GAAS9jK,KACPjqB,GAA8B,IAArBmsR,EACX10F,EAAOtjD,OACGn0I,GAASmsR,IAAqBliQ,EAAUqqB,UAAU99C,QAC5DihM,EAAOttJ,QAGJppC,EAAO02L,EAAOjyL,WAAW,CAC9B,GAAI6nL,GAAYtsL,IACd,IAAKA,EAAKmM,aAAa,oBACrB9X,EAAO2L,EAAK0B,SAASC,cACjB+5L,EAAoBrnM,IAAkB,OAATA,GAC/B,OAAO,OAGN,GAAI24L,GAAShtL,KAAU+1L,GAAiB/1L,EAAKuzC,WAClD,OAAO,EAELt0C,EACFy3L,EAAOtjD,OAEPsjD,EAAOttJ,MAEX,CACA,OAAO,CACT,EACIiiP,EAAsB,WAEtB7G,EADE,wBAAwBzhR,KAAKioR,IAA2C,WAAvBM,EACxC/B,EAAeC,GAEfD,IAjweoB,SAAU97M,GAC7C,OAAOA,EAAO8O,SAAS,gCAAgC,EACzD,CAiweQgvM,CAA+B99M,IAAWq8M,GAAclqR,EAAKupR,IAAmBvpR,EAAIo3M,QAAQs6B,GAC9FkzC,EAAW5kR,EAAIqsB,MAAMk9P,EAAgB73C,GAErC1xO,EAAI42M,YAAYguE,EAAUlzC,GAE5Bu3C,GAAoBp7M,EAAQ+2M,EAC9B,EACAtpD,GAAYt7N,EAAKuxC,GAAKx3C,MAAK,SAAUwhO,GACnChqL,EAAIa,SAASmpL,EAAQ/pL,eAAgB+pL,EAAQzoL,aAC7CvB,EAAIgB,OAAOgpL,EAAQxoL,aAAcwoL,EAAQvoL,UAC3C,IACA1pB,EAAYioB,EAAIC,eAChB3mC,EAAS0mC,EAAIuB,YACb82O,EAAenlE,GAAmB52I,GAClC,IAAIzgB,KAAc43C,IAAOA,EAAI53C,UACzBE,KAAa03C,IAAOA,EAAI13C,SACxBo/H,GAAYpjK,IAAcA,EAAU1oB,kBACtCyqR,EAA6BxgR,EAASye,EAAUzoB,WAAWhL,OAAS,EACpEyzB,EAAYA,EAAUzoB,WAAWqT,KAAK8mB,IAAInwB,EAAQye,EAAUzoB,WAAWhL,OAAS,KAAOyzB,EAErFze,EADEwgR,GAA8Bj+F,GAAS9jK,GAChCA,EAAUqqB,UAAU99C,OAEpB,GAGb,IAAIw0R,EAAeD,GAAgBpqR,EAAKspB,GACxC,GAAK+gQ,EAAL,EAGIT,IAAiBx8N,IAAaw8N,GAAgBx8N,KAChD9jC,EAzKoC,SAAUukD,EAAQ+7M,EAAcr4O,EAAKjoB,EAAWze,GACtF,IAAI+5Q,EAAUlzC,EAAah7E,EAAWt2J,EAAMopC,EAAMuwN,EAC9CrlE,EAAYk1F,GAAgB,IAC5B5pR,EAAM6tE,EAAO7tE,IAAKqqR,EAAeD,GAAgBpqR,EAAKspB,GAE1D,KADAooN,EAAc1xO,EAAI0xE,UAAUpoD,EAAWtpB,EAAIowE,YACtB85M,GAAclqR,EAAK0xO,GAAc,CAOpD,GAJEqoB,GAFFroB,EAAcA,GAAe24C,KACTx8M,EAAO7hE,WAvHb,SAAU5L,GAC1B,OAAOA,GAAQ,oBAAoB+C,KAAK/C,EAAK0B,SAC/C,CAqH4C8pR,CAAYl6C,GAClCA,EAAY5vO,SAASC,cAErB2vO,EAAYpnO,WAAWxI,SAASC,eAE7C2vO,EAAY9wO,gBAMf,OALAgkR,EAAW5kR,EAAIqmI,OAAOquD,GACtB41F,GAAoBz8M,EAAQ+2M,GAC5BlzC,EAAYj/N,YAAYmyQ,GACxBrzO,EAAIa,SAASwyO,EAAU,GACvBrzO,EAAIgB,OAAOqyO,EAAU,GACdA,EAGT,IADAxkR,EAAOkpB,EACAlpB,EAAKkK,aAAeonO,GACzBtxO,EAAOA,EAAKkK,WAEd,KAAOlK,IAASJ,EAAIowE,QAAQhwE,IAC1Bs2J,EAAYt2J,EACZA,EAAOA,EAAKsrL,gBAEd,GAAIh1B,GAAa7oF,EAAO3xD,OAAOokL,aAAay5D,EAAerlE,EAAU3yL,eAAgB,CAKnF,IAJA6iR,EAAW5kR,EAAIqmI,OAAOquD,GACtB41F,GAAoBz8M,EAAQ+2M,GAC5BluH,EAAUpsJ,WAAW/W,aAAaqxR,EAAUluH,GAC5Ct2J,EAAOs2J,EACAt2J,IAASJ,EAAIowE,QAAQhwE,IAC1BopC,EAAOppC,EAAKgS,YACZwyQ,EAASnyQ,YAAYrS,GACrBA,EAAOopC,EAET+H,EAAIa,SAAS9oB,EAAWze,GACxB0mC,EAAIgB,OAAOjpB,EAAWze,EACxB,CACF,CACA,OAAOye,CACT,CA8HgBuiQ,CAAkCh+M,EAAQ+7M,EAAcr4O,EAAKjoB,EAAWze,IAEtF6mO,EAAc1xO,EAAI0xE,UAAUpoD,EAAWtpB,EAAIowE,SAC3Cm5M,EAAiB73C,EAAc1xO,EAAI0xE,UAAUggK,EAAYpnO,WAAYtK,EAAIowE,SAAW,KACpFg7M,EAAkB15C,EAAcA,EAAY5vO,SAASmjF,cAAgB,GACrE,IAAIymM,EAAqBnC,EAAiBA,EAAeznR,SAASmjF,cAAgB,GACvD,OAAvBymM,GAAgCp+N,IAClCokL,EAAc63C,EACdA,EAAiBA,EAAej/Q,WAChC8gR,EAAkBM,GAEhB,eAAevoR,KAAKioR,IAClBprR,EAAIo3M,QAAQs6B,GACdg4C,GAAS77M,EAAQ87M,EAAgBJ,EAAgB73C,EAAak4C,GAI9DA,GAAgBl4C,IAAgB7jK,EAAO7hE,YAG3C49Q,EAAeA,GAAgB,IAC3B31F,GAAwBy9C,IAC1BkzC,EAAW7vF,GAAwB28C,GAC/B1xO,EAAIo3M,QAAQs6B,IACdiE,GAAWjE,GAEb44C,GAAoBz8M,EAAQ+2M,GAC5BqE,GAAoBp7M,EAAQ+2M,IACnB2G,IACTE,IACSF,GAA2B,IACpC3G,EAAWlzC,EAAYpnO,WAAW/W,aAAao2R,IAAkBj4C,GACjEu3C,GAAoBp7M,EAAQo8M,GAAwBv4C,EAAa,MAAQkzC,EAAWlzC,KAEpFo4C,EA3QqB,SAAUv4O,GACjC,IAAIgvK,EAAShvK,EAAIwgC,aAGjB,OAFAwuI,EAAOnuK,SAASb,EAAIC,eAAgB24O,IAAoB,EAAM54O,EAAIC,eAAgBD,EAAIuB,cACtFytK,EAAOhuK,OAAOhB,EAAIwB,aAAco3O,IAAoB,EAAO54O,EAAIwB,aAAcxB,EAAIyB,YAC1EutK,CACT,CAsQaurE,CAAmBv6O,GAAKwgC,aACjC+3M,EAAOt3O,YAAYk/L,GArUR,SAAU7oN,GACvB6+J,EAAOltG,GAAcn6E,GAAaF,QAAQ0oB,GAAWyiK,KAAW,SAAUnqL,GACxE,IAAIkrO,EAAUlrO,EAAKnB,IACnBqsO,EAAQ14L,UAAYmgJ,GAAOu4C,EAAQ14L,UACrC,GACF,CAkUIo4O,CADAljQ,EAAWihQ,EAAOn5M,mBAvQM,SAAUvwE,GACpC,GACMgtL,GAAShtL,KACXA,EAAKuzC,UAAYvzC,EAAKuzC,UAAU/zC,QAAQ,WAAY,KAEtDQ,EAAOA,EAAKoS,iBACLpS,EACX,CAkQI4rR,CAAsBnjQ,GACtB+7P,EAAW/7P,EAASrW,WACpBxS,EAAI42M,YAAY/tL,EAAU6oN,GArTY,SAAU1xO,EAAK87L,EAAqBhnE,GAC5E,IAEIn/H,EAFAyK,EAAO00H,EACPm3J,EAAc,GAElB,GAAK7rR,EAAL,CAGA,KAAOA,EAAOA,EAAKoS,YAAY,CAC7B,GAAIxS,EAAIowE,QAAQhwE,GACd,OAEEssL,GAAYtsL,KAAU07L,EAAoB17L,EAAK0B,SAASC,gBAC1DkqR,EAAYt5R,KAAKyN,EAErB,CAEA,IADAzK,EAAIs2R,EAAYp2R,OACTF,QACLyK,EAAO6rR,EAAYt2R,IACTiL,iBAAmBR,EAAKoS,aAAepS,EAAKyrL,WAA2C,KAA9BzrL,EAAKoS,WAAWmhC,WAG7Eq2O,GAAchqR,EAAKI,KAFvBJ,EAAI2wB,OAAOvwB,EAbf,CAoBF,CA4RI8rR,CAAoClsR,EAAK87L,EAAqB8oF,GAtKvC,SAAU5kR,EAAK80H,GACxCA,EAAMhkD,YACN,IAAI+6G,EAAY/2D,EAAM+2D,UACjBA,IAAa,mBAAmB1oL,KAAKnD,EAAI+8E,SAAS8uG,EAAW,SAAS,KACzE7rL,EAAIlM,IAAIghI,EAAO,KAEnB,CAiKIq3J,CAAqBnsR,EAAK0xO,GACtB1xO,EAAIo3M,QAAQs6B,IACdiE,GAAWjE,GAEbkzC,EAAS9zM,YACL9wE,EAAIo3M,QAAQwtE,IACd5kR,EAAI2wB,OAAOi0P,GACX6G,MAEAnB,GAAoBz8M,EAAQ+2M,GAC5BqE,GAAoBp7M,EAAQ+2M,KAGhC5kR,EAAI4zM,UAAUgxE,EAAU,KAAM,IAC9B/2M,EAAOsZ,KAAK,WAAY,CAAEy9L,SAAUA,IA1DpC,CA2DF,EAYIwH,GAAoB,SAAUv+M,EAAQw+M,EAAOC,GAC/C,IAAI/6O,EAAMs8B,EAAO7tE,IAAImyE,YAChBm6M,GAIH/6O,EAAIY,eAAek6O,GACnB96O,EAAIe,aAAa+5O,KAJjB96O,EAAIc,cAAcg6O,GAClB96O,EAAIiB,YAAY65O,IAKlBx+M,EAAOv8B,UAAUyuH,OAAOxuH,GACxB+rL,GAAoBzvJ,EAAQt8B,EAC9B,EACIg7O,GAAkB,SAAU1+M,EAAQm3B,GACtC,IAGIqnL,EACAC,EAJAh7O,EAAYu8B,EAAOv8B,UACnBtxC,EAAM6tE,EAAO7tE,IACbuxC,EAAMD,EAAUmiC,SAGpB6nJ,GAAYt7N,EAAKuxC,GAAKx3C,MAAK,SAAUwhO,GACnChqL,EAAIa,SAASmpL,EAAQ/pL,eAAgB+pL,EAAQzoL,aAC7CvB,EAAIgB,OAAOgpL,EAAQxoL,aAAcwoL,EAAQvoL,UAC3C,IACA,IAAInoC,EAAS0mC,EAAIuB,YACbxpB,EAAYioB,EAAIC,eACpB,GAA2B,IAAvBloB,EAAUrnB,UAAkBqnB,EAAU1oB,gBAAiB,CACzD,IAAIyqR,EAA6BxgR,EAASye,EAAUzoB,WAAWhL,OAAS,EACxEyzB,EAAYA,EAAUzoB,WAAWqT,KAAK8mB,IAAInwB,EAAQye,EAAUzoB,WAAWhL,OAAS,KAAOyzB,EAErFze,EADEwgR,GAAqD,IAAvB/hQ,EAAUrnB,SACjCqnB,EAAUqqB,UAAU99C,OAEpB,CAEb,CACA,IAAI67O,EAAc1xO,EAAI0xE,UAAUpoD,EAAWtpB,EAAIowE,SAC3Cm5M,EAAiB73C,EAAc1xO,EAAI0xE,UAAUggK,EAAYpnO,WAAYtK,EAAIowE,SAAW,KACpFs7M,EAAqBnC,EAAiBA,EAAeznR,SAASmjF,cAAgB,GAC9EunM,KAAkBxnL,IAAOA,EAAI13C,SACN,OAAvBo+N,GAAgCc,IAClC96C,EAAc63C,GAEZjgQ,GAAoC,IAAvBA,EAAUrnB,UAAkB4I,GAAUye,EAAUqqB,UAAU99C,SAlDnD,SAAUqmB,EAAQoN,EAAWooN,GAIrD,IAHA,IACItxO,EADA02L,EAAS,IAAIpE,GAAcppK,EAAWooN,GAEtC51C,EAAsB5/K,EAAO+jL,sBAC1B7/L,EAAO02L,EAAOttJ,QACnB,GAAIsyJ,EAAoB17L,EAAK0B,SAASC,gBAAkB3B,EAAKvK,OAAS,EACpE,OAAO,CAGb,CA0CS42R,CAAoB5+M,EAAO3xD,OAAQoN,EAAWooN,KACjD26C,EAAQrsR,EAAIqmI,OAAO,MACnB90F,EAAIq/B,WAAWy7M,GACf96O,EAAIc,cAAcg6O,GAClB96O,EAAIiB,YAAY65O,GAChBC,GAAU,IAGdD,EAAQrsR,EAAIqmI,OAAO,MACnBs7E,GAAgB3hN,EAAKuxC,EAAK86O,GAC1BD,GAAkBv+M,EAAQw+M,EAAOC,GACjCz+M,EAAO42E,YAAY3wJ,KACrB,EACI44R,GAAiB,SAAU7+M,EAAQwQ,GACrC,IAAIs2G,EAAKt0L,GAAaW,QAAQ,MAC9BirL,GAAS5rL,GAAaF,QAAQk+E,GAASs2G,GACvC9mH,EAAO42E,YAAY3wJ,KACrB,EACI64R,GAAgB,SAAU9+M,EAAQwQ,GAC/BuuM,GAAW/+M,EAAO7hE,UAAWqyE,IAChC6tG,GAAQ7rL,GAAaF,QAAQk+E,GAASh+E,GAAaW,QAAQ,OAE7D,IAAI2zL,EAAKt0L,GAAaW,QAAQ,MAC9BkrL,GAAQ7rL,GAAaF,QAAQk+E,GAASs2G,GACtCy3F,GAAkBv+M,EAAQ8mH,EAAG30L,KAAK,GAClC6tE,EAAO42E,YAAY3wJ,KACrB,EAII84R,GAAa,SAAUz8M,EAAUumF,GACnC,OAJyBt0H,EAIV4+K,GAAcpwK,MAAM8lH,KAH5B62B,GAAOnrJ,EAAIquC,YAMT47I,GAAal8I,EAAU6wI,GAAcpwK,MAAM8lH,IAAY58J,KAAI,SAAUsoC,GAC1E,OAAOmrJ,GAAOnrJ,EAAIquC,UACpB,IAAGl3E,OAAM,GATI,IAAU6oC,CAW3B,EACIyqP,GAAe,SAAUh8M,GAC3B,OAAOA,GAAwB,MAAjBA,EAAI/uE,UAAoB,SAAU+uE,CAClD,EACIi8M,GAAiB,SAAU7mH,GAC7B,OAAOA,EAAS9sK,KAAK9B,EAAOw1R,GAAcA,GAAcx1R,EAC1D,EAMI01R,GAAwB,SAAUl/M,EAAQo4F,GAC5CA,EAAS9sK,KAAKrD,EAAMY,EAAMg2R,GAAgB7+M,GAASn3E,EAAMi2R,GAAe9+M,GAAS/3E,EACnF,EACIk3R,GAAW,SAAUn/M,EAAQm3B,GAC/B,IAAIioL,EATyB,SAAUp/M,GACvC,IAAI+xM,EAAmBlpR,EAAMo7Q,GAAgBjkM,GACzCn4D,EAAWsrM,GAAcG,eAAetzI,EAAOv8B,UAAUmiC,UAC7D,OAAOulM,GAAa4G,EAAkB/xM,EAAO7hE,UAAW0J,GAAUvb,OAAO2yR,GAC3E,CAKuBI,CAAyBr/M,GAC1Co/M,EAAe5zR,SACjB4zR,EAAelzR,KAAKrD,EAAMq2R,GAAuBl/M,IAEjD0+M,GAAgB1+M,EAAQm3B,EAE5B,EAEIynG,GAAkB,SAAU5+H,EAAQllE,GACtC,OAAOwgR,GAAet7M,GAAQ1zE,QAAO,SAAUu3O,GAC7C,OAAO/oO,EAAS9S,OAAS,GAAKu1L,GAAK/qL,GAAaF,QAAQuxO,GAAc/oO,EACxE,IAAGtP,QACL,EAQI8zR,GAAgB9sQ,GAAa,CAC/B,CAAEs0K,GAAI,IACN,CAAE7/D,MAAO,IACT,CAAE97H,KAAM,MAENo0R,GAAqB,SAAUv/M,EAAQw/M,GACzC,OAVyB,SAAUx/M,GACnC,OAAO4+H,GAAgB5+H,EA59eE,SAAUA,GACnC,OAAOA,EAAO8O,SAAS,sBAAuB,GAChD,CA09eiC2wM,CAAqBz/M,GACtD,CAQS0/M,CAAqB1/M,EAC9B,EACI2/M,GAAW,SAAUC,GACvB,OAAO,SAAU5/M,EAAQw/M,GAEvB,MAD4C,KAA/B5oE,GAAmB52I,KACd4/M,CACpB,CACF,EACIC,GAAc,SAAUD,GAC1B,OAAO,SAAU5/M,EAAQw/M,GACvB,OArkBwB,SAAUx/M,GACpC,OAAOs7M,GAAet7M,GAAQ1zE,QAAO,SAAU02E,GAC7C,OAAO0iH,GAAWlzL,GAAaF,QAAQ0wE,GACzC,IAAGx3E,QACL,CAikBWs0R,CAAsB9/M,KAAY4/M,CAC3C,CACF,EACIG,GAAU,SAAUl5F,EAAW+4F,GACjC,OAAO,SAAU5/M,EAAQw/M,GACvB,IAAI77P,EA/kBiB,SAAUq8C,GACjC,OAAOs7M,GAAet7M,GAAQ10E,KAAKmqB,EAAS,KAAK,SAAUouN,GACzD,OAAOA,EAAY5vO,SAASmjF,aAC9B,GACF,CA2kBgB4oM,CAAmBhgN,KAAY6mH,EAAUzvG,cACrD,OAAOzzD,IAAUi8P,CACnB,CACF,EACIK,GAAa,SAAUL,GACzB,OAAOG,GAAQ,MAAOH,EACxB,EAIIM,GAAmB,SAAUN,GAC/B,OAAO,SAAU5/M,EAAQw/M,GACvB,OAthfqB,SAAUx/M,GACjC,OAAOA,EAAO8O,SAAS,aAAa,EACtC,CAohfWqxM,CAAmBngN,KAAY4/M,CACxC,CACF,EACIQ,GAAc,SAAUpgN,EAAQw/M,GAClC,OA5CmB,SAAUx/M,GAC7B,OAAO4+H,GAAgB5+H,EA59eE,SAAUA,GACnC,OAAOA,EAAO8O,SAAS,sBAAuB,iCAChD,CA09eiCuxM,CAAqBrgN,GACtD,CA0CSsgN,CAAetgN,EACxB,EACIugN,GAAc,SAAUvpI,EAASz3F,GACnC,OAAOA,CACT,EACIihO,GAA4B,SAAUxgN,GACxC,IAAIm0K,EAAkBv9B,GAAmB52I,GACrCygN,EArnBkB,SAAUtuR,EAAKI,GACrC,IACIiK,EAAQggR,EADRjqP,EAAOpgC,EAAI2xE,UAGf,IADAtnE,EAASjK,EACFiK,IAAW+1B,GAA2C,UAAnCpgC,EAAIqwE,mBAAmBhmE,IACR,SAAnCrK,EAAIqwE,mBAAmBhmE,KACzBggR,EAAehgR,GAEjBA,EAASA,EAAOC,WAElB,OAAOD,IAAW+1B,EAAOiqP,EAAejqP,CAC1C,CA0mBqBmuP,CAAkB1gN,EAAO7tE,IAAK6tE,EAAOv8B,UAAUQ,YAClE,OAAOw8O,GAAgBzgN,EAAO3xD,OAAOokL,aAAaguF,EAAaxsR,SAAUkgP,GAAoC,IAC/G,EACI14O,GAAQ,SAAUklR,EAAYrnQ,GAChC,OAAO,SAAU0mD,EAAQzgB,GAIvB,OAHcnxD,EAAMuyR,GAAY,SAAU33Q,EAAK7e,GAC7C,OAAO6e,GAAO7e,EAAE61E,EAAQzgB,EAC1B,IAAG,GACc1yD,EAASJ,KAAK6sB,GAAUzsB,EAAS1B,MACpD,CACF,EA8CI/F,GAAS,SAAU46E,EAAQm3B,IA7Cf,SAAUn3B,EAAQm3B,GAChC,OAAOuzK,GAAc,CACnBjvQ,GAAM,CAAC8jR,IAAqBD,GAAcn0R,QAC1CsQ,GAAM,CA7BDskR,GAAQ,WAAW,IA6BET,GAAcx4F,MACxCrrL,GAAM,CACJwkR,IAAW,GACXC,IAAiB,GACjBK,IACCjB,GAAcx4F,MACjBrrL,GAAM,CACJwkR,IAAW,GACXC,IAAiB,IAChBZ,GAAcr4J,SACjBxrH,GAAM,CACJwkR,IAAW,GACXC,IAAiB,GACjBK,IACCjB,GAAcr4J,SACjBxrH,GAAM,CACJwkR,IAAW,GACXC,IAAiB,IAChBZ,GAAcx4F,MACjBrrL,GAAM,CACJokR,IAAY,GACZU,IACCjB,GAAcx4F,MACjBrrL,GAAM,CAACokR,IAAY,IAAQP,GAAcr4J,SACzCxrH,GAAM,CACJkkR,IAAS,GACTY,GACAC,IACClB,GAAcr4J,SACjBxrH,GAAM,CAACkkR,IAAS,IAAQL,GAAcx4F,MACtCrrL,GAAM,CAAC2kR,IAAcd,GAAcx4F,MACnCrrL,GAAM,CACJkkR,IAAS,GACTY,IACCjB,GAAcx4F,MACjBrrL,GAAM,CAAC+kR,IAA4BlB,GAAcr4J,UAChD,CACDjnD,KACGm3B,IAAOA,EAAI53C,YACb7zD,MAAM4zR,GAAcn0R,OACzB,EAGEsrH,CAAUz2C,EAAQm3B,GAAK7rG,MAAK,WAC1B6zR,GAASn/M,EAAQm3B,EACnB,IAAG,WACDmmL,GAASt9M,EAAQm3B,EACnB,GAAGlvG,EACL,EAeI24R,GAAU,SAAU5gN,GACtBA,EAAOloC,GAAG,WAAW,SAAU/0B,GACzBA,EAAMmgH,UAAYykG,GAAGppK,OAfH,SAAUyhB,EAAQj9D,GA11OZ,IAAU6zI,EA21OpC7zI,EAAMi7J,uBAGVj7J,EAAMO,kBA91OkCszI,EA+1Od52E,EAAO42E,aA91OjBgqG,SACdhqG,EAAYgqG,QAAS,EACrBhqG,EAAY3wJ,OA61Od+5E,EAAO42E,YAAYC,UAAS,YACa,IAAnC72E,EAAOv8B,UAAUukG,eACnBhoE,EAAOwc,YAAY,UAErBp3F,GAAO46E,EAAQj9D,EACjB,IACF,CAIM89Q,CAAoB7gN,EAAQj9D,EAEhC,GACF,EAgCI6/J,GAAU,SAAU5iG,EAAQmV,GAC9BnV,EAAOloC,GAAG,WAAW,SAAUq/D,IACI,IAA7BA,EAAI6mE,sBAhCmB,SAAUh+F,EAAQmV,EAAOgiB,GACtD9zC,GAAQ,CACN,CACE6/D,QAASykG,GAAGK,IACZ1uM,OAAQA,GAAOo+P,GAAsB13M,GAAQ,IAE/C,CACEkjD,QAASykG,GAAGM,KACZ3uM,OAAQA,GAAOo+P,GAAsB13M,GAAQ,IAE/C,CACEkjD,QAASykG,GAAGK,IACZ1uM,OAAQA,GAAOu/P,GAAoB74M,GAAQ,IAE7C,CACEkjD,QAASykG,GAAGM,KACZ3uM,OAAQA,GAAOu/P,GAAoB74M,GAAQ,IAE7C,CACEkjD,QAASykG,GAAGK,IACZ1uM,OAAQA,GAAOu5P,GAAsB7yM,GAAQ,EAAMmV,IAErD,CACE+tC,QAASykG,GAAGM,KACZ3uM,OAAQA,GAAOu5P,GAAsB7yM,GAAQ,EAAOmV,KAErDgiB,GAAKjrG,MAAK,SAAUkc,GACrB+uF,EAAI7zF,gBACN,GACF,CAIMw9Q,CAAyB9gN,EAAQmV,EAAOgiB,EAE5C,GACF,EAEIl+F,GAAUhE,KAASgE,QAgBnB8yI,GAAU,SAAU/rE,IAfL,SAAUA,GAC3B,IAAI+gN,EAAmBp6N,IAAM,WACtBqZ,EAAO2rJ,WACV6V,GAAuBxhK,EAE3B,GAAG,GACC/mE,GAAQ5B,SACV2oE,EAAOloC,GAAG,YAAY,SAAU+/F,GAC9BkpJ,EAAiB5+M,UACnB,IACAnC,EAAOloC,GAAG,UAAU,SAAU+/F,GAC5BkpJ,EAAiB7+M,QACnB,IAEJ,CAEE8+M,CAAahhN,GACbA,EAAOloC,GAAG,SAAS,SAAUttC,IACL,IAAlBA,EAAEy2R,aACJz/C,GAAuBxhK,EAE3B,GACF,EAEItlE,GAAWzF,KAaX+vE,GAA2B,SAAUx6E,GACvC,OAAOA,EAAEw6E,0BACX,EACIk8M,GAAe,SAAU/pL,GAC3B,OAAOA,EAAI+rB,UAAYykG,GAAGG,SAAW3wH,EAAI+rB,UAAYykG,GAAGI,SAC1D,EACIo5D,GAAuB,SAAUC,EAASphN,EAAQinD,GAChDA,IAAUm6J,EAAQ7gR,MACpBy/D,EAAOloC,GAAG,aAAcktC,IAA0B,IACxCiiD,GAASm6J,EAAQ7gR,OAC3By/D,EAAOhoC,IAAI,aAAcgtC,IAE3Bo8M,EAAQvgR,IAAIomH,EACd,EACI8oC,GAAU,SAAU/vF,EAAQmV,GAC9B,IAAIz6E,GAAShB,GAAGpB,QAAhB,CAGA,IAAI8oR,EAAU9uQ,IAAK,GACnB0tD,EAAOloC,GAAG,WAAW,SAAUq/D,GACzB+pL,GAAa/pL,IACfgqL,GAAqBC,EAASphN,GAAQ,EAE1C,IACAA,EAAOloC,GAAG,SAAS,SAAUq/D,IACM,IAA7BA,EAAI6mE,sBArCa,SAAUh+F,EAAQmV,EAAOgiB,GAChD9zC,GAAQ,CACN,CACE6/D,QAASykG,GAAGG,QACZxuM,OAAQA,GAAOu5P,GAAsB7yM,GAAQ,EAAOmV,IAEtD,CACE+tC,QAASykG,GAAGI,UACZzuM,OAAQA,GAAOu5P,GAAsB7yM,GAAQ,EAAMmV,KAEpDgiB,EACL,CA2BMkqL,CAAmBrhN,EAAQmV,EAAOgiB,GAEhC+pL,GAAa/pL,IAAQiqL,EAAQ7gR,QAC/B4gR,GAAqBC,EAASphN,GAAQ,GACtCA,EAAO0kF,cAEX,GAfA,CAgBF,EAEI48H,GAAuB,SAAUhuR,EAAMihC,GACzC,IAAI9Y,EAAY8Y,EAAI9Y,YAChBze,EAASu3B,EAAIv3B,SACjB,OAAIuiL,GAAS9jK,IACXA,EAAUgnN,WAAWzlO,EAAQ1J,GACtBzG,EAASJ,KAAK0mN,GAAc13L,EAAWze,EAAS1J,EAAKtL,UAErDu0N,GAAuBhoL,GAAKtoC,KAAI,SAAU+2E,GAC/C,IAAIk3I,EAAW1nN,GAAaa,SAASC,GAMrC,OALIihC,EAAIoyJ,UACNtI,GAAQr7G,EAAKk3I,GAEb97B,GAASp7G,EAAKk3I,GAET/G,GAAc+G,EAAS/nN,IAAKmB,EAAKtL,OAC1C,GAEJ,EACIu5R,GAAuB14R,EAAMy4R,GAAsBx7F,IACnD07F,GAAwB34R,EAAMy4R,GAAsB,KAepDG,GAAkC,SAAUlvP,EAAMgC,GACpD,OAAO,SAAUmtP,GACf,OAxtVkB,SAAUnvP,EAAMgC,GACpC,OAAI8rM,GAAQ9rM,KAGHgsM,GAAiBhuM,EAAMgC,IAAQ4rM,GAAe5tM,EAAMgC,IAAQ6rM,GAAc7tM,EAAMgC,GAE3F,CAktVWotP,CAAgBpvP,EAAMmvP,GAAYH,GAAqBhtP,GAAOitP,GAAsBjtP,EAC7F,CACF,EAQIqtP,GAA+B,SAAU5hN,GAC3C,IAAIzrC,EAAM4+K,GAAcG,eAAetzI,EAAOv8B,UAAUmiC,UACpDrzC,EAAO//B,GAAaF,QAAQ0tE,EAAO7hE,WACvC,GAAI6hE,EAAOv8B,UAAUukG,cAAe,CAClC,IAAI+pI,EAAmBlpR,EAAMo7Q,GAAgBjkM,GACzC+yI,EAAgBI,GAAcG,eAAetzI,EAAOv8B,UAAUmiC,UAClE,OAAOulM,GAAa4G,EAAkB/xM,EAAO7hE,UAAW40M,GAAe5mN,KA/B7C,SAAUomC,GACtC,OAAO,SAAU6lI,GACf,OAAOA,EAAS9sK,MAAK,SAAU0I,GAC7B,OAAOyqN,GAAalsL,EAAKpgC,IAAKghN,GAAcrwK,OAAO9uC,GACrD,IAAG,SAAUA,GACX,OAAO0qN,GAAgB1qN,EACzB,IAAG,SAAUA,GACX,OAAO2qN,GAAe3qN,EACxB,IAAG,SAAUA,GACX,OAAOwqN,GAAajsL,EAAKpgC,IAAKghN,GAAcpwK,MAAM/uC,GACpD,GACF,CACF,CAmBgF6tR,CAAwBtvP,IAAOpmC,KAAKs1R,GAAgClvP,EAAMgC,IAAMnoC,OAb7I,SAAU4zE,GAC3B,OAAO,SAAUzrC,GAGf,OAFAyrC,EAAOv8B,UAAUyuH,OAAO39H,EAAI6+K,WAC5BpzI,EAAO0kF,eACA,CACT,CACF,CAOuKo9H,CAAa9hN,GAClL,CACE,OAAO,CAEX,EAUIuzF,GAAU,SAAUvzF,GACtBA,EAAOloC,GAAG,WAAW,SAAUq/D,IACI,IAA7BA,EAAI6mE,sBAViB,SAAUh+F,EAAQm3B,GAC7C9zC,GAAQ,CAAC,CACL6/D,QAASykG,GAAGxkG,SACZ7pG,OAAQA,GAAOsoQ,GAA8B5hN,KAC3Cm3B,GAAKjrG,MAAK,SAAUkc,GACxB+uF,EAAI7zF,gBACN,GACF,CAIMy+Q,CAAuB/hN,EAAQm3B,EAEnC,GACF,EAEI6qL,GAA4B,SAAUhiN,GACxC,IAAImV,EAAQg9L,GAAmBnyM,GAS/B,OA/hDY,SAAUA,GACtBA,EAAOloC,GAAG,yBAA0BjvC,EAAM4tR,GAAsBz2M,GAClE,CAqhDEiiN,CAAQjiN,GACRoiG,GAAQpiG,EAAQmV,GAChByoD,GAAQ59D,EAAQmV,GAChByrM,GAAQ5gN,GACRuzF,GAAQvzF,GACR+rE,GAAQ/rE,GACR4iG,GAAQ5iG,EAAQmV,GAChB46E,GAAQ/vF,EAAQmV,GACTA,CACT,EASI+sM,GAAa,WACf,SAASA,EAAWliN,GAGlB,IAAIn5B,EAFJv8C,KAAK63R,SAAW,GAChB73R,KAAK01E,OAASA,EAEd,IAAIrzE,EAAOrC,KACL,sBAAuB01E,EAAO6C,UAClC7C,EAAOloC,GAAG,wCAAwC,SAAUttC,GAC1D,IAAI43R,EAAYpiN,EAAOv8B,UAAUmiC,SAC7By8M,EAAU,CACZ1+O,eAAgBy+O,EAAUz+O,eAC1BsB,YAAam9O,EAAUn9O,YACvBC,aAAck9O,EAAUl9O,aACxBC,UAAWi9O,EAAUj9O,WAER,eAAX36C,EAAEpE,MAA0BomO,GAAO61D,EAASx7O,IAC9Cm5B,EAAOsZ,KAAK,mBAEdzyC,EAAUw7O,CACZ,IAEFriN,EAAOloC,GAAG,eAAe,WACvBkoC,EAAOsZ,KAAK,kBACd,IACAtZ,EAAOloC,GAAG,mBAAmB,WAC3B,IAAI8wM,EAAW5oK,EAAOv8B,UAAUQ,UAAS,IACpC2kM,IAAattD,GAAIp3I,OAAS87B,EAAOv8B,UAAUukG,eAG5Cs9E,GAAatlJ,KAAYrzE,EAAK21R,kBAAkB15C,IAAa5oK,EAAO7tE,IAAI23M,UAAU8+B,EAAU5oK,EAAO7hE,YACrG6hE,EAAO0kF,YAAY,CAAEgsE,iBAAiB,GAE1C,IACA1wJ,EAAOloC,GAAG,WAAW,SAAUttC,IACxBA,EAAEwzK,sBAAwBsnD,GAAatlJ,KACE,QAAxCA,EAAOv8B,UAAUm/B,UAAU3uE,SAC7BquL,GAAM/1C,iBAAiBvsE,GAAQ,WAC7BA,EAAO0kF,aACT,IAEA1kF,EAAO0kF,cAGb,GACF,CAwCA,OAvCAw9H,EAAWz7R,UAAUi+J,YAAc,SAAUr8J,GAC3C,IACIkK,EAAMurK,EAASvrI,EADfkR,EAAYn5C,KAAK01E,OAAOv8B,UAExBn5C,KAAK01E,OAAOg1E,aAAevxG,IAAsCn5C,KAAK01E,OA9rf9D8O,SAAS,wBA8rfiExkF,KAAK01E,OAAOhlC,KAAK02C,eACrGn/C,EAAOjoC,KAAK01E,OAAO7hE,WACnB5L,EAAOkxC,EAAUQ,UAAS,IAAS1R,GAC1Bp2B,gBAAkB7R,KAAK01E,OAAO6C,UAAav4E,KAAK01E,OAAO7tE,IAAI23M,UAAUv3M,EAAMggC,KAClFhgC,EAAOggC,GAETurI,EAAU,GACVxzK,KAAK01E,OAAO7tE,IAAI0xE,UAAUtxE,GAAM,SAAUA,GACxC,GAAIA,IAASggC,EACX,OAAO,EAETurI,EAAQh5K,KAAKyN,EACf,KACAlK,EAAOA,GAAQ,CAAC,GACX2L,QAAUzB,EACflK,EAAKy1K,QAAUA,EACfxzK,KAAK01E,OAAOsZ,KAAK,aAAcjxF,GAEnC,EACA65R,EAAWz7R,UAAU67R,kBAAoB,SAAU15C,GACjD,IAAI9gP,EACAy6R,EAAcj4R,KAAK01E,OAAO0lI,EAAEkjC,GAAUpkC,aAAal6M,KAAK01E,OAAO7hE,WAAWlY,IAAI2iP,GAClF,GAAI25C,EAAYv6R,SAAWsC,KAAK63R,SAASn6R,OAAQ,CAC/C,IAAKF,EAAIy6R,EAAYv6R,OAAQF,GAAK,GAC5By6R,EAAYz6R,KAAOwC,KAAK63R,SAASr6R,GADFA,KAKrC,IAAW,IAAPA,EAEF,OADAwC,KAAK63R,SAAWI,GACT,CAEX,CAEA,OADAj4R,KAAK63R,SAAWI,GACT,CACT,EACOL,CACT,CArFiB,GA6GbriH,GAAU,SAAU7/F,IAtBG,SAAUA,GACnCA,EAAOloC,GAAG,SAAS,SAAUttC,GACvBw1E,EAAO7tE,IAAI0xE,UAAUr5E,EAAE2L,OAAQ,YACjC3L,EAAE8Y,gBAEN,GACF,CAiBEk/Q,CAAqBxiN,GAhBH,SAAUA,GAC5BA,EAAOssK,OAAO/8B,cAAc,WAAW,SAAU91E,GAC/CogD,EAAOpgD,GAAM,SAAUn7C,GACrBA,EAAQp8D,KAAK,gBAAiBo8D,EAAQp8D,KAAK,SAC3Co8D,EAAQp8D,KAAK,OAAQ,OACvB,GACF,IACA89C,EAAOsvI,WAAWC,cAAc,WAAW,SAAU91E,GACnDogD,EAAOpgD,GAAM,SAAUn7C,GACrB,IAAI/vC,EAAO+vC,EAAQp8D,KAAK,iBACxBo8D,EAAQp8D,KAAK,OAAQq3J,EAAWhrI,GAAQA,EAAO,MAC/C+vC,EAAQp8D,KAAK,gBAAiB,KAChC,GACF,GACF,CAGEugQ,CAAcziN,EAChB,EAEI0iN,GAAkB,SAAUnwR,GAC9B,OAAOssL,GAAYtsL,IAASizL,GAAchzL,GAAaF,QAAQC,GACjE,EAuBI6kL,GAAU,SAAUp3G,GACtBA,EAAOloC,GAAG,SAAS,SAAUttC,GACvBA,EAAEivB,QAAU,GAxBK,SAAUumD,GACjC,IAAIt8B,EAAMs8B,EAAOv8B,UAAUmiC,SACvB03I,EAAWnK,GAAcG,eAAe5vK,GACxCo8K,EAAS3M,GAAcI,aAAa7vK,GACxC,GAAIyvK,GAAcQ,kBAAkB2J,GAAW,CAC7C,IAAI7hM,EAAY6hM,EAAS7hM,YACrBinQ,GAAgBjnQ,IAClBijM,GAAgBjjM,GAAWvvB,MAAK,SAAUqoC,GACxC,OAAOmP,EAAIa,SAAShQ,EAAI9Y,YAAa8Y,EAAIv3B,SAC3C,GAEJ,CACIm2M,GAAcQ,kBAAkBmM,KAC9BrkM,EAAY6hM,EAAS7hM,YACrBinQ,GAAgBjnQ,IAClBkjM,GAAeljM,GAAWvvB,MAAK,SAAUqoC,GACvC,OAAOmP,EAAIgB,OAAOnQ,EAAI9Y,YAAa8Y,EAAIv3B,SACzC,KAGJgjE,EAAOv8B,UAAUyuH,OAAOjvF,GAAUv/B,GACpC,CAIMi/O,CAAmB3iN,EAEvB,GACF,EAEI4iN,GAAsB,SAAU5/M,GAClC,IAAIivI,EAAajvI,EAAI7hE,wBACjBjD,EAAM8kE,EAAI7mE,cACVi1I,EAAUlzI,EAAI5B,gBACdwF,EAAM5D,EAAI3B,YACd,MAAO,CACLkF,IAAKwwM,EAAWxwM,IAAMK,EAAII,YAAckvI,EAAQ/uI,UAChDtR,KAAMkhN,EAAWlhN,KAAO+Q,EAAIM,YAAcgvI,EAAQ9uI,WAEtD,EAiDIugR,GAAO,SAAU7iN,EAAQj9D,GAC3B,OAPgC+/Q,EA1CZ,SAAU9iN,GAC9B,OAAOA,EAAOwQ,OAASoyM,GAAoB5iN,EAAO7hE,WAAa,CAC7DpN,KAAM,EACN0Q,IAAK,EAET,CA4C2BshR,CAAgB/iN,GAPKgjN,EApCxB,SAAUhjN,GAChC,IAAItiE,EAAOsiE,EAAO7hE,UAClB,OAAO6hE,EAAOwQ,OAAS,CACrBz/E,KAAM2M,EAAKyE,WACXV,IAAK/D,EAAKuE,WACR,CACFlR,KAAM,EACN0Q,IAAK,EAET,CAkCoDwhR,CAAkBjjN,GAPNkjN,EAdzC,SAAUljN,EAAQj9D,GACvC,GAAIA,EAAM5M,OAAOgG,gBAAkB6jE,EAAO6C,SAAU,CAClD,IAAIsgN,EAAiBP,GAAoB5iN,EAAOkB,2BAC5C8hN,EAfY,SAAUhjN,GAC5B,IAAItiE,EAAOsiE,EAAO7hE,UAAW1K,EAASusE,EAAO6C,SAASvmE,gBAClD8mR,EAAe,CACjBryR,KAAM2M,EAAKyE,WACXV,IAAK/D,EAAKuE,WAERohR,EAAe,CACjBtyR,KAAM2M,EAAKyE,YAAc1O,EAAO0O,WAChCV,IAAK/D,EAAKuE,WAAaxO,EAAOwO,WAEhC,OAAO+9D,EAAOwQ,OAAS4yM,EAAeC,CACxC,CAIyBC,CAActjN,GACnC,MAAO,CACLjvE,KAAMgS,EAAMiuJ,MAAQmyH,EAAepyR,KAAOiyR,EAAejyR,KACzD0Q,IAAKsB,EAAMkuJ,MAAQkyH,EAAe1hR,IAAMuhR,EAAevhR,IAE3D,CACA,MAAO,CACL1Q,KAAMgS,EAAMiuJ,MACZvvJ,IAAKsB,EAAMkuJ,MAEf,CAQ+EsyH,CAAiBvjN,EAAQj9D,GAN/F,CACLiuJ,MAAOkyH,EAAcnyR,KAAO+xR,EAAa/xR,KAAOiyR,EAAejyR,KAC/DkgK,MAAOiyH,EAAczhR,IAAMqhR,EAAarhR,IAAMuhR,EAAevhR,KAHzC,IAAUqhR,EAAcE,EAAgBE,CAQhE,EAEIM,GAA2B3jG,GAA0B4jG,GAA0B7jG,GAe/E8jG,GAAc,SAAU1jN,EAAQgD,EAAKr9D,EAAOvE,GAC9C,IAAIjP,EAAM6tE,EAAO7tE,IACbwxR,EAAY3gN,EAAI1nD,WAAU,GAC9BnpB,EAAI81M,UAAU07E,EAAW,CACvBh+Q,MAAOA,EACPvE,OAAQA,IAEVjP,EAAI4zM,UAAU49E,EAAW,oBAAqB,MAC9C,IAAI15D,EAAW93N,EAAIqmI,OAAO,MAAO,CAC/B,MAAS,qBACT,iBAAkB,MAClB,aAAgB,KAChB,gBAAmB,UAiBrB,OAfArmI,EAAI81M,UAAUgiB,EAAU,CACtBpiN,SAAU,WACVm5J,QAAS,GACT5zB,SAAU,SACV6zB,OAAQ,EACR1+B,QAAS,EACT91D,OAAQ,EACR9mE,MAAOA,EACPvE,OAAQA,IAEVjP,EAAI81M,UAAU07E,EAAW,CACvBl3M,OAAQ,EACRm3M,UAAW,eAEb35D,EAASrlN,YAAY++Q,GACd15D,CACT,EAmBI45D,GAAgB,SAAU7gN,GACxBA,GAAOA,EAAIvmE,YACbumE,EAAIvmE,WAAW0I,YAAY69D,EAE/B,EAUIxxE,GAAQ,SAAUmyB,EAAOq8C,GAC3B,OAAO,SAAUx1E,GACf,GAX2B,SAAUA,GACvC,OAAoB,IAAbA,EAAEwxH,MACX,CASQ8nK,CAAyBt5R,GAAI,CAC/B,IAAIu5R,EAAQruR,EAAOsqE,EAAO7tE,IAAIkrF,WAAW7yF,EAAE2L,QAxvhBxC,WAEP,IADA,IAAI9N,EAAO,GACFC,EAAK,EAAGA,EAAKC,UAAUP,OAAQM,IACtCD,EAAKC,GAAMC,UAAUD,GAEvB,OAAO,SAAUhC,GACf,IAAK,IAAIwB,EAAI,EAAGA,EAAIO,EAAKL,OAAQF,IAC/B,GAAIO,EAAKP,GAAGxB,GACV,OAAO,EAGX,OAAO,CACT,CACF,CA2uhB0DyF,CAAGy3R,GAA0BC,KAA0B/3R,MAAM,MACjH,GAjFsBg4I,EAiFN1jE,EAAO7hE,UAhFpBqlR,GAD4BxgN,EAiFG+gN,IAhFE/gN,IAAQ0gE,EAgFF,CACxC,IAAIsgJ,EAAShkN,EAAO7tE,IAAIw+J,OAAOozH,GAC3BltB,EAAU72L,EAAO7hE,UACjB1K,EAASusE,EAAO6C,SAASvmE,gBAC7BqnB,EAAM9iB,IAAI,CACR7M,QAAS+vR,EACTE,UAAU,EACVtjK,QAASn2H,EAAEm2H,QACXC,QAASp2H,EAAEo2H,QACXjqF,MAAOqpC,EAAOwQ,OAASqmL,EAAQr2I,YAAc/sH,EAAO2M,aAAe,EACnEw2B,MAAOopC,EAAOwQ,OAASqmL,EAAQp2I,aAAehtH,EAAO4N,cAAgB,EACrE6iR,KAAM15R,EAAEwmK,MAAQgzH,EAAO19R,EACvB69R,KAAM35R,EAAEymK,MAAQ+yH,EAAOtwR,EACvBiS,MAAOo+Q,EAAM3jR,YACbgB,OAAQ2iR,EAAM1iR,aACd+iR,MAAOV,GAAY1jN,EAAQ+jN,EAAOA,EAAM3jR,YAAa2jR,EAAM1iR,eAE/D,CACF,CAnGc,IAAUqiI,EAAS1gE,CAoGnC,CACF,EAgCIg3F,GAAO,SAAUr2I,EAAOq8C,GAC1B,OAAO,SAAUx1E,GACfm5B,EAAMmU,IAAG,SAAUnU,GACjB,GAAIA,EAAMsgQ,SAAU,CAClB,GAtIgB,SAAUjkN,EAAQt3B,EAAe27O,GACvD,OAAI37O,IAAkB27O,IAAerkN,EAAO7tE,IAAI23M,UAAUphK,EAAe27O,KAGjEb,GAAyB96O,EACnC,CAiIY47O,CAAkBtkN,GATDv8B,EASsBu8B,EAAOv8B,UANrB,KAD/BE,EADMF,EAAUqhL,SAASl+K,WAAW,GACfjD,gBACHvvC,SAAiBuvC,EAAelnC,WAAaknC,GAMChgB,EAAM3vB,SAAU,CAC5E,IAAIuwR,GAjIevhN,EAiIcr/C,EAAM3vB,SAhI3CwwR,EAAWxhN,EAAI1nD,WAAU,IACpBvc,gBAAgB,qBAClBylR,GA+HYxkN,EAAOsZ,KAAK,OAAQ,CAC7B71E,QAASjZ,EAAEiZ,QACXC,QAASlZ,EAAEkZ,UAEHs6J,sBACRh+F,EAAO42E,YAAYC,UAAS,WAC1BgtI,GAAclgQ,EAAM3vB,SACpBgsE,EAAOq2G,cAAcr2G,EAAO7tE,IAAIy2M,aAAa27E,IAC7CvkN,EAAO+sK,oBAAoB08B,eAC7B,GAEJ,CACAzpM,EAAOsZ,KAAK,UACd,CA/Ia,IAAUtW,EACvBwhN,EAsHuB/gP,EAEvBE,CAuBF,IACA8gP,GAAgB9gQ,EAClB,CACF,EAWI8gQ,GAAkB,SAAU9gQ,GAC9BA,EAAMmU,IAAG,SAAUnU,GACjBkgQ,GAAclgQ,EAAMygQ,MACtB,IACAzgQ,EAAM2U,OACR,EACIosP,GAAqB,SAAU1kN,GACjC,IAAIr8C,EAAQt9B,KACRs+R,EAAUt/E,GAASp2H,IACnBm6I,EAAe7jO,SACfq/R,EAAmBpzR,GAAMmyB,EAAOq8C,GAChC6kN,EA5EK,SAAUlhQ,EAAOq8C,GAC1B,IAAI8kN,EAAwBxiG,GAAMngH,UAAS,SAAU1+D,EAASC,GAC5Ds8D,EAAO+sK,oBAAoB08B,gBAC3BzpM,EAAOv8B,UAAUykN,aAAazkP,EAASC,EACzC,GAAG,GAEH,OADAs8D,EAAOloC,GAAG,SAAUgtP,EAAsB3hR,MACnC,SAAU3Y,GACf,OAAOm5B,EAAMmU,IAAG,SAAUnU,GACxB,IAjE4BsmM,EAAU4sC,EAiElCnyM,EAAWr+C,KAAKrF,IAAIqF,KAAK0mE,IAAIviF,EAAEm2H,QAAUh9F,EAAMg9F,SAAUt6G,KAAK0mE,IAAIviF,EAAEo2H,QAAUj9F,EAAMi9F,UACxF,IAAKj9F,EAAMsgQ,UAAYv/N,EAAW,GAAI,CAEpC,GADWsb,EAAOsZ,KAAK,YAAa,CAAEnjF,OAAQwtB,EAAM3vB,UAC3CgqK,qBACP,OAEFr6I,EAAMsgQ,UAAW,EACjBjkN,EAAO3tC,OACT,CACA,GAAI1O,EAAMsgQ,SAAU,CAClB,IAAIc,EAjDM,SAAUphQ,EAAO9b,GACjC,MAAO,CACLmpJ,MAAOnpJ,EAASmpJ,MAAQrtI,EAAMugQ,KAC9BjzH,MAAOppJ,EAASopJ,MAAQ,EAE5B,CA4CwB+zH,CAAYrhQ,EAAOk/P,GAAK7iN,EAAQx1E,IA3EtBy/N,EA4ERtmM,EAAMygQ,MA5EYvtB,EA4EL72L,EAAO7hE,UA3ExC8rN,EAASxtN,aAAeo6P,GAC1BA,EAAQjyP,YAAYqlN,GAGR,SAAUA,EAAUpiN,EAAUlC,EAAOvE,EAAQu1B,EAAMC,GACjE,IAAIquP,EAAY,EAAG70E,EAAY,EAC/B6Z,EAAS73N,MAAMrB,KAAO8W,EAASmpJ,MAAQ,KACvCi5D,EAAS73N,MAAMqP,IAAMoG,EAASopJ,MAAQ,KAClCppJ,EAASmpJ,MAAQrrJ,EAAQgxB,IAC3BsuP,EAAYp9Q,EAASmpJ,MAAQrrJ,EAAQgxB,GAEnC9uB,EAASopJ,MAAQ7vJ,EAASw1B,IAC5Bw5K,EAAYvoM,EAASopJ,MAAQ7vJ,EAASw1B,GAExCqzL,EAAS73N,MAAMuT,MAAQA,EAAQs/Q,EAAY,KAC3Ch7D,EAAS73N,MAAMgP,OAASA,EAASgvM,EAAY,IAC/C,CA4DQ80E,CAAUvhQ,EAAMygQ,MAAOW,EAAWphQ,EAAMhe,MAAOge,EAAMviB,OAAQuiB,EAAMgT,KAAMhT,EAAMiT,MAC/EkuP,EAAsBt6R,EAAEiZ,QAASjZ,EAAEkZ,QACrC,CACF,GACF,CACF,CAmDoBihD,CAAKhhC,EAAOq8C,GAC1BmlN,EAAcnrH,GAAKr2I,EAAOq8C,GAC1BolN,EAvBK,SAAUzhQ,EAAOq8C,GAC1B,OAAO,WACLr8C,EAAMmU,IAAG,SAAUnU,GACbA,EAAMsgQ,UACRjkN,EAAOsZ,KAAK,UAEhB,IACAmrM,GAAgB9gQ,EAClB,CACF,CAcuBxgB,CAAKwgB,EAAOq8C,GACjCA,EAAOloC,GAAG,YAAa8sP,GACvB5kN,EAAOloC,GAAG,YAAa+sP,GACvB7kN,EAAOloC,GAAG,UAAWqtP,GACrBR,EAAQx4R,KAAKi9N,EAAc,YAAay7D,GACxCF,EAAQx4R,KAAKi9N,EAAc,UAAWg8D,GACtCplN,EAAOloC,GAAG,UAAU,WAClB6sP,EAAQ1gR,OAAOmlN,EAAc,YAAay7D,GAC1CF,EAAQ1gR,OAAOmlN,EAAc,UAAWg8D,EAC1C,IACAplN,EAAOloC,GAAG,WAAW,SAAUttC,GACzBA,EAAE04H,UAAYykG,GAAGE,KACnBu9D,GAEJ,GACF,EAkDIlrH,GAAS,SAAUl6F,GACrB0kN,GAAmB1kN,GAlDH,SAAUA,GAC1BA,EAAOloC,GAAG,QAAQ,SAAUttC,GAC1B,IAAI66R,OAAkC,IAAd76R,EAAEiZ,QAA0Bu8D,EAAO6C,SAASlvE,iBAAiBnJ,EAAEiZ,QAASjZ,EAAEkZ,SAAW,MACzG8/Q,GAAyB6B,IAAmE,UAApDrlN,EAAO7tE,IAAI03M,yBAAyBw7E,KAC9E76R,EAAE8Y,gBAEN,GACF,CA4CEgiR,CAAYtlN,GAzkgBmB,SAAUA,GACzC,OAAOA,EAAO8O,SAAS,0BAA0B,EAAM,UACzD,CAwkgBMy2M,CAA2BvlN,IA5CF,SAAUA,GACvC,IAAIwlN,EAAkB,SAAUh7R,GAC9B,IAAKA,EAAEwzK,qBAAsB,CAC3B,IAAI32D,EAAe78G,EAAE68G,aACjBA,IAAiBsyE,EAAWtyE,EAAa6zB,MAAO,UAAY7zB,EAAaC,MAAMt/G,OAAS,KAC1FwC,EAAE8Y,iBACa,SAAX9Y,EAAEpE,MACJwyQ,GAAa54L,EAAQ,sCAG3B,CACF,EACIylN,EAA6B,SAAUj7R,GACrCumO,GAAY/wJ,EAAQx1E,EAAE2L,SACxBqvR,EAAgBh7R,EAEpB,EACIysE,EAAQ,WACV,IAAI0tN,EAAUt/E,GAASp2H,IACnB98E,EAAM6tE,EAAO7tE,IACb+L,EAAM3Y,SACNmgS,EAAa1lN,EAAOwQ,OAASxQ,EAAO7hE,UAAY6hE,EAAO6C,SACvD8iN,EAAa,CACf,OACA,YAEF9rG,EAAO8rG,GAAY,SAAU/+R,GAC3B+9R,EAAQx4R,KAAK+R,EAAKtX,EAAM6+R,GACxBtzR,EAAIhG,KAAKu5R,EAAY9+R,EAAM4+R,EAC7B,IACAxlN,EAAOloC,GAAG,UAAU,WAClB+hJ,EAAO8rG,GAAY,SAAU/+R,GAC3B+9R,EAAQ1gR,OAAO/F,EAAKtX,EAAM6+R,GAC1BtzR,EAAI8R,OAAOyhR,EAAY9+R,EAAM4+R,EAC/B,GACF,GACF,EACAxlN,EAAOloC,GAAG,QAAQ,WAChBwqJ,GAAM/1C,iBAAiBvsE,EAAQ/I,EAAO,EACxC,GACF,CAKI2uN,CAAyB5lN,EAE7B,EAqCIs4D,GAAwBsnD,GACxBrnD,GAAyBsnD,GACzBgmG,GAAyB,SAAU7lN,EAAQztE,GAC7C,OAAO80N,GAAyBrnJ,EAAO7hE,UAAW5L,EACpD,EACIuzR,GAAqB,SAAU9lN,GACjC,IAQI8zF,EARArwH,EAAYu8B,EAAOv8B,UAAWtxC,EAAM6tE,EAAO7tE,IAC3CowE,EAAUpwE,EAAIowE,QACdD,EAAWtC,EAAO7hE,UAClB4nR,EAAYtsE,GAAUz5I,EAAQsC,EAAUC,GAAS,WACnD,OAAOjwC,GAAS0tC,EAClB,IACIgmN,EAAkB,OAAS7zR,EAAIw2M,WAC/BugB,EAAuB,oBAKvB+8D,EAA+B,SAAU1zR,GAC3C,OAAOA,IAAS+vE,IAAai2D,GAAuBhmI,IAASwtL,GAAUxtL,KAAUJ,EAAI23M,UAAUv3M,EAAM+vE,EACvG,EACI4jN,EAA6B,SAAU3xP,GACzC,OAAO6pM,GAA6B7pM,IAAQ8pM,GAA4B9pM,IAAQypM,GAAczpM,IAAQ0pM,GAAa1pM,EACrH,EAKI4xP,EAAW,SAAUjiP,GACnBA,GACFT,EAAUyuH,OAAOhuH,EAErB,EACIkiP,EAAW3iP,EAAUmiC,OACrB2hM,EAAY,SAAU77O,EAAWn5B,EAAMuwC,EAAQ27I,GASjD,YARuB,IAAnBA,IACFA,GAAiB,GAEXz+G,EAAOsZ,KAAK,YAAa,CAC/BnjF,OAAQ5D,EACRm5B,UAAWA,EACXoX,OAAQA,IAEJk7H,qBACG,MAELygB,GACFh7I,EAAUg7I,eAAelsL,GAAqB,IAAfm5B,GAE1Bq6P,EAAUv3M,KAAK1rC,EAAQvwC,GAChC,EAmKI8zR,EAAyB,SAAU9zR,GACrC,OAAO+zL,GAAmB/zL,IAASy0L,GAA2Bz0L,IAAS00L,GAAyB10L,EAClG,EACI+zR,EAA0B,SAAU5iP,GACtC,OAAO2iP,EAAuB3iP,EAAIC,iBAAmB0iP,EAAuB3iP,EAAIwB,aAClF,EACIqhP,EAAsC,SAAU7iP,GAClD,IAAIkzL,EAAqB52J,EAAO3xD,OAAO6jL,wBACnCwgB,EAASvgN,EAAImyE,YACb3gC,EAAiBD,EAAIC,eACrBsB,EAAcvB,EAAIuB,YAClBC,EAAexB,EAAIwB,aACnBC,EAAYzB,EAAIyB,UAmBpB,OAlBIz0C,GAAMkmO,EAAoBjzL,EAAe1vC,SAASC,eAChC,IAAhB+wC,EACFytK,EAAOpuK,eAAeX,GAEtB+uK,EAAOluK,cAAcb,GAGvB+uK,EAAOnuK,SAASZ,EAAgBsB,GAE9Bv0C,GAAMkmO,EAAoB1xL,EAAajxC,SAASC,eAChC,IAAdixC,EACFutK,EAAOjuK,aAAaS,GAEpBwtK,EAAO/tK,YAAYO,GAGrBwtK,EAAOhuK,OAAOQ,EAAcC,GAEvButK,CACT,EA6BI8zE,EAAgB,SAAUxjN,GAC5B,IAAIyjN,EAAczjN,EAAI1nD,WAAU,GAC5B9wB,EAAIw1E,EAAOsZ,KAAK,iBAAkB,CACpCnjF,OAAQ6sE,EACRyjN,YAAaA,IAEf,GAAIj8R,EAAEwzK,qBACJ,OAAO,KAET,IAAI95H,EArCwB,SAAU3xC,EAAMk0R,EAAaC,GACzD,IAAIhhF,EAAI1lI,EAAO0lI,EACXihF,EAA0B3+P,GAAWx1B,GAAaF,QAAQ0tE,EAAO7hE,WAAY,IAAM6nR,GAAiB16R,MAAK,WAC3G,OAAOo6M,EAAE,GACX,IAAG,SAAU1iI,GACX,OAAO0iI,EAAE,CAAC1iI,EAAI7wE,KAChB,IACuC,IAAnCw0R,EAAwB3+R,SAC1B2+R,EAA0BjhF,EAAE,oEAAoExjL,KAAK,KAAM8jQ,IACnFpiF,SAAS5jI,EAAO7hE,WAE1C,IAAIq5Q,EAAWrlR,EAAImyE,YACfmiN,IAAgBC,GAAmBprG,GAAI5jL,IACzCivR,EAAwB5hR,QAAQpf,OAAO,sDAAyDA,OAAO8gS,GACvGjP,EAAShzO,cAAcmiP,EAAwB,GAAGhiR,WAAWA,YAC7D6yQ,EAAS7yO,YAAY8hP,KAErBE,EAAwB5hR,QAAQpf,OAAOmgM,IAAMngM,OAAO8gS,GAAa9gS,OAAOmgM,IACxE0xF,EAASjzO,SAASoiP,EAAwB,GAAGhiR,WAAY,GACzD6yQ,EAAS9yO,OAAOiiP,EAAwB,GAAG3oG,UAAW,IAExD2oG,EAAwBpnR,IAAI,CAAEkC,IAAKtP,EAAIw+J,OAAOp+J,EAAMytE,EAAO7hE,WAAWzK,IACtEizR,EAAwB,GAAGt0P,QAC3B,IAAIkV,EAAM9D,EAAUqhL,SAGpB,OAFAv9K,EAAI2/M,kBACJ3/M,EAAI4/M,SAASqwB,GACNA,CACT,CAUcoP,CAAwB5jN,EAAKx4E,EAAEi8R,YAAaA,GACpDI,EAAUr0R,GAAaF,QAAQ0wE,GAWnC,OAVA62G,EAAOxzI,GAAY7zC,GAAaF,QAAQ0tE,EAAO7hE,WAAY,yBAAyB,SAAU6kE,GACvF3nE,GAAGwrR,EAAS7jN,IACf9iE,GAAS8iE,EAAKkmJ,EAElB,IACK/2N,EAAIyzM,UAAU5iI,EAAKkmJ,IACtBlmJ,EAAI3kE,aAAa6qN,EAAsB,KAEzCp1D,EAAkB9wF,EAClBymM,IACOvlO,CACT,EACI4iP,EAAsB,SAAU5iP,EAAOw7J,GACzC,IAAKx7J,EACH,OAAO,KAET,GAAIA,EAAMqB,UAAW,CACnB,IAAK+gP,EAAwBpiP,GAAQ,CACnC,IAAI3W,EAAMmyK,EAAU,GAAK,EACrBqT,EAAgBsJ,GAA2B9uL,EAAK+0C,EAAUp+B,GAC1DgvK,EAAaH,EAAcnwI,SAAS88H,GACxC,GAAI8a,GAAkBtH,GACpB,OAAOq0D,EAAUh6O,EAAK2lL,IAAYxT,IAAWqT,EAAcpsB,WAAmB,GAEhF,IAAIogG,EAAYh0E,EAAcnwI,QAAQ88H,GACtC,GAAI8a,GAAkBusE,GACpB,OAAOxf,EAAUh6O,EAAKw5P,GAAWrnF,IAAmBqT,EAAcpsB,WAAW,EAEjF,CACA,OAAO,IACT,CACA,IAAIhjJ,EAAiBO,EAAMP,eACvBsB,EAAcf,EAAMe,YACpBE,EAAYjB,EAAMiB,UAMtB,GALgC,IAA5BxB,EAAevvC,UAAkC,IAAhB6wC,GAAqBszF,GAAuB50F,EAAelnC,cAC9FknC,EAAiBA,EAAelnC,WAChCwoC,EAAc9yC,EAAIytM,UAAUj8J,GAC5BA,EAAiBA,EAAelnC,YAEF,IAA5BknC,EAAevvC,SACjB,OAAO,KAET,GAAI+wC,IAAcF,EAAc,GAAKtB,IAAmBO,EAAMgB,aAAc,CAC1E,IAAI3yC,EAAOoxC,EAAe3wC,WAAWiyC,GACrC,GAAIghP,EAA6B1zR,GAC/B,OAAOi0R,EAAcj0R,EAEzB,CACA,OAAO,IACT,EACIy0R,EAAyB,WACvBlzH,GACFA,EAAgB/0J,gBAAgBmqN,GAElClhM,GAAWx1B,GAAaF,QAAQ0tE,EAAO7hE,WAAY,IAAM6nR,GAAiB95R,KAAK4S,IAC/Eg1J,EAAkB,IACpB,EAKI21G,EAAgB,WAClBsc,EAAUxqN,MACZ,EAIA,OAHI+/G,GAAIM,UAAYqnE,GAAMjjL,IAnSL,WACnBA,EAAOloC,GAAG,WAAW,SAAUttC,GAC7B,IAAI05C,EAAQkiP,IACRliP,EAAMqB,WAAaqxN,GAAkB52L,EAAQx1E,EAAEiZ,QAASjZ,EAAEkZ,UAC5D+jQ,GAAmBznM,EAAQ97B,GAAO,GAAOh4C,KAAKi6R,EAElD,IACAnmN,EAAOloC,GAAG,SAAS,SAAUttC,GAC3B,IAAIy8R,EAAsBpB,GAAuB7lN,EAAQx1E,EAAE2L,QACvD8wR,IACE1uJ,GAAuB0uJ,KACzBz8R,EAAE8Y,iBACF08D,EAAO3tC,SAELimG,GAAsB2uJ,IACpB90R,EAAI23M,UAAUm9E,EAAqBxjP,EAAUm/B,YAC/CokN,IAIR,IACAhnN,EAAOloC,GAAG,gBAAiBkvP,GAC3BhnN,EAAOloC,GAAG,sCAAuCiuP,EAAU9xP,YAC3D,IAmBIizP,EAAuB,SAAUnnI,EAAYyqH,GAC/C,IAN4B3uD,EAAOC,EAM/BqrE,EAAch1R,EAAI0xE,UAAUk8E,EAAYx9E,GACxCs3I,EAAa1nN,EAAI0xE,UAAU2mM,EAAWjoM,GAC1C,OAAI/6E,EAAW2/R,OAGXpnI,IAAe85D,IAAc1nN,EAAI23M,UAAUq9E,EAAattE,KAAuF,IAAxEthF,GAAuBstJ,GAAuB7lN,EAAQmnN,OAGzHh1R,EAAI23M,UAAU+P,EAAYstE,KAdNtrE,EAcqCsrE,EAd9BrrE,EAc2CjC,IAbjE1nN,EAAI0xE,UAAUg4I,EAAOt5I,KACrBpwE,EAAI0xE,UAAUi4I,EAAOv5I,MAhBP,SAAUS,GACrC,IAAIxxE,EAAQwxE,EAAIr+D,WAChB,GAAInd,EAAWgK,GACb,OAAO,EAET,IAAI8rN,EAAWnK,GAAcrwK,OAAOtxC,GACpC,GAAIkuL,GAAO49B,EAAS16I,YAAwC,IAA1BI,EAAIhwE,WAAWhL,OAC/C,OAAQk+R,EAA2B5oE,GAEnC,IACI9nL,EADcqoL,GAAY76I,GACLrnC,KAAK2hL,GAC9B,OAAO9nL,IAAW0wP,EAA2B1wP,EAEjD,CAe+F4xP,CAAuBD,GACtH,EACAnnN,EAAOloC,GAAG,OAAO,SAAUttC,GACzB,IAAI4hJ,EAAY5hJ,EAAE2L,OACd8wR,EAAsBpB,GAAuB7lN,EAAQosE,GACrD7T,GAAuB0uJ,IACzBz8R,EAAE8Y,iBACFihE,GAAWvE,EAAQinN,GAAqB/6R,KAAK46R,IACpCb,EAA6B75I,IACtC7nE,GAAWvE,EAAQosE,GAAWlgJ,KAAK46R,EAEvC,IAAG,GACH9mN,EAAOloC,GAAG,aAAa,SAAUttC,GAC/B,IAAI4hJ,EAAY5hJ,EAAE2L,OAClB,IAAIi2I,IAAc9pE,GAAmC,SAAvB8pE,EAAUn4I,UAAwB9B,EAAI23M,UAAU19D,EAAW9pE,MAGjC,IAApDs0L,GAAkB52L,EAAQx1E,EAAEiZ,QAASjZ,EAAEkZ,SAA3C,CAGA,IAAIujR,EAAsBpB,GAAuB7lN,EAAQosE,GACzD,GAAI66I,EACE1uJ,GAAuB0uJ,IACzBz8R,EAAE8Y,iBACFihE,GAAWvE,EAAQinN,GAAqB/6R,KAAK46R,KAE7CE,IACM1uJ,GAAsB2uJ,IAAwBz8R,EAAE+0D,UAAc+nK,GAAgB98N,EAAEiZ,QAASjZ,EAAEkZ,QAAS+/B,EAAUmiC,YAClH6jM,IACAhmO,EAAUykN,aAAa19P,EAAEiZ,QAASjZ,EAAEkZ,gBAGnC,GAAIuiR,EAA6B75I,GACtC7nE,GAAWvE,EAAQosE,GAAWlgJ,KAAK46R,QAC9B,IAAqC,IAAjCtsE,GAAkBpuE,GAAsB,CACjD46I,IACAvd,IACA,IAAI4d,EAAgB3X,GAAiBptM,EAAU93E,EAAEiZ,QAASjZ,EAAEkZ,SAC5D,GAAI2jR,IACGH,EAAqB96I,EAAWi7I,EAAc90R,MAAO,CACxD/H,EAAE8Y,iBACF,IAAI4gC,EAAQqjO,EAAU,EAAG8f,EAAc90R,KAAM80R,EAAcvkP,QAAQ,GACnEqjP,EAASjiP,GACT87B,EAAO7hE,UAAUk0B,OACnB,CAEJ,CA3BA,CA4BF,IACA2tC,EAAOloC,GAAG,YAAY,SAAUttC,GAC1Bm9N,GAAGO,gBAAgB19N,IAGnB+tI,GAAuB90F,EAAUm/B,YACnCp4E,EAAE8Y,gBAEN,IACA08D,EAAOloC,GAAG,qBAAqB,SAAUttC,GACvC,IAAIk5C,EAAMl5C,EAAE05C,MACZ,GAAI4vH,EAAiB,CACnB,IAAKA,EAAgBr3J,WAEnB,YADAq3J,EAAkB,OAGpBpwH,EAAMA,EAAIwgC,cACNK,WAAWuvF,GACftpK,EAAE05C,MAAQR,CACZ,CACF,IACAs8B,EAAOloC,GAAG,qBAAqB,SAAUttC,GACvCA,EAAE05C,MAAQqiP,EAAoC/7R,EAAE05C,OAChD,IAAIR,EAAMojP,EAAoBt8R,EAAE05C,MAAO15C,EAAEk1M,SACrCh8J,IACFl5C,EAAE05C,MAAQR,EAEd,IAIAs8B,EAAOloC,GAAG,0BAA0B,SAAUttC,GAC5C,IA7KmC+H,EA6K/BmxC,EAAMl5C,EAAE05C,MACRznC,EAAainC,EAAIC,eAAelnC,WAC/B6pR,EAAwB5iP,IALV,gBAK8BjnC,EALrCzX,IAMVykR,IAhLiCl3Q,EAkLPkK,EAjLvBtK,EAAIowM,SAAShwM,EAAM,4BAkLtBy0R,GAEJ,IACAhnN,EAAOloC,GAAG,QAAQ,SAAUttC,GAC1B,IA7KEixB,EA6KE6rQ,EAAgB98R,EAAE88R,cACtB,IAAK98R,EAAEwzK,sBAAwBxzK,EAAE88R,gBAAkBhsG,GAAI5jL,GAAI,CACzD,IAAI6vR,GA/KJ9rQ,EAAYtpB,EAAIoO,IAAIylR,IACLvqQ,EAAU4rK,qBAAqB,KAAK,GAAK5rK,EA+KpD8rQ,IACF/8R,EAAE8Y,iBACFgkR,EAAcE,YACdF,EAAc1zG,QAAQ,YAAa2zG,EAAqB1+E,WACxDy+E,EAAc1zG,QAAQ,aAAc2zG,EAAqBE,WAAaF,EAAqB7uJ,WAE/F,CACF,IACAwhC,GAAOl6F,GApPG,SAAUA,GACtB,IAAI0nN,EAAmB/gO,IAAM,WAC3B,IAAKqZ,EAAOylD,SAAWzlD,EAAO7hE,UAAUrC,SAASvW,SAASitC,eAAgB,CACxE,IAAIkR,EAAMs8B,EAAOv8B,UAAUmiC,SAC3B,GAAIliC,EAAI6B,UAAW,CACjB,IAAI2iO,EAAaL,GAAiB7nM,EAAQt8B,GAAK,GAC/Cs8B,EAAOv8B,UAAUyuH,OAAOg2G,EAC1B,CACF,CACF,GAAG,GACHloM,EAAOloC,GAAG,SAAS,WACjB4vP,EAAiBvlN,UACnB,IACAnC,EAAOloC,GAAG,QAAQ,WAChB4vP,EAAiBxlN,QACnB,GACF,CAqOIu1G,CAAQz3G,GAnOA,SAAUA,GACpBA,EAAOloC,GAAG,QAAQ,WAChBkoC,EAAOloC,GAAG,WAAW,SAAUttC,GAC7B,IAAI2L,EAAS3L,EAAE2L,OACf,GAAI4pL,GAAU5pL,GAAS,CACrB,IAAIyxQ,EAASvgD,GAAyBrnJ,EAAO7hE,UAAWhI,GACpD5D,EAAOstL,GAAyB+nF,GAAUA,EAASzxQ,EACnD6pE,EAAOv8B,UAAUm/B,YAAcrwE,GACjCgyE,GAAWvE,EAAQztE,GAAMrG,MAAK,SAAUw3C,GACtC,OAAOs8B,EAAOv8B,UAAUyuH,OAAOxuH,EACjC,GAEJ,CACF,GACF,GACF,CAqNIuzB,CAAM+I,EACR,CA0IE63L,GAEK,CACL0P,UAAWA,EACXv6B,wBA/S4B,SAAUupC,GAClCA,EAAoB13Q,aAAa,oBACnCqoL,GAAwBqvF,GACxB4P,EAASC,KACT3iP,EAAUg7I,eAAe83F,GAE7B,EA0SE9M,cAAeA,EACfhxO,QAdY,WACZstP,EAAUttP,UACVq7H,EAAkB,IACpB,EAaF,EAEI6zH,GAAS,SAAU3nN,GACrB,IAgKM4nN,EAYAC,EA5KF37R,EAAOtC,GAAMsC,KACbmyD,EAAYspK,GAAGtpK,UAAWupK,EAASD,GAAGC,OAAQz1N,EAAM6tE,EAAO7tE,IAAKsxC,EAAYu8B,EAAOv8B,UAAW6oM,EAAStsK,EAAOssK,OAC9Gw7C,EAAUxsG,GAAIC,MAAOlkL,EAAOikL,GAAI5jL,GAAIqwR,EAAWzsG,GAAIH,OACnD6sG,EAAuB,0BACvBC,EAAsB5wR,EAAO,OAAS,MACtC6wR,EAAwB,SAAUl4H,EAAKrsI,GACzC,IACEq8C,EAAO6C,SAAS2Z,YAAYwzE,GAAK,EAAOrsI,EAE1C,CADE,MAAO2qE,GACT,CACF,EACI0vE,EAAqB,SAAUxzK,GACjC,OAAOA,EAAEwzK,oBACX,EAsCImqH,EAA0B,WAC5B,IAAIC,EAAe,SAAU1kP,GAC3B,IAAIhmC,EAAOvL,EAAIqmI,OAAO,QAClBrpF,EAAWzL,EAAIooM,gBAEnB,OADApuO,EAAKkH,YAAYuqC,GACV1L,EAAU6rK,WAAW/a,UAAU72L,EAAM,CAAEy+E,OAAQ,QACxD,EAQAnc,EAAOloC,GAAG,WAAW,SAAUttC,GAC7B,IACIw9I,EAAatqI,EADbwlH,EAAU14H,EAAE04H,QAEhB,IAAK86C,EAAmBxzK,KAAO04H,IAAY0kG,GAAU1kG,IAAY7kE,GAAY,CAG3E,GAFA2pF,EAAchoE,EAAOv8B,UAAUukG,cAC/BtqI,EAAOsiE,EAAO7hE,UACV6pI,IAAgB71I,EAAIo3M,QAAQ7rM,GAC9B,OAEF,IAAKsqI,IAhBiB,SAAUtkG,GAClC,IAAID,EAAY2kP,EAAa1kP,GACzB2kP,EAASl2R,EAAImyE,YAGjB,OAFA+jN,EAAO9jN,WAAWvE,EAAO7hE,WAElBslC,IADY2kP,EAAaC,EAElC,CAUyBC,CAAoBtoN,EAAOv8B,UAAUmiC,UACxD,OAEFp7E,EAAE8Y,iBACF08D,EAAOnxB,WAAW,IACdnxC,EAAKiH,YAAcxS,EAAIowE,QAAQ7kE,EAAKiH,YACtCq7D,EAAOv8B,UAAU0/B,kBAAkBzlE,EAAKiH,WAAY,GAEpDq7D,EAAOv8B,UAAU0/B,kBAAkBzlE,EAAM,GAE3CsiE,EAAO0kF,aACT,CACF,GACF,EACI6jI,EAAY,WACdvoN,EAAOkrF,UAAUjlK,IAAI,SAAU,KAAM,YACvC,EACIuiS,EAA8B,WAC3BxoN,EAAOwQ,QACVr+E,EAAIhG,KAAK6zE,EAAO6C,SAAU,qBAAqB,SAAUr4E,GACvD,IAAIk5C,EACJ,GAAIl5C,EAAE2L,SAAW6pE,EAAO6C,SAASvmE,gBAG/B,GAFAonC,EAAMD,EAAUmiC,SAChB5F,EAAO7hE,UAAUk0B,QACF,cAAX7nC,EAAEpE,KAAsB,CAC1B,GAAIkgM,GAAmB5iJ,EAAIC,gBACzB,OAEFF,EAAUykN,aAAa19P,EAAEiZ,QAASjZ,EAAEkZ,QACtC,MACE+/B,EAAUyuH,OAAOxuH,EAGvB,GAEJ,EAuBIkuL,EAAY,WACT62D,MAAMhiS,UAAUihD,gBACnBs4B,EAAOloC,GAAG,aAAa,SAAUttC,GAC/B,IAAKwzK,EAAmBxzK,IAA4B,SAAtBA,EAAE2L,OAAOlC,SAAqB,CAC1D,IAAIy0R,EAAS1oN,EAAO7hE,UACpBuqR,EAAOh6N,OACP4zH,GAAM/1C,iBAAiBvsE,GAAQ,WAC7B0oN,EAAOr2P,OACT,GACF,CACF,GAEJ,EACIs2P,EAAwB,WAC1B3oN,EAAOloC,GAAG,SAAS,SAAUttC,GAC3B,IAAI2L,EAAS3L,EAAE2L,OACX,aAAab,KAAKa,EAAOlC,WAAsD,UAAzC9B,EAAI03M,yBAAyB1zM,KACrE3L,EAAE8Y,iBACF08D,EAAOv8B,UAAU05C,OAAOhnF,GACxB6pE,EAAO0kF,eAEe,MAApBvuJ,EAAOlC,UAAoB9B,EAAIowM,SAASpsM,EAAQ,qBAClD3L,EAAE8Y,iBACFmgC,EAAU05C,OAAOhnF,GAErB,GACF,EAqCIyyR,EAA6B,WAC/B5oN,EAAOloC,GAAG,WAAW,SAAUttC,GAC7B,IAAKwzK,EAAmBxzK,IAAMA,EAAE04H,UAAY7kE,GACtC5a,EAAUukG,eAAoD,IAAnCvkG,EAAUmiC,SAAS3gC,YAAmB,CACnE,IAAI44I,EAAkBp6I,EAAUm/B,UAAUi7G,gBAC1C,GAAIA,GAAmBA,EAAgB5pL,UAAuD,UAA3C4pL,EAAgB5pL,SAASC,cAE1E,OADA1J,EAAE8Y,kBACK,CAEX,CAEJ,GACF,EA2BIulR,EAAyB,YAjthBZ,SAAU7oN,GAC3B,OAAOA,EAAO8O,SAAS,WACzB,EAuthBSg6M,CAAa9oN,IAChBA,EAAOloC,GAAG,+BARE,WACZowP,EAAsB,gBAAgB,GACtCA,EAAsB,4BAA4B,GAC7CvwE,GAAkB33I,IACrBkoN,EAAsB,wBAAwB,EAElD,GAIF,EACIa,EAAsB,WAgBxB/oN,EAAOloC,GAAG,0BAA0B,SAAUttC,GAC7B,eAAXA,EAAEpE,MAAuC,kBAAdoE,EAAE8hJ,SAfjCpgJ,EAAKiG,EAAIgrF,OAAO,MAAM,SAAU5qF,GAC9B,IAAIkK,EAAalK,EAAKkK,WAClB81B,EAAOpgC,EAAI2xE,UACf,GAAIrnE,EAAWuhL,YAAczrL,EAAM,CACjC,KAAOkK,IAAetK,EAAIowE,QAAQ9lE,IAAa,CAC7C,GAAIA,EAAWA,WAAWuhL,YAAcvhL,GAAcA,IAAe81B,EACnE,OAEF91B,EAAaA,EAAWA,UAC1B,CACAtK,EAAIlM,IAAIwW,EAAY,KAAM,CAAE,iBAAkB,GAChD,CACF,GAMF,GACF,EAeIusR,EAAsB,WACxBhpN,EAAOipN,cAAcnkS,KAAK,kFAC5B,EACIokS,EAAwB,WACrBlpN,EAAOwQ,QACVxQ,EAAOloC,GAAG,WAAW,WACfvyC,SAASitC,gBAAkBjtC,SAASmY,MACtCsiE,EAAOx8B,SAASnR,OAEpB,GAEJ,EACI82P,EAAa,WACVnpN,EAAOwQ,SACVxQ,EAAOipN,cAAcnkS,KAAK,4BAC1Bk7E,EAAOloC,GAAG,SAAS,SAAUttC,GAC3B,IAAIk5C,EACJ,GAA0B,SAAtBl5C,EAAE2L,OAAOlC,SAAqB,CAChC,GAAIqnL,GAAI5jL,GAAK,GAEX,YADAsoE,EAAO7hE,UAAUk0B,QAGnBqR,EAAMs8B,EAAOv8B,UAAUmiC,SACvB5F,EAAO7hE,UAAUk0B,QACjB2tC,EAAOv8B,UAAUyuH,OAAOxuH,GACxBs8B,EAAOv8B,UAAUw/B,YACjBjD,EAAO0kF,aACT,CACF,IAEJ,EACI0kI,EAA0B,WACxB9tG,GAAIroG,KACNjT,EAAOloC,GAAG,WAAW,SAAUttC,IACzBm9N,GAAGS,eAAe59N,IAAOA,EAAE+0D,UAA2B,KAAd/0D,EAAE04H,SAAgC,KAAd14H,EAAE04H,UAChE14H,EAAE8Y,iBACgB08D,EAAOv8B,UAAUqhL,SACvBqnD,OAAO,OAAsB,KAAd3hR,EAAE04H,QAAiB,WAAa,UAAW,gBAE1E,GAEJ,EAIImmK,EAAoB,WACtBrpN,EAAOloC,GAAG,SAAS,SAAUttC,GAC3B,IAAIw4E,EAAMx4E,EAAE2L,OACZ,GACE,GAAoB,MAAhB6sE,EAAIq8G,QAEN,YADA70L,EAAE8Y,uBAGG0/D,EAAMA,EAAIvmE,WACrB,IACAujE,EAAOipN,cAAcnkS,KAAK,kDAC5B,EACIwkS,EAA8B,WAChCtpN,EAAOloC,GAAG,QAAQ,WAChBkoC,EAAO7tE,IAAIhG,KAAK6zE,EAAO7hE,UAAW,UAAU,SAAU3T,GACpDA,EAAE8Y,gBACJ,GACF,GACF,EAWIimR,EAAwB,WAC1BvpN,EAAOloC,GAAG,aAAa,SAAUttC,IAvVP,SAAUA,GACpC,IAAIg/R,EAAeC,EACfj/R,EAAE68G,eACArnC,EAAOv8B,UAAUukG,eAAsC,QAArBx9I,EAAE2L,OAAOkpL,SAC7C57I,EAAU05C,OAAO3yF,EAAE2L,SAErBqzR,EAAgBxpN,EAAOv8B,UAAU+3B,cACfxzE,OAAS,IACzByhS,EAAkBzB,EAAuBlyM,OAAO9V,EAAOh7E,IAAM,IAAM8wF,OAAO0zM,GAC1Eh/R,EAAE68G,aAAausE,QAAQq0G,EAAqBwB,IAGlD,CA4UIC,CAAsBl/R,EACxB,IACAw1E,EAAOloC,GAAG,QAAQ,SAAUttC,GAC1B,IAAKwzK,EAAmBxzK,GAAI,CAC1B,IAAIi/R,EA/UkB,SAAUj/R,GACpC,IAAIi/R,EACJ,OAAIj/R,EAAE68G,eACJoiL,EAAkBj/R,EAAE68G,aAAa7oB,QAAQypM,KAClBwB,EAAgBh/R,QAAQu9R,IAAyB,GACtEyB,EAAkBA,EAAgBl4R,OAAOy2R,EAAqBhgS,QAAQw2B,MAAM,KACrE,CACLx5B,GAAImwO,SAASs0D,EAAgB,IAC7B/2R,KAAMyiO,SAASs0D,EAAgB,MAI9B,IACT,CAkU4BE,CAAsBn/R,GAC5C,GAAIi/R,GAAmBA,EAAgBzkS,KAAOg7E,EAAOh7E,GAAI,CACvDwF,EAAE8Y,iBACF,IAAIogC,EAAMlwC,GAAUhJ,EAAElE,EAAGkE,EAAEkJ,EAAGssE,EAAO6C,UACrCp/B,EAAUyuH,OAAOxuH,GArUe5oB,EAsUR2uQ,EAAgB/2R,KAtUC2nH,GAsUK,EArUhDr6C,EAAO4pN,sBAAsB,6BAC/B5pN,EAAOwc,YAAY,6BAA6B,EAAO,CACrD1hE,QAASA,EACTu/F,SAAUA,IAGZr6C,EAAOwc,YAAY,oBAAoB,EAAO1hE,EAgU5C,CACF,CAxU0B,IAAUA,EAASu/F,CAyU/C,GACF,EACIi4G,EAAyBrqO,EAyE7B,OALIg7P,GAAMjjL,IA3DJ+nN,IACFS,IACAG,IACAW,IACAf,IACIjtG,GAAIE,MACN0tG,IACAC,IACAE,MAGAvB,IACFl2D,IACAi3D,IACAG,IACAI,OA3LFppN,EAAOloC,GAAG,WAAW,SAAUttC,GAC7B,IAAIk5C,EAAKlnC,EACT,IAAIwhK,EAAmBxzK,IAAMA,EAAE04H,UAAYykG,GAAGtpK,UAA9C,CAIA,IAAI5iC,GADJioB,EAAMD,EAAUmiC,UACIjiC,eAChB3mC,EAAS0mC,EAAIuB,YACb1S,EAAOpgC,EAAI2xE,UAEf,GADAtnE,EAASif,EACJioB,EAAI6B,WAAwB,IAAXvoC,EAAtB,CAGA,KAAOR,GAAUA,EAAOC,YAAcD,EAAOC,WAAWkI,aAAenI,GAAUA,EAAOC,aAAe81B,GACrG/1B,EAASA,EAAOC,WAEK,eAAnBD,EAAO6iL,UACTr/G,EAAOm2D,UAAUvmE,OAAO,aAAc,KAAMpzD,IAC5CknC,EAAMvxC,EAAImyE,aACN//B,SAAS9oB,EAAW,GACxBioB,EAAIgB,OAAOjpB,EAAW,GACtBgoB,EAAUyuH,OAAOxuH,GATnB,CARA,CAmBF,IAyKAykP,IACK7sG,GAAID,cA9HTr7G,EAAOloC,GAAG,yBAAyB,SAAUttC,GACtCm9N,GAAGO,gBAAgB19N,IACtBi5C,EAAUw/B,WAEd,IAAG,GA6HC8kN,IACFS,IACAG,IA1IE/xE,GAAmB52I,IACrBA,EAAOloC,GAAG,QAAQ,WAChBowP,EAAsB,4BAA6BtxE,GAAmB52I,GACxE,IAyIAspN,IACAV,IA/DFt8C,EAAO/8B,cAAc,MAAM,SAAUrvB,GAEnC,IADA,IAAIp4L,EAAIo4L,EAAMl4L,OACPF,KAC0B,8BAA3Bo4L,EAAMp4L,GAAGo6B,KAAK,UAChBg+J,EAAMp4L,GAAGg7B,QAGf,IA0DMw4J,GAAIE,KACN0tG,IACAC,IACAE,KAEAd,KAGAjtG,GAAI5jL,IAAM,KACZyxR,IACAP,KAEEttG,GAAI5jL,KACN6wR,IApGFL,EAAsB,iBAAiB,GAsGrCqB,KAEEzB,IA9TJ9nN,EAAOloC,GAAG,WAAW,SAAUttC,GAC7B,IAAKwzK,EAAmBxzK,IAAMA,EAAE04H,UAAY7kE,EAAW,CACrD,IAAK2hB,EAAO7hE,UAAUkpL,qBAAqB,MAAMr/L,OAC/C,OAEF,GAAIy7C,EAAUukG,eAAoD,IAAnCvkG,EAAUmiC,SAAS3gC,YAAmB,CACnE,IAAI1yC,EAAOkxC,EAAUm/B,UACjBi7G,EAAkBtrL,EAAKsrL,gBAC3B,GAAsB,OAAlBtrL,EAAK0B,SAGP,OAFA9B,EAAI2wB,OAAOvwB,QACX/H,EAAE8Y,iBAGAu6K,GAAmBA,EAAgB5pL,UAAuD,OAA3C4pL,EAAgB5pL,SAASC,gBAC1E/B,EAAI2wB,OAAO+6J,GACXrzL,EAAE8Y,iBAEN,CACF,CACF,IA6SEsuN,IA/QEg2D,EAA4B,WAC9B,IAAIiC,EAAW13R,EAAI2zM,WAAWriK,EAAUQ,WAAW3oB,WAAU,IAC7D,OAAO,WACL,IAAInlB,EAASstC,EAAUQ,WACnB9tC,IAAW6pE,EAAO7hE,YACpBhM,EAAI4zM,UAAU5vM,EAAQ,QAAS,MAC/BjK,EAAK29R,GAAU,SAAU3nQ,GACvB/rB,EAAO2zR,iBAAiB5nQ,EAAK5G,WAAU,GACzC,IAEJ,CACF,EACIusQ,EAA4B,WAC9B,OAAQpkP,EAAUukG,eAAiB71I,EAAI0xE,UAAUpgC,EAAUQ,WAAY9xC,EAAIowE,WAAapwE,EAAI0xE,UAAUpgC,EAAU2/B,SAAUjxE,EAAIowE,QAChI,EACAvC,EAAOloC,GAAG,YAAY,SAAUttC,GAC9B,IAAImhG,EACJ,IAAKqyE,EAAmBxzK,KAAqB,IAAdA,EAAE04H,SAA+B,KAAd14H,EAAE04H,UAAmB2kK,IAKrE,OAJAl8L,EAAkBi8L,IAClB5nN,EAAO6C,SAAS2Z,YAAY,UAAU,EAAO,MAC7CmP,IACAnhG,EAAE8Y,kBACK,CAEX,IACAnR,EAAIhG,KAAK6zE,EAAO6C,SAAU,OAAO,SAAUr4E,GACzC,IAAImhG,GACCqyE,EAAmBxzK,IAAMq9R,MAC5Bl8L,EAAkBi8L,IAClBtlG,GAAM/1C,iBAAiBvsE,GAAQ,WAC7B2rB,GACF,IAEJ,IAgPEk9L,IACAE,IACAC,IACAI,IACAR,MAQG,CACLt2D,uBAAwBA,EACxB70D,SA1Ea,WACb,IAAKqqH,GAAW9nN,EAAOylD,QACrB,OAAO,EAET,IAAIl+E,EAAMy4B,EAAOv8B,UAAUqhL,SAC3B,OAAQv9K,IAAQA,EAAIb,YAAiC,IAAnBa,EAAIb,UACxC,EAsEF,EAEIqjP,GAAQ1kF,GAASp2H,IAYjB+6M,GAAc,SAAUhqN,GAC1B,OAAOA,EAAOwQ,OAASxQ,EAAO+O,aAAa96E,SAASC,mBAAgBpO,CACtE,EACImkS,GAAkB,SAAUx6R,GAC9B,OAAO0qL,GAAS1qL,GAAK,SAAUK,GAC7B,OAA0B,IAAnBvI,EAAYuI,EACrB,GACF,EACIo6R,GAAmB,SAAUlqN,GAC/B,IAAIM,EAAWN,EAAOM,SAClBipL,EAAYvpL,EAAOuwL,aAAahH,UACpC,OAAO0gC,GAAgB,CACrBnxD,2BAA4Bx4J,EAASw4J,2BACrCzE,qBAAsB/zJ,EAAS+zJ,qBAC/BhgC,oBAAqB/zH,EAAS+zH,oBAC9B85D,2BAA4B7tL,EAAS6tL,2BACrC/5D,kBAAmB9zH,EAAS8zH,kBAC5B65D,yBAA0B3tL,EAAS2tL,yBACnCxF,uBAAwBnoL,EAASmoL,uBACjC2F,kBAAmB9tL,EAAS8tL,kBAC5B1F,wBAAyBpoL,EAASooL,wBAClC9P,kBAAmBt4K,EAASs4K,kBAC5BvE,wBAAyB/zK,EAAS+zK,wBAClCkW,mBAAoBjqL,EAASiqL,mBAC7BtwB,eAAgB35J,EAAS25J,eACzB6zB,oBAAqBxtL,EAASwtL,oBAC9BS,cAAejuL,EAASiuL,cACxB1C,UAAWm+B,GAAYhqN,GACvBixB,UAAU,EACV25J,WAAYrB,EACZhkQ,SAAUy6E,EAAO6C,SACjBqoL,sBAAuB5qL,EAAS4qL,uBAEpC,EA+GIi/B,GAAoC,SAAUnqN,GAChD,IAAIztC,EAAOytC,EAAO7tE,IAAI2xE,UACjB9D,EAAOwQ,QAAY80I,GAAatlJ,IAAWA,EAAOv8B,UAAUQ,UAAS,KAAU1R,GAClFmsL,GAAgBnsL,GAAMrmC,MAAK,SAAUqoC,GACnC,IAAIhiC,EAAOgiC,EAAIquC,UACX+uJ,EAAWvyC,GAAU7sL,GAAQmsN,GAAgBnsN,GAAM7G,MAAM6oC,GAAOA,EAChE+mJ,GAAIriL,QAAQ5B,OA5ocJ,SAAU2oE,EAAQt8B,GAClC,IAAInR,EAAO//B,GAAaF,QAAQ0tE,EAAO7hE,WAEnCgyN,GADQH,GAAYhwJ,GAAUnzE,EAAS/B,KAAK44C,GAAO72C,EAAS1B,QACxCc,IAAIgkO,IAA6B3jO,OAAOyjO,GAAYx9L,IAC5EytC,EAAOy1I,SAAW0a,EAAY3kO,SAAW2kO,EAAcnwJ,EAAOy1I,QAChE,CAwocQ20E,CAAYpqN,EAAQ2xJ,EAASve,WAE7BpzI,EAAOv8B,UAAUyuH,OAAOy/D,EAASve,UAErC,GAEJ,EACIi3E,GAAa,SAAUrqN,GACzBA,EAAOsqN,4BACPtqN,EAAOg1E,aAAc,EA10eR,SAAUh1E,GAChBA,EAAOsZ,KAAK,OACrB,CAy0eEixM,CAASvqN,GACTA,EAAO3tC,OAAM,GACb83P,GAAkCnqN,GAClCA,EAAO0kF,YAAY,CAAEnyI,SAAS,IAC9BytD,EAAOwqN,aAAa,yBAA0BxqN,GApChC,SAAUA,GACpBA,EAAOM,SAASmqN,YAClBnoG,GAAM/1C,iBAAiBvsE,GAAQ,WAC7B,IAAI0yJ,GAEFA,GADiC,IAA/B1yJ,EAAOM,SAASmqN,WACJzqN,EAEAA,EAAOqsE,cAAc9rI,IAAIy/D,EAAOM,SAASmqN,aAExCx5B,WACfv+B,EAAYrgM,OAEhB,GAAG,IAEP,CAuBEq4P,CAAU1qN,EACZ,EACI2qN,GAAwB,SAAU3qN,GACpC,OAAOA,EAAOwQ,OAASxQ,EAAOmI,GAAGgtE,iBAAmBn1E,EAAO7tE,IAAIgjJ,gBACjE,EAaIy1I,GAAiB,SAAU5qN,GAC7B,IAAIm1E,EAAmBw1I,GAAsB3qN,GACzC03I,EAAUD,GAAWz3I,GACrBzgE,EAAMygE,EAAO+1E,WACb80I,EAAY,WACd11I,EAAiBmvC,UAAU/kL,GACtBygE,EAAOwQ,QACVxQ,EAAOmI,GAAGgtE,iBAAiBmvC,UAAUozB,EAEzC,EACInsG,EAAS,WACPvrC,EAAOylD,QACTolK,IAEA7qN,EAAOloC,GAAG,SAAU+yP,EAExB,EACA,GAAI7qN,EAAOipN,cAAcjhS,OAAS,EAAG,CACnC,IAAI8iS,EAAmB,GACvBlhS,GAAMsC,KAAK8zE,EAAOipN,eAAe,SAAU72R,GACzC04R,GAAoB14R,EAAQ,MAC9B,IACA4tE,EAAO7tE,IAAIo2M,SAASuiF,EACtB,CACA,IAAIC,EAAiB/oG,GAAW/4L,IApCE,SAAU+2E,EAAQzgE,EAAKyrR,GACzD,IAAI9gC,EAAW,CAAC,IAAIloE,IAAW,SAAUn4L,EAASkkG,GAC9C,OAAO48L,GAAsB3qN,GAAQmkH,QAAQ5kL,EAAK1V,EAASkkG,EAC7D,KACF,OAAI/tB,EAAOwQ,OACF05K,EAEAA,EAAShhQ,OAAO,CAAC,IAAI84L,IAAW,SAAUn4L,EAASkkG,GACtD,OAAO/tB,EAAOmI,GAAGgtE,iBAAiBgvC,QAAQ6mG,EAAanhS,EAASkkG,EAClE,KAEN,CAyBsCk9L,CAA8BjrN,EAAQzgE,EAAKm4M,IAAUhxI,KAAK6kC,GAAQgc,MAAMhc,GAI5G,OAHIvrC,EAAOM,SAAS4qN,eA3NJ,SAAUlrN,EAAQ1sE,GAClC,IAAIoK,EAAOlL,GAAaF,QAAQ0tE,EAAO7hE,WACnCsd,EAAYyiK,GAAkB3gL,GAAYG,IAC1CtL,EAAQI,GAAaW,QAAQ,SACjCu8D,GAAMt9D,EAAO,OAAQ,YACrByS,GAASzS,EAAOI,GAAaa,SAASC,IACtCuR,GAAS4W,EAAWrpB,GACpB4tE,EAAOloC,GAAG,UAAU,WAClBh5B,GAAS1M,EACX,GACF,CAkNI+4R,CAAYnrN,EAAQA,EAAOM,SAAS4qN,eAE/BH,CACT,EACIK,GAAU,SAAUprN,GACtB,IAAIM,EAAWN,EAAOM,SAAUpiE,EAAM8hE,EAAO6C,SAAUnlE,EAAOsiE,EAAO7hE,WAt4erD,SAAU6hE,GACnBA,EAAOsZ,KAAK,UACrB,CAq4eE+xM,CAAYrrN,GACPM,EAASgrN,oBAAuBhrN,EAASirN,mBAC5CrtR,EAAIR,KAAK8tR,YAAa,EACtBzB,GAAMhkF,UAAUroM,EAAM,aAAc,UAEtCsiE,EAAOqyJ,OAASs1D,GAAO3nN,GAz4eJ,SAAUA,GACtBA,EAAOsZ,KAAK,aACrB,CAw4eEmyM,CAAezrN,GACf,IAAI0rN,EAtuiBkB,SAAU1rN,GAChC,OAAOA,EAAO8O,SAAS,iBAAkB08H,GAAKxsK,QAAU,WAAQl5C,EAClE,CAouiBuB6lS,CAAkB3rN,QAChBl6E,IAAnB4lS,IACFhuR,EAAK6vB,IAAMm+P,GAETprN,EAASsrN,SACX5rN,EAAOloC,GAAG,oBAAoB,SAAUttC,GACtCZ,GAAMsC,KAAKo0E,EAASsrN,SAAS,SAAUx/H,GACrC5hK,EAAEswB,QAAUtwB,EAAEswB,QAAQ/oB,QAAQq6J,GAAS,SAAU96J,GAC/C,MAAO,wBAAuBwkF,OAAOxkF,GAAO,QAC9C,GACF,GACF,IAEF0uE,EAAOloC,GAAG,cAAc,WACtBkoC,EAAO4tK,UAAU5tK,EAAO7hE,UAC1B,IACA6hE,EAAOloC,GAAG,mCAAmC,SAAUttC,GACrDw1E,EAAO2rJ,UAAuB,qBAAXnhO,EAAEpE,IACvB,GACF,EAUIylS,GAA+B,SAAU7rN,IACpB,IAAnBA,EAAOylD,WAVY,SAAUzlD,GAC5BijL,GAAMjjL,IACTA,EAAOhQ,KAAK,CACVz9C,SAAS,EACT4pE,OAAQ,SAGZnc,EAAO8rN,aAAe9rN,EAAOxE,WAAW,CAAE2gB,OAAQ,OACpD,CAGI4vM,CAAmB/rN,GACnBqqN,GAAWrqN,GAEf,EACIgsN,GAAkB,SAAUhsN,EAAQisN,GACtC,IAAI3rN,EAAWN,EAAOM,SAClB8rE,EAAYpsE,EAAO+O,aACnB7wE,EAAM8hE,EAAO6C,SACZvC,EAASkQ,SACZxQ,EAAO+O,aAAa38E,MAAM6vI,WAAajiE,EAAOksN,eAE3CD,GAAcjsN,EAAOwQ,SACxBtyE,EAAIqwC,OACJrwC,EAAI6rB,MAAMi2C,EAAOmsN,YACjBjuR,EAAIwwC,SAEFsxB,EAAOwQ,SACTu5M,GAAMlmI,SAASzX,EAAW,oBAC1BpsE,EAAOskI,gBAAkBpmM,EAAM3Y,SAC/By6E,EAAO+oC,cAAgBn1G,OACvBosE,EAAO20D,YAAcyX,EACrBpsE,EAAOwxL,qBAAuBplH,GAEhC,IAAI1uI,EAAOsiE,EAAO7hE,UAClBT,EAAKk9C,UAAW,EAChBolB,EAAOsR,WAAahR,EAASgR,SACxBtR,EAAOsR,WACNtR,EAAOwQ,QAAqD,WAA3Cu5M,GAAM76M,SAASxxE,EAAM,YAAY,KACpDA,EAAKtL,MAAMyV,SAAW,YAExBnK,EAAK26H,gBAAkBr4D,EAAO8O,SAAS,0BAA0B,IAEnEpxE,EAAKk9C,UAAW,EAChBolB,EAAOuwL,aAAeyL,GAAah8L,GACnCA,EAAO3xD,OAAS09K,GAAOzrH,GACvBN,EAAO7tE,IAAMkzM,GAASnnM,EAAK,CACzB+rM,aAAa,EACb3W,cAAetzH,EAAOs1L,WACtB9hE,oBAAqBxzH,EACrBosN,WAAY9rN,EAAS+rN,uBACrBrkF,eAAe,EACf7B,aAAcnmI,EAAOwQ,OAASxQ,EAAO7hE,UAAY,KACjDmoM,QAAS,WACP,OAAOtmI,EAAOwQ,MAChB,EACAniE,OAAQ2xD,EAAO3xD,OACf01K,eAAgBszB,GAAwBr3I,GACxCgkH,eAAgBszB,GAAkBt3I,GAClCimI,YAAa,SAAUz7M,GACrBw1E,EAAOsZ,KAAK,YAAa9uF,EAC3B,IAEFw1E,EAAOssK,OA9OU,SAAUtsK,GAC3B,IAAIssK,EAASof,GAAUw+B,GAAiBlqN,GAASA,EAAO3xD,QA2DxD,OA1DAi+N,EAAOgf,mBAAmB,2BAA2B,SAAUprE,EAAOt5L,GAIpE,IAHA,IAAsB2L,EAAMlM,EAAxByB,EAAIo4L,EAAMl4L,OACVmK,EAAM6tE,EAAO7tE,IACbq9P,EAAe,YAAc5oQ,EAC1BkB,KAGL,IADAzB,GADAkM,EAAO2tL,EAAMp4L,IACAo6B,KAAKt7B,MACJ2L,EAAK2vB,KAAKstO,GAAe,CACrC,GAA+B,IAA3BnpQ,EAAMoE,QAAQ,UAA6C,IAA3BpE,EAAMoE,QAAQ,SAChD,SAEW,UAAT7D,IACFP,EAAQ8L,EAAIm2M,eAAen2M,EAAImlI,WAAWjxI,GAAQkM,EAAK3L,OAC5CoB,SACT3B,EAAQ,MAEVkM,EAAK2vB,KAAKstO,EAAcnpQ,GACxBkM,EAAK2vB,KAAKt7B,EAAMP,IACE,aAATO,GACT2L,EAAK2vB,KAAKstO,EAAcnpQ,GACxBkM,EAAK2vB,KAAKt7B,EAAM,OAEhB2L,EAAK2vB,KAAKstO,EAAcxvL,EAAOs1L,WAAWjvQ,EAAOO,EAAM2L,EAAK3L,MAEhE,CAEJ,IACA0lP,EAAO/8B,cAAc,UAAU,SAAUrvB,GAEvC,IADA,IAAIp4L,EAAIo4L,EAAMl4L,OACPF,KAAK,CACV,IAAIyK,EAAO2tL,EAAMp4L,GACb1B,EAAOmM,EAAK2vB,KAAK,SAAW,UACH,IAAzB97B,EAAKqE,QAAQ,SACf8H,EAAK2vB,KAAK,OAAQ,OAAS97B,EAE/B,CACF,IACI45E,EAAOM,SAAS25J,gBAClBqS,EAAO/8B,cAAc,UAAU,SAAUrvB,GAEvC,IADA,IAAIp4L,EAAIo4L,EAAMl4L,OACPF,KAAK,CACV,IAAIyK,EAAO2tL,EAAMp4L,GACjByK,EAAKnM,KAAO,EACZmM,EAAK3L,KAAO,WACZ2L,EAAKlM,MAAQ,UAAY25E,EAAO7tE,IAAIujF,OAAOnjF,EAAKlM,OAAS,IAC3D,CACF,IAEFimP,EAAO/8B,cAAc,2BAA2B,SAAUrvB,GAGxD,IAFA,IAAIp4L,EAAIo4L,EAAMl4L,OACVyiP,EAAmBzqK,EAAO3xD,OAAO+jL,sBAC9BtqM,KAAK,CACV,IAAIyK,EAAO2tL,EAAMp4L,GACbyK,EAAKg3M,QAAQkhC,IAAkD,IAA7Bl4O,EAAK81E,OAAO,MAAMrgF,SACtDuK,EAAK5M,OAAO,IAAIutO,GAAQ,KAAM,IAAII,YAAa,EAEnD,CACF,IACOgZ,CACT,CAiLkBggD,CAAatsN,GAC7BA,EAAOsvI,WAAa2gD,GAhRK,SAAUjwL,GACnC,IAAIM,EAAWN,EAAOM,SACtB,OAAOx2E,GAASA,GAAS,CAAC,EAAGogS,GAAiBlqN,IAAUiqN,GAAgB,CACtE32F,cAAehzH,EAASgzH,cACxBE,oBAAqBlzH,EAASkzH,oBAC9B4oC,eAAgB97J,EAAS87J,eACzBvxC,SAAUvqH,EAASuqH,SACnBqxC,gBAAiB57J,EAAS47J,gBAC1BL,OAAQv7J,EAASu7J,OACjBI,aAAc37J,EAAS27J,aACvBF,cAAez7J,EAASy7J,cACxB5rC,eAAgB7vH,EAAS6vH,eACzBo8F,mBAAoBjsN,EAASisN,mBAC7B57F,gBAAiBrwH,EAASqwH,gBAC1BE,wBAAyBvwH,EAASuwH,wBAClCa,iBAAkBpxH,EAASoxH,iBAC3BjE,eAAgBntH,EAASmtH,eACzB++F,oCAAqClsN,EAASksN,oCAC9CC,mBAAoBnsN,EAASmsN,mBAC7Bp+Q,OAAQiyD,EAASjyD,OACjBsrN,sBAAuBr5J,EAASq5J,sBAChC+yD,qBAAsBpsN,EAASosN,qBAC/B//N,QAAS2T,EAAS3T,QAClBujI,oBAAqB5vH,EAAS4vH,oBAC9By8F,qBAAsBrsN,EAASqsN,qBAC/B/7F,eAAgBtwH,EAASswH,eACzBjD,cAAertH,EAASqtH,cACxBN,eAAgB/sH,EAAS+sH,eACzBE,aAAcjtH,EAASitH,aACvBH,YAAa9sH,EAAS8sH,YACtBw/F,oBAAqBtsN,EAASssN,sBAElC,CAgPoCC,CAAqB7sN,GAASA,GAChEA,EAAOv8B,UAAYsiN,GAAgB/lL,EAAO7tE,IAAK6tE,EAAOx8B,SAAUw8B,EAAOsvI,WAAYtvI,GACnFA,EAAO8sN,UAAY/lE,GAAU/mJ,GAC7BA,EAAOm2D,UAAY4rI,GAAU/hM,GAC7BA,EAAO42E,YAAc8rH,GAAY1iM,GACjCA,EAAO+sN,sBAAwB,IAAI7K,GAAWliN,GAC9CA,EAAO+sK,oBAAsB+4C,GAAmB9lN,GAChD81M,GAAQ91M,GACR6/F,GAAQ7/F,GACHijL,GAAMjjL,IACTo3G,GAAQp3G,GAEV,IAAImV,EAhnDQ,SAAUnV,GACtB,OAAKijL,GAAMjjL,GAGF1tD,GAAK,MAFL0vQ,GAA0BhiN,EAIrC,CA0mDcg8F,CAAQh8F,GACpB21M,GAAQ31M,EAAQmV,GAvrGJ,SAAUnV,GAClB42I,GAAmB52I,IACrBA,EAAOloC,GAAG,aAAcjvC,EAAMglQ,GAAe7tL,GAEjD,CAorGEolB,CAAQplB,GACRujM,GAAQvjM,GACR,IAAIgtN,EAAgB7pC,GAAQnjL,GAC5BorN,GAAQprN,GACRgtN,EAAc1hS,MAAK,WACjBs/R,GAAe5qN,GAAQ0G,MAAK,WAC1B,OAAOmlN,GAA6B7rN,EACtC,GACF,IAAG,SAAUitN,GACXjtN,EAAOktN,kBAAiB,GACxBtC,GAAe5qN,GAAQ0G,MAAK,WAC1BumN,IAAWvmN,MAAK,SAAUymN,GACxBntN,EAAOktN,kBAAiB,GACxBrB,GAA6B7rN,EAC/B,IAAG,SAAUl3D,GACXk3D,EAAO24L,oBAAoBpqN,KAAK,CAC9BnoD,KAAM,QACNkN,KAAMzM,OAAOiiB,KAEf+iR,GAA6B7rN,EAC/B,GACF,GACF,GACF,EAEIotN,GAAQ/nF,GAASp2H,IAyBjBo+M,GAAgB,SAAUrtN,GAC5B,IAAImsN,EA/+iBW,SAAUnsN,GACzB,OAAOA,EAAO8O,SAAS,UAAW,kBACpC,CA6+iBmBw+M,CAAWttN,GAAU,gBA5+iBf,SAAUA,GACjC,OAAOA,EAAO8O,SAAS,oBAAqB,GAC9C,EA2+iBMsmJ,CAAmBp1J,KAAYA,EAAO20L,kBACxCw3B,GAAc,eAAiBnsN,EAAO41E,gBAAgB4/E,SAAW,QAEnE22D,GAAc,wEACd,IAAIoB,EA9+iBU,SAAUvtN,GACxB,OAAOy2I,GAAez2I,EAAQ,UAAW,UAC3C,CA4+iBewtN,CAAUxtN,GACnBytN,EA5+iBa,SAAUztN,GAC3B,OAAOy2I,GAAez2I,EAAQ,aAAc,GAC9C,CA0+iBkB0tN,CAAa1tN,GACzB2tN,EAAqB3tN,EAAOt+D,UAxxiBV,SAAUs+D,GAChC,OAAOA,EAAO8O,SAAS,mBAAoB,wCAAyC,SACtF,CAsxiB4C8+M,CAAkB5tN,IAK5D,OAJI22I,GAAyB32I,KAC3BmsN,GAAc,uDAAyDx1E,GAAyB32I,GAAU,QAE5GmsN,GAAc,oBAA4BoB,EAAS,6BAA+BE,EAAY,cAAgBztN,EAAOh7E,GAAK,iBAAmB2oS,EAA/H,sBAEhB,EACIE,GAAe,SAAU7tN,EAAQj4D,GACnC,IA5BkC/iB,EAAIsvF,EAAew5M,EACjDt+J,EA2BAu+J,EAAc/tN,EAAOt+D,UAAU,kBAC/BssR,GA7B8BhpS,EA6BJg7E,EAAOh7E,GA7BCsvF,EA6BGy5M,EAAahmR,EAAE3G,OA7BH0sR,EAr+iBlC,SAAU9tN,GAC7B,OAAOA,EAAO8O,SAAS,eAAgB,CAAC,EAC1C,CAggjBkEm/M,CAAejuN,GA5B3EwvD,EAASh9H,GAAaW,QAAQ,UAClCoL,GAASixH,EAAQs+J,GACjBvvR,GAASixH,EAAQ,CACfxqI,GAAIA,EAAK,OACTkpS,YAAa,IACbC,kBAAmB,OACnB75M,MAAOA,IAETtxD,GAAMwsG,EAAQ,yBACPA,GAmBiFr9H,IACxF67R,EAAI1qG,OAAS,WACX0qG,EAAI1qG,OAAS,KACbtjH,EAAOsZ,KAAK,OACd,EACA,IAAI80M,EA9CY,SAAUpuN,EAAQguN,GAClC,GAAIzoS,SAAS8oS,SAAWz6R,OAAOwkK,SAASk2H,UAAYhzG,GAAIriL,QAAQ5B,OAAQ,CACtE,IAAIk3R,EAAWn0B,GAAK,OACpBp6L,EAAOuuN,GAAY,WACjBvC,GAAgBhsN,EAClB,EACA,IAAIwuN,EAAiB,2DAAkEjpS,SAAS8oS,OAA3E,yCAAoIruN,EAAOh7E,GAA3I,wDAA+MupS,EAAW,cAE/O,OADAnB,GAAMrnF,UAAUioF,EAAK,MAAOQ,IACrB,CACT,CACA,OAAO,CACT,CAmCwBC,CAAYzuN,EAAQguN,GAK1C,OAJAhuN,EAAOwxL,qBAAuBzpP,EAAEs5I,gBAChCrhF,EAAOurE,cAAgByiJ,EACvBhuN,EAAOmsN,WAAakB,GAAcrtN,GAClCotN,GAAMnnS,IAAI8hB,EAAEs5I,gBAAiB2sI,GACtBI,CACT,EAcIM,GAAQrpF,GAASp2H,IACjB0/M,GAAa,SAAU3uN,EAAQ4uN,EAAoB38B,GACrD,IAAI48B,EAAShhF,GAActtM,IAAI0xP,GAC3BrkD,EAAYC,GAAczpB,KAAK6tE,IAAWjyL,EAAO20L,gBAAgB5iQ,QAAQ,MAAO,IAEpF,GADAkgQ,EAASroQ,GAAMu8C,KAAK8rN,GAChB48B,IAAyD,IAA/CjlS,GAAM2yL,QAAQqyG,EAAoB38B,GAAgB,CAI9D,GAHAroQ,GAAMsC,KAAK2hN,GAAcnB,aAAaulD,IAAS,SAAUtpO,GACvDgmQ,GAAW3uN,EAAQ4uN,EAAoBjmQ,EACzC,IACIq3C,EAAOkjL,QAAQ+O,GACjB,OAEF,IACE,IAAI68B,EAAiB,IAAID,EAAO7uN,EAAQ4tI,EAAW5tI,EAAO0lI,GAC1D1lI,EAAOkjL,QAAQ+O,GAAU68B,EACrBA,EAAe5vQ,OACjB4vQ,EAAe5vQ,KAAK8gD,EAAQ4tI,GAC5BghF,EAAmB9pS,KAAKmtQ,GAI5B,CAFE,MAAOznQ,IAv/MS,SAAUw1E,EAAQp5E,EAAMkiB,GAC5C,IAAIL,EAAU+iM,GAAK9pM,UAAU,CAC3B,mCACA9a,IAEF2gO,GAAUvnJ,EAAQ,kBAAmB,CAAEv3D,QAASA,IAChDuwP,GAAUvwP,EAASK,GACnB8vP,GAAa54L,EAAQv3D,EACvB,CAg/MMsmR,CAAgB/uN,EAAQiyL,EAAQznQ,EAClC,CACF,CACF,EACIwkS,GAAmB,SAAUpoS,GAC/B,OAAOA,EAAKmL,QAAQ,MAAO,GAC7B,EA8CIk9R,GAAyB,SAAUj7R,GACrC,MAAO,CACL6uI,gBAAiB7uI,EACjBqtJ,gBAAiBrtJ,EACjB4xC,IAAK,CAAC,EAEV,EAMIspP,GAAmB,SAAUlvN,GAC/B,IAAIt3B,EAAgBs3B,EAAO+O,aAC3B,OAAO/O,EAAOwQ,OAASy+M,GAAuB,MAPnB,SAAUvmP,GACrC,IAAI24G,EAAkBqtI,GAAMl2J,OAAO,OAEnC,OADAk2J,GAAM3lF,YAAY1nD,EAAiB34G,GAC5BumP,GAAuB5tI,EAChC,CAGwD8tI,CAAuBzmP,EAC/E,EACI0mP,GAAgB,SAAUpvN,GAC5B,IAAIgD,EAAMhD,EAAO+O,aAEjB,OADA/O,EAAO6wL,WAAa7tL,EAAI5wE,MAAM6wF,QAC1Bs2F,EAAWs+B,GAAS73I,IAnCE,SAAUA,GACpC,OAAOA,EAAOmxL,MAAM1uF,UACtB,CAkCW4sH,CAAsBrvN,GACpBt4E,EAAWmwN,GAAS73I,IAlCP,SAAUA,GAClC,IAAIgD,EAAMhD,EAAO+O,aAEbh4E,EADQ8gN,GAAS73I,EACVmxL,CAAMnxL,EAAQgD,GAQzB,OAPIjsE,EAAK8rI,gBAAgBzuI,WACvB2C,EAAK8rI,gBAAgB79I,GAAK+R,EAAK8rI,gBAAgB79I,IAAMg7E,EAAOh7E,GAAK,WAE/D+R,EAAKsqJ,iBAAmBtqJ,EAAKsqJ,gBAAgBjtJ,WAC/C2C,EAAKsqJ,gBAAgBr8J,GAAK+R,EAAKsqJ,gBAAgBr8J,IAAMg7E,EAAOh7E,GAAK,oBAEnE+R,EAAKqK,OAASrK,EAAKu4R,aAAev4R,EAAKu4R,aAAetsN,EAAI3hE,aACnDtK,CACT,CAuBWw4R,CAAoBvvN,GAEpBkvN,GAAiBlvN,EAE5B,EAeI9gD,GAAO,SAAU8gD,GACnBA,EAAOsZ,KAAK,iBAjFE,SAAUtZ,GACxB,IAAIwvN,EAAe5lS,GAAMu8C,KAAK6wK,GAAgBh3I,IAC1CyvN,EAAezvN,EAAOmI,GAAGC,SAASC,SAASniF,MAC3CwpS,EAAY5lS,GAASA,GAAS,CAAC,EAAG9D,GAAYua,IAAI,WAAWra,OAAQF,GAAYua,IAAIivR,GAActpS,OACvGg0L,GAAOw1G,GAAW,SAAUC,EAASlwN,GAC9B/uE,GAAM++R,EAAchwN,IACvBO,EAAOmI,GAAGC,SAASwnN,QAAQnwN,EAAMkwN,EAErC,GACF,CAyEEE,CAAU7vN,GAxEI,SAAUA,GACxB,IAAImxL,EAAQt5C,GAAS73I,GACrB,GAAIu5G,EAAW43E,GAAQ,CACrBnxL,EAAOM,SAAS6wL,MAAQ69B,GAAiB79B,GACzC,IAAI2+B,EAAQhiF,GAAavtM,IAAI4wP,GAC7BnxL,EAAOmxL,MAAQ,IAAI2+B,EAAM9vN,EAAQ8tI,GAAa1pB,KAAK+sE,IAC/CnxL,EAAOmxL,MAAMjyO,MACf8gD,EAAOmxL,MAAMjyO,KAAK8gD,EAAQ8tI,GAAa1pB,KAAK+sE,IAAUnxL,EAAO20L,gBAAgB5iQ,QAAQ,MAAO,IAAKiuE,EAAO0lI,EAE5G,MACE1lI,EAAOmxL,MAAQ,CAAC,CAEpB,CA6DE4+B,CAAU/vN,GAzFM,SAAUA,GAC1B,IAAI4uN,EAAqB,GACzBhlS,GAAMsC,KAAK+rN,GAAWj4I,GAAQxhD,MAAM,SAAS,SAAU53B,GACrD+nS,GAAW3uN,EAAQ4uN,EAAoBI,GAAiBpoS,GAC1D,GACF,CAqFEopS,CAAYhwN,GACZ,IAAIiwN,EAAab,GAAcpvN,IAnBR,SAAUA,EAAQp6B,GACzC,IAAIsqP,EAAc,CAChB1hN,KAAM3hF,EAAS/B,KAAK86C,EAAI4oC,MAAM9iF,MAAMzD,GACpCszE,KAAM1uE,EAAS/B,KAAK86C,EAAI21B,MAAM7vE,MAAMzD,GACpC6zD,QAASjvD,EAAS/B,KAAK86C,EAAIkW,SAASpwD,MAAMzD,GAC1CwzD,WAAY5uD,EAAS/B,KAAK86C,EAAI6V,YAAY/vD,MAAMlC,GAChDqyD,OAAQ,WACDmkB,EAAOhlC,KAAK02C,cACf7kF,EAAS/B,KAAK86C,EAAIiW,QAAQ5vD,IAAI5B,EAElC,GAEF21E,EAAOmI,GAAKr+E,GAASA,GAAS,CAAC,EAAGk2E,EAAOmI,IAAK+nN,EAChD,CAOEC,CAAmBnwN,EAAQnzE,EAAS/B,KAAKmlS,EAAWrqP,KAAKl6C,MAAM,CAAC,IAChE,IAAI0kS,EAAU,CACZvtJ,gBAAiBotJ,EAAWptJ,gBAC5Bwe,gBAAiB4uI,EAAW5uI,iBAI9B,OAFArhF,EAAO6iE,gBAAkButJ,EAAQvtJ,gBAAkButJ,EAAQvtJ,gBAAkB,KAC7E22H,GAA6Bx5L,GACzBA,EAAOwQ,OACFw7M,GAAgBhsN,GA5Id,SAAUA,EAAQowN,GAC7B,IAAIhC,EAAkBP,GAAa7tN,EAAQowN,GACvCA,EAAQvtJ,kBACVuqJ,GAAM7sR,IAAI6vR,EAAQvtJ,iBAAiBzwI,MAAM6wF,QAAUjjB,EAAO6wL,WAC1D7wL,EAAOqwN,OAASjD,GAAM3vH,SAAS2yH,EAAQvtJ,kBAEzC7iE,EAAO+O,aAAa38E,MAAM6wF,QAAU,OACpCmqM,GAAMrnF,UAAU/lI,EAAOh7E,GAAI,cAAe,QACrCopS,GACHpC,GAAgBhsN,EAEpB,CAmIWy6F,CAAOz6F,EAAQowN,EAE1B,EAEIE,GAAQjrF,GAASp2H,IACjBshN,GAAoB,SAAU3pS,GAChC,MAA0B,MAAnBA,EAAKo9E,OAAO,EACrB,EACIwsN,GAAe,SAAUC,EAAczwN,GACzC,IAAI0wN,EAAen5E,GAAgBv3I,GAC/B2wN,EAxkjBe,SAAU3wN,GAC7B,OAAOA,EAAO8O,SAAS,eAAgB,GAAI,SAC7C,CAskjBoB8hN,CAAe5wN,GACjC,IAAmC,IAA/BwrI,GAAKa,QAAQqkF,IAA4C,OAAjBA,EAAuB,CACjE,IAAIG,EAAwB,KAAhBF,EAAqBA,EAAc3wN,EAAOqsE,cAAcwJ,QAAU,UAAY66I,EAAe,MACzGD,EAAaxqS,IAAI4qS,EAAO5oS,OAAMnC,GAAW,YArnNrB,SAAUk6E,EAAQwkD,EAAK59H,GAC7CiyQ,GAAS74L,EAAQ,oBAAqB84L,GAAgB,WAAYt0I,EAAK59H,GACzE,CAonNMkqS,CAAkB9wN,EAAQ6wN,EAAOH,EACnC,GACF,CACF,EA6BIK,GAA0B,SAAU/wN,EAAQp5E,EAAMiL,GACpD,OAAOhF,EAAS/B,KAAKlE,GAAM0F,QAAO,SAAU1F,GAC1C,OAAOA,EAAKoB,OAAS,IAAMhC,GAAY+8B,IAAIn8B,EAC7C,IAAGqF,KAAI,SAAUrF,GACf,MAAO,CACL49H,IAAKxkD,EAAOqsE,cAAcwJ,QAAU,UAAYjvJ,EAAO,SAAWiL,EAAS,MAC3EjL,KAAMiG,EAASJ,KAAK7F,GAExB,GACF,EACI8oS,GAAY,SAAUe,EAAczwN,EAAQnuE,GAC9C,IAAIm/R,EAAkBD,GAAwB/wN,EAAQ,UAAWnuE,GAC7Do/R,EAtBuB,SAAUjxN,GACrC,OAAOnzE,EAAS/B,KA3njBA,SAAUk1E,GAC1B,OAAOA,EAAO8O,SAAS,YAAa,GAAI,SAC1C,CAynjBuBoiN,CAAYlxN,IAAS1zE,QAAO,SAAUk4H,GACzD,OAAOA,EAAIx8H,OAAS,CACtB,IAAGiE,KAAI,SAAUu4H,GACf,MAAO,CACLA,IAAKA,EACL59H,KAAMiG,EAAS1B,OAEnB,GACF,CAauBgmS,CAAuBnxN,GAAQh0E,SAAQ,WAC1D,OAAO+kS,GAAwB/wN,EAAQg3I,GAAgBh3I,GAAS,GAClE,IACA65G,EAruxBQ,SAAUtqL,GAKlB,IAJA,IAAIhC,EAAI,GACJzI,EAAO,SAAUwB,GACnBiH,EAAEzI,KAAKwB,EACT,EACSwB,EAAI,EAAGA,EAAIyH,EAAIvH,OAAQF,IAC9ByH,EAAIzH,GAAGoE,KAAKpH,GAEd,OAAOyI,CACT,CA4txBSyD,CAAI,CACTggS,EACAC,KACE,SAAUG,GACZX,EAAaxqS,IAAImrS,EAAQ5sK,IAAKv8H,OAAMnC,GAAW,YA5qN9B,SAAUk6E,EAAQwkD,EAAK59H,GAC1CiyQ,GAAS74L,EAAQ,iBAAkB84L,GAAgB,QAASt0I,EAAK59H,GACnE,CA2qNMyqS,CAAerxN,EAAQoxN,EAAQ5sK,IAAK4sK,EAAQxqS,KAAKkF,iBACnD,GACF,GACF,EAsCIk/M,GAAc,SAAUhrI,EAAQnuE,GAClC,IAAI4+R,EAAenmF,GAAaA,cA1FlB,SAAUmmF,EAAczwN,EAAQnuE,EAAQ8qF,GACtD,IAAIw0K,EAAQt5C,GAAS73I,GACrB,GAAIu5G,EAAW43E,GAAQ,CACrB,IAAKo/B,GAAkBp/B,KAAWzgQ,GAAMo9M,GAAa1pB,KAAM+sE,GAAQ,CACjE,IAAImgC,EAvgjBQ,SAAUtxN,GAC1B,OAAOA,EAAO8O,SAAS,YACzB,CAqgjBqByiN,CAAYvxN,GACvBsxN,EACFxjF,GAAa99I,KAAKmhM,EAAOnxL,EAAO41E,gBAAgB50G,WAAWswP,IAE3DxjF,GAAa99I,KAAKmhM,EAAO,UAAYA,EAAQ,SAAWt/P,EAAS,MAErE,CACA4+R,EAAa1lF,WAAU,WACrB+C,GAAaX,QAAQgkD,EAAOx0K,EAC9B,GACF,MACEA,GAEJ,CA0EE60M,CAAUf,EAAczwN,EAAQnuE,GAAQ,WACtC2+R,GAAaC,EAAczwN,GAC3B0vN,GAAUe,EAAczwN,EAAQnuE,GAzClB,SAAUmuE,EAAQnuE,GAClCjI,GAAMsC,KAjhjBmB,SAAU8zE,GACnC,OAAOA,EAAO8O,SAAS,mBACzB,CA+gjBa2iN,CAAqBzxN,IAAS,SAAUwkD,EAAK59H,GACtDinN,GAAc79I,KAAKppE,EAAM49H,EAAKv8H,OAAMnC,GAAW,WAC7CizQ,GAAgB/4L,EAAQwkD,EAAK59H,EAC/B,IACAo5E,EAAOM,SAAS4iL,SAAW,IAAMt8P,CACnC,IACAgD,GAAMsC,KAAK+rN,GAAWj4I,GAAQxhD,MAAM,SAAS,SAAUyzO,GAErD,IADAA,EAASroQ,GAAMu8C,KAAK8rN,MACLpkD,GAAczpB,KAAK6tE,GAChC,GAAIs+B,GAAkBt+B,GAAS,CAC7BA,EAASA,EAAO1gQ,OAAO,EAAG0gQ,EAAOjqQ,QACjC,IAAI0kN,EAAemB,GAAcnB,aAAaulD,GAC9CroQ,GAAMsC,KAAKwgN,GAAc,SAAUglF,GACjC,IAAIt9B,EAAkB,CACpBziQ,OAAQ,WACRk7M,SAAU6kF,EACV7/R,OAAQ,UAAYA,EAAS,OAE3B82B,EAAMklL,GAAclB,UAAUynD,EAAiBs9B,GACnD7jF,GAAc79I,KAAKrnC,EAAIkkL,SAAUlkL,EAAK1gC,OAAMnC,GAAW,WACrDizQ,GAAgB/4L,EAAQr3C,EAAIh3B,OAASg3B,EAAIkkL,SAAWlkL,EAAI92B,OAAQ82B,EAAIkkL,SACtE,GACF,GACF,KAAO,CACL,IAAI8kF,EAAQ,CACVhgS,OAAQ,WACRk7M,SAAUolD,EACVpgQ,OAAQ,UAAYA,EAAS,OAE/Bg8M,GAAc79I,KAAKiiM,EAAQ0/B,EAAO1pS,OAAMnC,GAAW,WACjDizQ,GAAgB/4L,EAAQ2xN,EAAMhgS,OAASggS,EAAM9kF,SAAW8kF,EAAM9/R,OAAQogQ,EACxE,GACF,CAEJ,GACF,CAMI2/B,CAAY5xN,EAAQnuE,GACpB4+R,EAAa1lF,WAAU,WAChB/qI,EAAOylD,SACVvmG,GAAK8gD,EAET,GAAGA,GAAQ,WACJA,EAAOylD,SACVvmG,GAAK8gD,EAET,GACF,GACF,EAOIyhB,GAAS,SAAUzhB,GACrB,IAAIh7E,EAAKg7E,EAAOh7E,GAChBwmN,GAAKC,QAAQ8L,GAAgBv3I,IAC7B,IAAI82H,EAAe,WACjBw5F,GAAMrsR,OAAOrQ,OAAQ,QAASkjM,GAC9B92H,EAAOyhB,QACT,EACA,GAAKu1G,GAAW1B,MAAMuB,WAItB,GAAK72H,EAAO+O,cAGPusG,GAAIjjD,gBAAT,CAGA,IAAIrkI,EAAUxB,GAAaF,QAAQ0tE,EAAO+O,cACtCzjD,EArwxBQ,SAAUt3B,GACtB,OAAO5F,EAAM4F,EAAQ7B,IAAIwtB,YAAY,SAAUzxB,EAAKg0B,GAElD,OADAh0B,EAAIg0B,EAAKt7B,MAAQs7B,EAAK77B,MACf6H,CACT,GAAG,CAAC,EACN,CAgwxBiB2jS,CAAQ79R,GACvBgsE,EAAOloC,GAAG,UAAU,WAClB3pC,EAAM6F,EAAQ7B,IAAIwtB,YAAY,SAAUuC,GACtC,OAAOhiB,GAASlM,EAASkuB,EAAKt7B,KAChC,IACA2X,GAASvK,EAASs3B,EACpB,IACA00C,EAAOmI,GAAGgtE,iBA/Bc,SAAUnhJ,EAASgsE,GAC3C,OAAOkiD,GAASuiE,WAAWzwL,EAAS,CAClC+vL,eAAgBi0B,GAAkBh4I,GAClCgkH,eAAgBszB,GAAkBt3I,IAEtC,CA0B+B8xN,CAAoB99R,EAASgsE,IAzojB7C,SAAUA,GACvB,OAAOA,EAAO8O,SAAS,SACzB,CAwojBO2mE,CAASz1E,IACZA,EAAOksN,cAAgBlsN,EAAO+O,aAAa38E,MAAM6vI,WACjDjiE,EAAO+O,aAAa38E,MAAM6vI,WAAa,UAEvCjiE,EAAOwQ,QAAS,EAElB,IAAI6vB,EAAOrgC,EAAO+O,aAAasxB,MAAQiwL,GAAMzsN,UAAU7+E,EAAI,QACvDq7G,IACFrgC,EAAOoxL,YAAc/wJ,EA/ojBJ,SAAUrgC,GAC7B,OAAOA,EAAO8O,SAAS,eACzB,CA8ojBQ6hL,CAAe3wL,KAAYs/G,GAAkBt/G,EAAO+O,gBACtDuhN,GAAMvnF,YAAYunF,GAAM93J,OAAO,QAAS,CACtCpyI,KAAM,SACNQ,KAAM5B,IACJA,GACJg7E,EAAO2wL,gBAAiB,GAE1B3wL,EAAOsxL,kBAAoB,SAAU9mQ,GACnCw1E,EAAOsZ,KAAK9uF,EAAEpE,KAAMoE,EACtB,EACA8lS,GAAMnkS,KAAKk0G,EAAM,eAAgBrgC,EAAOsxL,mBACxCtxL,EAAOloC,GAAG,SAAS,WACjBkoC,EAAO+xN,cACT,KA1pjBoB,SAAU/xN,GAChC,OAAOA,EAAO8O,SAAS,eACzB,CAypjBQkjN,CAAkBhyN,IAAYqgC,EAAKwkE,OAAOzwK,UAAaisG,EAAKwkE,OAAO78K,QAAWq4G,EAAKgxJ,gBACrFhxJ,EAAKgxJ,cAAgBhxJ,EAAKwkE,OAC1BxkE,EAAKwkE,OAAS,WAGZ,OAFA7kG,EAAOqsE,cAAc4lJ,cACrBjyN,EAAOshL,UAAS,GACTjhJ,EAAKgxJ,cAAchxJ,EAC5B,IAGJrgC,EAAOme,cAAgB25K,GAAc93L,GACrCA,EAAO24L,oBAAsBzB,GAAoBl3L,GAlqjB/B,SAAUA,GAC5B,MAAuC,QAAhCA,EAAO8O,SAAS,WACzB,CAiqjBMojN,CAAclyN,IAChBA,EAAOloC,GAAG,cAAc,SAAUttC,GAC5BA,EAAEgmQ,OACJhmQ,EAAEswB,QAAUw1Q,GAAM56M,OAAOlrF,EAAEswB,SAE/B,IArqjB6B,SAAUklD,GACzC,OAAOA,EAAO8O,SAAS,0BACzB,CAqqjBMqjN,CAA2BnyN,IAC7BA,EAAOloC,GAAG,UAAU,WACdkoC,EAAOg1E,aACTh1E,EAAOwwL,MAEX,IAzqjByB,SAAUxwL,GACrC,OAAOA,EAAO8O,SAAS,qBACzB,CAyqjBMsjN,CAAuBpyN,KACzBA,EAAOkxL,cAAgB,YACjBlxL,EAAOg1E,aAAgBh1E,EAAOixL,WAAcjxL,EAAOy9F,YACrDz9F,EAAOwwL,KAAK,CACVr0K,OAAQ,MACR++I,WAAW,EACXm3D,WAAW,GAGjB,EACAryN,EAAOqsE,cAAcv0G,GAAG,eAAgBkoC,EAAOkxL,gBAEjDlxL,EAAOqsE,cAAcpmJ,IAAI+5E,GACzBgrI,GAAYhrI,EAAQA,EAAOnuE,OAvE3B,OAREy+R,GAAMnkS,KAAKyH,OAAQ,QAASkjM,EAgFhC,EAEI82C,GAAY,SAAU5tK,EAAQgD,GAChC,OAjoSgB,SAAUhD,EAAQgD,GAClC,OAAOuhL,GAAwBvkL,GAAQA,OAAO4tK,UAAU5qK,EAC1D,CA+nSSsvN,CAAYtyN,EAAQgD,EAC7B,EAEIuvN,GAAkB,CACpB,YAAa,OACb,cAAe,QAEbC,GAAuB,SAAUl8B,EAAU5yH,EAAS1gE,GAetD,OAAO76C,GAAU31B,GAAaF,QAAQ0wE,IAAM,SAAUA,GACpD,OAfgB,SAAUA,GAC1B,OAAOpjE,GAAOojE,EAAKszL,GAAUtqQ,SAAQ,WACnC,MAAkB,SAAdpF,GAAKo8E,GACAz9D,GAAMgtR,GAAiBj8B,GAAUnqQ,MAAK,SAAUsmS,GACrD,OAAO9zR,GAAOqkE,EAAKyvN,EACrB,IAEO5lS,EAAS1B,MAEpB,GACF,CAKSunS,CAAY1vN,EACrB,IALa,SAAUA,GACrB,OAAO3nE,GAAG7I,GAAaF,QAAQoxI,GAAU1gE,EAC3C,GAIF,EAOI2vN,GAAc,SAAUr8B,GAC1B,OAAO,SAAU5yH,EAAS1gE,GACxB,OAAOn2E,EAAS/B,KAAKk4E,GAAK/2E,IAAIuG,GAAaF,SAAShG,OAAOkxL,IAAarxL,MAAK,SAAU6H,GACrF,OAAOw+R,GAAqBl8B,EAAU5yH,EAAS1vI,EAAQ7B,KAAKpG,GANxC,SAAUuqQ,EAAUtzL,GAC5C,OAAOn2E,EAAS/B,KAAKu6M,GAASp2H,IAAIC,SAASlM,EAAKszL,GAAU,GAC5D,CAIqEs8B,CAAoBt8B,EAAUtiQ,EAAQ7B,KACvG,IAAGzG,MAAM,GACX,CACF,EACImnS,GAAcF,GAAY,aAC1BG,GAAgB5qS,GAdM,SAAU0wJ,GAClC,OAAOA,EAAW7mJ,QAAQ,YAAa,IAAIA,QAAQ,QAAS,IAC9D,GAYiD4gS,GAAY,gBAEzDI,GAAwB,SAAU/yN,GACpC,OAAO0+I,GAAgB1+I,EAAO7hE,WAAWlS,KAAI,SAAUkpF,GACrD,IAAI15D,EAAY05D,EAAM15D,YACtB,OAAO8jK,GAAS9jK,GAAaA,EAAUhf,WAAagf,CACtD,GACF,EAQIu3Q,GAAY,SAAUhzN,EAAQr8D,GAChC,OARoB,SAAUq8D,GAC9B,OAAOnzE,EAAS/B,KAAKk1E,EAAOv8B,UAAUmiC,UAAUz5E,MAAK,SAAUu3C,GAC7D,IAAInR,EAAOytC,EAAO7hE,UAElB,OADoBulC,EAAIC,iBAAmBpR,GAA4B,IAApBmR,EAAIuB,YAChCp4C,EAAS1B,OAAS0B,EAAS/B,KAAKk1E,EAAOv8B,UAAUQ,UAAS,GACnF,GACF,CAESgvP,CAAgBjzN,GAAQh0E,QAAQnD,EAAMkqS,GAAuB/yN,IAAS/zE,IAAIuG,GAAaF,SAAShG,OAAOkxL,IAAarxL,KAAKwX,EAClI,EACIuvR,GAAW,SAAUlzN,EAAQmzN,GAC/B,OAAOH,GAAUhzN,EAAQy5G,EAAS5sL,EAASJ,KAAM0mS,GACnD,EAEIC,GAAqB,SAAUpzN,EAAQ35E,GACzC,GAAI,YAAYiP,KAAKjP,GAAQ,CAC3B,IAAIgtS,EAAiB95R,SAASlT,EAAO,IACrC,GAAIgtS,GAAkB,GAAKA,GAAkB,EAAG,CAC9C,IAAIhrC,EA14jBe,SAAUroL,GACjC,OAAOp2E,GAAM69G,QAAQznC,EAAO8O,SAAS,yBAA0B,wDACjE,CAw4jBsBwkN,CAAmBtzN,GAC/BuzN,EAx4jBe,SAAUvzN,GACjC,OAAOp2E,GAAM69G,QAAQznC,EAAO8O,SAAS,oBAAqB,IAC5D,CAs4jBwB0kN,CAAmBxzN,GACrC,OAAIuzN,EACKA,EAAYF,EAAiB,IAAMhtS,EAEnCgiQ,EAAUgrC,EAAiB,IAAMhtS,CAE5C,CACE,OAAOA,CAEX,CACE,OAAOA,CAEX,EACIotS,GAAqB,SAAU36I,GACjC,IAAID,EAAQC,EAAKt6H,MAAM,WACvB,OAAOo7J,EAAM/gC,GAAO,SAAUC,GAC5B,OAA2B,IAAvBA,EAAKruJ,QAAQ,MAAiBiH,GAAWonJ,EAAM,MAAQpnJ,GAAWonJ,EAAM,KAGnEA,EAFA,IAAOA,EAAO,GAIzB,IAAG1rI,KAAK,IACV,EAwDIsmR,GAAgB,SAAU1zN,EAAQ35E,GACpC,IAAIkmB,EAjBa,SAAUlmB,GAC3B,GAAqB,iBAAVA,EAAoB,CAC7B,IAAIi4F,EAAU10F,GAAM6yL,OAAO,CACzBgwD,MAAOpmP,EAAMomP,MACb5zN,KAAM,CAAE4zN,MAAOpmP,EAAMomP,QACpBpmP,GACH,MAAO,CACLy0B,QAASz0B,EAAMy0B,QACfwjE,QAASA,EAEb,CACA,MAAO,CACLxjE,QAASz0B,EACTi4F,QAAS,CAAC,EAEd,CAEeq1M,CAAattS,IAzxSR,SAAU25E,EAAQ35E,EAAOi4F,GACpCgmK,GAA2BtkL,GAAQA,OAAOq2G,cAAchwL,EAAOi4F,EACxE,CAwxSE+3F,CAAcr2G,EAAQzzD,EAAOuO,QAASvO,EAAO+xE,QAC/C,EAEIs1M,GAAShqS,GAAMsC,KACfD,GAAMrC,GAAMqC,IAAKswL,GAAU3yL,GAAM2yL,QACjCs3G,GAAiB,WACnB,SAASA,EAAe7zN,GACtB11E,KAAK46J,SAAW,CACdvhI,MAAO,CAAC,EACRg0D,KAAM,CAAC,EACPtxF,MAAO,CAAC,GAEViE,KAAK01E,OAASA,EACd11E,KAAKwpS,cAAc9zN,EACrB,CA+YA,OA9YA6zN,EAAeptS,UAAU+1F,YAAc,SAAU8vD,EAASnkE,EAAI9hF,EAAOgC,GACnE,IAAIg6L,EAAM1+J,GAAQ,EACdh3B,EAAOrC,KACX,IAAIqC,EAAKqzE,OAAOylD,QAAhB,CAz4dU,IAAUzlD,EAw5dpB,GAZ8B,aAA1BssE,EAAQp4I,gBACL,mEAAmEoB,KAAKg3I,IAAcjkJ,GAASA,EAAK0rS,YA74dvF/zN,EAg5dRrzE,EAAKqzE,OA/4dnB4F,GAAO5F,GAAQ9zE,MAAK,SAAUw3C,GAC5B,OAAOs8B,EAAOv8B,UAAUyuH,OAAOxuH,EACjC,KA24dM/2C,EAAKqzE,OAAO3tC,UAKhBhqC,EAAOsE,EAAKqzE,OAAOsZ,KAAK,oBAAqB,CAC3CgzD,QAASA,EACTnkE,GAAIA,EACJ9hF,MAAOA,KAEA23K,qBACP,OAAO,EAET,IAAIg2H,EAAgB1nJ,EAAQp4I,cAC5B,GAAImuL,EAAO11L,EAAKu4J,SAASvtE,KAAKq8M,GAO5B,OANA3xG,EAAK2xG,EAAe7rN,EAAI9hF,GACxBsG,EAAKqzE,OAAOsZ,KAAK,cAAe,CAC9BgzD,QAASA,EACTnkE,GAAIA,EACJ9hF,MAAOA,KAEF,EAaT,GAXAutS,GAAOtpS,KAAK01E,OAAOkjL,SAAS,SAAU/4P,GACpC,GAAIA,EAAEqyF,aAAeryF,EAAEqyF,YAAY8vD,EAASnkE,EAAI9hF,GAO9C,OANAsG,EAAKqzE,OAAOsZ,KAAK,cAAe,CAC9BgzD,QAASA,EACTnkE,GAAIA,EACJ9hF,MAAOA,IAETs9B,GAAQ,GACD,CAEX,IACIA,EACF,OAAOA,EAET,GAAIh3B,EAAKqzE,OAAOmxL,OAASxkQ,EAAKqzE,OAAOmxL,MAAM30K,aAAe7vF,EAAKqzE,OAAOmxL,MAAM30K,YAAY8vD,EAASnkE,EAAI9hF,GAMnG,OALAsG,EAAKqzE,OAAOsZ,KAAK,cAAe,CAC9BgzD,QAASA,EACTnkE,GAAIA,EACJ9hF,MAAOA,KAEF,EAET,IACEs9B,EAAQh3B,EAAKqzE,OAAO6C,SAAS2Z,YAAY8vD,EAASnkE,EAAI9hF,EAExD,CADE,MAAOioG,GACT,CACA,QAAI3qE,IACFh3B,EAAKqzE,OAAOsZ,KAAK,cAAe,CAC9BgzD,QAASA,EACTnkE,GAAIA,EACJ9hF,MAAOA,KAEF,EA1DT,CA6DF,EACAwtS,EAAeptS,UAAU8nK,kBAAoB,SAAUjiB,GACrD,IAAI+1C,EACJ,IAAI/3L,KAAK01E,OAAOqyJ,OAAO50D,aAAcnzK,KAAK01E,OAAOylD,QAAjD,CAIA,GADA6mB,EAAUA,EAAQp4I,cACdmuL,EAAO/3L,KAAK46J,SAASvhI,MAAM2oH,GAC7B,OAAO+1C,EAAK/1C,GAEd,IACE,OAAOhiJ,KAAK01E,OAAO6C,SAAS0rF,kBAAkBjiB,EAEhD,CADE,MAAOh+C,GACT,CACA,OAAO,CATP,CAUF,EACAulM,EAAeptS,UAAU0yJ,kBAAoB,SAAU7M,GACrD,IAAI+1C,EACJ,IAAI/3L,KAAK01E,OAAOqyJ,OAAO50D,aAAcnzK,KAAK01E,OAAOylD,QAAjD,CAIA,GADA6mB,EAAUA,EAAQp4I,cACdmuL,EAAO/3L,KAAK46J,SAAS7+J,MAAMimJ,GAC7B,OAAO+1C,EAAK/1C,GAEd,IACE,OAAOhiJ,KAAK01E,OAAO6C,SAASs2E,kBAAkB7M,EAEhD,CADE,MAAOh+C,GACT,CARA,CASF,EACAulM,EAAeptS,UAAUwtS,YAAc,SAAUC,EAAa9tS,QAC/C,IAATA,IACFA,EAAO,QAET,IAAIuG,EAAOrC,KACXspS,GAAOM,GAAa,SAAUv3M,EAAU2vD,GACtCsnJ,GAAOtnJ,EAAQp4I,cAAcsqB,MAAM,MAAM,SAAU8tH,GACjD3/I,EAAKu4J,SAAS9+J,GAAMkmJ,GAAW3vD,CACjC,GACF,GACF,EACAk3M,EAAeptS,UAAUw6J,WAAa,SAAU3U,EAAS3vD,EAAUhqF,GACjE,IAAIigM,EAAQtoM,KACZgiJ,EAAUA,EAAQp4I,cAClB5J,KAAK46J,SAASvtE,KAAK20D,GAAW,SAAUA,EAASnkE,EAAI9hF,EAAOgC,GAC1D,OAAOs0F,EAAStyF,KAAKsI,GAASigM,EAAM5yH,OAAQmI,EAAI9hF,EAAOgC,EACzD,CACF,EACAwrS,EAAeptS,UAAUmjS,sBAAwB,SAAUt9I,GAEzD,GADAA,EAAUA,EAAQp4I,cACd5J,KAAK46J,SAASvtE,KAAK20D,GACrB,OAAO,EAET,IACE,OAAOhiJ,KAAK01E,OAAO6C,SAAS+mN,sBAAsBt9I,EAEpD,CADE,MAAOh+C,GACT,CACA,OAAO,CACT,EACAulM,EAAeptS,UAAUy6K,qBAAuB,SAAU50B,EAAS3vD,EAAUhqF,GAC3E,IAAIigM,EAAQtoM,KACZgiJ,EAAUA,EAAQp4I,cAClB5J,KAAK46J,SAASvhI,MAAM2oH,GAAW,WAC7B,OAAO3vD,EAAStyF,KAAKsI,GAASigM,EAAM5yH,OACtC,CACF,EACA6zN,EAAeptS,UAAU06J,qBAAuB,SAAU7U,EAAS3vD,EAAUhqF,GAC3E,IAAIigM,EAAQtoM,KACZgiJ,EAAUA,EAAQp4I,cAClB5J,KAAK46J,SAAS7+J,MAAMimJ,GAAW,WAC7B,OAAO3vD,EAAStyF,KAAKsI,GAASigM,EAAM5yH,OACtC,CACF,EACA6zN,EAAeptS,UAAU0tS,iBAAmB,SAAU7nJ,GAEpD,OADAA,EAAUA,EAAQp4I,gBACT5J,KAAK46J,SAASvtE,KAAK20D,EAC9B,EACAunJ,EAAeptS,UAAU2tS,kBAAoB,SAAU9nJ,EAASnkE,EAAI9hF,GAOlE,YANWP,IAAPqiF,IACFA,GAAK,QAEOriF,IAAVO,IACFA,EAAQ,MAEHiE,KAAK01E,OAAO6C,SAAS2Z,YAAY8vD,EAASnkE,EAAI9hF,EACvD,EACAwtS,EAAeptS,UAAU4tS,cAAgB,SAAUztS,GACjD,OAAO0D,KAAK01E,OAAOm2D,UAAU16H,MAAM7U,EACrC,EACAitS,EAAeptS,UAAU07Q,aAAe,SAAUv7Q,EAAMP,GACtDiE,KAAK01E,OAAOm2D,UAAUvmE,OAAOhpE,EAAMP,GACnCiE,KAAK01E,OAAO0kF,aACd,EACAmvI,EAAeptS,UAAU6tS,eAAiB,SAAUluS,GAClDkE,KAAKiqS,kBAAoBjqS,KAAK01E,OAAOv8B,UAAU2jL,YAAYhhO,EAC7D,EACAytS,EAAeptS,UAAU6vR,iBAAmB,WAC1ChsR,KAAK01E,OAAOv8B,UAAUyyK,eAAe5rN,KAAKiqS,kBAC5C,EACAV,EAAeptS,UAAUqtS,cAAgB,SAAU9zN,GACjD,IAAIrzE,EAAOrC,KACXA,KAAK2pS,YAAY,CACf,uCAAwChsS,EACxC,kCAAmC,WACjC+3E,EAAO42E,YAAY3wJ,KACrB,EACA,SAAY,SAAUuuS,EAAUtzI,EAAK76J,GACnCgsC,GAAM2tC,EAAQ35E,EAChB,EACA,iBAAkB,SAAUimJ,GAC1B,IACI82C,EADAllL,EAAM8hE,EAAO6C,SAEjB,IACEl2E,EAAKynS,kBAAkB9nJ,EAGzB,CAFE,MAAOh+C,GACP80F,GAAS,CACX,CAIA,GAHgB,UAAZ92C,GAAwBpuI,EAAIu2R,oBAAoBnoJ,KAClD82C,GAAS,GAEPA,IAAWllL,EAAI0rR,sBAAsBt9I,GAAU,CACjD,IAAIhjJ,EAAM02E,EAAOt+D,UAAU,sHACvB45K,GAAIroG,MACN3pF,EAAMA,EAAIyI,QAAQ,UAAW,OAE/BiuE,EAAO24L,oBAAoBpqN,KAAK,CAC9Bj7C,KAAMhK,EACNlD,KAAM,SAEV,CACF,EACA,OAAU,WACR,GAAI45E,EAAOv8B,UAAUukG,cAArB,CACE,IAAIhlE,EAAMhD,EAAO7tE,IAAI0xE,UAAU7D,EAAOv8B,UAAUQ,WAAY,KACxD++B,GACFhD,EAAO7tE,IAAI2wB,OAAOkgD,GAAK,EAG3B,MACAhD,EAAOm2D,UAAUrzG,OAAO,OAC1B,EACA,iEAAkE,SAAUwpH,GAC1E,IAAIp2D,EAAQo2D,EAAQnuH,UAAU,GAChB,SAAV+3D,IACFA,EAAQ,WAEV09M,GAAO,4BAA4Bp1Q,MAAM,MAAM,SAAU53B,GACnDsvF,IAAUtvF,GACZo5E,EAAOm2D,UAAUrzG,OAAO,QAAUl8B,EAEtC,IACc,SAAVsvF,GACFvpF,EAAKw1Q,aAAa,QAAUjsL,EAEhC,EACA,wCAAyC,SAAUo2D,GACjD,IAAIooJ,EACJ/nS,EAAKynS,kBAAkB9nJ,GACvB,IAAI2vG,EAAUj8K,EAAO7tE,IAAI0xE,UAAU7D,EAAOv8B,UAAUm/B,UAAW,SAC3Dq5K,IACFy4C,EAAaz4C,EAAQx/O,WACjB,2BAA2BnH,KAAKo/R,EAAWzgS,YAC7CtH,EAAK2nS,iBACLt0N,EAAO7tE,IAAIqsB,MAAMk2Q,EAAYz4C,GAC7BtvP,EAAK2pR,oBAGX,EACA,4DAA6D,SAAUhqI,GACrE3/I,EAAKw1Q,aAAa71H,EACpB,EACA,wBAAyB,SAAUA,EAASnkE,EAAI9hF,GAC9CsG,EAAKw1Q,aAAa71H,EAAS,CAAEjmJ,MAAOA,GACtC,EACA,SAAY,SAAUimJ,EAASnkE,EAAI9hF,IAxTpB,SAAU25E,EAAQ35E,GACrC,IAAIyyJ,EAAOs6I,GAAmBpzN,EAAQ35E,GACtC25E,EAAOm2D,UAAUvmE,OAAO,WAAY,CAAEvpE,MAAOotS,GAAmB36I,KAChE94E,EAAO0kF,aACT,CAqTQiwI,CAAe30N,EAAQ35E,EACzB,EACA,SAAY,SAAUimJ,EAASnkE,EAAI9hF,IAjTpB,SAAU25E,EAAQ35E,GACrC25E,EAAOm2D,UAAUvmE,OAAO,WAAY,CAAEvpE,MAAO+sS,GAAmBpzN,EAAQ35E,KACxE25E,EAAO0kF,aACT,CA+SQkwI,CAAe50N,EAAQ35E,EACzB,EACA,WAAc,SAAUimJ,EAASnkE,EAAI9hF,IA5RpB,SAAU25E,EAAQ+/L,GACvC//L,EAAOm2D,UAAUvmE,OAAO,aAAc,CAAEvpE,MAAOQ,OAAOk5Q,KACtD//L,EAAO0kF,aACT,CA0RQmwI,CAAiB70N,EAAQ35E,EAC3B,EACA,KAAQ,SAAUimJ,EAASnkE,EAAI2lF,GAC7BnhK,EAAKw1Q,aAAa71H,EAAS,CACzBjmJ,MAAOynK,EAAKH,KACZC,YAAaE,EAAKJ,YAEtB,EACA,aAAgB,SAAUphB,GACxBtsE,EAAOm2D,UAAUrzG,OAAOwpH,EAC1B,EACA,cAAiB,WACf3/I,EAAKw1Q,aAAa,aACpB,EACA,YAAe,SAAU71H,EAASnkE,EAAI9hF,GACpC,OAAOsG,EAAKw1Q,aAAa97Q,GAAS,IACpC,EACA,WAAc,WACZ,IAAIovN,EAAWz1I,EAAOv8B,UAAU2jL,cAChCpnJ,EAAOnxB,WAAWmxB,EAAOxE,cACzBwE,EAAOv8B,UAAUyyK,eAAeT,EAClC,EACA,cAAiB,SAAUnpE,EAASnkE,EAAI9hF,GACtC,IAAIkM,EAAOlM,GAAS25E,EAAOv8B,UAAUm/B,UACjCrwE,IAASytE,EAAO7hE,YAClBxR,EAAK2nS,iBACLt0N,EAAO7tE,IAAI2wB,OAAOvwB,GAAM,GACxB5F,EAAK2pR,mBAET,EACA,mBAAsB,SAAUhqI,EAASnkE,EAAI9hF,GAC3C,IAAIk/M,EAAU,EACdvlI,EAAO7tE,IAAI0xE,UAAU7D,EAAOv8B,UAAUm/B,WAAW,SAAUrwE,GACzD,GAAsB,IAAlBA,EAAK6B,UAAkBmxM,MAAcl/M,EAEvC,OADA25E,EAAOv8B,UAAU05C,OAAO5qF,IACjB,CAEX,GAAGytE,EAAO7hE,UACZ,EACA,cAAiB,SAAUmuI,EAASnkE,EAAI9hF,GACtC25E,EAAOv8B,UAAU05C,OAAO92F,EAC1B,EACA,iBAAoB,SAAUimJ,EAASnkE,EAAI9hF,GACzCqtS,GAAc1zN,EAAQ35E,EACxB,EACA,iBAAoB,SAAUimJ,EAASnkE,EAAI9hF,GACzC25E,EAAOv8B,UAAUoL,WAAW,mBAC5B,IAAI/zB,EAAUklD,EAAOxE,aACrBwE,EAAOnxB,WAAW/zB,EAAQ/oB,QAAQ,oBAAoB,WACpD,OAAO1L,CACT,IACF,EACA,iBAAoB,SAAUimJ,EAASnkE,EAAI9hF,GACzCjB,GAAO46E,EAAQ35E,EACjB,EACA,gBAAmB,SAAUimJ,EAASnkE,EAAI9hF,GACxCsG,EAAKw1Q,aAAa97Q,EACpB,EACA,cAAiB,SAAUimJ,EAASnkE,EAAI9hF,GACtC25E,EAAOnxB,WAAWxoD,EACpB,EACA,iBAAkB,SAAUimJ,GAC1BvoI,GAAOi8D,EAAQssE,EACjB,EACA,WAAcrkJ,EACd,qBAAwB,WACtB+3E,EAAOwc,YAAY,oBAAoB,EAAO,SAChD,EACA,mBAAsB,WACpBxc,EAAO2vF,WAAa3vF,EAAO2vF,UAC3B3vF,EAAO4tK,WACT,EACA,kBAAqB,SAAUthG,EAASnkE,EAAI9hF,GAC1C25E,EAAOwc,YAAY,oBAAoB,EAAOn2F,EAAM0L,QAAQ,mBAAoBiuE,EAAOv8B,UAAU+3B,WAAW,CAAE2gB,OAAQ,UACxH,EACA,cAAiB,SAAUmwD,EAASnkE,EAAI9hF,GACjB,iBAAVA,IACTA,EAAQ,CAAE0vL,KAAM1vL,IAElB,IAAIgnC,EAAS2yC,EAAO7tE,IAAI0xE,UAAU7D,EAAOv8B,UAAUm/B,UAAW,KAC9Dv8E,EAAM0vL,KAAO1vL,EAAM0vL,KAAKhkL,QAAQ,KAAM,OACjCs7B,GAAWhnC,EAAM0vL,MACpB/1G,EAAOm2D,UAAUrzG,OAAO,QAEtBz8B,EAAM0vL,MACR/1G,EAAOm2D,UAAU3tI,MAAM,OAAQnC,EAAOgnC,EAE1C,EACA,UAAa,WACX,IAAIynQ,EAAc90N,EAAO7tE,IAAI0xE,UAAU7D,EAAOv8B,UAAUQ,WAAY27I,IACpE,GAAIk1G,EAAa,CACf,IAAIpxP,EAAMs8B,EAAO7tE,IAAImyE,YACrB5gC,EAAIqxP,mBAAmBD,GACvB90N,EAAOv8B,UAAUyuH,OAAOxuH,EAC1B,CACF,EACA,eAAkB,WAChBs8B,EAAOnxB,WAAW,GACpB,EACA,gBAAmB,SAAUy9F,EAASnkE,EAAI9hF,GAExC,OADA84R,GAASn/M,EAAQ35E,IACV,CACT,IAEF,IAAI2uS,EAAc,SAAUpuS,GAC1B,OAAO,WACL,IAAI68C,EAAYu8B,EAAOv8B,UACnBy8I,EAAQz8I,EAAUukG,cAAgB,CAAChoE,EAAO7tE,IAAI0xE,UAAUpgC,EAAUm/B,UAAW5C,EAAO7tE,IAAIowE,UAAY9+B,EAAU+uM,oBAC9G/3O,EAAUxO,GAAIi0L,GAAO,SAAU3tL,GACjC,QAASytE,EAAOm2D,UAAUm5G,UAAU/8O,EAAM3L,EAC5C,IACA,OAAmC,IAA5B21L,GAAQ9hL,GAAS,EAC1B,CACF,EACA9N,EAAKsnS,YAAY,CACf,YAAee,EAAY,aAC3B,cAAiBA,EAAY,eAC7B,aAAgBA,EAAY,cAC5B,YAAeA,EAAY,gBAC3B,4DAA6D,SAAU1oJ,GACrE,OAAO3/I,EAAK0nS,cAAc/nJ,EAC5B,EACA,cAAiB,WACf,OAAO3/I,EAAK0nS,cAAc,aAC5B,EACA,QAAW,WACT,OAAOzf,GAAW50M,EACpB,EACA,wCAAyC,SAAUssE,GACjD,IAAIhpH,EAAO08C,EAAO7tE,IAAI0xE,UAAU7D,EAAOv8B,UAAUm/B,UAAW,SAC5D,OAAOt/C,IAAqB,wBAAZgpH,GAAsD,OAAjBhpH,EAAK+7J,SAAgC,sBAAZ/yC,GAAoD,OAAjBhpH,EAAK+7J,QACxH,GACC,SACH1yL,EAAKsnS,YAAY,CACfgB,KAAM,WACJj1N,EAAO42E,YAAYt8B,MACrB,EACA46K,KAAM,WACJl1N,EAAO42E,YAAYr8B,MACrB,IAEF5tH,EAAKw0J,qBAAqB,YAAY,WACpC,OAxcc,SAAUnhF,GAC5B,OAAOkzN,GAASlzN,GAAQ,SAAUgD,GAChC,OAAO8vN,GAAc9yN,EAAO7hE,UAAW6kE,EAAI7wE,IAC7C,IAAGzG,MAAM,GACX,CAocaypS,CAAcn1N,EACvB,GAAG11E,MACHqC,EAAKw0J,qBAAqB,YAAY,WACpC,OAlcc,SAAUnhF,GAC5B,OAAOkzN,GAASlzN,GAAQ,SAAUgD,GAChC,OAAO6vN,GAAY7yN,EAAO7hE,UAAW6kE,EAAI7wE,IAC3C,IAAGzG,MAAM,GACX,CA8ba0pS,CAAcp1N,EACvB,GAAG11E,MACHqC,EAAKw0J,qBAAqB,cAAc,WACtC,OA/bgB,SAAUnhF,GAC9B,OAAOkzN,GAASlzN,GAAQ,SAAUgD,GAChC,IAAIzwC,EAAO//B,GAAaF,QAAQ0tE,EAAO7hE,WACnCk3R,EAAiBltQ,GAAU66C,GAAK,SAAUA,GAC5C,OAAOpjE,GAAOojE,EAAK,cACrB,GAAGn6E,EAAMwS,GAAIk3B,IAMb,OAAO8iQ,EAAe1pS,YALF,WAClB,IAAIo0Q,EAAav/P,WAAW0iB,GAAM8/C,EAAK,gBACnCy2E,EAAWj5I,WAAW0iB,GAAM8/C,EAAK,cACrC,OAAOn8E,OAAOk5Q,EAAatmH,EAC7B,GAEF,IAAG/tJ,MAAM,GACX,CAkba4pS,CAAgBt1N,EACzB,GAAG11E,KACL,EACOupS,CACT,CAzZqB,GA2ZjB0B,GAA8B,2BAC9B/lO,GAAc,SAAUwT,EAAKgkI,EAAKrjL,GAh9mBvB,IAAU3vB,EAASsuB,EAi9mB5BS,GAAIigD,EAAKgkI,KAAkB,IAAVrjL,GAj9mBWrB,EAk9mBhB0kL,EAj9mBZ7kL,GADmBnuB,EAk9mBZgvE,GAh9mBOhvE,EAAQ7B,IAAIiwB,UAClBU,OAAOR,GAEjBG,GAASzuB,EAASsuB,GAEpBK,GAAW3uB,IA48mBA2vB,GACTX,GAAMggD,EAAKgkI,EAEf,EACIkhF,GAAwB,SAAUloN,EAAQgwF,EAAKrsI,GACjD,IACEq8C,EAAO6C,SAAS2Z,YAAYwzE,GAAK,EAAOnpK,OAAO88B,GAEjD,CADE,MAAO2qE,GACT,CACF,EACIknM,GAAqB,SAAUxyN,EAAKr/C,GACtCq/C,EAAI7wE,IAAIkmI,gBAAkB10G,EAAQ,OAAS,OAC7C,EAqBI8xQ,GAAiB,SAAUz1N,EAAQr8C,GACrC,IAAIjmB,EAAOlL,GAAaF,QAAQ0tE,EAAO7hE,WACvCqxD,GAAY9xD,EAAM,uBAAwBimB,GACtCA,GACFq8C,EAAOv8B,UAAUgkN,iBAAiBx8B,iBAClCjrJ,EAAO+sK,oBAAoB08B,gBAbL,SAAUzpM,GAClCnzE,EAAS/B,KAAKk1E,EAAOv8B,UAAUm/B,WAAW12E,MAAK,SAAU82E,GACvDA,EAAIjkE,gBAAgB,oBACtB,GACF,CAUI22R,CAAoB11N,GACpBA,EAAOsR,UAAW,EAClBkkN,GAAmB93R,GAAM,GA3B3Bm8K,EAAOxzI,GA4BwB3oC,EA5BP,8BAA8B,SAAUslE,GAC9DtT,GAAMsT,EAAKuyN,GAA6B,QACxCC,GAAmBxyN,GAAK,EAC1B,MA2BEhD,EAAOsR,UAAW,EAClBkkN,GAAmB93R,GAAM,GA1BK,SAAUslE,GAC1C62G,EAAOxzI,GAAY28B,EAAK,uCAAkD,SAAUA,GAClF9iE,GAAS8iE,EAAKuyN,IACdC,GAAmBxyN,GAAK,EAC1B,GACF,CAsBI2yN,CAA4Bj4R,GAC5BwqR,GAAsBloN,EAAQ,gBAAgB,GAC9CkoN,GAAsBloN,EAAQ,4BAA4B,GAC1DkoN,GAAsBloN,EAAQ,wBAAwB,GAClDiyJ,GAAmBjyJ,IACrBA,EAAO3tC,QArBc,SAAU2tC,GACnCA,EAAOv8B,UAAUyuH,OAAOlyF,EAAOv8B,UAAUmiC,SAC3C,CAqBIgwN,CAAqB51N,GACrBA,EAAO0kF,cAEX,EACIhzE,GAAa,SAAU1R,GACzB,OAAOA,EAAOsR,QAChB,EACIukN,GAAkB,SAAU71N,GAC9BA,EAAOssK,OAAOgf,mBAAmB,mBAAmB,SAAUprE,GACxDxuG,GAAW1R,IACb65G,EAAOqG,GAAO,SAAU3tL,GACtBA,EAAK2vB,KAAKqzQ,GAA6BhjS,EAAK2vB,KAAK,oBACjD3vB,EAAK2vB,KAAK,kBAAmB,QAC/B,GAEJ,IACA89C,EAAOsvI,WAAWg8C,mBAAmBiqC,IAA6B,SAAUr1G,GACtExuG,GAAW1R,IACb65G,EAAOqG,GAAO,SAAU3tL,GACtBA,EAAK2vB,KAAK,kBAAmB3vB,EAAK2vB,KAAKqzQ,IACzC,GAEJ,IACAv1N,EAAOsvI,WAAW0/C,YAAYumC,GAChC,EAqBIO,GAAwB,SAAU91N,EAAQx1E,GAC5C,GAZiB,SAAUA,GAC3B,MAAkB,UAAXA,EAAEpE,IACX,CAUM2vS,CAAavrS,KAAOm9N,GAAGS,eAAe59N,GAAI,CAC5C,IAAIw4E,EAAMxwE,GAAaF,QAAQ9H,EAAE2L,SAVd,SAAU6pE,EAAQgD,GAIvC,OAAOl7C,GAAUk7C,EAAK,KAHT,SAAUA,GACrB,OAAO3nE,GAAG2nE,EAAKxwE,GAAaF,QAAQ0tE,EAAO7hE,WAC7C,IACmChS,MAAK,SAAUlF,GAChD,OAAO0X,GAAO1X,EAAG,OACnB,GACF,EAII+uS,CAAiBh2N,EAAQgD,GAAK92E,MAAK,SAAU6pL,GAE3C,GADAvrL,EAAE8Y,iBACE,KAAKhO,KAAKygL,GAAO,CACnB,IAAIkgH,EAAWj2N,EAAO7tE,IAAIgrF,OAAO44F,EAAO,aA7h1BvCrkL,GADqBJ,EA8h1B6CykL,EA9h1BxCpkL,EA8h1B8C,KAri1B3D,SAAUL,EAAK2lF,GACnC,OAAO3lF,EAAI6sB,UAAU84D,EACvB,CAMmCC,CAAgB5lF,EAAKK,EAAO3J,QAAUsJ,GA6h1Be,OAC5E2kS,EAASjuS,QACXg4E,EAAOv8B,UAAUg7I,eAAew3G,EAAS,IAAI,EAEjD,MACEriS,OAAO26C,KAAKwnI,EAAM,SAAU,wGAni1BhB,IAAUzkL,EAAKK,CAqi1B/B,GACF,CACF,EAcIukS,GAAetsS,GAAM2wI,QAAQ,qXAAqY,KACla47J,GAAkB,WACpB,SAASA,EAAgB71N,GACvBh2E,KAAK8rS,SAAW,CAAC,EACjB9rS,KAAKg2E,SAAWA,GAAY,CAAC,EAC7Bh2E,KAAKqI,MAAQrI,KAAKg2E,SAAS3tE,OAASrI,KACpCA,KAAK+rS,YAAc/rS,KAAKg2E,SAAS+1N,aAAe7sS,CAClD,CA+GA,OA9GA2sS,EAAgBG,SAAW,SAAU1vS,GACnC,QAASsvS,GAAatvS,EAAKsN,cAC7B,EACAiiS,EAAgB1vS,UAAU6yF,KAAO,SAAU1yF,EAAMyB,GAC/C,IAAIo1E,EAAS72E,EAAKsN,cACd6O,EAAQyyL,GAAY/3H,EAAQp1E,GAAQ,CAAC,EAAGiC,KAAKqI,OAC7CrI,KAAKg2E,SAASi2N,YAChBjsS,KAAKg2E,SAASi2N,WAAWxzR,GAE3B,IAAIuS,EAAWhrB,KAAK8rS,SAAS34N,GAC7B,GAAInoD,EACF,IAAK,IAAIxtB,EAAI,EAAGmD,EAAIqqB,EAASttB,OAAQF,EAAImD,EAAGnD,IAAK,CAC/C,IAAI60F,EAAWrnE,EAASxtB,GACxB,IAAI60F,EAAS8oC,QAAb,CAMA,GAHI9oC,EAAS45D,MACXjsJ,KAAK0tC,IAAIylC,EAAQkf,EAAS0lG,MAExBt/K,EAAMizL,gCACR,OAAOjzL,EAET,IAA8C,IAA1C45E,EAAS0lG,KAAKh4L,KAAKC,KAAKqI,MAAOoQ,GAEjC,OADAA,EAAMO,iBACCP,CATT,CAWF,CAEF,OAAOA,CACT,EACAozR,EAAgB1vS,UAAUqxC,GAAK,SAAUlxC,EAAM+1F,EAAU7uB,EAAS5gD,GAIhE,IAHiB,IAAbyvE,IACFA,EAAWnzF,GAETmzF,EAAU,CACZ,IAAI65M,EAAkB,CACpBn0G,KAAM1lG,EACN8oC,SAAS,GAEPv4G,GACFtjB,GAAM6yL,OAAO+5G,EAAiBtpR,GAIhC,IAFA,IAAI8pC,EAAQpwD,EAAKsN,cAAcsqB,MAAM,KACjC12B,EAAIkvD,EAAMhvD,OACPF,KAAK,CACV,IAAI2uS,EAAcz/O,EAAMlvD,GACpBwtB,EAAWhrB,KAAK8rS,SAASK,GACxBnhR,IACHA,EAAW,GACXhrB,KAAK+rS,YAAYI,GAAa,IAG9BnhR,EADEw4C,EACSljE,GAAc,CAAC4rS,GAAkBlhR,GAAU,GAE3C1qB,GAAcA,GAAc,GAAI0qB,GAAU,GAAO,CAACkhR,IAAkB,GAEjFlsS,KAAK8rS,SAASK,GAAenhR,CAC/B,CACF,CACA,OAAOhrB,IACT,EACA6rS,EAAgB1vS,UAAUuxC,IAAM,SAAUpxC,EAAM+1F,GAC9C,IAAIi2G,EAAQtoM,KACZ,GAAI1D,EAGF,IAFA,IAAIowD,EAAQpwD,EAAKsN,cAAcsqB,MAAM,KACjC12B,EAAIkvD,EAAMhvD,OACPF,KAAK,CACV,IAAI2uS,EAAcz/O,EAAMlvD,GACpBwtB,EAAWhrB,KAAK8rS,SAASK,GAC7B,IAAKA,EAKH,OAJAv8G,GAAO5vL,KAAK8rS,UAAU,SAAU7oM,EAAQmpM,GACtC9jG,EAAMyjG,YAAYK,GAAa,UACxB9jG,EAAMwjG,SAASM,EACxB,IACOpsS,KAET,GAAIgrB,EAAU,CACZ,GAAKqnE,EAEE,CACL,IAAIg6M,EAAmB5pJ,EAAUz3H,GAAU,SAAU1R,GACnD,OAAOA,EAAQy+K,OAAS1lG,CAC1B,IACArnE,EAAWqhR,EAAiB5oS,KAC5BzD,KAAK8rS,SAASK,GAAenhR,EAC7BukK,EAAO88G,EAAiB7oS,MAAM,SAAU8V,GACtCA,EAAQ6hH,SAAU,CACpB,GACF,MAVEnwG,EAASttB,OAAS,EAWfstB,EAASttB,SACZsC,KAAK+rS,YAAYzvS,GAAM,UAChB0D,KAAK8rS,SAASK,GAEzB,CACF,MAEAv8G,GAAO5vL,KAAK8rS,UAAU,SAAU7oM,EAAQ3mG,GACtCgsM,EAAMyjG,YAAYzvS,GAAM,EAC1B,IACA0D,KAAK8rS,SAAW,CAAC,EAEnB,OAAO9rS,IACT,EACA6rS,EAAgB1vS,UAAU8vJ,KAAO,SAAU3vJ,EAAM+1F,EAAU7uB,GACzD,OAAOxjE,KAAKwtC,GAAGlxC,EAAM+1F,EAAU7uB,EAAS,CAAEyoF,MAAM,GAClD,EACA4/I,EAAgB1vS,UAAUs8B,IAAM,SAAUn8B,GAExC,OADAA,EAAOA,EAAKsN,iBACF5J,KAAK8rS,SAASxvS,IAAwC,IAA/B0D,KAAK8rS,SAASxvS,GAAMoB,OACvD,EACOmuS,CACT,CAtHsB,GAwHlBS,GAAqB,SAAUnnS,GAWjC,OAVKA,EAAIonS,mBACPpnS,EAAIonS,iBAAmB,IAAIV,GAAgB,CACzCxjS,MAAOlD,EACP4mS,YAAa,SAAUzvS,EAAM+8B,GACvBwyQ,GAAgBG,SAAS1vS,IAAS6I,EAAIqnS,mBACxCrnS,EAAIqnS,kBAAkBlwS,EAAM+8B,EAEhC,KAGGl0B,EAAIonS,gBACb,EACIE,GAAa,CACfz9M,KAAM,SAAU1yF,EAAMyB,EAAMojC,GAC1B,IAAI9+B,EAAOrC,KACX,GAAIqC,EAAK84H,SAAoB,WAAT7+H,GAA8B,WAATA,EACvC,OAAOyB,EAET,IAAI2uS,EAAiBJ,GAAmBjqS,GAAM2sF,KAAK1yF,EAAMyB,GACzD,IAAe,IAAXojC,GAAoB9+B,EAAK6P,OAE3B,IADA,IAAIuhK,EAAWpxK,EAAK6P,SACbuhK,IAAai5H,EAAe/4H,wBACjCF,EAASzkF,KAAK1yF,EAAMowS,GAAgB,GACpCj5H,EAAWA,EAASvhK,SAGxB,OAAOw6R,CACT,EACAl/P,GAAI,SAAUlxC,EAAM+1F,EAAU7uB,GAC5B,OAAO8oO,GAAmBtsS,MAAMwtC,GAAGlxC,EAAM+1F,EAAU7uB,EACrD,EACA91B,IAAK,SAAUpxC,EAAM+1F,GACnB,OAAOi6M,GAAmBtsS,MAAM0tC,IAAIpxC,EAAM+1F,EAC5C,EACA45D,KAAM,SAAU3vJ,EAAM+1F,GACpB,OAAOi6M,GAAmBtsS,MAAMisJ,KAAK3vJ,EAAM+1F,EAC7C,EACA6xK,kBAAmB,SAAU5nQ,GAC3B,OAAOgwS,GAAmBtsS,MAAMy4B,IAAIn8B,EACtC,GAGEqwS,GAAQ5xF,GAASp2H,IAEjBioN,GAAiB,SAAUl3N,EAAQp/C,GACrC,GAAkB,oBAAdA,EACF,OAAOo/C,EAAO6C,SAEhB,IAAK7C,EAAOwQ,QAAU,uDAAuDl7E,KAAKsrB,GAChF,OAAOo/C,EAAO6C,SAASvmE,gBAEzB,IAAI66R,EAAYv/E,GAAa53I,GAC7B,OAAIm3N,GACGn3N,EAAOm3N,YACVn3N,EAAOm3N,UAAYF,GAAM95M,OAAOg6M,GAAW,IAEtCn3N,EAAOm3N,WAETn3N,EAAO7hE,SAChB,EAIIq5P,GAAY,SAAUx3L,EAAQp/C,EAAWp2B,IAH3B,SAAUw1E,GAC1B,OAAQA,EAAOqwN,SAAW3+M,GAAW1R,EACvC,CAEMo3N,CAAYp3N,GAEL0R,GAAW1R,IACpB81N,GAAsB91N,EAAQx1E,GAF9Bw1E,EAAOsZ,KAAK14D,EAAWp2B,EAI3B,EACI6sS,GAAoB,SAAUr3N,EAAQp/C,GACxC,IAAI7T,EAIJ,GAHKizD,EAAOs3N,YACVt3N,EAAOs3N,UAAY,CAAC,IAElBt3N,EAAOs3N,UAAU12Q,KAAco/C,EAAOylD,QAA1C,CAGA,IAAI8xK,EAAeL,GAAel3N,EAAQp/C,GAC1C,GAAIg3L,GAAa53I,GAAS,CAcxB,GAbK8tM,KACHA,GAA2B,CAAC,EAC5B9tM,EAAOqsE,cAAcv0G,GAAG,gBAAgB,WACjCkoC,EAAOqsE,cAAcilF,cACpBw8C,KACF5zF,GAAO4zF,IAA0B,SAAUvgL,EAAQ3mG,GACjDo5E,EAAO7tE,IAAI8R,OAAOizR,GAAel3N,EAAQp5E,GAC3C,IACAknR,GAA2B,KAGjC,KAEEA,GAAyBltP,GAC3B,OAEF7T,EAAW,SAAUviB,GAInB,IAHA,IAAI2L,EAAS3L,EAAE2L,OACXqhS,EAAUx3N,EAAOqsE,cAAc9rI,MAC/BzY,EAAI0vS,EAAQxvS,OACTF,KAAK,CACV,IAAI4V,EAAO85R,EAAQ1vS,GAAGqW,WAClBT,IAASvH,GAAU8gS,GAAMntF,UAAU3zM,EAAQuH,KAC7C85P,GAAUggC,EAAQ1vS,GAAI84B,EAAWp2B,EAErC,CACF,EACAsjR,GAAyBltP,GAAa7T,EACtCkqR,GAAM9qS,KAAKorS,EAAc32Q,EAAW7T,EACtC,MACEA,EAAW,SAAUviB,GACnBgtQ,GAAUx3L,EAAQp/C,EAAWp2B,EAC/B,EACAysS,GAAM9qS,KAAKorS,EAAc32Q,EAAW7T,GACpCizD,EAAOs3N,UAAU12Q,GAAa7T,CArChC,CAuCF,EACI0qR,GAAmB3tS,GAASA,GAAS,CAAC,EAAGitS,IAAa,CACxDzM,0BAA2B,WACzB,IAAI39R,EAAOrC,KACXV,GAAMsC,KAAKS,EAAK+qS,sBAAsB,SAAU9wS,GAC9CywS,GAAkB1qS,EAAM/F,EAC1B,GACF,EACAkwS,kBAAmB,SAAUlwS,EAAM+8B,GACjC,IAAIh3B,EAAOrC,KACE,UAAT1D,GAA6B,SAATA,IAGpB+F,EAAK84H,UAGL9hG,EACEh3B,EAAKqoJ,YACPqiJ,GAAkB1qS,EAAM/F,GAEnB+F,EAAK+qS,qBAGR/qS,EAAK+qS,qBAAqB5yS,KAAK8B,GAF/B+F,EAAK+qS,qBAAuB,CAAC9wS,GAKxB+F,EAAKqoJ,cACdroJ,EAAKwF,IAAI8R,OAAOizR,GAAevqS,EAAM/F,GAAOA,EAAM+F,EAAK2qS,UAAU1wS,WAC1D+F,EAAK2qS,UAAU1wS,KAE1B,EACA8pQ,sBAAuB,WACrB,IAAI/jQ,EAAOrC,KACPoT,EAAO/Q,EAAKwR,UACZhM,EAAMxF,EAAKwF,IACXxF,EAAK2qS,YACPp9G,GAAOvtL,EAAK2qS,WAAW,SAAUjxS,EAAOO,GACtC+F,EAAKwF,IAAI8R,OAAOizR,GAAevqS,EAAM/F,GAAOA,EAAMP,EACpD,WACOsG,EAAK2qS,YAET3qS,EAAK6jF,QAAU9yE,GAAQvL,IAC1BuL,EAAK4lL,OAAS,KACdnxL,EAAI8R,OAAOtX,EAAK62C,UAChBrxC,EAAI8R,OAAOtX,EAAKk2E,WAEd1wE,IACFA,EAAI8R,OAAOvG,GACXvL,EAAI8R,OAAOtX,EAAK8jG,gBAEpB,IAGEknM,GAAe,CACjB,SACA,YAEEC,GAAe,SAAU53N,EAAQ63N,EAAYC,EAAgB98P,GAC/D,IAAI+8P,EAAUD,EAAeD,EAAWt3R,OACpC+iJ,EAAUw0I,EAAe98P,GAC7B,IACEsoH,EAAQ00I,UAIV,CAHE,MAAOxtS,GAEP,YADAyI,QAAQC,MAAM,wCAA0C8nC,EAAO,IAAKxwC,EAEtE,CACAutS,EAAQE,aACJF,EAAQG,iBAAmB50I,EAAQ40I,gBACrCzC,GAAez1N,EAAQsjF,EAAQ40I,gBAEjCL,EAAWh3R,IAAIm6B,GAv6hBI,SAAUglC,EAAQhlC,GAC9BglC,EAAOsZ,KAAK,aAAc,CAAEt+C,KAAMA,GAC3C,CAs6hBEm9P,CAAen4N,EAAQhlC,EACzB,EA+BI2nC,GAAW,SAAU3C,GACvB,IAAI63N,EAAavlR,GAAK,UAClBwlR,EAAiBxlR,GAAK,CACxB8lR,OAAQ,CACNJ,SAAU/vS,EACVgwS,WAAYhwS,EACZiwS,gBAAgB,GAElB5mN,SAAU,CACR0mN,SAAU/vS,EACVgwS,WAAYhwS,EACZiwS,gBAAgB,KAKpB,OAtZmC,SAAUl4N,GACzCA,EAAOsvI,WACTumF,GAAgB71N,GAEhBA,EAAOloC,GAAG,WAAW,WACnB+9P,GAAgB71N,EAClB,GAEJ,CA4YEq4N,CAA+Br4N,GAhXO,SAAUA,GAChDA,EAAOloC,GAAG,aAAa,SAAUttC,GAC3BknF,GAAW1R,IACbx1E,EAAE8Y,gBAEN,IACA08D,EAAOloC,GAAG,kBAAkB,SAAUttC,GAChCknF,GAAW1R,IACbx1E,EAAE8Y,gBAEN,GACF,CAsWEg1R,CAAkCt4N,GAC3B,CACL0R,WAAY,WACV,OAAOA,GAAW1R,EACpB,EACAn/D,IAAK,SAAUm6B,GACb,OAnDQ,SAAUglC,EAAQ83N,EAAgBD,EAAY78P,GAC1D,GAAIA,IAAS68P,EAAWt3R,MAAxB,CAEO,IAAK7P,GAAMonS,EAAgB98P,GAChC,MAAM,IAAIzxC,MAAM,gBAAmByxC,EAAO,gBAExCglC,EAAOg1E,YACT4iJ,GAAa53N,EAAQ63N,EAAYC,EAAgB98P,GAEjDglC,EAAOloC,GAAG,QAAQ,WAChB,OAAO8/P,GAAa53N,EAAQ63N,EAAYC,EAAgB98P,EAC1D,GANF,CAQF,CAsCa22C,CAAQ3R,EAAQ83N,EAAev3R,MAAOs3R,EAAY78P,EAC3D,EACAz6B,IAAK,WACH,OAAOs3R,EAAWt3R,KACpB,EACA8nF,SAAU,SAAUrtD,EAAM4K,GACxBkyP,EAAej3R,IA3CF,SAAUi3R,EAAgB98P,EAAM4K,GACjD,IAAItsC,EACJ,GAAIqgL,EAAWg+G,GAAc38P,GAC3B,MAAM,IAAIzxC,MAAM,gCAAkCyxC,GAEpD,OAAOlxC,GAASA,GAAS,CAAC,EAAGguS,KAAkBx+R,EAAK,CAAC,GAAM0hC,GAAQlxC,GAASA,GAAS,CAAC,EAAG87C,GAAM,CAC7FqyP,WAAY,WACV,IACEryP,EAAIqyP,YAGN,CAFE,MAAOztS,GACPyI,QAAQC,MAAM,0CAA4C8nC,EAAO,IAAKxwC,EACxE,CACF,IACE8O,GACN,CA6ByBi/R,CAAaT,EAAev3R,MAAOy6B,EAAM4K,GAC9D,EAEJ,EAEI4yP,GAAS5uS,GAAMsC,KAAMusS,GAAY7uS,GAAM69G,QACvCixL,GAAgB,CAClBC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,IAAK,IACLC,IAAK,IACLC,IAAK,KAEHC,GAAgB3vS,GAAM2wI,QAAQ,8BAC9Bi/J,GAAgB,SAAUptI,GAC5B,IAAI37J,EACA6iF,EAAW,CAAC,EAChBklN,GAAOC,GAAUrsI,EAAQl4J,cAAe,MAAM,SAAU7N,GAClDA,KAASkzS,GACXjmN,EAASjtF,IAAS,EAEd,cAAciP,KAAKjP,GACrBitF,EAAS4vC,QAAU3pH,SAASlT,EAAO,KAEnCitF,EAASmmN,SAAWpzS,EAAMokH,WAAW,GACrCn3B,EAAS4vC,QAAUw1K,GAAcryS,IAAUA,EAAM+wF,cAAcqzB,WAAW,GAGhF,IACA,IAAIzlH,EAAK,CAACsuF,EAAS4vC,SACnB,IAAKzyH,KAAO8oS,GACNjmN,EAAS7iF,GACXzL,EAAGF,KAAK2L,GAER6iF,EAAS7iF,IAAO,EAoBpB,OAjBA6iF,EAAStuF,GAAKA,EAAGooB,KAAK,KAClBkmE,EAASD,SACXC,EAASJ,KAAM,EACXooG,GAAIroG,IACNK,EAASH,MAAO,EAEhBG,EAASF,OAAQ,GAGjBE,EAAS5hC,OACP4pI,GAAIroG,IACNK,EAAS5hC,MAAO,GAEhB4hC,EAASH,MAAO,EAChBG,EAAS5hC,MAAO,IAGb4hC,CACT,EACIomN,GAAY,WACd,SAASA,EAAU15N,GACjB11E,KAAK4gK,UAAY,CAAC,EAClB5gK,KAAKqvS,gBAAkB,GACvBrvS,KAAK01E,OAASA,EACd,IAAIrzE,EAAOrC,KACX01E,EAAOloC,GAAG,0BAA0B,SAAUttC,IACvCmC,EAAKitS,YAAYpvS,KAAMmC,EAAKktS,cAAcrvS,IAAQA,EAAEwzK,uBACvDw6H,GAAO7rS,EAAKu+J,WAAW,SAAU53E,GAC/B,GAAI3mF,EAAKmtS,cAActvS,EAAG8oF,GAKxB,OAJA3mF,EAAKgtS,gBAAkBrmN,EAASymN,YAAY7uS,MAAM,GACnC,YAAXV,EAAEpE,MACJuG,EAAKqtS,sBAAsB1mN,IAEtB,CAEX,IACI3mF,EAAKmtS,cAActvS,EAAGmC,EAAKgtS,gBAAgB,MACT,IAAhChtS,EAAKgtS,gBAAgB3xS,QACR,YAAXwC,EAAEpE,MACJuG,EAAKqtS,sBAAsBrtS,EAAKgtS,gBAAgB,IAGpDhtS,EAAKgtS,gBAAgBvmN,SAG3B,GACF,CAqEA,OApEAsmN,EAAUjzS,UAAUR,IAAM,SAAUmmK,EAASgb,EAAM6yH,EAAStnS,GAC1D,IAAIhG,EAAOrC,KACP+3L,EAAO11L,EAAKutS,qBAAqBD,GAKrC,OAJAzB,GAAOC,GAAU7uS,GAAMu8C,KAAKimH,KAAW,SAAUA,GAC/C,IAAI94E,EAAW3mF,EAAKwtS,eAAe/tI,EAASgb,EAAMib,EAAM1vL,GACxDhG,EAAKu+J,UAAU53E,EAAStuF,IAAMsuF,CAChC,KACO,CACT,EACAomN,EAAUjzS,UAAUq8B,OAAS,SAAUspI,GACrC,IAAI94E,EAAWhpF,KAAK6vS,eAAe/tI,GACnC,QAAI9hK,KAAK4gK,UAAU53E,EAAStuF,aACnBsF,KAAK4gK,UAAU53E,EAAStuF,KACxB,EAGX,EACA00S,EAAUjzS,UAAUyzS,qBAAuB,SAAUD,GACnD,IAAIttS,EAAOrC,KACP0lK,EAAMiqI,EACV,MAAmB,iBAARjqI,EACF,WACLrjK,EAAKqzE,OAAOwc,YAAYwzE,GAAK,EAAO,KACtC,EACSpmK,GAAMxC,QAAQ4oK,GAChB,WACLrjK,EAAKqzE,OAAOwc,YAAYwzE,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAC9C,EAEOA,CAEX,EACA0pI,EAAUjzS,UAAU0zS,eAAiB,SAAU/tI,EAASgb,EAAM6yH,EAAStnS,GACrE,IAAIu4J,EAAYthK,GAAMqC,IAAIwsS,GAAUrsI,EAAS,KAAMotI,IAKnD,OAJAtuI,EAAUA,EAAUljK,OAAS,GAAK4B,GAAM6yL,OAAOvxB,EAAUA,EAAUljK,OAAS,GAAI,CAC9Eq6L,KAAM43G,EACNtnS,MAAOA,GAASrI,KAAK01E,SAEhBp2E,GAAM6yL,OAAOvxB,EAAU,GAAI,CAChCkc,KAAM98K,KAAK01E,OAAOt+D,UAAU0lK,GAC5B2yH,YAAa7uI,EAAUhgK,MAAM,IAEjC,EACAwuS,EAAUjzS,UAAUmzS,YAAc,SAAUpvS,GAC1C,OAAOA,EAAE29N,QAAU39N,EAAEi1D,SAAWj1D,EAAEksM,OACpC,EACAgjG,EAAUjzS,UAAUozS,cAAgB,SAAUrvS,GAC5C,MAAkB,YAAXA,EAAEpE,MAAsBoE,EAAE04H,SAAW,KAAO14H,EAAE04H,SAAW,GAClE,EACAw2K,EAAUjzS,UAAUqzS,cAAgB,SAAUtvS,EAAG8oF,GAC/C,QAAKA,IAGDA,EAASH,OAAS3oF,EAAEi1D,SAAW6zB,EAAS5hC,OAASlnD,EAAEksM,UAGnDpjH,EAASJ,MAAQ1oF,EAAE29N,QAAU70I,EAASF,QAAU5oF,EAAE+0D,cAGlD/0D,EAAE04H,UAAY5vC,EAAS4vC,SAAW14H,EAAEivS,UAAYjvS,EAAEivS,WAAanmN,EAASmmN,YAC1EjvS,EAAE8Y,kBACK,KAGX,EACAo2R,EAAUjzS,UAAUuzS,sBAAwB,SAAU1mN,GACpD,OAAOA,EAAS+uG,KAAO/uG,EAAS+uG,KAAKh4L,KAAKipF,EAAS3gF,OAAS,IAC9D,EACO+mS,CACT,CAjGgB,GAgJZtxN,GAAW,WACb,IAAIgyN,EA9CS,WACb,IAAIh8M,EAAU,CAAC,EACXrqB,EAAY,CAAC,EACbmU,EAAS,CAAC,EACVhiF,EAAQ,CAAC,EACT4sK,EAAe,CAAC,EAChBhL,EAAkB,CAAC,EACnB4a,EAAW,CAAC,EACZz8K,EAAM,SAAU8oI,EAAY3oI,GAC9B,OAAO,SAAUQ,EAAMy4B,GACrB,OAAO0vG,EAAWnoI,EAAKsN,eAAiBpK,GAASA,GAAS,CAAC,EAAGu1B,GAAO,CAAEj5B,KAAMA,GAC/E,CACF,EAIA,MAAO,CACLqoK,UAAWxoK,EAAIm4F,EAAS,UACxB2kF,sBAAuB98K,EAAIm4F,EAAS,sBACpC0wE,gBAAiB7oK,EAAIm4F,EAAS,gBAC9B8uE,cAAejnK,EAAIm4F,EAAS,cAC5BlB,eAAgBj3F,EAAIm4F,EAAS,eAC7BgxE,YAAanpK,EAAI8tE,EAAW,YAC5B8pB,kBAAmB53F,EAAI8tE,EAAW,kBAClC87F,kBAAmB5pK,EAAI8tE,EAAW,kBAClCsmO,iBAAkBp0S,EAAIiiF,EAAQ,iBAC9BoyN,eAAgBr0S,EAAI6sK,EAAc,eAClCynI,kBAAmBt0S,EAAI6hK,EAAiB,kBACxC0yI,eAAgBv0S,EAAI6hK,EAAiB,eACrC2yI,WAAYx0S,EAAIy8K,EAAU,WAC1BktH,QAjBY,SAAUhpS,EAAM+oS,GAC5B,OAAOzpS,EAAMU,EAAKsN,eAAiBy7R,CACrC,EAgBEtnN,OAAQ,WACN,MAAO,CACL+V,QAASA,EACTrqB,UAAWA,EACX7tE,MAAOA,EACPgiF,OAAQA,EACR4qF,aAAcA,EACdhL,gBAAiBA,EACjB4a,SAAUA,EAEd,EAEJ,CAGez5D,GACb,MAAO,CACLoxL,iBAAkBD,EAAOC,iBACzB5rI,UAAW2rI,EAAO3rI,UAClB+rI,eAAgBJ,EAAOI,eACvBF,eAAgBF,EAAOE,eACvBC,kBAAmBH,EAAOG,kBAC1B3K,QAASwK,EAAOxK,QAChB1iI,cAAektI,EAAOltI,cACtBkC,YAAagrI,EAAOhrI,YACpBvxE,kBAAmBu8M,EAAOv8M,kBAC1B48M,WAAYL,EAAOK,WACnBv9M,eAAgBk9M,EAAOl9M,eACvB4xE,gBAAiBsrI,EAAOtrI,gBACxBiU,sBAAuBq3H,EAAOr3H,sBAC9BlT,kBAAmBuqI,EAAOvqI,kBAC1BxnF,OAAQ+xN,EAAO/xN,OAEnB,EAEIqyN,GAAQr1F,GAASp2H,IACjB0rN,GAAW/wS,GAAM6yL,OAAQm+G,GAAShxS,GAAMsC,KACxCrC,GAAUD,GAAMC,QAChB6N,GAAK4jL,GAAI5jL,GACTmjS,GAAS,WACX,SAASA,EAAO71S,EAAIs7E,EAAU+rE,GAC5B,IAAIumD,EAAQtoM,KACZA,KAAK44P,QAAU,CAAC,EAChB54P,KAAKyrJ,WAAa,GAClBzrJ,KAAK2+R,cAAgB,GACrB3+R,KAAKwwS,UAAY,CAAC,EAClBxwS,KAAKywS,YAAa,EAClBzwS,KAAK+hJ,cAAgBA,EACrB/hJ,KAAKqqQ,gBAAkBtoH,EAAc2uJ,gBACrCL,GAASrwS,KAAMmtS,IACfntS,KAAKg2E,SAAWo0L,GAAkBpqQ,KAAMtF,EAAIsF,KAAKqqQ,gBAAiBtoH,EAAc+nH,gBAAiB9zL,GAC7Fh2E,KAAKg2E,SAASzuE,SAChBw6I,EAAcx6I,OAASvH,KAAKg2E,SAASzuE,QAEvCvH,KAAKuH,OAASw6I,EAAcx6I,OACxBvH,KAAKg2E,SAAS26N,UAChB5uJ,EAAc6uJ,YAAY5wS,KAAKg2E,SAAS26N,UAE1C3wS,KAAKmqO,QAAUpoF,EAAc8uJ,QACzB7wS,KAAKg2E,SAAS86N,kBAChB9wF,GAAaA,aAAa/lB,mBAAmBj6L,KAAKg2E,SAAS86N,iBAC3D/1F,GAASp2H,IAAIkmE,iBAAiBovC,mBAAmBj6L,KAAKg2E,SAAS86N,kBAEjE9uF,GAAagB,aAAehjN,KAAKg2E,SAAS+6N,cAC1C/uF,GAAaz2D,QAAUxJ,EAAcwJ,QACrCvrJ,KAAKtF,GAAKA,EACVsF,KAAKg3P,UAAS,GACdh3P,KAAKsrJ,gBAAkB,IAAI4+E,GAAIlqO,KAAKg2E,SAASu0L,kBAAmB,CAAE/+E,SAAUxrL,KAAKmqO,UACjFnqO,KAAK6wS,QAAU7wS,KAAKmqO,QACpBnqO,KAAKkmF,SAAWlmF,KAAKg2E,SAASkQ,OAC9BlmF,KAAK4gK,UAAY,IAAIwuI,GAAUpvS,MAC/BA,KAAKgxS,eAAiB,IAAIzH,GAAevpS,MACrCA,KAAKg2E,SAASi7N,eAChBjgH,GAAIO,YAAcvxL,KAAKg2E,SAASi7N,aAAaxpS,QAAQ,WAAY,KAEnEzH,KAAK69E,GAAK,CACRC,SAAUA,KACV+sE,sBAAkBrvJ,EAClB0oF,KAAMvmF,EACNszE,KAAMtzE,EACN4zD,OAAQ5zD,EACR6zD,QAAS7zD,EACTwzD,WAAYjyD,GAEd,IACIgyS,EAAe74N,GADRr4E,MAEXA,KAAK0wC,KAAOwgQ,EACZlxS,KAAKqnF,QAAU6pN,EAAa36R,IAC5BwrI,EAAc/yD,KAAK,cAAe,CAAEtZ,OAAQ11E,OAC5CA,KAAKkgS,aAAa,QAASlgS,MAC3BA,KAAKo7M,EAAIrD,GAASsC,kBAAiB,WACjC,MAAO,CACL5+H,QAAS6sH,EAAMpiH,OAASoiH,EAAMz0L,UAAYy0L,EAAM/vH,SAChD7uE,QAAS4+L,EAAMz0L,UAEnB,GACF,CAoSA,OAnSA08R,EAAOp0S,UAAUg7F,OAAS,WACxBA,GAAOn3F,KACT,EACAuwS,EAAOp0S,UAAU4rC,MAAQ,SAAU+/L,GACjC9nO,KAAKkyF,YAAY,YAAY,EAAO41I,EACtC,EACAyoE,EAAOp0S,UAAU6rC,SAAW,WAC1B,OAAOA,GAAShoC,KAClB,EACAuwS,EAAOp0S,UAAU+jS,aAAe,SAAU5jS,GAExC,IADA,IAAIN,EAAI,GACCgC,EAAK,EAAGA,EAAKC,UAAUP,OAAQM,IACtChC,EAAEgC,EAAK,GAAKC,UAAUD,GAExB,IACoCqK,EADhChG,EAAOrC,KACPqyF,EAAWhwF,EAAK2zE,SAAS15E,GAC7B,GAAK+1F,EAiBL,OAdIhwF,EAAK8uS,iBAAmB9oS,EAAQhG,EAAK8uS,eAAe70S,MACtD+1F,EAAWhqF,EAAM0vL,KACjB1vL,EAAQA,EAAMA,OAEQ,iBAAbgqF,IAEThqF,GADAA,EAAQgqF,EAAS5qF,QAAQ,SAAU,KACnBlI,GAAQ8I,GAAS,EACjCgqF,EAAW9yF,GAAQ8yF,GACnBhwF,EAAK8uS,eAAiB9uS,EAAK8uS,gBAAkB,CAAC,EAC9C9uS,EAAK8uS,eAAe70S,GAAQ,CAC1By7L,KAAM1lG,EACNhqF,MAAOA,IAGJgqF,EAASn0F,MAAMmK,GAAShG,EAAMrG,EACvC,EACAu0S,EAAOp0S,UAAUib,UAAY,SAAUpO,GACrC,OAAOk4M,GAAK9pM,UAAUpO,EACxB,EACAunS,EAAOp0S,UAAUqoF,SAAW,SAAUloF,EAAMi/M,EAAYz/M,GACtD,OAAO0oF,GAASxkF,KAAM1D,EAAMi/M,EAAYz/M,EAC1C,EACAy0S,EAAOp0S,UAAU09F,UAAY,SAAUv9F,EAAM2kH,GAE3C,QADgBouE,EAAWs+B,GAAW3tN,MAAMk0B,MAAM,QAAS53B,MAElD2kH,QAAqCzlH,IAA5B+nN,GAActtM,IAAI3Z,GAItC,EACAi0S,EAAOp0S,UAAUi+J,YAAc,SAAUr8J,GACvCiC,KAAKyiS,sBAAsBroI,YAAYr8J,EACzC,EACAwyS,EAAOp0S,UAAUw6J,WAAa,SAAUr6J,EAAM+1F,EAAUhqF,GACtDrI,KAAKgxS,eAAer6I,WAAWr6J,EAAM+1F,EAAUhqF,EACjD,EACAkoS,EAAOp0S,UAAUy6K,qBAAuB,SAAUt6K,EAAM+1F,EAAUhqF,GAChErI,KAAKgxS,eAAep6H,qBAAqBt6K,EAAM+1F,EAAUhqF,EAC3D,EACAkoS,EAAOp0S,UAAU06J,qBAAuB,SAAUv6J,EAAM+1F,EAAUhqF,GAChErI,KAAKgxS,eAAen6I,qBAAqBv6J,EAAM+1F,EAAUhqF,EAC3D,EACAkoS,EAAOp0S,UAAUw7Q,YAAc,SAAU71G,EAASgb,EAAM6yH,EAAStnS,GAC/DrI,KAAK4gK,UAAUjlK,IAAImmK,EAASgb,EAAM6yH,EAAStnS,EAC7C,EACAkoS,EAAOp0S,UAAU+1F,YAAc,SAAUwzE,EAAK7nF,EAAI9hF,EAAOgC,GACvD,OAAOiC,KAAKgxS,eAAe9+M,YAAYwzE,EAAK7nF,EAAI9hF,EAAOgC,EACzD,EACAwyS,EAAOp0S,UAAU8nK,kBAAoB,SAAUyB,GAC7C,OAAO1lK,KAAKgxS,eAAe/sI,kBAAkByB,EAC/C,EACA6qI,EAAOp0S,UAAU0yJ,kBAAoB,SAAU6W,GAC7C,OAAO1lK,KAAKgxS,eAAeniJ,kBAAkB6W,EAC/C,EACA6qI,EAAOp0S,UAAUmjS,sBAAwB,SAAU55H,GACjD,OAAO1lK,KAAKgxS,eAAe1R,sBAAsB55H,EACnD,EACA6qI,EAAOp0S,UAAU+nF,KAAO,WACtB,IAAI7hF,EAAOrC,KACPqC,EAAK0jS,SACP1jS,EAAK0jS,QAAS,EACV1jS,EAAK6jF,OACP7jF,EAAKwR,UAAUk6H,gBAAkB,QAEjCqiK,GAAMlsN,KAAK7hF,EAAK8jG,gBAChBiqM,GAAMn/N,KAAK5uE,EAAK3H,KAElB2H,EAAKqjE,OACLrjE,EAAK2sF,KAAK,QAEd,EACAuhN,EAAOp0S,UAAU80E,KAAO,WACtB,IAAI5uE,EAAOrC,KAAM4T,EAAMvR,EAAKk2E,SACvBl2E,EAAK0jS,SACJ34R,IAAMwG,IAAQvR,EAAK6jF,QACrBtyE,EAAIs+E,YAAY,aAElB7vF,EAAK6jQ,OACD7jQ,EAAK6jF,QACP7jF,EAAKwR,UAAUk6H,gBAAkB,QAC7B1rI,IAASA,EAAK0/I,cAAc8kF,gBAC9BxkO,EAAK0/I,cAAc8kF,cAAgB,QAGrCupE,GAAMn/N,KAAK5uE,EAAK8jG,gBAChBiqM,GAAM3yF,SAASp7M,EAAK3H,GAAI,UAAW2H,EAAKkkQ,aAE1ClkQ,EAAK0jS,QAAS,EACd1jS,EAAK2sF,KAAK,QAEd,EACAuhN,EAAOp0S,UAAUg3K,SAAW,WAC1B,QAASnzK,KAAK+lS,MAChB,EACAwK,EAAOp0S,UAAUymS,iBAAmB,SAAUvpQ,EAAOxH,GACnD7xB,KAAKgvF,KAAK,gBAAiB,CACzB31D,MAAOA,EACPxH,KAAMA,GAEV,EACA0+Q,EAAOp0S,UAAUupE,KAAO,SAAU3nE,GAChC,IAC6BqK,EADzB/F,EAAOrC,KACP04E,EAAMr2E,EAAKoiF,aACf,GAAIpiF,EAAK84H,QACP,MAAO,GAET,GAAIziD,EAAK,EACP36E,EAAOA,GAAQ,CAAC,GACX2nE,MAAO,EACZ,IAAI3pE,EAAQi5L,GAAkBt8G,GAAOA,EAAI38E,MAAQ28E,EAAIlwE,UAOrD,OANAJ,EAAO/F,EAAKkiD,WAAWxoD,EAAOgC,GAC9BA,EAAK2L,QAAUgvE,EACV36E,EAAK6yO,WACRvuO,EAAK2sF,KAAK,cAAejxF,GAE3BA,EAAK2L,QAAUgvE,EAAM,KACdtwE,CACT,CACF,EACAmoS,EAAOp0S,UAAU+pQ,KAAO,SAAUnoQ,GAChC,IAC6BqK,EAAM2tG,EAD/B1zG,EAAOrC,KACP04E,EAAMr2E,EAAKoiF,aACf,GAAK/L,GAAQr2E,EAAKqoJ,cAAeroJ,EAAK84H,QAiCtC,OA9BAp9H,EAAOA,GAAQ,CAAC,GACXmoQ,MAAO,EACZnoQ,EAAK2L,QAAUgvE,EACR36E,EAAKyyB,QAAUnuB,EAAK6uE,WAAWnzE,GACjCA,EAAK6yO,WACRvuO,EAAK2sF,KAAK,cAAejxF,GAEP,QAAhBA,EAAK8zF,QACPxvF,EAAK2sF,KAAK,iBAAkBjxF,GAE9BqK,EAAOrK,EAAKyyB,QACPwkK,GAAkBt8G,GAarBA,EAAI38E,MAAQqM,IAZRrK,EAAKooQ,aAAgB9jQ,EAAK6jF,SAC5BxN,EAAIlwE,UAAYJ,IAEd2tG,EAAOq6L,GAAM72N,UAAUl3E,EAAK3H,GAAI,UAClC41S,GAAOv6L,EAAKv7F,UAAU,SAAUk+D,GAC9B,GAAIA,EAAIp8E,OAAS+F,EAAK3H,GAEpB,OADAg+E,EAAI38E,MAAQqM,GACL,CAEX,KAKJrK,EAAK2L,QAAUgvE,EAAM,MACE,IAAnB36E,EAAKgqS,WACP1lS,EAAK20P,UAAS,GAET5uP,CACT,EACAmoS,EAAOp0S,UAAUooD,WAAa,SAAU/zB,EAASzyB,GAC/C,OAAOwmD,GAAWvkD,KAAMwwB,EAASzyB,EACnC,EACAwyS,EAAOp0S,UAAU+0E,WAAa,SAAUnzE,GACtC,OAAOmzE,GAAWlxE,KAAMjC,EAC1B,EACAwyS,EAAOp0S,UAAU4vL,cAAgB,SAAUv7J,EAASzyB,GAC9CA,IACFyyB,EAAU6/Q,GAAS,CAAE7/Q,QAASA,GAAWzyB,IAE3CiC,KAAKkyF,YAAY,oBAAoB,EAAO1hE,EAC9C,EACA+/Q,EAAOp0S,UAAUsrS,aAAe,SAAU2J,QACjB51S,IAAnB41S,EACF7sP,GAAWvkD,KAAMA,KAAKwhS,aAAc,CAAE3vM,OAAQ,QAE9CttC,GAAWvkD,KAAMoxS,GAEnBpxS,KAAKssJ,YAAYvrG,QACjB/gD,KAAKg3P,UAAS,GACdh3P,KAAKo6J,aACP,EACAm2I,EAAOp0S,UAAUq8Q,QAAU,WACzB,OAAQx4Q,KAAKywS,UACf,EACAF,EAAOp0S,UAAU66P,SAAW,SAAU39N,GACpC,IAAIg4Q,GAAYrxS,KAAKywS,WACrBzwS,KAAKywS,YAAcp3Q,EACfA,GAASA,IAAUg4Q,GACrBrxS,KAAKgvF,KAAK,QAEd,EACAuhN,EAAOp0S,UAAUgqG,aAAe,WAC9B,IAAI9jG,EAAOrC,KAIX,OAHKqC,EAAK8uB,YACR9uB,EAAK8uB,UAAYi/Q,GAAMn6R,IAAI5T,EAAKk2I,iBAAmBl2I,EAAK3H,GAAK,YAExD2H,EAAK8uB,SACd,EACAo/Q,EAAOp0S,UAAUy6E,wBAA0B,WACzC,OAAO52E,KAAKknQ,oBACd,EACAqpC,EAAOp0S,UAAUsoF,WAAa,WAI5B,OAHKzkF,KAAK8hJ,YACR9hJ,KAAK8hJ,UAAYsuJ,GAAMn6R,IAAIjW,KAAKtF,KAE3BsF,KAAK8hJ,SACd,EACAyuJ,EAAOp0S,UAAU+8C,OAAS,WACxB,IACIw/B,EADAr2E,EAAOrC,KAQX,OANKqC,EAAKo8G,gBACR/lC,EAAMr2E,EAAK4+I,iBAET5+I,EAAKo8G,cAAgB/lC,EAAI+lC,eAGtBp8G,EAAKo8G,aACd,EACA8xL,EAAOp0S,UAAUo8E,OAAS,WACxB,IACI/gE,EADAnV,EAAOrC,KAQX,OANKqC,EAAK23M,kBACRxiM,EAAMnV,EAAK62C,YAET72C,EAAK23M,gBAAkBxiM,EAAIvc,UAGxBoH,EAAK23M,eACd,EACAu2F,EAAOp0S,UAAU0X,QAAU,WACzB,IAAID,EAAM5T,KAAKu4E,SACf,OAAOv4E,KAAKqqI,cAAgBz2H,EAAMA,EAAIR,KAAO,KAC/C,EACAm9R,EAAOp0S,UAAU6uQ,WAAa,SAAU9wI,EAAK59H,EAAMo8E,GACjD,IAAIr2E,EAAOrC,KAAMg2E,EAAW3zE,EAAK2zE,SACjC,OAAIA,EAASs7N,sBACJjvS,EAAK69R,aAAa,wBAAyBhmK,EAAKxhD,GAAK,EAAMp8E,IAE/D05E,EAAS20L,cAAgBjyL,GAAwB,SAAjBA,EAAI/uE,UAAgD,IAAzBuwH,EAAI/5H,QAAQ,UAAiC,IAAf+5H,EAAIx8H,OACzFw8H,EAELlkD,EAAS40L,cACJvoQ,EAAKipJ,gBAAgB6/E,WAAWjxG,GAEzCA,EAAM73H,EAAKipJ,gBAAgB50G,WAAWwjF,EAAKlkD,EAAS60L,mBAEtD,EACA0lC,EAAOp0S,UAAUmnP,UAAY,SAAU5qK,GACrC4qK,GAAUtjP,KAAM04E,EAClB,EACA63N,EAAOp0S,UAAUq8B,OAAS,WACxBA,GAAOx4B,KACT,EACAuwS,EAAOp0S,UAAUgyC,QAAU,SAAUu4N,GACnCv4N,GAAQnuC,KAAM0mQ,EAChB,EACA6pC,EAAOp0S,UAAU42Q,aAAe,SAAU1gL,GACxC,OAAOryF,KAAKimQ,aAAa8M,aAAa1gL,EACxC,EACAk+M,EAAOp0S,UAAUo1S,eAAiB,WAChC,OAAOvxS,KAAKimQ,aAAa+M,eAC3B,EACAu9B,EAAOp0S,UAAUgoK,UAAY,WAC3B,MAAM,IAAIllK,MAAM,uKAClB,EACAsxS,EAAOp0S,UAAUg0S,WAAa,WAC5B,MAAM,IAAIlxS,MAAM,8FAClB,EACAsxS,EAAOp0S,UAAU2oK,YAAc,WAC7B,MAAM,IAAI7lK,MAAM,gGAClB,EACAsxS,EAAOp0S,UAAU8zS,kBAAoB,WACnC,MAAM,IAAIhxS,MAAM,4GAClB,EACOsxS,CACT,CA9Va,GAgWT5rN,GAAMo2H,GAASp2H,IACfw4B,GAAU79G,GAAM69G,QAAS75G,GAAShE,GAAMsC,KAAM4vS,GAAWlyS,GAAM6yL,OAC/Ds/G,GAAkB,EAAGC,IAAoB,EAEzCC,GAAgB,GAChBzE,GAAU,GAIV0E,GAAsB,SAAU1xS,GAClC,IAAIpE,EAAOoE,EAAEpE,KACbwH,GAAOuuS,GAAc57R,OAAO,SAAUy/D,GACpC,OAAQ55E,GACR,IAAK,SACH45E,EAAOsZ,KAAK,eAAgB9uF,GAC5B,MACF,IAAK,SACHw1E,EAAOsZ,KAAK,eAAgB9uF,GAGhC,GACF,EACI4xS,GAAqB,SAAUz4Q,GAC7BA,IAAUq4Q,KACRr4Q,EACF0+K,GAASzuM,QAAQkkC,GAAG,gBAAiBokQ,IAErC75F,GAASzuM,QAAQokC,IAAI,gBAAiBkkQ,IAExCF,GAAoBr4Q,EAExB,EACI04Q,GAAuB,SAAUC,GACnC,IAAIC,EAAa/E,UACVyE,GAAcK,EAAat3S,IAClC,IAAK,IAAI8C,EAAI,EAAGA,EAAIm0S,GAAcj0S,OAAQF,IACxC,GAAIm0S,GAAcn0S,KAAOw0S,EAAc,CACrCL,GAAcphN,OAAO/yF,EAAG,GACxB,KACF,CAWF,OATA0vS,GAAU19G,EAAS09G,IAAS,SAAUx3N,GACpC,OAAOs8N,IAAiBt8N,CAC1B,IACIm8N,GAAc7qE,eAAiBgrE,IACjCH,GAAc7qE,aAAekmE,GAAQxvS,OAAS,EAAIwvS,GAAQ,GAAK,MAE7D2E,GAAchrE,gBAAkBmrE,IAClCH,GAAchrE,cAAgB,MAEzBorE,EAAWv0S,SAAWwvS,GAAQxvS,MACvC,EAWIw0S,GAAuC,eAAxBj3S,SAASk3S,WACxBN,GAAgBryS,GAASA,GAAS,CAAC,EAAGitS,IAAa,CACrDoE,QAAS,KACTtlJ,QAAS,KACTu+G,gBAAiB,CAAC,EAClB4mC,gBAAiB,KACjBnpS,OAAQ,KACR6zM,EAAGrD,GACHq6F,aAAc,IACdC,aAAc,OACdC,YAAa,aACbpF,QAASyE,GACTY,KAAMrxF,GACN8lB,aAAc,KACdH,cAAe,KACf7wJ,SAAU,CAAC,EACXrJ,MAAO,WACL,IACI4+E,EAASmlJ,EADTruS,EAAOrC,KACmBuH,EAAS,GACvCmpS,EAAkBxmE,GAAIY,mBAAmB7vO,SAAS6yK,UAC9C,yBAAyB9iK,KAAK0lS,KAChCA,EAAkBA,EAAgBjpS,QAAQ,WAAY,IAAIA,QAAQ,gBAAiB,IAC9E,UAAUuD,KAAK0lS,KAClBA,GAAmB,MAGvB,IA1xgBoB3uJ,EA0xgBhB++I,EAAUx3R,OAAO7N,SAAW6N,OAAOkpS,eACvC,GAAI1R,EACFv1I,EAAUu1I,EAAQj3Q,MAAQi3Q,EAAQv1I,QAClChkJ,EAASu5R,EAAQv5R,WACZ,CAEL,IADA,IAAIo5M,EAAU1lN,SAAS8hM,qBAAqB,UACnCv/L,EAAI,EAAGA,EAAImjN,EAAQjjN,OAAQF,IAAK,CACvC,IAAIwuF,EACJ,GAAY,MADRA,EAAM20H,EAAQnjN,GAAGwuF,KAAO,IAC5B,CAGA,IAAIymN,EAAYzmN,EAAIn4D,UAAUm4D,EAAInS,YAAY,MAC9C,GAAI,8CAA8C7uE,KAAKghF,GAAM,EACxB,IAA/BymN,EAAUtyS,QAAQ,UACpBoH,EAAS,QAEXgkJ,EAAUv/D,EAAIn4D,UAAU,EAAGm4D,EAAInS,YAAY,MAC3C,KACF,CARA,CASF,CACA,IAAK0xE,GAAWtwJ,SAASy3S,eAEM,KADzB1mN,EAAM/wF,SAASy3S,cAAc1mN,KACzB7rF,QAAQ,UACdoH,EAAS,QAEXgkJ,EAAUv/D,EAAIn4D,UAAU,EAAGm4D,EAAInS,YAAY,KAE/C,CACAx3E,EAAKkpJ,QAAU,IAAI2+E,GAAIwmE,GAAiBh6P,WAAW60G,GACnDlpJ,EAAKquS,gBAAkBA,EACvBruS,EAAKwuS,QAAU,IAAI3mE,GAAI7nO,EAAKkpJ,SAC5BlpJ,EAAKkF,OAASA,GAzzgBMw6I,EA0zgBZ1/I,GAzzgBImrC,GAAG,YAAajvC,EAAMqoO,GAAkB7kF,IACtDA,EAAcv0G,GAAG,eAAgBjvC,EAAM0oO,GAA0BllF,GAyzgBjE,EACAs4D,iBAAkB,SAAUyvD,GAC1B,IAAIxnD,EAAUwnD,EAAgB6mC,SAC1BruF,GACFtiN,KAAK4wS,YAAYtuF,GAEnB,IAAI/6M,EAASuiQ,EAAgBviQ,OACzBuiQ,EAAgBviQ,SAClBvH,KAAKuH,OAASA,GAEhBvH,KAAK8pQ,gBAAkBA,EACvB,IAAI6oC,EAAiB7oC,EAAgB8oC,sBACdp3S,IAAnBm3S,GACF/iH,GAAO+iH,GAAgB,SAAUE,EAAexvF,GAC9CrB,GAAauB,cAAczpB,KAAKupB,GAAcwvF,CAChD,GAEJ,EACAj+Q,KAAM,SAAUohD,GACd,IACI/zD,EADA5f,EAAOrC,KAEP8yS,EAAuBxzS,GAAM2wI,QAAQ,6MAAmN,KAIxP8iK,EAAW,SAAUr6N,GACvB,IAAIh+E,EAAKg+E,EAAIh+E,GAOb,OANKA,IACHA,EAAKugB,GAAMy9D,EAAK,QAAQ12E,QAAO,SAAU1F,GACvC,OAAQqoF,GAAI1uE,IAAI3Z,EAClB,IAAG+E,WAAWsjF,GAAI05H,UAClB3lI,EAAI3kE,aAAa,KAAMrZ,IAElBA,CACT,EAQIu9M,EAAW,SAAUv/H,EAAK8sD,GAC5B,OAAOA,EAAUnpI,cAAgBkvF,OAASi6C,EAAUx6H,KAAK0tE,EAAI8sD,WAAa7gD,GAAIszH,SAASv/H,EAAK8sD,EAC9F,EAwDIwtK,EAAiB,SAAU9F,GAC7BjrR,EAASirR,CACX,EACI+F,EAAc,WAChB,IAEInwK,EAFAowK,EAAY,EACZhG,EAAU,GAEViG,EAAe,SAAUz4S,EAAIs7E,EAAU8rE,GACzC,IAAIpsE,EAAS,IAAI66N,GAAO71S,EAAIs7E,EAAU3zE,GACtC6qS,EAAQ1yS,KAAKk7E,GACbA,EAAOloC,GAAG,QAAQ,aACV0lQ,IAAcpwK,EAAQplI,QAC1Bs1S,EAAe9F,EAEnB,IACAx3N,EAAOosE,UAAYpsE,EAAOosE,WAAaA,EACvCpsE,EAAOyhB,QACT,EACAxS,GAAIhrE,OAAOrQ,OAAQ,QAAS2pS,GAnFX,SAAU32S,GAC3B,IAAI+1F,EAAWrc,EAAS15E,GACxB,GAAK+1F,EAGEA,EAASn0F,MAAMmE,EAAM,GAC9B,CA8EE69R,CAAa,cACbp9J,EAAUi1E,GAASpmL,OA3EH,SAAUqkD,GAC1B,IAAI8sD,EAAU,GACd,GAAIkuD,GAAIriL,QAAQ5B,QAAUikL,GAAIriL,QAAQhC,QAAQpC,MAAQ,GAEpD,OADAmkQ,GAAU,kKACH,GACF,GAAIwjC,GAET,OADAxjC,GAAU,8GACH,GAET,GAAI14L,EAAS46D,MAIX,OAHAttI,GAAO0yE,EAAS46D,OAAO,SAAU90I,GAC/BgnI,EAAUA,EAAQlkI,OAAO+lF,GAAIkO,OAAO/2F,EAAK0U,UAC3C,IACOsyH,EACF,GAAI9sD,EAASxlE,SAClB,OAAOm0E,GAAIkO,OAAO7c,EAASxlE,UACtB,GAAIwlE,EAASnqE,OAClB,MAAO,CAACmqE,EAASnqE,QAEnB,OAAQmqE,EAAStlC,MACjB,IAAK,QACH,IAAI/vC,EAAIq1E,EAASx7D,UAAY,GACzB7Z,EAAEjD,OAAS,GACb4F,GAAO65G,GAAQx8G,IAAI,SAAUjG,GAC3B,IAAIg+E,EAAMiM,GAAI1uE,IAAIvb,GACdg+E,EACFoqD,EAAQtoI,KAAKk+E,GAEbp1E,GAAOrI,SAAS8jK,OAAO,SAAUjgK,GAC/BwE,GAAOxE,EAAE0b,UAAU,SAAUta,GACvBA,EAAE5D,OAAS5B,IACbA,EAAK,cAAgB+2S,KACrB9sN,GAAI82H,UAAUv7M,EAAG,KAAMxF,GACvBooI,EAAQtoI,KAAK0F,GAEjB,GACF,GAEJ,IAEF,MACF,IAAK,YACL,IAAK,qBACHoD,GAAOqhF,GAAIkO,OAAO,aAAa,SAAUna,GACnC1C,EAASo9N,mBAAqBn7F,EAASv/H,EAAK1C,EAASo9N,oBAGpDp9N,EAASq9N,kBAAmBp7F,EAASv/H,EAAK1C,EAASq9N,kBACtDvwK,EAAQtoI,KAAKk+E,EAEjB,IAGF,OAAOoqD,CACT,CAqB4BwwK,CAAYt9N,IAClCA,EAAS46D,MACXttI,GAAO0yE,EAAS46D,OAAO,SAAU90I,GAC/BwD,GAAMsC,KAAKkhI,GAAS,SAAUpqD,GAC5B,OAAIiM,GAAIp0E,GAAGmoE,EAAK58E,EAAK0U,YACnB2iS,EAAaJ,EAASr6N,GAAM84N,GAAS,CAAC,EAAGx7N,EAAUl6E,GAAO48E,IACnD,EAGX,GACF,KAGFp5E,GAAMsC,KAAKkhI,GAAS,SAAUpqD,GA1MT,IAAUhD,KA2MRrzE,EAAK4T,IAAIyiE,EAAIh+E,MA1M1Bg7E,EAAOg1E,eAAiBh1E,EAAOywB,gBAAkBzwB,EAAO7hE,WAAW1B,aAC/E4/R,GAAqBr8N,GACrBA,EAAO0wL,wBACP1wL,EAAOvnC,SAAQ,GACfunC,EAAOylD,SAAU,EACjBzlD,EAAS,KAsMP,IAIuB,KAHvBotD,EAAUxjI,GAAM0yL,KAAKlvD,GAAS,SAAUpqD,GACtC,OAAQr2E,EAAK4T,IAAIyiE,EAAIh+E,GACvB,KACYgD,OACVs1S,EAAe,IAEf1vS,GAAOw/H,GAAS,SAAUpqD,IAxHF,SAAU1C,EAAU0C,GAC9C,OAAO1C,EAASkQ,QAAUxN,EAAIq8G,QAAQnrL,gBAAiBkpS,CACzD,CAuHUS,CAAsBv9N,EAAU0C,GAGlCy6N,EAAaJ,EAASr6N,GAAM1C,EAAU0C,GAFtCg2L,GAAU,sEAAuEh2L,EAIrF,IAEJ,EAGA,OAFAr2E,EAAK2zE,SAAWA,EAChB2O,GAAI9iF,KAAKyH,OAAQ,QAAS2pS,GACnB,IAAIv7G,IAAW,SAAUn4L,GAC1B0iB,EACF1iB,EAAQ0iB,GAER+wR,EAAiB,SAAU9F,GACzB3tS,EAAQ2tS,EACV,CAEJ,GACF,EACAj3R,IAAK,SAAUvb,GACb,OAAyB,IAArBuD,UAAUP,OACLwvS,GAAQtsS,MAAM,GACZquL,EAAWv0L,GACb0Q,EAAO8hS,IAAS,SAAUx3N,GAC/B,OAAOA,EAAOh7E,KAAOA,CACvB,IAAG0G,MAAM,MACA/D,EAAS3C,IACXwyS,GAAQxyS,GAAMwyS,GAAQxyS,GAEtB,IAEX,EACAiB,IAAK,SAAU+5E,GACb,IAAIrzE,EAAOrC,KAEX,OADqB2xS,GAAcj8N,EAAOh7E,MACnBg7E,IAGK,OAAxBrzE,EAAK4T,IAAIy/D,EAAOh7E,MAxSR,WAySWg7E,EAAOh7E,KAC1Bi3S,GAAcj8N,EAAOh7E,IAAMg7E,GAE7Bi8N,GAAcn3S,KAAKk7E,GACnBw3N,GAAQ1yS,KAAKk7E,IAEfo8N,IAAmB,GACnBzvS,EAAK2kO,aAAetxJ,EACpBrzE,EAAK2sF,KAAK,YAAa,CAAEtZ,OAAQA,IAC5B+tM,KACHA,GAAuB,SAAUvjR,GAC/B,IAAIuY,EAAQpW,EAAK2sF,KAAK,gBACtB,GAAIv2E,EAAMiyL,YAGR,OAFAxqM,EAAE8Y,iBACF9Y,EAAEwqM,YAAcjyL,EAAMiyL,YACfjyL,EAAMiyL,WAEjB,EACAphM,OAAOoQ,iBAAiB,eAAgB+pQ,MArBjC/tM,CAwBX,EACAy9N,aAAc,SAAUz4S,EAAIs7E,GAC1B,OAAOh2E,KAAKrE,IAAI,IAAI40S,GAAO71S,EAAIs7E,EAAUh2E,MAC3C,EACAw4B,OAAQ,SAAUhoB,GAChB,IACIhT,EAAGk4E,EADHrzE,EAAOrC,KAEX,GAAKwQ,EAAL,CAMA,IAAIy+K,EAAWz+K,GAUf,OADAklE,EAASllE,EACLzT,EAAOsF,EAAK4T,IAAIy/D,EAAOh7E,KAClB,MAELq3S,GAAqBr8N,IACvBrzE,EAAK2sF,KAAK,eAAgB,CAAEtZ,OAAQA,IAEf,IAAnBw3N,GAAQxvS,QACV4L,OAAOsQ,oBAAoB,eAAgB6pQ,IAE7C/tM,EAAOl9C,SACPs5Q,GAAmB5E,GAAQxvS,OAAS,GAC7Bg4E,GApBLpyE,GAAOqhF,GAAIkO,OAAOriF,IAAW,SAAUkoE,IACrChD,EAASrzE,EAAK4T,IAAIyiE,EAAIh+E,MAEpB2H,EAAKm2B,OAAOk9C,EAEhB,GAPF,MAJE,IAAKl4E,EAAI0vS,GAAQxvS,OAAS,EAAGF,GAAK,EAAGA,IACnC6E,EAAKm2B,OAAO00Q,GAAQ1vS,GA0B1B,EACA00F,YAAa,SAAUwzE,EAAK7nF,EAAI9hF,GAC9B,IAAIsG,EAAOrC,KAAM01E,EAASrzE,EAAK4T,IAAIla,GACnC,OAAQ2pK,GACR,IAAK,eAIH,OAHKrjK,EAAK4T,IAAIla,IACZ,IAAIw0S,GAAOx0S,EAAOsG,EAAK2zE,SAAU3zE,GAAM80F,UAElC,EACT,IAAK,kBAIH,OAHIzhB,GACFA,EAAOl9C,UAEF,EACT,IAAK,kBACH,OAAKk9C,GAIDA,EAAOy9F,WACTz9F,EAAOwO,OAEPxO,EAAOzE,QAEF,IARL5uE,EAAK6vF,YAAY,gBAAgB,EAAOn2F,IACjC,GASX,QAAIsG,EAAK2kO,cACA3kO,EAAK2kO,aAAa90I,YAAYwzE,EAAK7nF,EAAI9hF,EAGlD,EACA4rS,YAAa,WACXrkS,GAAO4pS,IAAS,SAAUx3N,GACxBA,EAAOwwL,MACT,GACF,EACAstC,QAAS,SAAUnwI,EAAMt8G,GACvBm6J,GAAKvlN,IAAI0nK,EAAMt8G,EACjB,EACA3vC,UAAW,SAAUpO,GACnB,OAAOk4M,GAAK9pM,UAAUpO,EACxB,EACA4rF,UAAW,SAAUlf,GACnB,IAAIsxJ,EAAehnO,KAAKgnO,aACpBhnO,KAAKgnO,eAAiBtxJ,IACpBsxJ,GACFA,EAAah4I,KAAK,aAAc,CAAEwoF,cAAe9hG,IAEnDA,EAAOsZ,KAAK,WAAY,CAAEwoF,cAAewvD,KAE3ChnO,KAAKgnO,aAAetxJ,CACtB,EACAk7N,YAAa,SAAUtuF,GACrBtiN,KAAKurJ,QAAU,IAAI2+E,GAAIlqO,KAAK0wS,iBAAiBh6P,WAAW4rK,EAAQ76M,QAAQ,OAAQ,KAChFzH,KAAK6wS,QAAU,IAAI3mE,GAAIlqO,KAAKurJ,QAC9B,IAEFsmJ,GAAcllO,QAEd,IAgJM8mO,GACAC,GAmCFC,GAAaC,GApLbC,GAAQ93R,KAAK8mB,IAAKixQ,GAAQ/3R,KAAKrF,IAAKk3E,GAAU7xE,KAAKizB,MACnD+kQ,GAAmB,SAAU1qQ,EAAM45O,EAAYn5O,GACjD,IAAI9tC,EAAIinR,EAAWjnR,EACfoN,EAAI65Q,EAAW75Q,EACfiU,EAAIgsB,EAAKhsB,EACT7G,EAAI6yB,EAAK7yB,EACTw9R,EAAU/wB,EAAW5lQ,EACrB42R,EAAUhxB,EAAWzsQ,EACrB09R,GAAYpqQ,GAAO,IAAI5V,MAAM,IAyBjC,MAxBoB,MAAhBggR,EAAS,KACX9qS,GAAK6qS,GAEa,MAAhBC,EAAS,KACXl4S,GAAKg4S,GAEa,MAAhBE,EAAS,KACX9qS,GAAKwkF,GAAQqmN,EAAU,IAEL,MAAhBC,EAAS,KACXl4S,GAAK4xF,GAAQomN,EAAU,IAEL,MAAhBE,EAAS,KACX9qS,GAAKoN,GAEa,MAAhB09R,EAAS,KACXl4S,GAAKqhB,GAEa,MAAhB62R,EAAS,KACX9qS,GAAKwkF,GAAQp3E,EAAI,IAEC,MAAhB09R,EAAS,KACXl4S,GAAK4xF,GAAQvwE,EAAI,IAEZgkG,GAASrlH,EAAGoN,EAAGiU,EAAG7G,EAC3B,EA+CI6qG,GAAW,SAAUrlH,EAAGoN,EAAGiU,EAAG7G,GAChC,MAAO,CACLxa,EAAGA,EACHoN,EAAGA,EACHiU,EAAGA,EACH7G,EAAGA,EAEP,EAII29R,GAAO,CACT75K,QAhDY,SAAUjxF,EAAMhsB,EAAG7G,GAC/B,OAAO6qG,GAASh4E,EAAKrtC,EAAIqhB,EAAGgsB,EAAKjgC,EAAIoN,EAAG6yB,EAAKhsB,EAAQ,EAAJA,EAAOgsB,EAAK7yB,EAAQ,EAAJA,EACnE,EA+CEu9R,iBAAkBA,GAClBK,yBA5D6B,SAAU/qQ,EAAM45O,EAAYoxB,EAAeC,GACxE,IAAIrqQ,EAAKzsC,EACT,IAAKA,EAAI,EAAGA,EAAI82S,EAAK52S,OAAQF,IAE3B,IADAysC,EAAM8pQ,GAAiB1qQ,EAAM45O,EAAYqxB,EAAK92S,KACtCxB,GAAKq4S,EAAcr4S,GAAKiuC,EAAIjuC,EAAIiuC,EAAI5sB,GAAKg3R,EAAch3R,EAAIg3R,EAAcr4S,GAAKiuC,EAAI7gC,GAAKirS,EAAcjrS,GAAK6gC,EAAI7gC,EAAI6gC,EAAIzzB,GAAK69R,EAAc79R,EAAI69R,EAAcjrS,EACjK,OAAOkrS,EAAK92S,GAGhB,OAAO,IACT,EAoDE+2S,UAhDc,SAAUlrQ,EAAMmwF,GAC9B,IAAIg7K,EAAKV,GAAMzqQ,EAAKrtC,EAAGw9H,EAASx9H,GAC5By4S,EAAKX,GAAMzqQ,EAAKjgC,EAAGowH,EAASpwH,GAC5BynP,EAAKgjD,GAAMxqQ,EAAKrtC,EAAIqtC,EAAKhsB,EAAGm8G,EAASx9H,EAAIw9H,EAASn8G,GAClDuzO,EAAKijD,GAAMxqQ,EAAKjgC,EAAIigC,EAAK7yB,EAAGgjH,EAASpwH,EAAIowH,EAAShjH,GACtD,OAAIq6O,EAAK2jD,EAAK,GAAK5jD,EAAK6jD,EAAK,EACpB,KAEFpzL,GAASmzL,EAAIC,EAAI5jD,EAAK2jD,EAAI5jD,EAAK6jD,EACxC,EAwCElyL,MAvCU,SAAUl5E,EAAMytF,EAAW49K,GACrC,IAAIF,EAAKnrQ,EAAKrtC,EACVy4S,EAAKprQ,EAAKjgC,EACVynP,EAAKxnN,EAAKrtC,EAAIqtC,EAAKhsB,EACnBuzO,EAAKvnN,EAAKjgC,EAAIigC,EAAK7yB,EACnBm+R,EAAM79K,EAAU96H,EAAI86H,EAAUz5G,EAC9Bu3R,EAAM99K,EAAU1tH,EAAI0tH,EAAUtgH,EAC9Bq+R,EAAcf,GAAM,EAAGh9K,EAAU96H,EAAIw4S,GACrCM,EAAchB,GAAM,EAAGh9K,EAAU1tH,EAAIqrS,GACrCM,EAAajB,GAAM,EAAGjjD,EAAK8jD,GAC3BK,EAAalB,GAAM,EAAGljD,EAAKgkD,GAW/B,OAVAJ,GAAMK,EACNJ,GAAMK,EACFJ,IACF7jD,GAAMgkD,EACNjkD,GAAMkkD,EACNN,GAAMO,EACNN,GAAMO,GAID3zL,GAASmzL,EAAIC,GAFpB5jD,GAAMkkD,GAEuBP,GAD7B5jD,GAAMokD,GACgCP,EACxC,EAkBEvmK,OAAQ7sB,GACR4zL,eAVmB,SAAUttF,GAC7B,OAAOtmG,GAASsmG,EAAWlhN,KAAMkhN,EAAWxwM,IAAKwwM,EAAWtsM,MAAOssM,EAAW7wM,OAChF,GAsFIo+R,IAjCEzB,GAAQ,CAAC,EACTC,GAAY,CAAC,EA2BV,CACLhuO,KA3BS,SAAUhrE,EAAIw/H,GACvB,IAAIi7K,EAAa,kBAAoBj7K,EAAM,mBACvCk7K,EAAY,kBAAoBl7K,EAAM,0CAA4Cx/H,EAAK,4BAC3F,QAAkBc,IAAdi4S,GAAM/4S,GACR,OAAO+4S,GAAM/4S,GAEb,IAAI26S,EAAO,IAAI39G,IAAW,SAAUn4L,EAASkkG,GAC3C,IAAI6xM,EAnDE,SAAUC,EAAWC,EAAUr/N,QAC3B,IAAZA,IACFA,EAAU,KAEZ,IAAI2tB,GAAO,EACP10D,EAAQ,KACR8sD,EAAW,SAAUmrC,GACvB,OAAO,WAEL,IADA,IAAItpI,EAAO,GACFC,EAAK,EAAGA,EAAKC,UAAUP,OAAQM,IACtCD,EAAKC,GAAMC,UAAUD,GAElB8lG,IACHA,GAAO,EACO,OAAV10D,IACFO,aAAaP,GACbA,EAAQ,MAEVi4F,EAAUnpI,MAAM,KAAMH,GAE1B,CACF,EACIwB,EAAU28F,EAASq5M,GACnB9xM,EAASvH,EAASs5M,GAYtB,MAAO,CACLtuS,MAZU,WAEV,IADA,IAAInJ,EAAO,GACFC,EAAK,EAAGA,EAAKC,UAAUP,OAAQM,IACtCD,EAAKC,GAAMC,UAAUD,GAElB8lG,GAAkB,OAAV10D,IACXA,EAAQiB,YAAW,WACjB,OAAOozD,EAAOvlG,MAAM,KAAMH,EAC5B,GAAGo4E,GAEP,EAGE52E,QAASA,EACTkkG,OAAQA,EAEZ,CAWqBgyM,CAAQl2S,EAASkkG,GAC9BiwM,GAAUh5S,GAAM46S,EAAO/1S,QACvBygN,GAAaA,aAAaK,WAAWnmF,GAAK,WACxC,OAAOo7K,EAAOpuS,MAAMkuS,EACtB,IAAG,WACD,OAAOE,EAAO7xM,OAAO0xM,EACvB,GACF,IAEA,OADA1B,GAAM/4S,GAAM26S,EACLA,CAEX,EAUE15S,IATQ,SAAUjB,EAAI6zB,QACA/yB,IAAlBk4S,GAAUh5S,KACZg5S,GAAUh5S,GAAI6zB,UACPmlR,GAAUh5S,IAEnB+4S,GAAM/4S,GAAMg9L,GAAWn4L,QAAQgvB,EACjC,IAQE3sB,GAAOtC,GAAMsC,KAAM8zS,GAAWp2S,GAAM6yL,OAEpCwjH,GAAQ,WACZ,EACAA,GAAMxjH,OAASwhH,GAAc,SAAUvuS,GACrC,IACIwwS,EADO51S,KACO7D,UACdw5S,EAAQ,WACV,IAAIn4S,EAAGq4S,EAAQC,EACXzzS,EAAOrC,KACX,IAAK4zS,KACCvxS,EAAKuyB,MACPvyB,EAAKuyB,KAAK12B,MAAMmE,EAAMpE,WAExB43S,EAASxzS,EAAK0zS,QAGZ,IADAv4S,EAAIq4S,EAAOn4S,OACJF,MACLs4S,EAAQD,EAAOr4S,IACLo3B,MACRkhR,EAAMlhR,KAAK12B,MAAMmE,EAAMpE,UAKjC,EACI+3S,EAAQ,WACV,OAAOh2S,IACT,EAWA4zS,IAAe,EACf,IAAIz3S,EAAY,IAnCL6D,KAqFX,OAjDA4zS,IAAe,EACXxuS,EAAM2wS,SACRn0S,GAAKwD,EAAM2wS,QAAQ,SAAUD,GAC3B,IAAK,IAAIrxI,KAAUqxI,EACF,SAAXrxI,IACFr/J,EAAMq/J,GAAUqxI,EAAMrxI,GAG5B,IACImxI,EAAOG,SACT3wS,EAAM2wS,OAASH,EAAOG,OAAOn3S,OAAOwG,EAAM2wS,UAG1C3wS,EAAM6wS,SACRr0S,GAAKwD,EAAM6wS,QAAQ/hR,MAAM,MAAM,SAAU53B,GACvC8I,EAAM9I,GAAQ05S,CAChB,IAEE5wS,EAAM8wS,YACRt0S,GAAKwD,EAAM8wS,WAAWhiR,MAAM,MAAM,SAAU53B,GAC1C,IAAIgkC,EAAY,IAAMhkC,EACtB8I,EAAM9I,GAAQ,SAAUP,GACtB,IAAIsG,EAAOrC,KACX,YAAcxE,IAAVO,GACFsG,EAAKi+B,GAAavkC,EACXsG,GAEFA,EAAKi+B,EACd,CACF,IAEEl7B,EAAM+wS,SACRv0S,GAAKwD,EAAM+wS,SAAS,SAAUp+G,EAAMz7L,GAClCq5S,EAAMr5S,GAAQy7L,CAChB,IAEE3yL,EAAMgxS,UAAYR,EAAOQ,WAC3BhxS,EAAMgxS,SAAWV,GAAS,CAAC,EAAGE,EAAOQ,SAAUhxS,EAAMgxS,WAEvDxmH,GAAOxqL,GAAO,SAAUixS,EAAQ/5S,GACR,mBAAX+5S,GAAyBT,EAAOt5S,GACzCH,EAAUG,GArDK,SAAUA,EAAMkC,GACjC,OAAO,WACL,IAAI6D,EAAOrC,KACP4zM,EAAMvxM,EAAKuzS,OACfvzS,EAAKuzS,OAASA,EAAOt5S,GACrB,IAAIsjB,EAAMphB,EAAGN,MAAMmE,EAAMpE,WAEzB,OADAoE,EAAKuzS,OAAShiG,EACPh0L,CACT,CACF,CA4CsB02R,CAAah6S,EAAM+5S,GAErCl6S,EAAUG,GAAQ+5S,CAEtB,IACAV,EAAMx5S,UAAYA,EAClBw5S,EAAMt5S,YAAcs5S,EACpBA,EAAMxjH,OAASwhH,GACRgC,CACT,EAEA,IAsTIY,GAtTA1zQ,GAAM9mB,KAAK8mB,IAAKnsB,GAAMqF,KAAKrF,IAAKs4B,GAAQjzB,KAAKizB,MAwJ7CwnQ,GAAY,CACdvsG,UAXc,SAAU9kM,GACxB,IAAIopB,EAAOzN,KAAKC,UAAU5b,GAC1B,OAAK8pL,EAAW1gK,GAGTA,EAAK9mB,QAAQ,oBAAoB,SAAU0J,GAChD,IAAIslS,EAAUtlS,EAAMgvG,WAAW,GAAGj+G,SAAS,IAC3C,MAAO,MAAQ,OAAO2xB,UAAU4iR,EAAQ/4S,QAAU+4S,CACpD,IALSloR,CAMX,EAGEyhB,MAAO,SAAUhnC,GACf,IACE,OAAO8X,KAAKkvB,MAAMhnC,EAEpB,CADE,MAAOg7F,GACT,CACF,GAGE0yM,GAAQ,CACV7xM,UAAW,CAAC,EACZt8E,MAAO,EACPs2O,KAAM,SAAU7oL,GACd,IAAI3zE,EAAOrC,KAAM6H,EAAMkzM,GAASp2H,IAAKp8D,OAA2B/sB,IAAnBw6E,EAASztD,MAAsBytD,EAASztD,MAAQlmB,EAAKkmB,MAC9F7tB,EAAK,iBAAmB6tB,EAC5BlmB,EAAKwiG,UAAUt8E,GAAS,SAAUmoP,GAChC7oQ,EAAI2wB,OAAO99B,UACJ2H,EAAKwiG,UAAUt8E,GACtBytD,EAASqc,SAASq+K,EACpB,EACA7oQ,EAAIlM,IAAIkM,EAAI+L,IAAIR,KAAM,SAAU,CAC9B1Y,GAAIA,EACJsxF,IAAKhW,EAASkkD,IACdp+H,KAAM,oBAERuG,EAAKkmB,OACP,GAGEouR,GAAMn3S,GAASA,GAAS,CAAC,EAAGitS,IAAa,CAC3C5tC,KAAM,SAAU7oL,GACd,IAAIm6L,EAAK5nP,EAAQ,EACbquR,EAAQ,YACL5gO,EAAS6gO,OAA4B,IAAnB1mC,EAAI1jE,YAAoBlkL,IAAU,KACnDytD,EAAShzD,SAAWuF,EAAQ,KAAwB,MAAf4nP,EAAItqM,OAC3CmQ,EAAShzD,QAAQjjB,KAAKi2E,EAAS8gO,cAAe,GAAK3mC,EAAIQ,aAAcR,EAAKn6L,GACjEA,EAASptE,OAClBotE,EAASptE,MAAM7I,KAAKi2E,EAAS+gO,YAAaxuR,EAAQ,IAAQ,YAAc,UAAW4nP,EAAKn6L,GAE1Fm6L,EAAM,MAENn4E,GAAM3nJ,WAAWumQ,EAAO,GAE5B,EA6BA,GA5BA5gO,EAAS3tE,MAAQ2tE,EAAS3tE,OAASrI,KACnCg2E,EAAS8gO,cAAgB9gO,EAAS8gO,eAAiB9gO,EAAS3tE,MAC5D2tE,EAAS+gO,YAAc/gO,EAAS+gO,aAAe/gO,EAAS3tE,MACxD2tE,EAAS6gO,OAA2B,IAAnB7gO,EAAS6gO,MAC1B7gO,EAASznD,KAAOynD,EAASznD,MAAQ,GACjCooR,GAAI3nN,KAAK,mBAAoB,CAAEhZ,SAAUA,KACzCm6L,EAAM,IAAIxR,gBACFq4C,kBACN7mC,EAAI6mC,iBAAiBhhO,EAASihO,cAEhC9mC,EAAIlsN,KAAK+xB,EAASl6E,OAASk6E,EAASznD,KAAO,OAAS,OAAQynD,EAASkkD,IAAKlkD,EAAS6gO,OAC/E7gO,EAASkhO,cACX/mC,EAAIC,iBAAkB,GAEpBp6L,EAASihO,cACX9mC,EAAIgnC,iBAAiB,eAAgBnhO,EAASihO,cAE5CjhO,EAASohO,gBACX93S,GAAMsC,KAAKo0E,EAASohO,gBAAgB,SAAU3gO,GAC5C05L,EAAIgnC,iBAAiB1gO,EAAOtwE,IAAKswE,EAAO16E,MAC1C,IAEFo0Q,EAAIgnC,iBAAiB,mBAAoB,mBACzChnC,EAAMwmC,GAAI3nN,KAAK,aAAc,CAC3BmhL,IAAKA,EACLn6L,SAAUA,IACTm6L,KACCtR,KAAK7oL,EAASznD,OACbynD,EAAS6gO,MACZ,OAAOD,IAET5+G,GAAM3nJ,WAAWumQ,EAAO,GAC1B,IAGEzkH,GAAS7yL,GAAM6yL,OACfklH,GAAc,WAChB,SAASA,EAAYrhO,GACnBh2E,KAAKg2E,SAAWm8G,GAAO,CAAC,EAAGn8G,GAC3Bh2E,KAAKuoB,MAAQ,CACf,CA+BA,OA9BA8uR,EAAYC,QAAU,SAAU75R,GAC9B,OAAO,IAAI45R,GAAcx4C,KAAKphP,EAChC,EACA45R,EAAYl7S,UAAU0iQ,KAAO,SAAU9gQ,GACrC,IAAIw5S,EAAMx5S,EAAK6K,MAAO4uS,EAAMz5S,EAAKilB,QAC7By0R,EAAUtlH,GAAOnyL,KAAKg2E,SAAUj4E,GACpC05S,EAAQz0R,QAAU,SAAUgU,EAAGh7B,QAEZ,KADjBg7B,EAAIw/Q,GAAUxmQ,MAAMhZ,MAElBA,EAAI,CAAEpuB,MAAO,sBAEXouB,EAAEpuB,MACJ2uS,EAAIx3S,KAAK03S,EAAQV,aAAeU,EAAQpvS,MAAO2uB,EAAEpuB,MAAO5M,GAExDw7S,EAAIz3S,KAAK03S,EAAQX,eAAiBW,EAAQpvS,MAAO2uB,EAAE/U,OAEvD,EACAw1R,EAAQ7uS,MAAQ,SAAU8uS,EAAI17S,GACxBu7S,GACFA,EAAIx3S,KAAK03S,EAAQV,aAAeU,EAAQpvS,MAAOqvS,EAAI17S,EAEvD,EACAy7S,EAAQlpR,KAAOioR,GAAUvsG,UAAU,CACjCvvM,GAAIqD,EAAKrD,IAAM,IAAMsF,KAAKuoB,QAC1BovR,OAAQ55S,EAAK45S,OACb9uR,OAAQ9qB,EAAK8qB,SAEf4uR,EAAQR,aAAe,mBACvBN,GAAI93C,KAAK44C,EACX,EACOJ,CACT,CApCkB,GA8ElB,IACE,IAAIrsS,GAAO,oBACXurS,GAAejtS,OAAOitS,cACT7lN,QAAQ1lF,GAAMA,IAC3BurS,GAAaqB,WAAW5sS,GAG1B,CAFE,MAAO9K,GACPq2S,GA7CO,WACL,IAAIhoR,EAAO,CAAC,EACRrpB,EAAO,GACPkmH,EAAU,CACZ/wC,QAAS,SAAUl0E,GAEjB,OADWooB,EAAKpoB,IACK,IACvB,EACAuqF,QAAS,SAAUvqF,EAAKpK,GACtBmJ,EAAK1K,KAAK2L,GACVooB,EAAKpoB,GAAO5J,OAAOR,EACrB,EACAoK,IAAK,SAAUoM,GACb,OAAOrN,EAAKqN,EACd,EACAqlS,WAAY,SAAUzxS,GACpBjB,EAAOA,EAAKlD,QAAO,SAAUqD,GAC3B,OAAOA,IAAMc,CACf,WACOooB,EAAKpoB,EACd,EACA6nC,MAAO,WACL9oC,EAAO,GACPqpB,EAAO,CAAC,CACV,EACA7wB,OAAQ,GASV,OAPA+B,OAAO6yB,eAAe84F,EAAS,SAAU,CACvCn1G,IAAK,WACH,OAAO/Q,EAAKxH,MACd,EACAm6S,cAAc,EACdC,YAAY,IAEP1sL,CACT,CAnCO,EA8CT,CACA,IAEI2sL,GAAY,CACdC,KAAM,CAAE7D,KAAMA,IACd90S,KAAM,CACJyjG,QAAS40F,GACTM,MAAOA,GACP14L,MAAOA,GACP+9N,GAAIA,GACJ6M,IAAKA,GACLyrE,MAAOA,GACP9J,gBAAiBA,GACjBY,WAAYA,GACZvrF,KAAMA,GACNy1F,IAAKA,GACL71R,KAAM01R,GACNa,YAAaA,GACbX,MAAOA,GACPuB,aAlBe1B,GAmBf2B,MAjVQ,SAAUn8S,GACpB,IAAIsG,EAAO,CAAC,EACRY,EAAI,EAAGopD,EAAI,EAAG/tD,EAAI,EAmGlB0xC,EAAQ,SAAUj0C,GACpB,IAAIoU,EA2BJ,MA1BqB,iBAAVpU,EACL,MAAOA,GACTkH,EAAIlH,EAAMkH,EACVopD,EAAItwD,EAAMswD,EACV/tD,EAAIvC,EAAMuC,GACD,MAAOvC,GA5EP,SAAUoyF,EAAKC,EAAYC,GAMxC,GALAF,GAAOl/E,SAASk/E,EAAK,KAAO,GAAK,IACjCC,EAAan/E,SAASm/E,EAAY,IAAM,IACxCC,EAAap/E,SAASo/E,EAAY,IAAM,IACxCD,EAAa13E,GAAI,EAAGmsB,GAAIurD,EAAY,IACpCC,EAAa33E,GAAI,EAAGmsB,GAAIwrD,EAAY,IACjB,IAAfD,EAAJ,CAIA,IAAIE,EAAOH,EAAM,GACbI,EAASF,EAAaD,EACtBpyF,EAAIuyF,GAAU,EAAIxyE,KAAK0mE,IAAI6L,EAAO,EAAI,IACtCn9E,EAAQk9E,EAAaE,EACzB,OAAQxyE,KAAKiW,MAAMs8D,IACnB,KAAK,EACHrrF,EAAIsrF,EACJliC,EAAIrwD,EACJsC,EAAI,EACJ,MACF,KAAK,EACH2E,EAAIjH,EACJqwD,EAAIkiC,EACJjwF,EAAI,EACJ,MACF,KAAK,EACH2E,EAAI,EACJopD,EAAIkiC,EACJjwF,EAAItC,EACJ,MACF,KAAK,EACHiH,EAAI,EACJopD,EAAIrwD,EACJsC,EAAIiwF,EACJ,MACF,KAAK,EACHtrF,EAAIjH,EACJqwD,EAAI,EACJ/tD,EAAIiwF,EACJ,MACF,KAAK,EACHtrF,EAAIsrF,EACJliC,EAAI,EACJ/tD,EAAItC,EACJ,MACF,QACEiH,EAAIopD,EAAI/tD,EAAI,EAEd2E,EAAI+rC,GAAM,KAAO/rC,EAAIkO,IACrBk7C,EAAIrd,GAAM,KAAOqd,EAAIl7C,IACrB7S,EAAI0wC,GAAM,KAAO1wC,EAAI6S,GAzCrB,MAFElO,EAAIopD,EAAI/tD,EAAI0wC,GAAM,IAAMq/C,EA4C5B,CA0BM8pN,CAASp8S,EAAMya,EAAGza,EAAM4D,EAAG5D,EAAMyJ,IAG/B2K,EAAU,8DAA8Dk9E,KAAKtxF,KAC/EkH,EAAIgM,SAASkB,EAAQ,GAAI,IACzBk8C,EAAIp9C,SAASkB,EAAQ,GAAI,IACzB7R,EAAI2Q,SAASkB,EAAQ,GAAI,MAChBA,EAAU,oCAAoCk9E,KAAKtxF,KAC5DkH,EAAIgM,SAASkB,EAAQ,GAAI,IACzBk8C,EAAIp9C,SAASkB,EAAQ,GAAI,IACzB7R,EAAI2Q,SAASkB,EAAQ,GAAI,MAChBA,EAAU,2BAA2Bk9E,KAAKtxF,MACnDkH,EAAIgM,SAASkB,EAAQ,GAAKA,EAAQ,GAAI,IACtCk8C,EAAIp9C,SAASkB,EAAQ,GAAKA,EAAQ,GAAI,IACtC7R,EAAI2Q,SAASkB,EAAQ,GAAKA,EAAQ,GAAI,KAG1ClN,EAAIA,EAAI,EAAI,EAAIA,EAAI,IAAM,IAAMA,EAChCopD,EAAIA,EAAI,EAAI,EAAIA,EAAI,IAAM,IAAMA,EAChC/tD,EAAIA,EAAI,EAAI,EAAIA,EAAI,IAAM,IAAMA,EACzB+D,CACT,EAQA,OAPItG,GACFi0C,EAAMj0C,GAERsG,EAAK+1S,MA3CO,WACV,MAAO,CACLn1S,EAAGA,EACHopD,EAAGA,EACH/tD,EAAGA,EAEP,EAsCA+D,EAAKg2S,MArCO,WACV,OAhGY,SAAUp1S,EAAGopD,EAAG/tD,GAC5B,IAAOqB,EAAG6F,EAGVA,EAAI,EAIJ,IAAI2pF,EAAStsD,GAHb5/B,GAAQ,IAGY4/B,GAFpBwpB,GAAQ,IACR/tD,GAAQ,MAEJ8wF,EAAS14E,GAAIzT,EAAGyT,GAAI21C,EAAG/tD,IAC3B,OAAI6wF,IAAWC,EAEN,CACL54E,EAAG,EACH7W,EAAG,EACH6F,EAAO,KAJTA,EAAI2pF,KAUNxvF,GAAKyvF,EAASD,GAAUC,EACxB5pF,EAAI4pF,EACG,CACL54E,EAAGw4B,GAJD,KADA/rC,IAAMksF,EAAS,EAAI7wF,IAAM6wF,EAAS,EAAI,IADlClsF,IAAMksF,EAAS9iC,EAAI/tD,EAAIA,IAAM6wF,EAASlsF,EAAIopD,EAAI/tD,EAAI2E,IAEvCmsF,EAASD,KAK1BxvF,EAAGqvC,GAAU,IAAJrvC,GACT6F,EAAGwpC,GAAU,IAAJxpC,IAEb,CAoES8yS,CAAQr1S,EAAGopD,EAAG/tD,EACvB,EAoCA+D,EAAKirF,MApDO,WACV,IAAIb,EAAM,SAAUp2E,GAElB,OADAA,EAAMpH,SAASoH,EAAK,IAAInU,SAAS,KACtBxE,OAAS,EAAI2Y,EAAM,IAAMA,CACtC,EACA,MAAO,IAAMo2E,EAAIxpF,GAAKwpF,EAAIpgC,GAAKogC,EAAInuF,EACrC,EA+CA+D,EAAK2tC,MAAQA,EACN3tC,CACT,EAuMIk2S,cAjlSgB,SAAU7iO,GAC5B,IAAI6pL,EAAe6P,KACfuC,EAAWF,GAAe/7L,EAAQ6pL,GACtC,MAAO,CACL+Q,OAAQ,SAAUa,EAAWqnC,GAI3B,YAHyB,IAArBA,IACFA,GAAmB,GAEd7mC,EAASrB,OAAOa,EAAWqnC,EAAmBpnC,GAAiB17L,QAAUl6E,EAClF,EAEJ,GAwkSEqM,IAAK,CACH6kM,WAAYA,GACZ2D,OAAQA,GACR0H,SAAUA,GACV0gG,WAAYl+G,GACZgrB,WAAYA,GACZxK,SAAUA,GACViF,aAAcA,GACdqjB,WAAYA,GACZq1E,WAAY/yC,GACZttE,iBAAkBA,GAClB2lC,iBAAkBA,GAClBnB,gBAAiBA,GACjB87E,UAAWl9C,GACXzwD,MAAO0B,GAAW1B,OAEpB5iM,KAAM,CACJigM,OAAQA,GACR7H,SAAUA,GACVnvL,KAAMu3N,GACNnnC,OAAQA,GACRwrC,UAAWA,GACXm0B,UAAWA,GACX9vB,OAAQA,GACRonE,WAAY3mE,IAEd/gD,IAAKA,GACLgxB,aAAcA,GACdya,UAAWA,GACXg7C,UAAWA,GACXW,YAAaA,GACbmxB,eAAgBA,GAChB/7B,cAAeA,GACfZ,oBAAqBA,GACrBugC,iBAAkBA,GAClBiC,UAAWA,GACXmB,OAAQA,GACRzqE,aAAcA,GACd+rE,cAAeA,GACfltN,IAAKo2H,GAASp2H,IACdq7H,aAAcA,GAAaA,aAC3BuD,cAAeA,GACfC,aAAcA,GACd9nN,YAAaA,GACbw5S,SAAUA,GACVr5P,KAAMv8C,GAAMu8C,KACZ/+C,QAASwC,GAAMxC,QACfyT,GAAIjR,GAAMiR,GACVtO,QAAS3C,GAAM2C,QACfguI,QAAS3wI,GAAM2wI,QACfruI,KAAMtC,GAAMsC,KACZD,IAAKrC,GAAMqC,IACXqwL,KAAM1yL,GAAM0yL,KACZC,QAAS3yL,GAAM2yL,QACfE,OAAQ7yL,GAAM6yL,OACdjkD,OAAQ5uI,GAAM4uI,OACd2kD,KAAMvzL,GAAMuzL,KACZF,SAAUrzL,GAAMqzL,SAChBpzL,QAASD,GAAMC,QACf49G,QAAS79G,GAAM69G,QACf21E,gBAAiBxzL,GAAMwzL,gBACvB9lL,QAASgkL,GAAI3kL,MACboxR,SAAUzsG,GAAIH,OACd9jL,KAAMikL,GAAI5jL,GACVowR,QAASxsG,GAAIC,MACb2nH,MAAO5nH,GAAIroG,KAETltF,GAAU6D,GAAM6yL,OAAO0/G,GAAekG,KAUf,SAAUt8S,GACnC6N,OAAO7N,QAAUA,EACjB6N,OAAOuvS,QAAUp9S,CACnB,CACAq9S,CAAqBr9S,IAZO,SAAUA,GAElC,IACEhB,EAAO2nG,QAAU3mG,CAEnB,CADE,MAAOqiB,GACT,CAEJ,CAMAi7R,CAAsBt9S,GAE1B,CA316BA,E","sources":["webpack://plone.staticresources/./node_modules/tinymce/skins/ui/oxide/content.css","webpack://plone.staticresources/./node_modules/tinymce/skins/ui/oxide/skin.css","webpack://plone.staticresources/./node_modules/tinymce/skins/ui/oxide/content.css?83e5","webpack://plone.staticresources/./node_modules/tinymce/skins/ui/oxide/skin.css?d86e","webpack://plone.staticresources/./node_modules/tinymce/icons/default/icons.js","webpack://plone.staticresources/./node_modules/tinymce/icons/default/index.js","webpack://plone.staticresources/./node_modules/tinymce/themes/silver/index.js","webpack://plone.staticresources/./node_modules/tinymce/themes/silver/theme.js","webpack://plone.staticresources/./node_modules/tinymce/tinymce.js"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../../css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%278%27%20height%3D%2712%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%3Cpath%20d%3D%27M0%200L8%200%208%2012%204.09117821%209%200%2012z%27%2F%3E%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_2___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_3___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_4___ = new URL(\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_5___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_6___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba%280%2C%200%2C%200%2C%20.2%29%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba%280%2C%200%2C%200%2C%20.2%29%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba%280%2C%200%2C%200%2C%20.2%29%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_7___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%274%27%20height%3D%274%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%3Cpath%20stroke%3D%27%23ff0000%27%20fill%3D%27none%27%20stroke-linecap%3D%27round%27%20stroke-opacity%3D%27.75%27%20d%3D%27M0%203L2%201%204%203%27%2F%3E%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_8___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%274%27%20height%3D%274%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%3Cpath%20stroke%3D%27%2300A835%27%20fill%3D%27none%27%20stroke-linecap%3D%27round%27%20d%3D%27M0%203L2%201%204%203%27%2F%3E%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_9___ = new URL(\"data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_10___ = new URL(\"data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_11___ = new URL(\"data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_12___ = new URL(\"data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_13___ = new URL(\"data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_14___ = new URL(\"data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_15___ = new URL(\"data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_16___ = new URL(\"data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_17___ = new URL(\"data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_18___ = new URL(\"data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_19___ = new URL(\"data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_20___ = new URL(\"data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_21___ = new URL(\"data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_22___ = new URL(\"data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_23___ = new URL(\"data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_24___ = new URL(\"data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_25___ = new URL(\"data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_26___ = new URL(\"data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_27___ = new URL(\"data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___);\nvar ___CSS_LOADER_URL_REPLACEMENT_5___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_5___);\nvar ___CSS_LOADER_URL_REPLACEMENT_6___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_6___);\nvar ___CSS_LOADER_URL_REPLACEMENT_7___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_7___);\nvar ___CSS_LOADER_URL_REPLACEMENT_8___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_8___);\nvar ___CSS_LOADER_URL_REPLACEMENT_9___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_9___);\nvar ___CSS_LOADER_URL_REPLACEMENT_10___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_10___);\nvar ___CSS_LOADER_URL_REPLACEMENT_11___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_11___);\nvar ___CSS_LOADER_URL_REPLACEMENT_12___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_12___);\nvar ___CSS_LOADER_URL_REPLACEMENT_13___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_13___);\nvar ___CSS_LOADER_URL_REPLACEMENT_14___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_14___);\nvar ___CSS_LOADER_URL_REPLACEMENT_15___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_15___);\nvar ___CSS_LOADER_URL_REPLACEMENT_16___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_16___);\nvar ___CSS_LOADER_URL_REPLACEMENT_17___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_17___);\nvar ___CSS_LOADER_URL_REPLACEMENT_18___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_18___);\nvar ___CSS_LOADER_URL_REPLACEMENT_19___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_19___);\nvar ___CSS_LOADER_URL_REPLACEMENT_20___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_20___);\nvar ___CSS_LOADER_URL_REPLACEMENT_21___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_21___);\nvar ___CSS_LOADER_URL_REPLACEMENT_22___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_22___);\nvar ___CSS_LOADER_URL_REPLACEMENT_23___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_23___);\nvar ___CSS_LOADER_URL_REPLACEMENT_24___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_24___);\nvar ___CSS_LOADER_URL_REPLACEMENT_25___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_25___);\nvar ___CSS_LOADER_URL_REPLACEMENT_26___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_26___);\nvar ___CSS_LOADER_URL_REPLACEMENT_27___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_27___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".mce-content-body .mce-item-anchor{background:rgba(0,0,0,0) url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \") no-repeat center;cursor:default;display:inline-block;height:12px !important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;-moz-user-select:all;-ms-user-select:all;user-select:all;width:8px !important}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment{background-color:#fff0b7}.tox-comments-visible .tox-comment--active{background-color:#ffe168}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,\\\"Andale Mono\\\",\\\"Ubuntu Mono\\\",monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}pre[class*=language-]::selection,pre[class*=language-] ::selection,code[class*=language-]::selection,code[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.property,.token.tag,.token.boolean,.token.number,.token.constant,.token.symbol,.token.deleted{color:#905}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.inserted{color:#690}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string{color:#9a6e3a;background:rgba(255,255,255,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function,.token.class-name{color:#dd4a68}.token.regex,.token.important,.token.variable{color:#e90}.token.important,.token.bold{font-weight:bold}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body *[data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body *[contentEditable=false]{cursor:default}.mce-content-body *[contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \"),default}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px 0 2px;position:relative}.mce-preview-object .mce-shim{background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected=\\\"2\\\"] .mce-shim{display:none}.mce-object{background:rgba(0,0,0,0) url(\" + ___CSS_LOADER_URL_REPLACEMENT_5___ + \") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \");height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected=\\\"2\\\"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--21by9,.tiny-pageembed--16by9,.tiny-pageembed--4by3,.tiny-pageembed--1by1{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--21by9 iframe,.tiny-pageembed--16by9 iframe,.tiny-pageembed--4by3 iframe,.tiny-pageembed--1by1 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:nth-of-type(1){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed #000;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns th,.mce-content-body .mce-clonedresizable.mce-resizetable-columns td{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0,0,0,.75);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:\\\"\\\";display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:bold;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url(\" + ___CSS_LOADER_URL_REPLACEMENT_6___ + \") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::-moz-selection{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body img[data-mce-selected],.mce-content-body video[data-mce-selected],.mce-content-body audio[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body table[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body *[contentEditable=false] *[contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body *[contentEditable=false] *[contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body *[contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly *[contentEditable=true]:focus,.mce-content-body.mce-content-readonly *[contentEditable=true]:hover{outline:none}.mce-content-body *[data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::-moz-selection,.mce-content-body th[data-mce-selected]::-moz-selection{background:none}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:none}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:\\\"\\\";left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast: active),(-ms-high-contrast: none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img::-moz-selection{background:none}.mce-content-body img::selection{background:none}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_7___ + \");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_8___ + \");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc li{list-style-type:none}table[style*=\\\"border-width: 0px\\\"],.mce-item-table:not([border]),.mce-item-table[border=\\\"0\\\"],table[style*=\\\"border-width: 0px\\\"] td,.mce-item-table:not([border]) td,.mce-item-table[border=\\\"0\\\"] td,table[style*=\\\"border-width: 0px\\\"] th,.mce-item-table:not([border]) th,.mce-item-table[border=\\\"0\\\"] th,table[style*=\\\"border-width: 0px\\\"] caption,.mce-item-table:not([border]) caption,.mce-item-table[border=\\\"0\\\"] caption{border:1px dashed #bbb}.mce-visualblocks p,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks section,.mce-visualblocks article,.mce-visualblocks blockquote,.mce-visualblocks address,.mce-visualblocks pre,.mce-visualblocks figure,.mce-visualblocks figcaption,.mce-visualblocks hgroup,.mce-visualblocks aside,.mce-visualblocks ul,.mce-visualblocks ol,.mce-visualblocks dl{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_9___ + \")}.mce-visualblocks h1{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_10___ + \")}.mce-visualblocks h2{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_11___ + \")}.mce-visualblocks h3{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_12___ + \")}.mce-visualblocks h4{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_13___ + \")}.mce-visualblocks h5{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_14___ + \")}.mce-visualblocks h6{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_15___ + \")}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_16___ + \")}.mce-visualblocks section{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_17___ + \")}.mce-visualblocks article{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_18___ + \")}.mce-visualblocks blockquote{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_19___ + \")}.mce-visualblocks address{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_20___ + \")}.mce-visualblocks pre{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_21___ + \")}.mce-visualblocks figure{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_22___ + \")}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_23___ + \")}.mce-visualblocks aside{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_24___ + \")}.mce-visualblocks ul{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_25___ + \")}.mce-visualblocks ol{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_26___ + \")}.mce-visualblocks dl{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_27___ + \")}.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) ul,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) dl{margin-left:3px}.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] ul,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] dl{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:\\\"-\\\"}body{font-family:sans-serif}table{border-collapse:collapse}\", \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/tinymce/skins/ui/oxide/content.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"/**\\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\\n * Licensed under the LGPL or a commercial license.\\n * For LGPL see License.txt in the project root for license information.\\n * For commercial licenses see https://www.tiny.cloud/\\n */\\n.mce-content-body .mce-item-anchor {\\n  background: transparent url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A\\\") no-repeat center;\\n  cursor: default;\\n  display: inline-block;\\n  height: 12px !important;\\n  padding: 0 2px;\\n  -webkit-user-modify: read-only;\\n  -moz-user-modify: read-only;\\n  -webkit-user-select: all;\\n  -moz-user-select: all;\\n  -ms-user-select: all;\\n      user-select: all;\\n  width: 8px !important;\\n}\\n.mce-content-body .mce-item-anchor[data-mce-selected] {\\n  outline-offset: 1px;\\n}\\n.tox-comments-visible .tox-comment {\\n  background-color: #fff0b7;\\n}\\n.tox-comments-visible .tox-comment--active {\\n  background-color: #ffe168;\\n}\\n.tox-checklist > li:not(.tox-checklist--hidden) {\\n  list-style: none;\\n  margin: 0.25em 0;\\n}\\n.tox-checklist > li:not(.tox-checklist--hidden)::before {\\n  content: url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A\\\");\\n  cursor: pointer;\\n  height: 1em;\\n  margin-left: -1.5em;\\n  margin-top: 0.125em;\\n  position: absolute;\\n  width: 1em;\\n}\\n.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before {\\n  content: url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A\\\");\\n}\\n[dir=rtl] .tox-checklist > li:not(.tox-checklist--hidden)::before {\\n  margin-left: 0;\\n  margin-right: -1.5em;\\n}\\n/* stylelint-disable */\\n/* http://prismjs.com/ */\\n/**\\n * prism.js default theme for JavaScript, CSS and HTML\\n * Based on dabblet (http://dabblet.com)\\n * @author Lea Verou\\n */\\ncode[class*=\\\"language-\\\"],\\npre[class*=\\\"language-\\\"] {\\n  color: black;\\n  background: none;\\n  text-shadow: 0 1px white;\\n  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;\\n  font-size: 1em;\\n  text-align: left;\\n  white-space: pre;\\n  word-spacing: normal;\\n  word-break: normal;\\n  word-wrap: normal;\\n  line-height: 1.5;\\n  -moz-tab-size: 4;\\n  tab-size: 4;\\n  -webkit-hyphens: none;\\n  -ms-hyphens: none;\\n  hyphens: none;\\n}\\npre[class*=\\\"language-\\\"]::-moz-selection,\\npre[class*=\\\"language-\\\"] ::-moz-selection,\\ncode[class*=\\\"language-\\\"]::-moz-selection,\\ncode[class*=\\\"language-\\\"] ::-moz-selection {\\n  text-shadow: none;\\n  background: #b3d4fc;\\n}\\npre[class*=\\\"language-\\\"]::selection,\\npre[class*=\\\"language-\\\"] ::selection,\\ncode[class*=\\\"language-\\\"]::selection,\\ncode[class*=\\\"language-\\\"] ::selection {\\n  text-shadow: none;\\n  background: #b3d4fc;\\n}\\n@media print {\\n  code[class*=\\\"language-\\\"],\\n  pre[class*=\\\"language-\\\"] {\\n    text-shadow: none;\\n  }\\n}\\n/* Code blocks */\\npre[class*=\\\"language-\\\"] {\\n  padding: 1em;\\n  margin: 0.5em 0;\\n  overflow: auto;\\n}\\n:not(pre) > code[class*=\\\"language-\\\"],\\npre[class*=\\\"language-\\\"] {\\n  background: #f5f2f0;\\n}\\n/* Inline code */\\n:not(pre) > code[class*=\\\"language-\\\"] {\\n  padding: 0.1em;\\n  border-radius: 0.3em;\\n  white-space: normal;\\n}\\n.token.comment,\\n.token.prolog,\\n.token.doctype,\\n.token.cdata {\\n  color: slategray;\\n}\\n.token.punctuation {\\n  color: #999;\\n}\\n.namespace {\\n  opacity: 0.7;\\n}\\n.token.property,\\n.token.tag,\\n.token.boolean,\\n.token.number,\\n.token.constant,\\n.token.symbol,\\n.token.deleted {\\n  color: #905;\\n}\\n.token.selector,\\n.token.attr-name,\\n.token.string,\\n.token.char,\\n.token.builtin,\\n.token.inserted {\\n  color: #690;\\n}\\n.token.operator,\\n.token.entity,\\n.token.url,\\n.language-css .token.string,\\n.style .token.string {\\n  color: #9a6e3a;\\n  background: hsla(0, 0%, 100%, 0.5);\\n}\\n.token.atrule,\\n.token.attr-value,\\n.token.keyword {\\n  color: #07a;\\n}\\n.token.function,\\n.token.class-name {\\n  color: #DD4A68;\\n}\\n.token.regex,\\n.token.important,\\n.token.variable {\\n  color: #e90;\\n}\\n.token.important,\\n.token.bold {\\n  font-weight: bold;\\n}\\n.token.italic {\\n  font-style: italic;\\n}\\n.token.entity {\\n  cursor: help;\\n}\\n/* stylelint-enable */\\n.mce-content-body {\\n  overflow-wrap: break-word;\\n  word-wrap: break-word;\\n}\\n.mce-content-body .mce-visual-caret {\\n  background-color: black;\\n  background-color: currentColor;\\n  position: absolute;\\n}\\n.mce-content-body .mce-visual-caret-hidden {\\n  display: none;\\n}\\n.mce-content-body *[data-mce-caret] {\\n  left: -1000px;\\n  margin: 0;\\n  padding: 0;\\n  position: absolute;\\n  right: auto;\\n  top: 0;\\n}\\n.mce-content-body .mce-offscreen-selection {\\n  left: -2000000px;\\n  max-width: 1000000px;\\n  position: absolute;\\n}\\n.mce-content-body *[contentEditable=false] {\\n  cursor: default;\\n}\\n.mce-content-body *[contentEditable=true] {\\n  cursor: text;\\n}\\n.tox-cursor-format-painter {\\n  cursor: url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A\\\"), default;\\n}\\n.mce-content-body figure.align-left {\\n  float: left;\\n}\\n.mce-content-body figure.align-right {\\n  float: right;\\n}\\n.mce-content-body figure.image.align-center {\\n  display: table;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n.mce-preview-object {\\n  border: 1px solid gray;\\n  display: inline-block;\\n  line-height: 0;\\n  margin: 0 2px 0 2px;\\n  position: relative;\\n}\\n.mce-preview-object .mce-shim {\\n  background: url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  top: 0;\\n  width: 100%;\\n}\\n.mce-preview-object[data-mce-selected=\\\"2\\\"] .mce-shim {\\n  display: none;\\n}\\n.mce-object {\\n  background: transparent url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A\\\") no-repeat center;\\n  border: 1px dashed #aaa;\\n}\\n.mce-pagebreak {\\n  border: 1px dashed #aaa;\\n  cursor: default;\\n  display: block;\\n  height: 5px;\\n  margin-top: 15px;\\n  page-break-before: always;\\n  width: 100%;\\n}\\n@media print {\\n  .mce-pagebreak {\\n    border: 0;\\n  }\\n}\\n.tiny-pageembed .mce-shim {\\n  background: url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  top: 0;\\n  width: 100%;\\n}\\n.tiny-pageembed[data-mce-selected=\\\"2\\\"] .mce-shim {\\n  display: none;\\n}\\n.tiny-pageembed {\\n  display: inline-block;\\n  position: relative;\\n}\\n.tiny-pageembed--21by9,\\n.tiny-pageembed--16by9,\\n.tiny-pageembed--4by3,\\n.tiny-pageembed--1by1 {\\n  display: block;\\n  overflow: hidden;\\n  padding: 0;\\n  position: relative;\\n  width: 100%;\\n}\\n.tiny-pageembed--21by9 {\\n  padding-top: 42.857143%;\\n}\\n.tiny-pageembed--16by9 {\\n  padding-top: 56.25%;\\n}\\n.tiny-pageembed--4by3 {\\n  padding-top: 75%;\\n}\\n.tiny-pageembed--1by1 {\\n  padding-top: 100%;\\n}\\n.tiny-pageembed--21by9 iframe,\\n.tiny-pageembed--16by9 iframe,\\n.tiny-pageembed--4by3 iframe,\\n.tiny-pageembed--1by1 iframe {\\n  border: 0;\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  top: 0;\\n  width: 100%;\\n}\\n.mce-content-body[data-mce-placeholder] {\\n  position: relative;\\n}\\n.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before {\\n  color: rgba(34, 47, 62, 0.7);\\n  content: attr(data-mce-placeholder);\\n  position: absolute;\\n}\\n.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before {\\n  left: 1px;\\n}\\n.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before {\\n  right: 1px;\\n}\\n.mce-content-body div.mce-resizehandle {\\n  background-color: #4099ff;\\n  border-color: #4099ff;\\n  border-style: solid;\\n  border-width: 1px;\\n  box-sizing: border-box;\\n  height: 10px;\\n  position: absolute;\\n  width: 10px;\\n  z-index: 1298;\\n}\\n.mce-content-body div.mce-resizehandle:hover {\\n  background-color: #4099ff;\\n}\\n.mce-content-body div.mce-resizehandle:nth-of-type(1) {\\n  cursor: nwse-resize;\\n}\\n.mce-content-body div.mce-resizehandle:nth-of-type(2) {\\n  cursor: nesw-resize;\\n}\\n.mce-content-body div.mce-resizehandle:nth-of-type(3) {\\n  cursor: nwse-resize;\\n}\\n.mce-content-body div.mce-resizehandle:nth-of-type(4) {\\n  cursor: nesw-resize;\\n}\\n.mce-content-body .mce-resize-backdrop {\\n  z-index: 10000;\\n}\\n.mce-content-body .mce-clonedresizable {\\n  cursor: default;\\n  opacity: 0.5;\\n  outline: 1px dashed black;\\n  position: absolute;\\n  z-index: 10001;\\n}\\n.mce-content-body .mce-clonedresizable.mce-resizetable-columns th,\\n.mce-content-body .mce-clonedresizable.mce-resizetable-columns td {\\n  border: 0;\\n}\\n.mce-content-body .mce-resize-helper {\\n  background: #555;\\n  background: rgba(0, 0, 0, 0.75);\\n  border: 1px;\\n  border-radius: 3px;\\n  color: white;\\n  display: none;\\n  font-family: sans-serif;\\n  font-size: 12px;\\n  line-height: 14px;\\n  margin: 5px 10px;\\n  padding: 5px;\\n  position: absolute;\\n  white-space: nowrap;\\n  z-index: 10002;\\n}\\n.tox-rtc-user-selection {\\n  position: relative;\\n}\\n.tox-rtc-user-cursor {\\n  bottom: 0;\\n  cursor: default;\\n  position: absolute;\\n  top: 0;\\n  width: 2px;\\n}\\n.tox-rtc-user-cursor::before {\\n  background-color: inherit;\\n  border-radius: 50%;\\n  content: '';\\n  display: block;\\n  height: 8px;\\n  position: absolute;\\n  right: -3px;\\n  top: -3px;\\n  width: 8px;\\n}\\n.tox-rtc-user-cursor:hover::after {\\n  background-color: inherit;\\n  border-radius: 100px;\\n  box-sizing: border-box;\\n  color: #fff;\\n  content: attr(data-user);\\n  display: block;\\n  font-size: 12px;\\n  font-weight: bold;\\n  left: -5px;\\n  min-height: 8px;\\n  min-width: 8px;\\n  padding: 0 12px;\\n  position: absolute;\\n  top: -11px;\\n  white-space: nowrap;\\n  z-index: 1000;\\n}\\n.tox-rtc-user-selection--1 .tox-rtc-user-cursor {\\n  background-color: #2dc26b;\\n}\\n.tox-rtc-user-selection--2 .tox-rtc-user-cursor {\\n  background-color: #e03e2d;\\n}\\n.tox-rtc-user-selection--3 .tox-rtc-user-cursor {\\n  background-color: #f1c40f;\\n}\\n.tox-rtc-user-selection--4 .tox-rtc-user-cursor {\\n  background-color: #3598db;\\n}\\n.tox-rtc-user-selection--5 .tox-rtc-user-cursor {\\n  background-color: #b96ad9;\\n}\\n.tox-rtc-user-selection--6 .tox-rtc-user-cursor {\\n  background-color: #e67e23;\\n}\\n.tox-rtc-user-selection--7 .tox-rtc-user-cursor {\\n  background-color: #aaa69d;\\n}\\n.tox-rtc-user-selection--8 .tox-rtc-user-cursor {\\n  background-color: #f368e0;\\n}\\n.tox-rtc-remote-image {\\n  background: #eaeaea url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A\\\") no-repeat center center;\\n  border: 1px solid #ccc;\\n  min-height: 240px;\\n  min-width: 320px;\\n}\\n.mce-match-marker {\\n  background: #aaa;\\n  color: #fff;\\n}\\n.mce-match-marker-selected {\\n  background: #39f;\\n  color: #fff;\\n}\\n.mce-match-marker-selected::-moz-selection {\\n  background: #39f;\\n  color: #fff;\\n}\\n.mce-match-marker-selected::selection {\\n  background: #39f;\\n  color: #fff;\\n}\\n.mce-content-body img[data-mce-selected],\\n.mce-content-body video[data-mce-selected],\\n.mce-content-body audio[data-mce-selected],\\n.mce-content-body object[data-mce-selected],\\n.mce-content-body embed[data-mce-selected],\\n.mce-content-body table[data-mce-selected] {\\n  outline: 3px solid #b4d7ff;\\n}\\n.mce-content-body hr[data-mce-selected] {\\n  outline: 3px solid #b4d7ff;\\n  outline-offset: 1px;\\n}\\n.mce-content-body *[contentEditable=false] *[contentEditable=true]:focus {\\n  outline: 3px solid #b4d7ff;\\n}\\n.mce-content-body *[contentEditable=false] *[contentEditable=true]:hover {\\n  outline: 3px solid #b4d7ff;\\n}\\n.mce-content-body *[contentEditable=false][data-mce-selected] {\\n  cursor: not-allowed;\\n  outline: 3px solid #b4d7ff;\\n}\\n.mce-content-body.mce-content-readonly *[contentEditable=true]:focus,\\n.mce-content-body.mce-content-readonly *[contentEditable=true]:hover {\\n  outline: none;\\n}\\n.mce-content-body *[data-mce-selected=\\\"inline-boundary\\\"] {\\n  background-color: #b4d7ff;\\n}\\n.mce-content-body .mce-edit-focus {\\n  outline: 3px solid #b4d7ff;\\n}\\n.mce-content-body td[data-mce-selected],\\n.mce-content-body th[data-mce-selected] {\\n  position: relative;\\n}\\n.mce-content-body td[data-mce-selected]::-moz-selection,\\n.mce-content-body th[data-mce-selected]::-moz-selection {\\n  background: none;\\n}\\n.mce-content-body td[data-mce-selected]::selection,\\n.mce-content-body th[data-mce-selected]::selection {\\n  background: none;\\n}\\n.mce-content-body td[data-mce-selected] *,\\n.mce-content-body th[data-mce-selected] * {\\n  outline: none;\\n  -webkit-touch-callout: none;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n}\\n.mce-content-body td[data-mce-selected]::after,\\n.mce-content-body th[data-mce-selected]::after {\\n  background-color: rgba(180, 215, 255, 0.7);\\n  border: 1px solid rgba(180, 215, 255, 0.7);\\n  bottom: -1px;\\n  content: '';\\n  left: -1px;\\n  mix-blend-mode: multiply;\\n  position: absolute;\\n  right: -1px;\\n  top: -1px;\\n}\\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\\n  .mce-content-body td[data-mce-selected]::after,\\n  .mce-content-body th[data-mce-selected]::after {\\n    border-color: rgba(0, 84, 180, 0.7);\\n  }\\n}\\n.mce-content-body img::-moz-selection {\\n  background: none;\\n}\\n.mce-content-body img::selection {\\n  background: none;\\n}\\n.ephox-snooker-resizer-bar {\\n  background-color: #b4d7ff;\\n  opacity: 0;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n.ephox-snooker-resizer-cols {\\n  cursor: col-resize;\\n}\\n.ephox-snooker-resizer-rows {\\n  cursor: row-resize;\\n}\\n.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging {\\n  opacity: 1;\\n}\\n.mce-spellchecker-word {\\n  background-image: url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A\\\");\\n  background-position: 0 calc(100% + 1px);\\n  background-repeat: repeat-x;\\n  background-size: auto 6px;\\n  cursor: default;\\n  height: 2rem;\\n}\\n.mce-spellchecker-grammar {\\n  background-image: url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A\\\");\\n  background-position: 0 calc(100% + 1px);\\n  background-repeat: repeat-x;\\n  background-size: auto 6px;\\n  cursor: default;\\n}\\n.mce-toc {\\n  border: 1px solid gray;\\n}\\n.mce-toc h2 {\\n  margin: 4px;\\n}\\n.mce-toc li {\\n  list-style-type: none;\\n}\\ntable[style*=\\\"border-width: 0px\\\"],\\n.mce-item-table:not([border]),\\n.mce-item-table[border=\\\"0\\\"],\\ntable[style*=\\\"border-width: 0px\\\"] td,\\n.mce-item-table:not([border]) td,\\n.mce-item-table[border=\\\"0\\\"] td,\\ntable[style*=\\\"border-width: 0px\\\"] th,\\n.mce-item-table:not([border]) th,\\n.mce-item-table[border=\\\"0\\\"] th,\\ntable[style*=\\\"border-width: 0px\\\"] caption,\\n.mce-item-table:not([border]) caption,\\n.mce-item-table[border=\\\"0\\\"] caption {\\n  border: 1px dashed #bbb;\\n}\\n.mce-visualblocks p,\\n.mce-visualblocks h1,\\n.mce-visualblocks h2,\\n.mce-visualblocks h3,\\n.mce-visualblocks h4,\\n.mce-visualblocks h5,\\n.mce-visualblocks h6,\\n.mce-visualblocks div:not([data-mce-bogus]),\\n.mce-visualblocks section,\\n.mce-visualblocks article,\\n.mce-visualblocks blockquote,\\n.mce-visualblocks address,\\n.mce-visualblocks pre,\\n.mce-visualblocks figure,\\n.mce-visualblocks figcaption,\\n.mce-visualblocks hgroup,\\n.mce-visualblocks aside,\\n.mce-visualblocks ul,\\n.mce-visualblocks ol,\\n.mce-visualblocks dl {\\n  background-repeat: no-repeat;\\n  border: 1px dashed #bbb;\\n  margin-left: 3px;\\n  padding-top: 10px;\\n}\\n.mce-visualblocks p {\\n  background-image: url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7);\\n}\\n.mce-visualblocks h1 {\\n  background-image: url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==);\\n}\\n.mce-visualblocks h2 {\\n  background-image: url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==);\\n}\\n.mce-visualblocks h3 {\\n  background-image: url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7);\\n}\\n.mce-visualblocks h4 {\\n  background-image: url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==);\\n}\\n.mce-visualblocks h5 {\\n  background-image: url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==);\\n}\\n.mce-visualblocks h6 {\\n  background-image: url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==);\\n}\\n.mce-visualblocks div:not([data-mce-bogus]) {\\n  background-image: url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7);\\n}\\n.mce-visualblocks section {\\n  background-image: url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=);\\n}\\n.mce-visualblocks article {\\n  background-image: url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7);\\n}\\n.mce-visualblocks blockquote {\\n  background-image: url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7);\\n}\\n.mce-visualblocks address {\\n  background-image: url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=);\\n}\\n.mce-visualblocks pre {\\n  background-image: url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==);\\n}\\n.mce-visualblocks figure {\\n  background-image: url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7);\\n}\\n.mce-visualblocks figcaption {\\n  border: 1px dashed #bbb;\\n}\\n.mce-visualblocks hgroup {\\n  background-image: url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7);\\n}\\n.mce-visualblocks aside {\\n  background-image: url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=);\\n}\\n.mce-visualblocks ul {\\n  background-image: url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==);\\n}\\n.mce-visualblocks ol {\\n  background-image: url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==);\\n}\\n.mce-visualblocks dl {\\n  background-image: url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==);\\n}\\n.mce-visualblocks:not([dir=rtl]) p,\\n.mce-visualblocks:not([dir=rtl]) h1,\\n.mce-visualblocks:not([dir=rtl]) h2,\\n.mce-visualblocks:not([dir=rtl]) h3,\\n.mce-visualblocks:not([dir=rtl]) h4,\\n.mce-visualblocks:not([dir=rtl]) h5,\\n.mce-visualblocks:not([dir=rtl]) h6,\\n.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),\\n.mce-visualblocks:not([dir=rtl]) section,\\n.mce-visualblocks:not([dir=rtl]) article,\\n.mce-visualblocks:not([dir=rtl]) blockquote,\\n.mce-visualblocks:not([dir=rtl]) address,\\n.mce-visualblocks:not([dir=rtl]) pre,\\n.mce-visualblocks:not([dir=rtl]) figure,\\n.mce-visualblocks:not([dir=rtl]) figcaption,\\n.mce-visualblocks:not([dir=rtl]) hgroup,\\n.mce-visualblocks:not([dir=rtl]) aside,\\n.mce-visualblocks:not([dir=rtl]) ul,\\n.mce-visualblocks:not([dir=rtl]) ol,\\n.mce-visualblocks:not([dir=rtl]) dl {\\n  margin-left: 3px;\\n}\\n.mce-visualblocks[dir=rtl] p,\\n.mce-visualblocks[dir=rtl] h1,\\n.mce-visualblocks[dir=rtl] h2,\\n.mce-visualblocks[dir=rtl] h3,\\n.mce-visualblocks[dir=rtl] h4,\\n.mce-visualblocks[dir=rtl] h5,\\n.mce-visualblocks[dir=rtl] h6,\\n.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),\\n.mce-visualblocks[dir=rtl] section,\\n.mce-visualblocks[dir=rtl] article,\\n.mce-visualblocks[dir=rtl] blockquote,\\n.mce-visualblocks[dir=rtl] address,\\n.mce-visualblocks[dir=rtl] pre,\\n.mce-visualblocks[dir=rtl] figure,\\n.mce-visualblocks[dir=rtl] figcaption,\\n.mce-visualblocks[dir=rtl] hgroup,\\n.mce-visualblocks[dir=rtl] aside,\\n.mce-visualblocks[dir=rtl] ul,\\n.mce-visualblocks[dir=rtl] ol,\\n.mce-visualblocks[dir=rtl] dl {\\n  background-position-x: right;\\n  margin-right: 3px;\\n}\\n.mce-nbsp,\\n.mce-shy {\\n  background: #aaa;\\n}\\n.mce-shy::after {\\n  content: '-';\\n}\\nbody {\\n  font-family: sans-serif;\\n}\\ntable {\\n  border-collapse: collapse;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../../css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(\"data:image/svg+xml;charset=utf8,%3Csvg height=%2739px%27 viewBox=%270 0 40 39px%27 width=%2740%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Crect x=%270%27 y=%2738px%27 width=%27100%27 height=%271%27 fill=%27%23cccccc%27/%3E%3C/svg%3E\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;font-size:16px;font-style:normal;font-weight:normal;line-height:normal;-webkit-tap-highlight-color:rgba(0,0,0,0);text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox *:not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox *:not(svg):not(rect){background:rgba(0,0,0,0);border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:1px solid #ccc;border-radius:0;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;overflow:hidden;position:relative;visibility:inherit !important}.tox-tinymce-inline{border:none;box-shadow:none}.tox-tinymce-inline .tox-editor-header{background-color:rgba(0,0,0,0);border:1px solid #ccc;border-radius:0;box-shadow:none}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;z-index:1300}.tox-tinymce *:focus,.tox-tinymce-aux *:focus{outline:none}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border:1px solid #ccc;border-radius:3px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>*:last-child:not(:only-child){border-color:#ccc;border-style:solid}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(32,122,183,.1);border-color:rgba(32,122,183,.4);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description>*:last-child{border-color:rgba(32,122,183,.4)}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#207ab7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#207ab7}.tox .tox-dialog__body-content .accessibility-issue--info a .tox-icon{color:#207ab7}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.1);border-color:rgba(255,165,0,.5);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description>*:last-child{border-color:rgba(255,165,0,.5)}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#cc8500}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#cc8500}.tox .tox-dialog__body-content .accessibility-issue--warn a .tox-icon{color:#cc8500}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);border-color:rgba(204,0,0,.4);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description>*:last-child{border-color:rgba(204,0,0,.4)}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a .tox-icon{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);border-color:rgba(120,171,70,.4);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>*:last-child{border-color:rgba(120,171,70,.4)}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#78ab46}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#78ab46}.tox .tox-dialog__body-content .accessibility-issue--success a .tox-icon{color:#78ab46}.tox .tox-dialog__body-content .accessibility-issue__header h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>*:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description>*:last-child{border-left-width:1px;padding-left:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>*:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description>*:last-child{border-right-width:1px;padding-right:4px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#207ab7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#207ab7;border-radius:3px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;font-size:14px;font-style:normal;font-weight:bold;letter-spacing:normal;line-height:24px;margin:0;outline:none;padding:4px 16px;text-align:center;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button[disabled]{background-color:#207ab7;background-image:none;border-color:#207ab7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#1c6ca1;background-image:none;border-color:#1c6ca1;box-shadow:none;color:#fff}.tox .tox-button:hover:not(:disabled){background-color:#1c6ca1;background-image:none;border-color:#1c6ca1;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#185d8c;background-image:none;border-color:#185d8c;box-shadow:none;color:#fff}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:3px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:bold;letter-spacing:normal;outline:none;padding:4px 16px;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;font-size:16px;font-weight:normal;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:rgba(0,0,0,0);border-color:rgba(0,0,0,0);box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:#f0f0f0;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:#e3e3e3;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:#e3e3e3;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:#d6d6d6;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:3px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:3px;box-shadow:0 0 0 2px rgba(0,0,0,0);box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:3px;width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,.3)}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#207ab7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#207ab7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:3px;box-shadow:inset 0 0 0 1px #207ab7;padding:3px}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#ccc;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#e6e6e6;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:normal;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;color:#222f3e;cursor:pointer;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#dee0e2}.tox .tox-collection--toolbar .tox-collection__item--enabled{background-color:#c8cbcf;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#dee0e2}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#c8cbcf;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#dee0e2;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}.tox .tox-collection__item-icon,.tox .tox-collection__item-checkmark{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-icon svg,.tox .tox-collection__item-checkmark svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;-ms-flex-preferred-size:auto;font-size:14px;font-style:normal;font-weight:normal;line-height:24px;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:rgba(34,47,62,.7);display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:\\\"\\\";font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:#222f3e}.tox .tox-collection__item--state-disabled{background-color:rgba(0,0,0,0);color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 3px rgba(0,0,0,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:34px;margin:2px 0 3px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{-ms-grid-row-align:center;align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{-ms-grid-row-align:center;align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid #ccc}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>*:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid #ccc}.tox[dir=rtl] .tox-collection--list .tox-collection__item>*:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:none;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom, #f00, #ff0080, #f0f, #8000ff, #00f, #0080ff, #0ff, #00ff80, #0f0, #80ff00, #ff0, #ff8000, #f00);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red !important}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__primary .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches{margin:2px 0 3px 4px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px 0}.tox .tox-swatches__row{display:flex}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:hover,.tox .tox-swatch:focus{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(0.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:rgba(0,0,0,0);border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:none;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#dee0e2}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>*:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #ccc;border-radius:3px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:rgba(34,47,62,.7);font-size:12px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:normal;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:\\\"\\\";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>*:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255, 255, 255, 0), #fff);bottom:0;content:\\\"\\\";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>*:last-child,.tox:not([dir=rtl]) .tox-comment__edit>*:last-child,.tox:not([dir=rtl]) .tox-comment__reply>*:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>*:last-child,.tox[dir=rtl] .tox-comment__edit>*:last-child,.tox[dir=rtl] .tox-comment__reply>*:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,.7)}.tox .tox-user__name{color:rgba(34,47,62,.7);font-size:12px;font-style:normal;font-weight:bold;text-transform:uppercase}.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#ccc;border-radius:3px;border-style:solid;border-width:1px;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;font-size:20px;font-style:normal;font-weight:normal;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;-ms-flex-preferred-size:auto;font-size:16px;font-style:normal;font-weight:normal;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;padding:16px 16px}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid rgba(0,0,0,0);color:rgba(34,47,62,.7);display:inline-block;font-size:14px;line-height:1.3;margin-bottom:8px;text-decoration:none;white-space:nowrap}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(32,122,183,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #207ab7;color:#207ab7}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;-ms-flex-preferred-size:auto;max-height:650px;overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>*:first-child{margin-top:0}.tox .tox-dialog__body-content>*:last-child{margin-bottom:0}.tox .tox-dialog__body-content>*:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#207ab7;cursor:pointer;text-decoration:none}.tox .tox-dialog__body-content a:hover,.tox .tox-dialog__body-content a:focus{color:#185d8c;text-decoration:none}.tox .tox-dialog__body-content a:active{color:#185d8c;text-decoration:none}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content ul{display:block;list-style-type:disc;margin-bottom:16px;-webkit-margin-end:0;margin-inline-end:0;-webkit-margin-start:0;margin-inline-start:0;-webkit-padding-start:2.5rem;padding-inline-start:2.5rem}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:bold;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:bold;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:1px solid #ccc;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-start,.tox .tox-dialog__footer-end{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:bold;padding-bottom:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #ccc}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column;-ms-flex-preferred-size:auto}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1;-ms-flex-preferred-size:auto}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;-ms-flex-preferred-size:auto;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}.tox.tox-platform-ie .tox-dialog-wrap{position:-ms-device-fixed}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1;-ms-flex-preferred-size:auto}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #ccc;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;-ms-flex-preferred-size:auto;overflow:hidden;position:relative}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;-ms-flex-preferred-size:auto;height:100%;position:absolute;width:100%}.tox.tox-inline-edit-area{border:1px dotted #ccc}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{z-index:1}.tox:not(.tox-tinymce-inline) .tox-editor-header{box-shadow:none;transition:box-shadow .5s}.tox.tox-tinymce--toolbar-bottom .tox-editor-header,.tox.tox-tinymce-inline .tox-editor-header{margin-bottom:-1px}.tox.tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:rgba(0,0,0,0);box-shadow:0 4px 4px -3px rgba(0,0,0,.25)}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:bold}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34,47,62,.2);border-radius:3px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}.tox .tox-color-input span:hover:not([aria-disabled=true]),.tox .tox-color-input span:focus:not([aria-disabled=true]){border-color:#207ab7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg, rgba(0, 0, 0, 0.25) 25%, transparent 25%),linear-gradient(-45deg, rgba(0, 0, 0, 0.25) 25%, transparent 25%),linear-gradient(45deg, transparent 75%, rgba(0, 0, 0, 0.25) 75%),linear-gradient(-45deg, transparent 75%, rgba(0, 0, 0, 0.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:3px;box-sizing:border-box;content:\\\"\\\";height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:normal;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column;-ms-flex-preferred-size:auto}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - 4px)}.tox .tox-form__grid--3col>.tox-form__group{width:calc(33.3333333333% - 4px)}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - 4px)}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column;-ms-flex-preferred-size:auto}.tox .tox-form__group--stretched .tox-textarea{flex:1;-ms-flex-preferred-size:auto}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1;-ms-flex-preferred-size:auto}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;-ms-flex-preferred-size:auto;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>*:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>*:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-textfield,.tox .tox-toolbar-textfield,.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#ccc;border-radius:3px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:none;padding:5px 4.75px;resize:none;width:100%}.tox .tox-textfield[disabled],.tox .tox-textarea[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-textfield:focus,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea:focus{background-color:#fff;border-color:#207ab7;box-shadow:none;outline:none}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:rgba(0,0,0,0);border:0;border-color:rgba(0,0,0,0);box-shadow:unset;color:#207ab7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#ccc;border-radius:3px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:none;padding:5px 4.75px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#207ab7;box-shadow:none;outline:none}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size=\\\"0\\\"],.tox:not([dir=rtl]) .tox-selectfield select[size=\\\"1\\\"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size=\\\"0\\\"],.tox[dir=rtl] .tox-selectfield select[size=\\\"1\\\"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea{-webkit-appearance:textarea;-moz-appearance:textarea;appearance:textarea;white-space:pre-wrap}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;-ms-scroll-chaining:none;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox.tox-tinymce.tox-fullscreen,.tox-shadowhost.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:rgba(0,0,0,0)}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-image-tools{width:100%}.tox .tox-image-tools__toolbar{align-items:center;display:flex;justify-content:center}.tox .tox-image-tools__image{background-color:#666;height:380px;overflow:auto;position:relative;width:100%}.tox .tox-image-tools__image,.tox .tox-image-tools__image+.tox-image-tools__toolbar{margin-top:8px}.tox .tox-image-tools__image-bg{background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \")}.tox .tox-image-tools__toolbar>.tox-spacer{flex:1;-ms-flex-preferred-size:auto}.tox .tox-croprect-block{background:#000;filter:alpha(opacity=50);opacity:.5;position:absolute;zoom:1}.tox .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox:not([dir=rtl]) .tox-image-tools__toolbar>.tox-slider:not(:first-of-type){margin-left:8px}.tox:not([dir=rtl]) .tox-image-tools__toolbar>.tox-button+.tox-slider{margin-left:32px}.tox:not([dir=rtl]) .tox-image-tools__toolbar>.tox-slider+.tox-button{margin-left:32px}.tox[dir=rtl] .tox-image-tools__toolbar>.tox-slider:not(:first-of-type){margin-right:8px}.tox[dir=rtl] .tox-image-tools__toolbar>.tox-button+.tox-slider{margin-right:32px}.tox[dir=rtl] .tox-image-tools__toolbar>.tox-slider+.tox-button{margin-right:32px}.tox .tox-insert-table-picker{display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#ccc;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px 0}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:rgba(32,122,183,.5);border-color:rgba(32,122,183,.5)}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid #ccc;border-radius:3px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:4px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:4px}.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p,.tox .tox-menu__label blockquote,.tox .tox-menu__label code{margin:0}.tox .tox-menubar{background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \") left 0 top 0 #fff;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 4px 0 4px}.tox.tox-tinymce:not(.tox-tinymce-inline) .tox-editor-header:not(:first-child) .tox-menubar{border-top:1px solid #ccc}.tox .tox-mbtn{align-items:center;background:rgba(0,0,0,0);border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:normal;height:34px;justify-content:center;margin:2px 0 3px 0;outline:none;overflow:hidden;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:rgba(0,0,0,0);border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#dee0e2;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn--active{background:#c8cbcf;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#dee0e2;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:normal;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:3px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:-ms-grid;display:grid;font-size:14px;font-weight:normal;-ms-grid-columns:minmax(40px, 1fr) auto minmax(40px, 1fr);grid-template-columns:minmax(40px, 1fr) auto minmax(40px, 1fr);margin-top:4px;opacity:0;padding:4px;transition:transform 100ms ease-in,opacity 150ms ease-in}.tox .tox-notification p{font-size:14px;font-weight:normal}.tox .tox-notification a{cursor:pointer;text-decoration:underline}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#547831}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f8dede;border-color:#f2bfbf;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#c00}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fffaea;border-color:#ffe89d;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#222f3e}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d9edf7;border-color:#779ecb;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#222f3e}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{-ms-grid-row-align:center;align-self:center;color:#222f3e;font-size:14px;-ms-grid-column-span:1;grid-column-end:3;-ms-grid-column:2;grid-column-start:2;-ms-grid-row-span:1;grid-row-end:2;-ms-grid-row:1;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{-ms-grid-row-align:center;align-self:center;-ms-grid-column-span:1;grid-column-end:2;-ms-grid-column:1;grid-column-start:1;-ms-grid-row-span:1;grid-row-end:2;-ms-grid-row:1;grid-row-start:1;-ms-grid-column-align:end;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{-ms-grid-row-align:start;align-self:start;-ms-grid-column-span:1;grid-column-end:4;-ms-grid-column:3;grid-column-start:3;-ms-grid-row-span:1;grid-row-end:2;-ms-grid-row:1;grid-row-start:1;-ms-grid-column-align:end;justify-self:end}.tox .tox-notification .tox-progress-bar{-ms-grid-column-span:3;grid-column-end:4;-ms-grid-column:1;grid-column-start:1;-ms-grid-row-span:1;grid-row-end:3;-ms-grid-row:2;grid-row-start:2;-ms-grid-column-align:center;justify-self:center}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::before,.tox .tox-pop--transition::after{transition:all .15s,visibility 0s,opacity .075s ease .075s}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 3px rgba(0,0,0,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>*:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:rgba(0,0,0,0);margin-bottom:-1px}.tox .tox-pop::before,.tox .tox-pop::after{border-style:solid;content:\\\"\\\";display:block;height:0;opacity:1;position:absolute;width:0}.tox .tox-pop.tox-pop--inset::before,.tox .tox-pop.tox-pop--inset::after{opacity:0;transition:all 0s .15s,visibility 0s,opacity .075s ease}.tox .tox-pop.tox-pop--bottom::before,.tox .tox-pop.tox-pop--bottom::after{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#ccc rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::before,.tox .tox-pop.tox-pop--top::after{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:rgba(0,0,0,0) rgba(0,0,0,0) #fff rgba(0,0,0,0);border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:rgba(0,0,0,0) rgba(0,0,0,0) #ccc rgba(0,0,0,0);border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::before,.tox .tox-pop.tox-pop--left::after{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:rgba(0,0,0,0) #fff rgba(0,0,0,0) rgba(0,0,0,0);border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:rgba(0,0,0,0) #ccc rgba(0,0,0,0) rgba(0,0,0,0);border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::before,.tox .tox-pop.tox-pop--right::after{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #ccc;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::before,.tox .tox-pop.tox-pop--align-left::after{left:20px}.tox .tox-pop.tox-pop--align-right::before,.tox .tox-pop.tox-pop--align-right::after{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;-ms-flex-preferred-size:0;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;-ms-flex-preferred-size:auto;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:rgba(0,0,0,0);border:1px solid #ccc;border-radius:3px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#207ab7;border:2px solid #185d8c;border-radius:3px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:nth-child(1){animation-delay:-0.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-0.16s}@keyframes tam-bouncing-dots{0%,80%,100%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #ccc;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:12px;font-weight:normal;height:18px;overflow:hidden;padding:0 8px;position:relative;text-transform:uppercase}.tox .tox-statusbar__text-container{display:flex;flex:1 1 auto;justify-content:flex-end;overflow:hidden}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;margin-right:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);text-decoration:none}.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]){cursor:pointer;text-decoration:underline}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-left:auto;margin-right:-8px;padding-left:1ch}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,.7)}.tox .tox-statusbar__resize-handle:focus svg{background-color:#dee0e2;border-radius:1px;box-shadow:0 0 0 2px #dee0e2}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:1ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:rgba(0,0,0,0);border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:normal;height:34px;justify-content:center;margin:2px 0 3px 0;outline:none;overflow:hidden;padding:0;text-transform:none;width:34px}.tox .tox-tbtn svg{display:block;fill:#222f3e}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#dee0e2;border:0;box-shadow:none}.tox .tox-tbtn:hover{background:#dee0e2;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#c8cbcf;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:rgba(0,0,0,0);border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,.5)}.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:hover{background:#c8cbcf;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn--enabled>*,.tox .tox-tbtn--enabled:hover>*{transform:none}.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:51px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:68px;width:68px}.tox .tox-tbtn--return{-ms-grid-row-align:stretch;align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:normal;letter-spacing:-0.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tbtn--select{margin:2px 0 3px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:normal;margin:0 4px}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,.5)}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:2px 0 3px 0;overflow:hidden}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #dee0e2 inset}.tox .tox-split-button:focus{background:#dee0e2;box-shadow:none;color:#222f3e}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,.5)}.tox .tox-split-button .tox-tbtn{margin:0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus{background:rgba(0,0,0,0);box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__primary,.tox .tox-toolbar__overflow{background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \") left 0 top 0 #fff;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord .tox-toolbar__primary{border-top:1px solid #ccc;margin-top:-1px}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox-tinymce:not(.tox-tinymce-inline) .tox-editor-header:not(:first-child) .tox-toolbar:first-child,.tox-tinymce:not(.tox-tinymce-inline) .tox-editor-header:not(:first-child) .tox-toolbar-overlord:first-child .tox-toolbar__primary{border-top:1px solid #ccc}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 3px rgba(0,0,0,.15)}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 4px 0 4px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid #ccc}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid #ccc}.tox .tox-tooltip{display:inline-block;padding:8px;position:relative}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:3px;box-shadow:0 2px 4px rgba(34,47,62,.3);color:rgba(255,255,255,.75);font-size:14px;font-style:normal;font-weight:normal;padding:4px 8px;text-transform:none}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid rgba(0,0,0,0);border-right:8px solid rgba(0,0,0,0);border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid rgba(0,0,0,0);border-right:8px solid rgba(0,0,0,0);left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid rgba(0,0,0,0);border-left:8px solid #222f3e;border-top:8px solid rgba(0,0,0,0);position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid rgba(0,0,0,0);border-right:8px solid #222f3e;border-top:8px solid rgba(0,0,0,0);left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-well{border:1px solid #ccc;border-radius:3px;padding:8px;width:100%}.tox .tox-well>*:first-child{margin-top:0}.tox .tox-well>*:last-child{margin-bottom:0}.tox .tox-well>*:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #ccc;border-radius:3px;display:flex;flex:1;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:\\\"\\\";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1;-ms-flex-preferred-size:auto}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1;-ms-flex-preferred-size:auto}.tox .tox-image-tools-edit-panel{height:60px}.tox .tox-image-tools__sidebar{height:60px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/tinymce/skins/ui/oxide/skin.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"/**\\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\\n * Licensed under the LGPL or a commercial license.\\n * For LGPL see License.txt in the project root for license information.\\n * For commercial licenses see https://www.tiny.cloud/\\n */\\n.tox {\\n  box-shadow: none;\\n  box-sizing: content-box;\\n  color: #222f3e;\\n  cursor: auto;\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \\\"Helvetica Neue\\\", sans-serif;\\n  font-size: 16px;\\n  font-style: normal;\\n  font-weight: normal;\\n  line-height: normal;\\n  -webkit-tap-highlight-color: transparent;\\n  text-decoration: none;\\n  text-shadow: none;\\n  text-transform: none;\\n  vertical-align: initial;\\n  white-space: normal;\\n}\\n.tox *:not(svg):not(rect) {\\n  box-sizing: inherit;\\n  color: inherit;\\n  cursor: inherit;\\n  direction: inherit;\\n  font-family: inherit;\\n  font-size: inherit;\\n  font-style: inherit;\\n  font-weight: inherit;\\n  line-height: inherit;\\n  -webkit-tap-highlight-color: inherit;\\n  text-align: inherit;\\n  text-decoration: inherit;\\n  text-shadow: inherit;\\n  text-transform: inherit;\\n  vertical-align: inherit;\\n  white-space: inherit;\\n}\\n.tox *:not(svg):not(rect) {\\n  /* stylelint-disable-line no-duplicate-selectors */\\n  background: transparent;\\n  border: 0;\\n  box-shadow: none;\\n  float: none;\\n  height: auto;\\n  margin: 0;\\n  max-width: none;\\n  outline: 0;\\n  padding: 0;\\n  position: static;\\n  width: auto;\\n}\\n.tox:not([dir=rtl]) {\\n  direction: ltr;\\n  text-align: left;\\n}\\n.tox[dir=rtl] {\\n  direction: rtl;\\n  text-align: right;\\n}\\n.tox-tinymce {\\n  border: 1px solid #cccccc;\\n  border-radius: 0;\\n  box-shadow: none;\\n  box-sizing: border-box;\\n  display: flex;\\n  flex-direction: column;\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \\\"Helvetica Neue\\\", sans-serif;\\n  overflow: hidden;\\n  position: relative;\\n  visibility: inherit !important;\\n}\\n.tox-tinymce-inline {\\n  border: none;\\n  box-shadow: none;\\n}\\n.tox-tinymce-inline .tox-editor-header {\\n  background-color: transparent;\\n  border: 1px solid #cccccc;\\n  border-radius: 0;\\n  box-shadow: none;\\n}\\n.tox-tinymce-aux {\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \\\"Helvetica Neue\\\", sans-serif;\\n  z-index: 1300;\\n}\\n.tox-tinymce *:focus,\\n.tox-tinymce-aux *:focus {\\n  outline: none;\\n}\\nbutton::-moz-focus-inner {\\n  border: 0;\\n}\\n.tox[dir=rtl] .tox-icon--flip svg {\\n  transform: rotateY(180deg);\\n}\\n.tox .accessibility-issue__header {\\n  align-items: center;\\n  display: flex;\\n  margin-bottom: 4px;\\n}\\n.tox .accessibility-issue__description {\\n  align-items: stretch;\\n  border: 1px solid #cccccc;\\n  border-radius: 3px;\\n  display: flex;\\n  justify-content: space-between;\\n}\\n.tox .accessibility-issue__description > div {\\n  padding-bottom: 4px;\\n}\\n.tox .accessibility-issue__description > div > div {\\n  align-items: center;\\n  display: flex;\\n  margin-bottom: 4px;\\n}\\n.tox .accessibility-issue__description > *:last-child:not(:only-child) {\\n  border-color: #cccccc;\\n  border-style: solid;\\n}\\n.tox .accessibility-issue__repair {\\n  margin-top: 16px;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description {\\n  background-color: rgba(32, 122, 183, 0.1);\\n  border-color: rgba(32, 122, 183, 0.4);\\n  color: #222f3e;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description > *:last-child {\\n  border-color: rgba(32, 122, 183, 0.4);\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2 {\\n  color: #207ab7;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg {\\n  fill: #207ab7;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--info a .tox-icon {\\n  color: #207ab7;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description {\\n  background-color: rgba(255, 165, 0, 0.1);\\n  border-color: rgba(255, 165, 0, 0.5);\\n  color: #222f3e;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description > *:last-child {\\n  border-color: rgba(255, 165, 0, 0.5);\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2 {\\n  color: #cc8500;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg {\\n  fill: #cc8500;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--warn a .tox-icon {\\n  color: #cc8500;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description {\\n  background-color: rgba(204, 0, 0, 0.1);\\n  border-color: rgba(204, 0, 0, 0.4);\\n  color: #222f3e;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description > *:last-child {\\n  border-color: rgba(204, 0, 0, 0.4);\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2 {\\n  color: #c00;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg {\\n  fill: #c00;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--error a .tox-icon {\\n  color: #c00;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description {\\n  background-color: rgba(120, 171, 70, 0.1);\\n  border-color: rgba(120, 171, 70, 0.4);\\n  color: #222f3e;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description > *:last-child {\\n  border-color: rgba(120, 171, 70, 0.4);\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2 {\\n  color: #78AB46;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg {\\n  fill: #78AB46;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--success a .tox-icon {\\n  color: #78AB46;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue__header h1,\\n.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2 {\\n  margin-top: 0;\\n}\\n.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button {\\n  margin-left: 4px;\\n}\\n.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header > *:nth-last-child(2) {\\n  margin-left: auto;\\n}\\n.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description {\\n  padding: 4px 4px 4px 8px;\\n}\\n.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description > *:last-child {\\n  border-left-width: 1px;\\n  padding-left: 4px;\\n}\\n.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button {\\n  margin-right: 4px;\\n}\\n.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header > *:nth-last-child(2) {\\n  margin-right: auto;\\n}\\n.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description {\\n  padding: 4px 8px 4px 4px;\\n}\\n.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description > *:last-child {\\n  border-right-width: 1px;\\n  padding-right: 4px;\\n}\\n.tox .tox-anchorbar {\\n  display: flex;\\n  flex: 0 0 auto;\\n}\\n.tox .tox-bar {\\n  display: flex;\\n  flex: 0 0 auto;\\n}\\n.tox .tox-button {\\n  background-color: #207ab7;\\n  background-image: none;\\n  background-position: 0 0;\\n  background-repeat: repeat;\\n  border-color: #207ab7;\\n  border-radius: 3px;\\n  border-style: solid;\\n  border-width: 1px;\\n  box-shadow: none;\\n  box-sizing: border-box;\\n  color: #fff;\\n  cursor: pointer;\\n  display: inline-block;\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \\\"Helvetica Neue\\\", sans-serif;\\n  font-size: 14px;\\n  font-style: normal;\\n  font-weight: bold;\\n  letter-spacing: normal;\\n  line-height: 24px;\\n  margin: 0;\\n  outline: none;\\n  padding: 4px 16px;\\n  text-align: center;\\n  text-decoration: none;\\n  text-transform: none;\\n  white-space: nowrap;\\n}\\n.tox .tox-button[disabled] {\\n  background-color: #207ab7;\\n  background-image: none;\\n  border-color: #207ab7;\\n  box-shadow: none;\\n  color: rgba(255, 255, 255, 0.5);\\n  cursor: not-allowed;\\n}\\n.tox .tox-button:focus:not(:disabled) {\\n  background-color: #1c6ca1;\\n  background-image: none;\\n  border-color: #1c6ca1;\\n  box-shadow: none;\\n  color: #fff;\\n}\\n.tox .tox-button:hover:not(:disabled) {\\n  background-color: #1c6ca1;\\n  background-image: none;\\n  border-color: #1c6ca1;\\n  box-shadow: none;\\n  color: #fff;\\n}\\n.tox .tox-button:active:not(:disabled) {\\n  background-color: #185d8c;\\n  background-image: none;\\n  border-color: #185d8c;\\n  box-shadow: none;\\n  color: #fff;\\n}\\n.tox .tox-button--secondary {\\n  background-color: #f0f0f0;\\n  background-image: none;\\n  background-position: 0 0;\\n  background-repeat: repeat;\\n  border-color: #f0f0f0;\\n  border-radius: 3px;\\n  border-style: solid;\\n  border-width: 1px;\\n  box-shadow: none;\\n  color: #222f3e;\\n  font-size: 14px;\\n  font-style: normal;\\n  font-weight: bold;\\n  letter-spacing: normal;\\n  outline: none;\\n  padding: 4px 16px;\\n  text-decoration: none;\\n  text-transform: none;\\n}\\n.tox .tox-button--secondary[disabled] {\\n  background-color: #f0f0f0;\\n  background-image: none;\\n  border-color: #f0f0f0;\\n  box-shadow: none;\\n  color: rgba(34, 47, 62, 0.5);\\n}\\n.tox .tox-button--secondary:focus:not(:disabled) {\\n  background-color: #e3e3e3;\\n  background-image: none;\\n  border-color: #e3e3e3;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-button--secondary:hover:not(:disabled) {\\n  background-color: #e3e3e3;\\n  background-image: none;\\n  border-color: #e3e3e3;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-button--secondary:active:not(:disabled) {\\n  background-color: #d6d6d6;\\n  background-image: none;\\n  border-color: #d6d6d6;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-button--icon,\\n.tox .tox-button.tox-button--icon,\\n.tox .tox-button.tox-button--secondary.tox-button--icon {\\n  padding: 4px;\\n}\\n.tox .tox-button--icon .tox-icon svg,\\n.tox .tox-button.tox-button--icon .tox-icon svg,\\n.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg {\\n  display: block;\\n  fill: currentColor;\\n}\\n.tox .tox-button-link {\\n  background: 0;\\n  border: none;\\n  box-sizing: border-box;\\n  cursor: pointer;\\n  display: inline-block;\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \\\"Helvetica Neue\\\", sans-serif;\\n  font-size: 16px;\\n  font-weight: normal;\\n  line-height: 1.3;\\n  margin: 0;\\n  padding: 0;\\n  white-space: nowrap;\\n}\\n.tox .tox-button-link--sm {\\n  font-size: 14px;\\n}\\n.tox .tox-button--naked {\\n  background-color: transparent;\\n  border-color: transparent;\\n  box-shadow: unset;\\n  color: #222f3e;\\n}\\n.tox .tox-button--naked[disabled] {\\n  background-color: #f0f0f0;\\n  border-color: #f0f0f0;\\n  box-shadow: none;\\n  color: rgba(34, 47, 62, 0.5);\\n}\\n.tox .tox-button--naked:hover:not(:disabled) {\\n  background-color: #e3e3e3;\\n  border-color: #e3e3e3;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-button--naked:focus:not(:disabled) {\\n  background-color: #e3e3e3;\\n  border-color: #e3e3e3;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-button--naked:active:not(:disabled) {\\n  background-color: #d6d6d6;\\n  border-color: #d6d6d6;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-button--naked .tox-icon svg {\\n  fill: currentColor;\\n}\\n.tox .tox-button--naked.tox-button--icon:hover:not(:disabled) {\\n  color: #222f3e;\\n}\\n.tox .tox-checkbox {\\n  align-items: center;\\n  border-radius: 3px;\\n  cursor: pointer;\\n  display: flex;\\n  height: 36px;\\n  min-width: 36px;\\n}\\n.tox .tox-checkbox__input {\\n  /* Hide from view but visible to screen readers */\\n  height: 1px;\\n  overflow: hidden;\\n  position: absolute;\\n  top: auto;\\n  width: 1px;\\n}\\n.tox .tox-checkbox__icons {\\n  align-items: center;\\n  border-radius: 3px;\\n  box-shadow: 0 0 0 2px transparent;\\n  box-sizing: content-box;\\n  display: flex;\\n  height: 24px;\\n  justify-content: center;\\n  padding: calc(4px - 1px);\\n  width: 24px;\\n}\\n.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg {\\n  display: block;\\n  fill: rgba(34, 47, 62, 0.3);\\n}\\n.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg {\\n  display: none;\\n  fill: #207ab7;\\n}\\n.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg {\\n  display: none;\\n  fill: #207ab7;\\n}\\n.tox .tox-checkbox--disabled {\\n  color: rgba(34, 47, 62, 0.5);\\n  cursor: not-allowed;\\n}\\n.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg {\\n  fill: rgba(34, 47, 62, 0.5);\\n}\\n.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg {\\n  fill: rgba(34, 47, 62, 0.5);\\n}\\n.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg {\\n  fill: rgba(34, 47, 62, 0.5);\\n}\\n.tox input.tox-checkbox__input:checked + .tox-checkbox__icons .tox-checkbox-icon__unchecked svg {\\n  display: none;\\n}\\n.tox input.tox-checkbox__input:checked + .tox-checkbox__icons .tox-checkbox-icon__checked svg {\\n  display: block;\\n}\\n.tox input.tox-checkbox__input:indeterminate + .tox-checkbox__icons .tox-checkbox-icon__unchecked svg {\\n  display: none;\\n}\\n.tox input.tox-checkbox__input:indeterminate + .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg {\\n  display: block;\\n}\\n.tox input.tox-checkbox__input:focus + .tox-checkbox__icons {\\n  border-radius: 3px;\\n  box-shadow: inset 0 0 0 1px #207ab7;\\n  padding: calc(4px - 1px);\\n}\\n.tox:not([dir=rtl]) .tox-checkbox__label {\\n  margin-left: 4px;\\n}\\n.tox:not([dir=rtl]) .tox-checkbox__input {\\n  left: -10000px;\\n}\\n.tox:not([dir=rtl]) .tox-bar .tox-checkbox {\\n  margin-left: 4px;\\n}\\n.tox[dir=rtl] .tox-checkbox__label {\\n  margin-right: 4px;\\n}\\n.tox[dir=rtl] .tox-checkbox__input {\\n  right: -10000px;\\n}\\n.tox[dir=rtl] .tox-bar .tox-checkbox {\\n  margin-right: 4px;\\n}\\n.tox {\\n  /* stylelint-disable-next-line no-descending-specificity */\\n}\\n.tox .tox-collection--toolbar .tox-collection__group {\\n  display: flex;\\n  padding: 0;\\n}\\n.tox .tox-collection--grid .tox-collection__group {\\n  display: flex;\\n  flex-wrap: wrap;\\n  max-height: 208px;\\n  overflow-x: hidden;\\n  overflow-y: auto;\\n  padding: 0;\\n}\\n.tox .tox-collection--list .tox-collection__group {\\n  border-bottom-width: 0;\\n  border-color: #cccccc;\\n  border-left-width: 0;\\n  border-right-width: 0;\\n  border-style: solid;\\n  border-top-width: 1px;\\n  padding: 4px 0;\\n}\\n.tox .tox-collection--list .tox-collection__group:first-child {\\n  border-top-width: 0;\\n}\\n.tox .tox-collection__group-heading {\\n  background-color: #e6e6e6;\\n  color: rgba(34, 47, 62, 0.7);\\n  cursor: default;\\n  font-size: 12px;\\n  font-style: normal;\\n  font-weight: normal;\\n  margin-bottom: 4px;\\n  margin-top: -4px;\\n  padding: 4px 8px;\\n  text-transform: none;\\n  -webkit-touch-callout: none;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n}\\n.tox .tox-collection__item {\\n  align-items: center;\\n  color: #222f3e;\\n  cursor: pointer;\\n  display: flex;\\n  -webkit-touch-callout: none;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n}\\n.tox .tox-collection--list .tox-collection__item {\\n  padding: 4px 8px;\\n}\\n.tox .tox-collection--toolbar .tox-collection__item {\\n  border-radius: 3px;\\n  padding: 4px;\\n}\\n.tox .tox-collection--grid .tox-collection__item {\\n  border-radius: 3px;\\n  padding: 4px;\\n}\\n.tox .tox-collection--list .tox-collection__item--enabled {\\n  background-color: #fff;\\n  color: #222f3e;\\n}\\n.tox .tox-collection--list .tox-collection__item--active {\\n  background-color: #dee0e2;\\n}\\n.tox .tox-collection--toolbar .tox-collection__item--enabled {\\n  background-color: #c8cbcf;\\n  color: #222f3e;\\n}\\n.tox .tox-collection--toolbar .tox-collection__item--active {\\n  background-color: #dee0e2;\\n}\\n.tox .tox-collection--grid .tox-collection__item--enabled {\\n  background-color: #c8cbcf;\\n  color: #222f3e;\\n}\\n.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled) {\\n  background-color: #dee0e2;\\n  color: #222f3e;\\n}\\n.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled) {\\n  color: #222f3e;\\n}\\n.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled) {\\n  color: #222f3e;\\n}\\n.tox .tox-collection__item-icon,\\n.tox .tox-collection__item-checkmark {\\n  align-items: center;\\n  display: flex;\\n  height: 24px;\\n  justify-content: center;\\n  width: 24px;\\n}\\n.tox .tox-collection__item-icon svg,\\n.tox .tox-collection__item-checkmark svg {\\n  fill: currentColor;\\n}\\n.tox .tox-collection--toolbar-lg .tox-collection__item-icon {\\n  height: 48px;\\n  width: 48px;\\n}\\n.tox .tox-collection__item-label {\\n  color: currentColor;\\n  display: inline-block;\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n  font-size: 14px;\\n  font-style: normal;\\n  font-weight: normal;\\n  line-height: 24px;\\n  text-transform: none;\\n  word-break: break-all;\\n}\\n.tox .tox-collection__item-accessory {\\n  color: rgba(34, 47, 62, 0.7);\\n  display: inline-block;\\n  font-size: 14px;\\n  height: 24px;\\n  line-height: 24px;\\n  text-transform: none;\\n}\\n.tox .tox-collection__item-caret {\\n  align-items: center;\\n  display: flex;\\n  min-height: 24px;\\n}\\n.tox .tox-collection__item-caret::after {\\n  content: '';\\n  font-size: 0;\\n  min-height: inherit;\\n}\\n.tox .tox-collection__item-caret svg {\\n  fill: #222f3e;\\n}\\n.tox .tox-collection__item--state-disabled {\\n  background-color: transparent;\\n  color: rgba(34, 47, 62, 0.5);\\n  cursor: not-allowed;\\n}\\n.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg {\\n  fill: rgba(34, 47, 62, 0.5);\\n}\\n.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg {\\n  display: none;\\n}\\n.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory + .tox-collection__item-checkmark {\\n  display: none;\\n}\\n.tox .tox-collection--horizontal {\\n  background-color: #fff;\\n  border: 1px solid #cccccc;\\n  border-radius: 3px;\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\\n  display: flex;\\n  flex: 0 0 auto;\\n  flex-shrink: 0;\\n  flex-wrap: nowrap;\\n  margin-bottom: 0;\\n  overflow-x: auto;\\n  padding: 0;\\n}\\n.tox .tox-collection--horizontal .tox-collection__group {\\n  align-items: center;\\n  display: flex;\\n  flex-wrap: nowrap;\\n  margin: 0;\\n  padding: 0 4px;\\n}\\n.tox .tox-collection--horizontal .tox-collection__item {\\n  height: 34px;\\n  margin: 2px 0 3px 0;\\n  padding: 0 4px;\\n}\\n.tox .tox-collection--horizontal .tox-collection__item-label {\\n  white-space: nowrap;\\n}\\n.tox .tox-collection--horizontal .tox-collection__item-caret {\\n  margin-left: 4px;\\n}\\n.tox .tox-collection__item-container {\\n  display: flex;\\n}\\n.tox .tox-collection__item-container--row {\\n  align-items: center;\\n  flex: 1 1 auto;\\n  flex-direction: row;\\n}\\n.tox .tox-collection__item-container--row.tox-collection__item-container--align-left {\\n  margin-right: auto;\\n}\\n.tox .tox-collection__item-container--row.tox-collection__item-container--align-right {\\n  justify-content: flex-end;\\n  margin-left: auto;\\n}\\n.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top {\\n  align-items: flex-start;\\n  margin-bottom: auto;\\n}\\n.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle {\\n  align-items: center;\\n}\\n.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom {\\n  align-items: flex-end;\\n  margin-top: auto;\\n}\\n.tox .tox-collection__item-container--column {\\n  -ms-grid-row-align: center;\\n      align-self: center;\\n  flex: 1 1 auto;\\n  flex-direction: column;\\n}\\n.tox .tox-collection__item-container--column.tox-collection__item-container--align-left {\\n  align-items: flex-start;\\n}\\n.tox .tox-collection__item-container--column.tox-collection__item-container--align-right {\\n  align-items: flex-end;\\n}\\n.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top {\\n  align-self: flex-start;\\n}\\n.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle {\\n  -ms-grid-row-align: center;\\n      align-self: center;\\n}\\n.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom {\\n  align-self: flex-end;\\n}\\n.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type) {\\n  border-right: 1px solid #cccccc;\\n}\\n.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item > *:not(:first-child) {\\n  margin-left: 8px;\\n}\\n.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item > .tox-collection__item-label:first-child {\\n  margin-left: 4px;\\n}\\n.tox:not([dir=rtl]) .tox-collection__item-accessory {\\n  margin-left: 16px;\\n  text-align: right;\\n}\\n.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret {\\n  margin-left: 16px;\\n}\\n.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type) {\\n  border-left: 1px solid #cccccc;\\n}\\n.tox[dir=rtl] .tox-collection--list .tox-collection__item > *:not(:first-child) {\\n  margin-right: 8px;\\n}\\n.tox[dir=rtl] .tox-collection--list .tox-collection__item > .tox-collection__item-label:first-child {\\n  margin-right: 4px;\\n}\\n.tox[dir=rtl] .tox-collection__item-accessory {\\n  margin-right: 16px;\\n  text-align: left;\\n}\\n.tox[dir=rtl] .tox-collection .tox-collection__item-caret {\\n  margin-right: 16px;\\n  transform: rotateY(180deg);\\n}\\n.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret {\\n  margin-right: 4px;\\n}\\n.tox .tox-color-picker-container {\\n  display: flex;\\n  flex-direction: row;\\n  height: 225px;\\n  margin: 0;\\n}\\n.tox .tox-sv-palette {\\n  box-sizing: border-box;\\n  display: flex;\\n  height: 100%;\\n}\\n.tox .tox-sv-palette-spectrum {\\n  height: 100%;\\n}\\n.tox .tox-sv-palette,\\n.tox .tox-sv-palette-spectrum {\\n  width: 225px;\\n}\\n.tox .tox-sv-palette-thumb {\\n  background: none;\\n  border: 1px solid black;\\n  border-radius: 50%;\\n  box-sizing: content-box;\\n  height: 12px;\\n  position: absolute;\\n  width: 12px;\\n}\\n.tox .tox-sv-palette-inner-thumb {\\n  border: 1px solid white;\\n  border-radius: 50%;\\n  height: 10px;\\n  position: absolute;\\n  width: 10px;\\n}\\n.tox .tox-hue-slider {\\n  box-sizing: border-box;\\n  height: 100%;\\n  width: 25px;\\n}\\n.tox .tox-hue-slider-spectrum {\\n  background: linear-gradient(to bottom, #f00, #ff0080, #f0f, #8000ff, #00f, #0080ff, #0ff, #00ff80, #0f0, #80ff00, #ff0, #ff8000, #f00);\\n  height: 100%;\\n  width: 100%;\\n}\\n.tox .tox-hue-slider,\\n.tox .tox-hue-slider-spectrum {\\n  width: 20px;\\n}\\n.tox .tox-hue-slider-thumb {\\n  background: white;\\n  border: 1px solid black;\\n  box-sizing: content-box;\\n  height: 4px;\\n  width: 100%;\\n}\\n.tox .tox-rgb-form {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n}\\n.tox .tox-rgb-form div {\\n  align-items: center;\\n  display: flex;\\n  justify-content: space-between;\\n  margin-bottom: 5px;\\n  width: inherit;\\n}\\n.tox .tox-rgb-form input {\\n  width: 6em;\\n}\\n.tox .tox-rgb-form input.tox-invalid {\\n  /* Need !important to override Chrome's focus styling unfortunately */\\n  border: 1px solid red !important;\\n}\\n.tox .tox-rgb-form .tox-rgba-preview {\\n  border: 1px solid black;\\n  flex-grow: 2;\\n  margin-bottom: 0;\\n}\\n.tox:not([dir=rtl]) .tox-sv-palette {\\n  margin-right: 15px;\\n}\\n.tox:not([dir=rtl]) .tox-hue-slider {\\n  margin-right: 15px;\\n}\\n.tox:not([dir=rtl]) .tox-hue-slider-thumb {\\n  margin-left: -1px;\\n}\\n.tox:not([dir=rtl]) .tox-rgb-form label {\\n  margin-right: 0.5em;\\n}\\n.tox[dir=rtl] .tox-sv-palette {\\n  margin-left: 15px;\\n}\\n.tox[dir=rtl] .tox-hue-slider {\\n  margin-left: 15px;\\n}\\n.tox[dir=rtl] .tox-hue-slider-thumb {\\n  margin-right: -1px;\\n}\\n.tox[dir=rtl] .tox-rgb-form label {\\n  margin-left: 0.5em;\\n}\\n.tox .tox-toolbar .tox-swatches,\\n.tox .tox-toolbar__primary .tox-swatches,\\n.tox .tox-toolbar__overflow .tox-swatches {\\n  margin: 2px 0 3px 4px;\\n}\\n.tox .tox-collection--list .tox-collection__group .tox-swatches-menu {\\n  border: 0;\\n  margin: -4px 0;\\n}\\n.tox .tox-swatches__row {\\n  display: flex;\\n}\\n.tox .tox-swatch {\\n  height: 30px;\\n  transition: transform 0.15s, box-shadow 0.15s;\\n  width: 30px;\\n}\\n.tox .tox-swatch:hover,\\n.tox .tox-swatch:focus {\\n  box-shadow: 0 0 0 1px rgba(127, 127, 127, 0.3) inset;\\n  transform: scale(0.8);\\n}\\n.tox .tox-swatch--remove {\\n  align-items: center;\\n  display: flex;\\n  justify-content: center;\\n}\\n.tox .tox-swatch--remove svg path {\\n  stroke: #e74c3c;\\n}\\n.tox .tox-swatches__picker-btn {\\n  align-items: center;\\n  background-color: transparent;\\n  border: 0;\\n  cursor: pointer;\\n  display: flex;\\n  height: 30px;\\n  justify-content: center;\\n  outline: none;\\n  padding: 0;\\n  width: 30px;\\n}\\n.tox .tox-swatches__picker-btn svg {\\n  height: 24px;\\n  width: 24px;\\n}\\n.tox .tox-swatches__picker-btn:hover {\\n  background: #dee0e2;\\n}\\n.tox:not([dir=rtl]) .tox-swatches__picker-btn {\\n  margin-left: auto;\\n}\\n.tox[dir=rtl] .tox-swatches__picker-btn {\\n  margin-right: auto;\\n}\\n.tox .tox-comment-thread {\\n  background: #fff;\\n  position: relative;\\n}\\n.tox .tox-comment-thread > *:not(:first-child) {\\n  margin-top: 8px;\\n}\\n.tox .tox-comment {\\n  background: #fff;\\n  border: 1px solid #cccccc;\\n  border-radius: 3px;\\n  box-shadow: 0 4px 8px 0 rgba(34, 47, 62, 0.1);\\n  padding: 8px 8px 16px 8px;\\n  position: relative;\\n}\\n.tox .tox-comment__header {\\n  align-items: center;\\n  color: #222f3e;\\n  display: flex;\\n  justify-content: space-between;\\n}\\n.tox .tox-comment__date {\\n  color: rgba(34, 47, 62, 0.7);\\n  font-size: 12px;\\n}\\n.tox .tox-comment__body {\\n  color: #222f3e;\\n  font-size: 14px;\\n  font-style: normal;\\n  font-weight: normal;\\n  line-height: 1.3;\\n  margin-top: 8px;\\n  position: relative;\\n  text-transform: initial;\\n}\\n.tox .tox-comment__body textarea {\\n  resize: none;\\n  white-space: normal;\\n  width: 100%;\\n}\\n.tox .tox-comment__expander {\\n  padding-top: 8px;\\n}\\n.tox .tox-comment__expander p {\\n  color: rgba(34, 47, 62, 0.7);\\n  font-size: 14px;\\n  font-style: normal;\\n}\\n.tox .tox-comment__body p {\\n  margin: 0;\\n}\\n.tox .tox-comment__buttonspacing {\\n  padding-top: 16px;\\n  text-align: center;\\n}\\n.tox .tox-comment-thread__overlay::after {\\n  background: #fff;\\n  bottom: 0;\\n  content: \\\"\\\";\\n  display: flex;\\n  left: 0;\\n  opacity: 0.9;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  z-index: 5;\\n}\\n.tox .tox-comment__reply {\\n  display: flex;\\n  flex-shrink: 0;\\n  flex-wrap: wrap;\\n  justify-content: flex-end;\\n  margin-top: 8px;\\n}\\n.tox .tox-comment__reply > *:first-child {\\n  margin-bottom: 8px;\\n  width: 100%;\\n}\\n.tox .tox-comment__edit {\\n  display: flex;\\n  flex-wrap: wrap;\\n  justify-content: flex-end;\\n  margin-top: 16px;\\n}\\n.tox .tox-comment__gradient::after {\\n  background: linear-gradient(rgba(255, 255, 255, 0), #fff);\\n  bottom: 0;\\n  content: \\\"\\\";\\n  display: block;\\n  height: 5em;\\n  margin-top: -40px;\\n  position: absolute;\\n  width: 100%;\\n}\\n.tox .tox-comment__overlay {\\n  background: #fff;\\n  bottom: 0;\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1;\\n  left: 0;\\n  opacity: 0.9;\\n  position: absolute;\\n  right: 0;\\n  text-align: center;\\n  top: 0;\\n  z-index: 5;\\n}\\n.tox .tox-comment__loading-text {\\n  align-items: center;\\n  color: #222f3e;\\n  display: flex;\\n  flex-direction: column;\\n  position: relative;\\n}\\n.tox .tox-comment__loading-text > div {\\n  padding-bottom: 16px;\\n}\\n.tox .tox-comment__overlaytext {\\n  bottom: 0;\\n  flex-direction: column;\\n  font-size: 14px;\\n  left: 0;\\n  padding: 1em;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  z-index: 10;\\n}\\n.tox .tox-comment__overlaytext p {\\n  background-color: #fff;\\n  box-shadow: 0 0 8px 8px #fff;\\n  color: #222f3e;\\n  text-align: center;\\n}\\n.tox .tox-comment__overlaytext div:nth-of-type(2) {\\n  font-size: 0.8em;\\n}\\n.tox .tox-comment__busy-spinner {\\n  align-items: center;\\n  background-color: #fff;\\n  bottom: 0;\\n  display: flex;\\n  justify-content: center;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  z-index: 20;\\n}\\n.tox .tox-comment__scroll {\\n  display: flex;\\n  flex-direction: column;\\n  flex-shrink: 1;\\n  overflow: auto;\\n}\\n.tox .tox-conversations {\\n  margin: 8px;\\n}\\n.tox:not([dir=rtl]) .tox-comment__edit {\\n  margin-left: 8px;\\n}\\n.tox:not([dir=rtl]) .tox-comment__buttonspacing > *:last-child,\\n.tox:not([dir=rtl]) .tox-comment__edit > *:last-child,\\n.tox:not([dir=rtl]) .tox-comment__reply > *:last-child {\\n  margin-left: 8px;\\n}\\n.tox[dir=rtl] .tox-comment__edit {\\n  margin-right: 8px;\\n}\\n.tox[dir=rtl] .tox-comment__buttonspacing > *:last-child,\\n.tox[dir=rtl] .tox-comment__edit > *:last-child,\\n.tox[dir=rtl] .tox-comment__reply > *:last-child {\\n  margin-right: 8px;\\n}\\n.tox .tox-user {\\n  align-items: center;\\n  display: flex;\\n}\\n.tox .tox-user__avatar svg {\\n  fill: rgba(34, 47, 62, 0.7);\\n}\\n.tox .tox-user__name {\\n  color: rgba(34, 47, 62, 0.7);\\n  font-size: 12px;\\n  font-style: normal;\\n  font-weight: bold;\\n  text-transform: uppercase;\\n}\\n.tox:not([dir=rtl]) .tox-user__avatar svg {\\n  margin-right: 8px;\\n}\\n.tox:not([dir=rtl]) .tox-user__avatar + .tox-user__name {\\n  margin-left: 8px;\\n}\\n.tox[dir=rtl] .tox-user__avatar svg {\\n  margin-left: 8px;\\n}\\n.tox[dir=rtl] .tox-user__avatar + .tox-user__name {\\n  margin-right: 8px;\\n}\\n.tox .tox-dialog-wrap {\\n  align-items: center;\\n  bottom: 0;\\n  display: flex;\\n  justify-content: center;\\n  left: 0;\\n  position: fixed;\\n  right: 0;\\n  top: 0;\\n  z-index: 1100;\\n}\\n.tox .tox-dialog-wrap__backdrop {\\n  background-color: rgba(255, 255, 255, 0.75);\\n  bottom: 0;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  z-index: 1;\\n}\\n.tox .tox-dialog-wrap__backdrop--opaque {\\n  background-color: #fff;\\n}\\n.tox .tox-dialog {\\n  background-color: #fff;\\n  border-color: #cccccc;\\n  border-radius: 3px;\\n  border-style: solid;\\n  border-width: 1px;\\n  box-shadow: 0 16px 16px -10px rgba(34, 47, 62, 0.15), 0 0 40px 1px rgba(34, 47, 62, 0.15);\\n  display: flex;\\n  flex-direction: column;\\n  max-height: 100%;\\n  max-width: 480px;\\n  overflow: hidden;\\n  position: relative;\\n  width: 95vw;\\n  z-index: 2;\\n}\\n@media only screen and (max-width:767px) {\\n  body:not(.tox-force-desktop) .tox .tox-dialog {\\n    align-self: flex-start;\\n    margin: 8px auto;\\n    width: calc(100vw - 16px);\\n  }\\n}\\n.tox .tox-dialog-inline {\\n  z-index: 1100;\\n}\\n.tox .tox-dialog__header {\\n  align-items: center;\\n  background-color: #fff;\\n  border-bottom: none;\\n  color: #222f3e;\\n  display: flex;\\n  font-size: 16px;\\n  justify-content: space-between;\\n  padding: 8px 16px 0 16px;\\n  position: relative;\\n}\\n.tox .tox-dialog__header .tox-button {\\n  z-index: 1;\\n}\\n.tox .tox-dialog__draghandle {\\n  cursor: grab;\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  top: 0;\\n  width: 100%;\\n}\\n.tox .tox-dialog__draghandle:active {\\n  cursor: grabbing;\\n}\\n.tox .tox-dialog__dismiss {\\n  margin-left: auto;\\n}\\n.tox .tox-dialog__title {\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \\\"Helvetica Neue\\\", sans-serif;\\n  font-size: 20px;\\n  font-style: normal;\\n  font-weight: normal;\\n  line-height: 1.3;\\n  margin: 0;\\n  text-transform: none;\\n}\\n.tox .tox-dialog__body {\\n  color: #222f3e;\\n  display: flex;\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n  font-size: 16px;\\n  font-style: normal;\\n  font-weight: normal;\\n  line-height: 1.3;\\n  min-width: 0;\\n  text-align: left;\\n  text-transform: none;\\n}\\n@media only screen and (max-width:767px) {\\n  body:not(.tox-force-desktop) .tox .tox-dialog__body {\\n    flex-direction: column;\\n  }\\n}\\n.tox .tox-dialog__body-nav {\\n  align-items: flex-start;\\n  display: flex;\\n  flex-direction: column;\\n  padding: 16px 16px;\\n}\\n@media only screen and (max-width:767px) {\\n  body:not(.tox-force-desktop) .tox .tox-dialog__body-nav {\\n    flex-direction: row;\\n    -webkit-overflow-scrolling: touch;\\n    overflow-x: auto;\\n    padding-bottom: 0;\\n  }\\n}\\n.tox .tox-dialog__body-nav-item {\\n  border-bottom: 2px solid transparent;\\n  color: rgba(34, 47, 62, 0.7);\\n  display: inline-block;\\n  font-size: 14px;\\n  line-height: 1.3;\\n  margin-bottom: 8px;\\n  text-decoration: none;\\n  white-space: nowrap;\\n}\\n.tox .tox-dialog__body-nav-item:focus {\\n  background-color: rgba(32, 122, 183, 0.1);\\n}\\n.tox .tox-dialog__body-nav-item--active {\\n  border-bottom: 2px solid #207ab7;\\n  color: #207ab7;\\n}\\n.tox .tox-dialog__body-content {\\n  box-sizing: border-box;\\n  display: flex;\\n  flex: 1;\\n  flex-direction: column;\\n  -ms-flex-preferred-size: auto;\\n  max-height: 650px;\\n  overflow: auto;\\n  -webkit-overflow-scrolling: touch;\\n  padding: 16px 16px;\\n}\\n.tox .tox-dialog__body-content > * {\\n  margin-bottom: 0;\\n  margin-top: 16px;\\n}\\n.tox .tox-dialog__body-content > *:first-child {\\n  margin-top: 0;\\n}\\n.tox .tox-dialog__body-content > *:last-child {\\n  margin-bottom: 0;\\n}\\n.tox .tox-dialog__body-content > *:only-child {\\n  margin-bottom: 0;\\n  margin-top: 0;\\n}\\n.tox .tox-dialog__body-content a {\\n  color: #207ab7;\\n  cursor: pointer;\\n  text-decoration: none;\\n}\\n.tox .tox-dialog__body-content a:hover,\\n.tox .tox-dialog__body-content a:focus {\\n  color: #185d8c;\\n  text-decoration: none;\\n}\\n.tox .tox-dialog__body-content a:active {\\n  color: #185d8c;\\n  text-decoration: none;\\n}\\n.tox .tox-dialog__body-content svg {\\n  fill: #222f3e;\\n}\\n.tox .tox-dialog__body-content ul {\\n  display: block;\\n  list-style-type: disc;\\n  margin-bottom: 16px;\\n  -webkit-margin-end: 0;\\n          margin-inline-end: 0;\\n  -webkit-margin-start: 0;\\n          margin-inline-start: 0;\\n  -webkit-padding-start: 2.5rem;\\n          padding-inline-start: 2.5rem;\\n}\\n.tox .tox-dialog__body-content .tox-form__group h1 {\\n  color: #222f3e;\\n  font-size: 20px;\\n  font-style: normal;\\n  font-weight: bold;\\n  letter-spacing: normal;\\n  margin-bottom: 16px;\\n  margin-top: 2rem;\\n  text-transform: none;\\n}\\n.tox .tox-dialog__body-content .tox-form__group h2 {\\n  color: #222f3e;\\n  font-size: 16px;\\n  font-style: normal;\\n  font-weight: bold;\\n  letter-spacing: normal;\\n  margin-bottom: 16px;\\n  margin-top: 2rem;\\n  text-transform: none;\\n}\\n.tox .tox-dialog__body-content .tox-form__group p {\\n  margin-bottom: 16px;\\n}\\n.tox .tox-dialog__body-content .tox-form__group h1:first-child,\\n.tox .tox-dialog__body-content .tox-form__group h2:first-child,\\n.tox .tox-dialog__body-content .tox-form__group p:first-child {\\n  margin-top: 0;\\n}\\n.tox .tox-dialog__body-content .tox-form__group h1:last-child,\\n.tox .tox-dialog__body-content .tox-form__group h2:last-child,\\n.tox .tox-dialog__body-content .tox-form__group p:last-child {\\n  margin-bottom: 0;\\n}\\n.tox .tox-dialog__body-content .tox-form__group h1:only-child,\\n.tox .tox-dialog__body-content .tox-form__group h2:only-child,\\n.tox .tox-dialog__body-content .tox-form__group p:only-child {\\n  margin-bottom: 0;\\n  margin-top: 0;\\n}\\n.tox .tox-dialog--width-lg {\\n  height: 650px;\\n  max-width: 1200px;\\n}\\n.tox .tox-dialog--width-md {\\n  max-width: 800px;\\n}\\n.tox .tox-dialog--width-md .tox-dialog__body-content {\\n  overflow: auto;\\n}\\n.tox .tox-dialog__body-content--centered {\\n  text-align: center;\\n}\\n.tox .tox-dialog__footer {\\n  align-items: center;\\n  background-color: #fff;\\n  border-top: 1px solid #cccccc;\\n  display: flex;\\n  justify-content: space-between;\\n  padding: 8px 16px;\\n}\\n.tox .tox-dialog__footer-start,\\n.tox .tox-dialog__footer-end {\\n  display: flex;\\n}\\n.tox .tox-dialog__busy-spinner {\\n  align-items: center;\\n  background-color: rgba(255, 255, 255, 0.75);\\n  bottom: 0;\\n  display: flex;\\n  justify-content: center;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  z-index: 3;\\n}\\n.tox .tox-dialog__table {\\n  border-collapse: collapse;\\n  width: 100%;\\n}\\n.tox .tox-dialog__table thead th {\\n  font-weight: bold;\\n  padding-bottom: 8px;\\n}\\n.tox .tox-dialog__table tbody tr {\\n  border-bottom: 1px solid #cccccc;\\n}\\n.tox .tox-dialog__table tbody tr:last-child {\\n  border-bottom: none;\\n}\\n.tox .tox-dialog__table td {\\n  padding-bottom: 8px;\\n  padding-top: 8px;\\n}\\n.tox .tox-dialog__popups {\\n  position: absolute;\\n  width: 100%;\\n  z-index: 1100;\\n}\\n.tox .tox-dialog__body-iframe {\\n  display: flex;\\n  flex: 1;\\n  flex-direction: column;\\n  -ms-flex-preferred-size: auto;\\n}\\n.tox .tox-dialog__body-iframe .tox-navobj {\\n  display: flex;\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n}\\n.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2) {\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n  height: 100%;\\n}\\n.tox .tox-dialog-dock-fadeout {\\n  opacity: 0;\\n  visibility: hidden;\\n}\\n.tox .tox-dialog-dock-fadein {\\n  opacity: 1;\\n  visibility: visible;\\n}\\n.tox .tox-dialog-dock-transition {\\n  transition: visibility 0s linear 0.3s, opacity 0.3s ease;\\n}\\n.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein {\\n  transition-delay: 0s;\\n}\\n.tox.tox-platform-ie {\\n  /* IE11 CSS styles go here */\\n}\\n.tox.tox-platform-ie .tox-dialog-wrap {\\n  position: -ms-device-fixed;\\n}\\n@media only screen and (max-width:767px) {\\n  body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav {\\n    margin-right: 0;\\n  }\\n}\\n@media only screen and (max-width:767px) {\\n  body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child) {\\n    margin-left: 8px;\\n  }\\n}\\n.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start > *,\\n.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end > * {\\n  margin-left: 8px;\\n}\\n.tox[dir=rtl] .tox-dialog__body {\\n  text-align: right;\\n}\\n@media only screen and (max-width:767px) {\\n  body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav {\\n    margin-left: 0;\\n  }\\n}\\n@media only screen and (max-width:767px) {\\n  body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child) {\\n    margin-right: 8px;\\n  }\\n}\\n.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start > *,\\n.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end > * {\\n  margin-right: 8px;\\n}\\nbody.tox-dialog__disable-scroll {\\n  overflow: hidden;\\n}\\n.tox .tox-dropzone-container {\\n  display: flex;\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n}\\n.tox .tox-dropzone {\\n  align-items: center;\\n  background: #fff;\\n  border: 2px dashed #cccccc;\\n  box-sizing: border-box;\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1;\\n  justify-content: center;\\n  min-height: 100px;\\n  padding: 10px;\\n}\\n.tox .tox-dropzone p {\\n  color: rgba(34, 47, 62, 0.7);\\n  margin: 0 0 16px 0;\\n}\\n.tox .tox-edit-area {\\n  display: flex;\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n  overflow: hidden;\\n  position: relative;\\n}\\n.tox .tox-edit-area__iframe {\\n  background-color: #fff;\\n  border: 0;\\n  box-sizing: border-box;\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n  height: 100%;\\n  position: absolute;\\n  width: 100%;\\n}\\n.tox.tox-inline-edit-area {\\n  border: 1px dotted #cccccc;\\n}\\n.tox .tox-editor-container {\\n  display: flex;\\n  flex: 1 1 auto;\\n  flex-direction: column;\\n  overflow: hidden;\\n}\\n.tox .tox-editor-header {\\n  z-index: 1;\\n}\\n.tox:not(.tox-tinymce-inline) .tox-editor-header {\\n  box-shadow: none;\\n  transition: box-shadow 0.5s;\\n}\\n.tox.tox-tinymce--toolbar-bottom .tox-editor-header,\\n.tox.tox-tinymce-inline .tox-editor-header {\\n  margin-bottom: -1px;\\n}\\n.tox.tox-tinymce--toolbar-sticky-on .tox-editor-header {\\n  background-color: transparent;\\n  box-shadow: 0 4px 4px -3px rgba(0, 0, 0, 0.25);\\n}\\n.tox-editor-dock-fadeout {\\n  opacity: 0;\\n  visibility: hidden;\\n}\\n.tox-editor-dock-fadein {\\n  opacity: 1;\\n  visibility: visible;\\n}\\n.tox-editor-dock-transition {\\n  transition: visibility 0s linear 0.25s, opacity 0.25s ease;\\n}\\n.tox-editor-dock-transition.tox-editor-dock-fadein {\\n  transition-delay: 0s;\\n}\\n.tox .tox-control-wrap {\\n  flex: 1;\\n  position: relative;\\n}\\n.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,\\n.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,\\n.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid {\\n  display: none;\\n}\\n.tox .tox-control-wrap svg {\\n  display: block;\\n}\\n.tox .tox-control-wrap__status-icon-wrap {\\n  position: absolute;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n.tox .tox-control-wrap__status-icon-invalid svg {\\n  fill: #c00;\\n}\\n.tox .tox-control-wrap__status-icon-unknown svg {\\n  fill: orange;\\n}\\n.tox .tox-control-wrap__status-icon-valid svg {\\n  fill: green;\\n}\\n.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,\\n.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,\\n.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield {\\n  padding-right: 32px;\\n}\\n.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap {\\n  right: 4px;\\n}\\n.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,\\n.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,\\n.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield {\\n  padding-left: 32px;\\n}\\n.tox[dir=rtl] .tox-control-wrap__status-icon-wrap {\\n  left: 4px;\\n}\\n.tox .tox-autocompleter {\\n  max-width: 25em;\\n}\\n.tox .tox-autocompleter .tox-menu {\\n  max-width: 25em;\\n}\\n.tox .tox-autocompleter .tox-autocompleter-highlight {\\n  font-weight: bold;\\n}\\n.tox .tox-color-input {\\n  display: flex;\\n  position: relative;\\n  z-index: 1;\\n}\\n.tox .tox-color-input .tox-textfield {\\n  z-index: -1;\\n}\\n.tox .tox-color-input span {\\n  border-color: rgba(34, 47, 62, 0.2);\\n  border-radius: 3px;\\n  border-style: solid;\\n  border-width: 1px;\\n  box-shadow: none;\\n  box-sizing: border-box;\\n  height: 24px;\\n  position: absolute;\\n  top: 6px;\\n  width: 24px;\\n}\\n.tox .tox-color-input span:hover:not([aria-disabled=true]),\\n.tox .tox-color-input span:focus:not([aria-disabled=true]) {\\n  border-color: #207ab7;\\n  cursor: pointer;\\n}\\n.tox .tox-color-input span::before {\\n  background-image: linear-gradient(45deg, rgba(0, 0, 0, 0.25) 25%, transparent 25%), linear-gradient(-45deg, rgba(0, 0, 0, 0.25) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, rgba(0, 0, 0, 0.25) 75%), linear-gradient(-45deg, transparent 75%, rgba(0, 0, 0, 0.25) 75%);\\n  background-position: 0 0, 0 6px, 6px -6px, -6px 0;\\n  background-size: 12px 12px;\\n  border: 1px solid #fff;\\n  border-radius: 3px;\\n  box-sizing: border-box;\\n  content: '';\\n  height: 24px;\\n  left: -1px;\\n  position: absolute;\\n  top: -1px;\\n  width: 24px;\\n  z-index: -1;\\n}\\n.tox .tox-color-input span[aria-disabled=true] {\\n  cursor: not-allowed;\\n}\\n.tox:not([dir=rtl]) .tox-color-input {\\n  /* stylelint-disable-next-line no-descending-specificity */\\n}\\n.tox:not([dir=rtl]) .tox-color-input .tox-textfield {\\n  padding-left: 36px;\\n}\\n.tox:not([dir=rtl]) .tox-color-input span {\\n  left: 6px;\\n}\\n.tox[dir=\\\"rtl\\\"] .tox-color-input {\\n  /* stylelint-disable-next-line no-descending-specificity */\\n}\\n.tox[dir=\\\"rtl\\\"] .tox-color-input .tox-textfield {\\n  padding-right: 36px;\\n}\\n.tox[dir=\\\"rtl\\\"] .tox-color-input span {\\n  right: 6px;\\n}\\n.tox .tox-label,\\n.tox .tox-toolbar-label {\\n  color: rgba(34, 47, 62, 0.7);\\n  display: block;\\n  font-size: 14px;\\n  font-style: normal;\\n  font-weight: normal;\\n  line-height: 1.3;\\n  padding: 0 8px 0 0;\\n  text-transform: none;\\n  white-space: nowrap;\\n}\\n.tox .tox-toolbar-label {\\n  padding: 0 8px;\\n}\\n.tox[dir=rtl] .tox-label {\\n  padding: 0 0 0 8px;\\n}\\n.tox .tox-form {\\n  display: flex;\\n  flex: 1;\\n  flex-direction: column;\\n  -ms-flex-preferred-size: auto;\\n}\\n.tox .tox-form__group {\\n  box-sizing: border-box;\\n  margin-bottom: 4px;\\n}\\n.tox .tox-form-group--maximize {\\n  flex: 1;\\n}\\n.tox .tox-form__group--error {\\n  color: #c00;\\n}\\n.tox .tox-form__group--collection {\\n  display: flex;\\n}\\n.tox .tox-form__grid {\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  justify-content: space-between;\\n}\\n.tox .tox-form__grid--2col > .tox-form__group {\\n  width: calc(50% - (8px / 2));\\n}\\n.tox .tox-form__grid--3col > .tox-form__group {\\n  width: calc(100% / 3 - (8px / 2));\\n}\\n.tox .tox-form__grid--4col > .tox-form__group {\\n  width: calc(25% - (8px / 2));\\n}\\n.tox .tox-form__controls-h-stack {\\n  align-items: center;\\n  display: flex;\\n}\\n.tox .tox-form__group--inline {\\n  align-items: center;\\n  display: flex;\\n}\\n.tox .tox-form__group--stretched {\\n  display: flex;\\n  flex: 1;\\n  flex-direction: column;\\n  -ms-flex-preferred-size: auto;\\n}\\n.tox .tox-form__group--stretched .tox-textarea {\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n}\\n.tox .tox-form__group--stretched .tox-navobj {\\n  display: flex;\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n}\\n.tox .tox-form__group--stretched .tox-navobj :nth-child(2) {\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n  height: 100%;\\n}\\n.tox:not([dir=rtl]) .tox-form__controls-h-stack > *:not(:first-child) {\\n  margin-left: 4px;\\n}\\n.tox[dir=rtl] .tox-form__controls-h-stack > *:not(:first-child) {\\n  margin-right: 4px;\\n}\\n.tox .tox-lock.tox-locked .tox-lock-icon__unlock,\\n.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock {\\n  display: none;\\n}\\n.tox .tox-textfield,\\n.tox .tox-toolbar-textfield,\\n.tox .tox-listboxfield .tox-listbox--select,\\n.tox .tox-textarea {\\n  -webkit-appearance: none;\\n     -moz-appearance: none;\\n          appearance: none;\\n  background-color: #fff;\\n  border-color: #cccccc;\\n  border-radius: 3px;\\n  border-style: solid;\\n  border-width: 1px;\\n  box-shadow: none;\\n  box-sizing: border-box;\\n  color: #222f3e;\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \\\"Helvetica Neue\\\", sans-serif;\\n  font-size: 16px;\\n  line-height: 24px;\\n  margin: 0;\\n  min-height: 34px;\\n  outline: none;\\n  padding: 5px 4.75px;\\n  resize: none;\\n  width: 100%;\\n}\\n.tox .tox-textfield[disabled],\\n.tox .tox-textarea[disabled] {\\n  background-color: #f2f2f2;\\n  color: rgba(34, 47, 62, 0.85);\\n  cursor: not-allowed;\\n}\\n.tox .tox-textfield:focus,\\n.tox .tox-listboxfield .tox-listbox--select:focus,\\n.tox .tox-textarea:focus {\\n  background-color: #fff;\\n  border-color: #207ab7;\\n  box-shadow: none;\\n  outline: none;\\n}\\n.tox .tox-toolbar-textfield {\\n  border-width: 0;\\n  margin-bottom: 3px;\\n  margin-top: 2px;\\n  max-width: 250px;\\n}\\n.tox .tox-naked-btn {\\n  background-color: transparent;\\n  border: 0;\\n  border-color: transparent;\\n  box-shadow: unset;\\n  color: #207ab7;\\n  cursor: pointer;\\n  display: block;\\n  margin: 0;\\n  padding: 0;\\n}\\n.tox .tox-naked-btn svg {\\n  display: block;\\n  fill: #222f3e;\\n}\\n.tox:not([dir=rtl]) .tox-toolbar-textfield + * {\\n  margin-left: 4px;\\n}\\n.tox[dir=rtl] .tox-toolbar-textfield + * {\\n  margin-right: 4px;\\n}\\n.tox .tox-listboxfield {\\n  cursor: pointer;\\n  position: relative;\\n}\\n.tox .tox-listboxfield .tox-listbox--select[disabled] {\\n  background-color: #f2f2f2;\\n  color: rgba(34, 47, 62, 0.85);\\n  cursor: not-allowed;\\n}\\n.tox .tox-listbox__select-label {\\n  cursor: default;\\n  flex: 1;\\n  margin: 0 4px;\\n}\\n.tox .tox-listbox__select-chevron {\\n  align-items: center;\\n  display: flex;\\n  justify-content: center;\\n  width: 16px;\\n}\\n.tox .tox-listbox__select-chevron svg {\\n  fill: #222f3e;\\n}\\n.tox .tox-listboxfield .tox-listbox--select {\\n  align-items: center;\\n  display: flex;\\n}\\n.tox:not([dir=rtl]) .tox-listboxfield svg {\\n  right: 8px;\\n}\\n.tox[dir=rtl] .tox-listboxfield svg {\\n  left: 8px;\\n}\\n.tox .tox-selectfield {\\n  cursor: pointer;\\n  position: relative;\\n}\\n.tox .tox-selectfield select {\\n  -webkit-appearance: none;\\n     -moz-appearance: none;\\n          appearance: none;\\n  background-color: #fff;\\n  border-color: #cccccc;\\n  border-radius: 3px;\\n  border-style: solid;\\n  border-width: 1px;\\n  box-shadow: none;\\n  box-sizing: border-box;\\n  color: #222f3e;\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \\\"Helvetica Neue\\\", sans-serif;\\n  font-size: 16px;\\n  line-height: 24px;\\n  margin: 0;\\n  min-height: 34px;\\n  outline: none;\\n  padding: 5px 4.75px;\\n  resize: none;\\n  width: 100%;\\n}\\n.tox .tox-selectfield select[disabled] {\\n  background-color: #f2f2f2;\\n  color: rgba(34, 47, 62, 0.85);\\n  cursor: not-allowed;\\n}\\n.tox .tox-selectfield select::-ms-expand {\\n  display: none;\\n}\\n.tox .tox-selectfield select:focus {\\n  background-color: #fff;\\n  border-color: #207ab7;\\n  box-shadow: none;\\n  outline: none;\\n}\\n.tox .tox-selectfield svg {\\n  pointer-events: none;\\n  position: absolute;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n.tox:not([dir=rtl]) .tox-selectfield select[size=\\\"0\\\"],\\n.tox:not([dir=rtl]) .tox-selectfield select[size=\\\"1\\\"] {\\n  padding-right: 24px;\\n}\\n.tox:not([dir=rtl]) .tox-selectfield svg {\\n  right: 8px;\\n}\\n.tox[dir=rtl] .tox-selectfield select[size=\\\"0\\\"],\\n.tox[dir=rtl] .tox-selectfield select[size=\\\"1\\\"] {\\n  padding-left: 24px;\\n}\\n.tox[dir=rtl] .tox-selectfield svg {\\n  left: 8px;\\n}\\n.tox .tox-textarea {\\n  -webkit-appearance: textarea;\\n     -moz-appearance: textarea;\\n          appearance: textarea;\\n  white-space: pre-wrap;\\n}\\n.tox-fullscreen {\\n  border: 0;\\n  height: 100%;\\n  margin: 0;\\n  overflow: hidden;\\n  -ms-scroll-chaining: none;\\n      overscroll-behavior: none;\\n  padding: 0;\\n  touch-action: pinch-zoom;\\n  width: 100%;\\n}\\n.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle {\\n  display: none;\\n}\\n.tox.tox-tinymce.tox-fullscreen,\\n.tox-shadowhost.tox-fullscreen {\\n  left: 0;\\n  position: fixed;\\n  top: 0;\\n  z-index: 1200;\\n}\\n.tox.tox-tinymce.tox-fullscreen {\\n  background-color: transparent;\\n}\\n.tox-fullscreen .tox.tox-tinymce-aux,\\n.tox-fullscreen ~ .tox.tox-tinymce-aux {\\n  z-index: 1201;\\n}\\n.tox .tox-help__more-link {\\n  list-style: none;\\n  margin-top: 1em;\\n}\\n.tox .tox-image-tools {\\n  width: 100%;\\n}\\n.tox .tox-image-tools__toolbar {\\n  align-items: center;\\n  display: flex;\\n  justify-content: center;\\n}\\n.tox .tox-image-tools__image {\\n  background-color: #666;\\n  height: 380px;\\n  overflow: auto;\\n  position: relative;\\n  width: 100%;\\n}\\n.tox .tox-image-tools__image,\\n.tox .tox-image-tools__image + .tox-image-tools__toolbar {\\n  margin-top: 8px;\\n}\\n.tox .tox-image-tools__image-bg {\\n  background: url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==);\\n}\\n.tox .tox-image-tools__toolbar > .tox-spacer {\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n}\\n.tox .tox-croprect-block {\\n  background: black;\\n  filter: alpha(opacity=50);\\n  opacity: 0.5;\\n  position: absolute;\\n  zoom: 1;\\n}\\n.tox .tox-croprect-handle {\\n  border: 2px solid white;\\n  height: 20px;\\n  left: 0;\\n  position: absolute;\\n  top: 0;\\n  width: 20px;\\n}\\n.tox .tox-croprect-handle-move {\\n  border: 0;\\n  cursor: move;\\n  position: absolute;\\n}\\n.tox .tox-croprect-handle-nw {\\n  border-width: 2px 0 0 2px;\\n  cursor: nw-resize;\\n  left: 100px;\\n  margin: -2px 0 0 -2px;\\n  top: 100px;\\n}\\n.tox .tox-croprect-handle-ne {\\n  border-width: 2px 2px 0 0;\\n  cursor: ne-resize;\\n  left: 200px;\\n  margin: -2px 0 0 -20px;\\n  top: 100px;\\n}\\n.tox .tox-croprect-handle-sw {\\n  border-width: 0 0 2px 2px;\\n  cursor: sw-resize;\\n  left: 100px;\\n  margin: -20px 2px 0 -2px;\\n  top: 200px;\\n}\\n.tox .tox-croprect-handle-se {\\n  border-width: 0 2px 2px 0;\\n  cursor: se-resize;\\n  left: 200px;\\n  margin: -20px 0 0 -20px;\\n  top: 200px;\\n}\\n.tox:not([dir=rtl]) .tox-image-tools__toolbar > .tox-slider:not(:first-of-type) {\\n  margin-left: 8px;\\n}\\n.tox:not([dir=rtl]) .tox-image-tools__toolbar > .tox-button + .tox-slider {\\n  margin-left: 32px;\\n}\\n.tox:not([dir=rtl]) .tox-image-tools__toolbar > .tox-slider + .tox-button {\\n  margin-left: 32px;\\n}\\n.tox[dir=rtl] .tox-image-tools__toolbar > .tox-slider:not(:first-of-type) {\\n  margin-right: 8px;\\n}\\n.tox[dir=rtl] .tox-image-tools__toolbar > .tox-button + .tox-slider {\\n  margin-right: 32px;\\n}\\n.tox[dir=rtl] .tox-image-tools__toolbar > .tox-slider + .tox-button {\\n  margin-right: 32px;\\n}\\n.tox .tox-insert-table-picker {\\n  display: flex;\\n  flex-wrap: wrap;\\n  width: 170px;\\n}\\n.tox .tox-insert-table-picker > div {\\n  border-color: #cccccc;\\n  border-style: solid;\\n  border-width: 0 1px 1px 0;\\n  box-sizing: border-box;\\n  height: 17px;\\n  width: 17px;\\n}\\n.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker {\\n  margin: -4px 0;\\n}\\n.tox .tox-insert-table-picker .tox-insert-table-picker__selected {\\n  background-color: rgba(32, 122, 183, 0.5);\\n  border-color: rgba(32, 122, 183, 0.5);\\n}\\n.tox .tox-insert-table-picker__label {\\n  color: rgba(34, 47, 62, 0.7);\\n  display: block;\\n  font-size: 14px;\\n  padding: 4px;\\n  text-align: center;\\n  width: 100%;\\n}\\n.tox:not([dir=rtl]) {\\n  /* stylelint-disable-next-line no-descending-specificity */\\n}\\n.tox:not([dir=rtl]) .tox-insert-table-picker > div:nth-child(10n) {\\n  border-right: 0;\\n}\\n.tox[dir=rtl] {\\n  /* stylelint-disable-next-line no-descending-specificity */\\n}\\n.tox[dir=rtl] .tox-insert-table-picker > div:nth-child(10n+1) {\\n  border-right: 0;\\n}\\n.tox {\\n  /* stylelint-disable */\\n  /* stylelint-enable */\\n}\\n.tox .tox-menu {\\n  background-color: #fff;\\n  border: 1px solid #cccccc;\\n  border-radius: 3px;\\n  box-shadow: 0 4px 8px 0 rgba(34, 47, 62, 0.1);\\n  display: inline-block;\\n  overflow: hidden;\\n  vertical-align: top;\\n  z-index: 1150;\\n}\\n.tox .tox-menu.tox-collection.tox-collection--list {\\n  padding: 0;\\n}\\n.tox .tox-menu.tox-collection.tox-collection--toolbar {\\n  padding: 4px;\\n}\\n.tox .tox-menu.tox-collection.tox-collection--grid {\\n  padding: 4px;\\n}\\n.tox .tox-menu__label h1,\\n.tox .tox-menu__label h2,\\n.tox .tox-menu__label h3,\\n.tox .tox-menu__label h4,\\n.tox .tox-menu__label h5,\\n.tox .tox-menu__label h6,\\n.tox .tox-menu__label p,\\n.tox .tox-menu__label blockquote,\\n.tox .tox-menu__label code {\\n  margin: 0;\\n}\\n.tox .tox-menubar {\\n  background: url(\\\"data:image/svg+xml;charset=utf8,%3Csvg height='39px' viewBox='0 0 40 39px' width='40' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='0' y='38px' width='100' height='1' fill='%23cccccc'/%3E%3C/svg%3E\\\") left 0 top 0 #fff;\\n  background-color: #fff;\\n  display: flex;\\n  flex: 0 0 auto;\\n  flex-shrink: 0;\\n  flex-wrap: wrap;\\n  padding: 0 4px 0 4px;\\n}\\n.tox.tox-tinymce:not(.tox-tinymce-inline) .tox-editor-header:not(:first-child) .tox-menubar {\\n  border-top: 1px solid #cccccc;\\n}\\n/* Deprecated. Remove in next major release */\\n.tox .tox-mbtn {\\n  align-items: center;\\n  background: transparent;\\n  border: 0;\\n  border-radius: 3px;\\n  box-shadow: none;\\n  color: #222f3e;\\n  display: flex;\\n  flex: 0 0 auto;\\n  font-size: 14px;\\n  font-style: normal;\\n  font-weight: normal;\\n  height: 34px;\\n  justify-content: center;\\n  margin: 2px 0 3px 0;\\n  outline: none;\\n  overflow: hidden;\\n  padding: 0 4px;\\n  text-transform: none;\\n  width: auto;\\n}\\n.tox .tox-mbtn[disabled] {\\n  background-color: transparent;\\n  border: 0;\\n  box-shadow: none;\\n  color: rgba(34, 47, 62, 0.5);\\n  cursor: not-allowed;\\n}\\n.tox .tox-mbtn:focus:not(:disabled) {\\n  background: #dee0e2;\\n  border: 0;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-mbtn--active {\\n  background: #c8cbcf;\\n  border: 0;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active) {\\n  background: #dee0e2;\\n  border: 0;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-mbtn__select-label {\\n  cursor: default;\\n  font-weight: normal;\\n  margin: 0 4px;\\n}\\n.tox .tox-mbtn[disabled] .tox-mbtn__select-label {\\n  cursor: not-allowed;\\n}\\n.tox .tox-mbtn__select-chevron {\\n  align-items: center;\\n  display: flex;\\n  justify-content: center;\\n  width: 16px;\\n  display: none;\\n}\\n.tox .tox-notification {\\n  border-radius: 3px;\\n  border-style: solid;\\n  border-width: 1px;\\n  box-shadow: none;\\n  box-sizing: border-box;\\n  display: -ms-grid;\\n  display: grid;\\n  font-size: 14px;\\n  font-weight: normal;\\n  -ms-grid-columns: minmax(40px, 1fr) auto minmax(40px, 1fr);\\n      grid-template-columns: minmax(40px, 1fr) auto minmax(40px, 1fr);\\n  margin-top: 4px;\\n  opacity: 0;\\n  padding: 4px;\\n  transition: transform 100ms ease-in, opacity 150ms ease-in;\\n}\\n.tox .tox-notification p {\\n  font-size: 14px;\\n  font-weight: normal;\\n}\\n.tox .tox-notification a {\\n  cursor: pointer;\\n  text-decoration: underline;\\n}\\n.tox .tox-notification--in {\\n  opacity: 1;\\n}\\n.tox .tox-notification--success {\\n  background-color: #e4eeda;\\n  border-color: #d7e6c8;\\n  color: #222f3e;\\n}\\n.tox .tox-notification--success p {\\n  color: #222f3e;\\n}\\n.tox .tox-notification--success a {\\n  color: #547831;\\n}\\n.tox .tox-notification--success svg {\\n  fill: #222f3e;\\n}\\n.tox .tox-notification--error {\\n  background-color: #f8dede;\\n  border-color: #f2bfbf;\\n  color: #222f3e;\\n}\\n.tox .tox-notification--error p {\\n  color: #222f3e;\\n}\\n.tox .tox-notification--error a {\\n  color: #c00;\\n}\\n.tox .tox-notification--error svg {\\n  fill: #222f3e;\\n}\\n.tox .tox-notification--warn,\\n.tox .tox-notification--warning {\\n  background-color: #fffaea;\\n  border-color: #ffe89d;\\n  color: #222f3e;\\n}\\n.tox .tox-notification--warn p,\\n.tox .tox-notification--warning p {\\n  color: #222f3e;\\n}\\n.tox .tox-notification--warn a,\\n.tox .tox-notification--warning a {\\n  color: #222f3e;\\n}\\n.tox .tox-notification--warn svg,\\n.tox .tox-notification--warning svg {\\n  fill: #222f3e;\\n}\\n.tox .tox-notification--info {\\n  background-color: #d9edf7;\\n  border-color: #779ecb;\\n  color: #222f3e;\\n}\\n.tox .tox-notification--info p {\\n  color: #222f3e;\\n}\\n.tox .tox-notification--info a {\\n  color: #222f3e;\\n}\\n.tox .tox-notification--info svg {\\n  fill: #222f3e;\\n}\\n.tox .tox-notification__body {\\n  -ms-grid-row-align: center;\\n      align-self: center;\\n  color: #222f3e;\\n  font-size: 14px;\\n  -ms-grid-column-span: 1;\\n  grid-column-end: 3;\\n  -ms-grid-column: 2;\\n      grid-column-start: 2;\\n  -ms-grid-row-span: 1;\\n  grid-row-end: 2;\\n  -ms-grid-row: 1;\\n      grid-row-start: 1;\\n  text-align: center;\\n  white-space: normal;\\n  word-break: break-all;\\n  word-break: break-word;\\n}\\n.tox .tox-notification__body > * {\\n  margin: 0;\\n}\\n.tox .tox-notification__body > * + * {\\n  margin-top: 1rem;\\n}\\n.tox .tox-notification__icon {\\n  -ms-grid-row-align: center;\\n      align-self: center;\\n  -ms-grid-column-span: 1;\\n  grid-column-end: 2;\\n  -ms-grid-column: 1;\\n      grid-column-start: 1;\\n  -ms-grid-row-span: 1;\\n  grid-row-end: 2;\\n  -ms-grid-row: 1;\\n      grid-row-start: 1;\\n  -ms-grid-column-align: end;\\n      justify-self: end;\\n}\\n.tox .tox-notification__icon svg {\\n  display: block;\\n}\\n.tox .tox-notification__dismiss {\\n  -ms-grid-row-align: start;\\n      align-self: start;\\n  -ms-grid-column-span: 1;\\n  grid-column-end: 4;\\n  -ms-grid-column: 3;\\n      grid-column-start: 3;\\n  -ms-grid-row-span: 1;\\n  grid-row-end: 2;\\n  -ms-grid-row: 1;\\n      grid-row-start: 1;\\n  -ms-grid-column-align: end;\\n      justify-self: end;\\n}\\n.tox .tox-notification .tox-progress-bar {\\n  -ms-grid-column-span: 3;\\n  grid-column-end: 4;\\n  -ms-grid-column: 1;\\n      grid-column-start: 1;\\n  -ms-grid-row-span: 1;\\n  grid-row-end: 3;\\n  -ms-grid-row: 2;\\n      grid-row-start: 2;\\n  -ms-grid-column-align: center;\\n      justify-self: center;\\n}\\n.tox .tox-pop {\\n  display: inline-block;\\n  position: relative;\\n}\\n.tox .tox-pop--resizing {\\n  transition: width 0.1s ease;\\n}\\n.tox .tox-pop--resizing .tox-toolbar,\\n.tox .tox-pop--resizing .tox-toolbar__group {\\n  flex-wrap: nowrap;\\n}\\n.tox .tox-pop--transition {\\n  transition: 0.15s ease;\\n  transition-property: left, right, top, bottom;\\n}\\n.tox .tox-pop--transition::before,\\n.tox .tox-pop--transition::after {\\n  transition: all 0.15s, visibility 0s, opacity 0.075s ease 0.075s;\\n}\\n.tox .tox-pop__dialog {\\n  background-color: #fff;\\n  border: 1px solid #cccccc;\\n  border-radius: 3px;\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\\n  min-width: 0;\\n  overflow: hidden;\\n}\\n.tox .tox-pop__dialog > *:not(.tox-toolbar) {\\n  margin: 4px 4px 4px 8px;\\n}\\n.tox .tox-pop__dialog .tox-toolbar {\\n  background-color: transparent;\\n  margin-bottom: -1px;\\n}\\n.tox .tox-pop::before,\\n.tox .tox-pop::after {\\n  border-style: solid;\\n  content: '';\\n  display: block;\\n  height: 0;\\n  opacity: 1;\\n  position: absolute;\\n  width: 0;\\n}\\n.tox .tox-pop.tox-pop--inset::before,\\n.tox .tox-pop.tox-pop--inset::after {\\n  opacity: 0;\\n  transition: all 0s 0.15s, visibility 0s, opacity 0.075s ease;\\n}\\n.tox .tox-pop.tox-pop--bottom::before,\\n.tox .tox-pop.tox-pop--bottom::after {\\n  left: 50%;\\n  top: 100%;\\n}\\n.tox .tox-pop.tox-pop--bottom::after {\\n  border-color: #fff transparent transparent transparent;\\n  border-width: 8px;\\n  margin-left: -8px;\\n  margin-top: -1px;\\n}\\n.tox .tox-pop.tox-pop--bottom::before {\\n  border-color: #cccccc transparent transparent transparent;\\n  border-width: 9px;\\n  margin-left: -9px;\\n}\\n.tox .tox-pop.tox-pop--top::before,\\n.tox .tox-pop.tox-pop--top::after {\\n  left: 50%;\\n  top: 0;\\n  transform: translateY(-100%);\\n}\\n.tox .tox-pop.tox-pop--top::after {\\n  border-color: transparent transparent #fff transparent;\\n  border-width: 8px;\\n  margin-left: -8px;\\n  margin-top: 1px;\\n}\\n.tox .tox-pop.tox-pop--top::before {\\n  border-color: transparent transparent #cccccc transparent;\\n  border-width: 9px;\\n  margin-left: -9px;\\n}\\n.tox .tox-pop.tox-pop--left::before,\\n.tox .tox-pop.tox-pop--left::after {\\n  left: 0;\\n  top: calc(50% - 1px);\\n  transform: translateY(-50%);\\n}\\n.tox .tox-pop.tox-pop--left::after {\\n  border-color: transparent #fff transparent transparent;\\n  border-width: 8px;\\n  margin-left: -15px;\\n}\\n.tox .tox-pop.tox-pop--left::before {\\n  border-color: transparent #cccccc transparent transparent;\\n  border-width: 10px;\\n  margin-left: -19px;\\n}\\n.tox .tox-pop.tox-pop--right::before,\\n.tox .tox-pop.tox-pop--right::after {\\n  left: 100%;\\n  top: calc(50% + 1px);\\n  transform: translateY(-50%);\\n}\\n.tox .tox-pop.tox-pop--right::after {\\n  border-color: transparent transparent transparent #fff;\\n  border-width: 8px;\\n  margin-left: -1px;\\n}\\n.tox .tox-pop.tox-pop--right::before {\\n  border-color: transparent transparent transparent #cccccc;\\n  border-width: 10px;\\n  margin-left: -1px;\\n}\\n.tox .tox-pop.tox-pop--align-left::before,\\n.tox .tox-pop.tox-pop--align-left::after {\\n  left: 20px;\\n}\\n.tox .tox-pop.tox-pop--align-right::before,\\n.tox .tox-pop.tox-pop--align-right::after {\\n  left: calc(100% - 20px);\\n}\\n.tox .tox-sidebar-wrap {\\n  display: flex;\\n  flex-direction: row;\\n  flex-grow: 1;\\n  -ms-flex-preferred-size: 0;\\n  min-height: 0;\\n}\\n.tox .tox-sidebar {\\n  background-color: #fff;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: flex-end;\\n}\\n.tox .tox-sidebar__slider {\\n  display: flex;\\n  overflow: hidden;\\n}\\n.tox .tox-sidebar__pane-container {\\n  display: flex;\\n}\\n.tox .tox-sidebar__pane {\\n  display: flex;\\n}\\n.tox .tox-sidebar--sliding-closed {\\n  opacity: 0;\\n}\\n.tox .tox-sidebar--sliding-open {\\n  opacity: 1;\\n}\\n.tox .tox-sidebar--sliding-growing,\\n.tox .tox-sidebar--sliding-shrinking {\\n  transition: width 0.5s ease, opacity 0.5s ease;\\n}\\n.tox .tox-selector {\\n  background-color: #4099ff;\\n  border-color: #4099ff;\\n  border-style: solid;\\n  border-width: 1px;\\n  box-sizing: border-box;\\n  display: inline-block;\\n  height: 10px;\\n  position: absolute;\\n  width: 10px;\\n}\\n.tox.tox-platform-touch .tox-selector {\\n  height: 12px;\\n  width: 12px;\\n}\\n.tox .tox-slider {\\n  align-items: center;\\n  display: flex;\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n  height: 24px;\\n  justify-content: center;\\n  position: relative;\\n}\\n.tox .tox-slider__rail {\\n  background-color: transparent;\\n  border: 1px solid #cccccc;\\n  border-radius: 3px;\\n  height: 10px;\\n  min-width: 120px;\\n  width: 100%;\\n}\\n.tox .tox-slider__handle {\\n  background-color: #207ab7;\\n  border: 2px solid #185d8c;\\n  border-radius: 3px;\\n  box-shadow: none;\\n  height: 24px;\\n  left: 50%;\\n  position: absolute;\\n  top: 50%;\\n  transform: translateX(-50%) translateY(-50%);\\n  width: 14px;\\n}\\n.tox .tox-source-code {\\n  overflow: auto;\\n}\\n.tox .tox-spinner {\\n  display: flex;\\n}\\n.tox .tox-spinner > div {\\n  animation: tam-bouncing-dots 1.5s ease-in-out 0s infinite both;\\n  background-color: rgba(34, 47, 62, 0.7);\\n  border-radius: 100%;\\n  height: 8px;\\n  width: 8px;\\n}\\n.tox .tox-spinner > div:nth-child(1) {\\n  animation-delay: -0.32s;\\n}\\n.tox .tox-spinner > div:nth-child(2) {\\n  animation-delay: -0.16s;\\n}\\n@keyframes tam-bouncing-dots {\\n  0%,\\n  80%,\\n  100% {\\n    transform: scale(0);\\n  }\\n  40% {\\n    transform: scale(1);\\n  }\\n}\\n.tox:not([dir=rtl]) .tox-spinner > div:not(:first-child) {\\n  margin-left: 4px;\\n}\\n.tox[dir=rtl] .tox-spinner > div:not(:first-child) {\\n  margin-right: 4px;\\n}\\n.tox .tox-statusbar {\\n  align-items: center;\\n  background-color: #fff;\\n  border-top: 1px solid #cccccc;\\n  color: rgba(34, 47, 62, 0.7);\\n  display: flex;\\n  flex: 0 0 auto;\\n  font-size: 12px;\\n  font-weight: normal;\\n  height: 18px;\\n  overflow: hidden;\\n  padding: 0 8px;\\n  position: relative;\\n  text-transform: uppercase;\\n}\\n.tox .tox-statusbar__text-container {\\n  display: flex;\\n  flex: 1 1 auto;\\n  justify-content: flex-end;\\n  overflow: hidden;\\n}\\n.tox .tox-statusbar__path {\\n  display: flex;\\n  flex: 1 1 auto;\\n  margin-right: auto;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n.tox .tox-statusbar__path > * {\\n  display: inline;\\n  white-space: nowrap;\\n}\\n.tox .tox-statusbar__wordcount {\\n  flex: 0 0 auto;\\n  margin-left: 1ch;\\n}\\n.tox .tox-statusbar a,\\n.tox .tox-statusbar__path-item,\\n.tox .tox-statusbar__wordcount {\\n  color: rgba(34, 47, 62, 0.7);\\n  text-decoration: none;\\n}\\n.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),\\n.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),\\n.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]),\\n.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),\\n.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),\\n.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]) {\\n  cursor: pointer;\\n  text-decoration: underline;\\n}\\n.tox .tox-statusbar__resize-handle {\\n  align-items: flex-end;\\n  align-self: stretch;\\n  cursor: nwse-resize;\\n  display: flex;\\n  flex: 0 0 auto;\\n  justify-content: flex-end;\\n  margin-left: auto;\\n  margin-right: -8px;\\n  padding-left: 1ch;\\n}\\n.tox .tox-statusbar__resize-handle svg {\\n  display: block;\\n  fill: rgba(34, 47, 62, 0.7);\\n}\\n.tox .tox-statusbar__resize-handle:focus svg {\\n  background-color: #dee0e2;\\n  border-radius: 1px;\\n  box-shadow: 0 0 0 2px #dee0e2;\\n}\\n.tox:not([dir=rtl]) .tox-statusbar__path > * {\\n  margin-right: 4px;\\n}\\n.tox:not([dir=rtl]) .tox-statusbar__branding {\\n  margin-left: 1ch;\\n}\\n.tox[dir=rtl] .tox-statusbar {\\n  flex-direction: row-reverse;\\n}\\n.tox[dir=rtl] .tox-statusbar__path > * {\\n  margin-left: 4px;\\n}\\n.tox .tox-throbber {\\n  z-index: 1299;\\n}\\n.tox .tox-throbber__busy-spinner {\\n  align-items: center;\\n  background-color: rgba(255, 255, 255, 0.6);\\n  bottom: 0;\\n  display: flex;\\n  justify-content: center;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n}\\n.tox .tox-tbtn {\\n  align-items: center;\\n  background: transparent;\\n  border: 0;\\n  border-radius: 3px;\\n  box-shadow: none;\\n  color: #222f3e;\\n  display: flex;\\n  flex: 0 0 auto;\\n  font-size: 14px;\\n  font-style: normal;\\n  font-weight: normal;\\n  height: 34px;\\n  justify-content: center;\\n  margin: 2px 0 3px 0;\\n  outline: none;\\n  overflow: hidden;\\n  padding: 0;\\n  text-transform: none;\\n  width: 34px;\\n}\\n.tox .tox-tbtn svg {\\n  display: block;\\n  fill: #222f3e;\\n}\\n.tox .tox-tbtn.tox-tbtn-more {\\n  padding-left: 5px;\\n  padding-right: 5px;\\n  width: inherit;\\n}\\n.tox .tox-tbtn:focus {\\n  background: #dee0e2;\\n  border: 0;\\n  box-shadow: none;\\n}\\n.tox .tox-tbtn:hover {\\n  background: #dee0e2;\\n  border: 0;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-tbtn:hover svg {\\n  fill: #222f3e;\\n}\\n.tox .tox-tbtn:active {\\n  background: #c8cbcf;\\n  border: 0;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-tbtn:active svg {\\n  fill: #222f3e;\\n}\\n.tox .tox-tbtn--disabled,\\n.tox .tox-tbtn--disabled:hover,\\n.tox .tox-tbtn:disabled,\\n.tox .tox-tbtn:disabled:hover {\\n  background: transparent;\\n  border: 0;\\n  box-shadow: none;\\n  color: rgba(34, 47, 62, 0.5);\\n  cursor: not-allowed;\\n}\\n.tox .tox-tbtn--disabled svg,\\n.tox .tox-tbtn--disabled:hover svg,\\n.tox .tox-tbtn:disabled svg,\\n.tox .tox-tbtn:disabled:hover svg {\\n  /* stylelint-disable-line no-descending-specificity */\\n  fill: rgba(34, 47, 62, 0.5);\\n}\\n.tox .tox-tbtn--enabled,\\n.tox .tox-tbtn--enabled:hover {\\n  background: #c8cbcf;\\n  border: 0;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-tbtn--enabled > *,\\n.tox .tox-tbtn--enabled:hover > * {\\n  transform: none;\\n}\\n.tox .tox-tbtn--enabled svg,\\n.tox .tox-tbtn--enabled:hover svg {\\n  /* stylelint-disable-line no-descending-specificity */\\n  fill: #222f3e;\\n}\\n.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) {\\n  color: #222f3e;\\n}\\n.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg {\\n  fill: #222f3e;\\n}\\n.tox .tox-tbtn:active > * {\\n  transform: none;\\n}\\n.tox .tox-tbtn--md {\\n  height: 51px;\\n  width: 51px;\\n}\\n.tox .tox-tbtn--lg {\\n  flex-direction: column;\\n  height: 68px;\\n  width: 68px;\\n}\\n.tox .tox-tbtn--return {\\n  -ms-grid-row-align: stretch;\\n      align-self: stretch;\\n  height: unset;\\n  width: 16px;\\n}\\n.tox .tox-tbtn--labeled {\\n  padding: 0 4px;\\n  width: unset;\\n}\\n.tox .tox-tbtn__vlabel {\\n  display: block;\\n  font-size: 10px;\\n  font-weight: normal;\\n  letter-spacing: -0.025em;\\n  margin-bottom: 4px;\\n  white-space: nowrap;\\n}\\n.tox .tox-tbtn--select {\\n  margin: 2px 0 3px 0;\\n  padding: 0 4px;\\n  width: auto;\\n}\\n.tox .tox-tbtn__select-label {\\n  cursor: default;\\n  font-weight: normal;\\n  margin: 0 4px;\\n}\\n.tox .tox-tbtn__select-chevron {\\n  align-items: center;\\n  display: flex;\\n  justify-content: center;\\n  width: 16px;\\n}\\n.tox .tox-tbtn__select-chevron svg {\\n  fill: rgba(34, 47, 62, 0.5);\\n}\\n.tox .tox-tbtn--bespoke .tox-tbtn__select-label {\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  width: 7em;\\n}\\n.tox .tox-split-button {\\n  border: 0;\\n  border-radius: 3px;\\n  box-sizing: border-box;\\n  display: flex;\\n  margin: 2px 0 3px 0;\\n  overflow: hidden;\\n}\\n.tox .tox-split-button:hover {\\n  box-shadow: 0 0 0 1px #dee0e2 inset;\\n}\\n.tox .tox-split-button:focus {\\n  background: #dee0e2;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-split-button > * {\\n  border-radius: 0;\\n}\\n.tox .tox-split-button__chevron {\\n  width: 16px;\\n}\\n.tox .tox-split-button__chevron svg {\\n  fill: rgba(34, 47, 62, 0.5);\\n}\\n.tox .tox-split-button .tox-tbtn {\\n  margin: 0;\\n}\\n.tox.tox-platform-touch .tox-split-button .tox-tbtn:first-child {\\n  width: 30px;\\n}\\n.tox.tox-platform-touch .tox-split-button__chevron {\\n  width: 20px;\\n}\\n.tox .tox-split-button.tox-tbtn--disabled:hover,\\n.tox .tox-split-button.tox-tbtn--disabled:focus,\\n.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,\\n.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus {\\n  background: transparent;\\n  box-shadow: none;\\n  color: rgba(34, 47, 62, 0.5);\\n}\\n.tox .tox-toolbar-overlord {\\n  background-color: #fff;\\n}\\n.tox .tox-toolbar,\\n.tox .tox-toolbar__primary,\\n.tox .tox-toolbar__overflow {\\n  background: url(\\\"data:image/svg+xml;charset=utf8,%3Csvg height='39px' viewBox='0 0 40 39px' width='40' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='0' y='38px' width='100' height='1' fill='%23cccccc'/%3E%3C/svg%3E\\\") left 0 top 0 #fff;\\n  background-color: #fff;\\n  display: flex;\\n  flex: 0 0 auto;\\n  flex-shrink: 0;\\n  flex-wrap: wrap;\\n  padding: 0 0;\\n}\\n.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed {\\n  height: 0;\\n  opacity: 0;\\n  padding-bottom: 0;\\n  padding-top: 0;\\n  visibility: hidden;\\n}\\n.tox .tox-toolbar__overflow--growing {\\n  transition: height 0.3s ease, opacity 0.2s linear 0.1s;\\n}\\n.tox .tox-toolbar__overflow--shrinking {\\n  transition: opacity 0.3s ease, height 0.2s linear 0.1s, visibility 0s linear 0.3s;\\n}\\n.tox .tox-menubar + .tox-toolbar,\\n.tox .tox-menubar + .tox-toolbar-overlord .tox-toolbar__primary {\\n  border-top: 1px solid #cccccc;\\n  margin-top: -1px;\\n}\\n.tox .tox-toolbar--scrolling {\\n  flex-wrap: nowrap;\\n  overflow-x: auto;\\n}\\n.tox .tox-pop .tox-toolbar {\\n  border-width: 0;\\n}\\n.tox .tox-toolbar--no-divider {\\n  background-image: none;\\n}\\n.tox-tinymce:not(.tox-tinymce-inline) .tox-editor-header:not(:first-child) .tox-toolbar:first-child,\\n.tox-tinymce:not(.tox-tinymce-inline) .tox-editor-header:not(:first-child) .tox-toolbar-overlord:first-child .tox-toolbar__primary {\\n  border-top: 1px solid #cccccc;\\n}\\n.tox.tox-tinymce-aux .tox-toolbar__overflow {\\n  background-color: #fff;\\n  border: 1px solid #cccccc;\\n  border-radius: 3px;\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\\n}\\n.tox .tox-toolbar__group {\\n  align-items: center;\\n  display: flex;\\n  flex-wrap: wrap;\\n  margin: 0 0;\\n  padding: 0 4px 0 4px;\\n}\\n.tox .tox-toolbar__group--pull-right {\\n  margin-left: auto;\\n}\\n.tox .tox-toolbar--scrolling .tox-toolbar__group {\\n  flex-shrink: 0;\\n  flex-wrap: nowrap;\\n}\\n.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type) {\\n  border-right: 1px solid #cccccc;\\n}\\n.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type) {\\n  border-left: 1px solid #cccccc;\\n}\\n.tox .tox-tooltip {\\n  display: inline-block;\\n  padding: 8px;\\n  position: relative;\\n}\\n.tox .tox-tooltip__body {\\n  background-color: #222f3e;\\n  border-radius: 3px;\\n  box-shadow: 0 2px 4px rgba(34, 47, 62, 0.3);\\n  color: rgba(255, 255, 255, 0.75);\\n  font-size: 14px;\\n  font-style: normal;\\n  font-weight: normal;\\n  padding: 4px 8px;\\n  text-transform: none;\\n}\\n.tox .tox-tooltip__arrow {\\n  position: absolute;\\n}\\n.tox .tox-tooltip--down .tox-tooltip__arrow {\\n  border-left: 8px solid transparent;\\n  border-right: 8px solid transparent;\\n  border-top: 8px solid #222f3e;\\n  bottom: 0;\\n  left: 50%;\\n  position: absolute;\\n  transform: translateX(-50%);\\n}\\n.tox .tox-tooltip--up .tox-tooltip__arrow {\\n  border-bottom: 8px solid #222f3e;\\n  border-left: 8px solid transparent;\\n  border-right: 8px solid transparent;\\n  left: 50%;\\n  position: absolute;\\n  top: 0;\\n  transform: translateX(-50%);\\n}\\n.tox .tox-tooltip--right .tox-tooltip__arrow {\\n  border-bottom: 8px solid transparent;\\n  border-left: 8px solid #222f3e;\\n  border-top: 8px solid transparent;\\n  position: absolute;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n.tox .tox-tooltip--left .tox-tooltip__arrow {\\n  border-bottom: 8px solid transparent;\\n  border-right: 8px solid #222f3e;\\n  border-top: 8px solid transparent;\\n  left: 0;\\n  position: absolute;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n.tox .tox-well {\\n  border: 1px solid #cccccc;\\n  border-radius: 3px;\\n  padding: 8px;\\n  width: 100%;\\n}\\n.tox .tox-well > *:first-child {\\n  margin-top: 0;\\n}\\n.tox .tox-well > *:last-child {\\n  margin-bottom: 0;\\n}\\n.tox .tox-well > *:only-child {\\n  margin: 0;\\n}\\n.tox .tox-custom-editor {\\n  border: 1px solid #cccccc;\\n  border-radius: 3px;\\n  display: flex;\\n  flex: 1;\\n  position: relative;\\n}\\n/* stylelint-disable */\\n.tox {\\n  /* stylelint-enable */\\n}\\n.tox .tox-dialog-loading::before {\\n  background-color: rgba(0, 0, 0, 0.5);\\n  content: \\\"\\\";\\n  height: 100%;\\n  position: absolute;\\n  width: 100%;\\n  z-index: 1000;\\n}\\n.tox .tox-tab {\\n  cursor: pointer;\\n}\\n.tox .tox-dialog__content-js {\\n  display: flex;\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n}\\n.tox .tox-dialog__body-content .tox-collection {\\n  display: flex;\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n}\\n.tox .tox-image-tools-edit-panel {\\n  height: 60px;\\n}\\n.tox .tox-image-tools__sidebar {\\n  height: 60px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../style-loader/dist/runtime/styleDomAPI.js\";\n      \n      import setAttributes from \"!../../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../css-loader/dist/cjs.js!../../../../sass-loader/dist/cjs.js!./content.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = function top_head_insert(el) {\n    // Insert element at the top of <head>\n    // Used for injecting CSS via webpack before any other CSS\n    // Note:\n    // Keep code compatible with IE11 as long as we support it.\n    var first_child = document.head.querySelectorAll(\"*\")[0];\n    if (first_child) {\n        document.head.insertBefore(el, first_child);\n    } else {\n        document.head.append(el);\n    }\n};\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../css-loader/dist/cjs.js!../../../../sass-loader/dist/cjs.js!./content.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../style-loader/dist/runtime/styleDomAPI.js\";\n      \n      import setAttributes from \"!../../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../css-loader/dist/cjs.js!../../../../sass-loader/dist/cjs.js!./skin.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = function top_head_insert(el) {\n    // Insert element at the top of <head>\n    // Used for injecting CSS via webpack before any other CSS\n    // Note:\n    // Keep code compatible with IE11 as long as we support it.\n    var first_child = document.head.querySelectorAll(\"*\")[0];\n    if (first_child) {\n        document.head.insertBefore(el, first_child);\n    } else {\n        document.head.append(el);\n    }\n};\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../css-loader/dist/cjs.js!../../../../sass-loader/dist/cjs.js!./skin.css\";\n       export default content && content.locals ? content.locals : undefined;\n","tinymce.IconManager.add('default', {\n  icons: {\n    'accessibility-check': '<svg width=\"24\" height=\"24\"><path d=\"M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z\" fill-rule=\"nonzero\"/></svg>',\n    'action-next': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z\"/></svg>',\n    'action-prev': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z\"/></svg>',\n    'align-center': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'align-justify': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'align-left': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'align-none': '<svg width=\"24\" height=\"24\"><path d=\"M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z\" fill-rule=\"evenodd\"/></svg>',\n    'align-right': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'arrow-left': '<svg width=\"24\" height=\"24\"><path d=\"M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z\" fill-rule=\"evenodd\"/></svg>',\n    'arrow-right': '<svg width=\"24\" height=\"24\"><path d=\"M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z\" fill-rule=\"evenodd\"/></svg>',\n    'bold': '<svg width=\"24\" height=\"24\"><path d=\"M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z\" fill-rule=\"evenodd\"/></svg>',\n    'bookmark': '<svg width=\"24\" height=\"24\"><path d=\"M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z\" fill-rule=\"nonzero\"/></svg>',\n    'border-style': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><rect width=\"18\" height=\"2\" x=\"3\" y=\"6\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"3\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"6.8\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"10.6\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"14.4\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"18.2\" y=\"16\" rx=\"1\"/><rect width=\"8\" height=\"2\" x=\"3\" y=\"11\" rx=\"1\"/><rect width=\"8\" height=\"2\" x=\"13\" y=\"11\" rx=\"1\"/></g></svg>',\n    'border-width': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><rect width=\"18\" height=\"5\" x=\"3\" y=\"5\" rx=\"1\"/><rect width=\"18\" height=\"3.5\" x=\"3\" y=\"11.5\" rx=\"1\"/><rect width=\"18\" height=\"2\" x=\"3\" y=\"17\" rx=\"1\"/></g></svg>',\n    'brightness': '<svg width=\"24\" height=\"24\"><path d=\"M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z\" fill-rule=\"evenodd\"/></svg>',\n    'browse': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z\" fill-rule=\"nonzero\"/></svg>',\n    'cancel': '<svg width=\"24\" height=\"24\"><path d=\"M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z\" fill-rule=\"nonzero\"/></svg>',\n    'cell-background-color': '<svg width=\"24\" height=\"24\"><path d=\"M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z\"/></svg>',\n    'cell-border-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z\" opacity=\".2\"/><path fill-rule=\"nonzero\" d=\"M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z\"/><path d=\"M13 11l-2 2H5v-2h6V6h2z\"/><path fill-rule=\"nonzero\" d=\"M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z\"/></g></svg>',\n    'change-case': '<svg width=\"24\" height=\"24\"><path d=\"M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z\" fill-rule=\"evenodd\"/></svg>',\n    'character-count': '<svg width=\"24\" height=\"24\"><path d=\"M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z\" fill-rule=\"evenodd\"/></svg>',\n    'checklist-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z\" fill-rule=\"evenodd\"/></svg>',\n    'checklist': '<svg width=\"24\" height=\"24\"><path d=\"M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z\" fill-rule=\"evenodd\"/></svg>',\n    'checkmark': '<svg width=\"24\" height=\"24\"><path d=\"M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-down': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-left': '<svg width=\"10\" height=\"10\"><path d=\"M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-right': '<svg width=\"10\" height=\"10\"><path d=\"M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-up': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z\" fill-rule=\"nonzero\"/></svg>',\n    'close': '<svg width=\"24\" height=\"24\"><path d=\"M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z\" fill-rule=\"evenodd\"/></svg>',\n    'code-sample': '<svg width=\"24\" height=\"26\"><path d=\"M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z\" fill-rule=\"evenodd\"/></svg>',\n    'color-levels': '<svg width=\"24\" height=\"24\"><path d=\"M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z\" fill-rule=\"evenodd\"/></svg>',\n    'color-picker': '<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z\" fill-rule=\"nonzero\"/></svg>',\n    'color-swatch-remove-color': '<svg width=\"24\" height=\"24\"><path stroke=\"#000\" stroke-width=\"2\" d=\"M21 3L3 21\" fill-rule=\"evenodd\"/></svg>',\n    'color-swatch': '<svg width=\"24\" height=\"24\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"1\" fill-rule=\"evenodd\"/></svg>',\n    'comment-add': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z\"/><path d=\"M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z\"/></g></svg>',\n    'comment': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z\"/></svg>',\n    'contrast': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z\" fill-rule=\"evenodd\"/></svg>',\n    'copy': '<svg width=\"24\" height=\"24\"><path d=\"M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z\" fill-rule=\"nonzero\"/></svg>',\n    'crop': '<svg width=\"24\" height=\"24\"><path d=\"M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z\" fill-rule=\"evenodd\"/></svg>',\n    'cut-column': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z\"/></svg>',\n    'cut-row': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z\"/></svg>',\n    'cut': '<svg width=\"24\" height=\"24\"><path d=\"M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z\" fill-rule=\"evenodd\"/></svg>',\n    'document-properties': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z\" fill-rule=\"nonzero\"/></svg>',\n    'drag': '<svg width=\"24\" height=\"24\"><path d=\"M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z\" fill-rule=\"evenodd\"/></svg>',\n    'duplicate-column': '<svg width=\"24\" height=\"24\"><path d=\"M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z\"/></svg>',\n    'duplicate-row': '<svg width=\"24\" height=\"24\"><path d=\"M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z\"/></svg>',\n    'duplicate': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z\"/><path d=\"M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z\"/></g></svg>',\n    'edit-block': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z\"/></svg>',\n    'edit-image': '<svg width=\"24\" height=\"24\"><path d=\"M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z\" fill-rule=\"nonzero\"/></svg>',\n    'embed-page': '<svg width=\"24\" height=\"24\"><path d=\"M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z\" fill-rule=\"nonzero\"/></svg>',\n    'embed': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z\" fill-rule=\"nonzero\"/></svg>',\n    'emoji': '<svg width=\"24\" height=\"24\"><path d=\"M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z\" fill-rule=\"nonzero\"/></svg>',\n    'export': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z\"/><path d=\"M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z\"/><path d=\"M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z\"/></g></svg>',\n    'fill': '<svg width=\"24\" height=\"26\"><path d=\"M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z\" fill-rule=\"nonzero\"/></svg>',\n    'flip-horizontally': '<svg width=\"24\" height=\"24\"><path d=\"M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z\" fill-rule=\"nonzero\"/></svg>',\n    'flip-vertically': '<svg width=\"24\" height=\"24\"><path d=\"M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z\" fill-rule=\"nonzero\"/></svg>',\n    'format-painter': '<svg width=\"24\" height=\"24\"><path d=\"M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z\" fill-rule=\"nonzero\"/></svg>',\n    'format': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z\"/></svg>',\n    'fullscreen': '<svg width=\"24\" height=\"24\"><path d=\"M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z\" fill-rule=\"nonzero\"/></svg>',\n    'gallery': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z\"/></svg>',\n    'gamma': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z\" fill-rule=\"nonzero\"/></svg>',\n    'help': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z\"/><path d=\"M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z\" fill-rule=\"nonzero\"/><circle cx=\"12\" cy=\"16\" r=\"1\"/></g></svg>',\n    'highlight-bg-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path id=\"tox-icon-highlight-bg-color__color\" d=\"M3 18h18v3H3z\"/><path fill-rule=\"nonzero\" d=\"M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6\"/></g></svg>',\n    'home': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"/></svg>',\n    'horizontal-rule': '<svg width=\"24\" height=\"24\"><path d=\"M4 11h16v2H4z\" fill-rule=\"evenodd\"/></svg>',\n    'image-options': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z\" fill-rule=\"nonzero\"/></svg>',\n    'image': '<svg width=\"24\" height=\"24\"><path d=\"M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z\" fill-rule=\"nonzero\"/></svg>',\n    'indent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z\" fill-rule=\"evenodd\"/></svg>',\n    'info': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z\" fill-rule=\"evenodd\"/></svg>',\n    'insert-character': '<svg width=\"24\" height=\"24\"><path d=\"M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z\" fill-rule=\"evenodd\"/></svg>',\n    'insert-time': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z\"/><path d=\"M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z\"/></g></svg>',\n    'invert': '<svg width=\"24\" height=\"24\"><path d=\"M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z\" fill-rule=\"evenodd\"/></svg>',\n    'italic': '<svg width=\"24\" height=\"24\"><path d=\"M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z\" fill-rule=\"evenodd\"/></svg>',\n    'language': '<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z\"/></svg>',\n    'line-height': '<svg width=\"24\" height=\"24\"><path d=\"M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z\"/></svg>',\n    'line': '<svg width=\"24\" height=\"24\"><path d=\"M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z\" fill-rule=\"evenodd\"/></svg>',\n    'link': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z\" fill-rule=\"nonzero\"/></svg>',\n    'list-bull-circle': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z\" fill-rule=\"nonzero\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-bull-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><circle cx=\"11\" cy=\"14\" r=\"3\"/><circle cx=\"11\" cy=\"24\" r=\"3\"/><circle cx=\"11\" cy=\"34\" r=\"3\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-bull-square': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-num-default-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z\"/></g></svg>',\n    'list-num-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z\"/></g></svg>',\n    'list-num-lower-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-greek-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-greek': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z\"/><path fill-rule=\"nonzero\" d=\"M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z\"/></g></svg>',\n    'list-num-lower-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z\"/><path fill-rule=\"nonzero\" d=\"M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z\"/></g></svg>',\n    'list-num-upper-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-upper-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-upper-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z\"/><path fill-rule=\"nonzero\" d=\"M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z\"/></g></svg>',\n    'list-num-upper-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z\"/><path fill-rule=\"nonzero\" d=\"M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z\"/></g></svg>',\n    'lock': '<svg width=\"24\" height=\"24\"><path d=\"M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z\" fill-rule=\"evenodd\"/></svg>',\n    'ltr': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z\" fill-rule=\"evenodd\"/></svg>',\n    'more-drawer': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z\" fill-rule=\"nonzero\"/></svg>',\n    'new-document': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z\" fill-rule=\"nonzero\"/></svg>',\n    'new-tab': '<svg width=\"24\" height=\"24\"><path d=\"M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z\" fill-rule=\"evenodd\"/></svg>',\n    'non-breaking': '<svg width=\"24\" height=\"24\"><path d=\"M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z\" fill-rule=\"evenodd\"/></svg>',\n    'notice': '<svg width=\"24\" height=\"24\"><path d=\"M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z\" fill-rule=\"evenodd\"/></svg>',\n    'ordered-list-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z\" fill-rule=\"evenodd\"/></svg>',\n    'ordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z\" fill-rule=\"evenodd\"/></svg>',\n    'orientation': '<svg width=\"24\" height=\"24\"><path d=\"M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z\" fill-rule=\"nonzero\"/></svg>',\n    'outdent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z\" fill-rule=\"evenodd\"/></svg>',\n    'page-break': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z\"/></g></svg>',\n    'paragraph': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z\"/></svg>',\n    'paste-column-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z\"/></svg>',\n    'paste-column-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z\"/></svg>',\n    'paste-row-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z\"/></svg>',\n    'paste-row-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z\"/></svg>',\n    'paste-text': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z\" fill-rule=\"nonzero\"/></svg>',\n    'paste': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z\" fill-rule=\"nonzero\"/></svg>',\n    'permanent-pen': '<svg width=\"24\" height=\"24\"><path d=\"M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z\" fill-rule=\"nonzero\"/></svg>',\n    'plus': '<svg width=\"24\" height=\"24\"><path d=\"M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z\"/></svg>',\n    'preferences': '<svg width=\"24\" height=\"24\"><path d=\"M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z\" fill-rule=\"evenodd\"/></svg>',\n    'preview': '<svg width=\"24\" height=\"24\"><path d=\"M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z\" fill-rule=\"nonzero\"/></svg>',\n    'print': '<svg width=\"24\" height=\"24\"><path d=\"M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z\" fill-rule=\"nonzero\"/></svg>',\n    'quote': '<svg width=\"24\" height=\"24\"><path d=\"M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z\" fill-rule=\"nonzero\"/></svg>',\n    'redo': '<svg width=\"24\" height=\"24\"><path d=\"M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z\" fill-rule=\"nonzero\"/></svg>',\n    'reload': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z\"/></g></svg>',\n    'remove-formatting': '<svg width=\"24\" height=\"24\"><path d=\"M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z\" fill-rule=\"evenodd\"/></svg>',\n    'remove': '<svg width=\"24\" height=\"24\"><path d=\"M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z\" fill-rule=\"nonzero\"/></svg>',\n    'resize-handle': '<svg width=\"10\" height=\"10\"><g fill-rule=\"nonzero\"><path d=\"M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z\"/></g></svg>',\n    'resize': '<svg width=\"24\" height=\"24\"><path d=\"M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z\" fill-rule=\"evenodd\"/></svg>',\n    'restore-draft': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z\"/><path d=\"M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z\" fill-rule=\"nonzero\"/></g></svg>',\n    'rotate-left': '<svg width=\"24\" height=\"24\"><path d=\"M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z\" fill-rule=\"nonzero\"/></svg>',\n    'rotate-right': '<svg width=\"24\" height=\"24\"><path d=\"M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z\" fill-rule=\"nonzero\"/></svg>',\n    'rtl': '<svg width=\"24\" height=\"24\"><path d=\"M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z\" fill-rule=\"evenodd\"/></svg>',\n    'save': '<svg width=\"24\" height=\"24\"><path d=\"M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z\" fill-rule=\"nonzero\"/></svg>',\n    'search': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z\" fill-rule=\"nonzero\"/></svg>',\n    'select-all': '<svg width=\"24\" height=\"24\"><path d=\"M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z\" fill-rule=\"nonzero\"/></svg>',\n    'selected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z\"/></svg>',\n    'settings': '<svg width=\"24\" height=\"24\"><path d=\"M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z\" fill-rule=\"evenodd\"/></svg>',\n    'sharpen': '<svg width=\"24\" height=\"24\"><path d=\"M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z\" fill-rule=\"evenodd\"/></svg>',\n    'sourcecode': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z\"/></g></svg>',\n    'spell-check': '<svg width=\"24\" height=\"24\"><path d=\"M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z\" fill-rule=\"evenodd\"/></svg>',\n    'strike-through': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z\"/><path d=\"M5 11h14a1 1 0 010 2H5a1 1 0 010-2z\" fill-rule=\"nonzero\"/></g></svg>',\n    'subscript': '<svg width=\"24\" height=\"24\"><path d=\"M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z\" fill-rule=\"nonzero\"/></svg>',\n    'superscript': '<svg width=\"24\" height=\"24\"><path d=\"M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z\" fill-rule=\"nonzero\"/></svg>',\n    'table-caption': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><rect width=\"12\" height=\"2\" x=\"3\" y=\"4\" rx=\"1\"/><path d=\"M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z\"/></g></svg>',\n    'table-cell-classes': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z\"/><path fill-rule=\"nonzero\" d=\"M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z\" opacity=\".2\"/><path d=\"M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z\"/><path fill-rule=\"nonzero\" d=\"M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z\" opacity=\".2\"/></g></svg>',\n    'table-cell-properties': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z\"/></svg>',\n    'table-cell-select-all': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z\"/><path d=\"M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z\" opacity=\".2\"/></g></svg>',\n    'table-cell-select-inner': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z\" opacity=\".2\"/><path d=\"M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z\"/></g></svg>',\n    'table-classes': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z\"/><path d=\"M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z\"/></g></svg>',\n    'table-delete-column': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z\"/></svg>',\n    'table-delete-row': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z\"/></svg>',\n    'table-delete-table': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z\"/><path d=\"M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z\"/></g></svg>',\n    'table-insert-column-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z\"/></svg>',\n    'table-insert-column-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z\"/></svg>',\n    'table-insert-row-above': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z\"/></svg>',\n    'table-insert-row-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z\"/></svg>',\n    'table-left-header': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z\"/></svg>',\n    'table-merge-cells': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z\"/></svg>',\n    'table-row-numbering-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z\"/></svg>',\n    'table-row-numbering': '<svg width=\"24\" height=\"24\"><path d=\"M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z\"/></svg>',\n    'table-row-properties': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z\"/></svg>',\n    'table-split-cells': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z\"/></svg>',\n    'table-top-header': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z\"/></svg>',\n    'table': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z\"/></svg>',\n    'template': '<svg width=\"24\" height=\"24\"><path d=\"M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z\" fill-rule=\"nonzero\"/></svg>',\n    'temporary-placeholder': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z\"/><circle cx=\"14\" cy=\"4\" r=\"1\"/><circle cx=\"12\" cy=\"2\" r=\"1\"/><circle cx=\"10\" cy=\"4\" r=\"1\"/></g></svg>',\n    'text-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path id=\"tox-icon-text-color__color\" d=\"M3 18h18v3H3z\"/><path d=\"M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z\"/></g></svg>',\n    'toc': '<svg width=\"24\" height=\"24\"><path d=\"M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'translate': '<svg width=\"24\" height=\"24\"><path d=\"M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z\" fill-rule=\"evenodd\"/></svg>',\n    'underline': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'undo': '<svg width=\"24\" height=\"24\"><path d=\"M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z\" fill-rule=\"nonzero\"/></svg>',\n    'unlink': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z\" fill-rule=\"nonzero\"/></svg>',\n    'unlock': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z\" fill-rule=\"evenodd\"/></svg>',\n    'unordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z\" fill-rule=\"evenodd\"/></svg>',\n    'unselected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z\"/></svg>',\n    'upload': '<svg width=\"24\" height=\"24\"><path d=\"M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z\" fill-rule=\"nonzero\"/></svg>',\n    'user': '<svg width=\"24\" height=\"24\"><path d=\"M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z\" fill-rule=\"nonzero\"/></svg>',\n    'vertical-align': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><rect width=\"18\" height=\"2\" x=\"3\" y=\"11\" rx=\"1\"/><path d=\"M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z\"/></g></svg>',\n    'visualblocks': '<svg width=\"24\" height=\"24\"><path d=\"M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z\" fill-rule=\"evenodd\"/></svg>',\n    'visualchars': '<svg width=\"24\" height=\"24\"><path d=\"M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z\" fill-rule=\"evenodd\"/></svg>',\n    'warning': '<svg width=\"24\" height=\"24\"><path d=\"M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z\" fill-rule=\"evenodd\"/></svg>',\n    'zoom-in': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z\" fill-rule=\"nonzero\"/></svg>',\n    'zoom-out': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z\" fill-rule=\"nonzero\"/></svg>',\n  }\n});","// Exports the \"default\" icons for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/icons/default')\n//   ES2015:\n//     import 'tinymce/icons/default'\nrequire('./icons.js');","// Exports the \"silver\" theme for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/themes/silver')\n//   ES2015:\n//     import 'tinymce/themes/silver'\nrequire('./theme.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.4 (2022-04-27)\n */\n(function () {\n    'use strict';\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType$1 = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var eq$1 = function (t) {\n      return function (a) {\n        return t === a;\n      };\n    };\n    var isString = isType$1('string');\n    var isObject = isType$1('object');\n    var isArray = isType$1('array');\n    var isNull = eq$1(null);\n    var isBoolean = isSimpleType('boolean');\n    var isUndefined = eq$1(undefined);\n    var isNullable = function (a) {\n      return a === null || a === undefined;\n    };\n    var isNonNullable = function (a) {\n      return !isNullable(a);\n    };\n    var isFunction = isSimpleType('function');\n    var isNumber = isSimpleType('number');\n    var isArrayOf = function (value, pred) {\n      if (isArray(value)) {\n        for (var i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    var noop = function () {\n    };\n    var noarg = function (f) {\n      return function () {\n        return f();\n      };\n    };\n    var compose = function (fa, fb) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return fa(fb.apply(null, args));\n      };\n    };\n    var compose1 = function (fbc, fab) {\n      return function (a) {\n        return fbc(fab(a));\n      };\n    };\n    var constant$1 = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity$1 = function (x) {\n      return x;\n    };\n    var tripleEquals = function (a, b) {\n      return a === b;\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var not = function (f) {\n      return function (t) {\n        return !f(t);\n      };\n    };\n    var die = function (msg) {\n      return function () {\n        throw new Error(msg);\n      };\n    };\n    var never = constant$1(false);\n    var always = constant$1(true);\n\n    var global$g = tinymce.util.Tools.resolve('tinymce.ThemeManager');\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n    function __rest(s, e) {\n      var t = {};\n      for (var p in s)\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n          t[p] = s[p];\n      if (s != null && typeof Object.getOwnPropertySymbols === 'function')\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n            t[p[i]] = s[p[i]];\n        }\n      return t;\n    }\n    function __spreadArray(to, from, pack) {\n      if (pack || arguments.length === 2)\n        for (var i = 0, l = from.length, ar; i < l; i++) {\n          if (ar || !(i in from)) {\n            if (!ar)\n              ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n          }\n        }\n      return to.concat(ar || Array.prototype.slice.call(from));\n    }\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity$1;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant$1(null),\n        getOrUndefined: constant$1(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant$1('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant$1(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from$1 = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from$1\n    };\n\n    var nativeSlice = Array.prototype.slice;\n    var nativeIndexOf = Array.prototype.indexOf;\n    var nativePush = Array.prototype.push;\n    var rawIndexOf = function (ts, t) {\n      return nativeIndexOf.call(ts, t);\n    };\n    var indexOf = function (xs, x) {\n      var r = rawIndexOf(xs, x);\n      return r === -1 ? Optional.none() : Optional.some(r);\n    };\n    var contains$2 = function (xs, x) {\n      return rawIndexOf(xs, x) > -1;\n    };\n    var exists = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var range$2 = function (num, f) {\n      var r = [];\n      for (var i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    var chunk$1 = function (array, size) {\n      var r = [];\n      for (var i = 0; i < array.length; i += size) {\n        var s = nativeSlice.call(array, i, i + size);\n        r.push(s);\n      }\n      return r;\n    };\n    var map$2 = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each$1 = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var eachr = function (xs, f) {\n      for (var i = xs.length - 1; i >= 0; i--) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var partition$3 = function (xs, pred) {\n      var pass = [];\n      var fail = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        var arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass: pass,\n        fail: fail\n      };\n    };\n    var filter$2 = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var foldr = function (xs, f, acc) {\n      eachr(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var foldl = function (xs, f, acc) {\n      each$1(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var findUntil = function (xs, pred, until) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var find$5 = function (xs, pred) {\n      return findUntil(xs, pred, never);\n    };\n    var findIndex$1 = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind$3 = function (xs, f) {\n      return flatten(map$2(xs, f));\n    };\n    var forall = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        var x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    var reverse = function (xs) {\n      var r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    var difference = function (a1, a2) {\n      return filter$2(a1, function (x) {\n        return !contains$2(a2, x);\n      });\n    };\n    var mapToObject = function (xs, f) {\n      var r = {};\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    var pure$2 = function (x) {\n      return [x];\n    };\n    var sort = function (xs, comparator) {\n      var copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    var get$f = function (xs, i) {\n      return i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    };\n    var head = function (xs) {\n      return get$f(xs, 0);\n    };\n    var last$2 = function (xs) {\n      return get$f(xs, xs.length - 1);\n    };\n    var from = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n    var findMap = function (arr, f) {\n      for (var i = 0; i < arr.length; i++) {\n        var r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    var keys = Object.keys;\n    var hasOwnProperty = Object.hasOwnProperty;\n    var each = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n    var map$1 = function (obj, f) {\n      return tupleMap(obj, function (x, i) {\n        return {\n          k: i,\n          v: f(x, i)\n        };\n      });\n    };\n    var tupleMap = function (obj, f) {\n      var r = {};\n      each(obj, function (x, i) {\n        var tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    var objAcc = function (r) {\n      return function (x, i) {\n        r[i] = x;\n      };\n    };\n    var internalFilter = function (obj, pred, onTrue, onFalse) {\n      var r = {};\n      each(obj, function (x, i) {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    var filter$1 = function (obj, pred) {\n      var t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    var mapToArray = function (obj, f) {\n      var r = [];\n      each(obj, function (value, name) {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    var find$4 = function (obj, pred) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        if (pred(x, i, obj)) {\n          return Optional.some(x);\n        }\n      }\n      return Optional.none();\n    };\n    var values = function (obj) {\n      return mapToArray(obj, identity$1);\n    };\n    var get$e = function (obj, key) {\n      return has$2(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    var has$2 = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n    var hasNonNullableKey = function (obj, key) {\n      return has$2(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    };\n\n    var is$1 = function (lhs, rhs, comparator) {\n      if (comparator === void 0) {\n        comparator = tripleEquals;\n      }\n      return lhs.exists(function (left) {\n        return comparator(left, rhs);\n      });\n    };\n    var equals = function (lhs, rhs, comparator) {\n      if (comparator === void 0) {\n        comparator = tripleEquals;\n      }\n      return lift2(lhs, rhs, comparator).getOr(lhs.isNone() && rhs.isNone());\n    };\n    var cat = function (arr) {\n      var r = [];\n      var push = function (x) {\n        r.push(x);\n      };\n      for (var i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    var sequence = function (arr) {\n      var r = [];\n      for (var i = 0; i < arr.length; i++) {\n        var x = arr[i];\n        if (x.isSome()) {\n          r.push(x.getOrDie());\n        } else {\n          return Optional.none();\n        }\n      }\n      return Optional.some(r);\n    };\n    var lift2 = function (oa, ob, f) {\n      return oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    };\n    var lift3 = function (oa, ob, oc, f) {\n      return oa.isSome() && ob.isSome() && oc.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie(), oc.getOrDie())) : Optional.none();\n    };\n    var mapFrom = function (a, f) {\n      return a !== undefined && a !== null ? Optional.some(f(a)) : Optional.none();\n    };\n    var someIf = function (b, a) {\n      return b ? Optional.some(a) : Optional.none();\n    };\n\n    var addToEnd = function (str, suffix) {\n      return str + suffix;\n    };\n    var removeFromStart = function (str, numChars) {\n      return str.substring(numChars);\n    };\n\n    var checkRange = function (str, substr, start) {\n      return substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    };\n    var removeLeading = function (str, prefix) {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    var ensureTrailing = function (str, suffix) {\n      return endsWith(str, suffix) ? str : addToEnd(str, suffix);\n    };\n    var contains$1 = function (str, substr) {\n      return str.indexOf(substr) !== -1;\n    };\n    var startsWith = function (str, prefix) {\n      return checkRange(str, prefix, 0);\n    };\n    var endsWith = function (str, suffix) {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    var blank = function (r) {\n      return function (s) {\n        return s.replace(r, '');\n      };\n    };\n    var trim$1 = blank(/^\\s+|\\s+$/g);\n    var isNotEmpty = function (s) {\n      return s.length > 0;\n    };\n    var isEmpty = function (s) {\n      return !isNotEmpty(s);\n    };\n\n    var isSupported$1 = function (dom) {\n      return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n    };\n\n    var fromHtml$2 = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml$2,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var DOCUMENT = 9;\n    var DOCUMENT_FRAGMENT = 11;\n    var ELEMENT = 1;\n    var TEXT = 3;\n\n    var name$2 = function (element) {\n      var r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    var type = function (element) {\n      return element.dom.nodeType;\n    };\n    var isType = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isElement$2 = isType(ELEMENT);\n    var isText$1 = isType(TEXT);\n    var isDocument = isType(DOCUMENT);\n    var isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n\n    var cached = function (f) {\n      var called = false;\n      var r;\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    var DeviceType = function (os, browser, userAgent, mediaMatch) {\n      var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      var isiPhone = os.isiOS() && !isiPad;\n      var isMobile = os.isiOS() || os.isAndroid();\n      var isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      var isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      var isPhone = isiPhone || isMobile && !isTablet;\n      var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      var isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant$1(isiPad),\n        isiPhone: constant$1(isiPhone),\n        isTablet: constant$1(isTablet),\n        isPhone: constant$1(isPhone),\n        isTouch: constant$1(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant$1(iOSwebview),\n        isDesktop: constant$1(isDesktop)\n      };\n    };\n\n    var firstMatch = function (regexes, s) {\n      for (var i = 0; i < regexes.length; i++) {\n        var x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    var find$3 = function (regexes, agent) {\n      var r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      var group = function (i) {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$d(group(1), group(2));\n    };\n    var detect$4 = function (versionRegexes, agent) {\n      var cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$3();\n      }\n      return find$3(versionRegexes, cleanedAgent);\n    };\n    var unknown$3 = function () {\n      return nu$d(0, 0);\n    };\n    var nu$d = function (major, minor) {\n      return {\n        major: major,\n        minor: minor\n      };\n    };\n    var Version = {\n      nu: nu$d,\n      detect: detect$4,\n      unknown: unknown$3\n    };\n\n    var detectBrowser$1 = function (browsers, userAgentData) {\n      return findMap(userAgentData.brands, function (uaBrand) {\n        var lcBrand = uaBrand.brand.toLowerCase();\n        return find$5(browsers, function (browser) {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(function (info) {\n          return {\n            current: info.name,\n            version: Version.nu(parseInt(uaBrand.version, 10), 0)\n          };\n        });\n      });\n    };\n\n    var detect$3 = function (candidates, userAgent) {\n      var agent = String(userAgent).toLowerCase();\n      return find$5(candidates, function (candidate) {\n        return candidate.search(agent);\n      });\n    };\n    var detectBrowser = function (browsers, userAgent) {\n      return detect$3(browsers, userAgent).map(function (browser) {\n        var version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version: version\n        };\n      });\n    };\n    var detectOs = function (oses, userAgent) {\n      return detect$3(oses, userAgent).map(function (os) {\n        var version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version: version\n        };\n      });\n    };\n\n    var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    var checkContains = function (target) {\n      return function (uastring) {\n        return contains$1(uastring, target);\n      };\n    };\n    var browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: function (uastring) {\n          return contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chrome',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: function (uastring) {\n          return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n        }\n      }\n    ];\n    var oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: function (uastring) {\n          return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'OSX',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    var PlatformInfo = {\n      browsers: constant$1(browsers),\n      oses: constant$1(oses)\n    };\n\n    var edge = 'Edge';\n    var chrome = 'Chrome';\n    var ie = 'IE';\n    var opera = 'Opera';\n    var firefox = 'Firefox';\n    var safari = 'Safari';\n    var unknown$2 = function () {\n      return nu$c({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$c = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isBrowser = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isEdge: isBrowser(edge),\n        isChrome: isBrowser(chrome),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    var Browser = {\n      unknown: unknown$2,\n      nu: nu$c,\n      edge: constant$1(edge),\n      chrome: constant$1(chrome),\n      ie: constant$1(ie),\n      opera: constant$1(opera),\n      firefox: constant$1(firefox),\n      safari: constant$1(safari)\n    };\n\n    var windows = 'Windows';\n    var ios = 'iOS';\n    var android = 'Android';\n    var linux = 'Linux';\n    var osx = 'OSX';\n    var solaris = 'Solaris';\n    var freebsd = 'FreeBSD';\n    var chromeos = 'ChromeOS';\n    var unknown$1 = function () {\n      return nu$b({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$b = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isOS = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isOSX: isOS(osx),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    var OperatingSystem = {\n      unknown: unknown$1,\n      nu: nu$b,\n      windows: constant$1(windows),\n      ios: constant$1(ios),\n      android: constant$1(android),\n      linux: constant$1(linux),\n      osx: constant$1(osx),\n      solaris: constant$1(solaris),\n      freebsd: constant$1(freebsd),\n      chromeos: constant$1(chromeos)\n    };\n\n    var detect$2 = function (userAgent, userAgentDataOpt, mediaMatch) {\n      var browsers = PlatformInfo.browsers();\n      var oses = PlatformInfo.oses();\n      var browser = userAgentDataOpt.bind(function (userAgentData) {\n        return detectBrowser$1(browsers, userAgentData);\n      }).orThunk(function () {\n        return detectBrowser(browsers, userAgent);\n      }).fold(Browser.unknown, Browser.nu);\n      var os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      var deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser: browser,\n        os: os,\n        deviceType: deviceType\n      };\n    };\n    var PlatformDetection = { detect: detect$2 };\n\n    var mediaMatch = function (query) {\n      return window.matchMedia(query).matches;\n    };\n    var platform = cached(function () {\n      return PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch);\n    });\n    var detect$1 = function () {\n      return platform();\n    };\n\n    var compareDocumentPosition = function (a, b, match) {\n      return (a.compareDocumentPosition(b) & match) !== 0;\n    };\n    var documentPositionContainedBy = function (a, b) {\n      return compareDocumentPosition(a, b, Node.DOCUMENT_POSITION_CONTAINED_BY);\n    };\n\n    var is = function (element, selector) {\n      var dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        var elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    var bypassSelector = function (dom) {\n      return dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    };\n    var all$3 = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$2(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    var one = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    var eq = function (e1, e2) {\n      return e1.dom === e2.dom;\n    };\n    var regularContains = function (e1, e2) {\n      var d1 = e1.dom;\n      var d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    var ieContains = function (e1, e2) {\n      return documentPositionContainedBy(e1.dom, e2.dom);\n    };\n    var contains = function (e1, e2) {\n      return detect$1().browser.isIE() ? ieContains(e1, e2) : regularContains(e1, e2);\n    };\n\n    var owner$4 = function (element) {\n      return SugarElement.fromDom(element.dom.ownerDocument);\n    };\n    var documentOrOwner = function (dos) {\n      return isDocument(dos) ? dos : owner$4(dos);\n    };\n    var documentElement = function (element) {\n      return SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    };\n    var defaultView = function (element) {\n      return SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    };\n    var parent = function (element) {\n      return Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    };\n    var parentNode = function (element) {\n      return parent(element);\n    };\n    var offsetParent = function (element) {\n      return Optional.from(element.dom.offsetParent).map(SugarElement.fromDom);\n    };\n    var nextSibling = function (element) {\n      return Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    };\n    var children = function (element) {\n      return map$2(element.dom.childNodes, SugarElement.fromDom);\n    };\n    var child$2 = function (element, index) {\n      var cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    var firstChild = function (element) {\n      return child$2(element, 0);\n    };\n    var spot = function (element, offset) {\n      return {\n        element: element,\n        offset: offset\n      };\n    };\n    var leaf = function (element, offset) {\n      var cs = children(element);\n      return cs.length > 0 && offset < cs.length ? spot(cs[offset], 0) : spot(element, offset);\n    };\n\n    var isShadowRoot = function (dos) {\n      return isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    };\n    var supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    var isSupported = constant$1(supported);\n    var getRootNode = supported ? function (e) {\n      return SugarElement.fromDom(e.dom.getRootNode());\n    } : documentOrOwner;\n    var getContentContainer = function (dos) {\n      return isShadowRoot(dos) ? dos : SugarElement.fromDom(documentOrOwner(dos).dom.body);\n    };\n    var isInShadowRoot = function (e) {\n      return getShadowRoot(e).isSome();\n    };\n    var getShadowRoot = function (e) {\n      var r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    var getShadowHost = function (e) {\n      return SugarElement.fromDom(e.dom.host);\n    };\n    var getOriginalEventTarget = function (event) {\n      if (isSupported() && isNonNullable(event.target)) {\n        var el = SugarElement.fromDom(event.target);\n        if (isElement$2(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            var composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    var isOpenShadowHost = function (element) {\n      return isNonNullable(element.dom.shadowRoot);\n    };\n\n    var inBody = function (element) {\n      var dom = isText$1(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      var doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(function () {\n        return doc.body.contains(dom);\n      }, compose1(inBody, getShadowHost));\n    };\n    var body = function () {\n      return getBody(SugarElement.fromDom(document));\n    };\n    var getBody = function (doc) {\n      var b = doc.dom.body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set$8 = function (element, key, value) {\n      rawSet(element.dom, key, value);\n    };\n    var setAll$1 = function (element, attrs) {\n      var dom = element.dom;\n      each(attrs, function (v, k) {\n        rawSet(dom, k, v);\n      });\n    };\n    var get$d = function (element, key) {\n      var v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    var getOpt = function (element, key) {\n      return Optional.from(get$d(element, key));\n    };\n    var has$1 = function (element, key) {\n      var dom = element.dom;\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n    };\n    var remove$7 = function (element, key) {\n      element.dom.removeAttribute(key);\n    };\n\n    var internalSet = function (dom, property, value) {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported$1(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    var internalRemove = function (dom, property) {\n      if (isSupported$1(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    var set$7 = function (element, property, value) {\n      var dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    var setAll = function (element, css) {\n      var dom = element.dom;\n      each(css, function (v, k) {\n        internalSet(dom, k, v);\n      });\n    };\n    var setOptions = function (element, css) {\n      var dom = element.dom;\n      each(css, function (v, k) {\n        v.fold(function () {\n          internalRemove(dom, k);\n        }, function (value) {\n          internalSet(dom, k, value);\n        });\n      });\n    };\n    var get$c = function (element, property) {\n      var dom = element.dom;\n      var styles = window.getComputedStyle(dom);\n      var r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    var getUnsafeProperty = function (dom, property) {\n      return isSupported$1(dom) ? dom.style.getPropertyValue(property) : '';\n    };\n    var getRaw = function (element, property) {\n      var dom = element.dom;\n      var raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(function (r) {\n        return r.length > 0;\n      });\n    };\n    var getAllRaw = function (element) {\n      var css = {};\n      var dom = element.dom;\n      if (isSupported$1(dom)) {\n        for (var i = 0; i < dom.style.length; i++) {\n          var ruleName = dom.style.item(i);\n          css[ruleName] = dom.style[ruleName];\n        }\n      }\n      return css;\n    };\n    var isValidValue = function (tag, property, value) {\n      var element = SugarElement.fromTag(tag);\n      set$7(element, property, value);\n      var style = getRaw(element, property);\n      return style.isSome();\n    };\n    var remove$6 = function (element, property) {\n      var dom = element.dom;\n      internalRemove(dom, property);\n      if (is$1(getOpt(element, 'style').map(trim$1), '')) {\n        remove$7(element, 'style');\n      }\n    };\n    var reflow = function (e) {\n      return e.dom.offsetWidth;\n    };\n\n    var Dimension = function (name, getOffset) {\n      var set = function (element, h) {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        var dom = element.dom;\n        if (isSupported$1(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      var get = function (element) {\n        var r = getOffset(element);\n        if (r <= 0 || r === null) {\n          var css = get$c(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      var getOuter = get;\n      var aggregate = function (element, properties) {\n        return foldl(properties, function (acc, property) {\n          var val = get$c(element, property);\n          var value = val === undefined ? 0 : parseInt(val, 10);\n          return isNaN(value) ? acc : acc + value;\n        }, 0);\n      };\n      var max = function (element, value, properties) {\n        var cumulativeInclusions = aggregate(element, properties);\n        var absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set: set,\n        get: get,\n        getOuter: getOuter,\n        aggregate: aggregate,\n        max: max\n      };\n    };\n\n    var api$3 = Dimension('height', function (element) {\n      var dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    var get$b = function (element) {\n      return api$3.get(element);\n    };\n    var getOuter$2 = function (element) {\n      return api$3.getOuter(element);\n    };\n    var setMax$1 = function (element, value) {\n      var inclusions = [\n        'margin-top',\n        'border-top-width',\n        'padding-top',\n        'padding-bottom',\n        'border-bottom-width',\n        'margin-bottom'\n      ];\n      var absMax = api$3.max(element, value, inclusions);\n      set$7(element, 'max-height', absMax + 'px');\n    };\n\n    var r$1 = function (left, top) {\n      var translate = function (x, y) {\n        return r$1(left + x, top + y);\n      };\n      return {\n        left: left,\n        top: top,\n        translate: translate\n      };\n    };\n    var SugarPosition = r$1;\n\n    var boxPosition = function (dom) {\n      var box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    var firstDefinedOrZero = function (a, b) {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    var absolute$3 = function (element) {\n      var doc = element.dom.ownerDocument;\n      var body = doc.body;\n      var win = doc.defaultView;\n      var html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      var scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      var scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      var clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      var clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport$1(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    var viewport$1 = function (element) {\n      var dom = element.dom;\n      var doc = dom.ownerDocument;\n      var body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    var api$2 = Dimension('width', function (element) {\n      return element.dom.offsetWidth;\n    });\n    var set$6 = function (element, h) {\n      return api$2.set(element, h);\n    };\n    var get$a = function (element) {\n      return api$2.get(element);\n    };\n    var getOuter$1 = function (element) {\n      return api$2.getOuter(element);\n    };\n    var setMax = function (element, value) {\n      var inclusions = [\n        'margin-left',\n        'border-left-width',\n        'padding-left',\n        'padding-right',\n        'border-right-width',\n        'margin-right'\n      ];\n      var absMax = api$2.max(element, value, inclusions);\n      set$7(element, 'max-width', absMax + 'px');\n    };\n\n    var mkEvent = function (target, x, y, stop, prevent, kill, raw) {\n      return {\n        target: target,\n        x: x,\n        y: y,\n        stop: stop,\n        prevent: prevent,\n        kill: kill,\n        raw: raw\n      };\n    };\n    var fromRawEvent$1 = function (rawEvent) {\n      var target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      var stop = function () {\n        return rawEvent.stopPropagation();\n      };\n      var prevent = function () {\n        return rawEvent.preventDefault();\n      };\n      var kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    var handle = function (filter, handler) {\n      return function (rawEvent) {\n        if (filter(rawEvent)) {\n          handler(fromRawEvent$1(rawEvent));\n        }\n      };\n    };\n    var binder = function (element, event, filter, handler, useCapture) {\n      var wrapped = handle(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    var bind$2 = function (element, event, filter, handler) {\n      return binder(element, event, filter, handler, false);\n    };\n    var capture$1 = function (element, event, filter, handler) {\n      return binder(element, event, filter, handler, true);\n    };\n    var unbind = function (element, event, handler, useCapture) {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    var before$2 = function (marker, element) {\n      var parent$1 = parent(marker);\n      parent$1.each(function (v) {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    var after$2 = function (marker, element) {\n      var sibling = nextSibling(marker);\n      sibling.fold(function () {\n        var parent$1 = parent(marker);\n        parent$1.each(function (v) {\n          append$2(v, element);\n        });\n      }, function (v) {\n        before$2(v, element);\n      });\n    };\n    var prepend$1 = function (parent, element) {\n      var firstChild$1 = firstChild(parent);\n      firstChild$1.fold(function () {\n        append$2(parent, element);\n      }, function (v) {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    var append$2 = function (parent, element) {\n      parent.dom.appendChild(element.dom);\n    };\n    var appendAt = function (parent, element, index) {\n      child$2(parent, index).fold(function () {\n        append$2(parent, element);\n      }, function (v) {\n        before$2(v, element);\n      });\n    };\n\n    var before$1 = function (marker, elements) {\n      each$1(elements, function (x) {\n        before$2(marker, x);\n      });\n    };\n    var append$1 = function (parent, elements) {\n      each$1(elements, function (x) {\n        append$2(parent, x);\n      });\n    };\n\n    var empty = function (element) {\n      element.dom.textContent = '';\n      each$1(children(element), function (rogue) {\n        remove$5(rogue);\n      });\n    };\n    var remove$5 = function (element) {\n      var dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    var unwrap = function (wrapper) {\n      var children$1 = children(wrapper);\n      if (children$1.length > 0) {\n        before$1(wrapper, children$1);\n      }\n      remove$5(wrapper);\n    };\n\n    var get$9 = function (_DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom : document;\n      var x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      var y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    var to = function (x, y, _DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom : document;\n      var win = doc.defaultView;\n      if (win) {\n        win.scrollTo(x, y);\n      }\n    };\n\n    var get$8 = function (_win) {\n      var win = _win === undefined ? window : _win;\n      if (detect$1().browser.isFirefox()) {\n        return Optional.none();\n      } else {\n        return Optional.from(win['visualViewport']);\n      }\n    };\n    var bounds$1 = function (x, y, width, height) {\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        right: x + width,\n        bottom: y + height\n      };\n    };\n    var getBounds$3 = function (_win) {\n      var win = _win === undefined ? window : _win;\n      var doc = win.document;\n      var scroll = get$9(SugarElement.fromDom(doc));\n      return get$8(win).fold(function () {\n        var html = win.document.documentElement;\n        var width = html.clientWidth;\n        var height = html.clientHeight;\n        return bounds$1(scroll.left, scroll.top, width, height);\n      }, function (visualViewport) {\n        return bounds$1(Math.max(visualViewport.pageLeft, scroll.left), Math.max(visualViewport.pageTop, scroll.top), visualViewport.width, visualViewport.height);\n      });\n    };\n\n    var walkUp = function (navigation, doc) {\n      var frame = navigation.view(doc);\n      return frame.fold(constant$1([]), function (f) {\n        var parent = navigation.owner(f);\n        var rest = walkUp(navigation, parent);\n        return [f].concat(rest);\n      });\n    };\n    var pathTo = function (element, navigation) {\n      var d = navigation.owner(element);\n      var paths = walkUp(navigation, d);\n      return Optional.some(paths);\n    };\n\n    var view = function (doc) {\n      var _a;\n      var element = doc.dom === document ? Optional.none() : Optional.from((_a = doc.dom.defaultView) === null || _a === void 0 ? void 0 : _a.frameElement);\n      return element.map(SugarElement.fromDom);\n    };\n    var owner$3 = function (element) {\n      return owner$4(element);\n    };\n\n    var Navigation = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        view: view,\n        owner: owner$3\n    });\n\n    var find$2 = function (element) {\n      var doc = SugarElement.fromDom(document);\n      var scroll = get$9(doc);\n      var path = pathTo(element, Navigation);\n      return path.fold(curry(absolute$3, element), function (frames) {\n        var offset = viewport$1(element);\n        var r = foldr(frames, function (b, a) {\n          var loc = viewport$1(a);\n          return {\n            left: b.left + loc.left,\n            top: b.top + loc.top\n          };\n        }, {\n          left: 0,\n          top: 0\n        });\n        return SugarPosition(r.left + offset.left + scroll.left, r.top + offset.top + scroll.top);\n      });\n    };\n\n    var pointed = function (point, width, height) {\n      return {\n        point: point,\n        width: width,\n        height: height\n      };\n    };\n    var rect = function (x, y, width, height) {\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      };\n    };\n    var bounds = function (x, y, width, height) {\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        right: x + width,\n        bottom: y + height\n      };\n    };\n    var box$1 = function (element) {\n      var xy = absolute$3(element);\n      var w = getOuter$1(element);\n      var h = getOuter$2(element);\n      return bounds(xy.left, xy.top, w, h);\n    };\n    var absolute$2 = function (element) {\n      var position = find$2(element);\n      var width = getOuter$1(element);\n      var height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    var win = function () {\n      return getBounds$3(window);\n    };\n\n    var value$3 = function (o) {\n      var or = function (_opt) {\n        return value$3(o);\n      };\n      var orThunk = function (_f) {\n        return value$3(o);\n      };\n      var map = function (f) {\n        return value$3(f(o));\n      };\n      var mapError = function (_f) {\n        return value$3(o);\n      };\n      var each = function (f) {\n        f(o);\n      };\n      var bind = function (f) {\n        return f(o);\n      };\n      var fold = function (_, onValue) {\n        return onValue(o);\n      };\n      var exists = function (f) {\n        return f(o);\n      };\n      var forall = function (f) {\n        return f(o);\n      };\n      var toOptional = function () {\n        return Optional.some(o);\n      };\n      return {\n        isValue: always,\n        isError: never,\n        getOr: constant$1(o),\n        getOrThunk: constant$1(o),\n        getOrDie: constant$1(o),\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: each,\n        bind: bind,\n        exists: exists,\n        forall: forall,\n        toOptional: toOptional\n      };\n    };\n    var error$1 = function (message) {\n      var getOrThunk = function (f) {\n        return f();\n      };\n      var getOrDie = function () {\n        return die(String(message))();\n      };\n      var or = identity$1;\n      var orThunk = function (f) {\n        return f();\n      };\n      var map = function (_f) {\n        return error$1(message);\n      };\n      var mapError = function (f) {\n        return error$1(f(message));\n      };\n      var bind = function (_f) {\n        return error$1(message);\n      };\n      var fold = function (onError, _) {\n        return onError(message);\n      };\n      return {\n        isValue: never,\n        isError: always,\n        getOr: identity$1,\n        getOrThunk: getOrThunk,\n        getOrDie: getOrDie,\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: noop,\n        bind: bind,\n        exists: never,\n        forall: always,\n        toOptional: Optional.none\n      };\n    };\n    var fromOption = function (opt, err) {\n      return opt.fold(function () {\n        return error$1(err);\n      }, value$3);\n    };\n    var Result = {\n      value: value$3,\n      error: error$1,\n      fromOption: fromOption\n    };\n\n    var SimpleResultType;\n    (function (SimpleResultType) {\n      SimpleResultType[SimpleResultType['Error'] = 0] = 'Error';\n      SimpleResultType[SimpleResultType['Value'] = 1] = 'Value';\n    }(SimpleResultType || (SimpleResultType = {})));\n    var fold$1 = function (res, onError, onValue) {\n      return res.stype === SimpleResultType.Error ? onError(res.serror) : onValue(res.svalue);\n    };\n    var partition$2 = function (results) {\n      var values = [];\n      var errors = [];\n      each$1(results, function (obj) {\n        fold$1(obj, function (err) {\n          return errors.push(err);\n        }, function (val) {\n          return values.push(val);\n        });\n      });\n      return {\n        values: values,\n        errors: errors\n      };\n    };\n    var mapError = function (res, f) {\n      if (res.stype === SimpleResultType.Error) {\n        return {\n          stype: SimpleResultType.Error,\n          serror: f(res.serror)\n        };\n      } else {\n        return res;\n      }\n    };\n    var map = function (res, f) {\n      if (res.stype === SimpleResultType.Value) {\n        return {\n          stype: SimpleResultType.Value,\n          svalue: f(res.svalue)\n        };\n      } else {\n        return res;\n      }\n    };\n    var bind$1 = function (res, f) {\n      if (res.stype === SimpleResultType.Value) {\n        return f(res.svalue);\n      } else {\n        return res;\n      }\n    };\n    var bindError = function (res, f) {\n      if (res.stype === SimpleResultType.Error) {\n        return f(res.serror);\n      } else {\n        return res;\n      }\n    };\n    var svalue = function (v) {\n      return {\n        stype: SimpleResultType.Value,\n        svalue: v\n      };\n    };\n    var serror = function (e) {\n      return {\n        stype: SimpleResultType.Error,\n        serror: e\n      };\n    };\n    var toResult$1 = function (res) {\n      return fold$1(res, Result.error, Result.value);\n    };\n    var fromResult$1 = function (res) {\n      return res.fold(serror, svalue);\n    };\n    var SimpleResult = {\n      fromResult: fromResult$1,\n      toResult: toResult$1,\n      svalue: svalue,\n      partition: partition$2,\n      serror: serror,\n      bind: bind$1,\n      bindError: bindError,\n      map: map,\n      mapError: mapError,\n      fold: fold$1\n    };\n\n    var field$2 = function (key, newKey, presence, prop) {\n      return {\n        tag: 'field',\n        key: key,\n        newKey: newKey,\n        presence: presence,\n        prop: prop\n      };\n    };\n    var customField$1 = function (newKey, instantiator) {\n      return {\n        tag: 'custom',\n        newKey: newKey,\n        instantiator: instantiator\n      };\n    };\n    var fold = function (value, ifField, ifCustom) {\n      switch (value.tag) {\n      case 'field':\n        return ifField(value.key, value.newKey, value.presence, value.prop);\n      case 'custom':\n        return ifCustom(value.newKey, value.instantiator);\n      }\n    };\n\n    var shallow$1 = function (old, nu) {\n      return nu;\n    };\n    var deep = function (old, nu) {\n      var bothObjects = isObject(old) && isObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    var baseMerge = function (merger) {\n      return function () {\n        var objects = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          objects[_i] = arguments[_i];\n        }\n        if (objects.length === 0) {\n          throw new Error('Can\\'t merge zero objects');\n        }\n        var ret = {};\n        for (var j = 0; j < objects.length; j++) {\n          var curObject = objects[j];\n          for (var key in curObject) {\n            if (has$2(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    var deepMerge = baseMerge(deep);\n    var merge$1 = baseMerge(shallow$1);\n\n    var required$2 = function () {\n      return {\n        tag: 'required',\n        process: {}\n      };\n    };\n    var defaultedThunk = function (fallbackThunk) {\n      return {\n        tag: 'defaultedThunk',\n        process: fallbackThunk\n      };\n    };\n    var defaulted$1 = function (fallback) {\n      return defaultedThunk(constant$1(fallback));\n    };\n    var asOption = function () {\n      return {\n        tag: 'option',\n        process: {}\n      };\n    };\n    var mergeWithThunk = function (baseThunk) {\n      return {\n        tag: 'mergeWithThunk',\n        process: baseThunk\n      };\n    };\n    var mergeWith = function (base) {\n      return mergeWithThunk(constant$1(base));\n    };\n\n    var mergeValues$1 = function (values, base) {\n      return values.length > 0 ? SimpleResult.svalue(deepMerge(base, merge$1.apply(undefined, values))) : SimpleResult.svalue(base);\n    };\n    var mergeErrors$1 = function (errors) {\n      return compose(SimpleResult.serror, flatten)(errors);\n    };\n    var consolidateObj = function (objects, base) {\n      var partition = SimpleResult.partition(objects);\n      return partition.errors.length > 0 ? mergeErrors$1(partition.errors) : mergeValues$1(partition.values, base);\n    };\n    var consolidateArr = function (objects) {\n      var partitions = SimpleResult.partition(objects);\n      return partitions.errors.length > 0 ? mergeErrors$1(partitions.errors) : SimpleResult.svalue(partitions.values);\n    };\n    var ResultCombine = {\n      consolidateObj: consolidateObj,\n      consolidateArr: consolidateArr\n    };\n\n    var formatObj = function (input) {\n      return isObject(input) && keys(input).length > 100 ? ' removed due to size' : JSON.stringify(input, null, 2);\n    };\n    var formatErrors = function (errors) {\n      var es = errors.length > 10 ? errors.slice(0, 10).concat([{\n          path: [],\n          getErrorInfo: constant$1('... (only showing first ten failures)')\n        }]) : errors;\n      return map$2(es, function (e) {\n        return 'Failed path: (' + e.path.join(' > ') + ')\\n' + e.getErrorInfo();\n      });\n    };\n\n    var nu$a = function (path, getErrorInfo) {\n      return SimpleResult.serror([{\n          path: path,\n          getErrorInfo: getErrorInfo\n        }]);\n    };\n    var missingRequired = function (path, key, obj) {\n      return nu$a(path, function () {\n        return 'Could not find valid *required* value for \"' + key + '\" in ' + formatObj(obj);\n      });\n    };\n    var missingKey = function (path, key) {\n      return nu$a(path, function () {\n        return 'Choice schema did not contain choice key: \"' + key + '\"';\n      });\n    };\n    var missingBranch = function (path, branches, branch) {\n      return nu$a(path, function () {\n        return 'The chosen schema: \"' + branch + '\" did not exist in branches: ' + formatObj(branches);\n      });\n    };\n    var unsupportedFields = function (path, unsupported) {\n      return nu$a(path, function () {\n        return 'There are unsupported fields: [' + unsupported.join(', ') + '] specified';\n      });\n    };\n    var custom = function (path, err) {\n      return nu$a(path, constant$1(err));\n    };\n\n    var value$2 = function (validator) {\n      var extract = function (path, val) {\n        return SimpleResult.bindError(validator(val), function (err) {\n          return custom(path, err);\n        });\n      };\n      var toString = constant$1('val');\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var anyValue$1 = value$2(SimpleResult.svalue);\n\n    var requiredAccess = function (path, obj, key, bundle) {\n      return get$e(obj, key).fold(function () {\n        return missingRequired(path, key, obj);\n      }, bundle);\n    };\n    var fallbackAccess = function (obj, key, fallback, bundle) {\n      var v = get$e(obj, key).getOrThunk(function () {\n        return fallback(obj);\n      });\n      return bundle(v);\n    };\n    var optionAccess = function (obj, key, bundle) {\n      return bundle(get$e(obj, key));\n    };\n    var optionDefaultedAccess = function (obj, key, fallback, bundle) {\n      var opt = get$e(obj, key).map(function (val) {\n        return val === true ? fallback(obj) : val;\n      });\n      return bundle(opt);\n    };\n    var extractField = function (field, path, obj, key, prop) {\n      var bundle = function (av) {\n        return prop.extract(path.concat([key]), av);\n      };\n      var bundleAsOption = function (optValue) {\n        return optValue.fold(function () {\n          return SimpleResult.svalue(Optional.none());\n        }, function (ov) {\n          var result = prop.extract(path.concat([key]), ov);\n          return SimpleResult.map(result, Optional.some);\n        });\n      };\n      switch (field.tag) {\n      case 'required':\n        return requiredAccess(path, obj, key, bundle);\n      case 'defaultedThunk':\n        return fallbackAccess(obj, key, field.process, bundle);\n      case 'option':\n        return optionAccess(obj, key, bundleAsOption);\n      case 'defaultedOptionThunk':\n        return optionDefaultedAccess(obj, key, field.process, bundleAsOption);\n      case 'mergeWithThunk': {\n          return fallbackAccess(obj, key, constant$1({}), function (v) {\n            var result = deepMerge(field.process(obj), v);\n            return bundle(result);\n          });\n        }\n      }\n    };\n    var extractFields = function (path, obj, fields) {\n      var success = {};\n      var errors = [];\n      for (var _i = 0, fields_1 = fields; _i < fields_1.length; _i++) {\n        var field = fields_1[_i];\n        fold(field, function (key, newKey, presence, prop) {\n          var result = extractField(presence, path, obj, key, prop);\n          SimpleResult.fold(result, function (err) {\n            errors.push.apply(errors, err);\n          }, function (res) {\n            success[newKey] = res;\n          });\n        }, function (newKey, instantiator) {\n          success[newKey] = instantiator(obj);\n        });\n      }\n      return errors.length > 0 ? SimpleResult.serror(errors) : SimpleResult.svalue(success);\n    };\n    var valueThunk = function (getDelegate) {\n      var extract = function (path, val) {\n        return getDelegate().extract(path, val);\n      };\n      var toString = function () {\n        return getDelegate().toString();\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var getSetKeys = function (obj) {\n      return keys(filter$1(obj, isNonNullable));\n    };\n    var objOfOnly = function (fields) {\n      var delegate = objOf(fields);\n      var fieldNames = foldr(fields, function (acc, value) {\n        return fold(value, function (key) {\n          var _a;\n          return deepMerge(acc, (_a = {}, _a[key] = true, _a));\n        }, constant$1(acc));\n      }, {});\n      var extract = function (path, o) {\n        var keys = isBoolean(o) ? [] : getSetKeys(o);\n        var extra = filter$2(keys, function (k) {\n          return !hasNonNullableKey(fieldNames, k);\n        });\n        return extra.length === 0 ? delegate.extract(path, o) : unsupportedFields(path, extra);\n      };\n      return {\n        extract: extract,\n        toString: delegate.toString\n      };\n    };\n    var objOf = function (values) {\n      var extract = function (path, o) {\n        return extractFields(path, o, values);\n      };\n      var toString = function () {\n        var fieldStrings = map$2(values, function (value) {\n          return fold(value, function (key, _okey, _presence, prop) {\n            return key + ' -> ' + prop.toString();\n          }, function (newKey, _instantiator) {\n            return 'state(' + newKey + ')';\n          });\n        });\n        return 'obj{\\n' + fieldStrings.join('\\n') + '}';\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var arrOf = function (prop) {\n      var extract = function (path, array) {\n        var results = map$2(array, function (a, i) {\n          return prop.extract(path.concat(['[' + i + ']']), a);\n        });\n        return ResultCombine.consolidateArr(results);\n      };\n      var toString = function () {\n        return 'array(' + prop.toString() + ')';\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var oneOf = function (props) {\n      var extract = function (path, val) {\n        var errors = [];\n        for (var _i = 0, props_1 = props; _i < props_1.length; _i++) {\n          var prop = props_1[_i];\n          var res = prop.extract(path, val);\n          if (res.stype === SimpleResultType.Value) {\n            return res;\n          }\n          errors.push(res);\n        }\n        return ResultCombine.consolidateArr(errors);\n      };\n      var toString = function () {\n        return 'oneOf(' + map$2(props, function (prop) {\n          return prop.toString();\n        }).join(', ') + ')';\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var setOf$1 = function (validator, prop) {\n      var validateKeys = function (path, keys) {\n        return arrOf(value$2(validator)).extract(path, keys);\n      };\n      var extract = function (path, o) {\n        var keys$1 = keys(o);\n        var validatedKeys = validateKeys(path, keys$1);\n        return SimpleResult.bind(validatedKeys, function (validKeys) {\n          var schema = map$2(validKeys, function (vk) {\n            return field$2(vk, vk, required$2(), prop);\n          });\n          return objOf(schema).extract(path, o);\n        });\n      };\n      var toString = function () {\n        return 'setOf(' + prop.toString() + ')';\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var thunk = function (_desc, processor) {\n      var getP = cached(processor);\n      var extract = function (path, val) {\n        return getP().extract(path, val);\n      };\n      var toString = function () {\n        return getP().toString();\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var arrOfObj = compose(arrOf, objOf);\n\n    var anyValue = constant$1(anyValue$1);\n    var typedValue = function (validator, expectedType) {\n      return value$2(function (a) {\n        var actualType = typeof a;\n        return validator(a) ? SimpleResult.svalue(a) : SimpleResult.serror('Expected type: ' + expectedType + ' but got: ' + actualType);\n      });\n    };\n    var number = typedValue(isNumber, 'number');\n    var string = typedValue(isString, 'string');\n    var boolean = typedValue(isBoolean, 'boolean');\n    var functionProcessor = typedValue(isFunction, 'function');\n    var isPostMessageable = function (val) {\n      if (Object(val) !== val) {\n        return true;\n      }\n      switch ({}.toString.call(val).slice(8, -1)) {\n      case 'Boolean':\n      case 'Number':\n      case 'String':\n      case 'Date':\n      case 'RegExp':\n      case 'Blob':\n      case 'FileList':\n      case 'ImageData':\n      case 'ImageBitmap':\n      case 'ArrayBuffer':\n        return true;\n      case 'Array':\n      case 'Object':\n        return Object.keys(val).every(function (prop) {\n          return isPostMessageable(val[prop]);\n        });\n      default:\n        return false;\n      }\n    };\n    var postMessageable = value$2(function (a) {\n      if (isPostMessageable(a)) {\n        return SimpleResult.svalue(a);\n      } else {\n        return SimpleResult.serror('Expected value to be acceptable for sending via postMessage');\n      }\n    });\n\n    var chooseFrom = function (path, input, branches, ch) {\n      var fields = get$e(branches, ch);\n      return fields.fold(function () {\n        return missingBranch(path, branches, ch);\n      }, function (vp) {\n        return vp.extract(path.concat(['branch: ' + ch]), input);\n      });\n    };\n    var choose$2 = function (key, branches) {\n      var extract = function (path, input) {\n        var choice = get$e(input, key);\n        return choice.fold(function () {\n          return missingKey(path, key);\n        }, function (chosen) {\n          return chooseFrom(path, input, branches, chosen);\n        });\n      };\n      var toString = function () {\n        return 'chooseOn(' + key + '). Possible values: ' + keys(branches);\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n\n    var arrOfVal = function () {\n      return arrOf(anyValue$1);\n    };\n    var valueOf = function (validator) {\n      return value$2(function (v) {\n        return validator(v).fold(SimpleResult.serror, SimpleResult.svalue);\n      });\n    };\n    var setOf = function (validator, prop) {\n      return setOf$1(function (v) {\n        return SimpleResult.fromResult(validator(v));\n      }, prop);\n    };\n    var extractValue = function (label, prop, obj) {\n      var res = prop.extract([label], obj);\n      return SimpleResult.mapError(res, function (errs) {\n        return {\n          input: obj,\n          errors: errs\n        };\n      });\n    };\n    var asRaw = function (label, prop, obj) {\n      return SimpleResult.toResult(extractValue(label, prop, obj));\n    };\n    var getOrDie = function (extraction) {\n      return extraction.fold(function (errInfo) {\n        throw new Error(formatError(errInfo));\n      }, identity$1);\n    };\n    var asRawOrDie$1 = function (label, prop, obj) {\n      return getOrDie(asRaw(label, prop, obj));\n    };\n    var formatError = function (errInfo) {\n      return 'Errors: \\n' + formatErrors(errInfo.errors).join('\\n') + '\\n\\nInput object: ' + formatObj(errInfo.input);\n    };\n    var choose$1 = function (key, branches) {\n      return choose$2(key, map$1(branches, objOf));\n    };\n    var thunkOf = function (desc, schema) {\n      return thunk(desc, schema);\n    };\n\n    var field$1 = field$2;\n    var customField = customField$1;\n    var validateEnum = function (values) {\n      return valueOf(function (value) {\n        return contains$2(values, value) ? Result.value(value) : Result.error('Unsupported value: \"' + value + '\", choose one of \"' + values.join(', ') + '\".');\n      });\n    };\n    var required$1 = function (key) {\n      return field$1(key, key, required$2(), anyValue());\n    };\n    var requiredOf = function (key, schema) {\n      return field$1(key, key, required$2(), schema);\n    };\n    var requiredNumber = function (key) {\n      return requiredOf(key, number);\n    };\n    var requiredString = function (key) {\n      return requiredOf(key, string);\n    };\n    var requiredStringEnum = function (key, values) {\n      return field$1(key, key, required$2(), validateEnum(values));\n    };\n    var requiredBoolean = function (key) {\n      return requiredOf(key, boolean);\n    };\n    var requiredFunction = function (key) {\n      return requiredOf(key, functionProcessor);\n    };\n    var forbid = function (key, message) {\n      return field$1(key, key, asOption(), value$2(function (_v) {\n        return SimpleResult.serror('The field: ' + key + ' is forbidden. ' + message);\n      }));\n    };\n    var requiredObjOf = function (key, objSchema) {\n      return field$1(key, key, required$2(), objOf(objSchema));\n    };\n    var requiredArrayOfObj = function (key, objFields) {\n      return field$1(key, key, required$2(), arrOfObj(objFields));\n    };\n    var requiredArrayOf = function (key, schema) {\n      return field$1(key, key, required$2(), arrOf(schema));\n    };\n    var option = function (key) {\n      return field$1(key, key, asOption(), anyValue());\n    };\n    var optionOf = function (key, schema) {\n      return field$1(key, key, asOption(), schema);\n    };\n    var optionNumber = function (key) {\n      return optionOf(key, number);\n    };\n    var optionString = function (key) {\n      return optionOf(key, string);\n    };\n    var optionFunction = function (key) {\n      return optionOf(key, functionProcessor);\n    };\n    var optionArrayOf = function (key, schema) {\n      return optionOf(key, arrOf(schema));\n    };\n    var optionObjOf = function (key, objSchema) {\n      return optionOf(key, objOf(objSchema));\n    };\n    var optionObjOfOnly = function (key, objSchema) {\n      return optionOf(key, objOfOnly(objSchema));\n    };\n    var defaulted = function (key, fallback) {\n      return field$1(key, key, defaulted$1(fallback), anyValue());\n    };\n    var defaultedOf = function (key, fallback, schema) {\n      return field$1(key, key, defaulted$1(fallback), schema);\n    };\n    var defaultedNumber = function (key, fallback) {\n      return defaultedOf(key, fallback, number);\n    };\n    var defaultedString = function (key, fallback) {\n      return defaultedOf(key, fallback, string);\n    };\n    var defaultedStringEnum = function (key, fallback, values) {\n      return defaultedOf(key, fallback, validateEnum(values));\n    };\n    var defaultedBoolean = function (key, fallback) {\n      return defaultedOf(key, fallback, boolean);\n    };\n    var defaultedFunction = function (key, fallback) {\n      return defaultedOf(key, fallback, functionProcessor);\n    };\n    var defaultedPostMsg = function (key, fallback) {\n      return defaultedOf(key, fallback, postMessageable);\n    };\n    var defaultedArrayOf = function (key, fallback, schema) {\n      return defaultedOf(key, fallback, arrOf(schema));\n    };\n    var defaultedObjOf = function (key, fallback, objSchema) {\n      return defaultedOf(key, fallback, objOf(objSchema));\n    };\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var generate$7 = function (cases) {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      var constructors = [];\n      var adt = {};\n      each$1(cases, function (acase, count) {\n        var keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        var key = keys$1[0];\n        var value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          var argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          var match = function (branches) {\n            var branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            var allReqd = forall(constructors, function (reqKey) {\n              return contains$2(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: function () {\n              var foldArgs = [];\n              for (var _i = 0; _i < arguments.length; _i++) {\n                foldArgs[_i] = arguments[_i];\n              }\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              var target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match: match,\n            log: function (label) {\n              console.log(label, {\n                constructors: constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    var Adt = { generate: generate$7 };\n\n    Adt.generate([\n      {\n        bothErrors: [\n          'error1',\n          'error2'\n        ]\n      },\n      {\n        firstError: [\n          'error1',\n          'value2'\n        ]\n      },\n      {\n        secondError: [\n          'value1',\n          'error2'\n        ]\n      },\n      {\n        bothValues: [\n          'value1',\n          'value2'\n        ]\n      }\n    ]);\n    var partition$1 = function (results) {\n      var errors = [];\n      var values = [];\n      each$1(results, function (result) {\n        result.fold(function (err) {\n          errors.push(err);\n        }, function (value) {\n          values.push(value);\n        });\n      });\n      return {\n        errors: errors,\n        values: values\n      };\n    };\n\n    var exclude$1 = function (obj, fields) {\n      var r = {};\n      each(obj, function (v, k) {\n        if (!contains$2(fields, k)) {\n          r[k] = v;\n        }\n      });\n      return r;\n    };\n\n    var wrap$2 = function (key, value) {\n      var _a;\n      return _a = {}, _a[key] = value, _a;\n    };\n    var wrapAll$1 = function (keyvalues) {\n      var r = {};\n      each$1(keyvalues, function (kv) {\n        r[kv.key] = kv.value;\n      });\n      return r;\n    };\n\n    var exclude = function (obj, fields) {\n      return exclude$1(obj, fields);\n    };\n    var wrap$1 = function (key, value) {\n      return wrap$2(key, value);\n    };\n    var wrapAll = function (keyvalues) {\n      return wrapAll$1(keyvalues);\n    };\n    var mergeValues = function (values, base) {\n      return values.length === 0 ? Result.value(base) : Result.value(deepMerge(base, merge$1.apply(undefined, values)));\n    };\n    var mergeErrors = function (errors) {\n      return Result.error(flatten(errors));\n    };\n    var consolidate = function (objs, base) {\n      var partitions = partition$1(objs);\n      return partitions.errors.length > 0 ? mergeErrors(partitions.errors) : mergeValues(partitions.values, base);\n    };\n\n    var ensureIsRoot = function (isRoot) {\n      return isFunction(isRoot) ? isRoot : never;\n    };\n    var ancestor$2 = function (scope, transform, isRoot) {\n      var element = scope.dom;\n      var stop = ensureIsRoot(isRoot);\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = SugarElement.fromDom(element);\n        var transformed = transform(el);\n        if (transformed.isSome()) {\n          return transformed;\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var closest$4 = function (scope, transform, isRoot) {\n      var current = transform(scope);\n      var stop = ensureIsRoot(isRoot);\n      return current.orThunk(function () {\n        return stop(scope) ? Optional.none() : ancestor$2(scope, transform, stop);\n      });\n    };\n\n    var isSource = function (component, simulatedEvent) {\n      return eq(component.element, simulatedEvent.event.target);\n    };\n\n    var defaultEventHandler = {\n      can: always,\n      abort: never,\n      run: noop\n    };\n    var nu$9 = function (parts) {\n      if (!hasNonNullableKey(parts, 'can') && !hasNonNullableKey(parts, 'abort') && !hasNonNullableKey(parts, 'run')) {\n        throw new Error('EventHandler defined by: ' + JSON.stringify(parts, null, 2) + ' does not have can, abort, or run!');\n      }\n      return __assign(__assign({}, defaultEventHandler), parts);\n    };\n    var all$2 = function (handlers, f) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return foldl(handlers, function (acc, handler) {\n          return acc && f(handler).apply(undefined, args);\n        }, true);\n      };\n    };\n    var any = function (handlers, f) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return foldl(handlers, function (acc, handler) {\n          return acc || f(handler).apply(undefined, args);\n        }, false);\n      };\n    };\n    var read$2 = function (handler) {\n      return isFunction(handler) ? {\n        can: always,\n        abort: never,\n        run: handler\n      } : handler;\n    };\n    var fuse$1 = function (handlers) {\n      var can = all$2(handlers, function (handler) {\n        return handler.can;\n      });\n      var abort = any(handlers, function (handler) {\n        return handler.abort;\n      });\n      var run = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        each$1(handlers, function (handler) {\n          handler.run.apply(undefined, args);\n        });\n      };\n      return {\n        can: can,\n        abort: abort,\n        run: run\n      };\n    };\n\n    var constant = constant$1;\n    var touchstart = constant('touchstart');\n    var touchmove = constant('touchmove');\n    var touchend = constant('touchend');\n    var touchcancel = constant('touchcancel');\n    var mousedown = constant('mousedown');\n    var mousemove = constant('mousemove');\n    var mouseout = constant('mouseout');\n    var mouseup = constant('mouseup');\n    var mouseover = constant('mouseover');\n    var focusin = constant('focusin');\n    var focusout = constant('focusout');\n    var keydown = constant('keydown');\n    var keyup = constant('keyup');\n    var input = constant('input');\n    var change = constant('change');\n    var click = constant('click');\n    var transitioncancel = constant('transitioncancel');\n    var transitionend = constant('transitionend');\n    var transitionstart = constant('transitionstart');\n    var selectstart = constant('selectstart');\n\n    var prefixName = function (name) {\n      return constant$1('alloy.' + name);\n    };\n    var alloy = { tap: prefixName('tap') };\n    var focus$4 = prefixName('focus');\n    var postBlur = prefixName('blur.post');\n    var postPaste = prefixName('paste.post');\n    var receive = prefixName('receive');\n    var execute$5 = prefixName('execute');\n    var focusItem = prefixName('focus.item');\n    var tap = alloy.tap;\n    var longpress = prefixName('longpress');\n    var sandboxClose = prefixName('sandbox.close');\n    var typeaheadCancel = prefixName('typeahead.cancel');\n    var systemInit = prefixName('system.init');\n    var documentTouchmove = prefixName('system.touchmove');\n    var documentTouchend = prefixName('system.touchend');\n    var windowScroll = prefixName('system.scroll');\n    var windowResize = prefixName('system.resize');\n    var attachedToDom = prefixName('system.attached');\n    var detachedFromDom = prefixName('system.detached');\n    var dismissRequested = prefixName('system.dismissRequested');\n    var repositionRequested = prefixName('system.repositionRequested');\n    var focusShifted = prefixName('focusmanager.shifted');\n    var slotVisibility = prefixName('slotcontainer.visibility');\n    var changeTab = prefixName('change.tab');\n    var dismissTab = prefixName('dismiss.tab');\n    var highlight$1 = prefixName('highlight');\n    var dehighlight$1 = prefixName('dehighlight');\n\n    var emit = function (component, event) {\n      dispatchWith(component, component.element, event, {});\n    };\n    var emitWith = function (component, event, properties) {\n      dispatchWith(component, component.element, event, properties);\n    };\n    var emitExecute = function (component) {\n      emit(component, execute$5());\n    };\n    var dispatch = function (component, target, event) {\n      dispatchWith(component, target, event, {});\n    };\n    var dispatchWith = function (component, target, event, properties) {\n      var data = __assign({ target: target }, properties);\n      component.getSystem().triggerEvent(event, target, data);\n    };\n    var dispatchEvent = function (component, target, event, simulatedEvent) {\n      component.getSystem().triggerEvent(event, target, simulatedEvent.event);\n    };\n\n    var derive$2 = function (configs) {\n      return wrapAll(configs);\n    };\n    var abort = function (name, predicate) {\n      return {\n        key: name,\n        value: nu$9({ abort: predicate })\n      };\n    };\n    var can = function (name, predicate) {\n      return {\n        key: name,\n        value: nu$9({ can: predicate })\n      };\n    };\n    var preventDefault = function (name) {\n      return {\n        key: name,\n        value: nu$9({\n          run: function (component, simulatedEvent) {\n            simulatedEvent.event.prevent();\n          }\n        })\n      };\n    };\n    var run$1 = function (name, handler) {\n      return {\n        key: name,\n        value: nu$9({ run: handler })\n      };\n    };\n    var runActionExtra = function (name, action, extra) {\n      return {\n        key: name,\n        value: nu$9({\n          run: function (component, simulatedEvent) {\n            action.apply(undefined, [\n              component,\n              simulatedEvent\n            ].concat(extra));\n          }\n        })\n      };\n    };\n    var runOnName = function (name) {\n      return function (handler) {\n        return run$1(name, handler);\n      };\n    };\n    var runOnSourceName = function (name) {\n      return function (handler) {\n        return {\n          key: name,\n          value: nu$9({\n            run: function (component, simulatedEvent) {\n              if (isSource(component, simulatedEvent)) {\n                handler(component, simulatedEvent);\n              }\n            }\n          })\n        };\n      };\n    };\n    var redirectToUid = function (name, uid) {\n      return run$1(name, function (component, simulatedEvent) {\n        component.getSystem().getByUid(uid).each(function (redirectee) {\n          dispatchEvent(redirectee, redirectee.element, name, simulatedEvent);\n        });\n      });\n    };\n    var redirectToPart = function (name, detail, partName) {\n      var uid = detail.partUids[partName];\n      return redirectToUid(name, uid);\n    };\n    var runWithTarget = function (name, f) {\n      return run$1(name, function (component, simulatedEvent) {\n        var ev = simulatedEvent.event;\n        var target = component.getSystem().getByDom(ev.target).getOrThunk(function () {\n          var closest = closest$4(ev.target, function (el) {\n            return component.getSystem().getByDom(el).toOptional();\n          }, never);\n          return closest.getOr(component);\n        });\n        f(component, target, simulatedEvent);\n      });\n    };\n    var cutter = function (name) {\n      return run$1(name, function (component, simulatedEvent) {\n        simulatedEvent.cut();\n      });\n    };\n    var stopper = function (name) {\n      return run$1(name, function (component, simulatedEvent) {\n        simulatedEvent.stop();\n      });\n    };\n    var runOnSource = function (name, f) {\n      return runOnSourceName(name)(f);\n    };\n    var runOnAttached = runOnSourceName(attachedToDom());\n    var runOnDetached = runOnSourceName(detachedFromDom());\n    var runOnInit = runOnSourceName(systemInit());\n    var runOnExecute$1 = runOnName(execute$5());\n\n    var fromHtml$1 = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      return children(SugarElement.fromDom(div));\n    };\n\n    var get$7 = function (element) {\n      return element.dom.innerHTML;\n    };\n    var set$5 = function (element, content) {\n      var owner = owner$4(element);\n      var docDom = owner.dom;\n      var fragment = SugarElement.fromDom(docDom.createDocumentFragment());\n      var contentElements = fromHtml$1(content, docDom);\n      append$1(fragment, contentElements);\n      empty(element);\n      append$2(element, fragment);\n    };\n    var getOuter = function (element) {\n      var container = SugarElement.fromTag('div');\n      var clone = SugarElement.fromDom(element.dom.cloneNode(true));\n      append$2(container, clone);\n      return get$7(container);\n    };\n\n    var clone$1 = function (original, isDeep) {\n      return SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    };\n    var shallow = function (original) {\n      return clone$1(original, false);\n    };\n\n    var getHtml = function (element) {\n      if (isShadowRoot(element)) {\n        return '#shadow-root';\n      } else {\n        var clone = shallow(element);\n        return getOuter(clone);\n      }\n    };\n\n    var element = function (elem) {\n      return getHtml(elem);\n    };\n\n    var isRecursive = function (component, originator, target) {\n      return eq(originator, component.element) && !eq(originator, target);\n    };\n    var events$i = derive$2([can(focus$4(), function (component, simulatedEvent) {\n        var event = simulatedEvent.event;\n        var originator = event.originator;\n        var target = event.target;\n        if (isRecursive(component, originator, target)) {\n          console.warn(focus$4() + ' did not get interpreted by the desired target. ' + '\\nOriginator: ' + element(originator) + '\\nTarget: ' + element(target) + '\\nCheck the ' + focus$4() + ' event handlers');\n          return false;\n        } else {\n          return true;\n        }\n      })]);\n\n    var DefaultEvents = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$i\n    });\n\n    var unique = 0;\n    var generate$6 = function (prefix) {\n      var date = new Date();\n      var time = date.getTime();\n      var random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    var prefix$1 = constant$1('alloy-id-');\n    var idAttr$1 = constant$1('data-alloy-id');\n\n    var prefix = prefix$1();\n    var idAttr = idAttr$1();\n    var write = function (label, elem) {\n      var id = generate$6(prefix + label);\n      writeOnly(elem, id);\n      return id;\n    };\n    var writeOnly = function (elem, uid) {\n      Object.defineProperty(elem.dom, idAttr, {\n        value: uid,\n        writable: true\n      });\n    };\n    var read$1 = function (elem) {\n      var id = isElement$2(elem) ? elem.dom[idAttr] : null;\n      return Optional.from(id);\n    };\n    var generate$5 = function (prefix) {\n      return generate$6(prefix);\n    };\n\n    var make$8 = identity$1;\n\n    var NoContextApi = function (getComp) {\n      var getMessage = function (event) {\n        return 'The component must be in a context to execute: ' + event + (getComp ? '\\n' + element(getComp().element) + ' is not in context.' : '');\n      };\n      var fail = function (event) {\n        return function () {\n          throw new Error(getMessage(event));\n        };\n      };\n      var warn = function (event) {\n        return function () {\n          console.warn(getMessage(event));\n        };\n      };\n      return {\n        debugInfo: constant$1('fake'),\n        triggerEvent: warn('triggerEvent'),\n        triggerFocus: warn('triggerFocus'),\n        triggerEscape: warn('triggerEscape'),\n        broadcast: warn('broadcast'),\n        broadcastOn: warn('broadcastOn'),\n        broadcastEvent: warn('broadcastEvent'),\n        build: fail('build'),\n        addToWorld: fail('addToWorld'),\n        removeFromWorld: fail('removeFromWorld'),\n        addToGui: fail('addToGui'),\n        removeFromGui: fail('removeFromGui'),\n        getByUid: fail('getByUid'),\n        getByDom: fail('getByDom'),\n        isConnected: never\n      };\n    };\n    var singleton$1 = NoContextApi();\n\n    var markAsBehaviourApi = function (f, apiName, apiFunction) {\n      var delegate = apiFunction.toString();\n      var endIndex = delegate.indexOf(')') + 1;\n      var openBracketIndex = delegate.indexOf('(');\n      var parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = function () {\n        return {\n          name: apiName,\n          parameters: cleanParameters(parameters.slice(0, 1).concat(parameters.slice(3)))\n        };\n      };\n      return f;\n    };\n    var cleanParameters = function (parameters) {\n      return map$2(parameters, function (p) {\n        return endsWith(p, '/*') ? p.substring(0, p.length - '/*'.length) : p;\n      });\n    };\n    var markAsExtraApi = function (f, extraName) {\n      var delegate = f.toString();\n      var endIndex = delegate.indexOf(')') + 1;\n      var openBracketIndex = delegate.indexOf('(');\n      var parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = function () {\n        return {\n          name: extraName,\n          parameters: cleanParameters(parameters)\n        };\n      };\n      return f;\n    };\n    var markAsSketchApi = function (f, apiFunction) {\n      var delegate = apiFunction.toString();\n      var endIndex = delegate.indexOf(')') + 1;\n      var openBracketIndex = delegate.indexOf('(');\n      var parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = function () {\n        return {\n          name: 'OVERRIDE',\n          parameters: cleanParameters(parameters.slice(1))\n        };\n      };\n      return f;\n    };\n\n    var premadeTag = generate$6('alloy-premade');\n    var premade$1 = function (comp) {\n      return wrap$1(premadeTag, comp);\n    };\n    var getPremade = function (spec) {\n      return get$e(spec, premadeTag);\n    };\n    var makeApi = function (f) {\n      return markAsSketchApi(function (component) {\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n          rest[_i - 1] = arguments[_i];\n        }\n        return f.apply(void 0, __spreadArray([\n          component.getApis(),\n          component\n        ], rest, false));\n      }, f);\n    };\n\n    var NoState = {\n      init: function () {\n        return nu$8({ readState: constant$1('No State required') });\n      }\n    };\n    var nu$8 = function (spec) {\n      return spec;\n    };\n\n    var generateFrom$1 = function (spec, all) {\n      var schema = map$2(all, function (a) {\n        return optionObjOf(a.name(), [\n          required$1('config'),\n          defaulted('state', NoState)\n        ]);\n      });\n      var validated = asRaw('component.behaviours', objOf(schema), spec.behaviours).fold(function (errInfo) {\n        throw new Error(formatError(errInfo) + '\\nComplete spec:\\n' + JSON.stringify(spec, null, 2));\n      }, identity$1);\n      return {\n        list: all,\n        data: map$1(validated, function (optBlobThunk) {\n          var output = optBlobThunk.map(function (blob) {\n            return {\n              config: blob.config,\n              state: blob.state.init(blob.config)\n            };\n          });\n          return constant$1(output);\n        })\n      };\n    };\n    var getBehaviours$3 = function (bData) {\n      return bData.list;\n    };\n    var getData$2 = function (bData) {\n      return bData.data;\n    };\n\n    var byInnerKey = function (data, tuple) {\n      var r = {};\n      each(data, function (detail, key) {\n        each(detail, function (value, indexKey) {\n          var chain = get$e(r, indexKey).getOr([]);\n          r[indexKey] = chain.concat([tuple(key, value)]);\n        });\n      });\n      return r;\n    };\n\n    var nu$7 = function (s) {\n      return {\n        classes: isUndefined(s.classes) ? [] : s.classes,\n        attributes: isUndefined(s.attributes) ? {} : s.attributes,\n        styles: isUndefined(s.styles) ? {} : s.styles\n      };\n    };\n    var merge = function (defnA, mod) {\n      return __assign(__assign({}, defnA), {\n        attributes: __assign(__assign({}, defnA.attributes), mod.attributes),\n        styles: __assign(__assign({}, defnA.styles), mod.styles),\n        classes: defnA.classes.concat(mod.classes)\n      });\n    };\n\n    var combine$2 = function (info, baseMod, behaviours, base) {\n      var modsByBehaviour = __assign({}, baseMod);\n      each$1(behaviours, function (behaviour) {\n        modsByBehaviour[behaviour.name()] = behaviour.exhibit(info, base);\n      });\n      var byAspect = byInnerKey(modsByBehaviour, function (name, modification) {\n        return {\n          name: name,\n          modification: modification\n        };\n      });\n      var combineObjects = function (objects) {\n        return foldr(objects, function (b, a) {\n          return __assign(__assign({}, a.modification), b);\n        }, {});\n      };\n      var combinedClasses = foldr(byAspect.classes, function (b, a) {\n        return a.modification.concat(b);\n      }, []);\n      var combinedAttributes = combineObjects(byAspect.attributes);\n      var combinedStyles = combineObjects(byAspect.styles);\n      return nu$7({\n        classes: combinedClasses,\n        attributes: combinedAttributes,\n        styles: combinedStyles\n      });\n    };\n\n    var sortKeys = function (label, keyName, array, order) {\n      try {\n        var sorted = sort(array, function (a, b) {\n          var aKey = a[keyName];\n          var bKey = b[keyName];\n          var aIndex = order.indexOf(aKey);\n          var bIndex = order.indexOf(bKey);\n          if (aIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + aKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (bIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + bKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (aIndex < bIndex) {\n            return -1;\n          } else if (bIndex < aIndex) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n        return Result.value(sorted);\n      } catch (err) {\n        return Result.error([err]);\n      }\n    };\n\n    var uncurried = function (handler, purpose) {\n      return {\n        handler: handler,\n        purpose: purpose\n      };\n    };\n    var curried = function (handler, purpose) {\n      return {\n        cHandler: handler,\n        purpose: purpose\n      };\n    };\n    var curryArgs = function (descHandler, extraArgs) {\n      return curried(curry.apply(undefined, [descHandler.handler].concat(extraArgs)), descHandler.purpose);\n    };\n    var getCurried = function (descHandler) {\n      return descHandler.cHandler;\n    };\n\n    var behaviourTuple = function (name, handler) {\n      return {\n        name: name,\n        handler: handler\n      };\n    };\n    var nameToHandlers = function (behaviours, info) {\n      var r = {};\n      each$1(behaviours, function (behaviour) {\n        r[behaviour.name()] = behaviour.handlers(info);\n      });\n      return r;\n    };\n    var groupByEvents = function (info, behaviours, base) {\n      var behaviourEvents = __assign(__assign({}, base), nameToHandlers(behaviours, info));\n      return byInnerKey(behaviourEvents, behaviourTuple);\n    };\n    var combine$1 = function (info, eventOrder, behaviours, base) {\n      var byEventName = groupByEvents(info, behaviours, base);\n      return combineGroups(byEventName, eventOrder);\n    };\n    var assemble = function (rawHandler) {\n      var handler = read$2(rawHandler);\n      return function (component, simulatedEvent) {\n        var rest = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n          rest[_i - 2] = arguments[_i];\n        }\n        var args = [\n          component,\n          simulatedEvent\n        ].concat(rest);\n        if (handler.abort.apply(undefined, args)) {\n          simulatedEvent.stop();\n        } else if (handler.can.apply(undefined, args)) {\n          handler.run.apply(undefined, args);\n        }\n      };\n    };\n    var missingOrderError = function (eventName, tuples) {\n      return Result.error(['The event (' + eventName + ') has more than one behaviour that listens to it.\\nWhen this occurs, you must ' + 'specify an event ordering for the behaviours in your spec (e.g. [ \"listing\", \"toggling\" ]).\\nThe behaviours that ' + 'can trigger it are: ' + JSON.stringify(map$2(tuples, function (c) {\n          return c.name;\n        }), null, 2)]);\n    };\n    var fuse = function (tuples, eventOrder, eventName) {\n      var order = eventOrder[eventName];\n      if (!order) {\n        return missingOrderError(eventName, tuples);\n      } else {\n        return sortKeys('Event: ' + eventName, 'name', tuples, order).map(function (sortedTuples) {\n          var handlers = map$2(sortedTuples, function (tuple) {\n            return tuple.handler;\n          });\n          return fuse$1(handlers);\n        });\n      }\n    };\n    var combineGroups = function (byEventName, eventOrder) {\n      var r = mapToArray(byEventName, function (tuples, eventName) {\n        var combined = tuples.length === 1 ? Result.value(tuples[0].handler) : fuse(tuples, eventOrder, eventName);\n        return combined.map(function (handler) {\n          var assembled = assemble(handler);\n          var purpose = tuples.length > 1 ? filter$2(eventOrder[eventName], function (o) {\n            return exists(tuples, function (t) {\n              return t.name === o;\n            });\n          }).join(' > ') : tuples[0].name;\n          return wrap$1(eventName, uncurried(assembled, purpose));\n        });\n      });\n      return consolidate(r, {});\n    };\n\n    var _a$2;\n    var baseBehaviour = 'alloy.base.behaviour';\n    var schema$z = objOf([\n      field$1('dom', 'dom', required$2(), objOf([\n        required$1('tag'),\n        defaulted('styles', {}),\n        defaulted('classes', []),\n        defaulted('attributes', {}),\n        option('value'),\n        option('innerHtml')\n      ])),\n      required$1('components'),\n      required$1('uid'),\n      defaulted('events', {}),\n      defaulted('apis', {}),\n      field$1('eventOrder', 'eventOrder', mergeWith((_a$2 = {}, _a$2[execute$5()] = [\n        'disabling',\n        baseBehaviour,\n        'toggling',\n        'typeaheadevents'\n      ], _a$2[focus$4()] = [\n        baseBehaviour,\n        'focusing',\n        'keying'\n      ], _a$2[systemInit()] = [\n        baseBehaviour,\n        'disabling',\n        'toggling',\n        'representing'\n      ], _a$2[input()] = [\n        baseBehaviour,\n        'representing',\n        'streaming',\n        'invalidating'\n      ], _a$2[detachedFromDom()] = [\n        baseBehaviour,\n        'representing',\n        'item-events',\n        'tooltipping'\n      ], _a$2[mousedown()] = [\n        'focusing',\n        baseBehaviour,\n        'item-type-events'\n      ], _a$2[touchstart()] = [\n        'focusing',\n        baseBehaviour,\n        'item-type-events'\n      ], _a$2[mouseover()] = [\n        'item-type-events',\n        'tooltipping'\n      ], _a$2[receive()] = [\n        'receiving',\n        'reflecting',\n        'tooltipping'\n      ], _a$2)), anyValue()),\n      option('domModification')\n    ]);\n    var toInfo = function (spec) {\n      return asRaw('custom.definition', schema$z, spec);\n    };\n    var toDefinition = function (detail) {\n      return __assign(__assign({}, detail.dom), {\n        uid: detail.uid,\n        domChildren: map$2(detail.components, function (comp) {\n          return comp.element;\n        })\n      });\n    };\n    var toModification = function (detail) {\n      return detail.domModification.fold(function () {\n        return nu$7({});\n      }, nu$7);\n    };\n    var toEvents = function (info) {\n      return info.events;\n    };\n\n    var read = function (element, attr) {\n      var value = get$d(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    var add$4 = function (element, attr, id) {\n      var old = read(element, attr);\n      var nu = old.concat([id]);\n      set$8(element, attr, nu.join(' '));\n      return true;\n    };\n    var remove$4 = function (element, attr, id) {\n      var nu = filter$2(read(element, attr), function (v) {\n        return v !== id;\n      });\n      if (nu.length > 0) {\n        set$8(element, attr, nu.join(' '));\n      } else {\n        remove$7(element, attr);\n      }\n      return false;\n    };\n\n    var supports = function (element) {\n      return element.dom.classList !== undefined;\n    };\n    var get$6 = function (element) {\n      return read(element, 'class');\n    };\n    var add$3 = function (element, clazz) {\n      return add$4(element, 'class', clazz);\n    };\n    var remove$3 = function (element, clazz) {\n      return remove$4(element, 'class', clazz);\n    };\n\n    var add$2 = function (element, clazz) {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$3(element, clazz);\n      }\n    };\n    var cleanClass = function (element) {\n      var classList = supports(element) ? element.dom.classList : get$6(element);\n      if (classList.length === 0) {\n        remove$7(element, 'class');\n      }\n    };\n    var remove$2 = function (element, clazz) {\n      if (supports(element)) {\n        var classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$3(element, clazz);\n      }\n      cleanClass(element);\n    };\n    var has = function (element, clazz) {\n      return supports(element) && element.dom.classList.contains(clazz);\n    };\n\n    var add$1 = function (element, classes) {\n      each$1(classes, function (x) {\n        add$2(element, x);\n      });\n    };\n    var remove$1 = function (element, classes) {\n      each$1(classes, function (x) {\n        remove$2(element, x);\n      });\n    };\n    var hasAll = function (element, classes) {\n      return forall(classes, function (clazz) {\n        return has(element, clazz);\n      });\n    };\n\n    var get$5 = function (element) {\n      return element.dom.value;\n    };\n    var set$4 = function (element, value) {\n      if (value === undefined) {\n        throw new Error('Value.set was undefined');\n      }\n      element.dom.value = value;\n    };\n\n    var renderToDom = function (definition) {\n      var subject = SugarElement.fromTag(definition.tag);\n      setAll$1(subject, definition.attributes);\n      add$1(subject, definition.classes);\n      setAll(subject, definition.styles);\n      definition.innerHtml.each(function (html) {\n        return set$5(subject, html);\n      });\n      var children = definition.domChildren;\n      append$1(subject, children);\n      definition.value.each(function (value) {\n        set$4(subject, value);\n      });\n      if (!definition.uid) {\n        debugger;\n      }\n      writeOnly(subject, definition.uid);\n      return subject;\n    };\n\n    var getBehaviours$2 = function (spec) {\n      var behaviours = get$e(spec, 'behaviours').getOr({});\n      return bind$3(keys(behaviours), function (name) {\n        var behaviour = behaviours[name];\n        return isNonNullable(behaviour) ? [behaviour.me] : [];\n      });\n    };\n    var generateFrom = function (spec, all) {\n      return generateFrom$1(spec, all);\n    };\n    var generate$4 = function (spec) {\n      var all = getBehaviours$2(spec);\n      return generateFrom(spec, all);\n    };\n\n    var getDomDefinition = function (info, bList, bData) {\n      var definition = toDefinition(info);\n      var infoModification = toModification(info);\n      var baseModification = { 'alloy.base.modification': infoModification };\n      var modification = bList.length > 0 ? combine$2(bData, baseModification, bList, definition) : infoModification;\n      return merge(definition, modification);\n    };\n    var getEvents = function (info, bList, bData) {\n      var baseEvents = { 'alloy.base.behaviour': toEvents(info) };\n      return combine$1(bData, info.eventOrder, bList, baseEvents).getOrDie();\n    };\n    var build$2 = function (spec) {\n      var getMe = function () {\n        return me;\n      };\n      var systemApi = Cell(singleton$1);\n      var info = getOrDie(toInfo(spec));\n      var bBlob = generate$4(spec);\n      var bList = getBehaviours$3(bBlob);\n      var bData = getData$2(bBlob);\n      var modDefinition = getDomDefinition(info, bList, bData);\n      var item = renderToDom(modDefinition);\n      var events = getEvents(info, bList, bData);\n      var subcomponents = Cell(info.components);\n      var connect = function (newApi) {\n        systemApi.set(newApi);\n      };\n      var disconnect = function () {\n        systemApi.set(NoContextApi(getMe));\n      };\n      var syncComponents = function () {\n        var children$1 = children(item);\n        var subs = bind$3(children$1, function (child) {\n          return systemApi.get().getByDom(child).fold(function () {\n            return [];\n          }, pure$2);\n        });\n        subcomponents.set(subs);\n      };\n      var config = function (behaviour) {\n        var b = bData;\n        var f = isFunction(b[behaviour.name()]) ? b[behaviour.name()] : function () {\n          throw new Error('Could not find ' + behaviour.name() + ' in ' + JSON.stringify(spec, null, 2));\n        };\n        return f();\n      };\n      var hasConfigured = function (behaviour) {\n        return isFunction(bData[behaviour.name()]);\n      };\n      var getApis = function () {\n        return info.apis;\n      };\n      var readState = function (behaviourName) {\n        return bData[behaviourName]().map(function (b) {\n          return b.state.readState();\n        }).getOr('not enabled');\n      };\n      var me = {\n        uid: spec.uid,\n        getSystem: systemApi.get,\n        config: config,\n        hasConfigured: hasConfigured,\n        spec: spec,\n        readState: readState,\n        getApis: getApis,\n        connect: connect,\n        disconnect: disconnect,\n        element: item,\n        syncComponents: syncComponents,\n        components: subcomponents.get,\n        events: events\n      };\n      return me;\n    };\n\n    var buildSubcomponents = function (spec) {\n      var components = get$e(spec, 'components').getOr([]);\n      return map$2(components, build$1);\n    };\n    var buildFromSpec = function (userSpec) {\n      var _a = make$8(userSpec), specEvents = _a.events, spec = __rest(_a, ['events']);\n      var components = buildSubcomponents(spec);\n      var completeSpec = __assign(__assign({}, spec), {\n        events: __assign(__assign({}, DefaultEvents), specEvents),\n        components: components\n      });\n      return Result.value(build$2(completeSpec));\n    };\n    var text = function (textContent) {\n      var element = SugarElement.fromText(textContent);\n      return external$2({ element: element });\n    };\n    var external$2 = function (spec) {\n      var extSpec = asRawOrDie$1('external.component', objOfOnly([\n        required$1('element'),\n        option('uid')\n      ]), spec);\n      var systemApi = Cell(NoContextApi());\n      var connect = function (newApi) {\n        systemApi.set(newApi);\n      };\n      var disconnect = function () {\n        systemApi.set(NoContextApi(function () {\n          return me;\n        }));\n      };\n      var uid = extSpec.uid.getOrThunk(function () {\n        return generate$5('external');\n      });\n      writeOnly(extSpec.element, uid);\n      var me = {\n        uid: uid,\n        getSystem: systemApi.get,\n        config: Optional.none,\n        hasConfigured: never,\n        connect: connect,\n        disconnect: disconnect,\n        getApis: function () {\n          return {};\n        },\n        element: extSpec.element,\n        spec: spec,\n        readState: constant$1('No state'),\n        syncComponents: noop,\n        components: constant$1([]),\n        events: {}\n      };\n      return premade$1(me);\n    };\n    var uids = generate$5;\n    var isSketchSpec$1 = function (spec) {\n      return has$2(spec, 'uid');\n    };\n    var build$1 = function (spec) {\n      return getPremade(spec).getOrThunk(function () {\n        var userSpecWithUid = isSketchSpec$1(spec) ? spec : __assign({ uid: uids('') }, spec);\n        return buildFromSpec(userSpecWithUid).getOrDie();\n      });\n    };\n    var premade = premade$1;\n\n    function ClosestOrAncestor (is, ancestor, scope, a, isRoot) {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    }\n\n    var ancestor$1 = function (scope, predicate, isRoot) {\n      var element = scope.dom;\n      var stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var closest$3 = function (scope, predicate, isRoot) {\n      var is = function (s, test) {\n        return test(s);\n      };\n      return ClosestOrAncestor(is, ancestor$1, scope, predicate, isRoot);\n    };\n    var child$1 = function (scope, predicate) {\n      var pred = function (node) {\n        return predicate(SugarElement.fromDom(node));\n      };\n      var result = find$5(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n    var descendant$1 = function (scope, predicate) {\n      var descend = function (node) {\n        for (var i = 0; i < node.childNodes.length; i++) {\n          var child_1 = SugarElement.fromDom(node.childNodes[i]);\n          if (predicate(child_1)) {\n            return Optional.some(child_1);\n          }\n          var res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope.dom);\n    };\n\n    var closest$2 = function (scope, predicate, isRoot) {\n      return closest$3(scope, predicate, isRoot).isSome();\n    };\n\n    var ancestor = function (scope, selector, isRoot) {\n      return ancestor$1(scope, function (e) {\n        return is(e, selector);\n      }, isRoot);\n    };\n    var child = function (scope, selector) {\n      return child$1(scope, function (e) {\n        return is(e, selector);\n      });\n    };\n    var descendant = function (scope, selector) {\n      return one(selector, scope);\n    };\n    var closest$1 = function (scope, selector, isRoot) {\n      var is$1 = function (element, selector) {\n        return is(element, selector);\n      };\n      return ClosestOrAncestor(is$1, ancestor, scope, selector, isRoot);\n    };\n\n    var find$1 = function (queryElem) {\n      var dependent = closest$3(queryElem, function (elem) {\n        if (!isElement$2(elem)) {\n          return false;\n        }\n        var id = get$d(elem, 'id');\n        return id !== undefined && id.indexOf('aria-owns') > -1;\n      });\n      return dependent.bind(function (dep) {\n        var id = get$d(dep, 'id');\n        var dos = getRootNode(dep);\n        return descendant(dos, '[aria-owns=\"' + id + '\"]');\n      });\n    };\n    var manager = function () {\n      var ariaId = generate$6('aria-owns');\n      var link = function (elem) {\n        set$8(elem, 'aria-owns', ariaId);\n      };\n      var unlink = function (elem) {\n        remove$7(elem, 'aria-owns');\n      };\n      return {\n        id: ariaId,\n        link: link,\n        unlink: unlink\n      };\n    };\n\n    var isAriaPartOf = function (component, queryElem) {\n      return find$1(queryElem).exists(function (owner) {\n        return isPartOf$1(component, owner);\n      });\n    };\n    var isPartOf$1 = function (component, queryElem) {\n      return closest$2(queryElem, function (el) {\n        return eq(el, component.element);\n      }, never) || isAriaPartOf(component, queryElem);\n    };\n\n    var unknown = 'unknown';\n    var EventConfiguration;\n    (function (EventConfiguration) {\n      EventConfiguration[EventConfiguration['STOP'] = 0] = 'STOP';\n      EventConfiguration[EventConfiguration['NORMAL'] = 1] = 'NORMAL';\n      EventConfiguration[EventConfiguration['LOGGING'] = 2] = 'LOGGING';\n    }(EventConfiguration || (EventConfiguration = {})));\n    var eventConfig = Cell({});\n    var makeEventLogger = function (eventName, initialTarget) {\n      var sequence = [];\n      var startTime = new Date().getTime();\n      return {\n        logEventCut: function (_name, target, purpose) {\n          sequence.push({\n            outcome: 'cut',\n            target: target,\n            purpose: purpose\n          });\n        },\n        logEventStopped: function (_name, target, purpose) {\n          sequence.push({\n            outcome: 'stopped',\n            target: target,\n            purpose: purpose\n          });\n        },\n        logNoParent: function (_name, target, purpose) {\n          sequence.push({\n            outcome: 'no-parent',\n            target: target,\n            purpose: purpose\n          });\n        },\n        logEventNoHandlers: function (_name, target) {\n          sequence.push({\n            outcome: 'no-handlers-left',\n            target: target\n          });\n        },\n        logEventResponse: function (_name, target, purpose) {\n          sequence.push({\n            outcome: 'response',\n            purpose: purpose,\n            target: target\n          });\n        },\n        write: function () {\n          var finishTime = new Date().getTime();\n          if (contains$2([\n              'mousemove',\n              'mouseover',\n              'mouseout',\n              systemInit()\n            ], eventName)) {\n            return;\n          }\n          console.log(eventName, {\n            event: eventName,\n            time: finishTime - startTime,\n            target: initialTarget.dom,\n            sequence: map$2(sequence, function (s) {\n              if (!contains$2([\n                  'cut',\n                  'stopped',\n                  'response'\n                ], s.outcome)) {\n                return s.outcome;\n              } else {\n                return '{' + s.purpose + '} ' + s.outcome + ' at (' + element(s.target) + ')';\n              }\n            })\n          });\n        }\n      };\n    };\n    var processEvent = function (eventName, initialTarget, f) {\n      var status = get$e(eventConfig.get(), eventName).orThunk(function () {\n        var patterns = keys(eventConfig.get());\n        return findMap(patterns, function (p) {\n          return eventName.indexOf(p) > -1 ? Optional.some(eventConfig.get()[p]) : Optional.none();\n        });\n      }).getOr(EventConfiguration.NORMAL);\n      switch (status) {\n      case EventConfiguration.NORMAL:\n        return f(noLogger());\n      case EventConfiguration.LOGGING: {\n          var logger = makeEventLogger(eventName, initialTarget);\n          var output = f(logger);\n          logger.write();\n          return output;\n        }\n      case EventConfiguration.STOP:\n        return true;\n      }\n    };\n    var path = [\n      'alloy/data/Fields',\n      'alloy/debugging/Debugging'\n    ];\n    var getTrace = function () {\n      var err = new Error();\n      if (err.stack !== undefined) {\n        var lines = err.stack.split('\\n');\n        return find$5(lines, function (line) {\n          return line.indexOf('alloy') > 0 && !exists(path, function (p) {\n            return line.indexOf(p) > -1;\n          });\n        }).getOr(unknown);\n      } else {\n        return unknown;\n      }\n    };\n    var ignoreEvent = {\n      logEventCut: noop,\n      logEventStopped: noop,\n      logNoParent: noop,\n      logEventNoHandlers: noop,\n      logEventResponse: noop,\n      write: noop\n    };\n    var monitorEvent = function (eventName, initialTarget, f) {\n      return processEvent(eventName, initialTarget, f);\n    };\n    var noLogger = constant$1(ignoreEvent);\n\n    var menuFields = constant$1([\n      required$1('menu'),\n      required$1('selectedMenu')\n    ]);\n    var itemFields = constant$1([\n      required$1('item'),\n      required$1('selectedItem')\n    ]);\n    constant$1(objOf(itemFields().concat(menuFields())));\n    var itemSchema$3 = constant$1(objOf(itemFields()));\n\n    var _initSize = requiredObjOf('initSize', [\n      required$1('numColumns'),\n      required$1('numRows')\n    ]);\n    var itemMarkers = function () {\n      return requiredOf('markers', itemSchema$3());\n    };\n    var tieredMenuMarkers = function () {\n      return requiredObjOf('markers', [required$1('backgroundMenu')].concat(menuFields()).concat(itemFields()));\n    };\n    var markers$1 = function (required) {\n      return requiredObjOf('markers', map$2(required, required$1));\n    };\n    var onPresenceHandler = function (label, fieldName, presence) {\n      getTrace();\n      return field$1(fieldName, fieldName, presence, valueOf(function (f) {\n        return Result.value(function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          return f.apply(undefined, args);\n        });\n      }));\n    };\n    var onHandler = function (fieldName) {\n      return onPresenceHandler('onHandler', fieldName, defaulted$1(noop));\n    };\n    var onKeyboardHandler = function (fieldName) {\n      return onPresenceHandler('onKeyboardHandler', fieldName, defaulted$1(Optional.none));\n    };\n    var onStrictHandler = function (fieldName) {\n      return onPresenceHandler('onHandler', fieldName, required$2());\n    };\n    var onStrictKeyboardHandler = function (fieldName) {\n      return onPresenceHandler('onKeyboardHandler', fieldName, required$2());\n    };\n    var output$1 = function (name, value) {\n      return customField(name, constant$1(value));\n    };\n    var snapshot = function (name) {\n      return customField(name, identity$1);\n    };\n    var initSize = constant$1(_initSize);\n\n    var nu$6 = function (x, y, bubble, direction, placement, boundsRestriction, labelPrefix, alwaysFit) {\n      if (alwaysFit === void 0) {\n        alwaysFit = false;\n      }\n      return {\n        x: x,\n        y: y,\n        bubble: bubble,\n        direction: direction,\n        placement: placement,\n        restriction: boundsRestriction,\n        label: labelPrefix + '-' + placement,\n        alwaysFit: alwaysFit\n      };\n    };\n\n    var adt$a = Adt.generate([\n      { southeast: [] },\n      { southwest: [] },\n      { northeast: [] },\n      { northwest: [] },\n      { south: [] },\n      { north: [] },\n      { east: [] },\n      { west: [] }\n    ]);\n    var cata$2 = function (subject, southeast, southwest, northeast, northwest, south, north, east, west) {\n      return subject.fold(southeast, southwest, northeast, northwest, south, north, east, west);\n    };\n    var cataVertical = function (subject, south, middle, north) {\n      return subject.fold(south, south, north, north, south, north, middle, middle);\n    };\n    var cataHorizontal = function (subject, east, middle, west) {\n      return subject.fold(east, west, east, west, middle, middle, east, west);\n    };\n    var southeast$3 = adt$a.southeast;\n    var southwest$3 = adt$a.southwest;\n    var northeast$3 = adt$a.northeast;\n    var northwest$3 = adt$a.northwest;\n    var south$3 = adt$a.south;\n    var north$3 = adt$a.north;\n    var east$3 = adt$a.east;\n    var west$3 = adt$a.west;\n\n    var cycleBy = function (value, delta, min, max) {\n      var r = value + delta;\n      if (r > max) {\n        return min;\n      } else if (r < min) {\n        return max;\n      } else {\n        return r;\n      }\n    };\n    var clamp$1 = function (value, min, max) {\n      return Math.min(Math.max(value, min), max);\n    };\n\n    var getRestriction = function (anchor, restriction) {\n      switch (restriction) {\n      case 1:\n        return anchor.x;\n      case 0:\n        return anchor.x + anchor.width;\n      case 2:\n        return anchor.y;\n      case 3:\n        return anchor.y + anchor.height;\n      }\n    };\n    var boundsRestriction = function (anchor, restrictions) {\n      return mapToObject([\n        'left',\n        'right',\n        'top',\n        'bottom'\n      ], function (dir) {\n        return get$e(restrictions, dir).map(function (restriction) {\n          return getRestriction(anchor, restriction);\n        });\n      });\n    };\n    var adjustBounds = function (bounds$1, restriction, bubbleOffset) {\n      var applyRestriction = function (dir, current) {\n        return restriction[dir].map(function (pos) {\n          var isVerticalAxis = dir === 'top' || dir === 'bottom';\n          var offset = isVerticalAxis ? bubbleOffset.top : bubbleOffset.left;\n          var comparator = dir === 'left' || dir === 'top' ? Math.max : Math.min;\n          var newPos = comparator(pos, current) + offset;\n          return isVerticalAxis ? clamp$1(newPos, bounds$1.y, bounds$1.bottom) : clamp$1(newPos, bounds$1.x, bounds$1.right);\n        }).getOr(current);\n      };\n      var adjustedLeft = applyRestriction('left', bounds$1.x);\n      var adjustedTop = applyRestriction('top', bounds$1.y);\n      var adjustedRight = applyRestriction('right', bounds$1.right);\n      var adjustedBottom = applyRestriction('bottom', bounds$1.bottom);\n      return bounds(adjustedLeft, adjustedTop, adjustedRight - adjustedLeft, adjustedBottom - adjustedTop);\n    };\n\n    var labelPrefix$2 = 'layout';\n    var eastX$1 = function (anchor) {\n      return anchor.x;\n    };\n    var middleX$1 = function (anchor, element) {\n      return anchor.x + anchor.width / 2 - element.width / 2;\n    };\n    var westX$1 = function (anchor, element) {\n      return anchor.x + anchor.width - element.width;\n    };\n    var northY$2 = function (anchor, element) {\n      return anchor.y - element.height;\n    };\n    var southY$2 = function (anchor) {\n      return anchor.y + anchor.height;\n    };\n    var centreY$1 = function (anchor, element) {\n      return anchor.y + anchor.height / 2 - element.height / 2;\n    };\n    var eastEdgeX$1 = function (anchor) {\n      return anchor.x + anchor.width;\n    };\n    var westEdgeX$1 = function (anchor, element) {\n      return anchor.x - element.width;\n    };\n    var southeast$2 = function (anchor, element, bubbles) {\n      return nu$6(eastX$1(anchor), southY$2(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n        left: 1,\n        top: 3\n      }), labelPrefix$2);\n    };\n    var southwest$2 = function (anchor, element, bubbles) {\n      return nu$6(westX$1(anchor, element), southY$2(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n        right: 0,\n        top: 3\n      }), labelPrefix$2);\n    };\n    var northeast$2 = function (anchor, element, bubbles) {\n      return nu$6(eastX$1(anchor), northY$2(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n        left: 1,\n        bottom: 2\n      }), labelPrefix$2);\n    };\n    var northwest$2 = function (anchor, element, bubbles) {\n      return nu$6(westX$1(anchor, element), northY$2(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n        right: 0,\n        bottom: 2\n      }), labelPrefix$2);\n    };\n    var north$2 = function (anchor, element, bubbles) {\n      return nu$6(middleX$1(anchor, element), northY$2(anchor, element), bubbles.north(), north$3(), 'north', boundsRestriction(anchor, { bottom: 2 }), labelPrefix$2);\n    };\n    var south$2 = function (anchor, element, bubbles) {\n      return nu$6(middleX$1(anchor, element), southY$2(anchor), bubbles.south(), south$3(), 'south', boundsRestriction(anchor, { top: 3 }), labelPrefix$2);\n    };\n    var east$2 = function (anchor, element, bubbles) {\n      return nu$6(eastEdgeX$1(anchor), centreY$1(anchor, element), bubbles.east(), east$3(), 'east', boundsRestriction(anchor, { left: 0 }), labelPrefix$2);\n    };\n    var west$2 = function (anchor, element, bubbles) {\n      return nu$6(westEdgeX$1(anchor, element), centreY$1(anchor, element), bubbles.west(), west$3(), 'west', boundsRestriction(anchor, { right: 1 }), labelPrefix$2);\n    };\n    var all$1 = function () {\n      return [\n        southeast$2,\n        southwest$2,\n        northeast$2,\n        northwest$2,\n        south$2,\n        north$2,\n        east$2,\n        west$2\n      ];\n    };\n    var allRtl$1 = function () {\n      return [\n        southwest$2,\n        southeast$2,\n        northwest$2,\n        northeast$2,\n        south$2,\n        north$2,\n        east$2,\n        west$2\n      ];\n    };\n    var aboveOrBelow = function () {\n      return [\n        northeast$2,\n        northwest$2,\n        southeast$2,\n        southwest$2,\n        north$2,\n        south$2\n      ];\n    };\n    var aboveOrBelowRtl = function () {\n      return [\n        northwest$2,\n        northeast$2,\n        southwest$2,\n        southeast$2,\n        north$2,\n        south$2\n      ];\n    };\n    var belowOrAbove = function () {\n      return [\n        southeast$2,\n        southwest$2,\n        northeast$2,\n        northwest$2,\n        south$2,\n        north$2\n      ];\n    };\n    var belowOrAboveRtl = function () {\n      return [\n        southwest$2,\n        southeast$2,\n        northwest$2,\n        northeast$2,\n        south$2,\n        north$2\n      ];\n    };\n\n    var chooseChannels = function (channels, message) {\n      return message.universal ? channels : filter$2(channels, function (ch) {\n        return contains$2(message.channels, ch);\n      });\n    };\n    var events$h = function (receiveConfig) {\n      return derive$2([run$1(receive(), function (component, message) {\n          var channelMap = receiveConfig.channels;\n          var channels = keys(channelMap);\n          var receivingData = message;\n          var targetChannels = chooseChannels(channels, receivingData);\n          each$1(targetChannels, function (ch) {\n            var channelInfo = channelMap[ch];\n            var channelSchema = channelInfo.schema;\n            var data = asRawOrDie$1('channel[' + ch + '] data\\nReceiver: ' + element(component.element), channelSchema, receivingData.data);\n            channelInfo.onReceive(component, data);\n          });\n        })]);\n    };\n\n    var ActiveReceiving = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$h\n    });\n\n    var ReceivingSchema = [requiredOf('channels', setOf(Result.value, objOfOnly([\n        onStrictHandler('onReceive'),\n        defaulted('schema', anyValue())\n      ])))];\n\n    var executeEvent = function (bConfig, bState, executor) {\n      return runOnExecute$1(function (component) {\n        executor(component, bConfig, bState);\n      });\n    };\n    var loadEvent = function (bConfig, bState, f) {\n      return runOnInit(function (component, _simulatedEvent) {\n        f(component, bConfig, bState);\n      });\n    };\n    var create$8 = function (schema, name, active, apis, extra, state) {\n      var configSchema = objOfOnly(schema);\n      var schemaSchema = optionObjOf(name, [optionObjOfOnly('config', schema)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    var createModes$1 = function (modes, name, active, apis, extra, state) {\n      var configSchema = modes;\n      var schemaSchema = optionObjOf(name, [optionOf('config', modes)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    var wrapApi = function (bName, apiFunction, apiName) {\n      var f = function (component) {\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n          rest[_i - 1] = arguments[_i];\n        }\n        var args = [component].concat(rest);\n        return component.config({ name: constant$1(bName) }).fold(function () {\n          throw new Error('We could not find any behaviour configuration for: ' + bName + '. Using API: ' + apiName);\n        }, function (info) {\n          var rest = Array.prototype.slice.call(args, 1);\n          return apiFunction.apply(undefined, [\n            component,\n            info.config,\n            info.state\n          ].concat(rest));\n        });\n      };\n      return markAsBehaviourApi(f, apiName, apiFunction);\n    };\n    var revokeBehaviour = function (name) {\n      return {\n        key: name,\n        value: undefined\n      };\n    };\n    var doCreate = function (configSchema, schemaSchema, name, active, apis, extra, state) {\n      var getConfig = function (info) {\n        return hasNonNullableKey(info, name) ? info[name]() : Optional.none();\n      };\n      var wrappedApis = map$1(apis, function (apiF, apiName) {\n        return wrapApi(name, apiF, apiName);\n      });\n      var wrappedExtra = map$1(extra, function (extraF, extraName) {\n        return markAsExtraApi(extraF, extraName);\n      });\n      var me = __assign(__assign(__assign({}, wrappedExtra), wrappedApis), {\n        revoke: curry(revokeBehaviour, name),\n        config: function (spec) {\n          var prepared = asRawOrDie$1(name + '-config', configSchema, spec);\n          return {\n            key: name,\n            value: {\n              config: prepared,\n              me: me,\n              configAsRaw: cached(function () {\n                return asRawOrDie$1(name + '-config', configSchema, spec);\n              }),\n              initialConfig: spec,\n              state: state\n            }\n          };\n        },\n        schema: constant$1(schemaSchema),\n        exhibit: function (info, base) {\n          return lift2(getConfig(info), get$e(active, 'exhibit'), function (behaviourInfo, exhibitor) {\n            return exhibitor(base, behaviourInfo.config, behaviourInfo.state);\n          }).getOrThunk(function () {\n            return nu$7({});\n          });\n        },\n        name: constant$1(name),\n        handlers: function (info) {\n          return getConfig(info).map(function (behaviourInfo) {\n            var getEvents = get$e(active, 'events').getOr(function () {\n              return {};\n            });\n            return getEvents(behaviourInfo.config, behaviourInfo.state);\n          }).getOr({});\n        }\n      });\n      return me;\n    };\n\n    var derive$1 = function (capabilities) {\n      return wrapAll(capabilities);\n    };\n    var simpleSchema = objOfOnly([\n      required$1('fields'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    var create$7 = function (data) {\n      var value = asRawOrDie$1('Creating behaviour: ' + data.name, simpleSchema, data);\n      return create$8(value.fields, value.name, value.active, value.apis, value.extra, value.state);\n    };\n    var modeSchema = objOfOnly([\n      required$1('branchKey'),\n      required$1('branches'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    var createModes = function (data) {\n      var value = asRawOrDie$1('Creating behaviour: ' + data.name, modeSchema, data);\n      return createModes$1(choose$1(value.branchKey, value.branches), value.name, value.active, value.apis, value.extra, value.state);\n    };\n    var revoke = constant$1(undefined);\n\n    var Receiving = create$7({\n      fields: ReceivingSchema,\n      name: 'receiving',\n      active: ActiveReceiving\n    });\n\n    var exhibit$6 = function (base, posConfig) {\n      return nu$7({\n        classes: [],\n        styles: posConfig.useFixed() ? {} : { position: 'relative' }\n      });\n    };\n\n    var ActivePosition = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$6\n    });\n\n    var getDocument = function () {\n      return SugarElement.fromDom(document);\n    };\n\n    var focus$3 = function (element) {\n      return element.dom.focus();\n    };\n    var blur$1 = function (element) {\n      return element.dom.blur();\n    };\n    var hasFocus = function (element) {\n      var root = getRootNode(element).dom;\n      return element.dom === root.activeElement;\n    };\n    var active = function (root) {\n      if (root === void 0) {\n        root = getDocument();\n      }\n      return Optional.from(root.dom.activeElement).map(SugarElement.fromDom);\n    };\n    var search = function (element) {\n      return active(getRootNode(element)).filter(function (e) {\n        return element.dom.contains(e.dom);\n      });\n    };\n\n    var preserve$1 = function (f, container) {\n      var dos = getRootNode(container);\n      var refocus = active(dos).bind(function (focused) {\n        var hasFocus = function (elem) {\n          return eq(focused, elem);\n        };\n        return hasFocus(container) ? Optional.some(container) : descendant$1(container, hasFocus);\n      });\n      var result = f(container);\n      refocus.each(function (oldFocus) {\n        active(dos).filter(function (newFocus) {\n          return eq(newFocus, oldFocus);\n        }).fold(function () {\n          focus$3(oldFocus);\n        }, noop);\n      });\n      return result;\n    };\n\n    var NuPositionCss = function (position, left, top, right, bottom) {\n      var toPx = function (num) {\n        return num + 'px';\n      };\n      return {\n        position: position,\n        left: left.map(toPx),\n        top: top.map(toPx),\n        right: right.map(toPx),\n        bottom: bottom.map(toPx)\n      };\n    };\n    var toOptions = function (position) {\n      return __assign(__assign({}, position), { position: Optional.some(position.position) });\n    };\n    var applyPositionCss = function (element, position) {\n      setOptions(element, toOptions(position));\n    };\n\n    var adt$9 = Adt.generate([\n      { none: [] },\n      {\n        relative: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      }\n    ]);\n    var positionWithDirection = function (posName, decision, x, y, width, height) {\n      var decisionRect = decision.rect;\n      var decisionX = decisionRect.x - x;\n      var decisionY = decisionRect.y - y;\n      var decisionWidth = decisionRect.width;\n      var decisionHeight = decisionRect.height;\n      var decisionRight = width - (decisionX + decisionWidth);\n      var decisionBottom = height - (decisionY + decisionHeight);\n      var left = Optional.some(decisionX);\n      var top = Optional.some(decisionY);\n      var right = Optional.some(decisionRight);\n      var bottom = Optional.some(decisionBottom);\n      var none = Optional.none();\n      return cata$2(decision.direction, function () {\n        return NuPositionCss(posName, left, top, none, none);\n      }, function () {\n        return NuPositionCss(posName, none, top, right, none);\n      }, function () {\n        return NuPositionCss(posName, left, none, none, bottom);\n      }, function () {\n        return NuPositionCss(posName, none, none, right, bottom);\n      }, function () {\n        return NuPositionCss(posName, left, top, none, none);\n      }, function () {\n        return NuPositionCss(posName, left, none, none, bottom);\n      }, function () {\n        return NuPositionCss(posName, left, top, none, none);\n      }, function () {\n        return NuPositionCss(posName, none, top, right, none);\n      });\n    };\n    var reposition = function (origin, decision) {\n      return origin.fold(function () {\n        var decisionRect = decision.rect;\n        return NuPositionCss('absolute', Optional.some(decisionRect.x), Optional.some(decisionRect.y), Optional.none(), Optional.none());\n      }, function (x, y, width, height) {\n        return positionWithDirection('absolute', decision, x, y, width, height);\n      }, function (x, y, width, height) {\n        return positionWithDirection('fixed', decision, x, y, width, height);\n      });\n    };\n    var toBox = function (origin, element) {\n      var rel = curry(find$2, element);\n      var position = origin.fold(rel, rel, function () {\n        var scroll = get$9();\n        return find$2(element).translate(-scroll.left, -scroll.top);\n      });\n      var width = getOuter$1(element);\n      var height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    var viewport = function (origin, getBounds) {\n      return getBounds.fold(function () {\n        return origin.fold(win, win, bounds);\n      }, function (b) {\n        return origin.fold(b, b, function () {\n          var bounds$1 = b();\n          var pos = translate$2(origin, bounds$1.x, bounds$1.y);\n          return bounds(pos.left, pos.top, bounds$1.width, bounds$1.height);\n        });\n      });\n    };\n    var translate$2 = function (origin, x, y) {\n      var pos = SugarPosition(x, y);\n      var removeScroll = function () {\n        var outerScroll = get$9();\n        return pos.translate(-outerScroll.left, -outerScroll.top);\n      };\n      return origin.fold(constant$1(pos), constant$1(pos), removeScroll);\n    };\n    var cata$1 = function (subject, onNone, onRelative, onFixed) {\n      return subject.fold(onNone, onRelative, onFixed);\n    };\n    adt$9.none;\n    var relative$1 = adt$9.relative;\n    var fixed$1 = adt$9.fixed;\n\n    var anchor = function (anchorBox, origin) {\n      return {\n        anchorBox: anchorBox,\n        origin: origin\n      };\n    };\n    var box = function (anchorBox, origin) {\n      return anchor(anchorBox, origin);\n    };\n\n    var placementAttribute = 'data-alloy-placement';\n    var setPlacement$1 = function (element, placement) {\n      set$8(element, placementAttribute, placement);\n    };\n    var getPlacement = function (element) {\n      return getOpt(element, placementAttribute);\n    };\n    var reset$2 = function (element) {\n      return remove$7(element, placementAttribute);\n    };\n\n    var adt$8 = Adt.generate([\n      { fit: ['reposition'] },\n      {\n        nofit: [\n          'reposition',\n          'visibleW',\n          'visibleH',\n          'isVisible'\n        ]\n      }\n    ]);\n    var determinePosition = function (box, bounds) {\n      var boundsX = bounds.x, boundsY = bounds.y, boundsRight = bounds.right, boundsBottom = bounds.bottom;\n      var x = box.x, y = box.y, right = box.right, bottom = box.bottom, width = box.width, height = box.height;\n      var xInBounds = x >= boundsX && x <= boundsRight;\n      var yInBounds = y >= boundsY && y <= boundsBottom;\n      var originInBounds = xInBounds && yInBounds;\n      var rightInBounds = right <= boundsRight && right >= boundsX;\n      var bottomInBounds = bottom <= boundsBottom && bottom >= boundsY;\n      var sizeInBounds = rightInBounds && bottomInBounds;\n      var visibleW = Math.min(width, x >= boundsX ? boundsRight - x : right - boundsX);\n      var visibleH = Math.min(height, y >= boundsY ? boundsBottom - y : bottom - boundsY);\n      return {\n        originInBounds: originInBounds,\n        sizeInBounds: sizeInBounds,\n        visibleW: visibleW,\n        visibleH: visibleH\n      };\n    };\n    var calcReposition = function (box, bounds$1) {\n      var boundsX = bounds$1.x, boundsY = bounds$1.y, boundsRight = bounds$1.right, boundsBottom = bounds$1.bottom;\n      var x = box.x, y = box.y, width = box.width, height = box.height;\n      var maxX = Math.max(boundsX, boundsRight - width);\n      var maxY = Math.max(boundsY, boundsBottom - height);\n      var restrictedX = clamp$1(x, boundsX, maxX);\n      var restrictedY = clamp$1(y, boundsY, maxY);\n      var restrictedWidth = Math.min(restrictedX + width, boundsRight) - restrictedX;\n      var restrictedHeight = Math.min(restrictedY + height, boundsBottom) - restrictedY;\n      return bounds(restrictedX, restrictedY, restrictedWidth, restrictedHeight);\n    };\n    var calcMaxSizes = function (direction, box, bounds) {\n      var upAvailable = constant$1(box.bottom - bounds.y);\n      var downAvailable = constant$1(bounds.bottom - box.y);\n      var maxHeight = cataVertical(direction, downAvailable, downAvailable, upAvailable);\n      var westAvailable = constant$1(box.right - bounds.x);\n      var eastAvailable = constant$1(bounds.right - box.x);\n      var maxWidth = cataHorizontal(direction, eastAvailable, eastAvailable, westAvailable);\n      return {\n        maxWidth: maxWidth,\n        maxHeight: maxHeight\n      };\n    };\n    var attempt = function (candidate, width, height, bounds$1) {\n      var bubble = candidate.bubble;\n      var bubbleOffset = bubble.offset;\n      var adjustedBounds = adjustBounds(bounds$1, candidate.restriction, bubbleOffset);\n      var newX = candidate.x + bubbleOffset.left;\n      var newY = candidate.y + bubbleOffset.top;\n      var box = bounds(newX, newY, width, height);\n      var _a = determinePosition(box, adjustedBounds), originInBounds = _a.originInBounds, sizeInBounds = _a.sizeInBounds, visibleW = _a.visibleW, visibleH = _a.visibleH;\n      var fits = originInBounds && sizeInBounds;\n      var fittedBox = fits ? box : calcReposition(box, adjustedBounds);\n      var isPartlyVisible = fittedBox.width > 0 && fittedBox.height > 0;\n      var _b = calcMaxSizes(candidate.direction, fittedBox, bounds$1), maxWidth = _b.maxWidth, maxHeight = _b.maxHeight;\n      var reposition = {\n        rect: fittedBox,\n        maxHeight: maxHeight,\n        maxWidth: maxWidth,\n        direction: candidate.direction,\n        placement: candidate.placement,\n        classes: {\n          on: bubble.classesOn,\n          off: bubble.classesOff\n        },\n        layout: candidate.label,\n        testY: newY\n      };\n      return fits || candidate.alwaysFit ? adt$8.fit(reposition) : adt$8.nofit(reposition, visibleW, visibleH, isPartlyVisible);\n    };\n    var attempts = function (element, candidates, anchorBox, elementBox, bubbles, bounds) {\n      var panelWidth = elementBox.width;\n      var panelHeight = elementBox.height;\n      var attemptBestFit = function (layout, reposition, visibleW, visibleH, isVisible) {\n        var next = layout(anchorBox, elementBox, bubbles, element, bounds);\n        var attemptLayout = attempt(next, panelWidth, panelHeight, bounds);\n        return attemptLayout.fold(constant$1(attemptLayout), function (newReposition, newVisibleW, newVisibleH, newIsVisible) {\n          var improved = isVisible === newIsVisible ? newVisibleH > visibleH || newVisibleW > visibleW : !isVisible && newIsVisible;\n          return improved ? attemptLayout : adt$8.nofit(reposition, visibleW, visibleH, isVisible);\n        });\n      };\n      var abc = foldl(candidates, function (b, a) {\n        var bestNext = curry(attemptBestFit, a);\n        return b.fold(constant$1(b), bestNext);\n      }, adt$8.nofit({\n        rect: anchorBox,\n        maxHeight: elementBox.height,\n        maxWidth: elementBox.width,\n        direction: southeast$3(),\n        placement: 'southeast',\n        classes: {\n          on: [],\n          off: []\n        },\n        layout: 'none',\n        testY: anchorBox.y\n      }, -1, -1, false));\n      return abc.fold(identity$1, identity$1);\n    };\n\n    var singleton = function (doRevoke) {\n      var subject = Cell(Optional.none());\n      var revoke = function () {\n        return subject.get().each(doRevoke);\n      };\n      var clear = function () {\n        revoke();\n        subject.set(Optional.none());\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      var get = function () {\n        return subject.get();\n      };\n      var set = function (s) {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear: clear,\n        isSet: isSet,\n        get: get,\n        set: set\n      };\n    };\n    var destroyable = function () {\n      return singleton(function (s) {\n        return s.destroy();\n      });\n    };\n    var unbindable = function () {\n      return singleton(function (s) {\n        return s.unbind();\n      });\n    };\n    var api$1 = function () {\n      var subject = destroyable();\n      var run = function (f) {\n        return subject.get().each(f);\n      };\n      return __assign(__assign({}, subject), { run: run });\n    };\n    var value$1 = function () {\n      var subject = singleton(noop);\n      var on = function (f) {\n        return subject.get().each(f);\n      };\n      return __assign(__assign({}, subject), { on: on });\n    };\n\n    var filter = always;\n    var bind = function (element, event, handler) {\n      return bind$2(element, event, filter, handler);\n    };\n    var capture = function (element, event, handler) {\n      return capture$1(element, event, filter, handler);\n    };\n    var fromRawEvent = fromRawEvent$1;\n\n    var properties = [\n      'top',\n      'bottom',\n      'right',\n      'left'\n    ];\n    var timerAttr = 'data-alloy-transition-timer';\n    var isTransitioning$1 = function (element, transition) {\n      return hasAll(element, transition.classes);\n    };\n    var shouldApplyTransitionCss = function (transition, decision, lastPlacement) {\n      return lastPlacement.exists(function (placer) {\n        var mode = transition.mode;\n        return mode === 'all' ? true : placer[mode] !== decision[mode];\n      });\n    };\n    var hasChanges = function (position, intermediate) {\n      var round = function (value) {\n        return parseFloat(value).toFixed(3);\n      };\n      return find$4(intermediate, function (value, key) {\n        var newValue = position[key].map(round);\n        var val = value.map(round);\n        return !equals(newValue, val);\n      }).isSome();\n    };\n    var getTransitionDuration = function (element) {\n      var get = function (name) {\n        var style = get$c(element, name);\n        var times = isString(style) ? style.split(/\\s*,\\s*/) : [];\n        return filter$2(times, isNotEmpty);\n      };\n      var parse = function (value) {\n        if (isString(value) && /^[\\d.]+/.test(value)) {\n          var num = parseFloat(value);\n          return endsWith(value, 'ms') ? num : num * 1000;\n        } else {\n          return 0;\n        }\n      };\n      var delay = get('transition-delay');\n      var duration = get('transition-duration');\n      return foldl(duration, function (acc, dur, i) {\n        var time = parse(delay[i]) + parse(dur);\n        return Math.max(acc, time);\n      }, 0);\n    };\n    var setupTransitionListeners = function (element, transition) {\n      var transitionEnd = unbindable();\n      var transitionCancel = unbindable();\n      var timer;\n      var isSourceTransition = function (e) {\n        var _a;\n        var pseudoElement = (_a = e.raw.pseudoElement) !== null && _a !== void 0 ? _a : '';\n        return eq(e.target, element) && isEmpty(pseudoElement) && contains$2(properties, e.raw.propertyName);\n      };\n      var transitionDone = function (e) {\n        if (isNullable(e) || isSourceTransition(e)) {\n          transitionEnd.clear();\n          transitionCancel.clear();\n          var type = e === null || e === void 0 ? void 0 : e.raw.type;\n          if (isNullable(type) || type === transitionend()) {\n            clearTimeout(timer);\n            remove$7(element, timerAttr);\n            remove$1(element, transition.classes);\n          }\n        }\n      };\n      var transitionStarted = function () {\n        transitionEnd.set(bind(element, transitionend(), transitionDone));\n        transitionCancel.set(bind(element, transitioncancel(), transitionDone));\n      };\n      if ('ontransitionstart' in element.dom) {\n        var transitionStart_1 = bind(element, transitionstart(), function (e) {\n          if (isSourceTransition(e)) {\n            transitionStart_1.unbind();\n            transitionStarted();\n          }\n        });\n      } else {\n        transitionStarted();\n      }\n      var duration = getTransitionDuration(element);\n      requestAnimationFrame(function () {\n        timer = setTimeout(transitionDone, duration + 17);\n        set$8(element, timerAttr, timer);\n      });\n    };\n    var startTransitioning = function (element, transition) {\n      add$1(element, transition.classes);\n      getOpt(element, timerAttr).each(function (timerId) {\n        clearTimeout(parseInt(timerId, 10));\n        remove$7(element, timerAttr);\n      });\n      setupTransitionListeners(element, transition);\n    };\n    var applyTransitionCss = function (element, origin, position, transition, decision, lastPlacement) {\n      var shouldTransition = shouldApplyTransitionCss(transition, decision, lastPlacement);\n      if (shouldTransition || isTransitioning$1(element, transition)) {\n        set$7(element, 'position', position.position);\n        var rect = toBox(origin, element);\n        var intermediatePosition_1 = reposition(origin, __assign(__assign({}, decision), { rect: rect }));\n        var intermediateCssOptions = mapToObject(properties, function (prop) {\n          return intermediatePosition_1[prop];\n        });\n        if (hasChanges(position, intermediateCssOptions)) {\n          setOptions(element, intermediateCssOptions);\n          if (shouldTransition) {\n            startTransitioning(element, transition);\n          }\n          reflow(element);\n        }\n      } else {\n        remove$1(element, transition.classes);\n      }\n    };\n\n    var elementSize = function (p) {\n      return {\n        width: getOuter$1(p),\n        height: getOuter$2(p)\n      };\n    };\n    var layout = function (anchorBox, element, bubbles, options) {\n      remove$6(element, 'max-height');\n      remove$6(element, 'max-width');\n      var elementBox = elementSize(element);\n      return attempts(element, options.preference, anchorBox, elementBox, bubbles, options.bounds);\n    };\n    var setClasses = function (element, decision) {\n      var classInfo = decision.classes;\n      remove$1(element, classInfo.off);\n      add$1(element, classInfo.on);\n    };\n    var setHeight = function (element, decision, options) {\n      var maxHeightFunction = options.maxHeightFunction;\n      maxHeightFunction(element, decision.maxHeight);\n    };\n    var setWidth = function (element, decision, options) {\n      var maxWidthFunction = options.maxWidthFunction;\n      maxWidthFunction(element, decision.maxWidth);\n    };\n    var position$2 = function (element, decision, options) {\n      var positionCss = reposition(options.origin, decision);\n      options.transition.each(function (transition) {\n        applyTransitionCss(element, options.origin, positionCss, transition, decision, options.lastPlacement);\n      });\n      applyPositionCss(element, positionCss);\n    };\n    var setPlacement = function (element, decision) {\n      setPlacement$1(element, decision.placement);\n    };\n\n    var setMaxHeight = function (element, maxHeight) {\n      setMax$1(element, Math.floor(maxHeight));\n    };\n    var anchored = constant$1(function (element, available) {\n      setMaxHeight(element, available);\n      setAll(element, {\n        'overflow-x': 'hidden',\n        'overflow-y': 'auto'\n      });\n    });\n    var expandable$1 = constant$1(function (element, available) {\n      setMaxHeight(element, available);\n    });\n\n    var defaultOr = function (options, key, dephault) {\n      return options[key] === undefined ? dephault : options[key];\n    };\n    var simple = function (anchor, element, bubble, layouts, lastPlacement, getBounds, overrideOptions, transition) {\n      var maxHeightFunction = defaultOr(overrideOptions, 'maxHeightFunction', anchored());\n      var maxWidthFunction = defaultOr(overrideOptions, 'maxWidthFunction', noop);\n      var anchorBox = anchor.anchorBox;\n      var origin = anchor.origin;\n      var options = {\n        bounds: viewport(origin, getBounds),\n        origin: origin,\n        preference: layouts,\n        maxHeightFunction: maxHeightFunction,\n        maxWidthFunction: maxWidthFunction,\n        lastPlacement: lastPlacement,\n        transition: transition\n      };\n      return go(anchorBox, element, bubble, options);\n    };\n    var go = function (anchorBox, element, bubble, options) {\n      var decision = layout(anchorBox, element, bubble, options);\n      position$2(element, decision, options);\n      setPlacement(element, decision);\n      setClasses(element, decision);\n      setHeight(element, decision, options);\n      setWidth(element, decision, options);\n      return {\n        layout: decision.layout,\n        placement: decision.placement\n      };\n    };\n\n    var allAlignments = [\n      'valignCentre',\n      'alignLeft',\n      'alignRight',\n      'alignCentre',\n      'top',\n      'bottom',\n      'left',\n      'right',\n      'inset'\n    ];\n    var nu$5 = function (xOffset, yOffset, classes, insetModifier) {\n      if (insetModifier === void 0) {\n        insetModifier = 1;\n      }\n      var insetXOffset = xOffset * insetModifier;\n      var insetYOffset = yOffset * insetModifier;\n      var getClasses = function (prop) {\n        return get$e(classes, prop).getOr([]);\n      };\n      var make = function (xDelta, yDelta, alignmentsOn) {\n        var alignmentsOff = difference(allAlignments, alignmentsOn);\n        return {\n          offset: SugarPosition(xDelta, yDelta),\n          classesOn: bind$3(alignmentsOn, getClasses),\n          classesOff: bind$3(alignmentsOff, getClasses)\n        };\n      };\n      return {\n        southeast: function () {\n          return make(-xOffset, yOffset, [\n            'top',\n            'alignLeft'\n          ]);\n        },\n        southwest: function () {\n          return make(xOffset, yOffset, [\n            'top',\n            'alignRight'\n          ]);\n        },\n        south: function () {\n          return make(-xOffset / 2, yOffset, [\n            'top',\n            'alignCentre'\n          ]);\n        },\n        northeast: function () {\n          return make(-xOffset, -yOffset, [\n            'bottom',\n            'alignLeft'\n          ]);\n        },\n        northwest: function () {\n          return make(xOffset, -yOffset, [\n            'bottom',\n            'alignRight'\n          ]);\n        },\n        north: function () {\n          return make(-xOffset / 2, -yOffset, [\n            'bottom',\n            'alignCentre'\n          ]);\n        },\n        east: function () {\n          return make(xOffset, -yOffset / 2, [\n            'valignCentre',\n            'left'\n          ]);\n        },\n        west: function () {\n          return make(-xOffset, -yOffset / 2, [\n            'valignCentre',\n            'right'\n          ]);\n        },\n        insetNortheast: function () {\n          return make(insetXOffset, insetYOffset, [\n            'top',\n            'alignLeft',\n            'inset'\n          ]);\n        },\n        insetNorthwest: function () {\n          return make(-insetXOffset, insetYOffset, [\n            'top',\n            'alignRight',\n            'inset'\n          ]);\n        },\n        insetNorth: function () {\n          return make(-insetXOffset / 2, insetYOffset, [\n            'top',\n            'alignCentre',\n            'inset'\n          ]);\n        },\n        insetSoutheast: function () {\n          return make(insetXOffset, -insetYOffset, [\n            'bottom',\n            'alignLeft',\n            'inset'\n          ]);\n        },\n        insetSouthwest: function () {\n          return make(-insetXOffset, -insetYOffset, [\n            'bottom',\n            'alignRight',\n            'inset'\n          ]);\n        },\n        insetSouth: function () {\n          return make(-insetXOffset / 2, -insetYOffset, [\n            'bottom',\n            'alignCentre',\n            'inset'\n          ]);\n        },\n        insetEast: function () {\n          return make(-insetXOffset, -insetYOffset / 2, [\n            'valignCentre',\n            'right',\n            'inset'\n          ]);\n        },\n        insetWest: function () {\n          return make(insetXOffset, -insetYOffset / 2, [\n            'valignCentre',\n            'left',\n            'inset'\n          ]);\n        }\n      };\n    };\n    var fallback = function () {\n      return nu$5(0, 0, {});\n    };\n\n    var nu$4 = identity$1;\n\n    var onDirection = function (isLtr, isRtl) {\n      return function (element) {\n        return getDirection(element) === 'rtl' ? isRtl : isLtr;\n      };\n    };\n    var getDirection = function (element) {\n      return get$c(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n    };\n\n    var AttributeValue;\n    (function (AttributeValue) {\n      AttributeValue['TopToBottom'] = 'toptobottom';\n      AttributeValue['BottomToTop'] = 'bottomtotop';\n    }(AttributeValue || (AttributeValue = {})));\n    var Attribute = 'data-alloy-vertical-dir';\n    var isBottomToTopDir = function (el) {\n      return closest$2(el, function (current) {\n        return isElement$2(current) && get$d(current, 'data-alloy-vertical-dir') === AttributeValue.BottomToTop;\n      });\n    };\n\n    var schema$y = function () {\n      return optionObjOf('layouts', [\n        required$1('onLtr'),\n        required$1('onRtl'),\n        option('onBottomLtr'),\n        option('onBottomRtl')\n      ]);\n    };\n    var get$4 = function (elem, info, defaultLtr, defaultRtl, defaultBottomLtr, defaultBottomRtl, dirElement) {\n      var isBottomToTop = dirElement.map(isBottomToTopDir).getOr(false);\n      var customLtr = info.layouts.map(function (ls) {\n        return ls.onLtr(elem);\n      });\n      var customRtl = info.layouts.map(function (ls) {\n        return ls.onRtl(elem);\n      });\n      var ltr = isBottomToTop ? info.layouts.bind(function (ls) {\n        return ls.onBottomLtr.map(function (f) {\n          return f(elem);\n        });\n      }).or(customLtr).getOr(defaultBottomLtr) : customLtr.getOr(defaultLtr);\n      var rtl = isBottomToTop ? info.layouts.bind(function (ls) {\n        return ls.onBottomRtl.map(function (f) {\n          return f(elem);\n        });\n      }).or(customRtl).getOr(defaultBottomRtl) : customRtl.getOr(defaultRtl);\n      var f = onDirection(ltr, rtl);\n      return f(elem);\n    };\n\n    var placement$4 = function (component, anchorInfo, origin) {\n      var hotspot = anchorInfo.hotspot;\n      var anchorBox = toBox(origin, hotspot.element);\n      var layouts = get$4(component.element, anchorInfo, belowOrAbove(), belowOrAboveRtl(), aboveOrBelow(), aboveOrBelowRtl(), Optional.some(anchorInfo.hotspot.element));\n      return Optional.some(nu$4({\n        anchorBox: anchorBox,\n        bubble: anchorInfo.bubble.getOr(fallback()),\n        overrides: anchorInfo.overrides,\n        layouts: layouts,\n        placer: Optional.none()\n      }));\n    };\n    var HotspotAnchor = [\n      required$1('hotspot'),\n      option('bubble'),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$4)\n    ];\n\n    var placement$3 = function (component, anchorInfo, origin) {\n      var pos = translate$2(origin, anchorInfo.x, anchorInfo.y);\n      var anchorBox = bounds(pos.left, pos.top, anchorInfo.width, anchorInfo.height);\n      var layouts = get$4(component.element, anchorInfo, all$1(), allRtl$1(), all$1(), allRtl$1(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox: anchorBox,\n        bubble: anchorInfo.bubble,\n        overrides: anchorInfo.overrides,\n        layouts: layouts,\n        placer: Optional.none()\n      }));\n    };\n    var MakeshiftAnchor = [\n      required$1('x'),\n      required$1('y'),\n      defaulted('height', 0),\n      defaulted('width', 0),\n      defaulted('bubble', fallback()),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$3)\n    ];\n\n    var adt$7 = Adt.generate([\n      { screen: ['point'] },\n      {\n        absolute: [\n          'point',\n          'scrollLeft',\n          'scrollTop'\n        ]\n      }\n    ]);\n    var toFixed = function (pos) {\n      return pos.fold(identity$1, function (point, scrollLeft, scrollTop) {\n        return point.translate(-scrollLeft, -scrollTop);\n      });\n    };\n    var toAbsolute = function (pos) {\n      return pos.fold(identity$1, identity$1);\n    };\n    var sum = function (points) {\n      return foldl(points, function (b, a) {\n        return b.translate(a.left, a.top);\n      }, SugarPosition(0, 0));\n    };\n    var sumAsFixed = function (positions) {\n      var points = map$2(positions, toFixed);\n      return sum(points);\n    };\n    var sumAsAbsolute = function (positions) {\n      var points = map$2(positions, toAbsolute);\n      return sum(points);\n    };\n    var screen = adt$7.screen;\n    var absolute$1 = adt$7.absolute;\n\n    var getOffset = function (component, origin, anchorInfo) {\n      var win = defaultView(anchorInfo.root).dom;\n      var hasSameOwner = function (frame) {\n        var frameOwner = owner$4(frame);\n        var compOwner = owner$4(component.element);\n        return eq(frameOwner, compOwner);\n      };\n      return Optional.from(win.frameElement).map(SugarElement.fromDom).filter(hasSameOwner).map(absolute$3);\n    };\n    var getRootPoint = function (component, origin, anchorInfo) {\n      var doc = owner$4(component.element);\n      var outerScroll = get$9(doc);\n      var offset = getOffset(component, origin, anchorInfo).getOr(outerScroll);\n      return absolute$1(offset, outerScroll.left, outerScroll.top);\n    };\n\n    var getBox = function (left, top, width, height) {\n      var point = screen(SugarPosition(left, top));\n      return Optional.some(pointed(point, width, height));\n    };\n    var calcNewAnchor = function (optBox, rootPoint, anchorInfo, origin, elem) {\n      return optBox.map(function (box) {\n        var points = [\n          rootPoint,\n          box.point\n        ];\n        var topLeft = cata$1(origin, function () {\n          return sumAsAbsolute(points);\n        }, function () {\n          return sumAsAbsolute(points);\n        }, function () {\n          return sumAsFixed(points);\n        });\n        var anchorBox = rect(topLeft.left, topLeft.top, box.width, box.height);\n        var layoutsLtr = anchorInfo.showAbove ? aboveOrBelow() : belowOrAbove();\n        var layoutsRtl = anchorInfo.showAbove ? aboveOrBelowRtl() : belowOrAboveRtl();\n        var layouts = get$4(elem, anchorInfo, layoutsLtr, layoutsRtl, layoutsLtr, layoutsRtl, Optional.none());\n        return nu$4({\n          anchorBox: anchorBox,\n          bubble: anchorInfo.bubble.getOr(fallback()),\n          overrides: anchorInfo.overrides,\n          layouts: layouts,\n          placer: Optional.none()\n        });\n      });\n    };\n\n    var placement$2 = function (component, anchorInfo, origin) {\n      var rootPoint = getRootPoint(component, origin, anchorInfo);\n      return anchorInfo.node.filter(inBody).bind(function (target) {\n        var rect = target.dom.getBoundingClientRect();\n        var nodeBox = getBox(rect.left, rect.top, rect.width, rect.height);\n        var elem = anchorInfo.node.getOr(component.element);\n        return calcNewAnchor(nodeBox, rootPoint, anchorInfo, origin, elem);\n      });\n    };\n    var NodeAnchor = [\n      required$1('node'),\n      required$1('root'),\n      option('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$2)\n    ];\n\n    var zeroWidth = '\\uFEFF';\n    var nbsp = '\\xA0';\n\n    var create$6 = function (start, soffset, finish, foffset) {\n      return {\n        start: start,\n        soffset: soffset,\n        finish: finish,\n        foffset: foffset\n      };\n    };\n    var SimRange = { create: create$6 };\n\n    var adt$6 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    var cata = function (subject, onBefore, onOn, onAfter) {\n      return subject.fold(onBefore, onOn, onAfter);\n    };\n    var getStart$1 = function (situ) {\n      return situ.fold(identity$1, identity$1, identity$1);\n    };\n    var before = adt$6.before;\n    var on$1 = adt$6.on;\n    var after$1 = adt$6.after;\n    var Situ = {\n      before: before,\n      on: on$1,\n      after: after$1,\n      cata: cata,\n      getStart: getStart$1\n    };\n\n    var adt$5 = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    var exactFromRange = function (simRange) {\n      return adt$5.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    };\n    var getStart = function (selection) {\n      return selection.match({\n        domRange: function (rng) {\n          return SugarElement.fromDom(rng.startContainer);\n        },\n        relative: function (startSitu, _finishSitu) {\n          return Situ.getStart(startSitu);\n        },\n        exact: function (start, _soffset, _finish, _foffset) {\n          return start;\n        }\n      });\n    };\n    var domRange = adt$5.domRange;\n    var relative = adt$5.relative;\n    var exact = adt$5.exact;\n    var getWin = function (selection) {\n      var start = getStart(selection);\n      return defaultView(start);\n    };\n    var range$1 = SimRange.create;\n    var SimSelection = {\n      domRange: domRange,\n      relative: relative,\n      exact: exact,\n      exactFromRange: exactFromRange,\n      getWin: getWin,\n      range: range$1\n    };\n\n    var setStart = function (rng, situ) {\n      situ.fold(function (e) {\n        rng.setStartBefore(e.dom);\n      }, function (e, o) {\n        rng.setStart(e.dom, o);\n      }, function (e) {\n        rng.setStartAfter(e.dom);\n      });\n    };\n    var setFinish = function (rng, situ) {\n      situ.fold(function (e) {\n        rng.setEndBefore(e.dom);\n      }, function (e, o) {\n        rng.setEnd(e.dom, o);\n      }, function (e) {\n        rng.setEndAfter(e.dom);\n      });\n    };\n    var relativeToNative = function (win, startSitu, finishSitu) {\n      var range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    var exactToNative = function (win, start, soffset, finish, foffset) {\n      var rng = win.document.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    var toRect = function (rect) {\n      return {\n        left: rect.left,\n        top: rect.top,\n        right: rect.right,\n        bottom: rect.bottom,\n        width: rect.width,\n        height: rect.height\n      };\n    };\n    var getFirstRect$1 = function (rng) {\n      var rects = rng.getClientRects();\n      var rect = rects.length > 0 ? rects[0] : rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n    var getBounds$2 = function (rng) {\n      var rect = rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n\n    var adt$4 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    var fromRange = function (win, type, range) {\n      return type(SugarElement.fromDom(range.startContainer), range.startOffset, SugarElement.fromDom(range.endContainer), range.endOffset);\n    };\n    var getRanges = function (win, selection) {\n      return selection.match({\n        domRange: function (rng) {\n          return {\n            ltr: constant$1(rng),\n            rtl: Optional.none\n          };\n        },\n        relative: function (startSitu, finishSitu) {\n          return {\n            ltr: cached(function () {\n              return relativeToNative(win, startSitu, finishSitu);\n            }),\n            rtl: cached(function () {\n              return Optional.some(relativeToNative(win, finishSitu, startSitu));\n            })\n          };\n        },\n        exact: function (start, soffset, finish, foffset) {\n          return {\n            ltr: cached(function () {\n              return exactToNative(win, start, soffset, finish, foffset);\n            }),\n            rtl: cached(function () {\n              return Optional.some(exactToNative(win, finish, foffset, start, soffset));\n            })\n          };\n        }\n      });\n    };\n    var doDiagnose = function (win, ranges) {\n      var rng = ranges.ltr();\n      if (rng.collapsed) {\n        var reversed = ranges.rtl().filter(function (rev) {\n          return rev.collapsed === false;\n        });\n        return reversed.map(function (rev) {\n          return adt$4.rtl(SugarElement.fromDom(rev.endContainer), rev.endOffset, SugarElement.fromDom(rev.startContainer), rev.startOffset);\n        }).getOrThunk(function () {\n          return fromRange(win, adt$4.ltr, rng);\n        });\n      } else {\n        return fromRange(win, adt$4.ltr, rng);\n      }\n    };\n    var diagnose = function (win, selection) {\n      var ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    var asLtrRange = function (win, selection) {\n      var diagnosis = diagnose(win, selection);\n      return diagnosis.match({\n        ltr: function (start, soffset, finish, foffset) {\n          var rng = win.document.createRange();\n          rng.setStart(start.dom, soffset);\n          rng.setEnd(finish.dom, foffset);\n          return rng;\n        },\n        rtl: function (start, soffset, finish, foffset) {\n          var rng = win.document.createRange();\n          rng.setStart(finish.dom, foffset);\n          rng.setEnd(start.dom, soffset);\n          return rng;\n        }\n      });\n    };\n    adt$4.ltr;\n    adt$4.rtl;\n\n    var NodeValue = function (is, name) {\n      var get = function (element) {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      var getOption = function (element) {\n        return is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      };\n      var set = function (element, value) {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get: get,\n        getOption: getOption,\n        set: set\n      };\n    };\n\n    var api = NodeValue(isText$1, 'text');\n    var get$3 = function (element) {\n      return api.get(element);\n    };\n    var getOption = function (element) {\n      return api.getOption(element);\n    };\n\n    var getEnd = function (element) {\n      return name$2(element) === 'img' ? 1 : getOption(element).fold(function () {\n        return children(element).length;\n      }, function (v) {\n        return v.length;\n      });\n    };\n    var isTextNodeWithCursorPosition = function (el) {\n      return getOption(el).filter(function (text) {\n        return text.trim().length !== 0 || text.indexOf(nbsp) > -1;\n      }).isSome();\n    };\n    var elementsWithCursorPosition = [\n      'img',\n      'br'\n    ];\n    var isCursorPosition = function (elem) {\n      var hasCursorPosition = isTextNodeWithCursorPosition(elem);\n      return hasCursorPosition || contains$2(elementsWithCursorPosition, name$2(elem));\n    };\n\n    var last$1 = function (element) {\n      return descendantRtl(element, isCursorPosition);\n    };\n    var descendantRtl = function (scope, predicate) {\n      var descend = function (element) {\n        var children$1 = children(element);\n        for (var i = children$1.length - 1; i >= 0; i--) {\n          var child = children$1[i];\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          var res = descend(child);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope);\n    };\n\n    var descendants = function (scope, selector) {\n      return all$3(selector, scope);\n    };\n\n    var makeRange = function (start, soffset, finish, foffset) {\n      var doc = owner$4(start);\n      var rng = doc.dom.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    var after = function (start, soffset, finish, foffset) {\n      var r = makeRange(start, soffset, finish, foffset);\n      var same = eq(start, finish) && soffset === foffset;\n      return r.collapsed && !same;\n    };\n\n    var getNativeSelection = function (win) {\n      return Optional.from(win.getSelection());\n    };\n    var readRange = function (selection) {\n      if (selection.rangeCount > 0) {\n        var firstRng = selection.getRangeAt(0);\n        var lastRng = selection.getRangeAt(selection.rangeCount - 1);\n        return Optional.some(SimRange.create(SugarElement.fromDom(firstRng.startContainer), firstRng.startOffset, SugarElement.fromDom(lastRng.endContainer), lastRng.endOffset));\n      } else {\n        return Optional.none();\n      }\n    };\n    var doGetExact = function (selection) {\n      if (selection.anchorNode === null || selection.focusNode === null) {\n        return readRange(selection);\n      } else {\n        var anchor = SugarElement.fromDom(selection.anchorNode);\n        var focus_1 = SugarElement.fromDom(selection.focusNode);\n        return after(anchor, selection.anchorOffset, focus_1, selection.focusOffset) ? Optional.some(SimRange.create(anchor, selection.anchorOffset, focus_1, selection.focusOffset)) : readRange(selection);\n      }\n    };\n    var getExact = function (win) {\n      return getNativeSelection(win).filter(function (sel) {\n        return sel.rangeCount > 0;\n      }).bind(doGetExact);\n    };\n    var getFirstRect = function (win, selection) {\n      var rng = asLtrRange(win, selection);\n      return getFirstRect$1(rng);\n    };\n    var getBounds$1 = function (win, selection) {\n      var rng = asLtrRange(win, selection);\n      return getBounds$2(rng);\n    };\n\n    var point$1 = function (element, offset) {\n      return {\n        element: element,\n        offset: offset\n      };\n    };\n    var descendOnce$1 = function (element, offset) {\n      var children$1 = children(element);\n      if (children$1.length === 0) {\n        return point$1(element, offset);\n      } else if (offset < children$1.length) {\n        return point$1(children$1[offset], 0);\n      } else {\n        var last = children$1[children$1.length - 1];\n        var len = isText$1(last) ? get$3(last).length : children(last).length;\n        return point$1(last, len);\n      }\n    };\n\n    var descendOnce = function (element, offset) {\n      return isText$1(element) ? point$1(element, offset) : descendOnce$1(element, offset);\n    };\n    var getAnchorSelection = function (win, anchorInfo) {\n      var getSelection = anchorInfo.getSelection.getOrThunk(function () {\n        return function () {\n          return getExact(win);\n        };\n      });\n      return getSelection().map(function (sel) {\n        var modStart = descendOnce(sel.start, sel.soffset);\n        var modFinish = descendOnce(sel.finish, sel.foffset);\n        return SimSelection.range(modStart.element, modStart.offset, modFinish.element, modFinish.offset);\n      });\n    };\n    var placement$1 = function (component, anchorInfo, origin) {\n      var win = defaultView(anchorInfo.root).dom;\n      var rootPoint = getRootPoint(component, origin, anchorInfo);\n      var selectionBox = getAnchorSelection(win, anchorInfo).bind(function (sel) {\n        var optRect = getBounds$1(win, SimSelection.exactFromRange(sel)).orThunk(function () {\n          var x = SugarElement.fromText(zeroWidth);\n          before$2(sel.start, x);\n          var rect = getFirstRect(win, SimSelection.exact(x, 0, x, 1));\n          remove$5(x);\n          return rect;\n        });\n        return optRect.bind(function (rawRect) {\n          return getBox(rawRect.left, rawRect.top, rawRect.width, rawRect.height);\n        });\n      });\n      var targetElement = getAnchorSelection(win, anchorInfo).bind(function (sel) {\n        return isElement$2(sel.start) ? Optional.some(sel.start) : parentNode(sel.start);\n      });\n      var elem = targetElement.getOr(component.element);\n      return calcNewAnchor(selectionBox, rootPoint, anchorInfo, origin, elem);\n    };\n    var SelectionAnchor = [\n      option('getSelection'),\n      required$1('root'),\n      option('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$1)\n    ];\n\n    var labelPrefix$1 = 'link-layout';\n    var eastX = function (anchor) {\n      return anchor.x + anchor.width;\n    };\n    var westX = function (anchor, element) {\n      return anchor.x - element.width;\n    };\n    var northY$1 = function (anchor, element) {\n      return anchor.y - element.height + anchor.height;\n    };\n    var southY$1 = function (anchor) {\n      return anchor.y;\n    };\n    var southeast$1 = function (anchor, element, bubbles) {\n      return nu$6(eastX(anchor), southY$1(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n        left: 0,\n        top: 2\n      }), labelPrefix$1);\n    };\n    var southwest$1 = function (anchor, element, bubbles) {\n      return nu$6(westX(anchor, element), southY$1(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n        right: 1,\n        top: 2\n      }), labelPrefix$1);\n    };\n    var northeast$1 = function (anchor, element, bubbles) {\n      return nu$6(eastX(anchor), northY$1(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n        left: 0,\n        bottom: 3\n      }), labelPrefix$1);\n    };\n    var northwest$1 = function (anchor, element, bubbles) {\n      return nu$6(westX(anchor, element), northY$1(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n        right: 1,\n        bottom: 3\n      }), labelPrefix$1);\n    };\n    var all = function () {\n      return [\n        southeast$1,\n        southwest$1,\n        northeast$1,\n        northwest$1\n      ];\n    };\n    var allRtl = function () {\n      return [\n        southwest$1,\n        southeast$1,\n        northwest$1,\n        northeast$1\n      ];\n    };\n\n    var placement = function (component, submenuInfo, origin) {\n      var anchorBox = toBox(origin, submenuInfo.item.element);\n      var layouts = get$4(component.element, submenuInfo, all(), allRtl(), all(), allRtl(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox: anchorBox,\n        bubble: fallback(),\n        overrides: submenuInfo.overrides,\n        layouts: layouts,\n        placer: Optional.none()\n      }));\n    };\n    var SubmenuAnchor = [\n      required$1('item'),\n      schema$y(),\n      defaulted('overrides', {}),\n      output$1('placement', placement)\n    ];\n\n    var AnchorSchema = choose$1('type', {\n      selection: SelectionAnchor,\n      node: NodeAnchor,\n      hotspot: HotspotAnchor,\n      submenu: SubmenuAnchor,\n      makeshift: MakeshiftAnchor\n    });\n\n    var TransitionSchema = [\n      requiredArrayOf('classes', string),\n      defaultedStringEnum('mode', 'all', [\n        'all',\n        'layout',\n        'placement'\n      ])\n    ];\n    var PositionSchema = [\n      defaulted('useFixed', never),\n      option('getBounds')\n    ];\n    var PlacementSchema = [\n      requiredOf('anchor', AnchorSchema),\n      optionObjOf('transition', TransitionSchema)\n    ];\n\n    var getFixedOrigin = function () {\n      var html = document.documentElement;\n      return fixed$1(0, 0, html.clientWidth, html.clientHeight);\n    };\n    var getRelativeOrigin = function (component) {\n      var position = absolute$3(component.element);\n      var bounds = component.element.dom.getBoundingClientRect();\n      return relative$1(position.left, position.top, bounds.width, bounds.height);\n    };\n    var place = function (component, origin, anchoring, getBounds, placee, lastPlace, transition) {\n      var anchor = box(anchoring.anchorBox, origin);\n      return simple(anchor, placee.element, anchoring.bubble, anchoring.layouts, lastPlace, getBounds, anchoring.overrides, transition);\n    };\n    var position$1 = function (component, posConfig, posState, placee, placementSpec) {\n      positionWithin(component, posConfig, posState, placee, placementSpec, Optional.none());\n    };\n    var positionWithin = function (component, posConfig, posState, placee, placementSpec, boxElement) {\n      var boundsBox = boxElement.map(box$1);\n      return positionWithinBounds(component, posConfig, posState, placee, placementSpec, boundsBox);\n    };\n    var positionWithinBounds = function (component, posConfig, posState, placee, placementSpec, bounds) {\n      var placeeDetail = asRawOrDie$1('placement.info', objOf(PlacementSchema), placementSpec);\n      var anchorage = placeeDetail.anchor;\n      var element = placee.element;\n      var placeeState = posState.get(placee.uid);\n      preserve$1(function () {\n        set$7(element, 'position', 'fixed');\n        var oldVisibility = getRaw(element, 'visibility');\n        set$7(element, 'visibility', 'hidden');\n        var origin = posConfig.useFixed() ? getFixedOrigin() : getRelativeOrigin(component);\n        var placer = anchorage.placement;\n        var getBounds = bounds.map(constant$1).or(posConfig.getBounds);\n        placer(component, anchorage, origin).each(function (anchoring) {\n          var doPlace = anchoring.placer.getOr(place);\n          var newState = doPlace(component, origin, anchoring, getBounds, placee, placeeState, placeeDetail.transition);\n          posState.set(placee.uid, newState);\n        });\n        oldVisibility.fold(function () {\n          remove$6(element, 'visibility');\n        }, function (vis) {\n          set$7(element, 'visibility', vis);\n        });\n        if (getRaw(element, 'left').isNone() && getRaw(element, 'top').isNone() && getRaw(element, 'right').isNone() && getRaw(element, 'bottom').isNone() && is$1(getRaw(element, 'position'), 'fixed')) {\n          remove$6(element, 'position');\n        }\n      }, element);\n    };\n    var getMode = function (component, pConfig, _pState) {\n      return pConfig.useFixed() ? 'fixed' : 'absolute';\n    };\n    var reset$1 = function (component, pConfig, posState, placee) {\n      var element = placee.element;\n      each$1([\n        'position',\n        'left',\n        'right',\n        'top',\n        'bottom'\n      ], function (prop) {\n        return remove$6(element, prop);\n      });\n      reset$2(element);\n      posState.clear(placee.uid);\n    };\n\n    var PositionApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        position: position$1,\n        positionWithin: positionWithin,\n        positionWithinBounds: positionWithinBounds,\n        getMode: getMode,\n        reset: reset$1\n    });\n\n    var init$g = function () {\n      var state = {};\n      var set = function (id, data) {\n        state[id] = data;\n      };\n      var get = function (id) {\n        return get$e(state, id);\n      };\n      var clear = function (id) {\n        if (isNonNullable(id)) {\n          delete state[id];\n        } else {\n          state = {};\n        }\n      };\n      return nu$8({\n        readState: function () {\n          return state;\n        },\n        clear: clear,\n        set: set,\n        get: get\n      });\n    };\n\n    var PositioningState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$g\n    });\n\n    var Positioning = create$7({\n      fields: PositionSchema,\n      name: 'positioning',\n      active: ActivePosition,\n      apis: PositionApis,\n      state: PositioningState\n    });\n\n    var fireDetaching = function (component) {\n      emit(component, detachedFromDom());\n      var children = component.components();\n      each$1(children, fireDetaching);\n    };\n    var fireAttaching = function (component) {\n      var children = component.components();\n      each$1(children, fireAttaching);\n      emit(component, attachedToDom());\n    };\n    var attach$1 = function (parent, child) {\n      append$2(parent.element, child.element);\n    };\n    var detachChildren$1 = function (component) {\n      each$1(component.components(), function (childComp) {\n        return remove$5(childComp.element);\n      });\n      empty(component.element);\n      component.syncComponents();\n    };\n    var replaceChildren = function (component, newChildren) {\n      var subs = component.components();\n      detachChildren$1(component);\n      var deleted = difference(subs, newChildren);\n      each$1(deleted, function (comp) {\n        fireDetaching(comp);\n        component.getSystem().removeFromWorld(comp);\n      });\n      each$1(newChildren, function (childComp) {\n        if (!childComp.getSystem().isConnected()) {\n          component.getSystem().addToWorld(childComp);\n          attach$1(component, childComp);\n          if (inBody(component.element)) {\n            fireAttaching(childComp);\n          }\n        } else {\n          attach$1(component, childComp);\n        }\n        component.syncComponents();\n      });\n    };\n\n    var attach = function (parent, child) {\n      attachWith(parent, child, append$2);\n    };\n    var attachWith = function (parent, child, insertion) {\n      parent.getSystem().addToWorld(child);\n      insertion(parent.element, child.element);\n      if (inBody(parent.element)) {\n        fireAttaching(child);\n      }\n      parent.syncComponents();\n    };\n    var doDetach = function (component) {\n      fireDetaching(component);\n      remove$5(component.element);\n      component.getSystem().removeFromWorld(component);\n    };\n    var detach = function (component) {\n      var parent$1 = parent(component.element).bind(function (p) {\n        return component.getSystem().getByDom(p).toOptional();\n      });\n      doDetach(component);\n      parent$1.each(function (p) {\n        p.syncComponents();\n      });\n    };\n    var detachChildren = function (component) {\n      var subs = component.components();\n      each$1(subs, doDetach);\n      empty(component.element);\n      component.syncComponents();\n    };\n    var attachSystem = function (element, guiSystem) {\n      attachSystemWith(element, guiSystem, append$2);\n    };\n    var attachSystemAfter = function (element, guiSystem) {\n      attachSystemWith(element, guiSystem, after$2);\n    };\n    var attachSystemWith = function (element, guiSystem, inserter) {\n      inserter(element, guiSystem.element);\n      var children$1 = children(guiSystem.element);\n      each$1(children$1, function (child) {\n        guiSystem.getByDom(child).each(fireAttaching);\n      });\n    };\n    var detachSystem = function (guiSystem) {\n      var children$1 = children(guiSystem.element);\n      each$1(children$1, function (child) {\n        guiSystem.getByDom(child).each(fireDetaching);\n      });\n      remove$5(guiSystem.element);\n    };\n\n    var rebuild = function (sandbox, sConfig, sState, data) {\n      sState.get().each(function (_data) {\n        detachChildren(sandbox);\n      });\n      var point = sConfig.getAttachPoint(sandbox);\n      attach(point, sandbox);\n      var built = sandbox.getSystem().build(data);\n      attach(sandbox, built);\n      sState.set(built);\n      return built;\n    };\n    var open$1 = function (sandbox, sConfig, sState, data) {\n      var newState = rebuild(sandbox, sConfig, sState, data);\n      sConfig.onOpen(sandbox, newState);\n      return newState;\n    };\n    var setContent = function (sandbox, sConfig, sState, data) {\n      return sState.get().map(function () {\n        return rebuild(sandbox, sConfig, sState, data);\n      });\n    };\n    var openWhileCloaked = function (sandbox, sConfig, sState, data, transaction) {\n      cloak(sandbox, sConfig);\n      open$1(sandbox, sConfig, sState, data);\n      transaction();\n      decloak(sandbox, sConfig);\n    };\n    var close$1 = function (sandbox, sConfig, sState) {\n      sState.get().each(function (data) {\n        detachChildren(sandbox);\n        detach(sandbox);\n        sConfig.onClose(sandbox, data);\n        sState.clear();\n      });\n    };\n    var isOpen$1 = function (_sandbox, _sConfig, sState) {\n      return sState.isOpen();\n    };\n    var isPartOf = function (sandbox, sConfig, sState, queryElem) {\n      return isOpen$1(sandbox, sConfig, sState) && sState.get().exists(function (data) {\n        return sConfig.isPartOf(sandbox, data, queryElem);\n      });\n    };\n    var getState$2 = function (_sandbox, _sConfig, sState) {\n      return sState.get();\n    };\n    var store = function (sandbox, cssKey, attr, newValue) {\n      getRaw(sandbox.element, cssKey).fold(function () {\n        remove$7(sandbox.element, attr);\n      }, function (v) {\n        set$8(sandbox.element, attr, v);\n      });\n      set$7(sandbox.element, cssKey, newValue);\n    };\n    var restore = function (sandbox, cssKey, attr) {\n      getOpt(sandbox.element, attr).fold(function () {\n        return remove$6(sandbox.element, cssKey);\n      }, function (oldValue) {\n        return set$7(sandbox.element, cssKey, oldValue);\n      });\n    };\n    var cloak = function (sandbox, sConfig, _sState) {\n      var sink = sConfig.getAttachPoint(sandbox);\n      set$7(sandbox.element, 'position', Positioning.getMode(sink));\n      store(sandbox, 'visibility', sConfig.cloakVisibilityAttr, 'hidden');\n    };\n    var hasPosition = function (element) {\n      return exists([\n        'top',\n        'left',\n        'right',\n        'bottom'\n      ], function (pos) {\n        return getRaw(element, pos).isSome();\n      });\n    };\n    var decloak = function (sandbox, sConfig, _sState) {\n      if (!hasPosition(sandbox.element)) {\n        remove$6(sandbox.element, 'position');\n      }\n      restore(sandbox, 'visibility', sConfig.cloakVisibilityAttr);\n    };\n\n    var SandboxApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        cloak: cloak,\n        decloak: decloak,\n        open: open$1,\n        openWhileCloaked: openWhileCloaked,\n        close: close$1,\n        isOpen: isOpen$1,\n        isPartOf: isPartOf,\n        getState: getState$2,\n        setContent: setContent\n    });\n\n    var events$g = function (sandboxConfig, sandboxState) {\n      return derive$2([run$1(sandboxClose(), function (sandbox, _simulatedEvent) {\n          close$1(sandbox, sandboxConfig, sandboxState);\n        })]);\n    };\n\n    var ActiveSandbox = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$g\n    });\n\n    var SandboxSchema = [\n      onHandler('onOpen'),\n      onHandler('onClose'),\n      required$1('isPartOf'),\n      required$1('getAttachPoint'),\n      defaulted('cloakVisibilityAttr', 'data-precloak-visibility')\n    ];\n\n    var init$f = function () {\n      var contents = value$1();\n      var readState = constant$1('not-implemented');\n      return nu$8({\n        readState: readState,\n        isOpen: contents.isSet,\n        clear: contents.clear,\n        set: contents.set,\n        get: contents.get\n      });\n    };\n\n    var SandboxState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$f\n    });\n\n    var Sandboxing = create$7({\n      fields: SandboxSchema,\n      name: 'sandboxing',\n      active: ActiveSandbox,\n      apis: SandboxApis,\n      state: SandboxState\n    });\n\n    var dismissPopups = constant$1('dismiss.popups');\n    var repositionPopups = constant$1('reposition.popups');\n    var mouseReleased = constant$1('mouse.released');\n\n    var schema$x = objOfOnly([\n      defaulted('isExtraPart', never),\n      optionObjOf('fireEventInstead', [defaulted('event', dismissRequested())])\n    ]);\n    var receivingChannel$1 = function (rawSpec) {\n      var _a;\n      var detail = asRawOrDie$1('Dismissal', schema$x, rawSpec);\n      return _a = {}, _a[dismissPopups()] = {\n        schema: objOfOnly([required$1('target')]),\n        onReceive: function (sandbox, data) {\n          if (Sandboxing.isOpen(sandbox)) {\n            var isPart = Sandboxing.isPartOf(sandbox, data.target) || detail.isExtraPart(sandbox, data.target);\n            if (!isPart) {\n              detail.fireEventInstead.fold(function () {\n                return Sandboxing.close(sandbox);\n              }, function (fe) {\n                return emit(sandbox, fe.event);\n              });\n            }\n          }\n        }\n      }, _a;\n    };\n\n    var schema$w = objOfOnly([\n      optionObjOf('fireEventInstead', [defaulted('event', repositionRequested())]),\n      requiredFunction('doReposition')\n    ]);\n    var receivingChannel = function (rawSpec) {\n      var _a;\n      var detail = asRawOrDie$1('Reposition', schema$w, rawSpec);\n      return _a = {}, _a[repositionPopups()] = {\n        onReceive: function (sandbox) {\n          if (Sandboxing.isOpen(sandbox)) {\n            detail.fireEventInstead.fold(function () {\n              return detail.doReposition(sandbox);\n            }, function (fe) {\n              return emit(sandbox, fe.event);\n            });\n          }\n        }\n      }, _a;\n    };\n\n    var onLoad$5 = function (component, repConfig, repState) {\n      repConfig.store.manager.onLoad(component, repConfig, repState);\n    };\n    var onUnload$2 = function (component, repConfig, repState) {\n      repConfig.store.manager.onUnload(component, repConfig, repState);\n    };\n    var setValue$3 = function (component, repConfig, repState, data) {\n      repConfig.store.manager.setValue(component, repConfig, repState, data);\n    };\n    var getValue$3 = function (component, repConfig, repState) {\n      return repConfig.store.manager.getValue(component, repConfig, repState);\n    };\n    var getState$1 = function (component, repConfig, repState) {\n      return repState;\n    };\n\n    var RepresentApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad$5,\n        onUnload: onUnload$2,\n        setValue: setValue$3,\n        getValue: getValue$3,\n        getState: getState$1\n    });\n\n    var events$f = function (repConfig, repState) {\n      var es = repConfig.resetOnDom ? [\n        runOnAttached(function (comp, _se) {\n          onLoad$5(comp, repConfig, repState);\n        }),\n        runOnDetached(function (comp, _se) {\n          onUnload$2(comp, repConfig, repState);\n        })\n      ] : [loadEvent(repConfig, repState, onLoad$5)];\n      return derive$2(es);\n    };\n\n    var ActiveRepresenting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$f\n    });\n\n    var memory$1 = function () {\n      var data = Cell(null);\n      var readState = function () {\n        return {\n          mode: 'memory',\n          value: data.get()\n        };\n      };\n      var isNotSet = function () {\n        return data.get() === null;\n      };\n      var clear = function () {\n        data.set(null);\n      };\n      return nu$8({\n        set: data.set,\n        get: data.get,\n        isNotSet: isNotSet,\n        clear: clear,\n        readState: readState\n      });\n    };\n    var manual = function () {\n      var readState = noop;\n      return nu$8({ readState: readState });\n    };\n    var dataset = function () {\n      var dataByValue = Cell({});\n      var dataByText = Cell({});\n      var readState = function () {\n        return {\n          mode: 'dataset',\n          dataByValue: dataByValue.get(),\n          dataByText: dataByText.get()\n        };\n      };\n      var clear = function () {\n        dataByValue.set({});\n        dataByText.set({});\n      };\n      var lookup = function (itemString) {\n        return get$e(dataByValue.get(), itemString).orThunk(function () {\n          return get$e(dataByText.get(), itemString);\n        });\n      };\n      var update = function (items) {\n        var currentDataByValue = dataByValue.get();\n        var currentDataByText = dataByText.get();\n        var newDataByValue = {};\n        var newDataByText = {};\n        each$1(items, function (item) {\n          newDataByValue[item.value] = item;\n          get$e(item, 'meta').each(function (meta) {\n            get$e(meta, 'text').each(function (text) {\n              newDataByText[text] = item;\n            });\n          });\n        });\n        dataByValue.set(__assign(__assign({}, currentDataByValue), newDataByValue));\n        dataByText.set(__assign(__assign({}, currentDataByText), newDataByText));\n      };\n      return nu$8({\n        readState: readState,\n        lookup: lookup,\n        update: update,\n        clear: clear\n      });\n    };\n    var init$e = function (spec) {\n      return spec.store.manager.state(spec);\n    };\n\n    var RepresentState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        memory: memory$1,\n        dataset: dataset,\n        manual: manual,\n        init: init$e\n    });\n\n    var setValue$2 = function (component, repConfig, repState, data) {\n      var store = repConfig.store;\n      repState.update([data]);\n      store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    var getValue$2 = function (component, repConfig, repState) {\n      var store = repConfig.store;\n      var key = store.getDataKey(component);\n      return repState.lookup(key).getOrThunk(function () {\n        return store.getFallbackEntry(key);\n      });\n    };\n    var onLoad$4 = function (component, repConfig, repState) {\n      var store = repConfig.store;\n      store.initialValue.each(function (data) {\n        setValue$2(component, repConfig, repState, data);\n      });\n    };\n    var onUnload$1 = function (component, repConfig, repState) {\n      repState.clear();\n    };\n    var DatasetStore = [\n      option('initialValue'),\n      required$1('getFallbackEntry'),\n      required$1('getDataKey'),\n      required$1('setValue'),\n      output$1('manager', {\n        setValue: setValue$2,\n        getValue: getValue$2,\n        onLoad: onLoad$4,\n        onUnload: onUnload$1,\n        state: dataset\n      })\n    ];\n\n    var getValue$1 = function (component, repConfig, _repState) {\n      return repConfig.store.getValue(component);\n    };\n    var setValue$1 = function (component, repConfig, _repState, data) {\n      repConfig.store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    var onLoad$3 = function (component, repConfig, _repState) {\n      repConfig.store.initialValue.each(function (data) {\n        repConfig.store.setValue(component, data);\n      });\n    };\n    var ManualStore = [\n      required$1('getValue'),\n      defaulted('setValue', noop),\n      option('initialValue'),\n      output$1('manager', {\n        setValue: setValue$1,\n        getValue: getValue$1,\n        onLoad: onLoad$3,\n        onUnload: noop,\n        state: NoState.init\n      })\n    ];\n\n    var setValue = function (component, repConfig, repState, data) {\n      repState.set(data);\n      repConfig.onSetValue(component, data);\n    };\n    var getValue = function (component, repConfig, repState) {\n      return repState.get();\n    };\n    var onLoad$2 = function (component, repConfig, repState) {\n      repConfig.store.initialValue.each(function (initVal) {\n        if (repState.isNotSet()) {\n          repState.set(initVal);\n        }\n      });\n    };\n    var onUnload = function (component, repConfig, repState) {\n      repState.clear();\n    };\n    var MemoryStore = [\n      option('initialValue'),\n      output$1('manager', {\n        setValue: setValue,\n        getValue: getValue,\n        onLoad: onLoad$2,\n        onUnload: onUnload,\n        state: memory$1\n      })\n    ];\n\n    var RepresentSchema = [\n      defaultedOf('store', { mode: 'memory' }, choose$1('mode', {\n        memory: MemoryStore,\n        manual: ManualStore,\n        dataset: DatasetStore\n      })),\n      onHandler('onSetValue'),\n      defaulted('resetOnDom', false)\n    ];\n\n    var Representing = create$7({\n      fields: RepresentSchema,\n      name: 'representing',\n      active: ActiveRepresenting,\n      apis: RepresentApis,\n      extra: {\n        setValueFrom: function (component, source) {\n          var value = Representing.getValue(source);\n          Representing.setValue(component, value);\n        }\n      },\n      state: RepresentState\n    });\n\n    var field = function (name, forbidden) {\n      return defaultedObjOf(name, {}, map$2(forbidden, function (f) {\n        return forbid(f.name(), 'Cannot configure ' + f.name() + ' for ' + name);\n      }).concat([customField('dump', identity$1)]));\n    };\n    var get$2 = function (data) {\n      return data.dump;\n    };\n    var augment = function (data, original) {\n      return __assign(__assign({}, derive$1(original)), data.dump);\n    };\n    var SketchBehaviours = {\n      field: field,\n      augment: augment,\n      get: get$2\n    };\n\n    var _placeholder = 'placeholder';\n    var adt$3 = Adt.generate([\n      {\n        single: [\n          'required',\n          'valueThunk'\n        ]\n      },\n      {\n        multiple: [\n          'required',\n          'valueThunks'\n        ]\n      }\n    ]);\n    var isSubstituted = function (spec) {\n      return has$2(spec, 'uiType');\n    };\n    var subPlaceholder = function (owner, detail, compSpec, placeholders) {\n      if (owner.exists(function (o) {\n          return o !== compSpec.owner;\n        })) {\n        return adt$3.single(true, constant$1(compSpec));\n      }\n      return get$e(placeholders, compSpec.name).fold(function () {\n        throw new Error('Unknown placeholder component: ' + compSpec.name + '\\nKnown: [' + keys(placeholders) + ']\\nNamespace: ' + owner.getOr('none') + '\\nSpec: ' + JSON.stringify(compSpec, null, 2));\n      }, function (newSpec) {\n        return newSpec.replace();\n      });\n    };\n    var scan = function (owner, detail, compSpec, placeholders) {\n      if (isSubstituted(compSpec) && compSpec.uiType === _placeholder) {\n        return subPlaceholder(owner, detail, compSpec, placeholders);\n      } else {\n        return adt$3.single(false, constant$1(compSpec));\n      }\n    };\n    var substitute = function (owner, detail, compSpec, placeholders) {\n      var base = scan(owner, detail, compSpec, placeholders);\n      return base.fold(function (req, valueThunk) {\n        var value = isSubstituted(compSpec) ? valueThunk(detail, compSpec.config, compSpec.validated) : valueThunk(detail);\n        var childSpecs = get$e(value, 'components').getOr([]);\n        var substituted = bind$3(childSpecs, function (c) {\n          return substitute(owner, detail, c, placeholders);\n        });\n        return [__assign(__assign({}, value), { components: substituted })];\n      }, function (req, valuesThunk) {\n        if (isSubstituted(compSpec)) {\n          var values = valuesThunk(detail, compSpec.config, compSpec.validated);\n          var preprocessor = compSpec.validated.preprocess.getOr(identity$1);\n          return preprocessor(values);\n        } else {\n          return valuesThunk(detail);\n        }\n      });\n    };\n    var substituteAll = function (owner, detail, components, placeholders) {\n      return bind$3(components, function (c) {\n        return substitute(owner, detail, c, placeholders);\n      });\n    };\n    var oneReplace = function (label, replacements) {\n      var called = false;\n      var used = function () {\n        return called;\n      };\n      var replace = function () {\n        if (called) {\n          throw new Error('Trying to use the same placeholder more than once: ' + label);\n        }\n        called = true;\n        return replacements;\n      };\n      var required = function () {\n        return replacements.fold(function (req, _) {\n          return req;\n        }, function (req, _) {\n          return req;\n        });\n      };\n      return {\n        name: constant$1(label),\n        required: required,\n        used: used,\n        replace: replace\n      };\n    };\n    var substitutePlaces = function (owner, detail, components, placeholders) {\n      var ps = map$1(placeholders, function (ph, name) {\n        return oneReplace(name, ph);\n      });\n      var outcome = substituteAll(owner, detail, components, ps);\n      each(ps, function (p) {\n        if (p.used() === false && p.required()) {\n          throw new Error('Placeholder: ' + p.name() + ' was not found in components list\\nNamespace: ' + owner.getOr('none') + '\\nComponents: ' + JSON.stringify(detail.components, null, 2));\n        }\n      });\n      return outcome;\n    };\n    var single$2 = adt$3.single;\n    var multiple = adt$3.multiple;\n    var placeholder = constant$1(_placeholder);\n\n    var adt$2 = Adt.generate([\n      { required: ['data'] },\n      { external: ['data'] },\n      { optional: ['data'] },\n      { group: ['data'] }\n    ]);\n    var fFactory = defaulted('factory', { sketch: identity$1 });\n    var fSchema = defaulted('schema', []);\n    var fName = required$1('name');\n    var fPname = field$1('pname', 'pname', defaultedThunk(function (typeSpec) {\n      return '<alloy.' + generate$6(typeSpec.name) + '>';\n    }), anyValue());\n    var fGroupSchema = customField('schema', function () {\n      return [option('preprocess')];\n    });\n    var fDefaults = defaulted('defaults', constant$1({}));\n    var fOverrides = defaulted('overrides', constant$1({}));\n    var requiredSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    var externalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fDefaults,\n      fOverrides\n    ]);\n    var optionalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    var groupSpec = objOf([\n      fFactory,\n      fGroupSchema,\n      fName,\n      required$1('unit'),\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    var asNamedPart = function (part) {\n      return part.fold(Optional.some, Optional.none, Optional.some, Optional.some);\n    };\n    var name$1 = function (part) {\n      var get = function (data) {\n        return data.name;\n      };\n      return part.fold(get, get, get, get);\n    };\n    var asCommon = function (part) {\n      return part.fold(identity$1, identity$1, identity$1, identity$1);\n    };\n    var convert = function (adtConstructor, partSchema) {\n      return function (spec) {\n        var data = asRawOrDie$1('Converting part type', partSchema, spec);\n        return adtConstructor(data);\n      };\n    };\n    var required = convert(adt$2.required, requiredSpec);\n    var external$1 = convert(adt$2.external, externalSpec);\n    var optional = convert(adt$2.optional, optionalSpec);\n    var group = convert(adt$2.group, groupSpec);\n    var original = constant$1('entirety');\n\n    var PartType = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        required: required,\n        external: external$1,\n        optional: optional,\n        group: group,\n        asNamedPart: asNamedPart,\n        name: name$1,\n        asCommon: asCommon,\n        original: original\n    });\n\n    var combine = function (detail, data, partSpec, partValidated) {\n      return deepMerge(data.defaults(detail, partSpec, partValidated), partSpec, { uid: detail.partUids[data.name] }, data.overrides(detail, partSpec, partValidated));\n    };\n    var subs = function (owner, detail, parts) {\n      var internals = {};\n      var externals = {};\n      each$1(parts, function (part) {\n        part.fold(function (data) {\n          internals[data.pname] = single$2(true, function (detail, partSpec, partValidated) {\n            return data.factory.sketch(combine(detail, data, partSpec, partValidated));\n          });\n        }, function (data) {\n          var partSpec = detail.parts[data.name];\n          externals[data.name] = constant$1(data.factory.sketch(combine(detail, data, partSpec[original()]), partSpec));\n        }, function (data) {\n          internals[data.pname] = single$2(false, function (detail, partSpec, partValidated) {\n            return data.factory.sketch(combine(detail, data, partSpec, partValidated));\n          });\n        }, function (data) {\n          internals[data.pname] = multiple(true, function (detail, _partSpec, _partValidated) {\n            var units = detail[data.name];\n            return map$2(units, function (u) {\n              return data.factory.sketch(deepMerge(data.defaults(detail, u, _partValidated), u, data.overrides(detail, u)));\n            });\n          });\n        });\n      });\n      return {\n        internals: constant$1(internals),\n        externals: constant$1(externals)\n      };\n    };\n\n    var generate$3 = function (owner, parts) {\n      var r = {};\n      each$1(parts, function (part) {\n        asNamedPart(part).each(function (np) {\n          var g = doGenerateOne(owner, np.pname);\n          r[np.name] = function (config) {\n            var validated = asRawOrDie$1('Part: ' + np.name + ' in ' + owner, objOf(np.schema), config);\n            return __assign(__assign({}, g), {\n              config: config,\n              validated: validated\n            });\n          };\n        });\n      });\n      return r;\n    };\n    var doGenerateOne = function (owner, pname) {\n      return {\n        uiType: placeholder(),\n        owner: owner,\n        name: pname\n      };\n    };\n    var generateOne$1 = function (owner, pname, config) {\n      return {\n        uiType: placeholder(),\n        owner: owner,\n        name: pname,\n        config: config,\n        validated: {}\n      };\n    };\n    var schemas = function (parts) {\n      return bind$3(parts, function (part) {\n        return part.fold(Optional.none, Optional.some, Optional.none, Optional.none).map(function (data) {\n          return requiredObjOf(data.name, data.schema.concat([snapshot(original())]));\n        }).toArray();\n      });\n    };\n    var names = function (parts) {\n      return map$2(parts, name$1);\n    };\n    var substitutes = function (owner, detail, parts) {\n      return subs(owner, detail, parts);\n    };\n    var components$1 = function (owner, detail, internals) {\n      return substitutePlaces(Optional.some(owner), detail, detail.components, internals);\n    };\n    var getPart = function (component, detail, partKey) {\n      var uid = detail.partUids[partKey];\n      return component.getSystem().getByUid(uid).toOptional();\n    };\n    var getPartOrDie = function (component, detail, partKey) {\n      return getPart(component, detail, partKey).getOrDie('Could not find part: ' + partKey);\n    };\n    var getParts = function (component, detail, partKeys) {\n      var r = {};\n      var uids = detail.partUids;\n      var system = component.getSystem();\n      each$1(partKeys, function (pk) {\n        r[pk] = constant$1(system.getByUid(uids[pk]));\n      });\n      return r;\n    };\n    var getAllParts = function (component, detail) {\n      var system = component.getSystem();\n      return map$1(detail.partUids, function (pUid, _k) {\n        return constant$1(system.getByUid(pUid));\n      });\n    };\n    var getAllPartNames = function (detail) {\n      return keys(detail.partUids);\n    };\n    var getPartsOrDie = function (component, detail, partKeys) {\n      var r = {};\n      var uids = detail.partUids;\n      var system = component.getSystem();\n      each$1(partKeys, function (pk) {\n        r[pk] = constant$1(system.getByUid(uids[pk]).getOrDie());\n      });\n      return r;\n    };\n    var defaultUids = function (baseUid, partTypes) {\n      var partNames = names(partTypes);\n      return wrapAll(map$2(partNames, function (pn) {\n        return {\n          key: pn,\n          value: baseUid + '-' + pn\n        };\n      }));\n    };\n    var defaultUidsSchema = function (partTypes) {\n      return field$1('partUids', 'partUids', mergeWithThunk(function (spec) {\n        return defaultUids(spec.uid, partTypes);\n      }), anyValue());\n    };\n\n    var AlloyParts = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        generate: generate$3,\n        generateOne: generateOne$1,\n        schemas: schemas,\n        names: names,\n        substitutes: substitutes,\n        components: components$1,\n        defaultUids: defaultUids,\n        defaultUidsSchema: defaultUidsSchema,\n        getAllParts: getAllParts,\n        getAllPartNames: getAllPartNames,\n        getPart: getPart,\n        getPartOrDie: getPartOrDie,\n        getParts: getParts,\n        getPartsOrDie: getPartsOrDie\n    });\n\n    var base = function (partSchemas, partUidsSchemas) {\n      var ps = partSchemas.length > 0 ? [requiredObjOf('parts', partSchemas)] : [];\n      return ps.concat([\n        required$1('uid'),\n        defaulted('dom', {}),\n        defaulted('components', []),\n        snapshot('originalSpec'),\n        defaulted('debug.sketcher', {})\n      ]).concat(partUidsSchemas);\n    };\n    var asRawOrDie = function (label, schema, spec, partSchemas, partUidsSchemas) {\n      var baseS = base(partSchemas, partUidsSchemas);\n      return asRawOrDie$1(label + ' [SpecSchema]', objOfOnly(baseS.concat(schema)), spec);\n    };\n\n    var single$1 = function (owner, schema, factory, spec) {\n      var specWithUid = supplyUid(spec);\n      var detail = asRawOrDie(owner, schema, specWithUid, [], []);\n      return factory(detail, specWithUid);\n    };\n    var composite$1 = function (owner, schema, partTypes, factory, spec) {\n      var specWithUid = supplyUid(spec);\n      var partSchemas = schemas(partTypes);\n      var partUidsSchema = defaultUidsSchema(partTypes);\n      var detail = asRawOrDie(owner, schema, specWithUid, partSchemas, [partUidsSchema]);\n      var subs = substitutes(owner, detail, partTypes);\n      var components = components$1(owner, detail, subs.internals());\n      return factory(detail, components, specWithUid, subs.externals());\n    };\n    var hasUid = function (spec) {\n      return has$2(spec, 'uid');\n    };\n    var supplyUid = function (spec) {\n      return hasUid(spec) ? spec : __assign(__assign({}, spec), { uid: generate$5('uid') });\n    };\n\n    var isSketchSpec = function (spec) {\n      return spec.uid !== undefined;\n    };\n    var singleSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    var compositeSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      required$1('partFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    var single = function (rawConfig) {\n      var config = asRawOrDie$1('Sketcher for ' + rawConfig.name, singleSchema, rawConfig);\n      var sketch = function (spec) {\n        return single$1(config.name, config.configFields, config.factory, spec);\n      };\n      var apis = map$1(config.apis, makeApi);\n      var extraApis = map$1(config.extraApis, function (f, k) {\n        return markAsExtraApi(f, k);\n      });\n      return __assign(__assign({\n        name: config.name,\n        configFields: config.configFields,\n        sketch: sketch\n      }, apis), extraApis);\n    };\n    var composite = function (rawConfig) {\n      var config = asRawOrDie$1('Sketcher for ' + rawConfig.name, compositeSchema, rawConfig);\n      var sketch = function (spec) {\n        return composite$1(config.name, config.configFields, config.partFields, config.factory, spec);\n      };\n      var parts = generate$3(config.name, config.partFields);\n      var apis = map$1(config.apis, makeApi);\n      var extraApis = map$1(config.extraApis, function (f, k) {\n        return markAsExtraApi(f, k);\n      });\n      return __assign(__assign({\n        name: config.name,\n        partFields: config.partFields,\n        configFields: config.configFields,\n        sketch: sketch,\n        parts: parts\n      }, apis), extraApis);\n    };\n\n    var inside = function (target) {\n      return name$2(target) === 'input' && get$d(target, 'type') !== 'radio' || name$2(target) === 'textarea';\n    };\n\n    var getCurrent = function (component, composeConfig, _composeState) {\n      return composeConfig.find(component);\n    };\n\n    var ComposeApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCurrent: getCurrent\n    });\n\n    var ComposeSchema = [required$1('find')];\n\n    var Composing = create$7({\n      fields: ComposeSchema,\n      name: 'composing',\n      apis: ComposeApis\n    });\n\n    var nativeDisabled = [\n      'input',\n      'button',\n      'textarea',\n      'select'\n    ];\n    var onLoad$1 = function (component, disableConfig, disableState) {\n      var f = disableConfig.disabled() ? disable$1 : enable$1;\n      f(component, disableConfig);\n    };\n    var hasNative = function (component, config) {\n      return config.useNative === true && contains$2(nativeDisabled, name$2(component.element));\n    };\n    var nativeIsDisabled = function (component) {\n      return has$1(component.element, 'disabled');\n    };\n    var nativeDisable = function (component) {\n      set$8(component.element, 'disabled', 'disabled');\n    };\n    var nativeEnable = function (component) {\n      remove$7(component.element, 'disabled');\n    };\n    var ariaIsDisabled = function (component) {\n      return get$d(component.element, 'aria-disabled') === 'true';\n    };\n    var ariaDisable = function (component) {\n      set$8(component.element, 'aria-disabled', 'true');\n    };\n    var ariaEnable = function (component) {\n      set$8(component.element, 'aria-disabled', 'false');\n    };\n    var disable$1 = function (component, disableConfig, _disableState) {\n      disableConfig.disableClass.each(function (disableClass) {\n        add$2(component.element, disableClass);\n      });\n      var f = hasNative(component, disableConfig) ? nativeDisable : ariaDisable;\n      f(component);\n      disableConfig.onDisabled(component);\n    };\n    var enable$1 = function (component, disableConfig, _disableState) {\n      disableConfig.disableClass.each(function (disableClass) {\n        remove$2(component.element, disableClass);\n      });\n      var f = hasNative(component, disableConfig) ? nativeEnable : ariaEnable;\n      f(component);\n      disableConfig.onEnabled(component);\n    };\n    var isDisabled = function (component, disableConfig) {\n      return hasNative(component, disableConfig) ? nativeIsDisabled(component) : ariaIsDisabled(component);\n    };\n    var set$3 = function (component, disableConfig, disableState, disabled) {\n      var f = disabled ? disable$1 : enable$1;\n      f(component, disableConfig);\n    };\n\n    var DisableApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        enable: enable$1,\n        disable: disable$1,\n        isDisabled: isDisabled,\n        onLoad: onLoad$1,\n        set: set$3\n    });\n\n    var exhibit$5 = function (base, disableConfig) {\n      return nu$7({ classes: disableConfig.disabled() ? disableConfig.disableClass.toArray() : [] });\n    };\n    var events$e = function (disableConfig, disableState) {\n      return derive$2([\n        abort(execute$5(), function (component, _simulatedEvent) {\n          return isDisabled(component, disableConfig);\n        }),\n        loadEvent(disableConfig, disableState, onLoad$1)\n      ]);\n    };\n\n    var ActiveDisable = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$5,\n        events: events$e\n    });\n\n    var DisableSchema = [\n      defaultedFunction('disabled', never),\n      defaulted('useNative', true),\n      option('disableClass'),\n      onHandler('onDisabled'),\n      onHandler('onEnabled')\n    ];\n\n    var Disabling = create$7({\n      fields: DisableSchema,\n      name: 'disabling',\n      active: ActiveDisable,\n      apis: DisableApis\n    });\n\n    var dehighlightAllExcept = function (component, hConfig, hState, skip) {\n      var highlighted = descendants(component.element, '.' + hConfig.highlightClass);\n      each$1(highlighted, function (h) {\n        if (!exists(skip, function (skipComp) {\n            return skipComp.element === h;\n          })) {\n          remove$2(h, hConfig.highlightClass);\n          component.getSystem().getByDom(h).each(function (target) {\n            hConfig.onDehighlight(component, target);\n            emit(target, dehighlight$1());\n          });\n        }\n      });\n    };\n    var dehighlightAll = function (component, hConfig, hState) {\n      return dehighlightAllExcept(component, hConfig, hState, []);\n    };\n    var dehighlight = function (component, hConfig, hState, target) {\n      if (isHighlighted(component, hConfig, hState, target)) {\n        remove$2(target.element, hConfig.highlightClass);\n        hConfig.onDehighlight(component, target);\n        emit(target, dehighlight$1());\n      }\n    };\n    var highlight = function (component, hConfig, hState, target) {\n      dehighlightAllExcept(component, hConfig, hState, [target]);\n      if (!isHighlighted(component, hConfig, hState, target)) {\n        add$2(target.element, hConfig.highlightClass);\n        hConfig.onHighlight(component, target);\n        emit(target, highlight$1());\n      }\n    };\n    var highlightFirst = function (component, hConfig, hState) {\n      getFirst(component, hConfig).each(function (firstComp) {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    var highlightLast = function (component, hConfig, hState) {\n      getLast(component, hConfig).each(function (lastComp) {\n        highlight(component, hConfig, hState, lastComp);\n      });\n    };\n    var highlightAt = function (component, hConfig, hState, index) {\n      getByIndex(component, hConfig, hState, index).fold(function (err) {\n        throw err;\n      }, function (firstComp) {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    var highlightBy = function (component, hConfig, hState, predicate) {\n      var candidates = getCandidates(component, hConfig);\n      var targetComp = find$5(candidates, predicate);\n      targetComp.each(function (c) {\n        highlight(component, hConfig, hState, c);\n      });\n    };\n    var isHighlighted = function (component, hConfig, hState, queryTarget) {\n      return has(queryTarget.element, hConfig.highlightClass);\n    };\n    var getHighlighted = function (component, hConfig, _hState) {\n      return descendant(component.element, '.' + hConfig.highlightClass).bind(function (e) {\n        return component.getSystem().getByDom(e).toOptional();\n      });\n    };\n    var getByIndex = function (component, hConfig, hState, index) {\n      var items = descendants(component.element, '.' + hConfig.itemClass);\n      return Optional.from(items[index]).fold(function () {\n        return Result.error(new Error('No element found with index ' + index));\n      }, component.getSystem().getByDom);\n    };\n    var getFirst = function (component, hConfig, _hState) {\n      return descendant(component.element, '.' + hConfig.itemClass).bind(function (e) {\n        return component.getSystem().getByDom(e).toOptional();\n      });\n    };\n    var getLast = function (component, hConfig, _hState) {\n      var items = descendants(component.element, '.' + hConfig.itemClass);\n      var last = items.length > 0 ? Optional.some(items[items.length - 1]) : Optional.none();\n      return last.bind(function (c) {\n        return component.getSystem().getByDom(c).toOptional();\n      });\n    };\n    var getDelta$2 = function (component, hConfig, hState, delta) {\n      var items = descendants(component.element, '.' + hConfig.itemClass);\n      var current = findIndex$1(items, function (item) {\n        return has(item, hConfig.highlightClass);\n      });\n      return current.bind(function (selected) {\n        var dest = cycleBy(selected, delta, 0, items.length - 1);\n        return component.getSystem().getByDom(items[dest]).toOptional();\n      });\n    };\n    var getPrevious = function (component, hConfig, hState) {\n      return getDelta$2(component, hConfig, hState, -1);\n    };\n    var getNext = function (component, hConfig, hState) {\n      return getDelta$2(component, hConfig, hState, +1);\n    };\n    var getCandidates = function (component, hConfig, _hState) {\n      var items = descendants(component.element, '.' + hConfig.itemClass);\n      return cat(map$2(items, function (i) {\n        return component.getSystem().getByDom(i).toOptional();\n      }));\n    };\n\n    var HighlightApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        dehighlightAll: dehighlightAll,\n        dehighlight: dehighlight,\n        highlight: highlight,\n        highlightFirst: highlightFirst,\n        highlightLast: highlightLast,\n        highlightAt: highlightAt,\n        highlightBy: highlightBy,\n        isHighlighted: isHighlighted,\n        getHighlighted: getHighlighted,\n        getFirst: getFirst,\n        getLast: getLast,\n        getPrevious: getPrevious,\n        getNext: getNext,\n        getCandidates: getCandidates\n    });\n\n    var HighlightSchema = [\n      required$1('highlightClass'),\n      required$1('itemClass'),\n      onHandler('onHighlight'),\n      onHandler('onDehighlight')\n    ];\n\n    var Highlighting = create$7({\n      fields: HighlightSchema,\n      name: 'highlighting',\n      apis: HighlightApis\n    });\n\n    var BACKSPACE = [8];\n    var TAB = [9];\n    var ENTER = [13];\n    var ESCAPE = [27];\n    var SPACE = [32];\n    var LEFT = [37];\n    var UP = [38];\n    var RIGHT = [39];\n    var DOWN = [40];\n\n    var cyclePrev = function (values, index, predicate) {\n      var before = reverse(values.slice(0, index));\n      var after = reverse(values.slice(index + 1));\n      return find$5(before.concat(after), predicate);\n    };\n    var tryPrev = function (values, index, predicate) {\n      var before = reverse(values.slice(0, index));\n      return find$5(before, predicate);\n    };\n    var cycleNext = function (values, index, predicate) {\n      var before = values.slice(0, index);\n      var after = values.slice(index + 1);\n      return find$5(after.concat(before), predicate);\n    };\n    var tryNext = function (values, index, predicate) {\n      var after = values.slice(index + 1);\n      return find$5(after, predicate);\n    };\n\n    var inSet = function (keys) {\n      return function (event) {\n        var raw = event.raw;\n        return contains$2(keys, raw.which);\n      };\n    };\n    var and = function (preds) {\n      return function (event) {\n        return forall(preds, function (pred) {\n          return pred(event);\n        });\n      };\n    };\n    var isShift = function (event) {\n      var raw = event.raw;\n      return raw.shiftKey === true;\n    };\n    var isControl = function (event) {\n      var raw = event.raw;\n      return raw.ctrlKey === true;\n    };\n    var isNotShift = not(isShift);\n\n    var rule = function (matches, action) {\n      return {\n        matches: matches,\n        classification: action\n      };\n    };\n    var choose = function (transitions, event) {\n      var transition = find$5(transitions, function (t) {\n        return t.matches(event);\n      });\n      return transition.map(function (t) {\n        return t.classification;\n      });\n    };\n\n    var reportFocusShifting = function (component, prevFocus, newFocus) {\n      var noChange = prevFocus.exists(function (p) {\n        return newFocus.exists(function (n) {\n          return eq(n, p);\n        });\n      });\n      if (!noChange) {\n        emitWith(component, focusShifted(), {\n          prevFocus: prevFocus,\n          newFocus: newFocus\n        });\n      }\n    };\n    var dom$2 = function () {\n      var get = function (component) {\n        return search(component.element);\n      };\n      var set = function (component, focusee) {\n        var prevFocus = get(component);\n        component.getSystem().triggerFocus(focusee, component.element);\n        var newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n    var highlights = function () {\n      var get = function (component) {\n        return Highlighting.getHighlighted(component).map(function (item) {\n          return item.element;\n        });\n      };\n      var set = function (component, element) {\n        var prevFocus = get(component);\n        component.getSystem().getByDom(element).fold(noop, function (item) {\n          Highlighting.highlight(component, item);\n        });\n        var newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var FocusInsideModes;\n    (function (FocusInsideModes) {\n      FocusInsideModes['OnFocusMode'] = 'onFocus';\n      FocusInsideModes['OnEnterOrSpaceMode'] = 'onEnterOrSpace';\n      FocusInsideModes['OnApiMode'] = 'onApi';\n    }(FocusInsideModes || (FocusInsideModes = {})));\n\n    var typical = function (infoSchema, stateInit, getKeydownRules, getKeyupRules, optFocusIn) {\n      var schema = function () {\n        return infoSchema.concat([\n          defaulted('focusManager', dom$2()),\n          defaultedOf('focusInside', 'onFocus', valueOf(function (val) {\n            return contains$2([\n              'onFocus',\n              'onEnterOrSpace',\n              'onApi'\n            ], val) ? Result.value(val) : Result.error('Invalid value for focusInside');\n          })),\n          output$1('handler', me),\n          output$1('state', stateInit),\n          output$1('sendFocusIn', optFocusIn)\n        ]);\n      };\n      var processKey = function (component, simulatedEvent, getRules, keyingConfig, keyingState) {\n        var rules = getRules(component, simulatedEvent, keyingConfig, keyingState);\n        return choose(rules, simulatedEvent.event).bind(function (rule) {\n          return rule(component, simulatedEvent, keyingConfig, keyingState);\n        });\n      };\n      var toEvents = function (keyingConfig, keyingState) {\n        var onFocusHandler = keyingConfig.focusInside !== FocusInsideModes.OnFocusMode ? Optional.none() : optFocusIn(keyingConfig).map(function (focusIn) {\n          return run$1(focus$4(), function (component, simulatedEvent) {\n            focusIn(component, keyingConfig, keyingState);\n            simulatedEvent.stop();\n          });\n        });\n        var tryGoInsideComponent = function (component, simulatedEvent) {\n          var isEnterOrSpace = inSet(SPACE.concat(ENTER))(simulatedEvent.event);\n          if (keyingConfig.focusInside === FocusInsideModes.OnEnterOrSpaceMode && isEnterOrSpace && isSource(component, simulatedEvent)) {\n            optFocusIn(keyingConfig).each(function (focusIn) {\n              focusIn(component, keyingConfig, keyingState);\n              simulatedEvent.stop();\n            });\n          }\n        };\n        var keyboardEvents = [\n          run$1(keydown(), function (component, simulatedEvent) {\n            processKey(component, simulatedEvent, getKeydownRules, keyingConfig, keyingState).fold(function () {\n              tryGoInsideComponent(component, simulatedEvent);\n            }, function (_) {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(keyup(), function (component, simulatedEvent) {\n            processKey(component, simulatedEvent, getKeyupRules, keyingConfig, keyingState).each(function (_) {\n              simulatedEvent.stop();\n            });\n          })\n        ];\n        return derive$2(onFocusHandler.toArray().concat(keyboardEvents));\n      };\n      var me = {\n        schema: schema,\n        processKey: processKey,\n        toEvents: toEvents\n      };\n      return me;\n    };\n\n    var create$5 = function (cyclicField) {\n      var schema = [\n        option('onEscape'),\n        option('onEnter'),\n        defaulted('selector', '[data-alloy-tabstop=\"true\"]:not(:disabled)'),\n        defaulted('firstTabstop', 0),\n        defaulted('useTabstopAt', always),\n        option('visibilitySelector')\n      ].concat([cyclicField]);\n      var isVisible = function (tabbingConfig, element) {\n        var target = tabbingConfig.visibilitySelector.bind(function (sel) {\n          return closest$1(element, sel);\n        }).getOr(element);\n        return get$b(target) > 0;\n      };\n      var findInitial = function (component, tabbingConfig) {\n        var tabstops = descendants(component.element, tabbingConfig.selector);\n        var visibles = filter$2(tabstops, function (elem) {\n          return isVisible(tabbingConfig, elem);\n        });\n        return Optional.from(visibles[tabbingConfig.firstTabstop]);\n      };\n      var findCurrent = function (component, tabbingConfig) {\n        return tabbingConfig.focusManager.get(component).bind(function (elem) {\n          return closest$1(elem, tabbingConfig.selector);\n        });\n      };\n      var isTabstop = function (tabbingConfig, element) {\n        return isVisible(tabbingConfig, element) && tabbingConfig.useTabstopAt(element);\n      };\n      var focusIn = function (component, tabbingConfig, _tabbingState) {\n        findInitial(component, tabbingConfig).each(function (target) {\n          tabbingConfig.focusManager.set(component, target);\n        });\n      };\n      var goFromTabstop = function (component, tabstops, stopIndex, tabbingConfig, cycle) {\n        return cycle(tabstops, stopIndex, function (elem) {\n          return isTabstop(tabbingConfig, elem);\n        }).fold(function () {\n          return tabbingConfig.cyclic ? Optional.some(true) : Optional.none();\n        }, function (target) {\n          tabbingConfig.focusManager.set(component, target);\n          return Optional.some(true);\n        });\n      };\n      var go = function (component, _simulatedEvent, tabbingConfig, cycle) {\n        var tabstops = descendants(component.element, tabbingConfig.selector);\n        return findCurrent(component, tabbingConfig).bind(function (tabstop) {\n          var optStopIndex = findIndex$1(tabstops, curry(eq, tabstop));\n          return optStopIndex.bind(function (stopIndex) {\n            return goFromTabstop(component, tabstops, stopIndex, tabbingConfig, cycle);\n          });\n        });\n      };\n      var goBackwards = function (component, simulatedEvent, tabbingConfig) {\n        var navigate = tabbingConfig.cyclic ? cyclePrev : tryPrev;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      var goForwards = function (component, simulatedEvent, tabbingConfig) {\n        var navigate = tabbingConfig.cyclic ? cycleNext : tryNext;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      var execute = function (component, simulatedEvent, tabbingConfig) {\n        return tabbingConfig.onEnter.bind(function (f) {\n          return f(component, simulatedEvent);\n        });\n      };\n      var exit = function (component, simulatedEvent, tabbingConfig) {\n        return tabbingConfig.onEscape.bind(function (f) {\n          return f(component, simulatedEvent);\n        });\n      };\n      var getKeydownRules = constant$1([\n        rule(and([\n          isShift,\n          inSet(TAB)\n        ]), goBackwards),\n        rule(inSet(TAB), goForwards),\n        rule(inSet(ESCAPE), exit),\n        rule(and([\n          isNotShift,\n          inSet(ENTER)\n        ]), execute)\n      ]);\n      var getKeyupRules = constant$1([]);\n      return typical(schema, NoState.init, getKeydownRules, getKeyupRules, function () {\n        return Optional.some(focusIn);\n      });\n    };\n\n    var AcyclicType = create$5(customField('cyclic', never));\n\n    var CyclicType = create$5(customField('cyclic', always));\n\n    var doDefaultExecute = function (component, _simulatedEvent, focused) {\n      dispatch(component, focused, execute$5());\n      return Optional.some(true);\n    };\n    var defaultExecute = function (component, simulatedEvent, focused) {\n      var isComplex = inside(focused) && inSet(SPACE)(simulatedEvent.event);\n      return isComplex ? Optional.none() : doDefaultExecute(component, simulatedEvent, focused);\n    };\n    var stopEventForFirefox = function (_component, _simulatedEvent) {\n      return Optional.some(true);\n    };\n\n    var schema$v = [\n      defaulted('execute', defaultExecute),\n      defaulted('useSpace', false),\n      defaulted('useEnter', true),\n      defaulted('useControlEnter', false),\n      defaulted('useDown', false)\n    ];\n    var execute$4 = function (component, simulatedEvent, executeConfig) {\n      return executeConfig.execute(component, simulatedEvent, component.element);\n    };\n    var getKeydownRules$5 = function (component, _simulatedEvent, executeConfig, _executeState) {\n      var spaceExec = executeConfig.useSpace && !inside(component.element) ? SPACE : [];\n      var enterExec = executeConfig.useEnter ? ENTER : [];\n      var downExec = executeConfig.useDown ? DOWN : [];\n      var execKeys = spaceExec.concat(enterExec).concat(downExec);\n      return [rule(inSet(execKeys), execute$4)].concat(executeConfig.useControlEnter ? [rule(and([\n          isControl,\n          inSet(ENTER)\n        ]), execute$4)] : []);\n    };\n    var getKeyupRules$5 = function (component, _simulatedEvent, executeConfig, _executeState) {\n      return executeConfig.useSpace && !inside(component.element) ? [rule(inSet(SPACE), stopEventForFirefox)] : [];\n    };\n    var ExecutionType = typical(schema$v, NoState.init, getKeydownRules$5, getKeyupRules$5, function () {\n      return Optional.none();\n    });\n\n    var flatgrid$1 = function () {\n      var dimensions = value$1();\n      var setGridSize = function (numRows, numColumns) {\n        dimensions.set({\n          numRows: numRows,\n          numColumns: numColumns\n        });\n      };\n      var getNumRows = function () {\n        return dimensions.get().map(function (d) {\n          return d.numRows;\n        });\n      };\n      var getNumColumns = function () {\n        return dimensions.get().map(function (d) {\n          return d.numColumns;\n        });\n      };\n      return nu$8({\n        readState: function () {\n          return dimensions.get().map(function (d) {\n            return {\n              numRows: String(d.numRows),\n              numColumns: String(d.numColumns)\n            };\n          }).getOr({\n            numRows: '?',\n            numColumns: '?'\n          });\n        },\n        setGridSize: setGridSize,\n        getNumRows: getNumRows,\n        getNumColumns: getNumColumns\n      });\n    };\n    var init$d = function (spec) {\n      return spec.state(spec);\n    };\n\n    var KeyingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        flatgrid: flatgrid$1,\n        init: init$d\n    });\n\n    var useH = function (movement) {\n      return function (component, simulatedEvent, config, state) {\n        var move = movement(component.element);\n        return use(move, component, simulatedEvent, config, state);\n      };\n    };\n    var west$1 = function (moveLeft, moveRight) {\n      var movement = onDirection(moveLeft, moveRight);\n      return useH(movement);\n    };\n    var east$1 = function (moveLeft, moveRight) {\n      var movement = onDirection(moveRight, moveLeft);\n      return useH(movement);\n    };\n    var useV = function (move) {\n      return function (component, simulatedEvent, config, state) {\n        return use(move, component, simulatedEvent, config, state);\n      };\n    };\n    var use = function (move, component, simulatedEvent, config, state) {\n      var outcome = config.focusManager.get(component).bind(function (focused) {\n        return move(component.element, focused, config, state);\n      });\n      return outcome.map(function (newFocus) {\n        config.focusManager.set(component, newFocus);\n        return true;\n      });\n    };\n    var north$1 = useV;\n    var south$1 = useV;\n    var move$1 = useV;\n\n    var isHidden$1 = function (dom) {\n      return dom.offsetWidth <= 0 && dom.offsetHeight <= 0;\n    };\n    var isVisible = function (element) {\n      return !isHidden$1(element.dom);\n    };\n\n    var locate = function (candidates, predicate) {\n      return findIndex$1(candidates, predicate).map(function (index) {\n        return {\n          index: index,\n          candidates: candidates\n        };\n      });\n    };\n\n    var locateVisible = function (container, current, selector) {\n      var predicate = function (x) {\n        return eq(x, current);\n      };\n      var candidates = descendants(container, selector);\n      var visible = filter$2(candidates, isVisible);\n      return locate(visible, predicate);\n    };\n    var findIndex = function (elements, target) {\n      return findIndex$1(elements, function (elem) {\n        return eq(target, elem);\n      });\n    };\n\n    var withGrid = function (values, index, numCols, f) {\n      var oldRow = Math.floor(index / numCols);\n      var oldColumn = index % numCols;\n      return f(oldRow, oldColumn).bind(function (address) {\n        var newIndex = address.row * numCols + address.column;\n        return newIndex >= 0 && newIndex < values.length ? Optional.some(values[newIndex]) : Optional.none();\n      });\n    };\n    var cycleHorizontal$1 = function (values, index, numRows, numCols, delta) {\n      return withGrid(values, index, numCols, function (oldRow, oldColumn) {\n        var onLastRow = oldRow === numRows - 1;\n        var colsInRow = onLastRow ? values.length - oldRow * numCols : numCols;\n        var newColumn = cycleBy(oldColumn, delta, 0, colsInRow - 1);\n        return Optional.some({\n          row: oldRow,\n          column: newColumn\n        });\n      });\n    };\n    var cycleVertical$1 = function (values, index, numRows, numCols, delta) {\n      return withGrid(values, index, numCols, function (oldRow, oldColumn) {\n        var newRow = cycleBy(oldRow, delta, 0, numRows - 1);\n        var onLastRow = newRow === numRows - 1;\n        var colsInRow = onLastRow ? values.length - newRow * numCols : numCols;\n        var newCol = clamp$1(oldColumn, 0, colsInRow - 1);\n        return Optional.some({\n          row: newRow,\n          column: newCol\n        });\n      });\n    };\n    var cycleRight$1 = function (values, index, numRows, numCols) {\n      return cycleHorizontal$1(values, index, numRows, numCols, +1);\n    };\n    var cycleLeft$1 = function (values, index, numRows, numCols) {\n      return cycleHorizontal$1(values, index, numRows, numCols, -1);\n    };\n    var cycleUp$1 = function (values, index, numRows, numCols) {\n      return cycleVertical$1(values, index, numRows, numCols, -1);\n    };\n    var cycleDown$1 = function (values, index, numRows, numCols) {\n      return cycleVertical$1(values, index, numRows, numCols, +1);\n    };\n\n    var schema$u = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('captureTab', false),\n      initSize()\n    ];\n    var focusIn$3 = function (component, gridConfig, _gridState) {\n      descendant(component.element, gridConfig.selector).each(function (first) {\n        gridConfig.focusManager.set(component, first);\n      });\n    };\n    var findCurrent$1 = function (component, gridConfig) {\n      return gridConfig.focusManager.get(component).bind(function (elem) {\n        return closest$1(elem, gridConfig.selector);\n      });\n    };\n    var execute$3 = function (component, simulatedEvent, gridConfig, _gridState) {\n      return findCurrent$1(component, gridConfig).bind(function (focused) {\n        return gridConfig.execute(component, simulatedEvent, focused);\n      });\n    };\n    var doMove$2 = function (cycle) {\n      return function (element, focused, gridConfig, gridState) {\n        return locateVisible(element, focused, gridConfig.selector).bind(function (identified) {\n          return cycle(identified.candidates, identified.index, gridState.getNumRows().getOr(gridConfig.initSize.numRows), gridState.getNumColumns().getOr(gridConfig.initSize.numColumns));\n        });\n      };\n    };\n    var handleTab = function (_component, _simulatedEvent, gridConfig) {\n      return gridConfig.captureTab ? Optional.some(true) : Optional.none();\n    };\n    var doEscape$1 = function (component, simulatedEvent, gridConfig) {\n      return gridConfig.onEscape(component, simulatedEvent);\n    };\n    var moveLeft$3 = doMove$2(cycleLeft$1);\n    var moveRight$3 = doMove$2(cycleRight$1);\n    var moveNorth$1 = doMove$2(cycleUp$1);\n    var moveSouth$1 = doMove$2(cycleDown$1);\n    var getKeydownRules$4 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft$3, moveRight$3)),\n      rule(inSet(RIGHT), east$1(moveLeft$3, moveRight$3)),\n      rule(inSet(UP), north$1(moveNorth$1)),\n      rule(inSet(DOWN), south$1(moveSouth$1)),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), handleTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), handleTab),\n      rule(inSet(ESCAPE), doEscape$1),\n      rule(inSet(SPACE.concat(ENTER)), execute$3)\n    ]);\n    var getKeyupRules$4 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var FlatgridType = typical(schema$u, flatgrid$1, getKeydownRules$4, getKeyupRules$4, function () {\n      return Optional.some(focusIn$3);\n    });\n\n    var horizontal = function (container, selector, current, delta) {\n      var isDisabledButton = function (candidate) {\n        return name$2(candidate) === 'button' && get$d(candidate, 'disabled') === 'disabled';\n      };\n      var tryCycle = function (initial, index, candidates) {\n        var newIndex = cycleBy(index, delta, 0, candidates.length - 1);\n        if (newIndex === initial) {\n          return Optional.none();\n        } else {\n          return isDisabledButton(candidates[newIndex]) ? tryCycle(initial, newIndex, candidates) : Optional.from(candidates[newIndex]);\n        }\n      };\n      return locateVisible(container, current, selector).bind(function (identified) {\n        var index = identified.index;\n        var candidates = identified.candidates;\n        return tryCycle(index, index, candidates);\n      });\n    };\n\n    var schema$t = [\n      required$1('selector'),\n      defaulted('getInitial', Optional.none),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('executeOnMove', false),\n      defaulted('allowVertical', true)\n    ];\n    var findCurrent = function (component, flowConfig) {\n      return flowConfig.focusManager.get(component).bind(function (elem) {\n        return closest$1(elem, flowConfig.selector);\n      });\n    };\n    var execute$2 = function (component, simulatedEvent, flowConfig) {\n      return findCurrent(component, flowConfig).bind(function (focused) {\n        return flowConfig.execute(component, simulatedEvent, focused);\n      });\n    };\n    var focusIn$2 = function (component, flowConfig, _state) {\n      flowConfig.getInitial(component).orThunk(function () {\n        return descendant(component.element, flowConfig.selector);\n      }).each(function (first) {\n        flowConfig.focusManager.set(component, first);\n      });\n    };\n    var moveLeft$2 = function (element, focused, info) {\n      return horizontal(element, info.selector, focused, -1);\n    };\n    var moveRight$2 = function (element, focused, info) {\n      return horizontal(element, info.selector, focused, +1);\n    };\n    var doMove$1 = function (movement) {\n      return function (component, simulatedEvent, flowConfig, flowState) {\n        return movement(component, simulatedEvent, flowConfig, flowState).bind(function () {\n          return flowConfig.executeOnMove ? execute$2(component, simulatedEvent, flowConfig) : Optional.some(true);\n        });\n      };\n    };\n    var doEscape = function (component, simulatedEvent, flowConfig) {\n      return flowConfig.onEscape(component, simulatedEvent);\n    };\n    var getKeydownRules$3 = function (_component, _se, flowConfig, _flowState) {\n      var westMovers = LEFT.concat(flowConfig.allowVertical ? UP : []);\n      var eastMovers = RIGHT.concat(flowConfig.allowVertical ? DOWN : []);\n      return [\n        rule(inSet(westMovers), doMove$1(west$1(moveLeft$2, moveRight$2))),\n        rule(inSet(eastMovers), doMove$1(east$1(moveLeft$2, moveRight$2))),\n        rule(inSet(ENTER), execute$2),\n        rule(inSet(SPACE), execute$2),\n        rule(inSet(ESCAPE), doEscape)\n      ];\n    };\n    var getKeyupRules$3 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var FlowType = typical(schema$t, NoState.init, getKeydownRules$3, getKeyupRules$3, function () {\n      return Optional.some(focusIn$2);\n    });\n\n    var toCell = function (matrix, rowIndex, columnIndex) {\n      return Optional.from(matrix[rowIndex]).bind(function (row) {\n        return Optional.from(row[columnIndex]).map(function (cell) {\n          return {\n            rowIndex: rowIndex,\n            columnIndex: columnIndex,\n            cell: cell\n          };\n        });\n      });\n    };\n    var cycleHorizontal = function (matrix, rowIndex, startCol, deltaCol) {\n      var row = matrix[rowIndex];\n      var colsInRow = row.length;\n      var newColIndex = cycleBy(startCol, deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    var cycleVertical = function (matrix, colIndex, startRow, deltaRow) {\n      var nextRowIndex = cycleBy(startRow, deltaRow, 0, matrix.length - 1);\n      var colsInNextRow = matrix[nextRowIndex].length;\n      var nextColIndex = clamp$1(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    var moveHorizontal = function (matrix, rowIndex, startCol, deltaCol) {\n      var row = matrix[rowIndex];\n      var colsInRow = row.length;\n      var newColIndex = clamp$1(startCol + deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    var moveVertical = function (matrix, colIndex, startRow, deltaRow) {\n      var nextRowIndex = clamp$1(startRow + deltaRow, 0, matrix.length - 1);\n      var colsInNextRow = matrix[nextRowIndex].length;\n      var nextColIndex = clamp$1(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    var cycleRight = function (matrix, startRow, startCol) {\n      return cycleHorizontal(matrix, startRow, startCol, +1);\n    };\n    var cycleLeft = function (matrix, startRow, startCol) {\n      return cycleHorizontal(matrix, startRow, startCol, -1);\n    };\n    var cycleUp = function (matrix, startRow, startCol) {\n      return cycleVertical(matrix, startCol, startRow, -1);\n    };\n    var cycleDown = function (matrix, startRow, startCol) {\n      return cycleVertical(matrix, startCol, startRow, +1);\n    };\n    var moveLeft$1 = function (matrix, startRow, startCol) {\n      return moveHorizontal(matrix, startRow, startCol, -1);\n    };\n    var moveRight$1 = function (matrix, startRow, startCol) {\n      return moveHorizontal(matrix, startRow, startCol, +1);\n    };\n    var moveUp$1 = function (matrix, startRow, startCol) {\n      return moveVertical(matrix, startCol, startRow, -1);\n    };\n    var moveDown$1 = function (matrix, startRow, startCol) {\n      return moveVertical(matrix, startCol, startRow, +1);\n    };\n\n    var schema$s = [\n      requiredObjOf('selectors', [\n        required$1('row'),\n        required$1('cell')\n      ]),\n      defaulted('cycles', true),\n      defaulted('previousSelector', Optional.none),\n      defaulted('execute', defaultExecute)\n    ];\n    var focusIn$1 = function (component, matrixConfig, _state) {\n      var focused = matrixConfig.previousSelector(component).orThunk(function () {\n        var selectors = matrixConfig.selectors;\n        return descendant(component.element, selectors.cell);\n      });\n      focused.each(function (cell) {\n        matrixConfig.focusManager.set(component, cell);\n      });\n    };\n    var execute$1 = function (component, simulatedEvent, matrixConfig) {\n      return search(component.element).bind(function (focused) {\n        return matrixConfig.execute(component, simulatedEvent, focused);\n      });\n    };\n    var toMatrix = function (rows, matrixConfig) {\n      return map$2(rows, function (row) {\n        return descendants(row, matrixConfig.selectors.cell);\n      });\n    };\n    var doMove = function (ifCycle, ifMove) {\n      return function (element, focused, matrixConfig) {\n        var move = matrixConfig.cycles ? ifCycle : ifMove;\n        return closest$1(focused, matrixConfig.selectors.row).bind(function (inRow) {\n          var cellsInRow = descendants(inRow, matrixConfig.selectors.cell);\n          return findIndex(cellsInRow, focused).bind(function (colIndex) {\n            var allRows = descendants(element, matrixConfig.selectors.row);\n            return findIndex(allRows, inRow).bind(function (rowIndex) {\n              var matrix = toMatrix(allRows, matrixConfig);\n              return move(matrix, rowIndex, colIndex).map(function (next) {\n                return next.cell;\n              });\n            });\n          });\n        });\n      };\n    };\n    var moveLeft = doMove(cycleLeft, moveLeft$1);\n    var moveRight = doMove(cycleRight, moveRight$1);\n    var moveNorth = doMove(cycleUp, moveUp$1);\n    var moveSouth = doMove(cycleDown, moveDown$1);\n    var getKeydownRules$2 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft, moveRight)),\n      rule(inSet(RIGHT), east$1(moveLeft, moveRight)),\n      rule(inSet(UP), north$1(moveNorth)),\n      rule(inSet(DOWN), south$1(moveSouth)),\n      rule(inSet(SPACE.concat(ENTER)), execute$1)\n    ]);\n    var getKeyupRules$2 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MatrixType = typical(schema$s, NoState.init, getKeydownRules$2, getKeyupRules$2, function () {\n      return Optional.some(focusIn$1);\n    });\n\n    var schema$r = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      defaulted('moveOnTab', false)\n    ];\n    var execute = function (component, simulatedEvent, menuConfig) {\n      return menuConfig.focusManager.get(component).bind(function (focused) {\n        return menuConfig.execute(component, simulatedEvent, focused);\n      });\n    };\n    var focusIn = function (component, menuConfig, _state) {\n      descendant(component.element, menuConfig.selector).each(function (first) {\n        menuConfig.focusManager.set(component, first);\n      });\n    };\n    var moveUp = function (element, focused, info) {\n      return horizontal(element, info.selector, focused, -1);\n    };\n    var moveDown = function (element, focused, info) {\n      return horizontal(element, info.selector, focused, +1);\n    };\n    var fireShiftTab = function (component, simulatedEvent, menuConfig, menuState) {\n      return menuConfig.moveOnTab ? move$1(moveUp)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    };\n    var fireTab = function (component, simulatedEvent, menuConfig, menuState) {\n      return menuConfig.moveOnTab ? move$1(moveDown)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    };\n    var getKeydownRules$1 = constant$1([\n      rule(inSet(UP), move$1(moveUp)),\n      rule(inSet(DOWN), move$1(moveDown)),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), fireShiftTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), fireTab),\n      rule(inSet(ENTER), execute),\n      rule(inSet(SPACE), execute)\n    ]);\n    var getKeyupRules$1 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MenuType = typical(schema$r, NoState.init, getKeydownRules$1, getKeyupRules$1, function () {\n      return Optional.some(focusIn);\n    });\n\n    var schema$q = [\n      onKeyboardHandler('onSpace'),\n      onKeyboardHandler('onEnter'),\n      onKeyboardHandler('onShiftEnter'),\n      onKeyboardHandler('onLeft'),\n      onKeyboardHandler('onRight'),\n      onKeyboardHandler('onTab'),\n      onKeyboardHandler('onShiftTab'),\n      onKeyboardHandler('onUp'),\n      onKeyboardHandler('onDown'),\n      onKeyboardHandler('onEscape'),\n      defaulted('stopSpaceKeyup', false),\n      option('focusIn')\n    ];\n    var getKeydownRules = function (component, simulatedEvent, specialInfo) {\n      return [\n        rule(inSet(SPACE), specialInfo.onSpace),\n        rule(and([\n          isNotShift,\n          inSet(ENTER)\n        ]), specialInfo.onEnter),\n        rule(and([\n          isShift,\n          inSet(ENTER)\n        ]), specialInfo.onShiftEnter),\n        rule(and([\n          isShift,\n          inSet(TAB)\n        ]), specialInfo.onShiftTab),\n        rule(and([\n          isNotShift,\n          inSet(TAB)\n        ]), specialInfo.onTab),\n        rule(inSet(UP), specialInfo.onUp),\n        rule(inSet(DOWN), specialInfo.onDown),\n        rule(inSet(LEFT), specialInfo.onLeft),\n        rule(inSet(RIGHT), specialInfo.onRight),\n        rule(inSet(SPACE), specialInfo.onSpace),\n        rule(inSet(ESCAPE), specialInfo.onEscape)\n      ];\n    };\n    var getKeyupRules = function (component, simulatedEvent, specialInfo) {\n      return specialInfo.stopSpaceKeyup ? [rule(inSet(SPACE), stopEventForFirefox)] : [];\n    };\n    var SpecialType = typical(schema$q, NoState.init, getKeydownRules, getKeyupRules, function (specialInfo) {\n      return specialInfo.focusIn;\n    });\n\n    var acyclic = AcyclicType.schema();\n    var cyclic = CyclicType.schema();\n    var flow = FlowType.schema();\n    var flatgrid = FlatgridType.schema();\n    var matrix = MatrixType.schema();\n    var execution = ExecutionType.schema();\n    var menu = MenuType.schema();\n    var special = SpecialType.schema();\n\n    var KeyboardBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        acyclic: acyclic,\n        cyclic: cyclic,\n        flow: flow,\n        flatgrid: flatgrid,\n        matrix: matrix,\n        execution: execution,\n        menu: menu,\n        special: special\n    });\n\n    var isFlatgridState = function (keyState) {\n      return hasNonNullableKey(keyState, 'setGridSize');\n    };\n    var Keying = createModes({\n      branchKey: 'mode',\n      branches: KeyboardBranches,\n      name: 'keying',\n      active: {\n        events: function (keyingConfig, keyingState) {\n          var handler = keyingConfig.handler;\n          return handler.toEvents(keyingConfig, keyingState);\n        }\n      },\n      apis: {\n        focusIn: function (component, keyConfig, keyState) {\n          keyConfig.sendFocusIn(keyConfig).fold(function () {\n            component.getSystem().triggerFocus(component.element, component.element);\n          }, function (sendFocusIn) {\n            sendFocusIn(component, keyConfig, keyState);\n          });\n        },\n        setGridSize: function (component, keyConfig, keyState, numRows, numColumns) {\n          if (!isFlatgridState(keyState)) {\n            console.error('Layout does not support setGridSize');\n          } else {\n            keyState.setGridSize(numRows, numColumns);\n          }\n        }\n      },\n      state: KeyingState\n    });\n\n    var set$2 = function (component, replaceConfig, replaceState, data) {\n      preserve$1(function () {\n        var newChildren = map$2(data, component.getSystem().build);\n        replaceChildren(component, newChildren);\n      }, component.element);\n    };\n    var insert = function (component, replaceConfig, insertion, childSpec) {\n      var child = component.getSystem().build(childSpec);\n      attachWith(component, child, insertion);\n    };\n    var append = function (component, replaceConfig, replaceState, appendee) {\n      insert(component, replaceConfig, append$2, appendee);\n    };\n    var prepend = function (component, replaceConfig, replaceState, prependee) {\n      insert(component, replaceConfig, prepend$1, prependee);\n    };\n    var remove = function (component, replaceConfig, replaceState, removee) {\n      var children = contents(component);\n      var foundChild = find$5(children, function (child) {\n        return eq(removee.element, child.element);\n      });\n      foundChild.each(detach);\n    };\n    var contents = function (component, _replaceConfig) {\n      return component.components();\n    };\n    var replaceAt = function (component, replaceConfig, replaceState, replaceeIndex, replacer) {\n      var children = contents(component);\n      return Optional.from(children[replaceeIndex]).map(function (replacee) {\n        remove(component, replaceConfig, replaceState, replacee);\n        replacer.each(function (r) {\n          insert(component, replaceConfig, function (p, c) {\n            appendAt(p, c, replaceeIndex);\n          }, r);\n        });\n        return replacee;\n      });\n    };\n    var replaceBy = function (component, replaceConfig, replaceState, replaceePred, replacer) {\n      var children = contents(component);\n      return findIndex$1(children, replaceePred).bind(function (replaceeIndex) {\n        return replaceAt(component, replaceConfig, replaceState, replaceeIndex, replacer);\n      });\n    };\n\n    var ReplaceApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        append: append,\n        prepend: prepend,\n        remove: remove,\n        replaceAt: replaceAt,\n        replaceBy: replaceBy,\n        set: set$2,\n        contents: contents\n    });\n\n    var Replacing = create$7({\n      fields: [],\n      name: 'replacing',\n      apis: ReplaceApis\n    });\n\n    var events$d = function (name, eventHandlers) {\n      var events = derive$2(eventHandlers);\n      return create$7({\n        fields: [required$1('enabled')],\n        name: name,\n        active: { events: constant$1(events) }\n      });\n    };\n    var config = function (name, eventHandlers) {\n      var me = events$d(name, eventHandlers);\n      return {\n        key: name,\n        value: {\n          config: {},\n          me: me,\n          configAsRaw: constant$1({}),\n          initialConfig: {},\n          state: NoState\n        }\n      };\n    };\n\n    var focus$2 = function (component, focusConfig) {\n      if (!focusConfig.ignore) {\n        focus$3(component.element);\n        focusConfig.onFocus(component);\n      }\n    };\n    var blur = function (component, focusConfig) {\n      if (!focusConfig.ignore) {\n        blur$1(component.element);\n      }\n    };\n    var isFocused = function (component) {\n      return hasFocus(component.element);\n    };\n\n    var FocusApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        focus: focus$2,\n        blur: blur,\n        isFocused: isFocused\n    });\n\n    var exhibit$4 = function (base, focusConfig) {\n      var mod = focusConfig.ignore ? {} : { attributes: { tabindex: '-1' } };\n      return nu$7(mod);\n    };\n    var events$c = function (focusConfig) {\n      return derive$2([run$1(focus$4(), function (component, simulatedEvent) {\n          focus$2(component, focusConfig);\n          simulatedEvent.stop();\n        })].concat(focusConfig.stopMousedown ? [run$1(mousedown(), function (_, simulatedEvent) {\n          simulatedEvent.event.prevent();\n        })] : []));\n    };\n\n    var ActiveFocus = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$4,\n        events: events$c\n    });\n\n    var FocusSchema = [\n      onHandler('onFocus'),\n      defaulted('stopMousedown', false),\n      defaulted('ignore', false)\n    ];\n\n    var Focusing = create$7({\n      fields: FocusSchema,\n      name: 'focusing',\n      active: ActiveFocus,\n      apis: FocusApis\n    });\n\n    var SetupBehaviourCellState = function (initialState) {\n      var init = function () {\n        var cell = Cell(initialState);\n        var get = function () {\n          return cell.get();\n        };\n        var set = function (newState) {\n          return cell.set(newState);\n        };\n        var clear = function () {\n          return cell.set(initialState);\n        };\n        var readState = function () {\n          return cell.get();\n        };\n        return {\n          get: get,\n          set: set,\n          clear: clear,\n          readState: readState\n        };\n      };\n      return { init: init };\n    };\n\n    var updateAriaState = function (component, toggleConfig, toggleState) {\n      var ariaInfo = toggleConfig.aria;\n      ariaInfo.update(component, ariaInfo, toggleState.get());\n    };\n    var updateClass = function (component, toggleConfig, toggleState) {\n      toggleConfig.toggleClass.each(function (toggleClass) {\n        if (toggleState.get()) {\n          add$2(component.element, toggleClass);\n        } else {\n          remove$2(component.element, toggleClass);\n        }\n      });\n    };\n    var toggle$2 = function (component, toggleConfig, toggleState) {\n      set$1(component, toggleConfig, toggleState, !toggleState.get());\n    };\n    var on = function (component, toggleConfig, toggleState) {\n      toggleState.set(true);\n      updateClass(component, toggleConfig, toggleState);\n      updateAriaState(component, toggleConfig, toggleState);\n    };\n    var off = function (component, toggleConfig, toggleState) {\n      toggleState.set(false);\n      updateClass(component, toggleConfig, toggleState);\n      updateAriaState(component, toggleConfig, toggleState);\n    };\n    var set$1 = function (component, toggleConfig, toggleState, state) {\n      var action = state ? on : off;\n      action(component, toggleConfig, toggleState);\n    };\n    var isOn = function (component, toggleConfig, toggleState) {\n      return toggleState.get();\n    };\n    var onLoad = function (component, toggleConfig, toggleState) {\n      set$1(component, toggleConfig, toggleState, toggleConfig.selected);\n    };\n\n    var ToggleApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad,\n        toggle: toggle$2,\n        isOn: isOn,\n        on: on,\n        off: off,\n        set: set$1\n    });\n\n    var exhibit$3 = function () {\n      return nu$7({});\n    };\n    var events$b = function (toggleConfig, toggleState) {\n      var execute = executeEvent(toggleConfig, toggleState, toggle$2);\n      var load = loadEvent(toggleConfig, toggleState, onLoad);\n      return derive$2(flatten([\n        toggleConfig.toggleOnExecute ? [execute] : [],\n        [load]\n      ]));\n    };\n\n    var ActiveToggle = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$3,\n        events: events$b\n    });\n\n    var updatePressed = function (component, ariaInfo, status) {\n      set$8(component.element, 'aria-pressed', status);\n      if (ariaInfo.syncWithExpanded) {\n        updateExpanded(component, ariaInfo, status);\n      }\n    };\n    var updateSelected = function (component, ariaInfo, status) {\n      set$8(component.element, 'aria-selected', status);\n    };\n    var updateChecked = function (component, ariaInfo, status) {\n      set$8(component.element, 'aria-checked', status);\n    };\n    var updateExpanded = function (component, ariaInfo, status) {\n      set$8(component.element, 'aria-expanded', status);\n    };\n\n    var ToggleSchema = [\n      defaulted('selected', false),\n      option('toggleClass'),\n      defaulted('toggleOnExecute', true),\n      defaultedOf('aria', { mode: 'none' }, choose$1('mode', {\n        pressed: [\n          defaulted('syncWithExpanded', false),\n          output$1('update', updatePressed)\n        ],\n        checked: [output$1('update', updateChecked)],\n        expanded: [output$1('update', updateExpanded)],\n        selected: [output$1('update', updateSelected)],\n        none: [output$1('update', noop)]\n      }))\n    ];\n\n    var Toggling = create$7({\n      fields: ToggleSchema,\n      name: 'toggling',\n      active: ActiveToggle,\n      apis: ToggleApis,\n      state: SetupBehaviourCellState(false)\n    });\n\n    var pointerEvents = function () {\n      var onClick = function (component, simulatedEvent) {\n        simulatedEvent.stop();\n        emitExecute(component);\n      };\n      return [\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        cutter(touchstart()),\n        cutter(mousedown())\n      ];\n    };\n    var events$a = function (optAction) {\n      var executeHandler = function (action) {\n        return runOnExecute$1(function (component, simulatedEvent) {\n          action(component);\n          simulatedEvent.stop();\n        });\n      };\n      return derive$2(flatten([\n        optAction.map(executeHandler).toArray(),\n        pointerEvents()\n      ]));\n    };\n\n    var hoverEvent = 'alloy.item-hover';\n    var focusEvent = 'alloy.item-focus';\n    var onHover = function (item) {\n      if (search(item.element).isNone() || Focusing.isFocused(item)) {\n        if (!Focusing.isFocused(item)) {\n          Focusing.focus(item);\n        }\n        emitWith(item, hoverEvent, { item: item });\n      }\n    };\n    var onFocus$1 = function (item) {\n      emitWith(item, focusEvent, { item: item });\n    };\n    var hover = constant$1(hoverEvent);\n    var focus$1 = constant$1(focusEvent);\n\n    var builder$2 = function (detail) {\n      return {\n        dom: detail.dom,\n        domModification: __assign(__assign({}, detail.domModification), { attributes: __assign(__assign(__assign({ 'role': detail.toggling.isSome() ? 'menuitemcheckbox' : 'menuitem' }, detail.domModification.attributes), { 'aria-haspopup': detail.hasSubmenu }), detail.hasSubmenu ? { 'aria-expanded': false } : {}) }),\n        behaviours: SketchBehaviours.augment(detail.itemBehaviours, [\n          detail.toggling.fold(Toggling.revoke, function (tConfig) {\n            return Toggling.config(__assign({ aria: { mode: 'checked' } }, tConfig));\n          }),\n          Focusing.config({\n            ignore: detail.ignoreFocus,\n            stopMousedown: detail.ignoreFocus,\n            onFocus: function (component) {\n              onFocus$1(component);\n            }\n          }),\n          Keying.config({ mode: 'execution' }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.data\n            }\n          }),\n          config('item-type-events', __spreadArray(__spreadArray([], pointerEvents(), true), [\n            run$1(mouseover(), onHover),\n            run$1(focusItem(), Focusing.focus)\n          ], false))\n        ]),\n        components: detail.components,\n        eventOrder: detail.eventOrder\n      };\n    };\n    var schema$p = [\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('hasSubmenu', false),\n      option('toggling'),\n      SketchBehaviours.field('itemBehaviours', [\n        Toggling,\n        Focusing,\n        Keying,\n        Representing\n      ]),\n      defaulted('ignoreFocus', false),\n      defaulted('domModification', {}),\n      output$1('builder', builder$2),\n      defaulted('eventOrder', {})\n    ];\n\n    var builder$1 = function (detail) {\n      return {\n        dom: detail.dom,\n        components: detail.components,\n        events: derive$2([stopper(focusItem())])\n      };\n    };\n    var schema$o = [\n      required$1('dom'),\n      required$1('components'),\n      output$1('builder', builder$1)\n    ];\n\n    var owner$2 = constant$1('item-widget');\n    var parts$h = constant$1([required({\n        name: 'widget',\n        overrides: function (detail) {\n          return {\n            behaviours: derive$1([Representing.config({\n                store: {\n                  mode: 'manual',\n                  getValue: function (_component) {\n                    return detail.data;\n                  },\n                  setValue: noop\n                }\n              })])\n          };\n        }\n      })]);\n\n    var builder = function (detail) {\n      var subs = substitutes(owner$2(), detail, parts$h());\n      var components = components$1(owner$2(), detail, subs.internals());\n      var focusWidget = function (component) {\n        return getPart(component, detail, 'widget').map(function (widget) {\n          Keying.focusIn(widget);\n          return widget;\n        });\n      };\n      var onHorizontalArrow = function (component, simulatedEvent) {\n        return inside(simulatedEvent.event.target) ? Optional.none() : function () {\n          if (detail.autofocus) {\n            simulatedEvent.setSource(component.element);\n            return Optional.none();\n          } else {\n            return Optional.none();\n          }\n        }();\n      };\n      return {\n        dom: detail.dom,\n        components: components,\n        domModification: detail.domModification,\n        events: derive$2([\n          runOnExecute$1(function (component, simulatedEvent) {\n            focusWidget(component).each(function (_widget) {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(mouseover(), onHover),\n          run$1(focusItem(), function (component, _simulatedEvent) {\n            if (detail.autofocus) {\n              focusWidget(component);\n            } else {\n              Focusing.focus(component);\n            }\n          })\n        ]),\n        behaviours: SketchBehaviours.augment(detail.widgetBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.data\n            }\n          }),\n          Focusing.config({\n            ignore: detail.ignoreFocus,\n            onFocus: function (component) {\n              onFocus$1(component);\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            focusIn: detail.autofocus ? function (component) {\n              focusWidget(component);\n            } : revoke(),\n            onLeft: onHorizontalArrow,\n            onRight: onHorizontalArrow,\n            onEscape: function (component, simulatedEvent) {\n              if (!Focusing.isFocused(component) && !detail.autofocus) {\n                Focusing.focus(component);\n                return Optional.some(true);\n              } else if (detail.autofocus) {\n                simulatedEvent.setSource(component.element);\n                return Optional.none();\n              } else {\n                return Optional.none();\n              }\n            }\n          })\n        ])\n      };\n    };\n    var schema$n = [\n      required$1('uid'),\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('autofocus', false),\n      defaulted('ignoreFocus', false),\n      SketchBehaviours.field('widgetBehaviours', [\n        Representing,\n        Focusing,\n        Keying\n      ]),\n      defaulted('domModification', {}),\n      defaultUidsSchema(parts$h()),\n      output$1('builder', builder)\n    ];\n\n    var itemSchema$2 = choose$1('type', {\n      widget: schema$n,\n      item: schema$p,\n      separator: schema$o\n    });\n    var configureGrid = function (detail, movementInfo) {\n      return {\n        mode: 'flatgrid',\n        selector: '.' + detail.markers.item,\n        initSize: {\n          numColumns: movementInfo.initSize.numColumns,\n          numRows: movementInfo.initSize.numRows\n        },\n        focusManager: detail.focusManager\n      };\n    };\n    var configureMatrix = function (detail, movementInfo) {\n      return {\n        mode: 'matrix',\n        selectors: {\n          row: movementInfo.rowSelector,\n          cell: '.' + detail.markers.item\n        },\n        focusManager: detail.focusManager\n      };\n    };\n    var configureMenu = function (detail, movementInfo) {\n      return {\n        mode: 'menu',\n        selector: '.' + detail.markers.item,\n        moveOnTab: movementInfo.moveOnTab,\n        focusManager: detail.focusManager\n      };\n    };\n    var parts$g = constant$1([group({\n        factory: {\n          sketch: function (spec) {\n            var itemInfo = asRawOrDie$1('menu.spec item', itemSchema$2, spec);\n            return itemInfo.builder(itemInfo);\n          }\n        },\n        name: 'items',\n        unit: 'item',\n        defaults: function (detail, u) {\n          return has$2(u, 'uid') ? u : __assign(__assign({}, u), { uid: generate$5('item') });\n        },\n        overrides: function (detail, u) {\n          return {\n            type: u.type,\n            ignoreFocus: detail.fakeFocus,\n            domModification: { classes: [detail.markers.item] }\n          };\n        }\n      })]);\n    var schema$m = constant$1([\n      required$1('value'),\n      required$1('items'),\n      required$1('dom'),\n      required$1('components'),\n      defaulted('eventOrder', {}),\n      field('menuBehaviours', [\n        Highlighting,\n        Representing,\n        Composing,\n        Keying\n      ]),\n      defaultedOf('movement', {\n        mode: 'menu',\n        moveOnTab: true\n      }, choose$1('mode', {\n        grid: [\n          initSize(),\n          output$1('config', configureGrid)\n        ],\n        matrix: [\n          output$1('config', configureMatrix),\n          required$1('rowSelector')\n        ],\n        menu: [\n          defaulted('moveOnTab', true),\n          output$1('config', configureMenu)\n        ]\n      })),\n      itemMarkers(),\n      defaulted('fakeFocus', false),\n      defaulted('focusManager', dom$2()),\n      onHandler('onHighlight')\n    ]);\n\n    var focus = constant$1('alloy.menu-focus');\n\n    var make$7 = function (detail, components, _spec, _externals) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        markers: detail.markers,\n        behaviours: augment(detail.menuBehaviours, [\n          Highlighting.config({\n            highlightClass: detail.markers.selectedItem,\n            itemClass: detail.markers.item,\n            onHighlight: detail.onHighlight\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.value\n            }\n          }),\n          Composing.config({ find: Optional.some }),\n          Keying.config(detail.movement.config(detail, detail.movement))\n        ]),\n        events: derive$2([\n          run$1(focus$1(), function (menu, simulatedEvent) {\n            var event = simulatedEvent.event;\n            menu.getSystem().getByDom(event.target).each(function (item) {\n              Highlighting.highlight(menu, item);\n              simulatedEvent.stop();\n              emitWith(menu, focus(), {\n                menu: menu,\n                item: item\n              });\n            });\n          }),\n          run$1(hover(), function (menu, simulatedEvent) {\n            var item = simulatedEvent.event.item;\n            Highlighting.highlight(menu, item);\n          })\n        ]),\n        components: components,\n        eventOrder: detail.eventOrder,\n        domModification: { attributes: { role: 'menu' } }\n      };\n    };\n\n    var Menu = composite({\n      name: 'Menu',\n      configFields: schema$m(),\n      partFields: parts$g(),\n      factory: make$7\n    });\n\n    var transpose$1 = function (obj) {\n      return tupleMap(obj, function (v, k) {\n        return {\n          k: v,\n          v: k\n        };\n      });\n    };\n    var trace = function (items, byItem, byMenu, finish) {\n      return get$e(byMenu, finish).bind(function (triggerItem) {\n        return get$e(items, triggerItem).bind(function (triggerMenu) {\n          var rest = trace(items, byItem, byMenu, triggerMenu);\n          return Optional.some([triggerMenu].concat(rest));\n        });\n      }).getOr([]);\n    };\n    var generate$2 = function (menus, expansions) {\n      var items = {};\n      each(menus, function (menuItems, menu) {\n        each$1(menuItems, function (item) {\n          items[item] = menu;\n        });\n      });\n      var byItem = expansions;\n      var byMenu = transpose$1(expansions);\n      var menuPaths = map$1(byMenu, function (_triggerItem, submenu) {\n        return [submenu].concat(trace(items, byItem, byMenu, submenu));\n      });\n      return map$1(items, function (menu) {\n        return get$e(menuPaths, menu).getOr([menu]);\n      });\n    };\n\n    var init$c = function () {\n      var expansions = Cell({});\n      var menus = Cell({});\n      var paths = Cell({});\n      var primary = value$1();\n      var directory = Cell({});\n      var clear = function () {\n        expansions.set({});\n        menus.set({});\n        paths.set({});\n        primary.clear();\n      };\n      var isClear = function () {\n        return primary.get().isNone();\n      };\n      var setMenuBuilt = function (menuName, built) {\n        var _a;\n        menus.set(__assign(__assign({}, menus.get()), (_a = {}, _a[menuName] = {\n          type: 'prepared',\n          menu: built\n        }, _a)));\n      };\n      var setContents = function (sPrimary, sMenus, sExpansions, dir) {\n        primary.set(sPrimary);\n        expansions.set(sExpansions);\n        menus.set(sMenus);\n        directory.set(dir);\n        var sPaths = generate$2(dir, sExpansions);\n        paths.set(sPaths);\n      };\n      var getTriggeringItem = function (menuValue) {\n        return find$4(expansions.get(), function (v, _k) {\n          return v === menuValue;\n        });\n      };\n      var getTriggerData = function (menuValue, getItemByValue, path) {\n        return getPreparedMenu(menuValue).bind(function (menu) {\n          return getTriggeringItem(menuValue).bind(function (triggeringItemValue) {\n            return getItemByValue(triggeringItemValue).map(function (triggeredItem) {\n              return {\n                triggeredMenu: menu,\n                triggeringItem: triggeredItem,\n                triggeringPath: path\n              };\n            });\n          });\n        });\n      };\n      var getTriggeringPath = function (itemValue, getItemByValue) {\n        var extraPath = filter$2(lookupItem(itemValue).toArray(), function (menuValue) {\n          return getPreparedMenu(menuValue).isSome();\n        });\n        return get$e(paths.get(), itemValue).bind(function (path) {\n          var revPath = reverse(extraPath.concat(path));\n          var triggers = bind$3(revPath, function (menuValue, menuIndex) {\n            return getTriggerData(menuValue, getItemByValue, revPath.slice(0, menuIndex + 1)).fold(function () {\n              return is$1(primary.get(), menuValue) ? [] : [Optional.none()];\n            }, function (data) {\n              return [Optional.some(data)];\n            });\n          });\n          return sequence(triggers);\n        });\n      };\n      var expand = function (itemValue) {\n        return get$e(expansions.get(), itemValue).map(function (menu) {\n          var current = get$e(paths.get(), itemValue).getOr([]);\n          return [menu].concat(current);\n        });\n      };\n      var collapse = function (itemValue) {\n        return get$e(paths.get(), itemValue).bind(function (path) {\n          return path.length > 1 ? Optional.some(path.slice(1)) : Optional.none();\n        });\n      };\n      var refresh = function (itemValue) {\n        return get$e(paths.get(), itemValue);\n      };\n      var getPreparedMenu = function (menuValue) {\n        return lookupMenu(menuValue).bind(extractPreparedMenu);\n      };\n      var lookupMenu = function (menuValue) {\n        return get$e(menus.get(), menuValue);\n      };\n      var lookupItem = function (itemValue) {\n        return get$e(expansions.get(), itemValue);\n      };\n      var otherMenus = function (path) {\n        var menuValues = directory.get();\n        return difference(keys(menuValues), path);\n      };\n      var getPrimary = function () {\n        return primary.get().bind(getPreparedMenu);\n      };\n      var getMenus = function () {\n        return menus.get();\n      };\n      return {\n        setMenuBuilt: setMenuBuilt,\n        setContents: setContents,\n        expand: expand,\n        refresh: refresh,\n        collapse: collapse,\n        lookupMenu: lookupMenu,\n        lookupItem: lookupItem,\n        otherMenus: otherMenus,\n        getPrimary: getPrimary,\n        getMenus: getMenus,\n        clear: clear,\n        isClear: isClear,\n        getTriggeringPath: getTriggeringPath\n      };\n    };\n    var extractPreparedMenu = function (prep) {\n      return prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none();\n    };\n    var LayeredState = {\n      init: init$c,\n      extractPreparedMenu: extractPreparedMenu\n    };\n\n    var make$6 = function (detail, _rawUiSpec) {\n      var submenuParentItems = value$1();\n      var buildMenus = function (container, primaryName, menus) {\n        return map$1(menus, function (spec, name) {\n          var makeSketch = function () {\n            return Menu.sketch(__assign(__assign({}, spec), {\n              value: name,\n              markers: detail.markers,\n              fakeFocus: detail.fakeFocus,\n              onHighlight: detail.onHighlight,\n              focusManager: detail.fakeFocus ? highlights() : dom$2()\n            }));\n          };\n          return name === primaryName ? {\n            type: 'prepared',\n            menu: container.getSystem().build(makeSketch())\n          } : {\n            type: 'notbuilt',\n            nbMenu: makeSketch\n          };\n        });\n      };\n      var layeredState = LayeredState.init();\n      var setup = function (container) {\n        var componentMap = buildMenus(container, detail.data.primary, detail.data.menus);\n        var directory = toDirectory();\n        layeredState.setContents(detail.data.primary, componentMap, detail.data.expansions, directory);\n        return layeredState.getPrimary();\n      };\n      var getItemValue = function (item) {\n        return Representing.getValue(item).value;\n      };\n      var getItemByValue = function (_container, menus, itemValue) {\n        return findMap(menus, function (menu) {\n          if (!menu.getSystem().isConnected()) {\n            return Optional.none();\n          }\n          var candidates = Highlighting.getCandidates(menu);\n          return find$5(candidates, function (c) {\n            return getItemValue(c) === itemValue;\n          });\n        });\n      };\n      var toDirectory = function (_container) {\n        return map$1(detail.data.menus, function (data, _menuName) {\n          return bind$3(data.items, function (item) {\n            return item.type === 'separator' ? [] : [item.data.value];\n          });\n        });\n      };\n      var setActiveMenu = function (container, menu) {\n        Highlighting.highlight(container, menu);\n        Highlighting.getHighlighted(menu).orThunk(function () {\n          return Highlighting.getFirst(menu);\n        }).each(function (item) {\n          dispatch(container, item.element, focusItem());\n        });\n      };\n      var getMenus = function (state, menuValues) {\n        return cat(map$2(menuValues, function (mv) {\n          return state.lookupMenu(mv).bind(function (prep) {\n            return prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none();\n          });\n        }));\n      };\n      var closeOthers = function (container, state, path) {\n        var others = getMenus(state, state.otherMenus(path));\n        each$1(others, function (o) {\n          remove$1(o.element, [detail.markers.backgroundMenu]);\n          if (!detail.stayInDom) {\n            Replacing.remove(container, o);\n          }\n        });\n      };\n      var getSubmenuParents = function (container) {\n        return submenuParentItems.get().getOrThunk(function () {\n          var r = {};\n          var items = descendants(container.element, '.' + detail.markers.item);\n          var parentItems = filter$2(items, function (i) {\n            return get$d(i, 'aria-haspopup') === 'true';\n          });\n          each$1(parentItems, function (i) {\n            container.getSystem().getByDom(i).each(function (itemComp) {\n              var key = getItemValue(itemComp);\n              r[key] = itemComp;\n            });\n          });\n          submenuParentItems.set(r);\n          return r;\n        });\n      };\n      var updateAriaExpansions = function (container, path) {\n        var parentItems = getSubmenuParents(container);\n        each(parentItems, function (v, k) {\n          var expanded = contains$2(path, k);\n          set$8(v.element, 'aria-expanded', expanded);\n        });\n      };\n      var updateMenuPath = function (container, state, path) {\n        return Optional.from(path[0]).bind(function (latestMenuName) {\n          return state.lookupMenu(latestMenuName).bind(function (menuPrep) {\n            if (menuPrep.type === 'notbuilt') {\n              return Optional.none();\n            } else {\n              var activeMenu = menuPrep.menu;\n              var rest = getMenus(state, path.slice(1));\n              each$1(rest, function (r) {\n                add$2(r.element, detail.markers.backgroundMenu);\n              });\n              if (!inBody(activeMenu.element)) {\n                Replacing.append(container, premade(activeMenu));\n              }\n              remove$1(activeMenu.element, [detail.markers.backgroundMenu]);\n              setActiveMenu(container, activeMenu);\n              closeOthers(container, state, path);\n              return Optional.some(activeMenu);\n            }\n          });\n        });\n      };\n      var ExpandHighlightDecision;\n      (function (ExpandHighlightDecision) {\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightSubmenu'] = 0] = 'HighlightSubmenu';\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightParent'] = 1] = 'HighlightParent';\n      }(ExpandHighlightDecision || (ExpandHighlightDecision = {})));\n      var buildIfRequired = function (container, menuName, menuPrep) {\n        if (menuPrep.type === 'notbuilt') {\n          var menu = container.getSystem().build(menuPrep.nbMenu());\n          layeredState.setMenuBuilt(menuName, menu);\n          return menu;\n        } else {\n          return menuPrep.menu;\n        }\n      };\n      var expandRight = function (container, item, decision) {\n        if (decision === void 0) {\n          decision = ExpandHighlightDecision.HighlightSubmenu;\n        }\n        if (item.hasConfigured(Disabling) && Disabling.isDisabled(item)) {\n          return Optional.some(item);\n        } else {\n          var value = getItemValue(item);\n          return layeredState.expand(value).bind(function (path) {\n            updateAriaExpansions(container, path);\n            return Optional.from(path[0]).bind(function (menuName) {\n              return layeredState.lookupMenu(menuName).bind(function (activeMenuPrep) {\n                var activeMenu = buildIfRequired(container, menuName, activeMenuPrep);\n                if (!inBody(activeMenu.element)) {\n                  Replacing.append(container, premade(activeMenu));\n                }\n                detail.onOpenSubmenu(container, item, activeMenu, reverse(path));\n                if (decision === ExpandHighlightDecision.HighlightSubmenu) {\n                  Highlighting.highlightFirst(activeMenu);\n                  return updateMenuPath(container, layeredState, path);\n                } else {\n                  Highlighting.dehighlightAll(activeMenu);\n                  return Optional.some(item);\n                }\n              });\n            });\n          });\n        }\n      };\n      var collapseLeft = function (container, item) {\n        var value = getItemValue(item);\n        return layeredState.collapse(value).bind(function (path) {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path).map(function (activeMenu) {\n            detail.onCollapseMenu(container, item, activeMenu);\n            return activeMenu;\n          });\n        });\n      };\n      var updateView = function (container, item) {\n        var value = getItemValue(item);\n        return layeredState.refresh(value).bind(function (path) {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path);\n        });\n      };\n      var onRight = function (container, item) {\n        return inside(item.element) ? Optional.none() : expandRight(container, item, ExpandHighlightDecision.HighlightSubmenu);\n      };\n      var onLeft = function (container, item) {\n        return inside(item.element) ? Optional.none() : collapseLeft(container, item);\n      };\n      var onEscape = function (container, item) {\n        return collapseLeft(container, item).orThunk(function () {\n          return detail.onEscape(container, item).map(function () {\n            return container;\n          });\n        });\n      };\n      var keyOnItem = function (f) {\n        return function (container, simulatedEvent) {\n          return closest$1(simulatedEvent.getSource(), '.' + detail.markers.item).bind(function (target) {\n            return container.getSystem().getByDom(target).toOptional().bind(function (item) {\n              return f(container, item).map(always);\n            });\n          });\n        };\n      };\n      var events = derive$2([\n        run$1(focus(), function (sandbox, simulatedEvent) {\n          var item = simulatedEvent.event.item;\n          layeredState.lookupItem(getItemValue(item)).each(function () {\n            var menu = simulatedEvent.event.menu;\n            Highlighting.highlight(sandbox, menu);\n            var value = getItemValue(simulatedEvent.event.item);\n            layeredState.refresh(value).each(function (path) {\n              return closeOthers(sandbox, layeredState, path);\n            });\n          });\n        }),\n        runOnExecute$1(function (component, simulatedEvent) {\n          var target = simulatedEvent.event.target;\n          component.getSystem().getByDom(target).each(function (item) {\n            var itemValue = getItemValue(item);\n            if (itemValue.indexOf('collapse-item') === 0) {\n              collapseLeft(component, item);\n            }\n            expandRight(component, item, ExpandHighlightDecision.HighlightSubmenu).fold(function () {\n              detail.onExecute(component, item);\n            }, noop);\n          });\n        }),\n        runOnAttached(function (container, _simulatedEvent) {\n          setup(container).each(function (primary) {\n            Replacing.append(container, premade(primary));\n            detail.onOpenMenu(container, primary);\n            if (detail.highlightImmediately) {\n              setActiveMenu(container, primary);\n            }\n          });\n        })\n      ].concat(detail.navigateOnHover ? [run$1(hover(), function (sandbox, simulatedEvent) {\n          var item = simulatedEvent.event.item;\n          updateView(sandbox, item);\n          expandRight(sandbox, item, ExpandHighlightDecision.HighlightParent);\n          detail.onHover(sandbox, item);\n        })] : []));\n      var getActiveItem = function (container) {\n        return Highlighting.getHighlighted(container).bind(Highlighting.getHighlighted);\n      };\n      var collapseMenuApi = function (container) {\n        getActiveItem(container).each(function (currentItem) {\n          collapseLeft(container, currentItem);\n        });\n      };\n      var highlightPrimary = function (container) {\n        layeredState.getPrimary().each(function (primary) {\n          setActiveMenu(container, primary);\n        });\n      };\n      var extractMenuFromContainer = function (container) {\n        return Optional.from(container.components()[0]).filter(function (comp) {\n          return get$d(comp.element, 'role') === 'menu';\n        });\n      };\n      var repositionMenus = function (container) {\n        var maybeActivePrimary = layeredState.getPrimary().bind(function (primary) {\n          return getActiveItem(container).bind(function (currentItem) {\n            var itemValue = getItemValue(currentItem);\n            var allMenus = values(layeredState.getMenus());\n            var preparedMenus = cat(map$2(allMenus, LayeredState.extractPreparedMenu));\n            return layeredState.getTriggeringPath(itemValue, function (v) {\n              return getItemByValue(container, preparedMenus, v);\n            });\n          }).map(function (triggeringPath) {\n            return {\n              primary: primary,\n              triggeringPath: triggeringPath\n            };\n          });\n        });\n        maybeActivePrimary.fold(function () {\n          extractMenuFromContainer(container).each(function (primaryMenu) {\n            detail.onRepositionMenu(container, primaryMenu, []);\n          });\n        }, function (_a) {\n          var primary = _a.primary, triggeringPath = _a.triggeringPath;\n          detail.onRepositionMenu(container, primary, triggeringPath);\n        });\n      };\n      var apis = {\n        collapseMenu: collapseMenuApi,\n        highlightPrimary: highlightPrimary,\n        repositionMenus: repositionMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        markers: detail.markers,\n        behaviours: augment(detail.tmenuBehaviours, [\n          Keying.config({\n            mode: 'special',\n            onRight: keyOnItem(onRight),\n            onLeft: keyOnItem(onLeft),\n            onEscape: keyOnItem(onEscape),\n            focusIn: function (container, _keyInfo) {\n              layeredState.getPrimary().each(function (primary) {\n                dispatch(container, primary.element, focusItem());\n              });\n            }\n          }),\n          Highlighting.config({\n            highlightClass: detail.markers.selectedMenu,\n            itemClass: detail.markers.menu\n          }),\n          Composing.config({\n            find: function (container) {\n              return Highlighting.getHighlighted(container);\n            }\n          }),\n          Replacing.config({})\n        ]),\n        eventOrder: detail.eventOrder,\n        apis: apis,\n        events: events\n      };\n    };\n    var collapseItem$1 = constant$1('collapse-item');\n\n    var tieredData = function (primary, menus, expansions) {\n      return {\n        primary: primary,\n        menus: menus,\n        expansions: expansions\n      };\n    };\n    var singleData = function (name, menu) {\n      return {\n        primary: name,\n        menus: wrap$1(name, menu),\n        expansions: {}\n      };\n    };\n    var collapseItem = function (text) {\n      return {\n        value: generate$6(collapseItem$1()),\n        meta: { text: text }\n      };\n    };\n    var tieredMenu = single({\n      name: 'TieredMenu',\n      configFields: [\n        onStrictKeyboardHandler('onExecute'),\n        onStrictKeyboardHandler('onEscape'),\n        onStrictHandler('onOpenMenu'),\n        onStrictHandler('onOpenSubmenu'),\n        onHandler('onRepositionMenu'),\n        onHandler('onCollapseMenu'),\n        defaulted('highlightImmediately', true),\n        requiredObjOf('data', [\n          required$1('primary'),\n          required$1('menus'),\n          required$1('expansions')\n        ]),\n        defaulted('fakeFocus', false),\n        onHandler('onHighlight'),\n        onHandler('onHover'),\n        tieredMenuMarkers(),\n        required$1('dom'),\n        defaulted('navigateOnHover', true),\n        defaulted('stayInDom', false),\n        field('tmenuBehaviours', [\n          Keying,\n          Highlighting,\n          Composing,\n          Replacing\n        ]),\n        defaulted('eventOrder', {})\n      ],\n      apis: {\n        collapseMenu: function (apis, tmenu) {\n          apis.collapseMenu(tmenu);\n        },\n        highlightPrimary: function (apis, tmenu) {\n          apis.highlightPrimary(tmenu);\n        },\n        repositionMenus: function (apis, tmenu) {\n          apis.repositionMenus(tmenu);\n        }\n      },\n      factory: make$6,\n      extraApis: {\n        tieredData: tieredData,\n        singleData: singleData,\n        collapseItem: collapseItem\n      }\n    });\n\n    var makeMenu = function (detail, menuSandbox, placementSpec, menuSpec, getBounds) {\n      var lazySink = function () {\n        return detail.lazySink(menuSandbox);\n      };\n      var layouts = menuSpec.type === 'horizontal' ? {\n        layouts: {\n          onLtr: function () {\n            return belowOrAbove();\n          },\n          onRtl: function () {\n            return belowOrAboveRtl();\n          }\n        }\n      } : {};\n      var isFirstTierSubmenu = function (triggeringPaths) {\n        return triggeringPaths.length === 2;\n      };\n      var getSubmenuLayouts = function (triggeringPaths) {\n        return isFirstTierSubmenu(triggeringPaths) ? layouts : {};\n      };\n      return tieredMenu.sketch({\n        dom: { tag: 'div' },\n        data: menuSpec.data,\n        markers: menuSpec.menu.markers,\n        highlightImmediately: menuSpec.menu.highlightImmediately,\n        onEscape: function () {\n          Sandboxing.close(menuSandbox);\n          detail.onEscape.map(function (handler) {\n            return handler(menuSandbox);\n          });\n          return Optional.some(true);\n        },\n        onExecute: function () {\n          return Optional.some(true);\n        },\n        onOpenMenu: function (tmenu, menu) {\n          Positioning.positionWithinBounds(lazySink().getOrDie(), menu, placementSpec, getBounds());\n        },\n        onOpenSubmenu: function (tmenu, item, submenu, triggeringPaths) {\n          var sink = lazySink().getOrDie();\n          Positioning.position(sink, submenu, {\n            anchor: __assign({\n              type: 'submenu',\n              item: item\n            }, getSubmenuLayouts(triggeringPaths))\n          });\n        },\n        onRepositionMenu: function (tmenu, primaryMenu, submenuTriggers) {\n          var sink = lazySink().getOrDie();\n          Positioning.positionWithinBounds(sink, primaryMenu, placementSpec, getBounds());\n          each$1(submenuTriggers, function (st) {\n            var submenuLayouts = getSubmenuLayouts(st.triggeringPath);\n            Positioning.position(sink, st.triggeredMenu, {\n              anchor: __assign({\n                type: 'submenu',\n                item: st.triggeringItem\n              }, submenuLayouts)\n            });\n          });\n        }\n      });\n    };\n    var factory$m = function (detail, spec) {\n      var isPartOfRelated = function (sandbox, queryElem) {\n        var related = detail.getRelated(sandbox);\n        return related.exists(function (rel) {\n          return isPartOf$1(rel, queryElem);\n        });\n      };\n      var setContent = function (sandbox, thing) {\n        Sandboxing.setContent(sandbox, thing);\n      };\n      var showAt = function (sandbox, thing, placementSpec) {\n        showWithin(sandbox, thing, placementSpec, Optional.none());\n      };\n      var showWithin = function (sandbox, thing, placementSpec, boxElement) {\n        showWithinBounds(sandbox, thing, placementSpec, function () {\n          return boxElement.map(function (elem) {\n            return box$1(elem);\n          });\n        });\n      };\n      var showWithinBounds = function (sandbox, thing, placementSpec, getBounds) {\n        var sink = detail.lazySink(sandbox).getOrDie();\n        Sandboxing.openWhileCloaked(sandbox, thing, function () {\n          return Positioning.positionWithinBounds(sink, sandbox, placementSpec, getBounds());\n        });\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'position',\n          config: placementSpec,\n          getBounds: getBounds\n        }));\n      };\n      var showMenuAt = function (sandbox, placementSpec, menuSpec) {\n        showMenuWithinBounds(sandbox, placementSpec, menuSpec, Optional.none);\n      };\n      var showMenuWithinBounds = function (sandbox, placementSpec, menuSpec, getBounds) {\n        var menu = makeMenu(detail, sandbox, placementSpec, menuSpec, getBounds);\n        Sandboxing.open(sandbox, menu);\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'menu',\n          menu: menu\n        }));\n      };\n      var hide = function (sandbox) {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.setValue(sandbox, Optional.none());\n          Sandboxing.close(sandbox);\n        }\n      };\n      var getContent = function (sandbox) {\n        return Sandboxing.getState(sandbox);\n      };\n      var reposition = function (sandbox) {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.getValue(sandbox).each(function (state) {\n            switch (state.mode) {\n            case 'menu':\n              Sandboxing.getState(sandbox).each(tieredMenu.repositionMenus);\n              break;\n            case 'position':\n              var sink = detail.lazySink(sandbox).getOrDie();\n              Positioning.positionWithinBounds(sink, sandbox, state.config, state.getBounds());\n              break;\n            }\n          });\n        }\n      };\n      var apis = {\n        setContent: setContent,\n        showAt: showAt,\n        showWithin: showWithin,\n        showWithinBounds: showWithinBounds,\n        showMenuAt: showMenuAt,\n        showMenuWithinBounds: showMenuWithinBounds,\n        hide: hide,\n        getContent: getContent,\n        reposition: reposition,\n        isOpen: Sandboxing.isOpen\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        behaviours: augment(detail.inlineBehaviours, [\n          Sandboxing.config({\n            isPartOf: function (sandbox, data, queryElem) {\n              return isPartOf$1(data, queryElem) || isPartOfRelated(sandbox, queryElem);\n            },\n            getAttachPoint: function (sandbox) {\n              return detail.lazySink(sandbox).getOrDie();\n            },\n            onOpen: function (sandbox) {\n              detail.onShow(sandbox);\n            },\n            onClose: function (sandbox) {\n              detail.onHide(sandbox);\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: Optional.none()\n            }\n          }),\n          Receiving.config({\n            channels: __assign(__assign({}, receivingChannel$1(__assign({ isExtraPart: spec.isExtraPart }, detail.fireDismissalEventInstead.map(function (fe) {\n              return { fireEventInstead: { event: fe.event } };\n            }).getOr({})))), receivingChannel(__assign(__assign({}, detail.fireRepositionEventInstead.map(function (fe) {\n              return { fireEventInstead: { event: fe.event } };\n            }).getOr({})), { doReposition: reposition })))\n          })\n        ]),\n        eventOrder: detail.eventOrder,\n        apis: apis\n      };\n    };\n    var InlineView = single({\n      name: 'InlineView',\n      configFields: [\n        required$1('lazySink'),\n        onHandler('onShow'),\n        onHandler('onHide'),\n        optionFunction('onEscape'),\n        field('inlineBehaviours', [\n          Sandboxing,\n          Representing,\n          Receiving\n        ]),\n        optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n        optionObjOf('fireRepositionEventInstead', [defaulted('event', repositionRequested())]),\n        defaulted('getRelated', Optional.none),\n        defaulted('isExtraPart', never),\n        defaulted('eventOrder', Optional.none)\n      ],\n      factory: factory$m,\n      apis: {\n        showAt: function (apis, component, anchor, thing) {\n          apis.showAt(component, anchor, thing);\n        },\n        showWithin: function (apis, component, anchor, thing, boxElement) {\n          apis.showWithin(component, anchor, thing, boxElement);\n        },\n        showWithinBounds: function (apis, component, anchor, thing, bounds) {\n          apis.showWithinBounds(component, anchor, thing, bounds);\n        },\n        showMenuAt: function (apis, component, anchor, menuSpec) {\n          apis.showMenuAt(component, anchor, menuSpec);\n        },\n        showMenuWithinBounds: function (apis, component, anchor, menuSpec, bounds) {\n          apis.showMenuWithinBounds(component, anchor, menuSpec, bounds);\n        },\n        hide: function (apis, component) {\n          apis.hide(component);\n        },\n        isOpen: function (apis, component) {\n          return apis.isOpen(component);\n        },\n        getContent: function (apis, component) {\n          return apis.getContent(component);\n        },\n        setContent: function (apis, component, thing) {\n          apis.setContent(component, thing);\n        },\n        reposition: function (apis, component) {\n          apis.reposition(component);\n        }\n      }\n    });\n\n    var labelPrefix = 'layout-inset';\n    var westEdgeX = function (anchor) {\n      return anchor.x;\n    };\n    var middleX = function (anchor, element) {\n      return anchor.x + anchor.width / 2 - element.width / 2;\n    };\n    var eastEdgeX = function (anchor, element) {\n      return anchor.x + anchor.width - element.width;\n    };\n    var northY = function (anchor) {\n      return anchor.y;\n    };\n    var southY = function (anchor, element) {\n      return anchor.y + anchor.height - element.height;\n    };\n    var centreY = function (anchor, element) {\n      return anchor.y + anchor.height / 2 - element.height / 2;\n    };\n    var southwest = function (anchor, element, bubbles) {\n      return nu$6(eastEdgeX(anchor, element), southY(anchor, element), bubbles.insetSouthwest(), northwest$3(), 'southwest', boundsRestriction(anchor, {\n        right: 0,\n        bottom: 3\n      }), labelPrefix);\n    };\n    var southeast = function (anchor, element, bubbles) {\n      return nu$6(westEdgeX(anchor), southY(anchor, element), bubbles.insetSoutheast(), northeast$3(), 'southeast', boundsRestriction(anchor, {\n        left: 1,\n        bottom: 3\n      }), labelPrefix);\n    };\n    var northwest = function (anchor, element, bubbles) {\n      return nu$6(eastEdgeX(anchor, element), northY(anchor), bubbles.insetNorthwest(), southwest$3(), 'northwest', boundsRestriction(anchor, {\n        right: 0,\n        top: 2\n      }), labelPrefix);\n    };\n    var northeast = function (anchor, element, bubbles) {\n      return nu$6(westEdgeX(anchor), northY(anchor), bubbles.insetNortheast(), southeast$3(), 'northeast', boundsRestriction(anchor, {\n        left: 1,\n        top: 2\n      }), labelPrefix);\n    };\n    var north = function (anchor, element, bubbles) {\n      return nu$6(middleX(anchor, element), northY(anchor), bubbles.insetNorth(), south$3(), 'north', boundsRestriction(anchor, { top: 2 }), labelPrefix);\n    };\n    var south = function (anchor, element, bubbles) {\n      return nu$6(middleX(anchor, element), southY(anchor, element), bubbles.insetSouth(), north$3(), 'south', boundsRestriction(anchor, { bottom: 3 }), labelPrefix);\n    };\n    var east = function (anchor, element, bubbles) {\n      return nu$6(eastEdgeX(anchor, element), centreY(anchor, element), bubbles.insetEast(), west$3(), 'east', boundsRestriction(anchor, { right: 0 }), labelPrefix);\n    };\n    var west = function (anchor, element, bubbles) {\n      return nu$6(westEdgeX(anchor), centreY(anchor, element), bubbles.insetWest(), east$3(), 'west', boundsRestriction(anchor, { left: 1 }), labelPrefix);\n    };\n    var lookupPreserveLayout = function (lastPlacement) {\n      switch (lastPlacement) {\n      case 'north':\n        return north;\n      case 'northeast':\n        return northeast;\n      case 'northwest':\n        return northwest;\n      case 'south':\n        return south;\n      case 'southeast':\n        return southeast;\n      case 'southwest':\n        return southwest;\n      case 'east':\n        return east;\n      case 'west':\n        return west;\n      }\n    };\n    var preserve = function (anchor, element, bubbles, placee, bounds) {\n      var layout = getPlacement(placee).map(lookupPreserveLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n    var lookupFlippedLayout = function (lastPlacement) {\n      switch (lastPlacement) {\n      case 'north':\n        return south;\n      case 'northeast':\n        return southeast;\n      case 'northwest':\n        return southwest;\n      case 'south':\n        return north;\n      case 'southeast':\n        return northeast;\n      case 'southwest':\n        return northwest;\n      case 'east':\n        return west;\n      case 'west':\n        return east;\n      }\n    };\n    var flip$2 = function (anchor, element, bubbles, placee, bounds) {\n      var layout = getPlacement(placee).map(lookupFlippedLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n\n    var global$f = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var factory$l = function (detail) {\n      var events = events$a(detail.action);\n      var tag = detail.dom.tag;\n      var lookupAttr = function (attr) {\n        return get$e(detail.dom, 'attributes').bind(function (attrs) {\n          return get$e(attrs, attr);\n        });\n      };\n      var getModAttributes = function () {\n        if (tag === 'button') {\n          var type = lookupAttr('type').getOr('button');\n          var roleAttrs = lookupAttr('role').map(function (role) {\n            return { role: role };\n          }).getOr({});\n          return __assign({ type: type }, roleAttrs);\n        } else {\n          var role = lookupAttr('role').getOr('button');\n          return { role: role };\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: detail.components,\n        events: events,\n        behaviours: SketchBehaviours.augment(detail.buttonBehaviours, [\n          Focusing.config({}),\n          Keying.config({\n            mode: 'execution',\n            useSpace: true,\n            useEnter: true\n          })\n        ]),\n        domModification: { attributes: getModAttributes() },\n        eventOrder: detail.eventOrder\n      };\n    };\n    var Button = single({\n      name: 'Button',\n      factory: factory$l,\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('dom'),\n        defaulted('components', []),\n        SketchBehaviours.field('buttonBehaviours', [\n          Focusing,\n          Keying\n        ]),\n        option('action'),\n        option('role'),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    var record = function (spec) {\n      var uid = isSketchSpec(spec) && hasNonNullableKey(spec, 'uid') ? spec.uid : generate$5('memento');\n      var get = function (anyInSystem) {\n        return anyInSystem.getSystem().getByUid(uid).getOrDie();\n      };\n      var getOpt = function (anyInSystem) {\n        return anyInSystem.getSystem().getByUid(uid).toOptional();\n      };\n      var asSpec = function () {\n        return __assign(__assign({}, spec), { uid: uid });\n      };\n      return {\n        get: get,\n        getOpt: getOpt,\n        asSpec: asSpec\n      };\n    };\n\n    var global$e = tinymce.util.Tools.resolve('tinymce.util.I18n');\n\n    var rtlTransform = {\n      'indent': true,\n      'outdent': true,\n      'table-insert-column-after': true,\n      'table-insert-column-before': true,\n      'paste-column-after': true,\n      'paste-column-before': true,\n      'unordered-list': true,\n      'list-bull-circle': true,\n      'list-bull-default': true,\n      'list-bull-square': true\n    };\n    var defaultIconName = 'temporary-placeholder';\n    var defaultIcon = function (icons) {\n      return function () {\n        return get$e(icons, defaultIconName).getOr('!not found!');\n      };\n    };\n    var getIconName = function (name, icons) {\n      var lcName = name.toLowerCase();\n      if (global$e.isRtl()) {\n        var rtlName = ensureTrailing(lcName, '-rtl');\n        return has$2(icons, rtlName) ? rtlName : lcName;\n      } else {\n        return lcName;\n      }\n    };\n    var lookupIcon = function (name, icons) {\n      return get$e(icons, getIconName(name, icons));\n    };\n    var get$1 = function (name, iconProvider) {\n      var icons = iconProvider();\n      return lookupIcon(name, icons).getOrThunk(defaultIcon(icons));\n    };\n    var getOr = function (name, iconProvider, fallbackIcon) {\n      var icons = iconProvider();\n      return lookupIcon(name, icons).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n    };\n    var needsRtlTransform = function (iconName) {\n      return global$e.isRtl() ? has$2(rtlTransform, iconName) : false;\n    };\n    var addFocusableBehaviour = function () {\n      return config('add-focusable', [runOnAttached(function (comp) {\n          child(comp.element, 'svg').each(function (svg) {\n            return set$8(svg, 'focusable', 'false');\n          });\n        })]);\n    };\n    var renderIcon$2 = function (spec, iconName, icons, fallbackIcon) {\n      var _a, _b;\n      var rtlIconClasses = needsRtlTransform(iconName) ? ['tox-icon--flip'] : [];\n      var iconHtml = get$e(icons, getIconName(iconName, icons)).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n      return {\n        dom: {\n          tag: spec.tag,\n          attributes: (_a = spec.attributes) !== null && _a !== void 0 ? _a : {},\n          classes: spec.classes.concat(rtlIconClasses),\n          innerHtml: iconHtml\n        },\n        behaviours: derive$1(__spreadArray(__spreadArray([], (_b = spec.behaviours) !== null && _b !== void 0 ? _b : [], true), [addFocusableBehaviour()], false))\n      };\n    };\n    var render$3 = function (iconName, spec, iconProvider, fallbackIcon) {\n      if (fallbackIcon === void 0) {\n        fallbackIcon = Optional.none();\n      }\n      return renderIcon$2(spec, iconName, iconProvider(), fallbackIcon);\n    };\n    var renderFirst = function (iconNames, spec, iconProvider) {\n      var icons = iconProvider();\n      var iconName = find$5(iconNames, function (name) {\n        return has$2(icons, getIconName(name, icons));\n      });\n      return renderIcon$2(spec, iconName.getOr(defaultIconName), icons, Optional.none());\n    };\n\n    var notificationIconMap = {\n      success: 'checkmark',\n      error: 'warning',\n      err: 'error',\n      warning: 'warning',\n      warn: 'warning',\n      info: 'info'\n    };\n    var factory$k = function (detail) {\n      var memBannerText = record({\n        dom: {\n          tag: 'p',\n          innerHtml: detail.translationProvider(detail.text)\n        },\n        behaviours: derive$1([Replacing.config({})])\n      });\n      var renderPercentBar = function (percent) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-bar'],\n            attributes: { style: 'width: ' + percent + '%' }\n          }\n        };\n      };\n      var renderPercentText = function (percent) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-text'],\n            innerHtml: percent + '%'\n          }\n        };\n      };\n      var memBannerProgress = record({\n        dom: {\n          tag: 'div',\n          classes: detail.progress ? [\n            'tox-progress-bar',\n            'tox-progress-indicator'\n          ] : ['tox-progress-bar']\n        },\n        components: [\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-bar-container']\n            },\n            components: [renderPercentBar(0)]\n          },\n          renderPercentText(0)\n        ],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      var updateProgress = function (comp, percent) {\n        if (comp.getSystem().isConnected()) {\n          memBannerProgress.getOpt(comp).each(function (progress) {\n            Replacing.set(progress, [\n              {\n                dom: {\n                  tag: 'div',\n                  classes: ['tox-bar-container']\n                },\n                components: [renderPercentBar(percent)]\n              },\n              renderPercentText(percent)\n            ]);\n          });\n        }\n      };\n      var updateText = function (comp, text$1) {\n        if (comp.getSystem().isConnected()) {\n          var banner = memBannerText.get(comp);\n          Replacing.set(banner, [text(text$1)]);\n        }\n      };\n      var apis = {\n        updateProgress: updateProgress,\n        updateText: updateText\n      };\n      var iconChoices = flatten([\n        detail.icon.toArray(),\n        detail.level.toArray(),\n        detail.level.bind(function (level) {\n          return Optional.from(notificationIconMap[level]);\n        }).toArray()\n      ]);\n      var memButton = record(Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-notification__dismiss',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ]\n        },\n        components: [render$3('close', {\n            tag: 'div',\n            classes: ['tox-icon'],\n            attributes: { 'aria-label': detail.translationProvider('Close') }\n          }, detail.iconProvider)],\n        action: function (comp) {\n          detail.onAction(comp);\n        }\n      }));\n      var notificationIconSpec = renderFirst(iconChoices, {\n        tag: 'div',\n        classes: ['tox-notification__icon']\n      }, detail.iconProvider);\n      var notificationBodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-notification__body']\n        },\n        components: [memBannerText.asSpec()],\n        behaviours: derive$1([Replacing.config({})])\n      };\n      var components = [\n        notificationIconSpec,\n        notificationBodySpec\n      ];\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          attributes: { role: 'alert' },\n          classes: detail.level.map(function (level) {\n            return [\n              'tox-notification',\n              'tox-notification--in',\n              'tox-notification--' + level\n            ];\n          }).getOr([\n            'tox-notification',\n            'tox-notification--in'\n          ])\n        },\n        behaviours: derive$1([\n          Focusing.config({}),\n          config('notification-events', [run$1(focusin(), function (comp) {\n              memButton.getOpt(comp).each(Focusing.focus);\n            })])\n        ]),\n        components: components.concat(detail.progress ? [memBannerProgress.asSpec()] : []).concat(!detail.closeButton ? [] : [memButton.asSpec()]),\n        apis: apis\n      };\n    };\n    var Notification = single({\n      name: 'Notification',\n      factory: factory$k,\n      configFields: [\n        option('level'),\n        required$1('progress'),\n        required$1('icon'),\n        required$1('onAction'),\n        required$1('text'),\n        required$1('iconProvider'),\n        required$1('translationProvider'),\n        defaultedBoolean('closeButton', true)\n      ],\n      apis: {\n        updateProgress: function (apis, comp, percent) {\n          apis.updateProgress(comp, percent);\n        },\n        updateText: function (apis, comp, text) {\n          apis.updateText(comp, text);\n        }\n      }\n    });\n\n    function NotificationManagerImpl (editor, extras, uiMothership) {\n      var sharedBackstage = extras.backstage.shared;\n      var getLayoutDirection = function (rel) {\n        switch (rel) {\n        case 'bc-bc':\n          return south;\n        case 'tc-tc':\n          return north;\n        case 'tc-bc':\n          return north$2;\n        case 'bc-tc':\n        default:\n          return south$2;\n        }\n      };\n      var reposition = function (notifications) {\n        if (notifications.length > 0) {\n          each$1(notifications, function (notification, index) {\n            if (index === 0) {\n              notification.moveRel(null, 'banner');\n            } else {\n              notification.moveRel(notifications[index - 1].getEl(), 'bc-tc');\n            }\n          });\n        }\n      };\n      var open = function (settings, closeCallback) {\n        var hideCloseButton = !settings.closeButton && settings.timeout && (settings.timeout > 0 || settings.timeout < 0);\n        var close = function () {\n          closeCallback();\n          InlineView.hide(notificationWrapper);\n        };\n        var notification = build$1(Notification.sketch({\n          text: settings.text,\n          level: contains$2([\n            'success',\n            'error',\n            'warning',\n            'warn',\n            'info'\n          ], settings.type) ? settings.type : undefined,\n          progress: settings.progressBar === true,\n          icon: Optional.from(settings.icon),\n          closeButton: !hideCloseButton,\n          onAction: close,\n          iconProvider: sharedBackstage.providers.icons,\n          translationProvider: sharedBackstage.providers.translate\n        }));\n        var notificationWrapper = build$1(InlineView.sketch(__assign({\n          dom: {\n            tag: 'div',\n            classes: ['tox-notifications-container']\n          },\n          lazySink: sharedBackstage.getSink,\n          fireDismissalEventInstead: {}\n        }, sharedBackstage.header.isPositionedAtTop() ? {} : { fireRepositionEventInstead: {} })));\n        uiMothership.add(notificationWrapper);\n        if (settings.timeout > 0) {\n          global$f.setTimeout(function () {\n            close();\n          }, settings.timeout);\n        }\n        var getBounds = function () {\n          var contentArea = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n          var win$1 = win();\n          var x = clamp$1(win$1.x, contentArea.x, contentArea.right);\n          var y = clamp$1(win$1.y, contentArea.y, contentArea.bottom);\n          var right = Math.max(contentArea.right, win$1.right);\n          var bottom = Math.max(contentArea.bottom, win$1.bottom);\n          return Optional.some(bounds(x, y, right - x, bottom - y));\n        };\n        return {\n          close: close,\n          moveTo: function (x, y) {\n            InlineView.showAt(notificationWrapper, premade(notification), {\n              anchor: {\n                type: 'makeshift',\n                x: x,\n                y: y\n              }\n            });\n          },\n          moveRel: function (element, rel) {\n            var notificationSpec = premade(notification);\n            var anchorOverrides = { maxHeightFunction: expandable$1() };\n            if (rel !== 'banner' && isNonNullable(element)) {\n              var layoutDirection_1 = getLayoutDirection(rel);\n              var nodeAnchor = {\n                type: 'node',\n                root: body(),\n                node: Optional.some(SugarElement.fromDom(element)),\n                overrides: anchorOverrides,\n                layouts: {\n                  onRtl: function () {\n                    return [layoutDirection_1];\n                  },\n                  onLtr: function () {\n                    return [layoutDirection_1];\n                  }\n                }\n              };\n              InlineView.showWithinBounds(notificationWrapper, notificationSpec, { anchor: nodeAnchor }, getBounds);\n            } else {\n              var anchor = __assign(__assign({}, sharedBackstage.anchors.banner()), { overrides: anchorOverrides });\n              InlineView.showWithinBounds(notificationWrapper, notificationSpec, { anchor: anchor }, getBounds);\n            }\n          },\n          text: function (nuText) {\n            Notification.updateText(notification, nuText);\n          },\n          settings: settings,\n          getEl: function () {\n            return notification.element.dom;\n          },\n          progressBar: {\n            value: function (percent) {\n              Notification.updateProgress(notification, percent);\n            }\n          }\n        };\n      };\n      var close = function (notification) {\n        notification.close();\n      };\n      var getArgs = function (notification) {\n        return notification.settings;\n      };\n      return {\n        open: open,\n        close: close,\n        reposition: reposition,\n        getArgs: getArgs\n      };\n    }\n\n    var first = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (isNull(timer)) {\n          timer = setTimeout(function () {\n            timer = null;\n            fn.apply(null, args);\n          }, rate);\n        }\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n    var last = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        cancel();\n        timer = setTimeout(function () {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n\n    var global$d = tinymce.util.Tools.resolve('tinymce.dom.TextSeeker');\n\n    var isBoundary = function (dom, node) {\n      return dom.isBlock(node) || contains$2([\n        'BR',\n        'IMG',\n        'HR',\n        'INPUT'\n      ], node.nodeName) || dom.getContentEditable(node) === 'false';\n    };\n    var repeatLeft = function (dom, node, offset, process, rootNode) {\n      var search = global$d(dom, function (node) {\n        return isBoundary(dom, node);\n      });\n      return Optional.from(search.backwards(node, offset, process, rootNode));\n    };\n\n    var autocompleteSelector = '[data-mce-autocompleter]';\n    var create$4 = function (editor, range) {\n      return detect(SugarElement.fromDom(editor.selection.getNode())).getOrThunk(function () {\n        var wrapper = SugarElement.fromHtml('<span data-mce-autocompleter=\"1\" data-mce-bogus=\"1\"></span>', editor.getDoc());\n        append$2(wrapper, SugarElement.fromDom(range.extractContents()));\n        range.insertNode(wrapper.dom);\n        parent(wrapper).each(function (elm) {\n          return elm.dom.normalize();\n        });\n        last$1(wrapper).map(function (last) {\n          editor.selection.setCursorLocation(last.dom, getEnd(last));\n        });\n        return wrapper;\n      });\n    };\n    var detect = function (elm) {\n      return closest$1(elm, autocompleteSelector);\n    };\n\n    var isValidTextRange = function (rng) {\n      return rng.collapsed && rng.startContainer.nodeType === 3;\n    };\n    var getText = function (rng) {\n      return rng.toString().replace(/\\u00A0/g, ' ').replace(/\\uFEFF/g, '');\n    };\n    var isWhitespace = function (chr) {\n      return chr !== '' && ' \\xA0\\f\\n\\r\\t\\x0B'.indexOf(chr) !== -1;\n    };\n\n    var stripTriggerChar = function (text, triggerCh) {\n      return text.substring(triggerCh.length);\n    };\n    var findChar = function (text, index, ch) {\n      var i;\n      for (i = index - 1; i >= 0; i--) {\n        var char = text.charAt(i);\n        if (isWhitespace(char)) {\n          return Optional.none();\n        }\n        if (char === ch) {\n          break;\n        }\n      }\n      return Optional.some(i);\n    };\n    var findStart = function (dom, initRange, ch, minChars) {\n      if (minChars === void 0) {\n        minChars = 0;\n      }\n      if (!isValidTextRange(initRange)) {\n        return Optional.none();\n      }\n      var findTriggerChIndex = function (element, offset, text) {\n        return findChar(text, offset, ch).getOr(offset);\n      };\n      var root = dom.getParent(initRange.startContainer, dom.isBlock) || dom.getRoot();\n      return repeatLeft(dom, initRange.startContainer, initRange.startOffset, findTriggerChIndex, root).bind(function (spot) {\n        var range = initRange.cloneRange();\n        range.setStart(spot.container, spot.offset);\n        range.setEnd(initRange.endContainer, initRange.endOffset);\n        if (range.collapsed) {\n          return Optional.none();\n        }\n        var text = getText(range);\n        var triggerCharIndex = text.lastIndexOf(ch);\n        if (triggerCharIndex !== 0 || stripTriggerChar(text, ch).length < minChars) {\n          return Optional.none();\n        } else {\n          return Optional.some({\n            text: stripTriggerChar(text, ch),\n            range: range,\n            triggerChar: ch\n          });\n        }\n      });\n    };\n    var getContext = function (dom, initRange, ch, minChars) {\n      if (minChars === void 0) {\n        minChars = 0;\n      }\n      return detect(SugarElement.fromDom(initRange.startContainer)).fold(function () {\n        return findStart(dom, initRange, ch, minChars);\n      }, function (elm) {\n        var range = dom.createRng();\n        range.selectNode(elm.dom);\n        var text = getText(range);\n        return Optional.some({\n          range: range,\n          text: stripTriggerChar(text, ch),\n          triggerChar: ch\n        });\n      });\n    };\n\n    var setup$e = function (api, editor) {\n      editor.on('keypress compositionend', api.onKeypress.throttle);\n      editor.on('remove', api.onKeypress.cancel);\n      var redirectKeyToItem = function (item, e) {\n        emitWith(item, keydown(), { raw: e });\n      };\n      editor.on('keydown', function (e) {\n        var getItem = function () {\n          return api.getView().bind(Highlighting.getHighlighted);\n        };\n        if (e.which === 8) {\n          api.onKeypress.throttle(e);\n        }\n        if (api.isActive()) {\n          if (e.which === 27) {\n            api.cancelIfNecessary();\n          }\n          if (api.isMenuOpen()) {\n            if (e.which === 13) {\n              getItem().each(emitExecute);\n              e.preventDefault();\n            } else if (e.which === 40) {\n              getItem().fold(function () {\n                api.getView().each(Highlighting.highlightFirst);\n              }, function (item) {\n                redirectKeyToItem(item, e);\n              });\n              e.preventDefault();\n              e.stopImmediatePropagation();\n            } else if (e.which === 37 || e.which === 38 || e.which === 39) {\n              getItem().each(function (item) {\n                redirectKeyToItem(item, e);\n                e.preventDefault();\n                e.stopImmediatePropagation();\n              });\n            }\n          } else {\n            if (e.which === 13 || e.which === 38 || e.which === 40) {\n              api.cancelIfNecessary();\n            }\n          }\n        }\n      });\n      editor.on('NodeChange', function (e) {\n        if (api.isActive() && !api.isProcessingAction() && detect(SugarElement.fromDom(e.element)).isNone()) {\n          api.cancelIfNecessary();\n        }\n      });\n    };\n    var AutocompleterEditorEvents = { setup: setup$e };\n\n    var global$c = tinymce.util.Tools.resolve('tinymce.util.Promise');\n\n    var point = function (container, offset) {\n      return {\n        container: container,\n        offset: offset\n      };\n    };\n\n    var isText = function (node) {\n      return node.nodeType === TEXT;\n    };\n    var isElement$1 = function (node) {\n      return node.nodeType === ELEMENT;\n    };\n    var toLast = function (node) {\n      if (isText(node)) {\n        return point(node, node.data.length);\n      } else {\n        var children = node.childNodes;\n        return children.length > 0 ? toLast(children[children.length - 1]) : point(node, children.length);\n      }\n    };\n    var toLeaf = function (node, offset) {\n      var children = node.childNodes;\n      if (children.length > 0 && offset < children.length) {\n        return toLeaf(children[offset], 0);\n      } else if (children.length > 0 && isElement$1(node) && children.length === offset) {\n        return toLast(children[children.length - 1]);\n      } else {\n        return point(node, offset);\n      }\n    };\n\n    var isPreviousCharContent = function (dom, leaf) {\n      return repeatLeft(dom, leaf.container, leaf.offset, function (element, offset) {\n        return offset === 0 ? -1 : offset;\n      }, dom.getRoot()).filter(function (spot) {\n        var char = spot.container.data.charAt(spot.offset - 1);\n        return !isWhitespace(char);\n      }).isSome();\n    };\n    var isStartOfWord = function (dom) {\n      return function (rng) {\n        var leaf = toLeaf(rng.startContainer, rng.startOffset);\n        return !isPreviousCharContent(dom, leaf);\n      };\n    };\n    var getTriggerContext = function (dom, initRange, database) {\n      return findMap(database.triggerChars, function (ch) {\n        return getContext(dom, initRange, ch);\n      });\n    };\n    var lookup$2 = function (editor, getDatabase) {\n      var database = getDatabase();\n      var rng = editor.selection.getRng();\n      return getTriggerContext(editor.dom, rng, database).bind(function (context) {\n        return lookupWithContext(editor, getDatabase, context);\n      });\n    };\n    var lookupWithContext = function (editor, getDatabase, context, fetchOptions) {\n      if (fetchOptions === void 0) {\n        fetchOptions = {};\n      }\n      var database = getDatabase();\n      var rng = editor.selection.getRng();\n      var startText = rng.startContainer.nodeValue;\n      var autocompleters = filter$2(database.lookupByChar(context.triggerChar), function (autocompleter) {\n        return context.text.length >= autocompleter.minChars && autocompleter.matches.getOrThunk(function () {\n          return isStartOfWord(editor.dom);\n        })(context.range, startText, context.text);\n      });\n      if (autocompleters.length === 0) {\n        return Optional.none();\n      }\n      var lookupData = global$c.all(map$2(autocompleters, function (ac) {\n        var fetchResult = ac.fetch(context.text, ac.maxResults, fetchOptions);\n        return fetchResult.then(function (results) {\n          return {\n            matchText: context.text,\n            items: results,\n            columns: ac.columns,\n            onAction: ac.onAction,\n            highlightOn: ac.highlightOn\n          };\n        });\n      }));\n      return Optional.some({\n        lookupData: lookupData,\n        context: context\n      });\n    };\n\n    var separatorMenuItemSchema = objOf([\n      requiredString('type'),\n      optionString('text')\n    ]);\n    var createSeparatorMenuItem = function (spec) {\n      return asRaw('separatormenuitem', separatorMenuItemSchema, spec);\n    };\n\n    var autocompleterItemSchema = objOf([\n      defaulted('type', 'autocompleteitem'),\n      defaulted('active', false),\n      defaulted('disabled', false),\n      defaulted('meta', {}),\n      requiredString('value'),\n      optionString('text'),\n      optionString('icon')\n    ]);\n    var autocompleterSchema = objOf([\n      requiredString('type'),\n      requiredString('ch'),\n      defaultedNumber('minChars', 1),\n      defaulted('columns', 1),\n      defaultedNumber('maxResults', 10),\n      optionFunction('matches'),\n      requiredFunction('fetch'),\n      requiredFunction('onAction'),\n      defaultedArrayOf('highlightOn', [], string)\n    ]);\n    var createSeparatorItem = function (spec) {\n      return asRaw('Autocompleter.Separator', separatorMenuItemSchema, spec);\n    };\n    var createAutocompleterItem = function (spec) {\n      return asRaw('Autocompleter.Item', autocompleterItemSchema, spec);\n    };\n    var createAutocompleter = function (spec) {\n      return asRaw('Autocompleter', autocompleterSchema, spec);\n    };\n\n    var baseToolbarButtonFields = [\n      defaultedBoolean('disabled', false),\n      optionString('tooltip'),\n      optionString('icon'),\n      optionString('text'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      })\n    ];\n    var toolbarButtonSchema = objOf([\n      requiredString('type'),\n      requiredFunction('onAction')\n    ].concat(baseToolbarButtonFields));\n    var createToolbarButton = function (spec) {\n      return asRaw('toolbarbutton', toolbarButtonSchema, spec);\n    };\n\n    var baseToolbarToggleButtonFields = [defaultedBoolean('active', false)].concat(baseToolbarButtonFields);\n    var toggleButtonSchema = objOf(baseToolbarToggleButtonFields.concat([\n      requiredString('type'),\n      requiredFunction('onAction')\n    ]));\n    var createToggleButton = function (spec) {\n      return asRaw('ToggleButton', toggleButtonSchema, spec);\n    };\n\n    var contextBarFields = [\n      defaultedFunction('predicate', never),\n      defaultedStringEnum('scope', 'node', [\n        'node',\n        'editor'\n      ]),\n      defaultedStringEnum('position', 'selection', [\n        'node',\n        'selection',\n        'line'\n      ])\n    ];\n\n    var contextButtonFields = baseToolbarButtonFields.concat([\n      defaulted('type', 'contextformbutton'),\n      defaulted('primary', false),\n      requiredFunction('onAction'),\n      customField('original', identity$1)\n    ]);\n    var contextToggleButtonFields = baseToolbarToggleButtonFields.concat([\n      defaulted('type', 'contextformbutton'),\n      defaulted('primary', false),\n      requiredFunction('onAction'),\n      customField('original', identity$1)\n    ]);\n    var launchButtonFields = baseToolbarButtonFields.concat([defaulted('type', 'contextformbutton')]);\n    var launchToggleButtonFields = baseToolbarToggleButtonFields.concat([defaulted('type', 'contextformtogglebutton')]);\n    var toggleOrNormal = choose$1('type', {\n      contextformbutton: contextButtonFields,\n      contextformtogglebutton: contextToggleButtonFields\n    });\n    var contextFormSchema = objOf([\n      defaulted('type', 'contextform'),\n      defaultedFunction('initValue', constant$1('')),\n      optionString('label'),\n      requiredArrayOf('commands', toggleOrNormal),\n      optionOf('launch', choose$1('type', {\n        contextformbutton: launchButtonFields,\n        contextformtogglebutton: launchToggleButtonFields\n      }))\n    ].concat(contextBarFields));\n    var createContextForm = function (spec) {\n      return asRaw('ContextForm', contextFormSchema, spec);\n    };\n\n    var contextToolbarSchema = objOf([\n      defaulted('type', 'contexttoolbar'),\n      requiredString('items')\n    ].concat(contextBarFields));\n    var createContextToolbar = function (spec) {\n      return asRaw('ContextToolbar', contextToolbarSchema, spec);\n    };\n\n    var stringArray = function (a) {\n      var all = {};\n      each$1(a, function (key) {\n        all[key] = {};\n      });\n      return keys(all);\n    };\n\n    var register$b = function (editor) {\n      var popups = editor.ui.registry.getAll().popups;\n      var dataset = map$1(popups, function (popup) {\n        return createAutocompleter(popup).fold(function (err) {\n          throw new Error(formatError(err));\n        }, identity$1);\n      });\n      var triggerChars = stringArray(mapToArray(dataset, function (v) {\n        return v.ch;\n      }));\n      var datasetValues = values(dataset);\n      var lookupByChar = function (ch) {\n        return filter$2(datasetValues, function (dv) {\n          return dv.ch === ch;\n        });\n      };\n      return {\n        dataset: dataset,\n        triggerChars: triggerChars,\n        lookupByChar: lookupByChar\n      };\n    };\n\n    var ItemResponse;\n    (function (ItemResponse) {\n      ItemResponse[ItemResponse['CLOSE_ON_EXECUTE'] = 0] = 'CLOSE_ON_EXECUTE';\n      ItemResponse[ItemResponse['BUBBLE_TO_SANDBOX'] = 1] = 'BUBBLE_TO_SANDBOX';\n    }(ItemResponse || (ItemResponse = {})));\n    var ItemResponse$1 = ItemResponse;\n\n    var navClass = 'tox-menu-nav__js';\n    var selectableClass = 'tox-collection__item';\n    var colorClass = 'tox-swatch';\n    var presetClasses = {\n      normal: navClass,\n      color: colorClass\n    };\n    var tickedClass = 'tox-collection__item--enabled';\n    var groupHeadingClass = 'tox-collection__group-heading';\n    var iconClass = 'tox-collection__item-icon';\n    var textClass = 'tox-collection__item-label';\n    var accessoryClass = 'tox-collection__item-accessory';\n    var caretClass = 'tox-collection__item-caret';\n    var checkmarkClass = 'tox-collection__item-checkmark';\n    var activeClass = 'tox-collection__item--active';\n    var containerClass = 'tox-collection__item-container';\n    var containerColumnClass = 'tox-collection__item-container--column';\n    var containerRowClass = 'tox-collection__item-container--row';\n    var containerAlignRightClass = 'tox-collection__item-container--align-right';\n    var containerAlignLeftClass = 'tox-collection__item-container--align-left';\n    var containerValignTopClass = 'tox-collection__item-container--valign-top';\n    var containerValignMiddleClass = 'tox-collection__item-container--valign-middle';\n    var containerValignBottomClass = 'tox-collection__item-container--valign-bottom';\n    var classForPreset = function (presets) {\n      return get$e(presetClasses, presets).getOr(navClass);\n    };\n\n    var forMenu = function (presets) {\n      if (presets === 'color') {\n        return 'tox-swatches';\n      } else {\n        return 'tox-menu';\n      }\n    };\n    var classes = function (presets) {\n      return {\n        backgroundMenu: 'tox-background-menu',\n        selectedMenu: 'tox-selected-menu',\n        selectedItem: 'tox-collection__item--active',\n        hasIcons: 'tox-menu--has-icons',\n        menu: forMenu(presets),\n        tieredMenu: 'tox-tiered-menu'\n      };\n    };\n\n    var markers = function (presets) {\n      var menuClasses = classes(presets);\n      return {\n        backgroundMenu: menuClasses.backgroundMenu,\n        selectedMenu: menuClasses.selectedMenu,\n        menu: menuClasses.menu,\n        selectedItem: menuClasses.selectedItem,\n        item: classForPreset(presets)\n      };\n    };\n    var dom$1 = function (hasIcons, columns, presets) {\n      var menuClasses = classes(presets);\n      return {\n        tag: 'div',\n        classes: flatten([\n          [\n            menuClasses.menu,\n            'tox-menu-' + columns + '-column'\n          ],\n          hasIcons ? [menuClasses.hasIcons] : []\n        ])\n      };\n    };\n    var components = [Menu.parts.items({})];\n    var part = function (hasIcons, columns, presets) {\n      var menuClasses = classes(presets);\n      var d = {\n        tag: 'div',\n        classes: flatten([[menuClasses.tieredMenu]])\n      };\n      return {\n        dom: d,\n        markers: markers(presets)\n      };\n    };\n\n    var chunk = function (rowDom, numColumns) {\n      return function (items) {\n        var chunks = chunk$1(items, numColumns);\n        return map$2(chunks, function (c) {\n          return {\n            dom: rowDom,\n            components: c\n          };\n        });\n      };\n    };\n    var forSwatch = function (columns) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-swatches-menu'\n          ]\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-swatches']\n            },\n            components: [Menu.parts.items({\n                preprocess: columns !== 'auto' ? chunk({\n                  tag: 'div',\n                  classes: ['tox-swatches__row']\n                }, columns) : identity$1\n              })]\n          }]\n      };\n    };\n    var forToolbar = function (columns) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-collection',\n            'tox-collection--toolbar',\n            'tox-collection--toolbar-lg'\n          ]\n        },\n        components: [Menu.parts.items({\n            preprocess: chunk({\n              tag: 'div',\n              classes: ['tox-collection__group']\n            }, columns)\n          })]\n      };\n    };\n    var preprocessCollection = function (items, isSeparator) {\n      var allSplits = [];\n      var currentSplit = [];\n      each$1(items, function (item, i) {\n        if (isSeparator(item, i)) {\n          if (currentSplit.length > 0) {\n            allSplits.push(currentSplit);\n          }\n          currentSplit = [];\n          if (has$2(item.dom, 'innerHtml')) {\n            currentSplit.push(item);\n          }\n        } else {\n          currentSplit.push(item);\n        }\n      });\n      if (currentSplit.length > 0) {\n        allSplits.push(currentSplit);\n      }\n      return map$2(allSplits, function (s) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-collection__group']\n          },\n          components: s\n        };\n      });\n    };\n    var forCollection = function (columns, initItems, _hasIcons) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-collection'\n          ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'])\n        },\n        components: [Menu.parts.items({\n            preprocess: function (items) {\n              if (columns !== 'auto' && columns > 1) {\n                return chunk({\n                  tag: 'div',\n                  classes: ['tox-collection__group']\n                }, columns)(items);\n              } else {\n                return preprocessCollection(items, function (_item, i) {\n                  return initItems[i].type === 'separator';\n                });\n              }\n            }\n          })]\n      };\n    };\n    var forHorizontalCollection = function (initItems, _hasIcons) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-collection',\n            'tox-collection--horizontal'\n          ]\n        },\n        components: [Menu.parts.items({\n            preprocess: function (items) {\n              return preprocessCollection(items, function (_item, i) {\n                return initItems[i].type === 'separator';\n              });\n            }\n          })]\n      };\n    };\n\n    var menuHasIcons = function (xs) {\n      return exists(xs, function (item) {\n        return 'icon' in item && item.icon !== undefined;\n      });\n    };\n    var handleError = function (error) {\n      console.error(formatError(error));\n      console.log(error);\n      return Optional.none();\n    };\n    var createHorizontalPartialMenuWithAlloyItems = function (value, _hasIcons, items, _columns, _presets) {\n      var structure = forHorizontalCollection(items);\n      return {\n        value: value,\n        dom: structure.dom,\n        components: structure.components,\n        items: items\n      };\n    };\n    var createPartialMenuWithAlloyItems = function (value, hasIcons, items, columns, presets) {\n      if (presets === 'color') {\n        var structure = forSwatch(columns);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      if (presets === 'normal' && columns === 'auto') {\n        var structure = forCollection(columns, items);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      if (presets === 'normal' && columns === 1) {\n        var structure = forCollection(1, items);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      if (presets === 'normal') {\n        var structure = forCollection(columns, items);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      if (presets === 'listpreview' && columns !== 'auto') {\n        var structure = forToolbar(columns);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      return {\n        value: value,\n        dom: dom$1(hasIcons, columns, presets),\n        components: components,\n        items: items\n      };\n    };\n\n    var cardImageFields = [\n      requiredString('type'),\n      requiredString('src'),\n      optionString('alt'),\n      defaultedArrayOf('classes', [], string)\n    ];\n    var cardImageSchema = objOf(cardImageFields);\n\n    var cardTextFields = [\n      requiredString('type'),\n      requiredString('text'),\n      optionString('name'),\n      defaultedArrayOf('classes', ['tox-collection__item-label'], string)\n    ];\n    var cardTextSchema = objOf(cardTextFields);\n\n    var itemSchema$1 = valueThunk(function () {\n      return choose$2('type', {\n        cardimage: cardImageSchema,\n        cardtext: cardTextSchema,\n        cardcontainer: cardContainerSchema\n      });\n    });\n    var cardContainerSchema = objOf([\n      requiredString('type'),\n      defaultedString('direction', 'horizontal'),\n      defaultedString('align', 'left'),\n      defaultedString('valign', 'middle'),\n      requiredArrayOf('items', itemSchema$1)\n    ]);\n\n    var commonMenuItemFields = [\n      defaultedBoolean('disabled', false),\n      optionString('text'),\n      optionString('shortcut'),\n      field$1('value', 'value', defaultedThunk(function () {\n        return generate$6('menuitem-value');\n      }), anyValue()),\n      defaulted('meta', {})\n    ];\n\n    var cardMenuItemSchema = objOf([\n      requiredString('type'),\n      optionString('label'),\n      requiredArrayOf('items', itemSchema$1),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      defaultedFunction('onAction', noop)\n    ].concat(commonMenuItemFields));\n    var createCardMenuItem = function (spec) {\n      return asRaw('cardmenuitem', cardMenuItemSchema, spec);\n    };\n\n    var choiceMenuItemSchema = objOf([\n      requiredString('type'),\n      defaultedBoolean('active', false),\n      optionString('icon')\n    ].concat(commonMenuItemFields));\n    var createChoiceMenuItem = function (spec) {\n      return asRaw('choicemenuitem', choiceMenuItemSchema, spec);\n    };\n\n    var baseFields = [\n      requiredString('type'),\n      requiredString('fancytype'),\n      defaultedFunction('onAction', noop)\n    ];\n    var insertTableFields = [defaulted('initData', {})].concat(baseFields);\n    var colorSwatchFields = [defaultedObjOf('initData', {}, [\n        defaultedBoolean('allowCustomColors', true),\n        optionArrayOf('colors', anyValue())\n      ])].concat(baseFields);\n    var fancyMenuItemSchema = choose$1('fancytype', {\n      inserttable: insertTableFields,\n      colorswatch: colorSwatchFields\n    });\n    var createFancyMenuItem = function (spec) {\n      return asRaw('fancymenuitem', fancyMenuItemSchema, spec);\n    };\n\n    var menuItemSchema = objOf([\n      requiredString('type'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      defaultedFunction('onAction', noop),\n      optionString('icon')\n    ].concat(commonMenuItemFields));\n    var createMenuItem = function (spec) {\n      return asRaw('menuitem', menuItemSchema, spec);\n    };\n\n    var nestedMenuItemSchema = objOf([\n      requiredString('type'),\n      requiredFunction('getSubmenuItems'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      optionString('icon')\n    ].concat(commonMenuItemFields));\n    var createNestedMenuItem = function (spec) {\n      return asRaw('nestedmenuitem', nestedMenuItemSchema, spec);\n    };\n\n    var toggleMenuItemSchema = objOf([\n      requiredString('type'),\n      optionString('icon'),\n      defaultedBoolean('active', false),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      requiredFunction('onAction')\n    ].concat(commonMenuItemFields));\n    var createToggleMenuItem = function (spec) {\n      return asRaw('togglemenuitem', toggleMenuItemSchema, spec);\n    };\n\n    var detectSize = function (comp, margin, selectorClass) {\n      var descendants$1 = descendants(comp.element, '.' + selectorClass);\n      if (descendants$1.length > 0) {\n        var columnLength = findIndex$1(descendants$1, function (c) {\n          var thisTop = c.dom.getBoundingClientRect().top;\n          var cTop = descendants$1[0].dom.getBoundingClientRect().top;\n          return Math.abs(thisTop - cTop) > margin;\n        }).getOr(descendants$1.length);\n        return Optional.some({\n          numColumns: columnLength,\n          numRows: Math.ceil(descendants$1.length / columnLength)\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n\n    var namedEvents = function (name, handlers) {\n      return derive$1([config(name, handlers)]);\n    };\n    var unnamedEvents = function (handlers) {\n      return namedEvents(generate$6('unnamed-events'), handlers);\n    };\n    var SimpleBehaviours = {\n      namedEvents: namedEvents,\n      unnamedEvents: unnamedEvents\n    };\n\n    var ExclusivityChannel = generate$6('tooltip.exclusive');\n    var ShowTooltipEvent = generate$6('tooltip.show');\n    var HideTooltipEvent = generate$6('tooltip.hide');\n\n    var hideAllExclusive = function (component, _tConfig, _tState) {\n      component.getSystem().broadcastOn([ExclusivityChannel], {});\n    };\n    var setComponents = function (component, tConfig, tState, specs) {\n      tState.getTooltip().each(function (tooltip) {\n        if (tooltip.getSystem().isConnected()) {\n          Replacing.set(tooltip, specs);\n        }\n      });\n    };\n\n    var TooltippingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        hideAllExclusive: hideAllExclusive,\n        setComponents: setComponents\n    });\n\n    var events$9 = function (tooltipConfig, state) {\n      var hide = function (comp) {\n        state.getTooltip().each(function (p) {\n          detach(p);\n          tooltipConfig.onHide(comp, p);\n          state.clearTooltip();\n        });\n        state.clearTimer();\n      };\n      var show = function (comp) {\n        if (!state.isShowing()) {\n          hideAllExclusive(comp);\n          var sink = tooltipConfig.lazySink(comp).getOrDie();\n          var popup = comp.getSystem().build({\n            dom: tooltipConfig.tooltipDom,\n            components: tooltipConfig.tooltipComponents,\n            events: derive$2(tooltipConfig.mode === 'normal' ? [\n              run$1(mouseover(), function (_) {\n                emit(comp, ShowTooltipEvent);\n              }),\n              run$1(mouseout(), function (_) {\n                emit(comp, HideTooltipEvent);\n              })\n            ] : []),\n            behaviours: derive$1([Replacing.config({})])\n          });\n          state.setTooltip(popup);\n          attach(sink, popup);\n          tooltipConfig.onShow(comp, popup);\n          Positioning.position(sink, popup, { anchor: tooltipConfig.anchor(comp) });\n        }\n      };\n      return derive$2(flatten([\n        [\n          run$1(ShowTooltipEvent, function (comp) {\n            state.resetTimer(function () {\n              show(comp);\n            }, tooltipConfig.delay);\n          }),\n          run$1(HideTooltipEvent, function (comp) {\n            state.resetTimer(function () {\n              hide(comp);\n            }, tooltipConfig.delay);\n          }),\n          run$1(receive(), function (comp, message) {\n            var receivingData = message;\n            if (!receivingData.universal) {\n              if (contains$2(receivingData.channels, ExclusivityChannel)) {\n                hide(comp);\n              }\n            }\n          }),\n          runOnDetached(function (comp) {\n            hide(comp);\n          })\n        ],\n        tooltipConfig.mode === 'normal' ? [\n          run$1(focusin(), function (comp) {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(postBlur(), function (comp) {\n            emit(comp, HideTooltipEvent);\n          }),\n          run$1(mouseover(), function (comp) {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(mouseout(), function (comp) {\n            emit(comp, HideTooltipEvent);\n          })\n        ] : [\n          run$1(highlight$1(), function (comp, _se) {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(dehighlight$1(), function (comp) {\n            emit(comp, HideTooltipEvent);\n          })\n        ]\n      ]));\n    };\n\n    var ActiveTooltipping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$9\n    });\n\n    var TooltippingSchema = [\n      required$1('lazySink'),\n      required$1('tooltipDom'),\n      defaulted('exclusive', true),\n      defaulted('tooltipComponents', []),\n      defaulted('delay', 300),\n      defaultedStringEnum('mode', 'normal', [\n        'normal',\n        'follow-highlight'\n      ]),\n      defaulted('anchor', function (comp) {\n        return {\n          type: 'hotspot',\n          hotspot: comp,\n          layouts: {\n            onLtr: constant$1([\n              south$2,\n              north$2,\n              southeast$2,\n              northeast$2,\n              southwest$2,\n              northwest$2\n            ]),\n            onRtl: constant$1([\n              south$2,\n              north$2,\n              southeast$2,\n              northeast$2,\n              southwest$2,\n              northwest$2\n            ])\n          }\n        };\n      }),\n      onHandler('onHide'),\n      onHandler('onShow')\n    ];\n\n    var init$b = function () {\n      var timer = value$1();\n      var popup = value$1();\n      var clearTimer = function () {\n        timer.on(clearTimeout);\n      };\n      var resetTimer = function (f, delay) {\n        clearTimer();\n        timer.set(setTimeout(f, delay));\n      };\n      var readState = constant$1('not-implemented');\n      return nu$8({\n        getTooltip: popup.get,\n        isShowing: popup.isSet,\n        setTooltip: popup.set,\n        clearTooltip: popup.clear,\n        clearTimer: clearTimer,\n        resetTimer: resetTimer,\n        readState: readState\n      });\n    };\n\n    var TooltippingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$b\n    });\n\n    var Tooltipping = create$7({\n      fields: TooltippingSchema,\n      name: 'tooltipping',\n      active: ActiveTooltipping,\n      state: TooltippingState,\n      apis: TooltippingApis\n    });\n\n    var escape = function (text) {\n      return text.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n    };\n\n    var global$b = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$a = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n    var getSkinUrl = function (editor) {\n      var skin = editor.getParam('skin');\n      var skinUrl = editor.getParam('skin_url');\n      if (skin !== false) {\n        var skinName = skin ? skin : 'oxide';\n        if (skinUrl) {\n          skinUrl = editor.documentBaseURI.toAbsolute(skinUrl);\n        } else {\n          skinUrl = global$a.baseURL + '/skins/ui/' + skinName;\n        }\n      }\n      return skinUrl;\n    };\n    var isReadOnly = function (editor) {\n      return editor.getParam('readonly', false, 'boolean');\n    };\n    var isSkinDisabled = function (editor) {\n      return editor.getParam('skin') === false;\n    };\n    var getHeightSetting = function (editor) {\n      return editor.getParam('height', Math.max(editor.getElement().offsetHeight, 200));\n    };\n    var getWidthSetting = function (editor) {\n      return editor.getParam('width', global$b.DOM.getStyle(editor.getElement(), 'width'));\n    };\n    var getMinWidthSetting = function (editor) {\n      return Optional.from(editor.getParam('min_width')).filter(isNumber);\n    };\n    var getMinHeightSetting = function (editor) {\n      return Optional.from(editor.getParam('min_height')).filter(isNumber);\n    };\n    var getMaxWidthSetting = function (editor) {\n      return Optional.from(editor.getParam('max_width')).filter(isNumber);\n    };\n    var getMaxHeightSetting = function (editor) {\n      return Optional.from(editor.getParam('max_height')).filter(isNumber);\n    };\n    var getUserStyleFormats = function (editor) {\n      return Optional.from(editor.getParam('style_formats')).filter(isArray);\n    };\n    var isMergeStyleFormats = function (editor) {\n      return editor.getParam('style_formats_merge', false, 'boolean');\n    };\n    var getLineHeightFormats = function (editor) {\n      return editor.getParam('lineheight_formats', '1 1.1 1.2 1.3 1.4 1.5 2', 'string').split(' ');\n    };\n    var getContentLanguages = function (editor) {\n      return editor.getParam('content_langs', undefined, 'array');\n    };\n    var getRemovedMenuItems = function (editor) {\n      return editor.getParam('removed_menuitems', '');\n    };\n    var isMenubarEnabled = function (editor) {\n      return editor.getParam('menubar', true, 'boolean') !== false;\n    };\n    var isToolbarEnabled = function (editor) {\n      var toolbar = editor.getParam('toolbar', true);\n      var isToolbarTrue = toolbar === true;\n      var isToolbarString = isString(toolbar);\n      var isToolbarObjectArray = isArray(toolbar) && toolbar.length > 0;\n      return !isMultipleToolbars(editor) && (isToolbarObjectArray || isToolbarString || isToolbarTrue);\n    };\n    var getMultipleToolbarsSetting = function (editor) {\n      var toolbars = range$2(9, function (num) {\n        return editor.getParam('toolbar' + (num + 1), false, 'string');\n      });\n      var toolbarArray = filter$2(toolbars, function (toolbar) {\n        return typeof toolbar === 'string';\n      });\n      return toolbarArray.length > 0 ? Optional.some(toolbarArray) : Optional.none();\n    };\n    var isMultipleToolbars = function (editor) {\n      return getMultipleToolbarsSetting(editor).fold(function () {\n        var toolbar = editor.getParam('toolbar', [], 'string[]');\n        return toolbar.length > 0;\n      }, always);\n    };\n    var ToolbarMode;\n    (function (ToolbarMode) {\n      ToolbarMode['default'] = 'wrap';\n      ToolbarMode['floating'] = 'floating';\n      ToolbarMode['sliding'] = 'sliding';\n      ToolbarMode['scrolling'] = 'scrolling';\n    }(ToolbarMode || (ToolbarMode = {})));\n    var getToolbarMode = function (editor) {\n      return editor.getParam('toolbar_mode', '', 'string');\n    };\n    var ToolbarLocation;\n    (function (ToolbarLocation) {\n      ToolbarLocation['auto'] = 'auto';\n      ToolbarLocation['top'] = 'top';\n      ToolbarLocation['bottom'] = 'bottom';\n    }(ToolbarLocation || (ToolbarLocation = {})));\n    var getToolbarGroups = function (editor) {\n      return editor.getParam('toolbar_groups', {}, 'object');\n    };\n    var getToolbarLocation = function (editor) {\n      return editor.getParam('toolbar_location', ToolbarLocation.auto, 'string');\n    };\n    var isToolbarLocationBottom = function (editor) {\n      return getToolbarLocation(editor) === ToolbarLocation.bottom;\n    };\n    var fixedContainerSelector = function (editor) {\n      return editor.getParam('fixed_toolbar_container', '', 'string');\n    };\n    var fixedToolbarContainerTarget = function (editor) {\n      return editor.getParam('fixed_toolbar_container_target');\n    };\n    var isToolbarPersist = function (editor) {\n      return editor.getParam('toolbar_persist', false, 'boolean');\n    };\n    var fixedContainerTarget = function (editor) {\n      if (!editor.inline) {\n        return Optional.none();\n      }\n      var selector = fixedContainerSelector(editor);\n      if (selector.length > 0) {\n        return descendant(body(), selector);\n      }\n      var element = fixedToolbarContainerTarget(editor);\n      if (isNonNullable(element)) {\n        return Optional.some(SugarElement.fromDom(element));\n      }\n      return Optional.none();\n    };\n    var useFixedContainer = function (editor) {\n      return editor.inline && fixedContainerTarget(editor).isSome();\n    };\n    var getUiContainer = function (editor) {\n      var fixedContainer = fixedContainerTarget(editor);\n      return fixedContainer.getOrThunk(function () {\n        return getContentContainer(getRootNode(SugarElement.fromDom(editor.getElement())));\n      });\n    };\n    var isDistractionFree = function (editor) {\n      return editor.inline && !isMenubarEnabled(editor) && !isToolbarEnabled(editor) && !isMultipleToolbars(editor);\n    };\n    var isStickyToolbar = function (editor) {\n      var isStickyToolbar = editor.getParam('toolbar_sticky', false, 'boolean');\n      return (isStickyToolbar || editor.inline) && !useFixedContainer(editor) && !isDistractionFree(editor);\n    };\n    var getStickyToolbarOffset = function (editor) {\n      return editor.getParam('toolbar_sticky_offset', 0, 'number');\n    };\n    var isDraggableModal$1 = function (editor) {\n      return editor.getParam('draggable_modal', false, 'boolean');\n    };\n    var getMenus = function (editor) {\n      var menu = editor.getParam('menu');\n      if (menu) {\n        return map$1(menu, function (menu) {\n          return __assign(__assign({}, menu), { items: menu.items });\n        });\n      } else {\n        return {};\n      }\n    };\n    var getMenubar = function (editor) {\n      return editor.getParam('menubar');\n    };\n    var getToolbar = function (editor) {\n      return editor.getParam('toolbar', true);\n    };\n    var getFilePickerCallback = function (editor) {\n      return editor.getParam('file_picker_callback');\n    };\n    var getFilePickerTypes = function (editor) {\n      return editor.getParam('file_picker_types');\n    };\n    var getFileBrowserCallbackTypes = function (editor) {\n      return editor.getParam('file_browser_callback_types');\n    };\n    var noTypeaheadUrls = function (editor) {\n      return editor.getParam('typeahead_urls') === false;\n    };\n    var getAnchorTop = function (editor) {\n      return editor.getParam('anchor_top', '#top');\n    };\n    var getAnchorBottom = function (editor) {\n      return editor.getParam('anchor_bottom', '#bottom');\n    };\n    var getFilePickerValidatorHandler = function (editor) {\n      var handler = editor.getParam('file_picker_validator_handler', undefined, 'function');\n      if (handler === undefined) {\n        return editor.getParam('filepicker_validator_handler', undefined, 'function');\n      } else {\n        return handler;\n      }\n    };\n\n    var ReadOnlyChannel = 'silver.readonly';\n    var ReadOnlyDataSchema = objOf([requiredBoolean('readonly')]);\n    var broadcastReadonly = function (uiComponents, readonly) {\n      var outerContainer = uiComponents.outerContainer;\n      var target = outerContainer.element;\n      if (readonly) {\n        uiComponents.mothership.broadcastOn([dismissPopups()], { target: target });\n        uiComponents.uiMothership.broadcastOn([dismissPopups()], { target: target });\n      }\n      uiComponents.mothership.broadcastOn([ReadOnlyChannel], { readonly: readonly });\n      uiComponents.uiMothership.broadcastOn([ReadOnlyChannel], { readonly: readonly });\n    };\n    var setupReadonlyModeSwitch = function (editor, uiComponents) {\n      editor.on('init', function () {\n        if (editor.mode.isReadOnly()) {\n          broadcastReadonly(uiComponents, true);\n        }\n      });\n      editor.on('SwitchMode', function () {\n        return broadcastReadonly(uiComponents, editor.mode.isReadOnly());\n      });\n      if (isReadOnly(editor)) {\n        editor.setMode('readonly');\n      }\n    };\n    var receivingConfig = function () {\n      var _a;\n      return Receiving.config({\n        channels: (_a = {}, _a[ReadOnlyChannel] = {\n          schema: ReadOnlyDataSchema,\n          onReceive: function (comp, data) {\n            Disabling.set(comp, data.readonly);\n          }\n        }, _a)\n      });\n    };\n\n    var item = function (disabled) {\n      return Disabling.config({\n        disabled: disabled,\n        disableClass: 'tox-collection__item--state-disabled'\n      });\n    };\n    var button = function (disabled) {\n      return Disabling.config({ disabled: disabled });\n    };\n    var splitButton = function (disabled) {\n      return Disabling.config({\n        disabled: disabled,\n        disableClass: 'tox-tbtn--disabled'\n      });\n    };\n    var toolbarButton = function (disabled) {\n      return Disabling.config({\n        disabled: disabled,\n        disableClass: 'tox-tbtn--disabled',\n        useNative: false\n      });\n    };\n    var DisablingConfigs = {\n      item: item,\n      button: button,\n      splitButton: splitButton,\n      toolbarButton: toolbarButton\n    };\n\n    var runWithApi = function (info, comp) {\n      var api = info.getApi(comp);\n      return function (f) {\n        f(api);\n      };\n    };\n    var onControlAttached = function (info, editorOffCell) {\n      return runOnAttached(function (comp) {\n        var run = runWithApi(info, comp);\n        run(function (api) {\n          var onDestroy = info.onSetup(api);\n          if (isFunction(onDestroy)) {\n            editorOffCell.set(onDestroy);\n          }\n        });\n      });\n    };\n    var onControlDetached = function (getApi, editorOffCell) {\n      return runOnDetached(function (comp) {\n        return runWithApi(getApi, comp)(editorOffCell.get());\n      });\n    };\n\n    var _a$1;\n    var onMenuItemExecute = function (info, itemResponse) {\n      return runOnExecute$1(function (comp, simulatedEvent) {\n        runWithApi(info, comp)(info.onAction);\n        if (!info.triggersSubmenu && itemResponse === ItemResponse$1.CLOSE_ON_EXECUTE) {\n          emit(comp, sandboxClose());\n          simulatedEvent.stop();\n        }\n      });\n    };\n    var menuItemEventOrder = (_a$1 = {}, _a$1[execute$5()] = [\n      'disabling',\n      'alloy.base.behaviour',\n      'toggling',\n      'item-events'\n    ], _a$1);\n\n    var componentRenderPipeline = cat;\n    var renderCommonItem = function (spec, structure, itemResponse, providersbackstage) {\n      var editorOffCell = Cell(noop);\n      return {\n        type: 'item',\n        dom: structure.dom,\n        components: componentRenderPipeline(structure.optComponents),\n        data: spec.data,\n        eventOrder: menuItemEventOrder,\n        hasSubmenu: spec.triggersSubmenu,\n        itemBehaviours: derive$1([\n          config('item-events', [\n            onMenuItemExecute(spec, itemResponse),\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          DisablingConfigs.item(function () {\n            return spec.disabled || providersbackstage.isDisabled();\n          }),\n          receivingConfig(),\n          Replacing.config({})\n        ].concat(spec.itemBehaviours))\n      };\n    };\n    var buildData = function (source) {\n      return {\n        value: source.value,\n        meta: __assign({ text: source.text.getOr('') }, source.meta)\n      };\n    };\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var convertText = function (source) {\n      var mac = {\n        alt: '&#x2325;',\n        ctrl: '&#x2303;',\n        shift: '&#x21E7;',\n        meta: '&#x2318;',\n        access: '&#x2303;&#x2325;'\n      };\n      var other = {\n        meta: 'Ctrl',\n        access: 'Shift+Alt'\n      };\n      var replace = global$9.mac ? mac : other;\n      var shortcut = source.split('+');\n      var updated = map$2(shortcut, function (segment) {\n        var search = segment.toLowerCase().trim();\n        return has$2(replace, search) ? replace[search] : segment;\n      });\n      return global$9.mac ? updated.join('') : updated.join('+');\n    };\n\n    var renderIcon$1 = function (name, icons, classes) {\n      if (classes === void 0) {\n        classes = [iconClass];\n      }\n      return render$3(name, {\n        tag: 'div',\n        classes: classes\n      }, icons);\n    };\n    var renderText = function (text$1) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [textClass]\n        },\n        components: [text(global$e.translate(text$1))]\n      };\n    };\n    var renderHtml = function (html, classes) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: classes,\n          innerHtml: html\n        }\n      };\n    };\n    var renderStyledText = function (style, text$1) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [textClass]\n        },\n        components: [{\n            dom: {\n              tag: style.tag,\n              styles: style.styles\n            },\n            components: [text(global$e.translate(text$1))]\n          }]\n      };\n    };\n    var renderShortcut = function (shortcut) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [accessoryClass],\n          innerHtml: convertText(shortcut)\n        }\n      };\n    };\n    var renderCheckmark = function (icons) {\n      return renderIcon$1('checkmark', icons, [checkmarkClass]);\n    };\n    var renderSubmenuCaret = function (icons) {\n      return renderIcon$1('chevron-right', icons, [caretClass]);\n    };\n    var renderDownwardsCaret = function (icons) {\n      return renderIcon$1('chevron-down', icons, [caretClass]);\n    };\n    var renderContainer = function (container, components) {\n      var directionClass = container.direction === 'vertical' ? containerColumnClass : containerRowClass;\n      var alignClass = container.align === 'left' ? containerAlignLeftClass : containerAlignRightClass;\n      var getValignClass = function () {\n        switch (container.valign) {\n        case 'top':\n          return containerValignTopClass;\n        case 'middle':\n          return containerValignMiddleClass;\n        case 'bottom':\n          return containerValignBottomClass;\n        }\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            containerClass,\n            directionClass,\n            alignClass,\n            getValignClass()\n          ]\n        },\n        components: components\n      };\n    };\n    var renderImage = function (src, classes, alt) {\n      return {\n        dom: {\n          tag: 'img',\n          classes: classes,\n          attributes: {\n            src: src,\n            alt: alt.getOr('')\n          }\n        }\n      };\n    };\n\n    var renderColorStructure = function (item, providerBackstage, fallbackIcon) {\n      var colorPickerCommand = 'custom';\n      var removeColorCommand = 'remove';\n      var itemText = item.ariaLabel;\n      var itemValue = item.value;\n      var iconSvg = item.iconContent.map(function (name) {\n        return getOr(name, providerBackstage.icons, fallbackIcon);\n      });\n      var getDom = function () {\n        var common = colorClass;\n        var icon = iconSvg.getOr('');\n        var attributes = itemText.map(function (text) {\n          return { title: providerBackstage.translate(text) };\n        }).getOr({});\n        var baseDom = {\n          tag: 'div',\n          attributes: attributes,\n          classes: [common]\n        };\n        if (itemValue === colorPickerCommand) {\n          return __assign(__assign({}, baseDom), {\n            tag: 'button',\n            classes: __spreadArray(__spreadArray([], baseDom.classes, true), ['tox-swatches__picker-btn'], false),\n            innerHtml: icon\n          });\n        } else if (itemValue === removeColorCommand) {\n          return __assign(__assign({}, baseDom), {\n            classes: __spreadArray(__spreadArray([], baseDom.classes, true), ['tox-swatch--remove'], false),\n            innerHtml: icon\n          });\n        } else {\n          return __assign(__assign({}, baseDom), {\n            attributes: __assign(__assign({}, baseDom.attributes), { 'data-mce-color': itemValue }),\n            styles: { 'background-color': itemValue }\n          });\n        }\n      };\n      return {\n        dom: getDom(),\n        optComponents: []\n      };\n    };\n    var renderItemDomStructure = function (ariaLabel) {\n      var domTitle = ariaLabel.map(function (label) {\n        return { attributes: { title: global$e.translate(label) } };\n      }).getOr({});\n      return __assign({\n        tag: 'div',\n        classes: [\n          navClass,\n          selectableClass\n        ]\n      }, domTitle);\n    };\n    var renderNormalItemStructure = function (info, providersBackstage, renderIcons, fallbackIcon) {\n      var iconSpec = {\n        tag: 'div',\n        classes: [iconClass]\n      };\n      var renderIcon = function (iconName) {\n        return render$3(iconName, iconSpec, providersBackstage.icons, fallbackIcon);\n      };\n      var renderEmptyIcon = function () {\n        return Optional.some({ dom: iconSpec });\n      };\n      var leftIcon = renderIcons ? info.iconContent.map(renderIcon).orThunk(renderEmptyIcon) : Optional.none();\n      var checkmark = info.checkMark;\n      var textRender = Optional.from(info.meta).fold(function () {\n        return renderText;\n      }, function (meta) {\n        return has$2(meta, 'style') ? curry(renderStyledText, meta.style) : renderText;\n      });\n      var content = info.htmlContent.fold(function () {\n        return info.textContent.map(textRender);\n      }, function (html) {\n        return Optional.some(renderHtml(html, [textClass]));\n      });\n      var menuItem = {\n        dom: renderItemDomStructure(info.ariaLabel),\n        optComponents: [\n          leftIcon,\n          content,\n          info.shortcutContent.map(renderShortcut),\n          checkmark,\n          info.caret\n        ]\n      };\n      return menuItem;\n    };\n    var renderItemStructure = function (info, providersBackstage, renderIcons, fallbackIcon) {\n      if (fallbackIcon === void 0) {\n        fallbackIcon = Optional.none();\n      }\n      if (info.presets === 'color') {\n        return renderColorStructure(info, providersBackstage, fallbackIcon);\n      } else {\n        return renderNormalItemStructure(info, providersBackstage, renderIcons, fallbackIcon);\n      }\n    };\n\n    var tooltipBehaviour = function (meta, sharedBackstage) {\n      return get$e(meta, 'tooltipWorker').map(function (tooltipWorker) {\n        return [Tooltipping.config({\n            lazySink: sharedBackstage.getSink,\n            tooltipDom: {\n              tag: 'div',\n              classes: ['tox-tooltip-worker-container']\n            },\n            tooltipComponents: [],\n            anchor: function (comp) {\n              return {\n                type: 'submenu',\n                item: comp,\n                overrides: { maxHeightFunction: expandable$1 }\n              };\n            },\n            mode: 'follow-highlight',\n            onShow: function (component, _tooltip) {\n              tooltipWorker(function (elm) {\n                Tooltipping.setComponents(component, [external$2({ element: SugarElement.fromDom(elm) })]);\n              });\n            }\n          })];\n      }).getOr([]);\n    };\n    var encodeText = function (text) {\n      return global$b.DOM.encode(text);\n    };\n    var replaceText = function (text, matchText) {\n      var translated = global$e.translate(text);\n      var encoded = encodeText(translated);\n      if (matchText.length > 0) {\n        var escapedMatchRegex = new RegExp(escape(matchText), 'gi');\n        return encoded.replace(escapedMatchRegex, function (match) {\n          return '<span class=\"tox-autocompleter-highlight\">' + match + '</span>';\n        });\n      } else {\n        return encoded;\n      }\n    };\n    var renderAutocompleteItem = function (spec, matchText, useText, presets, onItemValueHandler, itemResponse, sharedBackstage, renderIcons) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      var structure = renderItemStructure({\n        presets: presets,\n        textContent: Optional.none(),\n        htmlContent: useText ? spec.text.map(function (text) {\n          return replaceText(text, matchText);\n        }) : Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: Optional.none(),\n        checkMark: Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, sharedBackstage.providers, renderIcons, spec.icon);\n      return renderCommonItem({\n        data: buildData(spec),\n        disabled: spec.disabled,\n        getApi: constant$1({}),\n        onAction: function (_api) {\n          return onItemValueHandler(spec.value, spec.meta);\n        },\n        onSetup: constant$1(noop),\n        triggersSubmenu: false,\n        itemBehaviours: tooltipBehaviour(spec.meta, sharedBackstage)\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    var render$2 = function (items, extras) {\n      return map$2(items, function (item) {\n        switch (item.type) {\n        case 'cardcontainer':\n          return renderContainer(item, render$2(item.items, extras));\n        case 'cardimage':\n          return renderImage(item.src, item.classes, item.alt);\n        case 'cardtext':\n          var shouldHighlight = item.name.exists(function (name) {\n            return contains$2(extras.cardText.highlightOn, name);\n          });\n          var matchText = shouldHighlight ? Optional.from(extras.cardText.matchText).getOr('') : '';\n          return renderHtml(replaceText(item.text, matchText), item.classes);\n        }\n      });\n    };\n    var renderCardMenuItem = function (spec, itemResponse, sharedBackstage, extras) {\n      var getApi = function (component) {\n        return {\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            Disabling.set(component, state);\n            each$1(descendants(component.element, '*'), function (elm) {\n              component.getSystem().getByDom(elm).each(function (comp) {\n                if (comp.hasConfigured(Disabling)) {\n                  Disabling.set(comp, state);\n                }\n              });\n            });\n          }\n        };\n      };\n      var structure = {\n        dom: renderItemDomStructure(spec.label),\n        optComponents: [Optional.some({\n            dom: {\n              tag: 'div',\n              classes: [\n                containerClass,\n                containerRowClass\n              ]\n            },\n            components: render$2(spec.items, extras)\n          })]\n      };\n      return renderCommonItem({\n        data: buildData(__assign({ text: Optional.none() }, spec)),\n        disabled: spec.disabled,\n        getApi: getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: Optional.from(extras.itemBehaviours).getOr([])\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    var renderChoiceItem = function (spec, useText, presets, onItemValueHandler, isSelected, itemResponse, providersBackstage, renderIcons) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      var getApi = function (component) {\n        return {\n          setActive: function (state) {\n            Toggling.set(component, state);\n          },\n          isActive: function () {\n            return Toggling.isOn(component);\n          },\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(component, state);\n          }\n        };\n      };\n      var structure = renderItemStructure({\n        presets: presets,\n        textContent: useText ? spec.text : Optional.none(),\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: useText ? spec.shortcut : Optional.none(),\n        checkMark: useText ? Optional.some(renderCheckmark(providersBackstage.icons)) : Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, providersBackstage, renderIcons);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        disabled: spec.disabled,\n        getApi: getApi,\n        onAction: function (_api) {\n          return onItemValueHandler(spec.value);\n        },\n        onSetup: function (api) {\n          api.setActive(isSelected);\n          return noop;\n        },\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active\n        }\n      });\n    };\n\n    var parts$f = generate$3(owner$2(), parts$h());\n\n    var hexColour = function (value) {\n      return { value: value };\n    };\n    var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    var longformRegex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n    var isHexString = function (hex) {\n      return shorthandRegex.test(hex) || longformRegex.test(hex);\n    };\n    var normalizeHex = function (hex) {\n      return removeLeading(hex, '#').toUpperCase();\n    };\n    var fromString$1 = function (hex) {\n      return isHexString(hex) ? Optional.some({ value: normalizeHex(hex) }) : Optional.none();\n    };\n    var getLongForm = function (hex) {\n      var hexString = hex.value.replace(shorthandRegex, function (m, r, g, b) {\n        return r + r + g + g + b + b;\n      });\n      return { value: hexString };\n    };\n    var extractValues = function (hex) {\n      var longForm = getLongForm(hex);\n      var splitForm = longformRegex.exec(longForm.value);\n      return splitForm === null ? [\n        'FFFFFF',\n        'FF',\n        'FF',\n        'FF'\n      ] : splitForm;\n    };\n    var toHex = function (component) {\n      var hex = component.toString(16);\n      return (hex.length === 1 ? '0' + hex : hex).toUpperCase();\n    };\n    var fromRgba = function (rgbaColour) {\n      var value = toHex(rgbaColour.red) + toHex(rgbaColour.green) + toHex(rgbaColour.blue);\n      return hexColour(value);\n    };\n\n    var min = Math.min;\n    var max = Math.max;\n    var round$1 = Math.round;\n    var rgbRegex = /^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)/;\n    var rgbaRegex = /^rgba\\((\\d+),\\s*(\\d+),\\s*(\\d+),\\s*(\\d?(?:\\.\\d+)?)\\)/;\n    var rgbaColour = function (red, green, blue, alpha) {\n      return {\n        red: red,\n        green: green,\n        blue: blue,\n        alpha: alpha\n      };\n    };\n    var isRgbaComponent = function (value) {\n      var num = parseInt(value, 10);\n      return num.toString() === value && num >= 0 && num <= 255;\n    };\n    var fromHsv = function (hsv) {\n      var r;\n      var g;\n      var b;\n      var hue = (hsv.hue || 0) % 360;\n      var saturation = hsv.saturation / 100;\n      var brightness = hsv.value / 100;\n      saturation = max(0, min(saturation, 1));\n      brightness = max(0, min(brightness, 1));\n      if (saturation === 0) {\n        r = g = b = round$1(255 * brightness);\n        return rgbaColour(r, g, b, 1);\n      }\n      var side = hue / 60;\n      var chroma = brightness * saturation;\n      var x = chroma * (1 - Math.abs(side % 2 - 1));\n      var match = brightness - chroma;\n      switch (Math.floor(side)) {\n      case 0:\n        r = chroma;\n        g = x;\n        b = 0;\n        break;\n      case 1:\n        r = x;\n        g = chroma;\n        b = 0;\n        break;\n      case 2:\n        r = 0;\n        g = chroma;\n        b = x;\n        break;\n      case 3:\n        r = 0;\n        g = x;\n        b = chroma;\n        break;\n      case 4:\n        r = x;\n        g = 0;\n        b = chroma;\n        break;\n      case 5:\n        r = chroma;\n        g = 0;\n        b = x;\n        break;\n      default:\n        r = g = b = 0;\n      }\n      r = round$1(255 * (r + match));\n      g = round$1(255 * (g + match));\n      b = round$1(255 * (b + match));\n      return rgbaColour(r, g, b, 1);\n    };\n    var fromHex = function (hexColour) {\n      var result = extractValues(hexColour);\n      var red = parseInt(result[1], 16);\n      var green = parseInt(result[2], 16);\n      var blue = parseInt(result[3], 16);\n      return rgbaColour(red, green, blue, 1);\n    };\n    var fromStringValues = function (red, green, blue, alpha) {\n      var r = parseInt(red, 10);\n      var g = parseInt(green, 10);\n      var b = parseInt(blue, 10);\n      var a = parseFloat(alpha);\n      return rgbaColour(r, g, b, a);\n    };\n    var fromString = function (rgbaString) {\n      if (rgbaString === 'transparent') {\n        return Optional.some(rgbaColour(0, 0, 0, 0));\n      }\n      var rgbMatch = rgbRegex.exec(rgbaString);\n      if (rgbMatch !== null) {\n        return Optional.some(fromStringValues(rgbMatch[1], rgbMatch[2], rgbMatch[3], '1'));\n      }\n      var rgbaMatch = rgbaRegex.exec(rgbaString);\n      if (rgbaMatch !== null) {\n        return Optional.some(fromStringValues(rgbaMatch[1], rgbaMatch[2], rgbaMatch[3], rgbaMatch[4]));\n      }\n      return Optional.none();\n    };\n    var toString = function (rgba) {\n      return 'rgba(' + rgba.red + ',' + rgba.green + ',' + rgba.blue + ',' + rgba.alpha + ')';\n    };\n    var red = rgbaColour(255, 0, 0, 1);\n\n    var fireSkinLoaded$1 = function (editor) {\n      return editor.fire('SkinLoaded');\n    };\n    var fireSkinLoadError$1 = function (editor, error) {\n      return editor.fire('SkinLoadError', error);\n    };\n    var fireResizeEditor = function (editor) {\n      return editor.fire('ResizeEditor');\n    };\n    var fireResizeContent = function (editor, e) {\n      return editor.fire('ResizeContent', e);\n    };\n    var fireScrollContent = function (editor, e) {\n      return editor.fire('ScrollContent', e);\n    };\n    var fireTextColorChange = function (editor, data) {\n      return editor.fire('TextColorChange', data);\n    };\n\n    var hsvColour = function (hue, saturation, value) {\n      return {\n        hue: hue,\n        saturation: saturation,\n        value: value\n      };\n    };\n    var fromRgb = function (rgbaColour) {\n      var h = 0;\n      var s = 0;\n      var v = 0;\n      var r = rgbaColour.red / 255;\n      var g = rgbaColour.green / 255;\n      var b = rgbaColour.blue / 255;\n      var minRGB = Math.min(r, Math.min(g, b));\n      var maxRGB = Math.max(r, Math.max(g, b));\n      if (minRGB === maxRGB) {\n        v = minRGB;\n        return hsvColour(0, 0, v * 100);\n      }\n      var d = r === minRGB ? g - b : b === minRGB ? r - g : b - r;\n      h = r === minRGB ? 3 : b === minRGB ? 1 : 5;\n      h = 60 * (h - d / (maxRGB - minRGB));\n      s = (maxRGB - minRGB) / maxRGB;\n      v = maxRGB;\n      return hsvColour(Math.round(h), Math.round(s * 100), Math.round(v * 100));\n    };\n\n    var hexToHsv = function (hex) {\n      return fromRgb(fromHex(hex));\n    };\n    var hsvToHex = function (hsv) {\n      return fromRgba(fromHsv(hsv));\n    };\n    var anyToHex = function (color) {\n      return fromString$1(color).orThunk(function () {\n        return fromString(color).map(fromRgba);\n      }).getOrThunk(function () {\n        var canvas = document.createElement('canvas');\n        canvas.height = 1;\n        canvas.width = 1;\n        var canvasContext = canvas.getContext('2d');\n        canvasContext.clearRect(0, 0, canvas.width, canvas.height);\n        canvasContext.fillStyle = '#FFFFFF';\n        canvasContext.fillStyle = color;\n        canvasContext.fillRect(0, 0, 1, 1);\n        var rgba = canvasContext.getImageData(0, 0, 1, 1).data;\n        var r = rgba[0];\n        var g = rgba[1];\n        var b = rgba[2];\n        var a = rgba[3];\n        return fromRgba(rgbaColour(r, g, b, a));\n      });\n    };\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.util.LocalStorage');\n\n    var storageName = 'tinymce-custom-colors';\n    function ColorCache (max) {\n      if (max === void 0) {\n        max = 10;\n      }\n      var storageString = global$8.getItem(storageName);\n      var localstorage = isString(storageString) ? JSON.parse(storageString) : [];\n      var prune = function (list) {\n        var diff = max - list.length;\n        return diff < 0 ? list.slice(0, max) : list;\n      };\n      var cache = prune(localstorage);\n      var add = function (key) {\n        indexOf(cache, key).each(remove);\n        cache.unshift(key);\n        if (cache.length > max) {\n          cache.pop();\n        }\n        global$8.setItem(storageName, JSON.stringify(cache));\n      };\n      var remove = function (idx) {\n        cache.splice(idx, 1);\n      };\n      var state = function () {\n        return cache.slice(0);\n      };\n      return {\n        add: add,\n        state: state\n      };\n    }\n\n    var choiceItem = 'choiceitem';\n    var defaultColors = [\n      {\n        type: choiceItem,\n        text: 'Light Green',\n        value: '#BFEDD2'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Yellow',\n        value: '#FBEEB8'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Red',\n        value: '#F8CAC6'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Purple',\n        value: '#ECCAFA'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Blue',\n        value: '#C2E0F4'\n      },\n      {\n        type: choiceItem,\n        text: 'Green',\n        value: '#2DC26B'\n      },\n      {\n        type: choiceItem,\n        text: 'Yellow',\n        value: '#F1C40F'\n      },\n      {\n        type: choiceItem,\n        text: 'Red',\n        value: '#E03E2D'\n      },\n      {\n        type: choiceItem,\n        text: 'Purple',\n        value: '#B96AD9'\n      },\n      {\n        type: choiceItem,\n        text: 'Blue',\n        value: '#3598DB'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Turquoise',\n        value: '#169179'\n      },\n      {\n        type: choiceItem,\n        text: 'Orange',\n        value: '#E67E23'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Red',\n        value: '#BA372A'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Purple',\n        value: '#843FA1'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Blue',\n        value: '#236FA1'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Gray',\n        value: '#ECF0F1'\n      },\n      {\n        type: choiceItem,\n        text: 'Medium Gray',\n        value: '#CED4D9'\n      },\n      {\n        type: choiceItem,\n        text: 'Gray',\n        value: '#95A5A6'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Gray',\n        value: '#7E8C8D'\n      },\n      {\n        type: choiceItem,\n        text: 'Navy Blue',\n        value: '#34495E'\n      },\n      {\n        type: choiceItem,\n        text: 'Black',\n        value: '#000000'\n      },\n      {\n        type: choiceItem,\n        text: 'White',\n        value: '#ffffff'\n      }\n    ];\n    var colorCache = ColorCache(10);\n    var mapColors = function (colorMap) {\n      var colors = [];\n      for (var i = 0; i < colorMap.length; i += 2) {\n        colors.push({\n          text: colorMap[i + 1],\n          value: '#' + anyToHex(colorMap[i]).value,\n          type: 'choiceitem'\n        });\n      }\n      return colors;\n    };\n    var getColorCols$2 = function (editor, defaultCols) {\n      return editor.getParam('color_cols', defaultCols, 'number');\n    };\n    var hasCustomColors$1 = function (editor) {\n      return editor.getParam('custom_colors') !== false;\n    };\n    var getColorMap = function (editor) {\n      return editor.getParam('color_map');\n    };\n    var getColors$2 = function (editor) {\n      var unmapped = getColorMap(editor);\n      return unmapped !== undefined ? mapColors(unmapped) : defaultColors;\n    };\n    var getCurrentColors = function () {\n      return map$2(colorCache.state(), function (color) {\n        return {\n          type: choiceItem,\n          text: color,\n          value: color\n        };\n      });\n    };\n    var addColor = function (color) {\n      colorCache.add(color);\n    };\n\n    var fallbackColor = '#000000';\n    var getCurrentColor = function (editor, format) {\n      var color;\n      editor.dom.getParents(editor.selection.getStart(), function (elm) {\n        var value;\n        if (value = elm.style[format === 'forecolor' ? 'color' : 'background-color']) {\n          color = color ? color : value;\n        }\n      });\n      return Optional.from(color);\n    };\n    var applyFormat = function (editor, format, value) {\n      editor.undoManager.transact(function () {\n        editor.focus();\n        editor.formatter.apply(format, { value: value });\n        editor.nodeChanged();\n      });\n    };\n    var removeFormat = function (editor, format) {\n      editor.undoManager.transact(function () {\n        editor.focus();\n        editor.formatter.remove(format, { value: null }, null, true);\n        editor.nodeChanged();\n      });\n    };\n    var registerCommands = function (editor) {\n      editor.addCommand('mceApplyTextcolor', function (format, value) {\n        applyFormat(editor, format, value);\n      });\n      editor.addCommand('mceRemoveTextcolor', function (format) {\n        removeFormat(editor, format);\n      });\n    };\n    var calcCols = function (colors) {\n      return Math.max(5, Math.ceil(Math.sqrt(colors)));\n    };\n    var getColorCols$1 = function (editor) {\n      var colors = getColors$2(editor);\n      var defaultCols = calcCols(colors.length);\n      return getColorCols$2(editor, defaultCols);\n    };\n    var getAdditionalColors = function (hasCustom) {\n      var type = 'choiceitem';\n      var remove = {\n        type: type,\n        text: 'Remove color',\n        icon: 'color-swatch-remove-color',\n        value: 'remove'\n      };\n      var custom = {\n        type: type,\n        text: 'Custom color',\n        icon: 'color-picker',\n        value: 'custom'\n      };\n      return hasCustom ? [\n        remove,\n        custom\n      ] : [remove];\n    };\n    var applyColor = function (editor, format, value, onChoice) {\n      if (value === 'custom') {\n        var dialog = colorPickerDialog(editor);\n        dialog(function (colorOpt) {\n          colorOpt.each(function (color) {\n            addColor(color);\n            editor.execCommand('mceApplyTextcolor', format, color);\n            onChoice(color);\n          });\n        }, fallbackColor);\n      } else if (value === 'remove') {\n        onChoice('');\n        editor.execCommand('mceRemoveTextcolor', format);\n      } else {\n        onChoice(value);\n        editor.execCommand('mceApplyTextcolor', format, value);\n      }\n    };\n    var getColors$1 = function (colors, hasCustom) {\n      return colors.concat(getCurrentColors().concat(getAdditionalColors(hasCustom)));\n    };\n    var getFetch$1 = function (colors, hasCustom) {\n      return function (callback) {\n        callback(getColors$1(colors, hasCustom));\n      };\n    };\n    var setIconColor = function (splitButtonApi, name, newColor) {\n      var id = name === 'forecolor' ? 'tox-icon-text-color__color' : 'tox-icon-highlight-bg-color__color';\n      splitButtonApi.setIconFill(id, newColor);\n    };\n    var registerTextColorButton = function (editor, name, format, tooltip, lastColor) {\n      editor.ui.registry.addSplitButton(name, {\n        tooltip: tooltip,\n        presets: 'color',\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        select: function (value) {\n          var optCurrentRgb = getCurrentColor(editor, format);\n          return optCurrentRgb.bind(function (currentRgb) {\n            return fromString(currentRgb).map(function (rgba) {\n              var currentHex = fromRgba(rgba).value;\n              return contains$1(value.toLowerCase(), currentHex);\n            });\n          }).getOr(false);\n        },\n        columns: getColorCols$1(editor),\n        fetch: getFetch$1(getColors$2(editor), hasCustomColors$1(editor)),\n        onAction: function (_splitButtonApi) {\n          applyColor(editor, format, lastColor.get(), noop);\n        },\n        onItemAction: function (_splitButtonApi, value) {\n          applyColor(editor, format, value, function (newColor) {\n            lastColor.set(newColor);\n            fireTextColorChange(editor, {\n              name: name,\n              color: newColor\n            });\n          });\n        },\n        onSetup: function (splitButtonApi) {\n          setIconColor(splitButtonApi, name, lastColor.get());\n          var handler = function (e) {\n            if (e.name === name) {\n              setIconColor(splitButtonApi, e.name, e.color);\n            }\n          };\n          editor.on('TextColorChange', handler);\n          return function () {\n            editor.off('TextColorChange', handler);\n          };\n        }\n      });\n    };\n    var registerTextColorMenuItem = function (editor, name, format, text) {\n      editor.ui.registry.addNestedMenuItem(name, {\n        text: text,\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        getSubmenuItems: function () {\n          return [{\n              type: 'fancymenuitem',\n              fancytype: 'colorswatch',\n              onAction: function (data) {\n                applyColor(editor, format, data.value, noop);\n              }\n            }];\n        }\n      });\n    };\n    var colorPickerDialog = function (editor) {\n      return function (callback, value) {\n        var isValid = false;\n        var onSubmit = function (api) {\n          var data = api.getData();\n          var hex = data.colorpicker;\n          if (isValid) {\n            callback(Optional.from(hex));\n            api.close();\n          } else {\n            editor.windowManager.alert(editor.translate([\n              'Invalid hex color code: {0}',\n              hex\n            ]));\n          }\n        };\n        var onAction = function (_api, details) {\n          if (details.name === 'hex-valid') {\n            isValid = details.value;\n          }\n        };\n        var initialData = { colorpicker: value };\n        editor.windowManager.open({\n          title: 'Color Picker',\n          size: 'normal',\n          body: {\n            type: 'panel',\n            items: [{\n                type: 'colorpicker',\n                name: 'colorpicker',\n                label: 'Color'\n              }]\n          },\n          buttons: [\n            {\n              type: 'cancel',\n              name: 'cancel',\n              text: 'Cancel'\n            },\n            {\n              type: 'submit',\n              name: 'save',\n              text: 'Save',\n              primary: true\n            }\n          ],\n          initialData: initialData,\n          onAction: onAction,\n          onSubmit: onSubmit,\n          onClose: noop,\n          onCancel: function () {\n            callback(Optional.none());\n          }\n        });\n      };\n    };\n    var register$a = function (editor) {\n      registerCommands(editor);\n      var lastForeColor = Cell(fallbackColor);\n      var lastBackColor = Cell(fallbackColor);\n      registerTextColorButton(editor, 'forecolor', 'forecolor', 'Text color', lastForeColor);\n      registerTextColorButton(editor, 'backcolor', 'hilitecolor', 'Background color', lastBackColor);\n      registerTextColorMenuItem(editor, 'forecolor', 'forecolor', 'Text color');\n      registerTextColorMenuItem(editor, 'backcolor', 'hilitecolor', 'Background color');\n    };\n\n    var createPartialChoiceMenu = function (value, items, onItemValueHandler, columns, presets, itemResponse, select, providersBackstage) {\n      var hasIcons = menuHasIcons(items);\n      var presetItemTypes = presets !== 'color' ? 'normal' : 'color';\n      var alloyItems = createChoiceItems(items, onItemValueHandler, columns, presetItemTypes, itemResponse, select, providersBackstage);\n      return createPartialMenuWithAlloyItems(value, hasIcons, alloyItems, columns, presets);\n    };\n    var createChoiceItems = function (items, onItemValueHandler, columns, itemPresets, itemResponse, select, providersBackstage) {\n      return cat(map$2(items, function (item) {\n        if (item.type === 'choiceitem') {\n          return createChoiceMenuItem(item).fold(handleError, function (d) {\n            return Optional.some(renderChoiceItem(d, columns === 1, itemPresets, onItemValueHandler, select(item.value), itemResponse, providersBackstage, menuHasIcons(items)));\n          });\n        } else {\n          return Optional.none();\n        }\n      }));\n    };\n\n    var deriveMenuMovement = function (columns, presets) {\n      var menuMarkers = markers(presets);\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: true\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'grid',\n          selector: '.' + menuMarkers.item,\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        var rowClass = presets === 'color' ? 'tox-swatches__row' : 'tox-collection__group';\n        return {\n          mode: 'matrix',\n          rowSelector: '.' + rowClass\n        };\n      }\n    };\n    var deriveCollectionMovement = function (columns, presets) {\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: false,\n          selector: '.tox-collection__item'\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'flatgrid',\n          selector: '.' + 'tox-collection__item',\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        return {\n          mode: 'matrix',\n          selectors: {\n            row: presets === 'color' ? '.tox-swatches__row' : '.tox-collection__group',\n            cell: presets === 'color' ? '.' + colorClass : '.' + selectableClass\n          }\n        };\n      }\n    };\n\n    var renderColorSwatchItem = function (spec, backstage) {\n      var items = getColorItems(spec, backstage);\n      var columns = backstage.colorinput.getColorCols();\n      var presets = 'color';\n      var menuSpec = createPartialChoiceMenu(generate$6('menu-value'), items, function (value) {\n        spec.onAction({ value: value });\n      }, columns, presets, ItemResponse$1.CLOSE_ON_EXECUTE, never, backstage.shared.providers);\n      var widgetSpec = __assign(__assign({}, menuSpec), {\n        markers: markers(presets),\n        movement: deriveMenuMovement(columns, presets)\n      });\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget(Menu.sketch(widgetSpec))]\n      };\n    };\n    var getColorItems = function (spec, backstage) {\n      var useCustomColors = spec.initData.allowCustomColors && backstage.colorinput.hasCustomColors();\n      return spec.initData.colors.fold(function () {\n        return getColors$1(backstage.colorinput.getColors(), useCustomColors);\n      }, function (colors) {\n        return colors.concat(getAdditionalColors(useCustomColors));\n      });\n    };\n\n    var cellOverEvent = generate$6('cell-over');\n    var cellExecuteEvent = generate$6('cell-execute');\n    var makeCell = function (row, col, labelId) {\n      var _a;\n      var emitCellOver = function (c) {\n        return emitWith(c, cellOverEvent, {\n          row: row,\n          col: col\n        });\n      };\n      var emitExecute = function (c) {\n        return emitWith(c, cellExecuteEvent, {\n          row: row,\n          col: col\n        });\n      };\n      var onClick = function (c, se) {\n        se.stop();\n        emitExecute(c);\n      };\n      return build$1({\n        dom: {\n          tag: 'div',\n          attributes: (_a = { role: 'button' }, _a['aria-labelledby'] = labelId, _a)\n        },\n        behaviours: derive$1([\n          config('insert-table-picker-cell', [\n            run$1(mouseover(), Focusing.focus),\n            run$1(execute$5(), emitExecute),\n            run$1(click(), onClick),\n            run$1(tap(), onClick)\n          ]),\n          Toggling.config({\n            toggleClass: 'tox-insert-table-picker__selected',\n            toggleOnExecute: false\n          }),\n          Focusing.config({ onFocus: emitCellOver })\n        ])\n      });\n    };\n    var makeCells = function (labelId, numRows, numCols) {\n      var cells = [];\n      for (var i = 0; i < numRows; i++) {\n        var row = [];\n        for (var j = 0; j < numCols; j++) {\n          row.push(makeCell(i, j, labelId));\n        }\n        cells.push(row);\n      }\n      return cells;\n    };\n    var selectCells = function (cells, selectedRow, selectedColumn, numRows, numColumns) {\n      for (var i = 0; i < numRows; i++) {\n        for (var j = 0; j < numColumns; j++) {\n          Toggling.set(cells[i][j], i <= selectedRow && j <= selectedColumn);\n        }\n      }\n    };\n    var makeComponents = function (cells) {\n      return bind$3(cells, function (cellRow) {\n        return map$2(cellRow, premade);\n      });\n    };\n    var makeLabelText = function (row, col) {\n      return text(col + 'x' + row);\n    };\n    var renderInsertTableMenuItem = function (spec) {\n      var numRows = 10;\n      var numColumns = 10;\n      var sizeLabelId = generate$6('size-label');\n      var cells = makeCells(sizeLabelId, numRows, numColumns);\n      var emptyLabelText = makeLabelText(0, 0);\n      var memLabel = record({\n        dom: {\n          tag: 'span',\n          classes: ['tox-insert-table-picker__label'],\n          attributes: { id: sizeLabelId }\n        },\n        components: [emptyLabelText],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget({\n            dom: {\n              tag: 'div',\n              classes: ['tox-insert-table-picker']\n            },\n            components: makeComponents(cells).concat(memLabel.asSpec()),\n            behaviours: derive$1([\n              config('insert-table-picker', [\n                runOnAttached(function (c) {\n                  Replacing.set(memLabel.get(c), [emptyLabelText]);\n                }),\n                runWithTarget(cellOverEvent, function (c, t, e) {\n                  var _a = e.event, row = _a.row, col = _a.col;\n                  selectCells(cells, row, col, numRows, numColumns);\n                  Replacing.set(memLabel.get(c), [makeLabelText(row + 1, col + 1)]);\n                }),\n                runWithTarget(cellExecuteEvent, function (c, _, e) {\n                  var _a = e.event, row = _a.row, col = _a.col;\n                  spec.onAction({\n                    numRows: row + 1,\n                    numColumns: col + 1\n                  });\n                  emit(c, sandboxClose());\n                })\n              ]),\n              Keying.config({\n                initSize: {\n                  numRows: numRows,\n                  numColumns: numColumns\n                },\n                mode: 'flatgrid',\n                selector: '[role=\"button\"]'\n              })\n            ])\n          })]\n      };\n    };\n\n    var fancyMenuItems = {\n      inserttable: renderInsertTableMenuItem,\n      colorswatch: renderColorSwatchItem\n    };\n    var renderFancyMenuItem = function (spec, backstage) {\n      return get$e(fancyMenuItems, spec.fancytype).map(function (render) {\n        return render(spec, backstage);\n      });\n    };\n\n    var renderNestedItem = function (spec, itemResponse, providersBackstage, renderIcons, downwardsCaret) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      if (downwardsCaret === void 0) {\n        downwardsCaret = false;\n      }\n      var caret = downwardsCaret ? renderDownwardsCaret(providersBackstage.icons) : renderSubmenuCaret(providersBackstage.icons);\n      var getApi = function (component) {\n        return {\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(component, state);\n          }\n        };\n      };\n      var structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.some(caret),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi: getApi,\n        disabled: spec.disabled,\n        onAction: noop,\n        onSetup: spec.onSetup,\n        triggersSubmenu: true,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    var renderNormalItem = function (spec, itemResponse, providersBackstage, renderIcons) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      var getApi = function (component) {\n        return {\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(component, state);\n          }\n        };\n      };\n      var structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.none(),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi: getApi,\n        disabled: spec.disabled,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    var renderSeparatorItem = function (spec) {\n      var innerHtml = spec.text.fold(function () {\n        return {};\n      }, function (text) {\n        return { innerHtml: text };\n      });\n      return {\n        type: 'separator',\n        dom: __assign({\n          tag: 'div',\n          classes: [\n            selectableClass,\n            groupHeadingClass\n          ]\n        }, innerHtml),\n        components: []\n      };\n    };\n\n    var renderToggleMenuItem = function (spec, itemResponse, providersBackstage, renderIcons) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      var getApi = function (component) {\n        return {\n          setActive: function (state) {\n            Toggling.set(component, state);\n          },\n          isActive: function () {\n            return Toggling.isOn(component);\n          },\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(component, state);\n          }\n        };\n      };\n      var structure = renderItemStructure({\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        checkMark: Optional.some(renderCheckmark(providersBackstage.icons)),\n        caret: Optional.none(),\n        shortcutContent: spec.shortcut,\n        presets: 'normal',\n        meta: spec.meta\n      }, providersBackstage, renderIcons);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        disabled: spec.disabled,\n        getApi: getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active\n        }\n      });\n    };\n\n    var autocomplete = renderAutocompleteItem;\n    var separator$3 = renderSeparatorItem;\n    var normal = renderNormalItem;\n    var nested = renderNestedItem;\n    var toggle$1 = renderToggleMenuItem;\n    var fancy = renderFancyMenuItem;\n    var card = renderCardMenuItem;\n\n    var FocusMode;\n    (function (FocusMode) {\n      FocusMode[FocusMode['ContentFocus'] = 0] = 'ContentFocus';\n      FocusMode[FocusMode['UiFocus'] = 1] = 'UiFocus';\n    }(FocusMode || (FocusMode = {})));\n    var createMenuItemFromBridge = function (item, itemResponse, backstage, menuHasIcons, isHorizontalMenu) {\n      var providersBackstage = backstage.shared.providers;\n      var parseForHorizontalMenu = function (menuitem) {\n        return !isHorizontalMenu ? menuitem : __assign(__assign({}, menuitem), {\n          shortcut: Optional.none(),\n          icon: menuitem.text.isSome() ? Optional.none() : menuitem.icon\n        });\n      };\n      switch (item.type) {\n      case 'menuitem':\n        return createMenuItem(item).fold(handleError, function (d) {\n          return Optional.some(normal(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons));\n        });\n      case 'nestedmenuitem':\n        return createNestedMenuItem(item).fold(handleError, function (d) {\n          return Optional.some(nested(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons, isHorizontalMenu));\n        });\n      case 'togglemenuitem':\n        return createToggleMenuItem(item).fold(handleError, function (d) {\n          return Optional.some(toggle$1(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons));\n        });\n      case 'separator':\n        return createSeparatorMenuItem(item).fold(handleError, function (d) {\n          return Optional.some(separator$3(d));\n        });\n      case 'fancymenuitem':\n        return createFancyMenuItem(item).fold(handleError, function (d) {\n          return fancy(parseForHorizontalMenu(d), backstage);\n        });\n      default: {\n          console.error('Unknown item in general menu', item);\n          return Optional.none();\n        }\n      }\n    };\n    var createAutocompleteItems = function (items, matchText, onItemValueHandler, columns, itemResponse, sharedBackstage, highlightOn) {\n      var renderText = columns === 1;\n      var renderIcons = !renderText || menuHasIcons(items);\n      return cat(map$2(items, function (item) {\n        switch (item.type) {\n        case 'separator':\n          return createSeparatorItem(item).fold(handleError, function (d) {\n            return Optional.some(separator$3(d));\n          });\n        case 'cardmenuitem':\n          return createCardMenuItem(item).fold(handleError, function (d) {\n            return Optional.some(card(__assign(__assign({}, d), {\n              onAction: function (api) {\n                d.onAction(api);\n                onItemValueHandler(d.value, d.meta);\n              }\n            }), itemResponse, sharedBackstage, {\n              itemBehaviours: tooltipBehaviour(d.meta, sharedBackstage),\n              cardText: {\n                matchText: matchText,\n                highlightOn: highlightOn\n              }\n            }));\n          });\n        case 'autocompleteitem':\n        default:\n          return createAutocompleterItem(item).fold(handleError, function (d) {\n            return Optional.some(autocomplete(d, matchText, renderText, 'normal', onItemValueHandler, itemResponse, sharedBackstage, renderIcons));\n          });\n        }\n      }));\n    };\n    var createPartialMenu = function (value, items, itemResponse, backstage, isHorizontalMenu) {\n      var hasIcons = menuHasIcons(items);\n      var alloyItems = cat(map$2(items, function (item) {\n        var itemHasIcon = function (i) {\n          return isHorizontalMenu ? !has$2(i, 'text') : hasIcons;\n        };\n        var createItem = function (i) {\n          return createMenuItemFromBridge(i, itemResponse, backstage, itemHasIcon(i), isHorizontalMenu);\n        };\n        if (item.type === 'nestedmenuitem' && item.getSubmenuItems().length <= 0) {\n          return createItem(__assign(__assign({}, item), { disabled: true }));\n        } else {\n          return createItem(item);\n        }\n      }));\n      var createPartial = isHorizontalMenu ? createHorizontalPartialMenuWithAlloyItems : createPartialMenuWithAlloyItems;\n      return createPartial(value, hasIcons, alloyItems, 1, 'normal');\n    };\n    var createTieredDataFrom = function (partialMenu) {\n      return tieredMenu.singleData(partialMenu.value, partialMenu);\n    };\n    var createMenuFrom = function (partialMenu, columns, focusMode, presets) {\n      var focusManager = focusMode === FocusMode.ContentFocus ? highlights() : dom$2();\n      var movement = deriveMenuMovement(columns, presets);\n      var menuMarkers = markers(presets);\n      return {\n        dom: partialMenu.dom,\n        components: partialMenu.components,\n        items: partialMenu.items,\n        value: partialMenu.value,\n        markers: {\n          selectedItem: menuMarkers.selectedItem,\n          item: menuMarkers.item\n        },\n        movement: movement,\n        fakeFocus: focusMode === FocusMode.ContentFocus,\n        focusManager: focusManager,\n        menuBehaviours: SimpleBehaviours.unnamedEvents(columns !== 'auto' ? [] : [runOnAttached(function (comp, _se) {\n            detectSize(comp, 4, menuMarkers.item).each(function (_a) {\n              var numColumns = _a.numColumns, numRows = _a.numRows;\n              Keying.setGridSize(comp, numRows, numColumns);\n            });\n          })])\n      };\n    };\n\n    var register$9 = function (editor, sharedBackstage) {\n      var activeAutocompleter = value$1();\n      var processingAction = Cell(false);\n      var autocompleter = build$1(InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-autocompleter']\n        },\n        components: [],\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissAutocompleter', [run$1(dismissRequested(), function () {\n              return cancelIfNecessary();\n            })])]),\n        lazySink: sharedBackstage.getSink\n      }));\n      var isMenuOpen = function () {\n        return InlineView.isOpen(autocompleter);\n      };\n      var isActive = function () {\n        return activeAutocompleter.get().isSome();\n      };\n      var hideIfNecessary = function () {\n        if (isActive()) {\n          InlineView.hide(autocompleter);\n        }\n      };\n      var cancelIfNecessary = function () {\n        if (isActive()) {\n          var lastElement = activeAutocompleter.get().map(function (ac) {\n            return ac.element;\n          });\n          detect(lastElement.getOr(SugarElement.fromDom(editor.selection.getNode()))).each(unwrap);\n          hideIfNecessary();\n          activeAutocompleter.clear();\n          processingAction.set(false);\n        }\n      };\n      var getAutocompleters = cached(function () {\n        return register$b(editor);\n      });\n      var getCombinedItems = function (triggerChar, matches) {\n        var columns = findMap(matches, function (m) {\n          return Optional.from(m.columns);\n        }).getOr(1);\n        return bind$3(matches, function (match) {\n          var choices = match.items;\n          return createAutocompleteItems(choices, match.matchText, function (itemValue, itemMeta) {\n            var nr = editor.selection.getRng();\n            getContext(editor.dom, nr, triggerChar).fold(function () {\n              return console.error('Lost context. Cursor probably moved');\n            }, function (_a) {\n              var range = _a.range;\n              var autocompleterApi = {\n                hide: function () {\n                  cancelIfNecessary();\n                },\n                reload: function (fetchOptions) {\n                  hideIfNecessary();\n                  load(fetchOptions);\n                }\n              };\n              processingAction.set(true);\n              match.onAction(autocompleterApi, range, itemValue, itemMeta);\n              processingAction.set(false);\n            });\n          }, columns, ItemResponse$1.BUBBLE_TO_SANDBOX, sharedBackstage, match.highlightOn);\n        });\n      };\n      var commenceIfNecessary = function (context) {\n        if (!isActive()) {\n          var wrapper = create$4(editor, context.range);\n          activeAutocompleter.set({\n            triggerChar: context.triggerChar,\n            element: wrapper,\n            matchLength: context.text.length\n          });\n          processingAction.set(false);\n        }\n      };\n      var display = function (ac, context, lookupData, items) {\n        ac.matchLength = context.text.length;\n        var columns = findMap(lookupData, function (ld) {\n          return Optional.from(ld.columns);\n        }).getOr(1);\n        InlineView.showAt(autocompleter, Menu.sketch(createMenuFrom(createPartialMenuWithAlloyItems('autocompleter-value', true, items, columns, 'normal'), columns, FocusMode.ContentFocus, 'normal')), {\n          anchor: {\n            type: 'node',\n            root: SugarElement.fromDom(editor.getBody()),\n            node: Optional.from(ac.element)\n          }\n        });\n        InlineView.getContent(autocompleter).each(Highlighting.highlightFirst);\n      };\n      var doLookup = function (fetchOptions) {\n        return activeAutocompleter.get().map(function (ac) {\n          return getContext(editor.dom, editor.selection.getRng(), ac.triggerChar).bind(function (newContext) {\n            return lookupWithContext(editor, getAutocompleters, newContext, fetchOptions);\n          });\n        }).getOrThunk(function () {\n          return lookup$2(editor, getAutocompleters);\n        });\n      };\n      var load = function (fetchOptions) {\n        doLookup(fetchOptions).fold(cancelIfNecessary, function (lookupInfo) {\n          commenceIfNecessary(lookupInfo.context);\n          lookupInfo.lookupData.then(function (lookupData) {\n            activeAutocompleter.get().map(function (ac) {\n              var context = lookupInfo.context;\n              if (ac.triggerChar === context.triggerChar) {\n                var combinedItems = getCombinedItems(context.triggerChar, lookupData);\n                if (combinedItems.length > 0) {\n                  display(ac, context, lookupData, combinedItems);\n                } else if (context.text.length - ac.matchLength >= 10) {\n                  cancelIfNecessary();\n                } else {\n                  hideIfNecessary();\n                }\n              }\n            });\n          });\n        });\n      };\n      var onKeypress = last(function (e) {\n        if (e.which === 27) {\n          return;\n        }\n        load();\n      }, 50);\n      var autocompleterUiApi = {\n        onKeypress: onKeypress,\n        cancelIfNecessary: cancelIfNecessary,\n        isMenuOpen: isMenuOpen,\n        isActive: isActive,\n        isProcessingAction: processingAction.get,\n        getView: function () {\n          return InlineView.getContent(autocompleter);\n        }\n      };\n      if (editor.hasPlugin('rtc') === false) {\n        AutocompleterEditorEvents.setup(autocompleterUiApi, editor);\n      }\n    };\n    var Autocompleter = { register: register$9 };\n\n    var closest = function (scope, selector, isRoot) {\n      return closest$1(scope, selector, isRoot).isSome();\n    };\n\n    var DelayedFunction = function (fun, delay) {\n      var ref = null;\n      var schedule = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        ref = setTimeout(function () {\n          fun.apply(null, args);\n          ref = null;\n        }, delay);\n      };\n      var cancel = function () {\n        if (ref !== null) {\n          clearTimeout(ref);\n          ref = null;\n        }\n      };\n      return {\n        cancel: cancel,\n        schedule: schedule\n      };\n    };\n\n    var SIGNIFICANT_MOVE = 5;\n    var LONGPRESS_DELAY = 400;\n    var getTouch = function (event) {\n      var raw = event.raw;\n      if (raw.touches === undefined || raw.touches.length !== 1) {\n        return Optional.none();\n      }\n      return Optional.some(raw.touches[0]);\n    };\n    var isFarEnough = function (touch, data) {\n      var distX = Math.abs(touch.clientX - data.x);\n      var distY = Math.abs(touch.clientY - data.y);\n      return distX > SIGNIFICANT_MOVE || distY > SIGNIFICANT_MOVE;\n    };\n    var monitor = function (settings) {\n      var startData = value$1();\n      var longpressFired = Cell(false);\n      var longpress$1 = DelayedFunction(function (event) {\n        settings.triggerEvent(longpress(), event);\n        longpressFired.set(true);\n      }, LONGPRESS_DELAY);\n      var handleTouchstart = function (event) {\n        getTouch(event).each(function (touch) {\n          longpress$1.cancel();\n          var data = {\n            x: touch.clientX,\n            y: touch.clientY,\n            target: event.target\n          };\n          longpress$1.schedule(event);\n          longpressFired.set(false);\n          startData.set(data);\n        });\n        return Optional.none();\n      };\n      var handleTouchmove = function (event) {\n        longpress$1.cancel();\n        getTouch(event).each(function (touch) {\n          startData.on(function (data) {\n            if (isFarEnough(touch, data)) {\n              startData.clear();\n            }\n          });\n        });\n        return Optional.none();\n      };\n      var handleTouchend = function (event) {\n        longpress$1.cancel();\n        var isSame = function (data) {\n          return eq(data.target, event.target);\n        };\n        return startData.get().filter(isSame).map(function (_data) {\n          if (longpressFired.get()) {\n            event.prevent();\n            return false;\n          } else {\n            return settings.triggerEvent(tap(), event);\n          }\n        });\n      };\n      var handlers = wrapAll([\n        {\n          key: touchstart(),\n          value: handleTouchstart\n        },\n        {\n          key: touchmove(),\n          value: handleTouchmove\n        },\n        {\n          key: touchend(),\n          value: handleTouchend\n        }\n      ]);\n      var fireIfReady = function (event, type) {\n        return get$e(handlers, type).bind(function (handler) {\n          return handler(event);\n        });\n      };\n      return { fireIfReady: fireIfReady };\n    };\n\n    var isDangerous = function (event) {\n      var keyEv = event.raw;\n      return keyEv.which === BACKSPACE[0] && !contains$2([\n        'input',\n        'textarea'\n      ], name$2(event.target)) && !closest(event.target, '[contenteditable=\"true\"]');\n    };\n    var isFirefox = function () {\n      return detect$1().browser.isFirefox();\n    };\n    var bindFocus = function (container, handler) {\n      if (isFirefox()) {\n        return capture(container, 'focus', handler);\n      } else {\n        return bind(container, 'focusin', handler);\n      }\n    };\n    var bindBlur = function (container, handler) {\n      if (isFirefox()) {\n        return capture(container, 'blur', handler);\n      } else {\n        return bind(container, 'focusout', handler);\n      }\n    };\n    var setup$d = function (container, rawSettings) {\n      var settings = __assign({ stopBackspace: true }, rawSettings);\n      var pointerEvents = [\n        'touchstart',\n        'touchmove',\n        'touchend',\n        'touchcancel',\n        'gesturestart',\n        'mousedown',\n        'mouseup',\n        'mouseover',\n        'mousemove',\n        'mouseout',\n        'click'\n      ];\n      var tapEvent = monitor(settings);\n      var simpleEvents = map$2(pointerEvents.concat([\n        'selectstart',\n        'input',\n        'contextmenu',\n        'change',\n        'transitionend',\n        'transitioncancel',\n        'drag',\n        'dragstart',\n        'dragend',\n        'dragenter',\n        'dragleave',\n        'dragover',\n        'drop',\n        'keyup'\n      ]), function (type) {\n        return bind(container, type, function (event) {\n          tapEvent.fireIfReady(event, type).each(function (tapStopped) {\n            if (tapStopped) {\n              event.kill();\n            }\n          });\n          var stopped = settings.triggerEvent(type, event);\n          if (stopped) {\n            event.kill();\n          }\n        });\n      });\n      var pasteTimeout = value$1();\n      var onPaste = bind(container, 'paste', function (event) {\n        tapEvent.fireIfReady(event, 'paste').each(function (tapStopped) {\n          if (tapStopped) {\n            event.kill();\n          }\n        });\n        var stopped = settings.triggerEvent('paste', event);\n        if (stopped) {\n          event.kill();\n        }\n        pasteTimeout.set(setTimeout(function () {\n          settings.triggerEvent(postPaste(), event);\n        }, 0));\n      });\n      var onKeydown = bind(container, 'keydown', function (event) {\n        var stopped = settings.triggerEvent('keydown', event);\n        if (stopped) {\n          event.kill();\n        } else if (settings.stopBackspace && isDangerous(event)) {\n          event.prevent();\n        }\n      });\n      var onFocusIn = bindFocus(container, function (event) {\n        var stopped = settings.triggerEvent('focusin', event);\n        if (stopped) {\n          event.kill();\n        }\n      });\n      var focusoutTimeout = value$1();\n      var onFocusOut = bindBlur(container, function (event) {\n        var stopped = settings.triggerEvent('focusout', event);\n        if (stopped) {\n          event.kill();\n        }\n        focusoutTimeout.set(setTimeout(function () {\n          settings.triggerEvent(postBlur(), event);\n        }, 0));\n      });\n      var unbind = function () {\n        each$1(simpleEvents, function (e) {\n          e.unbind();\n        });\n        onKeydown.unbind();\n        onFocusIn.unbind();\n        onFocusOut.unbind();\n        onPaste.unbind();\n        pasteTimeout.on(clearTimeout);\n        focusoutTimeout.on(clearTimeout);\n      };\n      return { unbind: unbind };\n    };\n\n    var derive = function (rawEvent, rawTarget) {\n      var source = get$e(rawEvent, 'target').getOr(rawTarget);\n      return Cell(source);\n    };\n\n    var fromSource = function (event, source) {\n      var stopper = Cell(false);\n      var cutter = Cell(false);\n      var stop = function () {\n        stopper.set(true);\n      };\n      var cut = function () {\n        cutter.set(true);\n      };\n      return {\n        stop: stop,\n        cut: cut,\n        isStopped: stopper.get,\n        isCut: cutter.get,\n        event: event,\n        setSource: source.set,\n        getSource: source.get\n      };\n    };\n    var fromExternal = function (event) {\n      var stopper = Cell(false);\n      var stop = function () {\n        stopper.set(true);\n      };\n      return {\n        stop: stop,\n        cut: noop,\n        isStopped: stopper.get,\n        isCut: never,\n        event: event,\n        setSource: die('Cannot set source of a broadcasted event'),\n        getSource: die('Cannot get source of a broadcasted event')\n      };\n    };\n\n    var adt$1 = Adt.generate([\n      { stopped: [] },\n      { resume: ['element'] },\n      { complete: [] }\n    ]);\n    var doTriggerHandler = function (lookup, eventType, rawEvent, target, source, logger) {\n      var handler = lookup(eventType, target);\n      var simulatedEvent = fromSource(rawEvent, source);\n      return handler.fold(function () {\n        logger.logEventNoHandlers(eventType, target);\n        return adt$1.complete();\n      }, function (handlerInfo) {\n        var descHandler = handlerInfo.descHandler;\n        var eventHandler = getCurried(descHandler);\n        eventHandler(simulatedEvent);\n        if (simulatedEvent.isStopped()) {\n          logger.logEventStopped(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.stopped();\n        } else if (simulatedEvent.isCut()) {\n          logger.logEventCut(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.complete();\n        } else {\n          return parent(handlerInfo.element).fold(function () {\n            logger.logNoParent(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.complete();\n          }, function (parent) {\n            logger.logEventResponse(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.resume(parent);\n          });\n        }\n      });\n    };\n    var doTriggerOnUntilStopped = function (lookup, eventType, rawEvent, rawTarget, source, logger) {\n      return doTriggerHandler(lookup, eventType, rawEvent, rawTarget, source, logger).fold(always, function (parent) {\n        return doTriggerOnUntilStopped(lookup, eventType, rawEvent, parent, source, logger);\n      }, never);\n    };\n    var triggerHandler = function (lookup, eventType, rawEvent, target, logger) {\n      var source = derive(rawEvent, target);\n      return doTriggerHandler(lookup, eventType, rawEvent, target, source, logger);\n    };\n    var broadcast = function (listeners, rawEvent, _logger) {\n      var simulatedEvent = fromExternal(rawEvent);\n      each$1(listeners, function (listener) {\n        var descHandler = listener.descHandler;\n        var handler = getCurried(descHandler);\n        handler(simulatedEvent);\n      });\n      return simulatedEvent.isStopped();\n    };\n    var triggerUntilStopped = function (lookup, eventType, rawEvent, logger) {\n      return triggerOnUntilStopped(lookup, eventType, rawEvent, rawEvent.target, logger);\n    };\n    var triggerOnUntilStopped = function (lookup, eventType, rawEvent, rawTarget, logger) {\n      var source = derive(rawEvent, rawTarget);\n      return doTriggerOnUntilStopped(lookup, eventType, rawEvent, rawTarget, source, logger);\n    };\n\n    var eventHandler = function (element, descHandler) {\n      return {\n        element: element,\n        descHandler: descHandler\n      };\n    };\n    var broadcastHandler = function (id, handler) {\n      return {\n        id: id,\n        descHandler: handler\n      };\n    };\n    var EventRegistry = function () {\n      var registry = {};\n      var registerId = function (extraArgs, id, events) {\n        each(events, function (v, k) {\n          var handlers = registry[k] !== undefined ? registry[k] : {};\n          handlers[id] = curryArgs(v, extraArgs);\n          registry[k] = handlers;\n        });\n      };\n      var findHandler = function (handlers, elem) {\n        return read$1(elem).bind(function (id) {\n          return get$e(handlers, id);\n        }).map(function (descHandler) {\n          return eventHandler(elem, descHandler);\n        });\n      };\n      var filterByType = function (type) {\n        return get$e(registry, type).map(function (handlers) {\n          return mapToArray(handlers, function (f, id) {\n            return broadcastHandler(id, f);\n          });\n        }).getOr([]);\n      };\n      var find = function (isAboveRoot, type, target) {\n        return get$e(registry, type).bind(function (handlers) {\n          return closest$4(target, function (elem) {\n            return findHandler(handlers, elem);\n          }, isAboveRoot);\n        });\n      };\n      var unregisterId = function (id) {\n        each(registry, function (handlersById, _eventName) {\n          if (has$2(handlersById, id)) {\n            delete handlersById[id];\n          }\n        });\n      };\n      return {\n        registerId: registerId,\n        unregisterId: unregisterId,\n        filterByType: filterByType,\n        find: find\n      };\n    };\n\n    var Registry = function () {\n      var events = EventRegistry();\n      var components = {};\n      var readOrTag = function (component) {\n        var elem = component.element;\n        return read$1(elem).getOrThunk(function () {\n          return write('uid-', component.element);\n        });\n      };\n      var failOnDuplicate = function (component, tagId) {\n        var conflict = components[tagId];\n        if (conflict === component) {\n          unregister(component);\n        } else {\n          throw new Error('The tagId \"' + tagId + '\" is already used by: ' + element(conflict.element) + '\\nCannot use it for: ' + element(component.element) + '\\n' + 'The conflicting element is' + (inBody(conflict.element) ? ' ' : ' not ') + 'already in the DOM');\n        }\n      };\n      var register = function (component) {\n        var tagId = readOrTag(component);\n        if (hasNonNullableKey(components, tagId)) {\n          failOnDuplicate(component, tagId);\n        }\n        var extraArgs = [component];\n        events.registerId(extraArgs, tagId, component.events);\n        components[tagId] = component;\n      };\n      var unregister = function (component) {\n        read$1(component.element).each(function (tagId) {\n          delete components[tagId];\n          events.unregisterId(tagId);\n        });\n      };\n      var filter = function (type) {\n        return events.filterByType(type);\n      };\n      var find = function (isAboveRoot, type, target) {\n        return events.find(isAboveRoot, type, target);\n      };\n      var getById = function (id) {\n        return get$e(components, id);\n      };\n      return {\n        find: find,\n        filter: filter,\n        register: register,\n        unregister: unregister,\n        getById: getById\n      };\n    };\n\n    var factory$j = function (detail) {\n      var _a = detail.dom, attributes = _a.attributes, domWithoutAttributes = __rest(_a, ['attributes']);\n      return {\n        uid: detail.uid,\n        dom: __assign({\n          tag: 'div',\n          attributes: __assign({ role: 'presentation' }, attributes)\n        }, domWithoutAttributes),\n        components: detail.components,\n        behaviours: get$2(detail.containerBehaviours),\n        events: detail.events,\n        domModification: detail.domModification,\n        eventOrder: detail.eventOrder\n      };\n    };\n    var Container = single({\n      name: 'Container',\n      factory: factory$j,\n      configFields: [\n        defaulted('components', []),\n        field('containerBehaviours', []),\n        defaulted('events', {}),\n        defaulted('domModification', {}),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    var takeover = function (root) {\n      var isAboveRoot = function (el) {\n        return parent(root.element).fold(always, function (parent) {\n          return eq(el, parent);\n        });\n      };\n      var registry = Registry();\n      var lookup = function (eventName, target) {\n        return registry.find(isAboveRoot, eventName, target);\n      };\n      var domEvents = setup$d(root.element, {\n        triggerEvent: function (eventName, event) {\n          return monitorEvent(eventName, event.target, function (logger) {\n            return triggerUntilStopped(lookup, eventName, event, logger);\n          });\n        }\n      });\n      var systemApi = {\n        debugInfo: constant$1('real'),\n        triggerEvent: function (eventName, target, data) {\n          monitorEvent(eventName, target, function (logger) {\n            return triggerOnUntilStopped(lookup, eventName, data, target, logger);\n          });\n        },\n        triggerFocus: function (target, originator) {\n          read$1(target).fold(function () {\n            focus$3(target);\n          }, function (_alloyId) {\n            monitorEvent(focus$4(), target, function (logger) {\n              triggerHandler(lookup, focus$4(), {\n                originator: originator,\n                kill: noop,\n                prevent: noop,\n                target: target\n              }, target, logger);\n              return false;\n            });\n          });\n        },\n        triggerEscape: function (comp, simulatedEvent) {\n          systemApi.triggerEvent('keydown', comp.element, simulatedEvent.event);\n        },\n        getByUid: function (uid) {\n          return getByUid(uid);\n        },\n        getByDom: function (elem) {\n          return getByDom(elem);\n        },\n        build: build$1,\n        addToGui: function (c) {\n          add(c);\n        },\n        removeFromGui: function (c) {\n          remove(c);\n        },\n        addToWorld: function (c) {\n          addToWorld(c);\n        },\n        removeFromWorld: function (c) {\n          removeFromWorld(c);\n        },\n        broadcast: function (message) {\n          broadcast$1(message);\n        },\n        broadcastOn: function (channels, message) {\n          broadcastOn(channels, message);\n        },\n        broadcastEvent: function (eventName, event) {\n          broadcastEvent(eventName, event);\n        },\n        isConnected: always\n      };\n      var addToWorld = function (component) {\n        component.connect(systemApi);\n        if (!isText$1(component.element)) {\n          registry.register(component);\n          each$1(component.components(), addToWorld);\n          systemApi.triggerEvent(systemInit(), component.element, { target: component.element });\n        }\n      };\n      var removeFromWorld = function (component) {\n        if (!isText$1(component.element)) {\n          each$1(component.components(), removeFromWorld);\n          registry.unregister(component);\n        }\n        component.disconnect();\n      };\n      var add = function (component) {\n        attach(root, component);\n      };\n      var remove = function (component) {\n        detach(component);\n      };\n      var destroy = function () {\n        domEvents.unbind();\n        remove$5(root.element);\n      };\n      var broadcastData = function (data) {\n        var receivers = registry.filter(receive());\n        each$1(receivers, function (receiver) {\n          var descHandler = receiver.descHandler;\n          var handler = getCurried(descHandler);\n          handler(data);\n        });\n      };\n      var broadcast$1 = function (message) {\n        broadcastData({\n          universal: true,\n          data: message\n        });\n      };\n      var broadcastOn = function (channels, message) {\n        broadcastData({\n          universal: false,\n          channels: channels,\n          data: message\n        });\n      };\n      var broadcastEvent = function (eventName, event) {\n        var listeners = registry.filter(eventName);\n        return broadcast(listeners, event);\n      };\n      var getByUid = function (uid) {\n        return registry.getById(uid).fold(function () {\n          return Result.error(new Error('Could not find component with uid: \"' + uid + '\" in system.'));\n        }, Result.value);\n      };\n      var getByDom = function (elem) {\n        var uid = read$1(elem).getOr('not found');\n        return getByUid(uid);\n      };\n      addToWorld(root);\n      return {\n        root: root,\n        element: root.element,\n        destroy: destroy,\n        add: add,\n        remove: remove,\n        getByUid: getByUid,\n        getByDom: getByDom,\n        addToWorld: addToWorld,\n        removeFromWorld: removeFromWorld,\n        broadcast: broadcast$1,\n        broadcastOn: broadcastOn,\n        broadcastEvent: broadcastEvent\n      };\n    };\n\n    var renderBar = function (spec, backstage) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-bar',\n            'tox-form__controls-h-stack'\n          ]\n        },\n        components: map$2(spec.items, backstage.interpreter)\n      };\n    };\n\n    var schema$l = constant$1([\n      defaulted('prefix', 'form-field'),\n      field('fieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    var parts$e = constant$1([\n      optional({\n        schema: [required$1('dom')],\n        name: 'label'\n      }),\n      optional({\n        factory: {\n          sketch: function (spec) {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      required({\n        factory: {\n          sketch: function (spec) {\n            var excludeFactory = exclude(spec, ['factory']);\n            return spec.factory.sketch(excludeFactory);\n          }\n        },\n        schema: [required$1('factory')],\n        name: 'field'\n      })\n    ]);\n\n    var factory$i = function (detail, components, _spec, _externals) {\n      var behaviours = augment(detail.fieldBehaviours, [\n        Composing.config({\n          find: function (container) {\n            return getPart(container, detail, 'field');\n          }\n        }),\n        Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: function (field) {\n              return Composing.getCurrent(field).bind(Representing.getValue);\n            },\n            setValue: function (field, value) {\n              Composing.getCurrent(field).each(function (current) {\n                Representing.setValue(current, value);\n              });\n            }\n          }\n        })\n      ]);\n      var events = derive$2([runOnAttached(function (component, _simulatedEvent) {\n          var ps = getParts(component, detail, [\n            'label',\n            'field',\n            'aria-descriptor'\n          ]);\n          ps.field().each(function (field) {\n            var id = generate$6(detail.prefix);\n            ps.label().each(function (label) {\n              set$8(label.element, 'for', id);\n              set$8(field.element, 'id', id);\n            });\n            ps['aria-descriptor']().each(function (descriptor) {\n              var descriptorId = generate$6(detail.prefix);\n              set$8(descriptor.element, 'id', descriptorId);\n              set$8(field.element, 'aria-describedby', descriptorId);\n            });\n          });\n        })]);\n      var apis = {\n        getField: function (container) {\n          return getPart(container, detail, 'field');\n        },\n        getLabel: function (container) {\n          return getPart(container, detail, 'label');\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: behaviours,\n        events: events,\n        apis: apis\n      };\n    };\n    var FormField = composite({\n      name: 'FormField',\n      configFields: schema$l(),\n      partFields: parts$e(),\n      factory: factory$i,\n      apis: {\n        getField: function (apis, comp) {\n          return apis.getField(comp);\n        },\n        getLabel: function (apis, comp) {\n          return apis.getLabel(comp);\n        }\n      }\n    });\n\n    var exhibit$2 = function (base, tabConfig) {\n      return nu$7({\n        attributes: wrapAll([{\n            key: tabConfig.tabAttr,\n            value: 'true'\n          }])\n      });\n    };\n\n    var ActiveTabstopping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$2\n    });\n\n    var TabstopSchema = [defaulted('tabAttr', 'data-alloy-tabstop')];\n\n    var Tabstopping = create$7({\n      fields: TabstopSchema,\n      name: 'tabstopping',\n      active: ActiveTabstopping\n    });\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.html.Entities');\n\n    var renderFormFieldWith = function (pLabel, pField, extraClasses, extraBehaviours) {\n      var spec = renderFormFieldSpecWith(pLabel, pField, extraClasses, extraBehaviours);\n      return FormField.sketch(spec);\n    };\n    var renderFormField = function (pLabel, pField) {\n      return renderFormFieldWith(pLabel, pField, [], []);\n    };\n    var renderFormFieldSpecWith = function (pLabel, pField, extraClasses, extraBehaviours) {\n      return {\n        dom: renderFormFieldDomWith(extraClasses),\n        components: pLabel.toArray().concat([pField]),\n        fieldBehaviours: derive$1(extraBehaviours)\n      };\n    };\n    var renderFormFieldDom = function () {\n      return renderFormFieldDomWith([]);\n    };\n    var renderFormFieldDomWith = function (extraClasses) {\n      return {\n        tag: 'div',\n        classes: ['tox-form__group'].concat(extraClasses)\n      };\n    };\n    var renderLabel$2 = function (label, providersBackstage) {\n      return FormField.parts.label({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label'],\n          innerHtml: providersBackstage.translate(label)\n        }\n      });\n    };\n\n    var formChangeEvent = generate$6('form-component-change');\n    var formCloseEvent = generate$6('form-close');\n    var formCancelEvent = generate$6('form-cancel');\n    var formActionEvent = generate$6('form-action');\n    var formSubmitEvent = generate$6('form-submit');\n    var formBlockEvent = generate$6('form-block');\n    var formUnblockEvent = generate$6('form-unblock');\n    var formTabChangeEvent = generate$6('form-tabchange');\n    var formResizeEvent = generate$6('form-resize');\n\n    var renderCollection = function (spec, providersBackstage) {\n      var _a;\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var runOnItem = function (f) {\n        return function (comp, se) {\n          closest$1(se.event.target, '[data-collection-item-value]').each(function (target) {\n            f(comp, se, target, get$d(target, 'data-collection-item-value'));\n          });\n        };\n      };\n      var setContents = function (comp, items) {\n        var htmlLines = map$2(items, function (item) {\n          var itemText = global$e.translate(item.text);\n          var textContent = spec.columns === 1 ? '<div class=\"tox-collection__item-label\">' + itemText + '</div>' : '';\n          var iconContent = '<div class=\"tox-collection__item-icon\">' + item.icon + '</div>';\n          var mapItemName = {\n            '_': ' ',\n            ' - ': ' ',\n            '-': ' '\n          };\n          var ariaLabel = itemText.replace(/\\_| \\- |\\-/g, function (match) {\n            return mapItemName[match];\n          });\n          var disabledClass = providersBackstage.isDisabled() ? ' tox-collection__item--state-disabled' : '';\n          return '<div class=\"tox-collection__item' + disabledClass + '\" tabindex=\"-1\" data-collection-item-value=\"' + global$7.encodeAllRaw(item.value) + '\" title=\"' + ariaLabel + '\" aria-label=\"' + ariaLabel + '\">' + iconContent + textContent + '</div>';\n        });\n        var chunks = spec.columns !== 'auto' && spec.columns > 1 ? chunk$1(htmlLines, spec.columns) : [htmlLines];\n        var html = map$2(chunks, function (ch) {\n          return '<div class=\"tox-collection__group\">' + ch.join('') + '</div>';\n        });\n        set$5(comp.element, html.join(''));\n      };\n      var onClick = runOnItem(function (comp, se, tgt, itemValue) {\n        se.stop();\n        if (!providersBackstage.isDisabled()) {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }\n      });\n      var collectionEvents = [\n        run$1(mouseover(), runOnItem(function (comp, se, tgt) {\n          focus$3(tgt);\n        })),\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        run$1(focusin(), runOnItem(function (comp, se, tgt) {\n          descendant(comp.element, '.' + activeClass).each(function (currentActive) {\n            remove$2(currentActive, activeClass);\n          });\n          add$2(tgt, activeClass);\n        })),\n        run$1(focusout(), runOnItem(function (comp) {\n          descendant(comp.element, '.' + activeClass).each(function (currentActive) {\n            remove$2(currentActive, activeClass);\n          });\n        })),\n        runOnExecute$1(runOnItem(function (comp, se, tgt, itemValue) {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }))\n      ];\n      var iterCollectionItems = function (comp, applyAttributes) {\n        return map$2(descendants(comp.element, '.tox-collection__item'), applyAttributes);\n      };\n      var pField = FormField.parts.field({\n        dom: {\n          tag: 'div',\n          classes: ['tox-collection'].concat(spec.columns !== 1 ? ['tox-collection--grid'] : ['tox-collection--list'])\n        },\n        components: [],\n        factory: { sketch: identity$1 },\n        behaviours: derive$1([\n          Disabling.config({\n            disabled: providersBackstage.isDisabled,\n            onDisabled: function (comp) {\n              iterCollectionItems(comp, function (childElm) {\n                add$2(childElm, 'tox-collection__item--state-disabled');\n                set$8(childElm, 'aria-disabled', true);\n              });\n            },\n            onEnabled: function (comp) {\n              iterCollectionItems(comp, function (childElm) {\n                remove$2(childElm, 'tox-collection__item--state-disabled');\n                remove$7(childElm, 'aria-disabled');\n              });\n            }\n          }),\n          receivingConfig(),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: []\n            },\n            onSetValue: function (comp, items) {\n              setContents(comp, items);\n              if (spec.columns === 'auto') {\n                detectSize(comp, 5, 'tox-collection__item').each(function (_a) {\n                  var numRows = _a.numRows, numColumns = _a.numColumns;\n                  Keying.setGridSize(comp, numRows, numColumns);\n                });\n              }\n              emit(comp, formResizeEvent);\n            }\n          }),\n          Tabstopping.config({}),\n          Keying.config(deriveCollectionMovement(spec.columns, 'normal')),\n          config('collection-events', collectionEvents)\n        ]),\n        eventOrder: (_a = {}, _a[execute$5()] = [\n          'disabling',\n          'alloy.base.behaviour',\n          'collection-events'\n        ], _a)\n      });\n      var extraClasses = ['tox-form__group--collection'];\n      return renderFormFieldWith(pLabel, pField, extraClasses, []);\n    };\n\n    var schema$k = constant$1([\n      option('data'),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('tag', 'input'),\n      defaulted('inputClasses', []),\n      onHandler('onSetValue'),\n      defaulted('styles', {}),\n      defaulted('eventOrder', {}),\n      field('inputBehaviours', [\n        Representing,\n        Focusing\n      ]),\n      defaulted('selectOnFocus', true)\n    ]);\n    var focusBehaviours = function (detail) {\n      return derive$1([Focusing.config({\n          onFocus: !detail.selectOnFocus ? noop : function (component) {\n            var input = component.element;\n            var value = get$5(input);\n            input.dom.setSelectionRange(0, value.length);\n          }\n        })]);\n    };\n    var behaviours = function (detail) {\n      return __assign(__assign({}, focusBehaviours(detail)), augment(detail.inputBehaviours, [Representing.config({\n          store: __assign(__assign({ mode: 'manual' }, detail.data.map(function (data) {\n            return { initialValue: data };\n          }).getOr({})), {\n            getValue: function (input) {\n              return get$5(input.element);\n            },\n            setValue: function (input, data) {\n              var current = get$5(input.element);\n              if (current !== data) {\n                set$4(input.element, data);\n              }\n            }\n          }),\n          onSetValue: detail.onSetValue\n        })]));\n    };\n    var dom = function (detail) {\n      return {\n        tag: detail.tag,\n        attributes: __assign({ type: 'text' }, detail.inputAttributes),\n        styles: detail.inputStyles,\n        classes: detail.inputClasses\n      };\n    };\n\n    var factory$h = function (detail, _spec) {\n      return {\n        uid: detail.uid,\n        dom: dom(detail),\n        components: [],\n        behaviours: behaviours(detail),\n        eventOrder: detail.eventOrder\n      };\n    };\n    var Input = single({\n      name: 'Input',\n      configFields: schema$k(),\n      factory: factory$h\n    });\n\n    var exports$1 = {}, module = { exports: exports$1 };\n    (function (define, exports, module, require) {\n      (function (global, factory) {\n        typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.EphoxContactWrapper = factory());\n      }(this, function () {\n        var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n        var promise = { exports: {} };\n        (function (module) {\n          (function (root) {\n            var setTimeoutFunc = setTimeout;\n            function noop() {\n            }\n            function bind(fn, thisArg) {\n              return function () {\n                fn.apply(thisArg, arguments);\n              };\n            }\n            function Promise(fn) {\n              if (typeof this !== 'object')\n                throw new TypeError('Promises must be constructed via new');\n              if (typeof fn !== 'function')\n                throw new TypeError('not a function');\n              this._state = 0;\n              this._handled = false;\n              this._value = undefined;\n              this._deferreds = [];\n              doResolve(fn, this);\n            }\n            function handle(self, deferred) {\n              while (self._state === 3) {\n                self = self._value;\n              }\n              if (self._state === 0) {\n                self._deferreds.push(deferred);\n                return;\n              }\n              self._handled = true;\n              Promise._immediateFn(function () {\n                var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n                if (cb === null) {\n                  (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n                  return;\n                }\n                var ret;\n                try {\n                  ret = cb(self._value);\n                } catch (e) {\n                  reject(deferred.promise, e);\n                  return;\n                }\n                resolve(deferred.promise, ret);\n              });\n            }\n            function resolve(self, newValue) {\n              try {\n                if (newValue === self)\n                  throw new TypeError('A promise cannot be resolved with itself.');\n                if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n                  var then = newValue.then;\n                  if (newValue instanceof Promise) {\n                    self._state = 3;\n                    self._value = newValue;\n                    finale(self);\n                    return;\n                  } else if (typeof then === 'function') {\n                    doResolve(bind(then, newValue), self);\n                    return;\n                  }\n                }\n                self._state = 1;\n                self._value = newValue;\n                finale(self);\n              } catch (e) {\n                reject(self, e);\n              }\n            }\n            function reject(self, newValue) {\n              self._state = 2;\n              self._value = newValue;\n              finale(self);\n            }\n            function finale(self) {\n              if (self._state === 2 && self._deferreds.length === 0) {\n                Promise._immediateFn(function () {\n                  if (!self._handled) {\n                    Promise._unhandledRejectionFn(self._value);\n                  }\n                });\n              }\n              for (var i = 0, len = self._deferreds.length; i < len; i++) {\n                handle(self, self._deferreds[i]);\n              }\n              self._deferreds = null;\n            }\n            function Handler(onFulfilled, onRejected, promise) {\n              this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n              this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n              this.promise = promise;\n            }\n            function doResolve(fn, self) {\n              var done = false;\n              try {\n                fn(function (value) {\n                  if (done)\n                    return;\n                  done = true;\n                  resolve(self, value);\n                }, function (reason) {\n                  if (done)\n                    return;\n                  done = true;\n                  reject(self, reason);\n                });\n              } catch (ex) {\n                if (done)\n                  return;\n                done = true;\n                reject(self, ex);\n              }\n            }\n            Promise.prototype['catch'] = function (onRejected) {\n              return this.then(null, onRejected);\n            };\n            Promise.prototype.then = function (onFulfilled, onRejected) {\n              var prom = new this.constructor(noop);\n              handle(this, new Handler(onFulfilled, onRejected, prom));\n              return prom;\n            };\n            Promise.all = function (arr) {\n              var args = Array.prototype.slice.call(arr);\n              return new Promise(function (resolve, reject) {\n                if (args.length === 0)\n                  return resolve([]);\n                var remaining = args.length;\n                function res(i, val) {\n                  try {\n                    if (val && (typeof val === 'object' || typeof val === 'function')) {\n                      var then = val.then;\n                      if (typeof then === 'function') {\n                        then.call(val, function (val) {\n                          res(i, val);\n                        }, reject);\n                        return;\n                      }\n                    }\n                    args[i] = val;\n                    if (--remaining === 0) {\n                      resolve(args);\n                    }\n                  } catch (ex) {\n                    reject(ex);\n                  }\n                }\n                for (var i = 0; i < args.length; i++) {\n                  res(i, args[i]);\n                }\n              });\n            };\n            Promise.resolve = function (value) {\n              if (value && typeof value === 'object' && value.constructor === Promise) {\n                return value;\n              }\n              return new Promise(function (resolve) {\n                resolve(value);\n              });\n            };\n            Promise.reject = function (value) {\n              return new Promise(function (resolve, reject) {\n                reject(value);\n              });\n            };\n            Promise.race = function (values) {\n              return new Promise(function (resolve, reject) {\n                for (var i = 0, len = values.length; i < len; i++) {\n                  values[i].then(resolve, reject);\n                }\n              });\n            };\n            Promise._immediateFn = typeof setImmediate === 'function' ? function (fn) {\n              setImmediate(fn);\n            } : function (fn) {\n              setTimeoutFunc(fn, 0);\n            };\n            Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n              if (typeof console !== 'undefined' && console) {\n                console.warn('Possible Unhandled Promise Rejection:', err);\n              }\n            };\n            Promise._setImmediateFn = function _setImmediateFn(fn) {\n              Promise._immediateFn = fn;\n            };\n            Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n              Promise._unhandledRejectionFn = fn;\n            };\n            if (module.exports) {\n              module.exports = Promise;\n            } else if (!root.Promise) {\n              root.Promise = Promise;\n            }\n          }(commonjsGlobal));\n        }(promise));\n        var promisePolyfill = promise.exports;\n        var Global = function () {\n          if (typeof window !== 'undefined') {\n            return window;\n          } else {\n            return Function('return this;')();\n          }\n        }();\n        var promisePolyfill_1 = { boltExport: Global.Promise || promisePolyfill };\n        return promisePolyfill_1;\n      }));\n    }(undefined, exports$1, module));\n    var Promise$1 = module.exports.boltExport;\n\n    var nu$3 = function (baseFn) {\n      var data = Optional.none();\n      var callbacks = [];\n      var map = function (f) {\n        return nu$3(function (nCallback) {\n          get(function (data) {\n            nCallback(f(data));\n          });\n        });\n      };\n      var get = function (nCallback) {\n        if (isReady()) {\n          call(nCallback);\n        } else {\n          callbacks.push(nCallback);\n        }\n      };\n      var set = function (x) {\n        if (!isReady()) {\n          data = Optional.some(x);\n          run(callbacks);\n          callbacks = [];\n        }\n      };\n      var isReady = function () {\n        return data.isSome();\n      };\n      var run = function (cbs) {\n        each$1(cbs, call);\n      };\n      var call = function (cb) {\n        data.each(function (x) {\n          setTimeout(function () {\n            cb(x);\n          }, 0);\n        });\n      };\n      baseFn(set);\n      return {\n        get: get,\n        map: map,\n        isReady: isReady\n      };\n    };\n    var pure$1 = function (a) {\n      return nu$3(function (callback) {\n        callback(a);\n      });\n    };\n    var LazyValue = {\n      nu: nu$3,\n      pure: pure$1\n    };\n\n    var errorReporter = function (err) {\n      setTimeout(function () {\n        throw err;\n      }, 0);\n    };\n    var make$5 = function (run) {\n      var get = function (callback) {\n        run().then(callback, errorReporter);\n      };\n      var map = function (fab) {\n        return make$5(function () {\n          return run().then(fab);\n        });\n      };\n      var bind = function (aFutureB) {\n        return make$5(function () {\n          return run().then(function (v) {\n            return aFutureB(v).toPromise();\n          });\n        });\n      };\n      var anonBind = function (futureB) {\n        return make$5(function () {\n          return run().then(function () {\n            return futureB.toPromise();\n          });\n        });\n      };\n      var toLazy = function () {\n        return LazyValue.nu(get);\n      };\n      var toCached = function () {\n        var cache = null;\n        return make$5(function () {\n          if (cache === null) {\n            cache = run();\n          }\n          return cache;\n        });\n      };\n      var toPromise = run;\n      return {\n        map: map,\n        bind: bind,\n        anonBind: anonBind,\n        toLazy: toLazy,\n        toCached: toCached,\n        toPromise: toPromise,\n        get: get\n      };\n    };\n    var nu$2 = function (baseFn) {\n      return make$5(function () {\n        return new Promise$1(baseFn);\n      });\n    };\n    var pure = function (a) {\n      return make$5(function () {\n        return Promise$1.resolve(a);\n      });\n    };\n    var Future = {\n      nu: nu$2,\n      pure: pure\n    };\n\n    var ariaElements = [\n      'input',\n      'textarea'\n    ];\n    var isAriaElement = function (elem) {\n      var name = name$2(elem);\n      return contains$2(ariaElements, name);\n    };\n    var markValid = function (component, invalidConfig) {\n      var elem = invalidConfig.getRoot(component).getOr(component.element);\n      remove$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(function (notifyInfo) {\n        if (isAriaElement(component.element)) {\n          set$8(component.element, 'aria-invalid', false);\n        }\n        notifyInfo.getContainer(component).each(function (container) {\n          set$5(container, notifyInfo.validHtml);\n        });\n        notifyInfo.onValid(component);\n      });\n    };\n    var markInvalid = function (component, invalidConfig, invalidState, text) {\n      var elem = invalidConfig.getRoot(component).getOr(component.element);\n      add$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(function (notifyInfo) {\n        if (isAriaElement(component.element)) {\n          set$8(component.element, 'aria-invalid', true);\n        }\n        notifyInfo.getContainer(component).each(function (container) {\n          set$5(container, text);\n        });\n        notifyInfo.onInvalid(component, text);\n      });\n    };\n    var query = function (component, invalidConfig, _invalidState) {\n      return invalidConfig.validator.fold(function () {\n        return Future.pure(Result.value(true));\n      }, function (validatorInfo) {\n        return validatorInfo.validate(component);\n      });\n    };\n    var run = function (component, invalidConfig, invalidState) {\n      invalidConfig.notify.each(function (notifyInfo) {\n        notifyInfo.onValidate(component);\n      });\n      return query(component, invalidConfig).map(function (valid) {\n        if (component.getSystem().isConnected()) {\n          return valid.fold(function (err) {\n            markInvalid(component, invalidConfig, invalidState, err);\n            return Result.error(err);\n          }, function (v) {\n            markValid(component, invalidConfig);\n            return Result.value(v);\n          });\n        } else {\n          return Result.error('No longer in system');\n        }\n      });\n    };\n    var isInvalid = function (component, invalidConfig) {\n      var elem = invalidConfig.getRoot(component).getOr(component.element);\n      return has(elem, invalidConfig.invalidClass);\n    };\n\n    var InvalidateApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        markValid: markValid,\n        markInvalid: markInvalid,\n        query: query,\n        run: run,\n        isInvalid: isInvalid\n    });\n\n    var events$8 = function (invalidConfig, invalidState) {\n      return invalidConfig.validator.map(function (validatorInfo) {\n        return derive$2([run$1(validatorInfo.onEvent, function (component) {\n            run(component, invalidConfig, invalidState).get(identity$1);\n          })].concat(validatorInfo.validateOnLoad ? [runOnAttached(function (component) {\n            run(component, invalidConfig, invalidState).get(noop);\n          })] : []));\n      }).getOr({});\n    };\n\n    var ActiveInvalidate = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$8\n    });\n\n    var InvalidateSchema = [\n      required$1('invalidClass'),\n      defaulted('getRoot', Optional.none),\n      optionObjOf('notify', [\n        defaulted('aria', 'alert'),\n        defaulted('getContainer', Optional.none),\n        defaulted('validHtml', ''),\n        onHandler('onValid'),\n        onHandler('onInvalid'),\n        onHandler('onValidate')\n      ]),\n      optionObjOf('validator', [\n        required$1('validate'),\n        defaulted('onEvent', 'input'),\n        defaulted('validateOnLoad', true)\n      ])\n    ];\n\n    var Invalidating = create$7({\n      fields: InvalidateSchema,\n      name: 'invalidating',\n      active: ActiveInvalidate,\n      apis: InvalidateApis,\n      extra: {\n        validation: function (validator) {\n          return function (component) {\n            var v = Representing.getValue(component);\n            return Future.pure(validator(v));\n          };\n        }\n      }\n    });\n\n    var getCoupled = function (component, coupleConfig, coupleState, name) {\n      return coupleState.getOrCreate(component, coupleConfig, name);\n    };\n\n    var CouplingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCoupled: getCoupled\n    });\n\n    var CouplingSchema = [requiredOf('others', setOf(Result.value, anyValue()))];\n\n    var init$a = function () {\n      var coupled = {};\n      var getOrCreate = function (component, coupleConfig, name) {\n        var available = keys(coupleConfig.others);\n        if (!available) {\n          throw new Error('Cannot find coupled component: ' + name + '. Known coupled components: ' + JSON.stringify(available, null, 2));\n        } else {\n          return get$e(coupled, name).getOrThunk(function () {\n            var builder = get$e(coupleConfig.others, name).getOrDie('No information found for coupled component: ' + name);\n            var spec = builder(component);\n            var built = component.getSystem().build(spec);\n            coupled[name] = built;\n            return built;\n          });\n        }\n      };\n      var readState = constant$1({});\n      return nu$8({\n        readState: readState,\n        getOrCreate: getOrCreate\n      });\n    };\n\n    var CouplingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$a\n    });\n\n    var Coupling = create$7({\n      fields: CouplingSchema,\n      name: 'coupling',\n      apis: CouplingApis,\n      state: CouplingState\n    });\n\n    var suffix = constant$1('sink');\n    var partType$1 = constant$1(optional({\n      name: suffix(),\n      overrides: constant$1({\n        dom: { tag: 'div' },\n        behaviours: derive$1([Positioning.config({ useFixed: always })]),\n        events: derive$2([\n          cutter(keydown()),\n          cutter(mousedown()),\n          cutter(click())\n        ])\n      })\n    }));\n\n    var HighlightOnOpen;\n    (function (HighlightOnOpen) {\n      HighlightOnOpen[HighlightOnOpen['HighlightFirst'] = 0] = 'HighlightFirst';\n      HighlightOnOpen[HighlightOnOpen['HighlightNone'] = 1] = 'HighlightNone';\n    }(HighlightOnOpen || (HighlightOnOpen = {})));\n    var getAnchor = function (detail, component) {\n      var hotspot = detail.getHotspot(component).getOr(component);\n      var type = 'hotspot';\n      var overrides = detail.getAnchorOverrides();\n      return detail.layouts.fold(function () {\n        return {\n          type: type,\n          hotspot: hotspot,\n          overrides: overrides\n        };\n      }, function (layouts) {\n        return {\n          type: type,\n          hotspot: hotspot,\n          overrides: overrides,\n          layouts: layouts\n        };\n      });\n    };\n    var fetch = function (detail, mapFetch, component) {\n      var fetcher = detail.fetch;\n      return fetcher(component).map(mapFetch);\n    };\n    var openF = function (detail, mapFetch, anchor, component, sandbox, externals, highlightOnOpen) {\n      var futureData = fetch(detail, mapFetch, component);\n      var getLazySink = getSink(component, detail);\n      return futureData.map(function (tdata) {\n        return tdata.bind(function (data) {\n          return Optional.from(tieredMenu.sketch(__assign(__assign({}, externals.menu()), {\n            uid: generate$5(''),\n            data: data,\n            highlightImmediately: highlightOnOpen === HighlightOnOpen.HighlightFirst,\n            onOpenMenu: function (tmenu, menu) {\n              var sink = getLazySink().getOrDie();\n              Positioning.position(sink, menu, { anchor: anchor });\n              Sandboxing.decloak(sandbox);\n            },\n            onOpenSubmenu: function (tmenu, item, submenu) {\n              var sink = getLazySink().getOrDie();\n              Positioning.position(sink, submenu, {\n                anchor: {\n                  type: 'submenu',\n                  item: item\n                }\n              });\n              Sandboxing.decloak(sandbox);\n            },\n            onRepositionMenu: function (tmenu, primaryMenu, submenuTriggers) {\n              var sink = getLazySink().getOrDie();\n              Positioning.position(sink, primaryMenu, { anchor: anchor });\n              each$1(submenuTriggers, function (st) {\n                Positioning.position(sink, st.triggeredMenu, {\n                  anchor: {\n                    type: 'submenu',\n                    item: st.triggeringItem\n                  }\n                });\n              });\n            },\n            onEscape: function () {\n              Focusing.focus(component);\n              Sandboxing.close(sandbox);\n              return Optional.some(true);\n            }\n          })));\n        });\n      });\n    };\n    var open = function (detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen) {\n      var anchor = getAnchor(detail, hotspot);\n      var processed = openF(detail, mapFetch, anchor, hotspot, sandbox, externals, highlightOnOpen);\n      return processed.map(function (tdata) {\n        tdata.fold(function () {\n          if (Sandboxing.isOpen(sandbox)) {\n            Sandboxing.close(sandbox);\n          }\n        }, function (data) {\n          Sandboxing.cloak(sandbox);\n          Sandboxing.open(sandbox, data);\n          onOpenSync(sandbox);\n        });\n        return sandbox;\n      });\n    };\n    var close = function (detail, mapFetch, component, sandbox, _externals, _onOpenSync, _highlightOnOpen) {\n      Sandboxing.close(sandbox);\n      return Future.pure(sandbox);\n    };\n    var togglePopup = function (detail, mapFetch, hotspot, externals, onOpenSync, highlightOnOpen) {\n      var sandbox = Coupling.getCoupled(hotspot, 'sandbox');\n      var showing = Sandboxing.isOpen(sandbox);\n      var action = showing ? close : open;\n      return action(detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen);\n    };\n    var matchWidth = function (hotspot, container, useMinWidth) {\n      var menu = Composing.getCurrent(container).getOr(container);\n      var buttonWidth = get$a(hotspot.element);\n      if (useMinWidth) {\n        set$7(menu.element, 'min-width', buttonWidth + 'px');\n      } else {\n        set$6(menu.element, buttonWidth);\n      }\n    };\n    var getSink = function (anyInSystem, sinkDetail) {\n      return anyInSystem.getSystem().getByUid(sinkDetail.uid + '-' + suffix()).map(function (internalSink) {\n        return function () {\n          return Result.value(internalSink);\n        };\n      }).getOrThunk(function () {\n        return sinkDetail.lazySink.fold(function () {\n          return function () {\n            return Result.error(new Error('No internal sink is specified, nor could an external sink be found'));\n          };\n        }, function (lazySinkFn) {\n          return function () {\n            return lazySinkFn(anyInSystem);\n          };\n        });\n      });\n    };\n    var doRepositionMenus = function (sandbox) {\n      Sandboxing.getState(sandbox).each(function (tmenu) {\n        tieredMenu.repositionMenus(tmenu);\n      });\n    };\n    var makeSandbox$1 = function (detail, hotspot, extras) {\n      var ariaOwner = manager();\n      var onOpen = function (component, menu) {\n        var anchor = getAnchor(detail, hotspot);\n        ariaOwner.link(hotspot.element);\n        if (detail.matchWidth) {\n          matchWidth(anchor.hotspot, menu, detail.useMinWidth);\n        }\n        detail.onOpen(anchor, component, menu);\n        if (extras !== undefined && extras.onOpen !== undefined) {\n          extras.onOpen(component, menu);\n        }\n      };\n      var onClose = function (component, menu) {\n        ariaOwner.unlink(hotspot.element);\n        if (extras !== undefined && extras.onClose !== undefined) {\n          extras.onClose(component, menu);\n        }\n      };\n      var lazySink = getSink(hotspot, detail);\n      return {\n        dom: {\n          tag: 'div',\n          classes: detail.sandboxClasses,\n          attributes: {\n            id: ariaOwner.id,\n            role: 'listbox'\n          }\n        },\n        behaviours: SketchBehaviours.augment(detail.sandboxBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: hotspot\n            }\n          }),\n          Sandboxing.config({\n            onOpen: onOpen,\n            onClose: onClose,\n            isPartOf: function (container, data, queryElem) {\n              return isPartOf$1(data, queryElem) || isPartOf$1(hotspot, queryElem);\n            },\n            getAttachPoint: function () {\n              return lazySink().getOrDie();\n            }\n          }),\n          Composing.config({\n            find: function (sandbox) {\n              return Sandboxing.getState(sandbox).bind(function (menu) {\n                return Composing.getCurrent(menu);\n              });\n            }\n          }),\n          Receiving.config({ channels: __assign(__assign({}, receivingChannel$1({ isExtraPart: never })), receivingChannel({ doReposition: doRepositionMenus })) })\n        ])\n      };\n    };\n    var repositionMenus = function (comp) {\n      var sandbox = Coupling.getCoupled(comp, 'sandbox');\n      doRepositionMenus(sandbox);\n    };\n\n    var sandboxFields = function () {\n      return [\n        defaulted('sandboxClasses', []),\n        SketchBehaviours.field('sandboxBehaviours', [\n          Composing,\n          Receiving,\n          Sandboxing,\n          Representing\n        ])\n      ];\n    };\n\n    var schema$j = constant$1([\n      required$1('dom'),\n      required$1('fetch'),\n      onHandler('onOpen'),\n      onKeyboardHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      field('dropdownBehaviours', [\n        Toggling,\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      required$1('toggleClass'),\n      defaulted('eventOrder', {}),\n      option('lazySink'),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      option('role')\n    ].concat(sandboxFields()));\n    var parts$d = constant$1([\n      external$1({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        defaults: function (detail) {\n          return { onExecute: detail.onExecute };\n        }\n      }),\n      partType$1()\n    ]);\n\n    var factory$g = function (detail, components, _spec, externals) {\n      var _a;\n      var lookupAttr = function (attr) {\n        return get$e(detail.dom, 'attributes').bind(function (attrs) {\n          return get$e(attrs, attr);\n        });\n      };\n      var switchToMenu = function (sandbox) {\n        Sandboxing.getState(sandbox).each(function (tmenu) {\n          tieredMenu.highlightPrimary(tmenu);\n        });\n      };\n      var action = function (component) {\n        var onOpenSync = switchToMenu;\n        togglePopup(detail, identity$1, component, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n      };\n      var apis = {\n        expand: function (comp) {\n          if (!Toggling.isOn(comp)) {\n            togglePopup(detail, identity$1, comp, externals, noop, HighlightOnOpen.HighlightNone).get(noop);\n          }\n        },\n        open: function (comp) {\n          if (!Toggling.isOn(comp)) {\n            togglePopup(detail, identity$1, comp, externals, noop, HighlightOnOpen.HighlightFirst).get(noop);\n          }\n        },\n        isOpen: Toggling.isOn,\n        close: function (comp) {\n          if (Toggling.isOn(comp)) {\n            togglePopup(detail, identity$1, comp, externals, noop, HighlightOnOpen.HighlightFirst).get(noop);\n          }\n        },\n        repositionMenus: function (comp) {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      var triggerExecute = function (comp, _se) {\n        emitExecute(comp);\n        return Optional.some(true);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.dropdownBehaviours, [\n          Toggling.config({\n            toggleClass: detail.toggleClass,\n            aria: { mode: 'expanded' }\n          }),\n          Coupling.config({\n            others: {\n              sandbox: function (hotspot) {\n                return makeSandbox$1(detail, hotspot, {\n                  onOpen: function () {\n                    return Toggling.on(hotspot);\n                  },\n                  onClose: function () {\n                    return Toggling.off(hotspot);\n                  }\n                });\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: triggerExecute,\n            onEnter: triggerExecute,\n            onDown: function (comp, _se) {\n              if (Dropdown.isOpen(comp)) {\n                var sandbox = Coupling.getCoupled(comp, 'sandbox');\n                switchToMenu(sandbox);\n              } else {\n                Dropdown.open(comp);\n              }\n              return Optional.some(true);\n            },\n            onEscape: function (comp, _se) {\n              if (Dropdown.isOpen(comp)) {\n                Dropdown.close(comp);\n                return Optional.some(true);\n              } else {\n                return Optional.none();\n              }\n            }\n          }),\n          Focusing.config({})\n        ]),\n        events: events$a(Optional.some(action)),\n        eventOrder: __assign(__assign({}, detail.eventOrder), (_a = {}, _a[execute$5()] = [\n          'disabling',\n          'toggling',\n          'alloy.base.behaviour'\n        ], _a)),\n        apis: apis,\n        domModification: {\n          attributes: __assign(__assign({ 'aria-haspopup': 'true' }, detail.role.fold(function () {\n            return {};\n          }, function (role) {\n            return { role: role };\n          })), detail.dom.tag === 'button' ? { type: lookupAttr('type').getOr('button') } : {})\n        }\n      };\n    };\n    var Dropdown = composite({\n      name: 'Dropdown',\n      configFields: schema$j(),\n      partFields: parts$d(),\n      factory: factory$g,\n      apis: {\n        open: function (apis, comp) {\n          return apis.open(comp);\n        },\n        expand: function (apis, comp) {\n          return apis.expand(comp);\n        },\n        close: function (apis, comp) {\n          return apis.close(comp);\n        },\n        isOpen: function (apis, comp) {\n          return apis.isOpen(comp);\n        },\n        repositionMenus: function (apis, comp) {\n          return apis.repositionMenus(comp);\n        }\n      }\n    });\n\n    var exhibit$1 = function () {\n      return nu$7({\n        styles: {\n          '-webkit-user-select': 'none',\n          'user-select': 'none',\n          '-ms-user-select': 'none',\n          '-moz-user-select': '-moz-none'\n        },\n        attributes: { unselectable: 'on' }\n      });\n    };\n    var events$7 = function () {\n      return derive$2([abort(selectstart(), always)]);\n    };\n\n    var ActiveUnselecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$7,\n        exhibit: exhibit$1\n    });\n\n    var Unselecting = create$7({\n      fields: [],\n      name: 'unselecting',\n      active: ActiveUnselecting\n    });\n\n    var renderPanelButton = function (spec, sharedBackstage) {\n      return Dropdown.sketch({\n        dom: spec.dom,\n        components: spec.components,\n        toggleClass: 'mce-active',\n        dropdownBehaviours: derive$1([\n          DisablingConfigs.button(sharedBackstage.providers.isDisabled),\n          receivingConfig(),\n          Unselecting.config({}),\n          Tabstopping.config({})\n        ]),\n        layouts: spec.layouts,\n        sandboxClasses: ['tox-dialog__popups'],\n        lazySink: sharedBackstage.getSink,\n        fetch: function (comp) {\n          return Future.nu(function (callback) {\n            return spec.fetch(callback);\n          }).map(function (items) {\n            return Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, function (value) {\n              spec.onItemAction(comp, value);\n            }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, never, sharedBackstage.providers), { movement: deriveMenuMovement(spec.columns, spec.presets) })));\n          });\n        },\n        parts: { menu: part(false, 1, spec.presets) }\n      });\n    };\n\n    var colorInputChangeEvent = generate$6('color-input-change');\n    var colorSwatchChangeEvent = generate$6('color-swatch-change');\n    var colorPickerCancelEvent = generate$6('color-picker-cancel');\n    var renderColorInput = function (spec, sharedBackstage, colorInputBackstage) {\n      var pField = FormField.parts.field({\n        factory: Input,\n        inputClasses: ['tox-textfield'],\n        onSetValue: function (c) {\n          return Invalidating.run(c).get(noop);\n        },\n        inputBehaviours: derive$1([\n          Disabling.config({ disabled: sharedBackstage.providers.isDisabled }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Invalidating.config({\n            invalidClass: 'tox-textbox-field-invalid',\n            getRoot: function (comp) {\n              return parent(comp.element);\n            },\n            notify: {\n              onValid: function (comp) {\n                var val = Representing.getValue(comp);\n                emitWith(comp, colorInputChangeEvent, { color: val });\n              }\n            },\n            validator: {\n              validateOnLoad: false,\n              validate: function (input) {\n                var inputValue = Representing.getValue(input);\n                if (inputValue.length === 0) {\n                  return Future.pure(Result.value(true));\n                } else {\n                  var span = SugarElement.fromTag('span');\n                  set$7(span, 'background-color', inputValue);\n                  var res = getRaw(span, 'background-color').fold(function () {\n                    return Result.error('blah');\n                  }, function (_) {\n                    return Result.value(inputValue);\n                  });\n                  return Future.pure(res);\n                }\n              }\n            }\n          })\n        ]),\n        selectOnFocus: false\n      });\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, sharedBackstage.providers);\n      });\n      var emitSwatchChange = function (colorBit, value) {\n        emitWith(colorBit, colorSwatchChangeEvent, { value: value });\n      };\n      var onItemAction = function (comp, value) {\n        memColorButton.getOpt(comp).each(function (colorBit) {\n          if (value === 'custom') {\n            colorInputBackstage.colorPicker(function (valueOpt) {\n              valueOpt.fold(function () {\n                return emit(colorBit, colorPickerCancelEvent);\n              }, function (value) {\n                emitSwatchChange(colorBit, value);\n                addColor(value);\n              });\n            }, '#ffffff');\n          } else if (value === 'remove') {\n            emitSwatchChange(colorBit, '');\n          } else {\n            emitSwatchChange(colorBit, value);\n          }\n        });\n      };\n      var memColorButton = record(renderPanelButton({\n        dom: {\n          tag: 'span',\n          attributes: { 'aria-label': sharedBackstage.providers.translate('Color swatch') }\n        },\n        layouts: {\n          onRtl: function () {\n            return [\n              southwest$2,\n              southeast$2,\n              south$2\n            ];\n          },\n          onLtr: function () {\n            return [\n              southeast$2,\n              southwest$2,\n              south$2\n            ];\n          }\n        },\n        components: [],\n        fetch: getFetch$1(colorInputBackstage.getColors(), colorInputBackstage.hasCustomColors()),\n        columns: colorInputBackstage.getColorCols(),\n        presets: 'color',\n        onItemAction: onItemAction\n      }, sharedBackstage));\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: pLabel.toArray().concat([{\n            dom: {\n              tag: 'div',\n              classes: ['tox-color-input']\n            },\n            components: [\n              pField,\n              memColorButton.asSpec()\n            ]\n          }]),\n        fieldBehaviours: derive$1([config('form-field-events', [\n            run$1(colorInputChangeEvent, function (comp, se) {\n              memColorButton.getOpt(comp).each(function (colorButton) {\n                set$7(colorButton.element, 'background-color', se.event.color);\n              });\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            }),\n            run$1(colorSwatchChangeEvent, function (comp, se) {\n              FormField.getField(comp).each(function (field) {\n                Representing.setValue(field, se.event.value);\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            }),\n            run$1(colorPickerCancelEvent, function (comp, _se) {\n              FormField.getField(comp).each(function (_field) {\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            })\n          ])])\n      });\n    };\n\n    var labelPart = optional({\n      schema: [required$1('dom')],\n      name: 'label'\n    });\n    var edgePart = function (name) {\n      return optional({\n        name: '' + name + '-edge',\n        overrides: function (detail) {\n          var action = detail.model.manager.edgeActions[name];\n          return action.fold(function () {\n            return {};\n          }, function (a) {\n            return {\n              events: derive$2([\n                runActionExtra(touchstart(), function (comp, se, d) {\n                  return a(comp, d);\n                }, [detail]),\n                runActionExtra(mousedown(), function (comp, se, d) {\n                  return a(comp, d);\n                }, [detail]),\n                runActionExtra(mousemove(), function (comp, se, det) {\n                  if (det.mouseIsDown.get()) {\n                    a(comp, det);\n                  }\n                }, [detail])\n              ])\n            };\n          });\n        }\n      });\n    };\n    var tlEdgePart = edgePart('top-left');\n    var tedgePart = edgePart('top');\n    var trEdgePart = edgePart('top-right');\n    var redgePart = edgePart('right');\n    var brEdgePart = edgePart('bottom-right');\n    var bedgePart = edgePart('bottom');\n    var blEdgePart = edgePart('bottom-left');\n    var ledgePart = edgePart('left');\n    var thumbPart = required({\n      name: 'thumb',\n      defaults: constant$1({ dom: { styles: { position: 'absolute' } } }),\n      overrides: function (detail) {\n        return {\n          events: derive$2([\n            redirectToPart(touchstart(), detail, 'spectrum'),\n            redirectToPart(touchmove(), detail, 'spectrum'),\n            redirectToPart(touchend(), detail, 'spectrum'),\n            redirectToPart(mousedown(), detail, 'spectrum'),\n            redirectToPart(mousemove(), detail, 'spectrum'),\n            redirectToPart(mouseup(), detail, 'spectrum')\n          ])\n        };\n      }\n    });\n    var spectrumPart = required({\n      schema: [customField('mouseIsDown', function () {\n          return Cell(false);\n        })],\n      name: 'spectrum',\n      overrides: function (detail) {\n        var modelDetail = detail.model;\n        var model = modelDetail.manager;\n        var setValueFrom = function (component, simulatedEvent) {\n          return model.getValueFromEvent(simulatedEvent).map(function (value) {\n            return model.setValueFrom(component, detail, value);\n          });\n        };\n        return {\n          behaviours: derive$1([\n            Keying.config({\n              mode: 'special',\n              onLeft: function (spectrum) {\n                return model.onLeft(spectrum, detail);\n              },\n              onRight: function (spectrum) {\n                return model.onRight(spectrum, detail);\n              },\n              onUp: function (spectrum) {\n                return model.onUp(spectrum, detail);\n              },\n              onDown: function (spectrum) {\n                return model.onDown(spectrum, detail);\n              }\n            }),\n            Focusing.config({})\n          ]),\n          events: derive$2([\n            run$1(touchstart(), setValueFrom),\n            run$1(touchmove(), setValueFrom),\n            run$1(mousedown(), setValueFrom),\n            run$1(mousemove(), function (spectrum, se) {\n              if (detail.mouseIsDown.get()) {\n                setValueFrom(spectrum, se);\n              }\n            })\n          ])\n        };\n      }\n    });\n    var SliderParts = [\n      labelPart,\n      ledgePart,\n      redgePart,\n      tedgePart,\n      bedgePart,\n      tlEdgePart,\n      trEdgePart,\n      blEdgePart,\n      brEdgePart,\n      thumbPart,\n      spectrumPart\n    ];\n\n    var _sliderChangeEvent = 'slider.change.value';\n    var sliderChangeEvent = constant$1(_sliderChangeEvent);\n    var isTouchEvent$2 = function (evt) {\n      return evt.type.indexOf('touch') !== -1;\n    };\n    var getEventSource = function (simulatedEvent) {\n      var evt = simulatedEvent.event.raw;\n      if (isTouchEvent$2(evt)) {\n        var touchEvent = evt;\n        return touchEvent.touches !== undefined && touchEvent.touches.length === 1 ? Optional.some(touchEvent.touches[0]).map(function (t) {\n          return SugarPosition(t.clientX, t.clientY);\n        }) : Optional.none();\n      } else {\n        var mouseEvent = evt;\n        return mouseEvent.clientX !== undefined ? Optional.some(mouseEvent).map(function (me) {\n          return SugarPosition(me.clientX, me.clientY);\n        }) : Optional.none();\n      }\n    };\n\n    var t = 'top', r = 'right', b = 'bottom', l = 'left';\n    var minX = function (detail) {\n      return detail.model.minX;\n    };\n    var minY = function (detail) {\n      return detail.model.minY;\n    };\n    var min1X = function (detail) {\n      return detail.model.minX - 1;\n    };\n    var min1Y = function (detail) {\n      return detail.model.minY - 1;\n    };\n    var maxX = function (detail) {\n      return detail.model.maxX;\n    };\n    var maxY = function (detail) {\n      return detail.model.maxY;\n    };\n    var max1X = function (detail) {\n      return detail.model.maxX + 1;\n    };\n    var max1Y = function (detail) {\n      return detail.model.maxY + 1;\n    };\n    var range = function (detail, max, min) {\n      return max(detail) - min(detail);\n    };\n    var xRange = function (detail) {\n      return range(detail, maxX, minX);\n    };\n    var yRange = function (detail) {\n      return range(detail, maxY, minY);\n    };\n    var halfX = function (detail) {\n      return xRange(detail) / 2;\n    };\n    var halfY = function (detail) {\n      return yRange(detail) / 2;\n    };\n    var step = function (detail) {\n      return detail.stepSize;\n    };\n    var snap = function (detail) {\n      return detail.snapToGrid;\n    };\n    var snapStart = function (detail) {\n      return detail.snapStart;\n    };\n    var rounded = function (detail) {\n      return detail.rounded;\n    };\n    var hasEdge = function (detail, edgeName) {\n      return detail[edgeName + '-edge'] !== undefined;\n    };\n    var hasLEdge = function (detail) {\n      return hasEdge(detail, l);\n    };\n    var hasREdge = function (detail) {\n      return hasEdge(detail, r);\n    };\n    var hasTEdge = function (detail) {\n      return hasEdge(detail, t);\n    };\n    var hasBEdge = function (detail) {\n      return hasEdge(detail, b);\n    };\n    var currentValue = function (detail) {\n      return detail.model.value.get();\n    };\n\n    var xValue = function (x) {\n      return { x: x };\n    };\n    var yValue = function (y) {\n      return { y: y };\n    };\n    var xyValue = function (x, y) {\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var fireSliderChange$3 = function (component, value) {\n      emitWith(component, sliderChangeEvent(), { value: value });\n    };\n    var setToTLEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(min1X(detail), min1Y(detail)));\n    };\n    var setToTEdge = function (edge, detail) {\n      fireSliderChange$3(edge, yValue(min1Y(detail)));\n    };\n    var setToTEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(halfX(detail), min1Y(detail)));\n    };\n    var setToTREdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(max1X(detail), min1Y(detail)));\n    };\n    var setToREdge = function (edge, detail) {\n      fireSliderChange$3(edge, xValue(max1X(detail)));\n    };\n    var setToREdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(max1X(detail), halfY(detail)));\n    };\n    var setToBREdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(max1X(detail), max1Y(detail)));\n    };\n    var setToBEdge = function (edge, detail) {\n      fireSliderChange$3(edge, yValue(max1Y(detail)));\n    };\n    var setToBEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(halfX(detail), max1Y(detail)));\n    };\n    var setToBLEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(min1X(detail), max1Y(detail)));\n    };\n    var setToLEdge = function (edge, detail) {\n      fireSliderChange$3(edge, xValue(min1X(detail)));\n    };\n    var setToLEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(min1X(detail), halfY(detail)));\n    };\n\n    var reduceBy = function (value, min, max, step) {\n      if (value < min) {\n        return value;\n      } else if (value > max) {\n        return max;\n      } else if (value === min) {\n        return min - 1;\n      } else {\n        return Math.max(min, value - step);\n      }\n    };\n    var increaseBy = function (value, min, max, step) {\n      if (value > max) {\n        return value;\n      } else if (value < min) {\n        return min;\n      } else if (value === max) {\n        return max + 1;\n      } else {\n        return Math.min(max, value + step);\n      }\n    };\n    var capValue = function (value, min, max) {\n      return Math.max(min, Math.min(max, value));\n    };\n    var snapValueOf = function (value, min, max, step, snapStart) {\n      return snapStart.fold(function () {\n        var initValue = value - min;\n        var extraValue = Math.round(initValue / step) * step;\n        return capValue(min + extraValue, min - 1, max + 1);\n      }, function (start) {\n        var remainder = (value - start) % step;\n        var adjustment = Math.round(remainder / step);\n        var rawSteps = Math.floor((value - start) / step);\n        var maxSteps = Math.floor((max - start) / step);\n        var numSteps = Math.min(maxSteps, rawSteps + adjustment);\n        var r = start + numSteps * step;\n        return Math.max(start, r);\n      });\n    };\n    var findOffsetOf = function (value, min, max) {\n      return Math.min(max, Math.max(value, min)) - min;\n    };\n    var findValueOf = function (args) {\n      var min = args.min, max = args.max, range = args.range, value = args.value, step = args.step, snap = args.snap, snapStart = args.snapStart, rounded = args.rounded, hasMinEdge = args.hasMinEdge, hasMaxEdge = args.hasMaxEdge, minBound = args.minBound, maxBound = args.maxBound, screenRange = args.screenRange;\n      var capMin = hasMinEdge ? min - 1 : min;\n      var capMax = hasMaxEdge ? max + 1 : max;\n      if (value < minBound) {\n        return capMin;\n      } else if (value > maxBound) {\n        return capMax;\n      } else {\n        var offset = findOffsetOf(value, minBound, maxBound);\n        var newValue = capValue(offset / screenRange * range + min, capMin, capMax);\n        if (snap && newValue >= min && newValue <= max) {\n          return snapValueOf(newValue, min, max, step, snapStart);\n        } else if (rounded) {\n          return Math.round(newValue);\n        } else {\n          return newValue;\n        }\n      }\n    };\n    var findOffsetOfValue$2 = function (args) {\n      var min = args.min, max = args.max, range = args.range, value = args.value, hasMinEdge = args.hasMinEdge, hasMaxEdge = args.hasMaxEdge, maxBound = args.maxBound, maxOffset = args.maxOffset, centerMinEdge = args.centerMinEdge, centerMaxEdge = args.centerMaxEdge;\n      if (value < min) {\n        return hasMinEdge ? 0 : centerMinEdge;\n      } else if (value > max) {\n        return hasMaxEdge ? maxBound : centerMaxEdge;\n      } else {\n        return (value - min) / range * maxOffset;\n      }\n    };\n\n    var top = 'top', right = 'right', bottom = 'bottom', left = 'left', width = 'width', height = 'height';\n    var getBounds = function (component) {\n      return component.element.dom.getBoundingClientRect();\n    };\n    var getBoundsProperty = function (bounds, property) {\n      return bounds[property];\n    };\n    var getMinXBounds = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, left);\n    };\n    var getMaxXBounds = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, right);\n    };\n    var getMinYBounds = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, top);\n    };\n    var getMaxYBounds = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, bottom);\n    };\n    var getXScreenRange = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, width);\n    };\n    var getYScreenRange = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, height);\n    };\n    var getCenterOffsetOf = function (componentMinEdge, componentMaxEdge, spectrumMinEdge) {\n      return (componentMinEdge + componentMaxEdge) / 2 - spectrumMinEdge;\n    };\n    var getXCenterOffSetOf = function (component, spectrum) {\n      var componentBounds = getBounds(component);\n      var spectrumBounds = getBounds(spectrum);\n      var componentMinEdge = getBoundsProperty(componentBounds, left);\n      var componentMaxEdge = getBoundsProperty(componentBounds, right);\n      var spectrumMinEdge = getBoundsProperty(spectrumBounds, left);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n    var getYCenterOffSetOf = function (component, spectrum) {\n      var componentBounds = getBounds(component);\n      var spectrumBounds = getBounds(spectrum);\n      var componentMinEdge = getBoundsProperty(componentBounds, top);\n      var componentMaxEdge = getBoundsProperty(componentBounds, bottom);\n      var spectrumMinEdge = getBoundsProperty(spectrumBounds, top);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n\n    var fireSliderChange$2 = function (spectrum, value) {\n      emitWith(spectrum, sliderChangeEvent(), { value: value });\n    };\n    var sliderValue$2 = function (x) {\n      return { x: x };\n    };\n    var findValueOfOffset$1 = function (spectrum, detail, left) {\n      var args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value: left,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        maxBound: getMaxXBounds(spectrum),\n        screenRange: getXScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    var setValueFrom$2 = function (spectrum, detail, value) {\n      var xValue = findValueOfOffset$1(spectrum, detail, value);\n      var sliderVal = sliderValue$2(xValue);\n      fireSliderChange$2(spectrum, sliderVal);\n      return xValue;\n    };\n    var setToMin$2 = function (spectrum, detail) {\n      var min = minX(detail);\n      fireSliderChange$2(spectrum, sliderValue$2(min));\n    };\n    var setToMax$2 = function (spectrum, detail) {\n      var max = maxX(detail);\n      fireSliderChange$2(spectrum, sliderValue$2(max));\n    };\n    var moveBy$2 = function (direction, spectrum, detail) {\n      var f = direction > 0 ? increaseBy : reduceBy;\n      var xValue = f(currentValue(detail).x, minX(detail), maxX(detail), step(detail));\n      fireSliderChange$2(spectrum, sliderValue$2(xValue));\n      return Optional.some(xValue);\n    };\n    var handleMovement$2 = function (direction) {\n      return function (spectrum, detail) {\n        return moveBy$2(direction, spectrum, detail).map(always);\n      };\n    };\n    var getValueFromEvent$2 = function (simulatedEvent) {\n      var pos = getEventSource(simulatedEvent);\n      return pos.map(function (p) {\n        return p.left;\n      });\n    };\n    var findOffsetOfValue$1 = function (spectrum, detail, value, minEdge, maxEdge) {\n      var minOffset = 0;\n      var maxOffset = getXScreenRange(spectrum);\n      var centerMinEdge = minEdge.bind(function (edge) {\n        return Optional.some(getXCenterOffSetOf(edge, spectrum));\n      }).getOr(minOffset);\n      var centerMaxEdge = maxEdge.bind(function (edge) {\n        return Optional.some(getXCenterOffSetOf(edge, spectrum));\n      }).getOr(maxOffset);\n      var args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value: value,\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        minOffset: minOffset,\n        maxBound: getMaxXBounds(spectrum),\n        maxOffset: maxOffset,\n        centerMinEdge: centerMinEdge,\n        centerMaxEdge: centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    var findPositionOfValue$1 = function (slider, spectrum, value, minEdge, maxEdge, detail) {\n      var offset = findOffsetOfValue$1(spectrum, detail, value, minEdge, maxEdge);\n      return getMinXBounds(spectrum) - getMinXBounds(slider) + offset;\n    };\n    var setPositionFromValue$2 = function (slider, thumb, detail, edges) {\n      var value = currentValue(detail);\n      var pos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value.x, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      var thumbRadius = get$a(thumb.element) / 2;\n      set$7(thumb.element, 'left', pos - thumbRadius + 'px');\n    };\n    var onLeft$2 = handleMovement$2(-1);\n    var onRight$2 = handleMovement$2(1);\n    var onUp$2 = Optional.none;\n    var onDown$2 = Optional.none;\n    var edgeActions$2 = {\n      'top-left': Optional.none(),\n      'top': Optional.none(),\n      'top-right': Optional.none(),\n      'right': Optional.some(setToREdge),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.none(),\n      'bottom-left': Optional.none(),\n      'left': Optional.some(setToLEdge)\n    };\n\n    var HorizontalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$2,\n        setToMin: setToMin$2,\n        setToMax: setToMax$2,\n        findValueOfOffset: findValueOfOffset$1,\n        getValueFromEvent: getValueFromEvent$2,\n        findPositionOfValue: findPositionOfValue$1,\n        setPositionFromValue: setPositionFromValue$2,\n        onLeft: onLeft$2,\n        onRight: onRight$2,\n        onUp: onUp$2,\n        onDown: onDown$2,\n        edgeActions: edgeActions$2\n    });\n\n    var fireSliderChange$1 = function (spectrum, value) {\n      emitWith(spectrum, sliderChangeEvent(), { value: value });\n    };\n    var sliderValue$1 = function (y) {\n      return { y: y };\n    };\n    var findValueOfOffset = function (spectrum, detail, top) {\n      var args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value: top,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        maxBound: getMaxYBounds(spectrum),\n        screenRange: getYScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    var setValueFrom$1 = function (spectrum, detail, value) {\n      var yValue = findValueOfOffset(spectrum, detail, value);\n      var sliderVal = sliderValue$1(yValue);\n      fireSliderChange$1(spectrum, sliderVal);\n      return yValue;\n    };\n    var setToMin$1 = function (spectrum, detail) {\n      var min = minY(detail);\n      fireSliderChange$1(spectrum, sliderValue$1(min));\n    };\n    var setToMax$1 = function (spectrum, detail) {\n      var max = maxY(detail);\n      fireSliderChange$1(spectrum, sliderValue$1(max));\n    };\n    var moveBy$1 = function (direction, spectrum, detail) {\n      var f = direction > 0 ? increaseBy : reduceBy;\n      var yValue = f(currentValue(detail).y, minY(detail), maxY(detail), step(detail));\n      fireSliderChange$1(spectrum, sliderValue$1(yValue));\n      return Optional.some(yValue);\n    };\n    var handleMovement$1 = function (direction) {\n      return function (spectrum, detail) {\n        return moveBy$1(direction, spectrum, detail).map(always);\n      };\n    };\n    var getValueFromEvent$1 = function (simulatedEvent) {\n      var pos = getEventSource(simulatedEvent);\n      return pos.map(function (p) {\n        return p.top;\n      });\n    };\n    var findOffsetOfValue = function (spectrum, detail, value, minEdge, maxEdge) {\n      var minOffset = 0;\n      var maxOffset = getYScreenRange(spectrum);\n      var centerMinEdge = minEdge.bind(function (edge) {\n        return Optional.some(getYCenterOffSetOf(edge, spectrum));\n      }).getOr(minOffset);\n      var centerMaxEdge = maxEdge.bind(function (edge) {\n        return Optional.some(getYCenterOffSetOf(edge, spectrum));\n      }).getOr(maxOffset);\n      var args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value: value,\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        minOffset: minOffset,\n        maxBound: getMaxYBounds(spectrum),\n        maxOffset: maxOffset,\n        centerMinEdge: centerMinEdge,\n        centerMaxEdge: centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    var findPositionOfValue = function (slider, spectrum, value, minEdge, maxEdge, detail) {\n      var offset = findOffsetOfValue(spectrum, detail, value, minEdge, maxEdge);\n      return getMinYBounds(spectrum) - getMinYBounds(slider) + offset;\n    };\n    var setPositionFromValue$1 = function (slider, thumb, detail, edges) {\n      var value = currentValue(detail);\n      var pos = findPositionOfValue(slider, edges.getSpectrum(slider), value.y, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      var thumbRadius = get$b(thumb.element) / 2;\n      set$7(thumb.element, 'top', pos - thumbRadius + 'px');\n    };\n    var onLeft$1 = Optional.none;\n    var onRight$1 = Optional.none;\n    var onUp$1 = handleMovement$1(-1);\n    var onDown$1 = handleMovement$1(1);\n    var edgeActions$1 = {\n      'top-left': Optional.none(),\n      'top': Optional.some(setToTEdge),\n      'top-right': Optional.none(),\n      'right': Optional.none(),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.some(setToBEdge),\n      'bottom-left': Optional.none(),\n      'left': Optional.none()\n    };\n\n    var VerticalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$1,\n        setToMin: setToMin$1,\n        setToMax: setToMax$1,\n        findValueOfOffset: findValueOfOffset,\n        getValueFromEvent: getValueFromEvent$1,\n        findPositionOfValue: findPositionOfValue,\n        setPositionFromValue: setPositionFromValue$1,\n        onLeft: onLeft$1,\n        onRight: onRight$1,\n        onUp: onUp$1,\n        onDown: onDown$1,\n        edgeActions: edgeActions$1\n    });\n\n    var fireSliderChange = function (spectrum, value) {\n      emitWith(spectrum, sliderChangeEvent(), { value: value });\n    };\n    var sliderValue = function (x, y) {\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var setValueFrom = function (spectrum, detail, value) {\n      var xValue = findValueOfOffset$1(spectrum, detail, value.left);\n      var yValue = findValueOfOffset(spectrum, detail, value.top);\n      var val = sliderValue(xValue, yValue);\n      fireSliderChange(spectrum, val);\n      return val;\n    };\n    var moveBy = function (direction, isVerticalMovement, spectrum, detail) {\n      var f = direction > 0 ? increaseBy : reduceBy;\n      var xValue = isVerticalMovement ? currentValue(detail).x : f(currentValue(detail).x, minX(detail), maxX(detail), step(detail));\n      var yValue = !isVerticalMovement ? currentValue(detail).y : f(currentValue(detail).y, minY(detail), maxY(detail), step(detail));\n      fireSliderChange(spectrum, sliderValue(xValue, yValue));\n      return Optional.some(xValue);\n    };\n    var handleMovement = function (direction, isVerticalMovement) {\n      return function (spectrum, detail) {\n        return moveBy(direction, isVerticalMovement, spectrum, detail).map(always);\n      };\n    };\n    var setToMin = function (spectrum, detail) {\n      var mX = minX(detail);\n      var mY = minY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    var setToMax = function (spectrum, detail) {\n      var mX = maxX(detail);\n      var mY = maxY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    var getValueFromEvent = function (simulatedEvent) {\n      return getEventSource(simulatedEvent);\n    };\n    var setPositionFromValue = function (slider, thumb, detail, edges) {\n      var value = currentValue(detail);\n      var xPos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value.x, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      var yPos = findPositionOfValue(slider, edges.getSpectrum(slider), value.y, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      var thumbXRadius = get$a(thumb.element) / 2;\n      var thumbYRadius = get$b(thumb.element) / 2;\n      set$7(thumb.element, 'left', xPos - thumbXRadius + 'px');\n      set$7(thumb.element, 'top', yPos - thumbYRadius + 'px');\n    };\n    var onLeft = handleMovement(-1, false);\n    var onRight = handleMovement(1, false);\n    var onUp = handleMovement(-1, true);\n    var onDown = handleMovement(1, true);\n    var edgeActions = {\n      'top-left': Optional.some(setToTLEdgeXY),\n      'top': Optional.some(setToTEdgeXY),\n      'top-right': Optional.some(setToTREdgeXY),\n      'right': Optional.some(setToREdgeXY),\n      'bottom-right': Optional.some(setToBREdgeXY),\n      'bottom': Optional.some(setToBEdgeXY),\n      'bottom-left': Optional.some(setToBLEdgeXY),\n      'left': Optional.some(setToLEdgeXY)\n    };\n\n    var TwoDModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom,\n        setToMin: setToMin,\n        setToMax: setToMax,\n        getValueFromEvent: getValueFromEvent,\n        setPositionFromValue: setPositionFromValue,\n        onLeft: onLeft,\n        onRight: onRight,\n        onUp: onUp,\n        onDown: onDown,\n        edgeActions: edgeActions\n    });\n\n    var SliderSchema = [\n      defaulted('stepSize', 1),\n      defaulted('onChange', noop),\n      defaulted('onChoose', noop),\n      defaulted('onInit', noop),\n      defaulted('onDragStart', noop),\n      defaulted('onDragEnd', noop),\n      defaulted('snapToGrid', false),\n      defaulted('rounded', true),\n      option('snapStart'),\n      requiredOf('model', choose$1('mode', {\n        x: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          customField('value', function (spec) {\n            return Cell(spec.mode.minX);\n          }),\n          required$1('getInitialValue'),\n          output$1('manager', HorizontalModel)\n        ],\n        y: [\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', function (spec) {\n            return Cell(spec.mode.minY);\n          }),\n          required$1('getInitialValue'),\n          output$1('manager', VerticalModel)\n        ],\n        xy: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', function (spec) {\n            return Cell({\n              x: spec.mode.minX,\n              y: spec.mode.minY\n            });\n          }),\n          required$1('getInitialValue'),\n          output$1('manager', TwoDModel)\n        ]\n      })),\n      field('sliderBehaviours', [\n        Keying,\n        Representing\n      ]),\n      customField('mouseIsDown', function () {\n        return Cell(false);\n      })\n    ];\n\n    var sketch$2 = function (detail, components, _spec, _externals) {\n      var _a;\n      var getThumb = function (component) {\n        return getPartOrDie(component, detail, 'thumb');\n      };\n      var getSpectrum = function (component) {\n        return getPartOrDie(component, detail, 'spectrum');\n      };\n      var getLeftEdge = function (component) {\n        return getPart(component, detail, 'left-edge');\n      };\n      var getRightEdge = function (component) {\n        return getPart(component, detail, 'right-edge');\n      };\n      var getTopEdge = function (component) {\n        return getPart(component, detail, 'top-edge');\n      };\n      var getBottomEdge = function (component) {\n        return getPart(component, detail, 'bottom-edge');\n      };\n      var modelDetail = detail.model;\n      var model = modelDetail.manager;\n      var refresh = function (slider, thumb) {\n        model.setPositionFromValue(slider, thumb, detail, {\n          getLeftEdge: getLeftEdge,\n          getRightEdge: getRightEdge,\n          getTopEdge: getTopEdge,\n          getBottomEdge: getBottomEdge,\n          getSpectrum: getSpectrum\n        });\n      };\n      var setValue = function (slider, newValue) {\n        modelDetail.value.set(newValue);\n        var thumb = getThumb(slider);\n        refresh(slider, thumb);\n      };\n      var changeValue = function (slider, newValue) {\n        setValue(slider, newValue);\n        var thumb = getThumb(slider);\n        detail.onChange(slider, thumb, newValue);\n        return Optional.some(true);\n      };\n      var resetToMin = function (slider) {\n        model.setToMin(slider, detail);\n      };\n      var resetToMax = function (slider) {\n        model.setToMax(slider, detail);\n      };\n      var choose = function (slider) {\n        var fireOnChoose = function () {\n          getPart(slider, detail, 'thumb').each(function (thumb) {\n            var value = modelDetail.value.get();\n            detail.onChoose(slider, thumb, value);\n          });\n        };\n        var wasDown = detail.mouseIsDown.get();\n        detail.mouseIsDown.set(false);\n        if (wasDown) {\n          fireOnChoose();\n        }\n      };\n      var onDragStart = function (slider, simulatedEvent) {\n        simulatedEvent.stop();\n        detail.mouseIsDown.set(true);\n        detail.onDragStart(slider, getThumb(slider));\n      };\n      var onDragEnd = function (slider, simulatedEvent) {\n        simulatedEvent.stop();\n        detail.onDragEnd(slider, getThumb(slider));\n        choose(slider);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.sliderBehaviours, [\n          Keying.config({\n            mode: 'special',\n            focusIn: function (slider) {\n              return getPart(slider, detail, 'spectrum').map(Keying.focusIn).map(always);\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (_) {\n                return modelDetail.value.get();\n              }\n            }\n          }),\n          Receiving.config({ channels: (_a = {}, _a[mouseReleased()] = { onReceive: choose }, _a) })\n        ]),\n        events: derive$2([\n          run$1(sliderChangeEvent(), function (slider, simulatedEvent) {\n            changeValue(slider, simulatedEvent.event.value);\n          }),\n          runOnAttached(function (slider, _simulatedEvent) {\n            var getInitial = modelDetail.getInitialValue();\n            modelDetail.value.set(getInitial);\n            var thumb = getThumb(slider);\n            refresh(slider, thumb);\n            var spectrum = getSpectrum(slider);\n            detail.onInit(slider, thumb, spectrum, modelDetail.value.get());\n          }),\n          run$1(touchstart(), onDragStart),\n          run$1(touchend(), onDragEnd),\n          run$1(mousedown(), onDragStart),\n          run$1(mouseup(), onDragEnd)\n        ]),\n        apis: {\n          resetToMin: resetToMin,\n          resetToMax: resetToMax,\n          setValue: setValue,\n          refresh: refresh\n        },\n        domModification: { styles: { position: 'relative' } }\n      };\n    };\n\n    var Slider = composite({\n      name: 'Slider',\n      configFields: SliderSchema,\n      partFields: SliderParts,\n      factory: sketch$2,\n      apis: {\n        setValue: function (apis, slider, value) {\n          apis.setValue(slider, value);\n        },\n        resetToMin: function (apis, slider) {\n          apis.resetToMin(slider);\n        },\n        resetToMax: function (apis, slider) {\n          apis.resetToMax(slider);\n        },\n        refresh: function (apis, slider) {\n          apis.refresh(slider);\n        }\n      }\n    });\n\n    var fieldsUpdate = generate$6('rgb-hex-update');\n    var sliderUpdate = generate$6('slider-update');\n    var paletteUpdate = generate$6('palette-update');\n\n    var sliderFactory = function (translate, getClass) {\n      var spectrum = Slider.parts.spectrum({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-spectrum')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      var thumb = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-thumb')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      return Slider.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider')],\n          attributes: { role: 'presentation' }\n        },\n        rounded: false,\n        model: {\n          mode: 'y',\n          getInitialValue: constant$1({ y: 0 })\n        },\n        components: [\n          spectrum,\n          thumb\n        ],\n        sliderBehaviours: derive$1([Focusing.config({})]),\n        onChange: function (slider, _thumb, value) {\n          emitWith(slider, sliderUpdate, { value: value });\n        }\n      });\n    };\n\n    var owner$1 = 'form';\n    var schema$i = [field('formBehaviours', [Representing])];\n    var getPartName$1 = function (name) {\n      return '<alloy.field.' + name + '>';\n    };\n    var sketch$1 = function (fSpec) {\n      var parts = function () {\n        var record = [];\n        var field = function (name, config) {\n          record.push(name);\n          return generateOne$1(owner$1, getPartName$1(name), config);\n        };\n        return {\n          field: field,\n          record: constant$1(record)\n        };\n      }();\n      var spec = fSpec(parts);\n      var partNames = parts.record();\n      var fieldParts = map$2(partNames, function (n) {\n        return required({\n          name: n,\n          pname: getPartName$1(n)\n        });\n      });\n      return composite$1(owner$1, schema$i, fieldParts, make$4, spec);\n    };\n    var toResult = function (o, e) {\n      return o.fold(function () {\n        return Result.error(e);\n      }, Result.value);\n    };\n    var make$4 = function (detail, components) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.formBehaviours, [Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (form) {\n                var resPs = getAllParts(form, detail);\n                return map$1(resPs, function (resPThunk, pName) {\n                  return resPThunk().bind(function (v) {\n                    var opt = Composing.getCurrent(v);\n                    return toResult(opt, new Error('Cannot find a current component to extract the value from for form part \\'' + pName + '\\': ' + element(v.element)));\n                  }).map(Representing.getValue);\n                });\n              },\n              setValue: function (form, values) {\n                each(values, function (newValue, key) {\n                  getPart(form, detail, key).each(function (wrapper) {\n                    Composing.getCurrent(wrapper).each(function (field) {\n                      Representing.setValue(field, newValue);\n                    });\n                  });\n                });\n              }\n            }\n          })]),\n        apis: {\n          getField: function (form, key) {\n            return getPart(form, detail, key).bind(Composing.getCurrent);\n          }\n        }\n      };\n    };\n    var Form = {\n      getField: makeApi(function (apis, component, key) {\n        return apis.getField(component, key);\n      }),\n      sketch: sketch$1\n    };\n\n    var validInput = generate$6('valid-input');\n    var invalidInput = generate$6('invalid-input');\n    var validatingInput = generate$6('validating-input');\n    var translatePrefix = 'colorcustom.rgb.';\n    var rgbFormFactory = function (translate, getClass, onValidHexx, onInvalidHexx) {\n      var invalidation = function (label, isValid) {\n        return Invalidating.config({\n          invalidClass: getClass('invalid'),\n          notify: {\n            onValidate: function (comp) {\n              emitWith(comp, validatingInput, { type: label });\n            },\n            onValid: function (comp) {\n              emitWith(comp, validInput, {\n                type: label,\n                value: Representing.getValue(comp)\n              });\n            },\n            onInvalid: function (comp) {\n              emitWith(comp, invalidInput, {\n                type: label,\n                value: Representing.getValue(comp)\n              });\n            }\n          },\n          validator: {\n            validate: function (comp) {\n              var value = Representing.getValue(comp);\n              var res = isValid(value) ? Result.value(true) : Result.error(translate('aria.input.invalid'));\n              return Future.pure(res);\n            },\n            validateOnLoad: false\n          }\n        });\n      };\n      var renderTextField = function (isValid, name, label, description, data) {\n        var helptext = translate(translatePrefix + 'range');\n        var pLabel = FormField.parts.label({\n          dom: {\n            tag: 'label',\n            innerHtml: label,\n            attributes: { 'aria-label': description }\n          }\n        });\n        var pField = FormField.parts.field({\n          data: data,\n          factory: Input,\n          inputAttributes: __assign({ type: 'text' }, name === 'hex' ? { 'aria-live': 'polite' } : {}),\n          inputClasses: [getClass('textfield')],\n          inputBehaviours: derive$1([\n            invalidation(name, isValid),\n            Tabstopping.config({})\n          ]),\n          onSetValue: function (input) {\n            if (Invalidating.isInvalid(input)) {\n              var run = Invalidating.run(input);\n              run.get(noop);\n            }\n          }\n        });\n        var comps = [\n          pLabel,\n          pField\n        ];\n        var concats = name !== 'hex' ? [FormField.parts['aria-descriptor']({ text: helptext })] : [];\n        var components = comps.concat(concats);\n        return {\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' }\n          },\n          components: components\n        };\n      };\n      var copyRgbToHex = function (form, rgba) {\n        var hex = fromRgba(rgba);\n        Form.getField(form, 'hex').each(function (hexField) {\n          if (!Focusing.isFocused(hexField)) {\n            Representing.setValue(form, { hex: hex.value });\n          }\n        });\n        return hex;\n      };\n      var copyRgbToForm = function (form, rgb) {\n        var red = rgb.red;\n        var green = rgb.green;\n        var blue = rgb.blue;\n        Representing.setValue(form, {\n          red: red,\n          green: green,\n          blue: blue\n        });\n      };\n      var memPreview = record({\n        dom: {\n          tag: 'div',\n          classes: [getClass('rgba-preview')],\n          styles: { 'background-color': 'white' },\n          attributes: { role: 'presentation' }\n        }\n      });\n      var updatePreview = function (anyInSystem, hex) {\n        memPreview.getOpt(anyInSystem).each(function (preview) {\n          set$7(preview.element, 'background-color', '#' + hex.value);\n        });\n      };\n      var factory = function () {\n        var state = {\n          red: Cell(Optional.some(255)),\n          green: Cell(Optional.some(255)),\n          blue: Cell(Optional.some(255)),\n          hex: Cell(Optional.some('ffffff'))\n        };\n        var copyHexToRgb = function (form, hex) {\n          var rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n        };\n        var get = function (prop) {\n          return state[prop].get();\n        };\n        var set = function (prop, value) {\n          state[prop].set(value);\n        };\n        var getValueRgb = function () {\n          return get('red').bind(function (red) {\n            return get('green').bind(function (green) {\n              return get('blue').map(function (blue) {\n                return rgbaColour(red, green, blue, 1);\n              });\n            });\n          });\n        };\n        var setValueRgb = function (rgb) {\n          var red = rgb.red;\n          var green = rgb.green;\n          var blue = rgb.blue;\n          set('red', Optional.some(red));\n          set('green', Optional.some(green));\n          set('blue', Optional.some(blue));\n        };\n        var onInvalidInput = function (form, simulatedEvent) {\n          var data = simulatedEvent.event;\n          if (data.type !== 'hex') {\n            set(data.type, Optional.none());\n          } else {\n            onInvalidHexx(form);\n          }\n        };\n        var onValidHex = function (form, value) {\n          onValidHexx(form);\n          var hex = hexColour(value);\n          set('hex', Optional.some(value));\n          var rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n          emitWith(form, fieldsUpdate, { hex: hex });\n          updatePreview(form, hex);\n        };\n        var onValidRgb = function (form, prop, value) {\n          var val = parseInt(value, 10);\n          set(prop, Optional.some(val));\n          getValueRgb().each(function (rgb) {\n            var hex = copyRgbToHex(form, rgb);\n            emitWith(form, fieldsUpdate, { hex: hex });\n            updatePreview(form, hex);\n          });\n        };\n        var isHexInputEvent = function (data) {\n          return data.type === 'hex';\n        };\n        var onValidInput = function (form, simulatedEvent) {\n          var data = simulatedEvent.event;\n          if (isHexInputEvent(data)) {\n            onValidHex(form, data.value);\n          } else {\n            onValidRgb(form, data.type, data.value);\n          }\n        };\n        var formPartStrings = function (key) {\n          return {\n            label: translate(translatePrefix + key + '.label'),\n            description: translate(translatePrefix + key + '.description')\n          };\n        };\n        var redStrings = formPartStrings('red');\n        var greenStrings = formPartStrings('green');\n        var blueStrings = formPartStrings('blue');\n        var hexStrings = formPartStrings('hex');\n        return deepMerge(Form.sketch(function (parts) {\n          return {\n            dom: {\n              tag: 'form',\n              classes: [getClass('rgb-form')],\n              attributes: { 'aria-label': translate('aria.color.picker') }\n            },\n            components: [\n              parts.field('red', FormField.sketch(renderTextField(isRgbaComponent, 'red', redStrings.label, redStrings.description, 255))),\n              parts.field('green', FormField.sketch(renderTextField(isRgbaComponent, 'green', greenStrings.label, greenStrings.description, 255))),\n              parts.field('blue', FormField.sketch(renderTextField(isRgbaComponent, 'blue', blueStrings.label, blueStrings.description, 255))),\n              parts.field('hex', FormField.sketch(renderTextField(isHexString, 'hex', hexStrings.label, hexStrings.description, 'ffffff'))),\n              memPreview.asSpec()\n            ],\n            formBehaviours: derive$1([\n              Invalidating.config({ invalidClass: getClass('form-invalid') }),\n              config('rgb-form-events', [\n                run$1(validInput, onValidInput),\n                run$1(invalidInput, onInvalidInput),\n                run$1(validatingInput, onInvalidInput)\n              ])\n            ])\n          };\n        }), {\n          apis: {\n            updateHex: function (form, hex) {\n              Representing.setValue(form, { hex: hex.value });\n              copyHexToRgb(form, hex);\n              updatePreview(form, hex);\n            }\n          }\n        });\n      };\n      var rgbFormSketcher = single({\n        factory: factory,\n        name: 'RgbForm',\n        configFields: [],\n        apis: {\n          updateHex: function (apis, form, hex) {\n            apis.updateHex(form, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return rgbFormSketcher;\n    };\n\n    var paletteFactory = function (_translate, getClass) {\n      var spectrumPart = Slider.parts.spectrum({\n        dom: {\n          tag: 'canvas',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-spectrum')]\n        }\n      });\n      var thumbPart = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-thumb')],\n          innerHtml: '<div class=' + getClass('sv-palette-inner-thumb') + ' role=\"presentation\"></div>'\n        }\n      });\n      var setColour = function (canvas, rgba) {\n        var width = canvas.width, height = canvas.height;\n        var ctx = canvas.getContext('2d');\n        if (ctx === null) {\n          return;\n        }\n        ctx.fillStyle = rgba;\n        ctx.fillRect(0, 0, width, height);\n        var grdWhite = ctx.createLinearGradient(0, 0, width, 0);\n        grdWhite.addColorStop(0, 'rgba(255,255,255,1)');\n        grdWhite.addColorStop(1, 'rgba(255,255,255,0)');\n        ctx.fillStyle = grdWhite;\n        ctx.fillRect(0, 0, width, height);\n        var grdBlack = ctx.createLinearGradient(0, 0, 0, height);\n        grdBlack.addColorStop(0, 'rgba(0,0,0,0)');\n        grdBlack.addColorStop(1, 'rgba(0,0,0,1)');\n        ctx.fillStyle = grdBlack;\n        ctx.fillRect(0, 0, width, height);\n      };\n      var setPaletteHue = function (slider, hue) {\n        var canvas = slider.components()[0].element.dom;\n        var hsv = hsvColour(hue, 100, 100);\n        var rgba = fromHsv(hsv);\n        setColour(canvas, toString(rgba));\n      };\n      var setPaletteThumb = function (slider, hex) {\n        var hsv = fromRgb(fromHex(hex));\n        Slider.setValue(slider, {\n          x: hsv.saturation,\n          y: 100 - hsv.value\n        });\n      };\n      var factory = function (_detail) {\n        var getInitialValue = constant$1({\n          x: 0,\n          y: 0\n        });\n        var onChange = function (slider, _thumb, value) {\n          emitWith(slider, paletteUpdate, { value: value });\n        };\n        var onInit = function (_slider, _thumb, spectrum, _value) {\n          setColour(spectrum.element.dom, toString(red));\n        };\n        var sliderBehaviours = derive$1([\n          Composing.config({ find: Optional.some }),\n          Focusing.config({})\n        ]);\n        return Slider.sketch({\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' },\n            classes: [getClass('sv-palette')]\n          },\n          model: {\n            mode: 'xy',\n            getInitialValue: getInitialValue\n          },\n          rounded: false,\n          components: [\n            spectrumPart,\n            thumbPart\n          ],\n          onChange: onChange,\n          onInit: onInit,\n          sliderBehaviours: sliderBehaviours\n        });\n      };\n      var saturationBrightnessPaletteSketcher = single({\n        factory: factory,\n        name: 'SaturationBrightnessPalette',\n        configFields: [],\n        apis: {\n          setHue: function (_apis, slider, hue) {\n            setPaletteHue(slider, hue);\n          },\n          setThumb: function (_apis, slider, hex) {\n            setPaletteThumb(slider, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return saturationBrightnessPaletteSketcher;\n    };\n\n    var makeFactory = function (translate, getClass) {\n      var factory = function (detail) {\n        var rgbForm = rgbFormFactory(translate, getClass, detail.onValidHex, detail.onInvalidHex);\n        var sbPalette = paletteFactory(translate, getClass);\n        var hueSliderToDegrees = function (hue) {\n          return (100 - hue) / 100 * 360;\n        };\n        var hueDegreesToSlider = function (hue) {\n          return 100 - hue / 360 * 100;\n        };\n        var state = {\n          paletteRgba: Cell(red),\n          paletteHue: Cell(0)\n        };\n        var memSlider = record(sliderFactory(translate, getClass));\n        var memPalette = record(sbPalette.sketch({}));\n        var memRgb = record(rgbForm.sketch({}));\n        var updatePalette = function (anyInSystem, _hex, hue) {\n          memPalette.getOpt(anyInSystem).each(function (palette) {\n            sbPalette.setHue(palette, hue);\n          });\n        };\n        var updateFields = function (anyInSystem, hex) {\n          memRgb.getOpt(anyInSystem).each(function (form) {\n            rgbForm.updateHex(form, hex);\n          });\n        };\n        var updateSlider = function (anyInSystem, _hex, hue) {\n          memSlider.getOpt(anyInSystem).each(function (slider) {\n            Slider.setValue(slider, { y: hueDegreesToSlider(hue) });\n          });\n        };\n        var updatePaletteThumb = function (anyInSystem, hex) {\n          memPalette.getOpt(anyInSystem).each(function (palette) {\n            sbPalette.setThumb(palette, hex);\n          });\n        };\n        var updateState = function (hex, hue) {\n          var rgba = fromHex(hex);\n          state.paletteRgba.set(rgba);\n          state.paletteHue.set(hue);\n        };\n        var runUpdates = function (anyInSystem, hex, hue, updates) {\n          updateState(hex, hue);\n          each$1(updates, function (update) {\n            update(anyInSystem, hex, hue);\n          });\n        };\n        var onPaletteUpdate = function () {\n          var updates = [updateFields];\n          return function (form, simulatedEvent) {\n            var value = simulatedEvent.event.value;\n            var oldHue = state.paletteHue.get();\n            var newHsv = hsvColour(oldHue, value.x, 100 - value.y);\n            var newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, oldHue, updates);\n          };\n        };\n        var onSliderUpdate = function () {\n          var updates = [\n            updatePalette,\n            updateFields\n          ];\n          return function (form, simulatedEvent) {\n            var hue = hueSliderToDegrees(simulatedEvent.event.value.y);\n            var oldRgb = state.paletteRgba.get();\n            var oldHsv = fromRgb(oldRgb);\n            var newHsv = hsvColour(hue, oldHsv.saturation, oldHsv.value);\n            var newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, hue, updates);\n          };\n        };\n        var onFieldsUpdate = function () {\n          var updates = [\n            updatePalette,\n            updateSlider,\n            updatePaletteThumb\n          ];\n          return function (form, simulatedEvent) {\n            var hex = simulatedEvent.event.hex;\n            var hsv = hexToHsv(hex);\n            runUpdates(form, hex, hsv.hue, updates);\n          };\n        };\n        return {\n          uid: detail.uid,\n          dom: detail.dom,\n          components: [\n            memPalette.asSpec(),\n            memSlider.asSpec(),\n            memRgb.asSpec()\n          ],\n          behaviours: derive$1([\n            config('colour-picker-events', [\n              run$1(fieldsUpdate, onFieldsUpdate()),\n              run$1(paletteUpdate, onPaletteUpdate()),\n              run$1(sliderUpdate, onSliderUpdate())\n            ]),\n            Composing.config({\n              find: function (comp) {\n                return memRgb.getOpt(comp);\n              }\n            }),\n            Keying.config({ mode: 'acyclic' })\n          ])\n        };\n      };\n      var colourPickerSketcher = single({\n        name: 'ColourPicker',\n        configFields: [\n          required$1('dom'),\n          defaulted('onValidHex', noop),\n          defaulted('onInvalidHex', noop)\n        ],\n        factory: factory\n      });\n      return colourPickerSketcher;\n    };\n\n    var self$1 = function () {\n      return Composing.config({ find: Optional.some });\n    };\n    var memento$1 = function (mem) {\n      return Composing.config({ find: mem.getOpt });\n    };\n    var childAt = function (index) {\n      return Composing.config({\n        find: function (comp) {\n          return child$2(comp.element, index).bind(function (element) {\n            return comp.getSystem().getByDom(element).toOptional();\n          });\n        }\n      });\n    };\n    var ComposingConfigs = {\n      self: self$1,\n      memento: memento$1,\n      childAt: childAt\n    };\n\n    var english = {\n      'colorcustom.rgb.red.label': 'R',\n      'colorcustom.rgb.red.description': 'Red component',\n      'colorcustom.rgb.green.label': 'G',\n      'colorcustom.rgb.green.description': 'Green component',\n      'colorcustom.rgb.blue.label': 'B',\n      'colorcustom.rgb.blue.description': 'Blue component',\n      'colorcustom.rgb.hex.label': '#',\n      'colorcustom.rgb.hex.description': 'Hex color code',\n      'colorcustom.rgb.range': 'Range 0 to 255',\n      'colorcustom.sb.saturation': 'Saturation',\n      'colorcustom.sb.brightness': 'Brightness',\n      'colorcustom.sb.picker': 'Saturation and Brightness Picker',\n      'colorcustom.sb.palette': 'Saturation and Brightness Palette',\n      'colorcustom.sb.instructions': 'Use arrow keys to select saturation and brightness, on x and y axes',\n      'colorcustom.hue.hue': 'Hue',\n      'colorcustom.hue.slider': 'Hue Slider',\n      'colorcustom.hue.palette': 'Hue Palette',\n      'colorcustom.hue.instructions': 'Use arrow keys to select a hue',\n      'aria.color.picker': 'Color Picker',\n      'aria.input.invalid': 'Invalid input'\n    };\n    var getEnglishText = function (key) {\n      return english[key];\n    };\n    var translate$1 = function (key) {\n      return getEnglishText(key);\n    };\n    var renderColorPicker = function (_spec) {\n      var getClass = function (key) {\n        return 'tox-' + key;\n      };\n      var colourPickerFactory = makeFactory(translate$1, getClass);\n      var onValidHex = function (form) {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: true\n        });\n      };\n      var onInvalidHex = function (form) {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: false\n        });\n      };\n      var memPicker = record(colourPickerFactory.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('color-picker-container')],\n          attributes: { role: 'presentation' }\n        },\n        onValidHex: onValidHex,\n        onInvalidHex: onInvalidHex\n      }));\n      return {\n        dom: { tag: 'div' },\n        components: [memPicker.asSpec()],\n        behaviours: derive$1([\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (comp) {\n                var picker = memPicker.get(comp);\n                var optRgbForm = Composing.getCurrent(picker);\n                var optHex = optRgbForm.bind(function (rgbForm) {\n                  var formValues = Representing.getValue(rgbForm);\n                  return formValues.hex;\n                });\n                return optHex.map(function (hex) {\n                  return '#' + hex;\n                }).getOr('');\n              },\n              setValue: function (comp, newValue) {\n                var pattern = /^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/;\n                var m = pattern.exec(newValue);\n                var picker = memPicker.get(comp);\n                var optRgbForm = Composing.getCurrent(picker);\n                optRgbForm.fold(function () {\n                  console.log('Can not find form');\n                }, function (rgbForm) {\n                  Representing.setValue(rgbForm, { hex: Optional.from(m[1]).getOr('') });\n                  Form.getField(rgbForm, 'hex').each(function (hexField) {\n                    emit(hexField, input());\n                  });\n                });\n              }\n            }\n          }),\n          ComposingConfigs.self()\n        ])\n      };\n    };\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.Resource');\n\n    var isOldCustomEditor = function (spec) {\n      return has$2(spec, 'init');\n    };\n    var renderCustomEditor = function (spec) {\n      var editorApi = value$1();\n      var memReplaced = record({ dom: { tag: spec.tag } });\n      var initialValue = value$1();\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-custom-editor']\n        },\n        behaviours: derive$1([\n          config('custom-editor-events', [runOnAttached(function (component) {\n              memReplaced.getOpt(component).each(function (ta) {\n                (isOldCustomEditor(spec) ? spec.init(ta.element.dom) : global$6.load(spec.scriptId, spec.scriptUrl).then(function (init) {\n                  return init(ta.element.dom, spec.settings);\n                })).then(function (ea) {\n                  initialValue.on(function (cvalue) {\n                    ea.setValue(cvalue);\n                  });\n                  initialValue.clear();\n                  editorApi.set(ea);\n                });\n              });\n            })]),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function () {\n                return editorApi.get().fold(function () {\n                  return initialValue.get().getOr('');\n                }, function (ed) {\n                  return ed.getValue();\n                });\n              },\n              setValue: function (component, value) {\n                editorApi.get().fold(function () {\n                  initialValue.set(value);\n                }, function (ed) {\n                  return ed.setValue(value);\n                });\n              }\n            }\n          }),\n          ComposingConfigs.self()\n        ]),\n        components: [memReplaced.asSpec()]\n      };\n    };\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var processors = objOf([\n      defaulted('preprocess', identity$1),\n      defaulted('postprocess', identity$1)\n    ]);\n    var memento = function (mem, rawProcessors) {\n      var ps = asRawOrDie$1('RepresentingConfigs.memento processors', processors, rawProcessors);\n      return Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: function (comp) {\n            var other = mem.get(comp);\n            var rawValue = Representing.getValue(other);\n            return ps.postprocess(rawValue);\n          },\n          setValue: function (comp, rawValue) {\n            var newValue = ps.preprocess(rawValue);\n            var other = mem.get(comp);\n            Representing.setValue(other, newValue);\n          }\n        }\n      });\n    };\n    var withComp = function (optInitialValue, getter, setter) {\n      return Representing.config(deepMerge({\n        store: {\n          mode: 'manual',\n          getValue: getter,\n          setValue: setter\n        }\n      }, optInitialValue.map(function (initialValue) {\n        return { store: { initialValue: initialValue } };\n      }).getOr({})));\n    };\n    var withElement = function (initialValue, getter, setter) {\n      return withComp(initialValue, function (c) {\n        return getter(c.element);\n      }, function (c, v) {\n        return setter(c.element, v);\n      });\n    };\n    var domValue = function (optInitialValue) {\n      return withElement(optInitialValue, get$5, set$4);\n    };\n    var domHtml = function (optInitialValue) {\n      return withElement(optInitialValue, get$7, set$5);\n    };\n    var memory = function (initialValue) {\n      return Representing.config({\n        store: {\n          mode: 'memory',\n          initialValue: initialValue\n        }\n      });\n    };\n    var RepresentingConfigs = {\n      memento: memento,\n      withElement: withElement,\n      withComp: withComp,\n      domValue: domValue,\n      domHtml: domHtml,\n      memory: memory\n    };\n\n    var defaultImageFileTypes = 'jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp';\n    var filterByExtension = function (files, providersBackstage) {\n      var allowedImageFileTypes = global$5.explode(providersBackstage.getSetting('images_file_types', defaultImageFileTypes, 'string'));\n      var isFileInAllowedTypes = function (file) {\n        return exists(allowedImageFileTypes, function (type) {\n          return endsWith(file.name.toLowerCase(), '.' + type.toLowerCase());\n        });\n      };\n      return filter$2(from(files), isFileInAllowedTypes);\n    };\n    var renderDropZone = function (spec, providersBackstage) {\n      var stopper = function (_, se) {\n        se.stop();\n      };\n      var sequence = function (actions) {\n        return function (comp, se) {\n          each$1(actions, function (a) {\n            a(comp, se);\n          });\n        };\n      };\n      var onDrop = function (comp, se) {\n        if (!Disabling.isDisabled(comp)) {\n          var transferEvent = se.event.raw;\n          handleFiles(comp, transferEvent.dataTransfer.files);\n        }\n      };\n      var onSelect = function (component, simulatedEvent) {\n        var input = simulatedEvent.event.raw.target;\n        handleFiles(component, input.files);\n      };\n      var handleFiles = function (component, files) {\n        Representing.setValue(component, filterByExtension(files, providersBackstage));\n        emitWith(component, formChangeEvent, { name: spec.name });\n      };\n      var memInput = record({\n        dom: {\n          tag: 'input',\n          attributes: {\n            type: 'file',\n            accept: 'image/*'\n          },\n          styles: { display: 'none' }\n        },\n        behaviours: derive$1([config('input-file-events', [\n            cutter(click()),\n            cutter(tap())\n          ])])\n      });\n      var renderField = function (s) {\n        return {\n          uid: s.uid,\n          dom: {\n            tag: 'div',\n            classes: ['tox-dropzone-container']\n          },\n          behaviours: derive$1([\n            RepresentingConfigs.memory([]),\n            ComposingConfigs.self(),\n            Disabling.config({}),\n            Toggling.config({\n              toggleClass: 'dragenter',\n              toggleOnExecute: false\n            }),\n            config('dropzone-events', [\n              run$1('dragenter', sequence([\n                stopper,\n                Toggling.toggle\n              ])),\n              run$1('dragleave', sequence([\n                stopper,\n                Toggling.toggle\n              ])),\n              run$1('dragover', stopper),\n              run$1('drop', sequence([\n                stopper,\n                onDrop\n              ])),\n              run$1(change(), onSelect)\n            ])\n          ]),\n          components: [{\n              dom: {\n                tag: 'div',\n                classes: ['tox-dropzone'],\n                styles: {}\n              },\n              components: [\n                {\n                  dom: {\n                    tag: 'p',\n                    innerHtml: providersBackstage.translate('Drop an image here')\n                  }\n                },\n                Button.sketch({\n                  dom: {\n                    tag: 'button',\n                    innerHtml: providersBackstage.translate('Browse for an image'),\n                    styles: { position: 'relative' },\n                    classes: [\n                      'tox-button',\n                      'tox-button--secondary'\n                    ]\n                  },\n                  components: [memInput.asSpec()],\n                  action: function (comp) {\n                    var inputComp = memInput.get(comp);\n                    inputComp.element.dom.click();\n                  },\n                  buttonBehaviours: derive$1([\n                    Tabstopping.config({}),\n                    DisablingConfigs.button(providersBackstage.isDisabled),\n                    receivingConfig()\n                  ])\n                })\n              ]\n            }]\n        };\n      };\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var pField = FormField.parts.field({ factory: { sketch: renderField } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    var renderGrid = function (spec, backstage) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-form__grid',\n            'tox-form__grid--' + spec.columns + 'col'\n          ]\n        },\n        components: map$2(spec.items, backstage.interpreter)\n      };\n    };\n\n    var beforeObject = generate$6('alloy-fake-before-tabstop');\n    var afterObject = generate$6('alloy-fake-after-tabstop');\n    var craftWithClasses = function (classes) {\n      return {\n        dom: {\n          tag: 'div',\n          styles: {\n            width: '1px',\n            height: '1px',\n            outline: 'none'\n          },\n          attributes: { tabindex: '0' },\n          classes: classes\n        },\n        behaviours: derive$1([\n          Focusing.config({ ignore: true }),\n          Tabstopping.config({})\n        ])\n      };\n    };\n    var craft = function (spec) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-navobj']\n        },\n        components: [\n          craftWithClasses([beforeObject]),\n          spec,\n          craftWithClasses([afterObject])\n        ],\n        behaviours: derive$1([ComposingConfigs.childAt(1)])\n      };\n    };\n    var triggerTab = function (placeholder, shiftKey) {\n      emitWith(placeholder, keydown(), {\n        raw: {\n          which: 9,\n          shiftKey: shiftKey\n        }\n      });\n    };\n    var onFocus = function (container, targetComp) {\n      var target = targetComp.element;\n      if (has(target, beforeObject)) {\n        triggerTab(container, true);\n      } else if (has(target, afterObject)) {\n        triggerTab(container, false);\n      }\n    };\n    var isPseudoStop = function (element) {\n      return closest(element, [\n        '.' + beforeObject,\n        '.' + afterObject\n      ].join(','), never);\n    };\n\n    var platformNeedsSandboxing = !(detect$1().browser.isIE() || detect$1().browser.isEdge());\n    var getDynamicSource = function (isSandbox) {\n      var cachedValue = Cell('');\n      return {\n        getValue: function (_frameComponent) {\n          return cachedValue.get();\n        },\n        setValue: function (frameComponent, html) {\n          if (!isSandbox) {\n            set$8(frameComponent.element, 'src', 'javascript:\\'\\'');\n            var doc = frameComponent.element.dom.contentWindow.document;\n            doc.open();\n            doc.write(html);\n            doc.close();\n          } else {\n            set$8(frameComponent.element, 'srcdoc', html);\n          }\n          cachedValue.set(html);\n        }\n      };\n    };\n    var renderIFrame = function (spec, providersBackstage) {\n      var isSandbox = platformNeedsSandboxing && spec.sandboxed;\n      var attributes = __assign(__assign({}, spec.label.map(function (title) {\n        return { title: title };\n      }).getOr({})), isSandbox ? { sandbox: 'allow-scripts allow-same-origin' } : {});\n      var sourcing = getDynamicSource(isSandbox);\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var factory = function (newSpec) {\n        return craft({\n          uid: newSpec.uid,\n          dom: {\n            tag: 'iframe',\n            attributes: attributes\n          },\n          behaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({}),\n            RepresentingConfigs.withComp(Optional.none(), sourcing.getValue, sourcing.setValue)\n          ])\n        });\n      };\n      var pField = FormField.parts.field({ factory: { sketch: factory } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    var create$3 = function (width, height) {\n      return resize$3(document.createElement('canvas'), width, height);\n    };\n    var clone = function (canvas) {\n      var tCanvas = create$3(canvas.width, canvas.height);\n      var ctx = get2dContext(tCanvas);\n      ctx.drawImage(canvas, 0, 0);\n      return tCanvas;\n    };\n    var get2dContext = function (canvas) {\n      return canvas.getContext('2d');\n    };\n    var resize$3 = function (canvas, width, height) {\n      canvas.width = width;\n      canvas.height = height;\n      return canvas;\n    };\n\n    var getWidth$1 = function (image) {\n      return image.naturalWidth || image.width;\n    };\n    var getHeight$1 = function (image) {\n      return image.naturalHeight || image.height;\n    };\n\n    var blobToImage = function (blob) {\n      return new Promise$1(function (resolve, reject) {\n        var blobUrl = URL.createObjectURL(blob);\n        var image = new Image();\n        var removeListeners = function () {\n          image.removeEventListener('load', loaded);\n          image.removeEventListener('error', error);\n        };\n        var loaded = function () {\n          removeListeners();\n          resolve(image);\n        };\n        var error = function () {\n          removeListeners();\n          reject('Unable to load data of type ' + blob.type + ': ' + blobUrl);\n        };\n        image.addEventListener('load', loaded);\n        image.addEventListener('error', error);\n        image.src = blobUrl;\n        if (image.complete) {\n          setTimeout(loaded, 0);\n        }\n      });\n    };\n    var dataUriToBlobSync = function (uri) {\n      var data = uri.split(',');\n      var matches = /data:([^;]+)/.exec(data[0]);\n      if (!matches) {\n        return Optional.none();\n      }\n      var mimetype = matches[1];\n      var base64 = data[1];\n      var sliceSize = 1024;\n      var byteCharacters = atob(base64);\n      var bytesLength = byteCharacters.length;\n      var slicesCount = Math.ceil(bytesLength / sliceSize);\n      var byteArrays = new Array(slicesCount);\n      for (var sliceIndex = 0; sliceIndex < slicesCount; ++sliceIndex) {\n        var begin = sliceIndex * sliceSize;\n        var end = Math.min(begin + sliceSize, bytesLength);\n        var bytes = new Array(end - begin);\n        for (var offset = begin, i = 0; offset < end; ++i, ++offset) {\n          bytes[i] = byteCharacters[offset].charCodeAt(0);\n        }\n        byteArrays[sliceIndex] = new Uint8Array(bytes);\n      }\n      return Optional.some(new Blob(byteArrays, { type: mimetype }));\n    };\n    var dataUriToBlob = function (uri) {\n      return new Promise$1(function (resolve, reject) {\n        dataUriToBlobSync(uri).fold(function () {\n          reject('uri is not base64: ' + uri);\n        }, resolve);\n      });\n    };\n    var canvasToBlob = function (canvas, type, quality) {\n      type = type || 'image/png';\n      if (isFunction(HTMLCanvasElement.prototype.toBlob)) {\n        return new Promise$1(function (resolve, reject) {\n          canvas.toBlob(function (blob) {\n            if (blob) {\n              resolve(blob);\n            } else {\n              reject();\n            }\n          }, type, quality);\n        });\n      } else {\n        return dataUriToBlob(canvas.toDataURL(type, quality));\n      }\n    };\n    var canvasToDataURL = function (canvas, type, quality) {\n      type = type || 'image/png';\n      return canvas.toDataURL(type, quality);\n    };\n    var blobToCanvas = function (blob) {\n      return blobToImage(blob).then(function (image) {\n        revokeImageUrl(image);\n        var canvas = create$3(getWidth$1(image), getHeight$1(image));\n        var context = get2dContext(canvas);\n        context.drawImage(image, 0, 0);\n        return canvas;\n      });\n    };\n    var blobToDataUri = function (blob) {\n      return new Promise$1(function (resolve) {\n        var reader = new FileReader();\n        reader.onloadend = function () {\n          resolve(reader.result);\n        };\n        reader.readAsDataURL(blob);\n      });\n    };\n    var revokeImageUrl = function (image) {\n      URL.revokeObjectURL(image.src);\n    };\n\n    var create$2 = function (getCanvas, blob, uri) {\n      var initialType = blob.type;\n      var getType = constant$1(initialType);\n      var toBlob = function () {\n        return Promise$1.resolve(blob);\n      };\n      var toDataURL = constant$1(uri);\n      var toBase64 = function () {\n        return uri.split(',')[1];\n      };\n      var toAdjustedBlob = function (type, quality) {\n        return getCanvas.then(function (canvas) {\n          return canvasToBlob(canvas, type, quality);\n        });\n      };\n      var toAdjustedDataURL = function (type, quality) {\n        return getCanvas.then(function (canvas) {\n          return canvasToDataURL(canvas, type, quality);\n        });\n      };\n      var toAdjustedBase64 = function (type, quality) {\n        return toAdjustedDataURL(type, quality).then(function (dataurl) {\n          return dataurl.split(',')[1];\n        });\n      };\n      var toCanvas = function () {\n        return getCanvas.then(clone);\n      };\n      return {\n        getType: getType,\n        toBlob: toBlob,\n        toDataURL: toDataURL,\n        toBase64: toBase64,\n        toAdjustedBlob: toAdjustedBlob,\n        toAdjustedDataURL: toAdjustedDataURL,\n        toAdjustedBase64: toAdjustedBase64,\n        toCanvas: toCanvas\n      };\n    };\n    var fromBlob = function (blob) {\n      return blobToDataUri(blob).then(function (uri) {\n        return create$2(blobToCanvas(blob), blob, uri);\n      });\n    };\n    var fromCanvas = function (canvas, type) {\n      return canvasToBlob(canvas, type).then(function (blob) {\n        return create$2(Promise$1.resolve(canvas), blob, canvas.toDataURL());\n      });\n    };\n\n    var blobToImageResult = function (blob) {\n      return fromBlob(blob);\n    };\n\n    var clamp = function (value, min, max) {\n      var parsedValue = typeof value === 'string' ? parseFloat(value) : value;\n      if (parsedValue > max) {\n        parsedValue = max;\n      } else if (parsedValue < min) {\n        parsedValue = min;\n      }\n      return parsedValue;\n    };\n    var identity = function () {\n      return [\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ];\n    };\n    var DELTA_INDEX = [\n      0,\n      0.01,\n      0.02,\n      0.04,\n      0.05,\n      0.06,\n      0.07,\n      0.08,\n      0.1,\n      0.11,\n      0.12,\n      0.14,\n      0.15,\n      0.16,\n      0.17,\n      0.18,\n      0.2,\n      0.21,\n      0.22,\n      0.24,\n      0.25,\n      0.27,\n      0.28,\n      0.3,\n      0.32,\n      0.34,\n      0.36,\n      0.38,\n      0.4,\n      0.42,\n      0.44,\n      0.46,\n      0.48,\n      0.5,\n      0.53,\n      0.56,\n      0.59,\n      0.62,\n      0.65,\n      0.68,\n      0.71,\n      0.74,\n      0.77,\n      0.8,\n      0.83,\n      0.86,\n      0.89,\n      0.92,\n      0.95,\n      0.98,\n      1,\n      1.06,\n      1.12,\n      1.18,\n      1.24,\n      1.3,\n      1.36,\n      1.42,\n      1.48,\n      1.54,\n      1.6,\n      1.66,\n      1.72,\n      1.78,\n      1.84,\n      1.9,\n      1.96,\n      2,\n      2.12,\n      2.25,\n      2.37,\n      2.5,\n      2.62,\n      2.75,\n      2.87,\n      3,\n      3.2,\n      3.4,\n      3.6,\n      3.8,\n      4,\n      4.3,\n      4.7,\n      4.9,\n      5,\n      5.5,\n      6,\n      6.5,\n      6.8,\n      7,\n      7.3,\n      7.5,\n      7.8,\n      8,\n      8.4,\n      8.7,\n      9,\n      9.4,\n      9.6,\n      9.8,\n      10\n    ];\n    var multiply = function (matrix1, matrix2) {\n      var col = [];\n      var out = new Array(25);\n      var val;\n      for (var i = 0; i < 5; i++) {\n        for (var j = 0; j < 5; j++) {\n          col[j] = matrix2[j + i * 5];\n        }\n        for (var j = 0; j < 5; j++) {\n          val = 0;\n          for (var k = 0; k < 5; k++) {\n            val += matrix1[j + k * 5] * col[k];\n          }\n          out[j + i * 5] = val;\n        }\n      }\n      return out;\n    };\n    var adjustContrast = function (matrix, value) {\n      var x;\n      value = clamp(value, -1, 1);\n      value *= 100;\n      if (value < 0) {\n        x = 127 + value / 100 * 127;\n      } else {\n        x = value % 1;\n        if (x === 0) {\n          x = DELTA_INDEX[value];\n        } else {\n          x = DELTA_INDEX[Math.floor(value)] * (1 - x) + DELTA_INDEX[Math.floor(value) + 1] * x;\n        }\n        x = x * 127 + 127;\n      }\n      return multiply(matrix, [\n        x / 127,\n        0,\n        0,\n        0,\n        0.5 * (127 - x),\n        0,\n        x / 127,\n        0,\n        0,\n        0.5 * (127 - x),\n        0,\n        0,\n        x / 127,\n        0,\n        0.5 * (127 - x),\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n    };\n    var adjustBrightness = function (matrix, value) {\n      value = clamp(255 * value, -255, 255);\n      return multiply(matrix, [\n        1,\n        0,\n        0,\n        0,\n        value,\n        0,\n        1,\n        0,\n        0,\n        value,\n        0,\n        0,\n        1,\n        0,\n        value,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n    };\n    var adjustColors = function (matrix, adjustR, adjustG, adjustB) {\n      adjustR = clamp(adjustR, 0, 2);\n      adjustG = clamp(adjustG, 0, 2);\n      adjustB = clamp(adjustB, 0, 2);\n      return multiply(matrix, [\n        adjustR,\n        0,\n        0,\n        0,\n        0,\n        0,\n        adjustG,\n        0,\n        0,\n        0,\n        0,\n        0,\n        adjustB,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n    };\n\n    var colorFilter = function (ir, matrix) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyColorFilter(canvas, ir.getType(), matrix);\n      });\n    };\n    var applyColorFilter = function (canvas, type, matrix) {\n      var context = get2dContext(canvas);\n      var applyMatrix = function (pixelsData, m) {\n        var r, g, b, a;\n        var data = pixelsData.data, m0 = m[0], m1 = m[1], m2 = m[2], m3 = m[3], m4 = m[4], m5 = m[5], m6 = m[6], m7 = m[7], m8 = m[8], m9 = m[9], m10 = m[10], m11 = m[11], m12 = m[12], m13 = m[13], m14 = m[14], m15 = m[15], m16 = m[16], m17 = m[17], m18 = m[18], m19 = m[19];\n        for (var i = 0; i < data.length; i += 4) {\n          r = data[i];\n          g = data[i + 1];\n          b = data[i + 2];\n          a = data[i + 3];\n          data[i] = r * m0 + g * m1 + b * m2 + a * m3 + m4;\n          data[i + 1] = r * m5 + g * m6 + b * m7 + a * m8 + m9;\n          data[i + 2] = r * m10 + g * m11 + b * m12 + a * m13 + m14;\n          data[i + 3] = r * m15 + g * m16 + b * m17 + a * m18 + m19;\n        }\n        return pixelsData;\n      };\n      var pixels = applyMatrix(context.getImageData(0, 0, canvas.width, canvas.height), matrix);\n      context.putImageData(pixels, 0, 0);\n      return fromCanvas(canvas, type);\n    };\n    var convoluteFilter = function (ir, matrix) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyConvoluteFilter(canvas, ir.getType(), matrix);\n      });\n    };\n    var applyConvoluteFilter = function (canvas, type, matrix) {\n      var context = get2dContext(canvas);\n      var applyMatrix = function (pIn, pOut, aMatrix) {\n        var clamp = function (value, min, max) {\n          if (value > max) {\n            value = max;\n          } else if (value < min) {\n            value = min;\n          }\n          return value;\n        };\n        var side = Math.round(Math.sqrt(aMatrix.length));\n        var halfSide = Math.floor(side / 2);\n        var rgba = pIn.data;\n        var drgba = pOut.data;\n        var w = pIn.width;\n        var h = pIn.height;\n        for (var y = 0; y < h; y++) {\n          for (var x = 0; x < w; x++) {\n            var r = 0;\n            var g = 0;\n            var b = 0;\n            for (var cy = 0; cy < side; cy++) {\n              for (var cx = 0; cx < side; cx++) {\n                var scx = clamp(x + cx - halfSide, 0, w - 1);\n                var scy = clamp(y + cy - halfSide, 0, h - 1);\n                var innerOffset = (scy * w + scx) * 4;\n                var wt = aMatrix[cy * side + cx];\n                r += rgba[innerOffset] * wt;\n                g += rgba[innerOffset + 1] * wt;\n                b += rgba[innerOffset + 2] * wt;\n              }\n            }\n            var offset = (y * w + x) * 4;\n            drgba[offset] = clamp(r, 0, 255);\n            drgba[offset + 1] = clamp(g, 0, 255);\n            drgba[offset + 2] = clamp(b, 0, 255);\n          }\n        }\n        return pOut;\n      };\n      var pixelsIn = context.getImageData(0, 0, canvas.width, canvas.height);\n      var pixelsOut = context.getImageData(0, 0, canvas.width, canvas.height);\n      pixelsOut = applyMatrix(pixelsIn, pixelsOut, matrix);\n      context.putImageData(pixelsOut, 0, 0);\n      return fromCanvas(canvas, type);\n    };\n    var functionColorFilter = function (colorFn) {\n      var filterImpl = function (canvas, type, value) {\n        var context = get2dContext(canvas);\n        var lookup = new Array(256);\n        var applyLookup = function (pixelsData, lookupData) {\n          var data = pixelsData.data;\n          for (var i = 0; i < data.length; i += 4) {\n            data[i] = lookupData[data[i]];\n            data[i + 1] = lookupData[data[i + 1]];\n            data[i + 2] = lookupData[data[i + 2]];\n          }\n          return pixelsData;\n        };\n        for (var i = 0; i < lookup.length; i++) {\n          lookup[i] = colorFn(i, value);\n        }\n        var pixels = applyLookup(context.getImageData(0, 0, canvas.width, canvas.height), lookup);\n        context.putImageData(pixels, 0, 0);\n        return fromCanvas(canvas, type);\n      };\n      return function (ir, value) {\n        return ir.toCanvas().then(function (canvas) {\n          return filterImpl(canvas, ir.getType(), value);\n        });\n      };\n    };\n    var complexAdjustableColorFilter = function (matrixAdjustFn) {\n      return function (ir, adjust) {\n        return colorFilter(ir, matrixAdjustFn(identity(), adjust));\n      };\n    };\n    var basicColorFilter = function (matrix) {\n      return function (ir) {\n        return colorFilter(ir, matrix);\n      };\n    };\n    var basicConvolutionFilter = function (kernel) {\n      return function (ir) {\n        return convoluteFilter(ir, kernel);\n      };\n    };\n    var invert$1 = basicColorFilter([\n      -1,\n      0,\n      0,\n      0,\n      255,\n      0,\n      -1,\n      0,\n      0,\n      255,\n      0,\n      0,\n      -1,\n      0,\n      255,\n      0,\n      0,\n      0,\n      1,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1\n    ]);\n    var brightness$1 = complexAdjustableColorFilter(adjustBrightness);\n    var contrast$1 = complexAdjustableColorFilter(adjustContrast);\n    var colorize$1 = function (ir, adjustR, adjustG, adjustB) {\n      return colorFilter(ir, adjustColors(identity(), adjustR, adjustG, adjustB));\n    };\n    var sharpen$1 = basicConvolutionFilter([\n      0,\n      -1,\n      0,\n      -1,\n      5,\n      -1,\n      0,\n      -1,\n      0\n    ]);\n    var gamma$1 = functionColorFilter(function (color, value) {\n      return Math.pow(color / 255, 1 - value) * 255;\n    });\n\n    var scale = function (image, dW, dH) {\n      var sW = getWidth$1(image);\n      var sH = getHeight$1(image);\n      var wRatio = dW / sW;\n      var hRatio = dH / sH;\n      var scaleCapped = false;\n      if (wRatio < 0.5 || wRatio > 2) {\n        wRatio = wRatio < 0.5 ? 0.5 : 2;\n        scaleCapped = true;\n      }\n      if (hRatio < 0.5 || hRatio > 2) {\n        hRatio = hRatio < 0.5 ? 0.5 : 2;\n        scaleCapped = true;\n      }\n      var scaled = _scale(image, wRatio, hRatio);\n      return !scaleCapped ? scaled : scaled.then(function (tCanvas) {\n        return scale(tCanvas, dW, dH);\n      });\n    };\n    var _scale = function (image, wRatio, hRatio) {\n      return new Promise$1(function (resolve) {\n        var sW = getWidth$1(image);\n        var sH = getHeight$1(image);\n        var dW = Math.floor(sW * wRatio);\n        var dH = Math.floor(sH * hRatio);\n        var canvas = create$3(dW, dH);\n        var context = get2dContext(canvas);\n        context.drawImage(image, 0, 0, sW, sH, 0, 0, dW, dH);\n        resolve(canvas);\n      });\n    };\n\n    var ceilWithPrecision = function (num, precision) {\n      if (precision === void 0) {\n        precision = 2;\n      }\n      var mul = Math.pow(10, precision);\n      var upper = Math.round(num * mul);\n      return Math.ceil(upper / mul);\n    };\n    var rotate$1 = function (ir, angle) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyRotate(canvas, ir.getType(), angle);\n      });\n    };\n    var applyRotate = function (image, type, angle) {\n      var degrees = angle < 0 ? 360 + angle : angle;\n      var rad = degrees * Math.PI / 180;\n      var width = image.width;\n      var height = image.height;\n      var sin = Math.sin(rad);\n      var cos = Math.cos(rad);\n      var newWidth = ceilWithPrecision(Math.abs(width * cos) + Math.abs(height * sin));\n      var newHeight = ceilWithPrecision(Math.abs(width * sin) + Math.abs(height * cos));\n      var canvas = create$3(newWidth, newHeight);\n      var context = get2dContext(canvas);\n      context.translate(newWidth / 2, newHeight / 2);\n      context.rotate(rad);\n      context.drawImage(image, -width / 2, -height / 2);\n      return fromCanvas(canvas, type);\n    };\n    var flip$1 = function (ir, axis) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyFlip(canvas, ir.getType(), axis);\n      });\n    };\n    var applyFlip = function (image, type, axis) {\n      var canvas = create$3(image.width, image.height);\n      var context = get2dContext(canvas);\n      if (axis === 'v') {\n        context.scale(1, -1);\n        context.drawImage(image, 0, -canvas.height);\n      } else {\n        context.scale(-1, 1);\n        context.drawImage(image, -canvas.width, 0);\n      }\n      return fromCanvas(canvas, type);\n    };\n    var crop$1 = function (ir, x, y, w, h) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyCrop(canvas, ir.getType(), x, y, w, h);\n      });\n    };\n    var applyCrop = function (image, type, x, y, w, h) {\n      var canvas = create$3(w, h);\n      var context = get2dContext(canvas);\n      context.drawImage(image, -x, -y);\n      return fromCanvas(canvas, type);\n    };\n    var resize$2 = function (ir, w, h) {\n      return ir.toCanvas().then(function (canvas) {\n        return scale(canvas, w, h).then(function (newCanvas) {\n          return fromCanvas(newCanvas, ir.getType());\n        });\n      });\n    };\n\n    var invert = function (ir) {\n      return invert$1(ir);\n    };\n    var sharpen = function (ir) {\n      return sharpen$1(ir);\n    };\n    var gamma = function (ir, value) {\n      return gamma$1(ir, value);\n    };\n    var colorize = function (ir, adjustR, adjustG, adjustB) {\n      return colorize$1(ir, adjustR, adjustG, adjustB);\n    };\n    var brightness = function (ir, adjust) {\n      return brightness$1(ir, adjust);\n    };\n    var contrast = function (ir, adjust) {\n      return contrast$1(ir, adjust);\n    };\n    var flip = function (ir, axis) {\n      return flip$1(ir, axis);\n    };\n    var crop = function (ir, x, y, w, h) {\n      return crop$1(ir, x, y, w, h);\n    };\n    var resize$1 = function (ir, w, h) {\n      return resize$2(ir, w, h);\n    };\n    var rotate = function (ir, angle) {\n      return rotate$1(ir, angle);\n    };\n\n    var renderIcon = function (iconName, iconsProvider, behaviours) {\n      return render$3(iconName, {\n        tag: 'span',\n        classes: [\n          'tox-icon',\n          'tox-tbtn__icon-wrap'\n        ],\n        behaviours: behaviours\n      }, iconsProvider);\n    };\n    var renderIconFromPack = function (iconName, iconsProvider) {\n      return renderIcon(iconName, iconsProvider, []);\n    };\n    var renderReplacableIconFromPack = function (iconName, iconsProvider) {\n      return renderIcon(iconName, iconsProvider, [Replacing.config({})]);\n    };\n    var renderLabel$1 = function (text, prefix, providersBackstage) {\n      return {\n        dom: {\n          tag: 'span',\n          innerHtml: providersBackstage.translate(text),\n          classes: [prefix + '__select-label']\n        },\n        behaviours: derive$1([Replacing.config({})])\n      };\n    };\n\n    var _a;\n    var internalToolbarButtonExecute = generate$6('toolbar.button.execute');\n    var onToolbarButtonExecute = function (info) {\n      return runOnExecute$1(function (comp, _simulatedEvent) {\n        runWithApi(info, comp)(function (itemApi) {\n          emitWith(comp, internalToolbarButtonExecute, { buttonApi: itemApi });\n          info.onAction(itemApi);\n        });\n      });\n    };\n    var toolbarButtonEventOrder = (_a = {}, _a[execute$5()] = [\n      'disabling',\n      'alloy.base.behaviour',\n      'toggling',\n      'toolbar-button-events'\n    ], _a);\n\n    var updateMenuText = generate$6('update-menu-text');\n    var updateMenuIcon = generate$6('update-menu-icon');\n    var renderCommonDropdown = function (spec, prefix, sharedBackstage) {\n      var editorOffCell = Cell(noop);\n      var optMemDisplayText = spec.text.map(function (text) {\n        return record(renderLabel$1(text, prefix, sharedBackstage.providers));\n      });\n      var optMemDisplayIcon = spec.icon.map(function (iconName) {\n        return record(renderReplacableIconFromPack(iconName, sharedBackstage.providers.icons));\n      });\n      var onLeftOrRightInMenu = function (comp, se) {\n        var dropdown = Representing.getValue(comp);\n        Focusing.focus(dropdown);\n        emitWith(dropdown, 'keydown', { raw: se.event.raw });\n        Dropdown.close(dropdown);\n        return Optional.some(true);\n      };\n      var role = spec.role.fold(function () {\n        return {};\n      }, function (role) {\n        return { role: role };\n      });\n      var tooltipAttributes = spec.tooltip.fold(function () {\n        return {};\n      }, function (tooltip) {\n        var translatedTooltip = sharedBackstage.providers.translate(tooltip);\n        return {\n          'title': translatedTooltip,\n          'aria-label': translatedTooltip\n        };\n      });\n      var iconSpec = render$3('chevron-down', {\n        tag: 'div',\n        classes: [prefix + '__select-chevron']\n      }, sharedBackstage.providers.icons);\n      var memDropdown = record(Dropdown.sketch(__assign(__assign(__assign({}, spec.uid ? { uid: spec.uid } : {}), role), {\n        dom: {\n          tag: 'button',\n          classes: [\n            prefix,\n            prefix + '--select'\n          ].concat(map$2(spec.classes, function (c) {\n            return prefix + '--' + c;\n          })),\n          attributes: __assign({}, tooltipAttributes)\n        },\n        components: componentRenderPipeline([\n          optMemDisplayIcon.map(function (mem) {\n            return mem.asSpec();\n          }),\n          optMemDisplayText.map(function (mem) {\n            return mem.asSpec();\n          }),\n          Optional.some(iconSpec)\n        ]),\n        matchWidth: true,\n        useMinWidth: true,\n        dropdownBehaviours: derive$1(__spreadArray(__spreadArray([], spec.dropdownBehaviours, true), [\n          DisablingConfigs.button(function () {\n            return spec.disabled || sharedBackstage.providers.isDisabled();\n          }),\n          receivingConfig(),\n          Unselecting.config({}),\n          Replacing.config({}),\n          config('dropdown-events', [\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          config('menubutton-update-display-text', [\n            run$1(updateMenuText, function (comp, se) {\n              optMemDisplayText.bind(function (mem) {\n                return mem.getOpt(comp);\n              }).each(function (displayText) {\n                Replacing.set(displayText, [text(sharedBackstage.providers.translate(se.event.text))]);\n              });\n            }),\n            run$1(updateMenuIcon, function (comp, se) {\n              optMemDisplayIcon.bind(function (mem) {\n                return mem.getOpt(comp);\n              }).each(function (displayIcon) {\n                Replacing.set(displayIcon, [renderReplacableIconFromPack(se.event.icon, sharedBackstage.providers.icons)]);\n              });\n            })\n          ])\n        ], false)),\n        eventOrder: deepMerge(toolbarButtonEventOrder, {\n          mousedown: [\n            'focusing',\n            'alloy.base.behaviour',\n            'item-type-events',\n            'normal-dropdown-events'\n          ]\n        }),\n        sandboxBehaviours: derive$1([Keying.config({\n            mode: 'special',\n            onLeft: onLeftOrRightInMenu,\n            onRight: onLeftOrRightInMenu\n          })]),\n        lazySink: sharedBackstage.getSink,\n        toggleClass: prefix + '--active',\n        parts: { menu: part(false, spec.columns, spec.presets) },\n        fetch: function (comp) {\n          return Future.nu(curry(spec.fetch, comp));\n        }\n      })));\n      return memDropdown.asSpec();\n    };\n\n    var isMenuItemReference = function (item) {\n      return isString(item);\n    };\n    var isSeparator$1 = function (item) {\n      return item.type === 'separator';\n    };\n    var isExpandingMenuItem = function (item) {\n      return has$2(item, 'getSubmenuItems');\n    };\n    var separator$2 = { type: 'separator' };\n    var unwrapReferences = function (items, menuItems) {\n      var realItems = foldl(items, function (acc, item) {\n        if (isMenuItemReference(item)) {\n          if (item === '') {\n            return acc;\n          } else if (item === '|') {\n            return acc.length > 0 && !isSeparator$1(acc[acc.length - 1]) ? acc.concat([separator$2]) : acc;\n          } else if (has$2(menuItems, item.toLowerCase())) {\n            return acc.concat([menuItems[item.toLowerCase()]]);\n          } else {\n            return acc;\n          }\n        } else {\n          return acc.concat([item]);\n        }\n      }, []);\n      if (realItems.length > 0 && isSeparator$1(realItems[realItems.length - 1])) {\n        realItems.pop();\n      }\n      return realItems;\n    };\n    var getFromExpandingItem = function (item, menuItems) {\n      var submenuItems = item.getSubmenuItems();\n      var rest = expand(submenuItems, menuItems);\n      var newMenus = deepMerge(rest.menus, wrap$1(item.value, rest.items));\n      var newExpansions = deepMerge(rest.expansions, wrap$1(item.value, item.value));\n      return {\n        item: item,\n        menus: newMenus,\n        expansions: newExpansions\n      };\n    };\n    var getFromItem = function (item, menuItems) {\n      return isExpandingMenuItem(item) ? getFromExpandingItem(item, menuItems) : {\n        item: item,\n        menus: {},\n        expansions: {}\n      };\n    };\n    var generateValueIfRequired = function (item) {\n      if (isSeparator$1(item)) {\n        return item;\n      } else {\n        var itemValue = get$e(item, 'value').getOrThunk(function () {\n          return generate$6('generated-menu-item');\n        });\n        return deepMerge({ value: itemValue }, item);\n      }\n    };\n    var expand = function (items, menuItems) {\n      var realItems = unwrapReferences(isString(items) ? items.split(' ') : items, menuItems);\n      return foldr(realItems, function (acc, item) {\n        var itemWithValue = generateValueIfRequired(item);\n        var newData = getFromItem(itemWithValue, menuItems);\n        return {\n          menus: deepMerge(acc.menus, newData.menus),\n          items: [newData.item].concat(acc.items),\n          expansions: deepMerge(acc.expansions, newData.expansions)\n        };\n      }, {\n        menus: {},\n        expansions: {},\n        items: []\n      });\n    };\n\n    var build = function (items, itemResponse, backstage, isHorizontalMenu) {\n      var primary = generate$6('primary-menu');\n      var data = expand(items, backstage.shared.providers.menuItems());\n      if (data.items.length === 0) {\n        return Optional.none();\n      }\n      var mainMenu = createPartialMenu(primary, data.items, itemResponse, backstage, isHorizontalMenu);\n      var submenus = map$1(data.menus, function (menuItems, menuName) {\n        return createPartialMenu(menuName, menuItems, itemResponse, backstage, false);\n      });\n      var menus = deepMerge(submenus, wrap$1(primary, mainMenu));\n      return Optional.from(tieredMenu.tieredData(primary, menus, data.expansions));\n    };\n\n    var getMenuButtonApi = function (component) {\n      return {\n        isDisabled: function () {\n          return Disabling.isDisabled(component);\n        },\n        setDisabled: function (state) {\n          return Disabling.set(component, state);\n        },\n        setActive: function (state) {\n          var elm = component.element;\n          if (state) {\n            add$2(elm, 'tox-tbtn--enabled');\n            set$8(elm, 'aria-pressed', true);\n          } else {\n            remove$2(elm, 'tox-tbtn--enabled');\n            remove$7(elm, 'aria-pressed');\n          }\n        },\n        isActive: function () {\n          return has(component.element, 'tox-tbtn--enabled');\n        }\n      };\n    };\n    var renderMenuButton = function (spec, prefix, backstage, role) {\n      return renderCommonDropdown({\n        text: spec.text,\n        icon: spec.icon,\n        tooltip: spec.tooltip,\n        role: role,\n        fetch: function (_comp, callback) {\n          spec.fetch(function (items) {\n            callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false));\n          });\n        },\n        onSetup: spec.onSetup,\n        getApi: getMenuButtonApi,\n        columns: 1,\n        presets: 'normal',\n        classes: [],\n        dropdownBehaviours: [Tabstopping.config({})]\n      }, prefix, backstage.shared);\n    };\n    var getFetch = function (items, getButton, backstage) {\n      var getMenuItemAction = function (item) {\n        return function (api) {\n          var newValue = !api.isActive();\n          api.setActive(newValue);\n          item.storage.set(newValue);\n          backstage.shared.getSink().each(function (sink) {\n            getButton().getOpt(sink).each(function (orig) {\n              focus$3(orig.element);\n              emitWith(orig, formActionEvent, {\n                name: item.name,\n                value: item.storage.get()\n              });\n            });\n          });\n        };\n      };\n      var getMenuItemSetup = function (item) {\n        return function (api) {\n          api.setActive(item.storage.get());\n        };\n      };\n      return function (success) {\n        success(map$2(items, function (item) {\n          var text = item.text.fold(function () {\n            return {};\n          }, function (text) {\n            return { text: text };\n          });\n          return __assign(__assign({\n            type: item.type,\n            active: false\n          }, text), {\n            onAction: getMenuItemAction(item),\n            onSetup: getMenuItemSetup(item)\n          });\n        }));\n      };\n    };\n\n    var renderCommonSpec = function (spec, actionOpt, extraBehaviours, dom, components, providersBackstage) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      var action = actionOpt.fold(function () {\n        return {};\n      }, function (action) {\n        return { action: action };\n      });\n      var common = __assign({\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(function () {\n            return spec.disabled || providersBackstage.isDisabled();\n          }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          config('button press', [\n            preventDefault('click'),\n            preventDefault('mousedown')\n          ])\n        ].concat(extraBehaviours)),\n        eventOrder: {\n          click: [\n            'button press',\n            'alloy.base.behaviour'\n          ],\n          mousedown: [\n            'button press',\n            'alloy.base.behaviour'\n          ]\n        }\n      }, action);\n      var domFinal = deepMerge(common, { dom: dom });\n      return deepMerge(domFinal, { components: components });\n    };\n    var renderIconButtonSpec = function (spec, action, providersBackstage, extraBehaviours) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      var tooltipAttributes = spec.tooltip.map(function (tooltip) {\n        return {\n          'aria-label': providersBackstage.translate(tooltip),\n          'title': providersBackstage.translate(tooltip)\n        };\n      }).getOr({});\n      var dom = {\n        tag: 'button',\n        classes: ['tox-tbtn'],\n        attributes: tooltipAttributes\n      };\n      var icon = spec.icon.map(function (iconName) {\n        return renderIconFromPack(iconName, providersBackstage.icons);\n      });\n      var components = componentRenderPipeline([icon]);\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, providersBackstage);\n    };\n    var renderIconButton = function (spec, action, providersBackstage, extraBehaviours) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      var iconButtonSpec = renderIconButtonSpec(spec, Optional.some(action), providersBackstage, extraBehaviours);\n      return Button.sketch(iconButtonSpec);\n    };\n    var renderButtonSpec = function (spec, action, providersBackstage, extraBehaviours, extraClasses) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      if (extraClasses === void 0) {\n        extraClasses = [];\n      }\n      var translatedText = providersBackstage.translate(spec.text);\n      var icon = spec.icon ? spec.icon.map(function (iconName) {\n        return renderIconFromPack(iconName, providersBackstage.icons);\n      }) : Optional.none();\n      var components = icon.isSome() ? componentRenderPipeline([icon]) : [];\n      var innerHtml = icon.isSome() ? {} : { innerHtml: translatedText };\n      var classes = __spreadArray(__spreadArray(__spreadArray(__spreadArray([], !spec.primary && !spec.borderless ? [\n        'tox-button',\n        'tox-button--secondary'\n      ] : ['tox-button'], true), icon.isSome() ? ['tox-button--icon'] : [], true), spec.borderless ? ['tox-button--naked'] : [], true), extraClasses, true);\n      var dom = __assign(__assign({\n        tag: 'button',\n        classes: classes\n      }, innerHtml), { attributes: { title: translatedText } });\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, providersBackstage);\n    };\n    var renderButton = function (spec, action, providersBackstage, extraBehaviours, extraClasses) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      if (extraClasses === void 0) {\n        extraClasses = [];\n      }\n      var buttonSpec = renderButtonSpec(spec, Optional.some(action), providersBackstage, extraBehaviours, extraClasses);\n      return Button.sketch(buttonSpec);\n    };\n    var getAction = function (name, buttonType) {\n      return function (comp) {\n        if (buttonType === 'custom') {\n          emitWith(comp, formActionEvent, {\n            name: name,\n            value: {}\n          });\n        } else if (buttonType === 'submit') {\n          emit(comp, formSubmitEvent);\n        } else if (buttonType === 'cancel') {\n          emit(comp, formCancelEvent);\n        } else {\n          console.error('Unknown button type: ', buttonType);\n        }\n      };\n    };\n    var isMenuFooterButtonSpec = function (spec, buttonType) {\n      return buttonType === 'menu';\n    };\n    var isNormalFooterButtonSpec = function (spec, buttonType) {\n      return buttonType === 'custom' || buttonType === 'cancel' || buttonType === 'submit';\n    };\n    var renderFooterButton = function (spec, buttonType, backstage) {\n      if (isMenuFooterButtonSpec(spec, buttonType)) {\n        var getButton = function () {\n          return memButton_1;\n        };\n        var menuButtonSpec = spec;\n        var fixedSpec = __assign(__assign({}, spec), {\n          onSetup: function (api) {\n            api.setDisabled(spec.disabled);\n            return noop;\n          },\n          fetch: getFetch(menuButtonSpec.items, getButton, backstage)\n        });\n        var memButton_1 = record(renderMenuButton(fixedSpec, 'tox-tbtn', backstage, Optional.none()));\n        return memButton_1.asSpec();\n      } else if (isNormalFooterButtonSpec(spec, buttonType)) {\n        var action = getAction(spec.name, buttonType);\n        var buttonSpec = __assign(__assign({}, spec), { borderless: false });\n        return renderButton(buttonSpec, action, backstage.shared.providers, []);\n      } else {\n        console.error('Unknown footer button type: ', buttonType);\n      }\n    };\n    var renderDialogButton = function (spec, providersBackstage) {\n      var action = getAction(spec.name, 'custom');\n      return renderFormField(Optional.none(), FormField.parts.field(__assign({ factory: Button }, renderButtonSpec(spec, Optional.some(action), providersBackstage, [\n        RepresentingConfigs.memory(''),\n        ComposingConfigs.self()\n      ]))));\n    };\n\n    var schema$h = constant$1([\n      defaulted('field1Name', 'field1'),\n      defaulted('field2Name', 'field2'),\n      onStrictHandler('onLockedChange'),\n      markers$1(['lockClass']),\n      defaulted('locked', false),\n      SketchBehaviours.field('coupledFieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    var getField = function (comp, detail, partName) {\n      return getPart(comp, detail, partName).bind(Composing.getCurrent);\n    };\n    var coupledPart = function (selfName, otherName) {\n      return required({\n        factory: FormField,\n        name: selfName,\n        overrides: function (detail) {\n          return {\n            fieldBehaviours: derive$1([config('coupled-input-behaviour', [run$1(input(), function (me) {\n                  getField(me, detail, otherName).each(function (other) {\n                    getPart(me, detail, 'lock').each(function (lock) {\n                      if (Toggling.isOn(lock)) {\n                        detail.onLockedChange(me, other, lock);\n                      }\n                    });\n                  });\n                })])])\n          };\n        }\n      });\n    };\n    var parts$c = constant$1([\n      coupledPart('field1', 'field2'),\n      coupledPart('field2', 'field1'),\n      required({\n        factory: Button,\n        schema: [required$1('dom')],\n        name: 'lock',\n        overrides: function (detail) {\n          return {\n            buttonBehaviours: derive$1([Toggling.config({\n                selected: detail.locked,\n                toggleClass: detail.markers.lockClass,\n                aria: { mode: 'pressed' }\n              })])\n          };\n        }\n      })\n    ]);\n\n    var factory$f = function (detail, components, _spec, _externals) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: SketchBehaviours.augment(detail.coupledFieldBehaviours, [\n          Composing.config({ find: Optional.some }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (comp) {\n                var _a;\n                var parts = getPartsOrDie(comp, detail, [\n                  'field1',\n                  'field2'\n                ]);\n                return _a = {}, _a[detail.field1Name] = Representing.getValue(parts.field1()), _a[detail.field2Name] = Representing.getValue(parts.field2()), _a;\n              },\n              setValue: function (comp, value) {\n                var parts = getPartsOrDie(comp, detail, [\n                  'field1',\n                  'field2'\n                ]);\n                if (hasNonNullableKey(value, detail.field1Name)) {\n                  Representing.setValue(parts.field1(), value[detail.field1Name]);\n                }\n                if (hasNonNullableKey(value, detail.field2Name)) {\n                  Representing.setValue(parts.field2(), value[detail.field2Name]);\n                }\n              }\n            }\n          })\n        ]),\n        apis: {\n          getField1: function (component) {\n            return getPart(component, detail, 'field1');\n          },\n          getField2: function (component) {\n            return getPart(component, detail, 'field2');\n          },\n          getLock: function (component) {\n            return getPart(component, detail, 'lock');\n          }\n        }\n      };\n    };\n    var FormCoupledInputs = composite({\n      name: 'FormCoupledInputs',\n      configFields: schema$h(),\n      partFields: parts$c(),\n      factory: factory$f,\n      apis: {\n        getField1: function (apis, component) {\n          return apis.getField1(component);\n        },\n        getField2: function (apis, component) {\n          return apis.getField2(component);\n        },\n        getLock: function (apis, component) {\n          return apis.getLock(component);\n        }\n      }\n    });\n\n    var formatSize = function (size) {\n      var unitDec = {\n        '': 0,\n        'px': 0,\n        'pt': 1,\n        'mm': 1,\n        'pc': 2,\n        'ex': 2,\n        'em': 2,\n        'ch': 2,\n        'rem': 2,\n        'cm': 3,\n        'in': 4,\n        '%': 4\n      };\n      var maxDecimal = function (unit) {\n        return unit in unitDec ? unitDec[unit] : 1;\n      };\n      var numText = size.value.toFixed(maxDecimal(size.unit));\n      if (numText.indexOf('.') !== -1) {\n        numText = numText.replace(/\\.?0*$/, '');\n      }\n      return numText + size.unit;\n    };\n    var parseSize = function (sizeText) {\n      var numPattern = /^\\s*(\\d+(?:\\.\\d+)?)\\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\\s*$/;\n      var match = numPattern.exec(sizeText);\n      if (match !== null) {\n        var value = parseFloat(match[1]);\n        var unit = match[2];\n        return Result.value({\n          value: value,\n          unit: unit\n        });\n      } else {\n        return Result.error(sizeText);\n      }\n    };\n    var convertUnit = function (size, unit) {\n      var inInch = {\n        '': 96,\n        'px': 96,\n        'pt': 72,\n        'cm': 2.54,\n        'pc': 12,\n        'mm': 25.4,\n        'in': 1\n      };\n      var supported = function (u) {\n        return has$2(inInch, u);\n      };\n      if (size.unit === unit) {\n        return Optional.some(size.value);\n      } else if (supported(size.unit) && supported(unit)) {\n        if (inInch[size.unit] === inInch[unit]) {\n          return Optional.some(size.value);\n        } else {\n          return Optional.some(size.value / inInch[size.unit] * inInch[unit]);\n        }\n      } else {\n        return Optional.none();\n      }\n    };\n    var noSizeConversion = function (_input) {\n      return Optional.none();\n    };\n    var ratioSizeConversion = function (scale, unit) {\n      return function (size) {\n        return convertUnit(size, unit).map(function (value) {\n          return {\n            value: value * scale,\n            unit: unit\n          };\n        });\n      };\n    };\n    var makeRatioConverter = function (currentFieldText, otherFieldText) {\n      var cValue = parseSize(currentFieldText).toOptional();\n      var oValue = parseSize(otherFieldText).toOptional();\n      return lift2(cValue, oValue, function (cSize, oSize) {\n        return convertUnit(cSize, oSize.unit).map(function (val) {\n          return oSize.value / val;\n        }).map(function (r) {\n          return ratioSizeConversion(r, oSize.unit);\n        }).getOr(noSizeConversion);\n      }).getOr(noSizeConversion);\n    };\n\n    var renderSizeInput = function (spec, providersBackstage) {\n      var converter = noSizeConversion;\n      var ratioEvent = generate$6('ratio-event');\n      var makeIcon = function (iconName) {\n        return render$3(iconName, {\n          tag: 'span',\n          classes: [\n            'tox-icon',\n            'tox-lock-icon__' + iconName\n          ]\n        }, providersBackstage.icons);\n      };\n      var pLock = FormCoupledInputs.parts.lock({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-lock',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ],\n          attributes: { title: providersBackstage.translate(spec.label.getOr('Constrain proportions')) }\n        },\n        components: [\n          makeIcon('lock'),\n          makeIcon('unlock')\n        ],\n        buttonBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            }\n          }),\n          receivingConfig(),\n          Tabstopping.config({})\n        ])\n      });\n      var formGroup = function (components) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group']\n          },\n          components: components\n        };\n      };\n      var getFieldPart = function (isField1) {\n        return FormField.parts.field({\n          factory: Input,\n          inputClasses: ['tox-textfield'],\n          inputBehaviours: derive$1([\n            Disabling.config({\n              disabled: function () {\n                return spec.disabled || providersBackstage.isDisabled();\n              }\n            }),\n            receivingConfig(),\n            Tabstopping.config({}),\n            config('size-input-events', [\n              run$1(focusin(), function (component, _simulatedEvent) {\n                emitWith(component, ratioEvent, { isField1: isField1 });\n              }),\n              run$1(change(), function (component, _simulatedEvent) {\n                emitWith(component, formChangeEvent, { name: spec.name });\n              })\n            ])\n          ]),\n          selectOnFocus: false\n        });\n      };\n      var getLabel = function (label) {\n        return {\n          dom: {\n            tag: 'label',\n            classes: ['tox-label'],\n            innerHtml: providersBackstage.translate(label)\n          }\n        };\n      };\n      var widthField = FormCoupledInputs.parts.field1(formGroup([\n        FormField.parts.label(getLabel('Width')),\n        getFieldPart(true)\n      ]));\n      var heightField = FormCoupledInputs.parts.field2(formGroup([\n        FormField.parts.label(getLabel('Height')),\n        getFieldPart(false)\n      ]));\n      return FormCoupledInputs.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-form__controls-h-stack']\n            },\n            components: [\n              widthField,\n              heightField,\n              formGroup([\n                getLabel('&nbsp;'),\n                pLock\n              ])\n            ]\n          }],\n        field1Name: 'width',\n        field2Name: 'height',\n        locked: true,\n        markers: { lockClass: 'tox-locked' },\n        onLockedChange: function (current, other, _lock) {\n          parseSize(Representing.getValue(current)).each(function (size) {\n            converter(size).each(function (newSize) {\n              Representing.setValue(other, formatSize(newSize));\n            });\n          });\n        },\n        coupledFieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            },\n            onDisabled: function (comp) {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getLock(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getLock(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig(),\n          config('size-input-events2', [run$1(ratioEvent, function (component, simulatedEvent) {\n              var isField1 = simulatedEvent.event.isField1;\n              var optCurrent = isField1 ? FormCoupledInputs.getField1(component) : FormCoupledInputs.getField2(component);\n              var optOther = isField1 ? FormCoupledInputs.getField2(component) : FormCoupledInputs.getField1(component);\n              var value1 = optCurrent.map(Representing.getValue).getOr('');\n              var value2 = optOther.map(Representing.getValue).getOr('');\n              converter = makeRatioConverter(value1, value2);\n            })])\n        ])\n      });\n    };\n\n    var undo = constant$1(generate$6('undo'));\n    var redo = constant$1(generate$6('redo'));\n    var zoom = constant$1(generate$6('zoom'));\n    var back = constant$1(generate$6('back'));\n    var apply = constant$1(generate$6('apply'));\n    var swap = constant$1(generate$6('swap'));\n    var transform$1 = constant$1(generate$6('transform'));\n    var tempTransform = constant$1(generate$6('temp-transform'));\n    var transformApply = constant$1(generate$6('transform-apply'));\n    var internal = {\n      undo: undo,\n      redo: redo,\n      zoom: zoom,\n      back: back,\n      apply: apply,\n      swap: swap,\n      transform: transform$1,\n      tempTransform: tempTransform,\n      transformApply: transformApply\n    };\n    var saveState = constant$1('save-state');\n    var disable = constant$1('disable');\n    var enable = constant$1('enable');\n    var external = {\n      formActionEvent: formActionEvent,\n      saveState: saveState,\n      disable: disable,\n      enable: enable\n    };\n\n    var renderEditPanel = function (imagePanel, providersBackstage) {\n      var createButton = function (text, action, disabled, primary) {\n        return record(renderButton({\n          name: text,\n          text: text,\n          disabled: disabled,\n          primary: primary,\n          icon: Optional.none(),\n          borderless: false\n        }, action, providersBackstage));\n      };\n      var createIconButton = function (icon, tooltip, action, disabled) {\n        return record(renderIconButton({\n          name: icon,\n          icon: Optional.some(icon),\n          tooltip: Optional.some(tooltip),\n          disabled: disabled,\n          primary: false,\n          borderless: false\n        }, action, providersBackstage));\n      };\n      var disableAllComponents = function (comps, eventcomp) {\n        comps.map(function (mem) {\n          var component = mem.get(eventcomp);\n          if (component.hasConfigured(Disabling)) {\n            Disabling.disable(component);\n          }\n        });\n      };\n      var enableAllComponents = function (comps, eventcomp) {\n        comps.map(function (mem) {\n          var component = mem.get(eventcomp);\n          if (component.hasConfigured(Disabling)) {\n            Disabling.enable(component);\n          }\n        });\n      };\n      var panelDom = {\n        tag: 'div',\n        classes: [\n          'tox-image-tools__toolbar',\n          'tox-image-tools-edit-panel'\n        ]\n      };\n      var noop$1 = noop;\n      var emit$1 = function (comp, event, data) {\n        emitWith(comp, event, data);\n      };\n      var emitDisable = function (component) {\n        return emit(component, external.disable());\n      };\n      var emitEnable = function (component) {\n        return emit(component, external.enable());\n      };\n      var emitTransform = function (comp, transform) {\n        emitDisable(comp);\n        emit$1(comp, internal.transform(), { transform: transform });\n        emitEnable(comp);\n      };\n      var emitTempTransform = function (comp, transform) {\n        emitDisable(comp);\n        emit$1(comp, internal.tempTransform(), { transform: transform });\n        emitEnable(comp);\n      };\n      var getBackSwap = function (anyInSystem) {\n        return function () {\n          memContainer.getOpt(anyInSystem).each(function (container) {\n            Replacing.set(container, [ButtonPanel]);\n          });\n        };\n      };\n      var emitTransformApply = function (comp, transform) {\n        emitDisable(comp);\n        emit$1(comp, internal.transformApply(), {\n          transform: transform,\n          swap: getBackSwap(comp)\n        });\n        emitEnable(comp);\n      };\n      var createBackButton = function () {\n        return createButton('Back', function (button) {\n          return emit$1(button, internal.back(), { swap: getBackSwap(button) });\n        }, false, false);\n      };\n      var createSpacer = function () {\n        return record({\n          dom: {\n            tag: 'div',\n            classes: ['tox-spacer']\n          },\n          behaviours: derive$1([Disabling.config({})])\n        });\n      };\n      var createApplyButton = function () {\n        return createButton('Apply', function (button) {\n          return emit$1(button, internal.apply(), { swap: getBackSwap(button) });\n        }, true, true);\n      };\n      var makeCropTransform = function () {\n        return function (ir) {\n          var rect = imagePanel.getRect();\n          return crop(ir, rect.x, rect.y, rect.w, rect.h);\n        };\n      };\n      var cropPanelComponents = [\n        createBackButton(),\n        createSpacer(),\n        createButton('Apply', function (button) {\n          var transform = makeCropTransform();\n          emitTransformApply(button, transform);\n          imagePanel.hideCrop();\n        }, false, true)\n      ];\n      var CropPanel = Container.sketch({\n        dom: panelDom,\n        components: cropPanelComponents.map(function (mem) {\n          return mem.asSpec();\n        }),\n        containerBehaviours: derive$1([config('image-tools-crop-buttons-events', [\n            run$1(external.disable(), function (comp, _se) {\n              disableAllComponents(cropPanelComponents, comp);\n            }),\n            run$1(external.enable(), function (comp, _se) {\n              enableAllComponents(cropPanelComponents, comp);\n            })\n          ])])\n      });\n      var memSize = record(renderSizeInput({\n        name: 'size',\n        label: Optional.none(),\n        constrain: true,\n        disabled: false\n      }, providersBackstage));\n      var makeResizeTransform = function (width, height) {\n        return function (ir) {\n          return resize$1(ir, width, height);\n        };\n      };\n      var resizePanelComponents = [\n        createBackButton(),\n        createSpacer(),\n        memSize,\n        createSpacer(),\n        createButton('Apply', function (button) {\n          memSize.getOpt(button).each(function (sizeInput) {\n            var value = Representing.getValue(sizeInput);\n            var width = parseInt(value.width, 10);\n            var height = parseInt(value.height, 10);\n            var transform = makeResizeTransform(width, height);\n            emitTransformApply(button, transform);\n          });\n        }, false, true)\n      ];\n      var ResizePanel = Container.sketch({\n        dom: panelDom,\n        components: resizePanelComponents.map(function (mem) {\n          return mem.asSpec();\n        }),\n        containerBehaviours: derive$1([config('image-tools-resize-buttons-events', [\n            run$1(external.disable(), function (comp, _se) {\n              disableAllComponents(resizePanelComponents, comp);\n            }),\n            run$1(external.enable(), function (comp, _se) {\n              enableAllComponents(resizePanelComponents, comp);\n            })\n          ])])\n      });\n      var makeValueTransform = function (transform, value) {\n        return function (ir) {\n          return transform(ir, value);\n        };\n      };\n      var horizontalFlip = makeValueTransform(flip, 'h');\n      var verticalFlip = makeValueTransform(flip, 'v');\n      var counterclockwiseRotate = makeValueTransform(rotate, -90);\n      var clockwiseRotate = makeValueTransform(rotate, 90);\n      var flipRotateOnAction = function (comp, operation) {\n        emitTempTransform(comp, operation);\n      };\n      var flipRotateComponents = [\n        createBackButton(),\n        createSpacer(),\n        createIconButton('flip-horizontally', 'Flip horizontally', function (button) {\n          flipRotateOnAction(button, horizontalFlip);\n        }, false),\n        createIconButton('flip-vertically', 'Flip vertically', function (button) {\n          flipRotateOnAction(button, verticalFlip);\n        }, false),\n        createIconButton('rotate-left', 'Rotate counterclockwise', function (button) {\n          flipRotateOnAction(button, counterclockwiseRotate);\n        }, false),\n        createIconButton('rotate-right', 'Rotate clockwise', function (button) {\n          flipRotateOnAction(button, clockwiseRotate);\n        }, false),\n        createSpacer(),\n        createApplyButton()\n      ];\n      var FlipRotatePanel = Container.sketch({\n        dom: panelDom,\n        components: flipRotateComponents.map(function (mem) {\n          return mem.asSpec();\n        }),\n        containerBehaviours: derive$1([config('image-tools-fliprotate-buttons-events', [\n            run$1(external.disable(), function (comp, _se) {\n              disableAllComponents(flipRotateComponents, comp);\n            }),\n            run$1(external.enable(), function (comp, _se) {\n              enableAllComponents(flipRotateComponents, comp);\n            })\n          ])])\n      });\n      var makeSlider = function (label, onChoose, min, value, max) {\n        var labelPart = Slider.parts.label({\n          dom: {\n            tag: 'label',\n            classes: ['tox-label'],\n            innerHtml: providersBackstage.translate(label)\n          }\n        });\n        var spectrum = Slider.parts.spectrum({\n          dom: {\n            tag: 'div',\n            classes: ['tox-slider__rail'],\n            attributes: { role: 'presentation' }\n          }\n        });\n        var thumb = Slider.parts.thumb({\n          dom: {\n            tag: 'div',\n            classes: ['tox-slider__handle'],\n            attributes: { role: 'presentation' }\n          }\n        });\n        return record(Slider.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-slider'],\n            attributes: { role: 'presentation' }\n          },\n          model: {\n            mode: 'x',\n            minX: min,\n            maxX: max,\n            getInitialValue: constant$1({ x: value })\n          },\n          components: [\n            labelPart,\n            spectrum,\n            thumb\n          ],\n          sliderBehaviours: derive$1([Focusing.config({})]),\n          onChoose: onChoose\n        }));\n      };\n      var makeVariableSlider = function (label, transform, min, value, max) {\n        var onChoose = function (slider, _thumb, value) {\n          var valTransform = makeValueTransform(transform, value.x / 100);\n          emitTransform(slider, valTransform);\n        };\n        return makeSlider(label, onChoose, min, value, max);\n      };\n      var variableFilterPanelComponents = function (label, transform, min, value, max) {\n        return [\n          createBackButton(),\n          makeVariableSlider(label, transform, min, value, max),\n          createApplyButton()\n        ];\n      };\n      var createVariableFilterPanel = function (label, transform, min, value, max) {\n        var filterPanelComponents = variableFilterPanelComponents(label, transform, min, value, max);\n        return Container.sketch({\n          dom: panelDom,\n          components: filterPanelComponents.map(function (mem) {\n            return mem.asSpec();\n          }),\n          containerBehaviours: derive$1([config('image-tools-filter-panel-buttons-events', [\n              run$1(external.disable(), function (comp, _se) {\n                disableAllComponents(filterPanelComponents, comp);\n              }),\n              run$1(external.enable(), function (comp, _se) {\n                enableAllComponents(filterPanelComponents, comp);\n              })\n            ])])\n        });\n      };\n      var filterPanelComponents = [\n        createBackButton(),\n        createSpacer(),\n        createApplyButton()\n      ];\n      var FilterPanel = Container.sketch({\n        dom: panelDom,\n        components: filterPanelComponents.map(function (mem) {\n          return mem.asSpec();\n        })\n      });\n      var BrightnessPanel = createVariableFilterPanel('Brightness', brightness, -100, 0, 100);\n      var ContrastPanel = createVariableFilterPanel('Contrast', contrast, -100, 0, 100);\n      var GammaPanel = createVariableFilterPanel('Gamma', gamma, -100, 0, 100);\n      var makeColorTransform = function (red, green, blue) {\n        return function (ir) {\n          return colorize(ir, red, green, blue);\n        };\n      };\n      var makeColorSlider = function (label) {\n        var onChoose = function (slider, _thumb, _value) {\n          var redOpt = memRed.getOpt(slider);\n          var blueOpt = memBlue.getOpt(slider);\n          var greenOpt = memGreen.getOpt(slider);\n          redOpt.each(function (red) {\n            blueOpt.each(function (blue) {\n              greenOpt.each(function (green) {\n                var r = Representing.getValue(red).x / 100;\n                var g = Representing.getValue(green).x / 100;\n                var b = Representing.getValue(blue).x / 100;\n                var transform = makeColorTransform(r, g, b);\n                emitTransform(slider, transform);\n              });\n            });\n          });\n        };\n        return makeSlider(label, onChoose, 0, 100, 200);\n      };\n      var memRed = makeColorSlider('R');\n      var memGreen = makeColorSlider('G');\n      var memBlue = makeColorSlider('B');\n      var colorizePanelComponents = [\n        createBackButton(),\n        memRed,\n        memGreen,\n        memBlue,\n        createApplyButton()\n      ];\n      var ColorizePanel = Container.sketch({\n        dom: panelDom,\n        components: colorizePanelComponents.map(function (mem) {\n          return mem.asSpec();\n        })\n      });\n      var getTransformPanelEvent = function (panel, transform, update) {\n        return function (button) {\n          var swap = function () {\n            memContainer.getOpt(button).each(function (container) {\n              Replacing.set(container, [panel]);\n              update(container);\n            });\n          };\n          emit$1(button, internal.swap(), {\n            transform: transform,\n            swap: swap\n          });\n        };\n      };\n      var cropPanelUpdate = function (_anyInSystem) {\n        imagePanel.showCrop();\n      };\n      var resizePanelUpdate = function (anyInSystem) {\n        memSize.getOpt(anyInSystem).each(function (sizeInput) {\n          var measurements = imagePanel.getMeasurements();\n          var width = measurements.width;\n          var height = measurements.height;\n          Representing.setValue(sizeInput, {\n            width: width,\n            height: height\n          });\n        });\n      };\n      var sharpenTransform = Optional.some(sharpen);\n      var invertTransform = Optional.some(invert);\n      var buttonPanelComponents = [\n        createIconButton('crop', 'Crop', getTransformPanelEvent(CropPanel, Optional.none(), cropPanelUpdate), false),\n        createIconButton('resize', 'Resize', getTransformPanelEvent(ResizePanel, Optional.none(), resizePanelUpdate), false),\n        createIconButton('orientation', 'Orientation', getTransformPanelEvent(FlipRotatePanel, Optional.none(), noop$1), false),\n        createIconButton('brightness', 'Brightness', getTransformPanelEvent(BrightnessPanel, Optional.none(), noop$1), false),\n        createIconButton('sharpen', 'Sharpen', getTransformPanelEvent(FilterPanel, sharpenTransform, noop$1), false),\n        createIconButton('contrast', 'Contrast', getTransformPanelEvent(ContrastPanel, Optional.none(), noop$1), false),\n        createIconButton('color-levels', 'Color levels', getTransformPanelEvent(ColorizePanel, Optional.none(), noop$1), false),\n        createIconButton('gamma', 'Gamma', getTransformPanelEvent(GammaPanel, Optional.none(), noop$1), false),\n        createIconButton('invert', 'Invert', getTransformPanelEvent(FilterPanel, invertTransform, noop$1), false)\n      ];\n      var ButtonPanel = Container.sketch({\n        dom: panelDom,\n        components: buttonPanelComponents.map(function (mem) {\n          return mem.asSpec();\n        })\n      });\n      var container = Container.sketch({\n        dom: { tag: 'div' },\n        components: [ButtonPanel],\n        containerBehaviours: derive$1([Replacing.config({})])\n      });\n      var memContainer = record(container);\n      var getApplyButton = function (anyInSystem) {\n        return memContainer.getOpt(anyInSystem).map(function (container) {\n          var panel = container.components()[0];\n          return panel.components()[panel.components().length - 1];\n        });\n      };\n      return {\n        memContainer: memContainer,\n        getApplyButton: getApplyButton\n      };\n    };\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.geom.Rect');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Observable');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var getDocumentSize = function (doc) {\n      var max = Math.max;\n      var documentElement = doc.documentElement;\n      var body = doc.body;\n      var scrollWidth = max(documentElement.scrollWidth, body.scrollWidth);\n      var clientWidth = max(documentElement.clientWidth, body.clientWidth);\n      var offsetWidth = max(documentElement.offsetWidth, body.offsetWidth);\n      var scrollHeight = max(documentElement.scrollHeight, body.scrollHeight);\n      var clientHeight = max(documentElement.clientHeight, body.clientHeight);\n      var offsetHeight = max(documentElement.offsetHeight, body.offsetHeight);\n      return {\n        width: scrollWidth < offsetWidth ? clientWidth : scrollWidth,\n        height: scrollHeight < offsetHeight ? clientHeight : scrollHeight\n      };\n    };\n    var isTouchEvent$1 = function (e) {\n      return isNonNullable(e.changedTouches);\n    };\n    var updateWithTouchData = function (e) {\n      if (isTouchEvent$1(e)) {\n        var keys = 'screenX screenY pageX pageY clientX clientY'.split(' ');\n        for (var i = 0; i < keys.length; i++) {\n          e[keys[i]] = e.changedTouches[0][keys[i]];\n        }\n      }\n    };\n    function DragHelper (id, settings) {\n      var _a, _b, _c;\n      var eventOverlay;\n      var handleEvents = [];\n      var overlayEvents = [];\n      var doc = (_a = settings.document) !== null && _a !== void 0 ? _a : document;\n      var root = (_b = settings.root) !== null && _b !== void 0 ? _b : doc;\n      var sugarDoc = SugarElement.fromDom(doc);\n      var downButton;\n      var startX;\n      var startY;\n      var handleElement = SugarElement.fromDom(root.getElementById((_c = settings.handle) !== null && _c !== void 0 ? _c : id));\n      var start = function (e) {\n        var rawEvent = e.raw;\n        var docSize = getDocumentSize(doc);\n        updateWithTouchData(rawEvent);\n        e.prevent();\n        downButton = rawEvent.button;\n        startX = rawEvent.screenX;\n        startY = rawEvent.screenY;\n        var cursor = get$c(handleElement, 'cursor');\n        eventOverlay = SugarElement.fromTag('div', doc);\n        setAll(eventOverlay, {\n          'position': 'absolute',\n          'top': '0',\n          'left': '0',\n          'width': docSize.width + 'px',\n          'height': docSize.height + 'px',\n          'z-index': 2147483647 + '',\n          'opacity': '0.0001',\n          cursor: cursor\n        });\n        append$2(getBody(sugarDoc), eventOverlay);\n        overlayEvents.push(bind(sugarDoc, 'mousemove', drag), bind(sugarDoc, 'touchmove', drag), bind(sugarDoc, 'mouseup', stop), bind(sugarDoc, 'touchend', stop));\n        settings.start(rawEvent);\n      };\n      var drag = function (e) {\n        var rawEvent = e.raw;\n        updateWithTouchData(rawEvent);\n        if (rawEvent.button !== downButton) {\n          return stop(e);\n        }\n        rawEvent.deltaX = rawEvent.screenX - startX;\n        rawEvent.deltaY = rawEvent.screenY - startY;\n        e.prevent();\n        settings.drag(rawEvent);\n      };\n      var stop = function (e) {\n        updateWithTouchData(e.raw);\n        each$1(overlayEvents, function (e) {\n          return e.unbind();\n        });\n        overlayEvents = [];\n        remove$5(eventOverlay);\n        if (settings.stop) {\n          settings.stop(e.raw);\n        }\n      };\n      var destroy = function () {\n        each$1(overlayEvents.concat(handleEvents), function (e) {\n          return e.unbind();\n        });\n        overlayEvents = [];\n        handleEvents = [];\n        if (isNonNullable(eventOverlay)) {\n          remove$5(eventOverlay);\n        }\n      };\n      handleEvents.push(bind(handleElement, 'mousedown', start), bind(handleElement, 'touchstart', start));\n      return { destroy: destroy };\n    }\n\n    var count = 0;\n    var create$1 = function (currentRect, viewPortRect, clampRect, containerElm, action) {\n      var dragHelpers;\n      var events = [];\n      var prefix = 'tox-';\n      var id = prefix + 'crid-' + count++;\n      var container = SugarElement.fromDom(containerElm);\n      var handles = [\n        {\n          name: 'move',\n          xMul: 0,\n          yMul: 0,\n          deltaX: 1,\n          deltaY: 1,\n          deltaW: 0,\n          deltaH: 0,\n          label: 'Crop Mask'\n        },\n        {\n          name: 'nw',\n          xMul: 0,\n          yMul: 0,\n          deltaX: 1,\n          deltaY: 1,\n          deltaW: -1,\n          deltaH: -1,\n          label: 'Top Left Crop Handle'\n        },\n        {\n          name: 'ne',\n          xMul: 1,\n          yMul: 0,\n          deltaX: 0,\n          deltaY: 1,\n          deltaW: 1,\n          deltaH: -1,\n          label: 'Top Right Crop Handle'\n        },\n        {\n          name: 'sw',\n          xMul: 0,\n          yMul: 1,\n          deltaX: 1,\n          deltaY: 0,\n          deltaW: -1,\n          deltaH: 1,\n          label: 'Bottom Left Crop Handle'\n        },\n        {\n          name: 'se',\n          xMul: 1,\n          yMul: 1,\n          deltaX: 0,\n          deltaY: 0,\n          deltaW: 1,\n          deltaH: 1,\n          label: 'Bottom Right Crop Handle'\n        }\n      ];\n      var blockers = [\n        'top',\n        'right',\n        'bottom',\n        'left'\n      ];\n      var getAbsoluteRect = function (outerRect, relativeRect) {\n        return {\n          x: relativeRect.x + outerRect.x,\n          y: relativeRect.y + outerRect.y,\n          w: relativeRect.w,\n          h: relativeRect.h\n        };\n      };\n      var getRelativeRect = function (outerRect, innerRect) {\n        return {\n          x: innerRect.x - outerRect.x,\n          y: innerRect.y - outerRect.y,\n          w: innerRect.w,\n          h: innerRect.h\n        };\n      };\n      var getInnerRect = function () {\n        return getRelativeRect(clampRect, currentRect);\n      };\n      var moveRect = function (handle, startRect, deltaX, deltaY) {\n        var x = startRect.x + deltaX * handle.deltaX;\n        var y = startRect.y + deltaY * handle.deltaY;\n        var w = Math.max(20, startRect.w + deltaX * handle.deltaW);\n        var h = Math.max(20, startRect.h + deltaY * handle.deltaH);\n        var rect = currentRect = global$4.clamp({\n          x: x,\n          y: y,\n          w: w,\n          h: h\n        }, clampRect, handle.name === 'move');\n        rect = getRelativeRect(clampRect, rect);\n        instance.fire('updateRect', { rect: rect });\n        setInnerRect(rect);\n      };\n      var render = function () {\n        var createDragHelper = function (handle) {\n          var startRect;\n          return DragHelper(id, {\n            document: containerElm.ownerDocument,\n            root: getRootNode(container).dom,\n            handle: id + '-' + handle.name,\n            start: function () {\n              startRect = currentRect;\n            },\n            drag: function (e) {\n              moveRect(handle, startRect, e.deltaX, e.deltaY);\n            }\n          });\n        };\n        var cropContainer = SugarElement.fromTag('div');\n        setAll$1(cropContainer, {\n          id: id,\n          'class': prefix + 'croprect-container',\n          'role': 'grid',\n          'aria-dropeffect': 'execute'\n        });\n        append$2(container, cropContainer);\n        each$1(blockers, function (blocker) {\n          descendant(container, '#' + id).each(function (blockerElm) {\n            var cropBlocker = SugarElement.fromTag('div');\n            setAll$1(cropBlocker, {\n              'id': id + '-' + blocker,\n              'class': prefix + 'croprect-block',\n              'data-mce-bogus': 'all'\n            });\n            set$7(cropBlocker, 'display', 'none');\n            append$2(blockerElm, cropBlocker);\n          });\n        });\n        each$1(handles, function (handle) {\n          descendant(container, '#' + id).each(function (handleElm) {\n            var cropHandle = SugarElement.fromTag('div');\n            setAll$1(cropHandle, {\n              'id': id + '-' + handle.name,\n              'aria-label': handle.label,\n              'aria-grabbed': 'false',\n              'data-mce-bogus': 'all',\n              'role': 'gridcell',\n              'tabindex': '-1',\n              'title': handle.label\n            });\n            add$1(cropHandle, [\n              prefix + 'croprect-handle',\n              prefix + 'croprect-handle-' + handle.name\n            ]);\n            set$7(cropHandle, 'display', 'none');\n            append$2(handleElm, cropHandle);\n          });\n        });\n        dragHelpers = map$2(handles, createDragHelper);\n        repaint(currentRect);\n        var handleFocus = function (e) {\n          set$8(e.target, 'aria-grabbed', e.raw.type === 'focus' ? 'true' : 'false');\n        };\n        var handleKeydown = function (e) {\n          var activeHandle;\n          each$1(handles, function (handle) {\n            if (get$d(e.target, 'id') === id + '-' + handle.name) {\n              activeHandle = handle;\n              return false;\n            }\n          });\n          var moveAndBlock = function (evt, handle, startRect, deltaX, deltaY) {\n            evt.stopPropagation();\n            evt.preventDefault();\n            moveRect(activeHandle, startRect, deltaX, deltaY);\n          };\n          switch (e.raw.keyCode) {\n          case global$2.LEFT:\n            moveAndBlock(e, activeHandle, currentRect, -10, 0);\n            break;\n          case global$2.RIGHT:\n            moveAndBlock(e, activeHandle, currentRect, 10, 0);\n            break;\n          case global$2.UP:\n            moveAndBlock(e, activeHandle, currentRect, 0, -10);\n            break;\n          case global$2.DOWN:\n            moveAndBlock(e, activeHandle, currentRect, 0, 10);\n            break;\n          case global$2.ENTER:\n          case global$2.SPACEBAR:\n            e.prevent();\n            action();\n            break;\n          }\n        };\n        events.push(bind(container, 'focusin', handleFocus), bind(container, 'focusout', handleFocus), bind(container, 'keydown', handleKeydown));\n      };\n      var toggleVisibility = function (state) {\n        var selectors = __spreadArray(__spreadArray([], map$2(handles, function (handle) {\n          return '#' + id + '-' + handle.name;\n        }), true), map$2(blockers, function (blocker) {\n          return '#' + id + '-' + blocker;\n        }), true).join(',');\n        var elems = descendants(container, selectors);\n        if (state) {\n          each$1(elems, function (elm) {\n            return remove$6(elm, 'display');\n          });\n        } else {\n          each$1(elems, function (elm) {\n            return set$7(elm, 'display', 'none');\n          });\n        }\n      };\n      var repaint = function (rect) {\n        var updateElementRect = function (name, newRect) {\n          descendant(container, '#' + id + '-' + name).each(function (elm) {\n            setAll(elm, {\n              left: newRect.x + 'px',\n              top: newRect.y + 'px',\n              width: Math.max(0, newRect.w) + 'px',\n              height: Math.max(0, newRect.h) + 'px'\n            });\n          });\n        };\n        each$1(handles, function (handle) {\n          descendant(container, '#' + id + '-' + handle.name).each(function (elm) {\n            setAll(elm, {\n              left: rect.w * handle.xMul + rect.x + 'px',\n              top: rect.h * handle.yMul + rect.y + 'px'\n            });\n          });\n        });\n        updateElementRect('top', {\n          x: viewPortRect.x,\n          y: viewPortRect.y,\n          w: viewPortRect.w,\n          h: rect.y - viewPortRect.y\n        });\n        updateElementRect('right', {\n          x: rect.x + rect.w,\n          y: rect.y,\n          w: viewPortRect.w - rect.x - rect.w + viewPortRect.x,\n          h: rect.h\n        });\n        updateElementRect('bottom', {\n          x: viewPortRect.x,\n          y: rect.y + rect.h,\n          w: viewPortRect.w,\n          h: viewPortRect.h - rect.y - rect.h + viewPortRect.y\n        });\n        updateElementRect('left', {\n          x: viewPortRect.x,\n          y: rect.y,\n          w: rect.x - viewPortRect.x,\n          h: rect.h\n        });\n        updateElementRect('move', rect);\n      };\n      var setRect = function (rect) {\n        currentRect = rect;\n        repaint(currentRect);\n      };\n      var setViewPortRect = function (rect) {\n        viewPortRect = rect;\n        repaint(currentRect);\n      };\n      var setInnerRect = function (rect) {\n        setRect(getAbsoluteRect(clampRect, rect));\n      };\n      var setClampRect = function (rect) {\n        clampRect = rect;\n        repaint(currentRect);\n      };\n      var destroy = function () {\n        each$1(dragHelpers, function (helper) {\n          return helper.destroy();\n        });\n        dragHelpers = [];\n        each$1(events, function (e) {\n          return e.unbind();\n        });\n        events = [];\n      };\n      render();\n      var instance = __assign(__assign({}, global$3), {\n        toggleVisibility: toggleVisibility,\n        setClampRect: setClampRect,\n        setRect: setRect,\n        getInnerRect: getInnerRect,\n        setInnerRect: setInnerRect,\n        setViewPortRect: setViewPortRect,\n        destroy: destroy\n      });\n      return instance;\n    };\n    var CropRect = { create: create$1 };\n\n    var loadImage = function (image) {\n      return new global$c(function (resolve) {\n        var loaded = function () {\n          image.removeEventListener('load', loaded);\n          resolve(image);\n        };\n        if (image.complete) {\n          resolve(image);\n        } else {\n          image.addEventListener('load', loaded);\n        }\n      });\n    };\n    var renderImagePanel = function (initialUrl) {\n      var memBg = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-image-tools__image-bg'],\n          attributes: { role: 'presentation' }\n        }\n      });\n      var zoomState = Cell(1);\n      var cropRect = api$1();\n      var rectState = Cell({\n        x: 0,\n        y: 0,\n        w: 1,\n        h: 1\n      });\n      var viewRectState = Cell({\n        x: 0,\n        y: 0,\n        w: 1,\n        h: 1\n      });\n      var repaintImg = function (anyInSystem, img) {\n        memContainer.getOpt(anyInSystem).each(function (panel) {\n          var zoom = zoomState.get();\n          var panelW = get$a(panel.element);\n          var panelH = get$b(panel.element);\n          var width = img.dom.naturalWidth * zoom;\n          var height = img.dom.naturalHeight * zoom;\n          var left = Math.max(0, panelW / 2 - width / 2);\n          var top = Math.max(0, panelH / 2 - height / 2);\n          var css = {\n            left: left.toString() + 'px',\n            top: top.toString() + 'px',\n            width: width.toString() + 'px',\n            height: height.toString() + 'px',\n            position: 'absolute'\n          };\n          setAll(img, css);\n          memBg.getOpt(panel).each(function (bg) {\n            setAll(bg.element, css);\n          });\n          cropRect.run(function (cRect) {\n            var rect = rectState.get();\n            cRect.setRect({\n              x: rect.x * zoom + left,\n              y: rect.y * zoom + top,\n              w: rect.w * zoom,\n              h: rect.h * zoom\n            });\n            cRect.setClampRect({\n              x: left,\n              y: top,\n              w: width,\n              h: height\n            });\n            cRect.setViewPortRect({\n              x: 0,\n              y: 0,\n              w: panelW,\n              h: panelH\n            });\n          });\n        });\n      };\n      var zoomFit = function (anyInSystem, img) {\n        memContainer.getOpt(anyInSystem).each(function (panel) {\n          var panelW = get$a(panel.element);\n          var panelH = get$b(panel.element);\n          var width = img.dom.naturalWidth;\n          var height = img.dom.naturalHeight;\n          var zoom = Math.min(panelW / width, panelH / height);\n          if (zoom >= 1) {\n            zoomState.set(1);\n          } else {\n            zoomState.set(zoom);\n          }\n        });\n      };\n      var updateSrc = function (anyInSystem, url) {\n        var img = SugarElement.fromTag('img');\n        set$8(img, 'src', url);\n        return loadImage(img.dom).then(function () {\n          if (anyInSystem.getSystem().isConnected()) {\n            memContainer.getOpt(anyInSystem).map(function (panel) {\n              var aImg = external$2({ element: img });\n              Replacing.replaceAt(panel, 1, Optional.some(aImg));\n              var lastViewRect = viewRectState.get();\n              var viewRect = {\n                x: 0,\n                y: 0,\n                w: img.dom.naturalWidth,\n                h: img.dom.naturalHeight\n              };\n              viewRectState.set(viewRect);\n              var rect = global$4.inflate(viewRect, -20, -20);\n              rectState.set(rect);\n              if (lastViewRect.w !== viewRect.w || lastViewRect.h !== viewRect.h) {\n                zoomFit(panel, img);\n              }\n              repaintImg(panel, img);\n            });\n          }\n        });\n      };\n      var zoom = function (anyInSystem, direction) {\n        var currentZoom = zoomState.get();\n        var newZoom = direction > 0 ? Math.min(2, currentZoom + 0.1) : Math.max(0.1, currentZoom - 0.1);\n        zoomState.set(newZoom);\n        memContainer.getOpt(anyInSystem).each(function (panel) {\n          var img = panel.components()[1].element;\n          repaintImg(panel, img);\n        });\n      };\n      var showCrop = function () {\n        cropRect.run(function (cRect) {\n          cRect.toggleVisibility(true);\n        });\n      };\n      var hideCrop = function () {\n        cropRect.run(function (cRect) {\n          cRect.toggleVisibility(false);\n        });\n      };\n      var getRect = function () {\n        return rectState.get();\n      };\n      var container = Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-image-tools__image']\n        },\n        components: [\n          memBg.asSpec(),\n          {\n            dom: {\n              tag: 'img',\n              attributes: { src: initialUrl }\n            }\n          },\n          {\n            dom: { tag: 'div' },\n            behaviours: derive$1([config('image-panel-crop-events', [\n                runOnAttached(function (comp) {\n                  memContainer.getOpt(comp).each(function (container) {\n                    var el = container.element.dom;\n                    var cRect = CropRect.create({\n                      x: 10,\n                      y: 10,\n                      w: 100,\n                      h: 100\n                    }, {\n                      x: 0,\n                      y: 0,\n                      w: 200,\n                      h: 200\n                    }, {\n                      x: 0,\n                      y: 0,\n                      w: 200,\n                      h: 200\n                    }, el, noop);\n                    cRect.toggleVisibility(false);\n                    cRect.on('updateRect', function (e) {\n                      var rect = e.rect;\n                      var zoom = zoomState.get();\n                      var newRect = {\n                        x: Math.round(rect.x / zoom),\n                        y: Math.round(rect.y / zoom),\n                        w: Math.round(rect.w / zoom),\n                        h: Math.round(rect.h / zoom)\n                      };\n                      rectState.set(newRect);\n                    });\n                    cropRect.set(cRect);\n                  });\n                }),\n                runOnDetached(function () {\n                  cropRect.clear();\n                })\n              ])])\n          }\n        ],\n        containerBehaviours: derive$1([\n          Replacing.config({}),\n          config('image-panel-events', [runOnAttached(function (comp) {\n              updateSrc(comp, initialUrl);\n            })])\n        ])\n      });\n      var memContainer = record(container);\n      var getMeasurements = function () {\n        var viewRect = viewRectState.get();\n        return {\n          width: viewRect.w,\n          height: viewRect.h\n        };\n      };\n      return {\n        memContainer: memContainer,\n        updateSrc: updateSrc,\n        zoom: zoom,\n        showCrop: showCrop,\n        hideCrop: hideCrop,\n        getRect: getRect,\n        getMeasurements: getMeasurements\n      };\n    };\n\n    var createButton = function (innerHtml, icon, disabled, action, providersBackstage) {\n      return renderIconButton({\n        name: innerHtml,\n        icon: Optional.some(icon),\n        disabled: disabled,\n        tooltip: Optional.some(innerHtml),\n        primary: false,\n        borderless: false\n      }, action, providersBackstage);\n    };\n    var setButtonEnabled = function (button, enabled) {\n      if (enabled) {\n        Disabling.enable(button);\n      } else {\n        Disabling.disable(button);\n      }\n    };\n    var renderSideBar = function (providersBackstage) {\n      var updateButtonUndoStates = function (anyInSystem, undoEnabled, redoEnabled) {\n        memUndo.getOpt(anyInSystem).each(function (undo) {\n          setButtonEnabled(undo, undoEnabled);\n        });\n        memRedo.getOpt(anyInSystem).each(function (redo) {\n          setButtonEnabled(redo, redoEnabled);\n        });\n      };\n      var memUndo = record(createButton('Undo', 'undo', true, function (button) {\n        emitWith(button, internal.undo(), { direction: 1 });\n      }, providersBackstage));\n      var memRedo = record(createButton('Redo', 'redo', true, function (button) {\n        emitWith(button, internal.redo(), { direction: 1 });\n      }, providersBackstage));\n      var container = Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-image-tools__toolbar',\n            'tox-image-tools__sidebar'\n          ]\n        },\n        components: [\n          memUndo.asSpec(),\n          memRedo.asSpec(),\n          createButton('Zoom in', 'zoom-in', false, function (button) {\n            emitWith(button, internal.zoom(), { direction: 1 });\n          }, providersBackstage),\n          createButton('Zoom out', 'zoom-out', false, function (button) {\n            emitWith(button, internal.zoom(), { direction: -1 });\n          }, providersBackstage)\n        ]\n      });\n      return {\n        container: container,\n        updateButtonUndoStates: updateButtonUndoStates\n      };\n    };\n\n    function UndoStack () {\n      var data = [];\n      var index = -1;\n      var add = function (state) {\n        var removed = data.splice(++index);\n        data.push(state);\n        return {\n          state: state,\n          removed: removed\n        };\n      };\n      var undo = function () {\n        if (canUndo()) {\n          return data[--index];\n        }\n      };\n      var redo = function () {\n        if (canRedo()) {\n          return data[++index];\n        }\n      };\n      var canUndo = function () {\n        return index > 0;\n      };\n      var canRedo = function () {\n        return index !== -1 && index < data.length - 1;\n      };\n      return {\n        data: data,\n        add: add,\n        undo: undo,\n        redo: redo,\n        canUndo: canUndo,\n        canRedo: canRedo\n      };\n    }\n\n    var makeState = function (initialState) {\n      var blobState = Cell(initialState);\n      var tempState = value$1();\n      var undoStack = UndoStack();\n      undoStack.add(initialState);\n      var getBlobState = function () {\n        return blobState.get();\n      };\n      var setBlobState = function (state) {\n        blobState.set(state);\n      };\n      var getTempState = function () {\n        return tempState.get().getOrThunk(blobState.get);\n      };\n      var updateTempState = function (blob) {\n        var newTempState = createState(blob);\n        destroyTempState();\n        tempState.set(newTempState);\n        return newTempState.url;\n      };\n      var createState = function (blob) {\n        return {\n          blob: blob,\n          url: URL.createObjectURL(blob)\n        };\n      };\n      var destroyState = function (state) {\n        URL.revokeObjectURL(state.url);\n      };\n      var destroyStates = function (states) {\n        global$5.each(states, destroyState);\n      };\n      var destroyTempState = function () {\n        tempState.on(destroyState);\n        tempState.clear();\n      };\n      var addBlobState = function (blob) {\n        var newState = createState(blob);\n        setBlobState(newState);\n        var removed = undoStack.add(newState).removed;\n        destroyStates(removed);\n        return newState.url;\n      };\n      var addTempState = function (blob) {\n        var newState = createState(blob);\n        tempState.set(newState);\n        return newState.url;\n      };\n      var applyTempState = function (postApply) {\n        return tempState.get().fold(noop, function (temp) {\n          addBlobState(temp.blob);\n          postApply();\n        });\n      };\n      var undo = function () {\n        var currentState = undoStack.undo();\n        setBlobState(currentState);\n        return currentState.url;\n      };\n      var redo = function () {\n        var currentState = undoStack.redo();\n        setBlobState(currentState);\n        return currentState.url;\n      };\n      var getHistoryStates = function () {\n        var undoEnabled = undoStack.canUndo();\n        var redoEnabled = undoStack.canRedo();\n        return {\n          undoEnabled: undoEnabled,\n          redoEnabled: redoEnabled\n        };\n      };\n      return {\n        getBlobState: getBlobState,\n        setBlobState: setBlobState,\n        addBlobState: addBlobState,\n        getTempState: getTempState,\n        updateTempState: updateTempState,\n        addTempState: addTempState,\n        applyTempState: applyTempState,\n        destroyTempState: destroyTempState,\n        undo: undo,\n        redo: redo,\n        getHistoryStates: getHistoryStates\n      };\n    };\n\n    var renderImageTools = function (detail, providersBackstage) {\n      var state = makeState(detail.currentState);\n      var zoom = function (anyInSystem, simulatedEvent) {\n        var direction = simulatedEvent.event.direction;\n        imagePanel.zoom(anyInSystem, direction);\n      };\n      var updateButtonUndoStates = function (anyInSystem) {\n        var historyStates = state.getHistoryStates();\n        sideBar.updateButtonUndoStates(anyInSystem, historyStates.undoEnabled, historyStates.redoEnabled);\n        emitWith(anyInSystem, external.formActionEvent, {\n          name: external.saveState(),\n          value: historyStates.undoEnabled\n        });\n      };\n      var disableUndoRedo = function (anyInSystem) {\n        sideBar.updateButtonUndoStates(anyInSystem, false, false);\n      };\n      var undo = function (anyInSystem, _simulatedEvent) {\n        var url = state.undo();\n        updateSrc(anyInSystem, url).then(function (_oImg) {\n          unblock(anyInSystem);\n          updateButtonUndoStates(anyInSystem);\n        });\n      };\n      var redo = function (anyInSystem, _simulatedEvent) {\n        var url = state.redo();\n        updateSrc(anyInSystem, url).then(function (_oImg) {\n          unblock(anyInSystem);\n          updateButtonUndoStates(anyInSystem);\n        });\n      };\n      var imageResultToBlob = function (ir) {\n        return ir.toBlob();\n      };\n      var block = function (anyInSystem) {\n        emitWith(anyInSystem, external.formActionEvent, {\n          name: external.disable(),\n          value: {}\n        });\n      };\n      var unblock = function (anyInSystem) {\n        editPanel.getApplyButton(anyInSystem).each(function (applyButton) {\n          Disabling.enable(applyButton);\n        });\n        emitWith(anyInSystem, external.formActionEvent, {\n          name: external.enable(),\n          value: {}\n        });\n      };\n      var updateSrc = function (anyInSystem, src) {\n        block(anyInSystem);\n        return imagePanel.updateSrc(anyInSystem, src);\n      };\n      var blobManipulate = function (anyInSystem, blob, filter, action, swap) {\n        block(anyInSystem);\n        blobToImageResult(blob).then(filter).then(imageResultToBlob).then(action).then(function (url) {\n          return updateSrc(anyInSystem, url);\n        }).then(function () {\n          updateButtonUndoStates(anyInSystem);\n          swap();\n          unblock(anyInSystem);\n        }).catch(function (err) {\n          console.log(err);\n          if (anyInSystem.getSystem().isConnected()) {\n            unblock(anyInSystem);\n          }\n        });\n      };\n      var manipulate = function (anyInSystem, filter, swap) {\n        var blob = state.getBlobState().blob;\n        var action = function (blob) {\n          return state.updateTempState(blob);\n        };\n        blobManipulate(anyInSystem, blob, filter, action, swap);\n      };\n      var tempManipulate = function (anyInSystem, filter) {\n        var blob = state.getTempState().blob;\n        var action = function (blob) {\n          return state.addTempState(blob);\n        };\n        blobManipulate(anyInSystem, blob, filter, action, noop);\n      };\n      var manipulateApply = function (anyInSystem, filter, swap) {\n        var blob = state.getBlobState().blob;\n        var action = function (blob) {\n          var url = state.addBlobState(blob);\n          destroyTempState(anyInSystem);\n          return url;\n        };\n        blobManipulate(anyInSystem, blob, filter, action, swap);\n      };\n      var apply = function (anyInSystem, simulatedEvent) {\n        var postApply = function () {\n          destroyTempState(anyInSystem);\n          var swap = simulatedEvent.event.swap;\n          swap();\n        };\n        state.applyTempState(postApply);\n      };\n      var destroyTempState = function (anyInSystem) {\n        var currentUrl = state.getBlobState().url;\n        state.destroyTempState();\n        updateButtonUndoStates(anyInSystem);\n        return currentUrl;\n      };\n      var cancel = function (anyInSystem) {\n        var currentUrl = destroyTempState(anyInSystem);\n        updateSrc(anyInSystem, currentUrl).then(function (_oImg) {\n          unblock(anyInSystem);\n        });\n      };\n      var back = function (anyInSystem, simulatedEvent) {\n        cancel(anyInSystem);\n        var swap = simulatedEvent.event.swap;\n        swap();\n        imagePanel.hideCrop();\n      };\n      var transform = function (anyInSystem, simulatedEvent) {\n        return manipulate(anyInSystem, simulatedEvent.event.transform, noop);\n      };\n      var tempTransform = function (anyInSystem, simulatedEvent) {\n        return tempManipulate(anyInSystem, simulatedEvent.event.transform);\n      };\n      var transformApply = function (anyInSystem, simulatedEvent) {\n        return manipulateApply(anyInSystem, simulatedEvent.event.transform, simulatedEvent.event.swap);\n      };\n      var imagePanel = renderImagePanel(detail.currentState.url);\n      var sideBar = renderSideBar(providersBackstage);\n      var editPanel = renderEditPanel(imagePanel, providersBackstage);\n      var swap = function (anyInSystem, simulatedEvent) {\n        disableUndoRedo(anyInSystem);\n        var transform = simulatedEvent.event.transform;\n        var swap = simulatedEvent.event.swap;\n        transform.fold(function () {\n          swap();\n        }, function (transform) {\n          manipulate(anyInSystem, transform, swap);\n        });\n      };\n      return {\n        dom: {\n          tag: 'div',\n          attributes: { role: 'presentation' }\n        },\n        components: [\n          editPanel.memContainer.asSpec(),\n          imagePanel.memContainer.asSpec(),\n          sideBar.container\n        ],\n        behaviours: derive$1([\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function () {\n                return state.getBlobState();\n              }\n            }\n          }),\n          config('image-tools-events', [\n            run$1(internal.undo(), undo),\n            run$1(internal.redo(), redo),\n            run$1(internal.zoom(), zoom),\n            run$1(internal.back(), back),\n            run$1(internal.apply(), apply),\n            run$1(internal.transform(), transform),\n            run$1(internal.tempTransform(), tempTransform),\n            run$1(internal.transformApply(), transformApply),\n            run$1(internal.swap(), swap)\n          ]),\n          ComposingConfigs.self()\n        ])\n      };\n    };\n\n    var renderLabel = function (spec, backstageShared) {\n      var label = {\n        dom: {\n          tag: 'label',\n          innerHtml: backstageShared.providers.translate(spec.label),\n          classes: ['tox-label']\n        }\n      };\n      var comps = map$2(spec.items, backstageShared.interpreter);\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [label].concat(comps),\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Replacing.config({}),\n          RepresentingConfigs.domHtml(Optional.none()),\n          Keying.config({ mode: 'acyclic' })\n        ])\n      };\n    };\n\n    var isSingleListItem = function (item) {\n      return !has$2(item, 'items');\n    };\n    var dataAttribute = 'data-value';\n    var fetchItems = function (dropdownComp, name, items, selectedValue) {\n      return map$2(items, function (item) {\n        if (!isSingleListItem(item)) {\n          return {\n            type: 'nestedmenuitem',\n            text: item.text,\n            getSubmenuItems: function () {\n              return fetchItems(dropdownComp, name, item.items, selectedValue);\n            }\n          };\n        } else {\n          return {\n            type: 'togglemenuitem',\n            text: item.text,\n            value: item.value,\n            active: item.value === selectedValue,\n            onAction: function () {\n              Representing.setValue(dropdownComp, item.value);\n              emitWith(dropdownComp, formChangeEvent, { name: name });\n              Focusing.focus(dropdownComp);\n            }\n          };\n        }\n      });\n    };\n    var findItemByValue = function (items, value) {\n      return findMap(items, function (item) {\n        if (!isSingleListItem(item)) {\n          return findItemByValue(item.items, value);\n        } else {\n          return someIf(item.value === value, item);\n        }\n      });\n    };\n    var renderListBox = function (spec, backstage) {\n      var providersBackstage = backstage.shared.providers;\n      var initialItem = head(spec.items).filter(isSingleListItem);\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var pField = FormField.parts.field({\n        dom: {},\n        factory: {\n          sketch: function (sketchSpec) {\n            return renderCommonDropdown({\n              uid: sketchSpec.uid,\n              text: initialItem.map(function (item) {\n                return item.text;\n              }),\n              icon: Optional.none(),\n              tooltip: spec.label,\n              role: Optional.none(),\n              fetch: function (comp, callback) {\n                var items = fetchItems(comp, spec.name, spec.items, Representing.getValue(comp));\n                callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false));\n              },\n              onSetup: constant$1(noop),\n              getApi: constant$1({}),\n              columns: 1,\n              presets: 'normal',\n              classes: [],\n              dropdownBehaviours: [\n                Tabstopping.config({}),\n                Representing.config({\n                  store: {\n                    mode: 'manual',\n                    initialValue: initialItem.map(function (item) {\n                      return item.value;\n                    }).getOr(''),\n                    getValue: function (comp) {\n                      return get$d(comp.element, dataAttribute);\n                    },\n                    setValue: function (comp, data) {\n                      findItemByValue(spec.items, data).each(function (item) {\n                        set$8(comp.element, dataAttribute, item.value);\n                        emitWith(comp, updateMenuText, { text: item.text });\n                      });\n                    }\n                  }\n                })\n              ]\n            }, 'tox-listbox', backstage.shared);\n          }\n        }\n      });\n      var listBoxWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-listboxfield']\n        },\n        components: [pField]\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [listBoxWrap]\n        ]),\n        fieldBehaviours: derive$1([Disabling.config({\n            disabled: constant$1(spec.disabled),\n            onDisabled: function (comp) {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          })])\n      });\n    };\n\n    var renderPanel = function (spec, backstage) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: spec.classes\n        },\n        components: map$2(spec.items, backstage.shared.interpreter)\n      };\n    };\n\n    var factory$e = function (detail, _spec) {\n      var options = map$2(detail.options, function (option) {\n        return {\n          dom: {\n            tag: 'option',\n            value: option.value,\n            innerHtml: option.text\n          }\n        };\n      });\n      var initialValues = detail.data.map(function (v) {\n        return wrap$1('initialValue', v);\n      }).getOr({});\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'select',\n          classes: detail.selectClasses,\n          attributes: detail.selectAttributes\n        },\n        components: options,\n        behaviours: augment(detail.selectBehaviours, [\n          Focusing.config({}),\n          Representing.config({\n            store: __assign({\n              mode: 'manual',\n              getValue: function (select) {\n                return get$5(select.element);\n              },\n              setValue: function (select, newValue) {\n                var found = find$5(detail.options, function (opt) {\n                  return opt.value === newValue;\n                });\n                if (found.isSome()) {\n                  set$4(select.element, newValue);\n                }\n              }\n            }, initialValues)\n          })\n        ])\n      };\n    };\n    var HtmlSelect = single({\n      name: 'HtmlSelect',\n      configFields: [\n        required$1('options'),\n        field('selectBehaviours', [\n          Focusing,\n          Representing\n        ]),\n        defaulted('selectClasses', []),\n        defaulted('selectAttributes', {}),\n        option('data')\n      ],\n      factory: factory$e\n    });\n\n    var renderSelectBox = function (spec, providersBackstage) {\n      var translatedOptions = map$2(spec.items, function (item) {\n        return {\n          text: providersBackstage.translate(item.text),\n          value: item.value\n        };\n      });\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var pField = FormField.parts.field({\n        dom: {},\n        selectAttributes: { size: spec.size },\n        options: translatedOptions,\n        factory: HtmlSelect,\n        selectBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            }\n          }),\n          Tabstopping.config({}),\n          config('selectbox-change', [run$1(change(), function (component, _) {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      var chevron = spec.size > 1 ? Optional.none() : Optional.some(render$3('chevron-down', {\n        tag: 'div',\n        classes: ['tox-selectfield__icon-js']\n      }, providersBackstage.icons));\n      var selectWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-selectfield']\n        },\n        components: flatten([\n          [pField],\n          chevron.toArray()\n        ])\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [selectWrap]\n        ]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            },\n            onDisabled: function (comp) {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig()\n        ])\n      });\n    };\n\n    var renderTable = function (spec, providersBackstage) {\n      var renderTh = function (text) {\n        return {\n          dom: {\n            tag: 'th',\n            innerHtml: providersBackstage.translate(text)\n          }\n        };\n      };\n      var renderHeader = function (header) {\n        return {\n          dom: { tag: 'thead' },\n          components: [{\n              dom: { tag: 'tr' },\n              components: map$2(header, renderTh)\n            }]\n        };\n      };\n      var renderTd = function (text) {\n        return {\n          dom: {\n            tag: 'td',\n            innerHtml: providersBackstage.translate(text)\n          }\n        };\n      };\n      var renderTr = function (row) {\n        return {\n          dom: { tag: 'tr' },\n          components: map$2(row, renderTd)\n        };\n      };\n      var renderRows = function (rows) {\n        return {\n          dom: { tag: 'tbody' },\n          components: map$2(rows, renderTr)\n        };\n      };\n      return {\n        dom: {\n          tag: 'table',\n          classes: ['tox-dialog__table']\n        },\n        components: [\n          renderHeader(spec.header),\n          renderRows(spec.cells)\n        ],\n        behaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n\n    var renderTextField = function (spec, providersBackstage) {\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var baseInputBehaviours = [\n        Disabling.config({\n          disabled: function () {\n            return spec.disabled || providersBackstage.isDisabled();\n          }\n        }),\n        receivingConfig(),\n        Keying.config({\n          mode: 'execution',\n          useEnter: spec.multiline !== true,\n          useControlEnter: spec.multiline === true,\n          execute: function (comp) {\n            emit(comp, formSubmitEvent);\n            return Optional.some(true);\n          }\n        }),\n        config('textfield-change', [\n          run$1(input(), function (component, _) {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          }),\n          run$1(postPaste(), function (component, _) {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          })\n        ]),\n        Tabstopping.config({})\n      ];\n      var validatingBehaviours = spec.validation.map(function (vl) {\n        return Invalidating.config({\n          getRoot: function (input) {\n            return parent(input.element);\n          },\n          invalidClass: 'tox-invalid',\n          validator: {\n            validate: function (input) {\n              var v = Representing.getValue(input);\n              var result = vl.validator(v);\n              return Future.pure(result === true ? Result.value(v) : Result.error(result));\n            },\n            validateOnLoad: vl.validateOnLoad\n          }\n        });\n      }).toArray();\n      var placeholder = spec.placeholder.fold(constant$1({}), function (p) {\n        return { placeholder: providersBackstage.translate(p) };\n      });\n      var inputMode = spec.inputMode.fold(constant$1({}), function (mode) {\n        return { inputmode: mode };\n      });\n      var inputAttributes = __assign(__assign({}, placeholder), inputMode);\n      var pField = FormField.parts.field({\n        tag: spec.multiline === true ? 'textarea' : 'input',\n        inputAttributes: inputAttributes,\n        inputClasses: [spec.classname],\n        inputBehaviours: derive$1(flatten([\n          baseInputBehaviours,\n          validatingBehaviours\n        ])),\n        selectOnFocus: false,\n        factory: Input\n      });\n      var extraClasses = spec.flex ? ['tox-form__group--stretched'] : [];\n      var extraClasses2 = extraClasses.concat(spec.maximized ? ['tox-form-group--maximize'] : []);\n      var extraBehaviours = [\n        Disabling.config({\n          disabled: function () {\n            return spec.disabled || providersBackstage.isDisabled();\n          },\n          onDisabled: function (comp) {\n            FormField.getField(comp).each(Disabling.disable);\n          },\n          onEnabled: function (comp) {\n            FormField.getField(comp).each(Disabling.enable);\n          }\n        }),\n        receivingConfig()\n      ];\n      return renderFormFieldWith(pLabel, pField, extraClasses2, extraBehaviours);\n    };\n    var renderInput = function (spec, providersBackstage) {\n      return renderTextField({\n        name: spec.name,\n        multiline: false,\n        label: spec.label,\n        inputMode: spec.inputMode,\n        placeholder: spec.placeholder,\n        flex: false,\n        disabled: spec.disabled,\n        classname: 'tox-textfield',\n        validation: Optional.none(),\n        maximized: spec.maximized\n      }, providersBackstage);\n    };\n    var renderTextarea = function (spec, providersBackstage) {\n      return renderTextField({\n        name: spec.name,\n        multiline: true,\n        label: spec.label,\n        inputMode: Optional.none(),\n        placeholder: spec.placeholder,\n        flex: true,\n        disabled: spec.disabled,\n        classname: 'tox-textarea',\n        validation: Optional.none(),\n        maximized: spec.maximized\n      }, providersBackstage);\n    };\n\n    var events$6 = function (streamConfig, streamState) {\n      var streams = streamConfig.stream.streams;\n      var processor = streams.setup(streamConfig, streamState);\n      return derive$2([\n        run$1(streamConfig.event, processor),\n        runOnDetached(function () {\n          return streamState.cancel();\n        })\n      ].concat(streamConfig.cancelEvent.map(function (e) {\n        return [run$1(e, function () {\n            return streamState.cancel();\n          })];\n      }).getOr([])));\n    };\n\n    var ActiveStreaming = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$6\n    });\n\n    var throttle = function (_config) {\n      var state = Cell(null);\n      var readState = function () {\n        return { timer: state.get() !== null ? 'set' : 'unset' };\n      };\n      var setTimer = function (t) {\n        state.set(t);\n      };\n      var cancel = function () {\n        var t = state.get();\n        if (t !== null) {\n          t.cancel();\n        }\n      };\n      return nu$8({\n        readState: readState,\n        setTimer: setTimer,\n        cancel: cancel\n      });\n    };\n    var init$9 = function (spec) {\n      return spec.stream.streams.state(spec);\n    };\n\n    var StreamingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        throttle: throttle,\n        init: init$9\n    });\n\n    var setup$c = function (streamInfo, streamState) {\n      var sInfo = streamInfo.stream;\n      var throttler = last(streamInfo.onStream, sInfo.delay);\n      streamState.setTimer(throttler);\n      return function (component, simulatedEvent) {\n        throttler.throttle(component, simulatedEvent);\n        if (sInfo.stopEvent) {\n          simulatedEvent.stop();\n        }\n      };\n    };\n    var StreamingSchema = [\n      requiredOf('stream', choose$1('mode', {\n        throttle: [\n          required$1('delay'),\n          defaulted('stopEvent', true),\n          output$1('streams', {\n            setup: setup$c,\n            state: throttle\n          })\n        ]\n      })),\n      defaulted('event', 'input'),\n      option('cancelEvent'),\n      onStrictHandler('onStream')\n    ];\n\n    var Streaming = create$7({\n      fields: StreamingSchema,\n      name: 'streaming',\n      active: ActiveStreaming,\n      state: StreamingState\n    });\n\n    var setValueFromItem = function (model, input, item) {\n      var itemData = Representing.getValue(item);\n      Representing.setValue(input, itemData);\n      setCursorAtEnd(input);\n    };\n    var setSelectionOn = function (input, f) {\n      var el = input.element;\n      var value = get$5(el);\n      var node = el.dom;\n      if (get$d(el, 'type') !== 'number') {\n        f(node, value);\n      }\n    };\n    var setCursorAtEnd = function (input) {\n      setSelectionOn(input, function (node, value) {\n        return node.setSelectionRange(value.length, value.length);\n      });\n    };\n    var setSelectionToEnd = function (input, startOffset) {\n      setSelectionOn(input, function (node, value) {\n        return node.setSelectionRange(startOffset, value.length);\n      });\n    };\n    var attemptSelectOver = function (model, input, item) {\n      if (!model.selectsOver) {\n        return Optional.none();\n      } else {\n        var currentValue = Representing.getValue(input);\n        var inputDisplay_1 = model.getDisplayText(currentValue);\n        var itemValue = Representing.getValue(item);\n        var itemDisplay = model.getDisplayText(itemValue);\n        return itemDisplay.indexOf(inputDisplay_1) === 0 ? Optional.some(function () {\n          setValueFromItem(model, input, item);\n          setSelectionToEnd(input, inputDisplay_1.length);\n        }) : Optional.none();\n      }\n    };\n\n    var itemExecute = constant$1('alloy.typeahead.itemexecute');\n\n    var make$3 = function (detail, components, spec, externals) {\n      var navigateList = function (comp, simulatedEvent, highlighter) {\n        detail.previewing.set(false);\n        var sandbox = Coupling.getCoupled(comp, 'sandbox');\n        if (Sandboxing.isOpen(sandbox)) {\n          Composing.getCurrent(sandbox).each(function (menu) {\n            Highlighting.getHighlighted(menu).fold(function () {\n              highlighter(menu);\n            }, function () {\n              dispatchEvent(sandbox, menu.element, 'keydown', simulatedEvent);\n            });\n          });\n        } else {\n          var onOpenSync = function (sandbox) {\n            Composing.getCurrent(sandbox).each(highlighter);\n          };\n          open(detail, mapFetch(comp), comp, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n        }\n      };\n      var focusBehaviours$1 = focusBehaviours(detail);\n      var mapFetch = function (comp) {\n        return function (tdata) {\n          return tdata.map(function (data) {\n            var menus = values(data.menus);\n            var items = bind$3(menus, function (menu) {\n              return filter$2(menu.items, function (item) {\n                return item.type === 'item';\n              });\n            });\n            var repState = Representing.getState(comp);\n            repState.update(map$2(items, function (item) {\n              return item.data;\n            }));\n            return data;\n          });\n        };\n      };\n      var behaviours = [\n        Focusing.config({}),\n        Representing.config({\n          onSetValue: detail.onSetValue,\n          store: __assign({\n            mode: 'dataset',\n            getDataKey: function (comp) {\n              return get$5(comp.element);\n            },\n            getFallbackEntry: function (itemString) {\n              return {\n                value: itemString,\n                meta: {}\n              };\n            },\n            setValue: function (comp, data) {\n              set$4(comp.element, detail.model.getDisplayText(data));\n            }\n          }, detail.initialData.map(function (d) {\n            return wrap$1('initialValue', d);\n          }).getOr({}))\n        }),\n        Streaming.config({\n          stream: {\n            mode: 'throttle',\n            delay: detail.responseTime,\n            stopEvent: false\n          },\n          onStream: function (component, _simulatedEvent) {\n            var sandbox = Coupling.getCoupled(component, 'sandbox');\n            var focusInInput = Focusing.isFocused(component);\n            if (focusInInput) {\n              if (get$5(component.element).length >= detail.minChars) {\n                var previousValue_1 = Composing.getCurrent(sandbox).bind(function (menu) {\n                  return Highlighting.getHighlighted(menu).map(Representing.getValue);\n                });\n                detail.previewing.set(true);\n                var onOpenSync = function (_sandbox) {\n                  Composing.getCurrent(sandbox).each(function (menu) {\n                    previousValue_1.fold(function () {\n                      if (detail.model.selectsOver) {\n                        Highlighting.highlightFirst(menu);\n                      }\n                    }, function (pv) {\n                      Highlighting.highlightBy(menu, function (item) {\n                        var itemData = Representing.getValue(item);\n                        return itemData.value === pv.value;\n                      });\n                      Highlighting.getHighlighted(menu).orThunk(function () {\n                        Highlighting.highlightFirst(menu);\n                        return Optional.none();\n                      });\n                    });\n                  });\n                };\n                open(detail, mapFetch(component), component, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n              }\n            }\n          },\n          cancelEvent: typeaheadCancel()\n        }),\n        Keying.config({\n          mode: 'special',\n          onDown: function (comp, simulatedEvent) {\n            navigateList(comp, simulatedEvent, Highlighting.highlightFirst);\n            return Optional.some(true);\n          },\n          onEscape: function (comp) {\n            var sandbox = Coupling.getCoupled(comp, 'sandbox');\n            if (Sandboxing.isOpen(sandbox)) {\n              Sandboxing.close(sandbox);\n              return Optional.some(true);\n            }\n            return Optional.none();\n          },\n          onUp: function (comp, simulatedEvent) {\n            navigateList(comp, simulatedEvent, Highlighting.highlightLast);\n            return Optional.some(true);\n          },\n          onEnter: function (comp) {\n            var sandbox = Coupling.getCoupled(comp, 'sandbox');\n            var sandboxIsOpen = Sandboxing.isOpen(sandbox);\n            if (sandboxIsOpen && !detail.previewing.get()) {\n              return Composing.getCurrent(sandbox).bind(function (menu) {\n                return Highlighting.getHighlighted(menu);\n              }).map(function (item) {\n                emitWith(comp, itemExecute(), { item: item });\n                return true;\n              });\n            } else {\n              var currentValue = Representing.getValue(comp);\n              emit(comp, typeaheadCancel());\n              detail.onExecute(sandbox, comp, currentValue);\n              if (sandboxIsOpen) {\n                Sandboxing.close(sandbox);\n              }\n              return Optional.some(true);\n            }\n          }\n        }),\n        Toggling.config({\n          toggleClass: detail.markers.openClass,\n          aria: { mode: 'expanded' }\n        }),\n        Coupling.config({\n          others: {\n            sandbox: function (hotspot) {\n              return makeSandbox$1(detail, hotspot, {\n                onOpen: function () {\n                  return Toggling.on(hotspot);\n                },\n                onClose: function () {\n                  return Toggling.off(hotspot);\n                }\n              });\n            }\n          }\n        }),\n        config('typeaheadevents', [\n          runOnExecute$1(function (comp) {\n            var onOpenSync = noop;\n            togglePopup(detail, mapFetch(comp), comp, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n          }),\n          run$1(itemExecute(), function (comp, se) {\n            var sandbox = Coupling.getCoupled(comp, 'sandbox');\n            setValueFromItem(detail.model, comp, se.event.item);\n            emit(comp, typeaheadCancel());\n            detail.onItemExecute(comp, sandbox, se.event.item, Representing.getValue(comp));\n            Sandboxing.close(sandbox);\n            setCursorAtEnd(comp);\n          })\n        ].concat(detail.dismissOnBlur ? [run$1(postBlur(), function (typeahead) {\n            var sandbox = Coupling.getCoupled(typeahead, 'sandbox');\n            if (search(sandbox.element).isNone()) {\n              Sandboxing.close(sandbox);\n            }\n          })] : []))\n      ];\n      return {\n        uid: detail.uid,\n        dom: dom(deepMerge(detail, {\n          inputAttributes: {\n            'role': 'combobox',\n            'aria-autocomplete': 'list',\n            'aria-haspopup': 'true'\n          }\n        })),\n        behaviours: __assign(__assign({}, focusBehaviours$1), augment(detail.typeaheadBehaviours, behaviours)),\n        eventOrder: detail.eventOrder\n      };\n    };\n\n    var schema$g = constant$1([\n      option('lazySink'),\n      required$1('fetch'),\n      defaulted('minChars', 5),\n      defaulted('responseTime', 1000),\n      onHandler('onOpen'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      defaulted('layouts', Optional.none()),\n      defaulted('eventOrder', {}),\n      defaultedObjOf('model', {}, [\n        defaulted('getDisplayText', function (itemData) {\n          return itemData.meta !== undefined && itemData.meta.text !== undefined ? itemData.meta.text : itemData.value;\n        }),\n        defaulted('selectsOver', true),\n        defaulted('populateFromBrowse', true)\n      ]),\n      onHandler('onSetValue'),\n      onKeyboardHandler('onExecute'),\n      onHandler('onItemExecute'),\n      defaulted('inputClasses', []),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('matchWidth', true),\n      defaulted('useMinWidth', false),\n      defaulted('dismissOnBlur', true),\n      markers$1(['openClass']),\n      option('initialData'),\n      field('typeaheadBehaviours', [\n        Focusing,\n        Representing,\n        Streaming,\n        Keying,\n        Toggling,\n        Coupling\n      ]),\n      customField('previewing', function () {\n        return Cell(true);\n      })\n    ].concat(schema$k()).concat(sandboxFields()));\n    var parts$b = constant$1([external$1({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        overrides: function (detail) {\n          return {\n            fakeFocus: true,\n            onHighlight: function (menu, item) {\n              if (!detail.previewing.get()) {\n                menu.getSystem().getByUid(detail.uid).each(function (input) {\n                  if (detail.model.populateFromBrowse) {\n                    setValueFromItem(detail.model, input, item);\n                  }\n                });\n              } else {\n                menu.getSystem().getByUid(detail.uid).each(function (input) {\n                  attemptSelectOver(detail.model, input, item).fold(function () {\n                    return Highlighting.dehighlight(menu, item);\n                  }, function (fn) {\n                    return fn();\n                  });\n                });\n              }\n              detail.previewing.set(false);\n            },\n            onExecute: function (menu, item) {\n              return menu.getSystem().getByUid(detail.uid).toOptional().map(function (typeahead) {\n                emitWith(typeahead, itemExecute(), { item: item });\n                return true;\n              });\n            },\n            onHover: function (menu, item) {\n              detail.previewing.set(false);\n              menu.getSystem().getByUid(detail.uid).each(function (input) {\n                if (detail.model.populateFromBrowse) {\n                  setValueFromItem(detail.model, input, item);\n                }\n              });\n            }\n          };\n        }\n      })]);\n\n    var Typeahead = composite({\n      name: 'Typeahead',\n      configFields: schema$g(),\n      partFields: parts$b(),\n      factory: make$3\n    });\n\n    var wrap = function (delegate) {\n      var toCached = function () {\n        return wrap(delegate.toCached());\n      };\n      var bindFuture = function (f) {\n        return wrap(delegate.bind(function (resA) {\n          return resA.fold(function (err) {\n            return Future.pure(Result.error(err));\n          }, function (a) {\n            return f(a);\n          });\n        }));\n      };\n      var bindResult = function (f) {\n        return wrap(delegate.map(function (resA) {\n          return resA.bind(f);\n        }));\n      };\n      var mapResult = function (f) {\n        return wrap(delegate.map(function (resA) {\n          return resA.map(f);\n        }));\n      };\n      var mapError = function (f) {\n        return wrap(delegate.map(function (resA) {\n          return resA.mapError(f);\n        }));\n      };\n      var foldResult = function (whenError, whenValue) {\n        return delegate.map(function (res) {\n          return res.fold(whenError, whenValue);\n        });\n      };\n      var withTimeout = function (timeout, errorThunk) {\n        return wrap(Future.nu(function (callback) {\n          var timedOut = false;\n          var timer = setTimeout(function () {\n            timedOut = true;\n            callback(Result.error(errorThunk()));\n          }, timeout);\n          delegate.get(function (result) {\n            if (!timedOut) {\n              clearTimeout(timer);\n              callback(result);\n            }\n          });\n        }));\n      };\n      return __assign(__assign({}, delegate), {\n        toCached: toCached,\n        bindFuture: bindFuture,\n        bindResult: bindResult,\n        mapResult: mapResult,\n        mapError: mapError,\n        foldResult: foldResult,\n        withTimeout: withTimeout\n      });\n    };\n    var nu$1 = function (worker) {\n      return wrap(Future.nu(worker));\n    };\n    var value = function (value) {\n      return wrap(Future.pure(Result.value(value)));\n    };\n    var error = function (error) {\n      return wrap(Future.pure(Result.error(error)));\n    };\n    var fromResult = function (result) {\n      return wrap(Future.pure(result));\n    };\n    var fromFuture = function (future) {\n      return wrap(future.map(Result.value));\n    };\n    var fromPromise = function (promise) {\n      return nu$1(function (completer) {\n        promise.then(function (value) {\n          completer(Result.value(value));\n        }, function (error) {\n          completer(Result.error(error));\n        });\n      });\n    };\n    var FutureResult = {\n      nu: nu$1,\n      wrap: wrap,\n      pure: value,\n      value: value,\n      error: error,\n      fromResult: fromResult,\n      fromFuture: fromFuture,\n      fromPromise: fromPromise\n    };\n\n    var separator$1 = { type: 'separator' };\n    var toMenuItem = function (target) {\n      return {\n        type: 'menuitem',\n        value: target.url,\n        text: target.title,\n        meta: { attach: target.attach },\n        onAction: noop\n      };\n    };\n    var staticMenuItem = function (title, url) {\n      return {\n        type: 'menuitem',\n        value: url,\n        text: title,\n        meta: { attach: undefined },\n        onAction: noop\n      };\n    };\n    var toMenuItems = function (targets) {\n      return map$2(targets, toMenuItem);\n    };\n    var filterLinkTargets = function (type, targets) {\n      return filter$2(targets, function (target) {\n        return target.type === type;\n      });\n    };\n    var filteredTargets = function (type, targets) {\n      return toMenuItems(filterLinkTargets(type, targets));\n    };\n    var headerTargets = function (linkInfo) {\n      return filteredTargets('header', linkInfo.targets);\n    };\n    var anchorTargets = function (linkInfo) {\n      return filteredTargets('anchor', linkInfo.targets);\n    };\n    var anchorTargetTop = function (linkInfo) {\n      return Optional.from(linkInfo.anchorTop).map(function (url) {\n        return staticMenuItem('<top>', url);\n      }).toArray();\n    };\n    var anchorTargetBottom = function (linkInfo) {\n      return Optional.from(linkInfo.anchorBottom).map(function (url) {\n        return staticMenuItem('<bottom>', url);\n      }).toArray();\n    };\n    var historyTargets = function (history) {\n      return map$2(history, function (url) {\n        return staticMenuItem(url, url);\n      });\n    };\n    var joinMenuLists = function (items) {\n      return foldl(items, function (a, b) {\n        var bothEmpty = a.length === 0 || b.length === 0;\n        return bothEmpty ? a.concat(b) : a.concat(separator$1, b);\n      }, []);\n    };\n    var filterByQuery = function (term, menuItems) {\n      var lowerCaseTerm = term.toLowerCase();\n      return filter$2(menuItems, function (item) {\n        var text = item.meta !== undefined && item.meta.text !== undefined ? item.meta.text : item.text;\n        return contains$1(text.toLowerCase(), lowerCaseTerm) || contains$1(item.value.toLowerCase(), lowerCaseTerm);\n      });\n    };\n\n    var getItems = function (fileType, input, urlBackstage) {\n      var urlInputValue = Representing.getValue(input);\n      var term = urlInputValue.meta.text !== undefined ? urlInputValue.meta.text : urlInputValue.value;\n      var info = urlBackstage.getLinkInformation();\n      return info.fold(function () {\n        return [];\n      }, function (linkInfo) {\n        var history = filterByQuery(term, historyTargets(urlBackstage.getHistory(fileType)));\n        return fileType === 'file' ? joinMenuLists([\n          history,\n          filterByQuery(term, headerTargets(linkInfo)),\n          filterByQuery(term, flatten([\n            anchorTargetTop(linkInfo),\n            anchorTargets(linkInfo),\n            anchorTargetBottom(linkInfo)\n          ]))\n        ]) : history;\n      });\n    };\n    var errorId = generate$6('aria-invalid');\n    var renderUrlInput = function (spec, backstage, urlBackstage) {\n      var _a;\n      var providersBackstage = backstage.shared.providers;\n      var updateHistory = function (component) {\n        var urlEntry = Representing.getValue(component);\n        urlBackstage.addToHistory(urlEntry.value, spec.filetype);\n      };\n      var pField = FormField.parts.field({\n        factory: Typeahead,\n        dismissOnBlur: true,\n        inputClasses: ['tox-textfield'],\n        sandboxClasses: ['tox-dialog__popups'],\n        inputAttributes: {\n          'aria-errormessage': errorId,\n          'type': 'url'\n        },\n        minChars: 0,\n        responseTime: 0,\n        fetch: function (input) {\n          var items = getItems(spec.filetype, input, urlBackstage);\n          var tdata = build(items, ItemResponse$1.BUBBLE_TO_SANDBOX, backstage, false);\n          return Future.pure(tdata);\n        },\n        getHotspot: function (comp) {\n          return memUrlBox.getOpt(comp);\n        },\n        onSetValue: function (comp, _newValue) {\n          if (comp.hasConfigured(Invalidating)) {\n            Invalidating.run(comp).get(noop);\n          }\n        },\n        typeaheadBehaviours: derive$1(flatten([\n          urlBackstage.getValidationHandler().map(function (handler) {\n            return Invalidating.config({\n              getRoot: function (comp) {\n                return parent(comp.element);\n              },\n              invalidClass: 'tox-control-wrap--status-invalid',\n              notify: {\n                onInvalid: function (comp, err) {\n                  memInvalidIcon.getOpt(comp).each(function (invalidComp) {\n                    set$8(invalidComp.element, 'title', providersBackstage.translate(err));\n                  });\n                }\n              },\n              validator: {\n                validate: function (input) {\n                  var urlEntry = Representing.getValue(input);\n                  return FutureResult.nu(function (completer) {\n                    handler({\n                      type: spec.filetype,\n                      url: urlEntry.value\n                    }, function (validation) {\n                      if (validation.status === 'invalid') {\n                        var err = Result.error(validation.message);\n                        completer(err);\n                      } else {\n                        var val = Result.value(validation.message);\n                        completer(val);\n                      }\n                    });\n                  });\n                },\n                validateOnLoad: false\n              }\n            });\n          }).toArray(),\n          [\n            Disabling.config({\n              disabled: function () {\n                return spec.disabled || providersBackstage.isDisabled();\n              }\n            }),\n            Tabstopping.config({}),\n            config('urlinput-events', flatten([\n              spec.filetype === 'file' ? [run$1(input(), function (comp) {\n                  emitWith(comp, formChangeEvent, { name: spec.name });\n                })] : [],\n              [\n                run$1(change(), function (comp) {\n                  emitWith(comp, formChangeEvent, { name: spec.name });\n                  updateHistory(comp);\n                }),\n                run$1(postPaste(), function (comp) {\n                  emitWith(comp, formChangeEvent, { name: spec.name });\n                  updateHistory(comp);\n                })\n              ]\n            ]))\n          ]\n        ])),\n        eventOrder: (_a = {}, _a[input()] = [\n          'streaming',\n          'urlinput-events',\n          'invalidating'\n        ], _a),\n        model: {\n          getDisplayText: function (itemData) {\n            return itemData.value;\n          },\n          selectsOver: false,\n          populateFromBrowse: false\n        },\n        markers: { openClass: 'tox-textfield--popup-open' },\n        lazySink: backstage.shared.getSink,\n        parts: { menu: part(false, 1, 'normal') },\n        onExecute: function (_menu, component, _entry) {\n          emitWith(component, formSubmitEvent, {});\n        },\n        onItemExecute: function (typeahead, _sandbox, _item, _value) {\n          updateHistory(typeahead);\n          emitWith(typeahead, formChangeEvent, { name: spec.name });\n        }\n      });\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var makeIcon = function (name, errId, icon, label) {\n        if (icon === void 0) {\n          icon = name;\n        }\n        if (label === void 0) {\n          label = name;\n        }\n        return render$3(icon, {\n          tag: 'div',\n          classes: [\n            'tox-icon',\n            'tox-control-wrap__status-icon-' + name\n          ],\n          attributes: __assign({\n            'title': providersBackstage.translate(label),\n            'aria-live': 'polite'\n          }, errId.fold(function () {\n            return {};\n          }, function (id) {\n            return { id: id };\n          }))\n        }, providersBackstage.icons);\n      };\n      var memInvalidIcon = record(makeIcon('invalid', Optional.some(errorId), 'warning'));\n      var memStatus = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap__status-icon-wrap']\n        },\n        components: [memInvalidIcon.asSpec()]\n      });\n      var optUrlPicker = urlBackstage.getUrlPicker(spec.filetype);\n      var browseUrlEvent = generate$6('browser.url.event');\n      var memUrlBox = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap']\n        },\n        components: [\n          pField,\n          memStatus.asSpec()\n        ],\n        behaviours: derive$1([Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            }\n          })])\n      });\n      var memUrlPickerButton = record(renderButton({\n        name: spec.name,\n        icon: Optional.some('browse'),\n        text: spec.label.getOr(''),\n        disabled: spec.disabled,\n        primary: false,\n        borderless: true\n      }, function (component) {\n        return emit(component, browseUrlEvent);\n      }, providersBackstage, [], ['tox-browse-url']));\n      var controlHWrapper = function () {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__controls-h-stack']\n          },\n          components: flatten([\n            [memUrlBox.asSpec()],\n            optUrlPicker.map(function () {\n              return memUrlPickerButton.asSpec();\n            }).toArray()\n          ])\n        };\n      };\n      var openUrlPicker = function (comp) {\n        Composing.getCurrent(comp).each(function (field) {\n          var componentData = Representing.getValue(field);\n          var urlData = __assign({ fieldname: spec.name }, componentData);\n          optUrlPicker.each(function (picker) {\n            picker(urlData).get(function (chosenData) {\n              Representing.setValue(field, chosenData);\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            });\n          });\n        });\n      };\n      return FormField.sketch({\n        dom: renderFormFieldDom(),\n        components: pLabel.toArray().concat([controlHWrapper()]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            },\n            onDisabled: function (comp) {\n              FormField.getField(comp).each(Disabling.disable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormField.getField(comp).each(Disabling.enable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig(),\n          config('url-input-events', [run$1(browseUrlEvent, openUrlPicker)])\n        ])\n      });\n    };\n\n    var renderAlertBanner = function (spec, providersBackstage) {\n      return Container.sketch({\n        dom: {\n          tag: 'div',\n          attributes: { role: 'alert' },\n          classes: [\n            'tox-notification',\n            'tox-notification--in',\n            'tox-notification--' + spec.level\n          ]\n        },\n        components: [\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-notification__icon']\n            },\n            components: [Button.sketch({\n                dom: {\n                  tag: 'button',\n                  classes: [\n                    'tox-button',\n                    'tox-button--naked',\n                    'tox-button--icon'\n                  ],\n                  innerHtml: get$1(spec.icon, providersBackstage.icons),\n                  attributes: { title: providersBackstage.translate(spec.iconTooltip) }\n                },\n                action: function (comp) {\n                  emitWith(comp, formActionEvent, {\n                    name: 'alert-banner',\n                    value: spec.url\n                  });\n                },\n                buttonBehaviours: derive$1([addFocusableBehaviour()])\n              })]\n          },\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-notification__body'],\n              innerHtml: providersBackstage.translate(spec.text)\n            }\n          }\n        ]\n      });\n    };\n\n    var renderCheckbox = function (spec, providerBackstage) {\n      var repBehaviour = Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: function (comp) {\n            var el = comp.element.dom;\n            return el.checked;\n          },\n          setValue: function (comp, value) {\n            var el = comp.element.dom;\n            el.checked = value;\n          }\n        }\n      });\n      var toggleCheckboxHandler = function (comp) {\n        comp.element.dom.click();\n        return Optional.some(true);\n      };\n      var pField = FormField.parts.field({\n        factory: { sketch: identity$1 },\n        dom: {\n          tag: 'input',\n          classes: ['tox-checkbox__input'],\n          attributes: { type: 'checkbox' }\n        },\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providerBackstage.isDisabled();\n            }\n          }),\n          Tabstopping.config({}),\n          Focusing.config({}),\n          repBehaviour,\n          Keying.config({\n            mode: 'special',\n            onEnter: toggleCheckboxHandler,\n            onSpace: toggleCheckboxHandler,\n            stopSpaceKeyup: true\n          }),\n          config('checkbox-events', [run$1(change(), function (component, _) {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      var pLabel = FormField.parts.label({\n        dom: {\n          tag: 'span',\n          classes: ['tox-checkbox__label'],\n          innerHtml: providerBackstage.translate(spec.label)\n        },\n        behaviours: derive$1([Unselecting.config({})])\n      });\n      var makeIcon = function (className) {\n        var iconName = className === 'checked' ? 'selected' : 'unselected';\n        return render$3(iconName, {\n          tag: 'span',\n          classes: [\n            'tox-icon',\n            'tox-checkbox-icon__' + className\n          ]\n        }, providerBackstage.icons);\n      };\n      var memIcons = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-checkbox__icons']\n        },\n        components: [\n          makeIcon('checked'),\n          makeIcon('unchecked')\n        ]\n      });\n      return FormField.sketch({\n        dom: {\n          tag: 'label',\n          classes: ['tox-checkbox']\n        },\n        components: [\n          pField,\n          memIcons.asSpec(),\n          pLabel\n        ],\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providerBackstage.isDisabled();\n            },\n            disableClass: 'tox-checkbox--disabled',\n            onDisabled: function (comp) {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig()\n        ])\n      });\n    };\n\n    var renderHtmlPanel = function (spec) {\n      if (spec.presets === 'presentation') {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html\n          }\n        });\n      } else {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html,\n            attributes: { role: 'document' }\n          },\n          containerBehaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({})\n          ])\n        });\n      }\n    };\n\n    var make$2 = function (render) {\n      return function (parts, spec, backstage) {\n        return get$e(spec, 'name').fold(function () {\n          return render(spec, backstage);\n        }, function (fieldName) {\n          return parts.field(fieldName, render(spec, backstage));\n        });\n      };\n    };\n    var makeIframe = function (render) {\n      return function (parts, spec, backstage) {\n        var iframeSpec = deepMerge(spec, { source: 'dynamic' });\n        return make$2(render)(parts, iframeSpec, backstage);\n      };\n    };\n    var factories = {\n      bar: make$2(function (spec, backstage) {\n        return renderBar(spec, backstage.shared);\n      }),\n      collection: make$2(function (spec, backstage) {\n        return renderCollection(spec, backstage.shared.providers);\n      }),\n      alertbanner: make$2(function (spec, backstage) {\n        return renderAlertBanner(spec, backstage.shared.providers);\n      }),\n      input: make$2(function (spec, backstage) {\n        return renderInput(spec, backstage.shared.providers);\n      }),\n      textarea: make$2(function (spec, backstage) {\n        return renderTextarea(spec, backstage.shared.providers);\n      }),\n      label: make$2(function (spec, backstage) {\n        return renderLabel(spec, backstage.shared);\n      }),\n      iframe: makeIframe(function (spec, backstage) {\n        return renderIFrame(spec, backstage.shared.providers);\n      }),\n      button: make$2(function (spec, backstage) {\n        return renderDialogButton(spec, backstage.shared.providers);\n      }),\n      checkbox: make$2(function (spec, backstage) {\n        return renderCheckbox(spec, backstage.shared.providers);\n      }),\n      colorinput: make$2(function (spec, backstage) {\n        return renderColorInput(spec, backstage.shared, backstage.colorinput);\n      }),\n      colorpicker: make$2(renderColorPicker),\n      dropzone: make$2(function (spec, backstage) {\n        return renderDropZone(spec, backstage.shared.providers);\n      }),\n      grid: make$2(function (spec, backstage) {\n        return renderGrid(spec, backstage.shared);\n      }),\n      listbox: make$2(function (spec, backstage) {\n        return renderListBox(spec, backstage);\n      }),\n      selectbox: make$2(function (spec, backstage) {\n        return renderSelectBox(spec, backstage.shared.providers);\n      }),\n      sizeinput: make$2(function (spec, backstage) {\n        return renderSizeInput(spec, backstage.shared.providers);\n      }),\n      urlinput: make$2(function (spec, backstage) {\n        return renderUrlInput(spec, backstage, backstage.urlinput);\n      }),\n      customeditor: make$2(renderCustomEditor),\n      htmlpanel: make$2(renderHtmlPanel),\n      imagetools: make$2(function (spec, backstage) {\n        return renderImageTools(spec, backstage.shared.providers);\n      }),\n      table: make$2(function (spec, backstage) {\n        return renderTable(spec, backstage.shared.providers);\n      }),\n      panel: make$2(function (spec, backstage) {\n        return renderPanel(spec, backstage);\n      })\n    };\n    var noFormParts = {\n      field: function (_name, spec) {\n        return spec;\n      }\n    };\n    var interpretInForm = function (parts, spec, oldBackstage) {\n      var newBackstage = deepMerge(oldBackstage, {\n        shared: {\n          interpreter: function (childSpec) {\n            return interpretParts(parts, childSpec, newBackstage);\n          }\n        }\n      });\n      return interpretParts(parts, spec, newBackstage);\n    };\n    var interpretParts = function (parts, spec, backstage) {\n      return get$e(factories, spec.type).fold(function () {\n        console.error('Unknown factory type \"' + spec.type + '\", defaulting to container: ', spec);\n        return spec;\n      }, function (factory) {\n        return factory(parts, spec, backstage);\n      });\n    };\n    var interpretWithoutForm = function (spec, backstage) {\n      var parts = noFormParts;\n      return interpretParts(parts, spec, backstage);\n    };\n\n    var bubbleAlignments$2 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: [],\n      alignRight: [],\n      right: [],\n      left: [],\n      bottom: [],\n      top: []\n    };\n    var getInlineDialogAnchor = function (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) {\n      var bubbleSize = 12;\n      var overrides = { maxHeightFunction: expandable$1() };\n      var editableAreaAnchor = function () {\n        return {\n          type: 'node',\n          root: getContentContainer(contentAreaElement()),\n          node: Optional.from(contentAreaElement()),\n          bubble: nu$5(bubbleSize, bubbleSize, bubbleAlignments$2),\n          layouts: {\n            onRtl: function () {\n              return [northeast];\n            },\n            onLtr: function () {\n              return [northwest];\n            }\n          },\n          overrides: overrides\n        };\n      };\n      var standardAnchor = function () {\n        return {\n          type: 'hotspot',\n          hotspot: lazyAnchorbar(),\n          bubble: nu$5(-bubbleSize, bubbleSize, bubbleAlignments$2),\n          layouts: {\n            onRtl: function () {\n              return [southeast$2];\n            },\n            onLtr: function () {\n              return [southwest$2];\n            }\n          },\n          overrides: overrides\n        };\n      };\n      return function () {\n        return lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n      };\n    };\n    var getBannerAnchor = function (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) {\n      var editableAreaAnchor = function () {\n        return {\n          type: 'node',\n          root: getContentContainer(contentAreaElement()),\n          node: Optional.from(contentAreaElement()),\n          layouts: {\n            onRtl: function () {\n              return [north];\n            },\n            onLtr: function () {\n              return [north];\n            }\n          }\n        };\n      };\n      var standardAnchor = function () {\n        return {\n          type: 'hotspot',\n          hotspot: lazyAnchorbar(),\n          layouts: {\n            onRtl: function () {\n              return [south$2];\n            },\n            onLtr: function () {\n              return [south$2];\n            }\n          }\n        };\n      };\n      return function () {\n        return lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n      };\n    };\n    var getCursorAnchor = function (editor, bodyElement) {\n      return function () {\n        return {\n          type: 'selection',\n          root: bodyElement(),\n          getSelection: function () {\n            var rng = editor.selection.getRng();\n            return Optional.some(SimSelection.range(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset));\n          }\n        };\n      };\n    };\n    var getNodeAnchor$1 = function (bodyElement) {\n      return function (element) {\n        return {\n          type: 'node',\n          root: bodyElement(),\n          node: element\n        };\n      };\n    };\n    var getAnchors = function (editor, lazyAnchorbar, isToolbarTop) {\n      var useFixedToolbarContainer = useFixedContainer(editor);\n      var bodyElement = function () {\n        return SugarElement.fromDom(editor.getBody());\n      };\n      var contentAreaElement = function () {\n        return SugarElement.fromDom(editor.getContentAreaContainer());\n      };\n      var lazyUseEditableAreaAnchor = function () {\n        return useFixedToolbarContainer || !isToolbarTop();\n      };\n      return {\n        inlineDialog: getInlineDialogAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        banner: getBannerAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        cursor: getCursorAnchor(editor, bodyElement),\n        node: getNodeAnchor$1(bodyElement)\n      };\n    };\n\n    var colorPicker = function (editor) {\n      return function (callback, value) {\n        var dialog = colorPickerDialog(editor);\n        dialog(callback, value);\n      };\n    };\n    var hasCustomColors = function (editor) {\n      return function () {\n        return hasCustomColors$1(editor);\n      };\n    };\n    var getColors = function (editor) {\n      return function () {\n        return getColors$2(editor);\n      };\n    };\n    var getColorCols = function (editor) {\n      return function () {\n        return getColorCols$1(editor);\n      };\n    };\n    var ColorInputBackstage = function (editor) {\n      return {\n        colorPicker: colorPicker(editor),\n        hasCustomColors: hasCustomColors(editor),\n        getColors: getColors(editor),\n        getColorCols: getColorCols(editor)\n      };\n    };\n\n    var isDraggableModal = function (editor) {\n      return function () {\n        return isDraggableModal$1(editor);\n      };\n    };\n    var DialogBackstage = function (editor) {\n      return { isDraggableModal: isDraggableModal(editor) };\n    };\n\n    var HeaderBackstage = function (editor) {\n      var mode = Cell(isToolbarLocationBottom(editor) ? 'bottom' : 'top');\n      return {\n        isPositionedAtTop: function () {\n          return mode.get() === 'top';\n        },\n        getDockingMode: mode.get,\n        setDockingMode: mode.set\n      };\n    };\n\n    var defaultStyleFormats = [\n      {\n        title: 'Headings',\n        items: [\n          {\n            title: 'Heading 1',\n            format: 'h1'\n          },\n          {\n            title: 'Heading 2',\n            format: 'h2'\n          },\n          {\n            title: 'Heading 3',\n            format: 'h3'\n          },\n          {\n            title: 'Heading 4',\n            format: 'h4'\n          },\n          {\n            title: 'Heading 5',\n            format: 'h5'\n          },\n          {\n            title: 'Heading 6',\n            format: 'h6'\n          }\n        ]\n      },\n      {\n        title: 'Inline',\n        items: [\n          {\n            title: 'Bold',\n            format: 'bold'\n          },\n          {\n            title: 'Italic',\n            format: 'italic'\n          },\n          {\n            title: 'Underline',\n            format: 'underline'\n          },\n          {\n            title: 'Strikethrough',\n            format: 'strikethrough'\n          },\n          {\n            title: 'Superscript',\n            format: 'superscript'\n          },\n          {\n            title: 'Subscript',\n            format: 'subscript'\n          },\n          {\n            title: 'Code',\n            format: 'code'\n          }\n        ]\n      },\n      {\n        title: 'Blocks',\n        items: [\n          {\n            title: 'Paragraph',\n            format: 'p'\n          },\n          {\n            title: 'Blockquote',\n            format: 'blockquote'\n          },\n          {\n            title: 'Div',\n            format: 'div'\n          },\n          {\n            title: 'Pre',\n            format: 'pre'\n          }\n        ]\n      },\n      {\n        title: 'Align',\n        items: [\n          {\n            title: 'Left',\n            format: 'alignleft'\n          },\n          {\n            title: 'Center',\n            format: 'aligncenter'\n          },\n          {\n            title: 'Right',\n            format: 'alignright'\n          },\n          {\n            title: 'Justify',\n            format: 'alignjustify'\n          }\n        ]\n      }\n    ];\n    var isNestedFormat = function (format) {\n      return has$2(format, 'items');\n    };\n    var isBlockFormat = function (format) {\n      return has$2(format, 'block');\n    };\n    var isInlineFormat = function (format) {\n      return has$2(format, 'inline');\n    };\n    var isSelectorFormat = function (format) {\n      return has$2(format, 'selector');\n    };\n    var mapFormats = function (userFormats) {\n      return foldl(userFormats, function (acc, fmt) {\n        if (isNestedFormat(fmt)) {\n          var result = mapFormats(fmt.items);\n          return {\n            customFormats: acc.customFormats.concat(result.customFormats),\n            formats: acc.formats.concat([{\n                title: fmt.title,\n                items: result.formats\n              }])\n          };\n        } else if (isInlineFormat(fmt) || isBlockFormat(fmt) || isSelectorFormat(fmt)) {\n          var formatName = isString(fmt.name) ? fmt.name : fmt.title.toLowerCase();\n          var formatNameWithPrefix = 'custom-' + formatName;\n          return {\n            customFormats: acc.customFormats.concat([{\n                name: formatNameWithPrefix,\n                format: fmt\n              }]),\n            formats: acc.formats.concat([{\n                title: fmt.title,\n                format: formatNameWithPrefix,\n                icon: fmt.icon\n              }])\n          };\n        } else {\n          return __assign(__assign({}, acc), { formats: acc.formats.concat(fmt) });\n        }\n      }, {\n        customFormats: [],\n        formats: []\n      });\n    };\n    var registerCustomFormats = function (editor, userFormats) {\n      var result = mapFormats(userFormats);\n      var registerFormats = function (customFormats) {\n        each$1(customFormats, function (fmt) {\n          if (!editor.formatter.has(fmt.name)) {\n            editor.formatter.register(fmt.name, fmt.format);\n          }\n        });\n      };\n      if (editor.formatter) {\n        registerFormats(result.customFormats);\n      } else {\n        editor.on('init', function () {\n          registerFormats(result.customFormats);\n        });\n      }\n      return result.formats;\n    };\n    var getStyleFormats = function (editor) {\n      return getUserStyleFormats(editor).map(function (userFormats) {\n        var registeredUserFormats = registerCustomFormats(editor, userFormats);\n        return isMergeStyleFormats(editor) ? defaultStyleFormats.concat(registeredUserFormats) : registeredUserFormats;\n      }).getOr(defaultStyleFormats);\n    };\n\n    var processBasic = function (item, isSelectedFor, getPreviewFor) {\n      var formatterSpec = {\n        type: 'formatter',\n        isSelected: isSelectedFor(item.format),\n        getStylePreview: getPreviewFor(item.format)\n      };\n      return deepMerge(item, formatterSpec);\n    };\n    var register$8 = function (editor, formats, isSelectedFor, getPreviewFor) {\n      var enrichSupported = function (item) {\n        return processBasic(item, isSelectedFor, getPreviewFor);\n      };\n      var enrichMenu = function (item) {\n        var submenuSpec = { type: 'submenu' };\n        return deepMerge(item, submenuSpec);\n      };\n      var enrichCustom = function (item) {\n        var formatName = isString(item.name) ? item.name : generate$6(item.title);\n        var formatNameWithPrefix = 'custom-' + formatName;\n        var customSpec = {\n          type: 'formatter',\n          format: formatNameWithPrefix,\n          isSelected: isSelectedFor(formatNameWithPrefix),\n          getStylePreview: getPreviewFor(formatNameWithPrefix)\n        };\n        var newItem = deepMerge(item, customSpec);\n        editor.formatter.register(formatName, newItem);\n        return newItem;\n      };\n      var doEnrich = function (items) {\n        return map$2(items, function (item) {\n          var keys$1 = keys(item);\n          if (hasNonNullableKey(item, 'items')) {\n            var newItems = doEnrich(item.items);\n            return deepMerge(enrichMenu(item), { getStyleItems: constant$1(newItems) });\n          } else if (hasNonNullableKey(item, 'format')) {\n            return enrichSupported(item);\n          } else if (keys$1.length === 1 && contains$2(keys$1, 'title')) {\n            return deepMerge(item, { type: 'separator' });\n          } else {\n            return enrichCustom(item);\n          }\n        });\n      };\n      return doEnrich(formats);\n    };\n\n    var init$8 = function (editor) {\n      var isSelectedFor = function (format) {\n        return function () {\n          return editor.formatter.match(format);\n        };\n      };\n      var getPreviewFor = function (format) {\n        return function () {\n          var fmt = editor.formatter.get(format);\n          return fmt !== undefined ? Optional.some({\n            tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n            styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n          }) : Optional.none();\n        };\n      };\n      var flatten = function (fmt) {\n        var subs = fmt.items;\n        return subs !== undefined && subs.length > 0 ? bind$3(subs, flatten) : [fmt.format];\n      };\n      var settingsFormats = Cell([]);\n      var settingsFlattenedFormats = Cell([]);\n      var eventsFormats = Cell([]);\n      var eventsFlattenedFormats = Cell([]);\n      var replaceSettings = Cell(false);\n      editor.on('PreInit', function (_e) {\n        var formats = getStyleFormats(editor);\n        var enriched = register$8(editor, formats, isSelectedFor, getPreviewFor);\n        settingsFormats.set(enriched);\n        settingsFlattenedFormats.set(bind$3(enriched, flatten));\n      });\n      editor.on('addStyleModifications', function (e) {\n        var modifications = register$8(editor, e.items, isSelectedFor, getPreviewFor);\n        eventsFormats.set(modifications);\n        replaceSettings.set(e.replace);\n        eventsFlattenedFormats.set(bind$3(modifications, flatten));\n      });\n      var getData = function () {\n        var fromSettings = replaceSettings.get() ? [] : settingsFormats.get();\n        var fromEvents = eventsFormats.get();\n        return fromSettings.concat(fromEvents);\n      };\n      var getFlattenedKeys = function () {\n        var fromSettings = replaceSettings.get() ? [] : settingsFlattenedFormats.get();\n        var fromEvents = eventsFlattenedFormats.get();\n        return fromSettings.concat(fromEvents);\n      };\n      return {\n        getData: getData,\n        getFlattenedKeys: getFlattenedKeys\n      };\n    };\n\n    var isElement = function (node) {\n      return isNonNullable(node) && node.nodeType === 1;\n    };\n    var trim = global$5.trim;\n    var hasContentEditableState = function (value) {\n      return function (node) {\n        if (isElement(node)) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    var isContentEditableTrue = hasContentEditableState('true');\n    var isContentEditableFalse = hasContentEditableState('false');\n    var create = function (type, title, url, level, attach) {\n      return {\n        type: type,\n        title: title,\n        url: url,\n        level: level,\n        attach: attach\n      };\n    };\n    var isChildOfContentEditableTrue = function (node) {\n      while (node = node.parentNode) {\n        var value = node.contentEditable;\n        if (value && value !== 'inherit') {\n          return isContentEditableTrue(node);\n        }\n      }\n      return false;\n    };\n    var select = function (selector, root) {\n      return map$2(descendants(SugarElement.fromDom(root), selector), function (element) {\n        return element.dom;\n      });\n    };\n    var getElementText = function (elm) {\n      return elm.innerText || elm.textContent;\n    };\n    var getOrGenerateId = function (elm) {\n      return elm.id ? elm.id : generate$6('h');\n    };\n    var isAnchor = function (elm) {\n      return elm && elm.nodeName === 'A' && (elm.id || elm.name) !== undefined;\n    };\n    var isValidAnchor = function (elm) {\n      return isAnchor(elm) && isEditable(elm);\n    };\n    var isHeader = function (elm) {\n      return elm && /^(H[1-6])$/.test(elm.nodeName);\n    };\n    var isEditable = function (elm) {\n      return isChildOfContentEditableTrue(elm) && !isContentEditableFalse(elm);\n    };\n    var isValidHeader = function (elm) {\n      return isHeader(elm) && isEditable(elm);\n    };\n    var getLevel = function (elm) {\n      return isHeader(elm) ? parseInt(elm.nodeName.substr(1), 10) : 0;\n    };\n    var headerTarget = function (elm) {\n      var headerId = getOrGenerateId(elm);\n      var attach = function () {\n        elm.id = headerId;\n      };\n      return create('header', getElementText(elm), '#' + headerId, getLevel(elm), attach);\n    };\n    var anchorTarget = function (elm) {\n      var anchorId = elm.id || elm.name;\n      var anchorText = getElementText(elm);\n      return create('anchor', anchorText ? anchorText : '#' + anchorId, '#' + anchorId, 0, noop);\n    };\n    var getHeaderTargets = function (elms) {\n      return map$2(filter$2(elms, isValidHeader), headerTarget);\n    };\n    var getAnchorTargets = function (elms) {\n      return map$2(filter$2(elms, isValidAnchor), anchorTarget);\n    };\n    var getTargetElements = function (elm) {\n      var elms = select('h1,h2,h3,h4,h5,h6,a:not([href])', elm);\n      return elms;\n    };\n    var hasTitle = function (target) {\n      return trim(target.title).length > 0;\n    };\n    var find = function (elm) {\n      var elms = getTargetElements(elm);\n      return filter$2(getHeaderTargets(elms).concat(getAnchorTargets(elms)), hasTitle);\n    };\n    var LinkTargets = { find: find };\n\n    var STORAGE_KEY = 'tinymce-url-history';\n    var HISTORY_LENGTH = 5;\n    var isHttpUrl = function (url) {\n      return isString(url) && /^https?/.test(url);\n    };\n    var isArrayOfUrl = function (a) {\n      return isArray(a) && a.length <= HISTORY_LENGTH && forall(a, isHttpUrl);\n    };\n    var isRecordOfUrlArray = function (r) {\n      return isObject(r) && find$4(r, function (value) {\n        return !isArrayOfUrl(value);\n      }).isNone();\n    };\n    var getAllHistory = function () {\n      var unparsedHistory = global$8.getItem(STORAGE_KEY);\n      if (unparsedHistory === null) {\n        return {};\n      }\n      var history;\n      try {\n        history = JSON.parse(unparsedHistory);\n      } catch (e) {\n        if (e instanceof SyntaxError) {\n          console.log('Local storage ' + STORAGE_KEY + ' was not valid JSON', e);\n          return {};\n        }\n        throw e;\n      }\n      if (!isRecordOfUrlArray(history)) {\n        console.log('Local storage ' + STORAGE_KEY + ' was not valid format', history);\n        return {};\n      }\n      return history;\n    };\n    var setAllHistory = function (history) {\n      if (!isRecordOfUrlArray(history)) {\n        throw new Error('Bad format for history:\\n' + JSON.stringify(history));\n      }\n      global$8.setItem(STORAGE_KEY, JSON.stringify(history));\n    };\n    var getHistory = function (fileType) {\n      var history = getAllHistory();\n      return get$e(history, fileType).getOr([]);\n    };\n    var addToHistory = function (url, fileType) {\n      if (!isHttpUrl(url)) {\n        return;\n      }\n      var history = getAllHistory();\n      var items = get$e(history, fileType).getOr([]);\n      var itemsWithoutUrl = filter$2(items, function (item) {\n        return item !== url;\n      });\n      history[fileType] = [url].concat(itemsWithoutUrl).slice(0, HISTORY_LENGTH);\n      setAllHistory(history);\n    };\n\n    var isTruthy = function (value) {\n      return !!value;\n    };\n    var makeMap = function (value) {\n      return map$1(global$5.makeMap(value, /[, ]/), isTruthy);\n    };\n    var getPicker = function (editor) {\n      return Optional.from(getFilePickerCallback(editor)).filter(isFunction);\n    };\n    var getPickerTypes = function (editor) {\n      var optFileTypes = Optional.some(getFilePickerTypes(editor)).filter(isTruthy);\n      var optLegacyTypes = Optional.some(getFileBrowserCallbackTypes(editor)).filter(isTruthy);\n      var optTypes = optFileTypes.or(optLegacyTypes).map(makeMap);\n      return getPicker(editor).fold(never, function (_picker) {\n        return optTypes.fold(always, function (types) {\n          return keys(types).length > 0 ? types : false;\n        });\n      });\n    };\n    var getPickerSetting = function (editor, filetype) {\n      var pickerTypes = getPickerTypes(editor);\n      if (isBoolean(pickerTypes)) {\n        return pickerTypes ? getPicker(editor) : Optional.none();\n      } else {\n        return pickerTypes[filetype] ? getPicker(editor) : Optional.none();\n      }\n    };\n    var getUrlPicker = function (editor, filetype) {\n      return getPickerSetting(editor, filetype).map(function (picker) {\n        return function (entry) {\n          return Future.nu(function (completer) {\n            var handler = function (value, meta) {\n              if (!isString(value)) {\n                throw new Error('Expected value to be string');\n              }\n              if (meta !== undefined && !isObject(meta)) {\n                throw new Error('Expected meta to be a object');\n              }\n              var r = {\n                value: value,\n                meta: meta\n              };\n              completer(r);\n            };\n            var meta = __assign({\n              filetype: filetype,\n              fieldname: entry.fieldname\n            }, Optional.from(entry.meta).getOr({}));\n            picker.call(editor, handler, entry.value, meta);\n          });\n        };\n      });\n    };\n    var getTextSetting = function (value) {\n      return Optional.from(value).filter(isString).getOrUndefined();\n    };\n    var getLinkInformation = function (editor) {\n      if (noTypeaheadUrls(editor)) {\n        return Optional.none();\n      }\n      return Optional.some({\n        targets: LinkTargets.find(editor.getBody()),\n        anchorTop: getTextSetting(getAnchorTop(editor)),\n        anchorBottom: getTextSetting(getAnchorBottom(editor))\n      });\n    };\n    var getValidationHandler = function (editor) {\n      return Optional.from(getFilePickerValidatorHandler(editor));\n    };\n    var UrlInputBackstage = function (editor) {\n      return {\n        getHistory: getHistory,\n        addToHistory: addToHistory,\n        getLinkInformation: function () {\n          return getLinkInformation(editor);\n        },\n        getValidationHandler: function () {\n          return getValidationHandler(editor);\n        },\n        getUrlPicker: function (filetype) {\n          return getUrlPicker(editor, filetype);\n        }\n      };\n    };\n\n    var init$7 = function (sink, editor, lazyAnchorbar) {\n      var contextMenuState = Cell(false);\n      var toolbar = HeaderBackstage(editor);\n      var backstage = {\n        shared: {\n          providers: {\n            icons: function () {\n              return editor.ui.registry.getAll().icons;\n            },\n            menuItems: function () {\n              return editor.ui.registry.getAll().menuItems;\n            },\n            translate: global$e.translate,\n            isDisabled: function () {\n              return editor.mode.isReadOnly() || editor.ui.isDisabled();\n            },\n            getSetting: editor.getParam.bind(editor)\n          },\n          interpreter: function (s) {\n            return interpretWithoutForm(s, backstage);\n          },\n          anchors: getAnchors(editor, lazyAnchorbar, toolbar.isPositionedAtTop),\n          header: toolbar,\n          getSink: function () {\n            return Result.value(sink);\n          }\n        },\n        urlinput: UrlInputBackstage(editor),\n        styleselect: init$8(editor),\n        colorinput: ColorInputBackstage(editor),\n        dialog: DialogBackstage(editor),\n        isContextMenuOpen: function () {\n          return contextMenuState.get();\n        },\n        setContextMenuState: function (state) {\n          return contextMenuState.set(state);\n        }\n      };\n      return backstage;\n    };\n\n    var setup$b = function (editor, mothership, uiMothership) {\n      var broadcastEvent = function (name, evt) {\n        each$1([\n          mothership,\n          uiMothership\n        ], function (ship) {\n          ship.broadcastEvent(name, evt);\n        });\n      };\n      var broadcastOn = function (channel, message) {\n        each$1([\n          mothership,\n          uiMothership\n        ], function (ship) {\n          ship.broadcastOn([channel], message);\n        });\n      };\n      var fireDismissPopups = function (evt) {\n        return broadcastOn(dismissPopups(), { target: evt.target });\n      };\n      var doc = getDocument();\n      var onTouchstart = bind(doc, 'touchstart', fireDismissPopups);\n      var onTouchmove = bind(doc, 'touchmove', function (evt) {\n        return broadcastEvent(documentTouchmove(), evt);\n      });\n      var onTouchend = bind(doc, 'touchend', function (evt) {\n        return broadcastEvent(documentTouchend(), evt);\n      });\n      var onMousedown = bind(doc, 'mousedown', fireDismissPopups);\n      var onMouseup = bind(doc, 'mouseup', function (evt) {\n        if (evt.raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: evt.target });\n        }\n      });\n      var onContentClick = function (raw) {\n        return broadcastOn(dismissPopups(), { target: SugarElement.fromDom(raw.target) });\n      };\n      var onContentMouseup = function (raw) {\n        if (raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: SugarElement.fromDom(raw.target) });\n        }\n      };\n      var onContentMousedown = function () {\n        each$1(editor.editorManager.get(), function (loopEditor) {\n          if (editor !== loopEditor) {\n            loopEditor.fire('DismissPopups', { relatedTarget: editor });\n          }\n        });\n      };\n      var onWindowScroll = function (evt) {\n        return broadcastEvent(windowScroll(), fromRawEvent(evt));\n      };\n      var onWindowResize = function (evt) {\n        broadcastOn(repositionPopups(), {});\n        broadcastEvent(windowResize(), fromRawEvent(evt));\n      };\n      var onEditorResize = function () {\n        return broadcastOn(repositionPopups(), {});\n      };\n      var onEditorProgress = function (evt) {\n        if (evt.state) {\n          broadcastOn(dismissPopups(), { target: SugarElement.fromDom(editor.getContainer()) });\n        }\n      };\n      var onDismissPopups = function (event) {\n        broadcastOn(dismissPopups(), { target: SugarElement.fromDom(event.relatedTarget.getContainer()) });\n      };\n      editor.on('PostRender', function () {\n        editor.on('click', onContentClick);\n        editor.on('tap', onContentClick);\n        editor.on('mouseup', onContentMouseup);\n        editor.on('mousedown', onContentMousedown);\n        editor.on('ScrollWindow', onWindowScroll);\n        editor.on('ResizeWindow', onWindowResize);\n        editor.on('ResizeEditor', onEditorResize);\n        editor.on('AfterProgressState', onEditorProgress);\n        editor.on('DismissPopups', onDismissPopups);\n      });\n      editor.on('remove', function () {\n        editor.off('click', onContentClick);\n        editor.off('tap', onContentClick);\n        editor.off('mouseup', onContentMouseup);\n        editor.off('mousedown', onContentMousedown);\n        editor.off('ScrollWindow', onWindowScroll);\n        editor.off('ResizeWindow', onWindowResize);\n        editor.off('ResizeEditor', onEditorResize);\n        editor.off('AfterProgressState', onEditorProgress);\n        editor.off('DismissPopups', onDismissPopups);\n        onMousedown.unbind();\n        onTouchstart.unbind();\n        onTouchmove.unbind();\n        onTouchend.unbind();\n        onMouseup.unbind();\n      });\n      editor.on('detach', function () {\n        detachSystem(mothership);\n        detachSystem(uiMothership);\n        mothership.destroy();\n        uiMothership.destroy();\n      });\n    };\n\n    var parts$a = AlloyParts;\n    var partType = PartType;\n\n    var schema$f = constant$1([\n      defaulted('shell', false),\n      required$1('makeItem'),\n      defaulted('setupItem', noop),\n      SketchBehaviours.field('listBehaviours', [Replacing])\n    ]);\n    var customListDetail = function () {\n      return { behaviours: derive$1([Replacing.config({})]) };\n    };\n    var itemsPart = optional({\n      name: 'items',\n      overrides: customListDetail\n    });\n    var parts$9 = constant$1([itemsPart]);\n    var name = constant$1('CustomList');\n\n    var factory$d = function (detail, components, _spec, _external) {\n      var setItems = function (list, items) {\n        getListContainer(list).fold(function () {\n          console.error('Custom List was defined to not be a shell, but no item container was specified in components');\n          throw new Error('Custom List was defined to not be a shell, but no item container was specified in components');\n        }, function (container) {\n          var itemComps = Replacing.contents(container);\n          var numListsRequired = items.length;\n          var numListsToAdd = numListsRequired - itemComps.length;\n          var itemsToAdd = numListsToAdd > 0 ? range$2(numListsToAdd, function () {\n            return detail.makeItem();\n          }) : [];\n          var itemsToRemove = itemComps.slice(numListsRequired);\n          each$1(itemsToRemove, function (item) {\n            return Replacing.remove(container, item);\n          });\n          each$1(itemsToAdd, function (item) {\n            return Replacing.append(container, item);\n          });\n          var builtLists = Replacing.contents(container);\n          each$1(builtLists, function (item, i) {\n            detail.setupItem(list, item, items[i], i);\n          });\n        });\n      };\n      var extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components: components\n      };\n      var getListContainer = function (component) {\n        return detail.shell ? Optional.some(component) : getPart(component, detail, 'items');\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.listBehaviours, extra.behaviours),\n        apis: { setItems: setItems }\n      };\n    };\n    var CustomList = composite({\n      name: name(),\n      configFields: schema$f(),\n      partFields: parts$9(),\n      factory: factory$d,\n      apis: {\n        setItems: function (apis, list, items) {\n          apis.setItems(list, items);\n        }\n      }\n    });\n\n    var schema$e = constant$1([\n      required$1('dom'),\n      defaulted('shell', true),\n      field('toolbarBehaviours', [Replacing])\n    ]);\n    var enhanceGroups = function () {\n      return { behaviours: derive$1([Replacing.config({})]) };\n    };\n    var parts$8 = constant$1([optional({\n        name: 'groups',\n        overrides: enhanceGroups\n      })]);\n\n    var factory$c = function (detail, components, _spec, _externals) {\n      var setGroups = function (toolbar, groups) {\n        getGroupContainer(toolbar).fold(function () {\n          console.error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n          throw new Error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n        }, function (container) {\n          Replacing.set(container, groups);\n        });\n      };\n      var getGroupContainer = function (component) {\n        return detail.shell ? Optional.some(component) : getPart(component, detail, 'groups');\n      };\n      var extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components: components\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.toolbarBehaviours, extra.behaviours),\n        apis: { setGroups: setGroups },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    var Toolbar = composite({\n      name: 'Toolbar',\n      configFields: schema$e(),\n      partFields: parts$8(),\n      factory: factory$c,\n      apis: {\n        setGroups: function (apis, toolbar, groups) {\n          apis.setGroups(toolbar, groups);\n        }\n      }\n    });\n\n    var setup$a = noop;\n    var isDocked$2 = never;\n    var getBehaviours$1 = constant$1([]);\n\n    var StaticHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$a,\n        isDocked: isDocked$2,\n        getBehaviours: getBehaviours$1\n    });\n\n    var getOffsetParent = function (element) {\n      var isFixed = is$1(getRaw(element, 'position'), 'fixed');\n      var offsetParent$1 = isFixed ? Optional.none() : offsetParent(element);\n      return offsetParent$1.orThunk(function () {\n        var marker = SugarElement.fromTag('span');\n        return parent(element).bind(function (parent) {\n          append$2(parent, marker);\n          var offsetParent$1 = offsetParent(marker);\n          remove$5(marker);\n          return offsetParent$1;\n        });\n      });\n    };\n    var getOrigin = function (element) {\n      return getOffsetParent(element).map(absolute$3).getOrThunk(function () {\n        return SugarPosition(0, 0);\n      });\n    };\n\n    var morphAdt = Adt.generate([\n      { static: [] },\n      { absolute: ['positionCss'] },\n      { fixed: ['positionCss'] }\n    ]);\n    var appear = function (component, contextualInfo) {\n      var elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$2(elem, contextualInfo.fadeOutClass);\n      add$2(elem, contextualInfo.fadeInClass);\n      contextualInfo.onShow(component);\n    };\n    var disappear = function (component, contextualInfo) {\n      var elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$2(elem, contextualInfo.fadeInClass);\n      add$2(elem, contextualInfo.fadeOutClass);\n      contextualInfo.onHide(component);\n    };\n    var isPartiallyVisible = function (box, viewport) {\n      return box.y < viewport.bottom && box.bottom > viewport.y;\n    };\n    var isTopCompletelyVisible = function (box, viewport) {\n      return box.y >= viewport.y;\n    };\n    var isBottomCompletelyVisible = function (box, viewport) {\n      return box.bottom <= viewport.bottom;\n    };\n    var isVisibleForModes = function (modes, box, viewport) {\n      return forall(modes, function (mode) {\n        switch (mode) {\n        case 'bottom':\n          return isBottomCompletelyVisible(box, viewport);\n        case 'top':\n          return isTopCompletelyVisible(box, viewport);\n        }\n      });\n    };\n    var getPrior = function (elem, state) {\n      return state.getInitialPos().map(function (pos) {\n        return bounds(pos.bounds.x, pos.bounds.y, get$a(elem), get$b(elem));\n      });\n    };\n    var storePrior = function (elem, box, state) {\n      state.setInitialPos({\n        style: getAllRaw(elem),\n        position: get$c(elem, 'position') || 'static',\n        bounds: box\n      });\n    };\n    var revertToOriginal = function (elem, box, state) {\n      return state.getInitialPos().bind(function (position) {\n        state.clearInitialPos();\n        switch (position.position) {\n        case 'static':\n          return Optional.some(morphAdt.static());\n        case 'absolute':\n          var offsetBox_1 = getOffsetParent(elem).map(box$1).getOrThunk(function () {\n            return box$1(body());\n          });\n          return Optional.some(morphAdt.absolute(NuPositionCss('absolute', get$e(position.style, 'left').map(function (_left) {\n            return box.x - offsetBox_1.x;\n          }), get$e(position.style, 'top').map(function (_top) {\n            return box.y - offsetBox_1.y;\n          }), get$e(position.style, 'right').map(function (_right) {\n            return offsetBox_1.right - box.right;\n          }), get$e(position.style, 'bottom').map(function (_bottom) {\n            return offsetBox_1.bottom - box.bottom;\n          }))));\n        default:\n          return Optional.none();\n        }\n      });\n    };\n    var morphToOriginal = function (elem, viewport, state) {\n      return getPrior(elem, state).filter(function (box) {\n        return isVisibleForModes(state.getModes(), box, viewport);\n      }).bind(function (box) {\n        return revertToOriginal(elem, box, state);\n      });\n    };\n    var morphToFixed = function (elem, viewport, state) {\n      var box = box$1(elem);\n      if (!isVisibleForModes(state.getModes(), box, viewport)) {\n        storePrior(elem, box, state);\n        var winBox = win();\n        var left = box.x - winBox.x;\n        var top_1 = viewport.y - winBox.y;\n        var bottom = winBox.bottom - viewport.bottom;\n        var isTop = box.y <= viewport.y;\n        return Optional.some(morphAdt.fixed(NuPositionCss('fixed', Optional.some(left), isTop ? Optional.some(top_1) : Optional.none(), Optional.none(), !isTop ? Optional.some(bottom) : Optional.none())));\n      } else {\n        return Optional.none();\n      }\n    };\n    var getMorph = function (component, viewport, state) {\n      var elem = component.element;\n      var isDocked = is$1(getRaw(elem, 'position'), 'fixed');\n      return isDocked ? morphToOriginal(elem, viewport, state) : morphToFixed(elem, viewport, state);\n    };\n    var getMorphToOriginal = function (component, state) {\n      var elem = component.element;\n      return getPrior(elem, state).bind(function (box) {\n        return revertToOriginal(elem, box, state);\n      });\n    };\n\n    var morphToStatic = function (component, config, state) {\n      state.setDocked(false);\n      each$1([\n        'left',\n        'right',\n        'top',\n        'bottom',\n        'position'\n      ], function (prop) {\n        return remove$6(component.element, prop);\n      });\n      config.onUndocked(component);\n    };\n    var morphToCoord = function (component, config, state, position) {\n      var isDocked = position.position === 'fixed';\n      state.setDocked(isDocked);\n      applyPositionCss(component.element, position);\n      var method = isDocked ? config.onDocked : config.onUndocked;\n      method(component);\n    };\n    var updateVisibility = function (component, config, state, viewport, morphToDocked) {\n      if (morphToDocked === void 0) {\n        morphToDocked = false;\n      }\n      config.contextual.each(function (contextInfo) {\n        contextInfo.lazyContext(component).each(function (box) {\n          var isVisible = isPartiallyVisible(box, viewport);\n          if (isVisible !== state.isVisible()) {\n            state.setVisible(isVisible);\n            if (morphToDocked && !isVisible) {\n              add$1(component.element, [contextInfo.fadeOutClass]);\n              contextInfo.onHide(component);\n            } else {\n              var method = isVisible ? appear : disappear;\n              method(component, contextInfo);\n            }\n          }\n        });\n      });\n    };\n    var refreshInternal = function (component, config, state) {\n      var viewport = config.lazyViewport(component);\n      var isDocked = state.isDocked();\n      if (isDocked) {\n        updateVisibility(component, config, state, viewport);\n      }\n      getMorph(component, viewport, state).each(function (morph) {\n        morph.fold(function () {\n          return morphToStatic(component, config, state);\n        }, function (position) {\n          return morphToCoord(component, config, state, position);\n        }, function (position) {\n          updateVisibility(component, config, state, viewport, true);\n          morphToCoord(component, config, state, position);\n        });\n      });\n    };\n    var resetInternal = function (component, config, state) {\n      var elem = component.element;\n      state.setDocked(false);\n      getMorphToOriginal(component, state).each(function (morph) {\n        morph.fold(function () {\n          return morphToStatic(component, config, state);\n        }, function (position) {\n          return morphToCoord(component, config, state, position);\n        }, noop);\n      });\n      state.setVisible(true);\n      config.contextual.each(function (contextInfo) {\n        remove$1(elem, [\n          contextInfo.fadeInClass,\n          contextInfo.fadeOutClass,\n          contextInfo.transitionClass\n        ]);\n        contextInfo.onShow(component);\n      });\n      refresh$4(component, config, state);\n    };\n    var refresh$4 = function (component, config, state) {\n      if (component.getSystem().isConnected()) {\n        refreshInternal(component, config, state);\n      }\n    };\n    var reset = function (component, config, state) {\n      if (state.isDocked()) {\n        resetInternal(component, config, state);\n      }\n    };\n    var isDocked$1 = function (component, config, state) {\n      return state.isDocked();\n    };\n    var setModes = function (component, config, state, modes) {\n      return state.setModes(modes);\n    };\n    var getModes = function (component, config, state) {\n      return state.getModes();\n    };\n\n    var DockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$4,\n        reset: reset,\n        isDocked: isDocked$1,\n        getModes: getModes,\n        setModes: setModes\n    });\n\n    var events$5 = function (dockInfo, dockState) {\n      return derive$2([\n        runOnSource(transitionend(), function (component, simulatedEvent) {\n          dockInfo.contextual.each(function (contextInfo) {\n            if (has(component.element, contextInfo.transitionClass)) {\n              remove$1(component.element, [\n                contextInfo.transitionClass,\n                contextInfo.fadeInClass\n              ]);\n              var notify = dockState.isVisible() ? contextInfo.onShown : contextInfo.onHidden;\n              notify(component);\n            }\n            simulatedEvent.stop();\n          });\n        }),\n        run$1(windowScroll(), function (component, _) {\n          refresh$4(component, dockInfo, dockState);\n        }),\n        run$1(windowResize(), function (component, _) {\n          reset(component, dockInfo, dockState);\n        })\n      ]);\n    };\n\n    var ActiveDocking = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$5\n    });\n\n    var DockingSchema = [\n      optionObjOf('contextual', [\n        requiredString('fadeInClass'),\n        requiredString('fadeOutClass'),\n        requiredString('transitionClass'),\n        requiredFunction('lazyContext'),\n        onHandler('onShow'),\n        onHandler('onShown'),\n        onHandler('onHide'),\n        onHandler('onHidden')\n      ]),\n      defaultedFunction('lazyViewport', win),\n      defaultedArrayOf('modes', [\n        'top',\n        'bottom'\n      ], string),\n      onHandler('onDocked'),\n      onHandler('onUndocked')\n    ];\n\n    var init$6 = function (spec) {\n      var docked = Cell(false);\n      var visible = Cell(true);\n      var initialBounds = value$1();\n      var modes = Cell(spec.modes);\n      var readState = function () {\n        return 'docked:  ' + docked.get() + ', visible: ' + visible.get() + ', modes: ' + modes.get().join(',');\n      };\n      return nu$8({\n        isDocked: docked.get,\n        setDocked: docked.set,\n        getInitialPos: initialBounds.get,\n        setInitialPos: initialBounds.set,\n        clearInitialPos: initialBounds.clear,\n        isVisible: visible.get,\n        setVisible: visible.set,\n        getModes: modes.get,\n        setModes: modes.set,\n        readState: readState\n      });\n    };\n\n    var DockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$6\n    });\n\n    var Docking = create$7({\n      fields: DockingSchema,\n      name: 'docking',\n      active: ActiveDocking,\n      apis: DockingApis,\n      state: DockingState\n    });\n\n    var toolbarHeightChange = constant$1(generate$6('toolbar-height-change'));\n\n    var visibility = {\n      fadeInClass: 'tox-editor-dock-fadein',\n      fadeOutClass: 'tox-editor-dock-fadeout',\n      transitionClass: 'tox-editor-dock-transition'\n    };\n    var editorStickyOnClass = 'tox-tinymce--toolbar-sticky-on';\n    var editorStickyOffClass = 'tox-tinymce--toolbar-sticky-off';\n    var scrollFromBehindHeader = function (e, containerHeader) {\n      var doc = owner$4(containerHeader);\n      var viewHeight = doc.dom.defaultView.innerHeight;\n      var scrollPos = get$9(doc);\n      var markerElement = SugarElement.fromDom(e.elm);\n      var markerPos = absolute$2(markerElement);\n      var markerHeight = get$b(markerElement);\n      var markerTop = markerPos.y;\n      var markerBottom = markerTop + markerHeight;\n      var editorHeaderPos = absolute$3(containerHeader);\n      var editorHeaderHeight = get$b(containerHeader);\n      var editorHeaderTop = editorHeaderPos.top;\n      var editorHeaderBottom = editorHeaderTop + editorHeaderHeight;\n      var editorHeaderDockedAtTop = Math.abs(editorHeaderTop - scrollPos.top) < 2;\n      var editorHeaderDockedAtBottom = Math.abs(editorHeaderBottom - (scrollPos.top + viewHeight)) < 2;\n      if (editorHeaderDockedAtTop && markerTop < editorHeaderBottom) {\n        to(scrollPos.left, markerTop - editorHeaderHeight, doc);\n      } else if (editorHeaderDockedAtBottom && markerBottom > editorHeaderTop) {\n        var y = markerTop - viewHeight + markerHeight + editorHeaderHeight;\n        to(scrollPos.left, y, doc);\n      }\n    };\n    var isDockedMode = function (header, mode) {\n      return contains$2(Docking.getModes(header), mode);\n    };\n    var updateIframeContentFlow = function (header) {\n      var getOccupiedHeight = function (elm) {\n        return getOuter$2(elm) + (parseInt(get$c(elm, 'margin-top'), 10) || 0) + (parseInt(get$c(elm, 'margin-bottom'), 10) || 0);\n      };\n      var elm = header.element;\n      parent(elm).each(function (parentElem) {\n        var padding = 'padding-' + Docking.getModes(header)[0];\n        if (Docking.isDocked(header)) {\n          var parentWidth = get$a(parentElem);\n          set$7(elm, 'width', parentWidth + 'px');\n          set$7(parentElem, padding, getOccupiedHeight(elm) + 'px');\n        } else {\n          remove$6(elm, 'width');\n          remove$6(parentElem, padding);\n        }\n      });\n    };\n    var updateSinkVisibility = function (sinkElem, visible) {\n      if (visible) {\n        remove$2(sinkElem, visibility.fadeOutClass);\n        add$1(sinkElem, [\n          visibility.transitionClass,\n          visibility.fadeInClass\n        ]);\n      } else {\n        remove$2(sinkElem, visibility.fadeInClass);\n        add$1(sinkElem, [\n          visibility.fadeOutClass,\n          visibility.transitionClass\n        ]);\n      }\n    };\n    var updateEditorClasses = function (editor, docked) {\n      var editorContainer = SugarElement.fromDom(editor.getContainer());\n      if (docked) {\n        add$2(editorContainer, editorStickyOnClass);\n        remove$2(editorContainer, editorStickyOffClass);\n      } else {\n        add$2(editorContainer, editorStickyOffClass);\n        remove$2(editorContainer, editorStickyOnClass);\n      }\n    };\n    var restoreFocus = function (headerElem, focusedElem) {\n      var ownerDoc = owner$4(focusedElem);\n      active(ownerDoc).filter(function (activeElm) {\n        return !eq(focusedElem, activeElm);\n      }).filter(function (activeElm) {\n        return eq(activeElm, SugarElement.fromDom(ownerDoc.dom.body)) || contains(headerElem, activeElm);\n      }).each(function () {\n        return focus$3(focusedElem);\n      });\n    };\n    var findFocusedElem = function (rootElm, lazySink) {\n      return search(rootElm).orThunk(function () {\n        return lazySink().toOptional().bind(function (sink) {\n          return search(sink.element);\n        });\n      });\n    };\n    var setup$9 = function (editor, sharedBackstage, lazyHeader) {\n      if (!editor.inline) {\n        if (!sharedBackstage.header.isPositionedAtTop()) {\n          editor.on('ResizeEditor', function () {\n            lazyHeader().each(Docking.reset);\n          });\n        }\n        editor.on('ResizeWindow ResizeEditor', function () {\n          lazyHeader().each(updateIframeContentFlow);\n        });\n        editor.on('SkinLoaded', function () {\n          lazyHeader().each(function (comp) {\n            Docking.isDocked(comp) ? Docking.reset(comp) : Docking.refresh(comp);\n          });\n        });\n        editor.on('FullscreenStateChanged', function () {\n          lazyHeader().each(Docking.reset);\n        });\n      }\n      editor.on('AfterScrollIntoView', function (e) {\n        lazyHeader().each(function (header) {\n          Docking.refresh(header);\n          var headerElem = header.element;\n          if (isVisible(headerElem)) {\n            scrollFromBehindHeader(e, headerElem);\n          }\n        });\n      });\n      editor.on('PostRender', function () {\n        updateEditorClasses(editor, false);\n      });\n    };\n    var isDocked = function (lazyHeader) {\n      return lazyHeader().map(Docking.isDocked).getOr(false);\n    };\n    var getIframeBehaviours = function () {\n      var _a;\n      return [Receiving.config({ channels: (_a = {}, _a[toolbarHeightChange()] = { onReceive: updateIframeContentFlow }, _a) })];\n    };\n    var getBehaviours = function (editor, sharedBackstage) {\n      var focusedElm = value$1();\n      var lazySink = sharedBackstage.getSink;\n      var runOnSinkElement = function (f) {\n        lazySink().each(function (sink) {\n          return f(sink.element);\n        });\n      };\n      var onDockingSwitch = function (comp) {\n        if (!editor.inline) {\n          updateIframeContentFlow(comp);\n        }\n        updateEditorClasses(editor, Docking.isDocked(comp));\n        comp.getSystem().broadcastOn([repositionPopups()], {});\n        lazySink().each(function (sink) {\n          return sink.getSystem().broadcastOn([repositionPopups()], {});\n        });\n      };\n      var additionalBehaviours = editor.inline ? [] : getIframeBehaviours();\n      return __spreadArray([\n        Focusing.config({}),\n        Docking.config({\n          contextual: __assign({\n            lazyContext: function (comp) {\n              var headerHeight = getOuter$2(comp.element);\n              var container = editor.inline ? editor.getContentAreaContainer() : editor.getContainer();\n              var box = box$1(SugarElement.fromDom(container));\n              var boxHeight = box.height - headerHeight;\n              var topBound = box.y + (isDockedMode(comp, 'top') ? 0 : headerHeight);\n              return Optional.some(bounds(box.x, topBound, box.width, boxHeight));\n            },\n            onShow: function () {\n              runOnSinkElement(function (elem) {\n                return updateSinkVisibility(elem, true);\n              });\n            },\n            onShown: function (comp) {\n              runOnSinkElement(function (elem) {\n                return remove$1(elem, [\n                  visibility.transitionClass,\n                  visibility.fadeInClass\n                ]);\n              });\n              focusedElm.get().each(function (elem) {\n                restoreFocus(comp.element, elem);\n                focusedElm.clear();\n              });\n            },\n            onHide: function (comp) {\n              findFocusedElem(comp.element, lazySink).fold(focusedElm.clear, focusedElm.set);\n              runOnSinkElement(function (elem) {\n                return updateSinkVisibility(elem, false);\n              });\n            },\n            onHidden: function () {\n              runOnSinkElement(function (elem) {\n                return remove$1(elem, [visibility.transitionClass]);\n              });\n            }\n          }, visibility),\n          lazyViewport: function (comp) {\n            var win$1 = win();\n            var offset = getStickyToolbarOffset(editor);\n            var top = win$1.y + (isDockedMode(comp, 'top') ? offset : 0);\n            var height = win$1.height - (isDockedMode(comp, 'bottom') ? offset : 0);\n            return bounds(win$1.x, top, win$1.width, height);\n          },\n          modes: [sharedBackstage.header.getDockingMode()],\n          onDocked: onDockingSwitch,\n          onUndocked: onDockingSwitch\n        })\n      ], additionalBehaviours, true);\n    };\n\n    var StickyHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$9,\n        isDocked: isDocked,\n        getBehaviours: getBehaviours\n    });\n\n    var renderHeader = function (spec) {\n      var editor = spec.editor;\n      var getBehaviours$2 = spec.sticky ? getBehaviours : getBehaviours$1;\n      return {\n        uid: spec.uid,\n        dom: spec.dom,\n        components: spec.components,\n        behaviours: derive$1(getBehaviours$2(editor, spec.sharedBackstage))\n      };\n    };\n\n    var groupToolbarButtonSchema = objOf([\n      requiredString('type'),\n      requiredOf('items', oneOf([\n        arrOfObj([\n          requiredString('name'),\n          requiredArrayOf('items', string)\n        ]),\n        string\n      ]))\n    ].concat(baseToolbarButtonFields));\n    var createGroupToolbarButton = function (spec) {\n      return asRaw('GroupToolbarButton', groupToolbarButtonSchema, spec);\n    };\n\n    var baseMenuButtonFields = [\n      optionString('text'),\n      optionString('tooltip'),\n      optionString('icon'),\n      requiredFunction('fetch'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      })\n    ];\n\n    var MenuButtonSchema = objOf(__spreadArray([requiredString('type')], baseMenuButtonFields, true));\n    var createMenuButton = function (spec) {\n      return asRaw('menubutton', MenuButtonSchema, spec);\n    };\n\n    var splitButtonSchema = objOf([\n      requiredString('type'),\n      optionString('tooltip'),\n      optionString('icon'),\n      optionString('text'),\n      optionFunction('select'),\n      requiredFunction('fetch'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      defaultedStringEnum('presets', 'normal', [\n        'normal',\n        'color',\n        'listpreview'\n      ]),\n      defaulted('columns', 1),\n      requiredFunction('onAction'),\n      requiredFunction('onItemAction')\n    ]);\n    var createSplitButton = function (spec) {\n      return asRaw('SplitButton', splitButtonSchema, spec);\n    };\n\n    var factory$b = function (detail, spec) {\n      var setMenus = function (comp, menus) {\n        var newMenus = map$2(menus, function (m) {\n          var buttonSpec = {\n            type: 'menubutton',\n            text: m.text,\n            fetch: function (callback) {\n              callback(m.getItems());\n            }\n          };\n          var internal = createMenuButton(buttonSpec).mapError(function (errInfo) {\n            return formatError(errInfo);\n          }).getOrDie();\n          return renderMenuButton(internal, 'tox-mbtn', spec.backstage, Optional.some('menuitem'));\n        });\n        Replacing.set(comp, newMenus);\n      };\n      var apis = {\n        focus: Keying.focusIn,\n        setMenus: setMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: [],\n        behaviours: derive$1([\n          Replacing.config({}),\n          config('menubar-events', [\n            runOnAttached(function (component) {\n              detail.onSetup(component);\n            }),\n            run$1(mouseover(), function (comp, se) {\n              descendant(comp.element, '.' + 'tox-mbtn--active').each(function (activeButton) {\n                closest$1(se.event.target, '.' + 'tox-mbtn').each(function (hoveredButton) {\n                  if (!eq(activeButton, hoveredButton)) {\n                    comp.getSystem().getByDom(activeButton).each(function (activeComp) {\n                      comp.getSystem().getByDom(hoveredButton).each(function (hoveredComp) {\n                        Dropdown.expand(hoveredComp);\n                        Dropdown.close(activeComp);\n                        Focusing.focus(hoveredComp);\n                      });\n                    });\n                  }\n                });\n              });\n            }),\n            run$1(focusShifted(), function (comp, se) {\n              se.event.prevFocus.bind(function (prev) {\n                return comp.getSystem().getByDom(prev).toOptional();\n              }).each(function (prev) {\n                se.event.newFocus.bind(function (nu) {\n                  return comp.getSystem().getByDom(nu).toOptional();\n                }).each(function (nu) {\n                  if (Dropdown.isOpen(prev)) {\n                    Dropdown.expand(nu);\n                    Dropdown.close(prev);\n                  }\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'flow',\n            selector: '.' + 'tox-mbtn',\n            onEscape: function (comp) {\n              detail.onEscape(comp);\n              return Optional.some(true);\n            }\n          }),\n          Tabstopping.config({})\n        ]),\n        apis: apis,\n        domModification: { attributes: { role: 'menubar' } }\n      };\n    };\n    var SilverMenubar = single({\n      factory: factory$b,\n      name: 'silver.Menubar',\n      configFields: [\n        required$1('dom'),\n        required$1('uid'),\n        required$1('onEscape'),\n        required$1('backstage'),\n        defaulted('onSetup', noop)\n      ],\n      apis: {\n        focus: function (apis, comp) {\n          apis.focus(comp);\n        },\n        setMenus: function (apis, comp, menus) {\n          apis.setMenus(comp, menus);\n        }\n      }\n    });\n\n    var getAnimationRoot = function (component, slideConfig) {\n      return slideConfig.getAnimationRoot.fold(function () {\n        return component.element;\n      }, function (get) {\n        return get(component);\n      });\n    };\n\n    var getDimensionProperty = function (slideConfig) {\n      return slideConfig.dimension.property;\n    };\n    var getDimension = function (slideConfig, elem) {\n      return slideConfig.dimension.getDimension(elem);\n    };\n    var disableTransitions = function (component, slideConfig) {\n      var root = getAnimationRoot(component, slideConfig);\n      remove$1(root, [\n        slideConfig.shrinkingClass,\n        slideConfig.growingClass\n      ]);\n    };\n    var setShrunk = function (component, slideConfig) {\n      remove$2(component.element, slideConfig.openClass);\n      add$2(component.element, slideConfig.closedClass);\n      set$7(component.element, getDimensionProperty(slideConfig), '0px');\n      reflow(component.element);\n    };\n    var setGrown = function (component, slideConfig) {\n      remove$2(component.element, slideConfig.closedClass);\n      add$2(component.element, slideConfig.openClass);\n      remove$6(component.element, getDimensionProperty(slideConfig));\n    };\n    var doImmediateShrink = function (component, slideConfig, slideState, _calculatedSize) {\n      slideState.setCollapsed();\n      set$7(component.element, getDimensionProperty(slideConfig), getDimension(slideConfig, component.element));\n      reflow(component.element);\n      disableTransitions(component, slideConfig);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n      slideConfig.onShrunk(component);\n    };\n    var doStartShrink = function (component, slideConfig, slideState, calculatedSize) {\n      var size = calculatedSize.getOrThunk(function () {\n        return getDimension(slideConfig, component.element);\n      });\n      slideState.setCollapsed();\n      set$7(component.element, getDimensionProperty(slideConfig), size);\n      reflow(component.element);\n      var root = getAnimationRoot(component, slideConfig);\n      remove$2(root, slideConfig.growingClass);\n      add$2(root, slideConfig.shrinkingClass);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n    };\n    var doStartSmartShrink = function (component, slideConfig, slideState) {\n      var size = getDimension(slideConfig, component.element);\n      var shrinker = size === '0px' ? doImmediateShrink : doStartShrink;\n      shrinker(component, slideConfig, slideState, Optional.some(size));\n    };\n    var doStartGrow = function (component, slideConfig, slideState) {\n      var root = getAnimationRoot(component, slideConfig);\n      var wasShrinking = has(root, slideConfig.shrinkingClass);\n      var beforeSize = getDimension(slideConfig, component.element);\n      setGrown(component, slideConfig);\n      var fullSize = getDimension(slideConfig, component.element);\n      var startPartialGrow = function () {\n        set$7(component.element, getDimensionProperty(slideConfig), beforeSize);\n        reflow(component.element);\n      };\n      var startCompleteGrow = function () {\n        setShrunk(component, slideConfig);\n      };\n      var setStartSize = wasShrinking ? startPartialGrow : startCompleteGrow;\n      setStartSize();\n      remove$2(root, slideConfig.shrinkingClass);\n      add$2(root, slideConfig.growingClass);\n      setGrown(component, slideConfig);\n      set$7(component.element, getDimensionProperty(slideConfig), fullSize);\n      slideState.setExpanded();\n      slideConfig.onStartGrow(component);\n    };\n    var refresh$3 = function (component, slideConfig, slideState) {\n      if (slideState.isExpanded()) {\n        remove$6(component.element, getDimensionProperty(slideConfig));\n        var fullSize = getDimension(slideConfig, component.element);\n        set$7(component.element, getDimensionProperty(slideConfig), fullSize);\n      }\n    };\n    var grow = function (component, slideConfig, slideState) {\n      if (!slideState.isExpanded()) {\n        doStartGrow(component, slideConfig, slideState);\n      }\n    };\n    var shrink = function (component, slideConfig, slideState) {\n      if (slideState.isExpanded()) {\n        doStartSmartShrink(component, slideConfig, slideState);\n      }\n    };\n    var immediateShrink = function (component, slideConfig, slideState) {\n      if (slideState.isExpanded()) {\n        doImmediateShrink(component, slideConfig, slideState);\n      }\n    };\n    var hasGrown = function (component, slideConfig, slideState) {\n      return slideState.isExpanded();\n    };\n    var hasShrunk = function (component, slideConfig, slideState) {\n      return slideState.isCollapsed();\n    };\n    var isGrowing = function (component, slideConfig, _slideState) {\n      var root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.growingClass) === true;\n    };\n    var isShrinking = function (component, slideConfig, _slideState) {\n      var root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.shrinkingClass) === true;\n    };\n    var isTransitioning = function (component, slideConfig, slideState) {\n      return isGrowing(component, slideConfig) || isShrinking(component, slideConfig);\n    };\n    var toggleGrow = function (component, slideConfig, slideState) {\n      var f = slideState.isExpanded() ? doStartSmartShrink : doStartGrow;\n      f(component, slideConfig, slideState);\n    };\n\n    var SlidingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$3,\n        grow: grow,\n        shrink: shrink,\n        immediateShrink: immediateShrink,\n        hasGrown: hasGrown,\n        hasShrunk: hasShrunk,\n        isGrowing: isGrowing,\n        isShrinking: isShrinking,\n        isTransitioning: isTransitioning,\n        toggleGrow: toggleGrow,\n        disableTransitions: disableTransitions\n    });\n\n    var exhibit = function (base, slideConfig, _slideState) {\n      var expanded = slideConfig.expanded;\n      return expanded ? nu$7({\n        classes: [slideConfig.openClass],\n        styles: {}\n      }) : nu$7({\n        classes: [slideConfig.closedClass],\n        styles: wrap$1(slideConfig.dimension.property, '0px')\n      });\n    };\n    var events$4 = function (slideConfig, slideState) {\n      return derive$2([runOnSource(transitionend(), function (component, simulatedEvent) {\n          var raw = simulatedEvent.event.raw;\n          if (raw.propertyName === slideConfig.dimension.property) {\n            disableTransitions(component, slideConfig);\n            if (slideState.isExpanded()) {\n              remove$6(component.element, slideConfig.dimension.property);\n            }\n            var notify = slideState.isExpanded() ? slideConfig.onGrown : slideConfig.onShrunk;\n            notify(component);\n          }\n        })]);\n    };\n\n    var ActiveSliding = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit,\n        events: events$4\n    });\n\n    var SlidingSchema = [\n      required$1('closedClass'),\n      required$1('openClass'),\n      required$1('shrinkingClass'),\n      required$1('growingClass'),\n      option('getAnimationRoot'),\n      onHandler('onShrunk'),\n      onHandler('onStartShrink'),\n      onHandler('onGrown'),\n      onHandler('onStartGrow'),\n      defaulted('expanded', false),\n      requiredOf('dimension', choose$1('property', {\n        width: [\n          output$1('property', 'width'),\n          output$1('getDimension', function (elem) {\n            return get$a(elem) + 'px';\n          })\n        ],\n        height: [\n          output$1('property', 'height'),\n          output$1('getDimension', function (elem) {\n            return get$b(elem) + 'px';\n          })\n        ]\n      }))\n    ];\n\n    var init$5 = function (spec) {\n      var state = Cell(spec.expanded);\n      var readState = function () {\n        return 'expanded: ' + state.get();\n      };\n      return nu$8({\n        isExpanded: function () {\n          return state.get() === true;\n        },\n        isCollapsed: function () {\n          return state.get() === false;\n        },\n        setCollapsed: curry(state.set, false),\n        setExpanded: curry(state.set, true),\n        readState: readState\n      });\n    };\n\n    var SlidingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$5\n    });\n\n    var Sliding = create$7({\n      fields: SlidingSchema,\n      name: 'sliding',\n      active: ActiveSliding,\n      apis: SlidingApis,\n      state: SlidingState\n    });\n\n    var owner = 'container';\n    var schema$d = [field('slotBehaviours', [])];\n    var getPartName = function (name) {\n      return '<alloy.field.' + name + '>';\n    };\n    var sketch = function (sSpec) {\n      var parts = function () {\n        var record = [];\n        var slot = function (name, config) {\n          record.push(name);\n          return generateOne$1(owner, getPartName(name), config);\n        };\n        return {\n          slot: slot,\n          record: constant$1(record)\n        };\n      }();\n      var spec = sSpec(parts);\n      var partNames = parts.record();\n      var fieldParts = map$2(partNames, function (n) {\n        return required({\n          name: n,\n          pname: getPartName(n)\n        });\n      });\n      return composite$1(owner, schema$d, fieldParts, make$1, spec);\n    };\n    var make$1 = function (detail, components) {\n      var getSlotNames = function (_) {\n        return getAllPartNames(detail);\n      };\n      var getSlot = function (container, key) {\n        return getPart(container, detail, key);\n      };\n      var onSlot = function (f, def) {\n        return function (container, key) {\n          return getPart(container, detail, key).map(function (slot) {\n            return f(slot, key);\n          }).getOr(def);\n        };\n      };\n      var onSlots = function (f) {\n        return function (container, keys) {\n          each$1(keys, function (key) {\n            return f(container, key);\n          });\n        };\n      };\n      var doShowing = function (comp, _key) {\n        return get$d(comp.element, 'aria-hidden') !== 'true';\n      };\n      var doShow = function (comp, key) {\n        if (!doShowing(comp)) {\n          var element = comp.element;\n          remove$6(element, 'display');\n          remove$7(element, 'aria-hidden');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: true\n          });\n        }\n      };\n      var doHide = function (comp, key) {\n        if (doShowing(comp)) {\n          var element = comp.element;\n          set$7(element, 'display', 'none');\n          set$8(element, 'aria-hidden', 'true');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: false\n          });\n        }\n      };\n      var isShowing = onSlot(doShowing, false);\n      var hideSlot = onSlot(doHide);\n      var hideSlots = onSlots(hideSlot);\n      var hideAllSlots = function (container) {\n        return hideSlots(container, getSlotNames());\n      };\n      var showSlot = onSlot(doShow);\n      var apis = {\n        getSlotNames: getSlotNames,\n        getSlot: getSlot,\n        isShowing: isShowing,\n        hideSlot: hideSlot,\n        hideAllSlots: hideAllSlots,\n        showSlot: showSlot\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: get$2(detail.slotBehaviours),\n        apis: apis\n      };\n    };\n    var slotApis = map$1({\n      getSlotNames: function (apis, c) {\n        return apis.getSlotNames(c);\n      },\n      getSlot: function (apis, c, key) {\n        return apis.getSlot(c, key);\n      },\n      isShowing: function (apis, c, key) {\n        return apis.isShowing(c, key);\n      },\n      hideSlot: function (apis, c, key) {\n        return apis.hideSlot(c, key);\n      },\n      hideAllSlots: function (apis, c) {\n        return apis.hideAllSlots(c);\n      },\n      showSlot: function (apis, c, key) {\n        return apis.showSlot(c, key);\n      }\n    }, function (value) {\n      return makeApi(value);\n    });\n    var SlotContainer = __assign(__assign({}, slotApis), { sketch: sketch });\n\n    var sidebarSchema = objOf([\n      optionString('icon'),\n      optionString('tooltip'),\n      defaultedFunction('onShow', noop),\n      defaultedFunction('onHide', noop),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      })\n    ]);\n    var createSidebar = function (spec) {\n      return asRaw('sidebar', sidebarSchema, spec);\n    };\n\n    var setup$8 = function (editor) {\n      var sidebars = editor.ui.registry.getAll().sidebars;\n      each$1(keys(sidebars), function (name) {\n        var spec = sidebars[name];\n        var isActive = function () {\n          return is$1(Optional.from(editor.queryCommandValue('ToggleSidebar')), name);\n        };\n        editor.ui.registry.addToggleButton(name, {\n          icon: spec.icon,\n          tooltip: spec.tooltip,\n          onAction: function (buttonApi) {\n            editor.execCommand('ToggleSidebar', false, name);\n            buttonApi.setActive(isActive());\n          },\n          onSetup: function (buttonApi) {\n            var handleToggle = function () {\n              return buttonApi.setActive(isActive());\n            };\n            editor.on('ToggleSidebar', handleToggle);\n            return function () {\n              editor.off('ToggleSidebar', handleToggle);\n            };\n          }\n        });\n      });\n    };\n    var getApi = function (comp) {\n      return {\n        element: function () {\n          return comp.element.dom;\n        }\n      };\n    };\n    var makePanels = function (parts, panelConfigs) {\n      var specs = map$2(keys(panelConfigs), function (name) {\n        var spec = panelConfigs[name];\n        var bridged = getOrDie(createSidebar(spec));\n        return {\n          name: name,\n          getApi: getApi,\n          onSetup: bridged.onSetup,\n          onShow: bridged.onShow,\n          onHide: bridged.onHide\n        };\n      });\n      return map$2(specs, function (spec) {\n        var editorOffCell = Cell(noop);\n        return parts.slot(spec.name, {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__pane']\n          },\n          behaviours: SimpleBehaviours.unnamedEvents([\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell),\n            run$1(slotVisibility(), function (sidepanel, se) {\n              var data = se.event;\n              var optSidePanelSpec = find$5(specs, function (config) {\n                return config.name === data.name;\n              });\n              optSidePanelSpec.each(function (sidePanelSpec) {\n                var handler = data.visible ? sidePanelSpec.onShow : sidePanelSpec.onHide;\n                handler(sidePanelSpec.getApi(sidepanel));\n              });\n            })\n          ])\n        });\n      });\n    };\n    var makeSidebar = function (panelConfigs) {\n      return SlotContainer.sketch(function (parts) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__pane-container']\n          },\n          components: makePanels(parts, panelConfigs),\n          slotBehaviours: SimpleBehaviours.unnamedEvents([runOnAttached(function (slotContainer) {\n              return SlotContainer.hideAllSlots(slotContainer);\n            })])\n        };\n      });\n    };\n    var setSidebar = function (sidebar, panelConfigs) {\n      var optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(function (slider) {\n        return Replacing.set(slider, [makeSidebar(panelConfigs)]);\n      });\n    };\n    var toggleSidebar = function (sidebar, name) {\n      var optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(function (slider) {\n        var optSlotContainer = Composing.getCurrent(slider);\n        optSlotContainer.each(function (slotContainer) {\n          if (Sliding.hasGrown(slider)) {\n            if (SlotContainer.isShowing(slotContainer, name)) {\n              Sliding.shrink(slider);\n            } else {\n              SlotContainer.hideAllSlots(slotContainer);\n              SlotContainer.showSlot(slotContainer, name);\n            }\n          } else {\n            SlotContainer.hideAllSlots(slotContainer);\n            SlotContainer.showSlot(slotContainer, name);\n            Sliding.grow(slider);\n          }\n        });\n      });\n    };\n    var whichSidebar = function (sidebar) {\n      var optSlider = Composing.getCurrent(sidebar);\n      return optSlider.bind(function (slider) {\n        var sidebarOpen = Sliding.isGrowing(slider) || Sliding.hasGrown(slider);\n        if (sidebarOpen) {\n          var optSlotContainer = Composing.getCurrent(slider);\n          return optSlotContainer.bind(function (slotContainer) {\n            return find$5(SlotContainer.getSlotNames(slotContainer), function (name) {\n              return SlotContainer.isShowing(slotContainer, name);\n            });\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var fixSize = generate$6('FixSizeEvent');\n    var autoSize = generate$6('AutoSizeEvent');\n    var renderSidebar = function (spec) {\n      return {\n        uid: spec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-sidebar'],\n          attributes: { role: 'complementary' }\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-sidebar__slider']\n            },\n            components: [],\n            behaviours: derive$1([\n              Tabstopping.config({}),\n              Focusing.config({}),\n              Sliding.config({\n                dimension: { property: 'width' },\n                closedClass: 'tox-sidebar--sliding-closed',\n                openClass: 'tox-sidebar--sliding-open',\n                shrinkingClass: 'tox-sidebar--sliding-shrinking',\n                growingClass: 'tox-sidebar--sliding-growing',\n                onShrunk: function (slider) {\n                  var optSlotContainer = Composing.getCurrent(slider);\n                  optSlotContainer.each(SlotContainer.hideAllSlots);\n                  emit(slider, autoSize);\n                },\n                onGrown: function (slider) {\n                  emit(slider, autoSize);\n                },\n                onStartGrow: function (slider) {\n                  emitWith(slider, fixSize, { width: getRaw(slider.element, 'width').getOr('') });\n                },\n                onStartShrink: function (slider) {\n                  emitWith(slider, fixSize, { width: get$a(slider.element) + 'px' });\n                }\n              }),\n              Replacing.config({}),\n              Composing.config({\n                find: function (comp) {\n                  var children = Replacing.contents(comp);\n                  return head(children);\n                }\n              })\n            ])\n          }],\n        behaviours: derive$1([\n          ComposingConfigs.childAt(0),\n          config('sidebar-sliding-events', [\n            run$1(fixSize, function (comp, se) {\n              set$7(comp.element, 'width', se.event.width);\n            }),\n            run$1(autoSize, function (comp, _se) {\n              remove$6(comp.element, 'width');\n            })\n          ])\n        ])\n      };\n    };\n\n    var block = function (component, config, state, getBusySpec) {\n      set$8(component.element, 'aria-busy', true);\n      var root = config.getRoot(component).getOr(component);\n      var blockerBehaviours = derive$1([\n        Keying.config({\n          mode: 'special',\n          onTab: function () {\n            return Optional.some(true);\n          },\n          onShiftTab: function () {\n            return Optional.some(true);\n          }\n        }),\n        Focusing.config({})\n      ]);\n      var blockSpec = getBusySpec(root, blockerBehaviours);\n      var blocker = root.getSystem().build(blockSpec);\n      Replacing.append(root, premade(blocker));\n      if (blocker.hasConfigured(Keying) && config.focus) {\n        Keying.focusIn(blocker);\n      }\n      if (!state.isBlocked()) {\n        config.onBlock(component);\n      }\n      state.blockWith(function () {\n        return Replacing.remove(root, blocker);\n      });\n    };\n    var unblock = function (component, config, state) {\n      remove$7(component.element, 'aria-busy');\n      if (state.isBlocked()) {\n        config.onUnblock(component);\n      }\n      state.clear();\n    };\n\n    var BlockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        block: block,\n        unblock: unblock\n    });\n\n    var BlockingSchema = [\n      defaultedFunction('getRoot', Optional.none),\n      defaultedBoolean('focus', true),\n      onHandler('onBlock'),\n      onHandler('onUnblock')\n    ];\n\n    var init$4 = function () {\n      var blocker = destroyable();\n      var blockWith = function (destroy) {\n        blocker.set({ destroy: destroy });\n      };\n      return nu$8({\n        readState: blocker.isSet,\n        blockWith: blockWith,\n        clear: blocker.clear,\n        isBlocked: blocker.isSet\n      });\n    };\n\n    var BlockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$4\n    });\n\n    var Blocking = create$7({\n      fields: BlockingSchema,\n      name: 'blocking',\n      apis: BlockingApis,\n      state: BlockingState\n    });\n\n    var getAttrs = function (elem) {\n      var attributes = elem.dom.attributes !== undefined ? elem.dom.attributes : [];\n      return foldl(attributes, function (b, attr) {\n        var _a;\n        if (attr.name === 'class') {\n          return b;\n        } else {\n          return __assign(__assign({}, b), (_a = {}, _a[attr.name] = attr.value, _a));\n        }\n      }, {});\n    };\n    var getClasses = function (elem) {\n      return Array.prototype.slice.call(elem.dom.classList, 0);\n    };\n    var fromHtml = function (html) {\n      var elem = SugarElement.fromHtml(html);\n      var children$1 = children(elem);\n      var attrs = getAttrs(elem);\n      var classes = getClasses(elem);\n      var contents = children$1.length === 0 ? {} : { innerHtml: get$7(elem) };\n      return __assign({\n        tag: name$2(elem),\n        classes: classes,\n        attributes: attrs\n      }, contents);\n    };\n\n    var getBusySpec$1 = function (providerBackstage) {\n      return function (_root, _behaviours) {\n        return {\n          dom: {\n            tag: 'div',\n            attributes: {\n              'aria-label': providerBackstage.translate('Loading...'),\n              'tabindex': '0'\n            },\n            classes: ['tox-throbber__busy-spinner']\n          },\n          components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n        };\n      };\n    };\n    var focusBusyComponent = function (throbber) {\n      return Composing.getCurrent(throbber).each(function (comp) {\n        return focus$3(comp.element);\n      });\n    };\n    var toggleEditorTabIndex = function (editor, state) {\n      var tabIndexAttr = 'tabindex';\n      var dataTabIndexAttr = 'data-mce-' + tabIndexAttr;\n      Optional.from(editor.iframeElement).map(SugarElement.fromDom).each(function (iframe) {\n        if (state) {\n          getOpt(iframe, tabIndexAttr).each(function (tabIndex) {\n            return set$8(iframe, dataTabIndexAttr, tabIndex);\n          });\n          set$8(iframe, tabIndexAttr, -1);\n        } else {\n          remove$7(iframe, tabIndexAttr);\n          getOpt(iframe, dataTabIndexAttr).each(function (tabIndex) {\n            set$8(iframe, tabIndexAttr, tabIndex);\n            remove$7(iframe, dataTabIndexAttr);\n          });\n        }\n      });\n    };\n    var toggleThrobber = function (editor, comp, state, providerBackstage) {\n      var element = comp.element;\n      toggleEditorTabIndex(editor, state);\n      if (state) {\n        Blocking.block(comp, getBusySpec$1(providerBackstage));\n        remove$6(element, 'display');\n        remove$7(element, 'aria-hidden');\n        if (editor.hasFocus()) {\n          focusBusyComponent(comp);\n        }\n      } else {\n        var throbberFocus = Composing.getCurrent(comp).exists(function (busyComp) {\n          return hasFocus(busyComp.element);\n        });\n        Blocking.unblock(comp);\n        set$7(element, 'display', 'none');\n        set$8(element, 'aria-hidden', 'true');\n        if (throbberFocus) {\n          editor.focus();\n        }\n      }\n    };\n    var renderThrobber = function (spec) {\n      return {\n        uid: spec.uid,\n        dom: {\n          tag: 'div',\n          attributes: { 'aria-hidden': 'true' },\n          classes: ['tox-throbber'],\n          styles: { display: 'none' }\n        },\n        behaviours: derive$1([\n          Replacing.config({}),\n          Blocking.config({ focus: false }),\n          Composing.config({\n            find: function (comp) {\n              return head(comp.components());\n            }\n          })\n        ]),\n        components: []\n      };\n    };\n    var isFocusEvent = function (event) {\n      return event.type === 'focusin';\n    };\n    var isPasteBinTarget = function (event) {\n      if (isFocusEvent(event)) {\n        var node = event.composed ? head(event.composedPath()) : Optional.from(event.target);\n        return node.map(SugarElement.fromDom).filter(isElement$2).exists(function (targetElm) {\n          return has(targetElm, 'mce-pastebin');\n        });\n      } else {\n        return false;\n      }\n    };\n    var setup$7 = function (editor, lazyThrobber, sharedBackstage) {\n      var throbberState = Cell(false);\n      var timer = value$1();\n      var stealFocus = function (e) {\n        if (throbberState.get() && !isPasteBinTarget(e)) {\n          e.preventDefault();\n          focusBusyComponent(lazyThrobber());\n          editor.editorManager.setActive(editor);\n        }\n      };\n      if (!editor.inline) {\n        editor.on('PreInit', function () {\n          editor.dom.bind(editor.getWin(), 'focusin', stealFocus);\n          editor.on('BeforeExecCommand', function (e) {\n            if (e.command.toLowerCase() === 'mcefocus' && e.value !== true) {\n              stealFocus(e);\n            }\n          });\n        });\n      }\n      var toggle = function (state) {\n        if (state !== throbberState.get()) {\n          throbberState.set(state);\n          toggleThrobber(editor, lazyThrobber(), state, sharedBackstage.providers);\n          editor.fire('AfterProgressState', { state: state });\n        }\n      };\n      editor.on('ProgressState', function (e) {\n        timer.on(global$f.clearTimeout);\n        if (isNumber(e.time)) {\n          var timerId = global$f.setEditorTimeout(editor, function () {\n            return toggle(e.state);\n          }, e.time);\n          timer.set(timerId);\n        } else {\n          toggle(e.state);\n          timer.clear();\n        }\n      });\n    };\n\n    var generate$1 = function (xs, f) {\n      var init = {\n        len: 0,\n        list: []\n      };\n      var r = foldl(xs, function (b, a) {\n        var value = f(a, b.len);\n        return value.fold(constant$1(b), function (v) {\n          return {\n            len: v.finish,\n            list: b.list.concat([v])\n          };\n        });\n      }, init);\n      return r.list;\n    };\n\n    var output = function (within, extra, withinWidth) {\n      return {\n        within: within,\n        extra: extra,\n        withinWidth: withinWidth\n      };\n    };\n    var apportion = function (units, total, len) {\n      var parray = generate$1(units, function (unit, current) {\n        var width = len(unit);\n        return Optional.some({\n          element: unit,\n          start: current,\n          finish: current + width,\n          width: width\n        });\n      });\n      var within = filter$2(parray, function (unit) {\n        return unit.finish <= total;\n      });\n      var withinWidth = foldr(within, function (acc, el) {\n        return acc + el.width;\n      }, 0);\n      var extra = parray.slice(within.length);\n      return {\n        within: within,\n        extra: extra,\n        withinWidth: withinWidth\n      };\n    };\n    var toUnit = function (parray) {\n      return map$2(parray, function (unit) {\n        return unit.element;\n      });\n    };\n    var fitLast = function (within, extra, withinWidth) {\n      var fits = toUnit(within.concat(extra));\n      return output(fits, [], withinWidth);\n    };\n    var overflow = function (within, extra, overflower, withinWidth) {\n      var fits = toUnit(within).concat([overflower]);\n      return output(fits, toUnit(extra), withinWidth);\n    };\n    var fitAll = function (within, extra, withinWidth) {\n      return output(toUnit(within), [], withinWidth);\n    };\n    var tryFit = function (total, units, len) {\n      var divide = apportion(units, total, len);\n      return divide.extra.length === 0 ? Optional.some(divide) : Optional.none();\n    };\n    var partition = function (total, units, len, overflower) {\n      var divide = tryFit(total, units, len).getOrThunk(function () {\n        return apportion(units, total - len(overflower), len);\n      });\n      var within = divide.within;\n      var extra = divide.extra;\n      var withinWidth = divide.withinWidth;\n      if (extra.length === 1 && extra[0].width <= len(overflower)) {\n        return fitLast(within, extra, withinWidth);\n      } else if (extra.length >= 1) {\n        return overflow(within, extra, overflower, withinWidth);\n      } else {\n        return fitAll(within, extra, withinWidth);\n      }\n    };\n\n    var setGroups$1 = function (toolbar, storedGroups) {\n      var bGroups = map$2(storedGroups, function (g) {\n        return premade(g);\n      });\n      Toolbar.setGroups(toolbar, bGroups);\n    };\n    var findFocusedComp = function (comps) {\n      return findMap(comps, function (comp) {\n        return search(comp.element).bind(function (focusedElm) {\n          return comp.getSystem().getByDom(focusedElm).toOptional();\n        });\n      });\n    };\n    var refresh$2 = function (toolbar, detail, setOverflow) {\n      var builtGroups = detail.builtGroups.get();\n      if (builtGroups.length === 0) {\n        return;\n      }\n      var primary = getPartOrDie(toolbar, detail, 'primary');\n      var overflowGroup = Coupling.getCoupled(toolbar, 'overflowGroup');\n      set$7(primary.element, 'visibility', 'hidden');\n      var groups = builtGroups.concat([overflowGroup]);\n      var focusedComp = findFocusedComp(groups);\n      setOverflow([]);\n      setGroups$1(primary, groups);\n      var availableWidth = get$a(primary.element);\n      var overflows = partition(availableWidth, detail.builtGroups.get(), function (comp) {\n        return get$a(comp.element);\n      }, overflowGroup);\n      if (overflows.extra.length === 0) {\n        Replacing.remove(primary, overflowGroup);\n        setOverflow([]);\n      } else {\n        setGroups$1(primary, overflows.within);\n        setOverflow(overflows.extra);\n      }\n      remove$6(primary.element, 'visibility');\n      reflow(primary.element);\n      focusedComp.each(Focusing.focus);\n    };\n\n    var schema$c = constant$1([\n      field('splitToolbarBehaviours', [Coupling]),\n      customField('builtGroups', function () {\n        return Cell([]);\n      })\n    ]);\n\n    var schema$b = constant$1([\n      markers$1(['overflowToggledClass']),\n      optionFunction('getOverflowBounds'),\n      required$1('lazySink'),\n      customField('overflowGroups', function () {\n        return Cell([]);\n      })\n    ].concat(schema$c()));\n    var parts$7 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      external$1({\n        schema: schema$e(),\n        name: 'overflow'\n      }),\n      external$1({ name: 'overflow-button' }),\n      external$1({ name: 'overflow-group' })\n    ]);\n\n    var expandable = constant$1(function (element, available) {\n      setMax(element, Math.floor(available));\n    });\n\n    var schema$a = constant$1([\n      markers$1(['toggledClass']),\n      required$1('lazySink'),\n      requiredFunction('fetch'),\n      optionFunction('getBounds'),\n      optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n      schema$y()\n    ]);\n    var parts$6 = constant$1([\n      external$1({\n        name: 'button',\n        overrides: function (detail) {\n          return {\n            dom: { attributes: { 'aria-haspopup': 'true' } },\n            buttonBehaviours: derive$1([Toggling.config({\n                toggleClass: detail.markers.toggledClass,\n                aria: { mode: 'expanded' },\n                toggleOnExecute: false\n              })])\n          };\n        }\n      }),\n      external$1({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'toolbar',\n        overrides: function (detail) {\n          return {\n            toolbarBehaviours: derive$1([Keying.config({\n                mode: 'cyclic',\n                onEscape: function (comp) {\n                  getPart(comp, detail, 'button').each(Focusing.focus);\n                  return Optional.none();\n                }\n              })])\n          };\n        }\n      })\n    ]);\n\n    var toggle = function (button, externals) {\n      var toolbarSandbox = Coupling.getCoupled(button, 'toolbarSandbox');\n      if (Sandboxing.isOpen(toolbarSandbox)) {\n        Sandboxing.close(toolbarSandbox);\n      } else {\n        Sandboxing.open(toolbarSandbox, externals.toolbar());\n      }\n    };\n    var position = function (button, toolbar, detail, layouts) {\n      var bounds = detail.getBounds.map(function (bounder) {\n        return bounder();\n      });\n      var sink = detail.lazySink(button).getOrDie();\n      Positioning.positionWithinBounds(sink, toolbar, {\n        anchor: {\n          type: 'hotspot',\n          hotspot: button,\n          layouts: layouts,\n          overrides: { maxWidthFunction: expandable() }\n        }\n      }, bounds);\n    };\n    var setGroups = function (button, toolbar, detail, layouts, groups) {\n      Toolbar.setGroups(toolbar, groups);\n      position(button, toolbar, detail, layouts);\n      Toggling.on(button);\n    };\n    var makeSandbox = function (button, spec, detail) {\n      var ariaOwner = manager();\n      var onOpen = function (sandbox, toolbar) {\n        detail.fetch().get(function (groups) {\n          setGroups(button, toolbar, detail, spec.layouts, groups);\n          ariaOwner.link(button.element);\n          Keying.focusIn(toolbar);\n        });\n      };\n      var onClose = function () {\n        Toggling.off(button);\n        Focusing.focus(button);\n        ariaOwner.unlink(button.element);\n      };\n      return {\n        dom: {\n          tag: 'div',\n          attributes: { id: ariaOwner.id }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'special',\n            onEscape: function (comp) {\n              Sandboxing.close(comp);\n              return Optional.some(true);\n            }\n          }),\n          Sandboxing.config({\n            onOpen: onOpen,\n            onClose: onClose,\n            isPartOf: function (container, data, queryElem) {\n              return isPartOf$1(data, queryElem) || isPartOf$1(button, queryElem);\n            },\n            getAttachPoint: function () {\n              return detail.lazySink(button).getOrDie();\n            }\n          }),\n          Receiving.config({\n            channels: __assign(__assign({}, receivingChannel$1(__assign({ isExtraPart: never }, detail.fireDismissalEventInstead.map(function (fe) {\n              return { fireEventInstead: { event: fe.event } };\n            }).getOr({})))), receivingChannel({\n              doReposition: function () {\n                Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(function (toolbar) {\n                  position(button, toolbar, detail, spec.layouts);\n                });\n              }\n            }))\n          })\n        ])\n      };\n    };\n    var factory$a = function (detail, components, spec, externals) {\n      return __assign(__assign({}, Button.sketch(__assign(__assign({}, externals.button()), {\n        action: function (button) {\n          toggle(button, externals);\n        },\n        buttonBehaviours: SketchBehaviours.augment({ dump: externals.button().buttonBehaviours }, [Coupling.config({\n            others: {\n              toolbarSandbox: function (button) {\n                return makeSandbox(button, spec, detail);\n              }\n            }\n          })])\n      }))), {\n        apis: {\n          setGroups: function (button, groups) {\n            Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(function (toolbar) {\n              setGroups(button, toolbar, detail, spec.layouts, groups);\n            });\n          },\n          reposition: function (button) {\n            Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(function (toolbar) {\n              position(button, toolbar, detail, spec.layouts);\n            });\n          },\n          toggle: function (button) {\n            toggle(button, externals);\n          },\n          getToolbar: function (button) {\n            return Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox'));\n          },\n          isOpen: function (button) {\n            return Sandboxing.isOpen(Coupling.getCoupled(button, 'toolbarSandbox'));\n          }\n        }\n      });\n    };\n    var FloatingToolbarButton = composite({\n      name: 'FloatingToolbarButton',\n      factory: factory$a,\n      configFields: schema$a(),\n      partFields: parts$6(),\n      apis: {\n        setGroups: function (apis, button, groups) {\n          apis.setGroups(button, groups);\n        },\n        reposition: function (apis, button) {\n          apis.reposition(button);\n        },\n        toggle: function (apis, button) {\n          apis.toggle(button);\n        },\n        getToolbar: function (apis, button) {\n          return apis.getToolbar(button);\n        },\n        isOpen: function (apis, button) {\n          return apis.isOpen(button);\n        }\n      }\n    });\n\n    var schema$9 = constant$1([\n      required$1('items'),\n      markers$1(['itemSelector']),\n      field('tgroupBehaviours', [Keying])\n    ]);\n    var parts$5 = constant$1([group({\n        name: 'items',\n        unit: 'item'\n      })]);\n\n    var factory$9 = function (detail, components, _spec, _externals) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.tgroupBehaviours, [Keying.config({\n            mode: 'flow',\n            selector: detail.markers.itemSelector\n          })]),\n        domModification: { attributes: { role: 'toolbar' } }\n      };\n    };\n    var ToolbarGroup = composite({\n      name: 'ToolbarGroup',\n      configFields: schema$9(),\n      partFields: parts$5(),\n      factory: factory$9\n    });\n\n    var buildGroups = function (comps) {\n      return map$2(comps, function (g) {\n        return premade(g);\n      });\n    };\n    var refresh$1 = function (toolbar, memFloatingToolbarButton, detail) {\n      refresh$2(toolbar, detail, function (overflowGroups) {\n        detail.overflowGroups.set(overflowGroups);\n        memFloatingToolbarButton.getOpt(toolbar).each(function (floatingToolbarButton) {\n          FloatingToolbarButton.setGroups(floatingToolbarButton, buildGroups(overflowGroups));\n        });\n      });\n    };\n    var factory$8 = function (detail, components, spec, externals) {\n      var memFloatingToolbarButton = record(FloatingToolbarButton.sketch({\n        fetch: function () {\n          return Future.nu(function (resolve) {\n            resolve(buildGroups(detail.overflowGroups.get()));\n          });\n        },\n        layouts: {\n          onLtr: function () {\n            return [\n              southwest$2,\n              southeast$2\n            ];\n          },\n          onRtl: function () {\n            return [\n              southeast$2,\n              southwest$2\n            ];\n          },\n          onBottomLtr: function () {\n            return [\n              northwest$2,\n              northeast$2\n            ];\n          },\n          onBottomRtl: function () {\n            return [\n              northeast$2,\n              northwest$2\n            ];\n          }\n        },\n        getBounds: spec.getOverflowBounds,\n        lazySink: detail.lazySink,\n        fireDismissalEventInstead: {},\n        markers: { toggledClass: detail.markers.overflowToggledClass },\n        parts: {\n          button: externals['overflow-button'](),\n          toolbar: externals.overflow()\n        }\n      }));\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.splitToolbarBehaviours, [Coupling.config({\n            others: {\n              overflowGroup: function () {\n                return ToolbarGroup.sketch(__assign(__assign({}, externals['overflow-group']()), { items: [memFloatingToolbarButton.asSpec()] }));\n              }\n            }\n          })]),\n        apis: {\n          setGroups: function (toolbar, groups) {\n            detail.builtGroups.set(map$2(groups, toolbar.getSystem().build));\n            refresh$1(toolbar, memFloatingToolbarButton, detail);\n          },\n          refresh: function (toolbar) {\n            return refresh$1(toolbar, memFloatingToolbarButton, detail);\n          },\n          toggle: function (toolbar) {\n            memFloatingToolbarButton.getOpt(toolbar).each(function (floatingToolbarButton) {\n              FloatingToolbarButton.toggle(floatingToolbarButton);\n            });\n          },\n          isOpen: function (toolbar) {\n            return memFloatingToolbarButton.getOpt(toolbar).map(FloatingToolbarButton.isOpen).getOr(false);\n          },\n          reposition: function (toolbar) {\n            memFloatingToolbarButton.getOpt(toolbar).each(function (floatingToolbarButton) {\n              FloatingToolbarButton.reposition(floatingToolbarButton);\n            });\n          },\n          getOverflow: function (toolbar) {\n            return memFloatingToolbarButton.getOpt(toolbar).bind(FloatingToolbarButton.getToolbar);\n          }\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    var SplitFloatingToolbar = composite({\n      name: 'SplitFloatingToolbar',\n      configFields: schema$b(),\n      partFields: parts$7(),\n      factory: factory$8,\n      apis: {\n        setGroups: function (apis, toolbar, groups) {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: function (apis, toolbar) {\n          apis.refresh(toolbar);\n        },\n        reposition: function (apis, toolbar) {\n          apis.reposition(toolbar);\n        },\n        toggle: function (apis, toolbar) {\n          apis.toggle(toolbar);\n        },\n        isOpen: function (apis, toolbar) {\n          return apis.isOpen(toolbar);\n        },\n        getOverflow: function (apis, toolbar) {\n          return apis.getOverflow(toolbar);\n        }\n      }\n    });\n\n    var schema$8 = constant$1([\n      markers$1([\n        'closedClass',\n        'openClass',\n        'shrinkingClass',\n        'growingClass',\n        'overflowToggledClass'\n      ]),\n      onHandler('onOpened'),\n      onHandler('onClosed')\n    ].concat(schema$c()));\n    var parts$4 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'overflow',\n        overrides: function (detail) {\n          return {\n            toolbarBehaviours: derive$1([\n              Sliding.config({\n                dimension: { property: 'height' },\n                closedClass: detail.markers.closedClass,\n                openClass: detail.markers.openClass,\n                shrinkingClass: detail.markers.shrinkingClass,\n                growingClass: detail.markers.growingClass,\n                onShrunk: function (comp) {\n                  getPart(comp, detail, 'overflow-button').each(function (button) {\n                    Toggling.off(button);\n                    Focusing.focus(button);\n                  });\n                  detail.onClosed(comp);\n                },\n                onGrown: function (comp) {\n                  Keying.focusIn(comp);\n                  detail.onOpened(comp);\n                },\n                onStartGrow: function (comp) {\n                  getPart(comp, detail, 'overflow-button').each(Toggling.on);\n                }\n              }),\n              Keying.config({\n                mode: 'acyclic',\n                onEscape: function (comp) {\n                  getPart(comp, detail, 'overflow-button').each(Focusing.focus);\n                  return Optional.some(true);\n                }\n              })\n            ])\n          };\n        }\n      }),\n      external$1({\n        name: 'overflow-button',\n        overrides: function (detail) {\n          return {\n            buttonBehaviours: derive$1([Toggling.config({\n                toggleClass: detail.markers.overflowToggledClass,\n                aria: { mode: 'pressed' },\n                toggleOnExecute: false\n              })])\n          };\n        }\n      }),\n      external$1({ name: 'overflow-group' })\n    ]);\n\n    var isOpen = function (toolbar, detail) {\n      return getPart(toolbar, detail, 'overflow').map(Sliding.hasGrown).getOr(false);\n    };\n    var toggleToolbar = function (toolbar, detail) {\n      getPart(toolbar, detail, 'overflow-button').bind(function () {\n        return getPart(toolbar, detail, 'overflow');\n      }).each(function (overf) {\n        refresh(toolbar, detail);\n        Sliding.toggleGrow(overf);\n      });\n    };\n    var refresh = function (toolbar, detail) {\n      getPart(toolbar, detail, 'overflow').each(function (overflow) {\n        refresh$2(toolbar, detail, function (groups) {\n          var builtGroups = map$2(groups, function (g) {\n            return premade(g);\n          });\n          Toolbar.setGroups(overflow, builtGroups);\n        });\n        getPart(toolbar, detail, 'overflow-button').each(function (button) {\n          if (Sliding.hasGrown(overflow)) {\n            Toggling.on(button);\n          }\n        });\n        Sliding.refresh(overflow);\n      });\n    };\n    var factory$7 = function (detail, components, spec, externals) {\n      var toolbarToggleEvent = 'alloy.toolbar.toggle';\n      var doSetGroups = function (toolbar, groups) {\n        var built = map$2(groups, toolbar.getSystem().build);\n        detail.builtGroups.set(built);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.splitToolbarBehaviours, [\n          Coupling.config({\n            others: {\n              overflowGroup: function (toolbar) {\n                return ToolbarGroup.sketch(__assign(__assign({}, externals['overflow-group']()), {\n                  items: [Button.sketch(__assign(__assign({}, externals['overflow-button']()), {\n                      action: function (_button) {\n                        emit(toolbar, toolbarToggleEvent);\n                      }\n                    }))]\n                }));\n              }\n            }\n          }),\n          config('toolbar-toggle-events', [run$1(toolbarToggleEvent, function (toolbar) {\n              toggleToolbar(toolbar, detail);\n            })])\n        ]),\n        apis: {\n          setGroups: function (toolbar, groups) {\n            doSetGroups(toolbar, groups);\n            refresh(toolbar, detail);\n          },\n          refresh: function (toolbar) {\n            return refresh(toolbar, detail);\n          },\n          toggle: function (toolbar) {\n            return toggleToolbar(toolbar, detail);\n          },\n          isOpen: function (toolbar) {\n            return isOpen(toolbar, detail);\n          }\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    var SplitSlidingToolbar = composite({\n      name: 'SplitSlidingToolbar',\n      configFields: schema$8(),\n      partFields: parts$4(),\n      factory: factory$7,\n      apis: {\n        setGroups: function (apis, toolbar, groups) {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: function (apis, toolbar) {\n          apis.refresh(toolbar);\n        },\n        toggle: function (apis, toolbar) {\n          apis.toggle(toolbar);\n        },\n        isOpen: function (apis, toolbar) {\n          return apis.isOpen(toolbar);\n        }\n      }\n    });\n\n    var renderToolbarGroupCommon = function (toolbarGroup) {\n      var attributes = toolbarGroup.title.fold(function () {\n        return {};\n      }, function (title) {\n        return { attributes: { title: title } };\n      });\n      return {\n        dom: __assign({\n          tag: 'div',\n          classes: ['tox-toolbar__group']\n        }, attributes),\n        components: [ToolbarGroup.parts.items({})],\n        items: toolbarGroup.items,\n        markers: { itemSelector: '*:not(.tox-split-button) > .tox-tbtn:not([disabled]), ' + '.tox-split-button:not([disabled]), ' + '.tox-toolbar-nav-js:not([disabled])' },\n        tgroupBehaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n    var renderToolbarGroup = function (toolbarGroup) {\n      return ToolbarGroup.sketch(renderToolbarGroupCommon(toolbarGroup));\n    };\n    var getToolbarbehaviours = function (toolbarSpec, modeName) {\n      var onAttached = runOnAttached(function (component) {\n        var groups = map$2(toolbarSpec.initGroups, renderToolbarGroup);\n        Toolbar.setGroups(component, groups);\n      });\n      return derive$1([\n        DisablingConfigs.toolbarButton(toolbarSpec.providers.isDisabled),\n        receivingConfig(),\n        Keying.config({\n          mode: modeName,\n          onEscape: toolbarSpec.onEscape,\n          selector: '.tox-toolbar__group'\n        }),\n        config('toolbar-events', [onAttached])\n      ]);\n    };\n    var renderMoreToolbarCommon = function (toolbarSpec) {\n      var modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return {\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar-overlord']\n        },\n        parts: {\n          'overflow-group': renderToolbarGroupCommon({\n            title: Optional.none(),\n            items: []\n          }),\n          'overflow-button': renderIconButtonSpec({\n            name: 'more',\n            icon: Optional.some('more-drawer'),\n            disabled: false,\n            tooltip: Optional.some('More...'),\n            primary: false,\n            borderless: false\n          }, Optional.none(), toolbarSpec.providers)\n        },\n        splitToolbarBehaviours: getToolbarbehaviours(toolbarSpec, modeName)\n      };\n    };\n    var renderFloatingMoreToolbar = function (toolbarSpec) {\n      var baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      var overflowXOffset = 4;\n      var primary = SplitFloatingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      return SplitFloatingToolbar.sketch(__assign(__assign({}, baseSpec), {\n        lazySink: toolbarSpec.getSink,\n        getOverflowBounds: function () {\n          var headerElem = toolbarSpec.moreDrawerData.lazyHeader().element;\n          var headerBounds = absolute$2(headerElem);\n          var docElem = documentElement(headerElem);\n          var docBounds = absolute$2(docElem);\n          var height = Math.max(docElem.dom.scrollHeight, docBounds.height);\n          return bounds(headerBounds.x + overflowXOffset, docBounds.y, headerBounds.width - overflowXOffset * 2, height);\n        },\n        parts: __assign(__assign({}, baseSpec.parts), {\n          overflow: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes: toolbarSpec.attributes\n            }\n          }\n        }),\n        components: [primary],\n        markers: { overflowToggledClass: 'tox-tbtn--enabled' }\n      }));\n    };\n    var renderSlidingMoreToolbar = function (toolbarSpec) {\n      var primary = SplitSlidingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      var overflow = SplitSlidingToolbar.parts.overflow({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__overflow']\n        }\n      });\n      var baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      return SplitSlidingToolbar.sketch(__assign(__assign({}, baseSpec), {\n        components: [\n          primary,\n          overflow\n        ],\n        markers: {\n          openClass: 'tox-toolbar__overflow--open',\n          closedClass: 'tox-toolbar__overflow--closed',\n          growingClass: 'tox-toolbar__overflow--growing',\n          shrinkingClass: 'tox-toolbar__overflow--shrinking',\n          overflowToggledClass: 'tox-tbtn--enabled'\n        },\n        onOpened: function (comp) {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'opened' });\n        },\n        onClosed: function (comp) {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'closed' });\n        }\n      }));\n    };\n    var renderToolbar = function (toolbarSpec) {\n      var modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return Toolbar.sketch({\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar'].concat(toolbarSpec.type === ToolbarMode.scrolling ? ['tox-toolbar--scrolling'] : [])\n        },\n        components: [Toolbar.parts.groups({})],\n        toolbarBehaviours: getToolbarbehaviours(toolbarSpec, modeName)\n      });\n    };\n\n    var factory$6 = function (detail, components, _spec) {\n      var apis = {\n        getSocket: function (comp) {\n          return parts$a.getPart(comp, detail, 'socket');\n        },\n        setSidebar: function (comp, panelConfigs) {\n          parts$a.getPart(comp, detail, 'sidebar').each(function (sidebar) {\n            return setSidebar(sidebar, panelConfigs);\n          });\n        },\n        toggleSidebar: function (comp, name) {\n          parts$a.getPart(comp, detail, 'sidebar').each(function (sidebar) {\n            return toggleSidebar(sidebar, name);\n          });\n        },\n        whichSidebar: function (comp) {\n          return parts$a.getPart(comp, detail, 'sidebar').bind(whichSidebar).getOrNull();\n        },\n        getHeader: function (comp) {\n          return parts$a.getPart(comp, detail, 'header');\n        },\n        getToolbar: function (comp) {\n          return parts$a.getPart(comp, detail, 'toolbar');\n        },\n        setToolbar: function (comp, groups) {\n          parts$a.getPart(comp, detail, 'toolbar').each(function (toolbar) {\n            toolbar.getApis().setGroups(toolbar, groups);\n          });\n        },\n        setToolbars: function (comp, toolbars) {\n          parts$a.getPart(comp, detail, 'multiple-toolbar').each(function (mToolbar) {\n            CustomList.setItems(mToolbar, toolbars);\n          });\n        },\n        refreshToolbar: function (comp) {\n          var toolbar = parts$a.getPart(comp, detail, 'toolbar');\n          toolbar.each(function (toolbar) {\n            return toolbar.getApis().refresh(toolbar);\n          });\n        },\n        toggleToolbarDrawer: function (comp) {\n          parts$a.getPart(comp, detail, 'toolbar').each(function (toolbar) {\n            mapFrom(toolbar.getApis().toggle, function (toggle) {\n              return toggle(toolbar);\n            });\n          });\n        },\n        isToolbarDrawerToggled: function (comp) {\n          return parts$a.getPart(comp, detail, 'toolbar').bind(function (toolbar) {\n            return Optional.from(toolbar.getApis().isOpen).map(function (isOpen) {\n              return isOpen(toolbar);\n            });\n          }).getOr(false);\n        },\n        getThrobber: function (comp) {\n          return parts$a.getPart(comp, detail, 'throbber');\n        },\n        focusToolbar: function (comp) {\n          var optToolbar = parts$a.getPart(comp, detail, 'toolbar').orThunk(function () {\n            return parts$a.getPart(comp, detail, 'multiple-toolbar');\n          });\n          optToolbar.each(function (toolbar) {\n            Keying.focusIn(toolbar);\n          });\n        },\n        setMenubar: function (comp, menus) {\n          parts$a.getPart(comp, detail, 'menubar').each(function (menubar) {\n            SilverMenubar.setMenus(menubar, menus);\n          });\n        },\n        focusMenubar: function (comp) {\n          parts$a.getPart(comp, detail, 'menubar').each(function (menubar) {\n            SilverMenubar.focus(menubar);\n          });\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        apis: apis,\n        behaviours: detail.behaviours\n      };\n    };\n    var partMenubar = partType.optional({\n      factory: SilverMenubar,\n      name: 'menubar',\n      schema: [required$1('backstage')]\n    });\n    var toolbarFactory = function (spec) {\n      if (spec.type === ToolbarMode.sliding) {\n        return renderSlidingMoreToolbar;\n      } else if (spec.type === ToolbarMode.floating) {\n        return renderFloatingMoreToolbar;\n      } else {\n        return renderToolbar;\n      }\n    };\n    var partMultipleToolbar = partType.optional({\n      factory: {\n        sketch: function (spec) {\n          return CustomList.sketch({\n            uid: spec.uid,\n            dom: spec.dom,\n            listBehaviours: derive$1([Keying.config({\n                mode: 'acyclic',\n                selector: '.tox-toolbar'\n              })]),\n            makeItem: function () {\n              return renderToolbar({\n                type: spec.type,\n                uid: generate$6('multiple-toolbar-item'),\n                cyclicKeying: false,\n                initGroups: [],\n                providers: spec.providers,\n                onEscape: function () {\n                  spec.onEscape();\n                  return Optional.some(true);\n                }\n              });\n            },\n            setupItem: function (_mToolbar, tc, data, _index) {\n              Toolbar.setGroups(tc, data);\n            },\n            shell: true\n          });\n        }\n      },\n      name: 'multiple-toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape')\n      ]\n    });\n    var partToolbar = partType.optional({\n      factory: {\n        sketch: function (spec) {\n          var renderer = toolbarFactory(spec);\n          var toolbarSpec = {\n            type: spec.type,\n            uid: spec.uid,\n            onEscape: function () {\n              spec.onEscape();\n              return Optional.some(true);\n            },\n            cyclicKeying: false,\n            initGroups: [],\n            getSink: spec.getSink,\n            providers: spec.providers,\n            moreDrawerData: {\n              lazyToolbar: spec.lazyToolbar,\n              lazyMoreButton: spec.lazyMoreButton,\n              lazyHeader: spec.lazyHeader\n            },\n            attributes: spec.attributes\n          };\n          return renderer(toolbarSpec);\n        }\n      },\n      name: 'toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape'),\n        required$1('getSink')\n      ]\n    });\n    var partHeader = partType.optional({\n      factory: { sketch: renderHeader },\n      name: 'header',\n      schema: [required$1('dom')]\n    });\n    var partSocket = partType.optional({\n      name: 'socket',\n      schema: [required$1('dom')]\n    });\n    var partSidebar = partType.optional({\n      factory: { sketch: renderSidebar },\n      name: 'sidebar',\n      schema: [required$1('dom')]\n    });\n    var partThrobber = partType.optional({\n      factory: { sketch: renderThrobber },\n      name: 'throbber',\n      schema: [required$1('dom')]\n    });\n    var OuterContainer = composite({\n      name: 'OuterContainer',\n      factory: factory$6,\n      configFields: [\n        required$1('dom'),\n        required$1('behaviours')\n      ],\n      partFields: [\n        partHeader,\n        partMenubar,\n        partToolbar,\n        partMultipleToolbar,\n        partSocket,\n        partSidebar,\n        partThrobber\n      ],\n      apis: {\n        getSocket: function (apis, comp) {\n          return apis.getSocket(comp);\n        },\n        setSidebar: function (apis, comp, panelConfigs) {\n          apis.setSidebar(comp, panelConfigs);\n        },\n        toggleSidebar: function (apis, comp, name) {\n          apis.toggleSidebar(comp, name);\n        },\n        whichSidebar: function (apis, comp) {\n          return apis.whichSidebar(comp);\n        },\n        getHeader: function (apis, comp) {\n          return apis.getHeader(comp);\n        },\n        getToolbar: function (apis, comp) {\n          return apis.getToolbar(comp);\n        },\n        setToolbar: function (apis, comp, grps) {\n          var groups = map$2(grps, function (grp) {\n            return renderToolbarGroup(grp);\n          });\n          apis.setToolbar(comp, groups);\n        },\n        setToolbars: function (apis, comp, ts) {\n          var renderedToolbars = map$2(ts, function (g) {\n            return map$2(g, renderToolbarGroup);\n          });\n          apis.setToolbars(comp, renderedToolbars);\n        },\n        refreshToolbar: function (apis, comp) {\n          return apis.refreshToolbar(comp);\n        },\n        toggleToolbarDrawer: function (apis, comp) {\n          apis.toggleToolbarDrawer(comp);\n        },\n        isToolbarDrawerToggled: function (apis, comp) {\n          return apis.isToolbarDrawerToggled(comp);\n        },\n        getThrobber: function (apis, comp) {\n          return apis.getThrobber(comp);\n        },\n        setMenubar: function (apis, comp, menus) {\n          apis.setMenubar(comp, menus);\n        },\n        focusMenubar: function (apis, comp) {\n          apis.focusMenubar(comp);\n        },\n        focusToolbar: function (apis, comp) {\n          apis.focusToolbar(comp);\n        }\n      }\n    });\n\n    var defaultMenubar = 'file edit view insert format tools table help';\n    var defaultMenus = {\n      file: {\n        title: 'File',\n        items: 'newdocument restoredraft | preview | export print | deleteallconversations'\n      },\n      edit: {\n        title: 'Edit',\n        items: 'undo redo | cut copy paste pastetext | selectall | searchreplace'\n      },\n      view: {\n        title: 'View',\n        items: 'code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments'\n      },\n      insert: {\n        title: 'Insert',\n        items: 'image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime'\n      },\n      format: {\n        title: 'Format',\n        items: 'bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat'\n      },\n      tools: {\n        title: 'Tools',\n        items: 'spellchecker spellcheckerlanguage | a11ycheck code wordcount'\n      },\n      table: {\n        title: 'Table',\n        items: 'inserttable | cell row column | advtablesort | tableprops deletetable'\n      },\n      help: {\n        title: 'Help',\n        items: 'help'\n      }\n    };\n    var make = function (menu, registry, editor) {\n      var removedMenuItems = getRemovedMenuItems(editor).split(/[ ,]/);\n      return {\n        text: menu.title,\n        getItems: function () {\n          return bind$3(menu.items, function (i) {\n            var itemName = i.toLowerCase();\n            if (itemName.trim().length === 0) {\n              return [];\n            } else if (exists(removedMenuItems, function (removedMenuItem) {\n                return removedMenuItem === itemName;\n              })) {\n              return [];\n            } else if (itemName === 'separator' || itemName === '|') {\n              return [{ type: 'separator' }];\n            } else if (registry.menuItems[itemName]) {\n              return [registry.menuItems[itemName]];\n            } else {\n              return [];\n            }\n          });\n        }\n      };\n    };\n    var parseItemsString = function (items) {\n      if (typeof items === 'string') {\n        return items.split(' ');\n      }\n      return items;\n    };\n    var identifyMenus = function (editor, registry) {\n      var rawMenuData = __assign(__assign({}, defaultMenus), registry.menus);\n      var userDefinedMenus = keys(registry.menus).length > 0;\n      var menubar = registry.menubar === undefined || registry.menubar === true ? parseItemsString(defaultMenubar) : parseItemsString(registry.menubar === false ? '' : registry.menubar);\n      var validMenus = filter$2(menubar, function (menuName) {\n        var isDefaultMenu = has$2(defaultMenus, menuName);\n        if (userDefinedMenus) {\n          return isDefaultMenu || get$e(registry.menus, menuName).exists(function (menu) {\n            return has$2(menu, 'items');\n          });\n        } else {\n          return isDefaultMenu;\n        }\n      });\n      var menus = map$2(validMenus, function (menuName) {\n        var menuData = rawMenuData[menuName];\n        return make({\n          title: menuData.title,\n          items: parseItemsString(menuData.items)\n        }, registry, editor);\n      });\n      return filter$2(menus, function (menu) {\n        var isNotSeparator = function (item) {\n          return item.type !== 'separator';\n        };\n        return menu.getItems().length > 0 && exists(menu.getItems(), isNotSeparator);\n      });\n    };\n\n    var fireSkinLoaded = function (editor) {\n      var done = function () {\n        editor._skinLoaded = true;\n        fireSkinLoaded$1(editor);\n      };\n      return function () {\n        if (editor.initialized) {\n          done();\n        } else {\n          editor.on('init', done);\n        }\n      };\n    };\n    var fireSkinLoadError = function (editor, err) {\n      return function () {\n        return fireSkinLoadError$1(editor, { message: err });\n      };\n    };\n\n    var loadStylesheet = function (editor, stylesheetUrl, styleSheetLoader) {\n      return new global$c(function (resolve, reject) {\n        styleSheetLoader.load(stylesheetUrl, resolve, reject);\n        editor.on('remove', function () {\n          return styleSheetLoader.unload(stylesheetUrl);\n        });\n      });\n    };\n    var loadUiSkins = function (editor, skinUrl) {\n      var skinUiCss = skinUrl + '/skin.min.css';\n      return loadStylesheet(editor, skinUiCss, editor.ui.styleSheetLoader);\n    };\n    var loadShadowDomUiSkins = function (editor, skinUrl) {\n      var isInShadowRoot$1 = isInShadowRoot(SugarElement.fromDom(editor.getElement()));\n      if (isInShadowRoot$1) {\n        var shadowDomSkinCss = skinUrl + '/skin.shadowdom.min.css';\n        return loadStylesheet(editor, shadowDomSkinCss, global$b.DOM.styleSheetLoader);\n      } else {\n        return global$c.resolve();\n      }\n    };\n    var loadSkin = function (isInline, editor) {\n      var skinUrl = getSkinUrl(editor);\n      if (skinUrl) {\n        editor.contentCSS.push(skinUrl + (isInline ? '/content.inline' : '/content') + '.min.css');\n      }\n      if (isSkinDisabled(editor) === false && isString(skinUrl)) {\n        global$c.all([\n          loadUiSkins(editor, skinUrl),\n          loadShadowDomUiSkins(editor, skinUrl)\n        ]).then(fireSkinLoaded(editor), fireSkinLoadError(editor, 'Skin could not be loaded'));\n      } else {\n        fireSkinLoaded(editor)();\n      }\n    };\n    var iframe = curry(loadSkin, false);\n    var inline = curry(loadSkin, true);\n\n    var onSetupFormatToggle = function (editor, name) {\n      return function (api) {\n        var boundCallback = unbindable();\n        var init = function () {\n          api.setActive(editor.formatter.match(name));\n          var binding = editor.formatter.formatChanged(name, api.setActive);\n          boundCallback.set(binding);\n        };\n        editor.initialized ? init() : editor.once('init', init);\n        return function () {\n          editor.off('init', init);\n          boundCallback.clear();\n        };\n      };\n    };\n    var onSetupEvent = function (editor, event, f) {\n      return function (api) {\n        var handleEvent = function () {\n          return f(api);\n        };\n        var init = function () {\n          f(api);\n          editor.on(event, handleEvent);\n        };\n        editor.initialized ? init() : editor.once('init', init);\n        return function () {\n          editor.off('init', init);\n          editor.off(event, handleEvent);\n        };\n      };\n    };\n    var onActionToggleFormat$1 = function (editor) {\n      return function (rawItem) {\n        return function () {\n          editor.undoManager.transact(function () {\n            editor.focus();\n            editor.execCommand('mceToggleFormat', false, rawItem.format);\n          });\n        };\n      };\n    };\n    var onActionExecCommand = function (editor, command) {\n      return function () {\n        return editor.execCommand(command);\n      };\n    };\n\n    var generateSelectItems = function (_editor, backstage, spec) {\n      var generateItem = function (rawItem, response, disabled, value) {\n        var translatedText = backstage.shared.providers.translate(rawItem.title);\n        if (rawItem.type === 'separator') {\n          return Optional.some({\n            type: 'separator',\n            text: translatedText\n          });\n        } else if (rawItem.type === 'submenu') {\n          var items = bind$3(rawItem.getStyleItems(), function (si) {\n            return validate(si, response, value);\n          });\n          if (response === 0 && items.length <= 0) {\n            return Optional.none();\n          } else {\n            return Optional.some({\n              type: 'nestedmenuitem',\n              text: translatedText,\n              disabled: items.length <= 0,\n              getSubmenuItems: function () {\n                return bind$3(rawItem.getStyleItems(), function (si) {\n                  return validate(si, response, value);\n                });\n              }\n            });\n          }\n        } else {\n          return Optional.some(__assign({\n            type: 'togglemenuitem',\n            text: translatedText,\n            icon: rawItem.icon,\n            active: rawItem.isSelected(value),\n            disabled: disabled,\n            onAction: spec.onAction(rawItem)\n          }, rawItem.getStylePreview().fold(function () {\n            return {};\n          }, function (preview) {\n            return { meta: { style: preview } };\n          })));\n        }\n      };\n      var validate = function (item, response, value) {\n        var invalid = item.type === 'formatter' && spec.isInvalid(item);\n        if (response === 0) {\n          return invalid ? [] : generateItem(item, response, false, value).toArray();\n        } else {\n          return generateItem(item, response, invalid, value).toArray();\n        }\n      };\n      var validateItems = function (preItems) {\n        var value = spec.getCurrentValue();\n        var response = spec.shouldHide ? 0 : 1;\n        return bind$3(preItems, function (item) {\n          return validate(item, response, value);\n        });\n      };\n      var getFetch = function (backstage, getStyleItems) {\n        return function (comp, callback) {\n          var preItems = getStyleItems();\n          var items = validateItems(preItems);\n          var menu = build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false);\n          callback(menu);\n        };\n      };\n      return {\n        validateItems: validateItems,\n        getFetch: getFetch\n      };\n    };\n    var createMenuItems = function (editor, backstage, spec) {\n      var dataset = spec.dataset;\n      var getStyleItems = dataset.type === 'basic' ? function () {\n        return map$2(dataset.data, function (d) {\n          return processBasic(d, spec.isSelectedFor, spec.getPreviewFor);\n        });\n      } : dataset.getData;\n      return {\n        items: generateSelectItems(editor, backstage, spec),\n        getStyleItems: getStyleItems\n      };\n    };\n    var createSelectButton = function (editor, backstage, spec) {\n      var _a = createMenuItems(editor, backstage, spec), items = _a.items, getStyleItems = _a.getStyleItems;\n      var getApi = function (comp) {\n        return { getComponent: constant$1(comp) };\n      };\n      var onSetup = onSetupEvent(editor, 'NodeChange', function (api) {\n        var comp = api.getComponent();\n        spec.updateText(comp);\n      });\n      return renderCommonDropdown({\n        text: spec.icon.isSome() ? Optional.none() : spec.text,\n        icon: spec.icon,\n        tooltip: Optional.from(spec.tooltip),\n        role: Optional.none(),\n        fetch: items.getFetch(backstage, getStyleItems),\n        onSetup: onSetup,\n        getApi: getApi,\n        columns: 1,\n        presets: 'normal',\n        classes: spec.icon.isSome() ? [] : ['bespoke'],\n        dropdownBehaviours: []\n      }, 'tox-tbtn', backstage.shared);\n    };\n\n    var process = function (rawFormats) {\n      return map$2(rawFormats, function (item) {\n        var title = item, format = item;\n        var values = item.split('=');\n        if (values.length > 1) {\n          title = values[0];\n          format = values[1];\n        }\n        return {\n          title: title,\n          format: format\n        };\n      });\n    };\n    var buildBasicStaticDataset = function (data) {\n      return {\n        type: 'basic',\n        data: data\n      };\n    };\n    var Delimiter;\n    (function (Delimiter) {\n      Delimiter[Delimiter['SemiColon'] = 0] = 'SemiColon';\n      Delimiter[Delimiter['Space'] = 1] = 'Space';\n    }(Delimiter || (Delimiter = {})));\n    var split = function (rawFormats, delimiter) {\n      if (delimiter === Delimiter.SemiColon) {\n        return rawFormats.replace(/;$/, '').split(';');\n      } else {\n        return rawFormats.split(' ');\n      }\n    };\n    var buildBasicSettingsDataset = function (editor, settingName, defaults, delimiter) {\n      var rawFormats = editor.getParam(settingName, defaults, 'string');\n      var data = process(split(rawFormats, delimiter));\n      return {\n        type: 'basic',\n        data: data\n      };\n    };\n\n    var alignMenuItems = [\n      {\n        title: 'Left',\n        icon: 'align-left',\n        format: 'alignleft',\n        command: 'JustifyLeft'\n      },\n      {\n        title: 'Center',\n        icon: 'align-center',\n        format: 'aligncenter',\n        command: 'JustifyCenter'\n      },\n      {\n        title: 'Right',\n        icon: 'align-right',\n        format: 'alignright',\n        command: 'JustifyRight'\n      },\n      {\n        title: 'Justify',\n        icon: 'align-justify',\n        format: 'alignjustify',\n        command: 'JustifyFull'\n      }\n    ];\n    var getSpec$4 = function (editor) {\n      var getMatchingValue = function () {\n        return find$5(alignMenuItems, function (item) {\n          return editor.formatter.match(item.format);\n        });\n      };\n      var isSelectedFor = function (format) {\n        return function () {\n          return editor.formatter.match(format);\n        };\n      };\n      var getPreviewFor = function (_format) {\n        return Optional.none;\n      };\n      var updateSelectMenuIcon = function (comp) {\n        var match = getMatchingValue();\n        var alignment = match.fold(constant$1('left'), function (item) {\n          return item.title.toLowerCase();\n        });\n        emitWith(comp, updateMenuIcon, { icon: 'align-' + alignment });\n      };\n      var dataset = buildBasicStaticDataset(alignMenuItems);\n      var onAction = function (rawItem) {\n        return function () {\n          return find$5(alignMenuItems, function (item) {\n            return item.format === rawItem.format;\n          }).each(function (item) {\n            return editor.execCommand(item.command);\n          });\n        };\n      };\n      return {\n        tooltip: 'Align',\n        text: Optional.none(),\n        icon: Optional.some('align-left'),\n        isSelectedFor: isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor: getPreviewFor,\n        onAction: onAction,\n        updateText: updateSelectMenuIcon,\n        dataset: dataset,\n        shouldHide: false,\n        isInvalid: function (item) {\n          return !editor.formatter.canApply(item.format);\n        }\n      };\n    };\n    var createAlignSelect = function (editor, backstage) {\n      return createSelectButton(editor, backstage, getSpec$4(editor));\n    };\n    var alignSelectMenu = function (editor, backstage) {\n      var menuItems = createMenuItems(editor, backstage, getSpec$4(editor));\n      editor.ui.registry.addNestedMenuItem('align', {\n        text: backstage.shared.providers.translate('Align'),\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var defaultFontsFormats = 'Andale Mono=andale mono,monospace;' + 'Arial=arial,helvetica,sans-serif;' + 'Arial Black=arial black,sans-serif;' + 'Book Antiqua=book antiqua,palatino,serif;' + 'Comic Sans MS=comic sans ms,sans-serif;' + 'Courier New=courier new,courier,monospace;' + 'Georgia=georgia,palatino,serif;' + 'Helvetica=helvetica,arial,sans-serif;' + 'Impact=impact,sans-serif;' + 'Symbol=symbol;' + 'Tahoma=tahoma,arial,helvetica,sans-serif;' + 'Terminal=terminal,monaco,monospace;' + 'Times New Roman=times new roman,times,serif;' + 'Trebuchet MS=trebuchet ms,geneva,sans-serif;' + 'Verdana=verdana,geneva,sans-serif;' + 'Webdings=webdings;' + 'Wingdings=wingdings,zapf dingbats';\n    var systemStackFonts = [\n      '-apple-system',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica Neue',\n      'sans-serif'\n    ];\n    var splitFonts = function (fontFamily) {\n      var fonts = fontFamily.split(/\\s*,\\s*/);\n      return map$2(fonts, function (font) {\n        return font.replace(/^['\"]+|['\"]+$/g, '');\n      });\n    };\n    var isSystemFontStack = function (fontFamily) {\n      var matchesSystemStack = function () {\n        var fonts = splitFonts(fontFamily.toLowerCase());\n        return forall(systemStackFonts, function (font) {\n          return fonts.indexOf(font.toLowerCase()) > -1;\n        });\n      };\n      return fontFamily.indexOf('-apple-system') === 0 && matchesSystemStack();\n    };\n    var getSpec$3 = function (editor) {\n      var systemFont = 'System Font';\n      var getMatchingValue = function () {\n        var getFirstFont = function (fontFamily) {\n          return fontFamily ? splitFonts(fontFamily)[0] : '';\n        };\n        var fontFamily = editor.queryCommandValue('FontName');\n        var items = dataset.data;\n        var font = fontFamily ? fontFamily.toLowerCase() : '';\n        var matchOpt = find$5(items, function (item) {\n          var format = item.format;\n          return format.toLowerCase() === font || getFirstFont(format).toLowerCase() === getFirstFont(font).toLowerCase();\n        }).orThunk(function () {\n          return someIf(isSystemFontStack(font), {\n            title: systemFont,\n            format: font\n          });\n        });\n        return {\n          matchOpt: matchOpt,\n          font: fontFamily\n        };\n      };\n      var isSelectedFor = function (item) {\n        return function (valueOpt) {\n          return valueOpt.exists(function (value) {\n            return value.format === item;\n          });\n        };\n      };\n      var getCurrentValue = function () {\n        var matchOpt = getMatchingValue().matchOpt;\n        return matchOpt;\n      };\n      var getPreviewFor = function (item) {\n        return function () {\n          return Optional.some({\n            tag: 'div',\n            styles: item.indexOf('dings') === -1 ? { 'font-family': item } : {}\n          });\n        };\n      };\n      var onAction = function (rawItem) {\n        return function () {\n          editor.undoManager.transact(function () {\n            editor.focus();\n            editor.execCommand('FontName', false, rawItem.format);\n          });\n        };\n      };\n      var updateSelectMenuText = function (comp) {\n        var _a = getMatchingValue(), matchOpt = _a.matchOpt, font = _a.font;\n        var text = matchOpt.fold(constant$1(font), function (item) {\n          return item.title;\n        });\n        emitWith(comp, updateMenuText, { text: text });\n      };\n      var dataset = buildBasicSettingsDataset(editor, 'font_formats', defaultFontsFormats, Delimiter.SemiColon);\n      return {\n        tooltip: 'Fonts',\n        text: Optional.some(systemFont),\n        icon: Optional.none(),\n        isSelectedFor: isSelectedFor,\n        getCurrentValue: getCurrentValue,\n        getPreviewFor: getPreviewFor,\n        onAction: onAction,\n        updateText: updateSelectMenuText,\n        dataset: dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    var createFontSelect = function (editor, backstage) {\n      return createSelectButton(editor, backstage, getSpec$3(editor));\n    };\n    var fontSelectMenu = function (editor, backstage) {\n      var menuItems = createMenuItems(editor, backstage, getSpec$3(editor));\n      editor.ui.registry.addNestedMenuItem('fontformats', {\n        text: backstage.shared.providers.translate('Fonts'),\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var defaultFontsizeFormats = '8pt 10pt 12pt 14pt 18pt 24pt 36pt';\n    var legacyFontSizes = {\n      '8pt': '1',\n      '10pt': '2',\n      '12pt': '3',\n      '14pt': '4',\n      '18pt': '5',\n      '24pt': '6',\n      '36pt': '7'\n    };\n    var keywordFontSizes = {\n      'xx-small': '7pt',\n      'x-small': '8pt',\n      'small': '10pt',\n      'medium': '12pt',\n      'large': '14pt',\n      'x-large': '18pt',\n      'xx-large': '24pt'\n    };\n    var round = function (number, precision) {\n      var factor = Math.pow(10, precision);\n      return Math.round(number * factor) / factor;\n    };\n    var toPt = function (fontSize, precision) {\n      if (/[0-9.]+px$/.test(fontSize)) {\n        return round(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';\n      } else {\n        return get$e(keywordFontSizes, fontSize).getOr(fontSize);\n      }\n    };\n    var toLegacy = function (fontSize) {\n      return get$e(legacyFontSizes, fontSize).getOr('');\n    };\n    var getSpec$2 = function (editor) {\n      var getMatchingValue = function () {\n        var matchOpt = Optional.none();\n        var items = dataset.data;\n        var fontSize = editor.queryCommandValue('FontSize');\n        if (fontSize) {\n          var _loop_1 = function (precision) {\n            var pt = toPt(fontSize, precision);\n            var legacy = toLegacy(pt);\n            matchOpt = find$5(items, function (item) {\n              return item.format === fontSize || item.format === pt || item.format === legacy;\n            });\n          };\n          for (var precision = 3; matchOpt.isNone() && precision >= 0; precision--) {\n            _loop_1(precision);\n          }\n        }\n        return {\n          matchOpt: matchOpt,\n          size: fontSize\n        };\n      };\n      var isSelectedFor = function (item) {\n        return function (valueOpt) {\n          return valueOpt.exists(function (value) {\n            return value.format === item;\n          });\n        };\n      };\n      var getCurrentValue = function () {\n        var matchOpt = getMatchingValue().matchOpt;\n        return matchOpt;\n      };\n      var getPreviewFor = constant$1(Optional.none);\n      var onAction = function (rawItem) {\n        return function () {\n          editor.undoManager.transact(function () {\n            editor.focus();\n            editor.execCommand('FontSize', false, rawItem.format);\n          });\n        };\n      };\n      var updateSelectMenuText = function (comp) {\n        var _a = getMatchingValue(), matchOpt = _a.matchOpt, size = _a.size;\n        var text = matchOpt.fold(constant$1(size), function (match) {\n          return match.title;\n        });\n        emitWith(comp, updateMenuText, { text: text });\n      };\n      var dataset = buildBasicSettingsDataset(editor, 'fontsize_formats', defaultFontsizeFormats, Delimiter.Space);\n      return {\n        tooltip: 'Font sizes',\n        text: Optional.some('12pt'),\n        icon: Optional.none(),\n        isSelectedFor: isSelectedFor,\n        getPreviewFor: getPreviewFor,\n        getCurrentValue: getCurrentValue,\n        onAction: onAction,\n        updateText: updateSelectMenuText,\n        dataset: dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    var createFontsizeSelect = function (editor, backstage) {\n      return createSelectButton(editor, backstage, getSpec$2(editor));\n    };\n    var fontsizeSelectMenu = function (editor, backstage) {\n      var menuItems = createMenuItems(editor, backstage, getSpec$2(editor));\n      editor.ui.registry.addNestedMenuItem('fontsizes', {\n        text: 'Font sizes',\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var findNearest = function (editor, getStyles) {\n      var styles = getStyles();\n      var formats = map$2(styles, function (style) {\n        return style.format;\n      });\n      return Optional.from(editor.formatter.closest(formats)).bind(function (fmt) {\n        return find$5(styles, function (data) {\n          return data.format === fmt;\n        });\n      }).orThunk(function () {\n        return someIf(editor.formatter.match('p'), {\n          title: 'Paragraph',\n          format: 'p'\n        });\n      });\n    };\n\n    var defaultBlocks = 'Paragraph=p;' + 'Heading 1=h1;' + 'Heading 2=h2;' + 'Heading 3=h3;' + 'Heading 4=h4;' + 'Heading 5=h5;' + 'Heading 6=h6;' + 'Preformatted=pre';\n    var getSpec$1 = function (editor) {\n      var fallbackFormat = 'Paragraph';\n      var isSelectedFor = function (format) {\n        return function () {\n          return editor.formatter.match(format);\n        };\n      };\n      var getPreviewFor = function (format) {\n        return function () {\n          var fmt = editor.formatter.get(format);\n          return Optional.some({\n            tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n            styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n          });\n        };\n      };\n      var updateSelectMenuText = function (comp) {\n        var detectedFormat = findNearest(editor, function () {\n          return dataset.data;\n        });\n        var text = detectedFormat.fold(constant$1(fallbackFormat), function (fmt) {\n          return fmt.title;\n        });\n        emitWith(comp, updateMenuText, { text: text });\n      };\n      var dataset = buildBasicSettingsDataset(editor, 'block_formats', defaultBlocks, Delimiter.SemiColon);\n      return {\n        tooltip: 'Blocks',\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor: isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor: getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        dataset: dataset,\n        shouldHide: false,\n        isInvalid: function (item) {\n          return !editor.formatter.canApply(item.format);\n        }\n      };\n    };\n    var createFormatSelect = function (editor, backstage) {\n      return createSelectButton(editor, backstage, getSpec$1(editor));\n    };\n    var formatSelectMenu = function (editor, backstage) {\n      var menuItems = createMenuItems(editor, backstage, getSpec$1(editor));\n      editor.ui.registry.addNestedMenuItem('blockformats', {\n        text: 'Blocks',\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var getSpec = function (editor, dataset) {\n      var fallbackFormat = 'Paragraph';\n      var isSelectedFor = function (format) {\n        return function () {\n          return editor.formatter.match(format);\n        };\n      };\n      var getPreviewFor = function (format) {\n        return function () {\n          var fmt = editor.formatter.get(format);\n          return fmt !== undefined ? Optional.some({\n            tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n            styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n          }) : Optional.none();\n        };\n      };\n      var updateSelectMenuText = function (comp) {\n        var getFormatItems = function (fmt) {\n          var subs = fmt.items;\n          return subs !== undefined && subs.length > 0 ? bind$3(subs, getFormatItems) : [{\n              title: fmt.title,\n              format: fmt.format\n            }];\n        };\n        var flattenedItems = bind$3(getStyleFormats(editor), getFormatItems);\n        var detectedFormat = findNearest(editor, constant$1(flattenedItems));\n        var text = detectedFormat.fold(constant$1(fallbackFormat), function (fmt) {\n          return fmt.title;\n        });\n        emitWith(comp, updateMenuText, { text: text });\n      };\n      return {\n        tooltip: 'Formats',\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor: isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor: getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        shouldHide: editor.getParam('style_formats_autohide', false, 'boolean'),\n        isInvalid: function (item) {\n          return !editor.formatter.canApply(item.format);\n        },\n        dataset: dataset\n      };\n    };\n    var createStyleSelect = function (editor, backstage) {\n      var dataset = __assign({ type: 'advanced' }, backstage.styleselect);\n      return createSelectButton(editor, backstage, getSpec(editor, dataset));\n    };\n    var styleSelectMenu = function (editor, backstage) {\n      var dataset = __assign({ type: 'advanced' }, backstage.styleselect);\n      var menuItems = createMenuItems(editor, backstage, getSpec(editor, dataset));\n      editor.ui.registry.addNestedMenuItem('formats', {\n        text: 'Formats',\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var events$3 = function (reflectingConfig, reflectingState) {\n      var update = function (component, data) {\n        reflectingConfig.updateState.each(function (updateState) {\n          var newState = updateState(component, data);\n          reflectingState.set(newState);\n        });\n        reflectingConfig.renderComponents.each(function (renderComponents) {\n          var newComponents = renderComponents(data, reflectingState.get());\n          var newChildren = map$2(newComponents, component.getSystem().build);\n          replaceChildren(component, newChildren);\n        });\n      };\n      return derive$2([\n        run$1(receive(), function (component, message) {\n          var receivingData = message;\n          if (!receivingData.universal) {\n            var channel = reflectingConfig.channel;\n            if (contains$2(receivingData.channels, channel)) {\n              update(component, receivingData.data);\n            }\n          }\n        }),\n        runOnAttached(function (comp, _se) {\n          reflectingConfig.initialData.each(function (rawData) {\n            update(comp, rawData);\n          });\n        })\n      ]);\n    };\n\n    var ActiveReflecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$3\n    });\n\n    var getState = function (component, replaceConfig, reflectState) {\n      return reflectState;\n    };\n\n    var ReflectingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getState: getState\n    });\n\n    var ReflectingSchema = [\n      required$1('channel'),\n      option('renderComponents'),\n      option('updateState'),\n      option('initialData')\n    ];\n\n    var init$3 = function () {\n      var cell = Cell(Optional.none());\n      var clear = function () {\n        return cell.set(Optional.none());\n      };\n      var readState = function () {\n        return cell.get().getOr('none');\n      };\n      return {\n        readState: readState,\n        get: cell.get,\n        set: cell.set,\n        clear: clear\n      };\n    };\n\n    var ReflectingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$3\n    });\n\n    var Reflecting = create$7({\n      fields: ReflectingSchema,\n      name: 'reflecting',\n      active: ActiveReflecting,\n      apis: ReflectingApis,\n      state: ReflectingState\n    });\n\n    var schema$7 = constant$1([\n      required$1('toggleClass'),\n      required$1('fetch'),\n      onStrictHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      onStrictHandler('onItemExecute'),\n      option('lazySink'),\n      required$1('dom'),\n      onHandler('onOpen'),\n      field('splitDropdownBehaviours', [\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      defaulted('eventOrder', {}),\n      option('role')\n    ].concat(sandboxFields()));\n    var arrowPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'arrow',\n      defaults: function () {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: function (detail) {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: function (arrow) {\n            arrow.getSystem().getByUid(detail.uid).each(emitExecute);\n          },\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleOnExecute: false,\n              toggleClass: detail.toggleClass\n            })])\n        };\n      }\n    });\n    var buttonPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'button',\n      defaults: function () {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: function (detail) {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: function (btn) {\n            btn.getSystem().getByUid(detail.uid).each(function (splitDropdown) {\n              detail.onExecute(splitDropdown, btn);\n            });\n          }\n        };\n      }\n    });\n    var parts$3 = constant$1([\n      arrowPart,\n      buttonPart,\n      optional({\n        factory: {\n          sketch: function (spec) {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      external$1({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        defaults: function (detail) {\n          return {\n            onExecute: function (tmenu, item) {\n              tmenu.getSystem().getByUid(detail.uid).each(function (splitDropdown) {\n                detail.onItemExecute(splitDropdown, tmenu, item);\n              });\n            }\n          };\n        }\n      }),\n      partType$1()\n    ]);\n\n    var factory$5 = function (detail, components, spec, externals) {\n      var _a;\n      var switchToMenu = function (sandbox) {\n        Composing.getCurrent(sandbox).each(function (current) {\n          Highlighting.highlightFirst(current);\n          Keying.focusIn(current);\n        });\n      };\n      var action = function (component) {\n        var onOpenSync = switchToMenu;\n        togglePopup(detail, identity$1, component, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n      };\n      var openMenu = function (comp) {\n        action(comp);\n        return Optional.some(true);\n      };\n      var executeOnButton = function (comp) {\n        var button = getPartOrDie(comp, detail, 'button');\n        emitExecute(button);\n        return Optional.some(true);\n      };\n      var buttonEvents = __assign(__assign({}, derive$2([runOnAttached(function (component, _simulatedEvent) {\n          var ariaDescriptor = getPart(component, detail, 'aria-descriptor');\n          ariaDescriptor.each(function (descriptor) {\n            var descriptorId = generate$6('aria');\n            set$8(descriptor.element, 'id', descriptorId);\n            set$8(component.element, 'aria-describedby', descriptorId);\n          });\n        })])), events$a(Optional.some(action)));\n      var apis = {\n        repositionMenus: function (comp) {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        apis: apis,\n        eventOrder: __assign(__assign({}, detail.eventOrder), (_a = {}, _a[execute$5()] = [\n          'disabling',\n          'toggling',\n          'alloy.base.behaviour'\n        ], _a)),\n        events: buttonEvents,\n        behaviours: augment(detail.splitDropdownBehaviours, [\n          Coupling.config({\n            others: {\n              sandbox: function (hotspot) {\n                var arrow = getPartOrDie(hotspot, detail, 'arrow');\n                var extras = {\n                  onOpen: function () {\n                    Toggling.on(arrow);\n                    Toggling.on(hotspot);\n                  },\n                  onClose: function () {\n                    Toggling.off(arrow);\n                    Toggling.off(hotspot);\n                  }\n                };\n                return makeSandbox$1(detail, hotspot, extras);\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: executeOnButton,\n            onEnter: executeOnButton,\n            onDown: openMenu\n          }),\n          Focusing.config({}),\n          Toggling.config({\n            toggleOnExecute: false,\n            aria: { mode: 'expanded' }\n          })\n        ]),\n        domModification: {\n          attributes: {\n            'role': detail.role.getOr('button'),\n            'aria-haspopup': true\n          }\n        }\n      };\n    };\n    var SplitDropdown = composite({\n      name: 'SplitDropdown',\n      configFields: schema$7(),\n      partFields: parts$3(),\n      factory: factory$5,\n      apis: {\n        repositionMenus: function (apis, comp) {\n          return apis.repositionMenus(comp);\n        }\n      }\n    });\n\n    var getButtonApi = function (component) {\n      return {\n        isDisabled: function () {\n          return Disabling.isDisabled(component);\n        },\n        setDisabled: function (state) {\n          return Disabling.set(component, state);\n        }\n      };\n    };\n    var getToggleApi = function (component) {\n      return {\n        setActive: function (state) {\n          Toggling.set(component, state);\n        },\n        isActive: function () {\n          return Toggling.isOn(component);\n        },\n        isDisabled: function () {\n          return Disabling.isDisabled(component);\n        },\n        setDisabled: function (state) {\n          return Disabling.set(component, state);\n        }\n      };\n    };\n    var getTooltipAttributes = function (tooltip, providersBackstage) {\n      return tooltip.map(function (tooltip) {\n        return {\n          'aria-label': providersBackstage.translate(tooltip),\n          'title': providersBackstage.translate(tooltip)\n        };\n      }).getOr({});\n    };\n    var focusButtonEvent = generate$6('focus-button');\n    var renderCommonStructure = function (icon, text, tooltip, receiver, behaviours, providersBackstage) {\n      var _d;\n      return {\n        dom: {\n          tag: 'button',\n          classes: ['tox-tbtn'].concat(text.isSome() ? ['tox-tbtn--select'] : []),\n          attributes: getTooltipAttributes(tooltip, providersBackstage)\n        },\n        components: componentRenderPipeline([\n          icon.map(function (iconName) {\n            return renderIconFromPack(iconName, providersBackstage.icons);\n          }),\n          text.map(function (text) {\n            return renderLabel$1(text, 'tox-tbtn', providersBackstage);\n          })\n        ]),\n        eventOrder: (_d = {}, _d[mousedown()] = [\n          'focusing',\n          'alloy.base.behaviour',\n          'common-button-display-events'\n        ], _d),\n        buttonBehaviours: derive$1([\n          DisablingConfigs.toolbarButton(providersBackstage.isDisabled),\n          receivingConfig(),\n          config('common-button-display-events', [run$1(mousedown(), function (button, se) {\n              se.event.prevent();\n              emit(button, focusButtonEvent);\n            })])\n        ].concat(receiver.map(function (r) {\n          return Reflecting.config({\n            channel: r,\n            initialData: {\n              icon: icon,\n              text: text\n            },\n            renderComponents: function (data, _state) {\n              return componentRenderPipeline([\n                data.icon.map(function (iconName) {\n                  return renderIconFromPack(iconName, providersBackstage.icons);\n                }),\n                data.text.map(function (text) {\n                  return renderLabel$1(text, 'tox-tbtn', providersBackstage);\n                })\n              ]);\n            }\n          });\n        }).toArray()).concat(behaviours.getOr([])))\n      };\n    };\n    var renderFloatingToolbarButton = function (spec, backstage, identifyButtons, attributes) {\n      var sharedBackstage = backstage.shared;\n      return FloatingToolbarButton.sketch({\n        lazySink: sharedBackstage.getSink,\n        fetch: function () {\n          return Future.nu(function (resolve) {\n            resolve(map$2(identifyButtons(spec.items), renderToolbarGroup));\n          });\n        },\n        markers: { toggledClass: 'tox-tbtn--enabled' },\n        parts: {\n          button: renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.none(), Optional.none(), sharedBackstage.providers),\n          toolbar: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes: attributes\n            }\n          }\n        }\n      });\n    };\n    var renderCommonToolbarButton = function (spec, specialisation, providersBackstage) {\n      var editorOffCell = Cell(noop);\n      var structure = renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.none(), Optional.none(), providersBackstage);\n      return Button.sketch({\n        dom: structure.dom,\n        components: structure.components,\n        eventOrder: toolbarButtonEventOrder,\n        buttonBehaviours: derive$1([\n          config('toolbar-button-events', [\n            onToolbarButtonExecute({\n              onAction: spec.onAction,\n              getApi: specialisation.getApi\n            }),\n            onControlAttached(specialisation, editorOffCell),\n            onControlDetached(specialisation, editorOffCell)\n          ]),\n          DisablingConfigs.toolbarButton(function () {\n            return spec.disabled || providersBackstage.isDisabled();\n          }),\n          receivingConfig()\n        ].concat(specialisation.toolbarButtonBehaviours))\n      });\n    };\n    var renderToolbarButton = function (spec, providersBackstage) {\n      return renderToolbarButtonWith(spec, providersBackstage, []);\n    };\n    var renderToolbarButtonWith = function (spec, providersBackstage, bonusEvents) {\n      return renderCommonToolbarButton(spec, {\n        toolbarButtonBehaviours: [].concat(bonusEvents.length > 0 ? [config('toolbarButtonWith', bonusEvents)] : []),\n        getApi: getButtonApi,\n        onSetup: spec.onSetup\n      }, providersBackstage);\n    };\n    var renderToolbarToggleButton = function (spec, providersBackstage) {\n      return renderToolbarToggleButtonWith(spec, providersBackstage, []);\n    };\n    var renderToolbarToggleButtonWith = function (spec, providersBackstage, bonusEvents) {\n      return deepMerge(renderCommonToolbarButton(spec, {\n        toolbarButtonBehaviours: [\n          Replacing.config({}),\n          Toggling.config({\n            toggleClass: 'tox-tbtn--enabled',\n            aria: { mode: 'pressed' },\n            toggleOnExecute: false\n          })\n        ].concat(bonusEvents.length > 0 ? [config('toolbarToggleButtonWith', bonusEvents)] : []),\n        getApi: getToggleApi,\n        onSetup: spec.onSetup\n      }, providersBackstage));\n    };\n    var fetchChoices = function (getApi, spec, providersBackstage) {\n      return function (comp) {\n        return Future.nu(function (callback) {\n          return spec.fetch(callback);\n        }).map(function (items) {\n          return Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, function (value) {\n            spec.onItemAction(getApi(comp), value);\n          }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, spec.select.getOr(never), providersBackstage), {\n            movement: deriveMenuMovement(spec.columns, spec.presets),\n            menuBehaviours: SimpleBehaviours.unnamedEvents(spec.columns !== 'auto' ? [] : [runOnAttached(function (comp, _se) {\n                detectSize(comp, 4, classForPreset(spec.presets)).each(function (_d) {\n                  var numRows = _d.numRows, numColumns = _d.numColumns;\n                  Keying.setGridSize(comp, numRows, numColumns);\n                });\n              })])\n          })));\n        });\n      };\n    };\n    var renderSplitButton = function (spec, sharedBackstage) {\n      var _d;\n      var displayChannel = generate$6('channel-update-split-dropdown-display');\n      var getApi = function (comp) {\n        return {\n          isDisabled: function () {\n            return Disabling.isDisabled(comp);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(comp, state);\n          },\n          setIconFill: function (id, value) {\n            descendant(comp.element, 'svg path[id=\"' + id + '\"], rect[id=\"' + id + '\"]').each(function (underlinePath) {\n              set$8(underlinePath, 'fill', value);\n            });\n          },\n          setIconStroke: function (id, value) {\n            descendant(comp.element, 'svg path[id=\"' + id + '\"], rect[id=\"' + id + '\"]').each(function (underlinePath) {\n              set$8(underlinePath, 'stroke', value);\n            });\n          },\n          setActive: function (state) {\n            set$8(comp.element, 'aria-pressed', state);\n            descendant(comp.element, 'span').each(function (button) {\n              comp.getSystem().getByDom(button).each(function (buttonComp) {\n                return Toggling.set(buttonComp, state);\n              });\n            });\n          },\n          isActive: function () {\n            return descendant(comp.element, 'span').exists(function (button) {\n              return comp.getSystem().getByDom(button).exists(Toggling.isOn);\n            });\n          }\n        };\n      };\n      var editorOffCell = Cell(noop);\n      var specialisation = {\n        getApi: getApi,\n        onSetup: spec.onSetup\n      };\n      return SplitDropdown.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-split-button'],\n          attributes: __assign({ 'aria-pressed': false }, getTooltipAttributes(spec.tooltip, sharedBackstage.providers))\n        },\n        onExecute: function (button) {\n          spec.onAction(getApi(button));\n        },\n        onItemExecute: function (_a, _b, _c) {\n        },\n        splitDropdownBehaviours: derive$1([\n          DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),\n          receivingConfig(),\n          config('split-dropdown-events', [\n            run$1(focusButtonEvent, Focusing.focus),\n            onControlAttached(specialisation, editorOffCell),\n            onControlDetached(specialisation, editorOffCell)\n          ]),\n          Unselecting.config({})\n        ]),\n        eventOrder: (_d = {}, _d[attachedToDom()] = [\n          'alloy.base.behaviour',\n          'split-dropdown-events'\n        ], _d),\n        toggleClass: 'tox-tbtn--enabled',\n        lazySink: sharedBackstage.getSink,\n        fetch: fetchChoices(getApi, spec, sharedBackstage.providers),\n        parts: { menu: part(false, spec.columns, spec.presets) },\n        components: [\n          SplitDropdown.parts.button(renderCommonStructure(spec.icon, spec.text, Optional.none(), Optional.some(displayChannel), Optional.some([Toggling.config({\n              toggleClass: 'tox-tbtn--enabled',\n              toggleOnExecute: false\n            })]), sharedBackstage.providers)),\n          SplitDropdown.parts.arrow({\n            dom: {\n              tag: 'button',\n              classes: [\n                'tox-tbtn',\n                'tox-split-button__chevron'\n              ],\n              innerHtml: get$1('chevron-down', sharedBackstage.providers.icons)\n            },\n            buttonBehaviours: derive$1([\n              DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),\n              receivingConfig(),\n              addFocusableBehaviour()\n            ])\n          }),\n          SplitDropdown.parts['aria-descriptor']({ text: sharedBackstage.providers.translate('To open the popup, press Shift+Enter') })\n        ]\n      });\n    };\n\n    var defaultToolbar = [\n      {\n        name: 'history',\n        items: [\n          'undo',\n          'redo'\n        ]\n      },\n      {\n        name: 'styles',\n        items: ['styleselect']\n      },\n      {\n        name: 'formatting',\n        items: [\n          'bold',\n          'italic'\n        ]\n      },\n      {\n        name: 'alignment',\n        items: [\n          'alignleft',\n          'aligncenter',\n          'alignright',\n          'alignjustify'\n        ]\n      },\n      {\n        name: 'indentation',\n        items: [\n          'outdent',\n          'indent'\n        ]\n      },\n      {\n        name: 'permanent pen',\n        items: ['permanentpen']\n      },\n      {\n        name: 'comments',\n        items: ['addcomment']\n      }\n    ];\n    var renderFromBridge = function (bridgeBuilder, render) {\n      return function (spec, extras, editor) {\n        var internal = bridgeBuilder(spec).mapError(function (errInfo) {\n          return formatError(errInfo);\n        }).getOrDie();\n        return render(internal, extras, editor);\n      };\n    };\n    var types = {\n      button: renderFromBridge(createToolbarButton, function (s, extras) {\n        return renderToolbarButton(s, extras.backstage.shared.providers);\n      }),\n      togglebutton: renderFromBridge(createToggleButton, function (s, extras) {\n        return renderToolbarToggleButton(s, extras.backstage.shared.providers);\n      }),\n      menubutton: renderFromBridge(createMenuButton, function (s, extras) {\n        return renderMenuButton(s, 'tox-tbtn', extras.backstage, Optional.none());\n      }),\n      splitbutton: renderFromBridge(createSplitButton, function (s, extras) {\n        return renderSplitButton(s, extras.backstage.shared);\n      }),\n      grouptoolbarbutton: renderFromBridge(createGroupToolbarButton, function (s, extras, editor) {\n        var _a;\n        var buttons = editor.ui.registry.getAll().buttons;\n        var identify = function (toolbar) {\n          return identifyButtons(editor, {\n            buttons: buttons,\n            toolbar: toolbar,\n            allowToolbarGroups: false\n          }, extras, Optional.none());\n        };\n        var attributes = (_a = {}, _a[Attribute] = extras.backstage.shared.header.isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop, _a);\n        switch (getToolbarMode(editor)) {\n        case ToolbarMode.floating:\n          return renderFloatingToolbarButton(s, extras.backstage, identify, attributes);\n        default:\n          throw new Error('Toolbar groups are only supported when using floating toolbar mode');\n        }\n      }),\n      styleSelectButton: function (editor, extras) {\n        return createStyleSelect(editor, extras.backstage);\n      },\n      fontsizeSelectButton: function (editor, extras) {\n        return createFontsizeSelect(editor, extras.backstage);\n      },\n      fontSelectButton: function (editor, extras) {\n        return createFontSelect(editor, extras.backstage);\n      },\n      formatButton: function (editor, extras) {\n        return createFormatSelect(editor, extras.backstage);\n      },\n      alignMenuButton: function (editor, extras) {\n        return createAlignSelect(editor, extras.backstage);\n      }\n    };\n    var extractFrom = function (spec, extras, editor) {\n      return get$e(types, spec.type).fold(function () {\n        console.error('skipping button defined by', spec);\n        return Optional.none();\n      }, function (render) {\n        return Optional.some(render(spec, extras, editor));\n      });\n    };\n    var bespokeButtons = {\n      styleselect: types.styleSelectButton,\n      fontsizeselect: types.fontsizeSelectButton,\n      fontselect: types.fontSelectButton,\n      formatselect: types.formatButton,\n      align: types.alignMenuButton\n    };\n    var removeUnusedDefaults = function (buttons) {\n      var filteredItemGroups = map$2(defaultToolbar, function (group) {\n        var items = filter$2(group.items, function (subItem) {\n          return has$2(buttons, subItem) || has$2(bespokeButtons, subItem);\n        });\n        return {\n          name: group.name,\n          items: items\n        };\n      });\n      return filter$2(filteredItemGroups, function (group) {\n        return group.items.length > 0;\n      });\n    };\n    var convertStringToolbar = function (strToolbar) {\n      var groupsStrings = strToolbar.split('|');\n      return map$2(groupsStrings, function (g) {\n        return { items: g.trim().split(' ') };\n      });\n    };\n    var isToolbarGroupSettingArray = function (toolbar) {\n      return isArrayOf(toolbar, function (t) {\n        return has$2(t, 'name') && has$2(t, 'items');\n      });\n    };\n    var createToolbar = function (toolbarConfig) {\n      var toolbar = toolbarConfig.toolbar;\n      var buttons = toolbarConfig.buttons;\n      if (toolbar === false) {\n        return [];\n      } else if (toolbar === undefined || toolbar === true) {\n        return removeUnusedDefaults(buttons);\n      } else if (isString(toolbar)) {\n        return convertStringToolbar(toolbar);\n      } else if (isToolbarGroupSettingArray(toolbar)) {\n        return toolbar;\n      } else {\n        console.error('Toolbar type should be string, string[], boolean or ToolbarGroup[]');\n        return [];\n      }\n    };\n    var lookupButton = function (editor, buttons, toolbarItem, allowToolbarGroups, extras, prefixes) {\n      return get$e(buttons, toolbarItem.toLowerCase()).orThunk(function () {\n        return prefixes.bind(function (ps) {\n          return findMap(ps, function (prefix) {\n            return get$e(buttons, prefix + toolbarItem.toLowerCase());\n          });\n        });\n      }).fold(function () {\n        return get$e(bespokeButtons, toolbarItem.toLowerCase()).map(function (r) {\n          return r(editor, extras);\n        }).orThunk(function () {\n          return Optional.none();\n        });\n      }, function (spec) {\n        if (spec.type === 'grouptoolbarbutton' && !allowToolbarGroups) {\n          console.warn('Ignoring the \\'' + toolbarItem + '\\' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.');\n          return Optional.none();\n        } else {\n          return extractFrom(spec, extras, editor);\n        }\n      });\n    };\n    var identifyButtons = function (editor, toolbarConfig, extras, prefixes) {\n      var toolbarGroups = createToolbar(toolbarConfig);\n      var groups = map$2(toolbarGroups, function (group) {\n        var items = bind$3(group.items, function (toolbarItem) {\n          return toolbarItem.trim().length === 0 ? [] : lookupButton(editor, toolbarConfig.buttons, toolbarItem, toolbarConfig.allowToolbarGroups, extras, prefixes).toArray();\n        });\n        return {\n          title: Optional.from(editor.translate(group.name)),\n          items: items\n        };\n      });\n      return filter$2(groups, function (group) {\n        return group.items.length > 0;\n      });\n    };\n\n    var setToolbar = function (editor, uiComponents, rawUiConfig, backstage) {\n      var comp = uiComponents.outerContainer;\n      var toolbarConfig = rawUiConfig.toolbar;\n      var toolbarButtonsConfig = rawUiConfig.buttons;\n      if (isArrayOf(toolbarConfig, isString)) {\n        var toolbars = toolbarConfig.map(function (t) {\n          var config = {\n            toolbar: t,\n            buttons: toolbarButtonsConfig,\n            allowToolbarGroups: rawUiConfig.allowToolbarGroups\n          };\n          return identifyButtons(editor, config, { backstage: backstage }, Optional.none());\n        });\n        OuterContainer.setToolbars(comp, toolbars);\n      } else {\n        OuterContainer.setToolbar(comp, identifyButtons(editor, rawUiConfig, { backstage: backstage }, Optional.none()));\n      }\n    };\n\n    var detection = detect$1();\n    var isiOS12 = detection.os.isiOS() && detection.os.version.major <= 12;\n    var setupEvents$1 = function (editor, uiComponents) {\n      var dom = editor.dom;\n      var contentWindow = editor.getWin();\n      var initialDocEle = editor.getDoc().documentElement;\n      var lastWindowDimensions = Cell(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n      var lastDocumentDimensions = Cell(SugarPosition(initialDocEle.offsetWidth, initialDocEle.offsetHeight));\n      var resizeWindow = function () {\n        var outer = lastWindowDimensions.get();\n        if (outer.left !== contentWindow.innerWidth || outer.top !== contentWindow.innerHeight) {\n          lastWindowDimensions.set(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n          fireResizeContent(editor);\n        }\n      };\n      var resizeDocument = function () {\n        var docEle = editor.getDoc().documentElement;\n        var inner = lastDocumentDimensions.get();\n        if (inner.left !== docEle.offsetWidth || inner.top !== docEle.offsetHeight) {\n          lastDocumentDimensions.set(SugarPosition(docEle.offsetWidth, docEle.offsetHeight));\n          fireResizeContent(editor);\n        }\n      };\n      var scroll = function (e) {\n        return fireScrollContent(editor, e);\n      };\n      dom.bind(contentWindow, 'resize', resizeWindow);\n      dom.bind(contentWindow, 'scroll', scroll);\n      var elementLoad = capture(SugarElement.fromDom(editor.getBody()), 'load', resizeDocument);\n      var mothership = uiComponents.uiMothership.element;\n      editor.on('hide', function () {\n        set$7(mothership, 'display', 'none');\n      });\n      editor.on('show', function () {\n        remove$6(mothership, 'display');\n      });\n      editor.on('NodeChange', resizeDocument);\n      editor.on('remove', function () {\n        elementLoad.unbind();\n        dom.unbind(contentWindow, 'resize', resizeWindow);\n        dom.unbind(contentWindow, 'scroll', scroll);\n        contentWindow = null;\n      });\n    };\n    var render$1 = function (editor, uiComponents, rawUiConfig, backstage, args) {\n      var lastToolbarWidth = Cell(0);\n      var outerContainer = uiComponents.outerContainer;\n      iframe(editor);\n      var eTargetNode = SugarElement.fromDom(args.targetNode);\n      var uiRoot = getContentContainer(getRootNode(eTargetNode));\n      attachSystemAfter(eTargetNode, uiComponents.mothership);\n      attachSystem(uiRoot, uiComponents.uiMothership);\n      editor.on('PostRender', function () {\n        setToolbar(editor, uiComponents, rawUiConfig, backstage);\n        lastToolbarWidth.set(editor.getWin().innerWidth);\n        OuterContainer.setMenubar(outerContainer, identifyMenus(editor, rawUiConfig));\n        OuterContainer.setSidebar(outerContainer, rawUiConfig.sidebar);\n        setupEvents$1(editor, uiComponents);\n      });\n      var socket = OuterContainer.getSocket(outerContainer).getOrDie('Could not find expected socket element');\n      if (isiOS12) {\n        setAll(socket.element, {\n          'overflow': 'scroll',\n          '-webkit-overflow-scrolling': 'touch'\n        });\n        var limit = first(function () {\n          editor.fire('ScrollContent');\n        }, 20);\n        var unbinder = bind(socket.element, 'scroll', limit.throttle);\n        editor.on('remove', unbinder.unbind);\n      }\n      setupReadonlyModeSwitch(editor, uiComponents);\n      editor.addCommand('ToggleSidebar', function (_ui, value) {\n        OuterContainer.toggleSidebar(outerContainer, value);\n        editor.fire('ToggleSidebar');\n      });\n      editor.addQueryValueHandler('ToggleSidebar', function () {\n        return OuterContainer.whichSidebar(outerContainer);\n      });\n      var toolbarMode = getToolbarMode(editor);\n      var refreshDrawer = function () {\n        OuterContainer.refreshToolbar(uiComponents.outerContainer);\n      };\n      if (toolbarMode === ToolbarMode.sliding || toolbarMode === ToolbarMode.floating) {\n        editor.on('ResizeWindow ResizeEditor ResizeContent', function () {\n          var width = editor.getWin().innerWidth;\n          if (width !== lastToolbarWidth.get()) {\n            refreshDrawer();\n            lastToolbarWidth.set(width);\n          }\n        });\n      }\n      var api = {\n        enable: function () {\n          broadcastReadonly(uiComponents, false);\n        },\n        disable: function () {\n          broadcastReadonly(uiComponents, true);\n        },\n        isDisabled: function () {\n          return Disabling.isDisabled(outerContainer);\n        }\n      };\n      return {\n        iframeContainer: socket.element.dom,\n        editorContainer: outerContainer.element.dom,\n        api: api\n      };\n    };\n\n    var Iframe = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render$1\n    });\n\n    var parseToInt = function (val) {\n      var re = /^[0-9\\.]+(|px)$/i;\n      if (re.test('' + val)) {\n        return Optional.some(parseInt('' + val, 10));\n      }\n      return Optional.none();\n    };\n    var numToPx = function (val) {\n      return isNumber(val) ? val + 'px' : val;\n    };\n    var calcCappedSize = function (size, minSize, maxSize) {\n      var minOverride = minSize.filter(function (min) {\n        return size < min;\n      });\n      var maxOverride = maxSize.filter(function (max) {\n        return size > max;\n      });\n      return minOverride.or(maxOverride).getOr(size);\n    };\n\n    var getHeight = function (editor) {\n      var baseHeight = getHeightSetting(editor);\n      var minHeight = getMinHeightSetting(editor);\n      var maxHeight = getMaxHeightSetting(editor);\n      return parseToInt(baseHeight).map(function (height) {\n        return calcCappedSize(height, minHeight, maxHeight);\n      });\n    };\n    var getHeightWithFallback = function (editor) {\n      var height = getHeight(editor);\n      return height.getOr(getHeightSetting(editor));\n    };\n    var getWidth = function (editor) {\n      var baseWidth = getWidthSetting(editor);\n      var minWidth = getMinWidthSetting(editor);\n      var maxWidth = getMaxWidthSetting(editor);\n      return parseToInt(baseWidth).map(function (width) {\n        return calcCappedSize(width, minWidth, maxWidth);\n      });\n    };\n    var getWidthWithFallback = function (editor) {\n      var width = getWidth(editor);\n      return width.getOr(getWidthSetting(editor));\n    };\n\n    var InlineHeader = function (editor, targetElm, uiComponents, backstage, floatContainer) {\n      var uiMothership = uiComponents.uiMothership, outerContainer = uiComponents.outerContainer;\n      var DOM = global$b.DOM;\n      var useFixedToolbarContainer = useFixedContainer(editor);\n      var isSticky = isStickyToolbar(editor);\n      var editorMaxWidthOpt = getMaxWidthSetting(editor).or(getWidth(editor));\n      var headerBackstage = backstage.shared.header;\n      var isPositionedAtTop = headerBackstage.isPositionedAtTop;\n      var toolbarMode = getToolbarMode(editor);\n      var isSplitToolbar = toolbarMode === ToolbarMode.sliding || toolbarMode === ToolbarMode.floating;\n      var visible = Cell(false);\n      var isVisible = function () {\n        return visible.get() && !editor.removed;\n      };\n      var calcToolbarOffset = function (toolbar) {\n        return isSplitToolbar ? toolbar.fold(constant$1(0), function (tbar) {\n          return tbar.components().length > 1 ? get$b(tbar.components()[1].element) : 0;\n        }) : 0;\n      };\n      var calcMode = function (container) {\n        switch (getToolbarLocation(editor)) {\n        case ToolbarLocation.auto:\n          var toolbar_1 = OuterContainer.getToolbar(outerContainer);\n          var offset = calcToolbarOffset(toolbar_1);\n          var toolbarHeight = get$b(container.element) - offset;\n          var targetBounds = box$1(targetElm);\n          var roomAtTop = targetBounds.y > toolbarHeight;\n          if (roomAtTop) {\n            return 'top';\n          } else {\n            var doc = documentElement(targetElm);\n            var docHeight = Math.max(doc.dom.scrollHeight, get$b(doc));\n            var roomAtBottom = targetBounds.bottom < docHeight - toolbarHeight;\n            if (roomAtBottom) {\n              return 'bottom';\n            } else {\n              var winBounds = win();\n              var isRoomAtBottomViewport = winBounds.bottom < targetBounds.bottom - toolbarHeight;\n              return isRoomAtBottomViewport ? 'bottom' : 'top';\n            }\n          }\n        case ToolbarLocation.bottom:\n          return 'bottom';\n        case ToolbarLocation.top:\n        default:\n          return 'top';\n        }\n      };\n      var setupMode = function (mode) {\n        var container = floatContainer.get();\n        Docking.setModes(container, [mode]);\n        headerBackstage.setDockingMode(mode);\n        var verticalDir = isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop;\n        set$8(container.element, Attribute, verticalDir);\n      };\n      var updateChromeWidth = function () {\n        var maxWidth = editorMaxWidthOpt.getOrThunk(function () {\n          var bodyMargin = parseToInt(get$c(body(), 'margin-left')).getOr(0);\n          return get$a(body()) - absolute$3(targetElm).left + bodyMargin;\n        });\n        set$7(floatContainer.get().element, 'max-width', maxWidth + 'px');\n      };\n      var updateChromePosition = function () {\n        var toolbar = OuterContainer.getToolbar(outerContainer);\n        var offset = calcToolbarOffset(toolbar);\n        var targetBounds = box$1(targetElm);\n        var top = isPositionedAtTop() ? Math.max(targetBounds.y - get$b(floatContainer.get().element) + offset, 0) : targetBounds.bottom;\n        setAll(outerContainer.element, {\n          position: 'absolute',\n          top: Math.round(top) + 'px',\n          left: Math.round(targetBounds.x) + 'px'\n        });\n      };\n      var repositionPopups$1 = function () {\n        uiMothership.broadcastOn([repositionPopups()], {});\n      };\n      var updateChromeUi = function (resetDocking) {\n        if (resetDocking === void 0) {\n          resetDocking = false;\n        }\n        if (!isVisible()) {\n          return;\n        }\n        if (!useFixedToolbarContainer) {\n          updateChromeWidth();\n        }\n        if (isSplitToolbar) {\n          OuterContainer.refreshToolbar(outerContainer);\n        }\n        if (!useFixedToolbarContainer) {\n          updateChromePosition();\n        }\n        if (isSticky) {\n          var floatContainerComp = floatContainer.get();\n          resetDocking ? Docking.reset(floatContainerComp) : Docking.refresh(floatContainerComp);\n        }\n        repositionPopups$1();\n      };\n      var updateMode = function (updateUi) {\n        if (updateUi === void 0) {\n          updateUi = true;\n        }\n        if (useFixedToolbarContainer || !isSticky || !isVisible()) {\n          return;\n        }\n        var currentMode = headerBackstage.getDockingMode();\n        var newMode = calcMode(floatContainer.get());\n        if (newMode !== currentMode) {\n          setupMode(newMode);\n          if (updateUi) {\n            updateChromeUi(true);\n          }\n        }\n      };\n      var show = function () {\n        visible.set(true);\n        set$7(outerContainer.element, 'display', 'flex');\n        DOM.addClass(editor.getBody(), 'mce-edit-focus');\n        remove$6(uiMothership.element, 'display');\n        updateMode(false);\n        updateChromeUi();\n      };\n      var hide = function () {\n        visible.set(false);\n        if (uiComponents.outerContainer) {\n          set$7(outerContainer.element, 'display', 'none');\n          DOM.removeClass(editor.getBody(), 'mce-edit-focus');\n        }\n        set$7(uiMothership.element, 'display', 'none');\n      };\n      return {\n        isVisible: isVisible,\n        isPositionedAtTop: isPositionedAtTop,\n        show: show,\n        hide: hide,\n        update: updateChromeUi,\n        updateMode: updateMode,\n        repositionPopups: repositionPopups$1\n      };\n    };\n\n    var getTargetPosAndBounds = function (targetElm, isToolbarTop) {\n      var bounds = box$1(targetElm);\n      return {\n        pos: isToolbarTop ? bounds.y : bounds.bottom,\n        bounds: bounds\n      };\n    };\n    var setupEvents = function (editor, targetElm, ui, toolbarPersist) {\n      var prevPosAndBounds = Cell(getTargetPosAndBounds(targetElm, ui.isPositionedAtTop()));\n      var resizeContent = function (e) {\n        var _a = getTargetPosAndBounds(targetElm, ui.isPositionedAtTop()), pos = _a.pos, bounds = _a.bounds;\n        var _b = prevPosAndBounds.get(), prevPos = _b.pos, prevBounds = _b.bounds;\n        var hasResized = bounds.height !== prevBounds.height || bounds.width !== prevBounds.width;\n        prevPosAndBounds.set({\n          pos: pos,\n          bounds: bounds\n        });\n        if (hasResized) {\n          fireResizeContent(editor, e);\n        }\n        if (ui.isVisible()) {\n          if (prevPos !== pos) {\n            ui.update(true);\n          } else if (hasResized) {\n            ui.updateMode();\n            ui.repositionPopups();\n          }\n        }\n      };\n      if (!toolbarPersist) {\n        editor.on('activate', ui.show);\n        editor.on('deactivate', ui.hide);\n      }\n      editor.on('SkinLoaded ResizeWindow', function () {\n        return ui.update(true);\n      });\n      editor.on('NodeChange keydown', function (e) {\n        global$f.requestAnimationFrame(function () {\n          return resizeContent(e);\n        });\n      });\n      editor.on('ScrollWindow', function () {\n        return ui.updateMode();\n      });\n      var elementLoad = unbindable();\n      elementLoad.set(capture(SugarElement.fromDom(editor.getBody()), 'load', resizeContent));\n      editor.on('remove', function () {\n        elementLoad.clear();\n      });\n    };\n    var render = function (editor, uiComponents, rawUiConfig, backstage, args) {\n      var mothership = uiComponents.mothership, uiMothership = uiComponents.uiMothership, outerContainer = uiComponents.outerContainer;\n      var floatContainer = Cell(null);\n      var targetElm = SugarElement.fromDom(args.targetNode);\n      var ui = InlineHeader(editor, targetElm, uiComponents, backstage, floatContainer);\n      var toolbarPersist = isToolbarPersist(editor);\n      inline(editor);\n      var render = function () {\n        if (floatContainer.get()) {\n          ui.show();\n          return;\n        }\n        floatContainer.set(OuterContainer.getHeader(outerContainer).getOrDie());\n        var uiContainer = getUiContainer(editor);\n        attachSystem(uiContainer, mothership);\n        attachSystem(uiContainer, uiMothership);\n        setToolbar(editor, uiComponents, rawUiConfig, backstage);\n        OuterContainer.setMenubar(outerContainer, identifyMenus(editor, rawUiConfig));\n        ui.show();\n        setupEvents(editor, targetElm, ui, toolbarPersist);\n        editor.nodeChanged();\n      };\n      editor.on('show', render);\n      editor.on('hide', ui.hide);\n      if (!toolbarPersist) {\n        editor.on('focus', render);\n        editor.on('blur', ui.hide);\n      }\n      editor.on('init', function () {\n        if (editor.hasFocus() || toolbarPersist) {\n          render();\n        }\n      });\n      setupReadonlyModeSwitch(editor, uiComponents);\n      var api = {\n        show: function () {\n          ui.show();\n        },\n        hide: function () {\n          ui.hide();\n        },\n        enable: function () {\n          broadcastReadonly(uiComponents, false);\n        },\n        disable: function () {\n          broadcastReadonly(uiComponents, true);\n        },\n        isDisabled: function () {\n          return Disabling.isDisabled(outerContainer);\n        }\n      };\n      return {\n        editorContainer: outerContainer.element.dom,\n        api: api\n      };\n    };\n\n    var Inline = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render\n    });\n\n    var showContextToolbarEvent = 'contexttoolbar-show';\n    var hideContextToolbarEvent = 'contexttoolbar-hide';\n\n    var getFormApi = function (input) {\n      return {\n        hide: function () {\n          return emit(input, sandboxClose());\n        },\n        getValue: function () {\n          return Representing.getValue(input);\n        }\n      };\n    };\n    var runOnExecute = function (memInput, original) {\n      return run$1(internalToolbarButtonExecute, function (comp, se) {\n        var input = memInput.get(comp);\n        var formApi = getFormApi(input);\n        original.onAction(formApi, se.event.buttonApi);\n      });\n    };\n    var renderContextButton = function (memInput, button, extras) {\n      var _a = button.original; _a.primary; var rest = __rest(_a, ['primary']);\n      var bridged = getOrDie(createToolbarButton(__assign(__assign({}, rest), {\n        type: 'button',\n        onAction: noop\n      })));\n      return renderToolbarButtonWith(bridged, extras.backstage.shared.providers, [runOnExecute(memInput, button)]);\n    };\n    var renderContextToggleButton = function (memInput, button, extras) {\n      var _a = button.original; _a.primary; var rest = __rest(_a, ['primary']);\n      var bridged = getOrDie(createToggleButton(__assign(__assign({}, rest), {\n        type: 'togglebutton',\n        onAction: noop\n      })));\n      return renderToolbarToggleButtonWith(bridged, extras.backstage.shared.providers, [runOnExecute(memInput, button)]);\n    };\n    var generateOne = function (memInput, button, providersBackstage) {\n      var extras = { backstage: { shared: { providers: providersBackstage } } };\n      if (button.type === 'contextformtogglebutton') {\n        return renderContextToggleButton(memInput, button, extras);\n      } else {\n        return renderContextButton(memInput, button, extras);\n      }\n    };\n    var generate = function (memInput, buttons, providersBackstage) {\n      var mementos = map$2(buttons, function (button) {\n        return record(generateOne(memInput, button, providersBackstage));\n      });\n      var asSpecs = function () {\n        return map$2(mementos, function (mem) {\n          return mem.asSpec();\n        });\n      };\n      var findPrimary = function (compInSystem) {\n        return findMap(buttons, function (button, i) {\n          if (button.primary) {\n            return Optional.from(mementos[i]).bind(function (mem) {\n              return mem.getOpt(compInSystem);\n            }).filter(not(Disabling.isDisabled));\n          } else {\n            return Optional.none();\n          }\n        });\n      };\n      return {\n        asSpecs: asSpecs,\n        findPrimary: findPrimary\n      };\n    };\n\n    var buildInitGroups = function (ctx, providers) {\n      var inputAttributes = ctx.label.fold(function () {\n        return {};\n      }, function (label) {\n        return { 'aria-label': label };\n      });\n      var memInput = record(Input.sketch({\n        inputClasses: [\n          'tox-toolbar-textfield',\n          'tox-toolbar-nav-js'\n        ],\n        data: ctx.initValue(),\n        inputAttributes: inputAttributes,\n        selectOnFocus: true,\n        inputBehaviours: derive$1([Keying.config({\n            mode: 'special',\n            onEnter: function (input) {\n              return commands.findPrimary(input).map(function (primary) {\n                emitExecute(primary);\n                return true;\n              });\n            },\n            onLeft: function (comp, se) {\n              se.cut();\n              return Optional.none();\n            },\n            onRight: function (comp, se) {\n              se.cut();\n              return Optional.none();\n            }\n          })])\n      }));\n      var commands = generate(memInput, ctx.commands, providers);\n      return [\n        {\n          title: Optional.none(),\n          items: [memInput.asSpec()]\n        },\n        {\n          title: Optional.none(),\n          items: commands.asSpecs()\n        }\n      ];\n    };\n    var renderContextForm = function (toolbarType, ctx, providers) {\n      return renderToolbar({\n        type: toolbarType,\n        uid: generate$6('context-toolbar'),\n        initGroups: buildInitGroups(ctx, providers),\n        onEscape: Optional.none,\n        cyclicKeying: true,\n        providers: providers\n      });\n    };\n    var ContextForm = {\n      renderContextForm: renderContextForm,\n      buildInitGroups: buildInitGroups\n    };\n\n    var isVerticalOverlap = function (a, b, threshold) {\n      if (threshold === void 0) {\n        threshold = 0.01;\n      }\n      return b.bottom - a.y >= threshold && a.bottom - b.y >= threshold;\n    };\n    var getRangeRect = function (rng) {\n      var rect = rng.getBoundingClientRect();\n      if (rect.height <= 0 && rect.width <= 0) {\n        var leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset).element;\n        var elm = isText$1(leaf$1) ? parent(leaf$1) : Optional.some(leaf$1);\n        return elm.filter(isElement$2).map(function (e) {\n          return e.dom.getBoundingClientRect();\n        }).getOr(rect);\n      } else {\n        return rect;\n      }\n    };\n    var getSelectionBounds = function (editor) {\n      var rng = editor.selection.getRng();\n      var rect = getRangeRect(rng);\n      if (editor.inline) {\n        var scroll_1 = get$9();\n        return bounds(scroll_1.left + rect.left, scroll_1.top + rect.top, rect.width, rect.height);\n      } else {\n        var bodyPos = absolute$2(SugarElement.fromDom(editor.getBody()));\n        return bounds(bodyPos.x + rect.left, bodyPos.y + rect.top, rect.width, rect.height);\n      }\n    };\n    var getAnchorElementBounds = function (editor, lastElement) {\n      return lastElement.filter(inBody).map(absolute$2).getOrThunk(function () {\n        return getSelectionBounds(editor);\n      });\n    };\n    var getHorizontalBounds = function (contentAreaBox, viewportBounds, margin) {\n      var x = Math.max(contentAreaBox.x + margin, viewportBounds.x);\n      var right = Math.min(contentAreaBox.right - margin, viewportBounds.right);\n      return {\n        x: x,\n        width: right - x\n      };\n    };\n    var getVerticalBounds = function (editor, contentAreaBox, viewportBounds, isToolbarLocationTop, toolbarType, margin) {\n      var container = SugarElement.fromDom(editor.getContainer());\n      var header = descendant(container, '.tox-editor-header').getOr(container);\n      var headerBox = box$1(header);\n      var isToolbarBelowContentArea = headerBox.y >= contentAreaBox.bottom;\n      var isToolbarAbove = isToolbarLocationTop && !isToolbarBelowContentArea;\n      if (editor.inline && isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: viewportBounds.bottom\n        };\n      }\n      if (editor.inline && !isToolbarAbove) {\n        return {\n          y: viewportBounds.y,\n          bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n        };\n      }\n      var containerBounds = toolbarType === 'line' ? box$1(container) : contentAreaBox;\n      if (isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: Math.min(containerBounds.bottom - margin, viewportBounds.bottom)\n        };\n      }\n      return {\n        y: Math.max(containerBounds.y + margin, viewportBounds.y),\n        bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n      };\n    };\n    var getContextToolbarBounds = function (editor, sharedBackstage, toolbarType, margin) {\n      if (margin === void 0) {\n        margin = 0;\n      }\n      var viewportBounds = getBounds$3(window);\n      var contentAreaBox = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n      var toolbarOrMenubarEnabled = isMenubarEnabled(editor) || isToolbarEnabled(editor) || isMultipleToolbars(editor);\n      var _a = getHorizontalBounds(contentAreaBox, viewportBounds, margin), x = _a.x, width = _a.width;\n      if (editor.inline && !toolbarOrMenubarEnabled) {\n        return bounds(x, viewportBounds.y, width, viewportBounds.height);\n      } else {\n        var isToolbarTop = sharedBackstage.header.isPositionedAtTop();\n        var _b = getVerticalBounds(editor, contentAreaBox, viewportBounds, isToolbarTop, toolbarType, margin), y = _b.y, bottom = _b.bottom;\n        return bounds(x, y, width, bottom - y);\n      }\n    };\n\n    var bubbleSize$1 = 12;\n    var bubbleAlignments$1 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top'],\n      inset: ['tox-pop--inset']\n    };\n    var anchorOverrides = {\n      maxHeightFunction: expandable$1(),\n      maxWidthFunction: expandable()\n    };\n    var isEntireElementSelected = function (editor, elem) {\n      var rng = editor.selection.getRng();\n      var leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset);\n      return rng.startContainer === rng.endContainer && rng.startOffset === rng.endOffset - 1 && eq(leaf$1.element, elem);\n    };\n    var preservePosition = function (elem, position, f) {\n      var currentPosition = getRaw(elem, 'position');\n      set$7(elem, 'position', position);\n      var result = f(elem);\n      currentPosition.each(function (pos) {\n        return set$7(elem, 'position', pos);\n      });\n      return result;\n    };\n    var shouldUseInsetLayouts = function (position) {\n      return position === 'node';\n    };\n    var determineInsetLayout = function (editor, contextbar, elem, data, bounds) {\n      var selectionBounds = getSelectionBounds(editor);\n      var isSameAnchorElement = data.lastElement().exists(function (prev) {\n        return eq(elem, prev);\n      });\n      if (isEntireElementSelected(editor, elem)) {\n        return isSameAnchorElement ? preserve : north;\n      } else if (isSameAnchorElement) {\n        return preservePosition(contextbar, data.getMode(), function () {\n          var isOverlapping = isVerticalOverlap(selectionBounds, box$1(contextbar));\n          return isOverlapping && !data.isReposition() ? flip$2 : preserve;\n        });\n      } else {\n        var yBounds = data.getMode() === 'fixed' ? bounds.y + get$9().top : bounds.y;\n        var contextbarHeight = get$b(contextbar) + bubbleSize$1;\n        return yBounds + contextbarHeight <= selectionBounds.y ? north : south;\n      }\n    };\n    var getAnchorSpec$2 = function (editor, mobile, data, position) {\n      var smartInsetLayout = function (elem) {\n        return function (anchor, element, bubbles, placee, bounds) {\n          var layout = determineInsetLayout(editor, placee, elem, data, bounds);\n          var newAnchor = __assign(__assign({}, anchor), {\n            y: bounds.y,\n            height: bounds.height\n          });\n          return __assign(__assign({}, layout(newAnchor, element, bubbles, placee, bounds)), { alwaysFit: true });\n        };\n      };\n      var getInsetLayouts = function (elem) {\n        return shouldUseInsetLayouts(position) ? [smartInsetLayout(elem)] : [];\n      };\n      var desktopAnchorSpecLayouts = {\n        onLtr: function (elem) {\n          return [\n            north$2,\n            south$2,\n            northeast$2,\n            southeast$2,\n            northwest$2,\n            southwest$2\n          ].concat(getInsetLayouts(elem));\n        },\n        onRtl: function (elem) {\n          return [\n            north$2,\n            south$2,\n            northwest$2,\n            southwest$2,\n            northeast$2,\n            southeast$2\n          ].concat(getInsetLayouts(elem));\n        }\n      };\n      var mobileAnchorSpecLayouts = {\n        onLtr: function (elem) {\n          return [\n            south$2,\n            southeast$2,\n            southwest$2,\n            northeast$2,\n            northwest$2,\n            north$2\n          ].concat(getInsetLayouts(elem));\n        },\n        onRtl: function (elem) {\n          return [\n            south$2,\n            southwest$2,\n            southeast$2,\n            northwest$2,\n            northeast$2,\n            north$2\n          ].concat(getInsetLayouts(elem));\n        }\n      };\n      return mobile ? mobileAnchorSpecLayouts : desktopAnchorSpecLayouts;\n    };\n    var getAnchorLayout = function (editor, position, isTouch, data) {\n      if (position === 'line') {\n        return {\n          bubble: nu$5(bubbleSize$1, 0, bubbleAlignments$1),\n          layouts: {\n            onLtr: function () {\n              return [east$2];\n            },\n            onRtl: function () {\n              return [west$2];\n            }\n          },\n          overrides: anchorOverrides\n        };\n      } else {\n        return {\n          bubble: nu$5(0, bubbleSize$1, bubbleAlignments$1, 1 / bubbleSize$1),\n          layouts: getAnchorSpec$2(editor, isTouch, data, position),\n          overrides: anchorOverrides\n        };\n      }\n    };\n\n    var matchTargetWith = function (elem, candidates) {\n      var ctxs = filter$2(candidates, function (toolbarApi) {\n        return toolbarApi.predicate(elem.dom);\n      });\n      var _a = partition$3(ctxs, function (t) {\n          return t.type === 'contexttoolbar';\n        }), pass = _a.pass, fail = _a.fail;\n      return {\n        contextToolbars: pass,\n        contextForms: fail\n      };\n    };\n    var filterByPositionForStartNode = function (toolbars) {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        var doesPositionExist = function (value) {\n          return exists(toolbars, function (t) {\n            return t.position === value;\n          });\n        };\n        var filterToolbarsByPosition = function (value) {\n          return filter$2(toolbars, function (t) {\n            return t.position === value;\n          });\n        };\n        var hasSelectionToolbars = doesPositionExist('selection');\n        var hasNodeToolbars = doesPositionExist('node');\n        if (hasSelectionToolbars || hasNodeToolbars) {\n          if (hasNodeToolbars && hasSelectionToolbars) {\n            var nodeToolbars = filterToolbarsByPosition('node');\n            var selectionToolbars = map$2(filterToolbarsByPosition('selection'), function (t) {\n              return __assign(__assign({}, t), { position: 'node' });\n            });\n            return nodeToolbars.concat(selectionToolbars);\n          } else {\n            return hasSelectionToolbars ? filterToolbarsByPosition('selection') : filterToolbarsByPosition('node');\n          }\n        } else {\n          return filterToolbarsByPosition('line');\n        }\n      }\n    };\n    var filterByPositionForAncestorNode = function (toolbars) {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        var findPosition_1 = function (value) {\n          return find$5(toolbars, function (t) {\n            return t.position === value;\n          });\n        };\n        var basePosition = findPosition_1('selection').orThunk(function () {\n          return findPosition_1('node');\n        }).orThunk(function () {\n          return findPosition_1('line');\n        }).map(function (t) {\n          return t.position;\n        });\n        return basePosition.fold(function () {\n          return [];\n        }, function (pos) {\n          return filter$2(toolbars, function (t) {\n            return t.position === pos;\n          });\n        });\n      }\n    };\n    var matchStartNode = function (elem, nodeCandidates, editorCandidates) {\n      var nodeMatches = matchTargetWith(elem, nodeCandidates);\n      if (nodeMatches.contextForms.length > 0) {\n        return Optional.some({\n          elem: elem,\n          toolbars: [nodeMatches.contextForms[0]]\n        });\n      } else {\n        var editorMatches = matchTargetWith(elem, editorCandidates);\n        if (editorMatches.contextForms.length > 0) {\n          return Optional.some({\n            elem: elem,\n            toolbars: [editorMatches.contextForms[0]]\n          });\n        } else if (nodeMatches.contextToolbars.length > 0 || editorMatches.contextToolbars.length > 0) {\n          var toolbars = filterByPositionForStartNode(nodeMatches.contextToolbars.concat(editorMatches.contextToolbars));\n          return Optional.some({\n            elem: elem,\n            toolbars: toolbars\n          });\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n    var matchAncestor = function (isRoot, startNode, scopes) {\n      if (isRoot(startNode)) {\n        return Optional.none();\n      } else {\n        return ancestor$2(startNode, function (ancestorElem) {\n          if (isElement$2(ancestorElem)) {\n            var _a = matchTargetWith(ancestorElem, scopes.inNodeScope), contextToolbars = _a.contextToolbars, contextForms = _a.contextForms;\n            var toolbars = contextForms.length > 0 ? contextForms : filterByPositionForAncestorNode(contextToolbars);\n            return toolbars.length > 0 ? Optional.some({\n              elem: ancestorElem,\n              toolbars: toolbars\n            }) : Optional.none();\n          } else {\n            return Optional.none();\n          }\n        }, isRoot);\n      }\n    };\n    var lookup$1 = function (scopes, editor) {\n      var rootElem = SugarElement.fromDom(editor.getBody());\n      var isRoot = function (elem) {\n        return eq(elem, rootElem);\n      };\n      var isOutsideRoot = function (startNode) {\n        return !isRoot(startNode) && !contains(rootElem, startNode);\n      };\n      var startNode = SugarElement.fromDom(editor.selection.getNode());\n      if (isOutsideRoot(startNode)) {\n        return Optional.none();\n      }\n      return matchStartNode(startNode, scopes.inNodeScope, scopes.inEditorScope).orThunk(function () {\n        return matchAncestor(isRoot, startNode, scopes);\n      });\n    };\n\n    var categorise = function (contextToolbars, navigate) {\n      var forms = {};\n      var inNodeScope = [];\n      var inEditorScope = [];\n      var formNavigators = {};\n      var lookupTable = {};\n      var registerForm = function (key, toolbarSpec) {\n        var contextForm = getOrDie(createContextForm(toolbarSpec));\n        forms[key] = contextForm;\n        contextForm.launch.map(function (launch) {\n          formNavigators['form:' + key + ''] = __assign(__assign({}, toolbarSpec.launch), {\n            type: launch.type === 'contextformtogglebutton' ? 'togglebutton' : 'button',\n            onAction: function () {\n              navigate(contextForm);\n            }\n          });\n        });\n        if (contextForm.scope === 'editor') {\n          inEditorScope.push(contextForm);\n        } else {\n          inNodeScope.push(contextForm);\n        }\n        lookupTable[key] = contextForm;\n      };\n      var registerToolbar = function (key, toolbarSpec) {\n        createContextToolbar(toolbarSpec).each(function (contextToolbar) {\n          if (toolbarSpec.scope === 'editor') {\n            inEditorScope.push(contextToolbar);\n          } else {\n            inNodeScope.push(contextToolbar);\n          }\n          lookupTable[key] = contextToolbar;\n        });\n      };\n      var keys$1 = keys(contextToolbars);\n      each$1(keys$1, function (key) {\n        var toolbarApi = contextToolbars[key];\n        if (toolbarApi.type === 'contextform') {\n          registerForm(key, toolbarApi);\n        } else if (toolbarApi.type === 'contexttoolbar') {\n          registerToolbar(key, toolbarApi);\n        }\n      });\n      return {\n        forms: forms,\n        inNodeScope: inNodeScope,\n        inEditorScope: inEditorScope,\n        lookupTable: lookupTable,\n        formNavigators: formNavigators\n      };\n    };\n\n    var forwardSlideEvent = generate$6('forward-slide');\n    var backSlideEvent = generate$6('backward-slide');\n    var changeSlideEvent = generate$6('change-slide-event');\n    var resizingClass = 'tox-pop--resizing';\n    var renderContextToolbar = function (spec) {\n      var stack = Cell([]);\n      return InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-pop']\n        },\n        fireDismissalEventInstead: { event: 'doNotDismissYet' },\n        onShow: function (comp) {\n          stack.set([]);\n          InlineView.getContent(comp).each(function (c) {\n            remove$6(c.element, 'visibility');\n          });\n          remove$2(comp.element, resizingClass);\n          remove$6(comp.element, 'width');\n        },\n        inlineBehaviours: derive$1([\n          config('context-toolbar-events', [\n            runOnSource(transitionend(), function (comp, se) {\n              if (se.event.raw.propertyName === 'width') {\n                remove$2(comp.element, resizingClass);\n                remove$6(comp.element, 'width');\n              }\n            }),\n            run$1(changeSlideEvent, function (comp, se) {\n              var elem = comp.element;\n              remove$6(elem, 'width');\n              var currentWidth = get$a(elem);\n              InlineView.setContent(comp, se.event.contents);\n              add$2(elem, resizingClass);\n              var newWidth = get$a(elem);\n              set$7(elem, 'width', currentWidth + 'px');\n              InlineView.getContent(comp).each(function (newContents) {\n                se.event.focus.bind(function (f) {\n                  focus$3(f);\n                  return search(elem);\n                }).orThunk(function () {\n                  Keying.focusIn(newContents);\n                  return active(getRootNode(elem));\n                });\n              });\n              global$f.setTimeout(function () {\n                set$7(comp.element, 'width', newWidth + 'px');\n              }, 0);\n            }),\n            run$1(forwardSlideEvent, function (comp, se) {\n              InlineView.getContent(comp).each(function (oldContents) {\n                stack.set(stack.get().concat([{\n                    bar: oldContents,\n                    focus: active(getRootNode(comp.element))\n                  }]));\n              });\n              emitWith(comp, changeSlideEvent, {\n                contents: se.event.forwardContents,\n                focus: Optional.none()\n              });\n            }),\n            run$1(backSlideEvent, function (comp, _se) {\n              last$2(stack.get()).each(function (last) {\n                stack.set(stack.get().slice(0, stack.get().length - 1));\n                emitWith(comp, changeSlideEvent, {\n                  contents: premade(last.bar),\n                  focus: last.focus\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'special',\n            onEscape: function (comp) {\n              return last$2(stack.get()).fold(function () {\n                return spec.onEscape();\n              }, function (_) {\n                emit(comp, backSlideEvent);\n                return Optional.some(true);\n              });\n            }\n          })\n        ]),\n        lazySink: function () {\n          return Result.value(spec.sink);\n        }\n      });\n    };\n\n    var transitionClass = 'tox-pop--transition';\n    var register$7 = function (editor, registryContextToolbars, sink, extras) {\n      var backstage = extras.backstage;\n      var sharedBackstage = backstage.shared;\n      var isTouch = detect$1().deviceType.isTouch;\n      var lastElement = value$1();\n      var lastTrigger = value$1();\n      var lastContextPosition = value$1();\n      var contextbar = build$1(renderContextToolbar({\n        sink: sink,\n        onEscape: function () {\n          editor.focus();\n          return Optional.some(true);\n        }\n      }));\n      var getBounds = function () {\n        var position = lastContextPosition.get().getOr('node');\n        var margin = shouldUseInsetLayouts(position) ? 1 : 0;\n        return getContextToolbarBounds(editor, sharedBackstage, position, margin);\n      };\n      var canLaunchToolbar = function () {\n        return !editor.removed && !(isTouch() && backstage.isContextMenuOpen());\n      };\n      var isSameLaunchElement = function (elem) {\n        return is$1(lift2(elem, lastElement.get(), eq), true);\n      };\n      var shouldContextToolbarHide = function () {\n        if (!canLaunchToolbar()) {\n          return true;\n        } else {\n          var contextToolbarBounds = getBounds();\n          var anchorBounds = is$1(lastContextPosition.get(), 'node') ? getAnchorElementBounds(editor, lastElement.get()) : getSelectionBounds(editor);\n          return contextToolbarBounds.height <= 0 || !isVerticalOverlap(anchorBounds, contextToolbarBounds);\n        }\n      };\n      var close = function () {\n        lastElement.clear();\n        lastTrigger.clear();\n        lastContextPosition.clear();\n        InlineView.hide(contextbar);\n      };\n      var hideOrRepositionIfNecessary = function () {\n        if (InlineView.isOpen(contextbar)) {\n          var contextBarEle = contextbar.element;\n          remove$6(contextBarEle, 'display');\n          if (shouldContextToolbarHide()) {\n            set$7(contextBarEle, 'display', 'none');\n          } else {\n            lastTrigger.set(0);\n            InlineView.reposition(contextbar);\n          }\n        }\n      };\n      var wrapInPopDialog = function (toolbarSpec) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-pop__dialog']\n          },\n          components: [toolbarSpec],\n          behaviours: derive$1([\n            Keying.config({ mode: 'acyclic' }),\n            config('pop-dialog-wrap-events', [\n              runOnAttached(function (comp) {\n                editor.shortcuts.add('ctrl+F9', 'focus statusbar', function () {\n                  return Keying.focusIn(comp);\n                });\n              }),\n              runOnDetached(function (_comp) {\n                editor.shortcuts.remove('ctrl+F9');\n              })\n            ])\n          ])\n        };\n      };\n      var getScopes = cached(function () {\n        return categorise(registryContextToolbars, function (toolbarApi) {\n          var alloySpec = buildToolbar([toolbarApi]);\n          emitWith(contextbar, forwardSlideEvent, { forwardContents: wrapInPopDialog(alloySpec) });\n        });\n      });\n      var buildContextToolbarGroups = function (allButtons, ctx) {\n        return identifyButtons(editor, {\n          buttons: allButtons,\n          toolbar: ctx.items,\n          allowToolbarGroups: false\n        }, extras, Optional.some(['form:']));\n      };\n      var buildContextFormGroups = function (ctx, providers) {\n        return ContextForm.buildInitGroups(ctx, providers);\n      };\n      var buildToolbar = function (toolbars) {\n        var buttons = editor.ui.registry.getAll().buttons;\n        var scopes = getScopes();\n        var allButtons = __assign(__assign({}, buttons), scopes.formNavigators);\n        var toolbarType = getToolbarMode(editor) === ToolbarMode.scrolling ? ToolbarMode.scrolling : ToolbarMode.default;\n        var initGroups = flatten(map$2(toolbars, function (ctx) {\n          return ctx.type === 'contexttoolbar' ? buildContextToolbarGroups(allButtons, ctx) : buildContextFormGroups(ctx, sharedBackstage.providers);\n        }));\n        return renderToolbar({\n          type: toolbarType,\n          uid: generate$6('context-toolbar'),\n          initGroups: initGroups,\n          onEscape: Optional.none,\n          cyclicKeying: true,\n          providers: sharedBackstage.providers\n        });\n      };\n      var getAnchor = function (position, element) {\n        var anchorage = position === 'node' ? sharedBackstage.anchors.node(element) : sharedBackstage.anchors.cursor();\n        var anchorLayout = getAnchorLayout(editor, position, isTouch(), {\n          lastElement: lastElement.get,\n          isReposition: function () {\n            return is$1(lastTrigger.get(), 0);\n          },\n          getMode: function () {\n            return Positioning.getMode(sink);\n          }\n        });\n        return deepMerge(anchorage, anchorLayout);\n      };\n      var launchContext = function (toolbarApi, elem) {\n        launchContextToolbar.cancel();\n        if (!canLaunchToolbar()) {\n          return;\n        }\n        var toolbarSpec = buildToolbar(toolbarApi);\n        var position = toolbarApi[0].position;\n        var anchor = getAnchor(position, elem);\n        lastContextPosition.set(position);\n        lastTrigger.set(1);\n        var contextBarEle = contextbar.element;\n        remove$6(contextBarEle, 'display');\n        if (!isSameLaunchElement(elem)) {\n          remove$2(contextBarEle, transitionClass);\n          Positioning.reset(sink, contextbar);\n        }\n        InlineView.showWithinBounds(contextbar, wrapInPopDialog(toolbarSpec), {\n          anchor: anchor,\n          transition: {\n            classes: [transitionClass],\n            mode: 'placement'\n          }\n        }, function () {\n          return Optional.some(getBounds());\n        });\n        elem.fold(lastElement.clear, lastElement.set);\n        if (shouldContextToolbarHide()) {\n          set$7(contextBarEle, 'display', 'none');\n        }\n      };\n      var launchContextToolbar = last(function () {\n        if (!editor.hasFocus() || editor.removed) {\n          return;\n        }\n        if (has(contextbar.element, transitionClass)) {\n          launchContextToolbar.throttle();\n        } else {\n          var scopes = getScopes();\n          lookup$1(scopes, editor).fold(close, function (info) {\n            launchContext(info.toolbars, Optional.some(info.elem));\n          });\n        }\n      }, 17);\n      editor.on('init', function () {\n        editor.on('remove', close);\n        editor.on('ScrollContent ScrollWindow ObjectResized ResizeEditor longpress', hideOrRepositionIfNecessary);\n        editor.on('click keyup focus SetContent', launchContextToolbar.throttle);\n        editor.on(hideContextToolbarEvent, close);\n        editor.on(showContextToolbarEvent, function (e) {\n          var scopes = getScopes();\n          get$e(scopes.lookupTable, e.toolbarKey).each(function (ctx) {\n            launchContext([ctx], someIf(e.target !== editor, e.target));\n            InlineView.getContent(contextbar).each(Keying.focusIn);\n          });\n        });\n        editor.on('focusout', function (_e) {\n          global$f.setEditorTimeout(editor, function () {\n            if (search(sink.element).isNone() && search(contextbar.element).isNone()) {\n              close();\n            }\n          }, 0);\n        });\n        editor.on('SwitchMode', function () {\n          if (editor.mode.isReadOnly()) {\n            close();\n          }\n        });\n        editor.on('AfterProgressState', function (event) {\n          if (event.state) {\n            close();\n          } else if (editor.hasFocus()) {\n            launchContextToolbar.throttle();\n          }\n        });\n        editor.on('NodeChange', function (_e) {\n          search(contextbar.element).fold(launchContextToolbar.throttle, noop);\n        });\n      });\n    };\n\n    var register$6 = function (editor) {\n      var alignToolbarButtons = [\n        {\n          name: 'alignleft',\n          text: 'Align left',\n          cmd: 'JustifyLeft',\n          icon: 'align-left'\n        },\n        {\n          name: 'aligncenter',\n          text: 'Align center',\n          cmd: 'JustifyCenter',\n          icon: 'align-center'\n        },\n        {\n          name: 'alignright',\n          text: 'Align right',\n          cmd: 'JustifyRight',\n          icon: 'align-right'\n        },\n        {\n          name: 'alignjustify',\n          text: 'Justify',\n          cmd: 'JustifyFull',\n          icon: 'align-justify'\n        }\n      ];\n      each$1(alignToolbarButtons, function (item) {\n        editor.ui.registry.addToggleButton(item.name, {\n          tooltip: item.text,\n          icon: item.icon,\n          onAction: onActionExecCommand(editor, item.cmd),\n          onSetup: onSetupFormatToggle(editor, item.name)\n        });\n      });\n      editor.ui.registry.addButton('alignnone', {\n        tooltip: 'No alignment',\n        icon: 'align-none',\n        onAction: onActionExecCommand(editor, 'JustifyNone')\n      });\n    };\n\n    var units = {\n      unsupportedLength: [\n        'em',\n        'ex',\n        'cap',\n        'ch',\n        'ic',\n        'rem',\n        'lh',\n        'rlh',\n        'vw',\n        'vh',\n        'vi',\n        'vb',\n        'vmin',\n        'vmax',\n        'cm',\n        'mm',\n        'Q',\n        'in',\n        'pc',\n        'pt',\n        'px'\n      ],\n      fixed: [\n        'px',\n        'pt'\n      ],\n      relative: ['%'],\n      empty: ['']\n    };\n    var pattern = function () {\n      var decimalDigits = '[0-9]+';\n      var signedInteger = '[+-]?' + decimalDigits;\n      var exponentPart = '[eE]' + signedInteger;\n      var dot = '\\\\.';\n      var opt = function (input) {\n        return '(?:' + input + ')?';\n      };\n      var unsignedDecimalLiteral = [\n        'Infinity',\n        decimalDigits + dot + opt(decimalDigits) + opt(exponentPart),\n        dot + decimalDigits + opt(exponentPart),\n        decimalDigits + opt(exponentPart)\n      ].join('|');\n      var float = '[+-]?(?:' + unsignedDecimalLiteral + ')';\n      return new RegExp('^(' + float + ')(.*)$');\n    }();\n    var isUnit = function (unit, accepted) {\n      return exists(accepted, function (acc) {\n        return exists(units[acc], function (check) {\n          return unit === check;\n        });\n      });\n    };\n    var parse = function (input, accepted) {\n      var match = Optional.from(pattern.exec(input));\n      return match.bind(function (array) {\n        var value = Number(array[1]);\n        var unitRaw = array[2];\n        if (isUnit(unitRaw, accepted)) {\n          return Optional.some({\n            value: value,\n            unit: unitRaw\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var normalise = function (input, accepted) {\n      return parse(input, accepted).map(function (_a) {\n        var value = _a.value, unit = _a.unit;\n        return value + unit;\n      });\n    };\n\n    var registerController = function (editor, spec) {\n      var getMenuItems = function () {\n        var options = spec.getOptions(editor);\n        var initial = spec.getCurrent(editor).map(spec.hash);\n        var current = value$1();\n        return map$2(options, function (value) {\n          return {\n            type: 'togglemenuitem',\n            text: spec.display(value),\n            onSetup: function (api) {\n              var setActive = function (active) {\n                if (active) {\n                  current.on(function (oldApi) {\n                    return oldApi.setActive(false);\n                  });\n                  current.set(api);\n                }\n                api.setActive(active);\n              };\n              setActive(is$1(initial, spec.hash(value)));\n              var unbindWatcher = spec.watcher(editor, value, setActive);\n              return function () {\n                current.clear();\n                unbindWatcher();\n              };\n            },\n            onAction: function () {\n              return spec.setCurrent(editor, value);\n            }\n          };\n        });\n      };\n      editor.ui.registry.addMenuButton(spec.name, {\n        tooltip: spec.text,\n        icon: spec.icon,\n        fetch: function (callback) {\n          return callback(getMenuItems());\n        },\n        onSetup: spec.onToolbarSetup\n      });\n      editor.ui.registry.addNestedMenuItem(spec.name, {\n        type: 'nestedmenuitem',\n        text: spec.text,\n        getSubmenuItems: getMenuItems,\n        onSetup: spec.onMenuSetup\n      });\n    };\n    var lineHeightSpec = {\n      name: 'lineheight',\n      text: 'Line height',\n      icon: 'line-height',\n      getOptions: getLineHeightFormats,\n      hash: function (input) {\n        return normalise(input, [\n          'fixed',\n          'relative',\n          'empty'\n        ]).getOr(input);\n      },\n      display: identity$1,\n      watcher: function (editor, value, callback) {\n        return editor.formatter.formatChanged('lineheight', callback, false, { value: value }).unbind;\n      },\n      getCurrent: function (editor) {\n        return Optional.from(editor.queryCommandValue('LineHeight'));\n      },\n      setCurrent: function (editor, value) {\n        return editor.execCommand('LineHeight', false, value);\n      }\n    };\n    var languageSpec = function (editor) {\n      var settingsOpt = Optional.from(getContentLanguages(editor));\n      return settingsOpt.map(function (settings) {\n        return {\n          name: 'language',\n          text: 'Language',\n          icon: 'language',\n          getOptions: constant$1(settings),\n          hash: function (input) {\n            return isUndefined(input.customCode) ? input.code : input.code + '/' + input.customCode;\n          },\n          display: function (input) {\n            return input.title;\n          },\n          watcher: function (editor, value, callback) {\n            return editor.formatter.formatChanged('lang', callback, false, {\n              value: value.code,\n              customValue: value.customCode\n            }).unbind;\n          },\n          getCurrent: function (editor) {\n            var node = SugarElement.fromDom(editor.selection.getNode());\n            return closest$4(node, function (n) {\n              return Optional.some(n).filter(isElement$2).bind(function (ele) {\n                var codeOpt = getOpt(ele, 'lang');\n                return codeOpt.map(function (code) {\n                  var customCode = getOpt(ele, 'data-mce-lang').getOrUndefined();\n                  return {\n                    code: code,\n                    customCode: customCode,\n                    title: ''\n                  };\n                });\n              });\n            });\n          },\n          setCurrent: function (editor, lang) {\n            return editor.execCommand('Lang', false, lang);\n          },\n          onToolbarSetup: function (api) {\n            var unbinder = unbindable();\n            api.setActive(editor.formatter.match('lang', {}, undefined, true));\n            unbinder.set(editor.formatter.formatChanged('lang', api.setActive, true));\n            return unbinder.clear;\n          }\n        };\n      });\n    };\n    var register$5 = function (editor) {\n      registerController(editor, lineHeightSpec);\n      languageSpec(editor).each(function (spec) {\n        return registerController(editor, spec);\n      });\n    };\n\n    var register$4 = function (editor, backstage) {\n      alignSelectMenu(editor, backstage);\n      fontSelectMenu(editor, backstage);\n      styleSelectMenu(editor, backstage);\n      formatSelectMenu(editor, backstage);\n      fontsizeSelectMenu(editor, backstage);\n    };\n\n    var onSetupOutdentState = function (editor) {\n      return onSetupEvent(editor, 'NodeChange', function (api) {\n        api.setDisabled(!editor.queryCommandState('outdent'));\n      });\n    };\n    var registerButtons$2 = function (editor) {\n      editor.ui.registry.addButton('outdent', {\n        tooltip: 'Decrease indent',\n        icon: 'outdent',\n        onSetup: onSetupOutdentState(editor),\n        onAction: onActionExecCommand(editor, 'outdent')\n      });\n      editor.ui.registry.addButton('indent', {\n        tooltip: 'Increase indent',\n        icon: 'indent',\n        onAction: onActionExecCommand(editor, 'indent')\n      });\n    };\n    var register$3 = function (editor) {\n      registerButtons$2(editor);\n    };\n\n    var onActionToggleFormat = function (editor, fmt) {\n      return function () {\n        editor.execCommand('mceToggleFormat', false, fmt);\n      };\n    };\n    var registerFormatButtons = function (editor) {\n      global$5.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          icon: 'bold'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          icon: 'italic'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          icon: 'underline'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          icon: 'strike-through'\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          icon: 'subscript'\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          icon: 'superscript'\n        }\n      ], function (btn, _idx) {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onSetup: onSetupFormatToggle(editor, btn.name),\n          onAction: onActionToggleFormat(editor, btn.name)\n        });\n      });\n      for (var i = 1; i <= 6; i++) {\n        var name_1 = 'h' + i;\n        editor.ui.registry.addToggleButton(name_1, {\n          text: name_1.toUpperCase(),\n          tooltip: 'Heading ' + i,\n          onSetup: onSetupFormatToggle(editor, name_1),\n          onAction: onActionToggleFormat(editor, name_1)\n        });\n      }\n    };\n    var registerCommandButtons = function (editor) {\n      global$5.each([\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste'\n        },\n        {\n          name: 'help',\n          text: 'Help',\n          action: 'mceHelp',\n          icon: 'help'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all'\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document'\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting'\n        },\n        {\n          name: 'remove',\n          text: 'Remove',\n          action: 'Delete',\n          icon: 'remove'\n        }\n      ], function (btn) {\n        editor.ui.registry.addButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action)\n        });\n      });\n    };\n    var registerCommandToggleButtons = function (editor) {\n      global$5.each([{\n          name: 'blockquote',\n          text: 'Blockquote',\n          action: 'mceBlockQuote',\n          icon: 'quote'\n        }], function (btn) {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action),\n          onSetup: onSetupFormatToggle(editor, btn.name)\n        });\n      });\n    };\n    var registerButtons$1 = function (editor) {\n      registerFormatButtons(editor);\n      registerCommandButtons(editor);\n      registerCommandToggleButtons(editor);\n    };\n    var registerMenuItems$2 = function (editor) {\n      global$5.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          action: 'Bold',\n          icon: 'bold',\n          shortcut: 'Meta+B'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          action: 'Italic',\n          icon: 'italic',\n          shortcut: 'Meta+I'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          action: 'Underline',\n          icon: 'underline',\n          shortcut: 'Meta+U'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          action: 'Strikethrough',\n          icon: 'strike-through',\n          shortcut: ''\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          action: 'Subscript',\n          icon: 'subscript',\n          shortcut: ''\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          action: 'Superscript',\n          icon: 'superscript',\n          shortcut: ''\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting',\n          shortcut: ''\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document',\n          shortcut: ''\n        },\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut',\n          shortcut: 'Meta+X'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy',\n          shortcut: 'Meta+C'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste',\n          shortcut: 'Meta+V'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all',\n          shortcut: 'Meta+A'\n        }\n      ], function (btn) {\n        editor.ui.registry.addMenuItem(btn.name, {\n          text: btn.text,\n          icon: btn.icon,\n          shortcut: btn.shortcut,\n          onAction: onActionExecCommand(editor, btn.action)\n        });\n      });\n      editor.ui.registry.addMenuItem('codeformat', {\n        text: 'Code',\n        icon: 'sourcecode',\n        onAction: onActionToggleFormat(editor, 'code')\n      });\n    };\n    var register$2 = function (editor) {\n      registerButtons$1(editor);\n      registerMenuItems$2(editor);\n    };\n\n    var onSetupUndoRedoState = function (editor, type) {\n      return onSetupEvent(editor, 'Undo Redo AddUndo TypingUndo ClearUndos SwitchMode', function (api) {\n        api.setDisabled(editor.mode.isReadOnly() || !editor.undoManager[type]());\n      });\n    };\n    var registerMenuItems$1 = function (editor) {\n      editor.ui.registry.addMenuItem('undo', {\n        text: 'Undo',\n        icon: 'undo',\n        shortcut: 'Meta+Z',\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo')\n      });\n      editor.ui.registry.addMenuItem('redo', {\n        text: 'Redo',\n        icon: 'redo',\n        shortcut: 'Meta+Y',\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo')\n      });\n    };\n    var registerButtons = function (editor) {\n      editor.ui.registry.addButton('undo', {\n        tooltip: 'Undo',\n        icon: 'undo',\n        disabled: true,\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo')\n      });\n      editor.ui.registry.addButton('redo', {\n        tooltip: 'Redo',\n        icon: 'redo',\n        disabled: true,\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo')\n      });\n    };\n    var register$1 = function (editor) {\n      registerMenuItems$1(editor);\n      registerButtons(editor);\n    };\n\n    var onSetupVisualAidState = function (editor) {\n      return onSetupEvent(editor, 'VisualAid', function (api) {\n        api.setActive(editor.hasVisual);\n      });\n    };\n    var registerMenuItems = function (editor) {\n      editor.ui.registry.addToggleMenuItem('visualaid', {\n        text: 'Visual aids',\n        onSetup: onSetupVisualAidState(editor),\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid')\n      });\n    };\n    var registerToolbarButton = function (editor) {\n      editor.ui.registry.addButton('visualaid', {\n        tooltip: 'Visual aids',\n        text: 'Visual aids',\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid')\n      });\n    };\n    var register = function (editor) {\n      registerToolbarButton(editor);\n      registerMenuItems(editor);\n    };\n\n    var setup$6 = function (editor, backstage) {\n      register$6(editor);\n      register$2(editor);\n      register$4(editor, backstage);\n      register$1(editor);\n      register$a(editor);\n      register(editor);\n      register$3(editor);\n      register$5(editor);\n    };\n\n    var nu = function (x, y) {\n      return {\n        type: 'makeshift',\n        x: x,\n        y: y\n      };\n    };\n    var transpose = function (pos, dx, dy) {\n      return nu(pos.x + dx, pos.y + dy);\n    };\n    var isTouchEvent = function (e) {\n      return e.type === 'longpress' || e.type.indexOf('touch') === 0;\n    };\n    var fromPageXY = function (e) {\n      if (isTouchEvent(e)) {\n        var touch = e.touches[0];\n        return nu(touch.pageX, touch.pageY);\n      } else {\n        return nu(e.pageX, e.pageY);\n      }\n    };\n    var fromClientXY = function (e) {\n      if (isTouchEvent(e)) {\n        var touch = e.touches[0];\n        return nu(touch.clientX, touch.clientY);\n      } else {\n        return nu(e.clientX, e.clientY);\n      }\n    };\n    var transposeContentAreaContainer = function (element, pos) {\n      var containerPos = global$b.DOM.getPos(element);\n      return transpose(pos, containerPos.x, containerPos.y);\n    };\n    var getPointAnchor = function (editor, e) {\n      if (e.type === 'contextmenu' || e.type === 'longpress') {\n        if (editor.inline) {\n          return fromPageXY(e);\n        } else {\n          return transposeContentAreaContainer(editor.getContentAreaContainer(), fromClientXY(e));\n        }\n      } else {\n        return getSelectionAnchor(editor);\n      }\n    };\n    var getSelectionAnchor = function (editor) {\n      return {\n        type: 'selection',\n        root: SugarElement.fromDom(editor.selection.getNode())\n      };\n    };\n    var getNodeAnchor = function (editor) {\n      return {\n        type: 'node',\n        node: Optional.some(SugarElement.fromDom(editor.selection.getNode())),\n        root: SugarElement.fromDom(editor.getBody())\n      };\n    };\n    var getAnchorSpec$1 = function (editor, e, anchorType) {\n      switch (anchorType) {\n      case 'node':\n        return getNodeAnchor(editor);\n      case 'point':\n        return getPointAnchor(editor, e);\n      case 'selection':\n        return getSelectionAnchor(editor);\n      }\n    };\n\n    var initAndShow$1 = function (editor, e, buildMenu, backstage, contextmenu, anchorType) {\n      var items = buildMenu();\n      var anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false).map(function (menuData) {\n        e.preventDefault();\n        InlineView.showMenuAt(contextmenu, { anchor: anchorSpec }, {\n          menu: { markers: markers('normal') },\n          data: menuData\n        });\n      });\n    };\n\n    var layouts = {\n      onLtr: function () {\n        return [\n          south$2,\n          southeast$2,\n          southwest$2,\n          northeast$2,\n          northwest$2,\n          north$2,\n          north,\n          south,\n          northeast,\n          southeast,\n          northwest,\n          southwest\n        ];\n      },\n      onRtl: function () {\n        return [\n          south$2,\n          southwest$2,\n          southeast$2,\n          northwest$2,\n          northeast$2,\n          north$2,\n          north,\n          south,\n          northwest,\n          southwest,\n          northeast,\n          southeast\n        ];\n      }\n    };\n    var bubbleSize = 12;\n    var bubbleAlignments = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top']\n    };\n    var isTouchWithinSelection = function (editor, e) {\n      var selection = editor.selection;\n      if (selection.isCollapsed() || e.touches.length < 1) {\n        return false;\n      } else {\n        var touch_1 = e.touches[0];\n        var rng = selection.getRng();\n        var rngRectOpt = getFirstRect(editor.getWin(), SimSelection.domRange(rng));\n        return rngRectOpt.exists(function (rngRect) {\n          return rngRect.left <= touch_1.clientX && rngRect.right >= touch_1.clientX && rngRect.top <= touch_1.clientY && rngRect.bottom >= touch_1.clientY;\n        });\n      }\n    };\n    var setupiOSOverrides = function (editor) {\n      var originalSelection = editor.selection.getRng();\n      var selectionReset = function () {\n        global$f.setEditorTimeout(editor, function () {\n          editor.selection.setRng(originalSelection);\n        }, 10);\n        unbindEventListeners();\n      };\n      editor.once('touchend', selectionReset);\n      var preventMousedown = function (e) {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n      };\n      editor.on('mousedown', preventMousedown, true);\n      var clearSelectionReset = function () {\n        return unbindEventListeners();\n      };\n      editor.once('longpresscancel', clearSelectionReset);\n      var unbindEventListeners = function () {\n        editor.off('touchend', selectionReset);\n        editor.off('longpresscancel', clearSelectionReset);\n        editor.off('mousedown', preventMousedown);\n      };\n    };\n    var getAnchorSpec = function (editor, e, anchorType) {\n      var anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      var bubbleYOffset = anchorType === 'point' ? bubbleSize : 0;\n      return __assign({\n        bubble: nu$5(0, bubbleYOffset, bubbleAlignments),\n        layouts: layouts,\n        overrides: {\n          maxWidthFunction: expandable(),\n          maxHeightFunction: expandable$1()\n        }\n      }, anchorSpec);\n    };\n    var show = function (editor, e, items, backstage, contextmenu, anchorType, highlightImmediately) {\n      var anchorSpec = getAnchorSpec(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, true).map(function (menuData) {\n        e.preventDefault();\n        InlineView.showMenuWithinBounds(contextmenu, { anchor: anchorSpec }, {\n          menu: {\n            markers: markers('normal'),\n            highlightImmediately: highlightImmediately\n          },\n          data: menuData,\n          type: 'horizontal'\n        }, function () {\n          return Optional.some(getContextToolbarBounds(editor, backstage.shared, anchorType === 'node' ? 'node' : 'selection'));\n        });\n        editor.fire(hideContextToolbarEvent);\n      });\n    };\n    var initAndShow = function (editor, e, buildMenu, backstage, contextmenu, anchorType) {\n      var detection = detect$1();\n      var isiOS = detection.os.isiOS();\n      var isOSX = detection.os.isOSX();\n      var isAndroid = detection.os.isAndroid();\n      var isTouch = detection.deviceType.isTouch();\n      var shouldHighlightImmediately = function () {\n        return !(isAndroid || isiOS || isOSX && isTouch);\n      };\n      var open = function () {\n        var items = buildMenu();\n        show(editor, e, items, backstage, contextmenu, anchorType, shouldHighlightImmediately());\n      };\n      if ((isOSX || isiOS) && anchorType !== 'node') {\n        var openiOS_1 = function () {\n          setupiOSOverrides(editor);\n          open();\n        };\n        if (isTouchWithinSelection(editor, e)) {\n          openiOS_1();\n        } else {\n          editor.once('selectionchange', openiOS_1);\n          editor.once('touchend', function () {\n            return editor.off('selectionchange', openiOS_1);\n          });\n        }\n      } else {\n        open();\n      }\n    };\n\n    var patchPipeConfig = function (config) {\n      return typeof config === 'string' ? config.split(/[ ,]/) : config;\n    };\n    var shouldNeverUseNative = function (editor) {\n      return editor.getParam('contextmenu_never_use_native', false, 'boolean');\n    };\n    var getMenuItems = function (editor, name, defaultItems) {\n      var contextMenus = editor.ui.registry.getAll().contextMenus;\n      return Optional.from(editor.getParam(name)).map(patchPipeConfig).getOrThunk(function () {\n        return filter$2(patchPipeConfig(defaultItems), function (item) {\n          return has$2(contextMenus, item);\n        });\n      });\n    };\n    var isContextMenuDisabled = function (editor) {\n      return editor.getParam('contextmenu') === false;\n    };\n    var getContextMenu = function (editor) {\n      return getMenuItems(editor, 'contextmenu', 'link linkchecker image imagetools table spellchecker configurepermanentpen');\n    };\n    var getAvoidOverlapSelector = function (editor) {\n      return editor.getParam('contextmenu_avoid_overlap', '', 'string');\n    };\n\n    var isSeparator = function (item) {\n      return isString(item) ? item === '|' : item.type === 'separator';\n    };\n    var separator = { type: 'separator' };\n    var makeContextItem = function (item) {\n      var commonMenuItem = function (item) {\n        return {\n          text: item.text,\n          icon: item.icon,\n          disabled: item.disabled,\n          shortcut: item.shortcut\n        };\n      };\n      if (isString(item)) {\n        return item;\n      } else {\n        switch (item.type) {\n        case 'separator':\n          return separator;\n        case 'submenu':\n          return __assign(__assign({ type: 'nestedmenuitem' }, commonMenuItem(item)), {\n            getSubmenuItems: function () {\n              var items = item.getSubmenuItems();\n              if (isString(items)) {\n                return items;\n              } else {\n                return map$2(items, makeContextItem);\n              }\n            }\n          });\n        default:\n          return __assign(__assign({ type: 'menuitem' }, commonMenuItem(item)), { onAction: noarg(item.onAction) });\n        }\n      }\n    };\n    var addContextMenuGroup = function (xs, groupItems) {\n      if (groupItems.length === 0) {\n        return xs;\n      }\n      var lastMenuItem = last$2(xs).filter(function (item) {\n        return !isSeparator(item);\n      });\n      var before = lastMenuItem.fold(function () {\n        return [];\n      }, function (_) {\n        return [separator];\n      });\n      return xs.concat(before).concat(groupItems).concat([separator]);\n    };\n    var generateContextMenu = function (contextMenus, menuConfig, selectedElement) {\n      var sections = foldl(menuConfig, function (acc, name) {\n        return get$e(contextMenus, name.toLowerCase()).map(function (menu) {\n          var items = menu.update(selectedElement);\n          if (isString(items)) {\n            return addContextMenuGroup(acc, items.split(' '));\n          } else if (items.length > 0) {\n            var allItems = map$2(items, makeContextItem);\n            return addContextMenuGroup(acc, allItems);\n          } else {\n            return acc;\n          }\n        }).getOrThunk(function () {\n          return acc.concat([name]);\n        });\n      }, []);\n      if (sections.length > 0 && isSeparator(sections[sections.length - 1])) {\n        sections.pop();\n      }\n      return sections;\n    };\n    var isNativeOverrideKeyEvent = function (editor, e) {\n      return e.ctrlKey && !shouldNeverUseNative(editor);\n    };\n    var isTriggeredByKeyboard = function (editor, e) {\n      return e.type !== 'longpress' && (e.button !== 2 || e.target === editor.getBody() && e.pointerType === '');\n    };\n    var getSelectedElement = function (editor, e) {\n      return isTriggeredByKeyboard(editor, e) ? editor.selection.getStart(true) : e.target;\n    };\n    var getAnchorType = function (editor, e) {\n      var selector = getAvoidOverlapSelector(editor);\n      var anchorType = isTriggeredByKeyboard(editor, e) ? 'selection' : 'point';\n      if (isNotEmpty(selector)) {\n        var target = getSelectedElement(editor, e);\n        var selectorExists = closest(SugarElement.fromDom(target), selector);\n        return selectorExists ? 'node' : anchorType;\n      } else {\n        return anchorType;\n      }\n    };\n    var setup$5 = function (editor, lazySink, backstage) {\n      var detection = detect$1();\n      var isTouch = detection.deviceType.isTouch;\n      var contextmenu = build$1(InlineView.sketch({\n        dom: { tag: 'div' },\n        lazySink: lazySink,\n        onEscape: function () {\n          return editor.focus();\n        },\n        onShow: function () {\n          return backstage.setContextMenuState(true);\n        },\n        onHide: function () {\n          return backstage.setContextMenuState(false);\n        },\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissContextMenu', [run$1(dismissRequested(), function (comp, _se) {\n              Sandboxing.close(comp);\n              editor.focus();\n            })])])\n      }));\n      var hideContextMenu = function (_e) {\n        return InlineView.hide(contextmenu);\n      };\n      var showContextMenu = function (e) {\n        if (shouldNeverUseNative(editor)) {\n          e.preventDefault();\n        }\n        if (isNativeOverrideKeyEvent(editor, e) || isContextMenuDisabled(editor)) {\n          return;\n        }\n        var anchorType = getAnchorType(editor, e);\n        var buildMenu = function () {\n          var selectedElement = getSelectedElement(editor, e);\n          var registry = editor.ui.registry.getAll();\n          var menuConfig = getContextMenu(editor);\n          return generateContextMenu(registry.contextMenus, menuConfig, selectedElement);\n        };\n        var initAndShow$2 = isTouch() ? initAndShow : initAndShow$1;\n        initAndShow$2(editor, e, buildMenu, backstage, contextmenu, anchorType);\n      };\n      editor.on('init', function () {\n        var hideEvents = 'ResizeEditor ScrollContent ScrollWindow longpresscancel' + (isTouch() ? '' : ' ResizeWindow');\n        editor.on(hideEvents, hideContextMenu);\n        editor.on('longpress contextmenu', showContextMenu);\n      });\n    };\n\n    var adt = Adt.generate([\n      {\n        offset: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        absolute: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y'\n        ]\n      }\n    ]);\n    var subtract = function (change) {\n      return function (point) {\n        return point.translate(-change.left, -change.top);\n      };\n    };\n    var add = function (change) {\n      return function (point) {\n        return point.translate(change.left, change.top);\n      };\n    };\n    var transform = function (changes) {\n      return function (x, y) {\n        return foldl(changes, function (rest, f) {\n          return f(rest);\n        }, SugarPosition(x, y));\n      };\n    };\n    var asFixed = function (coord, scroll, origin) {\n      return coord.fold(transform([\n        add(origin),\n        subtract(scroll)\n      ]), transform([subtract(scroll)]), transform([]));\n    };\n    var asAbsolute = function (coord, scroll, origin) {\n      return coord.fold(transform([add(origin)]), transform([]), transform([add(scroll)]));\n    };\n    var asOffset = function (coord, scroll, origin) {\n      return coord.fold(transform([]), transform([subtract(origin)]), transform([\n        add(scroll),\n        subtract(origin)\n      ]));\n    };\n    var withinRange = function (coord1, coord2, xRange, yRange, scroll, origin) {\n      var a1 = asAbsolute(coord1, scroll, origin);\n      var a2 = asAbsolute(coord2, scroll, origin);\n      return Math.abs(a1.left - a2.left) <= xRange && Math.abs(a1.top - a2.top) <= yRange;\n    };\n    var getDeltas = function (coord1, coord2, xRange, yRange, scroll, origin) {\n      var a1 = asAbsolute(coord1, scroll, origin);\n      var a2 = asAbsolute(coord2, scroll, origin);\n      var left = Math.abs(a1.left - a2.left);\n      var top = Math.abs(a1.top - a2.top);\n      return SugarPosition(left, top);\n    };\n    var toStyles = function (coord, scroll, origin) {\n      var stylesOpt = coord.fold(function (x, y) {\n        return {\n          position: Optional.some('absolute'),\n          left: Optional.some(x + 'px'),\n          top: Optional.some(y + 'px')\n        };\n      }, function (x, y) {\n        return {\n          position: Optional.some('absolute'),\n          left: Optional.some(x - origin.left + 'px'),\n          top: Optional.some(y - origin.top + 'px')\n        };\n      }, function (x, y) {\n        return {\n          position: Optional.some('fixed'),\n          left: Optional.some(x + 'px'),\n          top: Optional.some(y + 'px')\n        };\n      });\n      return __assign({\n        right: Optional.none(),\n        bottom: Optional.none()\n      }, stylesOpt);\n    };\n    var translate = function (coord, deltaX, deltaY) {\n      return coord.fold(function (x, y) {\n        return offset(x + deltaX, y + deltaY);\n      }, function (x, y) {\n        return absolute(x + deltaX, y + deltaY);\n      }, function (x, y) {\n        return fixed(x + deltaX, y + deltaY);\n      });\n    };\n    var absorb = function (partialCoord, originalCoord, scroll, origin) {\n      var absorbOne = function (stencil, nu) {\n        return function (optX, optY) {\n          var original = stencil(originalCoord, scroll, origin);\n          return nu(optX.getOr(original.left), optY.getOr(original.top));\n        };\n      };\n      return partialCoord.fold(absorbOne(asOffset, offset), absorbOne(asAbsolute, absolute), absorbOne(asFixed, fixed));\n    };\n    var offset = adt.offset;\n    var absolute = adt.absolute;\n    var fixed = adt.fixed;\n\n    var parseAttrToInt = function (element, name) {\n      var value = get$d(element, name);\n      return isUndefined(value) ? NaN : parseInt(value, 10);\n    };\n    var get = function (component, snapsInfo) {\n      var element = component.element;\n      var x = parseAttrToInt(element, snapsInfo.leftAttr);\n      var y = parseAttrToInt(element, snapsInfo.topAttr);\n      return isNaN(x) || isNaN(y) ? Optional.none() : Optional.some(SugarPosition(x, y));\n    };\n    var set = function (component, snapsInfo, pt) {\n      var element = component.element;\n      set$8(element, snapsInfo.leftAttr, pt.left + 'px');\n      set$8(element, snapsInfo.topAttr, pt.top + 'px');\n    };\n    var clear = function (component, snapsInfo) {\n      var element = component.element;\n      remove$7(element, snapsInfo.leftAttr);\n      remove$7(element, snapsInfo.topAttr);\n    };\n\n    var getCoords = function (component, snapInfo, coord, delta) {\n      return get(component, snapInfo).fold(function () {\n        return coord;\n      }, function (fixed$1) {\n        return fixed(fixed$1.left + delta.left, fixed$1.top + delta.top);\n      });\n    };\n    var moveOrSnap = function (component, snapInfo, coord, delta, scroll, origin) {\n      var newCoord = getCoords(component, snapInfo, coord, delta);\n      var snap = snapInfo.mustSnap ? findClosestSnap(component, snapInfo, newCoord, scroll, origin) : findSnap(component, snapInfo, newCoord, scroll, origin);\n      var fixedCoord = asFixed(newCoord, scroll, origin);\n      set(component, snapInfo, fixedCoord);\n      return snap.fold(function () {\n        return {\n          coord: fixed(fixedCoord.left, fixedCoord.top),\n          extra: Optional.none()\n        };\n      }, function (spanned) {\n        return {\n          coord: spanned.output,\n          extra: spanned.extra\n        };\n      });\n    };\n    var stopDrag = function (component, snapInfo) {\n      clear(component, snapInfo);\n    };\n    var findMatchingSnap = function (snaps, newCoord, scroll, origin) {\n      return findMap(snaps, function (snap) {\n        var sensor = snap.sensor;\n        var inRange = withinRange(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n        return inRange ? Optional.some({\n          output: absorb(snap.output, newCoord, scroll, origin),\n          extra: snap.extra\n        }) : Optional.none();\n      });\n    };\n    var findClosestSnap = function (component, snapInfo, newCoord, scroll, origin) {\n      var snaps = snapInfo.getSnapPoints(component);\n      var matchSnap = findMatchingSnap(snaps, newCoord, scroll, origin);\n      return matchSnap.orThunk(function () {\n        var bestSnap = foldl(snaps, function (acc, snap) {\n          var sensor = snap.sensor;\n          var deltas = getDeltas(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n          return acc.deltas.fold(function () {\n            return {\n              deltas: Optional.some(deltas),\n              snap: Optional.some(snap)\n            };\n          }, function (bestDeltas) {\n            var currAvg = (deltas.left + deltas.top) / 2;\n            var bestAvg = (bestDeltas.left + bestDeltas.top) / 2;\n            if (currAvg <= bestAvg) {\n              return {\n                deltas: Optional.some(deltas),\n                snap: Optional.some(snap)\n              };\n            } else {\n              return acc;\n            }\n          });\n        }, {\n          deltas: Optional.none(),\n          snap: Optional.none()\n        });\n        return bestSnap.snap.map(function (snap) {\n          return {\n            output: absorb(snap.output, newCoord, scroll, origin),\n            extra: snap.extra\n          };\n        });\n      });\n    };\n    var findSnap = function (component, snapInfo, newCoord, scroll, origin) {\n      var snaps = snapInfo.getSnapPoints(component);\n      return findMatchingSnap(snaps, newCoord, scroll, origin);\n    };\n    var snapTo$1 = function (snap, scroll, origin) {\n      return {\n        coord: absorb(snap.output, snap.output, scroll, origin),\n        extra: snap.extra\n      };\n    };\n\n    var snapTo = function (component, dragConfig, _state, snap) {\n      var target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        var doc = owner$4(component.element);\n        var scroll_1 = get$9(doc);\n        var origin_1 = getOrigin(target);\n        var snapPin = snapTo$1(snap, scroll_1, origin_1);\n        var styles = toStyles(snapPin.coord, scroll_1, origin_1);\n        setOptions(target, styles);\n      }\n    };\n\n    var DraggingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        snapTo: snapTo\n    });\n\n    var initialAttribute = 'data-initial-z-index';\n    var resetZIndex = function (blocker) {\n      parent(blocker.element).filter(isElement$2).each(function (root) {\n        getOpt(root, initialAttribute).fold(function () {\n          return remove$6(root, 'z-index');\n        }, function (zIndex) {\n          return set$7(root, 'z-index', zIndex);\n        });\n        remove$7(root, initialAttribute);\n      });\n    };\n    var changeZIndex = function (blocker) {\n      parent(blocker.element).filter(isElement$2).each(function (root) {\n        getRaw(root, 'z-index').each(function (zindex) {\n          set$8(root, initialAttribute, zindex);\n        });\n        set$7(root, 'z-index', get$c(blocker.element, 'z-index'));\n      });\n    };\n    var instigate = function (anyComponent, blocker) {\n      anyComponent.getSystem().addToGui(blocker);\n      changeZIndex(blocker);\n    };\n    var discard = function (blocker) {\n      resetZIndex(blocker);\n      blocker.getSystem().removeFromGui(blocker);\n    };\n    var createComponent = function (component, blockerClass, blockerEvents) {\n      return component.getSystem().build(Container.sketch({\n        dom: {\n          styles: {\n            'left': '0px',\n            'top': '0px',\n            'width': '100%',\n            'height': '100%',\n            'position': 'fixed',\n            'z-index': '1000000000000000'\n          },\n          classes: [blockerClass]\n        },\n        events: blockerEvents\n      }));\n    };\n\n    var SnapSchema = optionObjOf('snaps', [\n      required$1('getSnapPoints'),\n      onHandler('onSensor'),\n      required$1('leftAttr'),\n      required$1('topAttr'),\n      defaulted('lazyViewport', win),\n      defaulted('mustSnap', false)\n    ]);\n\n    var schema$6 = [\n      defaulted('useFixed', never),\n      required$1('blockerClass'),\n      defaulted('getTarget', identity$1),\n      defaulted('onDrag', noop),\n      defaulted('repositionTarget', true),\n      defaulted('onDrop', noop),\n      defaultedFunction('getBounds', win),\n      SnapSchema\n    ];\n\n    var getCurrentCoord = function (target) {\n      return lift3(getRaw(target, 'left'), getRaw(target, 'top'), getRaw(target, 'position'), function (left, top, position) {\n        var nu = position === 'fixed' ? fixed : offset;\n        return nu(parseInt(left, 10), parseInt(top, 10));\n      }).getOrThunk(function () {\n        var location = absolute$3(target);\n        return absolute(location.left, location.top);\n      });\n    };\n    var clampCoords = function (component, coords, scroll, origin, startData) {\n      var bounds = startData.bounds;\n      var absoluteCoord = asAbsolute(coords, scroll, origin);\n      var newX = clamp$1(absoluteCoord.left, bounds.x, bounds.x + bounds.width - startData.width);\n      var newY = clamp$1(absoluteCoord.top, bounds.y, bounds.y + bounds.height - startData.height);\n      var newCoords = absolute(newX, newY);\n      return coords.fold(function () {\n        var offset$1 = asOffset(newCoords, scroll, origin);\n        return offset(offset$1.left, offset$1.top);\n      }, constant$1(newCoords), function () {\n        var fixed$1 = asFixed(newCoords, scroll, origin);\n        return fixed(fixed$1.left, fixed$1.top);\n      });\n    };\n    var calcNewCoord = function (component, optSnaps, currentCoord, scroll, origin, delta, startData) {\n      var newCoord = optSnaps.fold(function () {\n        var translated = translate(currentCoord, delta.left, delta.top);\n        var fixedCoord = asFixed(translated, scroll, origin);\n        return fixed(fixedCoord.left, fixedCoord.top);\n      }, function (snapInfo) {\n        var snapping = moveOrSnap(component, snapInfo, currentCoord, delta, scroll, origin);\n        snapping.extra.each(function (extra) {\n          snapInfo.onSensor(component, extra);\n        });\n        return snapping.coord;\n      });\n      return clampCoords(component, newCoord, scroll, origin, startData);\n    };\n    var dragBy = function (component, dragConfig, startData, delta) {\n      var target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        var doc = owner$4(component.element);\n        var scroll_1 = get$9(doc);\n        var origin_1 = getOrigin(target);\n        var currentCoord = getCurrentCoord(target);\n        var newCoord = calcNewCoord(component, dragConfig.snaps, currentCoord, scroll_1, origin_1, delta, startData);\n        var styles = toStyles(newCoord, scroll_1, origin_1);\n        setOptions(target, styles);\n      }\n      dragConfig.onDrag(component, target, delta);\n    };\n\n    var calcStartData = function (dragConfig, comp) {\n      return {\n        bounds: dragConfig.getBounds(),\n        height: getOuter$2(comp.element),\n        width: getOuter$1(comp.element)\n      };\n    };\n    var move = function (component, dragConfig, dragState, dragMode, event) {\n      var delta = dragState.update(dragMode, event);\n      var dragStartData = dragState.getStartData().getOrThunk(function () {\n        return calcStartData(dragConfig, component);\n      });\n      delta.each(function (dlt) {\n        dragBy(component, dragConfig, dragStartData, dlt);\n      });\n    };\n    var stop = function (component, blocker, dragConfig, dragState) {\n      blocker.each(discard);\n      dragConfig.snaps.each(function (snapInfo) {\n        stopDrag(component, snapInfo);\n      });\n      var target = dragConfig.getTarget(component.element);\n      dragState.reset();\n      dragConfig.onDrop(component, target);\n    };\n    var handlers = function (events) {\n      return function (dragConfig, dragState) {\n        var updateStartState = function (comp) {\n          dragState.setStartData(calcStartData(dragConfig, comp));\n        };\n        return derive$2(__spreadArray([run$1(windowScroll(), function (comp) {\n            dragState.getStartData().each(function () {\n              return updateStartState(comp);\n            });\n          })], events(dragConfig, dragState, updateStartState), true));\n      };\n    };\n\n    var init$2 = function (dragApi) {\n      return derive$2([\n        run$1(mousedown(), dragApi.forceDrop),\n        run$1(mouseup(), dragApi.drop),\n        run$1(mousemove(), function (comp, simulatedEvent) {\n          dragApi.move(simulatedEvent.event);\n        }),\n        run$1(mouseout(), dragApi.delayDrop)\n      ]);\n    };\n\n    var getData$1 = function (event) {\n      return Optional.from(SugarPosition(event.x, event.y));\n    };\n    var getDelta$1 = function (old, nu) {\n      return SugarPosition(nu.left - old.left, nu.top - old.top);\n    };\n\n    var MouseData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData$1,\n        getDelta: getDelta$1\n    });\n\n    var events$2 = function (dragConfig, dragState, updateStartState) {\n      return [run$1(mousedown(), function (component, simulatedEvent) {\n          var raw = simulatedEvent.event.raw;\n          if (raw.button !== 0) {\n            return;\n          }\n          simulatedEvent.stop();\n          var stop$1 = function () {\n            return stop(component, Optional.some(blocker), dragConfig, dragState);\n          };\n          var delayDrop = DelayedFunction(stop$1, 200);\n          var dragApi = {\n            drop: stop$1,\n            delayDrop: delayDrop.schedule,\n            forceDrop: stop$1,\n            move: function (event) {\n              delayDrop.cancel();\n              move(component, dragConfig, dragState, MouseData, event);\n            }\n          };\n          var blocker = createComponent(component, dragConfig.blockerClass, init$2(dragApi));\n          var start = function () {\n            updateStartState(component);\n            instigate(component, blocker);\n          };\n          start();\n        })];\n    };\n    var schema$5 = __spreadArray(__spreadArray([], schema$6, true), [output$1('dragger', { handlers: handlers(events$2) })], false);\n\n    var init$1 = function (dragApi) {\n      return derive$2([\n        run$1(touchstart(), dragApi.forceDrop),\n        run$1(touchend(), dragApi.drop),\n        run$1(touchcancel(), dragApi.drop),\n        run$1(touchmove(), function (comp, simulatedEvent) {\n          dragApi.move(simulatedEvent.event);\n        })\n      ]);\n    };\n\n    var getDataFrom = function (touches) {\n      var touch = touches[0];\n      return Optional.some(SugarPosition(touch.clientX, touch.clientY));\n    };\n    var getData = function (event) {\n      var raw = event.raw;\n      var touches = raw.touches;\n      return touches.length === 1 ? getDataFrom(touches) : Optional.none();\n    };\n    var getDelta = function (old, nu) {\n      return SugarPosition(nu.left - old.left, nu.top - old.top);\n    };\n\n    var TouchData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData,\n        getDelta: getDelta\n    });\n\n    var events$1 = function (dragConfig, dragState, updateStartState) {\n      var blockerSingleton = value$1();\n      var stopBlocking = function (component) {\n        stop(component, blockerSingleton.get(), dragConfig, dragState);\n        blockerSingleton.clear();\n      };\n      return [\n        run$1(touchstart(), function (component, simulatedEvent) {\n          simulatedEvent.stop();\n          var stop = function () {\n            return stopBlocking(component);\n          };\n          var dragApi = {\n            drop: stop,\n            delayDrop: noop,\n            forceDrop: stop,\n            move: function (event) {\n              move(component, dragConfig, dragState, TouchData, event);\n            }\n          };\n          var blocker = createComponent(component, dragConfig.blockerClass, init$1(dragApi));\n          blockerSingleton.set(blocker);\n          var start = function () {\n            updateStartState(component);\n            instigate(component, blocker);\n          };\n          start();\n        }),\n        run$1(touchmove(), function (component, simulatedEvent) {\n          simulatedEvent.stop();\n          move(component, dragConfig, dragState, TouchData, simulatedEvent.event);\n        }),\n        run$1(touchend(), function (component, simulatedEvent) {\n          simulatedEvent.stop();\n          stopBlocking(component);\n        }),\n        run$1(touchcancel(), stopBlocking)\n      ];\n    };\n    var schema$4 = __spreadArray(__spreadArray([], schema$6, true), [output$1('dragger', { handlers: handlers(events$1) })], false);\n\n    var events = function (dragConfig, dragState, updateStartState) {\n      return __spreadArray(__spreadArray([], events$2(dragConfig, dragState, updateStartState), true), events$1(dragConfig, dragState, updateStartState), true);\n    };\n    var schema$3 = __spreadArray(__spreadArray([], schema$6, true), [output$1('dragger', { handlers: handlers(events) })], false);\n\n    var mouse = schema$5;\n    var touch = schema$4;\n    var mouseOrTouch = schema$3;\n\n    var DraggingBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        mouse: mouse,\n        touch: touch,\n        mouseOrTouch: mouseOrTouch\n    });\n\n    var init = function () {\n      var previous = Optional.none();\n      var startData = Optional.none();\n      var reset = function () {\n        previous = Optional.none();\n        startData = Optional.none();\n      };\n      var calculateDelta = function (mode, nu) {\n        var result = previous.map(function (old) {\n          return mode.getDelta(old, nu);\n        });\n        previous = Optional.some(nu);\n        return result;\n      };\n      var update = function (mode, dragEvent) {\n        return mode.getData(dragEvent).bind(function (nuData) {\n          return calculateDelta(mode, nuData);\n        });\n      };\n      var setStartData = function (data) {\n        startData = Optional.some(data);\n      };\n      var getStartData = function () {\n        return startData;\n      };\n      var readState = constant$1({});\n      return nu$8({\n        readState: readState,\n        reset: reset,\n        update: update,\n        getStartData: getStartData,\n        setStartData: setStartData\n      });\n    };\n\n    var DragState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init\n    });\n\n    var Dragging = createModes({\n      branchKey: 'mode',\n      branches: DraggingBranches,\n      name: 'dragging',\n      active: {\n        events: function (dragConfig, dragState) {\n          var dragger = dragConfig.dragger;\n          return dragger.handlers(dragConfig, dragState);\n        }\n      },\n      extra: {\n        snap: function (sConfig) {\n          return {\n            sensor: sConfig.sensor,\n            range: sConfig.range,\n            output: sConfig.output,\n            extra: Optional.from(sConfig.extra)\n          };\n        }\n      },\n      state: DragState,\n      apis: DraggingApis\n    });\n\n    var snapWidth = 40;\n    var snapOffset = snapWidth / 2;\n    var calcSnap = function (selectorOpt, td, x, y, width, height) {\n      return selectorOpt.fold(function () {\n        return Dragging.snap({\n          sensor: absolute(x - snapOffset, y - snapOffset),\n          range: SugarPosition(width, height),\n          output: absolute(Optional.some(x), Optional.some(y)),\n          extra: { td: td }\n        });\n      }, function (selectorHandle) {\n        var sensorLeft = x - snapOffset;\n        var sensorTop = y - snapOffset;\n        var sensorWidth = snapWidth;\n        var sensorHeight = snapWidth;\n        var rect = selectorHandle.element.dom.getBoundingClientRect();\n        return Dragging.snap({\n          sensor: absolute(sensorLeft, sensorTop),\n          range: SugarPosition(sensorWidth, sensorHeight),\n          output: absolute(Optional.some(x - rect.width / 2), Optional.some(y - rect.height / 2)),\n          extra: { td: td }\n        });\n      });\n    };\n    var getSnapsConfig = function (getSnapPoints, cell, onChange) {\n      var isSameCell = function (cellOpt, td) {\n        return cellOpt.exists(function (currentTd) {\n          return eq(currentTd, td);\n        });\n      };\n      return {\n        getSnapPoints: getSnapPoints,\n        leftAttr: 'data-drag-left',\n        topAttr: 'data-drag-top',\n        onSensor: function (component, extra) {\n          var td = extra.td;\n          if (!isSameCell(cell.get(), td)) {\n            cell.set(td);\n            onChange(td);\n          }\n        },\n        mustSnap: true\n      };\n    };\n    var createSelector = function (snaps) {\n      return record(Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-selector']\n        },\n        buttonBehaviours: derive$1([\n          Dragging.config({\n            mode: 'mouseOrTouch',\n            blockerClass: 'blocker',\n            snaps: snaps\n          }),\n          Unselecting.config({})\n        ]),\n        eventOrder: {\n          mousedown: [\n            'dragging',\n            'alloy.base.behaviour'\n          ],\n          touchstart: [\n            'dragging',\n            'alloy.base.behaviour'\n          ]\n        }\n      }));\n    };\n    var setup$4 = function (editor, sink) {\n      var tlTds = Cell([]);\n      var brTds = Cell([]);\n      var isVisible = Cell(false);\n      var startCell = value$1();\n      var finishCell = value$1();\n      var getTopLeftSnap = function (td) {\n        var box = absolute$2(td);\n        return calcSnap(memTopLeft.getOpt(sink), td, box.x, box.y, box.width, box.height);\n      };\n      var getTopLeftSnaps = function () {\n        return map$2(tlTds.get(), function (td) {\n          return getTopLeftSnap(td);\n        });\n      };\n      var getBottomRightSnap = function (td) {\n        var box = absolute$2(td);\n        return calcSnap(memBottomRight.getOpt(sink), td, box.right, box.bottom, box.width, box.height);\n      };\n      var getBottomRightSnaps = function () {\n        return map$2(brTds.get(), function (td) {\n          return getBottomRightSnap(td);\n        });\n      };\n      var topLeftSnaps = getSnapsConfig(getTopLeftSnaps, startCell, function (start) {\n        finishCell.get().each(function (finish) {\n          editor.fire('TableSelectorChange', {\n            start: start,\n            finish: finish\n          });\n        });\n      });\n      var bottomRightSnaps = getSnapsConfig(getBottomRightSnaps, finishCell, function (finish) {\n        startCell.get().each(function (start) {\n          editor.fire('TableSelectorChange', {\n            start: start,\n            finish: finish\n          });\n        });\n      });\n      var memTopLeft = createSelector(topLeftSnaps);\n      var memBottomRight = createSelector(bottomRightSnaps);\n      var topLeft = build$1(memTopLeft.asSpec());\n      var bottomRight = build$1(memBottomRight.asSpec());\n      var showOrHideHandle = function (selector, cell, isAbove, isBelow) {\n        var cellRect = cell.dom.getBoundingClientRect();\n        remove$6(selector.element, 'display');\n        var viewportHeight = defaultView(SugarElement.fromDom(editor.getBody())).dom.innerHeight;\n        var aboveViewport = isAbove(cellRect);\n        var belowViewport = isBelow(cellRect, viewportHeight);\n        if (aboveViewport || belowViewport) {\n          set$7(selector.element, 'display', 'none');\n        }\n      };\n      var snapTo = function (selector, cell, getSnapConfig, pos) {\n        var snap = getSnapConfig(cell);\n        Dragging.snapTo(selector, snap);\n        var isAbove = function (rect) {\n          return rect[pos] < 0;\n        };\n        var isBelow = function (rect, viewportHeight) {\n          return rect[pos] > viewportHeight;\n        };\n        showOrHideHandle(selector, cell, isAbove, isBelow);\n      };\n      var snapTopLeft = function (cell) {\n        return snapTo(topLeft, cell, getTopLeftSnap, 'top');\n      };\n      var snapLastTopLeft = function () {\n        return startCell.get().each(snapTopLeft);\n      };\n      var snapBottomRight = function (cell) {\n        return snapTo(bottomRight, cell, getBottomRightSnap, 'bottom');\n      };\n      var snapLastBottomRight = function () {\n        return finishCell.get().each(snapBottomRight);\n      };\n      if (detect$1().deviceType.isTouch()) {\n        editor.on('TableSelectionChange', function (e) {\n          if (!isVisible.get()) {\n            attach(sink, topLeft);\n            attach(sink, bottomRight);\n            isVisible.set(true);\n          }\n          startCell.set(e.start);\n          finishCell.set(e.finish);\n          e.otherCells.each(function (otherCells) {\n            tlTds.set(otherCells.upOrLeftCells);\n            brTds.set(otherCells.downOrRightCells);\n            snapTopLeft(e.start);\n            snapBottomRight(e.finish);\n          });\n        });\n        editor.on('ResizeEditor ResizeWindow ScrollContent', function () {\n          snapLastTopLeft();\n          snapLastBottomRight();\n        });\n        editor.on('TableSelectionClear', function () {\n          if (isVisible.get()) {\n            detach(topLeft);\n            detach(bottomRight);\n            isVisible.set(false);\n          }\n          startCell.clear();\n          finishCell.clear();\n        });\n      }\n    };\n\n    var isHidden = function (elm) {\n      if (elm.nodeType === 1) {\n        if (elm.nodeName === 'BR' || !!elm.getAttribute('data-mce-bogus')) {\n          return true;\n        }\n        if (elm.getAttribute('data-mce-type') === 'bookmark') {\n          return true;\n        }\n      }\n      return false;\n    };\n    var renderElementPath = function (editor, settings, providersBackstage) {\n      if (!settings.delimiter) {\n        settings.delimiter = '\\xBB';\n      }\n      var getDataPath = function (data) {\n        var parts = data || [];\n        var newPathElements = map$2(parts, function (part, index) {\n          return Button.sketch({\n            dom: {\n              tag: 'div',\n              classes: ['tox-statusbar__path-item'],\n              attributes: {\n                'role': 'button',\n                'data-index': index,\n                'tab-index': -1,\n                'aria-level': index + 1\n              },\n              innerHtml: part.name\n            },\n            action: function (_btn) {\n              editor.focus();\n              editor.selection.select(part.element);\n              editor.nodeChanged();\n            },\n            buttonBehaviours: derive$1([\n              DisablingConfigs.button(providersBackstage.isDisabled),\n              receivingConfig()\n            ])\n          });\n        });\n        var divider = {\n          dom: {\n            tag: 'div',\n            classes: ['tox-statusbar__path-divider'],\n            attributes: { 'aria-hidden': true },\n            innerHtml: ' ' + settings.delimiter + ' '\n          }\n        };\n        return foldl(newPathElements.slice(1), function (acc, element) {\n          var newAcc = acc;\n          newAcc.push(divider);\n          newAcc.push(element);\n          return newAcc;\n        }, [newPathElements[0]]);\n      };\n      var updatePath = function (parents) {\n        var newPath = [];\n        var i = parents.length;\n        while (i-- > 0) {\n          var parent_1 = parents[i];\n          if (parent_1.nodeType === 1 && !isHidden(parent_1)) {\n            var args = editor.fire('ResolveName', {\n              name: parent_1.nodeName.toLowerCase(),\n              target: parent_1\n            });\n            if (!args.isDefaultPrevented()) {\n              newPath.push({\n                name: args.name,\n                element: parent_1\n              });\n            }\n            if (args.isPropagationStopped()) {\n              break;\n            }\n          }\n        }\n        return newPath;\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path'],\n          attributes: { role: 'navigation' }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'flow',\n            selector: 'div[role=button]'\n          }),\n          Disabling.config({ disabled: providersBackstage.isDisabled }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          config('elementPathEvents', [runOnAttached(function (comp, _e) {\n              editor.shortcuts.add('alt+F11', 'focus statusbar elementpath', function () {\n                return Keying.focusIn(comp);\n              });\n              editor.on('NodeChange', function (e) {\n                var newPath = updatePath(e.parents);\n                if (newPath.length > 0) {\n                  Replacing.set(comp, getDataPath(newPath));\n                } else {\n                  Replacing.set(comp, []);\n                }\n              });\n            })])\n        ]),\n        components: []\n      };\n    };\n\n    var ResizeTypes;\n    (function (ResizeTypes) {\n      ResizeTypes[ResizeTypes['None'] = 0] = 'None';\n      ResizeTypes[ResizeTypes['Both'] = 1] = 'Both';\n      ResizeTypes[ResizeTypes['Vertical'] = 2] = 'Vertical';\n    }(ResizeTypes || (ResizeTypes = {})));\n    var getDimensions = function (editor, deltas, resizeType, originalHeight, originalWidth) {\n      var dimensions = {};\n      dimensions.height = calcCappedSize(originalHeight + deltas.top, getMinHeightSetting(editor), getMaxHeightSetting(editor));\n      if (resizeType === ResizeTypes.Both) {\n        dimensions.width = calcCappedSize(originalWidth + deltas.left, getMinWidthSetting(editor), getMaxWidthSetting(editor));\n      }\n      return dimensions;\n    };\n    var resize = function (editor, deltas, resizeType) {\n      var container = SugarElement.fromDom(editor.getContainer());\n      var dimensions = getDimensions(editor, deltas, resizeType, get$b(container), get$a(container));\n      each(dimensions, function (val, dim) {\n        return set$7(container, dim, numToPx(val));\n      });\n      fireResizeEditor(editor);\n    };\n\n    var getResizeType = function (editor) {\n      var fallback = !editor.hasPlugin('autoresize');\n      var resize = editor.getParam('resize', fallback);\n      if (resize === false) {\n        return ResizeTypes.None;\n      } else if (resize === 'both') {\n        return ResizeTypes.Both;\n      } else {\n        return ResizeTypes.Vertical;\n      }\n    };\n    var keyboardHandler = function (editor, resizeType, x, y) {\n      var scale = 20;\n      var delta = SugarPosition(x * scale, y * scale);\n      resize(editor, delta, resizeType);\n      return Optional.some(true);\n    };\n    var renderResizeHandler = function (editor, providersBackstage) {\n      var resizeType = getResizeType(editor);\n      if (resizeType === ResizeTypes.None) {\n        return Optional.none();\n      }\n      return Optional.some(render$3('resize-handle', {\n        tag: 'div',\n        classes: ['tox-statusbar__resize-handle'],\n        attributes: { title: providersBackstage.translate('Resize') },\n        behaviours: [\n          Dragging.config({\n            mode: 'mouse',\n            repositionTarget: false,\n            onDrag: function (_comp, _target, delta) {\n              return resize(editor, delta, resizeType);\n            },\n            blockerClass: 'tox-blocker'\n          }),\n          Keying.config({\n            mode: 'special',\n            onLeft: function () {\n              return keyboardHandler(editor, resizeType, -1, 0);\n            },\n            onRight: function () {\n              return keyboardHandler(editor, resizeType, 1, 0);\n            },\n            onUp: function () {\n              return keyboardHandler(editor, resizeType, 0, -1);\n            },\n            onDown: function () {\n              return keyboardHandler(editor, resizeType, 0, 1);\n            }\n          }),\n          Tabstopping.config({}),\n          Focusing.config({})\n        ]\n      }, providersBackstage.icons));\n    };\n\n    var renderWordCount = function (editor, providersBackstage) {\n      var _a;\n      var replaceCountText = function (comp, count, mode) {\n        return Replacing.set(comp, [text(providersBackstage.translate([\n            '{0} ' + mode,\n            count[mode]\n          ]))]);\n      };\n      return Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: ['tox-statusbar__wordcount']\n        },\n        components: [],\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(providersBackstage.isDisabled),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: {\n                mode: 'words',\n                count: {\n                  words: 0,\n                  characters: 0\n                }\n              }\n            }\n          }),\n          config('wordcount-events', [\n            runOnExecute$1(function (comp) {\n              var currentVal = Representing.getValue(comp);\n              var newMode = currentVal.mode === 'words' ? 'characters' : 'words';\n              Representing.setValue(comp, {\n                mode: newMode,\n                count: currentVal.count\n              });\n              replaceCountText(comp, currentVal.count, newMode);\n            }),\n            runOnAttached(function (comp) {\n              editor.on('wordCountUpdate', function (e) {\n                var mode = Representing.getValue(comp).mode;\n                Representing.setValue(comp, {\n                  mode: mode,\n                  count: e.wordCount\n                });\n                replaceCountText(comp, e.wordCount, mode);\n              });\n            })\n          ])\n        ]),\n        eventOrder: (_a = {}, _a[execute$5()] = [\n          'disabling',\n          'alloy.base.behaviour',\n          'wordcount-events'\n        ], _a)\n      });\n    };\n\n    var renderStatusbar = function (editor, providersBackstage) {\n      var renderBranding = function () {\n        var label = global$e.translate([\n          'Powered by {0}',\n          'Tiny'\n        ]);\n        var linkHtml = '<a href=\"https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5\" rel=\"noopener\" target=\"_blank\" tabindex=\"-1\" aria-label=\"' + label + '\">' + label + '</a>';\n        return {\n          dom: {\n            tag: 'span',\n            classes: ['tox-statusbar__branding'],\n            innerHtml: linkHtml\n          }\n        };\n      };\n      var getTextComponents = function () {\n        var components = [];\n        if (editor.getParam('elementpath', true, 'boolean')) {\n          components.push(renderElementPath(editor, {}, providersBackstage));\n        }\n        if (editor.hasPlugin('wordcount')) {\n          components.push(renderWordCount(editor, providersBackstage));\n        }\n        if (editor.getParam('branding', true, 'boolean')) {\n          components.push(renderBranding());\n        }\n        if (components.length > 0) {\n          return [{\n              dom: {\n                tag: 'div',\n                classes: ['tox-statusbar__text-container']\n              },\n              components: components\n            }];\n        }\n        return [];\n      };\n      var getComponents = function () {\n        var components = getTextComponents();\n        var resizeHandler = renderResizeHandler(editor, providersBackstage);\n        return components.concat(resizeHandler.toArray());\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar']\n        },\n        components: getComponents()\n      };\n    };\n\n    var setup$3 = function (editor) {\n      var _a;\n      var isInline = editor.inline;\n      var mode = isInline ? Inline : Iframe;\n      var header = isStickyToolbar(editor) ? StickyHeader : StaticHeader;\n      var lazyOuterContainer = Optional.none();\n      var platform = detect$1();\n      var isIE = platform.browser.isIE();\n      var platformClasses = isIE ? ['tox-platform-ie'] : [];\n      var isTouch = platform.deviceType.isTouch();\n      var touchPlatformClass = 'tox-platform-touch';\n      var deviceClasses = isTouch ? [touchPlatformClass] : [];\n      var isToolbarBottom = isToolbarLocationBottom(editor);\n      var uiContainer = getUiContainer(editor);\n      var dirAttributes = global$e.isRtl() ? { attributes: { dir: 'rtl' } } : {};\n      var verticalDirAttributes = { attributes: (_a = {}, _a[Attribute] = isToolbarBottom ? AttributeValue.BottomToTop : AttributeValue.TopToBottom, _a) };\n      var lazyHeader = function () {\n        return lazyOuterContainer.bind(OuterContainer.getHeader);\n      };\n      var isHeaderDocked = function () {\n        return header.isDocked(lazyHeader);\n      };\n      var resizeUiMothership = function () {\n        set$7(uiMothership.element, 'width', document.body.clientWidth + 'px');\n      };\n      var makeSinkDefinition = function () {\n        var isGridUiContainer = eq(body(), uiContainer) && get$c(uiContainer, 'display') === 'grid';\n        var sinkSpec = {\n          dom: __assign({\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-silver-sink',\n              'tox-tinymce-aux'\n            ].concat(platformClasses).concat(deviceClasses)\n          }, dirAttributes),\n          behaviours: derive$1([Positioning.config({\n              useFixed: function () {\n                return isHeaderDocked();\n              }\n            })])\n        };\n        var reactiveWidthSpec = {\n          dom: { styles: { width: document.body.clientWidth + 'px' } },\n          events: derive$2([run$1(windowResize(), resizeUiMothership)])\n        };\n        return deepMerge(sinkSpec, isGridUiContainer ? reactiveWidthSpec : {});\n      };\n      var sink = build$1(makeSinkDefinition());\n      var lazySink = function () {\n        return Result.value(sink);\n      };\n      var memAnchorBar = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-anchorbar']\n        }\n      });\n      var lazyAnchorBar = function () {\n        return lazyOuterContainer.bind(function (container) {\n          return memAnchorBar.getOpt(container);\n        }).getOrDie('Could not find a anchor bar element');\n      };\n      var lazyToolbar = function () {\n        return lazyOuterContainer.bind(function (container) {\n          return OuterContainer.getToolbar(container);\n        }).getOrDie('Could not find more toolbar element');\n      };\n      var lazyThrobber = function () {\n        return lazyOuterContainer.bind(function (container) {\n          return OuterContainer.getThrobber(container);\n        }).getOrDie('Could not find throbber element');\n      };\n      var backstage = init$7(sink, editor, lazyAnchorBar);\n      var partMenubar = OuterContainer.parts.menubar({\n        dom: {\n          tag: 'div',\n          classes: ['tox-menubar']\n        },\n        backstage: backstage,\n        onEscape: function () {\n          editor.focus();\n        }\n      });\n      var toolbarMode = getToolbarMode(editor);\n      var partToolbar = OuterContainer.parts.toolbar(__assign({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar']\n        },\n        getSink: lazySink,\n        providers: backstage.shared.providers,\n        onEscape: function () {\n          editor.focus();\n        },\n        type: toolbarMode,\n        lazyToolbar: lazyToolbar,\n        lazyHeader: function () {\n          return lazyHeader().getOrDie('Could not find header element');\n        }\n      }, verticalDirAttributes));\n      var partMultipleToolbar = OuterContainer.parts['multiple-toolbar']({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar-overlord']\n        },\n        providers: backstage.shared.providers,\n        onEscape: function () {\n          editor.focus();\n        },\n        type: toolbarMode\n      });\n      var partSocket = OuterContainer.parts.socket({\n        dom: {\n          tag: 'div',\n          classes: ['tox-edit-area']\n        }\n      });\n      var partSidebar = OuterContainer.parts.sidebar({\n        dom: {\n          tag: 'div',\n          classes: ['tox-sidebar']\n        }\n      });\n      var partThrobber = OuterContainer.parts.throbber({\n        dom: {\n          tag: 'div',\n          classes: ['tox-throbber']\n        },\n        backstage: backstage\n      });\n      var sb = editor.getParam('statusbar', true, 'boolean');\n      var statusbar = sb && !isInline ? Optional.some(renderStatusbar(editor, backstage.shared.providers)) : Optional.none();\n      var socketSidebarContainer = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-sidebar-wrap']\n        },\n        components: [\n          partSocket,\n          partSidebar\n        ]\n      };\n      var hasMultipleToolbar = isMultipleToolbars(editor);\n      var hasToolbar = isToolbarEnabled(editor);\n      var hasMenubar = isMenubarEnabled(editor);\n      var getPartToolbar = function () {\n        if (hasMultipleToolbar) {\n          return [partMultipleToolbar];\n        } else if (hasToolbar) {\n          return [partToolbar];\n        } else {\n          return [];\n        }\n      };\n      var partHeader = OuterContainer.parts.header({\n        dom: __assign({\n          tag: 'div',\n          classes: ['tox-editor-header']\n        }, verticalDirAttributes),\n        components: flatten([\n          hasMenubar ? [partMenubar] : [],\n          getPartToolbar(),\n          useFixedContainer(editor) ? [] : [memAnchorBar.asSpec()]\n        ]),\n        sticky: isStickyToolbar(editor),\n        editor: editor,\n        sharedBackstage: backstage.shared\n      });\n      var editorComponents = flatten([\n        isToolbarBottom ? [] : [partHeader],\n        isInline ? [] : [socketSidebarContainer],\n        isToolbarBottom ? [partHeader] : []\n      ]);\n      var editorContainer = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-editor-container']\n        },\n        components: editorComponents\n      };\n      var containerComponents = flatten([\n        [editorContainer],\n        isInline ? [] : statusbar.toArray(),\n        [partThrobber]\n      ]);\n      var isHidden = isDistractionFree(editor);\n      var attributes = __assign(__assign({ role: 'application' }, global$e.isRtl() ? { dir: 'rtl' } : {}), isHidden ? { 'aria-hidden': 'true' } : {});\n      var outerContainer = build$1(OuterContainer.sketch({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox',\n            'tox-tinymce'\n          ].concat(isInline ? ['tox-tinymce-inline'] : []).concat(isToolbarBottom ? ['tox-tinymce--toolbar-bottom'] : []).concat(deviceClasses).concat(platformClasses),\n          styles: __assign({ visibility: 'hidden' }, isHidden ? {\n            opacity: '0',\n            border: '0'\n          } : {}),\n          attributes: attributes\n        },\n        components: containerComponents,\n        behaviours: derive$1([\n          receivingConfig(),\n          Disabling.config({ disableClass: 'tox-tinymce--disabled' }),\n          Keying.config({\n            mode: 'cyclic',\n            selector: '.tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle'\n          })\n        ])\n      }));\n      lazyOuterContainer = Optional.some(outerContainer);\n      editor.shortcuts.add('alt+F9', 'focus menubar', function () {\n        OuterContainer.focusMenubar(outerContainer);\n      });\n      editor.shortcuts.add('alt+F10', 'focus toolbar', function () {\n        OuterContainer.focusToolbar(outerContainer);\n      });\n      editor.addCommand('ToggleToolbarDrawer', function () {\n        OuterContainer.toggleToolbarDrawer(outerContainer);\n      });\n      editor.addQueryStateHandler('ToggleToolbarDrawer', function () {\n        return OuterContainer.isToolbarDrawerToggled(outerContainer);\n      });\n      var mothership = takeover(outerContainer);\n      var uiMothership = takeover(sink);\n      setup$b(editor, mothership, uiMothership);\n      var getUi = function () {\n        var channels = {\n          broadcastAll: uiMothership.broadcast,\n          broadcastOn: uiMothership.broadcastOn,\n          register: noop\n        };\n        return { channels: channels };\n      };\n      var setEditorSize = function () {\n        var parsedHeight = numToPx(getHeightWithFallback(editor));\n        var parsedWidth = numToPx(getWidthWithFallback(editor));\n        if (!editor.inline) {\n          if (isValidValue('div', 'width', parsedWidth)) {\n            set$7(outerContainer.element, 'width', parsedWidth);\n          }\n          if (isValidValue('div', 'height', parsedHeight)) {\n            set$7(outerContainer.element, 'height', parsedHeight);\n          } else {\n            set$7(outerContainer.element, 'height', '200px');\n          }\n        }\n        return parsedHeight;\n      };\n      var renderUI = function () {\n        header.setup(editor, backstage.shared, lazyHeader);\n        setup$6(editor, backstage);\n        setup$5(editor, lazySink, backstage);\n        setup$8(editor);\n        setup$7(editor, lazyThrobber, backstage.shared);\n        map$1(getToolbarGroups(editor), function (toolbarGroupButtonConfig, name) {\n          editor.ui.registry.addGroupToolbarButton(name, toolbarGroupButtonConfig);\n        });\n        var _a = editor.ui.registry.getAll(), buttons = _a.buttons, menuItems = _a.menuItems, contextToolbars = _a.contextToolbars, sidebars = _a.sidebars;\n        var toolbarOpt = getMultipleToolbarsSetting(editor);\n        var rawUiConfig = {\n          menuItems: menuItems,\n          menus: getMenus(editor),\n          menubar: getMenubar(editor),\n          toolbar: toolbarOpt.getOrThunk(function () {\n            return getToolbar(editor);\n          }),\n          allowToolbarGroups: toolbarMode === ToolbarMode.floating,\n          buttons: buttons,\n          sidebar: sidebars\n        };\n        register$7(editor, contextToolbars, sink, { backstage: backstage });\n        setup$4(editor, sink);\n        var elm = editor.getElement();\n        var height = setEditorSize();\n        var uiComponents = {\n          mothership: mothership,\n          uiMothership: uiMothership,\n          outerContainer: outerContainer\n        };\n        var args = {\n          targetNode: elm,\n          height: height\n        };\n        return mode.render(editor, uiComponents, rawUiConfig, backstage, args);\n      };\n      return {\n        mothership: mothership,\n        uiMothership: uiMothership,\n        backstage: backstage,\n        renderUI: renderUI,\n        getUi: getUi\n      };\n    };\n\n    var describedBy = function (describedElement, describeElement) {\n      var describeId = Optional.from(get$d(describedElement, 'id')).fold(function () {\n        var id = generate$6('dialog-describe');\n        set$8(describeElement, 'id', id);\n        return id;\n      }, identity$1);\n      set$8(describedElement, 'aria-describedby', describeId);\n    };\n\n    var labelledBy = function (labelledElement, labelElement) {\n      var labelId = getOpt(labelledElement, 'id').fold(function () {\n        var id = generate$6('dialog-label');\n        set$8(labelElement, 'id', id);\n        return id;\n      }, identity$1);\n      set$8(labelledElement, 'aria-labelledby', labelId);\n    };\n\n    var schema$2 = constant$1([\n      required$1('lazySink'),\n      option('dragBlockClass'),\n      defaultedFunction('getBounds', win),\n      defaulted('useTabstopAt', always),\n      defaulted('eventOrder', {}),\n      field('modalBehaviours', [Keying]),\n      onKeyboardHandler('onExecute'),\n      onStrictKeyboardHandler('onEscape')\n    ]);\n    var basic = { sketch: identity$1 };\n    var parts$2 = constant$1([\n      optional({\n        name: 'draghandle',\n        overrides: function (detail, spec) {\n          return {\n            behaviours: derive$1([Dragging.config({\n                mode: 'mouse',\n                getTarget: function (handle) {\n                  return ancestor(handle, '[role=\"dialog\"]').getOr(handle);\n                },\n                blockerClass: detail.dragBlockClass.getOrDie(new Error('The drag blocker class was not specified for a dialog with a drag handle: \\n' + JSON.stringify(spec, null, 2)).message),\n                getBounds: detail.getDragBounds\n              })])\n          };\n        }\n      }),\n      required({\n        schema: [required$1('dom')],\n        name: 'title'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'close'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'body'\n      }),\n      optional({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'footer'\n      }),\n      external$1({\n        factory: {\n          sketch: function (spec, detail) {\n            return __assign(__assign({}, spec), {\n              dom: detail.dom,\n              components: detail.components\n            });\n          }\n        },\n        schema: [\n          defaulted('dom', {\n            tag: 'div',\n            styles: {\n              position: 'fixed',\n              left: '0px',\n              top: '0px',\n              right: '0px',\n              bottom: '0px'\n            }\n          }),\n          defaulted('components', [])\n        ],\n        name: 'blocker'\n      })\n    ]);\n\n    var factory$4 = function (detail, components, spec, externals) {\n      var _a;\n      var dialogComp = value$1();\n      var showDialog = function (dialog) {\n        dialogComp.set(dialog);\n        var sink = detail.lazySink(dialog).getOrDie();\n        var externalBlocker = externals.blocker();\n        var blocker = sink.getSystem().build(__assign(__assign({}, externalBlocker), {\n          components: externalBlocker.components.concat([premade(dialog)]),\n          behaviours: derive$1([\n            Focusing.config({}),\n            config('dialog-blocker-events', [runOnSource(focusin(), function () {\n                Keying.focusIn(dialog);\n              })])\n          ])\n        }));\n        attach(sink, blocker);\n        Keying.focusIn(dialog);\n      };\n      var hideDialog = function (dialog) {\n        dialogComp.clear();\n        parent(dialog.element).each(function (blockerDom) {\n          dialog.getSystem().getByDom(blockerDom).each(function (blocker) {\n            detach(blocker);\n          });\n        });\n      };\n      var getDialogBody = function (dialog) {\n        return getPartOrDie(dialog, detail, 'body');\n      };\n      var getDialogFooter = function (dialog) {\n        return getPartOrDie(dialog, detail, 'footer');\n      };\n      var setBusy = function (dialog, getBusySpec) {\n        Blocking.block(dialog, getBusySpec);\n      };\n      var setIdle = function (dialog) {\n        Blocking.unblock(dialog);\n      };\n      var modalEventsId = generate$6('modal-events');\n      var eventOrder = __assign(__assign({}, detail.eventOrder), (_a = {}, _a[attachedToDom()] = [modalEventsId].concat(detail.eventOrder['alloy.system.attached'] || []), _a));\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        apis: {\n          show: showDialog,\n          hide: hideDialog,\n          getBody: getDialogBody,\n          getFooter: getDialogFooter,\n          setIdle: setIdle,\n          setBusy: setBusy\n        },\n        eventOrder: eventOrder,\n        domModification: {\n          attributes: {\n            'role': 'dialog',\n            'aria-modal': 'true'\n          }\n        },\n        behaviours: augment(detail.modalBehaviours, [\n          Replacing.config({}),\n          Keying.config({\n            mode: 'cyclic',\n            onEnter: detail.onExecute,\n            onEscape: detail.onEscape,\n            useTabstopAt: detail.useTabstopAt\n          }),\n          Blocking.config({ getRoot: dialogComp.get }),\n          config(modalEventsId, [runOnAttached(function (c) {\n              labelledBy(c.element, getPartOrDie(c, detail, 'title').element);\n              describedBy(c.element, getPartOrDie(c, detail, 'body').element);\n            })])\n        ])\n      };\n    };\n    var ModalDialog = composite({\n      name: 'ModalDialog',\n      configFields: schema$2(),\n      partFields: parts$2(),\n      factory: factory$4,\n      apis: {\n        show: function (apis, dialog) {\n          apis.show(dialog);\n        },\n        hide: function (apis, dialog) {\n          apis.hide(dialog);\n        },\n        getBody: function (apis, dialog) {\n          return apis.getBody(dialog);\n        },\n        getFooter: function (apis, dialog) {\n          return apis.getFooter(dialog);\n        },\n        setBusy: function (apis, dialog, getBusySpec) {\n          apis.setBusy(dialog, getBusySpec);\n        },\n        setIdle: function (apis, dialog) {\n          apis.setIdle(dialog);\n        }\n      }\n    });\n\n    var dialogToggleMenuItemSchema = objOf([\n      requiredString('type'),\n      requiredString('name')\n    ].concat(commonMenuItemFields));\n    var dialogToggleMenuItemDataProcessor = boolean;\n\n    var baseFooterButtonFields = [\n      field$1('name', 'name', defaultedThunk(function () {\n        return generate$6('button-name');\n      }), string),\n      optionString('icon'),\n      defaultedStringEnum('align', 'end', [\n        'start',\n        'end'\n      ]),\n      defaultedBoolean('primary', false),\n      defaultedBoolean('disabled', false)\n    ];\n    var dialogFooterButtonFields = __spreadArray(__spreadArray([], baseFooterButtonFields, true), [requiredString('text')], false);\n    var normalFooterButtonFields = __spreadArray([requiredStringEnum('type', [\n        'submit',\n        'cancel',\n        'custom'\n      ])], dialogFooterButtonFields, true);\n    var menuFooterButtonFields = __spreadArray([\n      requiredStringEnum('type', ['menu']),\n      optionString('text'),\n      optionString('tooltip'),\n      optionString('icon'),\n      requiredArrayOf('items', dialogToggleMenuItemSchema)\n    ], baseFooterButtonFields, true);\n    var dialogFooterButtonSchema = choose$1('type', {\n      submit: normalFooterButtonFields,\n      cancel: normalFooterButtonFields,\n      custom: normalFooterButtonFields,\n      menu: menuFooterButtonFields\n    });\n\n    var alertBannerFields = [\n      requiredString('type'),\n      requiredString('text'),\n      requiredStringEnum('level', [\n        'info',\n        'warn',\n        'error',\n        'success'\n      ]),\n      requiredString('icon'),\n      defaulted('url', '')\n    ];\n    var alertBannerSchema = objOf(alertBannerFields);\n\n    var createBarFields = function (itemsField) {\n      return [\n        requiredString('type'),\n        itemsField\n      ];\n    };\n\n    var buttonFields = [\n      requiredString('type'),\n      requiredString('text'),\n      defaultedBoolean('disabled', false),\n      defaultedBoolean('primary', false),\n      field$1('name', 'name', defaultedThunk(function () {\n        return generate$6('button-name');\n      }), string),\n      optionString('icon'),\n      defaultedBoolean('borderless', false)\n    ];\n    var buttonSchema = objOf(buttonFields);\n\n    var checkboxFields = [\n      requiredString('type'),\n      requiredString('name'),\n      requiredString('label'),\n      defaultedBoolean('disabled', false)\n    ];\n    var checkboxSchema = objOf(checkboxFields);\n    var checkboxDataProcessor = boolean;\n\n    var formComponentFields = [\n      requiredString('type'),\n      requiredString('name')\n    ];\n    var formComponentWithLabelFields = formComponentFields.concat([optionString('label')]);\n\n    var collectionFields = formComponentWithLabelFields.concat([defaulted('columns', 'auto')]);\n    var collectionSchema = objOf(collectionFields);\n    var collectionDataProcessor = arrOfObj([\n      requiredString('value'),\n      requiredString('text'),\n      requiredString('icon')\n    ]);\n\n    var colorInputFields = formComponentWithLabelFields;\n    var colorInputSchema = objOf(colorInputFields);\n    var colorInputDataProcessor = string;\n\n    var colorPickerFields = formComponentWithLabelFields;\n    var colorPickerSchema = objOf(colorPickerFields);\n    var colorPickerDataProcessor = string;\n\n    var customEditorFields = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredString('scriptId'),\n      requiredString('scriptUrl'),\n      defaultedPostMsg('settings', undefined)\n    ]);\n    var customEditorFieldsOld = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredFunction('init')\n    ]);\n    var customEditorSchema = valueOf(function (v) {\n      return asRaw('customeditor.old', objOfOnly(customEditorFieldsOld), v).orThunk(function () {\n        return asRaw('customeditor.new', objOfOnly(customEditorFields), v);\n      });\n    });\n    var customEditorDataProcessor = string;\n\n    var dropZoneFields = formComponentWithLabelFields;\n    var dropZoneSchema = objOf(dropZoneFields);\n    var dropZoneDataProcessor = arrOfVal();\n\n    var createGridFields = function (itemsField) {\n      return [\n        requiredString('type'),\n        requiredNumber('columns'),\n        itemsField\n      ];\n    };\n\n    var htmlPanelFields = [\n      requiredString('type'),\n      requiredString('html'),\n      defaultedStringEnum('presets', 'presentation', [\n        'presentation',\n        'document'\n      ])\n    ];\n    var htmlPanelSchema = objOf(htmlPanelFields);\n\n    var iframeFields = formComponentWithLabelFields.concat([defaultedBoolean('sandboxed', true)]);\n    var iframeSchema = objOf(iframeFields);\n    var iframeDataProcessor = string;\n\n    var imageToolsFields = formComponentWithLabelFields.concat([requiredOf('currentState', objOf([\n        required$1('blob'),\n        requiredString('url')\n      ]))]);\n    var imageToolsSchema = objOf(imageToolsFields);\n\n    var inputFields = formComponentWithLabelFields.concat([\n      optionString('inputMode'),\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      defaultedBoolean('disabled', false)\n    ]);\n    var inputSchema = objOf(inputFields);\n    var inputDataProcessor = string;\n\n    var createLabelFields = function (itemsField) {\n      return [\n        requiredString('type'),\n        requiredString('label'),\n        itemsField\n      ];\n    };\n\n    var listBoxSingleItemFields = [\n      requiredString('text'),\n      requiredString('value')\n    ];\n    var listBoxNestedItemFields = [\n      requiredString('text'),\n      requiredArrayOf('items', thunkOf('items', function () {\n        return listBoxItemSchema;\n      }))\n    ];\n    var listBoxItemSchema = oneOf([\n      objOf(listBoxSingleItemFields),\n      objOf(listBoxNestedItemFields)\n    ]);\n    var listBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOf('items', listBoxItemSchema),\n      defaultedBoolean('disabled', false)\n    ]);\n    var listBoxSchema = objOf(listBoxFields);\n    var listBoxDataProcessor = string;\n\n    var selectBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOfObj('items', [\n        requiredString('text'),\n        requiredString('value')\n      ]),\n      defaultedNumber('size', 1),\n      defaultedBoolean('disabled', false)\n    ]);\n    var selectBoxSchema = objOf(selectBoxFields);\n    var selectBoxDataProcessor = string;\n\n    var sizeInputFields = formComponentWithLabelFields.concat([\n      defaultedBoolean('constrain', true),\n      defaultedBoolean('disabled', false)\n    ]);\n    var sizeInputSchema = objOf(sizeInputFields);\n    var sizeInputDataProcessor = objOf([\n      requiredString('width'),\n      requiredString('height')\n    ]);\n\n    var tableFields = [\n      requiredString('type'),\n      requiredArrayOf('header', string),\n      requiredArrayOf('cells', arrOf(string))\n    ];\n    var tableSchema = objOf(tableFields);\n\n    var textAreaFields = formComponentWithLabelFields.concat([\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      defaultedBoolean('disabled', false)\n    ]);\n    var textAreaSchema = objOf(textAreaFields);\n    var textAreaDataProcessor = string;\n\n    var urlInputFields = formComponentWithLabelFields.concat([\n      defaultedStringEnum('filetype', 'file', [\n        'image',\n        'media',\n        'file'\n      ]),\n      defaulted('disabled', false)\n    ]);\n    var urlInputSchema = objOf(urlInputFields);\n    var urlInputDataProcessor = objOf([\n      requiredString('value'),\n      defaulted('meta', {})\n    ]);\n\n    var createItemsField = function (name) {\n      return field$1('items', 'items', required$2(), arrOf(valueOf(function (v) {\n        return asRaw('Checking item of ' + name, itemSchema, v).fold(function (sErr) {\n          return Result.error(formatError(sErr));\n        }, function (passValue) {\n          return Result.value(passValue);\n        });\n      })));\n    };\n    var itemSchema = valueThunk(function () {\n      return choose$2('type', {\n        alertbanner: alertBannerSchema,\n        bar: objOf(createBarFields(createItemsField('bar'))),\n        button: buttonSchema,\n        checkbox: checkboxSchema,\n        colorinput: colorInputSchema,\n        colorpicker: colorPickerSchema,\n        dropzone: dropZoneSchema,\n        grid: objOf(createGridFields(createItemsField('grid'))),\n        iframe: iframeSchema,\n        input: inputSchema,\n        listbox: listBoxSchema,\n        selectbox: selectBoxSchema,\n        sizeinput: sizeInputSchema,\n        textarea: textAreaSchema,\n        urlinput: urlInputSchema,\n        customeditor: customEditorSchema,\n        htmlpanel: htmlPanelSchema,\n        imagetools: imageToolsSchema,\n        collection: collectionSchema,\n        label: objOf(createLabelFields(createItemsField('label'))),\n        table: tableSchema,\n        panel: panelSchema\n      });\n    });\n    var panelFields = [\n      requiredString('type'),\n      defaulted('classes', []),\n      requiredArrayOf('items', itemSchema)\n    ];\n    var panelSchema = objOf(panelFields);\n\n    var tabFields = [\n      field$1('name', 'name', defaultedThunk(function () {\n        return generate$6('tab-name');\n      }), string),\n      requiredString('title'),\n      requiredArrayOf('items', itemSchema)\n    ];\n    var tabPanelFields = [\n      requiredString('type'),\n      requiredArrayOfObj('tabs', tabFields)\n    ];\n    var tabPanelSchema = objOf(tabPanelFields);\n\n    var dialogButtonFields = dialogFooterButtonFields;\n    var dialogButtonSchema = dialogFooterButtonSchema;\n    var dialogSchema = objOf([\n      requiredString('title'),\n      requiredOf('body', choose$2('type', {\n        panel: panelSchema,\n        tabpanel: tabPanelSchema\n      })),\n      defaultedString('size', 'normal'),\n      requiredArrayOf('buttons', dialogButtonSchema),\n      defaulted('initialData', {}),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onChange', noop),\n      defaultedFunction('onSubmit', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onCancel', noop),\n      defaulted('onTabChange', noop)\n    ]);\n    var createDialog = function (spec) {\n      return asRaw('dialog', dialogSchema, spec);\n    };\n\n    var urlDialogButtonSchema = objOf(__spreadArray([requiredStringEnum('type', [\n        'cancel',\n        'custom'\n      ])], dialogButtonFields, true));\n    var urlDialogSchema = objOf([\n      requiredString('title'),\n      requiredString('url'),\n      optionNumber('height'),\n      optionNumber('width'),\n      optionArrayOf('buttons', urlDialogButtonSchema),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onCancel', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onMessage', noop)\n    ]);\n    var createUrlDialog = function (spec) {\n      return asRaw('dialog', urlDialogSchema, spec);\n    };\n\n    var getAllObjects = function (obj) {\n      if (isObject(obj)) {\n        return [obj].concat(bind$3(values(obj), getAllObjects));\n      } else if (isArray(obj)) {\n        return bind$3(obj, getAllObjects);\n      } else {\n        return [];\n      }\n    };\n\n    var isNamedItem = function (obj) {\n      return isString(obj.type) && isString(obj.name);\n    };\n    var dataProcessors = {\n      checkbox: checkboxDataProcessor,\n      colorinput: colorInputDataProcessor,\n      colorpicker: colorPickerDataProcessor,\n      dropzone: dropZoneDataProcessor,\n      input: inputDataProcessor,\n      iframe: iframeDataProcessor,\n      sizeinput: sizeInputDataProcessor,\n      selectbox: selectBoxDataProcessor,\n      listbox: listBoxDataProcessor,\n      size: sizeInputDataProcessor,\n      textarea: textAreaDataProcessor,\n      urlinput: urlInputDataProcessor,\n      customeditor: customEditorDataProcessor,\n      collection: collectionDataProcessor,\n      togglemenuitem: dialogToggleMenuItemDataProcessor\n    };\n    var getDataProcessor = function (item) {\n      return Optional.from(dataProcessors[item.type]);\n    };\n    var getNamedItems = function (structure) {\n      return filter$2(getAllObjects(structure), isNamedItem);\n    };\n\n    var createDataValidator = function (structure) {\n      var namedItems = getNamedItems(structure);\n      var fields = bind$3(namedItems, function (item) {\n        return getDataProcessor(item).fold(function () {\n          return [];\n        }, function (schema) {\n          return [requiredOf(item.name, schema)];\n        });\n      });\n      return objOf(fields);\n    };\n\n    var extract = function (structure) {\n      var internalDialog = getOrDie(createDialog(structure));\n      var dataValidator = createDataValidator(structure);\n      var initialData = structure.initialData;\n      return {\n        internalDialog: internalDialog,\n        dataValidator: dataValidator,\n        initialData: initialData\n      };\n    };\n    var DialogManager = {\n      open: function (factory, structure) {\n        var extraction = extract(structure);\n        return factory(extraction.internalDialog, extraction.initialData, extraction.dataValidator);\n      },\n      openUrl: function (factory, structure) {\n        var internalDialog = getOrDie(createUrlDialog(structure));\n        return factory(internalDialog);\n      },\n      redial: function (structure) {\n        return extract(structure);\n      }\n    };\n\n    var toValidValues = function (values) {\n      var errors = [];\n      var result = {};\n      each(values, function (value, name) {\n        value.fold(function () {\n          errors.push(name);\n        }, function (v) {\n          result[name] = v;\n        });\n      });\n      return errors.length > 0 ? Result.error(errors) : Result.value(result);\n    };\n\n    var renderBodyPanel = function (spec, backstage) {\n      var memForm = record(Form.sketch(function (parts) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-form'].concat(spec.classes)\n          },\n          components: map$2(spec.items, function (item) {\n            return interpretInForm(parts, item, backstage);\n          })\n        };\n      }));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            },\n            components: [memForm.asSpec()]\n          }],\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          }),\n          ComposingConfigs.memento(memForm),\n          RepresentingConfigs.memento(memForm, {\n            postprocess: function (formValue) {\n              return toValidValues(formValue).fold(function (err) {\n                console.error(err);\n                return {};\n              }, identity$1);\n            }\n          })\n        ])\n      };\n    };\n\n    var factory$3 = function (detail, _spec) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: detail.components,\n        events: events$a(detail.action),\n        behaviours: augment(detail.tabButtonBehaviours, [\n          Focusing.config({}),\n          Keying.config({\n            mode: 'execution',\n            useSpace: true,\n            useEnter: true\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.value\n            }\n          })\n        ]),\n        domModification: detail.domModification\n      };\n    };\n    var TabButton = single({\n      name: 'TabButton',\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('value'),\n        field$1('dom', 'dom', mergeWithThunk(function () {\n          return {\n            attributes: {\n              'role': 'tab',\n              'id': generate$6('aria'),\n              'aria-selected': 'false'\n            }\n          };\n        }), anyValue()),\n        option('action'),\n        defaulted('domModification', {}),\n        field('tabButtonBehaviours', [\n          Focusing,\n          Keying,\n          Representing\n        ]),\n        required$1('view')\n      ],\n      factory: factory$3\n    });\n\n    var schema$1 = constant$1([\n      required$1('tabs'),\n      required$1('dom'),\n      defaulted('clickToDismiss', false),\n      field('tabbarBehaviours', [\n        Highlighting,\n        Keying\n      ]),\n      markers$1([\n        'tabClass',\n        'selectedClass'\n      ])\n    ]);\n    var tabsPart = group({\n      factory: TabButton,\n      name: 'tabs',\n      unit: 'tab',\n      overrides: function (barDetail) {\n        var dismissTab$1 = function (tabbar, button) {\n          Highlighting.dehighlight(tabbar, button);\n          emitWith(tabbar, dismissTab(), {\n            tabbar: tabbar,\n            button: button\n          });\n        };\n        var changeTab$1 = function (tabbar, button) {\n          Highlighting.highlight(tabbar, button);\n          emitWith(tabbar, changeTab(), {\n            tabbar: tabbar,\n            button: button\n          });\n        };\n        return {\n          action: function (button) {\n            var tabbar = button.getSystem().getByUid(barDetail.uid).getOrDie();\n            var activeButton = Highlighting.isHighlighted(tabbar, button);\n            var response = function () {\n              if (activeButton && barDetail.clickToDismiss) {\n                return dismissTab$1;\n              } else if (!activeButton) {\n                return changeTab$1;\n              } else {\n                return noop;\n              }\n            }();\n            response(tabbar, button);\n          },\n          domModification: { classes: [barDetail.markers.tabClass] }\n        };\n      }\n    });\n    var parts$1 = constant$1([tabsPart]);\n\n    var factory$2 = function (detail, components, _spec, _externals) {\n      return {\n        'uid': detail.uid,\n        'dom': detail.dom,\n        components: components,\n        'debug.sketcher': 'Tabbar',\n        'domModification': { attributes: { role: 'tablist' } },\n        'behaviours': augment(detail.tabbarBehaviours, [\n          Highlighting.config({\n            highlightClass: detail.markers.selectedClass,\n            itemClass: detail.markers.tabClass,\n            onHighlight: function (tabbar, tab) {\n              set$8(tab.element, 'aria-selected', 'true');\n            },\n            onDehighlight: function (tabbar, tab) {\n              set$8(tab.element, 'aria-selected', 'false');\n            }\n          }),\n          Keying.config({\n            mode: 'flow',\n            getInitial: function (tabbar) {\n              return Highlighting.getHighlighted(tabbar).map(function (tab) {\n                return tab.element;\n              });\n            },\n            selector: '.' + detail.markers.tabClass,\n            executeOnMove: true\n          })\n        ])\n      };\n    };\n    var Tabbar = composite({\n      name: 'Tabbar',\n      configFields: schema$1(),\n      partFields: parts$1(),\n      factory: factory$2\n    });\n\n    var factory$1 = function (detail, _spec) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        behaviours: augment(detail.tabviewBehaviours, [Replacing.config({})]),\n        domModification: { attributes: { role: 'tabpanel' } }\n      };\n    };\n    var Tabview = single({\n      name: 'Tabview',\n      configFields: [field('tabviewBehaviours', [Replacing])],\n      factory: factory$1\n    });\n\n    var schema = constant$1([\n      defaulted('selectFirst', true),\n      onHandler('onChangeTab'),\n      onHandler('onDismissTab'),\n      defaulted('tabs', []),\n      field('tabSectionBehaviours', [])\n    ]);\n    var barPart = required({\n      factory: Tabbar,\n      schema: [\n        required$1('dom'),\n        requiredObjOf('markers', [\n          required$1('tabClass'),\n          required$1('selectedClass')\n        ])\n      ],\n      name: 'tabbar',\n      defaults: function (detail) {\n        return { tabs: detail.tabs };\n      }\n    });\n    var viewPart = required({\n      factory: Tabview,\n      name: 'tabview'\n    });\n    var parts = constant$1([\n      barPart,\n      viewPart\n    ]);\n\n    var factory = function (detail, components, _spec, _externals) {\n      var changeTab$1 = function (button) {\n        var tabValue = Representing.getValue(button);\n        getPart(button, detail, 'tabview').each(function (tabview) {\n          var tabWithValue = find$5(detail.tabs, function (t) {\n            return t.value === tabValue;\n          });\n          tabWithValue.each(function (tabData) {\n            var panel = tabData.view();\n            getOpt(button.element, 'id').each(function (id) {\n              set$8(tabview.element, 'aria-labelledby', id);\n            });\n            Replacing.set(tabview, panel);\n            detail.onChangeTab(tabview, button, panel);\n          });\n        });\n      };\n      var changeTabBy = function (section, byPred) {\n        getPart(section, detail, 'tabbar').each(function (tabbar) {\n          byPred(tabbar).each(emitExecute);\n        });\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: get$2(detail.tabSectionBehaviours),\n        events: derive$2(flatten([\n          detail.selectFirst ? [runOnAttached(function (section, _simulatedEvent) {\n              changeTabBy(section, Highlighting.getFirst);\n            })] : [],\n          [\n            run$1(changeTab(), function (section, simulatedEvent) {\n              var button = simulatedEvent.event.button;\n              changeTab$1(button);\n            }),\n            run$1(dismissTab(), function (section, simulatedEvent) {\n              var button = simulatedEvent.event.button;\n              detail.onDismissTab(section, button);\n            })\n          ]\n        ])),\n        apis: {\n          getViewItems: function (section) {\n            return getPart(section, detail, 'tabview').map(function (tabview) {\n              return Replacing.contents(tabview);\n            }).getOr([]);\n          },\n          showTab: function (section, tabKey) {\n            var getTabIfNotActive = function (tabbar) {\n              var candidates = Highlighting.getCandidates(tabbar);\n              var optTab = find$5(candidates, function (c) {\n                return Representing.getValue(c) === tabKey;\n              });\n              return optTab.filter(function (tab) {\n                return !Highlighting.isHighlighted(tabbar, tab);\n              });\n            };\n            changeTabBy(section, getTabIfNotActive);\n          }\n        }\n      };\n    };\n    var TabSection = composite({\n      name: 'TabSection',\n      configFields: schema(),\n      partFields: parts(),\n      factory: factory,\n      apis: {\n        getViewItems: function (apis, component) {\n          return apis.getViewItems(component);\n        },\n        showTab: function (apis, component, tabKey) {\n          apis.showTab(component, tabKey);\n        }\n      }\n    });\n\n    var measureHeights = function (allTabs, tabview, tabviewComp) {\n      return map$2(allTabs, function (_tab, i) {\n        Replacing.set(tabviewComp, allTabs[i].view());\n        var rect = tabview.dom.getBoundingClientRect();\n        Replacing.set(tabviewComp, []);\n        return rect.height;\n      });\n    };\n    var getMaxHeight = function (heights) {\n      return head(sort(heights, function (a, b) {\n        if (a > b) {\n          return -1;\n        } else if (a < b) {\n          return +1;\n        } else {\n          return 0;\n        }\n      }));\n    };\n    var getMaxTabviewHeight = function (dialog, tabview, tablist) {\n      var documentElement$1 = documentElement(dialog).dom;\n      var rootElm = ancestor(dialog, '.tox-dialog-wrap').getOr(dialog);\n      var isFixed = get$c(rootElm, 'position') === 'fixed';\n      var maxHeight;\n      if (isFixed) {\n        maxHeight = Math.max(documentElement$1.clientHeight, window.innerHeight);\n      } else {\n        maxHeight = Math.max(documentElement$1.offsetHeight, documentElement$1.scrollHeight);\n      }\n      var tabviewHeight = get$b(tabview);\n      var isTabListBeside = tabview.dom.offsetLeft >= tablist.dom.offsetLeft + get$a(tablist);\n      var currentTabHeight = isTabListBeside ? Math.max(get$b(tablist), tabviewHeight) : tabviewHeight;\n      var dialogTopMargin = parseInt(get$c(dialog, 'margin-top'), 10) || 0;\n      var dialogBottomMargin = parseInt(get$c(dialog, 'margin-bottom'), 10) || 0;\n      var dialogHeight = get$b(dialog) + dialogTopMargin + dialogBottomMargin;\n      var chromeHeight = dialogHeight - currentTabHeight;\n      return maxHeight - chromeHeight;\n    };\n    var showTab = function (allTabs, comp) {\n      head(allTabs).each(function (tab) {\n        return TabSection.showTab(comp, tab.value);\n      });\n    };\n    var setTabviewHeight = function (tabview, height) {\n      set$7(tabview, 'height', height + 'px');\n      if (!detect$1().browser.isIE()) {\n        set$7(tabview, 'flex-basis', height + 'px');\n      } else {\n        remove$6(tabview, 'flex-basis');\n      }\n    };\n    var updateTabviewHeight = function (dialogBody, tabview, maxTabHeight) {\n      ancestor(dialogBody, '[role=\"dialog\"]').each(function (dialog) {\n        descendant(dialog, '[role=\"tablist\"]').each(function (tablist) {\n          maxTabHeight.get().map(function (height) {\n            set$7(tabview, 'height', '0');\n            set$7(tabview, 'flex-basis', '0');\n            return Math.min(height, getMaxTabviewHeight(dialog, tabview, tablist));\n          }).each(function (height) {\n            setTabviewHeight(tabview, height);\n          });\n        });\n      });\n    };\n    var getTabview = function (dialog) {\n      return descendant(dialog, '[role=\"tabpanel\"]');\n    };\n    var setMode = function (allTabs) {\n      var smartTabHeight = function () {\n        var maxTabHeight = value$1();\n        var extraEvents = [\n          runOnAttached(function (comp) {\n            var dialog = comp.element;\n            getTabview(dialog).each(function (tabview) {\n              set$7(tabview, 'visibility', 'hidden');\n              comp.getSystem().getByDom(tabview).toOptional().each(function (tabviewComp) {\n                var heights = measureHeights(allTabs, tabview, tabviewComp);\n                var maxTabHeightOpt = getMaxHeight(heights);\n                maxTabHeightOpt.fold(maxTabHeight.clear, maxTabHeight.set);\n              });\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n              remove$6(tabview, 'visibility');\n              showTab(allTabs, comp);\n              global$f.requestAnimationFrame(function () {\n                updateTabviewHeight(dialog, tabview, maxTabHeight);\n              });\n            });\n          }),\n          run$1(windowResize(), function (comp) {\n            var dialog = comp.element;\n            getTabview(dialog).each(function (tabview) {\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n            });\n          }),\n          run$1(formResizeEvent, function (comp, _se) {\n            var dialog = comp.element;\n            getTabview(dialog).each(function (tabview) {\n              var oldFocus = active(getRootNode(tabview));\n              set$7(tabview, 'visibility', 'hidden');\n              var oldHeight = getRaw(tabview, 'height').map(function (h) {\n                return parseInt(h, 10);\n              });\n              remove$6(tabview, 'height');\n              remove$6(tabview, 'flex-basis');\n              var newHeight = tabview.dom.getBoundingClientRect().height;\n              var hasGrown = oldHeight.forall(function (h) {\n                return newHeight > h;\n              });\n              if (hasGrown) {\n                maxTabHeight.set(newHeight);\n                updateTabviewHeight(dialog, tabview, maxTabHeight);\n              } else {\n                oldHeight.each(function (h) {\n                  setTabviewHeight(tabview, h);\n                });\n              }\n              remove$6(tabview, 'visibility');\n              oldFocus.each(focus$3);\n            });\n          })\n        ];\n        var selectFirst = false;\n        return {\n          extraEvents: extraEvents,\n          selectFirst: selectFirst\n        };\n      }();\n      var naiveTabHeight = function () {\n        var extraEvents = [];\n        var selectFirst = true;\n        return {\n          extraEvents: extraEvents,\n          selectFirst: selectFirst\n        };\n      }();\n      return {\n        smartTabHeight: smartTabHeight,\n        naiveTabHeight: naiveTabHeight\n      };\n    };\n\n    var SendDataToSectionChannel = 'send-data-to-section';\n    var SendDataToViewChannel = 'send-data-to-view';\n    var renderTabPanel = function (spec, backstage) {\n      var storedValue = Cell({});\n      var updateDataWithForm = function (form) {\n        var formData = Representing.getValue(form);\n        var validData = toValidValues(formData).getOr({});\n        var currentData = storedValue.get();\n        var newData = deepMerge(currentData, validData);\n        storedValue.set(newData);\n      };\n      var setDataOnForm = function (form) {\n        var tabData = storedValue.get();\n        Representing.setValue(form, tabData);\n      };\n      var oldTab = Cell(null);\n      var allTabs = map$2(spec.tabs, function (tab) {\n        return {\n          value: tab.name,\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__body-nav-item'],\n            innerHtml: backstage.shared.providers.translate(tab.title)\n          },\n          view: function () {\n            return [Form.sketch(function (parts) {\n                return {\n                  dom: {\n                    tag: 'div',\n                    classes: ['tox-form']\n                  },\n                  components: map$2(tab.items, function (item) {\n                    return interpretInForm(parts, item, backstage);\n                  }),\n                  formBehaviours: derive$1([\n                    Keying.config({\n                      mode: 'acyclic',\n                      useTabstopAt: not(isPseudoStop)\n                    }),\n                    config('TabView.form.events', [\n                      runOnAttached(setDataOnForm),\n                      runOnDetached(updateDataWithForm)\n                    ]),\n                    Receiving.config({\n                      channels: wrapAll([\n                        {\n                          key: SendDataToSectionChannel,\n                          value: { onReceive: updateDataWithForm }\n                        },\n                        {\n                          key: SendDataToViewChannel,\n                          value: { onReceive: setDataOnForm }\n                        }\n                      ])\n                    })\n                  ])\n                };\n              })];\n          }\n        };\n      });\n      var tabMode = setMode(allTabs).smartTabHeight;\n      return TabSection.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        onChangeTab: function (section, button, _viewItems) {\n          var name = Representing.getValue(button);\n          emitWith(section, formTabChangeEvent, {\n            name: name,\n            oldName: oldTab.get()\n          });\n          oldTab.set(name);\n        },\n        tabs: allTabs,\n        components: [\n          TabSection.parts.tabbar({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-nav']\n            },\n            components: [Tabbar.parts.tabs({})],\n            markers: {\n              tabClass: 'tox-tab',\n              selectedClass: 'tox-dialog__body-nav-item--active'\n            },\n            tabbarBehaviours: derive$1([Tabstopping.config({})])\n          }),\n          TabSection.parts.tabview({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            }\n          })\n        ],\n        selectFirst: tabMode.selectFirst,\n        tabSectionBehaviours: derive$1([\n          config('tabpanel', tabMode.extraEvents),\n          Keying.config({ mode: 'acyclic' }),\n          Composing.config({\n            find: function (comp) {\n              return head(TabSection.getViewItems(comp));\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (tsection) {\n                tsection.getSystem().broadcastOn([SendDataToSectionChannel], {});\n                return storedValue.get();\n              },\n              setValue: function (tsection, value) {\n                storedValue.set(value);\n                tsection.getSystem().broadcastOn([SendDataToViewChannel], {});\n              }\n            }\n          })\n        ])\n      });\n    };\n\n    var dialogChannel = generate$6('update-dialog');\n    var titleChannel = generate$6('update-title');\n    var bodyChannel = generate$6('update-body');\n    var footerChannel = generate$6('update-footer');\n    var bodySendMessageChannel = generate$6('body-send-message');\n\n    var renderBody = function (spec, id, backstage, ariaAttrs) {\n      var renderComponents = function (incoming) {\n        switch (incoming.body.type) {\n        case 'tabpanel': {\n            return [renderTabPanel(incoming.body, backstage)];\n          }\n        default: {\n            return [renderBodyPanel(incoming.body, backstage)];\n          }\n        }\n      };\n      var updateState = function (_comp, incoming) {\n        return Optional.some({\n          isTabPanel: function () {\n            return incoming.body.type === 'tabpanel';\n          }\n        });\n      };\n      var ariaAttributes = { 'aria-live': 'polite' };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js'],\n          attributes: __assign(__assign({}, id.map(function (x) {\n            return { id: x };\n          }).getOr({})), ariaAttrs ? ariaAttributes : {})\n        },\n        components: [],\n        behaviours: derive$1([\n          ComposingConfigs.childAt(0),\n          Reflecting.config({\n            channel: bodyChannel,\n            updateState: updateState,\n            renderComponents: renderComponents,\n            initialData: spec\n          })\n        ])\n      };\n    };\n    var renderInlineBody = function (spec, contentId, backstage, ariaAttrs) {\n      return renderBody(spec, Optional.some(contentId), backstage, ariaAttrs);\n    };\n    var renderModalBody = function (spec, backstage) {\n      var bodySpec = renderBody(spec, Optional.none(), backstage, false);\n      return ModalDialog.parts.body(bodySpec);\n    };\n    var renderIframeBody = function (spec) {\n      var bodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-iframe']\n            },\n            components: [craft({\n                dom: {\n                  tag: 'iframe',\n                  attributes: { src: spec.url }\n                },\n                behaviours: derive$1([\n                  Tabstopping.config({}),\n                  Focusing.config({})\n                ])\n              })]\n          }],\n        behaviours: derive$1([Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          })])\n      };\n      return ModalDialog.parts.body(bodySpec);\n    };\n\n    var isTouch = global$9.deviceType.isTouch();\n    var hiddenHeader = function (title, close) {\n      return {\n        dom: {\n          tag: 'div',\n          styles: { display: 'none' },\n          classes: ['tox-dialog__header']\n        },\n        components: [\n          title,\n          close\n        ]\n      };\n    };\n    var pClose = function (onClose, providersBackstage) {\n      return ModalDialog.parts.close(Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-button',\n            'tox-button--icon',\n            'tox-button--naked'\n          ],\n          attributes: {\n            'type': 'button',\n            'aria-label': providersBackstage.translate('Close')\n          }\n        },\n        action: onClose,\n        buttonBehaviours: derive$1([Tabstopping.config({})])\n      }));\n    };\n    var pUntitled = function () {\n      return ModalDialog.parts.title({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__title'],\n          innerHtml: '',\n          styles: { display: 'none' }\n        }\n      });\n    };\n    var pBodyMessage = function (message, providersBackstage) {\n      return ModalDialog.parts.body({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            },\n            components: [{ dom: fromHtml('<p>' + providersBackstage.translate(message) + '</p>') }]\n          }]\n      });\n    };\n    var pFooter = function (buttons) {\n      return ModalDialog.parts.footer({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__footer']\n        },\n        components: buttons\n      });\n    };\n    var pFooterGroup = function (startButtons, endButtons) {\n      return [\n        Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__footer-start']\n          },\n          components: startButtons\n        }),\n        Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__footer-end']\n          },\n          components: endButtons\n        })\n      ];\n    };\n    var renderDialog$1 = function (spec) {\n      var _a;\n      var dialogClass = 'tox-dialog';\n      var blockerClass = dialogClass + '-wrap';\n      var blockerBackdropClass = blockerClass + '__backdrop';\n      var scrollLockClass = dialogClass + '__disable-scroll';\n      return ModalDialog.sketch({\n        lazySink: spec.lazySink,\n        onEscape: function (comp) {\n          spec.onEscape(comp);\n          return Optional.some(true);\n        },\n        useTabstopAt: function (elem) {\n          return !isPseudoStop(elem);\n        },\n        dom: {\n          tag: 'div',\n          classes: [dialogClass].concat(spec.extraClasses),\n          styles: __assign({ position: 'relative' }, spec.extraStyles)\n        },\n        components: __spreadArray([\n          spec.header,\n          spec.body\n        ], spec.footer.toArray(), true),\n        parts: {\n          blocker: {\n            dom: fromHtml('<div class=\"' + blockerClass + '\"></div>'),\n            components: [{\n                dom: {\n                  tag: 'div',\n                  classes: isTouch ? [\n                    blockerBackdropClass,\n                    blockerBackdropClass + '--opaque'\n                  ] : [blockerBackdropClass]\n                }\n              }]\n          }\n        },\n        dragBlockClass: blockerClass,\n        modalBehaviours: derive$1(__spreadArray([\n          Focusing.config({}),\n          config('dialog-events', spec.dialogEvents.concat([runOnSource(focusin(), function (comp, _se) {\n              Keying.focusIn(comp);\n            })])),\n          config('scroll-lock', [\n            runOnAttached(function () {\n              add$2(body(), scrollLockClass);\n            }),\n            runOnDetached(function () {\n              remove$2(body(), scrollLockClass);\n            })\n          ])\n        ], spec.extraBehaviours, true)),\n        eventOrder: __assign((_a = {}, _a[execute$5()] = ['dialog-events'], _a[attachedToDom()] = [\n          'scroll-lock',\n          'dialog-events',\n          'alloy.base.behaviour'\n        ], _a[detachedFromDom()] = [\n          'alloy.base.behaviour',\n          'dialog-events',\n          'scroll-lock'\n        ], _a), spec.eventOrder)\n      });\n    };\n\n    var renderClose = function (providersBackstage) {\n      return Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-button',\n            'tox-button--icon',\n            'tox-button--naked'\n          ],\n          attributes: {\n            'type': 'button',\n            'aria-label': providersBackstage.translate('Close'),\n            'title': providersBackstage.translate('Close')\n          }\n        },\n        components: [render$3('close', {\n            tag: 'div',\n            classes: ['tox-icon']\n          }, providersBackstage.icons)],\n        action: function (comp) {\n          emit(comp, formCancelEvent);\n        }\n      });\n    };\n    var renderTitle = function (spec, id, providersBackstage) {\n      var renderComponents = function (data) {\n        return [text(providersBackstage.translate(data.title))];\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__title'],\n          attributes: __assign({}, id.map(function (x) {\n            return { id: x };\n          }).getOr({}))\n        },\n        components: renderComponents(spec),\n        behaviours: derive$1([Reflecting.config({\n            channel: titleChannel,\n            renderComponents: renderComponents\n          })])\n      };\n    };\n    var renderDragHandle = function () {\n      return { dom: fromHtml('<div class=\"tox-dialog__draghandle\"></div>') };\n    };\n    var renderInlineHeader = function (spec, titleId, providersBackstage) {\n      return Container.sketch({\n        dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n        components: [\n          renderTitle(spec, Optional.some(titleId), providersBackstage),\n          renderDragHandle(),\n          renderClose(providersBackstage)\n        ],\n        containerBehaviours: derive$1([Dragging.config({\n            mode: 'mouse',\n            blockerClass: 'blocker',\n            getTarget: function (handle) {\n              return closest$1(handle, '[role=\"dialog\"]').getOrDie();\n            },\n            snaps: {\n              getSnapPoints: function () {\n                return [];\n              },\n              leftAttr: 'data-drag-left',\n              topAttr: 'data-drag-top'\n            }\n          })])\n      });\n    };\n    var renderModalHeader = function (spec, providersBackstage) {\n      var pTitle = ModalDialog.parts.title(renderTitle(spec, Optional.none(), providersBackstage));\n      var pHandle = ModalDialog.parts.draghandle(renderDragHandle());\n      var pClose = ModalDialog.parts.close(renderClose(providersBackstage));\n      var components = [pTitle].concat(spec.draggable ? [pHandle] : []).concat([pClose]);\n      return Container.sketch({\n        dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n        components: components\n      });\n    };\n\n    var getHeader = function (title, backstage) {\n      return renderModalHeader({\n        title: backstage.shared.providers.translate(title),\n        draggable: backstage.dialog.isDraggableModal()\n      }, backstage.shared.providers);\n    };\n    var getBusySpec = function (message, bs, providers) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__busy-spinner'],\n          attributes: { 'aria-label': providers.translate(message) },\n          styles: {\n            left: '0px',\n            right: '0px',\n            bottom: '0px',\n            top: '0px',\n            position: 'absolute'\n          }\n        },\n        behaviours: bs,\n        components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n      };\n    };\n    var getEventExtras = function (lazyDialog, providers, extra) {\n      return {\n        onClose: function () {\n          return extra.closeWindow();\n        },\n        onBlock: function (blockEvent) {\n          ModalDialog.setBusy(lazyDialog(), function (_comp, bs) {\n            return getBusySpec(blockEvent.message, bs, providers);\n          });\n        },\n        onUnblock: function () {\n          ModalDialog.setIdle(lazyDialog());\n        }\n      };\n    };\n    var renderModalDialog = function (spec, initialData, dialogEvents, backstage) {\n      var _a;\n      var updateState = function (_comp, incoming) {\n        return Optional.some(incoming);\n      };\n      return build$1(renderDialog$1(__assign(__assign({}, spec), {\n        lazySink: backstage.shared.getSink,\n        extraBehaviours: __spreadArray([\n          Reflecting.config({\n            channel: dialogChannel,\n            updateState: updateState,\n            initialData: initialData\n          }),\n          RepresentingConfigs.memory({})\n        ], spec.extraBehaviours, true),\n        onEscape: function (comp) {\n          emit(comp, formCancelEvent);\n        },\n        dialogEvents: dialogEvents,\n        eventOrder: (_a = {}, _a[receive()] = [\n          Reflecting.name(),\n          Receiving.name()\n        ], _a[attachedToDom()] = [\n          'scroll-lock',\n          Reflecting.name(),\n          'messages',\n          'dialog-events',\n          'alloy.base.behaviour'\n        ], _a[detachedFromDom()] = [\n          'alloy.base.behaviour',\n          'dialog-events',\n          'messages',\n          Reflecting.name(),\n          'scroll-lock'\n        ], _a)\n      })));\n    };\n    var mapMenuButtons = function (buttons) {\n      var mapItems = function (button) {\n        var items = map$2(button.items, function (item) {\n          var cell = Cell(false);\n          return __assign(__assign({}, item), { storage: cell });\n        });\n        return __assign(__assign({}, button), { items: items });\n      };\n      return map$2(buttons, function (button) {\n        if (button.type === 'menu') {\n          return mapItems(button);\n        }\n        return button;\n      });\n    };\n    var extractCellsToObject = function (buttons) {\n      return foldl(buttons, function (acc, button) {\n        if (button.type === 'menu') {\n          var menuButton = button;\n          return foldl(menuButton.items, function (innerAcc, item) {\n            innerAcc[item.name] = item.storage;\n            return innerAcc;\n          }, acc);\n        }\n        return acc;\n      }, {});\n    };\n\n    var initCommonEvents = function (fireApiEvent, extras) {\n      return [\n        runWithTarget(focusin(), onFocus),\n        fireApiEvent(formCloseEvent, function (_api, spec) {\n          extras.onClose();\n          spec.onClose();\n        }),\n        fireApiEvent(formCancelEvent, function (api, spec, _event, self) {\n          spec.onCancel(api);\n          emit(self, formCloseEvent);\n        }),\n        run$1(formUnblockEvent, function (_c, _se) {\n          return extras.onUnblock();\n        }),\n        run$1(formBlockEvent, function (_c, se) {\n          return extras.onBlock(se.event);\n        })\n      ];\n    };\n    var initUrlDialog = function (getInstanceApi, extras) {\n      var fireApiEvent = function (eventName, f) {\n        return run$1(eventName, function (c, se) {\n          withSpec(c, function (spec, _c) {\n            f(getInstanceApi(), spec, se.event, c);\n          });\n        });\n      };\n      var withSpec = function (c, f) {\n        Reflecting.getState(c).get().each(function (currentDialog) {\n          f(currentDialog, c);\n        });\n      };\n      return __spreadArray(__spreadArray([], initCommonEvents(fireApiEvent, extras), true), [fireApiEvent(formActionEvent, function (api, spec, event) {\n          spec.onAction(api, { name: event.name });\n        })], false);\n    };\n    var initDialog = function (getInstanceApi, extras, getSink) {\n      var fireApiEvent = function (eventName, f) {\n        return run$1(eventName, function (c, se) {\n          withSpec(c, function (spec, _c) {\n            f(getInstanceApi(), spec, se.event, c);\n          });\n        });\n      };\n      var withSpec = function (c, f) {\n        Reflecting.getState(c).get().each(function (currentDialogInit) {\n          f(currentDialogInit.internalDialog, c);\n        });\n      };\n      return __spreadArray(__spreadArray([], initCommonEvents(fireApiEvent, extras), true), [\n        fireApiEvent(formSubmitEvent, function (api, spec) {\n          return spec.onSubmit(api);\n        }),\n        fireApiEvent(formChangeEvent, function (api, spec, event) {\n          spec.onChange(api, { name: event.name });\n        }),\n        fireApiEvent(formActionEvent, function (api, spec, event, component) {\n          var focusIn = function () {\n            return Keying.focusIn(component);\n          };\n          var isDisabled = function (focused) {\n            return has$1(focused, 'disabled') || getOpt(focused, 'aria-disabled').exists(function (val) {\n              return val === 'true';\n            });\n          };\n          var rootNode = getRootNode(component.element);\n          var current = active(rootNode);\n          spec.onAction(api, {\n            name: event.name,\n            value: event.value\n          });\n          active(rootNode).fold(focusIn, function (focused) {\n            if (isDisabled(focused)) {\n              focusIn();\n            } else if (current.exists(function (cur) {\n                return contains(focused, cur) && isDisabled(cur);\n              })) {\n              focusIn();\n            } else {\n              getSink().toOptional().filter(function (sink) {\n                return !contains(sink.element, focused);\n              }).each(focusIn);\n            }\n          });\n        }),\n        fireApiEvent(formTabChangeEvent, function (api, spec, event) {\n          spec.onTabChange(api, {\n            newTabName: event.name,\n            oldTabName: event.oldName\n          });\n        }),\n        runOnDetached(function (component) {\n          var api = getInstanceApi();\n          Representing.setValue(component, api.getData());\n        })\n      ], false);\n    };\n    var SilverDialogEvents = {\n      initUrlDialog: initUrlDialog,\n      initDialog: initDialog\n    };\n\n    var makeButton = function (button, backstage) {\n      return renderFooterButton(button, button.type, backstage);\n    };\n    var lookup = function (compInSystem, footerButtons, buttonName) {\n      return find$5(footerButtons, function (button) {\n        return button.name === buttonName;\n      }).bind(function (memButton) {\n        return memButton.memento.getOpt(compInSystem);\n      });\n    };\n    var renderComponents = function (_data, state) {\n      var footerButtons = state.map(function (s) {\n        return s.footerButtons;\n      }).getOr([]);\n      var buttonGroups = partition$3(footerButtons, function (button) {\n        return button.align === 'start';\n      });\n      var makeGroup = function (edge, buttons) {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__footer-' + edge]\n          },\n          components: map$2(buttons, function (button) {\n            return button.memento.asSpec();\n          })\n        });\n      };\n      var startButtons = makeGroup('start', buttonGroups.pass);\n      var endButtons = makeGroup('end', buttonGroups.fail);\n      return [\n        startButtons,\n        endButtons\n      ];\n    };\n    var renderFooter = function (initSpec, backstage) {\n      var updateState = function (_comp, data) {\n        var footerButtons = map$2(data.buttons, function (button) {\n          var memButton = record(makeButton(button, backstage));\n          return {\n            name: button.name,\n            align: button.align,\n            memento: memButton\n          };\n        });\n        var lookupByName = function (compInSystem, buttonName) {\n          return lookup(compInSystem, footerButtons, buttonName);\n        };\n        return Optional.some({\n          lookupByName: lookupByName,\n          footerButtons: footerButtons\n        });\n      };\n      return {\n        dom: fromHtml('<div class=\"tox-dialog__footer\"></div>'),\n        components: [],\n        behaviours: derive$1([Reflecting.config({\n            channel: footerChannel,\n            initialData: initSpec,\n            updateState: updateState,\n            renderComponents: renderComponents\n          })])\n      };\n    };\n    var renderInlineFooter = function (initSpec, backstage) {\n      return renderFooter(initSpec, backstage);\n    };\n    var renderModalFooter = function (initSpec, backstage) {\n      return ModalDialog.parts.footer(renderFooter(initSpec, backstage));\n    };\n\n    var getCompByName = function (access, name) {\n      var root = access.getRoot();\n      if (root.getSystem().isConnected()) {\n        var form_1 = Composing.getCurrent(access.getFormWrapper()).getOr(access.getFormWrapper());\n        return Form.getField(form_1, name).fold(function () {\n          var footer = access.getFooter();\n          var footerState = Reflecting.getState(footer);\n          return footerState.get().bind(function (f) {\n            return f.lookupByName(form_1, name);\n          });\n        }, function (comp) {\n          return Optional.some(comp);\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    var validateData$1 = function (access, data) {\n      var root = access.getRoot();\n      return Reflecting.getState(root).get().map(function (dialogState) {\n        return getOrDie(asRaw('data', dialogState.dataValidator, data));\n      }).getOr(data);\n    };\n    var getDialogApi = function (access, doRedial, menuItemStates) {\n      var withRoot = function (f) {\n        var root = access.getRoot();\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      var getData = function () {\n        var root = access.getRoot();\n        var valueComp = root.getSystem().isConnected() ? access.getFormWrapper() : root;\n        var representedValues = Representing.getValue(valueComp);\n        var menuItemCurrentState = map$1(menuItemStates, function (cell) {\n          return cell.get();\n        });\n        return __assign(__assign({}, representedValues), menuItemCurrentState);\n      };\n      var setData = function (newData) {\n        withRoot(function (_) {\n          var prevData = instanceApi.getData();\n          var mergedData = __assign(__assign({}, prevData), newData);\n          var newInternalData = validateData$1(access, mergedData);\n          var form = access.getFormWrapper();\n          Representing.setValue(form, newInternalData);\n          each(menuItemStates, function (v, k) {\n            if (has$2(mergedData, k)) {\n              v.set(mergedData[k]);\n            }\n          });\n        });\n      };\n      var disable = function (name) {\n        getCompByName(access, name).each(Disabling.disable);\n      };\n      var enable = function (name) {\n        getCompByName(access, name).each(Disabling.enable);\n      };\n      var focus = function (name) {\n        getCompByName(access, name).each(Focusing.focus);\n      };\n      var block = function (message) {\n        if (!isString(message)) {\n          throw new Error('The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(function (root) {\n          emitWith(root, formBlockEvent, { message: message });\n        });\n      };\n      var unblock = function () {\n        withRoot(function (root) {\n          emit(root, formUnblockEvent);\n        });\n      };\n      var showTab = function (name) {\n        withRoot(function (_) {\n          var body = access.getBody();\n          var bodyState = Reflecting.getState(body);\n          if (bodyState.get().exists(function (b) {\n              return b.isTabPanel();\n            })) {\n            Composing.getCurrent(body).each(function (tabSection) {\n              TabSection.showTab(tabSection, name);\n            });\n          }\n        });\n      };\n      var redial = function (d) {\n        withRoot(function (root) {\n          var dialogInit = doRedial(d);\n          root.getSystem().broadcastOn([dialogChannel], dialogInit);\n          root.getSystem().broadcastOn([titleChannel], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([bodyChannel], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([footerChannel], dialogInit.internalDialog);\n          instanceApi.setData(dialogInit.initialData);\n        });\n      };\n      var close = function () {\n        withRoot(function (root) {\n          emit(root, formCloseEvent);\n        });\n      };\n      var instanceApi = {\n        getData: getData,\n        setData: setData,\n        disable: disable,\n        enable: enable,\n        focus: focus,\n        block: block,\n        unblock: unblock,\n        showTab: showTab,\n        redial: redial,\n        close: close\n      };\n      return instanceApi;\n    };\n\n    var getDialogSizeClasses = function (size) {\n      switch (size) {\n      case 'large':\n        return ['tox-dialog--width-lg'];\n      case 'medium':\n        return ['tox-dialog--width-md'];\n      default:\n        return [];\n      }\n    };\n    var renderDialog = function (dialogInit, extra, backstage) {\n      var header = getHeader(dialogInit.internalDialog.title, backstage);\n      var body = renderModalBody({ body: dialogInit.internalDialog.body }, backstage);\n      var storagedMenuButtons = mapMenuButtons(dialogInit.internalDialog.buttons);\n      var objOfCells = extractCellsToObject(storagedMenuButtons);\n      var footer = renderModalFooter({ buttons: storagedMenuButtons }, backstage);\n      var dialogEvents = SilverDialogEvents.initDialog(function () {\n        return instanceApi;\n      }, getEventExtras(function () {\n        return dialog;\n      }, backstage.shared.providers, extra), backstage.shared.getSink);\n      var dialogSize = getDialogSizeClasses(dialogInit.internalDialog.size);\n      var spec = {\n        header: header,\n        body: body,\n        footer: Optional.some(footer),\n        extraClasses: dialogSize,\n        extraBehaviours: [],\n        extraStyles: {}\n      };\n      var dialog = renderModalDialog(spec, dialogInit, dialogEvents, backstage);\n      var modalAccess = function () {\n        var getForm = function () {\n          var outerForm = ModalDialog.getBody(dialog);\n          return Composing.getCurrent(outerForm).getOr(outerForm);\n        };\n        return {\n          getRoot: constant$1(dialog),\n          getBody: function () {\n            return ModalDialog.getBody(dialog);\n          },\n          getFooter: function () {\n            return ModalDialog.getFooter(dialog);\n          },\n          getFormWrapper: getForm\n        };\n      }();\n      var instanceApi = getDialogApi(modalAccess, extra.redial, objOfCells);\n      return {\n        dialog: dialog,\n        instanceApi: instanceApi\n      };\n    };\n\n    var renderInlineDialog = function (dialogInit, extra, backstage, ariaAttrs) {\n      var _a, _b;\n      var dialogLabelId = generate$6('dialog-label');\n      var dialogContentId = generate$6('dialog-content');\n      var updateState = function (_comp, incoming) {\n        return Optional.some(incoming);\n      };\n      var memHeader = record(renderInlineHeader({\n        title: dialogInit.internalDialog.title,\n        draggable: true\n      }, dialogLabelId, backstage.shared.providers));\n      var memBody = record(renderInlineBody({ body: dialogInit.internalDialog.body }, dialogContentId, backstage, ariaAttrs));\n      var storagedMenuButtons = mapMenuButtons(dialogInit.internalDialog.buttons);\n      var objOfCells = extractCellsToObject(storagedMenuButtons);\n      var memFooter = record(renderInlineFooter({ buttons: storagedMenuButtons }, backstage));\n      var dialogEvents = SilverDialogEvents.initDialog(function () {\n        return instanceApi;\n      }, {\n        onBlock: function (event) {\n          Blocking.block(dialog, function (_comp, bs) {\n            return getBusySpec(event.message, bs, backstage.shared.providers);\n          });\n        },\n        onUnblock: function () {\n          Blocking.unblock(dialog);\n        },\n        onClose: function () {\n          return extra.closeWindow();\n        }\n      }, backstage.shared.getSink);\n      var dialog = build$1({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-dialog',\n            'tox-dialog-inline'\n          ],\n          attributes: (_a = { role: 'dialog' }, _a['aria-labelledby'] = dialogLabelId, _a['aria-describedby'] = dialogContentId, _a)\n        },\n        eventOrder: (_b = {}, _b[receive()] = [\n          Reflecting.name(),\n          Receiving.name()\n        ], _b[execute$5()] = ['execute-on-form'], _b[attachedToDom()] = [\n          'reflecting',\n          'execute-on-form'\n        ], _b),\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'cyclic',\n            onEscape: function (c) {\n              emit(c, formCloseEvent);\n              return Optional.some(true);\n            },\n            useTabstopAt: function (elem) {\n              return !isPseudoStop(elem) && (name$2(elem) !== 'button' || get$d(elem, 'disabled') !== 'disabled');\n            }\n          }),\n          Reflecting.config({\n            channel: dialogChannel,\n            updateState: updateState,\n            initialData: dialogInit\n          }),\n          Focusing.config({}),\n          config('execute-on-form', dialogEvents.concat([runOnSource(focusin(), function (comp, _se) {\n              Keying.focusIn(comp);\n            })])),\n          Blocking.config({\n            getRoot: function () {\n              return Optional.some(dialog);\n            }\n          }),\n          Replacing.config({}),\n          RepresentingConfigs.memory({})\n        ]),\n        components: [\n          memHeader.asSpec(),\n          memBody.asSpec(),\n          memFooter.asSpec()\n        ]\n      });\n      var instanceApi = getDialogApi({\n        getRoot: constant$1(dialog),\n        getFooter: function () {\n          return memFooter.get(dialog);\n        },\n        getBody: function () {\n          return memBody.get(dialog);\n        },\n        getFormWrapper: function () {\n          var body = memBody.get(dialog);\n          return Composing.getCurrent(body).getOr(body);\n        }\n      }, extra.redial, objOfCells);\n      return {\n        dialog: dialog,\n        instanceApi: instanceApi\n      };\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    var getUrlDialogApi = function (root) {\n      var withRoot = function (f) {\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      var block = function (message) {\n        if (!isString(message)) {\n          throw new Error('The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(function (root) {\n          emitWith(root, formBlockEvent, { message: message });\n        });\n      };\n      var unblock = function () {\n        withRoot(function (root) {\n          emit(root, formUnblockEvent);\n        });\n      };\n      var close = function () {\n        withRoot(function (root) {\n          emit(root, formCloseEvent);\n        });\n      };\n      var sendMessage = function (data) {\n        withRoot(function (root) {\n          root.getSystem().broadcastOn([bodySendMessageChannel], data);\n        });\n      };\n      return {\n        block: block,\n        unblock: unblock,\n        close: close,\n        sendMessage: sendMessage\n      };\n    };\n\n    var SUPPORTED_MESSAGE_ACTIONS = [\n      'insertContent',\n      'setContent',\n      'execCommand',\n      'close',\n      'block',\n      'unblock'\n    ];\n    var isSupportedMessage = function (data) {\n      return isObject(data) && SUPPORTED_MESSAGE_ACTIONS.indexOf(data.mceAction) !== -1;\n    };\n    var isCustomMessage = function (data) {\n      return !isSupportedMessage(data) && isObject(data) && has$2(data, 'mceAction');\n    };\n    var handleMessage = function (editor, api, data) {\n      switch (data.mceAction) {\n      case 'insertContent':\n        editor.insertContent(data.content);\n        break;\n      case 'setContent':\n        editor.setContent(data.content);\n        break;\n      case 'execCommand':\n        var ui = isBoolean(data.ui) ? data.ui : false;\n        editor.execCommand(data.cmd, ui, data.value);\n        break;\n      case 'close':\n        api.close();\n        break;\n      case 'block':\n        api.block(data.message);\n        break;\n      case 'unblock':\n        api.unblock();\n        break;\n      }\n    };\n    var renderUrlDialog = function (internalDialog, extra, editor, backstage) {\n      var _a;\n      var header = getHeader(internalDialog.title, backstage);\n      var body = renderIframeBody(internalDialog);\n      var footer = internalDialog.buttons.bind(function (buttons) {\n        if (buttons.length === 0) {\n          return Optional.none();\n        } else {\n          return Optional.some(renderModalFooter({ buttons: buttons }, backstage));\n        }\n      });\n      var dialogEvents = SilverDialogEvents.initUrlDialog(function () {\n        return instanceApi;\n      }, getEventExtras(function () {\n        return dialog;\n      }, backstage.shared.providers, extra));\n      var styles = __assign(__assign({}, internalDialog.height.fold(function () {\n        return {};\n      }, function (height) {\n        return {\n          'height': height + 'px',\n          'max-height': height + 'px'\n        };\n      })), internalDialog.width.fold(function () {\n        return {};\n      }, function (width) {\n        return {\n          'width': width + 'px',\n          'max-width': width + 'px'\n        };\n      }));\n      var classes = internalDialog.width.isNone() && internalDialog.height.isNone() ? ['tox-dialog--width-lg'] : [];\n      var iframeUri = new global$1(internalDialog.url, { base_uri: new global$1(window.location.href) });\n      var iframeDomain = iframeUri.protocol + '://' + iframeUri.host + (iframeUri.port ? ':' + iframeUri.port : '');\n      var messageHandlerUnbinder = unbindable();\n      var extraBehaviours = [\n        config('messages', [\n          runOnAttached(function () {\n            var unbind = bind(SugarElement.fromDom(window), 'message', function (e) {\n              if (iframeUri.isSameOrigin(new global$1(e.raw.origin))) {\n                var data = e.raw.data;\n                if (isSupportedMessage(data)) {\n                  handleMessage(editor, instanceApi, data);\n                } else if (isCustomMessage(data)) {\n                  internalDialog.onMessage(instanceApi, data);\n                }\n              }\n            });\n            messageHandlerUnbinder.set(unbind);\n          }),\n          runOnDetached(messageHandlerUnbinder.clear)\n        ]),\n        Receiving.config({\n          channels: (_a = {}, _a[bodySendMessageChannel] = {\n            onReceive: function (comp, data) {\n              descendant(comp.element, 'iframe').each(function (iframeEle) {\n                var iframeWin = iframeEle.dom.contentWindow;\n                iframeWin.postMessage(data, iframeDomain);\n              });\n            }\n          }, _a)\n        })\n      ];\n      var spec = {\n        header: header,\n        body: body,\n        footer: footer,\n        extraClasses: classes,\n        extraBehaviours: extraBehaviours,\n        extraStyles: styles\n      };\n      var dialog = renderModalDialog(spec, internalDialog, dialogEvents, backstage);\n      var instanceApi = getUrlDialogApi(dialog);\n      return {\n        dialog: dialog,\n        instanceApi: instanceApi\n      };\n    };\n\n    var setup$2 = function (extras) {\n      var sharedBackstage = extras.backstage.shared;\n      var open = function (message, callback) {\n        var closeDialog = function () {\n          ModalDialog.hide(alertDialog);\n          callback();\n        };\n        var memFooterClose = record(renderFooterButton({\n          name: 'close-alert',\n          text: 'OK',\n          primary: true,\n          align: 'end',\n          disabled: false,\n          icon: Optional.none()\n        }, 'cancel', extras.backstage));\n        var titleSpec = pUntitled();\n        var closeSpec = pClose(closeDialog, sharedBackstage.providers);\n        var alertDialog = build$1(renderDialog$1({\n          lazySink: function () {\n            return sharedBackstage.getSink();\n          },\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [memFooterClose.asSpec()]))),\n          onEscape: closeDialog,\n          extraClasses: ['tox-alert-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [run$1(formCancelEvent, closeDialog)],\n          eventOrder: {}\n        }));\n        ModalDialog.show(alertDialog);\n        var footerCloseButton = memFooterClose.get(alertDialog);\n        Focusing.focus(footerCloseButton);\n      };\n      return { open: open };\n    };\n\n    var setup$1 = function (extras) {\n      var sharedBackstage = extras.backstage.shared;\n      var open = function (message, callback) {\n        var closeDialog = function (state) {\n          ModalDialog.hide(confirmDialog);\n          callback(state);\n        };\n        var memFooterYes = record(renderFooterButton({\n          name: 'yes',\n          text: 'Yes',\n          primary: true,\n          align: 'end',\n          disabled: false,\n          icon: Optional.none()\n        }, 'submit', extras.backstage));\n        var footerNo = renderFooterButton({\n          name: 'no',\n          text: 'No',\n          primary: false,\n          align: 'end',\n          disabled: false,\n          icon: Optional.none()\n        }, 'cancel', extras.backstage);\n        var titleSpec = pUntitled();\n        var closeSpec = pClose(function () {\n          return closeDialog(false);\n        }, sharedBackstage.providers);\n        var confirmDialog = build$1(renderDialog$1({\n          lazySink: function () {\n            return sharedBackstage.getSink();\n          },\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [\n            footerNo,\n            memFooterYes.asSpec()\n          ]))),\n          onEscape: function () {\n            return closeDialog(false);\n          },\n          extraClasses: ['tox-confirm-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [\n            run$1(formCancelEvent, function () {\n              return closeDialog(false);\n            }),\n            run$1(formSubmitEvent, function () {\n              return closeDialog(true);\n            })\n          ],\n          eventOrder: {}\n        }));\n        ModalDialog.show(confirmDialog);\n        var footerYesButton = memFooterYes.get(confirmDialog);\n        Focusing.focus(footerYesButton);\n      };\n      return { open: open };\n    };\n\n    var validateData = function (data, validator) {\n      return getOrDie(asRaw('data', validator, data));\n    };\n    var isAlertOrConfirmDialog = function (target) {\n      return closest(target, '.tox-alert-dialog') || closest(target, '.tox-confirm-dialog');\n    };\n    var inlineAdditionalBehaviours = function (editor, isStickyToolbar, isToolbarLocationTop) {\n      if (isStickyToolbar && isToolbarLocationTop) {\n        return [];\n      } else {\n        return [Docking.config({\n            contextual: {\n              lazyContext: function () {\n                return Optional.some(box$1(SugarElement.fromDom(editor.getContentAreaContainer())));\n              },\n              fadeInClass: 'tox-dialog-dock-fadein',\n              fadeOutClass: 'tox-dialog-dock-fadeout',\n              transitionClass: 'tox-dialog-dock-transition'\n            },\n            modes: ['top']\n          })];\n      }\n    };\n    var setup = function (extras) {\n      var backstage = extras.backstage;\n      var editor = extras.editor;\n      var isStickyToolbar$1 = isStickyToolbar(editor);\n      var alertDialog = setup$2(extras);\n      var confirmDialog = setup$1(extras);\n      var open = function (config, params, closeWindow) {\n        if (params !== undefined && params.inline === 'toolbar') {\n          return openInlineDialog(config, backstage.shared.anchors.inlineDialog(), closeWindow, params.ariaAttrs);\n        } else if (params !== undefined && params.inline === 'cursor') {\n          return openInlineDialog(config, backstage.shared.anchors.cursor(), closeWindow, params.ariaAttrs);\n        } else {\n          return openModalDialog(config, closeWindow);\n        }\n      };\n      var openUrl = function (config, closeWindow) {\n        return openModalUrlDialog(config, closeWindow);\n      };\n      var openModalUrlDialog = function (config, closeWindow) {\n        var factory = function (contents) {\n          var dialog = renderUrlDialog(contents, {\n            closeWindow: function () {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, editor, backstage);\n          ModalDialog.show(dialog.dialog);\n          return dialog.instanceApi;\n        };\n        return DialogManager.openUrl(factory, config);\n      };\n      var openModalDialog = function (config, closeWindow) {\n        var factory = function (contents, internalInitialData, dataValidator) {\n          var initialData = internalInitialData;\n          var dialogInit = {\n            dataValidator: dataValidator,\n            initialData: initialData,\n            internalDialog: contents\n          };\n          var dialog = renderDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: function () {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, backstage);\n          ModalDialog.show(dialog.dialog);\n          dialog.instanceApi.setData(initialData);\n          return dialog.instanceApi;\n        };\n        return DialogManager.open(factory, config);\n      };\n      var openInlineDialog = function (config$1, anchor, closeWindow, ariaAttrs) {\n        var factory = function (contents, internalInitialData, dataValidator) {\n          var initialData = validateData(internalInitialData, dataValidator);\n          var inlineDialog = value$1();\n          var isToolbarLocationTop = backstage.shared.header.isPositionedAtTop();\n          var dialogInit = {\n            dataValidator: dataValidator,\n            initialData: initialData,\n            internalDialog: contents\n          };\n          var refreshDocking = function () {\n            return inlineDialog.on(function (dialog) {\n              InlineView.reposition(dialog);\n              Docking.refresh(dialog);\n            });\n          };\n          var dialogUi = renderInlineDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: function () {\n              inlineDialog.on(InlineView.hide);\n              editor.off('ResizeEditor', refreshDocking);\n              inlineDialog.clear();\n              closeWindow(dialogUi.instanceApi);\n            }\n          }, backstage, ariaAttrs);\n          var inlineDialogComp = build$1(InlineView.sketch(__assign(__assign({\n            lazySink: backstage.shared.getSink,\n            dom: {\n              tag: 'div',\n              classes: []\n            },\n            fireDismissalEventInstead: {}\n          }, isToolbarLocationTop ? {} : { fireRepositionEventInstead: {} }), {\n            inlineBehaviours: derive$1(__spreadArray([config('window-manager-inline-events', [run$1(dismissRequested(), function (_comp, _se) {\n                  emit(dialogUi.dialog, formCancelEvent);\n                })])], inlineAdditionalBehaviours(editor, isStickyToolbar$1, isToolbarLocationTop), true)),\n            isExtraPart: function (_comp, target) {\n              return isAlertOrConfirmDialog(target);\n            }\n          })));\n          inlineDialog.set(inlineDialogComp);\n          InlineView.showWithin(inlineDialogComp, premade(dialogUi.dialog), { anchor: anchor }, Optional.some(body()));\n          if (!isStickyToolbar$1 || !isToolbarLocationTop) {\n            Docking.refresh(inlineDialogComp);\n            editor.on('ResizeEditor', refreshDocking);\n          }\n          dialogUi.instanceApi.setData(initialData);\n          Keying.focusIn(dialogUi.dialog);\n          return dialogUi.instanceApi;\n        };\n        return DialogManager.open(factory, config$1);\n      };\n      var confirm = function (message, callback) {\n        confirmDialog.open(message, function (state) {\n          callback(state);\n        });\n      };\n      var alert = function (message, callback) {\n        alertDialog.open(message, function () {\n          callback();\n        });\n      };\n      var close = function (instanceApi) {\n        instanceApi.close();\n      };\n      return {\n        open: open,\n        openUrl: openUrl,\n        alert: alert,\n        close: close,\n        confirm: confirm\n      };\n    };\n\n    function Theme () {\n      global$g.add('silver', function (editor) {\n        var _a = setup$3(editor), uiMothership = _a.uiMothership, backstage = _a.backstage, renderUI = _a.renderUI, getUi = _a.getUi;\n        Autocompleter.register(editor, backstage.shared);\n        var windowMgr = setup({\n          editor: editor,\n          backstage: backstage\n        });\n        return {\n          renderUI: renderUI,\n          getWindowManagerImpl: constant$1(windowMgr),\n          getNotificationManagerImpl: function () {\n            return NotificationManagerImpl(editor, { backstage: backstage }, uiMothership);\n          },\n          ui: getUi()\n        };\n      });\n    }\n\n    Theme();\n\n}());\n","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.4 (2022-04-27)\n */\n(function () {\n    'use strict';\n\n    var typeOf$1 = function (x) {\n      if (x === null) {\n        return 'null';\n      }\n      if (x === undefined) {\n        return 'undefined';\n      }\n      var t = typeof x;\n      if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      }\n      if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      }\n      return t;\n    };\n    var isEquatableType = function (x) {\n      return [\n        'undefined',\n        'boolean',\n        'number',\n        'string',\n        'function',\n        'xml',\n        'null'\n      ].indexOf(x) !== -1;\n    };\n\n    var sort$1 = function (xs, compareFn) {\n      var clone = Array.prototype.slice.call(xs);\n      return clone.sort(compareFn);\n    };\n\n    var contramap = function (eqa, f) {\n      return eq$2(function (x, y) {\n        return eqa.eq(f(x), f(y));\n      });\n    };\n    var eq$2 = function (f) {\n      return { eq: f };\n    };\n    var tripleEq = eq$2(function (x, y) {\n      return x === y;\n    });\n    var eqString = tripleEq;\n    var eqArray = function (eqa) {\n      return eq$2(function (x, y) {\n        if (x.length !== y.length) {\n          return false;\n        }\n        var len = x.length;\n        for (var i = 0; i < len; i++) {\n          if (!eqa.eq(x[i], y[i])) {\n            return false;\n          }\n        }\n        return true;\n      });\n    };\n    var eqSortedArray = function (eqa, compareFn) {\n      return contramap(eqArray(eqa), function (xs) {\n        return sort$1(xs, compareFn);\n      });\n    };\n    var eqRecord = function (eqa) {\n      return eq$2(function (x, y) {\n        var kx = Object.keys(x);\n        var ky = Object.keys(y);\n        if (!eqSortedArray(eqString).eq(kx, ky)) {\n          return false;\n        }\n        var len = kx.length;\n        for (var i = 0; i < len; i++) {\n          var q = kx[i];\n          if (!eqa.eq(x[q], y[q])) {\n            return false;\n          }\n        }\n        return true;\n      });\n    };\n    var eqAny = eq$2(function (x, y) {\n      if (x === y) {\n        return true;\n      }\n      var tx = typeOf$1(x);\n      var ty = typeOf$1(y);\n      if (tx !== ty) {\n        return false;\n      }\n      if (isEquatableType(tx)) {\n        return x === y;\n      } else if (tx === 'array') {\n        return eqArray(eqAny).eq(x, y);\n      } else if (tx === 'object') {\n        return eqRecord(eqAny).eq(x, y);\n      }\n      return false;\n    });\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType$1 = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var eq$1 = function (t) {\n      return function (a) {\n        return t === a;\n      };\n    };\n    var isString$1 = isType$1('string');\n    var isObject = isType$1('object');\n    var isArray$1 = isType$1('array');\n    var isNull = eq$1(null);\n    var isBoolean = isSimpleType('boolean');\n    var isUndefined = eq$1(undefined);\n    var isNullable = function (a) {\n      return a === null || a === undefined;\n    };\n    var isNonNullable = function (a) {\n      return !isNullable(a);\n    };\n    var isFunction = isSimpleType('function');\n    var isNumber = isSimpleType('number');\n\n    var noop = function () {\n    };\n    var compose = function (fa, fb) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return fa(fb.apply(null, args));\n      };\n    };\n    var compose1 = function (fbc, fab) {\n      return function (a) {\n        return fbc(fab(a));\n      };\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var tripleEquals = function (a, b) {\n      return a === b;\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var not = function (f) {\n      return function (t) {\n        return !f(t);\n      };\n    };\n    var die = function (msg) {\n      return function () {\n        throw new Error(msg);\n      };\n    };\n    var apply = function (f) {\n      return f();\n    };\n    var call = function (f) {\n      f();\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from$1 = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from$1\n    };\n\n    var nativeSlice = Array.prototype.slice;\n    var nativeIndexOf = Array.prototype.indexOf;\n    var nativePush = Array.prototype.push;\n    var rawIndexOf = function (ts, t) {\n      return nativeIndexOf.call(ts, t);\n    };\n    var indexOf$2 = function (xs, x) {\n      var r = rawIndexOf(xs, x);\n      return r === -1 ? Optional.none() : Optional.some(r);\n    };\n    var contains$3 = function (xs, x) {\n      return rawIndexOf(xs, x) > -1;\n    };\n    var exists = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var map$3 = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each$k = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var eachr = function (xs, f) {\n      for (var i = xs.length - 1; i >= 0; i--) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var partition = function (xs, pred) {\n      var pass = [];\n      var fail = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        var arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass: pass,\n        fail: fail\n      };\n    };\n    var filter$4 = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var foldr = function (xs, f, acc) {\n      eachr(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var foldl = function (xs, f, acc) {\n      each$k(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var findUntil$1 = function (xs, pred, until) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var find$3 = function (xs, pred) {\n      return findUntil$1(xs, pred, never);\n    };\n    var findIndex$2 = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray$1(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind = function (xs, f) {\n      return flatten(map$3(xs, f));\n    };\n    var forall = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        var x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    var reverse = function (xs) {\n      var r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    var difference = function (a1, a2) {\n      return filter$4(a1, function (x) {\n        return !contains$3(a2, x);\n      });\n    };\n    var mapToObject = function (xs, f) {\n      var r = {};\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    var sort = function (xs, comparator) {\n      var copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    var get$a = function (xs, i) {\n      return i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    };\n    var head = function (xs) {\n      return get$a(xs, 0);\n    };\n    var last$2 = function (xs) {\n      return get$a(xs, xs.length - 1);\n    };\n    var from = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n    var findMap = function (arr, f) {\n      for (var i = 0; i < arr.length; i++) {\n        var r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    var keys = Object.keys;\n    var hasOwnProperty$1 = Object.hasOwnProperty;\n    var each$j = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n    var map$2 = function (obj, f) {\n      return tupleMap(obj, function (x, i) {\n        return {\n          k: i,\n          v: f(x, i)\n        };\n      });\n    };\n    var tupleMap = function (obj, f) {\n      var r = {};\n      each$j(obj, function (x, i) {\n        var tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    var objAcc = function (r) {\n      return function (x, i) {\n        r[i] = x;\n      };\n    };\n    var internalFilter = function (obj, pred, onTrue, onFalse) {\n      var r = {};\n      each$j(obj, function (x, i) {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    var bifilter = function (obj, pred) {\n      var t = {};\n      var f = {};\n      internalFilter(obj, pred, objAcc(t), objAcc(f));\n      return {\n        t: t,\n        f: f\n      };\n    };\n    var filter$3 = function (obj, pred) {\n      var t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    var mapToArray = function (obj, f) {\n      var r = [];\n      each$j(obj, function (value, name) {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    var values = function (obj) {\n      return mapToArray(obj, identity);\n    };\n    var get$9 = function (obj, key) {\n      return has$2(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    var has$2 = function (obj, key) {\n      return hasOwnProperty$1.call(obj, key);\n    };\n    var hasNonNullableKey = function (obj, key) {\n      return has$2(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    };\n    var equal$1 = function (a1, a2, eq) {\n      if (eq === void 0) {\n        eq = eqAny;\n      }\n      return eqRecord(eq).eq(a1, a2);\n    };\n\n    var isArray = Array.isArray;\n    var toArray$1 = function (obj) {\n      if (!isArray(obj)) {\n        var array = [];\n        for (var i = 0, l = obj.length; i < l; i++) {\n          array[i] = obj[i];\n        }\n        return array;\n      } else {\n        return obj;\n      }\n    };\n    var each$i = function (o, cb, s) {\n      var n, l;\n      if (!o) {\n        return false;\n      }\n      s = s || o;\n      if (o.length !== undefined) {\n        for (n = 0, l = o.length; n < l; n++) {\n          if (cb.call(s, o[n], n, o) === false) {\n            return false;\n          }\n        }\n      } else {\n        for (n in o) {\n          if (has$2(o, n)) {\n            if (cb.call(s, o[n], n, o) === false) {\n              return false;\n            }\n          }\n        }\n      }\n      return true;\n    };\n    var map$1 = function (array, callback) {\n      var out = [];\n      each$i(array, function (item, index) {\n        out.push(callback(item, index, array));\n      });\n      return out;\n    };\n    var filter$2 = function (a, f) {\n      var o = [];\n      each$i(a, function (v, index) {\n        if (!f || f(v, index, a)) {\n          o.push(v);\n        }\n      });\n      return o;\n    };\n    var indexOf$1 = function (a, v) {\n      if (a) {\n        for (var i = 0, l = a.length; i < l; i++) {\n          if (a[i] === v) {\n            return i;\n          }\n        }\n      }\n      return -1;\n    };\n    var reduce = function (collection, iteratee, accumulator, thisArg) {\n      var acc = isUndefined(accumulator) ? collection[0] : accumulator;\n      for (var i = 0; i < collection.length; i++) {\n        acc = iteratee.call(thisArg, acc, collection[i], i);\n      }\n      return acc;\n    };\n    var findIndex$1 = function (array, predicate, thisArg) {\n      var i, l;\n      for (i = 0, l = array.length; i < l; i++) {\n        if (predicate.call(thisArg, array[i], i, array)) {\n          return i;\n        }\n      }\n      return -1;\n    };\n    var last$1 = function (collection) {\n      return collection[collection.length - 1];\n    };\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n    function __rest(s, e) {\n      var t = {};\n      for (var p in s)\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n          t[p] = s[p];\n      if (s != null && typeof Object.getOwnPropertySymbols === 'function')\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n            t[p[i]] = s[p[i]];\n        }\n      return t;\n    }\n    function __spreadArray(to, from, pack) {\n      if (pack || arguments.length === 2)\n        for (var i = 0, l = from.length, ar; i < l; i++) {\n          if (ar || !(i in from)) {\n            if (!ar)\n              ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n          }\n        }\n      return to.concat(ar || Array.prototype.slice.call(from));\n    }\n\n    var cached = function (f) {\n      var called = false;\n      var r;\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    var DeviceType = function (os, browser, userAgent, mediaMatch) {\n      var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      var isiPhone = os.isiOS() && !isiPad;\n      var isMobile = os.isiOS() || os.isAndroid();\n      var isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      var isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      var isPhone = isiPhone || isMobile && !isTablet;\n      var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      var isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview),\n        isDesktop: constant(isDesktop)\n      };\n    };\n\n    var firstMatch = function (regexes, s) {\n      for (var i = 0; i < regexes.length; i++) {\n        var x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    var find$2 = function (regexes, agent) {\n      var r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      var group = function (i) {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$4(group(1), group(2));\n    };\n    var detect$3 = function (versionRegexes, agent) {\n      var cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$2();\n      }\n      return find$2(versionRegexes, cleanedAgent);\n    };\n    var unknown$2 = function () {\n      return nu$4(0, 0);\n    };\n    var nu$4 = function (major, minor) {\n      return {\n        major: major,\n        minor: minor\n      };\n    };\n    var Version = {\n      nu: nu$4,\n      detect: detect$3,\n      unknown: unknown$2\n    };\n\n    var detectBrowser$1 = function (browsers, userAgentData) {\n      return findMap(userAgentData.brands, function (uaBrand) {\n        var lcBrand = uaBrand.brand.toLowerCase();\n        return find$3(browsers, function (browser) {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(function (info) {\n          return {\n            current: info.name,\n            version: Version.nu(parseInt(uaBrand.version, 10), 0)\n          };\n        });\n      });\n    };\n\n    var detect$2 = function (candidates, userAgent) {\n      var agent = String(userAgent).toLowerCase();\n      return find$3(candidates, function (candidate) {\n        return candidate.search(agent);\n      });\n    };\n    var detectBrowser = function (browsers, userAgent) {\n      return detect$2(browsers, userAgent).map(function (browser) {\n        var version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version: version\n        };\n      });\n    };\n    var detectOs = function (oses, userAgent) {\n      return detect$2(oses, userAgent).map(function (os) {\n        var version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version: version\n        };\n      });\n    };\n\n    var removeFromStart = function (str, numChars) {\n      return str.substring(numChars);\n    };\n\n    var checkRange = function (str, substr, start) {\n      return substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    };\n    var removeLeading = function (str, prefix) {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    var contains$2 = function (str, substr) {\n      return str.indexOf(substr) !== -1;\n    };\n    var startsWith = function (str, prefix) {\n      return checkRange(str, prefix, 0);\n    };\n    var blank = function (r) {\n      return function (s) {\n        return s.replace(r, '');\n      };\n    };\n    var trim$4 = blank(/^\\s+|\\s+$/g);\n    var lTrim = blank(/^\\s+/g);\n    var rTrim = blank(/\\s+$/g);\n    var isNotEmpty = function (s) {\n      return s.length > 0;\n    };\n    var isEmpty$3 = function (s) {\n      return !isNotEmpty(s);\n    };\n\n    var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    var checkContains = function (target) {\n      return function (uastring) {\n        return contains$2(uastring, target);\n      };\n    };\n    var browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: function (uastring) {\n          return contains$2(uastring, 'edge/') && contains$2(uastring, 'chrome') && contains$2(uastring, 'safari') && contains$2(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chrome',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: function (uastring) {\n          return contains$2(uastring, 'chrome') && !contains$2(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return contains$2(uastring, 'msie') || contains$2(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return (contains$2(uastring, 'safari') || contains$2(uastring, 'mobile/')) && contains$2(uastring, 'applewebkit');\n        }\n      }\n    ];\n    var oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: function (uastring) {\n          return contains$2(uastring, 'iphone') || contains$2(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'OSX',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    var PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    var edge = 'Edge';\n    var chrome = 'Chrome';\n    var ie$1 = 'IE';\n    var opera = 'Opera';\n    var firefox = 'Firefox';\n    var safari = 'Safari';\n    var unknown$1 = function () {\n      return nu$3({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$3 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isBrowser = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isEdge: isBrowser(edge),\n        isChrome: isBrowser(chrome),\n        isIE: isBrowser(ie$1),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    var Browser = {\n      unknown: unknown$1,\n      nu: nu$3,\n      edge: constant(edge),\n      chrome: constant(chrome),\n      ie: constant(ie$1),\n      opera: constant(opera),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n\n    var windows = 'Windows';\n    var ios = 'iOS';\n    var android = 'Android';\n    var linux = 'Linux';\n    var osx = 'OSX';\n    var solaris = 'Solaris';\n    var freebsd = 'FreeBSD';\n    var chromeos = 'ChromeOS';\n    var unknown = function () {\n      return nu$2({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$2 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isOS = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isOSX: isOS(osx),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    var OperatingSystem = {\n      unknown: unknown,\n      nu: nu$2,\n      windows: constant(windows),\n      ios: constant(ios),\n      android: constant(android),\n      linux: constant(linux),\n      osx: constant(osx),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd),\n      chromeos: constant(chromeos)\n    };\n\n    var detect$1 = function (userAgent, userAgentDataOpt, mediaMatch) {\n      var browsers = PlatformInfo.browsers();\n      var oses = PlatformInfo.oses();\n      var browser = userAgentDataOpt.bind(function (userAgentData) {\n        return detectBrowser$1(browsers, userAgentData);\n      }).orThunk(function () {\n        return detectBrowser(browsers, userAgent);\n      }).fold(Browser.unknown, Browser.nu);\n      var os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      var deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser: browser,\n        os: os,\n        deviceType: deviceType\n      };\n    };\n    var PlatformDetection = { detect: detect$1 };\n\n    var mediaMatch = function (query) {\n      return window.matchMedia(query).matches;\n    };\n    var platform$2 = cached(function () {\n      return PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch);\n    });\n    var detect = function () {\n      return platform$2();\n    };\n\n    var userAgent = navigator.userAgent;\n    var platform$1 = detect();\n    var browser$4 = platform$1.browser;\n    var os = platform$1.os;\n    var deviceType = platform$1.deviceType;\n    var webkit = /WebKit/.test(userAgent) && !browser$4.isEdge();\n    var fileApi = 'FormData' in window && 'FileReader' in window && 'URL' in window && !!URL.createObjectURL;\n    var windowsPhone = userAgent.indexOf('Windows Phone') !== -1;\n    var Env = {\n      opera: browser$4.isOpera(),\n      webkit: webkit,\n      ie: browser$4.isIE() || browser$4.isEdge() ? browser$4.version.major : false,\n      gecko: browser$4.isFirefox(),\n      mac: os.isOSX() || os.isiOS(),\n      iOS: deviceType.isiPad() || deviceType.isiPhone(),\n      android: os.isAndroid(),\n      contentEditable: true,\n      transparentSrc: 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',\n      caretAfter: true,\n      range: window.getSelection && 'Range' in window,\n      documentMode: browser$4.isIE() ? document.documentMode || 7 : 10,\n      fileApi: fileApi,\n      ceFalse: true,\n      cacheSuffix: null,\n      container: null,\n      experimentalShadowDom: false,\n      canHaveCSP: !browser$4.isIE(),\n      desktop: deviceType.isDesktop(),\n      windowsPhone: windowsPhone,\n      browser: {\n        current: browser$4.current,\n        version: browser$4.version,\n        isChrome: browser$4.isChrome,\n        isEdge: browser$4.isEdge,\n        isFirefox: browser$4.isFirefox,\n        isIE: browser$4.isIE,\n        isOpera: browser$4.isOpera,\n        isSafari: browser$4.isSafari\n      },\n      os: {\n        current: os.current,\n        version: os.version,\n        isAndroid: os.isAndroid,\n        isChromeOS: os.isChromeOS,\n        isFreeBSD: os.isFreeBSD,\n        isiOS: os.isiOS,\n        isLinux: os.isLinux,\n        isOSX: os.isOSX,\n        isSolaris: os.isSolaris,\n        isWindows: os.isWindows\n      },\n      deviceType: {\n        isDesktop: deviceType.isDesktop,\n        isiPad: deviceType.isiPad,\n        isiPhone: deviceType.isiPhone,\n        isPhone: deviceType.isPhone,\n        isTablet: deviceType.isTablet,\n        isTouch: deviceType.isTouch,\n        isWebView: deviceType.isWebView\n      }\n    };\n\n    var whiteSpaceRegExp$2 = /^\\s*|\\s*$/g;\n    var trim$3 = function (str) {\n      return str === null || str === undefined ? '' : ('' + str).replace(whiteSpaceRegExp$2, '');\n    };\n    var is$3 = function (obj, type) {\n      if (!type) {\n        return obj !== undefined;\n      }\n      if (type === 'array' && isArray(obj)) {\n        return true;\n      }\n      return typeof obj === type;\n    };\n    var makeMap$4 = function (items, delim, map) {\n      var i;\n      items = items || [];\n      delim = delim || ',';\n      if (typeof items === 'string') {\n        items = items.split(delim);\n      }\n      map = map || {};\n      i = items.length;\n      while (i--) {\n        map[items[i]] = {};\n      }\n      return map;\n    };\n    var hasOwnProperty = has$2;\n    var create$9 = function (s, p, root) {\n      var self = this;\n      var sp, scn, c, de = 0;\n      s = /^((static) )?([\\w.]+)(:([\\w.]+))?/.exec(s);\n      var cn = s[3].match(/(^|\\.)(\\w+)$/i)[2];\n      var ns = self.createNS(s[3].replace(/\\.\\w+$/, ''), root);\n      if (ns[cn]) {\n        return;\n      }\n      if (s[2] === 'static') {\n        ns[cn] = p;\n        if (this.onCreate) {\n          this.onCreate(s[2], s[3], ns[cn]);\n        }\n        return;\n      }\n      if (!p[cn]) {\n        p[cn] = function () {\n        };\n        de = 1;\n      }\n      ns[cn] = p[cn];\n      self.extend(ns[cn].prototype, p);\n      if (s[5]) {\n        sp = self.resolve(s[5]).prototype;\n        scn = s[5].match(/\\.(\\w+)$/i)[1];\n        c = ns[cn];\n        if (de) {\n          ns[cn] = function () {\n            return sp[scn].apply(this, arguments);\n          };\n        } else {\n          ns[cn] = function () {\n            this.parent = sp[scn];\n            return c.apply(this, arguments);\n          };\n        }\n        ns[cn].prototype[cn] = ns[cn];\n        self.each(sp, function (f, n) {\n          ns[cn].prototype[n] = sp[n];\n        });\n        self.each(p, function (f, n) {\n          if (sp[n]) {\n            ns[cn].prototype[n] = function () {\n              this.parent = sp[n];\n              return f.apply(this, arguments);\n            };\n          } else {\n            if (n !== cn) {\n              ns[cn].prototype[n] = f;\n            }\n          }\n        });\n      }\n      self.each(p.static, function (f, n) {\n        ns[cn][n] = f;\n      });\n    };\n    var extend$6 = function (obj) {\n      var exts = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        exts[_i - 1] = arguments[_i];\n      }\n      for (var i = 0; i < exts.length; i++) {\n        var ext = exts[i];\n        for (var name_1 in ext) {\n          if (has$2(ext, name_1)) {\n            var value = ext[name_1];\n            if (value !== undefined) {\n              obj[name_1] = value;\n            }\n          }\n        }\n      }\n      return obj;\n    };\n    var walk$3 = function (o, f, n, s) {\n      s = s || this;\n      if (o) {\n        if (n) {\n          o = o[n];\n        }\n        each$i(o, function (o, i) {\n          if (f.call(s, o, i, n) === false) {\n            return false;\n          }\n          walk$3(o, f, n, s);\n        });\n      }\n    };\n    var createNS = function (n, o) {\n      var i, v;\n      o = o || window;\n      n = n.split('.');\n      for (i = 0; i < n.length; i++) {\n        v = n[i];\n        if (!o[v]) {\n          o[v] = {};\n        }\n        o = o[v];\n      }\n      return o;\n    };\n    var resolve$3 = function (n, o) {\n      var i, l;\n      o = o || window;\n      n = n.split('.');\n      for (i = 0, l = n.length; i < l; i++) {\n        o = o[n[i]];\n        if (!o) {\n          break;\n        }\n      }\n      return o;\n    };\n    var explode$4 = function (s, d) {\n      if (!s || is$3(s, 'array')) {\n        return s;\n      }\n      return map$1(s.split(d || ','), trim$3);\n    };\n    var _addCacheSuffix = function (url) {\n      var cacheSuffix = Env.cacheSuffix;\n      if (cacheSuffix) {\n        url += (url.indexOf('?') === -1 ? '?' : '&') + cacheSuffix;\n      }\n      return url;\n    };\n    var Tools = {\n      trim: trim$3,\n      isArray: isArray,\n      is: is$3,\n      toArray: toArray$1,\n      makeMap: makeMap$4,\n      each: each$i,\n      map: map$1,\n      grep: filter$2,\n      inArray: indexOf$1,\n      hasOwn: hasOwnProperty,\n      extend: extend$6,\n      create: create$9,\n      walk: walk$3,\n      createNS: createNS,\n      resolve: resolve$3,\n      explode: explode$4,\n      _addCacheSuffix: _addCacheSuffix\n    };\n\n    var fromHtml$1 = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom$2(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom$2(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom$2(node);\n    };\n    var fromDom$2 = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint$1 = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom$2);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml$1,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom$2,\n      fromPoint: fromPoint$1\n    };\n\n    var toArray = function (target, f) {\n      var r = [];\n      var recurse = function (e) {\n        r.push(e);\n        return f(e);\n      };\n      var cur = f(target);\n      do {\n        cur = cur.bind(recurse);\n      } while (cur.isSome());\n      return r;\n    };\n\n    var compareDocumentPosition = function (a, b, match) {\n      return (a.compareDocumentPosition(b) & match) !== 0;\n    };\n    var documentPositionContainedBy = function (a, b) {\n      return compareDocumentPosition(a, b, Node.DOCUMENT_POSITION_CONTAINED_BY);\n    };\n\n    var COMMENT = 8;\n    var DOCUMENT = 9;\n    var DOCUMENT_FRAGMENT = 11;\n    var ELEMENT = 1;\n    var TEXT = 3;\n\n    var is$2 = function (element, selector) {\n      var dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        var elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    var bypassSelector = function (dom) {\n      return dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    };\n    var all = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$3(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    var one = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    var eq = function (e1, e2) {\n      return e1.dom === e2.dom;\n    };\n    var regularContains = function (e1, e2) {\n      var d1 = e1.dom;\n      var d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    var ieContains = function (e1, e2) {\n      return documentPositionContainedBy(e1.dom, e2.dom);\n    };\n    var contains$1 = function (e1, e2) {\n      return detect().browser.isIE() ? ieContains(e1, e2) : regularContains(e1, e2);\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var name = function (element) {\n      var r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    var type = function (element) {\n      return element.dom.nodeType;\n    };\n    var isType = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isComment$1 = function (element) {\n      return type(element) === COMMENT || name(element) === '#comment';\n    };\n    var isElement$6 = isType(ELEMENT);\n    var isText$8 = isType(TEXT);\n    var isDocument$2 = isType(DOCUMENT);\n    var isDocumentFragment$1 = isType(DOCUMENT_FRAGMENT);\n    var isTag = function (tag) {\n      return function (e) {\n        return isElement$6(e) && name(e) === tag;\n      };\n    };\n\n    var owner$1 = function (element) {\n      return SugarElement.fromDom(element.dom.ownerDocument);\n    };\n    var documentOrOwner = function (dos) {\n      return isDocument$2(dos) ? dos : owner$1(dos);\n    };\n    var documentElement = function (element) {\n      return SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    };\n    var defaultView = function (element) {\n      return SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    };\n    var parent = function (element) {\n      return Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    };\n    var parents$1 = function (element, isRoot) {\n      var stop = isFunction(isRoot) ? isRoot : never;\n      var dom = element.dom;\n      var ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        var rawParent = dom.parentNode;\n        var p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    var siblings = function (element) {\n      var filterSelf = function (elements) {\n        return filter$4(elements, function (x) {\n          return !eq(element, x);\n        });\n      };\n      return parent(element).map(children).map(filterSelf).getOr([]);\n    };\n    var prevSibling = function (element) {\n      return Optional.from(element.dom.previousSibling).map(SugarElement.fromDom);\n    };\n    var nextSibling = function (element) {\n      return Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    };\n    var prevSiblings = function (element) {\n      return reverse(toArray(element, prevSibling));\n    };\n    var nextSiblings = function (element) {\n      return toArray(element, nextSibling);\n    };\n    var children = function (element) {\n      return map$3(element.dom.childNodes, SugarElement.fromDom);\n    };\n    var child$1 = function (element, index) {\n      var cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    var firstChild = function (element) {\n      return child$1(element, 0);\n    };\n    var lastChild = function (element) {\n      return child$1(element, element.dom.childNodes.length - 1);\n    };\n    var childNodesCount = function (element) {\n      return element.dom.childNodes.length;\n    };\n\n    var getHead = function (doc) {\n      var b = doc.dom.head;\n      if (b === null || b === undefined) {\n        throw new Error('Head is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    var isShadowRoot = function (dos) {\n      return isDocumentFragment$1(dos) && isNonNullable(dos.dom.host);\n    };\n    var supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    var isSupported$1 = constant(supported);\n    var getRootNode = supported ? function (e) {\n      return SugarElement.fromDom(e.dom.getRootNode());\n    } : documentOrOwner;\n    var getStyleContainer = function (dos) {\n      return isShadowRoot(dos) ? dos : getHead(documentOrOwner(dos));\n    };\n    var getShadowRoot = function (e) {\n      var r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    var getShadowHost = function (e) {\n      return SugarElement.fromDom(e.dom.host);\n    };\n    var getOriginalEventTarget = function (event) {\n      if (isSupported$1() && isNonNullable(event.target)) {\n        var el = SugarElement.fromDom(event.target);\n        if (isElement$6(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            var composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    var isOpenShadowHost = function (element) {\n      return isNonNullable(element.dom.shadowRoot);\n    };\n\n    var before$4 = function (marker, element) {\n      var parent$1 = parent(marker);\n      parent$1.each(function (v) {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    var after$3 = function (marker, element) {\n      var sibling = nextSibling(marker);\n      sibling.fold(function () {\n        var parent$1 = parent(marker);\n        parent$1.each(function (v) {\n          append$1(v, element);\n        });\n      }, function (v) {\n        before$4(v, element);\n      });\n    };\n    var prepend = function (parent, element) {\n      var firstChild$1 = firstChild(parent);\n      firstChild$1.fold(function () {\n        append$1(parent, element);\n      }, function (v) {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    var append$1 = function (parent, element) {\n      parent.dom.appendChild(element.dom);\n    };\n    var wrap$3 = function (element, wrapper) {\n      before$4(element, wrapper);\n      append$1(wrapper, element);\n    };\n\n    var before$3 = function (marker, elements) {\n      each$k(elements, function (x) {\n        before$4(marker, x);\n      });\n    };\n    var append = function (parent, elements) {\n      each$k(elements, function (x) {\n        append$1(parent, x);\n      });\n    };\n\n    var empty = function (element) {\n      element.dom.textContent = '';\n      each$k(children(element), function (rogue) {\n        remove$7(rogue);\n      });\n    };\n    var remove$7 = function (element) {\n      var dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    var unwrap = function (wrapper) {\n      var children$1 = children(wrapper);\n      if (children$1.length > 0) {\n        before$3(wrapper, children$1);\n      }\n      remove$7(wrapper);\n    };\n\n    var inBody = function (element) {\n      var dom = isText$8(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      var doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(function () {\n        return doc.body.contains(dom);\n      }, compose1(inBody, getShadowHost));\n    };\n\n    var r = function (left, top) {\n      var translate = function (x, y) {\n        return r(left + x, top + y);\n      };\n      return {\n        left: left,\n        top: top,\n        translate: translate\n      };\n    };\n    var SugarPosition = r;\n\n    var boxPosition = function (dom) {\n      var box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    var firstDefinedOrZero = function (a, b) {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    var absolute = function (element) {\n      var doc = element.dom.ownerDocument;\n      var body = doc.body;\n      var win = doc.defaultView;\n      var html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      var scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      var scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      var clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      var clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    var viewport = function (element) {\n      var dom = element.dom;\n      var doc = dom.ownerDocument;\n      var body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    var get$8 = function (_DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom : document;\n      var x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      var y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    var to = function (x, y, _DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom : document;\n      var win = doc.defaultView;\n      if (win) {\n        win.scrollTo(x, y);\n      }\n    };\n    var intoView = function (element, alignToTop) {\n      var isSafari = detect().browser.isSafari();\n      if (isSafari && isFunction(element.dom.scrollIntoViewIfNeeded)) {\n        element.dom.scrollIntoViewIfNeeded(false);\n      } else {\n        element.dom.scrollIntoView(alignToTop);\n      }\n    };\n\n    var get$7 = function (_win) {\n      var win = _win === undefined ? window : _win;\n      if (detect().browser.isFirefox()) {\n        return Optional.none();\n      } else {\n        return Optional.from(win['visualViewport']);\n      }\n    };\n    var bounds = function (x, y, width, height) {\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        right: x + width,\n        bottom: y + height\n      };\n    };\n    var getBounds = function (_win) {\n      var win = _win === undefined ? window : _win;\n      var doc = win.document;\n      var scroll = get$8(SugarElement.fromDom(doc));\n      return get$7(win).fold(function () {\n        var html = win.document.documentElement;\n        var width = html.clientWidth;\n        var height = html.clientHeight;\n        return bounds(scroll.left, scroll.top, width, height);\n      }, function (visualViewport) {\n        return bounds(Math.max(visualViewport.pageLeft, scroll.left), Math.max(visualViewport.pageTop, scroll.top), visualViewport.width, visualViewport.height);\n      });\n    };\n\n    var isNodeType = function (type) {\n      return function (node) {\n        return !!node && node.nodeType === type;\n      };\n    };\n    var isRestrictedNode = function (node) {\n      return !!node && !Object.getPrototypeOf(node);\n    };\n    var isElement$5 = isNodeType(1);\n    var matchNodeNames = function (names) {\n      var lowercasedNames = names.map(function (s) {\n        return s.toLowerCase();\n      });\n      return function (node) {\n        if (node && node.nodeName) {\n          var nodeName = node.nodeName.toLowerCase();\n          return contains$3(lowercasedNames, nodeName);\n        }\n        return false;\n      };\n    };\n    var matchStyleValues = function (name, values) {\n      var items = values.toLowerCase().split(' ');\n      return function (node) {\n        if (isElement$5(node)) {\n          for (var i = 0; i < items.length; i++) {\n            var computed = node.ownerDocument.defaultView.getComputedStyle(node, null);\n            var cssValue = computed ? computed.getPropertyValue(name) : null;\n            if (cssValue === items[i]) {\n              return true;\n            }\n          }\n        }\n        return false;\n      };\n    };\n    var hasAttribute = function (attrName) {\n      return function (node) {\n        return isElement$5(node) && node.hasAttribute(attrName);\n      };\n    };\n    var hasAttributeValue = function (attrName, attrValue) {\n      return function (node) {\n        return isElement$5(node) && node.getAttribute(attrName) === attrValue;\n      };\n    };\n    var isBogus$2 = function (node) {\n      return isElement$5(node) && node.hasAttribute('data-mce-bogus');\n    };\n    var isBogusAll$1 = function (node) {\n      return isElement$5(node) && node.getAttribute('data-mce-bogus') === 'all';\n    };\n    var isTable$3 = function (node) {\n      return isElement$5(node) && node.tagName === 'TABLE';\n    };\n    var hasContentEditableState = function (value) {\n      return function (node) {\n        if (isElement$5(node)) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    var isTextareaOrInput = matchNodeNames([\n      'textarea',\n      'input'\n    ]);\n    var isText$7 = isNodeType(3);\n    var isComment = isNodeType(8);\n    var isDocument$1 = isNodeType(9);\n    var isDocumentFragment = isNodeType(11);\n    var isBr$5 = matchNodeNames(['br']);\n    var isImg = matchNodeNames(['img']);\n    var isContentEditableTrue$4 = hasContentEditableState('true');\n    var isContentEditableFalse$b = hasContentEditableState('false');\n    var isTableCell$5 = matchNodeNames([\n      'td',\n      'th'\n    ]);\n    var isMedia$2 = matchNodeNames([\n      'video',\n      'audio',\n      'object',\n      'embed'\n    ]);\n\n    var is$1 = function (lhs, rhs, comparator) {\n      if (comparator === void 0) {\n        comparator = tripleEquals;\n      }\n      return lhs.exists(function (left) {\n        return comparator(left, rhs);\n      });\n    };\n    var cat = function (arr) {\n      var r = [];\n      var push = function (x) {\n        r.push(x);\n      };\n      for (var i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    var lift2 = function (oa, ob, f) {\n      return oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    };\n    var lift3 = function (oa, ob, oc, f) {\n      return oa.isSome() && ob.isSome() && oc.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie(), oc.getOrDie())) : Optional.none();\n    };\n    var someIf = function (b, a) {\n      return b ? Optional.some(a) : Optional.none();\n    };\n\n    var isSupported = function (dom) {\n      return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n    };\n\n    var rawSet = function (dom, key, value) {\n      if (isString$1(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set$1 = function (element, key, value) {\n      rawSet(element.dom, key, value);\n    };\n    var setAll$1 = function (element, attrs) {\n      var dom = element.dom;\n      each$j(attrs, function (v, k) {\n        rawSet(dom, k, v);\n      });\n    };\n    var get$6 = function (element, key) {\n      var v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    var getOpt = function (element, key) {\n      return Optional.from(get$6(element, key));\n    };\n    var has$1 = function (element, key) {\n      var dom = element.dom;\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n    };\n    var remove$6 = function (element, key) {\n      element.dom.removeAttribute(key);\n    };\n    var clone$3 = function (element) {\n      return foldl(element.dom.attributes, function (acc, attr) {\n        acc[attr.name] = attr.value;\n        return acc;\n      }, {});\n    };\n\n    var internalSet = function (dom, property, value) {\n      if (!isString$1(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    var setAll = function (element, css) {\n      var dom = element.dom;\n      each$j(css, function (v, k) {\n        internalSet(dom, k, v);\n      });\n    };\n    var get$5 = function (element, property) {\n      var dom = element.dom;\n      var styles = window.getComputedStyle(dom);\n      var r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    var getUnsafeProperty = function (dom, property) {\n      return isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    };\n    var getRaw = function (element, property) {\n      var dom = element.dom;\n      var raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(function (r) {\n        return r.length > 0;\n      });\n    };\n    var getAllRaw = function (element) {\n      var css = {};\n      var dom = element.dom;\n      if (isSupported(dom)) {\n        for (var i = 0; i < dom.style.length; i++) {\n          var ruleName = dom.style.item(i);\n          css[ruleName] = dom.style[ruleName];\n        }\n      }\n      return css;\n    };\n    var reflow = function (e) {\n      return e.dom.offsetWidth;\n    };\n\n    var browser$3 = detect().browser;\n    var firstElement = function (nodes) {\n      return find$3(nodes, isElement$6);\n    };\n    var getTableCaptionDeltaY = function (elm) {\n      if (browser$3.isFirefox() && name(elm) === 'table') {\n        return firstElement(children(elm)).filter(function (elm) {\n          return name(elm) === 'caption';\n        }).bind(function (caption) {\n          return firstElement(nextSiblings(caption)).map(function (body) {\n            var bodyTop = body.dom.offsetTop;\n            var captionTop = caption.dom.offsetTop;\n            var captionHeight = caption.dom.offsetHeight;\n            return bodyTop <= captionTop ? -captionHeight : 0;\n          });\n        }).getOr(0);\n      } else {\n        return 0;\n      }\n    };\n    var hasChild = function (elm, child) {\n      return elm.children && contains$3(elm.children, child);\n    };\n    var getPos = function (body, elm, rootElm) {\n      var x = 0, y = 0;\n      var doc = body.ownerDocument;\n      rootElm = rootElm ? rootElm : body;\n      if (elm) {\n        if (rootElm === body && elm.getBoundingClientRect && get$5(SugarElement.fromDom(body), 'position') === 'static') {\n          var pos = elm.getBoundingClientRect();\n          x = pos.left + (doc.documentElement.scrollLeft || body.scrollLeft) - doc.documentElement.clientLeft;\n          y = pos.top + (doc.documentElement.scrollTop || body.scrollTop) - doc.documentElement.clientTop;\n          return {\n            x: x,\n            y: y\n          };\n        }\n        var offsetParent = elm;\n        while (offsetParent && offsetParent !== rootElm && offsetParent.nodeType && !hasChild(offsetParent, rootElm)) {\n          var castOffsetParent = offsetParent;\n          x += castOffsetParent.offsetLeft || 0;\n          y += castOffsetParent.offsetTop || 0;\n          offsetParent = castOffsetParent.offsetParent;\n        }\n        offsetParent = elm.parentNode;\n        while (offsetParent && offsetParent !== rootElm && offsetParent.nodeType && !hasChild(offsetParent, rootElm)) {\n          x -= offsetParent.scrollLeft || 0;\n          y -= offsetParent.scrollTop || 0;\n          offsetParent = offsetParent.parentNode;\n        }\n        y += getTableCaptionDeltaY(SugarElement.fromDom(elm));\n      }\n      return {\n        x: x,\n        y: y\n      };\n    };\n\n    var exports$1 = {}, module$1 = { exports: exports$1 };\n    (function (define, exports, module, require) {\n      (function (global, factory) {\n        typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.EphoxContactWrapper = factory());\n      }(this, function () {\n        var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n        var promise = { exports: {} };\n        (function (module) {\n          (function (root) {\n            var setTimeoutFunc = setTimeout;\n            function noop() {\n            }\n            function bind(fn, thisArg) {\n              return function () {\n                fn.apply(thisArg, arguments);\n              };\n            }\n            function Promise(fn) {\n              if (typeof this !== 'object')\n                throw new TypeError('Promises must be constructed via new');\n              if (typeof fn !== 'function')\n                throw new TypeError('not a function');\n              this._state = 0;\n              this._handled = false;\n              this._value = undefined;\n              this._deferreds = [];\n              doResolve(fn, this);\n            }\n            function handle(self, deferred) {\n              while (self._state === 3) {\n                self = self._value;\n              }\n              if (self._state === 0) {\n                self._deferreds.push(deferred);\n                return;\n              }\n              self._handled = true;\n              Promise._immediateFn(function () {\n                var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n                if (cb === null) {\n                  (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n                  return;\n                }\n                var ret;\n                try {\n                  ret = cb(self._value);\n                } catch (e) {\n                  reject(deferred.promise, e);\n                  return;\n                }\n                resolve(deferred.promise, ret);\n              });\n            }\n            function resolve(self, newValue) {\n              try {\n                if (newValue === self)\n                  throw new TypeError('A promise cannot be resolved with itself.');\n                if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n                  var then = newValue.then;\n                  if (newValue instanceof Promise) {\n                    self._state = 3;\n                    self._value = newValue;\n                    finale(self);\n                    return;\n                  } else if (typeof then === 'function') {\n                    doResolve(bind(then, newValue), self);\n                    return;\n                  }\n                }\n                self._state = 1;\n                self._value = newValue;\n                finale(self);\n              } catch (e) {\n                reject(self, e);\n              }\n            }\n            function reject(self, newValue) {\n              self._state = 2;\n              self._value = newValue;\n              finale(self);\n            }\n            function finale(self) {\n              if (self._state === 2 && self._deferreds.length === 0) {\n                Promise._immediateFn(function () {\n                  if (!self._handled) {\n                    Promise._unhandledRejectionFn(self._value);\n                  }\n                });\n              }\n              for (var i = 0, len = self._deferreds.length; i < len; i++) {\n                handle(self, self._deferreds[i]);\n              }\n              self._deferreds = null;\n            }\n            function Handler(onFulfilled, onRejected, promise) {\n              this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n              this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n              this.promise = promise;\n            }\n            function doResolve(fn, self) {\n              var done = false;\n              try {\n                fn(function (value) {\n                  if (done)\n                    return;\n                  done = true;\n                  resolve(self, value);\n                }, function (reason) {\n                  if (done)\n                    return;\n                  done = true;\n                  reject(self, reason);\n                });\n              } catch (ex) {\n                if (done)\n                  return;\n                done = true;\n                reject(self, ex);\n              }\n            }\n            Promise.prototype['catch'] = function (onRejected) {\n              return this.then(null, onRejected);\n            };\n            Promise.prototype.then = function (onFulfilled, onRejected) {\n              var prom = new this.constructor(noop);\n              handle(this, new Handler(onFulfilled, onRejected, prom));\n              return prom;\n            };\n            Promise.all = function (arr) {\n              var args = Array.prototype.slice.call(arr);\n              return new Promise(function (resolve, reject) {\n                if (args.length === 0)\n                  return resolve([]);\n                var remaining = args.length;\n                function res(i, val) {\n                  try {\n                    if (val && (typeof val === 'object' || typeof val === 'function')) {\n                      var then = val.then;\n                      if (typeof then === 'function') {\n                        then.call(val, function (val) {\n                          res(i, val);\n                        }, reject);\n                        return;\n                      }\n                    }\n                    args[i] = val;\n                    if (--remaining === 0) {\n                      resolve(args);\n                    }\n                  } catch (ex) {\n                    reject(ex);\n                  }\n                }\n                for (var i = 0; i < args.length; i++) {\n                  res(i, args[i]);\n                }\n              });\n            };\n            Promise.resolve = function (value) {\n              if (value && typeof value === 'object' && value.constructor === Promise) {\n                return value;\n              }\n              return new Promise(function (resolve) {\n                resolve(value);\n              });\n            };\n            Promise.reject = function (value) {\n              return new Promise(function (resolve, reject) {\n                reject(value);\n              });\n            };\n            Promise.race = function (values) {\n              return new Promise(function (resolve, reject) {\n                for (var i = 0, len = values.length; i < len; i++) {\n                  values[i].then(resolve, reject);\n                }\n              });\n            };\n            Promise._immediateFn = typeof setImmediate === 'function' ? function (fn) {\n              setImmediate(fn);\n            } : function (fn) {\n              setTimeoutFunc(fn, 0);\n            };\n            Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n              if (typeof console !== 'undefined' && console) {\n                console.warn('Possible Unhandled Promise Rejection:', err);\n              }\n            };\n            Promise._setImmediateFn = function _setImmediateFn(fn) {\n              Promise._immediateFn = fn;\n            };\n            Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n              Promise._unhandledRejectionFn = fn;\n            };\n            if (module.exports) {\n              module.exports = Promise;\n            } else if (!root.Promise) {\n              root.Promise = Promise;\n            }\n          }(commonjsGlobal));\n        }(promise));\n        var promisePolyfill = promise.exports;\n        var Global = function () {\n          if (typeof window !== 'undefined') {\n            return window;\n          } else {\n            return Function('return this;')();\n          }\n        }();\n        var promisePolyfill_1 = { boltExport: Global.Promise || promisePolyfill };\n        return promisePolyfill_1;\n      }));\n    }(undefined, exports$1, module$1));\n    var Promise$1 = module$1.exports.boltExport;\n\n    var nu$1 = function (baseFn) {\n      var data = Optional.none();\n      var callbacks = [];\n      var map = function (f) {\n        return nu$1(function (nCallback) {\n          get(function (data) {\n            nCallback(f(data));\n          });\n        });\n      };\n      var get = function (nCallback) {\n        if (isReady()) {\n          call(nCallback);\n        } else {\n          callbacks.push(nCallback);\n        }\n      };\n      var set = function (x) {\n        if (!isReady()) {\n          data = Optional.some(x);\n          run(callbacks);\n          callbacks = [];\n        }\n      };\n      var isReady = function () {\n        return data.isSome();\n      };\n      var run = function (cbs) {\n        each$k(cbs, call);\n      };\n      var call = function (cb) {\n        data.each(function (x) {\n          setTimeout(function () {\n            cb(x);\n          }, 0);\n        });\n      };\n      baseFn(set);\n      return {\n        get: get,\n        map: map,\n        isReady: isReady\n      };\n    };\n    var pure$1 = function (a) {\n      return nu$1(function (callback) {\n        callback(a);\n      });\n    };\n    var LazyValue = {\n      nu: nu$1,\n      pure: pure$1\n    };\n\n    var errorReporter = function (err) {\n      setTimeout(function () {\n        throw err;\n      }, 0);\n    };\n    var make = function (run) {\n      var get = function (callback) {\n        run().then(callback, errorReporter);\n      };\n      var map = function (fab) {\n        return make(function () {\n          return run().then(fab);\n        });\n      };\n      var bind = function (aFutureB) {\n        return make(function () {\n          return run().then(function (v) {\n            return aFutureB(v).toPromise();\n          });\n        });\n      };\n      var anonBind = function (futureB) {\n        return make(function () {\n          return run().then(function () {\n            return futureB.toPromise();\n          });\n        });\n      };\n      var toLazy = function () {\n        return LazyValue.nu(get);\n      };\n      var toCached = function () {\n        var cache = null;\n        return make(function () {\n          if (cache === null) {\n            cache = run();\n          }\n          return cache;\n        });\n      };\n      var toPromise = run;\n      return {\n        map: map,\n        bind: bind,\n        anonBind: anonBind,\n        toLazy: toLazy,\n        toCached: toCached,\n        toPromise: toPromise,\n        get: get\n      };\n    };\n    var nu = function (baseFn) {\n      return make(function () {\n        return new Promise$1(baseFn);\n      });\n    };\n    var pure = function (a) {\n      return make(function () {\n        return Promise$1.resolve(a);\n      });\n    };\n    var Future = {\n      nu: nu,\n      pure: pure\n    };\n\n    var par$1 = function (asyncValues, nu) {\n      return nu(function (callback) {\n        var r = [];\n        var count = 0;\n        var cb = function (i) {\n          return function (value) {\n            r[i] = value;\n            count++;\n            if (count >= asyncValues.length) {\n              callback(r);\n            }\n          };\n        };\n        if (asyncValues.length === 0) {\n          callback([]);\n        } else {\n          each$k(asyncValues, function (asyncValue, i) {\n            asyncValue.get(cb(i));\n          });\n        }\n      });\n    };\n\n    var par = function (futures) {\n      return par$1(futures, Future.nu);\n    };\n\n    var value$1 = function (o) {\n      var or = function (_opt) {\n        return value$1(o);\n      };\n      var orThunk = function (_f) {\n        return value$1(o);\n      };\n      var map = function (f) {\n        return value$1(f(o));\n      };\n      var mapError = function (_f) {\n        return value$1(o);\n      };\n      var each = function (f) {\n        f(o);\n      };\n      var bind = function (f) {\n        return f(o);\n      };\n      var fold = function (_, onValue) {\n        return onValue(o);\n      };\n      var exists = function (f) {\n        return f(o);\n      };\n      var forall = function (f) {\n        return f(o);\n      };\n      var toOptional = function () {\n        return Optional.some(o);\n      };\n      return {\n        isValue: always,\n        isError: never,\n        getOr: constant(o),\n        getOrThunk: constant(o),\n        getOrDie: constant(o),\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: each,\n        bind: bind,\n        exists: exists,\n        forall: forall,\n        toOptional: toOptional\n      };\n    };\n    var error = function (message) {\n      var getOrThunk = function (f) {\n        return f();\n      };\n      var getOrDie = function () {\n        return die(String(message))();\n      };\n      var or = identity;\n      var orThunk = function (f) {\n        return f();\n      };\n      var map = function (_f) {\n        return error(message);\n      };\n      var mapError = function (f) {\n        return error(f(message));\n      };\n      var bind = function (_f) {\n        return error(message);\n      };\n      var fold = function (onError, _) {\n        return onError(message);\n      };\n      return {\n        isValue: never,\n        isError: always,\n        getOr: identity,\n        getOrThunk: getOrThunk,\n        getOrDie: getOrDie,\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: noop,\n        bind: bind,\n        exists: never,\n        forall: always,\n        toOptional: Optional.none\n      };\n    };\n    var fromOption = function (opt, err) {\n      return opt.fold(function () {\n        return error(err);\n      }, value$1);\n    };\n    var Result = {\n      value: value$1,\n      error: error,\n      fromOption: fromOption\n    };\n\n    var generate$1 = function (cases) {\n      if (!isArray$1(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      var constructors = [];\n      var adt = {};\n      each$k(cases, function (acase, count) {\n        var keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        var key = keys$1[0];\n        var value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray$1(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          var argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          var match = function (branches) {\n            var branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            var allReqd = forall(constructors, function (reqKey) {\n              return contains$3(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: function () {\n              var foldArgs = [];\n              for (var _i = 0; _i < arguments.length; _i++) {\n                foldArgs[_i] = arguments[_i];\n              }\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              var target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match: match,\n            log: function (label) {\n              console.log(label, {\n                constructors: constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    var Adt = { generate: generate$1 };\n\n    Adt.generate([\n      {\n        bothErrors: [\n          'error1',\n          'error2'\n        ]\n      },\n      {\n        firstError: [\n          'error1',\n          'value2'\n        ]\n      },\n      {\n        secondError: [\n          'value1',\n          'error2'\n        ]\n      },\n      {\n        bothValues: [\n          'value1',\n          'value2'\n        ]\n      }\n    ]);\n    var unite = function (result) {\n      return result.fold(identity, identity);\n    };\n\n    function ClosestOrAncestor (is, ancestor, scope, a, isRoot) {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    }\n\n    var ancestor$3 = function (scope, predicate, isRoot) {\n      var element = scope.dom;\n      var stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var closest$3 = function (scope, predicate, isRoot) {\n      var is = function (s, test) {\n        return test(s);\n      };\n      return ClosestOrAncestor(is, ancestor$3, scope, predicate, isRoot);\n    };\n    var sibling$2 = function (scope, predicate) {\n      var element = scope.dom;\n      if (!element.parentNode) {\n        return Optional.none();\n      }\n      return child(SugarElement.fromDom(element.parentNode), function (x) {\n        return !eq(scope, x) && predicate(x);\n      });\n    };\n    var child = function (scope, predicate) {\n      var pred = function (node) {\n        return predicate(SugarElement.fromDom(node));\n      };\n      var result = find$3(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n\n    var ancestor$2 = function (scope, selector, isRoot) {\n      return ancestor$3(scope, function (e) {\n        return is$2(e, selector);\n      }, isRoot);\n    };\n    var descendant = function (scope, selector) {\n      return one(selector, scope);\n    };\n    var closest$2 = function (scope, selector, isRoot) {\n      var is = function (element, selector) {\n        return is$2(element, selector);\n      };\n      return ClosestOrAncestor(is, ancestor$2, scope, selector, isRoot);\n    };\n\n    var promiseObj = window.Promise ? window.Promise : Promise$1;\n\n    var requestAnimationFramePromise;\n    var requestAnimationFrame = function (callback, element) {\n      var requestAnimationFrameFunc = window.requestAnimationFrame;\n      var vendors = [\n        'ms',\n        'moz',\n        'webkit'\n      ];\n      var featurefill = function (cb) {\n        window.setTimeout(cb, 0);\n      };\n      for (var i = 0; i < vendors.length && !requestAnimationFrameFunc; i++) {\n        requestAnimationFrameFunc = window[vendors[i] + 'RequestAnimationFrame'];\n      }\n      if (!requestAnimationFrameFunc) {\n        requestAnimationFrameFunc = featurefill;\n      }\n      requestAnimationFrameFunc(callback, element);\n    };\n    var wrappedSetTimeout = function (callback, time) {\n      if (typeof time !== 'number') {\n        time = 0;\n      }\n      return setTimeout(callback, time);\n    };\n    var wrappedSetInterval = function (callback, time) {\n      if (typeof time !== 'number') {\n        time = 1;\n      }\n      return setInterval(callback, time);\n    };\n    var wrappedClearTimeout = function (id) {\n      return clearTimeout(id);\n    };\n    var wrappedClearInterval = function (id) {\n      return clearInterval(id);\n    };\n    var debounce = function (callback, time) {\n      var timer;\n      var func = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        clearTimeout(timer);\n        timer = wrappedSetTimeout(function () {\n          callback.apply(this, args);\n        }, time);\n      };\n      func.stop = function () {\n        clearTimeout(timer);\n      };\n      return func;\n    };\n    var Delay = {\n      requestAnimationFrame: function (callback, element) {\n        if (requestAnimationFramePromise) {\n          requestAnimationFramePromise.then(callback);\n          return;\n        }\n        requestAnimationFramePromise = new promiseObj(function (resolve) {\n          if (!element) {\n            element = document.body;\n          }\n          requestAnimationFrame(resolve, element);\n        }).then(callback);\n      },\n      setTimeout: wrappedSetTimeout,\n      setInterval: wrappedSetInterval,\n      setEditorTimeout: function (editor, callback, time) {\n        return wrappedSetTimeout(function () {\n          if (!editor.removed) {\n            callback();\n          }\n        }, time);\n      },\n      setEditorInterval: function (editor, callback, time) {\n        var timer = wrappedSetInterval(function () {\n          if (!editor.removed) {\n            callback();\n          } else {\n            clearInterval(timer);\n          }\n        }, time);\n        return timer;\n      },\n      debounce: debounce,\n      throttle: debounce,\n      clearInterval: wrappedClearInterval,\n      clearTimeout: wrappedClearTimeout\n    };\n\n    var StyleSheetLoader = function (documentOrShadowRoot, settings) {\n      if (settings === void 0) {\n        settings = {};\n      }\n      var idCount = 0;\n      var loadedStates = {};\n      var edos = SugarElement.fromDom(documentOrShadowRoot);\n      var doc = documentOrOwner(edos);\n      var maxLoadTime = settings.maxLoadTime || 5000;\n      var _setReferrerPolicy = function (referrerPolicy) {\n        settings.referrerPolicy = referrerPolicy;\n      };\n      var addStyle = function (element) {\n        append$1(getStyleContainer(edos), element);\n      };\n      var removeStyle = function (id) {\n        var styleContainer = getStyleContainer(edos);\n        descendant(styleContainer, '#' + id).each(remove$7);\n      };\n      var getOrCreateState = function (url) {\n        return get$9(loadedStates, url).getOrThunk(function () {\n          return {\n            id: 'mce-u' + idCount++,\n            passed: [],\n            failed: [],\n            count: 0\n          };\n        });\n      };\n      var load = function (url, success, failure) {\n        var link;\n        var urlWithSuffix = Tools._addCacheSuffix(url);\n        var state = getOrCreateState(urlWithSuffix);\n        loadedStates[urlWithSuffix] = state;\n        state.count++;\n        var resolve = function (callbacks, status) {\n          var i = callbacks.length;\n          while (i--) {\n            callbacks[i]();\n          }\n          state.status = status;\n          state.passed = [];\n          state.failed = [];\n          if (link) {\n            link.onload = null;\n            link.onerror = null;\n            link = null;\n          }\n        };\n        var passed = function () {\n          return resolve(state.passed, 2);\n        };\n        var failed = function () {\n          return resolve(state.failed, 3);\n        };\n        var wait = function (testCallback, waitCallback) {\n          if (!testCallback()) {\n            if (Date.now() - startTime < maxLoadTime) {\n              Delay.setTimeout(waitCallback);\n            } else {\n              failed();\n            }\n          }\n        };\n        var waitForWebKitLinkLoaded = function () {\n          wait(function () {\n            var styleSheets = documentOrShadowRoot.styleSheets;\n            var i = styleSheets.length;\n            while (i--) {\n              var styleSheet = styleSheets[i];\n              var owner = styleSheet.ownerNode;\n              if (owner && owner.id === link.id) {\n                passed();\n                return true;\n              }\n            }\n            return false;\n          }, waitForWebKitLinkLoaded);\n        };\n        if (success) {\n          state.passed.push(success);\n        }\n        if (failure) {\n          state.failed.push(failure);\n        }\n        if (state.status === 1) {\n          return;\n        }\n        if (state.status === 2) {\n          passed();\n          return;\n        }\n        if (state.status === 3) {\n          failed();\n          return;\n        }\n        state.status = 1;\n        var linkElem = SugarElement.fromTag('link', doc.dom);\n        setAll$1(linkElem, {\n          rel: 'stylesheet',\n          type: 'text/css',\n          id: state.id\n        });\n        var startTime = Date.now();\n        if (settings.contentCssCors) {\n          set$1(linkElem, 'crossOrigin', 'anonymous');\n        }\n        if (settings.referrerPolicy) {\n          set$1(linkElem, 'referrerpolicy', settings.referrerPolicy);\n        }\n        link = linkElem.dom;\n        link.onload = waitForWebKitLinkLoaded;\n        link.onerror = failed;\n        addStyle(linkElem);\n        set$1(linkElem, 'href', urlWithSuffix);\n      };\n      var loadF = function (url) {\n        return Future.nu(function (resolve) {\n          load(url, compose(resolve, constant(Result.value(url))), compose(resolve, constant(Result.error(url))));\n        });\n      };\n      var loadAll = function (urls, success, failure) {\n        par(map$3(urls, loadF)).get(function (result) {\n          var parts = partition(result, function (r) {\n            return r.isValue();\n          });\n          if (parts.fail.length > 0) {\n            failure(parts.fail.map(unite));\n          } else {\n            success(parts.pass.map(unite));\n          }\n        });\n      };\n      var unload = function (url) {\n        var urlWithSuffix = Tools._addCacheSuffix(url);\n        get$9(loadedStates, urlWithSuffix).each(function (state) {\n          var count = --state.count;\n          if (count === 0) {\n            delete loadedStates[urlWithSuffix];\n            removeStyle(state.id);\n          }\n        });\n      };\n      var unloadAll = function (urls) {\n        each$k(urls, function (url) {\n          unload(url);\n        });\n      };\n      return {\n        load: load,\n        loadAll: loadAll,\n        unload: unload,\n        unloadAll: unloadAll,\n        _setReferrerPolicy: _setReferrerPolicy\n      };\n    };\n\n    var create$8 = function () {\n      var map = new WeakMap();\n      var forElement = function (referenceElement, settings) {\n        var root = getRootNode(referenceElement);\n        var rootDom = root.dom;\n        return Optional.from(map.get(rootDom)).getOrThunk(function () {\n          var sl = StyleSheetLoader(rootDom, settings);\n          map.set(rootDom, sl);\n          return sl;\n        });\n      };\n      return { forElement: forElement };\n    };\n    var instance = create$8();\n\n    var DomTreeWalker = function () {\n      function DomTreeWalker(startNode, rootNode) {\n        this.node = startNode;\n        this.rootNode = rootNode;\n        this.current = this.current.bind(this);\n        this.next = this.next.bind(this);\n        this.prev = this.prev.bind(this);\n        this.prev2 = this.prev2.bind(this);\n      }\n      DomTreeWalker.prototype.current = function () {\n        return this.node;\n      };\n      DomTreeWalker.prototype.next = function (shallow) {\n        this.node = this.findSibling(this.node, 'firstChild', 'nextSibling', shallow);\n        return this.node;\n      };\n      DomTreeWalker.prototype.prev = function (shallow) {\n        this.node = this.findSibling(this.node, 'lastChild', 'previousSibling', shallow);\n        return this.node;\n      };\n      DomTreeWalker.prototype.prev2 = function (shallow) {\n        this.node = this.findPreviousNode(this.node, 'lastChild', 'previousSibling', shallow);\n        return this.node;\n      };\n      DomTreeWalker.prototype.findSibling = function (node, startName, siblingName, shallow) {\n        var sibling, parent;\n        if (node) {\n          if (!shallow && node[startName]) {\n            return node[startName];\n          }\n          if (node !== this.rootNode) {\n            sibling = node[siblingName];\n            if (sibling) {\n              return sibling;\n            }\n            for (parent = node.parentNode; parent && parent !== this.rootNode; parent = parent.parentNode) {\n              sibling = parent[siblingName];\n              if (sibling) {\n                return sibling;\n              }\n            }\n          }\n        }\n      };\n      DomTreeWalker.prototype.findPreviousNode = function (node, startName, siblingName, shallow) {\n        var sibling, parent, child;\n        if (node) {\n          sibling = node[siblingName];\n          if (this.rootNode && sibling === this.rootNode) {\n            return;\n          }\n          if (sibling) {\n            if (!shallow) {\n              for (child = sibling[startName]; child; child = child[startName]) {\n                if (!child[startName]) {\n                  return child;\n                }\n              }\n            }\n            return sibling;\n          }\n          parent = node.parentNode;\n          if (parent && parent !== this.rootNode) {\n            return parent;\n          }\n        }\n      };\n      return DomTreeWalker;\n    }();\n\n    var blocks = [\n      'article',\n      'aside',\n      'details',\n      'div',\n      'dt',\n      'figcaption',\n      'footer',\n      'form',\n      'fieldset',\n      'header',\n      'hgroup',\n      'html',\n      'main',\n      'nav',\n      'section',\n      'summary',\n      'body',\n      'p',\n      'dl',\n      'multicol',\n      'dd',\n      'figure',\n      'address',\n      'center',\n      'blockquote',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'listing',\n      'xmp',\n      'pre',\n      'plaintext',\n      'menu',\n      'dir',\n      'ul',\n      'ol',\n      'li',\n      'hr',\n      'table',\n      'tbody',\n      'thead',\n      'tfoot',\n      'th',\n      'tr',\n      'td',\n      'caption'\n    ];\n    var tableCells = [\n      'td',\n      'th'\n    ];\n    var tableSections = [\n      'thead',\n      'tbody',\n      'tfoot'\n    ];\n    var textBlocks = [\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'p',\n      'div',\n      'address',\n      'pre',\n      'form',\n      'blockquote',\n      'center',\n      'dir',\n      'fieldset',\n      'header',\n      'footer',\n      'article',\n      'section',\n      'hgroup',\n      'aside',\n      'nav',\n      'figure'\n    ];\n    var headings = [\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6'\n    ];\n    var listItems$1 = [\n      'li',\n      'dd',\n      'dt'\n    ];\n    var lists = [\n      'ul',\n      'ol',\n      'dl'\n    ];\n    var wsElements = [\n      'pre',\n      'script',\n      'textarea',\n      'style'\n    ];\n    var lazyLookup = function (items) {\n      var lookup;\n      return function (node) {\n        lookup = lookup ? lookup : mapToObject(items, always);\n        return has$2(lookup, name(node));\n      };\n    };\n    var isHeading = lazyLookup(headings);\n    var isBlock$2 = lazyLookup(blocks);\n    var isTable$2 = function (node) {\n      return name(node) === 'table';\n    };\n    var isInline$1 = function (node) {\n      return isElement$6(node) && !isBlock$2(node);\n    };\n    var isBr$4 = function (node) {\n      return isElement$6(node) && name(node) === 'br';\n    };\n    var isTextBlock$2 = lazyLookup(textBlocks);\n    var isList = lazyLookup(lists);\n    var isListItem = lazyLookup(listItems$1);\n    var isTableSection = lazyLookup(tableSections);\n    var isTableCell$4 = lazyLookup(tableCells);\n    var isWsPreserveElement = lazyLookup(wsElements);\n\n    var ancestor$1 = function (scope, selector, isRoot) {\n      return ancestor$2(scope, selector, isRoot).isSome();\n    };\n\n    var zeroWidth = '\\uFEFF';\n    var nbsp = '\\xA0';\n    var isZwsp$1 = function (char) {\n      return char === zeroWidth;\n    };\n    var removeZwsp = function (s) {\n      return s.replace(/\\uFEFF/g, '');\n    };\n\n    var ZWSP$1 = zeroWidth;\n    var isZwsp = isZwsp$1;\n    var trim$2 = removeZwsp;\n\n    var isElement$4 = isElement$5;\n    var isText$6 = isText$7;\n    var isCaretContainerBlock$1 = function (node) {\n      if (isText$6(node)) {\n        node = node.parentNode;\n      }\n      return isElement$4(node) && node.hasAttribute('data-mce-caret');\n    };\n    var isCaretContainerInline = function (node) {\n      return isText$6(node) && isZwsp(node.data);\n    };\n    var isCaretContainer$2 = function (node) {\n      return isCaretContainerBlock$1(node) || isCaretContainerInline(node);\n    };\n    var hasContent = function (node) {\n      return node.firstChild !== node.lastChild || !isBr$5(node.firstChild);\n    };\n    var insertInline$1 = function (node, before) {\n      var doc = node.ownerDocument;\n      var textNode = doc.createTextNode(ZWSP$1);\n      var parentNode = node.parentNode;\n      if (!before) {\n        var sibling = node.nextSibling;\n        if (isText$6(sibling)) {\n          if (isCaretContainer$2(sibling)) {\n            return sibling;\n          }\n          if (startsWithCaretContainer$1(sibling)) {\n            sibling.splitText(1);\n            return sibling;\n          }\n        }\n        if (node.nextSibling) {\n          parentNode.insertBefore(textNode, node.nextSibling);\n        } else {\n          parentNode.appendChild(textNode);\n        }\n      } else {\n        var sibling = node.previousSibling;\n        if (isText$6(sibling)) {\n          if (isCaretContainer$2(sibling)) {\n            return sibling;\n          }\n          if (endsWithCaretContainer$1(sibling)) {\n            return sibling.splitText(sibling.data.length - 1);\n          }\n        }\n        parentNode.insertBefore(textNode, node);\n      }\n      return textNode;\n    };\n    var isBeforeInline = function (pos) {\n      var container = pos.container();\n      if (!isText$7(container)) {\n        return false;\n      }\n      return container.data.charAt(pos.offset()) === ZWSP$1 || pos.isAtStart() && isCaretContainerInline(container.previousSibling);\n    };\n    var isAfterInline = function (pos) {\n      var container = pos.container();\n      if (!isText$7(container)) {\n        return false;\n      }\n      return container.data.charAt(pos.offset() - 1) === ZWSP$1 || pos.isAtEnd() && isCaretContainerInline(container.nextSibling);\n    };\n    var createBogusBr = function () {\n      var br = document.createElement('br');\n      br.setAttribute('data-mce-bogus', '1');\n      return br;\n    };\n    var insertBlock$1 = function (blockName, node, before) {\n      var doc = node.ownerDocument;\n      var blockNode = doc.createElement(blockName);\n      blockNode.setAttribute('data-mce-caret', before ? 'before' : 'after');\n      blockNode.setAttribute('data-mce-bogus', 'all');\n      blockNode.appendChild(createBogusBr());\n      var parentNode = node.parentNode;\n      if (!before) {\n        if (node.nextSibling) {\n          parentNode.insertBefore(blockNode, node.nextSibling);\n        } else {\n          parentNode.appendChild(blockNode);\n        }\n      } else {\n        parentNode.insertBefore(blockNode, node);\n      }\n      return blockNode;\n    };\n    var startsWithCaretContainer$1 = function (node) {\n      return isText$6(node) && node.data[0] === ZWSP$1;\n    };\n    var endsWithCaretContainer$1 = function (node) {\n      return isText$6(node) && node.data[node.data.length - 1] === ZWSP$1;\n    };\n    var trimBogusBr = function (elm) {\n      var brs = elm.getElementsByTagName('br');\n      var lastBr = brs[brs.length - 1];\n      if (isBogus$2(lastBr)) {\n        lastBr.parentNode.removeChild(lastBr);\n      }\n    };\n    var showCaretContainerBlock = function (caretContainer) {\n      if (caretContainer && caretContainer.hasAttribute('data-mce-caret')) {\n        trimBogusBr(caretContainer);\n        caretContainer.removeAttribute('data-mce-caret');\n        caretContainer.removeAttribute('data-mce-bogus');\n        caretContainer.removeAttribute('style');\n        caretContainer.removeAttribute('_moz_abspos');\n        return caretContainer;\n      }\n      return null;\n    };\n    var isRangeInCaretContainerBlock = function (range) {\n      return isCaretContainerBlock$1(range.startContainer);\n    };\n\n    var isContentEditableTrue$3 = isContentEditableTrue$4;\n    var isContentEditableFalse$a = isContentEditableFalse$b;\n    var isBr$3 = isBr$5;\n    var isText$5 = isText$7;\n    var isInvalidTextElement = matchNodeNames([\n      'script',\n      'style',\n      'textarea'\n    ]);\n    var isAtomicInline = matchNodeNames([\n      'img',\n      'input',\n      'textarea',\n      'hr',\n      'iframe',\n      'video',\n      'audio',\n      'object',\n      'embed'\n    ]);\n    var isTable$1 = matchNodeNames(['table']);\n    var isCaretContainer$1 = isCaretContainer$2;\n    var isCaretCandidate$3 = function (node) {\n      if (isCaretContainer$1(node)) {\n        return false;\n      }\n      if (isText$5(node)) {\n        return !isInvalidTextElement(node.parentNode);\n      }\n      return isAtomicInline(node) || isBr$3(node) || isTable$1(node) || isNonUiContentEditableFalse(node);\n    };\n    var isUnselectable = function (node) {\n      return isElement$5(node) && node.getAttribute('unselectable') === 'true';\n    };\n    var isNonUiContentEditableFalse = function (node) {\n      return isUnselectable(node) === false && isContentEditableFalse$a(node);\n    };\n    var isInEditable = function (node, root) {\n      for (node = node.parentNode; node && node !== root; node = node.parentNode) {\n        if (isNonUiContentEditableFalse(node)) {\n          return false;\n        }\n        if (isContentEditableTrue$3(node)) {\n          return true;\n        }\n      }\n      return true;\n    };\n    var isAtomicContentEditableFalse = function (node) {\n      if (!isNonUiContentEditableFalse(node)) {\n        return false;\n      }\n      return foldl(from(node.getElementsByTagName('*')), function (result, elm) {\n        return result || isContentEditableTrue$3(elm);\n      }, false) !== true;\n    };\n    var isAtomic$1 = function (node) {\n      return isAtomicInline(node) || isAtomicContentEditableFalse(node);\n    };\n    var isEditableCaretCandidate$1 = function (node, root) {\n      return isCaretCandidate$3(node) && isInEditable(node, root);\n    };\n\n    var whiteSpaceRegExp$1 = /^[ \\t\\r\\n]*$/;\n    var isWhitespaceText = function (text) {\n      return whiteSpaceRegExp$1.test(text);\n    };\n\n    var hasWhitespacePreserveParent = function (node, rootNode) {\n      var rootElement = SugarElement.fromDom(rootNode);\n      var startNode = SugarElement.fromDom(node);\n      return ancestor$1(startNode, 'pre,code', curry(eq, rootElement));\n    };\n    var isWhitespace = function (node, rootNode) {\n      return isText$7(node) && isWhitespaceText(node.data) && hasWhitespacePreserveParent(node, rootNode) === false;\n    };\n    var isNamedAnchor = function (node) {\n      return isElement$5(node) && node.nodeName === 'A' && !node.hasAttribute('href') && (node.hasAttribute('name') || node.hasAttribute('id'));\n    };\n    var isContent$1 = function (node, rootNode) {\n      return isCaretCandidate$3(node) && isWhitespace(node, rootNode) === false || isNamedAnchor(node) || isBookmark(node);\n    };\n    var isBookmark = hasAttribute('data-mce-bookmark');\n    var isBogus$1 = hasAttribute('data-mce-bogus');\n    var isBogusAll = hasAttributeValue('data-mce-bogus', 'all');\n    var isEmptyNode = function (targetNode, skipBogus) {\n      var brCount = 0;\n      if (isContent$1(targetNode, targetNode)) {\n        return false;\n      } else {\n        var node = targetNode.firstChild;\n        if (!node) {\n          return true;\n        }\n        var walker = new DomTreeWalker(node, targetNode);\n        do {\n          if (skipBogus) {\n            if (isBogusAll(node)) {\n              node = walker.next(true);\n              continue;\n            }\n            if (isBogus$1(node)) {\n              node = walker.next();\n              continue;\n            }\n          }\n          if (isBr$5(node)) {\n            brCount++;\n            node = walker.next();\n            continue;\n          }\n          if (isContent$1(node, targetNode)) {\n            return false;\n          }\n          node = walker.next();\n        } while (node);\n        return brCount <= 1;\n      }\n    };\n    var isEmpty$2 = function (elm, skipBogus) {\n      if (skipBogus === void 0) {\n        skipBogus = true;\n      }\n      return isEmptyNode(elm.dom, skipBogus);\n    };\n\n    var isSpan = function (node) {\n      return node.nodeName.toLowerCase() === 'span';\n    };\n    var isInlineContent = function (node, root) {\n      return isNonNullable(node) && (isContent$1(node, root) || isInline$1(SugarElement.fromDom(node)));\n    };\n    var surroundedByInlineContent = function (node, root) {\n      var prev = new DomTreeWalker(node, root).prev(false);\n      var next = new DomTreeWalker(node, root).next(false);\n      var prevIsInline = isUndefined(prev) || isInlineContent(prev, root);\n      var nextIsInline = isUndefined(next) || isInlineContent(next, root);\n      return prevIsInline && nextIsInline;\n    };\n    var isBookmarkNode$2 = function (node) {\n      return isSpan(node) && node.getAttribute('data-mce-type') === 'bookmark';\n    };\n    var isKeepTextNode = function (node, root) {\n      return isText$7(node) && node.data.length > 0 && surroundedByInlineContent(node, root);\n    };\n    var isKeepElement = function (node) {\n      return isElement$5(node) ? node.childNodes.length > 0 : false;\n    };\n    var isDocument = function (node) {\n      return isDocumentFragment(node) || isDocument$1(node);\n    };\n    var trimNode = function (dom, node, root) {\n      var rootNode = root || node;\n      if (isElement$5(node) && isBookmarkNode$2(node)) {\n        return node;\n      }\n      var children = node.childNodes;\n      for (var i = children.length - 1; i >= 0; i--) {\n        trimNode(dom, children[i], rootNode);\n      }\n      if (isElement$5(node)) {\n        var currentChildren = node.childNodes;\n        if (currentChildren.length === 1 && isBookmarkNode$2(currentChildren[0])) {\n          node.parentNode.insertBefore(currentChildren[0], node);\n        }\n      }\n      if (!isDocument(node) && !isContent$1(node, rootNode) && !isKeepElement(node) && !isKeepTextNode(node, rootNode)) {\n        dom.remove(node);\n      }\n      return node;\n    };\n\n    var makeMap$3 = Tools.makeMap;\n    var attrsCharsRegExp = /[&<>\\\"\\u0060\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n    var textCharsRegExp = /[<>&\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n    var rawCharsRegExp = /[<>&\\\"\\']/g;\n    var entityRegExp = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi;\n    var asciiMap = {\n      128: '\\u20AC',\n      130: '\\u201A',\n      131: '\\u0192',\n      132: '\\u201E',\n      133: '\\u2026',\n      134: '\\u2020',\n      135: '\\u2021',\n      136: '\\u02c6',\n      137: '\\u2030',\n      138: '\\u0160',\n      139: '\\u2039',\n      140: '\\u0152',\n      142: '\\u017d',\n      145: '\\u2018',\n      146: '\\u2019',\n      147: '\\u201C',\n      148: '\\u201D',\n      149: '\\u2022',\n      150: '\\u2013',\n      151: '\\u2014',\n      152: '\\u02DC',\n      153: '\\u2122',\n      154: '\\u0161',\n      155: '\\u203A',\n      156: '\\u0153',\n      158: '\\u017e',\n      159: '\\u0178'\n    };\n    var baseEntities = {\n      '\"': '&quot;',\n      '\\'': '&#39;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '&': '&amp;',\n      '`': '&#96;'\n    };\n    var reverseEntities = {\n      '&lt;': '<',\n      '&gt;': '>',\n      '&amp;': '&',\n      '&quot;': '\"',\n      '&apos;': '\\''\n    };\n    var nativeDecode = function (text) {\n      var elm = SugarElement.fromTag('div').dom;\n      elm.innerHTML = text;\n      return elm.textContent || elm.innerText || text;\n    };\n    var buildEntitiesLookup = function (items, radix) {\n      var i, chr, entity;\n      var lookup = {};\n      if (items) {\n        items = items.split(',');\n        radix = radix || 10;\n        for (i = 0; i < items.length; i += 2) {\n          chr = String.fromCharCode(parseInt(items[i], radix));\n          if (!baseEntities[chr]) {\n            entity = '&' + items[i + 1] + ';';\n            lookup[chr] = entity;\n            lookup[entity] = chr;\n          }\n        }\n        return lookup;\n      }\n    };\n    var namedEntities = buildEntitiesLookup('50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,' + '5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,' + '5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,' + '5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,' + '68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,' + '6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,' + '6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,' + '75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,' + '7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,' + '7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,' + 'sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,' + 'st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,' + 't9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,' + 'tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,' + 'u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,' + '81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,' + '8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,' + '8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,' + '8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,' + '8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,' + 'nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,' + 'rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,' + 'Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,' + '80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,' + '811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro', 32);\n    var encodeRaw = function (text, attr) {\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n        return baseEntities[chr] || chr;\n      });\n    };\n    var encodeAllRaw = function (text) {\n      return ('' + text).replace(rawCharsRegExp, function (chr) {\n        return baseEntities[chr] || chr;\n      });\n    };\n    var encodeNumeric = function (text, attr) {\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n        if (chr.length > 1) {\n          return '&#' + ((chr.charCodeAt(0) - 55296) * 1024 + (chr.charCodeAt(1) - 56320) + 65536) + ';';\n        }\n        return baseEntities[chr] || '&#' + chr.charCodeAt(0) + ';';\n      });\n    };\n    var encodeNamed = function (text, attr, entities) {\n      entities = entities || namedEntities;\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n        return baseEntities[chr] || entities[chr] || chr;\n      });\n    };\n    var getEncodeFunc = function (name, entities) {\n      var entitiesMap = buildEntitiesLookup(entities) || namedEntities;\n      var encodeNamedAndNumeric = function (text, attr) {\n        return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n          if (baseEntities[chr] !== undefined) {\n            return baseEntities[chr];\n          }\n          if (entitiesMap[chr] !== undefined) {\n            return entitiesMap[chr];\n          }\n          if (chr.length > 1) {\n            return '&#' + ((chr.charCodeAt(0) - 55296) * 1024 + (chr.charCodeAt(1) - 56320) + 65536) + ';';\n          }\n          return '&#' + chr.charCodeAt(0) + ';';\n        });\n      };\n      var encodeCustomNamed = function (text, attr) {\n        return encodeNamed(text, attr, entitiesMap);\n      };\n      var nameMap = makeMap$3(name.replace(/\\+/g, ','));\n      if (nameMap.named && nameMap.numeric) {\n        return encodeNamedAndNumeric;\n      }\n      if (nameMap.named) {\n        if (entities) {\n          return encodeCustomNamed;\n        }\n        return encodeNamed;\n      }\n      if (nameMap.numeric) {\n        return encodeNumeric;\n      }\n      return encodeRaw;\n    };\n    var decode = function (text) {\n      return text.replace(entityRegExp, function (all, numeric) {\n        if (numeric) {\n          if (numeric.charAt(0).toLowerCase() === 'x') {\n            numeric = parseInt(numeric.substr(1), 16);\n          } else {\n            numeric = parseInt(numeric, 10);\n          }\n          if (numeric > 65535) {\n            numeric -= 65536;\n            return String.fromCharCode(55296 + (numeric >> 10), 56320 + (numeric & 1023));\n          }\n          return asciiMap[numeric] || String.fromCharCode(numeric);\n        }\n        return reverseEntities[all] || namedEntities[all] || nativeDecode(all);\n      });\n    };\n    var Entities = {\n      encodeRaw: encodeRaw,\n      encodeAllRaw: encodeAllRaw,\n      encodeNumeric: encodeNumeric,\n      encodeNamed: encodeNamed,\n      getEncodeFunc: getEncodeFunc,\n      decode: decode\n    };\n\n    var mapCache = {}, dummyObj = {};\n    var makeMap$2 = Tools.makeMap, each$h = Tools.each, extend$5 = Tools.extend, explode$3 = Tools.explode, inArray$2 = Tools.inArray;\n    var split$1 = function (items, delim) {\n      items = Tools.trim(items);\n      return items ? items.split(delim || ' ') : [];\n    };\n    var compileSchema = function (type) {\n      var schema = {};\n      var globalAttributes, blockContent;\n      var phrasingContent, flowContent, html4BlockContent, html4PhrasingContent;\n      var add = function (name, attributes, children) {\n        var ni, attributesOrder, element;\n        var arrayToMap = function (array, obj) {\n          var map = {};\n          var i, l;\n          for (i = 0, l = array.length; i < l; i++) {\n            map[array[i]] = obj || {};\n          }\n          return map;\n        };\n        children = children || [];\n        attributes = attributes || '';\n        if (typeof children === 'string') {\n          children = split$1(children);\n        }\n        var names = split$1(name);\n        ni = names.length;\n        while (ni--) {\n          attributesOrder = split$1([\n            globalAttributes,\n            attributes\n          ].join(' '));\n          element = {\n            attributes: arrayToMap(attributesOrder),\n            attributesOrder: attributesOrder,\n            children: arrayToMap(children, dummyObj)\n          };\n          schema[names[ni]] = element;\n        }\n      };\n      var addAttrs = function (name, attributes) {\n        var ni, schemaItem, i, l;\n        var names = split$1(name);\n        ni = names.length;\n        var attrs = split$1(attributes);\n        while (ni--) {\n          schemaItem = schema[names[ni]];\n          for (i = 0, l = attrs.length; i < l; i++) {\n            schemaItem.attributes[attrs[i]] = {};\n            schemaItem.attributesOrder.push(attrs[i]);\n          }\n        }\n      };\n      if (mapCache[type]) {\n        return mapCache[type];\n      }\n      globalAttributes = 'id accesskey class dir lang style tabindex title role';\n      blockContent = 'address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul';\n      phrasingContent = 'a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd ' + 'label map noscript object q s samp script select small span strong sub sup ' + 'textarea u var #text #comment';\n      if (type !== 'html4') {\n        globalAttributes += ' contenteditable contextmenu draggable dropzone ' + 'hidden spellcheck translate';\n        blockContent += ' article aside details dialog figure main header footer hgroup section nav';\n        phrasingContent += ' audio canvas command datalist mark meter output picture ' + 'progress time wbr video ruby bdi keygen';\n      }\n      if (type !== 'html5-strict') {\n        globalAttributes += ' xml:lang';\n        html4PhrasingContent = 'acronym applet basefont big font strike tt';\n        phrasingContent = [\n          phrasingContent,\n          html4PhrasingContent\n        ].join(' ');\n        each$h(split$1(html4PhrasingContent), function (name) {\n          add(name, '', phrasingContent);\n        });\n        html4BlockContent = 'center dir isindex noframes';\n        blockContent = [\n          blockContent,\n          html4BlockContent\n        ].join(' ');\n        flowContent = [\n          blockContent,\n          phrasingContent\n        ].join(' ');\n        each$h(split$1(html4BlockContent), function (name) {\n          add(name, '', flowContent);\n        });\n      }\n      flowContent = flowContent || [\n        blockContent,\n        phrasingContent\n      ].join(' ');\n      add('html', 'manifest', 'head body');\n      add('head', '', 'base command link meta noscript script style title');\n      add('title hr noscript br');\n      add('base', 'href target');\n      add('link', 'href rel media hreflang type sizes hreflang');\n      add('meta', 'name http-equiv content charset');\n      add('style', 'media type scoped');\n      add('script', 'src async defer type charset');\n      add('body', 'onafterprint onbeforeprint onbeforeunload onblur onerror onfocus ' + 'onhashchange onload onmessage onoffline ononline onpagehide onpageshow ' + 'onpopstate onresize onscroll onstorage onunload', flowContent);\n      add('address dt dd div caption', '', flowContent);\n      add('h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn', '', phrasingContent);\n      add('blockquote', 'cite', flowContent);\n      add('ol', 'reversed start type', 'li');\n      add('ul', '', 'li');\n      add('li', 'value', flowContent);\n      add('dl', '', 'dt dd');\n      add('a', 'href target rel media hreflang type', phrasingContent);\n      add('q', 'cite', phrasingContent);\n      add('ins del', 'cite datetime', flowContent);\n      add('img', 'src sizes srcset alt usemap ismap width height');\n      add('iframe', 'src name width height', flowContent);\n      add('embed', 'src type width height');\n      add('object', 'data type typemustmatch name usemap form width height', [\n        flowContent,\n        'param'\n      ].join(' '));\n      add('param', 'name value');\n      add('map', 'name', [\n        flowContent,\n        'area'\n      ].join(' '));\n      add('area', 'alt coords shape href target rel media hreflang type');\n      add('table', 'border', 'caption colgroup thead tfoot tbody tr' + (type === 'html4' ? ' col' : ''));\n      add('colgroup', 'span', 'col');\n      add('col', 'span');\n      add('tbody thead tfoot', '', 'tr');\n      add('tr', '', 'td th');\n      add('td', 'colspan rowspan headers', flowContent);\n      add('th', 'colspan rowspan headers scope abbr', flowContent);\n      add('form', 'accept-charset action autocomplete enctype method name novalidate target', flowContent);\n      add('fieldset', 'disabled form name', [\n        flowContent,\n        'legend'\n      ].join(' '));\n      add('label', 'form for', phrasingContent);\n      add('input', 'accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate ' + 'formtarget height list max maxlength min multiple name pattern readonly required size src step type value width');\n      add('button', 'disabled form formaction formenctype formmethod formnovalidate formtarget name type value', type === 'html4' ? flowContent : phrasingContent);\n      add('select', 'disabled form multiple name required size', 'option optgroup');\n      add('optgroup', 'disabled label', 'option');\n      add('option', 'disabled label selected value');\n      add('textarea', 'cols dirname disabled form maxlength name readonly required rows wrap');\n      add('menu', 'type label', [\n        flowContent,\n        'li'\n      ].join(' '));\n      add('noscript', '', flowContent);\n      if (type !== 'html4') {\n        add('wbr');\n        add('ruby', '', [\n          phrasingContent,\n          'rt rp'\n        ].join(' '));\n        add('figcaption', '', flowContent);\n        add('mark rt rp summary bdi', '', phrasingContent);\n        add('canvas', 'width height', flowContent);\n        add('video', 'src crossorigin poster preload autoplay mediagroup loop ' + 'muted controls width height buffered', [\n          flowContent,\n          'track source'\n        ].join(' '));\n        add('audio', 'src crossorigin preload autoplay mediagroup loop muted controls ' + 'buffered volume', [\n          flowContent,\n          'track source'\n        ].join(' '));\n        add('picture', '', 'img source');\n        add('source', 'src srcset type media sizes');\n        add('track', 'kind src srclang label default');\n        add('datalist', '', [\n          phrasingContent,\n          'option'\n        ].join(' '));\n        add('article section nav aside main header footer', '', flowContent);\n        add('hgroup', '', 'h1 h2 h3 h4 h5 h6');\n        add('figure', '', [\n          flowContent,\n          'figcaption'\n        ].join(' '));\n        add('time', 'datetime', phrasingContent);\n        add('dialog', 'open', flowContent);\n        add('command', 'type label icon disabled checked radiogroup command');\n        add('output', 'for form name', phrasingContent);\n        add('progress', 'value max', phrasingContent);\n        add('meter', 'value min max low high optimum', phrasingContent);\n        add('details', 'open', [\n          flowContent,\n          'summary'\n        ].join(' '));\n        add('keygen', 'autofocus challenge disabled form keytype name');\n      }\n      if (type !== 'html5-strict') {\n        addAttrs('script', 'language xml:space');\n        addAttrs('style', 'xml:space');\n        addAttrs('object', 'declare classid code codebase codetype archive standby align border hspace vspace');\n        addAttrs('embed', 'align name hspace vspace');\n        addAttrs('param', 'valuetype type');\n        addAttrs('a', 'charset name rev shape coords');\n        addAttrs('br', 'clear');\n        addAttrs('applet', 'codebase archive code object alt name width height align hspace vspace');\n        addAttrs('img', 'name longdesc align border hspace vspace');\n        addAttrs('iframe', 'longdesc frameborder marginwidth marginheight scrolling align');\n        addAttrs('font basefont', 'size color face');\n        addAttrs('input', 'usemap align');\n        addAttrs('select');\n        addAttrs('textarea');\n        addAttrs('h1 h2 h3 h4 h5 h6 div p legend caption', 'align');\n        addAttrs('ul', 'type compact');\n        addAttrs('li', 'type');\n        addAttrs('ol dl menu dir', 'compact');\n        addAttrs('pre', 'width xml:space');\n        addAttrs('hr', 'align noshade size width');\n        addAttrs('isindex', 'prompt');\n        addAttrs('table', 'summary width frame rules cellspacing cellpadding align bgcolor');\n        addAttrs('col', 'width align char charoff valign');\n        addAttrs('colgroup', 'width align char charoff valign');\n        addAttrs('thead', 'align char charoff valign');\n        addAttrs('tr', 'align char charoff valign bgcolor');\n        addAttrs('th', 'axis align char charoff valign nowrap bgcolor width height');\n        addAttrs('form', 'accept');\n        addAttrs('td', 'abbr axis scope align char charoff valign nowrap bgcolor width height');\n        addAttrs('tfoot', 'align char charoff valign');\n        addAttrs('tbody', 'align char charoff valign');\n        addAttrs('area', 'nohref');\n        addAttrs('body', 'background bgcolor text link vlink alink');\n      }\n      if (type !== 'html4') {\n        addAttrs('input button select textarea', 'autofocus');\n        addAttrs('input textarea', 'placeholder');\n        addAttrs('a', 'download');\n        addAttrs('link script img', 'crossorigin');\n        addAttrs('img', 'loading');\n        addAttrs('iframe', 'sandbox seamless allowfullscreen loading');\n      }\n      each$h(split$1('a form meter progress dfn'), function (name) {\n        if (schema[name]) {\n          delete schema[name].children[name];\n        }\n      });\n      delete schema.caption.children.table;\n      delete schema.script;\n      mapCache[type] = schema;\n      return schema;\n    };\n    var compileElementMap = function (value, mode) {\n      var styles;\n      if (value) {\n        styles = {};\n        if (typeof value === 'string') {\n          value = { '*': value };\n        }\n        each$h(value, function (value, key) {\n          styles[key] = styles[key.toUpperCase()] = mode === 'map' ? makeMap$2(value, /[, ]/) : explode$3(value, /[, ]/);\n        });\n      }\n      return styles;\n    };\n    var Schema = function (settings) {\n      var elements = {};\n      var children = {};\n      var patternElements = [];\n      var customElementsMap = {}, specialElements = {};\n      var createLookupTable = function (option, defaultValue, extendWith) {\n        var value = settings[option];\n        if (!value) {\n          value = mapCache[option];\n          if (!value) {\n            value = makeMap$2(defaultValue, ' ', makeMap$2(defaultValue.toUpperCase(), ' '));\n            value = extend$5(value, extendWith);\n            mapCache[option] = value;\n          }\n        } else {\n          value = makeMap$2(value, /[, ]/, makeMap$2(value.toUpperCase(), /[, ]/));\n        }\n        return value;\n      };\n      settings = settings || {};\n      var schemaItems = compileSchema(settings.schema);\n      if (settings.verify_html === false) {\n        settings.valid_elements = '*[*]';\n      }\n      var validStyles = compileElementMap(settings.valid_styles);\n      var invalidStyles = compileElementMap(settings.invalid_styles, 'map');\n      var validClasses = compileElementMap(settings.valid_classes, 'map');\n      var whiteSpaceElementsMap = createLookupTable('whitespace_elements', 'pre script noscript style textarea video audio iframe object code');\n      var selfClosingElementsMap = createLookupTable('self_closing_elements', 'colgroup dd dt li option p td tfoot th thead tr');\n      var shortEndedElementsMap = createLookupTable('short_ended_elements', 'area base basefont br col frame hr img input isindex link ' + 'meta param embed source wbr track');\n      var boolAttrMap = createLookupTable('boolean_attributes', 'checked compact declare defer disabled ismap multiple nohref noresize ' + 'noshade nowrap readonly selected autoplay loop controls');\n      var nonEmptyOrMoveCaretBeforeOnEnter = 'td th iframe video audio object script code';\n      var nonEmptyElementsMap = createLookupTable('non_empty_elements', nonEmptyOrMoveCaretBeforeOnEnter + ' pre', shortEndedElementsMap);\n      var moveCaretBeforeOnEnterElementsMap = createLookupTable('move_caret_before_on_enter_elements', nonEmptyOrMoveCaretBeforeOnEnter + ' table', shortEndedElementsMap);\n      var textBlockElementsMap = createLookupTable('text_block_elements', 'h1 h2 h3 h4 h5 h6 p div address pre form ' + 'blockquote center dir fieldset header footer article section hgroup aside main nav figure');\n      var blockElementsMap = createLookupTable('block_elements', 'hr table tbody thead tfoot ' + 'th tr td li ol ul caption dl dt dd noscript menu isindex option ' + 'datalist select optgroup figcaption details summary', textBlockElementsMap);\n      var textInlineElementsMap = createLookupTable('text_inline_elements', 'span strong b em i font strike u var cite ' + 'dfn code mark q sup sub samp');\n      each$h((settings.special || 'script noscript iframe noframes noembed title style textarea xmp').split(' '), function (name) {\n        specialElements[name] = new RegExp('</' + name + '[^>]*>', 'gi');\n      });\n      var patternToRegExp = function (str) {\n        return new RegExp('^' + str.replace(/([?+*])/g, '.$1') + '$');\n      };\n      var addValidElements = function (validElements) {\n        var ei, el, ai, al, matches, element, attr, attrData, elementName, attrName, attrType, attributes, attributesOrder, prefix, outputName, globalAttributes, globalAttributesOrder, value;\n        var elementRuleRegExp = /^([#+\\-])?([^\\[!\\/]+)(?:\\/([^\\[!]+))?(?:(!?)\\[([^\\]]+)])?$/, attrRuleRegExp = /^([!\\-])?(\\w+[\\\\:]:\\w+|[^=:<]+)?(?:([=:<])(.*))?$/, hasPatternsRegExp = /[*?+]/;\n        if (validElements) {\n          var validElementsArr = split$1(validElements, ',');\n          if (elements['@']) {\n            globalAttributes = elements['@'].attributes;\n            globalAttributesOrder = elements['@'].attributesOrder;\n          }\n          for (ei = 0, el = validElementsArr.length; ei < el; ei++) {\n            matches = elementRuleRegExp.exec(validElementsArr[ei]);\n            if (matches) {\n              prefix = matches[1];\n              elementName = matches[2];\n              outputName = matches[3];\n              attrData = matches[5];\n              attributes = {};\n              attributesOrder = [];\n              element = {\n                attributes: attributes,\n                attributesOrder: attributesOrder\n              };\n              if (prefix === '#') {\n                element.paddEmpty = true;\n              }\n              if (prefix === '-') {\n                element.removeEmpty = true;\n              }\n              if (matches[4] === '!') {\n                element.removeEmptyAttrs = true;\n              }\n              if (globalAttributes) {\n                each$j(globalAttributes, function (value, key) {\n                  attributes[key] = value;\n                });\n                attributesOrder.push.apply(attributesOrder, globalAttributesOrder);\n              }\n              if (attrData) {\n                attrData = split$1(attrData, '|');\n                for (ai = 0, al = attrData.length; ai < al; ai++) {\n                  matches = attrRuleRegExp.exec(attrData[ai]);\n                  if (matches) {\n                    attr = {};\n                    attrType = matches[1];\n                    attrName = matches[2].replace(/[\\\\:]:/g, ':');\n                    prefix = matches[3];\n                    value = matches[4];\n                    if (attrType === '!') {\n                      element.attributesRequired = element.attributesRequired || [];\n                      element.attributesRequired.push(attrName);\n                      attr.required = true;\n                    }\n                    if (attrType === '-') {\n                      delete attributes[attrName];\n                      attributesOrder.splice(inArray$2(attributesOrder, attrName), 1);\n                      continue;\n                    }\n                    if (prefix) {\n                      if (prefix === '=') {\n                        element.attributesDefault = element.attributesDefault || [];\n                        element.attributesDefault.push({\n                          name: attrName,\n                          value: value\n                        });\n                        attr.defaultValue = value;\n                      }\n                      if (prefix === ':') {\n                        element.attributesForced = element.attributesForced || [];\n                        element.attributesForced.push({\n                          name: attrName,\n                          value: value\n                        });\n                        attr.forcedValue = value;\n                      }\n                      if (prefix === '<') {\n                        attr.validValues = makeMap$2(value, '?');\n                      }\n                    }\n                    if (hasPatternsRegExp.test(attrName)) {\n                      element.attributePatterns = element.attributePatterns || [];\n                      attr.pattern = patternToRegExp(attrName);\n                      element.attributePatterns.push(attr);\n                    } else {\n                      if (!attributes[attrName]) {\n                        attributesOrder.push(attrName);\n                      }\n                      attributes[attrName] = attr;\n                    }\n                  }\n                }\n              }\n              if (!globalAttributes && elementName === '@') {\n                globalAttributes = attributes;\n                globalAttributesOrder = attributesOrder;\n              }\n              if (outputName) {\n                element.outputName = elementName;\n                elements[outputName] = element;\n              }\n              if (hasPatternsRegExp.test(elementName)) {\n                element.pattern = patternToRegExp(elementName);\n                patternElements.push(element);\n              } else {\n                elements[elementName] = element;\n              }\n            }\n          }\n        }\n      };\n      var setValidElements = function (validElements) {\n        elements = {};\n        patternElements = [];\n        addValidElements(validElements);\n        each$h(schemaItems, function (element, name) {\n          children[name] = element.children;\n        });\n      };\n      var addCustomElements = function (customElements) {\n        var customElementRegExp = /^(~)?(.+)$/;\n        if (customElements) {\n          mapCache.text_block_elements = mapCache.block_elements = null;\n          each$h(split$1(customElements, ','), function (rule) {\n            var matches = customElementRegExp.exec(rule), inline = matches[1] === '~', cloneName = inline ? 'span' : 'div', name = matches[2];\n            children[name] = children[cloneName];\n            customElementsMap[name] = cloneName;\n            if (!inline) {\n              blockElementsMap[name.toUpperCase()] = {};\n              blockElementsMap[name] = {};\n            }\n            if (!elements[name]) {\n              var customRule = elements[cloneName];\n              customRule = extend$5({}, customRule);\n              delete customRule.removeEmptyAttrs;\n              delete customRule.removeEmpty;\n              elements[name] = customRule;\n            }\n            each$h(children, function (element, elmName) {\n              if (element[cloneName]) {\n                children[elmName] = element = extend$5({}, children[elmName]);\n                element[name] = element[cloneName];\n              }\n            });\n          });\n        }\n      };\n      var addValidChildren = function (validChildren) {\n        var childRuleRegExp = /^([+\\-]?)([A-Za-z0-9_\\-.\\u00b7\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u037d\\u037f-\\u1fff\\u200c-\\u200d\\u203f-\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]+)\\[([^\\]]+)]$/;\n        mapCache[settings.schema] = null;\n        if (validChildren) {\n          each$h(split$1(validChildren, ','), function (rule) {\n            var matches = childRuleRegExp.exec(rule);\n            var parent, prefix;\n            if (matches) {\n              prefix = matches[1];\n              if (prefix) {\n                parent = children[matches[2]];\n              } else {\n                parent = children[matches[2]] = { '#comment': {} };\n              }\n              parent = children[matches[2]];\n              each$h(split$1(matches[3], '|'), function (child) {\n                if (prefix === '-') {\n                  delete parent[child];\n                } else {\n                  parent[child] = {};\n                }\n              });\n            }\n          });\n        }\n      };\n      var getElementRule = function (name) {\n        var element = elements[name], i;\n        if (element) {\n          return element;\n        }\n        i = patternElements.length;\n        while (i--) {\n          element = patternElements[i];\n          if (element.pattern.test(name)) {\n            return element;\n          }\n        }\n      };\n      if (!settings.valid_elements) {\n        each$h(schemaItems, function (element, name) {\n          elements[name] = {\n            attributes: element.attributes,\n            attributesOrder: element.attributesOrder\n          };\n          children[name] = element.children;\n        });\n        if (settings.schema !== 'html5') {\n          each$h(split$1('strong/b em/i'), function (item) {\n            var items = split$1(item, '/');\n            elements[items[1]].outputName = items[0];\n          });\n        }\n        each$h(split$1('ol ul sub sup blockquote span font a table tbody strong em b i'), function (name) {\n          if (elements[name]) {\n            elements[name].removeEmpty = true;\n          }\n        });\n        each$h(split$1('p h1 h2 h3 h4 h5 h6 th td pre div address caption li'), function (name) {\n          elements[name].paddEmpty = true;\n        });\n        each$h(split$1('span'), function (name) {\n          elements[name].removeEmptyAttrs = true;\n        });\n      } else {\n        setValidElements(settings.valid_elements);\n      }\n      addCustomElements(settings.custom_elements);\n      addValidChildren(settings.valid_children);\n      addValidElements(settings.extended_valid_elements);\n      addValidChildren('+ol[ul|ol],+ul[ul|ol]');\n      each$h({\n        dd: 'dl',\n        dt: 'dl',\n        li: 'ul ol',\n        td: 'tr',\n        th: 'tr',\n        tr: 'tbody thead tfoot',\n        tbody: 'table',\n        thead: 'table',\n        tfoot: 'table',\n        legend: 'fieldset',\n        area: 'map',\n        param: 'video audio object'\n      }, function (parents, item) {\n        if (elements[item]) {\n          elements[item].parentsRequired = split$1(parents);\n        }\n      });\n      if (settings.invalid_elements) {\n        each$h(explode$3(settings.invalid_elements), function (item) {\n          if (elements[item]) {\n            delete elements[item];\n          }\n        });\n      }\n      if (!getElementRule('span')) {\n        addValidElements('span[!data-mce-type|*]');\n      }\n      var getValidStyles = constant(validStyles);\n      var getInvalidStyles = constant(invalidStyles);\n      var getValidClasses = constant(validClasses);\n      var getBoolAttrs = constant(boolAttrMap);\n      var getBlockElements = constant(blockElementsMap);\n      var getTextBlockElements = constant(textBlockElementsMap);\n      var getTextInlineElements = constant(textInlineElementsMap);\n      var getShortEndedElements = constant(shortEndedElementsMap);\n      var getSelfClosingElements = constant(selfClosingElementsMap);\n      var getNonEmptyElements = constant(nonEmptyElementsMap);\n      var getMoveCaretBeforeOnEnterElements = constant(moveCaretBeforeOnEnterElementsMap);\n      var getWhiteSpaceElements = constant(whiteSpaceElementsMap);\n      var getSpecialElements = constant(specialElements);\n      var isValidChild = function (name, child) {\n        var parent = children[name.toLowerCase()];\n        return !!(parent && parent[child.toLowerCase()]);\n      };\n      var isValid = function (name, attr) {\n        var attrPatterns, i;\n        var rule = getElementRule(name);\n        if (rule) {\n          if (attr) {\n            if (rule.attributes[attr]) {\n              return true;\n            }\n            attrPatterns = rule.attributePatterns;\n            if (attrPatterns) {\n              i = attrPatterns.length;\n              while (i--) {\n                if (attrPatterns[i].pattern.test(name)) {\n                  return true;\n                }\n              }\n            }\n          } else {\n            return true;\n          }\n        }\n        return false;\n      };\n      var getCustomElements = constant(customElementsMap);\n      return {\n        children: children,\n        elements: elements,\n        getValidStyles: getValidStyles,\n        getValidClasses: getValidClasses,\n        getBlockElements: getBlockElements,\n        getInvalidStyles: getInvalidStyles,\n        getShortEndedElements: getShortEndedElements,\n        getTextBlockElements: getTextBlockElements,\n        getTextInlineElements: getTextInlineElements,\n        getBoolAttrs: getBoolAttrs,\n        getElementRule: getElementRule,\n        getSelfClosingElements: getSelfClosingElements,\n        getNonEmptyElements: getNonEmptyElements,\n        getMoveCaretBeforeOnEnterElements: getMoveCaretBeforeOnEnterElements,\n        getWhiteSpaceElements: getWhiteSpaceElements,\n        getSpecialElements: getSpecialElements,\n        isValidChild: isValidChild,\n        isValid: isValid,\n        getCustomElements: getCustomElements,\n        addValidElements: addValidElements,\n        setValidElements: setValidElements,\n        addCustomElements: addCustomElements,\n        addValidChildren: addValidChildren\n      };\n    };\n\n    var toHex = function (match, r, g, b) {\n      var hex = function (val) {\n        val = parseInt(val, 10).toString(16);\n        return val.length > 1 ? val : '0' + val;\n      };\n      return '#' + hex(r) + hex(g) + hex(b);\n    };\n    var Styles = function (settings, schema) {\n      var _this = this;\n      var rgbRegExp = /rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/gi;\n      var urlOrStrRegExp = /(?:url(?:(?:\\(\\s*\\\"([^\\\"]+)\\\"\\s*\\))|(?:\\(\\s*\\'([^\\']+)\\'\\s*\\))|(?:\\(\\s*([^)\\s]+)\\s*\\))))|(?:\\'([^\\']+)\\')|(?:\\\"([^\\\"]+)\\\")/gi;\n      var styleRegExp = /\\s*([^:]+):\\s*([^;]+);?/g;\n      var trimRightRegExp = /\\s+$/;\n      var i;\n      var encodingLookup = {};\n      var validStyles;\n      var invalidStyles;\n      var invisibleChar = zeroWidth;\n      settings = settings || {};\n      if (schema) {\n        validStyles = schema.getValidStyles();\n        invalidStyles = schema.getInvalidStyles();\n      }\n      var encodingItems = ('\\\\\" \\\\\\' \\\\; \\\\: ; : ' + invisibleChar).split(' ');\n      for (i = 0; i < encodingItems.length; i++) {\n        encodingLookup[encodingItems[i]] = invisibleChar + i;\n        encodingLookup[invisibleChar + i] = encodingItems[i];\n      }\n      return {\n        toHex: function (color) {\n          return color.replace(rgbRegExp, toHex);\n        },\n        parse: function (css) {\n          var styles = {};\n          var matches, name, value, isEncoded;\n          var urlConverter = settings.url_converter;\n          var urlConverterScope = settings.url_converter_scope || _this;\n          var compress = function (prefix, suffix, noJoin) {\n            var top = styles[prefix + '-top' + suffix];\n            if (!top) {\n              return;\n            }\n            var right = styles[prefix + '-right' + suffix];\n            if (!right) {\n              return;\n            }\n            var bottom = styles[prefix + '-bottom' + suffix];\n            if (!bottom) {\n              return;\n            }\n            var left = styles[prefix + '-left' + suffix];\n            if (!left) {\n              return;\n            }\n            var box = [\n              top,\n              right,\n              bottom,\n              left\n            ];\n            i = box.length - 1;\n            while (i--) {\n              if (box[i] !== box[i + 1]) {\n                break;\n              }\n            }\n            if (i > -1 && noJoin) {\n              return;\n            }\n            styles[prefix + suffix] = i === -1 ? box[0] : box.join(' ');\n            delete styles[prefix + '-top' + suffix];\n            delete styles[prefix + '-right' + suffix];\n            delete styles[prefix + '-bottom' + suffix];\n            delete styles[prefix + '-left' + suffix];\n          };\n          var canCompress = function (key) {\n            var value = styles[key], i;\n            if (!value) {\n              return;\n            }\n            value = value.split(' ');\n            i = value.length;\n            while (i--) {\n              if (value[i] !== value[0]) {\n                return false;\n              }\n            }\n            styles[key] = value[0];\n            return true;\n          };\n          var compress2 = function (target, a, b, c) {\n            if (!canCompress(a)) {\n              return;\n            }\n            if (!canCompress(b)) {\n              return;\n            }\n            if (!canCompress(c)) {\n              return;\n            }\n            styles[target] = styles[a] + ' ' + styles[b] + ' ' + styles[c];\n            delete styles[a];\n            delete styles[b];\n            delete styles[c];\n          };\n          var encode = function (str) {\n            isEncoded = true;\n            return encodingLookup[str];\n          };\n          var decode = function (str, keepSlashes) {\n            if (isEncoded) {\n              str = str.replace(/\\uFEFF[0-9]/g, function (str) {\n                return encodingLookup[str];\n              });\n            }\n            if (!keepSlashes) {\n              str = str.replace(/\\\\([\\'\\\";:])/g, '$1');\n            }\n            return str;\n          };\n          var decodeSingleHexSequence = function (escSeq) {\n            return String.fromCharCode(parseInt(escSeq.slice(1), 16));\n          };\n          var decodeHexSequences = function (value) {\n            return value.replace(/\\\\[0-9a-f]+/gi, decodeSingleHexSequence);\n          };\n          var processUrl = function (match, url, url2, url3, str, str2) {\n            str = str || str2;\n            if (str) {\n              str = decode(str);\n              return '\\'' + str.replace(/\\'/g, '\\\\\\'') + '\\'';\n            }\n            url = decode(url || url2 || url3);\n            if (!settings.allow_script_urls) {\n              var scriptUrl = url.replace(/[\\s\\r\\n]+/g, '');\n              if (/(java|vb)script:/i.test(scriptUrl)) {\n                return '';\n              }\n              if (!settings.allow_svg_data_urls && /^data:image\\/svg/i.test(scriptUrl)) {\n                return '';\n              }\n            }\n            if (urlConverter) {\n              url = urlConverter.call(urlConverterScope, url, 'style');\n            }\n            return 'url(\\'' + url.replace(/\\'/g, '\\\\\\'') + '\\')';\n          };\n          if (css) {\n            css = css.replace(/[\\u0000-\\u001F]/g, '');\n            css = css.replace(/\\\\[\\\"\\';:\\uFEFF]/g, encode).replace(/\\\"[^\\\"]+\\\"|\\'[^\\']+\\'/g, function (str) {\n              return str.replace(/[;:]/g, encode);\n            });\n            while (matches = styleRegExp.exec(css)) {\n              styleRegExp.lastIndex = matches.index + matches[0].length;\n              name = matches[1].replace(trimRightRegExp, '').toLowerCase();\n              value = matches[2].replace(trimRightRegExp, '');\n              if (name && value) {\n                name = decodeHexSequences(name);\n                value = decodeHexSequences(value);\n                if (name.indexOf(invisibleChar) !== -1 || name.indexOf('\"') !== -1) {\n                  continue;\n                }\n                if (!settings.allow_script_urls && (name === 'behavior' || /expression\\s*\\(|\\/\\*|\\*\\//.test(value))) {\n                  continue;\n                }\n                if (name === 'font-weight' && value === '700') {\n                  value = 'bold';\n                } else if (name === 'color' || name === 'background-color') {\n                  value = value.toLowerCase();\n                }\n                value = value.replace(rgbRegExp, toHex);\n                value = value.replace(urlOrStrRegExp, processUrl);\n                styles[name] = isEncoded ? decode(value, true) : value;\n              }\n            }\n            compress('border', '', true);\n            compress('border', '-width');\n            compress('border', '-color');\n            compress('border', '-style');\n            compress('padding', '');\n            compress('margin', '');\n            compress2('border', 'border-width', 'border-style', 'border-color');\n            if (styles.border === 'medium none') {\n              delete styles.border;\n            }\n            if (styles['border-image'] === 'none') {\n              delete styles['border-image'];\n            }\n          }\n          return styles;\n        },\n        serialize: function (styles, elementName) {\n          var css = '';\n          var serializeStyles = function (name) {\n            var value;\n            var styleList = validStyles[name];\n            if (styleList) {\n              for (var i_1 = 0, l = styleList.length; i_1 < l; i_1++) {\n                name = styleList[i_1];\n                value = styles[name];\n                if (value) {\n                  css += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\n                }\n              }\n            }\n          };\n          var isValid = function (name, elementName) {\n            var styleMap = invalidStyles['*'];\n            if (styleMap && styleMap[name]) {\n              return false;\n            }\n            styleMap = invalidStyles[elementName];\n            return !(styleMap && styleMap[name]);\n          };\n          if (elementName && validStyles) {\n            serializeStyles('*');\n            serializeStyles(elementName);\n          } else {\n            each$j(styles, function (value, name) {\n              if (value && (!invalidStyles || isValid(name, elementName))) {\n                css += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\n              }\n            });\n          }\n          return css;\n        }\n      };\n    };\n\n    var deprecated = {\n      keyLocation: true,\n      layerX: true,\n      layerY: true,\n      returnValue: true,\n      webkitMovementX: true,\n      webkitMovementY: true,\n      keyIdentifier: true,\n      mozPressure: true\n    };\n    var isNativeEvent = function (event) {\n      return event instanceof Event || isFunction(event.initEvent);\n    };\n    var hasIsDefaultPrevented = function (event) {\n      return event.isDefaultPrevented === always || event.isDefaultPrevented === never;\n    };\n    var needsNormalizing = function (event) {\n      return isNullable(event.preventDefault) || isNativeEvent(event);\n    };\n    var clone$2 = function (originalEvent, data) {\n      var event = data !== null && data !== void 0 ? data : {};\n      for (var name_1 in originalEvent) {\n        if (!has$2(deprecated, name_1)) {\n          event[name_1] = originalEvent[name_1];\n        }\n      }\n      if (isNonNullable(event.composedPath)) {\n        event.composedPath = function () {\n          return originalEvent.composedPath();\n        };\n      }\n      return event;\n    };\n    var normalize$3 = function (type, originalEvent, fallbackTarget, data) {\n      var _a;\n      var event = clone$2(originalEvent, data);\n      event.type = type;\n      if (isNullable(event.target)) {\n        event.target = (_a = event.srcElement) !== null && _a !== void 0 ? _a : fallbackTarget;\n      }\n      if (needsNormalizing(originalEvent)) {\n        event.preventDefault = function () {\n          event.defaultPrevented = true;\n          event.isDefaultPrevented = always;\n          if (isFunction(originalEvent.preventDefault)) {\n            originalEvent.preventDefault();\n          } else if (isNativeEvent(originalEvent)) {\n            originalEvent.returnValue = false;\n          }\n        };\n        event.stopPropagation = function () {\n          event.cancelBubble = true;\n          event.isPropagationStopped = always;\n          if (isFunction(originalEvent.stopPropagation)) {\n            originalEvent.stopPropagation();\n          } else if (isNativeEvent(originalEvent)) {\n            originalEvent.cancelBubble = true;\n          }\n        };\n        event.stopImmediatePropagation = function () {\n          event.isImmediatePropagationStopped = always;\n          event.stopPropagation();\n        };\n        if (!hasIsDefaultPrevented(event)) {\n          event.isDefaultPrevented = event.defaultPrevented === true ? always : never;\n          event.isPropagationStopped = event.cancelBubble === true ? always : never;\n          event.isImmediatePropagationStopped = never;\n        }\n      }\n      return event;\n    };\n\n    var eventExpandoPrefix = 'mce-data-';\n    var mouseEventRe = /^(?:mouse|contextmenu)|click/;\n    var addEvent = function (target, name, callback, capture) {\n      if (target.addEventListener) {\n        target.addEventListener(name, callback, capture || false);\n      } else if (target.attachEvent) {\n        target.attachEvent('on' + name, callback);\n      }\n    };\n    var removeEvent = function (target, name, callback, capture) {\n      if (target.removeEventListener) {\n        target.removeEventListener(name, callback, capture || false);\n      } else if (target.detachEvent) {\n        target.detachEvent('on' + name, callback);\n      }\n    };\n    var isMouseEvent = function (event) {\n      return isNonNullable(event) && mouseEventRe.test(event.type);\n    };\n    var fix = function (originalEvent, data) {\n      var event = normalize$3(originalEvent.type, originalEvent, document, data);\n      if (isMouseEvent(originalEvent) && isUndefined(originalEvent.pageX) && !isUndefined(originalEvent.clientX)) {\n        var eventDoc = event.target.ownerDocument || document;\n        var doc = eventDoc.documentElement;\n        var body = eventDoc.body;\n        var mouseEvent = event;\n        mouseEvent.pageX = originalEvent.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n        mouseEvent.pageY = originalEvent.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n      }\n      if (isUndefined(event.metaKey)) {\n        event.metaKey = false;\n      }\n      return event;\n    };\n    var bindOnReady = function (win, callback, eventUtils) {\n      var doc = win.document, event = { type: 'ready' };\n      if (eventUtils.domLoaded) {\n        callback(event);\n        return;\n      }\n      var isDocReady = function () {\n        return doc.readyState === 'complete' || doc.readyState === 'interactive' && doc.body;\n      };\n      var readyHandler = function () {\n        removeEvent(win, 'DOMContentLoaded', readyHandler);\n        removeEvent(win, 'load', readyHandler);\n        if (!eventUtils.domLoaded) {\n          eventUtils.domLoaded = true;\n          callback(event);\n        }\n        win = null;\n      };\n      if (isDocReady()) {\n        readyHandler();\n      } else {\n        addEvent(win, 'DOMContentLoaded', readyHandler);\n      }\n      if (!eventUtils.domLoaded) {\n        addEvent(win, 'load', readyHandler);\n      }\n    };\n    var EventUtils = function () {\n      function EventUtils() {\n        this.domLoaded = false;\n        this.events = {};\n        this.count = 1;\n        this.expando = eventExpandoPrefix + (+new Date()).toString(32);\n        this.hasMouseEnterLeave = 'onmouseenter' in document.documentElement;\n        this.hasFocusIn = 'onfocusin' in document.documentElement;\n        this.count = 1;\n      }\n      EventUtils.prototype.bind = function (target, names, callback, scope) {\n        var self = this;\n        var id, callbackList, i, name, fakeName, nativeHandler, capture;\n        var win = window;\n        var defaultNativeHandler = function (evt) {\n          self.executeHandlers(fix(evt || win.event), id);\n        };\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return;\n        }\n        if (!target[self.expando]) {\n          id = self.count++;\n          target[self.expando] = id;\n          self.events[id] = {};\n        } else {\n          id = target[self.expando];\n        }\n        scope = scope || target;\n        var namesList = names.split(' ');\n        i = namesList.length;\n        while (i--) {\n          name = namesList[i];\n          nativeHandler = defaultNativeHandler;\n          fakeName = capture = false;\n          if (name === 'DOMContentLoaded') {\n            name = 'ready';\n          }\n          if (self.domLoaded && name === 'ready' && target.readyState === 'complete') {\n            callback.call(scope, fix({ type: name }));\n            continue;\n          }\n          if (!self.hasMouseEnterLeave) {\n            fakeName = self.mouseEnterLeave[name];\n            if (fakeName) {\n              nativeHandler = function (evt) {\n                var current = evt.currentTarget;\n                var related = evt.relatedTarget;\n                if (related && current.contains) {\n                  related = current.contains(related);\n                } else {\n                  while (related && related !== current) {\n                    related = related.parentNode;\n                  }\n                }\n                if (!related) {\n                  evt = fix(evt || win.event);\n                  evt.type = evt.type === 'mouseout' ? 'mouseleave' : 'mouseenter';\n                  evt.target = current;\n                  self.executeHandlers(evt, id);\n                }\n              };\n            }\n          }\n          if (!self.hasFocusIn && (name === 'focusin' || name === 'focusout')) {\n            capture = true;\n            fakeName = name === 'focusin' ? 'focus' : 'blur';\n            nativeHandler = function (evt) {\n              evt = fix(evt || win.event);\n              evt.type = evt.type === 'focus' ? 'focusin' : 'focusout';\n              self.executeHandlers(evt, id);\n            };\n          }\n          callbackList = self.events[id][name];\n          if (!callbackList) {\n            self.events[id][name] = callbackList = [{\n                func: callback,\n                scope: scope\n              }];\n            callbackList.fakeName = fakeName;\n            callbackList.capture = capture;\n            callbackList.nativeHandler = nativeHandler;\n            if (name === 'ready') {\n              bindOnReady(target, nativeHandler, self);\n            } else {\n              addEvent(target, fakeName || name, nativeHandler, capture);\n            }\n          } else {\n            if (name === 'ready' && self.domLoaded) {\n              callback(fix({ type: name }));\n            } else {\n              callbackList.push({\n                func: callback,\n                scope: scope\n              });\n            }\n          }\n        }\n        target = callbackList = null;\n        return callback;\n      };\n      EventUtils.prototype.unbind = function (target, names, callback) {\n        var callbackList, i, ci, name, eventMap;\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return this;\n        }\n        var id = target[this.expando];\n        if (id) {\n          eventMap = this.events[id];\n          if (names) {\n            var namesList = names.split(' ');\n            i = namesList.length;\n            while (i--) {\n              name = namesList[i];\n              callbackList = eventMap[name];\n              if (callbackList) {\n                if (callback) {\n                  ci = callbackList.length;\n                  while (ci--) {\n                    if (callbackList[ci].func === callback) {\n                      var nativeHandler = callbackList.nativeHandler;\n                      var fakeName = callbackList.fakeName, capture = callbackList.capture;\n                      callbackList = callbackList.slice(0, ci).concat(callbackList.slice(ci + 1));\n                      callbackList.nativeHandler = nativeHandler;\n                      callbackList.fakeName = fakeName;\n                      callbackList.capture = capture;\n                      eventMap[name] = callbackList;\n                    }\n                  }\n                }\n                if (!callback || callbackList.length === 0) {\n                  delete eventMap[name];\n                  removeEvent(target, callbackList.fakeName || name, callbackList.nativeHandler, callbackList.capture);\n                }\n              }\n            }\n          } else {\n            each$j(eventMap, function (callbackList, name) {\n              removeEvent(target, callbackList.fakeName || name, callbackList.nativeHandler, callbackList.capture);\n            });\n            eventMap = {};\n          }\n          for (name in eventMap) {\n            if (has$2(eventMap, name)) {\n              return this;\n            }\n          }\n          delete this.events[id];\n          try {\n            delete target[this.expando];\n          } catch (ex) {\n            target[this.expando] = null;\n          }\n        }\n        return this;\n      };\n      EventUtils.prototype.fire = function (target, name, args) {\n        var id;\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return this;\n        }\n        var event = fix({\n          type: name,\n          target: target\n        }, args);\n        do {\n          id = target[this.expando];\n          if (id) {\n            this.executeHandlers(event, id);\n          }\n          target = target.parentNode || target.ownerDocument || target.defaultView || target.parentWindow;\n        } while (target && !event.isPropagationStopped());\n        return this;\n      };\n      EventUtils.prototype.clean = function (target) {\n        var i, children;\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return this;\n        }\n        if (target[this.expando]) {\n          this.unbind(target);\n        }\n        if (!target.getElementsByTagName) {\n          target = target.document;\n        }\n        if (target && target.getElementsByTagName) {\n          this.unbind(target);\n          children = target.getElementsByTagName('*');\n          i = children.length;\n          while (i--) {\n            target = children[i];\n            if (target[this.expando]) {\n              this.unbind(target);\n            }\n          }\n        }\n        return this;\n      };\n      EventUtils.prototype.destroy = function () {\n        this.events = {};\n      };\n      EventUtils.prototype.cancel = function (e) {\n        if (e) {\n          e.preventDefault();\n          e.stopImmediatePropagation();\n        }\n        return false;\n      };\n      EventUtils.prototype.executeHandlers = function (evt, id) {\n        var container = this.events[id];\n        var callbackList = container && container[evt.type];\n        if (callbackList) {\n          for (var i = 0, l = callbackList.length; i < l; i++) {\n            var callback = callbackList[i];\n            if (callback && callback.func.call(callback.scope, evt) === false) {\n              evt.preventDefault();\n            }\n            if (evt.isImmediatePropagationStopped()) {\n              return;\n            }\n          }\n        }\n      };\n      EventUtils.Event = new EventUtils();\n      return EventUtils;\n    }();\n\n    var support, Expr, getText, isXML, tokenize, compile, select$1, outermostContext, sortInput, hasDuplicate, setDocument, document$1, docElem, documentIsHTML, rbuggyQSA, rbuggyMatches, matches, contains, expando = 'sizzle' + -new Date(), preferredDoc = window.document, dirruns = 0, done = 0, classCache = createCache(), tokenCache = createCache(), compilerCache = createCache(), sortOrder = function (a, b) {\n        if (a === b) {\n          hasDuplicate = true;\n        }\n        return 0;\n      }, strundefined = typeof undefined, MAX_NEGATIVE = 1 << 31, hasOwn = {}.hasOwnProperty, arr = [], pop = arr.pop, push_native = arr.push, push$1 = arr.push, slice$1 = arr.slice, indexOf = arr.indexOf || function (elem) {\n        var i = 0, len = this.length;\n        for (; i < len; i++) {\n          if (this[i] === elem) {\n            return i;\n          }\n        }\n        return -1;\n      }, booleans = 'checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped', whitespace = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]', identifier = '(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+', attributes = '\\\\[' + whitespace + '*(' + identifier + ')(?:' + whitespace + '*([*^$|!~]?=)' + whitespace + '*(?:\\'((?:\\\\\\\\.|[^\\\\\\\\\\'])*)\\'|\"((?:\\\\\\\\.|[^\\\\\\\\\"])*)\"|(' + identifier + '))|)' + whitespace + '*\\\\]', pseudos = ':(' + identifier + ')(?:\\\\((' + '(\\'((?:\\\\\\\\.|[^\\\\\\\\\\'])*)\\'|\"((?:\\\\\\\\.|[^\\\\\\\\\"])*)\")|' + '((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|' + attributes + ')*)|' + '.*' + ')\\\\)|)', rtrim = new RegExp('^' + whitespace + '+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)' + whitespace + '+$', 'g'), rcomma = new RegExp('^' + whitespace + '*,' + whitespace + '*'), rcombinators = new RegExp('^' + whitespace + '*([>+~]|' + whitespace + ')' + whitespace + '*'), rattributeQuotes = new RegExp('=' + whitespace + '*([^\\\\]\\'\"]*?)' + whitespace + '*\\\\]', 'g'), rpseudo = new RegExp(pseudos), ridentifier = new RegExp('^' + identifier + '$'), matchExpr = {\n        ID: new RegExp('^#(' + identifier + ')'),\n        CLASS: new RegExp('^\\\\.(' + identifier + ')'),\n        TAG: new RegExp('^(' + identifier + '|[*])'),\n        ATTR: new RegExp('^' + attributes),\n        PSEUDO: new RegExp('^' + pseudos),\n        CHILD: new RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(' + whitespace + '*(even|odd|(([+-]|)(\\\\d*)n|)' + whitespace + '*(?:([+-]|)' + whitespace + '*(\\\\d+)|))' + whitespace + '*\\\\)|)', 'i'),\n        bool: new RegExp('^(?:' + booleans + ')$', 'i'),\n        needsContext: new RegExp('^' + whitespace + '*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(' + whitespace + '*((?:-\\\\d)?\\\\d*)' + whitespace + '*\\\\)|)(?=[^-]|$)', 'i')\n      }, rinputs = /^(?:input|select|textarea|button)$/i, rheader = /^h\\d$/i, rnative = /^[^{]+\\{\\s*\\[native \\w/, rquickExpr$1 = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/, rsibling = /[+~]/, rescape = /'|\\\\/g, runescape = new RegExp('\\\\\\\\([\\\\da-f]{1,6}' + whitespace + '?|(' + whitespace + ')|.)', 'ig'), funescape = function (_, escaped, escapedWhitespace) {\n        var high = '0x' + escaped - 65536;\n        return high !== high || escapedWhitespace ? escaped : high < 0 ? String.fromCharCode(high + 65536) : String.fromCharCode(high >> 10 | 55296, high & 1023 | 56320);\n      };\n    try {\n      push$1.apply(arr = slice$1.call(preferredDoc.childNodes), preferredDoc.childNodes);\n      arr[preferredDoc.childNodes.length].nodeType;\n    } catch (e) {\n      push$1 = {\n        apply: arr.length ? function (target, els) {\n          push_native.apply(target, slice$1.call(els));\n        } : function (target, els) {\n          var j = target.length, i = 0;\n          while (target[j++] = els[i++]) {\n          }\n          target.length = j - 1;\n        }\n      };\n    }\n    var Sizzle = function (selector, context, results, seed) {\n      var match, elem, m, nodeType, i, groups, old, nid, newContext, newSelector;\n      if ((context ? context.ownerDocument || context : preferredDoc) !== document$1) {\n        setDocument(context);\n      }\n      context = context || document$1;\n      results = results || [];\n      if (!selector || typeof selector !== 'string') {\n        return results;\n      }\n      if ((nodeType = context.nodeType) !== 1 && nodeType !== 9) {\n        return [];\n      }\n      if (documentIsHTML && !seed) {\n        if (match = rquickExpr$1.exec(selector)) {\n          if (m = match[1]) {\n            if (nodeType === 9) {\n              elem = context.getElementById(m);\n              if (elem && elem.parentNode) {\n                if (elem.id === m) {\n                  results.push(elem);\n                  return results;\n                }\n              } else {\n                return results;\n              }\n            } else {\n              if (context.ownerDocument && (elem = context.ownerDocument.getElementById(m)) && contains(context, elem) && elem.id === m) {\n                results.push(elem);\n                return results;\n              }\n            }\n          } else if (match[2]) {\n            push$1.apply(results, context.getElementsByTagName(selector));\n            return results;\n          } else if ((m = match[3]) && support.getElementsByClassName) {\n            push$1.apply(results, context.getElementsByClassName(m));\n            return results;\n          }\n        }\n        if (support.qsa && (!rbuggyQSA || !rbuggyQSA.test(selector))) {\n          nid = old = expando;\n          newContext = context;\n          newSelector = nodeType === 9 && selector;\n          if (nodeType === 1 && context.nodeName.toLowerCase() !== 'object') {\n            groups = tokenize(selector);\n            if (old = context.getAttribute('id')) {\n              nid = old.replace(rescape, '\\\\$&');\n            } else {\n              context.setAttribute('id', nid);\n            }\n            nid = '[id=\\'' + nid + '\\'] ';\n            i = groups.length;\n            while (i--) {\n              groups[i] = nid + toSelector(groups[i]);\n            }\n            newContext = rsibling.test(selector) && testContext(context.parentNode) || context;\n            newSelector = groups.join(',');\n          }\n          if (newSelector) {\n            try {\n              push$1.apply(results, newContext.querySelectorAll(newSelector));\n              return results;\n            } catch (qsaError) {\n            } finally {\n              if (!old) {\n                context.removeAttribute('id');\n              }\n            }\n          }\n        }\n      }\n      return select$1(selector.replace(rtrim, '$1'), context, results, seed);\n    };\n    function createCache() {\n      var keys = [];\n      function cache(key, value) {\n        if (keys.push(key + ' ') > Expr.cacheLength) {\n          delete cache[keys.shift()];\n        }\n        return cache[key + ' '] = value;\n      }\n      return cache;\n    }\n    function markFunction(fn) {\n      fn[expando] = true;\n      return fn;\n    }\n    function siblingCheck(a, b) {\n      var cur = b && a, diff = cur && a.nodeType === 1 && b.nodeType === 1 && (~b.sourceIndex || MAX_NEGATIVE) - (~a.sourceIndex || MAX_NEGATIVE);\n      if (diff) {\n        return diff;\n      }\n      if (cur) {\n        while (cur = cur.nextSibling) {\n          if (cur === b) {\n            return -1;\n          }\n        }\n      }\n      return a ? 1 : -1;\n    }\n    function createInputPseudo(type) {\n      return function (elem) {\n        var name = elem.nodeName.toLowerCase();\n        return name === 'input' && elem.type === type;\n      };\n    }\n    function createButtonPseudo(type) {\n      return function (elem) {\n        var name = elem.nodeName.toLowerCase();\n        return (name === 'input' || name === 'button') && elem.type === type;\n      };\n    }\n    function createPositionalPseudo(fn) {\n      return markFunction(function (argument) {\n        argument = +argument;\n        return markFunction(function (seed, matches) {\n          var j, matchIndexes = fn([], seed.length, argument), i = matchIndexes.length;\n          while (i--) {\n            if (seed[j = matchIndexes[i]]) {\n              seed[j] = !(matches[j] = seed[j]);\n            }\n          }\n        });\n      });\n    }\n    function testContext(context) {\n      return context && typeof context.getElementsByTagName !== strundefined && context;\n    }\n    support = Sizzle.support = {};\n    isXML = Sizzle.isXML = function (elem) {\n      var documentElement = elem && (elem.ownerDocument || elem).documentElement;\n      return documentElement ? documentElement.nodeName !== 'HTML' : false;\n    };\n    setDocument = Sizzle.setDocument = function (node) {\n      var hasCompare, doc = node ? node.ownerDocument || node : preferredDoc, parent = doc.defaultView;\n      function getTop(win) {\n        try {\n          return win.top;\n        } catch (ex) {\n        }\n        return null;\n      }\n      if (doc === document$1 || doc.nodeType !== 9 || !doc.documentElement) {\n        return document$1;\n      }\n      document$1 = doc;\n      docElem = doc.documentElement;\n      documentIsHTML = !isXML(doc);\n      if (parent && parent !== getTop(parent)) {\n        if (parent.addEventListener) {\n          parent.addEventListener('unload', function () {\n            setDocument();\n          }, false);\n        } else if (parent.attachEvent) {\n          parent.attachEvent('onunload', function () {\n            setDocument();\n          });\n        }\n      }\n      support.attributes = true;\n      support.getElementsByTagName = true;\n      support.getElementsByClassName = rnative.test(doc.getElementsByClassName);\n      support.getById = true;\n      Expr.find.ID = function (id, context) {\n        if (typeof context.getElementById !== strundefined && documentIsHTML) {\n          var m = context.getElementById(id);\n          return m && m.parentNode ? [m] : [];\n        }\n      };\n      Expr.filter.ID = function (id) {\n        var attrId = id.replace(runescape, funescape);\n        return function (elem) {\n          return elem.getAttribute('id') === attrId;\n        };\n      };\n      Expr.find.TAG = support.getElementsByTagName ? function (tag, context) {\n        if (typeof context.getElementsByTagName !== strundefined) {\n          return context.getElementsByTagName(tag);\n        }\n      } : function (tag, context) {\n        var elem, tmp = [], i = 0, results = context.getElementsByTagName(tag);\n        if (tag === '*') {\n          while (elem = results[i++]) {\n            if (elem.nodeType === 1) {\n              tmp.push(elem);\n            }\n          }\n          return tmp;\n        }\n        return results;\n      };\n      Expr.find.CLASS = support.getElementsByClassName && function (className, context) {\n        if (documentIsHTML) {\n          return context.getElementsByClassName(className);\n        }\n      };\n      rbuggyMatches = [];\n      rbuggyQSA = [];\n      support.disconnectedMatch = true;\n      rbuggyQSA = rbuggyQSA.length && new RegExp(rbuggyQSA.join('|'));\n      rbuggyMatches = rbuggyMatches.length && new RegExp(rbuggyMatches.join('|'));\n      hasCompare = rnative.test(docElem.compareDocumentPosition);\n      contains = hasCompare || rnative.test(docElem.contains) ? function (a, b) {\n        var adown = a.nodeType === 9 ? a.documentElement : a, bup = b && b.parentNode;\n        return a === bup || !!(bup && bup.nodeType === 1 && (adown.contains ? adown.contains(bup) : a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16));\n      } : function (a, b) {\n        if (b) {\n          while (b = b.parentNode) {\n            if (b === a) {\n              return true;\n            }\n          }\n        }\n        return false;\n      };\n      sortOrder = hasCompare ? function (a, b) {\n        if (a === b) {\n          hasDuplicate = true;\n          return 0;\n        }\n        var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n        if (compare) {\n          return compare;\n        }\n        compare = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1;\n        if (compare & 1 || !support.sortDetached && b.compareDocumentPosition(a) === compare) {\n          if (a === doc || a.ownerDocument === preferredDoc && contains(preferredDoc, a)) {\n            return -1;\n          }\n          if (b === doc || b.ownerDocument === preferredDoc && contains(preferredDoc, b)) {\n            return 1;\n          }\n          return sortInput ? indexOf.call(sortInput, a) - indexOf.call(sortInput, b) : 0;\n        }\n        return compare & 4 ? -1 : 1;\n      } : function (a, b) {\n        if (a === b) {\n          hasDuplicate = true;\n          return 0;\n        }\n        var cur, i = 0, aup = a.parentNode, bup = b.parentNode, ap = [a], bp = [b];\n        if (!aup || !bup) {\n          return a === doc ? -1 : b === doc ? 1 : aup ? -1 : bup ? 1 : sortInput ? indexOf.call(sortInput, a) - indexOf.call(sortInput, b) : 0;\n        } else if (aup === bup) {\n          return siblingCheck(a, b);\n        }\n        cur = a;\n        while (cur = cur.parentNode) {\n          ap.unshift(cur);\n        }\n        cur = b;\n        while (cur = cur.parentNode) {\n          bp.unshift(cur);\n        }\n        while (ap[i] === bp[i]) {\n          i++;\n        }\n        return i ? siblingCheck(ap[i], bp[i]) : ap[i] === preferredDoc ? -1 : bp[i] === preferredDoc ? 1 : 0;\n      };\n      return doc;\n    };\n    Sizzle.matches = function (expr, elements) {\n      return Sizzle(expr, null, null, elements);\n    };\n    Sizzle.matchesSelector = function (elem, expr) {\n      if ((elem.ownerDocument || elem) !== document$1) {\n        setDocument(elem);\n      }\n      expr = expr.replace(rattributeQuotes, '=\\'$1\\']');\n      if (support.matchesSelector && documentIsHTML && (!rbuggyMatches || !rbuggyMatches.test(expr)) && (!rbuggyQSA || !rbuggyQSA.test(expr))) {\n        try {\n          var ret = matches.call(elem, expr);\n          if (ret || support.disconnectedMatch || elem.document && elem.document.nodeType !== 11) {\n            return ret;\n          }\n        } catch (e) {\n        }\n      }\n      return Sizzle(expr, document$1, null, [elem]).length > 0;\n    };\n    Sizzle.contains = function (context, elem) {\n      if ((context.ownerDocument || context) !== document$1) {\n        setDocument(context);\n      }\n      return contains(context, elem);\n    };\n    Sizzle.attr = function (elem, name) {\n      if ((elem.ownerDocument || elem) !== document$1) {\n        setDocument(elem);\n      }\n      var fn = Expr.attrHandle[name.toLowerCase()], val = fn && hasOwn.call(Expr.attrHandle, name.toLowerCase()) ? fn(elem, name, !documentIsHTML) : undefined;\n      return val !== undefined ? val : support.attributes || !documentIsHTML ? elem.getAttribute(name) : (val = elem.getAttributeNode(name)) && val.specified ? val.value : null;\n    };\n    Sizzle.error = function (msg) {\n      throw new Error('Syntax error, unrecognized expression: ' + msg);\n    };\n    Sizzle.uniqueSort = function (results) {\n      var elem, duplicates = [], j = 0, i = 0;\n      hasDuplicate = !support.detectDuplicates;\n      sortInput = !support.sortStable && results.slice(0);\n      results.sort(sortOrder);\n      if (hasDuplicate) {\n        while (elem = results[i++]) {\n          if (elem === results[i]) {\n            j = duplicates.push(i);\n          }\n        }\n        while (j--) {\n          results.splice(duplicates[j], 1);\n        }\n      }\n      sortInput = null;\n      return results;\n    };\n    getText = Sizzle.getText = function (elem) {\n      var node, ret = '', i = 0, nodeType = elem.nodeType;\n      if (!nodeType) {\n        while (node = elem[i++]) {\n          ret += getText(node);\n        }\n      } else if (nodeType === 1 || nodeType === 9 || nodeType === 11) {\n        if (typeof elem.textContent === 'string') {\n          return elem.textContent;\n        } else {\n          for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n            ret += getText(elem);\n          }\n        }\n      } else if (nodeType === 3 || nodeType === 4) {\n        return elem.nodeValue;\n      }\n      return ret;\n    };\n    Expr = Sizzle.selectors = {\n      cacheLength: 50,\n      createPseudo: markFunction,\n      match: matchExpr,\n      attrHandle: {},\n      find: {},\n      relative: {\n        '>': {\n          dir: 'parentNode',\n          first: true\n        },\n        ' ': { dir: 'parentNode' },\n        '+': {\n          dir: 'previousSibling',\n          first: true\n        },\n        '~': { dir: 'previousSibling' }\n      },\n      preFilter: {\n        ATTR: function (match) {\n          match[1] = match[1].replace(runescape, funescape);\n          match[3] = (match[3] || match[4] || match[5] || '').replace(runescape, funescape);\n          if (match[2] === '~=') {\n            match[3] = ' ' + match[3] + ' ';\n          }\n          return match.slice(0, 4);\n        },\n        CHILD: function (match) {\n          match[1] = match[1].toLowerCase();\n          if (match[1].slice(0, 3) === 'nth') {\n            if (!match[3]) {\n              Sizzle.error(match[0]);\n            }\n            match[4] = +(match[4] ? match[5] + (match[6] || 1) : 2 * (match[3] === 'even' || match[3] === 'odd'));\n            match[5] = +(match[7] + match[8] || match[3] === 'odd');\n          } else if (match[3]) {\n            Sizzle.error(match[0]);\n          }\n          return match;\n        },\n        PSEUDO: function (match) {\n          var excess, unquoted = !match[6] && match[2];\n          if (matchExpr.CHILD.test(match[0])) {\n            return null;\n          }\n          if (match[3]) {\n            match[2] = match[4] || match[5] || '';\n          } else if (unquoted && rpseudo.test(unquoted) && (excess = tokenize(unquoted, true)) && (excess = unquoted.indexOf(')', unquoted.length - excess) - unquoted.length)) {\n            match[0] = match[0].slice(0, excess);\n            match[2] = unquoted.slice(0, excess);\n          }\n          return match.slice(0, 3);\n        }\n      },\n      filter: {\n        TAG: function (nodeNameSelector) {\n          var nodeName = nodeNameSelector.replace(runescape, funescape).toLowerCase();\n          return nodeNameSelector === '*' ? function () {\n            return true;\n          } : function (elem) {\n            return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n          };\n        },\n        CLASS: function (className) {\n          var pattern = classCache[className + ' '];\n          return pattern || (pattern = new RegExp('(^|' + whitespace + ')' + className + '(' + whitespace + '|$)')) && classCache(className, function (elem) {\n            return pattern.test(typeof elem.className === 'string' && elem.className || typeof elem.getAttribute !== strundefined && elem.getAttribute('class') || '');\n          });\n        },\n        ATTR: function (name, operator, check) {\n          return function (elem) {\n            var result = Sizzle.attr(elem, name);\n            if (result == null) {\n              return operator === '!=';\n            }\n            if (!operator) {\n              return true;\n            }\n            result += '';\n            return operator === '=' ? result === check : operator === '!=' ? result !== check : operator === '^=' ? check && result.indexOf(check) === 0 : operator === '*=' ? check && result.indexOf(check) > -1 : operator === '$=' ? check && result.slice(-check.length) === check : operator === '~=' ? (' ' + result + ' ').indexOf(check) > -1 : operator === '|=' ? result === check || result.slice(0, check.length + 1) === check + '-' : false;\n          };\n        },\n        CHILD: function (type, what, argument, first, last) {\n          var simple = type.slice(0, 3) !== 'nth', forward = type.slice(-4) !== 'last', ofType = what === 'of-type';\n          return first === 1 && last === 0 ? function (elem) {\n            return !!elem.parentNode;\n          } : function (elem, context, xml) {\n            var cache, outerCache, node, diff, nodeIndex, start, dir = simple !== forward ? 'nextSibling' : 'previousSibling', parent = elem.parentNode, name = ofType && elem.nodeName.toLowerCase(), useCache = !xml && !ofType;\n            if (parent) {\n              if (simple) {\n                while (dir) {\n                  node = elem;\n                  while (node = node[dir]) {\n                    if (ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) {\n                      return false;\n                    }\n                  }\n                  start = dir = type === 'only' && !start && 'nextSibling';\n                }\n                return true;\n              }\n              start = [forward ? parent.firstChild : parent.lastChild];\n              if (forward && useCache) {\n                outerCache = parent[expando] || (parent[expando] = {});\n                cache = outerCache[type] || [];\n                nodeIndex = cache[0] === dirruns && cache[1];\n                diff = cache[0] === dirruns && cache[2];\n                node = nodeIndex && parent.childNodes[nodeIndex];\n                while (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) {\n                  if (node.nodeType === 1 && ++diff && node === elem) {\n                    outerCache[type] = [\n                      dirruns,\n                      nodeIndex,\n                      diff\n                    ];\n                    break;\n                  }\n                }\n              } else if (useCache && (cache = (elem[expando] || (elem[expando] = {}))[type]) && cache[0] === dirruns) {\n                diff = cache[1];\n              } else {\n                while (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) {\n                  if ((ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) && ++diff) {\n                    if (useCache) {\n                      (node[expando] || (node[expando] = {}))[type] = [\n                        dirruns,\n                        diff\n                      ];\n                    }\n                    if (node === elem) {\n                      break;\n                    }\n                  }\n                }\n              }\n              diff -= last;\n              return diff === first || diff % first === 0 && diff / first >= 0;\n            }\n          };\n        },\n        PSEUDO: function (pseudo, argument) {\n          var args, fn = Expr.pseudos[pseudo] || Expr.setFilters[pseudo.toLowerCase()] || Sizzle.error('unsupported pseudo: ' + pseudo);\n          if (fn[expando]) {\n            return fn(argument);\n          }\n          if (fn.length > 1) {\n            args = [\n              pseudo,\n              pseudo,\n              '',\n              argument\n            ];\n            return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase()) ? markFunction(function (seed, matches) {\n              var idx, matched = fn(seed, argument), i = matched.length;\n              while (i--) {\n                idx = indexOf.call(seed, matched[i]);\n                seed[idx] = !(matches[idx] = matched[i]);\n              }\n            }) : function (elem) {\n              return fn(elem, 0, args);\n            };\n          }\n          return fn;\n        }\n      },\n      pseudos: {\n        not: markFunction(function (selector) {\n          var input = [], results = [], matcher = compile(selector.replace(rtrim, '$1'));\n          return matcher[expando] ? markFunction(function (seed, matches, context, xml) {\n            var elem, unmatched = matcher(seed, null, xml, []), i = seed.length;\n            while (i--) {\n              if (elem = unmatched[i]) {\n                seed[i] = !(matches[i] = elem);\n              }\n            }\n          }) : function (elem, context, xml) {\n            input[0] = elem;\n            matcher(input, null, xml, results);\n            input[0] = null;\n            return !results.pop();\n          };\n        }),\n        has: markFunction(function (selector) {\n          return function (elem) {\n            return Sizzle(selector, elem).length > 0;\n          };\n        }),\n        contains: markFunction(function (text) {\n          text = text.replace(runescape, funescape);\n          return function (elem) {\n            return (elem.textContent || elem.innerText || getText(elem)).indexOf(text) > -1;\n          };\n        }),\n        lang: markFunction(function (lang) {\n          if (!ridentifier.test(lang || '')) {\n            Sizzle.error('unsupported lang: ' + lang);\n          }\n          lang = lang.replace(runescape, funescape).toLowerCase();\n          return function (elem) {\n            var elemLang;\n            do {\n              if (elemLang = documentIsHTML ? elem.lang : elem.getAttribute('xml:lang') || elem.getAttribute('lang')) {\n                elemLang = elemLang.toLowerCase();\n                return elemLang === lang || elemLang.indexOf(lang + '-') === 0;\n              }\n            } while ((elem = elem.parentNode) && elem.nodeType === 1);\n            return false;\n          };\n        }),\n        target: function (elem) {\n          var hash = window.location && window.location.hash;\n          return hash && hash.slice(1) === elem.id;\n        },\n        root: function (elem) {\n          return elem === docElem;\n        },\n        focus: function (elem) {\n          return elem === document$1.activeElement && (!document$1.hasFocus || document$1.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n        },\n        enabled: function (elem) {\n          return elem.disabled === false;\n        },\n        disabled: function (elem) {\n          return elem.disabled === true;\n        },\n        checked: function (elem) {\n          var nodeName = elem.nodeName.toLowerCase();\n          return nodeName === 'input' && !!elem.checked || nodeName === 'option' && !!elem.selected;\n        },\n        selected: function (elem) {\n          if (elem.parentNode) {\n            elem.parentNode.selectedIndex;\n          }\n          return elem.selected === true;\n        },\n        empty: function (elem) {\n          for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n            if (elem.nodeType < 6) {\n              return false;\n            }\n          }\n          return true;\n        },\n        parent: function (elem) {\n          return !Expr.pseudos.empty(elem);\n        },\n        header: function (elem) {\n          return rheader.test(elem.nodeName);\n        },\n        input: function (elem) {\n          return rinputs.test(elem.nodeName);\n        },\n        button: function (elem) {\n          var name = elem.nodeName.toLowerCase();\n          return name === 'input' && elem.type === 'button' || name === 'button';\n        },\n        text: function (elem) {\n          var attr;\n          return elem.nodeName.toLowerCase() === 'input' && elem.type === 'text' && ((attr = elem.getAttribute('type')) == null || attr.toLowerCase() === 'text');\n        },\n        first: createPositionalPseudo(function () {\n          return [0];\n        }),\n        last: createPositionalPseudo(function (matchIndexes, length) {\n          return [length - 1];\n        }),\n        eq: createPositionalPseudo(function (matchIndexes, length, argument) {\n          return [argument < 0 ? argument + length : argument];\n        }),\n        even: createPositionalPseudo(function (matchIndexes, length) {\n          var i = 0;\n          for (; i < length; i += 2) {\n            matchIndexes.push(i);\n          }\n          return matchIndexes;\n        }),\n        odd: createPositionalPseudo(function (matchIndexes, length) {\n          var i = 1;\n          for (; i < length; i += 2) {\n            matchIndexes.push(i);\n          }\n          return matchIndexes;\n        }),\n        lt: createPositionalPseudo(function (matchIndexes, length, argument) {\n          var i = argument < 0 ? argument + length : argument;\n          for (; --i >= 0;) {\n            matchIndexes.push(i);\n          }\n          return matchIndexes;\n        }),\n        gt: createPositionalPseudo(function (matchIndexes, length, argument) {\n          var i = argument < 0 ? argument + length : argument;\n          for (; ++i < length;) {\n            matchIndexes.push(i);\n          }\n          return matchIndexes;\n        })\n      }\n    };\n    Expr.pseudos.nth = Expr.pseudos.eq;\n    each$k([\n      'radio',\n      'checkbox',\n      'file',\n      'password',\n      'image'\n    ], function (i) {\n      Expr.pseudos[i] = createInputPseudo(i);\n    });\n    each$k([\n      'submit',\n      'reset'\n    ], function (i) {\n      Expr.pseudos[i] = createButtonPseudo(i);\n    });\n    function setFilters() {\n    }\n    setFilters.prototype = Expr.filters = Expr.pseudos;\n    Expr.setFilters = new setFilters();\n    tokenize = Sizzle.tokenize = function (selector, parseOnly) {\n      var matched, match, tokens, type, soFar, groups, preFilters, cached = tokenCache[selector + ' '];\n      if (cached) {\n        return parseOnly ? 0 : cached.slice(0);\n      }\n      soFar = selector;\n      groups = [];\n      preFilters = Expr.preFilter;\n      while (soFar) {\n        if (!matched || (match = rcomma.exec(soFar))) {\n          if (match) {\n            soFar = soFar.slice(match[0].length) || soFar;\n          }\n          groups.push(tokens = []);\n        }\n        matched = false;\n        if (match = rcombinators.exec(soFar)) {\n          matched = match.shift();\n          tokens.push({\n            value: matched,\n            type: match[0].replace(rtrim, ' ')\n          });\n          soFar = soFar.slice(matched.length);\n        }\n        for (type in Expr.filter) {\n          if (!Expr.filter.hasOwnProperty(type)) {\n            continue;\n          }\n          if ((match = matchExpr[type].exec(soFar)) && (!preFilters[type] || (match = preFilters[type](match)))) {\n            matched = match.shift();\n            tokens.push({\n              value: matched,\n              type: type,\n              matches: match\n            });\n            soFar = soFar.slice(matched.length);\n          }\n        }\n        if (!matched) {\n          break;\n        }\n      }\n      return parseOnly ? soFar.length : soFar ? Sizzle.error(selector) : tokenCache(selector, groups).slice(0);\n    };\n    function toSelector(tokens) {\n      var i = 0, len = tokens.length, selector = '';\n      for (; i < len; i++) {\n        selector += tokens[i].value;\n      }\n      return selector;\n    }\n    function addCombinator(matcher, combinator, base) {\n      var dir = combinator.dir, checkNonElements = base && dir === 'parentNode', doneName = done++;\n      return combinator.first ? function (elem, context, xml) {\n        while (elem = elem[dir]) {\n          if (elem.nodeType === 1 || checkNonElements) {\n            return matcher(elem, context, xml);\n          }\n        }\n      } : function (elem, context, xml) {\n        var oldCache, outerCache, newCache = [\n            dirruns,\n            doneName\n          ];\n        if (xml) {\n          while (elem = elem[dir]) {\n            if (elem.nodeType === 1 || checkNonElements) {\n              if (matcher(elem, context, xml)) {\n                return true;\n              }\n            }\n          }\n        } else {\n          while (elem = elem[dir]) {\n            if (elem.nodeType === 1 || checkNonElements) {\n              outerCache = elem[expando] || (elem[expando] = {});\n              if ((oldCache = outerCache[dir]) && oldCache[0] === dirruns && oldCache[1] === doneName) {\n                return newCache[2] = oldCache[2];\n              } else {\n                outerCache[dir] = newCache;\n                if (newCache[2] = matcher(elem, context, xml)) {\n                  return true;\n                }\n              }\n            }\n          }\n        }\n      };\n    }\n    function elementMatcher(matchers) {\n      return matchers.length > 1 ? function (elem, context, xml) {\n        var i = matchers.length;\n        while (i--) {\n          if (!matchers[i](elem, context, xml)) {\n            return false;\n          }\n        }\n        return true;\n      } : matchers[0];\n    }\n    function multipleContexts(selector, contexts, results) {\n      var i = 0, len = contexts.length;\n      for (; i < len; i++) {\n        Sizzle(selector, contexts[i], results);\n      }\n      return results;\n    }\n    function condense(unmatched, map, filter, context, xml) {\n      var elem, newUnmatched = [], i = 0, len = unmatched.length, mapped = map != null;\n      for (; i < len; i++) {\n        if (elem = unmatched[i]) {\n          if (!filter || filter(elem, context, xml)) {\n            newUnmatched.push(elem);\n            if (mapped) {\n              map.push(i);\n            }\n          }\n        }\n      }\n      return newUnmatched;\n    }\n    function setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector) {\n      if (postFilter && !postFilter[expando]) {\n        postFilter = setMatcher(postFilter);\n      }\n      if (postFinder && !postFinder[expando]) {\n        postFinder = setMatcher(postFinder, postSelector);\n      }\n      return markFunction(function (seed, results, context, xml) {\n        var temp, i, elem, preMap = [], postMap = [], preexisting = results.length, elems = seed || multipleContexts(selector || '*', context.nodeType ? [context] : context, []), matcherIn = preFilter && (seed || !selector) ? condense(elems, preMap, preFilter, context, xml) : elems, matcherOut = matcher ? postFinder || (seed ? preFilter : preexisting || postFilter) ? [] : results : matcherIn;\n        if (matcher) {\n          matcher(matcherIn, matcherOut, context, xml);\n        }\n        if (postFilter) {\n          temp = condense(matcherOut, postMap);\n          postFilter(temp, [], context, xml);\n          i = temp.length;\n          while (i--) {\n            if (elem = temp[i]) {\n              matcherOut[postMap[i]] = !(matcherIn[postMap[i]] = elem);\n            }\n          }\n        }\n        if (seed) {\n          if (postFinder || preFilter) {\n            if (postFinder) {\n              temp = [];\n              i = matcherOut.length;\n              while (i--) {\n                if (elem = matcherOut[i]) {\n                  temp.push(matcherIn[i] = elem);\n                }\n              }\n              postFinder(null, matcherOut = [], temp, xml);\n            }\n            i = matcherOut.length;\n            while (i--) {\n              if ((elem = matcherOut[i]) && (temp = postFinder ? indexOf.call(seed, elem) : preMap[i]) > -1) {\n                seed[temp] = !(results[temp] = elem);\n              }\n            }\n          }\n        } else {\n          matcherOut = condense(matcherOut === results ? matcherOut.splice(preexisting, matcherOut.length) : matcherOut);\n          if (postFinder) {\n            postFinder(null, results, matcherOut, xml);\n          } else {\n            push$1.apply(results, matcherOut);\n          }\n        }\n      });\n    }\n    function matcherFromTokens(tokens) {\n      var checkContext, matcher, j, len = tokens.length, leadingRelative = Expr.relative[tokens[0].type], implicitRelative = leadingRelative || Expr.relative[' '], i = leadingRelative ? 1 : 0, matchContext = addCombinator(function (elem) {\n          return elem === checkContext;\n        }, implicitRelative, true), matchAnyContext = addCombinator(function (elem) {\n          return indexOf.call(checkContext, elem) > -1;\n        }, implicitRelative, true), matchers = [function (elem, context, xml) {\n            var ret = !leadingRelative && (xml || context !== outermostContext) || ((checkContext = context).nodeType ? matchContext(elem, context, xml) : matchAnyContext(elem, context, xml));\n            checkContext = null;\n            return ret;\n          }];\n      for (; i < len; i++) {\n        if (matcher = Expr.relative[tokens[i].type]) {\n          matchers = [addCombinator(elementMatcher(matchers), matcher)];\n        } else {\n          matcher = Expr.filter[tokens[i].type].apply(null, tokens[i].matches);\n          if (matcher[expando]) {\n            j = ++i;\n            for (; j < len; j++) {\n              if (Expr.relative[tokens[j].type]) {\n                break;\n              }\n            }\n            return setMatcher(i > 1 && elementMatcher(matchers), i > 1 && toSelector(tokens.slice(0, i - 1).concat({ value: tokens[i - 2].type === ' ' ? '*' : '' })).replace(rtrim, '$1'), matcher, i < j && matcherFromTokens(tokens.slice(i, j)), j < len && matcherFromTokens(tokens = tokens.slice(j)), j < len && toSelector(tokens));\n          }\n          matchers.push(matcher);\n        }\n      }\n      return elementMatcher(matchers);\n    }\n    function matcherFromGroupMatchers(elementMatchers, setMatchers) {\n      var bySet = setMatchers.length > 0, byElement = elementMatchers.length > 0, superMatcher = function (seed, context, xml, results, outermost) {\n          var elem, j, matcher, matchedCount = 0, i = '0', unmatched = seed && [], setMatched = [], contextBackup = outermostContext, elems = seed || byElement && Expr.find.TAG('*', outermost), dirrunsUnique = dirruns += contextBackup == null ? 1 : Math.random() || 0.1, len = elems.length;\n          if (outermost) {\n            outermostContext = context !== document$1 && context;\n          }\n          for (; i !== len && (elem = elems[i]) != null; i++) {\n            if (byElement && elem) {\n              j = 0;\n              while (matcher = elementMatchers[j++]) {\n                if (matcher(elem, context, xml)) {\n                  results.push(elem);\n                  break;\n                }\n              }\n              if (outermost) {\n                dirruns = dirrunsUnique;\n              }\n            }\n            if (bySet) {\n              if (elem = !matcher && elem) {\n                matchedCount--;\n              }\n              if (seed) {\n                unmatched.push(elem);\n              }\n            }\n          }\n          matchedCount += i;\n          if (bySet && i !== matchedCount) {\n            j = 0;\n            while (matcher = setMatchers[j++]) {\n              matcher(unmatched, setMatched, context, xml);\n            }\n            if (seed) {\n              if (matchedCount > 0) {\n                while (i--) {\n                  if (!(unmatched[i] || setMatched[i])) {\n                    setMatched[i] = pop.call(results);\n                  }\n                }\n              }\n              setMatched = condense(setMatched);\n            }\n            push$1.apply(results, setMatched);\n            if (outermost && !seed && setMatched.length > 0 && matchedCount + setMatchers.length > 1) {\n              Sizzle.uniqueSort(results);\n            }\n          }\n          if (outermost) {\n            dirruns = dirrunsUnique;\n            outermostContext = contextBackup;\n          }\n          return unmatched;\n        };\n      return bySet ? markFunction(superMatcher) : superMatcher;\n    }\n    compile = Sizzle.compile = function (selector, match) {\n      var i, setMatchers = [], elementMatchers = [], cached = compilerCache[selector + ' '];\n      if (!cached) {\n        if (!match) {\n          match = tokenize(selector);\n        }\n        i = match.length;\n        while (i--) {\n          cached = matcherFromTokens(match[i]);\n          if (cached[expando]) {\n            setMatchers.push(cached);\n          } else {\n            elementMatchers.push(cached);\n          }\n        }\n        cached = compilerCache(selector, matcherFromGroupMatchers(elementMatchers, setMatchers));\n        cached.selector = selector;\n      }\n      return cached;\n    };\n    select$1 = Sizzle.select = function (selector, context, results, seed) {\n      var i, tokens, token, type, find, compiled = typeof selector === 'function' && selector, match = !seed && tokenize(selector = compiled.selector || selector);\n      results = results || [];\n      if (match.length === 1) {\n        tokens = match[0] = match[0].slice(0);\n        if (tokens.length > 2 && (token = tokens[0]).type === 'ID' && support.getById && context.nodeType === 9 && documentIsHTML && Expr.relative[tokens[1].type]) {\n          context = (Expr.find.ID(token.matches[0].replace(runescape, funescape), context) || [])[0];\n          if (!context) {\n            return results;\n          } else if (compiled) {\n            context = context.parentNode;\n          }\n          selector = selector.slice(tokens.shift().value.length);\n        }\n        i = matchExpr.needsContext.test(selector) ? 0 : tokens.length;\n        while (i--) {\n          token = tokens[i];\n          if (Expr.relative[type = token.type]) {\n            break;\n          }\n          if (find = Expr.find[type]) {\n            if (seed = find(token.matches[0].replace(runescape, funescape), rsibling.test(tokens[0].type) && testContext(context.parentNode) || context)) {\n              tokens.splice(i, 1);\n              selector = seed.length && toSelector(tokens);\n              if (!selector) {\n                push$1.apply(results, seed);\n                return results;\n              }\n              break;\n            }\n          }\n        }\n      }\n      (compiled || compile(selector, match))(seed, context, !documentIsHTML, results, rsibling.test(selector) && testContext(context.parentNode) || context);\n      return results;\n    };\n    support.sortStable = expando.split('').sort(sortOrder).join('') === expando;\n    support.detectDuplicates = !!hasDuplicate;\n    setDocument();\n    support.sortDetached = true;\n\n    var doc = document;\n    var push = Array.prototype.push;\n    var slice = Array.prototype.slice;\n    var rquickExpr = /^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/;\n    var Event$1 = EventUtils.Event;\n    var skipUniques = Tools.makeMap('children,contents,next,prev');\n    var isDefined = function (obj) {\n      return typeof obj !== 'undefined';\n    };\n    var isString = function (obj) {\n      return typeof obj === 'string';\n    };\n    var isWindow = function (obj) {\n      return obj && obj === obj.window;\n    };\n    var createFragment$1 = function (html, fragDoc) {\n      fragDoc = fragDoc || doc;\n      var container = fragDoc.createElement('div');\n      var frag = fragDoc.createDocumentFragment();\n      container.innerHTML = html;\n      var node;\n      while (node = container.firstChild) {\n        frag.appendChild(node);\n      }\n      return frag;\n    };\n    var domManipulate = function (targetNodes, sourceItem, callback, reverse) {\n      var i;\n      if (isString(sourceItem)) {\n        sourceItem = createFragment$1(sourceItem, getElementDocument(targetNodes[0]));\n      } else if (sourceItem.length && !sourceItem.nodeType) {\n        sourceItem = DomQuery.makeArray(sourceItem);\n        if (reverse) {\n          for (i = sourceItem.length - 1; i >= 0; i--) {\n            domManipulate(targetNodes, sourceItem[i], callback, reverse);\n          }\n        } else {\n          for (i = 0; i < sourceItem.length; i++) {\n            domManipulate(targetNodes, sourceItem[i], callback, reverse);\n          }\n        }\n        return targetNodes;\n      }\n      if (sourceItem.nodeType) {\n        i = targetNodes.length;\n        while (i--) {\n          callback.call(targetNodes[i], sourceItem);\n        }\n      }\n      return targetNodes;\n    };\n    var hasClass = function (node, className) {\n      return node && className && (' ' + node.className + ' ').indexOf(' ' + className + ' ') !== -1;\n    };\n    var wrap$2 = function (elements, wrapper, all) {\n      var lastParent, newWrapper;\n      wrapper = DomQuery(wrapper)[0];\n      elements.each(function () {\n        var self = this;\n        if (!all || lastParent !== self.parentNode) {\n          lastParent = self.parentNode;\n          newWrapper = wrapper.cloneNode(false);\n          self.parentNode.insertBefore(newWrapper, self);\n          newWrapper.appendChild(self);\n        } else {\n          newWrapper.appendChild(self);\n        }\n      });\n      return elements;\n    };\n    var numericCssMap = Tools.makeMap('fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom', ' ');\n    var booleanMap = Tools.makeMap('checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected', ' ');\n    var propFix = {\n      for: 'htmlFor',\n      class: 'className',\n      readonly: 'readOnly'\n    };\n    var cssFix = { float: 'cssFloat' };\n    var attrHooks = {}, cssHooks = {};\n    var DomQueryConstructor = function (selector, context) {\n      return new DomQuery.fn.init(selector, context);\n    };\n    var inArray$1 = function (item, array) {\n      var i;\n      if (array.indexOf) {\n        return array.indexOf(item);\n      }\n      i = array.length;\n      while (i--) {\n        if (array[i] === item) {\n          return i;\n        }\n      }\n      return -1;\n    };\n    var whiteSpaceRegExp = /^\\s*|\\s*$/g;\n    var trim$1 = function (str) {\n      return str === null || str === undefined ? '' : ('' + str).replace(whiteSpaceRegExp, '');\n    };\n    var each$g = function (obj, callback) {\n      var length, key, i, value;\n      if (obj) {\n        length = obj.length;\n        if (length === undefined) {\n          for (key in obj) {\n            if (obj.hasOwnProperty(key)) {\n              value = obj[key];\n              if (callback.call(value, key, value) === false) {\n                break;\n              }\n            }\n          }\n        } else {\n          for (i = 0; i < length; i++) {\n            value = obj[i];\n            if (callback.call(value, i, value) === false) {\n              break;\n            }\n          }\n        }\n      }\n      return obj;\n    };\n    var grep$2 = function (array, callback) {\n      var out = [];\n      each$g(array, function (i, item) {\n        if (callback(item, i)) {\n          out.push(item);\n        }\n      });\n      return out;\n    };\n    var getElementDocument = function (element) {\n      if (!element) {\n        return doc;\n      }\n      if (element.nodeType === 9) {\n        return element;\n      }\n      return element.ownerDocument;\n    };\n    DomQueryConstructor.fn = DomQueryConstructor.prototype = {\n      constructor: DomQueryConstructor,\n      selector: '',\n      context: null,\n      length: 0,\n      init: function (selector, context) {\n        var self = this;\n        var match, node;\n        if (!selector) {\n          return self;\n        }\n        if (selector.nodeType) {\n          self.context = self[0] = selector;\n          self.length = 1;\n          return self;\n        }\n        if (context && context.nodeType) {\n          self.context = context;\n        } else {\n          if (context) {\n            return DomQuery(selector).attr(context);\n          }\n          self.context = context = document;\n        }\n        if (isString(selector)) {\n          self.selector = selector;\n          if (selector.charAt(0) === '<' && selector.charAt(selector.length - 1) === '>' && selector.length >= 3) {\n            match = [\n              null,\n              selector,\n              null\n            ];\n          } else {\n            match = rquickExpr.exec(selector);\n          }\n          if (match) {\n            if (match[1]) {\n              node = createFragment$1(selector, getElementDocument(context)).firstChild;\n              while (node) {\n                push.call(self, node);\n                node = node.nextSibling;\n              }\n            } else {\n              node = getElementDocument(context).getElementById(match[2]);\n              if (!node) {\n                return self;\n              }\n              if (node.id !== match[2]) {\n                return self.find(selector);\n              }\n              self.length = 1;\n              self[0] = node;\n            }\n          } else {\n            return DomQuery(context).find(selector);\n          }\n        } else {\n          this.add(selector, false);\n        }\n        return self;\n      },\n      toArray: function () {\n        return Tools.toArray(this);\n      },\n      add: function (items, sort) {\n        var self = this;\n        var nodes, i;\n        if (isString(items)) {\n          return self.add(DomQuery(items));\n        }\n        if (sort !== false) {\n          nodes = DomQuery.unique(self.toArray().concat(DomQuery.makeArray(items)));\n          self.length = nodes.length;\n          for (i = 0; i < nodes.length; i++) {\n            self[i] = nodes[i];\n          }\n        } else {\n          push.apply(self, DomQuery.makeArray(items));\n        }\n        return self;\n      },\n      attr: function (name, value) {\n        var self = this;\n        var hook;\n        if (typeof name === 'object') {\n          each$g(name, function (name, value) {\n            self.attr(name, value);\n          });\n        } else if (isDefined(value)) {\n          this.each(function () {\n            var hook;\n            if (this.nodeType === 1) {\n              hook = attrHooks[name];\n              if (hook && hook.set) {\n                hook.set(this, value);\n                return;\n              }\n              if (value === null) {\n                this.removeAttribute(name, 2);\n              } else {\n                this.setAttribute(name, value, 2);\n              }\n            }\n          });\n        } else {\n          if (self[0] && self[0].nodeType === 1) {\n            hook = attrHooks[name];\n            if (hook && hook.get) {\n              return hook.get(self[0], name);\n            }\n            if (booleanMap[name]) {\n              return self.prop(name) ? name : undefined;\n            }\n            value = self[0].getAttribute(name, 2);\n            if (value === null) {\n              value = undefined;\n            }\n          }\n          return value;\n        }\n        return self;\n      },\n      removeAttr: function (name) {\n        return this.attr(name, null);\n      },\n      prop: function (name, value) {\n        var self = this;\n        name = propFix[name] || name;\n        if (typeof name === 'object') {\n          each$g(name, function (name, value) {\n            self.prop(name, value);\n          });\n        } else if (isDefined(value)) {\n          this.each(function () {\n            if (this.nodeType === 1) {\n              this[name] = value;\n            }\n          });\n        } else {\n          if (self[0] && self[0].nodeType && name in self[0]) {\n            return self[0][name];\n          }\n          return value;\n        }\n        return self;\n      },\n      css: function (name, value) {\n        var self = this;\n        var elm, hook;\n        var camel = function (name) {\n          return name.replace(/-(\\D)/g, function (a, b) {\n            return b.toUpperCase();\n          });\n        };\n        var dashed = function (name) {\n          return name.replace(/[A-Z]/g, function (a) {\n            return '-' + a;\n          });\n        };\n        if (typeof name === 'object') {\n          each$g(name, function (name, value) {\n            self.css(name, value);\n          });\n        } else {\n          if (isDefined(value)) {\n            name = camel(name);\n            if (typeof value === 'number' && !numericCssMap[name]) {\n              value = value.toString() + 'px';\n            }\n            self.each(function () {\n              var style = this.style;\n              hook = cssHooks[name];\n              if (hook && hook.set) {\n                hook.set(this, value);\n                return;\n              }\n              try {\n                this.style[cssFix[name] || name] = value;\n              } catch (ex) {\n              }\n              if (value === null || value === '') {\n                if (style.removeProperty) {\n                  style.removeProperty(dashed(name));\n                } else {\n                  style.removeAttribute(name);\n                }\n              }\n            });\n          } else {\n            elm = self[0];\n            hook = cssHooks[name];\n            if (hook && hook.get) {\n              return hook.get(elm);\n            }\n            if (elm.ownerDocument.defaultView) {\n              try {\n                return elm.ownerDocument.defaultView.getComputedStyle(elm, null).getPropertyValue(dashed(name));\n              } catch (ex) {\n                return undefined;\n              }\n            } else if (elm.currentStyle) {\n              return elm.currentStyle[camel(name)];\n            } else {\n              return '';\n            }\n          }\n        }\n        return self;\n      },\n      remove: function () {\n        var self = this;\n        var node, i = this.length;\n        while (i--) {\n          node = self[i];\n          Event$1.clean(node);\n          if (node.parentNode) {\n            node.parentNode.removeChild(node);\n          }\n        }\n        return this;\n      },\n      empty: function () {\n        var self = this;\n        var node, i = this.length;\n        while (i--) {\n          node = self[i];\n          while (node.firstChild) {\n            node.removeChild(node.firstChild);\n          }\n        }\n        return this;\n      },\n      html: function (value) {\n        var self = this;\n        var i;\n        if (isDefined(value)) {\n          i = self.length;\n          try {\n            while (i--) {\n              self[i].innerHTML = value;\n            }\n          } catch (ex) {\n            DomQuery(self[i]).empty().append(value);\n          }\n          return self;\n        }\n        return self[0] ? self[0].innerHTML : '';\n      },\n      text: function (value) {\n        var self = this;\n        var i;\n        if (isDefined(value)) {\n          i = self.length;\n          while (i--) {\n            if ('innerText' in self[i]) {\n              self[i].innerText = value;\n            } else {\n              self[0].textContent = value;\n            }\n          }\n          return self;\n        }\n        return self[0] ? self[0].innerText || self[0].textContent : '';\n      },\n      append: function () {\n        return domManipulate(this, arguments, function (node) {\n          if (this.nodeType === 1 || this.host && this.host.nodeType === 1) {\n            this.appendChild(node);\n          }\n        });\n      },\n      prepend: function () {\n        return domManipulate(this, arguments, function (node) {\n          if (this.nodeType === 1 || this.host && this.host.nodeType === 1) {\n            this.insertBefore(node, this.firstChild);\n          }\n        }, true);\n      },\n      before: function () {\n        var self = this;\n        if (self[0] && self[0].parentNode) {\n          return domManipulate(self, arguments, function (node) {\n            this.parentNode.insertBefore(node, this);\n          });\n        }\n        return self;\n      },\n      after: function () {\n        var self = this;\n        if (self[0] && self[0].parentNode) {\n          return domManipulate(self, arguments, function (node) {\n            this.parentNode.insertBefore(node, this.nextSibling);\n          }, true);\n        }\n        return self;\n      },\n      appendTo: function (val) {\n        DomQuery(val).append(this);\n        return this;\n      },\n      prependTo: function (val) {\n        DomQuery(val).prepend(this);\n        return this;\n      },\n      replaceWith: function (content) {\n        return this.before(content).remove();\n      },\n      wrap: function (content) {\n        return wrap$2(this, content);\n      },\n      wrapAll: function (content) {\n        return wrap$2(this, content, true);\n      },\n      wrapInner: function (content) {\n        this.each(function () {\n          DomQuery(this).contents().wrapAll(content);\n        });\n        return this;\n      },\n      unwrap: function () {\n        return this.parent().each(function () {\n          DomQuery(this).replaceWith(this.childNodes);\n        });\n      },\n      clone: function () {\n        var result = [];\n        this.each(function () {\n          result.push(this.cloneNode(true));\n        });\n        return DomQuery(result);\n      },\n      addClass: function (className) {\n        return this.toggleClass(className, true);\n      },\n      removeClass: function (className) {\n        return this.toggleClass(className, false);\n      },\n      toggleClass: function (className, state) {\n        var self = this;\n        if (typeof className !== 'string') {\n          return self;\n        }\n        if (className.indexOf(' ') !== -1) {\n          each$g(className.split(' '), function () {\n            self.toggleClass(this, state);\n          });\n        } else {\n          self.each(function (index, node) {\n            var classState = hasClass(node, className);\n            if (classState !== state) {\n              var existingClassName = node.className;\n              if (classState) {\n                node.className = trim$1((' ' + existingClassName + ' ').replace(' ' + className + ' ', ' '));\n              } else {\n                node.className += existingClassName ? ' ' + className : className;\n              }\n            }\n          });\n        }\n        return self;\n      },\n      hasClass: function (className) {\n        return hasClass(this[0], className);\n      },\n      each: function (callback) {\n        return each$g(this, callback);\n      },\n      on: function (name, callback) {\n        return this.each(function () {\n          Event$1.bind(this, name, callback);\n        });\n      },\n      off: function (name, callback) {\n        return this.each(function () {\n          Event$1.unbind(this, name, callback);\n        });\n      },\n      trigger: function (name) {\n        return this.each(function () {\n          if (typeof name === 'object') {\n            Event$1.fire(this, name.type, name);\n          } else {\n            Event$1.fire(this, name);\n          }\n        });\n      },\n      show: function () {\n        return this.css('display', '');\n      },\n      hide: function () {\n        return this.css('display', 'none');\n      },\n      slice: function () {\n        return DomQuery(slice.apply(this, arguments));\n      },\n      eq: function (index) {\n        return index === -1 ? this.slice(index) : this.slice(index, +index + 1);\n      },\n      first: function () {\n        return this.eq(0);\n      },\n      last: function () {\n        return this.eq(-1);\n      },\n      find: function (selector) {\n        var i, l;\n        var ret = [];\n        for (i = 0, l = this.length; i < l; i++) {\n          DomQuery.find(selector, this[i], ret);\n        }\n        return DomQuery(ret);\n      },\n      filter: function (selector) {\n        if (typeof selector === 'function') {\n          return DomQuery(grep$2(this.toArray(), function (item, i) {\n            return selector(i, item);\n          }));\n        }\n        return DomQuery(DomQuery.filter(selector, this.toArray()));\n      },\n      closest: function (selector) {\n        var result = [];\n        if (selector instanceof DomQuery) {\n          selector = selector[0];\n        }\n        this.each(function (i, node) {\n          while (node) {\n            if (typeof selector === 'string' && DomQuery(node).is(selector)) {\n              result.push(node);\n              break;\n            } else if (node === selector) {\n              result.push(node);\n              break;\n            }\n            node = node.parentNode;\n          }\n        });\n        return DomQuery(result);\n      },\n      offset: function (offset) {\n        var elm, doc, docElm;\n        var x = 0, y = 0, pos;\n        if (!offset) {\n          elm = this[0];\n          if (elm) {\n            doc = elm.ownerDocument;\n            docElm = doc.documentElement;\n            if (elm.getBoundingClientRect) {\n              pos = elm.getBoundingClientRect();\n              x = pos.left + (docElm.scrollLeft || doc.body.scrollLeft) - docElm.clientLeft;\n              y = pos.top + (docElm.scrollTop || doc.body.scrollTop) - docElm.clientTop;\n            }\n          }\n          return {\n            left: x,\n            top: y\n          };\n        }\n        return this.css(offset);\n      },\n      push: push,\n      sort: Array.prototype.sort,\n      splice: Array.prototype.splice\n    };\n    Tools.extend(DomQueryConstructor, {\n      extend: Tools.extend,\n      makeArray: function (object) {\n        if (isWindow(object) || object.nodeType) {\n          return [object];\n        }\n        return Tools.toArray(object);\n      },\n      inArray: inArray$1,\n      isArray: Tools.isArray,\n      each: each$g,\n      trim: trim$1,\n      grep: grep$2,\n      find: Sizzle,\n      expr: Sizzle.selectors,\n      unique: Sizzle.uniqueSort,\n      text: Sizzle.getText,\n      contains: Sizzle.contains,\n      filter: function (expr, elems, not) {\n        var i = elems.length;\n        if (not) {\n          expr = ':not(' + expr + ')';\n        }\n        while (i--) {\n          if (elems[i].nodeType !== 1) {\n            elems.splice(i, 1);\n          }\n        }\n        if (elems.length === 1) {\n          elems = DomQuery.find.matchesSelector(elems[0], expr) ? [elems[0]] : [];\n        } else {\n          elems = DomQuery.find.matches(expr, elems);\n        }\n        return elems;\n      }\n    });\n    var dir = function (el, prop, until) {\n      var matched = [];\n      var cur = el[prop];\n      if (typeof until !== 'string' && until instanceof DomQuery) {\n        until = until[0];\n      }\n      while (cur && cur.nodeType !== 9) {\n        if (until !== undefined) {\n          if (cur === until) {\n            break;\n          }\n          if (typeof until === 'string' && DomQuery(cur).is(until)) {\n            break;\n          }\n        }\n        if (cur.nodeType === 1) {\n          matched.push(cur);\n        }\n        cur = cur[prop];\n      }\n      return matched;\n    };\n    var sibling$1 = function (node, siblingName, nodeType, until) {\n      var result = [];\n      if (until instanceof DomQuery) {\n        until = until[0];\n      }\n      for (; node; node = node[siblingName]) {\n        if (nodeType && node.nodeType !== nodeType) {\n          continue;\n        }\n        if (until !== undefined) {\n          if (node === until) {\n            break;\n          }\n          if (typeof until === 'string' && DomQuery(node).is(until)) {\n            break;\n          }\n        }\n        result.push(node);\n      }\n      return result;\n    };\n    var firstSibling = function (node, siblingName, nodeType) {\n      for (node = node[siblingName]; node; node = node[siblingName]) {\n        if (node.nodeType === nodeType) {\n          return node;\n        }\n      }\n      return null;\n    };\n    each$g({\n      parent: function (node) {\n        var parent = node.parentNode;\n        return parent && parent.nodeType !== 11 ? parent : null;\n      },\n      parents: function (node) {\n        return dir(node, 'parentNode');\n      },\n      next: function (node) {\n        return firstSibling(node, 'nextSibling', 1);\n      },\n      prev: function (node) {\n        return firstSibling(node, 'previousSibling', 1);\n      },\n      children: function (node) {\n        return sibling$1(node.firstChild, 'nextSibling', 1);\n      },\n      contents: function (node) {\n        return Tools.toArray((node.nodeName === 'iframe' ? node.contentDocument || node.contentWindow.document : node).childNodes);\n      }\n    }, function (name, fn) {\n      DomQueryConstructor.fn[name] = function (selector) {\n        var self = this;\n        var result = [];\n        self.each(function () {\n          var nodes = fn.call(result, this, selector, result);\n          if (nodes) {\n            if (DomQuery.isArray(nodes)) {\n              result.push.apply(result, nodes);\n            } else {\n              result.push(nodes);\n            }\n          }\n        });\n        if (this.length > 1) {\n          if (!skipUniques[name]) {\n            result = DomQuery.unique(result);\n          }\n          if (name.indexOf('parents') === 0) {\n            result = result.reverse();\n          }\n        }\n        var wrappedResult = DomQuery(result);\n        if (selector) {\n          return wrappedResult.filter(selector);\n        }\n        return wrappedResult;\n      };\n    });\n    each$g({\n      parentsUntil: function (node, until) {\n        return dir(node, 'parentNode', until);\n      },\n      nextUntil: function (node, until) {\n        return sibling$1(node, 'nextSibling', 1, until).slice(1);\n      },\n      prevUntil: function (node, until) {\n        return sibling$1(node, 'previousSibling', 1, until).slice(1);\n      }\n    }, function (name, fn) {\n      DomQueryConstructor.fn[name] = function (selector, filter) {\n        var self = this;\n        var result = [];\n        self.each(function () {\n          var nodes = fn.call(result, this, selector, result);\n          if (nodes) {\n            if (DomQuery.isArray(nodes)) {\n              result.push.apply(result, nodes);\n            } else {\n              result.push(nodes);\n            }\n          }\n        });\n        if (this.length > 1) {\n          result = DomQuery.unique(result);\n          if (name.indexOf('parents') === 0 || name === 'prevUntil') {\n            result = result.reverse();\n          }\n        }\n        var wrappedResult = DomQuery(result);\n        if (filter) {\n          return wrappedResult.filter(filter);\n        }\n        return wrappedResult;\n      };\n    });\n    DomQueryConstructor.fn.is = function (selector) {\n      return !!selector && this.filter(selector).length > 0;\n    };\n    DomQueryConstructor.fn.init.prototype = DomQueryConstructor.fn;\n    DomQueryConstructor.overrideDefaults = function (callback) {\n      var defaults;\n      var sub = function (selector, context) {\n        defaults = defaults || callback();\n        if (arguments.length === 0) {\n          selector = defaults.element;\n        }\n        if (!context) {\n          context = defaults.context;\n        }\n        return new sub.fn.init(selector, context);\n      };\n      DomQuery.extend(sub, this);\n      return sub;\n    };\n    DomQueryConstructor.attrHooks = attrHooks;\n    DomQueryConstructor.cssHooks = cssHooks;\n    var DomQuery = DomQueryConstructor;\n\n    var each$f = Tools.each;\n    var grep$1 = Tools.grep;\n    var isIE = Env.ie;\n    var simpleSelectorRe = /^([a-z0-9],?)+$/i;\n    var setupAttrHooks = function (styles, settings, getContext) {\n      var keepValues = settings.keep_values;\n      var keepUrlHook = {\n        set: function ($elm, value, name) {\n          if (settings.url_converter && value !== null) {\n            value = settings.url_converter.call(settings.url_converter_scope || getContext(), value, name, $elm[0]);\n          }\n          $elm.attr('data-mce-' + name, value).attr(name, value);\n        },\n        get: function ($elm, name) {\n          return $elm.attr('data-mce-' + name) || $elm.attr(name);\n        }\n      };\n      var attrHooks = {\n        style: {\n          set: function ($elm, value) {\n            if (value !== null && typeof value === 'object') {\n              $elm.css(value);\n              return;\n            }\n            if (keepValues) {\n              $elm.attr('data-mce-style', value);\n            }\n            if (value !== null && typeof value === 'string') {\n              $elm.removeAttr('style');\n              $elm.css(styles.parse(value));\n            } else {\n              $elm.attr('style', value);\n            }\n          },\n          get: function ($elm) {\n            var value = $elm.attr('data-mce-style') || $elm.attr('style');\n            value = styles.serialize(styles.parse(value), $elm[0].nodeName);\n            return value;\n          }\n        }\n      };\n      if (keepValues) {\n        attrHooks.href = attrHooks.src = keepUrlHook;\n      }\n      return attrHooks;\n    };\n    var updateInternalStyleAttr = function (styles, $elm) {\n      var rawValue = $elm.attr('style');\n      var value = styles.serialize(styles.parse(rawValue), $elm[0].nodeName);\n      if (!value) {\n        value = null;\n      }\n      $elm.attr('data-mce-style', value);\n    };\n    var findNodeIndex = function (node, normalized) {\n      var idx = 0, lastNodeType, nodeType;\n      if (node) {\n        for (lastNodeType = node.nodeType, node = node.previousSibling; node; node = node.previousSibling) {\n          nodeType = node.nodeType;\n          if (normalized && nodeType === 3) {\n            if (nodeType === lastNodeType || !node.nodeValue.length) {\n              continue;\n            }\n          }\n          idx++;\n          lastNodeType = nodeType;\n        }\n      }\n      return idx;\n    };\n    var DOMUtils = function (doc, settings) {\n      if (settings === void 0) {\n        settings = {};\n      }\n      var addedStyles = {};\n      var win = window;\n      var files = {};\n      var counter = 0;\n      var stdMode = true;\n      var boxModel = true;\n      var styleSheetLoader = instance.forElement(SugarElement.fromDom(doc), {\n        contentCssCors: settings.contentCssCors,\n        referrerPolicy: settings.referrerPolicy\n      });\n      var boundEvents = [];\n      var schema = settings.schema ? settings.schema : Schema({});\n      var styles = Styles({\n        url_converter: settings.url_converter,\n        url_converter_scope: settings.url_converter_scope\n      }, settings.schema);\n      var events = settings.ownEvents ? new EventUtils() : EventUtils.Event;\n      var blockElementsMap = schema.getBlockElements();\n      var $ = DomQuery.overrideDefaults(function () {\n        return {\n          context: doc,\n          element: self.getRoot()\n        };\n      });\n      var isBlock = function (node) {\n        if (typeof node === 'string') {\n          return !!blockElementsMap[node];\n        } else if (node) {\n          var type = node.nodeType;\n          if (type) {\n            return !!(type === 1 && blockElementsMap[node.nodeName]);\n          }\n        }\n        return false;\n      };\n      var get = function (elm) {\n        return elm && doc && isString$1(elm) ? doc.getElementById(elm) : elm;\n      };\n      var $$ = function (elm) {\n        return $(typeof elm === 'string' ? get(elm) : elm);\n      };\n      var getAttrib = function (elm, name, defaultVal) {\n        var hook, value;\n        var $elm = $$(elm);\n        if ($elm.length) {\n          hook = attrHooks[name];\n          if (hook && hook.get) {\n            value = hook.get($elm, name);\n          } else {\n            value = $elm.attr(name);\n          }\n        }\n        if (typeof value === 'undefined') {\n          value = defaultVal || '';\n        }\n        return value;\n      };\n      var getAttribs = function (elm) {\n        var node = get(elm);\n        if (!node) {\n          return [];\n        }\n        return node.attributes;\n      };\n      var setAttrib = function (elm, name, value) {\n        if (value === '') {\n          value = null;\n        }\n        var $elm = $$(elm);\n        var originalValue = $elm.attr(name);\n        if (!$elm.length) {\n          return;\n        }\n        var hook = attrHooks[name];\n        if (hook && hook.set) {\n          hook.set($elm, value, name);\n        } else {\n          $elm.attr(name, value);\n        }\n        if (originalValue !== value && settings.onSetAttrib) {\n          settings.onSetAttrib({\n            attrElm: $elm,\n            attrName: name,\n            attrValue: value\n          });\n        }\n      };\n      var clone = function (node, deep) {\n        if (!isIE || node.nodeType !== 1 || deep) {\n          return node.cloneNode(deep);\n        } else {\n          var clone_1 = doc.createElement(node.nodeName);\n          each$f(getAttribs(node), function (attr) {\n            setAttrib(clone_1, attr.nodeName, getAttrib(node, attr.nodeName));\n          });\n          return clone_1;\n        }\n      };\n      var getRoot = function () {\n        return settings.root_element || doc.body;\n      };\n      var getViewPort = function (argWin) {\n        var vp = getBounds(argWin);\n        return {\n          x: vp.x,\n          y: vp.y,\n          w: vp.width,\n          h: vp.height\n        };\n      };\n      var getPos$1 = function (elm, rootElm) {\n        return getPos(doc.body, get(elm), rootElm);\n      };\n      var setStyle = function (elm, name, value) {\n        var $elm = isString$1(name) ? $$(elm).css(name, value) : $$(elm).css(name);\n        if (settings.update_styles) {\n          updateInternalStyleAttr(styles, $elm);\n        }\n      };\n      var setStyles = function (elm, stylesArg) {\n        var $elm = $$(elm).css(stylesArg);\n        if (settings.update_styles) {\n          updateInternalStyleAttr(styles, $elm);\n        }\n      };\n      var getStyle = function (elm, name, computed) {\n        var $elm = $$(elm);\n        if (computed) {\n          return $elm.css(name);\n        }\n        name = name.replace(/-(\\D)/g, function (a, b) {\n          return b.toUpperCase();\n        });\n        if (name === 'float') {\n          name = Env.browser.isIE() ? 'styleFloat' : 'cssFloat';\n        }\n        return $elm[0] && $elm[0].style ? $elm[0].style[name] : undefined;\n      };\n      var getSize = function (elm) {\n        var w, h;\n        elm = get(elm);\n        w = getStyle(elm, 'width');\n        h = getStyle(elm, 'height');\n        if (w.indexOf('px') === -1) {\n          w = 0;\n        }\n        if (h.indexOf('px') === -1) {\n          h = 0;\n        }\n        return {\n          w: parseInt(w, 10) || elm.offsetWidth || elm.clientWidth,\n          h: parseInt(h, 10) || elm.offsetHeight || elm.clientHeight\n        };\n      };\n      var getRect = function (elm) {\n        elm = get(elm);\n        var pos = getPos$1(elm);\n        var size = getSize(elm);\n        return {\n          x: pos.x,\n          y: pos.y,\n          w: size.w,\n          h: size.h\n        };\n      };\n      var is = function (elm, selector) {\n        var i;\n        if (!elm) {\n          return false;\n        }\n        if (!Array.isArray(elm)) {\n          if (selector === '*') {\n            return elm.nodeType === 1;\n          }\n          if (simpleSelectorRe.test(selector)) {\n            var selectors = selector.toLowerCase().split(/,/);\n            var elmName = elm.nodeName.toLowerCase();\n            for (i = selectors.length - 1; i >= 0; i--) {\n              if (selectors[i] === elmName) {\n                return true;\n              }\n            }\n            return false;\n          }\n          if (elm.nodeType && elm.nodeType !== 1) {\n            return false;\n          }\n        }\n        var elms = !Array.isArray(elm) ? [elm] : elm;\n        return Sizzle(selector, elms[0].ownerDocument || elms[0], null, elms).length > 0;\n      };\n      var getParents = function (elm, selector, root, collect) {\n        var result = [];\n        var selectorVal;\n        var node = get(elm);\n        collect = collect === undefined;\n        root = root || (getRoot().nodeName !== 'BODY' ? getRoot().parentNode : null);\n        if (Tools.is(selector, 'string')) {\n          selectorVal = selector;\n          if (selector === '*') {\n            selector = function (node) {\n              return node.nodeType === 1;\n            };\n          } else {\n            selector = function (node) {\n              return is(node, selectorVal);\n            };\n          }\n        }\n        while (node) {\n          if (node === root || isNullable(node.nodeType) || isDocument$1(node) || isDocumentFragment(node)) {\n            break;\n          }\n          if (!selector || typeof selector === 'function' && selector(node)) {\n            if (collect) {\n              result.push(node);\n            } else {\n              return [node];\n            }\n          }\n          node = node.parentNode;\n        }\n        return collect ? result : null;\n      };\n      var getParent = function (node, selector, root) {\n        var parents = getParents(node, selector, root, false);\n        return parents && parents.length > 0 ? parents[0] : null;\n      };\n      var _findSib = function (node, selector, name) {\n        var func = selector;\n        if (node) {\n          if (typeof selector === 'string') {\n            func = function (node) {\n              return is(node, selector);\n            };\n          }\n          for (node = node[name]; node; node = node[name]) {\n            if (typeof func === 'function' && func(node)) {\n              return node;\n            }\n          }\n        }\n        return null;\n      };\n      var getNext = function (node, selector) {\n        return _findSib(node, selector, 'nextSibling');\n      };\n      var getPrev = function (node, selector) {\n        return _findSib(node, selector, 'previousSibling');\n      };\n      var select = function (selector, scope) {\n        return Sizzle(selector, get(scope) || settings.root_element || doc, []);\n      };\n      var run = function (elm, func, scope) {\n        var result;\n        var node = typeof elm === 'string' ? get(elm) : elm;\n        if (!node) {\n          return false;\n        }\n        if (Tools.isArray(node) && (node.length || node.length === 0)) {\n          result = [];\n          each$f(node, function (elm, i) {\n            if (elm) {\n              result.push(func.call(scope, typeof elm === 'string' ? get(elm) : elm, i));\n            }\n          });\n          return result;\n        }\n        var context = scope ? scope : this;\n        return func.call(context, node);\n      };\n      var setAttribs = function (elm, attrs) {\n        $$(elm).each(function (i, node) {\n          each$f(attrs, function (value, name) {\n            setAttrib(node, name, value);\n          });\n        });\n      };\n      var setHTML = function (elm, html) {\n        var $elm = $$(elm);\n        if (isIE) {\n          $elm.each(function (i, target) {\n            if (target.canHaveHTML === false) {\n              return;\n            }\n            while (target.firstChild) {\n              target.removeChild(target.firstChild);\n            }\n            try {\n              target.innerHTML = '<br>' + html;\n              target.removeChild(target.firstChild);\n            } catch (ex) {\n              DomQuery('<div></div>').html('<br>' + html).contents().slice(1).appendTo(target);\n            }\n            return html;\n          });\n        } else {\n          $elm.html(html);\n        }\n      };\n      var add = function (parentElm, name, attrs, html, create) {\n        return run(parentElm, function (parentElm) {\n          var newElm = typeof name === 'string' ? doc.createElement(name) : name;\n          setAttribs(newElm, attrs);\n          if (html) {\n            if (typeof html !== 'string' && html.nodeType) {\n              newElm.appendChild(html);\n            } else if (typeof html === 'string') {\n              setHTML(newElm, html);\n            }\n          }\n          return !create ? parentElm.appendChild(newElm) : newElm;\n        });\n      };\n      var create = function (name, attrs, html) {\n        return add(doc.createElement(name), name, attrs, html, true);\n      };\n      var decode = Entities.decode;\n      var encode = Entities.encodeAllRaw;\n      var createHTML = function (name, attrs, html) {\n        var outHtml = '', key;\n        outHtml += '<' + name;\n        for (key in attrs) {\n          if (hasNonNullableKey(attrs, key)) {\n            outHtml += ' ' + key + '=\"' + encode(attrs[key]) + '\"';\n          }\n        }\n        if (typeof html !== 'undefined') {\n          return outHtml + '>' + html + '</' + name + '>';\n        }\n        return outHtml + ' />';\n      };\n      var createFragment = function (html) {\n        var node;\n        var container = doc.createElement('div');\n        var frag = doc.createDocumentFragment();\n        frag.appendChild(container);\n        if (html) {\n          container.innerHTML = html;\n        }\n        while (node = container.firstChild) {\n          frag.appendChild(node);\n        }\n        frag.removeChild(container);\n        return frag;\n      };\n      var remove = function (node, keepChildren) {\n        var $node = $$(node);\n        if (keepChildren) {\n          $node.each(function () {\n            var child;\n            while (child = this.firstChild) {\n              if (child.nodeType === 3 && child.data.length === 0) {\n                this.removeChild(child);\n              } else {\n                this.parentNode.insertBefore(child, this);\n              }\n            }\n          }).remove();\n        } else {\n          $node.remove();\n        }\n        return $node.length > 1 ? $node.toArray() : $node[0];\n      };\n      var removeAllAttribs = function (e) {\n        return run(e, function (e) {\n          var i;\n          var attrs = e.attributes;\n          for (i = attrs.length - 1; i >= 0; i--) {\n            e.removeAttributeNode(attrs.item(i));\n          }\n        });\n      };\n      var parseStyle = function (cssText) {\n        return styles.parse(cssText);\n      };\n      var serializeStyle = function (stylesArg, name) {\n        return styles.serialize(stylesArg, name);\n      };\n      var addStyle = function (cssText) {\n        var head, styleElm;\n        if (self !== DOMUtils.DOM && doc === document) {\n          if (addedStyles[cssText]) {\n            return;\n          }\n          addedStyles[cssText] = true;\n        }\n        styleElm = doc.getElementById('mceDefaultStyles');\n        if (!styleElm) {\n          styleElm = doc.createElement('style');\n          styleElm.id = 'mceDefaultStyles';\n          styleElm.type = 'text/css';\n          head = doc.getElementsByTagName('head')[0];\n          if (head.firstChild) {\n            head.insertBefore(styleElm, head.firstChild);\n          } else {\n            head.appendChild(styleElm);\n          }\n        }\n        if (styleElm.styleSheet) {\n          styleElm.styleSheet.cssText += cssText;\n        } else {\n          styleElm.appendChild(doc.createTextNode(cssText));\n        }\n      };\n      var loadCSS = function (urls) {\n        if (!urls) {\n          urls = '';\n        }\n        each$k(urls.split(','), function (url) {\n          files[url] = true;\n          styleSheetLoader.load(url, noop);\n        });\n      };\n      var toggleClass = function (elm, cls, state) {\n        $$(elm).toggleClass(cls, state).each(function () {\n          if (this.className === '') {\n            DomQuery(this).attr('class', null);\n          }\n        });\n      };\n      var addClass = function (elm, cls) {\n        $$(elm).addClass(cls);\n      };\n      var removeClass = function (elm, cls) {\n        toggleClass(elm, cls, false);\n      };\n      var hasClass = function (elm, cls) {\n        return $$(elm).hasClass(cls);\n      };\n      var show = function (elm) {\n        $$(elm).show();\n      };\n      var hide = function (elm) {\n        $$(elm).hide();\n      };\n      var isHidden = function (elm) {\n        return $$(elm).css('display') === 'none';\n      };\n      var uniqueId = function (prefix) {\n        return (!prefix ? 'mce_' : prefix) + counter++;\n      };\n      var getOuterHTML = function (elm) {\n        var node = typeof elm === 'string' ? get(elm) : elm;\n        return isElement$5(node) ? node.outerHTML : DomQuery('<div></div>').append(DomQuery(node).clone()).html();\n      };\n      var setOuterHTML = function (elm, html) {\n        $$(elm).each(function () {\n          try {\n            if ('outerHTML' in this) {\n              this.outerHTML = html;\n              return;\n            }\n          } catch (ex) {\n          }\n          remove(DomQuery(this).html(html), true);\n        });\n      };\n      var insertAfter = function (node, reference) {\n        var referenceNode = get(reference);\n        return run(node, function (node) {\n          var parent = referenceNode.parentNode;\n          var nextSibling = referenceNode.nextSibling;\n          if (nextSibling) {\n            parent.insertBefore(node, nextSibling);\n          } else {\n            parent.appendChild(node);\n          }\n          return node;\n        });\n      };\n      var replace = function (newElm, oldElm, keepChildren) {\n        return run(oldElm, function (oldElm) {\n          if (Tools.is(oldElm, 'array')) {\n            newElm = newElm.cloneNode(true);\n          }\n          if (keepChildren) {\n            each$f(grep$1(oldElm.childNodes), function (node) {\n              newElm.appendChild(node);\n            });\n          }\n          return oldElm.parentNode.replaceChild(newElm, oldElm);\n        });\n      };\n      var rename = function (elm, name) {\n        var newElm;\n        if (elm.nodeName !== name.toUpperCase()) {\n          newElm = create(name);\n          each$f(getAttribs(elm), function (attrNode) {\n            setAttrib(newElm, attrNode.nodeName, getAttrib(elm, attrNode.nodeName));\n          });\n          replace(newElm, elm, true);\n        }\n        return newElm || elm;\n      };\n      var findCommonAncestor = function (a, b) {\n        var ps = a, pe;\n        while (ps) {\n          pe = b;\n          while (pe && ps !== pe) {\n            pe = pe.parentNode;\n          }\n          if (ps === pe) {\n            break;\n          }\n          ps = ps.parentNode;\n        }\n        if (!ps && a.ownerDocument) {\n          return a.ownerDocument.documentElement;\n        }\n        return ps;\n      };\n      var toHex = function (rgbVal) {\n        return styles.toHex(Tools.trim(rgbVal));\n      };\n      var isNonEmptyElement = function (node) {\n        if (isElement$5(node)) {\n          var isNamedAnchor = node.nodeName.toLowerCase() === 'a' && !getAttrib(node, 'href') && getAttrib(node, 'id');\n          if (getAttrib(node, 'name') || getAttrib(node, 'data-mce-bookmark') || isNamedAnchor) {\n            return true;\n          }\n        }\n        return false;\n      };\n      var isEmpty = function (node, elements) {\n        var type, name, brCount = 0;\n        if (isNonEmptyElement(node)) {\n          return false;\n        }\n        node = node.firstChild;\n        if (node) {\n          var walker = new DomTreeWalker(node, node.parentNode);\n          var whitespace = schema ? schema.getWhiteSpaceElements() : {};\n          elements = elements || (schema ? schema.getNonEmptyElements() : null);\n          do {\n            type = node.nodeType;\n            if (isElement$5(node)) {\n              var bogusVal = node.getAttribute('data-mce-bogus');\n              if (bogusVal) {\n                node = walker.next(bogusVal === 'all');\n                continue;\n              }\n              name = node.nodeName.toLowerCase();\n              if (elements && elements[name]) {\n                if (name === 'br') {\n                  brCount++;\n                  node = walker.next();\n                  continue;\n                }\n                return false;\n              }\n              if (isNonEmptyElement(node)) {\n                return false;\n              }\n            }\n            if (type === 8) {\n              return false;\n            }\n            if (type === 3 && !isWhitespaceText(node.nodeValue)) {\n              return false;\n            }\n            if (type === 3 && node.parentNode && whitespace[node.parentNode.nodeName] && isWhitespaceText(node.nodeValue)) {\n              return false;\n            }\n            node = walker.next();\n          } while (node);\n        }\n        return brCount <= 1;\n      };\n      var createRng = function () {\n        return doc.createRange();\n      };\n      var split = function (parentElm, splitElm, replacementElm) {\n        var range = createRng();\n        var beforeFragment;\n        var afterFragment;\n        var parentNode;\n        if (parentElm && splitElm) {\n          range.setStart(parentElm.parentNode, findNodeIndex(parentElm));\n          range.setEnd(splitElm.parentNode, findNodeIndex(splitElm));\n          beforeFragment = range.extractContents();\n          range = createRng();\n          range.setStart(splitElm.parentNode, findNodeIndex(splitElm) + 1);\n          range.setEnd(parentElm.parentNode, findNodeIndex(parentElm) + 1);\n          afterFragment = range.extractContents();\n          parentNode = parentElm.parentNode;\n          parentNode.insertBefore(trimNode(self, beforeFragment), parentElm);\n          if (replacementElm) {\n            parentNode.insertBefore(replacementElm, parentElm);\n          } else {\n            parentNode.insertBefore(splitElm, parentElm);\n          }\n          parentNode.insertBefore(trimNode(self, afterFragment), parentElm);\n          remove(parentElm);\n          return replacementElm || splitElm;\n        }\n      };\n      var bind = function (target, name, func, scope) {\n        if (Tools.isArray(target)) {\n          var i = target.length;\n          var rv = [];\n          while (i--) {\n            rv[i] = bind(target[i], name, func, scope);\n          }\n          return rv;\n        }\n        if (settings.collect && (target === doc || target === win)) {\n          boundEvents.push([\n            target,\n            name,\n            func,\n            scope\n          ]);\n        }\n        var output = events.bind(target, name, func, scope || self);\n        return output;\n      };\n      var unbind = function (target, name, func) {\n        if (Tools.isArray(target)) {\n          var i = target.length;\n          var rv = [];\n          while (i--) {\n            rv[i] = unbind(target[i], name, func);\n          }\n          return rv;\n        } else {\n          if (boundEvents.length > 0 && (target === doc || target === win)) {\n            var i = boundEvents.length;\n            while (i--) {\n              var item = boundEvents[i];\n              if (target === item[0] && (!name || name === item[1]) && (!func || func === item[2])) {\n                events.unbind(item[0], item[1], item[2]);\n              }\n            }\n          }\n          return events.unbind(target, name, func);\n        }\n      };\n      var fire = function (target, name, evt) {\n        return events.fire(target, name, evt);\n      };\n      var getContentEditable = function (node) {\n        if (node && isElement$5(node)) {\n          var contentEditable = node.getAttribute('data-mce-contenteditable');\n          if (contentEditable && contentEditable !== 'inherit') {\n            return contentEditable;\n          }\n          return node.contentEditable !== 'inherit' ? node.contentEditable : null;\n        } else {\n          return null;\n        }\n      };\n      var getContentEditableParent = function (node) {\n        var root = getRoot();\n        var state = null;\n        for (; node && node !== root; node = node.parentNode) {\n          state = getContentEditable(node);\n          if (state !== null) {\n            break;\n          }\n        }\n        return state;\n      };\n      var destroy = function () {\n        if (boundEvents.length > 0) {\n          var i = boundEvents.length;\n          while (i--) {\n            var item = boundEvents[i];\n            events.unbind(item[0], item[1], item[2]);\n          }\n        }\n        each$j(files, function (_, url) {\n          styleSheetLoader.unload(url);\n          delete files[url];\n        });\n        if (Sizzle.setDocument) {\n          Sizzle.setDocument();\n        }\n      };\n      var isChildOf = function (node, parent) {\n        if (!isIE) {\n          return node === parent || parent.contains(node);\n        } else {\n          while (node) {\n            if (parent === node) {\n              return true;\n            }\n            node = node.parentNode;\n          }\n          return false;\n        }\n      };\n      var dumpRng = function (r) {\n        return 'startContainer: ' + r.startContainer.nodeName + ', startOffset: ' + r.startOffset + ', endContainer: ' + r.endContainer.nodeName + ', endOffset: ' + r.endOffset;\n      };\n      var self = {\n        doc: doc,\n        settings: settings,\n        win: win,\n        files: files,\n        stdMode: stdMode,\n        boxModel: boxModel,\n        styleSheetLoader: styleSheetLoader,\n        boundEvents: boundEvents,\n        styles: styles,\n        schema: schema,\n        events: events,\n        isBlock: isBlock,\n        $: $,\n        $$: $$,\n        root: null,\n        clone: clone,\n        getRoot: getRoot,\n        getViewPort: getViewPort,\n        getRect: getRect,\n        getSize: getSize,\n        getParent: getParent,\n        getParents: getParents,\n        get: get,\n        getNext: getNext,\n        getPrev: getPrev,\n        select: select,\n        is: is,\n        add: add,\n        create: create,\n        createHTML: createHTML,\n        createFragment: createFragment,\n        remove: remove,\n        setStyle: setStyle,\n        getStyle: getStyle,\n        setStyles: setStyles,\n        removeAllAttribs: removeAllAttribs,\n        setAttrib: setAttrib,\n        setAttribs: setAttribs,\n        getAttrib: getAttrib,\n        getPos: getPos$1,\n        parseStyle: parseStyle,\n        serializeStyle: serializeStyle,\n        addStyle: addStyle,\n        loadCSS: loadCSS,\n        addClass: addClass,\n        removeClass: removeClass,\n        hasClass: hasClass,\n        toggleClass: toggleClass,\n        show: show,\n        hide: hide,\n        isHidden: isHidden,\n        uniqueId: uniqueId,\n        setHTML: setHTML,\n        getOuterHTML: getOuterHTML,\n        setOuterHTML: setOuterHTML,\n        decode: decode,\n        encode: encode,\n        insertAfter: insertAfter,\n        replace: replace,\n        rename: rename,\n        findCommonAncestor: findCommonAncestor,\n        toHex: toHex,\n        run: run,\n        getAttribs: getAttribs,\n        isEmpty: isEmpty,\n        createRng: createRng,\n        nodeIndex: findNodeIndex,\n        split: split,\n        bind: bind,\n        unbind: unbind,\n        fire: fire,\n        getContentEditable: getContentEditable,\n        getContentEditableParent: getContentEditableParent,\n        destroy: destroy,\n        isChildOf: isChildOf,\n        dumpRng: dumpRng\n      };\n      var attrHooks = setupAttrHooks(styles, settings, constant(self));\n      return self;\n    };\n    DOMUtils.DOM = DOMUtils(document);\n    DOMUtils.nodeIndex = findNodeIndex;\n\n    var DOM$a = DOMUtils.DOM;\n    var each$e = Tools.each, grep = Tools.grep;\n    var QUEUED = 0;\n    var LOADING = 1;\n    var LOADED = 2;\n    var FAILED = 3;\n    var ScriptLoader = function () {\n      function ScriptLoader(settings) {\n        if (settings === void 0) {\n          settings = {};\n        }\n        this.states = {};\n        this.queue = [];\n        this.scriptLoadedCallbacks = {};\n        this.queueLoadedCallbacks = [];\n        this.loading = 0;\n        this.settings = settings;\n      }\n      ScriptLoader.prototype._setReferrerPolicy = function (referrerPolicy) {\n        this.settings.referrerPolicy = referrerPolicy;\n      };\n      ScriptLoader.prototype.loadScript = function (url, success, failure) {\n        var dom = DOM$a;\n        var elm;\n        var cleanup = function () {\n          dom.remove(id);\n          if (elm) {\n            elm.onerror = elm.onload = elm = null;\n          }\n        };\n        var done = function () {\n          cleanup();\n          success();\n        };\n        var error = function () {\n          cleanup();\n          if (isFunction(failure)) {\n            failure();\n          } else {\n            if (typeof console !== 'undefined' && console.log) {\n              console.log('Failed to load script: ' + url);\n            }\n          }\n        };\n        var id = dom.uniqueId();\n        elm = document.createElement('script');\n        elm.id = id;\n        elm.type = 'text/javascript';\n        elm.src = Tools._addCacheSuffix(url);\n        if (this.settings.referrerPolicy) {\n          dom.setAttrib(elm, 'referrerpolicy', this.settings.referrerPolicy);\n        }\n        elm.onload = done;\n        elm.onerror = error;\n        (document.getElementsByTagName('head')[0] || document.body).appendChild(elm);\n      };\n      ScriptLoader.prototype.isDone = function (url) {\n        return this.states[url] === LOADED;\n      };\n      ScriptLoader.prototype.markDone = function (url) {\n        this.states[url] = LOADED;\n      };\n      ScriptLoader.prototype.add = function (url, success, scope, failure) {\n        var state = this.states[url];\n        this.queue.push(url);\n        if (state === undefined) {\n          this.states[url] = QUEUED;\n        }\n        if (success) {\n          if (!this.scriptLoadedCallbacks[url]) {\n            this.scriptLoadedCallbacks[url] = [];\n          }\n          this.scriptLoadedCallbacks[url].push({\n            success: success,\n            failure: failure,\n            scope: scope || this\n          });\n        }\n      };\n      ScriptLoader.prototype.load = function (url, success, scope, failure) {\n        return this.add(url, success, scope, failure);\n      };\n      ScriptLoader.prototype.remove = function (url) {\n        delete this.states[url];\n        delete this.scriptLoadedCallbacks[url];\n      };\n      ScriptLoader.prototype.loadQueue = function (success, scope, failure) {\n        this.loadScripts(this.queue, success, scope, failure);\n      };\n      ScriptLoader.prototype.loadScripts = function (scripts, success, scope, failure) {\n        var self = this;\n        var failures = [];\n        var execCallbacks = function (name, url) {\n          each$e(self.scriptLoadedCallbacks[url], function (callback) {\n            if (isFunction(callback[name])) {\n              callback[name].call(callback.scope);\n            }\n          });\n          self.scriptLoadedCallbacks[url] = undefined;\n        };\n        self.queueLoadedCallbacks.push({\n          success: success,\n          failure: failure,\n          scope: scope || this\n        });\n        var loadScripts = function () {\n          var loadingScripts = grep(scripts);\n          scripts.length = 0;\n          each$e(loadingScripts, function (url) {\n            if (self.states[url] === LOADED) {\n              execCallbacks('success', url);\n              return;\n            }\n            if (self.states[url] === FAILED) {\n              execCallbacks('failure', url);\n              return;\n            }\n            if (self.states[url] !== LOADING) {\n              self.states[url] = LOADING;\n              self.loading++;\n              self.loadScript(url, function () {\n                self.states[url] = LOADED;\n                self.loading--;\n                execCallbacks('success', url);\n                loadScripts();\n              }, function () {\n                self.states[url] = FAILED;\n                self.loading--;\n                failures.push(url);\n                execCallbacks('failure', url);\n                loadScripts();\n              });\n            }\n          });\n          if (!self.loading) {\n            var notifyCallbacks = self.queueLoadedCallbacks.slice(0);\n            self.queueLoadedCallbacks.length = 0;\n            each$e(notifyCallbacks, function (callback) {\n              if (failures.length === 0) {\n                if (isFunction(callback.success)) {\n                  callback.success.call(callback.scope);\n                }\n              } else {\n                if (isFunction(callback.failure)) {\n                  callback.failure.call(callback.scope, failures);\n                }\n              }\n            });\n          }\n        };\n        loadScripts();\n      };\n      ScriptLoader.ScriptLoader = new ScriptLoader();\n      return ScriptLoader;\n    }();\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var isRaw = function (str) {\n      return isObject(str) && has$2(str, 'raw');\n    };\n    var isTokenised = function (str) {\n      return isArray$1(str) && str.length > 1;\n    };\n    var data = {};\n    var currentCode = Cell('en');\n    var getLanguageData = function () {\n      return get$9(data, currentCode.get());\n    };\n    var getData = function () {\n      return map$2(data, function (value) {\n        return __assign({}, value);\n      });\n    };\n    var setCode = function (newCode) {\n      if (newCode) {\n        currentCode.set(newCode);\n      }\n    };\n    var getCode = function () {\n      return currentCode.get();\n    };\n    var add$4 = function (code, items) {\n      var langData = data[code];\n      if (!langData) {\n        data[code] = langData = {};\n      }\n      each$j(items, function (translation, name) {\n        langData[name.toLowerCase()] = translation;\n      });\n    };\n    var translate = function (text) {\n      var langData = getLanguageData().getOr({});\n      var toString = function (obj) {\n        if (isFunction(obj)) {\n          return Object.prototype.toString.call(obj);\n        }\n        return !isEmpty(obj) ? '' + obj : '';\n      };\n      var isEmpty = function (text) {\n        return text === '' || text === null || text === undefined;\n      };\n      var getLangData = function (text) {\n        var textstr = toString(text);\n        return get$9(langData, textstr.toLowerCase()).map(toString).getOr(textstr);\n      };\n      var removeContext = function (str) {\n        return str.replace(/{context:\\w+}$/, '');\n      };\n      if (isEmpty(text)) {\n        return '';\n      }\n      if (isRaw(text)) {\n        return toString(text.raw);\n      }\n      if (isTokenised(text)) {\n        var values_1 = text.slice(1);\n        var substitued = getLangData(text[0]).replace(/\\{([0-9]+)\\}/g, function ($1, $2) {\n          return has$2(values_1, $2) ? toString(values_1[$2]) : $1;\n        });\n        return removeContext(substitued);\n      }\n      return removeContext(getLangData(text));\n    };\n    var isRtl$1 = function () {\n      return getLanguageData().bind(function (items) {\n        return get$9(items, '_dir');\n      }).exists(function (dir) {\n        return dir === 'rtl';\n      });\n    };\n    var hasCode = function (code) {\n      return has$2(data, code);\n    };\n    var I18n = {\n      getData: getData,\n      setCode: setCode,\n      getCode: getCode,\n      add: add$4,\n      translate: translate,\n      isRtl: isRtl$1,\n      hasCode: hasCode\n    };\n\n    var AddOnManager = function () {\n      var items = [];\n      var urls = {};\n      var lookup = {};\n      var _listeners = [];\n      var runListeners = function (name, state) {\n        var matchedListeners = filter$4(_listeners, function (listener) {\n          return listener.name === name && listener.state === state;\n        });\n        each$k(matchedListeners, function (listener) {\n          return listener.callback();\n        });\n      };\n      var get = function (name) {\n        if (lookup[name]) {\n          return lookup[name].instance;\n        }\n        return undefined;\n      };\n      var dependencies = function (name) {\n        var result;\n        if (lookup[name]) {\n          result = lookup[name].dependencies;\n        }\n        return result || [];\n      };\n      var requireLangPack = function (name, languages) {\n        if (AddOnManager.languageLoad !== false) {\n          waitFor(name, function () {\n            var language = I18n.getCode();\n            var wrappedLanguages = ',' + (languages || '') + ',';\n            if (!language || languages && wrappedLanguages.indexOf(',' + language + ',') === -1) {\n              return;\n            }\n            ScriptLoader.ScriptLoader.add(urls[name] + '/langs/' + language + '.js');\n          }, 'loaded');\n        }\n      };\n      var add = function (id, addOn, dependencies) {\n        var addOnConstructor = addOn;\n        items.push(addOnConstructor);\n        lookup[id] = {\n          instance: addOnConstructor,\n          dependencies: dependencies\n        };\n        runListeners(id, 'added');\n        return addOnConstructor;\n      };\n      var remove = function (name) {\n        delete urls[name];\n        delete lookup[name];\n      };\n      var createUrl = function (baseUrl, dep) {\n        if (typeof dep === 'object') {\n          return dep;\n        }\n        return typeof baseUrl === 'string' ? {\n          prefix: '',\n          resource: dep,\n          suffix: ''\n        } : {\n          prefix: baseUrl.prefix,\n          resource: dep,\n          suffix: baseUrl.suffix\n        };\n      };\n      var addComponents = function (pluginName, scripts) {\n        var pluginUrl = urls[pluginName];\n        each$k(scripts, function (script) {\n          ScriptLoader.ScriptLoader.add(pluginUrl + '/' + script);\n        });\n      };\n      var loadDependencies = function (name, addOnUrl, success, scope) {\n        var deps = dependencies(name);\n        each$k(deps, function (dep) {\n          var newUrl = createUrl(addOnUrl, dep);\n          load(newUrl.resource, newUrl, undefined, undefined);\n        });\n        if (success) {\n          if (scope) {\n            success.call(scope);\n          } else {\n            success.call(ScriptLoader);\n          }\n        }\n      };\n      var load = function (name, addOnUrl, success, scope, failure) {\n        if (urls[name]) {\n          return;\n        }\n        var urlString = typeof addOnUrl === 'string' ? addOnUrl : addOnUrl.prefix + addOnUrl.resource + addOnUrl.suffix;\n        if (urlString.indexOf('/') !== 0 && urlString.indexOf('://') === -1) {\n          urlString = AddOnManager.baseURL + '/' + urlString;\n        }\n        urls[name] = urlString.substring(0, urlString.lastIndexOf('/'));\n        var done = function () {\n          runListeners(name, 'loaded');\n          loadDependencies(name, addOnUrl, success, scope);\n        };\n        if (lookup[name]) {\n          done();\n        } else {\n          ScriptLoader.ScriptLoader.add(urlString, done, scope, failure);\n        }\n      };\n      var waitFor = function (name, callback, state) {\n        if (state === void 0) {\n          state = 'added';\n        }\n        if (has$2(lookup, name) && state === 'added') {\n          callback();\n        } else if (has$2(urls, name) && state === 'loaded') {\n          callback();\n        } else {\n          _listeners.push({\n            name: name,\n            state: state,\n            callback: callback\n          });\n        }\n      };\n      return {\n        items: items,\n        urls: urls,\n        lookup: lookup,\n        _listeners: _listeners,\n        get: get,\n        dependencies: dependencies,\n        requireLangPack: requireLangPack,\n        add: add,\n        remove: remove,\n        createUrl: createUrl,\n        addComponents: addComponents,\n        load: load,\n        waitFor: waitFor\n      };\n    };\n    AddOnManager.languageLoad = true;\n    AddOnManager.baseURL = '';\n    AddOnManager.PluginManager = AddOnManager();\n    AddOnManager.ThemeManager = AddOnManager();\n\n    var singleton = function (doRevoke) {\n      var subject = Cell(Optional.none());\n      var revoke = function () {\n        return subject.get().each(doRevoke);\n      };\n      var clear = function () {\n        revoke();\n        subject.set(Optional.none());\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      var get = function () {\n        return subject.get();\n      };\n      var set = function (s) {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear: clear,\n        isSet: isSet,\n        get: get,\n        set: set\n      };\n    };\n    var value = function () {\n      var subject = singleton(noop);\n      var on = function (f) {\n        return subject.get().each(f);\n      };\n      return __assign(__assign({}, subject), { on: on });\n    };\n\n    var first = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (isNull(timer)) {\n          timer = setTimeout(function () {\n            timer = null;\n            fn.apply(null, args);\n          }, rate);\n        }\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n    var last = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        cancel();\n        timer = setTimeout(function () {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n\n    var read$4 = function (element, attr) {\n      var value = get$6(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    var add$3 = function (element, attr, id) {\n      var old = read$4(element, attr);\n      var nu = old.concat([id]);\n      set$1(element, attr, nu.join(' '));\n      return true;\n    };\n    var remove$5 = function (element, attr, id) {\n      var nu = filter$4(read$4(element, attr), function (v) {\n        return v !== id;\n      });\n      if (nu.length > 0) {\n        set$1(element, attr, nu.join(' '));\n      } else {\n        remove$6(element, attr);\n      }\n      return false;\n    };\n\n    var supports = function (element) {\n      return element.dom.classList !== undefined;\n    };\n    var get$4 = function (element) {\n      return read$4(element, 'class');\n    };\n    var add$2 = function (element, clazz) {\n      return add$3(element, 'class', clazz);\n    };\n    var remove$4 = function (element, clazz) {\n      return remove$5(element, 'class', clazz);\n    };\n\n    var add$1 = function (element, clazz) {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$2(element, clazz);\n      }\n    };\n    var cleanClass = function (element) {\n      var classList = supports(element) ? element.dom.classList : get$4(element);\n      if (classList.length === 0) {\n        remove$6(element, 'class');\n      }\n    };\n    var remove$3 = function (element, clazz) {\n      if (supports(element)) {\n        var classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$4(element, clazz);\n      }\n      cleanClass(element);\n    };\n    var has = function (element, clazz) {\n      return supports(element) && element.dom.classList.contains(clazz);\n    };\n\n    var descendants$1 = function (scope, predicate) {\n      var result = [];\n      each$k(children(scope), function (x) {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(descendants$1(x, predicate));\n      });\n      return result;\n    };\n\n    var descendants = function (scope, selector) {\n      return all(selector, scope);\n    };\n\n    var annotation = constant('mce-annotation');\n    var dataAnnotation = constant('data-mce-annotation');\n    var dataAnnotationId = constant('data-mce-annotation-uid');\n\n    var identify = function (editor, annotationName) {\n      var rng = editor.selection.getRng();\n      var start = SugarElement.fromDom(rng.startContainer);\n      var root = SugarElement.fromDom(editor.getBody());\n      var selector = annotationName.fold(function () {\n        return '.' + annotation();\n      }, function (an) {\n        return '[' + dataAnnotation() + '=\"' + an + '\"]';\n      });\n      var newStart = child$1(start, rng.startOffset).getOr(start);\n      var closest = closest$2(newStart, selector, function (n) {\n        return eq(n, root);\n      });\n      var getAttr = function (c, property) {\n        if (has$1(c, property)) {\n          return Optional.some(get$6(c, property));\n        } else {\n          return Optional.none();\n        }\n      };\n      return closest.bind(function (c) {\n        return getAttr(c, '' + dataAnnotationId()).bind(function (uid) {\n          return getAttr(c, '' + dataAnnotation()).map(function (name) {\n            var elements = findMarkers(editor, uid);\n            return {\n              uid: uid,\n              name: name,\n              elements: elements\n            };\n          });\n        });\n      });\n    };\n    var isAnnotation = function (elem) {\n      return isElement$6(elem) && has(elem, annotation());\n    };\n    var findMarkers = function (editor, uid) {\n      var body = SugarElement.fromDom(editor.getBody());\n      return descendants(body, '[' + dataAnnotationId() + '=\"' + uid + '\"]');\n    };\n    var findAll = function (editor, name) {\n      var body = SugarElement.fromDom(editor.getBody());\n      var markers = descendants(body, '[' + dataAnnotation() + '=\"' + name + '\"]');\n      var directory = {};\n      each$k(markers, function (m) {\n        var uid = get$6(m, dataAnnotationId());\n        var nodesAlready = get$9(directory, uid).getOr([]);\n        directory[uid] = nodesAlready.concat([m]);\n      });\n      return directory;\n    };\n\n    var setup$n = function (editor, _registry) {\n      var changeCallbacks = Cell({});\n      var initData = function () {\n        return {\n          listeners: [],\n          previous: value()\n        };\n      };\n      var withCallbacks = function (name, f) {\n        updateCallbacks(name, function (data) {\n          f(data);\n          return data;\n        });\n      };\n      var updateCallbacks = function (name, f) {\n        var callbackMap = changeCallbacks.get();\n        var data = get$9(callbackMap, name).getOrThunk(initData);\n        var outputData = f(data);\n        callbackMap[name] = outputData;\n        changeCallbacks.set(callbackMap);\n      };\n      var fireCallbacks = function (name, uid, elements) {\n        withCallbacks(name, function (data) {\n          each$k(data.listeners, function (f) {\n            return f(true, name, {\n              uid: uid,\n              nodes: map$3(elements, function (elem) {\n                return elem.dom;\n              })\n            });\n          });\n        });\n      };\n      var fireNoAnnotation = function (name) {\n        withCallbacks(name, function (data) {\n          each$k(data.listeners, function (f) {\n            return f(false, name);\n          });\n        });\n      };\n      var onNodeChange = last(function () {\n        var callbackMap = changeCallbacks.get();\n        var annotations = sort(keys(callbackMap));\n        each$k(annotations, function (name) {\n          updateCallbacks(name, function (data) {\n            var prev = data.previous.get();\n            identify(editor, Optional.some(name)).fold(function () {\n              if (prev.isSome()) {\n                fireNoAnnotation(name);\n                data.previous.clear();\n              }\n            }, function (_a) {\n              var uid = _a.uid, name = _a.name, elements = _a.elements;\n              if (!is$1(prev, uid)) {\n                fireCallbacks(name, uid, elements);\n                data.previous.set(uid);\n              }\n            });\n            return {\n              previous: data.previous,\n              listeners: data.listeners\n            };\n          });\n        });\n      }, 30);\n      editor.on('remove', function () {\n        onNodeChange.cancel();\n      });\n      editor.on('NodeChange', function () {\n        onNodeChange.throttle();\n      });\n      var addListener = function (name, f) {\n        updateCallbacks(name, function (data) {\n          return {\n            previous: data.previous,\n            listeners: data.listeners.concat([f])\n          };\n        });\n      };\n      return { addListener: addListener };\n    };\n\n    var setup$m = function (editor, registry) {\n      var identifyParserNode = function (span) {\n        return Optional.from(span.attr(dataAnnotation())).bind(registry.lookup);\n      };\n      editor.on('init', function () {\n        editor.serializer.addNodeFilter('span', function (spans) {\n          each$k(spans, function (span) {\n            identifyParserNode(span).each(function (settings) {\n              if (settings.persistent === false) {\n                span.unwrap();\n              }\n            });\n          });\n        });\n      });\n    };\n\n    var create$7 = function () {\n      var annotations = {};\n      var register = function (name, settings) {\n        annotations[name] = {\n          name: name,\n          settings: settings\n        };\n      };\n      var lookup = function (name) {\n        return get$9(annotations, name).map(function (a) {\n          return a.settings;\n        });\n      };\n      return {\n        register: register,\n        lookup: lookup\n      };\n    };\n\n    var unique = 0;\n    var generate = function (prefix) {\n      var date = new Date();\n      var time = date.getTime();\n      var random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    var add = function (element, classes) {\n      each$k(classes, function (x) {\n        add$1(element, x);\n      });\n    };\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      return children(SugarElement.fromDom(div));\n    };\n    var fromDom$1 = function (nodes) {\n      return map$3(nodes, SugarElement.fromDom);\n    };\n\n    var get$3 = function (element) {\n      return element.dom.innerHTML;\n    };\n    var set = function (element, content) {\n      var owner = owner$1(element);\n      var docDom = owner.dom;\n      var fragment = SugarElement.fromDom(docDom.createDocumentFragment());\n      var contentElements = fromHtml(content, docDom);\n      append(fragment, contentElements);\n      empty(element);\n      append$1(element, fragment);\n    };\n\n    var clone$1 = function (original, isDeep) {\n      return SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    };\n    var shallow = function (original) {\n      return clone$1(original, false);\n    };\n    var deep$1 = function (original) {\n      return clone$1(original, true);\n    };\n\n    var TextWalker = function (startNode, rootNode, isBoundary) {\n      if (isBoundary === void 0) {\n        isBoundary = never;\n      }\n      var walker = new DomTreeWalker(startNode, rootNode);\n      var walk = function (direction) {\n        var next;\n        do {\n          next = walker[direction]();\n        } while (next && !isText$7(next) && !isBoundary(next));\n        return Optional.from(next).filter(isText$7);\n      };\n      return {\n        current: function () {\n          return Optional.from(walker.current()).filter(isText$7);\n        },\n        next: function () {\n          return walk('next');\n        },\n        prev: function () {\n          return walk('prev');\n        },\n        prev2: function () {\n          return walk('prev2');\n        }\n      };\n    };\n\n    var TextSeeker = function (dom, isBoundary) {\n      var isBlockBoundary = isBoundary ? isBoundary : function (node) {\n        return dom.isBlock(node) || isBr$5(node) || isContentEditableFalse$b(node);\n      };\n      var walk = function (node, offset, walker, process) {\n        if (isText$7(node)) {\n          var newOffset = process(node, offset, node.data);\n          if (newOffset !== -1) {\n            return Optional.some({\n              container: node,\n              offset: newOffset\n            });\n          }\n        }\n        return walker().bind(function (next) {\n          return walk(next.container, next.offset, walker, process);\n        });\n      };\n      var backwards = function (node, offset, process, root) {\n        var walker = TextWalker(node, root, isBlockBoundary);\n        return walk(node, offset, function () {\n          return walker.prev().map(function (prev) {\n            return {\n              container: prev,\n              offset: prev.length\n            };\n          });\n        }, process).getOrNull();\n      };\n      var forwards = function (node, offset, process, root) {\n        var walker = TextWalker(node, root, isBlockBoundary);\n        return walk(node, offset, function () {\n          return walker.next().map(function (next) {\n            return {\n              container: next,\n              offset: 0\n            };\n          });\n        }, process).getOrNull();\n      };\n      return {\n        backwards: backwards,\n        forwards: forwards\n      };\n    };\n\n    var round$2 = Math.round;\n    var clone = function (rect) {\n      if (!rect) {\n        return {\n          left: 0,\n          top: 0,\n          bottom: 0,\n          right: 0,\n          width: 0,\n          height: 0\n        };\n      }\n      return {\n        left: round$2(rect.left),\n        top: round$2(rect.top),\n        bottom: round$2(rect.bottom),\n        right: round$2(rect.right),\n        width: round$2(rect.width),\n        height: round$2(rect.height)\n      };\n    };\n    var collapse = function (rect, toStart) {\n      rect = clone(rect);\n      if (toStart) {\n        rect.right = rect.left;\n      } else {\n        rect.left = rect.left + rect.width;\n        rect.right = rect.left;\n      }\n      rect.width = 0;\n      return rect;\n    };\n    var isEqual = function (rect1, rect2) {\n      return rect1.left === rect2.left && rect1.top === rect2.top && rect1.bottom === rect2.bottom && rect1.right === rect2.right;\n    };\n    var isValidOverflow = function (overflowY, rect1, rect2) {\n      return overflowY >= 0 && overflowY <= Math.min(rect1.height, rect2.height) / 2;\n    };\n    var isAbove$1 = function (rect1, rect2) {\n      var halfHeight = Math.min(rect2.height / 2, rect1.height / 2);\n      if (rect1.bottom - halfHeight < rect2.top) {\n        return true;\n      }\n      if (rect1.top > rect2.bottom) {\n        return false;\n      }\n      return isValidOverflow(rect2.top - rect1.bottom, rect1, rect2);\n    };\n    var isBelow$1 = function (rect1, rect2) {\n      if (rect1.top > rect2.bottom) {\n        return true;\n      }\n      if (rect1.bottom < rect2.top) {\n        return false;\n      }\n      return isValidOverflow(rect2.bottom - rect1.top, rect1, rect2);\n    };\n    var containsXY = function (rect, clientX, clientY) {\n      return clientX >= rect.left && clientX <= rect.right && clientY >= rect.top && clientY <= rect.bottom;\n    };\n\n    var clamp$2 = function (value, min, max) {\n      return Math.min(Math.max(value, min), max);\n    };\n\n    var getSelectedNode = function (range) {\n      var startContainer = range.startContainer, startOffset = range.startOffset;\n      if (startContainer.hasChildNodes() && range.endOffset === startOffset + 1) {\n        return startContainer.childNodes[startOffset];\n      }\n      return null;\n    };\n    var getNode$1 = function (container, offset) {\n      if (isElement$5(container) && container.hasChildNodes()) {\n        var childNodes = container.childNodes;\n        var safeOffset = clamp$2(offset, 0, childNodes.length - 1);\n        return childNodes[safeOffset];\n      } else {\n        return container;\n      }\n    };\n    var getNodeUnsafe = function (container, offset) {\n      if (offset < 0 && isElement$5(container) && container.hasChildNodes()) {\n        return undefined;\n      } else {\n        return getNode$1(container, offset);\n      }\n    };\n\n    var extendingChars = new RegExp('[\\u0300-\\u036f\\u0483-\\u0487\\u0488-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u0610-\\u061a' + '\\u064b-\\u065f\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7-\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0' + '\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08e3-\\u0902\\u093a\\u093c' + '\\u0941-\\u0948\\u094d\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2-\\u09e3' + '\\u0a01-\\u0a02\\u0a3c\\u0a41-\\u0a42\\u0a47-\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70-\\u0a71\\u0a75\\u0a81-\\u0a82\\u0abc' + '\\u0ac1-\\u0ac5\\u0ac7-\\u0ac8\\u0acd\\u0ae2-\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57' + '\\u0b62-\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c00\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55-\\u0c56' + '\\u0c62-\\u0c63\\u0c81\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc-\\u0ccd\\u0cd5-\\u0cd6\\u0ce2-\\u0ce3\\u0d01\\u0d3e\\u0d41-\\u0d44' + '\\u0d4d\\u0d57\\u0d62-\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9' + '\\u0ebb-\\u0ebc\\u0ec8-\\u0ecd\\u0f18-\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97' + '\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039-\\u103a\\u103d-\\u103e\\u1058-\\u1059\\u105e-\\u1060\\u1071-\\u1074' + '\\u1082\\u1085-\\u1086\\u108d\\u109d\\u135d-\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17b4-\\u17b5' + '\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193b\\u1a17-\\u1a18' + '\\u1a1b\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1ab0-\\u1abd\\u1ABE\\u1b00-\\u1b03\\u1b34' + '\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80-\\u1b81\\u1ba2-\\u1ba5\\u1ba8-\\u1ba9\\u1bab-\\u1bad\\u1be6\\u1be8-\\u1be9' + '\\u1bed\\u1bef-\\u1bf1\\u1c2c-\\u1c33\\u1c36-\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1cf4\\u1cf8-\\u1cf9' + '\\u1dc0-\\u1df5\\u1dfc-\\u1dff\\u200c-\\u200d\\u20d0-\\u20dc\\u20DD-\\u20E0\\u20e1\\u20E2-\\u20E4\\u20e5-\\u20f0\\u2cef-\\u2cf1' + '\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302d\\u302e-\\u302f\\u3099-\\u309a\\ua66f\\uA670-\\uA672\\ua674-\\ua67d\\ua69e-\\ua69f\\ua6f0-\\ua6f1' + '\\ua802\\ua806\\ua80b\\ua825-\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc' + '\\ua9e5\\uaa29-\\uaa2e\\uaa31-\\uaa32\\uaa35-\\uaa36\\uaa43\\uaa4c\\uaa7c\\uaab0\\uaab2-\\uaab4\\uaab7-\\uaab8\\uaabe-\\uaabf\\uaac1' + '\\uaaec-\\uaaed\\uaaf6\\uabe5\\uabe8\\uabed\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\uff9e-\\uff9f]');\n    var isExtendingChar = function (ch) {\n      return typeof ch === 'string' && ch.charCodeAt(0) >= 768 && extendingChars.test(ch);\n    };\n\n    var or = function () {\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      return function (x) {\n        for (var i = 0; i < args.length; i++) {\n          if (args[i](x)) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    var and = function () {\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      return function (x) {\n        for (var i = 0; i < args.length; i++) {\n          if (!args[i](x)) {\n            return false;\n          }\n        }\n        return true;\n      };\n    };\n\n    var isElement$3 = isElement$5;\n    var isCaretCandidate$2 = isCaretCandidate$3;\n    var isBlock$1 = matchStyleValues('display', 'block table');\n    var isFloated = matchStyleValues('float', 'left right');\n    var isValidElementCaretCandidate = and(isElement$3, isCaretCandidate$2, not(isFloated));\n    var isNotPre = not(matchStyleValues('white-space', 'pre pre-line pre-wrap'));\n    var isText$4 = isText$7;\n    var isBr$2 = isBr$5;\n    var nodeIndex$1 = DOMUtils.nodeIndex;\n    var resolveIndex$1 = getNodeUnsafe;\n    var createRange$1 = function (doc) {\n      return 'createRange' in doc ? doc.createRange() : DOMUtils.DOM.createRng();\n    };\n    var isWhiteSpace$1 = function (chr) {\n      return chr && /[\\r\\n\\t ]/.test(chr);\n    };\n    var isRange = function (rng) {\n      return !!rng.setStart && !!rng.setEnd;\n    };\n    var isHiddenWhiteSpaceRange = function (range) {\n      var container = range.startContainer;\n      var offset = range.startOffset;\n      if (isWhiteSpace$1(range.toString()) && isNotPre(container.parentNode) && isText$7(container)) {\n        var text = container.data;\n        if (isWhiteSpace$1(text[offset - 1]) || isWhiteSpace$1(text[offset + 1])) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var getBrClientRect = function (brNode) {\n      var doc = brNode.ownerDocument;\n      var rng = createRange$1(doc);\n      var nbsp$1 = doc.createTextNode(nbsp);\n      var parentNode = brNode.parentNode;\n      parentNode.insertBefore(nbsp$1, brNode);\n      rng.setStart(nbsp$1, 0);\n      rng.setEnd(nbsp$1, 1);\n      var clientRect = clone(rng.getBoundingClientRect());\n      parentNode.removeChild(nbsp$1);\n      return clientRect;\n    };\n    var getBoundingClientRectWebKitText = function (rng) {\n      var sc = rng.startContainer;\n      var ec = rng.endContainer;\n      var so = rng.startOffset;\n      var eo = rng.endOffset;\n      if (sc === ec && isText$7(ec) && so === 0 && eo === 1) {\n        var newRng = rng.cloneRange();\n        newRng.setEndAfter(ec);\n        return getBoundingClientRect$1(newRng);\n      } else {\n        return null;\n      }\n    };\n    var isZeroRect = function (r) {\n      return r.left === 0 && r.right === 0 && r.top === 0 && r.bottom === 0;\n    };\n    var getBoundingClientRect$1 = function (item) {\n      var clientRect;\n      var clientRects = item.getClientRects();\n      if (clientRects.length > 0) {\n        clientRect = clone(clientRects[0]);\n      } else {\n        clientRect = clone(item.getBoundingClientRect());\n      }\n      if (!isRange(item) && isBr$2(item) && isZeroRect(clientRect)) {\n        return getBrClientRect(item);\n      }\n      if (isZeroRect(clientRect) && isRange(item)) {\n        return getBoundingClientRectWebKitText(item);\n      }\n      return clientRect;\n    };\n    var collapseAndInflateWidth = function (clientRect, toStart) {\n      var newClientRect = collapse(clientRect, toStart);\n      newClientRect.width = 1;\n      newClientRect.right = newClientRect.left + 1;\n      return newClientRect;\n    };\n    var getCaretPositionClientRects = function (caretPosition) {\n      var clientRects = [];\n      var addUniqueAndValidRect = function (clientRect) {\n        if (clientRect.height === 0) {\n          return;\n        }\n        if (clientRects.length > 0) {\n          if (isEqual(clientRect, clientRects[clientRects.length - 1])) {\n            return;\n          }\n        }\n        clientRects.push(clientRect);\n      };\n      var addCharacterOffset = function (container, offset) {\n        var range = createRange$1(container.ownerDocument);\n        if (offset < container.data.length) {\n          if (isExtendingChar(container.data[offset])) {\n            return clientRects;\n          }\n          if (isExtendingChar(container.data[offset - 1])) {\n            range.setStart(container, offset);\n            range.setEnd(container, offset + 1);\n            if (!isHiddenWhiteSpaceRange(range)) {\n              addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(range), false));\n              return clientRects;\n            }\n          }\n        }\n        if (offset > 0) {\n          range.setStart(container, offset - 1);\n          range.setEnd(container, offset);\n          if (!isHiddenWhiteSpaceRange(range)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(range), false));\n          }\n        }\n        if (offset < container.data.length) {\n          range.setStart(container, offset);\n          range.setEnd(container, offset + 1);\n          if (!isHiddenWhiteSpaceRange(range)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(range), true));\n          }\n        }\n      };\n      var container = caretPosition.container();\n      var offset = caretPosition.offset();\n      if (isText$4(container)) {\n        addCharacterOffset(container, offset);\n        return clientRects;\n      }\n      if (isElement$3(container)) {\n        if (caretPosition.isAtEnd()) {\n          var node = resolveIndex$1(container, offset);\n          if (isText$4(node)) {\n            addCharacterOffset(node, node.data.length);\n          }\n          if (isValidElementCaretCandidate(node) && !isBr$2(node)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(node), false));\n          }\n        } else {\n          var node = resolveIndex$1(container, offset);\n          if (isText$4(node)) {\n            addCharacterOffset(node, 0);\n          }\n          if (isValidElementCaretCandidate(node) && caretPosition.isAtEnd()) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(node), false));\n            return clientRects;\n          }\n          var beforeNode = resolveIndex$1(caretPosition.container(), caretPosition.offset() - 1);\n          if (isValidElementCaretCandidate(beforeNode) && !isBr$2(beforeNode)) {\n            if (isBlock$1(beforeNode) || isBlock$1(node) || !isValidElementCaretCandidate(node)) {\n              addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(beforeNode), false));\n            }\n          }\n          if (isValidElementCaretCandidate(node)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(node), true));\n          }\n        }\n      }\n      return clientRects;\n    };\n    var CaretPosition = function (container, offset, clientRects) {\n      var isAtStart = function () {\n        if (isText$4(container)) {\n          return offset === 0;\n        }\n        return offset === 0;\n      };\n      var isAtEnd = function () {\n        if (isText$4(container)) {\n          return offset >= container.data.length;\n        }\n        return offset >= container.childNodes.length;\n      };\n      var toRange = function () {\n        var range = createRange$1(container.ownerDocument);\n        range.setStart(container, offset);\n        range.setEnd(container, offset);\n        return range;\n      };\n      var getClientRects = function () {\n        if (!clientRects) {\n          clientRects = getCaretPositionClientRects(CaretPosition(container, offset));\n        }\n        return clientRects;\n      };\n      var isVisible = function () {\n        return getClientRects().length > 0;\n      };\n      var isEqual = function (caretPosition) {\n        return caretPosition && container === caretPosition.container() && offset === caretPosition.offset();\n      };\n      var getNode = function (before) {\n        return resolveIndex$1(container, before ? offset - 1 : offset);\n      };\n      return {\n        container: constant(container),\n        offset: constant(offset),\n        toRange: toRange,\n        getClientRects: getClientRects,\n        isVisible: isVisible,\n        isAtStart: isAtStart,\n        isAtEnd: isAtEnd,\n        isEqual: isEqual,\n        getNode: getNode\n      };\n    };\n    CaretPosition.fromRangeStart = function (range) {\n      return CaretPosition(range.startContainer, range.startOffset);\n    };\n    CaretPosition.fromRangeEnd = function (range) {\n      return CaretPosition(range.endContainer, range.endOffset);\n    };\n    CaretPosition.after = function (node) {\n      return CaretPosition(node.parentNode, nodeIndex$1(node) + 1);\n    };\n    CaretPosition.before = function (node) {\n      return CaretPosition(node.parentNode, nodeIndex$1(node));\n    };\n    CaretPosition.isAbove = function (pos1, pos2) {\n      return lift2(head(pos2.getClientRects()), last$2(pos1.getClientRects()), isAbove$1).getOr(false);\n    };\n    CaretPosition.isBelow = function (pos1, pos2) {\n      return lift2(last$2(pos2.getClientRects()), head(pos1.getClientRects()), isBelow$1).getOr(false);\n    };\n    CaretPosition.isAtStart = function (pos) {\n      return pos ? pos.isAtStart() : false;\n    };\n    CaretPosition.isAtEnd = function (pos) {\n      return pos ? pos.isAtEnd() : false;\n    };\n    CaretPosition.isTextPosition = function (pos) {\n      return pos ? isText$7(pos.container()) : false;\n    };\n    CaretPosition.isElementPosition = function (pos) {\n      return CaretPosition.isTextPosition(pos) === false;\n    };\n\n    var trimEmptyTextNode$1 = function (dom, node) {\n      if (isText$7(node) && node.data.length === 0) {\n        dom.remove(node);\n      }\n    };\n    var insertNode = function (dom, rng, node) {\n      rng.insertNode(node);\n      trimEmptyTextNode$1(dom, node.previousSibling);\n      trimEmptyTextNode$1(dom, node.nextSibling);\n    };\n    var insertFragment = function (dom, rng, frag) {\n      var firstChild = Optional.from(frag.firstChild);\n      var lastChild = Optional.from(frag.lastChild);\n      rng.insertNode(frag);\n      firstChild.each(function (child) {\n        return trimEmptyTextNode$1(dom, child.previousSibling);\n      });\n      lastChild.each(function (child) {\n        return trimEmptyTextNode$1(dom, child.nextSibling);\n      });\n    };\n    var rangeInsertNode = function (dom, rng, node) {\n      if (isDocumentFragment(node)) {\n        insertFragment(dom, rng, node);\n      } else {\n        insertNode(dom, rng, node);\n      }\n    };\n\n    var isText$3 = isText$7;\n    var isBogus = isBogus$2;\n    var nodeIndex = DOMUtils.nodeIndex;\n    var normalizedParent = function (node) {\n      var parentNode = node.parentNode;\n      if (isBogus(parentNode)) {\n        return normalizedParent(parentNode);\n      }\n      return parentNode;\n    };\n    var getChildNodes = function (node) {\n      if (!node) {\n        return [];\n      }\n      return reduce(node.childNodes, function (result, node) {\n        if (isBogus(node) && node.nodeName !== 'BR') {\n          result = result.concat(getChildNodes(node));\n        } else {\n          result.push(node);\n        }\n        return result;\n      }, []);\n    };\n    var normalizedTextOffset = function (node, offset) {\n      while (node = node.previousSibling) {\n        if (!isText$3(node)) {\n          break;\n        }\n        offset += node.data.length;\n      }\n      return offset;\n    };\n    var equal = function (a) {\n      return function (b) {\n        return a === b;\n      };\n    };\n    var normalizedNodeIndex = function (node) {\n      var nodes, index;\n      nodes = getChildNodes(normalizedParent(node));\n      index = findIndex$1(nodes, equal(node), node);\n      nodes = nodes.slice(0, index + 1);\n      var numTextFragments = reduce(nodes, function (result, node, i) {\n        if (isText$3(node) && isText$3(nodes[i - 1])) {\n          result++;\n        }\n        return result;\n      }, 0);\n      nodes = filter$2(nodes, matchNodeNames([node.nodeName]));\n      index = findIndex$1(nodes, equal(node), node);\n      return index - numTextFragments;\n    };\n    var createPathItem = function (node) {\n      var name;\n      if (isText$3(node)) {\n        name = 'text()';\n      } else {\n        name = node.nodeName.toLowerCase();\n      }\n      return name + '[' + normalizedNodeIndex(node) + ']';\n    };\n    var parentsUntil$1 = function (root, node, predicate) {\n      var parents = [];\n      for (node = node.parentNode; node !== root; node = node.parentNode) {\n        if (predicate && predicate(node)) {\n          break;\n        }\n        parents.push(node);\n      }\n      return parents;\n    };\n    var create$6 = function (root, caretPosition) {\n      var container, offset, path = [], outputOffset, childNodes, parents;\n      container = caretPosition.container();\n      offset = caretPosition.offset();\n      if (isText$3(container)) {\n        outputOffset = normalizedTextOffset(container, offset);\n      } else {\n        childNodes = container.childNodes;\n        if (offset >= childNodes.length) {\n          outputOffset = 'after';\n          offset = childNodes.length - 1;\n        } else {\n          outputOffset = 'before';\n        }\n        container = childNodes[offset];\n      }\n      path.push(createPathItem(container));\n      parents = parentsUntil$1(root, container);\n      parents = filter$2(parents, not(isBogus$2));\n      path = path.concat(map$1(parents, function (node) {\n        return createPathItem(node);\n      }));\n      return path.reverse().join('/') + ',' + outputOffset;\n    };\n    var resolvePathItem = function (node, name, index) {\n      var nodes = getChildNodes(node);\n      nodes = filter$2(nodes, function (node, index) {\n        return !isText$3(node) || !isText$3(nodes[index - 1]);\n      });\n      nodes = filter$2(nodes, matchNodeNames([name]));\n      return nodes[index];\n    };\n    var findTextPosition = function (container, offset) {\n      var node = container, targetOffset = 0, dataLen;\n      while (isText$3(node)) {\n        dataLen = node.data.length;\n        if (offset >= targetOffset && offset <= targetOffset + dataLen) {\n          container = node;\n          offset = offset - targetOffset;\n          break;\n        }\n        if (!isText$3(node.nextSibling)) {\n          container = node;\n          offset = dataLen;\n          break;\n        }\n        targetOffset += dataLen;\n        node = node.nextSibling;\n      }\n      if (isText$3(container) && offset > container.data.length) {\n        offset = container.data.length;\n      }\n      return CaretPosition(container, offset);\n    };\n    var resolve$2 = function (root, path) {\n      var offset;\n      if (!path) {\n        return null;\n      }\n      var parts = path.split(',');\n      var paths = parts[0].split('/');\n      offset = parts.length > 1 ? parts[1] : 'before';\n      var container = reduce(paths, function (result, value) {\n        var match = /([\\w\\-\\(\\)]+)\\[([0-9]+)\\]/.exec(value);\n        if (!match) {\n          return null;\n        }\n        if (match[1] === 'text()') {\n          match[1] = '#text';\n        }\n        return resolvePathItem(result, match[1], parseInt(match[2], 10));\n      }, root);\n      if (!container) {\n        return null;\n      }\n      if (!isText$3(container)) {\n        if (offset === 'after') {\n          offset = nodeIndex(container) + 1;\n        } else {\n          offset = nodeIndex(container);\n        }\n        return CaretPosition(container.parentNode, offset);\n      }\n      return findTextPosition(container, parseInt(offset, 10));\n    };\n\n    var isContentEditableFalse$9 = isContentEditableFalse$b;\n    var getNormalizedTextOffset = function (trim, container, offset) {\n      var node, trimmedOffset;\n      trimmedOffset = trim(container.data.slice(0, offset)).length;\n      for (node = container.previousSibling; node && isText$7(node); node = node.previousSibling) {\n        trimmedOffset += trim(node.data).length;\n      }\n      return trimmedOffset;\n    };\n    var getPoint = function (dom, trim, normalized, rng, start) {\n      var container = rng[start ? 'startContainer' : 'endContainer'];\n      var offset = rng[start ? 'startOffset' : 'endOffset'];\n      var point = [];\n      var childNodes, after = 0;\n      var root = dom.getRoot();\n      if (isText$7(container)) {\n        point.push(normalized ? getNormalizedTextOffset(trim, container, offset) : offset);\n      } else {\n        childNodes = container.childNodes;\n        if (offset >= childNodes.length && childNodes.length) {\n          after = 1;\n          offset = Math.max(0, childNodes.length - 1);\n        }\n        point.push(dom.nodeIndex(childNodes[offset], normalized) + after);\n      }\n      for (; container && container !== root; container = container.parentNode) {\n        point.push(dom.nodeIndex(container, normalized));\n      }\n      return point;\n    };\n    var getLocation = function (trim, selection, normalized, rng) {\n      var dom = selection.dom, bookmark = {};\n      bookmark.start = getPoint(dom, trim, normalized, rng, true);\n      if (!selection.isCollapsed()) {\n        bookmark.end = getPoint(dom, trim, normalized, rng, false);\n      }\n      if (isRangeInCaretContainerBlock(rng)) {\n        bookmark.isFakeCaret = true;\n      }\n      return bookmark;\n    };\n    var findIndex = function (dom, name, element) {\n      var count = 0;\n      Tools.each(dom.select(name), function (node) {\n        if (node.getAttribute('data-mce-bogus') === 'all') {\n          return;\n        }\n        if (node === element) {\n          return false;\n        }\n        count++;\n      });\n      return count;\n    };\n    var moveEndPoint$1 = function (rng, start) {\n      var container, offset, childNodes;\n      var prefix = start ? 'start' : 'end';\n      container = rng[prefix + 'Container'];\n      offset = rng[prefix + 'Offset'];\n      if (isElement$5(container) && container.nodeName === 'TR') {\n        childNodes = container.childNodes;\n        container = childNodes[Math.min(start ? offset : offset - 1, childNodes.length - 1)];\n        if (container) {\n          offset = start ? 0 : container.childNodes.length;\n          rng['set' + (start ? 'Start' : 'End')](container, offset);\n        }\n      }\n    };\n    var normalizeTableCellSelection = function (rng) {\n      moveEndPoint$1(rng, true);\n      moveEndPoint$1(rng, false);\n      return rng;\n    };\n    var findSibling = function (node, offset) {\n      var sibling;\n      if (isElement$5(node)) {\n        node = getNode$1(node, offset);\n        if (isContentEditableFalse$9(node)) {\n          return node;\n        }\n      }\n      if (isCaretContainer$2(node)) {\n        if (isText$7(node) && isCaretContainerBlock$1(node)) {\n          node = node.parentNode;\n        }\n        sibling = node.previousSibling;\n        if (isContentEditableFalse$9(sibling)) {\n          return sibling;\n        }\n        sibling = node.nextSibling;\n        if (isContentEditableFalse$9(sibling)) {\n          return sibling;\n        }\n      }\n    };\n    var findAdjacentContentEditableFalseElm = function (rng) {\n      return findSibling(rng.startContainer, rng.startOffset) || findSibling(rng.endContainer, rng.endOffset);\n    };\n    var getOffsetBookmark = function (trim, normalized, selection) {\n      var element = selection.getNode();\n      var name = element ? element.nodeName : null;\n      var rng = selection.getRng();\n      if (isContentEditableFalse$9(element) || name === 'IMG') {\n        return {\n          name: name,\n          index: findIndex(selection.dom, name, element)\n        };\n      }\n      var sibling = findAdjacentContentEditableFalseElm(rng);\n      if (sibling) {\n        name = sibling.tagName;\n        return {\n          name: name,\n          index: findIndex(selection.dom, name, sibling)\n        };\n      }\n      return getLocation(trim, selection, normalized, rng);\n    };\n    var getCaretBookmark = function (selection) {\n      var rng = selection.getRng();\n      return {\n        start: create$6(selection.dom.getRoot(), CaretPosition.fromRangeStart(rng)),\n        end: create$6(selection.dom.getRoot(), CaretPosition.fromRangeEnd(rng))\n      };\n    };\n    var getRangeBookmark = function (selection) {\n      return { rng: selection.getRng() };\n    };\n    var createBookmarkSpan = function (dom, id, filled) {\n      var args = {\n        'data-mce-type': 'bookmark',\n        id: id,\n        'style': 'overflow:hidden;line-height:0px'\n      };\n      return filled ? dom.create('span', args, '&#xFEFF;') : dom.create('span', args);\n    };\n    var getPersistentBookmark = function (selection, filled) {\n      var dom = selection.dom;\n      var rng = selection.getRng();\n      var id = dom.uniqueId();\n      var collapsed = selection.isCollapsed();\n      var element = selection.getNode();\n      var name = element.nodeName;\n      if (name === 'IMG') {\n        return {\n          name: name,\n          index: findIndex(dom, name, element)\n        };\n      }\n      var rng2 = normalizeTableCellSelection(rng.cloneRange());\n      if (!collapsed) {\n        rng2.collapse(false);\n        var endBookmarkNode = createBookmarkSpan(dom, id + '_end', filled);\n        rangeInsertNode(dom, rng2, endBookmarkNode);\n      }\n      rng = normalizeTableCellSelection(rng);\n      rng.collapse(true);\n      var startBookmarkNode = createBookmarkSpan(dom, id + '_start', filled);\n      rangeInsertNode(dom, rng, startBookmarkNode);\n      selection.moveToBookmark({\n        id: id,\n        keep: true\n      });\n      return { id: id };\n    };\n    var getBookmark$2 = function (selection, type, normalized) {\n      if (type === 2) {\n        return getOffsetBookmark(trim$2, normalized, selection);\n      } else if (type === 3) {\n        return getCaretBookmark(selection);\n      } else if (type) {\n        return getRangeBookmark(selection);\n      } else {\n        return getPersistentBookmark(selection, false);\n      }\n    };\n    var getUndoBookmark = curry(getOffsetBookmark, identity, true);\n\n    var DOM$9 = DOMUtils.DOM;\n    var defaultPreviewStyles = 'font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow';\n    var getBodySetting = function (editor, name, defaultValue) {\n      var value = editor.getParam(name, defaultValue);\n      if (value.indexOf('=') !== -1) {\n        var bodyObj = editor.getParam(name, '', 'hash');\n        return get$9(bodyObj, editor.id).getOr(defaultValue);\n      } else {\n        return value;\n      }\n    };\n    var getIframeAttrs = function (editor) {\n      return editor.getParam('iframe_attrs', {});\n    };\n    var getDocType = function (editor) {\n      return editor.getParam('doctype', '<!DOCTYPE html>');\n    };\n    var getDocumentBaseUrl = function (editor) {\n      return editor.getParam('document_base_url', '');\n    };\n    var getBodyId = function (editor) {\n      return getBodySetting(editor, 'body_id', 'tinymce');\n    };\n    var getBodyClass = function (editor) {\n      return getBodySetting(editor, 'body_class', '');\n    };\n    var getContentSecurityPolicy = function (editor) {\n      return editor.getParam('content_security_policy', '');\n    };\n    var shouldPutBrInPre$1 = function (editor) {\n      return editor.getParam('br_in_pre', true);\n    };\n    var getForcedRootBlock = function (editor) {\n      if (editor.getParam('force_p_newlines', false)) {\n        return 'p';\n      }\n      var block = editor.getParam('forced_root_block', 'p');\n      if (block === false) {\n        return '';\n      } else if (block === true) {\n        return 'p';\n      } else {\n        return block;\n      }\n    };\n    var getForcedRootBlockAttrs = function (editor) {\n      return editor.getParam('forced_root_block_attrs', {});\n    };\n    var getBrNewLineSelector = function (editor) {\n      return editor.getParam('br_newline_selector', '.mce-toc h2,figcaption,caption');\n    };\n    var getNoNewLineSelector = function (editor) {\n      return editor.getParam('no_newline_selector', '');\n    };\n    var shouldKeepStyles = function (editor) {\n      return editor.getParam('keep_styles', true);\n    };\n    var shouldEndContainerOnEmptyBlock = function (editor) {\n      return editor.getParam('end_container_on_empty_block', false);\n    };\n    var getFontStyleValues = function (editor) {\n      return Tools.explode(editor.getParam('font_size_style_values', 'xx-small,x-small,small,medium,large,x-large,xx-large'));\n    };\n    var getFontSizeClasses = function (editor) {\n      return Tools.explode(editor.getParam('font_size_classes', ''));\n    };\n    var getImagesDataImgFilter = function (editor) {\n      return editor.getParam('images_dataimg_filter', always, 'function');\n    };\n    var isAutomaticUploadsEnabled = function (editor) {\n      return editor.getParam('automatic_uploads', true, 'boolean');\n    };\n    var shouldReuseFileName = function (editor) {\n      return editor.getParam('images_reuse_filename', false, 'boolean');\n    };\n    var shouldReplaceBlobUris = function (editor) {\n      return editor.getParam('images_replace_blob_uris', true, 'boolean');\n    };\n    var getIconPackName = function (editor) {\n      return editor.getParam('icons', '', 'string');\n    };\n    var getIconsUrl = function (editor) {\n      return editor.getParam('icons_url', '', 'string');\n    };\n    var getImageUploadUrl = function (editor) {\n      return editor.getParam('images_upload_url', '', 'string');\n    };\n    var getImageUploadBasePath = function (editor) {\n      return editor.getParam('images_upload_base_path', '', 'string');\n    };\n    var getImagesUploadCredentials = function (editor) {\n      return editor.getParam('images_upload_credentials', false, 'boolean');\n    };\n    var getImagesUploadHandler = function (editor) {\n      return editor.getParam('images_upload_handler', null, 'function');\n    };\n    var shouldUseContentCssCors = function (editor) {\n      return editor.getParam('content_css_cors', false, 'boolean');\n    };\n    var getReferrerPolicy = function (editor) {\n      return editor.getParam('referrer_policy', '', 'string');\n    };\n    var getLanguageCode = function (editor) {\n      return editor.getParam('language', 'en', 'string');\n    };\n    var getLanguageUrl = function (editor) {\n      return editor.getParam('language_url', '', 'string');\n    };\n    var shouldIndentUseMargin = function (editor) {\n      return editor.getParam('indent_use_margin', false);\n    };\n    var getIndentation = function (editor) {\n      return editor.getParam('indentation', '40px', 'string');\n    };\n    var getContentCss = function (editor) {\n      var contentCss = editor.getParam('content_css');\n      if (isString$1(contentCss)) {\n        return map$3(contentCss.split(','), trim$4);\n      } else if (isArray$1(contentCss)) {\n        return contentCss;\n      } else if (contentCss === false || editor.inline) {\n        return [];\n      } else {\n        return ['default'];\n      }\n    };\n    var getFontCss = function (editor) {\n      var fontCss = editor.getParam('font_css', []);\n      return isArray$1(fontCss) ? fontCss : map$3(fontCss.split(','), trim$4);\n    };\n    var getDirectionality = function (editor) {\n      return editor.getParam('directionality', I18n.isRtl() ? 'rtl' : undefined);\n    };\n    var getInlineBoundarySelector = function (editor) {\n      return editor.getParam('inline_boundaries_selector', 'a[href],code,.mce-annotation', 'string');\n    };\n    var getObjectResizing = function (editor) {\n      var selector = editor.getParam('object_resizing');\n      if (selector === false || Env.iOS) {\n        return false;\n      } else {\n        return isString$1(selector) ? selector : 'table,img,figure.image,div,video,iframe';\n      }\n    };\n    var getResizeImgProportional = function (editor) {\n      return editor.getParam('resize_img_proportional', true, 'boolean');\n    };\n    var getPlaceholder = function (editor) {\n      return editor.getParam('placeholder', DOM$9.getAttrib(editor.getElement(), 'placeholder'), 'string');\n    };\n    var getEventRoot = function (editor) {\n      return editor.getParam('event_root');\n    };\n    var getServiceMessage = function (editor) {\n      return editor.getParam('service_message');\n    };\n    var getTheme = function (editor) {\n      return editor.getParam('theme');\n    };\n    var shouldValidate = function (editor) {\n      return editor.getParam('validate');\n    };\n    var isInlineBoundariesEnabled = function (editor) {\n      return editor.getParam('inline_boundaries') !== false;\n    };\n    var getFormats = function (editor) {\n      return editor.getParam('formats');\n    };\n    var getPreviewStyles = function (editor) {\n      var style = editor.getParam('preview_styles', defaultPreviewStyles);\n      if (isString$1(style)) {\n        return style;\n      } else {\n        return '';\n      }\n    };\n    var canFormatEmptyLines = function (editor) {\n      return editor.getParam('format_empty_lines', false, 'boolean');\n    };\n    var getCustomUiSelector = function (editor) {\n      return editor.getParam('custom_ui_selector', '', 'string');\n    };\n    var getThemeUrl = function (editor) {\n      return editor.getParam('theme_url');\n    };\n    var isInline = function (editor) {\n      return editor.getParam('inline');\n    };\n    var hasHiddenInput = function (editor) {\n      return editor.getParam('hidden_input');\n    };\n    var shouldPatchSubmit = function (editor) {\n      return editor.getParam('submit_patch');\n    };\n    var isEncodingXml = function (editor) {\n      return editor.getParam('encoding') === 'xml';\n    };\n    var shouldAddFormSubmitTrigger = function (editor) {\n      return editor.getParam('add_form_submit_trigger');\n    };\n    var shouldAddUnloadTrigger = function (editor) {\n      return editor.getParam('add_unload_trigger');\n    };\n    var hasForcedRootBlock = function (editor) {\n      return getForcedRootBlock(editor) !== '';\n    };\n    var getCustomUndoRedoLevels = function (editor) {\n      return editor.getParam('custom_undo_redo_levels', 0, 'number');\n    };\n    var shouldDisableNodeChange = function (editor) {\n      return editor.getParam('disable_nodechange');\n    };\n    var isReadOnly$1 = function (editor) {\n      return editor.getParam('readonly');\n    };\n    var hasContentCssCors = function (editor) {\n      return editor.getParam('content_css_cors');\n    };\n    var getPlugins = function (editor) {\n      return editor.getParam('plugins', '', 'string');\n    };\n    var getExternalPlugins$1 = function (editor) {\n      return editor.getParam('external_plugins');\n    };\n    var shouldBlockUnsupportedDrop = function (editor) {\n      return editor.getParam('block_unsupported_drop', true, 'boolean');\n    };\n    var isVisualAidsEnabled = function (editor) {\n      return editor.getParam('visual', true, 'boolean');\n    };\n    var getVisualAidsTableClass = function (editor) {\n      return editor.getParam('visual_table_class', 'mce-item-table', 'string');\n    };\n    var getVisualAidsAnchorClass = function (editor) {\n      return editor.getParam('visual_anchor_class', 'mce-item-anchor', 'string');\n    };\n    var getIframeAriaText = function (editor) {\n      return editor.getParam('iframe_aria_text', 'Rich Text Area. Press ALT-0 for help.', 'string');\n    };\n\n    var isElement$2 = isElement$5;\n    var isText$2 = isText$7;\n    var removeNode$1 = function (node) {\n      var parentNode = node.parentNode;\n      if (parentNode) {\n        parentNode.removeChild(node);\n      }\n    };\n    var trimCount = function (text) {\n      var trimmedText = trim$2(text);\n      return {\n        count: text.length - trimmedText.length,\n        text: trimmedText\n      };\n    };\n    var deleteZwspChars = function (caretContainer) {\n      var idx;\n      while ((idx = caretContainer.data.lastIndexOf(ZWSP$1)) !== -1) {\n        caretContainer.deleteData(idx, 1);\n      }\n    };\n    var removeUnchanged = function (caretContainer, pos) {\n      remove$2(caretContainer);\n      return pos;\n    };\n    var removeTextAndReposition = function (caretContainer, pos) {\n      var before = trimCount(caretContainer.data.substr(0, pos.offset()));\n      var after = trimCount(caretContainer.data.substr(pos.offset()));\n      var text = before.text + after.text;\n      if (text.length > 0) {\n        deleteZwspChars(caretContainer);\n        return CaretPosition(caretContainer, pos.offset() - before.count);\n      } else {\n        return pos;\n      }\n    };\n    var removeElementAndReposition = function (caretContainer, pos) {\n      var parentNode = pos.container();\n      var newPosition = indexOf$2(from(parentNode.childNodes), caretContainer).map(function (index) {\n        return index < pos.offset() ? CaretPosition(parentNode, pos.offset() - 1) : pos;\n      }).getOr(pos);\n      remove$2(caretContainer);\n      return newPosition;\n    };\n    var removeTextCaretContainer = function (caretContainer, pos) {\n      return isText$2(caretContainer) && pos.container() === caretContainer ? removeTextAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);\n    };\n    var removeElementCaretContainer = function (caretContainer, pos) {\n      return pos.container() === caretContainer.parentNode ? removeElementAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);\n    };\n    var removeAndReposition = function (container, pos) {\n      return CaretPosition.isTextPosition(pos) ? removeTextCaretContainer(container, pos) : removeElementCaretContainer(container, pos);\n    };\n    var remove$2 = function (caretContainerNode) {\n      if (isElement$2(caretContainerNode) && isCaretContainer$2(caretContainerNode)) {\n        if (hasContent(caretContainerNode)) {\n          caretContainerNode.removeAttribute('data-mce-caret');\n        } else {\n          removeNode$1(caretContainerNode);\n        }\n      }\n      if (isText$2(caretContainerNode)) {\n        deleteZwspChars(caretContainerNode);\n        if (caretContainerNode.data.length === 0) {\n          removeNode$1(caretContainerNode);\n        }\n      }\n    };\n\n    var browser$2 = detect().browser;\n    var isContentEditableFalse$8 = isContentEditableFalse$b;\n    var isMedia$1 = isMedia$2;\n    var isTableCell$3 = isTableCell$5;\n    var inlineFakeCaretSelector = '*[contentEditable=false],video,audio,embed,object';\n    var getAbsoluteClientRect = function (root, element, before) {\n      var clientRect = collapse(element.getBoundingClientRect(), before);\n      var scrollX;\n      var scrollY;\n      if (root.tagName === 'BODY') {\n        var docElm = root.ownerDocument.documentElement;\n        scrollX = root.scrollLeft || docElm.scrollLeft;\n        scrollY = root.scrollTop || docElm.scrollTop;\n      } else {\n        var rootRect = root.getBoundingClientRect();\n        scrollX = root.scrollLeft - rootRect.left;\n        scrollY = root.scrollTop - rootRect.top;\n      }\n      clientRect.left += scrollX;\n      clientRect.right += scrollX;\n      clientRect.top += scrollY;\n      clientRect.bottom += scrollY;\n      clientRect.width = 1;\n      var margin = element.offsetWidth - element.clientWidth;\n      if (margin > 0) {\n        if (before) {\n          margin *= -1;\n        }\n        clientRect.left += margin;\n        clientRect.right += margin;\n      }\n      return clientRect;\n    };\n    var trimInlineCaretContainers = function (root) {\n      var fakeCaretTargetNodes = descendants(SugarElement.fromDom(root), inlineFakeCaretSelector);\n      for (var i = 0; i < fakeCaretTargetNodes.length; i++) {\n        var node = fakeCaretTargetNodes[i].dom;\n        var sibling = node.previousSibling;\n        if (endsWithCaretContainer$1(sibling)) {\n          var data = sibling.data;\n          if (data.length === 1) {\n            sibling.parentNode.removeChild(sibling);\n          } else {\n            sibling.deleteData(data.length - 1, 1);\n          }\n        }\n        sibling = node.nextSibling;\n        if (startsWithCaretContainer$1(sibling)) {\n          var data = sibling.data;\n          if (data.length === 1) {\n            sibling.parentNode.removeChild(sibling);\n          } else {\n            sibling.deleteData(0, 1);\n          }\n        }\n      }\n    };\n    var FakeCaret = function (editor, root, isBlock, hasFocus) {\n      var lastVisualCaret = value();\n      var cursorInterval;\n      var caretContainerNode;\n      var rootBlock = getForcedRootBlock(editor);\n      var caretBlock = rootBlock.length > 0 ? rootBlock : 'p';\n      var show = function (before, element) {\n        var rng;\n        hide();\n        if (isTableCell$3(element)) {\n          return null;\n        }\n        if (isBlock(element)) {\n          caretContainerNode = insertBlock$1(caretBlock, element, before);\n          var clientRect = getAbsoluteClientRect(root, element, before);\n          DomQuery(caretContainerNode).css('top', clientRect.top);\n          var caret = DomQuery('<div class=\"mce-visual-caret\" data-mce-bogus=\"all\"></div>').css(__assign({}, clientRect)).appendTo(root)[0];\n          lastVisualCaret.set({\n            caret: caret,\n            element: element,\n            before: before\n          });\n          if (before) {\n            DomQuery(caret).addClass('mce-visual-caret-before');\n          }\n          startBlink();\n          rng = element.ownerDocument.createRange();\n          rng.setStart(caretContainerNode, 0);\n          rng.setEnd(caretContainerNode, 0);\n        } else {\n          caretContainerNode = insertInline$1(element, before);\n          rng = element.ownerDocument.createRange();\n          if (isInlineFakeCaretTarget(caretContainerNode.nextSibling)) {\n            rng.setStart(caretContainerNode, 0);\n            rng.setEnd(caretContainerNode, 0);\n          } else {\n            rng.setStart(caretContainerNode, 1);\n            rng.setEnd(caretContainerNode, 1);\n          }\n          return rng;\n        }\n        return rng;\n      };\n      var hide = function () {\n        trimInlineCaretContainers(root);\n        if (caretContainerNode) {\n          remove$2(caretContainerNode);\n          caretContainerNode = null;\n        }\n        lastVisualCaret.on(function (caretState) {\n          DomQuery(caretState.caret).remove();\n          lastVisualCaret.clear();\n        });\n        if (cursorInterval) {\n          Delay.clearInterval(cursorInterval);\n          cursorInterval = undefined;\n        }\n      };\n      var startBlink = function () {\n        cursorInterval = Delay.setInterval(function () {\n          if (hasFocus()) {\n            DomQuery('div.mce-visual-caret', root).toggleClass('mce-visual-caret-hidden');\n          } else {\n            DomQuery('div.mce-visual-caret', root).addClass('mce-visual-caret-hidden');\n          }\n        }, 500);\n      };\n      var reposition = function () {\n        lastVisualCaret.on(function (caretState) {\n          var clientRect = getAbsoluteClientRect(root, caretState.element, caretState.before);\n          DomQuery(caretState.caret).css(__assign({}, clientRect));\n        });\n      };\n      var destroy = function () {\n        return Delay.clearInterval(cursorInterval);\n      };\n      var getCss = function () {\n        return '.mce-visual-caret {' + 'position: absolute;' + 'background-color: black;' + 'background-color: currentcolor;' + '}' + '.mce-visual-caret-hidden {' + 'display: none;' + '}' + '*[data-mce-caret] {' + 'position: absolute;' + 'left: -1000px;' + 'right: auto;' + 'top: 0;' + 'margin: 0;' + 'padding: 0;' + '}';\n      };\n      return {\n        show: show,\n        hide: hide,\n        getCss: getCss,\n        reposition: reposition,\n        destroy: destroy\n      };\n    };\n    var isFakeCaretTableBrowser = function () {\n      return browser$2.isIE() || browser$2.isEdge() || browser$2.isFirefox();\n    };\n    var isInlineFakeCaretTarget = function (node) {\n      return isContentEditableFalse$8(node) || isMedia$1(node);\n    };\n    var isFakeCaretTarget = function (node) {\n      return isInlineFakeCaretTarget(node) || isTable$3(node) && isFakeCaretTableBrowser();\n    };\n\n    var isContentEditableFalse$7 = isContentEditableFalse$b;\n    var isMedia = isMedia$2;\n    var isBlockLike = matchStyleValues('display', 'block table table-cell table-caption list-item');\n    var isCaretContainer = isCaretContainer$2;\n    var isCaretContainerBlock = isCaretContainerBlock$1;\n    var isElement$1 = isElement$5;\n    var isCaretCandidate$1 = isCaretCandidate$3;\n    var isForwards = function (direction) {\n      return direction > 0;\n    };\n    var isBackwards = function (direction) {\n      return direction < 0;\n    };\n    var skipCaretContainers = function (walk, shallow) {\n      var node;\n      while (node = walk(shallow)) {\n        if (!isCaretContainerBlock(node)) {\n          return node;\n        }\n      }\n      return null;\n    };\n    var findNode$1 = function (node, direction, predicateFn, rootNode, shallow) {\n      var walker = new DomTreeWalker(node, rootNode);\n      var isCefOrCaretContainer = isContentEditableFalse$7(node) || isCaretContainerBlock(node);\n      if (isBackwards(direction)) {\n        if (isCefOrCaretContainer) {\n          node = skipCaretContainers(walker.prev.bind(walker), true);\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n        while (node = skipCaretContainers(walker.prev.bind(walker), shallow)) {\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n      }\n      if (isForwards(direction)) {\n        if (isCefOrCaretContainer) {\n          node = skipCaretContainers(walker.next.bind(walker), true);\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n        while (node = skipCaretContainers(walker.next.bind(walker), shallow)) {\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n      }\n      return null;\n    };\n    var getParentBlock$2 = function (node, rootNode) {\n      while (node && node !== rootNode) {\n        if (isBlockLike(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var isInSameBlock = function (caretPosition1, caretPosition2, rootNode) {\n      return getParentBlock$2(caretPosition1.container(), rootNode) === getParentBlock$2(caretPosition2.container(), rootNode);\n    };\n    var getChildNodeAtRelativeOffset = function (relativeOffset, caretPosition) {\n      if (!caretPosition) {\n        return null;\n      }\n      var container = caretPosition.container();\n      var offset = caretPosition.offset();\n      if (!isElement$1(container)) {\n        return null;\n      }\n      return container.childNodes[offset + relativeOffset];\n    };\n    var beforeAfter = function (before, node) {\n      var range = node.ownerDocument.createRange();\n      if (before) {\n        range.setStartBefore(node);\n        range.setEndBefore(node);\n      } else {\n        range.setStartAfter(node);\n        range.setEndAfter(node);\n      }\n      return range;\n    };\n    var isNodesInSameBlock = function (root, node1, node2) {\n      return getParentBlock$2(node1, root) === getParentBlock$2(node2, root);\n    };\n    var lean = function (left, root, node) {\n      var siblingName = left ? 'previousSibling' : 'nextSibling';\n      while (node && node !== root) {\n        var sibling = node[siblingName];\n        if (isCaretContainer(sibling)) {\n          sibling = sibling[siblingName];\n        }\n        if (isContentEditableFalse$7(sibling) || isMedia(sibling)) {\n          if (isNodesInSameBlock(root, sibling, node)) {\n            return sibling;\n          }\n          break;\n        }\n        if (isCaretCandidate$1(sibling)) {\n          break;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var before$2 = curry(beforeAfter, true);\n    var after$2 = curry(beforeAfter, false);\n    var normalizeRange = function (direction, root, range) {\n      var node;\n      var leanLeft = curry(lean, true, root);\n      var leanRight = curry(lean, false, root);\n      var container = range.startContainer;\n      var offset = range.startOffset;\n      if (isCaretContainerBlock$1(container)) {\n        if (!isElement$1(container)) {\n          container = container.parentNode;\n        }\n        var location_1 = container.getAttribute('data-mce-caret');\n        if (location_1 === 'before') {\n          node = container.nextSibling;\n          if (isFakeCaretTarget(node)) {\n            return before$2(node);\n          }\n        }\n        if (location_1 === 'after') {\n          node = container.previousSibling;\n          if (isFakeCaretTarget(node)) {\n            return after$2(node);\n          }\n        }\n      }\n      if (!range.collapsed) {\n        return range;\n      }\n      if (isText$7(container)) {\n        if (isCaretContainer(container)) {\n          if (direction === 1) {\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n            node = leanLeft(container);\n            if (node) {\n              return after$2(node);\n            }\n          }\n          if (direction === -1) {\n            node = leanLeft(container);\n            if (node) {\n              return after$2(node);\n            }\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n          }\n          return range;\n        }\n        if (endsWithCaretContainer$1(container) && offset >= container.data.length - 1) {\n          if (direction === 1) {\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n          }\n          return range;\n        }\n        if (startsWithCaretContainer$1(container) && offset <= 1) {\n          if (direction === -1) {\n            node = leanLeft(container);\n            if (node) {\n              return after$2(node);\n            }\n          }\n          return range;\n        }\n        if (offset === container.data.length) {\n          node = leanRight(container);\n          if (node) {\n            return before$2(node);\n          }\n          return range;\n        }\n        if (offset === 0) {\n          node = leanLeft(container);\n          if (node) {\n            return after$2(node);\n          }\n          return range;\n        }\n      }\n      return range;\n    };\n    var getRelativeCefElm = function (forward, caretPosition) {\n      return Optional.from(getChildNodeAtRelativeOffset(forward ? 0 : -1, caretPosition)).filter(isContentEditableFalse$7);\n    };\n    var getNormalizedRangeEndPoint = function (direction, root, range) {\n      var normalizedRange = normalizeRange(direction, root, range);\n      if (direction === -1) {\n        return CaretPosition.fromRangeStart(normalizedRange);\n      }\n      return CaretPosition.fromRangeEnd(normalizedRange);\n    };\n    var getElementFromPosition = function (pos) {\n      return Optional.from(pos.getNode()).map(SugarElement.fromDom);\n    };\n    var getElementFromPrevPosition = function (pos) {\n      return Optional.from(pos.getNode(true)).map(SugarElement.fromDom);\n    };\n    var getVisualCaretPosition = function (walkFn, caretPosition) {\n      while (caretPosition = walkFn(caretPosition)) {\n        if (caretPosition.isVisible()) {\n          return caretPosition;\n        }\n      }\n      return caretPosition;\n    };\n    var isMoveInsideSameBlock = function (from, to) {\n      var inSameBlock = isInSameBlock(from, to);\n      if (!inSameBlock && isBr$5(from.getNode())) {\n        return true;\n      }\n      return inSameBlock;\n    };\n\n    var HDirection;\n    (function (HDirection) {\n      HDirection[HDirection['Backwards'] = -1] = 'Backwards';\n      HDirection[HDirection['Forwards'] = 1] = 'Forwards';\n    }(HDirection || (HDirection = {})));\n    var isContentEditableFalse$6 = isContentEditableFalse$b;\n    var isText$1 = isText$7;\n    var isElement = isElement$5;\n    var isBr$1 = isBr$5;\n    var isCaretCandidate = isCaretCandidate$3;\n    var isAtomic = isAtomic$1;\n    var isEditableCaretCandidate = isEditableCaretCandidate$1;\n    var getParents$3 = function (node, root) {\n      var parents = [];\n      while (node && node !== root) {\n        parents.push(node);\n        node = node.parentNode;\n      }\n      return parents;\n    };\n    var nodeAtIndex = function (container, offset) {\n      if (container.hasChildNodes() && offset < container.childNodes.length) {\n        return container.childNodes[offset];\n      }\n      return null;\n    };\n    var getCaretCandidatePosition = function (direction, node) {\n      if (isForwards(direction)) {\n        if (isCaretCandidate(node.previousSibling) && !isText$1(node.previousSibling)) {\n          return CaretPosition.before(node);\n        }\n        if (isText$1(node)) {\n          return CaretPosition(node, 0);\n        }\n      }\n      if (isBackwards(direction)) {\n        if (isCaretCandidate(node.nextSibling) && !isText$1(node.nextSibling)) {\n          return CaretPosition.after(node);\n        }\n        if (isText$1(node)) {\n          return CaretPosition(node, node.data.length);\n        }\n      }\n      if (isBackwards(direction)) {\n        if (isBr$1(node)) {\n          return CaretPosition.before(node);\n        }\n        return CaretPosition.after(node);\n      }\n      return CaretPosition.before(node);\n    };\n    var moveForwardFromBr = function (root, nextNode) {\n      var nextSibling = nextNode.nextSibling;\n      if (nextSibling && isCaretCandidate(nextSibling)) {\n        if (isText$1(nextSibling)) {\n          return CaretPosition(nextSibling, 0);\n        } else {\n          return CaretPosition.before(nextSibling);\n        }\n      } else {\n        return findCaretPosition$1(HDirection.Forwards, CaretPosition.after(nextNode), root);\n      }\n    };\n    var findCaretPosition$1 = function (direction, startPos, root) {\n      var node;\n      var nextNode;\n      var innerNode;\n      var caretPosition;\n      if (!isElement(root) || !startPos) {\n        return null;\n      }\n      if (startPos.isEqual(CaretPosition.after(root)) && root.lastChild) {\n        caretPosition = CaretPosition.after(root.lastChild);\n        if (isBackwards(direction) && isCaretCandidate(root.lastChild) && isElement(root.lastChild)) {\n          return isBr$1(root.lastChild) ? CaretPosition.before(root.lastChild) : caretPosition;\n        }\n      } else {\n        caretPosition = startPos;\n      }\n      var container = caretPosition.container();\n      var offset = caretPosition.offset();\n      if (isText$1(container)) {\n        if (isBackwards(direction) && offset > 0) {\n          return CaretPosition(container, --offset);\n        }\n        if (isForwards(direction) && offset < container.length) {\n          return CaretPosition(container, ++offset);\n        }\n        node = container;\n      } else {\n        if (isBackwards(direction) && offset > 0) {\n          nextNode = nodeAtIndex(container, offset - 1);\n          if (isCaretCandidate(nextNode)) {\n            if (!isAtomic(nextNode)) {\n              innerNode = findNode$1(nextNode, direction, isEditableCaretCandidate, nextNode);\n              if (innerNode) {\n                if (isText$1(innerNode)) {\n                  return CaretPosition(innerNode, innerNode.data.length);\n                }\n                return CaretPosition.after(innerNode);\n              }\n            }\n            if (isText$1(nextNode)) {\n              return CaretPosition(nextNode, nextNode.data.length);\n            }\n            return CaretPosition.before(nextNode);\n          }\n        }\n        if (isForwards(direction) && offset < container.childNodes.length) {\n          nextNode = nodeAtIndex(container, offset);\n          if (isCaretCandidate(nextNode)) {\n            if (isBr$1(nextNode)) {\n              return moveForwardFromBr(root, nextNode);\n            }\n            if (!isAtomic(nextNode)) {\n              innerNode = findNode$1(nextNode, direction, isEditableCaretCandidate, nextNode);\n              if (innerNode) {\n                if (isText$1(innerNode)) {\n                  return CaretPosition(innerNode, 0);\n                }\n                return CaretPosition.before(innerNode);\n              }\n            }\n            if (isText$1(nextNode)) {\n              return CaretPosition(nextNode, 0);\n            }\n            return CaretPosition.after(nextNode);\n          }\n        }\n        node = nextNode ? nextNode : caretPosition.getNode();\n      }\n      if (isForwards(direction) && caretPosition.isAtEnd() || isBackwards(direction) && caretPosition.isAtStart()) {\n        node = findNode$1(node, direction, always, root, true);\n        if (isEditableCaretCandidate(node, root)) {\n          return getCaretCandidatePosition(direction, node);\n        }\n      }\n      nextNode = findNode$1(node, direction, isEditableCaretCandidate, root);\n      var rootContentEditableFalseElm = last$1(filter$4(getParents$3(container, root), isContentEditableFalse$6));\n      if (rootContentEditableFalseElm && (!nextNode || !rootContentEditableFalseElm.contains(nextNode))) {\n        if (isForwards(direction)) {\n          caretPosition = CaretPosition.after(rootContentEditableFalseElm);\n        } else {\n          caretPosition = CaretPosition.before(rootContentEditableFalseElm);\n        }\n        return caretPosition;\n      }\n      if (nextNode) {\n        return getCaretCandidatePosition(direction, nextNode);\n      }\n      return null;\n    };\n    var CaretWalker = function (root) {\n      return {\n        next: function (caretPosition) {\n          return findCaretPosition$1(HDirection.Forwards, caretPosition, root);\n        },\n        prev: function (caretPosition) {\n          return findCaretPosition$1(HDirection.Backwards, caretPosition, root);\n        }\n      };\n    };\n\n    var walkToPositionIn = function (forward, root, start) {\n      var position = forward ? CaretPosition.before(start) : CaretPosition.after(start);\n      return fromPosition(forward, root, position);\n    };\n    var afterElement = function (node) {\n      return isBr$5(node) ? CaretPosition.before(node) : CaretPosition.after(node);\n    };\n    var isBeforeOrStart = function (position) {\n      if (CaretPosition.isTextPosition(position)) {\n        return position.offset() === 0;\n      } else {\n        return isCaretCandidate$3(position.getNode());\n      }\n    };\n    var isAfterOrEnd = function (position) {\n      if (CaretPosition.isTextPosition(position)) {\n        var container = position.container();\n        return position.offset() === container.data.length;\n      } else {\n        return isCaretCandidate$3(position.getNode(true));\n      }\n    };\n    var isBeforeAfterSameElement = function (from, to) {\n      return !CaretPosition.isTextPosition(from) && !CaretPosition.isTextPosition(to) && from.getNode() === to.getNode(true);\n    };\n    var isAtBr = function (position) {\n      return !CaretPosition.isTextPosition(position) && isBr$5(position.getNode());\n    };\n    var shouldSkipPosition = function (forward, from, to) {\n      if (forward) {\n        return !isBeforeAfterSameElement(from, to) && !isAtBr(from) && isAfterOrEnd(from) && isBeforeOrStart(to);\n      } else {\n        return !isBeforeAfterSameElement(to, from) && isBeforeOrStart(from) && isAfterOrEnd(to);\n      }\n    };\n    var fromPosition = function (forward, root, pos) {\n      var walker = CaretWalker(root);\n      return Optional.from(forward ? walker.next(pos) : walker.prev(pos));\n    };\n    var navigate = function (forward, root, from) {\n      return fromPosition(forward, root, from).bind(function (to) {\n        if (isInSameBlock(from, to, root) && shouldSkipPosition(forward, from, to)) {\n          return fromPosition(forward, root, to);\n        } else {\n          return Optional.some(to);\n        }\n      });\n    };\n    var navigateIgnore = function (forward, root, from, ignoreFilter) {\n      return navigate(forward, root, from).bind(function (pos) {\n        return ignoreFilter(pos) ? navigateIgnore(forward, root, pos, ignoreFilter) : Optional.some(pos);\n      });\n    };\n    var positionIn = function (forward, element) {\n      var startNode = forward ? element.firstChild : element.lastChild;\n      if (isText$7(startNode)) {\n        return Optional.some(CaretPosition(startNode, forward ? 0 : startNode.data.length));\n      } else if (startNode) {\n        if (isCaretCandidate$3(startNode)) {\n          return Optional.some(forward ? CaretPosition.before(startNode) : afterElement(startNode));\n        } else {\n          return walkToPositionIn(forward, element, startNode);\n        }\n      } else {\n        return Optional.none();\n      }\n    };\n    var nextPosition = curry(fromPosition, true);\n    var prevPosition = curry(fromPosition, false);\n    var firstPositionIn = curry(positionIn, true);\n    var lastPositionIn = curry(positionIn, false);\n\n    var CARET_ID$1 = '_mce_caret';\n    var isCaretNode = function (node) {\n      return isElement$5(node) && node.id === CARET_ID$1;\n    };\n    var getParentCaretContainer = function (body, node) {\n      while (node && node !== body) {\n        if (node.id === CARET_ID$1) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n\n    var isStringPathBookmark = function (bookmark) {\n      return isString$1(bookmark.start);\n    };\n    var isRangeBookmark = function (bookmark) {\n      return has$2(bookmark, 'rng');\n    };\n    var isIdBookmark = function (bookmark) {\n      return has$2(bookmark, 'id');\n    };\n    var isIndexBookmark = function (bookmark) {\n      return has$2(bookmark, 'name');\n    };\n    var isPathBookmark = function (bookmark) {\n      return Tools.isArray(bookmark.start);\n    };\n\n    var addBogus = function (dom, node) {\n      if (isElement$5(node) && dom.isBlock(node) && !node.innerHTML && !Env.ie) {\n        node.innerHTML = '<br data-mce-bogus=\"1\" />';\n      }\n      return node;\n    };\n    var resolveCaretPositionBookmark = function (dom, bookmark) {\n      var pos;\n      var rng = dom.createRng();\n      pos = resolve$2(dom.getRoot(), bookmark.start);\n      rng.setStart(pos.container(), pos.offset());\n      pos = resolve$2(dom.getRoot(), bookmark.end);\n      rng.setEnd(pos.container(), pos.offset());\n      return rng;\n    };\n    var insertZwsp = function (node, rng) {\n      var textNode = node.ownerDocument.createTextNode(ZWSP$1);\n      node.appendChild(textNode);\n      rng.setStart(textNode, 0);\n      rng.setEnd(textNode, 0);\n    };\n    var isEmpty$1 = function (node) {\n      return node.hasChildNodes() === false;\n    };\n    var tryFindRangePosition = function (node, rng) {\n      return lastPositionIn(node).fold(never, function (pos) {\n        rng.setStart(pos.container(), pos.offset());\n        rng.setEnd(pos.container(), pos.offset());\n        return true;\n      });\n    };\n    var padEmptyCaretContainer = function (root, node, rng) {\n      if (isEmpty$1(node) && getParentCaretContainer(root, node)) {\n        insertZwsp(node, rng);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var setEndPoint = function (dom, start, bookmark, rng) {\n      var point = bookmark[start ? 'start' : 'end'];\n      var i, node, offset, children;\n      var root = dom.getRoot();\n      if (point) {\n        offset = point[0];\n        for (node = root, i = point.length - 1; i >= 1; i--) {\n          children = node.childNodes;\n          if (padEmptyCaretContainer(root, node, rng)) {\n            return true;\n          }\n          if (point[i] > children.length - 1) {\n            if (padEmptyCaretContainer(root, node, rng)) {\n              return true;\n            }\n            return tryFindRangePosition(node, rng);\n          }\n          node = children[point[i]];\n        }\n        if (node.nodeType === 3) {\n          offset = Math.min(point[0], node.nodeValue.length);\n        }\n        if (node.nodeType === 1) {\n          offset = Math.min(point[0], node.childNodes.length);\n        }\n        if (start) {\n          rng.setStart(node, offset);\n        } else {\n          rng.setEnd(node, offset);\n        }\n      }\n      return true;\n    };\n    var isValidTextNode = function (node) {\n      return isText$7(node) && node.data.length > 0;\n    };\n    var restoreEndPoint = function (dom, suffix, bookmark) {\n      var marker = dom.get(bookmark.id + '_' + suffix), node, idx, next, prev;\n      var keep = bookmark.keep;\n      var container, offset;\n      if (marker) {\n        node = marker.parentNode;\n        if (suffix === 'start') {\n          if (!keep) {\n            idx = dom.nodeIndex(marker);\n          } else {\n            if (marker.hasChildNodes()) {\n              node = marker.firstChild;\n              idx = 1;\n            } else if (isValidTextNode(marker.nextSibling)) {\n              node = marker.nextSibling;\n              idx = 0;\n            } else if (isValidTextNode(marker.previousSibling)) {\n              node = marker.previousSibling;\n              idx = marker.previousSibling.data.length;\n            } else {\n              node = marker.parentNode;\n              idx = dom.nodeIndex(marker) + 1;\n            }\n          }\n          container = node;\n          offset = idx;\n        } else {\n          if (!keep) {\n            idx = dom.nodeIndex(marker);\n          } else {\n            if (marker.hasChildNodes()) {\n              node = marker.firstChild;\n              idx = 1;\n            } else if (isValidTextNode(marker.previousSibling)) {\n              node = marker.previousSibling;\n              idx = marker.previousSibling.data.length;\n            } else {\n              node = marker.parentNode;\n              idx = dom.nodeIndex(marker);\n            }\n          }\n          container = node;\n          offset = idx;\n        }\n        if (!keep) {\n          prev = marker.previousSibling;\n          next = marker.nextSibling;\n          Tools.each(Tools.grep(marker.childNodes), function (node) {\n            if (isText$7(node)) {\n              node.nodeValue = node.nodeValue.replace(/\\uFEFF/g, '');\n            }\n          });\n          while (marker = dom.get(bookmark.id + '_' + suffix)) {\n            dom.remove(marker, true);\n          }\n          if (prev && next && prev.nodeType === next.nodeType && isText$7(prev) && !Env.opera) {\n            idx = prev.nodeValue.length;\n            prev.appendData(next.nodeValue);\n            dom.remove(next);\n            container = prev;\n            offset = idx;\n          }\n        }\n        return Optional.some(CaretPosition(container, offset));\n      } else {\n        return Optional.none();\n      }\n    };\n    var resolvePaths = function (dom, bookmark) {\n      var rng = dom.createRng();\n      if (setEndPoint(dom, true, bookmark, rng) && setEndPoint(dom, false, bookmark, rng)) {\n        return Optional.some(rng);\n      } else {\n        return Optional.none();\n      }\n    };\n    var resolveId = function (dom, bookmark) {\n      var startPos = restoreEndPoint(dom, 'start', bookmark);\n      var endPos = restoreEndPoint(dom, 'end', bookmark);\n      return lift2(startPos, endPos.or(startPos), function (spos, epos) {\n        var rng = dom.createRng();\n        rng.setStart(addBogus(dom, spos.container()), spos.offset());\n        rng.setEnd(addBogus(dom, epos.container()), epos.offset());\n        return rng;\n      });\n    };\n    var resolveIndex = function (dom, bookmark) {\n      return Optional.from(dom.select(bookmark.name)[bookmark.index]).map(function (elm) {\n        var rng = dom.createRng();\n        rng.selectNode(elm);\n        return rng;\n      });\n    };\n    var resolve$1 = function (selection, bookmark) {\n      var dom = selection.dom;\n      if (bookmark) {\n        if (isPathBookmark(bookmark)) {\n          return resolvePaths(dom, bookmark);\n        } else if (isStringPathBookmark(bookmark)) {\n          return Optional.some(resolveCaretPositionBookmark(dom, bookmark));\n        } else if (isIdBookmark(bookmark)) {\n          return resolveId(dom, bookmark);\n        } else if (isIndexBookmark(bookmark)) {\n          return resolveIndex(dom, bookmark);\n        } else if (isRangeBookmark(bookmark)) {\n          return Optional.some(bookmark.rng);\n        }\n      }\n      return Optional.none();\n    };\n\n    var getBookmark$1 = function (selection, type, normalized) {\n      return getBookmark$2(selection, type, normalized);\n    };\n    var moveToBookmark = function (selection, bookmark) {\n      resolve$1(selection, bookmark).each(function (rng) {\n        selection.setRng(rng);\n      });\n    };\n    var isBookmarkNode$1 = function (node) {\n      return isElement$5(node) && node.tagName === 'SPAN' && node.getAttribute('data-mce-type') === 'bookmark';\n    };\n\n    var is = function (expected) {\n      return function (actual) {\n        return expected === actual;\n      };\n    };\n    var isNbsp = is(nbsp);\n    var isWhiteSpace = function (chr) {\n      return chr !== '' && ' \\f\\n\\r\\t\\x0B'.indexOf(chr) !== -1;\n    };\n    var isContent = function (chr) {\n      return !isWhiteSpace(chr) && !isNbsp(chr);\n    };\n\n    var isNode = function (node) {\n      return !!node.nodeType;\n    };\n    var isInlineBlock = function (node) {\n      return node && /^(IMG)$/.test(node.nodeName);\n    };\n    var moveStart = function (dom, selection, rng) {\n      var offset = rng.startOffset;\n      var container = rng.startContainer;\n      if (container === rng.endContainer) {\n        if (isInlineBlock(container.childNodes[offset])) {\n          return;\n        }\n      }\n      if (isElement$5(container)) {\n        var nodes = container.childNodes;\n        var walker = void 0;\n        if (offset < nodes.length) {\n          container = nodes[offset];\n          walker = new DomTreeWalker(container, dom.getParent(container, dom.isBlock));\n        } else {\n          container = nodes[nodes.length - 1];\n          walker = new DomTreeWalker(container, dom.getParent(container, dom.isBlock));\n          walker.next(true);\n        }\n        for (var node = walker.current(); node; node = walker.next()) {\n          if (isText$7(node) && !isWhiteSpaceNode$1(node)) {\n            rng.setStart(node, 0);\n            selection.setRng(rng);\n            return;\n          }\n        }\n      }\n    };\n    var getNonWhiteSpaceSibling = function (node, next, inc) {\n      if (node) {\n        var nextName = next ? 'nextSibling' : 'previousSibling';\n        for (node = inc ? node : node[nextName]; node; node = node[nextName]) {\n          if (isElement$5(node) || !isWhiteSpaceNode$1(node)) {\n            return node;\n          }\n        }\n      }\n    };\n    var isTextBlock$1 = function (editor, name) {\n      if (isNode(name)) {\n        name = name.nodeName;\n      }\n      return !!editor.schema.getTextBlockElements()[name.toLowerCase()];\n    };\n    var isValid = function (ed, parent, child) {\n      return ed.schema.isValidChild(parent, child);\n    };\n    var isWhiteSpaceNode$1 = function (node, allowSpaces) {\n      if (allowSpaces === void 0) {\n        allowSpaces = false;\n      }\n      if (isNonNullable(node) && isText$7(node)) {\n        var data = allowSpaces ? node.data.replace(/ /g, '\\xA0') : node.data;\n        return isWhitespaceText(data);\n      } else {\n        return false;\n      }\n    };\n    var isEmptyTextNode$1 = function (node) {\n      return isNonNullable(node) && isText$7(node) && node.length === 0;\n    };\n    var replaceVars = function (value, vars) {\n      if (isFunction(value)) {\n        value = value(vars);\n      } else if (isNonNullable(vars)) {\n        value = value.replace(/%(\\w+)/g, function (str, name) {\n          return vars[name] || str;\n        });\n      }\n      return value;\n    };\n    var isEq$5 = function (str1, str2) {\n      str1 = str1 || '';\n      str2 = str2 || '';\n      str1 = '' + (str1.nodeName || str1);\n      str2 = '' + (str2.nodeName || str2);\n      return str1.toLowerCase() === str2.toLowerCase();\n    };\n    var normalizeStyleValue = function (dom, value, name) {\n      if (name === 'color' || name === 'backgroundColor') {\n        value = dom.toHex(value);\n      }\n      if (name === 'fontWeight' && value === 700) {\n        value = 'bold';\n      }\n      if (name === 'fontFamily') {\n        value = value.replace(/[\\'\\\"]/g, '').replace(/,\\s+/g, ',');\n      }\n      return '' + value;\n    };\n    var getStyle = function (dom, node, name) {\n      return normalizeStyleValue(dom, dom.getStyle(node, name), name);\n    };\n    var getTextDecoration = function (dom, node) {\n      var decoration;\n      dom.getParent(node, function (n) {\n        decoration = dom.getStyle(n, 'text-decoration');\n        return decoration && decoration !== 'none';\n      });\n      return decoration;\n    };\n    var getParents$2 = function (dom, node, selector) {\n      return dom.getParents(node, selector, dom.getRoot());\n    };\n    var isVariableFormatName = function (editor, formatName) {\n      var hasVariableValues = function (format) {\n        var isVariableValue = function (val) {\n          return val.length > 1 && val.charAt(0) === '%';\n        };\n        return exists([\n          'styles',\n          'attributes'\n        ], function (key) {\n          return get$9(format, key).exists(function (field) {\n            var fieldValues = isArray$1(field) ? field : values(field);\n            return exists(fieldValues, isVariableValue);\n          });\n        });\n      };\n      return exists(editor.formatter.get(formatName), hasVariableValues);\n    };\n    var areSimilarFormats = function (editor, formatName, otherFormatName) {\n      var validKeys = [\n        'inline',\n        'block',\n        'selector',\n        'attributes',\n        'styles',\n        'classes'\n      ];\n      var filterObj = function (format) {\n        return filter$3(format, function (_, key) {\n          return exists(validKeys, function (validKey) {\n            return validKey === key;\n          });\n        });\n      };\n      return exists(editor.formatter.get(formatName), function (fmt1) {\n        var filteredFmt1 = filterObj(fmt1);\n        return exists(editor.formatter.get(otherFormatName), function (fmt2) {\n          var filteredFmt2 = filterObj(fmt2);\n          return equal$1(filteredFmt1, filteredFmt2);\n        });\n      });\n    };\n    var isBlockFormat = function (format) {\n      return hasNonNullableKey(format, 'block');\n    };\n    var isSelectorFormat = function (format) {\n      return hasNonNullableKey(format, 'selector');\n    };\n    var isInlineFormat = function (format) {\n      return hasNonNullableKey(format, 'inline');\n    };\n    var isMixedFormat = function (format) {\n      return isSelectorFormat(format) && isInlineFormat(format) && is$1(get$9(format, 'mixed'), true);\n    };\n    var shouldExpandToSelector = function (format) {\n      return isSelectorFormat(format) && format.expand !== false && !isInlineFormat(format);\n    };\n\n    var isBookmarkNode = isBookmarkNode$1;\n    var getParents$1 = getParents$2;\n    var isWhiteSpaceNode = isWhiteSpaceNode$1;\n    var isTextBlock = isTextBlock$1;\n    var isBogusBr = function (node) {\n      return isBr$5(node) && node.getAttribute('data-mce-bogus') && !node.nextSibling;\n    };\n    var findParentContentEditable = function (dom, node) {\n      var parent = node;\n      while (parent) {\n        if (isElement$5(parent) && dom.getContentEditable(parent)) {\n          return dom.getContentEditable(parent) === 'false' ? parent : node;\n        }\n        parent = parent.parentNode;\n      }\n      return node;\n    };\n    var walkText = function (start, node, offset, predicate) {\n      var str = node.data;\n      for (var i = offset; start ? i >= 0 : i < str.length; start ? i-- : i++) {\n        if (predicate(str.charAt(i))) {\n          return start ? i + 1 : i;\n        }\n      }\n      return -1;\n    };\n    var findSpace = function (start, node, offset) {\n      return walkText(start, node, offset, function (c) {\n        return isNbsp(c) || isWhiteSpace(c);\n      });\n    };\n    var findContent = function (start, node, offset) {\n      return walkText(start, node, offset, isContent);\n    };\n    var findWordEndPoint = function (dom, body, container, offset, start, includeTrailingSpaces) {\n      var lastTextNode;\n      var rootNode = dom.getParent(container, dom.isBlock) || body;\n      var walk = function (container, offset, pred) {\n        var textSeeker = TextSeeker(dom);\n        var walker = start ? textSeeker.backwards : textSeeker.forwards;\n        return Optional.from(walker(container, offset, function (text, textOffset) {\n          if (isBookmarkNode(text.parentNode)) {\n            return -1;\n          } else {\n            lastTextNode = text;\n            return pred(start, text, textOffset);\n          }\n        }, rootNode));\n      };\n      var spaceResult = walk(container, offset, findSpace);\n      return spaceResult.bind(function (result) {\n        return includeTrailingSpaces ? walk(result.container, result.offset + (start ? -1 : 0), findContent) : Optional.some(result);\n      }).orThunk(function () {\n        return lastTextNode ? Optional.some({\n          container: lastTextNode,\n          offset: start ? 0 : lastTextNode.length\n        }) : Optional.none();\n      });\n    };\n    var findSelectorEndPoint = function (dom, formatList, rng, container, siblingName) {\n      if (isText$7(container) && isEmpty$3(container.data) && container[siblingName]) {\n        container = container[siblingName];\n      }\n      var parents = getParents$1(dom, container);\n      for (var i = 0; i < parents.length; i++) {\n        for (var y = 0; y < formatList.length; y++) {\n          var curFormat = formatList[y];\n          if (isNonNullable(curFormat.collapsed) && curFormat.collapsed !== rng.collapsed) {\n            continue;\n          }\n          if (isSelectorFormat(curFormat) && dom.is(parents[i], curFormat.selector)) {\n            return parents[i];\n          }\n        }\n      }\n      return container;\n    };\n    var findBlockEndPoint = function (editor, formatList, container, siblingName) {\n      var node = container;\n      var dom = editor.dom;\n      var root = dom.getRoot();\n      var format = formatList[0];\n      if (isBlockFormat(format)) {\n        node = format.wrapper ? null : dom.getParent(container, format.block, root);\n      }\n      if (!node) {\n        var scopeRoot = dom.getParent(container, 'LI,TD,TH');\n        node = dom.getParent(isText$7(container) ? container.parentNode : container, function (node) {\n          return node !== root && isTextBlock(editor, node);\n        }, scopeRoot);\n      }\n      if (node && isBlockFormat(format) && format.wrapper) {\n        node = getParents$1(dom, node, 'ul,ol').reverse()[0] || node;\n      }\n      if (!node) {\n        node = container;\n        while (node[siblingName] && !dom.isBlock(node[siblingName])) {\n          node = node[siblingName];\n          if (isEq$5(node, 'br')) {\n            break;\n          }\n        }\n      }\n      return node || container;\n    };\n    var isAtBlockBoundary$1 = function (dom, root, container, siblingName) {\n      var parent = container.parentNode;\n      if (isNonNullable(container[siblingName])) {\n        return false;\n      } else if (parent === root || isNullable(parent) || dom.isBlock(parent)) {\n        return true;\n      } else {\n        return isAtBlockBoundary$1(dom, root, parent, siblingName);\n      }\n    };\n    var findParentContainer = function (dom, formatList, container, offset, start) {\n      var parent = container;\n      var siblingName = start ? 'previousSibling' : 'nextSibling';\n      var root = dom.getRoot();\n      if (isText$7(container) && !isWhiteSpaceNode(container)) {\n        if (start ? offset > 0 : offset < container.data.length) {\n          return container;\n        }\n      }\n      while (true) {\n        if (!formatList[0].block_expand && dom.isBlock(parent)) {\n          return parent;\n        }\n        for (var sibling = parent[siblingName]; sibling; sibling = sibling[siblingName]) {\n          var allowSpaces = isText$7(sibling) && !isAtBlockBoundary$1(dom, root, sibling, siblingName);\n          if (!isBookmarkNode(sibling) && !isBogusBr(sibling) && !isWhiteSpaceNode(sibling, allowSpaces)) {\n            return parent;\n          }\n        }\n        if (parent === root || parent.parentNode === root) {\n          container = parent;\n          break;\n        }\n        parent = parent.parentNode;\n      }\n      return container;\n    };\n    var isSelfOrParentBookmark = function (container) {\n      return isBookmarkNode(container.parentNode) || isBookmarkNode(container);\n    };\n    var expandRng = function (editor, rng, formatList, includeTrailingSpace) {\n      if (includeTrailingSpace === void 0) {\n        includeTrailingSpace = false;\n      }\n      var startContainer = rng.startContainer, startOffset = rng.startOffset, endContainer = rng.endContainer, endOffset = rng.endOffset;\n      var dom = editor.dom;\n      var format = formatList[0];\n      if (isElement$5(startContainer) && startContainer.hasChildNodes()) {\n        startContainer = getNode$1(startContainer, startOffset);\n        if (isText$7(startContainer)) {\n          startOffset = 0;\n        }\n      }\n      if (isElement$5(endContainer) && endContainer.hasChildNodes()) {\n        endContainer = getNode$1(endContainer, rng.collapsed ? endOffset : endOffset - 1);\n        if (isText$7(endContainer)) {\n          endOffset = endContainer.nodeValue.length;\n        }\n      }\n      startContainer = findParentContentEditable(dom, startContainer);\n      endContainer = findParentContentEditable(dom, endContainer);\n      if (isSelfOrParentBookmark(startContainer)) {\n        startContainer = isBookmarkNode(startContainer) ? startContainer : startContainer.parentNode;\n        if (rng.collapsed) {\n          startContainer = startContainer.previousSibling || startContainer;\n        } else {\n          startContainer = startContainer.nextSibling || startContainer;\n        }\n        if (isText$7(startContainer)) {\n          startOffset = rng.collapsed ? startContainer.length : 0;\n        }\n      }\n      if (isSelfOrParentBookmark(endContainer)) {\n        endContainer = isBookmarkNode(endContainer) ? endContainer : endContainer.parentNode;\n        if (rng.collapsed) {\n          endContainer = endContainer.nextSibling || endContainer;\n        } else {\n          endContainer = endContainer.previousSibling || endContainer;\n        }\n        if (isText$7(endContainer)) {\n          endOffset = rng.collapsed ? 0 : endContainer.length;\n        }\n      }\n      if (rng.collapsed) {\n        var startPoint = findWordEndPoint(dom, editor.getBody(), startContainer, startOffset, true, includeTrailingSpace);\n        startPoint.each(function (_a) {\n          var container = _a.container, offset = _a.offset;\n          startContainer = container;\n          startOffset = offset;\n        });\n        var endPoint = findWordEndPoint(dom, editor.getBody(), endContainer, endOffset, false, includeTrailingSpace);\n        endPoint.each(function (_a) {\n          var container = _a.container, offset = _a.offset;\n          endContainer = container;\n          endOffset = offset;\n        });\n      }\n      if (isInlineFormat(format) || format.block_expand) {\n        if (!isInlineFormat(format) || (!isText$7(startContainer) || startOffset === 0)) {\n          startContainer = findParentContainer(dom, formatList, startContainer, startOffset, true);\n        }\n        if (!isInlineFormat(format) || (!isText$7(endContainer) || endOffset === endContainer.nodeValue.length)) {\n          endContainer = findParentContainer(dom, formatList, endContainer, endOffset, false);\n        }\n      }\n      if (shouldExpandToSelector(format)) {\n        startContainer = findSelectorEndPoint(dom, formatList, rng, startContainer, 'previousSibling');\n        endContainer = findSelectorEndPoint(dom, formatList, rng, endContainer, 'nextSibling');\n      }\n      if (isBlockFormat(format) || isSelectorFormat(format)) {\n        startContainer = findBlockEndPoint(editor, formatList, startContainer, 'previousSibling');\n        endContainer = findBlockEndPoint(editor, formatList, endContainer, 'nextSibling');\n        if (isBlockFormat(format)) {\n          if (!dom.isBlock(startContainer)) {\n            startContainer = findParentContainer(dom, formatList, startContainer, startOffset, true);\n          }\n          if (!dom.isBlock(endContainer)) {\n            endContainer = findParentContainer(dom, formatList, endContainer, endOffset, false);\n          }\n        }\n      }\n      if (isElement$5(startContainer)) {\n        startOffset = dom.nodeIndex(startContainer);\n        startContainer = startContainer.parentNode;\n      }\n      if (isElement$5(endContainer)) {\n        endOffset = dom.nodeIndex(endContainer) + 1;\n        endContainer = endContainer.parentNode;\n      }\n      return {\n        startContainer: startContainer,\n        startOffset: startOffset,\n        endContainer: endContainer,\n        endOffset: endOffset\n      };\n    };\n\n    var walk$2 = function (dom, rng, callback) {\n      var startOffset = rng.startOffset;\n      var startContainer = getNode$1(rng.startContainer, startOffset);\n      var endOffset = rng.endOffset;\n      var endContainer = getNode$1(rng.endContainer, endOffset - 1);\n      var exclude = function (nodes) {\n        var firstNode = nodes[0];\n        if (isText$7(firstNode) && firstNode === startContainer && startOffset >= firstNode.data.length) {\n          nodes.splice(0, 1);\n        }\n        var lastNode = nodes[nodes.length - 1];\n        if (endOffset === 0 && nodes.length > 0 && lastNode === endContainer && isText$7(lastNode)) {\n          nodes.splice(nodes.length - 1, 1);\n        }\n        return nodes;\n      };\n      var collectSiblings = function (node, name, endNode) {\n        var siblings = [];\n        for (; node && node !== endNode; node = node[name]) {\n          siblings.push(node);\n        }\n        return siblings;\n      };\n      var findEndPoint = function (node, root) {\n        return dom.getParent(node, function (node) {\n          return node.parentNode === root;\n        }, root);\n      };\n      var walkBoundary = function (startNode, endNode, next) {\n        var siblingName = next ? 'nextSibling' : 'previousSibling';\n        for (var node = startNode, parent_1 = node.parentNode; node && node !== endNode; node = parent_1) {\n          parent_1 = node.parentNode;\n          var siblings_1 = collectSiblings(node === startNode ? node : node[siblingName], siblingName);\n          if (siblings_1.length) {\n            if (!next) {\n              siblings_1.reverse();\n            }\n            callback(exclude(siblings_1));\n          }\n        }\n      };\n      if (startContainer === endContainer) {\n        return callback(exclude([startContainer]));\n      }\n      var ancestor = dom.findCommonAncestor(startContainer, endContainer);\n      if (dom.isChildOf(startContainer, endContainer)) {\n        return walkBoundary(startContainer, ancestor, true);\n      }\n      if (dom.isChildOf(endContainer, startContainer)) {\n        return walkBoundary(endContainer, ancestor);\n      }\n      var startPoint = findEndPoint(startContainer, ancestor) || startContainer;\n      var endPoint = findEndPoint(endContainer, ancestor) || endContainer;\n      walkBoundary(startContainer, startPoint, true);\n      var siblings = collectSiblings(startPoint === startContainer ? startPoint : startPoint.nextSibling, 'nextSibling', endPoint === endContainer ? endPoint.nextSibling : endPoint);\n      if (siblings.length) {\n        callback(exclude(siblings));\n      }\n      walkBoundary(endContainer, endPoint);\n    };\n\n    var getRanges = function (selection) {\n      var ranges = [];\n      if (selection) {\n        for (var i = 0; i < selection.rangeCount; i++) {\n          ranges.push(selection.getRangeAt(i));\n        }\n      }\n      return ranges;\n    };\n    var getSelectedNodes = function (ranges) {\n      return bind(ranges, function (range) {\n        var node = getSelectedNode(range);\n        return node ? [SugarElement.fromDom(node)] : [];\n      });\n    };\n    var hasMultipleRanges = function (selection) {\n      return getRanges(selection).length > 1;\n    };\n\n    var getCellsFromRanges = function (ranges) {\n      return filter$4(getSelectedNodes(ranges), isTableCell$4);\n    };\n    var getCellsFromElement = function (elm) {\n      return descendants(elm, 'td[data-mce-selected],th[data-mce-selected]');\n    };\n    var getCellsFromElementOrRanges = function (ranges, element) {\n      var selectedCells = getCellsFromElement(element);\n      return selectedCells.length > 0 ? selectedCells : getCellsFromRanges(ranges);\n    };\n    var getCellsFromEditor = function (editor) {\n      return getCellsFromElementOrRanges(getRanges(editor.selection.getSel()), SugarElement.fromDom(editor.getBody()));\n    };\n    var getClosestTable = function (cell, isRoot) {\n      return ancestor$2(cell, 'table', isRoot);\n    };\n\n    var getStartNode = function (rng) {\n      var sc = rng.startContainer, so = rng.startOffset;\n      if (isText$7(sc)) {\n        return so === 0 ? Optional.some(SugarElement.fromDom(sc)) : Optional.none();\n      } else {\n        return Optional.from(sc.childNodes[so]).map(SugarElement.fromDom);\n      }\n    };\n    var getEndNode = function (rng) {\n      var ec = rng.endContainer, eo = rng.endOffset;\n      if (isText$7(ec)) {\n        return eo === ec.data.length ? Optional.some(SugarElement.fromDom(ec)) : Optional.none();\n      } else {\n        return Optional.from(ec.childNodes[eo - 1]).map(SugarElement.fromDom);\n      }\n    };\n    var getFirstChildren = function (node) {\n      return firstChild(node).fold(constant([node]), function (child) {\n        return [node].concat(getFirstChildren(child));\n      });\n    };\n    var getLastChildren$1 = function (node) {\n      return lastChild(node).fold(constant([node]), function (child) {\n        if (name(child) === 'br') {\n          return prevSibling(child).map(function (sibling) {\n            return [node].concat(getLastChildren$1(sibling));\n          }).getOr([]);\n        } else {\n          return [node].concat(getLastChildren$1(child));\n        }\n      });\n    };\n    var hasAllContentsSelected = function (elm, rng) {\n      return lift2(getStartNode(rng), getEndNode(rng), function (startNode, endNode) {\n        var start = find$3(getFirstChildren(elm), curry(eq, startNode));\n        var end = find$3(getLastChildren$1(elm), curry(eq, endNode));\n        return start.isSome() && end.isSome();\n      }).getOr(false);\n    };\n    var moveEndPoint = function (dom, rng, node, start) {\n      var root = node, walker = new DomTreeWalker(node, root);\n      var moveCaretBeforeOnEnterElementsMap = filter$3(dom.schema.getMoveCaretBeforeOnEnterElements(), function (_, name) {\n        return !contains$3([\n          'td',\n          'th',\n          'table'\n        ], name.toLowerCase());\n      });\n      do {\n        if (isText$7(node) && Tools.trim(node.nodeValue).length !== 0) {\n          if (start) {\n            rng.setStart(node, 0);\n          } else {\n            rng.setEnd(node, node.nodeValue.length);\n          }\n          return;\n        }\n        if (moveCaretBeforeOnEnterElementsMap[node.nodeName]) {\n          if (start) {\n            rng.setStartBefore(node);\n          } else {\n            if (node.nodeName === 'BR') {\n              rng.setEndBefore(node);\n            } else {\n              rng.setEndAfter(node);\n            }\n          }\n          return;\n        }\n      } while (node = start ? walker.next() : walker.prev());\n      if (root.nodeName === 'BODY') {\n        if (start) {\n          rng.setStart(root, 0);\n        } else {\n          rng.setEnd(root, root.childNodes.length);\n        }\n      }\n    };\n    var hasAnyRanges = function (editor) {\n      var sel = editor.selection.getSel();\n      return sel && sel.rangeCount > 0;\n    };\n    var runOnRanges = function (editor, executor) {\n      var fakeSelectionNodes = getCellsFromEditor(editor);\n      if (fakeSelectionNodes.length > 0) {\n        each$k(fakeSelectionNodes, function (elem) {\n          var node = elem.dom;\n          var fakeNodeRng = editor.dom.createRng();\n          fakeNodeRng.setStartBefore(node);\n          fakeNodeRng.setEndAfter(node);\n          executor(fakeNodeRng, true);\n        });\n      } else {\n        executor(editor.selection.getRng(), false);\n      }\n    };\n    var preserve = function (selection, fillBookmark, executor) {\n      var bookmark = getPersistentBookmark(selection, fillBookmark);\n      executor(bookmark);\n      selection.moveToBookmark(bookmark);\n    };\n\n    var NodeValue = function (is, name) {\n      var get = function (element) {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      var getOption = function (element) {\n        return is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      };\n      var set = function (element, value) {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get: get,\n        getOption: getOption,\n        set: set\n      };\n    };\n\n    var api$1 = NodeValue(isText$8, 'text');\n    var get$2 = function (element) {\n      return api$1.get(element);\n    };\n\n    var isZeroWidth = function (elem) {\n      return isText$8(elem) && get$2(elem) === ZWSP$1;\n    };\n    var context = function (editor, elem, wrapName, nodeName) {\n      return parent(elem).fold(function () {\n        return 'skipping';\n      }, function (parent) {\n        if (nodeName === 'br' || isZeroWidth(elem)) {\n          return 'valid';\n        } else if (isAnnotation(elem)) {\n          return 'existing';\n        } else if (isCaretNode(elem.dom)) {\n          return 'caret';\n        } else if (!isValid(editor, wrapName, nodeName) || !isValid(editor, name(parent), wrapName)) {\n          return 'invalid-child';\n        } else {\n          return 'valid';\n        }\n      });\n    };\n\n    var applyWordGrab = function (editor, rng) {\n      var r = expandRng(editor, rng, [{ inline: 'span' }]);\n      rng.setStart(r.startContainer, r.startOffset);\n      rng.setEnd(r.endContainer, r.endOffset);\n      editor.selection.setRng(rng);\n    };\n    var makeAnnotation = function (eDoc, _a, annotationName, decorate) {\n      var _b = _a.uid, uid = _b === void 0 ? generate('mce-annotation') : _b, data = __rest(_a, ['uid']);\n      var master = SugarElement.fromTag('span', eDoc);\n      add$1(master, annotation());\n      set$1(master, '' + dataAnnotationId(), uid);\n      set$1(master, '' + dataAnnotation(), annotationName);\n      var _c = decorate(uid, data), _d = _c.attributes, attributes = _d === void 0 ? {} : _d, _e = _c.classes, classes = _e === void 0 ? [] : _e;\n      setAll$1(master, attributes);\n      add(master, classes);\n      return master;\n    };\n    var annotate = function (editor, rng, annotationName, decorate, data) {\n      var newWrappers = [];\n      var master = makeAnnotation(editor.getDoc(), data, annotationName, decorate);\n      var wrapper = value();\n      var finishWrapper = function () {\n        wrapper.clear();\n      };\n      var getOrOpenWrapper = function () {\n        return wrapper.get().getOrThunk(function () {\n          var nu = shallow(master);\n          newWrappers.push(nu);\n          wrapper.set(nu);\n          return nu;\n        });\n      };\n      var processElements = function (elems) {\n        each$k(elems, processElement);\n      };\n      var processElement = function (elem) {\n        var ctx = context(editor, elem, 'span', name(elem));\n        switch (ctx) {\n        case 'invalid-child': {\n            finishWrapper();\n            var children$1 = children(elem);\n            processElements(children$1);\n            finishWrapper();\n            break;\n          }\n        case 'valid': {\n            var w = getOrOpenWrapper();\n            wrap$3(elem, w);\n            break;\n          }\n        }\n      };\n      var processNodes = function (nodes) {\n        var elems = map$3(nodes, SugarElement.fromDom);\n        processElements(elems);\n      };\n      walk$2(editor.dom, rng, function (nodes) {\n        finishWrapper();\n        processNodes(nodes);\n      });\n      return newWrappers;\n    };\n    var annotateWithBookmark = function (editor, name, settings, data) {\n      editor.undoManager.transact(function () {\n        var selection = editor.selection;\n        var initialRng = selection.getRng();\n        var hasFakeSelection = getCellsFromEditor(editor).length > 0;\n        if (initialRng.collapsed && !hasFakeSelection) {\n          applyWordGrab(editor, initialRng);\n        }\n        if (selection.getRng().collapsed && !hasFakeSelection) {\n          var wrapper = makeAnnotation(editor.getDoc(), data, name, settings.decorate);\n          set(wrapper, nbsp);\n          selection.getRng().insertNode(wrapper.dom);\n          selection.select(wrapper.dom);\n        } else {\n          preserve(selection, false, function () {\n            runOnRanges(editor, function (selectionRng) {\n              annotate(editor, selectionRng, name, settings.decorate, data);\n            });\n          });\n        }\n      });\n    };\n\n    var Annotator = function (editor) {\n      var registry = create$7();\n      setup$m(editor, registry);\n      var changes = setup$n(editor);\n      return {\n        register: function (name, settings) {\n          registry.register(name, settings);\n        },\n        annotate: function (name, data) {\n          registry.lookup(name).each(function (settings) {\n            annotateWithBookmark(editor, name, settings, data);\n          });\n        },\n        annotationChanged: function (name, callback) {\n          changes.addListener(name, callback);\n        },\n        remove: function (name) {\n          identify(editor, Optional.some(name)).each(function (_a) {\n            var elements = _a.elements;\n            each$k(elements, unwrap);\n          });\n        },\n        getAll: function (name) {\n          var directory = findAll(editor, name);\n          return map$2(directory, function (elems) {\n            return map$3(elems, function (elem) {\n              return elem.dom;\n            });\n          });\n        }\n      };\n    };\n\n    var BookmarkManager = function (selection) {\n      return {\n        getBookmark: curry(getBookmark$1, selection),\n        moveToBookmark: curry(moveToBookmark, selection)\n      };\n    };\n    BookmarkManager.isBookmarkNode = isBookmarkNode$1;\n\n    var getContentEditableRoot$1 = function (root, node) {\n      while (node && node !== root) {\n        if (isContentEditableTrue$4(node) || isContentEditableFalse$b(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n\n    var isXYWithinRange = function (clientX, clientY, range) {\n      if (range.collapsed) {\n        return false;\n      }\n      if (Env.browser.isIE() && range.startOffset === range.endOffset - 1 && range.startContainer === range.endContainer) {\n        var elm = range.startContainer.childNodes[range.startOffset];\n        if (isElement$5(elm)) {\n          return exists(elm.getClientRects(), function (rect) {\n            return containsXY(rect, clientX, clientY);\n          });\n        }\n      }\n      return exists(range.getClientRects(), function (rect) {\n        return containsXY(rect, clientX, clientY);\n      });\n    };\n\n    var firePreProcess = function (editor, args) {\n      return editor.fire('PreProcess', args);\n    };\n    var firePostProcess = function (editor, args) {\n      return editor.fire('PostProcess', args);\n    };\n    var fireRemove = function (editor) {\n      return editor.fire('remove');\n    };\n    var fireDetach = function (editor) {\n      return editor.fire('detach');\n    };\n    var fireSwitchMode = function (editor, mode) {\n      return editor.fire('SwitchMode', { mode: mode });\n    };\n    var fireObjectResizeStart = function (editor, target, width, height, origin) {\n      editor.fire('ObjectResizeStart', {\n        target: target,\n        width: width,\n        height: height,\n        origin: origin\n      });\n    };\n    var fireObjectResized = function (editor, target, width, height, origin) {\n      editor.fire('ObjectResized', {\n        target: target,\n        width: width,\n        height: height,\n        origin: origin\n      });\n    };\n    var firePreInit = function (editor) {\n      return editor.fire('PreInit');\n    };\n    var firePostRender = function (editor) {\n      return editor.fire('PostRender');\n    };\n    var fireInit = function (editor) {\n      return editor.fire('Init');\n    };\n    var firePlaceholderToggle = function (editor, state) {\n      return editor.fire('PlaceholderToggle', { state: state });\n    };\n    var fireError = function (editor, errorType, error) {\n      return editor.fire(errorType, error);\n    };\n    var fireFormatApply = function (editor, format, node, vars) {\n      return editor.fire('FormatApply', {\n        format: format,\n        node: node,\n        vars: vars\n      });\n    };\n    var fireFormatRemove = function (editor, format, node, vars) {\n      return editor.fire('FormatRemove', {\n        format: format,\n        node: node,\n        vars: vars\n      });\n    };\n\n    var VK = {\n      BACKSPACE: 8,\n      DELETE: 46,\n      DOWN: 40,\n      ENTER: 13,\n      ESC: 27,\n      LEFT: 37,\n      RIGHT: 39,\n      SPACEBAR: 32,\n      TAB: 9,\n      UP: 38,\n      PAGE_UP: 33,\n      PAGE_DOWN: 34,\n      END: 35,\n      HOME: 36,\n      modifierPressed: function (e) {\n        return e.shiftKey || e.ctrlKey || e.altKey || VK.metaKeyPressed(e);\n      },\n      metaKeyPressed: function (e) {\n        return Env.mac ? e.metaKey : e.ctrlKey && !e.altKey;\n      }\n    };\n\n    var isContentEditableFalse$5 = isContentEditableFalse$b;\n    var ControlSelection = function (selection, editor) {\n      var elementSelectionAttr = 'data-mce-selected';\n      var dom = editor.dom, each = Tools.each;\n      var selectedElm, selectedElmGhost, resizeHelper, selectedHandle, resizeBackdrop;\n      var startX, startY, selectedElmX, selectedElmY, startW, startH, ratio, resizeStarted;\n      var width, height;\n      var editableDoc = editor.getDoc(), rootDocument = document;\n      var abs = Math.abs, round = Math.round, rootElement = editor.getBody();\n      var startScrollWidth, startScrollHeight;\n      var resizeHandles = {\n        nw: [\n          0,\n          0,\n          -1,\n          -1\n        ],\n        ne: [\n          1,\n          0,\n          1,\n          -1\n        ],\n        se: [\n          1,\n          1,\n          1,\n          1\n        ],\n        sw: [\n          0,\n          1,\n          -1,\n          1\n        ]\n      };\n      var isImage = function (elm) {\n        return elm && (elm.nodeName === 'IMG' || editor.dom.is(elm, 'figure.image'));\n      };\n      var isMedia = function (elm) {\n        return isMedia$2(elm) || dom.hasClass(elm, 'mce-preview-object');\n      };\n      var isEventOnImageOutsideRange = function (evt, range) {\n        if (evt.type === 'longpress' || evt.type.indexOf('touch') === 0) {\n          var touch = evt.touches[0];\n          return isImage(evt.target) && !isXYWithinRange(touch.clientX, touch.clientY, range);\n        } else {\n          return isImage(evt.target) && !isXYWithinRange(evt.clientX, evt.clientY, range);\n        }\n      };\n      var contextMenuSelectImage = function (evt) {\n        var target = evt.target;\n        if (isEventOnImageOutsideRange(evt, editor.selection.getRng()) && !evt.isDefaultPrevented()) {\n          editor.selection.select(target);\n        }\n      };\n      var getResizeTargets = function (elm) {\n        if (dom.is(elm, 'figure.image')) {\n          return [elm.querySelector('img')];\n        } else if (dom.hasClass(elm, 'mce-preview-object') && isNonNullable(elm.firstElementChild)) {\n          return [\n            elm,\n            elm.firstElementChild\n          ];\n        } else {\n          return [elm];\n        }\n      };\n      var isResizable = function (elm) {\n        var selector = getObjectResizing(editor);\n        if (!selector) {\n          return false;\n        }\n        if (elm.getAttribute('data-mce-resize') === 'false') {\n          return false;\n        }\n        if (elm === editor.getBody()) {\n          return false;\n        }\n        if (dom.hasClass(elm, 'mce-preview-object')) {\n          return is$2(SugarElement.fromDom(elm.firstElementChild), selector);\n        } else {\n          return is$2(SugarElement.fromDom(elm), selector);\n        }\n      };\n      var createGhostElement = function (elm) {\n        if (isMedia(elm)) {\n          return dom.create('img', { src: Env.transparentSrc });\n        } else {\n          return elm.cloneNode(true);\n        }\n      };\n      var setSizeProp = function (element, name, value) {\n        if (isNonNullable(value)) {\n          var targets = getResizeTargets(element);\n          each$k(targets, function (target) {\n            if (target.style[name] || !editor.schema.isValid(target.nodeName.toLowerCase(), name)) {\n              dom.setStyle(target, name, value);\n            } else {\n              dom.setAttrib(target, name, '' + value);\n            }\n          });\n        }\n      };\n      var setGhostElmSize = function (ghostElm, width, height) {\n        setSizeProp(ghostElm, 'width', width);\n        setSizeProp(ghostElm, 'height', height);\n      };\n      var resizeGhostElement = function (e) {\n        var deltaX, deltaY, proportional;\n        var resizeHelperX, resizeHelperY;\n        deltaX = e.screenX - startX;\n        deltaY = e.screenY - startY;\n        width = deltaX * selectedHandle[2] + startW;\n        height = deltaY * selectedHandle[3] + startH;\n        width = width < 5 ? 5 : width;\n        height = height < 5 ? 5 : height;\n        if ((isImage(selectedElm) || isMedia(selectedElm)) && getResizeImgProportional(editor) !== false) {\n          proportional = !VK.modifierPressed(e);\n        } else {\n          proportional = VK.modifierPressed(e);\n        }\n        if (proportional) {\n          if (abs(deltaX) > abs(deltaY)) {\n            height = round(width * ratio);\n            width = round(height / ratio);\n          } else {\n            width = round(height / ratio);\n            height = round(width * ratio);\n          }\n        }\n        setGhostElmSize(selectedElmGhost, width, height);\n        resizeHelperX = selectedHandle.startPos.x + deltaX;\n        resizeHelperY = selectedHandle.startPos.y + deltaY;\n        resizeHelperX = resizeHelperX > 0 ? resizeHelperX : 0;\n        resizeHelperY = resizeHelperY > 0 ? resizeHelperY : 0;\n        dom.setStyles(resizeHelper, {\n          left: resizeHelperX,\n          top: resizeHelperY,\n          display: 'block'\n        });\n        resizeHelper.innerHTML = width + ' &times; ' + height;\n        if (selectedHandle[2] < 0 && selectedElmGhost.clientWidth <= width) {\n          dom.setStyle(selectedElmGhost, 'left', selectedElmX + (startW - width));\n        }\n        if (selectedHandle[3] < 0 && selectedElmGhost.clientHeight <= height) {\n          dom.setStyle(selectedElmGhost, 'top', selectedElmY + (startH - height));\n        }\n        deltaX = rootElement.scrollWidth - startScrollWidth;\n        deltaY = rootElement.scrollHeight - startScrollHeight;\n        if (deltaX + deltaY !== 0) {\n          dom.setStyles(resizeHelper, {\n            left: resizeHelperX - deltaX,\n            top: resizeHelperY - deltaY\n          });\n        }\n        if (!resizeStarted) {\n          fireObjectResizeStart(editor, selectedElm, startW, startH, 'corner-' + selectedHandle.name);\n          resizeStarted = true;\n        }\n      };\n      var endGhostResize = function () {\n        var wasResizeStarted = resizeStarted;\n        resizeStarted = false;\n        if (wasResizeStarted) {\n          setSizeProp(selectedElm, 'width', width);\n          setSizeProp(selectedElm, 'height', height);\n        }\n        dom.unbind(editableDoc, 'mousemove', resizeGhostElement);\n        dom.unbind(editableDoc, 'mouseup', endGhostResize);\n        if (rootDocument !== editableDoc) {\n          dom.unbind(rootDocument, 'mousemove', resizeGhostElement);\n          dom.unbind(rootDocument, 'mouseup', endGhostResize);\n        }\n        dom.remove(selectedElmGhost);\n        dom.remove(resizeHelper);\n        dom.remove(resizeBackdrop);\n        showResizeRect(selectedElm);\n        if (wasResizeStarted) {\n          fireObjectResized(editor, selectedElm, width, height, 'corner-' + selectedHandle.name);\n          dom.setAttrib(selectedElm, 'style', dom.getAttrib(selectedElm, 'style'));\n        }\n        editor.nodeChanged();\n      };\n      var showResizeRect = function (targetElm) {\n        unbindResizeHandleEvents();\n        var position = dom.getPos(targetElm, rootElement);\n        var selectedElmX = position.x;\n        var selectedElmY = position.y;\n        var rect = targetElm.getBoundingClientRect();\n        var targetWidth = rect.width || rect.right - rect.left;\n        var targetHeight = rect.height || rect.bottom - rect.top;\n        if (selectedElm !== targetElm) {\n          hideResizeRect();\n          selectedElm = targetElm;\n          width = height = 0;\n        }\n        var e = editor.fire('ObjectSelected', { target: targetElm });\n        var selectedValue = dom.getAttrib(selectedElm, elementSelectionAttr, '1');\n        if (isResizable(targetElm) && !e.isDefaultPrevented()) {\n          each(resizeHandles, function (handle, name) {\n            var handleElm;\n            var startDrag = function (e) {\n              var target = getResizeTargets(selectedElm)[0];\n              startX = e.screenX;\n              startY = e.screenY;\n              startW = target.clientWidth;\n              startH = target.clientHeight;\n              ratio = startH / startW;\n              selectedHandle = handle;\n              selectedHandle.name = name;\n              selectedHandle.startPos = {\n                x: targetWidth * handle[0] + selectedElmX,\n                y: targetHeight * handle[1] + selectedElmY\n              };\n              startScrollWidth = rootElement.scrollWidth;\n              startScrollHeight = rootElement.scrollHeight;\n              resizeBackdrop = dom.add(rootElement, 'div', {\n                'class': 'mce-resize-backdrop',\n                'data-mce-bogus': 'all'\n              });\n              dom.setStyles(resizeBackdrop, {\n                position: 'fixed',\n                left: '0',\n                top: '0',\n                width: '100%',\n                height: '100%'\n              });\n              selectedElmGhost = createGhostElement(selectedElm);\n              dom.addClass(selectedElmGhost, 'mce-clonedresizable');\n              dom.setAttrib(selectedElmGhost, 'data-mce-bogus', 'all');\n              selectedElmGhost.contentEditable = 'false';\n              dom.setStyles(selectedElmGhost, {\n                left: selectedElmX,\n                top: selectedElmY,\n                margin: 0\n              });\n              setGhostElmSize(selectedElmGhost, targetWidth, targetHeight);\n              selectedElmGhost.removeAttribute(elementSelectionAttr);\n              rootElement.appendChild(selectedElmGhost);\n              dom.bind(editableDoc, 'mousemove', resizeGhostElement);\n              dom.bind(editableDoc, 'mouseup', endGhostResize);\n              if (rootDocument !== editableDoc) {\n                dom.bind(rootDocument, 'mousemove', resizeGhostElement);\n                dom.bind(rootDocument, 'mouseup', endGhostResize);\n              }\n              resizeHelper = dom.add(rootElement, 'div', {\n                'class': 'mce-resize-helper',\n                'data-mce-bogus': 'all'\n              }, startW + ' &times; ' + startH);\n            };\n            handleElm = dom.get('mceResizeHandle' + name);\n            if (handleElm) {\n              dom.remove(handleElm);\n            }\n            handleElm = dom.add(rootElement, 'div', {\n              'id': 'mceResizeHandle' + name,\n              'data-mce-bogus': 'all',\n              'class': 'mce-resizehandle',\n              'unselectable': true,\n              'style': 'cursor:' + name + '-resize; margin:0; padding:0'\n            });\n            if (Env.ie === 11) {\n              handleElm.contentEditable = false;\n            }\n            dom.bind(handleElm, 'mousedown', function (e) {\n              e.stopImmediatePropagation();\n              e.preventDefault();\n              startDrag(e);\n            });\n            handle.elm = handleElm;\n            dom.setStyles(handleElm, {\n              left: targetWidth * handle[0] + selectedElmX - handleElm.offsetWidth / 2,\n              top: targetHeight * handle[1] + selectedElmY - handleElm.offsetHeight / 2\n            });\n          });\n        } else {\n          hideResizeRect();\n        }\n        if (!dom.getAttrib(selectedElm, elementSelectionAttr)) {\n          selectedElm.setAttribute(elementSelectionAttr, selectedValue);\n        }\n      };\n      var hideResizeRect = function () {\n        unbindResizeHandleEvents();\n        if (selectedElm) {\n          selectedElm.removeAttribute(elementSelectionAttr);\n        }\n        each$j(resizeHandles, function (value, name) {\n          var handleElm = dom.get('mceResizeHandle' + name);\n          if (handleElm) {\n            dom.unbind(handleElm);\n            dom.remove(handleElm);\n          }\n        });\n      };\n      var updateResizeRect = function (e) {\n        var startElm, controlElm;\n        var isChildOrEqual = function (node, parent) {\n          if (node) {\n            do {\n              if (node === parent) {\n                return true;\n              }\n            } while (node = node.parentNode);\n          }\n        };\n        if (resizeStarted || editor.removed) {\n          return;\n        }\n        each(dom.select('img[data-mce-selected],hr[data-mce-selected]'), function (img) {\n          img.removeAttribute(elementSelectionAttr);\n        });\n        controlElm = e.type === 'mousedown' ? e.target : selection.getNode();\n        controlElm = dom.$(controlElm).closest('table,img,figure.image,hr,video,span.mce-preview-object')[0];\n        if (isChildOrEqual(controlElm, rootElement)) {\n          disableGeckoResize();\n          startElm = selection.getStart(true);\n          if (isChildOrEqual(startElm, controlElm) && isChildOrEqual(selection.getEnd(true), controlElm)) {\n            showResizeRect(controlElm);\n            return;\n          }\n        }\n        hideResizeRect();\n      };\n      var isWithinContentEditableFalse = function (elm) {\n        return isContentEditableFalse$5(getContentEditableRoot$1(editor.getBody(), elm));\n      };\n      var unbindResizeHandleEvents = function () {\n        each$j(resizeHandles, function (handle) {\n          if (handle.elm) {\n            dom.unbind(handle.elm);\n            delete handle.elm;\n          }\n        });\n      };\n      var disableGeckoResize = function () {\n        try {\n          editor.getDoc().execCommand('enableObjectResizing', false, 'false');\n        } catch (ex) {\n        }\n      };\n      editor.on('init', function () {\n        disableGeckoResize();\n        if (Env.browser.isIE() || Env.browser.isEdge()) {\n          editor.on('mousedown click', function (e) {\n            var target = e.target, nodeName = target.nodeName;\n            if (!resizeStarted && /^(TABLE|IMG|HR)$/.test(nodeName) && !isWithinContentEditableFalse(target)) {\n              if (e.button !== 2) {\n                editor.selection.select(target, nodeName === 'TABLE');\n              }\n              if (e.type === 'mousedown') {\n                editor.nodeChanged();\n              }\n            }\n          });\n          var handleMSControlSelect_1 = function (e) {\n            var delayedSelect = function (node) {\n              Delay.setEditorTimeout(editor, function () {\n                return editor.selection.select(node);\n              });\n            };\n            if (isWithinContentEditableFalse(e.target) || isMedia$2(e.target)) {\n              e.preventDefault();\n              delayedSelect(e.target);\n              return;\n            }\n            if (/^(TABLE|IMG|HR)$/.test(e.target.nodeName)) {\n              e.preventDefault();\n              if (e.target.tagName === 'IMG') {\n                delayedSelect(e.target);\n              }\n            }\n          };\n          dom.bind(rootElement, 'mscontrolselect', handleMSControlSelect_1);\n          editor.on('remove', function () {\n            return dom.unbind(rootElement, 'mscontrolselect', handleMSControlSelect_1);\n          });\n        }\n        var throttledUpdateResizeRect = Delay.throttle(function (e) {\n          if (!editor.composing) {\n            updateResizeRect(e);\n          }\n        });\n        editor.on('nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged', throttledUpdateResizeRect);\n        editor.on('keyup compositionend', function (e) {\n          if (selectedElm && selectedElm.nodeName === 'TABLE') {\n            throttledUpdateResizeRect(e);\n          }\n        });\n        editor.on('hide blur', hideResizeRect);\n        editor.on('contextmenu longpress', contextMenuSelectImage, true);\n      });\n      editor.on('remove', unbindResizeHandleEvents);\n      var destroy = function () {\n        selectedElm = selectedElmGhost = resizeBackdrop = null;\n      };\n      return {\n        isResizable: isResizable,\n        showResizeRect: showResizeRect,\n        hideResizeRect: hideResizeRect,\n        updateResizeRect: updateResizeRect,\n        destroy: destroy\n      };\n    };\n\n    var hasCeProperty = function (node) {\n      return isContentEditableTrue$4(node) || isContentEditableFalse$b(node);\n    };\n    var findParent$1 = function (node, rootNode, predicate) {\n      while (node && node !== rootNode) {\n        if (predicate(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var findClosestIeRange = function (clientX, clientY, doc) {\n      var rects;\n      var element = doc.elementFromPoint(clientX, clientY);\n      var rng = doc.body.createTextRange();\n      if (!element || element.tagName === 'HTML') {\n        element = doc.body;\n      }\n      rng.moveToElementText(element);\n      rects = Tools.toArray(rng.getClientRects());\n      rects = rects.sort(function (a, b) {\n        a = Math.abs(Math.max(a.top - clientY, a.bottom - clientY));\n        b = Math.abs(Math.max(b.top - clientY, b.bottom - clientY));\n        return a - b;\n      });\n      if (rects.length > 0) {\n        clientY = (rects[0].bottom + rects[0].top) / 2;\n        try {\n          rng.moveToPoint(clientX, clientY);\n          rng.collapse(true);\n          return rng;\n        } catch (ex) {\n        }\n      }\n      return null;\n    };\n    var moveOutOfContentEditableFalse = function (rng, rootNode) {\n      var parentElement = rng && rng.parentElement ? rng.parentElement() : null;\n      return isContentEditableFalse$b(findParent$1(parentElement, rootNode, hasCeProperty)) ? null : rng;\n    };\n    var fromPoint = function (clientX, clientY, doc) {\n      var rng, point;\n      var pointDoc = doc;\n      if (pointDoc.caretPositionFromPoint) {\n        point = pointDoc.caretPositionFromPoint(clientX, clientY);\n        if (point) {\n          rng = doc.createRange();\n          rng.setStart(point.offsetNode, point.offset);\n          rng.collapse(true);\n        }\n      } else if (pointDoc.caretRangeFromPoint) {\n        rng = pointDoc.caretRangeFromPoint(clientX, clientY);\n      } else if (pointDoc.body.createTextRange) {\n        rng = pointDoc.body.createTextRange();\n        try {\n          rng.moveToPoint(clientX, clientY);\n          rng.collapse(true);\n        } catch (ex) {\n          rng = findClosestIeRange(clientX, clientY, doc);\n        }\n        return moveOutOfContentEditableFalse(rng, doc.body);\n      }\n      return rng;\n    };\n\n    var isEq$4 = function (rng1, rng2) {\n      return rng1 && rng2 && (rng1.startContainer === rng2.startContainer && rng1.startOffset === rng2.startOffset) && (rng1.endContainer === rng2.endContainer && rng1.endOffset === rng2.endOffset);\n    };\n\n    var findParent = function (node, rootNode, predicate) {\n      while (node && node !== rootNode) {\n        if (predicate(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var hasParent$1 = function (node, rootNode, predicate) {\n      return findParent(node, rootNode, predicate) !== null;\n    };\n    var hasParentWithName = function (node, rootNode, name) {\n      return hasParent$1(node, rootNode, function (node) {\n        return node.nodeName === name;\n      });\n    };\n    var isTable = function (node) {\n      return node && node.nodeName === 'TABLE';\n    };\n    var isTableCell$2 = function (node) {\n      return node && /^(TD|TH|CAPTION)$/.test(node.nodeName);\n    };\n    var isCeFalseCaretContainer = function (node, rootNode) {\n      return isCaretContainer$2(node) && hasParent$1(node, rootNode, isCaretNode) === false;\n    };\n    var hasBrBeforeAfter = function (dom, node, left) {\n      var walker = new DomTreeWalker(node, dom.getParent(node.parentNode, dom.isBlock) || dom.getRoot());\n      while (node = walker[left ? 'prev' : 'next']()) {\n        if (isBr$5(node)) {\n          return true;\n        }\n      }\n    };\n    var isPrevNode = function (node, name) {\n      return node.previousSibling && node.previousSibling.nodeName === name;\n    };\n    var hasContentEditableFalseParent = function (body, node) {\n      while (node && node !== body) {\n        if (isContentEditableFalse$b(node)) {\n          return true;\n        }\n        node = node.parentNode;\n      }\n      return false;\n    };\n    var findTextNodeRelative = function (dom, isAfterNode, collapsed, left, startNode) {\n      var lastInlineElement;\n      var body = dom.getRoot();\n      var node;\n      var nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n      var parentBlockContainer = dom.getParent(startNode.parentNode, dom.isBlock) || body;\n      if (left && isBr$5(startNode) && isAfterNode && dom.isEmpty(parentBlockContainer)) {\n        return Optional.some(CaretPosition(startNode.parentNode, dom.nodeIndex(startNode)));\n      }\n      var walker = new DomTreeWalker(startNode, parentBlockContainer);\n      while (node = walker[left ? 'prev' : 'next']()) {\n        if (dom.getContentEditableParent(node) === 'false' || isCeFalseCaretContainer(node, body)) {\n          return Optional.none();\n        }\n        if (isText$7(node) && node.nodeValue.length > 0) {\n          if (hasParentWithName(node, body, 'A') === false) {\n            return Optional.some(CaretPosition(node, left ? node.nodeValue.length : 0));\n          }\n          return Optional.none();\n        }\n        if (dom.isBlock(node) || nonEmptyElementsMap[node.nodeName.toLowerCase()]) {\n          return Optional.none();\n        }\n        lastInlineElement = node;\n      }\n      if (collapsed && lastInlineElement) {\n        return Optional.some(CaretPosition(lastInlineElement, 0));\n      }\n      return Optional.none();\n    };\n    var normalizeEndPoint = function (dom, collapsed, start, rng) {\n      var container, offset;\n      var body = dom.getRoot();\n      var node;\n      var directionLeft, normalized = false;\n      container = rng[(start ? 'start' : 'end') + 'Container'];\n      offset = rng[(start ? 'start' : 'end') + 'Offset'];\n      var isAfterNode = isElement$5(container) && offset === container.childNodes.length;\n      var nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n      directionLeft = start;\n      if (isCaretContainer$2(container)) {\n        return Optional.none();\n      }\n      if (isElement$5(container) && offset > container.childNodes.length - 1) {\n        directionLeft = false;\n      }\n      if (isDocument$1(container)) {\n        container = body;\n        offset = 0;\n      }\n      if (container === body) {\n        if (directionLeft) {\n          node = container.childNodes[offset > 0 ? offset - 1 : 0];\n          if (node) {\n            if (isCaretContainer$2(node)) {\n              return Optional.none();\n            }\n            if (nonEmptyElementsMap[node.nodeName] || isTable(node)) {\n              return Optional.none();\n            }\n          }\n        }\n        if (container.hasChildNodes()) {\n          offset = Math.min(!directionLeft && offset > 0 ? offset - 1 : offset, container.childNodes.length - 1);\n          container = container.childNodes[offset];\n          offset = isText$7(container) && isAfterNode ? container.data.length : 0;\n          if (!collapsed && container === body.lastChild && isTable(container)) {\n            return Optional.none();\n          }\n          if (hasContentEditableFalseParent(body, container) || isCaretContainer$2(container)) {\n            return Optional.none();\n          }\n          if (container.hasChildNodes() && isTable(container) === false) {\n            node = container;\n            var walker = new DomTreeWalker(container, body);\n            do {\n              if (isContentEditableFalse$b(node) || isCaretContainer$2(node)) {\n                normalized = false;\n                break;\n              }\n              if (isText$7(node) && node.nodeValue.length > 0) {\n                offset = directionLeft ? 0 : node.nodeValue.length;\n                container = node;\n                normalized = true;\n                break;\n              }\n              if (nonEmptyElementsMap[node.nodeName.toLowerCase()] && !isTableCell$2(node)) {\n                offset = dom.nodeIndex(node);\n                container = node.parentNode;\n                if (!directionLeft) {\n                  offset++;\n                }\n                normalized = true;\n                break;\n              }\n            } while (node = directionLeft ? walker.next() : walker.prev());\n          }\n        }\n      }\n      if (collapsed) {\n        if (isText$7(container) && offset === 0) {\n          findTextNodeRelative(dom, isAfterNode, collapsed, true, container).each(function (pos) {\n            container = pos.container();\n            offset = pos.offset();\n            normalized = true;\n          });\n        }\n        if (isElement$5(container)) {\n          node = container.childNodes[offset];\n          if (!node) {\n            node = container.childNodes[offset - 1];\n          }\n          if (node && isBr$5(node) && !isPrevNode(node, 'A') && !hasBrBeforeAfter(dom, node, false) && !hasBrBeforeAfter(dom, node, true)) {\n            findTextNodeRelative(dom, isAfterNode, collapsed, true, node).each(function (pos) {\n              container = pos.container();\n              offset = pos.offset();\n              normalized = true;\n            });\n          }\n        }\n      }\n      if (directionLeft && !collapsed && isText$7(container) && offset === container.nodeValue.length) {\n        findTextNodeRelative(dom, isAfterNode, collapsed, false, container).each(function (pos) {\n          container = pos.container();\n          offset = pos.offset();\n          normalized = true;\n        });\n      }\n      return normalized ? Optional.some(CaretPosition(container, offset)) : Optional.none();\n    };\n    var normalize$2 = function (dom, rng) {\n      var collapsed = rng.collapsed, normRng = rng.cloneRange();\n      var startPos = CaretPosition.fromRangeStart(rng);\n      normalizeEndPoint(dom, collapsed, true, normRng).each(function (pos) {\n        if (!collapsed || !CaretPosition.isAbove(startPos, pos)) {\n          normRng.setStart(pos.container(), pos.offset());\n        }\n      });\n      if (!collapsed) {\n        normalizeEndPoint(dom, collapsed, false, normRng).each(function (pos) {\n          normRng.setEnd(pos.container(), pos.offset());\n        });\n      }\n      if (collapsed) {\n        normRng.collapse(true);\n      }\n      return isEq$4(rng, normRng) ? Optional.none() : Optional.some(normRng);\n    };\n\n    var splitText = function (node, offset) {\n      return node.splitText(offset);\n    };\n    var split = function (rng) {\n      var startContainer = rng.startContainer, startOffset = rng.startOffset, endContainer = rng.endContainer, endOffset = rng.endOffset;\n      if (startContainer === endContainer && isText$7(startContainer)) {\n        if (startOffset > 0 && startOffset < startContainer.nodeValue.length) {\n          endContainer = splitText(startContainer, startOffset);\n          startContainer = endContainer.previousSibling;\n          if (endOffset > startOffset) {\n            endOffset = endOffset - startOffset;\n            startContainer = endContainer = splitText(endContainer, endOffset).previousSibling;\n            endOffset = endContainer.nodeValue.length;\n            startOffset = 0;\n          } else {\n            endOffset = 0;\n          }\n        }\n      } else {\n        if (isText$7(startContainer) && startOffset > 0 && startOffset < startContainer.nodeValue.length) {\n          startContainer = splitText(startContainer, startOffset);\n          startOffset = 0;\n        }\n        if (isText$7(endContainer) && endOffset > 0 && endOffset < endContainer.nodeValue.length) {\n          endContainer = splitText(endContainer, endOffset).previousSibling;\n          endOffset = endContainer.nodeValue.length;\n        }\n      }\n      return {\n        startContainer: startContainer,\n        startOffset: startOffset,\n        endContainer: endContainer,\n        endOffset: endOffset\n      };\n    };\n\n    var RangeUtils = function (dom) {\n      var walk = function (rng, callback) {\n        return walk$2(dom, rng, callback);\n      };\n      var split$1 = split;\n      var normalize = function (rng) {\n        return normalize$2(dom, rng).fold(never, function (normalizedRng) {\n          rng.setStart(normalizedRng.startContainer, normalizedRng.startOffset);\n          rng.setEnd(normalizedRng.endContainer, normalizedRng.endOffset);\n          return true;\n        });\n      };\n      return {\n        walk: walk,\n        split: split$1,\n        normalize: normalize\n      };\n    };\n    RangeUtils.compareRanges = isEq$4;\n    RangeUtils.getCaretRangeFromPoint = fromPoint;\n    RangeUtils.getSelectedNode = getSelectedNode;\n    RangeUtils.getNode = getNode$1;\n\n    var Dimension = function (name, getOffset) {\n      var set = function (element, h) {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        var dom = element.dom;\n        if (isSupported(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      var get = function (element) {\n        var r = getOffset(element);\n        if (r <= 0 || r === null) {\n          var css = get$5(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      var getOuter = get;\n      var aggregate = function (element, properties) {\n        return foldl(properties, function (acc, property) {\n          var val = get$5(element, property);\n          var value = val === undefined ? 0 : parseInt(val, 10);\n          return isNaN(value) ? acc : acc + value;\n        }, 0);\n      };\n      var max = function (element, value, properties) {\n        var cumulativeInclusions = aggregate(element, properties);\n        var absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set: set,\n        get: get,\n        getOuter: getOuter,\n        aggregate: aggregate,\n        max: max\n      };\n    };\n\n    var api = Dimension('height', function (element) {\n      var dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    var get$1 = function (element) {\n      return api.get(element);\n    };\n\n    var walkUp = function (navigation, doc) {\n      var frame = navigation.view(doc);\n      return frame.fold(constant([]), function (f) {\n        var parent = navigation.owner(f);\n        var rest = walkUp(navigation, parent);\n        return [f].concat(rest);\n      });\n    };\n    var pathTo = function (element, navigation) {\n      var d = navigation.owner(element);\n      return walkUp(navigation, d);\n    };\n\n    var view = function (doc) {\n      var _a;\n      var element = doc.dom === document ? Optional.none() : Optional.from((_a = doc.dom.defaultView) === null || _a === void 0 ? void 0 : _a.frameElement);\n      return element.map(SugarElement.fromDom);\n    };\n    var owner = function (element) {\n      return documentOrOwner(element);\n    };\n\n    var Navigation = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        view: view,\n        owner: owner\n    });\n\n    var find$1 = function (element) {\n      var doc = SugarElement.fromDom(document);\n      var scroll = get$8(doc);\n      var frames = pathTo(element, Navigation);\n      var offset = viewport(element);\n      var r = foldr(frames, function (b, a) {\n        var loc = viewport(a);\n        return {\n          left: b.left + loc.left,\n          top: b.top + loc.top\n        };\n      }, {\n        left: 0,\n        top: 0\n      });\n      return SugarPosition(r.left + offset.left + scroll.left, r.top + offset.top + scroll.top);\n    };\n\n    var excludeFromDescend = function (element) {\n      return name(element) === 'textarea';\n    };\n    var fireScrollIntoViewEvent = function (editor, data) {\n      var scrollEvent = editor.fire('ScrollIntoView', data);\n      return scrollEvent.isDefaultPrevented();\n    };\n    var fireAfterScrollIntoViewEvent = function (editor, data) {\n      editor.fire('AfterScrollIntoView', data);\n    };\n    var descend = function (element, offset) {\n      var children$1 = children(element);\n      if (children$1.length === 0 || excludeFromDescend(element)) {\n        return {\n          element: element,\n          offset: offset\n        };\n      } else if (offset < children$1.length && !excludeFromDescend(children$1[offset])) {\n        return {\n          element: children$1[offset],\n          offset: 0\n        };\n      } else {\n        var last = children$1[children$1.length - 1];\n        if (excludeFromDescend(last)) {\n          return {\n            element: element,\n            offset: offset\n          };\n        } else {\n          if (name(last) === 'img') {\n            return {\n              element: last,\n              offset: 1\n            };\n          } else if (isText$8(last)) {\n            return {\n              element: last,\n              offset: get$2(last).length\n            };\n          } else {\n            return {\n              element: last,\n              offset: children(last).length\n            };\n          }\n        }\n      }\n    };\n    var markerInfo = function (element, cleanupFun) {\n      var pos = absolute(element);\n      var height = get$1(element);\n      return {\n        element: element,\n        bottom: pos.top + height,\n        height: height,\n        pos: pos,\n        cleanup: cleanupFun\n      };\n    };\n    var createMarker = function (element, offset) {\n      var startPoint = descend(element, offset);\n      var span = SugarElement.fromHtml('<span data-mce-bogus=\"all\" style=\"display: inline-block;\">' + ZWSP$1 + '</span>');\n      before$4(startPoint.element, span);\n      return markerInfo(span, function () {\n        return remove$7(span);\n      });\n    };\n    var elementMarker = function (element) {\n      return markerInfo(SugarElement.fromDom(element), noop);\n    };\n    var withMarker = function (editor, f, rng, alignToTop) {\n      preserveWith(editor, function (_s, _e) {\n        return applyWithMarker(editor, f, rng, alignToTop);\n      }, rng);\n    };\n    var withScrollEvents = function (editor, doc, f, marker, alignToTop) {\n      var data = {\n        elm: marker.element.dom,\n        alignToTop: alignToTop\n      };\n      if (fireScrollIntoViewEvent(editor, data)) {\n        return;\n      }\n      var scrollTop = get$8(doc).top;\n      f(doc, scrollTop, marker, alignToTop);\n      fireAfterScrollIntoViewEvent(editor, data);\n    };\n    var applyWithMarker = function (editor, f, rng, alignToTop) {\n      var body = SugarElement.fromDom(editor.getBody());\n      var doc = SugarElement.fromDom(editor.getDoc());\n      reflow(body);\n      var marker = createMarker(SugarElement.fromDom(rng.startContainer), rng.startOffset);\n      withScrollEvents(editor, doc, f, marker, alignToTop);\n      marker.cleanup();\n    };\n    var withElement = function (editor, element, f, alignToTop) {\n      var doc = SugarElement.fromDom(editor.getDoc());\n      withScrollEvents(editor, doc, f, elementMarker(element), alignToTop);\n    };\n    var preserveWith = function (editor, f, rng) {\n      var startElement = rng.startContainer;\n      var startOffset = rng.startOffset;\n      var endElement = rng.endContainer;\n      var endOffset = rng.endOffset;\n      f(SugarElement.fromDom(startElement), SugarElement.fromDom(endElement));\n      var newRng = editor.dom.createRng();\n      newRng.setStart(startElement, startOffset);\n      newRng.setEnd(endElement, endOffset);\n      editor.selection.setRng(rng);\n    };\n    var scrollToMarker = function (marker, viewHeight, alignToTop, doc) {\n      var pos = marker.pos;\n      if (alignToTop) {\n        to(pos.left, pos.top, doc);\n      } else {\n        var y = pos.top - viewHeight + marker.height;\n        to(pos.left, y, doc);\n      }\n    };\n    var intoWindowIfNeeded = function (doc, scrollTop, viewHeight, marker, alignToTop) {\n      var viewportBottom = viewHeight + scrollTop;\n      var markerTop = marker.pos.top;\n      var markerBottom = marker.bottom;\n      var largerThanViewport = markerBottom - markerTop >= viewHeight;\n      if (markerTop < scrollTop) {\n        scrollToMarker(marker, viewHeight, alignToTop !== false, doc);\n      } else if (markerTop > viewportBottom) {\n        var align = largerThanViewport ? alignToTop !== false : alignToTop === true;\n        scrollToMarker(marker, viewHeight, align, doc);\n      } else if (markerBottom > viewportBottom && !largerThanViewport) {\n        scrollToMarker(marker, viewHeight, alignToTop === true, doc);\n      }\n    };\n    var intoWindow = function (doc, scrollTop, marker, alignToTop) {\n      var viewHeight = doc.dom.defaultView.innerHeight;\n      intoWindowIfNeeded(doc, scrollTop, viewHeight, marker, alignToTop);\n    };\n    var intoFrame = function (doc, scrollTop, marker, alignToTop) {\n      var frameViewHeight = doc.dom.defaultView.innerHeight;\n      intoWindowIfNeeded(doc, scrollTop, frameViewHeight, marker, alignToTop);\n      var op = find$1(marker.element);\n      var viewportBounds = getBounds(window);\n      if (op.top < viewportBounds.y) {\n        intoView(marker.element, alignToTop !== false);\n      } else if (op.top > viewportBounds.bottom) {\n        intoView(marker.element, alignToTop === true);\n      }\n    };\n    var rangeIntoWindow = function (editor, rng, alignToTop) {\n      return withMarker(editor, intoWindow, rng, alignToTop);\n    };\n    var elementIntoWindow = function (editor, element, alignToTop) {\n      return withElement(editor, element, intoWindow, alignToTop);\n    };\n    var rangeIntoFrame = function (editor, rng, alignToTop) {\n      return withMarker(editor, intoFrame, rng, alignToTop);\n    };\n    var elementIntoFrame = function (editor, element, alignToTop) {\n      return withElement(editor, element, intoFrame, alignToTop);\n    };\n    var scrollElementIntoView = function (editor, element, alignToTop) {\n      var scroller = editor.inline ? elementIntoWindow : elementIntoFrame;\n      scroller(editor, element, alignToTop);\n    };\n    var scrollRangeIntoView = function (editor, rng, alignToTop) {\n      var scroller = editor.inline ? rangeIntoWindow : rangeIntoFrame;\n      scroller(editor, rng, alignToTop);\n    };\n\n    var getDocument = function () {\n      return SugarElement.fromDom(document);\n    };\n\n    var focus$1 = function (element) {\n      return element.dom.focus();\n    };\n    var hasFocus$1 = function (element) {\n      var root = getRootNode(element).dom;\n      return element.dom === root.activeElement;\n    };\n    var active = function (root) {\n      if (root === void 0) {\n        root = getDocument();\n      }\n      return Optional.from(root.dom.activeElement).map(SugarElement.fromDom);\n    };\n    var search = function (element) {\n      return active(getRootNode(element)).filter(function (e) {\n        return element.dom.contains(e.dom);\n      });\n    };\n\n    var create$5 = function (start, soffset, finish, foffset) {\n      return {\n        start: start,\n        soffset: soffset,\n        finish: finish,\n        foffset: foffset\n      };\n    };\n    var SimRange = { create: create$5 };\n\n    var adt$1 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    var cata = function (subject, onBefore, onOn, onAfter) {\n      return subject.fold(onBefore, onOn, onAfter);\n    };\n    var getStart$2 = function (situ) {\n      return situ.fold(identity, identity, identity);\n    };\n    var before$1 = adt$1.before;\n    var on = adt$1.on;\n    var after$1 = adt$1.after;\n    var Situ = {\n      before: before$1,\n      on: on,\n      after: after$1,\n      cata: cata,\n      getStart: getStart$2\n    };\n\n    var adt = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    var exactFromRange = function (simRange) {\n      return adt.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    };\n    var getStart$1 = function (selection) {\n      return selection.match({\n        domRange: function (rng) {\n          return SugarElement.fromDom(rng.startContainer);\n        },\n        relative: function (startSitu, _finishSitu) {\n          return Situ.getStart(startSitu);\n        },\n        exact: function (start, _soffset, _finish, _foffset) {\n          return start;\n        }\n      });\n    };\n    var domRange = adt.domRange;\n    var relative = adt.relative;\n    var exact = adt.exact;\n    var getWin = function (selection) {\n      var start = getStart$1(selection);\n      return defaultView(start);\n    };\n    var range = SimRange.create;\n    var SimSelection = {\n      domRange: domRange,\n      relative: relative,\n      exact: exact,\n      exactFromRange: exactFromRange,\n      getWin: getWin,\n      range: range\n    };\n\n    var browser$1 = detect().browser;\n    var clamp$1 = function (offset, element) {\n      var max = isText$8(element) ? get$2(element).length : children(element).length + 1;\n      if (offset > max) {\n        return max;\n      } else if (offset < 0) {\n        return 0;\n      }\n      return offset;\n    };\n    var normalizeRng = function (rng) {\n      return SimSelection.range(rng.start, clamp$1(rng.soffset, rng.start), rng.finish, clamp$1(rng.foffset, rng.finish));\n    };\n    var isOrContains = function (root, elm) {\n      return !isRestrictedNode(elm.dom) && (contains$1(root, elm) || eq(root, elm));\n    };\n    var isRngInRoot = function (root) {\n      return function (rng) {\n        return isOrContains(root, rng.start) && isOrContains(root, rng.finish);\n      };\n    };\n    var shouldStore = function (editor) {\n      return editor.inline === true || browser$1.isIE();\n    };\n    var nativeRangeToSelectionRange = function (r) {\n      return SimSelection.range(SugarElement.fromDom(r.startContainer), r.startOffset, SugarElement.fromDom(r.endContainer), r.endOffset);\n    };\n    var readRange = function (win) {\n      var selection = win.getSelection();\n      var rng = !selection || selection.rangeCount === 0 ? Optional.none() : Optional.from(selection.getRangeAt(0));\n      return rng.map(nativeRangeToSelectionRange);\n    };\n    var getBookmark = function (root) {\n      var win = defaultView(root);\n      return readRange(win.dom).filter(isRngInRoot(root));\n    };\n    var validate = function (root, bookmark) {\n      return Optional.from(bookmark).filter(isRngInRoot(root)).map(normalizeRng);\n    };\n    var bookmarkToNativeRng = function (bookmark) {\n      var rng = document.createRange();\n      try {\n        rng.setStart(bookmark.start.dom, bookmark.soffset);\n        rng.setEnd(bookmark.finish.dom, bookmark.foffset);\n        return Optional.some(rng);\n      } catch (_) {\n        return Optional.none();\n      }\n    };\n    var store = function (editor) {\n      var newBookmark = shouldStore(editor) ? getBookmark(SugarElement.fromDom(editor.getBody())) : Optional.none();\n      editor.bookmark = newBookmark.isSome() ? newBookmark : editor.bookmark;\n    };\n    var storeNative = function (editor, rng) {\n      var root = SugarElement.fromDom(editor.getBody());\n      var range = shouldStore(editor) ? Optional.from(rng) : Optional.none();\n      var newBookmark = range.map(nativeRangeToSelectionRange).filter(isRngInRoot(root));\n      editor.bookmark = newBookmark.isSome() ? newBookmark : editor.bookmark;\n    };\n    var getRng = function (editor) {\n      var bookmark = editor.bookmark ? editor.bookmark : Optional.none();\n      return bookmark.bind(function (x) {\n        return validate(SugarElement.fromDom(editor.getBody()), x);\n      }).bind(bookmarkToNativeRng);\n    };\n    var restore = function (editor) {\n      getRng(editor).each(function (rng) {\n        return editor.selection.setRng(rng);\n      });\n    };\n\n    var isEditorUIElement$1 = function (elm) {\n      var className = elm.className.toString();\n      return className.indexOf('tox-') !== -1 || className.indexOf('mce-') !== -1;\n    };\n    var FocusManager = { isEditorUIElement: isEditorUIElement$1 };\n\n    var isManualNodeChange = function (e) {\n      return e.type === 'nodechange' && e.selectionChange;\n    };\n    var registerPageMouseUp = function (editor, throttledStore) {\n      var mouseUpPage = function () {\n        throttledStore.throttle();\n      };\n      DOMUtils.DOM.bind(document, 'mouseup', mouseUpPage);\n      editor.on('remove', function () {\n        DOMUtils.DOM.unbind(document, 'mouseup', mouseUpPage);\n      });\n    };\n    var registerFocusOut = function (editor) {\n      editor.on('focusout', function () {\n        store(editor);\n      });\n    };\n    var registerMouseUp = function (editor, throttledStore) {\n      editor.on('mouseup touchend', function (_e) {\n        throttledStore.throttle();\n      });\n    };\n    var registerEditorEvents = function (editor, throttledStore) {\n      var browser = detect().browser;\n      if (browser.isIE()) {\n        registerFocusOut(editor);\n      } else {\n        registerMouseUp(editor, throttledStore);\n      }\n      editor.on('keyup NodeChange', function (e) {\n        if (!isManualNodeChange(e)) {\n          store(editor);\n        }\n      });\n    };\n    var register$3 = function (editor) {\n      var throttledStore = first(function () {\n        store(editor);\n      }, 0);\n      editor.on('init', function () {\n        if (editor.inline) {\n          registerPageMouseUp(editor, throttledStore);\n        }\n        registerEditorEvents(editor, throttledStore);\n      });\n      editor.on('remove', function () {\n        throttledStore.cancel();\n      });\n    };\n\n    var documentFocusInHandler;\n    var DOM$8 = DOMUtils.DOM;\n    var isEditorUIElement = function (elm) {\n      return FocusManager.isEditorUIElement(elm);\n    };\n    var isEditorContentAreaElement = function (elm) {\n      var classList = elm.classList;\n      if (classList !== undefined) {\n        return classList.contains('tox-edit-area') || classList.contains('tox-edit-area__iframe') || classList.contains('mce-content-body');\n      } else {\n        return false;\n      }\n    };\n    var isUIElement = function (editor, elm) {\n      var customSelector = getCustomUiSelector(editor);\n      var parent = DOM$8.getParent(elm, function (elm) {\n        return isEditorUIElement(elm) || (customSelector ? editor.dom.is(elm, customSelector) : false);\n      });\n      return parent !== null;\n    };\n    var getActiveElement = function (editor) {\n      try {\n        var root = getRootNode(SugarElement.fromDom(editor.getElement()));\n        return active(root).fold(function () {\n          return document.body;\n        }, function (x) {\n          return x.dom;\n        });\n      } catch (ex) {\n        return document.body;\n      }\n    };\n    var registerEvents$1 = function (editorManager, e) {\n      var editor = e.editor;\n      register$3(editor);\n      editor.on('focusin', function () {\n        var focusedEditor = editorManager.focusedEditor;\n        if (focusedEditor !== editor) {\n          if (focusedEditor) {\n            focusedEditor.fire('blur', { focusedEditor: editor });\n          }\n          editorManager.setActive(editor);\n          editorManager.focusedEditor = editor;\n          editor.fire('focus', { blurredEditor: focusedEditor });\n          editor.focus(true);\n        }\n      });\n      editor.on('focusout', function () {\n        Delay.setEditorTimeout(editor, function () {\n          var focusedEditor = editorManager.focusedEditor;\n          if (!isUIElement(editor, getActiveElement(editor)) && focusedEditor === editor) {\n            editor.fire('blur', { focusedEditor: null });\n            editorManager.focusedEditor = null;\n          }\n        });\n      });\n      if (!documentFocusInHandler) {\n        documentFocusInHandler = function (e) {\n          var activeEditor = editorManager.activeEditor;\n          if (activeEditor) {\n            getOriginalEventTarget(e).each(function (target) {\n              if (target.ownerDocument === document) {\n                if (target !== document.body && !isUIElement(activeEditor, target) && editorManager.focusedEditor === activeEditor) {\n                  activeEditor.fire('blur', { focusedEditor: null });\n                  editorManager.focusedEditor = null;\n                }\n              }\n            });\n          }\n        };\n        DOM$8.bind(document, 'focusin', documentFocusInHandler);\n      }\n    };\n    var unregisterDocumentEvents = function (editorManager, e) {\n      if (editorManager.focusedEditor === e.editor) {\n        editorManager.focusedEditor = null;\n      }\n      if (!editorManager.activeEditor) {\n        DOM$8.unbind(document, 'focusin', documentFocusInHandler);\n        documentFocusInHandler = null;\n      }\n    };\n    var setup$l = function (editorManager) {\n      editorManager.on('AddEditor', curry(registerEvents$1, editorManager));\n      editorManager.on('RemoveEditor', curry(unregisterDocumentEvents, editorManager));\n    };\n\n    var getContentEditableHost = function (editor, node) {\n      return editor.dom.getParent(node, function (node) {\n        return editor.dom.getContentEditable(node) === 'true';\n      });\n    };\n    var getCollapsedNode = function (rng) {\n      return rng.collapsed ? Optional.from(getNode$1(rng.startContainer, rng.startOffset)).map(SugarElement.fromDom) : Optional.none();\n    };\n    var getFocusInElement = function (root, rng) {\n      return getCollapsedNode(rng).bind(function (node) {\n        if (isTableSection(node)) {\n          return Optional.some(node);\n        } else if (contains$1(root, node) === false) {\n          return Optional.some(root);\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var normalizeSelection$1 = function (editor, rng) {\n      getFocusInElement(SugarElement.fromDom(editor.getBody()), rng).bind(function (elm) {\n        return firstPositionIn(elm.dom);\n      }).fold(function () {\n        editor.selection.normalize();\n        return;\n      }, function (caretPos) {\n        return editor.selection.setRng(caretPos.toRange());\n      });\n    };\n    var focusBody = function (body) {\n      if (body.setActive) {\n        try {\n          body.setActive();\n        } catch (ex) {\n          body.focus();\n        }\n      } else {\n        body.focus();\n      }\n    };\n    var hasElementFocus = function (elm) {\n      return hasFocus$1(elm) || search(elm).isSome();\n    };\n    var hasIframeFocus = function (editor) {\n      return editor.iframeElement && hasFocus$1(SugarElement.fromDom(editor.iframeElement));\n    };\n    var hasInlineFocus = function (editor) {\n      var rawBody = editor.getBody();\n      return rawBody && hasElementFocus(SugarElement.fromDom(rawBody));\n    };\n    var hasUiFocus = function (editor) {\n      var dos = getRootNode(SugarElement.fromDom(editor.getElement()));\n      return active(dos).filter(function (elem) {\n        return !isEditorContentAreaElement(elem.dom) && isUIElement(editor, elem.dom);\n      }).isSome();\n    };\n    var hasFocus = function (editor) {\n      return editor.inline ? hasInlineFocus(editor) : hasIframeFocus(editor);\n    };\n    var hasEditorOrUiFocus = function (editor) {\n      return hasFocus(editor) || hasUiFocus(editor);\n    };\n    var focusEditor = function (editor) {\n      var selection = editor.selection;\n      var body = editor.getBody();\n      var rng = selection.getRng();\n      editor.quirks.refreshContentEditable();\n      if (editor.bookmark !== undefined && hasFocus(editor) === false) {\n        getRng(editor).each(function (bookmarkRng) {\n          editor.selection.setRng(bookmarkRng);\n          rng = bookmarkRng;\n        });\n      }\n      var contentEditableHost = getContentEditableHost(editor, selection.getNode());\n      if (editor.$.contains(body, contentEditableHost)) {\n        focusBody(contentEditableHost);\n        normalizeSelection$1(editor, rng);\n        activateEditor(editor);\n        return;\n      }\n      if (!editor.inline) {\n        if (!Env.opera) {\n          focusBody(body);\n        }\n        editor.getWin().focus();\n      }\n      if (Env.gecko || editor.inline) {\n        focusBody(body);\n        normalizeSelection$1(editor, rng);\n      }\n      activateEditor(editor);\n    };\n    var activateEditor = function (editor) {\n      return editor.editorManager.setActive(editor);\n    };\n    var focus = function (editor, skipFocus) {\n      if (editor.removed) {\n        return;\n      }\n      if (skipFocus) {\n        activateEditor(editor);\n      } else {\n        focusEditor(editor);\n      }\n    };\n\n    var getEndpointElement = function (root, rng, start, real, resolve) {\n      var container = start ? rng.startContainer : rng.endContainer;\n      var offset = start ? rng.startOffset : rng.endOffset;\n      return Optional.from(container).map(SugarElement.fromDom).map(function (elm) {\n        return !real || !rng.collapsed ? child$1(elm, resolve(elm, offset)).getOr(elm) : elm;\n      }).bind(function (elm) {\n        return isElement$6(elm) ? Optional.some(elm) : parent(elm).filter(isElement$6);\n      }).map(function (elm) {\n        return elm.dom;\n      }).getOr(root);\n    };\n    var getStart = function (root, rng, real) {\n      return getEndpointElement(root, rng, true, real, function (elm, offset) {\n        return Math.min(childNodesCount(elm), offset);\n      });\n    };\n    var getEnd = function (root, rng, real) {\n      return getEndpointElement(root, rng, false, real, function (elm, offset) {\n        return offset > 0 ? offset - 1 : offset;\n      });\n    };\n    var skipEmptyTextNodes = function (node, forwards) {\n      var orig = node;\n      while (node && isText$7(node) && node.length === 0) {\n        node = forwards ? node.nextSibling : node.previousSibling;\n      }\n      return node || orig;\n    };\n    var getNode = function (root, rng) {\n      var elm, startContainer, endContainer;\n      if (!rng) {\n        return root;\n      }\n      startContainer = rng.startContainer;\n      endContainer = rng.endContainer;\n      var startOffset = rng.startOffset;\n      var endOffset = rng.endOffset;\n      elm = rng.commonAncestorContainer;\n      if (!rng.collapsed) {\n        if (startContainer === endContainer) {\n          if (endOffset - startOffset < 2) {\n            if (startContainer.hasChildNodes()) {\n              elm = startContainer.childNodes[startOffset];\n            }\n          }\n        }\n        if (startContainer.nodeType === 3 && endContainer.nodeType === 3) {\n          if (startContainer.length === startOffset) {\n            startContainer = skipEmptyTextNodes(startContainer.nextSibling, true);\n          } else {\n            startContainer = startContainer.parentNode;\n          }\n          if (endOffset === 0) {\n            endContainer = skipEmptyTextNodes(endContainer.previousSibling, false);\n          } else {\n            endContainer = endContainer.parentNode;\n          }\n          if (startContainer && startContainer === endContainer) {\n            return startContainer;\n          }\n        }\n      }\n      if (elm && elm.nodeType === 3) {\n        return elm.parentNode;\n      }\n      return elm;\n    };\n    var getSelectedBlocks = function (dom, rng, startElm, endElm) {\n      var node;\n      var selectedBlocks = [];\n      var root = dom.getRoot();\n      startElm = dom.getParent(startElm || getStart(root, rng, rng.collapsed), dom.isBlock);\n      endElm = dom.getParent(endElm || getEnd(root, rng, rng.collapsed), dom.isBlock);\n      if (startElm && startElm !== root) {\n        selectedBlocks.push(startElm);\n      }\n      if (startElm && endElm && startElm !== endElm) {\n        node = startElm;\n        var walker = new DomTreeWalker(startElm, root);\n        while ((node = walker.next()) && node !== endElm) {\n          if (dom.isBlock(node)) {\n            selectedBlocks.push(node);\n          }\n        }\n      }\n      if (endElm && startElm !== endElm && endElm !== root) {\n        selectedBlocks.push(endElm);\n      }\n      return selectedBlocks;\n    };\n    var select = function (dom, node, content) {\n      return Optional.from(node).map(function (node) {\n        var idx = dom.nodeIndex(node);\n        var rng = dom.createRng();\n        rng.setStart(node.parentNode, idx);\n        rng.setEnd(node.parentNode, idx + 1);\n        if (content) {\n          moveEndPoint(dom, rng, node, true);\n          moveEndPoint(dom, rng, node, false);\n        }\n        return rng;\n      });\n    };\n\n    var processRanges = function (editor, ranges) {\n      return map$3(ranges, function (range) {\n        var evt = editor.fire('GetSelectionRange', { range: range });\n        return evt.range !== range ? evt.range : range;\n      });\n    };\n\n    var typeLookup = {\n      '#text': 3,\n      '#comment': 8,\n      '#cdata': 4,\n      '#pi': 7,\n      '#doctype': 10,\n      '#document-fragment': 11\n    };\n    var walk$1 = function (node, root, prev) {\n      var startName = prev ? 'lastChild' : 'firstChild';\n      var siblingName = prev ? 'prev' : 'next';\n      if (node[startName]) {\n        return node[startName];\n      }\n      if (node !== root) {\n        var sibling = node[siblingName];\n        if (sibling) {\n          return sibling;\n        }\n        for (var parent_1 = node.parent; parent_1 && parent_1 !== root; parent_1 = parent_1.parent) {\n          sibling = parent_1[siblingName];\n          if (sibling) {\n            return sibling;\n          }\n        }\n      }\n    };\n    var isEmptyTextNode = function (node) {\n      if (!isWhitespaceText(node.value)) {\n        return false;\n      }\n      var parentNode = node.parent;\n      if (parentNode && (parentNode.name !== 'span' || parentNode.attr('style')) && /^[ ]+$/.test(node.value)) {\n        return false;\n      }\n      return true;\n    };\n    var isNonEmptyElement = function (node) {\n      var isNamedAnchor = node.name === 'a' && !node.attr('href') && node.attr('id');\n      return node.attr('name') || node.attr('id') && !node.firstChild || node.attr('data-mce-bookmark') || isNamedAnchor;\n    };\n    var AstNode = function () {\n      function AstNode(name, type) {\n        this.name = name;\n        this.type = type;\n        if (type === 1) {\n          this.attributes = [];\n          this.attributes.map = {};\n        }\n      }\n      AstNode.create = function (name, attrs) {\n        var node = new AstNode(name, typeLookup[name] || 1);\n        if (attrs) {\n          each$j(attrs, function (value, attrName) {\n            node.attr(attrName, value);\n          });\n        }\n        return node;\n      };\n      AstNode.prototype.replace = function (node) {\n        var self = this;\n        if (node.parent) {\n          node.remove();\n        }\n        self.insert(node, self);\n        self.remove();\n        return self;\n      };\n      AstNode.prototype.attr = function (name, value) {\n        var self = this;\n        var attrs;\n        if (typeof name !== 'string') {\n          if (name !== undefined && name !== null) {\n            each$j(name, function (value, key) {\n              self.attr(key, value);\n            });\n          }\n          return self;\n        }\n        if (attrs = self.attributes) {\n          if (value !== undefined) {\n            if (value === null) {\n              if (name in attrs.map) {\n                delete attrs.map[name];\n                var i = attrs.length;\n                while (i--) {\n                  if (attrs[i].name === name) {\n                    attrs.splice(i, 1);\n                    return self;\n                  }\n                }\n              }\n              return self;\n            }\n            if (name in attrs.map) {\n              var i = attrs.length;\n              while (i--) {\n                if (attrs[i].name === name) {\n                  attrs[i].value = value;\n                  break;\n                }\n              }\n            } else {\n              attrs.push({\n                name: name,\n                value: value\n              });\n            }\n            attrs.map[name] = value;\n            return self;\n          }\n          return attrs.map[name];\n        }\n      };\n      AstNode.prototype.clone = function () {\n        var self = this;\n        var clone = new AstNode(self.name, self.type);\n        var selfAttrs;\n        if (selfAttrs = self.attributes) {\n          var cloneAttrs = [];\n          cloneAttrs.map = {};\n          for (var i = 0, l = selfAttrs.length; i < l; i++) {\n            var selfAttr = selfAttrs[i];\n            if (selfAttr.name !== 'id') {\n              cloneAttrs[cloneAttrs.length] = {\n                name: selfAttr.name,\n                value: selfAttr.value\n              };\n              cloneAttrs.map[selfAttr.name] = selfAttr.value;\n            }\n          }\n          clone.attributes = cloneAttrs;\n        }\n        clone.value = self.value;\n        clone.shortEnded = self.shortEnded;\n        return clone;\n      };\n      AstNode.prototype.wrap = function (wrapper) {\n        var self = this;\n        self.parent.insert(wrapper, self);\n        wrapper.append(self);\n        return self;\n      };\n      AstNode.prototype.unwrap = function () {\n        var self = this;\n        for (var node = self.firstChild; node;) {\n          var next = node.next;\n          self.insert(node, self, true);\n          node = next;\n        }\n        self.remove();\n      };\n      AstNode.prototype.remove = function () {\n        var self = this, parent = self.parent, next = self.next, prev = self.prev;\n        if (parent) {\n          if (parent.firstChild === self) {\n            parent.firstChild = next;\n            if (next) {\n              next.prev = null;\n            }\n          } else {\n            prev.next = next;\n          }\n          if (parent.lastChild === self) {\n            parent.lastChild = prev;\n            if (prev) {\n              prev.next = null;\n            }\n          } else {\n            next.prev = prev;\n          }\n          self.parent = self.next = self.prev = null;\n        }\n        return self;\n      };\n      AstNode.prototype.append = function (node) {\n        var self = this;\n        if (node.parent) {\n          node.remove();\n        }\n        var last = self.lastChild;\n        if (last) {\n          last.next = node;\n          node.prev = last;\n          self.lastChild = node;\n        } else {\n          self.lastChild = self.firstChild = node;\n        }\n        node.parent = self;\n        return node;\n      };\n      AstNode.prototype.insert = function (node, refNode, before) {\n        if (node.parent) {\n          node.remove();\n        }\n        var parent = refNode.parent || this;\n        if (before) {\n          if (refNode === parent.firstChild) {\n            parent.firstChild = node;\n          } else {\n            refNode.prev.next = node;\n          }\n          node.prev = refNode.prev;\n          node.next = refNode;\n          refNode.prev = node;\n        } else {\n          if (refNode === parent.lastChild) {\n            parent.lastChild = node;\n          } else {\n            refNode.next.prev = node;\n          }\n          node.next = refNode.next;\n          node.prev = refNode;\n          refNode.next = node;\n        }\n        node.parent = parent;\n        return node;\n      };\n      AstNode.prototype.getAll = function (name) {\n        var self = this;\n        var collection = [];\n        for (var node = self.firstChild; node; node = walk$1(node, self)) {\n          if (node.name === name) {\n            collection.push(node);\n          }\n        }\n        return collection;\n      };\n      AstNode.prototype.children = function () {\n        var self = this;\n        var collection = [];\n        for (var node = self.firstChild; node; node = node.next) {\n          collection.push(node);\n        }\n        return collection;\n      };\n      AstNode.prototype.empty = function () {\n        var self = this;\n        if (self.firstChild) {\n          var nodes = [];\n          for (var node = self.firstChild; node; node = walk$1(node, self)) {\n            nodes.push(node);\n          }\n          var i = nodes.length;\n          while (i--) {\n            var node = nodes[i];\n            node.parent = node.firstChild = node.lastChild = node.next = node.prev = null;\n          }\n        }\n        self.firstChild = self.lastChild = null;\n        return self;\n      };\n      AstNode.prototype.isEmpty = function (elements, whitespace, predicate) {\n        if (whitespace === void 0) {\n          whitespace = {};\n        }\n        var self = this;\n        var node = self.firstChild;\n        if (isNonEmptyElement(self)) {\n          return false;\n        }\n        if (node) {\n          do {\n            if (node.type === 1) {\n              if (node.attr('data-mce-bogus')) {\n                continue;\n              }\n              if (elements[node.name]) {\n                return false;\n              }\n              if (isNonEmptyElement(node)) {\n                return false;\n              }\n            }\n            if (node.type === 8) {\n              return false;\n            }\n            if (node.type === 3 && !isEmptyTextNode(node)) {\n              return false;\n            }\n            if (node.type === 3 && node.parent && whitespace[node.parent.name] && isWhitespaceText(node.value)) {\n              return false;\n            }\n            if (predicate && predicate(node)) {\n              return false;\n            }\n          } while (node = walk$1(node, self));\n        }\n        return true;\n      };\n      AstNode.prototype.walk = function (prev) {\n        return walk$1(this, null, prev);\n      };\n      return AstNode;\n    }();\n\n    var extractBase64DataUris = function (html) {\n      var dataImageUri = /data:[^;]+;base64,([a-z0-9\\+\\/=\\s]+)/gi;\n      var chunks = [];\n      var uris = {};\n      var prefix = generate('img');\n      var matches;\n      var index = 0;\n      var count = 0;\n      while (matches = dataImageUri.exec(html)) {\n        var uri = matches[0];\n        var imageId = prefix + '_' + count++;\n        uris[imageId] = uri;\n        if (index < matches.index) {\n          chunks.push(html.substr(index, matches.index - index));\n        }\n        chunks.push(imageId);\n        index = matches.index + uri.length;\n      }\n      var re = new RegExp(prefix + '_[0-9]+', 'g');\n      if (index === 0) {\n        return {\n          prefix: prefix,\n          uris: uris,\n          html: html,\n          re: re\n        };\n      } else {\n        if (index < html.length) {\n          chunks.push(html.substr(index));\n        }\n        return {\n          prefix: prefix,\n          uris: uris,\n          html: chunks.join(''),\n          re: re\n        };\n      }\n    };\n    var restoreDataUris = function (html, result) {\n      return html.replace(result.re, function (imageId) {\n        return get$9(result.uris, imageId).getOr(imageId);\n      });\n    };\n    var parseDataUri$1 = function (uri) {\n      var matches = /data:([^;]+);base64,([a-z0-9\\+\\/=\\s]+)/i.exec(uri);\n      if (matches) {\n        return Optional.some({\n          type: matches[1],\n          data: decodeURIComponent(matches[2])\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n\n    var each$d = Tools.each, trim = Tools.trim;\n    var queryParts = 'source protocol authority userInfo user password host port relative path directory file query anchor'.split(' ');\n    var DEFAULT_PORTS = {\n      ftp: 21,\n      http: 80,\n      https: 443,\n      mailto: 25\n    };\n    var safeSvgDataUrlElements = [\n      'img',\n      'video'\n    ];\n    var blockSvgDataUris = function (allowSvgDataUrls, tagName) {\n      if (isNonNullable(allowSvgDataUrls)) {\n        return !allowSvgDataUrls;\n      } else {\n        return isNonNullable(tagName) ? !contains$3(safeSvgDataUrlElements, tagName) : true;\n      }\n    };\n    var isInvalidUri = function (settings, uri, tagName) {\n      if (settings.allow_html_data_urls) {\n        return false;\n      } else if (/^data:image\\//i.test(uri)) {\n        return blockSvgDataUris(settings.allow_svg_data_urls, tagName) && /^data:image\\/svg\\+xml/i.test(uri);\n      } else {\n        return /^data:/i.test(uri);\n      }\n    };\n    var URI = function () {\n      function URI(url, settings) {\n        url = trim(url);\n        this.settings = settings || {};\n        var baseUri = this.settings.base_uri;\n        var self = this;\n        if (/^([\\w\\-]+):([^\\/]{2})/i.test(url) || /^\\s*#/.test(url)) {\n          self.source = url;\n          return;\n        }\n        var isProtocolRelative = url.indexOf('//') === 0;\n        if (url.indexOf('/') === 0 && !isProtocolRelative) {\n          url = (baseUri ? baseUri.protocol || 'http' : 'http') + '://mce_host' + url;\n        }\n        if (!/^[\\w\\-]*:?\\/\\//.test(url)) {\n          var baseUrl = this.settings.base_uri ? this.settings.base_uri.path : new URI(document.location.href).directory;\n          if (this.settings.base_uri && this.settings.base_uri.protocol == '') {\n            url = '//mce_host' + self.toAbsPath(baseUrl, url);\n          } else {\n            var match = /([^#?]*)([#?]?.*)/.exec(url);\n            url = (baseUri && baseUri.protocol || 'http') + '://mce_host' + self.toAbsPath(baseUrl, match[1]) + match[2];\n          }\n        }\n        url = url.replace(/@@/g, '(mce_at)');\n        var urlMatch = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@\\/]*):?([^:@\\/]*))?@)?(\\[[a-zA-Z0-9:.%]+\\]|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(url);\n        each$d(queryParts, function (v, i) {\n          var part = urlMatch[i];\n          if (part) {\n            part = part.replace(/\\(mce_at\\)/g, '@@');\n          }\n          self[v] = part;\n        });\n        if (baseUri) {\n          if (!self.protocol) {\n            self.protocol = baseUri.protocol;\n          }\n          if (!self.userInfo) {\n            self.userInfo = baseUri.userInfo;\n          }\n          if (!self.port && self.host === 'mce_host') {\n            self.port = baseUri.port;\n          }\n          if (!self.host || self.host === 'mce_host') {\n            self.host = baseUri.host;\n          }\n          self.source = '';\n        }\n        if (isProtocolRelative) {\n          self.protocol = '';\n        }\n      }\n      URI.parseDataUri = function (uri) {\n        var type;\n        var uriComponents = decodeURIComponent(uri).split(',');\n        var matches = /data:([^;]+)/.exec(uriComponents[0]);\n        if (matches) {\n          type = matches[1];\n        }\n        return {\n          type: type,\n          data: uriComponents[1]\n        };\n      };\n      URI.isDomSafe = function (uri, context, options) {\n        if (options === void 0) {\n          options = {};\n        }\n        if (options.allow_script_urls) {\n          return true;\n        } else {\n          var decodedUri = Entities.decode(uri).replace(/[\\s\\u0000-\\u001F]+/g, '');\n          try {\n            decodedUri = decodeURIComponent(decodedUri);\n          } catch (ex) {\n            decodedUri = unescape(decodedUri);\n          }\n          if (/((java|vb)script|mhtml):/i.test(decodedUri)) {\n            return false;\n          }\n          return !isInvalidUri(options, decodedUri, context);\n        }\n      };\n      URI.getDocumentBaseUrl = function (loc) {\n        var baseUrl;\n        if (loc.protocol.indexOf('http') !== 0 && loc.protocol !== 'file:') {\n          baseUrl = loc.href;\n        } else {\n          baseUrl = loc.protocol + '//' + loc.host + loc.pathname;\n        }\n        if (/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(baseUrl)) {\n          baseUrl = baseUrl.replace(/[\\?#].*$/, '').replace(/[\\/\\\\][^\\/]+$/, '');\n          if (!/[\\/\\\\]$/.test(baseUrl)) {\n            baseUrl += '/';\n          }\n        }\n        return baseUrl;\n      };\n      URI.prototype.setPath = function (path) {\n        var pathMatch = /^(.*?)\\/?(\\w+)?$/.exec(path);\n        this.path = pathMatch[0];\n        this.directory = pathMatch[1];\n        this.file = pathMatch[2];\n        this.source = '';\n        this.getURI();\n      };\n      URI.prototype.toRelative = function (uri) {\n        var output;\n        if (uri === './') {\n          return uri;\n        }\n        var relativeUri = new URI(uri, { base_uri: this });\n        if (relativeUri.host !== 'mce_host' && this.host !== relativeUri.host && relativeUri.host || this.port !== relativeUri.port || this.protocol !== relativeUri.protocol && relativeUri.protocol !== '') {\n          return relativeUri.getURI();\n        }\n        var tu = this.getURI(), uu = relativeUri.getURI();\n        if (tu === uu || tu.charAt(tu.length - 1) === '/' && tu.substr(0, tu.length - 1) === uu) {\n          return tu;\n        }\n        output = this.toRelPath(this.path, relativeUri.path);\n        if (relativeUri.query) {\n          output += '?' + relativeUri.query;\n        }\n        if (relativeUri.anchor) {\n          output += '#' + relativeUri.anchor;\n        }\n        return output;\n      };\n      URI.prototype.toAbsolute = function (uri, noHost) {\n        var absoluteUri = new URI(uri, { base_uri: this });\n        return absoluteUri.getURI(noHost && this.isSameOrigin(absoluteUri));\n      };\n      URI.prototype.isSameOrigin = function (uri) {\n        if (this.host == uri.host && this.protocol == uri.protocol) {\n          if (this.port == uri.port) {\n            return true;\n          }\n          var defaultPort = DEFAULT_PORTS[this.protocol];\n          if (defaultPort && (this.port || defaultPort) == (uri.port || defaultPort)) {\n            return true;\n          }\n        }\n        return false;\n      };\n      URI.prototype.toRelPath = function (base, path) {\n        var breakPoint = 0, out = '', i, l;\n        var normalizedBase = base.substring(0, base.lastIndexOf('/')).split('/');\n        var items = path.split('/');\n        if (normalizedBase.length >= items.length) {\n          for (i = 0, l = normalizedBase.length; i < l; i++) {\n            if (i >= items.length || normalizedBase[i] !== items[i]) {\n              breakPoint = i + 1;\n              break;\n            }\n          }\n        }\n        if (normalizedBase.length < items.length) {\n          for (i = 0, l = items.length; i < l; i++) {\n            if (i >= normalizedBase.length || normalizedBase[i] !== items[i]) {\n              breakPoint = i + 1;\n              break;\n            }\n          }\n        }\n        if (breakPoint === 1) {\n          return path;\n        }\n        for (i = 0, l = normalizedBase.length - (breakPoint - 1); i < l; i++) {\n          out += '../';\n        }\n        for (i = breakPoint - 1, l = items.length; i < l; i++) {\n          if (i !== breakPoint - 1) {\n            out += '/' + items[i];\n          } else {\n            out += items[i];\n          }\n        }\n        return out;\n      };\n      URI.prototype.toAbsPath = function (base, path) {\n        var i, nb = 0, o = [], outPath;\n        var tr = /\\/$/.test(path) ? '/' : '';\n        var normalizedBase = base.split('/');\n        var normalizedPath = path.split('/');\n        each$d(normalizedBase, function (k) {\n          if (k) {\n            o.push(k);\n          }\n        });\n        normalizedBase = o;\n        for (i = normalizedPath.length - 1, o = []; i >= 0; i--) {\n          if (normalizedPath[i].length === 0 || normalizedPath[i] === '.') {\n            continue;\n          }\n          if (normalizedPath[i] === '..') {\n            nb++;\n            continue;\n          }\n          if (nb > 0) {\n            nb--;\n            continue;\n          }\n          o.push(normalizedPath[i]);\n        }\n        i = normalizedBase.length - nb;\n        if (i <= 0) {\n          outPath = reverse(o).join('/');\n        } else {\n          outPath = normalizedBase.slice(0, i).join('/') + '/' + reverse(o).join('/');\n        }\n        if (outPath.indexOf('/') !== 0) {\n          outPath = '/' + outPath;\n        }\n        if (tr && outPath.lastIndexOf('/') !== outPath.length - 1) {\n          outPath += tr;\n        }\n        return outPath;\n      };\n      URI.prototype.getURI = function (noProtoHost) {\n        if (noProtoHost === void 0) {\n          noProtoHost = false;\n        }\n        var s;\n        if (!this.source || noProtoHost) {\n          s = '';\n          if (!noProtoHost) {\n            if (this.protocol) {\n              s += this.protocol + '://';\n            } else {\n              s += '//';\n            }\n            if (this.userInfo) {\n              s += this.userInfo + '@';\n            }\n            if (this.host) {\n              s += this.host;\n            }\n            if (this.port) {\n              s += ':' + this.port;\n            }\n          }\n          if (this.path) {\n            s += this.path;\n          }\n          if (this.query) {\n            s += '?' + this.query;\n          }\n          if (this.anchor) {\n            s += '#' + this.anchor;\n          }\n          this.source = s;\n        }\n        return this.source;\n      };\n      return URI;\n    }();\n\n    var filteredClobberElements = Tools.makeMap('button,fieldset,form,iframe,img,image,input,object,output,select,textarea');\n    var isValidPrefixAttrName = function (name) {\n      return name.indexOf('data-') === 0 || name.indexOf('aria-') === 0;\n    };\n    var findMatchingEndTagIndex = function (schema, html, startIndex) {\n      var startTagRegExp = /<([!?\\/])?([A-Za-z0-9\\-_:.]+)/g;\n      var endTagRegExp = /(?:\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>/g;\n      var shortEndedElements = schema.getShortEndedElements();\n      var count = 1, index = startIndex;\n      while (count !== 0) {\n        startTagRegExp.lastIndex = index;\n        while (true) {\n          var startMatch = startTagRegExp.exec(html);\n          if (startMatch === null) {\n            return index;\n          } else if (startMatch[1] === '!') {\n            if (startsWith(startMatch[2], '--')) {\n              index = findCommentEndIndex(html, false, startMatch.index + '!--'.length);\n            } else {\n              index = findCommentEndIndex(html, true, startMatch.index + 1);\n            }\n            break;\n          } else {\n            endTagRegExp.lastIndex = startTagRegExp.lastIndex;\n            var endMatch = endTagRegExp.exec(html);\n            if (isNull(endMatch) || endMatch.index !== startTagRegExp.lastIndex) {\n              continue;\n            }\n            if (startMatch[1] === '/') {\n              count -= 1;\n            } else if (!has$2(shortEndedElements, startMatch[2])) {\n              count += 1;\n            }\n            index = startTagRegExp.lastIndex + endMatch[0].length;\n            break;\n          }\n        }\n      }\n      return index;\n    };\n    var isConditionalComment = function (html, startIndex) {\n      return /^\\s*\\[if [\\w\\W]+\\]>.*<!\\[endif\\](--!?)?>/.test(html.substr(startIndex));\n    };\n    var findCommentEndIndex = function (html, isBogus, startIndex) {\n      if (startIndex === void 0) {\n        startIndex = 0;\n      }\n      var lcHtml = html.toLowerCase();\n      if (lcHtml.indexOf('[if ', startIndex) !== -1 && isConditionalComment(lcHtml, startIndex)) {\n        var endIfIndex = lcHtml.indexOf('[endif]', startIndex);\n        return lcHtml.indexOf('>', endIfIndex);\n      } else {\n        if (isBogus) {\n          var endIndex = lcHtml.indexOf('>', startIndex);\n          return endIndex !== -1 ? endIndex : lcHtml.length;\n        } else {\n          var endCommentRegexp = /--!?>/g;\n          endCommentRegexp.lastIndex = startIndex;\n          var match = endCommentRegexp.exec(html);\n          return match ? match.index + match[0].length : lcHtml.length;\n        }\n      }\n    };\n    var checkBogusAttribute = function (regExp, attrString) {\n      var matches = regExp.exec(attrString);\n      if (matches) {\n        var name_1 = matches[1];\n        var value = matches[2];\n        return typeof name_1 === 'string' && name_1.toLowerCase() === 'data-mce-bogus' ? value : null;\n      } else {\n        return null;\n      }\n    };\n    var SaxParser = function (settings, schema) {\n      var _a;\n      if (schema === void 0) {\n        schema = Schema();\n      }\n      settings = settings || {};\n      var doc = (_a = settings.document) !== null && _a !== void 0 ? _a : document;\n      var form = doc.createElement('form');\n      if (settings.fix_self_closing !== false) {\n        settings.fix_self_closing = true;\n      }\n      var comment = settings.comment ? settings.comment : noop;\n      var cdata = settings.cdata ? settings.cdata : noop;\n      var text = settings.text ? settings.text : noop;\n      var start = settings.start ? settings.start : noop;\n      var end = settings.end ? settings.end : noop;\n      var pi = settings.pi ? settings.pi : noop;\n      var doctype = settings.doctype ? settings.doctype : noop;\n      var parseInternal = function (base64Extract, format) {\n        if (format === void 0) {\n          format = 'html';\n        }\n        var html = base64Extract.html;\n        var matches, index = 0, value, endRegExp;\n        var stack = [];\n        var attrList, i, textData, name;\n        var isInternalElement, isShortEnded;\n        var elementRule, isValidElement, attr, attribsValue, validAttributesMap, validAttributePatterns;\n        var attributesRequired, attributesDefault, attributesForced;\n        var anyAttributesRequired, attrValue, idCount = 0;\n        var decode = Entities.decode;\n        var filteredUrlAttrs = Tools.makeMap('src,href,data,background,action,formaction,poster,xlink:href');\n        var parsingMode = format === 'html' ? 0 : 1;\n        var processEndTag = function (name) {\n          var pos, i;\n          pos = stack.length;\n          while (pos--) {\n            if (stack[pos].name === name) {\n              break;\n            }\n          }\n          if (pos >= 0) {\n            for (i = stack.length - 1; i >= pos; i--) {\n              name = stack[i];\n              if (name.valid) {\n                end(name.name);\n              }\n            }\n            stack.length = pos;\n          }\n        };\n        var processText = function (value, raw) {\n          return text(restoreDataUris(value, base64Extract), raw);\n        };\n        var processComment = function (value) {\n          if (value === '') {\n            return;\n          }\n          if (value.charAt(0) === '>') {\n            value = ' ' + value;\n          }\n          if (!settings.allow_conditional_comments && value.substr(0, 3).toLowerCase() === '[if') {\n            value = ' ' + value;\n          }\n          comment(restoreDataUris(value, base64Extract));\n        };\n        var processAttr = function (value) {\n          return restoreDataUris(value, base64Extract);\n        };\n        var processMalformedComment = function (value, startIndex) {\n          var startTag = value || '';\n          var isBogus = !startsWith(startTag, '--');\n          var endIndex = findCommentEndIndex(html, isBogus, startIndex);\n          value = html.substr(startIndex, endIndex - startIndex);\n          processComment(isBogus ? startTag + value : value);\n          return endIndex + 1;\n        };\n        var parseAttribute = function (tagName, name, value, val2, val3) {\n          name = name.toLowerCase();\n          value = processAttr(name in fillAttrsMap ? name : decode(value || val2 || val3 || ''));\n          if (validate && !isInternalElement && isValidPrefixAttrName(name) === false) {\n            var attrRule = validAttributesMap[name];\n            if (!attrRule && validAttributePatterns) {\n              var i_1 = validAttributePatterns.length;\n              while (i_1--) {\n                attrRule = validAttributePatterns[i_1];\n                if (attrRule.pattern.test(name)) {\n                  break;\n                }\n              }\n              if (i_1 === -1) {\n                attrRule = null;\n              }\n            }\n            if (!attrRule) {\n              return;\n            }\n            if (attrRule.validValues && !(value in attrRule.validValues)) {\n              return;\n            }\n          }\n          var isNameOrId = name === 'name' || name === 'id';\n          if (isNameOrId && tagName in filteredClobberElements && (value in doc || value in form)) {\n            return;\n          }\n          if (filteredUrlAttrs[name] && !URI.isDomSafe(value, tagName, settings)) {\n            return;\n          }\n          if (isInternalElement && (name in filteredUrlAttrs || name.indexOf('on') === 0)) {\n            return;\n          }\n          attrList.map[name] = value;\n          attrList.push({\n            name: name,\n            value: value\n          });\n        };\n        var tokenRegExp = new RegExp('<(?:' + '(?:!--([\\\\w\\\\W]*?)--!?>)|' + '(?:!\\\\[CDATA\\\\[([\\\\w\\\\W]*?)\\\\]\\\\]>)|' + '(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\\\w\\\\W]*?)>)|' + '(?:!(--)?)|' + '(?:\\\\?([^\\\\s\\\\/<>]+) ?([\\\\w\\\\W]*?)[?/]>)|' + '(?:\\\\/([A-Za-z][A-Za-z0-9\\\\-_\\\\:\\\\.]*)>)|' + '(?:([A-Za-z][A-Za-z0-9\\\\-_:.]*)(\\\\s(?:[^\\'\">]+(?:\"[^\"]*\"|\\'[^\\']*\\'))*[^\"\\'>]*(?:\"[^\">]*|\\'[^\\'>]*)?|\\\\s*|\\\\/)>)' + ')', 'g');\n        var attrRegExp = /([\\w:\\-]+)(?:\\s*=\\s*(?:(?:\\\"((?:[^\\\"])*)\\\")|(?:\\'((?:[^\\'])*)\\')|([^>\\s]+)))?/g;\n        var shortEndedElements = schema.getShortEndedElements();\n        var selfClosing = settings.self_closing_elements || schema.getSelfClosingElements();\n        var fillAttrsMap = schema.getBoolAttrs();\n        var validate = settings.validate;\n        var removeInternalElements = settings.remove_internals;\n        var fixSelfClosing = settings.fix_self_closing;\n        var specialElements = schema.getSpecialElements();\n        var processHtml = html + '>';\n        while (matches = tokenRegExp.exec(processHtml)) {\n          var matchText = matches[0];\n          if (index < matches.index) {\n            processText(decode(html.substr(index, matches.index - index)));\n          }\n          if (value = matches[7]) {\n            value = value.toLowerCase();\n            if (value.charAt(0) === ':') {\n              value = value.substr(1);\n            }\n            processEndTag(value);\n          } else if (value = matches[8]) {\n            if (matches.index + matchText.length > html.length) {\n              processText(decode(html.substr(matches.index)));\n              index = matches.index + matchText.length;\n              continue;\n            }\n            value = value.toLowerCase();\n            if (value.charAt(0) === ':') {\n              value = value.substr(1);\n            }\n            isShortEnded = value in shortEndedElements;\n            if (fixSelfClosing && selfClosing[value] && stack.length > 0 && stack[stack.length - 1].name === value) {\n              processEndTag(value);\n            }\n            var bogusValue = checkBogusAttribute(attrRegExp, matches[9]);\n            if (bogusValue !== null) {\n              if (bogusValue === 'all') {\n                index = findMatchingEndTagIndex(schema, html, tokenRegExp.lastIndex);\n                tokenRegExp.lastIndex = index;\n                continue;\n              }\n              isValidElement = false;\n            }\n            if (!validate || (elementRule = schema.getElementRule(value))) {\n              isValidElement = true;\n              if (validate) {\n                validAttributesMap = elementRule.attributes;\n                validAttributePatterns = elementRule.attributePatterns;\n              }\n              if (attribsValue = matches[9]) {\n                isInternalElement = attribsValue.indexOf('data-mce-type') !== -1;\n                if (isInternalElement && removeInternalElements) {\n                  isValidElement = false;\n                }\n                attrList = [];\n                attrList.map = {};\n                attribsValue.replace(attrRegExp, function (match, name, val, val2, val3) {\n                  parseAttribute(value, name, val, val2, val3);\n                  return '';\n                });\n              } else {\n                attrList = [];\n                attrList.map = {};\n              }\n              if (validate && !isInternalElement) {\n                attributesRequired = elementRule.attributesRequired;\n                attributesDefault = elementRule.attributesDefault;\n                attributesForced = elementRule.attributesForced;\n                anyAttributesRequired = elementRule.removeEmptyAttrs;\n                if (anyAttributesRequired && !attrList.length) {\n                  isValidElement = false;\n                }\n                if (attributesForced) {\n                  i = attributesForced.length;\n                  while (i--) {\n                    attr = attributesForced[i];\n                    name = attr.name;\n                    attrValue = attr.value;\n                    if (attrValue === '{$uid}') {\n                      attrValue = 'mce_' + idCount++;\n                    }\n                    attrList.map[name] = attrValue;\n                    attrList.push({\n                      name: name,\n                      value: attrValue\n                    });\n                  }\n                }\n                if (attributesDefault) {\n                  i = attributesDefault.length;\n                  while (i--) {\n                    attr = attributesDefault[i];\n                    name = attr.name;\n                    if (!(name in attrList.map)) {\n                      attrValue = attr.value;\n                      if (attrValue === '{$uid}') {\n                        attrValue = 'mce_' + idCount++;\n                      }\n                      attrList.map[name] = attrValue;\n                      attrList.push({\n                        name: name,\n                        value: attrValue\n                      });\n                    }\n                  }\n                }\n                if (attributesRequired) {\n                  i = attributesRequired.length;\n                  while (i--) {\n                    if (attributesRequired[i] in attrList.map) {\n                      break;\n                    }\n                  }\n                  if (i === -1) {\n                    isValidElement = false;\n                  }\n                }\n                if (attr = attrList.map['data-mce-bogus']) {\n                  if (attr === 'all') {\n                    index = findMatchingEndTagIndex(schema, html, tokenRegExp.lastIndex);\n                    tokenRegExp.lastIndex = index;\n                    continue;\n                  }\n                  isValidElement = false;\n                }\n              }\n              if (isValidElement) {\n                start(value, attrList, isShortEnded);\n              }\n            } else {\n              isValidElement = false;\n            }\n            if (endRegExp = specialElements[value]) {\n              endRegExp.lastIndex = index = matches.index + matchText.length;\n              if (matches = endRegExp.exec(html)) {\n                if (isValidElement) {\n                  textData = html.substr(index, matches.index - index);\n                }\n                index = matches.index + matches[0].length;\n              } else {\n                textData = html.substr(index);\n                index = html.length;\n              }\n              if (isValidElement) {\n                if (textData.length > 0) {\n                  processText(textData, true);\n                }\n                end(value);\n              }\n              tokenRegExp.lastIndex = index;\n              continue;\n            }\n            if (!isShortEnded) {\n              if (!attribsValue || attribsValue.indexOf('/') !== attribsValue.length - 1) {\n                stack.push({\n                  name: value,\n                  valid: isValidElement\n                });\n              } else if (isValidElement) {\n                end(value);\n              }\n            }\n          } else if (value = matches[1]) {\n            processComment(value);\n          } else if (value = matches[2]) {\n            var isValidCdataSection = parsingMode === 1 || settings.preserve_cdata || stack.length > 0 && schema.isValidChild(stack[stack.length - 1].name, '#cdata');\n            if (isValidCdataSection) {\n              cdata(value);\n            } else {\n              index = processMalformedComment('', matches.index + 2);\n              tokenRegExp.lastIndex = index;\n              continue;\n            }\n          } else if (value = matches[3]) {\n            doctype(value);\n          } else if ((value = matches[4]) || matchText === '<!') {\n            index = processMalformedComment(value, matches.index + matchText.length);\n            tokenRegExp.lastIndex = index;\n            continue;\n          } else if (value = matches[5]) {\n            if (parsingMode === 1) {\n              pi(value, matches[6]);\n            } else {\n              index = processMalformedComment('?', matches.index + 2);\n              tokenRegExp.lastIndex = index;\n              continue;\n            }\n          }\n          index = matches.index + matchText.length;\n        }\n        if (index < html.length) {\n          processText(decode(html.substr(index)));\n        }\n        for (i = stack.length - 1; i >= 0; i--) {\n          value = stack[i];\n          if (value.valid) {\n            end(value.name);\n          }\n        }\n      };\n      var parse = function (html, format) {\n        if (format === void 0) {\n          format = 'html';\n        }\n        parseInternal(extractBase64DataUris(html), format);\n      };\n      return { parse: parse };\n    };\n    SaxParser.findEndTag = findMatchingEndTagIndex;\n\n    var trimHtml = function (tempAttrs, html) {\n      var trimContentRegExp = new RegExp(['\\\\s?(' + tempAttrs.join('|') + ')=\"[^\"]+\"'].join('|'), 'gi');\n      return html.replace(trimContentRegExp, '');\n    };\n    var trimInternal = function (serializer, html) {\n      var bogusAllRegExp = /<(\\w+) [^>]*data-mce-bogus=\"all\"[^>]*>/g;\n      var schema = serializer.schema;\n      var content = trimHtml(serializer.getTempAttrs(), html);\n      var shortEndedElements = schema.getShortEndedElements();\n      var matches;\n      while (matches = bogusAllRegExp.exec(content)) {\n        var index = bogusAllRegExp.lastIndex;\n        var matchLength = matches[0].length;\n        var endTagIndex = void 0;\n        if (shortEndedElements[matches[1]]) {\n          endTagIndex = index;\n        } else {\n          endTagIndex = SaxParser.findEndTag(schema, content, index);\n        }\n        content = content.substring(0, index - matchLength) + content.substring(endTagIndex);\n        bogusAllRegExp.lastIndex = index - matchLength;\n      }\n      return trim$2(content);\n    };\n    var trimExternal = trimInternal;\n\n    var trimEmptyContents = function (editor, html) {\n      var blockName = getForcedRootBlock(editor);\n      var emptyRegExp = new RegExp('^(<' + blockName + '[^>]*>(&nbsp;|&#160;|\\\\s|\\xA0|<br \\\\/>|)<\\\\/' + blockName + '>[\\r\\n]*|<br \\\\/>[\\r\\n]*)$');\n      return html.replace(emptyRegExp, '');\n    };\n    var setupArgs$3 = function (args, format) {\n      return __assign(__assign({}, args), {\n        format: format,\n        get: true,\n        getInner: true\n      });\n    };\n    var getContentFromBody = function (editor, args, format, body) {\n      var defaultedArgs = setupArgs$3(args, format);\n      var updatedArgs = args.no_events ? defaultedArgs : editor.fire('BeforeGetContent', defaultedArgs);\n      var content;\n      if (updatedArgs.format === 'raw') {\n        content = Tools.trim(trimExternal(editor.serializer, body.innerHTML));\n      } else if (updatedArgs.format === 'text') {\n        content = editor.dom.isEmpty(body) ? '' : trim$2(body.innerText || body.textContent);\n      } else if (updatedArgs.format === 'tree') {\n        content = editor.serializer.serialize(body, updatedArgs);\n      } else {\n        content = trimEmptyContents(editor, editor.serializer.serialize(body, updatedArgs));\n      }\n      if (!contains$3([\n          'text',\n          'tree'\n        ], updatedArgs.format) && !isWsPreserveElement(SugarElement.fromDom(body))) {\n        updatedArgs.content = Tools.trim(content);\n      } else {\n        updatedArgs.content = content;\n      }\n      if (updatedArgs.no_events) {\n        return updatedArgs.content;\n      } else {\n        return editor.fire('GetContent', updatedArgs).content;\n      }\n    };\n    var getContentInternal = function (editor, args, format) {\n      return Optional.from(editor.getBody()).fold(constant(args.format === 'tree' ? new AstNode('body', 11) : ''), function (body) {\n        return getContentFromBody(editor, args, format, body);\n      });\n    };\n\n    var each$c = Tools.each;\n    var ElementUtils = function (dom) {\n      var compare = function (node1, node2) {\n        if (node1.nodeName !== node2.nodeName) {\n          return false;\n        }\n        var getAttribs = function (node) {\n          var attribs = {};\n          each$c(dom.getAttribs(node), function (attr) {\n            var name = attr.nodeName.toLowerCase();\n            if (name.indexOf('_') !== 0 && name !== 'style' && name.indexOf('data-') !== 0) {\n              attribs[name] = dom.getAttrib(node, name);\n            }\n          });\n          return attribs;\n        };\n        var compareObjects = function (obj1, obj2) {\n          var value, name;\n          for (name in obj1) {\n            if (has$2(obj1, name)) {\n              value = obj2[name];\n              if (typeof value === 'undefined') {\n                return false;\n              }\n              if (obj1[name] !== value) {\n                return false;\n              }\n              delete obj2[name];\n            }\n          }\n          for (name in obj2) {\n            if (has$2(obj2, name)) {\n              return false;\n            }\n          }\n          return true;\n        };\n        if (!compareObjects(getAttribs(node1), getAttribs(node2))) {\n          return false;\n        }\n        if (!compareObjects(dom.parseStyle(dom.getAttrib(node1, 'style')), dom.parseStyle(dom.getAttrib(node2, 'style')))) {\n          return false;\n        }\n        return !isBookmarkNode$1(node1) && !isBookmarkNode$1(node2);\n      };\n      return { compare: compare };\n    };\n\n    var makeMap$1 = Tools.makeMap;\n    var Writer = function (settings) {\n      var html = [];\n      settings = settings || {};\n      var indent = settings.indent;\n      var indentBefore = makeMap$1(settings.indent_before || '');\n      var indentAfter = makeMap$1(settings.indent_after || '');\n      var encode = Entities.getEncodeFunc(settings.entity_encoding || 'raw', settings.entities);\n      var htmlOutput = settings.element_format === 'html';\n      return {\n        start: function (name, attrs, empty) {\n          var i, l, attr, value;\n          if (indent && indentBefore[name] && html.length > 0) {\n            value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n          html.push('<', name);\n          if (attrs) {\n            for (i = 0, l = attrs.length; i < l; i++) {\n              attr = attrs[i];\n              html.push(' ', attr.name, '=\"', encode(attr.value, true), '\"');\n            }\n          }\n          if (!empty || htmlOutput) {\n            html[html.length] = '>';\n          } else {\n            html[html.length] = ' />';\n          }\n          if (empty && indent && indentAfter[name] && html.length > 0) {\n            value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n        },\n        end: function (name) {\n          var value;\n          html.push('</', name, '>');\n          if (indent && indentAfter[name] && html.length > 0) {\n            value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n        },\n        text: function (text, raw) {\n          if (text.length > 0) {\n            html[html.length] = raw ? text : encode(text);\n          }\n        },\n        cdata: function (text) {\n          html.push('<![CDATA[', text, ']]>');\n        },\n        comment: function (text) {\n          html.push('<!--', text, '-->');\n        },\n        pi: function (name, text) {\n          if (text) {\n            html.push('<?', name, ' ', encode(text), '?>');\n          } else {\n            html.push('<?', name, '?>');\n          }\n          if (indent) {\n            html.push('\\n');\n          }\n        },\n        doctype: function (text) {\n          html.push('<!DOCTYPE', text, '>', indent ? '\\n' : '');\n        },\n        reset: function () {\n          html.length = 0;\n        },\n        getContent: function () {\n          return html.join('').replace(/\\n$/, '');\n        }\n      };\n    };\n\n    var HtmlSerializer = function (settings, schema) {\n      if (schema === void 0) {\n        schema = Schema();\n      }\n      var writer = Writer(settings);\n      settings = settings || {};\n      settings.validate = 'validate' in settings ? settings.validate : true;\n      var serialize = function (node) {\n        var validate = settings.validate;\n        var handlers = {\n          3: function (node) {\n            writer.text(node.value, node.raw);\n          },\n          8: function (node) {\n            writer.comment(node.value);\n          },\n          7: function (node) {\n            writer.pi(node.name, node.value);\n          },\n          10: function (node) {\n            writer.doctype(node.value);\n          },\n          4: function (node) {\n            writer.cdata(node.value);\n          },\n          11: function (node) {\n            if (node = node.firstChild) {\n              do {\n                walk(node);\n              } while (node = node.next);\n            }\n          }\n        };\n        writer.reset();\n        var walk = function (node) {\n          var handler = handlers[node.type];\n          if (!handler) {\n            var name_1 = node.name;\n            var isEmpty = node.shortEnded;\n            var attrs = node.attributes;\n            if (validate && attrs && attrs.length > 1) {\n              var sortedAttrs = [];\n              sortedAttrs.map = {};\n              var elementRule = schema.getElementRule(node.name);\n              if (elementRule) {\n                for (var i = 0, l = elementRule.attributesOrder.length; i < l; i++) {\n                  var attrName = elementRule.attributesOrder[i];\n                  if (attrName in attrs.map) {\n                    var attrValue = attrs.map[attrName];\n                    sortedAttrs.map[attrName] = attrValue;\n                    sortedAttrs.push({\n                      name: attrName,\n                      value: attrValue\n                    });\n                  }\n                }\n                for (var i = 0, l = attrs.length; i < l; i++) {\n                  var attrName = attrs[i].name;\n                  if (!(attrName in sortedAttrs.map)) {\n                    var attrValue = attrs.map[attrName];\n                    sortedAttrs.map[attrName] = attrValue;\n                    sortedAttrs.push({\n                      name: attrName,\n                      value: attrValue\n                    });\n                  }\n                }\n                attrs = sortedAttrs;\n              }\n            }\n            writer.start(node.name, attrs, isEmpty);\n            if (!isEmpty) {\n              if (node = node.firstChild) {\n                do {\n                  walk(node);\n                } while (node = node.next);\n              }\n              writer.end(name_1);\n            }\n          } else {\n            handler(node);\n          }\n        };\n        if (node.type === 1 && !settings.inner) {\n          walk(node);\n        } else {\n          handlers[11](node);\n        }\n        return writer.getContent();\n      };\n      return { serialize: serialize };\n    };\n\n    var nonInheritableStyles = new Set();\n    (function () {\n      var nonInheritableStylesArr = [\n        'margin',\n        'margin-left',\n        'margin-right',\n        'margin-top',\n        'margin-bottom',\n        'padding',\n        'padding-left',\n        'padding-right',\n        'padding-top',\n        'padding-bottom',\n        'border',\n        'border-width',\n        'border-style',\n        'border-color',\n        'background',\n        'background-attachment',\n        'background-clip',\n        'background-color',\n        'background-image',\n        'background-origin',\n        'background-position',\n        'background-repeat',\n        'background-size',\n        'float',\n        'position',\n        'left',\n        'right',\n        'top',\n        'bottom',\n        'z-index',\n        'display',\n        'transform',\n        'width',\n        'max-width',\n        'min-width',\n        'height',\n        'max-height',\n        'min-height',\n        'overflow',\n        'overflow-x',\n        'overflow-y',\n        'text-overflow',\n        'vertical-align',\n        'transition',\n        'transition-delay',\n        'transition-duration',\n        'transition-property',\n        'transition-timing-function'\n      ];\n      each$k(nonInheritableStylesArr, function (style) {\n        nonInheritableStyles.add(style);\n      });\n    }());\n    var shorthandStyleProps = [\n      'font',\n      'text-decoration',\n      'text-emphasis'\n    ];\n    var getStyleProps = function (dom, node) {\n      return keys(dom.parseStyle(dom.getAttrib(node, 'style')));\n    };\n    var isNonInheritableStyle = function (style) {\n      return nonInheritableStyles.has(style);\n    };\n    var hasInheritableStyles = function (dom, node) {\n      return forall(getStyleProps(dom, node), function (style) {\n        return !isNonInheritableStyle(style);\n      });\n    };\n    var getLonghandStyleProps = function (styles) {\n      return filter$4(styles, function (style) {\n        return exists(shorthandStyleProps, function (prop) {\n          return startsWith(style, prop);\n        });\n      });\n    };\n    var hasStyleConflict = function (dom, node, parentNode) {\n      var nodeStyleProps = getStyleProps(dom, node);\n      var parentNodeStyleProps = getStyleProps(dom, parentNode);\n      var valueMismatch = function (prop) {\n        var nodeValue = dom.getStyle(node, prop);\n        var parentValue = dom.getStyle(parentNode, prop);\n        return isNotEmpty(nodeValue) && isNotEmpty(parentValue) && nodeValue !== parentValue;\n      };\n      return exists(nodeStyleProps, function (nodeStyleProp) {\n        var propExists = function (props) {\n          return exists(props, function (prop) {\n            return prop === nodeStyleProp;\n          });\n        };\n        if (!propExists(parentNodeStyleProps) && propExists(shorthandStyleProps)) {\n          var longhandProps = getLonghandStyleProps(parentNodeStyleProps);\n          return exists(longhandProps, valueMismatch);\n        } else {\n          return valueMismatch(nodeStyleProp);\n        }\n      });\n    };\n\n    var isChar = function (forward, predicate, pos) {\n      return Optional.from(pos.container()).filter(isText$7).exists(function (text) {\n        var delta = forward ? 0 : -1;\n        return predicate(text.data.charAt(pos.offset() + delta));\n      });\n    };\n    var isBeforeSpace = curry(isChar, true, isWhiteSpace);\n    var isAfterSpace = curry(isChar, false, isWhiteSpace);\n    var isEmptyText = function (pos) {\n      var container = pos.container();\n      return isText$7(container) && (container.data.length === 0 || isZwsp(container.data) && BookmarkManager.isBookmarkNode(container.parentNode));\n    };\n    var matchesElementPosition = function (before, predicate) {\n      return function (pos) {\n        return Optional.from(getChildNodeAtRelativeOffset(before ? 0 : -1, pos)).filter(predicate).isSome();\n      };\n    };\n    var isImageBlock = function (node) {\n      return isImg(node) && get$5(SugarElement.fromDom(node), 'display') === 'block';\n    };\n    var isCefNode = function (node) {\n      return isContentEditableFalse$b(node) && !isBogusAll$1(node);\n    };\n    var isBeforeImageBlock = matchesElementPosition(true, isImageBlock);\n    var isAfterImageBlock = matchesElementPosition(false, isImageBlock);\n    var isBeforeMedia = matchesElementPosition(true, isMedia$2);\n    var isAfterMedia = matchesElementPosition(false, isMedia$2);\n    var isBeforeTable = matchesElementPosition(true, isTable$3);\n    var isAfterTable = matchesElementPosition(false, isTable$3);\n    var isBeforeContentEditableFalse = matchesElementPosition(true, isCefNode);\n    var isAfterContentEditableFalse = matchesElementPosition(false, isCefNode);\n\n    var getLastChildren = function (elm) {\n      var children = [];\n      var rawNode = elm.dom;\n      while (rawNode) {\n        children.push(SugarElement.fromDom(rawNode));\n        rawNode = rawNode.lastChild;\n      }\n      return children;\n    };\n    var removeTrailingBr = function (elm) {\n      var allBrs = descendants(elm, 'br');\n      var brs = filter$4(getLastChildren(elm).slice(-1), isBr$4);\n      if (allBrs.length === brs.length) {\n        each$k(brs, remove$7);\n      }\n    };\n    var fillWithPaddingBr = function (elm) {\n      empty(elm);\n      append$1(elm, SugarElement.fromHtml('<br data-mce-bogus=\"1\">'));\n    };\n    var trimBlockTrailingBr = function (elm) {\n      lastChild(elm).each(function (lastChild) {\n        prevSibling(lastChild).each(function (lastChildPrevSibling) {\n          if (isBlock$2(elm) && isBr$4(lastChild) && isBlock$2(lastChildPrevSibling)) {\n            remove$7(lastChild);\n          }\n        });\n      });\n    };\n\n    var dropLast = function (xs) {\n      return xs.slice(0, -1);\n    };\n    var parentsUntil = function (start, root, predicate) {\n      if (contains$1(root, start)) {\n        return dropLast(parents$1(start, function (elm) {\n          return predicate(elm) || eq(elm, root);\n        }));\n      } else {\n        return [];\n      }\n    };\n    var parents = function (start, root) {\n      return parentsUntil(start, root, never);\n    };\n    var parentsAndSelf = function (start, root) {\n      return [start].concat(parents(start, root));\n    };\n\n    var navigateIgnoreEmptyTextNodes = function (forward, root, from) {\n      return navigateIgnore(forward, root, from, isEmptyText);\n    };\n    var getClosestBlock$1 = function (root, pos) {\n      return find$3(parentsAndSelf(SugarElement.fromDom(pos.container()), root), isBlock$2);\n    };\n    var isAtBeforeAfterBlockBoundary = function (forward, root, pos) {\n      return navigateIgnoreEmptyTextNodes(forward, root.dom, pos).forall(function (newPos) {\n        return getClosestBlock$1(root, pos).fold(function () {\n          return isInSameBlock(newPos, pos, root.dom) === false;\n        }, function (fromBlock) {\n          return isInSameBlock(newPos, pos, root.dom) === false && contains$1(fromBlock, SugarElement.fromDom(newPos.container()));\n        });\n      });\n    };\n    var isAtBlockBoundary = function (forward, root, pos) {\n      return getClosestBlock$1(root, pos).fold(function () {\n        return navigateIgnoreEmptyTextNodes(forward, root.dom, pos).forall(function (newPos) {\n          return isInSameBlock(newPos, pos, root.dom) === false;\n        });\n      }, function (parent) {\n        return navigateIgnoreEmptyTextNodes(forward, parent.dom, pos).isNone();\n      });\n    };\n    var isAtStartOfBlock = curry(isAtBlockBoundary, false);\n    var isAtEndOfBlock = curry(isAtBlockBoundary, true);\n    var isBeforeBlock = curry(isAtBeforeAfterBlockBoundary, false);\n    var isAfterBlock = curry(isAtBeforeAfterBlockBoundary, true);\n\n    var isBr = function (pos) {\n      return getElementFromPosition(pos).exists(isBr$4);\n    };\n    var findBr = function (forward, root, pos) {\n      var parentBlocks = filter$4(parentsAndSelf(SugarElement.fromDom(pos.container()), root), isBlock$2);\n      var scope = head(parentBlocks).getOr(root);\n      return fromPosition(forward, scope.dom, pos).filter(isBr);\n    };\n    var isBeforeBr$1 = function (root, pos) {\n      return getElementFromPosition(pos).exists(isBr$4) || findBr(true, root, pos).isSome();\n    };\n    var isAfterBr = function (root, pos) {\n      return getElementFromPrevPosition(pos).exists(isBr$4) || findBr(false, root, pos).isSome();\n    };\n    var findPreviousBr = curry(findBr, false);\n    var findNextBr = curry(findBr, true);\n\n    var isInMiddleOfText = function (pos) {\n      return CaretPosition.isTextPosition(pos) && !pos.isAtStart() && !pos.isAtEnd();\n    };\n    var getClosestBlock = function (root, pos) {\n      var parentBlocks = filter$4(parentsAndSelf(SugarElement.fromDom(pos.container()), root), isBlock$2);\n      return head(parentBlocks).getOr(root);\n    };\n    var hasSpaceBefore = function (root, pos) {\n      if (isInMiddleOfText(pos)) {\n        return isAfterSpace(pos);\n      } else {\n        return isAfterSpace(pos) || prevPosition(getClosestBlock(root, pos).dom, pos).exists(isAfterSpace);\n      }\n    };\n    var hasSpaceAfter = function (root, pos) {\n      if (isInMiddleOfText(pos)) {\n        return isBeforeSpace(pos);\n      } else {\n        return isBeforeSpace(pos) || nextPosition(getClosestBlock(root, pos).dom, pos).exists(isBeforeSpace);\n      }\n    };\n    var isPreValue = function (value) {\n      return contains$3([\n        'pre',\n        'pre-wrap'\n      ], value);\n    };\n    var isInPre = function (pos) {\n      return getElementFromPosition(pos).bind(function (elm) {\n        return closest$3(elm, isElement$6);\n      }).exists(function (elm) {\n        return isPreValue(get$5(elm, 'white-space'));\n      });\n    };\n    var isAtBeginningOfBody = function (root, pos) {\n      return prevPosition(root.dom, pos).isNone();\n    };\n    var isAtEndOfBody = function (root, pos) {\n      return nextPosition(root.dom, pos).isNone();\n    };\n    var isAtLineBoundary = function (root, pos) {\n      return isAtBeginningOfBody(root, pos) || isAtEndOfBody(root, pos) || isAtStartOfBlock(root, pos) || isAtEndOfBlock(root, pos) || isAfterBr(root, pos) || isBeforeBr$1(root, pos);\n    };\n    var needsToHaveNbsp = function (root, pos) {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtLineBoundary(root, pos) || hasSpaceBefore(root, pos) || hasSpaceAfter(root, pos);\n      }\n    };\n    var needsToBeNbspLeft = function (root, pos) {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtStartOfBlock(root, pos) || isBeforeBlock(root, pos) || isAfterBr(root, pos) || hasSpaceBefore(root, pos);\n      }\n    };\n    var leanRight = function (pos) {\n      var container = pos.container();\n      var offset = pos.offset();\n      if (isText$7(container) && offset < container.data.length) {\n        return CaretPosition(container, offset + 1);\n      } else {\n        return pos;\n      }\n    };\n    var needsToBeNbspRight = function (root, pos) {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtEndOfBlock(root, pos) || isAfterBlock(root, pos) || isBeforeBr$1(root, pos) || hasSpaceAfter(root, pos);\n      }\n    };\n    var needsToBeNbsp = function (root, pos) {\n      return needsToBeNbspLeft(root, pos) || needsToBeNbspRight(root, leanRight(pos));\n    };\n    var isNbspAt = function (text, offset) {\n      return isNbsp(text.charAt(offset));\n    };\n    var hasNbsp = function (pos) {\n      var container = pos.container();\n      return isText$7(container) && contains$2(container.data, nbsp);\n    };\n    var normalizeNbspMiddle = function (text) {\n      var chars = text.split('');\n      return map$3(chars, function (chr, i) {\n        if (isNbsp(chr) && i > 0 && i < chars.length - 1 && isContent(chars[i - 1]) && isContent(chars[i + 1])) {\n          return ' ';\n        } else {\n          return chr;\n        }\n      }).join('');\n    };\n    var normalizeNbspAtStart = function (root, node) {\n      var text = node.data;\n      var firstPos = CaretPosition(node, 0);\n      if (isNbspAt(text, 0) && !needsToBeNbsp(root, firstPos)) {\n        node.data = ' ' + text.slice(1);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var normalizeNbspInMiddleOfTextNode = function (node) {\n      var text = node.data;\n      var newText = normalizeNbspMiddle(text);\n      if (newText !== text) {\n        node.data = newText;\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var normalizeNbspAtEnd = function (root, node) {\n      var text = node.data;\n      var lastPos = CaretPosition(node, text.length - 1);\n      if (isNbspAt(text, text.length - 1) && !needsToBeNbsp(root, lastPos)) {\n        node.data = text.slice(0, -1) + ' ';\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var normalizeNbsps = function (root, pos) {\n      return Optional.some(pos).filter(hasNbsp).bind(function (pos) {\n        var container = pos.container();\n        var normalized = normalizeNbspAtStart(root, container) || normalizeNbspInMiddleOfTextNode(container) || normalizeNbspAtEnd(root, container);\n        return normalized ? Optional.some(pos) : Optional.none();\n      });\n    };\n    var normalizeNbspsInEditor = function (editor) {\n      var root = SugarElement.fromDom(editor.getBody());\n      if (editor.selection.isCollapsed()) {\n        normalizeNbsps(root, CaretPosition.fromRangeStart(editor.selection.getRng())).each(function (pos) {\n          editor.selection.setRng(pos.toRange());\n        });\n      }\n    };\n\n    var normalizeContent = function (content, isStartOfContent, isEndOfContent) {\n      var result = foldl(content, function (acc, c) {\n        if (isWhiteSpace(c) || isNbsp(c)) {\n          if (acc.previousCharIsSpace || acc.str === '' && isStartOfContent || acc.str.length === content.length - 1 && isEndOfContent) {\n            return {\n              previousCharIsSpace: false,\n              str: acc.str + nbsp\n            };\n          } else {\n            return {\n              previousCharIsSpace: true,\n              str: acc.str + ' '\n            };\n          }\n        } else {\n          return {\n            previousCharIsSpace: false,\n            str: acc.str + c\n          };\n        }\n      }, {\n        previousCharIsSpace: false,\n        str: ''\n      });\n      return result.str;\n    };\n    var normalize$1 = function (node, offset, count) {\n      if (count === 0) {\n        return;\n      }\n      var elm = SugarElement.fromDom(node);\n      var root = ancestor$3(elm, isBlock$2).getOr(elm);\n      var whitespace = node.data.slice(offset, offset + count);\n      var isEndOfContent = offset + count >= node.data.length && needsToBeNbspRight(root, CaretPosition(node, node.data.length));\n      var isStartOfContent = offset === 0 && needsToBeNbspLeft(root, CaretPosition(node, 0));\n      node.replaceData(offset, count, normalizeContent(whitespace, isStartOfContent, isEndOfContent));\n    };\n    var normalizeWhitespaceAfter = function (node, offset) {\n      var content = node.data.slice(offset);\n      var whitespaceCount = content.length - lTrim(content).length;\n      normalize$1(node, offset, whitespaceCount);\n    };\n    var normalizeWhitespaceBefore = function (node, offset) {\n      var content = node.data.slice(0, offset);\n      var whitespaceCount = content.length - rTrim(content).length;\n      normalize$1(node, offset - whitespaceCount, whitespaceCount);\n    };\n    var mergeTextNodes = function (prevNode, nextNode, normalizeWhitespace, mergeToPrev) {\n      if (mergeToPrev === void 0) {\n        mergeToPrev = true;\n      }\n      var whitespaceOffset = rTrim(prevNode.data).length;\n      var newNode = mergeToPrev ? prevNode : nextNode;\n      var removeNode = mergeToPrev ? nextNode : prevNode;\n      if (mergeToPrev) {\n        newNode.appendData(removeNode.data);\n      } else {\n        newNode.insertData(0, removeNode.data);\n      }\n      remove$7(SugarElement.fromDom(removeNode));\n      if (normalizeWhitespace) {\n        normalizeWhitespaceAfter(newNode, whitespaceOffset);\n      }\n      return newNode;\n    };\n\n    var needsReposition = function (pos, elm) {\n      var container = pos.container();\n      var offset = pos.offset();\n      return CaretPosition.isTextPosition(pos) === false && container === elm.parentNode && offset > CaretPosition.before(elm).offset();\n    };\n    var reposition = function (elm, pos) {\n      return needsReposition(pos, elm) ? CaretPosition(pos.container(), pos.offset() - 1) : pos;\n    };\n    var beforeOrStartOf = function (node) {\n      return isText$7(node) ? CaretPosition(node, 0) : CaretPosition.before(node);\n    };\n    var afterOrEndOf = function (node) {\n      return isText$7(node) ? CaretPosition(node, node.data.length) : CaretPosition.after(node);\n    };\n    var getPreviousSiblingCaretPosition = function (elm) {\n      if (isCaretCandidate$3(elm.previousSibling)) {\n        return Optional.some(afterOrEndOf(elm.previousSibling));\n      } else {\n        return elm.previousSibling ? lastPositionIn(elm.previousSibling) : Optional.none();\n      }\n    };\n    var getNextSiblingCaretPosition = function (elm) {\n      if (isCaretCandidate$3(elm.nextSibling)) {\n        return Optional.some(beforeOrStartOf(elm.nextSibling));\n      } else {\n        return elm.nextSibling ? firstPositionIn(elm.nextSibling) : Optional.none();\n      }\n    };\n    var findCaretPositionBackwardsFromElm = function (rootElement, elm) {\n      var startPosition = CaretPosition.before(elm.previousSibling ? elm.previousSibling : elm.parentNode);\n      return prevPosition(rootElement, startPosition).fold(function () {\n        return nextPosition(rootElement, CaretPosition.after(elm));\n      }, Optional.some);\n    };\n    var findCaretPositionForwardsFromElm = function (rootElement, elm) {\n      return nextPosition(rootElement, CaretPosition.after(elm)).fold(function () {\n        return prevPosition(rootElement, CaretPosition.before(elm));\n      }, Optional.some);\n    };\n    var findCaretPositionBackwards = function (rootElement, elm) {\n      return getPreviousSiblingCaretPosition(elm).orThunk(function () {\n        return getNextSiblingCaretPosition(elm);\n      }).orThunk(function () {\n        return findCaretPositionBackwardsFromElm(rootElement, elm);\n      });\n    };\n    var findCaretPositionForward = function (rootElement, elm) {\n      return getNextSiblingCaretPosition(elm).orThunk(function () {\n        return getPreviousSiblingCaretPosition(elm);\n      }).orThunk(function () {\n        return findCaretPositionForwardsFromElm(rootElement, elm);\n      });\n    };\n    var findCaretPosition = function (forward, rootElement, elm) {\n      return forward ? findCaretPositionForward(rootElement, elm) : findCaretPositionBackwards(rootElement, elm);\n    };\n    var findCaretPosOutsideElmAfterDelete = function (forward, rootElement, elm) {\n      return findCaretPosition(forward, rootElement, elm).map(curry(reposition, elm));\n    };\n    var setSelection$1 = function (editor, forward, pos) {\n      pos.fold(function () {\n        editor.focus();\n      }, function (pos) {\n        editor.selection.setRng(pos.toRange(), forward);\n      });\n    };\n    var eqRawNode = function (rawNode) {\n      return function (elm) {\n        return elm.dom === rawNode;\n      };\n    };\n    var isBlock = function (editor, elm) {\n      return elm && has$2(editor.schema.getBlockElements(), name(elm));\n    };\n    var paddEmptyBlock = function (elm) {\n      if (isEmpty$2(elm)) {\n        var br = SugarElement.fromHtml('<br data-mce-bogus=\"1\">');\n        empty(elm);\n        append$1(elm, br);\n        return Optional.some(CaretPosition.before(br.dom));\n      } else {\n        return Optional.none();\n      }\n    };\n    var deleteNormalized = function (elm, afterDeletePosOpt, normalizeWhitespace) {\n      var prevTextOpt = prevSibling(elm).filter(isText$8);\n      var nextTextOpt = nextSibling(elm).filter(isText$8);\n      remove$7(elm);\n      return lift3(prevTextOpt, nextTextOpt, afterDeletePosOpt, function (prev, next, pos) {\n        var prevNode = prev.dom, nextNode = next.dom;\n        var offset = prevNode.data.length;\n        mergeTextNodes(prevNode, nextNode, normalizeWhitespace);\n        return pos.container() === nextNode ? CaretPosition(prevNode, offset) : pos;\n      }).orThunk(function () {\n        if (normalizeWhitespace) {\n          prevTextOpt.each(function (elm) {\n            return normalizeWhitespaceBefore(elm.dom, elm.dom.length);\n          });\n          nextTextOpt.each(function (elm) {\n            return normalizeWhitespaceAfter(elm.dom, 0);\n          });\n        }\n        return afterDeletePosOpt;\n      });\n    };\n    var isInlineElement = function (editor, element) {\n      return has$2(editor.schema.getTextInlineElements(), name(element));\n    };\n    var deleteElement$2 = function (editor, forward, elm, moveCaret) {\n      if (moveCaret === void 0) {\n        moveCaret = true;\n      }\n      var afterDeletePos = findCaretPosOutsideElmAfterDelete(forward, editor.getBody(), elm.dom);\n      var parentBlock = ancestor$3(elm, curry(isBlock, editor), eqRawNode(editor.getBody()));\n      var normalizedAfterDeletePos = deleteNormalized(elm, afterDeletePos, isInlineElement(editor, elm));\n      if (editor.dom.isEmpty(editor.getBody())) {\n        editor.setContent('');\n        editor.selection.setCursorLocation();\n      } else {\n        parentBlock.bind(paddEmptyBlock).fold(function () {\n          if (moveCaret) {\n            setSelection$1(editor, forward, normalizedAfterDeletePos);\n          }\n        }, function (paddPos) {\n          if (moveCaret) {\n            setSelection$1(editor, forward, Optional.some(paddPos));\n          }\n        });\n      }\n    };\n\n    var isRootFromElement = function (root) {\n      return function (cur) {\n        return eq(root, cur);\n      };\n    };\n    var getTableCells = function (table) {\n      return descendants(table, 'td,th');\n    };\n    var getTableDetailsFromRange = function (rng, isRoot) {\n      var getTable = function (node) {\n        return getClosestTable(SugarElement.fromDom(node), isRoot);\n      };\n      var startTable = getTable(rng.startContainer);\n      var endTable = getTable(rng.endContainer);\n      var isStartInTable = startTable.isSome();\n      var isEndInTable = endTable.isSome();\n      var isSameTable = lift2(startTable, endTable, eq).getOr(false);\n      var isMultiTable = !isSameTable && isStartInTable && isEndInTable;\n      return {\n        startTable: startTable,\n        endTable: endTable,\n        isStartInTable: isStartInTable,\n        isEndInTable: isEndInTable,\n        isSameTable: isSameTable,\n        isMultiTable: isMultiTable\n      };\n    };\n\n    var tableCellRng = function (start, end) {\n      return {\n        start: start,\n        end: end\n      };\n    };\n    var tableSelection = function (rng, table, cells) {\n      return {\n        rng: rng,\n        table: table,\n        cells: cells\n      };\n    };\n    var deleteAction = Adt.generate([\n      {\n        singleCellTable: [\n          'rng',\n          'cell'\n        ]\n      },\n      { fullTable: ['table'] },\n      {\n        partialTable: [\n          'cells',\n          'outsideDetails'\n        ]\n      },\n      {\n        multiTable: [\n          'startTableCells',\n          'endTableCells',\n          'betweenRng'\n        ]\n      }\n    ]);\n    var getClosestCell$1 = function (container, isRoot) {\n      return closest$2(SugarElement.fromDom(container), 'td,th', isRoot);\n    };\n    var isExpandedCellRng = function (cellRng) {\n      return !eq(cellRng.start, cellRng.end);\n    };\n    var getTableFromCellRng = function (cellRng, isRoot) {\n      return getClosestTable(cellRng.start, isRoot).bind(function (startParentTable) {\n        return getClosestTable(cellRng.end, isRoot).bind(function (endParentTable) {\n          return someIf(eq(startParentTable, endParentTable), startParentTable);\n        });\n      });\n    };\n    var isSingleCellTable = function (cellRng, isRoot) {\n      return !isExpandedCellRng(cellRng) && getTableFromCellRng(cellRng, isRoot).exists(function (table) {\n        var rows = table.dom.rows;\n        return rows.length === 1 && rows[0].cells.length === 1;\n      });\n    };\n    var getCellRng = function (rng, isRoot) {\n      var startCell = getClosestCell$1(rng.startContainer, isRoot);\n      var endCell = getClosestCell$1(rng.endContainer, isRoot);\n      return lift2(startCell, endCell, tableCellRng);\n    };\n    var getCellRangeFromStartTable = function (isRoot) {\n      return function (startCell) {\n        return getClosestTable(startCell, isRoot).bind(function (table) {\n          return last$2(getTableCells(table)).map(function (endCell) {\n            return tableCellRng(startCell, endCell);\n          });\n        });\n      };\n    };\n    var getCellRangeFromEndTable = function (isRoot) {\n      return function (endCell) {\n        return getClosestTable(endCell, isRoot).bind(function (table) {\n          return head(getTableCells(table)).map(function (startCell) {\n            return tableCellRng(startCell, endCell);\n          });\n        });\n      };\n    };\n    var getTableSelectionFromCellRng = function (isRoot) {\n      return function (cellRng) {\n        return getTableFromCellRng(cellRng, isRoot).map(function (table) {\n          return tableSelection(cellRng, table, getTableCells(table));\n        });\n      };\n    };\n    var getTableSelections = function (cellRng, selectionDetails, rng, isRoot) {\n      if (rng.collapsed || !cellRng.forall(isExpandedCellRng)) {\n        return Optional.none();\n      } else if (selectionDetails.isSameTable) {\n        var sameTableSelection = cellRng.bind(getTableSelectionFromCellRng(isRoot));\n        return Optional.some({\n          start: sameTableSelection,\n          end: sameTableSelection\n        });\n      } else {\n        var startCell = getClosestCell$1(rng.startContainer, isRoot);\n        var endCell = getClosestCell$1(rng.endContainer, isRoot);\n        var startTableSelection = startCell.bind(getCellRangeFromStartTable(isRoot)).bind(getTableSelectionFromCellRng(isRoot));\n        var endTableSelection = endCell.bind(getCellRangeFromEndTable(isRoot)).bind(getTableSelectionFromCellRng(isRoot));\n        return Optional.some({\n          start: startTableSelection,\n          end: endTableSelection\n        });\n      }\n    };\n    var getCellIndex = function (cells, cell) {\n      return findIndex$2(cells, function (x) {\n        return eq(x, cell);\n      });\n    };\n    var getSelectedCells = function (tableSelection) {\n      return lift2(getCellIndex(tableSelection.cells, tableSelection.rng.start), getCellIndex(tableSelection.cells, tableSelection.rng.end), function (startIndex, endIndex) {\n        return tableSelection.cells.slice(startIndex, endIndex + 1);\n      });\n    };\n    var isSingleCellTableContentSelected = function (optCellRng, rng, isRoot) {\n      return optCellRng.exists(function (cellRng) {\n        return isSingleCellTable(cellRng, isRoot) && hasAllContentsSelected(cellRng.start, rng);\n      });\n    };\n    var unselectCells = function (rng, selectionDetails) {\n      var startTable = selectionDetails.startTable, endTable = selectionDetails.endTable;\n      var otherContentRng = rng.cloneRange();\n      startTable.each(function (table) {\n        return otherContentRng.setStartAfter(table.dom);\n      });\n      endTable.each(function (table) {\n        return otherContentRng.setEndBefore(table.dom);\n      });\n      return otherContentRng;\n    };\n    var handleSingleTable = function (cellRng, selectionDetails, rng, isRoot) {\n      return getTableSelections(cellRng, selectionDetails, rng, isRoot).bind(function (_a) {\n        var start = _a.start, end = _a.end;\n        return start.or(end);\n      }).bind(function (tableSelection) {\n        var isSameTable = selectionDetails.isSameTable;\n        var selectedCells = getSelectedCells(tableSelection).getOr([]);\n        if (isSameTable && tableSelection.cells.length === selectedCells.length) {\n          return Optional.some(deleteAction.fullTable(tableSelection.table));\n        } else if (selectedCells.length > 0) {\n          if (isSameTable) {\n            return Optional.some(deleteAction.partialTable(selectedCells, Optional.none()));\n          } else {\n            var otherContentRng = unselectCells(rng, selectionDetails);\n            return Optional.some(deleteAction.partialTable(selectedCells, Optional.some(__assign(__assign({}, selectionDetails), { rng: otherContentRng }))));\n          }\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var handleMultiTable = function (cellRng, selectionDetails, rng, isRoot) {\n      return getTableSelections(cellRng, selectionDetails, rng, isRoot).bind(function (_a) {\n        var start = _a.start, end = _a.end;\n        var startTableSelectedCells = start.bind(getSelectedCells).getOr([]);\n        var endTableSelectedCells = end.bind(getSelectedCells).getOr([]);\n        if (startTableSelectedCells.length > 0 && endTableSelectedCells.length > 0) {\n          var otherContentRng = unselectCells(rng, selectionDetails);\n          return Optional.some(deleteAction.multiTable(startTableSelectedCells, endTableSelectedCells, otherContentRng));\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var getActionFromRange = function (root, rng) {\n      var isRoot = isRootFromElement(root);\n      var optCellRng = getCellRng(rng, isRoot);\n      var selectionDetails = getTableDetailsFromRange(rng, isRoot);\n      if (isSingleCellTableContentSelected(optCellRng, rng, isRoot)) {\n        return optCellRng.map(function (cellRng) {\n          return deleteAction.singleCellTable(rng, cellRng.start);\n        });\n      } else if (selectionDetails.isMultiTable) {\n        return handleMultiTable(optCellRng, selectionDetails, rng, isRoot);\n      } else {\n        return handleSingleTable(optCellRng, selectionDetails, rng, isRoot);\n      }\n    };\n\n    var freefallRtl = function (root) {\n      var child = isComment$1(root) ? prevSibling(root) : lastChild(root);\n      return child.bind(freefallRtl).orThunk(function () {\n        return Optional.some(root);\n      });\n    };\n    var cleanCells = function (cells) {\n      return each$k(cells, function (cell) {\n        remove$6(cell, 'contenteditable');\n        fillWithPaddingBr(cell);\n      });\n    };\n    var getOutsideBlock = function (editor, container) {\n      return Optional.from(editor.dom.getParent(container, editor.dom.isBlock)).map(SugarElement.fromDom);\n    };\n    var handleEmptyBlock = function (editor, startInTable, emptyBlock) {\n      emptyBlock.each(function (block) {\n        if (startInTable) {\n          remove$7(block);\n        } else {\n          fillWithPaddingBr(block);\n          editor.selection.setCursorLocation(block.dom, 0);\n        }\n      });\n    };\n    var deleteContentInsideCell = function (editor, cell, rng, isFirstCellInSelection) {\n      var insideTableRng = rng.cloneRange();\n      if (isFirstCellInSelection) {\n        insideTableRng.setStart(rng.startContainer, rng.startOffset);\n        insideTableRng.setEndAfter(cell.dom.lastChild);\n      } else {\n        insideTableRng.setStartBefore(cell.dom.firstChild);\n        insideTableRng.setEnd(rng.endContainer, rng.endOffset);\n      }\n      deleteCellContents(editor, insideTableRng, cell, false);\n    };\n    var collapseAndRestoreCellSelection = function (editor) {\n      var selectedCells = getCellsFromEditor(editor);\n      var selectedNode = SugarElement.fromDom(editor.selection.getNode());\n      if (isTableCell$5(selectedNode.dom) && isEmpty$2(selectedNode)) {\n        editor.selection.setCursorLocation(selectedNode.dom, 0);\n      } else {\n        editor.selection.collapse(true);\n      }\n      if (selectedCells.length > 1 && exists(selectedCells, function (cell) {\n          return eq(cell, selectedNode);\n        })) {\n        set$1(selectedNode, 'data-mce-selected', '1');\n      }\n    };\n    var emptySingleTableCells = function (editor, cells, outsideDetails) {\n      var editorRng = editor.selection.getRng();\n      var cellsToClean = outsideDetails.bind(function (_a) {\n        var rng = _a.rng, isStartInTable = _a.isStartInTable;\n        var outsideBlock = getOutsideBlock(editor, isStartInTable ? rng.endContainer : rng.startContainer);\n        rng.deleteContents();\n        handleEmptyBlock(editor, isStartInTable, outsideBlock.filter(isEmpty$2));\n        var endPointCell = isStartInTable ? cells[0] : cells[cells.length - 1];\n        deleteContentInsideCell(editor, endPointCell, editorRng, isStartInTable);\n        if (!isEmpty$2(endPointCell)) {\n          return Optional.some(isStartInTable ? cells.slice(1) : cells.slice(0, -1));\n        } else {\n          return Optional.none();\n        }\n      }).getOr(cells);\n      cleanCells(cellsToClean);\n      collapseAndRestoreCellSelection(editor);\n      return true;\n    };\n    var emptyMultiTableCells = function (editor, startTableCells, endTableCells, betweenRng) {\n      var rng = editor.selection.getRng();\n      var startCell = startTableCells[0];\n      var endCell = endTableCells[endTableCells.length - 1];\n      deleteContentInsideCell(editor, startCell, rng, true);\n      deleteContentInsideCell(editor, endCell, rng, false);\n      var startTableCellsToClean = isEmpty$2(startCell) ? startTableCells : startTableCells.slice(1);\n      var endTableCellsToClean = isEmpty$2(endCell) ? endTableCells : endTableCells.slice(0, -1);\n      cleanCells(startTableCellsToClean.concat(endTableCellsToClean));\n      betweenRng.deleteContents();\n      collapseAndRestoreCellSelection(editor);\n      return true;\n    };\n    var deleteCellContents = function (editor, rng, cell, moveSelection) {\n      if (moveSelection === void 0) {\n        moveSelection = true;\n      }\n      rng.deleteContents();\n      var lastNode = freefallRtl(cell).getOr(cell);\n      var lastBlock = SugarElement.fromDom(editor.dom.getParent(lastNode.dom, editor.dom.isBlock));\n      if (isEmpty$2(lastBlock)) {\n        fillWithPaddingBr(lastBlock);\n        if (moveSelection) {\n          editor.selection.setCursorLocation(lastBlock.dom, 0);\n        }\n      }\n      if (!eq(cell, lastBlock)) {\n        var additionalCleanupNodes = is$1(parent(lastBlock), cell) ? [] : siblings(lastBlock);\n        each$k(additionalCleanupNodes.concat(children(cell)), function (node) {\n          if (!eq(node, lastBlock) && !contains$1(node, lastBlock) && isEmpty$2(node)) {\n            remove$7(node);\n          }\n        });\n      }\n      return true;\n    };\n    var deleteTableElement = function (editor, table) {\n      deleteElement$2(editor, false, table);\n      return true;\n    };\n    var deleteCellRange = function (editor, rootElm, rng) {\n      return getActionFromRange(rootElm, rng).map(function (action) {\n        return action.fold(curry(deleteCellContents, editor), curry(deleteTableElement, editor), curry(emptySingleTableCells, editor), curry(emptyMultiTableCells, editor));\n      });\n    };\n    var deleteCaptionRange = function (editor, caption) {\n      return emptyElement(editor, caption);\n    };\n    var deleteTableRange = function (editor, rootElm, rng, startElm) {\n      return getParentCaption(rootElm, startElm).fold(function () {\n        return deleteCellRange(editor, rootElm, rng);\n      }, function (caption) {\n        return deleteCaptionRange(editor, caption);\n      }).getOr(false);\n    };\n    var deleteRange$2 = function (editor, startElm, selectedCells) {\n      var rootNode = SugarElement.fromDom(editor.getBody());\n      var rng = editor.selection.getRng();\n      return selectedCells.length !== 0 ? emptySingleTableCells(editor, selectedCells, Optional.none()) : deleteTableRange(editor, rootNode, rng, startElm);\n    };\n    var getParentCell = function (rootElm, elm) {\n      return find$3(parentsAndSelf(elm, rootElm), isTableCell$4);\n    };\n    var getParentCaption = function (rootElm, elm) {\n      return find$3(parentsAndSelf(elm, rootElm), isTag('caption'));\n    };\n    var deleteBetweenCells = function (editor, rootElm, forward, fromCell, from) {\n      return navigate(forward, editor.getBody(), from).bind(function (to) {\n        return getParentCell(rootElm, SugarElement.fromDom(to.getNode())).map(function (toCell) {\n          return eq(toCell, fromCell) === false;\n        });\n      });\n    };\n    var emptyElement = function (editor, elm) {\n      fillWithPaddingBr(elm);\n      editor.selection.setCursorLocation(elm.dom, 0);\n      return Optional.some(true);\n    };\n    var isDeleteOfLastCharPos = function (fromCaption, forward, from, to) {\n      return firstPositionIn(fromCaption.dom).bind(function (first) {\n        return lastPositionIn(fromCaption.dom).map(function (last) {\n          return forward ? from.isEqual(first) && to.isEqual(last) : from.isEqual(last) && to.isEqual(first);\n        });\n      }).getOr(true);\n    };\n    var emptyCaretCaption = function (editor, elm) {\n      return emptyElement(editor, elm);\n    };\n    var validateCaretCaption = function (rootElm, fromCaption, to) {\n      return getParentCaption(rootElm, SugarElement.fromDom(to.getNode())).map(function (toCaption) {\n        return eq(toCaption, fromCaption) === false;\n      });\n    };\n    var deleteCaretInsideCaption = function (editor, rootElm, forward, fromCaption, from) {\n      return navigate(forward, editor.getBody(), from).bind(function (to) {\n        return isDeleteOfLastCharPos(fromCaption, forward, from, to) ? emptyCaretCaption(editor, fromCaption) : validateCaretCaption(rootElm, fromCaption, to);\n      }).or(Optional.some(true));\n    };\n    var deleteCaretCells = function (editor, forward, rootElm, startElm) {\n      var from = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return getParentCell(rootElm, startElm).bind(function (fromCell) {\n        return isEmpty$2(fromCell) ? emptyElement(editor, fromCell) : deleteBetweenCells(editor, rootElm, forward, fromCell, from);\n      }).getOr(false);\n    };\n    var deleteCaretCaption = function (editor, forward, rootElm, fromCaption) {\n      var from = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return isEmpty$2(fromCaption) ? emptyElement(editor, fromCaption) : deleteCaretInsideCaption(editor, rootElm, forward, fromCaption, from);\n    };\n    var isNearTable = function (forward, pos) {\n      return forward ? isBeforeTable(pos) : isAfterTable(pos);\n    };\n    var isBeforeOrAfterTable = function (editor, forward) {\n      var fromPos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return isNearTable(forward, fromPos) || fromPosition(forward, editor.getBody(), fromPos).exists(function (pos) {\n        return isNearTable(forward, pos);\n      });\n    };\n    var deleteCaret$3 = function (editor, forward, startElm) {\n      var rootElm = SugarElement.fromDom(editor.getBody());\n      return getParentCaption(rootElm, startElm).fold(function () {\n        return deleteCaretCells(editor, forward, rootElm, startElm) || isBeforeOrAfterTable(editor, forward);\n      }, function (fromCaption) {\n        return deleteCaretCaption(editor, forward, rootElm, fromCaption).getOr(false);\n      });\n    };\n    var backspaceDelete$9 = function (editor, forward) {\n      var startElm = SugarElement.fromDom(editor.selection.getStart(true));\n      var cells = getCellsFromEditor(editor);\n      return editor.selection.isCollapsed() && cells.length === 0 ? deleteCaret$3(editor, forward, startElm) : deleteRange$2(editor, startElm, cells);\n    };\n\n    var createRange = function (sc, so, ec, eo) {\n      var rng = document.createRange();\n      rng.setStart(sc, so);\n      rng.setEnd(ec, eo);\n      return rng;\n    };\n    var normalizeBlockSelectionRange = function (rng) {\n      var startPos = CaretPosition.fromRangeStart(rng);\n      var endPos = CaretPosition.fromRangeEnd(rng);\n      var rootNode = rng.commonAncestorContainer;\n      return fromPosition(false, rootNode, endPos).map(function (newEndPos) {\n        if (!isInSameBlock(startPos, endPos, rootNode) && isInSameBlock(startPos, newEndPos, rootNode)) {\n          return createRange(startPos.container(), startPos.offset(), newEndPos.container(), newEndPos.offset());\n        } else {\n          return rng;\n        }\n      }).getOr(rng);\n    };\n    var normalize = function (rng) {\n      return rng.collapsed ? rng : normalizeBlockSelectionRange(rng);\n    };\n\n    var hasOnlyOneChild$1 = function (node) {\n      return node.firstChild && node.firstChild === node.lastChild;\n    };\n    var isPaddingNode = function (node) {\n      return node.name === 'br' || node.value === nbsp;\n    };\n    var isPaddedEmptyBlock = function (schema, node) {\n      var blockElements = schema.getBlockElements();\n      return blockElements[node.name] && hasOnlyOneChild$1(node) && isPaddingNode(node.firstChild);\n    };\n    var isEmptyFragmentElement = function (schema, node) {\n      var nonEmptyElements = schema.getNonEmptyElements();\n      return node && (node.isEmpty(nonEmptyElements) || isPaddedEmptyBlock(schema, node));\n    };\n    var isListFragment = function (schema, fragment) {\n      var firstChild = fragment.firstChild;\n      var lastChild = fragment.lastChild;\n      if (firstChild && firstChild.name === 'meta') {\n        firstChild = firstChild.next;\n      }\n      if (lastChild && lastChild.attr('id') === 'mce_marker') {\n        lastChild = lastChild.prev;\n      }\n      if (isEmptyFragmentElement(schema, lastChild)) {\n        lastChild = lastChild.prev;\n      }\n      if (!firstChild || firstChild !== lastChild) {\n        return false;\n      }\n      return firstChild.name === 'ul' || firstChild.name === 'ol';\n    };\n    var cleanupDomFragment = function (domFragment) {\n      var firstChild = domFragment.firstChild;\n      var lastChild = domFragment.lastChild;\n      if (firstChild && firstChild.nodeName === 'META') {\n        firstChild.parentNode.removeChild(firstChild);\n      }\n      if (lastChild && lastChild.id === 'mce_marker') {\n        lastChild.parentNode.removeChild(lastChild);\n      }\n      return domFragment;\n    };\n    var toDomFragment = function (dom, serializer, fragment) {\n      var html = serializer.serialize(fragment);\n      var domFragment = dom.createFragment(html);\n      return cleanupDomFragment(domFragment);\n    };\n    var listItems = function (elm) {\n      return filter$4(elm.childNodes, function (child) {\n        return child.nodeName === 'LI';\n      });\n    };\n    var isPadding = function (node) {\n      return node.data === nbsp || isBr$5(node);\n    };\n    var isListItemPadded = function (node) {\n      return node && node.firstChild && node.firstChild === node.lastChild && isPadding(node.firstChild);\n    };\n    var isEmptyOrPadded = function (elm) {\n      return !elm.firstChild || isListItemPadded(elm);\n    };\n    var trimListItems = function (elms) {\n      return elms.length > 0 && isEmptyOrPadded(elms[elms.length - 1]) ? elms.slice(0, -1) : elms;\n    };\n    var getParentLi = function (dom, node) {\n      var parentBlock = dom.getParent(node, dom.isBlock);\n      return parentBlock && parentBlock.nodeName === 'LI' ? parentBlock : null;\n    };\n    var isParentBlockLi = function (dom, node) {\n      return !!getParentLi(dom, node);\n    };\n    var getSplit = function (parentNode, rng) {\n      var beforeRng = rng.cloneRange();\n      var afterRng = rng.cloneRange();\n      beforeRng.setStartBefore(parentNode);\n      afterRng.setEndAfter(parentNode);\n      return [\n        beforeRng.cloneContents(),\n        afterRng.cloneContents()\n      ];\n    };\n    var findFirstIn = function (node, rootNode) {\n      var caretPos = CaretPosition.before(node);\n      var caretWalker = CaretWalker(rootNode);\n      var newCaretPos = caretWalker.next(caretPos);\n      return newCaretPos ? newCaretPos.toRange() : null;\n    };\n    var findLastOf = function (node, rootNode) {\n      var caretPos = CaretPosition.after(node);\n      var caretWalker = CaretWalker(rootNode);\n      var newCaretPos = caretWalker.prev(caretPos);\n      return newCaretPos ? newCaretPos.toRange() : null;\n    };\n    var insertMiddle = function (target, elms, rootNode, rng) {\n      var parts = getSplit(target, rng);\n      var parentElm = target.parentNode;\n      parentElm.insertBefore(parts[0], target);\n      Tools.each(elms, function (li) {\n        parentElm.insertBefore(li, target);\n      });\n      parentElm.insertBefore(parts[1], target);\n      parentElm.removeChild(target);\n      return findLastOf(elms[elms.length - 1], rootNode);\n    };\n    var insertBefore$1 = function (target, elms, rootNode) {\n      var parentElm = target.parentNode;\n      Tools.each(elms, function (elm) {\n        parentElm.insertBefore(elm, target);\n      });\n      return findFirstIn(target, rootNode);\n    };\n    var insertAfter$1 = function (target, elms, rootNode, dom) {\n      dom.insertAfter(elms.reverse(), target);\n      return findLastOf(elms[0], rootNode);\n    };\n    var insertAtCaret$1 = function (serializer, dom, rng, fragment) {\n      var domFragment = toDomFragment(dom, serializer, fragment);\n      var liTarget = getParentLi(dom, rng.startContainer);\n      var liElms = trimListItems(listItems(domFragment.firstChild));\n      var BEGINNING = 1, END = 2;\n      var rootNode = dom.getRoot();\n      var isAt = function (location) {\n        var caretPos = CaretPosition.fromRangeStart(rng);\n        var caretWalker = CaretWalker(dom.getRoot());\n        var newPos = location === BEGINNING ? caretWalker.prev(caretPos) : caretWalker.next(caretPos);\n        return newPos ? getParentLi(dom, newPos.getNode()) !== liTarget : true;\n      };\n      if (isAt(BEGINNING)) {\n        return insertBefore$1(liTarget, liElms, rootNode);\n      } else if (isAt(END)) {\n        return insertAfter$1(liTarget, liElms, rootNode, dom);\n      }\n      return insertMiddle(liTarget, liElms, rootNode, rng);\n    };\n\n    var trimOrPadLeftRight = function (dom, rng, html) {\n      var root = SugarElement.fromDom(dom.getRoot());\n      if (needsToBeNbspLeft(root, CaretPosition.fromRangeStart(rng))) {\n        html = html.replace(/^ /, '&nbsp;');\n      } else {\n        html = html.replace(/^&nbsp;/, ' ');\n      }\n      if (needsToBeNbspRight(root, CaretPosition.fromRangeEnd(rng))) {\n        html = html.replace(/(&nbsp;| )(<br( \\/)>)?$/, '&nbsp;');\n      } else {\n        html = html.replace(/&nbsp;(<br( \\/)?>)?$/, ' ');\n      }\n      return html;\n    };\n\n    var isTableCell$1 = isTableCell$5;\n    var isTableCellContentSelected = function (dom, rng, cell) {\n      if (cell !== null) {\n        var endCell = dom.getParent(rng.endContainer, isTableCell$1);\n        return cell === endCell && hasAllContentsSelected(SugarElement.fromDom(cell), rng);\n      } else {\n        return false;\n      }\n    };\n    var validInsertion = function (editor, value, parentNode) {\n      if (parentNode.getAttribute('data-mce-bogus') === 'all') {\n        parentNode.parentNode.insertBefore(editor.dom.createFragment(value), parentNode);\n      } else {\n        var node = parentNode.firstChild;\n        var node2 = parentNode.lastChild;\n        if (!node || node === node2 && node.nodeName === 'BR') {\n          editor.dom.setHTML(parentNode, value);\n        } else {\n          editor.selection.setContent(value);\n        }\n      }\n    };\n    var trimBrsFromTableCell = function (dom, elm) {\n      Optional.from(dom.getParent(elm, 'td,th')).map(SugarElement.fromDom).each(trimBlockTrailingBr);\n    };\n    var reduceInlineTextElements = function (editor, merge) {\n      var textInlineElements = editor.schema.getTextInlineElements();\n      var dom = editor.dom;\n      if (merge) {\n        var root_1 = editor.getBody();\n        var elementUtils_1 = ElementUtils(dom);\n        Tools.each(dom.select('*[data-mce-fragment]'), function (node) {\n          var isInline = isNonNullable(textInlineElements[node.nodeName.toLowerCase()]);\n          if (isInline && hasInheritableStyles(dom, node)) {\n            for (var parentNode = node.parentNode; isNonNullable(parentNode) && parentNode !== root_1; parentNode = parentNode.parentNode) {\n              var styleConflict = hasStyleConflict(dom, node, parentNode);\n              if (styleConflict) {\n                break;\n              }\n              if (elementUtils_1.compare(parentNode, node)) {\n                dom.remove(node, true);\n                break;\n              }\n            }\n          }\n        });\n      }\n    };\n    var markFragmentElements = function (fragment) {\n      var node = fragment;\n      while (node = node.walk()) {\n        if (node.type === 1) {\n          node.attr('data-mce-fragment', '1');\n        }\n      }\n    };\n    var unmarkFragmentElements = function (elm) {\n      Tools.each(elm.getElementsByTagName('*'), function (elm) {\n        elm.removeAttribute('data-mce-fragment');\n      });\n    };\n    var isPartOfFragment = function (node) {\n      return !!node.getAttribute('data-mce-fragment');\n    };\n    var canHaveChildren = function (editor, node) {\n      return node && !editor.schema.getShortEndedElements()[node.nodeName];\n    };\n    var moveSelectionToMarker = function (editor, marker) {\n      var nextRng;\n      var dom = editor.dom;\n      var selection = editor.selection;\n      if (!marker) {\n        return;\n      }\n      selection.scrollIntoView(marker);\n      var parentEditableElm = getContentEditableRoot$1(editor.getBody(), marker);\n      if (dom.getContentEditable(parentEditableElm) === 'false') {\n        dom.remove(marker);\n        selection.select(parentEditableElm);\n        return;\n      }\n      var rng = dom.createRng();\n      var node = marker.previousSibling;\n      if (isText$7(node)) {\n        rng.setStart(node, node.nodeValue.length);\n        if (!Env.ie) {\n          var node2 = marker.nextSibling;\n          if (isText$7(node2)) {\n            node.appendData(node2.data);\n            node2.parentNode.removeChild(node2);\n          }\n        }\n      } else {\n        rng.setStartBefore(marker);\n        rng.setEndBefore(marker);\n      }\n      var findNextCaretRng = function (rng) {\n        var caretPos = CaretPosition.fromRangeStart(rng);\n        var caretWalker = CaretWalker(editor.getBody());\n        caretPos = caretWalker.next(caretPos);\n        if (caretPos) {\n          return caretPos.toRange();\n        }\n      };\n      var parentBlock = dom.getParent(marker, dom.isBlock);\n      dom.remove(marker);\n      if (parentBlock && dom.isEmpty(parentBlock)) {\n        editor.$(parentBlock).empty();\n        rng.setStart(parentBlock, 0);\n        rng.setEnd(parentBlock, 0);\n        if (!isTableCell$1(parentBlock) && !isPartOfFragment(parentBlock) && (nextRng = findNextCaretRng(rng))) {\n          rng = nextRng;\n          dom.remove(parentBlock);\n        } else {\n          dom.add(parentBlock, dom.create('br', { 'data-mce-bogus': '1' }));\n        }\n      }\n      selection.setRng(rng);\n    };\n    var deleteSelectedContent = function (editor) {\n      var dom = editor.dom;\n      var rng = normalize(editor.selection.getRng());\n      editor.selection.setRng(rng);\n      var startCell = dom.getParent(rng.startContainer, isTableCell$1);\n      if (isTableCellContentSelected(dom, rng, startCell)) {\n        deleteCellContents(editor, rng, SugarElement.fromDom(startCell));\n      } else {\n        editor.getDoc().execCommand('Delete', false, null);\n      }\n    };\n    var insertHtmlAtCaret = function (editor, value, details) {\n      var parentNode;\n      var rng, node;\n      var selection = editor.selection;\n      var dom = editor.dom;\n      if (/^ | $/.test(value)) {\n        value = trimOrPadLeftRight(dom, selection.getRng(), value);\n      }\n      var parser = editor.parser;\n      var merge = details.merge;\n      var serializer = HtmlSerializer({ validate: shouldValidate(editor) }, editor.schema);\n      var bookmarkHtml = '<span id=\"mce_marker\" data-mce-type=\"bookmark\">&#xFEFF;</span>';\n      var args = editor.fire('BeforeSetContent', {\n        content: value,\n        format: 'html',\n        selection: true,\n        paste: details.paste\n      });\n      if (args.isDefaultPrevented()) {\n        editor.fire('SetContent', {\n          content: args.content,\n          format: 'html',\n          selection: true,\n          paste: details.paste\n        });\n        return;\n      }\n      value = args.content;\n      if (value.indexOf('{$caret}') === -1) {\n        value += '{$caret}';\n      }\n      value = value.replace(/\\{\\$caret\\}/, bookmarkHtml);\n      rng = selection.getRng();\n      var caretElement = rng.startContainer || (rng.parentElement ? rng.parentElement() : null);\n      var body = editor.getBody();\n      if (caretElement === body && selection.isCollapsed()) {\n        if (dom.isBlock(body.firstChild) && canHaveChildren(editor, body.firstChild) && dom.isEmpty(body.firstChild)) {\n          rng = dom.createRng();\n          rng.setStart(body.firstChild, 0);\n          rng.setEnd(body.firstChild, 0);\n          selection.setRng(rng);\n        }\n      }\n      if (!selection.isCollapsed()) {\n        deleteSelectedContent(editor);\n      }\n      parentNode = selection.getNode();\n      var parserArgs = {\n        context: parentNode.nodeName.toLowerCase(),\n        data: details.data,\n        insert: true\n      };\n      var fragment = parser.parse(value, parserArgs);\n      if (details.paste === true && isListFragment(editor.schema, fragment) && isParentBlockLi(dom, parentNode)) {\n        rng = insertAtCaret$1(serializer, dom, selection.getRng(), fragment);\n        selection.setRng(rng);\n        editor.fire('SetContent', args);\n        return;\n      }\n      markFragmentElements(fragment);\n      node = fragment.lastChild;\n      if (node.attr('id') === 'mce_marker') {\n        var marker = node;\n        for (node = node.prev; node; node = node.walk(true)) {\n          if (node.type === 3 || !dom.isBlock(node.name)) {\n            if (editor.schema.isValidChild(node.parent.name, 'span')) {\n              node.parent.insert(marker, node, node.name === 'br');\n            }\n            break;\n          }\n        }\n      }\n      editor._selectionOverrides.showBlockCaretContainer(parentNode);\n      if (!parserArgs.invalid) {\n        value = serializer.serialize(fragment);\n        validInsertion(editor, value, parentNode);\n      } else {\n        editor.selection.setContent(bookmarkHtml);\n        parentNode = selection.getNode();\n        var rootNode = editor.getBody();\n        if (parentNode.nodeType === 9) {\n          parentNode = node = rootNode;\n        } else {\n          node = parentNode;\n        }\n        while (node !== rootNode) {\n          parentNode = node;\n          node = node.parentNode;\n        }\n        value = parentNode === rootNode ? rootNode.innerHTML : dom.getOuterHTML(parentNode);\n        value = serializer.serialize(parser.parse(value.replace(/<span (id=\"mce_marker\"|id=mce_marker).+?<\\/span>/i, function () {\n          return serializer.serialize(fragment);\n        })));\n        if (parentNode === rootNode) {\n          dom.setHTML(rootNode, value);\n        } else {\n          dom.setOuterHTML(parentNode, value);\n        }\n      }\n      reduceInlineTextElements(editor, merge);\n      moveSelectionToMarker(editor, dom.get('mce_marker'));\n      unmarkFragmentElements(editor.getBody());\n      trimBrsFromTableCell(dom, selection.getStart());\n      editor.fire('SetContent', args);\n      editor.addVisual();\n    };\n\n    var traverse = function (node, fn) {\n      fn(node);\n      if (node.firstChild) {\n        traverse(node.firstChild, fn);\n      }\n      if (node.next) {\n        traverse(node.next, fn);\n      }\n    };\n    var findMatchingNodes = function (nodeFilters, attributeFilters, node) {\n      var nodeMatches = {};\n      var attrMatches = {};\n      var matches = [];\n      if (node.firstChild) {\n        traverse(node.firstChild, function (node) {\n          each$k(nodeFilters, function (filter) {\n            if (filter.name === node.name) {\n              if (nodeMatches[filter.name]) {\n                nodeMatches[filter.name].nodes.push(node);\n              } else {\n                nodeMatches[filter.name] = {\n                  filter: filter,\n                  nodes: [node]\n                };\n              }\n            }\n          });\n          each$k(attributeFilters, function (filter) {\n            if (typeof node.attr(filter.name) === 'string') {\n              if (attrMatches[filter.name]) {\n                attrMatches[filter.name].nodes.push(node);\n              } else {\n                attrMatches[filter.name] = {\n                  filter: filter,\n                  nodes: [node]\n                };\n              }\n            }\n          });\n        });\n      }\n      for (var name_1 in nodeMatches) {\n        if (has$2(nodeMatches, name_1)) {\n          matches.push(nodeMatches[name_1]);\n        }\n      }\n      for (var name_2 in attrMatches) {\n        if (has$2(attrMatches, name_2)) {\n          matches.push(attrMatches[name_2]);\n        }\n      }\n      return matches;\n    };\n    var filter$1 = function (nodeFilters, attributeFilters, node) {\n      var matches = findMatchingNodes(nodeFilters, attributeFilters, node);\n      each$k(matches, function (match) {\n        each$k(match.filter.callbacks, function (callback) {\n          callback(match.nodes, match.filter.name, {});\n        });\n      });\n    };\n\n    var defaultFormat$1 = 'html';\n    var isTreeNode = function (content) {\n      return content instanceof AstNode;\n    };\n    var moveSelection = function (editor) {\n      if (hasFocus(editor)) {\n        firstPositionIn(editor.getBody()).each(function (pos) {\n          var node = pos.getNode();\n          var caretPos = isTable$3(node) ? firstPositionIn(node).getOr(pos) : pos;\n          editor.selection.setRng(caretPos.toRange());\n        });\n      }\n    };\n    var setEditorHtml = function (editor, html, noSelection) {\n      editor.dom.setHTML(editor.getBody(), html);\n      if (noSelection !== true) {\n        moveSelection(editor);\n      }\n    };\n    var setContentString = function (editor, body, content, args) {\n      if (content.length === 0 || /^\\s+$/.test(content)) {\n        var padd = '<br data-mce-bogus=\"1\">';\n        if (body.nodeName === 'TABLE') {\n          content = '<tr><td>' + padd + '</td></tr>';\n        } else if (/^(UL|OL)$/.test(body.nodeName)) {\n          content = '<li>' + padd + '</li>';\n        }\n        var forcedRootBlockName = getForcedRootBlock(editor);\n        if (forcedRootBlockName && editor.schema.isValidChild(body.nodeName.toLowerCase(), forcedRootBlockName.toLowerCase())) {\n          content = padd;\n          content = editor.dom.createHTML(forcedRootBlockName, getForcedRootBlockAttrs(editor), content);\n        } else if (!content) {\n          content = '<br data-mce-bogus=\"1\">';\n        }\n        setEditorHtml(editor, content, args.no_selection);\n        editor.fire('SetContent', args);\n      } else {\n        if (args.format !== 'raw') {\n          content = HtmlSerializer({ validate: editor.validate }, editor.schema).serialize(editor.parser.parse(content, {\n            isRootContent: true,\n            insert: true\n          }));\n        }\n        args.content = isWsPreserveElement(SugarElement.fromDom(body)) ? content : Tools.trim(content);\n        setEditorHtml(editor, args.content, args.no_selection);\n        if (!args.no_events) {\n          editor.fire('SetContent', args);\n        }\n      }\n      return args.content;\n    };\n    var setContentTree = function (editor, body, content, args) {\n      filter$1(editor.parser.getNodeFilters(), editor.parser.getAttributeFilters(), content);\n      var html = HtmlSerializer({ validate: editor.validate }, editor.schema).serialize(content);\n      args.content = isWsPreserveElement(SugarElement.fromDom(body)) ? html : Tools.trim(html);\n      setEditorHtml(editor, args.content, args.no_selection);\n      if (!args.no_events) {\n        editor.fire('SetContent', args);\n      }\n      return content;\n    };\n    var setupArgs$2 = function (args, content) {\n      return __assign(__assign({ format: defaultFormat$1 }, args), {\n        set: true,\n        content: isTreeNode(content) ? '' : content\n      });\n    };\n    var setContentInternal = function (editor, content, args) {\n      var defaultedArgs = setupArgs$2(args, content);\n      var updatedArgs = args.no_events ? defaultedArgs : editor.fire('BeforeSetContent', defaultedArgs);\n      if (!isTreeNode(content)) {\n        content = updatedArgs.content;\n      }\n      return Optional.from(editor.getBody()).fold(constant(content), function (body) {\n        return isTreeNode(content) ? setContentTree(editor, body, content, updatedArgs) : setContentString(editor, body, content, updatedArgs);\n      });\n    };\n\n    var sibling = function (scope, predicate) {\n      return sibling$2(scope, predicate).isSome();\n    };\n\n    var ensureIsRoot = function (isRoot) {\n      return isFunction(isRoot) ? isRoot : never;\n    };\n    var ancestor = function (scope, transform, isRoot) {\n      var element = scope.dom;\n      var stop = ensureIsRoot(isRoot);\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = SugarElement.fromDom(element);\n        var transformed = transform(el);\n        if (transformed.isSome()) {\n          return transformed;\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var closest$1 = function (scope, transform, isRoot) {\n      var current = transform(scope);\n      var stop = ensureIsRoot(isRoot);\n      return current.orThunk(function () {\n        return stop(scope) ? Optional.none() : ancestor(scope, transform, stop);\n      });\n    };\n\n    var isEq$3 = isEq$5;\n    var matchesUnInheritedFormatSelector = function (ed, node, name) {\n      var formatList = ed.formatter.get(name);\n      if (formatList) {\n        for (var i = 0; i < formatList.length; i++) {\n          var format = formatList[i];\n          if (isSelectorFormat(format) && format.inherit === false && ed.dom.is(node, format.selector)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    var matchParents = function (editor, node, name, vars, similar) {\n      var root = editor.dom.getRoot();\n      if (node === root) {\n        return false;\n      }\n      node = editor.dom.getParent(node, function (node) {\n        if (matchesUnInheritedFormatSelector(editor, node, name)) {\n          return true;\n        }\n        return node.parentNode === root || !!matchNode(editor, node, name, vars, true);\n      });\n      return !!matchNode(editor, node, name, vars, similar);\n    };\n    var matchName$1 = function (dom, node, format) {\n      if (isEq$3(node, format.inline)) {\n        return true;\n      }\n      if (isEq$3(node, format.block)) {\n        return true;\n      }\n      if (format.selector) {\n        return node.nodeType === 1 && dom.is(node, format.selector);\n      }\n    };\n    var matchItems = function (dom, node, format, itemName, similar, vars) {\n      var items = format[itemName];\n      if (isFunction(format.onmatch)) {\n        return format.onmatch(node, format, itemName);\n      }\n      if (items) {\n        if (isUndefined(items.length)) {\n          for (var key in items) {\n            if (has$2(items, key)) {\n              var value = itemName === 'attributes' ? dom.getAttrib(node, key) : getStyle(dom, node, key);\n              var expectedValue = replaceVars(items[key], vars);\n              var isEmptyValue = isNullable(value) || isEmpty$3(value);\n              if (isEmptyValue && isNullable(expectedValue)) {\n                continue;\n              }\n              if (similar && isEmptyValue && !format.exact) {\n                return false;\n              }\n              if ((!similar || format.exact) && !isEq$3(value, normalizeStyleValue(dom, expectedValue, key))) {\n                return false;\n              }\n            }\n          }\n        } else {\n          for (var i = 0; i < items.length; i++) {\n            if (itemName === 'attributes' ? dom.getAttrib(node, items[i]) : getStyle(dom, node, items[i])) {\n              return true;\n            }\n          }\n        }\n      }\n      return true;\n    };\n    var matchNode = function (ed, node, name, vars, similar) {\n      var formatList = ed.formatter.get(name);\n      var dom = ed.dom;\n      if (formatList && node) {\n        for (var i = 0; i < formatList.length; i++) {\n          var format = formatList[i];\n          if (matchName$1(ed.dom, node, format) && matchItems(dom, node, format, 'attributes', similar, vars) && matchItems(dom, node, format, 'styles', similar, vars)) {\n            var classes = format.classes;\n            if (classes) {\n              for (var x = 0; x < classes.length; x++) {\n                if (!ed.dom.hasClass(node, replaceVars(classes[x], vars))) {\n                  return;\n                }\n              }\n            }\n            return format;\n          }\n        }\n      }\n    };\n    var match$2 = function (editor, name, vars, node, similar) {\n      if (node) {\n        return matchParents(editor, node, name, vars, similar);\n      }\n      node = editor.selection.getNode();\n      if (matchParents(editor, node, name, vars, similar)) {\n        return true;\n      }\n      var startNode = editor.selection.getStart();\n      if (startNode !== node) {\n        if (matchParents(editor, startNode, name, vars, similar)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var matchAll = function (editor, names, vars) {\n      var matchedFormatNames = [];\n      var checkedMap = {};\n      var startElement = editor.selection.getStart();\n      editor.dom.getParent(startElement, function (node) {\n        for (var i = 0; i < names.length; i++) {\n          var name_1 = names[i];\n          if (!checkedMap[name_1] && matchNode(editor, node, name_1, vars)) {\n            checkedMap[name_1] = true;\n            matchedFormatNames.push(name_1);\n          }\n        }\n      }, editor.dom.getRoot());\n      return matchedFormatNames;\n    };\n    var closest = function (editor, names) {\n      var isRoot = function (elm) {\n        return eq(elm, SugarElement.fromDom(editor.getBody()));\n      };\n      var match = function (elm, name) {\n        return matchNode(editor, elm.dom, name) ? Optional.some(name) : Optional.none();\n      };\n      return Optional.from(editor.selection.getStart(true)).bind(function (rawElm) {\n        return closest$1(SugarElement.fromDom(rawElm), function (elm) {\n          return findMap(names, function (name) {\n            return match(elm, name);\n          });\n        }, isRoot);\n      }).getOrNull();\n    };\n    var canApply = function (editor, name) {\n      var formatList = editor.formatter.get(name);\n      var dom = editor.dom;\n      if (formatList) {\n        var startNode = editor.selection.getStart();\n        var parents = getParents$2(dom, startNode);\n        for (var x = formatList.length - 1; x >= 0; x--) {\n          var format = formatList[x];\n          if (!isSelectorFormat(format) || isNonNullable(format.defaultBlock)) {\n            return true;\n          }\n          for (var i = parents.length - 1; i >= 0; i--) {\n            if (dom.is(parents[i], format.selector)) {\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    };\n    var matchAllOnNode = function (editor, node, formatNames) {\n      return foldl(formatNames, function (acc, name) {\n        var matchSimilar = isVariableFormatName(editor, name);\n        if (editor.formatter.matchNode(node, name, {}, matchSimilar)) {\n          return acc.concat([name]);\n        } else {\n          return acc;\n        }\n      }, []);\n    };\n\n    var ZWSP = ZWSP$1, CARET_ID = '_mce_caret';\n    var importNode = function (ownerDocument, node) {\n      return ownerDocument.importNode(node, true);\n    };\n    var getEmptyCaretContainers = function (node) {\n      var nodes = [];\n      while (node) {\n        if (node.nodeType === 3 && node.nodeValue !== ZWSP || node.childNodes.length > 1) {\n          return [];\n        }\n        if (node.nodeType === 1) {\n          nodes.push(node);\n        }\n        node = node.firstChild;\n      }\n      return nodes;\n    };\n    var isCaretContainerEmpty = function (node) {\n      return getEmptyCaretContainers(node).length > 0;\n    };\n    var findFirstTextNode = function (node) {\n      if (node) {\n        var walker = new DomTreeWalker(node, node);\n        for (node = walker.current(); node; node = walker.next()) {\n          if (isText$7(node)) {\n            return node;\n          }\n        }\n      }\n      return null;\n    };\n    var createCaretContainer = function (fill) {\n      var caretContainer = SugarElement.fromTag('span');\n      setAll$1(caretContainer, {\n        'id': CARET_ID,\n        'data-mce-bogus': '1',\n        'data-mce-type': 'format-caret'\n      });\n      if (fill) {\n        append$1(caretContainer, SugarElement.fromText(ZWSP));\n      }\n      return caretContainer;\n    };\n    var trimZwspFromCaretContainer = function (caretContainerNode) {\n      var textNode = findFirstTextNode(caretContainerNode);\n      if (textNode && textNode.nodeValue.charAt(0) === ZWSP) {\n        textNode.deleteData(0, 1);\n      }\n      return textNode;\n    };\n    var removeCaretContainerNode = function (editor, node, moveCaret) {\n      if (moveCaret === void 0) {\n        moveCaret = true;\n      }\n      var dom = editor.dom, selection = editor.selection;\n      if (isCaretContainerEmpty(node)) {\n        deleteElement$2(editor, false, SugarElement.fromDom(node), moveCaret);\n      } else {\n        var rng = selection.getRng();\n        var block = dom.getParent(node, dom.isBlock);\n        var startContainer = rng.startContainer;\n        var startOffset = rng.startOffset;\n        var endContainer = rng.endContainer;\n        var endOffset = rng.endOffset;\n        var textNode = trimZwspFromCaretContainer(node);\n        dom.remove(node, true);\n        if (startContainer === textNode && startOffset > 0) {\n          rng.setStart(textNode, startOffset - 1);\n        }\n        if (endContainer === textNode && endOffset > 0) {\n          rng.setEnd(textNode, endOffset - 1);\n        }\n        if (block && dom.isEmpty(block)) {\n          fillWithPaddingBr(SugarElement.fromDom(block));\n        }\n        selection.setRng(rng);\n      }\n    };\n    var removeCaretContainer = function (editor, node, moveCaret) {\n      if (moveCaret === void 0) {\n        moveCaret = true;\n      }\n      var dom = editor.dom, selection = editor.selection;\n      if (!node) {\n        node = getParentCaretContainer(editor.getBody(), selection.getStart());\n        if (!node) {\n          while (node = dom.get(CARET_ID)) {\n            removeCaretContainerNode(editor, node, false);\n          }\n        }\n      } else {\n        removeCaretContainerNode(editor, node, moveCaret);\n      }\n    };\n    var insertCaretContainerNode = function (editor, caretContainer, formatNode) {\n      var dom = editor.dom, block = dom.getParent(formatNode, curry(isTextBlock$1, editor));\n      if (block && dom.isEmpty(block)) {\n        formatNode.parentNode.replaceChild(caretContainer, formatNode);\n      } else {\n        removeTrailingBr(SugarElement.fromDom(formatNode));\n        if (dom.isEmpty(formatNode)) {\n          formatNode.parentNode.replaceChild(caretContainer, formatNode);\n        } else {\n          dom.insertAfter(caretContainer, formatNode);\n        }\n      }\n    };\n    var appendNode = function (parentNode, node) {\n      parentNode.appendChild(node);\n      return node;\n    };\n    var insertFormatNodesIntoCaretContainer = function (formatNodes, caretContainer) {\n      var innerMostFormatNode = foldr(formatNodes, function (parentNode, formatNode) {\n        return appendNode(parentNode, formatNode.cloneNode(false));\n      }, caretContainer);\n      return appendNode(innerMostFormatNode, innerMostFormatNode.ownerDocument.createTextNode(ZWSP));\n    };\n    var cleanFormatNode = function (editor, caretContainer, formatNode, name, vars, similar) {\n      var formatter = editor.formatter;\n      var dom = editor.dom;\n      var validFormats = filter$4(keys(formatter.get()), function (formatName) {\n        return formatName !== name && !contains$2(formatName, 'removeformat');\n      });\n      var matchedFormats = matchAllOnNode(editor, formatNode, validFormats);\n      var uniqueFormats = filter$4(matchedFormats, function (fmtName) {\n        return !areSimilarFormats(editor, fmtName, name);\n      });\n      if (uniqueFormats.length > 0) {\n        var clonedFormatNode = formatNode.cloneNode(false);\n        dom.add(caretContainer, clonedFormatNode);\n        formatter.remove(name, vars, clonedFormatNode, similar);\n        dom.remove(clonedFormatNode);\n        return Optional.some(clonedFormatNode);\n      } else {\n        return Optional.none();\n      }\n    };\n    var applyCaretFormat = function (editor, name, vars) {\n      var caretContainer, textNode;\n      var selection = editor.selection;\n      var selectionRng = selection.getRng();\n      var offset = selectionRng.startOffset;\n      var container = selectionRng.startContainer;\n      var text = container.nodeValue;\n      caretContainer = getParentCaretContainer(editor.getBody(), selection.getStart());\n      if (caretContainer) {\n        textNode = findFirstTextNode(caretContainer);\n      }\n      var wordcharRegex = /[^\\s\\u00a0\\u00ad\\u200b\\ufeff]/;\n      if (text && offset > 0 && offset < text.length && wordcharRegex.test(text.charAt(offset)) && wordcharRegex.test(text.charAt(offset - 1))) {\n        var bookmark = selection.getBookmark();\n        selectionRng.collapse(true);\n        var rng = expandRng(editor, selectionRng, editor.formatter.get(name));\n        rng = split(rng);\n        editor.formatter.apply(name, vars, rng);\n        selection.moveToBookmark(bookmark);\n      } else {\n        if (!caretContainer || textNode.nodeValue !== ZWSP) {\n          caretContainer = importNode(editor.getDoc(), createCaretContainer(true).dom);\n          textNode = caretContainer.firstChild;\n          selectionRng.insertNode(caretContainer);\n          offset = 1;\n          editor.formatter.apply(name, vars, caretContainer);\n        } else {\n          editor.formatter.apply(name, vars, caretContainer);\n        }\n        selection.setCursorLocation(textNode, offset);\n      }\n    };\n    var removeCaretFormat = function (editor, name, vars, similar) {\n      var dom = editor.dom;\n      var selection = editor.selection;\n      var hasContentAfter, node, formatNode;\n      var parents = [];\n      var rng = selection.getRng();\n      var container = rng.startContainer;\n      var offset = rng.startOffset;\n      node = container;\n      if (container.nodeType === 3) {\n        if (offset !== container.nodeValue.length) {\n          hasContentAfter = true;\n        }\n        node = node.parentNode;\n      }\n      while (node) {\n        if (matchNode(editor, node, name, vars, similar)) {\n          formatNode = node;\n          break;\n        }\n        if (node.nextSibling) {\n          hasContentAfter = true;\n        }\n        parents.push(node);\n        node = node.parentNode;\n      }\n      if (!formatNode) {\n        return;\n      }\n      if (hasContentAfter) {\n        var bookmark = selection.getBookmark();\n        rng.collapse(true);\n        var expandedRng = expandRng(editor, rng, editor.formatter.get(name), true);\n        expandedRng = split(expandedRng);\n        editor.formatter.remove(name, vars, expandedRng, similar);\n        selection.moveToBookmark(bookmark);\n      } else {\n        var caretContainer = getParentCaretContainer(editor.getBody(), formatNode);\n        var newCaretContainer = createCaretContainer(false).dom;\n        insertCaretContainerNode(editor, newCaretContainer, caretContainer !== null ? caretContainer : formatNode);\n        var cleanedFormatNode = cleanFormatNode(editor, newCaretContainer, formatNode, name, vars, similar);\n        var caretTextNode = insertFormatNodesIntoCaretContainer(parents.concat(cleanedFormatNode.toArray()), newCaretContainer);\n        removeCaretContainerNode(editor, caretContainer, false);\n        selection.setCursorLocation(caretTextNode, 1);\n        if (dom.isEmpty(formatNode)) {\n          dom.remove(formatNode);\n        }\n      }\n    };\n    var disableCaretContainer = function (editor, keyCode) {\n      var selection = editor.selection, body = editor.getBody();\n      removeCaretContainer(editor, null, false);\n      if ((keyCode === 8 || keyCode === 46) && selection.isCollapsed() && selection.getStart().innerHTML === ZWSP) {\n        removeCaretContainer(editor, getParentCaretContainer(body, selection.getStart()));\n      }\n      if (keyCode === 37 || keyCode === 39) {\n        removeCaretContainer(editor, getParentCaretContainer(body, selection.getStart()));\n      }\n    };\n    var setup$k = function (editor) {\n      editor.on('mouseup keydown', function (e) {\n        disableCaretContainer(editor, e.keyCode);\n      });\n    };\n    var replaceWithCaretFormat = function (targetNode, formatNodes) {\n      var caretContainer = createCaretContainer(false);\n      var innerMost = insertFormatNodesIntoCaretContainer(formatNodes, caretContainer.dom);\n      before$4(SugarElement.fromDom(targetNode), caretContainer);\n      remove$7(SugarElement.fromDom(targetNode));\n      return CaretPosition(innerMost, 0);\n    };\n    var isFormatElement = function (editor, element) {\n      var inlineElements = editor.schema.getTextInlineElements();\n      return has$2(inlineElements, name(element)) && !isCaretNode(element.dom) && !isBogus$2(element.dom);\n    };\n    var isEmptyCaretFormatElement = function (element) {\n      return isCaretNode(element.dom) && isCaretContainerEmpty(element.dom);\n    };\n\n    var postProcessHooks = {};\n    var filter = filter$2;\n    var each$b = each$i;\n    var addPostProcessHook = function (name, hook) {\n      var hooks = postProcessHooks[name];\n      if (!hooks) {\n        postProcessHooks[name] = [];\n      }\n      postProcessHooks[name].push(hook);\n    };\n    var postProcess$1 = function (name, editor) {\n      each$b(postProcessHooks[name], function (hook) {\n        hook(editor);\n      });\n    };\n    addPostProcessHook('pre', function (editor) {\n      var rng = editor.selection.getRng();\n      var blocks;\n      var hasPreSibling = function (pre) {\n        return isPre(pre.previousSibling) && indexOf$1(blocks, pre.previousSibling) !== -1;\n      };\n      var joinPre = function (pre1, pre2) {\n        DomQuery(pre2).remove();\n        DomQuery(pre1).append('<br><br>').append(pre2.childNodes);\n      };\n      var isPre = matchNodeNames(['pre']);\n      if (!rng.collapsed) {\n        blocks = editor.selection.getSelectedBlocks();\n        each$b(filter(filter(blocks, isPre), hasPreSibling), function (pre) {\n          joinPre(pre.previousSibling, pre);\n        });\n      }\n    });\n\n    var each$a = Tools.each;\n    var isElementNode$1 = function (node) {\n      return isElement$5(node) && !isBookmarkNode$1(node) && !isCaretNode(node) && !isBogus$2(node);\n    };\n    var findElementSibling = function (node, siblingName) {\n      for (var sibling = node; sibling; sibling = sibling[siblingName]) {\n        if (isText$7(sibling) && isNotEmpty(sibling.data)) {\n          return node;\n        }\n        if (isElement$5(sibling) && !isBookmarkNode$1(sibling)) {\n          return sibling;\n        }\n      }\n      return node;\n    };\n    var mergeSiblingsNodes = function (dom, prev, next) {\n      var elementUtils = ElementUtils(dom);\n      if (prev && next) {\n        prev = findElementSibling(prev, 'previousSibling');\n        next = findElementSibling(next, 'nextSibling');\n        if (elementUtils.compare(prev, next)) {\n          for (var sibling = prev.nextSibling; sibling && sibling !== next;) {\n            var tmpSibling = sibling;\n            sibling = sibling.nextSibling;\n            prev.appendChild(tmpSibling);\n          }\n          dom.remove(next);\n          Tools.each(Tools.grep(next.childNodes), function (node) {\n            prev.appendChild(node);\n          });\n          return prev;\n        }\n      }\n      return next;\n    };\n    var mergeSiblings = function (dom, format, vars, node) {\n      if (node && format.merge_siblings !== false) {\n        var newNode = mergeSiblingsNodes(dom, getNonWhiteSpaceSibling(node), node);\n        mergeSiblingsNodes(dom, newNode, getNonWhiteSpaceSibling(newNode, true));\n      }\n    };\n    var clearChildStyles = function (dom, format, node) {\n      if (format.clear_child_styles) {\n        var selector = format.links ? '*:not(a)' : '*';\n        each$a(dom.select(selector, node), function (node) {\n          if (isElementNode$1(node)) {\n            each$a(format.styles, function (value, name) {\n              dom.setStyle(node, name, '');\n            });\n          }\n        });\n      }\n    };\n    var processChildElements = function (node, filter, process) {\n      each$a(node.childNodes, function (node) {\n        if (isElementNode$1(node)) {\n          if (filter(node)) {\n            process(node);\n          }\n          if (node.hasChildNodes()) {\n            processChildElements(node, filter, process);\n          }\n        }\n      });\n    };\n    var unwrapEmptySpan = function (dom, node) {\n      if (node.nodeName === 'SPAN' && dom.getAttribs(node).length === 0) {\n        dom.remove(node, true);\n      }\n    };\n    var hasStyle = function (dom, name) {\n      return function (node) {\n        return !!(node && getStyle(dom, node, name));\n      };\n    };\n    var applyStyle = function (dom, name, value) {\n      return function (node) {\n        dom.setStyle(node, name, value);\n        if (node.getAttribute('style') === '') {\n          node.removeAttribute('style');\n        }\n        unwrapEmptySpan(dom, node);\n      };\n    };\n\n    var removeResult = Adt.generate([\n      { keep: [] },\n      { rename: ['name'] },\n      { removed: [] }\n    ]);\n    var MCE_ATTR_RE = /^(src|href|style)$/;\n    var each$9 = Tools.each;\n    var isEq$2 = isEq$5;\n    var isTableCellOrRow = function (node) {\n      return /^(TR|TH|TD)$/.test(node.nodeName);\n    };\n    var isChildOfInlineParent = function (dom, node, parent) {\n      return dom.isChildOf(node, parent) && node !== parent && !dom.isBlock(parent);\n    };\n    var getContainer = function (ed, rng, start) {\n      var container = rng[start ? 'startContainer' : 'endContainer'];\n      var offset = rng[start ? 'startOffset' : 'endOffset'];\n      if (isElement$5(container)) {\n        var lastIdx = container.childNodes.length - 1;\n        if (!start && offset) {\n          offset--;\n        }\n        container = container.childNodes[offset > lastIdx ? lastIdx : offset];\n      }\n      if (isText$7(container) && start && offset >= container.nodeValue.length) {\n        container = new DomTreeWalker(container, ed.getBody()).next() || container;\n      }\n      if (isText$7(container) && !start && offset === 0) {\n        container = new DomTreeWalker(container, ed.getBody()).prev() || container;\n      }\n      return container;\n    };\n    var normalizeTableSelection = function (node, start) {\n      var prop = start ? 'firstChild' : 'lastChild';\n      if (isTableCellOrRow(node) && node[prop]) {\n        var childNode = node[prop];\n        if (node.nodeName === 'TR') {\n          return childNode[prop] || childNode;\n        } else {\n          return childNode;\n        }\n      }\n      return node;\n    };\n    var wrap$1 = function (dom, node, name, attrs) {\n      var wrapper = dom.create(name, attrs);\n      node.parentNode.insertBefore(wrapper, node);\n      wrapper.appendChild(node);\n      return wrapper;\n    };\n    var wrapWithSiblings = function (dom, node, next, name, attrs) {\n      var start = SugarElement.fromDom(node);\n      var wrapper = SugarElement.fromDom(dom.create(name, attrs));\n      var siblings = next ? nextSiblings(start) : prevSiblings(start);\n      append(wrapper, siblings);\n      if (next) {\n        before$4(start, wrapper);\n        prepend(wrapper, start);\n      } else {\n        after$3(start, wrapper);\n        append$1(wrapper, start);\n      }\n      return wrapper.dom;\n    };\n    var matchName = function (dom, node, format) {\n      if (isInlineFormat(format) && isEq$2(node, format.inline)) {\n        return true;\n      }\n      if (isBlockFormat(format) && isEq$2(node, format.block)) {\n        return true;\n      }\n      if (isSelectorFormat(format)) {\n        return isElement$5(node) && dom.is(node, format.selector);\n      }\n    };\n    var isColorFormatAndAnchor = function (node, format) {\n      return format.links && node.nodeName === 'A';\n    };\n    var find = function (dom, node, next, inc) {\n      var sibling = getNonWhiteSpaceSibling(node, next, inc);\n      return isNullable(sibling) || sibling.nodeName === 'BR' || dom.isBlock(sibling);\n    };\n    var removeNode = function (ed, node, format) {\n      var parentNode = node.parentNode;\n      var rootBlockElm;\n      var dom = ed.dom, forcedRootBlock = getForcedRootBlock(ed);\n      if (isBlockFormat(format)) {\n        if (!forcedRootBlock) {\n          if (dom.isBlock(node) && !dom.isBlock(parentNode)) {\n            if (!find(dom, node, false) && !find(dom, node.firstChild, true, true)) {\n              node.insertBefore(dom.create('br'), node.firstChild);\n            }\n            if (!find(dom, node, true) && !find(dom, node.lastChild, false, true)) {\n              node.appendChild(dom.create('br'));\n            }\n          }\n        } else {\n          if (parentNode === dom.getRoot()) {\n            if (!format.list_block || !isEq$2(node, format.list_block)) {\n              each$k(from(node.childNodes), function (node) {\n                if (isValid(ed, forcedRootBlock, node.nodeName.toLowerCase())) {\n                  if (!rootBlockElm) {\n                    rootBlockElm = wrap$1(dom, node, forcedRootBlock);\n                    dom.setAttribs(rootBlockElm, ed.settings.forced_root_block_attrs);\n                  } else {\n                    rootBlockElm.appendChild(node);\n                  }\n                } else {\n                  rootBlockElm = null;\n                }\n              });\n            }\n          }\n        }\n      }\n      if (isMixedFormat(format) && !isEq$2(format.inline, node)) {\n        return;\n      }\n      dom.remove(node, true);\n    };\n    var removeFormatInternal = function (ed, format, vars, node, compareNode) {\n      var stylesModified;\n      var dom = ed.dom;\n      if (!matchName(dom, node, format) && !isColorFormatAndAnchor(node, format)) {\n        return removeResult.keep();\n      }\n      var elm = node;\n      if (isInlineFormat(format) && format.remove === 'all' && isArray$1(format.preserve_attributes)) {\n        var attrsToPreserve = filter$4(dom.getAttribs(elm), function (attr) {\n          return contains$3(format.preserve_attributes, attr.name.toLowerCase());\n        });\n        dom.removeAllAttribs(elm);\n        each$k(attrsToPreserve, function (attr) {\n          return dom.setAttrib(elm, attr.name, attr.value);\n        });\n        if (attrsToPreserve.length > 0) {\n          return removeResult.rename('span');\n        }\n      }\n      if (format.remove !== 'all') {\n        each$9(format.styles, function (value, name) {\n          value = normalizeStyleValue(dom, replaceVars(value, vars), name + '');\n          if (isNumber(name)) {\n            name = value;\n            compareNode = null;\n          }\n          if (format.remove_similar || (!compareNode || isEq$2(getStyle(dom, compareNode, name), value))) {\n            dom.setStyle(elm, name, '');\n          }\n          stylesModified = true;\n        });\n        if (stylesModified && dom.getAttrib(elm, 'style') === '') {\n          elm.removeAttribute('style');\n          elm.removeAttribute('data-mce-style');\n        }\n        each$9(format.attributes, function (value, name) {\n          var valueOut;\n          value = replaceVars(value, vars);\n          if (isNumber(name)) {\n            name = value;\n            compareNode = null;\n          }\n          if (format.remove_similar || (!compareNode || isEq$2(dom.getAttrib(compareNode, name), value))) {\n            if (name === 'class') {\n              value = dom.getAttrib(elm, name);\n              if (value) {\n                valueOut = '';\n                each$k(value.split(/\\s+/), function (cls) {\n                  if (/mce\\-\\w+/.test(cls)) {\n                    valueOut += (valueOut ? ' ' : '') + cls;\n                  }\n                });\n                if (valueOut) {\n                  dom.setAttrib(elm, name, valueOut);\n                  return;\n                }\n              }\n            }\n            if (MCE_ATTR_RE.test(name)) {\n              elm.removeAttribute('data-mce-' + name);\n            }\n            if (name === 'style' && matchNodeNames(['li'])(elm) && dom.getStyle(elm, 'list-style-type') === 'none') {\n              elm.removeAttribute(name);\n              dom.setStyle(elm, 'list-style-type', 'none');\n              return;\n            }\n            if (name === 'class') {\n              elm.removeAttribute('className');\n            }\n            elm.removeAttribute(name);\n          }\n        });\n        each$9(format.classes, function (value) {\n          value = replaceVars(value, vars);\n          if (!compareNode || dom.hasClass(compareNode, value)) {\n            dom.removeClass(elm, value);\n          }\n        });\n        var attrs = dom.getAttribs(elm);\n        for (var i = 0; i < attrs.length; i++) {\n          var attrName = attrs[i].nodeName;\n          if (attrName.indexOf('_') !== 0 && attrName.indexOf('data-') !== 0) {\n            return removeResult.keep();\n          }\n        }\n      }\n      if (format.remove !== 'none') {\n        removeNode(ed, elm, format);\n        return removeResult.removed();\n      }\n      return removeResult.keep();\n    };\n    var removeFormat$1 = function (ed, format, vars, node, compareNode) {\n      return removeFormatInternal(ed, format, vars, node, compareNode).fold(never, function (newName) {\n        ed.dom.rename(node, newName);\n        return true;\n      }, always);\n    };\n    var findFormatRoot = function (editor, container, name, vars, similar) {\n      var formatRoot;\n      each$k(getParents$2(editor.dom, container.parentNode).reverse(), function (parent) {\n        if (!formatRoot && parent.id !== '_start' && parent.id !== '_end') {\n          var format = matchNode(editor, parent, name, vars, similar);\n          if (format && format.split !== false) {\n            formatRoot = parent;\n          }\n        }\n      });\n      return formatRoot;\n    };\n    var removeFormatFromClone = function (editor, format, vars, clone) {\n      return removeFormatInternal(editor, format, vars, clone, clone).fold(constant(clone), function (newName) {\n        var fragment = editor.dom.createFragment();\n        fragment.appendChild(clone);\n        return editor.dom.rename(clone, newName);\n      }, constant(null));\n    };\n    var wrapAndSplit = function (editor, formatList, formatRoot, container, target, split, format, vars) {\n      var clone, lastClone, firstClone;\n      var dom = editor.dom;\n      if (formatRoot) {\n        var formatRootParent = formatRoot.parentNode;\n        for (var parent_1 = container.parentNode; parent_1 && parent_1 !== formatRootParent; parent_1 = parent_1.parentNode) {\n          clone = dom.clone(parent_1, false);\n          for (var i = 0; i < formatList.length; i++) {\n            clone = removeFormatFromClone(editor, formatList[i], vars, clone);\n            if (clone === null) {\n              break;\n            }\n          }\n          if (clone) {\n            if (lastClone) {\n              clone.appendChild(lastClone);\n            }\n            if (!firstClone) {\n              firstClone = clone;\n            }\n            lastClone = clone;\n          }\n        }\n        if (split && (!format.mixed || !dom.isBlock(formatRoot))) {\n          container = dom.split(formatRoot, container);\n        }\n        if (lastClone) {\n          target.parentNode.insertBefore(lastClone, target);\n          firstClone.appendChild(target);\n          if (isInlineFormat(format)) {\n            mergeSiblings(dom, format, vars, lastClone);\n          }\n        }\n      }\n      return container;\n    };\n    var remove$1 = function (ed, name, vars, node, similar) {\n      var formatList = ed.formatter.get(name);\n      var format = formatList[0];\n      var contentEditable = true;\n      var dom = ed.dom;\n      var selection = ed.selection;\n      var splitToFormatRoot = function (container) {\n        var formatRoot = findFormatRoot(ed, container, name, vars, similar);\n        return wrapAndSplit(ed, formatList, formatRoot, container, container, true, format, vars);\n      };\n      var isRemoveBookmarkNode = function (node) {\n        return isBookmarkNode$1(node) && isElement$5(node) && (node.id === '_start' || node.id === '_end');\n      };\n      var removeNodeFormat = function (node) {\n        return exists(formatList, function (fmt) {\n          return removeFormat$1(ed, fmt, vars, node, node);\n        });\n      };\n      var process = function (node) {\n        var lastContentEditable = true;\n        var hasContentEditableState = false;\n        if (isElement$5(node) && dom.getContentEditable(node)) {\n          lastContentEditable = contentEditable;\n          contentEditable = dom.getContentEditable(node) === 'true';\n          hasContentEditableState = true;\n        }\n        var children = from(node.childNodes);\n        if (contentEditable && !hasContentEditableState) {\n          var removed = removeNodeFormat(node);\n          var currentNodeMatches = removed || exists(formatList, function (f) {\n            return matchName$1(dom, node, f);\n          });\n          var parentNode = node.parentNode;\n          if (!currentNodeMatches && isNonNullable(parentNode) && shouldExpandToSelector(format)) {\n            removeNodeFormat(parentNode);\n          }\n        }\n        if (format.deep) {\n          if (children.length) {\n            for (var i = 0; i < children.length; i++) {\n              process(children[i]);\n            }\n            if (hasContentEditableState) {\n              contentEditable = lastContentEditable;\n            }\n          }\n        }\n        var textDecorations = [\n          'underline',\n          'line-through',\n          'overline'\n        ];\n        each$k(textDecorations, function (decoration) {\n          if (isElement$5(node) && ed.dom.getStyle(node, 'text-decoration') === decoration && node.parentNode && getTextDecoration(dom, node.parentNode) === decoration) {\n            removeFormat$1(ed, {\n              deep: false,\n              exact: true,\n              inline: 'span',\n              styles: { textDecoration: decoration }\n            }, null, node);\n          }\n        });\n      };\n      var unwrap = function (start) {\n        var node = dom.get(start ? '_start' : '_end');\n        var out = node[start ? 'firstChild' : 'lastChild'];\n        if (isRemoveBookmarkNode(out)) {\n          out = out[start ? 'firstChild' : 'lastChild'];\n        }\n        if (isText$7(out) && out.data.length === 0) {\n          out = start ? node.previousSibling || node.nextSibling : node.nextSibling || node.previousSibling;\n        }\n        dom.remove(node, true);\n        return out;\n      };\n      var removeRngStyle = function (rng) {\n        var startContainer, endContainer;\n        var expandedRng = expandRng(ed, rng, formatList, rng.collapsed);\n        if (format.split) {\n          expandedRng = split(expandedRng);\n          startContainer = getContainer(ed, expandedRng, true);\n          endContainer = getContainer(ed, expandedRng);\n          if (startContainer !== endContainer) {\n            startContainer = normalizeTableSelection(startContainer, true);\n            endContainer = normalizeTableSelection(endContainer, false);\n            if (isChildOfInlineParent(dom, startContainer, endContainer)) {\n              var marker = Optional.from(startContainer.firstChild).getOr(startContainer);\n              splitToFormatRoot(wrapWithSiblings(dom, marker, true, 'span', {\n                'id': '_start',\n                'data-mce-type': 'bookmark'\n              }));\n              unwrap(true);\n              return;\n            }\n            if (isChildOfInlineParent(dom, endContainer, startContainer)) {\n              var marker = Optional.from(endContainer.lastChild).getOr(endContainer);\n              splitToFormatRoot(wrapWithSiblings(dom, marker, false, 'span', {\n                'id': '_end',\n                'data-mce-type': 'bookmark'\n              }));\n              unwrap(false);\n              return;\n            }\n            startContainer = wrap$1(dom, startContainer, 'span', {\n              'id': '_start',\n              'data-mce-type': 'bookmark'\n            });\n            endContainer = wrap$1(dom, endContainer, 'span', {\n              'id': '_end',\n              'data-mce-type': 'bookmark'\n            });\n            var newRng = dom.createRng();\n            newRng.setStartAfter(startContainer);\n            newRng.setEndBefore(endContainer);\n            walk$2(dom, newRng, function (nodes) {\n              each$k(nodes, function (n) {\n                if (!isBookmarkNode$1(n) && !isBookmarkNode$1(n.parentNode)) {\n                  splitToFormatRoot(n);\n                }\n              });\n            });\n            splitToFormatRoot(startContainer);\n            splitToFormatRoot(endContainer);\n            startContainer = unwrap(true);\n            endContainer = unwrap();\n          } else {\n            startContainer = endContainer = splitToFormatRoot(startContainer);\n          }\n          expandedRng.startContainer = startContainer.parentNode ? startContainer.parentNode : startContainer;\n          expandedRng.startOffset = dom.nodeIndex(startContainer);\n          expandedRng.endContainer = endContainer.parentNode ? endContainer.parentNode : endContainer;\n          expandedRng.endOffset = dom.nodeIndex(endContainer) + 1;\n        }\n        walk$2(dom, expandedRng, function (nodes) {\n          each$k(nodes, process);\n        });\n      };\n      if (node) {\n        if (isNode(node)) {\n          var rng = dom.createRng();\n          rng.setStartBefore(node);\n          rng.setEndAfter(node);\n          removeRngStyle(rng);\n        } else {\n          removeRngStyle(node);\n        }\n        fireFormatRemove(ed, name, node, vars);\n        return;\n      }\n      if (dom.getContentEditable(selection.getNode()) === 'false') {\n        node = selection.getNode();\n        for (var i = 0; i < formatList.length; i++) {\n          if (formatList[i].ceFalseOverride) {\n            if (removeFormat$1(ed, formatList[i], vars, node, node)) {\n              break;\n            }\n          }\n        }\n        fireFormatRemove(ed, name, node, vars);\n        return;\n      }\n      if (!selection.isCollapsed() || !isInlineFormat(format) || getCellsFromEditor(ed).length) {\n        preserve(selection, true, function () {\n          runOnRanges(ed, removeRngStyle);\n        });\n        if (isInlineFormat(format) && match$2(ed, name, vars, selection.getStart())) {\n          moveStart(dom, selection, selection.getRng());\n        }\n        ed.nodeChanged();\n      } else {\n        removeCaretFormat(ed, name, vars, similar);\n      }\n      fireFormatRemove(ed, name, node, vars);\n    };\n\n    var each$8 = Tools.each;\n    var mergeTextDecorationsAndColor = function (dom, format, vars, node) {\n      var processTextDecorationsAndColor = function (n) {\n        if (n.nodeType === 1 && n.parentNode && n.parentNode.nodeType === 1) {\n          var textDecoration = getTextDecoration(dom, n.parentNode);\n          if (dom.getStyle(n, 'color') && textDecoration) {\n            dom.setStyle(n, 'text-decoration', textDecoration);\n          } else if (dom.getStyle(n, 'text-decoration') === textDecoration) {\n            dom.setStyle(n, 'text-decoration', null);\n          }\n        }\n      };\n      if (format.styles && (format.styles.color || format.styles.textDecoration)) {\n        Tools.walk(node, processTextDecorationsAndColor, 'childNodes');\n        processTextDecorationsAndColor(node);\n      }\n    };\n    var mergeBackgroundColorAndFontSize = function (dom, format, vars, node) {\n      if (format.styles && format.styles.backgroundColor) {\n        processChildElements(node, hasStyle(dom, 'fontSize'), applyStyle(dom, 'backgroundColor', replaceVars(format.styles.backgroundColor, vars)));\n      }\n    };\n    var mergeSubSup = function (dom, format, vars, node) {\n      if (isInlineFormat(format) && (format.inline === 'sub' || format.inline === 'sup')) {\n        processChildElements(node, hasStyle(dom, 'fontSize'), applyStyle(dom, 'fontSize', ''));\n        dom.remove(dom.select(format.inline === 'sup' ? 'sub' : 'sup', node), true);\n      }\n    };\n    var mergeWithChildren = function (editor, formatList, vars, node) {\n      each$8(formatList, function (format) {\n        if (isInlineFormat(format)) {\n          each$8(editor.dom.select(format.inline, node), function (child) {\n            if (!isElementNode$1(child)) {\n              return;\n            }\n            removeFormat$1(editor, format, vars, child, format.exact ? child : null);\n          });\n        }\n        clearChildStyles(editor.dom, format, node);\n      });\n    };\n    var mergeWithParents = function (editor, format, name, vars, node) {\n      if (matchNode(editor, node.parentNode, name, vars)) {\n        if (removeFormat$1(editor, format, vars, node)) {\n          return;\n        }\n      }\n      if (format.merge_with_parents) {\n        editor.dom.getParent(node.parentNode, function (parent) {\n          if (matchNode(editor, parent, name, vars)) {\n            removeFormat$1(editor, format, vars, node);\n            return true;\n          }\n        });\n      }\n    };\n\n    var each$7 = Tools.each;\n    var isElementNode = function (node) {\n      return isElement$5(node) && !isBookmarkNode$1(node) && !isCaretNode(node) && !isBogus$2(node);\n    };\n    var canFormatBR = function (editor, format, node, parentName) {\n      if (canFormatEmptyLines(editor) && isInlineFormat(format)) {\n        var validBRParentElements = __assign(__assign({}, editor.schema.getTextBlockElements()), {\n          td: {},\n          th: {},\n          li: {},\n          dt: {},\n          dd: {},\n          figcaption: {},\n          caption: {},\n          details: {},\n          summary: {}\n        });\n        var hasCaretNodeSibling = sibling(SugarElement.fromDom(node), function (sibling) {\n          return isCaretNode(sibling.dom);\n        });\n        return hasNonNullableKey(validBRParentElements, parentName) && isEmpty$2(SugarElement.fromDom(node.parentNode), false) && !hasCaretNodeSibling;\n      } else {\n        return false;\n      }\n    };\n    var applyFormat$1 = function (ed, name, vars, node) {\n      var formatList = ed.formatter.get(name);\n      var format = formatList[0];\n      var isCollapsed = !node && ed.selection.isCollapsed();\n      var dom = ed.dom;\n      var selection = ed.selection;\n      var setElementFormat = function (elm, fmt) {\n        if (fmt === void 0) {\n          fmt = format;\n        }\n        if (isFunction(fmt.onformat)) {\n          fmt.onformat(elm, fmt, vars, node);\n        }\n        each$7(fmt.styles, function (value, name) {\n          dom.setStyle(elm, name, replaceVars(value, vars));\n        });\n        if (fmt.styles) {\n          var styleVal = dom.getAttrib(elm, 'style');\n          if (styleVal) {\n            dom.setAttrib(elm, 'data-mce-style', styleVal);\n          }\n        }\n        each$7(fmt.attributes, function (value, name) {\n          dom.setAttrib(elm, name, replaceVars(value, vars));\n        });\n        each$7(fmt.classes, function (value) {\n          value = replaceVars(value, vars);\n          if (!dom.hasClass(elm, value)) {\n            dom.addClass(elm, value);\n          }\n        });\n      };\n      var applyNodeStyle = function (formatList, node) {\n        var found = false;\n        each$7(formatList, function (format) {\n          if (!isSelectorFormat(format)) {\n            return false;\n          }\n          if (isNonNullable(format.collapsed) && format.collapsed !== isCollapsed) {\n            return;\n          }\n          if (dom.is(node, format.selector) && !isCaretNode(node)) {\n            setElementFormat(node, format);\n            found = true;\n            return false;\n          }\n        });\n        return found;\n      };\n      var createWrapElement = function (wrapName) {\n        if (isString$1(wrapName)) {\n          var wrapElm = dom.create(wrapName);\n          setElementFormat(wrapElm);\n          return wrapElm;\n        } else {\n          return null;\n        }\n      };\n      var applyRngStyle = function (dom, rng, nodeSpecific) {\n        var newWrappers = [];\n        var contentEditable = true;\n        var wrapName = format.inline || format.block;\n        var wrapElm = createWrapElement(wrapName);\n        walk$2(dom, rng, function (nodes) {\n          var currentWrapElm;\n          var process = function (node) {\n            var hasContentEditableState = false;\n            var lastContentEditable = contentEditable;\n            var nodeName = node.nodeName.toLowerCase();\n            var parentNode = node.parentNode;\n            var parentName = parentNode.nodeName.toLowerCase();\n            if (isElement$5(node) && dom.getContentEditable(node)) {\n              lastContentEditable = contentEditable;\n              contentEditable = dom.getContentEditable(node) === 'true';\n              hasContentEditableState = true;\n            }\n            if (isBr$5(node) && !canFormatBR(ed, format, node, parentName)) {\n              currentWrapElm = null;\n              if (isBlockFormat(format)) {\n                dom.remove(node);\n              }\n              return;\n            }\n            if (isBlockFormat(format) && format.wrapper && matchNode(ed, node, name, vars)) {\n              currentWrapElm = null;\n              return;\n            }\n            if (contentEditable && !hasContentEditableState && isBlockFormat(format) && !format.wrapper && isTextBlock$1(ed, nodeName) && isValid(ed, parentName, wrapName)) {\n              var elm = dom.rename(node, wrapName);\n              setElementFormat(elm);\n              newWrappers.push(elm);\n              currentWrapElm = null;\n              return;\n            }\n            if (isSelectorFormat(format)) {\n              var found = applyNodeStyle(formatList, node);\n              if (!found && isNonNullable(parentNode) && shouldExpandToSelector(format)) {\n                found = applyNodeStyle(formatList, parentNode);\n              }\n              if (!isInlineFormat(format) || found) {\n                currentWrapElm = null;\n                return;\n              }\n            }\n            if (contentEditable && !hasContentEditableState && isValid(ed, wrapName, nodeName) && isValid(ed, parentName, wrapName) && !(!nodeSpecific && isText$7(node) && isZwsp(node.data)) && !isCaretNode(node) && (!isInlineFormat(format) || !dom.isBlock(node))) {\n              if (!currentWrapElm) {\n                currentWrapElm = dom.clone(wrapElm, false);\n                node.parentNode.insertBefore(currentWrapElm, node);\n                newWrappers.push(currentWrapElm);\n              }\n              currentWrapElm.appendChild(node);\n            } else {\n              currentWrapElm = null;\n              each$k(from(node.childNodes), process);\n              if (hasContentEditableState) {\n                contentEditable = lastContentEditable;\n              }\n              currentWrapElm = null;\n            }\n          };\n          each$k(nodes, process);\n        });\n        if (format.links === true) {\n          each$k(newWrappers, function (node) {\n            var process = function (node) {\n              if (node.nodeName === 'A') {\n                setElementFormat(node, format);\n              }\n              each$k(from(node.childNodes), process);\n            };\n            process(node);\n          });\n        }\n        each$k(newWrappers, function (node) {\n          var getChildCount = function (node) {\n            var count = 0;\n            each$k(node.childNodes, function (node) {\n              if (!isEmptyTextNode$1(node) && !isBookmarkNode$1(node)) {\n                count++;\n              }\n            });\n            return count;\n          };\n          var mergeStyles = function (node) {\n            var childElement = find$3(node.childNodes, isElementNode).filter(function (child) {\n              return matchName$1(dom, child, format);\n            });\n            return childElement.map(function (child) {\n              var clone = dom.clone(child, false);\n              setElementFormat(clone);\n              dom.replace(clone, node, true);\n              dom.remove(child, true);\n              return clone;\n            }).getOr(node);\n          };\n          var childCount = getChildCount(node);\n          if ((newWrappers.length > 1 || !dom.isBlock(node)) && childCount === 0) {\n            dom.remove(node, true);\n            return;\n          }\n          if (isInlineFormat(format) || isBlockFormat(format) && format.wrapper) {\n            if (!format.exact && childCount === 1) {\n              node = mergeStyles(node);\n            }\n            mergeWithChildren(ed, formatList, vars, node);\n            mergeWithParents(ed, format, name, vars, node);\n            mergeBackgroundColorAndFontSize(dom, format, vars, node);\n            mergeTextDecorationsAndColor(dom, format, vars, node);\n            mergeSubSup(dom, format, vars, node);\n            mergeSiblings(dom, format, vars, node);\n          }\n        });\n      };\n      if (dom.getContentEditable(selection.getNode()) === 'false') {\n        node = selection.getNode();\n        for (var i = 0, l = formatList.length; i < l; i++) {\n          var formatItem = formatList[i];\n          if (formatItem.ceFalseOverride && isSelectorFormat(formatItem) && dom.is(node, formatItem.selector)) {\n            setElementFormat(node, formatItem);\n            break;\n          }\n        }\n        fireFormatApply(ed, name, node, vars);\n        return;\n      }\n      if (format) {\n        if (node) {\n          if (isNode(node)) {\n            if (!applyNodeStyle(formatList, node)) {\n              var rng = dom.createRng();\n              rng.setStartBefore(node);\n              rng.setEndAfter(node);\n              applyRngStyle(dom, expandRng(ed, rng, formatList), true);\n            }\n          } else {\n            applyRngStyle(dom, node, true);\n          }\n        } else {\n          if (!isCollapsed || !isInlineFormat(format) || getCellsFromEditor(ed).length) {\n            var curSelNode = selection.getNode();\n            var firstFormat = formatList[0];\n            if (!ed.settings.forced_root_block && firstFormat.defaultBlock && !dom.getParent(curSelNode, dom.isBlock)) {\n              applyFormat$1(ed, firstFormat.defaultBlock);\n            }\n            selection.setRng(normalize(selection.getRng()));\n            preserve(selection, true, function () {\n              runOnRanges(ed, function (selectionRng, fake) {\n                var expandedRng = fake ? selectionRng : expandRng(ed, selectionRng, formatList);\n                applyRngStyle(dom, expandedRng, false);\n              });\n            });\n            moveStart(dom, selection, selection.getRng());\n            ed.nodeChanged();\n          } else {\n            applyCaretFormat(ed, name, vars);\n          }\n        }\n        postProcess$1(name, ed);\n      }\n      fireFormatApply(ed, name, node, vars);\n    };\n\n    var hasVars = function (value) {\n      return has$2(value, 'vars');\n    };\n    var setup$j = function (registeredFormatListeners, editor) {\n      registeredFormatListeners.set({});\n      editor.on('NodeChange', function (e) {\n        updateAndFireChangeCallbacks(editor, e.element, registeredFormatListeners.get());\n      });\n      editor.on('FormatApply FormatRemove', function (e) {\n        var element = Optional.from(e.node).map(function (nodeOrRange) {\n          return isNode(nodeOrRange) ? nodeOrRange : nodeOrRange.startContainer;\n        }).bind(function (node) {\n          return isElement$5(node) ? Optional.some(node) : Optional.from(node.parentElement);\n        }).getOrThunk(function () {\n          return fallbackElement(editor);\n        });\n        updateAndFireChangeCallbacks(editor, element, registeredFormatListeners.get());\n      });\n    };\n    var fallbackElement = function (editor) {\n      return editor.selection.getStart();\n    };\n    var matchingNode = function (editor, parents, format, similar, vars) {\n      var isMatchingNode = function (node) {\n        var matchingFormat = editor.formatter.matchNode(node, format, vars !== null && vars !== void 0 ? vars : {}, similar);\n        return !isUndefined(matchingFormat);\n      };\n      var isUnableToMatch = function (node) {\n        if (matchesUnInheritedFormatSelector(editor, node, format)) {\n          return true;\n        } else {\n          if (!similar) {\n            return isNonNullable(editor.formatter.matchNode(node, format, vars, true));\n          } else {\n            return false;\n          }\n        }\n      };\n      return findUntil$1(parents, isMatchingNode, isUnableToMatch);\n    };\n    var getParents = function (editor, elm) {\n      var element = elm !== null && elm !== void 0 ? elm : fallbackElement(editor);\n      return filter$4(getParents$2(editor.dom, element), function (node) {\n        return isElement$5(node) && !isBogus$2(node);\n      });\n    };\n    var updateAndFireChangeCallbacks = function (editor, elm, registeredCallbacks) {\n      var parents = getParents(editor, elm);\n      each$j(registeredCallbacks, function (data, format) {\n        var runIfChanged = function (spec) {\n          var match = matchingNode(editor, parents, format, spec.similar, hasVars(spec) ? spec.vars : undefined);\n          var isSet = match.isSome();\n          if (spec.state.get() !== isSet) {\n            spec.state.set(isSet);\n            var node_1 = match.getOr(elm);\n            if (hasVars(spec)) {\n              spec.callback(isSet, {\n                node: node_1,\n                format: format,\n                parents: parents\n              });\n            } else {\n              each$k(spec.callbacks, function (callback) {\n                return callback(isSet, {\n                  node: node_1,\n                  format: format,\n                  parents: parents\n                });\n              });\n            }\n          }\n        };\n        each$k([\n          data.withSimilar,\n          data.withoutSimilar\n        ], runIfChanged);\n        each$k(data.withVars, runIfChanged);\n      });\n    };\n    var addListeners = function (editor, registeredFormatListeners, formats, callback, similar, vars) {\n      var formatChangeItems = registeredFormatListeners.get();\n      each$k(formats.split(','), function (format) {\n        var group = get$9(formatChangeItems, format).getOrThunk(function () {\n          var base = {\n            withSimilar: {\n              state: Cell(false),\n              similar: true,\n              callbacks: []\n            },\n            withoutSimilar: {\n              state: Cell(false),\n              similar: false,\n              callbacks: []\n            },\n            withVars: []\n          };\n          formatChangeItems[format] = base;\n          return base;\n        });\n        var getCurrent = function () {\n          var parents = getParents(editor);\n          return matchingNode(editor, parents, format, similar, vars).isSome();\n        };\n        if (isUndefined(vars)) {\n          var toAppendTo = similar ? group.withSimilar : group.withoutSimilar;\n          toAppendTo.callbacks.push(callback);\n          if (toAppendTo.callbacks.length === 1) {\n            toAppendTo.state.set(getCurrent());\n          }\n        } else {\n          group.withVars.push({\n            state: Cell(getCurrent()),\n            similar: similar,\n            vars: vars,\n            callback: callback\n          });\n        }\n      });\n      registeredFormatListeners.set(formatChangeItems);\n    };\n    var removeListeners = function (registeredFormatListeners, formats, callback) {\n      var formatChangeItems = registeredFormatListeners.get();\n      each$k(formats.split(','), function (format) {\n        return get$9(formatChangeItems, format).each(function (group) {\n          formatChangeItems[format] = {\n            withSimilar: __assign(__assign({}, group.withSimilar), {\n              callbacks: filter$4(group.withSimilar.callbacks, function (cb) {\n                return cb !== callback;\n              })\n            }),\n            withoutSimilar: __assign(__assign({}, group.withoutSimilar), {\n              callbacks: filter$4(group.withoutSimilar.callbacks, function (cb) {\n                return cb !== callback;\n              })\n            }),\n            withVars: filter$4(group.withVars, function (item) {\n              return item.callback !== callback;\n            })\n          };\n        });\n      });\n      registeredFormatListeners.set(formatChangeItems);\n    };\n    var formatChangedInternal = function (editor, registeredFormatListeners, formats, callback, similar, vars) {\n      if (registeredFormatListeners.get() === null) {\n        setup$j(registeredFormatListeners, editor);\n      }\n      addListeners(editor, registeredFormatListeners, formats, callback, similar, vars);\n      return {\n        unbind: function () {\n          return removeListeners(registeredFormatListeners, formats, callback);\n        }\n      };\n    };\n\n    var toggle = function (editor, name, vars, node) {\n      var fmt = editor.formatter.get(name);\n      if (match$2(editor, name, vars, node) && (!('toggle' in fmt[0]) || fmt[0].toggle)) {\n        remove$1(editor, name, vars, node);\n      } else {\n        applyFormat$1(editor, name, vars, node);\n      }\n    };\n\n    var fromElements = function (elements, scope) {\n      var doc = scope || document;\n      var fragment = doc.createDocumentFragment();\n      each$k(elements, function (element) {\n        fragment.appendChild(element.dom);\n      });\n      return SugarElement.fromDom(fragment);\n    };\n\n    var tableModel = function (element, width, rows) {\n      return {\n        element: element,\n        width: width,\n        rows: rows\n      };\n    };\n    var tableRow = function (element, cells) {\n      return {\n        element: element,\n        cells: cells\n      };\n    };\n    var cellPosition = function (x, y) {\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var getSpan = function (td, key) {\n      var value = parseInt(get$6(td, key), 10);\n      return isNaN(value) ? 1 : value;\n    };\n    var fillout = function (table, x, y, tr, td) {\n      var rowspan = getSpan(td, 'rowspan');\n      var colspan = getSpan(td, 'colspan');\n      var rows = table.rows;\n      for (var y2 = y; y2 < y + rowspan; y2++) {\n        if (!rows[y2]) {\n          rows[y2] = tableRow(deep$1(tr), []);\n        }\n        for (var x2 = x; x2 < x + colspan; x2++) {\n          var cells = rows[y2].cells;\n          cells[x2] = y2 === y && x2 === x ? td : shallow(td);\n        }\n      }\n    };\n    var cellExists = function (table, x, y) {\n      var rows = table.rows;\n      var cells = rows[y] ? rows[y].cells : [];\n      return !!cells[x];\n    };\n    var skipCellsX = function (table, x, y) {\n      while (cellExists(table, x, y)) {\n        x++;\n      }\n      return x;\n    };\n    var getWidth = function (rows) {\n      return foldl(rows, function (acc, row) {\n        return row.cells.length > acc ? row.cells.length : acc;\n      }, 0);\n    };\n    var findElementPos = function (table, element) {\n      var rows = table.rows;\n      for (var y = 0; y < rows.length; y++) {\n        var cells = rows[y].cells;\n        for (var x = 0; x < cells.length; x++) {\n          if (eq(cells[x], element)) {\n            return Optional.some(cellPosition(x, y));\n          }\n        }\n      }\n      return Optional.none();\n    };\n    var extractRows = function (table, sx, sy, ex, ey) {\n      var newRows = [];\n      var rows = table.rows;\n      for (var y = sy; y <= ey; y++) {\n        var cells = rows[y].cells;\n        var slice = sx < ex ? cells.slice(sx, ex + 1) : cells.slice(ex, sx + 1);\n        newRows.push(tableRow(rows[y].element, slice));\n      }\n      return newRows;\n    };\n    var subTable = function (table, startPos, endPos) {\n      var sx = startPos.x, sy = startPos.y;\n      var ex = endPos.x, ey = endPos.y;\n      var newRows = sy < ey ? extractRows(table, sx, sy, ex, ey) : extractRows(table, sx, ey, ex, sy);\n      return tableModel(table.element, getWidth(newRows), newRows);\n    };\n    var createDomTable = function (table, rows) {\n      var tableElement = shallow(table.element);\n      var tableBody = SugarElement.fromTag('tbody');\n      append(tableBody, rows);\n      append$1(tableElement, tableBody);\n      return tableElement;\n    };\n    var modelRowsToDomRows = function (table) {\n      return map$3(table.rows, function (row) {\n        var cells = map$3(row.cells, function (cell) {\n          var td = deep$1(cell);\n          remove$6(td, 'colspan');\n          remove$6(td, 'rowspan');\n          return td;\n        });\n        var tr = shallow(row.element);\n        append(tr, cells);\n        return tr;\n      });\n    };\n    var fromDom = function (tableElm) {\n      var table = tableModel(shallow(tableElm), 0, []);\n      each$k(descendants(tableElm, 'tr'), function (tr, y) {\n        each$k(descendants(tr, 'td,th'), function (td, x) {\n          fillout(table, skipCellsX(table, x, y), y, tr, td);\n        });\n      });\n      return tableModel(table.element, getWidth(table.rows), table.rows);\n    };\n    var toDom = function (table) {\n      return createDomTable(table, modelRowsToDomRows(table));\n    };\n    var subsection = function (table, startElement, endElement) {\n      return findElementPos(table, startElement).bind(function (startPos) {\n        return findElementPos(table, endElement).map(function (endPos) {\n          return subTable(table, startPos, endPos);\n        });\n      });\n    };\n\n    var findParentListContainer = function (parents) {\n      return find$3(parents, function (elm) {\n        return name(elm) === 'ul' || name(elm) === 'ol';\n      });\n    };\n    var getFullySelectedListWrappers = function (parents, rng) {\n      return find$3(parents, function (elm) {\n        return name(elm) === 'li' && hasAllContentsSelected(elm, rng);\n      }).fold(constant([]), function (_li) {\n        return findParentListContainer(parents).map(function (listCont) {\n          var listElm = SugarElement.fromTag(name(listCont));\n          var listStyles = filter$3(getAllRaw(listCont), function (_style, name) {\n            return startsWith(name, 'list-style');\n          });\n          setAll(listElm, listStyles);\n          return [\n            SugarElement.fromTag('li'),\n            listElm\n          ];\n        }).getOr([]);\n      });\n    };\n    var wrap = function (innerElm, elms) {\n      var wrapped = foldl(elms, function (acc, elm) {\n        append$1(elm, acc);\n        return elm;\n      }, innerElm);\n      return elms.length > 0 ? fromElements([wrapped]) : wrapped;\n    };\n    var directListWrappers = function (commonAnchorContainer) {\n      if (isListItem(commonAnchorContainer)) {\n        return parent(commonAnchorContainer).filter(isList).fold(constant([]), function (listElm) {\n          return [\n            commonAnchorContainer,\n            listElm\n          ];\n        });\n      } else {\n        return isList(commonAnchorContainer) ? [commonAnchorContainer] : [];\n      }\n    };\n    var getWrapElements = function (rootNode, rng) {\n      var commonAnchorContainer = SugarElement.fromDom(rng.commonAncestorContainer);\n      var parents = parentsAndSelf(commonAnchorContainer, rootNode);\n      var wrapElements = filter$4(parents, function (elm) {\n        return isInline$1(elm) || isHeading(elm);\n      });\n      var listWrappers = getFullySelectedListWrappers(parents, rng);\n      var allWrappers = wrapElements.concat(listWrappers.length ? listWrappers : directListWrappers(commonAnchorContainer));\n      return map$3(allWrappers, shallow);\n    };\n    var emptyFragment = function () {\n      return fromElements([]);\n    };\n    var getFragmentFromRange = function (rootNode, rng) {\n      return wrap(SugarElement.fromDom(rng.cloneContents()), getWrapElements(rootNode, rng));\n    };\n    var getParentTable = function (rootElm, cell) {\n      return ancestor$2(cell, 'table', curry(eq, rootElm));\n    };\n    var getTableFragment = function (rootNode, selectedTableCells) {\n      return getParentTable(rootNode, selectedTableCells[0]).bind(function (tableElm) {\n        var firstCell = selectedTableCells[0];\n        var lastCell = selectedTableCells[selectedTableCells.length - 1];\n        var fullTableModel = fromDom(tableElm);\n        return subsection(fullTableModel, firstCell, lastCell).map(function (sectionedTableModel) {\n          return fromElements([toDom(sectionedTableModel)]);\n        });\n      }).getOrThunk(emptyFragment);\n    };\n    var getSelectionFragment = function (rootNode, ranges) {\n      return ranges.length > 0 && ranges[0].collapsed ? emptyFragment() : getFragmentFromRange(rootNode, ranges[0]);\n    };\n    var read$3 = function (rootNode, ranges) {\n      var selectedCells = getCellsFromElementOrRanges(ranges, rootNode);\n      return selectedCells.length > 0 ? getTableFragment(rootNode, selectedCells) : getSelectionFragment(rootNode, ranges);\n    };\n\n    var trimLeadingCollapsibleText = function (text) {\n      return text.replace(/^[ \\f\\n\\r\\t\\v]+/, '');\n    };\n    var isCollapsibleWhitespace = function (text, index) {\n      return index >= 0 && index < text.length && isWhiteSpace(text.charAt(index));\n    };\n    var getInnerText = function (bin, shouldTrim) {\n      var text = trim$2(bin.innerText);\n      return shouldTrim ? trimLeadingCollapsibleText(text) : text;\n    };\n    var getContextNodeName = function (parentBlockOpt) {\n      return parentBlockOpt.map(function (block) {\n        return block.nodeName;\n      }).getOr('div').toLowerCase();\n    };\n    var getTextContent = function (editor) {\n      return Optional.from(editor.selection.getRng()).map(function (rng) {\n        var parentBlockOpt = Optional.from(editor.dom.getParent(rng.commonAncestorContainer, editor.dom.isBlock));\n        var body = editor.getBody();\n        var contextNodeName = getContextNodeName(parentBlockOpt);\n        var shouldTrimSpaces = Env.browser.isIE() && contextNodeName !== 'pre';\n        var bin = editor.dom.add(body, contextNodeName, {\n          'data-mce-bogus': 'all',\n          'style': 'overflow: hidden; opacity: 0;'\n        }, rng.cloneContents());\n        var text = getInnerText(bin, shouldTrimSpaces);\n        var nonRenderedText = trim$2(bin.textContent);\n        editor.dom.remove(bin);\n        if (isCollapsibleWhitespace(nonRenderedText, 0) || isCollapsibleWhitespace(nonRenderedText, nonRenderedText.length - 1)) {\n          var parentBlock = parentBlockOpt.getOr(body);\n          var parentBlockText = getInnerText(parentBlock, shouldTrimSpaces);\n          var textIndex = parentBlockText.indexOf(text);\n          if (textIndex === -1) {\n            return text;\n          } else {\n            var hasProceedingSpace = isCollapsibleWhitespace(parentBlockText, textIndex - 1);\n            var hasTrailingSpace = isCollapsibleWhitespace(parentBlockText, textIndex + text.length);\n            return (hasProceedingSpace ? ' ' : '') + text + (hasTrailingSpace ? ' ' : '');\n          }\n        } else {\n          return text;\n        }\n      }).getOr('');\n    };\n    var getSerializedContent = function (editor, args) {\n      var rng = editor.selection.getRng(), tmpElm = editor.dom.create('body');\n      var sel = editor.selection.getSel();\n      var ranges = processRanges(editor, getRanges(sel));\n      var fragment = args.contextual ? read$3(SugarElement.fromDom(editor.getBody()), ranges).dom : rng.cloneContents();\n      if (fragment) {\n        tmpElm.appendChild(fragment);\n      }\n      return editor.selection.serializer.serialize(tmpElm, args);\n    };\n    var setupArgs$1 = function (args, format) {\n      return __assign(__assign({}, args), {\n        format: format,\n        get: true,\n        selection: true\n      });\n    };\n    var getSelectedContentInternal = function (editor, format, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      var defaultedArgs = setupArgs$1(args, format);\n      var updatedArgs = editor.fire('BeforeGetContent', defaultedArgs);\n      if (updatedArgs.isDefaultPrevented()) {\n        editor.fire('GetContent', updatedArgs);\n        return updatedArgs.content;\n      }\n      if (updatedArgs.format === 'text') {\n        return getTextContent(editor);\n      } else {\n        updatedArgs.getInner = true;\n        var content = getSerializedContent(editor, updatedArgs);\n        if (updatedArgs.format === 'tree') {\n          return content;\n        } else {\n          updatedArgs.content = editor.selection.isCollapsed() ? '' : content;\n          editor.fire('GetContent', updatedArgs);\n          return updatedArgs.content;\n        }\n      }\n    };\n\n    var KEEP = 0, INSERT = 1, DELETE = 2;\n    var diff = function (left, right) {\n      var size = left.length + right.length + 2;\n      var vDown = new Array(size);\n      var vUp = new Array(size);\n      var snake = function (start, end, diag) {\n        return {\n          start: start,\n          end: end,\n          diag: diag\n        };\n      };\n      var buildScript = function (start1, end1, start2, end2, script) {\n        var middle = getMiddleSnake(start1, end1, start2, end2);\n        if (middle === null || middle.start === end1 && middle.diag === end1 - end2 || middle.end === start1 && middle.diag === start1 - start2) {\n          var i = start1;\n          var j = start2;\n          while (i < end1 || j < end2) {\n            if (i < end1 && j < end2 && left[i] === right[j]) {\n              script.push([\n                KEEP,\n                left[i]\n              ]);\n              ++i;\n              ++j;\n            } else {\n              if (end1 - start1 > end2 - start2) {\n                script.push([\n                  DELETE,\n                  left[i]\n                ]);\n                ++i;\n              } else {\n                script.push([\n                  INSERT,\n                  right[j]\n                ]);\n                ++j;\n              }\n            }\n          }\n        } else {\n          buildScript(start1, middle.start, start2, middle.start - middle.diag, script);\n          for (var i2 = middle.start; i2 < middle.end; ++i2) {\n            script.push([\n              KEEP,\n              left[i2]\n            ]);\n          }\n          buildScript(middle.end, end1, middle.end - middle.diag, end2, script);\n        }\n      };\n      var buildSnake = function (start, diag, end1, end2) {\n        var end = start;\n        while (end - diag < end2 && end < end1 && left[end] === right[end - diag]) {\n          ++end;\n        }\n        return snake(start, end, diag);\n      };\n      var getMiddleSnake = function (start1, end1, start2, end2) {\n        var m = end1 - start1;\n        var n = end2 - start2;\n        if (m === 0 || n === 0) {\n          return null;\n        }\n        var delta = m - n;\n        var sum = n + m;\n        var offset = (sum % 2 === 0 ? sum : sum + 1) / 2;\n        vDown[1 + offset] = start1;\n        vUp[1 + offset] = end1 + 1;\n        var d, k, i, x, y;\n        for (d = 0; d <= offset; ++d) {\n          for (k = -d; k <= d; k += 2) {\n            i = k + offset;\n            if (k === -d || k !== d && vDown[i - 1] < vDown[i + 1]) {\n              vDown[i] = vDown[i + 1];\n            } else {\n              vDown[i] = vDown[i - 1] + 1;\n            }\n            x = vDown[i];\n            y = x - start1 + start2 - k;\n            while (x < end1 && y < end2 && left[x] === right[y]) {\n              vDown[i] = ++x;\n              ++y;\n            }\n            if (delta % 2 !== 0 && delta - d <= k && k <= delta + d) {\n              if (vUp[i - delta] <= vDown[i]) {\n                return buildSnake(vUp[i - delta], k + start1 - start2, end1, end2);\n              }\n            }\n          }\n          for (k = delta - d; k <= delta + d; k += 2) {\n            i = k + offset - delta;\n            if (k === delta - d || k !== delta + d && vUp[i + 1] <= vUp[i - 1]) {\n              vUp[i] = vUp[i + 1] - 1;\n            } else {\n              vUp[i] = vUp[i - 1];\n            }\n            x = vUp[i] - 1;\n            y = x - start1 + start2 - k;\n            while (x >= start1 && y >= start2 && left[x] === right[y]) {\n              vUp[i] = x--;\n              y--;\n            }\n            if (delta % 2 === 0 && -d <= k && k <= d) {\n              if (vUp[i] <= vDown[i + delta]) {\n                return buildSnake(vUp[i], k + start1 - start2, end1, end2);\n              }\n            }\n          }\n        }\n      };\n      var script = [];\n      buildScript(0, left.length, 0, right.length, script);\n      return script;\n    };\n\n    var getOuterHtml = function (elm) {\n      if (isElement$5(elm)) {\n        return elm.outerHTML;\n      } else if (isText$7(elm)) {\n        return Entities.encodeRaw(elm.data, false);\n      } else if (isComment(elm)) {\n        return '<!--' + elm.data + '-->';\n      }\n      return '';\n    };\n    var createFragment = function (html) {\n      var node;\n      var container = document.createElement('div');\n      var frag = document.createDocumentFragment();\n      if (html) {\n        container.innerHTML = html;\n      }\n      while (node = container.firstChild) {\n        frag.appendChild(node);\n      }\n      return frag;\n    };\n    var insertAt = function (elm, html, index) {\n      var fragment = createFragment(html);\n      if (elm.hasChildNodes() && index < elm.childNodes.length) {\n        var target = elm.childNodes[index];\n        target.parentNode.insertBefore(fragment, target);\n      } else {\n        elm.appendChild(fragment);\n      }\n    };\n    var removeAt = function (elm, index) {\n      if (elm.hasChildNodes() && index < elm.childNodes.length) {\n        var target = elm.childNodes[index];\n        target.parentNode.removeChild(target);\n      }\n    };\n    var applyDiff = function (diff, elm) {\n      var index = 0;\n      each$k(diff, function (action) {\n        if (action[0] === KEEP) {\n          index++;\n        } else if (action[0] === INSERT) {\n          insertAt(elm, action[1], index);\n          index++;\n        } else if (action[0] === DELETE) {\n          removeAt(elm, index);\n        }\n      });\n    };\n    var read$2 = function (elm) {\n      return filter$4(map$3(from(elm.childNodes), getOuterHtml), function (item) {\n        return item.length > 0;\n      });\n    };\n    var write = function (fragments, elm) {\n      var currentFragments = map$3(from(elm.childNodes), getOuterHtml);\n      applyDiff(diff(currentFragments, fragments), elm);\n      return elm;\n    };\n\n    var lazyTempDocument = cached(function () {\n      return document.implementation.createHTMLDocument('undo');\n    });\n    var hasIframes = function (html) {\n      return html.indexOf('</iframe>') !== -1;\n    };\n    var createFragmentedLevel = function (fragments) {\n      return {\n        type: 'fragmented',\n        fragments: fragments,\n        content: '',\n        bookmark: null,\n        beforeBookmark: null\n      };\n    };\n    var createCompleteLevel = function (content) {\n      return {\n        type: 'complete',\n        fragments: null,\n        content: content,\n        bookmark: null,\n        beforeBookmark: null\n      };\n    };\n    var createFromEditor = function (editor) {\n      var fragments = read$2(editor.getBody());\n      var trimmedFragments = bind(fragments, function (html) {\n        var trimmed = trimInternal(editor.serializer, html);\n        return trimmed.length > 0 ? [trimmed] : [];\n      });\n      var content = trimmedFragments.join('');\n      return hasIframes(content) ? createFragmentedLevel(trimmedFragments) : createCompleteLevel(content);\n    };\n    var applyToEditor = function (editor, level, before) {\n      var bookmark = before ? level.beforeBookmark : level.bookmark;\n      if (level.type === 'fragmented') {\n        write(level.fragments, editor.getBody());\n      } else {\n        editor.setContent(level.content, {\n          format: 'raw',\n          no_selection: isNonNullable(bookmark) && isPathBookmark(bookmark) ? !bookmark.isFakeCaret : true\n        });\n      }\n      editor.selection.moveToBookmark(bookmark);\n    };\n    var getLevelContent = function (level) {\n      return level.type === 'fragmented' ? level.fragments.join('') : level.content;\n    };\n    var getCleanLevelContent = function (level) {\n      var elm = SugarElement.fromTag('body', lazyTempDocument());\n      set(elm, getLevelContent(level));\n      each$k(descendants(elm, '*[data-mce-bogus]'), unwrap);\n      return get$3(elm);\n    };\n    var hasEqualContent = function (level1, level2) {\n      return getLevelContent(level1) === getLevelContent(level2);\n    };\n    var hasEqualCleanedContent = function (level1, level2) {\n      return getCleanLevelContent(level1) === getCleanLevelContent(level2);\n    };\n    var isEq$1 = function (level1, level2) {\n      if (!level1 || !level2) {\n        return false;\n      } else if (hasEqualContent(level1, level2)) {\n        return true;\n      } else {\n        return hasEqualCleanedContent(level1, level2);\n      }\n    };\n\n    var isUnlocked = function (locks) {\n      return locks.get() === 0;\n    };\n\n    var setTyping = function (undoManager, typing, locks) {\n      if (isUnlocked(locks)) {\n        undoManager.typing = typing;\n      }\n    };\n    var endTyping = function (undoManager, locks) {\n      if (undoManager.typing) {\n        setTyping(undoManager, false, locks);\n        undoManager.add();\n      }\n    };\n    var endTypingLevelIgnoreLocks = function (undoManager) {\n      if (undoManager.typing) {\n        undoManager.typing = false;\n        undoManager.add();\n      }\n    };\n\n    var beforeChange$1 = function (editor, locks, beforeBookmark) {\n      if (isUnlocked(locks)) {\n        beforeBookmark.set(getUndoBookmark(editor.selection));\n      }\n    };\n    var addUndoLevel$1 = function (editor, undoManager, index, locks, beforeBookmark, level, event) {\n      var currentLevel = createFromEditor(editor);\n      level = level || {};\n      level = Tools.extend(level, currentLevel);\n      if (isUnlocked(locks) === false || editor.removed) {\n        return null;\n      }\n      var lastLevel = undoManager.data[index.get()];\n      if (editor.fire('BeforeAddUndo', {\n          level: level,\n          lastLevel: lastLevel,\n          originalEvent: event\n        }).isDefaultPrevented()) {\n        return null;\n      }\n      if (lastLevel && isEq$1(lastLevel, level)) {\n        return null;\n      }\n      if (undoManager.data[index.get()]) {\n        beforeBookmark.get().each(function (bm) {\n          undoManager.data[index.get()].beforeBookmark = bm;\n        });\n      }\n      var customUndoRedoLevels = getCustomUndoRedoLevels(editor);\n      if (customUndoRedoLevels) {\n        if (undoManager.data.length > customUndoRedoLevels) {\n          for (var i = 0; i < undoManager.data.length - 1; i++) {\n            undoManager.data[i] = undoManager.data[i + 1];\n          }\n          undoManager.data.length--;\n          index.set(undoManager.data.length);\n        }\n      }\n      level.bookmark = getUndoBookmark(editor.selection);\n      if (index.get() < undoManager.data.length - 1) {\n        undoManager.data.length = index.get() + 1;\n      }\n      undoManager.data.push(level);\n      index.set(undoManager.data.length - 1);\n      var args = {\n        level: level,\n        lastLevel: lastLevel,\n        originalEvent: event\n      };\n      if (index.get() > 0) {\n        editor.setDirty(true);\n        editor.fire('AddUndo', args);\n        editor.fire('change', args);\n      } else {\n        editor.fire('AddUndo', args);\n      }\n      return level;\n    };\n    var clear$1 = function (editor, undoManager, index) {\n      undoManager.data = [];\n      index.set(0);\n      undoManager.typing = false;\n      editor.fire('ClearUndos');\n    };\n    var extra$1 = function (editor, undoManager, index, callback1, callback2) {\n      if (undoManager.transact(callback1)) {\n        var bookmark = undoManager.data[index.get()].bookmark;\n        var lastLevel = undoManager.data[index.get() - 1];\n        applyToEditor(editor, lastLevel, true);\n        if (undoManager.transact(callback2)) {\n          undoManager.data[index.get() - 1].beforeBookmark = bookmark;\n        }\n      }\n    };\n    var redo$1 = function (editor, index, data) {\n      var level;\n      if (index.get() < data.length - 1) {\n        index.set(index.get() + 1);\n        level = data[index.get()];\n        applyToEditor(editor, level, false);\n        editor.setDirty(true);\n        editor.fire('Redo', { level: level });\n      }\n      return level;\n    };\n    var undo$1 = function (editor, undoManager, locks, index) {\n      var level;\n      if (undoManager.typing) {\n        undoManager.add();\n        undoManager.typing = false;\n        setTyping(undoManager, false, locks);\n      }\n      if (index.get() > 0) {\n        index.set(index.get() - 1);\n        level = undoManager.data[index.get()];\n        applyToEditor(editor, level, true);\n        editor.setDirty(true);\n        editor.fire('Undo', { level: level });\n      }\n      return level;\n    };\n    var reset$1 = function (undoManager) {\n      undoManager.clear();\n      undoManager.add();\n    };\n    var hasUndo$1 = function (editor, undoManager, index) {\n      return index.get() > 0 || undoManager.typing && undoManager.data[0] && !isEq$1(createFromEditor(editor), undoManager.data[0]);\n    };\n    var hasRedo$1 = function (undoManager, index) {\n      return index.get() < undoManager.data.length - 1 && !undoManager.typing;\n    };\n    var transact$1 = function (undoManager, locks, callback) {\n      endTyping(undoManager, locks);\n      undoManager.beforeChange();\n      undoManager.ignore(callback);\n      return undoManager.add();\n    };\n    var ignore$1 = function (locks, callback) {\n      try {\n        locks.set(locks.get() + 1);\n        callback();\n      } finally {\n        locks.set(locks.get() - 1);\n      }\n    };\n\n    var addVisualInternal = function (editor, elm) {\n      var dom = editor.dom;\n      var scope = isNonNullable(elm) ? elm : editor.getBody();\n      if (isUndefined(editor.hasVisual)) {\n        editor.hasVisual = isVisualAidsEnabled(editor);\n      }\n      each$k(dom.select('table,a', scope), function (matchedElm) {\n        switch (matchedElm.nodeName) {\n        case 'TABLE':\n          var cls = getVisualAidsTableClass(editor);\n          var value = dom.getAttrib(matchedElm, 'border');\n          if ((!value || value === '0') && editor.hasVisual) {\n            dom.addClass(matchedElm, cls);\n          } else {\n            dom.removeClass(matchedElm, cls);\n          }\n          break;\n        case 'A':\n          if (!dom.getAttrib(matchedElm, 'href')) {\n            var value_1 = dom.getAttrib(matchedElm, 'name') || matchedElm.id;\n            var cls_1 = getVisualAidsAnchorClass(editor);\n            if (value_1 && editor.hasVisual) {\n              dom.addClass(matchedElm, cls_1);\n            } else {\n              dom.removeClass(matchedElm, cls_1);\n            }\n          }\n          break;\n        }\n      });\n      editor.fire('VisualAid', {\n        element: elm,\n        hasVisual: editor.hasVisual\n      });\n    };\n\n    var makePlainAdaptor = function (editor) {\n      return {\n        undoManager: {\n          beforeChange: function (locks, beforeBookmark) {\n            return beforeChange$1(editor, locks, beforeBookmark);\n          },\n          add: function (undoManager, index, locks, beforeBookmark, level, event) {\n            return addUndoLevel$1(editor, undoManager, index, locks, beforeBookmark, level, event);\n          },\n          undo: function (undoManager, locks, index) {\n            return undo$1(editor, undoManager, locks, index);\n          },\n          redo: function (index, data) {\n            return redo$1(editor, index, data);\n          },\n          clear: function (undoManager, index) {\n            return clear$1(editor, undoManager, index);\n          },\n          reset: function (undoManager) {\n            return reset$1(undoManager);\n          },\n          hasUndo: function (undoManager, index) {\n            return hasUndo$1(editor, undoManager, index);\n          },\n          hasRedo: function (undoManager, index) {\n            return hasRedo$1(undoManager, index);\n          },\n          transact: function (undoManager, locks, callback) {\n            return transact$1(undoManager, locks, callback);\n          },\n          ignore: function (locks, callback) {\n            return ignore$1(locks, callback);\n          },\n          extra: function (undoManager, index, callback1, callback2) {\n            return extra$1(editor, undoManager, index, callback1, callback2);\n          }\n        },\n        formatter: {\n          match: function (name, vars, node, similar) {\n            return match$2(editor, name, vars, node, similar);\n          },\n          matchAll: function (names, vars) {\n            return matchAll(editor, names, vars);\n          },\n          matchNode: function (node, name, vars, similar) {\n            return matchNode(editor, node, name, vars, similar);\n          },\n          canApply: function (name) {\n            return canApply(editor, name);\n          },\n          closest: function (names) {\n            return closest(editor, names);\n          },\n          apply: function (name, vars, node) {\n            return applyFormat$1(editor, name, vars, node);\n          },\n          remove: function (name, vars, node, similar) {\n            return remove$1(editor, name, vars, node, similar);\n          },\n          toggle: function (name, vars, node) {\n            return toggle(editor, name, vars, node);\n          },\n          formatChanged: function (registeredFormatListeners, formats, callback, similar, vars) {\n            return formatChangedInternal(editor, registeredFormatListeners, formats, callback, similar, vars);\n          }\n        },\n        editor: {\n          getContent: function (args, format) {\n            return getContentInternal(editor, args, format);\n          },\n          setContent: function (content, args) {\n            return setContentInternal(editor, content, args);\n          },\n          insertContent: function (value, details) {\n            return insertHtmlAtCaret(editor, value, details);\n          },\n          addVisual: function (elm) {\n            return addVisualInternal(editor, elm);\n          }\n        },\n        selection: {\n          getContent: function (format, args) {\n            return getSelectedContentInternal(editor, format, args);\n          }\n        },\n        raw: {\n          getModel: function () {\n            return Optional.none();\n          }\n        }\n      };\n    };\n    var makeRtcAdaptor = function (rtcEditor) {\n      var defaultVars = function (vars) {\n        return isObject(vars) ? vars : {};\n      };\n      var undoManager = rtcEditor.undoManager, formatter = rtcEditor.formatter, editor = rtcEditor.editor, selection = rtcEditor.selection, raw = rtcEditor.raw;\n      return {\n        undoManager: {\n          beforeChange: undoManager.beforeChange,\n          add: undoManager.add,\n          undo: undoManager.undo,\n          redo: undoManager.redo,\n          clear: undoManager.clear,\n          reset: undoManager.reset,\n          hasUndo: undoManager.hasUndo,\n          hasRedo: undoManager.hasRedo,\n          transact: function (_undoManager, _locks, fn) {\n            return undoManager.transact(fn);\n          },\n          ignore: function (_locks, callback) {\n            return undoManager.ignore(callback);\n          },\n          extra: function (_undoManager, _index, callback1, callback2) {\n            return undoManager.extra(callback1, callback2);\n          }\n        },\n        formatter: {\n          match: function (name, vars, _node, similar) {\n            return formatter.match(name, defaultVars(vars), similar);\n          },\n          matchAll: formatter.matchAll,\n          matchNode: formatter.matchNode,\n          canApply: function (name) {\n            return formatter.canApply(name);\n          },\n          closest: function (names) {\n            return formatter.closest(names);\n          },\n          apply: function (name, vars, _node) {\n            return formatter.apply(name, defaultVars(vars));\n          },\n          remove: function (name, vars, _node, _similar) {\n            return formatter.remove(name, defaultVars(vars));\n          },\n          toggle: function (name, vars, _node) {\n            return formatter.toggle(name, defaultVars(vars));\n          },\n          formatChanged: function (_rfl, formats, callback, similar, vars) {\n            return formatter.formatChanged(formats, callback, similar, vars);\n          }\n        },\n        editor: {\n          getContent: function (args, _format) {\n            return editor.getContent(args);\n          },\n          setContent: function (content, args) {\n            return editor.setContent(content, args);\n          },\n          insertContent: function (content, _details) {\n            return editor.insertContent(content);\n          },\n          addVisual: editor.addVisual\n        },\n        selection: {\n          getContent: function (_format, args) {\n            return selection.getContent(args);\n          }\n        },\n        raw: {\n          getModel: function () {\n            return Optional.some(raw.getRawModel());\n          }\n        }\n      };\n    };\n    var makeNoopAdaptor = function () {\n      var nul = constant(null);\n      var empty = constant('');\n      return {\n        undoManager: {\n          beforeChange: noop,\n          add: nul,\n          undo: nul,\n          redo: nul,\n          clear: noop,\n          reset: noop,\n          hasUndo: never,\n          hasRedo: never,\n          transact: nul,\n          ignore: noop,\n          extra: noop\n        },\n        formatter: {\n          match: never,\n          matchAll: constant([]),\n          matchNode: constant(undefined),\n          canApply: never,\n          closest: empty,\n          apply: noop,\n          remove: noop,\n          toggle: noop,\n          formatChanged: constant({ unbind: noop })\n        },\n        editor: {\n          getContent: empty,\n          setContent: empty,\n          insertContent: noop,\n          addVisual: noop\n        },\n        selection: { getContent: empty },\n        raw: { getModel: constant(Optional.none()) }\n      };\n    };\n    var isRtc = function (editor) {\n      return has$2(editor.plugins, 'rtc');\n    };\n    var getRtcSetup = function (editor) {\n      return get$9(editor.plugins, 'rtc').bind(function (rtcPlugin) {\n        return Optional.from(rtcPlugin.setup);\n      });\n    };\n    var setup$i = function (editor) {\n      var editorCast = editor;\n      return getRtcSetup(editor).fold(function () {\n        editorCast.rtcInstance = makePlainAdaptor(editor);\n        return Optional.none();\n      }, function (setup) {\n        editorCast.rtcInstance = makeNoopAdaptor();\n        return Optional.some(function () {\n          return setup().then(function (rtcEditor) {\n            editorCast.rtcInstance = makeRtcAdaptor(rtcEditor);\n            return rtcEditor.rtc.isRemote;\n          });\n        });\n      });\n    };\n    var getRtcInstanceWithFallback = function (editor) {\n      return editor.rtcInstance ? editor.rtcInstance : makePlainAdaptor(editor);\n    };\n    var getRtcInstanceWithError = function (editor) {\n      var rtcInstance = editor.rtcInstance;\n      if (!rtcInstance) {\n        throw new Error('Failed to get RTC instance not yet initialized.');\n      } else {\n        return rtcInstance;\n      }\n    };\n    var beforeChange = function (editor, locks, beforeBookmark) {\n      getRtcInstanceWithError(editor).undoManager.beforeChange(locks, beforeBookmark);\n    };\n    var addUndoLevel = function (editor, undoManager, index, locks, beforeBookmark, level, event) {\n      return getRtcInstanceWithError(editor).undoManager.add(undoManager, index, locks, beforeBookmark, level, event);\n    };\n    var undo = function (editor, undoManager, locks, index) {\n      return getRtcInstanceWithError(editor).undoManager.undo(undoManager, locks, index);\n    };\n    var redo = function (editor, index, data) {\n      return getRtcInstanceWithError(editor).undoManager.redo(index, data);\n    };\n    var clear = function (editor, undoManager, index) {\n      getRtcInstanceWithError(editor).undoManager.clear(undoManager, index);\n    };\n    var reset = function (editor, undoManager) {\n      getRtcInstanceWithError(editor).undoManager.reset(undoManager);\n    };\n    var hasUndo = function (editor, undoManager, index) {\n      return getRtcInstanceWithError(editor).undoManager.hasUndo(undoManager, index);\n    };\n    var hasRedo = function (editor, undoManager, index) {\n      return getRtcInstanceWithError(editor).undoManager.hasRedo(undoManager, index);\n    };\n    var transact = function (editor, undoManager, locks, callback) {\n      return getRtcInstanceWithError(editor).undoManager.transact(undoManager, locks, callback);\n    };\n    var ignore = function (editor, locks, callback) {\n      getRtcInstanceWithError(editor).undoManager.ignore(locks, callback);\n    };\n    var extra = function (editor, undoManager, index, callback1, callback2) {\n      getRtcInstanceWithError(editor).undoManager.extra(undoManager, index, callback1, callback2);\n    };\n    var matchFormat = function (editor, name, vars, node, similar) {\n      return getRtcInstanceWithError(editor).formatter.match(name, vars, node, similar);\n    };\n    var matchAllFormats = function (editor, names, vars) {\n      return getRtcInstanceWithError(editor).formatter.matchAll(names, vars);\n    };\n    var matchNodeFormat = function (editor, node, name, vars, similar) {\n      return getRtcInstanceWithError(editor).formatter.matchNode(node, name, vars, similar);\n    };\n    var canApplyFormat = function (editor, name) {\n      return getRtcInstanceWithError(editor).formatter.canApply(name);\n    };\n    var closestFormat = function (editor, names) {\n      return getRtcInstanceWithError(editor).formatter.closest(names);\n    };\n    var applyFormat = function (editor, name, vars, node) {\n      getRtcInstanceWithError(editor).formatter.apply(name, vars, node);\n    };\n    var removeFormat = function (editor, name, vars, node, similar) {\n      getRtcInstanceWithError(editor).formatter.remove(name, vars, node, similar);\n    };\n    var toggleFormat = function (editor, name, vars, node) {\n      getRtcInstanceWithError(editor).formatter.toggle(name, vars, node);\n    };\n    var formatChanged = function (editor, registeredFormatListeners, formats, callback, similar, vars) {\n      return getRtcInstanceWithError(editor).formatter.formatChanged(registeredFormatListeners, formats, callback, similar, vars);\n    };\n    var getContent$2 = function (editor, args, format) {\n      return getRtcInstanceWithFallback(editor).editor.getContent(args, format);\n    };\n    var setContent$2 = function (editor, content, args) {\n      return getRtcInstanceWithFallback(editor).editor.setContent(content, args);\n    };\n    var insertContent = function (editor, value, details) {\n      return getRtcInstanceWithFallback(editor).editor.insertContent(value, details);\n    };\n    var getSelectedContent = function (editor, format, args) {\n      return getRtcInstanceWithError(editor).selection.getContent(format, args);\n    };\n    var addVisual$1 = function (editor, elm) {\n      return getRtcInstanceWithError(editor).editor.addVisual(elm);\n    };\n\n    var getContent$1 = function (editor, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      var format = args.format ? args.format : 'html';\n      return getSelectedContent(editor, format, args);\n    };\n\n    var removeEmpty = function (text) {\n      if (text.dom.length === 0) {\n        remove$7(text);\n        return Optional.none();\n      } else {\n        return Optional.some(text);\n      }\n    };\n    var walkPastBookmark = function (node, start) {\n      return node.filter(function (elm) {\n        return BookmarkManager.isBookmarkNode(elm.dom);\n      }).bind(start ? nextSibling : prevSibling);\n    };\n    var merge = function (outer, inner, rng, start) {\n      var outerElm = outer.dom;\n      var innerElm = inner.dom;\n      var oldLength = start ? outerElm.length : innerElm.length;\n      if (start) {\n        mergeTextNodes(outerElm, innerElm, false, !start);\n        rng.setStart(innerElm, oldLength);\n      } else {\n        mergeTextNodes(innerElm, outerElm, false, !start);\n        rng.setEnd(innerElm, oldLength);\n      }\n    };\n    var normalizeTextIfRequired = function (inner, start) {\n      parent(inner).each(function (root) {\n        var text = inner.dom;\n        if (start && needsToBeNbspLeft(root, CaretPosition(text, 0))) {\n          normalizeWhitespaceAfter(text, 0);\n        } else if (!start && needsToBeNbspRight(root, CaretPosition(text, text.length))) {\n          normalizeWhitespaceBefore(text, text.length);\n        }\n      });\n    };\n    var mergeAndNormalizeText = function (outerNode, innerNode, rng, start) {\n      outerNode.bind(function (outer) {\n        var normalizer = start ? normalizeWhitespaceBefore : normalizeWhitespaceAfter;\n        normalizer(outer.dom, start ? outer.dom.length : 0);\n        return innerNode.filter(isText$8).map(function (inner) {\n          return merge(outer, inner, rng, start);\n        });\n      }).orThunk(function () {\n        var innerTextNode = walkPastBookmark(innerNode, start).or(innerNode).filter(isText$8);\n        return innerTextNode.map(function (inner) {\n          return normalizeTextIfRequired(inner, start);\n        });\n      });\n    };\n    var rngSetContent = function (rng, fragment) {\n      var firstChild = Optional.from(fragment.firstChild).map(SugarElement.fromDom);\n      var lastChild = Optional.from(fragment.lastChild).map(SugarElement.fromDom);\n      rng.deleteContents();\n      rng.insertNode(fragment);\n      var prevText = firstChild.bind(prevSibling).filter(isText$8).bind(removeEmpty);\n      var nextText = lastChild.bind(nextSibling).filter(isText$8).bind(removeEmpty);\n      mergeAndNormalizeText(prevText, firstChild, rng, true);\n      mergeAndNormalizeText(nextText, lastChild, rng, false);\n      rng.collapse(false);\n    };\n    var setupArgs = function (args, content) {\n      return __assign(__assign({ format: 'html' }, args), {\n        set: true,\n        selection: true,\n        content: content\n      });\n    };\n    var cleanContent = function (editor, args) {\n      if (args.format !== 'raw') {\n        var rng = editor.selection.getRng();\n        var contextBlock = editor.dom.getParent(rng.commonAncestorContainer, editor.dom.isBlock);\n        var contextArgs = contextBlock ? { context: contextBlock.nodeName.toLowerCase() } : {};\n        var node = editor.parser.parse(args.content, __assign(__assign({\n          isRootContent: true,\n          forced_root_block: false\n        }, contextArgs), args));\n        return HtmlSerializer({ validate: editor.validate }, editor.schema).serialize(node);\n      } else {\n        return args.content;\n      }\n    };\n    var setContent$1 = function (editor, content, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      var defaultedArgs = setupArgs(args, content);\n      var updatedArgs = defaultedArgs;\n      if (!defaultedArgs.no_events) {\n        var eventArgs = editor.fire('BeforeSetContent', defaultedArgs);\n        if (eventArgs.isDefaultPrevented()) {\n          editor.fire('SetContent', eventArgs);\n          return;\n        } else {\n          updatedArgs = eventArgs;\n        }\n      }\n      updatedArgs.content = cleanContent(editor, updatedArgs);\n      var rng = editor.selection.getRng();\n      rngSetContent(rng, rng.createContextualFragment(updatedArgs.content));\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, rng);\n      if (!updatedArgs.no_events) {\n        editor.fire('SetContent', updatedArgs);\n      }\n    };\n\n    var deleteFromCallbackMap = function (callbackMap, selector, callback) {\n      if (callbackMap && has$2(callbackMap, selector)) {\n        var newCallbacks = filter$4(callbackMap[selector], function (cb) {\n          return cb !== callback;\n        });\n        if (newCallbacks.length === 0) {\n          delete callbackMap[selector];\n        } else {\n          callbackMap[selector] = newCallbacks;\n        }\n      }\n    };\n    function SelectorChanged (dom, editor) {\n      var selectorChangedData;\n      var currentSelectors;\n      var findMatchingNode = function (selector, nodes) {\n        return find$3(nodes, function (node) {\n          return dom.is(node, selector);\n        });\n      };\n      var getParents = function (elem) {\n        return dom.getParents(elem, null, dom.getRoot());\n      };\n      return {\n        selectorChangedWithUnbind: function (selector, callback) {\n          if (!selectorChangedData) {\n            selectorChangedData = {};\n            currentSelectors = {};\n            editor.on('NodeChange', function (e) {\n              var node = e.element;\n              var parents = getParents(node);\n              var matchedSelectors = {};\n              Tools.each(selectorChangedData, function (callbacks, selector) {\n                findMatchingNode(selector, parents).each(function (node) {\n                  if (!currentSelectors[selector]) {\n                    each$k(callbacks, function (callback) {\n                      callback(true, {\n                        node: node,\n                        selector: selector,\n                        parents: parents\n                      });\n                    });\n                    currentSelectors[selector] = callbacks;\n                  }\n                  matchedSelectors[selector] = callbacks;\n                });\n              });\n              Tools.each(currentSelectors, function (callbacks, selector) {\n                if (!matchedSelectors[selector]) {\n                  delete currentSelectors[selector];\n                  Tools.each(callbacks, function (callback) {\n                    callback(false, {\n                      node: node,\n                      selector: selector,\n                      parents: parents\n                    });\n                  });\n                }\n              });\n            });\n          }\n          if (!selectorChangedData[selector]) {\n            selectorChangedData[selector] = [];\n          }\n          selectorChangedData[selector].push(callback);\n          findMatchingNode(selector, getParents(editor.selection.getStart())).each(function () {\n            currentSelectors[selector] = selectorChangedData[selector];\n          });\n          return {\n            unbind: function () {\n              deleteFromCallbackMap(selectorChangedData, selector, callback);\n              deleteFromCallbackMap(currentSelectors, selector, callback);\n            }\n          };\n        }\n      };\n    }\n\n    var isNativeIeSelection = function (rng) {\n      return !!rng.select;\n    };\n    var isAttachedToDom = function (node) {\n      return !!(node && node.ownerDocument) && contains$1(SugarElement.fromDom(node.ownerDocument), SugarElement.fromDom(node));\n    };\n    var isValidRange = function (rng) {\n      if (!rng) {\n        return false;\n      } else if (isNativeIeSelection(rng)) {\n        return true;\n      } else {\n        return isAttachedToDom(rng.startContainer) && isAttachedToDom(rng.endContainer);\n      }\n    };\n    var EditorSelection = function (dom, win, serializer, editor) {\n      var selectedRange;\n      var explicitRange;\n      var selectorChangedWithUnbind = SelectorChanged(dom, editor).selectorChangedWithUnbind;\n      var setCursorLocation = function (node, offset) {\n        var rng = dom.createRng();\n        if (isNonNullable(node) && isNonNullable(offset)) {\n          rng.setStart(node, offset);\n          rng.setEnd(node, offset);\n          setRng(rng);\n          collapse(false);\n        } else {\n          moveEndPoint(dom, rng, editor.getBody(), true);\n          setRng(rng);\n        }\n      };\n      var getContent = function (args) {\n        return getContent$1(editor, args);\n      };\n      var setContent = function (content, args) {\n        return setContent$1(editor, content, args);\n      };\n      var getStart$1 = function (real) {\n        return getStart(editor.getBody(), getRng$1(), real);\n      };\n      var getEnd$1 = function (real) {\n        return getEnd(editor.getBody(), getRng$1(), real);\n      };\n      var getBookmark = function (type, normalized) {\n        return bookmarkManager.getBookmark(type, normalized);\n      };\n      var moveToBookmark = function (bookmark) {\n        return bookmarkManager.moveToBookmark(bookmark);\n      };\n      var select$1 = function (node, content) {\n        select(dom, node, content).each(setRng);\n        return node;\n      };\n      var isCollapsed = function () {\n        var rng = getRng$1(), sel = getSel();\n        if (!rng || rng.item) {\n          return false;\n        }\n        if (rng.compareEndPoints) {\n          return rng.compareEndPoints('StartToEnd', rng) === 0;\n        }\n        return !sel || rng.collapsed;\n      };\n      var collapse = function (toStart) {\n        var rng = getRng$1();\n        rng.collapse(!!toStart);\n        setRng(rng);\n      };\n      var getSel = function () {\n        return win.getSelection ? win.getSelection() : win.document.selection;\n      };\n      var getRng$1 = function () {\n        var selection, rng, elm;\n        var tryCompareBoundaryPoints = function (how, sourceRange, destinationRange) {\n          try {\n            return sourceRange.compareBoundaryPoints(how, destinationRange);\n          } catch (ex) {\n            return -1;\n          }\n        };\n        var doc = win.document;\n        if (editor.bookmark !== undefined && hasFocus(editor) === false) {\n          var bookmark = getRng(editor);\n          if (bookmark.isSome()) {\n            return bookmark.map(function (r) {\n              return processRanges(editor, [r])[0];\n            }).getOr(doc.createRange());\n          }\n        }\n        try {\n          if ((selection = getSel()) && !isRestrictedNode(selection.anchorNode)) {\n            if (selection.rangeCount > 0) {\n              rng = selection.getRangeAt(0);\n            } else {\n              rng = selection.createRange ? selection.createRange() : doc.createRange();\n            }\n            rng = processRanges(editor, [rng])[0];\n          }\n        } catch (ex) {\n        }\n        if (!rng) {\n          rng = doc.createRange ? doc.createRange() : doc.body.createTextRange();\n        }\n        if (rng.setStart && rng.startContainer.nodeType === 9 && rng.collapsed) {\n          elm = dom.getRoot();\n          rng.setStart(elm, 0);\n          rng.setEnd(elm, 0);\n        }\n        if (selectedRange && explicitRange) {\n          if (tryCompareBoundaryPoints(rng.START_TO_START, rng, selectedRange) === 0 && tryCompareBoundaryPoints(rng.END_TO_END, rng, selectedRange) === 0) {\n            rng = explicitRange;\n          } else {\n            selectedRange = null;\n            explicitRange = null;\n          }\n        }\n        return rng;\n      };\n      var setRng = function (rng, forward) {\n        var node;\n        if (!isValidRange(rng)) {\n          return;\n        }\n        var ieRange = isNativeIeSelection(rng) ? rng : null;\n        if (ieRange) {\n          explicitRange = null;\n          try {\n            ieRange.select();\n          } catch (ex) {\n          }\n          return;\n        }\n        var sel = getSel();\n        var evt = editor.fire('SetSelectionRange', {\n          range: rng,\n          forward: forward\n        });\n        rng = evt.range;\n        if (sel) {\n          explicitRange = rng;\n          try {\n            sel.removeAllRanges();\n            sel.addRange(rng);\n          } catch (ex) {\n          }\n          if (forward === false && sel.extend) {\n            sel.collapse(rng.endContainer, rng.endOffset);\n            sel.extend(rng.startContainer, rng.startOffset);\n          }\n          selectedRange = sel.rangeCount > 0 ? sel.getRangeAt(0) : null;\n        }\n        if (!rng.collapsed && rng.startContainer === rng.endContainer && sel.setBaseAndExtent && !Env.ie) {\n          if (rng.endOffset - rng.startOffset < 2) {\n            if (rng.startContainer.hasChildNodes()) {\n              node = rng.startContainer.childNodes[rng.startOffset];\n              if (node && node.tagName === 'IMG') {\n                sel.setBaseAndExtent(rng.startContainer, rng.startOffset, rng.endContainer, rng.endOffset);\n                if (sel.anchorNode !== rng.startContainer || sel.focusNode !== rng.endContainer) {\n                  sel.setBaseAndExtent(node, 0, node, 1);\n                }\n              }\n            }\n          }\n        }\n        editor.fire('AfterSetSelectionRange', {\n          range: rng,\n          forward: forward\n        });\n      };\n      var setNode = function (elm) {\n        setContent(dom.getOuterHTML(elm));\n        return elm;\n      };\n      var getNode$1 = function () {\n        return getNode(editor.getBody(), getRng$1());\n      };\n      var getSelectedBlocks$1 = function (startElm, endElm) {\n        return getSelectedBlocks(dom, getRng$1(), startElm, endElm);\n      };\n      var isForward = function () {\n        var sel = getSel();\n        var anchorNode = sel === null || sel === void 0 ? void 0 : sel.anchorNode;\n        var focusNode = sel === null || sel === void 0 ? void 0 : sel.focusNode;\n        if (!sel || !anchorNode || !focusNode || isRestrictedNode(anchorNode) || isRestrictedNode(focusNode)) {\n          return true;\n        }\n        var anchorRange = dom.createRng();\n        anchorRange.setStart(anchorNode, sel.anchorOffset);\n        anchorRange.collapse(true);\n        var focusRange = dom.createRng();\n        focusRange.setStart(focusNode, sel.focusOffset);\n        focusRange.collapse(true);\n        return anchorRange.compareBoundaryPoints(anchorRange.START_TO_START, focusRange) <= 0;\n      };\n      var normalize = function () {\n        var rng = getRng$1();\n        var sel = getSel();\n        if (!hasMultipleRanges(sel) && hasAnyRanges(editor)) {\n          var normRng = normalize$2(dom, rng);\n          normRng.each(function (normRng) {\n            setRng(normRng, isForward());\n          });\n          return normRng.getOr(rng);\n        }\n        return rng;\n      };\n      var selectorChanged = function (selector, callback) {\n        selectorChangedWithUnbind(selector, callback);\n        return exports;\n      };\n      var getScrollContainer = function () {\n        var scrollContainer;\n        var node = dom.getRoot();\n        while (node && node.nodeName !== 'BODY') {\n          if (node.scrollHeight > node.clientHeight) {\n            scrollContainer = node;\n            break;\n          }\n          node = node.parentNode;\n        }\n        return scrollContainer;\n      };\n      var scrollIntoView = function (elm, alignToTop) {\n        if (isNonNullable(elm)) {\n          scrollElementIntoView(editor, elm, alignToTop);\n        } else {\n          scrollRangeIntoView(editor, getRng$1(), alignToTop);\n        }\n      };\n      var placeCaretAt = function (clientX, clientY) {\n        return setRng(fromPoint(clientX, clientY, editor.getDoc()));\n      };\n      var getBoundingClientRect = function () {\n        var rng = getRng$1();\n        return rng.collapsed ? CaretPosition.fromRangeStart(rng).getClientRects()[0] : rng.getBoundingClientRect();\n      };\n      var destroy = function () {\n        win = selectedRange = explicitRange = null;\n        controlSelection.destroy();\n      };\n      var exports = {\n        bookmarkManager: null,\n        controlSelection: null,\n        dom: dom,\n        win: win,\n        serializer: serializer,\n        editor: editor,\n        collapse: collapse,\n        setCursorLocation: setCursorLocation,\n        getContent: getContent,\n        setContent: setContent,\n        getBookmark: getBookmark,\n        moveToBookmark: moveToBookmark,\n        select: select$1,\n        isCollapsed: isCollapsed,\n        isForward: isForward,\n        setNode: setNode,\n        getNode: getNode$1,\n        getSel: getSel,\n        setRng: setRng,\n        getRng: getRng$1,\n        getStart: getStart$1,\n        getEnd: getEnd$1,\n        getSelectedBlocks: getSelectedBlocks$1,\n        normalize: normalize,\n        selectorChanged: selectorChanged,\n        selectorChangedWithUnbind: selectorChangedWithUnbind,\n        getScrollContainer: getScrollContainer,\n        scrollIntoView: scrollIntoView,\n        placeCaretAt: placeCaretAt,\n        getBoundingClientRect: getBoundingClientRect,\n        destroy: destroy\n      };\n      var bookmarkManager = BookmarkManager(exports);\n      var controlSelection = ControlSelection(exports, editor);\n      exports.bookmarkManager = bookmarkManager;\n      exports.controlSelection = controlSelection;\n      return exports;\n    };\n\n    var removeAttrs = function (node, names) {\n      each$k(names, function (name) {\n        node.attr(name, null);\n      });\n    };\n    var addFontToSpansFilter = function (domParser, styles, fontSizes) {\n      domParser.addNodeFilter('font', function (nodes) {\n        each$k(nodes, function (node) {\n          var props = styles.parse(node.attr('style'));\n          var color = node.attr('color');\n          var face = node.attr('face');\n          var size = node.attr('size');\n          if (color) {\n            props.color = color;\n          }\n          if (face) {\n            props['font-family'] = face;\n          }\n          if (size) {\n            props['font-size'] = fontSizes[parseInt(node.attr('size'), 10) - 1];\n          }\n          node.name = 'span';\n          node.attr('style', styles.serialize(props));\n          removeAttrs(node, [\n            'color',\n            'face',\n            'size'\n          ]);\n        });\n      });\n    };\n    var addStrikeToSpanFilter = function (domParser, styles) {\n      domParser.addNodeFilter('strike', function (nodes) {\n        each$k(nodes, function (node) {\n          var props = styles.parse(node.attr('style'));\n          props['text-decoration'] = 'line-through';\n          node.name = 'span';\n          node.attr('style', styles.serialize(props));\n        });\n      });\n    };\n    var addFilters = function (domParser, settings) {\n      var styles = Styles();\n      if (settings.convert_fonts_to_spans) {\n        addFontToSpansFilter(domParser, styles, Tools.explode(settings.font_size_legacy_values));\n      }\n      addStrikeToSpanFilter(domParser, styles);\n    };\n    var register$2 = function (domParser, settings) {\n      if (settings.inline_styles) {\n        addFilters(domParser, settings);\n      }\n    };\n\n    var blobUriToBlob = function (url) {\n      return new promiseObj(function (resolve, reject) {\n        var rejectWithError = function () {\n          reject('Cannot convert ' + url + ' to Blob. Resource might not exist or is inaccessible.');\n        };\n        try {\n          var xhr_1 = new XMLHttpRequest();\n          xhr_1.open('GET', url, true);\n          xhr_1.responseType = 'blob';\n          xhr_1.onload = function () {\n            if (xhr_1.status === 200) {\n              resolve(xhr_1.response);\n            } else {\n              rejectWithError();\n            }\n          };\n          xhr_1.onerror = rejectWithError;\n          xhr_1.send();\n        } catch (ex) {\n          rejectWithError();\n        }\n      });\n    };\n    var parseDataUri = function (uri) {\n      var type;\n      var uriParts = decodeURIComponent(uri).split(',');\n      var matches = /data:([^;]+)/.exec(uriParts[0]);\n      if (matches) {\n        type = matches[1];\n      }\n      return {\n        type: type,\n        data: uriParts[1]\n      };\n    };\n    var buildBlob = function (type, data) {\n      var str;\n      try {\n        str = atob(data);\n      } catch (e) {\n        return Optional.none();\n      }\n      var arr = new Uint8Array(str.length);\n      for (var i = 0; i < arr.length; i++) {\n        arr[i] = str.charCodeAt(i);\n      }\n      return Optional.some(new Blob([arr], { type: type }));\n    };\n    var dataUriToBlob = function (uri) {\n      return new promiseObj(function (resolve) {\n        var _a = parseDataUri(uri), type = _a.type, data = _a.data;\n        buildBlob(type, data).fold(function () {\n          return resolve(new Blob([]));\n        }, resolve);\n      });\n    };\n    var uriToBlob = function (url) {\n      if (url.indexOf('blob:') === 0) {\n        return blobUriToBlob(url);\n      }\n      if (url.indexOf('data:') === 0) {\n        return dataUriToBlob(url);\n      }\n      return null;\n    };\n    var blobToDataUri = function (blob) {\n      return new promiseObj(function (resolve) {\n        var reader = new FileReader();\n        reader.onloadend = function () {\n          resolve(reader.result);\n        };\n        reader.readAsDataURL(blob);\n      });\n    };\n\n    var count$1 = 0;\n    var uniqueId = function (prefix) {\n      return (prefix || 'blobid') + count$1++;\n    };\n    var imageToBlobInfo = function (blobCache, img, resolve, reject) {\n      var base64, blobInfo;\n      if (img.src.indexOf('blob:') === 0) {\n        blobInfo = blobCache.getByUri(img.src);\n        if (blobInfo) {\n          resolve({\n            image: img,\n            blobInfo: blobInfo\n          });\n        } else {\n          uriToBlob(img.src).then(function (blob) {\n            blobToDataUri(blob).then(function (dataUri) {\n              base64 = parseDataUri(dataUri).data;\n              blobInfo = blobCache.create(uniqueId(), blob, base64);\n              blobCache.add(blobInfo);\n              resolve({\n                image: img,\n                blobInfo: blobInfo\n              });\n            });\n          }, function (err) {\n            reject(err);\n          });\n        }\n        return;\n      }\n      var _a = parseDataUri(img.src), data = _a.data, type = _a.type;\n      base64 = data;\n      blobInfo = blobCache.getByData(base64, type);\n      if (blobInfo) {\n        resolve({\n          image: img,\n          blobInfo: blobInfo\n        });\n      } else {\n        uriToBlob(img.src).then(function (blob) {\n          blobInfo = blobCache.create(uniqueId(), blob, base64);\n          blobCache.add(blobInfo);\n          resolve({\n            image: img,\n            blobInfo: blobInfo\n          });\n        }, function (err) {\n          reject(err);\n        });\n      }\n    };\n    var getAllImages = function (elm) {\n      return elm ? from(elm.getElementsByTagName('img')) : [];\n    };\n    var ImageScanner = function (uploadStatus, blobCache) {\n      var cachedPromises = {};\n      var findAll = function (elm, predicate) {\n        if (!predicate) {\n          predicate = always;\n        }\n        var images = filter$4(getAllImages(elm), function (img) {\n          var src = img.src;\n          if (!Env.fileApi) {\n            return false;\n          }\n          if (img.hasAttribute('data-mce-bogus')) {\n            return false;\n          }\n          if (img.hasAttribute('data-mce-placeholder')) {\n            return false;\n          }\n          if (!src || src === Env.transparentSrc) {\n            return false;\n          }\n          if (src.indexOf('blob:') === 0) {\n            return !uploadStatus.isUploaded(src) && predicate(img);\n          }\n          if (src.indexOf('data:') === 0) {\n            return predicate(img);\n          }\n          return false;\n        });\n        var promises = map$3(images, function (img) {\n          if (cachedPromises[img.src] !== undefined) {\n            return new promiseObj(function (resolve) {\n              cachedPromises[img.src].then(function (imageInfo) {\n                if (typeof imageInfo === 'string') {\n                  return imageInfo;\n                }\n                resolve({\n                  image: img,\n                  blobInfo: imageInfo.blobInfo\n                });\n              });\n            });\n          }\n          var newPromise = new promiseObj(function (resolve, reject) {\n            imageToBlobInfo(blobCache, img, resolve, reject);\n          }).then(function (result) {\n            delete cachedPromises[result.image.src];\n            return result;\n          }).catch(function (error) {\n            delete cachedPromises[img.src];\n            return error;\n          });\n          cachedPromises[img.src] = newPromise;\n          return newPromise;\n        });\n        return promiseObj.all(promises);\n      };\n      return { findAll: findAll };\n    };\n\n    var paddEmptyNode = function (settings, args, blockElements, node) {\n      var brPreferred = settings.padd_empty_with_br || args.insert;\n      if (brPreferred && blockElements[node.name]) {\n        node.empty().append(new AstNode('br', 1)).shortEnded = true;\n      } else {\n        node.empty().append(new AstNode('#text', 3)).value = nbsp;\n      }\n    };\n    var isPaddedWithNbsp = function (node) {\n      return hasOnlyChild(node, '#text') && node.firstChild.value === nbsp;\n    };\n    var hasOnlyChild = function (node, name) {\n      return node && node.firstChild && node.firstChild === node.lastChild && node.firstChild.name === name;\n    };\n    var isPadded = function (schema, node) {\n      var rule = schema.getElementRule(node.name);\n      return rule && rule.paddEmpty;\n    };\n    var isEmpty = function (schema, nonEmptyElements, whitespaceElements, node) {\n      return node.isEmpty(nonEmptyElements, whitespaceElements, function (node) {\n        return isPadded(schema, node);\n      });\n    };\n    var isLineBreakNode = function (node, blockElements) {\n      return node && (has$2(blockElements, node.name) || node.name === 'br');\n    };\n\n    var isBogusImage = function (img) {\n      return isNonNullable(img.attr('data-mce-bogus'));\n    };\n    var isInternalImageSource = function (img) {\n      return img.attr('src') === Env.transparentSrc || isNonNullable(img.attr('data-mce-placeholder'));\n    };\n    var isValidDataImg = function (img, settings) {\n      if (settings.images_dataimg_filter) {\n        var imgElem_1 = new Image();\n        imgElem_1.src = img.attr('src');\n        each$j(img.attributes.map, function (value, key) {\n          imgElem_1.setAttribute(key, value);\n        });\n        return settings.images_dataimg_filter(imgElem_1);\n      } else {\n        return true;\n      }\n    };\n    var registerBase64ImageFilter = function (parser, settings) {\n      var blobCache = settings.blob_cache;\n      var processImage = function (img) {\n        var inputSrc = img.attr('src');\n        if (isInternalImageSource(img) || isBogusImage(img)) {\n          return;\n        }\n        parseDataUri$1(inputSrc).filter(function () {\n          return isValidDataImg(img, settings);\n        }).bind(function (_a) {\n          var type = _a.type, data = _a.data;\n          return Optional.from(blobCache.getByData(data, type)).orThunk(function () {\n            return buildBlob(type, data).map(function (blob) {\n              var blobInfo = blobCache.create(uniqueId(), blob, data);\n              blobCache.add(blobInfo);\n              return blobInfo;\n            });\n          });\n        }).each(function (blobInfo) {\n          img.attr('src', blobInfo.blobUri());\n        });\n      };\n      if (blobCache) {\n        parser.addAttributeFilter('src', function (nodes) {\n          return each$k(nodes, processImage);\n        });\n      }\n    };\n    var register$1 = function (parser, settings) {\n      var schema = parser.schema;\n      if (settings.remove_trailing_brs) {\n        parser.addNodeFilter('br', function (nodes, _, args) {\n          var i;\n          var l = nodes.length;\n          var node;\n          var blockElements = Tools.extend({}, schema.getBlockElements());\n          var nonEmptyElements = schema.getNonEmptyElements();\n          var parent, lastParent, prev, prevName;\n          var whiteSpaceElements = schema.getWhiteSpaceElements();\n          var elementRule, textNode;\n          blockElements.body = 1;\n          for (i = 0; i < l; i++) {\n            node = nodes[i];\n            parent = node.parent;\n            if (blockElements[node.parent.name] && node === parent.lastChild) {\n              prev = node.prev;\n              while (prev) {\n                prevName = prev.name;\n                if (prevName !== 'span' || prev.attr('data-mce-type') !== 'bookmark') {\n                  if (prevName === 'br') {\n                    node = null;\n                  }\n                  break;\n                }\n                prev = prev.prev;\n              }\n              if (node) {\n                node.remove();\n                if (isEmpty(schema, nonEmptyElements, whiteSpaceElements, parent)) {\n                  elementRule = schema.getElementRule(parent.name);\n                  if (elementRule) {\n                    if (elementRule.removeEmpty) {\n                      parent.remove();\n                    } else if (elementRule.paddEmpty) {\n                      paddEmptyNode(settings, args, blockElements, parent);\n                    }\n                  }\n                }\n              }\n            } else {\n              lastParent = node;\n              while (parent && parent.firstChild === lastParent && parent.lastChild === lastParent) {\n                lastParent = parent;\n                if (blockElements[parent.name]) {\n                  break;\n                }\n                parent = parent.parent;\n              }\n              if (lastParent === parent && settings.padd_empty_with_br !== true) {\n                textNode = new AstNode('#text', 3);\n                textNode.value = nbsp;\n                node.replace(textNode);\n              }\n            }\n          }\n        });\n      }\n      parser.addAttributeFilter('href', function (nodes) {\n        var i = nodes.length;\n        var appendRel = function (rel) {\n          var parts = rel.split(' ').filter(function (p) {\n            return p.length > 0;\n          });\n          return parts.concat(['noopener']).sort().join(' ');\n        };\n        var addNoOpener = function (rel) {\n          var newRel = rel ? Tools.trim(rel) : '';\n          if (!/\\b(noopener)\\b/g.test(newRel)) {\n            return appendRel(newRel);\n          } else {\n            return newRel;\n          }\n        };\n        if (!settings.allow_unsafe_link_target) {\n          while (i--) {\n            var node = nodes[i];\n            if (node.name === 'a' && node.attr('target') === '_blank') {\n              node.attr('rel', addNoOpener(node.attr('rel')));\n            }\n          }\n        }\n      });\n      if (!settings.allow_html_in_named_anchor) {\n        parser.addAttributeFilter('id,name', function (nodes) {\n          var i = nodes.length, sibling, prevSibling, parent, node;\n          while (i--) {\n            node = nodes[i];\n            if (node.name === 'a' && node.firstChild && !node.attr('href')) {\n              parent = node.parent;\n              sibling = node.lastChild;\n              do {\n                prevSibling = sibling.prev;\n                parent.insert(sibling, node);\n                sibling = prevSibling;\n              } while (sibling);\n            }\n          }\n        });\n      }\n      if (settings.fix_list_elements) {\n        parser.addNodeFilter('ul,ol', function (nodes) {\n          var i = nodes.length, node, parentNode;\n          while (i--) {\n            node = nodes[i];\n            parentNode = node.parent;\n            if (parentNode.name === 'ul' || parentNode.name === 'ol') {\n              if (node.prev && node.prev.name === 'li') {\n                node.prev.append(node);\n              } else {\n                var li = new AstNode('li', 1);\n                li.attr('style', 'list-style-type: none');\n                node.wrap(li);\n              }\n            }\n          }\n        });\n      }\n      if (settings.validate && schema.getValidClasses()) {\n        parser.addAttributeFilter('class', function (nodes) {\n          var validClasses = schema.getValidClasses();\n          var i = nodes.length;\n          while (i--) {\n            var node = nodes[i];\n            var classList = node.attr('class').split(' ');\n            var classValue = '';\n            for (var ci = 0; ci < classList.length; ci++) {\n              var className = classList[ci];\n              var valid = false;\n              var validClassesMap = validClasses['*'];\n              if (validClassesMap && validClassesMap[className]) {\n                valid = true;\n              }\n              validClassesMap = validClasses[node.name];\n              if (!valid && validClassesMap && validClassesMap[className]) {\n                valid = true;\n              }\n              if (valid) {\n                if (classValue) {\n                  classValue += ' ';\n                }\n                classValue += className;\n              }\n            }\n            if (!classValue.length) {\n              classValue = null;\n            }\n            node.attr('class', classValue);\n          }\n        });\n      }\n      registerBase64ImageFilter(parser, settings);\n    };\n\n    var makeMap = Tools.makeMap, each$6 = Tools.each, explode$2 = Tools.explode, extend$4 = Tools.extend;\n    var DomParser = function (settings, schema) {\n      if (schema === void 0) {\n        schema = Schema();\n      }\n      var nodeFilters = {};\n      var attributeFilters = [];\n      var matchedNodes = {};\n      var matchedAttributes = {};\n      settings = settings || {};\n      settings.validate = 'validate' in settings ? settings.validate : true;\n      settings.root_name = settings.root_name || 'body';\n      var fixInvalidChildren = function (nodes) {\n        var nonSplitableElements = makeMap('tr,td,th,tbody,thead,tfoot,table');\n        var nonEmptyElements = schema.getNonEmptyElements();\n        var whitespaceElements = schema.getWhiteSpaceElements();\n        var textBlockElements = schema.getTextBlockElements();\n        var specialElements = schema.getSpecialElements();\n        var removeOrUnwrapInvalidNode = function (node, originalNodeParent) {\n          if (originalNodeParent === void 0) {\n            originalNodeParent = node.parent;\n          }\n          if (specialElements[node.name]) {\n            node.empty().remove();\n          } else {\n            var children = node.children();\n            for (var _i = 0, children_1 = children; _i < children_1.length; _i++) {\n              var childNode = children_1[_i];\n              if (!schema.isValidChild(originalNodeParent.name, childNode.name)) {\n                removeOrUnwrapInvalidNode(childNode, originalNodeParent);\n              }\n            }\n            node.unwrap();\n          }\n        };\n        for (var ni = 0; ni < nodes.length; ni++) {\n          var node = nodes[ni];\n          var parent_1 = void 0, newParent = void 0, tempNode = void 0;\n          if (!node.parent || node.fixed) {\n            continue;\n          }\n          if (textBlockElements[node.name] && node.parent.name === 'li') {\n            var sibling = node.next;\n            while (sibling) {\n              if (textBlockElements[sibling.name]) {\n                sibling.name = 'li';\n                sibling.fixed = true;\n                node.parent.insert(sibling, node.parent);\n              } else {\n                break;\n              }\n              sibling = sibling.next;\n            }\n            node.unwrap();\n            continue;\n          }\n          var parents = [node];\n          for (parent_1 = node.parent; parent_1 && !schema.isValidChild(parent_1.name, node.name) && !nonSplitableElements[parent_1.name]; parent_1 = parent_1.parent) {\n            parents.push(parent_1);\n          }\n          if (parent_1 && parents.length > 1) {\n            if (schema.isValidChild(parent_1.name, node.name)) {\n              parents.reverse();\n              newParent = filterNode(parents[0].clone());\n              var currentNode = newParent;\n              for (var i = 0; i < parents.length - 1; i++) {\n                if (schema.isValidChild(currentNode.name, parents[i].name)) {\n                  tempNode = filterNode(parents[i].clone());\n                  currentNode.append(tempNode);\n                } else {\n                  tempNode = currentNode;\n                }\n                for (var childNode = parents[i].firstChild; childNode && childNode !== parents[i + 1];) {\n                  var nextNode = childNode.next;\n                  tempNode.append(childNode);\n                  childNode = nextNode;\n                }\n                currentNode = tempNode;\n              }\n              if (!isEmpty(schema, nonEmptyElements, whitespaceElements, newParent)) {\n                parent_1.insert(newParent, parents[0], true);\n                parent_1.insert(node, newParent);\n              } else {\n                parent_1.insert(node, parents[0], true);\n              }\n              parent_1 = parents[0];\n              if (isEmpty(schema, nonEmptyElements, whitespaceElements, parent_1) || hasOnlyChild(parent_1, 'br')) {\n                parent_1.empty().remove();\n              }\n            } else {\n              removeOrUnwrapInvalidNode(node);\n            }\n          } else if (node.parent) {\n            if (node.name === 'li') {\n              var sibling = node.prev;\n              if (sibling && (sibling.name === 'ul' || sibling.name === 'ol')) {\n                sibling.append(node);\n                continue;\n              }\n              sibling = node.next;\n              if (sibling && (sibling.name === 'ul' || sibling.name === 'ol')) {\n                sibling.insert(node, sibling.firstChild, true);\n                continue;\n              }\n              node.wrap(filterNode(new AstNode('ul', 1)));\n              continue;\n            }\n            if (schema.isValidChild(node.parent.name, 'div') && schema.isValidChild('div', node.name)) {\n              node.wrap(filterNode(new AstNode('div', 1)));\n            } else {\n              removeOrUnwrapInvalidNode(node);\n            }\n          }\n        }\n      };\n      var filterNode = function (node) {\n        var name = node.name;\n        if (name in nodeFilters) {\n          var list = matchedNodes[name];\n          if (list) {\n            list.push(node);\n          } else {\n            matchedNodes[name] = [node];\n          }\n        }\n        var i = attributeFilters.length;\n        while (i--) {\n          var attrName = attributeFilters[i].name;\n          if (attrName in node.attributes.map) {\n            var list = matchedAttributes[attrName];\n            if (list) {\n              list.push(node);\n            } else {\n              matchedAttributes[attrName] = [node];\n            }\n          }\n        }\n        return node;\n      };\n      var addNodeFilter = function (name, callback) {\n        each$6(explode$2(name), function (name) {\n          var list = nodeFilters[name];\n          if (!list) {\n            nodeFilters[name] = list = [];\n          }\n          list.push(callback);\n        });\n      };\n      var getNodeFilters = function () {\n        var out = [];\n        for (var name_1 in nodeFilters) {\n          if (has$2(nodeFilters, name_1)) {\n            out.push({\n              name: name_1,\n              callbacks: nodeFilters[name_1]\n            });\n          }\n        }\n        return out;\n      };\n      var addAttributeFilter = function (name, callback) {\n        each$6(explode$2(name), function (name) {\n          var i;\n          for (i = 0; i < attributeFilters.length; i++) {\n            if (attributeFilters[i].name === name) {\n              attributeFilters[i].callbacks.push(callback);\n              return;\n            }\n          }\n          attributeFilters.push({\n            name: name,\n            callbacks: [callback]\n          });\n        });\n      };\n      var getAttributeFilters = function () {\n        return [].concat(attributeFilters);\n      };\n      var parse = function (html, args) {\n        var nodes, i, l, fi, fl, list, name;\n        var invalidChildren = [];\n        var node;\n        var getRootBlockName = function (name) {\n          if (name === false) {\n            return '';\n          } else if (name === true) {\n            return 'p';\n          } else {\n            return name;\n          }\n        };\n        args = args || {};\n        matchedNodes = {};\n        matchedAttributes = {};\n        var blockElements = extend$4(makeMap('script,style,head,html,body,title,meta,param'), schema.getBlockElements());\n        var nonEmptyElements = schema.getNonEmptyElements();\n        var children = schema.children;\n        var validate = settings.validate;\n        var forcedRootBlockName = 'forced_root_block' in args ? args.forced_root_block : settings.forced_root_block;\n        var rootBlockName = getRootBlockName(forcedRootBlockName);\n        var whiteSpaceElements = schema.getWhiteSpaceElements();\n        var startWhiteSpaceRegExp = /^[ \\t\\r\\n]+/;\n        var endWhiteSpaceRegExp = /[ \\t\\r\\n]+$/;\n        var allWhiteSpaceRegExp = /[ \\t\\r\\n]+/g;\n        var isAllWhiteSpaceRegExp = /^[ \\t\\r\\n]+$/;\n        var isInWhiteSpacePreservedElement = has$2(whiteSpaceElements, args.context) || has$2(whiteSpaceElements, settings.root_name);\n        var addRootBlocks = function () {\n          var node = rootNode.firstChild, rootBlockNode = null;\n          var trim = function (rootBlock) {\n            if (rootBlock) {\n              node = rootBlock.firstChild;\n              if (node && node.type === 3) {\n                node.value = node.value.replace(startWhiteSpaceRegExp, '');\n              }\n              node = rootBlock.lastChild;\n              if (node && node.type === 3) {\n                node.value = node.value.replace(endWhiteSpaceRegExp, '');\n              }\n            }\n          };\n          if (!schema.isValidChild(rootNode.name, rootBlockName.toLowerCase())) {\n            return;\n          }\n          while (node) {\n            var next = node.next;\n            if (node.type === 3 || node.type === 1 && node.name !== 'p' && !blockElements[node.name] && !node.attr('data-mce-type')) {\n              if (!rootBlockNode) {\n                rootBlockNode = createNode(rootBlockName, 1);\n                rootBlockNode.attr(settings.forced_root_block_attrs);\n                rootNode.insert(rootBlockNode, node);\n                rootBlockNode.append(node);\n              } else {\n                rootBlockNode.append(node);\n              }\n            } else {\n              trim(rootBlockNode);\n              rootBlockNode = null;\n            }\n            node = next;\n          }\n          trim(rootBlockNode);\n        };\n        var createNode = function (name, type) {\n          var node = new AstNode(name, type);\n          var list;\n          if (name in nodeFilters) {\n            list = matchedNodes[name];\n            if (list) {\n              list.push(node);\n            } else {\n              matchedNodes[name] = [node];\n            }\n          }\n          return node;\n        };\n        var removeWhitespaceBefore = function (node) {\n          var blockElements = schema.getBlockElements();\n          for (var textNode = node.prev; textNode && textNode.type === 3;) {\n            var textVal = textNode.value.replace(endWhiteSpaceRegExp, '');\n            if (textVal.length > 0) {\n              textNode.value = textVal;\n              return;\n            }\n            var textNodeNext = textNode.next;\n            if (textNodeNext) {\n              if (textNodeNext.type === 3 && textNodeNext.value.length) {\n                textNode = textNode.prev;\n                continue;\n              }\n              if (!blockElements[textNodeNext.name] && textNodeNext.name !== 'script' && textNodeNext.name !== 'style') {\n                textNode = textNode.prev;\n                continue;\n              }\n            }\n            var sibling = textNode.prev;\n            textNode.remove();\n            textNode = sibling;\n          }\n        };\n        var cloneAndExcludeBlocks = function (input) {\n          var output = {};\n          for (var name_2 in input) {\n            if (name_2 !== 'li' && name_2 !== 'p') {\n              output[name_2] = input[name_2];\n            }\n          }\n          return output;\n        };\n        var parser = SaxParser({\n          validate: validate,\n          document: settings.document,\n          allow_html_data_urls: settings.allow_html_data_urls,\n          allow_svg_data_urls: settings.allow_svg_data_urls,\n          allow_script_urls: settings.allow_script_urls,\n          allow_conditional_comments: settings.allow_conditional_comments,\n          preserve_cdata: settings.preserve_cdata,\n          self_closing_elements: cloneAndExcludeBlocks(schema.getSelfClosingElements()),\n          cdata: function (text) {\n            node.append(createNode('#cdata', 4)).value = text;\n          },\n          text: function (text, raw) {\n            var textNode;\n            if (!isInWhiteSpacePreservedElement) {\n              text = text.replace(allWhiteSpaceRegExp, ' ');\n              if (isLineBreakNode(node.lastChild, blockElements)) {\n                text = text.replace(startWhiteSpaceRegExp, '');\n              }\n            }\n            if (text.length !== 0) {\n              textNode = createNode('#text', 3);\n              textNode.raw = !!raw;\n              node.append(textNode).value = text;\n            }\n          },\n          comment: function (text) {\n            node.append(createNode('#comment', 8)).value = text;\n          },\n          pi: function (name, text) {\n            node.append(createNode(name, 7)).value = text;\n            removeWhitespaceBefore(node);\n          },\n          doctype: function (text) {\n            var newNode = node.append(createNode('#doctype', 10));\n            newNode.value = text;\n            removeWhitespaceBefore(node);\n          },\n          start: function (name, attrs, empty) {\n            var elementRule = validate ? schema.getElementRule(name) : {};\n            if (elementRule) {\n              var newNode = createNode(elementRule.outputName || name, 1);\n              newNode.attributes = attrs;\n              newNode.shortEnded = empty;\n              node.append(newNode);\n              var parent_2 = children[node.name];\n              if (parent_2 && children[newNode.name] && !parent_2[newNode.name]) {\n                invalidChildren.push(newNode);\n              }\n              var attrFiltersLen = attributeFilters.length;\n              while (attrFiltersLen--) {\n                var attrName = attributeFilters[attrFiltersLen].name;\n                if (attrName in attrs.map) {\n                  list = matchedAttributes[attrName];\n                  if (list) {\n                    list.push(newNode);\n                  } else {\n                    matchedAttributes[attrName] = [newNode];\n                  }\n                }\n              }\n              if (blockElements[name]) {\n                removeWhitespaceBefore(newNode);\n              }\n              if (!empty) {\n                node = newNode;\n              }\n              if (!isInWhiteSpacePreservedElement && whiteSpaceElements[name]) {\n                isInWhiteSpacePreservedElement = true;\n              }\n            }\n          },\n          end: function (name) {\n            var textNode, text, sibling, tempNode;\n            var elementRule = validate ? schema.getElementRule(name) : {};\n            if (elementRule) {\n              if (blockElements[name]) {\n                if (!isInWhiteSpacePreservedElement) {\n                  textNode = node.firstChild;\n                  if (textNode && textNode.type === 3) {\n                    text = textNode.value.replace(startWhiteSpaceRegExp, '');\n                    if (text.length > 0) {\n                      textNode.value = text;\n                      textNode = textNode.next;\n                    } else {\n                      sibling = textNode.next;\n                      textNode.remove();\n                      textNode = sibling;\n                      while (textNode && textNode.type === 3) {\n                        text = textNode.value;\n                        sibling = textNode.next;\n                        if (text.length === 0 || isAllWhiteSpaceRegExp.test(text)) {\n                          textNode.remove();\n                          textNode = sibling;\n                        }\n                        textNode = sibling;\n                      }\n                    }\n                  }\n                  textNode = node.lastChild;\n                  if (textNode && textNode.type === 3) {\n                    text = textNode.value.replace(endWhiteSpaceRegExp, '');\n                    if (text.length > 0) {\n                      textNode.value = text;\n                      textNode = textNode.prev;\n                    } else {\n                      sibling = textNode.prev;\n                      textNode.remove();\n                      textNode = sibling;\n                      while (textNode && textNode.type === 3) {\n                        text = textNode.value;\n                        sibling = textNode.prev;\n                        if (text.length === 0 || isAllWhiteSpaceRegExp.test(text)) {\n                          textNode.remove();\n                          textNode = sibling;\n                        }\n                        textNode = sibling;\n                      }\n                    }\n                  }\n                }\n              }\n              if (isInWhiteSpacePreservedElement && whiteSpaceElements[name]) {\n                isInWhiteSpacePreservedElement = false;\n              }\n              if (elementRule.removeEmpty && isEmpty(schema, nonEmptyElements, whiteSpaceElements, node)) {\n                tempNode = node.parent;\n                if (blockElements[node.name]) {\n                  node.empty().remove();\n                } else {\n                  node.unwrap();\n                }\n                node = tempNode;\n                return;\n              }\n              if (elementRule.paddEmpty && (isPaddedWithNbsp(node) || isEmpty(schema, nonEmptyElements, whiteSpaceElements, node))) {\n                paddEmptyNode(settings, args, blockElements, node);\n              }\n              node = node.parent;\n            }\n          }\n        }, schema);\n        var rootNode = node = new AstNode(args.context || settings.root_name, 11);\n        parser.parse(html, args.format);\n        if (validate && invalidChildren.length) {\n          if (!args.context) {\n            fixInvalidChildren(invalidChildren);\n          } else {\n            args.invalid = true;\n          }\n        }\n        if (rootBlockName && (rootNode.name === 'body' || args.isRootContent)) {\n          addRootBlocks();\n        }\n        if (!args.invalid) {\n          for (name in matchedNodes) {\n            if (!has$2(matchedNodes, name)) {\n              continue;\n            }\n            list = nodeFilters[name];\n            nodes = matchedNodes[name];\n            fi = nodes.length;\n            while (fi--) {\n              if (!nodes[fi].parent) {\n                nodes.splice(fi, 1);\n              }\n            }\n            for (i = 0, l = list.length; i < l; i++) {\n              list[i](nodes, name, args);\n            }\n          }\n          for (i = 0, l = attributeFilters.length; i < l; i++) {\n            list = attributeFilters[i];\n            if (list.name in matchedAttributes) {\n              nodes = matchedAttributes[list.name];\n              fi = nodes.length;\n              while (fi--) {\n                if (!nodes[fi].parent) {\n                  nodes.splice(fi, 1);\n                }\n              }\n              for (fi = 0, fl = list.callbacks.length; fi < fl; fi++) {\n                list.callbacks[fi](nodes, list.name, args);\n              }\n            }\n          }\n        }\n        return rootNode;\n      };\n      var exports = {\n        schema: schema,\n        addAttributeFilter: addAttributeFilter,\n        getAttributeFilters: getAttributeFilters,\n        addNodeFilter: addNodeFilter,\n        getNodeFilters: getNodeFilters,\n        filterNode: filterNode,\n        parse: parse\n      };\n      register$1(exports, settings);\n      register$2(exports, settings);\n      return exports;\n    };\n\n    var register = function (htmlParser, settings, dom) {\n      htmlParser.addAttributeFilter('data-mce-tabindex', function (nodes, name) {\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          node.attr('tabindex', node.attr('data-mce-tabindex'));\n          node.attr(name, null);\n        }\n      });\n      htmlParser.addAttributeFilter('src,href,style', function (nodes, name) {\n        var internalName = 'data-mce-' + name;\n        var urlConverter = settings.url_converter;\n        var urlConverterScope = settings.url_converter_scope;\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          var value = node.attr(internalName);\n          if (value !== undefined) {\n            node.attr(name, value.length > 0 ? value : null);\n            node.attr(internalName, null);\n          } else {\n            value = node.attr(name);\n            if (name === 'style') {\n              value = dom.serializeStyle(dom.parseStyle(value), node.name);\n            } else if (urlConverter) {\n              value = urlConverter.call(urlConverterScope, value, name, node.name);\n            }\n            node.attr(name, value.length > 0 ? value : null);\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('class', function (nodes) {\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          var value = node.attr('class');\n          if (value) {\n            value = node.attr('class').replace(/(?:^|\\s)mce-item-\\w+(?!\\S)/g, '');\n            node.attr('class', value.length > 0 ? value : null);\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('data-mce-type', function (nodes, name, args) {\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          if (node.attr('data-mce-type') === 'bookmark' && !args.cleanup) {\n            var hasChildren = Optional.from(node.firstChild).exists(function (firstChild) {\n              return !isZwsp(firstChild.value);\n            });\n            if (hasChildren) {\n              node.unwrap();\n            } else {\n              node.remove();\n            }\n          }\n        }\n      });\n      htmlParser.addNodeFilter('noscript', function (nodes) {\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i].firstChild;\n          if (node) {\n            node.value = Entities.decode(node.value);\n          }\n        }\n      });\n      htmlParser.addNodeFilter('script,style', function (nodes, name) {\n        var trim = function (value) {\n          return value.replace(/(<!--\\[CDATA\\[|\\]\\]-->)/g, '\\n').replace(/^[\\r\\n]*|[\\r\\n]*$/g, '').replace(/^\\s*((<!--)?(\\s*\\/\\/)?\\s*<!\\[CDATA\\[|(<!--\\s*)?\\/\\*\\s*<!\\[CDATA\\[\\s*\\*\\/|(\\/\\/)?\\s*<!--|\\/\\*\\s*<!--\\s*\\*\\/)\\s*[\\r\\n]*/gi, '').replace(/\\s*(\\/\\*\\s*\\]\\]>\\s*\\*\\/(-->)?|\\s*\\/\\/\\s*\\]\\]>(-->)?|\\/\\/\\s*(-->)?|\\]\\]>|\\/\\*\\s*-->\\s*\\*\\/|\\s*-->\\s*)\\s*$/g, '');\n        };\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          var value = node.firstChild ? node.firstChild.value : '';\n          if (name === 'script') {\n            var type = node.attr('type');\n            if (type) {\n              node.attr('type', type === 'mce-no/type' ? null : type.replace(/^mce\\-/, ''));\n            }\n            if (settings.element_format === 'xhtml' && value.length > 0) {\n              node.firstChild.value = '// <![CDATA[\\n' + trim(value) + '\\n// ]]>';\n            }\n          } else {\n            if (settings.element_format === 'xhtml' && value.length > 0) {\n              node.firstChild.value = '<!--\\n' + trim(value) + '\\n-->';\n            }\n          }\n        }\n      });\n      htmlParser.addNodeFilter('#comment', function (nodes) {\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          if (settings.preserve_cdata && node.value.indexOf('[CDATA[') === 0) {\n            node.name = '#cdata';\n            node.type = 4;\n            node.value = dom.decode(node.value.replace(/^\\[CDATA\\[|\\]\\]$/g, ''));\n          } else if (node.value.indexOf('mce:protected ') === 0) {\n            node.name = '#text';\n            node.type = 3;\n            node.raw = true;\n            node.value = unescape(node.value).substr(14);\n          }\n        }\n      });\n      htmlParser.addNodeFilter('xml:namespace,input', function (nodes, name) {\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          if (node.type === 7) {\n            node.remove();\n          } else if (node.type === 1) {\n            if (name === 'input' && !node.attr('type')) {\n              node.attr('type', 'text');\n            }\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('data-mce-type', function (nodes) {\n        each$k(nodes, function (node) {\n          if (node.attr('data-mce-type') === 'format-caret') {\n            if (node.isEmpty(htmlParser.schema.getNonEmptyElements())) {\n              node.remove();\n            } else {\n              node.unwrap();\n            }\n          }\n        });\n      });\n      htmlParser.addAttributeFilter('data-mce-src,data-mce-href,data-mce-style,' + 'data-mce-selected,data-mce-expando,' + 'data-mce-type,data-mce-resize,data-mce-placeholder', function (nodes, name) {\n        var i = nodes.length;\n        while (i--) {\n          nodes[i].attr(name, null);\n        }\n      });\n    };\n    var trimTrailingBr = function (rootNode) {\n      var isBr = function (node) {\n        return node && node.name === 'br';\n      };\n      var brNode1 = rootNode.lastChild;\n      if (isBr(brNode1)) {\n        var brNode2 = brNode1.prev;\n        if (isBr(brNode2)) {\n          brNode1.remove();\n          brNode2.remove();\n        }\n      }\n    };\n\n    var preProcess = function (editor, node, args) {\n      var oldDoc;\n      var dom = editor.dom;\n      var clonedNode = node.cloneNode(true);\n      var impl = document.implementation;\n      if (impl.createHTMLDocument) {\n        var doc_1 = impl.createHTMLDocument('');\n        Tools.each(clonedNode.nodeName === 'BODY' ? clonedNode.childNodes : [clonedNode], function (node) {\n          doc_1.body.appendChild(doc_1.importNode(node, true));\n        });\n        if (clonedNode.nodeName !== 'BODY') {\n          clonedNode = doc_1.body.firstChild;\n        } else {\n          clonedNode = doc_1.body;\n        }\n        oldDoc = dom.doc;\n        dom.doc = doc_1;\n      }\n      firePreProcess(editor, __assign(__assign({}, args), { node: clonedNode }));\n      if (oldDoc) {\n        dom.doc = oldDoc;\n      }\n      return clonedNode;\n    };\n    var shouldFireEvent = function (editor, args) {\n      return editor && editor.hasEventListeners('PreProcess') && !args.no_events;\n    };\n    var process = function (editor, node, args) {\n      return shouldFireEvent(editor, args) ? preProcess(editor, node, args) : node;\n    };\n\n    var addTempAttr = function (htmlParser, tempAttrs, name) {\n      if (Tools.inArray(tempAttrs, name) === -1) {\n        htmlParser.addAttributeFilter(name, function (nodes, name) {\n          var i = nodes.length;\n          while (i--) {\n            nodes[i].attr(name, null);\n          }\n        });\n        tempAttrs.push(name);\n      }\n    };\n    var postProcess = function (editor, args, content) {\n      if (!args.no_events && editor) {\n        var outArgs = firePostProcess(editor, __assign(__assign({}, args), { content: content }));\n        return outArgs.content;\n      } else {\n        return content;\n      }\n    };\n    var getHtmlFromNode = function (dom, node, args) {\n      var html = trim$2(args.getInner ? node.innerHTML : dom.getOuterHTML(node));\n      return args.selection || isWsPreserveElement(SugarElement.fromDom(node)) ? html : Tools.trim(html);\n    };\n    var parseHtml = function (htmlParser, html, args) {\n      var parserArgs = args.selection ? __assign({ forced_root_block: false }, args) : args;\n      var rootNode = htmlParser.parse(html, parserArgs);\n      trimTrailingBr(rootNode);\n      return rootNode;\n    };\n    var serializeNode = function (settings, schema, node) {\n      var htmlSerializer = HtmlSerializer(settings, schema);\n      return htmlSerializer.serialize(node);\n    };\n    var toHtml = function (editor, settings, schema, rootNode, args) {\n      var content = serializeNode(settings, schema, rootNode);\n      return postProcess(editor, args, content);\n    };\n    var DomSerializerImpl = function (settings, editor) {\n      var tempAttrs = ['data-mce-selected'];\n      var dom = editor && editor.dom ? editor.dom : DOMUtils.DOM;\n      var schema = editor && editor.schema ? editor.schema : Schema(settings);\n      settings.entity_encoding = settings.entity_encoding || 'named';\n      settings.remove_trailing_brs = 'remove_trailing_brs' in settings ? settings.remove_trailing_brs : true;\n      var htmlParser = DomParser(settings, schema);\n      register(htmlParser, settings, dom);\n      var serialize = function (node, parserArgs) {\n        if (parserArgs === void 0) {\n          parserArgs = {};\n        }\n        var args = __assign({ format: 'html' }, parserArgs);\n        var targetNode = process(editor, node, args);\n        var html = getHtmlFromNode(dom, targetNode, args);\n        var rootNode = parseHtml(htmlParser, html, args);\n        return args.format === 'tree' ? rootNode : toHtml(editor, settings, schema, rootNode, args);\n      };\n      return {\n        schema: schema,\n        addNodeFilter: htmlParser.addNodeFilter,\n        addAttributeFilter: htmlParser.addAttributeFilter,\n        serialize: serialize,\n        addRules: schema.addValidElements,\n        setRules: schema.setValidElements,\n        addTempAttr: curry(addTempAttr, htmlParser, tempAttrs),\n        getTempAttrs: constant(tempAttrs),\n        getNodeFilters: htmlParser.getNodeFilters,\n        getAttributeFilters: htmlParser.getAttributeFilters\n      };\n    };\n\n    var DomSerializer = function (settings, editor) {\n      var domSerializer = DomSerializerImpl(settings, editor);\n      return {\n        schema: domSerializer.schema,\n        addNodeFilter: domSerializer.addNodeFilter,\n        addAttributeFilter: domSerializer.addAttributeFilter,\n        serialize: domSerializer.serialize,\n        addRules: domSerializer.addRules,\n        setRules: domSerializer.setRules,\n        addTempAttr: domSerializer.addTempAttr,\n        getTempAttrs: domSerializer.getTempAttrs,\n        getNodeFilters: domSerializer.getNodeFilters,\n        getAttributeFilters: domSerializer.getAttributeFilters\n      };\n    };\n\n    var defaultFormat = 'html';\n    var getContent = function (editor, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      var format = args.format ? args.format : defaultFormat;\n      return getContent$2(editor, args, format);\n    };\n\n    var setContent = function (editor, content, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      return setContent$2(editor, content, args);\n    };\n\n    var DOM$7 = DOMUtils.DOM;\n    var restoreOriginalStyles = function (editor) {\n      DOM$7.setStyle(editor.id, 'display', editor.orgDisplay);\n    };\n    var safeDestroy = function (x) {\n      return Optional.from(x).each(function (x) {\n        return x.destroy();\n      });\n    };\n    var clearDomReferences = function (editor) {\n      editor.contentAreaContainer = editor.formElement = editor.container = editor.editorContainer = null;\n      editor.bodyElement = editor.contentDocument = editor.contentWindow = null;\n      editor.iframeElement = editor.targetElm = null;\n      if (editor.selection) {\n        editor.selection = editor.selection.win = editor.selection.dom = editor.selection.dom.doc = null;\n      }\n    };\n    var restoreForm = function (editor) {\n      var form = editor.formElement;\n      if (form) {\n        if (form._mceOldSubmit) {\n          form.submit = form._mceOldSubmit;\n          form._mceOldSubmit = null;\n        }\n        DOM$7.unbind(form, 'submit reset', editor.formEventDelegate);\n      }\n    };\n    var remove = function (editor) {\n      if (!editor.removed) {\n        var _selectionOverrides = editor._selectionOverrides, editorUpload = editor.editorUpload;\n        var body = editor.getBody();\n        var element = editor.getElement();\n        if (body) {\n          editor.save({ is_removing: true });\n        }\n        editor.removed = true;\n        editor.unbindAllNativeEvents();\n        if (editor.hasHiddenInput && element) {\n          DOM$7.remove(element.nextSibling);\n        }\n        fireRemove(editor);\n        editor.editorManager.remove(editor);\n        if (!editor.inline && body) {\n          restoreOriginalStyles(editor);\n        }\n        fireDetach(editor);\n        DOM$7.remove(editor.getContainer());\n        safeDestroy(_selectionOverrides);\n        safeDestroy(editorUpload);\n        editor.destroy();\n      }\n    };\n    var destroy = function (editor, automatic) {\n      var selection = editor.selection, dom = editor.dom;\n      if (editor.destroyed) {\n        return;\n      }\n      if (!automatic && !editor.removed) {\n        editor.remove();\n        return;\n      }\n      if (!automatic) {\n        editor.editorManager.off('beforeunload', editor._beforeUnload);\n        if (editor.theme && editor.theme.destroy) {\n          editor.theme.destroy();\n        }\n        safeDestroy(selection);\n        safeDestroy(dom);\n      }\n      restoreForm(editor);\n      clearDomReferences(editor);\n      editor.destroyed = true;\n    };\n\n    var deep = function (old, nu) {\n      var bothObjects = isObject(old) && isObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    var baseMerge = function (merger) {\n      return function () {\n        var objects = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          objects[_i] = arguments[_i];\n        }\n        if (objects.length === 0) {\n          throw new Error('Can\\'t merge zero objects');\n        }\n        var ret = {};\n        for (var j = 0; j < objects.length; j++) {\n          var curObject = objects[j];\n          for (var key in curObject) {\n            if (has$2(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    var deepMerge = baseMerge(deep);\n\n    var deprecatedSettings = ('autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,' + 'boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,' + 'force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,' + 'non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,' + 'tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,' + 'paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists').split(',');\n    var deprecatedPlugins = 'bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor'.split(',');\n    var movedToPremiumPlugins = 'imagetools,toc'.split(',');\n    var getDeprecatedSettings = function (settings) {\n      var settingNames = filter$4(deprecatedSettings, function (setting) {\n        return has$2(settings, setting);\n      });\n      var forcedRootBlock = settings.forced_root_block;\n      if (forcedRootBlock === false || forcedRootBlock === '') {\n        settingNames.push('forced_root_block (false only)');\n      }\n      return sort(settingNames);\n    };\n    var getDeprecatedPlugins = function (settings) {\n      var plugins = Tools.makeMap(settings.plugins, ' ');\n      var hasPlugin = function (plugin) {\n        return has$2(plugins, plugin);\n      };\n      var pluginNames = __spreadArray(__spreadArray([], filter$4(deprecatedPlugins, hasPlugin), true), bind(movedToPremiumPlugins, function (plugin) {\n        return hasPlugin(plugin) ? [plugin + ' (moving to premium)'] : [];\n      }), true);\n      return sort(pluginNames);\n    };\n    var logDeprecationsWarning = function (rawSettings, finalSettings) {\n      var deprecatedSettings = getDeprecatedSettings(rawSettings);\n      var deprecatedPlugins = getDeprecatedPlugins(finalSettings);\n      var hasDeprecatedPlugins = deprecatedPlugins.length > 0;\n      var hasDeprecatedSettings = deprecatedSettings.length > 0;\n      var isLegacyMobileTheme = finalSettings.theme === 'mobile';\n      if (hasDeprecatedPlugins || hasDeprecatedSettings || isLegacyMobileTheme) {\n        var listJoiner = '\\n- ';\n        var themesMessage = isLegacyMobileTheme ? '\\n\\nThemes:' + listJoiner + 'mobile' : '';\n        var pluginsMessage = hasDeprecatedPlugins ? '\\n\\nPlugins:' + listJoiner + deprecatedPlugins.join(listJoiner) : '';\n        var settingsMessage = hasDeprecatedSettings ? '\\n\\nSettings:' + listJoiner + deprecatedSettings.join(listJoiner) : '';\n        console.warn('The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. ' + 'See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information.' + themesMessage + pluginsMessage + settingsMessage);\n      }\n    };\n\n    var sectionResult = function (sections, settings) {\n      return {\n        sections: constant(sections),\n        settings: constant(settings)\n      };\n    };\n    var deviceDetection = detect().deviceType;\n    var isTouch = deviceDetection.isTouch();\n    var isPhone = deviceDetection.isPhone();\n    var isTablet = deviceDetection.isTablet();\n    var legacyMobilePlugins = [\n      'lists',\n      'autolink',\n      'autosave'\n    ];\n    var defaultTouchSettings = {\n      table_grid: false,\n      object_resizing: false,\n      resize: false\n    };\n    var normalizePlugins = function (plugins) {\n      var pluginNames = isArray$1(plugins) ? plugins.join(' ') : plugins;\n      var trimmedPlugins = map$3(isString$1(pluginNames) ? pluginNames.split(' ') : [], trim$4);\n      return filter$4(trimmedPlugins, function (item) {\n        return item.length > 0;\n      });\n    };\n    var filterLegacyMobilePlugins = function (plugins) {\n      return filter$4(plugins, curry(contains$3, legacyMobilePlugins));\n    };\n    var extractSections = function (keys, settings) {\n      var result = bifilter(settings, function (value, key) {\n        return contains$3(keys, key);\n      });\n      return sectionResult(result.t, result.f);\n    };\n    var getSection = function (sectionResult, name, defaults) {\n      if (defaults === void 0) {\n        defaults = {};\n      }\n      var sections = sectionResult.sections();\n      var sectionSettings = get$9(sections, name).getOr({});\n      return Tools.extend({}, defaults, sectionSettings);\n    };\n    var hasSection = function (sectionResult, name) {\n      return has$2(sectionResult.sections(), name);\n    };\n    var isSectionTheme = function (sectionResult, name, theme) {\n      var section = sectionResult.sections();\n      return hasSection(sectionResult, name) && section[name].theme === theme;\n    };\n    var getSectionConfig = function (sectionResult, name) {\n      return hasSection(sectionResult, name) ? sectionResult.sections()[name] : {};\n    };\n    var getToolbarMode = function (settings, defaultVal) {\n      return get$9(settings, 'toolbar_mode').orThunk(function () {\n        return get$9(settings, 'toolbar_drawer').map(function (val) {\n          return val === false ? 'wrap' : val;\n        });\n      }).getOr(defaultVal);\n    };\n    var getDefaultSettings = function (settings, id, documentBaseUrl, isTouch, editor) {\n      var baseDefaults = {\n        id: id,\n        theme: 'silver',\n        toolbar_mode: getToolbarMode(settings, 'floating'),\n        plugins: '',\n        document_base_url: documentBaseUrl,\n        add_form_submit_trigger: true,\n        submit_patch: true,\n        add_unload_trigger: true,\n        convert_urls: true,\n        relative_urls: true,\n        remove_script_host: true,\n        object_resizing: true,\n        doctype: '<!DOCTYPE html>',\n        visual: true,\n        font_size_legacy_values: 'xx-small,small,medium,large,x-large,xx-large,300%',\n        forced_root_block: 'p',\n        hidden_input: true,\n        inline_styles: true,\n        convert_fonts_to_spans: true,\n        indent: true,\n        indent_before: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' + 'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',\n        indent_after: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' + 'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',\n        entity_encoding: 'named',\n        url_converter: editor.convertURL,\n        url_converter_scope: editor\n      };\n      return __assign(__assign({}, baseDefaults), isTouch ? defaultTouchSettings : {});\n    };\n    var getDefaultMobileSettings = function (mobileSettings, isPhone) {\n      var defaultMobileSettings = {\n        resize: false,\n        toolbar_mode: getToolbarMode(mobileSettings, 'scrolling'),\n        toolbar_sticky: false\n      };\n      var defaultPhoneSettings = { menubar: false };\n      return __assign(__assign(__assign({}, defaultTouchSettings), defaultMobileSettings), isPhone ? defaultPhoneSettings : {});\n    };\n    var getExternalPlugins = function (overrideSettings, settings) {\n      var userDefinedExternalPlugins = settings.external_plugins ? settings.external_plugins : {};\n      if (overrideSettings && overrideSettings.external_plugins) {\n        return Tools.extend({}, overrideSettings.external_plugins, userDefinedExternalPlugins);\n      } else {\n        return userDefinedExternalPlugins;\n      }\n    };\n    var combinePlugins = function (forcedPlugins, plugins) {\n      return [].concat(normalizePlugins(forcedPlugins)).concat(normalizePlugins(plugins));\n    };\n    var getPlatformPlugins = function (isMobileDevice, sectionResult, desktopPlugins, mobilePlugins) {\n      if (isMobileDevice && isSectionTheme(sectionResult, 'mobile', 'mobile')) {\n        return filterLegacyMobilePlugins(mobilePlugins);\n      } else if (isMobileDevice && hasSection(sectionResult, 'mobile')) {\n        return mobilePlugins;\n      } else {\n        return desktopPlugins;\n      }\n    };\n    var processPlugins = function (isMobileDevice, sectionResult, defaultOverrideSettings, settings) {\n      var forcedPlugins = normalizePlugins(defaultOverrideSettings.forced_plugins);\n      var desktopPlugins = normalizePlugins(settings.plugins);\n      var mobileConfig = getSectionConfig(sectionResult, 'mobile');\n      var mobilePlugins = mobileConfig.plugins ? normalizePlugins(mobileConfig.plugins) : desktopPlugins;\n      var platformPlugins = getPlatformPlugins(isMobileDevice, sectionResult, desktopPlugins, mobilePlugins);\n      var combinedPlugins = combinePlugins(forcedPlugins, platformPlugins);\n      if (Env.browser.isIE() && contains$3(combinedPlugins, 'rtc')) {\n        throw new Error('RTC plugin is not supported on IE 11.');\n      }\n      return Tools.extend(settings, { plugins: combinedPlugins.join(' ') });\n    };\n    var isOnMobile = function (isMobileDevice, sectionResult) {\n      return isMobileDevice && hasSection(sectionResult, 'mobile');\n    };\n    var combineSettings = function (isMobileDevice, isPhone, defaultSettings, defaultOverrideSettings, settings) {\n      var defaultDeviceSettings = isMobileDevice ? { mobile: getDefaultMobileSettings(settings.mobile || {}, isPhone) } : {};\n      var sectionResult = extractSections(['mobile'], deepMerge(defaultDeviceSettings, settings));\n      var extendedSettings = Tools.extend(defaultSettings, defaultOverrideSettings, sectionResult.settings(), isOnMobile(isMobileDevice, sectionResult) ? getSection(sectionResult, 'mobile') : {}, {\n        validate: true,\n        external_plugins: getExternalPlugins(defaultOverrideSettings, sectionResult.settings())\n      });\n      return processPlugins(isMobileDevice, sectionResult, defaultOverrideSettings, extendedSettings);\n    };\n    var getEditorSettings = function (editor, id, documentBaseUrl, defaultOverrideSettings, settings) {\n      var defaultSettings = getDefaultSettings(settings, id, documentBaseUrl, isTouch, editor);\n      var finalSettings = combineSettings(isPhone || isTablet, isPhone, defaultSettings, defaultOverrideSettings, settings);\n      if (finalSettings.deprecation_warnings !== false) {\n        logDeprecationsWarning(settings, finalSettings);\n      }\n      return finalSettings;\n    };\n    var getFiltered = function (predicate, editor, name) {\n      return Optional.from(editor.settings[name]).filter(predicate);\n    };\n    var getParamObject = function (value) {\n      var output = {};\n      if (typeof value === 'string') {\n        each$k(value.indexOf('=') > 0 ? value.split(/[;,](?![^=;,]*(?:[;,]|$))/) : value.split(','), function (val) {\n          var arr = val.split('=');\n          if (arr.length > 1) {\n            output[Tools.trim(arr[0])] = Tools.trim(arr[1]);\n          } else {\n            output[Tools.trim(arr[0])] = Tools.trim(arr[0]);\n          }\n        });\n      } else {\n        output = value;\n      }\n      return output;\n    };\n    var isArrayOf = function (p) {\n      return function (a) {\n        return isArray$1(a) && forall(a, p);\n      };\n    };\n    var getParam = function (editor, name, defaultVal, type) {\n      var value = name in editor.settings ? editor.settings[name] : defaultVal;\n      if (type === 'hash') {\n        return getParamObject(value);\n      } else if (type === 'string') {\n        return getFiltered(isString$1, editor, name).getOr(defaultVal);\n      } else if (type === 'number') {\n        return getFiltered(isNumber, editor, name).getOr(defaultVal);\n      } else if (type === 'boolean') {\n        return getFiltered(isBoolean, editor, name).getOr(defaultVal);\n      } else if (type === 'object') {\n        return getFiltered(isObject, editor, name).getOr(defaultVal);\n      } else if (type === 'array') {\n        return getFiltered(isArray$1, editor, name).getOr(defaultVal);\n      } else if (type === 'string[]') {\n        return getFiltered(isArrayOf(isString$1), editor, name).getOr(defaultVal);\n      } else if (type === 'function') {\n        return getFiltered(isFunction, editor, name).getOr(defaultVal);\n      } else {\n        return value;\n      }\n    };\n\n    var CreateIconManager = function () {\n      var lookup = {};\n      var add = function (id, iconPack) {\n        lookup[id] = iconPack;\n      };\n      var get = function (id) {\n        if (lookup[id]) {\n          return lookup[id];\n        }\n        return { icons: {} };\n      };\n      var has = function (id) {\n        return has$2(lookup, id);\n      };\n      return {\n        add: add,\n        get: get,\n        has: has\n      };\n    };\n    var IconManager = CreateIconManager();\n\n    var getProp = function (propName, elm) {\n      var rawElm = elm.dom;\n      return rawElm[propName];\n    };\n    var getComputedSizeProp = function (propName, elm) {\n      return parseInt(get$5(elm, propName), 10);\n    };\n    var getClientWidth = curry(getProp, 'clientWidth');\n    var getClientHeight = curry(getProp, 'clientHeight');\n    var getMarginTop = curry(getComputedSizeProp, 'margin-top');\n    var getMarginLeft = curry(getComputedSizeProp, 'margin-left');\n    var getBoundingClientRect = function (elm) {\n      return elm.dom.getBoundingClientRect();\n    };\n    var isInsideElementContentArea = function (bodyElm, clientX, clientY) {\n      var clientWidth = getClientWidth(bodyElm);\n      var clientHeight = getClientHeight(bodyElm);\n      return clientX >= 0 && clientY >= 0 && clientX <= clientWidth && clientY <= clientHeight;\n    };\n    var transpose = function (inline, elm, clientX, clientY) {\n      var clientRect = getBoundingClientRect(elm);\n      var deltaX = inline ? clientRect.left + elm.dom.clientLeft + getMarginLeft(elm) : 0;\n      var deltaY = inline ? clientRect.top + elm.dom.clientTop + getMarginTop(elm) : 0;\n      var x = clientX - deltaX;\n      var y = clientY - deltaY;\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var isXYInContentArea = function (editor, clientX, clientY) {\n      var bodyElm = SugarElement.fromDom(editor.getBody());\n      var targetElm = editor.inline ? bodyElm : documentElement(bodyElm);\n      var transposedPoint = transpose(editor.inline, targetElm, clientX, clientY);\n      return isInsideElementContentArea(targetElm, transposedPoint.x, transposedPoint.y);\n    };\n    var fromDomSafe = function (node) {\n      return Optional.from(node).map(SugarElement.fromDom);\n    };\n    var isEditorAttachedToDom = function (editor) {\n      var rawContainer = editor.inline ? editor.getBody() : editor.getContentAreaContainer();\n      return fromDomSafe(rawContainer).map(inBody).getOr(false);\n    };\n\n    var NotificationManagerImpl = function () {\n      var unimplemented = function () {\n        throw new Error('Theme did not provide a NotificationManager implementation.');\n      };\n      return {\n        open: unimplemented,\n        close: unimplemented,\n        reposition: unimplemented,\n        getArgs: unimplemented\n      };\n    };\n\n    var NotificationManager = function (editor) {\n      var notifications = [];\n      var getImplementation = function () {\n        var theme = editor.theme;\n        return theme && theme.getNotificationManagerImpl ? theme.getNotificationManagerImpl() : NotificationManagerImpl();\n      };\n      var getTopNotification = function () {\n        return Optional.from(notifications[0]);\n      };\n      var isEqual = function (a, b) {\n        return a.type === b.type && a.text === b.text && !a.progressBar && !a.timeout && !b.progressBar && !b.timeout;\n      };\n      var reposition = function () {\n        if (notifications.length > 0) {\n          getImplementation().reposition(notifications);\n        }\n      };\n      var addNotification = function (notification) {\n        notifications.push(notification);\n      };\n      var closeNotification = function (notification) {\n        findIndex$2(notifications, function (otherNotification) {\n          return otherNotification === notification;\n        }).each(function (index) {\n          notifications.splice(index, 1);\n        });\n      };\n      var open = function (spec, fireEvent) {\n        if (fireEvent === void 0) {\n          fireEvent = true;\n        }\n        if (editor.removed || !isEditorAttachedToDom(editor)) {\n          return;\n        }\n        if (fireEvent) {\n          editor.fire('BeforeOpenNotification', { notification: spec });\n        }\n        return find$3(notifications, function (notification) {\n          return isEqual(getImplementation().getArgs(notification), spec);\n        }).getOrThunk(function () {\n          editor.editorManager.setActive(editor);\n          var notification = getImplementation().open(spec, function () {\n            closeNotification(notification);\n            reposition();\n            getTopNotification().fold(function () {\n              return editor.focus();\n            }, function (top) {\n              return focus$1(SugarElement.fromDom(top.getEl()));\n            });\n          });\n          addNotification(notification);\n          reposition();\n          editor.fire('OpenNotification', { notification: __assign({}, notification) });\n          return notification;\n        });\n      };\n      var close = function () {\n        getTopNotification().each(function (notification) {\n          getImplementation().close(notification);\n          closeNotification(notification);\n          reposition();\n        });\n      };\n      var getNotifications = constant(notifications);\n      var registerEvents = function (editor) {\n        editor.on('SkinLoaded', function () {\n          var serviceMessage = getServiceMessage(editor);\n          if (serviceMessage) {\n            open({\n              text: serviceMessage,\n              type: 'warning',\n              timeout: 0\n            }, false);\n          }\n          reposition();\n        });\n        editor.on('show ResizeEditor ResizeWindow NodeChange', function () {\n          Delay.requestAnimationFrame(reposition);\n        });\n        editor.on('remove', function () {\n          each$k(notifications.slice(), function (notification) {\n            getImplementation().close(notification);\n          });\n        });\n      };\n      registerEvents(editor);\n      return {\n        open: open,\n        close: close,\n        getNotifications: getNotifications\n      };\n    };\n\n    var PluginManager = AddOnManager.PluginManager;\n\n    var ThemeManager = AddOnManager.ThemeManager;\n\n    function WindowManagerImpl () {\n      var unimplemented = function () {\n        throw new Error('Theme did not provide a WindowManager implementation.');\n      };\n      return {\n        open: unimplemented,\n        openUrl: unimplemented,\n        alert: unimplemented,\n        confirm: unimplemented,\n        close: unimplemented,\n        getParams: unimplemented,\n        setParams: unimplemented\n      };\n    }\n\n    var WindowManager = function (editor) {\n      var dialogs = [];\n      var getImplementation = function () {\n        var theme = editor.theme;\n        return theme && theme.getWindowManagerImpl ? theme.getWindowManagerImpl() : WindowManagerImpl();\n      };\n      var funcBind = function (scope, f) {\n        return function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          return f ? f.apply(scope, args) : undefined;\n        };\n      };\n      var fireOpenEvent = function (dialog) {\n        editor.fire('OpenWindow', { dialog: dialog });\n      };\n      var fireCloseEvent = function (dialog) {\n        editor.fire('CloseWindow', { dialog: dialog });\n      };\n      var addDialog = function (dialog) {\n        dialogs.push(dialog);\n        fireOpenEvent(dialog);\n      };\n      var closeDialog = function (dialog) {\n        fireCloseEvent(dialog);\n        dialogs = filter$4(dialogs, function (otherDialog) {\n          return otherDialog !== dialog;\n        });\n        if (dialogs.length === 0) {\n          editor.focus();\n        }\n      };\n      var getTopDialog = function () {\n        return Optional.from(dialogs[dialogs.length - 1]);\n      };\n      var storeSelectionAndOpenDialog = function (openDialog) {\n        editor.editorManager.setActive(editor);\n        store(editor);\n        var dialog = openDialog();\n        addDialog(dialog);\n        return dialog;\n      };\n      var open = function (args, params) {\n        return storeSelectionAndOpenDialog(function () {\n          return getImplementation().open(args, params, closeDialog);\n        });\n      };\n      var openUrl = function (args) {\n        return storeSelectionAndOpenDialog(function () {\n          return getImplementation().openUrl(args, closeDialog);\n        });\n      };\n      var alert = function (message, callback, scope) {\n        var windowManagerImpl = getImplementation();\n        windowManagerImpl.alert(message, funcBind(scope ? scope : windowManagerImpl, callback));\n      };\n      var confirm = function (message, callback, scope) {\n        var windowManagerImpl = getImplementation();\n        windowManagerImpl.confirm(message, funcBind(scope ? scope : windowManagerImpl, callback));\n      };\n      var close = function () {\n        getTopDialog().each(function (dialog) {\n          getImplementation().close(dialog);\n          closeDialog(dialog);\n        });\n      };\n      editor.on('remove', function () {\n        each$k(dialogs, function (dialog) {\n          getImplementation().close(dialog);\n        });\n      });\n      return {\n        open: open,\n        openUrl: openUrl,\n        alert: alert,\n        confirm: confirm,\n        close: close\n      };\n    };\n\n    var displayNotification = function (editor, message) {\n      editor.notificationManager.open({\n        type: 'error',\n        text: message\n      });\n    };\n    var displayError = function (editor, message) {\n      if (editor._skinLoaded) {\n        displayNotification(editor, message);\n      } else {\n        editor.on('SkinLoaded', function () {\n          displayNotification(editor, message);\n        });\n      }\n    };\n    var uploadError = function (editor, message) {\n      displayError(editor, I18n.translate([\n        'Failed to upload image: {0}',\n        message\n      ]));\n    };\n    var logError = function (editor, errorType, msg) {\n      fireError(editor, errorType, { message: msg });\n      console.error(msg);\n    };\n    var createLoadError = function (type, url, name) {\n      return name ? 'Failed to load ' + type + ': ' + name + ' from url ' + url : 'Failed to load ' + type + ' url: ' + url;\n    };\n    var pluginLoadError = function (editor, url, name) {\n      logError(editor, 'PluginLoadError', createLoadError('plugin', url, name));\n    };\n    var iconsLoadError = function (editor, url, name) {\n      logError(editor, 'IconsLoadError', createLoadError('icons', url, name));\n    };\n    var languageLoadError = function (editor, url, name) {\n      logError(editor, 'LanguageLoadError', createLoadError('language', url, name));\n    };\n    var pluginInitError = function (editor, name, err) {\n      var message = I18n.translate([\n        'Failed to initialize plugin: {0}',\n        name\n      ]);\n      fireError(editor, 'PluginLoadError', { message: message });\n      initError(message, err);\n      displayError(editor, message);\n    };\n    var initError = function (message) {\n      var x = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        x[_i - 1] = arguments[_i];\n      }\n      var console = window.console;\n      if (console) {\n        if (console.error) {\n          console.error.apply(console, __spreadArray([message], x, false));\n        } else {\n          console.log.apply(console, __spreadArray([message], x, false));\n        }\n      }\n    };\n\n    var isContentCssSkinName = function (url) {\n      return /^[a-z0-9\\-]+$/i.test(url);\n    };\n    var getContentCssUrls = function (editor) {\n      return transformToUrls(editor, getContentCss(editor));\n    };\n    var getFontCssUrls = function (editor) {\n      return transformToUrls(editor, getFontCss(editor));\n    };\n    var transformToUrls = function (editor, cssLinks) {\n      var skinUrl = editor.editorManager.baseURL + '/skins/content';\n      var suffix = editor.editorManager.suffix;\n      var contentCssFile = 'content' + suffix + '.css';\n      var inline = editor.inline === true;\n      return map$3(cssLinks, function (url) {\n        if (isContentCssSkinName(url) && !inline) {\n          return skinUrl + '/' + url + '/' + contentCssFile;\n        } else {\n          return editor.documentBaseURI.toAbsolute(url);\n        }\n      });\n    };\n    var appendContentCssFromSettings = function (editor) {\n      editor.contentCSS = editor.contentCSS.concat(getContentCssUrls(editor), getFontCssUrls(editor));\n    };\n\n    var UploadStatus = function () {\n      var PENDING = 1, UPLOADED = 2;\n      var blobUriStatuses = {};\n      var createStatus = function (status, resultUri) {\n        return {\n          status: status,\n          resultUri: resultUri\n        };\n      };\n      var hasBlobUri = function (blobUri) {\n        return blobUri in blobUriStatuses;\n      };\n      var getResultUri = function (blobUri) {\n        var result = blobUriStatuses[blobUri];\n        return result ? result.resultUri : null;\n      };\n      var isPending = function (blobUri) {\n        return hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === PENDING : false;\n      };\n      var isUploaded = function (blobUri) {\n        return hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === UPLOADED : false;\n      };\n      var markPending = function (blobUri) {\n        blobUriStatuses[blobUri] = createStatus(PENDING, null);\n      };\n      var markUploaded = function (blobUri, resultUri) {\n        blobUriStatuses[blobUri] = createStatus(UPLOADED, resultUri);\n      };\n      var removeFailed = function (blobUri) {\n        delete blobUriStatuses[blobUri];\n      };\n      var destroy = function () {\n        blobUriStatuses = {};\n      };\n      return {\n        hasBlobUri: hasBlobUri,\n        getResultUri: getResultUri,\n        isPending: isPending,\n        isUploaded: isUploaded,\n        markPending: markPending,\n        markUploaded: markUploaded,\n        removeFailed: removeFailed,\n        destroy: destroy\n      };\n    };\n\n    var count = 0;\n    var seed = function () {\n      var rnd = function () {\n        return Math.round(Math.random() * 4294967295).toString(36);\n      };\n      var now = new Date().getTime();\n      return 's' + now.toString(36) + rnd() + rnd() + rnd();\n    };\n    var uuid = function (prefix) {\n      return prefix + count++ + seed();\n    };\n\n    var BlobCache = function () {\n      var cache = [];\n      var mimeToExt = function (mime) {\n        var mimes = {\n          'image/jpeg': 'jpg',\n          'image/jpg': 'jpg',\n          'image/gif': 'gif',\n          'image/png': 'png',\n          'image/apng': 'apng',\n          'image/avif': 'avif',\n          'image/svg+xml': 'svg',\n          'image/webp': 'webp',\n          'image/bmp': 'bmp',\n          'image/tiff': 'tiff'\n        };\n        return mimes[mime.toLowerCase()] || 'dat';\n      };\n      var create = function (o, blob, base64, name, filename) {\n        if (isString$1(o)) {\n          var id = o;\n          return toBlobInfo({\n            id: id,\n            name: name,\n            filename: filename,\n            blob: blob,\n            base64: base64\n          });\n        } else if (isObject(o)) {\n          return toBlobInfo(o);\n        } else {\n          throw new Error('Unknown input type');\n        }\n      };\n      var toBlobInfo = function (o) {\n        if (!o.blob || !o.base64) {\n          throw new Error('blob and base64 representations of the image are required for BlobInfo to be created');\n        }\n        var id = o.id || uuid('blobid');\n        var name = o.name || id;\n        var blob = o.blob;\n        return {\n          id: constant(id),\n          name: constant(name),\n          filename: constant(o.filename || name + '.' + mimeToExt(blob.type)),\n          blob: constant(blob),\n          base64: constant(o.base64),\n          blobUri: constant(o.blobUri || URL.createObjectURL(blob)),\n          uri: constant(o.uri)\n        };\n      };\n      var add = function (blobInfo) {\n        if (!get(blobInfo.id())) {\n          cache.push(blobInfo);\n        }\n      };\n      var findFirst = function (predicate) {\n        return find$3(cache, predicate).getOrUndefined();\n      };\n      var get = function (id) {\n        return findFirst(function (cachedBlobInfo) {\n          return cachedBlobInfo.id() === id;\n        });\n      };\n      var getByUri = function (blobUri) {\n        return findFirst(function (blobInfo) {\n          return blobInfo.blobUri() === blobUri;\n        });\n      };\n      var getByData = function (base64, type) {\n        return findFirst(function (blobInfo) {\n          return blobInfo.base64() === base64 && blobInfo.blob().type === type;\n        });\n      };\n      var removeByUri = function (blobUri) {\n        cache = filter$4(cache, function (blobInfo) {\n          if (blobInfo.blobUri() === blobUri) {\n            URL.revokeObjectURL(blobInfo.blobUri());\n            return false;\n          }\n          return true;\n        });\n      };\n      var destroy = function () {\n        each$k(cache, function (cachedBlobInfo) {\n          URL.revokeObjectURL(cachedBlobInfo.blobUri());\n        });\n        cache = [];\n      };\n      return {\n        create: create,\n        add: add,\n        get: get,\n        getByUri: getByUri,\n        getByData: getByData,\n        findFirst: findFirst,\n        removeByUri: removeByUri,\n        destroy: destroy\n      };\n    };\n\n    var Uploader = function (uploadStatus, settings) {\n      var pendingPromises = {};\n      var pathJoin = function (path1, path2) {\n        if (path1) {\n          return path1.replace(/\\/$/, '') + '/' + path2.replace(/^\\//, '');\n        }\n        return path2;\n      };\n      var defaultHandler = function (blobInfo, success, failure, progress) {\n        var xhr = new XMLHttpRequest();\n        xhr.open('POST', settings.url);\n        xhr.withCredentials = settings.credentials;\n        xhr.upload.onprogress = function (e) {\n          progress(e.loaded / e.total * 100);\n        };\n        xhr.onerror = function () {\n          failure('Image upload failed due to a XHR Transport error. Code: ' + xhr.status);\n        };\n        xhr.onload = function () {\n          if (xhr.status < 200 || xhr.status >= 300) {\n            failure('HTTP Error: ' + xhr.status);\n            return;\n          }\n          var json = JSON.parse(xhr.responseText);\n          if (!json || typeof json.location !== 'string') {\n            failure('Invalid JSON: ' + xhr.responseText);\n            return;\n          }\n          success(pathJoin(settings.basePath, json.location));\n        };\n        var formData = new FormData();\n        formData.append('file', blobInfo.blob(), blobInfo.filename());\n        xhr.send(formData);\n      };\n      var noUpload = function () {\n        return new promiseObj(function (resolve) {\n          resolve([]);\n        });\n      };\n      var handlerSuccess = function (blobInfo, url) {\n        return {\n          url: url,\n          blobInfo: blobInfo,\n          status: true\n        };\n      };\n      var handlerFailure = function (blobInfo, message, options) {\n        return {\n          url: '',\n          blobInfo: blobInfo,\n          status: false,\n          error: {\n            message: message,\n            options: options\n          }\n        };\n      };\n      var resolvePending = function (blobUri, result) {\n        Tools.each(pendingPromises[blobUri], function (resolve) {\n          resolve(result);\n        });\n        delete pendingPromises[blobUri];\n      };\n      var uploadBlobInfo = function (blobInfo, handler, openNotification) {\n        uploadStatus.markPending(blobInfo.blobUri());\n        return new promiseObj(function (resolve) {\n          var notification, progress;\n          try {\n            var closeNotification_1 = function () {\n              if (notification) {\n                notification.close();\n                progress = noop;\n              }\n            };\n            var success = function (url) {\n              closeNotification_1();\n              uploadStatus.markUploaded(blobInfo.blobUri(), url);\n              resolvePending(blobInfo.blobUri(), handlerSuccess(blobInfo, url));\n              resolve(handlerSuccess(blobInfo, url));\n            };\n            var failure = function (error, options) {\n              var failureOptions = options ? options : {};\n              closeNotification_1();\n              uploadStatus.removeFailed(blobInfo.blobUri());\n              resolvePending(blobInfo.blobUri(), handlerFailure(blobInfo, error, failureOptions));\n              resolve(handlerFailure(blobInfo, error, failureOptions));\n            };\n            progress = function (percent) {\n              if (percent < 0 || percent > 100) {\n                return;\n              }\n              Optional.from(notification).orThunk(function () {\n                return Optional.from(openNotification).map(apply);\n              }).each(function (n) {\n                notification = n;\n                n.progressBar.value(percent);\n              });\n            };\n            handler(blobInfo, success, failure, progress);\n          } catch (ex) {\n            resolve(handlerFailure(blobInfo, ex.message, {}));\n          }\n        });\n      };\n      var isDefaultHandler = function (handler) {\n        return handler === defaultHandler;\n      };\n      var pendingUploadBlobInfo = function (blobInfo) {\n        var blobUri = blobInfo.blobUri();\n        return new promiseObj(function (resolve) {\n          pendingPromises[blobUri] = pendingPromises[blobUri] || [];\n          pendingPromises[blobUri].push(resolve);\n        });\n      };\n      var uploadBlobs = function (blobInfos, openNotification) {\n        blobInfos = Tools.grep(blobInfos, function (blobInfo) {\n          return !uploadStatus.isUploaded(blobInfo.blobUri());\n        });\n        return promiseObj.all(Tools.map(blobInfos, function (blobInfo) {\n          return uploadStatus.isPending(blobInfo.blobUri()) ? pendingUploadBlobInfo(blobInfo) : uploadBlobInfo(blobInfo, settings.handler, openNotification);\n        }));\n      };\n      var upload = function (blobInfos, openNotification) {\n        return !settings.url && isDefaultHandler(settings.handler) ? noUpload() : uploadBlobs(blobInfos, openNotification);\n      };\n      if (isFunction(settings.handler) === false) {\n        settings.handler = defaultHandler;\n      }\n      return { upload: upload };\n    };\n\n    var openNotification = function (editor) {\n      return function () {\n        return editor.notificationManager.open({\n          text: editor.translate('Image uploading...'),\n          type: 'info',\n          timeout: -1,\n          progressBar: true\n        });\n      };\n    };\n    var createUploader = function (editor, uploadStatus) {\n      return Uploader(uploadStatus, {\n        url: getImageUploadUrl(editor),\n        basePath: getImageUploadBasePath(editor),\n        credentials: getImagesUploadCredentials(editor),\n        handler: getImagesUploadHandler(editor)\n      });\n    };\n    var ImageUploader = function (editor) {\n      var uploadStatus = UploadStatus();\n      var uploader = createUploader(editor, uploadStatus);\n      return {\n        upload: function (blobInfos, showNotification) {\n          if (showNotification === void 0) {\n            showNotification = true;\n          }\n          return uploader.upload(blobInfos, showNotification ? openNotification(editor) : undefined);\n        }\n      };\n    };\n\n    var UploadChangeHandler = function (editor) {\n      var lastChangedLevel = Cell(null);\n      editor.on('change AddUndo', function (e) {\n        lastChangedLevel.set(__assign({}, e.level));\n      });\n      var fireIfChanged = function () {\n        var data = editor.undoManager.data;\n        last$2(data).filter(function (level) {\n          return !isEq$1(lastChangedLevel.get(), level);\n        }).each(function (level) {\n          editor.setDirty(true);\n          editor.fire('change', {\n            level: level,\n            lastLevel: get$a(data, data.length - 2).getOrNull()\n          });\n        });\n      };\n      return { fireIfChanged: fireIfChanged };\n    };\n    var EditorUpload = function (editor) {\n      var blobCache = BlobCache();\n      var uploader, imageScanner;\n      var uploadStatus = UploadStatus();\n      var urlFilters = [];\n      var changeHandler = UploadChangeHandler(editor);\n      var aliveGuard = function (callback) {\n        return function (result) {\n          if (editor.selection) {\n            return callback(result);\n          }\n          return [];\n        };\n      };\n      var cacheInvalidator = function (url) {\n        return url + (url.indexOf('?') === -1 ? '?' : '&') + new Date().getTime();\n      };\n      var replaceString = function (content, search, replace) {\n        var index = 0;\n        do {\n          index = content.indexOf(search, index);\n          if (index !== -1) {\n            content = content.substring(0, index) + replace + content.substr(index + search.length);\n            index += replace.length - search.length + 1;\n          }\n        } while (index !== -1);\n        return content;\n      };\n      var replaceImageUrl = function (content, targetUrl, replacementUrl) {\n        var replacementString = 'src=\"' + replacementUrl + '\"' + (replacementUrl === Env.transparentSrc ? ' data-mce-placeholder=\"1\"' : '');\n        content = replaceString(content, 'src=\"' + targetUrl + '\"', replacementString);\n        content = replaceString(content, 'data-mce-src=\"' + targetUrl + '\"', 'data-mce-src=\"' + replacementUrl + '\"');\n        return content;\n      };\n      var replaceUrlInUndoStack = function (targetUrl, replacementUrl) {\n        each$k(editor.undoManager.data, function (level) {\n          if (level.type === 'fragmented') {\n            level.fragments = map$3(level.fragments, function (fragment) {\n              return replaceImageUrl(fragment, targetUrl, replacementUrl);\n            });\n          } else {\n            level.content = replaceImageUrl(level.content, targetUrl, replacementUrl);\n          }\n        });\n      };\n      var replaceImageUriInView = function (image, resultUri) {\n        var src = editor.convertURL(resultUri, 'src');\n        replaceUrlInUndoStack(image.src, resultUri);\n        editor.$(image).attr({\n          'src': shouldReuseFileName(editor) ? cacheInvalidator(resultUri) : resultUri,\n          'data-mce-src': src\n        });\n      };\n      var uploadImages = function (callback) {\n        if (!uploader) {\n          uploader = createUploader(editor, uploadStatus);\n        }\n        return scanForImages().then(aliveGuard(function (imageInfos) {\n          var blobInfos = map$3(imageInfos, function (imageInfo) {\n            return imageInfo.blobInfo;\n          });\n          return uploader.upload(blobInfos, openNotification(editor)).then(aliveGuard(function (result) {\n            var imagesToRemove = [];\n            var filteredResult = map$3(result, function (uploadInfo, index) {\n              var blobInfo = imageInfos[index].blobInfo;\n              var image = imageInfos[index].image;\n              if (uploadInfo.status && shouldReplaceBlobUris(editor)) {\n                blobCache.removeByUri(image.src);\n                if (isRtc(editor)) ; else {\n                  replaceImageUriInView(image, uploadInfo.url);\n                }\n              } else if (uploadInfo.error) {\n                if (uploadInfo.error.options.remove) {\n                  replaceUrlInUndoStack(image.getAttribute('src'), Env.transparentSrc);\n                  imagesToRemove.push(image);\n                }\n                uploadError(editor, uploadInfo.error.message);\n              }\n              return {\n                element: image,\n                status: uploadInfo.status,\n                uploadUri: uploadInfo.url,\n                blobInfo: blobInfo\n              };\n            });\n            if (filteredResult.length > 0) {\n              changeHandler.fireIfChanged();\n            }\n            if (imagesToRemove.length > 0) {\n              if (isRtc(editor)) {\n                console.error('Removing images on failed uploads is currently unsupported for RTC');\n              } else {\n                editor.undoManager.transact(function () {\n                  each$k(imagesToRemove, function (element) {\n                    editor.dom.remove(element);\n                    blobCache.removeByUri(element.src);\n                  });\n                });\n              }\n            }\n            if (callback) {\n              callback(filteredResult);\n            }\n            return filteredResult;\n          }));\n        }));\n      };\n      var uploadImagesAuto = function (callback) {\n        if (isAutomaticUploadsEnabled(editor)) {\n          return uploadImages(callback);\n        }\n      };\n      var isValidDataUriImage = function (imgElm) {\n        if (forall(urlFilters, function (filter) {\n            return filter(imgElm);\n          }) === false) {\n          return false;\n        }\n        if (imgElm.getAttribute('src').indexOf('data:') === 0) {\n          var dataImgFilter = getImagesDataImgFilter(editor);\n          return dataImgFilter(imgElm);\n        }\n        return true;\n      };\n      var addFilter = function (filter) {\n        urlFilters.push(filter);\n      };\n      var scanForImages = function () {\n        if (!imageScanner) {\n          imageScanner = ImageScanner(uploadStatus, blobCache);\n        }\n        return imageScanner.findAll(editor.getBody(), isValidDataUriImage).then(aliveGuard(function (result) {\n          result = filter$4(result, function (resultItem) {\n            if (typeof resultItem === 'string') {\n              displayError(editor, resultItem);\n              return false;\n            }\n            return true;\n          });\n          if (isRtc(editor)) ; else {\n            each$k(result, function (resultItem) {\n              replaceUrlInUndoStack(resultItem.image.src, resultItem.blobInfo.blobUri());\n              resultItem.image.src = resultItem.blobInfo.blobUri();\n              resultItem.image.removeAttribute('data-mce-src');\n            });\n          }\n          return result;\n        }));\n      };\n      var destroy = function () {\n        blobCache.destroy();\n        uploadStatus.destroy();\n        imageScanner = uploader = null;\n      };\n      var replaceBlobUris = function (content) {\n        return content.replace(/src=\"(blob:[^\"]+)\"/g, function (match, blobUri) {\n          var resultUri = uploadStatus.getResultUri(blobUri);\n          if (resultUri) {\n            return 'src=\"' + resultUri + '\"';\n          }\n          var blobInfo = blobCache.getByUri(blobUri);\n          if (!blobInfo) {\n            blobInfo = foldl(editor.editorManager.get(), function (result, editor) {\n              return result || editor.editorUpload && editor.editorUpload.blobCache.getByUri(blobUri);\n            }, null);\n          }\n          if (blobInfo) {\n            var blob = blobInfo.blob();\n            return 'src=\"data:' + blob.type + ';base64,' + blobInfo.base64() + '\"';\n          }\n          return match;\n        });\n      };\n      editor.on('SetContent', function () {\n        if (isAutomaticUploadsEnabled(editor)) {\n          uploadImagesAuto();\n        } else {\n          scanForImages();\n        }\n      });\n      editor.on('RawSaveContent', function (e) {\n        e.content = replaceBlobUris(e.content);\n      });\n      editor.on('GetContent', function (e) {\n        if (e.source_view || e.format === 'raw' || e.format === 'tree') {\n          return;\n        }\n        e.content = replaceBlobUris(e.content);\n      });\n      editor.on('PostRender', function () {\n        editor.parser.addNodeFilter('img', function (images) {\n          each$k(images, function (img) {\n            var src = img.attr('src');\n            if (blobCache.getByUri(src)) {\n              return;\n            }\n            var resultUri = uploadStatus.getResultUri(src);\n            if (resultUri) {\n              img.attr('src', resultUri);\n            }\n          });\n        });\n      });\n      return {\n        blobCache: blobCache,\n        addFilter: addFilter,\n        uploadImages: uploadImages,\n        uploadImagesAuto: uploadImagesAuto,\n        scanForImages: scanForImages,\n        destroy: destroy\n      };\n    };\n\n    var get = function (dom) {\n      var formats = {\n        valigntop: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'top' }\n          }],\n        valignmiddle: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'middle' }\n          }],\n        valignbottom: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'bottom' }\n          }],\n        alignleft: [\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-left',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n            styles: { textAlign: 'left' },\n            inherit: false,\n            preview: false,\n            defaultBlock: 'div'\n          },\n          {\n            selector: 'img,table,audio,video',\n            collapsed: false,\n            styles: { float: 'left' },\n            preview: 'font-family font-size'\n          }\n        ],\n        aligncenter: [\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n            styles: { textAlign: 'center' },\n            inherit: false,\n            preview: 'font-family font-size',\n            defaultBlock: 'div'\n          },\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-center',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'img,audio,video',\n            collapsed: false,\n            styles: {\n              display: 'block',\n              marginLeft: 'auto',\n              marginRight: 'auto'\n            },\n            preview: false\n          },\n          {\n            selector: 'table',\n            collapsed: false,\n            styles: {\n              marginLeft: 'auto',\n              marginRight: 'auto'\n            },\n            preview: 'font-family font-size'\n          }\n        ],\n        alignright: [\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-right',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n            styles: { textAlign: 'right' },\n            inherit: false,\n            preview: 'font-family font-size',\n            defaultBlock: 'div'\n          },\n          {\n            selector: 'img,table,audio,video',\n            collapsed: false,\n            styles: { float: 'right' },\n            preview: 'font-family font-size'\n          }\n        ],\n        alignjustify: [{\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n            styles: { textAlign: 'justify' },\n            inherit: false,\n            defaultBlock: 'div',\n            preview: 'font-family font-size'\n          }],\n        bold: [\n          {\n            inline: 'strong',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          },\n          {\n            inline: 'span',\n            styles: { fontWeight: 'bold' }\n          },\n          {\n            inline: 'b',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        italic: [\n          {\n            inline: 'em',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          },\n          {\n            inline: 'span',\n            styles: { fontStyle: 'italic' }\n          },\n          {\n            inline: 'i',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        underline: [\n          {\n            inline: 'span',\n            styles: { textDecoration: 'underline' },\n            exact: true\n          },\n          {\n            inline: 'u',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        strikethrough: [\n          {\n            inline: 'span',\n            styles: { textDecoration: 'line-through' },\n            exact: true\n          },\n          {\n            inline: 'strike',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          },\n          {\n            inline: 's',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        forecolor: {\n          inline: 'span',\n          styles: { color: '%value' },\n          links: true,\n          remove_similar: true,\n          clear_child_styles: true\n        },\n        hilitecolor: {\n          inline: 'span',\n          styles: { backgroundColor: '%value' },\n          links: true,\n          remove_similar: true,\n          clear_child_styles: true\n        },\n        fontname: {\n          inline: 'span',\n          toggle: false,\n          styles: { fontFamily: '%value' },\n          clear_child_styles: true\n        },\n        fontsize: {\n          inline: 'span',\n          toggle: false,\n          styles: { fontSize: '%value' },\n          clear_child_styles: true\n        },\n        lineheight: {\n          selector: 'h1,h2,h3,h4,h5,h6,p,li,td,th,div',\n          defaultBlock: 'p',\n          styles: { lineHeight: '%value' }\n        },\n        fontsize_class: {\n          inline: 'span',\n          attributes: { class: '%value' }\n        },\n        blockquote: {\n          block: 'blockquote',\n          wrapper: true,\n          remove: 'all'\n        },\n        subscript: { inline: 'sub' },\n        superscript: { inline: 'sup' },\n        code: { inline: 'code' },\n        link: {\n          inline: 'a',\n          selector: 'a',\n          remove: 'all',\n          split: true,\n          deep: true,\n          onmatch: function (node, _fmt, _itemName) {\n            return isElement$5(node) && node.hasAttribute('href');\n          },\n          onformat: function (elm, _fmt, vars) {\n            Tools.each(vars, function (value, key) {\n              dom.setAttrib(elm, key, value);\n            });\n          }\n        },\n        lang: {\n          inline: 'span',\n          clear_child_styles: true,\n          remove_similar: true,\n          attributes: {\n            'lang': '%value',\n            'data-mce-lang': function (vars) {\n              var _a;\n              return (_a = vars === null || vars === void 0 ? void 0 : vars.customValue) !== null && _a !== void 0 ? _a : null;\n            }\n          }\n        },\n        removeformat: [\n          {\n            selector: 'b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small',\n            remove: 'all',\n            split: true,\n            expand: false,\n            block_expand: true,\n            deep: true\n          },\n          {\n            selector: 'span',\n            attributes: [\n              'style',\n              'class'\n            ],\n            remove: 'empty',\n            split: true,\n            expand: false,\n            deep: true\n          },\n          {\n            selector: '*',\n            attributes: [\n              'style',\n              'class'\n            ],\n            split: false,\n            expand: false,\n            deep: true\n          }\n        ]\n      };\n      Tools.each('p h1 h2 h3 h4 h5 h6 div address pre dt dd samp'.split(/\\s/), function (name) {\n        formats[name] = {\n          block: name,\n          remove: 'all'\n        };\n      });\n      return formats;\n    };\n\n    var FormatRegistry = function (editor) {\n      var formats = {};\n      var get$1 = function (name) {\n        return isNonNullable(name) ? formats[name] : formats;\n      };\n      var has = function (name) {\n        return has$2(formats, name);\n      };\n      var register = function (name, format) {\n        if (name) {\n          if (!isString$1(name)) {\n            each$j(name, function (format, name) {\n              register(name, format);\n            });\n          } else {\n            if (!isArray$1(format)) {\n              format = [format];\n            }\n            each$k(format, function (format) {\n              if (isUndefined(format.deep)) {\n                format.deep = !isSelectorFormat(format);\n              }\n              if (isUndefined(format.split)) {\n                format.split = !isSelectorFormat(format) || isInlineFormat(format);\n              }\n              if (isUndefined(format.remove) && isSelectorFormat(format) && !isInlineFormat(format)) {\n                format.remove = 'none';\n              }\n              if (isSelectorFormat(format) && isInlineFormat(format)) {\n                format.mixed = true;\n                format.block_expand = true;\n              }\n              if (isString$1(format.classes)) {\n                format.classes = format.classes.split(/\\s+/);\n              }\n            });\n            formats[name] = format;\n          }\n        }\n      };\n      var unregister = function (name) {\n        if (name && formats[name]) {\n          delete formats[name];\n        }\n        return formats;\n      };\n      register(get(editor.dom));\n      register(getFormats(editor));\n      return {\n        get: get$1,\n        has: has,\n        register: register,\n        unregister: unregister\n      };\n    };\n\n    var each$5 = Tools.each;\n    var dom = DOMUtils.DOM;\n    var parsedSelectorToHtml = function (ancestry, editor) {\n      var elm, item, fragment;\n      var schema = editor && editor.schema || Schema({});\n      var decorate = function (elm, item) {\n        if (item.classes.length) {\n          dom.addClass(elm, item.classes.join(' '));\n        }\n        dom.setAttribs(elm, item.attrs);\n      };\n      var createElement = function (sItem) {\n        item = typeof sItem === 'string' ? {\n          name: sItem,\n          classes: [],\n          attrs: {}\n        } : sItem;\n        var elm = dom.create(item.name);\n        decorate(elm, item);\n        return elm;\n      };\n      var getRequiredParent = function (elm, candidate) {\n        var name = typeof elm !== 'string' ? elm.nodeName.toLowerCase() : elm;\n        var elmRule = schema.getElementRule(name);\n        var parentsRequired = elmRule && elmRule.parentsRequired;\n        if (parentsRequired && parentsRequired.length) {\n          return candidate && Tools.inArray(parentsRequired, candidate) !== -1 ? candidate : parentsRequired[0];\n        } else {\n          return false;\n        }\n      };\n      var wrapInHtml = function (elm, ancestry, siblings) {\n        var parent, parentCandidate;\n        var ancestor = ancestry.length > 0 && ancestry[0];\n        var ancestorName = ancestor && ancestor.name;\n        var parentRequired = getRequiredParent(elm, ancestorName);\n        if (parentRequired) {\n          if (ancestorName === parentRequired) {\n            parentCandidate = ancestry[0];\n            ancestry = ancestry.slice(1);\n          } else {\n            parentCandidate = parentRequired;\n          }\n        } else if (ancestor) {\n          parentCandidate = ancestry[0];\n          ancestry = ancestry.slice(1);\n        } else if (!siblings) {\n          return elm;\n        }\n        if (parentCandidate) {\n          parent = createElement(parentCandidate);\n          parent.appendChild(elm);\n        }\n        if (siblings) {\n          if (!parent) {\n            parent = dom.create('div');\n            parent.appendChild(elm);\n          }\n          Tools.each(siblings, function (sibling) {\n            var siblingElm = createElement(sibling);\n            parent.insertBefore(siblingElm, elm);\n          });\n        }\n        return wrapInHtml(parent, ancestry, parentCandidate && parentCandidate.siblings);\n      };\n      if (ancestry && ancestry.length) {\n        item = ancestry[0];\n        elm = createElement(item);\n        fragment = dom.create('div');\n        fragment.appendChild(wrapInHtml(elm, ancestry.slice(1), item.siblings));\n        return fragment;\n      } else {\n        return '';\n      }\n    };\n    var parseSelectorItem = function (item) {\n      var tagName;\n      var obj = {\n        classes: [],\n        attrs: {}\n      };\n      item = obj.selector = Tools.trim(item);\n      if (item !== '*') {\n        tagName = item.replace(/(?:([#\\.]|::?)([\\w\\-]+)|(\\[)([^\\]]+)\\]?)/g, function ($0, $1, $2, $3, $4) {\n          switch ($1) {\n          case '#':\n            obj.attrs.id = $2;\n            break;\n          case '.':\n            obj.classes.push($2);\n            break;\n          case ':':\n            if (Tools.inArray('checked disabled enabled read-only required'.split(' '), $2) !== -1) {\n              obj.attrs[$2] = $2;\n            }\n            break;\n          }\n          if ($3 === '[') {\n            var m = $4.match(/([\\w\\-]+)(?:\\=\\\"([^\\\"]+))?/);\n            if (m) {\n              obj.attrs[m[1]] = m[2];\n            }\n          }\n          return '';\n        });\n      }\n      obj.name = tagName || 'div';\n      return obj;\n    };\n    var parseSelector = function (selector) {\n      if (!selector || typeof selector !== 'string') {\n        return [];\n      }\n      selector = selector.split(/\\s*,\\s*/)[0];\n      selector = selector.replace(/\\s*(~\\+|~|\\+|>)\\s*/g, '$1');\n      return Tools.map(selector.split(/(?:>|\\s+(?![^\\[\\]]+\\]))/), function (item) {\n        var siblings = Tools.map(item.split(/(?:~\\+|~|\\+)/), parseSelectorItem);\n        var obj = siblings.pop();\n        if (siblings.length) {\n          obj.siblings = siblings;\n        }\n        return obj;\n      }).reverse();\n    };\n    var getCssText = function (editor, format) {\n      var name, previewFrag;\n      var previewCss = '', parentFontSize;\n      var previewStyles = getPreviewStyles(editor);\n      if (previewStyles === '') {\n        return '';\n      }\n      var removeVars = function (val) {\n        return val.replace(/%(\\w+)/g, '');\n      };\n      if (typeof format === 'string') {\n        format = editor.formatter.get(format);\n        if (!format) {\n          return;\n        }\n        format = format[0];\n      }\n      if ('preview' in format) {\n        var previewOpt = get$9(format, 'preview');\n        if (is$1(previewOpt, false)) {\n          return '';\n        } else {\n          previewStyles = previewOpt.getOr(previewStyles);\n        }\n      }\n      name = format.block || format.inline || 'span';\n      var items = parseSelector(format.selector);\n      if (items.length) {\n        if (!items[0].name) {\n          items[0].name = name;\n        }\n        name = format.selector;\n        previewFrag = parsedSelectorToHtml(items, editor);\n      } else {\n        previewFrag = parsedSelectorToHtml([name], editor);\n      }\n      var previewElm = dom.select(name, previewFrag)[0] || previewFrag.firstChild;\n      each$5(format.styles, function (value, name) {\n        var newValue = removeVars(value);\n        if (newValue) {\n          dom.setStyle(previewElm, name, newValue);\n        }\n      });\n      each$5(format.attributes, function (value, name) {\n        var newValue = removeVars(value);\n        if (newValue) {\n          dom.setAttrib(previewElm, name, newValue);\n        }\n      });\n      each$5(format.classes, function (value) {\n        var newValue = removeVars(value);\n        if (!dom.hasClass(previewElm, newValue)) {\n          dom.addClass(previewElm, newValue);\n        }\n      });\n      editor.fire('PreviewFormats');\n      dom.setStyles(previewFrag, {\n        position: 'absolute',\n        left: -65535\n      });\n      editor.getBody().appendChild(previewFrag);\n      parentFontSize = dom.getStyle(editor.getBody(), 'fontSize', true);\n      parentFontSize = /px$/.test(parentFontSize) ? parseInt(parentFontSize, 10) : 0;\n      each$5(previewStyles.split(' '), function (name) {\n        var value = dom.getStyle(previewElm, name, true);\n        if (name === 'background-color' && /transparent|rgba\\s*\\([^)]+,\\s*0\\)/.test(value)) {\n          value = dom.getStyle(editor.getBody(), name, true);\n          if (dom.toHex(value).toLowerCase() === '#ffffff') {\n            return;\n          }\n        }\n        if (name === 'color') {\n          if (dom.toHex(value).toLowerCase() === '#000000') {\n            return;\n          }\n        }\n        if (name === 'font-size') {\n          if (/em|%$/.test(value)) {\n            if (parentFontSize === 0) {\n              return;\n            }\n            var numValue = parseFloat(value) / (/%$/.test(value) ? 100 : 1);\n            value = numValue * parentFontSize + 'px';\n          }\n        }\n        if (name === 'border' && value) {\n          previewCss += 'padding:0 2px;';\n        }\n        previewCss += name + ':' + value + ';';\n      });\n      editor.fire('AfterPreviewFormats');\n      dom.remove(previewFrag);\n      return previewCss;\n    };\n\n    var setup$h = function (editor) {\n      editor.addShortcut('meta+b', '', 'Bold');\n      editor.addShortcut('meta+i', '', 'Italic');\n      editor.addShortcut('meta+u', '', 'Underline');\n      for (var i = 1; i <= 6; i++) {\n        editor.addShortcut('access+' + i, '', [\n          'FormatBlock',\n          false,\n          'h' + i\n        ]);\n      }\n      editor.addShortcut('access+7', '', [\n        'FormatBlock',\n        false,\n        'p'\n      ]);\n      editor.addShortcut('access+8', '', [\n        'FormatBlock',\n        false,\n        'div'\n      ]);\n      editor.addShortcut('access+9', '', [\n        'FormatBlock',\n        false,\n        'address'\n      ]);\n    };\n\n    var Formatter = function (editor) {\n      var formats = FormatRegistry(editor);\n      var formatChangeState = Cell(null);\n      setup$h(editor);\n      setup$k(editor);\n      return {\n        get: formats.get,\n        has: formats.has,\n        register: formats.register,\n        unregister: formats.unregister,\n        apply: function (name, vars, node) {\n          applyFormat(editor, name, vars, node);\n        },\n        remove: function (name, vars, node, similar) {\n          removeFormat(editor, name, vars, node, similar);\n        },\n        toggle: function (name, vars, node) {\n          toggleFormat(editor, name, vars, node);\n        },\n        match: function (name, vars, node, similar) {\n          return matchFormat(editor, name, vars, node, similar);\n        },\n        closest: function (names) {\n          return closestFormat(editor, names);\n        },\n        matchAll: function (names, vars) {\n          return matchAllFormats(editor, names, vars);\n        },\n        matchNode: function (node, name, vars, similar) {\n          return matchNodeFormat(editor, node, name, vars, similar);\n        },\n        canApply: function (name) {\n          return canApplyFormat(editor, name);\n        },\n        formatChanged: function (formats, callback, similar, vars) {\n          return formatChanged(editor, formatChangeState, formats, callback, similar, vars);\n        },\n        getCssText: curry(getCssText, editor)\n      };\n    };\n\n    var shouldIgnoreCommand = function (cmd) {\n      switch (cmd.toLowerCase()) {\n      case 'undo':\n      case 'redo':\n      case 'mcerepaint':\n      case 'mcefocus':\n        return true;\n      default:\n        return false;\n      }\n    };\n    var registerEvents = function (editor, undoManager, locks) {\n      var isFirstTypedCharacter = Cell(false);\n      var addNonTypingUndoLevel = function (e) {\n        setTyping(undoManager, false, locks);\n        undoManager.add({}, e);\n      };\n      editor.on('init', function () {\n        undoManager.add();\n      });\n      editor.on('BeforeExecCommand', function (e) {\n        var cmd = e.command;\n        if (!shouldIgnoreCommand(cmd)) {\n          endTyping(undoManager, locks);\n          undoManager.beforeChange();\n        }\n      });\n      editor.on('ExecCommand', function (e) {\n        var cmd = e.command;\n        if (!shouldIgnoreCommand(cmd)) {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      editor.on('ObjectResizeStart cut', function () {\n        undoManager.beforeChange();\n      });\n      editor.on('SaveContent ObjectResized blur', addNonTypingUndoLevel);\n      editor.on('dragend', addNonTypingUndoLevel);\n      editor.on('keyup', function (e) {\n        var keyCode = e.keyCode;\n        if (e.isDefaultPrevented()) {\n          return;\n        }\n        if (keyCode >= 33 && keyCode <= 36 || keyCode >= 37 && keyCode <= 40 || keyCode === 45 || e.ctrlKey) {\n          addNonTypingUndoLevel();\n          editor.nodeChanged();\n        }\n        if (keyCode === 46 || keyCode === 8) {\n          editor.nodeChanged();\n        }\n        if (isFirstTypedCharacter.get() && undoManager.typing && isEq$1(createFromEditor(editor), undoManager.data[0]) === false) {\n          if (editor.isDirty() === false) {\n            editor.setDirty(true);\n            editor.fire('change', {\n              level: undoManager.data[0],\n              lastLevel: null\n            });\n          }\n          editor.fire('TypingUndo');\n          isFirstTypedCharacter.set(false);\n          editor.nodeChanged();\n        }\n      });\n      editor.on('keydown', function (e) {\n        var keyCode = e.keyCode;\n        if (e.isDefaultPrevented()) {\n          return;\n        }\n        if (keyCode >= 33 && keyCode <= 36 || keyCode >= 37 && keyCode <= 40 || keyCode === 45) {\n          if (undoManager.typing) {\n            addNonTypingUndoLevel(e);\n          }\n          return;\n        }\n        var modKey = e.ctrlKey && !e.altKey || e.metaKey;\n        if ((keyCode < 16 || keyCode > 20) && keyCode !== 224 && keyCode !== 91 && !undoManager.typing && !modKey) {\n          undoManager.beforeChange();\n          setTyping(undoManager, true, locks);\n          undoManager.add({}, e);\n          isFirstTypedCharacter.set(true);\n        }\n      });\n      editor.on('mousedown', function (e) {\n        if (undoManager.typing) {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      var isInsertReplacementText = function (event) {\n        return event.inputType === 'insertReplacementText';\n      };\n      var isInsertTextDataNull = function (event) {\n        return event.inputType === 'insertText' && event.data === null;\n      };\n      var isInsertFromPasteOrDrop = function (event) {\n        return event.inputType === 'insertFromPaste' || event.inputType === 'insertFromDrop';\n      };\n      editor.on('input', function (e) {\n        if (e.inputType && (isInsertReplacementText(e) || isInsertTextDataNull(e) || isInsertFromPasteOrDrop(e))) {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      editor.on('AddUndo Undo Redo ClearUndos', function (e) {\n        if (!e.isDefaultPrevented()) {\n          editor.nodeChanged();\n        }\n      });\n    };\n    var addKeyboardShortcuts = function (editor) {\n      editor.addShortcut('meta+z', '', 'Undo');\n      editor.addShortcut('meta+y,meta+shift+z', '', 'Redo');\n    };\n\n    var UndoManager = function (editor) {\n      var beforeBookmark = value();\n      var locks = Cell(0);\n      var index = Cell(0);\n      var undoManager = {\n        data: [],\n        typing: false,\n        beforeChange: function () {\n          beforeChange(editor, locks, beforeBookmark);\n        },\n        add: function (level, event) {\n          return addUndoLevel(editor, undoManager, index, locks, beforeBookmark, level, event);\n        },\n        undo: function () {\n          return undo(editor, undoManager, locks, index);\n        },\n        redo: function () {\n          return redo(editor, index, undoManager.data);\n        },\n        clear: function () {\n          clear(editor, undoManager, index);\n        },\n        reset: function () {\n          reset(editor, undoManager);\n        },\n        hasUndo: function () {\n          return hasUndo(editor, undoManager, index);\n        },\n        hasRedo: function () {\n          return hasRedo(editor, undoManager, index);\n        },\n        transact: function (callback) {\n          return transact(editor, undoManager, locks, callback);\n        },\n        ignore: function (callback) {\n          ignore(editor, locks, callback);\n        },\n        extra: function (callback1, callback2) {\n          extra(editor, undoManager, index, callback1, callback2);\n        }\n      };\n      if (!isRtc(editor)) {\n        registerEvents(editor, undoManager, locks);\n      }\n      addKeyboardShortcuts(editor);\n      return undoManager;\n    };\n\n    var nonTypingKeycodes = [\n      9,\n      27,\n      VK.HOME,\n      VK.END,\n      19,\n      20,\n      44,\n      144,\n      145,\n      33,\n      34,\n      45,\n      16,\n      17,\n      18,\n      91,\n      92,\n      93,\n      VK.DOWN,\n      VK.UP,\n      VK.LEFT,\n      VK.RIGHT\n    ].concat(Env.browser.isFirefox() ? [224] : []);\n    var placeholderAttr = 'data-mce-placeholder';\n    var isKeyboardEvent = function (e) {\n      return e.type === 'keydown' || e.type === 'keyup';\n    };\n    var isDeleteEvent = function (e) {\n      var keyCode = e.keyCode;\n      return keyCode === VK.BACKSPACE || keyCode === VK.DELETE;\n    };\n    var isNonTypingKeyboardEvent = function (e) {\n      if (isKeyboardEvent(e)) {\n        var keyCode = e.keyCode;\n        return !isDeleteEvent(e) && (VK.metaKeyPressed(e) || e.altKey || keyCode >= 112 && keyCode <= 123 || contains$3(nonTypingKeycodes, keyCode));\n      } else {\n        return false;\n      }\n    };\n    var isTypingKeyboardEvent = function (e) {\n      return isKeyboardEvent(e) && !(isDeleteEvent(e) || e.type === 'keyup' && e.keyCode === 229);\n    };\n    var isVisuallyEmpty = function (dom, rootElm, forcedRootBlock) {\n      if (isEmpty$2(SugarElement.fromDom(rootElm), false)) {\n        var isForcedRootBlockFalse = forcedRootBlock === '';\n        var firstElement = rootElm.firstElementChild;\n        if (!firstElement) {\n          return true;\n        } else if (dom.getStyle(rootElm.firstElementChild, 'padding-left') || dom.getStyle(rootElm.firstElementChild, 'padding-right')) {\n          return false;\n        } else {\n          return isForcedRootBlockFalse ? !dom.isBlock(firstElement) : forcedRootBlock === firstElement.nodeName.toLowerCase();\n        }\n      } else {\n        return false;\n      }\n    };\n    var setup$g = function (editor) {\n      var dom = editor.dom;\n      var rootBlock = getForcedRootBlock(editor);\n      var placeholder = getPlaceholder(editor);\n      var updatePlaceholder = function (e, initial) {\n        if (isNonTypingKeyboardEvent(e)) {\n          return;\n        }\n        var body = editor.getBody();\n        var showPlaceholder = isTypingKeyboardEvent(e) ? false : isVisuallyEmpty(dom, body, rootBlock);\n        var isPlaceholderShown = dom.getAttrib(body, placeholderAttr) !== '';\n        if (isPlaceholderShown !== showPlaceholder || initial) {\n          dom.setAttrib(body, placeholderAttr, showPlaceholder ? placeholder : null);\n          dom.setAttrib(body, 'aria-placeholder', showPlaceholder ? placeholder : null);\n          firePlaceholderToggle(editor, showPlaceholder);\n          editor.on(showPlaceholder ? 'keydown' : 'keyup', updatePlaceholder);\n          editor.off(showPlaceholder ? 'keyup' : 'keydown', updatePlaceholder);\n        }\n      };\n      if (placeholder) {\n        editor.on('init', function (e) {\n          updatePlaceholder(e, true);\n          editor.on('change SetContent ExecCommand', updatePlaceholder);\n          editor.on('paste', function (e) {\n            return Delay.setEditorTimeout(editor, function () {\n              return updatePlaceholder(e);\n            });\n          });\n        });\n      }\n    };\n\n    var strongRtl = /[\\u0591-\\u07FF\\uFB1D-\\uFDFF\\uFE70-\\uFEFC]/;\n    var hasStrongRtl = function (text) {\n      return strongRtl.test(text);\n    };\n\n    var isInlineTarget = function (editor, elm) {\n      return is$2(SugarElement.fromDom(elm), getInlineBoundarySelector(editor));\n    };\n    var isRtl = function (element) {\n      return DOMUtils.DOM.getStyle(element, 'direction', true) === 'rtl' || hasStrongRtl(element.textContent);\n    };\n    var findInlineParents = function (isInlineTarget, rootNode, pos) {\n      return filter$4(DOMUtils.DOM.getParents(pos.container(), '*', rootNode), isInlineTarget);\n    };\n    var findRootInline = function (isInlineTarget, rootNode, pos) {\n      var parents = findInlineParents(isInlineTarget, rootNode, pos);\n      return Optional.from(parents[parents.length - 1]);\n    };\n    var hasSameParentBlock = function (rootNode, node1, node2) {\n      var block1 = getParentBlock$2(node1, rootNode);\n      var block2 = getParentBlock$2(node2, rootNode);\n      return block1 && block1 === block2;\n    };\n    var isAtZwsp = function (pos) {\n      return isBeforeInline(pos) || isAfterInline(pos);\n    };\n    var normalizePosition = function (forward, pos) {\n      if (!pos) {\n        return pos;\n      }\n      var container = pos.container(), offset = pos.offset();\n      if (forward) {\n        if (isCaretContainerInline(container)) {\n          if (isText$7(container.nextSibling)) {\n            return CaretPosition(container.nextSibling, 0);\n          } else {\n            return CaretPosition.after(container);\n          }\n        } else {\n          return isBeforeInline(pos) ? CaretPosition(container, offset + 1) : pos;\n        }\n      } else {\n        if (isCaretContainerInline(container)) {\n          if (isText$7(container.previousSibling)) {\n            return CaretPosition(container.previousSibling, container.previousSibling.data.length);\n          } else {\n            return CaretPosition.before(container);\n          }\n        } else {\n          return isAfterInline(pos) ? CaretPosition(container, offset - 1) : pos;\n        }\n      }\n    };\n    var normalizeForwards = curry(normalizePosition, true);\n    var normalizeBackwards = curry(normalizePosition, false);\n\n    var isBeforeRoot = function (rootNode) {\n      return function (elm) {\n        return eq(rootNode, SugarElement.fromDom(elm.dom.parentNode));\n      };\n    };\n    var isTextBlockOrListItem = function (element) {\n      return isTextBlock$2(element) || isListItem(element);\n    };\n    var getParentBlock$1 = function (rootNode, elm) {\n      if (contains$1(rootNode, elm)) {\n        return closest$3(elm, isTextBlockOrListItem, isBeforeRoot(rootNode));\n      } else {\n        return Optional.none();\n      }\n    };\n    var placeCaretInEmptyBody = function (editor) {\n      var body = editor.getBody();\n      var node = body.firstChild && editor.dom.isBlock(body.firstChild) ? body.firstChild : body;\n      editor.selection.setCursorLocation(node, 0);\n    };\n    var paddEmptyBody = function (editor) {\n      if (editor.dom.isEmpty(editor.getBody())) {\n        editor.setContent('');\n        placeCaretInEmptyBody(editor);\n      }\n    };\n    var willDeleteLastPositionInElement = function (forward, fromPos, elm) {\n      return lift2(firstPositionIn(elm), lastPositionIn(elm), function (firstPos, lastPos) {\n        var normalizedFirstPos = normalizePosition(true, firstPos);\n        var normalizedLastPos = normalizePosition(false, lastPos);\n        var normalizedFromPos = normalizePosition(false, fromPos);\n        if (forward) {\n          return nextPosition(elm, normalizedFromPos).exists(function (nextPos) {\n            return nextPos.isEqual(normalizedLastPos) && fromPos.isEqual(normalizedFirstPos);\n          });\n        } else {\n          return prevPosition(elm, normalizedFromPos).exists(function (prevPos) {\n            return prevPos.isEqual(normalizedFirstPos) && fromPos.isEqual(normalizedLastPos);\n          });\n        }\n      }).getOr(true);\n    };\n\n    var blockPosition = function (block, position) {\n      return {\n        block: block,\n        position: position\n      };\n    };\n    var blockBoundary = function (from, to) {\n      return {\n        from: from,\n        to: to\n      };\n    };\n    var getBlockPosition = function (rootNode, pos) {\n      var rootElm = SugarElement.fromDom(rootNode);\n      var containerElm = SugarElement.fromDom(pos.container());\n      return getParentBlock$1(rootElm, containerElm).map(function (block) {\n        return blockPosition(block, pos);\n      });\n    };\n    var isDifferentBlocks = function (blockBoundary) {\n      return eq(blockBoundary.from.block, blockBoundary.to.block) === false;\n    };\n    var hasSameParent = function (blockBoundary) {\n      return parent(blockBoundary.from.block).bind(function (parent1) {\n        return parent(blockBoundary.to.block).filter(function (parent2) {\n          return eq(parent1, parent2);\n        });\n      }).isSome();\n    };\n    var isEditable$1 = function (blockBoundary) {\n      return isContentEditableFalse$b(blockBoundary.from.block.dom) === false && isContentEditableFalse$b(blockBoundary.to.block.dom) === false;\n    };\n    var skipLastBr = function (rootNode, forward, blockPosition) {\n      if (isBr$5(blockPosition.position.getNode()) && isEmpty$2(blockPosition.block) === false) {\n        return positionIn(false, blockPosition.block.dom).bind(function (lastPositionInBlock) {\n          if (lastPositionInBlock.isEqual(blockPosition.position)) {\n            return fromPosition(forward, rootNode, lastPositionInBlock).bind(function (to) {\n              return getBlockPosition(rootNode, to);\n            });\n          } else {\n            return Optional.some(blockPosition);\n          }\n        }).getOr(blockPosition);\n      } else {\n        return blockPosition;\n      }\n    };\n    var readFromRange = function (rootNode, forward, rng) {\n      var fromBlockPos = getBlockPosition(rootNode, CaretPosition.fromRangeStart(rng));\n      var toBlockPos = fromBlockPos.bind(function (blockPos) {\n        return fromPosition(forward, rootNode, blockPos.position).bind(function (to) {\n          return getBlockPosition(rootNode, to).map(function (blockPos) {\n            return skipLastBr(rootNode, forward, blockPos);\n          });\n        });\n      });\n      return lift2(fromBlockPos, toBlockPos, blockBoundary).filter(function (blockBoundary) {\n        return isDifferentBlocks(blockBoundary) && hasSameParent(blockBoundary) && isEditable$1(blockBoundary);\n      });\n    };\n    var read$1 = function (rootNode, forward, rng) {\n      return rng.collapsed ? readFromRange(rootNode, forward, rng) : Optional.none();\n    };\n\n    var getChildrenUntilBlockBoundary = function (block) {\n      var children$1 = children(block);\n      return findIndex$2(children$1, isBlock$2).fold(constant(children$1), function (index) {\n        return children$1.slice(0, index);\n      });\n    };\n    var extractChildren = function (block) {\n      var children = getChildrenUntilBlockBoundary(block);\n      each$k(children, remove$7);\n      return children;\n    };\n    var removeEmptyRoot = function (rootNode, block) {\n      var parents = parentsAndSelf(block, rootNode);\n      return find$3(parents.reverse(), function (element) {\n        return isEmpty$2(element);\n      }).each(remove$7);\n    };\n    var isEmptyBefore = function (el) {\n      return filter$4(prevSiblings(el), function (el) {\n        return !isEmpty$2(el);\n      }).length === 0;\n    };\n    var nestedBlockMerge = function (rootNode, fromBlock, toBlock, insertionPoint) {\n      if (isEmpty$2(toBlock)) {\n        fillWithPaddingBr(toBlock);\n        return firstPositionIn(toBlock.dom);\n      }\n      if (isEmptyBefore(insertionPoint) && isEmpty$2(fromBlock)) {\n        before$4(insertionPoint, SugarElement.fromTag('br'));\n      }\n      var position = prevPosition(toBlock.dom, CaretPosition.before(insertionPoint.dom));\n      each$k(extractChildren(fromBlock), function (child) {\n        before$4(insertionPoint, child);\n      });\n      removeEmptyRoot(rootNode, fromBlock);\n      return position;\n    };\n    var sidelongBlockMerge = function (rootNode, fromBlock, toBlock) {\n      if (isEmpty$2(toBlock)) {\n        remove$7(toBlock);\n        if (isEmpty$2(fromBlock)) {\n          fillWithPaddingBr(fromBlock);\n        }\n        return firstPositionIn(fromBlock.dom);\n      }\n      var position = lastPositionIn(toBlock.dom);\n      each$k(extractChildren(fromBlock), function (child) {\n        append$1(toBlock, child);\n      });\n      removeEmptyRoot(rootNode, fromBlock);\n      return position;\n    };\n    var findInsertionPoint = function (toBlock, block) {\n      var parentsAndSelf$1 = parentsAndSelf(block, toBlock);\n      return Optional.from(parentsAndSelf$1[parentsAndSelf$1.length - 1]);\n    };\n    var getInsertionPoint = function (fromBlock, toBlock) {\n      return contains$1(toBlock, fromBlock) ? findInsertionPoint(toBlock, fromBlock) : Optional.none();\n    };\n    var trimBr = function (first, block) {\n      positionIn(first, block.dom).map(function (position) {\n        return position.getNode();\n      }).map(SugarElement.fromDom).filter(isBr$4).each(remove$7);\n    };\n    var mergeBlockInto = function (rootNode, fromBlock, toBlock) {\n      trimBr(true, fromBlock);\n      trimBr(false, toBlock);\n      return getInsertionPoint(fromBlock, toBlock).fold(curry(sidelongBlockMerge, rootNode, fromBlock, toBlock), curry(nestedBlockMerge, rootNode, fromBlock, toBlock));\n    };\n    var mergeBlocks = function (rootNode, forward, block1, block2) {\n      return forward ? mergeBlockInto(rootNode, block2, block1) : mergeBlockInto(rootNode, block1, block2);\n    };\n\n    var backspaceDelete$8 = function (editor, forward) {\n      var rootNode = SugarElement.fromDom(editor.getBody());\n      var position = read$1(rootNode.dom, forward, editor.selection.getRng()).bind(function (blockBoundary) {\n        return mergeBlocks(rootNode, forward, blockBoundary.from.block, blockBoundary.to.block);\n      });\n      position.each(function (pos) {\n        editor.selection.setRng(pos.toRange());\n      });\n      return position.isSome();\n    };\n\n    var deleteRangeMergeBlocks = function (rootNode, selection) {\n      var rng = selection.getRng();\n      return lift2(getParentBlock$1(rootNode, SugarElement.fromDom(rng.startContainer)), getParentBlock$1(rootNode, SugarElement.fromDom(rng.endContainer)), function (block1, block2) {\n        if (eq(block1, block2) === false) {\n          rng.deleteContents();\n          mergeBlocks(rootNode, true, block1, block2).each(function (pos) {\n            selection.setRng(pos.toRange());\n          });\n          return true;\n        } else {\n          return false;\n        }\n      }).getOr(false);\n    };\n    var isRawNodeInTable = function (root, rawNode) {\n      var node = SugarElement.fromDom(rawNode);\n      var isRoot = curry(eq, root);\n      return ancestor$3(node, isTableCell$4, isRoot).isSome();\n    };\n    var isSelectionInTable = function (root, rng) {\n      return isRawNodeInTable(root, rng.startContainer) || isRawNodeInTable(root, rng.endContainer);\n    };\n    var isEverythingSelected = function (root, rng) {\n      var noPrevious = prevPosition(root.dom, CaretPosition.fromRangeStart(rng)).isNone();\n      var noNext = nextPosition(root.dom, CaretPosition.fromRangeEnd(rng)).isNone();\n      return !isSelectionInTable(root, rng) && noPrevious && noNext;\n    };\n    var emptyEditor = function (editor) {\n      editor.setContent('');\n      editor.selection.setCursorLocation();\n      return true;\n    };\n    var deleteRange$1 = function (editor) {\n      var rootNode = SugarElement.fromDom(editor.getBody());\n      var rng = editor.selection.getRng();\n      return isEverythingSelected(rootNode, rng) ? emptyEditor(editor) : deleteRangeMergeBlocks(rootNode, editor.selection);\n    };\n    var backspaceDelete$7 = function (editor, _forward) {\n      return editor.selection.isCollapsed() ? false : deleteRange$1(editor);\n    };\n\n    var isContentEditableTrue$2 = isContentEditableTrue$4;\n    var isContentEditableFalse$4 = isContentEditableFalse$b;\n    var showCaret = function (direction, editor, node, before, scrollIntoView) {\n      return Optional.from(editor._selectionOverrides.showCaret(direction, node, before, scrollIntoView));\n    };\n    var getNodeRange = function (node) {\n      var rng = node.ownerDocument.createRange();\n      rng.selectNode(node);\n      return rng;\n    };\n    var selectNode = function (editor, node) {\n      var e = editor.fire('BeforeObjectSelected', { target: node });\n      if (e.isDefaultPrevented()) {\n        return Optional.none();\n      }\n      return Optional.some(getNodeRange(node));\n    };\n    var renderCaretAtRange = function (editor, range, scrollIntoView) {\n      var normalizedRange = normalizeRange(1, editor.getBody(), range);\n      var caretPosition = CaretPosition.fromRangeStart(normalizedRange);\n      var caretPositionNode = caretPosition.getNode();\n      if (isInlineFakeCaretTarget(caretPositionNode)) {\n        return showCaret(1, editor, caretPositionNode, !caretPosition.isAtEnd(), false);\n      }\n      var caretPositionBeforeNode = caretPosition.getNode(true);\n      if (isInlineFakeCaretTarget(caretPositionBeforeNode)) {\n        return showCaret(1, editor, caretPositionBeforeNode, false, false);\n      }\n      var ceRoot = editor.dom.getParent(caretPosition.getNode(), function (node) {\n        return isContentEditableFalse$4(node) || isContentEditableTrue$2(node);\n      });\n      if (isInlineFakeCaretTarget(ceRoot)) {\n        return showCaret(1, editor, ceRoot, false, scrollIntoView);\n      }\n      return Optional.none();\n    };\n    var renderRangeCaret = function (editor, range, scrollIntoView) {\n      return range.collapsed ? renderCaretAtRange(editor, range, scrollIntoView).getOr(range) : range;\n    };\n\n    var isBeforeBoundary = function (pos) {\n      return isBeforeContentEditableFalse(pos) || isBeforeMedia(pos);\n    };\n    var isAfterBoundary = function (pos) {\n      return isAfterContentEditableFalse(pos) || isAfterMedia(pos);\n    };\n    var trimEmptyTextNode = function (dom, node) {\n      if (isText$7(node) && node.data.length === 0) {\n        dom.remove(node);\n      }\n    };\n    var deleteContentAndShowCaret = function (editor, range, node, direction, forward, peekCaretPosition) {\n      showCaret(direction, editor, peekCaretPosition.getNode(!forward), forward, true).each(function (caretRange) {\n        if (range.collapsed) {\n          var deleteRange = range.cloneRange();\n          if (forward) {\n            deleteRange.setEnd(caretRange.startContainer, caretRange.startOffset);\n          } else {\n            deleteRange.setStart(caretRange.endContainer, caretRange.endOffset);\n          }\n          deleteRange.deleteContents();\n        } else {\n          range.deleteContents();\n        }\n        editor.selection.setRng(caretRange);\n      });\n      trimEmptyTextNode(editor.dom, node);\n      return true;\n    };\n    var deleteBoundaryText = function (editor, forward) {\n      var range = editor.selection.getRng();\n      if (!isText$7(range.commonAncestorContainer)) {\n        return false;\n      }\n      var direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      var caretWalker = CaretWalker(editor.getBody());\n      var getNextPosFn = curry(getVisualCaretPosition, forward ? caretWalker.next : caretWalker.prev);\n      var isBeforeFn = forward ? isBeforeBoundary : isAfterBoundary;\n      var caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      var nextCaretPosition = normalizePosition(forward, getNextPosFn(caretPosition));\n      if (!nextCaretPosition || !isMoveInsideSameBlock(caretPosition, nextCaretPosition)) {\n        return false;\n      } else if (isBeforeFn(nextCaretPosition)) {\n        return deleteContentAndShowCaret(editor, range, caretPosition.getNode(), direction, forward, nextCaretPosition);\n      }\n      var peekCaretPosition = getNextPosFn(nextCaretPosition);\n      if (peekCaretPosition && isBeforeFn(peekCaretPosition)) {\n        if (isMoveInsideSameBlock(nextCaretPosition, peekCaretPosition)) {\n          return deleteContentAndShowCaret(editor, range, caretPosition.getNode(), direction, forward, peekCaretPosition);\n        }\n      }\n      return false;\n    };\n    var backspaceDelete$6 = function (editor, forward) {\n      return deleteBoundaryText(editor, forward);\n    };\n\n    var isCompoundElement = function (node) {\n      return isTableCell$4(SugarElement.fromDom(node)) || isListItem(SugarElement.fromDom(node));\n    };\n    var DeleteAction = Adt.generate([\n      { remove: ['element'] },\n      { moveToElement: ['element'] },\n      { moveToPosition: ['position'] }\n    ]);\n    var isAtContentEditableBlockCaret = function (forward, from) {\n      var elm = from.getNode(forward === false);\n      var caretLocation = forward ? 'after' : 'before';\n      return isElement$5(elm) && elm.getAttribute('data-mce-caret') === caretLocation;\n    };\n    var isDeleteFromCefDifferentBlocks = function (root, forward, from, to) {\n      var inSameBlock = function (elm) {\n        return isInline$1(SugarElement.fromDom(elm)) && !isInSameBlock(from, to, root);\n      };\n      return getRelativeCefElm(!forward, from).fold(function () {\n        return getRelativeCefElm(forward, to).fold(never, inSameBlock);\n      }, inSameBlock);\n    };\n    var deleteEmptyBlockOrMoveToCef = function (root, forward, from, to) {\n      var toCefElm = to.getNode(forward === false);\n      return getParentBlock$1(SugarElement.fromDom(root), SugarElement.fromDom(from.getNode())).map(function (blockElm) {\n        return isEmpty$2(blockElm) ? DeleteAction.remove(blockElm.dom) : DeleteAction.moveToElement(toCefElm);\n      }).orThunk(function () {\n        return Optional.some(DeleteAction.moveToElement(toCefElm));\n      });\n    };\n    var findCefPosition = function (root, forward, from) {\n      return fromPosition(forward, root, from).bind(function (to) {\n        if (isCompoundElement(to.getNode())) {\n          return Optional.none();\n        } else if (isDeleteFromCefDifferentBlocks(root, forward, from, to)) {\n          return Optional.none();\n        } else if (forward && isContentEditableFalse$b(to.getNode())) {\n          return deleteEmptyBlockOrMoveToCef(root, forward, from, to);\n        } else if (forward === false && isContentEditableFalse$b(to.getNode(true))) {\n          return deleteEmptyBlockOrMoveToCef(root, forward, from, to);\n        } else if (forward && isAfterContentEditableFalse(from)) {\n          return Optional.some(DeleteAction.moveToPosition(to));\n        } else if (forward === false && isBeforeContentEditableFalse(from)) {\n          return Optional.some(DeleteAction.moveToPosition(to));\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var getContentEditableBlockAction = function (forward, elm) {\n      if (forward && isContentEditableFalse$b(elm.nextSibling)) {\n        return Optional.some(DeleteAction.moveToElement(elm.nextSibling));\n      } else if (forward === false && isContentEditableFalse$b(elm.previousSibling)) {\n        return Optional.some(DeleteAction.moveToElement(elm.previousSibling));\n      } else {\n        return Optional.none();\n      }\n    };\n    var skipMoveToActionFromInlineCefToContent = function (root, from, deleteAction) {\n      return deleteAction.fold(function (elm) {\n        return Optional.some(DeleteAction.remove(elm));\n      }, function (elm) {\n        return Optional.some(DeleteAction.moveToElement(elm));\n      }, function (to) {\n        if (isInSameBlock(from, to, root)) {\n          return Optional.none();\n        } else {\n          return Optional.some(DeleteAction.moveToPosition(to));\n        }\n      });\n    };\n    var getContentEditableAction = function (root, forward, from) {\n      if (isAtContentEditableBlockCaret(forward, from)) {\n        return getContentEditableBlockAction(forward, from.getNode(forward === false)).fold(function () {\n          return findCefPosition(root, forward, from);\n        }, Optional.some);\n      } else {\n        return findCefPosition(root, forward, from).bind(function (deleteAction) {\n          return skipMoveToActionFromInlineCefToContent(root, from, deleteAction);\n        });\n      }\n    };\n    var read = function (root, forward, rng) {\n      var normalizedRange = normalizeRange(forward ? 1 : -1, root, rng);\n      var from = CaretPosition.fromRangeStart(normalizedRange);\n      var rootElement = SugarElement.fromDom(root);\n      if (forward === false && isAfterContentEditableFalse(from)) {\n        return Optional.some(DeleteAction.remove(from.getNode(true)));\n      } else if (forward && isBeforeContentEditableFalse(from)) {\n        return Optional.some(DeleteAction.remove(from.getNode()));\n      } else if (forward === false && isBeforeContentEditableFalse(from) && isAfterBr(rootElement, from)) {\n        return findPreviousBr(rootElement, from).map(function (br) {\n          return DeleteAction.remove(br.getNode());\n        });\n      } else if (forward && isAfterContentEditableFalse(from) && isBeforeBr$1(rootElement, from)) {\n        return findNextBr(rootElement, from).map(function (br) {\n          return DeleteAction.remove(br.getNode());\n        });\n      } else {\n        return getContentEditableAction(root, forward, from);\n      }\n    };\n\n    var deleteElement$1 = function (editor, forward) {\n      return function (element) {\n        editor._selectionOverrides.hideFakeCaret();\n        deleteElement$2(editor, forward, SugarElement.fromDom(element));\n        return true;\n      };\n    };\n    var moveToElement = function (editor, forward) {\n      return function (element) {\n        var pos = forward ? CaretPosition.before(element) : CaretPosition.after(element);\n        editor.selection.setRng(pos.toRange());\n        return true;\n      };\n    };\n    var moveToPosition = function (editor) {\n      return function (pos) {\n        editor.selection.setRng(pos.toRange());\n        return true;\n      };\n    };\n    var getAncestorCe = function (editor, node) {\n      return Optional.from(getContentEditableRoot$1(editor.getBody(), node));\n    };\n    var backspaceDeleteCaret = function (editor, forward) {\n      var selectedNode = editor.selection.getNode();\n      return getAncestorCe(editor, selectedNode).filter(isContentEditableFalse$b).fold(function () {\n        return read(editor.getBody(), forward, editor.selection.getRng()).exists(function (deleteAction) {\n          return deleteAction.fold(deleteElement$1(editor, forward), moveToElement(editor, forward), moveToPosition(editor));\n        });\n      }, always);\n    };\n    var deleteOffscreenSelection = function (rootElement) {\n      each$k(descendants(rootElement, '.mce-offscreen-selection'), remove$7);\n    };\n    var backspaceDeleteRange = function (editor, forward) {\n      var selectedNode = editor.selection.getNode();\n      if (isContentEditableFalse$b(selectedNode) && !isTableCell$5(selectedNode)) {\n        var hasCefAncestor = getAncestorCe(editor, selectedNode.parentNode).filter(isContentEditableFalse$b);\n        return hasCefAncestor.fold(function () {\n          deleteOffscreenSelection(SugarElement.fromDom(editor.getBody()));\n          deleteElement$2(editor, forward, SugarElement.fromDom(editor.selection.getNode()));\n          paddEmptyBody(editor);\n          return true;\n        }, always);\n      }\n      return false;\n    };\n    var paddEmptyElement = function (editor) {\n      var dom = editor.dom, selection = editor.selection;\n      var ceRoot = getContentEditableRoot$1(editor.getBody(), selection.getNode());\n      if (isContentEditableTrue$4(ceRoot) && dom.isBlock(ceRoot) && dom.isEmpty(ceRoot)) {\n        var br = dom.create('br', { 'data-mce-bogus': '1' });\n        dom.setHTML(ceRoot, '');\n        ceRoot.appendChild(br);\n        selection.setRng(CaretPosition.before(br).toRange());\n      }\n      return true;\n    };\n    var backspaceDelete$5 = function (editor, forward) {\n      if (editor.selection.isCollapsed()) {\n        return backspaceDeleteCaret(editor, forward);\n      } else {\n        return backspaceDeleteRange(editor, forward);\n      }\n    };\n\n    var deleteCaret$2 = function (editor, forward) {\n      var fromPos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return fromPosition(forward, editor.getBody(), fromPos).filter(function (pos) {\n        return forward ? isBeforeImageBlock(pos) : isAfterImageBlock(pos);\n      }).bind(function (pos) {\n        return Optional.from(getChildNodeAtRelativeOffset(forward ? 0 : -1, pos));\n      }).exists(function (elm) {\n        editor.selection.select(elm);\n        return true;\n      });\n    };\n    var backspaceDelete$4 = function (editor, forward) {\n      return editor.selection.isCollapsed() ? deleteCaret$2(editor, forward) : false;\n    };\n\n    var isText = isText$7;\n    var startsWithCaretContainer = function (node) {\n      return isText(node) && node.data[0] === ZWSP$1;\n    };\n    var endsWithCaretContainer = function (node) {\n      return isText(node) && node.data[node.data.length - 1] === ZWSP$1;\n    };\n    var createZwsp = function (node) {\n      return node.ownerDocument.createTextNode(ZWSP$1);\n    };\n    var insertBefore = function (node) {\n      if (isText(node.previousSibling)) {\n        if (endsWithCaretContainer(node.previousSibling)) {\n          return node.previousSibling;\n        } else {\n          node.previousSibling.appendData(ZWSP$1);\n          return node.previousSibling;\n        }\n      } else if (isText(node)) {\n        if (startsWithCaretContainer(node)) {\n          return node;\n        } else {\n          node.insertData(0, ZWSP$1);\n          return node;\n        }\n      } else {\n        var newNode = createZwsp(node);\n        node.parentNode.insertBefore(newNode, node);\n        return newNode;\n      }\n    };\n    var insertAfter = function (node) {\n      if (isText(node.nextSibling)) {\n        if (startsWithCaretContainer(node.nextSibling)) {\n          return node.nextSibling;\n        } else {\n          node.nextSibling.insertData(0, ZWSP$1);\n          return node.nextSibling;\n        }\n      } else if (isText(node)) {\n        if (endsWithCaretContainer(node)) {\n          return node;\n        } else {\n          node.appendData(ZWSP$1);\n          return node;\n        }\n      } else {\n        var newNode = createZwsp(node);\n        if (node.nextSibling) {\n          node.parentNode.insertBefore(newNode, node.nextSibling);\n        } else {\n          node.parentNode.appendChild(newNode);\n        }\n        return newNode;\n      }\n    };\n    var insertInline = function (before, node) {\n      return before ? insertBefore(node) : insertAfter(node);\n    };\n    var insertInlineBefore = curry(insertInline, true);\n    var insertInlineAfter = curry(insertInline, false);\n\n    var insertInlinePos = function (pos, before) {\n      if (isText$7(pos.container())) {\n        return insertInline(before, pos.container());\n      } else {\n        return insertInline(before, pos.getNode());\n      }\n    };\n    var isPosCaretContainer = function (pos, caret) {\n      var caretNode = caret.get();\n      return caretNode && pos.container() === caretNode && isCaretContainerInline(caretNode);\n    };\n    var renderCaret = function (caret, location) {\n      return location.fold(function (element) {\n        remove$2(caret.get());\n        var text = insertInlineBefore(element);\n        caret.set(text);\n        return Optional.some(CaretPosition(text, text.length - 1));\n      }, function (element) {\n        return firstPositionIn(element).map(function (pos) {\n          if (!isPosCaretContainer(pos, caret)) {\n            remove$2(caret.get());\n            var text = insertInlinePos(pos, true);\n            caret.set(text);\n            return CaretPosition(text, 1);\n          } else {\n            return CaretPosition(caret.get(), 1);\n          }\n        });\n      }, function (element) {\n        return lastPositionIn(element).map(function (pos) {\n          if (!isPosCaretContainer(pos, caret)) {\n            remove$2(caret.get());\n            var text = insertInlinePos(pos, false);\n            caret.set(text);\n            return CaretPosition(text, text.length - 1);\n          } else {\n            return CaretPosition(caret.get(), caret.get().length - 1);\n          }\n        });\n      }, function (element) {\n        remove$2(caret.get());\n        var text = insertInlineAfter(element);\n        caret.set(text);\n        return Optional.some(CaretPosition(text, 1));\n      });\n    };\n\n    var evaluateUntil = function (fns, args) {\n      for (var i = 0; i < fns.length; i++) {\n        var result = fns[i].apply(null, args);\n        if (result.isSome()) {\n          return result;\n        }\n      }\n      return Optional.none();\n    };\n\n    var Location = Adt.generate([\n      { before: ['element'] },\n      { start: ['element'] },\n      { end: ['element'] },\n      { after: ['element'] }\n    ]);\n    var rescope$1 = function (rootNode, node) {\n      var parentBlock = getParentBlock$2(node, rootNode);\n      return parentBlock ? parentBlock : rootNode;\n    };\n    var before = function (isInlineTarget, rootNode, pos) {\n      var nPos = normalizeForwards(pos);\n      var scope = rescope$1(rootNode, nPos.container());\n      return findRootInline(isInlineTarget, scope, nPos).fold(function () {\n        return nextPosition(scope, nPos).bind(curry(findRootInline, isInlineTarget, scope)).map(function (inline) {\n          return Location.before(inline);\n        });\n      }, Optional.none);\n    };\n    var isNotInsideFormatCaretContainer = function (rootNode, elm) {\n      return getParentCaretContainer(rootNode, elm) === null;\n    };\n    var findInsideRootInline = function (isInlineTarget, rootNode, pos) {\n      return findRootInline(isInlineTarget, rootNode, pos).filter(curry(isNotInsideFormatCaretContainer, rootNode));\n    };\n    var start$1 = function (isInlineTarget, rootNode, pos) {\n      var nPos = normalizeBackwards(pos);\n      return findInsideRootInline(isInlineTarget, rootNode, nPos).bind(function (inline) {\n        var prevPos = prevPosition(inline, nPos);\n        return prevPos.isNone() ? Optional.some(Location.start(inline)) : Optional.none();\n      });\n    };\n    var end = function (isInlineTarget, rootNode, pos) {\n      var nPos = normalizeForwards(pos);\n      return findInsideRootInline(isInlineTarget, rootNode, nPos).bind(function (inline) {\n        var nextPos = nextPosition(inline, nPos);\n        return nextPos.isNone() ? Optional.some(Location.end(inline)) : Optional.none();\n      });\n    };\n    var after = function (isInlineTarget, rootNode, pos) {\n      var nPos = normalizeBackwards(pos);\n      var scope = rescope$1(rootNode, nPos.container());\n      return findRootInline(isInlineTarget, scope, nPos).fold(function () {\n        return prevPosition(scope, nPos).bind(curry(findRootInline, isInlineTarget, scope)).map(function (inline) {\n          return Location.after(inline);\n        });\n      }, Optional.none);\n    };\n    var isValidLocation = function (location) {\n      return isRtl(getElement(location)) === false;\n    };\n    var readLocation = function (isInlineTarget, rootNode, pos) {\n      var location = evaluateUntil([\n        before,\n        start$1,\n        end,\n        after\n      ], [\n        isInlineTarget,\n        rootNode,\n        pos\n      ]);\n      return location.filter(isValidLocation);\n    };\n    var getElement = function (location) {\n      return location.fold(identity, identity, identity, identity);\n    };\n    var getName = function (location) {\n      return location.fold(constant('before'), constant('start'), constant('end'), constant('after'));\n    };\n    var outside = function (location) {\n      return location.fold(Location.before, Location.before, Location.after, Location.after);\n    };\n    var inside = function (location) {\n      return location.fold(Location.start, Location.start, Location.end, Location.end);\n    };\n    var isEq = function (location1, location2) {\n      return getName(location1) === getName(location2) && getElement(location1) === getElement(location2);\n    };\n    var betweenInlines = function (forward, isInlineTarget, rootNode, from, to, location) {\n      return lift2(findRootInline(isInlineTarget, rootNode, from), findRootInline(isInlineTarget, rootNode, to), function (fromInline, toInline) {\n        if (fromInline !== toInline && hasSameParentBlock(rootNode, fromInline, toInline)) {\n          return Location.after(forward ? fromInline : toInline);\n        } else {\n          return location;\n        }\n      }).getOr(location);\n    };\n    var skipNoMovement = function (fromLocation, toLocation) {\n      return fromLocation.fold(always, function (fromLocation) {\n        return !isEq(fromLocation, toLocation);\n      });\n    };\n    var findLocationTraverse = function (forward, isInlineTarget, rootNode, fromLocation, pos) {\n      var from = normalizePosition(forward, pos);\n      var to = fromPosition(forward, rootNode, from).map(curry(normalizePosition, forward));\n      var location = to.fold(function () {\n        return fromLocation.map(outside);\n      }, function (to) {\n        return readLocation(isInlineTarget, rootNode, to).map(curry(betweenInlines, forward, isInlineTarget, rootNode, from, to)).filter(curry(skipNoMovement, fromLocation));\n      });\n      return location.filter(isValidLocation);\n    };\n    var findLocationSimple = function (forward, location) {\n      if (forward) {\n        return location.fold(compose(Optional.some, Location.start), Optional.none, compose(Optional.some, Location.after), Optional.none);\n      } else {\n        return location.fold(Optional.none, compose(Optional.some, Location.before), Optional.none, compose(Optional.some, Location.end));\n      }\n    };\n    var findLocation$1 = function (forward, isInlineTarget, rootNode, pos) {\n      var from = normalizePosition(forward, pos);\n      var fromLocation = readLocation(isInlineTarget, rootNode, from);\n      return readLocation(isInlineTarget, rootNode, from).bind(curry(findLocationSimple, forward)).orThunk(function () {\n        return findLocationTraverse(forward, isInlineTarget, rootNode, fromLocation, pos);\n      });\n    };\n    curry(findLocation$1, false);\n    curry(findLocation$1, true);\n\n    var hasSelectionModifyApi = function (editor) {\n      return isFunction(editor.selection.getSel().modify);\n    };\n    var moveRel = function (forward, selection, pos) {\n      var delta = forward ? 1 : -1;\n      selection.setRng(CaretPosition(pos.container(), pos.offset() + delta).toRange());\n      selection.getSel().modify('move', forward ? 'forward' : 'backward', 'word');\n      return true;\n    };\n    var moveByWord = function (forward, editor) {\n      var rng = editor.selection.getRng();\n      var pos = forward ? CaretPosition.fromRangeEnd(rng) : CaretPosition.fromRangeStart(rng);\n      if (!hasSelectionModifyApi(editor)) {\n        return false;\n      } else if (forward && isBeforeInline(pos)) {\n        return moveRel(true, editor.selection, pos);\n      } else if (!forward && isAfterInline(pos)) {\n        return moveRel(false, editor.selection, pos);\n      } else {\n        return false;\n      }\n    };\n\n    var BreakType;\n    (function (BreakType) {\n      BreakType[BreakType['Br'] = 0] = 'Br';\n      BreakType[BreakType['Block'] = 1] = 'Block';\n      BreakType[BreakType['Wrap'] = 2] = 'Wrap';\n      BreakType[BreakType['Eol'] = 3] = 'Eol';\n    }(BreakType || (BreakType = {})));\n    var flip = function (direction, positions) {\n      return direction === HDirection.Backwards ? reverse(positions) : positions;\n    };\n    var walk = function (direction, caretWalker, pos) {\n      return direction === HDirection.Forwards ? caretWalker.next(pos) : caretWalker.prev(pos);\n    };\n    var getBreakType = function (scope, direction, currentPos, nextPos) {\n      if (isBr$5(nextPos.getNode(direction === HDirection.Forwards))) {\n        return BreakType.Br;\n      } else if (isInSameBlock(currentPos, nextPos) === false) {\n        return BreakType.Block;\n      } else {\n        return BreakType.Wrap;\n      }\n    };\n    var getPositionsUntil = function (predicate, direction, scope, start) {\n      var caretWalker = CaretWalker(scope);\n      var currentPos = start;\n      var positions = [];\n      while (currentPos) {\n        var nextPos = walk(direction, caretWalker, currentPos);\n        if (!nextPos) {\n          break;\n        }\n        if (isBr$5(nextPos.getNode(false))) {\n          if (direction === HDirection.Forwards) {\n            return {\n              positions: flip(direction, positions).concat([nextPos]),\n              breakType: BreakType.Br,\n              breakAt: Optional.some(nextPos)\n            };\n          } else {\n            return {\n              positions: flip(direction, positions),\n              breakType: BreakType.Br,\n              breakAt: Optional.some(nextPos)\n            };\n          }\n        }\n        if (!nextPos.isVisible()) {\n          currentPos = nextPos;\n          continue;\n        }\n        if (predicate(currentPos, nextPos)) {\n          var breakType = getBreakType(scope, direction, currentPos, nextPos);\n          return {\n            positions: flip(direction, positions),\n            breakType: breakType,\n            breakAt: Optional.some(nextPos)\n          };\n        }\n        positions.push(nextPos);\n        currentPos = nextPos;\n      }\n      return {\n        positions: flip(direction, positions),\n        breakType: BreakType.Eol,\n        breakAt: Optional.none()\n      };\n    };\n    var getAdjacentLinePositions = function (direction, getPositionsUntilBreak, scope, start) {\n      return getPositionsUntilBreak(scope, start).breakAt.map(function (pos) {\n        var positions = getPositionsUntilBreak(scope, pos).positions;\n        return direction === HDirection.Backwards ? positions.concat(pos) : [pos].concat(positions);\n      }).getOr([]);\n    };\n    var findClosestHorizontalPositionFromPoint = function (positions, x) {\n      return foldl(positions, function (acc, newPos) {\n        return acc.fold(function () {\n          return Optional.some(newPos);\n        }, function (lastPos) {\n          return lift2(head(lastPos.getClientRects()), head(newPos.getClientRects()), function (lastRect, newRect) {\n            var lastDist = Math.abs(x - lastRect.left);\n            var newDist = Math.abs(x - newRect.left);\n            return newDist <= lastDist ? newPos : lastPos;\n          }).or(acc);\n        });\n      }, Optional.none());\n    };\n    var findClosestHorizontalPosition = function (positions, pos) {\n      return head(pos.getClientRects()).bind(function (targetRect) {\n        return findClosestHorizontalPositionFromPoint(positions, targetRect.left);\n      });\n    };\n    var getPositionsUntilPreviousLine = curry(getPositionsUntil, CaretPosition.isAbove, -1);\n    var getPositionsUntilNextLine = curry(getPositionsUntil, CaretPosition.isBelow, 1);\n    var getPositionsAbove = curry(getAdjacentLinePositions, -1, getPositionsUntilPreviousLine);\n    var getPositionsBelow = curry(getAdjacentLinePositions, 1, getPositionsUntilNextLine);\n    var isAtFirstLine = function (scope, pos) {\n      return getPositionsUntilPreviousLine(scope, pos).breakAt.isNone();\n    };\n    var isAtLastLine = function (scope, pos) {\n      return getPositionsUntilNextLine(scope, pos).breakAt.isNone();\n    };\n    var getFirstLinePositions = function (scope) {\n      return firstPositionIn(scope).map(function (pos) {\n        return [pos].concat(getPositionsUntilNextLine(scope, pos).positions);\n      }).getOr([]);\n    };\n    var getLastLinePositions = function (scope) {\n      return lastPositionIn(scope).map(function (pos) {\n        return getPositionsUntilPreviousLine(scope, pos).positions.concat(pos);\n      }).getOr([]);\n    };\n\n    var getNodeClientRects = function (node) {\n      var toArrayWithNode = function (clientRects) {\n        return map$3(clientRects, function (rect) {\n          var clientRect = clone(rect);\n          clientRect.node = node;\n          return clientRect;\n        });\n      };\n      if (isElement$5(node)) {\n        return toArrayWithNode(node.getClientRects());\n      }\n      if (isText$7(node)) {\n        var rng = node.ownerDocument.createRange();\n        rng.setStart(node, 0);\n        rng.setEnd(node, node.data.length);\n        return toArrayWithNode(rng.getClientRects());\n      }\n    };\n    var getClientRects = function (nodes) {\n      return bind(nodes, getNodeClientRects);\n    };\n\n    var VDirection;\n    (function (VDirection) {\n      VDirection[VDirection['Up'] = -1] = 'Up';\n      VDirection[VDirection['Down'] = 1] = 'Down';\n    }(VDirection || (VDirection = {})));\n    var findUntil = function (direction, root, predicateFn, node) {\n      while (node = findNode$1(node, direction, isEditableCaretCandidate$1, root)) {\n        if (predicateFn(node)) {\n          return;\n        }\n      }\n    };\n    var walkUntil$1 = function (direction, isAboveFn, isBeflowFn, root, predicateFn, caretPosition) {\n      var line = 0;\n      var result = [];\n      var add = function (node) {\n        var clientRects = getClientRects([node]);\n        if (direction === -1) {\n          clientRects = clientRects.reverse();\n        }\n        for (var i = 0; i < clientRects.length; i++) {\n          var clientRect = clientRects[i];\n          if (isBeflowFn(clientRect, targetClientRect)) {\n            continue;\n          }\n          if (result.length > 0 && isAboveFn(clientRect, last$1(result))) {\n            line++;\n          }\n          clientRect.line = line;\n          if (predicateFn(clientRect)) {\n            return true;\n          }\n          result.push(clientRect);\n        }\n      };\n      var targetClientRect = last$1(caretPosition.getClientRects());\n      if (!targetClientRect) {\n        return result;\n      }\n      var node = caretPosition.getNode();\n      add(node);\n      findUntil(direction, root, add, node);\n      return result;\n    };\n    var aboveLineNumber = function (lineNumber, clientRect) {\n      return clientRect.line > lineNumber;\n    };\n    var isLineNumber = function (lineNumber, clientRect) {\n      return clientRect.line === lineNumber;\n    };\n    var upUntil = curry(walkUntil$1, VDirection.Up, isAbove$1, isBelow$1);\n    var downUntil = curry(walkUntil$1, VDirection.Down, isBelow$1, isAbove$1);\n    var positionsUntil = function (direction, root, predicateFn, node) {\n      var caretWalker = CaretWalker(root);\n      var walkFn;\n      var isBelowFn;\n      var isAboveFn;\n      var caretPosition;\n      var result = [];\n      var line = 0;\n      var getClientRect = function (caretPosition) {\n        if (direction === 1) {\n          return last$1(caretPosition.getClientRects());\n        }\n        return last$1(caretPosition.getClientRects());\n      };\n      if (direction === 1) {\n        walkFn = caretWalker.next;\n        isBelowFn = isBelow$1;\n        isAboveFn = isAbove$1;\n        caretPosition = CaretPosition.after(node);\n      } else {\n        walkFn = caretWalker.prev;\n        isBelowFn = isAbove$1;\n        isAboveFn = isBelow$1;\n        caretPosition = CaretPosition.before(node);\n      }\n      var targetClientRect = getClientRect(caretPosition);\n      do {\n        if (!caretPosition.isVisible()) {\n          continue;\n        }\n        var rect = getClientRect(caretPosition);\n        if (isAboveFn(rect, targetClientRect)) {\n          continue;\n        }\n        if (result.length > 0 && isBelowFn(rect, last$1(result))) {\n          line++;\n        }\n        var clientRect = clone(rect);\n        clientRect.position = caretPosition;\n        clientRect.line = line;\n        if (predicateFn(clientRect)) {\n          return result;\n        }\n        result.push(clientRect);\n      } while (caretPosition = walkFn(caretPosition));\n      return result;\n    };\n    var isAboveLine = function (lineNumber) {\n      return function (clientRect) {\n        return aboveLineNumber(lineNumber, clientRect);\n      };\n    };\n    var isLine = function (lineNumber) {\n      return function (clientRect) {\n        return isLineNumber(lineNumber, clientRect);\n      };\n    };\n\n    var isContentEditableFalse$3 = isContentEditableFalse$b;\n    var findNode = findNode$1;\n    var distanceToRectLeft = function (clientRect, clientX) {\n      return Math.abs(clientRect.left - clientX);\n    };\n    var distanceToRectRight = function (clientRect, clientX) {\n      return Math.abs(clientRect.right - clientX);\n    };\n    var isInsideX = function (clientX, clientRect) {\n      return clientX >= clientRect.left && clientX <= clientRect.right;\n    };\n    var isInsideY = function (clientY, clientRect) {\n      return clientY >= clientRect.top && clientY <= clientRect.bottom;\n    };\n    var isNodeClientRect = function (rect) {\n      return hasNonNullableKey(rect, 'node');\n    };\n    var findClosestClientRect = function (clientRects, clientX, allowInside) {\n      if (allowInside === void 0) {\n        allowInside = always;\n      }\n      return reduce(clientRects, function (oldClientRect, clientRect) {\n        if (isInsideX(clientX, clientRect)) {\n          return allowInside(clientRect) ? clientRect : oldClientRect;\n        }\n        if (isInsideX(clientX, oldClientRect)) {\n          return allowInside(oldClientRect) ? oldClientRect : clientRect;\n        }\n        var oldDistance = Math.min(distanceToRectLeft(oldClientRect, clientX), distanceToRectRight(oldClientRect, clientX));\n        var newDistance = Math.min(distanceToRectLeft(clientRect, clientX), distanceToRectRight(clientRect, clientX));\n        if (newDistance === oldDistance && isNodeClientRect(clientRect) && isContentEditableFalse$3(clientRect.node)) {\n          return clientRect;\n        }\n        if (newDistance < oldDistance) {\n          return clientRect;\n        }\n        return oldClientRect;\n      });\n    };\n    var walkUntil = function (direction, root, predicateFn, startNode, includeChildren) {\n      var node = findNode(startNode, direction, isEditableCaretCandidate$1, root, !includeChildren);\n      do {\n        if (!node || predicateFn(node)) {\n          return;\n        }\n      } while (node = findNode(node, direction, isEditableCaretCandidate$1, root));\n    };\n    var findLineNodeRects = function (root, targetNodeRect, includeChildren) {\n      if (includeChildren === void 0) {\n        includeChildren = true;\n      }\n      var clientRects = [];\n      var collect = function (checkPosFn, node) {\n        var lineRects = filter$4(getClientRects([node]), function (clientRect) {\n          return !checkPosFn(clientRect, targetNodeRect);\n        });\n        clientRects = clientRects.concat(lineRects);\n        return lineRects.length === 0;\n      };\n      clientRects.push(targetNodeRect);\n      walkUntil(VDirection.Up, root, curry(collect, isAbove$1), targetNodeRect.node, includeChildren);\n      walkUntil(VDirection.Down, root, curry(collect, isBelow$1), targetNodeRect.node, includeChildren);\n      return clientRects;\n    };\n    var getFakeCaretTargets = function (root) {\n      return filter$4(from(root.getElementsByTagName('*')), isFakeCaretTarget);\n    };\n    var caretInfo = function (clientRect, clientX) {\n      return {\n        node: clientRect.node,\n        before: distanceToRectLeft(clientRect, clientX) < distanceToRectRight(clientRect, clientX)\n      };\n    };\n    var closestFakeCaret = function (root, clientX, clientY) {\n      var fakeTargetNodeRects = getClientRects(getFakeCaretTargets(root));\n      var targetNodeRects = filter$4(fakeTargetNodeRects, curry(isInsideY, clientY));\n      var checkInside = function (clientRect) {\n        return !isTable$3(clientRect.node) && !isMedia$2(clientRect.node);\n      };\n      var closestNodeRect = findClosestClientRect(targetNodeRects, clientX, checkInside);\n      if (closestNodeRect) {\n        var includeChildren = checkInside(closestNodeRect);\n        closestNodeRect = findClosestClientRect(findLineNodeRects(root, closestNodeRect, includeChildren), clientX, checkInside);\n        if (closestNodeRect && isFakeCaretTarget(closestNodeRect.node)) {\n          return caretInfo(closestNodeRect, clientX);\n        }\n      }\n      return null;\n    };\n\n    var moveToRange = function (editor, rng) {\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, editor.selection.getRng());\n    };\n    var renderRangeCaretOpt = function (editor, range, scrollIntoView) {\n      return Optional.some(renderRangeCaret(editor, range, scrollIntoView));\n    };\n    var moveHorizontally = function (editor, direction, range, isBefore, isAfter, isElement) {\n      var forwards = direction === HDirection.Forwards;\n      var caretWalker = CaretWalker(editor.getBody());\n      var getNextPosFn = curry(getVisualCaretPosition, forwards ? caretWalker.next : caretWalker.prev);\n      var isBeforeFn = forwards ? isBefore : isAfter;\n      if (!range.collapsed) {\n        var node = getSelectedNode(range);\n        if (isElement(node)) {\n          return showCaret(direction, editor, node, direction === HDirection.Backwards, false);\n        }\n      }\n      var caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      if (isBeforeFn(caretPosition)) {\n        return selectNode(editor, caretPosition.getNode(!forwards));\n      }\n      var nextCaretPosition = normalizePosition(forwards, getNextPosFn(caretPosition));\n      var rangeIsInContainerBlock = isRangeInCaretContainerBlock(range);\n      if (!nextCaretPosition) {\n        return rangeIsInContainerBlock ? Optional.some(range) : Optional.none();\n      }\n      if (isBeforeFn(nextCaretPosition)) {\n        return showCaret(direction, editor, nextCaretPosition.getNode(!forwards), forwards, false);\n      }\n      var peekCaretPosition = getNextPosFn(nextCaretPosition);\n      if (peekCaretPosition && isBeforeFn(peekCaretPosition)) {\n        if (isMoveInsideSameBlock(nextCaretPosition, peekCaretPosition)) {\n          return showCaret(direction, editor, peekCaretPosition.getNode(!forwards), forwards, false);\n        }\n      }\n      if (rangeIsInContainerBlock) {\n        return renderRangeCaretOpt(editor, nextCaretPosition.toRange(), false);\n      }\n      return Optional.none();\n    };\n    var moveVertically = function (editor, direction, range, isBefore, isAfter, isElement) {\n      var caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      var caretClientRect = last$1(caretPosition.getClientRects());\n      var forwards = direction === VDirection.Down;\n      if (!caretClientRect) {\n        return Optional.none();\n      }\n      var walkerFn = forwards ? downUntil : upUntil;\n      var linePositions = walkerFn(editor.getBody(), isAboveLine(1), caretPosition);\n      var nextLinePositions = filter$4(linePositions, isLine(1));\n      var clientX = caretClientRect.left;\n      var nextLineRect = findClosestClientRect(nextLinePositions, clientX);\n      if (nextLineRect && isElement(nextLineRect.node)) {\n        var dist1 = Math.abs(clientX - nextLineRect.left);\n        var dist2 = Math.abs(clientX - nextLineRect.right);\n        return showCaret(direction, editor, nextLineRect.node, dist1 < dist2, false);\n      }\n      var currentNode;\n      if (isBefore(caretPosition)) {\n        currentNode = caretPosition.getNode();\n      } else if (isAfter(caretPosition)) {\n        currentNode = caretPosition.getNode(true);\n      } else {\n        currentNode = getSelectedNode(range);\n      }\n      if (currentNode) {\n        var caretPositions = positionsUntil(direction, editor.getBody(), isAboveLine(1), currentNode);\n        var closestNextLineRect = findClosestClientRect(filter$4(caretPositions, isLine(1)), clientX);\n        if (closestNextLineRect) {\n          return renderRangeCaretOpt(editor, closestNextLineRect.position.toRange(), false);\n        }\n        closestNextLineRect = last$1(filter$4(caretPositions, isLine(0)));\n        if (closestNextLineRect) {\n          return renderRangeCaretOpt(editor, closestNextLineRect.position.toRange(), false);\n        }\n      }\n      if (nextLinePositions.length === 0) {\n        return getLineEndPoint(editor, forwards).filter(forwards ? isAfter : isBefore).map(function (pos) {\n          return renderRangeCaret(editor, pos.toRange(), false);\n        });\n      }\n      return Optional.none();\n    };\n    var getLineEndPoint = function (editor, forward) {\n      var rng = editor.selection.getRng();\n      var body = editor.getBody();\n      if (forward) {\n        var from = CaretPosition.fromRangeEnd(rng);\n        var result = getPositionsUntilNextLine(body, from);\n        return last$2(result.positions);\n      } else {\n        var from = CaretPosition.fromRangeStart(rng);\n        var result = getPositionsUntilPreviousLine(body, from);\n        return head(result.positions);\n      }\n    };\n    var moveToLineEndPoint$3 = function (editor, forward, isElementPosition) {\n      return getLineEndPoint(editor, forward).filter(isElementPosition).exists(function (pos) {\n        editor.selection.setRng(pos.toRange());\n        return true;\n      });\n    };\n\n    var setCaretPosition = function (editor, pos) {\n      var rng = editor.dom.createRng();\n      rng.setStart(pos.container(), pos.offset());\n      rng.setEnd(pos.container(), pos.offset());\n      editor.selection.setRng(rng);\n    };\n    var setSelected = function (state, elm) {\n      if (state) {\n        elm.setAttribute('data-mce-selected', 'inline-boundary');\n      } else {\n        elm.removeAttribute('data-mce-selected');\n      }\n    };\n    var renderCaretLocation = function (editor, caret, location) {\n      return renderCaret(caret, location).map(function (pos) {\n        setCaretPosition(editor, pos);\n        return location;\n      });\n    };\n    var findLocation = function (editor, caret, forward) {\n      var rootNode = editor.getBody();\n      var from = CaretPosition.fromRangeStart(editor.selection.getRng());\n      var isInlineTarget$1 = curry(isInlineTarget, editor);\n      var location = findLocation$1(forward, isInlineTarget$1, rootNode, from);\n      return location.bind(function (location) {\n        return renderCaretLocation(editor, caret, location);\n      });\n    };\n    var toggleInlines = function (isInlineTarget, dom, elms) {\n      var inlineBoundaries = map$3(descendants(SugarElement.fromDom(dom.getRoot()), '*[data-mce-selected=\"inline-boundary\"]'), function (e) {\n        return e.dom;\n      });\n      var selectedInlines = filter$4(inlineBoundaries, isInlineTarget);\n      var targetInlines = filter$4(elms, isInlineTarget);\n      each$k(difference(selectedInlines, targetInlines), curry(setSelected, false));\n      each$k(difference(targetInlines, selectedInlines), curry(setSelected, true));\n    };\n    var safeRemoveCaretContainer = function (editor, caret) {\n      if (editor.selection.isCollapsed() && editor.composing !== true && caret.get()) {\n        var pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n        if (CaretPosition.isTextPosition(pos) && isAtZwsp(pos) === false) {\n          setCaretPosition(editor, removeAndReposition(caret.get(), pos));\n          caret.set(null);\n        }\n      }\n    };\n    var renderInsideInlineCaret = function (isInlineTarget, editor, caret, elms) {\n      if (editor.selection.isCollapsed()) {\n        var inlines = filter$4(elms, isInlineTarget);\n        each$k(inlines, function (_inline) {\n          var pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n          readLocation(isInlineTarget, editor.getBody(), pos).bind(function (location) {\n            return renderCaretLocation(editor, caret, location);\n          });\n        });\n      }\n    };\n    var move$2 = function (editor, caret, forward) {\n      return isInlineBoundariesEnabled(editor) ? findLocation(editor, caret, forward).isSome() : false;\n    };\n    var moveWord = function (forward, editor, _caret) {\n      return isInlineBoundariesEnabled(editor) ? moveByWord(forward, editor) : false;\n    };\n    var setupSelectedState = function (editor) {\n      var caret = Cell(null);\n      var isInlineTarget$1 = curry(isInlineTarget, editor);\n      editor.on('NodeChange', function (e) {\n        if (isInlineBoundariesEnabled(editor) && !(Env.browser.isIE() && e.initial)) {\n          toggleInlines(isInlineTarget$1, editor.dom, e.parents);\n          safeRemoveCaretContainer(editor, caret);\n          renderInsideInlineCaret(isInlineTarget$1, editor, caret, e.parents);\n        }\n      });\n      return caret;\n    };\n    var moveNextWord = curry(moveWord, true);\n    var movePrevWord = curry(moveWord, false);\n    var moveToLineEndPoint$2 = function (editor, forward, caret) {\n      if (isInlineBoundariesEnabled(editor)) {\n        var linePoint = getLineEndPoint(editor, forward).getOrThunk(function () {\n          var rng = editor.selection.getRng();\n          return forward ? CaretPosition.fromRangeEnd(rng) : CaretPosition.fromRangeStart(rng);\n        });\n        return readLocation(curry(isInlineTarget, editor), editor.getBody(), linePoint).exists(function (loc) {\n          var outsideLoc = outside(loc);\n          return renderCaret(caret, outsideLoc).exists(function (pos) {\n            setCaretPosition(editor, pos);\n            return true;\n          });\n        });\n      } else {\n        return false;\n      }\n    };\n\n    var rangeFromPositions = function (from, to) {\n      var range = document.createRange();\n      range.setStart(from.container(), from.offset());\n      range.setEnd(to.container(), to.offset());\n      return range;\n    };\n    var hasOnlyTwoOrLessPositionsLeft = function (elm) {\n      return lift2(firstPositionIn(elm), lastPositionIn(elm), function (firstPos, lastPos) {\n        var normalizedFirstPos = normalizePosition(true, firstPos);\n        var normalizedLastPos = normalizePosition(false, lastPos);\n        return nextPosition(elm, normalizedFirstPos).forall(function (pos) {\n          return pos.isEqual(normalizedLastPos);\n        });\n      }).getOr(true);\n    };\n    var setCaretLocation = function (editor, caret) {\n      return function (location) {\n        return renderCaret(caret, location).exists(function (pos) {\n          setCaretPosition(editor, pos);\n          return true;\n        });\n      };\n    };\n    var deleteFromTo = function (editor, caret, from, to) {\n      var rootNode = editor.getBody();\n      var isInlineTarget$1 = curry(isInlineTarget, editor);\n      editor.undoManager.ignore(function () {\n        editor.selection.setRng(rangeFromPositions(from, to));\n        editor.execCommand('Delete');\n        readLocation(isInlineTarget$1, rootNode, CaretPosition.fromRangeStart(editor.selection.getRng())).map(inside).map(setCaretLocation(editor, caret));\n      });\n      editor.nodeChanged();\n    };\n    var rescope = function (rootNode, node) {\n      var parentBlock = getParentBlock$2(node, rootNode);\n      return parentBlock ? parentBlock : rootNode;\n    };\n    var backspaceDeleteCollapsed = function (editor, caret, forward, from) {\n      var rootNode = rescope(editor.getBody(), from.container());\n      var isInlineTarget$1 = curry(isInlineTarget, editor);\n      var fromLocation = readLocation(isInlineTarget$1, rootNode, from);\n      return fromLocation.bind(function (location) {\n        if (forward) {\n          return location.fold(constant(Optional.some(inside(location))), Optional.none, constant(Optional.some(outside(location))), Optional.none);\n        } else {\n          return location.fold(Optional.none, constant(Optional.some(outside(location))), Optional.none, constant(Optional.some(inside(location))));\n        }\n      }).map(setCaretLocation(editor, caret)).getOrThunk(function () {\n        var toPosition = navigate(forward, rootNode, from);\n        var toLocation = toPosition.bind(function (pos) {\n          return readLocation(isInlineTarget$1, rootNode, pos);\n        });\n        return lift2(fromLocation, toLocation, function () {\n          return findRootInline(isInlineTarget$1, rootNode, from).exists(function (elm) {\n            if (hasOnlyTwoOrLessPositionsLeft(elm)) {\n              deleteElement$2(editor, forward, SugarElement.fromDom(elm));\n              return true;\n            } else {\n              return false;\n            }\n          });\n        }).orThunk(function () {\n          return toLocation.bind(function (_) {\n            return toPosition.map(function (to) {\n              if (forward) {\n                deleteFromTo(editor, caret, from, to);\n              } else {\n                deleteFromTo(editor, caret, to, from);\n              }\n              return true;\n            });\n          });\n        }).getOr(false);\n      });\n    };\n    var backspaceDelete$3 = function (editor, caret, forward) {\n      if (editor.selection.isCollapsed() && isInlineBoundariesEnabled(editor)) {\n        var from = CaretPosition.fromRangeStart(editor.selection.getRng());\n        return backspaceDeleteCollapsed(editor, caret, forward, from);\n      }\n      return false;\n    };\n\n    var getParentInlines = function (rootElm, startElm) {\n      var parents = parentsAndSelf(startElm, rootElm);\n      return findIndex$2(parents, isBlock$2).fold(constant(parents), function (index) {\n        return parents.slice(0, index);\n      });\n    };\n    var hasOnlyOneChild = function (elm) {\n      return childNodesCount(elm) === 1;\n    };\n    var deleteLastPosition = function (forward, editor, target, parentInlines) {\n      var isFormatElement$1 = curry(isFormatElement, editor);\n      var formatNodes = map$3(filter$4(parentInlines, isFormatElement$1), function (elm) {\n        return elm.dom;\n      });\n      if (formatNodes.length === 0) {\n        deleteElement$2(editor, forward, target);\n      } else {\n        var pos = replaceWithCaretFormat(target.dom, formatNodes);\n        editor.selection.setRng(pos.toRange());\n      }\n    };\n    var deleteCaret$1 = function (editor, forward) {\n      var rootElm = SugarElement.fromDom(editor.getBody());\n      var startElm = SugarElement.fromDom(editor.selection.getStart());\n      var parentInlines = filter$4(getParentInlines(rootElm, startElm), hasOnlyOneChild);\n      return last$2(parentInlines).exists(function (target) {\n        var fromPos = CaretPosition.fromRangeStart(editor.selection.getRng());\n        if (willDeleteLastPositionInElement(forward, fromPos, target.dom) && !isEmptyCaretFormatElement(target)) {\n          deleteLastPosition(forward, editor, target, parentInlines);\n          return true;\n        } else {\n          return false;\n        }\n      });\n    };\n    var backspaceDelete$2 = function (editor, forward) {\n      return editor.selection.isCollapsed() ? deleteCaret$1(editor, forward) : false;\n    };\n\n    var deleteElement = function (editor, forward, element) {\n      editor._selectionOverrides.hideFakeCaret();\n      deleteElement$2(editor, forward, SugarElement.fromDom(element));\n      return true;\n    };\n    var deleteCaret = function (editor, forward) {\n      var isNearMedia = forward ? isBeforeMedia : isAfterMedia;\n      var direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      var fromPos = getNormalizedRangeEndPoint(direction, editor.getBody(), editor.selection.getRng());\n      if (isNearMedia(fromPos)) {\n        return deleteElement(editor, forward, fromPos.getNode(!forward));\n      } else {\n        return Optional.from(normalizePosition(forward, fromPos)).filter(function (pos) {\n          return isNearMedia(pos) && isMoveInsideSameBlock(fromPos, pos);\n        }).exists(function (pos) {\n          return deleteElement(editor, forward, pos.getNode(!forward));\n        });\n      }\n    };\n    var deleteRange = function (editor, forward) {\n      var selectedNode = editor.selection.getNode();\n      return isMedia$2(selectedNode) ? deleteElement(editor, forward, selectedNode) : false;\n    };\n    var backspaceDelete$1 = function (editor, forward) {\n      return editor.selection.isCollapsed() ? deleteCaret(editor, forward) : deleteRange(editor, forward);\n    };\n\n    var isEditable = function (target) {\n      return closest$3(target, function (elm) {\n        return isContentEditableTrue$4(elm.dom) || isContentEditableFalse$b(elm.dom);\n      }).exists(function (elm) {\n        return isContentEditableTrue$4(elm.dom);\n      });\n    };\n    var parseIndentValue = function (value) {\n      var number = parseInt(value, 10);\n      return isNaN(number) ? 0 : number;\n    };\n    var getIndentStyleName = function (useMargin, element) {\n      var indentStyleName = useMargin || isTable$2(element) ? 'margin' : 'padding';\n      var suffix = get$5(element, 'direction') === 'rtl' ? '-right' : '-left';\n      return indentStyleName + suffix;\n    };\n    var indentElement = function (dom, command, useMargin, value, unit, element) {\n      var indentStyleName = getIndentStyleName(useMargin, SugarElement.fromDom(element));\n      if (command === 'outdent') {\n        var styleValue = Math.max(0, parseIndentValue(element.style[indentStyleName]) - value);\n        dom.setStyle(element, indentStyleName, styleValue ? styleValue + unit : '');\n      } else {\n        var styleValue = parseIndentValue(element.style[indentStyleName]) + value + unit;\n        dom.setStyle(element, indentStyleName, styleValue);\n      }\n    };\n    var validateBlocks = function (editor, blocks) {\n      return forall(blocks, function (block) {\n        var indentStyleName = getIndentStyleName(shouldIndentUseMargin(editor), block);\n        var intentValue = getRaw(block, indentStyleName).map(parseIndentValue).getOr(0);\n        var contentEditable = editor.dom.getContentEditable(block.dom);\n        return contentEditable !== 'false' && intentValue > 0;\n      });\n    };\n    var canOutdent = function (editor) {\n      var blocks = getBlocksToIndent(editor);\n      return !editor.mode.isReadOnly() && (blocks.length > 1 || validateBlocks(editor, blocks));\n    };\n    var isListComponent = function (el) {\n      return isList(el) || isListItem(el);\n    };\n    var parentIsListComponent = function (el) {\n      return parent(el).exists(isListComponent);\n    };\n    var getBlocksToIndent = function (editor) {\n      return filter$4(fromDom$1(editor.selection.getSelectedBlocks()), function (el) {\n        return !isListComponent(el) && !parentIsListComponent(el) && isEditable(el);\n      });\n    };\n    var handle = function (editor, command) {\n      var dom = editor.dom, selection = editor.selection, formatter = editor.formatter;\n      var indentation = getIndentation(editor);\n      var indentUnit = /[a-z%]+$/i.exec(indentation)[0];\n      var indentValue = parseInt(indentation, 10);\n      var useMargin = shouldIndentUseMargin(editor);\n      var forcedRootBlock = getForcedRootBlock(editor);\n      if (!editor.queryCommandState('InsertUnorderedList') && !editor.queryCommandState('InsertOrderedList')) {\n        if (forcedRootBlock === '' && !dom.getParent(selection.getNode(), dom.isBlock)) {\n          formatter.apply('div');\n        }\n      }\n      each$k(getBlocksToIndent(editor), function (block) {\n        indentElement(dom, command, useMargin, indentValue, indentUnit, block.dom);\n      });\n    };\n\n    var backspaceDelete = function (editor, _forward) {\n      if (editor.selection.isCollapsed() && canOutdent(editor)) {\n        var dom = editor.dom;\n        var rng = editor.selection.getRng();\n        var pos = CaretPosition.fromRangeStart(rng);\n        var block = dom.getParent(rng.startContainer, dom.isBlock);\n        if (block !== null && isAtStartOfBlock(SugarElement.fromDom(block), pos)) {\n          handle(editor, 'outdent');\n          return true;\n        }\n      }\n      return false;\n    };\n\n    var nativeCommand = function (editor, command) {\n      editor.getDoc().execCommand(command, false, null);\n    };\n    var deleteCommand = function (editor, caret) {\n      if (backspaceDelete(editor)) {\n        return;\n      } else if (backspaceDelete$5(editor, false)) {\n        return;\n      } else if (backspaceDelete$6(editor, false)) {\n        return;\n      } else if (backspaceDelete$3(editor, caret, false)) {\n        return;\n      } else if (backspaceDelete$8(editor, false)) {\n        return;\n      } else if (backspaceDelete$9(editor)) {\n        return;\n      } else if (backspaceDelete$4(editor, false)) {\n        return;\n      } else if (backspaceDelete$1(editor, false)) {\n        return;\n      } else if (backspaceDelete$7(editor)) {\n        return;\n      } else if (backspaceDelete$2(editor, false)) {\n        return;\n      } else {\n        nativeCommand(editor, 'Delete');\n        paddEmptyBody(editor);\n      }\n    };\n    var forwardDeleteCommand = function (editor, caret) {\n      if (backspaceDelete$5(editor, true)) {\n        return;\n      } else if (backspaceDelete$6(editor, true)) {\n        return;\n      } else if (backspaceDelete$3(editor, caret, true)) {\n        return;\n      } else if (backspaceDelete$8(editor, true)) {\n        return;\n      } else if (backspaceDelete$9(editor)) {\n        return;\n      } else if (backspaceDelete$4(editor, true)) {\n        return;\n      } else if (backspaceDelete$1(editor, true)) {\n        return;\n      } else if (backspaceDelete$7(editor)) {\n        return;\n      } else if (backspaceDelete$2(editor, true)) {\n        return;\n      } else {\n        nativeCommand(editor, 'ForwardDelete');\n      }\n    };\n    var setup$f = function (editor, caret) {\n      editor.addCommand('delete', function () {\n        deleteCommand(editor, caret);\n      });\n      editor.addCommand('forwardDelete', function () {\n        forwardDeleteCommand(editor, caret);\n      });\n    };\n\n    var SIGNIFICANT_MOVE = 5;\n    var LONGPRESS_DELAY = 400;\n    var getTouch = function (event) {\n      if (event.touches === undefined || event.touches.length !== 1) {\n        return Optional.none();\n      }\n      return Optional.some(event.touches[0]);\n    };\n    var isFarEnough = function (touch, data) {\n      var distX = Math.abs(touch.clientX - data.x);\n      var distY = Math.abs(touch.clientY - data.y);\n      return distX > SIGNIFICANT_MOVE || distY > SIGNIFICANT_MOVE;\n    };\n    var setup$e = function (editor) {\n      var startData = value();\n      var longpressFired = Cell(false);\n      var debounceLongpress = last(function (e) {\n        editor.fire('longpress', __assign(__assign({}, e), { type: 'longpress' }));\n        longpressFired.set(true);\n      }, LONGPRESS_DELAY);\n      editor.on('touchstart', function (e) {\n        getTouch(e).each(function (touch) {\n          debounceLongpress.cancel();\n          var data = {\n            x: touch.clientX,\n            y: touch.clientY,\n            target: e.target\n          };\n          debounceLongpress.throttle(e);\n          longpressFired.set(false);\n          startData.set(data);\n        });\n      }, true);\n      editor.on('touchmove', function (e) {\n        debounceLongpress.cancel();\n        getTouch(e).each(function (touch) {\n          startData.on(function (data) {\n            if (isFarEnough(touch, data)) {\n              startData.clear();\n              longpressFired.set(false);\n              editor.fire('longpresscancel');\n            }\n          });\n        });\n      }, true);\n      editor.on('touchend touchcancel', function (e) {\n        debounceLongpress.cancel();\n        if (e.type === 'touchcancel') {\n          return;\n        }\n        startData.get().filter(function (data) {\n          return data.target.isEqualNode(e.target);\n        }).each(function () {\n          if (longpressFired.get()) {\n            e.preventDefault();\n          } else {\n            editor.fire('tap', __assign(__assign({}, e), { type: 'tap' }));\n          }\n        });\n      }, true);\n    };\n\n    var isBlockElement = function (blockElements, node) {\n      return has$2(blockElements, node.nodeName);\n    };\n    var isValidTarget = function (blockElements, node) {\n      if (isText$7(node)) {\n        return true;\n      } else if (isElement$5(node)) {\n        return !isBlockElement(blockElements, node) && !isBookmarkNode$1(node);\n      } else {\n        return false;\n      }\n    };\n    var hasBlockParent = function (blockElements, root, node) {\n      return exists(parents(SugarElement.fromDom(node), SugarElement.fromDom(root)), function (elm) {\n        return isBlockElement(blockElements, elm.dom);\n      });\n    };\n    var shouldRemoveTextNode = function (blockElements, node) {\n      if (isText$7(node)) {\n        if (node.nodeValue.length === 0) {\n          return true;\n        } else if (/^\\s+$/.test(node.nodeValue) && (!node.nextSibling || isBlockElement(blockElements, node.nextSibling))) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var addRootBlocks = function (editor) {\n      var dom = editor.dom, selection = editor.selection;\n      var schema = editor.schema, blockElements = schema.getBlockElements();\n      var node = selection.getStart();\n      var rootNode = editor.getBody();\n      var rootBlockNode, tempNode, wrapped;\n      var forcedRootBlock = getForcedRootBlock(editor);\n      if (!node || !isElement$5(node) || !forcedRootBlock) {\n        return;\n      }\n      var rootNodeName = rootNode.nodeName.toLowerCase();\n      if (!schema.isValidChild(rootNodeName, forcedRootBlock.toLowerCase()) || hasBlockParent(blockElements, rootNode, node)) {\n        return;\n      }\n      var rng = selection.getRng();\n      var startContainer = rng.startContainer;\n      var startOffset = rng.startOffset;\n      var endContainer = rng.endContainer;\n      var endOffset = rng.endOffset;\n      var restoreSelection = hasFocus(editor);\n      node = rootNode.firstChild;\n      while (node) {\n        if (isValidTarget(blockElements, node)) {\n          if (shouldRemoveTextNode(blockElements, node)) {\n            tempNode = node;\n            node = node.nextSibling;\n            dom.remove(tempNode);\n            continue;\n          }\n          if (!rootBlockNode) {\n            rootBlockNode = dom.create(forcedRootBlock, getForcedRootBlockAttrs(editor));\n            node.parentNode.insertBefore(rootBlockNode, node);\n            wrapped = true;\n          }\n          tempNode = node;\n          node = node.nextSibling;\n          rootBlockNode.appendChild(tempNode);\n        } else {\n          rootBlockNode = null;\n          node = node.nextSibling;\n        }\n      }\n      if (wrapped && restoreSelection) {\n        rng.setStart(startContainer, startOffset);\n        rng.setEnd(endContainer, endOffset);\n        selection.setRng(rng);\n        editor.nodeChanged();\n      }\n    };\n    var setup$d = function (editor) {\n      if (getForcedRootBlock(editor)) {\n        editor.on('NodeChange', curry(addRootBlocks, editor));\n      }\n    };\n\n    var findBlockCaretContainer = function (editor) {\n      return descendant(SugarElement.fromDom(editor.getBody()), '*[data-mce-caret]').map(function (elm) {\n        return elm.dom;\n      }).getOrNull();\n    };\n    var removeIeControlRect = function (editor) {\n      editor.selection.setRng(editor.selection.getRng());\n    };\n    var showBlockCaretContainer = function (editor, blockCaretContainer) {\n      if (blockCaretContainer.hasAttribute('data-mce-caret')) {\n        showCaretContainerBlock(blockCaretContainer);\n        removeIeControlRect(editor);\n        editor.selection.scrollIntoView(blockCaretContainer);\n      }\n    };\n    var handleBlockContainer = function (editor, e) {\n      var blockCaretContainer = findBlockCaretContainer(editor);\n      if (!blockCaretContainer) {\n        return;\n      }\n      if (e.type === 'compositionstart') {\n        e.preventDefault();\n        e.stopPropagation();\n        showBlockCaretContainer(editor, blockCaretContainer);\n        return;\n      }\n      if (hasContent(blockCaretContainer)) {\n        showBlockCaretContainer(editor, blockCaretContainer);\n        editor.undoManager.add();\n      }\n    };\n    var setup$c = function (editor) {\n      editor.on('keyup compositionstart', curry(handleBlockContainer, editor));\n    };\n\n    var isContentEditableFalse$2 = isContentEditableFalse$b;\n    var moveToCeFalseHorizontally = function (direction, editor, range) {\n      return moveHorizontally(editor, direction, range, isBeforeContentEditableFalse, isAfterContentEditableFalse, isContentEditableFalse$2);\n    };\n    var moveToCeFalseVertically = function (direction, editor, range) {\n      var isBefore = function (caretPosition) {\n        return isBeforeContentEditableFalse(caretPosition) || isBeforeTable(caretPosition);\n      };\n      var isAfter = function (caretPosition) {\n        return isAfterContentEditableFalse(caretPosition) || isAfterTable(caretPosition);\n      };\n      return moveVertically(editor, direction, range, isBefore, isAfter, isContentEditableFalse$2);\n    };\n    var createTextBlock = function (editor) {\n      var textBlock = editor.dom.create(getForcedRootBlock(editor));\n      if (!Env.ie || Env.ie >= 11) {\n        textBlock.innerHTML = '<br data-mce-bogus=\"1\">';\n      }\n      return textBlock;\n    };\n    var exitPreBlock = function (editor, direction, range) {\n      var caretWalker = CaretWalker(editor.getBody());\n      var getVisualCaretPosition$1 = curry(getVisualCaretPosition, direction === 1 ? caretWalker.next : caretWalker.prev);\n      if (range.collapsed && hasForcedRootBlock(editor)) {\n        var pre = editor.dom.getParent(range.startContainer, 'PRE');\n        if (!pre) {\n          return;\n        }\n        var caretPos = getVisualCaretPosition$1(CaretPosition.fromRangeStart(range));\n        if (!caretPos) {\n          var newBlock = createTextBlock(editor);\n          if (direction === 1) {\n            editor.$(pre).after(newBlock);\n          } else {\n            editor.$(pre).before(newBlock);\n          }\n          editor.selection.select(newBlock, true);\n          editor.selection.collapse();\n        }\n      }\n    };\n    var getHorizontalRange = function (editor, forward) {\n      var direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      var range = editor.selection.getRng();\n      return moveToCeFalseHorizontally(direction, editor, range).orThunk(function () {\n        exitPreBlock(editor, direction, range);\n        return Optional.none();\n      });\n    };\n    var getVerticalRange = function (editor, down) {\n      var direction = down ? 1 : -1;\n      var range = editor.selection.getRng();\n      return moveToCeFalseVertically(direction, editor, range).orThunk(function () {\n        exitPreBlock(editor, direction, range);\n        return Optional.none();\n      });\n    };\n    var moveH$2 = function (editor, forward) {\n      return getHorizontalRange(editor, forward).exists(function (newRange) {\n        moveToRange(editor, newRange);\n        return true;\n      });\n    };\n    var moveV$3 = function (editor, down) {\n      return getVerticalRange(editor, down).exists(function (newRange) {\n        moveToRange(editor, newRange);\n        return true;\n      });\n    };\n    var moveToLineEndPoint$1 = function (editor, forward) {\n      var isCefPosition = forward ? isAfterContentEditableFalse : isBeforeContentEditableFalse;\n      return moveToLineEndPoint$3(editor, forward, isCefPosition);\n    };\n\n    var isTarget = function (node) {\n      return contains$3(['figcaption'], name(node));\n    };\n    var rangeBefore = function (target) {\n      var rng = document.createRange();\n      rng.setStartBefore(target.dom);\n      rng.setEndBefore(target.dom);\n      return rng;\n    };\n    var insertElement = function (root, elm, forward) {\n      if (forward) {\n        append$1(root, elm);\n      } else {\n        prepend(root, elm);\n      }\n    };\n    var insertBr = function (root, forward) {\n      var br = SugarElement.fromTag('br');\n      insertElement(root, br, forward);\n      return rangeBefore(br);\n    };\n    var insertBlock = function (root, forward, blockName, attrs) {\n      var block = SugarElement.fromTag(blockName);\n      var br = SugarElement.fromTag('br');\n      setAll$1(block, attrs);\n      append$1(block, br);\n      insertElement(root, block, forward);\n      return rangeBefore(br);\n    };\n    var insertEmptyLine = function (root, rootBlockName, attrs, forward) {\n      if (rootBlockName === '') {\n        return insertBr(root, forward);\n      } else {\n        return insertBlock(root, forward, rootBlockName, attrs);\n      }\n    };\n    var getClosestTargetBlock = function (pos, root) {\n      var isRoot = curry(eq, root);\n      return closest$3(SugarElement.fromDom(pos.container()), isBlock$2, isRoot).filter(isTarget);\n    };\n    var isAtFirstOrLastLine = function (root, forward, pos) {\n      return forward ? isAtLastLine(root.dom, pos) : isAtFirstLine(root.dom, pos);\n    };\n    var moveCaretToNewEmptyLine = function (editor, forward) {\n      var root = SugarElement.fromDom(editor.getBody());\n      var pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      var rootBlock = getForcedRootBlock(editor);\n      var rootBlockAttrs = getForcedRootBlockAttrs(editor);\n      return getClosestTargetBlock(pos, root).exists(function () {\n        if (isAtFirstOrLastLine(root, forward, pos)) {\n          var rng = insertEmptyLine(root, rootBlock, rootBlockAttrs, forward);\n          editor.selection.setRng(rng);\n          return true;\n        } else {\n          return false;\n        }\n      });\n    };\n    var moveV$2 = function (editor, forward) {\n      if (editor.selection.isCollapsed()) {\n        return moveCaretToNewEmptyLine(editor, forward);\n      } else {\n        return false;\n      }\n    };\n\n    var defaultPatterns = function (patterns) {\n      return map$3(patterns, function (pattern) {\n        return __assign({\n          shiftKey: false,\n          altKey: false,\n          ctrlKey: false,\n          metaKey: false,\n          keyCode: 0,\n          action: noop\n        }, pattern);\n      });\n    };\n    var matchesEvent = function (pattern, evt) {\n      return evt.keyCode === pattern.keyCode && evt.shiftKey === pattern.shiftKey && evt.altKey === pattern.altKey && evt.ctrlKey === pattern.ctrlKey && evt.metaKey === pattern.metaKey;\n    };\n    var match$1 = function (patterns, evt) {\n      return bind(defaultPatterns(patterns), function (pattern) {\n        return matchesEvent(pattern, evt) ? [pattern] : [];\n      });\n    };\n    var action = function (f) {\n      var x = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        x[_i - 1] = arguments[_i];\n      }\n      return function () {\n        return f.apply(null, x);\n      };\n    };\n    var execute = function (patterns, evt) {\n      return find$3(match$1(patterns, evt), function (pattern) {\n        return pattern.action();\n      });\n    };\n\n    var moveH$1 = function (editor, forward) {\n      var direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      var range = editor.selection.getRng();\n      return moveHorizontally(editor, direction, range, isBeforeMedia, isAfterMedia, isMedia$2).exists(function (newRange) {\n        moveToRange(editor, newRange);\n        return true;\n      });\n    };\n    var moveV$1 = function (editor, down) {\n      var direction = down ? 1 : -1;\n      var range = editor.selection.getRng();\n      return moveVertically(editor, direction, range, isBeforeMedia, isAfterMedia, isMedia$2).exists(function (newRange) {\n        moveToRange(editor, newRange);\n        return true;\n      });\n    };\n    var moveToLineEndPoint = function (editor, forward) {\n      var isNearMedia = forward ? isAfterMedia : isBeforeMedia;\n      return moveToLineEndPoint$3(editor, forward, isNearMedia);\n    };\n\n    var deflate = function (rect, delta) {\n      return {\n        left: rect.left - delta,\n        top: rect.top - delta,\n        right: rect.right + delta * 2,\n        bottom: rect.bottom + delta * 2,\n        width: rect.width + delta,\n        height: rect.height + delta\n      };\n    };\n    var getCorners = function (getYAxisValue, tds) {\n      return bind(tds, function (td) {\n        var rect = deflate(clone(td.getBoundingClientRect()), -1);\n        return [\n          {\n            x: rect.left,\n            y: getYAxisValue(rect),\n            cell: td\n          },\n          {\n            x: rect.right,\n            y: getYAxisValue(rect),\n            cell: td\n          }\n        ];\n      });\n    };\n    var findClosestCorner = function (corners, x, y) {\n      return foldl(corners, function (acc, newCorner) {\n        return acc.fold(function () {\n          return Optional.some(newCorner);\n        }, function (oldCorner) {\n          var oldDist = Math.sqrt(Math.abs(oldCorner.x - x) + Math.abs(oldCorner.y - y));\n          var newDist = Math.sqrt(Math.abs(newCorner.x - x) + Math.abs(newCorner.y - y));\n          return Optional.some(newDist < oldDist ? newCorner : oldCorner);\n        });\n      }, Optional.none());\n    };\n    var getClosestCell = function (getYAxisValue, isTargetCorner, table, x, y) {\n      var cells = descendants(SugarElement.fromDom(table), 'td,th,caption').map(function (e) {\n        return e.dom;\n      });\n      var corners = filter$4(getCorners(getYAxisValue, cells), function (corner) {\n        return isTargetCorner(corner, y);\n      });\n      return findClosestCorner(corners, x, y).map(function (corner) {\n        return corner.cell;\n      });\n    };\n    var getBottomValue = function (rect) {\n      return rect.bottom;\n    };\n    var getTopValue = function (rect) {\n      return rect.top;\n    };\n    var isAbove = function (corner, y) {\n      return corner.y < y;\n    };\n    var isBelow = function (corner, y) {\n      return corner.y > y;\n    };\n    var getClosestCellAbove = curry(getClosestCell, getBottomValue, isAbove);\n    var getClosestCellBelow = curry(getClosestCell, getTopValue, isBelow);\n    var findClosestPositionInAboveCell = function (table, pos) {\n      return head(pos.getClientRects()).bind(function (rect) {\n        return getClosestCellAbove(table, rect.left, rect.top);\n      }).bind(function (cell) {\n        return findClosestHorizontalPosition(getLastLinePositions(cell), pos);\n      });\n    };\n    var findClosestPositionInBelowCell = function (table, pos) {\n      return last$2(pos.getClientRects()).bind(function (rect) {\n        return getClosestCellBelow(table, rect.left, rect.top);\n      }).bind(function (cell) {\n        return findClosestHorizontalPosition(getFirstLinePositions(cell), pos);\n      });\n    };\n\n    var hasNextBreak = function (getPositionsUntil, scope, lineInfo) {\n      return lineInfo.breakAt.exists(function (breakPos) {\n        return getPositionsUntil(scope, breakPos).breakAt.isSome();\n      });\n    };\n    var startsWithWrapBreak = function (lineInfo) {\n      return lineInfo.breakType === BreakType.Wrap && lineInfo.positions.length === 0;\n    };\n    var startsWithBrBreak = function (lineInfo) {\n      return lineInfo.breakType === BreakType.Br && lineInfo.positions.length === 1;\n    };\n    var isAtTableCellLine = function (getPositionsUntil, scope, pos) {\n      var lineInfo = getPositionsUntil(scope, pos);\n      if (startsWithWrapBreak(lineInfo) || !isBr$5(pos.getNode()) && startsWithBrBreak(lineInfo)) {\n        return !hasNextBreak(getPositionsUntil, scope, lineInfo);\n      } else {\n        return lineInfo.breakAt.isNone();\n      }\n    };\n    var isAtFirstTableCellLine = curry(isAtTableCellLine, getPositionsUntilPreviousLine);\n    var isAtLastTableCellLine = curry(isAtTableCellLine, getPositionsUntilNextLine);\n    var isCaretAtStartOrEndOfTable = function (forward, rng, table) {\n      var caretPos = CaretPosition.fromRangeStart(rng);\n      return positionIn(!forward, table).exists(function (pos) {\n        return pos.isEqual(caretPos);\n      });\n    };\n    var navigateHorizontally = function (editor, forward, table, _td) {\n      var rng = editor.selection.getRng();\n      var direction = forward ? 1 : -1;\n      if (isFakeCaretTableBrowser() && isCaretAtStartOrEndOfTable(forward, rng, table)) {\n        showCaret(direction, editor, table, !forward, false).each(function (newRng) {\n          moveToRange(editor, newRng);\n        });\n        return true;\n      }\n      return false;\n    };\n    var getClosestAbovePosition = function (root, table, start) {\n      return findClosestPositionInAboveCell(table, start).orThunk(function () {\n        return head(start.getClientRects()).bind(function (rect) {\n          return findClosestHorizontalPositionFromPoint(getPositionsAbove(root, CaretPosition.before(table)), rect.left);\n        });\n      }).getOr(CaretPosition.before(table));\n    };\n    var getClosestBelowPosition = function (root, table, start) {\n      return findClosestPositionInBelowCell(table, start).orThunk(function () {\n        return head(start.getClientRects()).bind(function (rect) {\n          return findClosestHorizontalPositionFromPoint(getPositionsBelow(root, CaretPosition.after(table)), rect.left);\n        });\n      }).getOr(CaretPosition.after(table));\n    };\n    var getTable = function (previous, pos) {\n      var node = pos.getNode(previous);\n      return isElement$5(node) && node.nodeName === 'TABLE' ? Optional.some(node) : Optional.none();\n    };\n    var renderBlock = function (down, editor, table, pos) {\n      var forcedRootBlock = getForcedRootBlock(editor);\n      if (forcedRootBlock) {\n        editor.undoManager.transact(function () {\n          var element = SugarElement.fromTag(forcedRootBlock);\n          setAll$1(element, getForcedRootBlockAttrs(editor));\n          append$1(element, SugarElement.fromTag('br'));\n          if (down) {\n            after$3(SugarElement.fromDom(table), element);\n          } else {\n            before$4(SugarElement.fromDom(table), element);\n          }\n          var rng = editor.dom.createRng();\n          rng.setStart(element.dom, 0);\n          rng.setEnd(element.dom, 0);\n          moveToRange(editor, rng);\n        });\n      } else {\n        moveToRange(editor, pos.toRange());\n      }\n    };\n    var moveCaret = function (editor, down, pos) {\n      var table = down ? getTable(true, pos) : getTable(false, pos);\n      var last = down === false;\n      table.fold(function () {\n        return moveToRange(editor, pos.toRange());\n      }, function (table) {\n        return positionIn(last, editor.getBody()).filter(function (lastPos) {\n          return lastPos.isEqual(pos);\n        }).fold(function () {\n          return moveToRange(editor, pos.toRange());\n        }, function (_) {\n          return renderBlock(down, editor, table, pos);\n        });\n      });\n    };\n    var navigateVertically = function (editor, down, table, td) {\n      var rng = editor.selection.getRng();\n      var pos = CaretPosition.fromRangeStart(rng);\n      var root = editor.getBody();\n      if (!down && isAtFirstTableCellLine(td, pos)) {\n        var newPos = getClosestAbovePosition(root, table, pos);\n        moveCaret(editor, down, newPos);\n        return true;\n      } else if (down && isAtLastTableCellLine(td, pos)) {\n        var newPos = getClosestBelowPosition(root, table, pos);\n        moveCaret(editor, down, newPos);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var move$1 = function (editor, forward, mover) {\n      return Optional.from(editor.dom.getParent(editor.selection.getNode(), 'td,th')).bind(function (td) {\n        return Optional.from(editor.dom.getParent(td, 'table')).map(function (table) {\n          return mover(editor, forward, table, td);\n        });\n      }).getOr(false);\n    };\n    var moveH = function (editor, forward) {\n      return move$1(editor, forward, navigateHorizontally);\n    };\n    var moveV = function (editor, forward) {\n      return move$1(editor, forward, navigateVertically);\n    };\n\n    var executeKeydownOverride$3 = function (editor, caret, evt) {\n      var os = detect().os;\n      execute([\n        {\n          keyCode: VK.RIGHT,\n          action: action(moveH$2, editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(moveH$2, editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV$3, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV$3, editor, true)\n        },\n        {\n          keyCode: VK.RIGHT,\n          action: action(moveH, editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(moveH, editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV, editor, true)\n        },\n        {\n          keyCode: VK.RIGHT,\n          action: action(moveH$1, editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(moveH$1, editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV$1, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV$1, editor, true)\n        },\n        {\n          keyCode: VK.RIGHT,\n          action: action(move$2, editor, caret, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(move$2, editor, caret, false)\n        },\n        {\n          keyCode: VK.RIGHT,\n          ctrlKey: !os.isOSX(),\n          altKey: os.isOSX(),\n          action: action(moveNextWord, editor, caret)\n        },\n        {\n          keyCode: VK.LEFT,\n          ctrlKey: !os.isOSX(),\n          altKey: os.isOSX(),\n          action: action(movePrevWord, editor, caret)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV$2, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV$2, editor, true)\n        }\n      ], evt).each(function (_) {\n        evt.preventDefault();\n      });\n    };\n    var setup$b = function (editor, caret) {\n      editor.on('keydown', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride$3(editor, caret, evt);\n        }\n      });\n    };\n\n    var executeKeydownOverride$2 = function (editor, caret, evt) {\n      execute([\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete, editor, false)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$5, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$5, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$6, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$6, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$3, editor, caret, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$3, editor, caret, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$9, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$9, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$4, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$4, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$1, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$1, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$7, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$7, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$8, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$8, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$2, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$2, editor, true)\n        }\n      ], evt).each(function (_) {\n        evt.preventDefault();\n      });\n    };\n    var executeKeyupOverride = function (editor, evt) {\n      execute([\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(paddEmptyElement, editor)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(paddEmptyElement, editor)\n        }\n      ], evt);\n    };\n    var setup$a = function (editor, caret) {\n      editor.on('keydown', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride$2(editor, caret, evt);\n        }\n      });\n      editor.on('keyup', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeyupOverride(editor, evt);\n        }\n      });\n    };\n\n    var firstNonWhiteSpaceNodeSibling = function (node) {\n      while (node) {\n        if (node.nodeType === 1 || node.nodeType === 3 && node.data && /[\\r\\n\\s]/.test(node.data)) {\n          return node;\n        }\n        node = node.nextSibling;\n      }\n    };\n    var moveToCaretPosition = function (editor, root) {\n      var node, lastNode = root;\n      var dom = editor.dom;\n      var moveCaretBeforeOnEnterElementsMap = editor.schema.getMoveCaretBeforeOnEnterElements();\n      if (!root) {\n        return;\n      }\n      if (/^(LI|DT|DD)$/.test(root.nodeName)) {\n        var firstChild = firstNonWhiteSpaceNodeSibling(root.firstChild);\n        if (firstChild && /^(UL|OL|DL)$/.test(firstChild.nodeName)) {\n          root.insertBefore(dom.doc.createTextNode(nbsp), root.firstChild);\n        }\n      }\n      var rng = dom.createRng();\n      root.normalize();\n      if (root.hasChildNodes()) {\n        var walker = new DomTreeWalker(root, root);\n        while (node = walker.current()) {\n          if (isText$7(node)) {\n            rng.setStart(node, 0);\n            rng.setEnd(node, 0);\n            break;\n          }\n          if (moveCaretBeforeOnEnterElementsMap[node.nodeName.toLowerCase()]) {\n            rng.setStartBefore(node);\n            rng.setEndBefore(node);\n            break;\n          }\n          lastNode = node;\n          node = walker.next();\n        }\n        if (!node) {\n          rng.setStart(lastNode, 0);\n          rng.setEnd(lastNode, 0);\n        }\n      } else {\n        if (isBr$5(root)) {\n          if (root.nextSibling && dom.isBlock(root.nextSibling)) {\n            rng.setStartBefore(root);\n            rng.setEndBefore(root);\n          } else {\n            rng.setStartAfter(root);\n            rng.setEndAfter(root);\n          }\n        } else {\n          rng.setStart(root, 0);\n          rng.setEnd(root, 0);\n        }\n      }\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, rng);\n    };\n    var getEditableRoot$1 = function (dom, node) {\n      var root = dom.getRoot();\n      var parent, editableRoot;\n      parent = node;\n      while (parent !== root && dom.getContentEditable(parent) !== 'false') {\n        if (dom.getContentEditable(parent) === 'true') {\n          editableRoot = parent;\n        }\n        parent = parent.parentNode;\n      }\n      return parent !== root ? editableRoot : root;\n    };\n    var getParentBlock = function (editor) {\n      return Optional.from(editor.dom.getParent(editor.selection.getStart(true), editor.dom.isBlock));\n    };\n    var getParentBlockName = function (editor) {\n      return getParentBlock(editor).fold(constant(''), function (parentBlock) {\n        return parentBlock.nodeName.toUpperCase();\n      });\n    };\n    var isListItemParentBlock = function (editor) {\n      return getParentBlock(editor).filter(function (elm) {\n        return isListItem(SugarElement.fromDom(elm));\n      }).isSome();\n    };\n\n    var hasFirstChild = function (elm, name) {\n      return elm.firstChild && elm.firstChild.nodeName === name;\n    };\n    var isFirstChild = function (elm) {\n      var _a;\n      return ((_a = elm.parentNode) === null || _a === void 0 ? void 0 : _a.firstChild) === elm;\n    };\n    var hasParent = function (elm, parentName) {\n      return elm && elm.parentNode && elm.parentNode.nodeName === parentName;\n    };\n    var isListBlock = function (elm) {\n      return elm && /^(OL|UL|LI)$/.test(elm.nodeName);\n    };\n    var isNestedList = function (elm) {\n      return isListBlock(elm) && isListBlock(elm.parentNode);\n    };\n    var getContainerBlock = function (containerBlock) {\n      var containerBlockParent = containerBlock.parentNode;\n      if (/^(LI|DT|DD)$/.test(containerBlockParent.nodeName)) {\n        return containerBlockParent;\n      }\n      return containerBlock;\n    };\n    var isFirstOrLastLi = function (containerBlock, parentBlock, first) {\n      var node = containerBlock[first ? 'firstChild' : 'lastChild'];\n      while (node) {\n        if (isElement$5(node)) {\n          break;\n        }\n        node = node[first ? 'nextSibling' : 'previousSibling'];\n      }\n      return node === parentBlock;\n    };\n    var insert$3 = function (editor, createNewBlock, containerBlock, parentBlock, newBlockName) {\n      var dom = editor.dom;\n      var rng = editor.selection.getRng();\n      if (containerBlock === editor.getBody()) {\n        return;\n      }\n      if (isNestedList(containerBlock)) {\n        newBlockName = 'LI';\n      }\n      var newBlock = newBlockName ? createNewBlock(newBlockName) : dom.create('BR');\n      if (isFirstOrLastLi(containerBlock, parentBlock, true) && isFirstOrLastLi(containerBlock, parentBlock, false)) {\n        if (hasParent(containerBlock, 'LI')) {\n          var containerBlockParent = getContainerBlock(containerBlock);\n          dom.insertAfter(newBlock, containerBlockParent);\n          if (isFirstChild(containerBlock)) {\n            dom.remove(containerBlockParent);\n          } else {\n            dom.remove(containerBlock);\n          }\n        } else {\n          dom.replace(newBlock, containerBlock);\n        }\n      } else if (isFirstOrLastLi(containerBlock, parentBlock, true)) {\n        if (hasParent(containerBlock, 'LI')) {\n          dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n          newBlock.appendChild(dom.doc.createTextNode(' '));\n          newBlock.appendChild(containerBlock);\n        } else {\n          containerBlock.parentNode.insertBefore(newBlock, containerBlock);\n        }\n        dom.remove(parentBlock);\n      } else if (isFirstOrLastLi(containerBlock, parentBlock, false)) {\n        dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n        dom.remove(parentBlock);\n      } else {\n        containerBlock = getContainerBlock(containerBlock);\n        var tmpRng = rng.cloneRange();\n        tmpRng.setStartAfter(parentBlock);\n        tmpRng.setEndAfter(containerBlock);\n        var fragment = tmpRng.extractContents();\n        if (newBlockName === 'LI' && hasFirstChild(fragment, 'LI')) {\n          newBlock = fragment.firstChild;\n          dom.insertAfter(fragment, containerBlock);\n        } else {\n          dom.insertAfter(fragment, containerBlock);\n          dom.insertAfter(newBlock, containerBlock);\n        }\n        dom.remove(parentBlock);\n      }\n      moveToCaretPosition(editor, newBlock);\n    };\n\n    var trimZwsp = function (fragment) {\n      each$k(descendants$1(SugarElement.fromDom(fragment), isText$8), function (text) {\n        var rawNode = text.dom;\n        rawNode.nodeValue = trim$2(rawNode.nodeValue);\n      });\n    };\n    var isEmptyAnchor = function (dom, elm) {\n      return elm && elm.nodeName === 'A' && dom.isEmpty(elm);\n    };\n    var isTableCell = function (node) {\n      return node && /^(TD|TH|CAPTION)$/.test(node.nodeName);\n    };\n    var emptyBlock = function (elm) {\n      elm.innerHTML = '<br data-mce-bogus=\"1\">';\n    };\n    var containerAndSiblingName = function (container, nodeName) {\n      return container.nodeName === nodeName || container.previousSibling && container.previousSibling.nodeName === nodeName;\n    };\n    var canSplitBlock = function (dom, node) {\n      return node && dom.isBlock(node) && !/^(TD|TH|CAPTION|FORM)$/.test(node.nodeName) && !/^(fixed|absolute)/i.test(node.style.position) && dom.getContentEditable(node) !== 'true';\n    };\n    var trimInlineElementsOnLeftSideOfBlock = function (dom, nonEmptyElementsMap, block) {\n      var node = block;\n      var firstChilds = [];\n      var i;\n      if (!node) {\n        return;\n      }\n      while (node = node.firstChild) {\n        if (dom.isBlock(node)) {\n          return;\n        }\n        if (isElement$5(node) && !nonEmptyElementsMap[node.nodeName.toLowerCase()]) {\n          firstChilds.push(node);\n        }\n      }\n      i = firstChilds.length;\n      while (i--) {\n        node = firstChilds[i];\n        if (!node.hasChildNodes() || node.firstChild === node.lastChild && node.firstChild.nodeValue === '') {\n          dom.remove(node);\n        } else {\n          if (isEmptyAnchor(dom, node)) {\n            dom.remove(node);\n          }\n        }\n      }\n    };\n    var normalizeZwspOffset = function (start, container, offset) {\n      if (isText$7(container) === false) {\n        return offset;\n      } else if (start) {\n        return offset === 1 && container.data.charAt(offset - 1) === ZWSP$1 ? 0 : offset;\n      } else {\n        return offset === container.data.length - 1 && container.data.charAt(offset) === ZWSP$1 ? container.data.length : offset;\n      }\n    };\n    var includeZwspInRange = function (rng) {\n      var newRng = rng.cloneRange();\n      newRng.setStart(rng.startContainer, normalizeZwspOffset(true, rng.startContainer, rng.startOffset));\n      newRng.setEnd(rng.endContainer, normalizeZwspOffset(false, rng.endContainer, rng.endOffset));\n      return newRng;\n    };\n    var trimLeadingLineBreaks = function (node) {\n      do {\n        if (isText$7(node)) {\n          node.nodeValue = node.nodeValue.replace(/^[\\r\\n]+/, '');\n        }\n        node = node.firstChild;\n      } while (node);\n    };\n    var getEditableRoot = function (dom, node) {\n      var root = dom.getRoot();\n      var parent, editableRoot;\n      parent = node;\n      while (parent !== root && dom.getContentEditable(parent) !== 'false') {\n        if (dom.getContentEditable(parent) === 'true') {\n          editableRoot = parent;\n        }\n        parent = parent.parentNode;\n      }\n      return parent !== root ? editableRoot : root;\n    };\n    var applyAttributes = function (editor, node, forcedRootBlockAttrs) {\n      var dom = editor.dom;\n      Optional.from(forcedRootBlockAttrs.style).map(dom.parseStyle).each(function (attrStyles) {\n        var currentStyles = getAllRaw(SugarElement.fromDom(node));\n        var newStyles = __assign(__assign({}, currentStyles), attrStyles);\n        dom.setStyles(node, newStyles);\n      });\n      var attrClassesOpt = Optional.from(forcedRootBlockAttrs.class).map(function (attrClasses) {\n        return attrClasses.split(/\\s+/);\n      });\n      var currentClassesOpt = Optional.from(node.className).map(function (currentClasses) {\n        return filter$4(currentClasses.split(/\\s+/), function (clazz) {\n          return clazz !== '';\n        });\n      });\n      lift2(attrClassesOpt, currentClassesOpt, function (attrClasses, currentClasses) {\n        var filteredClasses = filter$4(currentClasses, function (clazz) {\n          return !contains$3(attrClasses, clazz);\n        });\n        var newClasses = __spreadArray(__spreadArray([], attrClasses, true), filteredClasses, true);\n        dom.setAttrib(node, 'class', newClasses.join(' '));\n      });\n      var appliedAttrs = [\n        'style',\n        'class'\n      ];\n      var remainingAttrs = filter$3(forcedRootBlockAttrs, function (_, attrs) {\n        return !contains$3(appliedAttrs, attrs);\n      });\n      dom.setAttribs(node, remainingAttrs);\n    };\n    var setForcedBlockAttrs = function (editor, node) {\n      var forcedRootBlockName = getForcedRootBlock(editor);\n      if (forcedRootBlockName && forcedRootBlockName.toLowerCase() === node.tagName.toLowerCase()) {\n        var forcedRootBlockAttrs = getForcedRootBlockAttrs(editor);\n        applyAttributes(editor, node, forcedRootBlockAttrs);\n      }\n    };\n    var wrapSelfAndSiblingsInDefaultBlock = function (editor, newBlockName, rng, container, offset) {\n      var newBlock, parentBlock, startNode, node, next, rootBlockName;\n      var blockName = newBlockName || 'P';\n      var dom = editor.dom, editableRoot = getEditableRoot(dom, container);\n      parentBlock = dom.getParent(container, dom.isBlock);\n      if (!parentBlock || !canSplitBlock(dom, parentBlock)) {\n        parentBlock = parentBlock || editableRoot;\n        if (parentBlock === editor.getBody() || isTableCell(parentBlock)) {\n          rootBlockName = parentBlock.nodeName.toLowerCase();\n        } else {\n          rootBlockName = parentBlock.parentNode.nodeName.toLowerCase();\n        }\n        if (!parentBlock.hasChildNodes()) {\n          newBlock = dom.create(blockName);\n          setForcedBlockAttrs(editor, newBlock);\n          parentBlock.appendChild(newBlock);\n          rng.setStart(newBlock, 0);\n          rng.setEnd(newBlock, 0);\n          return newBlock;\n        }\n        node = container;\n        while (node.parentNode !== parentBlock) {\n          node = node.parentNode;\n        }\n        while (node && !dom.isBlock(node)) {\n          startNode = node;\n          node = node.previousSibling;\n        }\n        if (startNode && editor.schema.isValidChild(rootBlockName, blockName.toLowerCase())) {\n          newBlock = dom.create(blockName);\n          setForcedBlockAttrs(editor, newBlock);\n          startNode.parentNode.insertBefore(newBlock, startNode);\n          node = startNode;\n          while (node && !dom.isBlock(node)) {\n            next = node.nextSibling;\n            newBlock.appendChild(node);\n            node = next;\n          }\n          rng.setStart(container, offset);\n          rng.setEnd(container, offset);\n        }\n      }\n      return container;\n    };\n    var addBrToBlockIfNeeded = function (dom, block) {\n      block.normalize();\n      var lastChild = block.lastChild;\n      if (!lastChild || /^(left|right)$/gi.test(dom.getStyle(lastChild, 'float', true))) {\n        dom.add(block, 'br');\n      }\n    };\n    var insert$2 = function (editor, evt) {\n      var tmpRng, container, offset, parentBlock;\n      var newBlock, fragment, containerBlock, parentBlockName, newBlockName, isAfterLastNodeInContainer;\n      var dom = editor.dom;\n      var schema = editor.schema, nonEmptyElementsMap = schema.getNonEmptyElements();\n      var rng = editor.selection.getRng();\n      var createNewBlock = function (name) {\n        var node = container, block, clonedNode, caretNode;\n        var textInlineElements = schema.getTextInlineElements();\n        if (name || parentBlockName === 'TABLE' || parentBlockName === 'HR') {\n          block = dom.create(name || newBlockName);\n        } else {\n          block = parentBlock.cloneNode(false);\n        }\n        caretNode = block;\n        if (shouldKeepStyles(editor) === false) {\n          dom.setAttrib(block, 'style', null);\n          dom.setAttrib(block, 'class', null);\n        } else {\n          do {\n            if (textInlineElements[node.nodeName]) {\n              if (isCaretNode(node) || isBookmarkNode$1(node)) {\n                continue;\n              }\n              clonedNode = node.cloneNode(false);\n              dom.setAttrib(clonedNode, 'id', '');\n              if (block.hasChildNodes()) {\n                clonedNode.appendChild(block.firstChild);\n                block.appendChild(clonedNode);\n              } else {\n                caretNode = clonedNode;\n                block.appendChild(clonedNode);\n              }\n            }\n          } while ((node = node.parentNode) && node !== editableRoot);\n        }\n        setForcedBlockAttrs(editor, block);\n        emptyBlock(caretNode);\n        return block;\n      };\n      var isCaretAtStartOrEndOfBlock = function (start) {\n        var node, name;\n        var normalizedOffset = normalizeZwspOffset(start, container, offset);\n        if (isText$7(container) && (start ? normalizedOffset > 0 : normalizedOffset < container.nodeValue.length)) {\n          return false;\n        }\n        if (container.parentNode === parentBlock && isAfterLastNodeInContainer && !start) {\n          return true;\n        }\n        if (start && isElement$5(container) && container === parentBlock.firstChild) {\n          return true;\n        }\n        if (containerAndSiblingName(container, 'TABLE') || containerAndSiblingName(container, 'HR')) {\n          return isAfterLastNodeInContainer && !start || !isAfterLastNodeInContainer && start;\n        }\n        var walker = new DomTreeWalker(container, parentBlock);\n        if (isText$7(container)) {\n          if (start && normalizedOffset === 0) {\n            walker.prev();\n          } else if (!start && normalizedOffset === container.nodeValue.length) {\n            walker.next();\n          }\n        }\n        while (node = walker.current()) {\n          if (isElement$5(node)) {\n            if (!node.getAttribute('data-mce-bogus')) {\n              name = node.nodeName.toLowerCase();\n              if (nonEmptyElementsMap[name] && name !== 'br') {\n                return false;\n              }\n            }\n          } else if (isText$7(node) && !isWhitespaceText(node.nodeValue)) {\n            return false;\n          }\n          if (start) {\n            walker.prev();\n          } else {\n            walker.next();\n          }\n        }\n        return true;\n      };\n      var insertNewBlockAfter = function () {\n        if (/^(H[1-6]|PRE|FIGURE)$/.test(parentBlockName) && containerBlockName !== 'HGROUP') {\n          newBlock = createNewBlock(newBlockName);\n        } else {\n          newBlock = createNewBlock();\n        }\n        if (shouldEndContainerOnEmptyBlock(editor) && canSplitBlock(dom, containerBlock) && dom.isEmpty(parentBlock)) {\n          newBlock = dom.split(containerBlock, parentBlock);\n        } else {\n          dom.insertAfter(newBlock, parentBlock);\n        }\n        moveToCaretPosition(editor, newBlock);\n      };\n      normalize$2(dom, rng).each(function (normRng) {\n        rng.setStart(normRng.startContainer, normRng.startOffset);\n        rng.setEnd(normRng.endContainer, normRng.endOffset);\n      });\n      container = rng.startContainer;\n      offset = rng.startOffset;\n      newBlockName = getForcedRootBlock(editor);\n      var shiftKey = !!(evt && evt.shiftKey);\n      var ctrlKey = !!(evt && evt.ctrlKey);\n      if (isElement$5(container) && container.hasChildNodes()) {\n        isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n        if (isAfterLastNodeInContainer && isText$7(container)) {\n          offset = container.nodeValue.length;\n        } else {\n          offset = 0;\n        }\n      }\n      var editableRoot = getEditableRoot(dom, container);\n      if (!editableRoot) {\n        return;\n      }\n      if (newBlockName && !shiftKey || !newBlockName && shiftKey) {\n        container = wrapSelfAndSiblingsInDefaultBlock(editor, newBlockName, rng, container, offset);\n      }\n      parentBlock = dom.getParent(container, dom.isBlock);\n      containerBlock = parentBlock ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\n      parentBlockName = parentBlock ? parentBlock.nodeName.toUpperCase() : '';\n      var containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : '';\n      if (containerBlockName === 'LI' && !ctrlKey) {\n        parentBlock = containerBlock;\n        containerBlock = containerBlock.parentNode;\n        parentBlockName = containerBlockName;\n      }\n      if (/^(LI|DT|DD)$/.test(parentBlockName)) {\n        if (dom.isEmpty(parentBlock)) {\n          insert$3(editor, createNewBlock, containerBlock, parentBlock, newBlockName);\n          return;\n        }\n      }\n      if (newBlockName && parentBlock === editor.getBody()) {\n        return;\n      }\n      newBlockName = newBlockName || 'P';\n      if (isCaretContainerBlock$1(parentBlock)) {\n        newBlock = showCaretContainerBlock(parentBlock);\n        if (dom.isEmpty(parentBlock)) {\n          emptyBlock(parentBlock);\n        }\n        setForcedBlockAttrs(editor, newBlock);\n        moveToCaretPosition(editor, newBlock);\n      } else if (isCaretAtStartOrEndOfBlock()) {\n        insertNewBlockAfter();\n      } else if (isCaretAtStartOrEndOfBlock(true)) {\n        newBlock = parentBlock.parentNode.insertBefore(createNewBlock(), parentBlock);\n        moveToCaretPosition(editor, containerAndSiblingName(parentBlock, 'HR') ? newBlock : parentBlock);\n      } else {\n        tmpRng = includeZwspInRange(rng).cloneRange();\n        tmpRng.setEndAfter(parentBlock);\n        fragment = tmpRng.extractContents();\n        trimZwsp(fragment);\n        trimLeadingLineBreaks(fragment);\n        newBlock = fragment.firstChild;\n        dom.insertAfter(fragment, parentBlock);\n        trimInlineElementsOnLeftSideOfBlock(dom, nonEmptyElementsMap, newBlock);\n        addBrToBlockIfNeeded(dom, parentBlock);\n        if (dom.isEmpty(parentBlock)) {\n          emptyBlock(parentBlock);\n        }\n        newBlock.normalize();\n        if (dom.isEmpty(newBlock)) {\n          dom.remove(newBlock);\n          insertNewBlockAfter();\n        } else {\n          setForcedBlockAttrs(editor, newBlock);\n          moveToCaretPosition(editor, newBlock);\n        }\n      }\n      dom.setAttrib(newBlock, 'id', '');\n      editor.fire('NewBlock', { newBlock: newBlock });\n    };\n\n    var hasRightSideContent = function (schema, container, parentBlock) {\n      var walker = new DomTreeWalker(container, parentBlock);\n      var node;\n      var nonEmptyElementsMap = schema.getNonEmptyElements();\n      while (node = walker.next()) {\n        if (nonEmptyElementsMap[node.nodeName.toLowerCase()] || node.length > 0) {\n          return true;\n        }\n      }\n    };\n    var moveSelectionToBr = function (editor, brElm, extraBr) {\n      var rng = editor.dom.createRng();\n      if (!extraBr) {\n        rng.setStartAfter(brElm);\n        rng.setEndAfter(brElm);\n      } else {\n        rng.setStartBefore(brElm);\n        rng.setEndBefore(brElm);\n      }\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, rng);\n    };\n    var insertBrAtCaret = function (editor, evt) {\n      var selection = editor.selection;\n      var dom = editor.dom;\n      var rng = selection.getRng();\n      var brElm;\n      var extraBr;\n      normalize$2(dom, rng).each(function (normRng) {\n        rng.setStart(normRng.startContainer, normRng.startOffset);\n        rng.setEnd(normRng.endContainer, normRng.endOffset);\n      });\n      var offset = rng.startOffset;\n      var container = rng.startContainer;\n      if (container.nodeType === 1 && container.hasChildNodes()) {\n        var isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n        if (isAfterLastNodeInContainer && container.nodeType === 3) {\n          offset = container.nodeValue.length;\n        } else {\n          offset = 0;\n        }\n      }\n      var parentBlock = dom.getParent(container, dom.isBlock);\n      var containerBlock = parentBlock ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\n      var containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : '';\n      var isControlKey = !!(evt && evt.ctrlKey);\n      if (containerBlockName === 'LI' && !isControlKey) {\n        parentBlock = containerBlock;\n      }\n      if (container && container.nodeType === 3 && offset >= container.nodeValue.length) {\n        if (!hasRightSideContent(editor.schema, container, parentBlock)) {\n          brElm = dom.create('br');\n          rng.insertNode(brElm);\n          rng.setStartAfter(brElm);\n          rng.setEndAfter(brElm);\n          extraBr = true;\n        }\n      }\n      brElm = dom.create('br');\n      rangeInsertNode(dom, rng, brElm);\n      moveSelectionToBr(editor, brElm, extraBr);\n      editor.undoManager.add();\n    };\n    var insertBrBefore = function (editor, inline) {\n      var br = SugarElement.fromTag('br');\n      before$4(SugarElement.fromDom(inline), br);\n      editor.undoManager.add();\n    };\n    var insertBrAfter = function (editor, inline) {\n      if (!hasBrAfter(editor.getBody(), inline)) {\n        after$3(SugarElement.fromDom(inline), SugarElement.fromTag('br'));\n      }\n      var br = SugarElement.fromTag('br');\n      after$3(SugarElement.fromDom(inline), br);\n      moveSelectionToBr(editor, br.dom, false);\n      editor.undoManager.add();\n    };\n    var isBeforeBr = function (pos) {\n      return isBr$5(pos.getNode());\n    };\n    var hasBrAfter = function (rootNode, startNode) {\n      if (isBeforeBr(CaretPosition.after(startNode))) {\n        return true;\n      } else {\n        return nextPosition(rootNode, CaretPosition.after(startNode)).map(function (pos) {\n          return isBr$5(pos.getNode());\n        }).getOr(false);\n      }\n    };\n    var isAnchorLink = function (elm) {\n      return elm && elm.nodeName === 'A' && 'href' in elm;\n    };\n    var isInsideAnchor = function (location) {\n      return location.fold(never, isAnchorLink, isAnchorLink, never);\n    };\n    var readInlineAnchorLocation = function (editor) {\n      var isInlineTarget$1 = curry(isInlineTarget, editor);\n      var position = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return readLocation(isInlineTarget$1, editor.getBody(), position).filter(isInsideAnchor);\n    };\n    var insertBrOutsideAnchor = function (editor, location) {\n      location.fold(noop, curry(insertBrBefore, editor), curry(insertBrAfter, editor), noop);\n    };\n    var insert$1 = function (editor, evt) {\n      var anchorLocation = readInlineAnchorLocation(editor);\n      if (anchorLocation.isSome()) {\n        anchorLocation.each(curry(insertBrOutsideAnchor, editor));\n      } else {\n        insertBrAtCaret(editor, evt);\n      }\n    };\n\n    var matchesSelector = function (editor, selector) {\n      return getParentBlock(editor).filter(function (parentBlock) {\n        return selector.length > 0 && is$2(SugarElement.fromDom(parentBlock), selector);\n      }).isSome();\n    };\n    var shouldInsertBr = function (editor) {\n      return matchesSelector(editor, getBrNewLineSelector(editor));\n    };\n    var shouldBlockNewLine$1 = function (editor) {\n      return matchesSelector(editor, getNoNewLineSelector(editor));\n    };\n\n    var newLineAction = Adt.generate([\n      { br: [] },\n      { block: [] },\n      { none: [] }\n    ]);\n    var shouldBlockNewLine = function (editor, _shiftKey) {\n      return shouldBlockNewLine$1(editor);\n    };\n    var isBrMode = function (requiredState) {\n      return function (editor, _shiftKey) {\n        var brMode = getForcedRootBlock(editor) === '';\n        return brMode === requiredState;\n      };\n    };\n    var inListBlock = function (requiredState) {\n      return function (editor, _shiftKey) {\n        return isListItemParentBlock(editor) === requiredState;\n      };\n    };\n    var inBlock = function (blockName, requiredState) {\n      return function (editor, _shiftKey) {\n        var state = getParentBlockName(editor) === blockName.toUpperCase();\n        return state === requiredState;\n      };\n    };\n    var inPreBlock = function (requiredState) {\n      return inBlock('pre', requiredState);\n    };\n    var inSummaryBlock = function () {\n      return inBlock('summary', true);\n    };\n    var shouldPutBrInPre = function (requiredState) {\n      return function (editor, _shiftKey) {\n        return shouldPutBrInPre$1(editor) === requiredState;\n      };\n    };\n    var inBrContext = function (editor, _shiftKey) {\n      return shouldInsertBr(editor);\n    };\n    var hasShiftKey = function (_editor, shiftKey) {\n      return shiftKey;\n    };\n    var canInsertIntoEditableRoot = function (editor) {\n      var forcedRootBlock = getForcedRootBlock(editor);\n      var rootEditable = getEditableRoot$1(editor.dom, editor.selection.getStart());\n      return rootEditable && editor.schema.isValidChild(rootEditable.nodeName, forcedRootBlock ? forcedRootBlock : 'P');\n    };\n    var match = function (predicates, action) {\n      return function (editor, shiftKey) {\n        var isMatch = foldl(predicates, function (res, p) {\n          return res && p(editor, shiftKey);\n        }, true);\n        return isMatch ? Optional.some(action) : Optional.none();\n      };\n    };\n    var getAction = function (editor, evt) {\n      return evaluateUntil([\n        match([shouldBlockNewLine], newLineAction.none()),\n        match([inSummaryBlock()], newLineAction.br()),\n        match([\n          inPreBlock(true),\n          shouldPutBrInPre(false),\n          hasShiftKey\n        ], newLineAction.br()),\n        match([\n          inPreBlock(true),\n          shouldPutBrInPre(false)\n        ], newLineAction.block()),\n        match([\n          inPreBlock(true),\n          shouldPutBrInPre(true),\n          hasShiftKey\n        ], newLineAction.block()),\n        match([\n          inPreBlock(true),\n          shouldPutBrInPre(true)\n        ], newLineAction.br()),\n        match([\n          inListBlock(true),\n          hasShiftKey\n        ], newLineAction.br()),\n        match([inListBlock(true)], newLineAction.block()),\n        match([\n          isBrMode(true),\n          hasShiftKey,\n          canInsertIntoEditableRoot\n        ], newLineAction.block()),\n        match([isBrMode(true)], newLineAction.br()),\n        match([inBrContext], newLineAction.br()),\n        match([\n          isBrMode(false),\n          hasShiftKey\n        ], newLineAction.br()),\n        match([canInsertIntoEditableRoot], newLineAction.block())\n      ], [\n        editor,\n        !!(evt && evt.shiftKey)\n      ]).getOr(newLineAction.none());\n    };\n\n    var insert = function (editor, evt) {\n      getAction(editor, evt).fold(function () {\n        insert$1(editor, evt);\n      }, function () {\n        insert$2(editor, evt);\n      }, noop);\n    };\n\n    var handleEnterKeyEvent = function (editor, event) {\n      if (event.isDefaultPrevented()) {\n        return;\n      }\n      event.preventDefault();\n      endTypingLevelIgnoreLocks(editor.undoManager);\n      editor.undoManager.transact(function () {\n        if (editor.selection.isCollapsed() === false) {\n          editor.execCommand('Delete');\n        }\n        insert(editor, event);\n      });\n    };\n    var setup$9 = function (editor) {\n      editor.on('keydown', function (event) {\n        if (event.keyCode === VK.ENTER) {\n          handleEnterKeyEvent(editor, event);\n        }\n      });\n    };\n\n    var executeKeydownOverride$1 = function (editor, caret, evt) {\n      execute([\n        {\n          keyCode: VK.END,\n          action: action(moveToLineEndPoint$1, editor, true)\n        },\n        {\n          keyCode: VK.HOME,\n          action: action(moveToLineEndPoint$1, editor, false)\n        },\n        {\n          keyCode: VK.END,\n          action: action(moveToLineEndPoint, editor, true)\n        },\n        {\n          keyCode: VK.HOME,\n          action: action(moveToLineEndPoint, editor, false)\n        },\n        {\n          keyCode: VK.END,\n          action: action(moveToLineEndPoint$2, editor, true, caret)\n        },\n        {\n          keyCode: VK.HOME,\n          action: action(moveToLineEndPoint$2, editor, false, caret)\n        }\n      ], evt).each(function (_) {\n        evt.preventDefault();\n      });\n    };\n    var setup$8 = function (editor, caret) {\n      editor.on('keydown', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride$1(editor, caret, evt);\n        }\n      });\n    };\n\n    var browser = detect().browser;\n    var setupIeInput = function (editor) {\n      var keypressThrotter = first(function () {\n        if (!editor.composing) {\n          normalizeNbspsInEditor(editor);\n        }\n      }, 0);\n      if (browser.isIE()) {\n        editor.on('keypress', function (_e) {\n          keypressThrotter.throttle();\n        });\n        editor.on('remove', function (_e) {\n          keypressThrotter.cancel();\n        });\n      }\n    };\n    var setup$7 = function (editor) {\n      setupIeInput(editor);\n      editor.on('input', function (e) {\n        if (e.isComposing === false) {\n          normalizeNbspsInEditor(editor);\n        }\n      });\n    };\n\n    var platform = detect();\n    var executeKeyupAction = function (editor, caret, evt) {\n      execute([\n        {\n          keyCode: VK.PAGE_UP,\n          action: action(moveToLineEndPoint$2, editor, false, caret)\n        },\n        {\n          keyCode: VK.PAGE_DOWN,\n          action: action(moveToLineEndPoint$2, editor, true, caret)\n        }\n      ], evt);\n    };\n    var stopImmediatePropagation = function (e) {\n      return e.stopImmediatePropagation();\n    };\n    var isPageUpDown = function (evt) {\n      return evt.keyCode === VK.PAGE_UP || evt.keyCode === VK.PAGE_DOWN;\n    };\n    var setNodeChangeBlocker = function (blocked, editor, block) {\n      if (block && !blocked.get()) {\n        editor.on('NodeChange', stopImmediatePropagation, true);\n      } else if (!block && blocked.get()) {\n        editor.off('NodeChange', stopImmediatePropagation);\n      }\n      blocked.set(block);\n    };\n    var setup$6 = function (editor, caret) {\n      if (platform.os.isOSX()) {\n        return;\n      }\n      var blocked = Cell(false);\n      editor.on('keydown', function (evt) {\n        if (isPageUpDown(evt)) {\n          setNodeChangeBlocker(blocked, editor, true);\n        }\n      });\n      editor.on('keyup', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeyupAction(editor, caret, evt);\n        }\n        if (isPageUpDown(evt) && blocked.get()) {\n          setNodeChangeBlocker(blocked, editor, false);\n          editor.nodeChanged();\n        }\n      });\n    };\n\n    var insertTextAtPosition = function (text, pos) {\n      var container = pos.container();\n      var offset = pos.offset();\n      if (isText$7(container)) {\n        container.insertData(offset, text);\n        return Optional.some(CaretPosition(container, offset + text.length));\n      } else {\n        return getElementFromPosition(pos).map(function (elm) {\n          var textNode = SugarElement.fromText(text);\n          if (pos.isAtEnd()) {\n            after$3(elm, textNode);\n          } else {\n            before$4(elm, textNode);\n          }\n          return CaretPosition(textNode.dom, text.length);\n        });\n      }\n    };\n    var insertNbspAtPosition = curry(insertTextAtPosition, nbsp);\n    var insertSpaceAtPosition = curry(insertTextAtPosition, ' ');\n\n    var locationToCaretPosition = function (root) {\n      return function (location) {\n        return location.fold(function (element) {\n          return prevPosition(root.dom, CaretPosition.before(element));\n        }, function (element) {\n          return firstPositionIn(element);\n        }, function (element) {\n          return lastPositionIn(element);\n        }, function (element) {\n          return nextPosition(root.dom, CaretPosition.after(element));\n        });\n      };\n    };\n    var insertInlineBoundarySpaceOrNbsp = function (root, pos) {\n      return function (checkPos) {\n        return needsToHaveNbsp(root, checkPos) ? insertNbspAtPosition(pos) : insertSpaceAtPosition(pos);\n      };\n    };\n    var setSelection = function (editor) {\n      return function (pos) {\n        editor.selection.setRng(pos.toRange());\n        editor.nodeChanged();\n        return true;\n      };\n    };\n    var insertSpaceOrNbspAtSelection = function (editor) {\n      var pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      var root = SugarElement.fromDom(editor.getBody());\n      if (editor.selection.isCollapsed()) {\n        var isInlineTarget$1 = curry(isInlineTarget, editor);\n        var caretPosition = CaretPosition.fromRangeStart(editor.selection.getRng());\n        return readLocation(isInlineTarget$1, editor.getBody(), caretPosition).bind(locationToCaretPosition(root)).bind(insertInlineBoundarySpaceOrNbsp(root, pos)).exists(setSelection(editor));\n      } else {\n        return false;\n      }\n    };\n\n    var executeKeydownOverride = function (editor, evt) {\n      execute([{\n          keyCode: VK.SPACEBAR,\n          action: action(insertSpaceOrNbspAtSelection, editor)\n        }], evt).each(function (_) {\n        evt.preventDefault();\n      });\n    };\n    var setup$5 = function (editor) {\n      editor.on('keydown', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride(editor, evt);\n        }\n      });\n    };\n\n    var registerKeyboardOverrides = function (editor) {\n      var caret = setupSelectedState(editor);\n      setup$c(editor);\n      setup$b(editor, caret);\n      setup$a(editor, caret);\n      setup$9(editor);\n      setup$5(editor);\n      setup$7(editor);\n      setup$8(editor, caret);\n      setup$6(editor, caret);\n      return caret;\n    };\n    var setup$4 = function (editor) {\n      if (!isRtc(editor)) {\n        return registerKeyboardOverrides(editor);\n      } else {\n        return Cell(null);\n      }\n    };\n\n    var NodeChange = function () {\n      function NodeChange(editor) {\n        this.lastPath = [];\n        this.editor = editor;\n        var lastRng;\n        var self = this;\n        if (!('onselectionchange' in editor.getDoc())) {\n          editor.on('NodeChange click mouseup keyup focus', function (e) {\n            var nativeRng = editor.selection.getRng();\n            var fakeRng = {\n              startContainer: nativeRng.startContainer,\n              startOffset: nativeRng.startOffset,\n              endContainer: nativeRng.endContainer,\n              endOffset: nativeRng.endOffset\n            };\n            if (e.type === 'nodechange' || !isEq$4(fakeRng, lastRng)) {\n              editor.fire('SelectionChange');\n            }\n            lastRng = fakeRng;\n          });\n        }\n        editor.on('contextmenu', function () {\n          editor.fire('SelectionChange');\n        });\n        editor.on('SelectionChange', function () {\n          var startElm = editor.selection.getStart(true);\n          if (!startElm || !Env.range && editor.selection.isCollapsed()) {\n            return;\n          }\n          if (hasAnyRanges(editor) && !self.isSameElementPath(startElm) && editor.dom.isChildOf(startElm, editor.getBody())) {\n            editor.nodeChanged({ selectionChange: true });\n          }\n        });\n        editor.on('mouseup', function (e) {\n          if (!e.isDefaultPrevented() && hasAnyRanges(editor)) {\n            if (editor.selection.getNode().nodeName === 'IMG') {\n              Delay.setEditorTimeout(editor, function () {\n                editor.nodeChanged();\n              });\n            } else {\n              editor.nodeChanged();\n            }\n          }\n        });\n      }\n      NodeChange.prototype.nodeChanged = function (args) {\n        var selection = this.editor.selection;\n        var node, parents, root;\n        if (this.editor.initialized && selection && !shouldDisableNodeChange(this.editor) && !this.editor.mode.isReadOnly()) {\n          root = this.editor.getBody();\n          node = selection.getStart(true) || root;\n          if (node.ownerDocument !== this.editor.getDoc() || !this.editor.dom.isChildOf(node, root)) {\n            node = root;\n          }\n          parents = [];\n          this.editor.dom.getParent(node, function (node) {\n            if (node === root) {\n              return true;\n            }\n            parents.push(node);\n          });\n          args = args || {};\n          args.element = node;\n          args.parents = parents;\n          this.editor.fire('NodeChange', args);\n        }\n      };\n      NodeChange.prototype.isSameElementPath = function (startElm) {\n        var i;\n        var currentPath = this.editor.$(startElm).parentsUntil(this.editor.getBody()).add(startElm);\n        if (currentPath.length === this.lastPath.length) {\n          for (i = currentPath.length; i >= 0; i--) {\n            if (currentPath[i] !== this.lastPath[i]) {\n              break;\n            }\n          }\n          if (i === -1) {\n            this.lastPath = currentPath;\n            return true;\n          }\n        }\n        this.lastPath = currentPath;\n        return false;\n      };\n      return NodeChange;\n    }();\n\n    var preventSummaryToggle = function (editor) {\n      editor.on('click', function (e) {\n        if (editor.dom.getParent(e.target, 'details')) {\n          e.preventDefault();\n        }\n      });\n    };\n    var filterDetails = function (editor) {\n      editor.parser.addNodeFilter('details', function (elms) {\n        each$k(elms, function (details) {\n          details.attr('data-mce-open', details.attr('open'));\n          details.attr('open', 'open');\n        });\n      });\n      editor.serializer.addNodeFilter('details', function (elms) {\n        each$k(elms, function (details) {\n          var open = details.attr('data-mce-open');\n          details.attr('open', isString$1(open) ? open : null);\n          details.attr('data-mce-open', null);\n        });\n      });\n    };\n    var setup$3 = function (editor) {\n      preventSummaryToggle(editor);\n      filterDetails(editor);\n    };\n\n    var isTextBlockNode = function (node) {\n      return isElement$5(node) && isTextBlock$2(SugarElement.fromDom(node));\n    };\n    var normalizeSelection = function (editor) {\n      var rng = editor.selection.getRng();\n      var startPos = CaretPosition.fromRangeStart(rng);\n      var endPos = CaretPosition.fromRangeEnd(rng);\n      if (CaretPosition.isElementPosition(startPos)) {\n        var container = startPos.container();\n        if (isTextBlockNode(container)) {\n          firstPositionIn(container).each(function (pos) {\n            return rng.setStart(pos.container(), pos.offset());\n          });\n        }\n      }\n      if (CaretPosition.isElementPosition(endPos)) {\n        var container = startPos.container();\n        if (isTextBlockNode(container)) {\n          lastPositionIn(container).each(function (pos) {\n            return rng.setEnd(pos.container(), pos.offset());\n          });\n        }\n      }\n      editor.selection.setRng(normalize(rng));\n    };\n    var setup$2 = function (editor) {\n      editor.on('click', function (e) {\n        if (e.detail >= 3) {\n          normalizeSelection(editor);\n        }\n      });\n    };\n\n    var getAbsolutePosition = function (elm) {\n      var clientRect = elm.getBoundingClientRect();\n      var doc = elm.ownerDocument;\n      var docElem = doc.documentElement;\n      var win = doc.defaultView;\n      return {\n        top: clientRect.top + win.pageYOffset - docElem.clientTop,\n        left: clientRect.left + win.pageXOffset - docElem.clientLeft\n      };\n    };\n    var getBodyPosition = function (editor) {\n      return editor.inline ? getAbsolutePosition(editor.getBody()) : {\n        left: 0,\n        top: 0\n      };\n    };\n    var getScrollPosition = function (editor) {\n      var body = editor.getBody();\n      return editor.inline ? {\n        left: body.scrollLeft,\n        top: body.scrollTop\n      } : {\n        left: 0,\n        top: 0\n      };\n    };\n    var getBodyScroll = function (editor) {\n      var body = editor.getBody(), docElm = editor.getDoc().documentElement;\n      var inlineScroll = {\n        left: body.scrollLeft,\n        top: body.scrollTop\n      };\n      var iframeScroll = {\n        left: body.scrollLeft || docElm.scrollLeft,\n        top: body.scrollTop || docElm.scrollTop\n      };\n      return editor.inline ? inlineScroll : iframeScroll;\n    };\n    var getMousePosition = function (editor, event) {\n      if (event.target.ownerDocument !== editor.getDoc()) {\n        var iframePosition = getAbsolutePosition(editor.getContentAreaContainer());\n        var scrollPosition = getBodyScroll(editor);\n        return {\n          left: event.pageX - iframePosition.left + scrollPosition.left,\n          top: event.pageY - iframePosition.top + scrollPosition.top\n        };\n      }\n      return {\n        left: event.pageX,\n        top: event.pageY\n      };\n    };\n    var calculatePosition = function (bodyPosition, scrollPosition, mousePosition) {\n      return {\n        pageX: mousePosition.left - bodyPosition.left + scrollPosition.left,\n        pageY: mousePosition.top - bodyPosition.top + scrollPosition.top\n      };\n    };\n    var calc = function (editor, event) {\n      return calculatePosition(getBodyPosition(editor), getScrollPosition(editor), getMousePosition(editor, event));\n    };\n\n    var isContentEditableFalse$1 = isContentEditableFalse$b, isContentEditableTrue$1 = isContentEditableTrue$4;\n    var isDraggable = function (rootElm, elm) {\n      return isContentEditableFalse$1(elm) && elm !== rootElm;\n    };\n    var isValidDropTarget = function (editor, targetElement, dragElement) {\n      if (targetElement === dragElement || editor.dom.isChildOf(targetElement, dragElement)) {\n        return false;\n      }\n      return !isContentEditableFalse$1(targetElement);\n    };\n    var cloneElement = function (elm) {\n      var cloneElm = elm.cloneNode(true);\n      cloneElm.removeAttribute('data-mce-selected');\n      return cloneElm;\n    };\n    var createGhost = function (editor, elm, width, height) {\n      var dom = editor.dom;\n      var clonedElm = elm.cloneNode(true);\n      dom.setStyles(clonedElm, {\n        width: width,\n        height: height\n      });\n      dom.setAttrib(clonedElm, 'data-mce-selected', null);\n      var ghostElm = dom.create('div', {\n        'class': 'mce-drag-container',\n        'data-mce-bogus': 'all',\n        'unselectable': 'on',\n        'contenteditable': 'false'\n      });\n      dom.setStyles(ghostElm, {\n        position: 'absolute',\n        opacity: 0.5,\n        overflow: 'hidden',\n        border: 0,\n        padding: 0,\n        margin: 0,\n        width: width,\n        height: height\n      });\n      dom.setStyles(clonedElm, {\n        margin: 0,\n        boxSizing: 'border-box'\n      });\n      ghostElm.appendChild(clonedElm);\n      return ghostElm;\n    };\n    var appendGhostToBody = function (ghostElm, bodyElm) {\n      if (ghostElm.parentNode !== bodyElm) {\n        bodyElm.appendChild(ghostElm);\n      }\n    };\n    var moveGhost = function (ghostElm, position, width, height, maxX, maxY) {\n      var overflowX = 0, overflowY = 0;\n      ghostElm.style.left = position.pageX + 'px';\n      ghostElm.style.top = position.pageY + 'px';\n      if (position.pageX + width > maxX) {\n        overflowX = position.pageX + width - maxX;\n      }\n      if (position.pageY + height > maxY) {\n        overflowY = position.pageY + height - maxY;\n      }\n      ghostElm.style.width = width - overflowX + 'px';\n      ghostElm.style.height = height - overflowY + 'px';\n    };\n    var removeElement = function (elm) {\n      if (elm && elm.parentNode) {\n        elm.parentNode.removeChild(elm);\n      }\n    };\n    var isLeftMouseButtonPressed = function (e) {\n      return e.button === 0;\n    };\n    var applyRelPos = function (state, position) {\n      return {\n        pageX: position.pageX - state.relX,\n        pageY: position.pageY + 5\n      };\n    };\n    var start = function (state, editor) {\n      return function (e) {\n        if (isLeftMouseButtonPressed(e)) {\n          var ceElm = find$3(editor.dom.getParents(e.target), or(isContentEditableFalse$1, isContentEditableTrue$1)).getOr(null);\n          if (isDraggable(editor.getBody(), ceElm)) {\n            var elmPos = editor.dom.getPos(ceElm);\n            var bodyElm = editor.getBody();\n            var docElm = editor.getDoc().documentElement;\n            state.set({\n              element: ceElm,\n              dragging: false,\n              screenX: e.screenX,\n              screenY: e.screenY,\n              maxX: (editor.inline ? bodyElm.scrollWidth : docElm.offsetWidth) - 2,\n              maxY: (editor.inline ? bodyElm.scrollHeight : docElm.offsetHeight) - 2,\n              relX: e.pageX - elmPos.x,\n              relY: e.pageY - elmPos.y,\n              width: ceElm.offsetWidth,\n              height: ceElm.offsetHeight,\n              ghost: createGhost(editor, ceElm, ceElm.offsetWidth, ceElm.offsetHeight)\n            });\n          }\n        }\n      };\n    };\n    var move = function (state, editor) {\n      var throttledPlaceCaretAt = Delay.throttle(function (clientX, clientY) {\n        editor._selectionOverrides.hideFakeCaret();\n        editor.selection.placeCaretAt(clientX, clientY);\n      }, 0);\n      editor.on('remove', throttledPlaceCaretAt.stop);\n      return function (e) {\n        return state.on(function (state) {\n          var movement = Math.max(Math.abs(e.screenX - state.screenX), Math.abs(e.screenY - state.screenY));\n          if (!state.dragging && movement > 10) {\n            var args = editor.fire('dragstart', { target: state.element });\n            if (args.isDefaultPrevented()) {\n              return;\n            }\n            state.dragging = true;\n            editor.focus();\n          }\n          if (state.dragging) {\n            var targetPos = applyRelPos(state, calc(editor, e));\n            appendGhostToBody(state.ghost, editor.getBody());\n            moveGhost(state.ghost, targetPos, state.width, state.height, state.maxX, state.maxY);\n            throttledPlaceCaretAt(e.clientX, e.clientY);\n          }\n        });\n      };\n    };\n    var getRawTarget = function (selection) {\n      var rng = selection.getSel().getRangeAt(0);\n      var startContainer = rng.startContainer;\n      return startContainer.nodeType === 3 ? startContainer.parentNode : startContainer;\n    };\n    var drop = function (state, editor) {\n      return function (e) {\n        state.on(function (state) {\n          if (state.dragging) {\n            if (isValidDropTarget(editor, getRawTarget(editor.selection), state.element)) {\n              var targetClone_1 = cloneElement(state.element);\n              var args = editor.fire('drop', {\n                clientX: e.clientX,\n                clientY: e.clientY\n              });\n              if (!args.isDefaultPrevented()) {\n                editor.undoManager.transact(function () {\n                  removeElement(state.element);\n                  editor.insertContent(editor.dom.getOuterHTML(targetClone_1));\n                  editor._selectionOverrides.hideFakeCaret();\n                });\n              }\n            }\n            editor.fire('dragend');\n          }\n        });\n        removeDragState(state);\n      };\n    };\n    var stop = function (state, editor) {\n      return function () {\n        state.on(function (state) {\n          if (state.dragging) {\n            editor.fire('dragend');\n          }\n        });\n        removeDragState(state);\n      };\n    };\n    var removeDragState = function (state) {\n      state.on(function (state) {\n        removeElement(state.ghost);\n      });\n      state.clear();\n    };\n    var bindFakeDragEvents = function (editor) {\n      var state = value();\n      var pageDom = DOMUtils.DOM;\n      var rootDocument = document;\n      var dragStartHandler = start(state, editor);\n      var dragHandler = move(state, editor);\n      var dropHandler = drop(state, editor);\n      var dragEndHandler = stop(state, editor);\n      editor.on('mousedown', dragStartHandler);\n      editor.on('mousemove', dragHandler);\n      editor.on('mouseup', dropHandler);\n      pageDom.bind(rootDocument, 'mousemove', dragHandler);\n      pageDom.bind(rootDocument, 'mouseup', dragEndHandler);\n      editor.on('remove', function () {\n        pageDom.unbind(rootDocument, 'mousemove', dragHandler);\n        pageDom.unbind(rootDocument, 'mouseup', dragEndHandler);\n      });\n      editor.on('keydown', function (e) {\n        if (e.keyCode === VK.ESC) {\n          dragEndHandler();\n        }\n      });\n    };\n    var blockIeDrop = function (editor) {\n      editor.on('drop', function (e) {\n        var realTarget = typeof e.clientX !== 'undefined' ? editor.getDoc().elementFromPoint(e.clientX, e.clientY) : null;\n        if (isContentEditableFalse$1(realTarget) || editor.dom.getContentEditableParent(realTarget) === 'false') {\n          e.preventDefault();\n        }\n      });\n    };\n    var blockUnsupportedFileDrop = function (editor) {\n      var preventFileDrop = function (e) {\n        if (!e.isDefaultPrevented()) {\n          var dataTransfer = e.dataTransfer;\n          if (dataTransfer && (contains$3(dataTransfer.types, 'Files') || dataTransfer.files.length > 0)) {\n            e.preventDefault();\n            if (e.type === 'drop') {\n              displayError(editor, 'Dropped file type is not supported');\n            }\n          }\n        }\n      };\n      var preventFileDropIfUIElement = function (e) {\n        if (isUIElement(editor, e.target)) {\n          preventFileDrop(e);\n        }\n      };\n      var setup = function () {\n        var pageDom = DOMUtils.DOM;\n        var dom = editor.dom;\n        var doc = document;\n        var editorRoot = editor.inline ? editor.getBody() : editor.getDoc();\n        var eventNames = [\n          'drop',\n          'dragover'\n        ];\n        each$k(eventNames, function (name) {\n          pageDom.bind(doc, name, preventFileDropIfUIElement);\n          dom.bind(editorRoot, name, preventFileDrop);\n        });\n        editor.on('remove', function () {\n          each$k(eventNames, function (name) {\n            pageDom.unbind(doc, name, preventFileDropIfUIElement);\n            dom.unbind(editorRoot, name, preventFileDrop);\n          });\n        });\n      };\n      editor.on('init', function () {\n        Delay.setEditorTimeout(editor, setup, 0);\n      });\n    };\n    var init$2 = function (editor) {\n      bindFakeDragEvents(editor);\n      blockIeDrop(editor);\n      if (shouldBlockUnsupportedDrop(editor)) {\n        blockUnsupportedFileDrop(editor);\n      }\n    };\n\n    var setup$1 = function (editor) {\n      var renderFocusCaret = first(function () {\n        if (!editor.removed && editor.getBody().contains(document.activeElement)) {\n          var rng = editor.selection.getRng();\n          if (rng.collapsed) {\n            var caretRange = renderRangeCaret(editor, rng, false);\n            editor.selection.setRng(caretRange);\n          }\n        }\n      }, 0);\n      editor.on('focus', function () {\n        renderFocusCaret.throttle();\n      });\n      editor.on('blur', function () {\n        renderFocusCaret.cancel();\n      });\n    };\n\n    var setup = function (editor) {\n      editor.on('init', function () {\n        editor.on('focusin', function (e) {\n          var target = e.target;\n          if (isMedia$2(target)) {\n            var ceRoot = getContentEditableRoot$1(editor.getBody(), target);\n            var node = isContentEditableFalse$b(ceRoot) ? ceRoot : target;\n            if (editor.selection.getNode() !== node) {\n              selectNode(editor, node).each(function (rng) {\n                return editor.selection.setRng(rng);\n              });\n            }\n          }\n        });\n      });\n    };\n\n    var isContentEditableTrue = isContentEditableTrue$4;\n    var isContentEditableFalse = isContentEditableFalse$b;\n    var getContentEditableRoot = function (editor, node) {\n      return getContentEditableRoot$1(editor.getBody(), node);\n    };\n    var SelectionOverrides = function (editor) {\n      var selection = editor.selection, dom = editor.dom;\n      var isBlock = dom.isBlock;\n      var rootNode = editor.getBody();\n      var fakeCaret = FakeCaret(editor, rootNode, isBlock, function () {\n        return hasFocus(editor);\n      });\n      var realSelectionId = 'sel-' + dom.uniqueId();\n      var elementSelectionAttr = 'data-mce-selected';\n      var selectedElement;\n      var isFakeSelectionElement = function (node) {\n        return dom.hasClass(node, 'mce-offscreen-selection');\n      };\n      var isFakeSelectionTargetElement = function (node) {\n        return node !== rootNode && (isContentEditableFalse(node) || isMedia$2(node)) && dom.isChildOf(node, rootNode);\n      };\n      var isNearFakeSelectionElement = function (pos) {\n        return isBeforeContentEditableFalse(pos) || isAfterContentEditableFalse(pos) || isBeforeMedia(pos) || isAfterMedia(pos);\n      };\n      var getRealSelectionElement = function () {\n        var container = dom.get(realSelectionId);\n        return container ? container.getElementsByTagName('*')[0] : container;\n      };\n      var setRange = function (range) {\n        if (range) {\n          selection.setRng(range);\n        }\n      };\n      var getRange = selection.getRng;\n      var showCaret = function (direction, node, before, scrollIntoView) {\n        if (scrollIntoView === void 0) {\n          scrollIntoView = true;\n        }\n        var e = editor.fire('ShowCaret', {\n          target: node,\n          direction: direction,\n          before: before\n        });\n        if (e.isDefaultPrevented()) {\n          return null;\n        }\n        if (scrollIntoView) {\n          selection.scrollIntoView(node, direction === -1);\n        }\n        return fakeCaret.show(before, node);\n      };\n      var showBlockCaretContainer = function (blockCaretContainer) {\n        if (blockCaretContainer.hasAttribute('data-mce-caret')) {\n          showCaretContainerBlock(blockCaretContainer);\n          setRange(getRange());\n          selection.scrollIntoView(blockCaretContainer);\n        }\n      };\n      var registerEvents = function () {\n        editor.on('mouseup', function (e) {\n          var range = getRange();\n          if (range.collapsed && isXYInContentArea(editor, e.clientX, e.clientY)) {\n            renderCaretAtRange(editor, range, false).each(setRange);\n          }\n        });\n        editor.on('click', function (e) {\n          var contentEditableRoot = getContentEditableRoot(editor, e.target);\n          if (contentEditableRoot) {\n            if (isContentEditableFalse(contentEditableRoot)) {\n              e.preventDefault();\n              editor.focus();\n            }\n            if (isContentEditableTrue(contentEditableRoot)) {\n              if (dom.isChildOf(contentEditableRoot, selection.getNode())) {\n                removeElementSelection();\n              }\n            }\n          }\n        });\n        editor.on('blur NewBlock', removeElementSelection);\n        editor.on('ResizeWindow FullscreenStateChanged', fakeCaret.reposition);\n        var hasNormalCaretPosition = function (elm) {\n          var start = elm.firstChild;\n          if (isNullable(start)) {\n            return false;\n          }\n          var startPos = CaretPosition.before(start);\n          if (isBr$5(startPos.getNode()) && elm.childNodes.length === 1) {\n            return !isNearFakeSelectionElement(startPos);\n          } else {\n            var caretWalker = CaretWalker(elm);\n            var newPos = caretWalker.next(startPos);\n            return newPos && !isNearFakeSelectionElement(newPos);\n          }\n        };\n        var isInSameBlock = function (node1, node2) {\n          var block1 = dom.getParent(node1, isBlock);\n          var block2 = dom.getParent(node2, isBlock);\n          return block1 === block2;\n        };\n        var hasBetterMouseTarget = function (targetNode, caretNode) {\n          var targetBlock = dom.getParent(targetNode, isBlock);\n          var caretBlock = dom.getParent(caretNode, isBlock);\n          if (isNullable(targetBlock)) {\n            return false;\n          }\n          if (targetNode !== caretBlock && dom.isChildOf(targetBlock, caretBlock) && isContentEditableFalse(getContentEditableRoot(editor, targetBlock)) === false) {\n            return true;\n          }\n          return !dom.isChildOf(caretBlock, targetBlock) && !isInSameBlock(targetBlock, caretBlock) && hasNormalCaretPosition(targetBlock);\n        };\n        editor.on('tap', function (e) {\n          var targetElm = e.target;\n          var contentEditableRoot = getContentEditableRoot(editor, targetElm);\n          if (isContentEditableFalse(contentEditableRoot)) {\n            e.preventDefault();\n            selectNode(editor, contentEditableRoot).each(setElementSelection);\n          } else if (isFakeSelectionTargetElement(targetElm)) {\n            selectNode(editor, targetElm).each(setElementSelection);\n          }\n        }, true);\n        editor.on('mousedown', function (e) {\n          var targetElm = e.target;\n          if (targetElm !== rootNode && targetElm.nodeName !== 'HTML' && !dom.isChildOf(targetElm, rootNode)) {\n            return;\n          }\n          if (isXYInContentArea(editor, e.clientX, e.clientY) === false) {\n            return;\n          }\n          var contentEditableRoot = getContentEditableRoot(editor, targetElm);\n          if (contentEditableRoot) {\n            if (isContentEditableFalse(contentEditableRoot)) {\n              e.preventDefault();\n              selectNode(editor, contentEditableRoot).each(setElementSelection);\n            } else {\n              removeElementSelection();\n              if (!(isContentEditableTrue(contentEditableRoot) && e.shiftKey) && !isXYWithinRange(e.clientX, e.clientY, selection.getRng())) {\n                hideFakeCaret();\n                selection.placeCaretAt(e.clientX, e.clientY);\n              }\n            }\n          } else if (isFakeSelectionTargetElement(targetElm)) {\n            selectNode(editor, targetElm).each(setElementSelection);\n          } else if (isFakeCaretTarget(targetElm) === false) {\n            removeElementSelection();\n            hideFakeCaret();\n            var fakeCaretInfo = closestFakeCaret(rootNode, e.clientX, e.clientY);\n            if (fakeCaretInfo) {\n              if (!hasBetterMouseTarget(targetElm, fakeCaretInfo.node)) {\n                e.preventDefault();\n                var range = showCaret(1, fakeCaretInfo.node, fakeCaretInfo.before, false);\n                setRange(range);\n                editor.getBody().focus();\n              }\n            }\n          }\n        });\n        editor.on('keypress', function (e) {\n          if (VK.modifierPressed(e)) {\n            return;\n          }\n          if (isContentEditableFalse(selection.getNode())) {\n            e.preventDefault();\n          }\n        });\n        editor.on('GetSelectionRange', function (e) {\n          var rng = e.range;\n          if (selectedElement) {\n            if (!selectedElement.parentNode) {\n              selectedElement = null;\n              return;\n            }\n            rng = rng.cloneRange();\n            rng.selectNode(selectedElement);\n            e.range = rng;\n          }\n        });\n        editor.on('SetSelectionRange', function (e) {\n          e.range = normalizeShortEndedElementSelection(e.range);\n          var rng = setElementSelection(e.range, e.forward);\n          if (rng) {\n            e.range = rng;\n          }\n        });\n        var isPasteBin = function (node) {\n          return node.id === 'mcepastebin';\n        };\n        editor.on('AfterSetSelectionRange', function (e) {\n          var rng = e.range;\n          var parentNode = rng.startContainer.parentNode;\n          if (!isRangeInCaretContainer(rng) && !isPasteBin(parentNode)) {\n            hideFakeCaret();\n          }\n          if (!isFakeSelectionElement(parentNode)) {\n            removeElementSelection();\n          }\n        });\n        editor.on('copy', function (e) {\n          var clipboardData = e.clipboardData;\n          if (!e.isDefaultPrevented() && e.clipboardData && !Env.ie) {\n            var realSelectionElement = getRealSelectionElement();\n            if (realSelectionElement) {\n              e.preventDefault();\n              clipboardData.clearData();\n              clipboardData.setData('text/html', realSelectionElement.outerHTML);\n              clipboardData.setData('text/plain', realSelectionElement.outerText || realSelectionElement.innerText);\n            }\n          }\n        });\n        init$2(editor);\n        setup$1(editor);\n        setup(editor);\n      };\n      var isWithinCaretContainer = function (node) {\n        return isCaretContainer$2(node) || startsWithCaretContainer$1(node) || endsWithCaretContainer$1(node);\n      };\n      var isRangeInCaretContainer = function (rng) {\n        return isWithinCaretContainer(rng.startContainer) || isWithinCaretContainer(rng.endContainer);\n      };\n      var normalizeShortEndedElementSelection = function (rng) {\n        var shortEndedElements = editor.schema.getShortEndedElements();\n        var newRng = dom.createRng();\n        var startContainer = rng.startContainer;\n        var startOffset = rng.startOffset;\n        var endContainer = rng.endContainer;\n        var endOffset = rng.endOffset;\n        if (has$2(shortEndedElements, startContainer.nodeName.toLowerCase())) {\n          if (startOffset === 0) {\n            newRng.setStartBefore(startContainer);\n          } else {\n            newRng.setStartAfter(startContainer);\n          }\n        } else {\n          newRng.setStart(startContainer, startOffset);\n        }\n        if (has$2(shortEndedElements, endContainer.nodeName.toLowerCase())) {\n          if (endOffset === 0) {\n            newRng.setEndBefore(endContainer);\n          } else {\n            newRng.setEndAfter(endContainer);\n          }\n        } else {\n          newRng.setEnd(endContainer, endOffset);\n        }\n        return newRng;\n      };\n      var setupOffscreenSelection = function (node, targetClone, origTargetClone) {\n        var $ = editor.$;\n        var $realSelectionContainer = descendant(SugarElement.fromDom(editor.getBody()), '#' + realSelectionId).fold(function () {\n          return $([]);\n        }, function (elm) {\n          return $([elm.dom]);\n        });\n        if ($realSelectionContainer.length === 0) {\n          $realSelectionContainer = $('<div data-mce-bogus=\"all\" class=\"mce-offscreen-selection\"></div>').attr('id', realSelectionId);\n          $realSelectionContainer.appendTo(editor.getBody());\n        }\n        var newRange = dom.createRng();\n        if (targetClone === origTargetClone && Env.ie) {\n          $realSelectionContainer.empty().append('<p style=\"font-size: 0\" data-mce-bogus=\"all\">\\xA0</p>').append(targetClone);\n          newRange.setStartAfter($realSelectionContainer[0].firstChild.firstChild);\n          newRange.setEndAfter(targetClone);\n        } else {\n          $realSelectionContainer.empty().append(nbsp).append(targetClone).append(nbsp);\n          newRange.setStart($realSelectionContainer[0].firstChild, 1);\n          newRange.setEnd($realSelectionContainer[0].lastChild, 0);\n        }\n        $realSelectionContainer.css({ top: dom.getPos(node, editor.getBody()).y });\n        $realSelectionContainer[0].focus();\n        var sel = selection.getSel();\n        sel.removeAllRanges();\n        sel.addRange(newRange);\n        return newRange;\n      };\n      var selectElement = function (elm) {\n        var targetClone = elm.cloneNode(true);\n        var e = editor.fire('ObjectSelected', {\n          target: elm,\n          targetClone: targetClone\n        });\n        if (e.isDefaultPrevented()) {\n          return null;\n        }\n        var range = setupOffscreenSelection(elm, e.targetClone, targetClone);\n        var nodeElm = SugarElement.fromDom(elm);\n        each$k(descendants(SugarElement.fromDom(editor.getBody()), '*[data-mce-selected]'), function (elm) {\n          if (!eq(nodeElm, elm)) {\n            remove$6(elm, elementSelectionAttr);\n          }\n        });\n        if (!dom.getAttrib(elm, elementSelectionAttr)) {\n          elm.setAttribute(elementSelectionAttr, '1');\n        }\n        selectedElement = elm;\n        hideFakeCaret();\n        return range;\n      };\n      var setElementSelection = function (range, forward) {\n        if (!range) {\n          return null;\n        }\n        if (range.collapsed) {\n          if (!isRangeInCaretContainer(range)) {\n            var dir = forward ? 1 : -1;\n            var caretPosition = getNormalizedRangeEndPoint(dir, rootNode, range);\n            var beforeNode = caretPosition.getNode(!forward);\n            if (isFakeCaretTarget(beforeNode)) {\n              return showCaret(dir, beforeNode, forward ? !caretPosition.isAtEnd() : false, false);\n            }\n            var afterNode = caretPosition.getNode(forward);\n            if (isFakeCaretTarget(afterNode)) {\n              return showCaret(dir, afterNode, forward ? false : !caretPosition.isAtEnd(), false);\n            }\n          }\n          return null;\n        }\n        var startContainer = range.startContainer;\n        var startOffset = range.startOffset;\n        var endOffset = range.endOffset;\n        if (startContainer.nodeType === 3 && startOffset === 0 && isContentEditableFalse(startContainer.parentNode)) {\n          startContainer = startContainer.parentNode;\n          startOffset = dom.nodeIndex(startContainer);\n          startContainer = startContainer.parentNode;\n        }\n        if (startContainer.nodeType !== 1) {\n          return null;\n        }\n        if (endOffset === startOffset + 1 && startContainer === range.endContainer) {\n          var node = startContainer.childNodes[startOffset];\n          if (isFakeSelectionTargetElement(node)) {\n            return selectElement(node);\n          }\n        }\n        return null;\n      };\n      var removeElementSelection = function () {\n        if (selectedElement) {\n          selectedElement.removeAttribute(elementSelectionAttr);\n        }\n        descendant(SugarElement.fromDom(editor.getBody()), '#' + realSelectionId).each(remove$7);\n        selectedElement = null;\n      };\n      var destroy = function () {\n        fakeCaret.destroy();\n        selectedElement = null;\n      };\n      var hideFakeCaret = function () {\n        fakeCaret.hide();\n      };\n      if (Env.ceFalse && !isRtc(editor)) {\n        registerEvents();\n      }\n      return {\n        showCaret: showCaret,\n        showBlockCaretContainer: showBlockCaretContainer,\n        hideFakeCaret: hideFakeCaret,\n        destroy: destroy\n      };\n    };\n\n    var Quirks = function (editor) {\n      var each = Tools.each;\n      var BACKSPACE = VK.BACKSPACE, DELETE = VK.DELETE, dom = editor.dom, selection = editor.selection, parser = editor.parser;\n      var isGecko = Env.gecko, isIE = Env.ie, isWebKit = Env.webkit;\n      var mceInternalUrlPrefix = 'data:text/mce-internal,';\n      var mceInternalDataType = isIE ? 'Text' : 'URL';\n      var setEditorCommandState = function (cmd, state) {\n        try {\n          editor.getDoc().execCommand(cmd, false, state);\n        } catch (ex) {\n        }\n      };\n      var isDefaultPrevented = function (e) {\n        return e.isDefaultPrevented();\n      };\n      var setMceInternalContent = function (e) {\n        var selectionHtml, internalContent;\n        if (e.dataTransfer) {\n          if (editor.selection.isCollapsed() && e.target.tagName === 'IMG') {\n            selection.select(e.target);\n          }\n          selectionHtml = editor.selection.getContent();\n          if (selectionHtml.length > 0) {\n            internalContent = mceInternalUrlPrefix + escape(editor.id) + ',' + escape(selectionHtml);\n            e.dataTransfer.setData(mceInternalDataType, internalContent);\n          }\n        }\n      };\n      var getMceInternalContent = function (e) {\n        var internalContent;\n        if (e.dataTransfer) {\n          internalContent = e.dataTransfer.getData(mceInternalDataType);\n          if (internalContent && internalContent.indexOf(mceInternalUrlPrefix) >= 0) {\n            internalContent = internalContent.substr(mceInternalUrlPrefix.length).split(',');\n            return {\n              id: unescape(internalContent[0]),\n              html: unescape(internalContent[1])\n            };\n          }\n        }\n        return null;\n      };\n      var insertClipboardContents = function (content, internal) {\n        if (editor.queryCommandSupported('mceInsertClipboardContent')) {\n          editor.execCommand('mceInsertClipboardContent', false, {\n            content: content,\n            internal: internal\n          });\n        } else {\n          editor.execCommand('mceInsertContent', false, content);\n        }\n      };\n      var emptyEditorWhenDeleting = function () {\n        var serializeRng = function (rng) {\n          var body = dom.create('body');\n          var contents = rng.cloneContents();\n          body.appendChild(contents);\n          return selection.serializer.serialize(body, { format: 'html' });\n        };\n        var allContentsSelected = function (rng) {\n          var selection = serializeRng(rng);\n          var allRng = dom.createRng();\n          allRng.selectNode(editor.getBody());\n          var allSelection = serializeRng(allRng);\n          return selection === allSelection;\n        };\n        editor.on('keydown', function (e) {\n          var keyCode = e.keyCode;\n          var isCollapsed, body;\n          if (!isDefaultPrevented(e) && (keyCode === DELETE || keyCode === BACKSPACE)) {\n            isCollapsed = editor.selection.isCollapsed();\n            body = editor.getBody();\n            if (isCollapsed && !dom.isEmpty(body)) {\n              return;\n            }\n            if (!isCollapsed && !allContentsSelected(editor.selection.getRng())) {\n              return;\n            }\n            e.preventDefault();\n            editor.setContent('');\n            if (body.firstChild && dom.isBlock(body.firstChild)) {\n              editor.selection.setCursorLocation(body.firstChild, 0);\n            } else {\n              editor.selection.setCursorLocation(body, 0);\n            }\n            editor.nodeChanged();\n          }\n        });\n      };\n      var selectAll = function () {\n        editor.shortcuts.add('meta+a', null, 'SelectAll');\n      };\n      var documentElementEditingFocus = function () {\n        if (!editor.inline) {\n          dom.bind(editor.getDoc(), 'mousedown mouseup', function (e) {\n            var rng;\n            if (e.target === editor.getDoc().documentElement) {\n              rng = selection.getRng();\n              editor.getBody().focus();\n              if (e.type === 'mousedown') {\n                if (isCaretContainer$2(rng.startContainer)) {\n                  return;\n                }\n                selection.placeCaretAt(e.clientX, e.clientY);\n              } else {\n                selection.setRng(rng);\n              }\n            }\n          });\n        }\n      };\n      var removeHrOnBackspace = function () {\n        editor.on('keydown', function (e) {\n          if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\n            if (!editor.getBody().getElementsByTagName('hr').length) {\n              return;\n            }\n            if (selection.isCollapsed() && selection.getRng().startOffset === 0) {\n              var node = selection.getNode();\n              var previousSibling = node.previousSibling;\n              if (node.nodeName === 'HR') {\n                dom.remove(node);\n                e.preventDefault();\n                return;\n              }\n              if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === 'hr') {\n                dom.remove(previousSibling);\n                e.preventDefault();\n              }\n            }\n          }\n        });\n      };\n      var focusBody = function () {\n        if (!Range.prototype.getClientRects) {\n          editor.on('mousedown', function (e) {\n            if (!isDefaultPrevented(e) && e.target.nodeName === 'HTML') {\n              var body_1 = editor.getBody();\n              body_1.blur();\n              Delay.setEditorTimeout(editor, function () {\n                body_1.focus();\n              });\n            }\n          });\n        }\n      };\n      var selectControlElements = function () {\n        editor.on('click', function (e) {\n          var target = e.target;\n          if (/^(IMG|HR)$/.test(target.nodeName) && dom.getContentEditableParent(target) !== 'false') {\n            e.preventDefault();\n            editor.selection.select(target);\n            editor.nodeChanged();\n          }\n          if (target.nodeName === 'A' && dom.hasClass(target, 'mce-item-anchor')) {\n            e.preventDefault();\n            selection.select(target);\n          }\n        });\n      };\n      var removeStylesWhenDeletingAcrossBlockElements = function () {\n        var getAttributeApplyFunction = function () {\n          var template = dom.getAttribs(selection.getStart().cloneNode(false));\n          return function () {\n            var target = selection.getStart();\n            if (target !== editor.getBody()) {\n              dom.setAttrib(target, 'style', null);\n              each(template, function (attr) {\n                target.setAttributeNode(attr.cloneNode(true));\n              });\n            }\n          };\n        };\n        var isSelectionAcrossElements = function () {\n          return !selection.isCollapsed() && dom.getParent(selection.getStart(), dom.isBlock) !== dom.getParent(selection.getEnd(), dom.isBlock);\n        };\n        editor.on('keypress', function (e) {\n          var applyAttributes;\n          if (!isDefaultPrevented(e) && (e.keyCode === 8 || e.keyCode === 46) && isSelectionAcrossElements()) {\n            applyAttributes = getAttributeApplyFunction();\n            editor.getDoc().execCommand('delete', false, null);\n            applyAttributes();\n            e.preventDefault();\n            return false;\n          }\n        });\n        dom.bind(editor.getDoc(), 'cut', function (e) {\n          var applyAttributes;\n          if (!isDefaultPrevented(e) && isSelectionAcrossElements()) {\n            applyAttributes = getAttributeApplyFunction();\n            Delay.setEditorTimeout(editor, function () {\n              applyAttributes();\n            });\n          }\n        });\n      };\n      var disableBackspaceIntoATable = function () {\n        editor.on('keydown', function (e) {\n          if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\n            if (selection.isCollapsed() && selection.getRng().startOffset === 0) {\n              var previousSibling = selection.getNode().previousSibling;\n              if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === 'table') {\n                e.preventDefault();\n                return false;\n              }\n            }\n          }\n        });\n      };\n      var removeBlockQuoteOnBackSpace = function () {\n        editor.on('keydown', function (e) {\n          var rng, parent;\n          if (isDefaultPrevented(e) || e.keyCode !== VK.BACKSPACE) {\n            return;\n          }\n          rng = selection.getRng();\n          var container = rng.startContainer;\n          var offset = rng.startOffset;\n          var root = dom.getRoot();\n          parent = container;\n          if (!rng.collapsed || offset !== 0) {\n            return;\n          }\n          while (parent && parent.parentNode && parent.parentNode.firstChild === parent && parent.parentNode !== root) {\n            parent = parent.parentNode;\n          }\n          if (parent.tagName === 'BLOCKQUOTE') {\n            editor.formatter.toggle('blockquote', null, parent);\n            rng = dom.createRng();\n            rng.setStart(container, 0);\n            rng.setEnd(container, 0);\n            selection.setRng(rng);\n          }\n        });\n      };\n      var setGeckoEditingOptions = function () {\n        var setOpts = function () {\n          setEditorCommandState('StyleWithCSS', false);\n          setEditorCommandState('enableInlineTableEditing', false);\n          if (!getObjectResizing(editor)) {\n            setEditorCommandState('enableObjectResizing', false);\n          }\n        };\n        if (!isReadOnly$1(editor)) {\n          editor.on('BeforeExecCommand mousedown', setOpts);\n        }\n      };\n      var addBrAfterLastLinks = function () {\n        var fixLinks = function () {\n          each(dom.select('a'), function (node) {\n            var parentNode = node.parentNode;\n            var root = dom.getRoot();\n            if (parentNode.lastChild === node) {\n              while (parentNode && !dom.isBlock(parentNode)) {\n                if (parentNode.parentNode.lastChild !== parentNode || parentNode === root) {\n                  return;\n                }\n                parentNode = parentNode.parentNode;\n              }\n              dom.add(parentNode, 'br', { 'data-mce-bogus': 1 });\n            }\n          });\n        };\n        editor.on('SetContent ExecCommand', function (e) {\n          if (e.type === 'setcontent' || e.command === 'mceInsertLink') {\n            fixLinks();\n          }\n        });\n      };\n      var setDefaultBlockType = function () {\n        if (getForcedRootBlock(editor)) {\n          editor.on('init', function () {\n            setEditorCommandState('DefaultParagraphSeparator', getForcedRootBlock(editor));\n          });\n        }\n      };\n      var normalizeSelection = function () {\n        editor.on('keyup focusin mouseup', function (e) {\n          if (!VK.modifierPressed(e)) {\n            selection.normalize();\n          }\n        }, true);\n      };\n      var showBrokenImageIcon = function () {\n        editor.contentStyles.push('img:-moz-broken {' + '-moz-force-broken-image-icon:1;' + 'min-width:24px;' + 'min-height:24px' + '}');\n      };\n      var restoreFocusOnKeyDown = function () {\n        if (!editor.inline) {\n          editor.on('keydown', function () {\n            if (document.activeElement === document.body) {\n              editor.getWin().focus();\n            }\n          });\n        }\n      };\n      var bodyHeight = function () {\n        if (!editor.inline) {\n          editor.contentStyles.push('body {min-height: 150px}');\n          editor.on('click', function (e) {\n            var rng;\n            if (e.target.nodeName === 'HTML') {\n              if (Env.ie > 11) {\n                editor.getBody().focus();\n                return;\n              }\n              rng = editor.selection.getRng();\n              editor.getBody().focus();\n              editor.selection.setRng(rng);\n              editor.selection.normalize();\n              editor.nodeChanged();\n            }\n          });\n        }\n      };\n      var blockCmdArrowNavigation = function () {\n        if (Env.mac) {\n          editor.on('keydown', function (e) {\n            if (VK.metaKeyPressed(e) && !e.shiftKey && (e.keyCode === 37 || e.keyCode === 39)) {\n              e.preventDefault();\n              var selection_1 = editor.selection.getSel();\n              selection_1.modify('move', e.keyCode === 37 ? 'backward' : 'forward', 'lineboundary');\n            }\n          });\n        }\n      };\n      var disableAutoUrlDetect = function () {\n        setEditorCommandState('AutoUrlDetect', false);\n      };\n      var tapLinksAndImages = function () {\n        editor.on('click', function (e) {\n          var elm = e.target;\n          do {\n            if (elm.tagName === 'A') {\n              e.preventDefault();\n              return;\n            }\n          } while (elm = elm.parentNode);\n        });\n        editor.contentStyles.push('.mce-content-body {-webkit-touch-callout: none}');\n      };\n      var blockFormSubmitInsideEditor = function () {\n        editor.on('init', function () {\n          editor.dom.bind(editor.getBody(), 'submit', function (e) {\n            e.preventDefault();\n          });\n        });\n      };\n      var removeAppleInterchangeBrs = function () {\n        parser.addNodeFilter('br', function (nodes) {\n          var i = nodes.length;\n          while (i--) {\n            if (nodes[i].attr('class') === 'Apple-interchange-newline') {\n              nodes[i].remove();\n            }\n          }\n        });\n      };\n      var ieInternalDragAndDrop = function () {\n        editor.on('dragstart', function (e) {\n          setMceInternalContent(e);\n        });\n        editor.on('drop', function (e) {\n          if (!isDefaultPrevented(e)) {\n            var internalContent = getMceInternalContent(e);\n            if (internalContent && internalContent.id !== editor.id) {\n              e.preventDefault();\n              var rng = fromPoint(e.x, e.y, editor.getDoc());\n              selection.setRng(rng);\n              insertClipboardContents(internalContent.html, true);\n            }\n          }\n        });\n      };\n      var refreshContentEditable = noop;\n      var isHidden = function () {\n        if (!isGecko || editor.removed) {\n          return false;\n        }\n        var sel = editor.selection.getSel();\n        return !sel || !sel.rangeCount || sel.rangeCount === 0;\n      };\n      var setupRtc = function () {\n        if (isWebKit) {\n          documentElementEditingFocus();\n          selectControlElements();\n          blockFormSubmitInsideEditor();\n          selectAll();\n          if (Env.iOS) {\n            restoreFocusOnKeyDown();\n            bodyHeight();\n            tapLinksAndImages();\n          }\n        }\n        if (isGecko) {\n          focusBody();\n          setGeckoEditingOptions();\n          showBrokenImageIcon();\n          blockCmdArrowNavigation();\n        }\n      };\n      var setup = function () {\n        removeBlockQuoteOnBackSpace();\n        emptyEditorWhenDeleting();\n        if (!Env.windowsPhone) {\n          normalizeSelection();\n        }\n        if (isWebKit) {\n          documentElementEditingFocus();\n          selectControlElements();\n          setDefaultBlockType();\n          blockFormSubmitInsideEditor();\n          disableBackspaceIntoATable();\n          removeAppleInterchangeBrs();\n          if (Env.iOS) {\n            restoreFocusOnKeyDown();\n            bodyHeight();\n            tapLinksAndImages();\n          } else {\n            selectAll();\n          }\n        }\n        if (Env.ie >= 11) {\n          bodyHeight();\n          disableBackspaceIntoATable();\n        }\n        if (Env.ie) {\n          selectAll();\n          disableAutoUrlDetect();\n          ieInternalDragAndDrop();\n        }\n        if (isGecko) {\n          removeHrOnBackspace();\n          focusBody();\n          removeStylesWhenDeletingAcrossBlockElements();\n          setGeckoEditingOptions();\n          addBrAfterLastLinks();\n          showBrokenImageIcon();\n          blockCmdArrowNavigation();\n          disableBackspaceIntoATable();\n        }\n      };\n      if (isRtc(editor)) {\n        setupRtc();\n      } else {\n        setup();\n      }\n      return {\n        refreshContentEditable: refreshContentEditable,\n        isHidden: isHidden\n      };\n    };\n\n    var DOM$6 = DOMUtils.DOM;\n    var appendStyle = function (editor, text) {\n      var body = SugarElement.fromDom(editor.getBody());\n      var container = getStyleContainer(getRootNode(body));\n      var style = SugarElement.fromTag('style');\n      set$1(style, 'type', 'text/css');\n      append$1(style, SugarElement.fromText(text));\n      append$1(container, style);\n      editor.on('remove', function () {\n        remove$7(style);\n      });\n    };\n    var getRootName = function (editor) {\n      return editor.inline ? editor.getElement().nodeName.toLowerCase() : undefined;\n    };\n    var removeUndefined = function (obj) {\n      return filter$3(obj, function (v) {\n        return isUndefined(v) === false;\n      });\n    };\n    var mkParserSettings = function (editor) {\n      var settings = editor.settings;\n      var blobCache = editor.editorUpload.blobCache;\n      return removeUndefined({\n        allow_conditional_comments: settings.allow_conditional_comments,\n        allow_html_data_urls: settings.allow_html_data_urls,\n        allow_svg_data_urls: settings.allow_svg_data_urls,\n        allow_html_in_named_anchor: settings.allow_html_in_named_anchor,\n        allow_script_urls: settings.allow_script_urls,\n        allow_unsafe_link_target: settings.allow_unsafe_link_target,\n        convert_fonts_to_spans: settings.convert_fonts_to_spans,\n        fix_list_elements: settings.fix_list_elements,\n        font_size_legacy_values: settings.font_size_legacy_values,\n        forced_root_block: settings.forced_root_block,\n        forced_root_block_attrs: settings.forced_root_block_attrs,\n        padd_empty_with_br: settings.padd_empty_with_br,\n        preserve_cdata: settings.preserve_cdata,\n        remove_trailing_brs: settings.remove_trailing_brs,\n        inline_styles: settings.inline_styles,\n        root_name: getRootName(editor),\n        validate: true,\n        blob_cache: blobCache,\n        document: editor.getDoc(),\n        images_dataimg_filter: settings.images_dataimg_filter\n      });\n    };\n    var mkSerializerSettings = function (editor) {\n      var settings = editor.settings;\n      return __assign(__assign({}, mkParserSettings(editor)), removeUndefined({\n        url_converter: settings.url_converter,\n        url_converter_scope: settings.url_converter_scope,\n        element_format: settings.element_format,\n        entities: settings.entities,\n        entity_encoding: settings.entity_encoding,\n        indent: settings.indent,\n        indent_after: settings.indent_after,\n        indent_before: settings.indent_before,\n        block_elements: settings.block_elements,\n        boolean_attributes: settings.boolean_attributes,\n        custom_elements: settings.custom_elements,\n        extended_valid_elements: settings.extended_valid_elements,\n        invalid_elements: settings.invalid_elements,\n        invalid_styles: settings.invalid_styles,\n        move_caret_before_on_enter_elements: settings.move_caret_before_on_enter_elements,\n        non_empty_elements: settings.non_empty_elements,\n        schema: settings.schema,\n        self_closing_elements: settings.self_closing_elements,\n        short_ended_elements: settings.short_ended_elements,\n        special: settings.special,\n        text_block_elements: settings.text_block_elements,\n        text_inline_elements: settings.text_inline_elements,\n        valid_children: settings.valid_children,\n        valid_classes: settings.valid_classes,\n        valid_elements: settings.valid_elements,\n        valid_styles: settings.valid_styles,\n        verify_html: settings.verify_html,\n        whitespace_elements: settings.whitespace_elements\n      }));\n    };\n    var createParser = function (editor) {\n      var parser = DomParser(mkParserSettings(editor), editor.schema);\n      parser.addAttributeFilter('src,href,style,tabindex', function (nodes, name) {\n        var i = nodes.length, node, value;\n        var dom = editor.dom;\n        var internalName = 'data-mce-' + name;\n        while (i--) {\n          node = nodes[i];\n          value = node.attr(name);\n          if (value && !node.attr(internalName)) {\n            if (value.indexOf('data:') === 0 || value.indexOf('blob:') === 0) {\n              continue;\n            }\n            if (name === 'style') {\n              value = dom.serializeStyle(dom.parseStyle(value), node.name);\n              if (!value.length) {\n                value = null;\n              }\n              node.attr(internalName, value);\n              node.attr(name, value);\n            } else if (name === 'tabindex') {\n              node.attr(internalName, value);\n              node.attr(name, null);\n            } else {\n              node.attr(internalName, editor.convertURL(value, name, node.name));\n            }\n          }\n        }\n      });\n      parser.addNodeFilter('script', function (nodes) {\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          var type = node.attr('type') || 'no/type';\n          if (type.indexOf('mce-') !== 0) {\n            node.attr('type', 'mce-' + type);\n          }\n        }\n      });\n      if (editor.settings.preserve_cdata) {\n        parser.addNodeFilter('#cdata', function (nodes) {\n          var i = nodes.length;\n          while (i--) {\n            var node = nodes[i];\n            node.type = 8;\n            node.name = '#comment';\n            node.value = '[CDATA[' + editor.dom.encode(node.value) + ']]';\n          }\n        });\n      }\n      parser.addNodeFilter('p,h1,h2,h3,h4,h5,h6,div', function (nodes) {\n        var i = nodes.length;\n        var nonEmptyElements = editor.schema.getNonEmptyElements();\n        while (i--) {\n          var node = nodes[i];\n          if (node.isEmpty(nonEmptyElements) && node.getAll('br').length === 0) {\n            node.append(new AstNode('br', 1)).shortEnded = true;\n          }\n        }\n      });\n      return parser;\n    };\n    var autoFocus = function (editor) {\n      if (editor.settings.auto_focus) {\n        Delay.setEditorTimeout(editor, function () {\n          var focusEditor;\n          if (editor.settings.auto_focus === true) {\n            focusEditor = editor;\n          } else {\n            focusEditor = editor.editorManager.get(editor.settings.auto_focus);\n          }\n          if (!focusEditor.destroyed) {\n            focusEditor.focus();\n          }\n        }, 100);\n      }\n    };\n    var moveSelectionToFirstCaretPosition = function (editor) {\n      var root = editor.dom.getRoot();\n      if (!editor.inline && (!hasAnyRanges(editor) || editor.selection.getStart(true) === root)) {\n        firstPositionIn(root).each(function (pos) {\n          var node = pos.getNode();\n          var caretPos = isTable$3(node) ? firstPositionIn(node).getOr(pos) : pos;\n          if (Env.browser.isIE()) {\n            storeNative(editor, caretPos.toRange());\n          } else {\n            editor.selection.setRng(caretPos.toRange());\n          }\n        });\n      }\n    };\n    var initEditor = function (editor) {\n      editor.bindPendingEventDelegates();\n      editor.initialized = true;\n      fireInit(editor);\n      editor.focus(true);\n      moveSelectionToFirstCaretPosition(editor);\n      editor.nodeChanged({ initial: true });\n      editor.execCallback('init_instance_callback', editor);\n      autoFocus(editor);\n    };\n    var getStyleSheetLoader$1 = function (editor) {\n      return editor.inline ? editor.ui.styleSheetLoader : editor.dom.styleSheetLoader;\n    };\n    var makeStylesheetLoadingPromises = function (editor, css, framedFonts) {\n      var promises = [new promiseObj(function (resolve, reject) {\n          return getStyleSheetLoader$1(editor).loadAll(css, resolve, reject);\n        })];\n      if (editor.inline) {\n        return promises;\n      } else {\n        return promises.concat([new promiseObj(function (resolve, reject) {\n            return editor.ui.styleSheetLoader.loadAll(framedFonts, resolve, reject);\n          })]);\n      }\n    };\n    var loadContentCss = function (editor) {\n      var styleSheetLoader = getStyleSheetLoader$1(editor);\n      var fontCss = getFontCss(editor);\n      var css = editor.contentCSS;\n      var removeCss = function () {\n        styleSheetLoader.unloadAll(css);\n        if (!editor.inline) {\n          editor.ui.styleSheetLoader.unloadAll(fontCss);\n        }\n      };\n      var loaded = function () {\n        if (editor.removed) {\n          removeCss();\n        } else {\n          editor.on('remove', removeCss);\n        }\n      };\n      if (editor.contentStyles.length > 0) {\n        var contentCssText_1 = '';\n        Tools.each(editor.contentStyles, function (style) {\n          contentCssText_1 += style + '\\r\\n';\n        });\n        editor.dom.addStyle(contentCssText_1);\n      }\n      var allStylesheets = promiseObj.all(makeStylesheetLoadingPromises(editor, css, fontCss)).then(loaded).catch(loaded);\n      if (editor.settings.content_style) {\n        appendStyle(editor, editor.settings.content_style);\n      }\n      return allStylesheets;\n    };\n    var preInit = function (editor) {\n      var settings = editor.settings, doc = editor.getDoc(), body = editor.getBody();\n      firePreInit(editor);\n      if (!settings.browser_spellcheck && !settings.gecko_spellcheck) {\n        doc.body.spellcheck = false;\n        DOM$6.setAttrib(body, 'spellcheck', 'false');\n      }\n      editor.quirks = Quirks(editor);\n      firePostRender(editor);\n      var directionality = getDirectionality(editor);\n      if (directionality !== undefined) {\n        body.dir = directionality;\n      }\n      if (settings.protect) {\n        editor.on('BeforeSetContent', function (e) {\n          Tools.each(settings.protect, function (pattern) {\n            e.content = e.content.replace(pattern, function (str) {\n              return '<!--mce:protected ' + escape(str) + '-->';\n            });\n          });\n        });\n      }\n      editor.on('SetContent', function () {\n        editor.addVisual(editor.getBody());\n      });\n      editor.on('compositionstart compositionend', function (e) {\n        editor.composing = e.type === 'compositionstart';\n      });\n    };\n    var loadInitialContent = function (editor) {\n      if (!isRtc(editor)) {\n        editor.load({\n          initial: true,\n          format: 'html'\n        });\n      }\n      editor.startContent = editor.getContent({ format: 'raw' });\n    };\n    var initEditorWithInitialContent = function (editor) {\n      if (editor.removed !== true) {\n        loadInitialContent(editor);\n        initEditor(editor);\n      }\n    };\n    var initContentBody = function (editor, skipWrite) {\n      var settings = editor.settings;\n      var targetElm = editor.getElement();\n      var doc = editor.getDoc();\n      if (!settings.inline) {\n        editor.getElement().style.visibility = editor.orgVisibility;\n      }\n      if (!skipWrite && !editor.inline) {\n        doc.open();\n        doc.write(editor.iframeHTML);\n        doc.close();\n      }\n      if (editor.inline) {\n        DOM$6.addClass(targetElm, 'mce-content-body');\n        editor.contentDocument = doc = document;\n        editor.contentWindow = window;\n        editor.bodyElement = targetElm;\n        editor.contentAreaContainer = targetElm;\n      }\n      var body = editor.getBody();\n      body.disabled = true;\n      editor.readonly = !!settings.readonly;\n      if (!editor.readonly) {\n        if (editor.inline && DOM$6.getStyle(body, 'position', true) === 'static') {\n          body.style.position = 'relative';\n        }\n        body.contentEditable = editor.getParam('content_editable_state', true);\n      }\n      body.disabled = false;\n      editor.editorUpload = EditorUpload(editor);\n      editor.schema = Schema(settings);\n      editor.dom = DOMUtils(doc, {\n        keep_values: true,\n        url_converter: editor.convertURL,\n        url_converter_scope: editor,\n        hex_colors: settings.force_hex_style_colors,\n        update_styles: true,\n        root_element: editor.inline ? editor.getBody() : null,\n        collect: function () {\n          return editor.inline;\n        },\n        schema: editor.schema,\n        contentCssCors: shouldUseContentCssCors(editor),\n        referrerPolicy: getReferrerPolicy(editor),\n        onSetAttrib: function (e) {\n          editor.fire('SetAttrib', e);\n        }\n      });\n      editor.parser = createParser(editor);\n      editor.serializer = DomSerializer(mkSerializerSettings(editor), editor);\n      editor.selection = EditorSelection(editor.dom, editor.getWin(), editor.serializer, editor);\n      editor.annotator = Annotator(editor);\n      editor.formatter = Formatter(editor);\n      editor.undoManager = UndoManager(editor);\n      editor._nodeChangeDispatcher = new NodeChange(editor);\n      editor._selectionOverrides = SelectionOverrides(editor);\n      setup$e(editor);\n      setup$3(editor);\n      if (!isRtc(editor)) {\n        setup$2(editor);\n      }\n      var caret = setup$4(editor);\n      setup$f(editor, caret);\n      setup$d(editor);\n      setup$g(editor);\n      var setupRtcThunk = setup$i(editor);\n      preInit(editor);\n      setupRtcThunk.fold(function () {\n        loadContentCss(editor).then(function () {\n          return initEditorWithInitialContent(editor);\n        });\n      }, function (setupRtc) {\n        editor.setProgressState(true);\n        loadContentCss(editor).then(function () {\n          setupRtc().then(function (_rtcMode) {\n            editor.setProgressState(false);\n            initEditorWithInitialContent(editor);\n          }, function (err) {\n            editor.notificationManager.open({\n              type: 'error',\n              text: String(err)\n            });\n            initEditorWithInitialContent(editor);\n          });\n        });\n      });\n    };\n\n    var DOM$5 = DOMUtils.DOM;\n    var relaxDomain = function (editor, ifr) {\n      if (document.domain !== window.location.hostname && Env.browser.isIE()) {\n        var bodyUuid = uuid('mce');\n        editor[bodyUuid] = function () {\n          initContentBody(editor);\n        };\n        var domainRelaxUrl = 'javascript:(function(){' + 'document.open();document.domain=\"' + document.domain + '\";' + 'var ed = window.parent.tinymce.get(\"' + editor.id + '\");document.write(ed.iframeHTML);' + 'document.close();ed.' + bodyUuid + '(true);})()';\n        DOM$5.setAttrib(ifr, 'src', domainRelaxUrl);\n        return true;\n      }\n      return false;\n    };\n    var createIframeElement = function (id, title, height, customAttrs) {\n      var iframe = SugarElement.fromTag('iframe');\n      setAll$1(iframe, customAttrs);\n      setAll$1(iframe, {\n        id: id + '_ifr',\n        frameBorder: '0',\n        allowTransparency: 'true',\n        title: title\n      });\n      add$1(iframe, 'tox-edit-area__iframe');\n      return iframe;\n    };\n    var getIframeHtml = function (editor) {\n      var iframeHTML = getDocType(editor) + '<html><head>';\n      if (getDocumentBaseUrl(editor) !== editor.documentBaseUrl) {\n        iframeHTML += '<base href=\"' + editor.documentBaseURI.getURI() + '\" />';\n      }\n      iframeHTML += '<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />';\n      var bodyId = getBodyId(editor);\n      var bodyClass = getBodyClass(editor);\n      var translatedAriaText = editor.translate(getIframeAriaText(editor));\n      if (getContentSecurityPolicy(editor)) {\n        iframeHTML += '<meta http-equiv=\"Content-Security-Policy\" content=\"' + getContentSecurityPolicy(editor) + '\" />';\n      }\n      iframeHTML += '</head>' + ('<body id=\"' + bodyId + '\" class=\"mce-content-body ' + bodyClass + '\" data-id=\"' + editor.id + '\" aria-label=\"' + translatedAriaText + '\">') + '<br>' + '</body></html>';\n      return iframeHTML;\n    };\n    var createIframe = function (editor, o) {\n      var iframeTitle = editor.translate('Rich Text Area');\n      var ifr = createIframeElement(editor.id, iframeTitle, o.height, getIframeAttrs(editor)).dom;\n      ifr.onload = function () {\n        ifr.onload = null;\n        editor.fire('load');\n      };\n      var isDomainRelaxed = relaxDomain(editor, ifr);\n      editor.contentAreaContainer = o.iframeContainer;\n      editor.iframeElement = ifr;\n      editor.iframeHTML = getIframeHtml(editor);\n      DOM$5.add(o.iframeContainer, ifr);\n      return isDomainRelaxed;\n    };\n    var init$1 = function (editor, boxInfo) {\n      var isDomainRelaxed = createIframe(editor, boxInfo);\n      if (boxInfo.editorContainer) {\n        DOM$5.get(boxInfo.editorContainer).style.display = editor.orgDisplay;\n        editor.hidden = DOM$5.isHidden(boxInfo.editorContainer);\n      }\n      editor.getElement().style.display = 'none';\n      DOM$5.setAttrib(editor.id, 'aria-hidden', 'true');\n      if (!isDomainRelaxed) {\n        initContentBody(editor);\n      }\n    };\n\n    var DOM$4 = DOMUtils.DOM;\n    var initPlugin = function (editor, initializedPlugins, plugin) {\n      var Plugin = PluginManager.get(plugin);\n      var pluginUrl = PluginManager.urls[plugin] || editor.documentBaseUrl.replace(/\\/$/, '');\n      plugin = Tools.trim(plugin);\n      if (Plugin && Tools.inArray(initializedPlugins, plugin) === -1) {\n        Tools.each(PluginManager.dependencies(plugin), function (dep) {\n          initPlugin(editor, initializedPlugins, dep);\n        });\n        if (editor.plugins[plugin]) {\n          return;\n        }\n        try {\n          var pluginInstance = new Plugin(editor, pluginUrl, editor.$);\n          editor.plugins[plugin] = pluginInstance;\n          if (pluginInstance.init) {\n            pluginInstance.init(editor, pluginUrl);\n            initializedPlugins.push(plugin);\n          }\n        } catch (e) {\n          pluginInitError(editor, plugin, e);\n        }\n      }\n    };\n    var trimLegacyPrefix = function (name) {\n      return name.replace(/^\\-/, '');\n    };\n    var initPlugins = function (editor) {\n      var initializedPlugins = [];\n      Tools.each(getPlugins(editor).split(/[ ,]/), function (name) {\n        initPlugin(editor, initializedPlugins, trimLegacyPrefix(name));\n      });\n    };\n    var initIcons = function (editor) {\n      var iconPackName = Tools.trim(getIconPackName(editor));\n      var currentIcons = editor.ui.registry.getAll().icons;\n      var loadIcons = __assign(__assign({}, IconManager.get('default').icons), IconManager.get(iconPackName).icons);\n      each$j(loadIcons, function (svgData, icon) {\n        if (!has$2(currentIcons, icon)) {\n          editor.ui.registry.addIcon(icon, svgData);\n        }\n      });\n    };\n    var initTheme = function (editor) {\n      var theme = getTheme(editor);\n      if (isString$1(theme)) {\n        editor.settings.theme = trimLegacyPrefix(theme);\n        var Theme = ThemeManager.get(theme);\n        editor.theme = new Theme(editor, ThemeManager.urls[theme]);\n        if (editor.theme.init) {\n          editor.theme.init(editor, ThemeManager.urls[theme] || editor.documentBaseUrl.replace(/\\/$/, ''), editor.$);\n        }\n      } else {\n        editor.theme = {};\n      }\n    };\n    var renderFromLoadedTheme = function (editor) {\n      return editor.theme.renderUI();\n    };\n    var renderFromThemeFunc = function (editor) {\n      var elm = editor.getElement();\n      var theme = getTheme(editor);\n      var info = theme(editor, elm);\n      if (info.editorContainer.nodeType) {\n        info.editorContainer.id = info.editorContainer.id || editor.id + '_parent';\n      }\n      if (info.iframeContainer && info.iframeContainer.nodeType) {\n        info.iframeContainer.id = info.iframeContainer.id || editor.id + '_iframecontainer';\n      }\n      info.height = info.iframeHeight ? info.iframeHeight : elm.offsetHeight;\n      return info;\n    };\n    var createThemeFalseResult = function (element) {\n      return {\n        editorContainer: element,\n        iframeContainer: element,\n        api: {}\n      };\n    };\n    var renderThemeFalseIframe = function (targetElement) {\n      var iframeContainer = DOM$4.create('div');\n      DOM$4.insertAfter(iframeContainer, targetElement);\n      return createThemeFalseResult(iframeContainer);\n    };\n    var renderThemeFalse = function (editor) {\n      var targetElement = editor.getElement();\n      return editor.inline ? createThemeFalseResult(null) : renderThemeFalseIframe(targetElement);\n    };\n    var renderThemeUi = function (editor) {\n      var elm = editor.getElement();\n      editor.orgDisplay = elm.style.display;\n      if (isString$1(getTheme(editor))) {\n        return renderFromLoadedTheme(editor);\n      } else if (isFunction(getTheme(editor))) {\n        return renderFromThemeFunc(editor);\n      } else {\n        return renderThemeFalse(editor);\n      }\n    };\n    var augmentEditorUiApi = function (editor, api) {\n      var uiApiFacade = {\n        show: Optional.from(api.show).getOr(noop),\n        hide: Optional.from(api.hide).getOr(noop),\n        disable: Optional.from(api.disable).getOr(noop),\n        isDisabled: Optional.from(api.isDisabled).getOr(never),\n        enable: function () {\n          if (!editor.mode.isReadOnly()) {\n            Optional.from(api.enable).map(call);\n          }\n        }\n      };\n      editor.ui = __assign(__assign({}, editor.ui), uiApiFacade);\n    };\n    var init = function (editor) {\n      editor.fire('ScriptsLoaded');\n      initIcons(editor);\n      initTheme(editor);\n      initPlugins(editor);\n      var renderInfo = renderThemeUi(editor);\n      augmentEditorUiApi(editor, Optional.from(renderInfo.api).getOr({}));\n      var boxInfo = {\n        editorContainer: renderInfo.editorContainer,\n        iframeContainer: renderInfo.iframeContainer\n      };\n      editor.editorContainer = boxInfo.editorContainer ? boxInfo.editorContainer : null;\n      appendContentCssFromSettings(editor);\n      if (editor.inline) {\n        return initContentBody(editor);\n      } else {\n        return init$1(editor, boxInfo);\n      }\n    };\n\n    var DOM$3 = DOMUtils.DOM;\n    var hasSkipLoadPrefix = function (name) {\n      return name.charAt(0) === '-';\n    };\n    var loadLanguage = function (scriptLoader, editor) {\n      var languageCode = getLanguageCode(editor);\n      var languageUrl = getLanguageUrl(editor);\n      if (I18n.hasCode(languageCode) === false && languageCode !== 'en') {\n        var url_1 = languageUrl !== '' ? languageUrl : editor.editorManager.baseURL + '/langs/' + languageCode + '.js';\n        scriptLoader.add(url_1, noop, undefined, function () {\n          languageLoadError(editor, url_1, languageCode);\n        });\n      }\n    };\n    var loadTheme = function (scriptLoader, editor, suffix, callback) {\n      var theme = getTheme(editor);\n      if (isString$1(theme)) {\n        if (!hasSkipLoadPrefix(theme) && !has$2(ThemeManager.urls, theme)) {\n          var themeUrl = getThemeUrl(editor);\n          if (themeUrl) {\n            ThemeManager.load(theme, editor.documentBaseURI.toAbsolute(themeUrl));\n          } else {\n            ThemeManager.load(theme, 'themes/' + theme + '/theme' + suffix + '.js');\n          }\n        }\n        scriptLoader.loadQueue(function () {\n          ThemeManager.waitFor(theme, callback);\n        });\n      } else {\n        callback();\n      }\n    };\n    var getIconsUrlMetaFromUrl = function (editor) {\n      return Optional.from(getIconsUrl(editor)).filter(function (url) {\n        return url.length > 0;\n      }).map(function (url) {\n        return {\n          url: url,\n          name: Optional.none()\n        };\n      });\n    };\n    var getIconsUrlMetaFromName = function (editor, name, suffix) {\n      return Optional.from(name).filter(function (name) {\n        return name.length > 0 && !IconManager.has(name);\n      }).map(function (name) {\n        return {\n          url: editor.editorManager.baseURL + '/icons/' + name + '/icons' + suffix + '.js',\n          name: Optional.some(name)\n        };\n      });\n    };\n    var loadIcons = function (scriptLoader, editor, suffix) {\n      var defaultIconsUrl = getIconsUrlMetaFromName(editor, 'default', suffix);\n      var customIconsUrl = getIconsUrlMetaFromUrl(editor).orThunk(function () {\n        return getIconsUrlMetaFromName(editor, getIconPackName(editor), '');\n      });\n      each$k(cat([\n        defaultIconsUrl,\n        customIconsUrl\n      ]), function (urlMeta) {\n        scriptLoader.add(urlMeta.url, noop, undefined, function () {\n          iconsLoadError(editor, urlMeta.url, urlMeta.name.getOrUndefined());\n        });\n      });\n    };\n    var loadPlugins = function (editor, suffix) {\n      Tools.each(getExternalPlugins$1(editor), function (url, name) {\n        PluginManager.load(name, url, noop, undefined, function () {\n          pluginLoadError(editor, url, name);\n        });\n        editor.settings.plugins += ' ' + name;\n      });\n      Tools.each(getPlugins(editor).split(/[ ,]/), function (plugin) {\n        plugin = Tools.trim(plugin);\n        if (plugin && !PluginManager.urls[plugin]) {\n          if (hasSkipLoadPrefix(plugin)) {\n            plugin = plugin.substr(1, plugin.length);\n            var dependencies = PluginManager.dependencies(plugin);\n            Tools.each(dependencies, function (depPlugin) {\n              var defaultSettings = {\n                prefix: 'plugins/',\n                resource: depPlugin,\n                suffix: '/plugin' + suffix + '.js'\n              };\n              var dep = PluginManager.createUrl(defaultSettings, depPlugin);\n              PluginManager.load(dep.resource, dep, noop, undefined, function () {\n                pluginLoadError(editor, dep.prefix + dep.resource + dep.suffix, dep.resource);\n              });\n            });\n          } else {\n            var url_2 = {\n              prefix: 'plugins/',\n              resource: plugin,\n              suffix: '/plugin' + suffix + '.js'\n            };\n            PluginManager.load(plugin, url_2, noop, undefined, function () {\n              pluginLoadError(editor, url_2.prefix + url_2.resource + url_2.suffix, plugin);\n            });\n          }\n        }\n      });\n    };\n    var loadScripts = function (editor, suffix) {\n      var scriptLoader = ScriptLoader.ScriptLoader;\n      loadTheme(scriptLoader, editor, suffix, function () {\n        loadLanguage(scriptLoader, editor);\n        loadIcons(scriptLoader, editor, suffix);\n        loadPlugins(editor, suffix);\n        scriptLoader.loadQueue(function () {\n          if (!editor.removed) {\n            init(editor);\n          }\n        }, editor, function () {\n          if (!editor.removed) {\n            init(editor);\n          }\n        });\n      });\n    };\n    var getStyleSheetLoader = function (element, editor) {\n      return instance.forElement(element, {\n        contentCssCors: hasContentCssCors(editor),\n        referrerPolicy: getReferrerPolicy(editor)\n      });\n    };\n    var render = function (editor) {\n      var id = editor.id;\n      I18n.setCode(getLanguageCode(editor));\n      var readyHandler = function () {\n        DOM$3.unbind(window, 'ready', readyHandler);\n        editor.render();\n      };\n      if (!EventUtils.Event.domLoaded) {\n        DOM$3.bind(window, 'ready', readyHandler);\n        return;\n      }\n      if (!editor.getElement()) {\n        return;\n      }\n      if (!Env.contentEditable) {\n        return;\n      }\n      var element = SugarElement.fromDom(editor.getElement());\n      var snapshot = clone$3(element);\n      editor.on('remove', function () {\n        eachr(element.dom.attributes, function (attr) {\n          return remove$6(element, attr.name);\n        });\n        setAll$1(element, snapshot);\n      });\n      editor.ui.styleSheetLoader = getStyleSheetLoader(element, editor);\n      if (!isInline(editor)) {\n        editor.orgVisibility = editor.getElement().style.visibility;\n        editor.getElement().style.visibility = 'hidden';\n      } else {\n        editor.inline = true;\n      }\n      var form = editor.getElement().form || DOM$3.getParent(id, 'form');\n      if (form) {\n        editor.formElement = form;\n        if (hasHiddenInput(editor) && !isTextareaOrInput(editor.getElement())) {\n          DOM$3.insertAfter(DOM$3.create('input', {\n            type: 'hidden',\n            name: id\n          }), id);\n          editor.hasHiddenInput = true;\n        }\n        editor.formEventDelegate = function (e) {\n          editor.fire(e.type, e);\n        };\n        DOM$3.bind(form, 'submit reset', editor.formEventDelegate);\n        editor.on('reset', function () {\n          editor.resetContent();\n        });\n        if (shouldPatchSubmit(editor) && !form.submit.nodeType && !form.submit.length && !form._mceOldSubmit) {\n          form._mceOldSubmit = form.submit;\n          form.submit = function () {\n            editor.editorManager.triggerSave();\n            editor.setDirty(false);\n            return form._mceOldSubmit(form);\n          };\n        }\n      }\n      editor.windowManager = WindowManager(editor);\n      editor.notificationManager = NotificationManager(editor);\n      if (isEncodingXml(editor)) {\n        editor.on('GetContent', function (e) {\n          if (e.save) {\n            e.content = DOM$3.encode(e.content);\n          }\n        });\n      }\n      if (shouldAddFormSubmitTrigger(editor)) {\n        editor.on('submit', function () {\n          if (editor.initialized) {\n            editor.save();\n          }\n        });\n      }\n      if (shouldAddUnloadTrigger(editor)) {\n        editor._beforeUnload = function () {\n          if (editor.initialized && !editor.destroyed && !editor.isHidden()) {\n            editor.save({\n              format: 'raw',\n              no_events: true,\n              set_dirty: false\n            });\n          }\n        };\n        editor.editorManager.on('BeforeUnload', editor._beforeUnload);\n      }\n      editor.editorManager.add(editor);\n      loadScripts(editor, editor.suffix);\n    };\n\n    var addVisual = function (editor, elm) {\n      return addVisual$1(editor, elm);\n    };\n\n    var legacyPropNames = {\n      'font-size': 'size',\n      'font-family': 'face'\n    };\n    var getSpecifiedFontProp = function (propName, rootElm, elm) {\n      var getProperty = function (elm) {\n        return getRaw(elm, propName).orThunk(function () {\n          if (name(elm) === 'font') {\n            return get$9(legacyPropNames, propName).bind(function (legacyPropName) {\n              return getOpt(elm, legacyPropName);\n            });\n          } else {\n            return Optional.none();\n          }\n        });\n      };\n      var isRoot = function (elm) {\n        return eq(SugarElement.fromDom(rootElm), elm);\n      };\n      return closest$1(SugarElement.fromDom(elm), function (elm) {\n        return getProperty(elm);\n      }, isRoot);\n    };\n    var normalizeFontFamily = function (fontFamily) {\n      return fontFamily.replace(/[\\'\\\"\\\\]/g, '').replace(/,\\s+/g, ',');\n    };\n    var getComputedFontProp = function (propName, elm) {\n      return Optional.from(DOMUtils.DOM.getStyle(elm, propName, true));\n    };\n    var getFontProp = function (propName) {\n      return function (rootElm, elm) {\n        return Optional.from(elm).map(SugarElement.fromDom).filter(isElement$6).bind(function (element) {\n          return getSpecifiedFontProp(propName, rootElm, element.dom).or(getComputedFontProp(propName, element.dom));\n        }).getOr('');\n      };\n    };\n    var getFontSize = getFontProp('font-size');\n    var getFontFamily = compose(normalizeFontFamily, getFontProp('font-family'));\n\n    var findFirstCaretElement = function (editor) {\n      return firstPositionIn(editor.getBody()).map(function (caret) {\n        var container = caret.container();\n        return isText$7(container) ? container.parentNode : container;\n      });\n    };\n    var getCaretElement = function (editor) {\n      return Optional.from(editor.selection.getRng()).bind(function (rng) {\n        var root = editor.getBody();\n        var atStartOfNode = rng.startContainer === root && rng.startOffset === 0;\n        return atStartOfNode ? Optional.none() : Optional.from(editor.selection.getStart(true));\n      });\n    };\n    var bindRange = function (editor, binder) {\n      return getCaretElement(editor).orThunk(curry(findFirstCaretElement, editor)).map(SugarElement.fromDom).filter(isElement$6).bind(binder);\n    };\n    var mapRange = function (editor, mapper) {\n      return bindRange(editor, compose1(Optional.some, mapper));\n    };\n\n    var fromFontSizeNumber = function (editor, value) {\n      if (/^[0-9.]+$/.test(value)) {\n        var fontSizeNumber = parseInt(value, 10);\n        if (fontSizeNumber >= 1 && fontSizeNumber <= 7) {\n          var fontSizes = getFontStyleValues(editor);\n          var fontClasses = getFontSizeClasses(editor);\n          if (fontClasses) {\n            return fontClasses[fontSizeNumber - 1] || value;\n          } else {\n            return fontSizes[fontSizeNumber - 1] || value;\n          }\n        } else {\n          return value;\n        }\n      } else {\n        return value;\n      }\n    };\n    var normalizeFontNames = function (font) {\n      var fonts = font.split(/\\s*,\\s*/);\n      return map$3(fonts, function (font) {\n        if (font.indexOf(' ') !== -1 && !(startsWith(font, '\"') || startsWith(font, '\\''))) {\n          return '\\'' + font + '\\'';\n        } else {\n          return font;\n        }\n      }).join(',');\n    };\n    var fontNameAction = function (editor, value) {\n      var font = fromFontSizeNumber(editor, value);\n      editor.formatter.toggle('fontname', { value: normalizeFontNames(font) });\n      editor.nodeChanged();\n    };\n    var fontNameQuery = function (editor) {\n      return mapRange(editor, function (elm) {\n        return getFontFamily(editor.getBody(), elm.dom);\n      }).getOr('');\n    };\n    var fontSizeAction = function (editor, value) {\n      editor.formatter.toggle('fontsize', { value: fromFontSizeNumber(editor, value) });\n      editor.nodeChanged();\n    };\n    var fontSizeQuery = function (editor) {\n      return mapRange(editor, function (elm) {\n        return getFontSize(editor.getBody(), elm.dom);\n      }).getOr('');\n    };\n\n    var lineHeightQuery = function (editor) {\n      return mapRange(editor, function (elm) {\n        var root = SugarElement.fromDom(editor.getBody());\n        var specifiedStyle = closest$1(elm, function (elm) {\n          return getRaw(elm, 'line-height');\n        }, curry(eq, root));\n        var computedStyle = function () {\n          var lineHeight = parseFloat(get$5(elm, 'line-height'));\n          var fontSize = parseFloat(get$5(elm, 'font-size'));\n          return String(lineHeight / fontSize);\n        };\n        return specifiedStyle.getOrThunk(computedStyle);\n      }).getOr('');\n    };\n    var lineHeightAction = function (editor, lineHeight) {\n      editor.formatter.toggle('lineheight', { value: String(lineHeight) });\n      editor.nodeChanged();\n    };\n\n    var processValue = function (value) {\n      if (typeof value !== 'string') {\n        var details = Tools.extend({\n          paste: value.paste,\n          data: { paste: value.paste }\n        }, value);\n        return {\n          content: value.content,\n          details: details\n        };\n      }\n      return {\n        content: value,\n        details: {}\n      };\n    };\n    var insertAtCaret = function (editor, value) {\n      var result = processValue(value);\n      insertContent(editor, result.content, result.details);\n    };\n\n    var each$4 = Tools.each;\n    var map = Tools.map, inArray = Tools.inArray;\n    var EditorCommands = function () {\n      function EditorCommands(editor) {\n        this.commands = {\n          state: {},\n          exec: {},\n          value: {}\n        };\n        this.editor = editor;\n        this.setupCommands(editor);\n      }\n      EditorCommands.prototype.execCommand = function (command, ui, value, args) {\n        var func, state = false;\n        var self = this;\n        if (self.editor.removed) {\n          return;\n        }\n        if (command.toLowerCase() !== 'mcefocus') {\n          if (!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(command) && (!args || !args.skip_focus)) {\n            self.editor.focus();\n          } else {\n            restore(self.editor);\n          }\n        }\n        args = self.editor.fire('BeforeExecCommand', {\n          command: command,\n          ui: ui,\n          value: value\n        });\n        if (args.isDefaultPrevented()) {\n          return false;\n        }\n        var customCommand = command.toLowerCase();\n        if (func = self.commands.exec[customCommand]) {\n          func(customCommand, ui, value);\n          self.editor.fire('ExecCommand', {\n            command: command,\n            ui: ui,\n            value: value\n          });\n          return true;\n        }\n        each$4(this.editor.plugins, function (p) {\n          if (p.execCommand && p.execCommand(command, ui, value)) {\n            self.editor.fire('ExecCommand', {\n              command: command,\n              ui: ui,\n              value: value\n            });\n            state = true;\n            return false;\n          }\n        });\n        if (state) {\n          return state;\n        }\n        if (self.editor.theme && self.editor.theme.execCommand && self.editor.theme.execCommand(command, ui, value)) {\n          self.editor.fire('ExecCommand', {\n            command: command,\n            ui: ui,\n            value: value\n          });\n          return true;\n        }\n        try {\n          state = self.editor.getDoc().execCommand(command, ui, value);\n        } catch (ex) {\n        }\n        if (state) {\n          self.editor.fire('ExecCommand', {\n            command: command,\n            ui: ui,\n            value: value\n          });\n          return true;\n        }\n        return false;\n      };\n      EditorCommands.prototype.queryCommandState = function (command) {\n        var func;\n        if (this.editor.quirks.isHidden() || this.editor.removed) {\n          return;\n        }\n        command = command.toLowerCase();\n        if (func = this.commands.state[command]) {\n          return func(command);\n        }\n        try {\n          return this.editor.getDoc().queryCommandState(command);\n        } catch (ex) {\n        }\n        return false;\n      };\n      EditorCommands.prototype.queryCommandValue = function (command) {\n        var func;\n        if (this.editor.quirks.isHidden() || this.editor.removed) {\n          return;\n        }\n        command = command.toLowerCase();\n        if (func = this.commands.value[command]) {\n          return func(command);\n        }\n        try {\n          return this.editor.getDoc().queryCommandValue(command);\n        } catch (ex) {\n        }\n      };\n      EditorCommands.prototype.addCommands = function (commandList, type) {\n        if (type === void 0) {\n          type = 'exec';\n        }\n        var self = this;\n        each$4(commandList, function (callback, command) {\n          each$4(command.toLowerCase().split(','), function (command) {\n            self.commands[type][command] = callback;\n          });\n        });\n      };\n      EditorCommands.prototype.addCommand = function (command, callback, scope) {\n        var _this = this;\n        command = command.toLowerCase();\n        this.commands.exec[command] = function (command, ui, value, args) {\n          return callback.call(scope || _this.editor, ui, value, args);\n        };\n      };\n      EditorCommands.prototype.queryCommandSupported = function (command) {\n        command = command.toLowerCase();\n        if (this.commands.exec[command]) {\n          return true;\n        }\n        try {\n          return this.editor.getDoc().queryCommandSupported(command);\n        } catch (ex) {\n        }\n        return false;\n      };\n      EditorCommands.prototype.addQueryStateHandler = function (command, callback, scope) {\n        var _this = this;\n        command = command.toLowerCase();\n        this.commands.state[command] = function () {\n          return callback.call(scope || _this.editor);\n        };\n      };\n      EditorCommands.prototype.addQueryValueHandler = function (command, callback, scope) {\n        var _this = this;\n        command = command.toLowerCase();\n        this.commands.value[command] = function () {\n          return callback.call(scope || _this.editor);\n        };\n      };\n      EditorCommands.prototype.hasCustomCommand = function (command) {\n        command = command.toLowerCase();\n        return !!this.commands.exec[command];\n      };\n      EditorCommands.prototype.execNativeCommand = function (command, ui, value) {\n        if (ui === undefined) {\n          ui = false;\n        }\n        if (value === undefined) {\n          value = null;\n        }\n        return this.editor.getDoc().execCommand(command, ui, value);\n      };\n      EditorCommands.prototype.isFormatMatch = function (name) {\n        return this.editor.formatter.match(name);\n      };\n      EditorCommands.prototype.toggleFormat = function (name, value) {\n        this.editor.formatter.toggle(name, value);\n        this.editor.nodeChanged();\n      };\n      EditorCommands.prototype.storeSelection = function (type) {\n        this.selectionBookmark = this.editor.selection.getBookmark(type);\n      };\n      EditorCommands.prototype.restoreSelection = function () {\n        this.editor.selection.moveToBookmark(this.selectionBookmark);\n      };\n      EditorCommands.prototype.setupCommands = function (editor) {\n        var self = this;\n        this.addCommands({\n          'mceResetDesignMode,mceBeginUndoLevel': noop,\n          'mceEndUndoLevel,mceAddUndoLevel': function () {\n            editor.undoManager.add();\n          },\n          'mceFocus': function (_command, _ui, value) {\n            focus(editor, value);\n          },\n          'Cut,Copy,Paste': function (command) {\n            var doc = editor.getDoc();\n            var failed;\n            try {\n              self.execNativeCommand(command);\n            } catch (ex) {\n              failed = true;\n            }\n            if (command === 'paste' && !doc.queryCommandEnabled(command)) {\n              failed = true;\n            }\n            if (failed || !doc.queryCommandSupported(command)) {\n              var msg = editor.translate('Your browser doesn\\'t support direct access to the clipboard. ' + 'Please use the Ctrl+X/C/V keyboard shortcuts instead.');\n              if (Env.mac) {\n                msg = msg.replace(/Ctrl\\+/g, '\\u2318+');\n              }\n              editor.notificationManager.open({\n                text: msg,\n                type: 'error'\n              });\n            }\n          },\n          'unlink': function () {\n            if (editor.selection.isCollapsed()) {\n              var elm = editor.dom.getParent(editor.selection.getStart(), 'a');\n              if (elm) {\n                editor.dom.remove(elm, true);\n              }\n              return;\n            }\n            editor.formatter.remove('link');\n          },\n          'JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone': function (command) {\n            var align = command.substring(7);\n            if (align === 'full') {\n              align = 'justify';\n            }\n            each$4('left,center,right,justify'.split(','), function (name) {\n              if (align !== name) {\n                editor.formatter.remove('align' + name);\n              }\n            });\n            if (align !== 'none') {\n              self.toggleFormat('align' + align);\n            }\n          },\n          'InsertUnorderedList,InsertOrderedList': function (command) {\n            var listParent;\n            self.execNativeCommand(command);\n            var listElm = editor.dom.getParent(editor.selection.getNode(), 'ol,ul');\n            if (listElm) {\n              listParent = listElm.parentNode;\n              if (/^(H[1-6]|P|ADDRESS|PRE)$/.test(listParent.nodeName)) {\n                self.storeSelection();\n                editor.dom.split(listParent, listElm);\n                self.restoreSelection();\n              }\n            }\n          },\n          'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': function (command) {\n            self.toggleFormat(command);\n          },\n          'ForeColor,HiliteColor': function (command, ui, value) {\n            self.toggleFormat(command, { value: value });\n          },\n          'FontName': function (command, ui, value) {\n            fontNameAction(editor, value);\n          },\n          'FontSize': function (command, ui, value) {\n            fontSizeAction(editor, value);\n          },\n          'LineHeight': function (command, ui, value) {\n            lineHeightAction(editor, value);\n          },\n          'Lang': function (command, ui, lang) {\n            self.toggleFormat(command, {\n              value: lang.code,\n              customValue: lang.customCode\n            });\n          },\n          'RemoveFormat': function (command) {\n            editor.formatter.remove(command);\n          },\n          'mceBlockQuote': function () {\n            self.toggleFormat('blockquote');\n          },\n          'FormatBlock': function (command, ui, value) {\n            return self.toggleFormat(value || 'p');\n          },\n          'mceCleanup': function () {\n            var bookmark = editor.selection.getBookmark();\n            editor.setContent(editor.getContent());\n            editor.selection.moveToBookmark(bookmark);\n          },\n          'mceRemoveNode': function (command, ui, value) {\n            var node = value || editor.selection.getNode();\n            if (node !== editor.getBody()) {\n              self.storeSelection();\n              editor.dom.remove(node, true);\n              self.restoreSelection();\n            }\n          },\n          'mceSelectNodeDepth': function (command, ui, value) {\n            var counter = 0;\n            editor.dom.getParent(editor.selection.getNode(), function (node) {\n              if (node.nodeType === 1 && counter++ === value) {\n                editor.selection.select(node);\n                return false;\n              }\n            }, editor.getBody());\n          },\n          'mceSelectNode': function (command, ui, value) {\n            editor.selection.select(value);\n          },\n          'mceInsertContent': function (command, ui, value) {\n            insertAtCaret(editor, value);\n          },\n          'mceInsertRawHTML': function (command, ui, value) {\n            editor.selection.setContent('tiny_mce_marker');\n            var content = editor.getContent();\n            editor.setContent(content.replace(/tiny_mce_marker/g, function () {\n              return value;\n            }));\n          },\n          'mceInsertNewLine': function (command, ui, value) {\n            insert(editor, value);\n          },\n          'mceToggleFormat': function (command, ui, value) {\n            self.toggleFormat(value);\n          },\n          'mceSetContent': function (command, ui, value) {\n            editor.setContent(value);\n          },\n          'Indent,Outdent': function (command) {\n            handle(editor, command);\n          },\n          'mceRepaint': noop,\n          'InsertHorizontalRule': function () {\n            editor.execCommand('mceInsertContent', false, '<hr />');\n          },\n          'mceToggleVisualAid': function () {\n            editor.hasVisual = !editor.hasVisual;\n            editor.addVisual();\n          },\n          'mceReplaceContent': function (command, ui, value) {\n            editor.execCommand('mceInsertContent', false, value.replace(/\\{\\$selection\\}/g, editor.selection.getContent({ format: 'text' })));\n          },\n          'mceInsertLink': function (command, ui, value) {\n            if (typeof value === 'string') {\n              value = { href: value };\n            }\n            var anchor = editor.dom.getParent(editor.selection.getNode(), 'a');\n            value.href = value.href.replace(/ /g, '%20');\n            if (!anchor || !value.href) {\n              editor.formatter.remove('link');\n            }\n            if (value.href) {\n              editor.formatter.apply('link', value, anchor);\n            }\n          },\n          'selectAll': function () {\n            var editingHost = editor.dom.getParent(editor.selection.getStart(), isContentEditableTrue$4);\n            if (editingHost) {\n              var rng = editor.dom.createRng();\n              rng.selectNodeContents(editingHost);\n              editor.selection.setRng(rng);\n            }\n          },\n          'mceNewDocument': function () {\n            editor.setContent('');\n          },\n          'InsertLineBreak': function (command, ui, value) {\n            insert$1(editor, value);\n            return true;\n          }\n        });\n        var alignStates = function (name) {\n          return function () {\n            var selection = editor.selection;\n            var nodes = selection.isCollapsed() ? [editor.dom.getParent(selection.getNode(), editor.dom.isBlock)] : selection.getSelectedBlocks();\n            var matches = map(nodes, function (node) {\n              return !!editor.formatter.matchNode(node, name);\n            });\n            return inArray(matches, true) !== -1;\n          };\n        };\n        self.addCommands({\n          'JustifyLeft': alignStates('alignleft'),\n          'JustifyCenter': alignStates('aligncenter'),\n          'JustifyRight': alignStates('alignright'),\n          'JustifyFull': alignStates('alignjustify'),\n          'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': function (command) {\n            return self.isFormatMatch(command);\n          },\n          'mceBlockQuote': function () {\n            return self.isFormatMatch('blockquote');\n          },\n          'Outdent': function () {\n            return canOutdent(editor);\n          },\n          'InsertUnorderedList,InsertOrderedList': function (command) {\n            var list = editor.dom.getParent(editor.selection.getNode(), 'ul,ol');\n            return list && (command === 'insertunorderedlist' && list.tagName === 'UL' || command === 'insertorderedlist' && list.tagName === 'OL');\n          }\n        }, 'state');\n        self.addCommands({\n          Undo: function () {\n            editor.undoManager.undo();\n          },\n          Redo: function () {\n            editor.undoManager.redo();\n          }\n        });\n        self.addQueryValueHandler('FontName', function () {\n          return fontNameQuery(editor);\n        }, this);\n        self.addQueryValueHandler('FontSize', function () {\n          return fontSizeQuery(editor);\n        }, this);\n        self.addQueryValueHandler('LineHeight', function () {\n          return lineHeightQuery(editor);\n        }, this);\n      };\n      return EditorCommands;\n    }();\n\n    var internalContentEditableAttr = 'data-mce-contenteditable';\n    var toggleClass = function (elm, cls, state) {\n      if (has(elm, cls) && state === false) {\n        remove$3(elm, cls);\n      } else if (state) {\n        add$1(elm, cls);\n      }\n    };\n    var setEditorCommandState = function (editor, cmd, state) {\n      try {\n        editor.getDoc().execCommand(cmd, false, String(state));\n      } catch (ex) {\n      }\n    };\n    var setContentEditable = function (elm, state) {\n      elm.dom.contentEditable = state ? 'true' : 'false';\n    };\n    var switchOffContentEditableTrue = function (elm) {\n      each$k(descendants(elm, '*[contenteditable=\"true\"]'), function (elm) {\n        set$1(elm, internalContentEditableAttr, 'true');\n        setContentEditable(elm, false);\n      });\n    };\n    var switchOnContentEditableTrue = function (elm) {\n      each$k(descendants(elm, '*[' + internalContentEditableAttr + '=\"true\"]'), function (elm) {\n        remove$6(elm, internalContentEditableAttr);\n        setContentEditable(elm, true);\n      });\n    };\n    var removeFakeSelection = function (editor) {\n      Optional.from(editor.selection.getNode()).each(function (elm) {\n        elm.removeAttribute('data-mce-selected');\n      });\n    };\n    var restoreFakeSelection = function (editor) {\n      editor.selection.setRng(editor.selection.getRng());\n    };\n    var toggleReadOnly = function (editor, state) {\n      var body = SugarElement.fromDom(editor.getBody());\n      toggleClass(body, 'mce-content-readonly', state);\n      if (state) {\n        editor.selection.controlSelection.hideResizeRect();\n        editor._selectionOverrides.hideFakeCaret();\n        removeFakeSelection(editor);\n        editor.readonly = true;\n        setContentEditable(body, false);\n        switchOffContentEditableTrue(body);\n      } else {\n        editor.readonly = false;\n        setContentEditable(body, true);\n        switchOnContentEditableTrue(body);\n        setEditorCommandState(editor, 'StyleWithCSS', false);\n        setEditorCommandState(editor, 'enableInlineTableEditing', false);\n        setEditorCommandState(editor, 'enableObjectResizing', false);\n        if (hasEditorOrUiFocus(editor)) {\n          editor.focus();\n        }\n        restoreFakeSelection(editor);\n        editor.nodeChanged();\n      }\n    };\n    var isReadOnly = function (editor) {\n      return editor.readonly;\n    };\n    var registerFilters = function (editor) {\n      editor.parser.addAttributeFilter('contenteditable', function (nodes) {\n        if (isReadOnly(editor)) {\n          each$k(nodes, function (node) {\n            node.attr(internalContentEditableAttr, node.attr('contenteditable'));\n            node.attr('contenteditable', 'false');\n          });\n        }\n      });\n      editor.serializer.addAttributeFilter(internalContentEditableAttr, function (nodes) {\n        if (isReadOnly(editor)) {\n          each$k(nodes, function (node) {\n            node.attr('contenteditable', node.attr(internalContentEditableAttr));\n          });\n        }\n      });\n      editor.serializer.addTempAttr(internalContentEditableAttr);\n    };\n    var registerReadOnlyContentFilters = function (editor) {\n      if (editor.serializer) {\n        registerFilters(editor);\n      } else {\n        editor.on('PreInit', function () {\n          registerFilters(editor);\n        });\n      }\n    };\n    var isClickEvent = function (e) {\n      return e.type === 'click';\n    };\n    var getAnchorHrefOpt = function (editor, elm) {\n      var isRoot = function (elm) {\n        return eq(elm, SugarElement.fromDom(editor.getBody()));\n      };\n      return closest$2(elm, 'a', isRoot).bind(function (a) {\n        return getOpt(a, 'href');\n      });\n    };\n    var processReadonlyEvents = function (editor, e) {\n      if (isClickEvent(e) && !VK.metaKeyPressed(e)) {\n        var elm = SugarElement.fromDom(e.target);\n        getAnchorHrefOpt(editor, elm).each(function (href) {\n          e.preventDefault();\n          if (/^#/.test(href)) {\n            var targetEl = editor.dom.select(href + ',[name=\"' + removeLeading(href, '#') + '\"]');\n            if (targetEl.length) {\n              editor.selection.scrollIntoView(targetEl[0], true);\n            }\n          } else {\n            window.open(href, '_blank', 'rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes');\n          }\n        });\n      }\n    };\n    var registerReadOnlySelectionBlockers = function (editor) {\n      editor.on('ShowCaret', function (e) {\n        if (isReadOnly(editor)) {\n          e.preventDefault();\n        }\n      });\n      editor.on('ObjectSelected', function (e) {\n        if (isReadOnly(editor)) {\n          e.preventDefault();\n        }\n      });\n    };\n\n    var nativeEvents = Tools.makeMap('focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange ' + 'mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover ' + 'draggesture dragdrop drop drag submit ' + 'compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel', ' ');\n    var EventDispatcher = function () {\n      function EventDispatcher(settings) {\n        this.bindings = {};\n        this.settings = settings || {};\n        this.scope = this.settings.scope || this;\n        this.toggleEvent = this.settings.toggleEvent || never;\n      }\n      EventDispatcher.isNative = function (name) {\n        return !!nativeEvents[name.toLowerCase()];\n      };\n      EventDispatcher.prototype.fire = function (name, args) {\n        var lcName = name.toLowerCase();\n        var event = normalize$3(lcName, args || {}, this.scope);\n        if (this.settings.beforeFire) {\n          this.settings.beforeFire(event);\n        }\n        var handlers = this.bindings[lcName];\n        if (handlers) {\n          for (var i = 0, l = handlers.length; i < l; i++) {\n            var callback = handlers[i];\n            if (callback.removed) {\n              continue;\n            }\n            if (callback.once) {\n              this.off(lcName, callback.func);\n            }\n            if (event.isImmediatePropagationStopped()) {\n              return event;\n            }\n            if (callback.func.call(this.scope, event) === false) {\n              event.preventDefault();\n              return event;\n            }\n          }\n        }\n        return event;\n      };\n      EventDispatcher.prototype.on = function (name, callback, prepend, extra) {\n        if (callback === false) {\n          callback = never;\n        }\n        if (callback) {\n          var wrappedCallback = {\n            func: callback,\n            removed: false\n          };\n          if (extra) {\n            Tools.extend(wrappedCallback, extra);\n          }\n          var names = name.toLowerCase().split(' ');\n          var i = names.length;\n          while (i--) {\n            var currentName = names[i];\n            var handlers = this.bindings[currentName];\n            if (!handlers) {\n              handlers = [];\n              this.toggleEvent(currentName, true);\n            }\n            if (prepend) {\n              handlers = __spreadArray([wrappedCallback], handlers, true);\n            } else {\n              handlers = __spreadArray(__spreadArray([], handlers, true), [wrappedCallback], false);\n            }\n            this.bindings[currentName] = handlers;\n          }\n        }\n        return this;\n      };\n      EventDispatcher.prototype.off = function (name, callback) {\n        var _this = this;\n        if (name) {\n          var names = name.toLowerCase().split(' ');\n          var i = names.length;\n          while (i--) {\n            var currentName = names[i];\n            var handlers = this.bindings[currentName];\n            if (!currentName) {\n              each$j(this.bindings, function (_value, bindingName) {\n                _this.toggleEvent(bindingName, false);\n                delete _this.bindings[bindingName];\n              });\n              return this;\n            }\n            if (handlers) {\n              if (!callback) {\n                handlers.length = 0;\n              } else {\n                var filteredHandlers = partition(handlers, function (handler) {\n                  return handler.func === callback;\n                });\n                handlers = filteredHandlers.fail;\n                this.bindings[currentName] = handlers;\n                each$k(filteredHandlers.pass, function (handler) {\n                  handler.removed = true;\n                });\n              }\n              if (!handlers.length) {\n                this.toggleEvent(name, false);\n                delete this.bindings[currentName];\n              }\n            }\n          }\n        } else {\n          each$j(this.bindings, function (_value, name) {\n            _this.toggleEvent(name, false);\n          });\n          this.bindings = {};\n        }\n        return this;\n      };\n      EventDispatcher.prototype.once = function (name, callback, prepend) {\n        return this.on(name, callback, prepend, { once: true });\n      };\n      EventDispatcher.prototype.has = function (name) {\n        name = name.toLowerCase();\n        return !(!this.bindings[name] || this.bindings[name].length === 0);\n      };\n      return EventDispatcher;\n    }();\n\n    var getEventDispatcher = function (obj) {\n      if (!obj._eventDispatcher) {\n        obj._eventDispatcher = new EventDispatcher({\n          scope: obj,\n          toggleEvent: function (name, state) {\n            if (EventDispatcher.isNative(name) && obj.toggleNativeEvent) {\n              obj.toggleNativeEvent(name, state);\n            }\n          }\n        });\n      }\n      return obj._eventDispatcher;\n    };\n    var Observable = {\n      fire: function (name, args, bubble) {\n        var self = this;\n        if (self.removed && name !== 'remove' && name !== 'detach') {\n          return args;\n        }\n        var dispatcherArgs = getEventDispatcher(self).fire(name, args);\n        if (bubble !== false && self.parent) {\n          var parent_1 = self.parent();\n          while (parent_1 && !dispatcherArgs.isPropagationStopped()) {\n            parent_1.fire(name, dispatcherArgs, false);\n            parent_1 = parent_1.parent();\n          }\n        }\n        return dispatcherArgs;\n      },\n      on: function (name, callback, prepend) {\n        return getEventDispatcher(this).on(name, callback, prepend);\n      },\n      off: function (name, callback) {\n        return getEventDispatcher(this).off(name, callback);\n      },\n      once: function (name, callback) {\n        return getEventDispatcher(this).once(name, callback);\n      },\n      hasEventListeners: function (name) {\n        return getEventDispatcher(this).has(name);\n      }\n    };\n\n    var DOM$2 = DOMUtils.DOM;\n    var customEventRootDelegates;\n    var getEventTarget = function (editor, eventName) {\n      if (eventName === 'selectionchange') {\n        return editor.getDoc();\n      }\n      if (!editor.inline && /^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(eventName)) {\n        return editor.getDoc().documentElement;\n      }\n      var eventRoot = getEventRoot(editor);\n      if (eventRoot) {\n        if (!editor.eventRoot) {\n          editor.eventRoot = DOM$2.select(eventRoot)[0];\n        }\n        return editor.eventRoot;\n      }\n      return editor.getBody();\n    };\n    var isListening = function (editor) {\n      return !editor.hidden && !isReadOnly(editor);\n    };\n    var fireEvent = function (editor, eventName, e) {\n      if (isListening(editor)) {\n        editor.fire(eventName, e);\n      } else if (isReadOnly(editor)) {\n        processReadonlyEvents(editor, e);\n      }\n    };\n    var bindEventDelegate = function (editor, eventName) {\n      var delegate;\n      if (!editor.delegates) {\n        editor.delegates = {};\n      }\n      if (editor.delegates[eventName] || editor.removed) {\n        return;\n      }\n      var eventRootElm = getEventTarget(editor, eventName);\n      if (getEventRoot(editor)) {\n        if (!customEventRootDelegates) {\n          customEventRootDelegates = {};\n          editor.editorManager.on('removeEditor', function () {\n            if (!editor.editorManager.activeEditor) {\n              if (customEventRootDelegates) {\n                each$j(customEventRootDelegates, function (_value, name) {\n                  editor.dom.unbind(getEventTarget(editor, name));\n                });\n                customEventRootDelegates = null;\n              }\n            }\n          });\n        }\n        if (customEventRootDelegates[eventName]) {\n          return;\n        }\n        delegate = function (e) {\n          var target = e.target;\n          var editors = editor.editorManager.get();\n          var i = editors.length;\n          while (i--) {\n            var body = editors[i].getBody();\n            if (body === target || DOM$2.isChildOf(target, body)) {\n              fireEvent(editors[i], eventName, e);\n            }\n          }\n        };\n        customEventRootDelegates[eventName] = delegate;\n        DOM$2.bind(eventRootElm, eventName, delegate);\n      } else {\n        delegate = function (e) {\n          fireEvent(editor, eventName, e);\n        };\n        DOM$2.bind(eventRootElm, eventName, delegate);\n        editor.delegates[eventName] = delegate;\n      }\n    };\n    var EditorObservable = __assign(__assign({}, Observable), {\n      bindPendingEventDelegates: function () {\n        var self = this;\n        Tools.each(self._pendingNativeEvents, function (name) {\n          bindEventDelegate(self, name);\n        });\n      },\n      toggleNativeEvent: function (name, state) {\n        var self = this;\n        if (name === 'focus' || name === 'blur') {\n          return;\n        }\n        if (self.removed) {\n          return;\n        }\n        if (state) {\n          if (self.initialized) {\n            bindEventDelegate(self, name);\n          } else {\n            if (!self._pendingNativeEvents) {\n              self._pendingNativeEvents = [name];\n            } else {\n              self._pendingNativeEvents.push(name);\n            }\n          }\n        } else if (self.initialized) {\n          self.dom.unbind(getEventTarget(self, name), name, self.delegates[name]);\n          delete self.delegates[name];\n        }\n      },\n      unbindAllNativeEvents: function () {\n        var self = this;\n        var body = self.getBody();\n        var dom = self.dom;\n        if (self.delegates) {\n          each$j(self.delegates, function (value, name) {\n            self.dom.unbind(getEventTarget(self, name), name, value);\n          });\n          delete self.delegates;\n        }\n        if (!self.inline && body && dom) {\n          body.onload = null;\n          dom.unbind(self.getWin());\n          dom.unbind(self.getDoc());\n        }\n        if (dom) {\n          dom.unbind(body);\n          dom.unbind(self.getContainer());\n        }\n      }\n    });\n\n    var defaultModes = [\n      'design',\n      'readonly'\n    ];\n    var switchToMode = function (editor, activeMode, availableModes, mode) {\n      var oldMode = availableModes[activeMode.get()];\n      var newMode = availableModes[mode];\n      try {\n        newMode.activate();\n      } catch (e) {\n        console.error('problem while activating editor mode ' + mode + ':', e);\n        return;\n      }\n      oldMode.deactivate();\n      if (oldMode.editorReadOnly !== newMode.editorReadOnly) {\n        toggleReadOnly(editor, newMode.editorReadOnly);\n      }\n      activeMode.set(mode);\n      fireSwitchMode(editor, mode);\n    };\n    var setMode = function (editor, availableModes, activeMode, mode) {\n      if (mode === activeMode.get()) {\n        return;\n      } else if (!has$2(availableModes, mode)) {\n        throw new Error('Editor mode \\'' + mode + '\\' is invalid');\n      }\n      if (editor.initialized) {\n        switchToMode(editor, activeMode, availableModes, mode);\n      } else {\n        editor.on('init', function () {\n          return switchToMode(editor, activeMode, availableModes, mode);\n        });\n      }\n    };\n    var registerMode = function (availableModes, mode, api) {\n      var _a;\n      if (contains$3(defaultModes, mode)) {\n        throw new Error('Cannot override default mode ' + mode);\n      }\n      return __assign(__assign({}, availableModes), (_a = {}, _a[mode] = __assign(__assign({}, api), {\n        deactivate: function () {\n          try {\n            api.deactivate();\n          } catch (e) {\n            console.error('problem while deactivating editor mode ' + mode + ':', e);\n          }\n        }\n      }), _a));\n    };\n\n    var create$4 = function (editor) {\n      var activeMode = Cell('design');\n      var availableModes = Cell({\n        design: {\n          activate: noop,\n          deactivate: noop,\n          editorReadOnly: false\n        },\n        readonly: {\n          activate: noop,\n          deactivate: noop,\n          editorReadOnly: true\n        }\n      });\n      registerReadOnlyContentFilters(editor);\n      registerReadOnlySelectionBlockers(editor);\n      return {\n        isReadOnly: function () {\n          return isReadOnly(editor);\n        },\n        set: function (mode) {\n          return setMode(editor, availableModes.get(), activeMode, mode);\n        },\n        get: function () {\n          return activeMode.get();\n        },\n        register: function (mode, api) {\n          availableModes.set(registerMode(availableModes.get(), mode, api));\n        }\n      };\n    };\n\n    var each$3 = Tools.each, explode$1 = Tools.explode;\n    var keyCodeLookup = {\n      f1: 112,\n      f2: 113,\n      f3: 114,\n      f4: 115,\n      f5: 116,\n      f6: 117,\n      f7: 118,\n      f8: 119,\n      f9: 120,\n      f10: 121,\n      f11: 122,\n      f12: 123\n    };\n    var modifierNames = Tools.makeMap('alt,ctrl,shift,meta,access');\n    var parseShortcut = function (pattern) {\n      var key;\n      var shortcut = {};\n      each$3(explode$1(pattern.toLowerCase(), '+'), function (value) {\n        if (value in modifierNames) {\n          shortcut[value] = true;\n        } else {\n          if (/^[0-9]{2,}$/.test(value)) {\n            shortcut.keyCode = parseInt(value, 10);\n          } else {\n            shortcut.charCode = value.charCodeAt(0);\n            shortcut.keyCode = keyCodeLookup[value] || value.toUpperCase().charCodeAt(0);\n          }\n        }\n      });\n      var id = [shortcut.keyCode];\n      for (key in modifierNames) {\n        if (shortcut[key]) {\n          id.push(key);\n        } else {\n          shortcut[key] = false;\n        }\n      }\n      shortcut.id = id.join(',');\n      if (shortcut.access) {\n        shortcut.alt = true;\n        if (Env.mac) {\n          shortcut.ctrl = true;\n        } else {\n          shortcut.shift = true;\n        }\n      }\n      if (shortcut.meta) {\n        if (Env.mac) {\n          shortcut.meta = true;\n        } else {\n          shortcut.ctrl = true;\n          shortcut.meta = false;\n        }\n      }\n      return shortcut;\n    };\n    var Shortcuts = function () {\n      function Shortcuts(editor) {\n        this.shortcuts = {};\n        this.pendingPatterns = [];\n        this.editor = editor;\n        var self = this;\n        editor.on('keyup keypress keydown', function (e) {\n          if ((self.hasModifier(e) || self.isFunctionKey(e)) && !e.isDefaultPrevented()) {\n            each$3(self.shortcuts, function (shortcut) {\n              if (self.matchShortcut(e, shortcut)) {\n                self.pendingPatterns = shortcut.subpatterns.slice(0);\n                if (e.type === 'keydown') {\n                  self.executeShortcutAction(shortcut);\n                }\n                return true;\n              }\n            });\n            if (self.matchShortcut(e, self.pendingPatterns[0])) {\n              if (self.pendingPatterns.length === 1) {\n                if (e.type === 'keydown') {\n                  self.executeShortcutAction(self.pendingPatterns[0]);\n                }\n              }\n              self.pendingPatterns.shift();\n            }\n          }\n        });\n      }\n      Shortcuts.prototype.add = function (pattern, desc, cmdFunc, scope) {\n        var self = this;\n        var func = self.normalizeCommandFunc(cmdFunc);\n        each$3(explode$1(Tools.trim(pattern)), function (pattern) {\n          var shortcut = self.createShortcut(pattern, desc, func, scope);\n          self.shortcuts[shortcut.id] = shortcut;\n        });\n        return true;\n      };\n      Shortcuts.prototype.remove = function (pattern) {\n        var shortcut = this.createShortcut(pattern);\n        if (this.shortcuts[shortcut.id]) {\n          delete this.shortcuts[shortcut.id];\n          return true;\n        }\n        return false;\n      };\n      Shortcuts.prototype.normalizeCommandFunc = function (cmdFunc) {\n        var self = this;\n        var cmd = cmdFunc;\n        if (typeof cmd === 'string') {\n          return function () {\n            self.editor.execCommand(cmd, false, null);\n          };\n        } else if (Tools.isArray(cmd)) {\n          return function () {\n            self.editor.execCommand(cmd[0], cmd[1], cmd[2]);\n          };\n        } else {\n          return cmd;\n        }\n      };\n      Shortcuts.prototype.createShortcut = function (pattern, desc, cmdFunc, scope) {\n        var shortcuts = Tools.map(explode$1(pattern, '>'), parseShortcut);\n        shortcuts[shortcuts.length - 1] = Tools.extend(shortcuts[shortcuts.length - 1], {\n          func: cmdFunc,\n          scope: scope || this.editor\n        });\n        return Tools.extend(shortcuts[0], {\n          desc: this.editor.translate(desc),\n          subpatterns: shortcuts.slice(1)\n        });\n      };\n      Shortcuts.prototype.hasModifier = function (e) {\n        return e.altKey || e.ctrlKey || e.metaKey;\n      };\n      Shortcuts.prototype.isFunctionKey = function (e) {\n        return e.type === 'keydown' && e.keyCode >= 112 && e.keyCode <= 123;\n      };\n      Shortcuts.prototype.matchShortcut = function (e, shortcut) {\n        if (!shortcut) {\n          return false;\n        }\n        if (shortcut.ctrl !== e.ctrlKey || shortcut.meta !== e.metaKey) {\n          return false;\n        }\n        if (shortcut.alt !== e.altKey || shortcut.shift !== e.shiftKey) {\n          return false;\n        }\n        if (e.keyCode === shortcut.keyCode || e.charCode && e.charCode === shortcut.charCode) {\n          e.preventDefault();\n          return true;\n        }\n        return false;\n      };\n      Shortcuts.prototype.executeShortcutAction = function (shortcut) {\n        return shortcut.func ? shortcut.func.call(shortcut.scope) : null;\n      };\n      return Shortcuts;\n    }();\n\n    var create$3 = function () {\n      var buttons = {};\n      var menuItems = {};\n      var popups = {};\n      var icons = {};\n      var contextMenus = {};\n      var contextToolbars = {};\n      var sidebars = {};\n      var add = function (collection, type) {\n        return function (name, spec) {\n          return collection[name.toLowerCase()] = __assign(__assign({}, spec), { type: type });\n        };\n      };\n      var addIcon = function (name, svgData) {\n        return icons[name.toLowerCase()] = svgData;\n      };\n      return {\n        addButton: add(buttons, 'button'),\n        addGroupToolbarButton: add(buttons, 'grouptoolbarbutton'),\n        addToggleButton: add(buttons, 'togglebutton'),\n        addMenuButton: add(buttons, 'menubutton'),\n        addSplitButton: add(buttons, 'splitbutton'),\n        addMenuItem: add(menuItems, 'menuitem'),\n        addNestedMenuItem: add(menuItems, 'nestedmenuitem'),\n        addToggleMenuItem: add(menuItems, 'togglemenuitem'),\n        addAutocompleter: add(popups, 'autocompleter'),\n        addContextMenu: add(contextMenus, 'contextmenu'),\n        addContextToolbar: add(contextToolbars, 'contexttoolbar'),\n        addContextForm: add(contextToolbars, 'contextform'),\n        addSidebar: add(sidebars, 'sidebar'),\n        addIcon: addIcon,\n        getAll: function () {\n          return {\n            buttons: buttons,\n            menuItems: menuItems,\n            icons: icons,\n            popups: popups,\n            contextMenus: contextMenus,\n            contextToolbars: contextToolbars,\n            sidebars: sidebars\n          };\n        }\n      };\n    };\n\n    var registry = function () {\n      var bridge = create$3();\n      return {\n        addAutocompleter: bridge.addAutocompleter,\n        addButton: bridge.addButton,\n        addContextForm: bridge.addContextForm,\n        addContextMenu: bridge.addContextMenu,\n        addContextToolbar: bridge.addContextToolbar,\n        addIcon: bridge.addIcon,\n        addMenuButton: bridge.addMenuButton,\n        addMenuItem: bridge.addMenuItem,\n        addNestedMenuItem: bridge.addNestedMenuItem,\n        addSidebar: bridge.addSidebar,\n        addSplitButton: bridge.addSplitButton,\n        addToggleButton: bridge.addToggleButton,\n        addGroupToolbarButton: bridge.addGroupToolbarButton,\n        addToggleMenuItem: bridge.addToggleMenuItem,\n        getAll: bridge.getAll\n      };\n    };\n\n    var DOM$1 = DOMUtils.DOM;\n    var extend$3 = Tools.extend, each$2 = Tools.each;\n    var resolve = Tools.resolve;\n    var ie = Env.ie;\n    var Editor = function () {\n      function Editor(id, settings, editorManager) {\n        var _this = this;\n        this.plugins = {};\n        this.contentCSS = [];\n        this.contentStyles = [];\n        this.loadedCSS = {};\n        this.isNotDirty = false;\n        this.editorManager = editorManager;\n        this.documentBaseUrl = editorManager.documentBaseURL;\n        extend$3(this, EditorObservable);\n        this.settings = getEditorSettings(this, id, this.documentBaseUrl, editorManager.defaultSettings, settings);\n        if (this.settings.suffix) {\n          editorManager.suffix = this.settings.suffix;\n        }\n        this.suffix = editorManager.suffix;\n        if (this.settings.base_url) {\n          editorManager._setBaseUrl(this.settings.base_url);\n        }\n        this.baseUri = editorManager.baseURI;\n        if (this.settings.referrer_policy) {\n          ScriptLoader.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy);\n          DOMUtils.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy);\n        }\n        AddOnManager.languageLoad = this.settings.language_load;\n        AddOnManager.baseURL = editorManager.baseURL;\n        this.id = id;\n        this.setDirty(false);\n        this.documentBaseURI = new URI(this.settings.document_base_url, { base_uri: this.baseUri });\n        this.baseURI = this.baseUri;\n        this.inline = !!this.settings.inline;\n        this.shortcuts = new Shortcuts(this);\n        this.editorCommands = new EditorCommands(this);\n        if (this.settings.cache_suffix) {\n          Env.cacheSuffix = this.settings.cache_suffix.replace(/^[\\?\\&]+/, '');\n        }\n        this.ui = {\n          registry: registry(),\n          styleSheetLoader: undefined,\n          show: noop,\n          hide: noop,\n          enable: noop,\n          disable: noop,\n          isDisabled: never\n        };\n        var self = this;\n        var modeInstance = create$4(self);\n        this.mode = modeInstance;\n        this.setMode = modeInstance.set;\n        editorManager.fire('SetupEditor', { editor: this });\n        this.execCallback('setup', this);\n        this.$ = DomQuery.overrideDefaults(function () {\n          return {\n            context: _this.inline ? _this.getBody() : _this.getDoc(),\n            element: _this.getBody()\n          };\n        });\n      }\n      Editor.prototype.render = function () {\n        render(this);\n      };\n      Editor.prototype.focus = function (skipFocus) {\n        this.execCommand('mceFocus', false, skipFocus);\n      };\n      Editor.prototype.hasFocus = function () {\n        return hasFocus(this);\n      };\n      Editor.prototype.execCallback = function (name) {\n        var x = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n          x[_i - 1] = arguments[_i];\n        }\n        var self = this;\n        var callback = self.settings[name], scope;\n        if (!callback) {\n          return;\n        }\n        if (self.callbackLookup && (scope = self.callbackLookup[name])) {\n          callback = scope.func;\n          scope = scope.scope;\n        }\n        if (typeof callback === 'string') {\n          scope = callback.replace(/\\.\\w+$/, '');\n          scope = scope ? resolve(scope) : 0;\n          callback = resolve(callback);\n          self.callbackLookup = self.callbackLookup || {};\n          self.callbackLookup[name] = {\n            func: callback,\n            scope: scope\n          };\n        }\n        return callback.apply(scope || self, x);\n      };\n      Editor.prototype.translate = function (text) {\n        return I18n.translate(text);\n      };\n      Editor.prototype.getParam = function (name, defaultVal, type) {\n        return getParam(this, name, defaultVal, type);\n      };\n      Editor.prototype.hasPlugin = function (name, loaded) {\n        var hasPlugin = contains$3(getPlugins(this).split(/[ ,]/), name);\n        if (hasPlugin) {\n          return loaded ? PluginManager.get(name) !== undefined : true;\n        } else {\n          return false;\n        }\n      };\n      Editor.prototype.nodeChanged = function (args) {\n        this._nodeChangeDispatcher.nodeChanged(args);\n      };\n      Editor.prototype.addCommand = function (name, callback, scope) {\n        this.editorCommands.addCommand(name, callback, scope);\n      };\n      Editor.prototype.addQueryStateHandler = function (name, callback, scope) {\n        this.editorCommands.addQueryStateHandler(name, callback, scope);\n      };\n      Editor.prototype.addQueryValueHandler = function (name, callback, scope) {\n        this.editorCommands.addQueryValueHandler(name, callback, scope);\n      };\n      Editor.prototype.addShortcut = function (pattern, desc, cmdFunc, scope) {\n        this.shortcuts.add(pattern, desc, cmdFunc, scope);\n      };\n      Editor.prototype.execCommand = function (cmd, ui, value, args) {\n        return this.editorCommands.execCommand(cmd, ui, value, args);\n      };\n      Editor.prototype.queryCommandState = function (cmd) {\n        return this.editorCommands.queryCommandState(cmd);\n      };\n      Editor.prototype.queryCommandValue = function (cmd) {\n        return this.editorCommands.queryCommandValue(cmd);\n      };\n      Editor.prototype.queryCommandSupported = function (cmd) {\n        return this.editorCommands.queryCommandSupported(cmd);\n      };\n      Editor.prototype.show = function () {\n        var self = this;\n        if (self.hidden) {\n          self.hidden = false;\n          if (self.inline) {\n            self.getBody().contentEditable = 'true';\n          } else {\n            DOM$1.show(self.getContainer());\n            DOM$1.hide(self.id);\n          }\n          self.load();\n          self.fire('show');\n        }\n      };\n      Editor.prototype.hide = function () {\n        var self = this, doc = self.getDoc();\n        if (!self.hidden) {\n          if (ie && doc && !self.inline) {\n            doc.execCommand('SelectAll');\n          }\n          self.save();\n          if (self.inline) {\n            self.getBody().contentEditable = 'false';\n            if (self === self.editorManager.focusedEditor) {\n              self.editorManager.focusedEditor = null;\n            }\n          } else {\n            DOM$1.hide(self.getContainer());\n            DOM$1.setStyle(self.id, 'display', self.orgDisplay);\n          }\n          self.hidden = true;\n          self.fire('hide');\n        }\n      };\n      Editor.prototype.isHidden = function () {\n        return !!this.hidden;\n      };\n      Editor.prototype.setProgressState = function (state, time) {\n        this.fire('ProgressState', {\n          state: state,\n          time: time\n        });\n      };\n      Editor.prototype.load = function (args) {\n        var self = this;\n        var elm = self.getElement(), html;\n        if (self.removed) {\n          return '';\n        }\n        if (elm) {\n          args = args || {};\n          args.load = true;\n          var value = isTextareaOrInput(elm) ? elm.value : elm.innerHTML;\n          html = self.setContent(value, args);\n          args.element = elm;\n          if (!args.no_events) {\n            self.fire('LoadContent', args);\n          }\n          args.element = elm = null;\n          return html;\n        }\n      };\n      Editor.prototype.save = function (args) {\n        var self = this;\n        var elm = self.getElement(), html, form;\n        if (!elm || !self.initialized || self.removed) {\n          return;\n        }\n        args = args || {};\n        args.save = true;\n        args.element = elm;\n        html = args.content = self.getContent(args);\n        if (!args.no_events) {\n          self.fire('SaveContent', args);\n        }\n        if (args.format === 'raw') {\n          self.fire('RawSaveContent', args);\n        }\n        html = args.content;\n        if (!isTextareaOrInput(elm)) {\n          if (args.is_removing || !self.inline) {\n            elm.innerHTML = html;\n          }\n          if (form = DOM$1.getParent(self.id, 'form')) {\n            each$2(form.elements, function (elm) {\n              if (elm.name === self.id) {\n                elm.value = html;\n                return false;\n              }\n            });\n          }\n        } else {\n          elm.value = html;\n        }\n        args.element = elm = null;\n        if (args.set_dirty !== false) {\n          self.setDirty(false);\n        }\n        return html;\n      };\n      Editor.prototype.setContent = function (content, args) {\n        return setContent(this, content, args);\n      };\n      Editor.prototype.getContent = function (args) {\n        return getContent(this, args);\n      };\n      Editor.prototype.insertContent = function (content, args) {\n        if (args) {\n          content = extend$3({ content: content }, args);\n        }\n        this.execCommand('mceInsertContent', false, content);\n      };\n      Editor.prototype.resetContent = function (initialContent) {\n        if (initialContent === undefined) {\n          setContent(this, this.startContent, { format: 'raw' });\n        } else {\n          setContent(this, initialContent);\n        }\n        this.undoManager.reset();\n        this.setDirty(false);\n        this.nodeChanged();\n      };\n      Editor.prototype.isDirty = function () {\n        return !this.isNotDirty;\n      };\n      Editor.prototype.setDirty = function (state) {\n        var oldState = !this.isNotDirty;\n        this.isNotDirty = !state;\n        if (state && state !== oldState) {\n          this.fire('dirty');\n        }\n      };\n      Editor.prototype.getContainer = function () {\n        var self = this;\n        if (!self.container) {\n          self.container = DOM$1.get(self.editorContainer || self.id + '_parent');\n        }\n        return self.container;\n      };\n      Editor.prototype.getContentAreaContainer = function () {\n        return this.contentAreaContainer;\n      };\n      Editor.prototype.getElement = function () {\n        if (!this.targetElm) {\n          this.targetElm = DOM$1.get(this.id);\n        }\n        return this.targetElm;\n      };\n      Editor.prototype.getWin = function () {\n        var self = this;\n        var elm;\n        if (!self.contentWindow) {\n          elm = self.iframeElement;\n          if (elm) {\n            self.contentWindow = elm.contentWindow;\n          }\n        }\n        return self.contentWindow;\n      };\n      Editor.prototype.getDoc = function () {\n        var self = this;\n        var win;\n        if (!self.contentDocument) {\n          win = self.getWin();\n          if (win) {\n            self.contentDocument = win.document;\n          }\n        }\n        return self.contentDocument;\n      };\n      Editor.prototype.getBody = function () {\n        var doc = this.getDoc();\n        return this.bodyElement || (doc ? doc.body : null);\n      };\n      Editor.prototype.convertURL = function (url, name, elm) {\n        var self = this, settings = self.settings;\n        if (settings.urlconverter_callback) {\n          return self.execCallback('urlconverter_callback', url, elm, true, name);\n        }\n        if (!settings.convert_urls || elm && elm.nodeName === 'LINK' || url.indexOf('file:') === 0 || url.length === 0) {\n          return url;\n        }\n        if (settings.relative_urls) {\n          return self.documentBaseURI.toRelative(url);\n        }\n        url = self.documentBaseURI.toAbsolute(url, settings.remove_script_host);\n        return url;\n      };\n      Editor.prototype.addVisual = function (elm) {\n        addVisual(this, elm);\n      };\n      Editor.prototype.remove = function () {\n        remove(this);\n      };\n      Editor.prototype.destroy = function (automatic) {\n        destroy(this, automatic);\n      };\n      Editor.prototype.uploadImages = function (callback) {\n        return this.editorUpload.uploadImages(callback);\n      };\n      Editor.prototype._scanForImages = function () {\n        return this.editorUpload.scanForImages();\n      };\n      Editor.prototype.addButton = function () {\n        throw new Error('editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead');\n      };\n      Editor.prototype.addSidebar = function () {\n        throw new Error('editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead');\n      };\n      Editor.prototype.addMenuItem = function () {\n        throw new Error('editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead');\n      };\n      Editor.prototype.addContextToolbar = function () {\n        throw new Error('editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead');\n      };\n      return Editor;\n    }();\n\n    var DOM = DOMUtils.DOM;\n    var explode = Tools.explode, each$1 = Tools.each, extend$2 = Tools.extend;\n    var instanceCounter = 0, boundGlobalEvents = false;\n    var beforeUnloadDelegate;\n    var legacyEditors = [];\n    var editors = [];\n    var isValidLegacyKey = function (id) {\n      return id !== 'length';\n    };\n    var globalEventDelegate = function (e) {\n      var type = e.type;\n      each$1(EditorManager.get(), function (editor) {\n        switch (type) {\n        case 'scroll':\n          editor.fire('ScrollWindow', e);\n          break;\n        case 'resize':\n          editor.fire('ResizeWindow', e);\n          break;\n        }\n      });\n    };\n    var toggleGlobalEvents = function (state) {\n      if (state !== boundGlobalEvents) {\n        if (state) {\n          DomQuery(window).on('resize scroll', globalEventDelegate);\n        } else {\n          DomQuery(window).off('resize scroll', globalEventDelegate);\n        }\n        boundGlobalEvents = state;\n      }\n    };\n    var removeEditorFromList = function (targetEditor) {\n      var oldEditors = editors;\n      delete legacyEditors[targetEditor.id];\n      for (var i = 0; i < legacyEditors.length; i++) {\n        if (legacyEditors[i] === targetEditor) {\n          legacyEditors.splice(i, 1);\n          break;\n        }\n      }\n      editors = filter$4(editors, function (editor) {\n        return targetEditor !== editor;\n      });\n      if (EditorManager.activeEditor === targetEditor) {\n        EditorManager.activeEditor = editors.length > 0 ? editors[0] : null;\n      }\n      if (EditorManager.focusedEditor === targetEditor) {\n        EditorManager.focusedEditor = null;\n      }\n      return oldEditors.length !== editors.length;\n    };\n    var purgeDestroyedEditor = function (editor) {\n      if (editor && editor.initialized && !(editor.getContainer() || editor.getBody()).parentNode) {\n        removeEditorFromList(editor);\n        editor.unbindAllNativeEvents();\n        editor.destroy(true);\n        editor.removed = true;\n        editor = null;\n      }\n      return editor;\n    };\n    var isQuirksMode = document.compatMode !== 'CSS1Compat';\n    var EditorManager = __assign(__assign({}, Observable), {\n      baseURI: null,\n      baseURL: null,\n      defaultSettings: {},\n      documentBaseURL: null,\n      suffix: null,\n      $: DomQuery,\n      majorVersion: '5',\n      minorVersion: '10.4',\n      releaseDate: '2022-04-27',\n      editors: legacyEditors,\n      i18n: I18n,\n      activeEditor: null,\n      focusedEditor: null,\n      settings: {},\n      setup: function () {\n        var self = this;\n        var baseURL, documentBaseURL, suffix = '';\n        documentBaseURL = URI.getDocumentBaseUrl(document.location);\n        if (/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(documentBaseURL)) {\n          documentBaseURL = documentBaseURL.replace(/[\\?#].*$/, '').replace(/[\\/\\\\][^\\/]+$/, '');\n          if (!/[\\/\\\\]$/.test(documentBaseURL)) {\n            documentBaseURL += '/';\n          }\n        }\n        var preInit = window.tinymce || window.tinyMCEPreInit;\n        if (preInit) {\n          baseURL = preInit.base || preInit.baseURL;\n          suffix = preInit.suffix;\n        } else {\n          var scripts = document.getElementsByTagName('script');\n          for (var i = 0; i < scripts.length; i++) {\n            var src = scripts[i].src || '';\n            if (src === '') {\n              continue;\n            }\n            var srcScript = src.substring(src.lastIndexOf('/'));\n            if (/tinymce(\\.full|\\.jquery|)(\\.min|\\.dev|)\\.js/.test(src)) {\n              if (srcScript.indexOf('.min') !== -1) {\n                suffix = '.min';\n              }\n              baseURL = src.substring(0, src.lastIndexOf('/'));\n              break;\n            }\n          }\n          if (!baseURL && document.currentScript) {\n            var src = document.currentScript.src;\n            if (src.indexOf('.min') !== -1) {\n              suffix = '.min';\n            }\n            baseURL = src.substring(0, src.lastIndexOf('/'));\n          }\n        }\n        self.baseURL = new URI(documentBaseURL).toAbsolute(baseURL);\n        self.documentBaseURL = documentBaseURL;\n        self.baseURI = new URI(self.baseURL);\n        self.suffix = suffix;\n        setup$l(self);\n      },\n      overrideDefaults: function (defaultSettings) {\n        var baseUrl = defaultSettings.base_url;\n        if (baseUrl) {\n          this._setBaseUrl(baseUrl);\n        }\n        var suffix = defaultSettings.suffix;\n        if (defaultSettings.suffix) {\n          this.suffix = suffix;\n        }\n        this.defaultSettings = defaultSettings;\n        var pluginBaseUrls = defaultSettings.plugin_base_urls;\n        if (pluginBaseUrls !== undefined) {\n          each$j(pluginBaseUrls, function (pluginBaseUrl, pluginName) {\n            AddOnManager.PluginManager.urls[pluginName] = pluginBaseUrl;\n          });\n        }\n      },\n      init: function (settings) {\n        var self = this;\n        var result;\n        var invalidInlineTargets = Tools.makeMap('area base basefont br col frame hr img input isindex link meta param embed source wbr track ' + 'colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu', ' ');\n        var isInvalidInlineTarget = function (settings, elm) {\n          return settings.inline && elm.tagName.toLowerCase() in invalidInlineTargets;\n        };\n        var createId = function (elm) {\n          var id = elm.id;\n          if (!id) {\n            id = get$9(elm, 'name').filter(function (name) {\n              return !DOM.get(name);\n            }).getOrThunk(DOM.uniqueId);\n            elm.setAttribute('id', id);\n          }\n          return id;\n        };\n        var execCallback = function (name) {\n          var callback = settings[name];\n          if (!callback) {\n            return;\n          }\n          return callback.apply(self, []);\n        };\n        var hasClass = function (elm, className) {\n          return className.constructor === RegExp ? className.test(elm.className) : DOM.hasClass(elm, className);\n        };\n        var findTargets = function (settings) {\n          var targets = [];\n          if (Env.browser.isIE() && Env.browser.version.major < 11) {\n            initError('TinyMCE does not support the browser you are using. For a list of supported' + ' browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/');\n            return [];\n          } else if (isQuirksMode) {\n            initError('Failed to initialize the editor as the document is not in standards mode. ' + 'TinyMCE requires standards mode.');\n            return [];\n          }\n          if (settings.types) {\n            each$1(settings.types, function (type) {\n              targets = targets.concat(DOM.select(type.selector));\n            });\n            return targets;\n          } else if (settings.selector) {\n            return DOM.select(settings.selector);\n          } else if (settings.target) {\n            return [settings.target];\n          }\n          switch (settings.mode) {\n          case 'exact':\n            var l = settings.elements || '';\n            if (l.length > 0) {\n              each$1(explode(l), function (id) {\n                var elm = DOM.get(id);\n                if (elm) {\n                  targets.push(elm);\n                } else {\n                  each$1(document.forms, function (f) {\n                    each$1(f.elements, function (e) {\n                      if (e.name === id) {\n                        id = 'mce_editor_' + instanceCounter++;\n                        DOM.setAttrib(e, 'id', id);\n                        targets.push(e);\n                      }\n                    });\n                  });\n                }\n              });\n            }\n            break;\n          case 'textareas':\n          case 'specific_textareas':\n            each$1(DOM.select('textarea'), function (elm) {\n              if (settings.editor_deselector && hasClass(elm, settings.editor_deselector)) {\n                return;\n              }\n              if (!settings.editor_selector || hasClass(elm, settings.editor_selector)) {\n                targets.push(elm);\n              }\n            });\n            break;\n          }\n          return targets;\n        };\n        var provideResults = function (editors) {\n          result = editors;\n        };\n        var initEditors = function () {\n          var initCount = 0;\n          var editors = [];\n          var targets;\n          var createEditor = function (id, settings, targetElm) {\n            var editor = new Editor(id, settings, self);\n            editors.push(editor);\n            editor.on('init', function () {\n              if (++initCount === targets.length) {\n                provideResults(editors);\n              }\n            });\n            editor.targetElm = editor.targetElm || targetElm;\n            editor.render();\n          };\n          DOM.unbind(window, 'ready', initEditors);\n          execCallback('onpageload');\n          targets = DomQuery.unique(findTargets(settings));\n          if (settings.types) {\n            each$1(settings.types, function (type) {\n              Tools.each(targets, function (elm) {\n                if (DOM.is(elm, type.selector)) {\n                  createEditor(createId(elm), extend$2({}, settings, type), elm);\n                  return false;\n                }\n                return true;\n              });\n            });\n            return;\n          }\n          Tools.each(targets, function (elm) {\n            purgeDestroyedEditor(self.get(elm.id));\n          });\n          targets = Tools.grep(targets, function (elm) {\n            return !self.get(elm.id);\n          });\n          if (targets.length === 0) {\n            provideResults([]);\n          } else {\n            each$1(targets, function (elm) {\n              if (isInvalidInlineTarget(settings, elm)) {\n                initError('Could not initialize inline editor on invalid inline target element', elm);\n              } else {\n                createEditor(createId(elm), settings, elm);\n              }\n            });\n          }\n        };\n        self.settings = settings;\n        DOM.bind(window, 'ready', initEditors);\n        return new promiseObj(function (resolve) {\n          if (result) {\n            resolve(result);\n          } else {\n            provideResults = function (editors) {\n              resolve(editors);\n            };\n          }\n        });\n      },\n      get: function (id) {\n        if (arguments.length === 0) {\n          return editors.slice(0);\n        } else if (isString$1(id)) {\n          return find$3(editors, function (editor) {\n            return editor.id === id;\n          }).getOr(null);\n        } else if (isNumber(id)) {\n          return editors[id] ? editors[id] : null;\n        } else {\n          return null;\n        }\n      },\n      add: function (editor) {\n        var self = this;\n        var existingEditor = legacyEditors[editor.id];\n        if (existingEditor === editor) {\n          return editor;\n        }\n        if (self.get(editor.id) === null) {\n          if (isValidLegacyKey(editor.id)) {\n            legacyEditors[editor.id] = editor;\n          }\n          legacyEditors.push(editor);\n          editors.push(editor);\n        }\n        toggleGlobalEvents(true);\n        self.activeEditor = editor;\n        self.fire('AddEditor', { editor: editor });\n        if (!beforeUnloadDelegate) {\n          beforeUnloadDelegate = function (e) {\n            var event = self.fire('BeforeUnload');\n            if (event.returnValue) {\n              e.preventDefault();\n              e.returnValue = event.returnValue;\n              return event.returnValue;\n            }\n          };\n          window.addEventListener('beforeunload', beforeUnloadDelegate);\n        }\n        return editor;\n      },\n      createEditor: function (id, settings) {\n        return this.add(new Editor(id, settings, this));\n      },\n      remove: function (selector) {\n        var self = this;\n        var i, editor;\n        if (!selector) {\n          for (i = editors.length - 1; i >= 0; i--) {\n            self.remove(editors[i]);\n          }\n          return;\n        }\n        if (isString$1(selector)) {\n          each$1(DOM.select(selector), function (elm) {\n            editor = self.get(elm.id);\n            if (editor) {\n              self.remove(editor);\n            }\n          });\n          return;\n        }\n        editor = selector;\n        if (isNull(self.get(editor.id))) {\n          return null;\n        }\n        if (removeEditorFromList(editor)) {\n          self.fire('RemoveEditor', { editor: editor });\n        }\n        if (editors.length === 0) {\n          window.removeEventListener('beforeunload', beforeUnloadDelegate);\n        }\n        editor.remove();\n        toggleGlobalEvents(editors.length > 0);\n        return editor;\n      },\n      execCommand: function (cmd, ui, value) {\n        var self = this, editor = self.get(value);\n        switch (cmd) {\n        case 'mceAddEditor':\n          if (!self.get(value)) {\n            new Editor(value, self.settings, self).render();\n          }\n          return true;\n        case 'mceRemoveEditor':\n          if (editor) {\n            editor.remove();\n          }\n          return true;\n        case 'mceToggleEditor':\n          if (!editor) {\n            self.execCommand('mceAddEditor', false, value);\n            return true;\n          }\n          if (editor.isHidden()) {\n            editor.show();\n          } else {\n            editor.hide();\n          }\n          return true;\n        }\n        if (self.activeEditor) {\n          return self.activeEditor.execCommand(cmd, ui, value);\n        }\n        return false;\n      },\n      triggerSave: function () {\n        each$1(editors, function (editor) {\n          editor.save();\n        });\n      },\n      addI18n: function (code, items) {\n        I18n.add(code, items);\n      },\n      translate: function (text) {\n        return I18n.translate(text);\n      },\n      setActive: function (editor) {\n        var activeEditor = this.activeEditor;\n        if (this.activeEditor !== editor) {\n          if (activeEditor) {\n            activeEditor.fire('deactivate', { relatedTarget: editor });\n          }\n          editor.fire('activate', { relatedTarget: activeEditor });\n        }\n        this.activeEditor = editor;\n      },\n      _setBaseUrl: function (baseUrl) {\n        this.baseURL = new URI(this.documentBaseURL).toAbsolute(baseUrl.replace(/\\/+$/, ''));\n        this.baseURI = new URI(this.baseURL);\n      }\n    });\n    EditorManager.setup();\n\n    var min$1 = Math.min, max$1 = Math.max, round$1 = Math.round;\n    var relativePosition = function (rect, targetRect, rel) {\n      var x = targetRect.x;\n      var y = targetRect.y;\n      var w = rect.w;\n      var h = rect.h;\n      var targetW = targetRect.w;\n      var targetH = targetRect.h;\n      var relChars = (rel || '').split('');\n      if (relChars[0] === 'b') {\n        y += targetH;\n      }\n      if (relChars[1] === 'r') {\n        x += targetW;\n      }\n      if (relChars[0] === 'c') {\n        y += round$1(targetH / 2);\n      }\n      if (relChars[1] === 'c') {\n        x += round$1(targetW / 2);\n      }\n      if (relChars[3] === 'b') {\n        y -= h;\n      }\n      if (relChars[4] === 'r') {\n        x -= w;\n      }\n      if (relChars[3] === 'c') {\n        y -= round$1(h / 2);\n      }\n      if (relChars[4] === 'c') {\n        x -= round$1(w / 2);\n      }\n      return create$2(x, y, w, h);\n    };\n    var findBestRelativePosition = function (rect, targetRect, constrainRect, rels) {\n      var pos, i;\n      for (i = 0; i < rels.length; i++) {\n        pos = relativePosition(rect, targetRect, rels[i]);\n        if (pos.x >= constrainRect.x && pos.x + pos.w <= constrainRect.w + constrainRect.x && pos.y >= constrainRect.y && pos.y + pos.h <= constrainRect.h + constrainRect.y) {\n          return rels[i];\n        }\n      }\n      return null;\n    };\n    var inflate = function (rect, w, h) {\n      return create$2(rect.x - w, rect.y - h, rect.w + w * 2, rect.h + h * 2);\n    };\n    var intersect = function (rect, cropRect) {\n      var x1 = max$1(rect.x, cropRect.x);\n      var y1 = max$1(rect.y, cropRect.y);\n      var x2 = min$1(rect.x + rect.w, cropRect.x + cropRect.w);\n      var y2 = min$1(rect.y + rect.h, cropRect.y + cropRect.h);\n      if (x2 - x1 < 0 || y2 - y1 < 0) {\n        return null;\n      }\n      return create$2(x1, y1, x2 - x1, y2 - y1);\n    };\n    var clamp = function (rect, clampRect, fixedSize) {\n      var x1 = rect.x;\n      var y1 = rect.y;\n      var x2 = rect.x + rect.w;\n      var y2 = rect.y + rect.h;\n      var cx2 = clampRect.x + clampRect.w;\n      var cy2 = clampRect.y + clampRect.h;\n      var underflowX1 = max$1(0, clampRect.x - x1);\n      var underflowY1 = max$1(0, clampRect.y - y1);\n      var overflowX2 = max$1(0, x2 - cx2);\n      var overflowY2 = max$1(0, y2 - cy2);\n      x1 += underflowX1;\n      y1 += underflowY1;\n      if (fixedSize) {\n        x2 += underflowX1;\n        y2 += underflowY1;\n        x1 -= overflowX2;\n        y1 -= overflowY2;\n      }\n      x2 -= overflowX2;\n      y2 -= overflowY2;\n      return create$2(x1, y1, x2 - x1, y2 - y1);\n    };\n    var create$2 = function (x, y, w, h) {\n      return {\n        x: x,\n        y: y,\n        w: w,\n        h: h\n      };\n    };\n    var fromClientRect = function (clientRect) {\n      return create$2(clientRect.left, clientRect.top, clientRect.width, clientRect.height);\n    };\n    var Rect = {\n      inflate: inflate,\n      relativePosition: relativePosition,\n      findBestRelativePosition: findBestRelativePosition,\n      intersect: intersect,\n      clamp: clamp,\n      create: create$2,\n      fromClientRect: fromClientRect\n    };\n\n    var awaiter = function (resolveCb, rejectCb, timeout) {\n      if (timeout === void 0) {\n        timeout = 1000;\n      }\n      var done = false;\n      var timer = null;\n      var complete = function (completer) {\n        return function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          if (!done) {\n            done = true;\n            if (timer !== null) {\n              clearTimeout(timer);\n              timer = null;\n            }\n            completer.apply(null, args);\n          }\n        };\n      };\n      var resolve = complete(resolveCb);\n      var reject = complete(rejectCb);\n      var start = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (!done && timer === null) {\n          timer = setTimeout(function () {\n            return reject.apply(null, args);\n          }, timeout);\n        }\n      };\n      return {\n        start: start,\n        resolve: resolve,\n        reject: reject\n      };\n    };\n    var create$1 = function () {\n      var tasks = {};\n      var resultFns = {};\n      var load = function (id, url) {\n        var loadErrMsg = 'Script at URL \"' + url + '\" failed to load';\n        var runErrMsg = 'Script at URL \"' + url + '\" did not call `tinymce.Resource.add(\\'' + id + '\\', data)` within 1 second';\n        if (tasks[id] !== undefined) {\n          return tasks[id];\n        } else {\n          var task = new promiseObj(function (resolve, reject) {\n            var waiter = awaiter(resolve, reject);\n            resultFns[id] = waiter.resolve;\n            ScriptLoader.ScriptLoader.loadScript(url, function () {\n              return waiter.start(runErrMsg);\n            }, function () {\n              return waiter.reject(loadErrMsg);\n            });\n          });\n          tasks[id] = task;\n          return task;\n        }\n      };\n      var add = function (id, data) {\n        if (resultFns[id] !== undefined) {\n          resultFns[id](data);\n          delete resultFns[id];\n        }\n        tasks[id] = promiseObj.resolve(data);\n      };\n      return {\n        load: load,\n        add: add\n      };\n    };\n    var Resource = create$1();\n\n    var each = Tools.each, extend$1 = Tools.extend;\n    var extendClass, initializing;\n    var Class = function () {\n    };\n    Class.extend = extendClass = function (props) {\n      var self = this;\n      var _super = self.prototype;\n      var Class = function () {\n        var i, mixins, mixin;\n        var self = this;\n        if (!initializing) {\n          if (self.init) {\n            self.init.apply(self, arguments);\n          }\n          mixins = self.Mixins;\n          if (mixins) {\n            i = mixins.length;\n            while (i--) {\n              mixin = mixins[i];\n              if (mixin.init) {\n                mixin.init.apply(self, arguments);\n              }\n            }\n          }\n        }\n      };\n      var dummy = function () {\n        return this;\n      };\n      var createMethod = function (name, fn) {\n        return function () {\n          var self = this;\n          var tmp = self._super;\n          self._super = _super[name];\n          var ret = fn.apply(self, arguments);\n          self._super = tmp;\n          return ret;\n        };\n      };\n      initializing = true;\n      var prototype = new self();\n      initializing = false;\n      if (props.Mixins) {\n        each(props.Mixins, function (mixin) {\n          for (var name_1 in mixin) {\n            if (name_1 !== 'init') {\n              props[name_1] = mixin[name_1];\n            }\n          }\n        });\n        if (_super.Mixins) {\n          props.Mixins = _super.Mixins.concat(props.Mixins);\n        }\n      }\n      if (props.Methods) {\n        each(props.Methods.split(','), function (name) {\n          props[name] = dummy;\n        });\n      }\n      if (props.Properties) {\n        each(props.Properties.split(','), function (name) {\n          var fieldName = '_' + name;\n          props[name] = function (value) {\n            var self = this;\n            if (value !== undefined) {\n              self[fieldName] = value;\n              return self;\n            }\n            return self[fieldName];\n          };\n        });\n      }\n      if (props.Statics) {\n        each(props.Statics, function (func, name) {\n          Class[name] = func;\n        });\n      }\n      if (props.Defaults && _super.Defaults) {\n        props.Defaults = extend$1({}, _super.Defaults, props.Defaults);\n      }\n      each$j(props, function (member, name) {\n        if (typeof member === 'function' && _super[name]) {\n          prototype[name] = createMethod(name, member);\n        } else {\n          prototype[name] = member;\n        }\n      });\n      Class.prototype = prototype;\n      Class.constructor = Class;\n      Class.extend = extendClass;\n      return Class;\n    };\n\n    var min = Math.min, max = Math.max, round = Math.round;\n    var Color = function (value) {\n      var self = {};\n      var r = 0, g = 0, b = 0;\n      var rgb2hsv = function (r, g, b) {\n        var h, s, v;\n        h = 0;\n        s = 0;\n        v = 0;\n        r = r / 255;\n        g = g / 255;\n        b = b / 255;\n        var minRGB = min(r, min(g, b));\n        var maxRGB = max(r, max(g, b));\n        if (minRGB === maxRGB) {\n          v = minRGB;\n          return {\n            h: 0,\n            s: 0,\n            v: v * 100\n          };\n        }\n        var d = r === minRGB ? g - b : b === minRGB ? r - g : b - r;\n        h = r === minRGB ? 3 : b === minRGB ? 1 : 5;\n        h = 60 * (h - d / (maxRGB - minRGB));\n        s = (maxRGB - minRGB) / maxRGB;\n        v = maxRGB;\n        return {\n          h: round(h),\n          s: round(s * 100),\n          v: round(v * 100)\n        };\n      };\n      var hsvToRgb = function (hue, saturation, brightness) {\n        hue = (parseInt(hue, 10) || 0) % 360;\n        saturation = parseInt(saturation, 10) / 100;\n        brightness = parseInt(brightness, 10) / 100;\n        saturation = max(0, min(saturation, 1));\n        brightness = max(0, min(brightness, 1));\n        if (saturation === 0) {\n          r = g = b = round(255 * brightness);\n          return;\n        }\n        var side = hue / 60;\n        var chroma = brightness * saturation;\n        var x = chroma * (1 - Math.abs(side % 2 - 1));\n        var match = brightness - chroma;\n        switch (Math.floor(side)) {\n        case 0:\n          r = chroma;\n          g = x;\n          b = 0;\n          break;\n        case 1:\n          r = x;\n          g = chroma;\n          b = 0;\n          break;\n        case 2:\n          r = 0;\n          g = chroma;\n          b = x;\n          break;\n        case 3:\n          r = 0;\n          g = x;\n          b = chroma;\n          break;\n        case 4:\n          r = x;\n          g = 0;\n          b = chroma;\n          break;\n        case 5:\n          r = chroma;\n          g = 0;\n          b = x;\n          break;\n        default:\n          r = g = b = 0;\n        }\n        r = round(255 * (r + match));\n        g = round(255 * (g + match));\n        b = round(255 * (b + match));\n      };\n      var toHex = function () {\n        var hex = function (val) {\n          val = parseInt(val, 10).toString(16);\n          return val.length > 1 ? val : '0' + val;\n        };\n        return '#' + hex(r) + hex(g) + hex(b);\n      };\n      var toRgb = function () {\n        return {\n          r: r,\n          g: g,\n          b: b\n        };\n      };\n      var toHsv = function () {\n        return rgb2hsv(r, g, b);\n      };\n      var parse = function (value) {\n        var matches;\n        if (typeof value === 'object') {\n          if ('r' in value) {\n            r = value.r;\n            g = value.g;\n            b = value.b;\n          } else if ('v' in value) {\n            hsvToRgb(value.h, value.s, value.v);\n          }\n        } else {\n          if (matches = /rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)[^\\)]*\\)/gi.exec(value)) {\n            r = parseInt(matches[1], 10);\n            g = parseInt(matches[2], 10);\n            b = parseInt(matches[3], 10);\n          } else if (matches = /#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(value)) {\n            r = parseInt(matches[1], 16);\n            g = parseInt(matches[2], 16);\n            b = parseInt(matches[3], 16);\n          } else if (matches = /#([0-F])([0-F])([0-F])/gi.exec(value)) {\n            r = parseInt(matches[1] + matches[1], 16);\n            g = parseInt(matches[2] + matches[2], 16);\n            b = parseInt(matches[3] + matches[3], 16);\n          }\n        }\n        r = r < 0 ? 0 : r > 255 ? 255 : r;\n        g = g < 0 ? 0 : g > 255 ? 255 : g;\n        b = b < 0 ? 0 : b > 255 ? 255 : b;\n        return self;\n      };\n      if (value) {\n        parse(value);\n      }\n      self.toRgb = toRgb;\n      self.toHsv = toHsv;\n      self.toHex = toHex;\n      self.parse = parse;\n      return self;\n    };\n\n    var serialize = function (obj) {\n      var data = JSON.stringify(obj);\n      if (!isString$1(data)) {\n        return data;\n      }\n      return data.replace(/[\\u0080-\\uFFFF]/g, function (match) {\n        var hexCode = match.charCodeAt(0).toString(16);\n        return '\\\\u' + '0000'.substring(hexCode.length) + hexCode;\n      });\n    };\n    var JSONUtils = {\n      serialize: serialize,\n      parse: function (text) {\n        try {\n          return JSON.parse(text);\n        } catch (ex) {\n        }\n      }\n    };\n\n    var JSONP = {\n      callbacks: {},\n      count: 0,\n      send: function (settings) {\n        var self = this, dom = DOMUtils.DOM, count = settings.count !== undefined ? settings.count : self.count;\n        var id = 'tinymce_jsonp_' + count;\n        self.callbacks[count] = function (json) {\n          dom.remove(id);\n          delete self.callbacks[count];\n          settings.callback(json);\n        };\n        dom.add(dom.doc.body, 'script', {\n          id: id,\n          src: settings.url,\n          type: 'text/javascript'\n        });\n        self.count++;\n      }\n    };\n\n    var XHR = __assign(__assign({}, Observable), {\n      send: function (settings) {\n        var xhr, count = 0;\n        var ready = function () {\n          if (!settings.async || xhr.readyState === 4 || count++ > 10000) {\n            if (settings.success && count < 10000 && xhr.status === 200) {\n              settings.success.call(settings.success_scope, '' + xhr.responseText, xhr, settings);\n            } else if (settings.error) {\n              settings.error.call(settings.error_scope, count > 10000 ? 'TIMED_OUT' : 'GENERAL', xhr, settings);\n            }\n            xhr = null;\n          } else {\n            Delay.setTimeout(ready, 10);\n          }\n        };\n        settings.scope = settings.scope || this;\n        settings.success_scope = settings.success_scope || settings.scope;\n        settings.error_scope = settings.error_scope || settings.scope;\n        settings.async = settings.async !== false;\n        settings.data = settings.data || '';\n        XHR.fire('beforeInitialize', { settings: settings });\n        xhr = new XMLHttpRequest();\n        if (xhr.overrideMimeType) {\n          xhr.overrideMimeType(settings.content_type);\n        }\n        xhr.open(settings.type || (settings.data ? 'POST' : 'GET'), settings.url, settings.async);\n        if (settings.crossDomain) {\n          xhr.withCredentials = true;\n        }\n        if (settings.content_type) {\n          xhr.setRequestHeader('Content-Type', settings.content_type);\n        }\n        if (settings.requestheaders) {\n          Tools.each(settings.requestheaders, function (header) {\n            xhr.setRequestHeader(header.key, header.value);\n          });\n        }\n        xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n        xhr = XHR.fire('beforeSend', {\n          xhr: xhr,\n          settings: settings\n        }).xhr;\n        xhr.send(settings.data);\n        if (!settings.async) {\n          return ready();\n        }\n        Delay.setTimeout(ready, 10);\n      }\n    });\n\n    var extend = Tools.extend;\n    var JSONRequest = function () {\n      function JSONRequest(settings) {\n        this.settings = extend({}, settings);\n        this.count = 0;\n      }\n      JSONRequest.sendRPC = function (o) {\n        return new JSONRequest().send(o);\n      };\n      JSONRequest.prototype.send = function (args) {\n        var ecb = args.error, scb = args.success;\n        var xhrArgs = extend(this.settings, args);\n        xhrArgs.success = function (c, x) {\n          c = JSONUtils.parse(c);\n          if (typeof c === 'undefined') {\n            c = { error: 'JSON Parse error.' };\n          }\n          if (c.error) {\n            ecb.call(xhrArgs.error_scope || xhrArgs.scope, c.error, x);\n          } else {\n            scb.call(xhrArgs.success_scope || xhrArgs.scope, c.result);\n          }\n        };\n        xhrArgs.error = function (ty, x) {\n          if (ecb) {\n            ecb.call(xhrArgs.error_scope || xhrArgs.scope, ty, x);\n          }\n        };\n        xhrArgs.data = JSONUtils.serialize({\n          id: args.id || 'c' + this.count++,\n          method: args.method,\n          params: args.params\n        });\n        xhrArgs.content_type = 'application/json';\n        XHR.send(xhrArgs);\n      };\n      return JSONRequest;\n    }();\n\n    var create = function () {\n      return function () {\n        var data = {};\n        var keys = [];\n        var storage = {\n          getItem: function (key) {\n            var item = data[key];\n            return item ? item : null;\n          },\n          setItem: function (key, value) {\n            keys.push(key);\n            data[key] = String(value);\n          },\n          key: function (index) {\n            return keys[index];\n          },\n          removeItem: function (key) {\n            keys = keys.filter(function (k) {\n              return k === key;\n            });\n            delete data[key];\n          },\n          clear: function () {\n            keys = [];\n            data = {};\n          },\n          length: 0\n        };\n        Object.defineProperty(storage, 'length', {\n          get: function () {\n            return keys.length;\n          },\n          configurable: false,\n          enumerable: false\n        });\n        return storage;\n      }();\n    };\n\n    var localStorage;\n    try {\n      var test = '__storage_test__';\n      localStorage = window.localStorage;\n      localStorage.setItem(test, test);\n      localStorage.removeItem(test);\n    } catch (e) {\n      localStorage = create();\n    }\n    var LocalStorage = localStorage;\n\n    var publicApi = {\n      geom: { Rect: Rect },\n      util: {\n        Promise: promiseObj,\n        Delay: Delay,\n        Tools: Tools,\n        VK: VK,\n        URI: URI,\n        Class: Class,\n        EventDispatcher: EventDispatcher,\n        Observable: Observable,\n        I18n: I18n,\n        XHR: XHR,\n        JSON: JSONUtils,\n        JSONRequest: JSONRequest,\n        JSONP: JSONP,\n        LocalStorage: LocalStorage,\n        Color: Color,\n        ImageUploader: ImageUploader\n      },\n      dom: {\n        EventUtils: EventUtils,\n        Sizzle: Sizzle,\n        DomQuery: DomQuery,\n        TreeWalker: DomTreeWalker,\n        TextSeeker: TextSeeker,\n        DOMUtils: DOMUtils,\n        ScriptLoader: ScriptLoader,\n        RangeUtils: RangeUtils,\n        Serializer: DomSerializer,\n        StyleSheetLoader: StyleSheetLoader,\n        ControlSelection: ControlSelection,\n        BookmarkManager: BookmarkManager,\n        Selection: EditorSelection,\n        Event: EventUtils.Event\n      },\n      html: {\n        Styles: Styles,\n        Entities: Entities,\n        Node: AstNode,\n        Schema: Schema,\n        SaxParser: SaxParser,\n        DomParser: DomParser,\n        Writer: Writer,\n        Serializer: HtmlSerializer\n      },\n      Env: Env,\n      AddOnManager: AddOnManager,\n      Annotator: Annotator,\n      Formatter: Formatter,\n      UndoManager: UndoManager,\n      EditorCommands: EditorCommands,\n      WindowManager: WindowManager,\n      NotificationManager: NotificationManager,\n      EditorObservable: EditorObservable,\n      Shortcuts: Shortcuts,\n      Editor: Editor,\n      FocusManager: FocusManager,\n      EditorManager: EditorManager,\n      DOM: DOMUtils.DOM,\n      ScriptLoader: ScriptLoader.ScriptLoader,\n      PluginManager: PluginManager,\n      ThemeManager: ThemeManager,\n      IconManager: IconManager,\n      Resource: Resource,\n      trim: Tools.trim,\n      isArray: Tools.isArray,\n      is: Tools.is,\n      toArray: Tools.toArray,\n      makeMap: Tools.makeMap,\n      each: Tools.each,\n      map: Tools.map,\n      grep: Tools.grep,\n      inArray: Tools.inArray,\n      extend: Tools.extend,\n      create: Tools.create,\n      walk: Tools.walk,\n      createNS: Tools.createNS,\n      resolve: Tools.resolve,\n      explode: Tools.explode,\n      _addCacheSuffix: Tools._addCacheSuffix,\n      isOpera: Env.opera,\n      isWebKit: Env.webkit,\n      isIE: Env.ie,\n      isGecko: Env.gecko,\n      isMac: Env.mac\n    };\n    var tinymce = Tools.extend(EditorManager, publicApi);\n\n    var exportToModuleLoaders = function (tinymce) {\n      if (typeof module === 'object') {\n        try {\n          module.exports = tinymce;\n        } catch (_) {\n        }\n      }\n    };\n    var exportToWindowGlobal = function (tinymce) {\n      window.tinymce = tinymce;\n      window.tinyMCE = tinymce;\n    };\n    exportToWindowGlobal(tinymce);\n    exportToModuleLoaders(tinymce);\n\n}());\n"],"names":["___CSS_LOADER_URL_IMPORT_0___","URL","___CSS_LOADER_URL_IMPORT_1___","___CSS_LOADER_URL_IMPORT_2___","___CSS_LOADER_URL_IMPORT_3___","___CSS_LOADER_URL_IMPORT_4___","___CSS_LOADER_URL_IMPORT_5___","___CSS_LOADER_URL_IMPORT_6___","___CSS_LOADER_URL_IMPORT_7___","___CSS_LOADER_URL_IMPORT_8___","___CSS_LOADER_URL_IMPORT_9___","___CSS_LOADER_URL_IMPORT_10___","___CSS_LOADER_URL_IMPORT_11___","___CSS_LOADER_URL_IMPORT_12___","___CSS_LOADER_URL_IMPORT_13___","___CSS_LOADER_URL_IMPORT_14___","___CSS_LOADER_URL_IMPORT_15___","___CSS_LOADER_URL_IMPORT_16___","___CSS_LOADER_URL_IMPORT_17___","___CSS_LOADER_URL_IMPORT_18___","___CSS_LOADER_URL_IMPORT_19___","___CSS_LOADER_URL_IMPORT_20___","___CSS_LOADER_URL_IMPORT_21___","___CSS_LOADER_URL_IMPORT_22___","___CSS_LOADER_URL_IMPORT_23___","___CSS_LOADER_URL_IMPORT_24___","___CSS_LOADER_URL_IMPORT_25___","___CSS_LOADER_URL_IMPORT_26___","___CSS_LOADER_URL_IMPORT_27___","___CSS_LOADER_EXPORT___","___CSS_LOADER_URL_REPLACEMENT_0___","___CSS_LOADER_URL_REPLACEMENT_1___","___CSS_LOADER_URL_REPLACEMENT_2___","___CSS_LOADER_URL_REPLACEMENT_3___","___CSS_LOADER_URL_REPLACEMENT_4___","___CSS_LOADER_URL_REPLACEMENT_5___","___CSS_LOADER_URL_REPLACEMENT_6___","___CSS_LOADER_URL_REPLACEMENT_7___","___CSS_LOADER_URL_REPLACEMENT_8___","___CSS_LOADER_URL_REPLACEMENT_9___","___CSS_LOADER_URL_REPLACEMENT_10___","___CSS_LOADER_URL_REPLACEMENT_11___","___CSS_LOADER_URL_REPLACEMENT_12___","___CSS_LOADER_URL_REPLACEMENT_13___","___CSS_LOADER_URL_REPLACEMENT_14___","___CSS_LOADER_URL_REPLACEMENT_15___","___CSS_LOADER_URL_REPLACEMENT_16___","___CSS_LOADER_URL_REPLACEMENT_17___","___CSS_LOADER_URL_REPLACEMENT_18___","___CSS_LOADER_URL_REPLACEMENT_19___","___CSS_LOADER_URL_REPLACEMENT_20___","___CSS_LOADER_URL_REPLACEMENT_21___","___CSS_LOADER_URL_REPLACEMENT_22___","___CSS_LOADER_URL_REPLACEMENT_23___","___CSS_LOADER_URL_REPLACEMENT_24___","___CSS_LOADER_URL_REPLACEMENT_25___","___CSS_LOADER_URL_REPLACEMENT_26___","___CSS_LOADER_URL_REPLACEMENT_27___","push","module","id","options","styleTagTransform","setAttributes","insert","el","first_child","document","head","querySelectorAll","insertBefore","append","domAPI","insertStyleElement","undefined","tinymce","IconManager","add","icons","isType$1","type","value","x","t","Array","prototype","isPrototypeOf","constructor","name","String","typeOf","isSimpleType","eq$1","a","isString","isObject","isArray","isNull","isBoolean","isUndefined","isNullable","isNonNullable","isFunction","isNumber","isArrayOf","pred","i","len","length","noop","compose","fa","fb","args","_i","arguments","apply","constant$1","identity$1","tripleEquals","b","curry","fn","initialArgs","restArgs","all","concat","not","f","die","msg","Error","never","always","global$g","util","Tools","resolve","__assign","Object","assign","s","n","p","hasOwnProperty","call","this","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArray","to","from","pack","ar","l","slice","none","NONE","thunk","fold","_s","isSome","isNone","getOr","getOrThunk","getOrDie","getOrNull","getOrUndefined","or","orThunk","map","each","bind","exists","forall","filter","toArray","toString","some","constant_a","self","me","Optional","nativeSlice","nativeIndexOf","nativePush","rawIndexOf","ts","contains$2","xs","range$2","num","r","chunk$1","array","size","map$2","each$1","partition$3","pass","fail","filter$2","foldr","acc","eachr","foldl","find$5","until","findUntil","findIndex$1","flatten","bind$3","reverse","difference","a1","a2","mapToObject","pure$2","sort","comparator","copy","get$f","last$2","findMap","arr","keys","obj","props","k","map$1","tupleMap","v","tuple","filter$1","onTrue","onFalse","internalFilter","objAcc","mapToArray","find$4","values","get$e","key","has$2","hasNonNullableKey","is$1","lhs","rhs","left","cat","lift2","oa","ob","someIf","checkRange","str","substr","start","contains$1","startsWith","prefix","endsWith","suffix","trim$1","replace","blank","isNotEmpty","isSupported$1","dom","style","getPropertyValue","fromDom","node","SugarElement","fromHtml","html","scope","div","createElement","innerHTML","hasChildNodes","childNodes","console","error","fromTag","tag","fromText","text","createTextNode","fromPoint","docElm","y","elementFromPoint","window","Function","SimpleResultType","name$2","element","nodeName","toLowerCase","isType","nodeType","isElement$2","isText$1","isDocument","isDocumentFragment","cached","called","unknown$3","nu$d","major","minor","Version","nu","detect","versionRegexes","agent","cleanedAgent","regexes","test","firstMatch","group","Number","find$3","unknown","detect$3","candidates","userAgent","candidate","search","normalVersionRegex","checkContains","target","uastring","browsers","brand","oses","PlatformInfo","edge","chrome","opera","firefox","safari","nu$c","info","current","version","isBrowser","isEdge","isChrome","isIE","isOpera","isFirefox","isSafari","Browser","ie","windows","android","linux","solaris","freebsd","chromeos","nu$b","isOS","isWindows","isiOS","isAndroid","isOSX","isLinux","isSolaris","isFreeBSD","isChromeOS","OperatingSystem","ios","osx","PlatformDetection","userAgentDataOpt","mediaMatch","browser","userAgentData","brands","uaBrand","lcBrand","_a","parseInt","detectBrowser$1","detectBrowser","os","detectOs","deviceType","isiPad","isiPhone","isMobile","isTouch","isTablet","isPhone","iOSwebview","isDesktop","isWebView","DeviceType","query","matchMedia","matches","platform","navigator","detect$1","is","selector","elem","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","bypassSelector","childElementCount","eq","e1","e2","ieContains","match","compareDocumentPosition","Node","DOCUMENT_POSITION_CONTAINED_BY","documentPositionContainedBy","contains","d1","d2","regularContains","owner$4","ownerDocument","documentOrOwner","dos","documentElement","defaultView","parent","parentNode","offsetParent","children","child$2","index","cs","spot","offset","leaf","isShadowRoot","host","supported","Element","attachShadow","getRootNode","isSupported","getContentContainer","body","getShadowRoot","getShadowHost","isOpenShadowHost","shadowRoot","inBody","fbc","fab","doc","getBody","rawSet","setAttribute","set$8","setAll$1","attrs","get$d","getAttribute","getOpt","has$1","hasAttribute","remove$7","removeAttribute","internalSet","property","setProperty","internalRemove","removeProperty","set$7","setAll","css","setOptions","get$c","getComputedStyle","getUnsafeProperty","getRaw","raw","getAllRaw","ruleName","item","isValidValue","remove$6","reflow","offsetWidth","Dimension","getOffset","get","parseFloat","aggregate","properties","val","isNaN","set","h","getOuter","max","cumulativeInclusions","api$3","getBoundingClientRect","height","offsetHeight","get$b","getOuter$2","r$1","top","translate","SugarPosition","firstDefinedOrZero","absolute$3","win","offsetLeft","offsetTop","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","viewport$1","box","boxPosition","api$2","get$a","getOuter$1","fromRawEvent$1","rawEvent","event","composed","composedPath","getOriginalEventTarget","stop","stopPropagation","prevent","preventDefault","kill","mkEvent","clientX","clientY","binder","handler","useCapture","wrapped","handle","addEventListener","unbind","removeEventListener","before$2","marker","after$2","sibling","nextSibling","append$2","prepend$1","firstChild$1","firstChild","appendChild","append$1","elements","empty","textContent","rogue","remove$5","removeChild","unwrap","wrapper","children$1","get$9","_DOC","scrollTo","bounds$1","width","right","bottom","getBounds$3","_win","scroll","get$8","clientWidth","clientHeight","visualViewport","Math","pageLeft","pageTop","walkUp","navigation","view","owner","rest","Navigation","freeze","__proto__","frameElement","find$2","path","d","paths","pathTo","frames","loc","bounds","box$1","xy","w","absolute$2","position","value$3","o","isValue","isError","_opt","_f","_","onValue","mapError","toOptional","error$1","message","onError","Result","fromOption","opt","err","fold$1","res","stype","serror","svalue","Value","SimpleResult","results","errors","field$2","newKey","presence","prop","ifField","ifCustom","instantiator","baseMerge","merger","objects","ret","j","curObject","deepMerge","old","merge$1","defaultedThunk","fallbackThunk","process","defaulted$1","fallback","mergeWithThunk","baseThunk","mergeErrors$1","ResultCombine","partitions","formatObj","input","JSON","stringify","nu$a","getErrorInfo","value$2","validator","extract","custom","anyValue$1","requiredAccess","bundle","missingRequired","fallbackAccess","extractField","field","av","bundleAsOption","optValue","ov","result","optionAccess","optionDefaultedAccess","valueThunk","getDelegate","getSetKeys","objOfOnly","fields","delegate","objOf","fieldNames","extra","unsupported","join","unsupportedFields","success","fields_1","extractFields","fieldStrings","_okey","_presence","_instantiator","arrOf","oneOf","props_1","setOf$1","keys$1","validatedKeys","validateKeys","validKeys","schema","vk","arrOfObj","anyValue","typedValue","expectedType","actualType","number","string","boolean","functionProcessor","isPostMessageable","every","postMessageable","chooseFrom","branches","ch","branch","missingBranch","vp","choose$2","missingKey","chosen","valueOf","setOf","asRaw","label","errs","extractValue","extraction","errInfo","formatError","asRawOrDie$1","es","choose$1","field$1","customField","validateEnum","required$1","requiredOf","requiredNumber","requiredString","requiredStringEnum","requiredFunction","requiredObjOf","objSchema","requiredArrayOfObj","objFields","requiredArrayOf","option","optionOf","optionNumber","optionString","optionFunction","optionArrayOf","optionObjOf","defaulted","defaultedOf","defaultedNumber","defaultedString","defaultedStringEnum","defaultedBoolean","defaultedFunction","defaultedArrayOf","defaultedObjOf","Cell","initial","Adt","cases","constructors","adt","acase","count","argLength","branchKeys","reqKey","foldArgs","log","params","bothErrors","firstError","secondError","bothValues","_a$2","exclude","exclude$1","wrap$1","wrap$2","wrapAll","keyvalues","kv","wrapAll$1","consolidate","objs","base","partition$1","mergeValues","ensureIsRoot","isRoot","ancestor$2","transform","transformed","closest$4","isSource","component","simulatedEvent","defaultEventHandler","can","abort","run","nu$9","parts","fuse$1","handlers","all$2","any","constant","touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseout","mouseup","mouseover","focusin","focusout","keydown","keyup","change","click","transitioncancel","transitionend","transitionstart","selectstart","prefixName","alloy","tap","focus$4","postBlur","postPaste","receive","execute$5","focusItem","longpress","sandboxClose","typeaheadCancel","systemInit","documentTouchmove","documentTouchend","windowScroll","windowResize","attachedToDom","detachedFromDom","dismissRequested","repositionRequested","focusShifted","slotVisibility","changeTab","dismissTab","highlight$1","dehighlight$1","emit","dispatchWith","emitWith","emitExecute","dispatch","data","getSystem","triggerEvent","dispatchEvent","derive$2","configs","predicate","run$1","runActionExtra","action","runOnSourceName","redirectToPart","detail","partName","uid","getByUid","redirectee","redirectToUid","partUids","runWithTarget","ev","getByDom","cutter","cut","stopper","runOnSource","runOnAttached","runOnDetached","runOnInit","runOnExecute$1","runOnName","get$7","set$5","content","docDom","fragment","createDocumentFragment","contentElements","shallow","original","isDeep","cloneNode","clone$1","getHtml","container","clone","events$i","originator","isRecursive","warn","DefaultEvents","events","unique","generate$6","time","Date","getTime","floor","random","prefix$1","idAttr$1","idAttr","writeOnly","defineProperty","writable","read$1","generate$5","make$8","NoContextApi","getComp","getMessage","debugInfo","triggerFocus","triggerEscape","broadcast","broadcastOn","broadcastEvent","build","addToWorld","removeFromWorld","addToGui","removeFromGui","isConnected","singleton$1","cleanParameters","parameters","substring","markAsExtraApi","extraName","endIndex","openBracketIndex","split","toFunctionAnnotation","premadeTag","premade$1","comp","makeApi","apiFunction","markAsSketchApi","getApis","NoState","init","nu$8","readState","spec","byInnerKey","indexKey","chain","nu$7","classes","attributes","styles","getCurried","descHandler","cHandler","behaviourTuple","groupByEvents","behaviours","behaviourEvents","behaviour","nameToHandlers","assemble","rawHandler","read$2","fuse","tuples","eventOrder","eventName","order","keyName","sorted","aKey","bKey","aIndex","bIndex","sortKeys","sortedTuples","c","missingOrderError","combineGroups","byEventName","assembled","purpose","uncurried","baseBehaviour","schema$z","mergeWith","toEvents","read","attr","supports","classList","add$3","clazz","add$4","remove$3","remove$4","add$2","cleanClass","get$6","remove$2","remove","has","add$1","remove$1","get$5","set$4","generateFrom","validated","list","optBlobThunk","output","blob","config","state","generateFrom$1","generate$4","getBehaviours$2","getDomDefinition","bList","bData","defnA","mod","definition","domChildren","components","infoModification","domModification","toModification","baseModification","modification","baseMod","modsByBehaviour","exhibit","byAspect","combineObjects","combinedClasses","combinedAttributes","combinedStyles","combine$2","getEvents","baseEvents","combine$1","build$2","getMe","systemApi","toInfo","bBlob","getBehaviours$3","getData$2","subject","innerHtml","renderToDom","subcomponents","hasConfigured","behaviourName","apis","connect","newApi","disconnect","syncComponents","subs","child","buildFromSpec","userSpec","specEvents","build$1","buildSubcomponents","completeSpec","external$2","extSpec","uids","getPremade","userSpecWithUid","isSketchSpec$1","premade","ClosestOrAncestor","ancestor","EventConfiguration","ancestor$1","closest$3","closest$2","child$1","descendant","querySelector","one","closest$1","manager","ariaId","link","unlink","isAriaPartOf","queryElem","dependent","dep","find$1","isPartOf$1","eventConfig","processEvent","initialTarget","patterns","NORMAL","noLogger","LOGGING","logger","sequence","startTime","logEventCut","_name","outcome","logEventStopped","logNoParent","logEventNoHandlers","logEventResponse","write","finishTime","makeEventLogger","STOP","monitorEvent","menuFields","itemFields","itemSchema$3","_initSize","tieredMenuMarkers","markers$1","required","onPresenceHandler","fieldName","stack","lines","line","getTrace","onHandler","onKeyboardHandler","onStrictHandler","onStrictKeyboardHandler","output$1","snapshot","initSize","nu$6","bubble","direction","placement","boundsRestriction","labelPrefix","alwaysFit","restriction","adt$a","southeast","southwest","northeast","northwest","south","north","east","west","southeast$3","southwest$3","northeast$3","northwest$3","south$3","north$3","east$3","west$3","cycleBy","delta","min","clamp$1","anchor","restrictions","dir","getRestriction","labelPrefix$2","eastX$1","middleX$1","westX$1","northY$2","southY$2","centreY$1","southeast$2","bubbles","southwest$2","northeast$2","northwest$2","north$2","south$2","east$2","eastEdgeX$1","west$2","westEdgeX$1","all$1","allRtl$1","aboveOrBelow","aboveOrBelowRtl","belowOrAbove","belowOrAboveRtl","ActiveReceiving","receiveConfig","channelMap","channels","receivingData","targetChannels","universal","chooseChannels","channelInfo","channelSchema","onReceive","ReceivingSchema","loadEvent","bConfig","bState","_simulatedEvent","wrapApi","bName","apiName","markAsBehaviourApi","revokeBehaviour","doCreate","configSchema","schemaSchema","active","getConfig","wrappedApis","apiF","wrappedExtra","extraF","revoke","prepared","configAsRaw","initialConfig","behaviourInfo","exhibitor","derive$1","capabilities","simpleSchema","create$7","create$8","modeSchema","createModes","modes","createModes$1","branchKey","Receiving","ActivePosition","posConfig","useFixed","getDocument","focus$3","focus","hasFocus","root","activeElement","preserve$1","refocus","focused","descend","child_1","oldFocus","newFocus","NuPositionCss","toPx","applyPositionCss","toOptions","adt$9","relative","fixed","positionWithDirection","posName","decision","decisionRect","rect","decisionX","decisionY","decisionRight","decisionBottom","cata$2","reposition","origin","toBox","rel","viewport","getBounds","pos","translate$2","outerScroll","AttributeValue","relative$1","fixed$1","anchorBox","placementAttribute","getPlacement","adt$8","fit","nofit","attempt","bubbleOffset","adjustedBounds","applyRestriction","isVerticalAxis","newPos","adjustedLeft","adjustedTop","adjustedRight","adjustedBottom","adjustBounds","newX","newY","boundsX","boundsY","boundsRight","boundsBottom","originInBounds","sizeInBounds","visibleW","visibleH","determinePosition","fits","fittedBox","maxX","maxY","restrictedX","restrictedY","restrictedWidth","restrictedHeight","calcReposition","isPartlyVisible","_b","upAvailable","downAvailable","maxHeight","middle","cataVertical","westAvailable","eastAvailable","maxWidth","cataHorizontal","calcMaxSizes","on","classesOn","off","classesOff","layout","testY","singleton","doRevoke","clear","isSet","destroyable","destroy","unbindable","value$1","bind$2","capture","capture$1","fromRawEvent","timerAttr","isTransitioning$1","transition","hasAll","hasChanges","intermediate","round","toFixed","newValue","setupTransitionListeners","timer","transitionEnd","transitionCancel","isSourceTransition","pseudoElement","propertyName","transitionDone","clearTimeout","transitionStarted","transitionStart_1","duration","times","parse","delay","dur","getTransitionDuration","requestAnimationFrame","setTimeout","applyTransitionCss","lastPlacement","shouldTransition","placer","mode","shouldApplyTransitionCss","intermediatePosition_1","intermediateCssOptions","timerId","startTransitioning","elementBox","panelWidth","panelHeight","attemptBestFit","isVisible","next","attemptLayout","newReposition","newVisibleW","newVisibleH","newIsVisible","abc","bestNext","attempts","preference","setPlacement","setPlacement$1","setMaxHeight","absMax","setMax$1","anchored","available","expandable$1","defaultOr","dephault","go","positionCss","position$2","classInfo","setClasses","maxHeightFunction","setHeight","maxWidthFunction","setWidth","allAlignments","nu$5","xOffset","yOffset","insetModifier","insetXOffset","insetYOffset","getClasses","make","xDelta","yDelta","alignmentsOn","alignmentsOff","insetNortheast","insetNorthwest","insetNorth","insetSoutheast","insetSouthwest","insetSouth","insetEast","insetWest","nu$4","onDirection","isLtr","isRtl","getDirection","Attribute","isBottomToTopDir","BottomToTop","schema$y","get$4","defaultLtr","defaultRtl","defaultBottomLtr","defaultBottomRtl","dirElement","isBottomToTop","customLtr","layouts","ls","onLtr","customRtl","onRtl","ltr","onBottomLtr","rtl","onBottomRtl","HotspotAnchor","anchorInfo","hotspot","overrides","MakeshiftAnchor","adt$7","screen","absolute","point","toAbsolute","sum","points","sumAsAbsolute","positions","absolute$1","getRootPoint","frame","frameOwner","compOwner","getBox","pointed","calcNewAnchor","optBox","rootPoint","onNone","onRelative","onFixed","topLeft","sumAsFixed","layoutsLtr","showAbove","layoutsRtl","NodeAnchor","nodeBox","SimRange","soffset","finish","foffset","adt$6","before","after","Situ","situ","adt$5","domRange","exact","SimSelection","exactFromRange","simRange","getWin","selection","rng","startContainer","startSitu","_finishSitu","_soffset","_finish","_foffset","getStart","range","relativeToNative","finishSitu","createRange","setStartBefore","setStart","setStartAfter","setEndBefore","setEnd","setEndAfter","setFinish","exactToNative","toRect","adt$4","fromRange","startOffset","endContainer","endOffset","diagnose","ranges","getRanges","collapsed","rev","doDiagnose","asLtrRange","FocusInsideModes","api","getOption","nodeValue","NodeValue","elementsWithCursorPosition","isCursorPosition","hasCursorPosition","trim","descendantRtl","descendants","all$3","makeRange","same","readRange","rangeCount","firstRng","getRangeAt","lastRng","doGetExact","anchorNode","focusNode","focus_1","anchorOffset","focusOffset","getExact","getSelection","getNativeSelection","sel","getFirstRect","rects","getClientRects","getFirstRect$1","getBounds$1","getBounds$2","point$1","descendOnce$1","last","get$3","descendOnce","getAnchorSelection","modStart","modFinish","SelectionAnchor","selectionBox","optRect","rawRect","targetElement","labelPrefix$1","eastX","westX","northY$1","southY$1","southeast$1","southwest$1","northeast$1","northwest$1","allRtl","SubmenuAnchor","submenuInfo","AnchorSchema","submenu","makeshift","TransitionSchema","PositionSchema","PlacementSchema","place","anchoring","placee","lastPlace","overrideOptions","simple","positionWithin","posState","placementSpec","boxElement","boundsBox","positionWithinBounds","placeeDetail","anchorage","placeeState","oldVisibility","getRelativeOrigin","newState","doPlace","vis","PositionApis","getMode","pConfig","_pState","reset","reset$2","PositioningState","Positioning","fireDetaching","fireAttaching","attach$1","replaceChildren","newChildren","childComp","detachChildren$1","deleted","attach","attachWith","insertion","doDetach","detach","parent$1","detachChildren","attachSystem","guiSystem","attachSystemWith","inserter","detachSystem","rebuild","sandbox","sConfig","sState","_data","getAttachPoint","built","open$1","onOpen","close$1","onClose","isOpen$1","_sandbox","_sConfig","isOpen","cloak","_sState","sink","cssKey","store","cloakVisibilityAttr","decloak","hasPosition","oldValue","restore","SandboxApis","open","openWhileCloaked","transaction","close","isPartOf","getState","setContent","ActiveSandbox","sandboxConfig","sandboxState","SandboxSchema","SandboxState","contents","Sandboxing","dismissPopups","repositionPopups","mouseReleased","schema$x","receivingChannel$1","rawSpec","isExtraPart","fireEventInstead","fe","schema$w","receivingChannel","doReposition","onLoad$5","repConfig","repState","onLoad","onUnload$2","onUnload","RepresentApis","setValue","getValue","ActiveRepresenting","resetOnDom","_se","memory$1","isNotSet","dataset","dataByValue","dataByText","lookup","itemString","update","items","currentDataByValue","currentDataByText","newDataByValue","newDataByText","meta","RepresentState","memory","manual","setValue$2","onSetValue","DatasetStore","getDataKey","getFallbackEntry","initialValue","ManualStore","_repState","MemoryStore","initVal","RepresentSchema","Representing","setValueFrom","source","forbidden","_v","get$2","dump","augment","SketchBehaviours","_placeholder","adt$3","single","multiple","isSubstituted","scan","compSpec","placeholders","uiType","newSpec","subPlaceholder","substitute","req","childSpecs","substituted","valuesThunk","preprocess","preprocessor","substitutePlaces","ps","ph","replacements","used","substituteAll","single$2","placeholder","adt$2","external","optional","fFactory","sketch","fSchema","fName","fPname","typeSpec","fGroupSchema","fDefaults","fOverrides","requiredSpec","externalSpec","optionalSpec","groupSpec","asNamedPart","part","name$1","convert","adtConstructor","partSchema","external$1","PartType","asCommon","combine","partSpec","partValidated","defaults","generate$3","np","g","doGenerateOne","pname","generateOne$1","schemas","names","substitutes","internals","externals","factory","_partSpec","_partValidated","units","u","components$1","getPart","partKey","getPartOrDie","getParts","partKeys","system","pk","getAllParts","pUid","_k","getAllPartNames","getPartsOrDie","defaultUids","baseUid","partTypes","partNames","pn","defaultUidsSchema","AlloyParts","generate","generateOne","asRawOrDie","partSchemas","partUidsSchemas","baseS","composite$1","specWithUid","supplyUid","partUidsSchema","hasUid","singleSchema","compositeSchema","rawConfig","extraApis","configFields","single$1","composite","partFields","inside","ComposeApis","getCurrent","composeConfig","_composeState","find","ComposeSchema","Composing","nativeDisabled","onLoad$1","disableConfig","disableState","disabled","disable$1","enable$1","hasNative","useNative","nativeDisable","nativeEnable","ariaDisable","ariaEnable","_disableState","disableClass","onDisabled","onEnabled","isDisabled","nativeIsDisabled","ariaIsDisabled","DisableApis","enable","disable","ActiveDisable","DisableSchema","Disabling","dehighlightAllExcept","hConfig","hState","skip","highlighted","highlightClass","skipComp","onDehighlight","highlight","isHighlighted","onHighlight","queryTarget","getByIndex","itemClass","getFirst","_hState","getLast","getDelta$2","selected","dest","getCandidates","HighlightApis","dehighlightAll","dehighlight","highlightFirst","firstComp","highlightLast","lastComp","highlightAt","highlightBy","getHighlighted","getPrevious","getNext","HighlightSchema","Highlighting","BACKSPACE","TAB","ENTER","ESCAPE","SPACE","LEFT","UP","RIGHT","DOWN","cyclePrev","tryPrev","cycleNext","tryNext","inSet","which","and","preds","isShift","shiftKey","isControl","ctrlKey","isNotShift","rule","classification","reportFocusShifting","prevFocus","dom$2","focusee","highlights","initialState","typical","infoSchema","stateInit","getKeydownRules","getKeyupRules","optFocusIn","processKey","getRules","keyingConfig","keyingState","transitions","rules","onFocusHandler","focusInside","OnFocusMode","focusIn","keyboardEvents","isEnterOrSpace","OnEnterOrSpaceMode","tryGoInsideComponent","create$5","cyclicField","tabbingConfig","visibilitySelector","_tabbingState","tabstops","visibles","firstTabstop","findInitial","focusManager","goFromTabstop","stopIndex","cycle","useTabstopAt","isTabstop","cyclic","findCurrent","tabstop","navigate","onEscape","onEnter","AcyclicType","CyclicType","defaultExecute","doDefaultExecute","stopEventForFirefox","_component","schema$v","execute$4","executeConfig","execute","ExecutionType","_executeState","spaceExec","useSpace","enterExec","useEnter","downExec","useDown","execKeys","useControlEnter","flatgrid$1","dimensions","numRows","numColumns","setGridSize","getNumRows","getNumColumns","KeyingState","flatgrid","useH","movement","move","use","west$1","moveLeft","moveRight","east$1","useV","north$1","south$1","move$1","isHidden$1","locateVisible","locate","findIndex","withGrid","numCols","address","newIndex","row","column","cycleHorizontal$1","oldRow","oldColumn","colsInRow","newColumn","cycleVertical$1","newRow","newCol","schema$u","focusIn$3","gridConfig","_gridState","first","doMove$2","gridState","identified","handleTab","captureTab","moveLeft$3","moveRight$3","moveNorth$1","moveSouth$1","getKeydownRules$4","findCurrent$1","getKeyupRules$4","FlatgridType","horizontal","tryCycle","schema$t","execute$2","flowConfig","focusIn$2","_state","getInitial","moveLeft$2","moveRight$2","doMove$1","flowState","executeOnMove","doEscape","getKeyupRules$3","FlowType","_flowState","westMovers","allowVertical","eastMovers","toCell","matrix","rowIndex","columnIndex","cell","cycleHorizontal","startCol","deltaCol","newColIndex","cycleVertical","colIndex","startRow","deltaRow","nextRowIndex","colsInNextRow","nextColIndex","moveHorizontal","moveVertical","schema$s","focusIn$1","matrixConfig","previousSelector","selectors","doMove","ifCycle","ifMove","cycles","inRow","cellsInRow","allRows","rows","toMatrix","moveNorth","moveSouth","getKeydownRules$2","getKeyupRules$2","MatrixType","schema$r","menuConfig","moveUp","moveDown","getKeydownRules$1","menuState","moveOnTab","getKeyupRules$1","MenuType","schema$q","SpecialType","specialInfo","onSpace","onShiftEnter","onShiftTab","onTab","onUp","onDown","onLeft","onRight","stopSpaceKeyup","acyclic","flow","execution","menu","special","Keying","keyConfig","keyState","sendFocusIn","isFlatgridState","replaceConfig","childSpec","replaceState","removee","foundChild","_replaceConfig","replaceAt","replaceeIndex","replacer","replacee","appendAt","ReplaceApis","appendee","prepend","prependee","replaceBy","replaceePred","Replacing","eventHandlers","events$d","focus$2","focusConfig","ignore","onFocus","FocusApis","blur","blur$1","isFocused","ActiveFocus","tabindex","stopMousedown","FocusSchema","Focusing","updateAriaState","toggleConfig","toggleState","ariaInfo","aria","updateClass","toggleClass","toggle$2","set$1","ToggleApis","toggle","isOn","ActiveToggle","executor","load","toggleOnExecute","updateExpanded","status","ToggleSchema","pressed","syncWithExpanded","checked","expanded","Toggling","pointerEvents","onClick","events$a","optAction","hoverEvent","focusEvent","onHover","onFocus$1","hover","focus$1","schema$p","toggling","hasSubmenu","itemBehaviours","tConfig","ignoreFocus","schema$o","owner$2","parts$h","schema$n","focusWidget","widget","onHorizontalArrow","autofocus","setSource","_widget","widgetBehaviours","itemSchema$2","separator","parts$g","itemInfo","builder","unit","fakeFocus","markers","schema$m","grid","movementInfo","rowSelector","Menu","_spec","_externals","menuBehaviours","selectedItem","role","trace","byItem","byMenu","triggerItem","triggerMenu","generate$2","menus","expansions","menuItems","menuPaths","_triggerItem","extractPreparedMenu","prep","LayeredState","primary","directory","getTriggerData","menuValue","getItemByValue","getPreparedMenu","getTriggeringItem","triggeringItemValue","triggeredItem","triggeredMenu","triggeringItem","triggeringPath","lookupMenu","lookupItem","itemValue","setMenuBuilt","menuName","setContents","sPrimary","sMenus","sExpansions","sPaths","expand","refresh","collapse","otherMenus","menuValues","getPrimary","getMenus","isClear","getTriggeringPath","extraPath","revPath","menuIndex","collapseItem$1","tieredMenu","collapseMenu","tmenu","highlightPrimary","repositionMenus","_rawUiSpec","ExpandHighlightDecision","submenuParentItems","layeredState","setup","componentMap","primaryName","makeSketch","nbMenu","buildMenus","toDirectory","getItemValue","_container","_menuName","setActiveMenu","mv","closeOthers","others","backgroundMenu","stayInDom","updateAriaExpansions","parentItems","itemComp","getSubmenuParents","updateMenuPath","latestMenuName","menuPrep","activeMenu","expandRight","HighlightSubmenu","activeMenuPrep","buildIfRequired","onOpenSubmenu","collapseLeft","onCollapseMenu","keyOnItem","getSource","onExecute","onOpenMenu","highlightImmediately","navigateOnHover","updateView","HighlightParent","getActiveItem","currentItem","maybeActivePrimary","allMenus","preparedMenus","extractMenuFromContainer","primaryMenu","onRepositionMenu","tmenuBehaviours","_keyInfo","selectedMenu","tieredData","singleData","collapseItem","InlineView","showWithin","thing","showWithinBounds","lazySink","showMenuWithinBounds","menuSpec","menuSandbox","getSubmenuLayouts","triggeringPaths","isFirstTierSubmenu","submenuTriggers","st","submenuLayouts","makeMenu","showAt","showMenuAt","hide","getContent","inlineBehaviours","getRelated","isPartOfRelated","onShow","onHide","fireDismissalEventInstead","fireRepositionEventInstead","westEdgeX","middleX","eastEdgeX","northY","southY","centreY","lookupPreserveLayout","preserve","lookupFlippedLayout","flip$2","global$f","Button","lookupAttr","buttonBehaviours","roleAttrs","getModAttributes","record","isSketchSpec","anyInSystem","asSpec","global$e","rtlTransform","defaultIconName","defaultIcon","getIconName","lcName","rtlName","addToEnd","ensureTrailing","lookupIcon","get$1","iconProvider","addFocusableBehaviour","svg","renderIcon$2","iconName","fallbackIcon","rtlIconClasses","needsRtlTransform","iconHtml","render$3","notificationIconMap","warning","Notification","iconNames","memBannerText","translationProvider","renderPercentBar","percent","renderPercentText","memBannerProgress","progress","updateProgress","updateText","text$1","banner","iconChoices","icon","level","memButton","onAction","notificationIconSpec","closeButton","NotificationManagerImpl","editor","extras","uiMothership","sharedBackstage","backstage","shared","settings","closeCallback","hideCloseButton","timeout","notificationWrapper","notification","progressBar","providers","getSink","header","isPositionedAtTop","contentArea","getContentAreaContainer","win$1","moveTo","moveRel","notificationSpec","anchorOverrides","layoutDirection_1","getLayoutDirection","nodeAnchor","anchors","nuText","getEl","notifications","getArgs","ItemResponse","rate","cancel","throttle","global$d","repeatLeft","rootNode","isBlock","getContentEditable","isBoundary","backwards","create$4","getNode","getDoc","extractContents","insertNode","elm","normalize","last$1","setCursorLocation","getEnd","getText","isWhitespace","chr","stripTriggerChar","triggerCh","findStart","initRange","minChars","getParent","getRoot","char","charAt","findChar","cloneRange","lastIndexOf","triggerChar","getContext","createRng","selectNode","AutocompleterEditorEvents","onKeypress","redirectKeyToItem","getItem","getView","isActive","cancelIfNecessary","isMenuOpen","stopImmediatePropagation","isProcessingAction","global$c","toLast","isText","toLeaf","isElement$1","isStartOfWord","isPreviousCharContent","lookup$2","getDatabase","database","getRng","triggerChars","getTriggerContext","context","lookupWithContext","fetchOptions","startText","autocompleters","lookupByChar","autocompleter","lookupData","ac","fetch","maxResults","then","matchText","columns","highlightOn","separatorMenuItemSchema","autocompleterItemSchema","autocompleterSchema","baseToolbarButtonFields","toolbarButtonSchema","createToolbarButton","baseToolbarToggleButtonFields","toggleButtonSchema","createToggleButton","contextBarFields","contextButtonFields","contextToggleButtonFields","launchButtonFields","launchToggleButtonFields","toggleOrNormal","contextformbutton","contextformtogglebutton","contextFormSchema","contextToolbarSchema","register$b","popups","ui","registry","getAll","popup","stringArray","datasetValues","dv","ToolbarMode","ItemResponse$1","navClass","selectableClass","colorClass","presetClasses","normal","color","tickedClass","iconClass","textClass","caretClass","activeClass","containerClass","containerRowClass","classForPreset","presets","forMenu","hasIcons","menuClasses","dom$1","chunk","rowDom","chunks","preprocessCollection","isSeparator","allSplits","currentSplit","forCollection","initItems","_hasIcons","_item","menuHasIcons","handleError","createHorizontalPartialMenuWithAlloyItems","_columns","_presets","structure","createPartialMenuWithAlloyItems","forSwatch","forToolbar","cardImageFields","cardImageSchema","cardTextFields","cardTextSchema","itemSchema$1","cardimage","cardtext","cardcontainer","cardContainerSchema","commonMenuItemFields","cardMenuItemSchema","choiceMenuItemSchema","baseFields","insertTableFields","colorSwatchFields","fancyMenuItemSchema","inserttable","colorswatch","menuItemSchema","nestedMenuItemSchema","toggleMenuItemSchema","detectSize","margin","selectorClass","descendants$1","columnLength","thisTop","cTop","abs","ceil","namedEvents","SimpleBehaviours","ExclusivityChannel","ShowTooltipEvent","HideTooltipEvent","hideAllExclusive","_tConfig","_tState","TooltippingApis","setComponents","tState","specs","getTooltip","tooltip","ActiveTooltipping","tooltipConfig","clearTooltip","clearTimer","resetTimer","isShowing","tooltipDom","tooltipComponents","setTooltip","show","TooltippingSchema","Tooltipping","global$b","global$a","getHeightSetting","getParam","getElement","getWidthSetting","DOM","getStyle","getMinWidthSetting","getMinHeightSetting","getMaxWidthSetting","getMaxHeightSetting","isMenubarEnabled","isToolbarEnabled","toolbar","isToolbarTrue","isToolbarString","isToolbarObjectArray","isMultipleToolbars","getMultipleToolbarsSetting","toolbars","toolbarArray","ToolbarLocation","getToolbarMode","_a$1","getToolbarLocation","auto","isToolbarLocationBottom","fixedContainerTarget","inline","fixedContainerSelector","fixedToolbarContainerTarget","useFixedContainer","getUiContainer","isDistractionFree","isStickyToolbar","getMenubar","getAnchorTop","getAnchorBottom","ReadOnlyChannel","ReadOnlyDataSchema","broadcastReadonly","uiComponents","readonly","outerContainer","mothership","setupReadonlyModeSwitch","isReadOnly","setMode","receivingConfig","DisablingConfigs","runWithApi","getApi","onControlAttached","editorOffCell","onDestroy","onSetup","onControlDetached","onMenuItemExecute","itemResponse","triggersSubmenu","CLOSE_ON_EXECUTE","menuItemEventOrder","componentRenderPipeline","renderCommonItem","providersbackstage","optComponents","buildData","global$9","convertText","mac","alt","ctrl","shift","access","shortcut","updated","segment","renderIcon$1","renderText","renderHtml","renderStyledText","renderShortcut","renderCheckmark","renderColorStructure","providerBackstage","baseDom","itemText","ariaLabel","iconSvg","iconContent","title","renderItemDomStructure","domTitle","renderItemStructure","providersBackstage","renderIcons","iconSpec","leftIcon","checkmark","checkMark","textRender","htmlContent","shortcutContent","caret","renderNormalItemStructure","tooltipBehaviour","tooltipWorker","_tooltip","replaceText","encoded","encode","encodeText","escapedMatchRegex","RegExp","escape","render$2","directionClass","alignClass","align","valign","getValignClass","renderContainer","src","renderImage","shouldHighlight","cardText","parts$f","hexColour","shorthandRegex","longformRegex","isHexString","hex","normalizeHex","numChars","removeFromStart","removeLeading","toUpperCase","extractValues","longForm","hexString","m","getLongForm","splitForm","exec","toHex","fromRgba","rgbaColour","red","green","blue","round$1","rgbRegex","rgbaRegex","alpha","isRgbaComponent","fromHsv","hsv","hue","saturation","brightness","side","chroma","fromHex","fromStringValues","fromString","rgbaString","rgbMatch","rgbaMatch","rgba","fireResizeContent","fire","hsvColour","fromRgb","minRGB","maxRGB","hsvToHex","anyToHex","canvas","canvasContext","clearRect","fillStyle","fillRect","getImageData","global$8","storageName","FocusMode","choiceItem","defaultColors","colorCache","storageString","localstorage","cache","idx","splice","unshift","pop","setItem","ColorCache","hasCustomColors$1","getColors$2","unmapped","getColorMap","colorMap","colors","mapColors","addColor","fallbackColor","getColorCols$1","defaultCols","sqrt","calcCols","getColorCols$2","getAdditionalColors","hasCustom","applyColor","format","onChoice","colorPickerDialog","dialog","colorOpt","execCommand","getColors$1","getFetch$1","callback","setIconColor","splitButtonApi","newColor","setIconFill","registerTextColorButton","lastColor","addSplitButton","select","optCurrentRgb","getParents","getCurrentColor","currentRgb","currentHex","_splitButtonApi","onItemAction","fireTextColorChange","registerTextColorMenuItem","addNestedMenuItem","getSubmenuItems","fancytype","isValid","initialData","colorpicker","windowManager","buttons","_api","details","onSubmit","getData","alert","onCancel","createPartialChoiceMenu","onItemValueHandler","alloyItems","createChoiceItems","itemPresets","useText","isSelected","setActive","setDisabled","renderChoiceItem","deriveMenuMovement","menuMarkers","getColorItems","useCustomColors","initData","allowCustomColors","colorinput","hasCustomColors","getColors","cellOverEvent","cellExecuteEvent","makeCell","col","labelId","se","makeComponents","cells","cellRow","makeLabelText","fancyMenuItems","sizeLabelId","makeCells","emptyLabelText","memLabel","selectedRow","selectedColumn","selectCells","getColorCols","widgetSpec","autocomplete","separator$3","nested","downwardsCaret","renderSubmenuCaret","toggle$1","fancy","render","card","createMenuItemFromBridge","isHorizontalMenu","parseForHorizontalMenu","menuitem","createNestedMenuItem","createToggleMenuItem","createSeparatorMenuItem","createFancyMenuItem","createAutocompleteItems","createCardMenuItem","createAutocompleterItem","createPartialMenu","createItem","itemHasIcon","createTieredDataFrom","partialMenu","Autocompleter","activeAutocompleter","processingAction","hideIfNecessary","lastElement","getAutocompleters","display","matchLength","ld","focusMode","ContentFocus","createMenuFrom","newContext","doLookup","lookupInfo","commenceIfNecessary","combinedItems","choices","itemMeta","nr","autocompleterApi","reload","BUBBLE_TO_SANDBOX","autocompleterUiApi","hasPlugin","closest","DelayedFunction","fun","ref","schedule","getTouch","touches","monitor","startData","longpressFired","longpress$1","touch","distX","distY","isFarEnough","fireIfReady","setup$d","rawSettings","stopBackspace","tapEvent","simpleEvents","tapStopped","pasteTimeout","onPaste","onKeydown","isDangerous","onFocusIn","bindFocus","focusoutTimeout","onFocusOut","bindBlur","derive","rawTarget","adt$1","stopped","resume","complete","doTriggerHandler","eventType","isStopped","isCut","fromSource","handlerInfo","eventHandler","doTriggerOnUntilStopped","listeners","_logger","fromExternal","listener","triggerOnUntilStopped","EventRegistry","registerId","extraArgs","curryArgs","unregisterId","handlersById","_eventName","filterByType","broadcastHandler","isAboveRoot","findHandler","Registry","readOrTag","unregister","tagId","register","conflict","failOnDuplicate","getById","Container","domWithoutAttributes","containerBehaviours","takeover","domEvents","triggerUntilStopped","_alloyId","triggerHandler","broadcast$1","broadcastData","receivers","receiver","schema$l","parts$e","excludeFactory","FormField","fieldBehaviours","descriptor","descriptorId","getField","getLabel","ActiveTabstopping","tabConfig","tabAttr","TabstopSchema","Tabstopping","global$7","renderFormFieldWith","pLabel","pField","extraClasses","extraBehaviours","renderFormFieldSpecWith","renderFormFieldDomWith","renderLabel$2","formChangeEvent","formCloseEvent","formCancelEvent","formActionEvent","formSubmitEvent","formBlockEvent","formUnblockEvent","formTabChangeEvent","formResizeEvent","renderCollection","runOnItem","tgt","collectionEvents","currentActive","iterCollectionItems","applyAttributes","childElm","htmlLines","mapItemName","encodeAllRaw","schema$k","focusBehaviours","selectOnFocus","setSelectionRange","inputBehaviours","inputAttributes","inputStyles","inputClasses","Input","exports$1","exports","define","require","global","amd","globalThis","EphoxContactWrapper","commonjsGlobal","promise","setTimeoutFunc","Promise","TypeError","_handled","_value","_deferreds","doResolve","deferred","_immediateFn","cb","onFulfilled","onRejected","reject","finale","thisArg","_unhandledRejectionFn","Handler","done","reason","ex","prom","remaining","race","setImmediate","_setImmediateFn","_setUnhandledRejectionFn","promisePolyfill","boltExport","HighlightOnOpen","Promise$1","nu$3","baseFn","callbacks","nCallback","isReady","cbs","LazyValue","pure","errorReporter","make$5","aFutureB","toPromise","anonBind","futureB","toLazy","toCached","Future","ariaElements","isAriaElement","markValid","invalidConfig","invalidClass","notify","notifyInfo","getContainer","validHtml","onValid","markInvalid","invalidState","onInvalid","_invalidState","validatorInfo","validate","onValidate","valid","InvalidateApis","isInvalid","ActiveInvalidate","onEvent","validateOnLoad","InvalidateSchema","Invalidating","validation","CouplingApis","getCoupled","coupleConfig","coupleState","getOrCreate","CouplingSchema","CouplingState","coupled","Coupling","partType$1","kernel","colorFn","getAnchor","getHotspot","getAnchorOverrides","mapFetch","onOpenSync","highlightOnOpen","processed","futureData","fetcher","getLazySink","tdata","HighlightFirst","openF","_onOpenSync","_highlightOnOpen","togglePopup","matchWidth","useMinWidth","buttonWidth","set$6","sinkDetail","internalSink","lazySinkFn","doRepositionMenus","makeSandbox$1","ariaOwner","sandboxClasses","sandboxBehaviours","sandboxFields","schema$j","parts$d","Dropdown","switchToMenu","HighlightNone","triggerExecute","dropdownBehaviours","ActiveUnselecting","unselectable","Unselecting","colorInputChangeEvent","colorSwatchChangeEvent","colorPickerCancelEvent","renderColorInput","colorInputBackstage","inputValue","span","emitSwatchChange","colorBit","memColorButton","renderPanelButton","colorPicker","valueOpt","colorButton","_field","labelPart","edgePart","model","edgeActions","det","mouseIsDown","tlEdgePart","tedgePart","trEdgePart","redgePart","brEdgePart","bedgePart","blEdgePart","ledgePart","thumbPart","spectrumPart","getValueFromEvent","spectrum","SliderParts","sliderChangeEvent","getEventSource","evt","isTouchEvent$2","touchEvent","mouseEvent","minX","minY","min1X","min1Y","max1X","max1Y","xRange","yRange","halfX","halfY","step","stepSize","snap","snapToGrid","snapStart","rounded","hasEdge","edgeName","hasLEdge","hasREdge","hasTEdge","hasBEdge","currentValue","xValue","yValue","xyValue","fireSliderChange$3","reduceBy","increaseBy","capValue","findValueOf","hasMinEdge","hasMaxEdge","minBound","maxBound","screenRange","capMin","capMax","findOffsetOf","initValue","extraValue","remainder","adjustment","rawSteps","maxSteps","snapValueOf","findOffsetOfValue$2","maxOffset","centerMinEdge","centerMaxEdge","getBoundsProperty","getMinXBounds","getMaxXBounds","getMinYBounds","getMaxYBounds","getXScreenRange","getYScreenRange","getCenterOffsetOf","componentMinEdge","componentMaxEdge","spectrumMinEdge","getXCenterOffSetOf","componentBounds","spectrumBounds","getYCenterOffSetOf","fireSliderChange$2","sliderValue$2","findValueOfOffset$1","handleMovement$2","moveBy$2","findPositionOfValue$1","slider","minEdge","maxEdge","minOffset","findOffsetOfValue$1","onLeft$2","onRight$2","onUp$2","onDown$2","edgeActions$2","HorizontalModel","sliderVal","setToMin","setToMax","findValueOfOffset","findPositionOfValue","setPositionFromValue","thumb","edges","getSpectrum","getLeftEdge","getRightEdge","thumbRadius","fireSliderChange$1","sliderValue$1","handleMovement$1","moveBy$1","findOffsetOfValue","onLeft$1","onRight$1","onUp$1","onDown$1","edgeActions$1","VerticalModel","getTopEdge","getBottomEdge","fireSliderChange","sliderValue","handleMovement","isVerticalMovement","moveBy","TwoDModel","mX","mY","xPos","yPos","thumbXRadius","thumbYRadius","Slider","getThumb","modelDetail","choose","wasDown","onChoose","onDragStart","onDragEnd","sliderBehaviours","onChange","changeValue","getInitialValue","onInit","resetToMin","resetToMax","fieldsUpdate","sliderUpdate","paletteUpdate","owner$1","schema$i","getPartName$1","make$4","formBehaviours","form","resPs","resPThunk","pName","Form","fSpec","fieldParts","validInput","invalidInput","validatingInput","translatePrefix","rgbFormFactory","getClass","onValidHexx","onInvalidHexx","invalidation","renderTextField","description","helptext","comps","concats","copyRgbToForm","rgb","memPreview","updatePreview","preview","rgbFormSketcher","setValueRgb","onInvalidInput","onValidRgb","hexField","copyRgbToHex","onValidInput","isHexInputEvent","onValidHex","formPartStrings","redStrings","greenStrings","blueStrings","hexStrings","updateHex","copyHexToRgb","paletteFactory","_translate","setColour","ctx","grdWhite","createLinearGradient","addColorStop","grdBlack","saturationBrightnessPaletteSketcher","_detail","_thumb","_slider","setHue","_apis","setPaletteHue","setThumb","setPaletteThumb","makeFactory","colourPickerSketcher","updates","rgbForm","onInvalidHex","sbPalette","hueDegreesToSlider","paletteRgba","paletteHue","memSlider","sliderFactory","memPalette","memRgb","updatePalette","_hex","palette","updateFields","updateSlider","updatePaletteThumb","runUpdates","updateState","hexToHsv","oldHue","newHsv","newHex","onPaletteUpdate","hueSliderToDegrees","oldRgb","oldHsv","onSliderUpdate","ComposingConfigs","mem","english","translate$1","getEnglishText","global$6","global$5","processors","withComp","optInitialValue","getter","setter","withElement","RepresentingConfigs","rawProcessors","other","rawValue","postprocess","renderDropZone","actions","onDrop","transferEvent","handleFiles","dataTransfer","files","onSelect","allowedImageFileTypes","explode","getSetting","file","filterByExtension","memInput","accept","beforeObject","afterObject","craftWithClasses","outline","craft","triggerTab","targetComp","isPseudoStop","platformNeedsSandboxing","renderIFrame","isSandbox","sandboxed","sourcing","cachedValue","_frameComponent","frameComponent","contentWindow","getDynamicSource","create$3","resize$3","tCanvas","get2dContext","drawImage","getWidth$1","image","naturalWidth","getHeight$1","naturalHeight","dataUriToBlob","uri","mimetype","base64","sliceSize","byteCharacters","atob","bytesLength","slicesCount","byteArrays","sliceIndex","begin","end","bytes","charCodeAt","Uint8Array","Blob","dataUriToBlobSync","canvasToBlob","quality","HTMLCanvasElement","toBlob","toDataURL","blobToCanvas","blobUrl","createObjectURL","Image","removeListeners","loaded","blobToImage","revokeImageUrl","revokeObjectURL","create$2","getCanvas","initialType","getType","toAdjustedDataURL","canvasToDataURL","toBase64","toAdjustedBlob","toAdjustedBase64","dataurl","toCanvas","fromBlob","reader","FileReader","onloadend","readAsDataURL","blobToDataUri","fromCanvas","clamp","parsedValue","DELTA_INDEX","multiply","matrix1","matrix2","out","colorFilter","ir","applyColorFilter","pixels","pixelsData","m0","m1","m2","m3","m4","m5","m6","m7","m8","m9","m10","m11","m12","m13","m14","m15","m16","m17","m18","m19","applyMatrix","putImageData","applyConvoluteFilter","pixelsIn","pixelsOut","pIn","pOut","aMatrix","halfSide","drgba","cy","cx","scx","innerOffset","wt","complexAdjustableColorFilter","matrixAdjustFn","adjust","invert$1","basicColorFilter","brightness$1","contrast$1","colorize$1","adjustR","adjustG","adjustB","adjustColors","sharpen$1","convoluteFilter","gamma$1","pow","applyLookup","filterImpl","scale","dW","dH","sW","sH","wRatio","hRatio","scaleCapped","scaled","_scale","ceilWithPrecision","precision","mul","upper","applyRotate","angle","rad","PI","sin","cos","newWidth","newHeight","rotate","applyFlip","axis","applyCrop","invert","sharpen","gamma","contrast","flip","flip$1","crop","crop$1","resize$1","newCanvas","resize$2","rotate$1","renderIcon","iconsProvider","renderIconFromPack","renderReplacableIconFromPack","renderLabel$1","internalToolbarButtonExecute","toolbarButtonEventOrder","updateMenuText","updateMenuIcon","renderCommonDropdown","optMemDisplayText","optMemDisplayIcon","onLeftOrRightInMenu","dropdown","tooltipAttributes","translatedTooltip","displayText","displayIcon","isSeparator$1","separator$2","unwrapReferences","realItems","isMenuItemReference","getFromItem","isExpandingMenuItem","submenuItems","getFromExpandingItem","itemWithValue","generateValueIfRequired","newData","mainMenu","submenus","getMenuButtonApi","renderMenuButton","_comp","getFetch","getButton","getMenuItemAction","storage","orig","getMenuItemSetup","renderCommonSpec","actionOpt","common","domFinal","renderIconButtonSpec","renderIconButton","iconButtonSpec","renderButtonSpec","translatedText","borderless","renderButton","buttonSpec","getAction","buttonType","renderFooterButton","isMenuFooterButtonSpec","menuButtonSpec","fixedSpec","memButton_1","isNormalFooterButtonSpec","renderDialogButton","schema$h","coupledPart","selfName","otherName","lock","onLockedChange","parts$c","locked","lockClass","FormCoupledInputs","coupledFieldBehaviours","field1Name","field1","field2Name","field2","getField1","getField2","getLock","parseSize","sizeText","convertUnit","inInch","noSizeConversion","_input","makeRatioConverter","currentFieldText","otherFieldText","cValue","oValue","cSize","oSize","ratioSizeConversion","renderSizeInput","converter","ratioEvent","makeIcon","pLock","formGroup","getFieldPart","isField1","widthField","heightField","_lock","newSize","unitDec","numText","formatSize","optCurrent","optOther","value1","value2","internal","undo","redo","zoom","back","swap","tempTransform","transformApply","saveState","renderEditPanel","imagePanel","createButton","createIconButton","disableAllComponents","eventcomp","enableAllComponents","panelDom","noop$1","emit$1","emitDisable","emitEnable","emitTransform","getBackSwap","memContainer","ButtonPanel","emitTransformApply","createBackButton","button","createSpacer","createApplyButton","cropPanelComponents","getRect","hideCrop","CropPanel","memSize","constrain","resizePanelComponents","sizeInput","makeResizeTransform","ResizePanel","makeValueTransform","horizontalFlip","verticalFlip","counterclockwiseRotate","clockwiseRotate","flipRotateOnAction","operation","emitTempTransform","flipRotateComponents","FlipRotatePanel","makeSlider","makeVariableSlider","valTransform","createVariableFilterPanel","filterPanelComponents","variableFilterPanelComponents","FilterPanel","BrightnessPanel","ContrastPanel","GammaPanel","makeColorTransform","colorize","makeColorSlider","redOpt","memRed","blueOpt","memBlue","greenOpt","memGreen","colorizePanelComponents","ColorizePanel","getTransformPanelEvent","panel","sharpenTransform","invertTransform","buttonPanelComponents","_anyInSystem","showCrop","measurements","getMeasurements","getApplyButton","global$4","global$3","global$2","updateWithTouchData","changedTouches","isTouchEvent$1","DragHelper","_c","eventOverlay","downButton","startX","startY","handleEvents","overlayEvents","sugarDoc","handleElement","getElementById","docSize","scrollWidth","scrollHeight","getDocumentSize","screenX","screenY","cursor","drag","deltaX","deltaY","CropRect","currentRect","viewPortRect","clampRect","containerElm","dragHelpers","handles","xMul","yMul","deltaW","deltaH","blockers","getRelativeRect","outerRect","innerRect","moveRect","startRect","instance","setInnerRect","repaint","updateElementRect","newRect","setRect","relativeRect","cropContainer","blocker","blockerElm","cropBlocker","handleElm","cropHandle","handleFocus","activeHandle","moveAndBlock","keyCode","SPACEBAR","toggleVisibility","elems","setClampRect","getInnerRect","setViewPortRect","helper","renderImagePanel","initialUrl","memBg","zoomState","cropRect","rectState","viewRectState","repaintImg","img","panelW","panelH","bg","cRect","updateSrc","url","aImg","lastViewRect","viewRect","inflate","zoomFit","currentZoom","newZoom","setButtonEnabled","enabled","Delimiter","makeState","canUndo","canRedo","blobState","tempState","undoStack","removed","setBlobState","createState","destroyState","destroyTempState","addBlobState","states","getBlobState","getTempState","updateTempState","newTempState","addTempState","applyTempState","postApply","temp","currentState","getHistoryStates","undoEnabled","redoEnabled","renderImageTools","updateButtonUndoStates","historyStates","sideBar","imageResultToBlob","block","unblock","editPanel","applyButton","blobManipulate","blobToImageResult","catch","manipulate","currentUrl","memUndo","memRedo","renderSideBar","_oImg","tempManipulate","manipulateApply","disableUndoRedo","isSingleListItem","dataAttribute","fetchItems","dropdownComp","selectedValue","findItemByValue","HtmlSelect","initialValues","selectClasses","selectAttributes","selectBehaviours","baseInputBehaviours","multiline","validatingBehaviours","vl","inputMode","inputmode","classname","extraClasses2","flex","maximized","ActiveStreaming","streamConfig","streamState","processor","stream","streams","cancelEvent","_config","setTimer","StreamingState","StreamingSchema","streamInfo","sInfo","throttler","onStream","stopEvent","Streaming","setValueFromItem","itemData","setCursorAtEnd","setSelectionOn","attemptSelectOver","selectsOver","inputDisplay_1","getDisplayText","setSelectionToEnd","itemExecute","schema$g","parts$b","previewing","populateFromBrowse","typeahead","Typeahead","navigateList","highlighter","focusBehaviours$1","responseTime","previousValue_1","pv","sandboxIsOpen","openClass","onItemExecute","dismissOnBlur","typeaheadBehaviours","wrap","bindFuture","resA","bindResult","mapResult","foldResult","whenError","whenValue","withTimeout","errorThunk","timedOut","nu$1","worker","FutureResult","separator$1","toMenuItem","staticMenuItem","filteredTargets","targets","toMenuItems","filterLinkTargets","headerTargets","linkInfo","anchorTargets","anchorTargetTop","anchorTop","anchorTargetBottom","anchorBottom","filterByQuery","term","lowerCaseTerm","getItems","fileType","urlBackstage","urlInputValue","getLinkInformation","history","historyTargets","getHistory","errorId","make$2","factories","bar","interpreter","renderBar","collection","alertbanner","iconTooltip","renderAlertBanner","renderInput","textarea","renderTextarea","backstageShared","renderLabel","iframe","iframeSpec","makeIframe","checkbox","repBehaviour","toggleCheckboxHandler","className","memIcons","renderCheckbox","colourPickerFactory","memPicker","picker","dropzone","renderGrid","listbox","initialItem","sketchSpec","listBoxWrap","renderListBox","selectbox","translatedOptions","chevron","selectWrap","renderSelectBox","sizeinput","urlinput","updateHistory","urlEntry","addToHistory","filetype","memUrlBox","_newValue","getValidationHandler","memInvalidIcon","invalidComp","completer","_menu","_entry","errId","memStatus","optUrlPicker","getUrlPicker","browseUrlEvent","memUrlPickerButton","componentData","urlData","fieldname","chosenData","renderUrlInput","customeditor","editorApi","memReplaced","ta","isOldCustomEditor","scriptId","scriptUrl","ea","cvalue","ed","htmlpanel","imagetools","table","renderTh","renderTd","renderTr","renderTable","renderPanel","noFormParts","interpretInForm","oldBackstage","newBackstage","interpretParts","bubbleAlignments$2","valignCentre","alignCentre","alignLeft","alignRight","getInlineDialogAnchor","contentAreaElement","lazyAnchorbar","lazyUseEditableAreaAnchor","getBannerAnchor","getCursorAnchor","bodyElement","getNodeAnchor$1","getAnchors","isToolbarTop","useFixedToolbarContainer","inlineDialog","ColorInputBackstage","isDraggableModal","isDraggableModal$1","DialogBackstage","defaultStyleFormats","mapFormats","userFormats","fmt","customFormats","formats","isInlineFormat","isBlockFormat","isSelectorFormat","formatNameWithPrefix","getStyleFormats","getUserStyleFormats","registeredUserFormats","registerFormats","formatter","registerCustomFormats","isMergeStyleFormats","processBasic","isSelectedFor","getPreviewFor","formatterSpec","getStylePreview","register$8","doEnrich","newItems","enrichMenu","getStyleItems","enrichSupported","formatName","customSpec","newItem","enrichCustom","init$8","parseStyle","getCssText","settingsFormats","settingsFlattenedFormats","eventsFormats","eventsFlattenedFormats","replaceSettings","_e","enriched","modifications","fromSettings","fromEvents","getFlattenedKeys","hasContentEditableState","isElement","contentEditable","isContentEditableTrue","isContentEditableFalse","create","getElementText","innerText","isValidAnchor","isAnchor","isEditable","isHeader","isChildOfContentEditableTrue","isValidHeader","headerTarget","headerId","getOrGenerateId","getLevel","anchorTarget","anchorId","anchorText","getTargetElements","elms","hasTitle","LinkTargets","getHeaderTargets","getAnchorTargets","STORAGE_KEY","isHttpUrl","isRecordOfUrlArray","getAllHistory","unparsedHistory","SyntaxError","itemsWithoutUrl","setAllHistory","isTruthy","makeMap","getPicker","getFilePickerCallback","getPickerSetting","pickerTypes","optFileTypes","getFilePickerTypes","optLegacyTypes","getFileBrowserCallbackTypes","optTypes","_picker","types","getPickerTypes","getTextSetting","UrlInputBackstage","noTypeaheadUrls","getFilePickerValidatorHandler","entry","init$7","contextMenuState","getDockingMode","setDockingMode","HeaderBackstage","interpretWithoutForm","styleselect","isContextMenuOpen","setContextMenuState","parts$a","partType","schema$f","itemsPart","parts$9","CustomList","_external","shell","getListContainer","listBehaviours","setItems","itemComps","numListsRequired","numListsToAdd","itemsToAdd","makeItem","itemsToRemove","builtLists","setupItem","schema$e","parts$8","Toolbar","getGroupContainer","toolbarBehaviours","setGroups","groups","setup$a","isDocked$2","getBehaviours$1","StaticHeader","isDocked","getBehaviours","getOffsetParent","offsetParent$1","getOrigin","morphAdt","static","appear","contextualInfo","transitionClass","fadeOutClass","fadeInClass","disappear","isVisibleForModes","isBottomCompletelyVisible","isTopCompletelyVisible","getPrior","getInitialPos","revertToOriginal","clearInitialPos","offsetBox_1","_left","_top","_right","_bottom","morphToFixed","getModes","setInitialPos","storePrior","winBox","top_1","isTop","getMorph","morphToOriginal","morphToStatic","setDocked","onUndocked","morphToCoord","onDocked","updateVisibility","morphToDocked","contextual","contextInfo","lazyContext","isPartiallyVisible","setVisible","resetInternal","getMorphToOriginal","morph","refresh$4","lazyViewport","refreshInternal","DockingApis","setModes","ActiveDocking","dockInfo","dockState","onShown","onHidden","DockingSchema","Docking","docked","visible","initialBounds","toolbarHeightChange","visibility","editorStickyOnClass","editorStickyOffClass","isDockedMode","updateIframeContentFlow","parentElem","padding","parentWidth","getOccupiedHeight","updateSinkVisibility","sinkElem","updateEditorClasses","editorContainer","focusedElm","runOnSinkElement","onDockingSwitch","additionalBehaviours","getIframeBehaviours","headerHeight","boxHeight","topBound","headerElem","focusedElem","ownerDoc","activeElm","rootElm","findFocusedElem","getStickyToolbarOffset","StickyHeader","lazyHeader","containerHeader","viewHeight","innerHeight","scrollPos","markerElement","markerPos","markerHeight","markerTop","markerBottom","editorHeaderPos","editorHeaderHeight","editorHeaderTop","editorHeaderBottom","editorHeaderDockedAtTop","editorHeaderDockedAtBottom","scrollFromBehindHeader","groupToolbarButtonSchema","baseMenuButtonFields","MenuButtonSchema","createMenuButton","splitButtonSchema","SilverMenubar","setMenus","newMenus","activeButton","hoveredButton","activeComp","hoveredComp","prev","getAnimationRoot","slideConfig","getDimensionProperty","dimension","getDimension","disableTransitions","shrinkingClass","growingClass","setShrunk","closedClass","setGrown","doImmediateShrink","slideState","_calculatedSize","setCollapsed","onStartShrink","onShrunk","doStartShrink","calculatedSize","doStartSmartShrink","doStartGrow","wasShrinking","beforeSize","fullSize","setExpanded","onStartGrow","isGrowing","_slideState","isShrinking","SlidingApis","isExpanded","grow","shrink","immediateShrink","hasGrown","hasShrunk","isCollapsed","isTransitioning","toggleGrow","ActiveSliding","onGrown","SlidingSchema","Sliding","schema$d","getPartName","make$1","getSlotNames","onSlot","def","slot","doShowing","_key","hideSlot","hideSlots","showSlot","getSlot","hideAllSlots","slotBehaviours","slotApis","SlotContainer","sSpec","sidebarSchema","makePanels","panelConfigs","bridged","createSidebar","sidepanel","optSidePanelSpec","sidePanelSpec","makeSidebar","slotContainer","whichSidebar","sidebar","fixSize","autoSize","BlockingApis","getBusySpec","blockerBehaviours","blockSpec","isBlocked","onBlock","blockWith","onUnblock","BlockingSchema","Blocking","getAttrs","focusBusyComponent","throbber","toggleThrobber","tabIndexAttr","dataTabIndexAttr","iframeElement","tabIndex","toggleEditorTabIndex","_root","_behaviours","getBusySpec$1","throbberFocus","busyComp","setup$7","lazyThrobber","throbberState","stealFocus","isFocusEvent","targetElm","editorManager","command","setEditorTimeout","within","withinWidth","apportion","total","parray","generate$1","toUnit","partition","overflower","divide","tryFit","fitLast","overflow","fitAll","setGroups$1","storedGroups","bGroups","refresh$2","setOverflow","builtGroups","overflowGroup","focusedComp","availableWidth","overflows","schema$c","schema$b","parts$7","expandable","setMax","schema$a","parts$6","toggledClass","toolbarSandbox","bounder","FloatingToolbarButton","makeSandbox","getToolbar","schema$9","parts$5","ToolbarGroup","tgroupBehaviours","itemSelector","buildGroups","refresh$1","memFloatingToolbarButton","overflowGroups","floatingToolbarButton","SplitFloatingToolbar","getOverflowBounds","overflowToggledClass","splitToolbarBehaviours","getOverflow","schema$8","parts$4","onClosed","onOpened","toggleToolbar","overf","SplitSlidingToolbar","toolbarToggleEvent","_button","doSetGroups","renderToolbarGroupCommon","toolbarGroup","renderToolbarGroup","getToolbarbehaviours","toolbarSpec","modeName","onAttached","initGroups","renderMoreToolbarCommon","cyclicKeying","renderFloatingMoreToolbar","baseSpec","moreDrawerData","headerBounds","docElem","docBounds","overflowXOffset","renderSlidingMoreToolbar","renderToolbar","scrolling","partMenubar","partMultipleToolbar","_mToolbar","tc","_index","partToolbar","renderer","sliding","floating","toolbarFactory","lazyToolbar","lazyMoreButton","partHeader","sticky","partSocket","partSidebar","partThrobber","OuterContainer","getSocket","setSidebar","toggleSidebar","getHeader","setToolbar","setToolbars","mToolbar","refreshToolbar","toggleToolbarDrawer","isToolbarDrawerToggled","getThrobber","focusToolbar","setMenubar","menubar","focusMenubar","grps","grp","renderedToolbars","defaultMenus","edit","tools","help","parseItemsString","identifyMenus","rawMenuData","userDefinedMenus","validMenus","isDefaultMenu","menuData","removedMenuItems","getRemovedMenuItems","itemName","removedMenuItem","fireSkinLoaded","_skinLoaded","fireSkinLoaded$1","initialized","loadStylesheet","stylesheetUrl","styleSheetLoader","unload","loadUiSkins","skinUrl","loadShadowDomUiSkins","loadSkin","isInline","skin","skinName","documentBaseURI","baseURL","getSkinUrl","contentCSS","isSkinDisabled","fireSkinLoadError$1","fireSkinLoadError","onSetupFormatToggle","boundCallback","binding","formatChanged","once","onSetupEvent","handleEvent","onActionToggleFormat$1","rawItem","undoManager","transact","onActionExecCommand","generateSelectItems","_editor","generateItem","response","si","invalid","validateItems","preItems","getCurrentValue","shouldHide","createMenuItems","createSelectButton","getComponent","decimalDigits","exponentPart","unsignedDecimalLiteral","ResizeTypes","buildBasicSettingsDataset","settingName","delimiter","rawFormats","SemiColon","alignMenuItems","getSpec$4","_format","alignment","canApply","systemStackFonts","splitFonts","fontFamily","fonts","font","getSpec$3","systemFont","getMatchingValue","getFirstFont","queryCommandValue","matchOpt","isSystemFontStack","legacyFontSizes","keywordFontSizes","toPt","fontSize","factor","getSpec$2","_loop_1","pt","legacy","toLegacy","Space","findNearest","getStyles","getSpec$1","fallbackFormat","getSpec","getFormatItems","flattenedItems","ActiveReflecting","reflectingConfig","reflectingState","renderComponents","newComponents","channel","rawData","ReflectingApis","reflectState","ReflectingSchema","ReflectingState","Reflecting","schema$7","arrowPart","arrow","buttonPart","btn","splitDropdown","parts$3","SplitDropdown","executeOnButton","buttonEvents","splitDropdownBehaviours","getButtonApi","getToggleApi","getTooltipAttributes","focusButtonEvent","renderCommonStructure","_d","renderCommonToolbarButton","specialisation","itemApi","buttonApi","toolbarButtonBehaviours","renderToolbarButtonWith","bonusEvents","renderToolbarToggleButtonWith","fetchChoices","defaultToolbar","renderFromBridge","bridgeBuilder","togglebutton","menubutton","splitbutton","displayChannel","underlinePath","setIconStroke","buttonComp","renderSplitButton","grouptoolbarbutton","TopToBottom","identifyButtons","renderFloatingToolbarButton","allowToolbarGroups","styleSelectButton","createStyleSelect","fontsizeSelectButton","createFontsizeSelect","fontSelectButton","createFontSelect","formatButton","createFormatSelect","alignMenuButton","createAlignSelect","bespokeButtons","fontsizeselect","fontselect","formatselect","createToolbar","toolbarConfig","groupsStrings","filteredItemGroups","subItem","removeUnusedDefaults","isToolbarGroupSettingArray","lookupButton","toolbarItem","prefixes","extractFrom","toolbarGroups","rawUiConfig","toolbarButtonsConfig","detection","isiOS12","Iframe","lastToolbarWidth","eTargetNode","targetNode","uiRoot","attachSystemAfter","innerWidth","initialDocEle","lastWindowDimensions","lastDocumentDimensions","resizeWindow","outer","resizeDocument","docEle","inner","fireScrollContent","elementLoad","setupEvents$1","socket","limit","unbinder","addCommand","_ui","addQueryValueHandler","toolbarMode","iframeContainer","parseToInt","numToPx","calcCappedSize","minSize","maxSize","minOverride","maxOverride","getHeightWithFallback","baseHeight","minHeight","getHeight","getWidth","baseWidth","minWidth","InlineHeader","floatContainer","isSticky","editorMaxWidthOpt","headerBackstage","isSplitToolbar","calcToolbarOffset","tbar","repositionPopups$1","updateChromeUi","resetDocking","bodyMargin","targetBounds","updateChromePosition","floatContainerComp","updateMode","updateUi","currentMode","newMode","toolbar_1","toolbarHeight","docHeight","calcMode","verticalDir","setupMode","addClass","removeClass","getTargetPosAndBounds","Inline","toolbarPersist","isToolbarPersist","uiContainer","prevPosAndBounds","resizeContent","prevPos","prevBounds","hasResized","setupEvents","nodeChanged","hideContextToolbarEvent","runOnExecute","formApi","getFormApi","renderContextToggleButton","renderContextButton","buildInitGroups","commands","findPrimary","mementos","asSpecs","compInSystem","ContextForm","isVerticalOverlap","threshold","getSelectionBounds","leaf$1","getRangeRect","scroll_1","bodyPos","getContextToolbarBounds","toolbarType","viewportBounds","contentAreaBox","toolbarOrMenubarEnabled","getHorizontalBounds","isToolbarLocationTop","headerBox","isToolbarBelowContentArea","isToolbarAbove","containerBounds","getVerticalBounds","bubbleAlignments$1","inset","shouldUseInsetLayouts","determineInsetLayout","contextbar","selectionBounds","isSameAnchorElement","isEntireElementSelected","currentPosition","preservePosition","isReposition","getAnchorSpec$2","mobile","smartInsetLayout","newAnchor","getInsetLayouts","matchTargetWith","ctxs","toolbarApi","contextToolbars","contextForms","matchStartNode","nodeCandidates","editorCandidates","nodeMatches","editorMatches","doesPositionExist","filterToolbarsByPosition","hasSelectionToolbars","hasNodeToolbars","nodeToolbars","selectionToolbars","filterByPositionForStartNode","matchAncestor","startNode","scopes","ancestorElem","inNodeScope","findPosition_1","basePosition","filterByPositionForAncestorNode","categorise","forms","inEditorScope","formNavigators","lookupTable","registerForm","contextForm","launch","registerToolbar","contextToolbar","forwardSlideEvent","backSlideEvent","changeSlideEvent","resizingClass","register$7","registryContextToolbars","lastTrigger","lastContextPosition","currentWidth","newContents","oldContents","forwardContents","canLaunchToolbar","shouldContextToolbarHide","contextToolbarBounds","anchorBounds","getAnchorElementBounds","hideOrRepositionIfNecessary","contextBarEle","wrapInPopDialog","shortcuts","getScopes","alloySpec","buildToolbar","allButtons","default","buildContextToolbarGroups","buildContextFormGroups","anchorLayout","getAnchorLayout","launchContext","launchContextToolbar","isSameLaunchElement","rootElem","isOutsideRoot","lookup$1","toolbarKey","unsupportedLength","pattern","dot","accepted","unitRaw","check","isUnit","registerController","getMenuItems","getOptions","hash","oldApi","unbindWatcher","watcher","setCurrent","addMenuButton","onToolbarSetup","onMenuSetup","lineHeightSpec","normalise","register$5","settingsOpt","getContentLanguages","customCode","code","customValue","ele","lang","languageSpec","register$4","alignSelectMenu","fontSelectMenu","styleSelectMenu","formatSelectMenu","fontsizeSelectMenu","onSetupOutdentState","queryCommandState","register$3","addButton","registerButtons$2","onActionToggleFormat","registerButtons$1","_idx","addToggleButton","name_1","registerFormatButtons","registerCommandButtons","registerCommandToggleButtons","register$2","addMenuItem","registerMenuItems$2","onSetupUndoRedoState","register$1","registerMenuItems$1","registerButtons","onSetupVisualAidState","hasVisual","registerToolbarButton","addToggleMenuItem","registerMenuItems","setup$6","cmd","register$6","applyFormat","removeFormat","registerCommands","lastForeColor","lastBackColor","register$a","isTouchEvent","transposeContentAreaContainer","containerPos","getPos","dx","dy","transpose","getPointAnchor","pageX","pageY","fromPageXY","fromClientXY","getSelectionAnchor","getAnchorSpec$1","anchorType","getNodeAnchor","initAndShow$1","buildMenu","contextmenu","anchorSpec","bubbleAlignments","getAnchorSpec","initAndShow","openiOS_1","originalSelection","selectionReset","setRng","unbindEventListeners","preventMousedown","clearSelectionReset","setupiOSOverrides","touch_1","rngRect","isTouchWithinSelection","patchPipeConfig","shouldNeverUseNative","getContextMenu","defaultItems","contextMenus","makeContextItem","commonMenuItem","addContextMenuGroup","groupItems","lastMenuItem","isTriggeredByKeyboard","pointerType","getSelectedElement","setup$5","hideContextMenu","showContextMenu","isNativeOverrideKeyEvent","isContextMenuDisabled","getAvoidOverlapSelector","getAnchorType","selectedElement","sections","allItems","generateContextMenu","hideEvents","subtract","changes","asFixed","coord","asAbsolute","asOffset","toStyles","stylesOpt","absorb","partialCoord","originalCoord","absorbOne","stencil","optX","optY","parseAttrToInt","NaN","getCoords","snapInfo","snapsInfo","leftAttr","topAttr","moveOrSnap","newCoord","mustSnap","findClosestSnap","findSnap","fixedCoord","spanned","stopDrag","findMatchingSnap","snaps","sensor","inRange","coord1","coord2","withinRange","getSnapPoints","bestSnap","deltas","getDeltas","bestDeltas","DraggingApis","snapTo","dragConfig","getTarget","repositionTarget","origin_1","snapPin","snapTo$1","initialAttribute","instigate","anyComponent","zindex","changeZIndex","discard","zIndex","resetZIndex","createComponent","blockerClass","blockerEvents","SnapSchema","schema$6","getCurrentCoord","oc","location","calcNewCoord","optSnaps","currentCoord","coords","absoluteCoord","newCoords","offset$1","clampCoords","translated","snapping","onSensor","calcStartData","dragState","dragMode","dragStartData","getStartData","dlt","onDrag","dragBy","updateStartState","setStartData","MouseData","getDelta","events$2","stop$1","delayDrop","dragApi","drop","forceDrop","init$2","schema$5","TouchData","getDataFrom","events$1","blockerSingleton","stopBlocking","init$1","mouse","mouseOrTouch","DraggingBranches","DragState","previous","dragEvent","nuData","calculateDelta","Dragging","dragger","calcSnap","selectorOpt","td","snapWidth","selectorHandle","sensorLeft","sensorTop","getSnapsConfig","cellOpt","currentTd","isSameCell","createSelector","setup$4","tlTds","brTds","startCell","finishCell","getTopLeftSnap","memTopLeft","getBottomRightSnap","memBottomRight","topLeftSnaps","bottomRightSnaps","bottomRight","getSnapConfig","isAbove","isBelow","cellRect","viewportHeight","aboveViewport","belowViewport","showOrHideHandle","snapTopLeft","snapBottomRight","otherCells","upOrLeftCells","downOrRightCells","isHidden","renderElementPath","newPathElements","divider","newPath","parents","parent_1","isDefaultPrevented","isPropagationStopped","updatePath","_btn","newAcc","resize","resizeType","originalHeight","originalWidth","Both","getDimensions","dim","fireResizeEditor","keyboardHandler","renderResizeHandler","None","Vertical","getResizeType","_target","renderStatusbar","getTextComponents","replaceCountText","words","characters","currentVal","wordCount","renderWordCount","resizeHandler","getComponents","setup$3","isGridUiContainer","sinkSpec","reactiveWidthSpec","lazyOuterContainer","platformClasses","deviceClasses","isToolbarBottom","dirAttributes","verticalDirAttributes","resizeUiMothership","memAnchorBar","statusbar","socketSidebarContainer","hasMultipleToolbar","hasToolbar","hasMenubar","editorComponents","containerComponents","opacity","border","addQueryStateHandler","ship","fireDismissPopups","onTouchstart","onTouchmove","onTouchend","onMousedown","onMouseup","onContentClick","onContentMouseup","onContentMousedown","loopEditor","relatedTarget","onWindowScroll","onWindowResize","onEditorResize","onEditorProgress","onDismissPopups","setup$b","setEditorSize","parsedHeight","parsedWidth","getWidthWithFallback","renderUI","sidebars","handleToggle","setup$8","getToolbarGroups","toolbarGroupButtonConfig","addGroupToolbarButton","toolbarOpt","getUi","broadcastAll","schema$2","basic","parts$2","dragBlockClass","getDragBounds","ModalDialog","dialogComp","modalEventsId","externalBlocker","blockerDom","getFooter","setIdle","setBusy","modalBehaviours","labelledElement","labelElement","describedElement","describeElement","describeId","dialogToggleMenuItemSchema","dialogToggleMenuItemDataProcessor","baseFooterButtonFields","dialogFooterButtonFields","normalFooterButtonFields","menuFooterButtonFields","dialogFooterButtonSchema","submit","alertBannerFields","alertBannerSchema","buttonFields","buttonSchema","checkboxFields","checkboxSchema","checkboxDataProcessor","formComponentFields","formComponentWithLabelFields","collectionFields","collectionSchema","collectionDataProcessor","colorInputSchema","colorInputDataProcessor","colorPickerSchema","colorPickerDataProcessor","customEditorFields","defaultedPostMsg","customEditorFieldsOld","customEditorSchema","customEditorDataProcessor","dropZoneSchema","dropZoneDataProcessor","createGridFields","itemsField","htmlPanelFields","htmlPanelSchema","iframeFields","iframeSchema","iframeDataProcessor","imageToolsFields","imageToolsSchema","inputFields","inputSchema","inputDataProcessor","createLabelFields","listBoxSingleItemFields","listBoxNestedItemFields","desc","getP","thunkOf","listBoxItemSchema","listBoxFields","listBoxSchema","listBoxDataProcessor","selectBoxFields","selectBoxSchema","selectBoxDataProcessor","sizeInputFields","sizeInputSchema","sizeInputDataProcessor","tableFields","tableSchema","textAreaFields","textAreaSchema","textAreaDataProcessor","urlInputFields","urlInputSchema","urlInputDataProcessor","createItemsField","itemSchema","sErr","passValue","panelSchema","panelFields","tabFields","tabPanelFields","tabPanelSchema","dialogButtonFields","dialogButtonSchema","dialogSchema","tabpanel","urlDialogButtonSchema","urlDialogSchema","getAllObjects","isNamedItem","dataProcessors","togglemenuitem","createDataValidator","namedItems","getNamedItems","getDataProcessor","internalDialog","dataValidator","DialogManager","openUrl","redial","toValidValues","renderBodyPanel","memForm","formValue","TabButton","tabButtonBehaviours","schema$1","tabsPart","barDetail","dismissTab$1","tabbar","changeTab$1","clickToDismiss","tabClass","parts$1","Tabbar","tabbarBehaviours","selectedClass","tab","Tabview","tabviewBehaviours","barPart","tabs","viewPart","TabSection","changeTabBy","section","byPred","tabSectionBehaviours","selectFirst","tabValue","tabview","tabWithValue","tabData","onChangeTab","onDismissTab","getViewItems","showTab","tabKey","setTabviewHeight","updateTabviewHeight","dialogBody","maxTabHeight","tablist","documentElement$1","tabviewHeight","currentTabHeight","dialogTopMargin","dialogBottomMargin","getMaxTabviewHeight","getTabview","allTabs","extraEvents","smartTabHeight","tabviewComp","heights","_tab","measureHeights","maxTabHeightOpt","getMaxHeight","oldHeight","naiveTabHeight","SendDataToSectionChannel","SendDataToViewChannel","renderTabPanel","storedValue","updateDataWithForm","formData","validData","currentData","setDataOnForm","oldTab","tabMode","_viewItems","oldName","tsection","dialogChannel","titleChannel","bodyChannel","footerChannel","bodySendMessageChannel","renderBody","ariaAttrs","incoming","isTabPanel","hiddenHeader","pClose","pUntitled","pBodyMessage","pFooter","footer","pFooterGroup","startButtons","endButtons","renderDialog$1","dialogClass","blockerBackdropClass","scrollLockClass","extraStyles","dialogEvents","renderClose","renderTitle","renderDragHandle","pTitle","pHandle","draghandle","draggable","renderModalHeader","bs","getEventExtras","lazyDialog","closeWindow","blockEvent","renderModalDialog","mapMenuButtons","mapItems","extractCellsToObject","innerAcc","initCommonEvents","fireApiEvent","_event","SilverDialogEvents","getInstanceApi","withSpec","currentDialog","currentDialogInit","cur","onTabChange","newTabName","oldTabName","footerButtons","buttonGroups","makeGroup","memento","renderFooter","initSpec","makeButton","lookupByName","buttonName","renderModalFooter","getCompByName","form_1","getFormWrapper","getDialogApi","doRedial","menuItemStates","withRoot","instanceApi","valueComp","representedValues","menuItemCurrentState","setData","prevData","mergedData","newInternalData","dialogState","validateData$1","tabSection","dialogInit","renderDialog","bodySpec","renderModalBody","storagedMenuButtons","objOfCells","dialogSize","getDialogSizeClasses","modalAccess","outerForm","renderInlineDialog","titleId","dialogLabelId","dialogContentId","memHeader","memBody","contentId","renderInlineBody","memFooter","renderInlineFooter","global$1","SUPPORTED_MESSAGE_ACTIONS","isSupportedMessage","mceAction","renderUrlDialog","renderIframeBody","iframeUri","base_uri","href","iframeDomain","protocol","port","messageHandlerUnbinder","isSameOrigin","insertContent","handleMessage","isCustomMessage","onMessage","iframeEle","postMessage","sendMessage","inlineAdditionalBehaviours","isStickyToolbar$1","alertDialog","closeDialog","memFooterClose","titleSpec","closeSpec","footerCloseButton","setup$2","confirmDialog","memFooterYes","footerNo","footerYesButton","setup$1","openModalUrlDialog","openModalDialog","internalInitialData","openInlineDialog","config$1","refreshDocking","dialogUi","inlineDialogComp","isAlertOrConfirmDialog","confirm","windowMgr","getWindowManagerImpl","getNotificationManagerImpl","typeOf$1","eq$2","eqString","eqArray","eqa","eqSortedArray","compareFn","contramap","sort$1","eqRecord","kx","ky","q","eqAny","tx","isEquatableType","isString$1","isArray$1","compose1","identity","contains$3","map$3","each$k","filter$4","findUntil$1","findIndex$2","hasOwnProperty$1","each$j","filter$3","each$i","indexOf$1","reduce","iteratee","accumulator","unknown$2","detect$2","trim$4","lTrim","rTrim","isEmpty$3","nu$2","platform$2","platform$1","browser$4","webkit","fileApi","windowsPhone","Env","gecko","iOS","transparentSrc","caretAfter","documentMode","ceFalse","cacheSuffix","experimentalShadowDom","canHaveCSP","desktop","whiteSpaceRegExp$2","trim$3","is$3","walk$3","delim","grep","inArray","hasOwn","extend","exts","ext","sp","scn","de","cn","ns","createNS","onCreate","walk","_addCacheSuffix","fromDom$2","recurse","is$2","isElement$6","isText$8","isDocument$2","isDocumentFragment$1","prevSibling","previousSibling","prevSiblings","nextSiblings","lastChild","childNodesCount","getStyleContainer","getHead","before$4","after$3","intoView","alignToTop","scrollIntoViewIfNeeded","scrollIntoView","isNodeType","isRestrictedNode","getPrototypeOf","isElement$5","matchNodeNames","lowercasedNames","matchStyleValues","computed","attrName","isBogus$2","isTable$3","tagName","isTextareaOrInput","isText$7","isComment","isDocument$1","isBr$5","isImg","isContentEditableTrue$4","isContentEditableFalse$b","isTableCell$5","isMedia$2","browser$3","firstElement","nodes","hasChild","castOffsetParent","caption","bodyTop","captionTop","captionHeight","getTableCaptionDeltaY","module$1","par$1","asyncValues","asyncValue","unite","requestAnimationFramePromise","attrValue","support","Expr","isXML","tokenize","compile","select$1","outermostContext","sortInput","hasDuplicate","setDocument","document$1","documentIsHTML","rbuggyQSA","rbuggyMatches","ancestor$3","promiseObj","wrappedSetTimeout","wrappedSetInterval","setInterval","debounce","func","Delay","requestAnimationFrameFunc","vendors","setEditorInterval","clearInterval","StyleSheetLoader","documentOrShadowRoot","idCount","loadedStates","edos","maxLoadTime","failure","urlWithSuffix","passed","failed","getOrCreateState","onload","onerror","waitForWebKitLinkLoaded","testCallback","waitCallback","styleSheets","ownerNode","now","linkElem","contentCssCors","referrerPolicy","loadF","styleContainer","loadAll","urls","futures","unloadAll","_setReferrerPolicy","WeakMap","forElement","referenceElement","rootDom","sl","DomTreeWalker","prev2","findSibling","findPreviousNode","startName","siblingName","lazyLookup","isHeading","isBlock$2","isInline$1","isBr$4","isTextBlock$2","isList","isListItem","isTableSection","isTableCell$4","isWsPreserveElement","nbsp","ZWSP$1","isZwsp","trim$2","isElement$4","isText$6","isCaretContainerBlock$1","isCaretContainerInline","isCaretContainer$2","hasContent","isBeforeInline","isAtStart","isAfterInline","isAtEnd","insertBlock$1","blockName","br","blockNode","startsWithCaretContainer$1","endsWithCaretContainer$1","showCaretContainerBlock","caretContainer","brs","getElementsByTagName","lastBr","isRangeInCaretContainerBlock","isContentEditableTrue$3","isContentEditableFalse$a","isBr$3","isText$5","isInvalidTextElement","isAtomicInline","isTable$1","isCaretContainer$1","isCaretCandidate$3","isNonUiContentEditableFalse","isUnselectable","isEditableCaretCandidate$1","isInEditable","whiteSpaceRegExp$1","isWhitespaceText","hasWhitespacePreserveParent","rootElement","isContent$1","isNamedAnchor","isBookmark","isBogus$1","isBogusAll","isEmpty$2","skipBogus","brCount","walker","isEmptyNode","isInlineContent","isBookmarkNode$2","isSpan","isKeepTextNode","prevIsInline","nextIsInline","surroundedByInlineContent","trimNode","currentChildren","isKeepElement","makeMap$3","attrsCharsRegExp","textCharsRegExp","rawCharsRegExp","entityRegExp","asciiMap","baseEntities","reverseEntities","buildEntitiesLookup","radix","entity","fromCharCode","namedEntities","encodeRaw","encodeNumeric","encodeNamed","entities","Entities","getEncodeFunc","entitiesMap","nameMap","named","numeric","decode","nativeDecode","mapCache","dummyObj","makeMap$2","each$h","extend$5","explode$3","inArray$2","split$1","compileElementMap","Schema","patternElements","customElementsMap","specialElements","createLookupTable","defaultValue","extendWith","schemaItems","globalAttributes","blockContent","phrasingContent","flowContent","html4BlockContent","html4PhrasingContent","ni","attributesOrder","arrayToMap","addAttrs","schemaItem","script","compileSchema","verify_html","valid_elements","validStyles","valid_styles","invalidStyles","invalid_styles","validClasses","valid_classes","whiteSpaceElementsMap","selfClosingElementsMap","shortEndedElementsMap","boolAttrMap","nonEmptyOrMoveCaretBeforeOnEnter","nonEmptyElementsMap","moveCaretBeforeOnEnterElementsMap","textBlockElementsMap","blockElementsMap","textInlineElementsMap","patternToRegExp","addValidElements","validElements","ei","ai","al","attrData","elementName","attrType","outputName","globalAttributesOrder","elementRuleRegExp","attrRuleRegExp","hasPatternsRegExp","validElementsArr","paddEmpty","removeEmpty","removeEmptyAttrs","attributesRequired","attributesDefault","attributesForced","forcedValue","validValues","attributePatterns","setValidElements","addCustomElements","customElements","customElementRegExp","text_block_elements","block_elements","cloneName","customRule","elmName","addValidChildren","validChildren","childRuleRegExp","getElementRule","custom_elements","valid_children","extended_valid_elements","dd","dt","li","th","tr","tbody","thead","tfoot","legend","area","param","parentsRequired","invalid_elements","getValidStyles","getInvalidStyles","getValidClasses","getBoolAttrs","getBlockElements","getTextBlockElements","getTextInlineElements","getShortEndedElements","getSelfClosingElements","getNonEmptyElements","getMoveCaretBeforeOnEnterElements","getWhiteSpaceElements","getSpecialElements","getCustomElements","isValidChild","attrPatterns","Styles","_this","rgbRegExp","urlOrStrRegExp","styleRegExp","trimRightRegExp","encodingLookup","invisibleChar","encodingItems","isEncoded","urlConverter","url_converter","urlConverterScope","url_converter_scope","compress","noJoin","canCompress","keepSlashes","decodeSingleHexSequence","escSeq","decodeHexSequences","processUrl","url2","url3","str2","allow_script_urls","allow_svg_data_urls","lastIndex","serialize","serializeStyles","styleList","i_1","styleMap","deprecated","keyLocation","layerX","layerY","returnValue","webkitMovementX","webkitMovementY","keyIdentifier","mozPressure","isNativeEvent","Event","initEvent","normalize$3","originalEvent","fallbackTarget","clone$2","srcElement","needsNormalizing","defaultPrevented","cancelBubble","isImmediatePropagationStopped","hasIsDefaultPrevented","mouseEventRe","addEvent","attachEvent","removeEvent","detachEvent","fix","isMouseEvent","eventDoc","metaKey","bindOnReady","eventUtils","domLoaded","readyHandler","readyState","EventUtils","expando","hasMouseEnterLeave","hasFocusIn","callbackList","fakeName","nativeHandler","defaultNativeHandler","executeHandlers","namesList","mouseEnterLeave","currentTarget","related","ci","eventMap","parentWindow","clean","preferredDoc","dirruns","classCache","createCache","tokenCache","compilerCache","sortOrder","strundefined","MAX_NEGATIVE","push_native","push$1","slice$1","whitespace","identifier","pseudos","rtrim","rcomma","rcombinators","rattributeQuotes","rpseudo","ridentifier","matchExpr","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","rinputs","rheader","rnative","rquickExpr$1","rsibling","rescape","runescape","funescape","escaped","escapedWhitespace","high","els","Sizzle","seed","nid","newSelector","getElementsByClassName","qsa","toSelector","testContext","qsaError","cacheLength","markFunction","siblingCheck","diff","sourceIndex","createPositionalPseudo","argument","matchIndexes","setFilters","tokens","addCombinator","matcher","combinator","checkNonElements","doneName","xml","oldCache","outerCache","newCache","elementMatcher","matchers","condense","unmatched","newUnmatched","mapped","setMatcher","preFilter","postFilter","postFinder","postSelector","preMap","postMap","preexisting","contexts","multipleContexts","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","implicitRelative","matchContext","matchAnyContext","hasCompare","getTop","attrId","tmp","disconnectedMatch","adown","bup","compare","sortDetached","aup","ap","bp","expr","matchesSelector","attrHandle","getAttributeNode","specified","uniqueSort","duplicates","detectDuplicates","sortStable","createPseudo","excess","unquoted","nodeNameSelector","operator","what","forward","ofType","nodeIndex","useCache","pseudo","matched","elemLang","selectedIndex","even","odd","lt","gt","nth","createInputPseudo","createButtonPseudo","filters","parseOnly","soFar","preFilters","setMatchers","elementMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","matcherFromGroupMatchers","token","compiled","rquickExpr","Event$1","skipUniques","isDefined","createFragment$1","fragDoc","frag","domManipulate","targetNodes","sourceItem","getElementDocument","DomQuery","makeArray","hasClass","lastParent","newWrapper","numericCssMap","booleanMap","propFix","for","class","cssFix","float","attrHooks","cssHooks","DomQueryConstructor","whiteSpaceRegExp","each$g","grep$2","hook","removeAttr","camel","dashed","currentStyle","appendTo","prependTo","replaceWith","wrapInner","classState","existingClassName","trigger","object","sibling$1","firstSibling","contentDocument","wrappedResult","parentsUntil","nextUntil","prevUntil","overrideDefaults","sub","each$f","grep$1","simpleSelectorRe","updateInternalStyleAttr","$elm","findNodeIndex","normalized","lastNodeType","DOMUtils","addedStyles","counter","boundEvents","ownEvents","$","$$","getAttrib","defaultVal","getAttribs","setAttrib","originalValue","onSetAttrib","attrElm","root_element","getPos$1","getSize","collect","selectorVal","_findSib","setAttribs","setHTML","canHaveHTML","parentElm","newElm","keepChildren","$node","cls","oldElm","replaceChild","isNonEmptyElement","rv","stdMode","boxModel","deep","clone_1","getViewPort","argWin","getPrev","createHTML","outHtml","createFragment","setStyle","update_styles","setStyles","stylesArg","removeAllAttribs","removeAttributeNode","cssText","serializeStyle","addStyle","styleElm","styleSheet","loadCSS","uniqueId","getOuterHTML","outerHTML","setOuterHTML","insertAfter","reference","referenceNode","rename","attrNode","findCommonAncestor","pe","rgbVal","isEmpty","bogusVal","splitElm","replacementElm","beforeFragment","afterFragment","getContentEditableParent","isChildOf","dumpRng","keepValues","keep_values","keepUrlHook","setupAttrHooks","DOM$a","each$e","ScriptLoader","queue","scriptLoadedCallbacks","queueLoadedCallbacks","loading","loadScript","cleanup","isDone","markDone","loadQueue","loadScripts","scripts","failures","execCallbacks","loadingScripts","notifyCallbacks","currentCode","getLanguageData","I18n","setCode","newCode","getCode","langData","translation","getLangData","textstr","removeContext","isTokenised","values_1","$1","$2","hasCode","AddOnManager","_listeners","runListeners","matchedListeners","dependencies","createUrl","baseUrl","resource","addOnUrl","urlString","deps","newUrl","loadDependencies","waitFor","requireLangPack","languages","languageLoad","language","addOn","addOnConstructor","addComponents","pluginName","pluginUrl","PluginManager","ThemeManager","read$4","annotation","dataAnnotation","dataAnnotationId","identify","annotationName","an","newStart","getAttr","findMarkers","setup$n","_registry","changeCallbacks","withCallbacks","updateCallbacks","callbackMap","outputData","onNodeChange","annotations","fireNoAnnotation","fireCallbacks","addListener","setup$m","serializer","addNodeFilter","spans","identifyParserNode","persistent","deep$1","TextWalker","TextSeeker","isBlockBoundary","newOffset","forwards","round$2","toStart","isValidOverflow","overflowY","rect1","rect2","isAbove$1","halfHeight","isBelow$1","containsXY","getSelectedNode","getNode$1","safeOffset","clamp$2","extendingChars","isExtendingChar","isElement$3","isCaretCandidate$2","isBlock$1","isFloated","isValidElementCaretCandidate","isNotPre","isText$4","isBr$2","nodeIndex$1","resolveIndex$1","createRange$1","isWhiteSpace$1","isRange","isHiddenWhiteSpaceRange","isZeroRect","getBoundingClientRect$1","clientRect","clientRects","brNode","nbsp$1","getBrClientRect","sc","ec","so","eo","newRng","getBoundingClientRectWebKitText","collapseAndInflateWidth","newClientRect","getCaretPositionClientRects","caretPosition","addUniqueAndValidRect","addCharacterOffset","beforeNode","CaretPosition","toRange","isEqual","fromRangeStart","fromRangeEnd","pos1","pos2","isTextPosition","isElementPosition","HDirection","trimEmptyTextNode$1","rangeInsertNode","insertFragment","isText$3","isBogus","normalizedParent","getChildNodes","equal","createPathItem","numTextFragments","normalizedNodeIndex","create$6","outputOffset","normalizedTextOffset","parentsUntil$1","resolve$2","resolvePathItem","dataLen","targetOffset","findTextPosition","isContentEditableFalse$9","getPoint","trimmedOffset","getNormalizedTextOffset","moveEndPoint$1","normalizeTableCellSelection","getOffsetBookmark","findAdjacentContentEditableFalseElm","bookmark","isFakeCaret","getLocation","createBookmarkSpan","filled","getPersistentBookmark","rng2","endBookmarkNode","startBookmarkNode","moveToBookmark","keep","getBookmark$2","getCaretBookmark","getRangeBookmark","getUndoBookmark","DOM$9","getBodySetting","bodyObj","getContentSecurityPolicy","getForcedRootBlock","getForcedRootBlockAttrs","isAutomaticUploadsEnabled","shouldReuseFileName","getIconPackName","getImageUploadUrl","getImageUploadBasePath","getImagesUploadCredentials","getImagesUploadHandler","shouldUseContentCssCors","getReferrerPolicy","getLanguageCode","shouldIndentUseMargin","getFontCss","fontCss","getObjectResizing","getEventRoot","getTheme","shouldValidate","isInlineBoundariesEnabled","hasContentCssCors","getPlugins","isText$2","removeNode$1","trimCount","trimmedText","deleteZwspChars","deleteData","removeUnchanged","removeElementAndReposition","newPosition","indexOf$2","removeTextCaretContainer","removeTextAndReposition","removeAndReposition","removeElementCaretContainer","caretContainerNode","browser$2","isContentEditableFalse$8","isMedia$1","isTableCell$3","getAbsoluteClientRect","scrollX","scrollY","rootRect","FakeCaret","cursorInterval","lastVisualCaret","rootBlock","caretBlock","fakeCaretTargetNodes","trimInlineCaretContainers","caretState","startBlink","textNode","splitText","insertInline$1","isInlineFakeCaretTarget","getCss","isFakeCaretTableBrowser","isFakeCaretTarget","isContentEditableFalse$7","isMedia","isBlockLike","isCaretContainer","isCaretContainerBlock","isCaretCandidate$1","isForwards","isBackwards","skipCaretContainers","findNode$1","predicateFn","isCefOrCaretContainer","getParentBlock$2","isInSameBlock","caretPosition1","caretPosition2","getChildNodeAtRelativeOffset","relativeOffset","beforeAfter","isNodesInSameBlock","node1","node2","lean","normalizeRange","leanLeft","leanRight","location_1","getRelativeCefElm","getNormalizedRangeEndPoint","normalizedRange","getElementFromPosition","getVisualCaretPosition","walkFn","isMoveInsideSameBlock","inSameBlock","expected","isContentEditableFalse$6","isBr$1","isCaretCandidate","isAtomic","isAtomicContentEditableFalse","isEditableCaretCandidate","nodeAtIndex","getCaretCandidatePosition","findCaretPosition$1","startPos","nextNode","innerNode","Forwards","moveForwardFromBr","rootContentEditableFalseElm","getParents$3","CaretWalker","Backwards","isBeforeOrStart","isAfterOrEnd","isBeforeAfterSameElement","shouldSkipPosition","fromPosition","navigateIgnore","ignoreFilter","positionIn","walkToPositionIn","nextPosition","prevPosition","firstPositionIn","lastPositionIn","CARET_ID$1","isCaretNode","getParentCaretContainer","isPathBookmark","addBogus","tryFindRangePosition","padEmptyCaretContainer","isEmpty$1","insertZwsp","setEndPoint","isValidTextNode","restoreEndPoint","appendData","resolve$1","resolvePaths","isStringPathBookmark","resolveCaretPositionBookmark","isIdBookmark","endPos","spos","epos","resolveId","isIndexBookmark","resolveIndex","isRangeBookmark","getBookmark$1","isBookmarkNode$1","isNbsp","actual","isWhiteSpace","isContent","isNode","moveStart","isInlineBlock","isWhiteSpaceNode$1","getNonWhiteSpaceSibling","inc","nextName","isTextBlock$1","allowSpaces","replaceVars","vars","isEq$5","str1","normalizeStyleValue","getTextDecoration","decoration","getParents$2","areSimilarFormats","otherFormatName","filterObj","validKey","fmt1","filteredFmt1","fmt2","filteredFmt2","equal$1","shouldExpandToSelector","isBookmarkNode","getParents$1","isWhiteSpaceNode","isTextBlock","findParentContentEditable","walkText","findSpace","findContent","findWordEndPoint","includeTrailingSpaces","lastTextNode","textSeeker","textOffset","findSelectorEndPoint","formatList","curFormat","findBlockEndPoint","scopeRoot","isAtBlockBoundary$1","findParentContainer","block_expand","isSelfOrParentBookmark","expandRng","includeTrailingSpace","walk$2","firstNode","lastNode","collectSiblings","endNode","siblings","findEndPoint","walkBoundary","siblings_1","startPoint","endPoint","getCellsFromRanges","getSelectedNodes","getCellsFromElementOrRanges","selectedCells","getCellsFromEditor","getSel","getClosestTable","getFirstChildren","getLastChildren$1","hasAllContentsSelected","getStartNode","getEndNode","moveEndPoint","hasAnyRanges","runOnRanges","fakeSelectionNodes","fakeNodeRng","fillBookmark","api$1","wrapName","isZeroWidth","isAnnotation","makeAnnotation","eDoc","decorate","master","annotate","newWrappers","finishWrapper","processElements","processElement","wrap$3","processNodes","annotateWithBookmark","initialRng","hasFakeSelection","applyWordGrab","selectionRng","Annotator","annotationChanged","nodesAlready","findAll","BookmarkManager","getBookmark","getContentEditableRoot$1","isXYWithinRange","fireError","errorType","fireFormatApply","fireFormatRemove","VK","DELETE","ESC","PAGE_UP","PAGE_DOWN","END","HOME","modifierPressed","altKey","metaKeyPressed","isContentEditableFalse$5","ControlSelection","selectedElm","selectedElmGhost","resizeHelper","selectedHandle","resizeBackdrop","startW","startH","ratio","resizeStarted","startScrollWidth","startScrollHeight","elementSelectionAttr","editableDoc","rootDocument","resizeHandles","nw","ne","sw","isImage","contextMenuSelectImage","isEventOnImageOutsideRange","getResizeTargets","firstElementChild","isResizable","setSizeProp","setGhostElmSize","ghostElm","resizeGhostElement","proportional","resizeHelperX","resizeHelperY","getResizeImgProportional","selectedElmX","selectedElmY","fireObjectResizeStart","endGhostResize","wasResizeStarted","showResizeRect","fireObjectResized","unbindResizeHandleEvents","targetWidth","targetHeight","hideResizeRect","startDrag","updateResizeRect","controlElm","isChildOrEqual","disableGeckoResize","isWithinContentEditableFalse","handleMSControlSelect_1","delayedSelect","throttledUpdateResizeRect","composing","hasCeProperty","pointDoc","caretPositionFromPoint","offsetNode","caretRangeFromPoint","createTextRange","moveToPoint","moveToElementText","findClosestIeRange","parentElement","findParent$1","moveOutOfContentEditableFalse","isEq$4","rng1","hasParent$1","findParent","hasParentWithName","isTable","isTableCell$2","isCeFalseCaretContainer","hasBrBeforeAfter","findTextNodeRelative","isAfterNode","lastInlineElement","parentBlockContainer","normalizeEndPoint","directionLeft","hasContentEditableFalseParent","isPrevNode","normalize$2","normRng","RangeUtils","normalizedRng","compareRanges","getCaretRangeFromPoint","documentFocusInHandler","excludeFromDescend","markerInfo","cleanupFun","createMarker","withMarker","preserveWith","applyWithMarker","withScrollEvents","fireScrollIntoViewEvent","fireAfterScrollIntoViewEvent","elementMarker","startElement","endElement","scrollToMarker","intoWindowIfNeeded","viewportBottom","largerThanViewport","intoWindow","intoFrame","frameViewHeight","op","rangeIntoWindow","elementIntoWindow","rangeIntoFrame","elementIntoFrame","scrollRangeIntoView","hasFocus$1","getStart$1","browser$1","normalizeRng","isOrContains","isRngInRoot","shouldStore","nativeRangeToSelectionRange","bookmarkToNativeRng","newBookmark","FocusManager","isEditorUIElement","registerEditorEvents","throttledStore","registerFocusOut","registerMouseUp","selectionChange","isManualNodeChange","mouseUpPage","registerPageMouseUp","DOM$8","isUIElement","customSelector","getCustomUiSelector","registerEvents$1","focusedEditor","blurredEditor","getActiveElement","activeEditor","unregisterDocumentEvents","getFocusInElement","getCollapsedNode","normalizeSelection$1","caretPos","focusBody","hasElementFocus","rawBody","hasInlineFocus","hasIframeFocus","hasEditorOrUiFocus","hasUiFocus","activateEditor","skipFocus","quirks","refreshContentEditable","bookmarkRng","contentEditableHost","getContentEditableHost","focusEditor","getEndpointElement","real","skipEmptyTextNodes","processRanges","typeLookup","walk$1","isEmptyTextNode","AstNode","selfAttrs","cloneAttrs","selfAttr","shortEnded","refNode","restoreDataUris","re","imageId","uris","each$d","queryParts","DEFAULT_PORTS","ftp","http","https","mailto","safeSvgDataUrlElements","isInvalidUri","allow_html_data_urls","allowSvgDataUrls","blockSvgDataUris","URI","baseUri","isProtocolRelative","toAbsPath","urlMatch","userInfo","parseDataUri","uriComponents","decodeURIComponent","isDomSafe","decodedUri","unescape","getDocumentBaseUrl","pathname","setPath","pathMatch","getURI","toRelative","relativeUri","tu","uu","toRelPath","noHost","absoluteUri","defaultPort","breakPoint","normalizedBase","outPath","nb","normalizedPath","noProtoHost","filteredClobberElements","findMatchingEndTagIndex","startIndex","startTagRegExp","endTagRegExp","shortEndedElements","startMatch","findCommentEndIndex","endMatch","lcHtml","isConditionalComment","endIfIndex","endCommentRegexp","checkBogusAttribute","regExp","attrString","SaxParser","fix_self_closing","comment","cdata","pi","doctype","parseInternal","base64Extract","endRegExp","attrList","textData","isInternalElement","isShortEnded","elementRule","isValidElement","attribsValue","validAttributesMap","validAttributePatterns","filteredUrlAttrs","parsingMode","processEndTag","processText","processComment","allow_conditional_comments","processMalformedComment","startTag","parseAttribute","val2","val3","processAttr","fillAttrsMap","isValidPrefixAttrName","attrRule","tokenRegExp","attrRegExp","selfClosing","self_closing_elements","removeInternalElements","remove_internals","fixSelfClosing","processHtml","bogusValue","preserve_cdata","dataImageUri","extractBase64DataUris","findEndTag","trimInternal","bogusAllRegExp","tempAttrs","trimContentRegExp","trimHtml","getTempAttrs","endTagIndex","trimExternal","getContentFromBody","defaultedArgs","getInner","setupArgs$3","updatedArgs","no_events","emptyRegExp","trimEmptyContents","each$c","ElementUtils","attribs","compareObjects","obj1","obj2","makeMap$1","Writer","indent","indentBefore","indent_before","indentAfter","indent_after","entity_encoding","htmlOutput","element_format","HtmlSerializer","writer","sortedAttrs","nonInheritableStyles","Set","shorthandStyleProps","getStyleProps","hasInheritableStyles","isNonInheritableStyle","hasStyleConflict","nodeStyleProps","parentNodeStyleProps","valueMismatch","parentValue","nodeStyleProp","propExists","longhandProps","isChar","isBeforeSpace","isAfterSpace","isEmptyText","matchesElementPosition","isImageBlock","isCefNode","isBogusAll$1","isBeforeImageBlock","isAfterImageBlock","isBeforeMedia","isAfterMedia","isBeforeTable","isAfterTable","isBeforeContentEditableFalse","isAfterContentEditableFalse","removeTrailingBr","allBrs","rawNode","getLastChildren","fillWithPaddingBr","trimBlockTrailingBr","lastChildPrevSibling","rawParent","parents$1","parentsAndSelf","navigateIgnoreEmptyTextNodes","getClosestBlock$1","isAtBeforeAfterBlockBoundary","fromBlock","isAtBlockBoundary","isAtStartOfBlock","isAtEndOfBlock","isBeforeBlock","isAfterBlock","isBr","findBr","parentBlocks","isBeforeBr$1","isAfterBr","getElementFromPrevPosition","findPreviousBr","findNextBr","isInMiddleOfText","getClosestBlock","hasSpaceBefore","hasSpaceAfter","isInPre","isPreValue","isAtLineBoundary","isAtBeginningOfBody","isAtEndOfBody","needsToBeNbspLeft","needsToBeNbspRight","needsToBeNbsp","isNbspAt","hasNbsp","normalizeNbspInMiddleOfTextNode","newText","chars","normalizeNbspMiddle","normalizeNbsps","firstPos","normalizeNbspAtStart","lastPos","normalizeNbspAtEnd","normalizeNbspsInEditor","normalize$1","isEndOfContent","isStartOfContent","replaceData","previousCharIsSpace","normalizeContent","normalizeWhitespaceAfter","whitespaceCount","normalizeWhitespaceBefore","mergeTextNodes","prevNode","normalizeWhitespace","mergeToPrev","whitespaceOffset","newNode","removeNode","insertData","needsReposition","getPreviousSiblingCaretPosition","getNextSiblingCaretPosition","findCaretPositionBackwards","startPosition","findCaretPositionBackwardsFromElm","findCaretPositionForward","findCaretPositionForwardsFromElm","findCaretPosOutsideElmAfterDelete","findCaretPosition","setSelection$1","paddEmptyBlock","deleteNormalized","afterDeletePosOpt","prevTextOpt","nextTextOpt","deleteElement$2","moveCaret","afterDeletePos","parentBlock","normalizedAfterDeletePos","isInlineElement","paddPos","getTableCells","tableCellRng","deleteAction","singleCellTable","fullTable","partialTable","multiTable","getClosestCell$1","isExpandedCellRng","cellRng","getTableFromCellRng","startParentTable","endParentTable","getTableSelectionFromCellRng","tableSelection","getTableSelections","selectionDetails","isSameTable","sameTableSelection","endCell","startTableSelection","getCellRangeFromStartTable","endTableSelection","getCellRangeFromEndTable","getCellIndex","getSelectedCells","isSingleCellTableContentSelected","optCellRng","isSingleCellTable","unselectCells","startTable","endTable","otherContentRng","getActionFromRange","isRootFromElement","getCellRng","getTable","isStartInTable","isEndInTable","isMultiTable","getTableDetailsFromRange","startTableSelectedCells","endTableSelectedCells","handleMultiTable","handleSingleTable","freefallRtl","cleanCells","deleteContentInsideCell","isFirstCellInSelection","insideTableRng","deleteCellContents","collapseAndRestoreCellSelection","selectedNode","emptySingleTableCells","outsideDetails","editorRng","cellsToClean","outsideBlock","getOutsideBlock","deleteContents","startInTable","emptyBlock","handleEmptyBlock","endPointCell","emptyMultiTableCells","startTableCells","endTableCells","betweenRng","startTableCellsToClean","endTableCellsToClean","moveSelection","lastBlock","additionalCleanupNodes","deleteTableElement","deleteTableRange","startElm","getParentCaption","deleteCellRange","emptyElement","deleteCaptionRange","getParentCell","deleteCaretInsideCaption","fromCaption","isDeleteOfLastCharPos","emptyCaretCaption","toCaption","validateCaretCaption","deleteCaretCells","fromCell","deleteBetweenCells","isNearTable","deleteCaret$3","fromPos","isBeforeOrAfterTable","deleteCaretCaption","backspaceDelete$9","deleteRange$2","normalizeBlockSelectionRange","commonAncestorContainer","newEndPos","isPaddedEmptyBlock","hasOnlyOneChild$1","isPaddingNode","isListFragment","nonEmptyElements","isEmptyFragmentElement","isListItemPadded","isPadding","trimListItems","getParentLi","findLastOf","newCaretPos","insertBefore$1","findFirstIn","insertAtCaret$1","domFragment","cleanupDomFragment","toDomFragment","liTarget","liElms","isAt","caretWalker","insertAfter$1","beforeRng","afterRng","cloneContents","getSplit","insertMiddle","isTableCell$1","deleteSelectedContent","isTableCellContentSelected","insertHtmlAtCaret","trimOrPadLeftRight","parser","merge","bookmarkHtml","paste","caretElement","canHaveChildren","parserArgs","isParentBlockLi","markFragmentElements","_selectionOverrides","showBlockCaretContainer","validInsertion","textInlineElements","root_1","elementUtils_1","reduceInlineTextElements","nextRng","parentEditableElm","isPartOfFragment","findNextCaretRng","moveSelectionToMarker","trimBrsFromTableCell","addVisual","traverse","nodeFilters","attributeFilters","attrMatches","name_2","findMatchingNodes","isTreeNode","setEditorHtml","noSelection","setContentInternal","setupArgs$2","getNodeFilters","getAttributeFilters","no_selection","setContentTree","padd","forcedRootBlockName","isRootContent","setContentString","sibling$2","isEq$3","matchesUnInheritedFormatSelector","inherit","matchParents","similar","matchNode","matchName$1","matchItems","onmatch","expectedValue","isEmptyValue","match$2","rawElm","matchAllOnNode","formatNames","matchSimilar","isVariableValue","fieldValues","isVariableFormatName","ZWSP","CARET_ID","isCaretContainerEmpty","getEmptyCaretContainers","findFirstTextNode","createCaretContainer","fill","removeCaretContainerNode","trimZwspFromCaretContainer","removeCaretContainer","appendNode","insertFormatNodesIntoCaretContainer","formatNodes","innerMostFormatNode","formatNode","removeCaretFormat","hasContentAfter","expandedRng","newCaretContainer","insertCaretContainerNode","cleanedFormatNode","validFormats","matchedFormats","fmtName","clonedFormatNode","cleanFormatNode","caretTextNode","setup$k","disableCaretContainer","isFormatElement","inlineElements","postProcessHooks","each$b","addPostProcessHook","blocks","isPre","getSelectedBlocks","pre","pre1","pre2","each$a","isElementNode$1","findElementSibling","mergeSiblingsNodes","elementUtils","tmpSibling","mergeSiblings","merge_siblings","processChildElements","hasStyle","applyStyle","unwrapEmptySpan","removeResult","MCE_ATTR_RE","each$9","isEq$2","isChildOfInlineParent","lastIdx","normalizeTableSelection","isTableCellOrRow","childNode","wrapWithSiblings","rootBlockElm","forcedRootBlock","list_block","forced_root_block_attrs","isMixedFormat","removeFormatInternal","compareNode","stylesModified","matchName","links","isColorFormatAndAnchor","preserve_attributes","attrsToPreserve","remove_similar","valueOut","removeFormat$1","newName","removeFormatFromClone","splitToFormatRoot","formatRoot","findFormatRoot","lastClone","firstClone","formatRootParent","mixed","wrapAndSplit","removeNodeFormat","lastContentEditable","currentNodeMatches","textDecoration","isRemoveBookmarkNode","removeRngStyle","ceFalseOverride","each$8","mergeWithChildren","clear_child_styles","clearChildStyles","each$7","isElementNode","applyFormat$1","setElementFormat","onformat","styleVal","applyNodeStyle","found","createWrapElement","wrapElm","applyRngStyle","nodeSpecific","currentWrapElm","parentName","canFormatEmptyLines","validBRParentElements","figcaption","summary","hasCaretNodeSibling","canFormatBR","childCount","isEmptyTextNode$1","getChildCount","childElement","mergeStyles","merge_with_parents","mergeWithParents","backgroundColor","mergeBackgroundColorAndFontSize","processTextDecorationsAndColor","mergeTextDecorationsAndColor","mergeSubSup","wordcharRegex","importNode","applyCaretFormat","curSelNode","firstFormat","forced_root_block","defaultBlock","fake","postProcess$1","formatItem","hasVars","fallbackElement","matchingNode","matchingFormat","updateAndFireChangeCallbacks","registeredCallbacks","runIfChanged","node_1","withSimilar","withoutSimilar","withVars","formatChangedInternal","registeredFormatListeners","nodeOrRange","setup$j","formatChangeItems","toAppendTo","addListeners","fromElements","tableModel","tableRow","cellPosition","getSpan","cellExists","findElementPos","extractRows","sx","sy","ey","newRows","tableElm","rowspan","colspan","y2","x2","fillout","skipCellsX","toDom","tableElement","tableBody","createDomTable","modelRowsToDomRows","subsection","subTable","getFullySelectedListWrappers","_li","findParentListContainer","listCont","listElm","listStyles","_style","getWrapElements","commonAnchorContainer","wrapElements","listWrappers","allWrappers","directListWrappers","emptyFragment","getFragmentFromRange","innerElm","getTableFragment","selectedTableCells","firstCell","lastCell","fullTableModel","sectionedTableModel","read$3","getSelectionFragment","isCollapsibleWhitespace","getInnerText","bin","shouldTrim","trimLeadingCollapsibleText","getSelectedContentInternal","setupArgs$1","parentBlockOpt","contextNodeName","getContextNodeName","shouldTrimSpaces","nonRenderedText","parentBlockText","textIndex","getTextContent","tmpElm","getSerializedContent","getOuterHtml","insertAt","fragments","vDown","vUp","buildScript","buildSnake","getMiddleSnake","currentFragments","removeAt","applyDiff","start1","end1","start2","end2","diag","i2","snake","lazyTempDocument","implementation","createHTMLDocument","createFromEditor","trimmedFragments","trimmed","beforeBookmark","createFragmentedLevel","createCompleteLevel","applyToEditor","getLevelContent","getCleanLevelContent","isEq$1","level1","level2","hasEqualContent","hasEqualCleanedContent","isUnlocked","locks","setTyping","typing","endTyping","makePlainAdaptor","beforeChange","beforeChange$1","currentLevel","lastLevel","bm","customUndoRedoLevels","getCustomUndoRedoLevels","setDirty","addUndoLevel$1","undo$1","redo$1","clear$1","reset$1","hasUndo","hasUndo$1","hasRedo","hasRedo$1","transact$1","ignore$1","callback1","callback2","extra$1","matchAll","matchedFormatNames","checkedMap","getContentInternal","isVisualAidsEnabled","matchedElm","getVisualAidsTableClass","value_1","cls_1","getVisualAidsAnchorClass","addVisualInternal","getModel","isRtc","plugins","setup$i","editorCast","rtcPlugin","getRtcSetup","rtcInstance","nul","makeNoopAdaptor","rtcEditor","defaultVars","_undoManager","_locks","_node","_similar","_rfl","_details","getRawModel","makeRtcAdaptor","rtc","isRemote","getRtcInstanceWithFallback","getRtcInstanceWithError","getContent$1","getSelectedContent","mergeAndNormalizeText","outerNode","outerElm","oldLength","innerTextNode","walkPastBookmark","normalizeTextIfRequired","setContent$1","setupArgs","eventArgs","contextBlock","contextArgs","cleanContent","prevText","nextText","rngSetContent","createContextualFragment","deleteFromCallbackMap","newCallbacks","isNativeIeSelection","isAttachedToDom","EditorSelection","selectedRange","explicitRange","selectorChangedWithUnbind","selectorChangedData","currentSelectors","findMatchingNode","matchedSelectors","SelectorChanged","getRng$1","tryCompareBoundaryPoints","how","sourceRange","destinationRange","compareBoundaryPoints","START_TO_START","END_TO_END","isValidRange","ieRange","removeAllRanges","addRange","setBaseAndExtent","isForward","anchorRange","focusRange","bookmarkManager","controlSelection","compareEndPoints","setNode","endElm","selectedBlocks","selectorChanged","getScrollContainer","scrollContainer","scrollElementIntoView","placeCaretAt","addFontToSpansFilter","domParser","fontSizes","face","removeAttrs","addFilters","convert_fonts_to_spans","font_size_legacy_values","addStrikeToSpanFilter","uriParts","buildBlob","uriToBlob","rejectWithError","xhr_1","XMLHttpRequest","responseType","send","blobUriToBlob","count$1","imageToBlobInfo","blobCache","blobInfo","getByData","getByUri","dataUri","ImageScanner","uploadStatus","cachedPromises","images","getAllImages","isUploaded","promises","imageInfo","newPromise","paddEmptyNode","blockElements","padd_empty_with_br","hasOnlyChild","whitespaceElements","isPadded","registerBase64ImageFilter","blob_cache","processImage","inputSrc","isInternalImageSource","isBogusImage","parseDataUri$1","images_dataimg_filter","imgElem_1","isValidDataImg","blobUri","addAttributeFilter","each$6","explode$2","extend$4","DomParser","matchedNodes","matchedAttributes","root_name","filterNode","fi","fl","invalidChildren","rootBlockName","getRootBlockName","whiteSpaceElements","startWhiteSpaceRegExp","endWhiteSpaceRegExp","allWhiteSpaceRegExp","isAllWhiteSpaceRegExp","isInWhiteSpacePreservedElement","createNode","removeWhitespaceBefore","textVal","textNodeNext","cloneAndExcludeBlocks","isLineBreakNode","parent_2","attrFiltersLen","tempNode","isPaddedWithNbsp","nonSplitableElements","textBlockElements","removeOrUnwrapInvalidNode","originalNodeParent","children_1","newParent","currentNode","fixInvalidChildren","rootBlockNode","addRootBlocks","remove_trailing_brs","prevName","newRel","allow_unsafe_link_target","appendRel","allow_html_in_named_anchor","fix_list_elements","classValue","validClassesMap","inline_styles","hasEventListeners","shouldFireEvent","oldDoc","clonedNode","impl","doc_1","firePreProcess","preProcess","addTempAttr","htmlParser","toHtml","serializeNode","outArgs","firePostProcess","postProcess","DomSerializerImpl","internalName","hasChildren","getHtmlFromNode","brNode1","brNode2","trimTrailingBr","parseHtml","addRules","setRules","DomSerializer","domSerializer","getContent$2","setContent$2","DOM$7","safeDestroy","editorUpload","save","is_removing","unbindAllNativeEvents","hasHiddenInput","fireRemove","orgDisplay","restoreOriginalStyles","fireDetach","automatic","destroyed","_beforeUnload","theme","formElement","_mceOldSubmit","formEventDelegate","restoreForm","contentAreaContainer","clearDomReferences","deprecatedSettings","deprecatedPlugins","movedToPremiumPlugins","getDeprecatedSettings","settingNames","setting","getDeprecatedPlugins","plugin","pluginNames","deviceDetection","legacyMobilePlugins","defaultTouchSettings","table_grid","object_resizing","normalizePlugins","trimmedPlugins","extractSections","sectionResult","hasSection","getDefaultMobileSettings","mobileSettings","defaultMobileSettings","toolbar_mode","toolbar_sticky","getExternalPlugins","overrideSettings","userDefinedExternalPlugins","external_plugins","getPlatformPlugins","isMobileDevice","desktopPlugins","mobilePlugins","isSectionTheme","processPlugins","defaultOverrideSettings","forcedPlugins","forced_plugins","mobileConfig","getSectionConfig","combinedPlugins","combinePlugins","combineSettings","defaultSettings","defaultDeviceSettings","extendedSettings","isOnMobile","sectionSettings","getSection","getEditorSettings","documentBaseUrl","baseDefaults","document_base_url","add_form_submit_trigger","submit_patch","add_unload_trigger","convert_urls","relative_urls","remove_script_host","visual","hidden_input","convertURL","getDefaultSettings","finalSettings","deprecation_warnings","hasDeprecatedPlugins","hasDeprecatedSettings","isLegacyMobileTheme","listJoiner","themesMessage","pluginsMessage","settingsMessage","logDeprecationsWarning","getFiltered","getParamObject","iconPack","getProp","propName","getComputedSizeProp","getClientWidth","getClientHeight","getMarginTop","getMarginLeft","isXYInContentArea","bodyElm","transposedPoint","isInsideElementContentArea","isEditorAttachedToDom","rawContainer","NotificationManager","getImplementation","unimplemented","getTopNotification","closeNotification","otherNotification","fireEvent","addNotification","getNotifications","serviceMessage","getServiceMessage","registerEvents","WindowManager","dialogs","getParams","setParams","funcBind","addDialog","fireOpenEvent","fireCloseEvent","otherDialog","storeSelectionAndOpenDialog","openDialog","windowManagerImpl","displayNotification","notificationManager","displayError","logError","createLoadError","pluginLoadError","initError","getContentCssUrls","transformToUrls","contentCss","getContentCss","cssLinks","contentCssFile","isContentCssSkinName","appendContentCssFromSettings","getFontCssUrls","UploadStatus","blobUriStatuses","createStatus","resultUri","hasBlobUri","getResultUri","isPending","markPending","markUploaded","removeFailed","uuid","rnd","Uploader","pendingPromises","defaultHandler","xhr","withCredentials","credentials","upload","onprogress","path1","path2","json","responseText","basePath","FormData","filename","handlerSuccess","handlerFailure","resolvePending","uploadBlobs","blobInfos","openNotification","pendingUploadBlobInfo","closeNotification_1","failureOptions","uploadBlobInfo","createUploader","EditorUpload","uploader","imageScanner","toBlobInfo","mime","findFirst","cachedBlobInfo","removeByUri","BlobCache","urlFilters","changeHandler","lastChangedLevel","fireIfChanged","UploadChangeHandler","aliveGuard","replaceString","replaceImageUrl","targetUrl","replacementUrl","replacementString","replaceUrlInUndoStack","uploadImages","scanForImages","imageInfos","imagesToRemove","filteredResult","uploadInfo","shouldReplaceBlobUris","replaceImageUriInView","uploadError","uploadUri","uploadImagesAuto","isValidDataUriImage","imgElm","dataImgFilter","getImagesDataImgFilter","resultItem","replaceBlobUris","source_view","addFilter","FormatRegistry","valigntop","verticalAlign","valignmiddle","valignbottom","alignleft","textAlign","aligncenter","marginLeft","marginRight","alignright","alignjustify","bold","fontWeight","italic","fontStyle","underline","strikethrough","forecolor","hilitecolor","fontname","fontsize","lineheight","lineHeight","fontsize_class","blockquote","subscript","superscript","_fmt","_itemName","removeformat","getFormats","each$5","parsedSelectorToHtml","ancestry","sItem","wrapInHtml","parentCandidate","ancestorName","parentRequired","elmRule","getRequiredParent","siblingElm","parseSelectorItem","$0","$3","$4","previewFrag","parentFontSize","previewCss","previewStyles","getPreviewStyles","removeVars","previewOpt","previewElm","Formatter","formatChangeState","addShortcut","setup$h","toggleFormat","matchFormat","closestFormat","matchAllFormats","matchNodeFormat","canApplyFormat","shouldIgnoreCommand","UndoManager","addUndoLevel","isFirstTypedCharacter","addNonTypingUndoLevel","isDirty","modKey","inputType","isInsertFromPasteOrDrop","addKeyboardShortcuts","nonTypingKeycodes","placeholderAttr","isKeyboardEvent","isDeleteEvent","setup$g","getPlaceholder","updatePlaceholder","isNonTypingKeyboardEvent","showPlaceholder","isTypingKeyboardEvent","isForcedRootBlockFalse","isVisuallyEmpty","firePlaceholderToggle","strongRtl","isInlineTarget","getInlineBoundarySelector","findRootInline","findInlineParents","normalizePosition","normalizeForwards","normalizeBackwards","isTextBlockOrListItem","getParentBlock$1","isBeforeRoot","paddEmptyBody","placeCaretInEmptyBody","blockBoundary","getBlockPosition","blockPosition","readFromRange","fromBlockPos","toBlockPos","blockPos","lastPositionInBlock","skipLastBr","isDifferentBlocks","parent1","parent2","hasSameParent","isEditable$1","getChildrenUntilBlockBoundary","extractChildren","removeEmptyRoot","nestedBlockMerge","toBlock","insertionPoint","sidelongBlockMerge","getInsertionPoint","parentsAndSelf$1","findInsertionPoint","trimBr","mergeBlockInto","mergeBlocks","block1","block2","backspaceDelete$8","isRawNodeInTable","isEverythingSelected","noPrevious","noNext","isSelectionInTable","deleteRange$1","emptyEditor","deleteRangeMergeBlocks","backspaceDelete$7","_forward","isContentEditableTrue$2","isContentEditableFalse$4","showCaret","getNodeRange","renderCaretAtRange","caretPositionNode","caretPositionBeforeNode","ceRoot","renderRangeCaret","isBeforeBoundary","isAfterBoundary","deleteContentAndShowCaret","peekCaretPosition","caretRange","deleteRange","trimEmptyTextNode","backspaceDelete$6","getNextPosFn","isBeforeFn","nextCaretPosition","deleteBoundaryText","DeleteAction","moveToElement","moveToPosition","deleteEmptyBlockOrMoveToCef","toCefElm","blockElm","findCefPosition","isDeleteFromCefDifferentBlocks","getContentEditableAction","caretLocation","isAtContentEditableBlockCaret","getContentEditableBlockAction","skipMoveToActionFromInlineCefToContent","getAncestorCe","backspaceDeleteCaret","hideFakeCaret","deleteElement$1","backspaceDeleteRange","paddEmptyElement","backspaceDelete$5","backspaceDelete$4","deleteCaret$2","startsWithCaretContainer","endsWithCaretContainer","createZwsp","insertInline","insertInlineBefore","insertInlineAfter","insertInlinePos","isPosCaretContainer","caretNode","renderCaret","evaluateUntil","fns","Location","rescope$1","nPos","isNotInsideFormatCaretContainer","findInsideRootInline","start$1","isValidLocation","readLocation","getName","outside","betweenInlines","fromInline","toInline","hasSameParentBlock","skipNoMovement","fromLocation","toLocation","location2","location1","findLocationSimple","findLocation$1","findLocationTraverse","BreakType","modify","moveByWord","hasSelectionModifyApi","VDirection","getBreakType","currentPos","nextPos","Br","Block","Wrap","getPositionsUntil","breakType","breakAt","Eol","getAdjacentLinePositions","getPositionsUntilBreak","findClosestHorizontalPositionFromPoint","lastRect","lastDist","findClosestHorizontalPosition","targetRect","getPositionsUntilPreviousLine","getPositionsUntilNextLine","getPositionsAbove","getPositionsBelow","getNodeClientRects","toArrayWithNode","customEventRootDelegates","beforeUnloadDelegate","walkUntil$1","isAboveFn","isBeflowFn","targetClientRect","upUntil","Up","downUntil","Down","isAboveLine","lineNumber","aboveLineNumber","isLine","isLineNumber","isContentEditableFalse$3","findNode","distanceToRectLeft","distanceToRectRight","isInsideX","isInsideY","findClosestClientRect","allowInside","oldClientRect","oldDistance","newDistance","walkUntil","includeChildren","closestFakeCaret","fakeTargetNodeRects","getFakeCaretTargets","targetNodeRects","checkInside","closestNodeRect","targetNodeRect","checkPosFn","lineRects","findLineNodeRects","caretInfo","moveToRange","renderRangeCaretOpt","moveHorizontally","isBefore","isAfter","rangeIsInContainerBlock","moveVertically","caretClientRect","linePositions","nextLinePositions","nextLineRect","dist1","dist2","caretPositions","isBelowFn","getClientRect","positionsUntil","closestNextLineRect","getLineEndPoint","moveToLineEndPoint$3","setCaretPosition","setSelected","renderCaretLocation","safeRemoveCaretContainer","isAtZwsp","move$2","isInlineTarget$1","findLocation","moveWord","_caret","setupSelectedState","inlineBoundaries","selectedInlines","targetInlines","toggleInlines","inlines","_inline","renderInsideInlineCaret","moveNextWord","movePrevWord","moveToLineEndPoint$2","linePoint","outsideLoc","setCaretLocation","deleteFromTo","rangeFromPositions","backspaceDeleteCollapsed","rescope","toPosition","normalizedFirstPos","normalizedLastPos","hasOnlyTwoOrLessPositionsLeft","backspaceDelete$3","hasOnlyOneChild","deleteLastPosition","parentInlines","isFormatElement$1","innerMost","replaceWithCaretFormat","deleteCaret$1","getParentInlines","normalizedFromPos","willDeleteLastPositionInElement","backspaceDelete$2","deleteElement","backspaceDelete$1","isNearMedia","deleteCaret","parseIndentValue","getIndentStyleName","useMargin","canOutdent","getBlocksToIndent","indentStyleName","intentValue","validateBlocks","isListComponent","parentIsListComponent","indentation","getIndentation","indentUnit","indentValue","styleValue","indentElement","backspaceDelete","nativeCommand","setup$f","deleteCommand","forwardDeleteCommand","setup$e","debounceLongpress","isEqualNode","isBlockElement","isValidTarget","shouldRemoveTextNode","rootNodeName","hasBlockParent","restoreSelection","blockCaretContainer","removeIeControlRect","handleBlockContainer","findBlockCaretContainer","isContentEditableFalse$2","exitPreBlock","getVisualCaretPosition$1","hasForcedRootBlock","newBlock","textBlock","createTextBlock","getHorizontalRange","moveToCeFalseHorizontally","getVerticalRange","down","moveToCeFalseVertically","moveH$2","newRange","moveV$3","moveToLineEndPoint$1","isTarget","rangeBefore","insertElement","insertEmptyLine","insertBr","insertBlock","isAtFirstOrLastLine","isAtLastLine","isAtFirstLine","moveCaretToNewEmptyLine","rootBlockAttrs","getClosestTargetBlock","moveV$2","match$1","defaultPatterns","matchesEvent","moveH$1","moveV$1","moveToLineEndPoint","getClosestCell","getYAxisValue","isTargetCorner","corners","tds","deflate","getCorners","corner","newCorner","oldCorner","oldDist","newDist","findClosestCorner","getClosestCellAbove","getClosestCellBelow","findClosestPositionInAboveCell","findClosestPositionInBelowCell","isAtTableCellLine","lineInfo","startsWithWrapBreak","startsWithBrBreak","breakPos","hasNextBreak","isAtFirstTableCellLine","isAtLastTableCellLine","navigateHorizontally","_td","isCaretAtStartOrEndOfTable","renderBlock","navigateVertically","getClosestAbovePosition","getClosestBelowPosition","mover","moveH","moveV","executeKeydownOverride$3","executeKeydownOverride$2","executeKeyupOverride","moveToCaretPosition","firstNonWhiteSpaceNodeSibling","getParentBlock","hasParent","isListBlock","getContainerBlock","containerBlock","containerBlockParent","isFirstOrLastLi","insert$3","createNewBlock","newBlockName","isFirstChild","tmpRng","hasFirstChild","isEmptyAnchor","containerAndSiblingName","canSplitBlock","normalizeZwspOffset","getEditableRoot","editableRoot","setForcedBlockAttrs","forcedRootBlockAttrs","attrStyles","currentStyles","newStyles","attrClassesOpt","attrClasses","currentClassesOpt","currentClasses","filteredClasses","newClasses","appliedAttrs","remainingAttrs","insert$2","parentBlockName","isAfterLastNodeInContainer","shouldKeepStyles","isCaretAtStartOrEndOfBlock","normalizedOffset","insertNewBlockAfter","containerBlockName","shouldEndContainerOnEmptyBlock","isTableCell","wrapSelfAndSiblingsInDefaultBlock","includeZwspInRange","trimZwsp","trimLeadingLineBreaks","firstChilds","trimInlineElementsOnLeftSideOfBlock","addBrToBlockIfNeeded","moveSelectionToBr","brElm","extraBr","insertBrAtCaret","isControlKey","hasRightSideContent","insertBrBefore","insertBrAfter","hasBrAfter","isAnchorLink","isInsideAnchor","insertBrOutsideAnchor","insert$1","anchorLocation","readInlineAnchorLocation","newLineAction","shouldBlockNewLine","_shiftKey","getNoNewLineSelector","shouldBlockNewLine$1","isBrMode","requiredState","inListBlock","isListItemParentBlock","inBlock","getParentBlockName","inPreBlock","shouldPutBrInPre","shouldPutBrInPre$1","inBrContext","getBrNewLineSelector","shouldInsertBr","hasShiftKey","canInsertIntoEditableRoot","rootEditable","getEditableRoot$1","predicates","setup$9","handleEnterKeyEvent","executeKeydownOverride$1","keypressThrotter","setupIeInput","isComposing","isPageUpDown","setNodeChangeBlocker","blocked","executeKeyupAction","insertTextAtPosition","insertNbspAtPosition","insertSpaceAtPosition","insertInlineBoundarySpaceOrNbsp","checkPos","needsToHaveNbsp","insertSpaceOrNbspAtSelection","locationToCaretPosition","setSelection","executeKeydownOverride","registerKeyboardOverrides","setup$c","NodeChange","lastPath","nativeRng","fakeRng","isSameElementPath","currentPath","preventSummaryToggle","filterDetails","isTextBlockNode","normalizeSelection","getAbsolutePosition","calc","bodyPosition","getBodyPosition","scrollPosition","getScrollPosition","mousePosition","iframePosition","inlineScroll","iframeScroll","getBodyScroll","getMousePosition","isContentEditableFalse$1","isContentEditableTrue$1","createGhost","clonedElm","boxSizing","removeElement","isLeftMouseButtonPressed","ceElm","elmPos","dragging","relX","relY","ghost","dragElement","isValidDropTarget","targetClone_1","cloneElm","removeDragState","bindFakeDragEvents","pageDom","dragStartHandler","dragHandler","throttledPlaceCaretAt","targetPos","applyRelPos","overflowX","moveGhost","dropHandler","dragEndHandler","realTarget","blockIeDrop","shouldBlockUnsupportedDrop","preventFileDrop","preventFileDropIfUIElement","editorRoot","eventNames","blockUnsupportedFileDrop","getContentEditableRoot","SelectionOverrides","fakeCaret","realSelectionId","isFakeSelectionTargetElement","isNearFakeSelectionElement","setRange","getRange","isWithinCaretContainer","isRangeInCaretContainer","normalizeShortEndedElementSelection","selectElement","targetClone","origTargetClone","$realSelectionContainer","setupOffscreenSelection","nodeElm","setElementSelection","afterNode","removeElementSelection","contentEditableRoot","hasBetterMouseTarget","targetBlock","hasNormalCaretPosition","fakeCaretInfo","clipboardData","realSelectionElement","clearData","outerText","renderFocusCaret","Quirks","getAttributeApplyFunction","isSelectionAcrossElements","isGecko","isWebKit","mceInternalUrlPrefix","mceInternalDataType","setEditorCommandState","emptyEditorWhenDeleting","serializeRng","allRng","allContentsSelected","selectAll","documentElementEditingFocus","Range","body_1","selectControlElements","disableBackspaceIntoATable","setGeckoEditingOptions","isReadOnly$1","addBrAfterLastLinks","showBrokenImageIcon","contentStyles","restoreFocusOnKeyDown","bodyHeight","blockCmdArrowNavigation","tapLinksAndImages","blockFormSubmitInsideEditor","ieInternalDragAndDrop","selectionHtml","internalContent","setMceInternalContent","getMceInternalContent","queryCommandSupported","template","setAttributeNode","DOM$6","getRootName","removeUndefined","mkParserSettings","moveSelectionToFirstCaretPosition","storeNative","initEditor","bindPendingEventDelegates","fireInit","execCallback","auto_focus","autoFocus","getStyleSheetLoader$1","loadContentCss","removeCss","contentCssText_1","allStylesheets","framedFonts","makeStylesheetLoadingPromises","content_style","appendStyle","preInit","firePreInit","browser_spellcheck","gecko_spellcheck","spellcheck","firePostRender","directionality","getDirectionality","protect","initEditorWithInitialContent","startContent","loadInitialContent","initContentBody","skipWrite","orgVisibility","iframeHTML","hex_colors","force_hex_style_colors","createParser","boolean_attributes","move_caret_before_on_enter_elements","non_empty_elements","short_ended_elements","text_inline_elements","whitespace_elements","mkSerializerSettings","annotator","_nodeChangeDispatcher","setupRtcThunk","setupRtc","setProgressState","_rtcMode","DOM$5","getIframeHtml","getDocType","bodyId","getBodyId","bodyClass","getBodyClass","translatedAriaText","getIframeAriaText","createIframe","customAttrs","iframeTitle","ifr","getIframeAttrs","frameBorder","allowTransparency","isDomainRelaxed","domain","hostname","bodyUuid","domainRelaxUrl","relaxDomain","DOM$4","initPlugin","initializedPlugins","Plugin","pluginInstance","pluginInitError","trimLegacyPrefix","createThemeFalseResult","renderThemeFalse","renderThemeFalseIframe","renderThemeUi","renderFromLoadedTheme","iframeHeight","renderFromThemeFunc","iconPackName","currentIcons","loadIcons","svgData","addIcon","initIcons","Theme","initTheme","initPlugins","renderInfo","uiApiFacade","augmentEditorUiApi","boxInfo","hidden","DOM$3","hasSkipLoadPrefix","loadLanguage","scriptLoader","languageCode","languageUrl","getLanguageUrl","url_1","languageLoadError","getIconsUrlMetaFromName","defaultIconsUrl","customIconsUrl","getIconsUrl","getIconsUrlMetaFromUrl","urlMeta","iconsLoadError","themeUrl","getThemeUrl","loadTheme","getExternalPlugins$1","depPlugin","url_2","loadPlugins","clone$3","getStyleSheetLoader","resetContent","shouldPatchSubmit","triggerSave","isEncodingXml","shouldAddFormSubmitTrigger","shouldAddUnloadTrigger","set_dirty","addVisual$1","legacyPropNames","getSpecifiedFontProp","legacyPropName","getProperty","getFontProp","getComputedFontProp","getFontSize","getFontFamily","findFirstCaretElement","bindRange","getCaretElement","mapRange","mapper","fromFontSizeNumber","fontSizeNumber","getFontStyleValues","fontClasses","getFontSizeClasses","normalizeFontNames","insertAtCaret","processValue","each$4","EditorCommands","setupCommands","skip_focus","customCommand","addCommands","commandList","hasCustomCommand","execNativeCommand","isFormatMatch","storeSelection","selectionBookmark","_command","queryCommandEnabled","listParent","fontNameAction","fontSizeAction","lineHeightAction","editingHost","selectNodeContents","alignStates","Undo","Redo","fontNameQuery","fontSizeQuery","specifiedStyle","lineHeightQuery","internalContentEditableAttr","setContentEditable","toggleReadOnly","removeFakeSelection","switchOnContentEditableTrue","restoreFakeSelection","registerFilters","processReadonlyEvents","isClickEvent","getAnchorHrefOpt","targetEl","nativeEvents","EventDispatcher","bindings","toggleEvent","isNative","beforeFire","wrappedCallback","currentName","bindingName","filteredHandlers","getEventDispatcher","_eventDispatcher","toggleNativeEvent","Observable","dispatcherArgs","DOM$2","getEventTarget","eventRoot","isListening","bindEventDelegate","delegates","eventRootElm","editors","EditorObservable","_pendingNativeEvents","defaultModes","switchToMode","activeMode","availableModes","oldMode","activate","deactivate","editorReadOnly","fireSwitchMode","design","registerReadOnlyContentFilters","registerReadOnlySelectionBlockers","registerMode","each$3","explode$1","keyCodeLookup","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","modifierNames","parseShortcut","charCode","Shortcuts","pendingPatterns","hasModifier","isFunctionKey","matchShortcut","subpatterns","executeShortcutAction","cmdFunc","normalizeCommandFunc","createShortcut","bridge","addAutocompleter","addContextMenu","addContextToolbar","addContextForm","addSidebar","DOM$1","extend$3","each$2","Editor","loadedCSS","isNotDirty","documentBaseURL","base_url","_setBaseUrl","baseURI","referrer_policy","language_load","editorCommands","cache_suffix","modeInstance","callbackLookup","initialContent","oldState","urlconverter_callback","_scanForImages","extend$2","instanceCounter","boundGlobalEvents","legacyEditors","globalEventDelegate","EditorManager","toggleGlobalEvents","removeEditorFromList","targetEditor","oldEditors","isQuirksMode","compatMode","majorVersion","minorVersion","releaseDate","i18n","tinyMCEPreInit","srcScript","currentScript","pluginBaseUrls","plugin_base_urls","pluginBaseUrl","invalidInlineTargets","createId","provideResults","initEditors","initCount","createEditor","editor_deselector","editor_selector","findTargets","isInvalidInlineTarget","addI18n","tasks","resultFns","extendClass","initializing","min$1","max$1","relativePosition","targetW","targetH","relChars","Rect","findBestRelativePosition","constrainRect","rels","intersect","x1","y1","fixedSize","cx2","cy2","underflowX1","underflowY1","overflowX2","overflowY2","fromClientRect","Resource","loadErrMsg","runErrMsg","task","waiter","resolveCb","rejectCb","awaiter","extend$1","Class","_super","mixins","mixin","Mixins","dummy","Methods","Properties","Statics","Defaults","member","createMethod","localStorage","JSONUtils","hexCode","JSONP","XHR","ready","async","success_scope","error_scope","overrideMimeType","content_type","crossDomain","setRequestHeader","requestheaders","JSONRequest","sendRPC","ecb","scb","xhrArgs","ty","method","removeItem","configurable","enumerable","publicApi","geom","LocalStorage","Color","hsvToRgb","toRgb","toHsv","rgb2hsv","ImageUploader","showNotification","TreeWalker","Serializer","Selection","isMac","tinyMCE","exportToWindowGlobal","exportToModuleLoaders"],"sourceRoot":""}