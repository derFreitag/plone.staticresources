(self.webpackChunkplone_staticresources=self.webpackChunkplone_staticresources||[]).push([[34221,65167],{57722:function(e){e.exports=function(e){var t=document.head.querySelectorAll("*")[0];t?document.head.insertBefore(e,t):document.head.append(e)}},84465:function(e,t,n){"use strict";var l=n(71354),r=n.n(l),o=n(76314),s=n.n(o)()(r());s.push([e.id,".content-browser-position-wrapper.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{position:fixed;top:0;right:0;display:flex;justify-content:end;z-index:1500;width:100%;height:100vh;background-color:rgba(0,0,0,.25)}.btn-xs.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{--bs-btn-padding-y:0.15rem;--bs-btn-padding-x:0.5rem;--bs-btn-font-size:0.75rem}.content-browser.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{height:100vh;min-width:550px;background-color:var(--bs-light-bg-subtle);border-left:var(--bs-border-style) var(--bs-border-width) #fff;z-index:1500;display:flex;flex-direction:column}.toolBar.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{background-color:var(--bs-primary);padding:.325rem .75rem;color:var(--bs-light);width:100%;display:flex;justify-content:start}.toolBar.svelte-1lcbp2k svg{vertical-align:-0.125em}.levelColumns.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{display:flex;flex-wrap:nowrap;width:100%;overflow:hidden;flex-grow:3;border-left:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);user-select:none}.levelColumn.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{width:320px;border-right:var(--bs-border-style) var(--bs-border-width) var(--bs-border-color);display:flex;flex-direction:column}.levelToolbar.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{width:100%;height:2.5rem;display:flex;justify-content:space-between;padding:.375rem;border-bottom:var(--bs-border-style) var(--bs-border-width) var(--bs-border-color)}.levelToolbar.svelte-1lcbp2k>.levelActions.svelte-1lcbp2k.svelte-1lcbp2k{margin-left:auto}.levelItems.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{overflow-x:auto}.contentItem.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{display:flex;align-items:center;justify-content:space-between;font-size:90%;min-height:2rem}.contentItem.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k:focus-visible{outline:none}.contentItem.even.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{background-color:rgba(var(--bs-secondary-bg-rgb), 0.4)}.contentItem.inPath.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k,.contentItem.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k:focus{background-color:rgba(var(--bs-primary-rgb), 0.15)}.contentItem.selectedItem.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{background-color:var(--bs-primary);color:var(--bs-body-bg)}.contentItem.svelte-1lcbp2k>.svelte-1lcbp2k.svelte-1lcbp2k{padding:.5rem;white-space:nowrap;max-width:450px;text-overflow:ellipsis;overflow:hidden}.contentItem.svelte-1lcbp2k>.browseSub.svelte-1lcbp2k.svelte-1lcbp2k{flex-shrink:0}.contentItem.svelte-1lcbp2k .grid-preview.svelte-1lcbp2k>img.svelte-1lcbp2k{width:95px;height:95px;object-fit:cover;float:left;margin-right:1rem}.preview.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{width:320px;min-height:300px;display:flex;flex-direction:column;align-items:center}.preview.svelte-1lcbp2k .info.svelte-1lcbp2k.svelte-1lcbp2k{padding:.5rem;width:100%;word-wrap:anywhere}.preview.svelte-1lcbp2k .info .previewIcon.svelte-1lcbp2k.svelte-1lcbp2k{margin:0 auto 1rem auto}.preview.svelte-1lcbp2k .info .previewIcon svg.svelte-1lcbp2k.svelte-1lcbp2k{width:50px !important;height:50px !important}.preview.svelte-1lcbp2k h4.svelte-1lcbp2k.svelte-1lcbp2k{font-size:1.2 rem}.preview.svelte-1lcbp2k img.svelte-1lcbp2k.svelte-1lcbp2k{max-width:100%;max-width:100%;margin-bottom:.5rem}.upload-wrapper.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{padding:1rem;width:590px;overflow-x:auto}.loadmore.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{text-align:center;padding:.25rem 0}","",{version:3,sources:["webpack://./node_modules/@plone/mockup/src/pat/contentbrowser/src/ContentBrowser.svelte"],names:[],mappings:"AAAA,+EAAA,cAAA,CAAA,KAAA,CAAA,OAAA,CAAA,YAAA,CAAA,mBAAA,CAAA,YAAA,CAAA,UAAA,CAAA,YAAA,CAAA,gCAAA,CAAA,qDAAA,0BAAA,CAAA,yBAAA,CAAA,0BAAA,CAAA,8DAAA,YAAA,CAAA,eAAA,CAAA,0CAAA,CAAA,8DAAA,CAAA,YAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,sDAAA,kCAAA,CAAA,sBAAA,CAAA,qBAAA,CAAA,UAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,4BAAA,uBAAA,CAAA,2DAAA,YAAA,CAAA,gBAAA,CAAA,UAAA,CAAA,eAAA,CAAA,WAAA,CAAA,gFAAA,CAAA,gBAAA,CAAA,0DAAA,WAAA,CAAA,iFAAA,CACmC,YAAA,CAAA,qBAAA,CAAA,2DAAA,UAAA,CAAA,aAAA,CAAA,YAAA,CAAA,6BAAA,CAAA,eAAA,CAAA,kFAAA,CACA,yEAAA,gBAAA,CAAA,yDAAA,eAAA,CAAA,0DAAA,YAAA,CAAA,kBAAA,CAAA,6BAAA,CAAA,aAAA,CAAA,eAAA,CAAA,wEAAA,YAAA,CAAA,+DAAA,sDAAA,CAAA,iIAAA,kDAAA,CAAA,uEAAA,kCAAA,CAAA,uBAAA,CAAA,2DAAA,aAAA,CAAA,kBAAA,CAAA,eAAA,CAAA,sBAAA,CAAA,eAAA,CAAA,qEAAA,aAAA,CAAA,4EAAA,UAAA,CAAA,WAAA,CAAA,gBAAA,CAAA,UAAA,CAAA,iBAAA,CAAA,sDAAA,WAAA,CAAA,gBAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,kBAAA,CAAA,4DAAA,aAAA,CAAA,UAAA,CAAA,kBAAA,CAAA,yEAAA,uBAAA,CAAA,6EAAA,qBAAA,CAAA,sBAAA,CAAA,yDAAA,iBAAA,CAAA,0DAAA,cAAA,CAAA,cAAA,CAAA,mBAAA,CAAA,6DAAA,YAAA,CAAA,WAAA,CAAA,eAAA,CAAA,uDAAA,iBAAA,CAAA,gBAAA",sourceRoot:""}]),t.A=s},52742:function(e,t,n){"use strict";var l=n(71354),r=n.n(l),o=n(76314),s=n.n(o)()(r());s.push([e.id,".content-browser-selected-items-wrapper.svelte-bljrxf.svelte-bljrxf.svelte-bljrxf{display:flex;align-items:start}.content-browser-selected-items.svelte-bljrxf.svelte-bljrxf.svelte-bljrxf{list-style:none;background-color:var(--bs-body-bg);border-radius:var(--bs-border-radius) 0 0 var(--bs-border-radius);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);min-height:2.4rem;padding:.5rem .5rem 0 .5rem;flex:1 1 auto}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf.svelte-bljrxf{border-radius:var(--bs-border-radius);background-color:var(--bs-tertiary-bg);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);padding:.5rem;margin-bottom:.5rem;display:flex;flex-wrap:nowrap;align-items:start;justify-content:space-between;cursor:move}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf>.svelte-bljrxf{margin-right:.5rem;display:block}.content-browser-selected-items.svelte-bljrxf .selected-item button.svelte-bljrxf.svelte-bljrxf{cursor:pointer;padding:0 .375rem .374rem 0}.content-browser-selected-items.svelte-bljrxf .selected-item .item-info.svelte-bljrxf.svelte-bljrxf{display:flex;align-items:start}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf>img.svelte-bljrxf{object-fit:cover;width:95px;height:95px}","",{version:3,sources:["webpack://./node_modules/@plone/mockup/src/pat/contentbrowser/src/SelectedItems.svelte"],names:[],mappings:"AAAA,kFAAA,YAAA,CAAA,iBAAA,CAAA,0EAAA,eAAA,CAAA,kCAAA,CAAA,iEAAA,CAAA,2EAAA,CAAA,iBAAA,CAAA,2BAAA,CAAA,aAAA,CAAA,yFAAA,qCAAA,CAAA,sCAAA,CAAA,2EAAA,CAAA,aAAA,CAAA,mBAAA,CAAA,YAAA,CAAA,gBAAA,CAAA,iBAAA,CAAA,6BAAA,CAAA,WAAA,CAAA,0FAAA,kBAAA,CAAA,aAAA,CAAA,gGAAA,cAAA,CAAA,2BAAA,CAAA,oGAAA,YAAA,CAAA,iBAAA,CAAA,6FAAA,gBAAA,CAAA,UAAA,CAAA,WAAA",sourceRoot:""}]),t.A=s},76314:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",l=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),l&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),l&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,l,r,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(l)for(var c=0;c<this.length;c++){var i=this[c][0];null!=i&&(s[i]=!0)}for(var a=0;a<e.length;a++){var u=[].concat(e[a]);l&&s[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),t.push(u))}},t}},71354:function(e){"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var l=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),o="/*# ".concat(r," */");return[t].concat([o]).join("\n")}return[t].join("\n")}},85072:function(e){"use strict";var t=[];function n(e){for(var n=-1,l=0;l<t.length;l++)if(t[l].identifier===e){n=l;break}return n}function l(e,l){for(var o={},s=[],c=0;c<e.length;c++){var i=e[c],a=l.base?i[0]+l.base:i[0],u=o[a]||0,d="".concat(a," ").concat(u);o[a]=u+1;var p=n(d),A={css:i[1],media:i[2],sourceMap:i[3],supports:i[4],layer:i[5]};if(-1!==p)t[p].references++,t[p].updater(A);else{var f=r(A,l);l.byIndex=c,t.splice(c,0,{identifier:d,updater:f,references:1})}s.push(d)}return s}function r(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var o=l(e=e||[],r=r||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var c=n(o[s]);t[c].references--}for(var i=l(e,r),a=0;a<o.length;a++){var u=n(o[a]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=i}}},10540:function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},55056:function(e,t,n){"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},97825:function(e){"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var l="";n.supports&&(l+="@supports (".concat(n.supports,") {")),n.media&&(l+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(l+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),l+=n.css,r&&(l+="}"),n.media&&(l+="}"),n.supports&&(l+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(l+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(l,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},41113:function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},34221:function(e,t,n){"use strict";function l(){}n.r(t),n.d(t,{default:function(){return kn}});const r=e=>e;function o(e){return e()}function s(){return Object.create(null)}function c(e){e.forEach(o)}function i(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let u;function d(e,t){return e===t||(u||(u=document.createElement("a")),u.href=t,e===u.href)}function p(e,...t){if(null==e){for(const e of t)e(void 0);return l}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function A(e){let t;return p(e,(e=>t=e))(),t}function f(e,t,n){e.$$.on_destroy.push(p(t,n))}function m(e,t,n){return e.set(n),t}function h(e){return e&&i(e.destroy)?e.destroy:l}function b(e){const t="string"==typeof e&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const v="undefined"!=typeof window;let g=v?()=>window.performance.now():()=>Date.now(),y=v?e=>requestAnimationFrame(e):l;const $=new Set;function w(e){$.forEach((t=>{t.c(e)||($.delete(t),t.f())})),0!==$.size&&y(w)}function k(e){let t;return 0===$.size&&y(w),{promise:new Promise((n=>{$.add(t={c:e,f:n})})),abort(){$.delete(t)}}}const x="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;class C{_listeners="WeakMap"in x?new WeakMap:void 0;_observer=void 0;options;constructor(e){this.options=e}observe(e,t){return this._listeners.set(e,t),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){return this._observer??(this._observer=new ResizeObserver((e=>{for(const t of e)C.entries.set(t.target,t),this._listeners.get(t.target)?.(t)})))}}C.entries="WeakMap"in x?new WeakMap:void 0;let I=!1;function _(e,t){e.appendChild(t)}function U(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function S(e){const t=B("style");return t.textContent="/* empty */",T(U(e),t),t.sheet}function T(e,t){return _(e.head||e,t),t.sheet}function E(e,t,n){e.insertBefore(t,n||null)}function D(e){e.parentNode&&e.parentNode.removeChild(e)}function P(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function B(e){return document.createElement(e)}function j(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function L(e){return document.createTextNode(e)}function O(){return L(" ")}function N(){return L("")}function q(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function M(e){return function(t){return t.preventDefault(),e.call(this,t)}}function z(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function R(e,t){t=""+t,e.data!==t&&(e.data=t)}function Y(e,t,n,l){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,l?"important":"")}function W(e,t,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:l})}const F=new Map;let K,H=0;function J(e,t,n,l,r,o,s,c=0){const i=16.666/l;let a="{\n";for(let e=0;e<=1;e+=i){const l=t+(n-t)*o(e);a+=100*e+`%{${s(l,1-l)}}\n`}const u=a+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${c}`,p=U(e),{stylesheet:A,rules:f}=F.get(p)||function(e,t){const n={stylesheet:S(t),rules:{}};return F.set(e,n),n}(p,e);f[d]||(f[d]=!0,A.insertRule(`@keyframes ${d} ${u}`,A.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${d} ${l}ms linear ${r}ms 1 both`,H+=1,d}function V(e,t){const n=(e.style.animation||"").split(", "),l=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),r=n.length-l.length;r&&(e.style.animation=l.join(", "),H-=r,H||y((()=>{H||(F.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&D(t)})),F.clear())})))}function X(e){const t=getComputedStyle(e);if("absolute"!==t.position&&"fixed"!==t.position){const{width:n,height:l}=t,r=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=l,function(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const l=getComputedStyle(e),r="none"===l.transform?"":l.transform;e.style.transform=`${r} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}(e,r)}}function G(e){K=e}function Q(){if(!K)throw new Error("Function called outside component initialization");return K}function Z(){const e=Q();return(t,n,{cancelable:l=!1}={})=>{const r=e.$$.callbacks[t];if(r){const o=W(t,n,{cancelable:l});return r.slice().forEach((t=>{t.call(e,o)})),!o.defaultPrevented}return!0}}function ee(e,t){return Q().$$.context.set(e,t),t}function te(e){return Q().$$.context.get(e)}const ne=[],le=[];let re=[];const oe=[],se=Promise.resolve();let ce=!1;function ie(){ce||(ce=!0,se.then(Ae))}function ae(e){re.push(e)}const ue=new Set;let de,pe=0;function Ae(){if(0!==pe)return;const e=K;do{try{for(;pe<ne.length;){const e=ne[pe];pe++,G(e),fe(e.$$)}}catch(e){throw ne.length=0,pe=0,e}for(G(null),ne.length=0,pe=0;le.length;)le.pop()();for(let e=0;e<re.length;e+=1){const t=re[e];ue.has(t)||(ue.add(t),t())}re.length=0}while(ne.length);for(;oe.length;)oe.pop()();ce=!1,ue.clear(),G(e)}function fe(e){if(null!==e.fragment){e.update(),c(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ae)}}function me(){return de||(de=Promise.resolve(),de.then((()=>{de=null}))),de}function he(e,t,n){e.dispatchEvent(W(`${t?"intro":"outro"}${n}`))}const be=new Set;let ve;function ge(){ve={r:0,c:[],p:ve}}function ye(){ve.r||c(ve.c),ve=ve.p}function $e(e,t){e&&e.i&&(be.delete(e),e.i(t))}function we(e,t,n,l){if(e&&e.o){if(be.has(e))return;be.add(e),ve.c.push((()=>{be.delete(e),l&&(n&&e.d(1),l())})),e.o(t)}else l&&l()}const ke={duration:0};function xe(e,t,n,o){let s,a=t(e,n,{direction:"both"}),u=o?0:1,d=null,p=null,A=null;function f(){A&&V(e,A)}function m(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function h(t){const{delay:n=0,duration:o=300,easing:i=r,tick:h=l,css:b}=a||ke,v={start:g()+n,b:t};t||(v.group=ve,ve.r+=1),"inert"in e&&(t?void 0!==s&&(e.inert=s):(s=e.inert,e.inert=!0)),d||p?p=v:(b&&(f(),A=J(e,u,t,o,n,i,b)),t&&h(0,1),d=m(v,o),ae((()=>he(e,t,"start"))),k((t=>{if(p&&t>p.start&&(d=m(p,o),p=null,he(e,d.b,"start"),b&&(f(),A=J(e,u,d.b,d.duration,0,i,a.css))),d)if(t>=d.end)h(u=d.b,1-u),he(e,d.b,"end"),p||(d.b?f():--d.group.r||c(d.group.c)),d=null;else if(t>=d.start){const e=t-d.start;u=d.a+d.d*i(e/d.duration),h(u,1-u)}return!(!d&&!p)})))}return{run(e){i(a)?me().then((()=>{a=a({direction:e?"in":"out"}),h(e)})):h(e)},end(){f(),d=p=null}}}function Ce(e,t){const n=t.token={};function l(e,l,r,o){if(t.token!==n)return;t.resolved=o;let s=t.ctx;void 0!==r&&(s=s.slice(),s[r]=o);const c=e&&(t.current=e)(s);let i=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==l&&e&&(ge(),we(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),ye())})):t.block.d(1),c.c(),$e(c,1),c.m(t.mount(),t.anchor),i=!0),t.block=c,t.blocks&&(t.blocks[l]=c),i&&Ae()}if(!(r=e)||"object"!=typeof r&&"function"!=typeof r||"function"!=typeof r.then){if(t.current!==t.then)return l(t.then,1,t.value,e),!0;t.resolved=e}else{const n=Q();if(e.then((e=>{G(n),l(t.then,1,t.value,e),G(null)}),(e=>{if(G(n),l(t.catch,2,t.error,e),G(null),!t.hasCatch)throw e})),t.current!==t.pending)return l(t.pending,0),!0}var r}function Ie(e){return void 0!==e?.length?e:Array.from(e)}function _e(e,t){e.d(1),t.delete(e.key)}function Ue(e,t){e.f(),_e(e,t)}function Se(e,t,n,l,r,o,s,i,a,u,d,p){let A=e.length,f=o.length,m=A;const h={};for(;m--;)h[e[m].key]=m;const b=[],v=new Map,g=new Map,y=[];for(m=f;m--;){const e=p(r,o,m),c=n(e);let i=s.get(c);i?l&&y.push((()=>i.p(e,t))):(i=u(c,e),i.c()),v.set(c,b[m]=i),c in h&&g.set(c,Math.abs(m-h[c]))}const $=new Set,w=new Set;function k(e){$e(e,1),e.m(i,d),s.set(e.key,e),d=e.first,f--}for(;A&&f;){const t=b[f-1],n=e[A-1],l=t.key,r=n.key;t===n?(d=t.first,A--,f--):v.has(r)?!s.has(l)||$.has(l)?k(t):w.has(r)?A--:g.get(l)>g.get(r)?(w.add(l),k(t)):($.add(r),A--):(a(n,s),A--)}for(;A--;){const t=e[A];v.has(t.key)||a(t,s)}for(;f;)k(b[f-1]);return c(y),b}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);let Te;function Ee(e){e&&e.c()}function De(e,t,n){const{fragment:l,after_update:r}=e.$$;l&&l.m(t,n),ae((()=>{const t=e.$$.on_mount.map(o).filter(i);e.$$.on_destroy?e.$$.on_destroy.push(...t):c(t),e.$$.on_mount=[]})),r.forEach(ae)}function Pe(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];re.forEach((l=>-1===e.indexOf(l)?t.push(l):n.push(l))),n.forEach((e=>e())),re=t}(n.after_update),c(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Be(e,t,n,r,o,i,a=null,u=[-1]){const d=K;G(e);const p=e.$$={fragment:null,ctx:[],props:i,update:l,not_equal:o,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:s(),dirty:u,skip_bound:!1,root:t.target||d.$$.root};a&&a(p.root);let A=!1;if(p.ctx=n?n(e,t.props||{},((t,n,...l)=>{const r=l.length?l[0]:n;return p.ctx&&o(p.ctx[t],p.ctx[t]=r)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](r),A&&function(e,t){-1===e.$$.dirty[0]&&(ne.push(e),ie(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],p.update(),A=!0,c(p.before_update),p.fragment=!!r&&r(p.ctx),t.target){if(t.hydrate){I=!0;const e=(f=t.target,Array.from(f.childNodes));p.fragment&&p.fragment.l(e),e.forEach(D)}else p.fragment&&p.fragment.c();t.intro&&$e(e.$$.fragment),De(e,t.target,t.anchor),I=!1,Ae()}var f;G(d)}function je(e,t,n,l){const r=n[e]?.type;if(t="Boolean"===r&&"boolean"!=typeof t?null!=t:t,!l||!n[e])return t;if("toAttribute"===l)switch(r){case"Object":case"Array":return null==t?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return null==t?null:t;default:return t}else switch(r){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":default:return t;case"Number":return null!=t?+t:t}}"function"==typeof HTMLElement&&(Te=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=!1;$$d={};$$r=!1;$$p_d={};$$l={};$$l_u=new Map;constructor(e,t,n){super(),this.$$ctor=e,this.$$s=t,n&&this.attachShadow({mode:"open"})}addEventListener(e,t,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){const n=this.$$c.$on(e,t);this.$$l_u.set(t,n)}super.addEventListener(e,t,n)}removeEventListener(e,t,n){if(super.removeEventListener(e,t,n),this.$$c){const e=this.$$l_u.get(t);e&&(e(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){if(await Promise.resolve(),!this.$$cn||this.$$c)return;function e(e){return()=>{let t;return{c:function(){t=B("slot"),"default"!==e&&z(t,"name",e)},m:function(e,n){E(e,t,n)},d:function(e){e&&D(t)}}}}const t={},n=function(e){const t={};return e.childNodes.forEach((e=>{t[e.slot||"default"]=!0})),t}(this);for(const r of this.$$s)r in n&&(t[r]=[e(r)]);for(const o of this.attributes){const s=this.$$g_p(o.name);s in this.$$d||(this.$$d[s]=je(s,o.value,this.$$p_d,"toProp"))}for(const c in this.$$p_d)c in this.$$d||void 0===this[c]||(this.$$d[c]=this[c],delete this[c]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$scope:{ctx:[]}}});const l=()=>{this.$$r=!0;for(const e in this.$$p_d)if(this.$$d[e]=this.$$c.$$.ctx[this.$$c.$$.props[e]],this.$$p_d[e].reflect){const t=je(e,this.$$d[e],this.$$p_d,"toAttribute");null==t?this.removeAttribute(this.$$p_d[e].attribute||e):this.setAttribute(this.$$p_d[e].attribute||e,t)}this.$$r=!1};this.$$c.$$.after_update.push(l),l();for(const i in this.$$l)for(const a of this.$$l[i]){const u=this.$$c.$on(i,a);this.$$l_u.set(a,u)}this.$$l={}}}attributeChangedCallback(e,t,n){this.$$r||(e=this.$$g_p(e),this.$$d[e]=je(e,n,this.$$p_d,"toProp"),this.$$c?.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then((()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$c=void 0)}))}$$g_p(e){return Object.keys(this.$$p_d).find((t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e))||e}});class Le{$$=void 0;$$set=void 0;$destroy(){Pe(this,1),this.$destroy=l}$on(e,t){if(!i(t))return l;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");var Oe=n(23505),Ne=n(8633);function qe(e){const t=e-1;return t*t*t+1}var Me={$(e){return"string"==typeof e?document.querySelector(e):e},extend(...e){return Object.assign(...e)},cumulativeOffset(e){let t=0,n=0;do{t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:n}},directScroll(e){return e&&e!==document&&e!==document.body},scrollTop(e,t){let n=void 0!==t;return this.directScroll(e)?n?e.scrollTop=t:e.scrollTop:n?document.documentElement.scrollTop=document.body.scrollTop=t:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},scrollLeft(e,t){let n=void 0!==t;return this.directScroll(e)?n?e.scrollLeft=t:e.scrollLeft:n?document.documentElement.scrollLeft=document.body.scrollLeft=t:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0}};const ze={container:"body",duration:500,delay:0,offset:0,easing:function(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1},onStart:l,onDone:l,onAborting:l,scrollX:!1,scrollY:!0},Re=e=>{let{offset:t,duration:n,delay:l,easing:r,x:o=0,y:s=0,scrollX:c,scrollY:i,onStart:a,onDone:u,container:d,onAborting:p,element:A}=e;"function"==typeof t&&(t=t());var f=Me.cumulativeOffset(d),m=A?Me.cumulativeOffset(A):{top:s,left:o},h=Me.scrollLeft(d),b=Me.scrollTop(d),v=m.left-f.left+t,y=m.top-f.top+t,$=v-h,w=y-b;let x=!0,C=!1,I=g()+l,_=I+n;function U(e){e||(C=!0,a(A,{x:o,y:s}))}function S(e){!function(e,t,n){c&&Me.scrollLeft(e,n),i&&Me.scrollTop(e,t)}(d,b+w*e,h+$*e)}function T(){x=!1}return k((e=>{if(!C&&e>=I&&U(!1),C&&e>=_&&(S(1),T(),u(A,{x:o,y:s})),!x)return p(A,{x:o,y:s}),!1;if(C){S(0+1*r((e-I)/n))}return!0})),U(l),S(0),T},Ye=e=>{let t=Me.extend({},ze,e);return t.container=Me.$(t.container),t.element=Me.$(t.element),t},We=e=>{if(e&&e!==document&&e!==document.body)return e.scrollHeight-e.offsetHeight;{let e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}},Fe=e=>Re(Ye(e)),Ke=e=>(t,n)=>{let l=n;const r=t=>{t.preventDefault(),e("string"==typeof l?{element:l}:l)};return t.addEventListener("click",r),t.addEventListener("touchstart",r),{update(e){l=e},destroy(){t.removeEventListener("click",r),t.removeEventListener("touchstart",r)}}};Ke(Fe),Ke((e=>(e=Ye(e),Re(Me.extend(e,{element:null,y:0}))))),Ke((e=>(e=Ye(e),Re(Me.extend(e,{element:null,y:We(e.container)})))));function He(e,{delay:t=0,duration:n=400,easing:l=qe,x:r=0,y:o=0,opacity:s=0}={}){const c=getComputedStyle(e),i=+c.opacity,a="none"===c.transform?"":c.transform,u=i*(1-s),[d,p]=b(r),[A,f]=b(o);return{delay:t,duration:n,easing:l,css:(e,t)=>`\n\t\t\ttransform: ${a} translate(${(1-e)*d}${p}, ${(1-e)*A}${f});\n\t\t\topacity: ${i-u*t}`}}var Je=n(20681),Ve=n(98146);const Xe=[];function Ge(e,t=l){let n;const r=new Set;function o(t){if(a(e,t)&&(e=t,n)){const t=!Xe.length;for(const t of r)t[1](),Xe.push(t,e);if(t){for(let e=0;e<Xe.length;e+=2)Xe[e][0](Xe[e+1]);Xe.length=0}}}function s(t){o(t(e))}return{set:o,update:s,subscribe:function(c,i=l){const a=[c,i];return r.add(a),1===r.size&&(n=t(o,s)||l),c(e),()=>{r.delete(a),0===r.size&&n&&(n(),n=null)}}}}var Qe=n(59994);async function Ze(e){let{method:t="GET",vocabularyUrl:n=null,attributes:l=[],path:r=null,uids:o=null,searchTerm:s=null,searchPath:c=null,levelInfoPath:i=null,selectableTypes:a=[],pageSize:u=100,page:d=1}=e,p={criteria:[]};if(r&&(p={criteria:[{i:"path",o:"plone.app.querystring.operation.string.path",v:`${r}::1`}],sort_on:"getObjPositionInParent",sort_order:"ascending"}),i&&(p={criteria:[{i:"path",o:"plone.app.querystring.operation.string.path",v:`${i}::0`}]}),c&&(p={criteria:[{i:"path",o:"plone.app.querystring.operation.string.path",v:c}]},a.length&&p.criteria.push({i:"portal_type",o:"plone.app.querystring.operation.list.contains",v:a})),o&&(p={criteria:[{i:"UID",o:"plone.app.querystring.operation.list.contains",v:o}]}),s&&p.criteria.push({i:"SearchableText",o:"plone.app.querystring.operation.string.contains",v:`${s}`}),!p.criteria.length)return{results:[],total:0};let A=`${n}&query=${JSON.stringify(p)}&attributes=${JSON.stringify(l)}&batch=${JSON.stringify({page:d,size:u})}`,f=new Headers;f.set("Accept","application/json");const m=await fetch(A,{method:t,headers:f});if(!m.ok)return{results:[],total:0,errors:h.errors};const h=await m.json();if(!c&&!i&&a.length){const e={results:[],total:h.total};for(const t of h.results)(-1!=a.indexOf(t.portal_type)||t.is_folderish)&&e.results.push(t);return e}return h}async function et(e,t){if(!e)return[];const n=await Ze({vocabularyUrl:t.vocabularyUrl,attributes:t.attributes,uids:e});let l=await(n?.results)||[];return l.sort(((t,n)=>e.indexOf(t.UID)-e.indexOf(n.UID))),l}async function tt(e,t){let{iconName:n}=t;const l=await async function(e){return await Qe.A.resolveIcon(e)}(n);return e.outerHTML=l,{destroy(){}}}function nt(e){const t=t=>{e&&!e.contains(t.target)&&e.dispatchEvent(new CustomEvent("click_outside",e))};return document.addEventListener("click",t,!0),{destroy(){document.removeEventListener("click",t,!0)}}}function lt(e,t){let n=Qe.A.storage.get(t.recentlyUsedKey)||[];n=n.slice(n.length-1e3,n.length),e&&t?.selectableTypes.length&&(n=n.filter((e=>-1!=t.selectableTypes.indexOf(e.portal_type))));const l=parseInt(t.recentlyUsedMaxItems,20);return l&&(n=n.slice(n.length-l,n.length)),n}function rt(e,t){const n=Ge([]),l=async t=>(t={...{vocabularyUrl:e.vocabularyUrl,attributes:e.attributes,pageSize:e.pageSize},...t},e.selectableTypes.length&&(t.selectableTypes=e.selectableTypes),await Ze(t));return n.get=async r=>{let{path:o="",searchTerm:s="",updateCache:c=!1,loadMorePath:i="",page:a=1}=r;if("search"===e.mode)await(async(t,r)=>{let o={searchPath:e.rootPath,page:r};if(t){if(t.length<2)return;o.searchTerm="*"+t+"*"}let s=await l(o);s.page=r,s.searchTerm=t,n.update((n=>{const l=r*e.pageSize<s.total;return 0==n.length||n[0].searchTerm!=t?(s.more=l,s.selectable=!1,s.gridView=!1,[s]):(n[0].more=l,n[0].page=s.page,n[0].results=[...n[0].results,...s.results],n)}))})(s,a);else if(i){const r=A(t);if(!(i in r))return;let o=r[i];a>o.page&&await(async(t,r,o)=>{let s={path:t,page:r};o&&(s.searchTerm="*"+o+"*");let c=await l(s);c.more=r*e.pageSize<c.total,c.page=r,n.update((e=>(e.forEach((e=>{if(e.path!=t)return e;e.page=c.page,e.more=c.more,e.results=[...e.results,...c.results]})),e)))})(i,a,o.searchTerm)}else o&&await(async(r,o,s)=>{let c=e.rootPath,i=c.replace(/^\/+/,"").split("/"),a=r,u=c;if(!a.startsWith(c))if(1===i.length)a=c+a;else{let e=a.replace(/^\/+/,"").split("/"),t=i.length;for(let n=0;n<i.length;n++)if(i[n]===e[0]){t=n;break}u="/"+i.filter((t=>e.includes(t))).join("/"),a="/"+i.slice(1,t).concat(e).join("/")}let d=[],p=a.split("/")||[];const f=Math.min(p.length,e.maxDepth||999);let m=p.slice(p.length-f,p.length);const h=p.slice(0,p.length-f).join("/");for(;m.length>0;){let e=m.join("/").replace(/^\//,"");if(e=h+(""!=m.pop()?`/${e}`:""),e&&-1===d.indexOf(e)&&d.push(e),e==c)break}const b=A(t);let v=[],g=0;for(var y of d){g++;const n=1==g;let r={};if(!(y in b)||n&&o||s){let s={path:y};if(n&&o&&(s.searchTerm="*"+o+"*"),r=await l(s),r.more=e.pageSize<r.total,r.searchTerm=o,r.page=1,r.path=y,r.displayPath=y.replace(new RegExp(`^(${u}|${c})`),"")||"/",!o){const n=await l({levelInfoPath:y});n.total&&(r.UID=n.results[0].UID,r.Title=n.results[0].Title,r.portal_type=n.results[0].portal_type,r.getIcon=n.results[0].getIcon,r.selectable=!e.selectableTypes.length||-1!=e.selectableTypes.indexOf(n.results[0].portal_type)),r.gridView=!1,t.update((e=>(e[y]=r,e)))}}else r=b[y];v=[r,...v]}n.set(v)})(o,s,c)},n}function ot(e,t,n){const l=e.slice();return l[5]=t[n],l}function st(e){let t,n,l,r,o,s,c,i,a,u,d=(0,Je.Ay)("Favorites")+"",p=Ie(e[0].favorites),A=[];for(let t=0;t<p.length;t+=1)A[t]=ct(ot(e,p,t));return{c(){t=B("div"),n=B("button"),l=j("svg"),o=O(),s=L(d),c=O(),i=B("ul");for(let e=0;e<A.length;e+=1)A[e].c();z(n,"type","button"),z(n,"class","favorites dropdown-toggle btn btn-outline-light btn-sm"),z(n,"data-bs-toggle","dropdown"),z(n,"aria-haspopup","true"),z(n,"aria-expanded","false"),z(i,"class","dropdown-menu"),z(t,"class","favorites dropdown dropdown-menu-end ms-2")},m(e,d){E(e,t,d),_(t,n),_(n,l),_(n,o),_(n,s),_(t,c),_(t,i);for(let e=0;e<A.length;e+=1)A[e]&&A[e].m(i,null);a||(u=h(r=tt.call(null,l,{iconName:"star-fill"})),a=!0)},p(e,t){if(5&t){let n;for(p=Ie(e[0].favorites),n=0;n<p.length;n+=1){const l=ot(e,p,n);A[n]?A[n].p(l,t):(A[n]=ct(l),A[n].c(),A[n].m(i,null))}for(;n<A.length;n+=1)A[n].d(1);A.length=p.length}},d(e){e&&D(t),P(A,e),a=!1,u()}}}function ct(e){let t,n,l,r,o,s,c,i=e[5].title+"";function a(){return e[3](e[5])}return{c(){t=B("li"),n=B("a"),l=L(i),o=O(),z(n,"class","dropdown-item"),z(n,"href",r=e[5].path)},m(e,r){E(e,t,r),_(t,n),_(n,l),_(t,o),s||(c=q(n,"click",M(a)),s=!0)},p(t,o){e=t,1&o&&i!==(i=e[5].title+"")&&R(l,i),1&o&&r!==(r=e[5].path)&&z(n,"href",r)},d(e){e&&D(t),s=!1,c()}}}function it(e){let t,n=e[0]?.favorites&&st(e);return{c(){n&&n.c(),t=N()},m(e,l){n&&n.m(e,l),E(e,t,l)},p(e,[l]){e[0]?.favorites?n?n.p(e,l):(n=st(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:l,o:l,d(e){e&&D(t),n&&n.d(e)}}}function at(e,t,n){let l;const r=te("config");f(e,r,(e=>n(0,l=e)));const o=Z();function s(e){o("selectItem",{item:e})}return[l,r,s,e=>s(e)]}var ut=class extends Le{constructor(e){super(),Be(this,e,at,it,a,{})}};function dt(e,t,n){const l=e.slice();return l[6]=t[n],l}function pt(e){let t,n,l,r,o,s,c,i,a,u,d=(0,Je.Ay)("Recently Used")+"",p=Ie(e[2].reverse()),A=[];for(let t=0;t<p.length;t+=1)A[t]=At(dt(e,p,t));return{c(){t=B("div"),n=B("button"),l=j("svg"),o=O(),s=L(d),c=O(),i=B("ul");for(let e=0;e<A.length;e+=1)A[e].c();z(n,"type","button"),z(n,"class","recentlyUsed dropdown-toggle btn btn-outline-light btn-sm"),z(n,"data-bs-toggle","dropdown"),z(n,"aria-haspopup","true"),z(n,"aria-expanded","false"),z(i,"class","dropdown-menu"),z(t,"class","recentlyUsed dropdown ms-2")},m(e,d){E(e,t,d),_(t,n),_(n,l),_(n,o),_(n,s),_(t,c),_(t,i);for(let e=0;e<A.length;e+=1)A[e]&&A[e].m(i,null);a||(u=h(r=tt.call(null,l,{iconName:"grid-fill"})),a=!0)},p(e,t){if(12&t){let n;for(p=Ie(e[2].reverse()),n=0;n<p.length;n+=1){const l=dt(e,p,n);A[n]?A[n].p(l,t):(A[n]=At(l),A[n].c(),A[n].m(i,null))}for(;n<A.length;n+=1)A[n].d(1);A.length=p.length}},d(e){e&&D(t),P(A,e),a=!1,u()}}}function At(e){let t,n,l,r,o,s,i,a,u,d,p=e[6].Title+"";function A(){return e[4](e[6])}return{c(){t=B("li"),n=B("a"),l=j("svg"),o=O(),s=L(p),a=O(),z(n,"href",i=e[6].getURL),z(n,"class","dropdown-item")},m(c,i){E(c,t,i),_(t,n),_(n,l),_(n,o),_(n,s),_(t,a),u||(d=[h(r=tt.call(null,l,{iconName:`contenttype/${e[6]?.portal_type.toLowerCase().replace(/\.| /g,"-")}`})),q(n,"click",M(A))],u=!0)},p(t,n){e=t},d(e){e&&D(t),u=!1,c(d)}}}function ft(e){let t,n=e[0].recentlyUsed&&e[2].length&&pt(e);return{c(){n&&n.c(),t=N()},m(e,l){n&&n.m(e,l),E(e,t,l)},p(e,[l]){e[0].recentlyUsed&&e[2].length?n?n.p(e,l):(n=pt(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:l,o:l,d(e){e&&D(t),n&&n.d(e)}}}function mt(e,t,n){let l;const r=te("config");f(e,r,(e=>n(0,l=e)));const o=lt(!0,l),s=Z();function c(e){s("selectItem",{item:e})}return[l,r,o,c,e=>c(e)]}var ht=class extends Le{constructor(e){super(),Be(this,e,mt,ft,a,{})}},bt=n(85072),vt=n.n(bt),gt=n(97825),yt=n.n(gt),$t=n(57722),wt=n.n($t),kt=n(55056),xt=n.n(kt),Ct=n(10540),It=n.n(Ct),_t=n(41113),Ut=n.n(_t),St=n(84465),Tt={};Tt.styleTagTransform=Ut(),Tt.setAttributes=xt(),Tt.insert=wt(),Tt.domAPI=yt(),Tt.insertStyleElement=It();vt()(St.A,Tt),St.A&&St.A.locals&&St.A.locals;function Et(e,t,n){const l=e.slice();return l[48]=t[n],l[49]=t,l[50]=n,l}function Dt(e,t,n){const l=e.slice();return l[51]=t[n],l[53]=n,l}function Pt(e){let t,n,l,r,o,s,i,a,u,d,p,A,f,m,b,v,g,y,$,w,k,x,C,I,U;p=new ht({}),p.$on("selectItem",e[22]),f=new ut({}),f.$on("selectItem",e[23]);let S=e[6].uploadEnabled&&Bt(e),T={ctx:e,current:null,token:null,hasCatch:!0,pending:nn,then:Lt,catch:jt,value:47,error:54};return Ce(w=e[1],T),{c(){t=B("div"),n=B("nav"),l=B("div"),r=B("div"),o=B("input"),s=O(),i=B("label"),a=j("svg"),d=O(),Ee(p.$$.fragment),A=O(),Ee(f.$$.fragment),m=O(),S&&S.c(),b=O(),v=B("button"),g=j("svg"),$=O(),T.block.c(),z(o,"type","text"),z(o,"name","filter"),z(i,"for","filter"),z(r,"class","filter me-3"),z(v,"class","btn btn-link text-white ms-auto"),z(v,"tabindex","0"),z(l,"class","toolBar navbar svelte-1lcbp2k"),z(n,"class","content-browser svelte-1lcbp2k"),z(t,"class","content-browser-position-wrapper svelte-1lcbp2k")},m(c,w){E(c,t,w),_(t,n),_(n,l),_(l,r),_(r,o),_(r,s),_(r,i),_(i,a),_(l,d),De(p,l,null),_(l,A),De(f,l,null),_(l,m),S&&S.m(l,null),_(l,b),_(l,v),_(v,g),_(n,$),T.block.m(n,T.anchor=null),T.mount=()=>n,T.anchor=null,C=!0,I||(U=[q(o,"input",e[28]),h(u=tt.call(null,a,{iconName:"search"})),h(y=tt.call(null,g,{iconName:"x-circle"})),q(v,"click",M(e[30])),q(n,"introend",e[39]),h(k=nt.call(null,n)),q(n,"click_outside",e[24])],I=!0)},p(t,n){(e=t)[6].uploadEnabled?S?S.p(e,n):(S=Bt(e),S.c(),S.m(l,b)):S&&(S.d(1),S=null),T.ctx=e,2&n[0]&&w!==(w=e[1])&&Ce(w,T)||function(e,t,n){const l=t.slice(),{resolved:r}=e;e.current===e.then&&(l[e.value]=r),e.current===e.catch&&(l[e.error]=r),e.block.p(l,n)}(T,e,n)},i(t){C||($e(p.$$.fragment,t),$e(f.$$.fragment,t),t&&ae((()=>{C&&(x||(x=xe(n,He,{x:e[14]/100*94,opacity:1},!0)),x.run(1))})),C=!0)},o(t){we(p.$$.fragment,t),we(f.$$.fragment,t),t&&(x||(x=xe(n,He,{x:e[14]/100*94,opacity:1},!1)),x.run(0)),C=!1},d(e){e&&D(t),Pe(p),Pe(f),S&&S.d(),T.block.d(),T.token=null,T=null,e&&x&&x.end(),I=!1,c(U)}}}function Bt(e){let t,n,l,r,o,s,i,a,u=(0,Je.Ay)("upload to ${current_path}",{current_path:e[2]})+"";return{c(){t=B("div"),n=B("button"),l=j("svg"),o=O(),s=L(u),z(n,"type","button"),z(n,"class","upload btn btn-outline-light btn-sm"),z(n,"tabindex","0"),z(t,"class","ms-2")},m(c,u){E(c,t,u),_(t,n),_(n,l),_(n,o),_(n,s),i||(a=[h(r=tt.call(null,l,{iconName:"upload"})),q(n,"keydown",e[15]),q(n,"click",e[15])],i=!0)},p(e,t){4&t[0]&&u!==(u=(0,Je.Ay)("upload to ${current_path}",{current_path:e[2]})+"")&&R(s,u)},d(e){e&&D(t),i=!1,c(a)}}}function jt(e){let t,n,l=e[54].message+"";return{c(){t=B("p"),n=L(l),Y(t,"color","red")},m(e,l){E(e,t,l),_(t,n)},p(e,t){2&t[0]&&l!==(l=e[54].message+"")&&R(n,l)},d(e){e&&D(t)}}}function Lt(e){let t,n,l,r,o=[],s=new Map,c=Ie(e[47]);const i=e=>e[48].path;for(let t=0;t<c.length;t+=1){let n=Et(e,c,t),l=i(n);s.set(l,o[t]=Xt(l,n))}let a=e[5]?.UID&&1==e[0].length&&Gt(e),u=e[0].length>1&&en(e),d=e[4]&&tn(e);return{c(){t=B("div");for(let e=0;e<o.length;e+=1)o[e].c();n=O(),a&&a.c(),l=O(),u&&u.c(),r=O(),d&&d.c(),z(t,"class","levelColumns svelte-1lcbp2k")},m(e,s){E(e,t,s);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null);_(t,n),a&&a.m(t,null),_(t,l),u&&u.m(t,null),_(t,r),d&&d.m(t,null)},p(e,p){169541699&p[0]&&(c=Ie(e[47]),o=Se(o,p,i,1,e,c,s,t,_e,Xt,n,Et)),e[5]?.UID&&1==e[0].length?a?a.p(e,p):(a=Gt(e),a.c(),a.m(t,l)):a&&(a.d(1),a=null),e[0].length>1?u?u.p(e,p):(u=en(e),u.c(),u.m(t,r)):u&&(u.d(1),u=null),e[4]?d||(d=tn(e),d.c(),d.m(t,null)):d&&(d.d(1),d=null)},d(e){e&&D(t);for(let e=0;e<o.length;e+=1)o[e].d();a&&a.d(),u&&u.d(),d&&d.d()}}}function Ot(e){let t,n,r,o,s;return{c(){t=B("button"),n=j("svg"),z(t,"type","button"),z(t,"class","btn btn-link btn-xs ps-0 svelte-1lcbp2k"),z(t,"tabindex","0")},m(l,c){E(l,t,c),_(t,n),o||(s=[h(r=tt.call(null,n,{iconName:"house"})),q(t,"keydown",e[31]),q(t,"click",e[32])],o=!0)},p:l,d(e){e&&D(t),o=!1,c(s)}}}function Nt(e){let t,n,l,r,o,s=(0,Je.Ay)("select ${level_path}",{level_path:e[48].displayPath})+"";function c(){return e[33](e[48])}return{c(){t=B("button"),n=L(s),z(t,"class","btn btn-primary btn-xs svelte-1lcbp2k"),t.disabled=l=!e[25](e[48])},m(e,l){E(e,t,l),_(t,n),r||(o=q(t,"click",M(c)),r=!0)},p(r,o){e=r,2&o[0]&&s!==(s=(0,Je.Ay)("select ${level_path}",{level_path:e[48].displayPath})+"")&&R(n,s),2&o[0]&&l!==(l=!e[25](e[48]))&&(t.disabled=l)},d(e){e&&D(t),r=!1,o()}}}function qt(e){let t,n,l,r,o;function s(){return e[35](e[48],e[49],e[50])}return{c(){t=B("button"),n=j("svg"),z(t,"class","btn btn-link btn-xs grid-view svelte-1lcbp2k")},m(e,c){E(e,t,c),_(t,n),r||(o=[h(l=tt.call(null,n,{iconName:"list"})),q(t,"click",s)],r=!0)},p(t,n){e=t},d(e){e&&D(t),r=!1,c(o)}}}function Mt(e){let t,n,l,r,o;function s(){return e[34](e[48],e[49],e[50])}return{c(){t=B("button"),n=j("svg"),z(t,"class","btn btn-link btn-xs grid-view svelte-1lcbp2k")},m(e,c){E(e,t,c),_(t,n),r||(o=[h(l=tt.call(null,n,{iconName:"grid"})),q(t,"click",s)],r=!0)},p(t,n){e=t},d(e){e&&D(t),r=!1,c(o)}}}function zt(e){let t,n,l,r,o,s,c,a,u,d=e[51].Title+"",p="search"==e[6].mode&&Yt(e);return{c(){t=B("div"),n=j("svg"),r=O(),o=L(d),s=O(),p&&p.c(),z(t,"class","item-title svelte-1lcbp2k"),z(t,"title",c=e[51].portal_type+": "+e[51].Title)},m(c,i){E(c,t,i),_(t,n),_(t,r),_(t,o),_(t,s),p&&p.m(t,null),a||(u=h(l=tt.call(null,n,{iconName:`contenttype/${e[51].portal_type.toLowerCase().replace(/\.| /g,"-")}`})),a=!0)},p(n,r){e=n,l&&i(l.update)&&2&r[0]&&l.update.call(null,{iconName:`contenttype/${e[51].portal_type.toLowerCase().replace(/\.| /g,"-")}`}),2&r[0]&&d!==(d=e[51].Title+"")&&R(o,d),"search"==e[6].mode?p?p.p(e,r):(p=Yt(e),p.c(),p.m(t,null)):p&&(p.d(1),p=null),2&r[0]&&c!==(c=e[51].portal_type+": "+e[51].Title)&&z(t,"title",c)},d(e){e&&D(t),p&&p.d(),a=!1,u()}}}function Rt(e){let t,n,l,r=e[51].Title+"";function o(e,t){return e[51].getIcon?Ft:Wt}let s=o(e),c=s(e);return{c(){t=B("div"),c.c(),n=O(),l=L(r),z(t,"class","grid-preview svelte-1lcbp2k")},m(e,r){E(e,t,r),c.m(t,null),_(t,n),_(t,l)},p(e,i){s===(s=o(e))&&c?c.p(e,i):(c.d(1),c=s(e),c&&(c.c(),c.m(t,n))),2&i[0]&&r!==(r=e[51].Title+"")&&R(l,r)},d(e){e&&D(t),c.d()}}}function Yt(e){let t,n,l,r=e[51].path+"";return{c(){t=B("br"),n=B("span"),l=L(r),z(n,"class","small")},m(e,r){E(e,t,r),E(e,n,r),_(n,l)},p(e,t){2&t[0]&&r!==(r=e[51].path+"")&&R(l,r)},d(e){e&&(D(t),D(n))}}}function Wt(e){let t,n,l,r;return{c(){t=j("svg")},m(o,s){E(o,t,s),l||(r=h(n=tt.call(null,t,{iconName:`contenttype/${e[51].portal_type.toLowerCase().replace(/\.| /g,"-")}`})),l=!0)},p(t,l){e=t,n&&i(n.update)&&2&l[0]&&n.update.call(null,{iconName:`contenttype/${e[51].portal_type.toLowerCase().replace(/\.| /g,"-")}`})},d(e){e&&D(t),l=!1,r()}}}function Ft(e){let t,n,l;return{c(){t=B("img"),d(t.src,n=`${e[51].getURL}/@@images/image/thumb`)||z(t,"src",n),z(t,"alt",l=e[51].Title),z(t,"class","svelte-1lcbp2k")},m(e,n){E(e,t,n)},p(e,r){2&r[0]&&!d(t.src,n=`${e[51].getURL}/@@images/image/thumb`)&&z(t,"src",n),2&r[0]&&l!==(l=e[51].Title)&&z(t,"alt",l)},d(e){e&&D(t)}}}function Kt(e){let t,n,l,r,o;return{c(){t=B("div"),n=j("svg"),z(t,"class","browseSub svelte-1lcbp2k")},m(e,s){E(e,t,s),_(t,n),r||(o=h(l=tt.call(null,n,{iconName:"arrow-right-circle"})),r=!0)},d(e){e&&D(t),r=!1,o()}}}function Ht(e){let t,n,l,r,o,s,i;function a(e,t){return e[48].gridView?Rt:zt}let u=a(e),d=u(e),p=e[51].is_folderish&&"browse"==e[6].mode&&Kt();function A(...t){return e[36](e[51],...t)}function f(...t){return e[37](e[51],...t)}return{c(){t=B("div"),d.c(),n=O(),p&&p.c(),z(t,"class",l="contentItem"+(e[53]%2==0?" odd":" even")+(e[27](e[51])?" inPath":"")+(-1!=e[0].indexOf(e[51].UID)?" selectedItem":"")+(e[25](e[51])?"":" text-muted")+" svelte-1lcbp2k"),z(t,"role","button"),z(t,"tabindex",r=e[53]),z(t,"data-uuid",o=e[51].UID)},m(e,l){E(e,t,l),d.m(t,null),_(t,n),p&&p.m(t,null),s||(i=[q(t,"keydown",M(A)),q(t,"click",f)],s=!0)},p(r,s){u===(u=a(e=r))&&d?d.p(e,s):(d.d(1),d=u(e),d&&(d.c(),d.m(t,n))),e[51].is_folderish&&"browse"==e[6].mode?p||(p=Kt(),p.c(),p.m(t,null)):p&&(p.d(1),p=null),3&s[0]&&l!==(l="contentItem"+(e[53]%2==0?" odd":" even")+(e[27](e[51])?" inPath":"")+(-1!=e[0].indexOf(e[51].UID)?" selectedItem":"")+(e[25](e[51])?"":" text-muted")+" svelte-1lcbp2k")&&z(t,"class",l),2&s[0]&&o!==(o=e[51].UID)&&z(t,"data-uuid",o)},d(e){e&&D(t),d.d(),p&&p.d(),s=!1,c(i)}}}function Jt(e){let t,n,l,r,o,s,c;return{c(){t=B("div"),n=B("div"),z(n,"class","spinner-border"),z(n,"role","status"),z(t,"class","loadmore svelte-1lcbp2k"),z(t,"data-level-path",l=e[48].path),z(t,"data-level-next-page",r=parseInt(e[48].page)+1)},m(l,r){E(l,t,r),_(t,n),s||(c=h(o=e[29].call(null,t)),s=!0)},p(e,n){2&n[0]&&l!==(l=e[48].path)&&z(t,"data-level-path",l),2&n[0]&&r!==(r=parseInt(e[48].page)+1)&&z(t,"data-level-next-page",r)},d(e){e&&D(t),s=!1,c()}}}function Vt(e){let t,n;return{c(){t=B("div"),n=B("p"),n.textContent=`${(0,Je.Ay)("no results found")}`,z(n,"class","svelte-1lcbp2k"),z(t,"class","contentItem svelte-1lcbp2k")},m(e,l){E(e,t,l),_(t,n)},d(e){e&&D(t)}}}function Xt(e,t){let n,o,s,c,a,u,d,p,A,f,m,h=0==t[50]&&"browse"==t[6].mode&&Ot(t),b=t[48].selectable&&Nt(t);function v(e,t){return e[48].gridView?qt:Mt}let y=v(t),$=y(t),w=Ie(t[48].results||[]),x=[];for(let e=0;e<w.length;e+=1)x[e]=Ht(Dt(t,w,e));let C=t[48].more&&Jt(t),I=0==t[48].total&&Vt();return{key:e,first:null,c(){n=B("div"),o=B("div"),h&&h.c(),s=O(),b&&b.c(),c=O(),a=B("div"),$.c(),u=O(),d=B("div");for(let e=0;e<x.length;e+=1)x[e].c();p=O(),C&&C.c(),A=O(),I&&I.c(),z(a,"class","levelActions svelte-1lcbp2k"),z(o,"class","levelToolbar svelte-1lcbp2k"),z(d,"class","levelItems svelte-1lcbp2k"),z(n,"class",f="levelColumn"+(t[50]%2==0?" odd":" even")+" svelte-1lcbp2k"),this.first=n},m(e,t){E(e,n,t),_(n,o),h&&h.m(o,null),_(o,s),b&&b.m(o,null),_(o,c),_(o,a),$.m(a,null),_(n,u),_(n,d);for(let e=0;e<x.length;e+=1)x[e]&&x[e].m(d,null);_(d,p),C&&C.m(d,null),_(d,A),I&&I.m(d,null)},p(e,l){if(0==(t=e)[50]&&"browse"==t[6].mode?h?h.p(t,l):(h=Ot(t),h.c(),h.m(o,s)):h&&(h.d(1),h=null),t[48].selectable?b?b.p(t,l):(b=Nt(t),b.c(),b.m(o,c)):b&&(b.d(1),b=null),y===(y=v(t))&&$?$.p(t,l):($.d(1),$=y(t),$&&($.c(),$.m(a,null))),168427587&l[0]){let e;for(w=Ie(t[48].results||[]),e=0;e<w.length;e+=1){const n=Dt(t,w,e);x[e]?x[e].p(n,l):(x[e]=Ht(n),x[e].c(),x[e].m(d,p))}for(;e<x.length;e+=1)x[e].d(1);x.length=w.length}t[48].more?C?C.p(t,l):(C=Jt(t),C.c(),C.m(d,A)):C&&(C.d(1),C=null),0==t[48].total?I||(I=Vt(),I.c(),I.m(d,null)):I&&(I.d(1),I=null),2&l[0]&&f!==(f="levelColumn"+(t[50]%2==0?" odd":" even")+" svelte-1lcbp2k")&&z(n,"class",f)},i(e){e&&(m||ae((()=>{m=function(e,t,n){const o={direction:"in"};let s,c,a=t(e,n,o),u=!1,d=0;function p(){s&&V(e,s)}function A(){const{delay:t=0,duration:n=300,easing:o=r,tick:i=l,css:A}=a||ke;A&&(s=J(e,0,1,n,t,o,A,d++)),i(0,1);const f=g()+t,m=f+n;c&&c.abort(),u=!0,ae((()=>he(e,!0,"start"))),c=k((t=>{if(u){if(t>=m)return i(1,0),he(e,!0,"end"),p(),u=!1;if(t>=f){const e=o((t-f)/n);i(e,1-e)}}return u}))}let f=!1;return{start(){f||(f=!0,V(e),i(a)?(a=a(o),me().then(A)):A())},invalidate(){f=!1},end(){u&&(p(),u=!1)}}}(n,He,{duration:300}),m.start()})))},o:l,d(e){e&&D(n),h&&h.d(),b&&b.d(),$.d(),P(x,e),C&&C.d(),I&&I.d()}}}function Gt(e){let t,n,l,r,o,s,c,i,a,u,d,p,A,f,m,h=(0,Je.Ay)("select ${preview_path}",{preview_path:e[5].path.split("/").pop()})+"",b=e[5].Title+"",v=e[5].Description+"";function g(e,t){return e[5].getIcon?Zt:Qt}let y=g(e),$=y(e);return{c(){t=B("div"),n=B("div"),l=B("button"),r=L(h),s=O(),c=B("div"),$.c(),i=O(),a=B("h4"),u=L(b),d=O(),p=B("p"),A=L(v),z(l,"class","btn btn-primary btn-xs svelte-1lcbp2k"),l.disabled=o=!e[25](e[5]),z(n,"class","levelToolbar svelte-1lcbp2k"),z(a,"class","svelte-1lcbp2k"),z(c,"class","info svelte-1lcbp2k"),z(t,"class","preview svelte-1lcbp2k")},m(o,h){E(o,t,h),_(t,n),_(n,l),_(l,r),_(t,s),_(t,c),$.m(c,null),_(c,i),_(c,a),_(a,u),_(c,d),_(c,p),_(p,A),f||(m=q(l,"click",M(e[38])),f=!0)},p(e,t){32&t[0]&&h!==(h=(0,Je.Ay)("select ${preview_path}",{preview_path:e[5].path.split("/").pop()})+"")&&R(r,h),32&t[0]&&o!==(o=!e[25](e[5]))&&(l.disabled=o),y===(y=g(e))&&$?$.p(e,t):($.d(1),$=y(e),$&&($.c(),$.m(c,i))),32&t[0]&&b!==(b=e[5].Title+"")&&R(u,b),32&t[0]&&v!==(v=e[5].Description+"")&&R(A,v)},d(e){e&&D(t),$.d(),f=!1,m()}}}function Qt(e){let t,n,l,r,o;return{c(){t=B("div"),n=j("svg"),z(n,"class","svelte-1lcbp2k"),z(t,"class","previewIcon svelte-1lcbp2k")},m(s,c){E(s,t,c),_(t,n),r||(o=h(l=tt.call(null,n,{iconName:`contenttype/${e[5].portal_type.toLowerCase().replace(/\.| /g,"-")}`})),r=!0)},p(e,t){l&&i(l.update)&&32&t[0]&&l.update.call(null,{iconName:`contenttype/${e[5].portal_type.toLowerCase().replace(/\.| /g,"-")}`})},d(e){e&&D(t),r=!1,o()}}}function Zt(e){let t,n,l,r;return{c(){t=B("div"),n=B("img"),d(n.src,l=e[5].getURL+"/@@images/image/preview")||z(n,"src",l),z(n,"alt",r=e[5].Title),z(n,"class","svelte-1lcbp2k"),z(t,"class","previewImage")},m(e,l){E(e,t,l),_(t,n)},p(e,t){32&t[0]&&!d(n.src,l=e[5].getURL+"/@@images/image/preview")&&z(n,"src",l),32&t[0]&&r!==(r=e[5].Title)&&z(n,"alt",r)},d(e){e&&D(t)}}}function en(e){let t,n,r,o,s,i,a,u,d;return{c(){t=B("div"),n=B("div"),r=B("button"),r.textContent=`${(0,Je.Ay)("add selected items")}`,o=O(),s=B("div"),i=j("svg"),z(r,"class","btn btn-primary btn-xs svelte-1lcbp2k"),z(n,"class","levelToolbar svelte-1lcbp2k"),z(i,"class","svelte-1lcbp2k"),z(s,"class","info svelte-1lcbp2k"),z(t,"class","preview svelte-1lcbp2k")},m(l,c){E(l,t,c),_(t,n),_(n,r),_(t,o),_(t,s),_(s,i),u||(d=[q(r,"click",M(e[21])),h(a=tt.call(null,i,{iconName:"files"}))],u=!0)},p:l,d(e){e&&D(t),u=!1,c(d)}}}function tn(e){let t;return{c(){t=B("div"),z(t,"class","upload-wrapper svelte-1lcbp2k")},m(e,n){E(e,t,n)},d(e){e&&D(t)}}}function nn(e){let t;return{c(){t=B("p"),t.textContent=`${(0,Je.Ay)("loading content items")}`},m(e,n){E(e,t,n)},p:l,d(e){e&&D(t)}}}function ln(e){let t,n,l=e[3]&&Pt(e);return{c(){l&&l.c(),t=N()},m(e,r){l&&l.m(e,r),E(e,t,r),n=!0},p(e,n){e[3]?l?(l.p(e,n),8&n[0]&&$e(l,1)):(l=Pt(e),l.c(),$e(l,1),l.m(t.parentNode,t)):l&&(ge(),we(l,1,1,(()=>{l=null})),ye())},i(e){n||($e(l),n=!0)},o(e){we(l),n=!1},d(e){e&&D(t),l&&l.d(e)}}}function rn(e,t,n){let l,r,o,s,c,i,a;(e=>{Me.extend(ze,e||{})})({scrollX:!0,container:".levelColumns",duration:500});const u=te("currentPath");f(e,u,(e=>n(2,o=e)));const d=te("config");f(e,d,(e=>n(6,c=e)));const p=te("pathCache"),A=te("showContentBrowser");f(e,A,(e=>n(3,s=e)));const h=te("selectedItems");f(e,h,(e=>n(43,a=e)));const b=te("selectedUids");f(e,b,(e=>n(42,i=e)));const v=te("previewUids");f(e,v,(e=>n(0,l=e)));const g=rt(c,p);f(e,g,(e=>n(1,r=e)));let y=!1,$={},w=!1,k=!1,x=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);function C({data:e=null,uuid:t=null,action:r="show"}){if(e&&"show"==r)n(5,$=e),m(v,l=[e.UID],l);else if(t&&"add"==r&&-1===l.indexOf(t)){if(c.maximumSelectionSize>0&&l.length>=c.maximumSelectionSize)return;m(v,l=[...l,t],l)}else t&&"remove"==r&&-1!==l.indexOf(t)?v.update((e=>(e.splice(e.indexOf(t),1),e))):"clear"==r&&(n(5,$={}),m(v,l=[],l))}function I(e,t){n(4,y=!1),C({action:"clear"}),"/"!==e&&e!==c.rootPath?function(e){if("search"==c.mode)C({data:e});else if(e.is_folderish)m(v,l=[e.UID],l),u.set(e.path);else{const t=e.path.split("/"),n=t.slice(0,t.length-1).join("/");u.set(n||c.rootPath),C({data:e})}B()}(e):u.set(c.rootPath)}function _(e,t){w||(w=!0);const n=t.currentTarget.closest(".levelItems"),r=n.querySelectorAll(".selectedItem");if(r.length&&1!=c.maximumSelectionSize)if(k||t?.shiftKey){let t=!1;for(const l of n.children){if(-1!==[e.UID,$.UID].indexOf(l.dataset.uuid)){if(t){C({uuid:l.dataset.uuid,action:"add"}),t=!1;continue}t=!0}C({uuid:l.dataset.uuid,action:t?"add":"remove"})}}else t?.metaKey||t?.ctrlKey?C({uuid:e.UID,action:-1==l.indexOf(e.UID)?"add":"remove"}):([...r].map((e=>e.classList.remove("selectedItem"))),I(e));else I(e);t.currentTarget.focus(),t.currentTarget.classList.add("selectedItem")}function U(){if(w)return;const e=[...document.querySelectorAll(".levelColumn .inPath"),...document.querySelectorAll(".levelColumn .selectedItem")];!e.length&&document.querySelector(".levelColumn .contentItem")&&e.push(document.querySelector(".levelColumn .contentItem")),e.length&&(w=!0,e[0].focus())}function S(e,t){const n=t.currentTarget;if(k=t.shiftKey,"Escape"==t.key&&D(),"ArrowDown"==t.key&&n?.nextElementSibling?.classList.contains("contentItem")&&n.nextElementSibling.click(),"ArrowUp"==t.key&&n?.previousElementSibling?.classList.contains("contentItem")&&n.previousElementSibling.click(),"ArrowRight"==t.key){const e=t.target.closest(".levelColumn"),n=e?.nextElementSibling;if(!n||!n.classList.contains("levelColumn"))return;n.querySelector(".contentItem")?.click()}if("ArrowLeft"==t.key){const e=t.target.closest(".levelColumn"),n=e?.previousElementSibling;if(!n||!n.classList.contains("levelColumn"))return;n.querySelector(".inPath").click()}"Space"==t.key&&_(e,t),"Enter"==t.key&&P(e)&&(1==c.maximumSelectionSize?T(e):E())}async function T(e){1==c.maximumSelectionSize?(h.set([e]),b.set([e.UID])):(h.update((t=>[...t,e])),b.update((()=>a.map((e=>e.UID))))),function(e,t){if(!t.recentlyUsed)return;const n=lt(!1,t),l=n.filter((t=>t.UID===e.UID));l.length>0&&n.splice(n.indexOf(l[0]),1),n.push(e),Qe.A.storage.set(t.recentlyUsedKey,n)}(e,c),C({action:"clear"}),m(A,s=!1,s),w=!1}async function E(){const e=await et(l,c);h.update((t=>{for(const n of e)-1==i.indexOf(n.UID)&&t.push(n);return t})),b.update((()=>a.map((e=>e.UID)))),C({action:"clear"}),m(A,s=!1,s),w=!1}function D(){m(A,s=!1,s),w=!1,C({action:"clear"})}function P(e){return-1===i.indexOf(e.UID)}function B(){const e=document.querySelector(".levelColumns");e&&Fe({x:e.scrollWidth+100})}const j=Ne.A.debounce((e=>{g.get({path:o,searchTerm:e.target.value})}),300);return e.$$.update=()=>{12&e.$$.dirty[0]&&s&&g.get({path:o}),2&e.$$.dirty[0]&&B(),e.$$.dirty[0]},[l,r,o,s,y,$,c,u,d,A,h,b,v,g,x,async function(){C({action:"clear"}),n(4,y=!0),await Ne.A.timeout(1);const e=document.querySelector(".upload-wrapper");e.classList.add("pat-upload"),new Ve.default(e,{baseUrl:c.rootUrl,currentPath:o,relativePath:"@@fileUpload",allowPathSelection:!1,hiddenInputContainer:".upload-wrapper",success:(e,t)=>{g.get({path:o,updateCache:!0})}})},I,_,U,S,T,E,function(e){T(e.detail.item)},async function(e){const t=e.detail.item.path,n=await Ze({vocabularyUrl:c.vocabularyUrl,attributes:c.attributes,levelInfoPath:t});if(!n.total)return void alert(`${t} not found!`);const l=n.results[0];l.path||(l.path=c.rootPath),I(l)},D,P,B,function(e){return"browse"==c.mode&&-1!=o.indexOf(e.path)},j,function(e){const t=new IntersectionObserver((t=>{for(const n of t)if(n.isIntersecting){const t=e.dataset.levelPath,n=parseInt(e.dataset.levelNextPage);g.get({loadMorePath:t,page:n})}}),{threshold:0,root:null,margin:"0px"});window.setTimeout((()=>{t.observe(e)}),500)},()=>D(),()=>I(c.rootPath),()=>I(c.rootPath),e=>T(e),(e,t,n)=>m(g,t[n].gridView=!0,r),(e,t,n)=>m(g,t[n].gridView=!1,r),(e,t)=>S(e,t),(e,t)=>_(e,t),()=>T($),()=>{B(),U()}]}var on=class extends Le{constructor(e){super(),Be(this,e,rn,ln,a,{},null,[-1,-1])}};function sn(e,{from:t,to:n},l={}){const r=getComputedStyle(e),o="none"===r.transform?"":r.transform,[s,c]=r.transformOrigin.split(" ").map(parseFloat),a=t.left+t.width*s/n.width-(n.left+s),u=t.top+t.height*c/n.height-(n.top+c),{delay:d=0,duration:p=e=>120*Math.sqrt(e),easing:A=qe}=l;return{delay:d,duration:i(p)?p(Math.sqrt(a*a+u*u)):p,easing:A,css:(e,l)=>{const r=l*a,s=l*u,c=e+l*t.width/n.width,i=e+l*t.height/n.height;return`transform: ${o} translate(${r}px, ${s}px) scale(${c}, ${i});`}}}var cn=n(44423),an=n.n(cn),un=n(44563),dn=n(52742),pn={};pn.styleTagTransform=Ut(),pn.setAttributes=xt(),pn.insert=wt(),pn.domAPI=yt(),pn.insertStyleElement=It();vt()(dn.A,pn),dn.A&&dn.A.locals&&dn.A.locals;function An(e,t,n){const l=e.slice();return l[20]=t[n],l[22]=n,l}function fn(e){let t,n=[],l=new Map,r=Ie(e[0]);const o=e=>e[20].UID;for(let t=0;t<r.length;t+=1){let s=An(e,r,t),c=o(s);l.set(c,n[t]=hn(c,s))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=N()},m(e,l){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,l);E(e,t,l)},p(e,s){if(129&s){r=Ie(e[0]);for(let e=0;e<n.length;e+=1)n[e].r();n=Se(n,s,o,1,e,r,l,t.parentNode,Ue,hn,t,An);for(let e=0;e<n.length;e+=1)n[e].a()}},d(e){e&&D(t);for(let t=0;t<n.length;t+=1)n[t].d(e)}}}function mn(e){let t,n,l;return{c(){t=B("img"),d(t.src,n=e[20].getURL+"/@@images/image/mini")||z(t,"src",n),z(t,"alt",l=e[20].Title),z(t,"class","svelte-bljrxf")},m(e,n){E(e,t,n)},p(e,r){1&r&&!d(t.src,n=e[20].getURL+"/@@images/image/mini")&&z(t,"src",n),1&r&&l!==(l=e[20].Title)&&z(t,"alt",l)},d(e){e&&D(t)}}}function hn(e,t){let n,o,s,i,a,u,d,p,A,f,m,b,v,y,$,w,x,C,I,U=t[20].Title+"",S=t[20].path+"",T=l;function P(){return t[9](t[22])}let N=t[20].getURL&&(t[20].getIcon||"Image"===t[20].portal_type)&&mn(t);return{key:e,first:null,c(){n=B("div"),o=B("div"),s=B("button"),i=j("svg"),u=O(),d=B("div"),p=B("span"),A=L(U),f=B("br"),m=O(),b=B("span"),v=L(S),y=O(),N&&N.c(),$=O(),z(s,"class","btn btn-link btn-sm link-secondary svelte-bljrxf"),z(p,"class","item-title"),z(b,"class","small"),z(o,"class","item-info svelte-bljrxf"),z(n,"class","selected-item svelte-bljrxf"),z(n,"data-uuid",w=t[20].UID),this.first=n},m(e,t){var l;E(e,n,t),_(n,o),_(o,s),_(s,i),_(o,u),_(o,d),_(d,p),_(p,A),_(d,f),_(d,m),_(d,b),_(b,v),_(n,y),N&&N.m(n,null),_(n,$),C||(I=[h(a=tt.call(null,i,{iconName:"x-circle"})),q(s,"click",(l=P,function(e){return e.stopPropagation(),l.call(this,e)}))],C=!0)},p(e,l){t=e,1&l&&U!==(U=t[20].Title+"")&&R(A,U),1&l&&S!==(S=t[20].path+"")&&R(v,S),t[20].getURL&&(t[20].getIcon||"Image"===t[20].portal_type)?N?N.p(t,l):(N=mn(t),N.c(),N.m(n,$)):N&&(N.d(1),N=null),1&l&&w!==(w=t[20].UID)&&z(n,"data-uuid",w)},r(){x=n.getBoundingClientRect()},f(){X(n),T()},a(){T(),T=function(e,t,n,o){if(!t)return l;const s=e.getBoundingClientRect();if(t.left===s.left&&t.right===s.right&&t.top===s.top&&t.bottom===s.bottom)return l;const{delay:c=0,duration:i=300,easing:a=r,start:u=g()+c,end:d=u+i,tick:p=l,css:A}=n(e,{from:t,to:s},o);let f,m=!0,h=!1;function b(){A&&V(e,f),m=!1}return k((e=>{if(!h&&e>=u&&(h=!0),h&&e>=d&&(p(1,0),b()),!m)return!1;if(h){const t=0+1*a((e-u)/i);p(t,1-t)}return!0})),A&&(f=J(e,0,1,i,c,a,A)),c||(h=!0),p(0,1),b}(n,x,sn,{duration:500})},d(e){e&&D(n),N&&N.d(),C=!1,c(I)}}}function bn(e){let t;return{c(){t=B("p"),t.textContent=`${(0,Je.Ay)("loading selected items")}`},m(e,n){E(e,t,n)},d(e){e&&D(t)}}}function vn(e){let t,n,r,o,s,i,a,u=e[0]&&fn(e),d=!e[0]&&bn();return{c(){t=B("div"),n=B("div"),u&&u.c(),r=O(),d&&d.c(),o=O(),s=B("a"),s.textContent=`${(0,Je.Ay)("Select")}`,z(n,"class","content-browser-selected-items svelte-bljrxf"),z(s,"class","btn btn-primary"),z(s,"href","#"),Y(s,"border-radius","0 var(--bs-border-radius) var(--bs-border-radius) 0"),z(t,"class","content-browser-selected-items-wrapper svelte-bljrxf"),Y(t,"width",e[2].width||"auto")},m(l,c){E(l,t,c),_(t,n),u&&u.m(n,null),_(n,r),d&&d.m(n,null),_(t,o),_(t,s),e[12](t),i||(a=[q(n,"click",e[10]),q(s,"click",M(e[11]))],i=!0)},p(e,[l]){e[0]?u?u.p(e,l):(u=fn(e),u.c(),u.m(n,r)):u&&(u.d(1),u=null),e[0]?d&&(d.d(1),d=null):d||(d=bn(),d.c(),d.m(n,null)),4&l&&Y(t,"width",e[2].width||"auto")},i:l,o:l,d(n){n&&D(t),u&&u.d(),d&&d.d(),e[12](null),i=!1,c(a)}}}function gn(e,t,n){let l,r,o,s,c=!0;const i=te("config");f(e,i,(e=>n(2,r=e)));const a=r.fieldId,u=document.getElementById(a),d=te("selectedItems");f(e,d,(e=>n(0,l=e)));const p=te("selectedUids"),A=te("showContentBrowser");var h;function b(e){d.update((t=>(t.splice(e,1),t))),p.update((()=>l.map((e=>e.UID))))}function v(){1!==r.maximumSelectionSize&&l.length>1&&an().create(u.previousSibling.querySelector(".content-browser-selected-items"),{draggable:".selected-item",animation:200,onUpdate:e=>{let t=[];for(const n of e.target.children)t.push(n.dataset.uuid);g(t)}})}function g(e){const t=e.join(r.separator);u.value=t,u.dispatchEvent(un.A.change_event())}f(e,A,(e=>n(3,o=e))),h=async()=>{await async function(){const e=r.selection.length?r.selection:u?.value?u.value.split(r.separator):[];e.length&&(m(d,l=await et(e,r),l),p.update((()=>l.map((e=>e.UID)))))}(),v(),n(8,c=!1)},Q().$$.on_mount.push(h);return e.$$.update=()=>{257&e.$$.dirty&&(!l.length&&c||(g(function(){let e=[];return l.forEach((t=>{e.push(t.UID)})),e}()),v()))},[l,s,r,o,i,d,A,b,c,e=>b(e),()=>m(A,o=!l.length,o),()=>m(A,o=!0,o),function(e){le[e?"unshift":"push"]((()=>{s=e,n(1,s)}))}]}var yn=class extends Le{constructor(e){super(),Be(this,e,gn,vn,a,{})}};Ge(!1);function $n(e){let t,n,r,o;return t=new on({}),r=new yn({}),{c(){Ee(t.$$.fragment),n=O(),Ee(r.$$.fragment)},m(e,l){De(t,e,l),E(e,n,l),De(r,e,l),o=!0},p:l,i(e){o||($e(t.$$.fragment,e),$e(r.$$.fragment,e),o=!0)},o(e){we(t.$$.fragment,e),we(r.$$.fragment,e),o=!1},d(e){e&&D(n),Pe(t,e),Pe(r,e)}}}function wn(e,t,n){let l,r,{maxDepth:o}=t,{width:s}=t,{attributes:c}=t,{contextPath:i}=t,{vocabularyUrl:a}=t,{mode:u="browse"}=t,{rootPath:d=""}=t,{rootUrl:p=""}=t,{basePath:A=""}=t,{selectableTypes:h=[]}=t,{maximumSelectionSize:b=-1}=t,{separator:v}=t,{selection:g=[]}=t,{query:y={}}=t,{fieldId:$}=t,{upload:w}=t,{favorites:k}=t,{recentlyUsed:x}=t,{recentlyUsedKey:C}=t,{recentlyUsedMaxItems:I}=t,{bSize:_=20}=t;const U=Oe.A.getLogger("pat-contentbrowser");ee("currentPath",Ge("")),ee("config",Ge({})),ee("pathCache",Ge({})),ee("selectedItems",Ge([])),ee("showContentBrowser",Ge(!1)),ee("selectedUids",Ge([])),ee("previewUids",Ge([]));const S=te("currentPath");if(f(e,S,(e=>n(24,r=e))),!r)if(A||d)m(S,r=0!=A.indexOf(d)?d:A,r);else{const e=new URL(a).pathname.split("/");d=i=m(S,r=e.slice(0,e.length-1).join("/"),r)}let T=te("config");return f(e,T,(e=>n(23,l=e))),m(T,l={mode:u,attributes:c,contextPath:i,vocabularyUrl:a,width:s,maxDepth:o,rootPath:d,rootUrl:p,basePath:A,selectableTypes:h,maximumSelectionSize:b,separator:v,selection:g,query:y,fieldId:$,uploadEnabled:w,favorites:k,recentlyUsed:x,recentlyUsedKey:C,recentlyUsedMaxItems:I,pageSize:_},l),U.debug(`Initialized App<${$}> with config ${JSON.stringify(l)}`),e.$$set=e=>{"maxDepth"in e&&n(4,o=e.maxDepth),"width"in e&&n(5,s=e.width),"attributes"in e&&n(6,c=e.attributes),"contextPath"in e&&n(2,i=e.contextPath),"vocabularyUrl"in e&&n(7,a=e.vocabularyUrl),"mode"in e&&n(8,u=e.mode),"rootPath"in e&&n(3,d=e.rootPath),"rootUrl"in e&&n(9,p=e.rootUrl),"basePath"in e&&n(10,A=e.basePath),"selectableTypes"in e&&n(11,h=e.selectableTypes),"maximumSelectionSize"in e&&n(12,b=e.maximumSelectionSize),"separator"in e&&n(13,v=e.separator),"selection"in e&&n(14,g=e.selection),"query"in e&&n(15,y=e.query),"fieldId"in e&&n(16,$=e.fieldId),"upload"in e&&n(17,w=e.upload),"favorites"in e&&n(18,k=e.favorites),"recentlyUsed"in e&&n(19,x=e.recentlyUsed),"recentlyUsedKey"in e&&n(20,C=e.recentlyUsedKey),"recentlyUsedMaxItems"in e&&n(21,I=e.recentlyUsedMaxItems),"bSize"in e&&n(22,_=e.bSize)},[S,T,i,d,o,s,c,a,u,p,A,h,b,v,g,y,$,w,k,x,C,I,_]}var kn=class extends Le{constructor(e){super(),Be(this,e,wn,$n,a,{maxDepth:4,width:5,attributes:6,contextPath:2,vocabularyUrl:7,mode:8,rootPath:3,rootUrl:9,basePath:10,selectableTypes:11,maximumSelectionSize:12,separator:13,selection:14,query:15,fieldId:16,upload:17,favorites:18,recentlyUsed:19,recentlyUsedKey:20,recentlyUsedMaxItems:21,bSize:22})}}}}]);
//# sourceMappingURL=34221.4ab116de6222208c3626.min.js.map