{"version":3,"file":"chunks/20971.a0871577d6ef106205aa.min.js","mappings":"gOAIe,MAAMA,EACjBC,YAAYC,GACRC,KAAKD,GAAKA,CACd,CACAE,aACIC,IAAE,oBAAoBC,MAAK,WACvB,IAAIC,EAAMF,IAAEF,MACRK,EAAU,CACVC,cAAe,CACXC,gBAAgB,EAChBC,qBAAqB,EACrBC,UAAW,SAAUC,GACjBR,IAAE,mCAAmCS,QAAQ,SACjD,IAGRP,EAAIQ,SAAS,aACG,IAAIC,EAAAA,EAAMT,EAAKC,EACnC,GACJ,CAEAS,OACI,IAAIC,EAAOf,KACXe,EAAKd,aACLC,IAAE,qBAAqBc,GAAG,QAAS,kBAAkB,WACjDC,SAASC,cAAc,8BAA8BC,MAAQ,GAC7DF,SACKC,cAAc,yDACdE,OACT,IAEAlB,IAAE,qBAAqBc,GACnB,QACA,gCACA,SAAUK,GACNA,EAAEC,iBACF,IAAIlB,EAAMF,IAAEF,MACZuB,EAAAA,EAAAA,QAAAA,OACArB,IAAE,iBAAiBsB,KACfpB,EAAIqB,KAAK,QAAU,sBACnB,WACIV,EAAKd,aACLsB,EAAAA,EAAAA,QAAAA,MACJ,GAER,IAIJrB,IAAE,qBAAqBc,GAAG,SAAU,mBAAmB,SAAUK,GAC7DA,EAAEC,iBACF,IAAIlB,EAAMF,IAAEF,MACZuB,EAAAA,EAAAA,QAAAA,OACArB,IAAE,iBAAiBsB,KACftB,IAAE,QAAQuB,KAAK,iBACb,IAAMrB,EAAIsB,YAAc,sBAC1B,WACIX,EAAKd,aACLsB,EAAAA,EAAAA,QAAAA,MACJ,GAER,IAGArB,IAAE,qBAAqBc,GAAG,SAAU,qBAAqB,WACrDd,IAAE,mCAAmCS,QAAQ,SACjD,GACJ,E","sources":["webpack://plone.staticresources/./node_modules/@plone/mockup/src/pat/controlpanels/registry--implementation.js"],"sourcesContent":["import $ from \"jquery\";\nimport utils from \"../../core/utils\";\nimport Modal from \"../modal/modal\";\n\nexport default class ConfigRegistry {\n    constructor(el) {\n        this.el = el;\n    }\n    loadModals() {\n        $(\".recordsEditLink\").each(function () {\n            var $el = $(this);\n            var options = {\n                actionOptions: {\n                    displayInModal: false,\n                    reloadWindowOnClose: false,\n                    onSuccess: function (modal) {\n                        $(\"#searchrow form#registry-filter\").trigger(\"submit\");\n                    },\n                },\n            };\n            $el.addClass(\"pat-modal\");\n            let modal_obj = new Modal($el, options);\n        });\n    }\n\n    init() {\n        var self = this;\n        self.loadModals();\n        $(\"#recordsContainer\").on(\"click\", \"[type='reset']\", function () {\n            document.querySelector('#searchrow input[name=\"q\"]').value = \"\";\n            document\n                .querySelector(\"#searchrow form#registry-filter button[type='submit']\")\n                .click();\n        });\n        /* ajax retrieval of paging */\n        $(\"#recordsContainer\").on(\n            \"click\",\n            \".pagination a, .listingBar a\",\n            function (e) {\n                e.preventDefault();\n                var $el = $(this);\n                utils.loading.show();\n                $(\"#recordsTable\").load(\n                    $el.attr(\"href\") + \" #recordsTable > *\",\n                    function () {\n                        self.loadModals();\n                        utils.loading.hide();\n                    }\n                );\n            }\n        );\n\n        /* ajax form submission */\n        $(\"#recordsContainer\").on(\"submit\", \"#searchrow form\", function (e) {\n            e.preventDefault();\n            var $el = $(this);\n            utils.loading.show();\n            $(\"#recordsTable\").load(\n                $(\"body\").attr(\"data-base-url\")\n                + \"?\" + $el.serialize() + \" #recordsTable > *\",\n                function () {\n                    self.loadModals();\n                    utils.loading.hide();\n                }\n            );\n        });\n\n        /* force submit on select change */\n        $(\"#recordsContainer\").on(\"change\", \"#searchrow select\", function () {\n            $(\"#searchrow form#registry-filter\").trigger(\"submit\");\n        });\n    }\n}\n"],"names":["ConfigRegistry","constructor","el","this","loadModals","$","each","$el","options","actionOptions","displayInModal","reloadWindowOnClose","onSuccess","modal","trigger","addClass","Modal","init","self","on","document","querySelector","value","click","e","preventDefault","utils","load","attr","serialize"],"sourceRoot":""}