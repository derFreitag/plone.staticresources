{"version":3,"file":"chunks/31842.4b66d8b298ba520cc171.min.js","mappings":"sNAGe,MAAMA,EACjB,WAAAC,CAAYC,GACRC,KAAKD,GAAKA,CACd,CAEA,IAAAE,GACI,iCAGA,IAAE,gCAAiCD,KAAKD,IAAIG,GAAG,SAAS,SAAUC,GAC9D,IAAIC,EAAW,IAAE,uCAAwCJ,KAAKD,IAC9D,GAAwB,IAApBK,EAASC,OAAc,CACvBF,EAAEG,iBACF,IAAEN,MAAMO,YAAY,cACpB,IAAIC,EAAY,IAAE,IAAKJ,EAASK,QAAQ,OACpCC,EAAM,IACN,YAAmBF,EAAUG,KAAK,QAAlC,kBACFC,SAAS,QACX,IAAI,IAAMF,EAAK,CACXG,cAAe,CACXC,gBAAgB,KAGxBJ,EAAIK,QAAQ,QAChB,CACJ,IAGA,IAAE,iCAAkCf,KAAKD,IAAIG,GAAG,SAAS,SAAUC,GAC/D,IACIa,EADAC,EAAQ,EAEZ,IAAE,WAAYjB,KAAKD,IACdU,QAAQ,MACRS,IAAI,iBACJC,MAAK,WACFF,GAASG,SAAS,IAAE,sBAAuBpB,MAAMqB,OAAOC,OAC5D,IAEAN,EADAC,EAEI,iIAEE,+CAELM,OAAOC,QAAQR,KAChB,IAAEhB,MAAMO,YAAY,cACpBJ,EAAEG,iBAEV,IAGA,IAAE,QAAQJ,GAAG,SAAU,uBAAuB,WAC1C,IAAIuB,EAAK,wCAAsC,IAAEzB,MAAM0B,OACvD,IAAE,oBAAoBA,IAAID,EAC9B,GACJ,E","sources":["webpack://plone.staticresources/./node_modules/@der-freitag/mockup/src/pat/controlpanels/dexterity-types-listing--implementation.js"],"sourcesContent":["import $ from \"jquery\";\nimport Modal from \"../modal/modal\";\n\nexport default class DexterityTypesListing {\n    constructor(el) {\n        this.el = el;\n    }\n\n    init() {\n        import(\"./schemaeditor--implementation\"); // register plone_schemaeditor_normalize_string method.\n\n        // Button Clone\n        $(\"#crud-edit-form-buttons-clone\", this.el).on(\"click\", function (e) {\n            var selected = $(\"input[id$=-widgets-select-0]:checked\", this.el);\n            if (selected.length === 1) {\n                e.preventDefault();\n                $(this).removeClass(\"submitting\");\n                var type_link = $(\"a\", selected.closest(\"tr\"));\n                var $el = $(\n                    \"<\" + 'a href=\"' + type_link.attr(\"href\") + '/@@clone\"><' + \"/a>\"\n                ).appendTo(\"body\");\n                new Modal($el, {\n                    actionOptions: {\n                        displayInModal: false,\n                    },\n                });\n                $el.trigger(\"click\");\n            }\n        });\n\n        // Button delete\n        $(\"#crud-edit-form-buttons-delete\", this.el).on(\"click\", function (e) {\n            var items = 0,\n                msg;\n            $(\"td.count\", this.el)\n                .closest(\"tr\")\n                .has(\"input:checked\")\n                .each(function () {\n                    items += parseInt($(\"td.count .int-field\", this).html().trim());\n                });\n            if (items) {\n                msg =\n                    \"WARNING: There are existing instances of these content types which will break.\\n\\nAre you sure you want to delete these types?\";\n            } else {\n                msg = \"Are you sure you want to delete these types?\";\n            }\n            if (!window.confirm(msg)) {\n                $(this).removeClass(\"submitting\");\n                e.preventDefault();\n            }\n        });\n\n        // set id from title\n        $(\"body\").on(\"change\", \"#form-widgets-title\", function () {\n            var id = $.plone_schemaeditor_normalize_string($(this).val());\n            $(\"#form-widgets-id\").val(id);\n        });\n    }\n}\n"],"names":["DexterityTypesListing","constructor","el","this","init","on","e","selected","length","preventDefault","removeClass","type_link","closest","$el","attr","appendTo","actionOptions","displayInModal","trigger","msg","items","has","each","parseInt","html","trim","window","confirm","id","val"],"sourceRoot":""}