(self.webpackChunkplone_staticresources=self.webpackChunkplone_staticresources||[]).push([[66698],{66698:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return ie}});var i=n(65311),r=n.n(i),a=n(59050),o=n(47874),s=n(84109),l=n(38216),c=n(31955),u=n(72316),p=n.n(u),h=p().View.extend({isUIView:!0,eventPrefix:"ui",template:null,idPrefix:"base-",appendInContainer:!0,initialize:function(t){for(var e in this.options=t,this.options)this[e]=this.options[e];this.options._t=o.Z},render:function(){return this.applyTemplate(),this.trigger("render",this),this.afterRender(),this.options.id&&this.$el.attr("id",this.idPrefix+this.options.id),this},afterRender:function(){},serializedModel:function(){return this.options},applyTemplate:function(){if(null!==this.template){var t=r().extend({_t:o.Z},this.options,this.serializedModel()),e=this.template;"string"==typeof e&&(e=a.default.template(e)),this.$el.html(e(t))}},propagateEvent:function(t){if(t.indexOf(":")>0){var e=t.split(":")[0];if(""!==this.eventPrefix&&(e===this.eventPrefix||e===this.eventPrefix+"."+this.id))return!0}return!1},uiEventTrigger:function(t){var e=[].slice.call(arguments,0);""!==this.eventPrefix&&(e[0]=this.eventPrefix+":"+t,p().View.prototype.trigger.apply(this,e),this.id&&(e[0]=this.eventPrefix+"."+this.id+":"+t,p().View.prototype.trigger.apply(this,e)))}}),d=h.extend({id:"",items:[],itemContainer:null,isOffsetParent:!0,idPrefix:"container-",render:function(){return this.options.id&&this.$el.attr("id",this.idPrefix+this.options.id),this.applyTemplate(),this.renderItems(),this.bindEvents(),this.isOffsetParent&&this.$el.addClass("ui-offset-parent"),this.trigger("render",this),this.afterRender(),this.$el.data("component",this),this},renderItems:function(){var t;if(null!==this.itemContainer){if(0===(t=r()(this.itemContainer,this.$el)).length)throw"Item Container element not found."}else t=this.$el;a.default.each(this.items,(function(e){!0===e.appendInContainer?t.append(e.render().$el):e.render()}),this)},bindEvents:function(){var t=this;a.default.each(this.items,(function(e){e.on("all",(function(){var e,n=[].slice,i=arguments[0],r=""!==t.id?t.id+"."+i:i;if(arguments.length>1&&(e=arguments[1]),r!==i){var a=n.call(arguments,0);a[0]=r,t.trigger.apply(t,a)}void 0!==e&&!0===e.isUIView&&!0===e.propagateEvent(i)&&t.trigger.apply(t,arguments)}))}))},get:function(t){return a.default.findWhere(this.items,{id:t})},add:function(t){if(void 0!==t.id&&this.get(t.id))throw"Another item with the same `id` already exists.";this.items.push(t)}}),f=d.extend({tagName:"div",className:"navbar",idPrefix:"toolbar-"}),g=d.extend({tagName:"div",className:"btn-group",idPrefix:"btngroup-",disable:function(){a.default.each(this.items,(function(t){t.disable()}))},enable:function(){a.default.each(this.items,(function(t){t.enable()}))}}),m=n(4605);function v(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(i,r)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(t){v(a,i,r,o,s,"next",t)}function s(t){v(a,i,r,o,s,"throw",t)}o(void 0)}))}}var b=h.extend({tagName:"a",className:"btn",eventPrefix:"button",context:"outline-secondary",idPrefix:"btn-",attributes:{href:"#"},extraClasses:[],tooltip:null,template:"<%= title %>",events:{click:"handleClick"},initialize:function(t){if(!t.id){var e=t.title||"";t.id=""!==e?e.toLowerCase().replace(" ","-"):this.cid}h.prototype.initialize.apply(this,[t]),this.on("render",y(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$el.attr("title",this.options.title||""),this.$el.attr("aria-label",this.options.title||this.options.tooltip||""),null!==this.context&&this.$el.addClass("btn-"+this.context),a.default.each(this.extraClasses,function(t){this.$el.addClass(t)}.bind(this)),!this.icon||"string"!=typeof this.icon){t.next=9;break}return t.next=7,s.Z.resolveIcon(this.icon,!0);case 7:(e=t.sent)&&this.$el.prepend(e);case 9:null!==this.tooltip&&(this.$el.attr("title",this.tooltip),new m.Z(this.$el),this.$el.on("hidden",(function(t){"hidden"===t.type&&t.stopPropagation()})));case 10:case"end":return t.stop()}}),t,this)}))),this)},handleClick:function(t){t.preventDefault(),this.$el.is(".disabled")||this.uiEventTrigger("click",this,t)},serializedModel:function(){return a.default.extend({icon:"",title:""},this.options)},disable:function(){this.$el.addClass("disabled")},enable:function(){this.$el.removeClass("disabled")}}),w=n(5984),x=n(66887),P=(n(79875),{openItem:{url:"#",title:(0,o.Z)("Open"),category:"button",icon:"plone-view",css:"",modal:!1},editItem:{url:"#",title:(0,o.Z)("Edit"),category:"button",icon:"plone-edit",css:"",modal:!1},cutItem:{method:"cutClicked",url:"#",title:(0,o.Z)("Cut"),category:"dropdown",icon:"plone-cut",css:"",modal:!1},copyItem:{method:"copyClicked",url:"#",title:(0,o.Z)("Copy"),category:"dropdown",icon:"plone-copy",css:"",modal:!1},pasteItem:{method:"pasteClicked",url:"#",title:(0,o.Z)("Paste"),category:"dropdown",icon:"plone-paste",css:"",modal:!1},"move-top":{method:"moveTopClicked",url:"#",title:(0,o.Z)("Move to top of folder"),category:"dropdown",icon:"arrow-bar-up",css:"",modal:!1},"move-bottom":{method:"moveBottomClicked",url:"#",title:(0,o.Z)("Move to bottom of folder"),category:"dropdown",icon:"arrow-bar-down",css:"",modal:!1},"set-default-page":{method:"setDefaultPageClicked",url:"#",title:(0,o.Z)("Set as default page"),category:"dropdown",icon:"check-circle",css:"",modal:!1},selectAll:{method:"selectAll",url:"#",title:(0,o.Z)("Select all contained items"),category:"dropdown",icon:"check-all",css:"",modal:!1}}),C=function(t){if(null!==t.menuOptions)return t.menuOptions;var e=t.model.attributes,n=t.app,i=a.default.clone(P);n.pasteAllowed()&&e.is_folderish||delete i.pasteItem,(n.inQueryMode()||!1===t.options.canMove)&&(delete i["move-top"],delete i["move-bottom"]),-1!==n.defaultPageTypes.indexOf(e.portal_type)&&n.setDefaultPageUrl||delete i["set-default-page"],e.is_folderish||delete i.selectAll;var r=n.options.typeToViewAction,o=r&&r[e.portal_type]||"";return i.openItem.url=e.getURL+o,i.editItem.url=e.getURL+"/edit",i},S=p().Model.extend({defaults:function(){return{is_folderish:!1,review_state:"",getURL:""}},uid:function(){return this.attributes.UID}});function k(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var $=p().Model.extend({initialize:function(t){this.options=t,this.app=t.app,this.model=t.model,this.selectedCollection=this.app.selectedCollection},selectAll:function(t){var e=this;t.preventDefault();var n=1,i=0;!function t(){e.app.loading.show(),r().ajax({url:e.app.collection.url,type:"GET",dataType:"json",data:{query:e.app.collection.queryParser({searchPath:e.model.attributes.path}),batch:JSON.stringify({page:n,size:100}),attributes:JSON.stringify(e.app.collection.queryHelper.options.attributes)}}).done((function(r){var a=e.app.collection.parse(r,i);i+=a.length;var o,s=k(a);try{for(s.s();!(o=s.n()).done;){var l=o.value;e.app.selectedCollection.add(new S(l))}}catch(t){s.e(t)}finally{s.f()}n+=1,r.total>i?t():(e.app.loading.hide(),e.app.tableView.render())}))}()},doAction:function(t,e,n){var i=this;r().ajax({url:this.app.buttons.get(t).options.url,data:{selection:JSON.stringify([this.model.attributes.UID]),folder:this.model.attributes.path,_authenticator:s.Z.getAuthenticator()},dataType:"json",type:"POST"}).done((function(t){var r;"success"===t.status?(r=(0,o.Z)("".concat(e,' "').concat(i.model.attributes.Title,'"')),i.app.collection.pager(),i.app.updateButtons()):r=(0,o.Z)("Error ".concat(n,' "').concat(i.model.attributes.Title,'"')),i.app.clearStatus(),i.app.setStatus({text:r,type:t.status||"warning"})}))},cutClicked:function(t){t.preventDefault(),this.doAction("cut",(0,o.Z)("Cut"),(0,o.Z)("cutting"))},copyClicked:function(t){t.preventDefault(),this.doAction("copy",(0,o.Z)("Copied"),(0,o.Z)("copying"))},pasteClicked:function(t){t.preventDefault(),this.doAction("paste",(0,o.Z)("Pasted into"),(0,o.Z)("Error pasting into"))},moveTopClicked:function(t){t.preventDefault(),this.app.moveItem(this.model.attributes.id,"top")},moveBottomClicked:function(t){t.preventDefault(),this.app.moveItem(this.model.attributes.id,"bottom")},setDefaultPageClicked:function(t){var e=this;t.preventDefault(),r().ajax({url:this.app.getAjaxUrl(this.app.setDefaultPageUrl),type:"POST",data:{_authenticator:r()('[name="_authenticator"]').val(),id:this.model.attributes.id},success:function(t){e.app.ajaxSuccessResponse.apply(e.app,[t])},error:function(t){e.app.ajaxErrorResponse.apply(e.app,[t])}})}});function I(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function O(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(i,r)}var T,E,N=h.extend({className:"btn-group actionmenu",template:a.default.template(x),menuOptions:null,eventConstructor:function(t){var e=t.method;return!(!e||!this.actions[e])&&this.actions[e].bind(this.actions)},events:function(){var t=this,e={},n={};return a.default.each(this.menuOptions,(function(i,r){i.idx=s.Z.generateId(),i.name=r;var a=i.category||"dropdown";void 0===n[a]&&(n[a]=[]),n[a].push(i),i.classes=[i.name,i.idx],i.css&&i.classes.push(i.css),!0===i.modal&&(i.css+=" pat-plone-modal");var o=t.eventConstructor(i);o&&(e["click a.".concat(i.name)]=o)})),this.menuOptionsCategorized=n,e},initialize:function(t){this.actions=new $(t),h.prototype.initialize.apply(this,[t]),this.options=t,this.selectedCollection=this.app.selectedCollection,this.menuOptions=C(this)},render:(T=regeneratorRuntime.mark((function t(){var e,n,i,a,l,c,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.el.innerHTML="",(e=this.model.toJSON()).header=this.options.header||null,e.menuOptions=this.menuOptionsCategorized,n=I(e.menuOptions.button),t.prev=5,n.s();case 7:if((i=n.n()).done){t.next=15;break}if(!(a=i.value).icon){t.next=13;break}return t.next=12,s.Z.resolveIcon(a.icon);case 12:a.iconSVG=t.sent;case 13:t.next=7;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(5),n.e(t.t0);case 20:return t.prev=20,n.f(),t.finish(20);case 23:l=I(e.menuOptions.dropdown),t.prev=24,l.s();case 26:if((c=l.n()).done){t.next=34;break}if(!(u=c.value).icon){t.next=32;break}return t.next=31,s.Z.resolveIcon(u.icon);case 31:u.iconSVG=t.sent;case 32:t.next=26;break;case 34:t.next=39;break;case 36:t.prev=36,t.t1=t.catch(24),l.e(t.t1);case 39:return t.prev=39,l.f(),t.finish(39);case 42:return t.t2=this,t.t3=r(),t.next=46,s.Z.resolveIcon("plone-settings");case 46:return t.t4=t.sent,t.t5=o.Z,t.t6=s.Z.generateId(),t.t7={dropdownIcon:t.t4,_t:t.t5,id:t.t6},t.t8=e,t.t9=t.t3.extend.call(t.t3,t.t7,t.t8),this.el.innerHTML=t.t2.template.call(t.t2,t.t9),this.options.className&&this.$el.addClass(this.options.className),w.Z.scan(this.$el),t.abrupt("return",this);case 56:case"end":return t.stop()}}),t,this,[[5,17,20,23],[24,36,39,42]])})),E=function(){var t=this,e=arguments;return new Promise((function(n,i){var r=T.apply(t,e);function a(t){O(r,n,i,a,o,"next",t)}function o(t){O(r,n,i,a,o,"throw",t)}a(void 0)}))},function(){return E.apply(this,arguments)})}),D=n(51610);function R(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function j(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(i,r)}var Z=p().View.extend({tagName:"tr",className:"itemRow",template:a.default.template(D),events:{"change input":"itemSelected","click td.title a.manage":"itemClicked"},initialize:function(t){this.options=t,this.app=t.app,this.selectedCollection=this.app.selectedCollection,this.table=this.options.table,this.now=new Date,this.listenTo(this.table,"context-info:set",this.render)},expired:function(t){if(!t.attributes.ExpirationDate)return!1;var e=new Date(t.attributes.ExpirationDate);return this.now>e},ineffective:function(t){if(!t.attributes.EffectiveDate)return!1;var e=new Date(t.attributes.EffectiveDate);return this.now<e},render:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(t){j(a,i,r,o,s,"next",t)}function s(t){j(a,i,r,o,s,"throw",t)}o(void 0)}))}}(regeneratorRuntime.mark((function t(){var e,n,i,a,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=this.model.toJSON()).selected=!!this.selectedCollection.findWhere({UID:n.UID}),n.attributes=this.model.attributes,n.activeColumns=this.app.activeColumns,n.availableColumns=this.app.availableColumns,n.portal_type=n.portal_type?n.portal_type:"",n.contenttype=n.portal_type.toLowerCase().replace(/\.| /g,"-"),n._authenticator=s.Z.getAuthenticator(),n.thumb_scale=this.app.thumb_scale,i=this.app.typeToViewAction&&this.app.typeToViewAction[n.attributes.portal_type]||"",n.viewURL=n.attributes.getURL+i,n._t=o.Z,n.convertColumnValue=this.convertColumnValue.bind(this),n.expired=this.expired(n),n.ineffective=this.ineffective(n),this.$el.html(this.template(n)),a=this.model.attributes,this.$el.addClass(["state-".concat(a.review_state),"type-".concat(a.portal_type)]),n.is_folderish&&this.$el.addClass("folder"),n.id===(null===(e=this.table.contextInfo)||void 0===e?void 0:e.defaultPage)&&this.$el.addClass("default-page"),this.$el.attr("data-path",n.path),this.$el.attr("data-UID",n.UID),this.$el.attr("data-id",n.id),this.$el.attr("data-type",n.portal_type),this.$el.attr("data-folderish",n.is_folderish),this.$el.removeClass("expired"),this.$el.removeClass("ineffective"),n.expired&&this.$el.addClass("expired"),n.ineffective&&this.$el.addClass("ineffective"),this.el.model=this.model,l=!!this.app.options.moveUrl,this.menu=new N({app:this.app,model:this.model,menuOptions:this.app.menuOptions,canMove:l}),t.next=34,this.menu.render();case 34:return r()(".actionmenu-container",this.$el).append(this.menu.el),t.abrupt("return",this);case 36:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),convertColumnValue:function(t,e){if(this.table.dateColumns.includes(t)){var n=new Date(e);return n instanceof Date&&"Invalid Date"===n.toString()?e:n.toLocaleString(this.app.language,this.app.dateFormat)}return e},itemClicked:function(t){var e=this.app.keyEvent;if(e&&e.ctrlKey||!this.model.attributes.is_folderish)return null;t.preventDefault(),this.app.setCurrentPath(this.model.attributes.path),this.app.collection.goTo(this.app.collection.information.firstPage)},itemSelected:function(){var t=this.$("input")[0];t.checked?this.app.selectedCollection.add(this.model.clone()):this.app.selectedCollection.removeResult(this.model);var e=this.selectedCollection,n=this.app.keyEvent;if(n&&n.shiftKey&&this.app.last_selected&&null!==this.app.last_selected.parentNode){var i,a=r()(this.app.last_selected),o=a.index(),s=this.$el.index(),l=R(this.app.tableView.$('input[type="checkbox"]'));try{for(l.s();!(i=l.n()).done;){var c=i.value,u=(a=r()(c)).parents("tr").index();if(u>o&&u<s||u<o&&u>s){this.checked=t.checked;var p=r()(this).closest("tr.itemRow");if(p.length>0){var h=p[0].model,d=e.getByUID(h.attributes.UID);this.checked?d||e.add(h.clone()):d&&e.removeResult(d)}}}}catch(t){l.e(t)}finally{l.f()}}this.app.last_selected=this.el}}),F=n(78529),q=n(16091);n(53085);const U="transitionend",V=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&"#"!==n?n.trim():null}return e},z=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),L=t=>z(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(t):null,B=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},H=[],J=t=>{"function"==typeof t&&t()},K=(t,e,n=!0)=>{if(!n)return void J(t);const i=(t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const i=Number.parseFloat(e),r=Number.parseFloat(n);return i||r?(e=e.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(n))):0})(e)+5;let r=!1;const a=({target:n})=>{n===e&&(r=!0,e.removeEventListener(U,a),J(t))};e.addEventListener(U,a),setTimeout((()=>{r||e.dispatchEvent(new Event(U))}),i)},W=/[^.]*(?=\..*)\.|.*/,Q=/\..*/,G=/::\d+$/,Y={};let X=1;const tt={mouseenter:"mouseover",mouseleave:"mouseout"},et=/^(mouseenter|mouseleave)/i,nt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function it(t,e){return e&&`${e}::${X++}`||t.uidEvent||X++}function rt(t){const e=it(t);return t.uidEvent=e,Y[e]=Y[e]||{},Y[e]}function at(t,e,n=null){const i=Object.keys(t);for(let r=0,a=i.length;r<a;r++){const a=t[i[r]];if(a.originalHandler===e&&a.delegationSelector===n)return a}return null}function ot(t,e,n){const i="string"==typeof e,r=i?n:e;let a=ct(t);return nt.has(a)||(a=t),[i,r,a]}function st(t,e,n,i,r){if("string"!=typeof e||!t)return;if(n||(n=i,i=null),et.test(e)){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};i?i=t(i):n=t(n)}const[a,o,s]=ot(e,n,i),l=rt(t),c=l[s]||(l[s]={}),u=at(c,o,a?n:null);if(u)return void(u.oneOff=u.oneOff&&r);const p=it(o,e.replace(W,"")),h=a?function(t,e,n){return function i(r){const a=t.querySelectorAll(e);for(let{target:o}=r;o&&o!==this;o=o.parentNode)for(let s=a.length;s--;)if(a[s]===o)return r.delegateTarget=o,i.oneOff&&ut.off(t,r.type,e,n),n.apply(o,[r]);return null}}(t,n,i):function(t,e){return function n(i){return i.delegateTarget=t,n.oneOff&&ut.off(t,i.type,e),e.apply(t,[i])}}(t,n);h.delegationSelector=a?n:null,h.originalHandler=o,h.oneOff=r,h.uidEvent=p,c[p]=h,t.addEventListener(s,h,a)}function lt(t,e,n,i,r){const a=at(e[n],i,r);a&&(t.removeEventListener(n,a,Boolean(r)),delete e[n][a.uidEvent])}function ct(t){return t=t.replace(Q,""),tt[t]||t}const ut={on(t,e,n,i){st(t,e,n,i,!1)},one(t,e,n,i){st(t,e,n,i,!0)},off(t,e,n,i){if("string"!=typeof e||!t)return;const[r,a,o]=ot(e,n,i),s=o!==e,l=rt(t),c=e.startsWith(".");if(void 0!==a){if(!l||!l[o])return;return void lt(t,l,o,a,r?n:null)}c&&Object.keys(l).forEach((n=>{!function(t,e,n,i){const r=e[n]||{};Object.keys(r).forEach((a=>{if(a.includes(i)){const i=r[a];lt(t,e,n,i.originalHandler,i.delegationSelector)}}))}(t,l,n,e.slice(1))}));const u=l[o]||{};Object.keys(u).forEach((n=>{const i=n.replace(G,"");if(!s||e.includes(i)){const e=u[n];lt(t,l,o,e.originalHandler,e.delegationSelector)}}))},trigger(t,e,n){if("string"!=typeof e||!t)return null;const i=B(),r=ct(e),a=e!==r,o=nt.has(r);let s,l=!0,c=!0,u=!1,p=null;return a&&i&&(s=i.Event(e,n),i(t).trigger(s),l=!s.isPropagationStopped(),c=!s.isImmediatePropagationStopped(),u=s.isDefaultPrevented()),o?(p=document.createEvent("HTMLEvents"),p.initEvent(r,l,!0)):p=new CustomEvent(e,{bubbles:l,cancelable:!0}),void 0!==n&&Object.keys(n).forEach((t=>{Object.defineProperty(p,t,{get:()=>n[t]})})),u&&p.preventDefault(),c&&t.dispatchEvent(p),p.defaultPrevented&&void 0!==s&&s.preventDefault(),p}};var pt=ut;const ht=new Map;var dt={set(t,e,n){ht.has(t)||ht.set(t,new Map);const i=ht.get(t);i.has(e)||0===i.size?i.set(e,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(t,e)=>ht.has(t)&&ht.get(t).get(e)||null,remove(t,e){if(!ht.has(t))return;const n=ht.get(t);n.delete(e),0===n.size&&ht.delete(t)}};var ft=class{constructor(t){(t=L(t))&&(this._element=t,dt.set(this._element,this.constructor.DATA_KEY,this))}dispose(){dt.remove(this._element,this.constructor.DATA_KEY),pt.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach((t=>{this[t]=null}))}_queueCallback(t,e,n=!0){K(t,e,n)}static getInstance(t){return dt.get(L(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.1.3"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}};class gt extends ft{static get NAME(){return"alert"}close(){if(pt.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,t)}_destroyElement(){this._element.remove(),pt.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(t){return this.each((function(){const e=gt.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}var mt,vt;((t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,i=t.NAME;pt.on(document,n,`[data-bs-dismiss="${i}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),!(r=this)||r.nodeType!==Node.ELEMENT_NODE||r.classList.contains("disabled")||(void 0!==r.disabled?r.disabled:r.hasAttribute("disabled")&&"false"!==r.getAttribute("disabled")))return;var r;const a=(t=>{const e=V(t);return e?document.querySelector(e):null})(this)||this.closest(`.${i}`);t.getOrCreateInstance(a)[e]()}))})(gt,"close"),mt=gt,vt=()=>{const t=B();if(t){const e=mt.NAME,n=t.fn[e];t.fn[e]=mt.jQueryInterface,t.fn[e].Constructor=mt,t.fn[e].noConflict=()=>(t.fn[e]=n,mt.jQueryInterface)}},"loading"===document.readyState?(H.length||document.addEventListener("DOMContentLoaded",(()=>{H.forEach((t=>t()))})),H.push(vt)):vt();function yt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return bt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function wt(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(i,r)}function xt(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(t){wt(a,i,r,o,s,"next",t)}function s(t){wt(a,i,r,o,s,"throw",t)}o(void 0)}))}}var Pt=h.extend({tagName:"div",template:a.default.template(F),tableSortable:null,initialize:function(t){var e=this;h.prototype.initialize.apply(this,[t]),this.collection=this.app.collection,this.selectedCollection=this.app.selectedCollection,this.listenTo(this.collection,"sync",this.render),this.listenTo(this.selectedCollection,"remove",this.render),this.listenTo(this.selectedCollection,"reset",this.render),this.collection.pager(),this.subsetIds=[],this.contextInfo=null,this.tableSortable=null,r()("body").on("context-info-loaded",(function(t,n){e.contextInfo=n,e.setContextInfo()})),this.dateColumns=["ModificationDate","EffectiveDate","CreationDate","ExpirationDate","start","end","last_comment_date"]},events:{"click .fc-breadcrumbs a":"breadcrumbClicked","change .select-all":"selectAll"},setContextInfo:function(){var t=this.contextInfo.breadcrumbs;if(t&&t.length){var e=this.$(".fc-breadcrumbs a.crumb");a.default.each(t,(function(t,n){e.eq(n).html(t.title)}))}this.trigger("context-info:set")},render:function(){var t=xt(regeneratorRuntime.mark((function t(){var e,n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e={order:[0,"asc"],aoColumnDefs:[{bSortable:!1,aTargets:[0,this.app.activeColumns.length+2]}],paging:!1,searching:!1,info:!1},r().extend(e,this.app.options.datatables_options),this.$el.html(this.template({_t:o.Z,pathParts:a.default.filter(this.app.getCurrentPath().split("/").slice(1),(function(t){return t.length>0})),activeColumns:this.app.activeColumns,availableColumns:this.app.availableColumns,datatables_options:JSON.stringify(e)})),!this.collection.length){t.next=7;break}return n=this.$("tbody"),t.next=7,this.collection.each(function(){var t=xt(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.dateColumns.map((function(t){!e.attributes.hasOwnProperty(t)||"None"!==e.attributes[t]&&e.attributes[t]||(e.attributes[t]="")})),r=new Z({model:e,app:i.app,table:i}),t.next=4,r.render();case 4:n.append(r.el);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 7:return w.Z.scan(this.$el),this.$el.find("table").on("init.dt",(function(){i.app.options.moveUrl&&i.addReordering(),i.storeOrder()})).on("order.dt",(function(t,e,n){if(1===n.length){var a=n[0];if(0===a.col&&"asc"===a.dir)return i.tableSortable&&i.tableSortable.enableSort(),void i.app.clearStatus("sorting_dndreordering_disabled")}var s=r()('<button type="button" class="btn btn-danger btn-xs"></button>').text((0,o.Z)("Reset column sorting")).on("click",(function(){var e=r()(t.target).dataTable().api();e.order([0,"asc"]),e.draw()}));i.app.setStatus({text:(0,o.Z)("Notice: Drag and drop reordering is disabled when viewing the contents sorted by a column."),type:"warning"},s,!1,"sorting_dndreordering_disabled"),i.tableSortable&&i.tableSortable.disableSort(),i.$el.removeClass("order-support")})),t.abrupt("return",this);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),breadcrumbClicked:function(t){t.preventDefault();var e=r()(t.target);"A"!==e[0].tagName&&(e=e.parent("a"));var n,i="",a=yt(r()(e.prevAll("a").get().reverse()));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=r()(o).attr("data-path");i+=s,"/"!==s&&(i+="/")}}catch(t){a.e(t)}finally{a.f()}i+=e.attr("data-path"),this.app.setCurrentPath(i),this.app.collection.goTo(this.app.collection.information.firstPage)},selectAll:function(t){r()(t.target).is(":checked")?r()('input[type="checkbox"]',this.$("tbody")).prop("checked",!0).change():(this.selectedCollection.remove(this.collection.models,{silent:!0}),this.selectedCollection.trigger("remove")),this.setContextInfo()},toggleSelectAll:function(t){r()(t.target).is(":checked")||this.$(".select-all").prop("checked",!1)},addReordering:function(){var t=this;this.app.inQueryMode()?this.$el.removeClass("order-support"):(this.$el.addClass("order-support"),this.tableSortable=new q.Z(this.$("tbody"),{selector:"tr",createDragItem:function(t,e){var n=e.clone(),i=r()("<table><tbody></tbody></table>");return r()("tbody",i).append(n),i.addClass("structure-dragging").css({opacity:.85,position:"absolute"}),i.width(e.width()),i.height(e.height()),i.appendTo(document.body),i},drop:function(e,n){0!==n&&(t.app.moveItem(e.attr("data-id"),n,t.subsetIds),t.storeOrder())}}))},storeOrder:function(){var t=[];this.$("tbody tr.itemRow").each((function(){t.push(r()(this).attr("data-id"))})),this.subsetIds=t}}),Ct=n(41661),St=n(54215),kt=d.extend({tagName:"div",className:"popover",eventPrefix:"popover",template:St,content:null,title:null,triggerView:null,idPrefix:"popover-",triggerEvents:{"button:click":"toggle"},placement:"bottom",events:{},opened:!1,closeOnOutClick:!0,appendInContainer:!0,backdrop:void 0,$backdrop:null,useBackdrop:!0,backdropOptions:{zIndex:"1009",opacity:"0.4",className:"backdrop backdrop-popover",classActiveName:"backdrop-active",closeOnEsc:!1,closeOnClick:!0},initialize:function(t){var e=this;d.prototype.initialize.apply(this,[t]),this.bindTriggerEvents(),this.on("render",(function(){this.$el.attr("role","tooltip").attr("aria-hidden","false"),this.renderTitle(),this.renderContent()}),this),this.$el.on("keyup",(function(t){27===t.keyCode&&e.hide()}))},afterRender:function(){},getTemplateOptions:function(){return this.options},renderTitle:function(){var t=this.title;"function"==typeof t&&(t=t(this.getTemplateOptions())),this.$(".popover-title").empty().append(t)},renderContent:function(){this.$(".popover-content").empty().append(this.content(this.getTemplateOptions()))},bindTriggerEvents:function(){this.triggerView&&a.default.each(this.triggerEvents,(function(t,e){var n=this[t];n||r().error("Function not found."),this.stopListening(this.triggerView,e),this.listenTo(this.triggerView,e,n)}),this)},getPosition:function(){var t=this.triggerView.$el;return r().extend({},{width:t[0].offsetWidth,height:t[0].offsetHeight},t.offset())},getBodyClassName:function(){var t="popover-";return this.options.id&&(t+=this.options.id+"-"),t+="active"},show:function(){r()(".popover:visible").each((function(){var t=r()(this).data("component");t&&t.hide()})),this.position(),this.setBackdrop(),!0===this.useBackdrop&&this.backdrop.show(),this.opened=!0,this.triggerView&&this.triggerView.$el.addClass("active"),this.uiEventTrigger("show",this),this.$el.attr("aria-hidden","false"),r()("body").addClass(this.getBodyClassName())},position:function(){var t,e,n,i,r=this.getPosition(),a=this.$el;switch(e=this.placement,a.css({top:0,left:0}).addClass("active"),n=a[0].offsetWidth,i=a[0].offsetHeight,e){case"bottom-right":t={top:r.top+r.height,left:r.left+r.width-40};break;case"bottom":t={top:r.top+r.height,left:r.left+r.width/2-n/2};break;case"top":t={top:r.top-i,left:r.left+r.width/2-n/2};break;case"left":t={top:r.top+r.height/2-i/2,left:r.left-n};break;case"right":t={top:r.top+r.height/2-i/2,left:r.left+r.width}}this.applyPlacement(t,e)},applyPlacement:function(t,e){var n,i,r,a,o=this.$el,s=this.$el,l=s[0].offsetWidth,c=s[0].offsetHeight;o.removeClass(e),o.offset(t).addClass(e).addClass("active"),n=s[0].offsetWidth,i=s[0].offsetHeight,"top"===e&&i!==c&&(t.top=t.top+c-i,a=!0),"bottom"===e||"top"===e?(r=0,t.left<0&&(r=-2*t.left,t.left=0,o.removeClass(e),o.offset(t).addClass(e),n=s[0].offsetWidth,i=s[0].offsetHeight),this.positionArrow(r-l+n,n,"left")):"bottom-right"!==e&&this.positionArrow(i-c,i,"top"),a&&o.offset(t)},positionArrow:function(t,e,n){this.$(".arrow").css(n,t?50*(1-t/e)+"%":"")},hide:function(){this.opened=!1,this.$el.removeClass("active"),this.triggerView&&(this.triggerView.$el.removeClass("active"),this.triggerView.$el.attr("aria-hidden","true")),this.uiEventTrigger("hide",this),this.$el.attr("aria-hidden","true"),r()("body").removeClass(this.getBodyClassName())},toggle:function(t,e){this.opened?this.hide():this.show()},setBackdrop:function(){if(!0===this.useBackdrop&&void 0===this.backdrop){var t=this;this.$backdrop=this.$el.closest(".ui-backdrop-element"),0===this.$backdrop.length&&(this.$backdrop=r()("body")),this.backdrop=new Ct.Z(this.$backdrop,this.backdropOptions),this.backdrop.$el.on("hidden.backdrop.patterns",(function(e){"backdrop.patterns"===e.namespace&&(e.stopPropagation(),!0===t.opened&&t.hide())})),this.on("popover:hide",(function(){this.backdrop.hide()}),this)}}}),_t=n(88839);function $t(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return It(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return It(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function It(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var At=kt.extend({className:"popover selected-items",title:a.default.template('<input type="text" class="filter" placeholder="<%- _t("Filter") %>" /><a href="#" class=" remove-all"><span class="glyphicon glyphicon-remove-circle"></span> <%- _t("remove all") %></a>'),content:a.default.template("<% collection.each(function(item) { %><%= item_template(item.toJSON()) %><% }); %>"),events:{"click a.remove":"itemRemoved","keyup input.filter":"filterSelected","click .remove-all":"removeAll"},initialize:function(t){var e=this;kt.prototype.initialize.apply(this,[t]);var n=0;this.listenTo(this.collection,"reset all add remove",(function(){clearTimeout(n),n=setTimeout((function(){e.render()}),50)})),this.options.item_template=a.default.template(_t)},render:function(){return kt.prototype.render.call(this),0===this.collection.length&&this.$el.removeClass("active"),this},itemRemoved:function(t){t.preventDefault();var e=r()(t.currentTarget).data("uid");this.collection.removeByUID(e),0!==this.collection.length&&this.show()},filterSelected:function(t){var e,n=r()(t.target).val().toLowerCase(),i=$t(r()(".selected-item",this.$el));try{for(i.s();!(e=i.n()).done;){var a=e.value,o=r()(a);-1===o.text().toLowerCase().indexOf(n)?o.hide():o.show()}}catch(t){i.e(t)}finally{i.f()}},removeAll:function(t){t.preventDefault(),this.collection.reset(),this.hide()}});function Ot(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Tt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Et=kt.extend({events:{"click button.applyBtn":"applyButtonClicked","click button.closeBtn":"toggle"},submitText:(0,o.Z)("Apply"),initialize:function(t){this.app=t.app,this.className="popover "+t.id,this.title=t.form.title||t.title,this.submitText=t.form.submitText||(0,o.Z)("Apply"),this.submitContext=t.form.submitContext||"primary",this.data={},this.options=t,this.setContent(t.form.template),kt.prototype.initialize.apply(this,[t])},setContent:function(t){var e="<form>"+t+"</form>";e+='<button class="btn btn-block btn-'+this.submitContext+' applyBtn">'+this.submitText+" </button>",this.options.form.closeText&&(e+='<button class="btn btn-block btn-default closeBtn">'+this.options.form.closeText+" </button>"),this.content=a.default.template(e)},getTemplateOptions:function(){var t,e=[],n=Ot(this.app.selectedCollection.models);try{for(n.s();!(t=n.n()).done;){var i=t.value;e.push(i.toJSON())}}catch(t){n.e(t)}finally{n.f()}return r().extend({},!0,this.options,{items:e,data:this.data})},applyButtonClicked:function(){var t,e={},n=Ot(this.$el.find("form").serializeArray());try{for(n.s();!(t=n.n()).done;){var i=t.value;i.name in e?e[i.name]+=","+i.value:e[i.name]=i.value}}catch(t){n.e(t)}finally{n.f()}this.app.buttonClickEvent(this.triggerView,e),this.hide()},afterRender:function(){var t=this;if(this.options.form.dataUrl){this.$(".popover-content").html((0,o.Z)("Loading...")),this.app.loading.show();var e=this.app.getAjaxUrl(this.options.form.dataUrl);r().ajax({url:e,dataType:"json",type:"POST",cache:!1,data:{selection:JSON.stringify(this.app.getSelectedUids()),transitions:!0,render:"yes"}}).done((function(e){t.data=e.data||e,t.renderContent(),w.Z.scan(t.$el)})).fail((function(){var e=t.content;t.setContent("<p>"+(0,o.Z)("Error loading popover from server.")+"</p>",!1),t.renderContent(),t.content=e})).always((function(){t.app.loading.hide(),t.position()}))}else w.Z.scan(this.$el),this.position()},toggle:function(t,e){kt.prototype.toggle.apply(this,[t,e]),this.opened&&(this.$el.replaceWith(this.render().el),this.position())}}),Nt=kt.extend({className:"popover rearrange",title:a.default.template('<%- _t("Rearrange items in this folder") %>'),content:a.default.template('<div class="form-group"><label><%- _t("What to rearrange on") %></label><select name="rearrange_on" class="form-control"><% _.each(rearrangeProperties, function(title, property) { %><option value="<%- property %>"><%- title %></option><% }); %></select><p class="help-block"><b><%- _t("This permanently changes the order of items in this folder. This operation may take a long time depending on the size of the folder.") %></b></p></div><div><label> <input type="checkbox" name="reversed" /> <%- _t("Reverse") %></label></div><button class="btn btn-block btn-primary"><%- _t("Rearrange") %></button>'),events:{"click button":"rearrangeButtonClicked"},initialize:function(t){this.app=t.app,kt.prototype.initialize.apply(this,[t]),this.options.rearrangeProperties=this.app.options.rearrange.properties},render:function(){return kt.prototype.render.call(this),this.$rearrangeOn=this.$('[name="rearrange_on"]'),this.$reversed=this.$('[name="reversed"]'),this},rearrangeButtonClicked:function(){if("/"!==this.app.collection.queryHelper.getCurrentPath()||window.confirm((0,o.Z)("Sorting the content on the base of the site could affect your navigation order. Are you certain you want to do this?"))){var t={rearrange_on:this.$rearrangeOn.val(),reversed:!1};this.$reversed[0].checked&&(t.reversed=!0),this.app.buttonClickEvent(this.triggerView,t),this.hide()}}}),Dt=n(56344),Rt=b.extend({collection:null,template:Dt,initialize:function(t){var e=this;b.prototype.initialize.apply(this,[t]),this.timeout=0,null!==this.collection&&this.collection.on("add remove reset",(function(){clearTimeout(e.timeout),e.timeout=setTimeout((function(){e.render(),0===e.collection.length&&e.$el.removeClass("active")}),50)}),this)},serializedModel:function(){var t={icon:"",title:this.options.title,length:0};return null!==this.collection&&(t.length=this.collection.length),t}}),Mt=n(44168),jt=p().View.extend({events:{"click a.servernext":"nextResultPage","click a.serverprevious":"previousResultPage","click a.serverlast":"gotoLast","click a.page":"gotoPage","click a.serverfirst":"gotoFirst","click a.serverpage":"gotoPage","click .serverhowmany a":"changeCount"},tagName:"aside",template:a.default.template(Mt),maxPages:7,initialize:function(t){this.options=t,this.app=this.options.app,this.collection=this.app.collection,this.collection.on("reset",this.render,this),this.collection.on("sync",this.render,this),this.$el.appendTo("#pagination")},render:function(){var t=this.collection.info();t.pages=this.getPages(t);var e=this.template(r().extend({_t:o.Z},t));return this.$el.html(e),this},getPages:function(t){var e=t.totalPages;if(!e)return[];var n=1,i=e;e>this.maxPages&&(n=Math.max(1,Math.floor(t.currentPage-this.maxPages/2)),(i=Math.min(n+this.maxPages,e))-n<this.maxPages&&(n-=Math.floor(this.maxPages/2)));for(var r=[],a=n;a<=i;a+=1)r.push(a);return r[0]>1&&(r[0]>2&&(r=["..."].concat(r)),r=[1].concat(r)),r[r.length-1]<e-1&&(r[r.length-2]<e-2&&r.push("..."),r.push(e)),r},nextResultPage:function(t){t.preventDefault(),this.app.clearStatus(),this.collection.requestNextPage()},previousResultPage:function(t){t.preventDefault(),this.app.clearStatus(),this.collection.requestPreviousPage()},gotoFirst:function(t){t.preventDefault(),this.app.clearStatus(),this.collection.goTo(this.collection.information.firstPage)},gotoLast:function(t){t.preventDefault(),this.app.clearStatus(),this.collection.goTo(this.collection.information.totalPages)},gotoPage:function(t){t.preventDefault(),this.app.clearStatus();var e=r()(t.target).text();this.collection.goTo(e)},changeCount:function(t){t.preventDefault(),this.app.clearStatus();var e=r()(t.target).text();this.collection.howManyPer(e),this.app.setCookieSetting("perPage",e)}});function Zt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ft(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ft(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var qt=kt.extend({className:"popover attribute-columns",title:a.default.template('<%- _t("Columns") %>'),content:a.default.template('<label><%- _t("Select columns to show, drag and drop to reorder") %></label><ul></ul><button class="btn btn-block btn-success"><%- _t("Save") %></button>'),itemTemplate:a.default.template('<li><label><input type="checkbox" value="<%- id %>"/><%- title %></label></li>'),events:{"click button":"applyButtonClicked"},initialize:function(t){this.app=t.app,kt.prototype.initialize.apply(this,[t])},afterRender:function(){var t=this;this.$container=this.$("ul");var e,n=Zt(this.app.activeColumns);try{for(n.s();!(e=n.n()).done;){var i=e.value,o=r()(this.itemTemplate({title:this.app.availableColumns[i],id:i}));o.find("input")[0].checked=!0,this.$container.append(o)}}catch(t){n.e(t)}finally{n.f()}var s,l=Zt(a.default.keys(a.default.omit(this.app.availableColumns,this.app.activeColumns)).sort((function(e,n){var i=t.app.availableColumns[e],r=t.app.availableColumns[n];return i<r?-1:i==r?0:1})));try{for(l.s();!(s=l.n()).done;){var c=s.value,u=r()(this.itemTemplate({title:this.app.availableColumns[c],id:c}));this.$container.append(u)}}catch(t){l.e(t)}finally{l.f()}return new q.Z(this.$container,{selector:"li"}),this},applyButtonClicked:function(){this.hide(),this.app.activeColumns=[];var t,e=Zt(this.$("input:checked"));try{for(e.s();!(t=e.n()).done;){var n=t.value;this.app.activeColumns.push(r()(n).val())}}catch(t){e.e(t)}finally{e.f()}this.app.setCookieSetting(this.app.activeColumnsCookie,this.app.activeColumns),this.app.tableView.render()}}),Ut=n(97902),Vt=h.extend({tagName:"div",className:"navbar-search form-search ui-offset-parent",template:a.default.template('<div class="input-group"><input id="textFilterInput" type="text" class="form-control search-query" aria-label="<%- _t("Search") %>" placeholder="<%- _t("Search") %>"></div>'),popoverContent:a.default.template('<input class="pat-querystring" />'),events:{"keyup .search-query":"filter"},term:null,timeoutId:null,keyupDelay:300,statusKeyFilter:"textfilter_status_message_filter",statusKeySorting:"textfilter_status_message_sorting",initialize:function(t){h.prototype.initialize.apply(this,[t]),this.app=this.options.app},setFilterStatusMessage:function(){var t=this,e=r()('<button type="button" class="btn btn-primary btn-xs"></button>').text((0,o.Z)("Clear")).on("click",(function(){return t.clearFilter()})),n=(0,o.Z)("This listing has filters applied. Not all items are shown.");this.app.setStatus({text:n,type:"success"},e,!0,this.statusKeyFilter);var i=(0,o.Z)("Drag and drop reordering is disabled while filters are applied.");this.app.setStatus({text:i,type:"warning"},null,!0,this.statusKeySorting)},clearFilterStatusMessage:function(){this.term||this.app.additionalCriterias.length||(this.app.clearStatus(this.statusKeyFilter),this.app.clearStatus(this.statusKeySorting))},setTerm:function(t,e){var n=this.$el[0].querySelector(".search-query");if(this.term=encodeURIComponent(t),e&&(n.value=t),this.app.collection.currentPage=1,this.app.collection.pager(),t)n.classList.add("has-filter"),this.setFilterStatusMessage();else{var i=!1;try{var r=this.$queryString.val();r&&JSON.parse(r).length>0&&(i=!0)}finally{i||(n.classList.remove("has-filter"),this.clearFilterStatusMessage())}}},setQuery:function(t,e){var n=null,i=null;try{"string"==typeof t?(i=JSON.parse(t),n=t):(n=JSON.stringify(t),i=t)}catch(t){i=[],n="[]"}e&&this.$queryString.val(n),this.app.additionalCriterias=i,this.app.collection.currentPage=1,this.app.collection.pager(),i.length?(this.button.$el[0].classList.add("has-filter"),this.setFilterStatusMessage()):this.term||(this.button.$el[0].classList.remove("has-filter"),this.clearFilterStatusMessage())},clearTerm:function(){this.setTerm("",!0)},clearFilter:function(){this.setTerm("",!0),this.setQuery([],!0)},render:function(){var t=this;return this.$el.html(this.template({_t:o.Z})),this.button=new b({title:(0,o.Z)("Filter"),icon:"filter",extraClasses:["btn-queryfilter"]}),this.popover=new kt({triggerView:this.button,id:"structure-query",title:a.default.template((0,o.Z)("Filter")),content:this.popoverContent,placement:"left"}),this.$el.find(".input-group").append(this.button.render().el),this.$el.append(this.popover.render().el),this.popover.$el.addClass("query"),this.$queryString=this.popover.$("input.pat-querystring"),this.queryString=new Ut.Z(this.$queryString,{indexOptionsUrl:this.app.options.indexOptionsUrl,showPreviews:!1}),this.queryString.$el.on("change",(function(){t.timeoutId&&clearTimeout(t.timeoutId),t.timeoutId=setTimeout((function(){t.setQuery(t.$queryString.val(),!1)}),t.keyupDelay)})),this.queryString.$el.on("initialized",(function(){t.queryString.$sortOn.on("change",(function(){t.app.sort_on=t.queryString.$sortOn.val(),t.app.collection.currentPage=1,t.app.collection.pager()})),t.queryString.$sortOrder.change((function(){t.queryString.$sortOrder[0].checked?t.app.sort_order="reverse":t.app.sort_order="ascending",t.app.collection.currentPage=1,t.app.collection.pager()}))})),this},filter:function(t){var e=this;this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout((function(){var n=r()(t.currentTarget);e.setTerm(n.val(),!1)}),this.keyupDelay)}}),zt=n(32901),Lt=kt.extend({className:"popover upload",title:a.default.template('<%- _t("Upload files") %>'),content:a.default.template('<input type="text" name="upload" style="display:none" /><div class="uploadify-me"></div>'),initialize:function(t){var e=this;this.app=t.app,kt.prototype.initialize.apply(this,[t]),this.currentPathData=null,r()("body").on("context-info-loaded",(function(t,n){e.currentPathData=n}))},render:function(){var t=this;kt.prototype.render.call(this);var e=this.app.options.upload;return e.success=function(){t.app.collection.pager()},e.currentPath=this.app.getCurrentPath(),e.allowPathSelection=!1,this.upload=new zt.default(this.$(".uploadify-me").addClass("pat-upload"),e),this},toggle:function(t,e){if(kt.prototype.toggle.apply(this,[t,e]),this.opened){var n=this.app.getCurrentPath();this.currentPathData&&n!==this.upload.currentPath&&this.upload.setPath(n)}}}),Bt=p().Collection.extend({model:S,removeResult:function(t){return this.removeByUID(t.uid())},removeByUID:function(t){var e=this.getByUID(t);return e&&this.remove(e),e},getByUID:function(t){return this.findWhere({UID:t})}}),Ht=n(41926);n(91395);function Jt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,r,a=[],o=!0,s=!1;try{for(n=n.call(t);!(o=(i=n.next()).done)&&(a.push(i.value),!e||a.length!==e);o=!0);}catch(t){s=!0,r=t}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}(t,e)||Kt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kt(t,e){if(t){if("string"==typeof t)return Wt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wt(t,e):void 0}}function Wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Qt=p().Paginator.requestPager.extend({model:S,initialize:function(t,e){this.options=e,this.view=e.view,this.url=e.url,this.queryHelper=s.Z.QueryHelper(r().extend(!0,{},this.view.options,{attributes:this.view.options.queryHelperAttributes})),this.queryParser=function(t){var e,n,i,a;void 0===t&&(t={});var o=(null===(e=this.view)||void 0===e||null===(n=e.toolbar)||void 0===n||null===(i=n.get)||void 0===i||null===(a=i.call(n,"filter"))||void 0===a?void 0:a.term)||null,s=this.view.sort_on||"getObjPositionInParent",l=this.view.sort_order;return JSON.stringify({criteria:this.queryHelper.getCriterias(o,r().extend({},t,{additionalCriterias:this.view.additionalCriterias})),sort_on:s,sort_order:l})},"#/"===window.location.hash.substring(0,2)&&(this.queryHelper.currentPath=window.location.hash.substring(1)),p().Paginator.requestPager.prototype.initialize.apply(this,[t,e])},getCurrentPath:function(){return this.queryHelper.getCurrentPath()},setCurrentPath:function(t){this.queryHelper.currentPath=t},pager:function(){this.trigger("pager"),p().Paginator.requestPager.prototype.pager.apply(this,[])},paginator_core:{type:"GET",dataType:"json",url:function(){return this.url}},paginator_ui:{firstPage:1,currentPage:1,perPage:15},server_api:{query:function(){return this.queryParser()},batch:function(){return this.queryHelper.options.batchSize=this.perPage,JSON.stringify(this.queryHelper.getBatch(this.currentPage))},attributes:function(){return JSON.stringify(this.queryHelper.options.attributes)}},parse:function(t,e){void 0===e&&(e=0),this.totalRecords=t.total;var n,i=t.results,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Kt(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(i.entries());try{for(r.s();!(n=r.n()).done;){var a=Jt(n.value,2),o=a[0];a[1]._sort=o}}catch(t){r.e(t)}finally{r.f()}return i},comparator:"_sort"});function Gt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Yt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Yt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Xt(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(i,r)}function te(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(t){Xt(a,i,r,o,s,"next",t)}function s(t){Xt(a,i,r,o,s,"throw",t)}o(void 0)}))}}var ee,ne=l.Z.getLogger("pat-structure"),ie=h.extend({tagName:"div",statusTemplate:a.default.template(Ht),statusMessages:[],sort_on:"getObjPositionInParent",sort_order:"ascending",additionalCriterias:[],cookieSettingPrefix:"_fc_",buttons:null,textfilter:null,forms:[],pasteAllowed:function(){return!!c.Z.get("__cp")},initialize:(ee=te(regeneratorRuntime.mark((function t(e){var n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h.prototype.initialize.apply(this,[e]),this.loading=new s.Z.Loading,this.loading.show(),r()(document).click((function(t){var e=r()(t.target);if(e.is(":visible")&&"hidden"!==e.css("visibility")&&"0"!==e.css("opacity")&&!e.is("a")&&!e.parent().is("a")){var n=r()(".popover:visible");if(n.length>0&&!r().contains(n[0],e[0])){var i=n.data("component");i&&i.hide()}}})),this.collection=new Qt([],{view:this,url:this.options.collectionUrl}),this.setAllCookieSettings(),this.selectedCollection=new Bt,t.next=9,new Pt({app:this});case 9:this.tableView=t.sent,this.pagingView=new jt({app:this}),this.setupButtons(),this.wellView=new At({collection:this.selectedCollection,triggerView:this.toolbar.get("selected-items"),app:this,id:"selected-items"}),this.toolbar.get("selected-items").disable(),this.buttons.disable(),n=0,this.selectedCollection.on("add remove reset",(function(){clearTimeout(n),n=setTimeout((function(){i.updateButtons()}),100)}),this),this.collection.on("sync",(function(){i.contextInfoUrl&&r().ajax({url:i.getAjaxUrl(i.contextInfoUrl),dataType:"json",success:function(t){r()("body").trigger("context-info-loaded",[t])},error:function(t){404===t.status&&ne.info("context info url not found")}}),i.loading.hide()})),this.collection.on("pager",(function(){if(i.loading.show(),i.updateButtons(),window.history&&window.history.pushState)if(i.doNotPushState)i.doNotPushState=!1;else{var t,e=i.getCurrentPath();"/"===e&&(e=""),i.options.pushStateUrl?(t=i.options.pushStateUrl.replace("/{path}","{path}").replace("{path}",e),window.history.pushState(null,null,t)):i.options.urlStructure&&(t=i.options.urlStructure.base+e+i.options.urlStructure.appended,window.history.pushState(null,null,t)),i.options.traverseView&&(e=""),r()("body").trigger("structure-url-changed",[e])}})),(this.options.pushStateUrl||this.options.urlStructure)&&s.Z.featureSupport.history()&&(r()(window).bind("popstate",(function(){var t,e,n=s.Z.getWindow().location.href;if(-1!==n.indexOf("?")&&(n=n.split("?")[0]),-1!==n.indexOf("#")&&(n=n.split("#")[0]),i.options.pushStateUrl){var a=i.options.pushStateUrl.split("{path}");t=a[0],e=a[1]}else t=i.options.urlStructure.base,e=i.options.urlStructure.appended;var o=n.substring(t.length);o.substring(o.length-e.length)===e&&(o=o.substring(0,o.length-e.length)),o||(o="/"),i.setCurrentPath(o),r()("body").trigger("structure-url-changed",[o]),i.doNotPushState=!0,i.collection.goTo(i.collection.information.firstPage)})),r()(document).bind("keyup keydown",(function(t){i.keyEvent=t}))),this.togglePasteBtn();case 21:case"end":return t.stop()}}),t,this)}))),function(t){return ee.apply(this,arguments)}),updateButtons:function(){this.selectedCollection.length?(this.toolbar.get("selected-items").enable(),this.buttons.enable()):(this.toolbar.get("selected-items").disable(),this.buttons.disable()),this.togglePasteBtn()},togglePasteBtn:function(){a.default.find(this.buttons.items,(function(t){return"paste"===t.id}))&&(this.pasteAllowed()?this.buttons.get("paste").enable():this.buttons.get("paste").disable())},inQueryMode:function(){return!(!this.toolbar||!this.toolbar.get("filter").term)||(this.additionalCriterias.length>0||(!(!this.sort_on||"getObjPositionInParent"===this.sort_on)||"ascending"!==this.sort_order))},getSelectedUids:function(t){void 0===t&&(t=this.selectedCollection);var e=[];return t.each((function(t){e.push(t.uid())})),e},getCurrentPath:function(){return this.collection.getCurrentPath()},setCurrentPath:function(t){this.collection.setCurrentPath(t),this.textfilter.clearTerm(),this.clearStatus()},getAjaxUrl:function(t){return t.replace("{path}",this.getCurrentPath())},buttonClickEvent:function(t){var e=this,n=null,i=null;if(t.url){if(this.loading.show(),arguments.length>1){var a=arguments[1];a.preventDefault||(n=a)}if(arguments.length>2){var o=arguments[2];"function"==typeof o&&(i=o)}null===n&&(n={}),void 0===n.selection&&(n.selection=JSON.stringify(this.getSelectedUids())),n._authenticator=s.Z.getAuthenticator(),void 0===n.folder&&(n.folder=this.getCurrentPath());var l=this.getAjaxUrl(t.url);r().ajax({url:l,type:"POST",data:n,success:function(t){e.ajaxSuccessResponse.apply(e,[t,i]),e.loading.hide()},error:function(t){e.ajaxErrorResponse.apply(e,[t,l]),e.loading.hide()}},this)}},ajaxSuccessResponse:function(t,e){this.clearStatus(),this.selectedCollection.reset(),"success"===t.status&&this.collection.reset(),t.msg&&this.setStatus({text:t.msg,type:t.status||"warning"}),null!=e&&e(t),this.collection.pager()},ajaxErrorResponse:function(t,e){404===t.status?window.alert((0,o.Z)("operation url ${url} is not valid",{url:e})):window.alert((0,o.Z)("there was an error performing the action"))},setupButtons:function(){var t=this,e=[],n=new b({id:"structure-columns",tooltip:(0,o.Z)("Configure displayed columns"),icon:"plone-three-dots"});if(this.columnsView=new qt({app:this,triggerView:n,id:"structure-columns",placement:"bottom-right"}),e.push(n),e.push(new Rt({title:(0,o.Z)("Selected"),id:"selected-items",tooltip:(0,o.Z)("Manage selection"),collection:this.selectedCollection,icon:"plone-selection"})),this.options.rearrange){var i=new b({id:"structure-rearrange",title:(0,o.Z)("Rearrange"),icon:"plone-rearrange",tooltip:(0,o.Z)("Rearrange folder contents"),url:this.options.rearrange.url});this.rearrangeView=new Nt({triggerView:i,app:this,id:"structure-rearrange"}),e.push(i)}if(this.options.upload&&s.Z.featureSupport.dragAndDrop()&&s.Z.featureSupport.fileApi()){var r=new b({id:"upload",title:(0,o.Z)("Upload"),tooltip:(0,o.Z)("Upload files"),icon:"upload"});this.uploadView=new Lt({triggerView:r,app:this,id:"upload"}),e.push(r)}var a,l=[],c=Gt(this.options.buttons);try{for(c.s();!(a=c.n()).done;){var u=a.value;try{!function(){var e=new b(u);if(l.push(e),e.form){u.triggerView=e,u.app=t;var n=new Et(u);t.forms.push(n.el)}else e.on("button:click",(function(){return t.buttonClickEvent(e)}),t)}()}catch(t){ne.error("Error initializing button ".concat(u.title||u.id," ").concat(t))}}}catch(t){c.e(t)}finally{c.f()}this.buttons=new g({items:l,id:"mainbuttons",app:this}),e.push(this.buttons),this.textfilter=new Vt({id:"filter",app:this}),e.push(this.textfilter),this.toolbar=new f({items:e})},moveItem:function(t,e,n){var i=this;r().ajax({url:this.getAjaxUrl(this.options.moveUrl),type:"POST",data:{delta:e,id:t,_authenticator:s.Z.getAuthenticator(),subsetIds:JSON.stringify(n)},dataType:"json",success:function(t){i.clearStatus(),t.msg?i.setStatus({text:t.msg}):"success"!==t.status&&i.setStatus({text:(0,o.Z)("Error moving item"),type:"danger"}),i.collection.pager()},error:function(){i.clearStatus(),i.setStatus({text:(0,o.Z)("Error moving item"),type:"danger"})}})},clearStatus:function(t){var e=this.$el[0].querySelector(".fc-status-container"),n=[];t?((n=this.statusMessages.filter((function(e){return e.key===t}))).forEach((function(t){try{e.removeChild(t.el)}catch(t){}})),this.statusMessages=this.statusMessages.filter((function(e){return e.key!==t}))):(this.statusMessages.forEach(function(t){if(!t.fixed)try{e.removeChild(t.el),n.push(t)}catch(t){}}.bind(this)),this.statusMessages=this.statusMessages.filter((function(t){return-1===n.indexOf(t)})))},setStatus:function(t,e,n,i){if(!(i&&this.statusMessages.filter((function(t){return t.key===i})).length>0)){var a=s.Z.createElementFromHTML(this.statusTemplate({label:t.label||"",text:t.text,type:t.type||"warning"}));return e&&(e=r()(e)[0],a.appendChild(e)),t={el:a,fixed:n,key:i},this.$el[0].querySelector(".fc-status-container").appendChild(t.el),this.statusMessages.push(t),t}},render:function(){var t=te(regeneratorRuntime.mark((function t(){var e,n,i,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.$el.append(this.toolbar.render().el),this.wellView&&this.$el.find("#btn-"+this.wellView.id).after(this.wellView.render().el),e=Gt(this.forms);try{for(e.s();!(n=e.n()).done;)i=n.value,a=r()(i).attr("id"),(o=this.$el.find("#btn-"+a)).closest(".btn-group").length?o.closest(".btn-group").after(i):this.$el.find("#btn-"+a).after(i)}catch(t){e.e(t)}finally{e.f()}return this.$el.append(s.Z.createElementFromHTML('<div class="fc-status-container"></div>')),this.columnsView&&this.$el.find("#btn-"+this.columnsView.id).after(this.columnsView.render().el),this.rearrangeView&&this.$el.find("#btn-"+this.rearrangeView.id).after(this.rearrangeView.render().el),this.uploadView&&this.$el.find("#btn-"+this.uploadView.id).after(this.uploadView.render().el),t.next=10,this.tableView.render();case 10:return this.$el.append(this.tableView.el),this.$el.append(this.pagingView.render().el),null!==this.options.backdropSelector?r()(this.options.backdropSelector).addClass("ui-backdrop-element"):this.$el.addClass("ui-backdrop-element"),t.abrupt("return",this);case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),getCookieSetting:function(t,e){var n;void 0===e&&(e=null);try{n=c.Z.get(this.cookieSettingPrefix+t),n=JSON.parse(n).value}catch(t){return e}return null==n?e:n},setCookieSetting:function(t,e){c.Z.set(this.cookieSettingPrefix+t,JSON.stringify({value:e}))},setAllCookieSettings:function(){this.activeColumns=this.getCookieSetting(this.activeColumnsCookie,this.activeColumns);var t=this.getCookieSetting("perPage",15);"string"==typeof t&&(t=parseInt(t)),this.collection.howManyPer(t)}})},91395:function(){Backbone.Paginator=function(t,e,n){"use strict";var i=e.map(t.VERSION.split("."),(function(t){return parseInt(t,10)})),r={version:"<%= pkg.version %>"};r.clientPager=t.Collection.extend({useDiacriticsPlugin:!0,useLevenshteinPlugin:!0,sortColumn:"",sortDirection:"desc",lastSortColumn:"",fieldFilterRules:[],lastFieldFilterRules:[],filterFields:"",filterExpression:"",lastFilterExpression:"",defaults_ui:{firstPage:0,currentPage:1,perPage:5,totalPages:10,pagesInRange:4},initialize:function(){this.on("add",this.addModel,this),this.on("remove",this.removeModel,this),this.setDefaults()},setDefaults:function(){var t=e.defaults(this.paginator_ui,this.defaults_ui);e.defaults(this,t)},addModel:function(t){this.origModels.push(t)},removeModel:function(t){var n=e.indexOf(this.origModels,t);this.origModels.splice(n,1)},sync:function(r,a,o){var s=this;this.setDefaults();var l={};e.each(e.result(s,"server_api"),(function(t,n){e.isFunction(t)&&(t=(t=e.bind(t,s))()),l[n]=t}));var c=e.clone(s.paginator_core);e.each(c,(function(t,n){e.isFunction(t)&&(t=(t=e.bind(t,s))()),c[n]=t})),c=e.defaults(c,{timeout:25e3,cache:!1,type:"GET",dataType:"jsonp"}),c=e.extend(c,{data:decodeURIComponent(n.param(l)),processData:!1,url:e.result(c,"url")},o);var u=!(0===i[0]&&9===i[1]&&10===i[2]),p=0===i[0],h=c.success;c.success=function(t,e,n){h&&(u?h(t,e,n):h(a,t,c)),p&&a&&a.trigger&&a.trigger("sync",a,t,c)};var d=c.error;c.error=function(t){d&&d(t),p&&a&&a.trigger&&a.trigger("error",a,t,c)};var f=c.xhr=t.ajax(c);return a&&a.trigger&&a.trigger("request",a,f,c),f},nextPage:function(t){this.currentPage<this.information.totalPages&&(this.currentPage=++this.currentPage,this.pager(t))},previousPage:function(t){this.currentPage>1&&(this.currentPage=--this.currentPage,this.pager(t))},goTo:function(t,e){void 0!==t&&(this.currentPage=parseInt(t,10),this.pager(e))},howManyPer:function(t){if(void 0!==t){var e=this.perPage;this.perPage=parseInt(t,10),this.currentPage=Math.ceil((e*(this.currentPage-1)+1)/t),this.pager()}},setSort:function(t,e){void 0!==t&&void 0!==e&&(this.lastSortColumn=this.sortColumn,this.sortColumn=t,this.sortDirection=e,this.pager(),this.info())},setFieldFilter:function(t){e.isEmpty(t)?(this.lastFieldFilterRules=this.fieldFilterRules,this.fieldFilterRules="",this.pager(),this.info()):(this.lastFieldFilterRules=this.fieldFilterRules,this.fieldFilterRules=t,this.pager(),this.info())},doFakeFieldFilter:function(t){if(!e.isEmpty(t)){var n=this.origModels;return void 0===n&&(n=this.models),n=this._fieldFilter(n,t),""!==this.filterExpression&&(n=this._filter(n,this.filterFields,this.filterExpression)),n.length}},setFilter:function(t,e){void 0!==t&&void 0!==e&&(this.filterFields=t,this.lastFilterExpression=this.filterExpression,this.filterExpression=e,this.pager(),this.info())},doFakeFilter:function(t,n){if(void 0!==t&&void 0!==n){var i=this.origModels;return void 0===i&&(i=this.models),e.isEmpty(this.fieldFilterRules)||(i=this._fieldFilter(i,this.fieldFilterRules)),(i=this._filter(i,t,n)).length}},pager:function(t){var n=this,i=this.perPage,r=(n.currentPage-1)*i,a=r+i;void 0===n.origModels&&(n.origModels=n.models),n.models=n.origModels.slice(),""!==this.sortColumn&&(n.models=n._sort(n.models,this.sortColumn,this.sortDirection)),e.isEmpty(this.fieldFilterRules)||(n.models=n._fieldFilter(n.models,this.fieldFilterRules)),""!==this.filterExpression&&(n.models=n._filter(n.models,this.filterFields,this.filterExpression)),this.lastSortColumn===this.sortColumn&&this.lastFilterExpression===this.filterExpression&&e.isEqual(this.fieldFilterRules,this.lastFieldFilterRules)||(a=(r=0)+i,n.currentPage=1,this.lastSortColumn=this.sortColumn,this.lastFieldFilterRules=this.fieldFilterRules,this.lastFilterExpression=this.filterExpression),n.sortedAndFilteredModels=n.models.slice(),n.info(),n.reset(n.models.slice(r,a)),e.result(t,"success")},_sort:function(t,n,i){return t=t.sort((function(t,r){var a=t.get(n),o=r.get(n);if(e.isUndefined(a)||e.isUndefined(o)||null===a||null===o)return 0;if(a=a.toString().toLowerCase(),o=o.toString().toLowerCase(),"desc"===i)if(!a.match(/[^\-\d\.]/)&&a.match(/-?[\d\.]+/)&&!o.match(/[^\-\d\.]/)&&o.match(/-?[\d\.]+/)){if(a-0<o-0)return 1;if(a-0>o-0)return-1}else{if(a<o)return 1;if(a>o)return-1}else if(!a.match(/[^\-\d\.]/)&&a.match(/-?[\d\.]+/)&&!o.match(/[^\-\d\.]/)&&o.match(/-?[\d\.]+/)){if(a-0<o-0)return-1;if(a-0>o-0)return 1}else{if(a<o)return-1;if(a>o)return 1}if(t.cid&&r.cid){var s=t.cid,l=r.cid;if(s<l)return-1;if(s>l)return 1}return 0}))},_fieldFilter:function(t,n){if(e.isEmpty(n))return t;var i=[];return e.each(t,(function(t){var r=!0;e.each(n,(function(n){if(!r)return!1;if(r=!1,"function"===n.type)e.wrap(n.value,(function(e){return e(t.get(n.field))}))()&&(r=!0);else if("required"===n.type)e.isEmpty(t.get(n.field).toString())||(r=!0);else if("min"===n.type)!e.isNaN(Number(t.get(n.field)))&&!e.isNaN(Number(n.value))&&Number(t.get(n.field))>=Number(n.value)&&(r=!0);else if("max"===n.type)!e.isNaN(Number(t.get(n.field)))&&!e.isNaN(Number(n.value))&&Number(t.get(n.field))<=Number(n.value)&&(r=!0);else if("range"===n.type)!e.isNaN(Number(t.get(n.field)))&&e.isObject(n.value)&&!e.isNaN(Number(n.value.min))&&!e.isNaN(Number(n.value.max))&&Number(t.get(n.field))>=Number(n.value.min)&&Number(t.get(n.field))<=Number(n.value.max)&&(r=!0);else if("minLength"===n.type)t.get(n.field).toString().length>=n.value&&(r=!0);else if("maxLength"===n.type)t.get(n.field).toString().length<=n.value&&(r=!0);else if("rangeLength"===n.type)e.isObject(n.value)&&!e.isNaN(Number(n.value.min))&&!e.isNaN(Number(n.value.max))&&t.get(n.field).toString().length>=n.value.min&&t.get(n.field).toString().length<=n.value.max&&(r=!0);else if("oneOf"===n.type)e.isArray(n.value)&&e.include(n.value,t.get(n.field))&&(r=!0);else if("equalTo"===n.type)n.value===t.get(n.field)&&(r=!0);else if("containsAllOf"===n.type)e.isArray(n.value)&&e.isArray(t.get(n.field))&&e.intersection(n.value,t.get(n.field)).length===n.value.length&&(r=!0);else if("pattern"===n.type)t.get(n.field).toString().match(n.value)&&(r=!0);else if("custom"===n.type){var i=t.toJSON();e.wrap(n.value,(function(t){return t(i)}))()&&(r=!0)}else r=!1})),r&&i.push(t)})),i},_filter:function(n,i,r){var a=this,o={};if(e.isString(i)?o[i]={cmp_method:"regexp"}:e.isArray(i)?e.each(i,(function(t){o[t]={cmp_method:"regexp"}})):e.each(i,(function(t,n){o[n]=e.defaults(t,{cmp_method:"regexp"})})),i=o,e.has(t.Paginator,"removeDiacritics")&&a.useDiacriticsPlugin&&(r=t.Paginator.removeDiacritics(r)),""===r||!e.isString(r))return n;var s=e.map(r.match(/\w+/gi),(function(t){return t.toLowerCase()})),l="("+e.uniq(s).join("|")+")",c=new RegExp(l,"igm"),u=[];return e.each(n,(function(n){var o=[];e.each(i,(function(i,l){var u=n.get(l);if(u){var p=[];if(u=e.has(t.Paginator,"removeDiacritics")&&a.useDiacriticsPlugin?t.Paginator.removeDiacritics(u.toString()):u.toString(),"levenshtein"===i.cmp_method&&e.has(t.Paginator,"levenshtein")&&a.useLevenshteinPlugin){var h=t.Paginator.levenshtein(u,r);e.defaults(i,{max_distance:0}),h<=i.max_distance&&(p=e.uniq(s))}else p=u.match(c);p=e.map(p,(function(t){return t.toString().toLowerCase()})),e.each(p,(function(t){o.push(t)}))}})),o=e.uniq(e.without(o,"")),e.isEmpty(e.difference(s,o))&&u.push(n)})),u},info:function(){var t=this,e={},n=t.sortedAndFilteredModels?t.sortedAndFilteredModels.length:t.length,i=Math.ceil(n/t.perPage);return e={totalUnfilteredRecords:t.origModels.length,totalRecords:n,currentPage:t.currentPage,perPage:this.perPage,totalPages:i,lastPage:i,previous:!1,next:!1,startRecord:0===n?0:(t.currentPage-1)*this.perPage+1,endRecord:Math.min(n,t.currentPage*this.perPage)},t.currentPage>1&&(e.previous=t.currentPage-1),t.currentPage<e.totalPages&&(e.next=t.currentPage+1),e.pageSet=t.setPagination(e),t.information=e,e},setPagination:function(t){var e=[],n=0,i=0,r=2*this.pagesInRange,a=Math.ceil(t.totalRecords/t.perPage);if(a>1)if(a<=1+r)for(n=1,i=a;n<=i;n++)e.push(n);else if(t.currentPage<=this.pagesInRange+1)for(n=1,i=2+r;n<i;n++)e.push(n);else if(a-this.pagesInRange>t.currentPage&&t.currentPage>this.pagesInRange)for(n=t.currentPage-this.pagesInRange;n<=t.currentPage+this.pagesInRange;n++)e.push(n);else for(n=a-r;n<=a;n++)e.push(n);return e},bootstrap:function(t){return e.extend(this,t),this.goTo(1),this.info(),this}}),r.clientPager.prototype.prevPage=r.clientPager.prototype.previousPage;var a=function(){var t=new n.Deferred;return t.reject(),t.promise()};return r.requestPager=t.Collection.extend({sync:function(r,a,o){var s=this;s.setDefaults();var l={};e.each(e.result(s,"server_api"),(function(t,n){e.isFunction(t)&&(t=(t=e.bind(t,s))()),l[n]=t}));var c=e.clone(s.paginator_core);e.each(c,(function(t,n){e.isFunction(t)&&(t=(t=e.bind(t,s))()),c[n]=t})),c=e.defaults(c,{timeout:25e3,cache:!1,type:"GET",dataType:"jsonp",url:s.url}),o.data?o.data=decodeURIComponent(n.param(e.extend(l,o.data))):o.data=decodeURIComponent(n.param(l)),c=e.extend(c,{data:decodeURIComponent(n.param(l)),processData:!1,url:e.result(c,"url")},o);var u=!(0===i[0]&&9===i[1]&&10===i[2]),p=0===i[0],h=c.success;c.success=function(t,e,n){h&&(u?h(t,e,n):h(a,t,c)),p&&a&&a.trigger&&a.trigger("sync",a,t,c)};var d=c.error;c.error=function(t){d&&d(t),p&&a&&a.trigger&&a.trigger("error",a,t,c)};var f=c.xhr=t.ajax(c);return a&&a.trigger&&a.trigger("request",a,f,c),f},setDefaults:function(){var t=this;e.defaults(t.paginator_ui,{firstPage:0,currentPage:1,perPage:5,totalPages:10,pagesInRange:4}),e.each(t.paginator_ui,(function(n,i){e.isUndefined(t[i])&&(t[i]=t.paginator_ui[i])}))},requestNextPage:function(t){return void 0!==this.currentPage?(this.currentPage+=1,this.pager(t)):a()},requestPreviousPage:function(t){return void 0!==this.currentPage?(this.currentPage-=1,this.pager(t)):a()},updateOrder:function(t,e){return void 0!==t?(this.sortField=t,this.pager(e)):a()},goTo:function(t,e){return void 0!==t?(this.currentPage=parseInt(t,10),this.pager(e)):a()},howManyPer:function(t,e){return void 0!==t?(this.currentPage=this.firstPage,this.perPage=t,this.pager(e)):a()},info:function(){var t={totalRecords:this.totalRecords||0,currentPage:this.currentPage,firstPage:this.firstPage,totalPages:Math.ceil(this.totalRecords/this.perPage),lastPage:this.totalPages,perPage:this.perPage,previous:!1,next:!1};return this.currentPage>1&&(t.previous=this.currentPage-1),this.currentPage<t.totalPages&&(t.next=this.currentPage+1),t.hasNext=t.next,t.hasPrevious=t.next,t.pageSet=this.setPagination(t),this.information=t,t},setPagination:function(t){var e=[],n=0,i=0,r=2*this.pagesInRange,a=Math.ceil(t.totalRecords/t.perPage);if(a>1)if(a<=1+r)for(n=1,i=a;n<=i;n++)e.push(n);else if(t.currentPage<=this.pagesInRange+1)for(n=1,i=2+r;n<i;n++)e.push(n);else if(a-this.pagesInRange>t.currentPage&&t.currentPage>this.pagesInRange)for(n=t.currentPage-this.pagesInRange;n<=t.currentPage+this.pagesInRange;n++)e.push(n);else for(n=a-r;n<=a;n++)e.push(n);return e},pager:function(t){return e.isObject(t)||(t={}),this.fetch(t)},url:function(){return void 0!==this.paginator_core&&void 0!==this.paginator_core.url?this.paginator_core.url:null},bootstrap:function(t){return e.extend(this,t),this.setDefaults(),this.info(),this}}),r.requestPager.prototype.nextPage=r.requestPager.prototype.requestNextPage,r.requestPager.prototype.prevPage=r.requestPager.prototype.requestPreviousPage,r}(Backbone,_,jQuery)},54215:function(t){"use strict";t.exports='<div class="arrow"></div>\n<div class="popover-title">\n</div>\n<div class="items popover-content">\n</div>\n\n'},66887:function(t){"use strict";t.exports='<% _.each(menuOptions.button, (menuOption) => { %>\n<a class="btn btn-sm action pat-tooltip <%- menuOption.classes.join(\' \') %>"\n    href="<%- menuOption.url %>"\n    title="<%- _t(menuOption.title) %>"\n    aria-label="<%- _t(menuOption.title) %>">\n  <% if (menuOption.iconSVG) { %>\n    <%= menuOption.iconSVG %>\n  <% } else { %>\n  <%- _t(menuOption.title) %>\n  <% } %>\n</a>\n<% }); %>\n\n\n<% if (menuOptions.dropdown) { %>\n<div class="dropdown">\n  <button class="dropdown-toggle btn btn-sm"\n      type="button"\n      data-bs-toggle="dropdown"\n      aria-haspopup="true"\n      aria-expanded="false"\n      id="<%- id %>"\n      title=\'<%- _t("Actions") %>\'>\n    <%= dropdownIcon %><span class="caret"></span>\n  </button>\n  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="<%- id %>">\n    <% if (header) { %>\n      <li class="dropdown-header"><%- header %></li>\n      <li class="divider"></li>\n    <% } %>\n\n    <% _.each(menuOptions.dropdown, (menuOption) => { %>\n    <li>\n      <a class="dropdown-item action <%- menuOption.classes.join(\' \') %>"\n          href="<%- menuOption.url %>">\n        <% if (menuOption.iconSVG) { %>\n          <%= menuOption.iconSVG %>\n        <% } %>\n        <%- _t(menuOption.title) %>\n      </a>\n    </li>\n    <% }); %>\n  </ul>\n</div>\n<% } %>\n'},44168:function(t){"use strict";t.exports='  <ul class="pagination pagination-sm pagination-centered">\n    <li class="page-item <% if (currentPage === 1) { %>disabled<% } %>">\n      <a href="#" class="page-link serverfirst">\n        &laquo;\n      </a>\n    </li>\n    <li class="page-item <% if (currentPage === 1) { %>disabled<% } %>">\n      <a href="#" class="page-link serverprevious">\n        &lt;\n      </a>\n    </li>\n    <% _.each(pages, (p) => { %>\n    <li class="page-item <% if (currentPage == p) { %>active<% } else if ( p == \'...\' ) { %>disabled<% }%>">\n      <a href="#" class="page-link page"><%- p %></a>\n    </li>\n    <% }); %>\n    <li class="page-item <% if (currentPage === totalPages) { %>disabled<% } %>">\n      <a href="#" class="page-link servernext">\n        &gt;\n      </a>\n    </li>\n    <li class="page-item <% if (currentPage === totalPages) { %>disabled<% } %>">\n      <a href="#" class="page-link serverlast">\n        &raquo;\n      </a>\n    </li>\n  </ul>\n\n  <div class="pagination-info"><%- _t("Show:") %></div>\n\n  <ul class="pagination pagination-sm">\n    <li class="page-item serverhowmany serverhowmany15 <% if(perPage == 15){ %>disabled<% } %>">\n      <a href="#" class="page-link">15</a>\n    </li>\n    <li class="page-item serverhowmany serverhowmany30 <% if(perPage == 30){ %>disabled<% } %>">\n      <a href="#" class="page-link">30</a>\n    </li>\n    <li class="page-item serverhowmany serverhowmany50 <% if(perPage == 50){ %>disabled<% } %>">\n      <a href="#" class="page-link">50</a>\n    </li>\n    <li class="page-item serverhowmany serverhowmany250 <% if(perPage == 250){ %>disabled<% } %>">\n      <a href="#" class="page-link">250</a>\n    </li>\n  </ul>\n\n  <div class="pagination-info">\n    <%- _t("Page:") %> <span class="current"><%- currentPage %></span>\n    <%- _t("of") %>\n    <span class="total"><%- totalPages %></span>\n          <%- _t("shown") %>\n  </div>\n'},56344:function(t){"use strict";t.exports='<span class="glyphicon glyphicon-list"></span>\n<%- title %>\n<span class="label<% if (length > 0) { %> label-success<% } else { %> label-default<% } %>">\n  <%- length %>\n</span>\n'},88839:function(t){"use strict";t.exports='<span class="selected-item">\n  <a href="#" data-uid="<%- UID %>" title="remove" class="remove">\n    <span class="glyphicon glyphicon-remove-circle"></span>\n  </a>\n  <%- Title %>\n</span>\n'},41926:function(t){"use strict";t.exports='<div class="alert alert-<%- type %> status fc-status">\n  <strong class="fc-status-label"><%- label %></strong>\n  <span class="fc-status-text">\n    <% if(text){ %>\n    <%- text %>\n    <% } else { %>\n    &nbsp;<% // &nbsp; to get correct height for empty alerts %>\n    <% } %>\n  </span>\n</div>\n'},78529:function(t){"use strict";t.exports='<div class="fc-breadcrumbs-container">\n  <div class="fc-breadcrumbs" colspan="<%- activeColumns.length + 3 %>">\n    <a href="#" title="<%- _t(\'Root\') %>" aria-label="<%- _t(\'Root\') %>" data-path="/">\n      <span class="glyphicon glyphicon-home" aria-hidden="true"></span> /\n    </a>\n    <% _.each(pathParts, (part, idx, list) => {\n      if(part){\n        if(idx > 0){ %>\n          /\n        <% } %>\n        <a href="#" class="crumb" data-path="<%- part %>"><%- part %></a>\n      <% }\n    }); %>\n  </div>\n</div>\n\n<table class="pat-datatables table table-striped table-bordered"\n       data-pat-datatables="<%- datatables_options %>">\n  <thead>\n    <tr>\n      <th class="selection"><label for="selectAllInputCheckbox" class="hiddenStructure" aria-label="<%- _t(\'Select all\') %>"><%- _t(\'Select all\') %></label><input id="selectAllInputCheckbox" type="checkbox" class="select-all" /></th>\n      <th class="title"><%- _t(\'Title\') %></th>\n      <% _.each(activeColumns, (column) => { %>\n        <% if(column !== \'Description\' && _.has(availableColumns, column)) { %>\n          <th><%- availableColumns[column] %></th>\n        <% } %>\n      <% }); %>\n      <th class="actions"><%- _t("Actions") %></th>\n    </tr>\n  </thead>\n  <tbody>\n  </tbody>\n</table>\n'},51610:function(t){"use strict";t.exports='<td class="selection" data-order="<%- attributes[\'_sort\'] %>"><label for="select<%- attributes[\'_sort\'] %>InputCheckbox" class="hiddenStructure" aria-label="<%- _t(\'Select\') %>"><%- _t(\'Select\') %></label><input id="select<%- attributes[\'_sort\'] %>InputCheckbox" <% if(selected){ %> checked="checked" <% } %> type="checkbox"/></td>\n\n<td class="title">\n  <div>\n    <a href="<%- viewURL %>"\n        class="manage state-<%- review_state %> contenttype-<%- contenttype %>"\n        title="<%- portal_type %>">\n        <% if(attributes["getMimeIcon"] && contenttype == \'file\'){ %>\n           <img class="mime-icon" src="<%- getMimeIcon %>"> <% } %>\n      <% if(Title){ %>\n        <%- Title %>\n      <% } else { %>\n        <em><%- id %></em>\n      <% } %>\n    </a>\n    <% if(expired){ %>\n      <span class="badge plone-item-expired"><%- _t(\'Expired\') %></span>\n    <% } %>\n    <% if(ineffective){ %>\n      <span class="badge plone-item-ineffective"><%- _t(\'Before publishing date\') %></span>\n    <% } %>\n    <% if(activeColumns.indexOf(\'Description\') !== -1 && _.has(availableColumns, \'Description\') && Description) { %>\n    <p class="Description">\n      <small>\n        <%- Description %>\n      </small>\n    </p>\n    <% } %>\n  </div>\n  <% if(attributes["getIcon"] && thumb_scale) { %>\n    <img class="thumb-<%- thumb_scale %>" alt="<%- _t(\'Preview image\') %> <%- Title || id %>" src="<%- getURL %>/@@images/image/<%- thumb_scale %>">\n  <% } %>\n</td>\n\n<% _.each(activeColumns, (column) => { %>\n  <% if(column !== \'Description\' && _.has(availableColumns, column)) { %>\n    <td class="<%- column %>" data-order="<%- attributes[column] %>"><%- convertColumnValue(column, attributes[column]) %></td>\n  <% } %>\n<% }); %>\n\n<td class="actionmenu-container"></td>\n'}}]);
//# sourceMappingURL=66698.c9d41502de18fb007a00.min.js.map