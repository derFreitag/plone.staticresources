(self.webpackChunkplone_staticresources=self.webpackChunkplone_staticresources||[]).push([[34221,65167,87548,20405,42786,54691,77072,9929],{57722:function(e){e.exports=function(e){var t=document.head.querySelectorAll("*")[0];t?document.head.insertBefore(e,t):document.head.append(e)}},84465:function(e,t,n){"use strict";var l=n(71354),r=n.n(l),o=n(76314),s=n.n(o)()(r());s.push([e.id,".content-browser-position-wrapper.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{position:fixed;top:0;right:0;display:flex;justify-content:end;z-index:1500;width:100%;height:100vh;background-color:rgba(0,0,0,.25)}.btn-xs.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{--bs-btn-padding-y:0.15rem;--bs-btn-padding-x:0.5rem;--bs-btn-font-size:0.75rem}.content-browser.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{height:100vh;min-width:550px;background-color:var(--bs-light-bg-subtle);border-left:var(--bs-border-style) var(--bs-border-width) #fff;z-index:1500;display:flex;flex-direction:column}.toolBar.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{background-color:var(--bs-primary);padding:.325rem .75rem;color:var(--bs-light);width:100%;display:flex;justify-content:start}.toolBar.svelte-1lcbp2k svg{vertical-align:-0.125em}.levelColumns.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{display:flex;flex-wrap:nowrap;width:100%;overflow:hidden;flex-grow:3;border-left:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);user-select:none}.levelColumn.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{width:320px;border-right:var(--bs-border-style) var(--bs-border-width) var(--bs-border-color);display:flex;flex-direction:column}.levelToolbar.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{width:100%;height:2.5rem;display:flex;justify-content:space-between;padding:.375rem;border-bottom:var(--bs-border-style) var(--bs-border-width) var(--bs-border-color)}.levelToolbar.svelte-1lcbp2k>.levelActions.svelte-1lcbp2k.svelte-1lcbp2k{margin-left:auto}.levelItems.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{overflow-x:auto}.contentItem.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{display:flex;align-items:center;justify-content:space-between;font-size:90%;min-height:2rem}.contentItem.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k:focus-visible{outline:none}.contentItem.even.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{background-color:rgba(var(--bs-secondary-bg-rgb), 0.4)}.contentItem.inPath.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k,.contentItem.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k:focus{background-color:rgba(var(--bs-primary-rgb), 0.15)}.contentItem.selectedItem.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{background-color:var(--bs-primary);color:var(--bs-body-bg)}.contentItem.svelte-1lcbp2k>.svelte-1lcbp2k.svelte-1lcbp2k{padding:.5rem;white-space:nowrap;max-width:450px;text-overflow:ellipsis;overflow:hidden}.contentItem.svelte-1lcbp2k>.browseSub.svelte-1lcbp2k.svelte-1lcbp2k{flex-shrink:0}.contentItem.svelte-1lcbp2k .grid-preview.svelte-1lcbp2k>img.svelte-1lcbp2k{width:95px;height:95px;object-fit:cover;float:left;margin-right:1rem}.preview.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{width:320px;min-height:300px;display:flex;flex-direction:column;align-items:center}.preview.svelte-1lcbp2k .info.svelte-1lcbp2k.svelte-1lcbp2k{padding:.5rem;width:100%;word-wrap:anywhere}.preview.svelte-1lcbp2k .info .previewIcon.svelte-1lcbp2k.svelte-1lcbp2k{margin:0 auto 1rem auto}.preview.svelte-1lcbp2k .info .previewIcon svg.svelte-1lcbp2k.svelte-1lcbp2k{width:50px !important;height:50px !important}.preview.svelte-1lcbp2k h4.svelte-1lcbp2k.svelte-1lcbp2k{font-size:1.2 rem}.preview.svelte-1lcbp2k img.svelte-1lcbp2k.svelte-1lcbp2k{max-width:100%;max-width:100%;margin-bottom:.5rem}.upload-wrapper.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{padding:1rem;width:590px;overflow-x:auto}.loadmore.svelte-1lcbp2k.svelte-1lcbp2k.svelte-1lcbp2k{text-align:center;padding:.25rem 0}","",{version:3,sources:["webpack://./node_modules/@plone/mockup/src/pat/contentbrowser/src/ContentBrowser.svelte"],names:[],mappings:"AAAA,+EAAA,cAAA,CAAA,KAAA,CAAA,OAAA,CAAA,YAAA,CAAA,mBAAA,CAAA,YAAA,CAAA,UAAA,CAAA,YAAA,CAAA,gCAAA,CAAA,qDAAA,0BAAA,CAAA,yBAAA,CAAA,0BAAA,CAAA,8DAAA,YAAA,CAAA,eAAA,CAAA,0CAAA,CAAA,8DAAA,CAAA,YAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,sDAAA,kCAAA,CAAA,sBAAA,CAAA,qBAAA,CAAA,UAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,4BAAA,uBAAA,CAAA,2DAAA,YAAA,CAAA,gBAAA,CAAA,UAAA,CAAA,eAAA,CAAA,WAAA,CAAA,gFAAA,CAAA,gBAAA,CAAA,0DAAA,WAAA,CAAA,iFAAA,CACmC,YAAA,CAAA,qBAAA,CAAA,2DAAA,UAAA,CAAA,aAAA,CAAA,YAAA,CAAA,6BAAA,CAAA,eAAA,CAAA,kFAAA,CACA,yEAAA,gBAAA,CAAA,yDAAA,eAAA,CAAA,0DAAA,YAAA,CAAA,kBAAA,CAAA,6BAAA,CAAA,aAAA,CAAA,eAAA,CAAA,wEAAA,YAAA,CAAA,+DAAA,sDAAA,CAAA,iIAAA,kDAAA,CAAA,uEAAA,kCAAA,CAAA,uBAAA,CAAA,2DAAA,aAAA,CAAA,kBAAA,CAAA,eAAA,CAAA,sBAAA,CAAA,eAAA,CAAA,qEAAA,aAAA,CAAA,4EAAA,UAAA,CAAA,WAAA,CAAA,gBAAA,CAAA,UAAA,CAAA,iBAAA,CAAA,sDAAA,WAAA,CAAA,gBAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,kBAAA,CAAA,4DAAA,aAAA,CAAA,UAAA,CAAA,kBAAA,CAAA,yEAAA,uBAAA,CAAA,6EAAA,qBAAA,CAAA,sBAAA,CAAA,yDAAA,iBAAA,CAAA,0DAAA,cAAA,CAAA,cAAA,CAAA,mBAAA,CAAA,6DAAA,YAAA,CAAA,WAAA,CAAA,eAAA,CAAA,uDAAA,iBAAA,CAAA,gBAAA",sourceRoot:""}]),t.A=s},52742:function(e,t,n){"use strict";var l=n(71354),r=n.n(l),o=n(76314),s=n.n(o)()(r());s.push([e.id,".content-browser-selected-items-wrapper.svelte-bljrxf.svelte-bljrxf.svelte-bljrxf{display:flex;align-items:start}.content-browser-selected-items.svelte-bljrxf.svelte-bljrxf.svelte-bljrxf{list-style:none;background-color:var(--bs-body-bg);border-radius:var(--bs-border-radius) 0 0 var(--bs-border-radius);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);min-height:2.4rem;padding:.5rem .5rem 0 .5rem;flex:1 1 auto}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf.svelte-bljrxf{border-radius:var(--bs-border-radius);background-color:var(--bs-tertiary-bg);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);padding:.5rem;margin-bottom:.5rem;display:flex;flex-wrap:nowrap;align-items:start;justify-content:space-between;cursor:move}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf>.svelte-bljrxf{margin-right:.5rem;display:block}.content-browser-selected-items.svelte-bljrxf .selected-item button.svelte-bljrxf.svelte-bljrxf{cursor:pointer;padding:0 .375rem .374rem 0}.content-browser-selected-items.svelte-bljrxf .selected-item .item-info.svelte-bljrxf.svelte-bljrxf{display:flex;align-items:start}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf>img.svelte-bljrxf{object-fit:cover;width:95px;height:95px}","",{version:3,sources:["webpack://./node_modules/@plone/mockup/src/pat/contentbrowser/src/SelectedItems.svelte"],names:[],mappings:"AAAA,kFAAA,YAAA,CAAA,iBAAA,CAAA,0EAAA,eAAA,CAAA,kCAAA,CAAA,iEAAA,CAAA,2EAAA,CAAA,iBAAA,CAAA,2BAAA,CAAA,aAAA,CAAA,yFAAA,qCAAA,CAAA,sCAAA,CAAA,2EAAA,CAAA,aAAA,CAAA,mBAAA,CAAA,YAAA,CAAA,gBAAA,CAAA,iBAAA,CAAA,6BAAA,CAAA,WAAA,CAAA,0FAAA,kBAAA,CAAA,aAAA,CAAA,gGAAA,cAAA,CAAA,2BAAA,CAAA,oGAAA,YAAA,CAAA,iBAAA,CAAA,6FAAA,gBAAA,CAAA,UAAA,CAAA,WAAA",sourceRoot:""}]),t.A=s},76314:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",l=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),l&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),l&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,l,r,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(l)for(var c=0;c<this.length;c++){var i=this[c][0];null!=i&&(s[i]=!0)}for(var a=0;a<e.length;a++){var u=[].concat(e[a]);l&&s[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),t.push(u))}},t}},71354:function(e){"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var l=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),o="/*# ".concat(r," */");return[t].concat([o]).join("\n")}return[t].join("\n")}},85072:function(e){"use strict";var t=[];function n(e){for(var n=-1,l=0;l<t.length;l++)if(t[l].identifier===e){n=l;break}return n}function l(e,l){for(var o={},s=[],c=0;c<e.length;c++){var i=e[c],a=l.base?i[0]+l.base:i[0],u=o[a]||0,d="".concat(a," ").concat(u);o[a]=u+1;var A=n(d),p={css:i[1],media:i[2],sourceMap:i[3],supports:i[4],layer:i[5]};if(-1!==A)t[A].references++,t[A].updater(p);else{var f=r(p,l);l.byIndex=c,t.splice(c,0,{identifier:d,updater:f,references:1})}s.push(d)}return s}function r(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var o=l(e=e||[],r=r||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var c=n(o[s]);t[c].references--}for(var i=l(e,r),a=0;a<o.length;a++){var u=n(o[a]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=i}}},10540:function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},55056:function(e,t,n){"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},97825:function(e){"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var l="";n.supports&&(l+="@supports (".concat(n.supports,") {")),n.media&&(l+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(l+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),l+=n.css,r&&(l+="}"),n.media&&(l+="}"),n.supports&&(l+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(l+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(l,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},41113:function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},34221:function(e,t,n){"use strict";function l(){}n.r(t),n.d(t,{default:function(){return wn}});const r=e=>e;function o(e){return e()}function s(){return Object.create(null)}function c(e){e.forEach(o)}function i(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let u;function d(e,t){return e===t||(u||(u=document.createElement("a")),u.href=t,e===u.href)}function A(e,...t){if(null==e){for(const e of t)e(void 0);return l}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function p(e){let t;return A(e,(e=>t=e))(),t}function f(e,t,n){e.$$.on_destroy.push(A(t,n))}function m(e,t,n){return e.set(n),t}function h(e){return e&&i(e.destroy)?e.destroy:l}function b(e){const t="string"==typeof e&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const v="undefined"!=typeof window;let g=v?()=>window.performance.now():()=>Date.now(),y=v?e=>requestAnimationFrame(e):l;const $=new Set;function w(e){$.forEach((t=>{t.c(e)||($.delete(t),t.f())})),0!==$.size&&y(w)}function k(e){let t;return 0===$.size&&y(w),{promise:new Promise((n=>{$.add(t={c:e,f:n})})),abort(){$.delete(t)}}}const x="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;class C{_listeners="WeakMap"in x?new WeakMap:void 0;_observer=void 0;options;constructor(e){this.options=e}observe(e,t){return this._listeners.set(e,t),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){return this._observer??(this._observer=new ResizeObserver((e=>{for(const t of e)C.entries.set(t.target,t),this._listeners.get(t.target)?.(t)})))}}C.entries="WeakMap"in x?new WeakMap:void 0;let _=!1;function I(e,t){e.appendChild(t)}function U(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function S(e){const t=j("style");return t.textContent="/* empty */",T(U(e),t),t.sheet}function T(e,t){return I(e.head||e,t),t.sheet}function E(e,t,n){e.insertBefore(t,n||null)}function D(e){e.parentNode&&e.parentNode.removeChild(e)}function B(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function j(e){return document.createElement(e)}function L(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function P(e){return document.createTextNode(e)}function O(){return P(" ")}function N(){return P("")}function q(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function z(e){return function(t){return t.preventDefault(),e.call(this,t)}}function M(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function R(e,t){t=""+t,e.data!==t&&(e.data=t)}function Y(e,t,n,l){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,l?"important":"")}function W(e,t,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:l})}const F=new Map;let K,H=0;function J(e,t,n,l,r,o,s,c=0){const i=16.666/l;let a="{\n";for(let e=0;e<=1;e+=i){const l=t+(n-t)*o(e);a+=100*e+`%{${s(l,1-l)}}\n`}const u=a+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${c}`,A=U(e),{stylesheet:p,rules:f}=F.get(A)||function(e,t){const n={stylesheet:S(t),rules:{}};return F.set(e,n),n}(A,e);f[d]||(f[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${d} ${l}ms linear ${r}ms 1 both`,H+=1,d}function V(e,t){const n=(e.style.animation||"").split(", "),l=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),r=n.length-l.length;r&&(e.style.animation=l.join(", "),H-=r,H||y((()=>{H||(F.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&D(t)})),F.clear())})))}function X(e){const t=getComputedStyle(e);if("absolute"!==t.position&&"fixed"!==t.position){const{width:n,height:l}=t,r=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=l,function(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const l=getComputedStyle(e),r="none"===l.transform?"":l.transform;e.style.transform=`${r} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}(e,r)}}function G(e){K=e}function Q(){if(!K)throw new Error("Function called outside component initialization");return K}function Z(){const e=Q();return(t,n,{cancelable:l=!1}={})=>{const r=e.$$.callbacks[t];if(r){const o=W(t,n,{cancelable:l});return r.slice().forEach((t=>{t.call(e,o)})),!o.defaultPrevented}return!0}}function ee(e,t){return Q().$$.context.set(e,t),t}function te(e){return Q().$$.context.get(e)}const ne=[],le=[];let re=[];const oe=[],se=Promise.resolve();let ce=!1;function ie(){ce||(ce=!0,se.then(pe))}function ae(e){re.push(e)}const ue=new Set;let de,Ae=0;function pe(){if(0!==Ae)return;const e=K;do{try{for(;Ae<ne.length;){const e=ne[Ae];Ae++,G(e),fe(e.$$)}}catch(e){throw ne.length=0,Ae=0,e}for(G(null),ne.length=0,Ae=0;le.length;)le.pop()();for(let e=0;e<re.length;e+=1){const t=re[e];ue.has(t)||(ue.add(t),t())}re.length=0}while(ne.length);for(;oe.length;)oe.pop()();ce=!1,ue.clear(),G(e)}function fe(e){if(null!==e.fragment){e.update(),c(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ae)}}function me(){return de||(de=Promise.resolve(),de.then((()=>{de=null}))),de}function he(e,t,n){e.dispatchEvent(W(`${t?"intro":"outro"}${n}`))}const be=new Set;let ve;function ge(){ve={r:0,c:[],p:ve}}function ye(){ve.r||c(ve.c),ve=ve.p}function $e(e,t){e&&e.i&&(be.delete(e),e.i(t))}function we(e,t,n,l){if(e&&e.o){if(be.has(e))return;be.add(e),ve.c.push((()=>{be.delete(e),l&&(n&&e.d(1),l())})),e.o(t)}else l&&l()}const ke={duration:0};function xe(e,t,n,o){let s,a=t(e,n,{direction:"both"}),u=o?0:1,d=null,A=null,p=null;function f(){p&&V(e,p)}function m(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function h(t){const{delay:n=0,duration:o=300,easing:i=r,tick:h=l,css:b}=a||ke,v={start:g()+n,b:t};t||(v.group=ve,ve.r+=1),"inert"in e&&(t?void 0!==s&&(e.inert=s):(s=e.inert,e.inert=!0)),d||A?A=v:(b&&(f(),p=J(e,u,t,o,n,i,b)),t&&h(0,1),d=m(v,o),ae((()=>he(e,t,"start"))),k((t=>{if(A&&t>A.start&&(d=m(A,o),A=null,he(e,d.b,"start"),b&&(f(),p=J(e,u,d.b,d.duration,0,i,a.css))),d)if(t>=d.end)h(u=d.b,1-u),he(e,d.b,"end"),A||(d.b?f():--d.group.r||c(d.group.c)),d=null;else if(t>=d.start){const e=t-d.start;u=d.a+d.d*i(e/d.duration),h(u,1-u)}return!(!d&&!A)})))}return{run(e){i(a)?me().then((()=>{a=a({direction:e?"in":"out"}),h(e)})):h(e)},end(){f(),d=A=null}}}function Ce(e,t){const n=t.token={};function l(e,l,r,o){if(t.token!==n)return;t.resolved=o;let s=t.ctx;void 0!==r&&(s=s.slice(),s[r]=o);const c=e&&(t.current=e)(s);let i=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==l&&e&&(ge(),we(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),ye())})):t.block.d(1),c.c(),$e(c,1),c.m(t.mount(),t.anchor),i=!0),t.block=c,t.blocks&&(t.blocks[l]=c),i&&pe()}if(!(r=e)||"object"!=typeof r&&"function"!=typeof r||"function"!=typeof r.then){if(t.current!==t.then)return l(t.then,1,t.value,e),!0;t.resolved=e}else{const n=Q();if(e.then((e=>{G(n),l(t.then,1,t.value,e),G(null)}),(e=>{if(G(n),l(t.catch,2,t.error,e),G(null),!t.hasCatch)throw e})),t.current!==t.pending)return l(t.pending,0),!0}var r}function _e(e){return void 0!==e?.length?e:Array.from(e)}function Ie(e,t){e.d(1),t.delete(e.key)}function Ue(e,t){e.f(),Ie(e,t)}function Se(e,t,n,l,r,o,s,i,a,u,d,A){let p=e.length,f=o.length,m=p;const h={};for(;m--;)h[e[m].key]=m;const b=[],v=new Map,g=new Map,y=[];for(m=f;m--;){const e=A(r,o,m),c=n(e);let i=s.get(c);i?l&&y.push((()=>i.p(e,t))):(i=u(c,e),i.c()),v.set(c,b[m]=i),c in h&&g.set(c,Math.abs(m-h[c]))}const $=new Set,w=new Set;function k(e){$e(e,1),e.m(i,d),s.set(e.key,e),d=e.first,f--}for(;p&&f;){const t=b[f-1],n=e[p-1],l=t.key,r=n.key;t===n?(d=t.first,p--,f--):v.has(r)?!s.has(l)||$.has(l)?k(t):w.has(r)?p--:g.get(l)>g.get(r)?(w.add(l),k(t)):($.add(r),p--):(a(n,s),p--)}for(;p--;){const t=e[p];v.has(t.key)||a(t,s)}for(;f;)k(b[f-1]);return c(y),b}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);let Te;function Ee(e){e&&e.c()}function De(e,t,n){const{fragment:l,after_update:r}=e.$$;l&&l.m(t,n),ae((()=>{const t=e.$$.on_mount.map(o).filter(i);e.$$.on_destroy?e.$$.on_destroy.push(...t):c(t),e.$$.on_mount=[]})),r.forEach(ae)}function Be(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];re.forEach((l=>-1===e.indexOf(l)?t.push(l):n.push(l))),n.forEach((e=>e())),re=t}(n.after_update),c(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function je(e,t,n,r,o,i,a=null,u=[-1]){const d=K;G(e);const A=e.$$={fragment:null,ctx:[],props:i,update:l,not_equal:o,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:s(),dirty:u,skip_bound:!1,root:t.target||d.$$.root};a&&a(A.root);let p=!1;if(A.ctx=n?n(e,t.props||{},((t,n,...l)=>{const r=l.length?l[0]:n;return A.ctx&&o(A.ctx[t],A.ctx[t]=r)&&(!A.skip_bound&&A.bound[t]&&A.bound[t](r),p&&function(e,t){-1===e.$$.dirty[0]&&(ne.push(e),ie(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],A.update(),p=!0,c(A.before_update),A.fragment=!!r&&r(A.ctx),t.target){if(t.hydrate){_=!0;const e=(f=t.target,Array.from(f.childNodes));A.fragment&&A.fragment.l(e),e.forEach(D)}else A.fragment&&A.fragment.c();t.intro&&$e(e.$$.fragment),De(e,t.target,t.anchor),_=!1,pe()}var f;G(d)}function Le(e,t,n,l){const r=n[e]?.type;if(t="Boolean"===r&&"boolean"!=typeof t?null!=t:t,!l||!n[e])return t;if("toAttribute"===l)switch(r){case"Object":case"Array":return null==t?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return null==t?null:t;default:return t}else switch(r){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":default:return t;case"Number":return null!=t?+t:t}}"function"==typeof HTMLElement&&(Te=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=!1;$$d={};$$r=!1;$$p_d={};$$l={};$$l_u=new Map;constructor(e,t,n){super(),this.$$ctor=e,this.$$s=t,n&&this.attachShadow({mode:"open"})}addEventListener(e,t,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){const n=this.$$c.$on(e,t);this.$$l_u.set(t,n)}super.addEventListener(e,t,n)}removeEventListener(e,t,n){if(super.removeEventListener(e,t,n),this.$$c){const e=this.$$l_u.get(t);e&&(e(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){if(await Promise.resolve(),!this.$$cn||this.$$c)return;function e(e){return()=>{let t;return{c:function(){t=j("slot"),"default"!==e&&M(t,"name",e)},m:function(e,n){E(e,t,n)},d:function(e){e&&D(t)}}}}const t={},n=function(e){const t={};return e.childNodes.forEach((e=>{t[e.slot||"default"]=!0})),t}(this);for(const r of this.$$s)r in n&&(t[r]=[e(r)]);for(const o of this.attributes){const s=this.$$g_p(o.name);s in this.$$d||(this.$$d[s]=Le(s,o.value,this.$$p_d,"toProp"))}for(const c in this.$$p_d)c in this.$$d||void 0===this[c]||(this.$$d[c]=this[c],delete this[c]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$scope:{ctx:[]}}});const l=()=>{this.$$r=!0;for(const e in this.$$p_d)if(this.$$d[e]=this.$$c.$$.ctx[this.$$c.$$.props[e]],this.$$p_d[e].reflect){const t=Le(e,this.$$d[e],this.$$p_d,"toAttribute");null==t?this.removeAttribute(this.$$p_d[e].attribute||e):this.setAttribute(this.$$p_d[e].attribute||e,t)}this.$$r=!1};this.$$c.$$.after_update.push(l),l();for(const i in this.$$l)for(const a of this.$$l[i]){const u=this.$$c.$on(i,a);this.$$l_u.set(a,u)}this.$$l={}}}attributeChangedCallback(e,t,n){this.$$r||(e=this.$$g_p(e),this.$$d[e]=Le(e,n,this.$$p_d,"toProp"),this.$$c?.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then((()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$c=void 0)}))}$$g_p(e){return Object.keys(this.$$p_d).find((t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e))||e}});class Pe{$$=void 0;$$set=void 0;$destroy(){Be(this,1),this.$destroy=l}$on(e,t){if(!i(t))return l;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");var Oe=n(23505),Ne=n(8633);function qe(e){const t=e-1;return t*t*t+1}var ze={$(e){return"string"==typeof e?document.querySelector(e):e},extend(...e){return Object.assign(...e)},cumulativeOffset(e){let t=0,n=0;do{t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:n}},directScroll(e){return e&&e!==document&&e!==document.body},scrollTop(e,t){let n=void 0!==t;return this.directScroll(e)?n?e.scrollTop=t:e.scrollTop:n?document.documentElement.scrollTop=document.body.scrollTop=t:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},scrollLeft(e,t){let n=void 0!==t;return this.directScroll(e)?n?e.scrollLeft=t:e.scrollLeft:n?document.documentElement.scrollLeft=document.body.scrollLeft=t:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0}};const Me={container:"body",duration:500,delay:0,offset:0,easing:function(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1},onStart:l,onDone:l,onAborting:l,scrollX:!1,scrollY:!0},Re=e=>{let{offset:t,duration:n,delay:l,easing:r,x:o=0,y:s=0,scrollX:c,scrollY:i,onStart:a,onDone:u,container:d,onAborting:A,element:p}=e;"function"==typeof t&&(t=t());var f=ze.cumulativeOffset(d),m=p?ze.cumulativeOffset(p):{top:s,left:o},h=ze.scrollLeft(d),b=ze.scrollTop(d),v=m.left-f.left+t,y=m.top-f.top+t,$=v-h,w=y-b;let x=!0,C=!1,_=g()+l,I=_+n;function U(e){e||(C=!0,a(p,{x:o,y:s}))}function S(e){!function(e,t,n){c&&ze.scrollLeft(e,n),i&&ze.scrollTop(e,t)}(d,b+w*e,h+$*e)}function T(){x=!1}return k((e=>{if(!C&&e>=_&&U(!1),C&&e>=I&&(S(1),T(),u(p,{x:o,y:s})),!x)return A(p,{x:o,y:s}),!1;if(C){S(0+1*r((e-_)/n))}return!0})),U(l),S(0),T},Ye=e=>{let t=ze.extend({},Me,e);return t.container=ze.$(t.container),t.element=ze.$(t.element),t},We=e=>{if(e&&e!==document&&e!==document.body)return e.scrollHeight-e.offsetHeight;{let e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}},Fe=e=>Re(Ye(e)),Ke=e=>(t,n)=>{let l=n;const r=t=>{t.preventDefault(),e("string"==typeof l?{element:l}:l)};return t.addEventListener("click",r),t.addEventListener("touchstart",r),{update(e){l=e},destroy(){t.removeEventListener("click",r),t.removeEventListener("touchstart",r)}}};Ke(Fe),Ke((e=>(e=Ye(e),Re(ze.extend(e,{element:null,y:0}))))),Ke((e=>(e=Ye(e),Re(ze.extend(e,{element:null,y:We(e.container)})))));function He(e,{delay:t=0,duration:n=400,easing:l=qe,x:r=0,y:o=0,opacity:s=0}={}){const c=getComputedStyle(e),i=+c.opacity,a="none"===c.transform?"":c.transform,u=i*(1-s),[d,A]=b(r),[p,f]=b(o);return{delay:t,duration:n,easing:l,css:(e,t)=>`\n\t\t\ttransform: ${a} translate(${(1-e)*d}${A}, ${(1-e)*p}${f});\n\t\t\topacity: ${i-u*t}`}}var Je=n(20681),Ve=n(98146);const Xe=[];function Ge(e,t=l){let n;const r=new Set;function o(t){if(a(e,t)&&(e=t,n)){const t=!Xe.length;for(const t of r)t[1](),Xe.push(t,e);if(t){for(let e=0;e<Xe.length;e+=2)Xe[e][0](Xe[e+1]);Xe.length=0}}}function s(t){o(t(e))}return{set:o,update:s,subscribe:function(c,i=l){const a=[c,i];return r.add(a),1===r.size&&(n=t(o,s)||l),c(e),()=>{r.delete(a),0===r.size&&n&&(n(),n=null)}}}}var Qe=n(59994);async function Ze(e){let{method:t="GET",vocabularyUrl:n=null,attributes:l=[],path:r=null,uids:o=null,searchTerm:s=null,searchPath:c=null,levelInfoPath:i=null,selectableTypes:a=[],pageSize:u=100,page:d=1}=e,A={criteria:[]};if(r&&(A={criteria:[{i:"path",o:"plone.app.querystring.operation.string.path",v:`${r}::1`}],sort_on:"getObjPositionInParent",sort_order:"ascending"}),i&&(A={criteria:[{i:"path",o:"plone.app.querystring.operation.string.path",v:`${i}::0`}]}),c&&(A={criteria:[{i:"path",o:"plone.app.querystring.operation.string.path",v:c}]},a&&A.criteria.push({i:"portal_type",o:"plone.app.querystring.operation.list.contains",v:a})),o&&(A={criteria:[{i:"UID",o:"plone.app.querystring.operation.list.contains",v:o}]}),s&&A.criteria.push({i:"SearchableText",o:"plone.app.querystring.operation.string.contains",v:`${s}`}),!A.criteria.length)return{results:[],total:0};let p=`${n}&query=${JSON.stringify(A)}&attributes=${JSON.stringify(l)}&batch=${JSON.stringify({page:d,size:u})}`,f=new Headers;f.set("Accept","application/json");const m=await fetch(p,{method:t,headers:f}),h=await m.json();if(m.ok){if(!c&&!i&&a.length){const e={results:[],total:h.total};for(const t of h.results)(-1!=a.indexOf(t.portal_type)||t.is_folderish)&&e.results.push(t);return e}return h}return{results:[],total:0,errors:h.errors}}async function et(e,t){if(!e)return[];const n=await Ze({vocabularyUrl:t.vocabularyUrl,attributes:t.attributes,uids:e});let l=await(n?.results)||[];return l.sort(((t,n)=>e.indexOf(t.UID)-e.indexOf(n.UID))),l}async function tt(e,t){let{iconName:n}=t;const l=await async function(e){return await Qe.A.resolveIcon(e)}(n);return e.outerHTML=l,{destroy(){}}}function nt(e){const t=t=>{e&&!e.contains(t.target)&&e.dispatchEvent(new CustomEvent("click_outside",e))};return document.addEventListener("click",t,!0),{destroy(){document.removeEventListener("click",t,!0)}}}function lt(e,t){let n=Qe.A.storage.get(t.recentlyUsedKey)||[];n=n.slice(n.length-1e3,n.length),e&&t?.selectableTypes.length&&(n=n.filter((e=>-1!=t.selectableTypes.indexOf(e.portal_type))));const l=parseInt(t.recentlyUsedMaxItems,10);return l&&(n=n.slice(n.length-l,n.length)),n}function rt(e,t){const n=Ge([]),l=async t=>(t={...{vocabularyUrl:e.vocabularyUrl,attributes:e.attributes,pageSize:e.pageSize},...t},e.selectableTypes.length&&(t.selectableTypes=e.selectableTypes),await Ze(t));return n.get=async r=>{let{path:o="",searchTerm:s="",updateCache:c=!1,loadMorePath:i="",page:a=1}=r;const u=new URL(e.base_url).pathname;if("search"===e.mode)await(async(t,r,o)=>{let s={searchPath:t,page:o};r&&(s.searchTerm="*"+r+"*");let c=await l(s);c.page=o,c.searchTerm=r,n.update((t=>{const n=o*e.pageSize<c.total;return 0==t.length||t[0].searchTerm!=r?(c.more=n,c.selectable=!1,c.gridView=!1,[c]):(t[0].more=n,t[0].page=c.page,t[0].results=[...t[0].results,...c.results],t)}))})(u,s,a);else if(i){const r=p(t);if(!(i in r))return;let o=r[i];a>o.page&&await(async(t,r,o)=>{let s={path:t,page:r};o&&(s.searchTerm="*"+o+"*");let c=await l(s);c.more=r*e.pageSize<c.total,c.page=r,n.update((e=>(e.forEach((e=>{if(e.path!=t)return e;e.page=c.page,e.more=c.more,e.results=[...e.results,...c.results]})),e)))})(i,a,o.searchTerm)}else o&&(o=o.replace(new RegExp(`^${u}`),""),await(async(r,o,s,c)=>{let i=[],a=o.split("/")||[];const u=a.length>=e.maxDepth?e.maxDepth:a.length;let d=a.slice(a.length-u,a.length);const A=r+a.slice(0,a.length-u).join("/"),f=p(t);for(;d.length>0;){let e=d.join("/").replace(/^\//,"");e=A+(""!=d.pop()?`/${e}`:""),-1===i.indexOf(e)&&i.push(e)}let m=[],h=0;for(var b of i){h++;const n=1==h;let o={};if(!(b in f)||n&&s||c){let c={path:b};if(n&&s&&(c.searchTerm="*"+s+"*"),o=await l(c),o.more=e.pageSize<o.total,o.searchTerm=s,o.page=1,o.path=b,o.absPath=b.replace(r,""),!s){const n=await l({levelInfoPath:b});n.total&&(o.UID=n.results[0].UID,o.Title=n.results[0].Title,o.portal_type=n.results[0].portal_type,o.getIcon=n.results[0].getIcon,o.selectable=!e.selectableTypes.length||-1!=e.selectableTypes.indexOf(n.results[0].portal_type)),o.gridView=!1,t.update((e=>(e[b]=o,e)))}}else o=f[b];m=[o,...m]}n.set(m)})(u,o,s,c))},n}function ot(e,t,n){const l=e.slice();return l[5]=t[n],l}function st(e){let t,n,l,r,o,s,c,i,a,u,d=(0,Je.Ay)("Favorites")+"",A=_e(e[0].favorites),p=[];for(let t=0;t<A.length;t+=1)p[t]=ct(ot(e,A,t));return{c(){t=j("div"),n=j("button"),l=L("svg"),o=O(),s=P(d),c=O(),i=j("ul");for(let e=0;e<p.length;e+=1)p[e].c();M(n,"type","button"),M(n,"class","favorites dropdown-toggle btn btn-outline-light btn-sm"),M(n,"data-bs-toggle","dropdown"),M(n,"aria-haspopup","true"),M(n,"aria-expanded","false"),M(i,"class","dropdown-menu"),M(t,"class","favorites dropdown dropdown-menu-end ms-2")},m(e,d){E(e,t,d),I(t,n),I(n,l),I(n,o),I(n,s),I(t,c),I(t,i);for(let e=0;e<p.length;e+=1)p[e]&&p[e].m(i,null);a||(u=h(r=tt.call(null,l,{iconName:"star-fill"})),a=!0)},p(e,t){if(5&t){let n;for(A=_e(e[0].favorites),n=0;n<A.length;n+=1){const l=ot(e,A,n);p[n]?p[n].p(l,t):(p[n]=ct(l),p[n].c(),p[n].m(i,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=A.length}},d(e){e&&D(t),B(p,e),a=!1,u()}}}function ct(e){let t,n,l,r,o,s,c,i=e[5].title+"";function a(){return e[3](e[5])}return{c(){t=j("li"),n=j("a"),l=P(i),o=O(),M(n,"class","dropdown-item"),M(n,"href",r=e[5].path)},m(e,r){E(e,t,r),I(t,n),I(n,l),I(t,o),s||(c=q(n,"click",z(a)),s=!0)},p(t,o){e=t,1&o&&i!==(i=e[5].title+"")&&R(l,i),1&o&&r!==(r=e[5].path)&&M(n,"href",r)},d(e){e&&D(t),s=!1,c()}}}function it(e){let t,n=e[0]?.favorites&&st(e);return{c(){n&&n.c(),t=N()},m(e,l){n&&n.m(e,l),E(e,t,l)},p(e,[l]){e[0]?.favorites?n?n.p(e,l):(n=st(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:l,o:l,d(e){e&&D(t),n&&n.d(e)}}}function at(e,t,n){let l;const r=te("config");f(e,r,(e=>n(0,l=e)));const o=Z();function s(e){o("selectItem",{item:e})}return[l,r,s,e=>s(e)]}var ut=class extends Pe{constructor(e){super(),je(this,e,at,it,a,{})}};function dt(e,t,n){const l=e.slice();return l[6]=t[n],l}function At(e){let t,n,l,r,o,s,c,i,a,u,d=(0,Je.Ay)("Recently Used")+"",A=_e(e[2].reverse()),p=[];for(let t=0;t<A.length;t+=1)p[t]=pt(dt(e,A,t));return{c(){t=j("div"),n=j("button"),l=L("svg"),o=O(),s=P(d),c=O(),i=j("ul");for(let e=0;e<p.length;e+=1)p[e].c();M(n,"type","button"),M(n,"class","recentlyUsed dropdown-toggle btn btn-outline-light btn-sm"),M(n,"data-bs-toggle","dropdown"),M(n,"aria-haspopup","true"),M(n,"aria-expanded","false"),M(i,"class","dropdown-menu"),M(t,"class","recentlyUsed dropdown ms-2")},m(e,d){E(e,t,d),I(t,n),I(n,l),I(n,o),I(n,s),I(t,c),I(t,i);for(let e=0;e<p.length;e+=1)p[e]&&p[e].m(i,null);a||(u=h(r=tt.call(null,l,{iconName:"grid-fill"})),a=!0)},p(e,t){if(12&t){let n;for(A=_e(e[2].reverse()),n=0;n<A.length;n+=1){const l=dt(e,A,n);p[n]?p[n].p(l,t):(p[n]=pt(l),p[n].c(),p[n].m(i,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=A.length}},d(e){e&&D(t),B(p,e),a=!1,u()}}}function pt(e){let t,n,l,r,o,s,i,a,u,d,A=e[6].Title+"";function p(){return e[4](e[6])}return{c(){t=j("li"),n=j("a"),l=L("svg"),o=O(),s=P(A),a=O(),M(n,"href",i=e[6].getURL),M(n,"class","dropdown-item")},m(c,i){E(c,t,i),I(t,n),I(n,l),I(n,o),I(n,s),I(t,a),u||(d=[q(l,"error",console.log(e[6])),h(r=tt.call(null,l,{iconName:`contenttype/${e[6]?.portal_type.toLowerCase().replace(/\.| /g,"-")}`})),q(n,"click",z(p))],u=!0)},p(t,n){e=t},d(e){e&&D(t),u=!1,c(d)}}}function ft(e){let t,n=e[0].recentlyUsed&&e[2].length&&At(e);return{c(){n&&n.c(),t=N()},m(e,l){n&&n.m(e,l),E(e,t,l)},p(e,[l]){e[0].recentlyUsed&&e[2].length?n?n.p(e,l):(n=At(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:l,o:l,d(e){e&&D(t),n&&n.d(e)}}}function mt(e,t,n){let l;const r=te("config");f(e,r,(e=>n(0,l=e)));const o=lt(!0,l),s=Z();function c(e){s("selectItem",{item:e})}return[l,r,o,c,e=>c(e)]}var ht=class extends Pe{constructor(e){super(),je(this,e,mt,ft,a,{})}},bt=n(85072),vt=n.n(bt),gt=n(97825),yt=n.n(gt),$t=n(57722),wt=n.n($t),kt=n(55056),xt=n.n(kt),Ct=n(10540),_t=n.n(Ct),It=n(41113),Ut=n.n(It),St=n(84465),Tt={};Tt.styleTagTransform=Ut(),Tt.setAttributes=xt(),Tt.insert=wt(),Tt.domAPI=yt(),Tt.insertStyleElement=_t();vt()(St.A,Tt),St.A&&St.A.locals&&St.A.locals;function Et(e,t,n){const l=e.slice();return l[48]=t[n],l[49]=t,l[50]=n,l}function Dt(e,t,n){const l=e.slice();return l[51]=t[n],l[53]=n,l}function Bt(e){let t,n,l,r,o,s,i,a,u,d,A,p,f,m,b,v,g,y,$,w,k,x,C,_,U;A=new ht({}),A.$on("selectItem",e[22]),f=new ut({}),f.$on("selectItem",e[23]);let S=e[6].uploadEnabled&&jt(e),T={ctx:e,current:null,token:null,hasCatch:!0,pending:tn,then:Pt,catch:Lt,value:47,error:54};return Ce(w=e[1],T),{c(){t=j("div"),n=j("nav"),l=j("div"),r=j("div"),o=j("input"),s=O(),i=j("label"),a=L("svg"),d=O(),Ee(A.$$.fragment),p=O(),Ee(f.$$.fragment),m=O(),S&&S.c(),b=O(),v=j("button"),g=L("svg"),$=O(),T.block.c(),M(o,"type","text"),M(o,"name","filter"),M(i,"for","filter"),M(r,"class","filter me-3"),M(v,"class","btn btn-link text-white ms-auto"),M(v,"tabindex","0"),M(l,"class","toolBar navbar svelte-1lcbp2k"),M(n,"class","content-browser svelte-1lcbp2k"),M(t,"class","content-browser-position-wrapper svelte-1lcbp2k")},m(c,w){E(c,t,w),I(t,n),I(n,l),I(l,r),I(r,o),I(r,s),I(r,i),I(i,a),I(l,d),De(A,l,null),I(l,p),De(f,l,null),I(l,m),S&&S.m(l,null),I(l,b),I(l,v),I(v,g),I(n,$),T.block.m(n,T.anchor=null),T.mount=()=>n,T.anchor=null,C=!0,_||(U=[q(o,"input",e[28]),h(u=tt.call(null,a,{iconName:"search"})),h(y=tt.call(null,g,{iconName:"x-circle"})),q(v,"click",z(e[30])),q(n,"introend",e[39]),h(k=nt.call(null,n)),q(n,"click_outside",e[24])],_=!0)},p(t,n){(e=t)[6].uploadEnabled?S?S.p(e,n):(S=jt(e),S.c(),S.m(l,b)):S&&(S.d(1),S=null),T.ctx=e,2&n[0]&&w!==(w=e[1])&&Ce(w,T)||function(e,t,n){const l=t.slice(),{resolved:r}=e;e.current===e.then&&(l[e.value]=r),e.current===e.catch&&(l[e.error]=r),e.block.p(l,n)}(T,e,n)},i(t){C||($e(A.$$.fragment,t),$e(f.$$.fragment,t),t&&ae((()=>{C&&(x||(x=xe(n,He,{x:e[14]/100*94,opacity:1},!0)),x.run(1))})),C=!0)},o(t){we(A.$$.fragment,t),we(f.$$.fragment,t),t&&(x||(x=xe(n,He,{x:e[14]/100*94,opacity:1},!1)),x.run(0)),C=!1},d(e){e&&D(t),Be(A),Be(f),S&&S.d(),T.block.d(),T.token=null,T=null,e&&x&&x.end(),_=!1,c(U)}}}function jt(e){let t,n,l,r,o,s,i,a,u=(0,Je.Ay)("upload to ${current_path}",{current_path:e[2]})+"";return{c(){t=j("div"),n=j("button"),l=L("svg"),o=O(),s=P(u),M(n,"type","button"),M(n,"class","upload btn btn-outline-light btn-sm"),M(n,"tabindex","0"),M(t,"class","ms-2")},m(c,u){E(c,t,u),I(t,n),I(n,l),I(n,o),I(n,s),i||(a=[h(r=tt.call(null,l,{iconName:"upload"})),q(n,"keydown",e[15]),q(n,"click",e[15])],i=!0)},p(e,t){4&t[0]&&u!==(u=(0,Je.Ay)("upload to ${current_path}",{current_path:e[2]})+"")&&R(s,u)},d(e){e&&D(t),i=!1,c(a)}}}function Lt(e){let t,n,l=e[54].message+"";return{c(){t=j("p"),n=P(l),Y(t,"color","red")},m(e,l){E(e,t,l),I(t,n)},p(e,t){2&t[0]&&l!==(l=e[54].message+"")&&R(n,l)},d(e){e&&D(t)}}}function Pt(e){let t,n,l,r,o=[],s=new Map,c=_e(e[47]);const i=e=>e[48].path;for(let t=0;t<c.length;t+=1){let n=Et(e,c,t),l=i(n);s.set(l,o[t]=Vt(l,n))}let a=e[5]?.UID&&1==e[0].length&&Xt(e),u=e[0].length>1&&Zt(e),d=e[4]&&en(e);return{c(){t=j("div");for(let e=0;e<o.length;e+=1)o[e].c();n=O(),a&&a.c(),l=O(),u&&u.c(),r=O(),d&&d.c(),M(t,"class","levelColumns svelte-1lcbp2k")},m(e,s){E(e,t,s);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null);I(t,n),a&&a.m(t,null),I(t,l),u&&u.m(t,null),I(t,r),d&&d.m(t,null)},p(e,A){169541699&A[0]&&(c=_e(e[47]),o=Se(o,A,i,1,e,c,s,t,Ie,Vt,n,Et)),e[5]?.UID&&1==e[0].length?a?a.p(e,A):(a=Xt(e),a.c(),a.m(t,l)):a&&(a.d(1),a=null),e[0].length>1?u?u.p(e,A):(u=Zt(e),u.c(),u.m(t,r)):u&&(u.d(1),u=null),e[4]?d||(d=en(e),d.c(),d.m(t,null)):d&&(d.d(1),d=null)},d(e){e&&D(t);for(let e=0;e<o.length;e+=1)o[e].d();a&&a.d(),u&&u.d(),d&&d.d()}}}function Ot(e){let t,n,r,o,s;return{c(){t=j("button"),n=L("svg"),M(t,"type","button"),M(t,"class","btn btn-link btn-xs ps-0 svelte-1lcbp2k"),M(t,"tabindex","0")},m(l,c){E(l,t,c),I(t,n),o||(s=[h(r=tt.call(null,n,{iconName:"house"})),q(t,"keydown",e[31]),q(t,"click",e[32])],o=!0)},p:l,d(e){e&&D(t),o=!1,c(s)}}}function Nt(e){let t,n,l,r,o,s=(0,Je.Ay)("select ${level_path}",{level_path:e[48].absPath||"/"})+"";function c(){return e[33](e[48])}return{c(){t=j("button"),n=P(s),M(t,"class","btn btn-primary btn-xs svelte-1lcbp2k"),t.disabled=l=!e[25](e[48])},m(e,l){E(e,t,l),I(t,n),r||(o=q(t,"click",z(c)),r=!0)},p(r,o){e=r,2&o[0]&&s!==(s=(0,Je.Ay)("select ${level_path}",{level_path:e[48].absPath||"/"})+"")&&R(n,s),2&o[0]&&l!==(l=!e[25](e[48]))&&(t.disabled=l)},d(e){e&&D(t),r=!1,o()}}}function qt(e){let t,n,l,r,o;function s(){return e[35](e[48],e[49],e[50])}return{c(){t=j("button"),n=L("svg"),M(t,"class","btn btn-link btn-xs grid-view svelte-1lcbp2k")},m(e,c){E(e,t,c),I(t,n),r||(o=[h(l=tt.call(null,n,{iconName:"list"})),q(t,"click",s)],r=!0)},p(t,n){e=t},d(e){e&&D(t),r=!1,c(o)}}}function zt(e){let t,n,l,r,o;function s(){return e[34](e[48],e[49],e[50])}return{c(){t=j("button"),n=L("svg"),M(t,"class","btn btn-link btn-xs grid-view svelte-1lcbp2k")},m(e,c){E(e,t,c),I(t,n),r||(o=[h(l=tt.call(null,n,{iconName:"grid"})),q(t,"click",s)],r=!0)},p(t,n){e=t},d(e){e&&D(t),r=!1,c(o)}}}function Mt(e){let t,n,l,r,o,s,c,a,u=e[51].Title+"";return{c(){t=j("div"),n=L("svg"),r=O(),o=P(u),M(t,"class","item-title svelte-1lcbp2k"),M(t,"title",s=e[51].portal_type+": "+e[51].Title)},m(s,i){E(s,t,i),I(t,n),I(t,r),I(t,o),c||(a=h(l=tt.call(null,n,{iconName:`contenttype/${e[51].portal_type.toLowerCase().replace(/\.| /g,"-")}`})),c=!0)},p(n,r){e=n,l&&i(l.update)&&2&r[0]&&l.update.call(null,{iconName:`contenttype/${e[51].portal_type.toLowerCase().replace(/\.| /g,"-")}`}),2&r[0]&&u!==(u=e[51].Title+"")&&R(o,u),2&r[0]&&s!==(s=e[51].portal_type+": "+e[51].Title)&&M(t,"title",s)},d(e){e&&D(t),c=!1,a()}}}function Rt(e){let t,n,l,r=e[51].Title+"";function o(e,t){return e[51].getIcon?Wt:Yt}let s=o(e),c=s(e);return{c(){t=j("div"),c.c(),n=O(),l=P(r),M(t,"class","grid-preview svelte-1lcbp2k")},m(e,r){E(e,t,r),c.m(t,null),I(t,n),I(t,l)},p(e,i){s===(s=o(e))&&c?c.p(e,i):(c.d(1),c=s(e),c&&(c.c(),c.m(t,n))),2&i[0]&&r!==(r=e[51].Title+"")&&R(l,r)},d(e){e&&D(t),c.d()}}}function Yt(e){let t,n,l,r;return{c(){t=L("svg")},m(o,s){E(o,t,s),l||(r=h(n=tt.call(null,t,{iconName:`contenttype/${e[51].portal_type.toLowerCase().replace(/\.| /g,"-")}`})),l=!0)},p(t,l){e=t,n&&i(n.update)&&2&l[0]&&n.update.call(null,{iconName:`contenttype/${e[51].portal_type.toLowerCase().replace(/\.| /g,"-")}`})},d(e){e&&D(t),l=!1,r()}}}function Wt(e){let t,n,l;return{c(){t=j("img"),d(t.src,n=`${e[51].getURL}/@@images/image/thumb`)||M(t,"src",n),M(t,"alt",l=e[51].Title),M(t,"class","svelte-1lcbp2k")},m(e,n){E(e,t,n)},p(e,r){2&r[0]&&!d(t.src,n=`${e[51].getURL}/@@images/image/thumb`)&&M(t,"src",n),2&r[0]&&l!==(l=e[51].Title)&&M(t,"alt",l)},d(e){e&&D(t)}}}function Ft(e){let t,n,l,r,o;return{c(){t=j("div"),n=L("svg"),M(t,"class","browseSub svelte-1lcbp2k")},m(e,s){E(e,t,s),I(t,n),r||(o=h(l=tt.call(null,n,{iconName:"arrow-right-circle"})),r=!0)},d(e){e&&D(t),r=!1,o()}}}function Kt(e){let t,n,l,r,o,s,i;function a(e,t){return e[48].gridView?Rt:Mt}let u=a(e),d=u(e),A=e[51].is_folderish&&"browse"==e[6].mode&&Ft();function p(...t){return e[36](e[51],...t)}function f(...t){return e[37](e[51],...t)}return{c(){t=j("div"),d.c(),n=O(),A&&A.c(),M(t,"class",l="contentItem"+(e[53]%2==0?" odd":" even")+(e[27](e[51])?" inPath":"")+(-1!=e[0].indexOf(e[51].UID)?" selectedItem":"")+(e[25](e[51])?"":" text-muted")+" svelte-1lcbp2k"),M(t,"role","button"),M(t,"tabindex",r=e[53]),M(t,"data-uuid",o=e[51].UID)},m(e,l){E(e,t,l),d.m(t,null),I(t,n),A&&A.m(t,null),s||(i=[q(t,"keydown",z(p)),q(t,"click",f)],s=!0)},p(r,s){u===(u=a(e=r))&&d?d.p(e,s):(d.d(1),d=u(e),d&&(d.c(),d.m(t,n))),e[51].is_folderish&&"browse"==e[6].mode?A||(A=Ft(),A.c(),A.m(t,null)):A&&(A.d(1),A=null),3&s[0]&&l!==(l="contentItem"+(e[53]%2==0?" odd":" even")+(e[27](e[51])?" inPath":"")+(-1!=e[0].indexOf(e[51].UID)?" selectedItem":"")+(e[25](e[51])?"":" text-muted")+" svelte-1lcbp2k")&&M(t,"class",l),2&s[0]&&o!==(o=e[51].UID)&&M(t,"data-uuid",o)},d(e){e&&D(t),d.d(),A&&A.d(),s=!1,c(i)}}}function Ht(e){let t,n,l,r,o,s,c;return{c(){t=j("div"),n=j("div"),M(n,"class","spinner-border"),M(n,"role","status"),M(t,"class","loadmore svelte-1lcbp2k"),M(t,"data-level-path",l=e[48].path),M(t,"data-level-next-page",r=parseInt(e[48].page)+1)},m(l,r){E(l,t,r),I(t,n),s||(c=h(o=e[29].call(null,t)),s=!0)},p(e,n){2&n[0]&&l!==(l=e[48].path)&&M(t,"data-level-path",l),2&n[0]&&r!==(r=parseInt(e[48].page)+1)&&M(t,"data-level-next-page",r)},d(e){e&&D(t),s=!1,c()}}}function Jt(e){let t,n;return{c(){t=j("div"),n=j("p"),n.textContent=`${(0,Je.Ay)("no results found")}`,M(n,"class","svelte-1lcbp2k"),M(t,"class","contentItem svelte-1lcbp2k")},m(e,l){E(e,t,l),I(t,n)},d(e){e&&D(t)}}}function Vt(e,t){let n,o,s,c,a,u,d,A,p,f,m,h=0==t[50]&&Ot(t),b=t[48].selectable&&Nt(t);function v(e,t){return e[48].gridView?qt:zt}let y=v(t),$=y(t),w=_e(t[48].results||[]),x=[];for(let e=0;e<w.length;e+=1)x[e]=Kt(Dt(t,w,e));let C=t[48].more&&Ht(t),_=0==t[48].total&&Jt();return{key:e,first:null,c(){n=j("div"),o=j("div"),h&&h.c(),s=O(),b&&b.c(),c=O(),a=j("div"),$.c(),u=O(),d=j("div");for(let e=0;e<x.length;e+=1)x[e].c();A=O(),C&&C.c(),p=O(),_&&_.c(),M(a,"class","levelActions svelte-1lcbp2k"),M(o,"class","levelToolbar svelte-1lcbp2k"),M(d,"class","levelItems svelte-1lcbp2k"),M(n,"class",f="levelColumn"+(t[50]%2==0?" odd":" even")+" svelte-1lcbp2k"),this.first=n},m(e,t){E(e,n,t),I(n,o),h&&h.m(o,null),I(o,s),b&&b.m(o,null),I(o,c),I(o,a),$.m(a,null),I(n,u),I(n,d);for(let e=0;e<x.length;e+=1)x[e]&&x[e].m(d,null);I(d,A),C&&C.m(d,null),I(d,p),_&&_.m(d,null)},p(e,l){if(0==(t=e)[50]?h?h.p(t,l):(h=Ot(t),h.c(),h.m(o,s)):h&&(h.d(1),h=null),t[48].selectable?b?b.p(t,l):(b=Nt(t),b.c(),b.m(o,c)):b&&(b.d(1),b=null),y===(y=v(t))&&$?$.p(t,l):($.d(1),$=y(t),$&&($.c(),$.m(a,null))),168427587&l[0]){let e;for(w=_e(t[48].results||[]),e=0;e<w.length;e+=1){const n=Dt(t,w,e);x[e]?x[e].p(n,l):(x[e]=Kt(n),x[e].c(),x[e].m(d,A))}for(;e<x.length;e+=1)x[e].d(1);x.length=w.length}t[48].more?C?C.p(t,l):(C=Ht(t),C.c(),C.m(d,p)):C&&(C.d(1),C=null),0==t[48].total?_||(_=Jt(),_.c(),_.m(d,null)):_&&(_.d(1),_=null),2&l[0]&&f!==(f="levelColumn"+(t[50]%2==0?" odd":" even")+" svelte-1lcbp2k")&&M(n,"class",f)},i(e){e&&(m||ae((()=>{m=function(e,t,n){const o={direction:"in"};let s,c,a=t(e,n,o),u=!1,d=0;function A(){s&&V(e,s)}function p(){const{delay:t=0,duration:n=300,easing:o=r,tick:i=l,css:p}=a||ke;p&&(s=J(e,0,1,n,t,o,p,d++)),i(0,1);const f=g()+t,m=f+n;c&&c.abort(),u=!0,ae((()=>he(e,!0,"start"))),c=k((t=>{if(u){if(t>=m)return i(1,0),he(e,!0,"end"),A(),u=!1;if(t>=f){const e=o((t-f)/n);i(e,1-e)}}return u}))}let f=!1;return{start(){f||(f=!0,V(e),i(a)?(a=a(o),me().then(p)):p())},invalidate(){f=!1},end(){u&&(A(),u=!1)}}}(n,He,{duration:300}),m.start()})))},o:l,d(e){e&&D(n),h&&h.d(),b&&b.d(),$.d(),B(x,e),C&&C.d(),_&&_.d()}}}function Xt(e){let t,n,l,r,o,s,c,i,a,u,d,A,p,f,m,h=(0,Je.Ay)("select ${preview_path}",{preview_path:e[5].path.split("/").pop()})+"",b=e[5].Title+"",v=e[5].Description+"";function g(e,t){return e[5].getIcon?Qt:Gt}let y=g(e),$=y(e);return{c(){t=j("div"),n=j("div"),l=j("button"),r=P(h),s=O(),c=j("div"),$.c(),i=O(),a=j("h4"),u=P(b),d=O(),A=j("p"),p=P(v),M(l,"class","btn btn-primary btn-xs svelte-1lcbp2k"),l.disabled=o=!e[25](e[5]),M(n,"class","levelToolbar svelte-1lcbp2k"),M(a,"class","svelte-1lcbp2k"),M(c,"class","info svelte-1lcbp2k"),M(t,"class","preview svelte-1lcbp2k")},m(o,h){E(o,t,h),I(t,n),I(n,l),I(l,r),I(t,s),I(t,c),$.m(c,null),I(c,i),I(c,a),I(a,u),I(c,d),I(c,A),I(A,p),f||(m=q(l,"click",z(e[38])),f=!0)},p(e,t){32&t[0]&&h!==(h=(0,Je.Ay)("select ${preview_path}",{preview_path:e[5].path.split("/").pop()})+"")&&R(r,h),32&t[0]&&o!==(o=!e[25](e[5]))&&(l.disabled=o),y===(y=g(e))&&$?$.p(e,t):($.d(1),$=y(e),$&&($.c(),$.m(c,i))),32&t[0]&&b!==(b=e[5].Title+"")&&R(u,b),32&t[0]&&v!==(v=e[5].Description+"")&&R(p,v)},d(e){e&&D(t),$.d(),f=!1,m()}}}function Gt(e){let t,n,l,r,o;return{c(){t=j("div"),n=L("svg"),M(n,"class","svelte-1lcbp2k"),M(t,"class","previewIcon svelte-1lcbp2k")},m(s,c){E(s,t,c),I(t,n),r||(o=h(l=tt.call(null,n,{iconName:`contenttype/${e[5].portal_type.toLowerCase().replace(/\.| /g,"-")}`})),r=!0)},p(e,t){l&&i(l.update)&&32&t[0]&&l.update.call(null,{iconName:`contenttype/${e[5].portal_type.toLowerCase().replace(/\.| /g,"-")}`})},d(e){e&&D(t),r=!1,o()}}}function Qt(e){let t,n,l,r;return{c(){t=j("div"),n=j("img"),d(n.src,l=e[5].getURL+"/@@images/image/preview")||M(n,"src",l),M(n,"alt",r=e[5].Title),M(n,"class","svelte-1lcbp2k"),M(t,"class","previewImage")},m(e,l){E(e,t,l),I(t,n)},p(e,t){32&t[0]&&!d(n.src,l=e[5].getURL+"/@@images/image/preview")&&M(n,"src",l),32&t[0]&&r!==(r=e[5].Title)&&M(n,"alt",r)},d(e){e&&D(t)}}}function Zt(e){let t,n,r,o,s,i,a,u,d;return{c(){t=j("div"),n=j("div"),r=j("button"),r.textContent=`${(0,Je.Ay)("add selected items")}`,o=O(),s=j("div"),i=L("svg"),M(r,"class","btn btn-primary btn-xs svelte-1lcbp2k"),M(n,"class","levelToolbar svelte-1lcbp2k"),M(i,"class","svelte-1lcbp2k"),M(s,"class","info svelte-1lcbp2k"),M(t,"class","preview svelte-1lcbp2k")},m(l,c){E(l,t,c),I(t,n),I(n,r),I(t,o),I(t,s),I(s,i),u||(d=[q(r,"click",z(e[21])),h(a=tt.call(null,i,{iconName:"files"}))],u=!0)},p:l,d(e){e&&D(t),u=!1,c(d)}}}function en(e){let t;return{c(){t=j("div"),M(t,"class","upload-wrapper svelte-1lcbp2k")},m(e,n){E(e,t,n)},d(e){e&&D(t)}}}function tn(e){let t;return{c(){t=j("p"),t.textContent=`${(0,Je.Ay)("loading content items")}`},m(e,n){E(e,t,n)},p:l,d(e){e&&D(t)}}}function nn(e){let t,n,l=e[3]&&Bt(e);return{c(){l&&l.c(),t=N()},m(e,r){l&&l.m(e,r),E(e,t,r),n=!0},p(e,n){e[3]?l?(l.p(e,n),8&n[0]&&$e(l,1)):(l=Bt(e),l.c(),$e(l,1),l.m(t.parentNode,t)):l&&(ge(),we(l,1,1,(()=>{l=null})),ye())},i(e){n||($e(l),n=!0)},o(e){we(l),n=!1},d(e){e&&D(t),l&&l.d(e)}}}function ln(e,t,n){let l,r,o,s,c,i,a;(e=>{ze.extend(Me,e||{})})({scrollX:!0,container:".levelColumns",duration:500});const u=te("currentPath");f(e,u,(e=>n(2,o=e)));const d=te("config");f(e,d,(e=>n(6,i=e)));const A=te("pathCache"),p=te("showContentBrowser");f(e,p,(e=>n(3,s=e)));const h=te("selectedItems");f(e,h,(e=>n(43,a=e)));const b=te("selectedUids");f(e,b,(e=>n(42,c=e)));const v=te("previewUids");f(e,v,(e=>n(0,l=e)));const g=rt(i,A);f(e,g,(e=>n(1,r=e)));let y=!1,$={},w=!1,k=!1,x=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);function C({data:e=null,uuid:t=null,action:r="show"}){if(e&&"show"==r)n(5,$=e),m(v,l=[e.UID],l);else if(t&&"add"==r&&-1===l.indexOf(t)){if(i.maximumSelectionSize>0&&l.length>=i.maximumSelectionSize)return;m(v,l=[...l,t],l)}else t&&"remove"==r&&-1!==l.indexOf(t)?v.update((e=>(e.splice(e.indexOf(t),1),e))):"clear"==r&&(n(5,$={}),m(v,l=[],l))}function _(e,t){n(4,y=!1),C({action:"clear"}),"/"!==e?function(e){if("search"==i.mode)C({data:e});else if(e.is_folderish)u.set(e.path);else{const t=e.path.split("/"),n=t.slice(0,t.length-1).join("/");u.set(n||"/"),C({data:e})}j()}(e):u.set(e)}function I(e,t){w||(w=!0);const n=t.currentTarget.closest(".levelItems"),r=n.querySelectorAll(".selectedItem");if(r.length&&1!=i.maximumSelectionSize)if(k||t?.shiftKey){let t=!1;for(const l of n.children){if(-1!==[e.UID,$.UID].indexOf(l.dataset.uuid)){if(t){C({uuid:l.dataset.uuid,action:"add"}),t=!1;continue}t=!0}C({uuid:l.dataset.uuid,action:t?"add":"remove"})}}else t?.metaKey||t?.ctrlKey?C({uuid:e.UID,action:-1==l.indexOf(e.UID)?"add":"remove"}):([...r].map((e=>e.classList.remove("selectedItem"))),_(e));else _(e);t.currentTarget.focus(),t.currentTarget.classList.add("selectedItem")}function U(){if(w)return;const e=[...document.querySelectorAll(".levelColumn .inPath"),...document.querySelectorAll(".levelColumn .selectedItem"),document.querySelector(".levelColumn .contentItem")];e.length&&(w=!0,e[0].focus())}function S(e,t){const n=t.currentTarget;if(k=t.shiftKey,"Escape"==t.key&&D(),"ArrowDown"==t.key&&n?.nextElementSibling?.classList.contains("contentItem")&&n.nextElementSibling.click(),"ArrowUp"==t.key&&n?.previousElementSibling?.classList.contains("contentItem")&&n.previousElementSibling.click(),"ArrowRight"==t.key){const e=t.target.closest(".levelColumn"),n=e?.nextElementSibling;if(!n||!n.classList.contains("levelColumn"))return;n.querySelector(".contentItem")?.click()}if("ArrowLeft"==t.key){const e=t.target.closest(".levelColumn"),n=e?.previousElementSibling;if(!n||!n.classList.contains("levelColumn"))return;n.querySelector(".inPath").click()}"Space"==t.key&&I(e,t),"Enter"==t.key&&B(e)&&(1==i.maximumSelectionSize?T(e):E())}async function T(e){1==i.maximumSelectionSize?(h.set([e]),b.set([e.UID])):(h.update((t=>[...t,e])),b.update((()=>a.map((e=>e.UID))))),function(e,t){if(!t.recentlyUsed)return;const n=lt(!1,t),l=n.filter((t=>t.UID===e.UID));l.length>0&&n.splice(n.indexOf(l[0]),1),n.push(e),Qe.A.storage.set(t.recentlyUsedKey,n)}(e,i),C({action:"clear"}),m(p,s=!1,s),w=!1}async function E(){const e=await et(l,i);h.update((t=>{for(const n of e)-1==c.indexOf(n.UID)&&t.push(n);return t})),b.update((()=>a.map((e=>e.UID)))),C({action:"clear"}),m(p,s=!1,s),w=!1}function D(){m(p,s=!1,s),w=!1,C({action:"clear"})}function B(e){return-1===c.indexOf(e.UID)}function j(){const e=document.querySelector(".levelColumns");e&&Fe({x:e.scrollWidth+100})}return e.$$.update=()=>{12&e.$$.dirty[0]&&s&&g.get({path:o}),2&e.$$.dirty[0]&&j(),e.$$.dirty[0]},[l,r,o,s,y,$,i,u,d,p,h,b,v,g,x,async function(){C({action:"clear"}),n(4,y=!0),await Ne.A.timeout(1);const e=document.querySelector(".upload-wrapper");e.classList.add("pat-upload"),new Ve.default(e,{baseUrl:i.base_url,currentPath:o,relativePath:"@@fileUpload",allowPathSelection:!1,hiddenInputContainer:".upload-wrapper",success:(e,t)=>{g.get({path:o,updateCache:!0})}})},_,I,U,S,T,E,function(e){T(e.detail.item)},async function(e){const t=e.detail.item.path,n=await Ze({vocabularyUrl:i.vocabularyUrl,attributes:i.attributes,levelInfoPath:t});if(!n.total)return void alert(`${t} not found!`);const l=n.results[0];l.path||(l.path="/"),_(l)},D,B,j,function(e){return-1!=o.indexOf(e.path)},function(){let e;e&&clearTimeout(e),e=setTimeout((()=>{g.get({path:o,searchTerm:this.value})}),300)},function(e){const t=new IntersectionObserver((t=>{for(const n of t)if(n.isIntersecting){const t=e.dataset.levelPath,n=parseInt(e.dataset.levelNextPage);g.get({loadMorePath:t,page:n})}}),{threshold:0,root:null,margin:"0px"});window.setTimeout((()=>{t.observe(e)}),500)},()=>D(),()=>_("/"),()=>_("/"),e=>T(e),(e,t,n)=>m(g,t[n].gridView=!0,r),(e,t,n)=>m(g,t[n].gridView=!1,r),(e,t)=>S(e,t),(e,t)=>I(e,t),()=>T($),()=>{j(),U()}]}var rn=class extends Pe{constructor(e){super(),je(this,e,ln,nn,a,{},null,[-1,-1])}};function on(e,{from:t,to:n},l={}){const r=getComputedStyle(e),o="none"===r.transform?"":r.transform,[s,c]=r.transformOrigin.split(" ").map(parseFloat),a=t.left+t.width*s/n.width-(n.left+s),u=t.top+t.height*c/n.height-(n.top+c),{delay:d=0,duration:A=e=>120*Math.sqrt(e),easing:p=qe}=l;return{delay:d,duration:i(A)?A(Math.sqrt(a*a+u*u)):A,easing:p,css:(e,l)=>{const r=l*a,s=l*u,c=e+l*t.width/n.width,i=e+l*t.height/n.height;return`transform: ${o} translate(${r}px, ${s}px) scale(${c}, ${i});`}}}var sn=n(44423),cn=n.n(sn),an=n(44563),un=n(52742),dn={};dn.styleTagTransform=Ut(),dn.setAttributes=xt(),dn.insert=wt(),dn.domAPI=yt(),dn.insertStyleElement=_t();vt()(un.A,dn),un.A&&un.A.locals&&un.A.locals;function An(e,t,n){const l=e.slice();return l[19]=t[n],l[21]=n,l}function pn(e){let t,n=[],l=new Map,r=_e(e[0]);const o=e=>e[19].UID;for(let t=0;t<r.length;t+=1){let s=An(e,r,t),c=o(s);l.set(c,n[t]=mn(c,s))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=N()},m(e,l){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,l);E(e,t,l)},p(e,s){if(129&s){r=_e(e[0]);for(let e=0;e<n.length;e+=1)n[e].r();n=Se(n,s,o,1,e,r,l,t.parentNode,Ue,mn,t,An);for(let e=0;e<n.length;e+=1)n[e].a()}},d(e){e&&D(t);for(let t=0;t<n.length;t+=1)n[t].d(e)}}}function fn(e){let t,n,l;return{c(){t=j("img"),d(t.src,n=e[19].getURL+"/@@images/image/mini")||M(t,"src",n),M(t,"alt",l=e[19].Title),M(t,"class","svelte-bljrxf")},m(e,n){E(e,t,n)},p(e,r){1&r&&!d(t.src,n=e[19].getURL+"/@@images/image/mini")&&M(t,"src",n),1&r&&l!==(l=e[19].Title)&&M(t,"alt",l)},d(e){e&&D(t)}}}function mn(e,t){let n,o,s,i,a,u,d,A,p,f,m,b,v,y,$,w,x,C,_,U=t[19].Title+"",S=t[19].path+"",T=l;function B(){return t[9](t[21])}let N=t[19].getURL&&(t[19].getIcon||"Image"===t[19].portal_type)&&fn(t);return{key:e,first:null,c(){n=j("div"),o=j("div"),s=j("button"),i=L("svg"),u=O(),d=j("div"),A=j("span"),p=P(U),f=j("br"),m=O(),b=j("span"),v=P(S),y=O(),N&&N.c(),$=O(),M(s,"class","btn btn-link btn-sm link-secondary svelte-bljrxf"),M(A,"class","item-title"),M(b,"class","small"),M(o,"class","item-info svelte-bljrxf"),M(n,"class","selected-item svelte-bljrxf"),M(n,"data-uuid",w=t[19].UID),this.first=n},m(e,t){E(e,n,t),I(n,o),I(o,s),I(s,i),I(o,u),I(o,d),I(d,A),I(A,p),I(d,f),I(d,m),I(d,b),I(b,v),I(n,y),N&&N.m(n,null),I(n,$),C||(_=[h(a=tt.call(null,i,{iconName:"x-circle"})),q(s,"click",B)],C=!0)},p(e,l){t=e,1&l&&U!==(U=t[19].Title+"")&&R(p,U),1&l&&S!==(S=t[19].path+"")&&R(v,S),t[19].getURL&&(t[19].getIcon||"Image"===t[19].portal_type)?N?N.p(t,l):(N=fn(t),N.c(),N.m(n,$)):N&&(N.d(1),N=null),1&l&&w!==(w=t[19].UID)&&M(n,"data-uuid",w)},r(){x=n.getBoundingClientRect()},f(){X(n),T()},a(){T(),T=function(e,t,n,o){if(!t)return l;const s=e.getBoundingClientRect();if(t.left===s.left&&t.right===s.right&&t.top===s.top&&t.bottom===s.bottom)return l;const{delay:c=0,duration:i=300,easing:a=r,start:u=g()+c,end:d=u+i,tick:A=l,css:p}=n(e,{from:t,to:s},o);let f,m=!0,h=!1;function b(){p&&V(e,f),m=!1}return k((e=>{if(!h&&e>=u&&(h=!0),h&&e>=d&&(A(1,0),b()),!m)return!1;if(h){const t=0+1*a((e-u)/i);A(t,1-t)}return!0})),p&&(f=J(e,0,1,i,c,a,p)),c||(h=!0),A(0,1),b}(n,x,on,{duration:500})},d(e){e&&D(n),N&&N.d(),C=!1,c(_)}}}function hn(e){let t;return{c(){t=j("p"),t.textContent=`${(0,Je.Ay)("loading selected items")}`},m(e,n){E(e,t,n)},d(e){e&&D(t)}}}function bn(e){let t,n,r,o,s,c,i,a=e[0]&&pn(e),u=!e[0]&&hn();return{c(){t=j("div"),n=j("div"),a&&a.c(),r=O(),u&&u.c(),o=O(),s=j("button"),s.textContent=`${(0,Je.Ay)("Select")}`,M(n,"class","content-browser-selected-items svelte-bljrxf"),M(s,"class","btn btn-primary"),Y(s,"border-radius","0 var(--bs-border-radius) var(--bs-border-radius) 0"),M(t,"class","content-browser-selected-items-wrapper svelte-bljrxf"),Y(t,"width",e[2].width||"auto")},m(l,d){E(l,t,d),I(t,n),a&&a.m(n,null),I(n,r),u&&u.m(n,null),I(t,o),I(t,s),e[11](t),c||(i=q(s,"click",z(e[10])),c=!0)},p(e,[l]){e[0]?a?a.p(e,l):(a=pn(e),a.c(),a.m(n,r)):a&&(a.d(1),a=null),e[0]?u&&(u.d(1),u=null):u||(u=hn(),u.c(),u.m(n,null)),4&l&&Y(t,"width",e[2].width||"auto")},i:l,o:l,d(n){n&&D(t),a&&a.d(),u&&u.d(),e[11](null),c=!1,i()}}}function vn(e,t,n){let l,r,o,s,c=!0;const i=te("config");f(e,i,(e=>n(2,r=e)));const a=r.fieldId,u=document.getElementById(a),d=te("selectedItems");f(e,d,(e=>n(0,l=e)));const A=te("selectedUids"),p=te("showContentBrowser");var h;function b(e){d.update((t=>(t.splice(e,1),t))),A.update((()=>l.map((e=>e.UID))))}function v(){1!==r.maximumSelectionSize&&l.length>1&&cn().create(u.previousSibling.querySelector(".content-browser-selected-items"),{draggable:".selected-item",animation:200,onUpdate:e=>{let t=[];for(const n of e.target.children)t.push(n.dataset.uuid);g(t)}})}function g(e){const t=e.join(r.separator);u.value=t,u.dispatchEvent(an.A.change_event())}f(e,p,(e=>n(3,o=e))),h=async()=>{await async function(){const e=r.selection.length?r.selection:u?.value?u.value.split(r.separator):[];if(!e.length)return;const t=await et(e,r);m(d,l=t,l),A.update((()=>t.map((e=>e.UID))))}(),v(),n(8,c=!1)},Q().$$.on_mount.push(h);return e.$$.update=()=>{257&e.$$.dirty&&(!l.length&&c||(g(function(){let e=[];return l.forEach((t=>{e.push(t.UID)})),e}()),v()))},[l,s,r,o,i,d,p,b,c,e=>b(e),()=>m(p,o=!0,o),function(e){le[e?"unshift":"push"]((()=>{s=e,n(1,s)}))}]}var gn=class extends Pe{constructor(e){super(),je(this,e,vn,bn,a,{})}};Ge(!1);function yn(e){let t,n,r,o;return t=new rn({}),r=new gn({}),{c(){Ee(t.$$.fragment),n=O(),Ee(r.$$.fragment)},m(e,l){De(t,e,l),E(e,n,l),De(r,e,l),o=!0},p:l,i(e){o||($e(t.$$.fragment,e),$e(r.$$.fragment,e),o=!0)},o(e){we(t.$$.fragment,e),we(r.$$.fragment,e),o=!1},d(e){e&&D(n),Be(t,e),Be(r,e)}}}function $n(e,t,n){let l,r,{maxDepth:o}=t,{width:s}=t,{attributes:c}=t,{contextPath:i}=t,{vocabularyUrl:a}=t,{mode:u="browse"}=t,{basePath:d=""}=t,{selectableTypes:A=[]}=t,{maximumSelectionSize:p=-1}=t,{separator:h}=t,{selection:b=[]}=t,{query:v={}}=t,{fieldId:g}=t,{upload:y}=t,{favorites:$}=t,{recentlyUsed:w}=t,{recentlyUsedKey:k}=t,{recentlyUsedMaxItems:x}=t,{bSize:C=20}=t;const _=Oe.A.getLogger("pat-contentbrowser");ee("currentPath",Ge("")),ee("config",Ge({})),ee("pathCache",Ge({})),ee("selectedItems",Ge([])),ee("showContentBrowser",Ge(!1)),ee("selectedUids",Ge([])),ee("previewUids",Ge([]));const I=te("currentPath");f(e,I,(e=>n(22,r=e))),r||m(I,r=d||"/",r);const U=document.body.getAttribute("data-portal-url");let S=te("config");return f(e,S,(e=>n(21,l=e))),m(S,l={mode:u,attributes:c,contextPath:i,vocabularyUrl:a,width:s,maxDepth:o,basePath:d,selectableTypes:A,maximumSelectionSize:p,separator:h,selection:b,query:v,fieldId:g,uploadEnabled:y,favorites:$,recentlyUsed:w,recentlyUsedKey:k,recentlyUsedMaxItems:x,base_url:U,pageSize:C},l),_.debug(`Initialized App<${g}> with config ${JSON.stringify(l)}`),e.$$set=e=>{"maxDepth"in e&&n(2,o=e.maxDepth),"width"in e&&n(3,s=e.width),"attributes"in e&&n(4,c=e.attributes),"contextPath"in e&&n(5,i=e.contextPath),"vocabularyUrl"in e&&n(6,a=e.vocabularyUrl),"mode"in e&&n(7,u=e.mode),"basePath"in e&&n(8,d=e.basePath),"selectableTypes"in e&&n(9,A=e.selectableTypes),"maximumSelectionSize"in e&&n(10,p=e.maximumSelectionSize),"separator"in e&&n(11,h=e.separator),"selection"in e&&n(12,b=e.selection),"query"in e&&n(13,v=e.query),"fieldId"in e&&n(14,g=e.fieldId),"upload"in e&&n(15,y=e.upload),"favorites"in e&&n(16,$=e.favorites),"recentlyUsed"in e&&n(17,w=e.recentlyUsed),"recentlyUsedKey"in e&&n(18,k=e.recentlyUsedKey),"recentlyUsedMaxItems"in e&&n(19,x=e.recentlyUsedMaxItems),"bSize"in e&&n(20,C=e.bSize)},[I,S,o,s,c,i,a,u,d,A,p,h,b,v,g,y,$,w,k,x,C]}var wn=class extends Pe{constructor(e){super(),je(this,e,$n,yn,a,{maxDepth:2,width:3,attributes:4,contextPath:5,vocabularyUrl:6,mode:7,basePath:8,selectableTypes:9,maximumSelectionSize:10,separator:11,selection:12,query:13,fieldId:14,upload:15,favorites:16,recentlyUsed:17,recentlyUsedKey:18,recentlyUsedMaxItems:19,bSize:20})}}}}]);
//# sourceMappingURL=34221.fa6983ac2d12ba2c0b94.min.js.map