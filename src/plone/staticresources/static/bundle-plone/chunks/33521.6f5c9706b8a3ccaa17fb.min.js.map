{"version":3,"file":"chunks/33521.6f5c9706b8a3ccaa17fb.min.js","mappings":";sNAGe,MAAMA,EACjBC,YAAYC,GACRC,KAAKD,GAAKA,CACb,CAEDE,OACI,iCAGAC,IAAE,gCAAiCF,KAAKD,IAAII,OAAM,SAAUC,GACxD,IAAIC,EAAWH,IAAE,uCAAwCF,KAAKD,IAC9D,GAAwB,IAApBM,EAASC,OAAc,CACvBF,EAAEG,iBACFL,IAAEF,MAAMQ,YAAY,cACpB,IAAIC,EAAYP,IAAE,IAAKG,EAASK,QAAQ,OACpCC,EAAMT,IACN,YAAmBO,EAAUG,KAAK,QAAlC,kBACFC,SAAS,QACC,IAAIC,EAAAA,EAAMH,EAAK,CACvBI,cAAe,CACXC,gBAAgB,KAGxBL,EAAIR,OACP,CACJ,IAGDD,IAAE,iCAAkCF,KAAKD,IAAII,OAAM,SAAUC,GACzD,IACIa,EADAC,EAAQ,EAEZhB,IAAE,WAAYF,KAAKD,IACdW,QAAQ,MACRS,IAAI,iBACJC,MAAK,WACFF,GAASG,SAASnB,IAAE,sBAAuBF,MAAMsB,OAAOC,OAC3D,IAEDN,EADAC,EAEI,iIAEE,+CAELM,OAAOC,QAAQR,KAChBf,IAAEF,MAAMQ,YAAY,cACpBJ,EAAEG,iBAET,IAGDL,IAAE,QAAQwB,GAAG,SAAU,uBAAuB,WAC1C,IAAIC,EAAKzB,IAAAA,oCAAsCA,IAAEF,MAAM4B,OACvD1B,IAAE,oBAAoB0B,IAAID,EAC7B,GACJ,E","sources":["webpack://plone.staticresources/./node_modules/@plone/mockup/src/pat/controlpanels/dexterity-types-listing--implementation.js"],"sourcesContent":["import $ from \"jquery\";\nimport Modal from \"../modal/modal\";\n\nexport default class DexterityTypesListing {\n    constructor(el) {\n        this.el = el;\n    }\n\n    init() {\n        import(\"./schemaeditor--implementation\"); // register plone_schemaeditor_normalize_string method.\n\n        // Button Clone\n        $(\"#crud-edit-form-buttons-clone\", this.el).click(function (e) {\n            var selected = $(\"input[id$=-widgets-select-0]:checked\", this.el);\n            if (selected.length === 1) {\n                e.preventDefault();\n                $(this).removeClass(\"submitting\");\n                var type_link = $(\"a\", selected.closest(\"tr\"));\n                var $el = $(\n                    \"<\" + 'a href=\"' + type_link.attr(\"href\") + '/@@clone\"><' + \"/a>\"\n                ).appendTo(\"body\");\n                var modal = new Modal($el, {\n                    actionOptions: {\n                        displayInModal: false,\n                    },\n                });\n                $el.click();\n            }\n        });\n\n        // Button delete\n        $(\"#crud-edit-form-buttons-delete\", this.el).click(function (e) {\n            var items = 0,\n                msg;\n            $(\"td.count\", this.el)\n                .closest(\"tr\")\n                .has(\"input:checked\")\n                .each(function () {\n                    items += parseInt($(\"td.count .int-field\", this).html().trim());\n                });\n            if (items) {\n                msg =\n                    \"WARNING: There are existing instances of these content types which will break.\\n\\nAre you sure you want to delete these types?\";\n            } else {\n                msg = \"Are you sure you want to delete these types?\";\n            }\n            if (!window.confirm(msg)) {\n                $(this).removeClass(\"submitting\");\n                e.preventDefault();\n            }\n        });\n\n        // set id from title\n        $(\"body\").on(\"change\", \"#form-widgets-title\", function () {\n            var id = $.plone_schemaeditor_normalize_string($(this).val());\n            $(\"#form-widgets-id\").val(id);\n        });\n    }\n}\n"],"names":["DexterityTypesListing","constructor","el","this","init","$","click","e","selected","length","preventDefault","removeClass","type_link","closest","$el","attr","appendTo","Modal","actionOptions","displayInModal","msg","items","has","each","parseInt","html","trim","window","confirm","on","id","val"],"sourceRoot":""}