{"version":3,"file":"chunks/77100.60e342046f6add83048a.min.js","mappings":"iOAIe,MAAMA,EACjB,WAAAC,CAAYC,GACRC,KAAKD,GAAKA,CACd,CACA,UAAAE,GACI,IAAE,oBAAoBC,MAAK,WACvB,IAAIC,EAAM,IAAEH,MACRI,EAAU,CACVC,cAAe,CACXC,gBAAgB,EAChBC,qBAAqB,EAErBC,UAAW,SAAUC,GACjB,IAAE,mCAAmCC,QAAQ,SACjD,IAGRP,EAAIQ,SAAS,aACb,IAAI,IAAMR,EAAKC,EACnB,GACJ,CAEA,IAAAQ,GACI,IAAIC,EAAOb,KACXa,EAAKZ,aACL,IAAE,qBAAqBa,GAAG,QAAS,kBAAkB,WACjDC,SAASC,cAAc,8BAA8BC,MAAQ,GAC7DF,SACKC,cAAc,yDACdE,OACT,IAEA,IAAE,qBAAqBJ,GAAG,QAAS,gCAAgC,SAAUK,GACzEA,EAAEC,iBACF,IAAIjB,EAAM,IAAEH,MACZ,IAAMqB,QAAQC,OACd,IAAE,iBAAiBC,KACfpB,EAAIqB,KAAK,QAAU,sBACnB,WACIX,EAAKZ,aACL,IAAMoB,QAAQI,MAClB,GAER,IAGA,IAAE,qBAAqBX,GAAG,SAAU,mBAAmB,SAAUK,GAC7DA,EAAEC,iBACF,IAAIjB,EAAM,IAAEH,MACZ,IAAMqB,QAAQC,OACd,IAAE,iBAAiBC,KACf,IAAE,QAAQC,KAAK,iBACX,IACArB,EAAIuB,YACJ,sBACJ,WACIb,EAAKZ,aACL,IAAMoB,QAAQI,MAClB,GAER,IAGA,IAAE,qBAAqBX,GAAG,SAAU,qBAAqB,WACrD,IAAE,mCAAmCJ,QAAQ,SACjD,GACJ,E","sources":["webpack://plone.staticresources/./node_modules/@der-freitag/mockup/src/pat/controlpanels/registry--implementation.js"],"sourcesContent":["import $ from \"jquery\";\nimport utils from \"../../core/utils\";\nimport Modal from \"../modal/modal\";\n\nexport default class ConfigRegistry {\n    constructor(el) {\n        this.el = el;\n    }\n    loadModals() {\n        $(\".recordsEditLink\").each(function () {\n            var $el = $(this);\n            var options = {\n                actionOptions: {\n                    displayInModal: false,\n                    reloadWindowOnClose: false,\n                    // eslint-disable-next-line no-unused-vars\n                    onSuccess: function (modal) {\n                        $(\"#searchrow form#registry-filter\").trigger(\"submit\");\n                    },\n                },\n            };\n            $el.addClass(\"pat-modal\");\n            new Modal($el, options);\n        });\n    }\n\n    init() {\n        var self = this;\n        self.loadModals();\n        $(\"#recordsContainer\").on(\"click\", \"[type='reset']\", function () {\n            document.querySelector('#searchrow input[name=\"q\"]').value = \"\";\n            document\n                .querySelector(\"#searchrow form#registry-filter button[type='submit']\")\n                .click();\n        });\n        /* ajax retrieval of paging */\n        $(\"#recordsContainer\").on(\"click\", \".pagination a, .listingBar a\", function (e) {\n            e.preventDefault();\n            var $el = $(this);\n            utils.loading.show();\n            $(\"#recordsTable\").load(\n                $el.attr(\"href\") + \" #recordsTable > *\",\n                function () {\n                    self.loadModals();\n                    utils.loading.hide();\n                }\n            );\n        });\n\n        /* ajax form submission */\n        $(\"#recordsContainer\").on(\"submit\", \"#searchrow form\", function (e) {\n            e.preventDefault();\n            var $el = $(this);\n            utils.loading.show();\n            $(\"#recordsTable\").load(\n                $(\"body\").attr(\"data-base-url\") +\n                    \"?\" +\n                    $el.serialize() +\n                    \" #recordsTable > *\",\n                function () {\n                    self.loadModals();\n                    utils.loading.hide();\n                }\n            );\n        });\n\n        /* force submit on select change */\n        $(\"#recordsContainer\").on(\"change\", \"#searchrow select\", function () {\n            $(\"#searchrow form#registry-filter\").trigger(\"submit\");\n        });\n    }\n}\n"],"names":["ConfigRegistry","constructor","el","this","loadModals","each","$el","options","actionOptions","displayInModal","reloadWindowOnClose","onSuccess","modal","trigger","addClass","init","self","on","document","querySelector","value","click","e","preventDefault","loading","show","load","attr","hide","serialize"],"sourceRoot":""}