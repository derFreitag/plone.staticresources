{"version":3,"file":"chunks/tinymce.86680431c90a3df8de95.min.js","mappings":"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,KAAKC,MAAMC,QAAQ,6BAEtC+pF,GAAc,wBAgClB,IA8uBIC,GA9uBAC,GAAa,aACbC,GAAgB,CAClB,CACE78F,KAAM48F,GACNhjG,KAAM,cACNhE,MAAO,WAET,CACEoK,KAAM48F,GACNhjG,KAAM,eACNhE,MAAO,WAET,CACEoK,KAAM48F,GACNhjG,KAAM,YACNhE,MAAO,WAET,CACEoK,KAAM48F,GACNhjG,KAAM,eACNhE,MAAO,WAET,CACEoK,KAAM48F,GACNhjG,KAAM,aACNhE,MAAO,WAET,CACEoK,KAAM48F,GACNhjG,KAAM,QACNhE,MAAO,WAET,CACEoK,KAAM48F,GACNhjG,KAAM,SACNhE,MAAO,WAET,CACEoK,KAAM48F,GACNhjG,KAAM,MACNhE,MAAO,WAET,CACEoK,KAAM48F,GACNhjG,KAAM,SACNhE,MAAO,WAET,CACEoK,KAAM48F,GACNhjG,KAAM,OACNhE,MAAO,WAET,CACEoK,KAAM48F,GACNhjG,KAAM,iBACNhE,MAAO,WAET,CACEoK,KAAM48F,GACNhjG,KAAM,SACNhE,MAAO,WAET,CACEoK,KAAM48F,GACNhjG,KAAM,WACNhE,MAAO,WAET,CACEoK,KAAM48F,GACNhjG,KAAM,cACNhE,MAAO,WAET,CACEoK,KAAM48F,GACNhjG,KAAM,YACNhE,MAAO,WAET,CACEoK,KAAM48F,GACNhjG,KAAM,aACNhE,MAAO,WAET,CACEoK,KAAM48F,GACNhjG,KAAM,cACNhE,MAAO,WAET,CACEoK,KAAM48F,GACNhjG,KAAM,OACNhE,MAAO,WAET,CACEoK,KAAM48F,GACNhjG,KAAM,YACNhE,MAAO,WAET,CACEoK,KAAM48F,GACNhjG,KAAM,YACNhE,MAAO,WAET,CACEoK,KAAM48F,GACNhjG,KAAM,QACNhE,MAAO,WAET,CACEoK,KAAM48F,GACNhjG,KAAM,QACNhE,MAAO,YAGPknG,GAhJJ,SAAqB90E,QACP,IAARA,IACFA,EAAM,IAER,IAEsB6gB,EAFlBk0D,EAAgBN,GAASxU,QAAQyU,IACjCM,EAAe7sF,EAAS4sF,GAAiBp1F,KAAKC,MAAMm1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ChC,IAAIsmG,EAA+B,iBAAV14H,EAAqB8xB,WAAW9xB,GAASA,EAMlE,OALI04H,EAActmG,EAChBsmG,EAActmG,EACLsmG,EAAc77E,IACvB67E,EAAc77E,GAET67E,CACT,EA8BIC,GAAc,CAChB,EACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,EACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,IACA,KACA,EACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,EACA,IACA,IACA,IACA,IACA,EACA,IACA,IACA,IACA,EACA,IACA,EACA,IACA,IACA,EACA,IACA,IACA,IACA,EACA,IACA,IACA,EACA,IACA,IACA,IACA,IAEEC,GAAW,SAAUC,EAASC,GAIhC,IAHA,IAEI54H,EAFAisG,EAAM,GACN4sB,EAAM,IAAI/+G,MAAM,IAEXzW,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAK,IAAIC,EAAI,EAAGA,EAAI,EAAGA,IACrB2oG,EAAI3oG,GAAKs1H,EAAQt1H,EAAQ,EAAJD,GAEvB,IAASC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1BtD,EAAM,EACN,IAAK,IAAImiB,EAAI,EAAGA,EAAI,EAAGA,IACrBniB,GAAO24H,EAAQr1H,EAAQ,EAAJ6e,GAAS8pF,EAAI9pF,GAElC02G,EAAIv1H,EAAQ,EAAJD,GAASrD,CACnB,CACF,CACA,OAAO64H,CACT,EA2GIC,GAAc,SAAUC,EAAI5hD,GAC9B,OAAO4hD,EAAGhB,WAAW/jC,MAAK,SAAUqS,GAClC,OAAO2yB,GAAiB3yB,EAAQ0yB,EAAGvB,UAAWrgD,EAChD,GACF,EACI6hD,GAAmB,SA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AK2wF,SAC5B,OAAOliE,CAEX,CACF,EACO4gL,CACT,CApEoB,GAmLhBM,GAAa,SAAUhvI,GACzB,IAAIH,EACJ,OAAO,SAAU18D,GAEf,OADA08D,EAASA,GA3jFK,SAAUlgD,EAAIxD,GAE9B,IADA,IAAI2D,EAAI,CAAC,EACA1c,EAAI,EAAG4X,EAAM2E,EAAGze,OAAQkC,EAAI4X,EAAK5X,IAAK,CAC7C,IAAIuW,EAAIgG,EAAGvc,GACX0c,EAAE/F,OAAOJ,IAAMwC,EAAExC,EAAGvW,EACtB,CACA,OAAO0c,CACT,CAojF+BwB,CAAY0+C,EAAOxjD,GACvCyG,GAAM48C,EAAQ7gE,GAAKmE,GAC5B,CACF,EACI8rM,GAAYD,GA/BD,CACb,KACA,KACA,KACA,KACA,KACA,OA0BEE,GAAYF,GArHH,CACX,UACA,QACA,UACA,MACA,KACA,aACA,SACA,OACA,WACA,SACA,SACA,OACA,OACA,MACA,UACA,UACA,OACA,IACA,KACA,WACA,KACA,SACA,UACA,SACA,aACA,KACA,KACA,KACA,KACA,KACA,KACA,UACA,MACA,MACA,YACA,OACA,MACA,KACA,KACA,KACA,KACA,QACA,QACA,QACA,QACA,KACA,KACA,KACA,YAwEEG,GAAa,SAAUhsM,GACzB,OAAOskM,GAAYtkM,KAAU+rM,GAAU/rM,EACzC,EACIisM,GAAS,SAAUjsM,GACrB,OAAOskM,GAAYtkM,IAAwB,OAAfnE,GAAKmE,EACnC,EACIksM,GAAgBL,GAnEH,CACf,KACA,KACA,KACA,KACA,KACA,KACA,IACA,MACA,UACA,MACA,OACA,aACA,SACA,MACA,WACA,SACA,SACA,UACA,UACA,SACA,QACA,MACA,WA6CEM,GAASN,GA9BD,CACV,KACA,KACA,OA4BEO,GAAaP,GApCC,CAChB,KACA,KACA,OAkCEQ,GAAiBR,GA3ED,CAClB,QACA,QACA,UAyEES,GAAgBT,GAhFH,CACf,KACA,OA+EEU,GAAsBV,GA7BT,CACf,MACA,SACA,WACA,UAgCEW,GAAO,IAQPC,GATY,SAUZC,GARW,SAAUv+G,GACvB,MAHc,W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","sources":["webpack://plone.staticresources/./node_modules/@plone/mockup/src/pat/tinymce/js/links.js","webpack://plone.staticresources/./node_modules/@plone/mockup/src/pat/tinymce/tinymce--implementation.js","webpack://plone.staticresources/./node_modules/@plone/mockup/src/pat/tinymce/tinymce.js","webpack://plone.staticresources/./node_modules/@plone/mockup/src/pat/tinymce/tinymce.scss","webpack://plone.staticresources/./node_modules/tinymce/skins/ui/oxide/content.css","webpack://plone.staticresources/./node_modules/tinymce/skins/ui/oxide/skin.css","webpack://plone.staticresources/./node_modules/@plone/mockup/src/pat/tinymce/tinymce.scss?b398","webpack://plone.staticresources/./node_modules/tinymce/skins/ui/oxide/content.css?83e5","webpack://plone.staticresources/./node_modules/tinymce/skins/ui/oxide/skin.css?d86e","webpack://plone.staticresources/./node_modules/tinymce/icons/default/icons.js","webpack://plone.staticresources/./node_modules/tinymce/icons/default/index.js","webpack://plone.staticresources/./node_modules/tinymce/themes/silver/index.js","webpack://plone.staticresources/./node_modules/tinymce/themes/silver/theme.js","webpack://plone.staticresources/./node_modules/tinymce/tinymce.js"],"sourcesContent":["import $ from \"jquery\";\nimport _ from \"underscore\";\nimport Base from \"@patternslib/patternslib/src/core/base\";\nimport registry from \"@patternslib/patternslib/src/core/registry\";\n\nimport tinymce from \"tinymce/tinymce\";\nimport LinkTemplate from \"../templates/link.xml\";\nimport ImageTemplate from \"../templates/image.xml\";\nimport RelatedItems from \"../../relateditems/relateditems\";\nimport \"../../autotoc/autotoc\";\nimport \"../../modal/modal\";\nimport PatternUpload from \"../../upload/upload\";\n\nvar LinkType = Base.extend({\n    name: \"linktype\",\n    trigger: \".pat-linktype-dummy\",\n    defaults: {\n        linkModal: null, // required\n    },\n\n    init: function () {\n        this.linkModal = this.options.linkModal;\n        this.tinypattern = this.options.tinypattern;\n        this.tiny = this.tinypattern.tiny;\n        this.dom = this.tiny.dom;\n    },\n\n    getEl: function () {\n        return this.$el.find(\"input\");\n    },\n\n    value: function () {\n        return $.trim(this.getEl().val());\n    },\n\n    toUrl: function () {\n        return this.value();\n    },\n\n    load: function (element) {\n        let val = this.tiny.dom.getAttrib(element, \"data-val\");\n        this.getEl().attr(\"value\", val);\n    },\n\n    set: function (val) {\n        var $el = this.getEl();\n        $el.attr(\"value\", val);\n        $el.val(val);\n    },\n\n    attributes: function () {\n        return {\n            \"data-val\": this.value(),\n        };\n    },\n    updateRelatedItems: function () {},\n});\n\nvar ExternalLink = LinkType.extend({\n    name: \"externallinktype\",\n    trigger: \".pat-externallinktype-dummy\",\n    init: function () {\n        LinkType.prototype.init.call(this);\n        this.getEl().on(\"change\", function () {\n            // check here if we should automatically add in http:// to url\n            var val = $(this).val();\n            if (new RegExp(\"https?://\").test(val)) {\n                // already valid url\n                return;\n            }\n            var domain = $(this).val().split(\"/\")[0];\n            if (domain.indexOf(\".\") !== -1) {\n                $(this).val(\"http://\" + val);\n            }\n        });\n    },\n});\n\nvar InternalLink = LinkType.extend({\n    name: \"internallinktype\",\n    trigger: \".pat-internallinktype-dummy\",\n    init: function () {\n        if (!this.getEl().length) {\n            return;\n        }\n        LinkType.prototype.init.call(this);\n        this.getEl().addClass(\"pat-relateditems\");\n        this.createRelatedItems();\n    },\n\n    getEl: function () {\n        return this.$el.find(\"input:not(.select2-input)\");\n    },\n\n    createRelatedItems: function () {\n        if (!this.getEl().length) {\n            return;\n        }\n        var options = this.linkModal.options.relatedItems;\n        options.upload = false; // ensure that related items upload is off.\n        this.relatedItems = new RelatedItems(this.getEl(), options);\n    },\n\n    updateRelatedItems: function (val) {\n        if (!this.relatedItems) {\n            // prevent toolbar from being rendered twice\n            this.createRelatedItems();\n        }\n        this.relatedItems.selectItem(val);\n    },\n\n    value: function () {\n        var val = this.getEl().select2(\"data\");\n        if (val && typeof val === \"object\") {\n            val = val[0];\n        }\n        return val;\n    },\n\n    toUrl: function () {\n        var value = this.value();\n        if (value) {\n            return this.tinypattern.generateUrl(value);\n        }\n        return null;\n    },\n    load: function (element) {\n        var val = this.tiny.dom.getAttrib(element, \"data-val\");\n        if (val) {\n            this.set(val);\n        }\n    },\n\n    set: function (val) {\n        var $el = this.getEl();\n        $el.val(val).trigger(\"change\");\n        this.updateRelatedItems(val);\n    },\n\n    attributes: function () {\n        var val = this.value();\n        if (val) {\n            return {\n                \"data-val\": val.UID,\n            };\n        }\n        return {};\n    },\n});\n\nvar UploadLink = LinkType.extend({\n    name: \"uploadlinktype\",\n    trigger: \".pat-uploadlinktype-dummy\",\n    /* need to do it a bit differently here.\n       when a user uploads and tries to upload from\n       it, you need to delegate to the real insert\n       linke types */\n    getDelegatedLinkType: function () {\n        if (this.linkModal.linkType === \"uploadImage\") {\n            return this.linkModal.linkTypes.image;\n        } else {\n            return this.linkModal.linkTypes.internal;\n        }\n    },\n    toUrl: function () {\n        return this.getDelegatedLinkType().toUrl();\n    },\n    attributes: function () {\n        return this.getDelegatedLinkType().attributes();\n    },\n    set: function (val) {\n        return this.getDelegatedLinkType().set(val);\n    },\n    load: function (element) {\n        return this.getDelegatedLinkType().load(element);\n    },\n    value: function () {\n        return this.getDelegatedLinkType().value();\n    },\n});\n\nvar ImageLink = InternalLink.extend({\n    name: \"imagelinktype\",\n    trigger: \".pat-imagelinktype-dummy\",\n    toUrl: function () {\n        var value = this.value();\n        return this.tinypattern.generateImageUrl(\n            value,\n            this.linkModal.getScaleFromSrcset(this.linkModal.$scale.val())\n        );\n    },\n});\n\nvar EmailLink = LinkType.extend({\n    name: \"emaillinktype\",\n    trigger: \".pat-emaillinktype-dummy\",\n    toUrl: function () {\n        var self = this;\n        var val = self.value();\n        if (val) {\n            var subject = self.getSubject();\n            var href = \"mailto:\" + val;\n            if (subject) {\n                href += \"?subject=\" + subject;\n            }\n            return href;\n        }\n        return null;\n    },\n\n    load: function (element) {\n        LinkType.prototype.load.apply(this, [element]);\n        this.linkModal.$subject.val(this.tiny.dom.getAttrib(element, \"data-subject\"));\n    },\n\n    getSubject: function () {\n        return this.linkModal.$subject.val();\n    },\n\n    attributes: function () {\n        var attribs = LinkType.prototype.attributes.call(this);\n        attribs[\"data-subject\"] = this.getSubject();\n        return attribs;\n    },\n});\n\nvar AnchorLink = LinkType.extend({\n    name: \"anchorlinktype\",\n    trigger: \".pat-anchorlinktype-dummy\",\n    init: function () {\n        LinkType.prototype.init.call(this);\n        this.$select = this.$el.find(\"select\");\n        this.anchorNodes = [];\n        this.anchorData = [];\n        this.populate();\n    },\n\n    value: function () {\n        var val = this.$select.select2(\"data\");\n        if (val && typeof val === \"object\") {\n            val = val.id;\n        }\n        return val;\n    },\n\n    populate: function () {\n        var self = this;\n        self.$select.find(\"option\").remove();\n        self.anchorNodes = [];\n        self.anchorData = [];\n        var node, i, j, name, title;\n\n        var nodes = self.tiny.dom.select(\".mceItemAnchor,.mce-item-anchor\");\n        for (i = 0; i < nodes.length; i = i + 1) {\n            node = nodes[i];\n            name = self.tiny.dom.getAttrib(node, \"name\");\n            if (!name) {\n                name = self.tiny.dom.getAttrib(node, \"id\");\n            }\n            if (name !== \"\") {\n                self.anchorNodes.push(node);\n                self.anchorData.push({ name: name, title: name });\n            }\n        }\n\n        nodes = self.tiny.dom.select(self.linkModal.options.anchorSelector);\n        if (nodes.length > 0) {\n            for (i = 0; i < nodes.length; i = i + 1) {\n                node = nodes[i];\n                title = $(node)\n                    .text()\n                    .replace(/^\\s+|\\s+$/g, \"\");\n                if (title === \"\") {\n                    continue;\n                }\n                name = title.toLowerCase().substring(0, 1024);\n                name = name.replace(/[^a-z0-9]/g, \"-\");\n                /* okay, ugly, but we need to first check that this anchor isn't already available */\n                var found = false;\n                for (j = 0; j < self.anchorNodes.length; j = j + 1) {\n                    var anode = self.anchorData[j];\n                    if (anode.name === name) {\n                        found = true;\n                        // so it's also found, let's update the title to be more presentable\n                        anode.title = title;\n                        break;\n                    }\n                }\n                if (!found) {\n                    self.anchorData.push({\n                        name: name,\n                        title: title,\n                        newAnchor: true,\n                    });\n                    self.anchorNodes.push(node);\n                }\n            }\n        }\n        if (self.anchorNodes.length > 0) {\n            for (i = 0; i < self.anchorData.length; i = i + 1) {\n                var data = self.anchorData[i];\n                self.$select.append(\n                    '<option value=\"' + i + '\">' + data.title + \"</option>\"\n                );\n            }\n        } else {\n            self.$select.append(\"<option>No anchors found..</option>\");\n        }\n    },\n\n    getIndex: function (name) {\n        for (var i = 0; i < this.anchorData.length; i = i + 1) {\n            var data = this.anchorData[i];\n            if (data.name === name) {\n                return i;\n            }\n        }\n        return 0;\n    },\n\n    toUrl: function () {\n        var val = this.value();\n        if (val) {\n            var index = parseInt(val, 10);\n            var node = this.anchorNodes[index];\n            var data = this.anchorData[index];\n            if (data.newAnchor) {\n                node.innerHTML =\n                    '<a name=\"' +\n                    data.name +\n                    '\" class=\"mce-item-anchor\"></a>' +\n                    node.innerHTML;\n            }\n            return \"#\" + data.name;\n        }\n        return null;\n    },\n\n    set: function (val) {\n        var anchor = this.getIndex(val);\n        this.$select.select2(\"data\", \"\" + anchor);\n    },\n});\n\ntinymce.PluginManager.add(\"ploneimage\", function (editor) {\n    editor.ui.registry.addButton(\"ploneimage\", {\n        icon: \"image\",\n        text: \"Insert image\",\n        tooltip: \"Insert/edit image\",\n        onAction: editor.settings.addImageClicked,\n        // stateSelector: \"img:not([data-mce-object])\",\n    });\n});\n\n/* register the tinymce plugin */\ntinymce.PluginManager.add(\"plonelink\", function (editor) {\n    editor.ui.registry.addButton(\"plonelink\", {\n        icon: \"link\",\n        tooltip: \"Insert/edit link\",\n        shortcut: \"Ctrl+K\",\n        onAction: editor.settings.addLinkClicked,\n        stateSelector: \"a[href]\",\n    });\n\n    editor.ui.registry.addButton(\"unlink\", {\n        icon: \"unlink\",\n        tooltip: \"Remove link\",\n        onAction: function () {\n            editor.execCommand(\"unlink\");\n        },\n        stateSelector: \"a[href]\",\n    });\n\n    // editor.ui.registry.addButton(\"Ctrl+K\", \"\", editor.settings.addLinkClicked);\n\n    // editor.ui.registry.addButton(\"plonelink\", {\n    //     icon: \"link\",\n    //     text: \"Insert link\",\n    //     shortcut: \"Ctrl+K\",\n    //     onAction: editor.settings.addLinkClicked,\n    //     stateSelector: \"a[href]\",\n    //     context: \"insert\",\n    //     prependToContext: true,\n    // });\n});\n\nexport default Base.extend({\n    name: \"linkmodal\",\n    trigger: \".pat-linkmodal\",\n    defaults: {\n        anchorSelector: \"h1,h2,h3\",\n        linkTypes: [\n            /* available, none activate by default because these options\n         * only get merged, not set.\n        'internal',\n        'upload',\n        'external',\n        'email',\n        'anchor',\n        'image'\n        'externalImage'*/\n        ],\n        initialLinkType: \"internal\",\n        text: {\n            insertHeading: \"Insert Link\",\n        },\n        linkTypeClassMapping: {\n            internal: InternalLink,\n            upload: UploadLink,\n            external: ExternalLink,\n            email: EmailLink,\n            anchor: AnchorLink,\n            image: ImageLink,\n            uploadImage: UploadLink,\n            externalImage: LinkType,\n        },\n    },\n    // XXX: this is a temporary work around for having separated templates.\n    // Image modal is going to have its own modal class, funcs and template.\n    linkTypeTemplateMapping: {\n        internal: LinkTemplate,\n        upload: LinkTemplate,\n        external: LinkTemplate,\n        email: LinkTemplate,\n        anchor: LinkTemplate,\n        image: ImageTemplate,\n        uploadImage: ImageTemplate,\n        externalImage: ImageTemplate,\n    },\n\n    template: function (data) {\n        return _.template(this.linkTypeTemplateMapping[this.linkType])(data);\n    },\n\n    init: function () {\n        var self = this;\n        self.tinypattern = self.options.tinypattern;\n        if (self.tinypattern.options.anchorSelector) {\n            self.options.anchorSelector = self.tinypattern.options.anchorSelector;\n        }\n        self.tiny = self.tinypattern.tiny;\n        self.dom = self.tiny.dom;\n        self.linkType = self.options.initialLinkType;\n        self.linkTypes = {};\n        self.modal = registry.patterns[\"plone-modal\"].init(self.$el, {\n            html: self.generateModalHtml(),\n            content: null,\n            buttons: \".plone-btn\",\n            reloadWindowOnClose: false,\n            templateOptions: {\n                classDialog: \"modal-dialog modal-lg\",\n                reloadWindowOnClose: false,\n            },\n            actionOptions: { reloadWindowOnClose: false },\n            backdropOptions: {\n                zIndex: \"1340\",\n                closeOnClick: false\n            },\n        });\n        self.modal.on(\"shown\", (e) => {\n            self.modalShown.apply(self, [e]);\n        });\n    },\n\n    isOnlyTextSelected: function () {\n        /* pulled from TinyMCE link plugin */\n        var html = this.tiny.selection.getContent();\n\n        // Partial html and not a fully selected anchor element\n        if (\n            /</.test(html) &&\n            (!/^<a [^>]+>[^<]+<\\/a>$/.test(html) || html.indexOf(\"href=\") === -1)\n        ) {\n            return false;\n        }\n\n        if (this.anchorElm) {\n            var nodes = this.anchorElm.childNodes,\n                i;\n\n            if (nodes.length === 0) {\n                return false;\n            }\n\n            for (var ii = nodes.length - 1; ii >= 0; ii--) {\n                if (nodes[ii].nodeType !== 3) {\n                    return false;\n                }\n            }\n        }\n\n        return true;\n    },\n\n    generateModalHtml: function () {\n        return this.template({\n            options: this.options,\n            upload: this.options.upload,\n            text: this.options.text,\n            insertHeading: this.options.text.insertHeading,\n            insertImageHelp: this.options.text.insertImageHelp,\n            uploadText: this.options.text.upload,\n            insertLinkHelp: this.options.text.insertLinkHelp,\n            internal: this.options.text.internal,\n            external: this.options.text.external,\n            anchor: this.options.text.anchor,\n            anchorLabel: this.options.text.anchorLabel,\n            target: this.options.text.target,\n            linkTypes: this.options.linkTypes,\n            externalText: this.options.text.externalText,\n            emailText: this.options.text.email,\n            subjectText: this.options.text.subject,\n            targetList: this.options.targetList,\n            titleText: this.options.text.title,\n            internalImageText: this.options.text.internalImage,\n            externalImage: this.options.text.externalImage,\n            externalImageText: this.options.text.externalImageText,\n            altText: this.options.text.alt,\n            imageAlignText: this.options.text.imageAlign,\n            captionFromDescriptionText: this.options.text.captionFromDescription,\n            enableImageZoom: this.options.text.enableImageZoom,\n            captionText: this.options.text.caption,\n            scaleText: this.options.text.scale,\n            pictureVariants: this.options.pictureVariants,\n            imageCaptioningEnabled: this.options.imageCaptioningEnabled,\n            cancelBtn: this.options.text.cancelBtn,\n            insertBtn: this.options.text.insertBtn,\n        });\n    },\n\n    isImageMode: function () {\n        return [\"image\", \"uploadImage\", \"externalImage\"].indexOf(this.linkType) !== -1;\n    },\n\n    initElements: function () {\n        var self = this;\n        self.$target = $('select[name=\"target\"]', self.modal.$modal);\n        self.$button = $('.modal-footer input[name=\"insert\"]', self.modal.$modal);\n        self.$title = $('input[name=\"title\"]', self.modal.$modal);\n        self.$subject = $('input[name=\"subject\"]', self.modal.$modal);\n\n        self.$alt = $('input[name=\"alt\"]', self.modal.$modal);\n        self.$align = $('select[name=\"align\"]', self.modal.$modal);\n        self.$scale = $('select[name=\"scale\"]', self.modal.$modal);\n        self.$enableImageZoom = $('input[name=\"enableImageZoom\"]', self.modal.$modal);\n        self.$captionFromDescription = $(\n            'input[name=\"captionFromDescription\"]',\n            self.modal.$modal\n        );\n        self.$caption = $('textarea[name=\"caption\"]', self.modal.$modal);\n\n        /* load up all the link types */\n        _.each(self.options.linkTypes, function (type) {\n            var $container = $(\".linkType.\" + type + \" .main\", self.modal.$modal);\n            if ($container.length) {\n                self.linkTypes[type] = new self.options.linkTypeClassMapping[type](\n                    $container,\n                    {\n                        linkModal: self,\n                        tinypattern: self.tinypattern,\n                    }\n                );\n            }\n        });\n\n        $(\".autotoc-nav a\", self.modal.$modal).click(function () {\n            var $fieldset = $(\"fieldset.linkType\", self.modal.$modal).eq(\n                $(this).index()\n            );\n            var classes = $fieldset[0].className.split(/\\s+/);\n            _.each(classes, function (val) {\n                if (_.indexOf(self.options.linkTypes, val) !== -1) {\n                    self.linkType = val;\n                }\n            });\n        });\n\n        self.$captionFromDescription.change(function () {\n            if (this.checked) {\n                self.$caption.prop(\"disabled\", true);\n            } else {\n                self.$caption.prop(\"disabled\", false);\n            }\n        });\n    },\n\n    getLinkUrl: function () {\n        // get the url, only get one uid\n        return this.linkTypes[this.linkType].toUrl();\n    },\n\n    getValue: function () {\n        return this.linkTypes[this.linkType].value();\n    },\n\n    updateAnchor: function (href) {\n        var self = this;\n\n        self.tiny.focus();\n        self.tiny.selection.setRng(self.rng);\n\n        var target = self.$target.val();\n        var title = self.$title.val();\n        var linkAttrs = $.extend(\n            true,\n            self.data,\n            {\n                \"title\": title ? title : null,\n                \"target\": target ? target : null,\n                \"data-linkType\": self.linkType,\n                \"href\": href,\n            },\n            self.linkTypes[self.linkType].attributes()\n        );\n        if (self.anchorElm) {\n            if (self.onlyText && linkAttrs.text !== self.initialText) {\n                if (\"innerText\" in self.anchorElm) {\n                    self.anchorElm.innerText = self.data.text;\n                } else {\n                    self.anchorElm.textContent = self.data.text;\n                }\n            }\n\n            self.tiny.dom.setAttribs(self.anchorElm, linkAttrs);\n\n            self.tiny.selection.select(self.anchorElm);\n            self.tiny.undoManager.add();\n        } else {\n            if (self.onlyText) {\n                self.tiny.insertContent(\n                    self.tiny.dom.createHTML(\n                        \"a\",\n                        linkAttrs,\n                        self.tiny.dom.encode(self.data.text)\n                    )\n                );\n            } else {\n                self.tiny.execCommand(\"mceInsertLink\", false, linkAttrs);\n            }\n        }\n    },\n\n    focusElement: function (elm) {\n        this.tiny.focus();\n        this.tiny.selection.select(elm);\n        this.tiny.nodeChanged();\n    },\n\n    getScaleFromSrcset: function (pictureVariant) {\n        let pictureVariantsConfig = this.options.pictureVariants[pictureVariant];\n        return pictureVariantsConfig.sourceset[\n            pictureVariantsConfig.sourceset.length - 1\n        ].scale;\n    },\n\n    updateImage: function (src) {\n        var self = this;\n        var title = self.$title.val();\n        var captionFromDescription = self.$captionFromDescription.prop(\"checked\");\n        var enableImageZoom = self.$enableImageZoom.prop(\"checked\");\n        var caption = self.$caption.val();\n\n        self.tiny.focus();\n        self.tiny.selection.setRng(self.rng);\n        var cssclasses = [\n            \"image-richtext\",\n            self.$align.val(),\n            \"picture-variant-\" + self.$scale.val(),\n        ];\n        if (captionFromDescription || caption) {\n            cssclasses.push(\"captioned\");\n        }\n        if (enableImageZoom) {\n            cssclasses.push(\"zoomable\");\n        }\n        var data = $.extend(\n            true,\n            {},\n            {\n                \"src\": src,\n                \"title\": title ? title : null,\n                \"alt\": self.$alt.val(),\n                \"class\": cssclasses.join(\" \"),\n                \"data-linkType\": self.linkType,\n                \"data-picturevariant\": self.$scale.val(),\n                \"data-scale\": self.getScaleFromSrcset(self.$scale.val()),\n            },\n            self.linkTypes[self.linkType].attributes()\n        );\n        if (caption && !captionFromDescription) {\n            data[\"data-captiontext\"] = caption;\n        }\n        if (self.imgElm && !self.imgElm.getAttribute(\"data-mce-object\")) {\n            const imgWidth = self.dom.getAttrib(self.imgElm, \"width\");\n            const imgHight = self.dom.getAttrib(self.imgElm, \"height\");\n            if (imgWidth) {\n                data.width = imgWidth;\n            }\n            if (imgHight) {\n                data.height = imgHight;\n            }\n        } else {\n            self.imgElm = null;\n        }\n\n        function waitLoad(imgElm) {\n            imgElm.onload = imgElm.onerror = function () {\n                imgElm.onload = imgElm.onerror = null;\n                self.focusElement(imgElm);\n            };\n        }\n\n        if (self.imgElm) {\n            self.dom.remove(self.imgElm);\n        }\n\n        data.id = \"__mcenew\";\n        var html_inner = self.dom.createHTML(\"img\", data);\n        var html_string;\n        html_string = html_inner;\n        self.tiny.insertContent(html_string);\n        self.imgElm = self.dom.get(\"__mcenew\");\n        self.dom.setAttrib(self.imgElm, \"id\", null);\n\n        waitLoad(self.imgElm);\n        if (self.imgElm.complete) {\n            self.focusElement(self.imgElm);\n        }\n    },\n\n    modalShown: function (e) {\n        var self = this;\n        self.initElements();\n        self.initData();\n        // upload init\n        if (self.options.upload) {\n            self.$upload = $(\".uploadify-me\", self.modal.$modal);\n            self.options.upload.relatedItems = $.extend(\n                true,\n                {},\n                self.options.relatedItems\n            );\n            self.options.upload.relatedItems.selectableTypes = self.options.folderTypes;\n            self.$upload.addClass(\"pat-upload\");\n            new PatternUpload(self.$upload, self.options.upload);\n            self.$upload.on(\n                \"uploadAllCompleted\",\n                function (evt, data) {\n                    if (self.linkTypes.image) {\n                        self.linkTypes.image.set(data.data.UID);\n                        $(\n                            \"#\" + $(\"#tinylink-image\", self.modal.$modal).data(\"navref\")\n                        ).trigger(\"click\");\n                    } else {\n                        self.linkTypes.internal.set(data.data.UID);\n                        $(\n                            \"#\" +\n                                $(\"#tinylink-internal\", self.modal.$modal).data(\"navref\")\n                        ).trigger(\"click\");\n                    }\n                }.bind(self)\n            );\n        }\n\n        self.$button.off(\"click\").on(\"click\", function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n            self.linkType = self.modal.$modal.find(\"fieldset.active\").data(\"linktype\");\n\n            if (self.linkType === \"uploadImage\" || self.linkType === \"upload\") {\n                var patUpload = self.$upload.data().patternUpload;\n                if (patUpload.dropzone.files.length > 0) {\n                    patUpload.processUpload();\n                    self.$upload.on(\"uploadAllCompleted\", function (evt, data) {\n                        var counter = 0;\n                        var checkUpload = function () {\n                            if (counter < 5 && !self.linkTypes[self.linkType].value()) {\n                                counter += 1;\n                                setTimeout(checkUpload, 100);\n                                return;\n                            } else {\n                                var href = self.getLinkUrl();\n                                self.updateImage(href);\n                                self.hide();\n                            }\n                        };\n                        checkUpload();\n                    });\n                }\n            }\n            var href;\n            try {\n                href = self.getLinkUrl();\n            } catch (error) {\n                return; // just cut out if no url\n            }\n            if (!href) {\n                return; // just cut out if no url\n            }\n            if (self.isImageMode()) {\n                self.updateImage(href);\n            } else {\n                /* regular anchor */\n                self.updateAnchor(href);\n            }\n            self.hide();\n        });\n        $('.modal-footer input[name=\"cancel\"]', self.modal.$modal).click(function (e) {\n            e.preventDefault();\n            self.hide();\n        });\n    },\n\n    show: function () {\n        this.modal.show();\n    },\n\n    hide: function () {\n        this.modal.hide();\n    },\n\n    initData: function () {\n        var self = this;\n\n        self.data = {};\n        // get selection BEFORE..\n        // This is pulled from TinyMCE link plugin\n        self.initialText = null;\n        var value;\n        self.rng = self.tiny.selection.getRng();\n        self.selectedElm = self.tiny.selection.getNode();\n        self.anchorElm = self.tiny.dom.getParent(self.selectedElm, \"a[href]\");\n        self.onlyText = self.isOnlyTextSelected();\n\n        self.data.text = self.initialText = self.anchorElm\n            ? self.anchorElm.innerText || self.anchorElm.textContent\n            : self.tiny.selection.getContent({ format: \"text\" });\n        self.data.href = self.anchorElm\n            ? self.tiny.dom.getAttrib(self.anchorElm, \"href\")\n            : \"\";\n\n        if (self.anchorElm) {\n            self.data.target = self.tiny.dom.getAttrib(self.anchorElm, \"target\");\n        } else if (self.tiny.settings.default_link_target) {\n            self.data.target = self.tiny.settings.default_link_target;\n        }\n\n        if ((value = self.tiny.dom.getAttrib(self.anchorElm, \"rel\"))) {\n            self.data.rel = value;\n        }\n\n        if ((value = self.tiny.dom.getAttrib(self.anchorElm, \"class\"))) {\n            self.data[\"class\"] = value;\n        }\n\n        if ((value = self.tiny.dom.getAttrib(self.anchorElm, \"title\"))) {\n            self.data.title = value;\n        }\n\n        self.tiny.focus();\n        self.anchorElm = self.dom.getParent(self.selectedElm, \"a[href]\");\n\n        var linkType;\n        if (self.isImageMode()) {\n            var img;\n            img = self.selectedElm;\n            self.imgElm = img;\n\n            var src = self.dom.getAttrib(self.imgElm, \"src\");\n            var captionText = self.dom.getAttrib(self.imgElm, \"data-captiontext\");\n            self.$title.val(self.dom.getAttrib(self.imgElm, \"title\"));\n            self.$alt.val(self.dom.getAttrib(self.imgElm, \"alt\"));\n\n            if ($(self.imgElm).hasClass(\"zoomable\")) {\n                self.$enableImageZoom.prop(\"checked\", true);\n            }\n            if ($(self.imgElm).hasClass(\"captioned\") && !captionText) {\n                self.$captionFromDescription.prop(\"checked\", true);\n                self.$caption.prop(\"disabled\", true);\n            } else if ($(self.imgElm).hasClass(\"captioned\") && captionText) {\n                self.$captionFromDescription.prop(\"checked\", false);\n            } else {\n                self.$captionFromDescription.prop(\"checked\", false);\n            }\n            if (captionText) {\n                self.$caption.val(captionText);\n            }\n\n            linkType = self.dom.getAttrib(self.imgElm, \"data-linktype\");\n            if (linkType && (linkType in self.linkTypes)) {\n                self.linkType = linkType;\n                self.linkTypes[self.linkType].load(self.imgElm);\n                // set scale selection in link modal:\n                var pictureVariant = self.dom.getAttrib(\n                    self.imgElm,\n                    \"data-picturevariant\"\n                );\n                self.$scale.val(pictureVariant);\n                $(\"#tinylink-\" + self.linkType, self.modal.$modal).trigger(\"click\");\n            } else if (src) {\n                self.guessImageLink(src);\n            }\n            var className = self.dom.getAttrib(self.imgElm, \"class\");\n            var klasses = className.split(\" \");\n            for (var i = 0; i < klasses.length; i = i + 1) {\n                var klass = klasses[i];\n                for (var availClass in self.options.imageClasses) {\n                    if (availClass.indexOf(klass) !== -1) {\n                        self.$align.val(klass);\n                    }\n                }\n            }\n        } else if (self.anchorElm) {\n            self.focusElement(self.anchorElm);\n            var href = \"\";\n            href = self.dom.getAttrib(self.anchorElm, \"href\");\n            self.$target.val(self.dom.getAttrib(self.anchorElm, \"target\"));\n            self.$title.val(self.dom.getAttrib(self.anchorElm, \"title\"));\n            linkType = self.dom.getAttrib(self.anchorElm, \"data-linktype\");\n            if (linkType) {\n                self.linkType = linkType;\n                self.linkTypes[self.linkType].load(self.anchorElm);\n                var $panel = $(\"#tinylink-\" + self.linkType, self.modal.$modal);\n                // $('#tinylink-' + self.linkType, self.modal.$modal).trigger('click');\n                if ($panel.length === 1) {\n                    $(\"#\" + $panel.data(\"autotoc-trigger-id\")).trigger(\"click\");\n                }\n            } else if (href) {\n                self.guessAnchorLink(href);\n            }\n        }\n    },\n\n    guessImageLink: function (src) {\n        if (src.indexOf(this.options.prependToScalePart) !== -1) {\n            this.linkType = \"image\";\n            // TODO: use data-scale attribute instead:\n            this.$scale.val(this.tinypattern.getScaleFromUrl(src));\n            this.linkTypes.image.set(this.tinypattern.stripGeneratedUrl(src));\n        } else {\n            this.linkType = \"externalImage\";\n            this.linkTypes.externalImage.set(src);\n        }\n    },\n\n    guessAnchorLink: function (href) {\n        if (\n            this.options.prependToUrl &&\n            href.indexOf(this.options.prependToUrl) !== -1\n        ) {\n            // XXX if using default configuration, it gets more difficult\n            // here to detect internal urls so this might need to change...\n            this.linkType = \"internal\";\n            this.linkTypes.internal.set(this.tinypattern.stripGeneratedUrl(href));\n        } else if (href.indexOf(\"mailto:\") !== -1) {\n            this.linkType = \"email\";\n            var email = href.substring(\"mailto:\".length, href.length);\n            var split = email.split(\"?subject=\");\n            this.linkTypes.email.set(split[0]);\n            if (split.length > 1) {\n                this.$subject.val(decodeURIComponent(split[1]));\n            }\n        } else if (href[0] === \"#\") {\n            this.linkType = \"anchor\";\n            this.linkTypes.anchor.set(href.substring(1));\n        } else {\n            this.linkType = \"external\";\n            this.linkTypes.external.set(href);\n        }\n    },\n\n    setSelectElement: function ($el, val) {\n        $el.find(\"option:selected\").prop(\"selected\", false);\n        if (val) {\n            // update\n            $el.find('option[value=\"' + val + '\"]').prop(\"selected\", true);\n        }\n    },\n\n    reinitialize: function () {\n        /*\n         * This will probably be called before show is run.\n         * It will overwrite the base html template given to\n         * be able to privde default values for the overlay\n         */\n        this.modal.options.html = this.generateModalHtml();\n    },\n});\n","import $ from \"jquery\";\nimport I18n from \"../../core/i18n\";\nimport _t from \"../../core/i18n-wrapper\";\nimport utils from \"../../core/utils\";\n\nlet LinkModal = null;\n\nexport default class TinyMCE {\n    constructor(el, options) {\n        this.$el = $(el);\n        this.options = options;\n    }\n    addLinkClicked() {\n        var self = this;\n        if (self.linkModal === null) {\n            var $el = $(\"<div/>\").insertAfter(self.$el);\n            var linkTypes = [\"internal\", \"upload\", \"external\", \"email\", \"anchor\"];\n            if (!self.options.upload) {\n                linkTypes.splice(1, 1);\n            }\n            self.linkModal = new LinkModal(\n                $el,\n                $.extend(true, {}, self.options, {\n                    tinypattern: self,\n                    linkTypes: linkTypes,\n                })\n            );\n            self.linkModal.show();\n        } else {\n            self.linkModal.reinitialize();\n            self.linkModal.show();\n        }\n    }\n    addImageClicked() {\n        var self = this;\n        if (self.imageModal === null) {\n            var linkTypes = [\"image\", \"uploadImage\", \"externalImage\"];\n            if (!self.options.upload) {\n                linkTypes.splice(1, 1);\n            }\n            var options = $.extend(true, {}, self.options, {\n                tinypattern: self,\n                linkTypes: linkTypes,\n                initialLinkType: \"image\",\n                text: {\n                    insertHeading: _t(\"Insert Image\"),\n                },\n                relatedItems: {\n                    selectableTypes: self.options.imageTypes,\n                },\n            });\n            var $el = $(\"<div/>\").insertAfter(self.$el);\n            self.imageModal = new LinkModal($el, options);\n            self.imageModal.show();\n        } else {\n            self.imageModal.reinitialize();\n            self.imageModal.show();\n        }\n    }\n    generateUrl(data) {\n        var self = this;\n        var part = data[self.options.linkAttribute];\n        return self.options.prependToUrl + part + self.options.appendToUrl;\n    }\n    generateImageUrl(data, scale_name) {\n        var self = this;\n        var url = self.generateUrl(data);\n        if (scale_name) {\n            url =\n                url +\n                self.options.prependToScalePart +\n                scale_name +\n                self.options.appendToScalePart;\n        } else {\n            url = url + self.options.appendToOriginalScalePart;\n        }\n        return url;\n    }\n    stripGeneratedUrl(url) {\n        // to get original attribute back\n        var self = this;\n        url = url.split(self.options.prependToScalePart, 2)[0];\n        if (self.options.prependToUrl) {\n            var parts = url.split(self.options.prependToUrl, 2);\n            if (parts.length === 2) {\n                url = parts[1];\n            }\n        }\n        if (self.options.appendToUrl) {\n            url = url.split(self.options.appendToUrl)[0];\n        }\n        return url;\n    }\n    getScaleFromUrl(url) {\n        var self = this;\n        var split = url.split(self.options.prependToScalePart);\n        if (split.length !== 2) {\n            // not valid scale, screw it\n            return null;\n        }\n        if (self.options.appendToScalePart) {\n            url = split[1].split(self.options.appendToScalePart)[0];\n        } else {\n            url = split[1];\n        }\n        if (url.indexOf(\"/image_\") !== -1) {\n            url = url.split(\"/image_\")[1];\n        }\n        return url;\n    }\n    async initLanguage(call_back) {\n        var self = this;\n        var i18n = new I18n();\n        var lang = i18n.currentLanguage;\n        if (lang !== \"en\" && self.options.tiny.language !== \"en\") {\n            try {\n                await import(`tinymce-i18n/langs5/${lang}`);\n            } catch (e) {\n                try {\n                    // expected lang not available, let's fallback to closest one\n                    if (lang.split(\"_\") > 1) {\n                        lang = lang.split(\"_\")[0];\n                    } else if (lang.split(\"-\") > 1) {\n                        lang = lang.split(\"-\")[0];\n                    } else {\n                        lang = lang + \"_\" + lang.toUpperCase();\n                    }\n                    await import(`tinymce-i18n/langs5/${lang}`);\n                } catch {\n                    console.log(\"Could not load TinyMCE language:\", lang);\n                }\n            }\n            call_back();\n        } else {\n            call_back();\n        }\n    }\n    async init() {\n        import(\"./tinymce.scss\");\n        import(\"tinymce/skins/ui/oxide/content.css\");\n        import(\"tinymce/skins/ui/oxide/skin.css\");\n\n        const tinymce = (await import(\"tinymce/tinymce\")).default;\n\n        // tinyMCE Plugins\n        for (const plugin of this.options.tiny.plugins) {\n            if (plugin == 'plonelink' || plugin == 'ploneimage'){\n                continue;\n            }\n            await import(\"tinymce/plugins/\" + plugin);\n        }\n\n        await import(\"tinymce/themes/silver\");\n\n        await import(\"tinymce/icons/default\");\n\n        LinkModal = (await import(\"./js/links\")).default;\n\n        var self = this;\n        self.linkModal = self.imageModal = self.uploadModal = self.pasteModal = null;\n        // tiny needs an id in order to initialize. Creat it if not set.\n        var id = utils.setId(self.$el);\n\n        if (\n            self.options.pictureVariants &&\n            typeof self.options.pictureVariants === \"string\"\n        ) {\n            self.options.pictureVariants = JSON.parse(self.options.pictureVariants);\n        }\n\n        var tinyOptions = self.options.tiny;\n        if (self.options.inline === true) {\n            self.options.tiny.inline = true;\n        }\n        self.tinyId = self.options.inline ? id + \"-editable\" : id; // when displaying TinyMCE inline, a separate div is created.\n        tinyOptions.selector = \"#\" + self.tinyId;\n        tinyOptions.addLinkClicked = function () {\n            self.addLinkClicked.apply(self, []);\n        };\n        tinyOptions.addImageClicked = function (file) {\n            self.addImageClicked.apply(self, [file]);\n        };\n        // XXX: disabled skin means it wont load css files which we already\n        // include in widgets.min.css\n        tinyOptions.skin = false;\n\n        tinyOptions.init_instance_callback = function (editor) {\n            if (self.tiny === undefined || self.tiny === null) {\n                self.tiny = editor;\n            }\n        };\n        tinyOptions[\"setup\"] = (editor) => {\n            editor.ui.registry.addMenuButton(\"inserttable\", {\n                icon: \"table\",\n                tooltip: _t(\"Insert table with header row\"),\n                fetch: function (callback) {\n                    callback([\n                        {\n                            type: \"fancymenuitem\",\n                            fancytype: \"inserttable\",\n                            onAction: function (data) {\n                                // https://www.tiny.cloud/docs/plugins/table/#commands\n                                editor.execCommand(\"mceInsertTable\", false, {\n                                    rows: data.numRows,\n                                    columns: data.numColumns,\n                                    options: { headerRows: 1 },\n                                });\n                            },\n                        },\n                    ]);\n                },\n            });\n        };\n\n        self.initLanguage(function () {\n            if (typeof self.options.folderTypes === \"string\") {\n                self.options.folderTypes = self.options.folderTypes.split(\",\");\n            }\n\n            if (typeof self.options.imageTypes === \"string\") {\n                self.options.imageTypes = self.options.imageTypes.split(\",\");\n            }\n\n            if (self.options.inline === true) {\n                // create a div, which will be made content-editable by TinyMCE and\n                // copy contents from textarea to it. Then hide textarea.\n                self.$el.after(\n                    '<div id=\"' + self.tinyId + '\">' + self.$el.val() + \"</div>\"\n                );\n                self.$el.hide();\n            }\n\n            if (\n                tinyOptions.importcss_file_filter &&\n                typeof tinyOptions.importcss_file_filter.indexOf === \"function\" &&\n                tinyOptions.importcss_file_filter.indexOf(\",\") !== -1\n            ) {\n                // need a custom function to check now\n                var files = tinyOptions.importcss_file_filter.split(\",\");\n\n                tinyOptions.importcss_file_filter = function (value) {\n                    for (var i = 0; i < files.length; i++) {\n                        if (value.indexOf(files[i]) !== -1) {\n                            return true;\n                        }\n                    }\n                    return false;\n                };\n            }\n\n            if (\n                tinyOptions.importcss_selector_filter &&\n                tinyOptions.importcss_selector_filter.length\n            ) {\n                tinyOptions.importcss_selector_filter = new RegExp(\n                    tinyOptions.importcss_selector_filter\n                );\n            }\n\n            if (tinyOptions.importcss_groups && tinyOptions.importcss_groups.length) {\n                for (var i = 0; i < tinyOptions.importcss_groups.length; i++) {\n                    if (\n                        tinyOptions.importcss_groups[i].filter &&\n                        tinyOptions.importcss_groups[i].filter.length\n                    ) {\n                        tinyOptions.importcss_groups[i].filter = new RegExp(\n                            tinyOptions.importcss_groups[i].filter\n                        );\n                    }\n                }\n            }\n\n            /* If TinyMCE is rendered inside of a modal, set an ID on\n             * .plone-modal-dialog and use that as the ui_container\n             * setting for TinyMCE to anchor it there. This ensures that\n             * sub-menus are displayed relative to the modal rather than\n             * the document body.\n             * Generate a random id and append it, because there might be\n             * more than one TinyMCE in the DOM.\n             */\n            var modal_container = self.$el.parents(\".plone-modal-dialog\");\n\n            if (modal_container.length > 0) {\n                var random_id = Math.random().toString(36).substring(2, 15);\n                modal_container.attr(\"id\", \"tiny-ui-container-\" + random_id);\n                tinyOptions[\"ui_container\"] = \"#tiny-ui-container-\" + random_id;\n            }\n\n            tinymce.init(tinyOptions);\n            self.tiny = tinymce.get(self.tinyId);\n\n            /* tiny really should be doing this by default\n             * but this fixes overlays not saving data */\n            var $form = self.$el.parents(\"form\");\n            $form.on(\"submit\", function () {\n                if (self.options.inline === true) {\n                    // save back from contenteditable to textarea\n                    self.$el.val(self.tiny.getContent());\n                } else {\n                    // normal case\n                    self.tiny.save();\n                }\n            });\n        });\n    }\n    destroy() {\n        if (this.tiny) {\n            if (this.options.inline === true) {\n                // destroy also inline editable\n                this.$el.val(this.tiny.getContent());\n                $(\"#\" + this.tinyId).remove();\n                this.$el.show();\n            }\n            this.tiny.destroy();\n            this.tiny = undefined;\n        }\n    }\n}\n","import Base from \"@patternslib/patternslib/src/core/base\";\nimport I18n from \"../../core/i18n\";\nimport _t from \"../../core/i18n-wrapper\";\n\nexport default Base.extend({\n    name: \"tinymce\",\n    trigger: \".pat-tinymce\",\n    parser: \"mockup\",\n    defaults: {\n        upload: {\n            uploadMultiple: false,\n            maxFiles: 1,\n            showTitle: false,\n        },\n        relatedItems: {\n            // UID attribute is required here since we're working with related items\n            attributes: [\n                \"UID\",\n                \"Title\",\n                \"portal_type\",\n                \"path\",\n                \"getURL\",\n                \"getIcon\",\n                \"is_folderish\",\n                \"review_state\",\n            ],\n            batchSize: 20,\n            basePath: \"/\",\n            vocabularyUrl: null,\n            width: 500,\n            maximumSelectionSize: 1,\n            placeholder: _t(\"Search for item on site...\"),\n        },\n        text: {\n            insertBtn: _t(\"Insert\"), // so this can be configurable for different languages\n            cancelBtn: _t(\"Cancel\"),\n            insertHeading: _t(\"Insert link\"),\n            title: _t(\"Title\"),\n            internal: _t(\"Internal\"),\n            external: _t(\"External\"),\n            externalText: _t(\"External URL (can be relative within this site or absolute if it starts with http:// or https://)\"), // prettier-ignore\n            email: _t(\"Email Address\"),\n            anchor: _t(\"Anchor\"),\n            anchorLabel: _t(\"Select an anchor\"),\n            target: _t(\"Target\"),\n            subject: _t(\"Email Subject (optional)\"),\n            image: _t(\"Image\"),\n            imageAlign: _t(\"Align\"),\n            enableImageZoom: _t(\"Enable image zoom\"),\n            scale: _t(\"Size\"),\n            alt: _t(\"Alternative Text\"),\n            insertImageHelp: _t(\"Specify an image. It can be on this site already (Internal Image), an image you upload (Upload), or from an external site (External Image).\"), // prettier-ignore\n            internalImage: _t(\"Internal Image\"),\n            externalImage: _t(\"External Image\"),\n            externalImageText: _t(\"External Image URL (can be relative within this site or absolute if it starts with http:// or https://)\"), // prettier-ignore\n            upload: _t(\"Upload\"),\n            insertLinkHelp: _t(\"Specify the object to link to. It can be on this site already (Internal), an object you upload (Upload), from an external site (External), an email address (Email), or an anchor on this page (Anchor).\"), // prettier-ignore\n            captionFromDescription: _t(\"Show Image Caption from Image Description\"),\n            caption: _t(\"Image Caption\"),\n        },\n        // URL generation options\n        loadingBaseUrl: \"++plone++static/tinybase\",\n        prependToUrl: \"\",\n        appendToUrl: \"\",\n        linkAttribute: \"path\", // attribute to get link value from data\n        prependToScalePart: \"/imagescale/\",\n        appendToScalePart: \"\",\n        appendToOriginalScalePart: \"\",\n        // defaultScale: \"large\",\n        defaultSrcset: \"medium\",\n        imageCaptioningEnabled: true,\n        pictureVariants: {\n            large: {\n                \"title\": \"Large\",\n                \"preview\": \"++theme++barceloneta/static/preview-image-large.png\",\n                \"use-in-editor\": true,\n                \"sourceset\": [\n                    {\n                        scale: \"teaser\",\n                        media: \"(min-width:768px) and (orientation:portrait)\",\n                    },\n                    {\n                        scale: \"large\",\n                        media: \"(min-width:768px)\",\n                    },\n                    {\n                        scale: \"larger\",\n                        media: \"(min-width:992px)\",\n                    },\n                    {\n                        scale: \"great\",\n                        media: \"(min-width:1200px)\",\n                    },\n                    {\n                        scale: \"huge\",\n                        media: \"(min-width:1400px)\",\n                    },\n                    {\n                        scale: \"huge\",\n                    },\n                ],\n            },\n            medium: {\n                title: \"Medium\",\n                preview: \"++theme++barceloneta/static/preview-image-medium.png\",\n                sourceset: [\n                    {\n                        scale: \"larger\",\n                    },\n                ],\n            },\n            small: {\n                title: \"Small\",\n                preview: \"++theme++barceloneta/static/preview-image-small.png\",\n                sourceset: [\n                    {\n                        scale: \"preview\",\n                    },\n                ],\n            },\n        },\n        imageClasses: {\n            \"image-inline\": _t(\"Inline\"),\n            \"image-right\": _t(\"Right\"),\n            \"image-left\": _t(\"Left\"),\n        },\n        targetList: [\n            { text: _t(\"Open in this window / frame\"), value: \"\" },\n            { text: _t(\"Open in new window\"), value: \"_blank\" },\n            { text: _t(\"Open in parent window / frame\"), value: \"_parent\" },\n            {\n                text: _t(\"Open in top frame (replaces all frames)\"),\n                value: \"_top\",\n            },\n        ],\n        imageTypes: [\"Image\"],\n        folderTypes: [\"Folder\", \"Plone Site\"],\n        tiny: {\n            //content_css:\n            //    \"/base/node_modules/tinymce-builded/js/tinymce/skins/lightgray/content.min.css\",\n            theme: \"silver\",\n            plugins: [\n                \"advlist\",\n                \"autolink\",\n                \"lists\",\n                \"charmap\",\n                \"print\",\n                \"preview\",\n                \"anchor\",\n                \"searchreplace\",\n                \"visualblocks\",\n                \"code\",\n                \"fullscreen\",\n                \"insertdatetime\",\n                \"media\",\n                \"table\",\n                \"contextmenu\",\n                \"paste\",\n                \"plonelink\",\n                \"ploneimage\",\n            ],\n            menubar: \"edit table format tools view insert\",\n            toolbar:\n                \"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | unlink plonelink ploneimage\",\n            //'autoresize_max_height': 900,\n            height: 400,\n            language: \"en\",\n        },\n        inline: false,\n    },\n    init: async function () {\n        const implementation = (await import(\"./tinymce--implementation\")).default;\n        var i18n = new I18n();\n        var lang = i18n.currentLanguage;\n        this.options.tiny.language = lang;\n        this.instance = new implementation(this.el, this.options);\n        this.instance.init();\n    },\n    destroy: function () {\n        this.instance.destroy();\n    },\n});\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"div.linkModal .pat-relateditems-container{padding-top:0;margin-right:20px}div.linkModal div.linkTypes{line-height:15px}div.linkModal div.linkTypes input{margin:5px 5px 9px 9px}.tinymce-dropzone{position:relative}.tinymce-dropzone .dz-notice{display:none;-ms-filter:none;filter:none;pointer-events:none}.tinymce-dropzone *{opacity:1}.tinymce-dropzone .dropzone-previews{background-color:#f5f5f5}.tinymce-dropzone .fallback{display:none}.tinymce-dropzone.dz-drag-hover{box-sizing:border-box}.tinymce-dropzone.dz-drag-hover *{opacity:.7}.tinymce-dropzone.dz-drag-hover iframe{pointer-events:none}.tinymce-dropzone.dz-drag-hover p{font-size:250%;position:absolute;width:400px;height:50px;top:50%;left:50%;margin-left:-200px;display:block;text-align:center;opacity:1}.tinymce-dropzone.dz-drag-hover .dz-notice{display:block;opacity:1;-ms-filter:none;filter:none;-webkit-transition:opacity .3s ease-in-out;-moz-transition:opacity .3s ease-in-out;-o-transition:opacity .3s ease-in-out;-ms-transition:opacity .3s ease-in-out;transition:opacity .3s ease-in-out;background-position:0 0;position:absolute;width:100%;height:100%;top:0;left:0}.mce-item-table td{min-width:.6em}\", \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/@plone/mockup/src/pat/tinymce/tinymce.scss\"],\"names\":[],\"mappings\":\"AAqCI,0CACI,aAAA,CACA,iBAAA,CAEJ,4BACI,gBAAA,CACA,kCACI,sBAAA,CAKZ,kBACI,iBAAA,CAEA,6BACI,YAAA,CACA,eAAA,CACA,WAAA,CACA,mBAAA,CAEJ,oBACI,SAAA,CAGJ,qCACI,wBAAA,CAEJ,4BAEI,YAAA,CAIR,gCACI,qBAAA,CAEA,kCACI,UAAA,CAEJ,uCACI,mBAAA,CAEJ,kCACI,cAAA,CACA,iBAAA,CACA,WAAA,CACA,WAAA,CACA,OAAA,CACA,QAAA,CACA,kBAAA,CACA,aAAA,CACA,iBAAA,CACA,SAAA,CAEJ,2CACI,aAAA,CACA,SAAA,CACA,eAAA,CACA,WAAA,CACA,0CAAA,CACA,uCAAA,CACA,qCAAA,CACA,sCAAA,CACA,kCAAA,CACA,uBAAA,CACA,iBAAA,CACA,UAAA,CACA,WAAA,CACA,KAAA,CACA,MAAA,CAIR,mBACI,cAAA\",\"sourcesContent\":[\"// @import (inline) \\\"@{bowerPath}tinymce-builded/js/tinymce/skins/lightgray/skin.min.css\\\";\\n// @import (inline) \\\"@{bowerPath}tinymce-builded/js/tinymce/plugins/visualblocks/css/visualblocks.css\\\";\\n// @import \\\"@{mockupPath}/modal/pattern.modal.less\\\";\\n// @import \\\"@{mockupPath}/autotoc/pattern.autotoc.less\\\";\\n// @import \\\"@{mockupPath}/upload/less/pattern.upload.less\\\";\\n\\n// @font-face {\\n//     font-family: \\\"tinymce\\\";\\n//     src: url(\\\"@{bowerPath}tinymce-builded/js/tinymce/skins/lightgray/fonts/tinymce.eot\\\");\\n//     src: url(\\\"@{bowerPath}tinymce-builded/js/tinymce/skins/lightgray/fonts/tinymce.eot?#iefix\\\")\\n//             format(\\\"embedded-opentype\\\"),\\n//         url(\\\"@{bowerPath}tinymce-builded/js/tinymce/skins/lightgray/fonts/tinymce.woff\\\")\\n//             format(\\\"woff\\\"),\\n//         url(\\\"@{bowerPath}tinymce-builded/js/tinymce/skins/lightgray/fonts/tinymce.ttf\\\")\\n//             format(\\\"truetype\\\"),\\n//         url(\\\"@{bowerPath}tinymce-builded/js/tinymce/skins/lightgray/fonts/tinymce.svg#tinymce\\\")\\n//             format(\\\"svg\\\");\\n//     font-weight: normal;\\n//     font-style: normal;\\n// }\\n\\n// @font-face {\\n//     font-family: \\\"tinymce-small\\\";\\n//     src: url(\\\"@{bowerPath}tinymce-builded/js/tinymce/skins/lightgray/fonts/tinymce-small.eot\\\");\\n//     src: url(\\\"@{bowerPath}tinymce-builded/js/tinymce/skins/lightgray/fonts/tinymce-small.eot?#iefix\\\")\\n//             format(\\\"embedded-opentype\\\"),\\n//         url(\\\"@{bowerPath}tinymce-builded/js/tinymce/skins/lightgray/fonts/tinymce-small.woff\\\")\\n//             format(\\\"woff\\\"),\\n//         url(\\\"@{bowerPath}tinymce-builded/js/tinymce/skins/lightgray/fonts/tinymce-small.ttf\\\")\\n//             format(\\\"truetype\\\"),\\n//         url(\\\"@{bowerPath}tinymce-builded/js/tinymce/skins/lightgray/fonts/tinymce-small.svg#tinymce\\\")\\n//             format(\\\"svg\\\");\\n//     font-weight: normal;\\n//     font-style: normal;\\n// }\\n\\ndiv.linkModal {\\n    .pat-relateditems-container {\\n        padding-top: 0;\\n        margin-right: 20px;\\n    }\\n    div.linkTypes {\\n        line-height: 15px;\\n        input {\\n            margin: 5px 5px 9px 9px;\\n        }\\n    }\\n}\\n\\n.tinymce-dropzone {\\n    position: relative;\\n\\n    .dz-notice {\\n        display: none;\\n        -ms-filter: none;\\n        filter: none;\\n        pointer-events: none;\\n    }\\n    * {\\n        opacity: 1;\\n    }\\n\\n    .dropzone-previews {\\n        background-color: #f5f5f5;\\n    }\\n    .fallback {\\n        /* do not display fallback, just don't work for these weirdos */\\n        display: none;\\n    }\\n}\\n\\n.tinymce-dropzone.dz-drag-hover {\\n    box-sizing: border-box;\\n\\n    * {\\n        opacity: 0.7;\\n    }\\n    iframe {\\n        pointer-events: none;\\n    }\\n    p {\\n        font-size: 250%;\\n        position: absolute;\\n        width: 400px;\\n        height: 50px;\\n        top: 50%;\\n        left: 50%;\\n        margin-left: -200px;\\n        display: block;\\n        text-align: center;\\n        opacity: 1;\\n    }\\n    .dz-notice {\\n        display: block;\\n        opacity: 1;\\n        -ms-filter: none;\\n        filter: none;\\n        -webkit-transition: opacity 0.3s ease-in-out;\\n        -moz-transition: opacity 0.3s ease-in-out;\\n        -o-transition: opacity 0.3s ease-in-out;\\n        -ms-transition: opacity 0.3s ease-in-out;\\n        transition: opacity 0.3s ease-in-out;\\n        background-position: 0 0;\\n        position: absolute;\\n        width: 100%;\\n        height: 100%;\\n        top: 0;\\n        left: 0;\\n    }\\n}\\n\\n.mce-item-table td {\\n    min-width: 0.6em; // enforce a min-width while editing for tables with visual aid turned on\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../../css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%278%27%20height%3D%2712%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%3Cpath%20d%3D%27M0%200L8%200%208%2012%204.09117821%209%200%2012z%27%2F%3E%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_2___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_3___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_4___ = new URL(\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_5___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_6___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba%280%2C%200%2C%200%2C%20.2%29%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba%280%2C%200%2C%200%2C%20.2%29%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba%280%2C%200%2C%200%2C%20.2%29%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_7___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%274%27%20height%3D%274%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%3Cpath%20stroke%3D%27%23ff0000%27%20fill%3D%27none%27%20stroke-linecap%3D%27round%27%20stroke-opacity%3D%27.75%27%20d%3D%27M0%203L2%201%204%203%27%2F%3E%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_8___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%274%27%20height%3D%274%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%3Cpath%20stroke%3D%27%2300A835%27%20fill%3D%27none%27%20stroke-linecap%3D%27round%27%20d%3D%27M0%203L2%201%204%203%27%2F%3E%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_9___ = new URL(\"data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_10___ = new URL(\"data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_11___ = new URL(\"data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_12___ = new URL(\"data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_13___ = new URL(\"data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_14___ = new URL(\"data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_15___ = new URL(\"data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_16___ = new URL(\"data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_17___ = new URL(\"data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_18___ = new URL(\"data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_19___ = new URL(\"data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_20___ = new URL(\"data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_21___ = new URL(\"data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_22___ = new URL(\"data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_23___ = new URL(\"data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_24___ = new URL(\"data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_25___ = new URL(\"data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_26___ = new URL(\"data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_27___ = new URL(\"data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___);\nvar ___CSS_LOADER_URL_REPLACEMENT_5___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_5___);\nvar ___CSS_LOADER_URL_REPLACEMENT_6___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_6___);\nvar ___CSS_LOADER_URL_REPLACEMENT_7___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_7___);\nvar ___CSS_LOADER_URL_REPLACEMENT_8___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_8___);\nvar ___CSS_LOADER_URL_REPLACEMENT_9___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_9___);\nvar ___CSS_LOADER_URL_REPLACEMENT_10___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_10___);\nvar ___CSS_LOADER_URL_REPLACEMENT_11___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_11___);\nvar ___CSS_LOADER_URL_REPLACEMENT_12___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_12___);\nvar ___CSS_LOADER_URL_REPLACEMENT_13___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_13___);\nvar ___CSS_LOADER_URL_REPLACEMENT_14___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_14___);\nvar ___CSS_LOADER_URL_REPLACEMENT_15___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_15___);\nvar ___CSS_LOADER_URL_REPLACEMENT_16___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_16___);\nvar ___CSS_LOADER_URL_REPLACEMENT_17___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_17___);\nvar ___CSS_LOADER_URL_REPLACEMENT_18___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_18___);\nvar ___CSS_LOADER_URL_REPLACEMENT_19___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_19___);\nvar ___CSS_LOADER_URL_REPLACEMENT_20___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_20___);\nvar ___CSS_LOADER_URL_REPLACEMENT_21___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_21___);\nvar ___CSS_LOADER_URL_REPLACEMENT_22___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_22___);\nvar ___CSS_LOADER_URL_REPLACEMENT_23___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_23___);\nvar ___CSS_LOADER_URL_REPLACEMENT_24___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_24___);\nvar ___CSS_LOADER_URL_REPLACEMENT_25___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_25___);\nvar ___CSS_LOADER_URL_REPLACEMENT_26___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_26___);\nvar ___CSS_LOADER_URL_REPLACEMENT_27___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_27___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".mce-content-body .mce-item-anchor{background:rgba(0,0,0,0) url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \") no-repeat center;cursor:default;display:inline-block;height:12px !important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;-moz-user-select:all;-ms-user-select:all;user-select:all;width:8px !important}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment{background-color:#fff0b7}.tox-comments-visible .tox-comment--active{background-color:#ffe168}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,\\\"Andale Mono\\\",\\\"Ubuntu Mono\\\",monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}pre[class*=language-]::selection,pre[class*=language-] ::selection,code[class*=language-]::selection,code[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.property,.token.tag,.token.boolean,.token.number,.token.constant,.token.symbol,.token.deleted{color:#905}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.inserted{color:#690}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string{color:#9a6e3a;background:rgba(255,255,255,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function,.token.class-name{color:#dd4a68}.token.regex,.token.important,.token.variable{color:#e90}.token.important,.token.bold{font-weight:bold}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body *[data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body *[contentEditable=false]{cursor:default}.mce-content-body *[contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \"),default}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px 0 2px;position:relative}.mce-preview-object .mce-shim{background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected=\\\"2\\\"] .mce-shim{display:none}.mce-object{background:rgba(0,0,0,0) url(\" + ___CSS_LOADER_URL_REPLACEMENT_5___ + \") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \");height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected=\\\"2\\\"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--21by9,.tiny-pageembed--16by9,.tiny-pageembed--4by3,.tiny-pageembed--1by1{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--21by9 iframe,.tiny-pageembed--16by9 iframe,.tiny-pageembed--4by3 iframe,.tiny-pageembed--1by1 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:nth-of-type(1){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed #000;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns th,.mce-content-body .mce-clonedresizable.mce-resizetable-columns td{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0,0,0,.75);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:\\\"\\\";display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:bold;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url(\" + ___CSS_LOADER_URL_REPLACEMENT_6___ + \") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::-moz-selection{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body img[data-mce-selected],.mce-content-body video[data-mce-selected],.mce-content-body audio[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body table[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body *[contentEditable=false] *[contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body *[contentEditable=false] *[contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body *[contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly *[contentEditable=true]:focus,.mce-content-body.mce-content-readonly *[contentEditable=true]:hover{outline:none}.mce-content-body *[data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::-moz-selection,.mce-content-body th[data-mce-selected]::-moz-selection{background:none}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:none}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:\\\"\\\";left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast: active),(-ms-high-contrast: none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img::-moz-selection{background:none}.mce-content-body img::selection{background:none}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_7___ + \");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_8___ + \");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc li{list-style-type:none}table[style*=\\\"border-width: 0px\\\"],.mce-item-table:not([border]),.mce-item-table[border=\\\"0\\\"],table[style*=\\\"border-width: 0px\\\"] td,.mce-item-table:not([border]) td,.mce-item-table[border=\\\"0\\\"] td,table[style*=\\\"border-width: 0px\\\"] th,.mce-item-table:not([border]) th,.mce-item-table[border=\\\"0\\\"] th,table[style*=\\\"border-width: 0px\\\"] caption,.mce-item-table:not([border]) caption,.mce-item-table[border=\\\"0\\\"] caption{border:1px dashed #bbb}.mce-visualblocks p,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks section,.mce-visualblocks article,.mce-visualblocks blockquote,.mce-visualblocks address,.mce-visualblocks pre,.mce-visualblocks figure,.mce-visualblocks figcaption,.mce-visualblocks hgroup,.mce-visualblocks aside,.mce-visualblocks ul,.mce-visualblocks ol,.mce-visualblocks dl{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_9___ + \")}.mce-visualblocks h1{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_10___ + \")}.mce-visualblocks h2{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_11___ + \")}.mce-visualblocks h3{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_12___ + \")}.mce-visualblocks h4{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_13___ + \")}.mce-visualblocks h5{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_14___ + \")}.mce-visualblocks h6{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_15___ + \")}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_16___ + \")}.mce-visualblocks section{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_17___ + \")}.mce-visualblocks article{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_18___ + \")}.mce-visualblocks blockquote{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_19___ + \")}.mce-visualblocks address{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_20___ + \")}.mce-visualblocks pre{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_21___ + \")}.mce-visualblocks figure{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_22___ + \")}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_23___ + \")}.mce-visualblocks aside{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_24___ + \")}.mce-visualblocks ul{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_25___ + \")}.mce-visualblocks ol{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_26___ + \")}.mce-visualblocks dl{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_27___ + \")}.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) ul,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) dl{margin-left:3px}.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] ul,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] dl{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:\\\"-\\\"}body{font-family:sans-serif}table{border-collapse:collapse}\", \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/tinymce/skins/ui/oxide/content.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"/**\\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\\n * Licensed under the LGPL or a commercial license.\\n * For LGPL see License.txt in the project root for license information.\\n * For commercial licenses see https://www.tiny.cloud/\\n */\\n.mce-content-body .mce-item-anchor {\\n  background: transparent url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A\\\") no-repeat center;\\n  cursor: default;\\n  display: inline-block;\\n  height: 12px !important;\\n  padding: 0 2px;\\n  -webkit-user-modify: read-only;\\n  -moz-user-modify: read-only;\\n  -webkit-user-select: all;\\n  -moz-user-select: all;\\n  -ms-user-select: all;\\n      user-select: all;\\n  width: 8px !important;\\n}\\n.mce-content-body .mce-item-anchor[data-mce-selected] {\\n  outline-offset: 1px;\\n}\\n.tox-comments-visible .tox-comment {\\n  background-color: #fff0b7;\\n}\\n.tox-comments-visible .tox-comment--active {\\n  background-color: #ffe168;\\n}\\n.tox-checklist > li:not(.tox-checklist--hidden) {\\n  list-style: none;\\n  margin: 0.25em 0;\\n}\\n.tox-checklist > li:not(.tox-checklist--hidden)::before {\\n  content: url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A\\\");\\n  cursor: pointer;\\n  height: 1em;\\n  margin-left: -1.5em;\\n  margin-top: 0.125em;\\n  position: absolute;\\n  width: 1em;\\n}\\n.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before {\\n  content: url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A\\\");\\n}\\n[dir=rtl] .tox-checklist > li:not(.tox-checklist--hidden)::before {\\n  margin-left: 0;\\n  margin-right: -1.5em;\\n}\\n/* stylelint-disable */\\n/* http://prismjs.com/ */\\n/**\\n * prism.js default theme for JavaScript, CSS and HTML\\n * Based on dabblet (http://dabblet.com)\\n * @author Lea Verou\\n */\\ncode[class*=\\\"language-\\\"],\\npre[class*=\\\"language-\\\"] {\\n  color: black;\\n  background: none;\\n  text-shadow: 0 1px white;\\n  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;\\n  font-size: 1em;\\n  text-align: left;\\n  white-space: pre;\\n  word-spacing: normal;\\n  word-break: normal;\\n  word-wrap: normal;\\n  line-height: 1.5;\\n  -moz-tab-size: 4;\\n  tab-size: 4;\\n  -webkit-hyphens: none;\\n  -ms-hyphens: none;\\n  hyphens: none;\\n}\\npre[class*=\\\"language-\\\"]::-moz-selection,\\npre[class*=\\\"language-\\\"] ::-moz-selection,\\ncode[class*=\\\"language-\\\"]::-moz-selection,\\ncode[class*=\\\"language-\\\"] ::-moz-selection {\\n  text-shadow: none;\\n  background: #b3d4fc;\\n}\\npre[class*=\\\"language-\\\"]::selection,\\npre[class*=\\\"language-\\\"] ::selection,\\ncode[class*=\\\"language-\\\"]::selection,\\ncode[class*=\\\"language-\\\"] ::selection {\\n  text-shadow: none;\\n  background: #b3d4fc;\\n}\\n@media print {\\n  code[class*=\\\"language-\\\"],\\n  pre[class*=\\\"language-\\\"] {\\n    text-shadow: none;\\n  }\\n}\\n/* Code blocks */\\npre[class*=\\\"language-\\\"] {\\n  padding: 1em;\\n  margin: 0.5em 0;\\n  overflow: auto;\\n}\\n:not(pre) > code[class*=\\\"language-\\\"],\\npre[class*=\\\"language-\\\"] {\\n  background: #f5f2f0;\\n}\\n/* Inline code */\\n:not(pre) > code[class*=\\\"language-\\\"] {\\n  padding: 0.1em;\\n  border-radius: 0.3em;\\n  white-space: normal;\\n}\\n.token.comment,\\n.token.prolog,\\n.token.doctype,\\n.token.cdata {\\n  color: slategray;\\n}\\n.token.punctuation {\\n  color: #999;\\n}\\n.namespace {\\n  opacity: 0.7;\\n}\\n.token.property,\\n.token.tag,\\n.token.boolean,\\n.token.number,\\n.token.constant,\\n.token.symbol,\\n.token.deleted {\\n  color: #905;\\n}\\n.token.selector,\\n.token.attr-name,\\n.token.string,\\n.token.char,\\n.token.builtin,\\n.token.inserted {\\n  color: #690;\\n}\\n.token.operator,\\n.token.entity,\\n.token.url,\\n.language-css .token.string,\\n.style .token.string {\\n  color: #9a6e3a;\\n  background: hsla(0, 0%, 100%, 0.5);\\n}\\n.token.atrule,\\n.token.attr-value,\\n.token.keyword {\\n  color: #07a;\\n}\\n.token.function,\\n.token.class-name {\\n  color: #DD4A68;\\n}\\n.token.regex,\\n.token.important,\\n.token.variable {\\n  color: #e90;\\n}\\n.token.important,\\n.token.bold {\\n  font-weight: bold;\\n}\\n.token.italic {\\n  font-style: italic;\\n}\\n.token.entity {\\n  cursor: help;\\n}\\n/* stylelint-enable */\\n.mce-content-body {\\n  overflow-wrap: break-word;\\n  word-wrap: break-word;\\n}\\n.mce-content-body .mce-visual-caret {\\n  background-color: black;\\n  background-color: currentColor;\\n  position: absolute;\\n}\\n.mce-content-body .mce-visual-caret-hidden {\\n  display: none;\\n}\\n.mce-content-body *[data-mce-caret] {\\n  left: -1000px;\\n  margin: 0;\\n  padding: 0;\\n  position: absolute;\\n  right: auto;\\n  top: 0;\\n}\\n.mce-content-body .mce-offscreen-selection {\\n  left: -2000000px;\\n  max-width: 1000000px;\\n  position: absolute;\\n}\\n.mce-content-body *[contentEditable=false] {\\n  cursor: default;\\n}\\n.mce-content-body *[contentEditable=true] {\\n  cursor: text;\\n}\\n.tox-cursor-format-painter {\\n  cursor: url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A\\\"), default;\\n}\\n.mce-content-body figure.align-left {\\n  float: left;\\n}\\n.mce-content-body figure.align-right {\\n  float: right;\\n}\\n.mce-content-body figure.image.align-center {\\n  display: table;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n.mce-preview-object {\\n  border: 1px solid gray;\\n  display: inline-block;\\n  line-height: 0;\\n  margin: 0 2px 0 2px;\\n  position: relative;\\n}\\n.mce-preview-object .mce-shim {\\n  background: url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  top: 0;\\n  width: 100%;\\n}\\n.mce-preview-object[data-mce-selected=\\\"2\\\"] .mce-shim {\\n  display: none;\\n}\\n.mce-object {\\n  background: transparent url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A\\\") no-repeat center;\\n  border: 1px dashed #aaa;\\n}\\n.mce-pagebreak {\\n  border: 1px dashed #aaa;\\n  cursor: default;\\n  display: block;\\n  height: 5px;\\n  margin-top: 15px;\\n  page-break-before: always;\\n  width: 100%;\\n}\\n@media print {\\n  .mce-pagebreak {\\n    border: 0;\\n  }\\n}\\n.tiny-pageembed .mce-shim {\\n  background: url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  top: 0;\\n  width: 100%;\\n}\\n.tiny-pageembed[data-mce-selected=\\\"2\\\"] .mce-shim {\\n  display: none;\\n}\\n.tiny-pageembed {\\n  display: inline-block;\\n  position: relative;\\n}\\n.tiny-pageembed--21by9,\\n.tiny-pageembed--16by9,\\n.tiny-pageembed--4by3,\\n.tiny-pageembed--1by1 {\\n  display: block;\\n  overflow: hidden;\\n  padding: 0;\\n  position: relative;\\n  width: 100%;\\n}\\n.tiny-pageembed--21by9 {\\n  padding-top: 42.857143%;\\n}\\n.tiny-pageembed--16by9 {\\n  padding-top: 56.25%;\\n}\\n.tiny-pageembed--4by3 {\\n  padding-top: 75%;\\n}\\n.tiny-pageembed--1by1 {\\n  padding-top: 100%;\\n}\\n.tiny-pageembed--21by9 iframe,\\n.tiny-pageembed--16by9 iframe,\\n.tiny-pageembed--4by3 iframe,\\n.tiny-pageembed--1by1 iframe {\\n  border: 0;\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  top: 0;\\n  width: 100%;\\n}\\n.mce-content-body[data-mce-placeholder] {\\n  position: relative;\\n}\\n.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before {\\n  color: rgba(34, 47, 62, 0.7);\\n  content: attr(data-mce-placeholder);\\n  position: absolute;\\n}\\n.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before {\\n  left: 1px;\\n}\\n.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before {\\n  right: 1px;\\n}\\n.mce-content-body div.mce-resizehandle {\\n  background-color: #4099ff;\\n  border-color: #4099ff;\\n  border-style: solid;\\n  border-width: 1px;\\n  box-sizing: border-box;\\n  height: 10px;\\n  position: absolute;\\n  width: 10px;\\n  z-index: 1298;\\n}\\n.mce-content-body div.mce-resizehandle:hover {\\n  background-color: #4099ff;\\n}\\n.mce-content-body div.mce-resizehandle:nth-of-type(1) {\\n  cursor: nwse-resize;\\n}\\n.mce-content-body div.mce-resizehandle:nth-of-type(2) {\\n  cursor: nesw-resize;\\n}\\n.mce-content-body div.mce-resizehandle:nth-of-type(3) {\\n  cursor: nwse-resize;\\n}\\n.mce-content-body div.mce-resizehandle:nth-of-type(4) {\\n  cursor: nesw-resize;\\n}\\n.mce-content-body .mce-resize-backdrop {\\n  z-index: 10000;\\n}\\n.mce-content-body .mce-clonedresizable {\\n  cursor: default;\\n  opacity: 0.5;\\n  outline: 1px dashed black;\\n  position: absolute;\\n  z-index: 10001;\\n}\\n.mce-content-body .mce-clonedresizable.mce-resizetable-columns th,\\n.mce-content-body .mce-clonedresizable.mce-resizetable-columns td {\\n  border: 0;\\n}\\n.mce-content-body .mce-resize-helper {\\n  background: #555;\\n  background: rgba(0, 0, 0, 0.75);\\n  border: 1px;\\n  border-radius: 3px;\\n  color: white;\\n  display: none;\\n  font-family: sans-serif;\\n  font-size: 12px;\\n  line-height: 14px;\\n  margin: 5px 10px;\\n  padding: 5px;\\n  position: absolute;\\n  white-space: nowrap;\\n  z-index: 10002;\\n}\\n.tox-rtc-user-selection {\\n  position: relative;\\n}\\n.tox-rtc-user-cursor {\\n  bottom: 0;\\n  cursor: default;\\n  position: absolute;\\n  top: 0;\\n  width: 2px;\\n}\\n.tox-rtc-user-cursor::before {\\n  background-color: inherit;\\n  border-radius: 50%;\\n  content: '';\\n  display: block;\\n  height: 8px;\\n  position: absolute;\\n  right: -3px;\\n  top: -3px;\\n  width: 8px;\\n}\\n.tox-rtc-user-cursor:hover::after {\\n  background-color: inherit;\\n  border-radius: 100px;\\n  box-sizing: border-box;\\n  color: #fff;\\n  content: attr(data-user);\\n  display: block;\\n  font-size: 12px;\\n  font-weight: bold;\\n  left: -5px;\\n  min-height: 8px;\\n  min-width: 8px;\\n  padding: 0 12px;\\n  position: absolute;\\n  top: -11px;\\n  white-space: nowrap;\\n  z-index: 1000;\\n}\\n.tox-rtc-user-selection--1 .tox-rtc-user-cursor {\\n  background-color: #2dc26b;\\n}\\n.tox-rtc-user-selection--2 .tox-rtc-user-cursor {\\n  background-color: #e03e2d;\\n}\\n.tox-rtc-user-selection--3 .tox-rtc-user-cursor {\\n  background-color: #f1c40f;\\n}\\n.tox-rtc-user-selection--4 .tox-rtc-user-cursor {\\n  background-color: #3598db;\\n}\\n.tox-rtc-user-selection--5 .tox-rtc-user-cursor {\\n  background-color: #b96ad9;\\n}\\n.tox-rtc-user-selection--6 .tox-rtc-user-cursor {\\n  background-color: #e67e23;\\n}\\n.tox-rtc-user-selection--7 .tox-rtc-user-cursor {\\n  background-color: #aaa69d;\\n}\\n.tox-rtc-user-selection--8 .tox-rtc-user-cursor {\\n  background-color: #f368e0;\\n}\\n.tox-rtc-remote-image {\\n  background: #eaeaea url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A\\\") no-repeat center center;\\n  border: 1px solid #ccc;\\n  min-height: 240px;\\n  min-width: 320px;\\n}\\n.mce-match-marker {\\n  background: #aaa;\\n  color: #fff;\\n}\\n.mce-match-marker-selected {\\n  background: #39f;\\n  color: #fff;\\n}\\n.mce-match-marker-selected::-moz-selection {\\n  background: #39f;\\n  color: #fff;\\n}\\n.mce-match-marker-selected::selection {\\n  background: #39f;\\n  color: #fff;\\n}\\n.mce-content-body img[data-mce-selected],\\n.mce-content-body video[data-mce-selected],\\n.mce-content-body audio[data-mce-selected],\\n.mce-content-body object[data-mce-selected],\\n.mce-content-body embed[data-mce-selected],\\n.mce-content-body table[data-mce-selected] {\\n  outline: 3px solid #b4d7ff;\\n}\\n.mce-content-body hr[data-mce-selected] {\\n  outline: 3px solid #b4d7ff;\\n  outline-offset: 1px;\\n}\\n.mce-content-body *[contentEditable=false] *[contentEditable=true]:focus {\\n  outline: 3px solid #b4d7ff;\\n}\\n.mce-content-body *[contentEditable=false] *[contentEditable=true]:hover {\\n  outline: 3px solid #b4d7ff;\\n}\\n.mce-content-body *[contentEditable=false][data-mce-selected] {\\n  cursor: not-allowed;\\n  outline: 3px solid #b4d7ff;\\n}\\n.mce-content-body.mce-content-readonly *[contentEditable=true]:focus,\\n.mce-content-body.mce-content-readonly *[contentEditable=true]:hover {\\n  outline: none;\\n}\\n.mce-content-body *[data-mce-selected=\\\"inline-boundary\\\"] {\\n  background-color: #b4d7ff;\\n}\\n.mce-content-body .mce-edit-focus {\\n  outline: 3px solid #b4d7ff;\\n}\\n.mce-content-body td[data-mce-selected],\\n.mce-content-body th[data-mce-selected] {\\n  position: relative;\\n}\\n.mce-content-body td[data-mce-selected]::-moz-selection,\\n.mce-content-body th[data-mce-selected]::-moz-selection {\\n  background: none;\\n}\\n.mce-content-body td[data-mce-selected]::selection,\\n.mce-content-body th[data-mce-selected]::selection {\\n  background: none;\\n}\\n.mce-content-body td[data-mce-selected] *,\\n.mce-content-body th[data-mce-selected] * {\\n  outline: none;\\n  -webkit-touch-callout: none;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n}\\n.mce-content-body td[data-mce-selected]::after,\\n.mce-content-body th[data-mce-selected]::after {\\n  background-color: rgba(180, 215, 255, 0.7);\\n  border: 1px solid rgba(180, 215, 255, 0.7);\\n  bottom: -1px;\\n  content: '';\\n  left: -1px;\\n  mix-blend-mode: multiply;\\n  position: absolute;\\n  right: -1px;\\n  top: -1px;\\n}\\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\\n  .mce-content-body td[data-mce-selected]::after,\\n  .mce-content-body th[data-mce-selected]::after {\\n    border-color: rgba(0, 84, 180, 0.7);\\n  }\\n}\\n.mce-content-body img::-moz-selection {\\n  background: none;\\n}\\n.mce-content-body img::selection {\\n  background: none;\\n}\\n.ephox-snooker-resizer-bar {\\n  background-color: #b4d7ff;\\n  opacity: 0;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n}\\n.ephox-snooker-resizer-cols {\\n  cursor: col-resize;\\n}\\n.ephox-snooker-resizer-rows {\\n  cursor: row-resize;\\n}\\n.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging {\\n  opacity: 1;\\n}\\n.mce-spellchecker-word {\\n  background-image: url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A\\\");\\n  background-position: 0 calc(100% + 1px);\\n  background-repeat: repeat-x;\\n  background-size: auto 6px;\\n  cursor: default;\\n  height: 2rem;\\n}\\n.mce-spellchecker-grammar {\\n  background-image: url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A\\\");\\n  background-position: 0 calc(100% + 1px);\\n  background-repeat: repeat-x;\\n  background-size: auto 6px;\\n  cursor: default;\\n}\\n.mce-toc {\\n  border: 1px solid gray;\\n}\\n.mce-toc h2 {\\n  margin: 4px;\\n}\\n.mce-toc li {\\n  list-style-type: none;\\n}\\ntable[style*=\\\"border-width: 0px\\\"],\\n.mce-item-table:not([border]),\\n.mce-item-table[border=\\\"0\\\"],\\ntable[style*=\\\"border-width: 0px\\\"] td,\\n.mce-item-table:not([border]) td,\\n.mce-item-table[border=\\\"0\\\"] td,\\ntable[style*=\\\"border-width: 0px\\\"] th,\\n.mce-item-table:not([border]) th,\\n.mce-item-table[border=\\\"0\\\"] th,\\ntable[style*=\\\"border-width: 0px\\\"] caption,\\n.mce-item-table:not([border]) caption,\\n.mce-item-table[border=\\\"0\\\"] caption {\\n  border: 1px dashed #bbb;\\n}\\n.mce-visualblocks p,\\n.mce-visualblocks h1,\\n.mce-visualblocks h2,\\n.mce-visualblocks h3,\\n.mce-visualblocks h4,\\n.mce-visualblocks h5,\\n.mce-visualblocks h6,\\n.mce-visualblocks div:not([data-mce-bogus]),\\n.mce-visualblocks section,\\n.mce-visualblocks article,\\n.mce-visualblocks blockquote,\\n.mce-visualblocks address,\\n.mce-visualblocks pre,\\n.mce-visualblocks figure,\\n.mce-visualblocks figcaption,\\n.mce-visualblocks hgroup,\\n.mce-visualblocks aside,\\n.mce-visualblocks ul,\\n.mce-visualblocks ol,\\n.mce-visualblocks dl {\\n  background-repeat: no-repeat;\\n  border: 1px dashed #bbb;\\n  margin-left: 3px;\\n  padding-top: 10px;\\n}\\n.mce-visualblocks p {\\n  background-image: url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7);\\n}\\n.mce-visualblocks h1 {\\n  background-image: url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==);\\n}\\n.mce-visualblocks h2 {\\n  background-image: url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==);\\n}\\n.mce-visualblocks h3 {\\n  background-image: url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7);\\n}\\n.mce-visualblocks h4 {\\n  background-image: url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==);\\n}\\n.mce-visualblocks h5 {\\n  background-image: url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==);\\n}\\n.mce-visualblocks h6 {\\n  background-image: url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==);\\n}\\n.mce-visualblocks div:not([data-mce-bogus]) {\\n  background-image: url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7);\\n}\\n.mce-visualblocks section {\\n  background-image: url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=);\\n}\\n.mce-visualblocks article {\\n  background-image: url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7);\\n}\\n.mce-visualblocks blockquote {\\n  background-image: url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7);\\n}\\n.mce-visualblocks address {\\n  background-image: url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=);\\n}\\n.mce-visualblocks pre {\\n  background-image: url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==);\\n}\\n.mce-visualblocks figure {\\n  background-image: url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7);\\n}\\n.mce-visualblocks figcaption {\\n  border: 1px dashed #bbb;\\n}\\n.mce-visualblocks hgroup {\\n  background-image: url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7);\\n}\\n.mce-visualblocks aside {\\n  background-image: url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=);\\n}\\n.mce-visualblocks ul {\\n  background-image: url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==);\\n}\\n.mce-visualblocks ol {\\n  background-image: url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==);\\n}\\n.mce-visualblocks dl {\\n  background-image: url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==);\\n}\\n.mce-visualblocks:not([dir=rtl]) p,\\n.mce-visualblocks:not([dir=rtl]) h1,\\n.mce-visualblocks:not([dir=rtl]) h2,\\n.mce-visualblocks:not([dir=rtl]) h3,\\n.mce-visualblocks:not([dir=rtl]) h4,\\n.mce-visualblocks:not([dir=rtl]) h5,\\n.mce-visualblocks:not([dir=rtl]) h6,\\n.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),\\n.mce-visualblocks:not([dir=rtl]) section,\\n.mce-visualblocks:not([dir=rtl]) article,\\n.mce-visualblocks:not([dir=rtl]) blockquote,\\n.mce-visualblocks:not([dir=rtl]) address,\\n.mce-visualblocks:not([dir=rtl]) pre,\\n.mce-visualblocks:not([dir=rtl]) figure,\\n.mce-visualblocks:not([dir=rtl]) figcaption,\\n.mce-visualblocks:not([dir=rtl]) hgroup,\\n.mce-visualblocks:not([dir=rtl]) aside,\\n.mce-visualblocks:not([dir=rtl]) ul,\\n.mce-visualblocks:not([dir=rtl]) ol,\\n.mce-visualblocks:not([dir=rtl]) dl {\\n  margin-left: 3px;\\n}\\n.mce-visualblocks[dir=rtl] p,\\n.mce-visualblocks[dir=rtl] h1,\\n.mce-visualblocks[dir=rtl] h2,\\n.mce-visualblocks[dir=rtl] h3,\\n.mce-visualblocks[dir=rtl] h4,\\n.mce-visualblocks[dir=rtl] h5,\\n.mce-visualblocks[dir=rtl] h6,\\n.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),\\n.mce-visualblocks[dir=rtl] section,\\n.mce-visualblocks[dir=rtl] article,\\n.mce-visualblocks[dir=rtl] blockquote,\\n.mce-visualblocks[dir=rtl] address,\\n.mce-visualblocks[dir=rtl] pre,\\n.mce-visualblocks[dir=rtl] figure,\\n.mce-visualblocks[dir=rtl] figcaption,\\n.mce-visualblocks[dir=rtl] hgroup,\\n.mce-visualblocks[dir=rtl] aside,\\n.mce-visualblocks[dir=rtl] ul,\\n.mce-visualblocks[dir=rtl] ol,\\n.mce-visualblocks[dir=rtl] dl {\\n  background-position-x: right;\\n  margin-right: 3px;\\n}\\n.mce-nbsp,\\n.mce-shy {\\n  background: #aaa;\\n}\\n.mce-shy::after {\\n  content: '-';\\n}\\nbody {\\n  font-family: sans-serif;\\n}\\ntable {\\n  border-collapse: collapse;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../../css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(\"data:image/svg+xml;charset=utf8,%3Csvg height=%2739px%27 viewBox=%270 0 40 39px%27 width=%2740%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Crect x=%270%27 y=%2738px%27 width=%27100%27 height=%271%27 fill=%27%23cccccc%27/%3E%3C/svg%3E\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;font-size:16px;font-style:normal;font-weight:normal;line-height:normal;-webkit-tap-highlight-color:rgba(0,0,0,0);text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox *:not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox *:not(svg):not(rect){background:rgba(0,0,0,0);border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:1px solid #ccc;border-radius:0;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;overflow:hidden;position:relative;visibility:inherit !important}.tox-tinymce-inline{border:none;box-shadow:none}.tox-tinymce-inline .tox-editor-header{background-color:rgba(0,0,0,0);border:1px solid #ccc;border-radius:0;box-shadow:none}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;z-index:1300}.tox-tinymce *:focus,.tox-tinymce-aux *:focus{outline:none}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border:1px solid #ccc;border-radius:3px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>*:last-child:not(:only-child){border-color:#ccc;border-style:solid}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(32,122,183,.1);border-color:rgba(32,122,183,.4);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description>*:last-child{border-color:rgba(32,122,183,.4)}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#207ab7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#207ab7}.tox .tox-dialog__body-content .accessibility-issue--info a .tox-icon{color:#207ab7}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.1);border-color:rgba(255,165,0,.5);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description>*:last-child{border-color:rgba(255,165,0,.5)}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#cc8500}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#cc8500}.tox .tox-dialog__body-content .accessibility-issue--warn a .tox-icon{color:#cc8500}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);border-color:rgba(204,0,0,.4);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description>*:last-child{border-color:rgba(204,0,0,.4)}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a .tox-icon{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);border-color:rgba(120,171,70,.4);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>*:last-child{border-color:rgba(120,171,70,.4)}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#78ab46}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#78ab46}.tox .tox-dialog__body-content .accessibility-issue--success a .tox-icon{color:#78ab46}.tox .tox-dialog__body-content .accessibility-issue__header h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>*:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description>*:last-child{border-left-width:1px;padding-left:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>*:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description>*:last-child{border-right-width:1px;padding-right:4px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#207ab7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#207ab7;border-radius:3px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;font-size:14px;font-style:normal;font-weight:bold;letter-spacing:normal;line-height:24px;margin:0;outline:none;padding:4px 16px;text-align:center;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button[disabled]{background-color:#207ab7;background-image:none;border-color:#207ab7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#1c6ca1;background-image:none;border-color:#1c6ca1;box-shadow:none;color:#fff}.tox .tox-button:hover:not(:disabled){background-color:#1c6ca1;background-image:none;border-color:#1c6ca1;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#185d8c;background-image:none;border-color:#185d8c;box-shadow:none;color:#fff}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:3px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:bold;letter-spacing:normal;outline:none;padding:4px 16px;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;font-size:16px;font-weight:normal;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:rgba(0,0,0,0);border-color:rgba(0,0,0,0);box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:#f0f0f0;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:#e3e3e3;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:#e3e3e3;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:#d6d6d6;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:3px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:3px;box-shadow:0 0 0 2px rgba(0,0,0,0);box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:3px;width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,.3)}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#207ab7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#207ab7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:3px;box-shadow:inset 0 0 0 1px #207ab7;padding:3px}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#ccc;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#e6e6e6;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:normal;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;color:#222f3e;cursor:pointer;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#dee0e2}.tox .tox-collection--toolbar .tox-collection__item--enabled{background-color:#c8cbcf;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#dee0e2}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#c8cbcf;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#dee0e2;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}.tox .tox-collection__item-icon,.tox .tox-collection__item-checkmark{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-icon svg,.tox .tox-collection__item-checkmark svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;-ms-flex-preferred-size:auto;font-size:14px;font-style:normal;font-weight:normal;line-height:24px;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:rgba(34,47,62,.7);display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:\\\"\\\";font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:#222f3e}.tox .tox-collection__item--state-disabled{background-color:rgba(0,0,0,0);color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 3px rgba(0,0,0,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:34px;margin:2px 0 3px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{-ms-grid-row-align:center;align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{-ms-grid-row-align:center;align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid #ccc}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>*:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid #ccc}.tox[dir=rtl] .tox-collection--list .tox-collection__item>*:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:none;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom, #f00, #ff0080, #f0f, #8000ff, #00f, #0080ff, #0ff, #00ff80, #0f0, #80ff00, #ff0, #ff8000, #f00);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red !important}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__primary .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches{margin:2px 0 3px 4px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px 0}.tox .tox-swatches__row{display:flex}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:hover,.tox .tox-swatch:focus{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(0.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:rgba(0,0,0,0);border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:none;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#dee0e2}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>*:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #ccc;border-radius:3px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:rgba(34,47,62,.7);font-size:12px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:normal;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:\\\"\\\";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>*:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255, 255, 255, 0), #fff);bottom:0;content:\\\"\\\";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>*:last-child,.tox:not([dir=rtl]) .tox-comment__edit>*:last-child,.tox:not([dir=rtl]) .tox-comment__reply>*:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>*:last-child,.tox[dir=rtl] .tox-comment__edit>*:last-child,.tox[dir=rtl] .tox-comment__reply>*:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,.7)}.tox .tox-user__name{color:rgba(34,47,62,.7);font-size:12px;font-style:normal;font-weight:bold;text-transform:uppercase}.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#ccc;border-radius:3px;border-style:solid;border-width:1px;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;font-size:20px;font-style:normal;font-weight:normal;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;-ms-flex-preferred-size:auto;font-size:16px;font-style:normal;font-weight:normal;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;padding:16px 16px}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid rgba(0,0,0,0);color:rgba(34,47,62,.7);display:inline-block;font-size:14px;line-height:1.3;margin-bottom:8px;text-decoration:none;white-space:nowrap}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(32,122,183,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #207ab7;color:#207ab7}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;-ms-flex-preferred-size:auto;max-height:650px;overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>*:first-child{margin-top:0}.tox .tox-dialog__body-content>*:last-child{margin-bottom:0}.tox .tox-dialog__body-content>*:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#207ab7;cursor:pointer;text-decoration:none}.tox .tox-dialog__body-content a:hover,.tox .tox-dialog__body-content a:focus{color:#185d8c;text-decoration:none}.tox .tox-dialog__body-content a:active{color:#185d8c;text-decoration:none}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content ul{display:block;list-style-type:disc;margin-bottom:16px;-webkit-margin-end:0;margin-inline-end:0;-webkit-margin-start:0;margin-inline-start:0;-webkit-padding-start:2.5rem;padding-inline-start:2.5rem}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:bold;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:bold;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:1px solid #ccc;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-start,.tox .tox-dialog__footer-end{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:bold;padding-bottom:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #ccc}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column;-ms-flex-preferred-size:auto}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1;-ms-flex-preferred-size:auto}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;-ms-flex-preferred-size:auto;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}.tox.tox-platform-ie .tox-dialog-wrap{position:-ms-device-fixed}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1;-ms-flex-preferred-size:auto}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #ccc;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;-ms-flex-preferred-size:auto;overflow:hidden;position:relative}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;-ms-flex-preferred-size:auto;height:100%;position:absolute;width:100%}.tox.tox-inline-edit-area{border:1px dotted #ccc}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{z-index:1}.tox:not(.tox-tinymce-inline) .tox-editor-header{box-shadow:none;transition:box-shadow .5s}.tox.tox-tinymce--toolbar-bottom .tox-editor-header,.tox.tox-tinymce-inline .tox-editor-header{margin-bottom:-1px}.tox.tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:rgba(0,0,0,0);box-shadow:0 4px 4px -3px rgba(0,0,0,.25)}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:bold}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34,47,62,.2);border-radius:3px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}.tox .tox-color-input span:hover:not([aria-disabled=true]),.tox .tox-color-input span:focus:not([aria-disabled=true]){border-color:#207ab7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg, rgba(0, 0, 0, 0.25) 25%, transparent 25%),linear-gradient(-45deg, rgba(0, 0, 0, 0.25) 25%, transparent 25%),linear-gradient(45deg, transparent 75%, rgba(0, 0, 0, 0.25) 75%),linear-gradient(-45deg, transparent 75%, rgba(0, 0, 0, 0.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:3px;box-sizing:border-box;content:\\\"\\\";height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:normal;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column;-ms-flex-preferred-size:auto}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - 4px)}.tox .tox-form__grid--3col>.tox-form__group{width:calc(33.3333333333% - 4px)}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - 4px)}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column;-ms-flex-preferred-size:auto}.tox .tox-form__group--stretched .tox-textarea{flex:1;-ms-flex-preferred-size:auto}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1;-ms-flex-preferred-size:auto}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;-ms-flex-preferred-size:auto;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>*:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>*:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-textfield,.tox .tox-toolbar-textfield,.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#ccc;border-radius:3px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:none;padding:5px 4.75px;resize:none;width:100%}.tox .tox-textfield[disabled],.tox .tox-textarea[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-textfield:focus,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea:focus{background-color:#fff;border-color:#207ab7;box-shadow:none;outline:none}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:rgba(0,0,0,0);border:0;border-color:rgba(0,0,0,0);box-shadow:unset;color:#207ab7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#ccc;border-radius:3px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:none;padding:5px 4.75px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#207ab7;box-shadow:none;outline:none}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size=\\\"0\\\"],.tox:not([dir=rtl]) .tox-selectfield select[size=\\\"1\\\"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size=\\\"0\\\"],.tox[dir=rtl] .tox-selectfield select[size=\\\"1\\\"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea{-webkit-appearance:textarea;-moz-appearance:textarea;appearance:textarea;white-space:pre-wrap}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;-ms-scroll-chaining:none;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox.tox-tinymce.tox-fullscreen,.tox-shadowhost.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:rgba(0,0,0,0)}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-image-tools{width:100%}.tox .tox-image-tools__toolbar{align-items:center;display:flex;justify-content:center}.tox .tox-image-tools__image{background-color:#666;height:380px;overflow:auto;position:relative;width:100%}.tox .tox-image-tools__image,.tox .tox-image-tools__image+.tox-image-tools__toolbar{margin-top:8px}.tox .tox-image-tools__image-bg{background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \")}.tox .tox-image-tools__toolbar>.tox-spacer{flex:1;-ms-flex-preferred-size:auto}.tox .tox-croprect-block{background:#000;filter:alpha(opacity=50);opacity:.5;position:absolute;zoom:1}.tox .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox:not([dir=rtl]) .tox-image-tools__toolbar>.tox-slider:not(:first-of-type){margin-left:8px}.tox:not([dir=rtl]) .tox-image-tools__toolbar>.tox-button+.tox-slider{margin-left:32px}.tox:not([dir=rtl]) .tox-image-tools__toolbar>.tox-slider+.tox-button{margin-left:32px}.tox[dir=rtl] .tox-image-tools__toolbar>.tox-slider:not(:first-of-type){margin-right:8px}.tox[dir=rtl] .tox-image-tools__toolbar>.tox-button+.tox-slider{margin-right:32px}.tox[dir=rtl] .tox-image-tools__toolbar>.tox-slider+.tox-button{margin-right:32px}.tox .tox-insert-table-picker{display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#ccc;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px 0}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:rgba(32,122,183,.5);border-color:rgba(32,122,183,.5)}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid #ccc;border-radius:3px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:4px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:4px}.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p,.tox .tox-menu__label blockquote,.tox .tox-menu__label code{margin:0}.tox .tox-menubar{background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \") left 0 top 0 #fff;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 4px 0 4px}.tox.tox-tinymce:not(.tox-tinymce-inline) .tox-editor-header:not(:first-child) .tox-menubar{border-top:1px solid #ccc}.tox .tox-mbtn{align-items:center;background:rgba(0,0,0,0);border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:normal;height:34px;justify-content:center;margin:2px 0 3px 0;outline:none;overflow:hidden;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:rgba(0,0,0,0);border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#dee0e2;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn--active{background:#c8cbcf;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#dee0e2;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:normal;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:3px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:-ms-grid;display:grid;font-size:14px;font-weight:normal;-ms-grid-columns:minmax(40px, 1fr) auto minmax(40px, 1fr);grid-template-columns:minmax(40px, 1fr) auto minmax(40px, 1fr);margin-top:4px;opacity:0;padding:4px;transition:transform 100ms ease-in,opacity 150ms ease-in}.tox .tox-notification p{font-size:14px;font-weight:normal}.tox .tox-notification a{cursor:pointer;text-decoration:underline}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#547831}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f8dede;border-color:#f2bfbf;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#c00}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fffaea;border-color:#ffe89d;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#222f3e}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d9edf7;border-color:#779ecb;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#222f3e}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{-ms-grid-row-align:center;align-self:center;color:#222f3e;font-size:14px;-ms-grid-column-span:1;grid-column-end:3;-ms-grid-column:2;grid-column-start:2;-ms-grid-row-span:1;grid-row-end:2;-ms-grid-row:1;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{-ms-grid-row-align:center;align-self:center;-ms-grid-column-span:1;grid-column-end:2;-ms-grid-column:1;grid-column-start:1;-ms-grid-row-span:1;grid-row-end:2;-ms-grid-row:1;grid-row-start:1;-ms-grid-column-align:end;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{-ms-grid-row-align:start;align-self:start;-ms-grid-column-span:1;grid-column-end:4;-ms-grid-column:3;grid-column-start:3;-ms-grid-row-span:1;grid-row-end:2;-ms-grid-row:1;grid-row-start:1;-ms-grid-column-align:end;justify-self:end}.tox .tox-notification .tox-progress-bar{-ms-grid-column-span:3;grid-column-end:4;-ms-grid-column:1;grid-column-start:1;-ms-grid-row-span:1;grid-row-end:3;-ms-grid-row:2;grid-row-start:2;-ms-grid-column-align:center;justify-self:center}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::before,.tox .tox-pop--transition::after{transition:all .15s,visibility 0s,opacity .075s ease .075s}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 3px rgba(0,0,0,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>*:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:rgba(0,0,0,0);margin-bottom:-1px}.tox .tox-pop::before,.tox .tox-pop::after{border-style:solid;content:\\\"\\\";display:block;height:0;opacity:1;position:absolute;width:0}.tox .tox-pop.tox-pop--inset::before,.tox .tox-pop.tox-pop--inset::after{opacity:0;transition:all 0s .15s,visibility 0s,opacity .075s ease}.tox .tox-pop.tox-pop--bottom::before,.tox .tox-pop.tox-pop--bottom::after{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#ccc rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::before,.tox .tox-pop.tox-pop--top::after{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:rgba(0,0,0,0) rgba(0,0,0,0) #fff rgba(0,0,0,0);border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:rgba(0,0,0,0) rgba(0,0,0,0) #ccc rgba(0,0,0,0);border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::before,.tox .tox-pop.tox-pop--left::after{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:rgba(0,0,0,0) #fff rgba(0,0,0,0) rgba(0,0,0,0);border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:rgba(0,0,0,0) #ccc rgba(0,0,0,0) rgba(0,0,0,0);border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::before,.tox .tox-pop.tox-pop--right::after{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #ccc;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::before,.tox .tox-pop.tox-pop--align-left::after{left:20px}.tox .tox-pop.tox-pop--align-right::before,.tox .tox-pop.tox-pop--align-right::after{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;-ms-flex-preferred-size:0;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;-ms-flex-preferred-size:auto;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:rgba(0,0,0,0);border:1px solid #ccc;border-radius:3px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#207ab7;border:2px solid #185d8c;border-radius:3px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:nth-child(1){animation-delay:-0.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-0.16s}@keyframes tam-bouncing-dots{0%,80%,100%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #ccc;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:12px;font-weight:normal;height:18px;overflow:hidden;padding:0 8px;position:relative;text-transform:uppercase}.tox .tox-statusbar__text-container{display:flex;flex:1 1 auto;justify-content:flex-end;overflow:hidden}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;margin-right:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);text-decoration:none}.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]){cursor:pointer;text-decoration:underline}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-left:auto;margin-right:-8px;padding-left:1ch}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,.7)}.tox .tox-statusbar__resize-handle:focus svg{background-color:#dee0e2;border-radius:1px;box-shadow:0 0 0 2px #dee0e2}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:1ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:rgba(0,0,0,0);border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:normal;height:34px;justify-content:center;margin:2px 0 3px 0;outline:none;overflow:hidden;padding:0;text-transform:none;width:34px}.tox .tox-tbtn svg{display:block;fill:#222f3e}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#dee0e2;border:0;box-shadow:none}.tox .tox-tbtn:hover{background:#dee0e2;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#c8cbcf;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:rgba(0,0,0,0);border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,.5)}.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:hover{background:#c8cbcf;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn--enabled>*,.tox .tox-tbtn--enabled:hover>*{transform:none}.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:51px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:68px;width:68px}.tox .tox-tbtn--return{-ms-grid-row-align:stretch;align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:normal;letter-spacing:-0.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tbtn--select{margin:2px 0 3px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:normal;margin:0 4px}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,.5)}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:2px 0 3px 0;overflow:hidden}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #dee0e2 inset}.tox .tox-split-button:focus{background:#dee0e2;box-shadow:none;color:#222f3e}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,.5)}.tox .tox-split-button .tox-tbtn{margin:0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus{background:rgba(0,0,0,0);box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__primary,.tox .tox-toolbar__overflow{background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \") left 0 top 0 #fff;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord .tox-toolbar__primary{border-top:1px solid #ccc;margin-top:-1px}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox-tinymce:not(.tox-tinymce-inline) .tox-editor-header:not(:first-child) .tox-toolbar:first-child,.tox-tinymce:not(.tox-tinymce-inline) .tox-editor-header:not(:first-child) .tox-toolbar-overlord:first-child .tox-toolbar__primary{border-top:1px solid #ccc}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 3px rgba(0,0,0,.15)}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 4px 0 4px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid #ccc}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid #ccc}.tox .tox-tooltip{display:inline-block;padding:8px;position:relative}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:3px;box-shadow:0 2px 4px rgba(34,47,62,.3);color:rgba(255,255,255,.75);font-size:14px;font-style:normal;font-weight:normal;padding:4px 8px;text-transform:none}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid rgba(0,0,0,0);border-right:8px solid rgba(0,0,0,0);border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid rgba(0,0,0,0);border-right:8px solid rgba(0,0,0,0);left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid rgba(0,0,0,0);border-left:8px solid #222f3e;border-top:8px solid rgba(0,0,0,0);position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid rgba(0,0,0,0);border-right:8px solid #222f3e;border-top:8px solid rgba(0,0,0,0);left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-well{border:1px solid #ccc;border-radius:3px;padding:8px;width:100%}.tox .tox-well>*:first-child{margin-top:0}.tox .tox-well>*:last-child{margin-bottom:0}.tox .tox-well>*:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #ccc;border-radius:3px;display:flex;flex:1;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:\\\"\\\";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1;-ms-flex-preferred-size:auto}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1;-ms-flex-preferred-size:auto}.tox .tox-image-tools-edit-panel{height:60px}.tox .tox-image-tools__sidebar{height:60px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/tinymce/skins/ui/oxide/skin.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"/**\\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\\n * Licensed under the LGPL or a commercial license.\\n * For LGPL see License.txt in the project root for license information.\\n * For commercial licenses see https://www.tiny.cloud/\\n */\\n.tox {\\n  box-shadow: none;\\n  box-sizing: content-box;\\n  color: #222f3e;\\n  cursor: auto;\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \\\"Helvetica Neue\\\", sans-serif;\\n  font-size: 16px;\\n  font-style: normal;\\n  font-weight: normal;\\n  line-height: normal;\\n  -webkit-tap-highlight-color: transparent;\\n  text-decoration: none;\\n  text-shadow: none;\\n  text-transform: none;\\n  vertical-align: initial;\\n  white-space: normal;\\n}\\n.tox *:not(svg):not(rect) {\\n  box-sizing: inherit;\\n  color: inherit;\\n  cursor: inherit;\\n  direction: inherit;\\n  font-family: inherit;\\n  font-size: inherit;\\n  font-style: inherit;\\n  font-weight: inherit;\\n  line-height: inherit;\\n  -webkit-tap-highlight-color: inherit;\\n  text-align: inherit;\\n  text-decoration: inherit;\\n  text-shadow: inherit;\\n  text-transform: inherit;\\n  vertical-align: inherit;\\n  white-space: inherit;\\n}\\n.tox *:not(svg):not(rect) {\\n  /* stylelint-disable-line no-duplicate-selectors */\\n  background: transparent;\\n  border: 0;\\n  box-shadow: none;\\n  float: none;\\n  height: auto;\\n  margin: 0;\\n  max-width: none;\\n  outline: 0;\\n  padding: 0;\\n  position: static;\\n  width: auto;\\n}\\n.tox:not([dir=rtl]) {\\n  direction: ltr;\\n  text-align: left;\\n}\\n.tox[dir=rtl] {\\n  direction: rtl;\\n  text-align: right;\\n}\\n.tox-tinymce {\\n  border: 1px solid #cccccc;\\n  border-radius: 0;\\n  box-shadow: none;\\n  box-sizing: border-box;\\n  display: flex;\\n  flex-direction: column;\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \\\"Helvetica Neue\\\", sans-serif;\\n  overflow: hidden;\\n  position: relative;\\n  visibility: inherit !important;\\n}\\n.tox-tinymce-inline {\\n  border: none;\\n  box-shadow: none;\\n}\\n.tox-tinymce-inline .tox-editor-header {\\n  background-color: transparent;\\n  border: 1px solid #cccccc;\\n  border-radius: 0;\\n  box-shadow: none;\\n}\\n.tox-tinymce-aux {\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \\\"Helvetica Neue\\\", sans-serif;\\n  z-index: 1300;\\n}\\n.tox-tinymce *:focus,\\n.tox-tinymce-aux *:focus {\\n  outline: none;\\n}\\nbutton::-moz-focus-inner {\\n  border: 0;\\n}\\n.tox[dir=rtl] .tox-icon--flip svg {\\n  transform: rotateY(180deg);\\n}\\n.tox .accessibility-issue__header {\\n  align-items: center;\\n  display: flex;\\n  margin-bottom: 4px;\\n}\\n.tox .accessibility-issue__description {\\n  align-items: stretch;\\n  border: 1px solid #cccccc;\\n  border-radius: 3px;\\n  display: flex;\\n  justify-content: space-between;\\n}\\n.tox .accessibility-issue__description > div {\\n  padding-bottom: 4px;\\n}\\n.tox .accessibility-issue__description > div > div {\\n  align-items: center;\\n  display: flex;\\n  margin-bottom: 4px;\\n}\\n.tox .accessibility-issue__description > *:last-child:not(:only-child) {\\n  border-color: #cccccc;\\n  border-style: solid;\\n}\\n.tox .accessibility-issue__repair {\\n  margin-top: 16px;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description {\\n  background-color: rgba(32, 122, 183, 0.1);\\n  border-color: rgba(32, 122, 183, 0.4);\\n  color: #222f3e;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description > *:last-child {\\n  border-color: rgba(32, 122, 183, 0.4);\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2 {\\n  color: #207ab7;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg {\\n  fill: #207ab7;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--info a .tox-icon {\\n  color: #207ab7;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description {\\n  background-color: rgba(255, 165, 0, 0.1);\\n  border-color: rgba(255, 165, 0, 0.5);\\n  color: #222f3e;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description > *:last-child {\\n  border-color: rgba(255, 165, 0, 0.5);\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2 {\\n  color: #cc8500;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg {\\n  fill: #cc8500;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--warn a .tox-icon {\\n  color: #cc8500;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description {\\n  background-color: rgba(204, 0, 0, 0.1);\\n  border-color: rgba(204, 0, 0, 0.4);\\n  color: #222f3e;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description > *:last-child {\\n  border-color: rgba(204, 0, 0, 0.4);\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2 {\\n  color: #c00;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg {\\n  fill: #c00;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--error a .tox-icon {\\n  color: #c00;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description {\\n  background-color: rgba(120, 171, 70, 0.1);\\n  border-color: rgba(120, 171, 70, 0.4);\\n  color: #222f3e;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description > *:last-child {\\n  border-color: rgba(120, 171, 70, 0.4);\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2 {\\n  color: #78AB46;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg {\\n  fill: #78AB46;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue--success a .tox-icon {\\n  color: #78AB46;\\n}\\n.tox .tox-dialog__body-content .accessibility-issue__header h1,\\n.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2 {\\n  margin-top: 0;\\n}\\n.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button {\\n  margin-left: 4px;\\n}\\n.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header > *:nth-last-child(2) {\\n  margin-left: auto;\\n}\\n.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description {\\n  padding: 4px 4px 4px 8px;\\n}\\n.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description > *:last-child {\\n  border-left-width: 1px;\\n  padding-left: 4px;\\n}\\n.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button {\\n  margin-right: 4px;\\n}\\n.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header > *:nth-last-child(2) {\\n  margin-right: auto;\\n}\\n.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description {\\n  padding: 4px 8px 4px 4px;\\n}\\n.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description > *:last-child {\\n  border-right-width: 1px;\\n  padding-right: 4px;\\n}\\n.tox .tox-anchorbar {\\n  display: flex;\\n  flex: 0 0 auto;\\n}\\n.tox .tox-bar {\\n  display: flex;\\n  flex: 0 0 auto;\\n}\\n.tox .tox-button {\\n  background-color: #207ab7;\\n  background-image: none;\\n  background-position: 0 0;\\n  background-repeat: repeat;\\n  border-color: #207ab7;\\n  border-radius: 3px;\\n  border-style: solid;\\n  border-width: 1px;\\n  box-shadow: none;\\n  box-sizing: border-box;\\n  color: #fff;\\n  cursor: pointer;\\n  display: inline-block;\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \\\"Helvetica Neue\\\", sans-serif;\\n  font-size: 14px;\\n  font-style: normal;\\n  font-weight: bold;\\n  letter-spacing: normal;\\n  line-height: 24px;\\n  margin: 0;\\n  outline: none;\\n  padding: 4px 16px;\\n  text-align: center;\\n  text-decoration: none;\\n  text-transform: none;\\n  white-space: nowrap;\\n}\\n.tox .tox-button[disabled] {\\n  background-color: #207ab7;\\n  background-image: none;\\n  border-color: #207ab7;\\n  box-shadow: none;\\n  color: rgba(255, 255, 255, 0.5);\\n  cursor: not-allowed;\\n}\\n.tox .tox-button:focus:not(:disabled) {\\n  background-color: #1c6ca1;\\n  background-image: none;\\n  border-color: #1c6ca1;\\n  box-shadow: none;\\n  color: #fff;\\n}\\n.tox .tox-button:hover:not(:disabled) {\\n  background-color: #1c6ca1;\\n  background-image: none;\\n  border-color: #1c6ca1;\\n  box-shadow: none;\\n  color: #fff;\\n}\\n.tox .tox-button:active:not(:disabled) {\\n  background-color: #185d8c;\\n  background-image: none;\\n  border-color: #185d8c;\\n  box-shadow: none;\\n  color: #fff;\\n}\\n.tox .tox-button--secondary {\\n  background-color: #f0f0f0;\\n  background-image: none;\\n  background-position: 0 0;\\n  background-repeat: repeat;\\n  border-color: #f0f0f0;\\n  border-radius: 3px;\\n  border-style: solid;\\n  border-width: 1px;\\n  box-shadow: none;\\n  color: #222f3e;\\n  font-size: 14px;\\n  font-style: normal;\\n  font-weight: bold;\\n  letter-spacing: normal;\\n  outline: none;\\n  padding: 4px 16px;\\n  text-decoration: none;\\n  text-transform: none;\\n}\\n.tox .tox-button--secondary[disabled] {\\n  background-color: #f0f0f0;\\n  background-image: none;\\n  border-color: #f0f0f0;\\n  box-shadow: none;\\n  color: rgba(34, 47, 62, 0.5);\\n}\\n.tox .tox-button--secondary:focus:not(:disabled) {\\n  background-color: #e3e3e3;\\n  background-image: none;\\n  border-color: #e3e3e3;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-button--secondary:hover:not(:disabled) {\\n  background-color: #e3e3e3;\\n  background-image: none;\\n  border-color: #e3e3e3;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-button--secondary:active:not(:disabled) {\\n  background-color: #d6d6d6;\\n  background-image: none;\\n  border-color: #d6d6d6;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-button--icon,\\n.tox .tox-button.tox-button--icon,\\n.tox .tox-button.tox-button--secondary.tox-button--icon {\\n  padding: 4px;\\n}\\n.tox .tox-button--icon .tox-icon svg,\\n.tox .tox-button.tox-button--icon .tox-icon svg,\\n.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg {\\n  display: block;\\n  fill: currentColor;\\n}\\n.tox .tox-button-link {\\n  background: 0;\\n  border: none;\\n  box-sizing: border-box;\\n  cursor: pointer;\\n  display: inline-block;\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \\\"Helvetica Neue\\\", sans-serif;\\n  font-size: 16px;\\n  font-weight: normal;\\n  line-height: 1.3;\\n  margin: 0;\\n  padding: 0;\\n  white-space: nowrap;\\n}\\n.tox .tox-button-link--sm {\\n  font-size: 14px;\\n}\\n.tox .tox-button--naked {\\n  background-color: transparent;\\n  border-color: transparent;\\n  box-shadow: unset;\\n  color: #222f3e;\\n}\\n.tox .tox-button--naked[disabled] {\\n  background-color: #f0f0f0;\\n  border-color: #f0f0f0;\\n  box-shadow: none;\\n  color: rgba(34, 47, 62, 0.5);\\n}\\n.tox .tox-button--naked:hover:not(:disabled) {\\n  background-color: #e3e3e3;\\n  border-color: #e3e3e3;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-button--naked:focus:not(:disabled) {\\n  background-color: #e3e3e3;\\n  border-color: #e3e3e3;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-button--naked:active:not(:disabled) {\\n  background-color: #d6d6d6;\\n  border-color: #d6d6d6;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-button--naked .tox-icon svg {\\n  fill: currentColor;\\n}\\n.tox .tox-button--naked.tox-button--icon:hover:not(:disabled) {\\n  color: #222f3e;\\n}\\n.tox .tox-checkbox {\\n  align-items: center;\\n  border-radius: 3px;\\n  cursor: pointer;\\n  display: flex;\\n  height: 36px;\\n  min-width: 36px;\\n}\\n.tox .tox-checkbox__input {\\n  /* Hide from view but visible to screen readers */\\n  height: 1px;\\n  overflow: hidden;\\n  position: absolute;\\n  top: auto;\\n  width: 1px;\\n}\\n.tox .tox-checkbox__icons {\\n  align-items: center;\\n  border-radius: 3px;\\n  box-shadow: 0 0 0 2px transparent;\\n  box-sizing: content-box;\\n  display: flex;\\n  height: 24px;\\n  justify-content: center;\\n  padding: calc(4px - 1px);\\n  width: 24px;\\n}\\n.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg {\\n  display: block;\\n  fill: rgba(34, 47, 62, 0.3);\\n}\\n.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg {\\n  display: none;\\n  fill: #207ab7;\\n}\\n.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg {\\n  display: none;\\n  fill: #207ab7;\\n}\\n.tox .tox-checkbox--disabled {\\n  color: rgba(34, 47, 62, 0.5);\\n  cursor: not-allowed;\\n}\\n.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg {\\n  fill: rgba(34, 47, 62, 0.5);\\n}\\n.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg {\\n  fill: rgba(34, 47, 62, 0.5);\\n}\\n.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg {\\n  fill: rgba(34, 47, 62, 0.5);\\n}\\n.tox input.tox-checkbox__input:checked + .tox-checkbox__icons .tox-checkbox-icon__unchecked svg {\\n  display: none;\\n}\\n.tox input.tox-checkbox__input:checked + .tox-checkbox__icons .tox-checkbox-icon__checked svg {\\n  display: block;\\n}\\n.tox input.tox-checkbox__input:indeterminate + .tox-checkbox__icons .tox-checkbox-icon__unchecked svg {\\n  display: none;\\n}\\n.tox input.tox-checkbox__input:indeterminate + .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg {\\n  display: block;\\n}\\n.tox input.tox-checkbox__input:focus + .tox-checkbox__icons {\\n  border-radius: 3px;\\n  box-shadow: inset 0 0 0 1px #207ab7;\\n  padding: calc(4px - 1px);\\n}\\n.tox:not([dir=rtl]) .tox-checkbox__label {\\n  margin-left: 4px;\\n}\\n.tox:not([dir=rtl]) .tox-checkbox__input {\\n  left: -10000px;\\n}\\n.tox:not([dir=rtl]) .tox-bar .tox-checkbox {\\n  margin-left: 4px;\\n}\\n.tox[dir=rtl] .tox-checkbox__label {\\n  margin-right: 4px;\\n}\\n.tox[dir=rtl] .tox-checkbox__input {\\n  right: -10000px;\\n}\\n.tox[dir=rtl] .tox-bar .tox-checkbox {\\n  margin-right: 4px;\\n}\\n.tox {\\n  /* stylelint-disable-next-line no-descending-specificity */\\n}\\n.tox .tox-collection--toolbar .tox-collection__group {\\n  display: flex;\\n  padding: 0;\\n}\\n.tox .tox-collection--grid .tox-collection__group {\\n  display: flex;\\n  flex-wrap: wrap;\\n  max-height: 208px;\\n  overflow-x: hidden;\\n  overflow-y: auto;\\n  padding: 0;\\n}\\n.tox .tox-collection--list .tox-collection__group {\\n  border-bottom-width: 0;\\n  border-color: #cccccc;\\n  border-left-width: 0;\\n  border-right-width: 0;\\n  border-style: solid;\\n  border-top-width: 1px;\\n  padding: 4px 0;\\n}\\n.tox .tox-collection--list .tox-collection__group:first-child {\\n  border-top-width: 0;\\n}\\n.tox .tox-collection__group-heading {\\n  background-color: #e6e6e6;\\n  color: rgba(34, 47, 62, 0.7);\\n  cursor: default;\\n  font-size: 12px;\\n  font-style: normal;\\n  font-weight: normal;\\n  margin-bottom: 4px;\\n  margin-top: -4px;\\n  padding: 4px 8px;\\n  text-transform: none;\\n  -webkit-touch-callout: none;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n}\\n.tox .tox-collection__item {\\n  align-items: center;\\n  color: #222f3e;\\n  cursor: pointer;\\n  display: flex;\\n  -webkit-touch-callout: none;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n}\\n.tox .tox-collection--list .tox-collection__item {\\n  padding: 4px 8px;\\n}\\n.tox .tox-collection--toolbar .tox-collection__item {\\n  border-radius: 3px;\\n  padding: 4px;\\n}\\n.tox .tox-collection--grid .tox-collection__item {\\n  border-radius: 3px;\\n  padding: 4px;\\n}\\n.tox .tox-collection--list .tox-collection__item--enabled {\\n  background-color: #fff;\\n  color: #222f3e;\\n}\\n.tox .tox-collection--list .tox-collection__item--active {\\n  background-color: #dee0e2;\\n}\\n.tox .tox-collection--toolbar .tox-collection__item--enabled {\\n  background-color: #c8cbcf;\\n  color: #222f3e;\\n}\\n.tox .tox-collection--toolbar .tox-collection__item--active {\\n  background-color: #dee0e2;\\n}\\n.tox .tox-collection--grid .tox-collection__item--enabled {\\n  background-color: #c8cbcf;\\n  color: #222f3e;\\n}\\n.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled) {\\n  background-color: #dee0e2;\\n  color: #222f3e;\\n}\\n.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled) {\\n  color: #222f3e;\\n}\\n.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled) {\\n  color: #222f3e;\\n}\\n.tox .tox-collection__item-icon,\\n.tox .tox-collection__item-checkmark {\\n  align-items: center;\\n  display: flex;\\n  height: 24px;\\n  justify-content: center;\\n  width: 24px;\\n}\\n.tox .tox-collection__item-icon svg,\\n.tox .tox-collection__item-checkmark svg {\\n  fill: currentColor;\\n}\\n.tox .tox-collection--toolbar-lg .tox-collection__item-icon {\\n  height: 48px;\\n  width: 48px;\\n}\\n.tox .tox-collection__item-label {\\n  color: currentColor;\\n  display: inline-block;\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n  font-size: 14px;\\n  font-style: normal;\\n  font-weight: normal;\\n  line-height: 24px;\\n  text-transform: none;\\n  word-break: break-all;\\n}\\n.tox .tox-collection__item-accessory {\\n  color: rgba(34, 47, 62, 0.7);\\n  display: inline-block;\\n  font-size: 14px;\\n  height: 24px;\\n  line-height: 24px;\\n  text-transform: none;\\n}\\n.tox .tox-collection__item-caret {\\n  align-items: center;\\n  display: flex;\\n  min-height: 24px;\\n}\\n.tox .tox-collection__item-caret::after {\\n  content: '';\\n  font-size: 0;\\n  min-height: inherit;\\n}\\n.tox .tox-collection__item-caret svg {\\n  fill: #222f3e;\\n}\\n.tox .tox-collection__item--state-disabled {\\n  background-color: transparent;\\n  color: rgba(34, 47, 62, 0.5);\\n  cursor: not-allowed;\\n}\\n.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg {\\n  fill: rgba(34, 47, 62, 0.5);\\n}\\n.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg {\\n  display: none;\\n}\\n.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory + .tox-collection__item-checkmark {\\n  display: none;\\n}\\n.tox .tox-collection--horizontal {\\n  background-color: #fff;\\n  border: 1px solid #cccccc;\\n  border-radius: 3px;\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\\n  display: flex;\\n  flex: 0 0 auto;\\n  flex-shrink: 0;\\n  flex-wrap: nowrap;\\n  margin-bottom: 0;\\n  overflow-x: auto;\\n  padding: 0;\\n}\\n.tox .tox-collection--horizontal .tox-collection__group {\\n  align-items: center;\\n  display: flex;\\n  flex-wrap: nowrap;\\n  margin: 0;\\n  padding: 0 4px;\\n}\\n.tox .tox-collection--horizontal .tox-collection__item {\\n  height: 34px;\\n  margin: 2px 0 3px 0;\\n  padding: 0 4px;\\n}\\n.tox .tox-collection--horizontal .tox-collection__item-label {\\n  white-space: nowrap;\\n}\\n.tox .tox-collection--horizontal .tox-collection__item-caret {\\n  margin-left: 4px;\\n}\\n.tox .tox-collection__item-container {\\n  display: flex;\\n}\\n.tox .tox-collection__item-container--row {\\n  align-items: center;\\n  flex: 1 1 auto;\\n  flex-direction: row;\\n}\\n.tox .tox-collection__item-container--row.tox-collection__item-container--align-left {\\n  margin-right: auto;\\n}\\n.tox .tox-collection__item-container--row.tox-collection__item-container--align-right {\\n  justify-content: flex-end;\\n  margin-left: auto;\\n}\\n.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top {\\n  align-items: flex-start;\\n  margin-bottom: auto;\\n}\\n.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle {\\n  align-items: center;\\n}\\n.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom {\\n  align-items: flex-end;\\n  margin-top: auto;\\n}\\n.tox .tox-collection__item-container--column {\\n  -ms-grid-row-align: center;\\n      align-self: center;\\n  flex: 1 1 auto;\\n  flex-direction: column;\\n}\\n.tox .tox-collection__item-container--column.tox-collection__item-container--align-left {\\n  align-items: flex-start;\\n}\\n.tox .tox-collection__item-container--column.tox-collection__item-container--align-right {\\n  align-items: flex-end;\\n}\\n.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top {\\n  align-self: flex-start;\\n}\\n.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle {\\n  -ms-grid-row-align: center;\\n      align-self: center;\\n}\\n.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom {\\n  align-self: flex-end;\\n}\\n.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type) {\\n  border-right: 1px solid #cccccc;\\n}\\n.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item > *:not(:first-child) {\\n  margin-left: 8px;\\n}\\n.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item > .tox-collection__item-label:first-child {\\n  margin-left: 4px;\\n}\\n.tox:not([dir=rtl]) .tox-collection__item-accessory {\\n  margin-left: 16px;\\n  text-align: right;\\n}\\n.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret {\\n  margin-left: 16px;\\n}\\n.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type) {\\n  border-left: 1px solid #cccccc;\\n}\\n.tox[dir=rtl] .tox-collection--list .tox-collection__item > *:not(:first-child) {\\n  margin-right: 8px;\\n}\\n.tox[dir=rtl] .tox-collection--list .tox-collection__item > .tox-collection__item-label:first-child {\\n  margin-right: 4px;\\n}\\n.tox[dir=rtl] .tox-collection__item-accessory {\\n  margin-right: 16px;\\n  text-align: left;\\n}\\n.tox[dir=rtl] .tox-collection .tox-collection__item-caret {\\n  margin-right: 16px;\\n  transform: rotateY(180deg);\\n}\\n.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret {\\n  margin-right: 4px;\\n}\\n.tox .tox-color-picker-container {\\n  display: flex;\\n  flex-direction: row;\\n  height: 225px;\\n  margin: 0;\\n}\\n.tox .tox-sv-palette {\\n  box-sizing: border-box;\\n  display: flex;\\n  height: 100%;\\n}\\n.tox .tox-sv-palette-spectrum {\\n  height: 100%;\\n}\\n.tox .tox-sv-palette,\\n.tox .tox-sv-palette-spectrum {\\n  width: 225px;\\n}\\n.tox .tox-sv-palette-thumb {\\n  background: none;\\n  border: 1px solid black;\\n  border-radius: 50%;\\n  box-sizing: content-box;\\n  height: 12px;\\n  position: absolute;\\n  width: 12px;\\n}\\n.tox .tox-sv-palette-inner-thumb {\\n  border: 1px solid white;\\n  border-radius: 50%;\\n  height: 10px;\\n  position: absolute;\\n  width: 10px;\\n}\\n.tox .tox-hue-slider {\\n  box-sizing: border-box;\\n  height: 100%;\\n  width: 25px;\\n}\\n.tox .tox-hue-slider-spectrum {\\n  background: linear-gradient(to bottom, #f00, #ff0080, #f0f, #8000ff, #00f, #0080ff, #0ff, #00ff80, #0f0, #80ff00, #ff0, #ff8000, #f00);\\n  height: 100%;\\n  width: 100%;\\n}\\n.tox .tox-hue-slider,\\n.tox .tox-hue-slider-spectrum {\\n  width: 20px;\\n}\\n.tox .tox-hue-slider-thumb {\\n  background: white;\\n  border: 1px solid black;\\n  box-sizing: content-box;\\n  height: 4px;\\n  width: 100%;\\n}\\n.tox .tox-rgb-form {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n}\\n.tox .tox-rgb-form div {\\n  align-items: center;\\n  display: flex;\\n  justify-content: space-between;\\n  margin-bottom: 5px;\\n  width: inherit;\\n}\\n.tox .tox-rgb-form input {\\n  width: 6em;\\n}\\n.tox .tox-rgb-form input.tox-invalid {\\n  /* Need !important to override Chrome's focus styling unfortunately */\\n  border: 1px solid red !important;\\n}\\n.tox .tox-rgb-form .tox-rgba-preview {\\n  border: 1px solid black;\\n  flex-grow: 2;\\n  margin-bottom: 0;\\n}\\n.tox:not([dir=rtl]) .tox-sv-palette {\\n  margin-right: 15px;\\n}\\n.tox:not([dir=rtl]) .tox-hue-slider {\\n  margin-right: 15px;\\n}\\n.tox:not([dir=rtl]) .tox-hue-slider-thumb {\\n  margin-left: -1px;\\n}\\n.tox:not([dir=rtl]) .tox-rgb-form label {\\n  margin-right: 0.5em;\\n}\\n.tox[dir=rtl] .tox-sv-palette {\\n  margin-left: 15px;\\n}\\n.tox[dir=rtl] .tox-hue-slider {\\n  margin-left: 15px;\\n}\\n.tox[dir=rtl] .tox-hue-slider-thumb {\\n  margin-right: -1px;\\n}\\n.tox[dir=rtl] .tox-rgb-form label {\\n  margin-left: 0.5em;\\n}\\n.tox .tox-toolbar .tox-swatches,\\n.tox .tox-toolbar__primary .tox-swatches,\\n.tox .tox-toolbar__overflow .tox-swatches {\\n  margin: 2px 0 3px 4px;\\n}\\n.tox .tox-collection--list .tox-collection__group .tox-swatches-menu {\\n  border: 0;\\n  margin: -4px 0;\\n}\\n.tox .tox-swatches__row {\\n  display: flex;\\n}\\n.tox .tox-swatch {\\n  height: 30px;\\n  transition: transform 0.15s, box-shadow 0.15s;\\n  width: 30px;\\n}\\n.tox .tox-swatch:hover,\\n.tox .tox-swatch:focus {\\n  box-shadow: 0 0 0 1px rgba(127, 127, 127, 0.3) inset;\\n  transform: scale(0.8);\\n}\\n.tox .tox-swatch--remove {\\n  align-items: center;\\n  display: flex;\\n  justify-content: center;\\n}\\n.tox .tox-swatch--remove svg path {\\n  stroke: #e74c3c;\\n}\\n.tox .tox-swatches__picker-btn {\\n  align-items: center;\\n  background-color: transparent;\\n  border: 0;\\n  cursor: pointer;\\n  display: flex;\\n  height: 30px;\\n  justify-content: center;\\n  outline: none;\\n  padding: 0;\\n  width: 30px;\\n}\\n.tox .tox-swatches__picker-btn svg {\\n  height: 24px;\\n  width: 24px;\\n}\\n.tox .tox-swatches__picker-btn:hover {\\n  background: #dee0e2;\\n}\\n.tox:not([dir=rtl]) .tox-swatches__picker-btn {\\n  margin-left: auto;\\n}\\n.tox[dir=rtl] .tox-swatches__picker-btn {\\n  margin-right: auto;\\n}\\n.tox .tox-comment-thread {\\n  background: #fff;\\n  position: relative;\\n}\\n.tox .tox-comment-thread > *:not(:first-child) {\\n  margin-top: 8px;\\n}\\n.tox .tox-comment {\\n  background: #fff;\\n  border: 1px solid #cccccc;\\n  border-radius: 3px;\\n  box-shadow: 0 4px 8px 0 rgba(34, 47, 62, 0.1);\\n  padding: 8px 8px 16px 8px;\\n  position: relative;\\n}\\n.tox .tox-comment__header {\\n  align-items: center;\\n  color: #222f3e;\\n  display: flex;\\n  justify-content: space-between;\\n}\\n.tox .tox-comment__date {\\n  color: rgba(34, 47, 62, 0.7);\\n  font-size: 12px;\\n}\\n.tox .tox-comment__body {\\n  color: #222f3e;\\n  font-size: 14px;\\n  font-style: normal;\\n  font-weight: normal;\\n  line-height: 1.3;\\n  margin-top: 8px;\\n  position: relative;\\n  text-transform: initial;\\n}\\n.tox .tox-comment__body textarea {\\n  resize: none;\\n  white-space: normal;\\n  width: 100%;\\n}\\n.tox .tox-comment__expander {\\n  padding-top: 8px;\\n}\\n.tox .tox-comment__expander p {\\n  color: rgba(34, 47, 62, 0.7);\\n  font-size: 14px;\\n  font-style: normal;\\n}\\n.tox .tox-comment__body p {\\n  margin: 0;\\n}\\n.tox .tox-comment__buttonspacing {\\n  padding-top: 16px;\\n  text-align: center;\\n}\\n.tox .tox-comment-thread__overlay::after {\\n  background: #fff;\\n  bottom: 0;\\n  content: \\\"\\\";\\n  display: flex;\\n  left: 0;\\n  opacity: 0.9;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  z-index: 5;\\n}\\n.tox .tox-comment__reply {\\n  display: flex;\\n  flex-shrink: 0;\\n  flex-wrap: wrap;\\n  justify-content: flex-end;\\n  margin-top: 8px;\\n}\\n.tox .tox-comment__reply > *:first-child {\\n  margin-bottom: 8px;\\n  width: 100%;\\n}\\n.tox .tox-comment__edit {\\n  display: flex;\\n  flex-wrap: wrap;\\n  justify-content: flex-end;\\n  margin-top: 16px;\\n}\\n.tox .tox-comment__gradient::after {\\n  background: linear-gradient(rgba(255, 255, 255, 0), #fff);\\n  bottom: 0;\\n  content: \\\"\\\";\\n  display: block;\\n  height: 5em;\\n  margin-top: -40px;\\n  position: absolute;\\n  width: 100%;\\n}\\n.tox .tox-comment__overlay {\\n  background: #fff;\\n  bottom: 0;\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1;\\n  left: 0;\\n  opacity: 0.9;\\n  position: absolute;\\n  right: 0;\\n  text-align: center;\\n  top: 0;\\n  z-index: 5;\\n}\\n.tox .tox-comment__loading-text {\\n  align-items: center;\\n  color: #222f3e;\\n  display: flex;\\n  flex-direction: column;\\n  position: relative;\\n}\\n.tox .tox-comment__loading-text > div {\\n  padding-bottom: 16px;\\n}\\n.tox .tox-comment__overlaytext {\\n  bottom: 0;\\n  flex-direction: column;\\n  font-size: 14px;\\n  left: 0;\\n  padding: 1em;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  z-index: 10;\\n}\\n.tox .tox-comment__overlaytext p {\\n  background-color: #fff;\\n  box-shadow: 0 0 8px 8px #fff;\\n  color: #222f3e;\\n  text-align: center;\\n}\\n.tox .tox-comment__overlaytext div:nth-of-type(2) {\\n  font-size: 0.8em;\\n}\\n.tox .tox-comment__busy-spinner {\\n  align-items: center;\\n  background-color: #fff;\\n  bottom: 0;\\n  display: flex;\\n  justify-content: center;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  z-index: 20;\\n}\\n.tox .tox-comment__scroll {\\n  display: flex;\\n  flex-direction: column;\\n  flex-shrink: 1;\\n  overflow: auto;\\n}\\n.tox .tox-conversations {\\n  margin: 8px;\\n}\\n.tox:not([dir=rtl]) .tox-comment__edit {\\n  margin-left: 8px;\\n}\\n.tox:not([dir=rtl]) .tox-comment__buttonspacing > *:last-child,\\n.tox:not([dir=rtl]) .tox-comment__edit > *:last-child,\\n.tox:not([dir=rtl]) .tox-comment__reply > *:last-child {\\n  margin-left: 8px;\\n}\\n.tox[dir=rtl] .tox-comment__edit {\\n  margin-right: 8px;\\n}\\n.tox[dir=rtl] .tox-comment__buttonspacing > *:last-child,\\n.tox[dir=rtl] .tox-comment__edit > *:last-child,\\n.tox[dir=rtl] .tox-comment__reply > *:last-child {\\n  margin-right: 8px;\\n}\\n.tox .tox-user {\\n  align-items: center;\\n  display: flex;\\n}\\n.tox .tox-user__avatar svg {\\n  fill: rgba(34, 47, 62, 0.7);\\n}\\n.tox .tox-user__name {\\n  color: rgba(34, 47, 62, 0.7);\\n  font-size: 12px;\\n  font-style: normal;\\n  font-weight: bold;\\n  text-transform: uppercase;\\n}\\n.tox:not([dir=rtl]) .tox-user__avatar svg {\\n  margin-right: 8px;\\n}\\n.tox:not([dir=rtl]) .tox-user__avatar + .tox-user__name {\\n  margin-left: 8px;\\n}\\n.tox[dir=rtl] .tox-user__avatar svg {\\n  margin-left: 8px;\\n}\\n.tox[dir=rtl] .tox-user__avatar + .tox-user__name {\\n  margin-right: 8px;\\n}\\n.tox .tox-dialog-wrap {\\n  align-items: center;\\n  bottom: 0;\\n  display: flex;\\n  justify-content: center;\\n  left: 0;\\n  position: fixed;\\n  right: 0;\\n  top: 0;\\n  z-index: 1100;\\n}\\n.tox .tox-dialog-wrap__backdrop {\\n  background-color: rgba(255, 255, 255, 0.75);\\n  bottom: 0;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  z-index: 1;\\n}\\n.tox .tox-dialog-wrap__backdrop--opaque {\\n  background-color: #fff;\\n}\\n.tox .tox-dialog {\\n  background-color: #fff;\\n  border-color: #cccccc;\\n  border-radius: 3px;\\n  border-style: solid;\\n  border-width: 1px;\\n  box-shadow: 0 16px 16px -10px rgba(34, 47, 62, 0.15), 0 0 40px 1px rgba(34, 47, 62, 0.15);\\n  display: flex;\\n  flex-direction: column;\\n  max-height: 100%;\\n  max-width: 480px;\\n  overflow: hidden;\\n  position: relative;\\n  width: 95vw;\\n  z-index: 2;\\n}\\n@media only screen and (max-width:767px) {\\n  body:not(.tox-force-desktop) .tox .tox-dialog {\\n    align-self: flex-start;\\n    margin: 8px auto;\\n    width: calc(100vw - 16px);\\n  }\\n}\\n.tox .tox-dialog-inline {\\n  z-index: 1100;\\n}\\n.tox .tox-dialog__header {\\n  align-items: center;\\n  background-color: #fff;\\n  border-bottom: none;\\n  color: #222f3e;\\n  display: flex;\\n  font-size: 16px;\\n  justify-content: space-between;\\n  padding: 8px 16px 0 16px;\\n  position: relative;\\n}\\n.tox .tox-dialog__header .tox-button {\\n  z-index: 1;\\n}\\n.tox .tox-dialog__draghandle {\\n  cursor: grab;\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  top: 0;\\n  width: 100%;\\n}\\n.tox .tox-dialog__draghandle:active {\\n  cursor: grabbing;\\n}\\n.tox .tox-dialog__dismiss {\\n  margin-left: auto;\\n}\\n.tox .tox-dialog__title {\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \\\"Helvetica Neue\\\", sans-serif;\\n  font-size: 20px;\\n  font-style: normal;\\n  font-weight: normal;\\n  line-height: 1.3;\\n  margin: 0;\\n  text-transform: none;\\n}\\n.tox .tox-dialog__body {\\n  color: #222f3e;\\n  display: flex;\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n  font-size: 16px;\\n  font-style: normal;\\n  font-weight: normal;\\n  line-height: 1.3;\\n  min-width: 0;\\n  text-align: left;\\n  text-transform: none;\\n}\\n@media only screen and (max-width:767px) {\\n  body:not(.tox-force-desktop) .tox .tox-dialog__body {\\n    flex-direction: column;\\n  }\\n}\\n.tox .tox-dialog__body-nav {\\n  align-items: flex-start;\\n  display: flex;\\n  flex-direction: column;\\n  padding: 16px 16px;\\n}\\n@media only screen and (max-width:767px) {\\n  body:not(.tox-force-desktop) .tox .tox-dialog__body-nav {\\n    flex-direction: row;\\n    -webkit-overflow-scrolling: touch;\\n    overflow-x: auto;\\n    padding-bottom: 0;\\n  }\\n}\\n.tox .tox-dialog__body-nav-item {\\n  border-bottom: 2px solid transparent;\\n  color: rgba(34, 47, 62, 0.7);\\n  display: inline-block;\\n  font-size: 14px;\\n  line-height: 1.3;\\n  margin-bottom: 8px;\\n  text-decoration: none;\\n  white-space: nowrap;\\n}\\n.tox .tox-dialog__body-nav-item:focus {\\n  background-color: rgba(32, 122, 183, 0.1);\\n}\\n.tox .tox-dialog__body-nav-item--active {\\n  border-bottom: 2px solid #207ab7;\\n  color: #207ab7;\\n}\\n.tox .tox-dialog__body-content {\\n  box-sizing: border-box;\\n  display: flex;\\n  flex: 1;\\n  flex-direction: column;\\n  -ms-flex-preferred-size: auto;\\n  max-height: 650px;\\n  overflow: auto;\\n  -webkit-overflow-scrolling: touch;\\n  padding: 16px 16px;\\n}\\n.tox .tox-dialog__body-content > * {\\n  margin-bottom: 0;\\n  margin-top: 16px;\\n}\\n.tox .tox-dialog__body-content > *:first-child {\\n  margin-top: 0;\\n}\\n.tox .tox-dialog__body-content > *:last-child {\\n  margin-bottom: 0;\\n}\\n.tox .tox-dialog__body-content > *:only-child {\\n  margin-bottom: 0;\\n  margin-top: 0;\\n}\\n.tox .tox-dialog__body-content a {\\n  color: #207ab7;\\n  cursor: pointer;\\n  text-decoration: none;\\n}\\n.tox .tox-dialog__body-content a:hover,\\n.tox .tox-dialog__body-content a:focus {\\n  color: #185d8c;\\n  text-decoration: none;\\n}\\n.tox .tox-dialog__body-content a:active {\\n  color: #185d8c;\\n  text-decoration: none;\\n}\\n.tox .tox-dialog__body-content svg {\\n  fill: #222f3e;\\n}\\n.tox .tox-dialog__body-content ul {\\n  display: block;\\n  list-style-type: disc;\\n  margin-bottom: 16px;\\n  -webkit-margin-end: 0;\\n          margin-inline-end: 0;\\n  -webkit-margin-start: 0;\\n          margin-inline-start: 0;\\n  -webkit-padding-start: 2.5rem;\\n          padding-inline-start: 2.5rem;\\n}\\n.tox .tox-dialog__body-content .tox-form__group h1 {\\n  color: #222f3e;\\n  font-size: 20px;\\n  font-style: normal;\\n  font-weight: bold;\\n  letter-spacing: normal;\\n  margin-bottom: 16px;\\n  margin-top: 2rem;\\n  text-transform: none;\\n}\\n.tox .tox-dialog__body-content .tox-form__group h2 {\\n  color: #222f3e;\\n  font-size: 16px;\\n  font-style: normal;\\n  font-weight: bold;\\n  letter-spacing: normal;\\n  margin-bottom: 16px;\\n  margin-top: 2rem;\\n  text-transform: none;\\n}\\n.tox .tox-dialog__body-content .tox-form__group p {\\n  margin-bottom: 16px;\\n}\\n.tox .tox-dialog__body-content .tox-form__group h1:first-child,\\n.tox .tox-dialog__body-content .tox-form__group h2:first-child,\\n.tox .tox-dialog__body-content .tox-form__group p:first-child {\\n  margin-top: 0;\\n}\\n.tox .tox-dialog__body-content .tox-form__group h1:last-child,\\n.tox .tox-dialog__body-content .tox-form__group h2:last-child,\\n.tox .tox-dialog__body-content .tox-form__group p:last-child {\\n  margin-bottom: 0;\\n}\\n.tox .tox-dialog__body-content .tox-form__group h1:only-child,\\n.tox .tox-dialog__body-content .tox-form__group h2:only-child,\\n.tox .tox-dialog__body-content .tox-form__group p:only-child {\\n  margin-bottom: 0;\\n  margin-top: 0;\\n}\\n.tox .tox-dialog--width-lg {\\n  height: 650px;\\n  max-width: 1200px;\\n}\\n.tox .tox-dialog--width-md {\\n  max-width: 800px;\\n}\\n.tox .tox-dialog--width-md .tox-dialog__body-content {\\n  overflow: auto;\\n}\\n.tox .tox-dialog__body-content--centered {\\n  text-align: center;\\n}\\n.tox .tox-dialog__footer {\\n  align-items: center;\\n  background-color: #fff;\\n  border-top: 1px solid #cccccc;\\n  display: flex;\\n  justify-content: space-between;\\n  padding: 8px 16px;\\n}\\n.tox .tox-dialog__footer-start,\\n.tox .tox-dialog__footer-end {\\n  display: flex;\\n}\\n.tox .tox-dialog__busy-spinner {\\n  align-items: center;\\n  background-color: rgba(255, 255, 255, 0.75);\\n  bottom: 0;\\n  display: flex;\\n  justify-content: center;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  z-index: 3;\\n}\\n.tox .tox-dialog__table {\\n  border-collapse: collapse;\\n  width: 100%;\\n}\\n.tox .tox-dialog__table thead th {\\n  font-weight: bold;\\n  padding-bottom: 8px;\\n}\\n.tox .tox-dialog__table tbody tr {\\n  border-bottom: 1px solid #cccccc;\\n}\\n.tox .tox-dialog__table tbody tr:last-child {\\n  border-bottom: none;\\n}\\n.tox .tox-dialog__table td {\\n  padding-bottom: 8px;\\n  padding-top: 8px;\\n}\\n.tox .tox-dialog__popups {\\n  position: absolute;\\n  width: 100%;\\n  z-index: 1100;\\n}\\n.tox .tox-dialog__body-iframe {\\n  display: flex;\\n  flex: 1;\\n  flex-direction: column;\\n  -ms-flex-preferred-size: auto;\\n}\\n.tox .tox-dialog__body-iframe .tox-navobj {\\n  display: flex;\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n}\\n.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2) {\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n  height: 100%;\\n}\\n.tox .tox-dialog-dock-fadeout {\\n  opacity: 0;\\n  visibility: hidden;\\n}\\n.tox .tox-dialog-dock-fadein {\\n  opacity: 1;\\n  visibility: visible;\\n}\\n.tox .tox-dialog-dock-transition {\\n  transition: visibility 0s linear 0.3s, opacity 0.3s ease;\\n}\\n.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein {\\n  transition-delay: 0s;\\n}\\n.tox.tox-platform-ie {\\n  /* IE11 CSS styles go here */\\n}\\n.tox.tox-platform-ie .tox-dialog-wrap {\\n  position: -ms-device-fixed;\\n}\\n@media only screen and (max-width:767px) {\\n  body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav {\\n    margin-right: 0;\\n  }\\n}\\n@media only screen and (max-width:767px) {\\n  body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child) {\\n    margin-left: 8px;\\n  }\\n}\\n.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start > *,\\n.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end > * {\\n  margin-left: 8px;\\n}\\n.tox[dir=rtl] .tox-dialog__body {\\n  text-align: right;\\n}\\n@media only screen and (max-width:767px) {\\n  body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav {\\n    margin-left: 0;\\n  }\\n}\\n@media only screen and (max-width:767px) {\\n  body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child) {\\n    margin-right: 8px;\\n  }\\n}\\n.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start > *,\\n.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end > * {\\n  margin-right: 8px;\\n}\\nbody.tox-dialog__disable-scroll {\\n  overflow: hidden;\\n}\\n.tox .tox-dropzone-container {\\n  display: flex;\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n}\\n.tox .tox-dropzone {\\n  align-items: center;\\n  background: #fff;\\n  border: 2px dashed #cccccc;\\n  box-sizing: border-box;\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1;\\n  justify-content: center;\\n  min-height: 100px;\\n  padding: 10px;\\n}\\n.tox .tox-dropzone p {\\n  color: rgba(34, 47, 62, 0.7);\\n  margin: 0 0 16px 0;\\n}\\n.tox .tox-edit-area {\\n  display: flex;\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n  overflow: hidden;\\n  position: relative;\\n}\\n.tox .tox-edit-area__iframe {\\n  background-color: #fff;\\n  border: 0;\\n  box-sizing: border-box;\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n  height: 100%;\\n  position: absolute;\\n  width: 100%;\\n}\\n.tox.tox-inline-edit-area {\\n  border: 1px dotted #cccccc;\\n}\\n.tox .tox-editor-container {\\n  display: flex;\\n  flex: 1 1 auto;\\n  flex-direction: column;\\n  overflow: hidden;\\n}\\n.tox .tox-editor-header {\\n  z-index: 1;\\n}\\n.tox:not(.tox-tinymce-inline) .tox-editor-header {\\n  box-shadow: none;\\n  transition: box-shadow 0.5s;\\n}\\n.tox.tox-tinymce--toolbar-bottom .tox-editor-header,\\n.tox.tox-tinymce-inline .tox-editor-header {\\n  margin-bottom: -1px;\\n}\\n.tox.tox-tinymce--toolbar-sticky-on .tox-editor-header {\\n  background-color: transparent;\\n  box-shadow: 0 4px 4px -3px rgba(0, 0, 0, 0.25);\\n}\\n.tox-editor-dock-fadeout {\\n  opacity: 0;\\n  visibility: hidden;\\n}\\n.tox-editor-dock-fadein {\\n  opacity: 1;\\n  visibility: visible;\\n}\\n.tox-editor-dock-transition {\\n  transition: visibility 0s linear 0.25s, opacity 0.25s ease;\\n}\\n.tox-editor-dock-transition.tox-editor-dock-fadein {\\n  transition-delay: 0s;\\n}\\n.tox .tox-control-wrap {\\n  flex: 1;\\n  position: relative;\\n}\\n.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,\\n.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,\\n.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid {\\n  display: none;\\n}\\n.tox .tox-control-wrap svg {\\n  display: block;\\n}\\n.tox .tox-control-wrap__status-icon-wrap {\\n  position: absolute;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n.tox .tox-control-wrap__status-icon-invalid svg {\\n  fill: #c00;\\n}\\n.tox .tox-control-wrap__status-icon-unknown svg {\\n  fill: orange;\\n}\\n.tox .tox-control-wrap__status-icon-valid svg {\\n  fill: green;\\n}\\n.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,\\n.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,\\n.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield {\\n  padding-right: 32px;\\n}\\n.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap {\\n  right: 4px;\\n}\\n.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,\\n.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,\\n.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield {\\n  padding-left: 32px;\\n}\\n.tox[dir=rtl] .tox-control-wrap__status-icon-wrap {\\n  left: 4px;\\n}\\n.tox .tox-autocompleter {\\n  max-width: 25em;\\n}\\n.tox .tox-autocompleter .tox-menu {\\n  max-width: 25em;\\n}\\n.tox .tox-autocompleter .tox-autocompleter-highlight {\\n  font-weight: bold;\\n}\\n.tox .tox-color-input {\\n  display: flex;\\n  position: relative;\\n  z-index: 1;\\n}\\n.tox .tox-color-input .tox-textfield {\\n  z-index: -1;\\n}\\n.tox .tox-color-input span {\\n  border-color: rgba(34, 47, 62, 0.2);\\n  border-radius: 3px;\\n  border-style: solid;\\n  border-width: 1px;\\n  box-shadow: none;\\n  box-sizing: border-box;\\n  height: 24px;\\n  position: absolute;\\n  top: 6px;\\n  width: 24px;\\n}\\n.tox .tox-color-input span:hover:not([aria-disabled=true]),\\n.tox .tox-color-input span:focus:not([aria-disabled=true]) {\\n  border-color: #207ab7;\\n  cursor: pointer;\\n}\\n.tox .tox-color-input span::before {\\n  background-image: linear-gradient(45deg, rgba(0, 0, 0, 0.25) 25%, transparent 25%), linear-gradient(-45deg, rgba(0, 0, 0, 0.25) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, rgba(0, 0, 0, 0.25) 75%), linear-gradient(-45deg, transparent 75%, rgba(0, 0, 0, 0.25) 75%);\\n  background-position: 0 0, 0 6px, 6px -6px, -6px 0;\\n  background-size: 12px 12px;\\n  border: 1px solid #fff;\\n  border-radius: 3px;\\n  box-sizing: border-box;\\n  content: '';\\n  height: 24px;\\n  left: -1px;\\n  position: absolute;\\n  top: -1px;\\n  width: 24px;\\n  z-index: -1;\\n}\\n.tox .tox-color-input span[aria-disabled=true] {\\n  cursor: not-allowed;\\n}\\n.tox:not([dir=rtl]) .tox-color-input {\\n  /* stylelint-disable-next-line no-descending-specificity */\\n}\\n.tox:not([dir=rtl]) .tox-color-input .tox-textfield {\\n  padding-left: 36px;\\n}\\n.tox:not([dir=rtl]) .tox-color-input span {\\n  left: 6px;\\n}\\n.tox[dir=\\\"rtl\\\"] .tox-color-input {\\n  /* stylelint-disable-next-line no-descending-specificity */\\n}\\n.tox[dir=\\\"rtl\\\"] .tox-color-input .tox-textfield {\\n  padding-right: 36px;\\n}\\n.tox[dir=\\\"rtl\\\"] .tox-color-input span {\\n  right: 6px;\\n}\\n.tox .tox-label,\\n.tox .tox-toolbar-label {\\n  color: rgba(34, 47, 62, 0.7);\\n  display: block;\\n  font-size: 14px;\\n  font-style: normal;\\n  font-weight: normal;\\n  line-height: 1.3;\\n  padding: 0 8px 0 0;\\n  text-transform: none;\\n  white-space: nowrap;\\n}\\n.tox .tox-toolbar-label {\\n  padding: 0 8px;\\n}\\n.tox[dir=rtl] .tox-label {\\n  padding: 0 0 0 8px;\\n}\\n.tox .tox-form {\\n  display: flex;\\n  flex: 1;\\n  flex-direction: column;\\n  -ms-flex-preferred-size: auto;\\n}\\n.tox .tox-form__group {\\n  box-sizing: border-box;\\n  margin-bottom: 4px;\\n}\\n.tox .tox-form-group--maximize {\\n  flex: 1;\\n}\\n.tox .tox-form__group--error {\\n  color: #c00;\\n}\\n.tox .tox-form__group--collection {\\n  display: flex;\\n}\\n.tox .tox-form__grid {\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  justify-content: space-between;\\n}\\n.tox .tox-form__grid--2col > .tox-form__group {\\n  width: calc(50% - (8px / 2));\\n}\\n.tox .tox-form__grid--3col > .tox-form__group {\\n  width: calc(100% / 3 - (8px / 2));\\n}\\n.tox .tox-form__grid--4col > .tox-form__group {\\n  width: calc(25% - (8px / 2));\\n}\\n.tox .tox-form__controls-h-stack {\\n  align-items: center;\\n  display: flex;\\n}\\n.tox .tox-form__group--inline {\\n  align-items: center;\\n  display: flex;\\n}\\n.tox .tox-form__group--stretched {\\n  display: flex;\\n  flex: 1;\\n  flex-direction: column;\\n  -ms-flex-preferred-size: auto;\\n}\\n.tox .tox-form__group--stretched .tox-textarea {\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n}\\n.tox .tox-form__group--stretched .tox-navobj {\\n  display: flex;\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n}\\n.tox .tox-form__group--stretched .tox-navobj :nth-child(2) {\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n  height: 100%;\\n}\\n.tox:not([dir=rtl]) .tox-form__controls-h-stack > *:not(:first-child) {\\n  margin-left: 4px;\\n}\\n.tox[dir=rtl] .tox-form__controls-h-stack > *:not(:first-child) {\\n  margin-right: 4px;\\n}\\n.tox .tox-lock.tox-locked .tox-lock-icon__unlock,\\n.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock {\\n  display: none;\\n}\\n.tox .tox-textfield,\\n.tox .tox-toolbar-textfield,\\n.tox .tox-listboxfield .tox-listbox--select,\\n.tox .tox-textarea {\\n  -webkit-appearance: none;\\n     -moz-appearance: none;\\n          appearance: none;\\n  background-color: #fff;\\n  border-color: #cccccc;\\n  border-radius: 3px;\\n  border-style: solid;\\n  border-width: 1px;\\n  box-shadow: none;\\n  box-sizing: border-box;\\n  color: #222f3e;\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \\\"Helvetica Neue\\\", sans-serif;\\n  font-size: 16px;\\n  line-height: 24px;\\n  margin: 0;\\n  min-height: 34px;\\n  outline: none;\\n  padding: 5px 4.75px;\\n  resize: none;\\n  width: 100%;\\n}\\n.tox .tox-textfield[disabled],\\n.tox .tox-textarea[disabled] {\\n  background-color: #f2f2f2;\\n  color: rgba(34, 47, 62, 0.85);\\n  cursor: not-allowed;\\n}\\n.tox .tox-textfield:focus,\\n.tox .tox-listboxfield .tox-listbox--select:focus,\\n.tox .tox-textarea:focus {\\n  background-color: #fff;\\n  border-color: #207ab7;\\n  box-shadow: none;\\n  outline: none;\\n}\\n.tox .tox-toolbar-textfield {\\n  border-width: 0;\\n  margin-bottom: 3px;\\n  margin-top: 2px;\\n  max-width: 250px;\\n}\\n.tox .tox-naked-btn {\\n  background-color: transparent;\\n  border: 0;\\n  border-color: transparent;\\n  box-shadow: unset;\\n  color: #207ab7;\\n  cursor: pointer;\\n  display: block;\\n  margin: 0;\\n  padding: 0;\\n}\\n.tox .tox-naked-btn svg {\\n  display: block;\\n  fill: #222f3e;\\n}\\n.tox:not([dir=rtl]) .tox-toolbar-textfield + * {\\n  margin-left: 4px;\\n}\\n.tox[dir=rtl] .tox-toolbar-textfield + * {\\n  margin-right: 4px;\\n}\\n.tox .tox-listboxfield {\\n  cursor: pointer;\\n  position: relative;\\n}\\n.tox .tox-listboxfield .tox-listbox--select[disabled] {\\n  background-color: #f2f2f2;\\n  color: rgba(34, 47, 62, 0.85);\\n  cursor: not-allowed;\\n}\\n.tox .tox-listbox__select-label {\\n  cursor: default;\\n  flex: 1;\\n  margin: 0 4px;\\n}\\n.tox .tox-listbox__select-chevron {\\n  align-items: center;\\n  display: flex;\\n  justify-content: center;\\n  width: 16px;\\n}\\n.tox .tox-listbox__select-chevron svg {\\n  fill: #222f3e;\\n}\\n.tox .tox-listboxfield .tox-listbox--select {\\n  align-items: center;\\n  display: flex;\\n}\\n.tox:not([dir=rtl]) .tox-listboxfield svg {\\n  right: 8px;\\n}\\n.tox[dir=rtl] .tox-listboxfield svg {\\n  left: 8px;\\n}\\n.tox .tox-selectfield {\\n  cursor: pointer;\\n  position: relative;\\n}\\n.tox .tox-selectfield select {\\n  -webkit-appearance: none;\\n     -moz-appearance: none;\\n          appearance: none;\\n  background-color: #fff;\\n  border-color: #cccccc;\\n  border-radius: 3px;\\n  border-style: solid;\\n  border-width: 1px;\\n  box-shadow: none;\\n  box-sizing: border-box;\\n  color: #222f3e;\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \\\"Helvetica Neue\\\", sans-serif;\\n  font-size: 16px;\\n  line-height: 24px;\\n  margin: 0;\\n  min-height: 34px;\\n  outline: none;\\n  padding: 5px 4.75px;\\n  resize: none;\\n  width: 100%;\\n}\\n.tox .tox-selectfield select[disabled] {\\n  background-color: #f2f2f2;\\n  color: rgba(34, 47, 62, 0.85);\\n  cursor: not-allowed;\\n}\\n.tox .tox-selectfield select::-ms-expand {\\n  display: none;\\n}\\n.tox .tox-selectfield select:focus {\\n  background-color: #fff;\\n  border-color: #207ab7;\\n  box-shadow: none;\\n  outline: none;\\n}\\n.tox .tox-selectfield svg {\\n  pointer-events: none;\\n  position: absolute;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n.tox:not([dir=rtl]) .tox-selectfield select[size=\\\"0\\\"],\\n.tox:not([dir=rtl]) .tox-selectfield select[size=\\\"1\\\"] {\\n  padding-right: 24px;\\n}\\n.tox:not([dir=rtl]) .tox-selectfield svg {\\n  right: 8px;\\n}\\n.tox[dir=rtl] .tox-selectfield select[size=\\\"0\\\"],\\n.tox[dir=rtl] .tox-selectfield select[size=\\\"1\\\"] {\\n  padding-left: 24px;\\n}\\n.tox[dir=rtl] .tox-selectfield svg {\\n  left: 8px;\\n}\\n.tox .tox-textarea {\\n  -webkit-appearance: textarea;\\n     -moz-appearance: textarea;\\n          appearance: textarea;\\n  white-space: pre-wrap;\\n}\\n.tox-fullscreen {\\n  border: 0;\\n  height: 100%;\\n  margin: 0;\\n  overflow: hidden;\\n  -ms-scroll-chaining: none;\\n      overscroll-behavior: none;\\n  padding: 0;\\n  touch-action: pinch-zoom;\\n  width: 100%;\\n}\\n.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle {\\n  display: none;\\n}\\n.tox.tox-tinymce.tox-fullscreen,\\n.tox-shadowhost.tox-fullscreen {\\n  left: 0;\\n  position: fixed;\\n  top: 0;\\n  z-index: 1200;\\n}\\n.tox.tox-tinymce.tox-fullscreen {\\n  background-color: transparent;\\n}\\n.tox-fullscreen .tox.tox-tinymce-aux,\\n.tox-fullscreen ~ .tox.tox-tinymce-aux {\\n  z-index: 1201;\\n}\\n.tox .tox-help__more-link {\\n  list-style: none;\\n  margin-top: 1em;\\n}\\n.tox .tox-image-tools {\\n  width: 100%;\\n}\\n.tox .tox-image-tools__toolbar {\\n  align-items: center;\\n  display: flex;\\n  justify-content: center;\\n}\\n.tox .tox-image-tools__image {\\n  background-color: #666;\\n  height: 380px;\\n  overflow: auto;\\n  position: relative;\\n  width: 100%;\\n}\\n.tox .tox-image-tools__image,\\n.tox .tox-image-tools__image + .tox-image-tools__toolbar {\\n  margin-top: 8px;\\n}\\n.tox .tox-image-tools__image-bg {\\n  background: url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==);\\n}\\n.tox .tox-image-tools__toolbar > .tox-spacer {\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n}\\n.tox .tox-croprect-block {\\n  background: black;\\n  filter: alpha(opacity=50);\\n  opacity: 0.5;\\n  position: absolute;\\n  zoom: 1;\\n}\\n.tox .tox-croprect-handle {\\n  border: 2px solid white;\\n  height: 20px;\\n  left: 0;\\n  position: absolute;\\n  top: 0;\\n  width: 20px;\\n}\\n.tox .tox-croprect-handle-move {\\n  border: 0;\\n  cursor: move;\\n  position: absolute;\\n}\\n.tox .tox-croprect-handle-nw {\\n  border-width: 2px 0 0 2px;\\n  cursor: nw-resize;\\n  left: 100px;\\n  margin: -2px 0 0 -2px;\\n  top: 100px;\\n}\\n.tox .tox-croprect-handle-ne {\\n  border-width: 2px 2px 0 0;\\n  cursor: ne-resize;\\n  left: 200px;\\n  margin: -2px 0 0 -20px;\\n  top: 100px;\\n}\\n.tox .tox-croprect-handle-sw {\\n  border-width: 0 0 2px 2px;\\n  cursor: sw-resize;\\n  left: 100px;\\n  margin: -20px 2px 0 -2px;\\n  top: 200px;\\n}\\n.tox .tox-croprect-handle-se {\\n  border-width: 0 2px 2px 0;\\n  cursor: se-resize;\\n  left: 200px;\\n  margin: -20px 0 0 -20px;\\n  top: 200px;\\n}\\n.tox:not([dir=rtl]) .tox-image-tools__toolbar > .tox-slider:not(:first-of-type) {\\n  margin-left: 8px;\\n}\\n.tox:not([dir=rtl]) .tox-image-tools__toolbar > .tox-button + .tox-slider {\\n  margin-left: 32px;\\n}\\n.tox:not([dir=rtl]) .tox-image-tools__toolbar > .tox-slider + .tox-button {\\n  margin-left: 32px;\\n}\\n.tox[dir=rtl] .tox-image-tools__toolbar > .tox-slider:not(:first-of-type) {\\n  margin-right: 8px;\\n}\\n.tox[dir=rtl] .tox-image-tools__toolbar > .tox-button + .tox-slider {\\n  margin-right: 32px;\\n}\\n.tox[dir=rtl] .tox-image-tools__toolbar > .tox-slider + .tox-button {\\n  margin-right: 32px;\\n}\\n.tox .tox-insert-table-picker {\\n  display: flex;\\n  flex-wrap: wrap;\\n  width: 170px;\\n}\\n.tox .tox-insert-table-picker > div {\\n  border-color: #cccccc;\\n  border-style: solid;\\n  border-width: 0 1px 1px 0;\\n  box-sizing: border-box;\\n  height: 17px;\\n  width: 17px;\\n}\\n.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker {\\n  margin: -4px 0;\\n}\\n.tox .tox-insert-table-picker .tox-insert-table-picker__selected {\\n  background-color: rgba(32, 122, 183, 0.5);\\n  border-color: rgba(32, 122, 183, 0.5);\\n}\\n.tox .tox-insert-table-picker__label {\\n  color: rgba(34, 47, 62, 0.7);\\n  display: block;\\n  font-size: 14px;\\n  padding: 4px;\\n  text-align: center;\\n  width: 100%;\\n}\\n.tox:not([dir=rtl]) {\\n  /* stylelint-disable-next-line no-descending-specificity */\\n}\\n.tox:not([dir=rtl]) .tox-insert-table-picker > div:nth-child(10n) {\\n  border-right: 0;\\n}\\n.tox[dir=rtl] {\\n  /* stylelint-disable-next-line no-descending-specificity */\\n}\\n.tox[dir=rtl] .tox-insert-table-picker > div:nth-child(10n+1) {\\n  border-right: 0;\\n}\\n.tox {\\n  /* stylelint-disable */\\n  /* stylelint-enable */\\n}\\n.tox .tox-menu {\\n  background-color: #fff;\\n  border: 1px solid #cccccc;\\n  border-radius: 3px;\\n  box-shadow: 0 4px 8px 0 rgba(34, 47, 62, 0.1);\\n  display: inline-block;\\n  overflow: hidden;\\n  vertical-align: top;\\n  z-index: 1150;\\n}\\n.tox .tox-menu.tox-collection.tox-collection--list {\\n  padding: 0;\\n}\\n.tox .tox-menu.tox-collection.tox-collection--toolbar {\\n  padding: 4px;\\n}\\n.tox .tox-menu.tox-collection.tox-collection--grid {\\n  padding: 4px;\\n}\\n.tox .tox-menu__label h1,\\n.tox .tox-menu__label h2,\\n.tox .tox-menu__label h3,\\n.tox .tox-menu__label h4,\\n.tox .tox-menu__label h5,\\n.tox .tox-menu__label h6,\\n.tox .tox-menu__label p,\\n.tox .tox-menu__label blockquote,\\n.tox .tox-menu__label code {\\n  margin: 0;\\n}\\n.tox .tox-menubar {\\n  background: url(\\\"data:image/svg+xml;charset=utf8,%3Csvg height='39px' viewBox='0 0 40 39px' width='40' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='0' y='38px' width='100' height='1' fill='%23cccccc'/%3E%3C/svg%3E\\\") left 0 top 0 #fff;\\n  background-color: #fff;\\n  display: flex;\\n  flex: 0 0 auto;\\n  flex-shrink: 0;\\n  flex-wrap: wrap;\\n  padding: 0 4px 0 4px;\\n}\\n.tox.tox-tinymce:not(.tox-tinymce-inline) .tox-editor-header:not(:first-child) .tox-menubar {\\n  border-top: 1px solid #cccccc;\\n}\\n/* Deprecated. Remove in next major release */\\n.tox .tox-mbtn {\\n  align-items: center;\\n  background: transparent;\\n  border: 0;\\n  border-radius: 3px;\\n  box-shadow: none;\\n  color: #222f3e;\\n  display: flex;\\n  flex: 0 0 auto;\\n  font-size: 14px;\\n  font-style: normal;\\n  font-weight: normal;\\n  height: 34px;\\n  justify-content: center;\\n  margin: 2px 0 3px 0;\\n  outline: none;\\n  overflow: hidden;\\n  padding: 0 4px;\\n  text-transform: none;\\n  width: auto;\\n}\\n.tox .tox-mbtn[disabled] {\\n  background-color: transparent;\\n  border: 0;\\n  box-shadow: none;\\n  color: rgba(34, 47, 62, 0.5);\\n  cursor: not-allowed;\\n}\\n.tox .tox-mbtn:focus:not(:disabled) {\\n  background: #dee0e2;\\n  border: 0;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-mbtn--active {\\n  background: #c8cbcf;\\n  border: 0;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active) {\\n  background: #dee0e2;\\n  border: 0;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-mbtn__select-label {\\n  cursor: default;\\n  font-weight: normal;\\n  margin: 0 4px;\\n}\\n.tox .tox-mbtn[disabled] .tox-mbtn__select-label {\\n  cursor: not-allowed;\\n}\\n.tox .tox-mbtn__select-chevron {\\n  align-items: center;\\n  display: flex;\\n  justify-content: center;\\n  width: 16px;\\n  display: none;\\n}\\n.tox .tox-notification {\\n  border-radius: 3px;\\n  border-style: solid;\\n  border-width: 1px;\\n  box-shadow: none;\\n  box-sizing: border-box;\\n  display: -ms-grid;\\n  display: grid;\\n  font-size: 14px;\\n  font-weight: normal;\\n  -ms-grid-columns: minmax(40px, 1fr) auto minmax(40px, 1fr);\\n      grid-template-columns: minmax(40px, 1fr) auto minmax(40px, 1fr);\\n  margin-top: 4px;\\n  opacity: 0;\\n  padding: 4px;\\n  transition: transform 100ms ease-in, opacity 150ms ease-in;\\n}\\n.tox .tox-notification p {\\n  font-size: 14px;\\n  font-weight: normal;\\n}\\n.tox .tox-notification a {\\n  cursor: pointer;\\n  text-decoration: underline;\\n}\\n.tox .tox-notification--in {\\n  opacity: 1;\\n}\\n.tox .tox-notification--success {\\n  background-color: #e4eeda;\\n  border-color: #d7e6c8;\\n  color: #222f3e;\\n}\\n.tox .tox-notification--success p {\\n  color: #222f3e;\\n}\\n.tox .tox-notification--success a {\\n  color: #547831;\\n}\\n.tox .tox-notification--success svg {\\n  fill: #222f3e;\\n}\\n.tox .tox-notification--error {\\n  background-color: #f8dede;\\n  border-color: #f2bfbf;\\n  color: #222f3e;\\n}\\n.tox .tox-notification--error p {\\n  color: #222f3e;\\n}\\n.tox .tox-notification--error a {\\n  color: #c00;\\n}\\n.tox .tox-notification--error svg {\\n  fill: #222f3e;\\n}\\n.tox .tox-notification--warn,\\n.tox .tox-notification--warning {\\n  background-color: #fffaea;\\n  border-color: #ffe89d;\\n  color: #222f3e;\\n}\\n.tox .tox-notification--warn p,\\n.tox .tox-notification--warning p {\\n  color: #222f3e;\\n}\\n.tox .tox-notification--warn a,\\n.tox .tox-notification--warning a {\\n  color: #222f3e;\\n}\\n.tox .tox-notification--warn svg,\\n.tox .tox-notification--warning svg {\\n  fill: #222f3e;\\n}\\n.tox .tox-notification--info {\\n  background-color: #d9edf7;\\n  border-color: #779ecb;\\n  color: #222f3e;\\n}\\n.tox .tox-notification--info p {\\n  color: #222f3e;\\n}\\n.tox .tox-notification--info a {\\n  color: #222f3e;\\n}\\n.tox .tox-notification--info svg {\\n  fill: #222f3e;\\n}\\n.tox .tox-notification__body {\\n  -ms-grid-row-align: center;\\n      align-self: center;\\n  color: #222f3e;\\n  font-size: 14px;\\n  -ms-grid-column-span: 1;\\n  grid-column-end: 3;\\n  -ms-grid-column: 2;\\n      grid-column-start: 2;\\n  -ms-grid-row-span: 1;\\n  grid-row-end: 2;\\n  -ms-grid-row: 1;\\n      grid-row-start: 1;\\n  text-align: center;\\n  white-space: normal;\\n  word-break: break-all;\\n  word-break: break-word;\\n}\\n.tox .tox-notification__body > * {\\n  margin: 0;\\n}\\n.tox .tox-notification__body > * + * {\\n  margin-top: 1rem;\\n}\\n.tox .tox-notification__icon {\\n  -ms-grid-row-align: center;\\n      align-self: center;\\n  -ms-grid-column-span: 1;\\n  grid-column-end: 2;\\n  -ms-grid-column: 1;\\n      grid-column-start: 1;\\n  -ms-grid-row-span: 1;\\n  grid-row-end: 2;\\n  -ms-grid-row: 1;\\n      grid-row-start: 1;\\n  -ms-grid-column-align: end;\\n      justify-self: end;\\n}\\n.tox .tox-notification__icon svg {\\n  display: block;\\n}\\n.tox .tox-notification__dismiss {\\n  -ms-grid-row-align: start;\\n      align-self: start;\\n  -ms-grid-column-span: 1;\\n  grid-column-end: 4;\\n  -ms-grid-column: 3;\\n      grid-column-start: 3;\\n  -ms-grid-row-span: 1;\\n  grid-row-end: 2;\\n  -ms-grid-row: 1;\\n      grid-row-start: 1;\\n  -ms-grid-column-align: end;\\n      justify-self: end;\\n}\\n.tox .tox-notification .tox-progress-bar {\\n  -ms-grid-column-span: 3;\\n  grid-column-end: 4;\\n  -ms-grid-column: 1;\\n      grid-column-start: 1;\\n  -ms-grid-row-span: 1;\\n  grid-row-end: 3;\\n  -ms-grid-row: 2;\\n      grid-row-start: 2;\\n  -ms-grid-column-align: center;\\n      justify-self: center;\\n}\\n.tox .tox-pop {\\n  display: inline-block;\\n  position: relative;\\n}\\n.tox .tox-pop--resizing {\\n  transition: width 0.1s ease;\\n}\\n.tox .tox-pop--resizing .tox-toolbar,\\n.tox .tox-pop--resizing .tox-toolbar__group {\\n  flex-wrap: nowrap;\\n}\\n.tox .tox-pop--transition {\\n  transition: 0.15s ease;\\n  transition-property: left, right, top, bottom;\\n}\\n.tox .tox-pop--transition::before,\\n.tox .tox-pop--transition::after {\\n  transition: all 0.15s, visibility 0s, opacity 0.075s ease 0.075s;\\n}\\n.tox .tox-pop__dialog {\\n  background-color: #fff;\\n  border: 1px solid #cccccc;\\n  border-radius: 3px;\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\\n  min-width: 0;\\n  overflow: hidden;\\n}\\n.tox .tox-pop__dialog > *:not(.tox-toolbar) {\\n  margin: 4px 4px 4px 8px;\\n}\\n.tox .tox-pop__dialog .tox-toolbar {\\n  background-color: transparent;\\n  margin-bottom: -1px;\\n}\\n.tox .tox-pop::before,\\n.tox .tox-pop::after {\\n  border-style: solid;\\n  content: '';\\n  display: block;\\n  height: 0;\\n  opacity: 1;\\n  position: absolute;\\n  width: 0;\\n}\\n.tox .tox-pop.tox-pop--inset::before,\\n.tox .tox-pop.tox-pop--inset::after {\\n  opacity: 0;\\n  transition: all 0s 0.15s, visibility 0s, opacity 0.075s ease;\\n}\\n.tox .tox-pop.tox-pop--bottom::before,\\n.tox .tox-pop.tox-pop--bottom::after {\\n  left: 50%;\\n  top: 100%;\\n}\\n.tox .tox-pop.tox-pop--bottom::after {\\n  border-color: #fff transparent transparent transparent;\\n  border-width: 8px;\\n  margin-left: -8px;\\n  margin-top: -1px;\\n}\\n.tox .tox-pop.tox-pop--bottom::before {\\n  border-color: #cccccc transparent transparent transparent;\\n  border-width: 9px;\\n  margin-left: -9px;\\n}\\n.tox .tox-pop.tox-pop--top::before,\\n.tox .tox-pop.tox-pop--top::after {\\n  left: 50%;\\n  top: 0;\\n  transform: translateY(-100%);\\n}\\n.tox .tox-pop.tox-pop--top::after {\\n  border-color: transparent transparent #fff transparent;\\n  border-width: 8px;\\n  margin-left: -8px;\\n  margin-top: 1px;\\n}\\n.tox .tox-pop.tox-pop--top::before {\\n  border-color: transparent transparent #cccccc transparent;\\n  border-width: 9px;\\n  margin-left: -9px;\\n}\\n.tox .tox-pop.tox-pop--left::before,\\n.tox .tox-pop.tox-pop--left::after {\\n  left: 0;\\n  top: calc(50% - 1px);\\n  transform: translateY(-50%);\\n}\\n.tox .tox-pop.tox-pop--left::after {\\n  border-color: transparent #fff transparent transparent;\\n  border-width: 8px;\\n  margin-left: -15px;\\n}\\n.tox .tox-pop.tox-pop--left::before {\\n  border-color: transparent #cccccc transparent transparent;\\n  border-width: 10px;\\n  margin-left: -19px;\\n}\\n.tox .tox-pop.tox-pop--right::before,\\n.tox .tox-pop.tox-pop--right::after {\\n  left: 100%;\\n  top: calc(50% + 1px);\\n  transform: translateY(-50%);\\n}\\n.tox .tox-pop.tox-pop--right::after {\\n  border-color: transparent transparent transparent #fff;\\n  border-width: 8px;\\n  margin-left: -1px;\\n}\\n.tox .tox-pop.tox-pop--right::before {\\n  border-color: transparent transparent transparent #cccccc;\\n  border-width: 10px;\\n  margin-left: -1px;\\n}\\n.tox .tox-pop.tox-pop--align-left::before,\\n.tox .tox-pop.tox-pop--align-left::after {\\n  left: 20px;\\n}\\n.tox .tox-pop.tox-pop--align-right::before,\\n.tox .tox-pop.tox-pop--align-right::after {\\n  left: calc(100% - 20px);\\n}\\n.tox .tox-sidebar-wrap {\\n  display: flex;\\n  flex-direction: row;\\n  flex-grow: 1;\\n  -ms-flex-preferred-size: 0;\\n  min-height: 0;\\n}\\n.tox .tox-sidebar {\\n  background-color: #fff;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: flex-end;\\n}\\n.tox .tox-sidebar__slider {\\n  display: flex;\\n  overflow: hidden;\\n}\\n.tox .tox-sidebar__pane-container {\\n  display: flex;\\n}\\n.tox .tox-sidebar__pane {\\n  display: flex;\\n}\\n.tox .tox-sidebar--sliding-closed {\\n  opacity: 0;\\n}\\n.tox .tox-sidebar--sliding-open {\\n  opacity: 1;\\n}\\n.tox .tox-sidebar--sliding-growing,\\n.tox .tox-sidebar--sliding-shrinking {\\n  transition: width 0.5s ease, opacity 0.5s ease;\\n}\\n.tox .tox-selector {\\n  background-color: #4099ff;\\n  border-color: #4099ff;\\n  border-style: solid;\\n  border-width: 1px;\\n  box-sizing: border-box;\\n  display: inline-block;\\n  height: 10px;\\n  position: absolute;\\n  width: 10px;\\n}\\n.tox.tox-platform-touch .tox-selector {\\n  height: 12px;\\n  width: 12px;\\n}\\n.tox .tox-slider {\\n  align-items: center;\\n  display: flex;\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n  height: 24px;\\n  justify-content: center;\\n  position: relative;\\n}\\n.tox .tox-slider__rail {\\n  background-color: transparent;\\n  border: 1px solid #cccccc;\\n  border-radius: 3px;\\n  height: 10px;\\n  min-width: 120px;\\n  width: 100%;\\n}\\n.tox .tox-slider__handle {\\n  background-color: #207ab7;\\n  border: 2px solid #185d8c;\\n  border-radius: 3px;\\n  box-shadow: none;\\n  height: 24px;\\n  left: 50%;\\n  position: absolute;\\n  top: 50%;\\n  transform: translateX(-50%) translateY(-50%);\\n  width: 14px;\\n}\\n.tox .tox-source-code {\\n  overflow: auto;\\n}\\n.tox .tox-spinner {\\n  display: flex;\\n}\\n.tox .tox-spinner > div {\\n  animation: tam-bouncing-dots 1.5s ease-in-out 0s infinite both;\\n  background-color: rgba(34, 47, 62, 0.7);\\n  border-radius: 100%;\\n  height: 8px;\\n  width: 8px;\\n}\\n.tox .tox-spinner > div:nth-child(1) {\\n  animation-delay: -0.32s;\\n}\\n.tox .tox-spinner > div:nth-child(2) {\\n  animation-delay: -0.16s;\\n}\\n@keyframes tam-bouncing-dots {\\n  0%,\\n  80%,\\n  100% {\\n    transform: scale(0);\\n  }\\n  40% {\\n    transform: scale(1);\\n  }\\n}\\n.tox:not([dir=rtl]) .tox-spinner > div:not(:first-child) {\\n  margin-left: 4px;\\n}\\n.tox[dir=rtl] .tox-spinner > div:not(:first-child) {\\n  margin-right: 4px;\\n}\\n.tox .tox-statusbar {\\n  align-items: center;\\n  background-color: #fff;\\n  border-top: 1px solid #cccccc;\\n  color: rgba(34, 47, 62, 0.7);\\n  display: flex;\\n  flex: 0 0 auto;\\n  font-size: 12px;\\n  font-weight: normal;\\n  height: 18px;\\n  overflow: hidden;\\n  padding: 0 8px;\\n  position: relative;\\n  text-transform: uppercase;\\n}\\n.tox .tox-statusbar__text-container {\\n  display: flex;\\n  flex: 1 1 auto;\\n  justify-content: flex-end;\\n  overflow: hidden;\\n}\\n.tox .tox-statusbar__path {\\n  display: flex;\\n  flex: 1 1 auto;\\n  margin-right: auto;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n.tox .tox-statusbar__path > * {\\n  display: inline;\\n  white-space: nowrap;\\n}\\n.tox .tox-statusbar__wordcount {\\n  flex: 0 0 auto;\\n  margin-left: 1ch;\\n}\\n.tox .tox-statusbar a,\\n.tox .tox-statusbar__path-item,\\n.tox .tox-statusbar__wordcount {\\n  color: rgba(34, 47, 62, 0.7);\\n  text-decoration: none;\\n}\\n.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),\\n.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),\\n.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]),\\n.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),\\n.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),\\n.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]) {\\n  cursor: pointer;\\n  text-decoration: underline;\\n}\\n.tox .tox-statusbar__resize-handle {\\n  align-items: flex-end;\\n  align-self: stretch;\\n  cursor: nwse-resize;\\n  display: flex;\\n  flex: 0 0 auto;\\n  justify-content: flex-end;\\n  margin-left: auto;\\n  margin-right: -8px;\\n  padding-left: 1ch;\\n}\\n.tox .tox-statusbar__resize-handle svg {\\n  display: block;\\n  fill: rgba(34, 47, 62, 0.7);\\n}\\n.tox .tox-statusbar__resize-handle:focus svg {\\n  background-color: #dee0e2;\\n  border-radius: 1px;\\n  box-shadow: 0 0 0 2px #dee0e2;\\n}\\n.tox:not([dir=rtl]) .tox-statusbar__path > * {\\n  margin-right: 4px;\\n}\\n.tox:not([dir=rtl]) .tox-statusbar__branding {\\n  margin-left: 1ch;\\n}\\n.tox[dir=rtl] .tox-statusbar {\\n  flex-direction: row-reverse;\\n}\\n.tox[dir=rtl] .tox-statusbar__path > * {\\n  margin-left: 4px;\\n}\\n.tox .tox-throbber {\\n  z-index: 1299;\\n}\\n.tox .tox-throbber__busy-spinner {\\n  align-items: center;\\n  background-color: rgba(255, 255, 255, 0.6);\\n  bottom: 0;\\n  display: flex;\\n  justify-content: center;\\n  left: 0;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n}\\n.tox .tox-tbtn {\\n  align-items: center;\\n  background: transparent;\\n  border: 0;\\n  border-radius: 3px;\\n  box-shadow: none;\\n  color: #222f3e;\\n  display: flex;\\n  flex: 0 0 auto;\\n  font-size: 14px;\\n  font-style: normal;\\n  font-weight: normal;\\n  height: 34px;\\n  justify-content: center;\\n  margin: 2px 0 3px 0;\\n  outline: none;\\n  overflow: hidden;\\n  padding: 0;\\n  text-transform: none;\\n  width: 34px;\\n}\\n.tox .tox-tbtn svg {\\n  display: block;\\n  fill: #222f3e;\\n}\\n.tox .tox-tbtn.tox-tbtn-more {\\n  padding-left: 5px;\\n  padding-right: 5px;\\n  width: inherit;\\n}\\n.tox .tox-tbtn:focus {\\n  background: #dee0e2;\\n  border: 0;\\n  box-shadow: none;\\n}\\n.tox .tox-tbtn:hover {\\n  background: #dee0e2;\\n  border: 0;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-tbtn:hover svg {\\n  fill: #222f3e;\\n}\\n.tox .tox-tbtn:active {\\n  background: #c8cbcf;\\n  border: 0;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-tbtn:active svg {\\n  fill: #222f3e;\\n}\\n.tox .tox-tbtn--disabled,\\n.tox .tox-tbtn--disabled:hover,\\n.tox .tox-tbtn:disabled,\\n.tox .tox-tbtn:disabled:hover {\\n  background: transparent;\\n  border: 0;\\n  box-shadow: none;\\n  color: rgba(34, 47, 62, 0.5);\\n  cursor: not-allowed;\\n}\\n.tox .tox-tbtn--disabled svg,\\n.tox .tox-tbtn--disabled:hover svg,\\n.tox .tox-tbtn:disabled svg,\\n.tox .tox-tbtn:disabled:hover svg {\\n  /* stylelint-disable-line no-descending-specificity */\\n  fill: rgba(34, 47, 62, 0.5);\\n}\\n.tox .tox-tbtn--enabled,\\n.tox .tox-tbtn--enabled:hover {\\n  background: #c8cbcf;\\n  border: 0;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-tbtn--enabled > *,\\n.tox .tox-tbtn--enabled:hover > * {\\n  transform: none;\\n}\\n.tox .tox-tbtn--enabled svg,\\n.tox .tox-tbtn--enabled:hover svg {\\n  /* stylelint-disable-line no-descending-specificity */\\n  fill: #222f3e;\\n}\\n.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) {\\n  color: #222f3e;\\n}\\n.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg {\\n  fill: #222f3e;\\n}\\n.tox .tox-tbtn:active > * {\\n  transform: none;\\n}\\n.tox .tox-tbtn--md {\\n  height: 51px;\\n  width: 51px;\\n}\\n.tox .tox-tbtn--lg {\\n  flex-direction: column;\\n  height: 68px;\\n  width: 68px;\\n}\\n.tox .tox-tbtn--return {\\n  -ms-grid-row-align: stretch;\\n      align-self: stretch;\\n  height: unset;\\n  width: 16px;\\n}\\n.tox .tox-tbtn--labeled {\\n  padding: 0 4px;\\n  width: unset;\\n}\\n.tox .tox-tbtn__vlabel {\\n  display: block;\\n  font-size: 10px;\\n  font-weight: normal;\\n  letter-spacing: -0.025em;\\n  margin-bottom: 4px;\\n  white-space: nowrap;\\n}\\n.tox .tox-tbtn--select {\\n  margin: 2px 0 3px 0;\\n  padding: 0 4px;\\n  width: auto;\\n}\\n.tox .tox-tbtn__select-label {\\n  cursor: default;\\n  font-weight: normal;\\n  margin: 0 4px;\\n}\\n.tox .tox-tbtn__select-chevron {\\n  align-items: center;\\n  display: flex;\\n  justify-content: center;\\n  width: 16px;\\n}\\n.tox .tox-tbtn__select-chevron svg {\\n  fill: rgba(34, 47, 62, 0.5);\\n}\\n.tox .tox-tbtn--bespoke .tox-tbtn__select-label {\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  width: 7em;\\n}\\n.tox .tox-split-button {\\n  border: 0;\\n  border-radius: 3px;\\n  box-sizing: border-box;\\n  display: flex;\\n  margin: 2px 0 3px 0;\\n  overflow: hidden;\\n}\\n.tox .tox-split-button:hover {\\n  box-shadow: 0 0 0 1px #dee0e2 inset;\\n}\\n.tox .tox-split-button:focus {\\n  background: #dee0e2;\\n  box-shadow: none;\\n  color: #222f3e;\\n}\\n.tox .tox-split-button > * {\\n  border-radius: 0;\\n}\\n.tox .tox-split-button__chevron {\\n  width: 16px;\\n}\\n.tox .tox-split-button__chevron svg {\\n  fill: rgba(34, 47, 62, 0.5);\\n}\\n.tox .tox-split-button .tox-tbtn {\\n  margin: 0;\\n}\\n.tox.tox-platform-touch .tox-split-button .tox-tbtn:first-child {\\n  width: 30px;\\n}\\n.tox.tox-platform-touch .tox-split-button__chevron {\\n  width: 20px;\\n}\\n.tox .tox-split-button.tox-tbtn--disabled:hover,\\n.tox .tox-split-button.tox-tbtn--disabled:focus,\\n.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,\\n.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus {\\n  background: transparent;\\n  box-shadow: none;\\n  color: rgba(34, 47, 62, 0.5);\\n}\\n.tox .tox-toolbar-overlord {\\n  background-color: #fff;\\n}\\n.tox .tox-toolbar,\\n.tox .tox-toolbar__primary,\\n.tox .tox-toolbar__overflow {\\n  background: url(\\\"data:image/svg+xml;charset=utf8,%3Csvg height='39px' viewBox='0 0 40 39px' width='40' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='0' y='38px' width='100' height='1' fill='%23cccccc'/%3E%3C/svg%3E\\\") left 0 top 0 #fff;\\n  background-color: #fff;\\n  display: flex;\\n  flex: 0 0 auto;\\n  flex-shrink: 0;\\n  flex-wrap: wrap;\\n  padding: 0 0;\\n}\\n.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed {\\n  height: 0;\\n  opacity: 0;\\n  padding-bottom: 0;\\n  padding-top: 0;\\n  visibility: hidden;\\n}\\n.tox .tox-toolbar__overflow--growing {\\n  transition: height 0.3s ease, opacity 0.2s linear 0.1s;\\n}\\n.tox .tox-toolbar__overflow--shrinking {\\n  transition: opacity 0.3s ease, height 0.2s linear 0.1s, visibility 0s linear 0.3s;\\n}\\n.tox .tox-menubar + .tox-toolbar,\\n.tox .tox-menubar + .tox-toolbar-overlord .tox-toolbar__primary {\\n  border-top: 1px solid #cccccc;\\n  margin-top: -1px;\\n}\\n.tox .tox-toolbar--scrolling {\\n  flex-wrap: nowrap;\\n  overflow-x: auto;\\n}\\n.tox .tox-pop .tox-toolbar {\\n  border-width: 0;\\n}\\n.tox .tox-toolbar--no-divider {\\n  background-image: none;\\n}\\n.tox-tinymce:not(.tox-tinymce-inline) .tox-editor-header:not(:first-child) .tox-toolbar:first-child,\\n.tox-tinymce:not(.tox-tinymce-inline) .tox-editor-header:not(:first-child) .tox-toolbar-overlord:first-child .tox-toolbar__primary {\\n  border-top: 1px solid #cccccc;\\n}\\n.tox.tox-tinymce-aux .tox-toolbar__overflow {\\n  background-color: #fff;\\n  border: 1px solid #cccccc;\\n  border-radius: 3px;\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\\n}\\n.tox .tox-toolbar__group {\\n  align-items: center;\\n  display: flex;\\n  flex-wrap: wrap;\\n  margin: 0 0;\\n  padding: 0 4px 0 4px;\\n}\\n.tox .tox-toolbar__group--pull-right {\\n  margin-left: auto;\\n}\\n.tox .tox-toolbar--scrolling .tox-toolbar__group {\\n  flex-shrink: 0;\\n  flex-wrap: nowrap;\\n}\\n.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type) {\\n  border-right: 1px solid #cccccc;\\n}\\n.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type) {\\n  border-left: 1px solid #cccccc;\\n}\\n.tox .tox-tooltip {\\n  display: inline-block;\\n  padding: 8px;\\n  position: relative;\\n}\\n.tox .tox-tooltip__body {\\n  background-color: #222f3e;\\n  border-radius: 3px;\\n  box-shadow: 0 2px 4px rgba(34, 47, 62, 0.3);\\n  color: rgba(255, 255, 255, 0.75);\\n  font-size: 14px;\\n  font-style: normal;\\n  font-weight: normal;\\n  padding: 4px 8px;\\n  text-transform: none;\\n}\\n.tox .tox-tooltip__arrow {\\n  position: absolute;\\n}\\n.tox .tox-tooltip--down .tox-tooltip__arrow {\\n  border-left: 8px solid transparent;\\n  border-right: 8px solid transparent;\\n  border-top: 8px solid #222f3e;\\n  bottom: 0;\\n  left: 50%;\\n  position: absolute;\\n  transform: translateX(-50%);\\n}\\n.tox .tox-tooltip--up .tox-tooltip__arrow {\\n  border-bottom: 8px solid #222f3e;\\n  border-left: 8px solid transparent;\\n  border-right: 8px solid transparent;\\n  left: 50%;\\n  position: absolute;\\n  top: 0;\\n  transform: translateX(-50%);\\n}\\n.tox .tox-tooltip--right .tox-tooltip__arrow {\\n  border-bottom: 8px solid transparent;\\n  border-left: 8px solid #222f3e;\\n  border-top: 8px solid transparent;\\n  position: absolute;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n.tox .tox-tooltip--left .tox-tooltip__arrow {\\n  border-bottom: 8px solid transparent;\\n  border-right: 8px solid #222f3e;\\n  border-top: 8px solid transparent;\\n  left: 0;\\n  position: absolute;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n.tox .tox-well {\\n  border: 1px solid #cccccc;\\n  border-radius: 3px;\\n  padding: 8px;\\n  width: 100%;\\n}\\n.tox .tox-well > *:first-child {\\n  margin-top: 0;\\n}\\n.tox .tox-well > *:last-child {\\n  margin-bottom: 0;\\n}\\n.tox .tox-well > *:only-child {\\n  margin: 0;\\n}\\n.tox .tox-custom-editor {\\n  border: 1px solid #cccccc;\\n  border-radius: 3px;\\n  display: flex;\\n  flex: 1;\\n  position: relative;\\n}\\n/* stylelint-disable */\\n.tox {\\n  /* stylelint-enable */\\n}\\n.tox .tox-dialog-loading::before {\\n  background-color: rgba(0, 0, 0, 0.5);\\n  content: \\\"\\\";\\n  height: 100%;\\n  position: absolute;\\n  width: 100%;\\n  z-index: 1000;\\n}\\n.tox .tox-tab {\\n  cursor: pointer;\\n}\\n.tox .tox-dialog__content-js {\\n  display: flex;\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n}\\n.tox .tox-dialog__body-content .tox-collection {\\n  display: flex;\\n  flex: 1;\\n  -ms-flex-preferred-size: auto;\\n}\\n.tox .tox-image-tools-edit-panel {\\n  height: 60px;\\n}\\n.tox .tox-image-tools__sidebar {\\n  height: 60px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../style-loader/dist/runtime/styleDomAPI.js\";\n      \n      import setAttributes from \"!../../../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../css-loader/dist/cjs.js!../../../../../sass-loader/dist/cjs.js!./tinymce.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = function top_head_insert(el) {\n    // Insert element at the top of <head>\n    // Used for injecting CSS via webpack before any other CSS\n    // Note:\n    // Keep code compatible with IE11 as long as we support it.\n    var first_child = document.head.querySelectorAll(\"*\")[0];\n    if (first_child) {\n        document.head.insertBefore(el, first_child);\n    } else {\n        document.head.append(el);\n    }\n};\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../css-loader/dist/cjs.js!../../../../../sass-loader/dist/cjs.js!./tinymce.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../style-loader/dist/runtime/styleDomAPI.js\";\n      \n      import setAttributes from \"!../../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../css-loader/dist/cjs.js!../../../../sass-loader/dist/cjs.js!./content.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = function top_head_insert(el) {\n    // Insert element at the top of <head>\n    // Used for injecting CSS via webpack before any other CSS\n    // Note:\n    // Keep code compatible with IE11 as long as we support it.\n    var first_child = document.head.querySelectorAll(\"*\")[0];\n    if (first_child) {\n        document.head.insertBefore(el, first_child);\n    } else {\n        document.head.append(el);\n    }\n};\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../css-loader/dist/cjs.js!../../../../sass-loader/dist/cjs.js!./content.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../style-loader/dist/runtime/styleDomAPI.js\";\n      \n      import setAttributes from \"!../../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../css-loader/dist/cjs.js!../../../../sass-loader/dist/cjs.js!./skin.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = function top_head_insert(el) {\n    // Insert element at the top of <head>\n    // Used for injecting CSS via webpack before any other CSS\n    // Note:\n    // Keep code compatible with IE11 as long as we support it.\n    var first_child = document.head.querySelectorAll(\"*\")[0];\n    if (first_child) {\n        document.head.insertBefore(el, first_child);\n    } else {\n        document.head.append(el);\n    }\n};\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../css-loader/dist/cjs.js!../../../../sass-loader/dist/cjs.js!./skin.css\";\n       export default content && content.locals ? content.locals : undefined;\n","tinymce.IconManager.add('default', {\n  icons: {\n    'accessibility-check': '<svg width=\"24\" height=\"24\"><path d=\"M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z\" fill-rule=\"nonzero\"/></svg>',\n    'action-next': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z\"/></svg>',\n    'action-prev': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z\"/></svg>',\n    'align-center': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'align-justify': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'align-left': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'align-none': '<svg width=\"24\" height=\"24\"><path d=\"M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z\" fill-rule=\"evenodd\"/></svg>',\n    'align-right': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'arrow-left': '<svg width=\"24\" height=\"24\"><path d=\"M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z\" fill-rule=\"evenodd\"/></svg>',\n    'arrow-right': '<svg width=\"24\" height=\"24\"><path d=\"M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z\" fill-rule=\"evenodd\"/></svg>',\n    'bold': '<svg width=\"24\" height=\"24\"><path d=\"M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z\" fill-rule=\"evenodd\"/></svg>',\n    'bookmark': '<svg width=\"24\" height=\"24\"><path d=\"M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z\" fill-rule=\"nonzero\"/></svg>',\n    'border-style': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><rect width=\"18\" height=\"2\" x=\"3\" y=\"6\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"3\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"6.8\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"10.6\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"14.4\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"18.2\" y=\"16\" rx=\"1\"/><rect width=\"8\" height=\"2\" x=\"3\" y=\"11\" rx=\"1\"/><rect width=\"8\" height=\"2\" x=\"13\" y=\"11\" rx=\"1\"/></g></svg>',\n    'border-width': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><rect width=\"18\" height=\"5\" x=\"3\" y=\"5\" rx=\"1\"/><rect width=\"18\" height=\"3.5\" x=\"3\" y=\"11.5\" rx=\"1\"/><rect width=\"18\" height=\"2\" x=\"3\" y=\"17\" rx=\"1\"/></g></svg>',\n    'brightness': '<svg width=\"24\" height=\"24\"><path d=\"M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z\" fill-rule=\"evenodd\"/></svg>',\n    'browse': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z\" fill-rule=\"nonzero\"/></svg>',\n    'cancel': '<svg width=\"24\" height=\"24\"><path d=\"M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z\" fill-rule=\"nonzero\"/></svg>',\n    'cell-background-color': '<svg width=\"24\" height=\"24\"><path d=\"M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z\"/></svg>',\n    'cell-border-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z\" opacity=\".2\"/><path fill-rule=\"nonzero\" d=\"M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z\"/><path d=\"M13 11l-2 2H5v-2h6V6h2z\"/><path fill-rule=\"nonzero\" d=\"M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z\"/></g></svg>',\n    'change-case': '<svg width=\"24\" height=\"24\"><path d=\"M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z\" fill-rule=\"evenodd\"/></svg>',\n    'character-count': '<svg width=\"24\" height=\"24\"><path d=\"M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z\" fill-rule=\"evenodd\"/></svg>',\n    'checklist-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z\" fill-rule=\"evenodd\"/></svg>',\n    'checklist': '<svg width=\"24\" height=\"24\"><path d=\"M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z\" fill-rule=\"evenodd\"/></svg>',\n    'checkmark': '<svg width=\"24\" height=\"24\"><path d=\"M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-down': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-left': '<svg width=\"10\" height=\"10\"><path d=\"M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-right': '<svg width=\"10\" height=\"10\"><path d=\"M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-up': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z\" fill-rule=\"nonzero\"/></svg>',\n    'close': '<svg width=\"24\" height=\"24\"><path d=\"M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z\" fill-rule=\"evenodd\"/></svg>',\n    'code-sample': '<svg width=\"24\" height=\"26\"><path d=\"M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z\" fill-rule=\"evenodd\"/></svg>',\n    'color-levels': '<svg width=\"24\" height=\"24\"><path d=\"M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z\" fill-rule=\"evenodd\"/></svg>',\n    'color-picker': '<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z\" fill-rule=\"nonzero\"/></svg>',\n    'color-swatch-remove-color': '<svg width=\"24\" height=\"24\"><path stroke=\"#000\" stroke-width=\"2\" d=\"M21 3L3 21\" fill-rule=\"evenodd\"/></svg>',\n    'color-swatch': '<svg width=\"24\" height=\"24\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"1\" fill-rule=\"evenodd\"/></svg>',\n    'comment-add': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z\"/><path d=\"M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z\"/></g></svg>',\n    'comment': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z\"/></svg>',\n    'contrast': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z\" fill-rule=\"evenodd\"/></svg>',\n    'copy': '<svg width=\"24\" height=\"24\"><path d=\"M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z\" fill-rule=\"nonzero\"/></svg>',\n    'crop': '<svg width=\"24\" height=\"24\"><path d=\"M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z\" fill-rule=\"evenodd\"/></svg>',\n    'cut-column': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z\"/></svg>',\n    'cut-row': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z\"/></svg>',\n    'cut': '<svg width=\"24\" height=\"24\"><path d=\"M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z\" fill-rule=\"evenodd\"/></svg>',\n    'document-properties': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z\" fill-rule=\"nonzero\"/></svg>',\n    'drag': '<svg width=\"24\" height=\"24\"><path d=\"M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z\" fill-rule=\"evenodd\"/></svg>',\n    'duplicate-column': '<svg width=\"24\" height=\"24\"><path d=\"M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z\"/></svg>',\n    'duplicate-row': '<svg width=\"24\" height=\"24\"><path d=\"M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z\"/></svg>',\n    'duplicate': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z\"/><path d=\"M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z\"/></g></svg>',\n    'edit-block': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z\"/></svg>',\n    'edit-image': '<svg width=\"24\" height=\"24\"><path d=\"M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z\" fill-rule=\"nonzero\"/></svg>',\n    'embed-page': '<svg width=\"24\" height=\"24\"><path d=\"M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z\" fill-rule=\"nonzero\"/></svg>',\n    'embed': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z\" fill-rule=\"nonzero\"/></svg>',\n    'emoji': '<svg width=\"24\" height=\"24\"><path d=\"M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z\" fill-rule=\"nonzero\"/></svg>',\n    'export': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z\"/><path d=\"M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z\"/><path d=\"M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z\"/></g></svg>',\n    'fill': '<svg width=\"24\" height=\"26\"><path d=\"M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z\" fill-rule=\"nonzero\"/></svg>',\n    'flip-horizontally': '<svg width=\"24\" height=\"24\"><path d=\"M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z\" fill-rule=\"nonzero\"/></svg>',\n    'flip-vertically': '<svg width=\"24\" height=\"24\"><path d=\"M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z\" fill-rule=\"nonzero\"/></svg>',\n    'format-painter': '<svg width=\"24\" height=\"24\"><path d=\"M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z\" fill-rule=\"nonzero\"/></svg>',\n    'format': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z\"/></svg>',\n    'fullscreen': '<svg width=\"24\" height=\"24\"><path d=\"M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z\" fill-rule=\"nonzero\"/></svg>',\n    'gallery': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z\"/></svg>',\n    'gamma': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z\" fill-rule=\"nonzero\"/></svg>',\n    'help': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z\"/><path d=\"M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z\" fill-rule=\"nonzero\"/><circle cx=\"12\" cy=\"16\" r=\"1\"/></g></svg>',\n    'highlight-bg-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path id=\"tox-icon-highlight-bg-color__color\" d=\"M3 18h18v3H3z\"/><path fill-rule=\"nonzero\" d=\"M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6\"/></g></svg>',\n    'home': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"/></svg>',\n    'horizontal-rule': '<svg width=\"24\" height=\"24\"><path d=\"M4 11h16v2H4z\" fill-rule=\"evenodd\"/></svg>',\n    'image-options': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z\" fill-rule=\"nonzero\"/></svg>',\n    'image': '<svg width=\"24\" height=\"24\"><path d=\"M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z\" fill-rule=\"nonzero\"/></svg>',\n    'indent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z\" fill-rule=\"evenodd\"/></svg>',\n    'info': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z\" fill-rule=\"evenodd\"/></svg>',\n    'insert-character': '<svg width=\"24\" height=\"24\"><path d=\"M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z\" fill-rule=\"evenodd\"/></svg>',\n    'insert-time': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z\"/><path d=\"M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z\"/></g></svg>',\n    'invert': '<svg width=\"24\" height=\"24\"><path d=\"M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z\" fill-rule=\"evenodd\"/></svg>',\n    'italic': '<svg width=\"24\" height=\"24\"><path d=\"M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z\" fill-rule=\"evenodd\"/></svg>',\n    'language': '<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z\"/></svg>',\n    'line-height': '<svg width=\"24\" height=\"24\"><path d=\"M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z\"/></svg>',\n    'line': '<svg width=\"24\" height=\"24\"><path d=\"M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z\" fill-rule=\"evenodd\"/></svg>',\n    'link': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z\" fill-rule=\"nonzero\"/></svg>',\n    'list-bull-circle': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z\" fill-rule=\"nonzero\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-bull-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><circle cx=\"11\" cy=\"14\" r=\"3\"/><circle cx=\"11\" cy=\"24\" r=\"3\"/><circle cx=\"11\" cy=\"34\" r=\"3\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-bull-square': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-num-default-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z\"/></g></svg>',\n    'list-num-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z\"/></g></svg>',\n    'list-num-lower-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-greek-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-greek': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z\"/><path fill-rule=\"nonzero\" d=\"M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z\"/></g></svg>',\n    'list-num-lower-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z\"/><path fill-rule=\"nonzero\" d=\"M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z\"/></g></svg>',\n    'list-num-upper-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-upper-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-upper-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z\"/><path fill-rule=\"nonzero\" d=\"M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z\"/></g></svg>',\n    'list-num-upper-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z\"/><path fill-rule=\"nonzero\" d=\"M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z\"/></g></svg>',\n    'lock': '<svg width=\"24\" height=\"24\"><path d=\"M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z\" fill-rule=\"evenodd\"/></svg>',\n    'ltr': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z\" fill-rule=\"evenodd\"/></svg>',\n    'more-drawer': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z\" fill-rule=\"nonzero\"/></svg>',\n    'new-document': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z\" fill-rule=\"nonzero\"/></svg>',\n    'new-tab': '<svg width=\"24\" height=\"24\"><path d=\"M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z\" fill-rule=\"evenodd\"/></svg>',\n    'non-breaking': '<svg width=\"24\" height=\"24\"><path d=\"M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z\" fill-rule=\"evenodd\"/></svg>',\n    'notice': '<svg width=\"24\" height=\"24\"><path d=\"M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z\" fill-rule=\"evenodd\"/></svg>',\n    'ordered-list-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z\" fill-rule=\"evenodd\"/></svg>',\n    'ordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z\" fill-rule=\"evenodd\"/></svg>',\n    'orientation': '<svg width=\"24\" height=\"24\"><path d=\"M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z\" fill-rule=\"nonzero\"/></svg>',\n    'outdent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z\" fill-rule=\"evenodd\"/></svg>',\n    'page-break': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z\"/></g></svg>',\n    'paragraph': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z\"/></svg>',\n    'paste-column-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z\"/></svg>',\n    'paste-column-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z\"/></svg>',\n    'paste-row-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z\"/></svg>',\n    'paste-row-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z\"/></svg>',\n    'paste-text': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z\" fill-rule=\"nonzero\"/></svg>',\n    'paste': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z\" fill-rule=\"nonzero\"/></svg>',\n    'permanent-pen': '<svg width=\"24\" height=\"24\"><path d=\"M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z\" fill-rule=\"nonzero\"/></svg>',\n    'plus': '<svg width=\"24\" height=\"24\"><path d=\"M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z\"/></svg>',\n    'preferences': '<svg width=\"24\" height=\"24\"><path d=\"M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z\" fill-rule=\"evenodd\"/></svg>',\n    'preview': '<svg width=\"24\" height=\"24\"><path d=\"M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z\" fill-rule=\"nonzero\"/></svg>',\n    'print': '<svg width=\"24\" height=\"24\"><path d=\"M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z\" fill-rule=\"nonzero\"/></svg>',\n    'quote': '<svg width=\"24\" height=\"24\"><path d=\"M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z\" fill-rule=\"nonzero\"/></svg>',\n    'redo': '<svg width=\"24\" height=\"24\"><path d=\"M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z\" fill-rule=\"nonzero\"/></svg>',\n    'reload': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z\"/></g></svg>',\n    'remove-formatting': '<svg width=\"24\" height=\"24\"><path d=\"M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z\" fill-rule=\"evenodd\"/></svg>',\n    'remove': '<svg width=\"24\" height=\"24\"><path d=\"M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z\" fill-rule=\"nonzero\"/></svg>',\n    'resize-handle': '<svg width=\"10\" height=\"10\"><g fill-rule=\"nonzero\"><path d=\"M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z\"/></g></svg>',\n    'resize': '<svg width=\"24\" height=\"24\"><path d=\"M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z\" fill-rule=\"evenodd\"/></svg>',\n    'restore-draft': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z\"/><path d=\"M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z\" fill-rule=\"nonzero\"/></g></svg>',\n    'rotate-left': '<svg width=\"24\" height=\"24\"><path d=\"M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z\" fill-rule=\"nonzero\"/></svg>',\n    'rotate-right': '<svg width=\"24\" height=\"24\"><path d=\"M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z\" fill-rule=\"nonzero\"/></svg>',\n    'rtl': '<svg width=\"24\" height=\"24\"><path d=\"M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z\" fill-rule=\"evenodd\"/></svg>',\n    'save': '<svg width=\"24\" height=\"24\"><path d=\"M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z\" fill-rule=\"nonzero\"/></svg>',\n    'search': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z\" fill-rule=\"nonzero\"/></svg>',\n    'select-all': '<svg width=\"24\" height=\"24\"><path d=\"M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z\" fill-rule=\"nonzero\"/></svg>',\n    'selected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z\"/></svg>',\n    'settings': '<svg width=\"24\" height=\"24\"><path d=\"M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z\" fill-rule=\"evenodd\"/></svg>',\n    'sharpen': '<svg width=\"24\" height=\"24\"><path d=\"M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z\" fill-rule=\"evenodd\"/></svg>',\n    'sourcecode': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z\"/></g></svg>',\n    'spell-check': '<svg width=\"24\" height=\"24\"><path d=\"M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z\" fill-rule=\"evenodd\"/></svg>',\n    'strike-through': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z\"/><path d=\"M5 11h14a1 1 0 010 2H5a1 1 0 010-2z\" fill-rule=\"nonzero\"/></g></svg>',\n    'subscript': '<svg width=\"24\" height=\"24\"><path d=\"M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z\" fill-rule=\"nonzero\"/></svg>',\n    'superscript': '<svg width=\"24\" height=\"24\"><path d=\"M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z\" fill-rule=\"nonzero\"/></svg>',\n    'table-caption': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><rect width=\"12\" height=\"2\" x=\"3\" y=\"4\" rx=\"1\"/><path d=\"M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z\"/></g></svg>',\n    'table-cell-classes': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z\"/><path fill-rule=\"nonzero\" d=\"M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z\" opacity=\".2\"/><path d=\"M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z\"/><path fill-rule=\"nonzero\" d=\"M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z\" opacity=\".2\"/></g></svg>',\n    'table-cell-properties': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z\"/></svg>',\n    'table-cell-select-all': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z\"/><path d=\"M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z\" opacity=\".2\"/></g></svg>',\n    'table-cell-select-inner': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z\" opacity=\".2\"/><path d=\"M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z\"/></g></svg>',\n    'table-classes': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z\"/><path d=\"M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z\"/></g></svg>',\n    'table-delete-column': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z\"/></svg>',\n    'table-delete-row': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z\"/></svg>',\n    'table-delete-table': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z\"/><path d=\"M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z\"/></g></svg>',\n    'table-insert-column-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z\"/></svg>',\n    'table-insert-column-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z\"/></svg>',\n    'table-insert-row-above': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z\"/></svg>',\n    'table-insert-row-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z\"/></svg>',\n    'table-left-header': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z\"/></svg>',\n    'table-merge-cells': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z\"/></svg>',\n    'table-row-numbering-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z\"/></svg>',\n    'table-row-numbering': '<svg width=\"24\" height=\"24\"><path d=\"M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z\"/></svg>',\n    'table-row-properties': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z\"/></svg>',\n    'table-split-cells': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z\"/></svg>',\n    'table-top-header': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z\"/></svg>',\n    'table': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z\"/></svg>',\n    'template': '<svg width=\"24\" height=\"24\"><path d=\"M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z\" fill-rule=\"nonzero\"/></svg>',\n    'temporary-placeholder': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z\"/><circle cx=\"14\" cy=\"4\" r=\"1\"/><circle cx=\"12\" cy=\"2\" r=\"1\"/><circle cx=\"10\" cy=\"4\" r=\"1\"/></g></svg>',\n    'text-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path id=\"tox-icon-text-color__color\" d=\"M3 18h18v3H3z\"/><path d=\"M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z\"/></g></svg>',\n    'toc': '<svg width=\"24\" height=\"24\"><path d=\"M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'translate': '<svg width=\"24\" height=\"24\"><path d=\"M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z\" fill-rule=\"evenodd\"/></svg>',\n    'underline': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'undo': '<svg width=\"24\" height=\"24\"><path d=\"M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z\" fill-rule=\"nonzero\"/></svg>',\n    'unlink': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z\" fill-rule=\"nonzero\"/></svg>',\n    'unlock': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z\" fill-rule=\"evenodd\"/></svg>',\n    'unordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z\" fill-rule=\"evenodd\"/></svg>',\n    'unselected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z\"/></svg>',\n    'upload': '<svg width=\"24\" height=\"24\"><path d=\"M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z\" fill-rule=\"nonzero\"/></svg>',\n    'user': '<svg width=\"24\" height=\"24\"><path d=\"M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z\" fill-rule=\"nonzero\"/></svg>',\n    'vertical-align': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><rect width=\"18\" height=\"2\" x=\"3\" y=\"11\" rx=\"1\"/><path d=\"M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z\"/></g></svg>',\n    'visualblocks': '<svg width=\"24\" height=\"24\"><path d=\"M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z\" fill-rule=\"evenodd\"/></svg>',\n    'visualchars': '<svg width=\"24\" height=\"24\"><path d=\"M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z\" fill-rule=\"evenodd\"/></svg>',\n    'warning': '<svg width=\"24\" height=\"24\"><path d=\"M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z\" fill-rule=\"evenodd\"/></svg>',\n    'zoom-in': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z\" fill-rule=\"nonzero\"/></svg>',\n    'zoom-out': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z\" fill-rule=\"nonzero\"/></svg>',\n  }\n});","// Exports the \"default\" icons for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/icons/default')\n//   ES2015:\n//     import 'tinymce/icons/default'\nrequire('./icons.js');","// Exports the \"silver\" theme for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/themes/silver')\n//   ES2015:\n//     import 'tinymce/themes/silver'\nrequire('./theme.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.4 (2022-04-27)\n */\n(function () {\n    'use strict';\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType$1 = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var eq$1 = function (t) {\n      return function (a) {\n        return t === a;\n      };\n    };\n    var isString = isType$1('string');\n    var isObject = isType$1('object');\n    var isArray = isType$1('array');\n    var isNull = eq$1(null);\n    var isBoolean = isSimpleType('boolean');\n    var isUndefined = eq$1(undefined);\n    var isNullable = function (a) {\n      return a === null || a === undefined;\n    };\n    var isNonNullable = function (a) {\n      return !isNullable(a);\n    };\n    var isFunction = isSimpleType('function');\n    var isNumber = isSimpleType('number');\n    var isArrayOf = function (value, pred) {\n      if (isArray(value)) {\n        for (var i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    var noop = function () {\n    };\n    var noarg = function (f) {\n      return function () {\n        return f();\n      };\n    };\n    var compose = function (fa, fb) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return fa(fb.apply(null, args));\n      };\n    };\n    var compose1 = function (fbc, fab) {\n      return function (a) {\n        return fbc(fab(a));\n      };\n    };\n    var constant$1 = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity$1 = function (x) {\n      return x;\n    };\n    var tripleEquals = function (a, b) {\n      return a === b;\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var not = function (f) {\n      return function (t) {\n        return !f(t);\n      };\n    };\n    var die = function (msg) {\n      return function () {\n        throw new Error(msg);\n      };\n    };\n    var never = constant$1(false);\n    var always = constant$1(true);\n\n    var global$g = tinymce.util.Tools.resolve('tinymce.ThemeManager');\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n    function __rest(s, e) {\n      var t = {};\n      for (var p in s)\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n          t[p] = s[p];\n      if (s != null && typeof Object.getOwnPropertySymbols === 'function')\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n            t[p[i]] = s[p[i]];\n        }\n      return t;\n    }\n    function __spreadArray(to, from, pack) {\n      if (pack || arguments.length === 2)\n        for (var i = 0, l = from.length, ar; i < l; i++) {\n          if (ar || !(i in from)) {\n            if (!ar)\n              ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n          }\n        }\n      return to.concat(ar || Array.prototype.slice.call(from));\n    }\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity$1;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant$1(null),\n        getOrUndefined: constant$1(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant$1('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant$1(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from$1 = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from$1\n    };\n\n    var nativeSlice = Array.prototype.slice;\n    var nativeIndexOf = Array.prototype.indexOf;\n    var nativePush = Array.prototype.push;\n    var rawIndexOf = function (ts, t) {\n      return nativeIndexOf.call(ts, t);\n    };\n    var indexOf = function (xs, x) {\n      var r = rawIndexOf(xs, x);\n      return r === -1 ? Optional.none() : Optional.some(r);\n    };\n    var contains$2 = function (xs, x) {\n      return rawIndexOf(xs, x) > -1;\n    };\n    var exists = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var range$2 = function (num, f) {\n      var r = [];\n      for (var i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    var chunk$1 = function (array, size) {\n      var r = [];\n      for (var i = 0; i < array.length; i += size) {\n        var s = nativeSlice.call(array, i, i + size);\n        r.push(s);\n      }\n      return r;\n    };\n    var map$2 = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each$1 = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var eachr = function (xs, f) {\n      for (var i = xs.length - 1; i >= 0; i--) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var partition$3 = function (xs, pred) {\n      var pass = [];\n      var fail = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        var arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass: pass,\n        fail: fail\n      };\n    };\n    var filter$2 = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var foldr = function (xs, f, acc) {\n      eachr(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var foldl = function (xs, f, acc) {\n      each$1(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var findUntil = function (xs, pred, until) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var find$5 = function (xs, pred) {\n      return findUntil(xs, pred, never);\n    };\n    var findIndex$1 = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind$3 = function (xs, f) {\n      return flatten(map$2(xs, f));\n    };\n    var forall = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        var x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    var reverse = function (xs) {\n      var r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    var difference = function (a1, a2) {\n      return filter$2(a1, function (x) {\n        return !contains$2(a2, x);\n      });\n    };\n    var mapToObject = function (xs, f) {\n      var r = {};\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    var pure$2 = function (x) {\n      return [x];\n    };\n    var sort = function (xs, comparator) {\n      var copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    var get$f = function (xs, i) {\n      return i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    };\n    var head = function (xs) {\n      return get$f(xs, 0);\n    };\n    var last$2 = function (xs) {\n      return get$f(xs, xs.length - 1);\n    };\n    var from = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n    var findMap = function (arr, f) {\n      for (var i = 0; i < arr.length; i++) {\n        var r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    var keys = Object.keys;\n    var hasOwnProperty = Object.hasOwnProperty;\n    var each = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n    var map$1 = function (obj, f) {\n      return tupleMap(obj, function (x, i) {\n        return {\n          k: i,\n          v: f(x, i)\n        };\n      });\n    };\n    var tupleMap = function (obj, f) {\n      var r = {};\n      each(obj, function (x, i) {\n        var tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    var objAcc = function (r) {\n      return function (x, i) {\n        r[i] = x;\n      };\n    };\n    var internalFilter = function (obj, pred, onTrue, onFalse) {\n      var r = {};\n      each(obj, function (x, i) {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    var filter$1 = function (obj, pred) {\n      var t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    var mapToArray = function (obj, f) {\n      var r = [];\n      each(obj, function (value, name) {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    var find$4 = function (obj, pred) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        if (pred(x, i, obj)) {\n          return Optional.some(x);\n        }\n      }\n      return Optional.none();\n    };\n    var values = function (obj) {\n      return mapToArray(obj, identity$1);\n    };\n    var get$e = function (obj, key) {\n      return has$2(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    var has$2 = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n    var hasNonNullableKey = function (obj, key) {\n      return has$2(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    };\n\n    var is$1 = function (lhs, rhs, comparator) {\n      if (comparator === void 0) {\n        comparator = tripleEquals;\n      }\n      return lhs.exists(function (left) {\n        return comparator(left, rhs);\n      });\n    };\n    var equals = function (lhs, rhs, comparator) {\n      if (comparator === void 0) {\n        comparator = tripleEquals;\n      }\n      return lift2(lhs, rhs, comparator).getOr(lhs.isNone() && rhs.isNone());\n    };\n    var cat = function (arr) {\n      var r = [];\n      var push = function (x) {\n        r.push(x);\n      };\n      for (var i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    var sequence = function (arr) {\n      var r = [];\n      for (var i = 0; i < arr.length; i++) {\n        var x = arr[i];\n        if (x.isSome()) {\n          r.push(x.getOrDie());\n        } else {\n          return Optional.none();\n        }\n      }\n      return Optional.some(r);\n    };\n    var lift2 = function (oa, ob, f) {\n      return oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    };\n    var lift3 = function (oa, ob, oc, f) {\n      return oa.isSome() && ob.isSome() && oc.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie(), oc.getOrDie())) : Optional.none();\n    };\n    var mapFrom = function (a, f) {\n      return a !== undefined && a !== null ? Optional.some(f(a)) : Optional.none();\n    };\n    var someIf = function (b, a) {\n      return b ? Optional.some(a) : Optional.none();\n    };\n\n    var addToEnd = function (str, suffix) {\n      return str + suffix;\n    };\n    var removeFromStart = function (str, numChars) {\n      return str.substring(numChars);\n    };\n\n    var checkRange = function (str, substr, start) {\n      return substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    };\n    var removeLeading = function (str, prefix) {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    var ensureTrailing = function (str, suffix) {\n      return endsWith(str, suffix) ? str : addToEnd(str, suffix);\n    };\n    var contains$1 = function (str, substr) {\n      return str.indexOf(substr) !== -1;\n    };\n    var startsWith = function (str, prefix) {\n      return checkRange(str, prefix, 0);\n    };\n    var endsWith = function (str, suffix) {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    var blank = function (r) {\n      return function (s) {\n        return s.replace(r, '');\n      };\n    };\n    var trim$1 = blank(/^\\s+|\\s+$/g);\n    var isNotEmpty = function (s) {\n      return s.length > 0;\n    };\n    var isEmpty = function (s) {\n      return !isNotEmpty(s);\n    };\n\n    var isSupported$1 = function (dom) {\n      return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n    };\n\n    var fromHtml$2 = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml$2,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var DOCUMENT = 9;\n    var DOCUMENT_FRAGMENT = 11;\n    var ELEMENT = 1;\n    var TEXT = 3;\n\n    var name$2 = function (element) {\n      var r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    var type = function (element) {\n      return element.dom.nodeType;\n    };\n    var isType = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isElement$2 = isType(ELEMENT);\n    var isText$1 = isType(TEXT);\n    var isDocument = isType(DOCUMENT);\n    var isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n\n    var cached = function (f) {\n      var called = false;\n      var r;\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    var DeviceType = function (os, browser, userAgent, mediaMatch) {\n      var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      var isiPhone = os.isiOS() && !isiPad;\n      var isMobile = os.isiOS() || os.isAndroid();\n      var isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      var isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      var isPhone = isiPhone || isMobile && !isTablet;\n      var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      var isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant$1(isiPad),\n        isiPhone: constant$1(isiPhone),\n        isTablet: constant$1(isTablet),\n        isPhone: constant$1(isPhone),\n        isTouch: constant$1(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant$1(iOSwebview),\n        isDesktop: constant$1(isDesktop)\n      };\n    };\n\n    var firstMatch = function (regexes, s) {\n      for (var i = 0; i < regexes.length; i++) {\n        var x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    var find$3 = function (regexes, agent) {\n      var r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      var group = function (i) {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$d(group(1), group(2));\n    };\n    var detect$4 = function (versionRegexes, agent) {\n      var cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$3();\n      }\n      return find$3(versionRegexes, cleanedAgent);\n    };\n    var unknown$3 = function () {\n      return nu$d(0, 0);\n    };\n    var nu$d = function (major, minor) {\n      return {\n        major: major,\n        minor: minor\n      };\n    };\n    var Version = {\n      nu: nu$d,\n      detect: detect$4,\n      unknown: unknown$3\n    };\n\n    var detectBrowser$1 = function (browsers, userAgentData) {\n      return findMap(userAgentData.brands, function (uaBrand) {\n        var lcBrand = uaBrand.brand.toLowerCase();\n        return find$5(browsers, function (browser) {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(function (info) {\n          return {\n            current: info.name,\n            version: Version.nu(parseInt(uaBrand.version, 10), 0)\n          };\n        });\n      });\n    };\n\n    var detect$3 = function (candidates, userAgent) {\n      var agent = String(userAgent).toLowerCase();\n      return find$5(candidates, function (candidate) {\n        return candidate.search(agent);\n      });\n    };\n    var detectBrowser = function (browsers, userAgent) {\n      return detect$3(browsers, userAgent).map(function (browser) {\n        var version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version: version\n        };\n      });\n    };\n    var detectOs = function (oses, userAgent) {\n      return detect$3(oses, userAgent).map(function (os) {\n        var version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version: version\n        };\n      });\n    };\n\n    var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    var checkContains = function (target) {\n      return function (uastring) {\n        return contains$1(uastring, target);\n      };\n    };\n    var browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: function (uastring) {\n          return contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chrome',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: function (uastring) {\n          return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n        }\n      }\n    ];\n    var oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: function (uastring) {\n          return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'OSX',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    var PlatformInfo = {\n      browsers: constant$1(browsers),\n      oses: constant$1(oses)\n    };\n\n    var edge = 'Edge';\n    var chrome = 'Chrome';\n    var ie = 'IE';\n    var opera = 'Opera';\n    var firefox = 'Firefox';\n    var safari = 'Safari';\n    var unknown$2 = function () {\n      return nu$c({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$c = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isBrowser = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isEdge: isBrowser(edge),\n        isChrome: isBrowser(chrome),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    var Browser = {\n      unknown: unknown$2,\n      nu: nu$c,\n      edge: constant$1(edge),\n      chrome: constant$1(chrome),\n      ie: constant$1(ie),\n      opera: constant$1(opera),\n      firefox: constant$1(firefox),\n      safari: constant$1(safari)\n    };\n\n    var windows = 'Windows';\n    var ios = 'iOS';\n    var android = 'Android';\n    var linux = 'Linux';\n    var osx = 'OSX';\n    var solaris = 'Solaris';\n    var freebsd = 'FreeBSD';\n    var chromeos = 'ChromeOS';\n    var unknown$1 = function () {\n      return nu$b({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$b = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isOS = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isOSX: isOS(osx),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    var OperatingSystem = {\n      unknown: unknown$1,\n      nu: nu$b,\n      windows: constant$1(windows),\n      ios: constant$1(ios),\n      android: constant$1(android),\n      linux: constant$1(linux),\n      osx: constant$1(osx),\n      solaris: constant$1(solaris),\n      freebsd: constant$1(freebsd),\n      chromeos: constant$1(chromeos)\n    };\n\n    var detect$2 = function (userAgent, userAgentDataOpt, mediaMatch) {\n      var browsers = PlatformInfo.browsers();\n      var oses = PlatformInfo.oses();\n      var browser = userAgentDataOpt.bind(function (userAgentData) {\n        return detectBrowser$1(browsers, userAgentData);\n      }).orThunk(function () {\n        return detectBrowser(browsers, userAgent);\n      }).fold(Browser.unknown, Browser.nu);\n      var os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      var deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser: browser,\n        os: os,\n        deviceType: deviceType\n      };\n    };\n    var PlatformDetection = { detect: detect$2 };\n\n    var mediaMatch = function (query) {\n      return window.matchMedia(query).matches;\n    };\n    var platform = cached(function () {\n      return PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch);\n    });\n    var detect$1 = function () {\n      return platform();\n    };\n\n    var compareDocumentPosition = function (a, b, match) {\n      return (a.compareDocumentPosition(b) & match) !== 0;\n    };\n    var documentPositionContainedBy = function (a, b) {\n      return compareDocumentPosition(a, b, Node.DOCUMENT_POSITION_CONTAINED_BY);\n    };\n\n    var is = function (element, selector) {\n      var dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        var elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    var bypassSelector = function (dom) {\n      return dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    };\n    var all$3 = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$2(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    var one = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    var eq = function (e1, e2) {\n      return e1.dom === e2.dom;\n    };\n    var regularContains = function (e1, e2) {\n      var d1 = e1.dom;\n      var d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    var ieContains = function (e1, e2) {\n      return documentPositionContainedBy(e1.dom, e2.dom);\n    };\n    var contains = function (e1, e2) {\n      return detect$1().browser.isIE() ? ieContains(e1, e2) : regularContains(e1, e2);\n    };\n\n    var owner$4 = function (element) {\n      return SugarElement.fromDom(element.dom.ownerDocument);\n    };\n    var documentOrOwner = function (dos) {\n      return isDocument(dos) ? dos : owner$4(dos);\n    };\n    var documentElement = function (element) {\n      return SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    };\n    var defaultView = function (element) {\n      return SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    };\n    var parent = function (element) {\n      return Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    };\n    var parentNode = function (element) {\n      return parent(element);\n    };\n    var offsetParent = function (element) {\n      return Optional.from(element.dom.offsetParent).map(SugarElement.fromDom);\n    };\n    var nextSibling = function (element) {\n      return Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    };\n    var children = function (element) {\n      return map$2(element.dom.childNodes, SugarElement.fromDom);\n    };\n    var child$2 = function (element, index) {\n      var cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    var firstChild = function (element) {\n      return child$2(element, 0);\n    };\n    var spot = function (element, offset) {\n      return {\n        element: element,\n        offset: offset\n      };\n    };\n    var leaf = function (element, offset) {\n      var cs = children(element);\n      return cs.length > 0 && offset < cs.length ? spot(cs[offset], 0) : spot(element, offset);\n    };\n\n    var isShadowRoot = function (dos) {\n      return isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    };\n    var supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    var isSupported = constant$1(supported);\n    var getRootNode = supported ? function (e) {\n      return SugarElement.fromDom(e.dom.getRootNode());\n    } : documentOrOwner;\n    var getContentContainer = function (dos) {\n      return isShadowRoot(dos) ? dos : SugarElement.fromDom(documentOrOwner(dos).dom.body);\n    };\n    var isInShadowRoot = function (e) {\n      return getShadowRoot(e).isSome();\n    };\n    var getShadowRoot = function (e) {\n      var r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    var getShadowHost = function (e) {\n      return SugarElement.fromDom(e.dom.host);\n    };\n    var getOriginalEventTarget = function (event) {\n      if (isSupported() && isNonNullable(event.target)) {\n        var el = SugarElement.fromDom(event.target);\n        if (isElement$2(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            var composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    var isOpenShadowHost = function (element) {\n      return isNonNullable(element.dom.shadowRoot);\n    };\n\n    var inBody = function (element) {\n      var dom = isText$1(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      var doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(function () {\n        return doc.body.contains(dom);\n      }, compose1(inBody, getShadowHost));\n    };\n    var body = function () {\n      return getBody(SugarElement.fromDom(document));\n    };\n    var getBody = function (doc) {\n      var b = doc.dom.body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set$8 = function (element, key, value) {\n      rawSet(element.dom, key, value);\n    };\n    var setAll$1 = function (element, attrs) {\n      var dom = element.dom;\n      each(attrs, function (v, k) {\n        rawSet(dom, k, v);\n      });\n    };\n    var get$d = function (element, key) {\n      var v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    var getOpt = function (element, key) {\n      return Optional.from(get$d(element, key));\n    };\n    var has$1 = function (element, key) {\n      var dom = element.dom;\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n    };\n    var remove$7 = function (element, key) {\n      element.dom.removeAttribute(key);\n    };\n\n    var internalSet = function (dom, property, value) {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported$1(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    var internalRemove = function (dom, property) {\n      if (isSupported$1(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    var set$7 = function (element, property, value) {\n      var dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    var setAll = function (element, css) {\n      var dom = element.dom;\n      each(css, function (v, k) {\n        internalSet(dom, k, v);\n      });\n    };\n    var setOptions = function (element, css) {\n      var dom = element.dom;\n      each(css, function (v, k) {\n        v.fold(function () {\n          internalRemove(dom, k);\n        }, function (value) {\n          internalSet(dom, k, value);\n        });\n      });\n    };\n    var get$c = function (element, property) {\n      var dom = element.dom;\n      var styles = window.getComputedStyle(dom);\n      var r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    var getUnsafeProperty = function (dom, property) {\n      return isSupported$1(dom) ? dom.style.getPropertyValue(property) : '';\n    };\n    var getRaw = function (element, property) {\n      var dom = element.dom;\n      var raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(function (r) {\n        return r.length > 0;\n      });\n    };\n    var getAllRaw = function (element) {\n      var css = {};\n      var dom = element.dom;\n      if (isSupported$1(dom)) {\n        for (var i = 0; i < dom.style.length; i++) {\n          var ruleName = dom.style.item(i);\n          css[ruleName] = dom.style[ruleName];\n        }\n      }\n      return css;\n    };\n    var isValidValue = function (tag, property, value) {\n      var element = SugarElement.fromTag(tag);\n      set$7(element, property, value);\n      var style = getRaw(element, property);\n      return style.isSome();\n    };\n    var remove$6 = function (element, property) {\n      var dom = element.dom;\n      internalRemove(dom, property);\n      if (is$1(getOpt(element, 'style').map(trim$1), '')) {\n        remove$7(element, 'style');\n      }\n    };\n    var reflow = function (e) {\n      return e.dom.offsetWidth;\n    };\n\n    var Dimension = function (name, getOffset) {\n      var set = function (element, h) {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        var dom = element.dom;\n        if (isSupported$1(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      var get = function (element) {\n        var r = getOffset(element);\n        if (r <= 0 || r === null) {\n          var css = get$c(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      var getOuter = get;\n      var aggregate = function (element, properties) {\n        return foldl(properties, function (acc, property) {\n          var val = get$c(element, property);\n          var value = val === undefined ? 0 : parseInt(val, 10);\n          return isNaN(value) ? acc : acc + value;\n        }, 0);\n      };\n      var max = function (element, value, properties) {\n        var cumulativeInclusions = aggregate(element, properties);\n        var absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set: set,\n        get: get,\n        getOuter: getOuter,\n        aggregate: aggregate,\n        max: max\n      };\n    };\n\n    var api$3 = Dimension('height', function (element) {\n      var dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    var get$b = function (element) {\n      return api$3.get(element);\n    };\n    var getOuter$2 = function (element) {\n      return api$3.getOuter(element);\n    };\n    var setMax$1 = function (element, value) {\n      var inclusions = [\n        'margin-top',\n        'border-top-width',\n        'padding-top',\n        'padding-bottom',\n        'border-bottom-width',\n        'margin-bottom'\n      ];\n      var absMax = api$3.max(element, value, inclusions);\n      set$7(element, 'max-height', absMax + 'px');\n    };\n\n    var r$1 = function (left, top) {\n      var translate = function (x, y) {\n        return r$1(left + x, top + y);\n      };\n      return {\n        left: left,\n        top: top,\n        translate: translate\n      };\n    };\n    var SugarPosition = r$1;\n\n    var boxPosition = function (dom) {\n      var box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    var firstDefinedOrZero = function (a, b) {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    var absolute$3 = function (element) {\n      var doc = element.dom.ownerDocument;\n      var body = doc.body;\n      var win = doc.defaultView;\n      var html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      var scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      var scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      var clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      var clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport$1(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    var viewport$1 = function (element) {\n      var dom = element.dom;\n      var doc = dom.ownerDocument;\n      var body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    var api$2 = Dimension('width', function (element) {\n      return element.dom.offsetWidth;\n    });\n    var set$6 = function (element, h) {\n      return api$2.set(element, h);\n    };\n    var get$a = function (element) {\n      return api$2.get(element);\n    };\n    var getOuter$1 = function (element) {\n      return api$2.getOuter(element);\n    };\n    var setMax = function (element, value) {\n      var inclusions = [\n        'margin-left',\n        'border-left-width',\n        'padding-left',\n        'padding-right',\n        'border-right-width',\n        'margin-right'\n      ];\n      var absMax = api$2.max(element, value, inclusions);\n      set$7(element, 'max-width', absMax + 'px');\n    };\n\n    var mkEvent = function (target, x, y, stop, prevent, kill, raw) {\n      return {\n        target: target,\n        x: x,\n        y: y,\n        stop: stop,\n        prevent: prevent,\n        kill: kill,\n        raw: raw\n      };\n    };\n    var fromRawEvent$1 = function (rawEvent) {\n      var target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      var stop = function () {\n        return rawEvent.stopPropagation();\n      };\n      var prevent = function () {\n        return rawEvent.preventDefault();\n      };\n      var kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    var handle = function (filter, handler) {\n      return function (rawEvent) {\n        if (filter(rawEvent)) {\n          handler(fromRawEvent$1(rawEvent));\n        }\n      };\n    };\n    var binder = function (element, event, filter, handler, useCapture) {\n      var wrapped = handle(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    var bind$2 = function (element, event, filter, handler) {\n      return binder(element, event, filter, handler, false);\n    };\n    var capture$1 = function (element, event, filter, handler) {\n      return binder(element, event, filter, handler, true);\n    };\n    var unbind = function (element, event, handler, useCapture) {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    var before$2 = function (marker, element) {\n      var parent$1 = parent(marker);\n      parent$1.each(function (v) {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    var after$2 = function (marker, element) {\n      var sibling = nextSibling(marker);\n      sibling.fold(function () {\n        var parent$1 = parent(marker);\n        parent$1.each(function (v) {\n          append$2(v, element);\n        });\n      }, function (v) {\n        before$2(v, element);\n      });\n    };\n    var prepend$1 = function (parent, element) {\n      var firstChild$1 = firstChild(parent);\n      firstChild$1.fold(function () {\n        append$2(parent, element);\n      }, function (v) {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    var append$2 = function (parent, element) {\n      parent.dom.appendChild(element.dom);\n    };\n    var appendAt = function (parent, element, index) {\n      child$2(parent, index).fold(function () {\n        append$2(parent, element);\n      }, function (v) {\n        before$2(v, element);\n      });\n    };\n\n    var before$1 = function (marker, elements) {\n      each$1(elements, function (x) {\n        before$2(marker, x);\n      });\n    };\n    var append$1 = function (parent, elements) {\n      each$1(elements, function (x) {\n        append$2(parent, x);\n      });\n    };\n\n    var empty = function (element) {\n      element.dom.textContent = '';\n      each$1(children(element), function (rogue) {\n        remove$5(rogue);\n      });\n    };\n    var remove$5 = function (element) {\n      var dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    var unwrap = function (wrapper) {\n      var children$1 = children(wrapper);\n      if (children$1.length > 0) {\n        before$1(wrapper, children$1);\n      }\n      remove$5(wrapper);\n    };\n\n    var get$9 = function (_DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom : document;\n      var x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      var y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    var to = function (x, y, _DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom : document;\n      var win = doc.defaultView;\n      if (win) {\n        win.scrollTo(x, y);\n      }\n    };\n\n    var get$8 = function (_win) {\n      var win = _win === undefined ? window : _win;\n      if (detect$1().browser.isFirefox()) {\n        return Optional.none();\n      } else {\n        return Optional.from(win['visualViewport']);\n      }\n    };\n    var bounds$1 = function (x, y, width, height) {\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        right: x + width,\n        bottom: y + height\n      };\n    };\n    var getBounds$3 = function (_win) {\n      var win = _win === undefined ? window : _win;\n      var doc = win.document;\n      var scroll = get$9(SugarElement.fromDom(doc));\n      return get$8(win).fold(function () {\n        var html = win.document.documentElement;\n        var width = html.clientWidth;\n        var height = html.clientHeight;\n        return bounds$1(scroll.left, scroll.top, width, height);\n      }, function (visualViewport) {\n        return bounds$1(Math.max(visualViewport.pageLeft, scroll.left), Math.max(visualViewport.pageTop, scroll.top), visualViewport.width, visualViewport.height);\n      });\n    };\n\n    var walkUp = function (navigation, doc) {\n      var frame = navigation.view(doc);\n      return frame.fold(constant$1([]), function (f) {\n        var parent = navigation.owner(f);\n        var rest = walkUp(navigation, parent);\n        return [f].concat(rest);\n      });\n    };\n    var pathTo = function (element, navigation) {\n      var d = navigation.owner(element);\n      var paths = walkUp(navigation, d);\n      return Optional.some(paths);\n    };\n\n    var view = function (doc) {\n      var _a;\n      var element = doc.dom === document ? Optional.none() : Optional.from((_a = doc.dom.defaultView) === null || _a === void 0 ? void 0 : _a.frameElement);\n      return element.map(SugarElement.fromDom);\n    };\n    var owner$3 = function (element) {\n      return owner$4(element);\n    };\n\n    var Navigation = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        view: view,\n        owner: owner$3\n    });\n\n    var find$2 = function (element) {\n      var doc = SugarElement.fromDom(document);\n      var scroll = get$9(doc);\n      var path = pathTo(element, Navigation);\n      return path.fold(curry(absolute$3, element), function (frames) {\n        var offset = viewport$1(element);\n        var r = foldr(frames, function (b, a) {\n          var loc = viewport$1(a);\n          return {\n            left: b.left + loc.left,\n            top: b.top + loc.top\n          };\n        }, {\n          left: 0,\n          top: 0\n        });\n        return SugarPosition(r.left + offset.left + scroll.left, r.top + offset.top + scroll.top);\n      });\n    };\n\n    var pointed = function (point, width, height) {\n      return {\n        point: point,\n        width: width,\n        height: height\n      };\n    };\n    var rect = function (x, y, width, height) {\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      };\n    };\n    var bounds = function (x, y, width, height) {\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        right: x + width,\n        bottom: y + height\n      };\n    };\n    var box$1 = function (element) {\n      var xy = absolute$3(element);\n      var w = getOuter$1(element);\n      var h = getOuter$2(element);\n      return bounds(xy.left, xy.top, w, h);\n    };\n    var absolute$2 = function (element) {\n      var position = find$2(element);\n      var width = getOuter$1(element);\n      var height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    var win = function () {\n      return getBounds$3(window);\n    };\n\n    var value$3 = function (o) {\n      var or = function (_opt) {\n        return value$3(o);\n      };\n      var orThunk = function (_f) {\n        return value$3(o);\n      };\n      var map = function (f) {\n        return value$3(f(o));\n      };\n      var mapError = function (_f) {\n        return value$3(o);\n      };\n      var each = function (f) {\n        f(o);\n      };\n      var bind = function (f) {\n        return f(o);\n      };\n      var fold = function (_, onValue) {\n        return onValue(o);\n      };\n      var exists = function (f) {\n        return f(o);\n      };\n      var forall = function (f) {\n        return f(o);\n      };\n      var toOptional = function () {\n        return Optional.some(o);\n      };\n      return {\n        isValue: always,\n        isError: never,\n        getOr: constant$1(o),\n        getOrThunk: constant$1(o),\n        getOrDie: constant$1(o),\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: each,\n        bind: bind,\n        exists: exists,\n        forall: forall,\n        toOptional: toOptional\n      };\n    };\n    var error$1 = function (message) {\n      var getOrThunk = function (f) {\n        return f();\n      };\n      var getOrDie = function () {\n        return die(String(message))();\n      };\n      var or = identity$1;\n      var orThunk = function (f) {\n        return f();\n      };\n      var map = function (_f) {\n        return error$1(message);\n      };\n      var mapError = function (f) {\n        return error$1(f(message));\n      };\n      var bind = function (_f) {\n        return error$1(message);\n      };\n      var fold = function (onError, _) {\n        return onError(message);\n      };\n      return {\n        isValue: never,\n        isError: always,\n        getOr: identity$1,\n        getOrThunk: getOrThunk,\n        getOrDie: getOrDie,\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: noop,\n        bind: bind,\n        exists: never,\n        forall: always,\n        toOptional: Optional.none\n      };\n    };\n    var fromOption = function (opt, err) {\n      return opt.fold(function () {\n        return error$1(err);\n      }, value$3);\n    };\n    var Result = {\n      value: value$3,\n      error: error$1,\n      fromOption: fromOption\n    };\n\n    var SimpleResultType;\n    (function (SimpleResultType) {\n      SimpleResultType[SimpleResultType['Error'] = 0] = 'Error';\n      SimpleResultType[SimpleResultType['Value'] = 1] = 'Value';\n    }(SimpleResultType || (SimpleResultType = {})));\n    var fold$1 = function (res, onError, onValue) {\n      return res.stype === SimpleResultType.Error ? onError(res.serror) : onValue(res.svalue);\n    };\n    var partition$2 = function (results) {\n      var values = [];\n      var errors = [];\n      each$1(results, function (obj) {\n        fold$1(obj, function (err) {\n          return errors.push(err);\n        }, function (val) {\n          return values.push(val);\n        });\n      });\n      return {\n        values: values,\n        errors: errors\n      };\n    };\n    var mapError = function (res, f) {\n      if (res.stype === SimpleResultType.Error) {\n        return {\n          stype: SimpleResultType.Error,\n          serror: f(res.serror)\n        };\n      } else {\n        return res;\n      }\n    };\n    var map = function (res, f) {\n      if (res.stype === SimpleResultType.Value) {\n        return {\n          stype: SimpleResultType.Value,\n          svalue: f(res.svalue)\n        };\n      } else {\n        return res;\n      }\n    };\n    var bind$1 = function (res, f) {\n      if (res.stype === SimpleResultType.Value) {\n        return f(res.svalue);\n      } else {\n        return res;\n      }\n    };\n    var bindError = function (res, f) {\n      if (res.stype === SimpleResultType.Error) {\n        return f(res.serror);\n      } else {\n        return res;\n      }\n    };\n    var svalue = function (v) {\n      return {\n        stype: SimpleResultType.Value,\n        svalue: v\n      };\n    };\n    var serror = function (e) {\n      return {\n        stype: SimpleResultType.Error,\n        serror: e\n      };\n    };\n    var toResult$1 = function (res) {\n      return fold$1(res, Result.error, Result.value);\n    };\n    var fromResult$1 = function (res) {\n      return res.fold(serror, svalue);\n    };\n    var SimpleResult = {\n      fromResult: fromResult$1,\n      toResult: toResult$1,\n      svalue: svalue,\n      partition: partition$2,\n      serror: serror,\n      bind: bind$1,\n      bindError: bindError,\n      map: map,\n      mapError: mapError,\n      fold: fold$1\n    };\n\n    var field$2 = function (key, newKey, presence, prop) {\n      return {\n        tag: 'field',\n        key: key,\n        newKey: newKey,\n        presence: presence,\n        prop: prop\n      };\n    };\n    var customField$1 = function (newKey, instantiator) {\n      return {\n        tag: 'custom',\n        newKey: newKey,\n        instantiator: instantiator\n      };\n    };\n    var fold = function (value, ifField, ifCustom) {\n      switch (value.tag) {\n      case 'field':\n        return ifField(value.key, value.newKey, value.presence, value.prop);\n      case 'custom':\n        return ifCustom(value.newKey, value.instantiator);\n      }\n    };\n\n    var shallow$1 = function (old, nu) {\n      return nu;\n    };\n    var deep = function (old, nu) {\n      var bothObjects = isObject(old) && isObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    var baseMerge = function (merger) {\n      return function () {\n        var objects = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          objects[_i] = arguments[_i];\n        }\n        if (objects.length === 0) {\n          throw new Error('Can\\'t merge zero objects');\n        }\n        var ret = {};\n        for (var j = 0; j < objects.length; j++) {\n          var curObject = objects[j];\n          for (var key in curObject) {\n            if (has$2(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    var deepMerge = baseMerge(deep);\n    var merge$1 = baseMerge(shallow$1);\n\n    var required$2 = function () {\n      return {\n        tag: 'required',\n        process: {}\n      };\n    };\n    var defaultedThunk = function (fallbackThunk) {\n      return {\n        tag: 'defaultedThunk',\n        process: fallbackThunk\n      };\n    };\n    var defaulted$1 = function (fallback) {\n      return defaultedThunk(constant$1(fallback));\n    };\n    var asOption = function () {\n      return {\n        tag: 'option',\n        process: {}\n      };\n    };\n    var mergeWithThunk = function (baseThunk) {\n      return {\n        tag: 'mergeWithThunk',\n        process: baseThunk\n      };\n    };\n    var mergeWith = function (base) {\n      return mergeWithThunk(constant$1(base));\n    };\n\n    var mergeValues$1 = function (values, base) {\n      return values.length > 0 ? SimpleResult.svalue(deepMerge(base, merge$1.apply(undefined, values))) : SimpleResult.svalue(base);\n    };\n    var mergeErrors$1 = function (errors) {\n      return compose(SimpleResult.serror, flatten)(errors);\n    };\n    var consolidateObj = function (objects, base) {\n      var partition = SimpleResult.partition(objects);\n      return partition.errors.length > 0 ? mergeErrors$1(partition.errors) : mergeValues$1(partition.values, base);\n    };\n    var consolidateArr = function (objects) {\n      var partitions = SimpleResult.partition(objects);\n      return partitions.errors.length > 0 ? mergeErrors$1(partitions.errors) : SimpleResult.svalue(partitions.values);\n    };\n    var ResultCombine = {\n      consolidateObj: consolidateObj,\n      consolidateArr: consolidateArr\n    };\n\n    var formatObj = function (input) {\n      return isObject(input) && keys(input).length > 100 ? ' removed due to size' : JSON.stringify(input, null, 2);\n    };\n    var formatErrors = function (errors) {\n      var es = errors.length > 10 ? errors.slice(0, 10).concat([{\n          path: [],\n          getErrorInfo: constant$1('... (only showing first ten failures)')\n        }]) : errors;\n      return map$2(es, function (e) {\n        return 'Failed path: (' + e.path.join(' > ') + ')\\n' + e.getErrorInfo();\n      });\n    };\n\n    var nu$a = function (path, getErrorInfo) {\n      return SimpleResult.serror([{\n          path: path,\n          getErrorInfo: getErrorInfo\n        }]);\n    };\n    var missingRequired = function (path, key, obj) {\n      return nu$a(path, function () {\n        return 'Could not find valid *required* value for \"' + key + '\" in ' + formatObj(obj);\n      });\n    };\n    var missingKey = function (path, key) {\n      return nu$a(path, function () {\n        return 'Choice schema did not contain choice key: \"' + key + '\"';\n      });\n    };\n    var missingBranch = function (path, branches, branch) {\n      return nu$a(path, function () {\n        return 'The chosen schema: \"' + branch + '\" did not exist in branches: ' + formatObj(branches);\n      });\n    };\n    var unsupportedFields = function (path, unsupported) {\n      return nu$a(path, function () {\n        return 'There are unsupported fields: [' + unsupported.join(', ') + '] specified';\n      });\n    };\n    var custom = function (path, err) {\n      return nu$a(path, constant$1(err));\n    };\n\n    var value$2 = function (validator) {\n      var extract = function (path, val) {\n        return SimpleResult.bindError(validator(val), function (err) {\n          return custom(path, err);\n        });\n      };\n      var toString = constant$1('val');\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var anyValue$1 = value$2(SimpleResult.svalue);\n\n    var requiredAccess = function (path, obj, key, bundle) {\n      return get$e(obj, key).fold(function () {\n        return missingRequired(path, key, obj);\n      }, bundle);\n    };\n    var fallbackAccess = function (obj, key, fallback, bundle) {\n      var v = get$e(obj, key).getOrThunk(function () {\n        return fallback(obj);\n      });\n      return bundle(v);\n    };\n    var optionAccess = function (obj, key, bundle) {\n      return bundle(get$e(obj, key));\n    };\n    var optionDefaultedAccess = function (obj, key, fallback, bundle) {\n      var opt = get$e(obj, key).map(function (val) {\n        return val === true ? fallback(obj) : val;\n      });\n      return bundle(opt);\n    };\n    var extractField = function (field, path, obj, key, prop) {\n      var bundle = function (av) {\n        return prop.extract(path.concat([key]), av);\n      };\n      var bundleAsOption = function (optValue) {\n        return optValue.fold(function () {\n          return SimpleResult.svalue(Optional.none());\n        }, function (ov) {\n          var result = prop.extract(path.concat([key]), ov);\n          return SimpleResult.map(result, Optional.some);\n        });\n      };\n      switch (field.tag) {\n      case 'required':\n        return requiredAccess(path, obj, key, bundle);\n      case 'defaultedThunk':\n        return fallbackAccess(obj, key, field.process, bundle);\n      case 'option':\n        return optionAccess(obj, key, bundleAsOption);\n      case 'defaultedOptionThunk':\n        return optionDefaultedAccess(obj, key, field.process, bundleAsOption);\n      case 'mergeWithThunk': {\n          return fallbackAccess(obj, key, constant$1({}), function (v) {\n            var result = deepMerge(field.process(obj), v);\n            return bundle(result);\n          });\n        }\n      }\n    };\n    var extractFields = function (path, obj, fields) {\n      var success = {};\n      var errors = [];\n      for (var _i = 0, fields_1 = fields; _i < fields_1.length; _i++) {\n        var field = fields_1[_i];\n        fold(field, function (key, newKey, presence, prop) {\n          var result = extractField(presence, path, obj, key, prop);\n          SimpleResult.fold(result, function (err) {\n            errors.push.apply(errors, err);\n          }, function (res) {\n            success[newKey] = res;\n          });\n        }, function (newKey, instantiator) {\n          success[newKey] = instantiator(obj);\n        });\n      }\n      return errors.length > 0 ? SimpleResult.serror(errors) : SimpleResult.svalue(success);\n    };\n    var valueThunk = function (getDelegate) {\n      var extract = function (path, val) {\n        return getDelegate().extract(path, val);\n      };\n      var toString = function () {\n        return getDelegate().toString();\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var getSetKeys = function (obj) {\n      return keys(filter$1(obj, isNonNullable));\n    };\n    var objOfOnly = function (fields) {\n      var delegate = objOf(fields);\n      var fieldNames = foldr(fields, function (acc, value) {\n        return fold(value, function (key) {\n          var _a;\n          return deepMerge(acc, (_a = {}, _a[key] = true, _a));\n        }, constant$1(acc));\n      }, {});\n      var extract = function (path, o) {\n        var keys = isBoolean(o) ? [] : getSetKeys(o);\n        var extra = filter$2(keys, function (k) {\n          return !hasNonNullableKey(fieldNames, k);\n        });\n        return extra.length === 0 ? delegate.extract(path, o) : unsupportedFields(path, extra);\n      };\n      return {\n        extract: extract,\n        toString: delegate.toString\n      };\n    };\n    var objOf = function (values) {\n      var extract = function (path, o) {\n        return extractFields(path, o, values);\n      };\n      var toString = function () {\n        var fieldStrings = map$2(values, function (value) {\n          return fold(value, function (key, _okey, _presence, prop) {\n            return key + ' -> ' + prop.toString();\n          }, function (newKey, _instantiator) {\n            return 'state(' + newKey + ')';\n          });\n        });\n        return 'obj{\\n' + fieldStrings.join('\\n') + '}';\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var arrOf = function (prop) {\n      var extract = function (path, array) {\n        var results = map$2(array, function (a, i) {\n          return prop.extract(path.concat(['[' + i + ']']), a);\n        });\n        return ResultCombine.consolidateArr(results);\n      };\n      var toString = function () {\n        return 'array(' + prop.toString() + ')';\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var oneOf = function (props) {\n      var extract = function (path, val) {\n        var errors = [];\n        for (var _i = 0, props_1 = props; _i < props_1.length; _i++) {\n          var prop = props_1[_i];\n          var res = prop.extract(path, val);\n          if (res.stype === SimpleResultType.Value) {\n            return res;\n          }\n          errors.push(res);\n        }\n        return ResultCombine.consolidateArr(errors);\n      };\n      var toString = function () {\n        return 'oneOf(' + map$2(props, function (prop) {\n          return prop.toString();\n        }).join(', ') + ')';\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var setOf$1 = function (validator, prop) {\n      var validateKeys = function (path, keys) {\n        return arrOf(value$2(validator)).extract(path, keys);\n      };\n      var extract = function (path, o) {\n        var keys$1 = keys(o);\n        var validatedKeys = validateKeys(path, keys$1);\n        return SimpleResult.bind(validatedKeys, function (validKeys) {\n          var schema = map$2(validKeys, function (vk) {\n            return field$2(vk, vk, required$2(), prop);\n          });\n          return objOf(schema).extract(path, o);\n        });\n      };\n      var toString = function () {\n        return 'setOf(' + prop.toString() + ')';\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var thunk = function (_desc, processor) {\n      var getP = cached(processor);\n      var extract = function (path, val) {\n        return getP().extract(path, val);\n      };\n      var toString = function () {\n        return getP().toString();\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var arrOfObj = compose(arrOf, objOf);\n\n    var anyValue = constant$1(anyValue$1);\n    var typedValue = function (validator, expectedType) {\n      return value$2(function (a) {\n        var actualType = typeof a;\n        return validator(a) ? SimpleResult.svalue(a) : SimpleResult.serror('Expected type: ' + expectedType + ' but got: ' + actualType);\n      });\n    };\n    var number = typedValue(isNumber, 'number');\n    var string = typedValue(isString, 'string');\n    var boolean = typedValue(isBoolean, 'boolean');\n    var functionProcessor = typedValue(isFunction, 'function');\n    var isPostMessageable = function (val) {\n      if (Object(val) !== val) {\n        return true;\n      }\n      switch ({}.toString.call(val).slice(8, -1)) {\n      case 'Boolean':\n      case 'Number':\n      case 'String':\n      case 'Date':\n      case 'RegExp':\n      case 'Blob':\n      case 'FileList':\n      case 'ImageData':\n      case 'ImageBitmap':\n      case 'ArrayBuffer':\n        return true;\n      case 'Array':\n      case 'Object':\n        return Object.keys(val).every(function (prop) {\n          return isPostMessageable(val[prop]);\n        });\n      default:\n        return false;\n      }\n    };\n    var postMessageable = value$2(function (a) {\n      if (isPostMessageable(a)) {\n        return SimpleResult.svalue(a);\n      } else {\n        return SimpleResult.serror('Expected value to be acceptable for sending via postMessage');\n      }\n    });\n\n    var chooseFrom = function (path, input, branches, ch) {\n      var fields = get$e(branches, ch);\n      return fields.fold(function () {\n        return missingBranch(path, branches, ch);\n      }, function (vp) {\n        return vp.extract(path.concat(['branch: ' + ch]), input);\n      });\n    };\n    var choose$2 = function (key, branches) {\n      var extract = function (path, input) {\n        var choice = get$e(input, key);\n        return choice.fold(function () {\n          return missingKey(path, key);\n        }, function (chosen) {\n          return chooseFrom(path, input, branches, chosen);\n        });\n      };\n      var toString = function () {\n        return 'chooseOn(' + key + '). Possible values: ' + keys(branches);\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n\n    var arrOfVal = function () {\n      return arrOf(anyValue$1);\n    };\n    var valueOf = function (validator) {\n      return value$2(function (v) {\n        return validator(v).fold(SimpleResult.serror, SimpleResult.svalue);\n      });\n    };\n    var setOf = function (validator, prop) {\n      return setOf$1(function (v) {\n        return SimpleResult.fromResult(validator(v));\n      }, prop);\n    };\n    var extractValue = function (label, prop, obj) {\n      var res = prop.extract([label], obj);\n      return SimpleResult.mapError(res, function (errs) {\n        return {\n          input: obj,\n          errors: errs\n        };\n      });\n    };\n    var asRaw = function (label, prop, obj) {\n      return SimpleResult.toResult(extractValue(label, prop, obj));\n    };\n    var getOrDie = function (extraction) {\n      return extraction.fold(function (errInfo) {\n        throw new Error(formatError(errInfo));\n      }, identity$1);\n    };\n    var asRawOrDie$1 = function (label, prop, obj) {\n      return getOrDie(asRaw(label, prop, obj));\n    };\n    var formatError = function (errInfo) {\n      return 'Errors: \\n' + formatErrors(errInfo.errors).join('\\n') + '\\n\\nInput object: ' + formatObj(errInfo.input);\n    };\n    var choose$1 = function (key, branches) {\n      return choose$2(key, map$1(branches, objOf));\n    };\n    var thunkOf = function (desc, schema) {\n      return thunk(desc, schema);\n    };\n\n    var field$1 = field$2;\n    var customField = customField$1;\n    var validateEnum = function (values) {\n      return valueOf(function (value) {\n        return contains$2(values, value) ? Result.value(value) : Result.error('Unsupported value: \"' + value + '\", choose one of \"' + values.join(', ') + '\".');\n      });\n    };\n    var required$1 = function (key) {\n      return field$1(key, key, required$2(), anyValue());\n    };\n    var requiredOf = function (key, schema) {\n      return field$1(key, key, required$2(), schema);\n    };\n    var requiredNumber = function (key) {\n      return requiredOf(key, number);\n    };\n    var requiredString = function (key) {\n      return requiredOf(key, string);\n    };\n    var requiredStringEnum = function (key, values) {\n      return field$1(key, key, required$2(), validateEnum(values));\n    };\n    var requiredBoolean = function (key) {\n      return requiredOf(key, boolean);\n    };\n    var requiredFunction = function (key) {\n      return requiredOf(key, functionProcessor);\n    };\n    var forbid = function (key, message) {\n      return field$1(key, key, asOption(), value$2(function (_v) {\n        return SimpleResult.serror('The field: ' + key + ' is forbidden. ' + message);\n      }));\n    };\n    var requiredObjOf = function (key, objSchema) {\n      return field$1(key, key, required$2(), objOf(objSchema));\n    };\n    var requiredArrayOfObj = function (key, objFields) {\n      return field$1(key, key, required$2(), arrOfObj(objFields));\n    };\n    var requiredArrayOf = function (key, schema) {\n      return field$1(key, key, required$2(), arrOf(schema));\n    };\n    var option = function (key) {\n      return field$1(key, key, asOption(), anyValue());\n    };\n    var optionOf = function (key, schema) {\n      return field$1(key, key, asOption(), schema);\n    };\n    var optionNumber = function (key) {\n      return optionOf(key, number);\n    };\n    var optionString = function (key) {\n      return optionOf(key, string);\n    };\n    var optionFunction = function (key) {\n      return optionOf(key, functionProcessor);\n    };\n    var optionArrayOf = function (key, schema) {\n      return optionOf(key, arrOf(schema));\n    };\n    var optionObjOf = function (key, objSchema) {\n      return optionOf(key, objOf(objSchema));\n    };\n    var optionObjOfOnly = function (key, objSchema) {\n      return optionOf(key, objOfOnly(objSchema));\n    };\n    var defaulted = function (key, fallback) {\n      return field$1(key, key, defaulted$1(fallback), anyValue());\n    };\n    var defaultedOf = function (key, fallback, schema) {\n      return field$1(key, key, defaulted$1(fallback), schema);\n    };\n    var defaultedNumber = function (key, fallback) {\n      return defaultedOf(key, fallback, number);\n    };\n    var defaultedString = function (key, fallback) {\n      return defaultedOf(key, fallback, string);\n    };\n    var defaultedStringEnum = function (key, fallback, values) {\n      return defaultedOf(key, fallback, validateEnum(values));\n    };\n    var defaultedBoolean = function (key, fallback) {\n      return defaultedOf(key, fallback, boolean);\n    };\n    var defaultedFunction = function (key, fallback) {\n      return defaultedOf(key, fallback, functionProcessor);\n    };\n    var defaultedPostMsg = function (key, fallback) {\n      return defaultedOf(key, fallback, postMessageable);\n    };\n    var defaultedArrayOf = function (key, fallback, schema) {\n      return defaultedOf(key, fallback, arrOf(schema));\n    };\n    var defaultedObjOf = function (key, fallback, objSchema) {\n      return defaultedOf(key, fallback, objOf(objSchema));\n    };\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var generate$7 = function (cases) {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      var constructors = [];\n      var adt = {};\n      each$1(cases, function (acase, count) {\n        var keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        var key = keys$1[0];\n        var value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          var argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          var match = function (branches) {\n            var branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            var allReqd = forall(constructors, function (reqKey) {\n              return contains$2(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: function () {\n              var foldArgs = [];\n              for (var _i = 0; _i < arguments.length; _i++) {\n                foldArgs[_i] = arguments[_i];\n              }\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              var target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match: match,\n            log: function (label) {\n              console.log(label, {\n                constructors: constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    var Adt = { generate: generate$7 };\n\n    Adt.generate([\n      {\n        bothErrors: [\n          'error1',\n          'error2'\n        ]\n      },\n      {\n        firstError: [\n          'error1',\n          'value2'\n        ]\n      },\n      {\n        secondError: [\n          'value1',\n          'error2'\n        ]\n      },\n      {\n        bothValues: [\n          'value1',\n          'value2'\n        ]\n      }\n    ]);\n    var partition$1 = function (results) {\n      var errors = [];\n      var values = [];\n      each$1(results, function (result) {\n        result.fold(function (err) {\n          errors.push(err);\n        }, function (value) {\n          values.push(value);\n        });\n      });\n      return {\n        errors: errors,\n        values: values\n      };\n    };\n\n    var exclude$1 = function (obj, fields) {\n      var r = {};\n      each(obj, function (v, k) {\n        if (!contains$2(fields, k)) {\n          r[k] = v;\n        }\n      });\n      return r;\n    };\n\n    var wrap$2 = function (key, value) {\n      var _a;\n      return _a = {}, _a[key] = value, _a;\n    };\n    var wrapAll$1 = function (keyvalues) {\n      var r = {};\n      each$1(keyvalues, function (kv) {\n        r[kv.key] = kv.value;\n      });\n      return r;\n    };\n\n    var exclude = function (obj, fields) {\n      return exclude$1(obj, fields);\n    };\n    var wrap$1 = function (key, value) {\n      return wrap$2(key, value);\n    };\n    var wrapAll = function (keyvalues) {\n      return wrapAll$1(keyvalues);\n    };\n    var mergeValues = function (values, base) {\n      return values.length === 0 ? Result.value(base) : Result.value(deepMerge(base, merge$1.apply(undefined, values)));\n    };\n    var mergeErrors = function (errors) {\n      return Result.error(flatten(errors));\n    };\n    var consolidate = function (objs, base) {\n      var partitions = partition$1(objs);\n      return partitions.errors.length > 0 ? mergeErrors(partitions.errors) : mergeValues(partitions.values, base);\n    };\n\n    var ensureIsRoot = function (isRoot) {\n      return isFunction(isRoot) ? isRoot : never;\n    };\n    var ancestor$2 = function (scope, transform, isRoot) {\n      var element = scope.dom;\n      var stop = ensureIsRoot(isRoot);\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = SugarElement.fromDom(element);\n        var transformed = transform(el);\n        if (transformed.isSome()) {\n          return transformed;\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var closest$4 = function (scope, transform, isRoot) {\n      var current = transform(scope);\n      var stop = ensureIsRoot(isRoot);\n      return current.orThunk(function () {\n        return stop(scope) ? Optional.none() : ancestor$2(scope, transform, stop);\n      });\n    };\n\n    var isSource = function (component, simulatedEvent) {\n      return eq(component.element, simulatedEvent.event.target);\n    };\n\n    var defaultEventHandler = {\n      can: always,\n      abort: never,\n      run: noop\n    };\n    var nu$9 = function (parts) {\n      if (!hasNonNullableKey(parts, 'can') && !hasNonNullableKey(parts, 'abort') && !hasNonNullableKey(parts, 'run')) {\n        throw new Error('EventHandler defined by: ' + JSON.stringify(parts, null, 2) + ' does not have can, abort, or run!');\n      }\n      return __assign(__assign({}, defaultEventHandler), parts);\n    };\n    var all$2 = function (handlers, f) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return foldl(handlers, function (acc, handler) {\n          return acc && f(handler).apply(undefined, args);\n        }, true);\n      };\n    };\n    var any = function (handlers, f) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return foldl(handlers, function (acc, handler) {\n          return acc || f(handler).apply(undefined, args);\n        }, false);\n      };\n    };\n    var read$2 = function (handler) {\n      return isFunction(handler) ? {\n        can: always,\n        abort: never,\n        run: handler\n      } : handler;\n    };\n    var fuse$1 = function (handlers) {\n      var can = all$2(handlers, function (handler) {\n        return handler.can;\n      });\n      var abort = any(handlers, function (handler) {\n        return handler.abort;\n      });\n      var run = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        each$1(handlers, function (handler) {\n          handler.run.apply(undefined, args);\n        });\n      };\n      return {\n        can: can,\n        abort: abort,\n        run: run\n      };\n    };\n\n    var constant = constant$1;\n    var touchstart = constant('touchstart');\n    var touchmove = constant('touchmove');\n    var touchend = constant('touchend');\n    var touchcancel = constant('touchcancel');\n    var mousedown = constant('mousedown');\n    var mousemove = constant('mousemove');\n    var mouseout = constant('mouseout');\n    var mouseup = constant('mouseup');\n    var mouseover = constant('mouseover');\n    var focusin = constant('focusin');\n    var focusout = constant('focusout');\n    var keydown = constant('keydown');\n    var keyup = constant('keyup');\n    var input = constant('input');\n    var change = constant('change');\n    var click = constant('click');\n    var transitioncancel = constant('transitioncancel');\n    var transitionend = constant('transitionend');\n    var transitionstart = constant('transitionstart');\n    var selectstart = constant('selectstart');\n\n    var prefixName = function (name) {\n      return constant$1('alloy.' + name);\n    };\n    var alloy = { tap: prefixName('tap') };\n    var focus$4 = prefixName('focus');\n    var postBlur = prefixName('blur.post');\n    var postPaste = prefixName('paste.post');\n    var receive = prefixName('receive');\n    var execute$5 = prefixName('execute');\n    var focusItem = prefixName('focus.item');\n    var tap = alloy.tap;\n    var longpress = prefixName('longpress');\n    var sandboxClose = prefixName('sandbox.close');\n    var typeaheadCancel = prefixName('typeahead.cancel');\n    var systemInit = prefixName('system.init');\n    var documentTouchmove = prefixName('system.touchmove');\n    var documentTouchend = prefixName('system.touchend');\n    var windowScroll = prefixName('system.scroll');\n    var windowResize = prefixName('system.resize');\n    var attachedToDom = prefixName('system.attached');\n    var detachedFromDom = prefixName('system.detached');\n    var dismissRequested = prefixName('system.dismissRequested');\n    var repositionRequested = prefixName('system.repositionRequested');\n    var focusShifted = prefixName('focusmanager.shifted');\n    var slotVisibility = prefixName('slotcontainer.visibility');\n    var changeTab = prefixName('change.tab');\n    var dismissTab = prefixName('dismiss.tab');\n    var highlight$1 = prefixName('highlight');\n    var dehighlight$1 = prefixName('dehighlight');\n\n    var emit = function (component, event) {\n      dispatchWith(component, component.element, event, {});\n    };\n    var emitWith = function (component, event, properties) {\n      dispatchWith(component, component.element, event, properties);\n    };\n    var emitExecute = function (component) {\n      emit(component, execute$5());\n    };\n    var dispatch = function (component, target, event) {\n      dispatchWith(component, target, event, {});\n    };\n    var dispatchWith = function (component, target, event, properties) {\n      var data = __assign({ target: target }, properties);\n      component.getSystem().triggerEvent(event, target, data);\n    };\n    var dispatchEvent = function (component, target, event, simulatedEvent) {\n      component.getSystem().triggerEvent(event, target, simulatedEvent.event);\n    };\n\n    var derive$2 = function (configs) {\n      return wrapAll(configs);\n    };\n    var abort = function (name, predicate) {\n      return {\n        key: name,\n        value: nu$9({ abort: predicate })\n      };\n    };\n    var can = function (name, predicate) {\n      return {\n        key: name,\n        value: nu$9({ can: predicate })\n      };\n    };\n    var preventDefault = function (name) {\n      return {\n        key: name,\n        value: nu$9({\n          run: function (component, simulatedEvent) {\n            simulatedEvent.event.prevent();\n          }\n        })\n      };\n    };\n    var run$1 = function (name, handler) {\n      return {\n        key: name,\n        value: nu$9({ run: handler })\n      };\n    };\n    var runActionExtra = function (name, action, extra) {\n      return {\n        key: name,\n        value: nu$9({\n          run: function (component, simulatedEvent) {\n            action.apply(undefined, [\n              component,\n              simulatedEvent\n            ].concat(extra));\n          }\n        })\n      };\n    };\n    var runOnName = function (name) {\n      return function (handler) {\n        return run$1(name, handler);\n      };\n    };\n    var runOnSourceName = function (name) {\n      return function (handler) {\n        return {\n          key: name,\n          value: nu$9({\n            run: function (component, simulatedEvent) {\n              if (isSource(component, simulatedEvent)) {\n                handler(component, simulatedEvent);\n              }\n            }\n          })\n        };\n      };\n    };\n    var redirectToUid = function (name, uid) {\n      return run$1(name, function (component, simulatedEvent) {\n        component.getSystem().getByUid(uid).each(function (redirectee) {\n          dispatchEvent(redirectee, redirectee.element, name, simulatedEvent);\n        });\n      });\n    };\n    var redirectToPart = function (name, detail, partName) {\n      var uid = detail.partUids[partName];\n      return redirectToUid(name, uid);\n    };\n    var runWithTarget = function (name, f) {\n      return run$1(name, function (component, simulatedEvent) {\n        var ev = simulatedEvent.event;\n        var target = component.getSystem().getByDom(ev.target).getOrThunk(function () {\n          var closest = closest$4(ev.target, function (el) {\n            return component.getSystem().getByDom(el).toOptional();\n          }, never);\n          return closest.getOr(component);\n        });\n        f(component, target, simulatedEvent);\n      });\n    };\n    var cutter = function (name) {\n      return run$1(name, function (component, simulatedEvent) {\n        simulatedEvent.cut();\n      });\n    };\n    var stopper = function (name) {\n      return run$1(name, function (component, simulatedEvent) {\n        simulatedEvent.stop();\n      });\n    };\n    var runOnSource = function (name, f) {\n      return runOnSourceName(name)(f);\n    };\n    var runOnAttached = runOnSourceName(attachedToDom());\n    var runOnDetached = runOnSourceName(detachedFromDom());\n    var runOnInit = runOnSourceName(systemInit());\n    var runOnExecute$1 = runOnName(execute$5());\n\n    var fromHtml$1 = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      return children(SugarElement.fromDom(div));\n    };\n\n    var get$7 = function (element) {\n      return element.dom.innerHTML;\n    };\n    var set$5 = function (element, content) {\n      var owner = owner$4(element);\n      var docDom = owner.dom;\n      var fragment = SugarElement.fromDom(docDom.createDocumentFragment());\n      var contentElements = fromHtml$1(content, docDom);\n      append$1(fragment, contentElements);\n      empty(element);\n      append$2(element, fragment);\n    };\n    var getOuter = function (element) {\n      var container = SugarElement.fromTag('div');\n      var clone = SugarElement.fromDom(element.dom.cloneNode(true));\n      append$2(container, clone);\n      return get$7(container);\n    };\n\n    var clone$1 = function (original, isDeep) {\n      return SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    };\n    var shallow = function (original) {\n      return clone$1(original, false);\n    };\n\n    var getHtml = function (element) {\n      if (isShadowRoot(element)) {\n        return '#shadow-root';\n      } else {\n        var clone = shallow(element);\n        return getOuter(clone);\n      }\n    };\n\n    var element = function (elem) {\n      return getHtml(elem);\n    };\n\n    var isRecursive = function (component, originator, target) {\n      return eq(originator, component.element) && !eq(originator, target);\n    };\n    var events$i = derive$2([can(focus$4(), function (component, simulatedEvent) {\n        var event = simulatedEvent.event;\n        var originator = event.originator;\n        var target = event.target;\n        if (isRecursive(component, originator, target)) {\n          console.warn(focus$4() + ' did not get interpreted by the desired target. ' + '\\nOriginator: ' + element(originator) + '\\nTarget: ' + element(target) + '\\nCheck the ' + focus$4() + ' event handlers');\n          return false;\n        } else {\n          return true;\n        }\n      })]);\n\n    var DefaultEvents = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$i\n    });\n\n    var unique = 0;\n    var generate$6 = function (prefix) {\n      var date = new Date();\n      var time = date.getTime();\n      var random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    var prefix$1 = constant$1('alloy-id-');\n    var idAttr$1 = constant$1('data-alloy-id');\n\n    var prefix = prefix$1();\n    var idAttr = idAttr$1();\n    var write = function (label, elem) {\n      var id = generate$6(prefix + label);\n      writeOnly(elem, id);\n      return id;\n    };\n    var writeOnly = function (elem, uid) {\n      Object.defineProperty(elem.dom, idAttr, {\n        value: uid,\n        writable: true\n      });\n    };\n    var read$1 = function (elem) {\n      var id = isElement$2(elem) ? elem.dom[idAttr] : null;\n      return Optional.from(id);\n    };\n    var generate$5 = function (prefix) {\n      return generate$6(prefix);\n    };\n\n    var make$8 = identity$1;\n\n    var NoContextApi = function (getComp) {\n      var getMessage = function (event) {\n        return 'The component must be in a context to execute: ' + event + (getComp ? '\\n' + element(getComp().element) + ' is not in context.' : '');\n      };\n      var fail = function (event) {\n        return function () {\n          throw new Error(getMessage(event));\n        };\n      };\n      var warn = function (event) {\n        return function () {\n          console.warn(getMessage(event));\n        };\n      };\n      return {\n        debugInfo: constant$1('fake'),\n        triggerEvent: warn('triggerEvent'),\n        triggerFocus: warn('triggerFocus'),\n        triggerEscape: warn('triggerEscape'),\n        broadcast: warn('broadcast'),\n        broadcastOn: warn('broadcastOn'),\n        broadcastEvent: warn('broadcastEvent'),\n        build: fail('build'),\n        addToWorld: fail('addToWorld'),\n        removeFromWorld: fail('removeFromWorld'),\n        addToGui: fail('addToGui'),\n        removeFromGui: fail('removeFromGui'),\n        getByUid: fail('getByUid'),\n        getByDom: fail('getByDom'),\n        isConnected: never\n      };\n    };\n    var singleton$1 = NoContextApi();\n\n    var markAsBehaviourApi = function (f, apiName, apiFunction) {\n      var delegate = apiFunction.toString();\n      var endIndex = delegate.indexOf(')') + 1;\n      var openBracketIndex = delegate.indexOf('(');\n      var parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = function () {\n        return {\n          name: apiName,\n          parameters: cleanParameters(parameters.slice(0, 1).concat(parameters.slice(3)))\n        };\n      };\n      return f;\n    };\n    var cleanParameters = function (parameters) {\n      return map$2(parameters, function (p) {\n        return endsWith(p, '/*') ? p.substring(0, p.length - '/*'.length) : p;\n      });\n    };\n    var markAsExtraApi = function (f, extraName) {\n      var delegate = f.toString();\n      var endIndex = delegate.indexOf(')') + 1;\n      var openBracketIndex = delegate.indexOf('(');\n      var parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = function () {\n        return {\n          name: extraName,\n          parameters: cleanParameters(parameters)\n        };\n      };\n      return f;\n    };\n    var markAsSketchApi = function (f, apiFunction) {\n      var delegate = apiFunction.toString();\n      var endIndex = delegate.indexOf(')') + 1;\n      var openBracketIndex = delegate.indexOf('(');\n      var parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = function () {\n        return {\n          name: 'OVERRIDE',\n          parameters: cleanParameters(parameters.slice(1))\n        };\n      };\n      return f;\n    };\n\n    var premadeTag = generate$6('alloy-premade');\n    var premade$1 = function (comp) {\n      return wrap$1(premadeTag, comp);\n    };\n    var getPremade = function (spec) {\n      return get$e(spec, premadeTag);\n    };\n    var makeApi = function (f) {\n      return markAsSketchApi(function (component) {\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n          rest[_i - 1] = arguments[_i];\n        }\n        return f.apply(void 0, __spreadArray([\n          component.getApis(),\n          component\n        ], rest, false));\n      }, f);\n    };\n\n    var NoState = {\n      init: function () {\n        return nu$8({ readState: constant$1('No State required') });\n      }\n    };\n    var nu$8 = function (spec) {\n      return spec;\n    };\n\n    var generateFrom$1 = function (spec, all) {\n      var schema = map$2(all, function (a) {\n        return optionObjOf(a.name(), [\n          required$1('config'),\n          defaulted('state', NoState)\n        ]);\n      });\n      var validated = asRaw('component.behaviours', objOf(schema), spec.behaviours).fold(function (errInfo) {\n        throw new Error(formatError(errInfo) + '\\nComplete spec:\\n' + JSON.stringify(spec, null, 2));\n      }, identity$1);\n      return {\n        list: all,\n        data: map$1(validated, function (optBlobThunk) {\n          var output = optBlobThunk.map(function (blob) {\n            return {\n              config: blob.config,\n              state: blob.state.init(blob.config)\n            };\n          });\n          return constant$1(output);\n        })\n      };\n    };\n    var getBehaviours$3 = function (bData) {\n      return bData.list;\n    };\n    var getData$2 = function (bData) {\n      return bData.data;\n    };\n\n    var byInnerKey = function (data, tuple) {\n      var r = {};\n      each(data, function (detail, key) {\n        each(detail, function (value, indexKey) {\n          var chain = get$e(r, indexKey).getOr([]);\n          r[indexKey] = chain.concat([tuple(key, value)]);\n        });\n      });\n      return r;\n    };\n\n    var nu$7 = function (s) {\n      return {\n        classes: isUndefined(s.classes) ? [] : s.classes,\n        attributes: isUndefined(s.attributes) ? {} : s.attributes,\n        styles: isUndefined(s.styles) ? {} : s.styles\n      };\n    };\n    var merge = function (defnA, mod) {\n      return __assign(__assign({}, defnA), {\n        attributes: __assign(__assign({}, defnA.attributes), mod.attributes),\n        styles: __assign(__assign({}, defnA.styles), mod.styles),\n        classes: defnA.classes.concat(mod.classes)\n      });\n    };\n\n    var combine$2 = function (info, baseMod, behaviours, base) {\n      var modsByBehaviour = __assign({}, baseMod);\n      each$1(behaviours, function (behaviour) {\n        modsByBehaviour[behaviour.name()] = behaviour.exhibit(info, base);\n      });\n      var byAspect = byInnerKey(modsByBehaviour, function (name, modification) {\n        return {\n          name: name,\n          modification: modification\n        };\n      });\n      var combineObjects = function (objects) {\n        return foldr(objects, function (b, a) {\n          return __assign(__assign({}, a.modification), b);\n        }, {});\n      };\n      var combinedClasses = foldr(byAspect.classes, function (b, a) {\n        return a.modification.concat(b);\n      }, []);\n      var combinedAttributes = combineObjects(byAspect.attributes);\n      var combinedStyles = combineObjects(byAspect.styles);\n      return nu$7({\n        classes: combinedClasses,\n        attributes: combinedAttributes,\n        styles: combinedStyles\n      });\n    };\n\n    var sortKeys = function (label, keyName, array, order) {\n      try {\n        var sorted = sort(array, function (a, b) {\n          var aKey = a[keyName];\n          var bKey = b[keyName];\n          var aIndex = order.indexOf(aKey);\n          var bIndex = order.indexOf(bKey);\n          if (aIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + aKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (bIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + bKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (aIndex < bIndex) {\n            return -1;\n          } else if (bIndex < aIndex) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n        return Result.value(sorted);\n      } catch (err) {\n        return Result.error([err]);\n      }\n    };\n\n    var uncurried = function (handler, purpose) {\n      return {\n        handler: handler,\n        purpose: purpose\n      };\n    };\n    var curried = function (handler, purpose) {\n      return {\n        cHandler: handler,\n        purpose: purpose\n      };\n    };\n    var curryArgs = function (descHandler, extraArgs) {\n      return curried(curry.apply(undefined, [descHandler.handler].concat(extraArgs)), descHandler.purpose);\n    };\n    var getCurried = function (descHandler) {\n      return descHandler.cHandler;\n    };\n\n    var behaviourTuple = function (name, handler) {\n      return {\n        name: name,\n        handler: handler\n      };\n    };\n    var nameToHandlers = function (behaviours, info) {\n      var r = {};\n      each$1(behaviours, function (behaviour) {\n        r[behaviour.name()] = behaviour.handlers(info);\n      });\n      return r;\n    };\n    var groupByEvents = function (info, behaviours, base) {\n      var behaviourEvents = __assign(__assign({}, base), nameToHandlers(behaviours, info));\n      return byInnerKey(behaviourEvents, behaviourTuple);\n    };\n    var combine$1 = function (info, eventOrder, behaviours, base) {\n      var byEventName = groupByEvents(info, behaviours, base);\n      return combineGroups(byEventName, eventOrder);\n    };\n    var assemble = function (rawHandler) {\n      var handler = read$2(rawHandler);\n      return function (component, simulatedEvent) {\n        var rest = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n          rest[_i - 2] = arguments[_i];\n        }\n        var args = [\n          component,\n          simulatedEvent\n        ].concat(rest);\n        if (handler.abort.apply(undefined, args)) {\n          simulatedEvent.stop();\n        } else if (handler.can.apply(undefined, args)) {\n          handler.run.apply(undefined, args);\n        }\n      };\n    };\n    var missingOrderError = function (eventName, tuples) {\n      return Result.error(['The event (' + eventName + ') has more than one behaviour that listens to it.\\nWhen this occurs, you must ' + 'specify an event ordering for the behaviours in your spec (e.g. [ \"listing\", \"toggling\" ]).\\nThe behaviours that ' + 'can trigger it are: ' + JSON.stringify(map$2(tuples, function (c) {\n          return c.name;\n        }), null, 2)]);\n    };\n    var fuse = function (tuples, eventOrder, eventName) {\n      var order = eventOrder[eventName];\n      if (!order) {\n        return missingOrderError(eventName, tuples);\n      } else {\n        return sortKeys('Event: ' + eventName, 'name', tuples, order).map(function (sortedTuples) {\n          var handlers = map$2(sortedTuples, function (tuple) {\n            return tuple.handler;\n          });\n          return fuse$1(handlers);\n        });\n      }\n    };\n    var combineGroups = function (byEventName, eventOrder) {\n      var r = mapToArray(byEventName, function (tuples, eventName) {\n        var combined = tuples.length === 1 ? Result.value(tuples[0].handler) : fuse(tuples, eventOrder, eventName);\n        return combined.map(function (handler) {\n          var assembled = assemble(handler);\n          var purpose = tuples.length > 1 ? filter$2(eventOrder[eventName], function (o) {\n            return exists(tuples, function (t) {\n              return t.name === o;\n            });\n          }).join(' > ') : tuples[0].name;\n          return wrap$1(eventName, uncurried(assembled, purpose));\n        });\n      });\n      return consolidate(r, {});\n    };\n\n    var _a$2;\n    var baseBehaviour = 'alloy.base.behaviour';\n    var schema$z = objOf([\n      field$1('dom', 'dom', required$2(), objOf([\n        required$1('tag'),\n        defaulted('styles', {}),\n        defaulted('classes', []),\n        defaulted('attributes', {}),\n        option('value'),\n        option('innerHtml')\n      ])),\n      required$1('components'),\n      required$1('uid'),\n      defaulted('events', {}),\n      defaulted('apis', {}),\n      field$1('eventOrder', 'eventOrder', mergeWith((_a$2 = {}, _a$2[execute$5()] = [\n        'disabling',\n        baseBehaviour,\n        'toggling',\n        'typeaheadevents'\n      ], _a$2[focus$4()] = [\n        baseBehaviour,\n        'focusing',\n        'keying'\n      ], _a$2[systemInit()] = [\n        baseBehaviour,\n        'disabling',\n        'toggling',\n        'representing'\n      ], _a$2[input()] = [\n        baseBehaviour,\n        'representing',\n        'streaming',\n        'invalidating'\n      ], _a$2[detachedFromDom()] = [\n        baseBehaviour,\n        'representing',\n        'item-events',\n        'tooltipping'\n      ], _a$2[mousedown()] = [\n        'focusing',\n        baseBehaviour,\n        'item-type-events'\n      ], _a$2[touchstart()] = [\n        'focusing',\n        baseBehaviour,\n        'item-type-events'\n      ], _a$2[mouseover()] = [\n        'item-type-events',\n        'tooltipping'\n      ], _a$2[receive()] = [\n        'receiving',\n        'reflecting',\n        'tooltipping'\n      ], _a$2)), anyValue()),\n      option('domModification')\n    ]);\n    var toInfo = function (spec) {\n      return asRaw('custom.definition', schema$z, spec);\n    };\n    var toDefinition = function (detail) {\n      return __assign(__assign({}, detail.dom), {\n        uid: detail.uid,\n        domChildren: map$2(detail.components, function (comp) {\n          return comp.element;\n        })\n      });\n    };\n    var toModification = function (detail) {\n      return detail.domModification.fold(function () {\n        return nu$7({});\n      }, nu$7);\n    };\n    var toEvents = function (info) {\n      return info.events;\n    };\n\n    var read = function (element, attr) {\n      var value = get$d(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    var add$4 = function (element, attr, id) {\n      var old = read(element, attr);\n      var nu = old.concat([id]);\n      set$8(element, attr, nu.join(' '));\n      return true;\n    };\n    var remove$4 = function (element, attr, id) {\n      var nu = filter$2(read(element, attr), function (v) {\n        return v !== id;\n      });\n      if (nu.length > 0) {\n        set$8(element, attr, nu.join(' '));\n      } else {\n        remove$7(element, attr);\n      }\n      return false;\n    };\n\n    var supports = function (element) {\n      return element.dom.classList !== undefined;\n    };\n    var get$6 = function (element) {\n      return read(element, 'class');\n    };\n    var add$3 = function (element, clazz) {\n      return add$4(element, 'class', clazz);\n    };\n    var remove$3 = function (element, clazz) {\n      return remove$4(element, 'class', clazz);\n    };\n\n    var add$2 = function (element, clazz) {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$3(element, clazz);\n      }\n    };\n    var cleanClass = function (element) {\n      var classList = supports(element) ? element.dom.classList : get$6(element);\n      if (classList.length === 0) {\n        remove$7(element, 'class');\n      }\n    };\n    var remove$2 = function (element, clazz) {\n      if (supports(element)) {\n        var classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$3(element, clazz);\n      }\n      cleanClass(element);\n    };\n    var has = function (element, clazz) {\n      return supports(element) && element.dom.classList.contains(clazz);\n    };\n\n    var add$1 = function (element, classes) {\n      each$1(classes, function (x) {\n        add$2(element, x);\n      });\n    };\n    var remove$1 = function (element, classes) {\n      each$1(classes, function (x) {\n        remove$2(element, x);\n      });\n    };\n    var hasAll = function (element, classes) {\n      return forall(classes, function (clazz) {\n        return has(element, clazz);\n      });\n    };\n\n    var get$5 = function (element) {\n      return element.dom.value;\n    };\n    var set$4 = function (element, value) {\n      if (value === undefined) {\n        throw new Error('Value.set was undefined');\n      }\n      element.dom.value = value;\n    };\n\n    var renderToDom = function (definition) {\n      var subject = SugarElement.fromTag(definition.tag);\n      setAll$1(subject, definition.attributes);\n      add$1(subject, definition.classes);\n      setAll(subject, definition.styles);\n      definition.innerHtml.each(function (html) {\n        return set$5(subject, html);\n      });\n      var children = definition.domChildren;\n      append$1(subject, children);\n      definition.value.each(function (value) {\n        set$4(subject, value);\n      });\n      if (!definition.uid) {\n        debugger;\n      }\n      writeOnly(subject, definition.uid);\n      return subject;\n    };\n\n    var getBehaviours$2 = function (spec) {\n      var behaviours = get$e(spec, 'behaviours').getOr({});\n      return bind$3(keys(behaviours), function (name) {\n        var behaviour = behaviours[name];\n        return isNonNullable(behaviour) ? [behaviour.me] : [];\n      });\n    };\n    var generateFrom = function (spec, all) {\n      return generateFrom$1(spec, all);\n    };\n    var generate$4 = function (spec) {\n      var all = getBehaviours$2(spec);\n      return generateFrom(spec, all);\n    };\n\n    var getDomDefinition = function (info, bList, bData) {\n      var definition = toDefinition(info);\n      var infoModification = toModification(info);\n      var baseModification = { 'alloy.base.modification': infoModification };\n      var modification = bList.length > 0 ? combine$2(bData, baseModification, bList, definition) : infoModification;\n      return merge(definition, modification);\n    };\n    var getEvents = function (info, bList, bData) {\n      var baseEvents = { 'alloy.base.behaviour': toEvents(info) };\n      return combine$1(bData, info.eventOrder, bList, baseEvents).getOrDie();\n    };\n    var build$2 = function (spec) {\n      var getMe = function () {\n        return me;\n      };\n      var systemApi = Cell(singleton$1);\n      var info = getOrDie(toInfo(spec));\n      var bBlob = generate$4(spec);\n      var bList = getBehaviours$3(bBlob);\n      var bData = getData$2(bBlob);\n      var modDefinition = getDomDefinition(info, bList, bData);\n      var item = renderToDom(modDefinition);\n      var events = getEvents(info, bList, bData);\n      var subcomponents = Cell(info.components);\n      var connect = function (newApi) {\n        systemApi.set(newApi);\n      };\n      var disconnect = function () {\n        systemApi.set(NoContextApi(getMe));\n      };\n      var syncComponents = function () {\n        var children$1 = children(item);\n        var subs = bind$3(children$1, function (child) {\n          return systemApi.get().getByDom(child).fold(function () {\n            return [];\n          }, pure$2);\n        });\n        subcomponents.set(subs);\n      };\n      var config = function (behaviour) {\n        var b = bData;\n        var f = isFunction(b[behaviour.name()]) ? b[behaviour.name()] : function () {\n          throw new Error('Could not find ' + behaviour.name() + ' in ' + JSON.stringify(spec, null, 2));\n        };\n        return f();\n      };\n      var hasConfigured = function (behaviour) {\n        return isFunction(bData[behaviour.name()]);\n      };\n      var getApis = function () {\n        return info.apis;\n      };\n      var readState = function (behaviourName) {\n        return bData[behaviourName]().map(function (b) {\n          return b.state.readState();\n        }).getOr('not enabled');\n      };\n      var me = {\n        uid: spec.uid,\n        getSystem: systemApi.get,\n        config: config,\n        hasConfigured: hasConfigured,\n        spec: spec,\n        readState: readState,\n        getApis: getApis,\n        connect: connect,\n        disconnect: disconnect,\n        element: item,\n        syncComponents: syncComponents,\n        components: subcomponents.get,\n        events: events\n      };\n      return me;\n    };\n\n    var buildSubcomponents = function (spec) {\n      var components = get$e(spec, 'components').getOr([]);\n      return map$2(components, build$1);\n    };\n    var buildFromSpec = function (userSpec) {\n      var _a = make$8(userSpec), specEvents = _a.events, spec = __rest(_a, ['events']);\n      var components = buildSubcomponents(spec);\n      var completeSpec = __assign(__assign({}, spec), {\n        events: __assign(__assign({}, DefaultEvents), specEvents),\n        components: components\n      });\n      return Result.value(build$2(completeSpec));\n    };\n    var text = function (textContent) {\n      var element = SugarElement.fromText(textContent);\n      return external$2({ element: element });\n    };\n    var external$2 = function (spec) {\n      var extSpec = asRawOrDie$1('external.component', objOfOnly([\n        required$1('element'),\n        option('uid')\n      ]), spec);\n      var systemApi = Cell(NoContextApi());\n      var connect = function (newApi) {\n        systemApi.set(newApi);\n      };\n      var disconnect = function () {\n        systemApi.set(NoContextApi(function () {\n          return me;\n        }));\n      };\n      var uid = extSpec.uid.getOrThunk(function () {\n        return generate$5('external');\n      });\n      writeOnly(extSpec.element, uid);\n      var me = {\n        uid: uid,\n        getSystem: systemApi.get,\n        config: Optional.none,\n        hasConfigured: never,\n        connect: connect,\n        disconnect: disconnect,\n        getApis: function () {\n          return {};\n        },\n        element: extSpec.element,\n        spec: spec,\n        readState: constant$1('No state'),\n        syncComponents: noop,\n        components: constant$1([]),\n        events: {}\n      };\n      return premade$1(me);\n    };\n    var uids = generate$5;\n    var isSketchSpec$1 = function (spec) {\n      return has$2(spec, 'uid');\n    };\n    var build$1 = function (spec) {\n      return getPremade(spec).getOrThunk(function () {\n        var userSpecWithUid = isSketchSpec$1(spec) ? spec : __assign({ uid: uids('') }, spec);\n        return buildFromSpec(userSpecWithUid).getOrDie();\n      });\n    };\n    var premade = premade$1;\n\n    function ClosestOrAncestor (is, ancestor, scope, a, isRoot) {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    }\n\n    var ancestor$1 = function (scope, predicate, isRoot) {\n      var element = scope.dom;\n      var stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var closest$3 = function (scope, predicate, isRoot) {\n      var is = function (s, test) {\n        return test(s);\n      };\n      return ClosestOrAncestor(is, ancestor$1, scope, predicate, isRoot);\n    };\n    var child$1 = function (scope, predicate) {\n      var pred = function (node) {\n        return predicate(SugarElement.fromDom(node));\n      };\n      var result = find$5(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n    var descendant$1 = function (scope, predicate) {\n      var descend = function (node) {\n        for (var i = 0; i < node.childNodes.length; i++) {\n          var child_1 = SugarElement.fromDom(node.childNodes[i]);\n          if (predicate(child_1)) {\n            return Optional.some(child_1);\n          }\n          var res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope.dom);\n    };\n\n    var closest$2 = function (scope, predicate, isRoot) {\n      return closest$3(scope, predicate, isRoot).isSome();\n    };\n\n    var ancestor = function (scope, selector, isRoot) {\n      return ancestor$1(scope, function (e) {\n        return is(e, selector);\n      }, isRoot);\n    };\n    var child = function (scope, selector) {\n      return child$1(scope, function (e) {\n        return is(e, selector);\n      });\n    };\n    var descendant = function (scope, selector) {\n      return one(selector, scope);\n    };\n    var closest$1 = function (scope, selector, isRoot) {\n      var is$1 = function (element, selector) {\n        return is(element, selector);\n      };\n      return ClosestOrAncestor(is$1, ancestor, scope, selector, isRoot);\n    };\n\n    var find$1 = function (queryElem) {\n      var dependent = closest$3(queryElem, function (elem) {\n        if (!isElement$2(elem)) {\n          return false;\n        }\n        var id = get$d(elem, 'id');\n        return id !== undefined && id.indexOf('aria-owns') > -1;\n      });\n      return dependent.bind(function (dep) {\n        var id = get$d(dep, 'id');\n        var dos = getRootNode(dep);\n        return descendant(dos, '[aria-owns=\"' + id + '\"]');\n      });\n    };\n    var manager = function () {\n      var ariaId = generate$6('aria-owns');\n      var link = function (elem) {\n        set$8(elem, 'aria-owns', ariaId);\n      };\n      var unlink = function (elem) {\n        remove$7(elem, 'aria-owns');\n      };\n      return {\n        id: ariaId,\n        link: link,\n        unlink: unlink\n      };\n    };\n\n    var isAriaPartOf = function (component, queryElem) {\n      return find$1(queryElem).exists(function (owner) {\n        return isPartOf$1(component, owner);\n      });\n    };\n    var isPartOf$1 = function (component, queryElem) {\n      return closest$2(queryElem, function (el) {\n        return eq(el, component.element);\n      }, never) || isAriaPartOf(component, queryElem);\n    };\n\n    var unknown = 'unknown';\n    var EventConfiguration;\n    (function (EventConfiguration) {\n      EventConfiguration[EventConfiguration['STOP'] = 0] = 'STOP';\n      EventConfiguration[EventConfiguration['NORMAL'] = 1] = 'NORMAL';\n      EventConfiguration[EventConfiguration['LOGGING'] = 2] = 'LOGGING';\n    }(EventConfiguration || (EventConfiguration = {})));\n    var eventConfig = Cell({});\n    var makeEventLogger = function (eventName, initialTarget) {\n      var sequence = [];\n      var startTime = new Date().getTime();\n      return {\n        logEventCut: function (_name, target, purpose) {\n          sequence.push({\n            outcome: 'cut',\n            target: target,\n            purpose: purpose\n          });\n        },\n        logEventStopped: function (_name, target, purpose) {\n          sequence.push({\n            outcome: 'stopped',\n            target: target,\n            purpose: purpose\n          });\n        },\n        logNoParent: function (_name, target, purpose) {\n          sequence.push({\n            outcome: 'no-parent',\n            target: target,\n            purpose: purpose\n          });\n        },\n        logEventNoHandlers: function (_name, target) {\n          sequence.push({\n            outcome: 'no-handlers-left',\n            target: target\n          });\n        },\n        logEventResponse: function (_name, target, purpose) {\n          sequence.push({\n            outcome: 'response',\n            purpose: purpose,\n            target: target\n          });\n        },\n        write: function () {\n          var finishTime = new Date().getTime();\n          if (contains$2([\n              'mousemove',\n              'mouseover',\n              'mouseout',\n              systemInit()\n            ], eventName)) {\n            return;\n          }\n          console.log(eventName, {\n            event: eventName,\n            time: finishTime - startTime,\n            target: initialTarget.dom,\n            sequence: map$2(sequence, function (s) {\n              if (!contains$2([\n                  'cut',\n                  'stopped',\n                  'response'\n                ], s.outcome)) {\n                return s.outcome;\n              } else {\n                return '{' + s.purpose + '} ' + s.outcome + ' at (' + element(s.target) + ')';\n              }\n            })\n          });\n        }\n      };\n    };\n    var processEvent = function (eventName, initialTarget, f) {\n      var status = get$e(eventConfig.get(), eventName).orThunk(function () {\n        var patterns = keys(eventConfig.get());\n        return findMap(patterns, function (p) {\n          return eventName.indexOf(p) > -1 ? Optional.some(eventConfig.get()[p]) : Optional.none();\n        });\n      }).getOr(EventConfiguration.NORMAL);\n      switch (status) {\n      case EventConfiguration.NORMAL:\n        return f(noLogger());\n      case EventConfiguration.LOGGING: {\n          var logger = makeEventLogger(eventName, initialTarget);\n          var output = f(logger);\n          logger.write();\n          return output;\n        }\n      case EventConfiguration.STOP:\n        return true;\n      }\n    };\n    var path = [\n      'alloy/data/Fields',\n      'alloy/debugging/Debugging'\n    ];\n    var getTrace = function () {\n      var err = new Error();\n      if (err.stack !== undefined) {\n        var lines = err.stack.split('\\n');\n        return find$5(lines, function (line) {\n          return line.indexOf('alloy') > 0 && !exists(path, function (p) {\n            return line.indexOf(p) > -1;\n          });\n        }).getOr(unknown);\n      } else {\n        return unknown;\n      }\n    };\n    var ignoreEvent = {\n      logEventCut: noop,\n      logEventStopped: noop,\n      logNoParent: noop,\n      logEventNoHandlers: noop,\n      logEventResponse: noop,\n      write: noop\n    };\n    var monitorEvent = function (eventName, initialTarget, f) {\n      return processEvent(eventName, initialTarget, f);\n    };\n    var noLogger = constant$1(ignoreEvent);\n\n    var menuFields = constant$1([\n      required$1('menu'),\n      required$1('selectedMenu')\n    ]);\n    var itemFields = constant$1([\n      required$1('item'),\n      required$1('selectedItem')\n    ]);\n    constant$1(objOf(itemFields().concat(menuFields())));\n    var itemSchema$3 = constant$1(objOf(itemFields()));\n\n    var _initSize = requiredObjOf('initSize', [\n      required$1('numColumns'),\n      required$1('numRows')\n    ]);\n    var itemMarkers = function () {\n      return requiredOf('markers', itemSchema$3());\n    };\n    var tieredMenuMarkers = function () {\n      return requiredObjOf('markers', [required$1('backgroundMenu')].concat(menuFields()).concat(itemFields()));\n    };\n    var markers$1 = function (required) {\n      return requiredObjOf('markers', map$2(required, required$1));\n    };\n    var onPresenceHandler = function (label, fieldName, presence) {\n      getTrace();\n      return field$1(fieldName, fieldName, presence, valueOf(function (f) {\n        return Result.value(function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          return f.apply(undefined, args);\n        });\n      }));\n    };\n    var onHandler = function (fieldName) {\n      return onPresenceHandler('onHandler', fieldName, defaulted$1(noop));\n    };\n    var onKeyboardHandler = function (fieldName) {\n      return onPresenceHandler('onKeyboardHandler', fieldName, defaulted$1(Optional.none));\n    };\n    var onStrictHandler = function (fieldName) {\n      return onPresenceHandler('onHandler', fieldName, required$2());\n    };\n    var onStrictKeyboardHandler = function (fieldName) {\n      return onPresenceHandler('onKeyboardHandler', fieldName, required$2());\n    };\n    var output$1 = function (name, value) {\n      return customField(name, constant$1(value));\n    };\n    var snapshot = function (name) {\n      return customField(name, identity$1);\n    };\n    var initSize = constant$1(_initSize);\n\n    var nu$6 = function (x, y, bubble, direction, placement, boundsRestriction, labelPrefix, alwaysFit) {\n      if (alwaysFit === void 0) {\n        alwaysFit = false;\n      }\n      return {\n        x: x,\n        y: y,\n        bubble: bubble,\n        direction: direction,\n        placement: placement,\n        restriction: boundsRestriction,\n        label: labelPrefix + '-' + placement,\n        alwaysFit: alwaysFit\n      };\n    };\n\n    var adt$a = Adt.generate([\n      { southeast: [] },\n      { southwest: [] },\n      { northeast: [] },\n      { northwest: [] },\n      { south: [] },\n      { north: [] },\n      { east: [] },\n      { west: [] }\n    ]);\n    var cata$2 = function (subject, southeast, southwest, northeast, northwest, south, north, east, west) {\n      return subject.fold(southeast, southwest, northeast, northwest, south, north, east, west);\n    };\n    var cataVertical = function (subject, south, middle, north) {\n      return subject.fold(south, south, north, north, south, north, middle, middle);\n    };\n    var cataHorizontal = function (subject, east, middle, west) {\n      return subject.fold(east, west, east, west, middle, middle, east, west);\n    };\n    var southeast$3 = adt$a.southeast;\n    var southwest$3 = adt$a.southwest;\n    var northeast$3 = adt$a.northeast;\n    var northwest$3 = adt$a.northwest;\n    var south$3 = adt$a.south;\n    var north$3 = adt$a.north;\n    var east$3 = adt$a.east;\n    var west$3 = adt$a.west;\n\n    var cycleBy = function (value, delta, min, max) {\n      var r = value + delta;\n      if (r > max) {\n        return min;\n      } else if (r < min) {\n        return max;\n      } else {\n        return r;\n      }\n    };\n    var clamp$1 = function (value, min, max) {\n      return Math.min(Math.max(value, min), max);\n    };\n\n    var getRestriction = function (anchor, restriction) {\n      switch (restriction) {\n      case 1:\n        return anchor.x;\n      case 0:\n        return anchor.x + anchor.width;\n      case 2:\n        return anchor.y;\n      case 3:\n        return anchor.y + anchor.height;\n      }\n    };\n    var boundsRestriction = function (anchor, restrictions) {\n      return mapToObject([\n        'left',\n        'right',\n        'top',\n        'bottom'\n      ], function (dir) {\n        return get$e(restrictions, dir).map(function (restriction) {\n          return getRestriction(anchor, restriction);\n        });\n      });\n    };\n    var adjustBounds = function (bounds$1, restriction, bubbleOffset) {\n      var applyRestriction = function (dir, current) {\n        return restriction[dir].map(function (pos) {\n          var isVerticalAxis = dir === 'top' || dir === 'bottom';\n          var offset = isVerticalAxis ? bubbleOffset.top : bubbleOffset.left;\n          var comparator = dir === 'left' || dir === 'top' ? Math.max : Math.min;\n          var newPos = comparator(pos, current) + offset;\n          return isVerticalAxis ? clamp$1(newPos, bounds$1.y, bounds$1.bottom) : clamp$1(newPos, bounds$1.x, bounds$1.right);\n        }).getOr(current);\n      };\n      var adjustedLeft = applyRestriction('left', bounds$1.x);\n      var adjustedTop = applyRestriction('top', bounds$1.y);\n      var adjustedRight = applyRestriction('right', bounds$1.right);\n      var adjustedBottom = applyRestriction('bottom', bounds$1.bottom);\n      return bounds(adjustedLeft, adjustedTop, adjustedRight - adjustedLeft, adjustedBottom - adjustedTop);\n    };\n\n    var labelPrefix$2 = 'layout';\n    var eastX$1 = function (anchor) {\n      return anchor.x;\n    };\n    var middleX$1 = function (anchor, element) {\n      return anchor.x + anchor.width / 2 - element.width / 2;\n    };\n    var westX$1 = function (anchor, element) {\n      return anchor.x + anchor.width - element.width;\n    };\n    var northY$2 = function (anchor, element) {\n      return anchor.y - element.height;\n    };\n    var southY$2 = function (anchor) {\n      return anchor.y + anchor.height;\n    };\n    var centreY$1 = function (anchor, element) {\n      return anchor.y + anchor.height / 2 - element.height / 2;\n    };\n    var eastEdgeX$1 = function (anchor) {\n      return anchor.x + anchor.width;\n    };\n    var westEdgeX$1 = function (anchor, element) {\n      return anchor.x - element.width;\n    };\n    var southeast$2 = function (anchor, element, bubbles) {\n      return nu$6(eastX$1(anchor), southY$2(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n        left: 1,\n        top: 3\n      }), labelPrefix$2);\n    };\n    var southwest$2 = function (anchor, element, bubbles) {\n      return nu$6(westX$1(anchor, element), southY$2(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n        right: 0,\n        top: 3\n      }), labelPrefix$2);\n    };\n    var northeast$2 = function (anchor, element, bubbles) {\n      return nu$6(eastX$1(anchor), northY$2(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n        left: 1,\n        bottom: 2\n      }), labelPrefix$2);\n    };\n    var northwest$2 = function (anchor, element, bubbles) {\n      return nu$6(westX$1(anchor, element), northY$2(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n        right: 0,\n        bottom: 2\n      }), labelPrefix$2);\n    };\n    var north$2 = function (anchor, element, bubbles) {\n      return nu$6(middleX$1(anchor, element), northY$2(anchor, element), bubbles.north(), north$3(), 'north', boundsRestriction(anchor, { bottom: 2 }), labelPrefix$2);\n    };\n    var south$2 = function (anchor, element, bubbles) {\n      return nu$6(middleX$1(anchor, element), southY$2(anchor), bubbles.south(), south$3(), 'south', boundsRestriction(anchor, { top: 3 }), labelPrefix$2);\n    };\n    var east$2 = function (anchor, element, bubbles) {\n      return nu$6(eastEdgeX$1(anchor), centreY$1(anchor, element), bubbles.east(), east$3(), 'east', boundsRestriction(anchor, { left: 0 }), labelPrefix$2);\n    };\n    var west$2 = function (anchor, element, bubbles) {\n      return nu$6(westEdgeX$1(anchor, element), centreY$1(anchor, element), bubbles.west(), west$3(), 'west', boundsRestriction(anchor, { right: 1 }), labelPrefix$2);\n    };\n    var all$1 = function () {\n      return [\n        southeast$2,\n        southwest$2,\n        northeast$2,\n        northwest$2,\n        south$2,\n        north$2,\n        east$2,\n        west$2\n      ];\n    };\n    var allRtl$1 = function () {\n      return [\n        southwest$2,\n        southeast$2,\n        northwest$2,\n        northeast$2,\n        south$2,\n        north$2,\n        east$2,\n        west$2\n      ];\n    };\n    var aboveOrBelow = function () {\n      return [\n        northeast$2,\n        northwest$2,\n        southeast$2,\n        southwest$2,\n        north$2,\n        south$2\n      ];\n    };\n    var aboveOrBelowRtl = function () {\n      return [\n        northwest$2,\n        northeast$2,\n        southwest$2,\n        southeast$2,\n        north$2,\n        south$2\n      ];\n    };\n    var belowOrAbove = function () {\n      return [\n        southeast$2,\n        southwest$2,\n        northeast$2,\n        northwest$2,\n        south$2,\n        north$2\n      ];\n    };\n    var belowOrAboveRtl = function () {\n      return [\n        southwest$2,\n        southeast$2,\n        northwest$2,\n        northeast$2,\n        south$2,\n        north$2\n      ];\n    };\n\n    var chooseChannels = function (channels, message) {\n      return message.universal ? channels : filter$2(channels, function (ch) {\n        return contains$2(message.channels, ch);\n      });\n    };\n    var events$h = function (receiveConfig) {\n      return derive$2([run$1(receive(), function (component, message) {\n          var channelMap = receiveConfig.channels;\n          var channels = keys(channelMap);\n          var receivingData = message;\n          var targetChannels = chooseChannels(channels, receivingData);\n          each$1(targetChannels, function (ch) {\n            var channelInfo = channelMap[ch];\n            var channelSchema = channelInfo.schema;\n            var data = asRawOrDie$1('channel[' + ch + '] data\\nReceiver: ' + element(component.element), channelSchema, receivingData.data);\n            channelInfo.onReceive(component, data);\n          });\n        })]);\n    };\n\n    var ActiveReceiving = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$h\n    });\n\n    var ReceivingSchema = [requiredOf('channels', setOf(Result.value, objOfOnly([\n        onStrictHandler('onReceive'),\n        defaulted('schema', anyValue())\n      ])))];\n\n    var executeEvent = function (bConfig, bState, executor) {\n      return runOnExecute$1(function (component) {\n        executor(component, bConfig, bState);\n      });\n    };\n    var loadEvent = function (bConfig, bState, f) {\n      return runOnInit(function (component, _simulatedEvent) {\n        f(component, bConfig, bState);\n      });\n    };\n    var create$8 = function (schema, name, active, apis, extra, state) {\n      var configSchema = objOfOnly(schema);\n      var schemaSchema = optionObjOf(name, [optionObjOfOnly('config', schema)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    var createModes$1 = function (modes, name, active, apis, extra, state) {\n      var configSchema = modes;\n      var schemaSchema = optionObjOf(name, [optionOf('config', modes)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    var wrapApi = function (bName, apiFunction, apiName) {\n      var f = function (component) {\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n          rest[_i - 1] = arguments[_i];\n        }\n        var args = [component].concat(rest);\n        return component.config({ name: constant$1(bName) }).fold(function () {\n          throw new Error('We could not find any behaviour configuration for: ' + bName + '. Using API: ' + apiName);\n        }, function (info) {\n          var rest = Array.prototype.slice.call(args, 1);\n          return apiFunction.apply(undefined, [\n            component,\n            info.config,\n            info.state\n          ].concat(rest));\n        });\n      };\n      return markAsBehaviourApi(f, apiName, apiFunction);\n    };\n    var revokeBehaviour = function (name) {\n      return {\n        key: name,\n        value: undefined\n      };\n    };\n    var doCreate = function (configSchema, schemaSchema, name, active, apis, extra, state) {\n      var getConfig = function (info) {\n        return hasNonNullableKey(info, name) ? info[name]() : Optional.none();\n      };\n      var wrappedApis = map$1(apis, function (apiF, apiName) {\n        return wrapApi(name, apiF, apiName);\n      });\n      var wrappedExtra = map$1(extra, function (extraF, extraName) {\n        return markAsExtraApi(extraF, extraName);\n      });\n      var me = __assign(__assign(__assign({}, wrappedExtra), wrappedApis), {\n        revoke: curry(revokeBehaviour, name),\n        config: function (spec) {\n          var prepared = asRawOrDie$1(name + '-config', configSchema, spec);\n          return {\n            key: name,\n            value: {\n              config: prepared,\n              me: me,\n              configAsRaw: cached(function () {\n                return asRawOrDie$1(name + '-config', configSchema, spec);\n              }),\n              initialConfig: spec,\n              state: state\n            }\n          };\n        },\n        schema: constant$1(schemaSchema),\n        exhibit: function (info, base) {\n          return lift2(getConfig(info), get$e(active, 'exhibit'), function (behaviourInfo, exhibitor) {\n            return exhibitor(base, behaviourInfo.config, behaviourInfo.state);\n          }).getOrThunk(function () {\n            return nu$7({});\n          });\n        },\n        name: constant$1(name),\n        handlers: function (info) {\n          return getConfig(info).map(function (behaviourInfo) {\n            var getEvents = get$e(active, 'events').getOr(function () {\n              return {};\n            });\n            return getEvents(behaviourInfo.config, behaviourInfo.state);\n          }).getOr({});\n        }\n      });\n      return me;\n    };\n\n    var derive$1 = function (capabilities) {\n      return wrapAll(capabilities);\n    };\n    var simpleSchema = objOfOnly([\n      required$1('fields'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    var create$7 = function (data) {\n      var value = asRawOrDie$1('Creating behaviour: ' + data.name, simpleSchema, data);\n      return create$8(value.fields, value.name, value.active, value.apis, value.extra, value.state);\n    };\n    var modeSchema = objOfOnly([\n      required$1('branchKey'),\n      required$1('branches'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    var createModes = function (data) {\n      var value = asRawOrDie$1('Creating behaviour: ' + data.name, modeSchema, data);\n      return createModes$1(choose$1(value.branchKey, value.branches), value.name, value.active, value.apis, value.extra, value.state);\n    };\n    var revoke = constant$1(undefined);\n\n    var Receiving = create$7({\n      fields: ReceivingSchema,\n      name: 'receiving',\n      active: ActiveReceiving\n    });\n\n    var exhibit$6 = function (base, posConfig) {\n      return nu$7({\n        classes: [],\n        styles: posConfig.useFixed() ? {} : { position: 'relative' }\n      });\n    };\n\n    var ActivePosition = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$6\n    });\n\n    var getDocument = function () {\n      return SugarElement.fromDom(document);\n    };\n\n    var focus$3 = function (element) {\n      return element.dom.focus();\n    };\n    var blur$1 = function (element) {\n      return element.dom.blur();\n    };\n    var hasFocus = function (element) {\n      var root = getRootNode(element).dom;\n      return element.dom === root.activeElement;\n    };\n    var active = function (root) {\n      if (root === void 0) {\n        root = getDocument();\n      }\n      return Optional.from(root.dom.activeElement).map(SugarElement.fromDom);\n    };\n    var search = function (element) {\n      return active(getRootNode(element)).filter(function (e) {\n        return element.dom.contains(e.dom);\n      });\n    };\n\n    var preserve$1 = function (f, container) {\n      var dos = getRootNode(container);\n      var refocus = active(dos).bind(function (focused) {\n        var hasFocus = function (elem) {\n          return eq(focused, elem);\n        };\n        return hasFocus(container) ? Optional.some(container) : descendant$1(container, hasFocus);\n      });\n      var result = f(container);\n      refocus.each(function (oldFocus) {\n        active(dos).filter(function (newFocus) {\n          return eq(newFocus, oldFocus);\n        }).fold(function () {\n          focus$3(oldFocus);\n        }, noop);\n      });\n      return result;\n    };\n\n    var NuPositionCss = function (position, left, top, right, bottom) {\n      var toPx = function (num) {\n        return num + 'px';\n      };\n      return {\n        position: position,\n        left: left.map(toPx),\n        top: top.map(toPx),\n        right: right.map(toPx),\n        bottom: bottom.map(toPx)\n      };\n    };\n    var toOptions = function (position) {\n      return __assign(__assign({}, position), { position: Optional.some(position.position) });\n    };\n    var applyPositionCss = function (element, position) {\n      setOptions(element, toOptions(position));\n    };\n\n    var adt$9 = Adt.generate([\n      { none: [] },\n      {\n        relative: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      }\n    ]);\n    var positionWithDirection = function (posName, decision, x, y, width, height) {\n      var decisionRect = decision.rect;\n      var decisionX = decisionRect.x - x;\n      var decisionY = decisionRect.y - y;\n      var decisionWidth = decisionRect.width;\n      var decisionHeight = decisionRect.height;\n      var decisionRight = width - (decisionX + decisionWidth);\n      var decisionBottom = height - (decisionY + decisionHeight);\n      var left = Optional.some(decisionX);\n      var top = Optional.some(decisionY);\n      var right = Optional.some(decisionRight);\n      var bottom = Optional.some(decisionBottom);\n      var none = Optional.none();\n      return cata$2(decision.direction, function () {\n        return NuPositionCss(posName, left, top, none, none);\n      }, function () {\n        return NuPositionCss(posName, none, top, right, none);\n      }, function () {\n        return NuPositionCss(posName, left, none, none, bottom);\n      }, function () {\n        return NuPositionCss(posName, none, none, right, bottom);\n      }, function () {\n        return NuPositionCss(posName, left, top, none, none);\n      }, function () {\n        return NuPositionCss(posName, left, none, none, bottom);\n      }, function () {\n        return NuPositionCss(posName, left, top, none, none);\n      }, function () {\n        return NuPositionCss(posName, none, top, right, none);\n      });\n    };\n    var reposition = function (origin, decision) {\n      return origin.fold(function () {\n        var decisionRect = decision.rect;\n        return NuPositionCss('absolute', Optional.some(decisionRect.x), Optional.some(decisionRect.y), Optional.none(), Optional.none());\n      }, function (x, y, width, height) {\n        return positionWithDirection('absolute', decision, x, y, width, height);\n      }, function (x, y, width, height) {\n        return positionWithDirection('fixed', decision, x, y, width, height);\n      });\n    };\n    var toBox = function (origin, element) {\n      var rel = curry(find$2, element);\n      var position = origin.fold(rel, rel, function () {\n        var scroll = get$9();\n        return find$2(element).translate(-scroll.left, -scroll.top);\n      });\n      var width = getOuter$1(element);\n      var height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    var viewport = function (origin, getBounds) {\n      return getBounds.fold(function () {\n        return origin.fold(win, win, bounds);\n      }, function (b) {\n        return origin.fold(b, b, function () {\n          var bounds$1 = b();\n          var pos = translate$2(origin, bounds$1.x, bounds$1.y);\n          return bounds(pos.left, pos.top, bounds$1.width, bounds$1.height);\n        });\n      });\n    };\n    var translate$2 = function (origin, x, y) {\n      var pos = SugarPosition(x, y);\n      var removeScroll = function () {\n        var outerScroll = get$9();\n        return pos.translate(-outerScroll.left, -outerScroll.top);\n      };\n      return origin.fold(constant$1(pos), constant$1(pos), removeScroll);\n    };\n    var cata$1 = function (subject, onNone, onRelative, onFixed) {\n      return subject.fold(onNone, onRelative, onFixed);\n    };\n    adt$9.none;\n    var relative$1 = adt$9.relative;\n    var fixed$1 = adt$9.fixed;\n\n    var anchor = function (anchorBox, origin) {\n      return {\n        anchorBox: anchorBox,\n        origin: origin\n      };\n    };\n    var box = function (anchorBox, origin) {\n      return anchor(anchorBox, origin);\n    };\n\n    var placementAttribute = 'data-alloy-placement';\n    var setPlacement$1 = function (element, placement) {\n      set$8(element, placementAttribute, placement);\n    };\n    var getPlacement = function (element) {\n      return getOpt(element, placementAttribute);\n    };\n    var reset$2 = function (element) {\n      return remove$7(element, placementAttribute);\n    };\n\n    var adt$8 = Adt.generate([\n      { fit: ['reposition'] },\n      {\n        nofit: [\n          'reposition',\n          'visibleW',\n          'visibleH',\n          'isVisible'\n        ]\n      }\n    ]);\n    var determinePosition = function (box, bounds) {\n      var boundsX = bounds.x, boundsY = bounds.y, boundsRight = bounds.right, boundsBottom = bounds.bottom;\n      var x = box.x, y = box.y, right = box.right, bottom = box.bottom, width = box.width, height = box.height;\n      var xInBounds = x >= boundsX && x <= boundsRight;\n      var yInBounds = y >= boundsY && y <= boundsBottom;\n      var originInBounds = xInBounds && yInBounds;\n      var rightInBounds = right <= boundsRight && right >= boundsX;\n      var bottomInBounds = bottom <= boundsBottom && bottom >= boundsY;\n      var sizeInBounds = rightInBounds && bottomInBounds;\n      var visibleW = Math.min(width, x >= boundsX ? boundsRight - x : right - boundsX);\n      var visibleH = Math.min(height, y >= boundsY ? boundsBottom - y : bottom - boundsY);\n      return {\n        originInBounds: originInBounds,\n        sizeInBounds: sizeInBounds,\n        visibleW: visibleW,\n        visibleH: visibleH\n      };\n    };\n    var calcReposition = function (box, bounds$1) {\n      var boundsX = bounds$1.x, boundsY = bounds$1.y, boundsRight = bounds$1.right, boundsBottom = bounds$1.bottom;\n      var x = box.x, y = box.y, width = box.width, height = box.height;\n      var maxX = Math.max(boundsX, boundsRight - width);\n      var maxY = Math.max(boundsY, boundsBottom - height);\n      var restrictedX = clamp$1(x, boundsX, maxX);\n      var restrictedY = clamp$1(y, boundsY, maxY);\n      var restrictedWidth = Math.min(restrictedX + width, boundsRight) - restrictedX;\n      var restrictedHeight = Math.min(restrictedY + height, boundsBottom) - restrictedY;\n      return bounds(restrictedX, restrictedY, restrictedWidth, restrictedHeight);\n    };\n    var calcMaxSizes = function (direction, box, bounds) {\n      var upAvailable = constant$1(box.bottom - bounds.y);\n      var downAvailable = constant$1(bounds.bottom - box.y);\n      var maxHeight = cataVertical(direction, downAvailable, downAvailable, upAvailable);\n      var westAvailable = constant$1(box.right - bounds.x);\n      var eastAvailable = constant$1(bounds.right - box.x);\n      var maxWidth = cataHorizontal(direction, eastAvailable, eastAvailable, westAvailable);\n      return {\n        maxWidth: maxWidth,\n        maxHeight: maxHeight\n      };\n    };\n    var attempt = function (candidate, width, height, bounds$1) {\n      var bubble = candidate.bubble;\n      var bubbleOffset = bubble.offset;\n      var adjustedBounds = adjustBounds(bounds$1, candidate.restriction, bubbleOffset);\n      var newX = candidate.x + bubbleOffset.left;\n      var newY = candidate.y + bubbleOffset.top;\n      var box = bounds(newX, newY, width, height);\n      var _a = determinePosition(box, adjustedBounds), originInBounds = _a.originInBounds, sizeInBounds = _a.sizeInBounds, visibleW = _a.visibleW, visibleH = _a.visibleH;\n      var fits = originInBounds && sizeInBounds;\n      var fittedBox = fits ? box : calcReposition(box, adjustedBounds);\n      var isPartlyVisible = fittedBox.width > 0 && fittedBox.height > 0;\n      var _b = calcMaxSizes(candidate.direction, fittedBox, bounds$1), maxWidth = _b.maxWidth, maxHeight = _b.maxHeight;\n      var reposition = {\n        rect: fittedBox,\n        maxHeight: maxHeight,\n        maxWidth: maxWidth,\n        direction: candidate.direction,\n        placement: candidate.placement,\n        classes: {\n          on: bubble.classesOn,\n          off: bubble.classesOff\n        },\n        layout: candidate.label,\n        testY: newY\n      };\n      return fits || candidate.alwaysFit ? adt$8.fit(reposition) : adt$8.nofit(reposition, visibleW, visibleH, isPartlyVisible);\n    };\n    var attempts = function (element, candidates, anchorBox, elementBox, bubbles, bounds) {\n      var panelWidth = elementBox.width;\n      var panelHeight = elementBox.height;\n      var attemptBestFit = function (layout, reposition, visibleW, visibleH, isVisible) {\n        var next = layout(anchorBox, elementBox, bubbles, element, bounds);\n        var attemptLayout = attempt(next, panelWidth, panelHeight, bounds);\n        return attemptLayout.fold(constant$1(attemptLayout), function (newReposition, newVisibleW, newVisibleH, newIsVisible) {\n          var improved = isVisible === newIsVisible ? newVisibleH > visibleH || newVisibleW > visibleW : !isVisible && newIsVisible;\n          return improved ? attemptLayout : adt$8.nofit(reposition, visibleW, visibleH, isVisible);\n        });\n      };\n      var abc = foldl(candidates, function (b, a) {\n        var bestNext = curry(attemptBestFit, a);\n        return b.fold(constant$1(b), bestNext);\n      }, adt$8.nofit({\n        rect: anchorBox,\n        maxHeight: elementBox.height,\n        maxWidth: elementBox.width,\n        direction: southeast$3(),\n        placement: 'southeast',\n        classes: {\n          on: [],\n          off: []\n        },\n        layout: 'none',\n        testY: anchorBox.y\n      }, -1, -1, false));\n      return abc.fold(identity$1, identity$1);\n    };\n\n    var singleton = function (doRevoke) {\n      var subject = Cell(Optional.none());\n      var revoke = function () {\n        return subject.get().each(doRevoke);\n      };\n      var clear = function () {\n        revoke();\n        subject.set(Optional.none());\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      var get = function () {\n        return subject.get();\n      };\n      var set = function (s) {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear: clear,\n        isSet: isSet,\n        get: get,\n        set: set\n      };\n    };\n    var destroyable = function () {\n      return singleton(function (s) {\n        return s.destroy();\n      });\n    };\n    var unbindable = function () {\n      return singleton(function (s) {\n        return s.unbind();\n      });\n    };\n    var api$1 = function () {\n      var subject = destroyable();\n      var run = function (f) {\n        return subject.get().each(f);\n      };\n      return __assign(__assign({}, subject), { run: run });\n    };\n    var value$1 = function () {\n      var subject = singleton(noop);\n      var on = function (f) {\n        return subject.get().each(f);\n      };\n      return __assign(__assign({}, subject), { on: on });\n    };\n\n    var filter = always;\n    var bind = function (element, event, handler) {\n      return bind$2(element, event, filter, handler);\n    };\n    var capture = function (element, event, handler) {\n      return capture$1(element, event, filter, handler);\n    };\n    var fromRawEvent = fromRawEvent$1;\n\n    var properties = [\n      'top',\n      'bottom',\n      'right',\n      'left'\n    ];\n    var timerAttr = 'data-alloy-transition-timer';\n    var isTransitioning$1 = function (element, transition) {\n      return hasAll(element, transition.classes);\n    };\n    var shouldApplyTransitionCss = function (transition, decision, lastPlacement) {\n      return lastPlacement.exists(function (placer) {\n        var mode = transition.mode;\n        return mode === 'all' ? true : placer[mode] !== decision[mode];\n      });\n    };\n    var hasChanges = function (position, intermediate) {\n      var round = function (value) {\n        return parseFloat(value).toFixed(3);\n      };\n      return find$4(intermediate, function (value, key) {\n        var newValue = position[key].map(round);\n        var val = value.map(round);\n        return !equals(newValue, val);\n      }).isSome();\n    };\n    var getTransitionDuration = function (element) {\n      var get = function (name) {\n        var style = get$c(element, name);\n        var times = isString(style) ? style.split(/\\s*,\\s*/) : [];\n        return filter$2(times, isNotEmpty);\n      };\n      var parse = function (value) {\n        if (isString(value) && /^[\\d.]+/.test(value)) {\n          var num = parseFloat(value);\n          return endsWith(value, 'ms') ? num : num * 1000;\n        } else {\n          return 0;\n        }\n      };\n      var delay = get('transition-delay');\n      var duration = get('transition-duration');\n      return foldl(duration, function (acc, dur, i) {\n        var time = parse(delay[i]) + parse(dur);\n        return Math.max(acc, time);\n      }, 0);\n    };\n    var setupTransitionListeners = function (element, transition) {\n      var transitionEnd = unbindable();\n      var transitionCancel = unbindable();\n      var timer;\n      var isSourceTransition = function (e) {\n        var _a;\n        var pseudoElement = (_a = e.raw.pseudoElement) !== null && _a !== void 0 ? _a : '';\n        return eq(e.target, element) && isEmpty(pseudoElement) && contains$2(properties, e.raw.propertyName);\n      };\n      var transitionDone = function (e) {\n        if (isNullable(e) || isSourceTransition(e)) {\n          transitionEnd.clear();\n          transitionCancel.clear();\n          var type = e === null || e === void 0 ? void 0 : e.raw.type;\n          if (isNullable(type) || type === transitionend()) {\n            clearTimeout(timer);\n            remove$7(element, timerAttr);\n            remove$1(element, transition.classes);\n          }\n        }\n      };\n      var transitionStarted = function () {\n        transitionEnd.set(bind(element, transitionend(), transitionDone));\n        transitionCancel.set(bind(element, transitioncancel(), transitionDone));\n      };\n      if ('ontransitionstart' in element.dom) {\n        var transitionStart_1 = bind(element, transitionstart(), function (e) {\n          if (isSourceTransition(e)) {\n            transitionStart_1.unbind();\n            transitionStarted();\n          }\n        });\n      } else {\n        transitionStarted();\n      }\n      var duration = getTransitionDuration(element);\n      requestAnimationFrame(function () {\n        timer = setTimeout(transitionDone, duration + 17);\n        set$8(element, timerAttr, timer);\n      });\n    };\n    var startTransitioning = function (element, transition) {\n      add$1(element, transition.classes);\n      getOpt(element, timerAttr).each(function (timerId) {\n        clearTimeout(parseInt(timerId, 10));\n        remove$7(element, timerAttr);\n      });\n      setupTransitionListeners(element, transition);\n    };\n    var applyTransitionCss = function (element, origin, position, transition, decision, lastPlacement) {\n      var shouldTransition = shouldApplyTransitionCss(transition, decision, lastPlacement);\n      if (shouldTransition || isTransitioning$1(element, transition)) {\n        set$7(element, 'position', position.position);\n        var rect = toBox(origin, element);\n        var intermediatePosition_1 = reposition(origin, __assign(__assign({}, decision), { rect: rect }));\n        var intermediateCssOptions = mapToObject(properties, function (prop) {\n          return intermediatePosition_1[prop];\n        });\n        if (hasChanges(position, intermediateCssOptions)) {\n          setOptions(element, intermediateCssOptions);\n          if (shouldTransition) {\n            startTransitioning(element, transition);\n          }\n          reflow(element);\n        }\n      } else {\n        remove$1(element, transition.classes);\n      }\n    };\n\n    var elementSize = function (p) {\n      return {\n        width: getOuter$1(p),\n        height: getOuter$2(p)\n      };\n    };\n    var layout = function (anchorBox, element, bubbles, options) {\n      remove$6(element, 'max-height');\n      remove$6(element, 'max-width');\n      var elementBox = elementSize(element);\n      return attempts(element, options.preference, anchorBox, elementBox, bubbles, options.bounds);\n    };\n    var setClasses = function (element, decision) {\n      var classInfo = decision.classes;\n      remove$1(element, classInfo.off);\n      add$1(element, classInfo.on);\n    };\n    var setHeight = function (element, decision, options) {\n      var maxHeightFunction = options.maxHeightFunction;\n      maxHeightFunction(element, decision.maxHeight);\n    };\n    var setWidth = function (element, decision, options) {\n      var maxWidthFunction = options.maxWidthFunction;\n      maxWidthFunction(element, decision.maxWidth);\n    };\n    var position$2 = function (element, decision, options) {\n      var positionCss = reposition(options.origin, decision);\n      options.transition.each(function (transition) {\n        applyTransitionCss(element, options.origin, positionCss, transition, decision, options.lastPlacement);\n      });\n      applyPositionCss(element, positionCss);\n    };\n    var setPlacement = function (element, decision) {\n      setPlacement$1(element, decision.placement);\n    };\n\n    var setMaxHeight = function (element, maxHeight) {\n      setMax$1(element, Math.floor(maxHeight));\n    };\n    var anchored = constant$1(function (element, available) {\n      setMaxHeight(element, available);\n      setAll(element, {\n        'overflow-x': 'hidden',\n        'overflow-y': 'auto'\n      });\n    });\n    var expandable$1 = constant$1(function (element, available) {\n      setMaxHeight(element, available);\n    });\n\n    var defaultOr = function (options, key, dephault) {\n      return options[key] === undefined ? dephault : options[key];\n    };\n    var simple = function (anchor, element, bubble, layouts, lastPlacement, getBounds, overrideOptions, transition) {\n      var maxHeightFunction = defaultOr(overrideOptions, 'maxHeightFunction', anchored());\n      var maxWidthFunction = defaultOr(overrideOptions, 'maxWidthFunction', noop);\n      var anchorBox = anchor.anchorBox;\n      var origin = anchor.origin;\n      var options = {\n        bounds: viewport(origin, getBounds),\n        origin: origin,\n        preference: layouts,\n        maxHeightFunction: maxHeightFunction,\n        maxWidthFunction: maxWidthFunction,\n        lastPlacement: lastPlacement,\n        transition: transition\n      };\n      return go(anchorBox, element, bubble, options);\n    };\n    var go = function (anchorBox, element, bubble, options) {\n      var decision = layout(anchorBox, element, bubble, options);\n      position$2(element, decision, options);\n      setPlacement(element, decision);\n      setClasses(element, decision);\n      setHeight(element, decision, options);\n      setWidth(element, decision, options);\n      return {\n        layout: decision.layout,\n        placement: decision.placement\n      };\n    };\n\n    var allAlignments = [\n      'valignCentre',\n      'alignLeft',\n      'alignRight',\n      'alignCentre',\n      'top',\n      'bottom',\n      'left',\n      'right',\n      'inset'\n    ];\n    var nu$5 = function (xOffset, yOffset, classes, insetModifier) {\n      if (insetModifier === void 0) {\n        insetModifier = 1;\n      }\n      var insetXOffset = xOffset * insetModifier;\n      var insetYOffset = yOffset * insetModifier;\n      var getClasses = function (prop) {\n        return get$e(classes, prop).getOr([]);\n      };\n      var make = function (xDelta, yDelta, alignmentsOn) {\n        var alignmentsOff = difference(allAlignments, alignmentsOn);\n        return {\n          offset: SugarPosition(xDelta, yDelta),\n          classesOn: bind$3(alignmentsOn, getClasses),\n          classesOff: bind$3(alignmentsOff, getClasses)\n        };\n      };\n      return {\n        southeast: function () {\n          return make(-xOffset, yOffset, [\n            'top',\n            'alignLeft'\n          ]);\n        },\n        southwest: function () {\n          return make(xOffset, yOffset, [\n            'top',\n            'alignRight'\n          ]);\n        },\n        south: function () {\n          return make(-xOffset / 2, yOffset, [\n            'top',\n            'alignCentre'\n          ]);\n        },\n        northeast: function () {\n          return make(-xOffset, -yOffset, [\n            'bottom',\n            'alignLeft'\n          ]);\n        },\n        northwest: function () {\n          return make(xOffset, -yOffset, [\n            'bottom',\n            'alignRight'\n          ]);\n        },\n        north: function () {\n          return make(-xOffset / 2, -yOffset, [\n            'bottom',\n            'alignCentre'\n          ]);\n        },\n        east: function () {\n          return make(xOffset, -yOffset / 2, [\n            'valignCentre',\n            'left'\n          ]);\n        },\n        west: function () {\n          return make(-xOffset, -yOffset / 2, [\n            'valignCentre',\n            'right'\n          ]);\n        },\n        insetNortheast: function () {\n          return make(insetXOffset, insetYOffset, [\n            'top',\n            'alignLeft',\n            'inset'\n          ]);\n        },\n        insetNorthwest: function () {\n          return make(-insetXOffset, insetYOffset, [\n            'top',\n            'alignRight',\n            'inset'\n          ]);\n        },\n        insetNorth: function () {\n          return make(-insetXOffset / 2, insetYOffset, [\n            'top',\n            'alignCentre',\n            'inset'\n          ]);\n        },\n        insetSoutheast: function () {\n          return make(insetXOffset, -insetYOffset, [\n            'bottom',\n            'alignLeft',\n            'inset'\n          ]);\n        },\n        insetSouthwest: function () {\n          return make(-insetXOffset, -insetYOffset, [\n            'bottom',\n            'alignRight',\n            'inset'\n          ]);\n        },\n        insetSouth: function () {\n          return make(-insetXOffset / 2, -insetYOffset, [\n            'bottom',\n            'alignCentre',\n            'inset'\n          ]);\n        },\n        insetEast: function () {\n          return make(-insetXOffset, -insetYOffset / 2, [\n            'valignCentre',\n            'right',\n            'inset'\n          ]);\n        },\n        insetWest: function () {\n          return make(insetXOffset, -insetYOffset / 2, [\n            'valignCentre',\n            'left',\n            'inset'\n          ]);\n        }\n      };\n    };\n    var fallback = function () {\n      return nu$5(0, 0, {});\n    };\n\n    var nu$4 = identity$1;\n\n    var onDirection = function (isLtr, isRtl) {\n      return function (element) {\n        return getDirection(element) === 'rtl' ? isRtl : isLtr;\n      };\n    };\n    var getDirection = function (element) {\n      return get$c(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n    };\n\n    var AttributeValue;\n    (function (AttributeValue) {\n      AttributeValue['TopToBottom'] = 'toptobottom';\n      AttributeValue['BottomToTop'] = 'bottomtotop';\n    }(AttributeValue || (AttributeValue = {})));\n    var Attribute = 'data-alloy-vertical-dir';\n    var isBottomToTopDir = function (el) {\n      return closest$2(el, function (current) {\n        return isElement$2(current) && get$d(current, 'data-alloy-vertical-dir') === AttributeValue.BottomToTop;\n      });\n    };\n\n    var schema$y = function () {\n      return optionObjOf('layouts', [\n        required$1('onLtr'),\n        required$1('onRtl'),\n        option('onBottomLtr'),\n        option('onBottomRtl')\n      ]);\n    };\n    var get$4 = function (elem, info, defaultLtr, defaultRtl, defaultBottomLtr, defaultBottomRtl, dirElement) {\n      var isBottomToTop = dirElement.map(isBottomToTopDir).getOr(false);\n      var customLtr = info.layouts.map(function (ls) {\n        return ls.onLtr(elem);\n      });\n      var customRtl = info.layouts.map(function (ls) {\n        return ls.onRtl(elem);\n      });\n      var ltr = isBottomToTop ? info.layouts.bind(function (ls) {\n        return ls.onBottomLtr.map(function (f) {\n          return f(elem);\n        });\n      }).or(customLtr).getOr(defaultBottomLtr) : customLtr.getOr(defaultLtr);\n      var rtl = isBottomToTop ? info.layouts.bind(function (ls) {\n        return ls.onBottomRtl.map(function (f) {\n          return f(elem);\n        });\n      }).or(customRtl).getOr(defaultBottomRtl) : customRtl.getOr(defaultRtl);\n      var f = onDirection(ltr, rtl);\n      return f(elem);\n    };\n\n    var placement$4 = function (component, anchorInfo, origin) {\n      var hotspot = anchorInfo.hotspot;\n      var anchorBox = toBox(origin, hotspot.element);\n      var layouts = get$4(component.element, anchorInfo, belowOrAbove(), belowOrAboveRtl(), aboveOrBelow(), aboveOrBelowRtl(), Optional.some(anchorInfo.hotspot.element));\n      return Optional.some(nu$4({\n        anchorBox: anchorBox,\n        bubble: anchorInfo.bubble.getOr(fallback()),\n        overrides: anchorInfo.overrides,\n        layouts: layouts,\n        placer: Optional.none()\n      }));\n    };\n    var HotspotAnchor = [\n      required$1('hotspot'),\n      option('bubble'),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$4)\n    ];\n\n    var placement$3 = function (component, anchorInfo, origin) {\n      var pos = translate$2(origin, anchorInfo.x, anchorInfo.y);\n      var anchorBox = bounds(pos.left, pos.top, anchorInfo.width, anchorInfo.height);\n      var layouts = get$4(component.element, anchorInfo, all$1(), allRtl$1(), all$1(), allRtl$1(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox: anchorBox,\n        bubble: anchorInfo.bubble,\n        overrides: anchorInfo.overrides,\n        layouts: layouts,\n        placer: Optional.none()\n      }));\n    };\n    var MakeshiftAnchor = [\n      required$1('x'),\n      required$1('y'),\n      defaulted('height', 0),\n      defaulted('width', 0),\n      defaulted('bubble', fallback()),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$3)\n    ];\n\n    var adt$7 = Adt.generate([\n      { screen: ['point'] },\n      {\n        absolute: [\n          'point',\n          'scrollLeft',\n          'scrollTop'\n        ]\n      }\n    ]);\n    var toFixed = function (pos) {\n      return pos.fold(identity$1, function (point, scrollLeft, scrollTop) {\n        return point.translate(-scrollLeft, -scrollTop);\n      });\n    };\n    var toAbsolute = function (pos) {\n      return pos.fold(identity$1, identity$1);\n    };\n    var sum = function (points) {\n      return foldl(points, function (b, a) {\n        return b.translate(a.left, a.top);\n      }, SugarPosition(0, 0));\n    };\n    var sumAsFixed = function (positions) {\n      var points = map$2(positions, toFixed);\n      return sum(points);\n    };\n    var sumAsAbsolute = function (positions) {\n      var points = map$2(positions, toAbsolute);\n      return sum(points);\n    };\n    var screen = adt$7.screen;\n    var absolute$1 = adt$7.absolute;\n\n    var getOffset = function (component, origin, anchorInfo) {\n      var win = defaultView(anchorInfo.root).dom;\n      var hasSameOwner = function (frame) {\n        var frameOwner = owner$4(frame);\n        var compOwner = owner$4(component.element);\n        return eq(frameOwner, compOwner);\n      };\n      return Optional.from(win.frameElement).map(SugarElement.fromDom).filter(hasSameOwner).map(absolute$3);\n    };\n    var getRootPoint = function (component, origin, anchorInfo) {\n      var doc = owner$4(component.element);\n      var outerScroll = get$9(doc);\n      var offset = getOffset(component, origin, anchorInfo).getOr(outerScroll);\n      return absolute$1(offset, outerScroll.left, outerScroll.top);\n    };\n\n    var getBox = function (left, top, width, height) {\n      var point = screen(SugarPosition(left, top));\n      return Optional.some(pointed(point, width, height));\n    };\n    var calcNewAnchor = function (optBox, rootPoint, anchorInfo, origin, elem) {\n      return optBox.map(function (box) {\n        var points = [\n          rootPoint,\n          box.point\n        ];\n        var topLeft = cata$1(origin, function () {\n          return sumAsAbsolute(points);\n        }, function () {\n          return sumAsAbsolute(points);\n        }, function () {\n          return sumAsFixed(points);\n        });\n        var anchorBox = rect(topLeft.left, topLeft.top, box.width, box.height);\n        var layoutsLtr = anchorInfo.showAbove ? aboveOrBelow() : belowOrAbove();\n        var layoutsRtl = anchorInfo.showAbove ? aboveOrBelowRtl() : belowOrAboveRtl();\n        var layouts = get$4(elem, anchorInfo, layoutsLtr, layoutsRtl, layoutsLtr, layoutsRtl, Optional.none());\n        return nu$4({\n          anchorBox: anchorBox,\n          bubble: anchorInfo.bubble.getOr(fallback()),\n          overrides: anchorInfo.overrides,\n          layouts: layouts,\n          placer: Optional.none()\n        });\n      });\n    };\n\n    var placement$2 = function (component, anchorInfo, origin) {\n      var rootPoint = getRootPoint(component, origin, anchorInfo);\n      return anchorInfo.node.filter(inBody).bind(function (target) {\n        var rect = target.dom.getBoundingClientRect();\n        var nodeBox = getBox(rect.left, rect.top, rect.width, rect.height);\n        var elem = anchorInfo.node.getOr(component.element);\n        return calcNewAnchor(nodeBox, rootPoint, anchorInfo, origin, elem);\n      });\n    };\n    var NodeAnchor = [\n      required$1('node'),\n      required$1('root'),\n      option('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$2)\n    ];\n\n    var zeroWidth = '\\uFEFF';\n    var nbsp = '\\xA0';\n\n    var create$6 = function (start, soffset, finish, foffset) {\n      return {\n        start: start,\n        soffset: soffset,\n        finish: finish,\n        foffset: foffset\n      };\n    };\n    var SimRange = { create: create$6 };\n\n    var adt$6 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    var cata = function (subject, onBefore, onOn, onAfter) {\n      return subject.fold(onBefore, onOn, onAfter);\n    };\n    var getStart$1 = function (situ) {\n      return situ.fold(identity$1, identity$1, identity$1);\n    };\n    var before = adt$6.before;\n    var on$1 = adt$6.on;\n    var after$1 = adt$6.after;\n    var Situ = {\n      before: before,\n      on: on$1,\n      after: after$1,\n      cata: cata,\n      getStart: getStart$1\n    };\n\n    var adt$5 = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    var exactFromRange = function (simRange) {\n      return adt$5.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    };\n    var getStart = function (selection) {\n      return selection.match({\n        domRange: function (rng) {\n          return SugarElement.fromDom(rng.startContainer);\n        },\n        relative: function (startSitu, _finishSitu) {\n          return Situ.getStart(startSitu);\n        },\n        exact: function (start, _soffset, _finish, _foffset) {\n          return start;\n        }\n      });\n    };\n    var domRange = adt$5.domRange;\n    var relative = adt$5.relative;\n    var exact = adt$5.exact;\n    var getWin = function (selection) {\n      var start = getStart(selection);\n      return defaultView(start);\n    };\n    var range$1 = SimRange.create;\n    var SimSelection = {\n      domRange: domRange,\n      relative: relative,\n      exact: exact,\n      exactFromRange: exactFromRange,\n      getWin: getWin,\n      range: range$1\n    };\n\n    var setStart = function (rng, situ) {\n      situ.fold(function (e) {\n        rng.setStartBefore(e.dom);\n      }, function (e, o) {\n        rng.setStart(e.dom, o);\n      }, function (e) {\n        rng.setStartAfter(e.dom);\n      });\n    };\n    var setFinish = function (rng, situ) {\n      situ.fold(function (e) {\n        rng.setEndBefore(e.dom);\n      }, function (e, o) {\n        rng.setEnd(e.dom, o);\n      }, function (e) {\n        rng.setEndAfter(e.dom);\n      });\n    };\n    var relativeToNative = function (win, startSitu, finishSitu) {\n      var range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    var exactToNative = function (win, start, soffset, finish, foffset) {\n      var rng = win.document.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    var toRect = function (rect) {\n      return {\n        left: rect.left,\n        top: rect.top,\n        right: rect.right,\n        bottom: rect.bottom,\n        width: rect.width,\n        height: rect.height\n      };\n    };\n    var getFirstRect$1 = function (rng) {\n      var rects = rng.getClientRects();\n      var rect = rects.length > 0 ? rects[0] : rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n    var getBounds$2 = function (rng) {\n      var rect = rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n\n    var adt$4 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    var fromRange = function (win, type, range) {\n      return type(SugarElement.fromDom(range.startContainer), range.startOffset, SugarElement.fromDom(range.endContainer), range.endOffset);\n    };\n    var getRanges = function (win, selection) {\n      return selection.match({\n        domRange: function (rng) {\n          return {\n            ltr: constant$1(rng),\n            rtl: Optional.none\n          };\n        },\n        relative: function (startSitu, finishSitu) {\n          return {\n            ltr: cached(function () {\n              return relativeToNative(win, startSitu, finishSitu);\n            }),\n            rtl: cached(function () {\n              return Optional.some(relativeToNative(win, finishSitu, startSitu));\n            })\n          };\n        },\n        exact: function (start, soffset, finish, foffset) {\n          return {\n            ltr: cached(function () {\n              return exactToNative(win, start, soffset, finish, foffset);\n            }),\n            rtl: cached(function () {\n              return Optional.some(exactToNative(win, finish, foffset, start, soffset));\n            })\n          };\n        }\n      });\n    };\n    var doDiagnose = function (win, ranges) {\n      var rng = ranges.ltr();\n      if (rng.collapsed) {\n        var reversed = ranges.rtl().filter(function (rev) {\n          return rev.collapsed === false;\n        });\n        return reversed.map(function (rev) {\n          return adt$4.rtl(SugarElement.fromDom(rev.endContainer), rev.endOffset, SugarElement.fromDom(rev.startContainer), rev.startOffset);\n        }).getOrThunk(function () {\n          return fromRange(win, adt$4.ltr, rng);\n        });\n      } else {\n        return fromRange(win, adt$4.ltr, rng);\n      }\n    };\n    var diagnose = function (win, selection) {\n      var ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    var asLtrRange = function (win, selection) {\n      var diagnosis = diagnose(win, selection);\n      return diagnosis.match({\n        ltr: function (start, soffset, finish, foffset) {\n          var rng = win.document.createRange();\n          rng.setStart(start.dom, soffset);\n          rng.setEnd(finish.dom, foffset);\n          return rng;\n        },\n        rtl: function (start, soffset, finish, foffset) {\n          var rng = win.document.createRange();\n          rng.setStart(finish.dom, foffset);\n          rng.setEnd(start.dom, soffset);\n          return rng;\n        }\n      });\n    };\n    adt$4.ltr;\n    adt$4.rtl;\n\n    var NodeValue = function (is, name) {\n      var get = function (element) {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      var getOption = function (element) {\n        return is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      };\n      var set = function (element, value) {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get: get,\n        getOption: getOption,\n        set: set\n      };\n    };\n\n    var api = NodeValue(isText$1, 'text');\n    var get$3 = function (element) {\n      return api.get(element);\n    };\n    var getOption = function (element) {\n      return api.getOption(element);\n    };\n\n    var getEnd = function (element) {\n      return name$2(element) === 'img' ? 1 : getOption(element).fold(function () {\n        return children(element).length;\n      }, function (v) {\n        return v.length;\n      });\n    };\n    var isTextNodeWithCursorPosition = function (el) {\n      return getOption(el).filter(function (text) {\n        return text.trim().length !== 0 || text.indexOf(nbsp) > -1;\n      }).isSome();\n    };\n    var elementsWithCursorPosition = [\n      'img',\n      'br'\n    ];\n    var isCursorPosition = function (elem) {\n      var hasCursorPosition = isTextNodeWithCursorPosition(elem);\n      return hasCursorPosition || contains$2(elementsWithCursorPosition, name$2(elem));\n    };\n\n    var last$1 = function (element) {\n      return descendantRtl(element, isCursorPosition);\n    };\n    var descendantRtl = function (scope, predicate) {\n      var descend = function (element) {\n        var children$1 = children(element);\n        for (var i = children$1.length - 1; i >= 0; i--) {\n          var child = children$1[i];\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          var res = descend(child);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope);\n    };\n\n    var descendants = function (scope, selector) {\n      return all$3(selector, scope);\n    };\n\n    var makeRange = function (start, soffset, finish, foffset) {\n      var doc = owner$4(start);\n      var rng = doc.dom.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    var after = function (start, soffset, finish, foffset) {\n      var r = makeRange(start, soffset, finish, foffset);\n      var same = eq(start, finish) && soffset === foffset;\n      return r.collapsed && !same;\n    };\n\n    var getNativeSelection = function (win) {\n      return Optional.from(win.getSelection());\n    };\n    var readRange = function (selection) {\n      if (selection.rangeCount > 0) {\n        var firstRng = selection.getRangeAt(0);\n        var lastRng = selection.getRangeAt(selection.rangeCount - 1);\n        return Optional.some(SimRange.create(SugarElement.fromDom(firstRng.startContainer), firstRng.startOffset, SugarElement.fromDom(lastRng.endContainer), lastRng.endOffset));\n      } else {\n        return Optional.none();\n      }\n    };\n    var doGetExact = function (selection) {\n      if (selection.anchorNode === null || selection.focusNode === null) {\n        return readRange(selection);\n      } else {\n        var anchor = SugarElement.fromDom(selection.anchorNode);\n        var focus_1 = SugarElement.fromDom(selection.focusNode);\n        return after(anchor, selection.anchorOffset, focus_1, selection.focusOffset) ? Optional.some(SimRange.create(anchor, selection.anchorOffset, focus_1, selection.focusOffset)) : readRange(selection);\n      }\n    };\n    var getExact = function (win) {\n      return getNativeSelection(win).filter(function (sel) {\n        return sel.rangeCount > 0;\n      }).bind(doGetExact);\n    };\n    var getFirstRect = function (win, selection) {\n      var rng = asLtrRange(win, selection);\n      return getFirstRect$1(rng);\n    };\n    var getBounds$1 = function (win, selection) {\n      var rng = asLtrRange(win, selection);\n      return getBounds$2(rng);\n    };\n\n    var point$1 = function (element, offset) {\n      return {\n        element: element,\n        offset: offset\n      };\n    };\n    var descendOnce$1 = function (element, offset) {\n      var children$1 = children(element);\n      if (children$1.length === 0) {\n        return point$1(element, offset);\n      } else if (offset < children$1.length) {\n        return point$1(children$1[offset], 0);\n      } else {\n        var last = children$1[children$1.length - 1];\n        var len = isText$1(last) ? get$3(last).length : children(last).length;\n        return point$1(last, len);\n      }\n    };\n\n    var descendOnce = function (element, offset) {\n      return isText$1(element) ? point$1(element, offset) : descendOnce$1(element, offset);\n    };\n    var getAnchorSelection = function (win, anchorInfo) {\n      var getSelection = anchorInfo.getSelection.getOrThunk(function () {\n        return function () {\n          return getExact(win);\n        };\n      });\n      return getSelection().map(function (sel) {\n        var modStart = descendOnce(sel.start, sel.soffset);\n        var modFinish = descendOnce(sel.finish, sel.foffset);\n        return SimSelection.range(modStart.element, modStart.offset, modFinish.element, modFinish.offset);\n      });\n    };\n    var placement$1 = function (component, anchorInfo, origin) {\n      var win = defaultView(anchorInfo.root).dom;\n      var rootPoint = getRootPoint(component, origin, anchorInfo);\n      var selectionBox = getAnchorSelection(win, anchorInfo).bind(function (sel) {\n        var optRect = getBounds$1(win, SimSelection.exactFromRange(sel)).orThunk(function () {\n          var x = SugarElement.fromText(zeroWidth);\n          before$2(sel.start, x);\n          var rect = getFirstRect(win, SimSelection.exact(x, 0, x, 1));\n          remove$5(x);\n          return rect;\n        });\n        return optRect.bind(function (rawRect) {\n          return getBox(rawRect.left, rawRect.top, rawRect.width, rawRect.height);\n        });\n      });\n      var targetElement = getAnchorSelection(win, anchorInfo).bind(function (sel) {\n        return isElement$2(sel.start) ? Optional.some(sel.start) : parentNode(sel.start);\n      });\n      var elem = targetElement.getOr(component.element);\n      return calcNewAnchor(selectionBox, rootPoint, anchorInfo, origin, elem);\n    };\n    var SelectionAnchor = [\n      option('getSelection'),\n      required$1('root'),\n      option('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$1)\n    ];\n\n    var labelPrefix$1 = 'link-layout';\n    var eastX = function (anchor) {\n      return anchor.x + anchor.width;\n    };\n    var westX = function (anchor, element) {\n      return anchor.x - element.width;\n    };\n    var northY$1 = function (anchor, element) {\n      return anchor.y - element.height + anchor.height;\n    };\n    var southY$1 = function (anchor) {\n      return anchor.y;\n    };\n    var southeast$1 = function (anchor, element, bubbles) {\n      return nu$6(eastX(anchor), southY$1(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n        left: 0,\n        top: 2\n      }), labelPrefix$1);\n    };\n    var southwest$1 = function (anchor, element, bubbles) {\n      return nu$6(westX(anchor, element), southY$1(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n        right: 1,\n        top: 2\n      }), labelPrefix$1);\n    };\n    var northeast$1 = function (anchor, element, bubbles) {\n      return nu$6(eastX(anchor), northY$1(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n        left: 0,\n        bottom: 3\n      }), labelPrefix$1);\n    };\n    var northwest$1 = function (anchor, element, bubbles) {\n      return nu$6(westX(anchor, element), northY$1(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n        right: 1,\n        bottom: 3\n      }), labelPrefix$1);\n    };\n    var all = function () {\n      return [\n        southeast$1,\n        southwest$1,\n        northeast$1,\n        northwest$1\n      ];\n    };\n    var allRtl = function () {\n      return [\n        southwest$1,\n        southeast$1,\n        northwest$1,\n        northeast$1\n      ];\n    };\n\n    var placement = function (component, submenuInfo, origin) {\n      var anchorBox = toBox(origin, submenuInfo.item.element);\n      var layouts = get$4(component.element, submenuInfo, all(), allRtl(), all(), allRtl(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox: anchorBox,\n        bubble: fallback(),\n        overrides: submenuInfo.overrides,\n        layouts: layouts,\n        placer: Optional.none()\n      }));\n    };\n    var SubmenuAnchor = [\n      required$1('item'),\n      schema$y(),\n      defaulted('overrides', {}),\n      output$1('placement', placement)\n    ];\n\n    var AnchorSchema = choose$1('type', {\n      selection: SelectionAnchor,\n      node: NodeAnchor,\n      hotspot: HotspotAnchor,\n      submenu: SubmenuAnchor,\n      makeshift: MakeshiftAnchor\n    });\n\n    var TransitionSchema = [\n      requiredArrayOf('classes', string),\n      defaultedStringEnum('mode', 'all', [\n        'all',\n        'layout',\n        'placement'\n      ])\n    ];\n    var PositionSchema = [\n      defaulted('useFixed', never),\n      option('getBounds')\n    ];\n    var PlacementSchema = [\n      requiredOf('anchor', AnchorSchema),\n      optionObjOf('transition', TransitionSchema)\n    ];\n\n    var getFixedOrigin = function () {\n      var html = document.documentElement;\n      return fixed$1(0, 0, html.clientWidth, html.clientHeight);\n    };\n    var getRelativeOrigin = function (component) {\n      var position = absolute$3(component.element);\n      var bounds = component.element.dom.getBoundingClientRect();\n      return relative$1(position.left, position.top, bounds.width, bounds.height);\n    };\n    var place = function (component, origin, anchoring, getBounds, placee, lastPlace, transition) {\n      var anchor = box(anchoring.anchorBox, origin);\n      return simple(anchor, placee.element, anchoring.bubble, anchoring.layouts, lastPlace, getBounds, anchoring.overrides, transition);\n    };\n    var position$1 = function (component, posConfig, posState, placee, placementSpec) {\n      positionWithin(component, posConfig, posState, placee, placementSpec, Optional.none());\n    };\n    var positionWithin = function (component, posConfig, posState, placee, placementSpec, boxElement) {\n      var boundsBox = boxElement.map(box$1);\n      return positionWithinBounds(component, posConfig, posState, placee, placementSpec, boundsBox);\n    };\n    var positionWithinBounds = function (component, posConfig, posState, placee, placementSpec, bounds) {\n      var placeeDetail = asRawOrDie$1('placement.info', objOf(PlacementSchema), placementSpec);\n      var anchorage = placeeDetail.anchor;\n      var element = placee.element;\n      var placeeState = posState.get(placee.uid);\n      preserve$1(function () {\n        set$7(element, 'position', 'fixed');\n        var oldVisibility = getRaw(element, 'visibility');\n        set$7(element, 'visibility', 'hidden');\n        var origin = posConfig.useFixed() ? getFixedOrigin() : getRelativeOrigin(component);\n        var placer = anchorage.placement;\n        var getBounds = bounds.map(constant$1).or(posConfig.getBounds);\n        placer(component, anchorage, origin).each(function (anchoring) {\n          var doPlace = anchoring.placer.getOr(place);\n          var newState = doPlace(component, origin, anchoring, getBounds, placee, placeeState, placeeDetail.transition);\n          posState.set(placee.uid, newState);\n        });\n        oldVisibility.fold(function () {\n          remove$6(element, 'visibility');\n        }, function (vis) {\n          set$7(element, 'visibility', vis);\n        });\n        if (getRaw(element, 'left').isNone() && getRaw(element, 'top').isNone() && getRaw(element, 'right').isNone() && getRaw(element, 'bottom').isNone() && is$1(getRaw(element, 'position'), 'fixed')) {\n          remove$6(element, 'position');\n        }\n      }, element);\n    };\n    var getMode = function (component, pConfig, _pState) {\n      return pConfig.useFixed() ? 'fixed' : 'absolute';\n    };\n    var reset$1 = function (component, pConfig, posState, placee) {\n      var element = placee.element;\n      each$1([\n        'position',\n        'left',\n        'right',\n        'top',\n        'bottom'\n      ], function (prop) {\n        return remove$6(element, prop);\n      });\n      reset$2(element);\n      posState.clear(placee.uid);\n    };\n\n    var PositionApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        position: position$1,\n        positionWithin: positionWithin,\n        positionWithinBounds: positionWithinBounds,\n        getMode: getMode,\n        reset: reset$1\n    });\n\n    var init$g = function () {\n      var state = {};\n      var set = function (id, data) {\n        state[id] = data;\n      };\n      var get = function (id) {\n        return get$e(state, id);\n      };\n      var clear = function (id) {\n        if (isNonNullable(id)) {\n          delete state[id];\n        } else {\n          state = {};\n        }\n      };\n      return nu$8({\n        readState: function () {\n          return state;\n        },\n        clear: clear,\n        set: set,\n        get: get\n      });\n    };\n\n    var PositioningState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$g\n    });\n\n    var Positioning = create$7({\n      fields: PositionSchema,\n      name: 'positioning',\n      active: ActivePosition,\n      apis: PositionApis,\n      state: PositioningState\n    });\n\n    var fireDetaching = function (component) {\n      emit(component, detachedFromDom());\n      var children = component.components();\n      each$1(children, fireDetaching);\n    };\n    var fireAttaching = function (component) {\n      var children = component.components();\n      each$1(children, fireAttaching);\n      emit(component, attachedToDom());\n    };\n    var attach$1 = function (parent, child) {\n      append$2(parent.element, child.element);\n    };\n    var detachChildren$1 = function (component) {\n      each$1(component.components(), function (childComp) {\n        return remove$5(childComp.element);\n      });\n      empty(component.element);\n      component.syncComponents();\n    };\n    var replaceChildren = function (component, newChildren) {\n      var subs = component.components();\n      detachChildren$1(component);\n      var deleted = difference(subs, newChildren);\n      each$1(deleted, function (comp) {\n        fireDetaching(comp);\n        component.getSystem().removeFromWorld(comp);\n      });\n      each$1(newChildren, function (childComp) {\n        if (!childComp.getSystem().isConnected()) {\n          component.getSystem().addToWorld(childComp);\n          attach$1(component, childComp);\n          if (inBody(component.element)) {\n            fireAttaching(childComp);\n          }\n        } else {\n          attach$1(component, childComp);\n        }\n        component.syncComponents();\n      });\n    };\n\n    var attach = function (parent, child) {\n      attachWith(parent, child, append$2);\n    };\n    var attachWith = function (parent, child, insertion) {\n      parent.getSystem().addToWorld(child);\n      insertion(parent.element, child.element);\n      if (inBody(parent.element)) {\n        fireAttaching(child);\n      }\n      parent.syncComponents();\n    };\n    var doDetach = function (component) {\n      fireDetaching(component);\n      remove$5(component.element);\n      component.getSystem().removeFromWorld(component);\n    };\n    var detach = function (component) {\n      var parent$1 = parent(component.element).bind(function (p) {\n        return component.getSystem().getByDom(p).toOptional();\n      });\n      doDetach(component);\n      parent$1.each(function (p) {\n        p.syncComponents();\n      });\n    };\n    var detachChildren = function (component) {\n      var subs = component.components();\n      each$1(subs, doDetach);\n      empty(component.element);\n      component.syncComponents();\n    };\n    var attachSystem = function (element, guiSystem) {\n      attachSystemWith(element, guiSystem, append$2);\n    };\n    var attachSystemAfter = function (element, guiSystem) {\n      attachSystemWith(element, guiSystem, after$2);\n    };\n    var attachSystemWith = function (element, guiSystem, inserter) {\n      inserter(element, guiSystem.element);\n      var children$1 = children(guiSystem.element);\n      each$1(children$1, function (child) {\n        guiSystem.getByDom(child).each(fireAttaching);\n      });\n    };\n    var detachSystem = function (guiSystem) {\n      var children$1 = children(guiSystem.element);\n      each$1(children$1, function (child) {\n        guiSystem.getByDom(child).each(fireDetaching);\n      });\n      remove$5(guiSystem.element);\n    };\n\n    var rebuild = function (sandbox, sConfig, sState, data) {\n      sState.get().each(function (_data) {\n        detachChildren(sandbox);\n      });\n      var point = sConfig.getAttachPoint(sandbox);\n      attach(point, sandbox);\n      var built = sandbox.getSystem().build(data);\n      attach(sandbox, built);\n      sState.set(built);\n      return built;\n    };\n    var open$1 = function (sandbox, sConfig, sState, data) {\n      var newState = rebuild(sandbox, sConfig, sState, data);\n      sConfig.onOpen(sandbox, newState);\n      return newState;\n    };\n    var setContent = function (sandbox, sConfig, sState, data) {\n      return sState.get().map(function () {\n        return rebuild(sandbox, sConfig, sState, data);\n      });\n    };\n    var openWhileCloaked = function (sandbox, sConfig, sState, data, transaction) {\n      cloak(sandbox, sConfig);\n      open$1(sandbox, sConfig, sState, data);\n      transaction();\n      decloak(sandbox, sConfig);\n    };\n    var close$1 = function (sandbox, sConfig, sState) {\n      sState.get().each(function (data) {\n        detachChildren(sandbox);\n        detach(sandbox);\n        sConfig.onClose(sandbox, data);\n        sState.clear();\n      });\n    };\n    var isOpen$1 = function (_sandbox, _sConfig, sState) {\n      return sState.isOpen();\n    };\n    var isPartOf = function (sandbox, sConfig, sState, queryElem) {\n      return isOpen$1(sandbox, sConfig, sState) && sState.get().exists(function (data) {\n        return sConfig.isPartOf(sandbox, data, queryElem);\n      });\n    };\n    var getState$2 = function (_sandbox, _sConfig, sState) {\n      return sState.get();\n    };\n    var store = function (sandbox, cssKey, attr, newValue) {\n      getRaw(sandbox.element, cssKey).fold(function () {\n        remove$7(sandbox.element, attr);\n      }, function (v) {\n        set$8(sandbox.element, attr, v);\n      });\n      set$7(sandbox.element, cssKey, newValue);\n    };\n    var restore = function (sandbox, cssKey, attr) {\n      getOpt(sandbox.element, attr).fold(function () {\n        return remove$6(sandbox.element, cssKey);\n      }, function (oldValue) {\n        return set$7(sandbox.element, cssKey, oldValue);\n      });\n    };\n    var cloak = function (sandbox, sConfig, _sState) {\n      var sink = sConfig.getAttachPoint(sandbox);\n      set$7(sandbox.element, 'position', Positioning.getMode(sink));\n      store(sandbox, 'visibility', sConfig.cloakVisibilityAttr, 'hidden');\n    };\n    var hasPosition = function (element) {\n      return exists([\n        'top',\n        'left',\n        'right',\n        'bottom'\n      ], function (pos) {\n        return getRaw(element, pos).isSome();\n      });\n    };\n    var decloak = function (sandbox, sConfig, _sState) {\n      if (!hasPosition(sandbox.element)) {\n        remove$6(sandbox.element, 'position');\n      }\n      restore(sandbox, 'visibility', sConfig.cloakVisibilityAttr);\n    };\n\n    var SandboxApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        cloak: cloak,\n        decloak: decloak,\n        open: open$1,\n        openWhileCloaked: openWhileCloaked,\n        close: close$1,\n        isOpen: isOpen$1,\n        isPartOf: isPartOf,\n        getState: getState$2,\n        setContent: setContent\n    });\n\n    var events$g = function (sandboxConfig, sandboxState) {\n      return derive$2([run$1(sandboxClose(), function (sandbox, _simulatedEvent) {\n          close$1(sandbox, sandboxConfig, sandboxState);\n        })]);\n    };\n\n    var ActiveSandbox = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$g\n    });\n\n    var SandboxSchema = [\n      onHandler('onOpen'),\n      onHandler('onClose'),\n      required$1('isPartOf'),\n      required$1('getAttachPoint'),\n      defaulted('cloakVisibilityAttr', 'data-precloak-visibility')\n    ];\n\n    var init$f = function () {\n      var contents = value$1();\n      var readState = constant$1('not-implemented');\n      return nu$8({\n        readState: readState,\n        isOpen: contents.isSet,\n        clear: contents.clear,\n        set: contents.set,\n        get: contents.get\n      });\n    };\n\n    var SandboxState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$f\n    });\n\n    var Sandboxing = create$7({\n      fields: SandboxSchema,\n      name: 'sandboxing',\n      active: ActiveSandbox,\n      apis: SandboxApis,\n      state: SandboxState\n    });\n\n    var dismissPopups = constant$1('dismiss.popups');\n    var repositionPopups = constant$1('reposition.popups');\n    var mouseReleased = constant$1('mouse.released');\n\n    var schema$x = objOfOnly([\n      defaulted('isExtraPart', never),\n      optionObjOf('fireEventInstead', [defaulted('event', dismissRequested())])\n    ]);\n    var receivingChannel$1 = function (rawSpec) {\n      var _a;\n      var detail = asRawOrDie$1('Dismissal', schema$x, rawSpec);\n      return _a = {}, _a[dismissPopups()] = {\n        schema: objOfOnly([required$1('target')]),\n        onReceive: function (sandbox, data) {\n          if (Sandboxing.isOpen(sandbox)) {\n            var isPart = Sandboxing.isPartOf(sandbox, data.target) || detail.isExtraPart(sandbox, data.target);\n            if (!isPart) {\n              detail.fireEventInstead.fold(function () {\n                return Sandboxing.close(sandbox);\n              }, function (fe) {\n                return emit(sandbox, fe.event);\n              });\n            }\n          }\n        }\n      }, _a;\n    };\n\n    var schema$w = objOfOnly([\n      optionObjOf('fireEventInstead', [defaulted('event', repositionRequested())]),\n      requiredFunction('doReposition')\n    ]);\n    var receivingChannel = function (rawSpec) {\n      var _a;\n      var detail = asRawOrDie$1('Reposition', schema$w, rawSpec);\n      return _a = {}, _a[repositionPopups()] = {\n        onReceive: function (sandbox) {\n          if (Sandboxing.isOpen(sandbox)) {\n            detail.fireEventInstead.fold(function () {\n              return detail.doReposition(sandbox);\n            }, function (fe) {\n              return emit(sandbox, fe.event);\n            });\n          }\n        }\n      }, _a;\n    };\n\n    var onLoad$5 = function (component, repConfig, repState) {\n      repConfig.store.manager.onLoad(component, repConfig, repState);\n    };\n    var onUnload$2 = function (component, repConfig, repState) {\n      repConfig.store.manager.onUnload(component, repConfig, repState);\n    };\n    var setValue$3 = function (component, repConfig, repState, data) {\n      repConfig.store.manager.setValue(component, repConfig, repState, data);\n    };\n    var getValue$3 = function (component, repConfig, repState) {\n      return repConfig.store.manager.getValue(component, repConfig, repState);\n    };\n    var getState$1 = function (component, repConfig, repState) {\n      return repState;\n    };\n\n    var RepresentApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad$5,\n        onUnload: onUnload$2,\n        setValue: setValue$3,\n        getValue: getValue$3,\n        getState: getState$1\n    });\n\n    var events$f = function (repConfig, repState) {\n      var es = repConfig.resetOnDom ? [\n        runOnAttached(function (comp, _se) {\n          onLoad$5(comp, repConfig, repState);\n        }),\n        runOnDetached(function (comp, _se) {\n          onUnload$2(comp, repConfig, repState);\n        })\n      ] : [loadEvent(repConfig, repState, onLoad$5)];\n      return derive$2(es);\n    };\n\n    var ActiveRepresenting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$f\n    });\n\n    var memory$1 = function () {\n      var data = Cell(null);\n      var readState = function () {\n        return {\n          mode: 'memory',\n          value: data.get()\n        };\n      };\n      var isNotSet = function () {\n        return data.get() === null;\n      };\n      var clear = function () {\n        data.set(null);\n      };\n      return nu$8({\n        set: data.set,\n        get: data.get,\n        isNotSet: isNotSet,\n        clear: clear,\n        readState: readState\n      });\n    };\n    var manual = function () {\n      var readState = noop;\n      return nu$8({ readState: readState });\n    };\n    var dataset = function () {\n      var dataByValue = Cell({});\n      var dataByText = Cell({});\n      var readState = function () {\n        return {\n          mode: 'dataset',\n          dataByValue: dataByValue.get(),\n          dataByText: dataByText.get()\n        };\n      };\n      var clear = function () {\n        dataByValue.set({});\n        dataByText.set({});\n      };\n      var lookup = function (itemString) {\n        return get$e(dataByValue.get(), itemString).orThunk(function () {\n          return get$e(dataByText.get(), itemString);\n        });\n      };\n      var update = function (items) {\n        var currentDataByValue = dataByValue.get();\n        var currentDataByText = dataByText.get();\n        var newDataByValue = {};\n        var newDataByText = {};\n        each$1(items, function (item) {\n          newDataByValue[item.value] = item;\n          get$e(item, 'meta').each(function (meta) {\n            get$e(meta, 'text').each(function (text) {\n              newDataByText[text] = item;\n            });\n          });\n        });\n        dataByValue.set(__assign(__assign({}, currentDataByValue), newDataByValue));\n        dataByText.set(__assign(__assign({}, currentDataByText), newDataByText));\n      };\n      return nu$8({\n        readState: readState,\n        lookup: lookup,\n        update: update,\n        clear: clear\n      });\n    };\n    var init$e = function (spec) {\n      return spec.store.manager.state(spec);\n    };\n\n    var RepresentState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        memory: memory$1,\n        dataset: dataset,\n        manual: manual,\n        init: init$e\n    });\n\n    var setValue$2 = function (component, repConfig, repState, data) {\n      var store = repConfig.store;\n      repState.update([data]);\n      store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    var getValue$2 = function (component, repConfig, repState) {\n      var store = repConfig.store;\n      var key = store.getDataKey(component);\n      return repState.lookup(key).getOrThunk(function () {\n        return store.getFallbackEntry(key);\n      });\n    };\n    var onLoad$4 = function (component, repConfig, repState) {\n      var store = repConfig.store;\n      store.initialValue.each(function (data) {\n        setValue$2(component, repConfig, repState, data);\n      });\n    };\n    var onUnload$1 = function (component, repConfig, repState) {\n      repState.clear();\n    };\n    var DatasetStore = [\n      option('initialValue'),\n      required$1('getFallbackEntry'),\n      required$1('getDataKey'),\n      required$1('setValue'),\n      output$1('manager', {\n        setValue: setValue$2,\n        getValue: getValue$2,\n        onLoad: onLoad$4,\n        onUnload: onUnload$1,\n        state: dataset\n      })\n    ];\n\n    var getValue$1 = function (component, repConfig, _repState) {\n      return repConfig.store.getValue(component);\n    };\n    var setValue$1 = function (component, repConfig, _repState, data) {\n      repConfig.store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    var onLoad$3 = function (component, repConfig, _repState) {\n      repConfig.store.initialValue.each(function (data) {\n        repConfig.store.setValue(component, data);\n      });\n    };\n    var ManualStore = [\n      required$1('getValue'),\n      defaulted('setValue', noop),\n      option('initialValue'),\n      output$1('manager', {\n        setValue: setValue$1,\n        getValue: getValue$1,\n        onLoad: onLoad$3,\n        onUnload: noop,\n        state: NoState.init\n      })\n    ];\n\n    var setValue = function (component, repConfig, repState, data) {\n      repState.set(data);\n      repConfig.onSetValue(component, data);\n    };\n    var getValue = function (component, repConfig, repState) {\n      return repState.get();\n    };\n    var onLoad$2 = function (component, repConfig, repState) {\n      repConfig.store.initialValue.each(function (initVal) {\n        if (repState.isNotSet()) {\n          repState.set(initVal);\n        }\n      });\n    };\n    var onUnload = function (component, repConfig, repState) {\n      repState.clear();\n    };\n    var MemoryStore = [\n      option('initialValue'),\n      output$1('manager', {\n        setValue: setValue,\n        getValue: getValue,\n        onLoad: onLoad$2,\n        onUnload: onUnload,\n        state: memory$1\n      })\n    ];\n\n    var RepresentSchema = [\n      defaultedOf('store', { mode: 'memory' }, choose$1('mode', {\n        memory: MemoryStore,\n        manual: ManualStore,\n        dataset: DatasetStore\n      })),\n      onHandler('onSetValue'),\n      defaulted('resetOnDom', false)\n    ];\n\n    var Representing = create$7({\n      fields: RepresentSchema,\n      name: 'representing',\n      active: ActiveRepresenting,\n      apis: RepresentApis,\n      extra: {\n        setValueFrom: function (component, source) {\n          var value = Representing.getValue(source);\n          Representing.setValue(component, value);\n        }\n      },\n      state: RepresentState\n    });\n\n    var field = function (name, forbidden) {\n      return defaultedObjOf(name, {}, map$2(forbidden, function (f) {\n        return forbid(f.name(), 'Cannot configure ' + f.name() + ' for ' + name);\n      }).concat([customField('dump', identity$1)]));\n    };\n    var get$2 = function (data) {\n      return data.dump;\n    };\n    var augment = function (data, original) {\n      return __assign(__assign({}, derive$1(original)), data.dump);\n    };\n    var SketchBehaviours = {\n      field: field,\n      augment: augment,\n      get: get$2\n    };\n\n    var _placeholder = 'placeholder';\n    var adt$3 = Adt.generate([\n      {\n        single: [\n          'required',\n          'valueThunk'\n        ]\n      },\n      {\n        multiple: [\n          'required',\n          'valueThunks'\n        ]\n      }\n    ]);\n    var isSubstituted = function (spec) {\n      return has$2(spec, 'uiType');\n    };\n    var subPlaceholder = function (owner, detail, compSpec, placeholders) {\n      if (owner.exists(function (o) {\n          return o !== compSpec.owner;\n        })) {\n        return adt$3.single(true, constant$1(compSpec));\n      }\n      return get$e(placeholders, compSpec.name).fold(function () {\n        throw new Error('Unknown placeholder component: ' + compSpec.name + '\\nKnown: [' + keys(placeholders) + ']\\nNamespace: ' + owner.getOr('none') + '\\nSpec: ' + JSON.stringify(compSpec, null, 2));\n      }, function (newSpec) {\n        return newSpec.replace();\n      });\n    };\n    var scan = function (owner, detail, compSpec, placeholders) {\n      if (isSubstituted(compSpec) && compSpec.uiType === _placeholder) {\n        return subPlaceholder(owner, detail, compSpec, placeholders);\n      } else {\n        return adt$3.single(false, constant$1(compSpec));\n      }\n    };\n    var substitute = function (owner, detail, compSpec, placeholders) {\n      var base = scan(owner, detail, compSpec, placeholders);\n      return base.fold(function (req, valueThunk) {\n        var value = isSubstituted(compSpec) ? valueThunk(detail, compSpec.config, compSpec.validated) : valueThunk(detail);\n        var childSpecs = get$e(value, 'components').getOr([]);\n        var substituted = bind$3(childSpecs, function (c) {\n          return substitute(owner, detail, c, placeholders);\n        });\n        return [__assign(__assign({}, value), { components: substituted })];\n      }, function (req, valuesThunk) {\n        if (isSubstituted(compSpec)) {\n          var values = valuesThunk(detail, compSpec.config, compSpec.validated);\n          var preprocessor = compSpec.validated.preprocess.getOr(identity$1);\n          return preprocessor(values);\n        } else {\n          return valuesThunk(detail);\n        }\n      });\n    };\n    var substituteAll = function (owner, detail, components, placeholders) {\n      return bind$3(components, function (c) {\n        return substitute(owner, detail, c, placeholders);\n      });\n    };\n    var oneReplace = function (label, replacements) {\n      var called = false;\n      var used = function () {\n        return called;\n      };\n      var replace = function () {\n        if (called) {\n          throw new Error('Trying to use the same placeholder more than once: ' + label);\n        }\n        called = true;\n        return replacements;\n      };\n      var required = function () {\n        return replacements.fold(function (req, _) {\n          return req;\n        }, function (req, _) {\n          return req;\n        });\n      };\n      return {\n        name: constant$1(label),\n        required: required,\n        used: used,\n        replace: replace\n      };\n    };\n    var substitutePlaces = function (owner, detail, components, placeholders) {\n      var ps = map$1(placeholders, function (ph, name) {\n        return oneReplace(name, ph);\n      });\n      var outcome = substituteAll(owner, detail, components, ps);\n      each(ps, function (p) {\n        if (p.used() === false && p.required()) {\n          throw new Error('Placeholder: ' + p.name() + ' was not found in components list\\nNamespace: ' + owner.getOr('none') + '\\nComponents: ' + JSON.stringify(detail.components, null, 2));\n        }\n      });\n      return outcome;\n    };\n    var single$2 = adt$3.single;\n    var multiple = adt$3.multiple;\n    var placeholder = constant$1(_placeholder);\n\n    var adt$2 = Adt.generate([\n      { required: ['data'] },\n      { external: ['data'] },\n      { optional: ['data'] },\n      { group: ['data'] }\n    ]);\n    var fFactory = defaulted('factory', { sketch: identity$1 });\n    var fSchema = defaulted('schema', []);\n    var fName = required$1('name');\n    var fPname = field$1('pname', 'pname', defaultedThunk(function (typeSpec) {\n      return '<alloy.' + generate$6(typeSpec.name) + '>';\n    }), anyValue());\n    var fGroupSchema = customField('schema', function () {\n      return [option('preprocess')];\n    });\n    var fDefaults = defaulted('defaults', constant$1({}));\n    var fOverrides = defaulted('overrides', constant$1({}));\n    var requiredSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    var externalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fDefaults,\n      fOverrides\n    ]);\n    var optionalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    var groupSpec = objOf([\n      fFactory,\n      fGroupSchema,\n      fName,\n      required$1('unit'),\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    var asNamedPart = function (part) {\n      return part.fold(Optional.some, Optional.none, Optional.some, Optional.some);\n    };\n    var name$1 = function (part) {\n      var get = function (data) {\n        return data.name;\n      };\n      return part.fold(get, get, get, get);\n    };\n    var asCommon = function (part) {\n      return part.fold(identity$1, identity$1, identity$1, identity$1);\n    };\n    var convert = function (adtConstructor, partSchema) {\n      return function (spec) {\n        var data = asRawOrDie$1('Converting part type', partSchema, spec);\n        return adtConstructor(data);\n      };\n    };\n    var required = convert(adt$2.required, requiredSpec);\n    var external$1 = convert(adt$2.external, externalSpec);\n    var optional = convert(adt$2.optional, optionalSpec);\n    var group = convert(adt$2.group, groupSpec);\n    var original = constant$1('entirety');\n\n    var PartType = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        required: required,\n        external: external$1,\n        optional: optional,\n        group: group,\n        asNamedPart: asNamedPart,\n        name: name$1,\n        asCommon: asCommon,\n        original: original\n    });\n\n    var combine = function (detail, data, partSpec, partValidated) {\n      return deepMerge(data.defaults(detail, partSpec, partValidated), partSpec, { uid: detail.partUids[data.name] }, data.overrides(detail, partSpec, partValidated));\n    };\n    var subs = function (owner, detail, parts) {\n      var internals = {};\n      var externals = {};\n      each$1(parts, function (part) {\n        part.fold(function (data) {\n          internals[data.pname] = single$2(true, function (detail, partSpec, partValidated) {\n            return data.factory.sketch(combine(detail, data, partSpec, partValidated));\n          });\n        }, function (data) {\n          var partSpec = detail.parts[data.name];\n          externals[data.name] = constant$1(data.factory.sketch(combine(detail, data, partSpec[original()]), partSpec));\n        }, function (data) {\n          internals[data.pname] = single$2(false, function (detail, partSpec, partValidated) {\n            return data.factory.sketch(combine(detail, data, partSpec, partValidated));\n          });\n        }, function (data) {\n          internals[data.pname] = multiple(true, function (detail, _partSpec, _partValidated) {\n            var units = detail[data.name];\n            return map$2(units, function (u) {\n              return data.factory.sketch(deepMerge(data.defaults(detail, u, _partValidated), u, data.overrides(detail, u)));\n            });\n          });\n        });\n      });\n      return {\n        internals: constant$1(internals),\n        externals: constant$1(externals)\n      };\n    };\n\n    var generate$3 = function (owner, parts) {\n      var r = {};\n      each$1(parts, function (part) {\n        asNamedPart(part).each(function (np) {\n          var g = doGenerateOne(owner, np.pname);\n          r[np.name] = function (config) {\n            var validated = asRawOrDie$1('Part: ' + np.name + ' in ' + owner, objOf(np.schema), config);\n            return __assign(__assign({}, g), {\n              config: config,\n              validated: validated\n            });\n          };\n        });\n      });\n      return r;\n    };\n    var doGenerateOne = function (owner, pname) {\n      return {\n        uiType: placeholder(),\n        owner: owner,\n        name: pname\n      };\n    };\n    var generateOne$1 = function (owner, pname, config) {\n      return {\n        uiType: placeholder(),\n        owner: owner,\n        name: pname,\n        config: config,\n        validated: {}\n      };\n    };\n    var schemas = function (parts) {\n      return bind$3(parts, function (part) {\n        return part.fold(Optional.none, Optional.some, Optional.none, Optional.none).map(function (data) {\n          return requiredObjOf(data.name, data.schema.concat([snapshot(original())]));\n        }).toArray();\n      });\n    };\n    var names = function (parts) {\n      return map$2(parts, name$1);\n    };\n    var substitutes = function (owner, detail, parts) {\n      return subs(owner, detail, parts);\n    };\n    var components$1 = function (owner, detail, internals) {\n      return substitutePlaces(Optional.some(owner), detail, detail.components, internals);\n    };\n    var getPart = function (component, detail, partKey) {\n      var uid = detail.partUids[partKey];\n      return component.getSystem().getByUid(uid).toOptional();\n    };\n    var getPartOrDie = function (component, detail, partKey) {\n      return getPart(component, detail, partKey).getOrDie('Could not find part: ' + partKey);\n    };\n    var getParts = function (component, detail, partKeys) {\n      var r = {};\n      var uids = detail.partUids;\n      var system = component.getSystem();\n      each$1(partKeys, function (pk) {\n        r[pk] = constant$1(system.getByUid(uids[pk]));\n      });\n      return r;\n    };\n    var getAllParts = function (component, detail) {\n      var system = component.getSystem();\n      return map$1(detail.partUids, function (pUid, _k) {\n        return constant$1(system.getByUid(pUid));\n      });\n    };\n    var getAllPartNames = function (detail) {\n      return keys(detail.partUids);\n    };\n    var getPartsOrDie = function (component, detail, partKeys) {\n      var r = {};\n      var uids = detail.partUids;\n      var system = component.getSystem();\n      each$1(partKeys, function (pk) {\n        r[pk] = constant$1(system.getByUid(uids[pk]).getOrDie());\n      });\n      return r;\n    };\n    var defaultUids = function (baseUid, partTypes) {\n      var partNames = names(partTypes);\n      return wrapAll(map$2(partNames, function (pn) {\n        return {\n          key: pn,\n          value: baseUid + '-' + pn\n        };\n      }));\n    };\n    var defaultUidsSchema = function (partTypes) {\n      return field$1('partUids', 'partUids', mergeWithThunk(function (spec) {\n        return defaultUids(spec.uid, partTypes);\n      }), anyValue());\n    };\n\n    var AlloyParts = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        generate: generate$3,\n        generateOne: generateOne$1,\n        schemas: schemas,\n        names: names,\n        substitutes: substitutes,\n        components: components$1,\n        defaultUids: defaultUids,\n        defaultUidsSchema: defaultUidsSchema,\n        getAllParts: getAllParts,\n        getAllPartNames: getAllPartNames,\n        getPart: getPart,\n        getPartOrDie: getPartOrDie,\n        getParts: getParts,\n        getPartsOrDie: getPartsOrDie\n    });\n\n    var base = function (partSchemas, partUidsSchemas) {\n      var ps = partSchemas.length > 0 ? [requiredObjOf('parts', partSchemas)] : [];\n      return ps.concat([\n        required$1('uid'),\n        defaulted('dom', {}),\n        defaulted('components', []),\n        snapshot('originalSpec'),\n        defaulted('debug.sketcher', {})\n      ]).concat(partUidsSchemas);\n    };\n    var asRawOrDie = function (label, schema, spec, partSchemas, partUidsSchemas) {\n      var baseS = base(partSchemas, partUidsSchemas);\n      return asRawOrDie$1(label + ' [SpecSchema]', objOfOnly(baseS.concat(schema)), spec);\n    };\n\n    var single$1 = function (owner, schema, factory, spec) {\n      var specWithUid = supplyUid(spec);\n      var detail = asRawOrDie(owner, schema, specWithUid, [], []);\n      return factory(detail, specWithUid);\n    };\n    var composite$1 = function (owner, schema, partTypes, factory, spec) {\n      var specWithUid = supplyUid(spec);\n      var partSchemas = schemas(partTypes);\n      var partUidsSchema = defaultUidsSchema(partTypes);\n      var detail = asRawOrDie(owner, schema, specWithUid, partSchemas, [partUidsSchema]);\n      var subs = substitutes(owner, detail, partTypes);\n      var components = components$1(owner, detail, subs.internals());\n      return factory(detail, components, specWithUid, subs.externals());\n    };\n    var hasUid = function (spec) {\n      return has$2(spec, 'uid');\n    };\n    var supplyUid = function (spec) {\n      return hasUid(spec) ? spec : __assign(__assign({}, spec), { uid: generate$5('uid') });\n    };\n\n    var isSketchSpec = function (spec) {\n      return spec.uid !== undefined;\n    };\n    var singleSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    var compositeSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      required$1('partFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    var single = function (rawConfig) {\n      var config = asRawOrDie$1('Sketcher for ' + rawConfig.name, singleSchema, rawConfig);\n      var sketch = function (spec) {\n        return single$1(config.name, config.configFields, config.factory, spec);\n      };\n      var apis = map$1(config.apis, makeApi);\n      var extraApis = map$1(config.extraApis, function (f, k) {\n        return markAsExtraApi(f, k);\n      });\n      return __assign(__assign({\n        name: config.name,\n        configFields: config.configFields,\n        sketch: sketch\n      }, apis), extraApis);\n    };\n    var composite = function (rawConfig) {\n      var config = asRawOrDie$1('Sketcher for ' + rawConfig.name, compositeSchema, rawConfig);\n      var sketch = function (spec) {\n        return composite$1(config.name, config.configFields, config.partFields, config.factory, spec);\n      };\n      var parts = generate$3(config.name, config.partFields);\n      var apis = map$1(config.apis, makeApi);\n      var extraApis = map$1(config.extraApis, function (f, k) {\n        return markAsExtraApi(f, k);\n      });\n      return __assign(__assign({\n        name: config.name,\n        partFields: config.partFields,\n        configFields: config.configFields,\n        sketch: sketch,\n        parts: parts\n      }, apis), extraApis);\n    };\n\n    var inside = function (target) {\n      return name$2(target) === 'input' && get$d(target, 'type') !== 'radio' || name$2(target) === 'textarea';\n    };\n\n    var getCurrent = function (component, composeConfig, _composeState) {\n      return composeConfig.find(component);\n    };\n\n    var ComposeApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCurrent: getCurrent\n    });\n\n    var ComposeSchema = [required$1('find')];\n\n    var Composing = create$7({\n      fields: ComposeSchema,\n      name: 'composing',\n      apis: ComposeApis\n    });\n\n    var nativeDisabled = [\n      'input',\n      'button',\n      'textarea',\n      'select'\n    ];\n    var onLoad$1 = function (component, disableConfig, disableState) {\n      var f = disableConfig.disabled() ? disable$1 : enable$1;\n      f(component, disableConfig);\n    };\n    var hasNative = function (component, config) {\n      return config.useNative === true && contains$2(nativeDisabled, name$2(component.element));\n    };\n    var nativeIsDisabled = function (component) {\n      return has$1(component.element, 'disabled');\n    };\n    var nativeDisable = function (component) {\n      set$8(component.element, 'disabled', 'disabled');\n    };\n    var nativeEnable = function (component) {\n      remove$7(component.element, 'disabled');\n    };\n    var ariaIsDisabled = function (component) {\n      return get$d(component.element, 'aria-disabled') === 'true';\n    };\n    var ariaDisable = function (component) {\n      set$8(component.element, 'aria-disabled', 'true');\n    };\n    var ariaEnable = function (component) {\n      set$8(component.element, 'aria-disabled', 'false');\n    };\n    var disable$1 = function (component, disableConfig, _disableState) {\n      disableConfig.disableClass.each(function (disableClass) {\n        add$2(component.element, disableClass);\n      });\n      var f = hasNative(component, disableConfig) ? nativeDisable : ariaDisable;\n      f(component);\n      disableConfig.onDisabled(component);\n    };\n    var enable$1 = function (component, disableConfig, _disableState) {\n      disableConfig.disableClass.each(function (disableClass) {\n        remove$2(component.element, disableClass);\n      });\n      var f = hasNative(component, disableConfig) ? nativeEnable : ariaEnable;\n      f(component);\n      disableConfig.onEnabled(component);\n    };\n    var isDisabled = function (component, disableConfig) {\n      return hasNative(component, disableConfig) ? nativeIsDisabled(component) : ariaIsDisabled(component);\n    };\n    var set$3 = function (component, disableConfig, disableState, disabled) {\n      var f = disabled ? disable$1 : enable$1;\n      f(component, disableConfig);\n    };\n\n    var DisableApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        enable: enable$1,\n        disable: disable$1,\n        isDisabled: isDisabled,\n        onLoad: onLoad$1,\n        set: set$3\n    });\n\n    var exhibit$5 = function (base, disableConfig) {\n      return nu$7({ classes: disableConfig.disabled() ? disableConfig.disableClass.toArray() : [] });\n    };\n    var events$e = function (disableConfig, disableState) {\n      return derive$2([\n        abort(execute$5(), function (component, _simulatedEvent) {\n          return isDisabled(component, disableConfig);\n        }),\n        loadEvent(disableConfig, disableState, onLoad$1)\n      ]);\n    };\n\n    var ActiveDisable = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$5,\n        events: events$e\n    });\n\n    var DisableSchema = [\n      defaultedFunction('disabled', never),\n      defaulted('useNative', true),\n      option('disableClass'),\n      onHandler('onDisabled'),\n      onHandler('onEnabled')\n    ];\n\n    var Disabling = create$7({\n      fields: DisableSchema,\n      name: 'disabling',\n      active: ActiveDisable,\n      apis: DisableApis\n    });\n\n    var dehighlightAllExcept = function (component, hConfig, hState, skip) {\n      var highlighted = descendants(component.element, '.' + hConfig.highlightClass);\n      each$1(highlighted, function (h) {\n        if (!exists(skip, function (skipComp) {\n            return skipComp.element === h;\n          })) {\n          remove$2(h, hConfig.highlightClass);\n          component.getSystem().getByDom(h).each(function (target) {\n            hConfig.onDehighlight(component, target);\n            emit(target, dehighlight$1());\n          });\n        }\n      });\n    };\n    var dehighlightAll = function (component, hConfig, hState) {\n      return dehighlightAllExcept(component, hConfig, hState, []);\n    };\n    var dehighlight = function (component, hConfig, hState, target) {\n      if (isHighlighted(component, hConfig, hState, target)) {\n        remove$2(target.element, hConfig.highlightClass);\n        hConfig.onDehighlight(component, target);\n        emit(target, dehighlight$1());\n      }\n    };\n    var highlight = function (component, hConfig, hState, target) {\n      dehighlightAllExcept(component, hConfig, hState, [target]);\n      if (!isHighlighted(component, hConfig, hState, target)) {\n        add$2(target.element, hConfig.highlightClass);\n        hConfig.onHighlight(component, target);\n        emit(target, highlight$1());\n      }\n    };\n    var highlightFirst = function (component, hConfig, hState) {\n      getFirst(component, hConfig).each(function (firstComp) {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    var highlightLast = function (component, hConfig, hState) {\n      getLast(component, hConfig).each(function (lastComp) {\n        highlight(component, hConfig, hState, lastComp);\n      });\n    };\n    var highlightAt = function (component, hConfig, hState, index) {\n      getByIndex(component, hConfig, hState, index).fold(function (err) {\n        throw err;\n      }, function (firstComp) {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    var highlightBy = function (component, hConfig, hState, predicate) {\n      var candidates = getCandidates(component, hConfig);\n      var targetComp = find$5(candidates, predicate);\n      targetComp.each(function (c) {\n        highlight(component, hConfig, hState, c);\n      });\n    };\n    var isHighlighted = function (component, hConfig, hState, queryTarget) {\n      return has(queryTarget.element, hConfig.highlightClass);\n    };\n    var getHighlighted = function (component, hConfig, _hState) {\n      return descendant(component.element, '.' + hConfig.highlightClass).bind(function (e) {\n        return component.getSystem().getByDom(e).toOptional();\n      });\n    };\n    var getByIndex = function (component, hConfig, hState, index) {\n      var items = descendants(component.element, '.' + hConfig.itemClass);\n      return Optional.from(items[index]).fold(function () {\n        return Result.error(new Error('No element found with index ' + index));\n      }, component.getSystem().getByDom);\n    };\n    var getFirst = function (component, hConfig, _hState) {\n      return descendant(component.element, '.' + hConfig.itemClass).bind(function (e) {\n        return component.getSystem().getByDom(e).toOptional();\n      });\n    };\n    var getLast = function (component, hConfig, _hState) {\n      var items = descendants(component.element, '.' + hConfig.itemClass);\n      var last = items.length > 0 ? Optional.some(items[items.length - 1]) : Optional.none();\n      return last.bind(function (c) {\n        return component.getSystem().getByDom(c).toOptional();\n      });\n    };\n    var getDelta$2 = function (component, hConfig, hState, delta) {\n      var items = descendants(component.element, '.' + hConfig.itemClass);\n      var current = findIndex$1(items, function (item) {\n        return has(item, hConfig.highlightClass);\n      });\n      return current.bind(function (selected) {\n        var dest = cycleBy(selected, delta, 0, items.length - 1);\n        return component.getSystem().getByDom(items[dest]).toOptional();\n      });\n    };\n    var getPrevious = function (component, hConfig, hState) {\n      return getDelta$2(component, hConfig, hState, -1);\n    };\n    var getNext = function (component, hConfig, hState) {\n      return getDelta$2(component, hConfig, hState, +1);\n    };\n    var getCandidates = function (component, hConfig, _hState) {\n      var items = descendants(component.element, '.' + hConfig.itemClass);\n      return cat(map$2(items, function (i) {\n        return component.getSystem().getByDom(i).toOptional();\n      }));\n    };\n\n    var HighlightApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        dehighlightAll: dehighlightAll,\n        dehighlight: dehighlight,\n        highlight: highlight,\n        highlightFirst: highlightFirst,\n        highlightLast: highlightLast,\n        highlightAt: highlightAt,\n        highlightBy: highlightBy,\n        isHighlighted: isHighlighted,\n        getHighlighted: getHighlighted,\n        getFirst: getFirst,\n        getLast: getLast,\n        getPrevious: getPrevious,\n        getNext: getNext,\n        getCandidates: getCandidates\n    });\n\n    var HighlightSchema = [\n      required$1('highlightClass'),\n      required$1('itemClass'),\n      onHandler('onHighlight'),\n      onHandler('onDehighlight')\n    ];\n\n    var Highlighting = create$7({\n      fields: HighlightSchema,\n      name: 'highlighting',\n      apis: HighlightApis\n    });\n\n    var BACKSPACE = [8];\n    var TAB = [9];\n    var ENTER = [13];\n    var ESCAPE = [27];\n    var SPACE = [32];\n    var LEFT = [37];\n    var UP = [38];\n    var RIGHT = [39];\n    var DOWN = [40];\n\n    var cyclePrev = function (values, index, predicate) {\n      var before = reverse(values.slice(0, index));\n      var after = reverse(values.slice(index + 1));\n      return find$5(before.concat(after), predicate);\n    };\n    var tryPrev = function (values, index, predicate) {\n      var before = reverse(values.slice(0, index));\n      return find$5(before, predicate);\n    };\n    var cycleNext = function (values, index, predicate) {\n      var before = values.slice(0, index);\n      var after = values.slice(index + 1);\n      return find$5(after.concat(before), predicate);\n    };\n    var tryNext = function (values, index, predicate) {\n      var after = values.slice(index + 1);\n      return find$5(after, predicate);\n    };\n\n    var inSet = function (keys) {\n      return function (event) {\n        var raw = event.raw;\n        return contains$2(keys, raw.which);\n      };\n    };\n    var and = function (preds) {\n      return function (event) {\n        return forall(preds, function (pred) {\n          return pred(event);\n        });\n      };\n    };\n    var isShift = function (event) {\n      var raw = event.raw;\n      return raw.shiftKey === true;\n    };\n    var isControl = function (event) {\n      var raw = event.raw;\n      return raw.ctrlKey === true;\n    };\n    var isNotShift = not(isShift);\n\n    var rule = function (matches, action) {\n      return {\n        matches: matches,\n        classification: action\n      };\n    };\n    var choose = function (transitions, event) {\n      var transition = find$5(transitions, function (t) {\n        return t.matches(event);\n      });\n      return transition.map(function (t) {\n        return t.classification;\n      });\n    };\n\n    var reportFocusShifting = function (component, prevFocus, newFocus) {\n      var noChange = prevFocus.exists(function (p) {\n        return newFocus.exists(function (n) {\n          return eq(n, p);\n        });\n      });\n      if (!noChange) {\n        emitWith(component, focusShifted(), {\n          prevFocus: prevFocus,\n          newFocus: newFocus\n        });\n      }\n    };\n    var dom$2 = function () {\n      var get = function (component) {\n        return search(component.element);\n      };\n      var set = function (component, focusee) {\n        var prevFocus = get(component);\n        component.getSystem().triggerFocus(focusee, component.element);\n        var newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n    var highlights = function () {\n      var get = function (component) {\n        return Highlighting.getHighlighted(component).map(function (item) {\n          return item.element;\n        });\n      };\n      var set = function (component, element) {\n        var prevFocus = get(component);\n        component.getSystem().getByDom(element).fold(noop, function (item) {\n          Highlighting.highlight(component, item);\n        });\n        var newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var FocusInsideModes;\n    (function (FocusInsideModes) {\n      FocusInsideModes['OnFocusMode'] = 'onFocus';\n      FocusInsideModes['OnEnterOrSpaceMode'] = 'onEnterOrSpace';\n      FocusInsideModes['OnApiMode'] = 'onApi';\n    }(FocusInsideModes || (FocusInsideModes = {})));\n\n    var typical = function (infoSchema, stateInit, getKeydownRules, getKeyupRules, optFocusIn) {\n      var schema = function () {\n        return infoSchema.concat([\n          defaulted('focusManager', dom$2()),\n          defaultedOf('focusInside', 'onFocus', valueOf(function (val) {\n            return contains$2([\n              'onFocus',\n              'onEnterOrSpace',\n              'onApi'\n            ], val) ? Result.value(val) : Result.error('Invalid value for focusInside');\n          })),\n          output$1('handler', me),\n          output$1('state', stateInit),\n          output$1('sendFocusIn', optFocusIn)\n        ]);\n      };\n      var processKey = function (component, simulatedEvent, getRules, keyingConfig, keyingState) {\n        var rules = getRules(component, simulatedEvent, keyingConfig, keyingState);\n        return choose(rules, simulatedEvent.event).bind(function (rule) {\n          return rule(component, simulatedEvent, keyingConfig, keyingState);\n        });\n      };\n      var toEvents = function (keyingConfig, keyingState) {\n        var onFocusHandler = keyingConfig.focusInside !== FocusInsideModes.OnFocusMode ? Optional.none() : optFocusIn(keyingConfig).map(function (focusIn) {\n          return run$1(focus$4(), function (component, simulatedEvent) {\n            focusIn(component, keyingConfig, keyingState);\n            simulatedEvent.stop();\n          });\n        });\n        var tryGoInsideComponent = function (component, simulatedEvent) {\n          var isEnterOrSpace = inSet(SPACE.concat(ENTER))(simulatedEvent.event);\n          if (keyingConfig.focusInside === FocusInsideModes.OnEnterOrSpaceMode && isEnterOrSpace && isSource(component, simulatedEvent)) {\n            optFocusIn(keyingConfig).each(function (focusIn) {\n              focusIn(component, keyingConfig, keyingState);\n              simulatedEvent.stop();\n            });\n          }\n        };\n        var keyboardEvents = [\n          run$1(keydown(), function (component, simulatedEvent) {\n            processKey(component, simulatedEvent, getKeydownRules, keyingConfig, keyingState).fold(function () {\n              tryGoInsideComponent(component, simulatedEvent);\n            }, function (_) {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(keyup(), function (component, simulatedEvent) {\n            processKey(component, simulatedEvent, getKeyupRules, keyingConfig, keyingState).each(function (_) {\n              simulatedEvent.stop();\n            });\n          })\n        ];\n        return derive$2(onFocusHandler.toArray().concat(keyboardEvents));\n      };\n      var me = {\n        schema: schema,\n        processKey: processKey,\n        toEvents: toEvents\n      };\n      return me;\n    };\n\n    var create$5 = function (cyclicField) {\n      var schema = [\n        option('onEscape'),\n        option('onEnter'),\n        defaulted('selector', '[data-alloy-tabstop=\"true\"]:not(:disabled)'),\n        defaulted('firstTabstop', 0),\n        defaulted('useTabstopAt', always),\n        option('visibilitySelector')\n      ].concat([cyclicField]);\n      var isVisible = function (tabbingConfig, element) {\n        var target = tabbingConfig.visibilitySelector.bind(function (sel) {\n          return closest$1(element, sel);\n        }).getOr(element);\n        return get$b(target) > 0;\n      };\n      var findInitial = function (component, tabbingConfig) {\n        var tabstops = descendants(component.element, tabbingConfig.selector);\n        var visibles = filter$2(tabstops, function (elem) {\n          return isVisible(tabbingConfig, elem);\n        });\n        return Optional.from(visibles[tabbingConfig.firstTabstop]);\n      };\n      var findCurrent = function (component, tabbingConfig) {\n        return tabbingConfig.focusManager.get(component).bind(function (elem) {\n          return closest$1(elem, tabbingConfig.selector);\n        });\n      };\n      var isTabstop = function (tabbingConfig, element) {\n        return isVisible(tabbingConfig, element) && tabbingConfig.useTabstopAt(element);\n      };\n      var focusIn = function (component, tabbingConfig, _tabbingState) {\n        findInitial(component, tabbingConfig).each(function (target) {\n          tabbingConfig.focusManager.set(component, target);\n        });\n      };\n      var goFromTabstop = function (component, tabstops, stopIndex, tabbingConfig, cycle) {\n        return cycle(tabstops, stopIndex, function (elem) {\n          return isTabstop(tabbingConfig, elem);\n        }).fold(function () {\n          return tabbingConfig.cyclic ? Optional.some(true) : Optional.none();\n        }, function (target) {\n          tabbingConfig.focusManager.set(component, target);\n          return Optional.some(true);\n        });\n      };\n      var go = function (component, _simulatedEvent, tabbingConfig, cycle) {\n        var tabstops = descendants(component.element, tabbingConfig.selector);\n        return findCurrent(component, tabbingConfig).bind(function (tabstop) {\n          var optStopIndex = findIndex$1(tabstops, curry(eq, tabstop));\n          return optStopIndex.bind(function (stopIndex) {\n            return goFromTabstop(component, tabstops, stopIndex, tabbingConfig, cycle);\n          });\n        });\n      };\n      var goBackwards = function (component, simulatedEvent, tabbingConfig) {\n        var navigate = tabbingConfig.cyclic ? cyclePrev : tryPrev;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      var goForwards = function (component, simulatedEvent, tabbingConfig) {\n        var navigate = tabbingConfig.cyclic ? cycleNext : tryNext;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      var execute = function (component, simulatedEvent, tabbingConfig) {\n        return tabbingConfig.onEnter.bind(function (f) {\n          return f(component, simulatedEvent);\n        });\n      };\n      var exit = function (component, simulatedEvent, tabbingConfig) {\n        return tabbingConfig.onEscape.bind(function (f) {\n          return f(component, simulatedEvent);\n        });\n      };\n      var getKeydownRules = constant$1([\n        rule(and([\n          isShift,\n          inSet(TAB)\n        ]), goBackwards),\n        rule(inSet(TAB), goForwards),\n        rule(inSet(ESCAPE), exit),\n        rule(and([\n          isNotShift,\n          inSet(ENTER)\n        ]), execute)\n      ]);\n      var getKeyupRules = constant$1([]);\n      return typical(schema, NoState.init, getKeydownRules, getKeyupRules, function () {\n        return Optional.some(focusIn);\n      });\n    };\n\n    var AcyclicType = create$5(customField('cyclic', never));\n\n    var CyclicType = create$5(customField('cyclic', always));\n\n    var doDefaultExecute = function (component, _simulatedEvent, focused) {\n      dispatch(component, focused, execute$5());\n      return Optional.some(true);\n    };\n    var defaultExecute = function (component, simulatedEvent, focused) {\n      var isComplex = inside(focused) && inSet(SPACE)(simulatedEvent.event);\n      return isComplex ? Optional.none() : doDefaultExecute(component, simulatedEvent, focused);\n    };\n    var stopEventForFirefox = function (_component, _simulatedEvent) {\n      return Optional.some(true);\n    };\n\n    var schema$v = [\n      defaulted('execute', defaultExecute),\n      defaulted('useSpace', false),\n      defaulted('useEnter', true),\n      defaulted('useControlEnter', false),\n      defaulted('useDown', false)\n    ];\n    var execute$4 = function (component, simulatedEvent, executeConfig) {\n      return executeConfig.execute(component, simulatedEvent, component.element);\n    };\n    var getKeydownRules$5 = function (component, _simulatedEvent, executeConfig, _executeState) {\n      var spaceExec = executeConfig.useSpace && !inside(component.element) ? SPACE : [];\n      var enterExec = executeConfig.useEnter ? ENTER : [];\n      var downExec = executeConfig.useDown ? DOWN : [];\n      var execKeys = spaceExec.concat(enterExec).concat(downExec);\n      return [rule(inSet(execKeys), execute$4)].concat(executeConfig.useControlEnter ? [rule(and([\n          isControl,\n          inSet(ENTER)\n        ]), execute$4)] : []);\n    };\n    var getKeyupRules$5 = function (component, _simulatedEvent, executeConfig, _executeState) {\n      return executeConfig.useSpace && !inside(component.element) ? [rule(inSet(SPACE), stopEventForFirefox)] : [];\n    };\n    var ExecutionType = typical(schema$v, NoState.init, getKeydownRules$5, getKeyupRules$5, function () {\n      return Optional.none();\n    });\n\n    var flatgrid$1 = function () {\n      var dimensions = value$1();\n      var setGridSize = function (numRows, numColumns) {\n        dimensions.set({\n          numRows: numRows,\n          numColumns: numColumns\n        });\n      };\n      var getNumRows = function () {\n        return dimensions.get().map(function (d) {\n          return d.numRows;\n        });\n      };\n      var getNumColumns = function () {\n        return dimensions.get().map(function (d) {\n          return d.numColumns;\n        });\n      };\n      return nu$8({\n        readState: function () {\n          return dimensions.get().map(function (d) {\n            return {\n              numRows: String(d.numRows),\n              numColumns: String(d.numColumns)\n            };\n          }).getOr({\n            numRows: '?',\n            numColumns: '?'\n          });\n        },\n        setGridSize: setGridSize,\n        getNumRows: getNumRows,\n        getNumColumns: getNumColumns\n      });\n    };\n    var init$d = function (spec) {\n      return spec.state(spec);\n    };\n\n    var KeyingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        flatgrid: flatgrid$1,\n        init: init$d\n    });\n\n    var useH = function (movement) {\n      return function (component, simulatedEvent, config, state) {\n        var move = movement(component.element);\n        return use(move, component, simulatedEvent, config, state);\n      };\n    };\n    var west$1 = function (moveLeft, moveRight) {\n      var movement = onDirection(moveLeft, moveRight);\n      return useH(movement);\n    };\n    var east$1 = function (moveLeft, moveRight) {\n      var movement = onDirection(moveRight, moveLeft);\n      return useH(movement);\n    };\n    var useV = function (move) {\n      return function (component, simulatedEvent, config, state) {\n        return use(move, component, simulatedEvent, config, state);\n      };\n    };\n    var use = function (move, component, simulatedEvent, config, state) {\n      var outcome = config.focusManager.get(component).bind(function (focused) {\n        return move(component.element, focused, config, state);\n      });\n      return outcome.map(function (newFocus) {\n        config.focusManager.set(component, newFocus);\n        return true;\n      });\n    };\n    var north$1 = useV;\n    var south$1 = useV;\n    var move$1 = useV;\n\n    var isHidden$1 = function (dom) {\n      return dom.offsetWidth <= 0 && dom.offsetHeight <= 0;\n    };\n    var isVisible = function (element) {\n      return !isHidden$1(element.dom);\n    };\n\n    var locate = function (candidates, predicate) {\n      return findIndex$1(candidates, predicate).map(function (index) {\n        return {\n          index: index,\n          candidates: candidates\n        };\n      });\n    };\n\n    var locateVisible = function (container, current, selector) {\n      var predicate = function (x) {\n        return eq(x, current);\n      };\n      var candidates = descendants(container, selector);\n      var visible = filter$2(candidates, isVisible);\n      return locate(visible, predicate);\n    };\n    var findIndex = function (elements, target) {\n      return findIndex$1(elements, function (elem) {\n        return eq(target, elem);\n      });\n    };\n\n    var withGrid = function (values, index, numCols, f) {\n      var oldRow = Math.floor(index / numCols);\n      var oldColumn = index % numCols;\n      return f(oldRow, oldColumn).bind(function (address) {\n        var newIndex = address.row * numCols + address.column;\n        return newIndex >= 0 && newIndex < values.length ? Optional.some(values[newIndex]) : Optional.none();\n      });\n    };\n    var cycleHorizontal$1 = function (values, index, numRows, numCols, delta) {\n      return withGrid(values, index, numCols, function (oldRow, oldColumn) {\n        var onLastRow = oldRow === numRows - 1;\n        var colsInRow = onLastRow ? values.length - oldRow * numCols : numCols;\n        var newColumn = cycleBy(oldColumn, delta, 0, colsInRow - 1);\n        return Optional.some({\n          row: oldRow,\n          column: newColumn\n        });\n      });\n    };\n    var cycleVertical$1 = function (values, index, numRows, numCols, delta) {\n      return withGrid(values, index, numCols, function (oldRow, oldColumn) {\n        var newRow = cycleBy(oldRow, delta, 0, numRows - 1);\n        var onLastRow = newRow === numRows - 1;\n        var colsInRow = onLastRow ? values.length - newRow * numCols : numCols;\n        var newCol = clamp$1(oldColumn, 0, colsInRow - 1);\n        return Optional.some({\n          row: newRow,\n          column: newCol\n        });\n      });\n    };\n    var cycleRight$1 = function (values, index, numRows, numCols) {\n      return cycleHorizontal$1(values, index, numRows, numCols, +1);\n    };\n    var cycleLeft$1 = function (values, index, numRows, numCols) {\n      return cycleHorizontal$1(values, index, numRows, numCols, -1);\n    };\n    var cycleUp$1 = function (values, index, numRows, numCols) {\n      return cycleVertical$1(values, index, numRows, numCols, -1);\n    };\n    var cycleDown$1 = function (values, index, numRows, numCols) {\n      return cycleVertical$1(values, index, numRows, numCols, +1);\n    };\n\n    var schema$u = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('captureTab', false),\n      initSize()\n    ];\n    var focusIn$3 = function (component, gridConfig, _gridState) {\n      descendant(component.element, gridConfig.selector).each(function (first) {\n        gridConfig.focusManager.set(component, first);\n      });\n    };\n    var findCurrent$1 = function (component, gridConfig) {\n      return gridConfig.focusManager.get(component).bind(function (elem) {\n        return closest$1(elem, gridConfig.selector);\n      });\n    };\n    var execute$3 = function (component, simulatedEvent, gridConfig, _gridState) {\n      return findCurrent$1(component, gridConfig).bind(function (focused) {\n        return gridConfig.execute(component, simulatedEvent, focused);\n      });\n    };\n    var doMove$2 = function (cycle) {\n      return function (element, focused, gridConfig, gridState) {\n        return locateVisible(element, focused, gridConfig.selector).bind(function (identified) {\n          return cycle(identified.candidates, identified.index, gridState.getNumRows().getOr(gridConfig.initSize.numRows), gridState.getNumColumns().getOr(gridConfig.initSize.numColumns));\n        });\n      };\n    };\n    var handleTab = function (_component, _simulatedEvent, gridConfig) {\n      return gridConfig.captureTab ? Optional.some(true) : Optional.none();\n    };\n    var doEscape$1 = function (component, simulatedEvent, gridConfig) {\n      return gridConfig.onEscape(component, simulatedEvent);\n    };\n    var moveLeft$3 = doMove$2(cycleLeft$1);\n    var moveRight$3 = doMove$2(cycleRight$1);\n    var moveNorth$1 = doMove$2(cycleUp$1);\n    var moveSouth$1 = doMove$2(cycleDown$1);\n    var getKeydownRules$4 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft$3, moveRight$3)),\n      rule(inSet(RIGHT), east$1(moveLeft$3, moveRight$3)),\n      rule(inSet(UP), north$1(moveNorth$1)),\n      rule(inSet(DOWN), south$1(moveSouth$1)),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), handleTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), handleTab),\n      rule(inSet(ESCAPE), doEscape$1),\n      rule(inSet(SPACE.concat(ENTER)), execute$3)\n    ]);\n    var getKeyupRules$4 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var FlatgridType = typical(schema$u, flatgrid$1, getKeydownRules$4, getKeyupRules$4, function () {\n      return Optional.some(focusIn$3);\n    });\n\n    var horizontal = function (container, selector, current, delta) {\n      var isDisabledButton = function (candidate) {\n        return name$2(candidate) === 'button' && get$d(candidate, 'disabled') === 'disabled';\n      };\n      var tryCycle = function (initial, index, candidates) {\n        var newIndex = cycleBy(index, delta, 0, candidates.length - 1);\n        if (newIndex === initial) {\n          return Optional.none();\n        } else {\n          return isDisabledButton(candidates[newIndex]) ? tryCycle(initial, newIndex, candidates) : Optional.from(candidates[newIndex]);\n        }\n      };\n      return locateVisible(container, current, selector).bind(function (identified) {\n        var index = identified.index;\n        var candidates = identified.candidates;\n        return tryCycle(index, index, candidates);\n      });\n    };\n\n    var schema$t = [\n      required$1('selector'),\n      defaulted('getInitial', Optional.none),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('executeOnMove', false),\n      defaulted('allowVertical', true)\n    ];\n    var findCurrent = function (component, flowConfig) {\n      return flowConfig.focusManager.get(component).bind(function (elem) {\n        return closest$1(elem, flowConfig.selector);\n      });\n    };\n    var execute$2 = function (component, simulatedEvent, flowConfig) {\n      return findCurrent(component, flowConfig).bind(function (focused) {\n        return flowConfig.execute(component, simulatedEvent, focused);\n      });\n    };\n    var focusIn$2 = function (component, flowConfig, _state) {\n      flowConfig.getInitial(component).orThunk(function () {\n        return descendant(component.element, flowConfig.selector);\n      }).each(function (first) {\n        flowConfig.focusManager.set(component, first);\n      });\n    };\n    var moveLeft$2 = function (element, focused, info) {\n      return horizontal(element, info.selector, focused, -1);\n    };\n    var moveRight$2 = function (element, focused, info) {\n      return horizontal(element, info.selector, focused, +1);\n    };\n    var doMove$1 = function (movement) {\n      return function (component, simulatedEvent, flowConfig, flowState) {\n        return movement(component, simulatedEvent, flowConfig, flowState).bind(function () {\n          return flowConfig.executeOnMove ? execute$2(component, simulatedEvent, flowConfig) : Optional.some(true);\n        });\n      };\n    };\n    var doEscape = function (component, simulatedEvent, flowConfig) {\n      return flowConfig.onEscape(component, simulatedEvent);\n    };\n    var getKeydownRules$3 = function (_component, _se, flowConfig, _flowState) {\n      var westMovers = LEFT.concat(flowConfig.allowVertical ? UP : []);\n      var eastMovers = RIGHT.concat(flowConfig.allowVertical ? DOWN : []);\n      return [\n        rule(inSet(westMovers), doMove$1(west$1(moveLeft$2, moveRight$2))),\n        rule(inSet(eastMovers), doMove$1(east$1(moveLeft$2, moveRight$2))),\n        rule(inSet(ENTER), execute$2),\n        rule(inSet(SPACE), execute$2),\n        rule(inSet(ESCAPE), doEscape)\n      ];\n    };\n    var getKeyupRules$3 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var FlowType = typical(schema$t, NoState.init, getKeydownRules$3, getKeyupRules$3, function () {\n      return Optional.some(focusIn$2);\n    });\n\n    var toCell = function (matrix, rowIndex, columnIndex) {\n      return Optional.from(matrix[rowIndex]).bind(function (row) {\n        return Optional.from(row[columnIndex]).map(function (cell) {\n          return {\n            rowIndex: rowIndex,\n            columnIndex: columnIndex,\n            cell: cell\n          };\n        });\n      });\n    };\n    var cycleHorizontal = function (matrix, rowIndex, startCol, deltaCol) {\n      var row = matrix[rowIndex];\n      var colsInRow = row.length;\n      var newColIndex = cycleBy(startCol, deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    var cycleVertical = function (matrix, colIndex, startRow, deltaRow) {\n      var nextRowIndex = cycleBy(startRow, deltaRow, 0, matrix.length - 1);\n      var colsInNextRow = matrix[nextRowIndex].length;\n      var nextColIndex = clamp$1(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    var moveHorizontal = function (matrix, rowIndex, startCol, deltaCol) {\n      var row = matrix[rowIndex];\n      var colsInRow = row.length;\n      var newColIndex = clamp$1(startCol + deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    var moveVertical = function (matrix, colIndex, startRow, deltaRow) {\n      var nextRowIndex = clamp$1(startRow + deltaRow, 0, matrix.length - 1);\n      var colsInNextRow = matrix[nextRowIndex].length;\n      var nextColIndex = clamp$1(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    var cycleRight = function (matrix, startRow, startCol) {\n      return cycleHorizontal(matrix, startRow, startCol, +1);\n    };\n    var cycleLeft = function (matrix, startRow, startCol) {\n      return cycleHorizontal(matrix, startRow, startCol, -1);\n    };\n    var cycleUp = function (matrix, startRow, startCol) {\n      return cycleVertical(matrix, startCol, startRow, -1);\n    };\n    var cycleDown = function (matrix, startRow, startCol) {\n      return cycleVertical(matrix, startCol, startRow, +1);\n    };\n    var moveLeft$1 = function (matrix, startRow, startCol) {\n      return moveHorizontal(matrix, startRow, startCol, -1);\n    };\n    var moveRight$1 = function (matrix, startRow, startCol) {\n      return moveHorizontal(matrix, startRow, startCol, +1);\n    };\n    var moveUp$1 = function (matrix, startRow, startCol) {\n      return moveVertical(matrix, startCol, startRow, -1);\n    };\n    var moveDown$1 = function (matrix, startRow, startCol) {\n      return moveVertical(matrix, startCol, startRow, +1);\n    };\n\n    var schema$s = [\n      requiredObjOf('selectors', [\n        required$1('row'),\n        required$1('cell')\n      ]),\n      defaulted('cycles', true),\n      defaulted('previousSelector', Optional.none),\n      defaulted('execute', defaultExecute)\n    ];\n    var focusIn$1 = function (component, matrixConfig, _state) {\n      var focused = matrixConfig.previousSelector(component).orThunk(function () {\n        var selectors = matrixConfig.selectors;\n        return descendant(component.element, selectors.cell);\n      });\n      focused.each(function (cell) {\n        matrixConfig.focusManager.set(component, cell);\n      });\n    };\n    var execute$1 = function (component, simulatedEvent, matrixConfig) {\n      return search(component.element).bind(function (focused) {\n        return matrixConfig.execute(component, simulatedEvent, focused);\n      });\n    };\n    var toMatrix = function (rows, matrixConfig) {\n      return map$2(rows, function (row) {\n        return descendants(row, matrixConfig.selectors.cell);\n      });\n    };\n    var doMove = function (ifCycle, ifMove) {\n      return function (element, focused, matrixConfig) {\n        var move = matrixConfig.cycles ? ifCycle : ifMove;\n        return closest$1(focused, matrixConfig.selectors.row).bind(function (inRow) {\n          var cellsInRow = descendants(inRow, matrixConfig.selectors.cell);\n          return findIndex(cellsInRow, focused).bind(function (colIndex) {\n            var allRows = descendants(element, matrixConfig.selectors.row);\n            return findIndex(allRows, inRow).bind(function (rowIndex) {\n              var matrix = toMatrix(allRows, matrixConfig);\n              return move(matrix, rowIndex, colIndex).map(function (next) {\n                return next.cell;\n              });\n            });\n          });\n        });\n      };\n    };\n    var moveLeft = doMove(cycleLeft, moveLeft$1);\n    var moveRight = doMove(cycleRight, moveRight$1);\n    var moveNorth = doMove(cycleUp, moveUp$1);\n    var moveSouth = doMove(cycleDown, moveDown$1);\n    var getKeydownRules$2 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft, moveRight)),\n      rule(inSet(RIGHT), east$1(moveLeft, moveRight)),\n      rule(inSet(UP), north$1(moveNorth)),\n      rule(inSet(DOWN), south$1(moveSouth)),\n      rule(inSet(SPACE.concat(ENTER)), execute$1)\n    ]);\n    var getKeyupRules$2 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MatrixType = typical(schema$s, NoState.init, getKeydownRules$2, getKeyupRules$2, function () {\n      return Optional.some(focusIn$1);\n    });\n\n    var schema$r = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      defaulted('moveOnTab', false)\n    ];\n    var execute = function (component, simulatedEvent, menuConfig) {\n      return menuConfig.focusManager.get(component).bind(function (focused) {\n        return menuConfig.execute(component, simulatedEvent, focused);\n      });\n    };\n    var focusIn = function (component, menuConfig, _state) {\n      descendant(component.element, menuConfig.selector).each(function (first) {\n        menuConfig.focusManager.set(component, first);\n      });\n    };\n    var moveUp = function (element, focused, info) {\n      return horizontal(element, info.selector, focused, -1);\n    };\n    var moveDown = function (element, focused, info) {\n      return horizontal(element, info.selector, focused, +1);\n    };\n    var fireShiftTab = function (component, simulatedEvent, menuConfig, menuState) {\n      return menuConfig.moveOnTab ? move$1(moveUp)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    };\n    var fireTab = function (component, simulatedEvent, menuConfig, menuState) {\n      return menuConfig.moveOnTab ? move$1(moveDown)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    };\n    var getKeydownRules$1 = constant$1([\n      rule(inSet(UP), move$1(moveUp)),\n      rule(inSet(DOWN), move$1(moveDown)),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), fireShiftTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), fireTab),\n      rule(inSet(ENTER), execute),\n      rule(inSet(SPACE), execute)\n    ]);\n    var getKeyupRules$1 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MenuType = typical(schema$r, NoState.init, getKeydownRules$1, getKeyupRules$1, function () {\n      return Optional.some(focusIn);\n    });\n\n    var schema$q = [\n      onKeyboardHandler('onSpace'),\n      onKeyboardHandler('onEnter'),\n      onKeyboardHandler('onShiftEnter'),\n      onKeyboardHandler('onLeft'),\n      onKeyboardHandler('onRight'),\n      onKeyboardHandler('onTab'),\n      onKeyboardHandler('onShiftTab'),\n      onKeyboardHandler('onUp'),\n      onKeyboardHandler('onDown'),\n      onKeyboardHandler('onEscape'),\n      defaulted('stopSpaceKeyup', false),\n      option('focusIn')\n    ];\n    var getKeydownRules = function (component, simulatedEvent, specialInfo) {\n      return [\n        rule(inSet(SPACE), specialInfo.onSpace),\n        rule(and([\n          isNotShift,\n          inSet(ENTER)\n        ]), specialInfo.onEnter),\n        rule(and([\n          isShift,\n          inSet(ENTER)\n        ]), specialInfo.onShiftEnter),\n        rule(and([\n          isShift,\n          inSet(TAB)\n        ]), specialInfo.onShiftTab),\n        rule(and([\n          isNotShift,\n          inSet(TAB)\n        ]), specialInfo.onTab),\n        rule(inSet(UP), specialInfo.onUp),\n        rule(inSet(DOWN), specialInfo.onDown),\n        rule(inSet(LEFT), specialInfo.onLeft),\n        rule(inSet(RIGHT), specialInfo.onRight),\n        rule(inSet(SPACE), specialInfo.onSpace),\n        rule(inSet(ESCAPE), specialInfo.onEscape)\n      ];\n    };\n    var getKeyupRules = function (component, simulatedEvent, specialInfo) {\n      return specialInfo.stopSpaceKeyup ? [rule(inSet(SPACE), stopEventForFirefox)] : [];\n    };\n    var SpecialType = typical(schema$q, NoState.init, getKeydownRules, getKeyupRules, function (specialInfo) {\n      return specialInfo.focusIn;\n    });\n\n    var acyclic = AcyclicType.schema();\n    var cyclic = CyclicType.schema();\n    var flow = FlowType.schema();\n    var flatgrid = FlatgridType.schema();\n    var matrix = MatrixType.schema();\n    var execution = ExecutionType.schema();\n    var menu = MenuType.schema();\n    var special = SpecialType.schema();\n\n    var KeyboardBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        acyclic: acyclic,\n        cyclic: cyclic,\n        flow: flow,\n        flatgrid: flatgrid,\n        matrix: matrix,\n        execution: execution,\n        menu: menu,\n        special: special\n    });\n\n    var isFlatgridState = function (keyState) {\n      return hasNonNullableKey(keyState, 'setGridSize');\n    };\n    var Keying = createModes({\n      branchKey: 'mode',\n      branches: KeyboardBranches,\n      name: 'keying',\n      active: {\n        events: function (keyingConfig, keyingState) {\n          var handler = keyingConfig.handler;\n          return handler.toEvents(keyingConfig, keyingState);\n        }\n      },\n      apis: {\n        focusIn: function (component, keyConfig, keyState) {\n          keyConfig.sendFocusIn(keyConfig).fold(function () {\n            component.getSystem().triggerFocus(component.element, component.element);\n          }, function (sendFocusIn) {\n            sendFocusIn(component, keyConfig, keyState);\n          });\n        },\n        setGridSize: function (component, keyConfig, keyState, numRows, numColumns) {\n          if (!isFlatgridState(keyState)) {\n            console.error('Layout does not support setGridSize');\n          } else {\n            keyState.setGridSize(numRows, numColumns);\n          }\n        }\n      },\n      state: KeyingState\n    });\n\n    var set$2 = function (component, replaceConfig, replaceState, data) {\n      preserve$1(function () {\n        var newChildren = map$2(data, component.getSystem().build);\n        replaceChildren(component, newChildren);\n      }, component.element);\n    };\n    var insert = function (component, replaceConfig, insertion, childSpec) {\n      var child = component.getSystem().build(childSpec);\n      attachWith(component, child, insertion);\n    };\n    var append = function (component, replaceConfig, replaceState, appendee) {\n      insert(component, replaceConfig, append$2, appendee);\n    };\n    var prepend = function (component, replaceConfig, replaceState, prependee) {\n      insert(component, replaceConfig, prepend$1, prependee);\n    };\n    var remove = function (component, replaceConfig, replaceState, removee) {\n      var children = contents(component);\n      var foundChild = find$5(children, function (child) {\n        return eq(removee.element, child.element);\n      });\n      foundChild.each(detach);\n    };\n    var contents = function (component, _replaceConfig) {\n      return component.components();\n    };\n    var replaceAt = function (component, replaceConfig, replaceState, replaceeIndex, replacer) {\n      var children = contents(component);\n      return Optional.from(children[replaceeIndex]).map(function (replacee) {\n        remove(component, replaceConfig, replaceState, replacee);\n        replacer.each(function (r) {\n          insert(component, replaceConfig, function (p, c) {\n            appendAt(p, c, replaceeIndex);\n          }, r);\n        });\n        return replacee;\n      });\n    };\n    var replaceBy = function (component, replaceConfig, replaceState, replaceePred, replacer) {\n      var children = contents(component);\n      return findIndex$1(children, replaceePred).bind(function (replaceeIndex) {\n        return replaceAt(component, replaceConfig, replaceState, replaceeIndex, replacer);\n      });\n    };\n\n    var ReplaceApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        append: append,\n        prepend: prepend,\n        remove: remove,\n        replaceAt: replaceAt,\n        replaceBy: replaceBy,\n        set: set$2,\n        contents: contents\n    });\n\n    var Replacing = create$7({\n      fields: [],\n      name: 'replacing',\n      apis: ReplaceApis\n    });\n\n    var events$d = function (name, eventHandlers) {\n      var events = derive$2(eventHandlers);\n      return create$7({\n        fields: [required$1('enabled')],\n        name: name,\n        active: { events: constant$1(events) }\n      });\n    };\n    var config = function (name, eventHandlers) {\n      var me = events$d(name, eventHandlers);\n      return {\n        key: name,\n        value: {\n          config: {},\n          me: me,\n          configAsRaw: constant$1({}),\n          initialConfig: {},\n          state: NoState\n        }\n      };\n    };\n\n    var focus$2 = function (component, focusConfig) {\n      if (!focusConfig.ignore) {\n        focus$3(component.element);\n        focusConfig.onFocus(component);\n      }\n    };\n    var blur = function (component, focusConfig) {\n      if (!focusConfig.ignore) {\n        blur$1(component.element);\n      }\n    };\n    var isFocused = function (component) {\n      return hasFocus(component.element);\n    };\n\n    var FocusApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        focus: focus$2,\n        blur: blur,\n        isFocused: isFocused\n    });\n\n    var exhibit$4 = function (base, focusConfig) {\n      var mod = focusConfig.ignore ? {} : { attributes: { tabindex: '-1' } };\n      return nu$7(mod);\n    };\n    var events$c = function (focusConfig) {\n      return derive$2([run$1(focus$4(), function (component, simulatedEvent) {\n          focus$2(component, focusConfig);\n          simulatedEvent.stop();\n        })].concat(focusConfig.stopMousedown ? [run$1(mousedown(), function (_, simulatedEvent) {\n          simulatedEvent.event.prevent();\n        })] : []));\n    };\n\n    var ActiveFocus = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$4,\n        events: events$c\n    });\n\n    var FocusSchema = [\n      onHandler('onFocus'),\n      defaulted('stopMousedown', false),\n      defaulted('ignore', false)\n    ];\n\n    var Focusing = create$7({\n      fields: FocusSchema,\n      name: 'focusing',\n      active: ActiveFocus,\n      apis: FocusApis\n    });\n\n    var SetupBehaviourCellState = function (initialState) {\n      var init = function () {\n        var cell = Cell(initialState);\n        var get = function () {\n          return cell.get();\n        };\n        var set = function (newState) {\n          return cell.set(newState);\n        };\n        var clear = function () {\n          return cell.set(initialState);\n        };\n        var readState = function () {\n          return cell.get();\n        };\n        return {\n          get: get,\n          set: set,\n          clear: clear,\n          readState: readState\n        };\n      };\n      return { init: init };\n    };\n\n    var updateAriaState = function (component, toggleConfig, toggleState) {\n      var ariaInfo = toggleConfig.aria;\n      ariaInfo.update(component, ariaInfo, toggleState.get());\n    };\n    var updateClass = function (component, toggleConfig, toggleState) {\n      toggleConfig.toggleClass.each(function (toggleClass) {\n        if (toggleState.get()) {\n          add$2(component.element, toggleClass);\n        } else {\n          remove$2(component.element, toggleClass);\n        }\n      });\n    };\n    var toggle$2 = function (component, toggleConfig, toggleState) {\n      set$1(component, toggleConfig, toggleState, !toggleState.get());\n    };\n    var on = function (component, toggleConfig, toggleState) {\n      toggleState.set(true);\n      updateClass(component, toggleConfig, toggleState);\n      updateAriaState(component, toggleConfig, toggleState);\n    };\n    var off = function (component, toggleConfig, toggleState) {\n      toggleState.set(false);\n      updateClass(component, toggleConfig, toggleState);\n      updateAriaState(component, toggleConfig, toggleState);\n    };\n    var set$1 = function (component, toggleConfig, toggleState, state) {\n      var action = state ? on : off;\n      action(component, toggleConfig, toggleState);\n    };\n    var isOn = function (component, toggleConfig, toggleState) {\n      return toggleState.get();\n    };\n    var onLoad = function (component, toggleConfig, toggleState) {\n      set$1(component, toggleConfig, toggleState, toggleConfig.selected);\n    };\n\n    var ToggleApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad,\n        toggle: toggle$2,\n        isOn: isOn,\n        on: on,\n        off: off,\n        set: set$1\n    });\n\n    var exhibit$3 = function () {\n      return nu$7({});\n    };\n    var events$b = function (toggleConfig, toggleState) {\n      var execute = executeEvent(toggleConfig, toggleState, toggle$2);\n      var load = loadEvent(toggleConfig, toggleState, onLoad);\n      return derive$2(flatten([\n        toggleConfig.toggleOnExecute ? [execute] : [],\n        [load]\n      ]));\n    };\n\n    var ActiveToggle = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$3,\n        events: events$b\n    });\n\n    var updatePressed = function (component, ariaInfo, status) {\n      set$8(component.element, 'aria-pressed', status);\n      if (ariaInfo.syncWithExpanded) {\n        updateExpanded(component, ariaInfo, status);\n      }\n    };\n    var updateSelected = function (component, ariaInfo, status) {\n      set$8(component.element, 'aria-selected', status);\n    };\n    var updateChecked = function (component, ariaInfo, status) {\n      set$8(component.element, 'aria-checked', status);\n    };\n    var updateExpanded = function (component, ariaInfo, status) {\n      set$8(component.element, 'aria-expanded', status);\n    };\n\n    var ToggleSchema = [\n      defaulted('selected', false),\n      option('toggleClass'),\n      defaulted('toggleOnExecute', true),\n      defaultedOf('aria', { mode: 'none' }, choose$1('mode', {\n        pressed: [\n          defaulted('syncWithExpanded', false),\n          output$1('update', updatePressed)\n        ],\n        checked: [output$1('update', updateChecked)],\n        expanded: [output$1('update', updateExpanded)],\n        selected: [output$1('update', updateSelected)],\n        none: [output$1('update', noop)]\n      }))\n    ];\n\n    var Toggling = create$7({\n      fields: ToggleSchema,\n      name: 'toggling',\n      active: ActiveToggle,\n      apis: ToggleApis,\n      state: SetupBehaviourCellState(false)\n    });\n\n    var pointerEvents = function () {\n      var onClick = function (component, simulatedEvent) {\n        simulatedEvent.stop();\n        emitExecute(component);\n      };\n      return [\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        cutter(touchstart()),\n        cutter(mousedown())\n      ];\n    };\n    var events$a = function (optAction) {\n      var executeHandler = function (action) {\n        return runOnExecute$1(function (component, simulatedEvent) {\n          action(component);\n          simulatedEvent.stop();\n        });\n      };\n      return derive$2(flatten([\n        optAction.map(executeHandler).toArray(),\n        pointerEvents()\n      ]));\n    };\n\n    var hoverEvent = 'alloy.item-hover';\n    var focusEvent = 'alloy.item-focus';\n    var onHover = function (item) {\n      if (search(item.element).isNone() || Focusing.isFocused(item)) {\n        if (!Focusing.isFocused(item)) {\n          Focusing.focus(item);\n        }\n        emitWith(item, hoverEvent, { item: item });\n      }\n    };\n    var onFocus$1 = function (item) {\n      emitWith(item, focusEvent, { item: item });\n    };\n    var hover = constant$1(hoverEvent);\n    var focus$1 = constant$1(focusEvent);\n\n    var builder$2 = function (detail) {\n      return {\n        dom: detail.dom,\n        domModification: __assign(__assign({}, detail.domModification), { attributes: __assign(__assign(__assign({ 'role': detail.toggling.isSome() ? 'menuitemcheckbox' : 'menuitem' }, detail.domModification.attributes), { 'aria-haspopup': detail.hasSubmenu }), detail.hasSubmenu ? { 'aria-expanded': false } : {}) }),\n        behaviours: SketchBehaviours.augment(detail.itemBehaviours, [\n          detail.toggling.fold(Toggling.revoke, function (tConfig) {\n            return Toggling.config(__assign({ aria: { mode: 'checked' } }, tConfig));\n          }),\n          Focusing.config({\n            ignore: detail.ignoreFocus,\n            stopMousedown: detail.ignoreFocus,\n            onFocus: function (component) {\n              onFocus$1(component);\n            }\n          }),\n          Keying.config({ mode: 'execution' }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.data\n            }\n          }),\n          config('item-type-events', __spreadArray(__spreadArray([], pointerEvents(), true), [\n            run$1(mouseover(), onHover),\n            run$1(focusItem(), Focusing.focus)\n          ], false))\n        ]),\n        components: detail.components,\n        eventOrder: detail.eventOrder\n      };\n    };\n    var schema$p = [\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('hasSubmenu', false),\n      option('toggling'),\n      SketchBehaviours.field('itemBehaviours', [\n        Toggling,\n        Focusing,\n        Keying,\n        Representing\n      ]),\n      defaulted('ignoreFocus', false),\n      defaulted('domModification', {}),\n      output$1('builder', builder$2),\n      defaulted('eventOrder', {})\n    ];\n\n    var builder$1 = function (detail) {\n      return {\n        dom: detail.dom,\n        components: detail.components,\n        events: derive$2([stopper(focusItem())])\n      };\n    };\n    var schema$o = [\n      required$1('dom'),\n      required$1('components'),\n      output$1('builder', builder$1)\n    ];\n\n    var owner$2 = constant$1('item-widget');\n    var parts$h = constant$1([required({\n        name: 'widget',\n        overrides: function (detail) {\n          return {\n            behaviours: derive$1([Representing.config({\n                store: {\n                  mode: 'manual',\n                  getValue: function (_component) {\n                    return detail.data;\n                  },\n                  setValue: noop\n                }\n              })])\n          };\n        }\n      })]);\n\n    var builder = function (detail) {\n      var subs = substitutes(owner$2(), detail, parts$h());\n      var components = components$1(owner$2(), detail, subs.internals());\n      var focusWidget = function (component) {\n        return getPart(component, detail, 'widget').map(function (widget) {\n          Keying.focusIn(widget);\n          return widget;\n        });\n      };\n      var onHorizontalArrow = function (component, simulatedEvent) {\n        return inside(simulatedEvent.event.target) ? Optional.none() : function () {\n          if (detail.autofocus) {\n            simulatedEvent.setSource(component.element);\n            return Optional.none();\n          } else {\n            return Optional.none();\n          }\n        }();\n      };\n      return {\n        dom: detail.dom,\n        components: components,\n        domModification: detail.domModification,\n        events: derive$2([\n          runOnExecute$1(function (component, simulatedEvent) {\n            focusWidget(component).each(function (_widget) {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(mouseover(), onHover),\n          run$1(focusItem(), function (component, _simulatedEvent) {\n            if (detail.autofocus) {\n              focusWidget(component);\n            } else {\n              Focusing.focus(component);\n            }\n          })\n        ]),\n        behaviours: SketchBehaviours.augment(detail.widgetBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.data\n            }\n          }),\n          Focusing.config({\n            ignore: detail.ignoreFocus,\n            onFocus: function (component) {\n              onFocus$1(component);\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            focusIn: detail.autofocus ? function (component) {\n              focusWidget(component);\n            } : revoke(),\n            onLeft: onHorizontalArrow,\n            onRight: onHorizontalArrow,\n            onEscape: function (component, simulatedEvent) {\n              if (!Focusing.isFocused(component) && !detail.autofocus) {\n                Focusing.focus(component);\n                return Optional.some(true);\n              } else if (detail.autofocus) {\n                simulatedEvent.setSource(component.element);\n                return Optional.none();\n              } else {\n                return Optional.none();\n              }\n            }\n          })\n        ])\n      };\n    };\n    var schema$n = [\n      required$1('uid'),\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('autofocus', false),\n      defaulted('ignoreFocus', false),\n      SketchBehaviours.field('widgetBehaviours', [\n        Representing,\n        Focusing,\n        Keying\n      ]),\n      defaulted('domModification', {}),\n      defaultUidsSchema(parts$h()),\n      output$1('builder', builder)\n    ];\n\n    var itemSchema$2 = choose$1('type', {\n      widget: schema$n,\n      item: schema$p,\n      separator: schema$o\n    });\n    var configureGrid = function (detail, movementInfo) {\n      return {\n        mode: 'flatgrid',\n        selector: '.' + detail.markers.item,\n        initSize: {\n          numColumns: movementInfo.initSize.numColumns,\n          numRows: movementInfo.initSize.numRows\n        },\n        focusManager: detail.focusManager\n      };\n    };\n    var configureMatrix = function (detail, movementInfo) {\n      return {\n        mode: 'matrix',\n        selectors: {\n          row: movementInfo.rowSelector,\n          cell: '.' + detail.markers.item\n        },\n        focusManager: detail.focusManager\n      };\n    };\n    var configureMenu = function (detail, movementInfo) {\n      return {\n        mode: 'menu',\n        selector: '.' + detail.markers.item,\n        moveOnTab: movementInfo.moveOnTab,\n        focusManager: detail.focusManager\n      };\n    };\n    var parts$g = constant$1([group({\n        factory: {\n          sketch: function (spec) {\n            var itemInfo = asRawOrDie$1('menu.spec item', itemSchema$2, spec);\n            return itemInfo.builder(itemInfo);\n          }\n        },\n        name: 'items',\n        unit: 'item',\n        defaults: function (detail, u) {\n          return has$2(u, 'uid') ? u : __assign(__assign({}, u), { uid: generate$5('item') });\n        },\n        overrides: function (detail, u) {\n          return {\n            type: u.type,\n            ignoreFocus: detail.fakeFocus,\n            domModification: { classes: [detail.markers.item] }\n          };\n        }\n      })]);\n    var schema$m = constant$1([\n      required$1('value'),\n      required$1('items'),\n      required$1('dom'),\n      required$1('components'),\n      defaulted('eventOrder', {}),\n      field('menuBehaviours', [\n        Highlighting,\n        Representing,\n        Composing,\n        Keying\n      ]),\n      defaultedOf('movement', {\n        mode: 'menu',\n        moveOnTab: true\n      }, choose$1('mode', {\n        grid: [\n          initSize(),\n          output$1('config', configureGrid)\n        ],\n        matrix: [\n          output$1('config', configureMatrix),\n          required$1('rowSelector')\n        ],\n        menu: [\n          defaulted('moveOnTab', true),\n          output$1('config', configureMenu)\n        ]\n      })),\n      itemMarkers(),\n      defaulted('fakeFocus', false),\n      defaulted('focusManager', dom$2()),\n      onHandler('onHighlight')\n    ]);\n\n    var focus = constant$1('alloy.menu-focus');\n\n    var make$7 = function (detail, components, _spec, _externals) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        markers: detail.markers,\n        behaviours: augment(detail.menuBehaviours, [\n          Highlighting.config({\n            highlightClass: detail.markers.selectedItem,\n            itemClass: detail.markers.item,\n            onHighlight: detail.onHighlight\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.value\n            }\n          }),\n          Composing.config({ find: Optional.some }),\n          Keying.config(detail.movement.config(detail, detail.movement))\n        ]),\n        events: derive$2([\n          run$1(focus$1(), function (menu, simulatedEvent) {\n            var event = simulatedEvent.event;\n            menu.getSystem().getByDom(event.target).each(function (item) {\n              Highlighting.highlight(menu, item);\n              simulatedEvent.stop();\n              emitWith(menu, focus(), {\n                menu: menu,\n                item: item\n              });\n            });\n          }),\n          run$1(hover(), function (menu, simulatedEvent) {\n            var item = simulatedEvent.event.item;\n            Highlighting.highlight(menu, item);\n          })\n        ]),\n        components: components,\n        eventOrder: detail.eventOrder,\n        domModification: { attributes: { role: 'menu' } }\n      };\n    };\n\n    var Menu = composite({\n      name: 'Menu',\n      configFields: schema$m(),\n      partFields: parts$g(),\n      factory: make$7\n    });\n\n    var transpose$1 = function (obj) {\n      return tupleMap(obj, function (v, k) {\n        return {\n          k: v,\n          v: k\n        };\n      });\n    };\n    var trace = function (items, byItem, byMenu, finish) {\n      return get$e(byMenu, finish).bind(function (triggerItem) {\n        return get$e(items, triggerItem).bind(function (triggerMenu) {\n          var rest = trace(items, byItem, byMenu, triggerMenu);\n          return Optional.some([triggerMenu].concat(rest));\n        });\n      }).getOr([]);\n    };\n    var generate$2 = function (menus, expansions) {\n      var items = {};\n      each(menus, function (menuItems, menu) {\n        each$1(menuItems, function (item) {\n          items[item] = menu;\n        });\n      });\n      var byItem = expansions;\n      var byMenu = transpose$1(expansions);\n      var menuPaths = map$1(byMenu, function (_triggerItem, submenu) {\n        return [submenu].concat(trace(items, byItem, byMenu, submenu));\n      });\n      return map$1(items, function (menu) {\n        return get$e(menuPaths, menu).getOr([menu]);\n      });\n    };\n\n    var init$c = function () {\n      var expansions = Cell({});\n      var menus = Cell({});\n      var paths = Cell({});\n      var primary = value$1();\n      var directory = Cell({});\n      var clear = function () {\n        expansions.set({});\n        menus.set({});\n        paths.set({});\n        primary.clear();\n      };\n      var isClear = function () {\n        return primary.get().isNone();\n      };\n      var setMenuBuilt = function (menuName, built) {\n        var _a;\n        menus.set(__assign(__assign({}, menus.get()), (_a = {}, _a[menuName] = {\n          type: 'prepared',\n          menu: built\n        }, _a)));\n      };\n      var setContents = function (sPrimary, sMenus, sExpansions, dir) {\n        primary.set(sPrimary);\n        expansions.set(sExpansions);\n        menus.set(sMenus);\n        directory.set(dir);\n        var sPaths = generate$2(dir, sExpansions);\n        paths.set(sPaths);\n      };\n      var getTriggeringItem = function (menuValue) {\n        return find$4(expansions.get(), function (v, _k) {\n          return v === menuValue;\n        });\n      };\n      var getTriggerData = function (menuValue, getItemByValue, path) {\n        return getPreparedMenu(menuValue).bind(function (menu) {\n          return getTriggeringItem(menuValue).bind(function (triggeringItemValue) {\n            return getItemByValue(triggeringItemValue).map(function (triggeredItem) {\n              return {\n                triggeredMenu: menu,\n                triggeringItem: triggeredItem,\n                triggeringPath: path\n              };\n            });\n          });\n        });\n      };\n      var getTriggeringPath = function (itemValue, getItemByValue) {\n        var extraPath = filter$2(lookupItem(itemValue).toArray(), function (menuValue) {\n          return getPreparedMenu(menuValue).isSome();\n        });\n        return get$e(paths.get(), itemValue).bind(function (path) {\n          var revPath = reverse(extraPath.concat(path));\n          var triggers = bind$3(revPath, function (menuValue, menuIndex) {\n            return getTriggerData(menuValue, getItemByValue, revPath.slice(0, menuIndex + 1)).fold(function () {\n              return is$1(primary.get(), menuValue) ? [] : [Optional.none()];\n            }, function (data) {\n              return [Optional.some(data)];\n            });\n          });\n          return sequence(triggers);\n        });\n      };\n      var expand = function (itemValue) {\n        return get$e(expansions.get(), itemValue).map(function (menu) {\n          var current = get$e(paths.get(), itemValue).getOr([]);\n          return [menu].concat(current);\n        });\n      };\n      var collapse = function (itemValue) {\n        return get$e(paths.get(), itemValue).bind(function (path) {\n          return path.length > 1 ? Optional.some(path.slice(1)) : Optional.none();\n        });\n      };\n      var refresh = function (itemValue) {\n        return get$e(paths.get(), itemValue);\n      };\n      var getPreparedMenu = function (menuValue) {\n        return lookupMenu(menuValue).bind(extractPreparedMenu);\n      };\n      var lookupMenu = function (menuValue) {\n        return get$e(menus.get(), menuValue);\n      };\n      var lookupItem = function (itemValue) {\n        return get$e(expansions.get(), itemValue);\n      };\n      var otherMenus = function (path) {\n        var menuValues = directory.get();\n        return difference(keys(menuValues), path);\n      };\n      var getPrimary = function () {\n        return primary.get().bind(getPreparedMenu);\n      };\n      var getMenus = function () {\n        return menus.get();\n      };\n      return {\n        setMenuBuilt: setMenuBuilt,\n        setContents: setContents,\n        expand: expand,\n        refresh: refresh,\n        collapse: collapse,\n        lookupMenu: lookupMenu,\n        lookupItem: lookupItem,\n        otherMenus: otherMenus,\n        getPrimary: getPrimary,\n        getMenus: getMenus,\n        clear: clear,\n        isClear: isClear,\n        getTriggeringPath: getTriggeringPath\n      };\n    };\n    var extractPreparedMenu = function (prep) {\n      return prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none();\n    };\n    var LayeredState = {\n      init: init$c,\n      extractPreparedMenu: extractPreparedMenu\n    };\n\n    var make$6 = function (detail, _rawUiSpec) {\n      var submenuParentItems = value$1();\n      var buildMenus = function (container, primaryName, menus) {\n        return map$1(menus, function (spec, name) {\n          var makeSketch = function () {\n            return Menu.sketch(__assign(__assign({}, spec), {\n              value: name,\n              markers: detail.markers,\n              fakeFocus: detail.fakeFocus,\n              onHighlight: detail.onHighlight,\n              focusManager: detail.fakeFocus ? highlights() : dom$2()\n            }));\n          };\n          return name === primaryName ? {\n            type: 'prepared',\n            menu: container.getSystem().build(makeSketch())\n          } : {\n            type: 'notbuilt',\n            nbMenu: makeSketch\n          };\n        });\n      };\n      var layeredState = LayeredState.init();\n      var setup = function (container) {\n        var componentMap = buildMenus(container, detail.data.primary, detail.data.menus);\n        var directory = toDirectory();\n        layeredState.setContents(detail.data.primary, componentMap, detail.data.expansions, directory);\n        return layeredState.getPrimary();\n      };\n      var getItemValue = function (item) {\n        return Representing.getValue(item).value;\n      };\n      var getItemByValue = function (_container, menus, itemValue) {\n        return findMap(menus, function (menu) {\n          if (!menu.getSystem().isConnected()) {\n            return Optional.none();\n          }\n          var candidates = Highlighting.getCandidates(menu);\n          return find$5(candidates, function (c) {\n            return getItemValue(c) === itemValue;\n          });\n        });\n      };\n      var toDirectory = function (_container) {\n        return map$1(detail.data.menus, function (data, _menuName) {\n          return bind$3(data.items, function (item) {\n            return item.type === 'separator' ? [] : [item.data.value];\n          });\n        });\n      };\n      var setActiveMenu = function (container, menu) {\n        Highlighting.highlight(container, menu);\n        Highlighting.getHighlighted(menu).orThunk(function () {\n          return Highlighting.getFirst(menu);\n        }).each(function (item) {\n          dispatch(container, item.element, focusItem());\n        });\n      };\n      var getMenus = function (state, menuValues) {\n        return cat(map$2(menuValues, function (mv) {\n          return state.lookupMenu(mv).bind(function (prep) {\n            return prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none();\n          });\n        }));\n      };\n      var closeOthers = function (container, state, path) {\n        var others = getMenus(state, state.otherMenus(path));\n        each$1(others, function (o) {\n          remove$1(o.element, [detail.markers.backgroundMenu]);\n          if (!detail.stayInDom) {\n            Replacing.remove(container, o);\n          }\n        });\n      };\n      var getSubmenuParents = function (container) {\n        return submenuParentItems.get().getOrThunk(function () {\n          var r = {};\n          var items = descendants(container.element, '.' + detail.markers.item);\n          var parentItems = filter$2(items, function (i) {\n            return get$d(i, 'aria-haspopup') === 'true';\n          });\n          each$1(parentItems, function (i) {\n            container.getSystem().getByDom(i).each(function (itemComp) {\n              var key = getItemValue(itemComp);\n              r[key] = itemComp;\n            });\n          });\n          submenuParentItems.set(r);\n          return r;\n        });\n      };\n      var updateAriaExpansions = function (container, path) {\n        var parentItems = getSubmenuParents(container);\n        each(parentItems, function (v, k) {\n          var expanded = contains$2(path, k);\n          set$8(v.element, 'aria-expanded', expanded);\n        });\n      };\n      var updateMenuPath = function (container, state, path) {\n        return Optional.from(path[0]).bind(function (latestMenuName) {\n          return state.lookupMenu(latestMenuName).bind(function (menuPrep) {\n            if (menuPrep.type === 'notbuilt') {\n              return Optional.none();\n            } else {\n              var activeMenu = menuPrep.menu;\n              var rest = getMenus(state, path.slice(1));\n              each$1(rest, function (r) {\n                add$2(r.element, detail.markers.backgroundMenu);\n              });\n              if (!inBody(activeMenu.element)) {\n                Replacing.append(container, premade(activeMenu));\n              }\n              remove$1(activeMenu.element, [detail.markers.backgroundMenu]);\n              setActiveMenu(container, activeMenu);\n              closeOthers(container, state, path);\n              return Optional.some(activeMenu);\n            }\n          });\n        });\n      };\n      var ExpandHighlightDecision;\n      (function (ExpandHighlightDecision) {\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightSubmenu'] = 0] = 'HighlightSubmenu';\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightParent'] = 1] = 'HighlightParent';\n      }(ExpandHighlightDecision || (ExpandHighlightDecision = {})));\n      var buildIfRequired = function (container, menuName, menuPrep) {\n        if (menuPrep.type === 'notbuilt') {\n          var menu = container.getSystem().build(menuPrep.nbMenu());\n          layeredState.setMenuBuilt(menuName, menu);\n          return menu;\n        } else {\n          return menuPrep.menu;\n        }\n      };\n      var expandRight = function (container, item, decision) {\n        if (decision === void 0) {\n          decision = ExpandHighlightDecision.HighlightSubmenu;\n        }\n        if (item.hasConfigured(Disabling) && Disabling.isDisabled(item)) {\n          return Optional.some(item);\n        } else {\n          var value = getItemValue(item);\n          return layeredState.expand(value).bind(function (path) {\n            updateAriaExpansions(container, path);\n            return Optional.from(path[0]).bind(function (menuName) {\n              return layeredState.lookupMenu(menuName).bind(function (activeMenuPrep) {\n                var activeMenu = buildIfRequired(container, menuName, activeMenuPrep);\n                if (!inBody(activeMenu.element)) {\n                  Replacing.append(container, premade(activeMenu));\n                }\n                detail.onOpenSubmenu(container, item, activeMenu, reverse(path));\n                if (decision === ExpandHighlightDecision.HighlightSubmenu) {\n                  Highlighting.highlightFirst(activeMenu);\n                  return updateMenuPath(container, layeredState, path);\n                } else {\n                  Highlighting.dehighlightAll(activeMenu);\n                  return Optional.some(item);\n                }\n              });\n            });\n          });\n        }\n      };\n      var collapseLeft = function (container, item) {\n        var value = getItemValue(item);\n        return layeredState.collapse(value).bind(function (path) {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path).map(function (activeMenu) {\n            detail.onCollapseMenu(container, item, activeMenu);\n            return activeMenu;\n          });\n        });\n      };\n      var updateView = function (container, item) {\n        var value = getItemValue(item);\n        return layeredState.refresh(value).bind(function (path) {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path);\n        });\n      };\n      var onRight = function (container, item) {\n        return inside(item.element) ? Optional.none() : expandRight(container, item, ExpandHighlightDecision.HighlightSubmenu);\n      };\n      var onLeft = function (container, item) {\n        return inside(item.element) ? Optional.none() : collapseLeft(container, item);\n      };\n      var onEscape = function (container, item) {\n        return collapseLeft(container, item).orThunk(function () {\n          return detail.onEscape(container, item).map(function () {\n            return container;\n          });\n        });\n      };\n      var keyOnItem = function (f) {\n        return function (container, simulatedEvent) {\n          return closest$1(simulatedEvent.getSource(), '.' + detail.markers.item).bind(function (target) {\n            return container.getSystem().getByDom(target).toOptional().bind(function (item) {\n              return f(container, item).map(always);\n            });\n          });\n        };\n      };\n      var events = derive$2([\n        run$1(focus(), function (sandbox, simulatedEvent) {\n          var item = simulatedEvent.event.item;\n          layeredState.lookupItem(getItemValue(item)).each(function () {\n            var menu = simulatedEvent.event.menu;\n            Highlighting.highlight(sandbox, menu);\n            var value = getItemValue(simulatedEvent.event.item);\n            layeredState.refresh(value).each(function (path) {\n              return closeOthers(sandbox, layeredState, path);\n            });\n          });\n        }),\n        runOnExecute$1(function (component, simulatedEvent) {\n          var target = simulatedEvent.event.target;\n          component.getSystem().getByDom(target).each(function (item) {\n            var itemValue = getItemValue(item);\n            if (itemValue.indexOf('collapse-item') === 0) {\n              collapseLeft(component, item);\n            }\n            expandRight(component, item, ExpandHighlightDecision.HighlightSubmenu).fold(function () {\n              detail.onExecute(component, item);\n            }, noop);\n          });\n        }),\n        runOnAttached(function (container, _simulatedEvent) {\n          setup(container).each(function (primary) {\n            Replacing.append(container, premade(primary));\n            detail.onOpenMenu(container, primary);\n            if (detail.highlightImmediately) {\n              setActiveMenu(container, primary);\n            }\n          });\n        })\n      ].concat(detail.navigateOnHover ? [run$1(hover(), function (sandbox, simulatedEvent) {\n          var item = simulatedEvent.event.item;\n          updateView(sandbox, item);\n          expandRight(sandbox, item, ExpandHighlightDecision.HighlightParent);\n          detail.onHover(sandbox, item);\n        })] : []));\n      var getActiveItem = function (container) {\n        return Highlighting.getHighlighted(container).bind(Highlighting.getHighlighted);\n      };\n      var collapseMenuApi = function (container) {\n        getActiveItem(container).each(function (currentItem) {\n          collapseLeft(container, currentItem);\n        });\n      };\n      var highlightPrimary = function (container) {\n        layeredState.getPrimary().each(function (primary) {\n          setActiveMenu(container, primary);\n        });\n      };\n      var extractMenuFromContainer = function (container) {\n        return Optional.from(container.components()[0]).filter(function (comp) {\n          return get$d(comp.element, 'role') === 'menu';\n        });\n      };\n      var repositionMenus = function (container) {\n        var maybeActivePrimary = layeredState.getPrimary().bind(function (primary) {\n          return getActiveItem(container).bind(function (currentItem) {\n            var itemValue = getItemValue(currentItem);\n            var allMenus = values(layeredState.getMenus());\n            var preparedMenus = cat(map$2(allMenus, LayeredState.extractPreparedMenu));\n            return layeredState.getTriggeringPath(itemValue, function (v) {\n              return getItemByValue(container, preparedMenus, v);\n            });\n          }).map(function (triggeringPath) {\n            return {\n              primary: primary,\n              triggeringPath: triggeringPath\n            };\n          });\n        });\n        maybeActivePrimary.fold(function () {\n          extractMenuFromContainer(container).each(function (primaryMenu) {\n            detail.onRepositionMenu(container, primaryMenu, []);\n          });\n        }, function (_a) {\n          var primary = _a.primary, triggeringPath = _a.triggeringPath;\n          detail.onRepositionMenu(container, primary, triggeringPath);\n        });\n      };\n      var apis = {\n        collapseMenu: collapseMenuApi,\n        highlightPrimary: highlightPrimary,\n        repositionMenus: repositionMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        markers: detail.markers,\n        behaviours: augment(detail.tmenuBehaviours, [\n          Keying.config({\n            mode: 'special',\n            onRight: keyOnItem(onRight),\n            onLeft: keyOnItem(onLeft),\n            onEscape: keyOnItem(onEscape),\n            focusIn: function (container, _keyInfo) {\n              layeredState.getPrimary().each(function (primary) {\n                dispatch(container, primary.element, focusItem());\n              });\n            }\n          }),\n          Highlighting.config({\n            highlightClass: detail.markers.selectedMenu,\n            itemClass: detail.markers.menu\n          }),\n          Composing.config({\n            find: function (container) {\n              return Highlighting.getHighlighted(container);\n            }\n          }),\n          Replacing.config({})\n        ]),\n        eventOrder: detail.eventOrder,\n        apis: apis,\n        events: events\n      };\n    };\n    var collapseItem$1 = constant$1('collapse-item');\n\n    var tieredData = function (primary, menus, expansions) {\n      return {\n        primary: primary,\n        menus: menus,\n        expansions: expansions\n      };\n    };\n    var singleData = function (name, menu) {\n      return {\n        primary: name,\n        menus: wrap$1(name, menu),\n        expansions: {}\n      };\n    };\n    var collapseItem = function (text) {\n      return {\n        value: generate$6(collapseItem$1()),\n        meta: { text: text }\n      };\n    };\n    var tieredMenu = single({\n      name: 'TieredMenu',\n      configFields: [\n        onStrictKeyboardHandler('onExecute'),\n        onStrictKeyboardHandler('onEscape'),\n        onStrictHandler('onOpenMenu'),\n        onStrictHandler('onOpenSubmenu'),\n        onHandler('onRepositionMenu'),\n        onHandler('onCollapseMenu'),\n        defaulted('highlightImmediately', true),\n        requiredObjOf('data', [\n          required$1('primary'),\n          required$1('menus'),\n          required$1('expansions')\n        ]),\n        defaulted('fakeFocus', false),\n        onHandler('onHighlight'),\n        onHandler('onHover'),\n        tieredMenuMarkers(),\n        required$1('dom'),\n        defaulted('navigateOnHover', true),\n        defaulted('stayInDom', false),\n        field('tmenuBehaviours', [\n          Keying,\n          Highlighting,\n          Composing,\n          Replacing\n        ]),\n        defaulted('eventOrder', {})\n      ],\n      apis: {\n        collapseMenu: function (apis, tmenu) {\n          apis.collapseMenu(tmenu);\n        },\n        highlightPrimary: function (apis, tmenu) {\n          apis.highlightPrimary(tmenu);\n        },\n        repositionMenus: function (apis, tmenu) {\n          apis.repositionMenus(tmenu);\n        }\n      },\n      factory: make$6,\n      extraApis: {\n        tieredData: tieredData,\n        singleData: singleData,\n        collapseItem: collapseItem\n      }\n    });\n\n    var makeMenu = function (detail, menuSandbox, placementSpec, menuSpec, getBounds) {\n      var lazySink = function () {\n        return detail.lazySink(menuSandbox);\n      };\n      var layouts = menuSpec.type === 'horizontal' ? {\n        layouts: {\n          onLtr: function () {\n            return belowOrAbove();\n          },\n          onRtl: function () {\n            return belowOrAboveRtl();\n          }\n        }\n      } : {};\n      var isFirstTierSubmenu = function (triggeringPaths) {\n        return triggeringPaths.length === 2;\n      };\n      var getSubmenuLayouts = function (triggeringPaths) {\n        return isFirstTierSubmenu(triggeringPaths) ? layouts : {};\n      };\n      return tieredMenu.sketch({\n        dom: { tag: 'div' },\n        data: menuSpec.data,\n        markers: menuSpec.menu.markers,\n        highlightImmediately: menuSpec.menu.highlightImmediately,\n        onEscape: function () {\n          Sandboxing.close(menuSandbox);\n          detail.onEscape.map(function (handler) {\n            return handler(menuSandbox);\n          });\n          return Optional.some(true);\n        },\n        onExecute: function () {\n          return Optional.some(true);\n        },\n        onOpenMenu: function (tmenu, menu) {\n          Positioning.positionWithinBounds(lazySink().getOrDie(), menu, placementSpec, getBounds());\n        },\n        onOpenSubmenu: function (tmenu, item, submenu, triggeringPaths) {\n          var sink = lazySink().getOrDie();\n          Positioning.position(sink, submenu, {\n            anchor: __assign({\n              type: 'submenu',\n              item: item\n            }, getSubmenuLayouts(triggeringPaths))\n          });\n        },\n        onRepositionMenu: function (tmenu, primaryMenu, submenuTriggers) {\n          var sink = lazySink().getOrDie();\n          Positioning.positionWithinBounds(sink, primaryMenu, placementSpec, getBounds());\n          each$1(submenuTriggers, function (st) {\n            var submenuLayouts = getSubmenuLayouts(st.triggeringPath);\n            Positioning.position(sink, st.triggeredMenu, {\n              anchor: __assign({\n                type: 'submenu',\n                item: st.triggeringItem\n              }, submenuLayouts)\n            });\n          });\n        }\n      });\n    };\n    var factory$m = function (detail, spec) {\n      var isPartOfRelated = function (sandbox, queryElem) {\n        var related = detail.getRelated(sandbox);\n        return related.exists(function (rel) {\n          return isPartOf$1(rel, queryElem);\n        });\n      };\n      var setContent = function (sandbox, thing) {\n        Sandboxing.setContent(sandbox, thing);\n      };\n      var showAt = function (sandbox, thing, placementSpec) {\n        showWithin(sandbox, thing, placementSpec, Optional.none());\n      };\n      var showWithin = function (sandbox, thing, placementSpec, boxElement) {\n        showWithinBounds(sandbox, thing, placementSpec, function () {\n          return boxElement.map(function (elem) {\n            return box$1(elem);\n          });\n        });\n      };\n      var showWithinBounds = function (sandbox, thing, placementSpec, getBounds) {\n        var sink = detail.lazySink(sandbox).getOrDie();\n        Sandboxing.openWhileCloaked(sandbox, thing, function () {\n          return Positioning.positionWithinBounds(sink, sandbox, placementSpec, getBounds());\n        });\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'position',\n          config: placementSpec,\n          getBounds: getBounds\n        }));\n      };\n      var showMenuAt = function (sandbox, placementSpec, menuSpec) {\n        showMenuWithinBounds(sandbox, placementSpec, menuSpec, Optional.none);\n      };\n      var showMenuWithinBounds = function (sandbox, placementSpec, menuSpec, getBounds) {\n        var menu = makeMenu(detail, sandbox, placementSpec, menuSpec, getBounds);\n        Sandboxing.open(sandbox, menu);\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'menu',\n          menu: menu\n        }));\n      };\n      var hide = function (sandbox) {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.setValue(sandbox, Optional.none());\n          Sandboxing.close(sandbox);\n        }\n      };\n      var getContent = function (sandbox) {\n        return Sandboxing.getState(sandbox);\n      };\n      var reposition = function (sandbox) {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.getValue(sandbox).each(function (state) {\n            switch (state.mode) {\n            case 'menu':\n              Sandboxing.getState(sandbox).each(tieredMenu.repositionMenus);\n              break;\n            case 'position':\n              var sink = detail.lazySink(sandbox).getOrDie();\n              Positioning.positionWithinBounds(sink, sandbox, state.config, state.getBounds());\n              break;\n            }\n          });\n        }\n      };\n      var apis = {\n        setContent: setContent,\n        showAt: showAt,\n        showWithin: showWithin,\n        showWithinBounds: showWithinBounds,\n        showMenuAt: showMenuAt,\n        showMenuWithinBounds: showMenuWithinBounds,\n        hide: hide,\n        getContent: getContent,\n        reposition: reposition,\n        isOpen: Sandboxing.isOpen\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        behaviours: augment(detail.inlineBehaviours, [\n          Sandboxing.config({\n            isPartOf: function (sandbox, data, queryElem) {\n              return isPartOf$1(data, queryElem) || isPartOfRelated(sandbox, queryElem);\n            },\n            getAttachPoint: function (sandbox) {\n              return detail.lazySink(sandbox).getOrDie();\n            },\n            onOpen: function (sandbox) {\n              detail.onShow(sandbox);\n            },\n            onClose: function (sandbox) {\n              detail.onHide(sandbox);\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: Optional.none()\n            }\n          }),\n          Receiving.config({\n            channels: __assign(__assign({}, receivingChannel$1(__assign({ isExtraPart: spec.isExtraPart }, detail.fireDismissalEventInstead.map(function (fe) {\n              return { fireEventInstead: { event: fe.event } };\n            }).getOr({})))), receivingChannel(__assign(__assign({}, detail.fireRepositionEventInstead.map(function (fe) {\n              return { fireEventInstead: { event: fe.event } };\n            }).getOr({})), { doReposition: reposition })))\n          })\n        ]),\n        eventOrder: detail.eventOrder,\n        apis: apis\n      };\n    };\n    var InlineView = single({\n      name: 'InlineView',\n      configFields: [\n        required$1('lazySink'),\n        onHandler('onShow'),\n        onHandler('onHide'),\n        optionFunction('onEscape'),\n        field('inlineBehaviours', [\n          Sandboxing,\n          Representing,\n          Receiving\n        ]),\n        optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n        optionObjOf('fireRepositionEventInstead', [defaulted('event', repositionRequested())]),\n        defaulted('getRelated', Optional.none),\n        defaulted('isExtraPart', never),\n        defaulted('eventOrder', Optional.none)\n      ],\n      factory: factory$m,\n      apis: {\n        showAt: function (apis, component, anchor, thing) {\n          apis.showAt(component, anchor, thing);\n        },\n        showWithin: function (apis, component, anchor, thing, boxElement) {\n          apis.showWithin(component, anchor, thing, boxElement);\n        },\n        showWithinBounds: function (apis, component, anchor, thing, bounds) {\n          apis.showWithinBounds(component, anchor, thing, bounds);\n        },\n        showMenuAt: function (apis, component, anchor, menuSpec) {\n          apis.showMenuAt(component, anchor, menuSpec);\n        },\n        showMenuWithinBounds: function (apis, component, anchor, menuSpec, bounds) {\n          apis.showMenuWithinBounds(component, anchor, menuSpec, bounds);\n        },\n        hide: function (apis, component) {\n          apis.hide(component);\n        },\n        isOpen: function (apis, component) {\n          return apis.isOpen(component);\n        },\n        getContent: function (apis, component) {\n          return apis.getContent(component);\n        },\n        setContent: function (apis, component, thing) {\n          apis.setContent(component, thing);\n        },\n        reposition: function (apis, component) {\n          apis.reposition(component);\n        }\n      }\n    });\n\n    var labelPrefix = 'layout-inset';\n    var westEdgeX = function (anchor) {\n      return anchor.x;\n    };\n    var middleX = function (anchor, element) {\n      return anchor.x + anchor.width / 2 - element.width / 2;\n    };\n    var eastEdgeX = function (anchor, element) {\n      return anchor.x + anchor.width - element.width;\n    };\n    var northY = function (anchor) {\n      return anchor.y;\n    };\n    var southY = function (anchor, element) {\n      return anchor.y + anchor.height - element.height;\n    };\n    var centreY = function (anchor, element) {\n      return anchor.y + anchor.height / 2 - element.height / 2;\n    };\n    var southwest = function (anchor, element, bubbles) {\n      return nu$6(eastEdgeX(anchor, element), southY(anchor, element), bubbles.insetSouthwest(), northwest$3(), 'southwest', boundsRestriction(anchor, {\n        right: 0,\n        bottom: 3\n      }), labelPrefix);\n    };\n    var southeast = function (anchor, element, bubbles) {\n      return nu$6(westEdgeX(anchor), southY(anchor, element), bubbles.insetSoutheast(), northeast$3(), 'southeast', boundsRestriction(anchor, {\n        left: 1,\n        bottom: 3\n      }), labelPrefix);\n    };\n    var northwest = function (anchor, element, bubbles) {\n      return nu$6(eastEdgeX(anchor, element), northY(anchor), bubbles.insetNorthwest(), southwest$3(), 'northwest', boundsRestriction(anchor, {\n        right: 0,\n        top: 2\n      }), labelPrefix);\n    };\n    var northeast = function (anchor, element, bubbles) {\n      return nu$6(westEdgeX(anchor), northY(anchor), bubbles.insetNortheast(), southeast$3(), 'northeast', boundsRestriction(anchor, {\n        left: 1,\n        top: 2\n      }), labelPrefix);\n    };\n    var north = function (anchor, element, bubbles) {\n      return nu$6(middleX(anchor, element), northY(anchor), bubbles.insetNorth(), south$3(), 'north', boundsRestriction(anchor, { top: 2 }), labelPrefix);\n    };\n    var south = function (anchor, element, bubbles) {\n      return nu$6(middleX(anchor, element), southY(anchor, element), bubbles.insetSouth(), north$3(), 'south', boundsRestriction(anchor, { bottom: 3 }), labelPrefix);\n    };\n    var east = function (anchor, element, bubbles) {\n      return nu$6(eastEdgeX(anchor, element), centreY(anchor, element), bubbles.insetEast(), west$3(), 'east', boundsRestriction(anchor, { right: 0 }), labelPrefix);\n    };\n    var west = function (anchor, element, bubbles) {\n      return nu$6(westEdgeX(anchor), centreY(anchor, element), bubbles.insetWest(), east$3(), 'west', boundsRestriction(anchor, { left: 1 }), labelPrefix);\n    };\n    var lookupPreserveLayout = function (lastPlacement) {\n      switch (lastPlacement) {\n      case 'north':\n        return north;\n      case 'northeast':\n        return northeast;\n      case 'northwest':\n        return northwest;\n      case 'south':\n        return south;\n      case 'southeast':\n        return southeast;\n      case 'southwest':\n        return southwest;\n      case 'east':\n        return east;\n      case 'west':\n        return west;\n      }\n    };\n    var preserve = function (anchor, element, bubbles, placee, bounds) {\n      var layout = getPlacement(placee).map(lookupPreserveLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n    var lookupFlippedLayout = function (lastPlacement) {\n      switch (lastPlacement) {\n      case 'north':\n        return south;\n      case 'northeast':\n        return southeast;\n      case 'northwest':\n        return southwest;\n      case 'south':\n        return north;\n      case 'southeast':\n        return northeast;\n      case 'southwest':\n        return northwest;\n      case 'east':\n        return west;\n      case 'west':\n        return east;\n      }\n    };\n    var flip$2 = function (anchor, element, bubbles, placee, bounds) {\n      var layout = getPlacement(placee).map(lookupFlippedLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n\n    var global$f = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var factory$l = function (detail) {\n      var events = events$a(detail.action);\n      var tag = detail.dom.tag;\n      var lookupAttr = function (attr) {\n        return get$e(detail.dom, 'attributes').bind(function (attrs) {\n          return get$e(attrs, attr);\n        });\n      };\n      var getModAttributes = function () {\n        if (tag === 'button') {\n          var type = lookupAttr('type').getOr('button');\n          var roleAttrs = lookupAttr('role').map(function (role) {\n            return { role: role };\n          }).getOr({});\n          return __assign({ type: type }, roleAttrs);\n        } else {\n          var role = lookupAttr('role').getOr('button');\n          return { role: role };\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: detail.components,\n        events: events,\n        behaviours: SketchBehaviours.augment(detail.buttonBehaviours, [\n          Focusing.config({}),\n          Keying.config({\n            mode: 'execution',\n            useSpace: true,\n            useEnter: true\n          })\n        ]),\n        domModification: { attributes: getModAttributes() },\n        eventOrder: detail.eventOrder\n      };\n    };\n    var Button = single({\n      name: 'Button',\n      factory: factory$l,\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('dom'),\n        defaulted('components', []),\n        SketchBehaviours.field('buttonBehaviours', [\n          Focusing,\n          Keying\n        ]),\n        option('action'),\n        option('role'),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    var record = function (spec) {\n      var uid = isSketchSpec(spec) && hasNonNullableKey(spec, 'uid') ? spec.uid : generate$5('memento');\n      var get = function (anyInSystem) {\n        return anyInSystem.getSystem().getByUid(uid).getOrDie();\n      };\n      var getOpt = function (anyInSystem) {\n        return anyInSystem.getSystem().getByUid(uid).toOptional();\n      };\n      var asSpec = function () {\n        return __assign(__assign({}, spec), { uid: uid });\n      };\n      return {\n        get: get,\n        getOpt: getOpt,\n        asSpec: asSpec\n      };\n    };\n\n    var global$e = tinymce.util.Tools.resolve('tinymce.util.I18n');\n\n    var rtlTransform = {\n      'indent': true,\n      'outdent': true,\n      'table-insert-column-after': true,\n      'table-insert-column-before': true,\n      'paste-column-after': true,\n      'paste-column-before': true,\n      'unordered-list': true,\n      'list-bull-circle': true,\n      'list-bull-default': true,\n      'list-bull-square': true\n    };\n    var defaultIconName = 'temporary-placeholder';\n    var defaultIcon = function (icons) {\n      return function () {\n        return get$e(icons, defaultIconName).getOr('!not found!');\n      };\n    };\n    var getIconName = function (name, icons) {\n      var lcName = name.toLowerCase();\n      if (global$e.isRtl()) {\n        var rtlName = ensureTrailing(lcName, '-rtl');\n        return has$2(icons, rtlName) ? rtlName : lcName;\n      } else {\n        return lcName;\n      }\n    };\n    var lookupIcon = function (name, icons) {\n      return get$e(icons, getIconName(name, icons));\n    };\n    var get$1 = function (name, iconProvider) {\n      var icons = iconProvider();\n      return lookupIcon(name, icons).getOrThunk(defaultIcon(icons));\n    };\n    var getOr = function (name, iconProvider, fallbackIcon) {\n      var icons = iconProvider();\n      return lookupIcon(name, icons).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n    };\n    var needsRtlTransform = function (iconName) {\n      return global$e.isRtl() ? has$2(rtlTransform, iconName) : false;\n    };\n    var addFocusableBehaviour = function () {\n      return config('add-focusable', [runOnAttached(function (comp) {\n          child(comp.element, 'svg').each(function (svg) {\n            return set$8(svg, 'focusable', 'false');\n          });\n        })]);\n    };\n    var renderIcon$2 = function (spec, iconName, icons, fallbackIcon) {\n      var _a, _b;\n      var rtlIconClasses = needsRtlTransform(iconName) ? ['tox-icon--flip'] : [];\n      var iconHtml = get$e(icons, getIconName(iconName, icons)).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n      return {\n        dom: {\n          tag: spec.tag,\n          attributes: (_a = spec.attributes) !== null && _a !== void 0 ? _a : {},\n          classes: spec.classes.concat(rtlIconClasses),\n          innerHtml: iconHtml\n        },\n        behaviours: derive$1(__spreadArray(__spreadArray([], (_b = spec.behaviours) !== null && _b !== void 0 ? _b : [], true), [addFocusableBehaviour()], false))\n      };\n    };\n    var render$3 = function (iconName, spec, iconProvider, fallbackIcon) {\n      if (fallbackIcon === void 0) {\n        fallbackIcon = Optional.none();\n      }\n      return renderIcon$2(spec, iconName, iconProvider(), fallbackIcon);\n    };\n    var renderFirst = function (iconNames, spec, iconProvider) {\n      var icons = iconProvider();\n      var iconName = find$5(iconNames, function (name) {\n        return has$2(icons, getIconName(name, icons));\n      });\n      return renderIcon$2(spec, iconName.getOr(defaultIconName), icons, Optional.none());\n    };\n\n    var notificationIconMap = {\n      success: 'checkmark',\n      error: 'warning',\n      err: 'error',\n      warning: 'warning',\n      warn: 'warning',\n      info: 'info'\n    };\n    var factory$k = function (detail) {\n      var memBannerText = record({\n        dom: {\n          tag: 'p',\n          innerHtml: detail.translationProvider(detail.text)\n        },\n        behaviours: derive$1([Replacing.config({})])\n      });\n      var renderPercentBar = function (percent) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-bar'],\n            attributes: { style: 'width: ' + percent + '%' }\n          }\n        };\n      };\n      var renderPercentText = function (percent) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-text'],\n            innerHtml: percent + '%'\n          }\n        };\n      };\n      var memBannerProgress = record({\n        dom: {\n          tag: 'div',\n          classes: detail.progress ? [\n            'tox-progress-bar',\n            'tox-progress-indicator'\n          ] : ['tox-progress-bar']\n        },\n        components: [\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-bar-container']\n            },\n            components: [renderPercentBar(0)]\n          },\n          renderPercentText(0)\n        ],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      var updateProgress = function (comp, percent) {\n        if (comp.getSystem().isConnected()) {\n          memBannerProgress.getOpt(comp).each(function (progress) {\n            Replacing.set(progress, [\n              {\n                dom: {\n                  tag: 'div',\n                  classes: ['tox-bar-container']\n                },\n                components: [renderPercentBar(percent)]\n              },\n              renderPercentText(percent)\n            ]);\n          });\n        }\n      };\n      var updateText = function (comp, text$1) {\n        if (comp.getSystem().isConnected()) {\n          var banner = memBannerText.get(comp);\n          Replacing.set(banner, [text(text$1)]);\n        }\n      };\n      var apis = {\n        updateProgress: updateProgress,\n        updateText: updateText\n      };\n      var iconChoices = flatten([\n        detail.icon.toArray(),\n        detail.level.toArray(),\n        detail.level.bind(function (level) {\n          return Optional.from(notificationIconMap[level]);\n        }).toArray()\n      ]);\n      var memButton = record(Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-notification__dismiss',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ]\n        },\n        components: [render$3('close', {\n            tag: 'div',\n            classes: ['tox-icon'],\n            attributes: { 'aria-label': detail.translationProvider('Close') }\n          }, detail.iconProvider)],\n        action: function (comp) {\n          detail.onAction(comp);\n        }\n      }));\n      var notificationIconSpec = renderFirst(iconChoices, {\n        tag: 'div',\n        classes: ['tox-notification__icon']\n      }, detail.iconProvider);\n      var notificationBodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-notification__body']\n        },\n        components: [memBannerText.asSpec()],\n        behaviours: derive$1([Replacing.config({})])\n      };\n      var components = [\n        notificationIconSpec,\n        notificationBodySpec\n      ];\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          attributes: { role: 'alert' },\n          classes: detail.level.map(function (level) {\n            return [\n              'tox-notification',\n              'tox-notification--in',\n              'tox-notification--' + level\n            ];\n          }).getOr([\n            'tox-notification',\n            'tox-notification--in'\n          ])\n        },\n        behaviours: derive$1([\n          Focusing.config({}),\n          config('notification-events', [run$1(focusin(), function (comp) {\n              memButton.getOpt(comp).each(Focusing.focus);\n            })])\n        ]),\n        components: components.concat(detail.progress ? [memBannerProgress.asSpec()] : []).concat(!detail.closeButton ? [] : [memButton.asSpec()]),\n        apis: apis\n      };\n    };\n    var Notification = single({\n      name: 'Notification',\n      factory: factory$k,\n      configFields: [\n        option('level'),\n        required$1('progress'),\n        required$1('icon'),\n        required$1('onAction'),\n        required$1('text'),\n        required$1('iconProvider'),\n        required$1('translationProvider'),\n        defaultedBoolean('closeButton', true)\n      ],\n      apis: {\n        updateProgress: function (apis, comp, percent) {\n          apis.updateProgress(comp, percent);\n        },\n        updateText: function (apis, comp, text) {\n          apis.updateText(comp, text);\n        }\n      }\n    });\n\n    function NotificationManagerImpl (editor, extras, uiMothership) {\n      var sharedBackstage = extras.backstage.shared;\n      var getLayoutDirection = function (rel) {\n        switch (rel) {\n        case 'bc-bc':\n          return south;\n        case 'tc-tc':\n          return north;\n        case 'tc-bc':\n          return north$2;\n        case 'bc-tc':\n        default:\n          return south$2;\n        }\n      };\n      var reposition = function (notifications) {\n        if (notifications.length > 0) {\n          each$1(notifications, function (notification, index) {\n            if (index === 0) {\n              notification.moveRel(null, 'banner');\n            } else {\n              notification.moveRel(notifications[index - 1].getEl(), 'bc-tc');\n            }\n          });\n        }\n      };\n      var open = function (settings, closeCallback) {\n        var hideCloseButton = !settings.closeButton && settings.timeout && (settings.timeout > 0 || settings.timeout < 0);\n        var close = function () {\n          closeCallback();\n          InlineView.hide(notificationWrapper);\n        };\n        var notification = build$1(Notification.sketch({\n          text: settings.text,\n          level: contains$2([\n            'success',\n            'error',\n            'warning',\n            'warn',\n            'info'\n          ], settings.type) ? settings.type : undefined,\n          progress: settings.progressBar === true,\n          icon: Optional.from(settings.icon),\n          closeButton: !hideCloseButton,\n          onAction: close,\n          iconProvider: sharedBackstage.providers.icons,\n          translationProvider: sharedBackstage.providers.translate\n        }));\n        var notificationWrapper = build$1(InlineView.sketch(__assign({\n          dom: {\n            tag: 'div',\n            classes: ['tox-notifications-container']\n          },\n          lazySink: sharedBackstage.getSink,\n          fireDismissalEventInstead: {}\n        }, sharedBackstage.header.isPositionedAtTop() ? {} : { fireRepositionEventInstead: {} })));\n        uiMothership.add(notificationWrapper);\n        if (settings.timeout > 0) {\n          global$f.setTimeout(function () {\n            close();\n          }, settings.timeout);\n        }\n        var getBounds = function () {\n          var contentArea = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n          var win$1 = win();\n          var x = clamp$1(win$1.x, contentArea.x, contentArea.right);\n          var y = clamp$1(win$1.y, contentArea.y, contentArea.bottom);\n          var right = Math.max(contentArea.right, win$1.right);\n          var bottom = Math.max(contentArea.bottom, win$1.bottom);\n          return Optional.some(bounds(x, y, right - x, bottom - y));\n        };\n        return {\n          close: close,\n          moveTo: function (x, y) {\n            InlineView.showAt(notificationWrapper, premade(notification), {\n              anchor: {\n                type: 'makeshift',\n                x: x,\n                y: y\n              }\n            });\n          },\n          moveRel: function (element, rel) {\n            var notificationSpec = premade(notification);\n            var anchorOverrides = { maxHeightFunction: expandable$1() };\n            if (rel !== 'banner' && isNonNullable(element)) {\n              var layoutDirection_1 = getLayoutDirection(rel);\n              var nodeAnchor = {\n                type: 'node',\n                root: body(),\n                node: Optional.some(SugarElement.fromDom(element)),\n                overrides: anchorOverrides,\n                layouts: {\n                  onRtl: function () {\n                    return [layoutDirection_1];\n                  },\n                  onLtr: function () {\n                    return [layoutDirection_1];\n                  }\n                }\n              };\n              InlineView.showWithinBounds(notificationWrapper, notificationSpec, { anchor: nodeAnchor }, getBounds);\n            } else {\n              var anchor = __assign(__assign({}, sharedBackstage.anchors.banner()), { overrides: anchorOverrides });\n              InlineView.showWithinBounds(notificationWrapper, notificationSpec, { anchor: anchor }, getBounds);\n            }\n          },\n          text: function (nuText) {\n            Notification.updateText(notification, nuText);\n          },\n          settings: settings,\n          getEl: function () {\n            return notification.element.dom;\n          },\n          progressBar: {\n            value: function (percent) {\n              Notification.updateProgress(notification, percent);\n            }\n          }\n        };\n      };\n      var close = function (notification) {\n        notification.close();\n      };\n      var getArgs = function (notification) {\n        return notification.settings;\n      };\n      return {\n        open: open,\n        close: close,\n        reposition: reposition,\n        getArgs: getArgs\n      };\n    }\n\n    var first = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (isNull(timer)) {\n          timer = setTimeout(function () {\n            timer = null;\n            fn.apply(null, args);\n          }, rate);\n        }\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n    var last = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        cancel();\n        timer = setTimeout(function () {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n\n    var global$d = tinymce.util.Tools.resolve('tinymce.dom.TextSeeker');\n\n    var isBoundary = function (dom, node) {\n      return dom.isBlock(node) || contains$2([\n        'BR',\n        'IMG',\n        'HR',\n        'INPUT'\n      ], node.nodeName) || dom.getContentEditable(node) === 'false';\n    };\n    var repeatLeft = function (dom, node, offset, process, rootNode) {\n      var search = global$d(dom, function (node) {\n        return isBoundary(dom, node);\n      });\n      return Optional.from(search.backwards(node, offset, process, rootNode));\n    };\n\n    var autocompleteSelector = '[data-mce-autocompleter]';\n    var create$4 = function (editor, range) {\n      return detect(SugarElement.fromDom(editor.selection.getNode())).getOrThunk(function () {\n        var wrapper = SugarElement.fromHtml('<span data-mce-autocompleter=\"1\" data-mce-bogus=\"1\"></span>', editor.getDoc());\n        append$2(wrapper, SugarElement.fromDom(range.extractContents()));\n        range.insertNode(wrapper.dom);\n        parent(wrapper).each(function (elm) {\n          return elm.dom.normalize();\n        });\n        last$1(wrapper).map(function (last) {\n          editor.selection.setCursorLocation(last.dom, getEnd(last));\n        });\n        return wrapper;\n      });\n    };\n    var detect = function (elm) {\n      return closest$1(elm, autocompleteSelector);\n    };\n\n    var isValidTextRange = function (rng) {\n      return rng.collapsed && rng.startContainer.nodeType === 3;\n    };\n    var getText = function (rng) {\n      return rng.toString().replace(/\\u00A0/g, ' ').replace(/\\uFEFF/g, '');\n    };\n    var isWhitespace = function (chr) {\n      return chr !== '' && ' \\xA0\\f\\n\\r\\t\\x0B'.indexOf(chr) !== -1;\n    };\n\n    var stripTriggerChar = function (text, triggerCh) {\n      return text.substring(triggerCh.length);\n    };\n    var findChar = function (text, index, ch) {\n      var i;\n      for (i = index - 1; i >= 0; i--) {\n        var char = text.charAt(i);\n        if (isWhitespace(char)) {\n          return Optional.none();\n        }\n        if (char === ch) {\n          break;\n        }\n      }\n      return Optional.some(i);\n    };\n    var findStart = function (dom, initRange, ch, minChars) {\n      if (minChars === void 0) {\n        minChars = 0;\n      }\n      if (!isValidTextRange(initRange)) {\n        return Optional.none();\n      }\n      var findTriggerChIndex = function (element, offset, text) {\n        return findChar(text, offset, ch).getOr(offset);\n      };\n      var root = dom.getParent(initRange.startContainer, dom.isBlock) || dom.getRoot();\n      return repeatLeft(dom, initRange.startContainer, initRange.startOffset, findTriggerChIndex, root).bind(function (spot) {\n        var range = initRange.cloneRange();\n        range.setStart(spot.container, spot.offset);\n        range.setEnd(initRange.endContainer, initRange.endOffset);\n        if (range.collapsed) {\n          return Optional.none();\n        }\n        var text = getText(range);\n        var triggerCharIndex = text.lastIndexOf(ch);\n        if (triggerCharIndex !== 0 || stripTriggerChar(text, ch).length < minChars) {\n          return Optional.none();\n        } else {\n          return Optional.some({\n            text: stripTriggerChar(text, ch),\n            range: range,\n            triggerChar: ch\n          });\n        }\n      });\n    };\n    var getContext = function (dom, initRange, ch, minChars) {\n      if (minChars === void 0) {\n        minChars = 0;\n      }\n      return detect(SugarElement.fromDom(initRange.startContainer)).fold(function () {\n        return findStart(dom, initRange, ch, minChars);\n      }, function (elm) {\n        var range = dom.createRng();\n        range.selectNode(elm.dom);\n        var text = getText(range);\n        return Optional.some({\n          range: range,\n          text: stripTriggerChar(text, ch),\n          triggerChar: ch\n        });\n      });\n    };\n\n    var setup$e = function (api, editor) {\n      editor.on('keypress compositionend', api.onKeypress.throttle);\n      editor.on('remove', api.onKeypress.cancel);\n      var redirectKeyToItem = function (item, e) {\n        emitWith(item, keydown(), { raw: e });\n      };\n      editor.on('keydown', function (e) {\n        var getItem = function () {\n          return api.getView().bind(Highlighting.getHighlighted);\n        };\n        if (e.which === 8) {\n          api.onKeypress.throttle(e);\n        }\n        if (api.isActive()) {\n          if (e.which === 27) {\n            api.cancelIfNecessary();\n          }\n          if (api.isMenuOpen()) {\n            if (e.which === 13) {\n              getItem().each(emitExecute);\n              e.preventDefault();\n            } else if (e.which === 40) {\n              getItem().fold(function () {\n                api.getView().each(Highlighting.highlightFirst);\n              }, function (item) {\n                redirectKeyToItem(item, e);\n              });\n              e.preventDefault();\n              e.stopImmediatePropagation();\n            } else if (e.which === 37 || e.which === 38 || e.which === 39) {\n              getItem().each(function (item) {\n                redirectKeyToItem(item, e);\n                e.preventDefault();\n                e.stopImmediatePropagation();\n              });\n            }\n          } else {\n            if (e.which === 13 || e.which === 38 || e.which === 40) {\n              api.cancelIfNecessary();\n            }\n          }\n        }\n      });\n      editor.on('NodeChange', function (e) {\n        if (api.isActive() && !api.isProcessingAction() && detect(SugarElement.fromDom(e.element)).isNone()) {\n          api.cancelIfNecessary();\n        }\n      });\n    };\n    var AutocompleterEditorEvents = { setup: setup$e };\n\n    var global$c = tinymce.util.Tools.resolve('tinymce.util.Promise');\n\n    var point = function (container, offset) {\n      return {\n        container: container,\n        offset: offset\n      };\n    };\n\n    var isText = function (node) {\n      return node.nodeType === TEXT;\n    };\n    var isElement$1 = function (node) {\n      return node.nodeType === ELEMENT;\n    };\n    var toLast = function (node) {\n      if (isText(node)) {\n        return point(node, node.data.length);\n      } else {\n        var children = node.childNodes;\n        return children.length > 0 ? toLast(children[children.length - 1]) : point(node, children.length);\n      }\n    };\n    var toLeaf = function (node, offset) {\n      var children = node.childNodes;\n      if (children.length > 0 && offset < children.length) {\n        return toLeaf(children[offset], 0);\n      } else if (children.length > 0 && isElement$1(node) && children.length === offset) {\n        return toLast(children[children.length - 1]);\n      } else {\n        return point(node, offset);\n      }\n    };\n\n    var isPreviousCharContent = function (dom, leaf) {\n      return repeatLeft(dom, leaf.container, leaf.offset, function (element, offset) {\n        return offset === 0 ? -1 : offset;\n      }, dom.getRoot()).filter(function (spot) {\n        var char = spot.container.data.charAt(spot.offset - 1);\n        return !isWhitespace(char);\n      }).isSome();\n    };\n    var isStartOfWord = function (dom) {\n      return function (rng) {\n        var leaf = toLeaf(rng.startContainer, rng.startOffset);\n        return !isPreviousCharContent(dom, leaf);\n      };\n    };\n    var getTriggerContext = function (dom, initRange, database) {\n      return findMap(database.triggerChars, function (ch) {\n        return getContext(dom, initRange, ch);\n      });\n    };\n    var lookup$2 = function (editor, getDatabase) {\n      var database = getDatabase();\n      var rng = editor.selection.getRng();\n      return getTriggerContext(editor.dom, rng, database).bind(function (context) {\n        return lookupWithContext(editor, getDatabase, context);\n      });\n    };\n    var lookupWithContext = function (editor, getDatabase, context, fetchOptions) {\n      if (fetchOptions === void 0) {\n        fetchOptions = {};\n      }\n      var database = getDatabase();\n      var rng = editor.selection.getRng();\n      var startText = rng.startContainer.nodeValue;\n      var autocompleters = filter$2(database.lookupByChar(context.triggerChar), function (autocompleter) {\n        return context.text.length >= autocompleter.minChars && autocompleter.matches.getOrThunk(function () {\n          return isStartOfWord(editor.dom);\n        })(context.range, startText, context.text);\n      });\n      if (autocompleters.length === 0) {\n        return Optional.none();\n      }\n      var lookupData = global$c.all(map$2(autocompleters, function (ac) {\n        var fetchResult = ac.fetch(context.text, ac.maxResults, fetchOptions);\n        return fetchResult.then(function (results) {\n          return {\n            matchText: context.text,\n            items: results,\n            columns: ac.columns,\n            onAction: ac.onAction,\n            highlightOn: ac.highlightOn\n          };\n        });\n      }));\n      return Optional.some({\n        lookupData: lookupData,\n        context: context\n      });\n    };\n\n    var separatorMenuItemSchema = objOf([\n      requiredString('type'),\n      optionString('text')\n    ]);\n    var createSeparatorMenuItem = function (spec) {\n      return asRaw('separatormenuitem', separatorMenuItemSchema, spec);\n    };\n\n    var autocompleterItemSchema = objOf([\n      defaulted('type', 'autocompleteitem'),\n      defaulted('active', false),\n      defaulted('disabled', false),\n      defaulted('meta', {}),\n      requiredString('value'),\n      optionString('text'),\n      optionString('icon')\n    ]);\n    var autocompleterSchema = objOf([\n      requiredString('type'),\n      requiredString('ch'),\n      defaultedNumber('minChars', 1),\n      defaulted('columns', 1),\n      defaultedNumber('maxResults', 10),\n      optionFunction('matches'),\n      requiredFunction('fetch'),\n      requiredFunction('onAction'),\n      defaultedArrayOf('highlightOn', [], string)\n    ]);\n    var createSeparatorItem = function (spec) {\n      return asRaw('Autocompleter.Separator', separatorMenuItemSchema, spec);\n    };\n    var createAutocompleterItem = function (spec) {\n      return asRaw('Autocompleter.Item', autocompleterItemSchema, spec);\n    };\n    var createAutocompleter = function (spec) {\n      return asRaw('Autocompleter', autocompleterSchema, spec);\n    };\n\n    var baseToolbarButtonFields = [\n      defaultedBoolean('disabled', false),\n      optionString('tooltip'),\n      optionString('icon'),\n      optionString('text'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      })\n    ];\n    var toolbarButtonSchema = objOf([\n      requiredString('type'),\n      requiredFunction('onAction')\n    ].concat(baseToolbarButtonFields));\n    var createToolbarButton = function (spec) {\n      return asRaw('toolbarbutton', toolbarButtonSchema, spec);\n    };\n\n    var baseToolbarToggleButtonFields = [defaultedBoolean('active', false)].concat(baseToolbarButtonFields);\n    var toggleButtonSchema = objOf(baseToolbarToggleButtonFields.concat([\n      requiredString('type'),\n      requiredFunction('onAction')\n    ]));\n    var createToggleButton = function (spec) {\n      return asRaw('ToggleButton', toggleButtonSchema, spec);\n    };\n\n    var contextBarFields = [\n      defaultedFunction('predicate', never),\n      defaultedStringEnum('scope', 'node', [\n        'node',\n        'editor'\n      ]),\n      defaultedStringEnum('position', 'selection', [\n        'node',\n        'selection',\n        'line'\n      ])\n    ];\n\n    var contextButtonFields = baseToolbarButtonFields.concat([\n      defaulted('type', 'contextformbutton'),\n      defaulted('primary', false),\n      requiredFunction('onAction'),\n      customField('original', identity$1)\n    ]);\n    var contextToggleButtonFields = baseToolbarToggleButtonFields.concat([\n      defaulted('type', 'contextformbutton'),\n      defaulted('primary', false),\n      requiredFunction('onAction'),\n      customField('original', identity$1)\n    ]);\n    var launchButtonFields = baseToolbarButtonFields.concat([defaulted('type', 'contextformbutton')]);\n    var launchToggleButtonFields = baseToolbarToggleButtonFields.concat([defaulted('type', 'contextformtogglebutton')]);\n    var toggleOrNormal = choose$1('type', {\n      contextformbutton: contextButtonFields,\n      contextformtogglebutton: contextToggleButtonFields\n    });\n    var contextFormSchema = objOf([\n      defaulted('type', 'contextform'),\n      defaultedFunction('initValue', constant$1('')),\n      optionString('label'),\n      requiredArrayOf('commands', toggleOrNormal),\n      optionOf('launch', choose$1('type', {\n        contextformbutton: launchButtonFields,\n        contextformtogglebutton: launchToggleButtonFields\n      }))\n    ].concat(contextBarFields));\n    var createContextForm = function (spec) {\n      return asRaw('ContextForm', contextFormSchema, spec);\n    };\n\n    var contextToolbarSchema = objOf([\n      defaulted('type', 'contexttoolbar'),\n      requiredString('items')\n    ].concat(contextBarFields));\n    var createContextToolbar = function (spec) {\n      return asRaw('ContextToolbar', contextToolbarSchema, spec);\n    };\n\n    var stringArray = function (a) {\n      var all = {};\n      each$1(a, function (key) {\n        all[key] = {};\n      });\n      return keys(all);\n    };\n\n    var register$b = function (editor) {\n      var popups = editor.ui.registry.getAll().popups;\n      var dataset = map$1(popups, function (popup) {\n        return createAutocompleter(popup).fold(function (err) {\n          throw new Error(formatError(err));\n        }, identity$1);\n      });\n      var triggerChars = stringArray(mapToArray(dataset, function (v) {\n        return v.ch;\n      }));\n      var datasetValues = values(dataset);\n      var lookupByChar = function (ch) {\n        return filter$2(datasetValues, function (dv) {\n          return dv.ch === ch;\n        });\n      };\n      return {\n        dataset: dataset,\n        triggerChars: triggerChars,\n        lookupByChar: lookupByChar\n      };\n    };\n\n    var ItemResponse;\n    (function (ItemResponse) {\n      ItemResponse[ItemResponse['CLOSE_ON_EXECUTE'] = 0] = 'CLOSE_ON_EXECUTE';\n      ItemResponse[ItemResponse['BUBBLE_TO_SANDBOX'] = 1] = 'BUBBLE_TO_SANDBOX';\n    }(ItemResponse || (ItemResponse = {})));\n    var ItemResponse$1 = ItemResponse;\n\n    var navClass = 'tox-menu-nav__js';\n    var selectableClass = 'tox-collection__item';\n    var colorClass = 'tox-swatch';\n    var presetClasses = {\n      normal: navClass,\n      color: colorClass\n    };\n    var tickedClass = 'tox-collection__item--enabled';\n    var groupHeadingClass = 'tox-collection__group-heading';\n    var iconClass = 'tox-collection__item-icon';\n    var textClass = 'tox-collection__item-label';\n    var accessoryClass = 'tox-collection__item-accessory';\n    var caretClass = 'tox-collection__item-caret';\n    var checkmarkClass = 'tox-collection__item-checkmark';\n    var activeClass = 'tox-collection__item--active';\n    var containerClass = 'tox-collection__item-container';\n    var containerColumnClass = 'tox-collection__item-container--column';\n    var containerRowClass = 'tox-collection__item-container--row';\n    var containerAlignRightClass = 'tox-collection__item-container--align-right';\n    var containerAlignLeftClass = 'tox-collection__item-container--align-left';\n    var containerValignTopClass = 'tox-collection__item-container--valign-top';\n    var containerValignMiddleClass = 'tox-collection__item-container--valign-middle';\n    var containerValignBottomClass = 'tox-collection__item-container--valign-bottom';\n    var classForPreset = function (presets) {\n      return get$e(presetClasses, presets).getOr(navClass);\n    };\n\n    var forMenu = function (presets) {\n      if (presets === 'color') {\n        return 'tox-swatches';\n      } else {\n        return 'tox-menu';\n      }\n    };\n    var classes = function (presets) {\n      return {\n        backgroundMenu: 'tox-background-menu',\n        selectedMenu: 'tox-selected-menu',\n        selectedItem: 'tox-collection__item--active',\n        hasIcons: 'tox-menu--has-icons',\n        menu: forMenu(presets),\n        tieredMenu: 'tox-tiered-menu'\n      };\n    };\n\n    var markers = function (presets) {\n      var menuClasses = classes(presets);\n      return {\n        backgroundMenu: menuClasses.backgroundMenu,\n        selectedMenu: menuClasses.selectedMenu,\n        menu: menuClasses.menu,\n        selectedItem: menuClasses.selectedItem,\n        item: classForPreset(presets)\n      };\n    };\n    var dom$1 = function (hasIcons, columns, presets) {\n      var menuClasses = classes(presets);\n      return {\n        tag: 'div',\n        classes: flatten([\n          [\n            menuClasses.menu,\n            'tox-menu-' + columns + '-column'\n          ],\n          hasIcons ? [menuClasses.hasIcons] : []\n        ])\n      };\n    };\n    var components = [Menu.parts.items({})];\n    var part = function (hasIcons, columns, presets) {\n      var menuClasses = classes(presets);\n      var d = {\n        tag: 'div',\n        classes: flatten([[menuClasses.tieredMenu]])\n      };\n      return {\n        dom: d,\n        markers: markers(presets)\n      };\n    };\n\n    var chunk = function (rowDom, numColumns) {\n      return function (items) {\n        var chunks = chunk$1(items, numColumns);\n        return map$2(chunks, function (c) {\n          return {\n            dom: rowDom,\n            components: c\n          };\n        });\n      };\n    };\n    var forSwatch = function (columns) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-swatches-menu'\n          ]\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-swatches']\n            },\n            components: [Menu.parts.items({\n                preprocess: columns !== 'auto' ? chunk({\n                  tag: 'div',\n                  classes: ['tox-swatches__row']\n                }, columns) : identity$1\n              })]\n          }]\n      };\n    };\n    var forToolbar = function (columns) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-collection',\n            'tox-collection--toolbar',\n            'tox-collection--toolbar-lg'\n          ]\n        },\n        components: [Menu.parts.items({\n            preprocess: chunk({\n              tag: 'div',\n              classes: ['tox-collection__group']\n            }, columns)\n          })]\n      };\n    };\n    var preprocessCollection = function (items, isSeparator) {\n      var allSplits = [];\n      var currentSplit = [];\n      each$1(items, function (item, i) {\n        if (isSeparator(item, i)) {\n          if (currentSplit.length > 0) {\n            allSplits.push(currentSplit);\n          }\n          currentSplit = [];\n          if (has$2(item.dom, 'innerHtml')) {\n            currentSplit.push(item);\n          }\n        } else {\n          currentSplit.push(item);\n        }\n      });\n      if (currentSplit.length > 0) {\n        allSplits.push(currentSplit);\n      }\n      return map$2(allSplits, function (s) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-collection__group']\n          },\n          components: s\n        };\n      });\n    };\n    var forCollection = function (columns, initItems, _hasIcons) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-collection'\n          ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'])\n        },\n        components: [Menu.parts.items({\n            preprocess: function (items) {\n              if (columns !== 'auto' && columns > 1) {\n                return chunk({\n                  tag: 'div',\n                  classes: ['tox-collection__group']\n                }, columns)(items);\n              } else {\n                return preprocessCollection(items, function (_item, i) {\n                  return initItems[i].type === 'separator';\n                });\n              }\n            }\n          })]\n      };\n    };\n    var forHorizontalCollection = function (initItems, _hasIcons) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-collection',\n            'tox-collection--horizontal'\n          ]\n        },\n        components: [Menu.parts.items({\n            preprocess: function (items) {\n              return preprocessCollection(items, function (_item, i) {\n                return initItems[i].type === 'separator';\n              });\n            }\n          })]\n      };\n    };\n\n    var menuHasIcons = function (xs) {\n      return exists(xs, function (item) {\n        return 'icon' in item && item.icon !== undefined;\n      });\n    };\n    var handleError = function (error) {\n      console.error(formatError(error));\n      console.log(error);\n      return Optional.none();\n    };\n    var createHorizontalPartialMenuWithAlloyItems = function (value, _hasIcons, items, _columns, _presets) {\n      var structure = forHorizontalCollection(items);\n      return {\n        value: value,\n        dom: structure.dom,\n        components: structure.components,\n        items: items\n      };\n    };\n    var createPartialMenuWithAlloyItems = function (value, hasIcons, items, columns, presets) {\n      if (presets === 'color') {\n        var structure = forSwatch(columns);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      if (presets === 'normal' && columns === 'auto') {\n        var structure = forCollection(columns, items);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      if (presets === 'normal' && columns === 1) {\n        var structure = forCollection(1, items);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      if (presets === 'normal') {\n        var structure = forCollection(columns, items);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      if (presets === 'listpreview' && columns !== 'auto') {\n        var structure = forToolbar(columns);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      return {\n        value: value,\n        dom: dom$1(hasIcons, columns, presets),\n        components: components,\n        items: items\n      };\n    };\n\n    var cardImageFields = [\n      requiredString('type'),\n      requiredString('src'),\n      optionString('alt'),\n      defaultedArrayOf('classes', [], string)\n    ];\n    var cardImageSchema = objOf(cardImageFields);\n\n    var cardTextFields = [\n      requiredString('type'),\n      requiredString('text'),\n      optionString('name'),\n      defaultedArrayOf('classes', ['tox-collection__item-label'], string)\n    ];\n    var cardTextSchema = objOf(cardTextFields);\n\n    var itemSchema$1 = valueThunk(function () {\n      return choose$2('type', {\n        cardimage: cardImageSchema,\n        cardtext: cardTextSchema,\n        cardcontainer: cardContainerSchema\n      });\n    });\n    var cardContainerSchema = objOf([\n      requiredString('type'),\n      defaultedString('direction', 'horizontal'),\n      defaultedString('align', 'left'),\n      defaultedString('valign', 'middle'),\n      requiredArrayOf('items', itemSchema$1)\n    ]);\n\n    var commonMenuItemFields = [\n      defaultedBoolean('disabled', false),\n      optionString('text'),\n      optionString('shortcut'),\n      field$1('value', 'value', defaultedThunk(function () {\n        return generate$6('menuitem-value');\n      }), anyValue()),\n      defaulted('meta', {})\n    ];\n\n    var cardMenuItemSchema = objOf([\n      requiredString('type'),\n      optionString('label'),\n      requiredArrayOf('items', itemSchema$1),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      defaultedFunction('onAction', noop)\n    ].concat(commonMenuItemFields));\n    var createCardMenuItem = function (spec) {\n      return asRaw('cardmenuitem', cardMenuItemSchema, spec);\n    };\n\n    var choiceMenuItemSchema = objOf([\n      requiredString('type'),\n      defaultedBoolean('active', false),\n      optionString('icon')\n    ].concat(commonMenuItemFields));\n    var createChoiceMenuItem = function (spec) {\n      return asRaw('choicemenuitem', choiceMenuItemSchema, spec);\n    };\n\n    var baseFields = [\n      requiredString('type'),\n      requiredString('fancytype'),\n      defaultedFunction('onAction', noop)\n    ];\n    var insertTableFields = [defaulted('initData', {})].concat(baseFields);\n    var colorSwatchFields = [defaultedObjOf('initData', {}, [\n        defaultedBoolean('allowCustomColors', true),\n        optionArrayOf('colors', anyValue())\n      ])].concat(baseFields);\n    var fancyMenuItemSchema = choose$1('fancytype', {\n      inserttable: insertTableFields,\n      colorswatch: colorSwatchFields\n    });\n    var createFancyMenuItem = function (spec) {\n      return asRaw('fancymenuitem', fancyMenuItemSchema, spec);\n    };\n\n    var menuItemSchema = objOf([\n      requiredString('type'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      defaultedFunction('onAction', noop),\n      optionString('icon')\n    ].concat(commonMenuItemFields));\n    var createMenuItem = function (spec) {\n      return asRaw('menuitem', menuItemSchema, spec);\n    };\n\n    var nestedMenuItemSchema = objOf([\n      requiredString('type'),\n      requiredFunction('getSubmenuItems'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      optionString('icon')\n    ].concat(commonMenuItemFields));\n    var createNestedMenuItem = function (spec) {\n      return asRaw('nestedmenuitem', nestedMenuItemSchema, spec);\n    };\n\n    var toggleMenuItemSchema = objOf([\n      requiredString('type'),\n      optionString('icon'),\n      defaultedBoolean('active', false),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      requiredFunction('onAction')\n    ].concat(commonMenuItemFields));\n    var createToggleMenuItem = function (spec) {\n      return asRaw('togglemenuitem', toggleMenuItemSchema, spec);\n    };\n\n    var detectSize = function (comp, margin, selectorClass) {\n      var descendants$1 = descendants(comp.element, '.' + selectorClass);\n      if (descendants$1.length > 0) {\n        var columnLength = findIndex$1(descendants$1, function (c) {\n          var thisTop = c.dom.getBoundingClientRect().top;\n          var cTop = descendants$1[0].dom.getBoundingClientRect().top;\n          return Math.abs(thisTop - cTop) > margin;\n        }).getOr(descendants$1.length);\n        return Optional.some({\n          numColumns: columnLength,\n          numRows: Math.ceil(descendants$1.length / columnLength)\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n\n    var namedEvents = function (name, handlers) {\n      return derive$1([config(name, handlers)]);\n    };\n    var unnamedEvents = function (handlers) {\n      return namedEvents(generate$6('unnamed-events'), handlers);\n    };\n    var SimpleBehaviours = {\n      namedEvents: namedEvents,\n      unnamedEvents: unnamedEvents\n    };\n\n    var ExclusivityChannel = generate$6('tooltip.exclusive');\n    var ShowTooltipEvent = generate$6('tooltip.show');\n    var HideTooltipEvent = generate$6('tooltip.hide');\n\n    var hideAllExclusive = function (component, _tConfig, _tState) {\n      component.getSystem().broadcastOn([ExclusivityChannel], {});\n    };\n    var setComponents = function (component, tConfig, tState, specs) {\n      tState.getTooltip().each(function (tooltip) {\n        if (tooltip.getSystem().isConnected()) {\n          Replacing.set(tooltip, specs);\n        }\n      });\n    };\n\n    var TooltippingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        hideAllExclusive: hideAllExclusive,\n        setComponents: setComponents\n    });\n\n    var events$9 = function (tooltipConfig, state) {\n      var hide = function (comp) {\n        state.getTooltip().each(function (p) {\n          detach(p);\n          tooltipConfig.onHide(comp, p);\n          state.clearTooltip();\n        });\n        state.clearTimer();\n      };\n      var show = function (comp) {\n        if (!state.isShowing()) {\n          hideAllExclusive(comp);\n          var sink = tooltipConfig.lazySink(comp).getOrDie();\n          var popup = comp.getSystem().build({\n            dom: tooltipConfig.tooltipDom,\n            components: tooltipConfig.tooltipComponents,\n            events: derive$2(tooltipConfig.mode === 'normal' ? [\n              run$1(mouseover(), function (_) {\n                emit(comp, ShowTooltipEvent);\n              }),\n              run$1(mouseout(), function (_) {\n                emit(comp, HideTooltipEvent);\n              })\n            ] : []),\n            behaviours: derive$1([Replacing.config({})])\n          });\n          state.setTooltip(popup);\n          attach(sink, popup);\n          tooltipConfig.onShow(comp, popup);\n          Positioning.position(sink, popup, { anchor: tooltipConfig.anchor(comp) });\n        }\n      };\n      return derive$2(flatten([\n        [\n          run$1(ShowTooltipEvent, function (comp) {\n            state.resetTimer(function () {\n              show(comp);\n            }, tooltipConfig.delay);\n          }),\n          run$1(HideTooltipEvent, function (comp) {\n            state.resetTimer(function () {\n              hide(comp);\n            }, tooltipConfig.delay);\n          }),\n          run$1(receive(), function (comp, message) {\n            var receivingData = message;\n            if (!receivingData.universal) {\n              if (contains$2(receivingData.channels, ExclusivityChannel)) {\n                hide(comp);\n              }\n            }\n          }),\n          runOnDetached(function (comp) {\n            hide(comp);\n          })\n        ],\n        tooltipConfig.mode === 'normal' ? [\n          run$1(focusin(), function (comp) {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(postBlur(), function (comp) {\n            emit(comp, HideTooltipEvent);\n          }),\n          run$1(mouseover(), function (comp) {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(mouseout(), function (comp) {\n            emit(comp, HideTooltipEvent);\n          })\n        ] : [\n          run$1(highlight$1(), function (comp, _se) {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(dehighlight$1(), function (comp) {\n            emit(comp, HideTooltipEvent);\n          })\n        ]\n      ]));\n    };\n\n    var ActiveTooltipping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$9\n    });\n\n    var TooltippingSchema = [\n      required$1('lazySink'),\n      required$1('tooltipDom'),\n      defaulted('exclusive', true),\n      defaulted('tooltipComponents', []),\n      defaulted('delay', 300),\n      defaultedStringEnum('mode', 'normal', [\n        'normal',\n        'follow-highlight'\n      ]),\n      defaulted('anchor', function (comp) {\n        return {\n          type: 'hotspot',\n          hotspot: comp,\n          layouts: {\n            onLtr: constant$1([\n              south$2,\n              north$2,\n              southeast$2,\n              northeast$2,\n              southwest$2,\n              northwest$2\n            ]),\n            onRtl: constant$1([\n              south$2,\n              north$2,\n              southeast$2,\n              northeast$2,\n              southwest$2,\n              northwest$2\n            ])\n          }\n        };\n      }),\n      onHandler('onHide'),\n      onHandler('onShow')\n    ];\n\n    var init$b = function () {\n      var timer = value$1();\n      var popup = value$1();\n      var clearTimer = function () {\n        timer.on(clearTimeout);\n      };\n      var resetTimer = function (f, delay) {\n        clearTimer();\n        timer.set(setTimeout(f, delay));\n      };\n      var readState = constant$1('not-implemented');\n      return nu$8({\n        getTooltip: popup.get,\n        isShowing: popup.isSet,\n        setTooltip: popup.set,\n        clearTooltip: popup.clear,\n        clearTimer: clearTimer,\n        resetTimer: resetTimer,\n        readState: readState\n      });\n    };\n\n    var TooltippingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$b\n    });\n\n    var Tooltipping = create$7({\n      fields: TooltippingSchema,\n      name: 'tooltipping',\n      active: ActiveTooltipping,\n      state: TooltippingState,\n      apis: TooltippingApis\n    });\n\n    var escape = function (text) {\n      return text.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n    };\n\n    var global$b = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$a = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n    var getSkinUrl = function (editor) {\n      var skin = editor.getParam('skin');\n      var skinUrl = editor.getParam('skin_url');\n      if (skin !== false) {\n        var skinName = skin ? skin : 'oxide';\n        if (skinUrl) {\n          skinUrl = editor.documentBaseURI.toAbsolute(skinUrl);\n        } else {\n          skinUrl = global$a.baseURL + '/skins/ui/' + skinName;\n        }\n      }\n      return skinUrl;\n    };\n    var isReadOnly = function (editor) {\n      return editor.getParam('readonly', false, 'boolean');\n    };\n    var isSkinDisabled = function (editor) {\n      return editor.getParam('skin') === false;\n    };\n    var getHeightSetting = function (editor) {\n      return editor.getParam('height', Math.max(editor.getElement().offsetHeight, 200));\n    };\n    var getWidthSetting = function (editor) {\n      return editor.getParam('width', global$b.DOM.getStyle(editor.getElement(), 'width'));\n    };\n    var getMinWidthSetting = function (editor) {\n      return Optional.from(editor.getParam('min_width')).filter(isNumber);\n    };\n    var getMinHeightSetting = function (editor) {\n      return Optional.from(editor.getParam('min_height')).filter(isNumber);\n    };\n    var getMaxWidthSetting = function (editor) {\n      return Optional.from(editor.getParam('max_width')).filter(isNumber);\n    };\n    var getMaxHeightSetting = function (editor) {\n      return Optional.from(editor.getParam('max_height')).filter(isNumber);\n    };\n    var getUserStyleFormats = function (editor) {\n      return Optional.from(editor.getParam('style_formats')).filter(isArray);\n    };\n    var isMergeStyleFormats = function (editor) {\n      return editor.getParam('style_formats_merge', false, 'boolean');\n    };\n    var getLineHeightFormats = function (editor) {\n      return editor.getParam('lineheight_formats', '1 1.1 1.2 1.3 1.4 1.5 2', 'string').split(' ');\n    };\n    var getContentLanguages = function (editor) {\n      return editor.getParam('content_langs', undefined, 'array');\n    };\n    var getRemovedMenuItems = function (editor) {\n      return editor.getParam('removed_menuitems', '');\n    };\n    var isMenubarEnabled = function (editor) {\n      return editor.getParam('menubar', true, 'boolean') !== false;\n    };\n    var isToolbarEnabled = function (editor) {\n      var toolbar = editor.getParam('toolbar', true);\n      var isToolbarTrue = toolbar === true;\n      var isToolbarString = isString(toolbar);\n      var isToolbarObjectArray = isArray(toolbar) && toolbar.length > 0;\n      return !isMultipleToolbars(editor) && (isToolbarObjectArray || isToolbarString || isToolbarTrue);\n    };\n    var getMultipleToolbarsSetting = function (editor) {\n      var toolbars = range$2(9, function (num) {\n        return editor.getParam('toolbar' + (num + 1), false, 'string');\n      });\n      var toolbarArray = filter$2(toolbars, function (toolbar) {\n        return typeof toolbar === 'string';\n      });\n      return toolbarArray.length > 0 ? Optional.some(toolbarArray) : Optional.none();\n    };\n    var isMultipleToolbars = function (editor) {\n      return getMultipleToolbarsSetting(editor).fold(function () {\n        var toolbar = editor.getParam('toolbar', [], 'string[]');\n        return toolbar.length > 0;\n      }, always);\n    };\n    var ToolbarMode;\n    (function (ToolbarMode) {\n      ToolbarMode['default'] = 'wrap';\n      ToolbarMode['floating'] = 'floating';\n      ToolbarMode['sliding'] = 'sliding';\n      ToolbarMode['scrolling'] = 'scrolling';\n    }(ToolbarMode || (ToolbarMode = {})));\n    var getToolbarMode = function (editor) {\n      return editor.getParam('toolbar_mode', '', 'string');\n    };\n    var ToolbarLocation;\n    (function (ToolbarLocation) {\n      ToolbarLocation['auto'] = 'auto';\n      ToolbarLocation['top'] = 'top';\n      ToolbarLocation['bottom'] = 'bottom';\n    }(ToolbarLocation || (ToolbarLocation = {})));\n    var getToolbarGroups = function (editor) {\n      return editor.getParam('toolbar_groups', {}, 'object');\n    };\n    var getToolbarLocation = function (editor) {\n      return editor.getParam('toolbar_location', ToolbarLocation.auto, 'string');\n    };\n    var isToolbarLocationBottom = function (editor) {\n      return getToolbarLocation(editor) === ToolbarLocation.bottom;\n    };\n    var fixedContainerSelector = function (editor) {\n      return editor.getParam('fixed_toolbar_container', '', 'string');\n    };\n    var fixedToolbarContainerTarget = function (editor) {\n      return editor.getParam('fixed_toolbar_container_target');\n    };\n    var isToolbarPersist = function (editor) {\n      return editor.getParam('toolbar_persist', false, 'boolean');\n    };\n    var fixedContainerTarget = function (editor) {\n      if (!editor.inline) {\n        return Optional.none();\n      }\n      var selector = fixedContainerSelector(editor);\n      if (selector.length > 0) {\n        return descendant(body(), selector);\n      }\n      var element = fixedToolbarContainerTarget(editor);\n      if (isNonNullable(element)) {\n        return Optional.some(SugarElement.fromDom(element));\n      }\n      return Optional.none();\n    };\n    var useFixedContainer = function (editor) {\n      return editor.inline && fixedContainerTarget(editor).isSome();\n    };\n    var getUiContainer = function (editor) {\n      var fixedContainer = fixedContainerTarget(editor);\n      return fixedContainer.getOrThunk(function () {\n        return getContentContainer(getRootNode(SugarElement.fromDom(editor.getElement())));\n      });\n    };\n    var isDistractionFree = function (editor) {\n      return editor.inline && !isMenubarEnabled(editor) && !isToolbarEnabled(editor) && !isMultipleToolbars(editor);\n    };\n    var isStickyToolbar = function (editor) {\n      var isStickyToolbar = editor.getParam('toolbar_sticky', false, 'boolean');\n      return (isStickyToolbar || editor.inline) && !useFixedContainer(editor) && !isDistractionFree(editor);\n    };\n    var getStickyToolbarOffset = function (editor) {\n      return editor.getParam('toolbar_sticky_offset', 0, 'number');\n    };\n    var isDraggableModal$1 = function (editor) {\n      return editor.getParam('draggable_modal', false, 'boolean');\n    };\n    var getMenus = function (editor) {\n      var menu = editor.getParam('menu');\n      if (menu) {\n        return map$1(menu, function (menu) {\n          return __assign(__assign({}, menu), { items: menu.items });\n        });\n      } else {\n        return {};\n      }\n    };\n    var getMenubar = function (editor) {\n      return editor.getParam('menubar');\n    };\n    var getToolbar = function (editor) {\n      return editor.getParam('toolbar', true);\n    };\n    var getFilePickerCallback = function (editor) {\n      return editor.getParam('file_picker_callback');\n    };\n    var getFilePickerTypes = function (editor) {\n      return editor.getParam('file_picker_types');\n    };\n    var getFileBrowserCallbackTypes = function (editor) {\n      return editor.getParam('file_browser_callback_types');\n    };\n    var noTypeaheadUrls = function (editor) {\n      return editor.getParam('typeahead_urls') === false;\n    };\n    var getAnchorTop = function (editor) {\n      return editor.getParam('anchor_top', '#top');\n    };\n    var getAnchorBottom = function (editor) {\n      return editor.getParam('anchor_bottom', '#bottom');\n    };\n    var getFilePickerValidatorHandler = function (editor) {\n      var handler = editor.getParam('file_picker_validator_handler', undefined, 'function');\n      if (handler === undefined) {\n        return editor.getParam('filepicker_validator_handler', undefined, 'function');\n      } else {\n        return handler;\n      }\n    };\n\n    var ReadOnlyChannel = 'silver.readonly';\n    var ReadOnlyDataSchema = objOf([requiredBoolean('readonly')]);\n    var broadcastReadonly = function (uiComponents, readonly) {\n      var outerContainer = uiComponents.outerContainer;\n      var target = outerContainer.element;\n      if (readonly) {\n        uiComponents.mothership.broadcastOn([dismissPopups()], { target: target });\n        uiComponents.uiMothership.broadcastOn([dismissPopups()], { target: target });\n      }\n      uiComponents.mothership.broadcastOn([ReadOnlyChannel], { readonly: readonly });\n      uiComponents.uiMothership.broadcastOn([ReadOnlyChannel], { readonly: readonly });\n    };\n    var setupReadonlyModeSwitch = function (editor, uiComponents) {\n      editor.on('init', function () {\n        if (editor.mode.isReadOnly()) {\n          broadcastReadonly(uiComponents, true);\n        }\n      });\n      editor.on('SwitchMode', function () {\n        return broadcastReadonly(uiComponents, editor.mode.isReadOnly());\n      });\n      if (isReadOnly(editor)) {\n        editor.setMode('readonly');\n      }\n    };\n    var receivingConfig = function () {\n      var _a;\n      return Receiving.config({\n        channels: (_a = {}, _a[ReadOnlyChannel] = {\n          schema: ReadOnlyDataSchema,\n          onReceive: function (comp, data) {\n            Disabling.set(comp, data.readonly);\n          }\n        }, _a)\n      });\n    };\n\n    var item = function (disabled) {\n      return Disabling.config({\n        disabled: disabled,\n        disableClass: 'tox-collection__item--state-disabled'\n      });\n    };\n    var button = function (disabled) {\n      return Disabling.config({ disabled: disabled });\n    };\n    var splitButton = function (disabled) {\n      return Disabling.config({\n        disabled: disabled,\n        disableClass: 'tox-tbtn--disabled'\n      });\n    };\n    var toolbarButton = function (disabled) {\n      return Disabling.config({\n        disabled: disabled,\n        disableClass: 'tox-tbtn--disabled',\n        useNative: false\n      });\n    };\n    var DisablingConfigs = {\n      item: item,\n      button: button,\n      splitButton: splitButton,\n      toolbarButton: toolbarButton\n    };\n\n    var runWithApi = function (info, comp) {\n      var api = info.getApi(comp);\n      return function (f) {\n        f(api);\n      };\n    };\n    var onControlAttached = function (info, editorOffCell) {\n      return runOnAttached(function (comp) {\n        var run = runWithApi(info, comp);\n        run(function (api) {\n          var onDestroy = info.onSetup(api);\n          if (isFunction(onDestroy)) {\n            editorOffCell.set(onDestroy);\n          }\n        });\n      });\n    };\n    var onControlDetached = function (getApi, editorOffCell) {\n      return runOnDetached(function (comp) {\n        return runWithApi(getApi, comp)(editorOffCell.get());\n      });\n    };\n\n    var _a$1;\n    var onMenuItemExecute = function (info, itemResponse) {\n      return runOnExecute$1(function (comp, simulatedEvent) {\n        runWithApi(info, comp)(info.onAction);\n        if (!info.triggersSubmenu && itemResponse === ItemResponse$1.CLOSE_ON_EXECUTE) {\n          emit(comp, sandboxClose());\n          simulatedEvent.stop();\n        }\n      });\n    };\n    var menuItemEventOrder = (_a$1 = {}, _a$1[execute$5()] = [\n      'disabling',\n      'alloy.base.behaviour',\n      'toggling',\n      'item-events'\n    ], _a$1);\n\n    var componentRenderPipeline = cat;\n    var renderCommonItem = function (spec, structure, itemResponse, providersbackstage) {\n      var editorOffCell = Cell(noop);\n      return {\n        type: 'item',\n        dom: structure.dom,\n        components: componentRenderPipeline(structure.optComponents),\n        data: spec.data,\n        eventOrder: menuItemEventOrder,\n        hasSubmenu: spec.triggersSubmenu,\n        itemBehaviours: derive$1([\n          config('item-events', [\n            onMenuItemExecute(spec, itemResponse),\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          DisablingConfigs.item(function () {\n            return spec.disabled || providersbackstage.isDisabled();\n          }),\n          receivingConfig(),\n          Replacing.config({})\n        ].concat(spec.itemBehaviours))\n      };\n    };\n    var buildData = function (source) {\n      return {\n        value: source.value,\n        meta: __assign({ text: source.text.getOr('') }, source.meta)\n      };\n    };\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var convertText = function (source) {\n      var mac = {\n        alt: '&#x2325;',\n        ctrl: '&#x2303;',\n        shift: '&#x21E7;',\n        meta: '&#x2318;',\n        access: '&#x2303;&#x2325;'\n      };\n      var other = {\n        meta: 'Ctrl',\n        access: 'Shift+Alt'\n      };\n      var replace = global$9.mac ? mac : other;\n      var shortcut = source.split('+');\n      var updated = map$2(shortcut, function (segment) {\n        var search = segment.toLowerCase().trim();\n        return has$2(replace, search) ? replace[search] : segment;\n      });\n      return global$9.mac ? updated.join('') : updated.join('+');\n    };\n\n    var renderIcon$1 = function (name, icons, classes) {\n      if (classes === void 0) {\n        classes = [iconClass];\n      }\n      return render$3(name, {\n        tag: 'div',\n        classes: classes\n      }, icons);\n    };\n    var renderText = function (text$1) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [textClass]\n        },\n        components: [text(global$e.translate(text$1))]\n      };\n    };\n    var renderHtml = function (html, classes) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: classes,\n          innerHtml: html\n        }\n      };\n    };\n    var renderStyledText = function (style, text$1) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [textClass]\n        },\n        components: [{\n            dom: {\n              tag: style.tag,\n              styles: style.styles\n            },\n            components: [text(global$e.translate(text$1))]\n          }]\n      };\n    };\n    var renderShortcut = function (shortcut) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [accessoryClass],\n          innerHtml: convertText(shortcut)\n        }\n      };\n    };\n    var renderCheckmark = function (icons) {\n      return renderIcon$1('checkmark', icons, [checkmarkClass]);\n    };\n    var renderSubmenuCaret = function (icons) {\n      return renderIcon$1('chevron-right', icons, [caretClass]);\n    };\n    var renderDownwardsCaret = function (icons) {\n      return renderIcon$1('chevron-down', icons, [caretClass]);\n    };\n    var renderContainer = function (container, components) {\n      var directionClass = container.direction === 'vertical' ? containerColumnClass : containerRowClass;\n      var alignClass = container.align === 'left' ? containerAlignLeftClass : containerAlignRightClass;\n      var getValignClass = function () {\n        switch (container.valign) {\n        case 'top':\n          return containerValignTopClass;\n        case 'middle':\n          return containerValignMiddleClass;\n        case 'bottom':\n          return containerValignBottomClass;\n        }\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            containerClass,\n            directionClass,\n            alignClass,\n            getValignClass()\n          ]\n        },\n        components: components\n      };\n    };\n    var renderImage = function (src, classes, alt) {\n      return {\n        dom: {\n          tag: 'img',\n          classes: classes,\n          attributes: {\n            src: src,\n            alt: alt.getOr('')\n          }\n        }\n      };\n    };\n\n    var renderColorStructure = function (item, providerBackstage, fallbackIcon) {\n      var colorPickerCommand = 'custom';\n      var removeColorCommand = 'remove';\n      var itemText = item.ariaLabel;\n      var itemValue = item.value;\n      var iconSvg = item.iconContent.map(function (name) {\n        return getOr(name, providerBackstage.icons, fallbackIcon);\n      });\n      var getDom = function () {\n        var common = colorClass;\n        var icon = iconSvg.getOr('');\n        var attributes = itemText.map(function (text) {\n          return { title: providerBackstage.translate(text) };\n        }).getOr({});\n        var baseDom = {\n          tag: 'div',\n          attributes: attributes,\n          classes: [common]\n        };\n        if (itemValue === colorPickerCommand) {\n          return __assign(__assign({}, baseDom), {\n            tag: 'button',\n            classes: __spreadArray(__spreadArray([], baseDom.classes, true), ['tox-swatches__picker-btn'], false),\n            innerHtml: icon\n          });\n        } else if (itemValue === removeColorCommand) {\n          return __assign(__assign({}, baseDom), {\n            classes: __spreadArray(__spreadArray([], baseDom.classes, true), ['tox-swatch--remove'], false),\n            innerHtml: icon\n          });\n        } else {\n          return __assign(__assign({}, baseDom), {\n            attributes: __assign(__assign({}, baseDom.attributes), { 'data-mce-color': itemValue }),\n            styles: { 'background-color': itemValue }\n          });\n        }\n      };\n      return {\n        dom: getDom(),\n        optComponents: []\n      };\n    };\n    var renderItemDomStructure = function (ariaLabel) {\n      var domTitle = ariaLabel.map(function (label) {\n        return { attributes: { title: global$e.translate(label) } };\n      }).getOr({});\n      return __assign({\n        tag: 'div',\n        classes: [\n          navClass,\n          selectableClass\n        ]\n      }, domTitle);\n    };\n    var renderNormalItemStructure = function (info, providersBackstage, renderIcons, fallbackIcon) {\n      var iconSpec = {\n        tag: 'div',\n        classes: [iconClass]\n      };\n      var renderIcon = function (iconName) {\n        return render$3(iconName, iconSpec, providersBackstage.icons, fallbackIcon);\n      };\n      var renderEmptyIcon = function () {\n        return Optional.some({ dom: iconSpec });\n      };\n      var leftIcon = renderIcons ? info.iconContent.map(renderIcon).orThunk(renderEmptyIcon) : Optional.none();\n      var checkmark = info.checkMark;\n      var textRender = Optional.from(info.meta).fold(function () {\n        return renderText;\n      }, function (meta) {\n        return has$2(meta, 'style') ? curry(renderStyledText, meta.style) : renderText;\n      });\n      var content = info.htmlContent.fold(function () {\n        return info.textContent.map(textRender);\n      }, function (html) {\n        return Optional.some(renderHtml(html, [textClass]));\n      });\n      var menuItem = {\n        dom: renderItemDomStructure(info.ariaLabel),\n        optComponents: [\n          leftIcon,\n          content,\n          info.shortcutContent.map(renderShortcut),\n          checkmark,\n          info.caret\n        ]\n      };\n      return menuItem;\n    };\n    var renderItemStructure = function (info, providersBackstage, renderIcons, fallbackIcon) {\n      if (fallbackIcon === void 0) {\n        fallbackIcon = Optional.none();\n      }\n      if (info.presets === 'color') {\n        return renderColorStructure(info, providersBackstage, fallbackIcon);\n      } else {\n        return renderNormalItemStructure(info, providersBackstage, renderIcons, fallbackIcon);\n      }\n    };\n\n    var tooltipBehaviour = function (meta, sharedBackstage) {\n      return get$e(meta, 'tooltipWorker').map(function (tooltipWorker) {\n        return [Tooltipping.config({\n            lazySink: sharedBackstage.getSink,\n            tooltipDom: {\n              tag: 'div',\n              classes: ['tox-tooltip-worker-container']\n            },\n            tooltipComponents: [],\n            anchor: function (comp) {\n              return {\n                type: 'submenu',\n                item: comp,\n                overrides: { maxHeightFunction: expandable$1 }\n              };\n            },\n            mode: 'follow-highlight',\n            onShow: function (component, _tooltip) {\n              tooltipWorker(function (elm) {\n                Tooltipping.setComponents(component, [external$2({ element: SugarElement.fromDom(elm) })]);\n              });\n            }\n          })];\n      }).getOr([]);\n    };\n    var encodeText = function (text) {\n      return global$b.DOM.encode(text);\n    };\n    var replaceText = function (text, matchText) {\n      var translated = global$e.translate(text);\n      var encoded = encodeText(translated);\n      if (matchText.length > 0) {\n        var escapedMatchRegex = new RegExp(escape(matchText), 'gi');\n        return encoded.replace(escapedMatchRegex, function (match) {\n          return '<span class=\"tox-autocompleter-highlight\">' + match + '</span>';\n        });\n      } else {\n        return encoded;\n      }\n    };\n    var renderAutocompleteItem = function (spec, matchText, useText, presets, onItemValueHandler, itemResponse, sharedBackstage, renderIcons) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      var structure = renderItemStructure({\n        presets: presets,\n        textContent: Optional.none(),\n        htmlContent: useText ? spec.text.map(function (text) {\n          return replaceText(text, matchText);\n        }) : Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: Optional.none(),\n        checkMark: Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, sharedBackstage.providers, renderIcons, spec.icon);\n      return renderCommonItem({\n        data: buildData(spec),\n        disabled: spec.disabled,\n        getApi: constant$1({}),\n        onAction: function (_api) {\n          return onItemValueHandler(spec.value, spec.meta);\n        },\n        onSetup: constant$1(noop),\n        triggersSubmenu: false,\n        itemBehaviours: tooltipBehaviour(spec.meta, sharedBackstage)\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    var render$2 = function (items, extras) {\n      return map$2(items, function (item) {\n        switch (item.type) {\n        case 'cardcontainer':\n          return renderContainer(item, render$2(item.items, extras));\n        case 'cardimage':\n          return renderImage(item.src, item.classes, item.alt);\n        case 'cardtext':\n          var shouldHighlight = item.name.exists(function (name) {\n            return contains$2(extras.cardText.highlightOn, name);\n          });\n          var matchText = shouldHighlight ? Optional.from(extras.cardText.matchText).getOr('') : '';\n          return renderHtml(replaceText(item.text, matchText), item.classes);\n        }\n      });\n    };\n    var renderCardMenuItem = function (spec, itemResponse, sharedBackstage, extras) {\n      var getApi = function (component) {\n        return {\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            Disabling.set(component, state);\n            each$1(descendants(component.element, '*'), function (elm) {\n              component.getSystem().getByDom(elm).each(function (comp) {\n                if (comp.hasConfigured(Disabling)) {\n                  Disabling.set(comp, state);\n                }\n              });\n            });\n          }\n        };\n      };\n      var structure = {\n        dom: renderItemDomStructure(spec.label),\n        optComponents: [Optional.some({\n            dom: {\n              tag: 'div',\n              classes: [\n                containerClass,\n                containerRowClass\n              ]\n            },\n            components: render$2(spec.items, extras)\n          })]\n      };\n      return renderCommonItem({\n        data: buildData(__assign({ text: Optional.none() }, spec)),\n        disabled: spec.disabled,\n        getApi: getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: Optional.from(extras.itemBehaviours).getOr([])\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    var renderChoiceItem = function (spec, useText, presets, onItemValueHandler, isSelected, itemResponse, providersBackstage, renderIcons) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      var getApi = function (component) {\n        return {\n          setActive: function (state) {\n            Toggling.set(component, state);\n          },\n          isActive: function () {\n            return Toggling.isOn(component);\n          },\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(component, state);\n          }\n        };\n      };\n      var structure = renderItemStructure({\n        presets: presets,\n        textContent: useText ? spec.text : Optional.none(),\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: useText ? spec.shortcut : Optional.none(),\n        checkMark: useText ? Optional.some(renderCheckmark(providersBackstage.icons)) : Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, providersBackstage, renderIcons);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        disabled: spec.disabled,\n        getApi: getApi,\n        onAction: function (_api) {\n          return onItemValueHandler(spec.value);\n        },\n        onSetup: function (api) {\n          api.setActive(isSelected);\n          return noop;\n        },\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active\n        }\n      });\n    };\n\n    var parts$f = generate$3(owner$2(), parts$h());\n\n    var hexColour = function (value) {\n      return { value: value };\n    };\n    var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    var longformRegex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n    var isHexString = function (hex) {\n      return shorthandRegex.test(hex) || longformRegex.test(hex);\n    };\n    var normalizeHex = function (hex) {\n      return removeLeading(hex, '#').toUpperCase();\n    };\n    var fromString$1 = function (hex) {\n      return isHexString(hex) ? Optional.some({ value: normalizeHex(hex) }) : Optional.none();\n    };\n    var getLongForm = function (hex) {\n      var hexString = hex.value.replace(shorthandRegex, function (m, r, g, b) {\n        return r + r + g + g + b + b;\n      });\n      return { value: hexString };\n    };\n    var extractValues = function (hex) {\n      var longForm = getLongForm(hex);\n      var splitForm = longformRegex.exec(longForm.value);\n      return splitForm === null ? [\n        'FFFFFF',\n        'FF',\n        'FF',\n        'FF'\n      ] : splitForm;\n    };\n    var toHex = function (component) {\n      var hex = component.toString(16);\n      return (hex.length === 1 ? '0' + hex : hex).toUpperCase();\n    };\n    var fromRgba = function (rgbaColour) {\n      var value = toHex(rgbaColour.red) + toHex(rgbaColour.green) + toHex(rgbaColour.blue);\n      return hexColour(value);\n    };\n\n    var min = Math.min;\n    var max = Math.max;\n    var round$1 = Math.round;\n    var rgbRegex = /^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)/;\n    var rgbaRegex = /^rgba\\((\\d+),\\s*(\\d+),\\s*(\\d+),\\s*(\\d?(?:\\.\\d+)?)\\)/;\n    var rgbaColour = function (red, green, blue, alpha) {\n      return {\n        red: red,\n        green: green,\n        blue: blue,\n        alpha: alpha\n      };\n    };\n    var isRgbaComponent = function (value) {\n      var num = parseInt(value, 10);\n      return num.toString() === value && num >= 0 && num <= 255;\n    };\n    var fromHsv = function (hsv) {\n      var r;\n      var g;\n      var b;\n      var hue = (hsv.hue || 0) % 360;\n      var saturation = hsv.saturation / 100;\n      var brightness = hsv.value / 100;\n      saturation = max(0, min(saturation, 1));\n      brightness = max(0, min(brightness, 1));\n      if (saturation === 0) {\n        r = g = b = round$1(255 * brightness);\n        return rgbaColour(r, g, b, 1);\n      }\n      var side = hue / 60;\n      var chroma = brightness * saturation;\n      var x = chroma * (1 - Math.abs(side % 2 - 1));\n      var match = brightness - chroma;\n      switch (Math.floor(side)) {\n      case 0:\n        r = chroma;\n        g = x;\n        b = 0;\n        break;\n      case 1:\n        r = x;\n        g = chroma;\n        b = 0;\n        break;\n      case 2:\n        r = 0;\n        g = chroma;\n        b = x;\n        break;\n      case 3:\n        r = 0;\n        g = x;\n        b = chroma;\n        break;\n      case 4:\n        r = x;\n        g = 0;\n        b = chroma;\n        break;\n      case 5:\n        r = chroma;\n        g = 0;\n        b = x;\n        break;\n      default:\n        r = g = b = 0;\n      }\n      r = round$1(255 * (r + match));\n      g = round$1(255 * (g + match));\n      b = round$1(255 * (b + match));\n      return rgbaColour(r, g, b, 1);\n    };\n    var fromHex = function (hexColour) {\n      var result = extractValues(hexColour);\n      var red = parseInt(result[1], 16);\n      var green = parseInt(result[2], 16);\n      var blue = parseInt(result[3], 16);\n      return rgbaColour(red, green, blue, 1);\n    };\n    var fromStringValues = function (red, green, blue, alpha) {\n      var r = parseInt(red, 10);\n      var g = parseInt(green, 10);\n      var b = parseInt(blue, 10);\n      var a = parseFloat(alpha);\n      return rgbaColour(r, g, b, a);\n    };\n    var fromString = function (rgbaString) {\n      if (rgbaString === 'transparent') {\n        return Optional.some(rgbaColour(0, 0, 0, 0));\n      }\n      var rgbMatch = rgbRegex.exec(rgbaString);\n      if (rgbMatch !== null) {\n        return Optional.some(fromStringValues(rgbMatch[1], rgbMatch[2], rgbMatch[3], '1'));\n      }\n      var rgbaMatch = rgbaRegex.exec(rgbaString);\n      if (rgbaMatch !== null) {\n        return Optional.some(fromStringValues(rgbaMatch[1], rgbaMatch[2], rgbaMatch[3], rgbaMatch[4]));\n      }\n      return Optional.none();\n    };\n    var toString = function (rgba) {\n      return 'rgba(' + rgba.red + ',' + rgba.green + ',' + rgba.blue + ',' + rgba.alpha + ')';\n    };\n    var red = rgbaColour(255, 0, 0, 1);\n\n    var fireSkinLoaded$1 = function (editor) {\n      return editor.fire('SkinLoaded');\n    };\n    var fireSkinLoadError$1 = function (editor, error) {\n      return editor.fire('SkinLoadError', error);\n    };\n    var fireResizeEditor = function (editor) {\n      return editor.fire('ResizeEditor');\n    };\n    var fireResizeContent = function (editor, e) {\n      return editor.fire('ResizeContent', e);\n    };\n    var fireScrollContent = function (editor, e) {\n      return editor.fire('ScrollContent', e);\n    };\n    var fireTextColorChange = function (editor, data) {\n      return editor.fire('TextColorChange', data);\n    };\n\n    var hsvColour = function (hue, saturation, value) {\n      return {\n        hue: hue,\n        saturation: saturation,\n        value: value\n      };\n    };\n    var fromRgb = function (rgbaColour) {\n      var h = 0;\n      var s = 0;\n      var v = 0;\n      var r = rgbaColour.red / 255;\n      var g = rgbaColour.green / 255;\n      var b = rgbaColour.blue / 255;\n      var minRGB = Math.min(r, Math.min(g, b));\n      var maxRGB = Math.max(r, Math.max(g, b));\n      if (minRGB === maxRGB) {\n        v = minRGB;\n        return hsvColour(0, 0, v * 100);\n      }\n      var d = r === minRGB ? g - b : b === minRGB ? r - g : b - r;\n      h = r === minRGB ? 3 : b === minRGB ? 1 : 5;\n      h = 60 * (h - d / (maxRGB - minRGB));\n      s = (maxRGB - minRGB) / maxRGB;\n      v = maxRGB;\n      return hsvColour(Math.round(h), Math.round(s * 100), Math.round(v * 100));\n    };\n\n    var hexToHsv = function (hex) {\n      return fromRgb(fromHex(hex));\n    };\n    var hsvToHex = function (hsv) {\n      return fromRgba(fromHsv(hsv));\n    };\n    var anyToHex = function (color) {\n      return fromString$1(color).orThunk(function () {\n        return fromString(color).map(fromRgba);\n      }).getOrThunk(function () {\n        var canvas = document.createElement('canvas');\n        canvas.height = 1;\n        canvas.width = 1;\n        var canvasContext = canvas.getContext('2d');\n        canvasContext.clearRect(0, 0, canvas.width, canvas.height);\n        canvasContext.fillStyle = '#FFFFFF';\n        canvasContext.fillStyle = color;\n        canvasContext.fillRect(0, 0, 1, 1);\n        var rgba = canvasContext.getImageData(0, 0, 1, 1).data;\n        var r = rgba[0];\n        var g = rgba[1];\n        var b = rgba[2];\n        var a = rgba[3];\n        return fromRgba(rgbaColour(r, g, b, a));\n      });\n    };\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.util.LocalStorage');\n\n    var storageName = 'tinymce-custom-colors';\n    function ColorCache (max) {\n      if (max === void 0) {\n        max = 10;\n      }\n      var storageString = global$8.getItem(storageName);\n      var localstorage = isString(storageString) ? JSON.parse(storageString) : [];\n      var prune = function (list) {\n        var diff = max - list.length;\n        return diff < 0 ? list.slice(0, max) : list;\n      };\n      var cache = prune(localstorage);\n      var add = function (key) {\n        indexOf(cache, key).each(remove);\n        cache.unshift(key);\n        if (cache.length > max) {\n          cache.pop();\n        }\n        global$8.setItem(storageName, JSON.stringify(cache));\n      };\n      var remove = function (idx) {\n        cache.splice(idx, 1);\n      };\n      var state = function () {\n        return cache.slice(0);\n      };\n      return {\n        add: add,\n        state: state\n      };\n    }\n\n    var choiceItem = 'choiceitem';\n    var defaultColors = [\n      {\n        type: choiceItem,\n        text: 'Light Green',\n        value: '#BFEDD2'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Yellow',\n        value: '#FBEEB8'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Red',\n        value: '#F8CAC6'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Purple',\n        value: '#ECCAFA'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Blue',\n        value: '#C2E0F4'\n      },\n      {\n        type: choiceItem,\n        text: 'Green',\n        value: '#2DC26B'\n      },\n      {\n        type: choiceItem,\n        text: 'Yellow',\n        value: '#F1C40F'\n      },\n      {\n        type: choiceItem,\n        text: 'Red',\n        value: '#E03E2D'\n      },\n      {\n        type: choiceItem,\n        text: 'Purple',\n        value: '#B96AD9'\n      },\n      {\n        type: choiceItem,\n        text: 'Blue',\n        value: '#3598DB'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Turquoise',\n        value: '#169179'\n      },\n      {\n        type: choiceItem,\n        text: 'Orange',\n        value: '#E67E23'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Red',\n        value: '#BA372A'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Purple',\n        value: '#843FA1'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Blue',\n        value: '#236FA1'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Gray',\n        value: '#ECF0F1'\n      },\n      {\n        type: choiceItem,\n        text: 'Medium Gray',\n        value: '#CED4D9'\n      },\n      {\n        type: choiceItem,\n        text: 'Gray',\n        value: '#95A5A6'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Gray',\n        value: '#7E8C8D'\n      },\n      {\n        type: choiceItem,\n        text: 'Navy Blue',\n        value: '#34495E'\n      },\n      {\n        type: choiceItem,\n        text: 'Black',\n        value: '#000000'\n      },\n      {\n        type: choiceItem,\n        text: 'White',\n        value: '#ffffff'\n      }\n    ];\n    var colorCache = ColorCache(10);\n    var mapColors = function (colorMap) {\n      var colors = [];\n      for (var i = 0; i < colorMap.length; i += 2) {\n        colors.push({\n          text: colorMap[i + 1],\n          value: '#' + anyToHex(colorMap[i]).value,\n          type: 'choiceitem'\n        });\n      }\n      return colors;\n    };\n    var getColorCols$2 = function (editor, defaultCols) {\n      return editor.getParam('color_cols', defaultCols, 'number');\n    };\n    var hasCustomColors$1 = function (editor) {\n      return editor.getParam('custom_colors') !== false;\n    };\n    var getColorMap = function (editor) {\n      return editor.getParam('color_map');\n    };\n    var getColors$2 = function (editor) {\n      var unmapped = getColorMap(editor);\n      return unmapped !== undefined ? mapColors(unmapped) : defaultColors;\n    };\n    var getCurrentColors = function () {\n      return map$2(colorCache.state(), function (color) {\n        return {\n          type: choiceItem,\n          text: color,\n          value: color\n        };\n      });\n    };\n    var addColor = function (color) {\n      colorCache.add(color);\n    };\n\n    var fallbackColor = '#000000';\n    var getCurrentColor = function (editor, format) {\n      var color;\n      editor.dom.getParents(editor.selection.getStart(), function (elm) {\n        var value;\n        if (value = elm.style[format === 'forecolor' ? 'color' : 'background-color']) {\n          color = color ? color : value;\n        }\n      });\n      return Optional.from(color);\n    };\n    var applyFormat = function (editor, format, value) {\n      editor.undoManager.transact(function () {\n        editor.focus();\n        editor.formatter.apply(format, { value: value });\n        editor.nodeChanged();\n      });\n    };\n    var removeFormat = function (editor, format) {\n      editor.undoManager.transact(function () {\n        editor.focus();\n        editor.formatter.remove(format, { value: null }, null, true);\n        editor.nodeChanged();\n      });\n    };\n    var registerCommands = function (editor) {\n      editor.addCommand('mceApplyTextcolor', function (format, value) {\n        applyFormat(editor, format, value);\n      });\n      editor.addCommand('mceRemoveTextcolor', function (format) {\n        removeFormat(editor, format);\n      });\n    };\n    var calcCols = function (colors) {\n      return Math.max(5, Math.ceil(Math.sqrt(colors)));\n    };\n    var getColorCols$1 = function (editor) {\n      var colors = getColors$2(editor);\n      var defaultCols = calcCols(colors.length);\n      return getColorCols$2(editor, defaultCols);\n    };\n    var getAdditionalColors = function (hasCustom) {\n      var type = 'choiceitem';\n      var remove = {\n        type: type,\n        text: 'Remove color',\n        icon: 'color-swatch-remove-color',\n        value: 'remove'\n      };\n      var custom = {\n        type: type,\n        text: 'Custom color',\n        icon: 'color-picker',\n        value: 'custom'\n      };\n      return hasCustom ? [\n        remove,\n        custom\n      ] : [remove];\n    };\n    var applyColor = function (editor, format, value, onChoice) {\n      if (value === 'custom') {\n        var dialog = colorPickerDialog(editor);\n        dialog(function (colorOpt) {\n          colorOpt.each(function (color) {\n            addColor(color);\n            editor.execCommand('mceApplyTextcolor', format, color);\n            onChoice(color);\n          });\n        }, fallbackColor);\n      } else if (value === 'remove') {\n        onChoice('');\n        editor.execCommand('mceRemoveTextcolor', format);\n      } else {\n        onChoice(value);\n        editor.execCommand('mceApplyTextcolor', format, value);\n      }\n    };\n    var getColors$1 = function (colors, hasCustom) {\n      return colors.concat(getCurrentColors().concat(getAdditionalColors(hasCustom)));\n    };\n    var getFetch$1 = function (colors, hasCustom) {\n      return function (callback) {\n        callback(getColors$1(colors, hasCustom));\n      };\n    };\n    var setIconColor = function (splitButtonApi, name, newColor) {\n      var id = name === 'forecolor' ? 'tox-icon-text-color__color' : 'tox-icon-highlight-bg-color__color';\n      splitButtonApi.setIconFill(id, newColor);\n    };\n    var registerTextColorButton = function (editor, name, format, tooltip, lastColor) {\n      editor.ui.registry.addSplitButton(name, {\n        tooltip: tooltip,\n        presets: 'color',\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        select: function (value) {\n          var optCurrentRgb = getCurrentColor(editor, format);\n          return optCurrentRgb.bind(function (currentRgb) {\n            return fromString(currentRgb).map(function (rgba) {\n              var currentHex = fromRgba(rgba).value;\n              return contains$1(value.toLowerCase(), currentHex);\n            });\n          }).getOr(false);\n        },\n        columns: getColorCols$1(editor),\n        fetch: getFetch$1(getColors$2(editor), hasCustomColors$1(editor)),\n        onAction: function (_splitButtonApi) {\n          applyColor(editor, format, lastColor.get(), noop);\n        },\n        onItemAction: function (_splitButtonApi, value) {\n          applyColor(editor, format, value, function (newColor) {\n            lastColor.set(newColor);\n            fireTextColorChange(editor, {\n              name: name,\n              color: newColor\n            });\n          });\n        },\n        onSetup: function (splitButtonApi) {\n          setIconColor(splitButtonApi, name, lastColor.get());\n          var handler = function (e) {\n            if (e.name === name) {\n              setIconColor(splitButtonApi, e.name, e.color);\n            }\n          };\n          editor.on('TextColorChange', handler);\n          return function () {\n            editor.off('TextColorChange', handler);\n          };\n        }\n      });\n    };\n    var registerTextColorMenuItem = function (editor, name, format, text) {\n      editor.ui.registry.addNestedMenuItem(name, {\n        text: text,\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        getSubmenuItems: function () {\n          return [{\n              type: 'fancymenuitem',\n              fancytype: 'colorswatch',\n              onAction: function (data) {\n                applyColor(editor, format, data.value, noop);\n              }\n            }];\n        }\n      });\n    };\n    var colorPickerDialog = function (editor) {\n      return function (callback, value) {\n        var isValid = false;\n        var onSubmit = function (api) {\n          var data = api.getData();\n          var hex = data.colorpicker;\n          if (isValid) {\n            callback(Optional.from(hex));\n            api.close();\n          } else {\n            editor.windowManager.alert(editor.translate([\n              'Invalid hex color code: {0}',\n              hex\n            ]));\n          }\n        };\n        var onAction = function (_api, details) {\n          if (details.name === 'hex-valid') {\n            isValid = details.value;\n          }\n        };\n        var initialData = { colorpicker: value };\n        editor.windowManager.open({\n          title: 'Color Picker',\n          size: 'normal',\n          body: {\n            type: 'panel',\n            items: [{\n                type: 'colorpicker',\n                name: 'colorpicker',\n                label: 'Color'\n              }]\n          },\n          buttons: [\n            {\n              type: 'cancel',\n              name: 'cancel',\n              text: 'Cancel'\n            },\n            {\n              type: 'submit',\n              name: 'save',\n              text: 'Save',\n              primary: true\n            }\n          ],\n          initialData: initialData,\n          onAction: onAction,\n          onSubmit: onSubmit,\n          onClose: noop,\n          onCancel: function () {\n            callback(Optional.none());\n          }\n        });\n      };\n    };\n    var register$a = function (editor) {\n      registerCommands(editor);\n      var lastForeColor = Cell(fallbackColor);\n      var lastBackColor = Cell(fallbackColor);\n      registerTextColorButton(editor, 'forecolor', 'forecolor', 'Text color', lastForeColor);\n      registerTextColorButton(editor, 'backcolor', 'hilitecolor', 'Background color', lastBackColor);\n      registerTextColorMenuItem(editor, 'forecolor', 'forecolor', 'Text color');\n      registerTextColorMenuItem(editor, 'backcolor', 'hilitecolor', 'Background color');\n    };\n\n    var createPartialChoiceMenu = function (value, items, onItemValueHandler, columns, presets, itemResponse, select, providersBackstage) {\n      var hasIcons = menuHasIcons(items);\n      var presetItemTypes = presets !== 'color' ? 'normal' : 'color';\n      var alloyItems = createChoiceItems(items, onItemValueHandler, columns, presetItemTypes, itemResponse, select, providersBackstage);\n      return createPartialMenuWithAlloyItems(value, hasIcons, alloyItems, columns, presets);\n    };\n    var createChoiceItems = function (items, onItemValueHandler, columns, itemPresets, itemResponse, select, providersBackstage) {\n      return cat(map$2(items, function (item) {\n        if (item.type === 'choiceitem') {\n          return createChoiceMenuItem(item).fold(handleError, function (d) {\n            return Optional.some(renderChoiceItem(d, columns === 1, itemPresets, onItemValueHandler, select(item.value), itemResponse, providersBackstage, menuHasIcons(items)));\n          });\n        } else {\n          return Optional.none();\n        }\n      }));\n    };\n\n    var deriveMenuMovement = function (columns, presets) {\n      var menuMarkers = markers(presets);\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: true\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'grid',\n          selector: '.' + menuMarkers.item,\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        var rowClass = presets === 'color' ? 'tox-swatches__row' : 'tox-collection__group';\n        return {\n          mode: 'matrix',\n          rowSelector: '.' + rowClass\n        };\n      }\n    };\n    var deriveCollectionMovement = function (columns, presets) {\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: false,\n          selector: '.tox-collection__item'\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'flatgrid',\n          selector: '.' + 'tox-collection__item',\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        return {\n          mode: 'matrix',\n          selectors: {\n            row: presets === 'color' ? '.tox-swatches__row' : '.tox-collection__group',\n            cell: presets === 'color' ? '.' + colorClass : '.' + selectableClass\n          }\n        };\n      }\n    };\n\n    var renderColorSwatchItem = function (spec, backstage) {\n      var items = getColorItems(spec, backstage);\n      var columns = backstage.colorinput.getColorCols();\n      var presets = 'color';\n      var menuSpec = createPartialChoiceMenu(generate$6('menu-value'), items, function (value) {\n        spec.onAction({ value: value });\n      }, columns, presets, ItemResponse$1.CLOSE_ON_EXECUTE, never, backstage.shared.providers);\n      var widgetSpec = __assign(__assign({}, menuSpec), {\n        markers: markers(presets),\n        movement: deriveMenuMovement(columns, presets)\n      });\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget(Menu.sketch(widgetSpec))]\n      };\n    };\n    var getColorItems = function (spec, backstage) {\n      var useCustomColors = spec.initData.allowCustomColors && backstage.colorinput.hasCustomColors();\n      return spec.initData.colors.fold(function () {\n        return getColors$1(backstage.colorinput.getColors(), useCustomColors);\n      }, function (colors) {\n        return colors.concat(getAdditionalColors(useCustomColors));\n      });\n    };\n\n    var cellOverEvent = generate$6('cell-over');\n    var cellExecuteEvent = generate$6('cell-execute');\n    var makeCell = function (row, col, labelId) {\n      var _a;\n      var emitCellOver = function (c) {\n        return emitWith(c, cellOverEvent, {\n          row: row,\n          col: col\n        });\n      };\n      var emitExecute = function (c) {\n        return emitWith(c, cellExecuteEvent, {\n          row: row,\n          col: col\n        });\n      };\n      var onClick = function (c, se) {\n        se.stop();\n        emitExecute(c);\n      };\n      return build$1({\n        dom: {\n          tag: 'div',\n          attributes: (_a = { role: 'button' }, _a['aria-labelledby'] = labelId, _a)\n        },\n        behaviours: derive$1([\n          config('insert-table-picker-cell', [\n            run$1(mouseover(), Focusing.focus),\n            run$1(execute$5(), emitExecute),\n            run$1(click(), onClick),\n            run$1(tap(), onClick)\n          ]),\n          Toggling.config({\n            toggleClass: 'tox-insert-table-picker__selected',\n            toggleOnExecute: false\n          }),\n          Focusing.config({ onFocus: emitCellOver })\n        ])\n      });\n    };\n    var makeCells = function (labelId, numRows, numCols) {\n      var cells = [];\n      for (var i = 0; i < numRows; i++) {\n        var row = [];\n        for (var j = 0; j < numCols; j++) {\n          row.push(makeCell(i, j, labelId));\n        }\n        cells.push(row);\n      }\n      return cells;\n    };\n    var selectCells = function (cells, selectedRow, selectedColumn, numRows, numColumns) {\n      for (var i = 0; i < numRows; i++) {\n        for (var j = 0; j < numColumns; j++) {\n          Toggling.set(cells[i][j], i <= selectedRow && j <= selectedColumn);\n        }\n      }\n    };\n    var makeComponents = function (cells) {\n      return bind$3(cells, function (cellRow) {\n        return map$2(cellRow, premade);\n      });\n    };\n    var makeLabelText = function (row, col) {\n      return text(col + 'x' + row);\n    };\n    var renderInsertTableMenuItem = function (spec) {\n      var numRows = 10;\n      var numColumns = 10;\n      var sizeLabelId = generate$6('size-label');\n      var cells = makeCells(sizeLabelId, numRows, numColumns);\n      var emptyLabelText = makeLabelText(0, 0);\n      var memLabel = record({\n        dom: {\n          tag: 'span',\n          classes: ['tox-insert-table-picker__label'],\n          attributes: { id: sizeLabelId }\n        },\n        components: [emptyLabelText],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget({\n            dom: {\n              tag: 'div',\n              classes: ['tox-insert-table-picker']\n            },\n            components: makeComponents(cells).concat(memLabel.asSpec()),\n            behaviours: derive$1([\n              config('insert-table-picker', [\n                runOnAttached(function (c) {\n                  Replacing.set(memLabel.get(c), [emptyLabelText]);\n                }),\n                runWithTarget(cellOverEvent, function (c, t, e) {\n                  var _a = e.event, row = _a.row, col = _a.col;\n                  selectCells(cells, row, col, numRows, numColumns);\n                  Replacing.set(memLabel.get(c), [makeLabelText(row + 1, col + 1)]);\n                }),\n                runWithTarget(cellExecuteEvent, function (c, _, e) {\n                  var _a = e.event, row = _a.row, col = _a.col;\n                  spec.onAction({\n                    numRows: row + 1,\n                    numColumns: col + 1\n                  });\n                  emit(c, sandboxClose());\n                })\n              ]),\n              Keying.config({\n                initSize: {\n                  numRows: numRows,\n                  numColumns: numColumns\n                },\n                mode: 'flatgrid',\n                selector: '[role=\"button\"]'\n              })\n            ])\n          })]\n      };\n    };\n\n    var fancyMenuItems = {\n      inserttable: renderInsertTableMenuItem,\n      colorswatch: renderColorSwatchItem\n    };\n    var renderFancyMenuItem = function (spec, backstage) {\n      return get$e(fancyMenuItems, spec.fancytype).map(function (render) {\n        return render(spec, backstage);\n      });\n    };\n\n    var renderNestedItem = function (spec, itemResponse, providersBackstage, renderIcons, downwardsCaret) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      if (downwardsCaret === void 0) {\n        downwardsCaret = false;\n      }\n      var caret = downwardsCaret ? renderDownwardsCaret(providersBackstage.icons) : renderSubmenuCaret(providersBackstage.icons);\n      var getApi = function (component) {\n        return {\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(component, state);\n          }\n        };\n      };\n      var structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.some(caret),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi: getApi,\n        disabled: spec.disabled,\n        onAction: noop,\n        onSetup: spec.onSetup,\n        triggersSubmenu: true,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    var renderNormalItem = function (spec, itemResponse, providersBackstage, renderIcons) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      var getApi = function (component) {\n        return {\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(component, state);\n          }\n        };\n      };\n      var structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.none(),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi: getApi,\n        disabled: spec.disabled,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    var renderSeparatorItem = function (spec) {\n      var innerHtml = spec.text.fold(function () {\n        return {};\n      }, function (text) {\n        return { innerHtml: text };\n      });\n      return {\n        type: 'separator',\n        dom: __assign({\n          tag: 'div',\n          classes: [\n            selectableClass,\n            groupHeadingClass\n          ]\n        }, innerHtml),\n        components: []\n      };\n    };\n\n    var renderToggleMenuItem = function (spec, itemResponse, providersBackstage, renderIcons) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      var getApi = function (component) {\n        return {\n          setActive: function (state) {\n            Toggling.set(component, state);\n          },\n          isActive: function () {\n            return Toggling.isOn(component);\n          },\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(component, state);\n          }\n        };\n      };\n      var structure = renderItemStructure({\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        checkMark: Optional.some(renderCheckmark(providersBackstage.icons)),\n        caret: Optional.none(),\n        shortcutContent: spec.shortcut,\n        presets: 'normal',\n        meta: spec.meta\n      }, providersBackstage, renderIcons);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        disabled: spec.disabled,\n        getApi: getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active\n        }\n      });\n    };\n\n    var autocomplete = renderAutocompleteItem;\n    var separator$3 = renderSeparatorItem;\n    var normal = renderNormalItem;\n    var nested = renderNestedItem;\n    var toggle$1 = renderToggleMenuItem;\n    var fancy = renderFancyMenuItem;\n    var card = renderCardMenuItem;\n\n    var FocusMode;\n    (function (FocusMode) {\n      FocusMode[FocusMode['ContentFocus'] = 0] = 'ContentFocus';\n      FocusMode[FocusMode['UiFocus'] = 1] = 'UiFocus';\n    }(FocusMode || (FocusMode = {})));\n    var createMenuItemFromBridge = function (item, itemResponse, backstage, menuHasIcons, isHorizontalMenu) {\n      var providersBackstage = backstage.shared.providers;\n      var parseForHorizontalMenu = function (menuitem) {\n        return !isHorizontalMenu ? menuitem : __assign(__assign({}, menuitem), {\n          shortcut: Optional.none(),\n          icon: menuitem.text.isSome() ? Optional.none() : menuitem.icon\n        });\n      };\n      switch (item.type) {\n      case 'menuitem':\n        return createMenuItem(item).fold(handleError, function (d) {\n          return Optional.some(normal(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons));\n        });\n      case 'nestedmenuitem':\n        return createNestedMenuItem(item).fold(handleError, function (d) {\n          return Optional.some(nested(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons, isHorizontalMenu));\n        });\n      case 'togglemenuitem':\n        return createToggleMenuItem(item).fold(handleError, function (d) {\n          return Optional.some(toggle$1(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons));\n        });\n      case 'separator':\n        return createSeparatorMenuItem(item).fold(handleError, function (d) {\n          return Optional.some(separator$3(d));\n        });\n      case 'fancymenuitem':\n        return createFancyMenuItem(item).fold(handleError, function (d) {\n          return fancy(parseForHorizontalMenu(d), backstage);\n        });\n      default: {\n          console.error('Unknown item in general menu', item);\n          return Optional.none();\n        }\n      }\n    };\n    var createAutocompleteItems = function (items, matchText, onItemValueHandler, columns, itemResponse, sharedBackstage, highlightOn) {\n      var renderText = columns === 1;\n      var renderIcons = !renderText || menuHasIcons(items);\n      return cat(map$2(items, function (item) {\n        switch (item.type) {\n        case 'separator':\n          return createSeparatorItem(item).fold(handleError, function (d) {\n            return Optional.some(separator$3(d));\n          });\n        case 'cardmenuitem':\n          return createCardMenuItem(item).fold(handleError, function (d) {\n            return Optional.some(card(__assign(__assign({}, d), {\n              onAction: function (api) {\n                d.onAction(api);\n                onItemValueHandler(d.value, d.meta);\n              }\n            }), itemResponse, sharedBackstage, {\n              itemBehaviours: tooltipBehaviour(d.meta, sharedBackstage),\n              cardText: {\n                matchText: matchText,\n                highlightOn: highlightOn\n              }\n            }));\n          });\n        case 'autocompleteitem':\n        default:\n          return createAutocompleterItem(item).fold(handleError, function (d) {\n            return Optional.some(autocomplete(d, matchText, renderText, 'normal', onItemValueHandler, itemResponse, sharedBackstage, renderIcons));\n          });\n        }\n      }));\n    };\n    var createPartialMenu = function (value, items, itemResponse, backstage, isHorizontalMenu) {\n      var hasIcons = menuHasIcons(items);\n      var alloyItems = cat(map$2(items, function (item) {\n        var itemHasIcon = function (i) {\n          return isHorizontalMenu ? !has$2(i, 'text') : hasIcons;\n        };\n        var createItem = function (i) {\n          return createMenuItemFromBridge(i, itemResponse, backstage, itemHasIcon(i), isHorizontalMenu);\n        };\n        if (item.type === 'nestedmenuitem' && item.getSubmenuItems().length <= 0) {\n          return createItem(__assign(__assign({}, item), { disabled: true }));\n        } else {\n          return createItem(item);\n        }\n      }));\n      var createPartial = isHorizontalMenu ? createHorizontalPartialMenuWithAlloyItems : createPartialMenuWithAlloyItems;\n      return createPartial(value, hasIcons, alloyItems, 1, 'normal');\n    };\n    var createTieredDataFrom = function (partialMenu) {\n      return tieredMenu.singleData(partialMenu.value, partialMenu);\n    };\n    var createMenuFrom = function (partialMenu, columns, focusMode, presets) {\n      var focusManager = focusMode === FocusMode.ContentFocus ? highlights() : dom$2();\n      var movement = deriveMenuMovement(columns, presets);\n      var menuMarkers = markers(presets);\n      return {\n        dom: partialMenu.dom,\n        components: partialMenu.components,\n        items: partialMenu.items,\n        value: partialMenu.value,\n        markers: {\n          selectedItem: menuMarkers.selectedItem,\n          item: menuMarkers.item\n        },\n        movement: movement,\n        fakeFocus: focusMode === FocusMode.ContentFocus,\n        focusManager: focusManager,\n        menuBehaviours: SimpleBehaviours.unnamedEvents(columns !== 'auto' ? [] : [runOnAttached(function (comp, _se) {\n            detectSize(comp, 4, menuMarkers.item).each(function (_a) {\n              var numColumns = _a.numColumns, numRows = _a.numRows;\n              Keying.setGridSize(comp, numRows, numColumns);\n            });\n          })])\n      };\n    };\n\n    var register$9 = function (editor, sharedBackstage) {\n      var activeAutocompleter = value$1();\n      var processingAction = Cell(false);\n      var autocompleter = build$1(InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-autocompleter']\n        },\n        components: [],\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissAutocompleter', [run$1(dismissRequested(), function () {\n              return cancelIfNecessary();\n            })])]),\n        lazySink: sharedBackstage.getSink\n      }));\n      var isMenuOpen = function () {\n        return InlineView.isOpen(autocompleter);\n      };\n      var isActive = function () {\n        return activeAutocompleter.get().isSome();\n      };\n      var hideIfNecessary = function () {\n        if (isActive()) {\n          InlineView.hide(autocompleter);\n        }\n      };\n      var cancelIfNecessary = function () {\n        if (isActive()) {\n          var lastElement = activeAutocompleter.get().map(function (ac) {\n            return ac.element;\n          });\n          detect(lastElement.getOr(SugarElement.fromDom(editor.selection.getNode()))).each(unwrap);\n          hideIfNecessary();\n          activeAutocompleter.clear();\n          processingAction.set(false);\n        }\n      };\n      var getAutocompleters = cached(function () {\n        return register$b(editor);\n      });\n      var getCombinedItems = function (triggerChar, matches) {\n        var columns = findMap(matches, function (m) {\n          return Optional.from(m.columns);\n        }).getOr(1);\n        return bind$3(matches, function (match) {\n          var choices = match.items;\n          return createAutocompleteItems(choices, match.matchText, function (itemValue, itemMeta) {\n            var nr = editor.selection.getRng();\n            getContext(editor.dom, nr, triggerChar).fold(function () {\n              return console.error('Lost context. Cursor probably moved');\n            }, function (_a) {\n              var range = _a.range;\n              var autocompleterApi = {\n                hide: function () {\n                  cancelIfNecessary();\n                },\n                reload: function (fetchOptions) {\n                  hideIfNecessary();\n                  load(fetchOptions);\n                }\n              };\n              processingAction.set(true);\n              match.onAction(autocompleterApi, range, itemValue, itemMeta);\n              processingAction.set(false);\n            });\n          }, columns, ItemResponse$1.BUBBLE_TO_SANDBOX, sharedBackstage, match.highlightOn);\n        });\n      };\n      var commenceIfNecessary = function (context) {\n        if (!isActive()) {\n          var wrapper = create$4(editor, context.range);\n          activeAutocompleter.set({\n            triggerChar: context.triggerChar,\n            element: wrapper,\n            matchLength: context.text.length\n          });\n          processingAction.set(false);\n        }\n      };\n      var display = function (ac, context, lookupData, items) {\n        ac.matchLength = context.text.length;\n        var columns = findMap(lookupData, function (ld) {\n          return Optional.from(ld.columns);\n        }).getOr(1);\n        InlineView.showAt(autocompleter, Menu.sketch(createMenuFrom(createPartialMenuWithAlloyItems('autocompleter-value', true, items, columns, 'normal'), columns, FocusMode.ContentFocus, 'normal')), {\n          anchor: {\n            type: 'node',\n            root: SugarElement.fromDom(editor.getBody()),\n            node: Optional.from(ac.element)\n          }\n        });\n        InlineView.getContent(autocompleter).each(Highlighting.highlightFirst);\n      };\n      var doLookup = function (fetchOptions) {\n        return activeAutocompleter.get().map(function (ac) {\n          return getContext(editor.dom, editor.selection.getRng(), ac.triggerChar).bind(function (newContext) {\n            return lookupWithContext(editor, getAutocompleters, newContext, fetchOptions);\n          });\n        }).getOrThunk(function () {\n          return lookup$2(editor, getAutocompleters);\n        });\n      };\n      var load = function (fetchOptions) {\n        doLookup(fetchOptions).fold(cancelIfNecessary, function (lookupInfo) {\n          commenceIfNecessary(lookupInfo.context);\n          lookupInfo.lookupData.then(function (lookupData) {\n            activeAutocompleter.get().map(function (ac) {\n              var context = lookupInfo.context;\n              if (ac.triggerChar === context.triggerChar) {\n                var combinedItems = getCombinedItems(context.triggerChar, lookupData);\n                if (combinedItems.length > 0) {\n                  display(ac, context, lookupData, combinedItems);\n                } else if (context.text.length - ac.matchLength >= 10) {\n                  cancelIfNecessary();\n                } else {\n                  hideIfNecessary();\n                }\n              }\n            });\n          });\n        });\n      };\n      var onKeypress = last(function (e) {\n        if (e.which === 27) {\n          return;\n        }\n        load();\n      }, 50);\n      var autocompleterUiApi = {\n        onKeypress: onKeypress,\n        cancelIfNecessary: cancelIfNecessary,\n        isMenuOpen: isMenuOpen,\n        isActive: isActive,\n        isProcessingAction: processingAction.get,\n        getView: function () {\n          return InlineView.getContent(autocompleter);\n        }\n      };\n      if (editor.hasPlugin('rtc') === false) {\n        AutocompleterEditorEvents.setup(autocompleterUiApi, editor);\n      }\n    };\n    var Autocompleter = { register: register$9 };\n\n    var closest = function (scope, selector, isRoot) {\n      return closest$1(scope, selector, isRoot).isSome();\n    };\n\n    var DelayedFunction = function (fun, delay) {\n      var ref = null;\n      var schedule = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        ref = setTimeout(function () {\n          fun.apply(null, args);\n          ref = null;\n        }, delay);\n      };\n      var cancel = function () {\n        if (ref !== null) {\n          clearTimeout(ref);\n          ref = null;\n        }\n      };\n      return {\n        cancel: cancel,\n        schedule: schedule\n      };\n    };\n\n    var SIGNIFICANT_MOVE = 5;\n    var LONGPRESS_DELAY = 400;\n    var getTouch = function (event) {\n      var raw = event.raw;\n      if (raw.touches === undefined || raw.touches.length !== 1) {\n        return Optional.none();\n      }\n      return Optional.some(raw.touches[0]);\n    };\n    var isFarEnough = function (touch, data) {\n      var distX = Math.abs(touch.clientX - data.x);\n      var distY = Math.abs(touch.clientY - data.y);\n      return distX > SIGNIFICANT_MOVE || distY > SIGNIFICANT_MOVE;\n    };\n    var monitor = function (settings) {\n      var startData = value$1();\n      var longpressFired = Cell(false);\n      var longpress$1 = DelayedFunction(function (event) {\n        settings.triggerEvent(longpress(), event);\n        longpressFired.set(true);\n      }, LONGPRESS_DELAY);\n      var handleTouchstart = function (event) {\n        getTouch(event).each(function (touch) {\n          longpress$1.cancel();\n          var data = {\n            x: touch.clientX,\n            y: touch.clientY,\n            target: event.target\n          };\n          longpress$1.schedule(event);\n          longpressFired.set(false);\n          startData.set(data);\n        });\n        return Optional.none();\n      };\n      var handleTouchmove = function (event) {\n        longpress$1.cancel();\n        getTouch(event).each(function (touch) {\n          startData.on(function (data) {\n            if (isFarEnough(touch, data)) {\n              startData.clear();\n            }\n          });\n        });\n        return Optional.none();\n      };\n      var handleTouchend = function (event) {\n        longpress$1.cancel();\n        var isSame = function (data) {\n          return eq(data.target, event.target);\n        };\n        return startData.get().filter(isSame).map(function (_data) {\n          if (longpressFired.get()) {\n            event.prevent();\n            return false;\n          } else {\n            return settings.triggerEvent(tap(), event);\n          }\n        });\n      };\n      var handlers = wrapAll([\n        {\n          key: touchstart(),\n          value: handleTouchstart\n        },\n        {\n          key: touchmove(),\n          value: handleTouchmove\n        },\n        {\n          key: touchend(),\n          value: handleTouchend\n        }\n      ]);\n      var fireIfReady = function (event, type) {\n        return get$e(handlers, type).bind(function (handler) {\n          return handler(event);\n        });\n      };\n      return { fireIfReady: fireIfReady };\n    };\n\n    var isDangerous = function (event) {\n      var keyEv = event.raw;\n      return keyEv.which === BACKSPACE[0] && !contains$2([\n        'input',\n        'textarea'\n      ], name$2(event.target)) && !closest(event.target, '[contenteditable=\"true\"]');\n    };\n    var isFirefox = function () {\n      return detect$1().browser.isFirefox();\n    };\n    var bindFocus = function (container, handler) {\n      if (isFirefox()) {\n        return capture(container, 'focus', handler);\n      } else {\n        return bind(container, 'focusin', handler);\n      }\n    };\n    var bindBlur = function (container, handler) {\n      if (isFirefox()) {\n        return capture(container, 'blur', handler);\n      } else {\n        return bind(container, 'focusout', handler);\n      }\n    };\n    var setup$d = function (container, rawSettings) {\n      var settings = __assign({ stopBackspace: true }, rawSettings);\n      var pointerEvents = [\n        'touchstart',\n        'touchmove',\n        'touchend',\n        'touchcancel',\n        'gesturestart',\n        'mousedown',\n        'mouseup',\n        'mouseover',\n        'mousemove',\n        'mouseout',\n        'click'\n      ];\n      var tapEvent = monitor(settings);\n      var simpleEvents = map$2(pointerEvents.concat([\n        'selectstart',\n        'input',\n        'contextmenu',\n        'change',\n        'transitionend',\n        'transitioncancel',\n        'drag',\n        'dragstart',\n        'dragend',\n        'dragenter',\n        'dragleave',\n        'dragover',\n        'drop',\n        'keyup'\n      ]), function (type) {\n        return bind(container, type, function (event) {\n          tapEvent.fireIfReady(event, type).each(function (tapStopped) {\n            if (tapStopped) {\n              event.kill();\n            }\n          });\n          var stopped = settings.triggerEvent(type, event);\n          if (stopped) {\n            event.kill();\n          }\n        });\n      });\n      var pasteTimeout = value$1();\n      var onPaste = bind(container, 'paste', function (event) {\n        tapEvent.fireIfReady(event, 'paste').each(function (tapStopped) {\n          if (tapStopped) {\n            event.kill();\n          }\n        });\n        var stopped = settings.triggerEvent('paste', event);\n        if (stopped) {\n          event.kill();\n        }\n        pasteTimeout.set(setTimeout(function () {\n          settings.triggerEvent(postPaste(), event);\n        }, 0));\n      });\n      var onKeydown = bind(container, 'keydown', function (event) {\n        var stopped = settings.triggerEvent('keydown', event);\n        if (stopped) {\n          event.kill();\n        } else if (settings.stopBackspace && isDangerous(event)) {\n          event.prevent();\n        }\n      });\n      var onFocusIn = bindFocus(container, function (event) {\n        var stopped = settings.triggerEvent('focusin', event);\n        if (stopped) {\n          event.kill();\n        }\n      });\n      var focusoutTimeout = value$1();\n      var onFocusOut = bindBlur(container, function (event) {\n        var stopped = settings.triggerEvent('focusout', event);\n        if (stopped) {\n          event.kill();\n        }\n        focusoutTimeout.set(setTimeout(function () {\n          settings.triggerEvent(postBlur(), event);\n        }, 0));\n      });\n      var unbind = function () {\n        each$1(simpleEvents, function (e) {\n          e.unbind();\n        });\n        onKeydown.unbind();\n        onFocusIn.unbind();\n        onFocusOut.unbind();\n        onPaste.unbind();\n        pasteTimeout.on(clearTimeout);\n        focusoutTimeout.on(clearTimeout);\n      };\n      return { unbind: unbind };\n    };\n\n    var derive = function (rawEvent, rawTarget) {\n      var source = get$e(rawEvent, 'target').getOr(rawTarget);\n      return Cell(source);\n    };\n\n    var fromSource = function (event, source) {\n      var stopper = Cell(false);\n      var cutter = Cell(false);\n      var stop = function () {\n        stopper.set(true);\n      };\n      var cut = function () {\n        cutter.set(true);\n      };\n      return {\n        stop: stop,\n        cut: cut,\n        isStopped: stopper.get,\n        isCut: cutter.get,\n        event: event,\n        setSource: source.set,\n        getSource: source.get\n      };\n    };\n    var fromExternal = function (event) {\n      var stopper = Cell(false);\n      var stop = function () {\n        stopper.set(true);\n      };\n      return {\n        stop: stop,\n        cut: noop,\n        isStopped: stopper.get,\n        isCut: never,\n        event: event,\n        setSource: die('Cannot set source of a broadcasted event'),\n        getSource: die('Cannot get source of a broadcasted event')\n      };\n    };\n\n    var adt$1 = Adt.generate([\n      { stopped: [] },\n      { resume: ['element'] },\n      { complete: [] }\n    ]);\n    var doTriggerHandler = function (lookup, eventType, rawEvent, target, source, logger) {\n      var handler = lookup(eventType, target);\n      var simulatedEvent = fromSource(rawEvent, source);\n      return handler.fold(function () {\n        logger.logEventNoHandlers(eventType, target);\n        return adt$1.complete();\n      }, function (handlerInfo) {\n        var descHandler = handlerInfo.descHandler;\n        var eventHandler = getCurried(descHandler);\n        eventHandler(simulatedEvent);\n        if (simulatedEvent.isStopped()) {\n          logger.logEventStopped(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.stopped();\n        } else if (simulatedEvent.isCut()) {\n          logger.logEventCut(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.complete();\n        } else {\n          return parent(handlerInfo.element).fold(function () {\n            logger.logNoParent(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.complete();\n          }, function (parent) {\n            logger.logEventResponse(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.resume(parent);\n          });\n        }\n      });\n    };\n    var doTriggerOnUntilStopped = function (lookup, eventType, rawEvent, rawTarget, source, logger) {\n      return doTriggerHandler(lookup, eventType, rawEvent, rawTarget, source, logger).fold(always, function (parent) {\n        return doTriggerOnUntilStopped(lookup, eventType, rawEvent, parent, source, logger);\n      }, never);\n    };\n    var triggerHandler = function (lookup, eventType, rawEvent, target, logger) {\n      var source = derive(rawEvent, target);\n      return doTriggerHandler(lookup, eventType, rawEvent, target, source, logger);\n    };\n    var broadcast = function (listeners, rawEvent, _logger) {\n      var simulatedEvent = fromExternal(rawEvent);\n      each$1(listeners, function (listener) {\n        var descHandler = listener.descHandler;\n        var handler = getCurried(descHandler);\n        handler(simulatedEvent);\n      });\n      return simulatedEvent.isStopped();\n    };\n    var triggerUntilStopped = function (lookup, eventType, rawEvent, logger) {\n      return triggerOnUntilStopped(lookup, eventType, rawEvent, rawEvent.target, logger);\n    };\n    var triggerOnUntilStopped = function (lookup, eventType, rawEvent, rawTarget, logger) {\n      var source = derive(rawEvent, rawTarget);\n      return doTriggerOnUntilStopped(lookup, eventType, rawEvent, rawTarget, source, logger);\n    };\n\n    var eventHandler = function (element, descHandler) {\n      return {\n        element: element,\n        descHandler: descHandler\n      };\n    };\n    var broadcastHandler = function (id, handler) {\n      return {\n        id: id,\n        descHandler: handler\n      };\n    };\n    var EventRegistry = function () {\n      var registry = {};\n      var registerId = function (extraArgs, id, events) {\n        each(events, function (v, k) {\n          var handlers = registry[k] !== undefined ? registry[k] : {};\n          handlers[id] = curryArgs(v, extraArgs);\n          registry[k] = handlers;\n        });\n      };\n      var findHandler = function (handlers, elem) {\n        return read$1(elem).bind(function (id) {\n          return get$e(handlers, id);\n        }).map(function (descHandler) {\n          return eventHandler(elem, descHandler);\n        });\n      };\n      var filterByType = function (type) {\n        return get$e(registry, type).map(function (handlers) {\n          return mapToArray(handlers, function (f, id) {\n            return broadcastHandler(id, f);\n          });\n        }).getOr([]);\n      };\n      var find = function (isAboveRoot, type, target) {\n        return get$e(registry, type).bind(function (handlers) {\n          return closest$4(target, function (elem) {\n            return findHandler(handlers, elem);\n          }, isAboveRoot);\n        });\n      };\n      var unregisterId = function (id) {\n        each(registry, function (handlersById, _eventName) {\n          if (has$2(handlersById, id)) {\n            delete handlersById[id];\n          }\n        });\n      };\n      return {\n        registerId: registerId,\n        unregisterId: unregisterId,\n        filterByType: filterByType,\n        find: find\n      };\n    };\n\n    var Registry = function () {\n      var events = EventRegistry();\n      var components = {};\n      var readOrTag = function (component) {\n        var elem = component.element;\n        return read$1(elem).getOrThunk(function () {\n          return write('uid-', component.element);\n        });\n      };\n      var failOnDuplicate = function (component, tagId) {\n        var conflict = components[tagId];\n        if (conflict === component) {\n          unregister(component);\n        } else {\n          throw new Error('The tagId \"' + tagId + '\" is already used by: ' + element(conflict.element) + '\\nCannot use it for: ' + element(component.element) + '\\n' + 'The conflicting element is' + (inBody(conflict.element) ? ' ' : ' not ') + 'already in the DOM');\n        }\n      };\n      var register = function (component) {\n        var tagId = readOrTag(component);\n        if (hasNonNullableKey(components, tagId)) {\n          failOnDuplicate(component, tagId);\n        }\n        var extraArgs = [component];\n        events.registerId(extraArgs, tagId, component.events);\n        components[tagId] = component;\n      };\n      var unregister = function (component) {\n        read$1(component.element).each(function (tagId) {\n          delete components[tagId];\n          events.unregisterId(tagId);\n        });\n      };\n      var filter = function (type) {\n        return events.filterByType(type);\n      };\n      var find = function (isAboveRoot, type, target) {\n        return events.find(isAboveRoot, type, target);\n      };\n      var getById = function (id) {\n        return get$e(components, id);\n      };\n      return {\n        find: find,\n        filter: filter,\n        register: register,\n        unregister: unregister,\n        getById: getById\n      };\n    };\n\n    var factory$j = function (detail) {\n      var _a = detail.dom, attributes = _a.attributes, domWithoutAttributes = __rest(_a, ['attributes']);\n      return {\n        uid: detail.uid,\n        dom: __assign({\n          tag: 'div',\n          attributes: __assign({ role: 'presentation' }, attributes)\n        }, domWithoutAttributes),\n        components: detail.components,\n        behaviours: get$2(detail.containerBehaviours),\n        events: detail.events,\n        domModification: detail.domModification,\n        eventOrder: detail.eventOrder\n      };\n    };\n    var Container = single({\n      name: 'Container',\n      factory: factory$j,\n      configFields: [\n        defaulted('components', []),\n        field('containerBehaviours', []),\n        defaulted('events', {}),\n        defaulted('domModification', {}),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    var takeover = function (root) {\n      var isAboveRoot = function (el) {\n        return parent(root.element).fold(always, function (parent) {\n          return eq(el, parent);\n        });\n      };\n      var registry = Registry();\n      var lookup = function (eventName, target) {\n        return registry.find(isAboveRoot, eventName, target);\n      };\n      var domEvents = setup$d(root.element, {\n        triggerEvent: function (eventName, event) {\n          return monitorEvent(eventName, event.target, function (logger) {\n            return triggerUntilStopped(lookup, eventName, event, logger);\n          });\n        }\n      });\n      var systemApi = {\n        debugInfo: constant$1('real'),\n        triggerEvent: function (eventName, target, data) {\n          monitorEvent(eventName, target, function (logger) {\n            return triggerOnUntilStopped(lookup, eventName, data, target, logger);\n          });\n        },\n        triggerFocus: function (target, originator) {\n          read$1(target).fold(function () {\n            focus$3(target);\n          }, function (_alloyId) {\n            monitorEvent(focus$4(), target, function (logger) {\n              triggerHandler(lookup, focus$4(), {\n                originator: originator,\n                kill: noop,\n                prevent: noop,\n                target: target\n              }, target, logger);\n              return false;\n            });\n          });\n        },\n        triggerEscape: function (comp, simulatedEvent) {\n          systemApi.triggerEvent('keydown', comp.element, simulatedEvent.event);\n        },\n        getByUid: function (uid) {\n          return getByUid(uid);\n        },\n        getByDom: function (elem) {\n          return getByDom(elem);\n        },\n        build: build$1,\n        addToGui: function (c) {\n          add(c);\n        },\n        removeFromGui: function (c) {\n          remove(c);\n        },\n        addToWorld: function (c) {\n          addToWorld(c);\n        },\n        removeFromWorld: function (c) {\n          removeFromWorld(c);\n        },\n        broadcast: function (message) {\n          broadcast$1(message);\n        },\n        broadcastOn: function (channels, message) {\n          broadcastOn(channels, message);\n        },\n        broadcastEvent: function (eventName, event) {\n          broadcastEvent(eventName, event);\n        },\n        isConnected: always\n      };\n      var addToWorld = function (component) {\n        component.connect(systemApi);\n        if (!isText$1(component.element)) {\n          registry.register(component);\n          each$1(component.components(), addToWorld);\n          systemApi.triggerEvent(systemInit(), component.element, { target: component.element });\n        }\n      };\n      var removeFromWorld = function (component) {\n        if (!isText$1(component.element)) {\n          each$1(component.components(), removeFromWorld);\n          registry.unregister(component);\n        }\n        component.disconnect();\n      };\n      var add = function (component) {\n        attach(root, component);\n      };\n      var remove = function (component) {\n        detach(component);\n      };\n      var destroy = function () {\n        domEvents.unbind();\n        remove$5(root.element);\n      };\n      var broadcastData = function (data) {\n        var receivers = registry.filter(receive());\n        each$1(receivers, function (receiver) {\n          var descHandler = receiver.descHandler;\n          var handler = getCurried(descHandler);\n          handler(data);\n        });\n      };\n      var broadcast$1 = function (message) {\n        broadcastData({\n          universal: true,\n          data: message\n        });\n      };\n      var broadcastOn = function (channels, message) {\n        broadcastData({\n          universal: false,\n          channels: channels,\n          data: message\n        });\n      };\n      var broadcastEvent = function (eventName, event) {\n        var listeners = registry.filter(eventName);\n        return broadcast(listeners, event);\n      };\n      var getByUid = function (uid) {\n        return registry.getById(uid).fold(function () {\n          return Result.error(new Error('Could not find component with uid: \"' + uid + '\" in system.'));\n        }, Result.value);\n      };\n      var getByDom = function (elem) {\n        var uid = read$1(elem).getOr('not found');\n        return getByUid(uid);\n      };\n      addToWorld(root);\n      return {\n        root: root,\n        element: root.element,\n        destroy: destroy,\n        add: add,\n        remove: remove,\n        getByUid: getByUid,\n        getByDom: getByDom,\n        addToWorld: addToWorld,\n        removeFromWorld: removeFromWorld,\n        broadcast: broadcast$1,\n        broadcastOn: broadcastOn,\n        broadcastEvent: broadcastEvent\n      };\n    };\n\n    var renderBar = function (spec, backstage) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-bar',\n            'tox-form__controls-h-stack'\n          ]\n        },\n        components: map$2(spec.items, backstage.interpreter)\n      };\n    };\n\n    var schema$l = constant$1([\n      defaulted('prefix', 'form-field'),\n      field('fieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    var parts$e = constant$1([\n      optional({\n        schema: [required$1('dom')],\n        name: 'label'\n      }),\n      optional({\n        factory: {\n          sketch: function (spec) {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      required({\n        factory: {\n          sketch: function (spec) {\n            var excludeFactory = exclude(spec, ['factory']);\n            return spec.factory.sketch(excludeFactory);\n          }\n        },\n        schema: [required$1('factory')],\n        name: 'field'\n      })\n    ]);\n\n    var factory$i = function (detail, components, _spec, _externals) {\n      var behaviours = augment(detail.fieldBehaviours, [\n        Composing.config({\n          find: function (container) {\n            return getPart(container, detail, 'field');\n          }\n        }),\n        Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: function (field) {\n              return Composing.getCurrent(field).bind(Representing.getValue);\n            },\n            setValue: function (field, value) {\n              Composing.getCurrent(field).each(function (current) {\n                Representing.setValue(current, value);\n              });\n            }\n          }\n        })\n      ]);\n      var events = derive$2([runOnAttached(function (component, _simulatedEvent) {\n          var ps = getParts(component, detail, [\n            'label',\n            'field',\n            'aria-descriptor'\n          ]);\n          ps.field().each(function (field) {\n            var id = generate$6(detail.prefix);\n            ps.label().each(function (label) {\n              set$8(label.element, 'for', id);\n              set$8(field.element, 'id', id);\n            });\n            ps['aria-descriptor']().each(function (descriptor) {\n              var descriptorId = generate$6(detail.prefix);\n              set$8(descriptor.element, 'id', descriptorId);\n              set$8(field.element, 'aria-describedby', descriptorId);\n            });\n          });\n        })]);\n      var apis = {\n        getField: function (container) {\n          return getPart(container, detail, 'field');\n        },\n        getLabel: function (container) {\n          return getPart(container, detail, 'label');\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: behaviours,\n        events: events,\n        apis: apis\n      };\n    };\n    var FormField = composite({\n      name: 'FormField',\n      configFields: schema$l(),\n      partFields: parts$e(),\n      factory: factory$i,\n      apis: {\n        getField: function (apis, comp) {\n          return apis.getField(comp);\n        },\n        getLabel: function (apis, comp) {\n          return apis.getLabel(comp);\n        }\n      }\n    });\n\n    var exhibit$2 = function (base, tabConfig) {\n      return nu$7({\n        attributes: wrapAll([{\n            key: tabConfig.tabAttr,\n            value: 'true'\n          }])\n      });\n    };\n\n    var ActiveTabstopping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$2\n    });\n\n    var TabstopSchema = [defaulted('tabAttr', 'data-alloy-tabstop')];\n\n    var Tabstopping = create$7({\n      fields: TabstopSchema,\n      name: 'tabstopping',\n      active: ActiveTabstopping\n    });\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.html.Entities');\n\n    var renderFormFieldWith = function (pLabel, pField, extraClasses, extraBehaviours) {\n      var spec = renderFormFieldSpecWith(pLabel, pField, extraClasses, extraBehaviours);\n      return FormField.sketch(spec);\n    };\n    var renderFormField = function (pLabel, pField) {\n      return renderFormFieldWith(pLabel, pField, [], []);\n    };\n    var renderFormFieldSpecWith = function (pLabel, pField, extraClasses, extraBehaviours) {\n      return {\n        dom: renderFormFieldDomWith(extraClasses),\n        components: pLabel.toArray().concat([pField]),\n        fieldBehaviours: derive$1(extraBehaviours)\n      };\n    };\n    var renderFormFieldDom = function () {\n      return renderFormFieldDomWith([]);\n    };\n    var renderFormFieldDomWith = function (extraClasses) {\n      return {\n        tag: 'div',\n        classes: ['tox-form__group'].concat(extraClasses)\n      };\n    };\n    var renderLabel$2 = function (label, providersBackstage) {\n      return FormField.parts.label({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label'],\n          innerHtml: providersBackstage.translate(label)\n        }\n      });\n    };\n\n    var formChangeEvent = generate$6('form-component-change');\n    var formCloseEvent = generate$6('form-close');\n    var formCancelEvent = generate$6('form-cancel');\n    var formActionEvent = generate$6('form-action');\n    var formSubmitEvent = generate$6('form-submit');\n    var formBlockEvent = generate$6('form-block');\n    var formUnblockEvent = generate$6('form-unblock');\n    var formTabChangeEvent = generate$6('form-tabchange');\n    var formResizeEvent = generate$6('form-resize');\n\n    var renderCollection = function (spec, providersBackstage) {\n      var _a;\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var runOnItem = function (f) {\n        return function (comp, se) {\n          closest$1(se.event.target, '[data-collection-item-value]').each(function (target) {\n            f(comp, se, target, get$d(target, 'data-collection-item-value'));\n          });\n        };\n      };\n      var setContents = function (comp, items) {\n        var htmlLines = map$2(items, function (item) {\n          var itemText = global$e.translate(item.text);\n          var textContent = spec.columns === 1 ? '<div class=\"tox-collection__item-label\">' + itemText + '</div>' : '';\n          var iconContent = '<div class=\"tox-collection__item-icon\">' + item.icon + '</div>';\n          var mapItemName = {\n            '_': ' ',\n            ' - ': ' ',\n            '-': ' '\n          };\n          var ariaLabel = itemText.replace(/\\_| \\- |\\-/g, function (match) {\n            return mapItemName[match];\n          });\n          var disabledClass = providersBackstage.isDisabled() ? ' tox-collection__item--state-disabled' : '';\n          return '<div class=\"tox-collection__item' + disabledClass + '\" tabindex=\"-1\" data-collection-item-value=\"' + global$7.encodeAllRaw(item.value) + '\" title=\"' + ariaLabel + '\" aria-label=\"' + ariaLabel + '\">' + iconContent + textContent + '</div>';\n        });\n        var chunks = spec.columns !== 'auto' && spec.columns > 1 ? chunk$1(htmlLines, spec.columns) : [htmlLines];\n        var html = map$2(chunks, function (ch) {\n          return '<div class=\"tox-collection__group\">' + ch.join('') + '</div>';\n        });\n        set$5(comp.element, html.join(''));\n      };\n      var onClick = runOnItem(function (comp, se, tgt, itemValue) {\n        se.stop();\n        if (!providersBackstage.isDisabled()) {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }\n      });\n      var collectionEvents = [\n        run$1(mouseover(), runOnItem(function (comp, se, tgt) {\n          focus$3(tgt);\n        })),\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        run$1(focusin(), runOnItem(function (comp, se, tgt) {\n          descendant(comp.element, '.' + activeClass).each(function (currentActive) {\n            remove$2(currentActive, activeClass);\n          });\n          add$2(tgt, activeClass);\n        })),\n        run$1(focusout(), runOnItem(function (comp) {\n          descendant(comp.element, '.' + activeClass).each(function (currentActive) {\n            remove$2(currentActive, activeClass);\n          });\n        })),\n        runOnExecute$1(runOnItem(function (comp, se, tgt, itemValue) {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }))\n      ];\n      var iterCollectionItems = function (comp, applyAttributes) {\n        return map$2(descendants(comp.element, '.tox-collection__item'), applyAttributes);\n      };\n      var pField = FormField.parts.field({\n        dom: {\n          tag: 'div',\n          classes: ['tox-collection'].concat(spec.columns !== 1 ? ['tox-collection--grid'] : ['tox-collection--list'])\n        },\n        components: [],\n        factory: { sketch: identity$1 },\n        behaviours: derive$1([\n          Disabling.config({\n            disabled: providersBackstage.isDisabled,\n            onDisabled: function (comp) {\n              iterCollectionItems(comp, function (childElm) {\n                add$2(childElm, 'tox-collection__item--state-disabled');\n                set$8(childElm, 'aria-disabled', true);\n              });\n            },\n            onEnabled: function (comp) {\n              iterCollectionItems(comp, function (childElm) {\n                remove$2(childElm, 'tox-collection__item--state-disabled');\n                remove$7(childElm, 'aria-disabled');\n              });\n            }\n          }),\n          receivingConfig(),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: []\n            },\n            onSetValue: function (comp, items) {\n              setContents(comp, items);\n              if (spec.columns === 'auto') {\n                detectSize(comp, 5, 'tox-collection__item').each(function (_a) {\n                  var numRows = _a.numRows, numColumns = _a.numColumns;\n                  Keying.setGridSize(comp, numRows, numColumns);\n                });\n              }\n              emit(comp, formResizeEvent);\n            }\n          }),\n          Tabstopping.config({}),\n          Keying.config(deriveCollectionMovement(spec.columns, 'normal')),\n          config('collection-events', collectionEvents)\n        ]),\n        eventOrder: (_a = {}, _a[execute$5()] = [\n          'disabling',\n          'alloy.base.behaviour',\n          'collection-events'\n        ], _a)\n      });\n      var extraClasses = ['tox-form__group--collection'];\n      return renderFormFieldWith(pLabel, pField, extraClasses, []);\n    };\n\n    var schema$k = constant$1([\n      option('data'),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('tag', 'input'),\n      defaulted('inputClasses', []),\n      onHandler('onSetValue'),\n      defaulted('styles', {}),\n      defaulted('eventOrder', {}),\n      field('inputBehaviours', [\n        Representing,\n        Focusing\n      ]),\n      defaulted('selectOnFocus', true)\n    ]);\n    var focusBehaviours = function (detail) {\n      return derive$1([Focusing.config({\n          onFocus: !detail.selectOnFocus ? noop : function (component) {\n            var input = component.element;\n            var value = get$5(input);\n            input.dom.setSelectionRange(0, value.length);\n          }\n        })]);\n    };\n    var behaviours = function (detail) {\n      return __assign(__assign({}, focusBehaviours(detail)), augment(detail.inputBehaviours, [Representing.config({\n          store: __assign(__assign({ mode: 'manual' }, detail.data.map(function (data) {\n            return { initialValue: data };\n          }).getOr({})), {\n            getValue: function (input) {\n              return get$5(input.element);\n            },\n            setValue: function (input, data) {\n              var current = get$5(input.element);\n              if (current !== data) {\n                set$4(input.element, data);\n              }\n            }\n          }),\n          onSetValue: detail.onSetValue\n        })]));\n    };\n    var dom = function (detail) {\n      return {\n        tag: detail.tag,\n        attributes: __assign({ type: 'text' }, detail.inputAttributes),\n        styles: detail.inputStyles,\n        classes: detail.inputClasses\n      };\n    };\n\n    var factory$h = function (detail, _spec) {\n      return {\n        uid: detail.uid,\n        dom: dom(detail),\n        components: [],\n        behaviours: behaviours(detail),\n        eventOrder: detail.eventOrder\n      };\n    };\n    var Input = single({\n      name: 'Input',\n      configFields: schema$k(),\n      factory: factory$h\n    });\n\n    var exports$1 = {}, module = { exports: exports$1 };\n    (function (define, exports, module, require) {\n      (function (global, factory) {\n        typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.EphoxContactWrapper = factory());\n      }(this, function () {\n        var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n        var promise = { exports: {} };\n        (function (module) {\n          (function (root) {\n            var setTimeoutFunc = setTimeout;\n            function noop() {\n            }\n            function bind(fn, thisArg) {\n              return function () {\n                fn.apply(thisArg, arguments);\n              };\n            }\n            function Promise(fn) {\n              if (typeof this !== 'object')\n                throw new TypeError('Promises must be constructed via new');\n              if (typeof fn !== 'function')\n                throw new TypeError('not a function');\n              this._state = 0;\n              this._handled = false;\n              this._value = undefined;\n              this._deferreds = [];\n              doResolve(fn, this);\n            }\n            function handle(self, deferred) {\n              while (self._state === 3) {\n                self = self._value;\n              }\n              if (self._state === 0) {\n                self._deferreds.push(deferred);\n                return;\n              }\n              self._handled = true;\n              Promise._immediateFn(function () {\n                var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n                if (cb === null) {\n                  (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n                  return;\n                }\n                var ret;\n                try {\n                  ret = cb(self._value);\n                } catch (e) {\n                  reject(deferred.promise, e);\n                  return;\n                }\n                resolve(deferred.promise, ret);\n              });\n            }\n            function resolve(self, newValue) {\n              try {\n                if (newValue === self)\n                  throw new TypeError('A promise cannot be resolved with itself.');\n                if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n                  var then = newValue.then;\n                  if (newValue instanceof Promise) {\n                    self._state = 3;\n                    self._value = newValue;\n                    finale(self);\n                    return;\n                  } else if (typeof then === 'function') {\n                    doResolve(bind(then, newValue), self);\n                    return;\n                  }\n                }\n                self._state = 1;\n                self._value = newValue;\n                finale(self);\n              } catch (e) {\n                reject(self, e);\n              }\n            }\n            function reject(self, newValue) {\n              self._state = 2;\n              self._value = newValue;\n              finale(self);\n            }\n            function finale(self) {\n              if (self._state === 2 && self._deferreds.length === 0) {\n                Promise._immediateFn(function () {\n                  if (!self._handled) {\n                    Promise._unhandledRejectionFn(self._value);\n                  }\n                });\n              }\n              for (var i = 0, len = self._deferreds.length; i < len; i++) {\n                handle(self, self._deferreds[i]);\n              }\n              self._deferreds = null;\n            }\n            function Handler(onFulfilled, onRejected, promise) {\n              this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n              this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n              this.promise = promise;\n            }\n            function doResolve(fn, self) {\n              var done = false;\n              try {\n                fn(function (value) {\n                  if (done)\n                    return;\n                  done = true;\n                  resolve(self, value);\n                }, function (reason) {\n                  if (done)\n                    return;\n                  done = true;\n                  reject(self, reason);\n                });\n              } catch (ex) {\n                if (done)\n                  return;\n                done = true;\n                reject(self, ex);\n              }\n            }\n            Promise.prototype['catch'] = function (onRejected) {\n              return this.then(null, onRejected);\n            };\n            Promise.prototype.then = function (onFulfilled, onRejected) {\n              var prom = new this.constructor(noop);\n              handle(this, new Handler(onFulfilled, onRejected, prom));\n              return prom;\n            };\n            Promise.all = function (arr) {\n              var args = Array.prototype.slice.call(arr);\n              return new Promise(function (resolve, reject) {\n                if (args.length === 0)\n                  return resolve([]);\n                var remaining = args.length;\n                function res(i, val) {\n                  try {\n                    if (val && (typeof val === 'object' || typeof val === 'function')) {\n                      var then = val.then;\n                      if (typeof then === 'function') {\n                        then.call(val, function (val) {\n                          res(i, val);\n                        }, reject);\n                        return;\n                      }\n                    }\n                    args[i] = val;\n                    if (--remaining === 0) {\n                      resolve(args);\n                    }\n                  } catch (ex) {\n                    reject(ex);\n                  }\n                }\n                for (var i = 0; i < args.length; i++) {\n                  res(i, args[i]);\n                }\n              });\n            };\n            Promise.resolve = function (value) {\n              if (value && typeof value === 'object' && value.constructor === Promise) {\n                return value;\n              }\n              return new Promise(function (resolve) {\n                resolve(value);\n              });\n            };\n            Promise.reject = function (value) {\n              return new Promise(function (resolve, reject) {\n                reject(value);\n              });\n            };\n            Promise.race = function (values) {\n              return new Promise(function (resolve, reject) {\n                for (var i = 0, len = values.length; i < len; i++) {\n                  values[i].then(resolve, reject);\n                }\n              });\n            };\n            Promise._immediateFn = typeof setImmediate === 'function' ? function (fn) {\n              setImmediate(fn);\n            } : function (fn) {\n              setTimeoutFunc(fn, 0);\n            };\n            Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n              if (typeof console !== 'undefined' && console) {\n                console.warn('Possible Unhandled Promise Rejection:', err);\n              }\n            };\n            Promise._setImmediateFn = function _setImmediateFn(fn) {\n              Promise._immediateFn = fn;\n            };\n            Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n              Promise._unhandledRejectionFn = fn;\n            };\n            if (module.exports) {\n              module.exports = Promise;\n            } else if (!root.Promise) {\n              root.Promise = Promise;\n            }\n          }(commonjsGlobal));\n        }(promise));\n        var promisePolyfill = promise.exports;\n        var Global = function () {\n          if (typeof window !== 'undefined') {\n            return window;\n          } else {\n            return Function('return this;')();\n          }\n        }();\n        var promisePolyfill_1 = { boltExport: Global.Promise || promisePolyfill };\n        return promisePolyfill_1;\n      }));\n    }(undefined, exports$1, module));\n    var Promise$1 = module.exports.boltExport;\n\n    var nu$3 = function (baseFn) {\n      var data = Optional.none();\n      var callbacks = [];\n      var map = function (f) {\n        return nu$3(function (nCallback) {\n          get(function (data) {\n            nCallback(f(data));\n          });\n        });\n      };\n      var get = function (nCallback) {\n        if (isReady()) {\n          call(nCallback);\n        } else {\n          callbacks.push(nCallback);\n        }\n      };\n      var set = function (x) {\n        if (!isReady()) {\n          data = Optional.some(x);\n          run(callbacks);\n          callbacks = [];\n        }\n      };\n      var isReady = function () {\n        return data.isSome();\n      };\n      var run = function (cbs) {\n        each$1(cbs, call);\n      };\n      var call = function (cb) {\n        data.each(function (x) {\n          setTimeout(function () {\n            cb(x);\n          }, 0);\n        });\n      };\n      baseFn(set);\n      return {\n        get: get,\n        map: map,\n        isReady: isReady\n      };\n    };\n    var pure$1 = function (a) {\n      return nu$3(function (callback) {\n        callback(a);\n      });\n    };\n    var LazyValue = {\n      nu: nu$3,\n      pure: pure$1\n    };\n\n    var errorReporter = function (err) {\n      setTimeout(function () {\n        throw err;\n      }, 0);\n    };\n    var make$5 = function (run) {\n      var get = function (callback) {\n        run().then(callback, errorReporter);\n      };\n      var map = function (fab) {\n        return make$5(function () {\n          return run().then(fab);\n        });\n      };\n      var bind = function (aFutureB) {\n        return make$5(function () {\n          return run().then(function (v) {\n            return aFutureB(v).toPromise();\n          });\n        });\n      };\n      var anonBind = function (futureB) {\n        return make$5(function () {\n          return run().then(function () {\n            return futureB.toPromise();\n          });\n        });\n      };\n      var toLazy = function () {\n        return LazyValue.nu(get);\n      };\n      var toCached = function () {\n        var cache = null;\n        return make$5(function () {\n          if (cache === null) {\n            cache = run();\n          }\n          return cache;\n        });\n      };\n      var toPromise = run;\n      return {\n        map: map,\n        bind: bind,\n        anonBind: anonBind,\n        toLazy: toLazy,\n        toCached: toCached,\n        toPromise: toPromise,\n        get: get\n      };\n    };\n    var nu$2 = function (baseFn) {\n      return make$5(function () {\n        return new Promise$1(baseFn);\n      });\n    };\n    var pure = function (a) {\n      return make$5(function () {\n        return Promise$1.resolve(a);\n      });\n    };\n    var Future = {\n      nu: nu$2,\n      pure: pure\n    };\n\n    var ariaElements = [\n      'input',\n      'textarea'\n    ];\n    var isAriaElement = function (elem) {\n      var name = name$2(elem);\n      return contains$2(ariaElements, name);\n    };\n    var markValid = function (component, invalidConfig) {\n      var elem = invalidConfig.getRoot(component).getOr(component.element);\n      remove$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(function (notifyInfo) {\n        if (isAriaElement(component.element)) {\n          set$8(component.element, 'aria-invalid', false);\n        }\n        notifyInfo.getContainer(component).each(function (container) {\n          set$5(container, notifyInfo.validHtml);\n        });\n        notifyInfo.onValid(component);\n      });\n    };\n    var markInvalid = function (component, invalidConfig, invalidState, text) {\n      var elem = invalidConfig.getRoot(component).getOr(component.element);\n      add$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(function (notifyInfo) {\n        if (isAriaElement(component.element)) {\n          set$8(component.element, 'aria-invalid', true);\n        }\n        notifyInfo.getContainer(component).each(function (container) {\n          set$5(container, text);\n        });\n        notifyInfo.onInvalid(component, text);\n      });\n    };\n    var query = function (component, invalidConfig, _invalidState) {\n      return invalidConfig.validator.fold(function () {\n        return Future.pure(Result.value(true));\n      }, function (validatorInfo) {\n        return validatorInfo.validate(component);\n      });\n    };\n    var run = function (component, invalidConfig, invalidState) {\n      invalidConfig.notify.each(function (notifyInfo) {\n        notifyInfo.onValidate(component);\n      });\n      return query(component, invalidConfig).map(function (valid) {\n        if (component.getSystem().isConnected()) {\n          return valid.fold(function (err) {\n            markInvalid(component, invalidConfig, invalidState, err);\n            return Result.error(err);\n          }, function (v) {\n            markValid(component, invalidConfig);\n            return Result.value(v);\n          });\n        } else {\n          return Result.error('No longer in system');\n        }\n      });\n    };\n    var isInvalid = function (component, invalidConfig) {\n      var elem = invalidConfig.getRoot(component).getOr(component.element);\n      return has(elem, invalidConfig.invalidClass);\n    };\n\n    var InvalidateApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        markValid: markValid,\n        markInvalid: markInvalid,\n        query: query,\n        run: run,\n        isInvalid: isInvalid\n    });\n\n    var events$8 = function (invalidConfig, invalidState) {\n      return invalidConfig.validator.map(function (validatorInfo) {\n        return derive$2([run$1(validatorInfo.onEvent, function (component) {\n            run(component, invalidConfig, invalidState).get(identity$1);\n          })].concat(validatorInfo.validateOnLoad ? [runOnAttached(function (component) {\n            run(component, invalidConfig, invalidState).get(noop);\n          })] : []));\n      }).getOr({});\n    };\n\n    var ActiveInvalidate = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$8\n    });\n\n    var InvalidateSchema = [\n      required$1('invalidClass'),\n      defaulted('getRoot', Optional.none),\n      optionObjOf('notify', [\n        defaulted('aria', 'alert'),\n        defaulted('getContainer', Optional.none),\n        defaulted('validHtml', ''),\n        onHandler('onValid'),\n        onHandler('onInvalid'),\n        onHandler('onValidate')\n      ]),\n      optionObjOf('validator', [\n        required$1('validate'),\n        defaulted('onEvent', 'input'),\n        defaulted('validateOnLoad', true)\n      ])\n    ];\n\n    var Invalidating = create$7({\n      fields: InvalidateSchema,\n      name: 'invalidating',\n      active: ActiveInvalidate,\n      apis: InvalidateApis,\n      extra: {\n        validation: function (validator) {\n          return function (component) {\n            var v = Representing.getValue(component);\n            return Future.pure(validator(v));\n          };\n        }\n      }\n    });\n\n    var getCoupled = function (component, coupleConfig, coupleState, name) {\n      return coupleState.getOrCreate(component, coupleConfig, name);\n    };\n\n    var CouplingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCoupled: getCoupled\n    });\n\n    var CouplingSchema = [requiredOf('others', setOf(Result.value, anyValue()))];\n\n    var init$a = function () {\n      var coupled = {};\n      var getOrCreate = function (component, coupleConfig, name) {\n        var available = keys(coupleConfig.others);\n        if (!available) {\n          throw new Error('Cannot find coupled component: ' + name + '. Known coupled components: ' + JSON.stringify(available, null, 2));\n        } else {\n          return get$e(coupled, name).getOrThunk(function () {\n            var builder = get$e(coupleConfig.others, name).getOrDie('No information found for coupled component: ' + name);\n            var spec = builder(component);\n            var built = component.getSystem().build(spec);\n            coupled[name] = built;\n            return built;\n          });\n        }\n      };\n      var readState = constant$1({});\n      return nu$8({\n        readState: readState,\n        getOrCreate: getOrCreate\n      });\n    };\n\n    var CouplingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$a\n    });\n\n    var Coupling = create$7({\n      fields: CouplingSchema,\n      name: 'coupling',\n      apis: CouplingApis,\n      state: CouplingState\n    });\n\n    var suffix = constant$1('sink');\n    var partType$1 = constant$1(optional({\n      name: suffix(),\n      overrides: constant$1({\n        dom: { tag: 'div' },\n        behaviours: derive$1([Positioning.config({ useFixed: always })]),\n        events: derive$2([\n          cutter(keydown()),\n          cutter(mousedown()),\n          cutter(click())\n        ])\n      })\n    }));\n\n    var HighlightOnOpen;\n    (function (HighlightOnOpen) {\n      HighlightOnOpen[HighlightOnOpen['HighlightFirst'] = 0] = 'HighlightFirst';\n      HighlightOnOpen[HighlightOnOpen['HighlightNone'] = 1] = 'HighlightNone';\n    }(HighlightOnOpen || (HighlightOnOpen = {})));\n    var getAnchor = function (detail, component) {\n      var hotspot = detail.getHotspot(component).getOr(component);\n      var type = 'hotspot';\n      var overrides = detail.getAnchorOverrides();\n      return detail.layouts.fold(function () {\n        return {\n          type: type,\n          hotspot: hotspot,\n          overrides: overrides\n        };\n      }, function (layouts) {\n        return {\n          type: type,\n          hotspot: hotspot,\n          overrides: overrides,\n          layouts: layouts\n        };\n      });\n    };\n    var fetch = function (detail, mapFetch, component) {\n      var fetcher = detail.fetch;\n      return fetcher(component).map(mapFetch);\n    };\n    var openF = function (detail, mapFetch, anchor, component, sandbox, externals, highlightOnOpen) {\n      var futureData = fetch(detail, mapFetch, component);\n      var getLazySink = getSink(component, detail);\n      return futureData.map(function (tdata) {\n        return tdata.bind(function (data) {\n          return Optional.from(tieredMenu.sketch(__assign(__assign({}, externals.menu()), {\n            uid: generate$5(''),\n            data: data,\n            highlightImmediately: highlightOnOpen === HighlightOnOpen.HighlightFirst,\n            onOpenMenu: function (tmenu, menu) {\n              var sink = getLazySink().getOrDie();\n              Positioning.position(sink, menu, { anchor: anchor });\n              Sandboxing.decloak(sandbox);\n            },\n            onOpenSubmenu: function (tmenu, item, submenu) {\n              var sink = getLazySink().getOrDie();\n              Positioning.position(sink, submenu, {\n                anchor: {\n                  type: 'submenu',\n                  item: item\n                }\n              });\n              Sandboxing.decloak(sandbox);\n            },\n            onRepositionMenu: function (tmenu, primaryMenu, submenuTriggers) {\n              var sink = getLazySink().getOrDie();\n              Positioning.position(sink, primaryMenu, { anchor: anchor });\n              each$1(submenuTriggers, function (st) {\n                Positioning.position(sink, st.triggeredMenu, {\n                  anchor: {\n                    type: 'submenu',\n                    item: st.triggeringItem\n                  }\n                });\n              });\n            },\n            onEscape: function () {\n              Focusing.focus(component);\n              Sandboxing.close(sandbox);\n              return Optional.some(true);\n            }\n          })));\n        });\n      });\n    };\n    var open = function (detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen) {\n      var anchor = getAnchor(detail, hotspot);\n      var processed = openF(detail, mapFetch, anchor, hotspot, sandbox, externals, highlightOnOpen);\n      return processed.map(function (tdata) {\n        tdata.fold(function () {\n          if (Sandboxing.isOpen(sandbox)) {\n            Sandboxing.close(sandbox);\n          }\n        }, function (data) {\n          Sandboxing.cloak(sandbox);\n          Sandboxing.open(sandbox, data);\n          onOpenSync(sandbox);\n        });\n        return sandbox;\n      });\n    };\n    var close = function (detail, mapFetch, component, sandbox, _externals, _onOpenSync, _highlightOnOpen) {\n      Sandboxing.close(sandbox);\n      return Future.pure(sandbox);\n    };\n    var togglePopup = function (detail, mapFetch, hotspot, externals, onOpenSync, highlightOnOpen) {\n      var sandbox = Coupling.getCoupled(hotspot, 'sandbox');\n      var showing = Sandboxing.isOpen(sandbox);\n      var action = showing ? close : open;\n      return action(detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen);\n    };\n    var matchWidth = function (hotspot, container, useMinWidth) {\n      var menu = Composing.getCurrent(container).getOr(container);\n      var buttonWidth = get$a(hotspot.element);\n      if (useMinWidth) {\n        set$7(menu.element, 'min-width', buttonWidth + 'px');\n      } else {\n        set$6(menu.element, buttonWidth);\n      }\n    };\n    var getSink = function (anyInSystem, sinkDetail) {\n      return anyInSystem.getSystem().getByUid(sinkDetail.uid + '-' + suffix()).map(function (internalSink) {\n        return function () {\n          return Result.value(internalSink);\n        };\n      }).getOrThunk(function () {\n        return sinkDetail.lazySink.fold(function () {\n          return function () {\n            return Result.error(new Error('No internal sink is specified, nor could an external sink be found'));\n          };\n        }, function (lazySinkFn) {\n          return function () {\n            return lazySinkFn(anyInSystem);\n          };\n        });\n      });\n    };\n    var doRepositionMenus = function (sandbox) {\n      Sandboxing.getState(sandbox).each(function (tmenu) {\n        tieredMenu.repositionMenus(tmenu);\n      });\n    };\n    var makeSandbox$1 = function (detail, hotspot, extras) {\n      var ariaOwner = manager();\n      var onOpen = function (component, menu) {\n        var anchor = getAnchor(detail, hotspot);\n        ariaOwner.link(hotspot.element);\n        if (detail.matchWidth) {\n          matchWidth(anchor.hotspot, menu, detail.useMinWidth);\n        }\n        detail.onOpen(anchor, component, menu);\n        if (extras !== undefined && extras.onOpen !== undefined) {\n          extras.onOpen(component, menu);\n        }\n      };\n      var onClose = function (component, menu) {\n        ariaOwner.unlink(hotspot.element);\n        if (extras !== undefined && extras.onClose !== undefined) {\n          extras.onClose(component, menu);\n        }\n      };\n      var lazySink = getSink(hotspot, detail);\n      return {\n        dom: {\n          tag: 'div',\n          classes: detail.sandboxClasses,\n          attributes: {\n            id: ariaOwner.id,\n            role: 'listbox'\n          }\n        },\n        behaviours: SketchBehaviours.augment(detail.sandboxBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: hotspot\n            }\n          }),\n          Sandboxing.config({\n            onOpen: onOpen,\n            onClose: onClose,\n            isPartOf: function (container, data, queryElem) {\n              return isPartOf$1(data, queryElem) || isPartOf$1(hotspot, queryElem);\n            },\n            getAttachPoint: function () {\n              return lazySink().getOrDie();\n            }\n          }),\n          Composing.config({\n            find: function (sandbox) {\n              return Sandboxing.getState(sandbox).bind(function (menu) {\n                return Composing.getCurrent(menu);\n              });\n            }\n          }),\n          Receiving.config({ channels: __assign(__assign({}, receivingChannel$1({ isExtraPart: never })), receivingChannel({ doReposition: doRepositionMenus })) })\n        ])\n      };\n    };\n    var repositionMenus = function (comp) {\n      var sandbox = Coupling.getCoupled(comp, 'sandbox');\n      doRepositionMenus(sandbox);\n    };\n\n    var sandboxFields = function () {\n      return [\n        defaulted('sandboxClasses', []),\n        SketchBehaviours.field('sandboxBehaviours', [\n          Composing,\n          Receiving,\n          Sandboxing,\n          Representing\n        ])\n      ];\n    };\n\n    var schema$j = constant$1([\n      required$1('dom'),\n      required$1('fetch'),\n      onHandler('onOpen'),\n      onKeyboardHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      field('dropdownBehaviours', [\n        Toggling,\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      required$1('toggleClass'),\n      defaulted('eventOrder', {}),\n      option('lazySink'),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      option('role')\n    ].concat(sandboxFields()));\n    var parts$d = constant$1([\n      external$1({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        defaults: function (detail) {\n          return { onExecute: detail.onExecute };\n        }\n      }),\n      partType$1()\n    ]);\n\n    var factory$g = function (detail, components, _spec, externals) {\n      var _a;\n      var lookupAttr = function (attr) {\n        return get$e(detail.dom, 'attributes').bind(function (attrs) {\n          return get$e(attrs, attr);\n        });\n      };\n      var switchToMenu = function (sandbox) {\n        Sandboxing.getState(sandbox).each(function (tmenu) {\n          tieredMenu.highlightPrimary(tmenu);\n        });\n      };\n      var action = function (component) {\n        var onOpenSync = switchToMenu;\n        togglePopup(detail, identity$1, component, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n      };\n      var apis = {\n        expand: function (comp) {\n          if (!Toggling.isOn(comp)) {\n            togglePopup(detail, identity$1, comp, externals, noop, HighlightOnOpen.HighlightNone).get(noop);\n          }\n        },\n        open: function (comp) {\n          if (!Toggling.isOn(comp)) {\n            togglePopup(detail, identity$1, comp, externals, noop, HighlightOnOpen.HighlightFirst).get(noop);\n          }\n        },\n        isOpen: Toggling.isOn,\n        close: function (comp) {\n          if (Toggling.isOn(comp)) {\n            togglePopup(detail, identity$1, comp, externals, noop, HighlightOnOpen.HighlightFirst).get(noop);\n          }\n        },\n        repositionMenus: function (comp) {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      var triggerExecute = function (comp, _se) {\n        emitExecute(comp);\n        return Optional.some(true);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.dropdownBehaviours, [\n          Toggling.config({\n            toggleClass: detail.toggleClass,\n            aria: { mode: 'expanded' }\n          }),\n          Coupling.config({\n            others: {\n              sandbox: function (hotspot) {\n                return makeSandbox$1(detail, hotspot, {\n                  onOpen: function () {\n                    return Toggling.on(hotspot);\n                  },\n                  onClose: function () {\n                    return Toggling.off(hotspot);\n                  }\n                });\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: triggerExecute,\n            onEnter: triggerExecute,\n            onDown: function (comp, _se) {\n              if (Dropdown.isOpen(comp)) {\n                var sandbox = Coupling.getCoupled(comp, 'sandbox');\n                switchToMenu(sandbox);\n              } else {\n                Dropdown.open(comp);\n              }\n              return Optional.some(true);\n            },\n            onEscape: function (comp, _se) {\n              if (Dropdown.isOpen(comp)) {\n                Dropdown.close(comp);\n                return Optional.some(true);\n              } else {\n                return Optional.none();\n              }\n            }\n          }),\n          Focusing.config({})\n        ]),\n        events: events$a(Optional.some(action)),\n        eventOrder: __assign(__assign({}, detail.eventOrder), (_a = {}, _a[execute$5()] = [\n          'disabling',\n          'toggling',\n          'alloy.base.behaviour'\n        ], _a)),\n        apis: apis,\n        domModification: {\n          attributes: __assign(__assign({ 'aria-haspopup': 'true' }, detail.role.fold(function () {\n            return {};\n          }, function (role) {\n            return { role: role };\n          })), detail.dom.tag === 'button' ? { type: lookupAttr('type').getOr('button') } : {})\n        }\n      };\n    };\n    var Dropdown = composite({\n      name: 'Dropdown',\n      configFields: schema$j(),\n      partFields: parts$d(),\n      factory: factory$g,\n      apis: {\n        open: function (apis, comp) {\n          return apis.open(comp);\n        },\n        expand: function (apis, comp) {\n          return apis.expand(comp);\n        },\n        close: function (apis, comp) {\n          return apis.close(comp);\n        },\n        isOpen: function (apis, comp) {\n          return apis.isOpen(comp);\n        },\n        repositionMenus: function (apis, comp) {\n          return apis.repositionMenus(comp);\n        }\n      }\n    });\n\n    var exhibit$1 = function () {\n      return nu$7({\n        styles: {\n          '-webkit-user-select': 'none',\n          'user-select': 'none',\n          '-ms-user-select': 'none',\n          '-moz-user-select': '-moz-none'\n        },\n        attributes: { unselectable: 'on' }\n      });\n    };\n    var events$7 = function () {\n      return derive$2([abort(selectstart(), always)]);\n    };\n\n    var ActiveUnselecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$7,\n        exhibit: exhibit$1\n    });\n\n    var Unselecting = create$7({\n      fields: [],\n      name: 'unselecting',\n      active: ActiveUnselecting\n    });\n\n    var renderPanelButton = function (spec, sharedBackstage) {\n      return Dropdown.sketch({\n        dom: spec.dom,\n        components: spec.components,\n        toggleClass: 'mce-active',\n        dropdownBehaviours: derive$1([\n          DisablingConfigs.button(sharedBackstage.providers.isDisabled),\n          receivingConfig(),\n          Unselecting.config({}),\n          Tabstopping.config({})\n        ]),\n        layouts: spec.layouts,\n        sandboxClasses: ['tox-dialog__popups'],\n        lazySink: sharedBackstage.getSink,\n        fetch: function (comp) {\n          return Future.nu(function (callback) {\n            return spec.fetch(callback);\n          }).map(function (items) {\n            return Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, function (value) {\n              spec.onItemAction(comp, value);\n            }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, never, sharedBackstage.providers), { movement: deriveMenuMovement(spec.columns, spec.presets) })));\n          });\n        },\n        parts: { menu: part(false, 1, spec.presets) }\n      });\n    };\n\n    var colorInputChangeEvent = generate$6('color-input-change');\n    var colorSwatchChangeEvent = generate$6('color-swatch-change');\n    var colorPickerCancelEvent = generate$6('color-picker-cancel');\n    var renderColorInput = function (spec, sharedBackstage, colorInputBackstage) {\n      var pField = FormField.parts.field({\n        factory: Input,\n        inputClasses: ['tox-textfield'],\n        onSetValue: function (c) {\n          return Invalidating.run(c).get(noop);\n        },\n        inputBehaviours: derive$1([\n          Disabling.config({ disabled: sharedBackstage.providers.isDisabled }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Invalidating.config({\n            invalidClass: 'tox-textbox-field-invalid',\n            getRoot: function (comp) {\n              return parent(comp.element);\n            },\n            notify: {\n              onValid: function (comp) {\n                var val = Representing.getValue(comp);\n                emitWith(comp, colorInputChangeEvent, { color: val });\n              }\n            },\n            validator: {\n              validateOnLoad: false,\n              validate: function (input) {\n                var inputValue = Representing.getValue(input);\n                if (inputValue.length === 0) {\n                  return Future.pure(Result.value(true));\n                } else {\n                  var span = SugarElement.fromTag('span');\n                  set$7(span, 'background-color', inputValue);\n                  var res = getRaw(span, 'background-color').fold(function () {\n                    return Result.error('blah');\n                  }, function (_) {\n                    return Result.value(inputValue);\n                  });\n                  return Future.pure(res);\n                }\n              }\n            }\n          })\n        ]),\n        selectOnFocus: false\n      });\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, sharedBackstage.providers);\n      });\n      var emitSwatchChange = function (colorBit, value) {\n        emitWith(colorBit, colorSwatchChangeEvent, { value: value });\n      };\n      var onItemAction = function (comp, value) {\n        memColorButton.getOpt(comp).each(function (colorBit) {\n          if (value === 'custom') {\n            colorInputBackstage.colorPicker(function (valueOpt) {\n              valueOpt.fold(function () {\n                return emit(colorBit, colorPickerCancelEvent);\n              }, function (value) {\n                emitSwatchChange(colorBit, value);\n                addColor(value);\n              });\n            }, '#ffffff');\n          } else if (value === 'remove') {\n            emitSwatchChange(colorBit, '');\n          } else {\n            emitSwatchChange(colorBit, value);\n          }\n        });\n      };\n      var memColorButton = record(renderPanelButton({\n        dom: {\n          tag: 'span',\n          attributes: { 'aria-label': sharedBackstage.providers.translate('Color swatch') }\n        },\n        layouts: {\n          onRtl: function () {\n            return [\n              southwest$2,\n              southeast$2,\n              south$2\n            ];\n          },\n          onLtr: function () {\n            return [\n              southeast$2,\n              southwest$2,\n              south$2\n            ];\n          }\n        },\n        components: [],\n        fetch: getFetch$1(colorInputBackstage.getColors(), colorInputBackstage.hasCustomColors()),\n        columns: colorInputBackstage.getColorCols(),\n        presets: 'color',\n        onItemAction: onItemAction\n      }, sharedBackstage));\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: pLabel.toArray().concat([{\n            dom: {\n              tag: 'div',\n              classes: ['tox-color-input']\n            },\n            components: [\n              pField,\n              memColorButton.asSpec()\n            ]\n          }]),\n        fieldBehaviours: derive$1([config('form-field-events', [\n            run$1(colorInputChangeEvent, function (comp, se) {\n              memColorButton.getOpt(comp).each(function (colorButton) {\n                set$7(colorButton.element, 'background-color', se.event.color);\n              });\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            }),\n            run$1(colorSwatchChangeEvent, function (comp, se) {\n              FormField.getField(comp).each(function (field) {\n                Representing.setValue(field, se.event.value);\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            }),\n            run$1(colorPickerCancelEvent, function (comp, _se) {\n              FormField.getField(comp).each(function (_field) {\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            })\n          ])])\n      });\n    };\n\n    var labelPart = optional({\n      schema: [required$1('dom')],\n      name: 'label'\n    });\n    var edgePart = function (name) {\n      return optional({\n        name: '' + name + '-edge',\n        overrides: function (detail) {\n          var action = detail.model.manager.edgeActions[name];\n          return action.fold(function () {\n            return {};\n          }, function (a) {\n            return {\n              events: derive$2([\n                runActionExtra(touchstart(), function (comp, se, d) {\n                  return a(comp, d);\n                }, [detail]),\n                runActionExtra(mousedown(), function (comp, se, d) {\n                  return a(comp, d);\n                }, [detail]),\n                runActionExtra(mousemove(), function (comp, se, det) {\n                  if (det.mouseIsDown.get()) {\n                    a(comp, det);\n                  }\n                }, [detail])\n              ])\n            };\n          });\n        }\n      });\n    };\n    var tlEdgePart = edgePart('top-left');\n    var tedgePart = edgePart('top');\n    var trEdgePart = edgePart('top-right');\n    var redgePart = edgePart('right');\n    var brEdgePart = edgePart('bottom-right');\n    var bedgePart = edgePart('bottom');\n    var blEdgePart = edgePart('bottom-left');\n    var ledgePart = edgePart('left');\n    var thumbPart = required({\n      name: 'thumb',\n      defaults: constant$1({ dom: { styles: { position: 'absolute' } } }),\n      overrides: function (detail) {\n        return {\n          events: derive$2([\n            redirectToPart(touchstart(), detail, 'spectrum'),\n            redirectToPart(touchmove(), detail, 'spectrum'),\n            redirectToPart(touchend(), detail, 'spectrum'),\n            redirectToPart(mousedown(), detail, 'spectrum'),\n            redirectToPart(mousemove(), detail, 'spectrum'),\n            redirectToPart(mouseup(), detail, 'spectrum')\n          ])\n        };\n      }\n    });\n    var spectrumPart = required({\n      schema: [customField('mouseIsDown', function () {\n          return Cell(false);\n        })],\n      name: 'spectrum',\n      overrides: function (detail) {\n        var modelDetail = detail.model;\n        var model = modelDetail.manager;\n        var setValueFrom = function (component, simulatedEvent) {\n          return model.getValueFromEvent(simulatedEvent).map(function (value) {\n            return model.setValueFrom(component, detail, value);\n          });\n        };\n        return {\n          behaviours: derive$1([\n            Keying.config({\n              mode: 'special',\n              onLeft: function (spectrum) {\n                return model.onLeft(spectrum, detail);\n              },\n              onRight: function (spectrum) {\n                return model.onRight(spectrum, detail);\n              },\n              onUp: function (spectrum) {\n                return model.onUp(spectrum, detail);\n              },\n              onDown: function (spectrum) {\n                return model.onDown(spectrum, detail);\n              }\n            }),\n            Focusing.config({})\n          ]),\n          events: derive$2([\n            run$1(touchstart(), setValueFrom),\n            run$1(touchmove(), setValueFrom),\n            run$1(mousedown(), setValueFrom),\n            run$1(mousemove(), function (spectrum, se) {\n              if (detail.mouseIsDown.get()) {\n                setValueFrom(spectrum, se);\n              }\n            })\n          ])\n        };\n      }\n    });\n    var SliderParts = [\n      labelPart,\n      ledgePart,\n      redgePart,\n      tedgePart,\n      bedgePart,\n      tlEdgePart,\n      trEdgePart,\n      blEdgePart,\n      brEdgePart,\n      thumbPart,\n      spectrumPart\n    ];\n\n    var _sliderChangeEvent = 'slider.change.value';\n    var sliderChangeEvent = constant$1(_sliderChangeEvent);\n    var isTouchEvent$2 = function (evt) {\n      return evt.type.indexOf('touch') !== -1;\n    };\n    var getEventSource = function (simulatedEvent) {\n      var evt = simulatedEvent.event.raw;\n      if (isTouchEvent$2(evt)) {\n        var touchEvent = evt;\n        return touchEvent.touches !== undefined && touchEvent.touches.length === 1 ? Optional.some(touchEvent.touches[0]).map(function (t) {\n          return SugarPosition(t.clientX, t.clientY);\n        }) : Optional.none();\n      } else {\n        var mouseEvent = evt;\n        return mouseEvent.clientX !== undefined ? Optional.some(mouseEvent).map(function (me) {\n          return SugarPosition(me.clientX, me.clientY);\n        }) : Optional.none();\n      }\n    };\n\n    var t = 'top', r = 'right', b = 'bottom', l = 'left';\n    var minX = function (detail) {\n      return detail.model.minX;\n    };\n    var minY = function (detail) {\n      return detail.model.minY;\n    };\n    var min1X = function (detail) {\n      return detail.model.minX - 1;\n    };\n    var min1Y = function (detail) {\n      return detail.model.minY - 1;\n    };\n    var maxX = function (detail) {\n      return detail.model.maxX;\n    };\n    var maxY = function (detail) {\n      return detail.model.maxY;\n    };\n    var max1X = function (detail) {\n      return detail.model.maxX + 1;\n    };\n    var max1Y = function (detail) {\n      return detail.model.maxY + 1;\n    };\n    var range = function (detail, max, min) {\n      return max(detail) - min(detail);\n    };\n    var xRange = function (detail) {\n      return range(detail, maxX, minX);\n    };\n    var yRange = function (detail) {\n      return range(detail, maxY, minY);\n    };\n    var halfX = function (detail) {\n      return xRange(detail) / 2;\n    };\n    var halfY = function (detail) {\n      return yRange(detail) / 2;\n    };\n    var step = function (detail) {\n      return detail.stepSize;\n    };\n    var snap = function (detail) {\n      return detail.snapToGrid;\n    };\n    var snapStart = function (detail) {\n      return detail.snapStart;\n    };\n    var rounded = function (detail) {\n      return detail.rounded;\n    };\n    var hasEdge = function (detail, edgeName) {\n      return detail[edgeName + '-edge'] !== undefined;\n    };\n    var hasLEdge = function (detail) {\n      return hasEdge(detail, l);\n    };\n    var hasREdge = function (detail) {\n      return hasEdge(detail, r);\n    };\n    var hasTEdge = function (detail) {\n      return hasEdge(detail, t);\n    };\n    var hasBEdge = function (detail) {\n      return hasEdge(detail, b);\n    };\n    var currentValue = function (detail) {\n      return detail.model.value.get();\n    };\n\n    var xValue = function (x) {\n      return { x: x };\n    };\n    var yValue = function (y) {\n      return { y: y };\n    };\n    var xyValue = function (x, y) {\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var fireSliderChange$3 = function (component, value) {\n      emitWith(component, sliderChangeEvent(), { value: value });\n    };\n    var setToTLEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(min1X(detail), min1Y(detail)));\n    };\n    var setToTEdge = function (edge, detail) {\n      fireSliderChange$3(edge, yValue(min1Y(detail)));\n    };\n    var setToTEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(halfX(detail), min1Y(detail)));\n    };\n    var setToTREdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(max1X(detail), min1Y(detail)));\n    };\n    var setToREdge = function (edge, detail) {\n      fireSliderChange$3(edge, xValue(max1X(detail)));\n    };\n    var setToREdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(max1X(detail), halfY(detail)));\n    };\n    var setToBREdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(max1X(detail), max1Y(detail)));\n    };\n    var setToBEdge = function (edge, detail) {\n      fireSliderChange$3(edge, yValue(max1Y(detail)));\n    };\n    var setToBEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(halfX(detail), max1Y(detail)));\n    };\n    var setToBLEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(min1X(detail), max1Y(detail)));\n    };\n    var setToLEdge = function (edge, detail) {\n      fireSliderChange$3(edge, xValue(min1X(detail)));\n    };\n    var setToLEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(min1X(detail), halfY(detail)));\n    };\n\n    var reduceBy = function (value, min, max, step) {\n      if (value < min) {\n        return value;\n      } else if (value > max) {\n        return max;\n      } else if (value === min) {\n        return min - 1;\n      } else {\n        return Math.max(min, value - step);\n      }\n    };\n    var increaseBy = function (value, min, max, step) {\n      if (value > max) {\n        return value;\n      } else if (value < min) {\n        return min;\n      } else if (value === max) {\n        return max + 1;\n      } else {\n        return Math.min(max, value + step);\n      }\n    };\n    var capValue = function (value, min, max) {\n      return Math.max(min, Math.min(max, value));\n    };\n    var snapValueOf = function (value, min, max, step, snapStart) {\n      return snapStart.fold(function () {\n        var initValue = value - min;\n        var extraValue = Math.round(initValue / step) * step;\n        return capValue(min + extraValue, min - 1, max + 1);\n      }, function (start) {\n        var remainder = (value - start) % step;\n        var adjustment = Math.round(remainder / step);\n        var rawSteps = Math.floor((value - start) / step);\n        var maxSteps = Math.floor((max - start) / step);\n        var numSteps = Math.min(maxSteps, rawSteps + adjustment);\n        var r = start + numSteps * step;\n        return Math.max(start, r);\n      });\n    };\n    var findOffsetOf = function (value, min, max) {\n      return Math.min(max, Math.max(value, min)) - min;\n    };\n    var findValueOf = function (args) {\n      var min = args.min, max = args.max, range = args.range, value = args.value, step = args.step, snap = args.snap, snapStart = args.snapStart, rounded = args.rounded, hasMinEdge = args.hasMinEdge, hasMaxEdge = args.hasMaxEdge, minBound = args.minBound, maxBound = args.maxBound, screenRange = args.screenRange;\n      var capMin = hasMinEdge ? min - 1 : min;\n      var capMax = hasMaxEdge ? max + 1 : max;\n      if (value < minBound) {\n        return capMin;\n      } else if (value > maxBound) {\n        return capMax;\n      } else {\n        var offset = findOffsetOf(value, minBound, maxBound);\n        var newValue = capValue(offset / screenRange * range + min, capMin, capMax);\n        if (snap && newValue >= min && newValue <= max) {\n          return snapValueOf(newValue, min, max, step, snapStart);\n        } else if (rounded) {\n          return Math.round(newValue);\n        } else {\n          return newValue;\n        }\n      }\n    };\n    var findOffsetOfValue$2 = function (args) {\n      var min = args.min, max = args.max, range = args.range, value = args.value, hasMinEdge = args.hasMinEdge, hasMaxEdge = args.hasMaxEdge, maxBound = args.maxBound, maxOffset = args.maxOffset, centerMinEdge = args.centerMinEdge, centerMaxEdge = args.centerMaxEdge;\n      if (value < min) {\n        return hasMinEdge ? 0 : centerMinEdge;\n      } else if (value > max) {\n        return hasMaxEdge ? maxBound : centerMaxEdge;\n      } else {\n        return (value - min) / range * maxOffset;\n      }\n    };\n\n    var top = 'top', right = 'right', bottom = 'bottom', left = 'left', width = 'width', height = 'height';\n    var getBounds = function (component) {\n      return component.element.dom.getBoundingClientRect();\n    };\n    var getBoundsProperty = function (bounds, property) {\n      return bounds[property];\n    };\n    var getMinXBounds = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, left);\n    };\n    var getMaxXBounds = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, right);\n    };\n    var getMinYBounds = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, top);\n    };\n    var getMaxYBounds = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, bottom);\n    };\n    var getXScreenRange = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, width);\n    };\n    var getYScreenRange = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, height);\n    };\n    var getCenterOffsetOf = function (componentMinEdge, componentMaxEdge, spectrumMinEdge) {\n      return (componentMinEdge + componentMaxEdge) / 2 - spectrumMinEdge;\n    };\n    var getXCenterOffSetOf = function (component, spectrum) {\n      var componentBounds = getBounds(component);\n      var spectrumBounds = getBounds(spectrum);\n      var componentMinEdge = getBoundsProperty(componentBounds, left);\n      var componentMaxEdge = getBoundsProperty(componentBounds, right);\n      var spectrumMinEdge = getBoundsProperty(spectrumBounds, left);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n    var getYCenterOffSetOf = function (component, spectrum) {\n      var componentBounds = getBounds(component);\n      var spectrumBounds = getBounds(spectrum);\n      var componentMinEdge = getBoundsProperty(componentBounds, top);\n      var componentMaxEdge = getBoundsProperty(componentBounds, bottom);\n      var spectrumMinEdge = getBoundsProperty(spectrumBounds, top);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n\n    var fireSliderChange$2 = function (spectrum, value) {\n      emitWith(spectrum, sliderChangeEvent(), { value: value });\n    };\n    var sliderValue$2 = function (x) {\n      return { x: x };\n    };\n    var findValueOfOffset$1 = function (spectrum, detail, left) {\n      var args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value: left,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        maxBound: getMaxXBounds(spectrum),\n        screenRange: getXScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    var setValueFrom$2 = function (spectrum, detail, value) {\n      var xValue = findValueOfOffset$1(spectrum, detail, value);\n      var sliderVal = sliderValue$2(xValue);\n      fireSliderChange$2(spectrum, sliderVal);\n      return xValue;\n    };\n    var setToMin$2 = function (spectrum, detail) {\n      var min = minX(detail);\n      fireSliderChange$2(spectrum, sliderValue$2(min));\n    };\n    var setToMax$2 = function (spectrum, detail) {\n      var max = maxX(detail);\n      fireSliderChange$2(spectrum, sliderValue$2(max));\n    };\n    var moveBy$2 = function (direction, spectrum, detail) {\n      var f = direction > 0 ? increaseBy : reduceBy;\n      var xValue = f(currentValue(detail).x, minX(detail), maxX(detail), step(detail));\n      fireSliderChange$2(spectrum, sliderValue$2(xValue));\n      return Optional.some(xValue);\n    };\n    var handleMovement$2 = function (direction) {\n      return function (spectrum, detail) {\n        return moveBy$2(direction, spectrum, detail).map(always);\n      };\n    };\n    var getValueFromEvent$2 = function (simulatedEvent) {\n      var pos = getEventSource(simulatedEvent);\n      return pos.map(function (p) {\n        return p.left;\n      });\n    };\n    var findOffsetOfValue$1 = function (spectrum, detail, value, minEdge, maxEdge) {\n      var minOffset = 0;\n      var maxOffset = getXScreenRange(spectrum);\n      var centerMinEdge = minEdge.bind(function (edge) {\n        return Optional.some(getXCenterOffSetOf(edge, spectrum));\n      }).getOr(minOffset);\n      var centerMaxEdge = maxEdge.bind(function (edge) {\n        return Optional.some(getXCenterOffSetOf(edge, spectrum));\n      }).getOr(maxOffset);\n      var args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value: value,\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        minOffset: minOffset,\n        maxBound: getMaxXBounds(spectrum),\n        maxOffset: maxOffset,\n        centerMinEdge: centerMinEdge,\n        centerMaxEdge: centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    var findPositionOfValue$1 = function (slider, spectrum, value, minEdge, maxEdge, detail) {\n      var offset = findOffsetOfValue$1(spectrum, detail, value, minEdge, maxEdge);\n      return getMinXBounds(spectrum) - getMinXBounds(slider) + offset;\n    };\n    var setPositionFromValue$2 = function (slider, thumb, detail, edges) {\n      var value = currentValue(detail);\n      var pos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value.x, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      var thumbRadius = get$a(thumb.element) / 2;\n      set$7(thumb.element, 'left', pos - thumbRadius + 'px');\n    };\n    var onLeft$2 = handleMovement$2(-1);\n    var onRight$2 = handleMovement$2(1);\n    var onUp$2 = Optional.none;\n    var onDown$2 = Optional.none;\n    var edgeActions$2 = {\n      'top-left': Optional.none(),\n      'top': Optional.none(),\n      'top-right': Optional.none(),\n      'right': Optional.some(setToREdge),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.none(),\n      'bottom-left': Optional.none(),\n      'left': Optional.some(setToLEdge)\n    };\n\n    var HorizontalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$2,\n        setToMin: setToMin$2,\n        setToMax: setToMax$2,\n        findValueOfOffset: findValueOfOffset$1,\n        getValueFromEvent: getValueFromEvent$2,\n        findPositionOfValue: findPositionOfValue$1,\n        setPositionFromValue: setPositionFromValue$2,\n        onLeft: onLeft$2,\n        onRight: onRight$2,\n        onUp: onUp$2,\n        onDown: onDown$2,\n        edgeActions: edgeActions$2\n    });\n\n    var fireSliderChange$1 = function (spectrum, value) {\n      emitWith(spectrum, sliderChangeEvent(), { value: value });\n    };\n    var sliderValue$1 = function (y) {\n      return { y: y };\n    };\n    var findValueOfOffset = function (spectrum, detail, top) {\n      var args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value: top,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        maxBound: getMaxYBounds(spectrum),\n        screenRange: getYScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    var setValueFrom$1 = function (spectrum, detail, value) {\n      var yValue = findValueOfOffset(spectrum, detail, value);\n      var sliderVal = sliderValue$1(yValue);\n      fireSliderChange$1(spectrum, sliderVal);\n      return yValue;\n    };\n    var setToMin$1 = function (spectrum, detail) {\n      var min = minY(detail);\n      fireSliderChange$1(spectrum, sliderValue$1(min));\n    };\n    var setToMax$1 = function (spectrum, detail) {\n      var max = maxY(detail);\n      fireSliderChange$1(spectrum, sliderValue$1(max));\n    };\n    var moveBy$1 = function (direction, spectrum, detail) {\n      var f = direction > 0 ? increaseBy : reduceBy;\n      var yValue = f(currentValue(detail).y, minY(detail), maxY(detail), step(detail));\n      fireSliderChange$1(spectrum, sliderValue$1(yValue));\n      return Optional.some(yValue);\n    };\n    var handleMovement$1 = function (direction) {\n      return function (spectrum, detail) {\n        return moveBy$1(direction, spectrum, detail).map(always);\n      };\n    };\n    var getValueFromEvent$1 = function (simulatedEvent) {\n      var pos = getEventSource(simulatedEvent);\n      return pos.map(function (p) {\n        return p.top;\n      });\n    };\n    var findOffsetOfValue = function (spectrum, detail, value, minEdge, maxEdge) {\n      var minOffset = 0;\n      var maxOffset = getYScreenRange(spectrum);\n      var centerMinEdge = minEdge.bind(function (edge) {\n        return Optional.some(getYCenterOffSetOf(edge, spectrum));\n      }).getOr(minOffset);\n      var centerMaxEdge = maxEdge.bind(function (edge) {\n        return Optional.some(getYCenterOffSetOf(edge, spectrum));\n      }).getOr(maxOffset);\n      var args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value: value,\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        minOffset: minOffset,\n        maxBound: getMaxYBounds(spectrum),\n        maxOffset: maxOffset,\n        centerMinEdge: centerMinEdge,\n        centerMaxEdge: centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    var findPositionOfValue = function (slider, spectrum, value, minEdge, maxEdge, detail) {\n      var offset = findOffsetOfValue(spectrum, detail, value, minEdge, maxEdge);\n      return getMinYBounds(spectrum) - getMinYBounds(slider) + offset;\n    };\n    var setPositionFromValue$1 = function (slider, thumb, detail, edges) {\n      var value = currentValue(detail);\n      var pos = findPositionOfValue(slider, edges.getSpectrum(slider), value.y, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      var thumbRadius = get$b(thumb.element) / 2;\n      set$7(thumb.element, 'top', pos - thumbRadius + 'px');\n    };\n    var onLeft$1 = Optional.none;\n    var onRight$1 = Optional.none;\n    var onUp$1 = handleMovement$1(-1);\n    var onDown$1 = handleMovement$1(1);\n    var edgeActions$1 = {\n      'top-left': Optional.none(),\n      'top': Optional.some(setToTEdge),\n      'top-right': Optional.none(),\n      'right': Optional.none(),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.some(setToBEdge),\n      'bottom-left': Optional.none(),\n      'left': Optional.none()\n    };\n\n    var VerticalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$1,\n        setToMin: setToMin$1,\n        setToMax: setToMax$1,\n        findValueOfOffset: findValueOfOffset,\n        getValueFromEvent: getValueFromEvent$1,\n        findPositionOfValue: findPositionOfValue,\n        setPositionFromValue: setPositionFromValue$1,\n        onLeft: onLeft$1,\n        onRight: onRight$1,\n        onUp: onUp$1,\n        onDown: onDown$1,\n        edgeActions: edgeActions$1\n    });\n\n    var fireSliderChange = function (spectrum, value) {\n      emitWith(spectrum, sliderChangeEvent(), { value: value });\n    };\n    var sliderValue = function (x, y) {\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var setValueFrom = function (spectrum, detail, value) {\n      var xValue = findValueOfOffset$1(spectrum, detail, value.left);\n      var yValue = findValueOfOffset(spectrum, detail, value.top);\n      var val = sliderValue(xValue, yValue);\n      fireSliderChange(spectrum, val);\n      return val;\n    };\n    var moveBy = function (direction, isVerticalMovement, spectrum, detail) {\n      var f = direction > 0 ? increaseBy : reduceBy;\n      var xValue = isVerticalMovement ? currentValue(detail).x : f(currentValue(detail).x, minX(detail), maxX(detail), step(detail));\n      var yValue = !isVerticalMovement ? currentValue(detail).y : f(currentValue(detail).y, minY(detail), maxY(detail), step(detail));\n      fireSliderChange(spectrum, sliderValue(xValue, yValue));\n      return Optional.some(xValue);\n    };\n    var handleMovement = function (direction, isVerticalMovement) {\n      return function (spectrum, detail) {\n        return moveBy(direction, isVerticalMovement, spectrum, detail).map(always);\n      };\n    };\n    var setToMin = function (spectrum, detail) {\n      var mX = minX(detail);\n      var mY = minY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    var setToMax = function (spectrum, detail) {\n      var mX = maxX(detail);\n      var mY = maxY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    var getValueFromEvent = function (simulatedEvent) {\n      return getEventSource(simulatedEvent);\n    };\n    var setPositionFromValue = function (slider, thumb, detail, edges) {\n      var value = currentValue(detail);\n      var xPos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value.x, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      var yPos = findPositionOfValue(slider, edges.getSpectrum(slider), value.y, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      var thumbXRadius = get$a(thumb.element) / 2;\n      var thumbYRadius = get$b(thumb.element) / 2;\n      set$7(thumb.element, 'left', xPos - thumbXRadius + 'px');\n      set$7(thumb.element, 'top', yPos - thumbYRadius + 'px');\n    };\n    var onLeft = handleMovement(-1, false);\n    var onRight = handleMovement(1, false);\n    var onUp = handleMovement(-1, true);\n    var onDown = handleMovement(1, true);\n    var edgeActions = {\n      'top-left': Optional.some(setToTLEdgeXY),\n      'top': Optional.some(setToTEdgeXY),\n      'top-right': Optional.some(setToTREdgeXY),\n      'right': Optional.some(setToREdgeXY),\n      'bottom-right': Optional.some(setToBREdgeXY),\n      'bottom': Optional.some(setToBEdgeXY),\n      'bottom-left': Optional.some(setToBLEdgeXY),\n      'left': Optional.some(setToLEdgeXY)\n    };\n\n    var TwoDModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom,\n        setToMin: setToMin,\n        setToMax: setToMax,\n        getValueFromEvent: getValueFromEvent,\n        setPositionFromValue: setPositionFromValue,\n        onLeft: onLeft,\n        onRight: onRight,\n        onUp: onUp,\n        onDown: onDown,\n        edgeActions: edgeActions\n    });\n\n    var SliderSchema = [\n      defaulted('stepSize', 1),\n      defaulted('onChange', noop),\n      defaulted('onChoose', noop),\n      defaulted('onInit', noop),\n      defaulted('onDragStart', noop),\n      defaulted('onDragEnd', noop),\n      defaulted('snapToGrid', false),\n      defaulted('rounded', true),\n      option('snapStart'),\n      requiredOf('model', choose$1('mode', {\n        x: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          customField('value', function (spec) {\n            return Cell(spec.mode.minX);\n          }),\n          required$1('getInitialValue'),\n          output$1('manager', HorizontalModel)\n        ],\n        y: [\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', function (spec) {\n            return Cell(spec.mode.minY);\n          }),\n          required$1('getInitialValue'),\n          output$1('manager', VerticalModel)\n        ],\n        xy: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', function (spec) {\n            return Cell({\n              x: spec.mode.minX,\n              y: spec.mode.minY\n            });\n          }),\n          required$1('getInitialValue'),\n          output$1('manager', TwoDModel)\n        ]\n      })),\n      field('sliderBehaviours', [\n        Keying,\n        Representing\n      ]),\n      customField('mouseIsDown', function () {\n        return Cell(false);\n      })\n    ];\n\n    var sketch$2 = function (detail, components, _spec, _externals) {\n      var _a;\n      var getThumb = function (component) {\n        return getPartOrDie(component, detail, 'thumb');\n      };\n      var getSpectrum = function (component) {\n        return getPartOrDie(component, detail, 'spectrum');\n      };\n      var getLeftEdge = function (component) {\n        return getPart(component, detail, 'left-edge');\n      };\n      var getRightEdge = function (component) {\n        return getPart(component, detail, 'right-edge');\n      };\n      var getTopEdge = function (component) {\n        return getPart(component, detail, 'top-edge');\n      };\n      var getBottomEdge = function (component) {\n        return getPart(component, detail, 'bottom-edge');\n      };\n      var modelDetail = detail.model;\n      var model = modelDetail.manager;\n      var refresh = function (slider, thumb) {\n        model.setPositionFromValue(slider, thumb, detail, {\n          getLeftEdge: getLeftEdge,\n          getRightEdge: getRightEdge,\n          getTopEdge: getTopEdge,\n          getBottomEdge: getBottomEdge,\n          getSpectrum: getSpectrum\n        });\n      };\n      var setValue = function (slider, newValue) {\n        modelDetail.value.set(newValue);\n        var thumb = getThumb(slider);\n        refresh(slider, thumb);\n      };\n      var changeValue = function (slider, newValue) {\n        setValue(slider, newValue);\n        var thumb = getThumb(slider);\n        detail.onChange(slider, thumb, newValue);\n        return Optional.some(true);\n      };\n      var resetToMin = function (slider) {\n        model.setToMin(slider, detail);\n      };\n      var resetToMax = function (slider) {\n        model.setToMax(slider, detail);\n      };\n      var choose = function (slider) {\n        var fireOnChoose = function () {\n          getPart(slider, detail, 'thumb').each(function (thumb) {\n            var value = modelDetail.value.get();\n            detail.onChoose(slider, thumb, value);\n          });\n        };\n        var wasDown = detail.mouseIsDown.get();\n        detail.mouseIsDown.set(false);\n        if (wasDown) {\n          fireOnChoose();\n        }\n      };\n      var onDragStart = function (slider, simulatedEvent) {\n        simulatedEvent.stop();\n        detail.mouseIsDown.set(true);\n        detail.onDragStart(slider, getThumb(slider));\n      };\n      var onDragEnd = function (slider, simulatedEvent) {\n        simulatedEvent.stop();\n        detail.onDragEnd(slider, getThumb(slider));\n        choose(slider);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.sliderBehaviours, [\n          Keying.config({\n            mode: 'special',\n            focusIn: function (slider) {\n              return getPart(slider, detail, 'spectrum').map(Keying.focusIn).map(always);\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (_) {\n                return modelDetail.value.get();\n              }\n            }\n          }),\n          Receiving.config({ channels: (_a = {}, _a[mouseReleased()] = { onReceive: choose }, _a) })\n        ]),\n        events: derive$2([\n          run$1(sliderChangeEvent(), function (slider, simulatedEvent) {\n            changeValue(slider, simulatedEvent.event.value);\n          }),\n          runOnAttached(function (slider, _simulatedEvent) {\n            var getInitial = modelDetail.getInitialValue();\n            modelDetail.value.set(getInitial);\n            var thumb = getThumb(slider);\n            refresh(slider, thumb);\n            var spectrum = getSpectrum(slider);\n            detail.onInit(slider, thumb, spectrum, modelDetail.value.get());\n          }),\n          run$1(touchstart(), onDragStart),\n          run$1(touchend(), onDragEnd),\n          run$1(mousedown(), onDragStart),\n          run$1(mouseup(), onDragEnd)\n        ]),\n        apis: {\n          resetToMin: resetToMin,\n          resetToMax: resetToMax,\n          setValue: setValue,\n          refresh: refresh\n        },\n        domModification: { styles: { position: 'relative' } }\n      };\n    };\n\n    var Slider = composite({\n      name: 'Slider',\n      configFields: SliderSchema,\n      partFields: SliderParts,\n      factory: sketch$2,\n      apis: {\n        setValue: function (apis, slider, value) {\n          apis.setValue(slider, value);\n        },\n        resetToMin: function (apis, slider) {\n          apis.resetToMin(slider);\n        },\n        resetToMax: function (apis, slider) {\n          apis.resetToMax(slider);\n        },\n        refresh: function (apis, slider) {\n          apis.refresh(slider);\n        }\n      }\n    });\n\n    var fieldsUpdate = generate$6('rgb-hex-update');\n    var sliderUpdate = generate$6('slider-update');\n    var paletteUpdate = generate$6('palette-update');\n\n    var sliderFactory = function (translate, getClass) {\n      var spectrum = Slider.parts.spectrum({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-spectrum')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      var thumb = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-thumb')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      return Slider.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider')],\n          attributes: { role: 'presentation' }\n        },\n        rounded: false,\n        model: {\n          mode: 'y',\n          getInitialValue: constant$1({ y: 0 })\n        },\n        components: [\n          spectrum,\n          thumb\n        ],\n        sliderBehaviours: derive$1([Focusing.config({})]),\n        onChange: function (slider, _thumb, value) {\n          emitWith(slider, sliderUpdate, { value: value });\n        }\n      });\n    };\n\n    var owner$1 = 'form';\n    var schema$i = [field('formBehaviours', [Representing])];\n    var getPartName$1 = function (name) {\n      return '<alloy.field.' + name + '>';\n    };\n    var sketch$1 = function (fSpec) {\n      var parts = function () {\n        var record = [];\n        var field = function (name, config) {\n          record.push(name);\n          return generateOne$1(owner$1, getPartName$1(name), config);\n        };\n        return {\n          field: field,\n          record: constant$1(record)\n        };\n      }();\n      var spec = fSpec(parts);\n      var partNames = parts.record();\n      var fieldParts = map$2(partNames, function (n) {\n        return required({\n          name: n,\n          pname: getPartName$1(n)\n        });\n      });\n      return composite$1(owner$1, schema$i, fieldParts, make$4, spec);\n    };\n    var toResult = function (o, e) {\n      return o.fold(function () {\n        return Result.error(e);\n      }, Result.value);\n    };\n    var make$4 = function (detail, components) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.formBehaviours, [Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (form) {\n                var resPs = getAllParts(form, detail);\n                return map$1(resPs, function (resPThunk, pName) {\n                  return resPThunk().bind(function (v) {\n                    var opt = Composing.getCurrent(v);\n                    return toResult(opt, new Error('Cannot find a current component to extract the value from for form part \\'' + pName + '\\': ' + element(v.element)));\n                  }).map(Representing.getValue);\n                });\n              },\n              setValue: function (form, values) {\n                each(values, function (newValue, key) {\n                  getPart(form, detail, key).each(function (wrapper) {\n                    Composing.getCurrent(wrapper).each(function (field) {\n                      Representing.setValue(field, newValue);\n                    });\n                  });\n                });\n              }\n            }\n          })]),\n        apis: {\n          getField: function (form, key) {\n            return getPart(form, detail, key).bind(Composing.getCurrent);\n          }\n        }\n      };\n    };\n    var Form = {\n      getField: makeApi(function (apis, component, key) {\n        return apis.getField(component, key);\n      }),\n      sketch: sketch$1\n    };\n\n    var validInput = generate$6('valid-input');\n    var invalidInput = generate$6('invalid-input');\n    var validatingInput = generate$6('validating-input');\n    var translatePrefix = 'colorcustom.rgb.';\n    var rgbFormFactory = function (translate, getClass, onValidHexx, onInvalidHexx) {\n      var invalidation = function (label, isValid) {\n        return Invalidating.config({\n          invalidClass: getClass('invalid'),\n          notify: {\n            onValidate: function (comp) {\n              emitWith(comp, validatingInput, { type: label });\n            },\n            onValid: function (comp) {\n              emitWith(comp, validInput, {\n                type: label,\n                value: Representing.getValue(comp)\n              });\n            },\n            onInvalid: function (comp) {\n              emitWith(comp, invalidInput, {\n                type: label,\n                value: Representing.getValue(comp)\n              });\n            }\n          },\n          validator: {\n            validate: function (comp) {\n              var value = Representing.getValue(comp);\n              var res = isValid(value) ? Result.value(true) : Result.error(translate('aria.input.invalid'));\n              return Future.pure(res);\n            },\n            validateOnLoad: false\n          }\n        });\n      };\n      var renderTextField = function (isValid, name, label, description, data) {\n        var helptext = translate(translatePrefix + 'range');\n        var pLabel = FormField.parts.label({\n          dom: {\n            tag: 'label',\n            innerHtml: label,\n            attributes: { 'aria-label': description }\n          }\n        });\n        var pField = FormField.parts.field({\n          data: data,\n          factory: Input,\n          inputAttributes: __assign({ type: 'text' }, name === 'hex' ? { 'aria-live': 'polite' } : {}),\n          inputClasses: [getClass('textfield')],\n          inputBehaviours: derive$1([\n            invalidation(name, isValid),\n            Tabstopping.config({})\n          ]),\n          onSetValue: function (input) {\n            if (Invalidating.isInvalid(input)) {\n              var run = Invalidating.run(input);\n              run.get(noop);\n            }\n          }\n        });\n        var comps = [\n          pLabel,\n          pField\n        ];\n        var concats = name !== 'hex' ? [FormField.parts['aria-descriptor']({ text: helptext })] : [];\n        var components = comps.concat(concats);\n        return {\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' }\n          },\n          components: components\n        };\n      };\n      var copyRgbToHex = function (form, rgba) {\n        var hex = fromRgba(rgba);\n        Form.getField(form, 'hex').each(function (hexField) {\n          if (!Focusing.isFocused(hexField)) {\n            Representing.setValue(form, { hex: hex.value });\n          }\n        });\n        return hex;\n      };\n      var copyRgbToForm = function (form, rgb) {\n        var red = rgb.red;\n        var green = rgb.green;\n        var blue = rgb.blue;\n        Representing.setValue(form, {\n          red: red,\n          green: green,\n          blue: blue\n        });\n      };\n      var memPreview = record({\n        dom: {\n          tag: 'div',\n          classes: [getClass('rgba-preview')],\n          styles: { 'background-color': 'white' },\n          attributes: { role: 'presentation' }\n        }\n      });\n      var updatePreview = function (anyInSystem, hex) {\n        memPreview.getOpt(anyInSystem).each(function (preview) {\n          set$7(preview.element, 'background-color', '#' + hex.value);\n        });\n      };\n      var factory = function () {\n        var state = {\n          red: Cell(Optional.some(255)),\n          green: Cell(Optional.some(255)),\n          blue: Cell(Optional.some(255)),\n          hex: Cell(Optional.some('ffffff'))\n        };\n        var copyHexToRgb = function (form, hex) {\n          var rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n        };\n        var get = function (prop) {\n          return state[prop].get();\n        };\n        var set = function (prop, value) {\n          state[prop].set(value);\n        };\n        var getValueRgb = function () {\n          return get('red').bind(function (red) {\n            return get('green').bind(function (green) {\n              return get('blue').map(function (blue) {\n                return rgbaColour(red, green, blue, 1);\n              });\n            });\n          });\n        };\n        var setValueRgb = function (rgb) {\n          var red = rgb.red;\n          var green = rgb.green;\n          var blue = rgb.blue;\n          set('red', Optional.some(red));\n          set('green', Optional.some(green));\n          set('blue', Optional.some(blue));\n        };\n        var onInvalidInput = function (form, simulatedEvent) {\n          var data = simulatedEvent.event;\n          if (data.type !== 'hex') {\n            set(data.type, Optional.none());\n          } else {\n            onInvalidHexx(form);\n          }\n        };\n        var onValidHex = function (form, value) {\n          onValidHexx(form);\n          var hex = hexColour(value);\n          set('hex', Optional.some(value));\n          var rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n          emitWith(form, fieldsUpdate, { hex: hex });\n          updatePreview(form, hex);\n        };\n        var onValidRgb = function (form, prop, value) {\n          var val = parseInt(value, 10);\n          set(prop, Optional.some(val));\n          getValueRgb().each(function (rgb) {\n            var hex = copyRgbToHex(form, rgb);\n            emitWith(form, fieldsUpdate, { hex: hex });\n            updatePreview(form, hex);\n          });\n        };\n        var isHexInputEvent = function (data) {\n          return data.type === 'hex';\n        };\n        var onValidInput = function (form, simulatedEvent) {\n          var data = simulatedEvent.event;\n          if (isHexInputEvent(data)) {\n            onValidHex(form, data.value);\n          } else {\n            onValidRgb(form, data.type, data.value);\n          }\n        };\n        var formPartStrings = function (key) {\n          return {\n            label: translate(translatePrefix + key + '.label'),\n            description: translate(translatePrefix + key + '.description')\n          };\n        };\n        var redStrings = formPartStrings('red');\n        var greenStrings = formPartStrings('green');\n        var blueStrings = formPartStrings('blue');\n        var hexStrings = formPartStrings('hex');\n        return deepMerge(Form.sketch(function (parts) {\n          return {\n            dom: {\n              tag: 'form',\n              classes: [getClass('rgb-form')],\n              attributes: { 'aria-label': translate('aria.color.picker') }\n            },\n            components: [\n              parts.field('red', FormField.sketch(renderTextField(isRgbaComponent, 'red', redStrings.label, redStrings.description, 255))),\n              parts.field('green', FormField.sketch(renderTextField(isRgbaComponent, 'green', greenStrings.label, greenStrings.description, 255))),\n              parts.field('blue', FormField.sketch(renderTextField(isRgbaComponent, 'blue', blueStrings.label, blueStrings.description, 255))),\n              parts.field('hex', FormField.sketch(renderTextField(isHexString, 'hex', hexStrings.label, hexStrings.description, 'ffffff'))),\n              memPreview.asSpec()\n            ],\n            formBehaviours: derive$1([\n              Invalidating.config({ invalidClass: getClass('form-invalid') }),\n              config('rgb-form-events', [\n                run$1(validInput, onValidInput),\n                run$1(invalidInput, onInvalidInput),\n                run$1(validatingInput, onInvalidInput)\n              ])\n            ])\n          };\n        }), {\n          apis: {\n            updateHex: function (form, hex) {\n              Representing.setValue(form, { hex: hex.value });\n              copyHexToRgb(form, hex);\n              updatePreview(form, hex);\n            }\n          }\n        });\n      };\n      var rgbFormSketcher = single({\n        factory: factory,\n        name: 'RgbForm',\n        configFields: [],\n        apis: {\n          updateHex: function (apis, form, hex) {\n            apis.updateHex(form, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return rgbFormSketcher;\n    };\n\n    var paletteFactory = function (_translate, getClass) {\n      var spectrumPart = Slider.parts.spectrum({\n        dom: {\n          tag: 'canvas',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-spectrum')]\n        }\n      });\n      var thumbPart = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-thumb')],\n          innerHtml: '<div class=' + getClass('sv-palette-inner-thumb') + ' role=\"presentation\"></div>'\n        }\n      });\n      var setColour = function (canvas, rgba) {\n        var width = canvas.width, height = canvas.height;\n        var ctx = canvas.getContext('2d');\n        if (ctx === null) {\n          return;\n        }\n        ctx.fillStyle = rgba;\n        ctx.fillRect(0, 0, width, height);\n        var grdWhite = ctx.createLinearGradient(0, 0, width, 0);\n        grdWhite.addColorStop(0, 'rgba(255,255,255,1)');\n        grdWhite.addColorStop(1, 'rgba(255,255,255,0)');\n        ctx.fillStyle = grdWhite;\n        ctx.fillRect(0, 0, width, height);\n        var grdBlack = ctx.createLinearGradient(0, 0, 0, height);\n        grdBlack.addColorStop(0, 'rgba(0,0,0,0)');\n        grdBlack.addColorStop(1, 'rgba(0,0,0,1)');\n        ctx.fillStyle = grdBlack;\n        ctx.fillRect(0, 0, width, height);\n      };\n      var setPaletteHue = function (slider, hue) {\n        var canvas = slider.components()[0].element.dom;\n        var hsv = hsvColour(hue, 100, 100);\n        var rgba = fromHsv(hsv);\n        setColour(canvas, toString(rgba));\n      };\n      var setPaletteThumb = function (slider, hex) {\n        var hsv = fromRgb(fromHex(hex));\n        Slider.setValue(slider, {\n          x: hsv.saturation,\n          y: 100 - hsv.value\n        });\n      };\n      var factory = function (_detail) {\n        var getInitialValue = constant$1({\n          x: 0,\n          y: 0\n        });\n        var onChange = function (slider, _thumb, value) {\n          emitWith(slider, paletteUpdate, { value: value });\n        };\n        var onInit = function (_slider, _thumb, spectrum, _value) {\n          setColour(spectrum.element.dom, toString(red));\n        };\n        var sliderBehaviours = derive$1([\n          Composing.config({ find: Optional.some }),\n          Focusing.config({})\n        ]);\n        return Slider.sketch({\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' },\n            classes: [getClass('sv-palette')]\n          },\n          model: {\n            mode: 'xy',\n            getInitialValue: getInitialValue\n          },\n          rounded: false,\n          components: [\n            spectrumPart,\n            thumbPart\n          ],\n          onChange: onChange,\n          onInit: onInit,\n          sliderBehaviours: sliderBehaviours\n        });\n      };\n      var saturationBrightnessPaletteSketcher = single({\n        factory: factory,\n        name: 'SaturationBrightnessPalette',\n        configFields: [],\n        apis: {\n          setHue: function (_apis, slider, hue) {\n            setPaletteHue(slider, hue);\n          },\n          setThumb: function (_apis, slider, hex) {\n            setPaletteThumb(slider, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return saturationBrightnessPaletteSketcher;\n    };\n\n    var makeFactory = function (translate, getClass) {\n      var factory = function (detail) {\n        var rgbForm = rgbFormFactory(translate, getClass, detail.onValidHex, detail.onInvalidHex);\n        var sbPalette = paletteFactory(translate, getClass);\n        var hueSliderToDegrees = function (hue) {\n          return (100 - hue) / 100 * 360;\n        };\n        var hueDegreesToSlider = function (hue) {\n          return 100 - hue / 360 * 100;\n        };\n        var state = {\n          paletteRgba: Cell(red),\n          paletteHue: Cell(0)\n        };\n        var memSlider = record(sliderFactory(translate, getClass));\n        var memPalette = record(sbPalette.sketch({}));\n        var memRgb = record(rgbForm.sketch({}));\n        var updatePalette = function (anyInSystem, _hex, hue) {\n          memPalette.getOpt(anyInSystem).each(function (palette) {\n            sbPalette.setHue(palette, hue);\n          });\n        };\n        var updateFields = function (anyInSystem, hex) {\n          memRgb.getOpt(anyInSystem).each(function (form) {\n            rgbForm.updateHex(form, hex);\n          });\n        };\n        var updateSlider = function (anyInSystem, _hex, hue) {\n          memSlider.getOpt(anyInSystem).each(function (slider) {\n            Slider.setValue(slider, { y: hueDegreesToSlider(hue) });\n          });\n        };\n        var updatePaletteThumb = function (anyInSystem, hex) {\n          memPalette.getOpt(anyInSystem).each(function (palette) {\n            sbPalette.setThumb(palette, hex);\n          });\n        };\n        var updateState = function (hex, hue) {\n          var rgba = fromHex(hex);\n          state.paletteRgba.set(rgba);\n          state.paletteHue.set(hue);\n        };\n        var runUpdates = function (anyInSystem, hex, hue, updates) {\n          updateState(hex, hue);\n          each$1(updates, function (update) {\n            update(anyInSystem, hex, hue);\n          });\n        };\n        var onPaletteUpdate = function () {\n          var updates = [updateFields];\n          return function (form, simulatedEvent) {\n            var value = simulatedEvent.event.value;\n            var oldHue = state.paletteHue.get();\n            var newHsv = hsvColour(oldHue, value.x, 100 - value.y);\n            var newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, oldHue, updates);\n          };\n        };\n        var onSliderUpdate = function () {\n          var updates = [\n            updatePalette,\n            updateFields\n          ];\n          return function (form, simulatedEvent) {\n            var hue = hueSliderToDegrees(simulatedEvent.event.value.y);\n            var oldRgb = state.paletteRgba.get();\n            var oldHsv = fromRgb(oldRgb);\n            var newHsv = hsvColour(hue, oldHsv.saturation, oldHsv.value);\n            var newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, hue, updates);\n          };\n        };\n        var onFieldsUpdate = function () {\n          var updates = [\n            updatePalette,\n            updateSlider,\n            updatePaletteThumb\n          ];\n          return function (form, simulatedEvent) {\n            var hex = simulatedEvent.event.hex;\n            var hsv = hexToHsv(hex);\n            runUpdates(form, hex, hsv.hue, updates);\n          };\n        };\n        return {\n          uid: detail.uid,\n          dom: detail.dom,\n          components: [\n            memPalette.asSpec(),\n            memSlider.asSpec(),\n            memRgb.asSpec()\n          ],\n          behaviours: derive$1([\n            config('colour-picker-events', [\n              run$1(fieldsUpdate, onFieldsUpdate()),\n              run$1(paletteUpdate, onPaletteUpdate()),\n              run$1(sliderUpdate, onSliderUpdate())\n            ]),\n            Composing.config({\n              find: function (comp) {\n                return memRgb.getOpt(comp);\n              }\n            }),\n            Keying.config({ mode: 'acyclic' })\n          ])\n        };\n      };\n      var colourPickerSketcher = single({\n        name: 'ColourPicker',\n        configFields: [\n          required$1('dom'),\n          defaulted('onValidHex', noop),\n          defaulted('onInvalidHex', noop)\n        ],\n        factory: factory\n      });\n      return colourPickerSketcher;\n    };\n\n    var self$1 = function () {\n      return Composing.config({ find: Optional.some });\n    };\n    var memento$1 = function (mem) {\n      return Composing.config({ find: mem.getOpt });\n    };\n    var childAt = function (index) {\n      return Composing.config({\n        find: function (comp) {\n          return child$2(comp.element, index).bind(function (element) {\n            return comp.getSystem().getByDom(element).toOptional();\n          });\n        }\n      });\n    };\n    var ComposingConfigs = {\n      self: self$1,\n      memento: memento$1,\n      childAt: childAt\n    };\n\n    var english = {\n      'colorcustom.rgb.red.label': 'R',\n      'colorcustom.rgb.red.description': 'Red component',\n      'colorcustom.rgb.green.label': 'G',\n      'colorcustom.rgb.green.description': 'Green component',\n      'colorcustom.rgb.blue.label': 'B',\n      'colorcustom.rgb.blue.description': 'Blue component',\n      'colorcustom.rgb.hex.label': '#',\n      'colorcustom.rgb.hex.description': 'Hex color code',\n      'colorcustom.rgb.range': 'Range 0 to 255',\n      'colorcustom.sb.saturation': 'Saturation',\n      'colorcustom.sb.brightness': 'Brightness',\n      'colorcustom.sb.picker': 'Saturation and Brightness Picker',\n      'colorcustom.sb.palette': 'Saturation and Brightness Palette',\n      'colorcustom.sb.instructions': 'Use arrow keys to select saturation and brightness, on x and y axes',\n      'colorcustom.hue.hue': 'Hue',\n      'colorcustom.hue.slider': 'Hue Slider',\n      'colorcustom.hue.palette': 'Hue Palette',\n      'colorcustom.hue.instructions': 'Use arrow keys to select a hue',\n      'aria.color.picker': 'Color Picker',\n      'aria.input.invalid': 'Invalid input'\n    };\n    var getEnglishText = function (key) {\n      return english[key];\n    };\n    var translate$1 = function (key) {\n      return getEnglishText(key);\n    };\n    var renderColorPicker = function (_spec) {\n      var getClass = function (key) {\n        return 'tox-' + key;\n      };\n      var colourPickerFactory = makeFactory(translate$1, getClass);\n      var onValidHex = function (form) {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: true\n        });\n      };\n      var onInvalidHex = function (form) {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: false\n        });\n      };\n      var memPicker = record(colourPickerFactory.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('color-picker-container')],\n          attributes: { role: 'presentation' }\n        },\n        onValidHex: onValidHex,\n        onInvalidHex: onInvalidHex\n      }));\n      return {\n        dom: { tag: 'div' },\n        components: [memPicker.asSpec()],\n        behaviours: derive$1([\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (comp) {\n                var picker = memPicker.get(comp);\n                var optRgbForm = Composing.getCurrent(picker);\n                var optHex = optRgbForm.bind(function (rgbForm) {\n                  var formValues = Representing.getValue(rgbForm);\n                  return formValues.hex;\n                });\n                return optHex.map(function (hex) {\n                  return '#' + hex;\n                }).getOr('');\n              },\n              setValue: function (comp, newValue) {\n                var pattern = /^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/;\n                var m = pattern.exec(newValue);\n                var picker = memPicker.get(comp);\n                var optRgbForm = Composing.getCurrent(picker);\n                optRgbForm.fold(function () {\n                  console.log('Can not find form');\n                }, function (rgbForm) {\n                  Representing.setValue(rgbForm, { hex: Optional.from(m[1]).getOr('') });\n                  Form.getField(rgbForm, 'hex').each(function (hexField) {\n                    emit(hexField, input());\n                  });\n                });\n              }\n            }\n          }),\n          ComposingConfigs.self()\n        ])\n      };\n    };\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.Resource');\n\n    var isOldCustomEditor = function (spec) {\n      return has$2(spec, 'init');\n    };\n    var renderCustomEditor = function (spec) {\n      var editorApi = value$1();\n      var memReplaced = record({ dom: { tag: spec.tag } });\n      var initialValue = value$1();\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-custom-editor']\n        },\n        behaviours: derive$1([\n          config('custom-editor-events', [runOnAttached(function (component) {\n              memReplaced.getOpt(component).each(function (ta) {\n                (isOldCustomEditor(spec) ? spec.init(ta.element.dom) : global$6.load(spec.scriptId, spec.scriptUrl).then(function (init) {\n                  return init(ta.element.dom, spec.settings);\n                })).then(function (ea) {\n                  initialValue.on(function (cvalue) {\n                    ea.setValue(cvalue);\n                  });\n                  initialValue.clear();\n                  editorApi.set(ea);\n                });\n              });\n            })]),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function () {\n                return editorApi.get().fold(function () {\n                  return initialValue.get().getOr('');\n                }, function (ed) {\n                  return ed.getValue();\n                });\n              },\n              setValue: function (component, value) {\n                editorApi.get().fold(function () {\n                  initialValue.set(value);\n                }, function (ed) {\n                  return ed.setValue(value);\n                });\n              }\n            }\n          }),\n          ComposingConfigs.self()\n        ]),\n        components: [memReplaced.asSpec()]\n      };\n    };\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var processors = objOf([\n      defaulted('preprocess', identity$1),\n      defaulted('postprocess', identity$1)\n    ]);\n    var memento = function (mem, rawProcessors) {\n      var ps = asRawOrDie$1('RepresentingConfigs.memento processors', processors, rawProcessors);\n      return Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: function (comp) {\n            var other = mem.get(comp);\n            var rawValue = Representing.getValue(other);\n            return ps.postprocess(rawValue);\n          },\n          setValue: function (comp, rawValue) {\n            var newValue = ps.preprocess(rawValue);\n            var other = mem.get(comp);\n            Representing.setValue(other, newValue);\n          }\n        }\n      });\n    };\n    var withComp = function (optInitialValue, getter, setter) {\n      return Representing.config(deepMerge({\n        store: {\n          mode: 'manual',\n          getValue: getter,\n          setValue: setter\n        }\n      }, optInitialValue.map(function (initialValue) {\n        return { store: { initialValue: initialValue } };\n      }).getOr({})));\n    };\n    var withElement = function (initialValue, getter, setter) {\n      return withComp(initialValue, function (c) {\n        return getter(c.element);\n      }, function (c, v) {\n        return setter(c.element, v);\n      });\n    };\n    var domValue = function (optInitialValue) {\n      return withElement(optInitialValue, get$5, set$4);\n    };\n    var domHtml = function (optInitialValue) {\n      return withElement(optInitialValue, get$7, set$5);\n    };\n    var memory = function (initialValue) {\n      return Representing.config({\n        store: {\n          mode: 'memory',\n          initialValue: initialValue\n        }\n      });\n    };\n    var RepresentingConfigs = {\n      memento: memento,\n      withElement: withElement,\n      withComp: withComp,\n      domValue: domValue,\n      domHtml: domHtml,\n      memory: memory\n    };\n\n    var defaultImageFileTypes = 'jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp';\n    var filterByExtension = function (files, providersBackstage) {\n      var allowedImageFileTypes = global$5.explode(providersBackstage.getSetting('images_file_types', defaultImageFileTypes, 'string'));\n      var isFileInAllowedTypes = function (file) {\n        return exists(allowedImageFileTypes, function (type) {\n          return endsWith(file.name.toLowerCase(), '.' + type.toLowerCase());\n        });\n      };\n      return filter$2(from(files), isFileInAllowedTypes);\n    };\n    var renderDropZone = function (spec, providersBackstage) {\n      var stopper = function (_, se) {\n        se.stop();\n      };\n      var sequence = function (actions) {\n        return function (comp, se) {\n          each$1(actions, function (a) {\n            a(comp, se);\n          });\n        };\n      };\n      var onDrop = function (comp, se) {\n        if (!Disabling.isDisabled(comp)) {\n          var transferEvent = se.event.raw;\n          handleFiles(comp, transferEvent.dataTransfer.files);\n        }\n      };\n      var onSelect = function (component, simulatedEvent) {\n        var input = simulatedEvent.event.raw.target;\n        handleFiles(component, input.files);\n      };\n      var handleFiles = function (component, files) {\n        Representing.setValue(component, filterByExtension(files, providersBackstage));\n        emitWith(component, formChangeEvent, { name: spec.name });\n      };\n      var memInput = record({\n        dom: {\n          tag: 'input',\n          attributes: {\n            type: 'file',\n            accept: 'image/*'\n          },\n          styles: { display: 'none' }\n        },\n        behaviours: derive$1([config('input-file-events', [\n            cutter(click()),\n            cutter(tap())\n          ])])\n      });\n      var renderField = function (s) {\n        return {\n          uid: s.uid,\n          dom: {\n            tag: 'div',\n            classes: ['tox-dropzone-container']\n          },\n          behaviours: derive$1([\n            RepresentingConfigs.memory([]),\n            ComposingConfigs.self(),\n            Disabling.config({}),\n            Toggling.config({\n              toggleClass: 'dragenter',\n              toggleOnExecute: false\n            }),\n            config('dropzone-events', [\n              run$1('dragenter', sequence([\n                stopper,\n                Toggling.toggle\n              ])),\n              run$1('dragleave', sequence([\n                stopper,\n                Toggling.toggle\n              ])),\n              run$1('dragover', stopper),\n              run$1('drop', sequence([\n                stopper,\n                onDrop\n              ])),\n              run$1(change(), onSelect)\n            ])\n          ]),\n          components: [{\n              dom: {\n                tag: 'div',\n                classes: ['tox-dropzone'],\n                styles: {}\n              },\n              components: [\n                {\n                  dom: {\n                    tag: 'p',\n                    innerHtml: providersBackstage.translate('Drop an image here')\n                  }\n                },\n                Button.sketch({\n                  dom: {\n                    tag: 'button',\n                    innerHtml: providersBackstage.translate('Browse for an image'),\n                    styles: { position: 'relative' },\n                    classes: [\n                      'tox-button',\n                      'tox-button--secondary'\n                    ]\n                  },\n                  components: [memInput.asSpec()],\n                  action: function (comp) {\n                    var inputComp = memInput.get(comp);\n                    inputComp.element.dom.click();\n                  },\n                  buttonBehaviours: derive$1([\n                    Tabstopping.config({}),\n                    DisablingConfigs.button(providersBackstage.isDisabled),\n                    receivingConfig()\n                  ])\n                })\n              ]\n            }]\n        };\n      };\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var pField = FormField.parts.field({ factory: { sketch: renderField } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    var renderGrid = function (spec, backstage) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-form__grid',\n            'tox-form__grid--' + spec.columns + 'col'\n          ]\n        },\n        components: map$2(spec.items, backstage.interpreter)\n      };\n    };\n\n    var beforeObject = generate$6('alloy-fake-before-tabstop');\n    var afterObject = generate$6('alloy-fake-after-tabstop');\n    var craftWithClasses = function (classes) {\n      return {\n        dom: {\n          tag: 'div',\n          styles: {\n            width: '1px',\n            height: '1px',\n            outline: 'none'\n          },\n          attributes: { tabindex: '0' },\n          classes: classes\n        },\n        behaviours: derive$1([\n          Focusing.config({ ignore: true }),\n          Tabstopping.config({})\n        ])\n      };\n    };\n    var craft = function (spec) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-navobj']\n        },\n        components: [\n          craftWithClasses([beforeObject]),\n          spec,\n          craftWithClasses([afterObject])\n        ],\n        behaviours: derive$1([ComposingConfigs.childAt(1)])\n      };\n    };\n    var triggerTab = function (placeholder, shiftKey) {\n      emitWith(placeholder, keydown(), {\n        raw: {\n          which: 9,\n          shiftKey: shiftKey\n        }\n      });\n    };\n    var onFocus = function (container, targetComp) {\n      var target = targetComp.element;\n      if (has(target, beforeObject)) {\n        triggerTab(container, true);\n      } else if (has(target, afterObject)) {\n        triggerTab(container, false);\n      }\n    };\n    var isPseudoStop = function (element) {\n      return closest(element, [\n        '.' + beforeObject,\n        '.' + afterObject\n      ].join(','), never);\n    };\n\n    var platformNeedsSandboxing = !(detect$1().browser.isIE() || detect$1().browser.isEdge());\n    var getDynamicSource = function (isSandbox) {\n      var cachedValue = Cell('');\n      return {\n        getValue: function (_frameComponent) {\n          return cachedValue.get();\n        },\n        setValue: function (frameComponent, html) {\n          if (!isSandbox) {\n            set$8(frameComponent.element, 'src', 'javascript:\\'\\'');\n            var doc = frameComponent.element.dom.contentWindow.document;\n            doc.open();\n            doc.write(html);\n            doc.close();\n          } else {\n            set$8(frameComponent.element, 'srcdoc', html);\n          }\n          cachedValue.set(html);\n        }\n      };\n    };\n    var renderIFrame = function (spec, providersBackstage) {\n      var isSandbox = platformNeedsSandboxing && spec.sandboxed;\n      var attributes = __assign(__assign({}, spec.label.map(function (title) {\n        return { title: title };\n      }).getOr({})), isSandbox ? { sandbox: 'allow-scripts allow-same-origin' } : {});\n      var sourcing = getDynamicSource(isSandbox);\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var factory = function (newSpec) {\n        return craft({\n          uid: newSpec.uid,\n          dom: {\n            tag: 'iframe',\n            attributes: attributes\n          },\n          behaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({}),\n            RepresentingConfigs.withComp(Optional.none(), sourcing.getValue, sourcing.setValue)\n          ])\n        });\n      };\n      var pField = FormField.parts.field({ factory: { sketch: factory } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    var create$3 = function (width, height) {\n      return resize$3(document.createElement('canvas'), width, height);\n    };\n    var clone = function (canvas) {\n      var tCanvas = create$3(canvas.width, canvas.height);\n      var ctx = get2dContext(tCanvas);\n      ctx.drawImage(canvas, 0, 0);\n      return tCanvas;\n    };\n    var get2dContext = function (canvas) {\n      return canvas.getContext('2d');\n    };\n    var resize$3 = function (canvas, width, height) {\n      canvas.width = width;\n      canvas.height = height;\n      return canvas;\n    };\n\n    var getWidth$1 = function (image) {\n      return image.naturalWidth || image.width;\n    };\n    var getHeight$1 = function (image) {\n      return image.naturalHeight || image.height;\n    };\n\n    var blobToImage = function (blob) {\n      return new Promise$1(function (resolve, reject) {\n        var blobUrl = URL.createObjectURL(blob);\n        var image = new Image();\n        var removeListeners = function () {\n          image.removeEventListener('load', loaded);\n          image.removeEventListener('error', error);\n        };\n        var loaded = function () {\n          removeListeners();\n          resolve(image);\n        };\n        var error = function () {\n          removeListeners();\n          reject('Unable to load data of type ' + blob.type + ': ' + blobUrl);\n        };\n        image.addEventListener('load', loaded);\n        image.addEventListener('error', error);\n        image.src = blobUrl;\n        if (image.complete) {\n          setTimeout(loaded, 0);\n        }\n      });\n    };\n    var dataUriToBlobSync = function (uri) {\n      var data = uri.split(',');\n      var matches = /data:([^;]+)/.exec(data[0]);\n      if (!matches) {\n        return Optional.none();\n      }\n      var mimetype = matches[1];\n      var base64 = data[1];\n      var sliceSize = 1024;\n      var byteCharacters = atob(base64);\n      var bytesLength = byteCharacters.length;\n      var slicesCount = Math.ceil(bytesLength / sliceSize);\n      var byteArrays = new Array(slicesCount);\n      for (var sliceIndex = 0; sliceIndex < slicesCount; ++sliceIndex) {\n        var begin = sliceIndex * sliceSize;\n        var end = Math.min(begin + sliceSize, bytesLength);\n        var bytes = new Array(end - begin);\n        for (var offset = begin, i = 0; offset < end; ++i, ++offset) {\n          bytes[i] = byteCharacters[offset].charCodeAt(0);\n        }\n        byteArrays[sliceIndex] = new Uint8Array(bytes);\n      }\n      return Optional.some(new Blob(byteArrays, { type: mimetype }));\n    };\n    var dataUriToBlob = function (uri) {\n      return new Promise$1(function (resolve, reject) {\n        dataUriToBlobSync(uri).fold(function () {\n          reject('uri is not base64: ' + uri);\n        }, resolve);\n      });\n    };\n    var canvasToBlob = function (canvas, type, quality) {\n      type = type || 'image/png';\n      if (isFunction(HTMLCanvasElement.prototype.toBlob)) {\n        return new Promise$1(function (resolve, reject) {\n          canvas.toBlob(function (blob) {\n            if (blob) {\n              resolve(blob);\n            } else {\n              reject();\n            }\n          }, type, quality);\n        });\n      } else {\n        return dataUriToBlob(canvas.toDataURL(type, quality));\n      }\n    };\n    var canvasToDataURL = function (canvas, type, quality) {\n      type = type || 'image/png';\n      return canvas.toDataURL(type, quality);\n    };\n    var blobToCanvas = function (blob) {\n      return blobToImage(blob).then(function (image) {\n        revokeImageUrl(image);\n        var canvas = create$3(getWidth$1(image), getHeight$1(image));\n        var context = get2dContext(canvas);\n        context.drawImage(image, 0, 0);\n        return canvas;\n      });\n    };\n    var blobToDataUri = function (blob) {\n      return new Promise$1(function (resolve) {\n        var reader = new FileReader();\n        reader.onloadend = function () {\n          resolve(reader.result);\n        };\n        reader.readAsDataURL(blob);\n      });\n    };\n    var revokeImageUrl = function (image) {\n      URL.revokeObjectURL(image.src);\n    };\n\n    var create$2 = function (getCanvas, blob, uri) {\n      var initialType = blob.type;\n      var getType = constant$1(initialType);\n      var toBlob = function () {\n        return Promise$1.resolve(blob);\n      };\n      var toDataURL = constant$1(uri);\n      var toBase64 = function () {\n        return uri.split(',')[1];\n      };\n      var toAdjustedBlob = function (type, quality) {\n        return getCanvas.then(function (canvas) {\n          return canvasToBlob(canvas, type, quality);\n        });\n      };\n      var toAdjustedDataURL = function (type, quality) {\n        return getCanvas.then(function (canvas) {\n          return canvasToDataURL(canvas, type, quality);\n        });\n      };\n      var toAdjustedBase64 = function (type, quality) {\n        return toAdjustedDataURL(type, quality).then(function (dataurl) {\n          return dataurl.split(',')[1];\n        });\n      };\n      var toCanvas = function () {\n        return getCanvas.then(clone);\n      };\n      return {\n        getType: getType,\n        toBlob: toBlob,\n        toDataURL: toDataURL,\n        toBase64: toBase64,\n        toAdjustedBlob: toAdjustedBlob,\n        toAdjustedDataURL: toAdjustedDataURL,\n        toAdjustedBase64: toAdjustedBase64,\n        toCanvas: toCanvas\n      };\n    };\n    var fromBlob = function (blob) {\n      return blobToDataUri(blob).then(function (uri) {\n        return create$2(blobToCanvas(blob), blob, uri);\n      });\n    };\n    var fromCanvas = function (canvas, type) {\n      return canvasToBlob(canvas, type).then(function (blob) {\n        return create$2(Promise$1.resolve(canvas), blob, canvas.toDataURL());\n      });\n    };\n\n    var blobToImageResult = function (blob) {\n      return fromBlob(blob);\n    };\n\n    var clamp = function (value, min, max) {\n      var parsedValue = typeof value === 'string' ? parseFloat(value) : value;\n      if (parsedValue > max) {\n        parsedValue = max;\n      } else if (parsedValue < min) {\n        parsedValue = min;\n      }\n      return parsedValue;\n    };\n    var identity = function () {\n      return [\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ];\n    };\n    var DELTA_INDEX = [\n      0,\n      0.01,\n      0.02,\n      0.04,\n      0.05,\n      0.06,\n      0.07,\n      0.08,\n      0.1,\n      0.11,\n      0.12,\n      0.14,\n      0.15,\n      0.16,\n      0.17,\n      0.18,\n      0.2,\n      0.21,\n      0.22,\n      0.24,\n      0.25,\n      0.27,\n      0.28,\n      0.3,\n      0.32,\n      0.34,\n      0.36,\n      0.38,\n      0.4,\n      0.42,\n      0.44,\n      0.46,\n      0.48,\n      0.5,\n      0.53,\n      0.56,\n      0.59,\n      0.62,\n      0.65,\n      0.68,\n      0.71,\n      0.74,\n      0.77,\n      0.8,\n      0.83,\n      0.86,\n      0.89,\n      0.92,\n      0.95,\n      0.98,\n      1,\n      1.06,\n      1.12,\n      1.18,\n      1.24,\n      1.3,\n      1.36,\n      1.42,\n      1.48,\n      1.54,\n      1.6,\n      1.66,\n      1.72,\n      1.78,\n      1.84,\n      1.9,\n      1.96,\n      2,\n      2.12,\n      2.25,\n      2.37,\n      2.5,\n      2.62,\n      2.75,\n      2.87,\n      3,\n      3.2,\n      3.4,\n      3.6,\n      3.8,\n      4,\n      4.3,\n      4.7,\n      4.9,\n      5,\n      5.5,\n      6,\n      6.5,\n      6.8,\n      7,\n      7.3,\n      7.5,\n      7.8,\n      8,\n      8.4,\n      8.7,\n      9,\n      9.4,\n      9.6,\n      9.8,\n      10\n    ];\n    var multiply = function (matrix1, matrix2) {\n      var col = [];\n      var out = new Array(25);\n      var val;\n      for (var i = 0; i < 5; i++) {\n        for (var j = 0; j < 5; j++) {\n          col[j] = matrix2[j + i * 5];\n        }\n        for (var j = 0; j < 5; j++) {\n          val = 0;\n          for (var k = 0; k < 5; k++) {\n            val += matrix1[j + k * 5] * col[k];\n          }\n          out[j + i * 5] = val;\n        }\n      }\n      return out;\n    };\n    var adjustContrast = function (matrix, value) {\n      var x;\n      value = clamp(value, -1, 1);\n      value *= 100;\n      if (value < 0) {\n        x = 127 + value / 100 * 127;\n      } else {\n        x = value % 1;\n        if (x === 0) {\n          x = DELTA_INDEX[value];\n        } else {\n          x = DELTA_INDEX[Math.floor(value)] * (1 - x) + DELTA_INDEX[Math.floor(value) + 1] * x;\n        }\n        x = x * 127 + 127;\n      }\n      return multiply(matrix, [\n        x / 127,\n        0,\n        0,\n        0,\n        0.5 * (127 - x),\n        0,\n        x / 127,\n        0,\n        0,\n        0.5 * (127 - x),\n        0,\n        0,\n        x / 127,\n        0,\n        0.5 * (127 - x),\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n    };\n    var adjustBrightness = function (matrix, value) {\n      value = clamp(255 * value, -255, 255);\n      return multiply(matrix, [\n        1,\n        0,\n        0,\n        0,\n        value,\n        0,\n        1,\n        0,\n        0,\n        value,\n        0,\n        0,\n        1,\n        0,\n        value,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n    };\n    var adjustColors = function (matrix, adjustR, adjustG, adjustB) {\n      adjustR = clamp(adjustR, 0, 2);\n      adjustG = clamp(adjustG, 0, 2);\n      adjustB = clamp(adjustB, 0, 2);\n      return multiply(matrix, [\n        adjustR,\n        0,\n        0,\n        0,\n        0,\n        0,\n        adjustG,\n        0,\n        0,\n        0,\n        0,\n        0,\n        adjustB,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n    };\n\n    var colorFilter = function (ir, matrix) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyColorFilter(canvas, ir.getType(), matrix);\n      });\n    };\n    var applyColorFilter = function (canvas, type, matrix) {\n      var context = get2dContext(canvas);\n      var applyMatrix = function (pixelsData, m) {\n        var r, g, b, a;\n        var data = pixelsData.data, m0 = m[0], m1 = m[1], m2 = m[2], m3 = m[3], m4 = m[4], m5 = m[5], m6 = m[6], m7 = m[7], m8 = m[8], m9 = m[9], m10 = m[10], m11 = m[11], m12 = m[12], m13 = m[13], m14 = m[14], m15 = m[15], m16 = m[16], m17 = m[17], m18 = m[18], m19 = m[19];\n        for (var i = 0; i < data.length; i += 4) {\n          r = data[i];\n          g = data[i + 1];\n          b = data[i + 2];\n          a = data[i + 3];\n          data[i] = r * m0 + g * m1 + b * m2 + a * m3 + m4;\n          data[i + 1] = r * m5 + g * m6 + b * m7 + a * m8 + m9;\n          data[i + 2] = r * m10 + g * m11 + b * m12 + a * m13 + m14;\n          data[i + 3] = r * m15 + g * m16 + b * m17 + a * m18 + m19;\n        }\n        return pixelsData;\n      };\n      var pixels = applyMatrix(context.getImageData(0, 0, canvas.width, canvas.height), matrix);\n      context.putImageData(pixels, 0, 0);\n      return fromCanvas(canvas, type);\n    };\n    var convoluteFilter = function (ir, matrix) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyConvoluteFilter(canvas, ir.getType(), matrix);\n      });\n    };\n    var applyConvoluteFilter = function (canvas, type, matrix) {\n      var context = get2dContext(canvas);\n      var applyMatrix = function (pIn, pOut, aMatrix) {\n        var clamp = function (value, min, max) {\n          if (value > max) {\n            value = max;\n          } else if (value < min) {\n            value = min;\n          }\n          return value;\n        };\n        var side = Math.round(Math.sqrt(aMatrix.length));\n        var halfSide = Math.floor(side / 2);\n        var rgba = pIn.data;\n        var drgba = pOut.data;\n        var w = pIn.width;\n        var h = pIn.height;\n        for (var y = 0; y < h; y++) {\n          for (var x = 0; x < w; x++) {\n            var r = 0;\n            var g = 0;\n            var b = 0;\n            for (var cy = 0; cy < side; cy++) {\n              for (var cx = 0; cx < side; cx++) {\n                var scx = clamp(x + cx - halfSide, 0, w - 1);\n                var scy = clamp(y + cy - halfSide, 0, h - 1);\n                var innerOffset = (scy * w + scx) * 4;\n                var wt = aMatrix[cy * side + cx];\n                r += rgba[innerOffset] * wt;\n                g += rgba[innerOffset + 1] * wt;\n                b += rgba[innerOffset + 2] * wt;\n              }\n            }\n            var offset = (y * w + x) * 4;\n            drgba[offset] = clamp(r, 0, 255);\n            drgba[offset + 1] = clamp(g, 0, 255);\n            drgba[offset + 2] = clamp(b, 0, 255);\n          }\n        }\n        return pOut;\n      };\n      var pixelsIn = context.getImageData(0, 0, canvas.width, canvas.height);\n      var pixelsOut = context.getImageData(0, 0, canvas.width, canvas.height);\n      pixelsOut = applyMatrix(pixelsIn, pixelsOut, matrix);\n      context.putImageData(pixelsOut, 0, 0);\n      return fromCanvas(canvas, type);\n    };\n    var functionColorFilter = function (colorFn) {\n      var filterImpl = function (canvas, type, value) {\n        var context = get2dContext(canvas);\n        var lookup = new Array(256);\n        var applyLookup = function (pixelsData, lookupData) {\n          var data = pixelsData.data;\n          for (var i = 0; i < data.length; i += 4) {\n            data[i] = lookupData[data[i]];\n            data[i + 1] = lookupData[data[i + 1]];\n            data[i + 2] = lookupData[data[i + 2]];\n          }\n          return pixelsData;\n        };\n        for (var i = 0; i < lookup.length; i++) {\n          lookup[i] = colorFn(i, value);\n        }\n        var pixels = applyLookup(context.getImageData(0, 0, canvas.width, canvas.height), lookup);\n        context.putImageData(pixels, 0, 0);\n        return fromCanvas(canvas, type);\n      };\n      return function (ir, value) {\n        return ir.toCanvas().then(function (canvas) {\n          return filterImpl(canvas, ir.getType(), value);\n        });\n      };\n    };\n    var complexAdjustableColorFilter = function (matrixAdjustFn) {\n      return function (ir, adjust) {\n        return colorFilter(ir, matrixAdjustFn(identity(), adjust));\n      };\n    };\n    var basicColorFilter = function (matrix) {\n      return function (ir) {\n        return colorFilter(ir, matrix);\n      };\n    };\n    var basicConvolutionFilter = function (kernel) {\n      return function (ir) {\n        return convoluteFilter(ir, kernel);\n      };\n    };\n    var invert$1 = basicColorFilter([\n      -1,\n      0,\n      0,\n      0,\n      255,\n      0,\n      -1,\n      0,\n      0,\n      255,\n      0,\n      0,\n      -1,\n      0,\n      255,\n      0,\n      0,\n      0,\n      1,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1\n    ]);\n    var brightness$1 = complexAdjustableColorFilter(adjustBrightness);\n    var contrast$1 = complexAdjustableColorFilter(adjustContrast);\n    var colorize$1 = function (ir, adjustR, adjustG, adjustB) {\n      return colorFilter(ir, adjustColors(identity(), adjustR, adjustG, adjustB));\n    };\n    var sharpen$1 = basicConvolutionFilter([\n      0,\n      -1,\n      0,\n      -1,\n      5,\n      -1,\n      0,\n      -1,\n      0\n    ]);\n    var gamma$1 = functionColorFilter(function (color, value) {\n      return Math.pow(color / 255, 1 - value) * 255;\n    });\n\n    var scale = function (image, dW, dH) {\n      var sW = getWidth$1(image);\n      var sH = getHeight$1(image);\n      var wRatio = dW / sW;\n      var hRatio = dH / sH;\n      var scaleCapped = false;\n      if (wRatio < 0.5 || wRatio > 2) {\n        wRatio = wRatio < 0.5 ? 0.5 : 2;\n        scaleCapped = true;\n      }\n      if (hRatio < 0.5 || hRatio > 2) {\n        hRatio = hRatio < 0.5 ? 0.5 : 2;\n        scaleCapped = true;\n      }\n      var scaled = _scale(image, wRatio, hRatio);\n      return !scaleCapped ? scaled : scaled.then(function (tCanvas) {\n        return scale(tCanvas, dW, dH);\n      });\n    };\n    var _scale = function (image, wRatio, hRatio) {\n      return new Promise$1(function (resolve) {\n        var sW = getWidth$1(image);\n        var sH = getHeight$1(image);\n        var dW = Math.floor(sW * wRatio);\n        var dH = Math.floor(sH * hRatio);\n        var canvas = create$3(dW, dH);\n        var context = get2dContext(canvas);\n        context.drawImage(image, 0, 0, sW, sH, 0, 0, dW, dH);\n        resolve(canvas);\n      });\n    };\n\n    var ceilWithPrecision = function (num, precision) {\n      if (precision === void 0) {\n        precision = 2;\n      }\n      var mul = Math.pow(10, precision);\n      var upper = Math.round(num * mul);\n      return Math.ceil(upper / mul);\n    };\n    var rotate$1 = function (ir, angle) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyRotate(canvas, ir.getType(), angle);\n      });\n    };\n    var applyRotate = function (image, type, angle) {\n      var degrees = angle < 0 ? 360 + angle : angle;\n      var rad = degrees * Math.PI / 180;\n      var width = image.width;\n      var height = image.height;\n      var sin = Math.sin(rad);\n      var cos = Math.cos(rad);\n      var newWidth = ceilWithPrecision(Math.abs(width * cos) + Math.abs(height * sin));\n      var newHeight = ceilWithPrecision(Math.abs(width * sin) + Math.abs(height * cos));\n      var canvas = create$3(newWidth, newHeight);\n      var context = get2dContext(canvas);\n      context.translate(newWidth / 2, newHeight / 2);\n      context.rotate(rad);\n      context.drawImage(image, -width / 2, -height / 2);\n      return fromCanvas(canvas, type);\n    };\n    var flip$1 = function (ir, axis) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyFlip(canvas, ir.getType(), axis);\n      });\n    };\n    var applyFlip = function (image, type, axis) {\n      var canvas = create$3(image.width, image.height);\n      var context = get2dContext(canvas);\n      if (axis === 'v') {\n        context.scale(1, -1);\n        context.drawImage(image, 0, -canvas.height);\n      } else {\n        context.scale(-1, 1);\n        context.drawImage(image, -canvas.width, 0);\n      }\n      return fromCanvas(canvas, type);\n    };\n    var crop$1 = function (ir, x, y, w, h) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyCrop(canvas, ir.getType(), x, y, w, h);\n      });\n    };\n    var applyCrop = function (image, type, x, y, w, h) {\n      var canvas = create$3(w, h);\n      var context = get2dContext(canvas);\n      context.drawImage(image, -x, -y);\n      return fromCanvas(canvas, type);\n    };\n    var resize$2 = function (ir, w, h) {\n      return ir.toCanvas().then(function (canvas) {\n        return scale(canvas, w, h).then(function (newCanvas) {\n          return fromCanvas(newCanvas, ir.getType());\n        });\n      });\n    };\n\n    var invert = function (ir) {\n      return invert$1(ir);\n    };\n    var sharpen = function (ir) {\n      return sharpen$1(ir);\n    };\n    var gamma = function (ir, value) {\n      return gamma$1(ir, value);\n    };\n    var colorize = function (ir, adjustR, adjustG, adjustB) {\n      return colorize$1(ir, adjustR, adjustG, adjustB);\n    };\n    var brightness = function (ir, adjust) {\n      return brightness$1(ir, adjust);\n    };\n    var contrast = function (ir, adjust) {\n      return contrast$1(ir, adjust);\n    };\n    var flip = function (ir, axis) {\n      return flip$1(ir, axis);\n    };\n    var crop = function (ir, x, y, w, h) {\n      return crop$1(ir, x, y, w, h);\n    };\n    var resize$1 = function (ir, w, h) {\n      return resize$2(ir, w, h);\n    };\n    var rotate = function (ir, angle) {\n      return rotate$1(ir, angle);\n    };\n\n    var renderIcon = function (iconName, iconsProvider, behaviours) {\n      return render$3(iconName, {\n        tag: 'span',\n        classes: [\n          'tox-icon',\n          'tox-tbtn__icon-wrap'\n        ],\n        behaviours: behaviours\n      }, iconsProvider);\n    };\n    var renderIconFromPack = function (iconName, iconsProvider) {\n      return renderIcon(iconName, iconsProvider, []);\n    };\n    var renderReplacableIconFromPack = function (iconName, iconsProvider) {\n      return renderIcon(iconName, iconsProvider, [Replacing.config({})]);\n    };\n    var renderLabel$1 = function (text, prefix, providersBackstage) {\n      return {\n        dom: {\n          tag: 'span',\n          innerHtml: providersBackstage.translate(text),\n          classes: [prefix + '__select-label']\n        },\n        behaviours: derive$1([Replacing.config({})])\n      };\n    };\n\n    var _a;\n    var internalToolbarButtonExecute = generate$6('toolbar.button.execute');\n    var onToolbarButtonExecute = function (info) {\n      return runOnExecute$1(function (comp, _simulatedEvent) {\n        runWithApi(info, comp)(function (itemApi) {\n          emitWith(comp, internalToolbarButtonExecute, { buttonApi: itemApi });\n          info.onAction(itemApi);\n        });\n      });\n    };\n    var toolbarButtonEventOrder = (_a = {}, _a[execute$5()] = [\n      'disabling',\n      'alloy.base.behaviour',\n      'toggling',\n      'toolbar-button-events'\n    ], _a);\n\n    var updateMenuText = generate$6('update-menu-text');\n    var updateMenuIcon = generate$6('update-menu-icon');\n    var renderCommonDropdown = function (spec, prefix, sharedBackstage) {\n      var editorOffCell = Cell(noop);\n      var optMemDisplayText = spec.text.map(function (text) {\n        return record(renderLabel$1(text, prefix, sharedBackstage.providers));\n      });\n      var optMemDisplayIcon = spec.icon.map(function (iconName) {\n        return record(renderReplacableIconFromPack(iconName, sharedBackstage.providers.icons));\n      });\n      var onLeftOrRightInMenu = function (comp, se) {\n        var dropdown = Representing.getValue(comp);\n        Focusing.focus(dropdown);\n        emitWith(dropdown, 'keydown', { raw: se.event.raw });\n        Dropdown.close(dropdown);\n        return Optional.some(true);\n      };\n      var role = spec.role.fold(function () {\n        return {};\n      }, function (role) {\n        return { role: role };\n      });\n      var tooltipAttributes = spec.tooltip.fold(function () {\n        return {};\n      }, function (tooltip) {\n        var translatedTooltip = sharedBackstage.providers.translate(tooltip);\n        return {\n          'title': translatedTooltip,\n          'aria-label': translatedTooltip\n        };\n      });\n      var iconSpec = render$3('chevron-down', {\n        tag: 'div',\n        classes: [prefix + '__select-chevron']\n      }, sharedBackstage.providers.icons);\n      var memDropdown = record(Dropdown.sketch(__assign(__assign(__assign({}, spec.uid ? { uid: spec.uid } : {}), role), {\n        dom: {\n          tag: 'button',\n          classes: [\n            prefix,\n            prefix + '--select'\n          ].concat(map$2(spec.classes, function (c) {\n            return prefix + '--' + c;\n          })),\n          attributes: __assign({}, tooltipAttributes)\n        },\n        components: componentRenderPipeline([\n          optMemDisplayIcon.map(function (mem) {\n            return mem.asSpec();\n          }),\n          optMemDisplayText.map(function (mem) {\n            return mem.asSpec();\n          }),\n          Optional.some(iconSpec)\n        ]),\n        matchWidth: true,\n        useMinWidth: true,\n        dropdownBehaviours: derive$1(__spreadArray(__spreadArray([], spec.dropdownBehaviours, true), [\n          DisablingConfigs.button(function () {\n            return spec.disabled || sharedBackstage.providers.isDisabled();\n          }),\n          receivingConfig(),\n          Unselecting.config({}),\n          Replacing.config({}),\n          config('dropdown-events', [\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          config('menubutton-update-display-text', [\n            run$1(updateMenuText, function (comp, se) {\n              optMemDisplayText.bind(function (mem) {\n                return mem.getOpt(comp);\n              }).each(function (displayText) {\n                Replacing.set(displayText, [text(sharedBackstage.providers.translate(se.event.text))]);\n              });\n            }),\n            run$1(updateMenuIcon, function (comp, se) {\n              optMemDisplayIcon.bind(function (mem) {\n                return mem.getOpt(comp);\n              }).each(function (displayIcon) {\n                Replacing.set(displayIcon, [renderReplacableIconFromPack(se.event.icon, sharedBackstage.providers.icons)]);\n              });\n            })\n          ])\n        ], false)),\n        eventOrder: deepMerge(toolbarButtonEventOrder, {\n          mousedown: [\n            'focusing',\n            'alloy.base.behaviour',\n            'item-type-events',\n            'normal-dropdown-events'\n          ]\n        }),\n        sandboxBehaviours: derive$1([Keying.config({\n            mode: 'special',\n            onLeft: onLeftOrRightInMenu,\n            onRight: onLeftOrRightInMenu\n          })]),\n        lazySink: sharedBackstage.getSink,\n        toggleClass: prefix + '--active',\n        parts: { menu: part(false, spec.columns, spec.presets) },\n        fetch: function (comp) {\n          return Future.nu(curry(spec.fetch, comp));\n        }\n      })));\n      return memDropdown.asSpec();\n    };\n\n    var isMenuItemReference = function (item) {\n      return isString(item);\n    };\n    var isSeparator$1 = function (item) {\n      return item.type === 'separator';\n    };\n    var isExpandingMenuItem = function (item) {\n      return has$2(item, 'getSubmenuItems');\n    };\n    var separator$2 = { type: 'separator' };\n    var unwrapReferences = function (items, menuItems) {\n      var realItems = foldl(items, function (acc, item) {\n        if (isMenuItemReference(item)) {\n          if (item === '') {\n            return acc;\n          } else if (item === '|') {\n            return acc.length > 0 && !isSeparator$1(acc[acc.length - 1]) ? acc.concat([separator$2]) : acc;\n          } else if (has$2(menuItems, item.toLowerCase())) {\n            return acc.concat([menuItems[item.toLowerCase()]]);\n          } else {\n            return acc;\n          }\n        } else {\n          return acc.concat([item]);\n        }\n      }, []);\n      if (realItems.length > 0 && isSeparator$1(realItems[realItems.length - 1])) {\n        realItems.pop();\n      }\n      return realItems;\n    };\n    var getFromExpandingItem = function (item, menuItems) {\n      var submenuItems = item.getSubmenuItems();\n      var rest = expand(submenuItems, menuItems);\n      var newMenus = deepMerge(rest.menus, wrap$1(item.value, rest.items));\n      var newExpansions = deepMerge(rest.expansions, wrap$1(item.value, item.value));\n      return {\n        item: item,\n        menus: newMenus,\n        expansions: newExpansions\n      };\n    };\n    var getFromItem = function (item, menuItems) {\n      return isExpandingMenuItem(item) ? getFromExpandingItem(item, menuItems) : {\n        item: item,\n        menus: {},\n        expansions: {}\n      };\n    };\n    var generateValueIfRequired = function (item) {\n      if (isSeparator$1(item)) {\n        return item;\n      } else {\n        var itemValue = get$e(item, 'value').getOrThunk(function () {\n          return generate$6('generated-menu-item');\n        });\n        return deepMerge({ value: itemValue }, item);\n      }\n    };\n    var expand = function (items, menuItems) {\n      var realItems = unwrapReferences(isString(items) ? items.split(' ') : items, menuItems);\n      return foldr(realItems, function (acc, item) {\n        var itemWithValue = generateValueIfRequired(item);\n        var newData = getFromItem(itemWithValue, menuItems);\n        return {\n          menus: deepMerge(acc.menus, newData.menus),\n          items: [newData.item].concat(acc.items),\n          expansions: deepMerge(acc.expansions, newData.expansions)\n        };\n      }, {\n        menus: {},\n        expansions: {},\n        items: []\n      });\n    };\n\n    var build = function (items, itemResponse, backstage, isHorizontalMenu) {\n      var primary = generate$6('primary-menu');\n      var data = expand(items, backstage.shared.providers.menuItems());\n      if (data.items.length === 0) {\n        return Optional.none();\n      }\n      var mainMenu = createPartialMenu(primary, data.items, itemResponse, backstage, isHorizontalMenu);\n      var submenus = map$1(data.menus, function (menuItems, menuName) {\n        return createPartialMenu(menuName, menuItems, itemResponse, backstage, false);\n      });\n      var menus = deepMerge(submenus, wrap$1(primary, mainMenu));\n      return Optional.from(tieredMenu.tieredData(primary, menus, data.expansions));\n    };\n\n    var getMenuButtonApi = function (component) {\n      return {\n        isDisabled: function () {\n          return Disabling.isDisabled(component);\n        },\n        setDisabled: function (state) {\n          return Disabling.set(component, state);\n        },\n        setActive: function (state) {\n          var elm = component.element;\n          if (state) {\n            add$2(elm, 'tox-tbtn--enabled');\n            set$8(elm, 'aria-pressed', true);\n          } else {\n            remove$2(elm, 'tox-tbtn--enabled');\n            remove$7(elm, 'aria-pressed');\n          }\n        },\n        isActive: function () {\n          return has(component.element, 'tox-tbtn--enabled');\n        }\n      };\n    };\n    var renderMenuButton = function (spec, prefix, backstage, role) {\n      return renderCommonDropdown({\n        text: spec.text,\n        icon: spec.icon,\n        tooltip: spec.tooltip,\n        role: role,\n        fetch: function (_comp, callback) {\n          spec.fetch(function (items) {\n            callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false));\n          });\n        },\n        onSetup: spec.onSetup,\n        getApi: getMenuButtonApi,\n        columns: 1,\n        presets: 'normal',\n        classes: [],\n        dropdownBehaviours: [Tabstopping.config({})]\n      }, prefix, backstage.shared);\n    };\n    var getFetch = function (items, getButton, backstage) {\n      var getMenuItemAction = function (item) {\n        return function (api) {\n          var newValue = !api.isActive();\n          api.setActive(newValue);\n          item.storage.set(newValue);\n          backstage.shared.getSink().each(function (sink) {\n            getButton().getOpt(sink).each(function (orig) {\n              focus$3(orig.element);\n              emitWith(orig, formActionEvent, {\n                name: item.name,\n                value: item.storage.get()\n              });\n            });\n          });\n        };\n      };\n      var getMenuItemSetup = function (item) {\n        return function (api) {\n          api.setActive(item.storage.get());\n        };\n      };\n      return function (success) {\n        success(map$2(items, function (item) {\n          var text = item.text.fold(function () {\n            return {};\n          }, function (text) {\n            return { text: text };\n          });\n          return __assign(__assign({\n            type: item.type,\n            active: false\n          }, text), {\n            onAction: getMenuItemAction(item),\n            onSetup: getMenuItemSetup(item)\n          });\n        }));\n      };\n    };\n\n    var renderCommonSpec = function (spec, actionOpt, extraBehaviours, dom, components, providersBackstage) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      var action = actionOpt.fold(function () {\n        return {};\n      }, function (action) {\n        return { action: action };\n      });\n      var common = __assign({\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(function () {\n            return spec.disabled || providersBackstage.isDisabled();\n          }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          config('button press', [\n            preventDefault('click'),\n            preventDefault('mousedown')\n          ])\n        ].concat(extraBehaviours)),\n        eventOrder: {\n          click: [\n            'button press',\n            'alloy.base.behaviour'\n          ],\n          mousedown: [\n            'button press',\n            'alloy.base.behaviour'\n          ]\n        }\n      }, action);\n      var domFinal = deepMerge(common, { dom: dom });\n      return deepMerge(domFinal, { components: components });\n    };\n    var renderIconButtonSpec = function (spec, action, providersBackstage, extraBehaviours) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      var tooltipAttributes = spec.tooltip.map(function (tooltip) {\n        return {\n          'aria-label': providersBackstage.translate(tooltip),\n          'title': providersBackstage.translate(tooltip)\n        };\n      }).getOr({});\n      var dom = {\n        tag: 'button',\n        classes: ['tox-tbtn'],\n        attributes: tooltipAttributes\n      };\n      var icon = spec.icon.map(function (iconName) {\n        return renderIconFromPack(iconName, providersBackstage.icons);\n      });\n      var components = componentRenderPipeline([icon]);\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, providersBackstage);\n    };\n    var renderIconButton = function (spec, action, providersBackstage, extraBehaviours) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      var iconButtonSpec = renderIconButtonSpec(spec, Optional.some(action), providersBackstage, extraBehaviours);\n      return Button.sketch(iconButtonSpec);\n    };\n    var renderButtonSpec = function (spec, action, providersBackstage, extraBehaviours, extraClasses) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      if (extraClasses === void 0) {\n        extraClasses = [];\n      }\n      var translatedText = providersBackstage.translate(spec.text);\n      var icon = spec.icon ? spec.icon.map(function (iconName) {\n        return renderIconFromPack(iconName, providersBackstage.icons);\n      }) : Optional.none();\n      var components = icon.isSome() ? componentRenderPipeline([icon]) : [];\n      var innerHtml = icon.isSome() ? {} : { innerHtml: translatedText };\n      var classes = __spreadArray(__spreadArray(__spreadArray(__spreadArray([], !spec.primary && !spec.borderless ? [\n        'tox-button',\n        'tox-button--secondary'\n      ] : ['tox-button'], true), icon.isSome() ? ['tox-button--icon'] : [], true), spec.borderless ? ['tox-button--naked'] : [], true), extraClasses, true);\n      var dom = __assign(__assign({\n        tag: 'button',\n        classes: classes\n      }, innerHtml), { attributes: { title: translatedText } });\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, providersBackstage);\n    };\n    var renderButton = function (spec, action, providersBackstage, extraBehaviours, extraClasses) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      if (extraClasses === void 0) {\n        extraClasses = [];\n      }\n      var buttonSpec = renderButtonSpec(spec, Optional.some(action), providersBackstage, extraBehaviours, extraClasses);\n      return Button.sketch(buttonSpec);\n    };\n    var getAction = function (name, buttonType) {\n      return function (comp) {\n        if (buttonType === 'custom') {\n          emitWith(comp, formActionEvent, {\n            name: name,\n            value: {}\n          });\n        } else if (buttonType === 'submit') {\n          emit(comp, formSubmitEvent);\n        } else if (buttonType === 'cancel') {\n          emit(comp, formCancelEvent);\n        } else {\n          console.error('Unknown button type: ', buttonType);\n        }\n      };\n    };\n    var isMenuFooterButtonSpec = function (spec, buttonType) {\n      return buttonType === 'menu';\n    };\n    var isNormalFooterButtonSpec = function (spec, buttonType) {\n      return buttonType === 'custom' || buttonType === 'cancel' || buttonType === 'submit';\n    };\n    var renderFooterButton = function (spec, buttonType, backstage) {\n      if (isMenuFooterButtonSpec(spec, buttonType)) {\n        var getButton = function () {\n          return memButton_1;\n        };\n        var menuButtonSpec = spec;\n        var fixedSpec = __assign(__assign({}, spec), {\n          onSetup: function (api) {\n            api.setDisabled(spec.disabled);\n            return noop;\n          },\n          fetch: getFetch(menuButtonSpec.items, getButton, backstage)\n        });\n        var memButton_1 = record(renderMenuButton(fixedSpec, 'tox-tbtn', backstage, Optional.none()));\n        return memButton_1.asSpec();\n      } else if (isNormalFooterButtonSpec(spec, buttonType)) {\n        var action = getAction(spec.name, buttonType);\n        var buttonSpec = __assign(__assign({}, spec), { borderless: false });\n        return renderButton(buttonSpec, action, backstage.shared.providers, []);\n      } else {\n        console.error('Unknown footer button type: ', buttonType);\n      }\n    };\n    var renderDialogButton = function (spec, providersBackstage) {\n      var action = getAction(spec.name, 'custom');\n      return renderFormField(Optional.none(), FormField.parts.field(__assign({ factory: Button }, renderButtonSpec(spec, Optional.some(action), providersBackstage, [\n        RepresentingConfigs.memory(''),\n        ComposingConfigs.self()\n      ]))));\n    };\n\n    var schema$h = constant$1([\n      defaulted('field1Name', 'field1'),\n      defaulted('field2Name', 'field2'),\n      onStrictHandler('onLockedChange'),\n      markers$1(['lockClass']),\n      defaulted('locked', false),\n      SketchBehaviours.field('coupledFieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    var getField = function (comp, detail, partName) {\n      return getPart(comp, detail, partName).bind(Composing.getCurrent);\n    };\n    var coupledPart = function (selfName, otherName) {\n      return required({\n        factory: FormField,\n        name: selfName,\n        overrides: function (detail) {\n          return {\n            fieldBehaviours: derive$1([config('coupled-input-behaviour', [run$1(input(), function (me) {\n                  getField(me, detail, otherName).each(function (other) {\n                    getPart(me, detail, 'lock').each(function (lock) {\n                      if (Toggling.isOn(lock)) {\n                        detail.onLockedChange(me, other, lock);\n                      }\n                    });\n                  });\n                })])])\n          };\n        }\n      });\n    };\n    var parts$c = constant$1([\n      coupledPart('field1', 'field2'),\n      coupledPart('field2', 'field1'),\n      required({\n        factory: Button,\n        schema: [required$1('dom')],\n        name: 'lock',\n        overrides: function (detail) {\n          return {\n            buttonBehaviours: derive$1([Toggling.config({\n                selected: detail.locked,\n                toggleClass: detail.markers.lockClass,\n                aria: { mode: 'pressed' }\n              })])\n          };\n        }\n      })\n    ]);\n\n    var factory$f = function (detail, components, _spec, _externals) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: SketchBehaviours.augment(detail.coupledFieldBehaviours, [\n          Composing.config({ find: Optional.some }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (comp) {\n                var _a;\n                var parts = getPartsOrDie(comp, detail, [\n                  'field1',\n                  'field2'\n                ]);\n                return _a = {}, _a[detail.field1Name] = Representing.getValue(parts.field1()), _a[detail.field2Name] = Representing.getValue(parts.field2()), _a;\n              },\n              setValue: function (comp, value) {\n                var parts = getPartsOrDie(comp, detail, [\n                  'field1',\n                  'field2'\n                ]);\n                if (hasNonNullableKey(value, detail.field1Name)) {\n                  Representing.setValue(parts.field1(), value[detail.field1Name]);\n                }\n                if (hasNonNullableKey(value, detail.field2Name)) {\n                  Representing.setValue(parts.field2(), value[detail.field2Name]);\n                }\n              }\n            }\n          })\n        ]),\n        apis: {\n          getField1: function (component) {\n            return getPart(component, detail, 'field1');\n          },\n          getField2: function (component) {\n            return getPart(component, detail, 'field2');\n          },\n          getLock: function (component) {\n            return getPart(component, detail, 'lock');\n          }\n        }\n      };\n    };\n    var FormCoupledInputs = composite({\n      name: 'FormCoupledInputs',\n      configFields: schema$h(),\n      partFields: parts$c(),\n      factory: factory$f,\n      apis: {\n        getField1: function (apis, component) {\n          return apis.getField1(component);\n        },\n        getField2: function (apis, component) {\n          return apis.getField2(component);\n        },\n        getLock: function (apis, component) {\n          return apis.getLock(component);\n        }\n      }\n    });\n\n    var formatSize = function (size) {\n      var unitDec = {\n        '': 0,\n        'px': 0,\n        'pt': 1,\n        'mm': 1,\n        'pc': 2,\n        'ex': 2,\n        'em': 2,\n        'ch': 2,\n        'rem': 2,\n        'cm': 3,\n        'in': 4,\n        '%': 4\n      };\n      var maxDecimal = function (unit) {\n        return unit in unitDec ? unitDec[unit] : 1;\n      };\n      var numText = size.value.toFixed(maxDecimal(size.unit));\n      if (numText.indexOf('.') !== -1) {\n        numText = numText.replace(/\\.?0*$/, '');\n      }\n      return numText + size.unit;\n    };\n    var parseSize = function (sizeText) {\n      var numPattern = /^\\s*(\\d+(?:\\.\\d+)?)\\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\\s*$/;\n      var match = numPattern.exec(sizeText);\n      if (match !== null) {\n        var value = parseFloat(match[1]);\n        var unit = match[2];\n        return Result.value({\n          value: value,\n          unit: unit\n        });\n      } else {\n        return Result.error(sizeText);\n      }\n    };\n    var convertUnit = function (size, unit) {\n      var inInch = {\n        '': 96,\n        'px': 96,\n        'pt': 72,\n        'cm': 2.54,\n        'pc': 12,\n        'mm': 25.4,\n        'in': 1\n      };\n      var supported = function (u) {\n        return has$2(inInch, u);\n      };\n      if (size.unit === unit) {\n        return Optional.some(size.value);\n      } else if (supported(size.unit) && supported(unit)) {\n        if (inInch[size.unit] === inInch[unit]) {\n          return Optional.some(size.value);\n        } else {\n          return Optional.some(size.value / inInch[size.unit] * inInch[unit]);\n        }\n      } else {\n        return Optional.none();\n      }\n    };\n    var noSizeConversion = function (_input) {\n      return Optional.none();\n    };\n    var ratioSizeConversion = function (scale, unit) {\n      return function (size) {\n        return convertUnit(size, unit).map(function (value) {\n          return {\n            value: value * scale,\n            unit: unit\n          };\n        });\n      };\n    };\n    var makeRatioConverter = function (currentFieldText, otherFieldText) {\n      var cValue = parseSize(currentFieldText).toOptional();\n      var oValue = parseSize(otherFieldText).toOptional();\n      return lift2(cValue, oValue, function (cSize, oSize) {\n        return convertUnit(cSize, oSize.unit).map(function (val) {\n          return oSize.value / val;\n        }).map(function (r) {\n          return ratioSizeConversion(r, oSize.unit);\n        }).getOr(noSizeConversion);\n      }).getOr(noSizeConversion);\n    };\n\n    var renderSizeInput = function (spec, providersBackstage) {\n      var converter = noSizeConversion;\n      var ratioEvent = generate$6('ratio-event');\n      var makeIcon = function (iconName) {\n        return render$3(iconName, {\n          tag: 'span',\n          classes: [\n            'tox-icon',\n            'tox-lock-icon__' + iconName\n          ]\n        }, providersBackstage.icons);\n      };\n      var pLock = FormCoupledInputs.parts.lock({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-lock',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ],\n          attributes: { title: providersBackstage.translate(spec.label.getOr('Constrain proportions')) }\n        },\n        components: [\n          makeIcon('lock'),\n          makeIcon('unlock')\n        ],\n        buttonBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            }\n          }),\n          receivingConfig(),\n          Tabstopping.config({})\n        ])\n      });\n      var formGroup = function (components) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group']\n          },\n          components: components\n        };\n      };\n      var getFieldPart = function (isField1) {\n        return FormField.parts.field({\n          factory: Input,\n          inputClasses: ['tox-textfield'],\n          inputBehaviours: derive$1([\n            Disabling.config({\n              disabled: function () {\n                return spec.disabled || providersBackstage.isDisabled();\n              }\n            }),\n            receivingConfig(),\n            Tabstopping.config({}),\n            config('size-input-events', [\n              run$1(focusin(), function (component, _simulatedEvent) {\n                emitWith(component, ratioEvent, { isField1: isField1 });\n              }),\n              run$1(change(), function (component, _simulatedEvent) {\n                emitWith(component, formChangeEvent, { name: spec.name });\n              })\n            ])\n          ]),\n          selectOnFocus: false\n        });\n      };\n      var getLabel = function (label) {\n        return {\n          dom: {\n            tag: 'label',\n            classes: ['tox-label'],\n            innerHtml: providersBackstage.translate(label)\n          }\n        };\n      };\n      var widthField = FormCoupledInputs.parts.field1(formGroup([\n        FormField.parts.label(getLabel('Width')),\n        getFieldPart(true)\n      ]));\n      var heightField = FormCoupledInputs.parts.field2(formGroup([\n        FormField.parts.label(getLabel('Height')),\n        getFieldPart(false)\n      ]));\n      return FormCoupledInputs.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-form__controls-h-stack']\n            },\n            components: [\n              widthField,\n              heightField,\n              formGroup([\n                getLabel('&nbsp;'),\n                pLock\n              ])\n            ]\n          }],\n        field1Name: 'width',\n        field2Name: 'height',\n        locked: true,\n        markers: { lockClass: 'tox-locked' },\n        onLockedChange: function (current, other, _lock) {\n          parseSize(Representing.getValue(current)).each(function (size) {\n            converter(size).each(function (newSize) {\n              Representing.setValue(other, formatSize(newSize));\n            });\n          });\n        },\n        coupledFieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            },\n            onDisabled: function (comp) {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getLock(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getLock(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig(),\n          config('size-input-events2', [run$1(ratioEvent, function (component, simulatedEvent) {\n              var isField1 = simulatedEvent.event.isField1;\n              var optCurrent = isField1 ? FormCoupledInputs.getField1(component) : FormCoupledInputs.getField2(component);\n              var optOther = isField1 ? FormCoupledInputs.getField2(component) : FormCoupledInputs.getField1(component);\n              var value1 = optCurrent.map(Representing.getValue).getOr('');\n              var value2 = optOther.map(Representing.getValue).getOr('');\n              converter = makeRatioConverter(value1, value2);\n            })])\n        ])\n      });\n    };\n\n    var undo = constant$1(generate$6('undo'));\n    var redo = constant$1(generate$6('redo'));\n    var zoom = constant$1(generate$6('zoom'));\n    var back = constant$1(generate$6('back'));\n    var apply = constant$1(generate$6('apply'));\n    var swap = constant$1(generate$6('swap'));\n    var transform$1 = constant$1(generate$6('transform'));\n    var tempTransform = constant$1(generate$6('temp-transform'));\n    var transformApply = constant$1(generate$6('transform-apply'));\n    var internal = {\n      undo: undo,\n      redo: redo,\n      zoom: zoom,\n      back: back,\n      apply: apply,\n      swap: swap,\n      transform: transform$1,\n      tempTransform: tempTransform,\n      transformApply: transformApply\n    };\n    var saveState = constant$1('save-state');\n    var disable = constant$1('disable');\n    var enable = constant$1('enable');\n    var external = {\n      formActionEvent: formActionEvent,\n      saveState: saveState,\n      disable: disable,\n      enable: enable\n    };\n\n    var renderEditPanel = function (imagePanel, providersBackstage) {\n      var createButton = function (text, action, disabled, primary) {\n        return record(renderButton({\n          name: text,\n          text: text,\n          disabled: disabled,\n          primary: primary,\n          icon: Optional.none(),\n          borderless: false\n        }, action, providersBackstage));\n      };\n      var createIconButton = function (icon, tooltip, action, disabled) {\n        return record(renderIconButton({\n          name: icon,\n          icon: Optional.some(icon),\n          tooltip: Optional.some(tooltip),\n          disabled: disabled,\n          primary: false,\n          borderless: false\n        }, action, providersBackstage));\n      };\n      var disableAllComponents = function (comps, eventcomp) {\n        comps.map(function (mem) {\n          var component = mem.get(eventcomp);\n          if (component.hasConfigured(Disabling)) {\n            Disabling.disable(component);\n          }\n        });\n      };\n      var enableAllComponents = function (comps, eventcomp) {\n        comps.map(function (mem) {\n          var component = mem.get(eventcomp);\n          if (component.hasConfigured(Disabling)) {\n            Disabling.enable(component);\n          }\n        });\n      };\n      var panelDom = {\n        tag: 'div',\n        classes: [\n          'tox-image-tools__toolbar',\n          'tox-image-tools-edit-panel'\n        ]\n      };\n      var noop$1 = noop;\n      var emit$1 = function (comp, event, data) {\n        emitWith(comp, event, data);\n      };\n      var emitDisable = function (component) {\n        return emit(component, external.disable());\n      };\n      var emitEnable = function (component) {\n        return emit(component, external.enable());\n      };\n      var emitTransform = function (comp, transform) {\n        emitDisable(comp);\n        emit$1(comp, internal.transform(), { transform: transform });\n        emitEnable(comp);\n      };\n      var emitTempTransform = function (comp, transform) {\n        emitDisable(comp);\n        emit$1(comp, internal.tempTransform(), { transform: transform });\n        emitEnable(comp);\n      };\n      var getBackSwap = function (anyInSystem) {\n        return function () {\n          memContainer.getOpt(anyInSystem).each(function (container) {\n            Replacing.set(container, [ButtonPanel]);\n          });\n        };\n      };\n      var emitTransformApply = function (comp, transform) {\n        emitDisable(comp);\n        emit$1(comp, internal.transformApply(), {\n          transform: transform,\n          swap: getBackSwap(comp)\n        });\n        emitEnable(comp);\n      };\n      var createBackButton = function () {\n        return createButton('Back', function (button) {\n          return emit$1(button, internal.back(), { swap: getBackSwap(button) });\n        }, false, false);\n      };\n      var createSpacer = function () {\n        return record({\n          dom: {\n            tag: 'div',\n            classes: ['tox-spacer']\n          },\n          behaviours: derive$1([Disabling.config({})])\n        });\n      };\n      var createApplyButton = function () {\n        return createButton('Apply', function (button) {\n          return emit$1(button, internal.apply(), { swap: getBackSwap(button) });\n        }, true, true);\n      };\n      var makeCropTransform = function () {\n        return function (ir) {\n          var rect = imagePanel.getRect();\n          return crop(ir, rect.x, rect.y, rect.w, rect.h);\n        };\n      };\n      var cropPanelComponents = [\n        createBackButton(),\n        createSpacer(),\n        createButton('Apply', function (button) {\n          var transform = makeCropTransform();\n          emitTransformApply(button, transform);\n          imagePanel.hideCrop();\n        }, false, true)\n      ];\n      var CropPanel = Container.sketch({\n        dom: panelDom,\n        components: cropPanelComponents.map(function (mem) {\n          return mem.asSpec();\n        }),\n        containerBehaviours: derive$1([config('image-tools-crop-buttons-events', [\n            run$1(external.disable(), function (comp, _se) {\n              disableAllComponents(cropPanelComponents, comp);\n            }),\n            run$1(external.enable(), function (comp, _se) {\n              enableAllComponents(cropPanelComponents, comp);\n            })\n          ])])\n      });\n      var memSize = record(renderSizeInput({\n        name: 'size',\n        label: Optional.none(),\n        constrain: true,\n        disabled: false\n      }, providersBackstage));\n      var makeResizeTransform = function (width, height) {\n        return function (ir) {\n          return resize$1(ir, width, height);\n        };\n      };\n      var resizePanelComponents = [\n        createBackButton(),\n        createSpacer(),\n        memSize,\n        createSpacer(),\n        createButton('Apply', function (button) {\n          memSize.getOpt(button).each(function (sizeInput) {\n            var value = Representing.getValue(sizeInput);\n            var width = parseInt(value.width, 10);\n            var height = parseInt(value.height, 10);\n            var transform = makeResizeTransform(width, height);\n            emitTransformApply(button, transform);\n          });\n        }, false, true)\n      ];\n      var ResizePanel = Container.sketch({\n        dom: panelDom,\n        components: resizePanelComponents.map(function (mem) {\n          return mem.asSpec();\n        }),\n        containerBehaviours: derive$1([config('image-tools-resize-buttons-events', [\n            run$1(external.disable(), function (comp, _se) {\n              disableAllComponents(resizePanelComponents, comp);\n            }),\n            run$1(external.enable(), function (comp, _se) {\n              enableAllComponents(resizePanelComponents, comp);\n            })\n          ])])\n      });\n      var makeValueTransform = function (transform, value) {\n        return function (ir) {\n          return transform(ir, value);\n        };\n      };\n      var horizontalFlip = makeValueTransform(flip, 'h');\n      var verticalFlip = makeValueTransform(flip, 'v');\n      var counterclockwiseRotate = makeValueTransform(rotate, -90);\n      var clockwiseRotate = makeValueTransform(rotate, 90);\n      var flipRotateOnAction = function (comp, operation) {\n        emitTempTransform(comp, operation);\n      };\n      var flipRotateComponents = [\n        createBackButton(),\n        createSpacer(),\n        createIconButton('flip-horizontally', 'Flip horizontally', function (button) {\n          flipRotateOnAction(button, horizontalFlip);\n        }, false),\n        createIconButton('flip-vertically', 'Flip vertically', function (button) {\n          flipRotateOnAction(button, verticalFlip);\n        }, false),\n        createIconButton('rotate-left', 'Rotate counterclockwise', function (button) {\n          flipRotateOnAction(button, counterclockwiseRotate);\n        }, false),\n        createIconButton('rotate-right', 'Rotate clockwise', function (button) {\n          flipRotateOnAction(button, clockwiseRotate);\n        }, false),\n        createSpacer(),\n        createApplyButton()\n      ];\n      var FlipRotatePanel = Container.sketch({\n        dom: panelDom,\n        components: flipRotateComponents.map(function (mem) {\n          return mem.asSpec();\n        }),\n        containerBehaviours: derive$1([config('image-tools-fliprotate-buttons-events', [\n            run$1(external.disable(), function (comp, _se) {\n              disableAllComponents(flipRotateComponents, comp);\n            }),\n            run$1(external.enable(), function (comp, _se) {\n              enableAllComponents(flipRotateComponents, comp);\n            })\n          ])])\n      });\n      var makeSlider = function (label, onChoose, min, value, max) {\n        var labelPart = Slider.parts.label({\n          dom: {\n            tag: 'label',\n            classes: ['tox-label'],\n            innerHtml: providersBackstage.translate(label)\n          }\n        });\n        var spectrum = Slider.parts.spectrum({\n          dom: {\n            tag: 'div',\n            classes: ['tox-slider__rail'],\n            attributes: { role: 'presentation' }\n          }\n        });\n        var thumb = Slider.parts.thumb({\n          dom: {\n            tag: 'div',\n            classes: ['tox-slider__handle'],\n            attributes: { role: 'presentation' }\n          }\n        });\n        return record(Slider.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-slider'],\n            attributes: { role: 'presentation' }\n          },\n          model: {\n            mode: 'x',\n            minX: min,\n            maxX: max,\n            getInitialValue: constant$1({ x: value })\n          },\n          components: [\n            labelPart,\n            spectrum,\n            thumb\n          ],\n          sliderBehaviours: derive$1([Focusing.config({})]),\n          onChoose: onChoose\n        }));\n      };\n      var makeVariableSlider = function (label, transform, min, value, max) {\n        var onChoose = function (slider, _thumb, value) {\n          var valTransform = makeValueTransform(transform, value.x / 100);\n          emitTransform(slider, valTransform);\n        };\n        return makeSlider(label, onChoose, min, value, max);\n      };\n      var variableFilterPanelComponents = function (label, transform, min, value, max) {\n        return [\n          createBackButton(),\n          makeVariableSlider(label, transform, min, value, max),\n          createApplyButton()\n        ];\n      };\n      var createVariableFilterPanel = function (label, transform, min, value, max) {\n        var filterPanelComponents = variableFilterPanelComponents(label, transform, min, value, max);\n        return Container.sketch({\n          dom: panelDom,\n          components: filterPanelComponents.map(function (mem) {\n            return mem.asSpec();\n          }),\n          containerBehaviours: derive$1([config('image-tools-filter-panel-buttons-events', [\n              run$1(external.disable(), function (comp, _se) {\n                disableAllComponents(filterPanelComponents, comp);\n              }),\n              run$1(external.enable(), function (comp, _se) {\n                enableAllComponents(filterPanelComponents, comp);\n              })\n            ])])\n        });\n      };\n      var filterPanelComponents = [\n        createBackButton(),\n        createSpacer(),\n        createApplyButton()\n      ];\n      var FilterPanel = Container.sketch({\n        dom: panelDom,\n        components: filterPanelComponents.map(function (mem) {\n          return mem.asSpec();\n        })\n      });\n      var BrightnessPanel = createVariableFilterPanel('Brightness', brightness, -100, 0, 100);\n      var ContrastPanel = createVariableFilterPanel('Contrast', contrast, -100, 0, 100);\n      var GammaPanel = createVariableFilterPanel('Gamma', gamma, -100, 0, 100);\n      var makeColorTransform = function (red, green, blue) {\n        return function (ir) {\n          return colorize(ir, red, green, blue);\n        };\n      };\n      var makeColorSlider = function (label) {\n        var onChoose = function (slider, _thumb, _value) {\n          var redOpt = memRed.getOpt(slider);\n          var blueOpt = memBlue.getOpt(slider);\n          var greenOpt = memGreen.getOpt(slider);\n          redOpt.each(function (red) {\n            blueOpt.each(function (blue) {\n              greenOpt.each(function (green) {\n                var r = Representing.getValue(red).x / 100;\n                var g = Representing.getValue(green).x / 100;\n                var b = Representing.getValue(blue).x / 100;\n                var transform = makeColorTransform(r, g, b);\n                emitTransform(slider, transform);\n              });\n            });\n          });\n        };\n        return makeSlider(label, onChoose, 0, 100, 200);\n      };\n      var memRed = makeColorSlider('R');\n      var memGreen = makeColorSlider('G');\n      var memBlue = makeColorSlider('B');\n      var colorizePanelComponents = [\n        createBackButton(),\n        memRed,\n        memGreen,\n        memBlue,\n        createApplyButton()\n      ];\n      var ColorizePanel = Container.sketch({\n        dom: panelDom,\n        components: colorizePanelComponents.map(function (mem) {\n          return mem.asSpec();\n        })\n      });\n      var getTransformPanelEvent = function (panel, transform, update) {\n        return function (button) {\n          var swap = function () {\n            memContainer.getOpt(button).each(function (container) {\n              Replacing.set(container, [panel]);\n              update(container);\n            });\n          };\n          emit$1(button, internal.swap(), {\n            transform: transform,\n            swap: swap\n          });\n        };\n      };\n      var cropPanelUpdate = function (_anyInSystem) {\n        imagePanel.showCrop();\n      };\n      var resizePanelUpdate = function (anyInSystem) {\n        memSize.getOpt(anyInSystem).each(function (sizeInput) {\n          var measurements = imagePanel.getMeasurements();\n          var width = measurements.width;\n          var height = measurements.height;\n          Representing.setValue(sizeInput, {\n            width: width,\n            height: height\n          });\n        });\n      };\n      var sharpenTransform = Optional.some(sharpen);\n      var invertTransform = Optional.some(invert);\n      var buttonPanelComponents = [\n        createIconButton('crop', 'Crop', getTransformPanelEvent(CropPanel, Optional.none(), cropPanelUpdate), false),\n        createIconButton('resize', 'Resize', getTransformPanelEvent(ResizePanel, Optional.none(), resizePanelUpdate), false),\n        createIconButton('orientation', 'Orientation', getTransformPanelEvent(FlipRotatePanel, Optional.none(), noop$1), false),\n        createIconButton('brightness', 'Brightness', getTransformPanelEvent(BrightnessPanel, Optional.none(), noop$1), false),\n        createIconButton('sharpen', 'Sharpen', getTransformPanelEvent(FilterPanel, sharpenTransform, noop$1), false),\n        createIconButton('contrast', 'Contrast', getTransformPanelEvent(ContrastPanel, Optional.none(), noop$1), false),\n        createIconButton('color-levels', 'Color levels', getTransformPanelEvent(ColorizePanel, Optional.none(), noop$1), false),\n        createIconButton('gamma', 'Gamma', getTransformPanelEvent(GammaPanel, Optional.none(), noop$1), false),\n        createIconButton('invert', 'Invert', getTransformPanelEvent(FilterPanel, invertTransform, noop$1), false)\n      ];\n      var ButtonPanel = Container.sketch({\n        dom: panelDom,\n        components: buttonPanelComponents.map(function (mem) {\n          return mem.asSpec();\n        })\n      });\n      var container = Container.sketch({\n        dom: { tag: 'div' },\n        components: [ButtonPanel],\n        containerBehaviours: derive$1([Replacing.config({})])\n      });\n      var memContainer = record(container);\n      var getApplyButton = function (anyInSystem) {\n        return memContainer.getOpt(anyInSystem).map(function (container) {\n          var panel = container.components()[0];\n          return panel.components()[panel.components().length - 1];\n        });\n      };\n      return {\n        memContainer: memContainer,\n        getApplyButton: getApplyButton\n      };\n    };\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.geom.Rect');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Observable');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var getDocumentSize = function (doc) {\n      var max = Math.max;\n      var documentElement = doc.documentElement;\n      var body = doc.body;\n      var scrollWidth = max(documentElement.scrollWidth, body.scrollWidth);\n      var clientWidth = max(documentElement.clientWidth, body.clientWidth);\n      var offsetWidth = max(documentElement.offsetWidth, body.offsetWidth);\n      var scrollHeight = max(documentElement.scrollHeight, body.scrollHeight);\n      var clientHeight = max(documentElement.clientHeight, body.clientHeight);\n      var offsetHeight = max(documentElement.offsetHeight, body.offsetHeight);\n      return {\n        width: scrollWidth < offsetWidth ? clientWidth : scrollWidth,\n        height: scrollHeight < offsetHeight ? clientHeight : scrollHeight\n      };\n    };\n    var isTouchEvent$1 = function (e) {\n      return isNonNullable(e.changedTouches);\n    };\n    var updateWithTouchData = function (e) {\n      if (isTouchEvent$1(e)) {\n        var keys = 'screenX screenY pageX pageY clientX clientY'.split(' ');\n        for (var i = 0; i < keys.length; i++) {\n          e[keys[i]] = e.changedTouches[0][keys[i]];\n        }\n      }\n    };\n    function DragHelper (id, settings) {\n      var _a, _b, _c;\n      var eventOverlay;\n      var handleEvents = [];\n      var overlayEvents = [];\n      var doc = (_a = settings.document) !== null && _a !== void 0 ? _a : document;\n      var root = (_b = settings.root) !== null && _b !== void 0 ? _b : doc;\n      var sugarDoc = SugarElement.fromDom(doc);\n      var downButton;\n      var startX;\n      var startY;\n      var handleElement = SugarElement.fromDom(root.getElementById((_c = settings.handle) !== null && _c !== void 0 ? _c : id));\n      var start = function (e) {\n        var rawEvent = e.raw;\n        var docSize = getDocumentSize(doc);\n        updateWithTouchData(rawEvent);\n        e.prevent();\n        downButton = rawEvent.button;\n        startX = rawEvent.screenX;\n        startY = rawEvent.screenY;\n        var cursor = get$c(handleElement, 'cursor');\n        eventOverlay = SugarElement.fromTag('div', doc);\n        setAll(eventOverlay, {\n          'position': 'absolute',\n          'top': '0',\n          'left': '0',\n          'width': docSize.width + 'px',\n          'height': docSize.height + 'px',\n          'z-index': 2147483647 + '',\n          'opacity': '0.0001',\n          cursor: cursor\n        });\n        append$2(getBody(sugarDoc), eventOverlay);\n        overlayEvents.push(bind(sugarDoc, 'mousemove', drag), bind(sugarDoc, 'touchmove', drag), bind(sugarDoc, 'mouseup', stop), bind(sugarDoc, 'touchend', stop));\n        settings.start(rawEvent);\n      };\n      var drag = function (e) {\n        var rawEvent = e.raw;\n        updateWithTouchData(rawEvent);\n        if (rawEvent.button !== downButton) {\n          return stop(e);\n        }\n        rawEvent.deltaX = rawEvent.screenX - startX;\n        rawEvent.deltaY = rawEvent.screenY - startY;\n        e.prevent();\n        settings.drag(rawEvent);\n      };\n      var stop = function (e) {\n        updateWithTouchData(e.raw);\n        each$1(overlayEvents, function (e) {\n          return e.unbind();\n        });\n        overlayEvents = [];\n        remove$5(eventOverlay);\n        if (settings.stop) {\n          settings.stop(e.raw);\n        }\n      };\n      var destroy = function () {\n        each$1(overlayEvents.concat(handleEvents), function (e) {\n          return e.unbind();\n        });\n        overlayEvents = [];\n        handleEvents = [];\n        if (isNonNullable(eventOverlay)) {\n          remove$5(eventOverlay);\n        }\n      };\n      handleEvents.push(bind(handleElement, 'mousedown', start), bind(handleElement, 'touchstart', start));\n      return { destroy: destroy };\n    }\n\n    var count = 0;\n    var create$1 = function (currentRect, viewPortRect, clampRect, containerElm, action) {\n      var dragHelpers;\n      var events = [];\n      var prefix = 'tox-';\n      var id = prefix + 'crid-' + count++;\n      var container = SugarElement.fromDom(containerElm);\n      var handles = [\n        {\n          name: 'move',\n          xMul: 0,\n          yMul: 0,\n          deltaX: 1,\n          deltaY: 1,\n          deltaW: 0,\n          deltaH: 0,\n          label: 'Crop Mask'\n        },\n        {\n          name: 'nw',\n          xMul: 0,\n          yMul: 0,\n          deltaX: 1,\n          deltaY: 1,\n          deltaW: -1,\n          deltaH: -1,\n          label: 'Top Left Crop Handle'\n        },\n        {\n          name: 'ne',\n          xMul: 1,\n          yMul: 0,\n          deltaX: 0,\n          deltaY: 1,\n          deltaW: 1,\n          deltaH: -1,\n          label: 'Top Right Crop Handle'\n        },\n        {\n          name: 'sw',\n          xMul: 0,\n          yMul: 1,\n          deltaX: 1,\n          deltaY: 0,\n          deltaW: -1,\n          deltaH: 1,\n          label: 'Bottom Left Crop Handle'\n        },\n        {\n          name: 'se',\n          xMul: 1,\n          yMul: 1,\n          deltaX: 0,\n          deltaY: 0,\n          deltaW: 1,\n          deltaH: 1,\n          label: 'Bottom Right Crop Handle'\n        }\n      ];\n      var blockers = [\n        'top',\n        'right',\n        'bottom',\n        'left'\n      ];\n      var getAbsoluteRect = function (outerRect, relativeRect) {\n        return {\n          x: relativeRect.x + outerRect.x,\n          y: relativeRect.y + outerRect.y,\n          w: relativeRect.w,\n          h: relativeRect.h\n        };\n      };\n      var getRelativeRect = function (outerRect, innerRect) {\n        return {\n          x: innerRect.x - outerRect.x,\n          y: innerRect.y - outerRect.y,\n          w: innerRect.w,\n          h: innerRect.h\n        };\n      };\n      var getInnerRect = function () {\n        return getRelativeRect(clampRect, currentRect);\n      };\n      var moveRect = function (handle, startRect, deltaX, deltaY) {\n        var x = startRect.x + deltaX * handle.deltaX;\n        var y = startRect.y + deltaY * handle.deltaY;\n        var w = Math.max(20, startRect.w + deltaX * handle.deltaW);\n        var h = Math.max(20, startRect.h + deltaY * handle.deltaH);\n        var rect = currentRect = global$4.clamp({\n          x: x,\n          y: y,\n          w: w,\n          h: h\n        }, clampRect, handle.name === 'move');\n        rect = getRelativeRect(clampRect, rect);\n        instance.fire('updateRect', { rect: rect });\n        setInnerRect(rect);\n      };\n      var render = function () {\n        var createDragHelper = function (handle) {\n          var startRect;\n          return DragHelper(id, {\n            document: containerElm.ownerDocument,\n            root: getRootNode(container).dom,\n            handle: id + '-' + handle.name,\n            start: function () {\n              startRect = currentRect;\n            },\n            drag: function (e) {\n              moveRect(handle, startRect, e.deltaX, e.deltaY);\n            }\n          });\n        };\n        var cropContainer = SugarElement.fromTag('div');\n        setAll$1(cropContainer, {\n          id: id,\n          'class': prefix + 'croprect-container',\n          'role': 'grid',\n          'aria-dropeffect': 'execute'\n        });\n        append$2(container, cropContainer);\n        each$1(blockers, function (blocker) {\n          descendant(container, '#' + id).each(function (blockerElm) {\n            var cropBlocker = SugarElement.fromTag('div');\n            setAll$1(cropBlocker, {\n              'id': id + '-' + blocker,\n              'class': prefix + 'croprect-block',\n              'data-mce-bogus': 'all'\n            });\n            set$7(cropBlocker, 'display', 'none');\n            append$2(blockerElm, cropBlocker);\n          });\n        });\n        each$1(handles, function (handle) {\n          descendant(container, '#' + id).each(function (handleElm) {\n            var cropHandle = SugarElement.fromTag('div');\n            setAll$1(cropHandle, {\n              'id': id + '-' + handle.name,\n              'aria-label': handle.label,\n              'aria-grabbed': 'false',\n              'data-mce-bogus': 'all',\n              'role': 'gridcell',\n              'tabindex': '-1',\n              'title': handle.label\n            });\n            add$1(cropHandle, [\n              prefix + 'croprect-handle',\n              prefix + 'croprect-handle-' + handle.name\n            ]);\n            set$7(cropHandle, 'display', 'none');\n            append$2(handleElm, cropHandle);\n          });\n        });\n        dragHelpers = map$2(handles, createDragHelper);\n        repaint(currentRect);\n        var handleFocus = function (e) {\n          set$8(e.target, 'aria-grabbed', e.raw.type === 'focus' ? 'true' : 'false');\n        };\n        var handleKeydown = function (e) {\n          var activeHandle;\n          each$1(handles, function (handle) {\n            if (get$d(e.target, 'id') === id + '-' + handle.name) {\n              activeHandle = handle;\n              return false;\n            }\n          });\n          var moveAndBlock = function (evt, handle, startRect, deltaX, deltaY) {\n            evt.stopPropagation();\n            evt.preventDefault();\n            moveRect(activeHandle, startRect, deltaX, deltaY);\n          };\n          switch (e.raw.keyCode) {\n          case global$2.LEFT:\n            moveAndBlock(e, activeHandle, currentRect, -10, 0);\n            break;\n          case global$2.RIGHT:\n            moveAndBlock(e, activeHandle, currentRect, 10, 0);\n            break;\n          case global$2.UP:\n            moveAndBlock(e, activeHandle, currentRect, 0, -10);\n            break;\n          case global$2.DOWN:\n            moveAndBlock(e, activeHandle, currentRect, 0, 10);\n            break;\n          case global$2.ENTER:\n          case global$2.SPACEBAR:\n            e.prevent();\n            action();\n            break;\n          }\n        };\n        events.push(bind(container, 'focusin', handleFocus), bind(container, 'focusout', handleFocus), bind(container, 'keydown', handleKeydown));\n      };\n      var toggleVisibility = function (state) {\n        var selectors = __spreadArray(__spreadArray([], map$2(handles, function (handle) {\n          return '#' + id + '-' + handle.name;\n        }), true), map$2(blockers, function (blocker) {\n          return '#' + id + '-' + blocker;\n        }), true).join(',');\n        var elems = descendants(container, selectors);\n        if (state) {\n          each$1(elems, function (elm) {\n            return remove$6(elm, 'display');\n          });\n        } else {\n          each$1(elems, function (elm) {\n            return set$7(elm, 'display', 'none');\n          });\n        }\n      };\n      var repaint = function (rect) {\n        var updateElementRect = function (name, newRect) {\n          descendant(container, '#' + id + '-' + name).each(function (elm) {\n            setAll(elm, {\n              left: newRect.x + 'px',\n              top: newRect.y + 'px',\n              width: Math.max(0, newRect.w) + 'px',\n              height: Math.max(0, newRect.h) + 'px'\n            });\n          });\n        };\n        each$1(handles, function (handle) {\n          descendant(container, '#' + id + '-' + handle.name).each(function (elm) {\n            setAll(elm, {\n              left: rect.w * handle.xMul + rect.x + 'px',\n              top: rect.h * handle.yMul + rect.y + 'px'\n            });\n          });\n        });\n        updateElementRect('top', {\n          x: viewPortRect.x,\n          y: viewPortRect.y,\n          w: viewPortRect.w,\n          h: rect.y - viewPortRect.y\n        });\n        updateElementRect('right', {\n          x: rect.x + rect.w,\n          y: rect.y,\n          w: viewPortRect.w - rect.x - rect.w + viewPortRect.x,\n          h: rect.h\n        });\n        updateElementRect('bottom', {\n          x: viewPortRect.x,\n          y: rect.y + rect.h,\n          w: viewPortRect.w,\n          h: viewPortRect.h - rect.y - rect.h + viewPortRect.y\n        });\n        updateElementRect('left', {\n          x: viewPortRect.x,\n          y: rect.y,\n          w: rect.x - viewPortRect.x,\n          h: rect.h\n        });\n        updateElementRect('move', rect);\n      };\n      var setRect = function (rect) {\n        currentRect = rect;\n        repaint(currentRect);\n      };\n      var setViewPortRect = function (rect) {\n        viewPortRect = rect;\n        repaint(currentRect);\n      };\n      var setInnerRect = function (rect) {\n        setRect(getAbsoluteRect(clampRect, rect));\n      };\n      var setClampRect = function (rect) {\n        clampRect = rect;\n        repaint(currentRect);\n      };\n      var destroy = function () {\n        each$1(dragHelpers, function (helper) {\n          return helper.destroy();\n        });\n        dragHelpers = [];\n        each$1(events, function (e) {\n          return e.unbind();\n        });\n        events = [];\n      };\n      render();\n      var instance = __assign(__assign({}, global$3), {\n        toggleVisibility: toggleVisibility,\n        setClampRect: setClampRect,\n        setRect: setRect,\n        getInnerRect: getInnerRect,\n        setInnerRect: setInnerRect,\n        setViewPortRect: setViewPortRect,\n        destroy: destroy\n      });\n      return instance;\n    };\n    var CropRect = { create: create$1 };\n\n    var loadImage = function (image) {\n      return new global$c(function (resolve) {\n        var loaded = function () {\n          image.removeEventListener('load', loaded);\n          resolve(image);\n        };\n        if (image.complete) {\n          resolve(image);\n        } else {\n          image.addEventListener('load', loaded);\n        }\n      });\n    };\n    var renderImagePanel = function (initialUrl) {\n      var memBg = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-image-tools__image-bg'],\n          attributes: { role: 'presentation' }\n        }\n      });\n      var zoomState = Cell(1);\n      var cropRect = api$1();\n      var rectState = Cell({\n        x: 0,\n        y: 0,\n        w: 1,\n        h: 1\n      });\n      var viewRectState = Cell({\n        x: 0,\n        y: 0,\n        w: 1,\n        h: 1\n      });\n      var repaintImg = function (anyInSystem, img) {\n        memContainer.getOpt(anyInSystem).each(function (panel) {\n          var zoom = zoomState.get();\n          var panelW = get$a(panel.element);\n          var panelH = get$b(panel.element);\n          var width = img.dom.naturalWidth * zoom;\n          var height = img.dom.naturalHeight * zoom;\n          var left = Math.max(0, panelW / 2 - width / 2);\n          var top = Math.max(0, panelH / 2 - height / 2);\n          var css = {\n            left: left.toString() + 'px',\n            top: top.toString() + 'px',\n            width: width.toString() + 'px',\n            height: height.toString() + 'px',\n            position: 'absolute'\n          };\n          setAll(img, css);\n          memBg.getOpt(panel).each(function (bg) {\n            setAll(bg.element, css);\n          });\n          cropRect.run(function (cRect) {\n            var rect = rectState.get();\n            cRect.setRect({\n              x: rect.x * zoom + left,\n              y: rect.y * zoom + top,\n              w: rect.w * zoom,\n              h: rect.h * zoom\n            });\n            cRect.setClampRect({\n              x: left,\n              y: top,\n              w: width,\n              h: height\n            });\n            cRect.setViewPortRect({\n              x: 0,\n              y: 0,\n              w: panelW,\n              h: panelH\n            });\n          });\n        });\n      };\n      var zoomFit = function (anyInSystem, img) {\n        memContainer.getOpt(anyInSystem).each(function (panel) {\n          var panelW = get$a(panel.element);\n          var panelH = get$b(panel.element);\n          var width = img.dom.naturalWidth;\n          var height = img.dom.naturalHeight;\n          var zoom = Math.min(panelW / width, panelH / height);\n          if (zoom >= 1) {\n            zoomState.set(1);\n          } else {\n            zoomState.set(zoom);\n          }\n        });\n      };\n      var updateSrc = function (anyInSystem, url) {\n        var img = SugarElement.fromTag('img');\n        set$8(img, 'src', url);\n        return loadImage(img.dom).then(function () {\n          if (anyInSystem.getSystem().isConnected()) {\n            memContainer.getOpt(anyInSystem).map(function (panel) {\n              var aImg = external$2({ element: img });\n              Replacing.replaceAt(panel, 1, Optional.some(aImg));\n              var lastViewRect = viewRectState.get();\n              var viewRect = {\n                x: 0,\n                y: 0,\n                w: img.dom.naturalWidth,\n                h: img.dom.naturalHeight\n              };\n              viewRectState.set(viewRect);\n              var rect = global$4.inflate(viewRect, -20, -20);\n              rectState.set(rect);\n              if (lastViewRect.w !== viewRect.w || lastViewRect.h !== viewRect.h) {\n                zoomFit(panel, img);\n              }\n              repaintImg(panel, img);\n            });\n          }\n        });\n      };\n      var zoom = function (anyInSystem, direction) {\n        var currentZoom = zoomState.get();\n        var newZoom = direction > 0 ? Math.min(2, currentZoom + 0.1) : Math.max(0.1, currentZoom - 0.1);\n        zoomState.set(newZoom);\n        memContainer.getOpt(anyInSystem).each(function (panel) {\n          var img = panel.components()[1].element;\n          repaintImg(panel, img);\n        });\n      };\n      var showCrop = function () {\n        cropRect.run(function (cRect) {\n          cRect.toggleVisibility(true);\n        });\n      };\n      var hideCrop = function () {\n        cropRect.run(function (cRect) {\n          cRect.toggleVisibility(false);\n        });\n      };\n      var getRect = function () {\n        return rectState.get();\n      };\n      var container = Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-image-tools__image']\n        },\n        components: [\n          memBg.asSpec(),\n          {\n            dom: {\n              tag: 'img',\n              attributes: { src: initialUrl }\n            }\n          },\n          {\n            dom: { tag: 'div' },\n            behaviours: derive$1([config('image-panel-crop-events', [\n                runOnAttached(function (comp) {\n                  memContainer.getOpt(comp).each(function (container) {\n                    var el = container.element.dom;\n                    var cRect = CropRect.create({\n                      x: 10,\n                      y: 10,\n                      w: 100,\n                      h: 100\n                    }, {\n                      x: 0,\n                      y: 0,\n                      w: 200,\n                      h: 200\n                    }, {\n                      x: 0,\n                      y: 0,\n                      w: 200,\n                      h: 200\n                    }, el, noop);\n                    cRect.toggleVisibility(false);\n                    cRect.on('updateRect', function (e) {\n                      var rect = e.rect;\n                      var zoom = zoomState.get();\n                      var newRect = {\n                        x: Math.round(rect.x / zoom),\n                        y: Math.round(rect.y / zoom),\n                        w: Math.round(rect.w / zoom),\n                        h: Math.round(rect.h / zoom)\n                      };\n                      rectState.set(newRect);\n                    });\n                    cropRect.set(cRect);\n                  });\n                }),\n                runOnDetached(function () {\n                  cropRect.clear();\n                })\n              ])])\n          }\n        ],\n        containerBehaviours: derive$1([\n          Replacing.config({}),\n          config('image-panel-events', [runOnAttached(function (comp) {\n              updateSrc(comp, initialUrl);\n            })])\n        ])\n      });\n      var memContainer = record(container);\n      var getMeasurements = function () {\n        var viewRect = viewRectState.get();\n        return {\n          width: viewRect.w,\n          height: viewRect.h\n        };\n      };\n      return {\n        memContainer: memContainer,\n        updateSrc: updateSrc,\n        zoom: zoom,\n        showCrop: showCrop,\n        hideCrop: hideCrop,\n        getRect: getRect,\n        getMeasurements: getMeasurements\n      };\n    };\n\n    var createButton = function (innerHtml, icon, disabled, action, providersBackstage) {\n      return renderIconButton({\n        name: innerHtml,\n        icon: Optional.some(icon),\n        disabled: disabled,\n        tooltip: Optional.some(innerHtml),\n        primary: false,\n        borderless: false\n      }, action, providersBackstage);\n    };\n    var setButtonEnabled = function (button, enabled) {\n      if (enabled) {\n        Disabling.enable(button);\n      } else {\n        Disabling.disable(button);\n      }\n    };\n    var renderSideBar = function (providersBackstage) {\n      var updateButtonUndoStates = function (anyInSystem, undoEnabled, redoEnabled) {\n        memUndo.getOpt(anyInSystem).each(function (undo) {\n          setButtonEnabled(undo, undoEnabled);\n        });\n        memRedo.getOpt(anyInSystem).each(function (redo) {\n          setButtonEnabled(redo, redoEnabled);\n        });\n      };\n      var memUndo = record(createButton('Undo', 'undo', true, function (button) {\n        emitWith(button, internal.undo(), { direction: 1 });\n      }, providersBackstage));\n      var memRedo = record(createButton('Redo', 'redo', true, function (button) {\n        emitWith(button, internal.redo(), { direction: 1 });\n      }, providersBackstage));\n      var container = Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-image-tools__toolbar',\n            'tox-image-tools__sidebar'\n          ]\n        },\n        components: [\n          memUndo.asSpec(),\n          memRedo.asSpec(),\n          createButton('Zoom in', 'zoom-in', false, function (button) {\n            emitWith(button, internal.zoom(), { direction: 1 });\n          }, providersBackstage),\n          createButton('Zoom out', 'zoom-out', false, function (button) {\n            emitWith(button, internal.zoom(), { direction: -1 });\n          }, providersBackstage)\n        ]\n      });\n      return {\n        container: container,\n        updateButtonUndoStates: updateButtonUndoStates\n      };\n    };\n\n    function UndoStack () {\n      var data = [];\n      var index = -1;\n      var add = function (state) {\n        var removed = data.splice(++index);\n        data.push(state);\n        return {\n          state: state,\n          removed: removed\n        };\n      };\n      var undo = function () {\n        if (canUndo()) {\n          return data[--index];\n        }\n      };\n      var redo = function () {\n        if (canRedo()) {\n          return data[++index];\n        }\n      };\n      var canUndo = function () {\n        return index > 0;\n      };\n      var canRedo = function () {\n        return index !== -1 && index < data.length - 1;\n      };\n      return {\n        data: data,\n        add: add,\n        undo: undo,\n        redo: redo,\n        canUndo: canUndo,\n        canRedo: canRedo\n      };\n    }\n\n    var makeState = function (initialState) {\n      var blobState = Cell(initialState);\n      var tempState = value$1();\n      var undoStack = UndoStack();\n      undoStack.add(initialState);\n      var getBlobState = function () {\n        return blobState.get();\n      };\n      var setBlobState = function (state) {\n        blobState.set(state);\n      };\n      var getTempState = function () {\n        return tempState.get().getOrThunk(blobState.get);\n      };\n      var updateTempState = function (blob) {\n        var newTempState = createState(blob);\n        destroyTempState();\n        tempState.set(newTempState);\n        return newTempState.url;\n      };\n      var createState = function (blob) {\n        return {\n          blob: blob,\n          url: URL.createObjectURL(blob)\n        };\n      };\n      var destroyState = function (state) {\n        URL.revokeObjectURL(state.url);\n      };\n      var destroyStates = function (states) {\n        global$5.each(states, destroyState);\n      };\n      var destroyTempState = function () {\n        tempState.on(destroyState);\n        tempState.clear();\n      };\n      var addBlobState = function (blob) {\n        var newState = createState(blob);\n        setBlobState(newState);\n        var removed = undoStack.add(newState).removed;\n        destroyStates(removed);\n        return newState.url;\n      };\n      var addTempState = function (blob) {\n        var newState = createState(blob);\n        tempState.set(newState);\n        return newState.url;\n      };\n      var applyTempState = function (postApply) {\n        return tempState.get().fold(noop, function (temp) {\n          addBlobState(temp.blob);\n          postApply();\n        });\n      };\n      var undo = function () {\n        var currentState = undoStack.undo();\n        setBlobState(currentState);\n        return currentState.url;\n      };\n      var redo = function () {\n        var currentState = undoStack.redo();\n        setBlobState(currentState);\n        return currentState.url;\n      };\n      var getHistoryStates = function () {\n        var undoEnabled = undoStack.canUndo();\n        var redoEnabled = undoStack.canRedo();\n        return {\n          undoEnabled: undoEnabled,\n          redoEnabled: redoEnabled\n        };\n      };\n      return {\n        getBlobState: getBlobState,\n        setBlobState: setBlobState,\n        addBlobState: addBlobState,\n        getTempState: getTempState,\n        updateTempState: updateTempState,\n        addTempState: addTempState,\n        applyTempState: applyTempState,\n        destroyTempState: destroyTempState,\n        undo: undo,\n        redo: redo,\n        getHistoryStates: getHistoryStates\n      };\n    };\n\n    var renderImageTools = function (detail, providersBackstage) {\n      var state = makeState(detail.currentState);\n      var zoom = function (anyInSystem, simulatedEvent) {\n        var direction = simulatedEvent.event.direction;\n        imagePanel.zoom(anyInSystem, direction);\n      };\n      var updateButtonUndoStates = function (anyInSystem) {\n        var historyStates = state.getHistoryStates();\n        sideBar.updateButtonUndoStates(anyInSystem, historyStates.undoEnabled, historyStates.redoEnabled);\n        emitWith(anyInSystem, external.formActionEvent, {\n          name: external.saveState(),\n          value: historyStates.undoEnabled\n        });\n      };\n      var disableUndoRedo = function (anyInSystem) {\n        sideBar.updateButtonUndoStates(anyInSystem, false, false);\n      };\n      var undo = function (anyInSystem, _simulatedEvent) {\n        var url = state.undo();\n        updateSrc(anyInSystem, url).then(function (_oImg) {\n          unblock(anyInSystem);\n          updateButtonUndoStates(anyInSystem);\n        });\n      };\n      var redo = function (anyInSystem, _simulatedEvent) {\n        var url = state.redo();\n        updateSrc(anyInSystem, url).then(function (_oImg) {\n          unblock(anyInSystem);\n          updateButtonUndoStates(anyInSystem);\n        });\n      };\n      var imageResultToBlob = function (ir) {\n        return ir.toBlob();\n      };\n      var block = function (anyInSystem) {\n        emitWith(anyInSystem, external.formActionEvent, {\n          name: external.disable(),\n          value: {}\n        });\n      };\n      var unblock = function (anyInSystem) {\n        editPanel.getApplyButton(anyInSystem).each(function (applyButton) {\n          Disabling.enable(applyButton);\n        });\n        emitWith(anyInSystem, external.formActionEvent, {\n          name: external.enable(),\n          value: {}\n        });\n      };\n      var updateSrc = function (anyInSystem, src) {\n        block(anyInSystem);\n        return imagePanel.updateSrc(anyInSystem, src);\n      };\n      var blobManipulate = function (anyInSystem, blob, filter, action, swap) {\n        block(anyInSystem);\n        blobToImageResult(blob).then(filter).then(imageResultToBlob).then(action).then(function (url) {\n          return updateSrc(anyInSystem, url);\n        }).then(function () {\n          updateButtonUndoStates(anyInSystem);\n          swap();\n          unblock(anyInSystem);\n        }).catch(function (err) {\n          console.log(err);\n          if (anyInSystem.getSystem().isConnected()) {\n            unblock(anyInSystem);\n          }\n        });\n      };\n      var manipulate = function (anyInSystem, filter, swap) {\n        var blob = state.getBlobState().blob;\n        var action = function (blob) {\n          return state.updateTempState(blob);\n        };\n        blobManipulate(anyInSystem, blob, filter, action, swap);\n      };\n      var tempManipulate = function (anyInSystem, filter) {\n        var blob = state.getTempState().blob;\n        var action = function (blob) {\n          return state.addTempState(blob);\n        };\n        blobManipulate(anyInSystem, blob, filter, action, noop);\n      };\n      var manipulateApply = function (anyInSystem, filter, swap) {\n        var blob = state.getBlobState().blob;\n        var action = function (blob) {\n          var url = state.addBlobState(blob);\n          destroyTempState(anyInSystem);\n          return url;\n        };\n        blobManipulate(anyInSystem, blob, filter, action, swap);\n      };\n      var apply = function (anyInSystem, simulatedEvent) {\n        var postApply = function () {\n          destroyTempState(anyInSystem);\n          var swap = simulatedEvent.event.swap;\n          swap();\n        };\n        state.applyTempState(postApply);\n      };\n      var destroyTempState = function (anyInSystem) {\n        var currentUrl = state.getBlobState().url;\n        state.destroyTempState();\n        updateButtonUndoStates(anyInSystem);\n        return currentUrl;\n      };\n      var cancel = function (anyInSystem) {\n        var currentUrl = destroyTempState(anyInSystem);\n        updateSrc(anyInSystem, currentUrl).then(function (_oImg) {\n          unblock(anyInSystem);\n        });\n      };\n      var back = function (anyInSystem, simulatedEvent) {\n        cancel(anyInSystem);\n        var swap = simulatedEvent.event.swap;\n        swap();\n        imagePanel.hideCrop();\n      };\n      var transform = function (anyInSystem, simulatedEvent) {\n        return manipulate(anyInSystem, simulatedEvent.event.transform, noop);\n      };\n      var tempTransform = function (anyInSystem, simulatedEvent) {\n        return tempManipulate(anyInSystem, simulatedEvent.event.transform);\n      };\n      var transformApply = function (anyInSystem, simulatedEvent) {\n        return manipulateApply(anyInSystem, simulatedEvent.event.transform, simulatedEvent.event.swap);\n      };\n      var imagePanel = renderImagePanel(detail.currentState.url);\n      var sideBar = renderSideBar(providersBackstage);\n      var editPanel = renderEditPanel(imagePanel, providersBackstage);\n      var swap = function (anyInSystem, simulatedEvent) {\n        disableUndoRedo(anyInSystem);\n        var transform = simulatedEvent.event.transform;\n        var swap = simulatedEvent.event.swap;\n        transform.fold(function () {\n          swap();\n        }, function (transform) {\n          manipulate(anyInSystem, transform, swap);\n        });\n      };\n      return {\n        dom: {\n          tag: 'div',\n          attributes: { role: 'presentation' }\n        },\n        components: [\n          editPanel.memContainer.asSpec(),\n          imagePanel.memContainer.asSpec(),\n          sideBar.container\n        ],\n        behaviours: derive$1([\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function () {\n                return state.getBlobState();\n              }\n            }\n          }),\n          config('image-tools-events', [\n            run$1(internal.undo(), undo),\n            run$1(internal.redo(), redo),\n            run$1(internal.zoom(), zoom),\n            run$1(internal.back(), back),\n            run$1(internal.apply(), apply),\n            run$1(internal.transform(), transform),\n            run$1(internal.tempTransform(), tempTransform),\n            run$1(internal.transformApply(), transformApply),\n            run$1(internal.swap(), swap)\n          ]),\n          ComposingConfigs.self()\n        ])\n      };\n    };\n\n    var renderLabel = function (spec, backstageShared) {\n      var label = {\n        dom: {\n          tag: 'label',\n          innerHtml: backstageShared.providers.translate(spec.label),\n          classes: ['tox-label']\n        }\n      };\n      var comps = map$2(spec.items, backstageShared.interpreter);\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [label].concat(comps),\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Replacing.config({}),\n          RepresentingConfigs.domHtml(Optional.none()),\n          Keying.config({ mode: 'acyclic' })\n        ])\n      };\n    };\n\n    var isSingleListItem = function (item) {\n      return !has$2(item, 'items');\n    };\n    var dataAttribute = 'data-value';\n    var fetchItems = function (dropdownComp, name, items, selectedValue) {\n      return map$2(items, function (item) {\n        if (!isSingleListItem(item)) {\n          return {\n            type: 'nestedmenuitem',\n            text: item.text,\n            getSubmenuItems: function () {\n              return fetchItems(dropdownComp, name, item.items, selectedValue);\n            }\n          };\n        } else {\n          return {\n            type: 'togglemenuitem',\n            text: item.text,\n            value: item.value,\n            active: item.value === selectedValue,\n            onAction: function () {\n              Representing.setValue(dropdownComp, item.value);\n              emitWith(dropdownComp, formChangeEvent, { name: name });\n              Focusing.focus(dropdownComp);\n            }\n          };\n        }\n      });\n    };\n    var findItemByValue = function (items, value) {\n      return findMap(items, function (item) {\n        if (!isSingleListItem(item)) {\n          return findItemByValue(item.items, value);\n        } else {\n          return someIf(item.value === value, item);\n        }\n      });\n    };\n    var renderListBox = function (spec, backstage) {\n      var providersBackstage = backstage.shared.providers;\n      var initialItem = head(spec.items).filter(isSingleListItem);\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var pField = FormField.parts.field({\n        dom: {},\n        factory: {\n          sketch: function (sketchSpec) {\n            return renderCommonDropdown({\n              uid: sketchSpec.uid,\n              text: initialItem.map(function (item) {\n                return item.text;\n              }),\n              icon: Optional.none(),\n              tooltip: spec.label,\n              role: Optional.none(),\n              fetch: function (comp, callback) {\n                var items = fetchItems(comp, spec.name, spec.items, Representing.getValue(comp));\n                callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false));\n              },\n              onSetup: constant$1(noop),\n              getApi: constant$1({}),\n              columns: 1,\n              presets: 'normal',\n              classes: [],\n              dropdownBehaviours: [\n                Tabstopping.config({}),\n                Representing.config({\n                  store: {\n                    mode: 'manual',\n                    initialValue: initialItem.map(function (item) {\n                      return item.value;\n                    }).getOr(''),\n                    getValue: function (comp) {\n                      return get$d(comp.element, dataAttribute);\n                    },\n                    setValue: function (comp, data) {\n                      findItemByValue(spec.items, data).each(function (item) {\n                        set$8(comp.element, dataAttribute, item.value);\n                        emitWith(comp, updateMenuText, { text: item.text });\n                      });\n                    }\n                  }\n                })\n              ]\n            }, 'tox-listbox', backstage.shared);\n          }\n        }\n      });\n      var listBoxWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-listboxfield']\n        },\n        components: [pField]\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [listBoxWrap]\n        ]),\n        fieldBehaviours: derive$1([Disabling.config({\n            disabled: constant$1(spec.disabled),\n            onDisabled: function (comp) {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          })])\n      });\n    };\n\n    var renderPanel = function (spec, backstage) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: spec.classes\n        },\n        components: map$2(spec.items, backstage.shared.interpreter)\n      };\n    };\n\n    var factory$e = function (detail, _spec) {\n      var options = map$2(detail.options, function (option) {\n        return {\n          dom: {\n            tag: 'option',\n            value: option.value,\n            innerHtml: option.text\n          }\n        };\n      });\n      var initialValues = detail.data.map(function (v) {\n        return wrap$1('initialValue', v);\n      }).getOr({});\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'select',\n          classes: detail.selectClasses,\n          attributes: detail.selectAttributes\n        },\n        components: options,\n        behaviours: augment(detail.selectBehaviours, [\n          Focusing.config({}),\n          Representing.config({\n            store: __assign({\n              mode: 'manual',\n              getValue: function (select) {\n                return get$5(select.element);\n              },\n              setValue: function (select, newValue) {\n                var found = find$5(detail.options, function (opt) {\n                  return opt.value === newValue;\n                });\n                if (found.isSome()) {\n                  set$4(select.element, newValue);\n                }\n              }\n            }, initialValues)\n          })\n        ])\n      };\n    };\n    var HtmlSelect = single({\n      name: 'HtmlSelect',\n      configFields: [\n        required$1('options'),\n        field('selectBehaviours', [\n          Focusing,\n          Representing\n        ]),\n        defaulted('selectClasses', []),\n        defaulted('selectAttributes', {}),\n        option('data')\n      ],\n      factory: factory$e\n    });\n\n    var renderSelectBox = function (spec, providersBackstage) {\n      var translatedOptions = map$2(spec.items, function (item) {\n        return {\n          text: providersBackstage.translate(item.text),\n          value: item.value\n        };\n      });\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var pField = FormField.parts.field({\n        dom: {},\n        selectAttributes: { size: spec.size },\n        options: translatedOptions,\n        factory: HtmlSelect,\n        selectBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            }\n          }),\n          Tabstopping.config({}),\n          config('selectbox-change', [run$1(change(), function (component, _) {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      var chevron = spec.size > 1 ? Optional.none() : Optional.some(render$3('chevron-down', {\n        tag: 'div',\n        classes: ['tox-selectfield__icon-js']\n      }, providersBackstage.icons));\n      var selectWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-selectfield']\n        },\n        components: flatten([\n          [pField],\n          chevron.toArray()\n        ])\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [selectWrap]\n        ]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            },\n            onDisabled: function (comp) {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig()\n        ])\n      });\n    };\n\n    var renderTable = function (spec, providersBackstage) {\n      var renderTh = function (text) {\n        return {\n          dom: {\n            tag: 'th',\n            innerHtml: providersBackstage.translate(text)\n          }\n        };\n      };\n      var renderHeader = function (header) {\n        return {\n          dom: { tag: 'thead' },\n          components: [{\n              dom: { tag: 'tr' },\n              components: map$2(header, renderTh)\n            }]\n        };\n      };\n      var renderTd = function (text) {\n        return {\n          dom: {\n            tag: 'td',\n            innerHtml: providersBackstage.translate(text)\n          }\n        };\n      };\n      var renderTr = function (row) {\n        return {\n          dom: { tag: 'tr' },\n          components: map$2(row, renderTd)\n        };\n      };\n      var renderRows = function (rows) {\n        return {\n          dom: { tag: 'tbody' },\n          components: map$2(rows, renderTr)\n        };\n      };\n      return {\n        dom: {\n          tag: 'table',\n          classes: ['tox-dialog__table']\n        },\n        components: [\n          renderHeader(spec.header),\n          renderRows(spec.cells)\n        ],\n        behaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n\n    var renderTextField = function (spec, providersBackstage) {\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var baseInputBehaviours = [\n        Disabling.config({\n          disabled: function () {\n            return spec.disabled || providersBackstage.isDisabled();\n          }\n        }),\n        receivingConfig(),\n        Keying.config({\n          mode: 'execution',\n          useEnter: spec.multiline !== true,\n          useControlEnter: spec.multiline === true,\n          execute: function (comp) {\n            emit(comp, formSubmitEvent);\n            return Optional.some(true);\n          }\n        }),\n        config('textfield-change', [\n          run$1(input(), function (component, _) {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          }),\n          run$1(postPaste(), function (component, _) {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          })\n        ]),\n        Tabstopping.config({})\n      ];\n      var validatingBehaviours = spec.validation.map(function (vl) {\n        return Invalidating.config({\n          getRoot: function (input) {\n            return parent(input.element);\n          },\n          invalidClass: 'tox-invalid',\n          validator: {\n            validate: function (input) {\n              var v = Representing.getValue(input);\n              var result = vl.validator(v);\n              return Future.pure(result === true ? Result.value(v) : Result.error(result));\n            },\n            validateOnLoad: vl.validateOnLoad\n          }\n        });\n      }).toArray();\n      var placeholder = spec.placeholder.fold(constant$1({}), function (p) {\n        return { placeholder: providersBackstage.translate(p) };\n      });\n      var inputMode = spec.inputMode.fold(constant$1({}), function (mode) {\n        return { inputmode: mode };\n      });\n      var inputAttributes = __assign(__assign({}, placeholder), inputMode);\n      var pField = FormField.parts.field({\n        tag: spec.multiline === true ? 'textarea' : 'input',\n        inputAttributes: inputAttributes,\n        inputClasses: [spec.classname],\n        inputBehaviours: derive$1(flatten([\n          baseInputBehaviours,\n          validatingBehaviours\n        ])),\n        selectOnFocus: false,\n        factory: Input\n      });\n      var extraClasses = spec.flex ? ['tox-form__group--stretched'] : [];\n      var extraClasses2 = extraClasses.concat(spec.maximized ? ['tox-form-group--maximize'] : []);\n      var extraBehaviours = [\n        Disabling.config({\n          disabled: function () {\n            return spec.disabled || providersBackstage.isDisabled();\n          },\n          onDisabled: function (comp) {\n            FormField.getField(comp).each(Disabling.disable);\n          },\n          onEnabled: function (comp) {\n            FormField.getField(comp).each(Disabling.enable);\n          }\n        }),\n        receivingConfig()\n      ];\n      return renderFormFieldWith(pLabel, pField, extraClasses2, extraBehaviours);\n    };\n    var renderInput = function (spec, providersBackstage) {\n      return renderTextField({\n        name: spec.name,\n        multiline: false,\n        label: spec.label,\n        inputMode: spec.inputMode,\n        placeholder: spec.placeholder,\n        flex: false,\n        disabled: spec.disabled,\n        classname: 'tox-textfield',\n        validation: Optional.none(),\n        maximized: spec.maximized\n      }, providersBackstage);\n    };\n    var renderTextarea = function (spec, providersBackstage) {\n      return renderTextField({\n        name: spec.name,\n        multiline: true,\n        label: spec.label,\n        inputMode: Optional.none(),\n        placeholder: spec.placeholder,\n        flex: true,\n        disabled: spec.disabled,\n        classname: 'tox-textarea',\n        validation: Optional.none(),\n        maximized: spec.maximized\n      }, providersBackstage);\n    };\n\n    var events$6 = function (streamConfig, streamState) {\n      var streams = streamConfig.stream.streams;\n      var processor = streams.setup(streamConfig, streamState);\n      return derive$2([\n        run$1(streamConfig.event, processor),\n        runOnDetached(function () {\n          return streamState.cancel();\n        })\n      ].concat(streamConfig.cancelEvent.map(function (e) {\n        return [run$1(e, function () {\n            return streamState.cancel();\n          })];\n      }).getOr([])));\n    };\n\n    var ActiveStreaming = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$6\n    });\n\n    var throttle = function (_config) {\n      var state = Cell(null);\n      var readState = function () {\n        return { timer: state.get() !== null ? 'set' : 'unset' };\n      };\n      var setTimer = function (t) {\n        state.set(t);\n      };\n      var cancel = function () {\n        var t = state.get();\n        if (t !== null) {\n          t.cancel();\n        }\n      };\n      return nu$8({\n        readState: readState,\n        setTimer: setTimer,\n        cancel: cancel\n      });\n    };\n    var init$9 = function (spec) {\n      return spec.stream.streams.state(spec);\n    };\n\n    var StreamingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        throttle: throttle,\n        init: init$9\n    });\n\n    var setup$c = function (streamInfo, streamState) {\n      var sInfo = streamInfo.stream;\n      var throttler = last(streamInfo.onStream, sInfo.delay);\n      streamState.setTimer(throttler);\n      return function (component, simulatedEvent) {\n        throttler.throttle(component, simulatedEvent);\n        if (sInfo.stopEvent) {\n          simulatedEvent.stop();\n        }\n      };\n    };\n    var StreamingSchema = [\n      requiredOf('stream', choose$1('mode', {\n        throttle: [\n          required$1('delay'),\n          defaulted('stopEvent', true),\n          output$1('streams', {\n            setup: setup$c,\n            state: throttle\n          })\n        ]\n      })),\n      defaulted('event', 'input'),\n      option('cancelEvent'),\n      onStrictHandler('onStream')\n    ];\n\n    var Streaming = create$7({\n      fields: StreamingSchema,\n      name: 'streaming',\n      active: ActiveStreaming,\n      state: StreamingState\n    });\n\n    var setValueFromItem = function (model, input, item) {\n      var itemData = Representing.getValue(item);\n      Representing.setValue(input, itemData);\n      setCursorAtEnd(input);\n    };\n    var setSelectionOn = function (input, f) {\n      var el = input.element;\n      var value = get$5(el);\n      var node = el.dom;\n      if (get$d(el, 'type') !== 'number') {\n        f(node, value);\n      }\n    };\n    var setCursorAtEnd = function (input) {\n      setSelectionOn(input, function (node, value) {\n        return node.setSelectionRange(value.length, value.length);\n      });\n    };\n    var setSelectionToEnd = function (input, startOffset) {\n      setSelectionOn(input, function (node, value) {\n        return node.setSelectionRange(startOffset, value.length);\n      });\n    };\n    var attemptSelectOver = function (model, input, item) {\n      if (!model.selectsOver) {\n        return Optional.none();\n      } else {\n        var currentValue = Representing.getValue(input);\n        var inputDisplay_1 = model.getDisplayText(currentValue);\n        var itemValue = Representing.getValue(item);\n        var itemDisplay = model.getDisplayText(itemValue);\n        return itemDisplay.indexOf(inputDisplay_1) === 0 ? Optional.some(function () {\n          setValueFromItem(model, input, item);\n          setSelectionToEnd(input, inputDisplay_1.length);\n        }) : Optional.none();\n      }\n    };\n\n    var itemExecute = constant$1('alloy.typeahead.itemexecute');\n\n    var make$3 = function (detail, components, spec, externals) {\n      var navigateList = function (comp, simulatedEvent, highlighter) {\n        detail.previewing.set(false);\n        var sandbox = Coupling.getCoupled(comp, 'sandbox');\n        if (Sandboxing.isOpen(sandbox)) {\n          Composing.getCurrent(sandbox).each(function (menu) {\n            Highlighting.getHighlighted(menu).fold(function () {\n              highlighter(menu);\n            }, function () {\n              dispatchEvent(sandbox, menu.element, 'keydown', simulatedEvent);\n            });\n          });\n        } else {\n          var onOpenSync = function (sandbox) {\n            Composing.getCurrent(sandbox).each(highlighter);\n          };\n          open(detail, mapFetch(comp), comp, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n        }\n      };\n      var focusBehaviours$1 = focusBehaviours(detail);\n      var mapFetch = function (comp) {\n        return function (tdata) {\n          return tdata.map(function (data) {\n            var menus = values(data.menus);\n            var items = bind$3(menus, function (menu) {\n              return filter$2(menu.items, function (item) {\n                return item.type === 'item';\n              });\n            });\n            var repState = Representing.getState(comp);\n            repState.update(map$2(items, function (item) {\n              return item.data;\n            }));\n            return data;\n          });\n        };\n      };\n      var behaviours = [\n        Focusing.config({}),\n        Representing.config({\n          onSetValue: detail.onSetValue,\n          store: __assign({\n            mode: 'dataset',\n            getDataKey: function (comp) {\n              return get$5(comp.element);\n            },\n            getFallbackEntry: function (itemString) {\n              return {\n                value: itemString,\n                meta: {}\n              };\n            },\n            setValue: function (comp, data) {\n              set$4(comp.element, detail.model.getDisplayText(data));\n            }\n          }, detail.initialData.map(function (d) {\n            return wrap$1('initialValue', d);\n          }).getOr({}))\n        }),\n        Streaming.config({\n          stream: {\n            mode: 'throttle',\n            delay: detail.responseTime,\n            stopEvent: false\n          },\n          onStream: function (component, _simulatedEvent) {\n            var sandbox = Coupling.getCoupled(component, 'sandbox');\n            var focusInInput = Focusing.isFocused(component);\n            if (focusInInput) {\n              if (get$5(component.element).length >= detail.minChars) {\n                var previousValue_1 = Composing.getCurrent(sandbox).bind(function (menu) {\n                  return Highlighting.getHighlighted(menu).map(Representing.getValue);\n                });\n                detail.previewing.set(true);\n                var onOpenSync = function (_sandbox) {\n                  Composing.getCurrent(sandbox).each(function (menu) {\n                    previousValue_1.fold(function () {\n                      if (detail.model.selectsOver) {\n                        Highlighting.highlightFirst(menu);\n                      }\n                    }, function (pv) {\n                      Highlighting.highlightBy(menu, function (item) {\n                        var itemData = Representing.getValue(item);\n                        return itemData.value === pv.value;\n                      });\n                      Highlighting.getHighlighted(menu).orThunk(function () {\n                        Highlighting.highlightFirst(menu);\n                        return Optional.none();\n                      });\n                    });\n                  });\n                };\n                open(detail, mapFetch(component), component, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n              }\n            }\n          },\n          cancelEvent: typeaheadCancel()\n        }),\n        Keying.config({\n          mode: 'special',\n          onDown: function (comp, simulatedEvent) {\n            navigateList(comp, simulatedEvent, Highlighting.highlightFirst);\n            return Optional.some(true);\n          },\n          onEscape: function (comp) {\n            var sandbox = Coupling.getCoupled(comp, 'sandbox');\n            if (Sandboxing.isOpen(sandbox)) {\n              Sandboxing.close(sandbox);\n              return Optional.some(true);\n            }\n            return Optional.none();\n          },\n          onUp: function (comp, simulatedEvent) {\n            navigateList(comp, simulatedEvent, Highlighting.highlightLast);\n            return Optional.some(true);\n          },\n          onEnter: function (comp) {\n            var sandbox = Coupling.getCoupled(comp, 'sandbox');\n            var sandboxIsOpen = Sandboxing.isOpen(sandbox);\n            if (sandboxIsOpen && !detail.previewing.get()) {\n              return Composing.getCurrent(sandbox).bind(function (menu) {\n                return Highlighting.getHighlighted(menu);\n              }).map(function (item) {\n                emitWith(comp, itemExecute(), { item: item });\n                return true;\n              });\n            } else {\n              var currentValue = Representing.getValue(comp);\n              emit(comp, typeaheadCancel());\n              detail.onExecute(sandbox, comp, currentValue);\n              if (sandboxIsOpen) {\n                Sandboxing.close(sandbox);\n              }\n              return Optional.some(true);\n            }\n          }\n        }),\n        Toggling.config({\n          toggleClass: detail.markers.openClass,\n          aria: { mode: 'expanded' }\n        }),\n        Coupling.config({\n          others: {\n            sandbox: function (hotspot) {\n              return makeSandbox$1(detail, hotspot, {\n                onOpen: function () {\n                  return Toggling.on(hotspot);\n                },\n                onClose: function () {\n                  return Toggling.off(hotspot);\n                }\n              });\n            }\n          }\n        }),\n        config('typeaheadevents', [\n          runOnExecute$1(function (comp) {\n            var onOpenSync = noop;\n            togglePopup(detail, mapFetch(comp), comp, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n          }),\n          run$1(itemExecute(), function (comp, se) {\n            var sandbox = Coupling.getCoupled(comp, 'sandbox');\n            setValueFromItem(detail.model, comp, se.event.item);\n            emit(comp, typeaheadCancel());\n            detail.onItemExecute(comp, sandbox, se.event.item, Representing.getValue(comp));\n            Sandboxing.close(sandbox);\n            setCursorAtEnd(comp);\n          })\n        ].concat(detail.dismissOnBlur ? [run$1(postBlur(), function (typeahead) {\n            var sandbox = Coupling.getCoupled(typeahead, 'sandbox');\n            if (search(sandbox.element).isNone()) {\n              Sandboxing.close(sandbox);\n            }\n          })] : []))\n      ];\n      return {\n        uid: detail.uid,\n        dom: dom(deepMerge(detail, {\n          inputAttributes: {\n            'role': 'combobox',\n            'aria-autocomplete': 'list',\n            'aria-haspopup': 'true'\n          }\n        })),\n        behaviours: __assign(__assign({}, focusBehaviours$1), augment(detail.typeaheadBehaviours, behaviours)),\n        eventOrder: detail.eventOrder\n      };\n    };\n\n    var schema$g = constant$1([\n      option('lazySink'),\n      required$1('fetch'),\n      defaulted('minChars', 5),\n      defaulted('responseTime', 1000),\n      onHandler('onOpen'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      defaulted('layouts', Optional.none()),\n      defaulted('eventOrder', {}),\n      defaultedObjOf('model', {}, [\n        defaulted('getDisplayText', function (itemData) {\n          return itemData.meta !== undefined && itemData.meta.text !== undefined ? itemData.meta.text : itemData.value;\n        }),\n        defaulted('selectsOver', true),\n        defaulted('populateFromBrowse', true)\n      ]),\n      onHandler('onSetValue'),\n      onKeyboardHandler('onExecute'),\n      onHandler('onItemExecute'),\n      defaulted('inputClasses', []),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('matchWidth', true),\n      defaulted('useMinWidth', false),\n      defaulted('dismissOnBlur', true),\n      markers$1(['openClass']),\n      option('initialData'),\n      field('typeaheadBehaviours', [\n        Focusing,\n        Representing,\n        Streaming,\n        Keying,\n        Toggling,\n        Coupling\n      ]),\n      customField('previewing', function () {\n        return Cell(true);\n      })\n    ].concat(schema$k()).concat(sandboxFields()));\n    var parts$b = constant$1([external$1({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        overrides: function (detail) {\n          return {\n            fakeFocus: true,\n            onHighlight: function (menu, item) {\n              if (!detail.previewing.get()) {\n                menu.getSystem().getByUid(detail.uid).each(function (input) {\n                  if (detail.model.populateFromBrowse) {\n                    setValueFromItem(detail.model, input, item);\n                  }\n                });\n              } else {\n                menu.getSystem().getByUid(detail.uid).each(function (input) {\n                  attemptSelectOver(detail.model, input, item).fold(function () {\n                    return Highlighting.dehighlight(menu, item);\n                  }, function (fn) {\n                    return fn();\n                  });\n                });\n              }\n              detail.previewing.set(false);\n            },\n            onExecute: function (menu, item) {\n              return menu.getSystem().getByUid(detail.uid).toOptional().map(function (typeahead) {\n                emitWith(typeahead, itemExecute(), { item: item });\n                return true;\n              });\n            },\n            onHover: function (menu, item) {\n              detail.previewing.set(false);\n              menu.getSystem().getByUid(detail.uid).each(function (input) {\n                if (detail.model.populateFromBrowse) {\n                  setValueFromItem(detail.model, input, item);\n                }\n              });\n            }\n          };\n        }\n      })]);\n\n    var Typeahead = composite({\n      name: 'Typeahead',\n      configFields: schema$g(),\n      partFields: parts$b(),\n      factory: make$3\n    });\n\n    var wrap = function (delegate) {\n      var toCached = function () {\n        return wrap(delegate.toCached());\n      };\n      var bindFuture = function (f) {\n        return wrap(delegate.bind(function (resA) {\n          return resA.fold(function (err) {\n            return Future.pure(Result.error(err));\n          }, function (a) {\n            return f(a);\n          });\n        }));\n      };\n      var bindResult = function (f) {\n        return wrap(delegate.map(function (resA) {\n          return resA.bind(f);\n        }));\n      };\n      var mapResult = function (f) {\n        return wrap(delegate.map(function (resA) {\n          return resA.map(f);\n        }));\n      };\n      var mapError = function (f) {\n        return wrap(delegate.map(function (resA) {\n          return resA.mapError(f);\n        }));\n      };\n      var foldResult = function (whenError, whenValue) {\n        return delegate.map(function (res) {\n          return res.fold(whenError, whenValue);\n        });\n      };\n      var withTimeout = function (timeout, errorThunk) {\n        return wrap(Future.nu(function (callback) {\n          var timedOut = false;\n          var timer = setTimeout(function () {\n            timedOut = true;\n            callback(Result.error(errorThunk()));\n          }, timeout);\n          delegate.get(function (result) {\n            if (!timedOut) {\n              clearTimeout(timer);\n              callback(result);\n            }\n          });\n        }));\n      };\n      return __assign(__assign({}, delegate), {\n        toCached: toCached,\n        bindFuture: bindFuture,\n        bindResult: bindResult,\n        mapResult: mapResult,\n        mapError: mapError,\n        foldResult: foldResult,\n        withTimeout: withTimeout\n      });\n    };\n    var nu$1 = function (worker) {\n      return wrap(Future.nu(worker));\n    };\n    var value = function (value) {\n      return wrap(Future.pure(Result.value(value)));\n    };\n    var error = function (error) {\n      return wrap(Future.pure(Result.error(error)));\n    };\n    var fromResult = function (result) {\n      return wrap(Future.pure(result));\n    };\n    var fromFuture = function (future) {\n      return wrap(future.map(Result.value));\n    };\n    var fromPromise = function (promise) {\n      return nu$1(function (completer) {\n        promise.then(function (value) {\n          completer(Result.value(value));\n        }, function (error) {\n          completer(Result.error(error));\n        });\n      });\n    };\n    var FutureResult = {\n      nu: nu$1,\n      wrap: wrap,\n      pure: value,\n      value: value,\n      error: error,\n      fromResult: fromResult,\n      fromFuture: fromFuture,\n      fromPromise: fromPromise\n    };\n\n    var separator$1 = { type: 'separator' };\n    var toMenuItem = function (target) {\n      return {\n        type: 'menuitem',\n        value: target.url,\n        text: target.title,\n        meta: { attach: target.attach },\n        onAction: noop\n      };\n    };\n    var staticMenuItem = function (title, url) {\n      return {\n        type: 'menuitem',\n        value: url,\n        text: title,\n        meta: { attach: undefined },\n        onAction: noop\n      };\n    };\n    var toMenuItems = function (targets) {\n      return map$2(targets, toMenuItem);\n    };\n    var filterLinkTargets = function (type, targets) {\n      return filter$2(targets, function (target) {\n        return target.type === type;\n      });\n    };\n    var filteredTargets = function (type, targets) {\n      return toMenuItems(filterLinkTargets(type, targets));\n    };\n    var headerTargets = function (linkInfo) {\n      return filteredTargets('header', linkInfo.targets);\n    };\n    var anchorTargets = function (linkInfo) {\n      return filteredTargets('anchor', linkInfo.targets);\n    };\n    var anchorTargetTop = function (linkInfo) {\n      return Optional.from(linkInfo.anchorTop).map(function (url) {\n        return staticMenuItem('<top>', url);\n      }).toArray();\n    };\n    var anchorTargetBottom = function (linkInfo) {\n      return Optional.from(linkInfo.anchorBottom).map(function (url) {\n        return staticMenuItem('<bottom>', url);\n      }).toArray();\n    };\n    var historyTargets = function (history) {\n      return map$2(history, function (url) {\n        return staticMenuItem(url, url);\n      });\n    };\n    var joinMenuLists = function (items) {\n      return foldl(items, function (a, b) {\n        var bothEmpty = a.length === 0 || b.length === 0;\n        return bothEmpty ? a.concat(b) : a.concat(separator$1, b);\n      }, []);\n    };\n    var filterByQuery = function (term, menuItems) {\n      var lowerCaseTerm = term.toLowerCase();\n      return filter$2(menuItems, function (item) {\n        var text = item.meta !== undefined && item.meta.text !== undefined ? item.meta.text : item.text;\n        return contains$1(text.toLowerCase(), lowerCaseTerm) || contains$1(item.value.toLowerCase(), lowerCaseTerm);\n      });\n    };\n\n    var getItems = function (fileType, input, urlBackstage) {\n      var urlInputValue = Representing.getValue(input);\n      var term = urlInputValue.meta.text !== undefined ? urlInputValue.meta.text : urlInputValue.value;\n      var info = urlBackstage.getLinkInformation();\n      return info.fold(function () {\n        return [];\n      }, function (linkInfo) {\n        var history = filterByQuery(term, historyTargets(urlBackstage.getHistory(fileType)));\n        return fileType === 'file' ? joinMenuLists([\n          history,\n          filterByQuery(term, headerTargets(linkInfo)),\n          filterByQuery(term, flatten([\n            anchorTargetTop(linkInfo),\n            anchorTargets(linkInfo),\n            anchorTargetBottom(linkInfo)\n          ]))\n        ]) : history;\n      });\n    };\n    var errorId = generate$6('aria-invalid');\n    var renderUrlInput = function (spec, backstage, urlBackstage) {\n      var _a;\n      var providersBackstage = backstage.shared.providers;\n      var updateHistory = function (component) {\n        var urlEntry = Representing.getValue(component);\n        urlBackstage.addToHistory(urlEntry.value, spec.filetype);\n      };\n      var pField = FormField.parts.field({\n        factory: Typeahead,\n        dismissOnBlur: true,\n        inputClasses: ['tox-textfield'],\n        sandboxClasses: ['tox-dialog__popups'],\n        inputAttributes: {\n          'aria-errormessage': errorId,\n          'type': 'url'\n        },\n        minChars: 0,\n        responseTime: 0,\n        fetch: function (input) {\n          var items = getItems(spec.filetype, input, urlBackstage);\n          var tdata = build(items, ItemResponse$1.BUBBLE_TO_SANDBOX, backstage, false);\n          return Future.pure(tdata);\n        },\n        getHotspot: function (comp) {\n          return memUrlBox.getOpt(comp);\n        },\n        onSetValue: function (comp, _newValue) {\n          if (comp.hasConfigured(Invalidating)) {\n            Invalidating.run(comp).get(noop);\n          }\n        },\n        typeaheadBehaviours: derive$1(flatten([\n          urlBackstage.getValidationHandler().map(function (handler) {\n            return Invalidating.config({\n              getRoot: function (comp) {\n                return parent(comp.element);\n              },\n              invalidClass: 'tox-control-wrap--status-invalid',\n              notify: {\n                onInvalid: function (comp, err) {\n                  memInvalidIcon.getOpt(comp).each(function (invalidComp) {\n                    set$8(invalidComp.element, 'title', providersBackstage.translate(err));\n                  });\n                }\n              },\n              validator: {\n                validate: function (input) {\n                  var urlEntry = Representing.getValue(input);\n                  return FutureResult.nu(function (completer) {\n                    handler({\n                      type: spec.filetype,\n                      url: urlEntry.value\n                    }, function (validation) {\n                      if (validation.status === 'invalid') {\n                        var err = Result.error(validation.message);\n                        completer(err);\n                      } else {\n                        var val = Result.value(validation.message);\n                        completer(val);\n                      }\n                    });\n                  });\n                },\n                validateOnLoad: false\n              }\n            });\n          }).toArray(),\n          [\n            Disabling.config({\n              disabled: function () {\n                return spec.disabled || providersBackstage.isDisabled();\n              }\n            }),\n            Tabstopping.config({}),\n            config('urlinput-events', flatten([\n              spec.filetype === 'file' ? [run$1(input(), function (comp) {\n                  emitWith(comp, formChangeEvent, { name: spec.name });\n                })] : [],\n              [\n                run$1(change(), function (comp) {\n                  emitWith(comp, formChangeEvent, { name: spec.name });\n                  updateHistory(comp);\n                }),\n                run$1(postPaste(), function (comp) {\n                  emitWith(comp, formChangeEvent, { name: spec.name });\n                  updateHistory(comp);\n                })\n              ]\n            ]))\n          ]\n        ])),\n        eventOrder: (_a = {}, _a[input()] = [\n          'streaming',\n          'urlinput-events',\n          'invalidating'\n        ], _a),\n        model: {\n          getDisplayText: function (itemData) {\n            return itemData.value;\n          },\n          selectsOver: false,\n          populateFromBrowse: false\n        },\n        markers: { openClass: 'tox-textfield--popup-open' },\n        lazySink: backstage.shared.getSink,\n        parts: { menu: part(false, 1, 'normal') },\n        onExecute: function (_menu, component, _entry) {\n          emitWith(component, formSubmitEvent, {});\n        },\n        onItemExecute: function (typeahead, _sandbox, _item, _value) {\n          updateHistory(typeahead);\n          emitWith(typeahead, formChangeEvent, { name: spec.name });\n        }\n      });\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var makeIcon = function (name, errId, icon, label) {\n        if (icon === void 0) {\n          icon = name;\n        }\n        if (label === void 0) {\n          label = name;\n        }\n        return render$3(icon, {\n          tag: 'div',\n          classes: [\n            'tox-icon',\n            'tox-control-wrap__status-icon-' + name\n          ],\n          attributes: __assign({\n            'title': providersBackstage.translate(label),\n            'aria-live': 'polite'\n          }, errId.fold(function () {\n            return {};\n          }, function (id) {\n            return { id: id };\n          }))\n        }, providersBackstage.icons);\n      };\n      var memInvalidIcon = record(makeIcon('invalid', Optional.some(errorId), 'warning'));\n      var memStatus = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap__status-icon-wrap']\n        },\n        components: [memInvalidIcon.asSpec()]\n      });\n      var optUrlPicker = urlBackstage.getUrlPicker(spec.filetype);\n      var browseUrlEvent = generate$6('browser.url.event');\n      var memUrlBox = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap']\n        },\n        components: [\n          pField,\n          memStatus.asSpec()\n        ],\n        behaviours: derive$1([Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            }\n          })])\n      });\n      var memUrlPickerButton = record(renderButton({\n        name: spec.name,\n        icon: Optional.some('browse'),\n        text: spec.label.getOr(''),\n        disabled: spec.disabled,\n        primary: false,\n        borderless: true\n      }, function (component) {\n        return emit(component, browseUrlEvent);\n      }, providersBackstage, [], ['tox-browse-url']));\n      var controlHWrapper = function () {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__controls-h-stack']\n          },\n          components: flatten([\n            [memUrlBox.asSpec()],\n            optUrlPicker.map(function () {\n              return memUrlPickerButton.asSpec();\n            }).toArray()\n          ])\n        };\n      };\n      var openUrlPicker = function (comp) {\n        Composing.getCurrent(comp).each(function (field) {\n          var componentData = Representing.getValue(field);\n          var urlData = __assign({ fieldname: spec.name }, componentData);\n          optUrlPicker.each(function (picker) {\n            picker(urlData).get(function (chosenData) {\n              Representing.setValue(field, chosenData);\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            });\n          });\n        });\n      };\n      return FormField.sketch({\n        dom: renderFormFieldDom(),\n        components: pLabel.toArray().concat([controlHWrapper()]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            },\n            onDisabled: function (comp) {\n              FormField.getField(comp).each(Disabling.disable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormField.getField(comp).each(Disabling.enable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig(),\n          config('url-input-events', [run$1(browseUrlEvent, openUrlPicker)])\n        ])\n      });\n    };\n\n    var renderAlertBanner = function (spec, providersBackstage) {\n      return Container.sketch({\n        dom: {\n          tag: 'div',\n          attributes: { role: 'alert' },\n          classes: [\n            'tox-notification',\n            'tox-notification--in',\n            'tox-notification--' + spec.level\n          ]\n        },\n        components: [\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-notification__icon']\n            },\n            components: [Button.sketch({\n                dom: {\n                  tag: 'button',\n                  classes: [\n                    'tox-button',\n                    'tox-button--naked',\n                    'tox-button--icon'\n                  ],\n                  innerHtml: get$1(spec.icon, providersBackstage.icons),\n                  attributes: { title: providersBackstage.translate(spec.iconTooltip) }\n                },\n                action: function (comp) {\n                  emitWith(comp, formActionEvent, {\n                    name: 'alert-banner',\n                    value: spec.url\n                  });\n                },\n                buttonBehaviours: derive$1([addFocusableBehaviour()])\n              })]\n          },\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-notification__body'],\n              innerHtml: providersBackstage.translate(spec.text)\n            }\n          }\n        ]\n      });\n    };\n\n    var renderCheckbox = function (spec, providerBackstage) {\n      var repBehaviour = Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: function (comp) {\n            var el = comp.element.dom;\n            return el.checked;\n          },\n          setValue: function (comp, value) {\n            var el = comp.element.dom;\n            el.checked = value;\n          }\n        }\n      });\n      var toggleCheckboxHandler = function (comp) {\n        comp.element.dom.click();\n        return Optional.some(true);\n      };\n      var pField = FormField.parts.field({\n        factory: { sketch: identity$1 },\n        dom: {\n          tag: 'input',\n          classes: ['tox-checkbox__input'],\n          attributes: { type: 'checkbox' }\n        },\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providerBackstage.isDisabled();\n            }\n          }),\n          Tabstopping.config({}),\n          Focusing.config({}),\n          repBehaviour,\n          Keying.config({\n            mode: 'special',\n            onEnter: toggleCheckboxHandler,\n            onSpace: toggleCheckboxHandler,\n            stopSpaceKeyup: true\n          }),\n          config('checkbox-events', [run$1(change(), function (component, _) {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      var pLabel = FormField.parts.label({\n        dom: {\n          tag: 'span',\n          classes: ['tox-checkbox__label'],\n          innerHtml: providerBackstage.translate(spec.label)\n        },\n        behaviours: derive$1([Unselecting.config({})])\n      });\n      var makeIcon = function (className) {\n        var iconName = className === 'checked' ? 'selected' : 'unselected';\n        return render$3(iconName, {\n          tag: 'span',\n          classes: [\n            'tox-icon',\n            'tox-checkbox-icon__' + className\n          ]\n        }, providerBackstage.icons);\n      };\n      var memIcons = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-checkbox__icons']\n        },\n        components: [\n          makeIcon('checked'),\n          makeIcon('unchecked')\n        ]\n      });\n      return FormField.sketch({\n        dom: {\n          tag: 'label',\n          classes: ['tox-checkbox']\n        },\n        components: [\n          pField,\n          memIcons.asSpec(),\n          pLabel\n        ],\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providerBackstage.isDisabled();\n            },\n            disableClass: 'tox-checkbox--disabled',\n            onDisabled: function (comp) {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig()\n        ])\n      });\n    };\n\n    var renderHtmlPanel = function (spec) {\n      if (spec.presets === 'presentation') {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html\n          }\n        });\n      } else {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html,\n            attributes: { role: 'document' }\n          },\n          containerBehaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({})\n          ])\n        });\n      }\n    };\n\n    var make$2 = function (render) {\n      return function (parts, spec, backstage) {\n        return get$e(spec, 'name').fold(function () {\n          return render(spec, backstage);\n        }, function (fieldName) {\n          return parts.field(fieldName, render(spec, backstage));\n        });\n      };\n    };\n    var makeIframe = function (render) {\n      return function (parts, spec, backstage) {\n        var iframeSpec = deepMerge(spec, { source: 'dynamic' });\n        return make$2(render)(parts, iframeSpec, backstage);\n      };\n    };\n    var factories = {\n      bar: make$2(function (spec, backstage) {\n        return renderBar(spec, backstage.shared);\n      }),\n      collection: make$2(function (spec, backstage) {\n        return renderCollection(spec, backstage.shared.providers);\n      }),\n      alertbanner: make$2(function (spec, backstage) {\n        return renderAlertBanner(spec, backstage.shared.providers);\n      }),\n      input: make$2(function (spec, backstage) {\n        return renderInput(spec, backstage.shared.providers);\n      }),\n      textarea: make$2(function (spec, backstage) {\n        return renderTextarea(spec, backstage.shared.providers);\n      }),\n      label: make$2(function (spec, backstage) {\n        return renderLabel(spec, backstage.shared);\n      }),\n      iframe: makeIframe(function (spec, backstage) {\n        return renderIFrame(spec, backstage.shared.providers);\n      }),\n      button: make$2(function (spec, backstage) {\n        return renderDialogButton(spec, backstage.shared.providers);\n      }),\n      checkbox: make$2(function (spec, backstage) {\n        return renderCheckbox(spec, backstage.shared.providers);\n      }),\n      colorinput: make$2(function (spec, backstage) {\n        return renderColorInput(spec, backstage.shared, backstage.colorinput);\n      }),\n      colorpicker: make$2(renderColorPicker),\n      dropzone: make$2(function (spec, backstage) {\n        return renderDropZone(spec, backstage.shared.providers);\n      }),\n      grid: make$2(function (spec, backstage) {\n        return renderGrid(spec, backstage.shared);\n      }),\n      listbox: make$2(function (spec, backstage) {\n        return renderListBox(spec, backstage);\n      }),\n      selectbox: make$2(function (spec, backstage) {\n        return renderSelectBox(spec, backstage.shared.providers);\n      }),\n      sizeinput: make$2(function (spec, backstage) {\n        return renderSizeInput(spec, backstage.shared.providers);\n      }),\n      urlinput: make$2(function (spec, backstage) {\n        return renderUrlInput(spec, backstage, backstage.urlinput);\n      }),\n      customeditor: make$2(renderCustomEditor),\n      htmlpanel: make$2(renderHtmlPanel),\n      imagetools: make$2(function (spec, backstage) {\n        return renderImageTools(spec, backstage.shared.providers);\n      }),\n      table: make$2(function (spec, backstage) {\n        return renderTable(spec, backstage.shared.providers);\n      }),\n      panel: make$2(function (spec, backstage) {\n        return renderPanel(spec, backstage);\n      })\n    };\n    var noFormParts = {\n      field: function (_name, spec) {\n        return spec;\n      }\n    };\n    var interpretInForm = function (parts, spec, oldBackstage) {\n      var newBackstage = deepMerge(oldBackstage, {\n        shared: {\n          interpreter: function (childSpec) {\n            return interpretParts(parts, childSpec, newBackstage);\n          }\n        }\n      });\n      return interpretParts(parts, spec, newBackstage);\n    };\n    var interpretParts = function (parts, spec, backstage) {\n      return get$e(factories, spec.type).fold(function () {\n        console.error('Unknown factory type \"' + spec.type + '\", defaulting to container: ', spec);\n        return spec;\n      }, function (factory) {\n        return factory(parts, spec, backstage);\n      });\n    };\n    var interpretWithoutForm = function (spec, backstage) {\n      var parts = noFormParts;\n      return interpretParts(parts, spec, backstage);\n    };\n\n    var bubbleAlignments$2 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: [],\n      alignRight: [],\n      right: [],\n      left: [],\n      bottom: [],\n      top: []\n    };\n    var getInlineDialogAnchor = function (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) {\n      var bubbleSize = 12;\n      var overrides = { maxHeightFunction: expandable$1() };\n      var editableAreaAnchor = function () {\n        return {\n          type: 'node',\n          root: getContentContainer(contentAreaElement()),\n          node: Optional.from(contentAreaElement()),\n          bubble: nu$5(bubbleSize, bubbleSize, bubbleAlignments$2),\n          layouts: {\n            onRtl: function () {\n              return [northeast];\n            },\n            onLtr: function () {\n              return [northwest];\n            }\n          },\n          overrides: overrides\n        };\n      };\n      var standardAnchor = function () {\n        return {\n          type: 'hotspot',\n          hotspot: lazyAnchorbar(),\n          bubble: nu$5(-bubbleSize, bubbleSize, bubbleAlignments$2),\n          layouts: {\n            onRtl: function () {\n              return [southeast$2];\n            },\n            onLtr: function () {\n              return [southwest$2];\n            }\n          },\n          overrides: overrides\n        };\n      };\n      return function () {\n        return lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n      };\n    };\n    var getBannerAnchor = function (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) {\n      var editableAreaAnchor = function () {\n        return {\n          type: 'node',\n          root: getContentContainer(contentAreaElement()),\n          node: Optional.from(contentAreaElement()),\n          layouts: {\n            onRtl: function () {\n              return [north];\n            },\n            onLtr: function () {\n              return [north];\n            }\n          }\n        };\n      };\n      var standardAnchor = function () {\n        return {\n          type: 'hotspot',\n          hotspot: lazyAnchorbar(),\n          layouts: {\n            onRtl: function () {\n              return [south$2];\n            },\n            onLtr: function () {\n              return [south$2];\n            }\n          }\n        };\n      };\n      return function () {\n        return lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n      };\n    };\n    var getCursorAnchor = function (editor, bodyElement) {\n      return function () {\n        return {\n          type: 'selection',\n          root: bodyElement(),\n          getSelection: function () {\n            var rng = editor.selection.getRng();\n            return Optional.some(SimSelection.range(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset));\n          }\n        };\n      };\n    };\n    var getNodeAnchor$1 = function (bodyElement) {\n      return function (element) {\n        return {\n          type: 'node',\n          root: bodyElement(),\n          node: element\n        };\n      };\n    };\n    var getAnchors = function (editor, lazyAnchorbar, isToolbarTop) {\n      var useFixedToolbarContainer = useFixedContainer(editor);\n      var bodyElement = function () {\n        return SugarElement.fromDom(editor.getBody());\n      };\n      var contentAreaElement = function () {\n        return SugarElement.fromDom(editor.getContentAreaContainer());\n      };\n      var lazyUseEditableAreaAnchor = function () {\n        return useFixedToolbarContainer || !isToolbarTop();\n      };\n      return {\n        inlineDialog: getInlineDialogAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        banner: getBannerAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        cursor: getCursorAnchor(editor, bodyElement),\n        node: getNodeAnchor$1(bodyElement)\n      };\n    };\n\n    var colorPicker = function (editor) {\n      return function (callback, value) {\n        var dialog = colorPickerDialog(editor);\n        dialog(callback, value);\n      };\n    };\n    var hasCustomColors = function (editor) {\n      return function () {\n        return hasCustomColors$1(editor);\n      };\n    };\n    var getColors = function (editor) {\n      return function () {\n        return getColors$2(editor);\n      };\n    };\n    var getColorCols = function (editor) {\n      return function () {\n        return getColorCols$1(editor);\n      };\n    };\n    var ColorInputBackstage = function (editor) {\n      return {\n        colorPicker: colorPicker(editor),\n        hasCustomColors: hasCustomColors(editor),\n        getColors: getColors(editor),\n        getColorCols: getColorCols(editor)\n      };\n    };\n\n    var isDraggableModal = function (editor) {\n      return function () {\n        return isDraggableModal$1(editor);\n      };\n    };\n    var DialogBackstage = function (editor) {\n      return { isDraggableModal: isDraggableModal(editor) };\n    };\n\n    var HeaderBackstage = function (editor) {\n      var mode = Cell(isToolbarLocationBottom(editor) ? 'bottom' : 'top');\n      return {\n        isPositionedAtTop: function () {\n          return mode.get() === 'top';\n        },\n        getDockingMode: mode.get,\n        setDockingMode: mode.set\n      };\n    };\n\n    var defaultStyleFormats = [\n      {\n        title: 'Headings',\n        items: [\n          {\n            title: 'Heading 1',\n            format: 'h1'\n          },\n          {\n            title: 'Heading 2',\n            format: 'h2'\n          },\n          {\n            title: 'Heading 3',\n            format: 'h3'\n          },\n          {\n            title: 'Heading 4',\n            format: 'h4'\n          },\n          {\n            title: 'Heading 5',\n            format: 'h5'\n          },\n          {\n            title: 'Heading 6',\n            format: 'h6'\n          }\n        ]\n      },\n      {\n        title: 'Inline',\n        items: [\n          {\n            title: 'Bold',\n            format: 'bold'\n          },\n          {\n            title: 'Italic',\n            format: 'italic'\n          },\n          {\n            title: 'Underline',\n            format: 'underline'\n          },\n          {\n            title: 'Strikethrough',\n            format: 'strikethrough'\n          },\n          {\n            title: 'Superscript',\n            format: 'superscript'\n          },\n          {\n            title: 'Subscript',\n            format: 'subscript'\n          },\n          {\n            title: 'Code',\n            format: 'code'\n          }\n        ]\n      },\n      {\n        title: 'Blocks',\n        items: [\n          {\n            title: 'Paragraph',\n            format: 'p'\n          },\n          {\n            title: 'Blockquote',\n            format: 'blockquote'\n          },\n          {\n            title: 'Div',\n            format: 'div'\n          },\n          {\n            title: 'Pre',\n            format: 'pre'\n          }\n        ]\n      },\n      {\n        title: 'Align',\n        items: [\n          {\n            title: 'Left',\n            format: 'alignleft'\n          },\n          {\n            title: 'Center',\n            format: 'aligncenter'\n          },\n          {\n            title: 'Right',\n            format: 'alignright'\n          },\n          {\n            title: 'Justify',\n            format: 'alignjustify'\n          }\n        ]\n      }\n    ];\n    var isNestedFormat = function (format) {\n      return has$2(format, 'items');\n    };\n    var isBlockFormat = function (format) {\n      return has$2(format, 'block');\n    };\n    var isInlineFormat = function (format) {\n      return has$2(format, 'inline');\n    };\n    var isSelectorFormat = function (format) {\n      return has$2(format, 'selector');\n    };\n    var mapFormats = function (userFormats) {\n      return foldl(userFormats, function (acc, fmt) {\n        if (isNestedFormat(fmt)) {\n          var result = mapFormats(fmt.items);\n          return {\n            customFormats: acc.customFormats.concat(result.customFormats),\n            formats: acc.formats.concat([{\n                title: fmt.title,\n                items: result.formats\n              }])\n          };\n        } else if (isInlineFormat(fmt) || isBlockFormat(fmt) || isSelectorFormat(fmt)) {\n          var formatName = isString(fmt.name) ? fmt.name : fmt.title.toLowerCase();\n          var formatNameWithPrefix = 'custom-' + formatName;\n          return {\n            customFormats: acc.customFormats.concat([{\n                name: formatNameWithPrefix,\n                format: fmt\n              }]),\n            formats: acc.formats.concat([{\n                title: fmt.title,\n                format: formatNameWithPrefix,\n                icon: fmt.icon\n              }])\n          };\n        } else {\n          return __assign(__assign({}, acc), { formats: acc.formats.concat(fmt) });\n        }\n      }, {\n        customFormats: [],\n        formats: []\n      });\n    };\n    var registerCustomFormats = function (editor, userFormats) {\n      var result = mapFormats(userFormats);\n      var registerFormats = function (customFormats) {\n        each$1(customFormats, function (fmt) {\n          if (!editor.formatter.has(fmt.name)) {\n            editor.formatter.register(fmt.name, fmt.format);\n          }\n        });\n      };\n      if (editor.formatter) {\n        registerFormats(result.customFormats);\n      } else {\n        editor.on('init', function () {\n          registerFormats(result.customFormats);\n        });\n      }\n      return result.formats;\n    };\n    var getStyleFormats = function (editor) {\n      return getUserStyleFormats(editor).map(function (userFormats) {\n        var registeredUserFormats = registerCustomFormats(editor, userFormats);\n        return isMergeStyleFormats(editor) ? defaultStyleFormats.concat(registeredUserFormats) : registeredUserFormats;\n      }).getOr(defaultStyleFormats);\n    };\n\n    var processBasic = function (item, isSelectedFor, getPreviewFor) {\n      var formatterSpec = {\n        type: 'formatter',\n        isSelected: isSelectedFor(item.format),\n        getStylePreview: getPreviewFor(item.format)\n      };\n      return deepMerge(item, formatterSpec);\n    };\n    var register$8 = function (editor, formats, isSelectedFor, getPreviewFor) {\n      var enrichSupported = function (item) {\n        return processBasic(item, isSelectedFor, getPreviewFor);\n      };\n      var enrichMenu = function (item) {\n        var submenuSpec = { type: 'submenu' };\n        return deepMerge(item, submenuSpec);\n      };\n      var enrichCustom = function (item) {\n        var formatName = isString(item.name) ? item.name : generate$6(item.title);\n        var formatNameWithPrefix = 'custom-' + formatName;\n        var customSpec = {\n          type: 'formatter',\n          format: formatNameWithPrefix,\n          isSelected: isSelectedFor(formatNameWithPrefix),\n          getStylePreview: getPreviewFor(formatNameWithPrefix)\n        };\n        var newItem = deepMerge(item, customSpec);\n        editor.formatter.register(formatName, newItem);\n        return newItem;\n      };\n      var doEnrich = function (items) {\n        return map$2(items, function (item) {\n          var keys$1 = keys(item);\n          if (hasNonNullableKey(item, 'items')) {\n            var newItems = doEnrich(item.items);\n            return deepMerge(enrichMenu(item), { getStyleItems: constant$1(newItems) });\n          } else if (hasNonNullableKey(item, 'format')) {\n            return enrichSupported(item);\n          } else if (keys$1.length === 1 && contains$2(keys$1, 'title')) {\n            return deepMerge(item, { type: 'separator' });\n          } else {\n            return enrichCustom(item);\n          }\n        });\n      };\n      return doEnrich(formats);\n    };\n\n    var init$8 = function (editor) {\n      var isSelectedFor = function (format) {\n        return function () {\n          return editor.formatter.match(format);\n        };\n      };\n      var getPreviewFor = function (format) {\n        return function () {\n          var fmt = editor.formatter.get(format);\n          return fmt !== undefined ? Optional.some({\n            tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n            styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n          }) : Optional.none();\n        };\n      };\n      var flatten = function (fmt) {\n        var subs = fmt.items;\n        return subs !== undefined && subs.length > 0 ? bind$3(subs, flatten) : [fmt.format];\n      };\n      var settingsFormats = Cell([]);\n      var settingsFlattenedFormats = Cell([]);\n      var eventsFormats = Cell([]);\n      var eventsFlattenedFormats = Cell([]);\n      var replaceSettings = Cell(false);\n      editor.on('PreInit', function (_e) {\n        var formats = getStyleFormats(editor);\n        var enriched = register$8(editor, formats, isSelectedFor, getPreviewFor);\n        settingsFormats.set(enriched);\n        settingsFlattenedFormats.set(bind$3(enriched, flatten));\n      });\n      editor.on('addStyleModifications', function (e) {\n        var modifications = register$8(editor, e.items, isSelectedFor, getPreviewFor);\n        eventsFormats.set(modifications);\n        replaceSettings.set(e.replace);\n        eventsFlattenedFormats.set(bind$3(modifications, flatten));\n      });\n      var getData = function () {\n        var fromSettings = replaceSettings.get() ? [] : settingsFormats.get();\n        var fromEvents = eventsFormats.get();\n        return fromSettings.concat(fromEvents);\n      };\n      var getFlattenedKeys = function () {\n        var fromSettings = replaceSettings.get() ? [] : settingsFlattenedFormats.get();\n        var fromEvents = eventsFlattenedFormats.get();\n        return fromSettings.concat(fromEvents);\n      };\n      return {\n        getData: getData,\n        getFlattenedKeys: getFlattenedKeys\n      };\n    };\n\n    var isElement = function (node) {\n      return isNonNullable(node) && node.nodeType === 1;\n    };\n    var trim = global$5.trim;\n    var hasContentEditableState = function (value) {\n      return function (node) {\n        if (isElement(node)) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    var isContentEditableTrue = hasContentEditableState('true');\n    var isContentEditableFalse = hasContentEditableState('false');\n    var create = function (type, title, url, level, attach) {\n      return {\n        type: type,\n        title: title,\n        url: url,\n        level: level,\n        attach: attach\n      };\n    };\n    var isChildOfContentEditableTrue = function (node) {\n      while (node = node.parentNode) {\n        var value = node.contentEditable;\n        if (value && value !== 'inherit') {\n          return isContentEditableTrue(node);\n        }\n      }\n      return false;\n    };\n    var select = function (selector, root) {\n      return map$2(descendants(SugarElement.fromDom(root), selector), function (element) {\n        return element.dom;\n      });\n    };\n    var getElementText = function (elm) {\n      return elm.innerText || elm.textContent;\n    };\n    var getOrGenerateId = function (elm) {\n      return elm.id ? elm.id : generate$6('h');\n    };\n    var isAnchor = function (elm) {\n      return elm && elm.nodeName === 'A' && (elm.id || elm.name) !== undefined;\n    };\n    var isValidAnchor = function (elm) {\n      return isAnchor(elm) && isEditable(elm);\n    };\n    var isHeader = function (elm) {\n      return elm && /^(H[1-6])$/.test(elm.nodeName);\n    };\n    var isEditable = function (elm) {\n      return isChildOfContentEditableTrue(elm) && !isContentEditableFalse(elm);\n    };\n    var isValidHeader = function (elm) {\n      return isHeader(elm) && isEditable(elm);\n    };\n    var getLevel = function (elm) {\n      return isHeader(elm) ? parseInt(elm.nodeName.substr(1), 10) : 0;\n    };\n    var headerTarget = function (elm) {\n      var headerId = getOrGenerateId(elm);\n      var attach = function () {\n        elm.id = headerId;\n      };\n      return create('header', getElementText(elm), '#' + headerId, getLevel(elm), attach);\n    };\n    var anchorTarget = function (elm) {\n      var anchorId = elm.id || elm.name;\n      var anchorText = getElementText(elm);\n      return create('anchor', anchorText ? anchorText : '#' + anchorId, '#' + anchorId, 0, noop);\n    };\n    var getHeaderTargets = function (elms) {\n      return map$2(filter$2(elms, isValidHeader), headerTarget);\n    };\n    var getAnchorTargets = function (elms) {\n      return map$2(filter$2(elms, isValidAnchor), anchorTarget);\n    };\n    var getTargetElements = function (elm) {\n      var elms = select('h1,h2,h3,h4,h5,h6,a:not([href])', elm);\n      return elms;\n    };\n    var hasTitle = function (target) {\n      return trim(target.title).length > 0;\n    };\n    var find = function (elm) {\n      var elms = getTargetElements(elm);\n      return filter$2(getHeaderTargets(elms).concat(getAnchorTargets(elms)), hasTitle);\n    };\n    var LinkTargets = { find: find };\n\n    var STORAGE_KEY = 'tinymce-url-history';\n    var HISTORY_LENGTH = 5;\n    var isHttpUrl = function (url) {\n      return isString(url) && /^https?/.test(url);\n    };\n    var isArrayOfUrl = function (a) {\n      return isArray(a) && a.length <= HISTORY_LENGTH && forall(a, isHttpUrl);\n    };\n    var isRecordOfUrlArray = function (r) {\n      return isObject(r) && find$4(r, function (value) {\n        return !isArrayOfUrl(value);\n      }).isNone();\n    };\n    var getAllHistory = function () {\n      var unparsedHistory = global$8.getItem(STORAGE_KEY);\n      if (unparsedHistory === null) {\n        return {};\n      }\n      var history;\n      try {\n        history = JSON.parse(unparsedHistory);\n      } catch (e) {\n        if (e instanceof SyntaxError) {\n          console.log('Local storage ' + STORAGE_KEY + ' was not valid JSON', e);\n          return {};\n        }\n        throw e;\n      }\n      if (!isRecordOfUrlArray(history)) {\n        console.log('Local storage ' + STORAGE_KEY + ' was not valid format', history);\n        return {};\n      }\n      return history;\n    };\n    var setAllHistory = function (history) {\n      if (!isRecordOfUrlArray(history)) {\n        throw new Error('Bad format for history:\\n' + JSON.stringify(history));\n      }\n      global$8.setItem(STORAGE_KEY, JSON.stringify(history));\n    };\n    var getHistory = function (fileType) {\n      var history = getAllHistory();\n      return get$e(history, fileType).getOr([]);\n    };\n    var addToHistory = function (url, fileType) {\n      if (!isHttpUrl(url)) {\n        return;\n      }\n      var history = getAllHistory();\n      var items = get$e(history, fileType).getOr([]);\n      var itemsWithoutUrl = filter$2(items, function (item) {\n        return item !== url;\n      });\n      history[fileType] = [url].concat(itemsWithoutUrl).slice(0, HISTORY_LENGTH);\n      setAllHistory(history);\n    };\n\n    var isTruthy = function (value) {\n      return !!value;\n    };\n    var makeMap = function (value) {\n      return map$1(global$5.makeMap(value, /[, ]/), isTruthy);\n    };\n    var getPicker = function (editor) {\n      return Optional.from(getFilePickerCallback(editor)).filter(isFunction);\n    };\n    var getPickerTypes = function (editor) {\n      var optFileTypes = Optional.some(getFilePickerTypes(editor)).filter(isTruthy);\n      var optLegacyTypes = Optional.some(getFileBrowserCallbackTypes(editor)).filter(isTruthy);\n      var optTypes = optFileTypes.or(optLegacyTypes).map(makeMap);\n      return getPicker(editor).fold(never, function (_picker) {\n        return optTypes.fold(always, function (types) {\n          return keys(types).length > 0 ? types : false;\n        });\n      });\n    };\n    var getPickerSetting = function (editor, filetype) {\n      var pickerTypes = getPickerTypes(editor);\n      if (isBoolean(pickerTypes)) {\n        return pickerTypes ? getPicker(editor) : Optional.none();\n      } else {\n        return pickerTypes[filetype] ? getPicker(editor) : Optional.none();\n      }\n    };\n    var getUrlPicker = function (editor, filetype) {\n      return getPickerSetting(editor, filetype).map(function (picker) {\n        return function (entry) {\n          return Future.nu(function (completer) {\n            var handler = function (value, meta) {\n              if (!isString(value)) {\n                throw new Error('Expected value to be string');\n              }\n              if (meta !== undefined && !isObject(meta)) {\n                throw new Error('Expected meta to be a object');\n              }\n              var r = {\n                value: value,\n                meta: meta\n              };\n              completer(r);\n            };\n            var meta = __assign({\n              filetype: filetype,\n              fieldname: entry.fieldname\n            }, Optional.from(entry.meta).getOr({}));\n            picker.call(editor, handler, entry.value, meta);\n          });\n        };\n      });\n    };\n    var getTextSetting = function (value) {\n      return Optional.from(value).filter(isString).getOrUndefined();\n    };\n    var getLinkInformation = function (editor) {\n      if (noTypeaheadUrls(editor)) {\n        return Optional.none();\n      }\n      return Optional.some({\n        targets: LinkTargets.find(editor.getBody()),\n        anchorTop: getTextSetting(getAnchorTop(editor)),\n        anchorBottom: getTextSetting(getAnchorBottom(editor))\n      });\n    };\n    var getValidationHandler = function (editor) {\n      return Optional.from(getFilePickerValidatorHandler(editor));\n    };\n    var UrlInputBackstage = function (editor) {\n      return {\n        getHistory: getHistory,\n        addToHistory: addToHistory,\n        getLinkInformation: function () {\n          return getLinkInformation(editor);\n        },\n        getValidationHandler: function () {\n          return getValidationHandler(editor);\n        },\n        getUrlPicker: function (filetype) {\n          return getUrlPicker(editor, filetype);\n        }\n      };\n    };\n\n    var init$7 = function (sink, editor, lazyAnchorbar) {\n      var contextMenuState = Cell(false);\n      var toolbar = HeaderBackstage(editor);\n      var backstage = {\n        shared: {\n          providers: {\n            icons: function () {\n              return editor.ui.registry.getAll().icons;\n            },\n            menuItems: function () {\n              return editor.ui.registry.getAll().menuItems;\n            },\n            translate: global$e.translate,\n            isDisabled: function () {\n              return editor.mode.isReadOnly() || editor.ui.isDisabled();\n            },\n            getSetting: editor.getParam.bind(editor)\n          },\n          interpreter: function (s) {\n            return interpretWithoutForm(s, backstage);\n          },\n          anchors: getAnchors(editor, lazyAnchorbar, toolbar.isPositionedAtTop),\n          header: toolbar,\n          getSink: function () {\n            return Result.value(sink);\n          }\n        },\n        urlinput: UrlInputBackstage(editor),\n        styleselect: init$8(editor),\n        colorinput: ColorInputBackstage(editor),\n        dialog: DialogBackstage(editor),\n        isContextMenuOpen: function () {\n          return contextMenuState.get();\n        },\n        setContextMenuState: function (state) {\n          return contextMenuState.set(state);\n        }\n      };\n      return backstage;\n    };\n\n    var setup$b = function (editor, mothership, uiMothership) {\n      var broadcastEvent = function (name, evt) {\n        each$1([\n          mothership,\n          uiMothership\n        ], function (ship) {\n          ship.broadcastEvent(name, evt);\n        });\n      };\n      var broadcastOn = function (channel, message) {\n        each$1([\n          mothership,\n          uiMothership\n        ], function (ship) {\n          ship.broadcastOn([channel], message);\n        });\n      };\n      var fireDismissPopups = function (evt) {\n        return broadcastOn(dismissPopups(), { target: evt.target });\n      };\n      var doc = getDocument();\n      var onTouchstart = bind(doc, 'touchstart', fireDismissPopups);\n      var onTouchmove = bind(doc, 'touchmove', function (evt) {\n        return broadcastEvent(documentTouchmove(), evt);\n      });\n      var onTouchend = bind(doc, 'touchend', function (evt) {\n        return broadcastEvent(documentTouchend(), evt);\n      });\n      var onMousedown = bind(doc, 'mousedown', fireDismissPopups);\n      var onMouseup = bind(doc, 'mouseup', function (evt) {\n        if (evt.raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: evt.target });\n        }\n      });\n      var onContentClick = function (raw) {\n        return broadcastOn(dismissPopups(), { target: SugarElement.fromDom(raw.target) });\n      };\n      var onContentMouseup = function (raw) {\n        if (raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: SugarElement.fromDom(raw.target) });\n        }\n      };\n      var onContentMousedown = function () {\n        each$1(editor.editorManager.get(), function (loopEditor) {\n          if (editor !== loopEditor) {\n            loopEditor.fire('DismissPopups', { relatedTarget: editor });\n          }\n        });\n      };\n      var onWindowScroll = function (evt) {\n        return broadcastEvent(windowScroll(), fromRawEvent(evt));\n      };\n      var onWindowResize = function (evt) {\n        broadcastOn(repositionPopups(), {});\n        broadcastEvent(windowResize(), fromRawEvent(evt));\n      };\n      var onEditorResize = function () {\n        return broadcastOn(repositionPopups(), {});\n      };\n      var onEditorProgress = function (evt) {\n        if (evt.state) {\n          broadcastOn(dismissPopups(), { target: SugarElement.fromDom(editor.getContainer()) });\n        }\n      };\n      var onDismissPopups = function (event) {\n        broadcastOn(dismissPopups(), { target: SugarElement.fromDom(event.relatedTarget.getContainer()) });\n      };\n      editor.on('PostRender', function () {\n        editor.on('click', onContentClick);\n        editor.on('tap', onContentClick);\n        editor.on('mouseup', onContentMouseup);\n        editor.on('mousedown', onContentMousedown);\n        editor.on('ScrollWindow', onWindowScroll);\n        editor.on('ResizeWindow', onWindowResize);\n        editor.on('ResizeEditor', onEditorResize);\n        editor.on('AfterProgressState', onEditorProgress);\n        editor.on('DismissPopups', onDismissPopups);\n      });\n      editor.on('remove', function () {\n        editor.off('click', onContentClick);\n        editor.off('tap', onContentClick);\n        editor.off('mouseup', onContentMouseup);\n        editor.off('mousedown', onContentMousedown);\n        editor.off('ScrollWindow', onWindowScroll);\n        editor.off('ResizeWindow', onWindowResize);\n        editor.off('ResizeEditor', onEditorResize);\n        editor.off('AfterProgressState', onEditorProgress);\n        editor.off('DismissPopups', onDismissPopups);\n        onMousedown.unbind();\n        onTouchstart.unbind();\n        onTouchmove.unbind();\n        onTouchend.unbind();\n        onMouseup.unbind();\n      });\n      editor.on('detach', function () {\n        detachSystem(mothership);\n        detachSystem(uiMothership);\n        mothership.destroy();\n        uiMothership.destroy();\n      });\n    };\n\n    var parts$a = AlloyParts;\n    var partType = PartType;\n\n    var schema$f = constant$1([\n      defaulted('shell', false),\n      required$1('makeItem'),\n      defaulted('setupItem', noop),\n      SketchBehaviours.field('listBehaviours', [Replacing])\n    ]);\n    var customListDetail = function () {\n      return { behaviours: derive$1([Replacing.config({})]) };\n    };\n    var itemsPart = optional({\n      name: 'items',\n      overrides: customListDetail\n    });\n    var parts$9 = constant$1([itemsPart]);\n    var name = constant$1('CustomList');\n\n    var factory$d = function (detail, components, _spec, _external) {\n      var setItems = function (list, items) {\n        getListContainer(list).fold(function () {\n          console.error('Custom List was defined to not be a shell, but no item container was specified in components');\n          throw new Error('Custom List was defined to not be a shell, but no item container was specified in components');\n        }, function (container) {\n          var itemComps = Replacing.contents(container);\n          var numListsRequired = items.length;\n          var numListsToAdd = numListsRequired - itemComps.length;\n          var itemsToAdd = numListsToAdd > 0 ? range$2(numListsToAdd, function () {\n            return detail.makeItem();\n          }) : [];\n          var itemsToRemove = itemComps.slice(numListsRequired);\n          each$1(itemsToRemove, function (item) {\n            return Replacing.remove(container, item);\n          });\n          each$1(itemsToAdd, function (item) {\n            return Replacing.append(container, item);\n          });\n          var builtLists = Replacing.contents(container);\n          each$1(builtLists, function (item, i) {\n            detail.setupItem(list, item, items[i], i);\n          });\n        });\n      };\n      var extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components: components\n      };\n      var getListContainer = function (component) {\n        return detail.shell ? Optional.some(component) : getPart(component, detail, 'items');\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.listBehaviours, extra.behaviours),\n        apis: { setItems: setItems }\n      };\n    };\n    var CustomList = composite({\n      name: name(),\n      configFields: schema$f(),\n      partFields: parts$9(),\n      factory: factory$d,\n      apis: {\n        setItems: function (apis, list, items) {\n          apis.setItems(list, items);\n        }\n      }\n    });\n\n    var schema$e = constant$1([\n      required$1('dom'),\n      defaulted('shell', true),\n      field('toolbarBehaviours', [Replacing])\n    ]);\n    var enhanceGroups = function () {\n      return { behaviours: derive$1([Replacing.config({})]) };\n    };\n    var parts$8 = constant$1([optional({\n        name: 'groups',\n        overrides: enhanceGroups\n      })]);\n\n    var factory$c = function (detail, components, _spec, _externals) {\n      var setGroups = function (toolbar, groups) {\n        getGroupContainer(toolbar).fold(function () {\n          console.error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n          throw new Error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n        }, function (container) {\n          Replacing.set(container, groups);\n        });\n      };\n      var getGroupContainer = function (component) {\n        return detail.shell ? Optional.some(component) : getPart(component, detail, 'groups');\n      };\n      var extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components: components\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.toolbarBehaviours, extra.behaviours),\n        apis: { setGroups: setGroups },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    var Toolbar = composite({\n      name: 'Toolbar',\n      configFields: schema$e(),\n      partFields: parts$8(),\n      factory: factory$c,\n      apis: {\n        setGroups: function (apis, toolbar, groups) {\n          apis.setGroups(toolbar, groups);\n        }\n      }\n    });\n\n    var setup$a = noop;\n    var isDocked$2 = never;\n    var getBehaviours$1 = constant$1([]);\n\n    var StaticHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$a,\n        isDocked: isDocked$2,\n        getBehaviours: getBehaviours$1\n    });\n\n    var getOffsetParent = function (element) {\n      var isFixed = is$1(getRaw(element, 'position'), 'fixed');\n      var offsetParent$1 = isFixed ? Optional.none() : offsetParent(element);\n      return offsetParent$1.orThunk(function () {\n        var marker = SugarElement.fromTag('span');\n        return parent(element).bind(function (parent) {\n          append$2(parent, marker);\n          var offsetParent$1 = offsetParent(marker);\n          remove$5(marker);\n          return offsetParent$1;\n        });\n      });\n    };\n    var getOrigin = function (element) {\n      return getOffsetParent(element).map(absolute$3).getOrThunk(function () {\n        return SugarPosition(0, 0);\n      });\n    };\n\n    var morphAdt = Adt.generate([\n      { static: [] },\n      { absolute: ['positionCss'] },\n      { fixed: ['positionCss'] }\n    ]);\n    var appear = function (component, contextualInfo) {\n      var elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$2(elem, contextualInfo.fadeOutClass);\n      add$2(elem, contextualInfo.fadeInClass);\n      contextualInfo.onShow(component);\n    };\n    var disappear = function (component, contextualInfo) {\n      var elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$2(elem, contextualInfo.fadeInClass);\n      add$2(elem, contextualInfo.fadeOutClass);\n      contextualInfo.onHide(component);\n    };\n    var isPartiallyVisible = function (box, viewport) {\n      return box.y < viewport.bottom && box.bottom > viewport.y;\n    };\n    var isTopCompletelyVisible = function (box, viewport) {\n      return box.y >= viewport.y;\n    };\n    var isBottomCompletelyVisible = function (box, viewport) {\n      return box.bottom <= viewport.bottom;\n    };\n    var isVisibleForModes = function (modes, box, viewport) {\n      return forall(modes, function (mode) {\n        switch (mode) {\n        case 'bottom':\n          return isBottomCompletelyVisible(box, viewport);\n        case 'top':\n          return isTopCompletelyVisible(box, viewport);\n        }\n      });\n    };\n    var getPrior = function (elem, state) {\n      return state.getInitialPos().map(function (pos) {\n        return bounds(pos.bounds.x, pos.bounds.y, get$a(elem), get$b(elem));\n      });\n    };\n    var storePrior = function (elem, box, state) {\n      state.setInitialPos({\n        style: getAllRaw(elem),\n        position: get$c(elem, 'position') || 'static',\n        bounds: box\n      });\n    };\n    var revertToOriginal = function (elem, box, state) {\n      return state.getInitialPos().bind(function (position) {\n        state.clearInitialPos();\n        switch (position.position) {\n        case 'static':\n          return Optional.some(morphAdt.static());\n        case 'absolute':\n          var offsetBox_1 = getOffsetParent(elem).map(box$1).getOrThunk(function () {\n            return box$1(body());\n          });\n          return Optional.some(morphAdt.absolute(NuPositionCss('absolute', get$e(position.style, 'left').map(function (_left) {\n            return box.x - offsetBox_1.x;\n          }), get$e(position.style, 'top').map(function (_top) {\n            return box.y - offsetBox_1.y;\n          }), get$e(position.style, 'right').map(function (_right) {\n            return offsetBox_1.right - box.right;\n          }), get$e(position.style, 'bottom').map(function (_bottom) {\n            return offsetBox_1.bottom - box.bottom;\n          }))));\n        default:\n          return Optional.none();\n        }\n      });\n    };\n    var morphToOriginal = function (elem, viewport, state) {\n      return getPrior(elem, state).filter(function (box) {\n        return isVisibleForModes(state.getModes(), box, viewport);\n      }).bind(function (box) {\n        return revertToOriginal(elem, box, state);\n      });\n    };\n    var morphToFixed = function (elem, viewport, state) {\n      var box = box$1(elem);\n      if (!isVisibleForModes(state.getModes(), box, viewport)) {\n        storePrior(elem, box, state);\n        var winBox = win();\n        var left = box.x - winBox.x;\n        var top_1 = viewport.y - winBox.y;\n        var bottom = winBox.bottom - viewport.bottom;\n        var isTop = box.y <= viewport.y;\n        return Optional.some(morphAdt.fixed(NuPositionCss('fixed', Optional.some(left), isTop ? Optional.some(top_1) : Optional.none(), Optional.none(), !isTop ? Optional.some(bottom) : Optional.none())));\n      } else {\n        return Optional.none();\n      }\n    };\n    var getMorph = function (component, viewport, state) {\n      var elem = component.element;\n      var isDocked = is$1(getRaw(elem, 'position'), 'fixed');\n      return isDocked ? morphToOriginal(elem, viewport, state) : morphToFixed(elem, viewport, state);\n    };\n    var getMorphToOriginal = function (component, state) {\n      var elem = component.element;\n      return getPrior(elem, state).bind(function (box) {\n        return revertToOriginal(elem, box, state);\n      });\n    };\n\n    var morphToStatic = function (component, config, state) {\n      state.setDocked(false);\n      each$1([\n        'left',\n        'right',\n        'top',\n        'bottom',\n        'position'\n      ], function (prop) {\n        return remove$6(component.element, prop);\n      });\n      config.onUndocked(component);\n    };\n    var morphToCoord = function (component, config, state, position) {\n      var isDocked = position.position === 'fixed';\n      state.setDocked(isDocked);\n      applyPositionCss(component.element, position);\n      var method = isDocked ? config.onDocked : config.onUndocked;\n      method(component);\n    };\n    var updateVisibility = function (component, config, state, viewport, morphToDocked) {\n      if (morphToDocked === void 0) {\n        morphToDocked = false;\n      }\n      config.contextual.each(function (contextInfo) {\n        contextInfo.lazyContext(component).each(function (box) {\n          var isVisible = isPartiallyVisible(box, viewport);\n          if (isVisible !== state.isVisible()) {\n            state.setVisible(isVisible);\n            if (morphToDocked && !isVisible) {\n              add$1(component.element, [contextInfo.fadeOutClass]);\n              contextInfo.onHide(component);\n            } else {\n              var method = isVisible ? appear : disappear;\n              method(component, contextInfo);\n            }\n          }\n        });\n      });\n    };\n    var refreshInternal = function (component, config, state) {\n      var viewport = config.lazyViewport(component);\n      var isDocked = state.isDocked();\n      if (isDocked) {\n        updateVisibility(component, config, state, viewport);\n      }\n      getMorph(component, viewport, state).each(function (morph) {\n        morph.fold(function () {\n          return morphToStatic(component, config, state);\n        }, function (position) {\n          return morphToCoord(component, config, state, position);\n        }, function (position) {\n          updateVisibility(component, config, state, viewport, true);\n          morphToCoord(component, config, state, position);\n        });\n      });\n    };\n    var resetInternal = function (component, config, state) {\n      var elem = component.element;\n      state.setDocked(false);\n      getMorphToOriginal(component, state).each(function (morph) {\n        morph.fold(function () {\n          return morphToStatic(component, config, state);\n        }, function (position) {\n          return morphToCoord(component, config, state, position);\n        }, noop);\n      });\n      state.setVisible(true);\n      config.contextual.each(function (contextInfo) {\n        remove$1(elem, [\n          contextInfo.fadeInClass,\n          contextInfo.fadeOutClass,\n          contextInfo.transitionClass\n        ]);\n        contextInfo.onShow(component);\n      });\n      refresh$4(component, config, state);\n    };\n    var refresh$4 = function (component, config, state) {\n      if (component.getSystem().isConnected()) {\n        refreshInternal(component, config, state);\n      }\n    };\n    var reset = function (component, config, state) {\n      if (state.isDocked()) {\n        resetInternal(component, config, state);\n      }\n    };\n    var isDocked$1 = function (component, config, state) {\n      return state.isDocked();\n    };\n    var setModes = function (component, config, state, modes) {\n      return state.setModes(modes);\n    };\n    var getModes = function (component, config, state) {\n      return state.getModes();\n    };\n\n    var DockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$4,\n        reset: reset,\n        isDocked: isDocked$1,\n        getModes: getModes,\n        setModes: setModes\n    });\n\n    var events$5 = function (dockInfo, dockState) {\n      return derive$2([\n        runOnSource(transitionend(), function (component, simulatedEvent) {\n          dockInfo.contextual.each(function (contextInfo) {\n            if (has(component.element, contextInfo.transitionClass)) {\n              remove$1(component.element, [\n                contextInfo.transitionClass,\n                contextInfo.fadeInClass\n              ]);\n              var notify = dockState.isVisible() ? contextInfo.onShown : contextInfo.onHidden;\n              notify(component);\n            }\n            simulatedEvent.stop();\n          });\n        }),\n        run$1(windowScroll(), function (component, _) {\n          refresh$4(component, dockInfo, dockState);\n        }),\n        run$1(windowResize(), function (component, _) {\n          reset(component, dockInfo, dockState);\n        })\n      ]);\n    };\n\n    var ActiveDocking = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$5\n    });\n\n    var DockingSchema = [\n      optionObjOf('contextual', [\n        requiredString('fadeInClass'),\n        requiredString('fadeOutClass'),\n        requiredString('transitionClass'),\n        requiredFunction('lazyContext'),\n        onHandler('onShow'),\n        onHandler('onShown'),\n        onHandler('onHide'),\n        onHandler('onHidden')\n      ]),\n      defaultedFunction('lazyViewport', win),\n      defaultedArrayOf('modes', [\n        'top',\n        'bottom'\n      ], string),\n      onHandler('onDocked'),\n      onHandler('onUndocked')\n    ];\n\n    var init$6 = function (spec) {\n      var docked = Cell(false);\n      var visible = Cell(true);\n      var initialBounds = value$1();\n      var modes = Cell(spec.modes);\n      var readState = function () {\n        return 'docked:  ' + docked.get() + ', visible: ' + visible.get() + ', modes: ' + modes.get().join(',');\n      };\n      return nu$8({\n        isDocked: docked.get,\n        setDocked: docked.set,\n        getInitialPos: initialBounds.get,\n        setInitialPos: initialBounds.set,\n        clearInitialPos: initialBounds.clear,\n        isVisible: visible.get,\n        setVisible: visible.set,\n        getModes: modes.get,\n        setModes: modes.set,\n        readState: readState\n      });\n    };\n\n    var DockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$6\n    });\n\n    var Docking = create$7({\n      fields: DockingSchema,\n      name: 'docking',\n      active: ActiveDocking,\n      apis: DockingApis,\n      state: DockingState\n    });\n\n    var toolbarHeightChange = constant$1(generate$6('toolbar-height-change'));\n\n    var visibility = {\n      fadeInClass: 'tox-editor-dock-fadein',\n      fadeOutClass: 'tox-editor-dock-fadeout',\n      transitionClass: 'tox-editor-dock-transition'\n    };\n    var editorStickyOnClass = 'tox-tinymce--toolbar-sticky-on';\n    var editorStickyOffClass = 'tox-tinymce--toolbar-sticky-off';\n    var scrollFromBehindHeader = function (e, containerHeader) {\n      var doc = owner$4(containerHeader);\n      var viewHeight = doc.dom.defaultView.innerHeight;\n      var scrollPos = get$9(doc);\n      var markerElement = SugarElement.fromDom(e.elm);\n      var markerPos = absolute$2(markerElement);\n      var markerHeight = get$b(markerElement);\n      var markerTop = markerPos.y;\n      var markerBottom = markerTop + markerHeight;\n      var editorHeaderPos = absolute$3(containerHeader);\n      var editorHeaderHeight = get$b(containerHeader);\n      var editorHeaderTop = editorHeaderPos.top;\n      var editorHeaderBottom = editorHeaderTop + editorHeaderHeight;\n      var editorHeaderDockedAtTop = Math.abs(editorHeaderTop - scrollPos.top) < 2;\n      var editorHeaderDockedAtBottom = Math.abs(editorHeaderBottom - (scrollPos.top + viewHeight)) < 2;\n      if (editorHeaderDockedAtTop && markerTop < editorHeaderBottom) {\n        to(scrollPos.left, markerTop - editorHeaderHeight, doc);\n      } else if (editorHeaderDockedAtBottom && markerBottom > editorHeaderTop) {\n        var y = markerTop - viewHeight + markerHeight + editorHeaderHeight;\n        to(scrollPos.left, y, doc);\n      }\n    };\n    var isDockedMode = function (header, mode) {\n      return contains$2(Docking.getModes(header), mode);\n    };\n    var updateIframeContentFlow = function (header) {\n      var getOccupiedHeight = function (elm) {\n        return getOuter$2(elm) + (parseInt(get$c(elm, 'margin-top'), 10) || 0) + (parseInt(get$c(elm, 'margin-bottom'), 10) || 0);\n      };\n      var elm = header.element;\n      parent(elm).each(function (parentElem) {\n        var padding = 'padding-' + Docking.getModes(header)[0];\n        if (Docking.isDocked(header)) {\n          var parentWidth = get$a(parentElem);\n          set$7(elm, 'width', parentWidth + 'px');\n          set$7(parentElem, padding, getOccupiedHeight(elm) + 'px');\n        } else {\n          remove$6(elm, 'width');\n          remove$6(parentElem, padding);\n        }\n      });\n    };\n    var updateSinkVisibility = function (sinkElem, visible) {\n      if (visible) {\n        remove$2(sinkElem, visibility.fadeOutClass);\n        add$1(sinkElem, [\n          visibility.transitionClass,\n          visibility.fadeInClass\n        ]);\n      } else {\n        remove$2(sinkElem, visibility.fadeInClass);\n        add$1(sinkElem, [\n          visibility.fadeOutClass,\n          visibility.transitionClass\n        ]);\n      }\n    };\n    var updateEditorClasses = function (editor, docked) {\n      var editorContainer = SugarElement.fromDom(editor.getContainer());\n      if (docked) {\n        add$2(editorContainer, editorStickyOnClass);\n        remove$2(editorContainer, editorStickyOffClass);\n      } else {\n        add$2(editorContainer, editorStickyOffClass);\n        remove$2(editorContainer, editorStickyOnClass);\n      }\n    };\n    var restoreFocus = function (headerElem, focusedElem) {\n      var ownerDoc = owner$4(focusedElem);\n      active(ownerDoc).filter(function (activeElm) {\n        return !eq(focusedElem, activeElm);\n      }).filter(function (activeElm) {\n        return eq(activeElm, SugarElement.fromDom(ownerDoc.dom.body)) || contains(headerElem, activeElm);\n      }).each(function () {\n        return focus$3(focusedElem);\n      });\n    };\n    var findFocusedElem = function (rootElm, lazySink) {\n      return search(rootElm).orThunk(function () {\n        return lazySink().toOptional().bind(function (sink) {\n          return search(sink.element);\n        });\n      });\n    };\n    var setup$9 = function (editor, sharedBackstage, lazyHeader) {\n      if (!editor.inline) {\n        if (!sharedBackstage.header.isPositionedAtTop()) {\n          editor.on('ResizeEditor', function () {\n            lazyHeader().each(Docking.reset);\n          });\n        }\n        editor.on('ResizeWindow ResizeEditor', function () {\n          lazyHeader().each(updateIframeContentFlow);\n        });\n        editor.on('SkinLoaded', function () {\n          lazyHeader().each(function (comp) {\n            Docking.isDocked(comp) ? Docking.reset(comp) : Docking.refresh(comp);\n          });\n        });\n        editor.on('FullscreenStateChanged', function () {\n          lazyHeader().each(Docking.reset);\n        });\n      }\n      editor.on('AfterScrollIntoView', function (e) {\n        lazyHeader().each(function (header) {\n          Docking.refresh(header);\n          var headerElem = header.element;\n          if (isVisible(headerElem)) {\n            scrollFromBehindHeader(e, headerElem);\n          }\n        });\n      });\n      editor.on('PostRender', function () {\n        updateEditorClasses(editor, false);\n      });\n    };\n    var isDocked = function (lazyHeader) {\n      return lazyHeader().map(Docking.isDocked).getOr(false);\n    };\n    var getIframeBehaviours = function () {\n      var _a;\n      return [Receiving.config({ channels: (_a = {}, _a[toolbarHeightChange()] = { onReceive: updateIframeContentFlow }, _a) })];\n    };\n    var getBehaviours = function (editor, sharedBackstage) {\n      var focusedElm = value$1();\n      var lazySink = sharedBackstage.getSink;\n      var runOnSinkElement = function (f) {\n        lazySink().each(function (sink) {\n          return f(sink.element);\n        });\n      };\n      var onDockingSwitch = function (comp) {\n        if (!editor.inline) {\n          updateIframeContentFlow(comp);\n        }\n        updateEditorClasses(editor, Docking.isDocked(comp));\n        comp.getSystem().broadcastOn([repositionPopups()], {});\n        lazySink().each(function (sink) {\n          return sink.getSystem().broadcastOn([repositionPopups()], {});\n        });\n      };\n      var additionalBehaviours = editor.inline ? [] : getIframeBehaviours();\n      return __spreadArray([\n        Focusing.config({}),\n        Docking.config({\n          contextual: __assign({\n            lazyContext: function (comp) {\n              var headerHeight = getOuter$2(comp.element);\n              var container = editor.inline ? editor.getContentAreaContainer() : editor.getContainer();\n              var box = box$1(SugarElement.fromDom(container));\n              var boxHeight = box.height - headerHeight;\n              var topBound = box.y + (isDockedMode(comp, 'top') ? 0 : headerHeight);\n              return Optional.some(bounds(box.x, topBound, box.width, boxHeight));\n            },\n            onShow: function () {\n              runOnSinkElement(function (elem) {\n                return updateSinkVisibility(elem, true);\n              });\n            },\n            onShown: function (comp) {\n              runOnSinkElement(function (elem) {\n                return remove$1(elem, [\n                  visibility.transitionClass,\n                  visibility.fadeInClass\n                ]);\n              });\n              focusedElm.get().each(function (elem) {\n                restoreFocus(comp.element, elem);\n                focusedElm.clear();\n              });\n            },\n            onHide: function (comp) {\n              findFocusedElem(comp.element, lazySink).fold(focusedElm.clear, focusedElm.set);\n              runOnSinkElement(function (elem) {\n                return updateSinkVisibility(elem, false);\n              });\n            },\n            onHidden: function () {\n              runOnSinkElement(function (elem) {\n                return remove$1(elem, [visibility.transitionClass]);\n              });\n            }\n          }, visibility),\n          lazyViewport: function (comp) {\n            var win$1 = win();\n            var offset = getStickyToolbarOffset(editor);\n            var top = win$1.y + (isDockedMode(comp, 'top') ? offset : 0);\n            var height = win$1.height - (isDockedMode(comp, 'bottom') ? offset : 0);\n            return bounds(win$1.x, top, win$1.width, height);\n          },\n          modes: [sharedBackstage.header.getDockingMode()],\n          onDocked: onDockingSwitch,\n          onUndocked: onDockingSwitch\n        })\n      ], additionalBehaviours, true);\n    };\n\n    var StickyHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$9,\n        isDocked: isDocked,\n        getBehaviours: getBehaviours\n    });\n\n    var renderHeader = function (spec) {\n      var editor = spec.editor;\n      var getBehaviours$2 = spec.sticky ? getBehaviours : getBehaviours$1;\n      return {\n        uid: spec.uid,\n        dom: spec.dom,\n        components: spec.components,\n        behaviours: derive$1(getBehaviours$2(editor, spec.sharedBackstage))\n      };\n    };\n\n    var groupToolbarButtonSchema = objOf([\n      requiredString('type'),\n      requiredOf('items', oneOf([\n        arrOfObj([\n          requiredString('name'),\n          requiredArrayOf('items', string)\n        ]),\n        string\n      ]))\n    ].concat(baseToolbarButtonFields));\n    var createGroupToolbarButton = function (spec) {\n      return asRaw('GroupToolbarButton', groupToolbarButtonSchema, spec);\n    };\n\n    var baseMenuButtonFields = [\n      optionString('text'),\n      optionString('tooltip'),\n      optionString('icon'),\n      requiredFunction('fetch'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      })\n    ];\n\n    var MenuButtonSchema = objOf(__spreadArray([requiredString('type')], baseMenuButtonFields, true));\n    var createMenuButton = function (spec) {\n      return asRaw('menubutton', MenuButtonSchema, spec);\n    };\n\n    var splitButtonSchema = objOf([\n      requiredString('type'),\n      optionString('tooltip'),\n      optionString('icon'),\n      optionString('text'),\n      optionFunction('select'),\n      requiredFunction('fetch'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      defaultedStringEnum('presets', 'normal', [\n        'normal',\n        'color',\n        'listpreview'\n      ]),\n      defaulted('columns', 1),\n      requiredFunction('onAction'),\n      requiredFunction('onItemAction')\n    ]);\n    var createSplitButton = function (spec) {\n      return asRaw('SplitButton', splitButtonSchema, spec);\n    };\n\n    var factory$b = function (detail, spec) {\n      var setMenus = function (comp, menus) {\n        var newMenus = map$2(menus, function (m) {\n          var buttonSpec = {\n            type: 'menubutton',\n            text: m.text,\n            fetch: function (callback) {\n              callback(m.getItems());\n            }\n          };\n          var internal = createMenuButton(buttonSpec).mapError(function (errInfo) {\n            return formatError(errInfo);\n          }).getOrDie();\n          return renderMenuButton(internal, 'tox-mbtn', spec.backstage, Optional.some('menuitem'));\n        });\n        Replacing.set(comp, newMenus);\n      };\n      var apis = {\n        focus: Keying.focusIn,\n        setMenus: setMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: [],\n        behaviours: derive$1([\n          Replacing.config({}),\n          config('menubar-events', [\n            runOnAttached(function (component) {\n              detail.onSetup(component);\n            }),\n            run$1(mouseover(), function (comp, se) {\n              descendant(comp.element, '.' + 'tox-mbtn--active').each(function (activeButton) {\n                closest$1(se.event.target, '.' + 'tox-mbtn').each(function (hoveredButton) {\n                  if (!eq(activeButton, hoveredButton)) {\n                    comp.getSystem().getByDom(activeButton).each(function (activeComp) {\n                      comp.getSystem().getByDom(hoveredButton).each(function (hoveredComp) {\n                        Dropdown.expand(hoveredComp);\n                        Dropdown.close(activeComp);\n                        Focusing.focus(hoveredComp);\n                      });\n                    });\n                  }\n                });\n              });\n            }),\n            run$1(focusShifted(), function (comp, se) {\n              se.event.prevFocus.bind(function (prev) {\n                return comp.getSystem().getByDom(prev).toOptional();\n              }).each(function (prev) {\n                se.event.newFocus.bind(function (nu) {\n                  return comp.getSystem().getByDom(nu).toOptional();\n                }).each(function (nu) {\n                  if (Dropdown.isOpen(prev)) {\n                    Dropdown.expand(nu);\n                    Dropdown.close(prev);\n                  }\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'flow',\n            selector: '.' + 'tox-mbtn',\n            onEscape: function (comp) {\n              detail.onEscape(comp);\n              return Optional.some(true);\n            }\n          }),\n          Tabstopping.config({})\n        ]),\n        apis: apis,\n        domModification: { attributes: { role: 'menubar' } }\n      };\n    };\n    var SilverMenubar = single({\n      factory: factory$b,\n      name: 'silver.Menubar',\n      configFields: [\n        required$1('dom'),\n        required$1('uid'),\n        required$1('onEscape'),\n        required$1('backstage'),\n        defaulted('onSetup', noop)\n      ],\n      apis: {\n        focus: function (apis, comp) {\n          apis.focus(comp);\n        },\n        setMenus: function (apis, comp, menus) {\n          apis.setMenus(comp, menus);\n        }\n      }\n    });\n\n    var getAnimationRoot = function (component, slideConfig) {\n      return slideConfig.getAnimationRoot.fold(function () {\n        return component.element;\n      }, function (get) {\n        return get(component);\n      });\n    };\n\n    var getDimensionProperty = function (slideConfig) {\n      return slideConfig.dimension.property;\n    };\n    var getDimension = function (slideConfig, elem) {\n      return slideConfig.dimension.getDimension(elem);\n    };\n    var disableTransitions = function (component, slideConfig) {\n      var root = getAnimationRoot(component, slideConfig);\n      remove$1(root, [\n        slideConfig.shrinkingClass,\n        slideConfig.growingClass\n      ]);\n    };\n    var setShrunk = function (component, slideConfig) {\n      remove$2(component.element, slideConfig.openClass);\n      add$2(component.element, slideConfig.closedClass);\n      set$7(component.element, getDimensionProperty(slideConfig), '0px');\n      reflow(component.element);\n    };\n    var setGrown = function (component, slideConfig) {\n      remove$2(component.element, slideConfig.closedClass);\n      add$2(component.element, slideConfig.openClass);\n      remove$6(component.element, getDimensionProperty(slideConfig));\n    };\n    var doImmediateShrink = function (component, slideConfig, slideState, _calculatedSize) {\n      slideState.setCollapsed();\n      set$7(component.element, getDimensionProperty(slideConfig), getDimension(slideConfig, component.element));\n      reflow(component.element);\n      disableTransitions(component, slideConfig);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n      slideConfig.onShrunk(component);\n    };\n    var doStartShrink = function (component, slideConfig, slideState, calculatedSize) {\n      var size = calculatedSize.getOrThunk(function () {\n        return getDimension(slideConfig, component.element);\n      });\n      slideState.setCollapsed();\n      set$7(component.element, getDimensionProperty(slideConfig), size);\n      reflow(component.element);\n      var root = getAnimationRoot(component, slideConfig);\n      remove$2(root, slideConfig.growingClass);\n      add$2(root, slideConfig.shrinkingClass);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n    };\n    var doStartSmartShrink = function (component, slideConfig, slideState) {\n      var size = getDimension(slideConfig, component.element);\n      var shrinker = size === '0px' ? doImmediateShrink : doStartShrink;\n      shrinker(component, slideConfig, slideState, Optional.some(size));\n    };\n    var doStartGrow = function (component, slideConfig, slideState) {\n      var root = getAnimationRoot(component, slideConfig);\n      var wasShrinking = has(root, slideConfig.shrinkingClass);\n      var beforeSize = getDimension(slideConfig, component.element);\n      setGrown(component, slideConfig);\n      var fullSize = getDimension(slideConfig, component.element);\n      var startPartialGrow = function () {\n        set$7(component.element, getDimensionProperty(slideConfig), beforeSize);\n        reflow(component.element);\n      };\n      var startCompleteGrow = function () {\n        setShrunk(component, slideConfig);\n      };\n      var setStartSize = wasShrinking ? startPartialGrow : startCompleteGrow;\n      setStartSize();\n      remove$2(root, slideConfig.shrinkingClass);\n      add$2(root, slideConfig.growingClass);\n      setGrown(component, slideConfig);\n      set$7(component.element, getDimensionProperty(slideConfig), fullSize);\n      slideState.setExpanded();\n      slideConfig.onStartGrow(component);\n    };\n    var refresh$3 = function (component, slideConfig, slideState) {\n      if (slideState.isExpanded()) {\n        remove$6(component.element, getDimensionProperty(slideConfig));\n        var fullSize = getDimension(slideConfig, component.element);\n        set$7(component.element, getDimensionProperty(slideConfig), fullSize);\n      }\n    };\n    var grow = function (component, slideConfig, slideState) {\n      if (!slideState.isExpanded()) {\n        doStartGrow(component, slideConfig, slideState);\n      }\n    };\n    var shrink = function (component, slideConfig, slideState) {\n      if (slideState.isExpanded()) {\n        doStartSmartShrink(component, slideConfig, slideState);\n      }\n    };\n    var immediateShrink = function (component, slideConfig, slideState) {\n      if (slideState.isExpanded()) {\n        doImmediateShrink(component, slideConfig, slideState);\n      }\n    };\n    var hasGrown = function (component, slideConfig, slideState) {\n      return slideState.isExpanded();\n    };\n    var hasShrunk = function (component, slideConfig, slideState) {\n      return slideState.isCollapsed();\n    };\n    var isGrowing = function (component, slideConfig, _slideState) {\n      var root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.growingClass) === true;\n    };\n    var isShrinking = function (component, slideConfig, _slideState) {\n      var root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.shrinkingClass) === true;\n    };\n    var isTransitioning = function (component, slideConfig, slideState) {\n      return isGrowing(component, slideConfig) || isShrinking(component, slideConfig);\n    };\n    var toggleGrow = function (component, slideConfig, slideState) {\n      var f = slideState.isExpanded() ? doStartSmartShrink : doStartGrow;\n      f(component, slideConfig, slideState);\n    };\n\n    var SlidingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$3,\n        grow: grow,\n        shrink: shrink,\n        immediateShrink: immediateShrink,\n        hasGrown: hasGrown,\n        hasShrunk: hasShrunk,\n        isGrowing: isGrowing,\n        isShrinking: isShrinking,\n        isTransitioning: isTransitioning,\n        toggleGrow: toggleGrow,\n        disableTransitions: disableTransitions\n    });\n\n    var exhibit = function (base, slideConfig, _slideState) {\n      var expanded = slideConfig.expanded;\n      return expanded ? nu$7({\n        classes: [slideConfig.openClass],\n        styles: {}\n      }) : nu$7({\n        classes: [slideConfig.closedClass],\n        styles: wrap$1(slideConfig.dimension.property, '0px')\n      });\n    };\n    var events$4 = function (slideConfig, slideState) {\n      return derive$2([runOnSource(transitionend(), function (component, simulatedEvent) {\n          var raw = simulatedEvent.event.raw;\n          if (raw.propertyName === slideConfig.dimension.property) {\n            disableTransitions(component, slideConfig);\n            if (slideState.isExpanded()) {\n              remove$6(component.element, slideConfig.dimension.property);\n            }\n            var notify = slideState.isExpanded() ? slideConfig.onGrown : slideConfig.onShrunk;\n            notify(component);\n          }\n        })]);\n    };\n\n    var ActiveSliding = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit,\n        events: events$4\n    });\n\n    var SlidingSchema = [\n      required$1('closedClass'),\n      required$1('openClass'),\n      required$1('shrinkingClass'),\n      required$1('growingClass'),\n      option('getAnimationRoot'),\n      onHandler('onShrunk'),\n      onHandler('onStartShrink'),\n      onHandler('onGrown'),\n      onHandler('onStartGrow'),\n      defaulted('expanded', false),\n      requiredOf('dimension', choose$1('property', {\n        width: [\n          output$1('property', 'width'),\n          output$1('getDimension', function (elem) {\n            return get$a(elem) + 'px';\n          })\n        ],\n        height: [\n          output$1('property', 'height'),\n          output$1('getDimension', function (elem) {\n            return get$b(elem) + 'px';\n          })\n        ]\n      }))\n    ];\n\n    var init$5 = function (spec) {\n      var state = Cell(spec.expanded);\n      var readState = function () {\n        return 'expanded: ' + state.get();\n      };\n      return nu$8({\n        isExpanded: function () {\n          return state.get() === true;\n        },\n        isCollapsed: function () {\n          return state.get() === false;\n        },\n        setCollapsed: curry(state.set, false),\n        setExpanded: curry(state.set, true),\n        readState: readState\n      });\n    };\n\n    var SlidingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$5\n    });\n\n    var Sliding = create$7({\n      fields: SlidingSchema,\n      name: 'sliding',\n      active: ActiveSliding,\n      apis: SlidingApis,\n      state: SlidingState\n    });\n\n    var owner = 'container';\n    var schema$d = [field('slotBehaviours', [])];\n    var getPartName = function (name) {\n      return '<alloy.field.' + name + '>';\n    };\n    var sketch = function (sSpec) {\n      var parts = function () {\n        var record = [];\n        var slot = function (name, config) {\n          record.push(name);\n          return generateOne$1(owner, getPartName(name), config);\n        };\n        return {\n          slot: slot,\n          record: constant$1(record)\n        };\n      }();\n      var spec = sSpec(parts);\n      var partNames = parts.record();\n      var fieldParts = map$2(partNames, function (n) {\n        return required({\n          name: n,\n          pname: getPartName(n)\n        });\n      });\n      return composite$1(owner, schema$d, fieldParts, make$1, spec);\n    };\n    var make$1 = function (detail, components) {\n      var getSlotNames = function (_) {\n        return getAllPartNames(detail);\n      };\n      var getSlot = function (container, key) {\n        return getPart(container, detail, key);\n      };\n      var onSlot = function (f, def) {\n        return function (container, key) {\n          return getPart(container, detail, key).map(function (slot) {\n            return f(slot, key);\n          }).getOr(def);\n        };\n      };\n      var onSlots = function (f) {\n        return function (container, keys) {\n          each$1(keys, function (key) {\n            return f(container, key);\n          });\n        };\n      };\n      var doShowing = function (comp, _key) {\n        return get$d(comp.element, 'aria-hidden') !== 'true';\n      };\n      var doShow = function (comp, key) {\n        if (!doShowing(comp)) {\n          var element = comp.element;\n          remove$6(element, 'display');\n          remove$7(element, 'aria-hidden');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: true\n          });\n        }\n      };\n      var doHide = function (comp, key) {\n        if (doShowing(comp)) {\n          var element = comp.element;\n          set$7(element, 'display', 'none');\n          set$8(element, 'aria-hidden', 'true');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: false\n          });\n        }\n      };\n      var isShowing = onSlot(doShowing, false);\n      var hideSlot = onSlot(doHide);\n      var hideSlots = onSlots(hideSlot);\n      var hideAllSlots = function (container) {\n        return hideSlots(container, getSlotNames());\n      };\n      var showSlot = onSlot(doShow);\n      var apis = {\n        getSlotNames: getSlotNames,\n        getSlot: getSlot,\n        isShowing: isShowing,\n        hideSlot: hideSlot,\n        hideAllSlots: hideAllSlots,\n        showSlot: showSlot\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: get$2(detail.slotBehaviours),\n        apis: apis\n      };\n    };\n    var slotApis = map$1({\n      getSlotNames: function (apis, c) {\n        return apis.getSlotNames(c);\n      },\n      getSlot: function (apis, c, key) {\n        return apis.getSlot(c, key);\n      },\n      isShowing: function (apis, c, key) {\n        return apis.isShowing(c, key);\n      },\n      hideSlot: function (apis, c, key) {\n        return apis.hideSlot(c, key);\n      },\n      hideAllSlots: function (apis, c) {\n        return apis.hideAllSlots(c);\n      },\n      showSlot: function (apis, c, key) {\n        return apis.showSlot(c, key);\n      }\n    }, function (value) {\n      return makeApi(value);\n    });\n    var SlotContainer = __assign(__assign({}, slotApis), { sketch: sketch });\n\n    var sidebarSchema = objOf([\n      optionString('icon'),\n      optionString('tooltip'),\n      defaultedFunction('onShow', noop),\n      defaultedFunction('onHide', noop),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      })\n    ]);\n    var createSidebar = function (spec) {\n      return asRaw('sidebar', sidebarSchema, spec);\n    };\n\n    var setup$8 = function (editor) {\n      var sidebars = editor.ui.registry.getAll().sidebars;\n      each$1(keys(sidebars), function (name) {\n        var spec = sidebars[name];\n        var isActive = function () {\n          return is$1(Optional.from(editor.queryCommandValue('ToggleSidebar')), name);\n        };\n        editor.ui.registry.addToggleButton(name, {\n          icon: spec.icon,\n          tooltip: spec.tooltip,\n          onAction: function (buttonApi) {\n            editor.execCommand('ToggleSidebar', false, name);\n            buttonApi.setActive(isActive());\n          },\n          onSetup: function (buttonApi) {\n            var handleToggle = function () {\n              return buttonApi.setActive(isActive());\n            };\n            editor.on('ToggleSidebar', handleToggle);\n            return function () {\n              editor.off('ToggleSidebar', handleToggle);\n            };\n          }\n        });\n      });\n    };\n    var getApi = function (comp) {\n      return {\n        element: function () {\n          return comp.element.dom;\n        }\n      };\n    };\n    var makePanels = function (parts, panelConfigs) {\n      var specs = map$2(keys(panelConfigs), function (name) {\n        var spec = panelConfigs[name];\n        var bridged = getOrDie(createSidebar(spec));\n        return {\n          name: name,\n          getApi: getApi,\n          onSetup: bridged.onSetup,\n          onShow: bridged.onShow,\n          onHide: bridged.onHide\n        };\n      });\n      return map$2(specs, function (spec) {\n        var editorOffCell = Cell(noop);\n        return parts.slot(spec.name, {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__pane']\n          },\n          behaviours: SimpleBehaviours.unnamedEvents([\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell),\n            run$1(slotVisibility(), function (sidepanel, se) {\n              var data = se.event;\n              var optSidePanelSpec = find$5(specs, function (config) {\n                return config.name === data.name;\n              });\n              optSidePanelSpec.each(function (sidePanelSpec) {\n                var handler = data.visible ? sidePanelSpec.onShow : sidePanelSpec.onHide;\n                handler(sidePanelSpec.getApi(sidepanel));\n              });\n            })\n          ])\n        });\n      });\n    };\n    var makeSidebar = function (panelConfigs) {\n      return SlotContainer.sketch(function (parts) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__pane-container']\n          },\n          components: makePanels(parts, panelConfigs),\n          slotBehaviours: SimpleBehaviours.unnamedEvents([runOnAttached(function (slotContainer) {\n              return SlotContainer.hideAllSlots(slotContainer);\n            })])\n        };\n      });\n    };\n    var setSidebar = function (sidebar, panelConfigs) {\n      var optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(function (slider) {\n        return Replacing.set(slider, [makeSidebar(panelConfigs)]);\n      });\n    };\n    var toggleSidebar = function (sidebar, name) {\n      var optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(function (slider) {\n        var optSlotContainer = Composing.getCurrent(slider);\n        optSlotContainer.each(function (slotContainer) {\n          if (Sliding.hasGrown(slider)) {\n            if (SlotContainer.isShowing(slotContainer, name)) {\n              Sliding.shrink(slider);\n            } else {\n              SlotContainer.hideAllSlots(slotContainer);\n              SlotContainer.showSlot(slotContainer, name);\n            }\n          } else {\n            SlotContainer.hideAllSlots(slotContainer);\n            SlotContainer.showSlot(slotContainer, name);\n            Sliding.grow(slider);\n          }\n        });\n      });\n    };\n    var whichSidebar = function (sidebar) {\n      var optSlider = Composing.getCurrent(sidebar);\n      return optSlider.bind(function (slider) {\n        var sidebarOpen = Sliding.isGrowing(slider) || Sliding.hasGrown(slider);\n        if (sidebarOpen) {\n          var optSlotContainer = Composing.getCurrent(slider);\n          return optSlotContainer.bind(function (slotContainer) {\n            return find$5(SlotContainer.getSlotNames(slotContainer), function (name) {\n              return SlotContainer.isShowing(slotContainer, name);\n            });\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var fixSize = generate$6('FixSizeEvent');\n    var autoSize = generate$6('AutoSizeEvent');\n    var renderSidebar = function (spec) {\n      return {\n        uid: spec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-sidebar'],\n          attributes: { role: 'complementary' }\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-sidebar__slider']\n            },\n            components: [],\n            behaviours: derive$1([\n              Tabstopping.config({}),\n              Focusing.config({}),\n              Sliding.config({\n                dimension: { property: 'width' },\n                closedClass: 'tox-sidebar--sliding-closed',\n                openClass: 'tox-sidebar--sliding-open',\n                shrinkingClass: 'tox-sidebar--sliding-shrinking',\n                growingClass: 'tox-sidebar--sliding-growing',\n                onShrunk: function (slider) {\n                  var optSlotContainer = Composing.getCurrent(slider);\n                  optSlotContainer.each(SlotContainer.hideAllSlots);\n                  emit(slider, autoSize);\n                },\n                onGrown: function (slider) {\n                  emit(slider, autoSize);\n                },\n                onStartGrow: function (slider) {\n                  emitWith(slider, fixSize, { width: getRaw(slider.element, 'width').getOr('') });\n                },\n                onStartShrink: function (slider) {\n                  emitWith(slider, fixSize, { width: get$a(slider.element) + 'px' });\n                }\n              }),\n              Replacing.config({}),\n              Composing.config({\n                find: function (comp) {\n                  var children = Replacing.contents(comp);\n                  return head(children);\n                }\n              })\n            ])\n          }],\n        behaviours: derive$1([\n          ComposingConfigs.childAt(0),\n          config('sidebar-sliding-events', [\n            run$1(fixSize, function (comp, se) {\n              set$7(comp.element, 'width', se.event.width);\n            }),\n            run$1(autoSize, function (comp, _se) {\n              remove$6(comp.element, 'width');\n            })\n          ])\n        ])\n      };\n    };\n\n    var block = function (component, config, state, getBusySpec) {\n      set$8(component.element, 'aria-busy', true);\n      var root = config.getRoot(component).getOr(component);\n      var blockerBehaviours = derive$1([\n        Keying.config({\n          mode: 'special',\n          onTab: function () {\n            return Optional.some(true);\n          },\n          onShiftTab: function () {\n            return Optional.some(true);\n          }\n        }),\n        Focusing.config({})\n      ]);\n      var blockSpec = getBusySpec(root, blockerBehaviours);\n      var blocker = root.getSystem().build(blockSpec);\n      Replacing.append(root, premade(blocker));\n      if (blocker.hasConfigured(Keying) && config.focus) {\n        Keying.focusIn(blocker);\n      }\n      if (!state.isBlocked()) {\n        config.onBlock(component);\n      }\n      state.blockWith(function () {\n        return Replacing.remove(root, blocker);\n      });\n    };\n    var unblock = function (component, config, state) {\n      remove$7(component.element, 'aria-busy');\n      if (state.isBlocked()) {\n        config.onUnblock(component);\n      }\n      state.clear();\n    };\n\n    var BlockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        block: block,\n        unblock: unblock\n    });\n\n    var BlockingSchema = [\n      defaultedFunction('getRoot', Optional.none),\n      defaultedBoolean('focus', true),\n      onHandler('onBlock'),\n      onHandler('onUnblock')\n    ];\n\n    var init$4 = function () {\n      var blocker = destroyable();\n      var blockWith = function (destroy) {\n        blocker.set({ destroy: destroy });\n      };\n      return nu$8({\n        readState: blocker.isSet,\n        blockWith: blockWith,\n        clear: blocker.clear,\n        isBlocked: blocker.isSet\n      });\n    };\n\n    var BlockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$4\n    });\n\n    var Blocking = create$7({\n      fields: BlockingSchema,\n      name: 'blocking',\n      apis: BlockingApis,\n      state: BlockingState\n    });\n\n    var getAttrs = function (elem) {\n      var attributes = elem.dom.attributes !== undefined ? elem.dom.attributes : [];\n      return foldl(attributes, function (b, attr) {\n        var _a;\n        if (attr.name === 'class') {\n          return b;\n        } else {\n          return __assign(__assign({}, b), (_a = {}, _a[attr.name] = attr.value, _a));\n        }\n      }, {});\n    };\n    var getClasses = function (elem) {\n      return Array.prototype.slice.call(elem.dom.classList, 0);\n    };\n    var fromHtml = function (html) {\n      var elem = SugarElement.fromHtml(html);\n      var children$1 = children(elem);\n      var attrs = getAttrs(elem);\n      var classes = getClasses(elem);\n      var contents = children$1.length === 0 ? {} : { innerHtml: get$7(elem) };\n      return __assign({\n        tag: name$2(elem),\n        classes: classes,\n        attributes: attrs\n      }, contents);\n    };\n\n    var getBusySpec$1 = function (providerBackstage) {\n      return function (_root, _behaviours) {\n        return {\n          dom: {\n            tag: 'div',\n            attributes: {\n              'aria-label': providerBackstage.translate('Loading...'),\n              'tabindex': '0'\n            },\n            classes: ['tox-throbber__busy-spinner']\n          },\n          components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n        };\n      };\n    };\n    var focusBusyComponent = function (throbber) {\n      return Composing.getCurrent(throbber).each(function (comp) {\n        return focus$3(comp.element);\n      });\n    };\n    var toggleEditorTabIndex = function (editor, state) {\n      var tabIndexAttr = 'tabindex';\n      var dataTabIndexAttr = 'data-mce-' + tabIndexAttr;\n      Optional.from(editor.iframeElement).map(SugarElement.fromDom).each(function (iframe) {\n        if (state) {\n          getOpt(iframe, tabIndexAttr).each(function (tabIndex) {\n            return set$8(iframe, dataTabIndexAttr, tabIndex);\n          });\n          set$8(iframe, tabIndexAttr, -1);\n        } else {\n          remove$7(iframe, tabIndexAttr);\n          getOpt(iframe, dataTabIndexAttr).each(function (tabIndex) {\n            set$8(iframe, tabIndexAttr, tabIndex);\n            remove$7(iframe, dataTabIndexAttr);\n          });\n        }\n      });\n    };\n    var toggleThrobber = function (editor, comp, state, providerBackstage) {\n      var element = comp.element;\n      toggleEditorTabIndex(editor, state);\n      if (state) {\n        Blocking.block(comp, getBusySpec$1(providerBackstage));\n        remove$6(element, 'display');\n        remove$7(element, 'aria-hidden');\n        if (editor.hasFocus()) {\n          focusBusyComponent(comp);\n        }\n      } else {\n        var throbberFocus = Composing.getCurrent(comp).exists(function (busyComp) {\n          return hasFocus(busyComp.element);\n        });\n        Blocking.unblock(comp);\n        set$7(element, 'display', 'none');\n        set$8(element, 'aria-hidden', 'true');\n        if (throbberFocus) {\n          editor.focus();\n        }\n      }\n    };\n    var renderThrobber = function (spec) {\n      return {\n        uid: spec.uid,\n        dom: {\n          tag: 'div',\n          attributes: { 'aria-hidden': 'true' },\n          classes: ['tox-throbber'],\n          styles: { display: 'none' }\n        },\n        behaviours: derive$1([\n          Replacing.config({}),\n          Blocking.config({ focus: false }),\n          Composing.config({\n            find: function (comp) {\n              return head(comp.components());\n            }\n          })\n        ]),\n        components: []\n      };\n    };\n    var isFocusEvent = function (event) {\n      return event.type === 'focusin';\n    };\n    var isPasteBinTarget = function (event) {\n      if (isFocusEvent(event)) {\n        var node = event.composed ? head(event.composedPath()) : Optional.from(event.target);\n        return node.map(SugarElement.fromDom).filter(isElement$2).exists(function (targetElm) {\n          return has(targetElm, 'mce-pastebin');\n        });\n      } else {\n        return false;\n      }\n    };\n    var setup$7 = function (editor, lazyThrobber, sharedBackstage) {\n      var throbberState = Cell(false);\n      var timer = value$1();\n      var stealFocus = function (e) {\n        if (throbberState.get() && !isPasteBinTarget(e)) {\n          e.preventDefault();\n          focusBusyComponent(lazyThrobber());\n          editor.editorManager.setActive(editor);\n        }\n      };\n      if (!editor.inline) {\n        editor.on('PreInit', function () {\n          editor.dom.bind(editor.getWin(), 'focusin', stealFocus);\n          editor.on('BeforeExecCommand', function (e) {\n            if (e.command.toLowerCase() === 'mcefocus' && e.value !== true) {\n              stealFocus(e);\n            }\n          });\n        });\n      }\n      var toggle = function (state) {\n        if (state !== throbberState.get()) {\n          throbberState.set(state);\n          toggleThrobber(editor, lazyThrobber(), state, sharedBackstage.providers);\n          editor.fire('AfterProgressState', { state: state });\n        }\n      };\n      editor.on('ProgressState', function (e) {\n        timer.on(global$f.clearTimeout);\n        if (isNumber(e.time)) {\n          var timerId = global$f.setEditorTimeout(editor, function () {\n            return toggle(e.state);\n          }, e.time);\n          timer.set(timerId);\n        } else {\n          toggle(e.state);\n          timer.clear();\n        }\n      });\n    };\n\n    var generate$1 = function (xs, f) {\n      var init = {\n        len: 0,\n        list: []\n      };\n      var r = foldl(xs, function (b, a) {\n        var value = f(a, b.len);\n        return value.fold(constant$1(b), function (v) {\n          return {\n            len: v.finish,\n            list: b.list.concat([v])\n          };\n        });\n      }, init);\n      return r.list;\n    };\n\n    var output = function (within, extra, withinWidth) {\n      return {\n        within: within,\n        extra: extra,\n        withinWidth: withinWidth\n      };\n    };\n    var apportion = function (units, total, len) {\n      var parray = generate$1(units, function (unit, current) {\n        var width = len(unit);\n        return Optional.some({\n          element: unit,\n          start: current,\n          finish: current + width,\n          width: width\n        });\n      });\n      var within = filter$2(parray, function (unit) {\n        return unit.finish <= total;\n      });\n      var withinWidth = foldr(within, function (acc, el) {\n        return acc + el.width;\n      }, 0);\n      var extra = parray.slice(within.length);\n      return {\n        within: within,\n        extra: extra,\n        withinWidth: withinWidth\n      };\n    };\n    var toUnit = function (parray) {\n      return map$2(parray, function (unit) {\n        return unit.element;\n      });\n    };\n    var fitLast = function (within, extra, withinWidth) {\n      var fits = toUnit(within.concat(extra));\n      return output(fits, [], withinWidth);\n    };\n    var overflow = function (within, extra, overflower, withinWidth) {\n      var fits = toUnit(within).concat([overflower]);\n      return output(fits, toUnit(extra), withinWidth);\n    };\n    var fitAll = function (within, extra, withinWidth) {\n      return output(toUnit(within), [], withinWidth);\n    };\n    var tryFit = function (total, units, len) {\n      var divide = apportion(units, total, len);\n      return divide.extra.length === 0 ? Optional.some(divide) : Optional.none();\n    };\n    var partition = function (total, units, len, overflower) {\n      var divide = tryFit(total, units, len).getOrThunk(function () {\n        return apportion(units, total - len(overflower), len);\n      });\n      var within = divide.within;\n      var extra = divide.extra;\n      var withinWidth = divide.withinWidth;\n      if (extra.length === 1 && extra[0].width <= len(overflower)) {\n        return fitLast(within, extra, withinWidth);\n      } else if (extra.length >= 1) {\n        return overflow(within, extra, overflower, withinWidth);\n      } else {\n        return fitAll(within, extra, withinWidth);\n      }\n    };\n\n    var setGroups$1 = function (toolbar, storedGroups) {\n      var bGroups = map$2(storedGroups, function (g) {\n        return premade(g);\n      });\n      Toolbar.setGroups(toolbar, bGroups);\n    };\n    var findFocusedComp = function (comps) {\n      return findMap(comps, function (comp) {\n        return search(comp.element).bind(function (focusedElm) {\n          return comp.getSystem().getByDom(focusedElm).toOptional();\n        });\n      });\n    };\n    var refresh$2 = function (toolbar, detail, setOverflow) {\n      var builtGroups = detail.builtGroups.get();\n      if (builtGroups.length === 0) {\n        return;\n      }\n      var primary = getPartOrDie(toolbar, detail, 'primary');\n      var overflowGroup = Coupling.getCoupled(toolbar, 'overflowGroup');\n      set$7(primary.element, 'visibility', 'hidden');\n      var groups = builtGroups.concat([overflowGroup]);\n      var focusedComp = findFocusedComp(groups);\n      setOverflow([]);\n      setGroups$1(primary, groups);\n      var availableWidth = get$a(primary.element);\n      var overflows = partition(availableWidth, detail.builtGroups.get(), function (comp) {\n        return get$a(comp.element);\n      }, overflowGroup);\n      if (overflows.extra.length === 0) {\n        Replacing.remove(primary, overflowGroup);\n        setOverflow([]);\n      } else {\n        setGroups$1(primary, overflows.within);\n        setOverflow(overflows.extra);\n      }\n      remove$6(primary.element, 'visibility');\n      reflow(primary.element);\n      focusedComp.each(Focusing.focus);\n    };\n\n    var schema$c = constant$1([\n      field('splitToolbarBehaviours', [Coupling]),\n      customField('builtGroups', function () {\n        return Cell([]);\n      })\n    ]);\n\n    var schema$b = constant$1([\n      markers$1(['overflowToggledClass']),\n      optionFunction('getOverflowBounds'),\n      required$1('lazySink'),\n      customField('overflowGroups', function () {\n        return Cell([]);\n      })\n    ].concat(schema$c()));\n    var parts$7 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      external$1({\n        schema: schema$e(),\n        name: 'overflow'\n      }),\n      external$1({ name: 'overflow-button' }),\n      external$1({ name: 'overflow-group' })\n    ]);\n\n    var expandable = constant$1(function (element, available) {\n      setMax(element, Math.floor(available));\n    });\n\n    var schema$a = constant$1([\n      markers$1(['toggledClass']),\n      required$1('lazySink'),\n      requiredFunction('fetch'),\n      optionFunction('getBounds'),\n      optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n      schema$y()\n    ]);\n    var parts$6 = constant$1([\n      external$1({\n        name: 'button',\n        overrides: function (detail) {\n          return {\n            dom: { attributes: { 'aria-haspopup': 'true' } },\n            buttonBehaviours: derive$1([Toggling.config({\n                toggleClass: detail.markers.toggledClass,\n                aria: { mode: 'expanded' },\n                toggleOnExecute: false\n              })])\n          };\n        }\n      }),\n      external$1({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'toolbar',\n        overrides: function (detail) {\n          return {\n            toolbarBehaviours: derive$1([Keying.config({\n                mode: 'cyclic',\n                onEscape: function (comp) {\n                  getPart(comp, detail, 'button').each(Focusing.focus);\n                  return Optional.none();\n                }\n              })])\n          };\n        }\n      })\n    ]);\n\n    var toggle = function (button, externals) {\n      var toolbarSandbox = Coupling.getCoupled(button, 'toolbarSandbox');\n      if (Sandboxing.isOpen(toolbarSandbox)) {\n        Sandboxing.close(toolbarSandbox);\n      } else {\n        Sandboxing.open(toolbarSandbox, externals.toolbar());\n      }\n    };\n    var position = function (button, toolbar, detail, layouts) {\n      var bounds = detail.getBounds.map(function (bounder) {\n        return bounder();\n      });\n      var sink = detail.lazySink(button).getOrDie();\n      Positioning.positionWithinBounds(sink, toolbar, {\n        anchor: {\n          type: 'hotspot',\n          hotspot: button,\n          layouts: layouts,\n          overrides: { maxWidthFunction: expandable() }\n        }\n      }, bounds);\n    };\n    var setGroups = function (button, toolbar, detail, layouts, groups) {\n      Toolbar.setGroups(toolbar, groups);\n      position(button, toolbar, detail, layouts);\n      Toggling.on(button);\n    };\n    var makeSandbox = function (button, spec, detail) {\n      var ariaOwner = manager();\n      var onOpen = function (sandbox, toolbar) {\n        detail.fetch().get(function (groups) {\n          setGroups(button, toolbar, detail, spec.layouts, groups);\n          ariaOwner.link(button.element);\n          Keying.focusIn(toolbar);\n        });\n      };\n      var onClose = function () {\n        Toggling.off(button);\n        Focusing.focus(button);\n        ariaOwner.unlink(button.element);\n      };\n      return {\n        dom: {\n          tag: 'div',\n          attributes: { id: ariaOwner.id }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'special',\n            onEscape: function (comp) {\n              Sandboxing.close(comp);\n              return Optional.some(true);\n            }\n          }),\n          Sandboxing.config({\n            onOpen: onOpen,\n            onClose: onClose,\n            isPartOf: function (container, data, queryElem) {\n              return isPartOf$1(data, queryElem) || isPartOf$1(button, queryElem);\n            },\n            getAttachPoint: function () {\n              return detail.lazySink(button).getOrDie();\n            }\n          }),\n          Receiving.config({\n            channels: __assign(__assign({}, receivingChannel$1(__assign({ isExtraPart: never }, detail.fireDismissalEventInstead.map(function (fe) {\n              return { fireEventInstead: { event: fe.event } };\n            }).getOr({})))), receivingChannel({\n              doReposition: function () {\n                Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(function (toolbar) {\n                  position(button, toolbar, detail, spec.layouts);\n                });\n              }\n            }))\n          })\n        ])\n      };\n    };\n    var factory$a = function (detail, components, spec, externals) {\n      return __assign(__assign({}, Button.sketch(__assign(__assign({}, externals.button()), {\n        action: function (button) {\n          toggle(button, externals);\n        },\n        buttonBehaviours: SketchBehaviours.augment({ dump: externals.button().buttonBehaviours }, [Coupling.config({\n            others: {\n              toolbarSandbox: function (button) {\n                return makeSandbox(button, spec, detail);\n              }\n            }\n          })])\n      }))), {\n        apis: {\n          setGroups: function (button, groups) {\n            Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(function (toolbar) {\n              setGroups(button, toolbar, detail, spec.layouts, groups);\n            });\n          },\n          reposition: function (button) {\n            Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(function (toolbar) {\n              position(button, toolbar, detail, spec.layouts);\n            });\n          },\n          toggle: function (button) {\n            toggle(button, externals);\n          },\n          getToolbar: function (button) {\n            return Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox'));\n          },\n          isOpen: function (button) {\n            return Sandboxing.isOpen(Coupling.getCoupled(button, 'toolbarSandbox'));\n          }\n        }\n      });\n    };\n    var FloatingToolbarButton = composite({\n      name: 'FloatingToolbarButton',\n      factory: factory$a,\n      configFields: schema$a(),\n      partFields: parts$6(),\n      apis: {\n        setGroups: function (apis, button, groups) {\n          apis.setGroups(button, groups);\n        },\n        reposition: function (apis, button) {\n          apis.reposition(button);\n        },\n        toggle: function (apis, button) {\n          apis.toggle(button);\n        },\n        getToolbar: function (apis, button) {\n          return apis.getToolbar(button);\n        },\n        isOpen: function (apis, button) {\n          return apis.isOpen(button);\n        }\n      }\n    });\n\n    var schema$9 = constant$1([\n      required$1('items'),\n      markers$1(['itemSelector']),\n      field('tgroupBehaviours', [Keying])\n    ]);\n    var parts$5 = constant$1([group({\n        name: 'items',\n        unit: 'item'\n      })]);\n\n    var factory$9 = function (detail, components, _spec, _externals) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.tgroupBehaviours, [Keying.config({\n            mode: 'flow',\n            selector: detail.markers.itemSelector\n          })]),\n        domModification: { attributes: { role: 'toolbar' } }\n      };\n    };\n    var ToolbarGroup = composite({\n      name: 'ToolbarGroup',\n      configFields: schema$9(),\n      partFields: parts$5(),\n      factory: factory$9\n    });\n\n    var buildGroups = function (comps) {\n      return map$2(comps, function (g) {\n        return premade(g);\n      });\n    };\n    var refresh$1 = function (toolbar, memFloatingToolbarButton, detail) {\n      refresh$2(toolbar, detail, function (overflowGroups) {\n        detail.overflowGroups.set(overflowGroups);\n        memFloatingToolbarButton.getOpt(toolbar).each(function (floatingToolbarButton) {\n          FloatingToolbarButton.setGroups(floatingToolbarButton, buildGroups(overflowGroups));\n        });\n      });\n    };\n    var factory$8 = function (detail, components, spec, externals) {\n      var memFloatingToolbarButton = record(FloatingToolbarButton.sketch({\n        fetch: function () {\n          return Future.nu(function (resolve) {\n            resolve(buildGroups(detail.overflowGroups.get()));\n          });\n        },\n        layouts: {\n          onLtr: function () {\n            return [\n              southwest$2,\n              southeast$2\n            ];\n          },\n          onRtl: function () {\n            return [\n              southeast$2,\n              southwest$2\n            ];\n          },\n          onBottomLtr: function () {\n            return [\n              northwest$2,\n              northeast$2\n            ];\n          },\n          onBottomRtl: function () {\n            return [\n              northeast$2,\n              northwest$2\n            ];\n          }\n        },\n        getBounds: spec.getOverflowBounds,\n        lazySink: detail.lazySink,\n        fireDismissalEventInstead: {},\n        markers: { toggledClass: detail.markers.overflowToggledClass },\n        parts: {\n          button: externals['overflow-button'](),\n          toolbar: externals.overflow()\n        }\n      }));\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.splitToolbarBehaviours, [Coupling.config({\n            others: {\n              overflowGroup: function () {\n                return ToolbarGroup.sketch(__assign(__assign({}, externals['overflow-group']()), { items: [memFloatingToolbarButton.asSpec()] }));\n              }\n            }\n          })]),\n        apis: {\n          setGroups: function (toolbar, groups) {\n            detail.builtGroups.set(map$2(groups, toolbar.getSystem().build));\n            refresh$1(toolbar, memFloatingToolbarButton, detail);\n          },\n          refresh: function (toolbar) {\n            return refresh$1(toolbar, memFloatingToolbarButton, detail);\n          },\n          toggle: function (toolbar) {\n            memFloatingToolbarButton.getOpt(toolbar).each(function (floatingToolbarButton) {\n              FloatingToolbarButton.toggle(floatingToolbarButton);\n            });\n          },\n          isOpen: function (toolbar) {\n            return memFloatingToolbarButton.getOpt(toolbar).map(FloatingToolbarButton.isOpen).getOr(false);\n          },\n          reposition: function (toolbar) {\n            memFloatingToolbarButton.getOpt(toolbar).each(function (floatingToolbarButton) {\n              FloatingToolbarButton.reposition(floatingToolbarButton);\n            });\n          },\n          getOverflow: function (toolbar) {\n            return memFloatingToolbarButton.getOpt(toolbar).bind(FloatingToolbarButton.getToolbar);\n          }\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    var SplitFloatingToolbar = composite({\n      name: 'SplitFloatingToolbar',\n      configFields: schema$b(),\n      partFields: parts$7(),\n      factory: factory$8,\n      apis: {\n        setGroups: function (apis, toolbar, groups) {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: function (apis, toolbar) {\n          apis.refresh(toolbar);\n        },\n        reposition: function (apis, toolbar) {\n          apis.reposition(toolbar);\n        },\n        toggle: function (apis, toolbar) {\n          apis.toggle(toolbar);\n        },\n        isOpen: function (apis, toolbar) {\n          return apis.isOpen(toolbar);\n        },\n        getOverflow: function (apis, toolbar) {\n          return apis.getOverflow(toolbar);\n        }\n      }\n    });\n\n    var schema$8 = constant$1([\n      markers$1([\n        'closedClass',\n        'openClass',\n        'shrinkingClass',\n        'growingClass',\n        'overflowToggledClass'\n      ]),\n      onHandler('onOpened'),\n      onHandler('onClosed')\n    ].concat(schema$c()));\n    var parts$4 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'overflow',\n        overrides: function (detail) {\n          return {\n            toolbarBehaviours: derive$1([\n              Sliding.config({\n                dimension: { property: 'height' },\n                closedClass: detail.markers.closedClass,\n                openClass: detail.markers.openClass,\n                shrinkingClass: detail.markers.shrinkingClass,\n                growingClass: detail.markers.growingClass,\n                onShrunk: function (comp) {\n                  getPart(comp, detail, 'overflow-button').each(function (button) {\n                    Toggling.off(button);\n                    Focusing.focus(button);\n                  });\n                  detail.onClosed(comp);\n                },\n                onGrown: function (comp) {\n                  Keying.focusIn(comp);\n                  detail.onOpened(comp);\n                },\n                onStartGrow: function (comp) {\n                  getPart(comp, detail, 'overflow-button').each(Toggling.on);\n                }\n              }),\n              Keying.config({\n                mode: 'acyclic',\n                onEscape: function (comp) {\n                  getPart(comp, detail, 'overflow-button').each(Focusing.focus);\n                  return Optional.some(true);\n                }\n              })\n            ])\n          };\n        }\n      }),\n      external$1({\n        name: 'overflow-button',\n        overrides: function (detail) {\n          return {\n            buttonBehaviours: derive$1([Toggling.config({\n                toggleClass: detail.markers.overflowToggledClass,\n                aria: { mode: 'pressed' },\n                toggleOnExecute: false\n              })])\n          };\n        }\n      }),\n      external$1({ name: 'overflow-group' })\n    ]);\n\n    var isOpen = function (toolbar, detail) {\n      return getPart(toolbar, detail, 'overflow').map(Sliding.hasGrown).getOr(false);\n    };\n    var toggleToolbar = function (toolbar, detail) {\n      getPart(toolbar, detail, 'overflow-button').bind(function () {\n        return getPart(toolbar, detail, 'overflow');\n      }).each(function (overf) {\n        refresh(toolbar, detail);\n        Sliding.toggleGrow(overf);\n      });\n    };\n    var refresh = function (toolbar, detail) {\n      getPart(toolbar, detail, 'overflow').each(function (overflow) {\n        refresh$2(toolbar, detail, function (groups) {\n          var builtGroups = map$2(groups, function (g) {\n            return premade(g);\n          });\n          Toolbar.setGroups(overflow, builtGroups);\n        });\n        getPart(toolbar, detail, 'overflow-button').each(function (button) {\n          if (Sliding.hasGrown(overflow)) {\n            Toggling.on(button);\n          }\n        });\n        Sliding.refresh(overflow);\n      });\n    };\n    var factory$7 = function (detail, components, spec, externals) {\n      var toolbarToggleEvent = 'alloy.toolbar.toggle';\n      var doSetGroups = function (toolbar, groups) {\n        var built = map$2(groups, toolbar.getSystem().build);\n        detail.builtGroups.set(built);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.splitToolbarBehaviours, [\n          Coupling.config({\n            others: {\n              overflowGroup: function (toolbar) {\n                return ToolbarGroup.sketch(__assign(__assign({}, externals['overflow-group']()), {\n                  items: [Button.sketch(__assign(__assign({}, externals['overflow-button']()), {\n                      action: function (_button) {\n                        emit(toolbar, toolbarToggleEvent);\n                      }\n                    }))]\n                }));\n              }\n            }\n          }),\n          config('toolbar-toggle-events', [run$1(toolbarToggleEvent, function (toolbar) {\n              toggleToolbar(toolbar, detail);\n            })])\n        ]),\n        apis: {\n          setGroups: function (toolbar, groups) {\n            doSetGroups(toolbar, groups);\n            refresh(toolbar, detail);\n          },\n          refresh: function (toolbar) {\n            return refresh(toolbar, detail);\n          },\n          toggle: function (toolbar) {\n            return toggleToolbar(toolbar, detail);\n          },\n          isOpen: function (toolbar) {\n            return isOpen(toolbar, detail);\n          }\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    var SplitSlidingToolbar = composite({\n      name: 'SplitSlidingToolbar',\n      configFields: schema$8(),\n      partFields: parts$4(),\n      factory: factory$7,\n      apis: {\n        setGroups: function (apis, toolbar, groups) {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: function (apis, toolbar) {\n          apis.refresh(toolbar);\n        },\n        toggle: function (apis, toolbar) {\n          apis.toggle(toolbar);\n        },\n        isOpen: function (apis, toolbar) {\n          return apis.isOpen(toolbar);\n        }\n      }\n    });\n\n    var renderToolbarGroupCommon = function (toolbarGroup) {\n      var attributes = toolbarGroup.title.fold(function () {\n        return {};\n      }, function (title) {\n        return { attributes: { title: title } };\n      });\n      return {\n        dom: __assign({\n          tag: 'div',\n          classes: ['tox-toolbar__group']\n        }, attributes),\n        components: [ToolbarGroup.parts.items({})],\n        items: toolbarGroup.items,\n        markers: { itemSelector: '*:not(.tox-split-button) > .tox-tbtn:not([disabled]), ' + '.tox-split-button:not([disabled]), ' + '.tox-toolbar-nav-js:not([disabled])' },\n        tgroupBehaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n    var renderToolbarGroup = function (toolbarGroup) {\n      return ToolbarGroup.sketch(renderToolbarGroupCommon(toolbarGroup));\n    };\n    var getToolbarbehaviours = function (toolbarSpec, modeName) {\n      var onAttached = runOnAttached(function (component) {\n        var groups = map$2(toolbarSpec.initGroups, renderToolbarGroup);\n        Toolbar.setGroups(component, groups);\n      });\n      return derive$1([\n        DisablingConfigs.toolbarButton(toolbarSpec.providers.isDisabled),\n        receivingConfig(),\n        Keying.config({\n          mode: modeName,\n          onEscape: toolbarSpec.onEscape,\n          selector: '.tox-toolbar__group'\n        }),\n        config('toolbar-events', [onAttached])\n      ]);\n    };\n    var renderMoreToolbarCommon = function (toolbarSpec) {\n      var modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return {\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar-overlord']\n        },\n        parts: {\n          'overflow-group': renderToolbarGroupCommon({\n            title: Optional.none(),\n            items: []\n          }),\n          'overflow-button': renderIconButtonSpec({\n            name: 'more',\n            icon: Optional.some('more-drawer'),\n            disabled: false,\n            tooltip: Optional.some('More...'),\n            primary: false,\n            borderless: false\n          }, Optional.none(), toolbarSpec.providers)\n        },\n        splitToolbarBehaviours: getToolbarbehaviours(toolbarSpec, modeName)\n      };\n    };\n    var renderFloatingMoreToolbar = function (toolbarSpec) {\n      var baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      var overflowXOffset = 4;\n      var primary = SplitFloatingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      return SplitFloatingToolbar.sketch(__assign(__assign({}, baseSpec), {\n        lazySink: toolbarSpec.getSink,\n        getOverflowBounds: function () {\n          var headerElem = toolbarSpec.moreDrawerData.lazyHeader().element;\n          var headerBounds = absolute$2(headerElem);\n          var docElem = documentElement(headerElem);\n          var docBounds = absolute$2(docElem);\n          var height = Math.max(docElem.dom.scrollHeight, docBounds.height);\n          return bounds(headerBounds.x + overflowXOffset, docBounds.y, headerBounds.width - overflowXOffset * 2, height);\n        },\n        parts: __assign(__assign({}, baseSpec.parts), {\n          overflow: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes: toolbarSpec.attributes\n            }\n          }\n        }),\n        components: [primary],\n        markers: { overflowToggledClass: 'tox-tbtn--enabled' }\n      }));\n    };\n    var renderSlidingMoreToolbar = function (toolbarSpec) {\n      var primary = SplitSlidingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      var overflow = SplitSlidingToolbar.parts.overflow({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__overflow']\n        }\n      });\n      var baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      return SplitSlidingToolbar.sketch(__assign(__assign({}, baseSpec), {\n        components: [\n          primary,\n          overflow\n        ],\n        markers: {\n          openClass: 'tox-toolbar__overflow--open',\n          closedClass: 'tox-toolbar__overflow--closed',\n          growingClass: 'tox-toolbar__overflow--growing',\n          shrinkingClass: 'tox-toolbar__overflow--shrinking',\n          overflowToggledClass: 'tox-tbtn--enabled'\n        },\n        onOpened: function (comp) {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'opened' });\n        },\n        onClosed: function (comp) {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'closed' });\n        }\n      }));\n    };\n    var renderToolbar = function (toolbarSpec) {\n      var modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return Toolbar.sketch({\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar'].concat(toolbarSpec.type === ToolbarMode.scrolling ? ['tox-toolbar--scrolling'] : [])\n        },\n        components: [Toolbar.parts.groups({})],\n        toolbarBehaviours: getToolbarbehaviours(toolbarSpec, modeName)\n      });\n    };\n\n    var factory$6 = function (detail, components, _spec) {\n      var apis = {\n        getSocket: function (comp) {\n          return parts$a.getPart(comp, detail, 'socket');\n        },\n        setSidebar: function (comp, panelConfigs) {\n          parts$a.getPart(comp, detail, 'sidebar').each(function (sidebar) {\n            return setSidebar(sidebar, panelConfigs);\n          });\n        },\n        toggleSidebar: function (comp, name) {\n          parts$a.getPart(comp, detail, 'sidebar').each(function (sidebar) {\n            return toggleSidebar(sidebar, name);\n          });\n        },\n        whichSidebar: function (comp) {\n          return parts$a.getPart(comp, detail, 'sidebar').bind(whichSidebar).getOrNull();\n        },\n        getHeader: function (comp) {\n          return parts$a.getPart(comp, detail, 'header');\n        },\n        getToolbar: function (comp) {\n          return parts$a.getPart(comp, detail, 'toolbar');\n        },\n        setToolbar: function (comp, groups) {\n          parts$a.getPart(comp, detail, 'toolbar').each(function (toolbar) {\n            toolbar.getApis().setGroups(toolbar, groups);\n          });\n        },\n        setToolbars: function (comp, toolbars) {\n          parts$a.getPart(comp, detail, 'multiple-toolbar').each(function (mToolbar) {\n            CustomList.setItems(mToolbar, toolbars);\n          });\n        },\n        refreshToolbar: function (comp) {\n          var toolbar = parts$a.getPart(comp, detail, 'toolbar');\n          toolbar.each(function (toolbar) {\n            return toolbar.getApis().refresh(toolbar);\n          });\n        },\n        toggleToolbarDrawer: function (comp) {\n          parts$a.getPart(comp, detail, 'toolbar').each(function (toolbar) {\n            mapFrom(toolbar.getApis().toggle, function (toggle) {\n              return toggle(toolbar);\n            });\n          });\n        },\n        isToolbarDrawerToggled: function (comp) {\n          return parts$a.getPart(comp, detail, 'toolbar').bind(function (toolbar) {\n            return Optional.from(toolbar.getApis().isOpen).map(function (isOpen) {\n              return isOpen(toolbar);\n            });\n          }).getOr(false);\n        },\n        getThrobber: function (comp) {\n          return parts$a.getPart(comp, detail, 'throbber');\n        },\n        focusToolbar: function (comp) {\n          var optToolbar = parts$a.getPart(comp, detail, 'toolbar').orThunk(function () {\n            return parts$a.getPart(comp, detail, 'multiple-toolbar');\n          });\n          optToolbar.each(function (toolbar) {\n            Keying.focusIn(toolbar);\n          });\n        },\n        setMenubar: function (comp, menus) {\n          parts$a.getPart(comp, detail, 'menubar').each(function (menubar) {\n            SilverMenubar.setMenus(menubar, menus);\n          });\n        },\n        focusMenubar: function (comp) {\n          parts$a.getPart(comp, detail, 'menubar').each(function (menubar) {\n            SilverMenubar.focus(menubar);\n          });\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        apis: apis,\n        behaviours: detail.behaviours\n      };\n    };\n    var partMenubar = partType.optional({\n      factory: SilverMenubar,\n      name: 'menubar',\n      schema: [required$1('backstage')]\n    });\n    var toolbarFactory = function (spec) {\n      if (spec.type === ToolbarMode.sliding) {\n        return renderSlidingMoreToolbar;\n      } else if (spec.type === ToolbarMode.floating) {\n        return renderFloatingMoreToolbar;\n      } else {\n        return renderToolbar;\n      }\n    };\n    var partMultipleToolbar = partType.optional({\n      factory: {\n        sketch: function (spec) {\n          return CustomList.sketch({\n            uid: spec.uid,\n            dom: spec.dom,\n            listBehaviours: derive$1([Keying.config({\n                mode: 'acyclic',\n                selector: '.tox-toolbar'\n              })]),\n            makeItem: function () {\n              return renderToolbar({\n                type: spec.type,\n                uid: generate$6('multiple-toolbar-item'),\n                cyclicKeying: false,\n                initGroups: [],\n                providers: spec.providers,\n                onEscape: function () {\n                  spec.onEscape();\n                  return Optional.some(true);\n                }\n              });\n            },\n            setupItem: function (_mToolbar, tc, data, _index) {\n              Toolbar.setGroups(tc, data);\n            },\n            shell: true\n          });\n        }\n      },\n      name: 'multiple-toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape')\n      ]\n    });\n    var partToolbar = partType.optional({\n      factory: {\n        sketch: function (spec) {\n          var renderer = toolbarFactory(spec);\n          var toolbarSpec = {\n            type: spec.type,\n            uid: spec.uid,\n            onEscape: function () {\n              spec.onEscape();\n              return Optional.some(true);\n            },\n            cyclicKeying: false,\n            initGroups: [],\n            getSink: spec.getSink,\n            providers: spec.providers,\n            moreDrawerData: {\n              lazyToolbar: spec.lazyToolbar,\n              lazyMoreButton: spec.lazyMoreButton,\n              lazyHeader: spec.lazyHeader\n            },\n            attributes: spec.attributes\n          };\n          return renderer(toolbarSpec);\n        }\n      },\n      name: 'toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape'),\n        required$1('getSink')\n      ]\n    });\n    var partHeader = partType.optional({\n      factory: { sketch: renderHeader },\n      name: 'header',\n      schema: [required$1('dom')]\n    });\n    var partSocket = partType.optional({\n      name: 'socket',\n      schema: [required$1('dom')]\n    });\n    var partSidebar = partType.optional({\n      factory: { sketch: renderSidebar },\n      name: 'sidebar',\n      schema: [required$1('dom')]\n    });\n    var partThrobber = partType.optional({\n      factory: { sketch: renderThrobber },\n      name: 'throbber',\n      schema: [required$1('dom')]\n    });\n    var OuterContainer = composite({\n      name: 'OuterContainer',\n      factory: factory$6,\n      configFields: [\n        required$1('dom'),\n        required$1('behaviours')\n      ],\n      partFields: [\n        partHeader,\n        partMenubar,\n        partToolbar,\n        partMultipleToolbar,\n        partSocket,\n        partSidebar,\n        partThrobber\n      ],\n      apis: {\n        getSocket: function (apis, comp) {\n          return apis.getSocket(comp);\n        },\n        setSidebar: function (apis, comp, panelConfigs) {\n          apis.setSidebar(comp, panelConfigs);\n        },\n        toggleSidebar: function (apis, comp, name) {\n          apis.toggleSidebar(comp, name);\n        },\n        whichSidebar: function (apis, comp) {\n          return apis.whichSidebar(comp);\n        },\n        getHeader: function (apis, comp) {\n          return apis.getHeader(comp);\n        },\n        getToolbar: function (apis, comp) {\n          return apis.getToolbar(comp);\n        },\n        setToolbar: function (apis, comp, grps) {\n          var groups = map$2(grps, function (grp) {\n            return renderToolbarGroup(grp);\n          });\n          apis.setToolbar(comp, groups);\n        },\n        setToolbars: function (apis, comp, ts) {\n          var renderedToolbars = map$2(ts, function (g) {\n            return map$2(g, renderToolbarGroup);\n          });\n          apis.setToolbars(comp, renderedToolbars);\n        },\n        refreshToolbar: function (apis, comp) {\n          return apis.refreshToolbar(comp);\n        },\n        toggleToolbarDrawer: function (apis, comp) {\n          apis.toggleToolbarDrawer(comp);\n        },\n        isToolbarDrawerToggled: function (apis, comp) {\n          return apis.isToolbarDrawerToggled(comp);\n        },\n        getThrobber: function (apis, comp) {\n          return apis.getThrobber(comp);\n        },\n        setMenubar: function (apis, comp, menus) {\n          apis.setMenubar(comp, menus);\n        },\n        focusMenubar: function (apis, comp) {\n          apis.focusMenubar(comp);\n        },\n        focusToolbar: function (apis, comp) {\n          apis.focusToolbar(comp);\n        }\n      }\n    });\n\n    var defaultMenubar = 'file edit view insert format tools table help';\n    var defaultMenus = {\n      file: {\n        title: 'File',\n        items: 'newdocument restoredraft | preview | export print | deleteallconversations'\n      },\n      edit: {\n        title: 'Edit',\n        items: 'undo redo | cut copy paste pastetext | selectall | searchreplace'\n      },\n      view: {\n        title: 'View',\n        items: 'code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments'\n      },\n      insert: {\n        title: 'Insert',\n        items: 'image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime'\n      },\n      format: {\n        title: 'Format',\n        items: 'bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat'\n      },\n      tools: {\n        title: 'Tools',\n        items: 'spellchecker spellcheckerlanguage | a11ycheck code wordcount'\n      },\n      table: {\n        title: 'Table',\n        items: 'inserttable | cell row column | advtablesort | tableprops deletetable'\n      },\n      help: {\n        title: 'Help',\n        items: 'help'\n      }\n    };\n    var make = function (menu, registry, editor) {\n      var removedMenuItems = getRemovedMenuItems(editor).split(/[ ,]/);\n      return {\n        text: menu.title,\n        getItems: function () {\n          return bind$3(menu.items, function (i) {\n            var itemName = i.toLowerCase();\n            if (itemName.trim().length === 0) {\n              return [];\n            } else if (exists(removedMenuItems, function (removedMenuItem) {\n                return removedMenuItem === itemName;\n              })) {\n              return [];\n            } else if (itemName === 'separator' || itemName === '|') {\n              return [{ type: 'separator' }];\n            } else if (registry.menuItems[itemName]) {\n              return [registry.menuItems[itemName]];\n            } else {\n              return [];\n            }\n          });\n        }\n      };\n    };\n    var parseItemsString = function (items) {\n      if (typeof items === 'string') {\n        return items.split(' ');\n      }\n      return items;\n    };\n    var identifyMenus = function (editor, registry) {\n      var rawMenuData = __assign(__assign({}, defaultMenus), registry.menus);\n      var userDefinedMenus = keys(registry.menus).length > 0;\n      var menubar = registry.menubar === undefined || registry.menubar === true ? parseItemsString(defaultMenubar) : parseItemsString(registry.menubar === false ? '' : registry.menubar);\n      var validMenus = filter$2(menubar, function (menuName) {\n        var isDefaultMenu = has$2(defaultMenus, menuName);\n        if (userDefinedMenus) {\n          return isDefaultMenu || get$e(registry.menus, menuName).exists(function (menu) {\n            return has$2(menu, 'items');\n          });\n        } else {\n          return isDefaultMenu;\n        }\n      });\n      var menus = map$2(validMenus, function (menuName) {\n        var menuData = rawMenuData[menuName];\n        return make({\n          title: menuData.title,\n          items: parseItemsString(menuData.items)\n        }, registry, editor);\n      });\n      return filter$2(menus, function (menu) {\n        var isNotSeparator = function (item) {\n          return item.type !== 'separator';\n        };\n        return menu.getItems().length > 0 && exists(menu.getItems(), isNotSeparator);\n      });\n    };\n\n    var fireSkinLoaded = function (editor) {\n      var done = function () {\n        editor._skinLoaded = true;\n        fireSkinLoaded$1(editor);\n      };\n      return function () {\n        if (editor.initialized) {\n          done();\n        } else {\n          editor.on('init', done);\n        }\n      };\n    };\n    var fireSkinLoadError = function (editor, err) {\n      return function () {\n        return fireSkinLoadError$1(editor, { message: err });\n      };\n    };\n\n    var loadStylesheet = function (editor, stylesheetUrl, styleSheetLoader) {\n      return new global$c(function (resolve, reject) {\n        styleSheetLoader.load(stylesheetUrl, resolve, reject);\n        editor.on('remove', function () {\n          return styleSheetLoader.unload(stylesheetUrl);\n        });\n      });\n    };\n    var loadUiSkins = function (editor, skinUrl) {\n      var skinUiCss = skinUrl + '/skin.min.css';\n      return loadStylesheet(editor, skinUiCss, editor.ui.styleSheetLoader);\n    };\n    var loadShadowDomUiSkins = function (editor, skinUrl) {\n      var isInShadowRoot$1 = isInShadowRoot(SugarElement.fromDom(editor.getElement()));\n      if (isInShadowRoot$1) {\n        var shadowDomSkinCss = skinUrl + '/skin.shadowdom.min.css';\n        return loadStylesheet(editor, shadowDomSkinCss, global$b.DOM.styleSheetLoader);\n      } else {\n        return global$c.resolve();\n      }\n    };\n    var loadSkin = function (isInline, editor) {\n      var skinUrl = getSkinUrl(editor);\n      if (skinUrl) {\n        editor.contentCSS.push(skinUrl + (isInline ? '/content.inline' : '/content') + '.min.css');\n      }\n      if (isSkinDisabled(editor) === false && isString(skinUrl)) {\n        global$c.all([\n          loadUiSkins(editor, skinUrl),\n          loadShadowDomUiSkins(editor, skinUrl)\n        ]).then(fireSkinLoaded(editor), fireSkinLoadError(editor, 'Skin could not be loaded'));\n      } else {\n        fireSkinLoaded(editor)();\n      }\n    };\n    var iframe = curry(loadSkin, false);\n    var inline = curry(loadSkin, true);\n\n    var onSetupFormatToggle = function (editor, name) {\n      return function (api) {\n        var boundCallback = unbindable();\n        var init = function () {\n          api.setActive(editor.formatter.match(name));\n          var binding = editor.formatter.formatChanged(name, api.setActive);\n          boundCallback.set(binding);\n        };\n        editor.initialized ? init() : editor.once('init', init);\n        return function () {\n          editor.off('init', init);\n          boundCallback.clear();\n        };\n      };\n    };\n    var onSetupEvent = function (editor, event, f) {\n      return function (api) {\n        var handleEvent = function () {\n          return f(api);\n        };\n        var init = function () {\n          f(api);\n          editor.on(event, handleEvent);\n        };\n        editor.initialized ? init() : editor.once('init', init);\n        return function () {\n          editor.off('init', init);\n          editor.off(event, handleEvent);\n        };\n      };\n    };\n    var onActionToggleFormat$1 = function (editor) {\n      return function (rawItem) {\n        return function () {\n          editor.undoManager.transact(function () {\n            editor.focus();\n            editor.execCommand('mceToggleFormat', false, rawItem.format);\n          });\n        };\n      };\n    };\n    var onActionExecCommand = function (editor, command) {\n      return function () {\n        return editor.execCommand(command);\n      };\n    };\n\n    var generateSelectItems = function (_editor, backstage, spec) {\n      var generateItem = function (rawItem, response, disabled, value) {\n        var translatedText = backstage.shared.providers.translate(rawItem.title);\n        if (rawItem.type === 'separator') {\n          return Optional.some({\n            type: 'separator',\n            text: translatedText\n          });\n        } else if (rawItem.type === 'submenu') {\n          var items = bind$3(rawItem.getStyleItems(), function (si) {\n            return validate(si, response, value);\n          });\n          if (response === 0 && items.length <= 0) {\n            return Optional.none();\n          } else {\n            return Optional.some({\n              type: 'nestedmenuitem',\n              text: translatedText,\n              disabled: items.length <= 0,\n              getSubmenuItems: function () {\n                return bind$3(rawItem.getStyleItems(), function (si) {\n                  return validate(si, response, value);\n                });\n              }\n            });\n          }\n        } else {\n          return Optional.some(__assign({\n            type: 'togglemenuitem',\n            text: translatedText,\n            icon: rawItem.icon,\n            active: rawItem.isSelected(value),\n            disabled: disabled,\n            onAction: spec.onAction(rawItem)\n          }, rawItem.getStylePreview().fold(function () {\n            return {};\n          }, function (preview) {\n            return { meta: { style: preview } };\n          })));\n        }\n      };\n      var validate = function (item, response, value) {\n        var invalid = item.type === 'formatter' && spec.isInvalid(item);\n        if (response === 0) {\n          return invalid ? [] : generateItem(item, response, false, value).toArray();\n        } else {\n          return generateItem(item, response, invalid, value).toArray();\n        }\n      };\n      var validateItems = function (preItems) {\n        var value = spec.getCurrentValue();\n        var response = spec.shouldHide ? 0 : 1;\n        return bind$3(preItems, function (item) {\n          return validate(item, response, value);\n        });\n      };\n      var getFetch = function (backstage, getStyleItems) {\n        return function (comp, callback) {\n          var preItems = getStyleItems();\n          var items = validateItems(preItems);\n          var menu = build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false);\n          callback(menu);\n        };\n      };\n      return {\n        validateItems: validateItems,\n        getFetch: getFetch\n      };\n    };\n    var createMenuItems = function (editor, backstage, spec) {\n      var dataset = spec.dataset;\n      var getStyleItems = dataset.type === 'basic' ? function () {\n        return map$2(dataset.data, function (d) {\n          return processBasic(d, spec.isSelectedFor, spec.getPreviewFor);\n        });\n      } : dataset.getData;\n      return {\n        items: generateSelectItems(editor, backstage, spec),\n        getStyleItems: getStyleItems\n      };\n    };\n    var createSelectButton = function (editor, backstage, spec) {\n      var _a = createMenuItems(editor, backstage, spec), items = _a.items, getStyleItems = _a.getStyleItems;\n      var getApi = function (comp) {\n        return { getComponent: constant$1(comp) };\n      };\n      var onSetup = onSetupEvent(editor, 'NodeChange', function (api) {\n        var comp = api.getComponent();\n        spec.updateText(comp);\n      });\n      return renderCommonDropdown({\n        text: spec.icon.isSome() ? Optional.none() : spec.text,\n        icon: spec.icon,\n        tooltip: Optional.from(spec.tooltip),\n        role: Optional.none(),\n        fetch: items.getFetch(backstage, getStyleItems),\n        onSetup: onSetup,\n        getApi: getApi,\n        columns: 1,\n        presets: 'normal',\n        classes: spec.icon.isSome() ? [] : ['bespoke'],\n        dropdownBehaviours: []\n      }, 'tox-tbtn', backstage.shared);\n    };\n\n    var process = function (rawFormats) {\n      return map$2(rawFormats, function (item) {\n        var title = item, format = item;\n        var values = item.split('=');\n        if (values.length > 1) {\n          title = values[0];\n          format = values[1];\n        }\n        return {\n          title: title,\n          format: format\n        };\n      });\n    };\n    var buildBasicStaticDataset = function (data) {\n      return {\n        type: 'basic',\n        data: data\n      };\n    };\n    var Delimiter;\n    (function (Delimiter) {\n      Delimiter[Delimiter['SemiColon'] = 0] = 'SemiColon';\n      Delimiter[Delimiter['Space'] = 1] = 'Space';\n    }(Delimiter || (Delimiter = {})));\n    var split = function (rawFormats, delimiter) {\n      if (delimiter === Delimiter.SemiColon) {\n        return rawFormats.replace(/;$/, '').split(';');\n      } else {\n        return rawFormats.split(' ');\n      }\n    };\n    var buildBasicSettingsDataset = function (editor, settingName, defaults, delimiter) {\n      var rawFormats = editor.getParam(settingName, defaults, 'string');\n      var data = process(split(rawFormats, delimiter));\n      return {\n        type: 'basic',\n        data: data\n      };\n    };\n\n    var alignMenuItems = [\n      {\n        title: 'Left',\n        icon: 'align-left',\n        format: 'alignleft',\n        command: 'JustifyLeft'\n      },\n      {\n        title: 'Center',\n        icon: 'align-center',\n        format: 'aligncenter',\n        command: 'JustifyCenter'\n      },\n      {\n        title: 'Right',\n        icon: 'align-right',\n        format: 'alignright',\n        command: 'JustifyRight'\n      },\n      {\n        title: 'Justify',\n        icon: 'align-justify',\n        format: 'alignjustify',\n        command: 'JustifyFull'\n      }\n    ];\n    var getSpec$4 = function (editor) {\n      var getMatchingValue = function () {\n        return find$5(alignMenuItems, function (item) {\n          return editor.formatter.match(item.format);\n        });\n      };\n      var isSelectedFor = function (format) {\n        return function () {\n          return editor.formatter.match(format);\n        };\n      };\n      var getPreviewFor = function (_format) {\n        return Optional.none;\n      };\n      var updateSelectMenuIcon = function (comp) {\n        var match = getMatchingValue();\n        var alignment = match.fold(constant$1('left'), function (item) {\n          return item.title.toLowerCase();\n        });\n        emitWith(comp, updateMenuIcon, { icon: 'align-' + alignment });\n      };\n      var dataset = buildBasicStaticDataset(alignMenuItems);\n      var onAction = function (rawItem) {\n        return function () {\n          return find$5(alignMenuItems, function (item) {\n            return item.format === rawItem.format;\n          }).each(function (item) {\n            return editor.execCommand(item.command);\n          });\n        };\n      };\n      return {\n        tooltip: 'Align',\n        text: Optional.none(),\n        icon: Optional.some('align-left'),\n        isSelectedFor: isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor: getPreviewFor,\n        onAction: onAction,\n        updateText: updateSelectMenuIcon,\n        dataset: dataset,\n        shouldHide: false,\n        isInvalid: function (item) {\n          return !editor.formatter.canApply(item.format);\n        }\n      };\n    };\n    var createAlignSelect = function (editor, backstage) {\n      return createSelectButton(editor, backstage, getSpec$4(editor));\n    };\n    var alignSelectMenu = function (editor, backstage) {\n      var menuItems = createMenuItems(editor, backstage, getSpec$4(editor));\n      editor.ui.registry.addNestedMenuItem('align', {\n        text: backstage.shared.providers.translate('Align'),\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var defaultFontsFormats = 'Andale Mono=andale mono,monospace;' + 'Arial=arial,helvetica,sans-serif;' + 'Arial Black=arial black,sans-serif;' + 'Book Antiqua=book antiqua,palatino,serif;' + 'Comic Sans MS=comic sans ms,sans-serif;' + 'Courier New=courier new,courier,monospace;' + 'Georgia=georgia,palatino,serif;' + 'Helvetica=helvetica,arial,sans-serif;' + 'Impact=impact,sans-serif;' + 'Symbol=symbol;' + 'Tahoma=tahoma,arial,helvetica,sans-serif;' + 'Terminal=terminal,monaco,monospace;' + 'Times New Roman=times new roman,times,serif;' + 'Trebuchet MS=trebuchet ms,geneva,sans-serif;' + 'Verdana=verdana,geneva,sans-serif;' + 'Webdings=webdings;' + 'Wingdings=wingdings,zapf dingbats';\n    var systemStackFonts = [\n      '-apple-system',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica Neue',\n      'sans-serif'\n    ];\n    var splitFonts = function (fontFamily) {\n      var fonts = fontFamily.split(/\\s*,\\s*/);\n      return map$2(fonts, function (font) {\n        return font.replace(/^['\"]+|['\"]+$/g, '');\n      });\n    };\n    var isSystemFontStack = function (fontFamily) {\n      var matchesSystemStack = function () {\n        var fonts = splitFonts(fontFamily.toLowerCase());\n        return forall(systemStackFonts, function (font) {\n          return fonts.indexOf(font.toLowerCase()) > -1;\n        });\n      };\n      return fontFamily.indexOf('-apple-system') === 0 && matchesSystemStack();\n    };\n    var getSpec$3 = function (editor) {\n      var systemFont = 'System Font';\n      var getMatchingValue = function () {\n        var getFirstFont = function (fontFamily) {\n          return fontFamily ? splitFonts(fontFamily)[0] : '';\n        };\n        var fontFamily = editor.queryCommandValue('FontName');\n        var items = dataset.data;\n        var font = fontFamily ? fontFamily.toLowerCase() : '';\n        var matchOpt = find$5(items, function (item) {\n          var format = item.format;\n          return format.toLowerCase() === font || getFirstFont(format).toLowerCase() === getFirstFont(font).toLowerCase();\n        }).orThunk(function () {\n          return someIf(isSystemFontStack(font), {\n            title: systemFont,\n            format: font\n          });\n        });\n        return {\n          matchOpt: matchOpt,\n          font: fontFamily\n        };\n      };\n      var isSelectedFor = function (item) {\n        return function (valueOpt) {\n          return valueOpt.exists(function (value) {\n            return value.format === item;\n          });\n        };\n      };\n      var getCurrentValue = function () {\n        var matchOpt = getMatchingValue().matchOpt;\n        return matchOpt;\n      };\n      var getPreviewFor = function (item) {\n        return function () {\n          return Optional.some({\n            tag: 'div',\n            styles: item.indexOf('dings') === -1 ? { 'font-family': item } : {}\n          });\n        };\n      };\n      var onAction = function (rawItem) {\n        return function () {\n          editor.undoManager.transact(function () {\n            editor.focus();\n            editor.execCommand('FontName', false, rawItem.format);\n          });\n        };\n      };\n      var updateSelectMenuText = function (comp) {\n        var _a = getMatchingValue(), matchOpt = _a.matchOpt, font = _a.font;\n        var text = matchOpt.fold(constant$1(font), function (item) {\n          return item.title;\n        });\n        emitWith(comp, updateMenuText, { text: text });\n      };\n      var dataset = buildBasicSettingsDataset(editor, 'font_formats', defaultFontsFormats, Delimiter.SemiColon);\n      return {\n        tooltip: 'Fonts',\n        text: Optional.some(systemFont),\n        icon: Optional.none(),\n        isSelectedFor: isSelectedFor,\n        getCurrentValue: getCurrentValue,\n        getPreviewFor: getPreviewFor,\n        onAction: onAction,\n        updateText: updateSelectMenuText,\n        dataset: dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    var createFontSelect = function (editor, backstage) {\n      return createSelectButton(editor, backstage, getSpec$3(editor));\n    };\n    var fontSelectMenu = function (editor, backstage) {\n      var menuItems = createMenuItems(editor, backstage, getSpec$3(editor));\n      editor.ui.registry.addNestedMenuItem('fontformats', {\n        text: backstage.shared.providers.translate('Fonts'),\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var defaultFontsizeFormats = '8pt 10pt 12pt 14pt 18pt 24pt 36pt';\n    var legacyFontSizes = {\n      '8pt': '1',\n      '10pt': '2',\n      '12pt': '3',\n      '14pt': '4',\n      '18pt': '5',\n      '24pt': '6',\n      '36pt': '7'\n    };\n    var keywordFontSizes = {\n      'xx-small': '7pt',\n      'x-small': '8pt',\n      'small': '10pt',\n      'medium': '12pt',\n      'large': '14pt',\n      'x-large': '18pt',\n      'xx-large': '24pt'\n    };\n    var round = function (number, precision) {\n      var factor = Math.pow(10, precision);\n      return Math.round(number * factor) / factor;\n    };\n    var toPt = function (fontSize, precision) {\n      if (/[0-9.]+px$/.test(fontSize)) {\n        return round(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';\n      } else {\n        return get$e(keywordFontSizes, fontSize).getOr(fontSize);\n      }\n    };\n    var toLegacy = function (fontSize) {\n      return get$e(legacyFontSizes, fontSize).getOr('');\n    };\n    var getSpec$2 = function (editor) {\n      var getMatchingValue = function () {\n        var matchOpt = Optional.none();\n        var items = dataset.data;\n        var fontSize = editor.queryCommandValue('FontSize');\n        if (fontSize) {\n          var _loop_1 = function (precision) {\n            var pt = toPt(fontSize, precision);\n            var legacy = toLegacy(pt);\n            matchOpt = find$5(items, function (item) {\n              return item.format === fontSize || item.format === pt || item.format === legacy;\n            });\n          };\n          for (var precision = 3; matchOpt.isNone() && precision >= 0; precision--) {\n            _loop_1(precision);\n          }\n        }\n        return {\n          matchOpt: matchOpt,\n          size: fontSize\n        };\n      };\n      var isSelectedFor = function (item) {\n        return function (valueOpt) {\n          return valueOpt.exists(function (value) {\n            return value.format === item;\n          });\n        };\n      };\n      var getCurrentValue = function () {\n        var matchOpt = getMatchingValue().matchOpt;\n        return matchOpt;\n      };\n      var getPreviewFor = constant$1(Optional.none);\n      var onAction = function (rawItem) {\n        return function () {\n          editor.undoManager.transact(function () {\n            editor.focus();\n            editor.execCommand('FontSize', false, rawItem.format);\n          });\n        };\n      };\n      var updateSelectMenuText = function (comp) {\n        var _a = getMatchingValue(), matchOpt = _a.matchOpt, size = _a.size;\n        var text = matchOpt.fold(constant$1(size), function (match) {\n          return match.title;\n        });\n        emitWith(comp, updateMenuText, { text: text });\n      };\n      var dataset = buildBasicSettingsDataset(editor, 'fontsize_formats', defaultFontsizeFormats, Delimiter.Space);\n      return {\n        tooltip: 'Font sizes',\n        text: Optional.some('12pt'),\n        icon: Optional.none(),\n        isSelectedFor: isSelectedFor,\n        getPreviewFor: getPreviewFor,\n        getCurrentValue: getCurrentValue,\n        onAction: onAction,\n        updateText: updateSelectMenuText,\n        dataset: dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    var createFontsizeSelect = function (editor, backstage) {\n      return createSelectButton(editor, backstage, getSpec$2(editor));\n    };\n    var fontsizeSelectMenu = function (editor, backstage) {\n      var menuItems = createMenuItems(editor, backstage, getSpec$2(editor));\n      editor.ui.registry.addNestedMenuItem('fontsizes', {\n        text: 'Font sizes',\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var findNearest = function (editor, getStyles) {\n      var styles = getStyles();\n      var formats = map$2(styles, function (style) {\n        return style.format;\n      });\n      return Optional.from(editor.formatter.closest(formats)).bind(function (fmt) {\n        return find$5(styles, function (data) {\n          return data.format === fmt;\n        });\n      }).orThunk(function () {\n        return someIf(editor.formatter.match('p'), {\n          title: 'Paragraph',\n          format: 'p'\n        });\n      });\n    };\n\n    var defaultBlocks = 'Paragraph=p;' + 'Heading 1=h1;' + 'Heading 2=h2;' + 'Heading 3=h3;' + 'Heading 4=h4;' + 'Heading 5=h5;' + 'Heading 6=h6;' + 'Preformatted=pre';\n    var getSpec$1 = function (editor) {\n      var fallbackFormat = 'Paragraph';\n      var isSelectedFor = function (format) {\n        return function () {\n          return editor.formatter.match(format);\n        };\n      };\n      var getPreviewFor = function (format) {\n        return function () {\n          var fmt = editor.formatter.get(format);\n          return Optional.some({\n            tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n            styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n          });\n        };\n      };\n      var updateSelectMenuText = function (comp) {\n        var detectedFormat = findNearest(editor, function () {\n          return dataset.data;\n        });\n        var text = detectedFormat.fold(constant$1(fallbackFormat), function (fmt) {\n          return fmt.title;\n        });\n        emitWith(comp, updateMenuText, { text: text });\n      };\n      var dataset = buildBasicSettingsDataset(editor, 'block_formats', defaultBlocks, Delimiter.SemiColon);\n      return {\n        tooltip: 'Blocks',\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor: isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor: getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        dataset: dataset,\n        shouldHide: false,\n        isInvalid: function (item) {\n          return !editor.formatter.canApply(item.format);\n        }\n      };\n    };\n    var createFormatSelect = function (editor, backstage) {\n      return createSelectButton(editor, backstage, getSpec$1(editor));\n    };\n    var formatSelectMenu = function (editor, backstage) {\n      var menuItems = createMenuItems(editor, backstage, getSpec$1(editor));\n      editor.ui.registry.addNestedMenuItem('blockformats', {\n        text: 'Blocks',\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var getSpec = function (editor, dataset) {\n      var fallbackFormat = 'Paragraph';\n      var isSelectedFor = function (format) {\n        return function () {\n          return editor.formatter.match(format);\n        };\n      };\n      var getPreviewFor = function (format) {\n        return function () {\n          var fmt = editor.formatter.get(format);\n          return fmt !== undefined ? Optional.some({\n            tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n            styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n          }) : Optional.none();\n        };\n      };\n      var updateSelectMenuText = function (comp) {\n        var getFormatItems = function (fmt) {\n          var subs = fmt.items;\n          return subs !== undefined && subs.length > 0 ? bind$3(subs, getFormatItems) : [{\n              title: fmt.title,\n              format: fmt.format\n            }];\n        };\n        var flattenedItems = bind$3(getStyleFormats(editor), getFormatItems);\n        var detectedFormat = findNearest(editor, constant$1(flattenedItems));\n        var text = detectedFormat.fold(constant$1(fallbackFormat), function (fmt) {\n          return fmt.title;\n        });\n        emitWith(comp, updateMenuText, { text: text });\n      };\n      return {\n        tooltip: 'Formats',\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor: isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor: getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        shouldHide: editor.getParam('style_formats_autohide', false, 'boolean'),\n        isInvalid: function (item) {\n          return !editor.formatter.canApply(item.format);\n        },\n        dataset: dataset\n      };\n    };\n    var createStyleSelect = function (editor, backstage) {\n      var dataset = __assign({ type: 'advanced' }, backstage.styleselect);\n      return createSelectButton(editor, backstage, getSpec(editor, dataset));\n    };\n    var styleSelectMenu = function (editor, backstage) {\n      var dataset = __assign({ type: 'advanced' }, backstage.styleselect);\n      var menuItems = createMenuItems(editor, backstage, getSpec(editor, dataset));\n      editor.ui.registry.addNestedMenuItem('formats', {\n        text: 'Formats',\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var events$3 = function (reflectingConfig, reflectingState) {\n      var update = function (component, data) {\n        reflectingConfig.updateState.each(function (updateState) {\n          var newState = updateState(component, data);\n          reflectingState.set(newState);\n        });\n        reflectingConfig.renderComponents.each(function (renderComponents) {\n          var newComponents = renderComponents(data, reflectingState.get());\n          var newChildren = map$2(newComponents, component.getSystem().build);\n          replaceChildren(component, newChildren);\n        });\n      };\n      return derive$2([\n        run$1(receive(), function (component, message) {\n          var receivingData = message;\n          if (!receivingData.universal) {\n            var channel = reflectingConfig.channel;\n            if (contains$2(receivingData.channels, channel)) {\n              update(component, receivingData.data);\n            }\n          }\n        }),\n        runOnAttached(function (comp, _se) {\n          reflectingConfig.initialData.each(function (rawData) {\n            update(comp, rawData);\n          });\n        })\n      ]);\n    };\n\n    var ActiveReflecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$3\n    });\n\n    var getState = function (component, replaceConfig, reflectState) {\n      return reflectState;\n    };\n\n    var ReflectingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getState: getState\n    });\n\n    var ReflectingSchema = [\n      required$1('channel'),\n      option('renderComponents'),\n      option('updateState'),\n      option('initialData')\n    ];\n\n    var init$3 = function () {\n      var cell = Cell(Optional.none());\n      var clear = function () {\n        return cell.set(Optional.none());\n      };\n      var readState = function () {\n        return cell.get().getOr('none');\n      };\n      return {\n        readState: readState,\n        get: cell.get,\n        set: cell.set,\n        clear: clear\n      };\n    };\n\n    var ReflectingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$3\n    });\n\n    var Reflecting = create$7({\n      fields: ReflectingSchema,\n      name: 'reflecting',\n      active: ActiveReflecting,\n      apis: ReflectingApis,\n      state: ReflectingState\n    });\n\n    var schema$7 = constant$1([\n      required$1('toggleClass'),\n      required$1('fetch'),\n      onStrictHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      onStrictHandler('onItemExecute'),\n      option('lazySink'),\n      required$1('dom'),\n      onHandler('onOpen'),\n      field('splitDropdownBehaviours', [\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      defaulted('eventOrder', {}),\n      option('role')\n    ].concat(sandboxFields()));\n    var arrowPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'arrow',\n      defaults: function () {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: function (detail) {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: function (arrow) {\n            arrow.getSystem().getByUid(detail.uid).each(emitExecute);\n          },\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleOnExecute: false,\n              toggleClass: detail.toggleClass\n            })])\n        };\n      }\n    });\n    var buttonPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'button',\n      defaults: function () {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: function (detail) {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: function (btn) {\n            btn.getSystem().getByUid(detail.uid).each(function (splitDropdown) {\n              detail.onExecute(splitDropdown, btn);\n            });\n          }\n        };\n      }\n    });\n    var parts$3 = constant$1([\n      arrowPart,\n      buttonPart,\n      optional({\n        factory: {\n          sketch: function (spec) {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      external$1({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        defaults: function (detail) {\n          return {\n            onExecute: function (tmenu, item) {\n              tmenu.getSystem().getByUid(detail.uid).each(function (splitDropdown) {\n                detail.onItemExecute(splitDropdown, tmenu, item);\n              });\n            }\n          };\n        }\n      }),\n      partType$1()\n    ]);\n\n    var factory$5 = function (detail, components, spec, externals) {\n      var _a;\n      var switchToMenu = function (sandbox) {\n        Composing.getCurrent(sandbox).each(function (current) {\n          Highlighting.highlightFirst(current);\n          Keying.focusIn(current);\n        });\n      };\n      var action = function (component) {\n        var onOpenSync = switchToMenu;\n        togglePopup(detail, identity$1, component, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n      };\n      var openMenu = function (comp) {\n        action(comp);\n        return Optional.some(true);\n      };\n      var executeOnButton = function (comp) {\n        var button = getPartOrDie(comp, detail, 'button');\n        emitExecute(button);\n        return Optional.some(true);\n      };\n      var buttonEvents = __assign(__assign({}, derive$2([runOnAttached(function (component, _simulatedEvent) {\n          var ariaDescriptor = getPart(component, detail, 'aria-descriptor');\n          ariaDescriptor.each(function (descriptor) {\n            var descriptorId = generate$6('aria');\n            set$8(descriptor.element, 'id', descriptorId);\n            set$8(component.element, 'aria-describedby', descriptorId);\n          });\n        })])), events$a(Optional.some(action)));\n      var apis = {\n        repositionMenus: function (comp) {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        apis: apis,\n        eventOrder: __assign(__assign({}, detail.eventOrder), (_a = {}, _a[execute$5()] = [\n          'disabling',\n          'toggling',\n          'alloy.base.behaviour'\n        ], _a)),\n        events: buttonEvents,\n        behaviours: augment(detail.splitDropdownBehaviours, [\n          Coupling.config({\n            others: {\n              sandbox: function (hotspot) {\n                var arrow = getPartOrDie(hotspot, detail, 'arrow');\n                var extras = {\n                  onOpen: function () {\n                    Toggling.on(arrow);\n                    Toggling.on(hotspot);\n                  },\n                  onClose: function () {\n                    Toggling.off(arrow);\n                    Toggling.off(hotspot);\n                  }\n                };\n                return makeSandbox$1(detail, hotspot, extras);\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: executeOnButton,\n            onEnter: executeOnButton,\n            onDown: openMenu\n          }),\n          Focusing.config({}),\n          Toggling.config({\n            toggleOnExecute: false,\n            aria: { mode: 'expanded' }\n          })\n        ]),\n        domModification: {\n          attributes: {\n            'role': detail.role.getOr('button'),\n            'aria-haspopup': true\n          }\n        }\n      };\n    };\n    var SplitDropdown = composite({\n      name: 'SplitDropdown',\n      configFields: schema$7(),\n      partFields: parts$3(),\n      factory: factory$5,\n      apis: {\n        repositionMenus: function (apis, comp) {\n          return apis.repositionMenus(comp);\n        }\n      }\n    });\n\n    var getButtonApi = function (component) {\n      return {\n        isDisabled: function () {\n          return Disabling.isDisabled(component);\n        },\n        setDisabled: function (state) {\n          return Disabling.set(component, state);\n        }\n      };\n    };\n    var getToggleApi = function (component) {\n      return {\n        setActive: function (state) {\n          Toggling.set(component, state);\n        },\n        isActive: function () {\n          return Toggling.isOn(component);\n        },\n        isDisabled: function () {\n          return Disabling.isDisabled(component);\n        },\n        setDisabled: function (state) {\n          return Disabling.set(component, state);\n        }\n      };\n    };\n    var getTooltipAttributes = function (tooltip, providersBackstage) {\n      return tooltip.map(function (tooltip) {\n        return {\n          'aria-label': providersBackstage.translate(tooltip),\n          'title': providersBackstage.translate(tooltip)\n        };\n      }).getOr({});\n    };\n    var focusButtonEvent = generate$6('focus-button');\n    var renderCommonStructure = function (icon, text, tooltip, receiver, behaviours, providersBackstage) {\n      var _d;\n      return {\n        dom: {\n          tag: 'button',\n          classes: ['tox-tbtn'].concat(text.isSome() ? ['tox-tbtn--select'] : []),\n          attributes: getTooltipAttributes(tooltip, providersBackstage)\n        },\n        components: componentRenderPipeline([\n          icon.map(function (iconName) {\n            return renderIconFromPack(iconName, providersBackstage.icons);\n          }),\n          text.map(function (text) {\n            return renderLabel$1(text, 'tox-tbtn', providersBackstage);\n          })\n        ]),\n        eventOrder: (_d = {}, _d[mousedown()] = [\n          'focusing',\n          'alloy.base.behaviour',\n          'common-button-display-events'\n        ], _d),\n        buttonBehaviours: derive$1([\n          DisablingConfigs.toolbarButton(providersBackstage.isDisabled),\n          receivingConfig(),\n          config('common-button-display-events', [run$1(mousedown(), function (button, se) {\n              se.event.prevent();\n              emit(button, focusButtonEvent);\n            })])\n        ].concat(receiver.map(function (r) {\n          return Reflecting.config({\n            channel: r,\n            initialData: {\n              icon: icon,\n              text: text\n            },\n            renderComponents: function (data, _state) {\n              return componentRenderPipeline([\n                data.icon.map(function (iconName) {\n                  return renderIconFromPack(iconName, providersBackstage.icons);\n                }),\n                data.text.map(function (text) {\n                  return renderLabel$1(text, 'tox-tbtn', providersBackstage);\n                })\n              ]);\n            }\n          });\n        }).toArray()).concat(behaviours.getOr([])))\n      };\n    };\n    var renderFloatingToolbarButton = function (spec, backstage, identifyButtons, attributes) {\n      var sharedBackstage = backstage.shared;\n      return FloatingToolbarButton.sketch({\n        lazySink: sharedBackstage.getSink,\n        fetch: function () {\n          return Future.nu(function (resolve) {\n            resolve(map$2(identifyButtons(spec.items), renderToolbarGroup));\n          });\n        },\n        markers: { toggledClass: 'tox-tbtn--enabled' },\n        parts: {\n          button: renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.none(), Optional.none(), sharedBackstage.providers),\n          toolbar: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes: attributes\n            }\n          }\n        }\n      });\n    };\n    var renderCommonToolbarButton = function (spec, specialisation, providersBackstage) {\n      var editorOffCell = Cell(noop);\n      var structure = renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.none(), Optional.none(), providersBackstage);\n      return Button.sketch({\n        dom: structure.dom,\n        components: structure.components,\n        eventOrder: toolbarButtonEventOrder,\n        buttonBehaviours: derive$1([\n          config('toolbar-button-events', [\n            onToolbarButtonExecute({\n              onAction: spec.onAction,\n              getApi: specialisation.getApi\n            }),\n            onControlAttached(specialisation, editorOffCell),\n            onControlDetached(specialisation, editorOffCell)\n          ]),\n          DisablingConfigs.toolbarButton(function () {\n            return spec.disabled || providersBackstage.isDisabled();\n          }),\n          receivingConfig()\n        ].concat(specialisation.toolbarButtonBehaviours))\n      });\n    };\n    var renderToolbarButton = function (spec, providersBackstage) {\n      return renderToolbarButtonWith(spec, providersBackstage, []);\n    };\n    var renderToolbarButtonWith = function (spec, providersBackstage, bonusEvents) {\n      return renderCommonToolbarButton(spec, {\n        toolbarButtonBehaviours: [].concat(bonusEvents.length > 0 ? [config('toolbarButtonWith', bonusEvents)] : []),\n        getApi: getButtonApi,\n        onSetup: spec.onSetup\n      }, providersBackstage);\n    };\n    var renderToolbarToggleButton = function (spec, providersBackstage) {\n      return renderToolbarToggleButtonWith(spec, providersBackstage, []);\n    };\n    var renderToolbarToggleButtonWith = function (spec, providersBackstage, bonusEvents) {\n      return deepMerge(renderCommonToolbarButton(spec, {\n        toolbarButtonBehaviours: [\n          Replacing.config({}),\n          Toggling.config({\n            toggleClass: 'tox-tbtn--enabled',\n            aria: { mode: 'pressed' },\n            toggleOnExecute: false\n          })\n        ].concat(bonusEvents.length > 0 ? [config('toolbarToggleButtonWith', bonusEvents)] : []),\n        getApi: getToggleApi,\n        onSetup: spec.onSetup\n      }, providersBackstage));\n    };\n    var fetchChoices = function (getApi, spec, providersBackstage) {\n      return function (comp) {\n        return Future.nu(function (callback) {\n          return spec.fetch(callback);\n        }).map(function (items) {\n          return Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, function (value) {\n            spec.onItemAction(getApi(comp), value);\n          }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, spec.select.getOr(never), providersBackstage), {\n            movement: deriveMenuMovement(spec.columns, spec.presets),\n            menuBehaviours: SimpleBehaviours.unnamedEvents(spec.columns !== 'auto' ? [] : [runOnAttached(function (comp, _se) {\n                detectSize(comp, 4, classForPreset(spec.presets)).each(function (_d) {\n                  var numRows = _d.numRows, numColumns = _d.numColumns;\n                  Keying.setGridSize(comp, numRows, numColumns);\n                });\n              })])\n          })));\n        });\n      };\n    };\n    var renderSplitButton = function (spec, sharedBackstage) {\n      var _d;\n      var displayChannel = generate$6('channel-update-split-dropdown-display');\n      var getApi = function (comp) {\n        return {\n          isDisabled: function () {\n            return Disabling.isDisabled(comp);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(comp, state);\n          },\n          setIconFill: function (id, value) {\n            descendant(comp.element, 'svg path[id=\"' + id + '\"], rect[id=\"' + id + '\"]').each(function (underlinePath) {\n              set$8(underlinePath, 'fill', value);\n            });\n          },\n          setIconStroke: function (id, value) {\n            descendant(comp.element, 'svg path[id=\"' + id + '\"], rect[id=\"' + id + '\"]').each(function (underlinePath) {\n              set$8(underlinePath, 'stroke', value);\n            });\n          },\n          setActive: function (state) {\n            set$8(comp.element, 'aria-pressed', state);\n            descendant(comp.element, 'span').each(function (button) {\n              comp.getSystem().getByDom(button).each(function (buttonComp) {\n                return Toggling.set(buttonComp, state);\n              });\n            });\n          },\n          isActive: function () {\n            return descendant(comp.element, 'span').exists(function (button) {\n              return comp.getSystem().getByDom(button).exists(Toggling.isOn);\n            });\n          }\n        };\n      };\n      var editorOffCell = Cell(noop);\n      var specialisation = {\n        getApi: getApi,\n        onSetup: spec.onSetup\n      };\n      return SplitDropdown.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-split-button'],\n          attributes: __assign({ 'aria-pressed': false }, getTooltipAttributes(spec.tooltip, sharedBackstage.providers))\n        },\n        onExecute: function (button) {\n          spec.onAction(getApi(button));\n        },\n        onItemExecute: function (_a, _b, _c) {\n        },\n        splitDropdownBehaviours: derive$1([\n          DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),\n          receivingConfig(),\n          config('split-dropdown-events', [\n            run$1(focusButtonEvent, Focusing.focus),\n            onControlAttached(specialisation, editorOffCell),\n            onControlDetached(specialisation, editorOffCell)\n          ]),\n          Unselecting.config({})\n        ]),\n        eventOrder: (_d = {}, _d[attachedToDom()] = [\n          'alloy.base.behaviour',\n          'split-dropdown-events'\n        ], _d),\n        toggleClass: 'tox-tbtn--enabled',\n        lazySink: sharedBackstage.getSink,\n        fetch: fetchChoices(getApi, spec, sharedBackstage.providers),\n        parts: { menu: part(false, spec.columns, spec.presets) },\n        components: [\n          SplitDropdown.parts.button(renderCommonStructure(spec.icon, spec.text, Optional.none(), Optional.some(displayChannel), Optional.some([Toggling.config({\n              toggleClass: 'tox-tbtn--enabled',\n              toggleOnExecute: false\n            })]), sharedBackstage.providers)),\n          SplitDropdown.parts.arrow({\n            dom: {\n              tag: 'button',\n              classes: [\n                'tox-tbtn',\n                'tox-split-button__chevron'\n              ],\n              innerHtml: get$1('chevron-down', sharedBackstage.providers.icons)\n            },\n            buttonBehaviours: derive$1([\n              DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),\n              receivingConfig(),\n              addFocusableBehaviour()\n            ])\n          }),\n          SplitDropdown.parts['aria-descriptor']({ text: sharedBackstage.providers.translate('To open the popup, press Shift+Enter') })\n        ]\n      });\n    };\n\n    var defaultToolbar = [\n      {\n        name: 'history',\n        items: [\n          'undo',\n          'redo'\n        ]\n      },\n      {\n        name: 'styles',\n        items: ['styleselect']\n      },\n      {\n        name: 'formatting',\n        items: [\n          'bold',\n          'italic'\n        ]\n      },\n      {\n        name: 'alignment',\n        items: [\n          'alignleft',\n          'aligncenter',\n          'alignright',\n          'alignjustify'\n        ]\n      },\n      {\n        name: 'indentation',\n        items: [\n          'outdent',\n          'indent'\n        ]\n      },\n      {\n        name: 'permanent pen',\n        items: ['permanentpen']\n      },\n      {\n        name: 'comments',\n        items: ['addcomment']\n      }\n    ];\n    var renderFromBridge = function (bridgeBuilder, render) {\n      return function (spec, extras, editor) {\n        var internal = bridgeBuilder(spec).mapError(function (errInfo) {\n          return formatError(errInfo);\n        }).getOrDie();\n        return render(internal, extras, editor);\n      };\n    };\n    var types = {\n      button: renderFromBridge(createToolbarButton, function (s, extras) {\n        return renderToolbarButton(s, extras.backstage.shared.providers);\n      }),\n      togglebutton: renderFromBridge(createToggleButton, function (s, extras) {\n        return renderToolbarToggleButton(s, extras.backstage.shared.providers);\n      }),\n      menubutton: renderFromBridge(createMenuButton, function (s, extras) {\n        return renderMenuButton(s, 'tox-tbtn', extras.backstage, Optional.none());\n      }),\n      splitbutton: renderFromBridge(createSplitButton, function (s, extras) {\n        return renderSplitButton(s, extras.backstage.shared);\n      }),\n      grouptoolbarbutton: renderFromBridge(createGroupToolbarButton, function (s, extras, editor) {\n        var _a;\n        var buttons = editor.ui.registry.getAll().buttons;\n        var identify = function (toolbar) {\n          return identifyButtons(editor, {\n            buttons: buttons,\n            toolbar: toolbar,\n            allowToolbarGroups: false\n          }, extras, Optional.none());\n        };\n        var attributes = (_a = {}, _a[Attribute] = extras.backstage.shared.header.isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop, _a);\n        switch (getToolbarMode(editor)) {\n        case ToolbarMode.floating:\n          return renderFloatingToolbarButton(s, extras.backstage, identify, attributes);\n        default:\n          throw new Error('Toolbar groups are only supported when using floating toolbar mode');\n        }\n      }),\n      styleSelectButton: function (editor, extras) {\n        return createStyleSelect(editor, extras.backstage);\n      },\n      fontsizeSelectButton: function (editor, extras) {\n        return createFontsizeSelect(editor, extras.backstage);\n      },\n      fontSelectButton: function (editor, extras) {\n        return createFontSelect(editor, extras.backstage);\n      },\n      formatButton: function (editor, extras) {\n        return createFormatSelect(editor, extras.backstage);\n      },\n      alignMenuButton: function (editor, extras) {\n        return createAlignSelect(editor, extras.backstage);\n      }\n    };\n    var extractFrom = function (spec, extras, editor) {\n      return get$e(types, spec.type).fold(function () {\n        console.error('skipping button defined by', spec);\n        return Optional.none();\n      }, function (render) {\n        return Optional.some(render(spec, extras, editor));\n      });\n    };\n    var bespokeButtons = {\n      styleselect: types.styleSelectButton,\n      fontsizeselect: types.fontsizeSelectButton,\n      fontselect: types.fontSelectButton,\n      formatselect: types.formatButton,\n      align: types.alignMenuButton\n    };\n    var removeUnusedDefaults = function (buttons) {\n      var filteredItemGroups = map$2(defaultToolbar, function (group) {\n        var items = filter$2(group.items, function (subItem) {\n          return has$2(buttons, subItem) || has$2(bespokeButtons, subItem);\n        });\n        return {\n          name: group.name,\n          items: items\n        };\n      });\n      return filter$2(filteredItemGroups, function (group) {\n        return group.items.length > 0;\n      });\n    };\n    var convertStringToolbar = function (strToolbar) {\n      var groupsStrings = strToolbar.split('|');\n      return map$2(groupsStrings, function (g) {\n        return { items: g.trim().split(' ') };\n      });\n    };\n    var isToolbarGroupSettingArray = function (toolbar) {\n      return isArrayOf(toolbar, function (t) {\n        return has$2(t, 'name') && has$2(t, 'items');\n      });\n    };\n    var createToolbar = function (toolbarConfig) {\n      var toolbar = toolbarConfig.toolbar;\n      var buttons = toolbarConfig.buttons;\n      if (toolbar === false) {\n        return [];\n      } else if (toolbar === undefined || toolbar === true) {\n        return removeUnusedDefaults(buttons);\n      } else if (isString(toolbar)) {\n        return convertStringToolbar(toolbar);\n      } else if (isToolbarGroupSettingArray(toolbar)) {\n        return toolbar;\n      } else {\n        console.error('Toolbar type should be string, string[], boolean or ToolbarGroup[]');\n        return [];\n      }\n    };\n    var lookupButton = function (editor, buttons, toolbarItem, allowToolbarGroups, extras, prefixes) {\n      return get$e(buttons, toolbarItem.toLowerCase()).orThunk(function () {\n        return prefixes.bind(function (ps) {\n          return findMap(ps, function (prefix) {\n            return get$e(buttons, prefix + toolbarItem.toLowerCase());\n          });\n        });\n      }).fold(function () {\n        return get$e(bespokeButtons, toolbarItem.toLowerCase()).map(function (r) {\n          return r(editor, extras);\n        }).orThunk(function () {\n          return Optional.none();\n        });\n      }, function (spec) {\n        if (spec.type === 'grouptoolbarbutton' && !allowToolbarGroups) {\n          console.warn('Ignoring the \\'' + toolbarItem + '\\' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.');\n          return Optional.none();\n        } else {\n          return extractFrom(spec, extras, editor);\n        }\n      });\n    };\n    var identifyButtons = function (editor, toolbarConfig, extras, prefixes) {\n      var toolbarGroups = createToolbar(toolbarConfig);\n      var groups = map$2(toolbarGroups, function (group) {\n        var items = bind$3(group.items, function (toolbarItem) {\n          return toolbarItem.trim().length === 0 ? [] : lookupButton(editor, toolbarConfig.buttons, toolbarItem, toolbarConfig.allowToolbarGroups, extras, prefixes).toArray();\n        });\n        return {\n          title: Optional.from(editor.translate(group.name)),\n          items: items\n        };\n      });\n      return filter$2(groups, function (group) {\n        return group.items.length > 0;\n      });\n    };\n\n    var setToolbar = function (editor, uiComponents, rawUiConfig, backstage) {\n      var comp = uiComponents.outerContainer;\n      var toolbarConfig = rawUiConfig.toolbar;\n      var toolbarButtonsConfig = rawUiConfig.buttons;\n      if (isArrayOf(toolbarConfig, isString)) {\n        var toolbars = toolbarConfig.map(function (t) {\n          var config = {\n            toolbar: t,\n            buttons: toolbarButtonsConfig,\n            allowToolbarGroups: rawUiConfig.allowToolbarGroups\n          };\n          return identifyButtons(editor, config, { backstage: backstage }, Optional.none());\n        });\n        OuterContainer.setToolbars(comp, toolbars);\n      } else {\n        OuterContainer.setToolbar(comp, identifyButtons(editor, rawUiConfig, { backstage: backstage }, Optional.none()));\n      }\n    };\n\n    var detection = detect$1();\n    var isiOS12 = detection.os.isiOS() && detection.os.version.major <= 12;\n    var setupEvents$1 = function (editor, uiComponents) {\n      var dom = editor.dom;\n      var contentWindow = editor.getWin();\n      var initialDocEle = editor.getDoc().documentElement;\n      var lastWindowDimensions = Cell(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n      var lastDocumentDimensions = Cell(SugarPosition(initialDocEle.offsetWidth, initialDocEle.offsetHeight));\n      var resizeWindow = function () {\n        var outer = lastWindowDimensions.get();\n        if (outer.left !== contentWindow.innerWidth || outer.top !== contentWindow.innerHeight) {\n          lastWindowDimensions.set(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n          fireResizeContent(editor);\n        }\n      };\n      var resizeDocument = function () {\n        var docEle = editor.getDoc().documentElement;\n        var inner = lastDocumentDimensions.get();\n        if (inner.left !== docEle.offsetWidth || inner.top !== docEle.offsetHeight) {\n          lastDocumentDimensions.set(SugarPosition(docEle.offsetWidth, docEle.offsetHeight));\n          fireResizeContent(editor);\n        }\n      };\n      var scroll = function (e) {\n        return fireScrollContent(editor, e);\n      };\n      dom.bind(contentWindow, 'resize', resizeWindow);\n      dom.bind(contentWindow, 'scroll', scroll);\n      var elementLoad = capture(SugarElement.fromDom(editor.getBody()), 'load', resizeDocument);\n      var mothership = uiComponents.uiMothership.element;\n      editor.on('hide', function () {\n        set$7(mothership, 'display', 'none');\n      });\n      editor.on('show', function () {\n        remove$6(mothership, 'display');\n      });\n      editor.on('NodeChange', resizeDocument);\n      editor.on('remove', function () {\n        elementLoad.unbind();\n        dom.unbind(contentWindow, 'resize', resizeWindow);\n        dom.unbind(contentWindow, 'scroll', scroll);\n        contentWindow = null;\n      });\n    };\n    var render$1 = function (editor, uiComponents, rawUiConfig, backstage, args) {\n      var lastToolbarWidth = Cell(0);\n      var outerContainer = uiComponents.outerContainer;\n      iframe(editor);\n      var eTargetNode = SugarElement.fromDom(args.targetNode);\n      var uiRoot = getContentContainer(getRootNode(eTargetNode));\n      attachSystemAfter(eTargetNode, uiComponents.mothership);\n      attachSystem(uiRoot, uiComponents.uiMothership);\n      editor.on('PostRender', function () {\n        setToolbar(editor, uiComponents, rawUiConfig, backstage);\n        lastToolbarWidth.set(editor.getWin().innerWidth);\n        OuterContainer.setMenubar(outerContainer, identifyMenus(editor, rawUiConfig));\n        OuterContainer.setSidebar(outerContainer, rawUiConfig.sidebar);\n        setupEvents$1(editor, uiComponents);\n      });\n      var socket = OuterContainer.getSocket(outerContainer).getOrDie('Could not find expected socket element');\n      if (isiOS12) {\n        setAll(socket.element, {\n          'overflow': 'scroll',\n          '-webkit-overflow-scrolling': 'touch'\n        });\n        var limit = first(function () {\n          editor.fire('ScrollContent');\n        }, 20);\n        var unbinder = bind(socket.element, 'scroll', limit.throttle);\n        editor.on('remove', unbinder.unbind);\n      }\n      setupReadonlyModeSwitch(editor, uiComponents);\n      editor.addCommand('ToggleSidebar', function (_ui, value) {\n        OuterContainer.toggleSidebar(outerContainer, value);\n        editor.fire('ToggleSidebar');\n      });\n      editor.addQueryValueHandler('ToggleSidebar', function () {\n        return OuterContainer.whichSidebar(outerContainer);\n      });\n      var toolbarMode = getToolbarMode(editor);\n      var refreshDrawer = function () {\n        OuterContainer.refreshToolbar(uiComponents.outerContainer);\n      };\n      if (toolbarMode === ToolbarMode.sliding || toolbarMode === ToolbarMode.floating) {\n        editor.on('ResizeWindow ResizeEditor ResizeContent', function () {\n          var width = editor.getWin().innerWidth;\n          if (width !== lastToolbarWidth.get()) {\n            refreshDrawer();\n            lastToolbarWidth.set(width);\n          }\n        });\n      }\n      var api = {\n        enable: function () {\n          broadcastReadonly(uiComponents, false);\n        },\n        disable: function () {\n          broadcastReadonly(uiComponents, true);\n        },\n        isDisabled: function () {\n          return Disabling.isDisabled(outerContainer);\n        }\n      };\n      return {\n        iframeContainer: socket.element.dom,\n        editorContainer: outerContainer.element.dom,\n        api: api\n      };\n    };\n\n    var Iframe = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render$1\n    });\n\n    var parseToInt = function (val) {\n      var re = /^[0-9\\.]+(|px)$/i;\n      if (re.test('' + val)) {\n        return Optional.some(parseInt('' + val, 10));\n      }\n      return Optional.none();\n    };\n    var numToPx = function (val) {\n      return isNumber(val) ? val + 'px' : val;\n    };\n    var calcCappedSize = function (size, minSize, maxSize) {\n      var minOverride = minSize.filter(function (min) {\n        return size < min;\n      });\n      var maxOverride = maxSize.filter(function (max) {\n        return size > max;\n      });\n      return minOverride.or(maxOverride).getOr(size);\n    };\n\n    var getHeight = function (editor) {\n      var baseHeight = getHeightSetting(editor);\n      var minHeight = getMinHeightSetting(editor);\n      var maxHeight = getMaxHeightSetting(editor);\n      return parseToInt(baseHeight).map(function (height) {\n        return calcCappedSize(height, minHeight, maxHeight);\n      });\n    };\n    var getHeightWithFallback = function (editor) {\n      var height = getHeight(editor);\n      return height.getOr(getHeightSetting(editor));\n    };\n    var getWidth = function (editor) {\n      var baseWidth = getWidthSetting(editor);\n      var minWidth = getMinWidthSetting(editor);\n      var maxWidth = getMaxWidthSetting(editor);\n      return parseToInt(baseWidth).map(function (width) {\n        return calcCappedSize(width, minWidth, maxWidth);\n      });\n    };\n    var getWidthWithFallback = function (editor) {\n      var width = getWidth(editor);\n      return width.getOr(getWidthSetting(editor));\n    };\n\n    var InlineHeader = function (editor, targetElm, uiComponents, backstage, floatContainer) {\n      var uiMothership = uiComponents.uiMothership, outerContainer = uiComponents.outerContainer;\n      var DOM = global$b.DOM;\n      var useFixedToolbarContainer = useFixedContainer(editor);\n      var isSticky = isStickyToolbar(editor);\n      var editorMaxWidthOpt = getMaxWidthSetting(editor).or(getWidth(editor));\n      var headerBackstage = backstage.shared.header;\n      var isPositionedAtTop = headerBackstage.isPositionedAtTop;\n      var toolbarMode = getToolbarMode(editor);\n      var isSplitToolbar = toolbarMode === ToolbarMode.sliding || toolbarMode === ToolbarMode.floating;\n      var visible = Cell(false);\n      var isVisible = function () {\n        return visible.get() && !editor.removed;\n      };\n      var calcToolbarOffset = function (toolbar) {\n        return isSplitToolbar ? toolbar.fold(constant$1(0), function (tbar) {\n          return tbar.components().length > 1 ? get$b(tbar.components()[1].element) : 0;\n        }) : 0;\n      };\n      var calcMode = function (container) {\n        switch (getToolbarLocation(editor)) {\n        case ToolbarLocation.auto:\n          var toolbar_1 = OuterContainer.getToolbar(outerContainer);\n          var offset = calcToolbarOffset(toolbar_1);\n          var toolbarHeight = get$b(container.element) - offset;\n          var targetBounds = box$1(targetElm);\n          var roomAtTop = targetBounds.y > toolbarHeight;\n          if (roomAtTop) {\n            return 'top';\n          } else {\n            var doc = documentElement(targetElm);\n            var docHeight = Math.max(doc.dom.scrollHeight, get$b(doc));\n            var roomAtBottom = targetBounds.bottom < docHeight - toolbarHeight;\n            if (roomAtBottom) {\n              return 'bottom';\n            } else {\n              var winBounds = win();\n              var isRoomAtBottomViewport = winBounds.bottom < targetBounds.bottom - toolbarHeight;\n              return isRoomAtBottomViewport ? 'bottom' : 'top';\n            }\n          }\n        case ToolbarLocation.bottom:\n          return 'bottom';\n        case ToolbarLocation.top:\n        default:\n          return 'top';\n        }\n      };\n      var setupMode = function (mode) {\n        var container = floatContainer.get();\n        Docking.setModes(container, [mode]);\n        headerBackstage.setDockingMode(mode);\n        var verticalDir = isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop;\n        set$8(container.element, Attribute, verticalDir);\n      };\n      var updateChromeWidth = function () {\n        var maxWidth = editorMaxWidthOpt.getOrThunk(function () {\n          var bodyMargin = parseToInt(get$c(body(), 'margin-left')).getOr(0);\n          return get$a(body()) - absolute$3(targetElm).left + bodyMargin;\n        });\n        set$7(floatContainer.get().element, 'max-width', maxWidth + 'px');\n      };\n      var updateChromePosition = function () {\n        var toolbar = OuterContainer.getToolbar(outerContainer);\n        var offset = calcToolbarOffset(toolbar);\n        var targetBounds = box$1(targetElm);\n        var top = isPositionedAtTop() ? Math.max(targetBounds.y - get$b(floatContainer.get().element) + offset, 0) : targetBounds.bottom;\n        setAll(outerContainer.element, {\n          position: 'absolute',\n          top: Math.round(top) + 'px',\n          left: Math.round(targetBounds.x) + 'px'\n        });\n      };\n      var repositionPopups$1 = function () {\n        uiMothership.broadcastOn([repositionPopups()], {});\n      };\n      var updateChromeUi = function (resetDocking) {\n        if (resetDocking === void 0) {\n          resetDocking = false;\n        }\n        if (!isVisible()) {\n          return;\n        }\n        if (!useFixedToolbarContainer) {\n          updateChromeWidth();\n        }\n        if (isSplitToolbar) {\n          OuterContainer.refreshToolbar(outerContainer);\n        }\n        if (!useFixedToolbarContainer) {\n          updateChromePosition();\n        }\n        if (isSticky) {\n          var floatContainerComp = floatContainer.get();\n          resetDocking ? Docking.reset(floatContainerComp) : Docking.refresh(floatContainerComp);\n        }\n        repositionPopups$1();\n      };\n      var updateMode = function (updateUi) {\n        if (updateUi === void 0) {\n          updateUi = true;\n        }\n        if (useFixedToolbarContainer || !isSticky || !isVisible()) {\n          return;\n        }\n        var currentMode = headerBackstage.getDockingMode();\n        var newMode = calcMode(floatContainer.get());\n        if (newMode !== currentMode) {\n          setupMode(newMode);\n          if (updateUi) {\n            updateChromeUi(true);\n          }\n        }\n      };\n      var show = function () {\n        visible.set(true);\n        set$7(outerContainer.element, 'display', 'flex');\n        DOM.addClass(editor.getBody(), 'mce-edit-focus');\n        remove$6(uiMothership.element, 'display');\n        updateMode(false);\n        updateChromeUi();\n      };\n      var hide = function () {\n        visible.set(false);\n        if (uiComponents.outerContainer) {\n          set$7(outerContainer.element, 'display', 'none');\n          DOM.removeClass(editor.getBody(), 'mce-edit-focus');\n        }\n        set$7(uiMothership.element, 'display', 'none');\n      };\n      return {\n        isVisible: isVisible,\n        isPositionedAtTop: isPositionedAtTop,\n        show: show,\n        hide: hide,\n        update: updateChromeUi,\n        updateMode: updateMode,\n        repositionPopups: repositionPopups$1\n      };\n    };\n\n    var getTargetPosAndBounds = function (targetElm, isToolbarTop) {\n      var bounds = box$1(targetElm);\n      return {\n        pos: isToolbarTop ? bounds.y : bounds.bottom,\n        bounds: bounds\n      };\n    };\n    var setupEvents = function (editor, targetElm, ui, toolbarPersist) {\n      var prevPosAndBounds = Cell(getTargetPosAndBounds(targetElm, ui.isPositionedAtTop()));\n      var resizeContent = function (e) {\n        var _a = getTargetPosAndBounds(targetElm, ui.isPositionedAtTop()), pos = _a.pos, bounds = _a.bounds;\n        var _b = prevPosAndBounds.get(), prevPos = _b.pos, prevBounds = _b.bounds;\n        var hasResized = bounds.height !== prevBounds.height || bounds.width !== prevBounds.width;\n        prevPosAndBounds.set({\n          pos: pos,\n          bounds: bounds\n        });\n        if (hasResized) {\n          fireResizeContent(editor, e);\n        }\n        if (ui.isVisible()) {\n          if (prevPos !== pos) {\n            ui.update(true);\n          } else if (hasResized) {\n            ui.updateMode();\n            ui.repositionPopups();\n          }\n        }\n      };\n      if (!toolbarPersist) {\n        editor.on('activate', ui.show);\n        editor.on('deactivate', ui.hide);\n      }\n      editor.on('SkinLoaded ResizeWindow', function () {\n        return ui.update(true);\n      });\n      editor.on('NodeChange keydown', function (e) {\n        global$f.requestAnimationFrame(function () {\n          return resizeContent(e);\n        });\n      });\n      editor.on('ScrollWindow', function () {\n        return ui.updateMode();\n      });\n      var elementLoad = unbindable();\n      elementLoad.set(capture(SugarElement.fromDom(editor.getBody()), 'load', resizeContent));\n      editor.on('remove', function () {\n        elementLoad.clear();\n      });\n    };\n    var render = function (editor, uiComponents, rawUiConfig, backstage, args) {\n      var mothership = uiComponents.mothership, uiMothership = uiComponents.uiMothership, outerContainer = uiComponents.outerContainer;\n      var floatContainer = Cell(null);\n      var targetElm = SugarElement.fromDom(args.targetNode);\n      var ui = InlineHeader(editor, targetElm, uiComponents, backstage, floatContainer);\n      var toolbarPersist = isToolbarPersist(editor);\n      inline(editor);\n      var render = function () {\n        if (floatContainer.get()) {\n          ui.show();\n          return;\n        }\n        floatContainer.set(OuterContainer.getHeader(outerContainer).getOrDie());\n        var uiContainer = getUiContainer(editor);\n        attachSystem(uiContainer, mothership);\n        attachSystem(uiContainer, uiMothership);\n        setToolbar(editor, uiComponents, rawUiConfig, backstage);\n        OuterContainer.setMenubar(outerContainer, identifyMenus(editor, rawUiConfig));\n        ui.show();\n        setupEvents(editor, targetElm, ui, toolbarPersist);\n        editor.nodeChanged();\n      };\n      editor.on('show', render);\n      editor.on('hide', ui.hide);\n      if (!toolbarPersist) {\n        editor.on('focus', render);\n        editor.on('blur', ui.hide);\n      }\n      editor.on('init', function () {\n        if (editor.hasFocus() || toolbarPersist) {\n          render();\n        }\n      });\n      setupReadonlyModeSwitch(editor, uiComponents);\n      var api = {\n        show: function () {\n          ui.show();\n        },\n        hide: function () {\n          ui.hide();\n        },\n        enable: function () {\n          broadcastReadonly(uiComponents, false);\n        },\n        disable: function () {\n          broadcastReadonly(uiComponents, true);\n        },\n        isDisabled: function () {\n          return Disabling.isDisabled(outerContainer);\n        }\n      };\n      return {\n        editorContainer: outerContainer.element.dom,\n        api: api\n      };\n    };\n\n    var Inline = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render\n    });\n\n    var showContextToolbarEvent = 'contexttoolbar-show';\n    var hideContextToolbarEvent = 'contexttoolbar-hide';\n\n    var getFormApi = function (input) {\n      return {\n        hide: function () {\n          return emit(input, sandboxClose());\n        },\n        getValue: function () {\n          return Representing.getValue(input);\n        }\n      };\n    };\n    var runOnExecute = function (memInput, original) {\n      return run$1(internalToolbarButtonExecute, function (comp, se) {\n        var input = memInput.get(comp);\n        var formApi = getFormApi(input);\n        original.onAction(formApi, se.event.buttonApi);\n      });\n    };\n    var renderContextButton = function (memInput, button, extras) {\n      var _a = button.original; _a.primary; var rest = __rest(_a, ['primary']);\n      var bridged = getOrDie(createToolbarButton(__assign(__assign({}, rest), {\n        type: 'button',\n        onAction: noop\n      })));\n      return renderToolbarButtonWith(bridged, extras.backstage.shared.providers, [runOnExecute(memInput, button)]);\n    };\n    var renderContextToggleButton = function (memInput, button, extras) {\n      var _a = button.original; _a.primary; var rest = __rest(_a, ['primary']);\n      var bridged = getOrDie(createToggleButton(__assign(__assign({}, rest), {\n        type: 'togglebutton',\n        onAction: noop\n      })));\n      return renderToolbarToggleButtonWith(bridged, extras.backstage.shared.providers, [runOnExecute(memInput, button)]);\n    };\n    var generateOne = function (memInput, button, providersBackstage) {\n      var extras = { backstage: { shared: { providers: providersBackstage } } };\n      if (button.type === 'contextformtogglebutton') {\n        return renderContextToggleButton(memInput, button, extras);\n      } else {\n        return renderContextButton(memInput, button, extras);\n      }\n    };\n    var generate = function (memInput, buttons, providersBackstage) {\n      var mementos = map$2(buttons, function (button) {\n        return record(generateOne(memInput, button, providersBackstage));\n      });\n      var asSpecs = function () {\n        return map$2(mementos, function (mem) {\n          return mem.asSpec();\n        });\n      };\n      var findPrimary = function (compInSystem) {\n        return findMap(buttons, function (button, i) {\n          if (button.primary) {\n            return Optional.from(mementos[i]).bind(function (mem) {\n              return mem.getOpt(compInSystem);\n            }).filter(not(Disabling.isDisabled));\n          } else {\n            return Optional.none();\n          }\n        });\n      };\n      return {\n        asSpecs: asSpecs,\n        findPrimary: findPrimary\n      };\n    };\n\n    var buildInitGroups = function (ctx, providers) {\n      var inputAttributes = ctx.label.fold(function () {\n        return {};\n      }, function (label) {\n        return { 'aria-label': label };\n      });\n      var memInput = record(Input.sketch({\n        inputClasses: [\n          'tox-toolbar-textfield',\n          'tox-toolbar-nav-js'\n        ],\n        data: ctx.initValue(),\n        inputAttributes: inputAttributes,\n        selectOnFocus: true,\n        inputBehaviours: derive$1([Keying.config({\n            mode: 'special',\n            onEnter: function (input) {\n              return commands.findPrimary(input).map(function (primary) {\n                emitExecute(primary);\n                return true;\n              });\n            },\n            onLeft: function (comp, se) {\n              se.cut();\n              return Optional.none();\n            },\n            onRight: function (comp, se) {\n              se.cut();\n              return Optional.none();\n            }\n          })])\n      }));\n      var commands = generate(memInput, ctx.commands, providers);\n      return [\n        {\n          title: Optional.none(),\n          items: [memInput.asSpec()]\n        },\n        {\n          title: Optional.none(),\n          items: commands.asSpecs()\n        }\n      ];\n    };\n    var renderContextForm = function (toolbarType, ctx, providers) {\n      return renderToolbar({\n        type: toolbarType,\n        uid: generate$6('context-toolbar'),\n        initGroups: buildInitGroups(ctx, providers),\n        onEscape: Optional.none,\n        cyclicKeying: true,\n        providers: providers\n      });\n    };\n    var ContextForm = {\n      renderContextForm: renderContextForm,\n      buildInitGroups: buildInitGroups\n    };\n\n    var isVerticalOverlap = function (a, b, threshold) {\n      if (threshold === void 0) {\n        threshold = 0.01;\n      }\n      return b.bottom - a.y >= threshold && a.bottom - b.y >= threshold;\n    };\n    var getRangeRect = function (rng) {\n      var rect = rng.getBoundingClientRect();\n      if (rect.height <= 0 && rect.width <= 0) {\n        var leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset).element;\n        var elm = isText$1(leaf$1) ? parent(leaf$1) : Optional.some(leaf$1);\n        return elm.filter(isElement$2).map(function (e) {\n          return e.dom.getBoundingClientRect();\n        }).getOr(rect);\n      } else {\n        return rect;\n      }\n    };\n    var getSelectionBounds = function (editor) {\n      var rng = editor.selection.getRng();\n      var rect = getRangeRect(rng);\n      if (editor.inline) {\n        var scroll_1 = get$9();\n        return bounds(scroll_1.left + rect.left, scroll_1.top + rect.top, rect.width, rect.height);\n      } else {\n        var bodyPos = absolute$2(SugarElement.fromDom(editor.getBody()));\n        return bounds(bodyPos.x + rect.left, bodyPos.y + rect.top, rect.width, rect.height);\n      }\n    };\n    var getAnchorElementBounds = function (editor, lastElement) {\n      return lastElement.filter(inBody).map(absolute$2).getOrThunk(function () {\n        return getSelectionBounds(editor);\n      });\n    };\n    var getHorizontalBounds = function (contentAreaBox, viewportBounds, margin) {\n      var x = Math.max(contentAreaBox.x + margin, viewportBounds.x);\n      var right = Math.min(contentAreaBox.right - margin, viewportBounds.right);\n      return {\n        x: x,\n        width: right - x\n      };\n    };\n    var getVerticalBounds = function (editor, contentAreaBox, viewportBounds, isToolbarLocationTop, toolbarType, margin) {\n      var container = SugarElement.fromDom(editor.getContainer());\n      var header = descendant(container, '.tox-editor-header').getOr(container);\n      var headerBox = box$1(header);\n      var isToolbarBelowContentArea = headerBox.y >= contentAreaBox.bottom;\n      var isToolbarAbove = isToolbarLocationTop && !isToolbarBelowContentArea;\n      if (editor.inline && isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: viewportBounds.bottom\n        };\n      }\n      if (editor.inline && !isToolbarAbove) {\n        return {\n          y: viewportBounds.y,\n          bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n        };\n      }\n      var containerBounds = toolbarType === 'line' ? box$1(container) : contentAreaBox;\n      if (isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: Math.min(containerBounds.bottom - margin, viewportBounds.bottom)\n        };\n      }\n      return {\n        y: Math.max(containerBounds.y + margin, viewportBounds.y),\n        bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n      };\n    };\n    var getContextToolbarBounds = function (editor, sharedBackstage, toolbarType, margin) {\n      if (margin === void 0) {\n        margin = 0;\n      }\n      var viewportBounds = getBounds$3(window);\n      var contentAreaBox = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n      var toolbarOrMenubarEnabled = isMenubarEnabled(editor) || isToolbarEnabled(editor) || isMultipleToolbars(editor);\n      var _a = getHorizontalBounds(contentAreaBox, viewportBounds, margin), x = _a.x, width = _a.width;\n      if (editor.inline && !toolbarOrMenubarEnabled) {\n        return bounds(x, viewportBounds.y, width, viewportBounds.height);\n      } else {\n        var isToolbarTop = sharedBackstage.header.isPositionedAtTop();\n        var _b = getVerticalBounds(editor, contentAreaBox, viewportBounds, isToolbarTop, toolbarType, margin), y = _b.y, bottom = _b.bottom;\n        return bounds(x, y, width, bottom - y);\n      }\n    };\n\n    var bubbleSize$1 = 12;\n    var bubbleAlignments$1 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top'],\n      inset: ['tox-pop--inset']\n    };\n    var anchorOverrides = {\n      maxHeightFunction: expandable$1(),\n      maxWidthFunction: expandable()\n    };\n    var isEntireElementSelected = function (editor, elem) {\n      var rng = editor.selection.getRng();\n      var leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset);\n      return rng.startContainer === rng.endContainer && rng.startOffset === rng.endOffset - 1 && eq(leaf$1.element, elem);\n    };\n    var preservePosition = function (elem, position, f) {\n      var currentPosition = getRaw(elem, 'position');\n      set$7(elem, 'position', position);\n      var result = f(elem);\n      currentPosition.each(function (pos) {\n        return set$7(elem, 'position', pos);\n      });\n      return result;\n    };\n    var shouldUseInsetLayouts = function (position) {\n      return position === 'node';\n    };\n    var determineInsetLayout = function (editor, contextbar, elem, data, bounds) {\n      var selectionBounds = getSelectionBounds(editor);\n      var isSameAnchorElement = data.lastElement().exists(function (prev) {\n        return eq(elem, prev);\n      });\n      if (isEntireElementSelected(editor, elem)) {\n        return isSameAnchorElement ? preserve : north;\n      } else if (isSameAnchorElement) {\n        return preservePosition(contextbar, data.getMode(), function () {\n          var isOverlapping = isVerticalOverlap(selectionBounds, box$1(contextbar));\n          return isOverlapping && !data.isReposition() ? flip$2 : preserve;\n        });\n      } else {\n        var yBounds = data.getMode() === 'fixed' ? bounds.y + get$9().top : bounds.y;\n        var contextbarHeight = get$b(contextbar) + bubbleSize$1;\n        return yBounds + contextbarHeight <= selectionBounds.y ? north : south;\n      }\n    };\n    var getAnchorSpec$2 = function (editor, mobile, data, position) {\n      var smartInsetLayout = function (elem) {\n        return function (anchor, element, bubbles, placee, bounds) {\n          var layout = determineInsetLayout(editor, placee, elem, data, bounds);\n          var newAnchor = __assign(__assign({}, anchor), {\n            y: bounds.y,\n            height: bounds.height\n          });\n          return __assign(__assign({}, layout(newAnchor, element, bubbles, placee, bounds)), { alwaysFit: true });\n        };\n      };\n      var getInsetLayouts = function (elem) {\n        return shouldUseInsetLayouts(position) ? [smartInsetLayout(elem)] : [];\n      };\n      var desktopAnchorSpecLayouts = {\n        onLtr: function (elem) {\n          return [\n            north$2,\n            south$2,\n            northeast$2,\n            southeast$2,\n            northwest$2,\n            southwest$2\n          ].concat(getInsetLayouts(elem));\n        },\n        onRtl: function (elem) {\n          return [\n            north$2,\n            south$2,\n            northwest$2,\n            southwest$2,\n            northeast$2,\n            southeast$2\n          ].concat(getInsetLayouts(elem));\n        }\n      };\n      var mobileAnchorSpecLayouts = {\n        onLtr: function (elem) {\n          return [\n            south$2,\n            southeast$2,\n            southwest$2,\n            northeast$2,\n            northwest$2,\n            north$2\n          ].concat(getInsetLayouts(elem));\n        },\n        onRtl: function (elem) {\n          return [\n            south$2,\n            southwest$2,\n            southeast$2,\n            northwest$2,\n            northeast$2,\n            north$2\n          ].concat(getInsetLayouts(elem));\n        }\n      };\n      return mobile ? mobileAnchorSpecLayouts : desktopAnchorSpecLayouts;\n    };\n    var getAnchorLayout = function (editor, position, isTouch, data) {\n      if (position === 'line') {\n        return {\n          bubble: nu$5(bubbleSize$1, 0, bubbleAlignments$1),\n          layouts: {\n            onLtr: function () {\n              return [east$2];\n            },\n            onRtl: function () {\n              return [west$2];\n            }\n          },\n          overrides: anchorOverrides\n        };\n      } else {\n        return {\n          bubble: nu$5(0, bubbleSize$1, bubbleAlignments$1, 1 / bubbleSize$1),\n          layouts: getAnchorSpec$2(editor, isTouch, data, position),\n          overrides: anchorOverrides\n        };\n      }\n    };\n\n    var matchTargetWith = function (elem, candidates) {\n      var ctxs = filter$2(candidates, function (toolbarApi) {\n        return toolbarApi.predicate(elem.dom);\n      });\n      var _a = partition$3(ctxs, function (t) {\n          return t.type === 'contexttoolbar';\n        }), pass = _a.pass, fail = _a.fail;\n      return {\n        contextToolbars: pass,\n        contextForms: fail\n      };\n    };\n    var filterByPositionForStartNode = function (toolbars) {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        var doesPositionExist = function (value) {\n          return exists(toolbars, function (t) {\n            return t.position === value;\n          });\n        };\n        var filterToolbarsByPosition = function (value) {\n          return filter$2(toolbars, function (t) {\n            return t.position === value;\n          });\n        };\n        var hasSelectionToolbars = doesPositionExist('selection');\n        var hasNodeToolbars = doesPositionExist('node');\n        if (hasSelectionToolbars || hasNodeToolbars) {\n          if (hasNodeToolbars && hasSelectionToolbars) {\n            var nodeToolbars = filterToolbarsByPosition('node');\n            var selectionToolbars = map$2(filterToolbarsByPosition('selection'), function (t) {\n              return __assign(__assign({}, t), { position: 'node' });\n            });\n            return nodeToolbars.concat(selectionToolbars);\n          } else {\n            return hasSelectionToolbars ? filterToolbarsByPosition('selection') : filterToolbarsByPosition('node');\n          }\n        } else {\n          return filterToolbarsByPosition('line');\n        }\n      }\n    };\n    var filterByPositionForAncestorNode = function (toolbars) {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        var findPosition_1 = function (value) {\n          return find$5(toolbars, function (t) {\n            return t.position === value;\n          });\n        };\n        var basePosition = findPosition_1('selection').orThunk(function () {\n          return findPosition_1('node');\n        }).orThunk(function () {\n          return findPosition_1('line');\n        }).map(function (t) {\n          return t.position;\n        });\n        return basePosition.fold(function () {\n          return [];\n        }, function (pos) {\n          return filter$2(toolbars, function (t) {\n            return t.position === pos;\n          });\n        });\n      }\n    };\n    var matchStartNode = function (elem, nodeCandidates, editorCandidates) {\n      var nodeMatches = matchTargetWith(elem, nodeCandidates);\n      if (nodeMatches.contextForms.length > 0) {\n        return Optional.some({\n          elem: elem,\n          toolbars: [nodeMatches.contextForms[0]]\n        });\n      } else {\n        var editorMatches = matchTargetWith(elem, editorCandidates);\n        if (editorMatches.contextForms.length > 0) {\n          return Optional.some({\n            elem: elem,\n            toolbars: [editorMatches.contextForms[0]]\n          });\n        } else if (nodeMatches.contextToolbars.length > 0 || editorMatches.contextToolbars.length > 0) {\n          var toolbars = filterByPositionForStartNode(nodeMatches.contextToolbars.concat(editorMatches.contextToolbars));\n          return Optional.some({\n            elem: elem,\n            toolbars: toolbars\n          });\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n    var matchAncestor = function (isRoot, startNode, scopes) {\n      if (isRoot(startNode)) {\n        return Optional.none();\n      } else {\n        return ancestor$2(startNode, function (ancestorElem) {\n          if (isElement$2(ancestorElem)) {\n            var _a = matchTargetWith(ancestorElem, scopes.inNodeScope), contextToolbars = _a.contextToolbars, contextForms = _a.contextForms;\n            var toolbars = contextForms.length > 0 ? contextForms : filterByPositionForAncestorNode(contextToolbars);\n            return toolbars.length > 0 ? Optional.some({\n              elem: ancestorElem,\n              toolbars: toolbars\n            }) : Optional.none();\n          } else {\n            return Optional.none();\n          }\n        }, isRoot);\n      }\n    };\n    var lookup$1 = function (scopes, editor) {\n      var rootElem = SugarElement.fromDom(editor.getBody());\n      var isRoot = function (elem) {\n        return eq(elem, rootElem);\n      };\n      var isOutsideRoot = function (startNode) {\n        return !isRoot(startNode) && !contains(rootElem, startNode);\n      };\n      var startNode = SugarElement.fromDom(editor.selection.getNode());\n      if (isOutsideRoot(startNode)) {\n        return Optional.none();\n      }\n      return matchStartNode(startNode, scopes.inNodeScope, scopes.inEditorScope).orThunk(function () {\n        return matchAncestor(isRoot, startNode, scopes);\n      });\n    };\n\n    var categorise = function (contextToolbars, navigate) {\n      var forms = {};\n      var inNodeScope = [];\n      var inEditorScope = [];\n      var formNavigators = {};\n      var lookupTable = {};\n      var registerForm = function (key, toolbarSpec) {\n        var contextForm = getOrDie(createContextForm(toolbarSpec));\n        forms[key] = contextForm;\n        contextForm.launch.map(function (launch) {\n          formNavigators['form:' + key + ''] = __assign(__assign({}, toolbarSpec.launch), {\n            type: launch.type === 'contextformtogglebutton' ? 'togglebutton' : 'button',\n            onAction: function () {\n              navigate(contextForm);\n            }\n          });\n        });\n        if (contextForm.scope === 'editor') {\n          inEditorScope.push(contextForm);\n        } else {\n          inNodeScope.push(contextForm);\n        }\n        lookupTable[key] = contextForm;\n      };\n      var registerToolbar = function (key, toolbarSpec) {\n        createContextToolbar(toolbarSpec).each(function (contextToolbar) {\n          if (toolbarSpec.scope === 'editor') {\n            inEditorScope.push(contextToolbar);\n          } else {\n            inNodeScope.push(contextToolbar);\n          }\n          lookupTable[key] = contextToolbar;\n        });\n      };\n      var keys$1 = keys(contextToolbars);\n      each$1(keys$1, function (key) {\n        var toolbarApi = contextToolbars[key];\n        if (toolbarApi.type === 'contextform') {\n          registerForm(key, toolbarApi);\n        } else if (toolbarApi.type === 'contexttoolbar') {\n          registerToolbar(key, toolbarApi);\n        }\n      });\n      return {\n        forms: forms,\n        inNodeScope: inNodeScope,\n        inEditorScope: inEditorScope,\n        lookupTable: lookupTable,\n        formNavigators: formNavigators\n      };\n    };\n\n    var forwardSlideEvent = generate$6('forward-slide');\n    var backSlideEvent = generate$6('backward-slide');\n    var changeSlideEvent = generate$6('change-slide-event');\n    var resizingClass = 'tox-pop--resizing';\n    var renderContextToolbar = function (spec) {\n      var stack = Cell([]);\n      return InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-pop']\n        },\n        fireDismissalEventInstead: { event: 'doNotDismissYet' },\n        onShow: function (comp) {\n          stack.set([]);\n          InlineView.getContent(comp).each(function (c) {\n            remove$6(c.element, 'visibility');\n          });\n          remove$2(comp.element, resizingClass);\n          remove$6(comp.element, 'width');\n        },\n        inlineBehaviours: derive$1([\n          config('context-toolbar-events', [\n            runOnSource(transitionend(), function (comp, se) {\n              if (se.event.raw.propertyName === 'width') {\n                remove$2(comp.element, resizingClass);\n                remove$6(comp.element, 'width');\n              }\n            }),\n            run$1(changeSlideEvent, function (comp, se) {\n              var elem = comp.element;\n              remove$6(elem, 'width');\n              var currentWidth = get$a(elem);\n              InlineView.setContent(comp, se.event.contents);\n              add$2(elem, resizingClass);\n              var newWidth = get$a(elem);\n              set$7(elem, 'width', currentWidth + 'px');\n              InlineView.getContent(comp).each(function (newContents) {\n                se.event.focus.bind(function (f) {\n                  focus$3(f);\n                  return search(elem);\n                }).orThunk(function () {\n                  Keying.focusIn(newContents);\n                  return active(getRootNode(elem));\n                });\n              });\n              global$f.setTimeout(function () {\n                set$7(comp.element, 'width', newWidth + 'px');\n              }, 0);\n            }),\n            run$1(forwardSlideEvent, function (comp, se) {\n              InlineView.getContent(comp).each(function (oldContents) {\n                stack.set(stack.get().concat([{\n                    bar: oldContents,\n                    focus: active(getRootNode(comp.element))\n                  }]));\n              });\n              emitWith(comp, changeSlideEvent, {\n                contents: se.event.forwardContents,\n                focus: Optional.none()\n              });\n            }),\n            run$1(backSlideEvent, function (comp, _se) {\n              last$2(stack.get()).each(function (last) {\n                stack.set(stack.get().slice(0, stack.get().length - 1));\n                emitWith(comp, changeSlideEvent, {\n                  contents: premade(last.bar),\n                  focus: last.focus\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'special',\n            onEscape: function (comp) {\n              return last$2(stack.get()).fold(function () {\n                return spec.onEscape();\n              }, function (_) {\n                emit(comp, backSlideEvent);\n                return Optional.some(true);\n              });\n            }\n          })\n        ]),\n        lazySink: function () {\n          return Result.value(spec.sink);\n        }\n      });\n    };\n\n    var transitionClass = 'tox-pop--transition';\n    var register$7 = function (editor, registryContextToolbars, sink, extras) {\n      var backstage = extras.backstage;\n      var sharedBackstage = backstage.shared;\n      var isTouch = detect$1().deviceType.isTouch;\n      var lastElement = value$1();\n      var lastTrigger = value$1();\n      var lastContextPosition = value$1();\n      var contextbar = build$1(renderContextToolbar({\n        sink: sink,\n        onEscape: function () {\n          editor.focus();\n          return Optional.some(true);\n        }\n      }));\n      var getBounds = function () {\n        var position = lastContextPosition.get().getOr('node');\n        var margin = shouldUseInsetLayouts(position) ? 1 : 0;\n        return getContextToolbarBounds(editor, sharedBackstage, position, margin);\n      };\n      var canLaunchToolbar = function () {\n        return !editor.removed && !(isTouch() && backstage.isContextMenuOpen());\n      };\n      var isSameLaunchElement = function (elem) {\n        return is$1(lift2(elem, lastElement.get(), eq), true);\n      };\n      var shouldContextToolbarHide = function () {\n        if (!canLaunchToolbar()) {\n          return true;\n        } else {\n          var contextToolbarBounds = getBounds();\n          var anchorBounds = is$1(lastContextPosition.get(), 'node') ? getAnchorElementBounds(editor, lastElement.get()) : getSelectionBounds(editor);\n          return contextToolbarBounds.height <= 0 || !isVerticalOverlap(anchorBounds, contextToolbarBounds);\n        }\n      };\n      var close = function () {\n        lastElement.clear();\n        lastTrigger.clear();\n        lastContextPosition.clear();\n        InlineView.hide(contextbar);\n      };\n      var hideOrRepositionIfNecessary = function () {\n        if (InlineView.isOpen(contextbar)) {\n          var contextBarEle = contextbar.element;\n          remove$6(contextBarEle, 'display');\n          if (shouldContextToolbarHide()) {\n            set$7(contextBarEle, 'display', 'none');\n          } else {\n            lastTrigger.set(0);\n            InlineView.reposition(contextbar);\n          }\n        }\n      };\n      var wrapInPopDialog = function (toolbarSpec) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-pop__dialog']\n          },\n          components: [toolbarSpec],\n          behaviours: derive$1([\n            Keying.config({ mode: 'acyclic' }),\n            config('pop-dialog-wrap-events', [\n              runOnAttached(function (comp) {\n                editor.shortcuts.add('ctrl+F9', 'focus statusbar', function () {\n                  return Keying.focusIn(comp);\n                });\n              }),\n              runOnDetached(function (_comp) {\n                editor.shortcuts.remove('ctrl+F9');\n              })\n            ])\n          ])\n        };\n      };\n      var getScopes = cached(function () {\n        return categorise(registryContextToolbars, function (toolbarApi) {\n          var alloySpec = buildToolbar([toolbarApi]);\n          emitWith(contextbar, forwardSlideEvent, { forwardContents: wrapInPopDialog(alloySpec) });\n        });\n      });\n      var buildContextToolbarGroups = function (allButtons, ctx) {\n        return identifyButtons(editor, {\n          buttons: allButtons,\n          toolbar: ctx.items,\n          allowToolbarGroups: false\n        }, extras, Optional.some(['form:']));\n      };\n      var buildContextFormGroups = function (ctx, providers) {\n        return ContextForm.buildInitGroups(ctx, providers);\n      };\n      var buildToolbar = function (toolbars) {\n        var buttons = editor.ui.registry.getAll().buttons;\n        var scopes = getScopes();\n        var allButtons = __assign(__assign({}, buttons), scopes.formNavigators);\n        var toolbarType = getToolbarMode(editor) === ToolbarMode.scrolling ? ToolbarMode.scrolling : ToolbarMode.default;\n        var initGroups = flatten(map$2(toolbars, function (ctx) {\n          return ctx.type === 'contexttoolbar' ? buildContextToolbarGroups(allButtons, ctx) : buildContextFormGroups(ctx, sharedBackstage.providers);\n        }));\n        return renderToolbar({\n          type: toolbarType,\n          uid: generate$6('context-toolbar'),\n          initGroups: initGroups,\n          onEscape: Optional.none,\n          cyclicKeying: true,\n          providers: sharedBackstage.providers\n        });\n      };\n      var getAnchor = function (position, element) {\n        var anchorage = position === 'node' ? sharedBackstage.anchors.node(element) : sharedBackstage.anchors.cursor();\n        var anchorLayout = getAnchorLayout(editor, position, isTouch(), {\n          lastElement: lastElement.get,\n          isReposition: function () {\n            return is$1(lastTrigger.get(), 0);\n          },\n          getMode: function () {\n            return Positioning.getMode(sink);\n          }\n        });\n        return deepMerge(anchorage, anchorLayout);\n      };\n      var launchContext = function (toolbarApi, elem) {\n        launchContextToolbar.cancel();\n        if (!canLaunchToolbar()) {\n          return;\n        }\n        var toolbarSpec = buildToolbar(toolbarApi);\n        var position = toolbarApi[0].position;\n        var anchor = getAnchor(position, elem);\n        lastContextPosition.set(position);\n        lastTrigger.set(1);\n        var contextBarEle = contextbar.element;\n        remove$6(contextBarEle, 'display');\n        if (!isSameLaunchElement(elem)) {\n          remove$2(contextBarEle, transitionClass);\n          Positioning.reset(sink, contextbar);\n        }\n        InlineView.showWithinBounds(contextbar, wrapInPopDialog(toolbarSpec), {\n          anchor: anchor,\n          transition: {\n            classes: [transitionClass],\n            mode: 'placement'\n          }\n        }, function () {\n          return Optional.some(getBounds());\n        });\n        elem.fold(lastElement.clear, lastElement.set);\n        if (shouldContextToolbarHide()) {\n          set$7(contextBarEle, 'display', 'none');\n        }\n      };\n      var launchContextToolbar = last(function () {\n        if (!editor.hasFocus() || editor.removed) {\n          return;\n        }\n        if (has(contextbar.element, transitionClass)) {\n          launchContextToolbar.throttle();\n        } else {\n          var scopes = getScopes();\n          lookup$1(scopes, editor).fold(close, function (info) {\n            launchContext(info.toolbars, Optional.some(info.elem));\n          });\n        }\n      }, 17);\n      editor.on('init', function () {\n        editor.on('remove', close);\n        editor.on('ScrollContent ScrollWindow ObjectResized ResizeEditor longpress', hideOrRepositionIfNecessary);\n        editor.on('click keyup focus SetContent', launchContextToolbar.throttle);\n        editor.on(hideContextToolbarEvent, close);\n        editor.on(showContextToolbarEvent, function (e) {\n          var scopes = getScopes();\n          get$e(scopes.lookupTable, e.toolbarKey).each(function (ctx) {\n            launchContext([ctx], someIf(e.target !== editor, e.target));\n            InlineView.getContent(contextbar).each(Keying.focusIn);\n          });\n        });\n        editor.on('focusout', function (_e) {\n          global$f.setEditorTimeout(editor, function () {\n            if (search(sink.element).isNone() && search(contextbar.element).isNone()) {\n              close();\n            }\n          }, 0);\n        });\n        editor.on('SwitchMode', function () {\n          if (editor.mode.isReadOnly()) {\n            close();\n          }\n        });\n        editor.on('AfterProgressState', function (event) {\n          if (event.state) {\n            close();\n          } else if (editor.hasFocus()) {\n            launchContextToolbar.throttle();\n          }\n        });\n        editor.on('NodeChange', function (_e) {\n          search(contextbar.element).fold(launchContextToolbar.throttle, noop);\n        });\n      });\n    };\n\n    var register$6 = function (editor) {\n      var alignToolbarButtons = [\n        {\n          name: 'alignleft',\n          text: 'Align left',\n          cmd: 'JustifyLeft',\n          icon: 'align-left'\n        },\n        {\n          name: 'aligncenter',\n          text: 'Align center',\n          cmd: 'JustifyCenter',\n          icon: 'align-center'\n        },\n        {\n          name: 'alignright',\n          text: 'Align right',\n          cmd: 'JustifyRight',\n          icon: 'align-right'\n        },\n        {\n          name: 'alignjustify',\n          text: 'Justify',\n          cmd: 'JustifyFull',\n          icon: 'align-justify'\n        }\n      ];\n      each$1(alignToolbarButtons, function (item) {\n        editor.ui.registry.addToggleButton(item.name, {\n          tooltip: item.text,\n          icon: item.icon,\n          onAction: onActionExecCommand(editor, item.cmd),\n          onSetup: onSetupFormatToggle(editor, item.name)\n        });\n      });\n      editor.ui.registry.addButton('alignnone', {\n        tooltip: 'No alignment',\n        icon: 'align-none',\n        onAction: onActionExecCommand(editor, 'JustifyNone')\n      });\n    };\n\n    var units = {\n      unsupportedLength: [\n        'em',\n        'ex',\n        'cap',\n        'ch',\n        'ic',\n        'rem',\n        'lh',\n        'rlh',\n        'vw',\n        'vh',\n        'vi',\n        'vb',\n        'vmin',\n        'vmax',\n        'cm',\n        'mm',\n        'Q',\n        'in',\n        'pc',\n        'pt',\n        'px'\n      ],\n      fixed: [\n        'px',\n        'pt'\n      ],\n      relative: ['%'],\n      empty: ['']\n    };\n    var pattern = function () {\n      var decimalDigits = '[0-9]+';\n      var signedInteger = '[+-]?' + decimalDigits;\n      var exponentPart = '[eE]' + signedInteger;\n      var dot = '\\\\.';\n      var opt = function (input) {\n        return '(?:' + input + ')?';\n      };\n      var unsignedDecimalLiteral = [\n        'Infinity',\n        decimalDigits + dot + opt(decimalDigits) + opt(exponentPart),\n        dot + decimalDigits + opt(exponentPart),\n        decimalDigits + opt(exponentPart)\n      ].join('|');\n      var float = '[+-]?(?:' + unsignedDecimalLiteral + ')';\n      return new RegExp('^(' + float + ')(.*)$');\n    }();\n    var isUnit = function (unit, accepted) {\n      return exists(accepted, function (acc) {\n        return exists(units[acc], function (check) {\n          return unit === check;\n        });\n      });\n    };\n    var parse = function (input, accepted) {\n      var match = Optional.from(pattern.exec(input));\n      return match.bind(function (array) {\n        var value = Number(array[1]);\n        var unitRaw = array[2];\n        if (isUnit(unitRaw, accepted)) {\n          return Optional.some({\n            value: value,\n            unit: unitRaw\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var normalise = function (input, accepted) {\n      return parse(input, accepted).map(function (_a) {\n        var value = _a.value, unit = _a.unit;\n        return value + unit;\n      });\n    };\n\n    var registerController = function (editor, spec) {\n      var getMenuItems = function () {\n        var options = spec.getOptions(editor);\n        var initial = spec.getCurrent(editor).map(spec.hash);\n        var current = value$1();\n        return map$2(options, function (value) {\n          return {\n            type: 'togglemenuitem',\n            text: spec.display(value),\n            onSetup: function (api) {\n              var setActive = function (active) {\n                if (active) {\n                  current.on(function (oldApi) {\n                    return oldApi.setActive(false);\n                  });\n                  current.set(api);\n                }\n                api.setActive(active);\n              };\n              setActive(is$1(initial, spec.hash(value)));\n              var unbindWatcher = spec.watcher(editor, value, setActive);\n              return function () {\n                current.clear();\n                unbindWatcher();\n              };\n            },\n            onAction: function () {\n              return spec.setCurrent(editor, value);\n            }\n          };\n        });\n      };\n      editor.ui.registry.addMenuButton(spec.name, {\n        tooltip: spec.text,\n        icon: spec.icon,\n        fetch: function (callback) {\n          return callback(getMenuItems());\n        },\n        onSetup: spec.onToolbarSetup\n      });\n      editor.ui.registry.addNestedMenuItem(spec.name, {\n        type: 'nestedmenuitem',\n        text: spec.text,\n        getSubmenuItems: getMenuItems,\n        onSetup: spec.onMenuSetup\n      });\n    };\n    var lineHeightSpec = {\n      name: 'lineheight',\n      text: 'Line height',\n      icon: 'line-height',\n      getOptions: getLineHeightFormats,\n      hash: function (input) {\n        return normalise(input, [\n          'fixed',\n          'relative',\n          'empty'\n        ]).getOr(input);\n      },\n      display: identity$1,\n      watcher: function (editor, value, callback) {\n        return editor.formatter.formatChanged('lineheight', callback, false, { value: value }).unbind;\n      },\n      getCurrent: function (editor) {\n        return Optional.from(editor.queryCommandValue('LineHeight'));\n      },\n      setCurrent: function (editor, value) {\n        return editor.execCommand('LineHeight', false, value);\n      }\n    };\n    var languageSpec = function (editor) {\n      var settingsOpt = Optional.from(getContentLanguages(editor));\n      return settingsOpt.map(function (settings) {\n        return {\n          name: 'language',\n          text: 'Language',\n          icon: 'language',\n          getOptions: constant$1(settings),\n          hash: function (input) {\n            return isUndefined(input.customCode) ? input.code : input.code + '/' + input.customCode;\n          },\n          display: function (input) {\n            return input.title;\n          },\n          watcher: function (editor, value, callback) {\n            return editor.formatter.formatChanged('lang', callback, false, {\n              value: value.code,\n              customValue: value.customCode\n            }).unbind;\n          },\n          getCurrent: function (editor) {\n            var node = SugarElement.fromDom(editor.selection.getNode());\n            return closest$4(node, function (n) {\n              return Optional.some(n).filter(isElement$2).bind(function (ele) {\n                var codeOpt = getOpt(ele, 'lang');\n                return codeOpt.map(function (code) {\n                  var customCode = getOpt(ele, 'data-mce-lang').getOrUndefined();\n                  return {\n                    code: code,\n                    customCode: customCode,\n                    title: ''\n                  };\n                });\n              });\n            });\n          },\n          setCurrent: function (editor, lang) {\n            return editor.execCommand('Lang', false, lang);\n          },\n          onToolbarSetup: function (api) {\n            var unbinder = unbindable();\n            api.setActive(editor.formatter.match('lang', {}, undefined, true));\n            unbinder.set(editor.formatter.formatChanged('lang', api.setActive, true));\n            return unbinder.clear;\n          }\n        };\n      });\n    };\n    var register$5 = function (editor) {\n      registerController(editor, lineHeightSpec);\n      languageSpec(editor).each(function (spec) {\n        return registerController(editor, spec);\n      });\n    };\n\n    var register$4 = function (editor, backstage) {\n      alignSelectMenu(editor, backstage);\n      fontSelectMenu(editor, backstage);\n      styleSelectMenu(editor, backstage);\n      formatSelectMenu(editor, backstage);\n      fontsizeSelectMenu(editor, backstage);\n    };\n\n    var onSetupOutdentState = function (editor) {\n      return onSetupEvent(editor, 'NodeChange', function (api) {\n        api.setDisabled(!editor.queryCommandState('outdent'));\n      });\n    };\n    var registerButtons$2 = function (editor) {\n      editor.ui.registry.addButton('outdent', {\n        tooltip: 'Decrease indent',\n        icon: 'outdent',\n        onSetup: onSetupOutdentState(editor),\n        onAction: onActionExecCommand(editor, 'outdent')\n      });\n      editor.ui.registry.addButton('indent', {\n        tooltip: 'Increase indent',\n        icon: 'indent',\n        onAction: onActionExecCommand(editor, 'indent')\n      });\n    };\n    var register$3 = function (editor) {\n      registerButtons$2(editor);\n    };\n\n    var onActionToggleFormat = function (editor, fmt) {\n      return function () {\n        editor.execCommand('mceToggleFormat', false, fmt);\n      };\n    };\n    var registerFormatButtons = function (editor) {\n      global$5.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          icon: 'bold'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          icon: 'italic'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          icon: 'underline'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          icon: 'strike-through'\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          icon: 'subscript'\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          icon: 'superscript'\n        }\n      ], function (btn, _idx) {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onSetup: onSetupFormatToggle(editor, btn.name),\n          onAction: onActionToggleFormat(editor, btn.name)\n        });\n      });\n      for (var i = 1; i <= 6; i++) {\n        var name_1 = 'h' + i;\n        editor.ui.registry.addToggleButton(name_1, {\n          text: name_1.toUpperCase(),\n          tooltip: 'Heading ' + i,\n          onSetup: onSetupFormatToggle(editor, name_1),\n          onAction: onActionToggleFormat(editor, name_1)\n        });\n      }\n    };\n    var registerCommandButtons = function (editor) {\n      global$5.each([\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste'\n        },\n        {\n          name: 'help',\n          text: 'Help',\n          action: 'mceHelp',\n          icon: 'help'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all'\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document'\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting'\n        },\n        {\n          name: 'remove',\n          text: 'Remove',\n          action: 'Delete',\n          icon: 'remove'\n        }\n      ], function (btn) {\n        editor.ui.registry.addButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action)\n        });\n      });\n    };\n    var registerCommandToggleButtons = function (editor) {\n      global$5.each([{\n          name: 'blockquote',\n          text: 'Blockquote',\n          action: 'mceBlockQuote',\n          icon: 'quote'\n        }], function (btn) {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action),\n          onSetup: onSetupFormatToggle(editor, btn.name)\n        });\n      });\n    };\n    var registerButtons$1 = function (editor) {\n      registerFormatButtons(editor);\n      registerCommandButtons(editor);\n      registerCommandToggleButtons(editor);\n    };\n    var registerMenuItems$2 = function (editor) {\n      global$5.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          action: 'Bold',\n          icon: 'bold',\n          shortcut: 'Meta+B'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          action: 'Italic',\n          icon: 'italic',\n          shortcut: 'Meta+I'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          action: 'Underline',\n          icon: 'underline',\n          shortcut: 'Meta+U'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          action: 'Strikethrough',\n          icon: 'strike-through',\n          shortcut: ''\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          action: 'Subscript',\n          icon: 'subscript',\n          shortcut: ''\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          action: 'Superscript',\n          icon: 'superscript',\n          shortcut: ''\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting',\n          shortcut: ''\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document',\n          shortcut: ''\n        },\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut',\n          shortcut: 'Meta+X'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy',\n          shortcut: 'Meta+C'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste',\n          shortcut: 'Meta+V'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all',\n          shortcut: 'Meta+A'\n        }\n      ], function (btn) {\n        editor.ui.registry.addMenuItem(btn.name, {\n          text: btn.text,\n          icon: btn.icon,\n          shortcut: btn.shortcut,\n          onAction: onActionExecCommand(editor, btn.action)\n        });\n      });\n      editor.ui.registry.addMenuItem('codeformat', {\n        text: 'Code',\n        icon: 'sourcecode',\n        onAction: onActionToggleFormat(editor, 'code')\n      });\n    };\n    var register$2 = function (editor) {\n      registerButtons$1(editor);\n      registerMenuItems$2(editor);\n    };\n\n    var onSetupUndoRedoState = function (editor, type) {\n      return onSetupEvent(editor, 'Undo Redo AddUndo TypingUndo ClearUndos SwitchMode', function (api) {\n        api.setDisabled(editor.mode.isReadOnly() || !editor.undoManager[type]());\n      });\n    };\n    var registerMenuItems$1 = function (editor) {\n      editor.ui.registry.addMenuItem('undo', {\n        text: 'Undo',\n        icon: 'undo',\n        shortcut: 'Meta+Z',\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo')\n      });\n      editor.ui.registry.addMenuItem('redo', {\n        text: 'Redo',\n        icon: 'redo',\n        shortcut: 'Meta+Y',\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo')\n      });\n    };\n    var registerButtons = function (editor) {\n      editor.ui.registry.addButton('undo', {\n        tooltip: 'Undo',\n        icon: 'undo',\n        disabled: true,\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo')\n      });\n      editor.ui.registry.addButton('redo', {\n        tooltip: 'Redo',\n        icon: 'redo',\n        disabled: true,\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo')\n      });\n    };\n    var register$1 = function (editor) {\n      registerMenuItems$1(editor);\n      registerButtons(editor);\n    };\n\n    var onSetupVisualAidState = function (editor) {\n      return onSetupEvent(editor, 'VisualAid', function (api) {\n        api.setActive(editor.hasVisual);\n      });\n    };\n    var registerMenuItems = function (editor) {\n      editor.ui.registry.addToggleMenuItem('visualaid', {\n        text: 'Visual aids',\n        onSetup: onSetupVisualAidState(editor),\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid')\n      });\n    };\n    var registerToolbarButton = function (editor) {\n      editor.ui.registry.addButton('visualaid', {\n        tooltip: 'Visual aids',\n        text: 'Visual aids',\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid')\n      });\n    };\n    var register = function (editor) {\n      registerToolbarButton(editor);\n      registerMenuItems(editor);\n    };\n\n    var setup$6 = function (editor, backstage) {\n      register$6(editor);\n      register$2(editor);\n      register$4(editor, backstage);\n      register$1(editor);\n      register$a(editor);\n      register(editor);\n      register$3(editor);\n      register$5(editor);\n    };\n\n    var nu = function (x, y) {\n      return {\n        type: 'makeshift',\n        x: x,\n        y: y\n      };\n    };\n    var transpose = function (pos, dx, dy) {\n      return nu(pos.x + dx, pos.y + dy);\n    };\n    var isTouchEvent = function (e) {\n      return e.type === 'longpress' || e.type.indexOf('touch') === 0;\n    };\n    var fromPageXY = function (e) {\n      if (isTouchEvent(e)) {\n        var touch = e.touches[0];\n        return nu(touch.pageX, touch.pageY);\n      } else {\n        return nu(e.pageX, e.pageY);\n      }\n    };\n    var fromClientXY = function (e) {\n      if (isTouchEvent(e)) {\n        var touch = e.touches[0];\n        return nu(touch.clientX, touch.clientY);\n      } else {\n        return nu(e.clientX, e.clientY);\n      }\n    };\n    var transposeContentAreaContainer = function (element, pos) {\n      var containerPos = global$b.DOM.getPos(element);\n      return transpose(pos, containerPos.x, containerPos.y);\n    };\n    var getPointAnchor = function (editor, e) {\n      if (e.type === 'contextmenu' || e.type === 'longpress') {\n        if (editor.inline) {\n          return fromPageXY(e);\n        } else {\n          return transposeContentAreaContainer(editor.getContentAreaContainer(), fromClientXY(e));\n        }\n      } else {\n        return getSelectionAnchor(editor);\n      }\n    };\n    var getSelectionAnchor = function (editor) {\n      return {\n        type: 'selection',\n        root: SugarElement.fromDom(editor.selection.getNode())\n      };\n    };\n    var getNodeAnchor = function (editor) {\n      return {\n        type: 'node',\n        node: Optional.some(SugarElement.fromDom(editor.selection.getNode())),\n        root: SugarElement.fromDom(editor.getBody())\n      };\n    };\n    var getAnchorSpec$1 = function (editor, e, anchorType) {\n      switch (anchorType) {\n      case 'node':\n        return getNodeAnchor(editor);\n      case 'point':\n        return getPointAnchor(editor, e);\n      case 'selection':\n        return getSelectionAnchor(editor);\n      }\n    };\n\n    var initAndShow$1 = function (editor, e, buildMenu, backstage, contextmenu, anchorType) {\n      var items = buildMenu();\n      var anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false).map(function (menuData) {\n        e.preventDefault();\n        InlineView.showMenuAt(contextmenu, { anchor: anchorSpec }, {\n          menu: { markers: markers('normal') },\n          data: menuData\n        });\n      });\n    };\n\n    var layouts = {\n      onLtr: function () {\n        return [\n          south$2,\n          southeast$2,\n          southwest$2,\n          northeast$2,\n          northwest$2,\n          north$2,\n          north,\n          south,\n          northeast,\n          southeast,\n          northwest,\n          southwest\n        ];\n      },\n      onRtl: function () {\n        return [\n          south$2,\n          southwest$2,\n          southeast$2,\n          northwest$2,\n          northeast$2,\n          north$2,\n          north,\n          south,\n          northwest,\n          southwest,\n          northeast,\n          southeast\n        ];\n      }\n    };\n    var bubbleSize = 12;\n    var bubbleAlignments = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top']\n    };\n    var isTouchWithinSelection = function (editor, e) {\n      var selection = editor.selection;\n      if (selection.isCollapsed() || e.touches.length < 1) {\n        return false;\n      } else {\n        var touch_1 = e.touches[0];\n        var rng = selection.getRng();\n        var rngRectOpt = getFirstRect(editor.getWin(), SimSelection.domRange(rng));\n        return rngRectOpt.exists(function (rngRect) {\n          return rngRect.left <= touch_1.clientX && rngRect.right >= touch_1.clientX && rngRect.top <= touch_1.clientY && rngRect.bottom >= touch_1.clientY;\n        });\n      }\n    };\n    var setupiOSOverrides = function (editor) {\n      var originalSelection = editor.selection.getRng();\n      var selectionReset = function () {\n        global$f.setEditorTimeout(editor, function () {\n          editor.selection.setRng(originalSelection);\n        }, 10);\n        unbindEventListeners();\n      };\n      editor.once('touchend', selectionReset);\n      var preventMousedown = function (e) {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n      };\n      editor.on('mousedown', preventMousedown, true);\n      var clearSelectionReset = function () {\n        return unbindEventListeners();\n      };\n      editor.once('longpresscancel', clearSelectionReset);\n      var unbindEventListeners = function () {\n        editor.off('touchend', selectionReset);\n        editor.off('longpresscancel', clearSelectionReset);\n        editor.off('mousedown', preventMousedown);\n      };\n    };\n    var getAnchorSpec = function (editor, e, anchorType) {\n      var anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      var bubbleYOffset = anchorType === 'point' ? bubbleSize : 0;\n      return __assign({\n        bubble: nu$5(0, bubbleYOffset, bubbleAlignments),\n        layouts: layouts,\n        overrides: {\n          maxWidthFunction: expandable(),\n          maxHeightFunction: expandable$1()\n        }\n      }, anchorSpec);\n    };\n    var show = function (editor, e, items, backstage, contextmenu, anchorType, highlightImmediately) {\n      var anchorSpec = getAnchorSpec(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, true).map(function (menuData) {\n        e.preventDefault();\n        InlineView.showMenuWithinBounds(contextmenu, { anchor: anchorSpec }, {\n          menu: {\n            markers: markers('normal'),\n            highlightImmediately: highlightImmediately\n          },\n          data: menuData,\n          type: 'horizontal'\n        }, function () {\n          return Optional.some(getContextToolbarBounds(editor, backstage.shared, anchorType === 'node' ? 'node' : 'selection'));\n        });\n        editor.fire(hideContextToolbarEvent);\n      });\n    };\n    var initAndShow = function (editor, e, buildMenu, backstage, contextmenu, anchorType) {\n      var detection = detect$1();\n      var isiOS = detection.os.isiOS();\n      var isOSX = detection.os.isOSX();\n      var isAndroid = detection.os.isAndroid();\n      var isTouch = detection.deviceType.isTouch();\n      var shouldHighlightImmediately = function () {\n        return !(isAndroid || isiOS || isOSX && isTouch);\n      };\n      var open = function () {\n        var items = buildMenu();\n        show(editor, e, items, backstage, contextmenu, anchorType, shouldHighlightImmediately());\n      };\n      if ((isOSX || isiOS) && anchorType !== 'node') {\n        var openiOS_1 = function () {\n          setupiOSOverrides(editor);\n          open();\n        };\n        if (isTouchWithinSelection(editor, e)) {\n          openiOS_1();\n        } else {\n          editor.once('selectionchange', openiOS_1);\n          editor.once('touchend', function () {\n            return editor.off('selectionchange', openiOS_1);\n          });\n        }\n      } else {\n        open();\n      }\n    };\n\n    var patchPipeConfig = function (config) {\n      return typeof config === 'string' ? config.split(/[ ,]/) : config;\n    };\n    var shouldNeverUseNative = function (editor) {\n      return editor.getParam('contextmenu_never_use_native', false, 'boolean');\n    };\n    var getMenuItems = function (editor, name, defaultItems) {\n      var contextMenus = editor.ui.registry.getAll().contextMenus;\n      return Optional.from(editor.getParam(name)).map(patchPipeConfig).getOrThunk(function () {\n        return filter$2(patchPipeConfig(defaultItems), function (item) {\n          return has$2(contextMenus, item);\n        });\n      });\n    };\n    var isContextMenuDisabled = function (editor) {\n      return editor.getParam('contextmenu') === false;\n    };\n    var getContextMenu = function (editor) {\n      return getMenuItems(editor, 'contextmenu', 'link linkchecker image imagetools table spellchecker configurepermanentpen');\n    };\n    var getAvoidOverlapSelector = function (editor) {\n      return editor.getParam('contextmenu_avoid_overlap', '', 'string');\n    };\n\n    var isSeparator = function (item) {\n      return isString(item) ? item === '|' : item.type === 'separator';\n    };\n    var separator = { type: 'separator' };\n    var makeContextItem = function (item) {\n      var commonMenuItem = function (item) {\n        return {\n          text: item.text,\n          icon: item.icon,\n          disabled: item.disabled,\n          shortcut: item.shortcut\n        };\n      };\n      if (isString(item)) {\n        return item;\n      } else {\n        switch (item.type) {\n        case 'separator':\n          return separator;\n        case 'submenu':\n          return __assign(__assign({ type: 'nestedmenuitem' }, commonMenuItem(item)), {\n            getSubmenuItems: function () {\n              var items = item.getSubmenuItems();\n              if (isString(items)) {\n                return items;\n              } else {\n                return map$2(items, makeContextItem);\n              }\n            }\n          });\n        default:\n          return __assign(__assign({ type: 'menuitem' }, commonMenuItem(item)), { onAction: noarg(item.onAction) });\n        }\n      }\n    };\n    var addContextMenuGroup = function (xs, groupItems) {\n      if (groupItems.length === 0) {\n        return xs;\n      }\n      var lastMenuItem = last$2(xs).filter(function (item) {\n        return !isSeparator(item);\n      });\n      var before = lastMenuItem.fold(function () {\n        return [];\n      }, function (_) {\n        return [separator];\n      });\n      return xs.concat(before).concat(groupItems).concat([separator]);\n    };\n    var generateContextMenu = function (contextMenus, menuConfig, selectedElement) {\n      var sections = foldl(menuConfig, function (acc, name) {\n        return get$e(contextMenus, name.toLowerCase()).map(function (menu) {\n          var items = menu.update(selectedElement);\n          if (isString(items)) {\n            return addContextMenuGroup(acc, items.split(' '));\n          } else if (items.length > 0) {\n            var allItems = map$2(items, makeContextItem);\n            return addContextMenuGroup(acc, allItems);\n          } else {\n            return acc;\n          }\n        }).getOrThunk(function () {\n          return acc.concat([name]);\n        });\n      }, []);\n      if (sections.length > 0 && isSeparator(sections[sections.length - 1])) {\n        sections.pop();\n      }\n      return sections;\n    };\n    var isNativeOverrideKeyEvent = function (editor, e) {\n      return e.ctrlKey && !shouldNeverUseNative(editor);\n    };\n    var isTriggeredByKeyboard = function (editor, e) {\n      return e.type !== 'longpress' && (e.button !== 2 || e.target === editor.getBody() && e.pointerType === '');\n    };\n    var getSelectedElement = function (editor, e) {\n      return isTriggeredByKeyboard(editor, e) ? editor.selection.getStart(true) : e.target;\n    };\n    var getAnchorType = function (editor, e) {\n      var selector = getAvoidOverlapSelector(editor);\n      var anchorType = isTriggeredByKeyboard(editor, e) ? 'selection' : 'point';\n      if (isNotEmpty(selector)) {\n        var target = getSelectedElement(editor, e);\n        var selectorExists = closest(SugarElement.fromDom(target), selector);\n        return selectorExists ? 'node' : anchorType;\n      } else {\n        return anchorType;\n      }\n    };\n    var setup$5 = function (editor, lazySink, backstage) {\n      var detection = detect$1();\n      var isTouch = detection.deviceType.isTouch;\n      var contextmenu = build$1(InlineView.sketch({\n        dom: { tag: 'div' },\n        lazySink: lazySink,\n        onEscape: function () {\n          return editor.focus();\n        },\n        onShow: function () {\n          return backstage.setContextMenuState(true);\n        },\n        onHide: function () {\n          return backstage.setContextMenuState(false);\n        },\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissContextMenu', [run$1(dismissRequested(), function (comp, _se) {\n              Sandboxing.close(comp);\n              editor.focus();\n            })])])\n      }));\n      var hideContextMenu = function (_e) {\n        return InlineView.hide(contextmenu);\n      };\n      var showContextMenu = function (e) {\n        if (shouldNeverUseNative(editor)) {\n          e.preventDefault();\n        }\n        if (isNativeOverrideKeyEvent(editor, e) || isContextMenuDisabled(editor)) {\n          return;\n        }\n        var anchorType = getAnchorType(editor, e);\n        var buildMenu = function () {\n          var selectedElement = getSelectedElement(editor, e);\n          var registry = editor.ui.registry.getAll();\n          var menuConfig = getContextMenu(editor);\n          return generateContextMenu(registry.contextMenus, menuConfig, selectedElement);\n        };\n        var initAndShow$2 = isTouch() ? initAndShow : initAndShow$1;\n        initAndShow$2(editor, e, buildMenu, backstage, contextmenu, anchorType);\n      };\n      editor.on('init', function () {\n        var hideEvents = 'ResizeEditor ScrollContent ScrollWindow longpresscancel' + (isTouch() ? '' : ' ResizeWindow');\n        editor.on(hideEvents, hideContextMenu);\n        editor.on('longpress contextmenu', showContextMenu);\n      });\n    };\n\n    var adt = Adt.generate([\n      {\n        offset: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        absolute: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y'\n        ]\n      }\n    ]);\n    var subtract = function (change) {\n      return function (point) {\n        return point.translate(-change.left, -change.top);\n      };\n    };\n    var add = function (change) {\n      return function (point) {\n        return point.translate(change.left, change.top);\n      };\n    };\n    var transform = function (changes) {\n      return function (x, y) {\n        return foldl(changes, function (rest, f) {\n          return f(rest);\n        }, SugarPosition(x, y));\n      };\n    };\n    var asFixed = function (coord, scroll, origin) {\n      return coord.fold(transform([\n        add(origin),\n        subtract(scroll)\n      ]), transform([subtract(scroll)]), transform([]));\n    };\n    var asAbsolute = function (coord, scroll, origin) {\n      return coord.fold(transform([add(origin)]), transform([]), transform([add(scroll)]));\n    };\n    var asOffset = function (coord, scroll, origin) {\n      return coord.fold(transform([]), transform([subtract(origin)]), transform([\n        add(scroll),\n        subtract(origin)\n      ]));\n    };\n    var withinRange = function (coord1, coord2, xRange, yRange, scroll, origin) {\n      var a1 = asAbsolute(coord1, scroll, origin);\n      var a2 = asAbsolute(coord2, scroll, origin);\n      return Math.abs(a1.left - a2.left) <= xRange && Math.abs(a1.top - a2.top) <= yRange;\n    };\n    var getDeltas = function (coord1, coord2, xRange, yRange, scroll, origin) {\n      var a1 = asAbsolute(coord1, scroll, origin);\n      var a2 = asAbsolute(coord2, scroll, origin);\n      var left = Math.abs(a1.left - a2.left);\n      var top = Math.abs(a1.top - a2.top);\n      return SugarPosition(left, top);\n    };\n    var toStyles = function (coord, scroll, origin) {\n      var stylesOpt = coord.fold(function (x, y) {\n        return {\n          position: Optional.some('absolute'),\n          left: Optional.some(x + 'px'),\n          top: Optional.some(y + 'px')\n        };\n      }, function (x, y) {\n        return {\n          position: Optional.some('absolute'),\n          left: Optional.some(x - origin.left + 'px'),\n          top: Optional.some(y - origin.top + 'px')\n        };\n      }, function (x, y) {\n        return {\n          position: Optional.some('fixed'),\n          left: Optional.some(x + 'px'),\n          top: Optional.some(y + 'px')\n        };\n      });\n      return __assign({\n        right: Optional.none(),\n        bottom: Optional.none()\n      }, stylesOpt);\n    };\n    var translate = function (coord, deltaX, deltaY) {\n      return coord.fold(function (x, y) {\n        return offset(x + deltaX, y + deltaY);\n      }, function (x, y) {\n        return absolute(x + deltaX, y + deltaY);\n      }, function (x, y) {\n        return fixed(x + deltaX, y + deltaY);\n      });\n    };\n    var absorb = function (partialCoord, originalCoord, scroll, origin) {\n      var absorbOne = function (stencil, nu) {\n        return function (optX, optY) {\n          var original = stencil(originalCoord, scroll, origin);\n          return nu(optX.getOr(original.left), optY.getOr(original.top));\n        };\n      };\n      return partialCoord.fold(absorbOne(asOffset, offset), absorbOne(asAbsolute, absolute), absorbOne(asFixed, fixed));\n    };\n    var offset = adt.offset;\n    var absolute = adt.absolute;\n    var fixed = adt.fixed;\n\n    var parseAttrToInt = function (element, name) {\n      var value = get$d(element, name);\n      return isUndefined(value) ? NaN : parseInt(value, 10);\n    };\n    var get = function (component, snapsInfo) {\n      var element = component.element;\n      var x = parseAttrToInt(element, snapsInfo.leftAttr);\n      var y = parseAttrToInt(element, snapsInfo.topAttr);\n      return isNaN(x) || isNaN(y) ? Optional.none() : Optional.some(SugarPosition(x, y));\n    };\n    var set = function (component, snapsInfo, pt) {\n      var element = component.element;\n      set$8(element, snapsInfo.leftAttr, pt.left + 'px');\n      set$8(element, snapsInfo.topAttr, pt.top + 'px');\n    };\n    var clear = function (component, snapsInfo) {\n      var element = component.element;\n      remove$7(element, snapsInfo.leftAttr);\n      remove$7(element, snapsInfo.topAttr);\n    };\n\n    var getCoords = function (component, snapInfo, coord, delta) {\n      return get(component, snapInfo).fold(function () {\n        return coord;\n      }, function (fixed$1) {\n        return fixed(fixed$1.left + delta.left, fixed$1.top + delta.top);\n      });\n    };\n    var moveOrSnap = function (component, snapInfo, coord, delta, scroll, origin) {\n      var newCoord = getCoords(component, snapInfo, coord, delta);\n      var snap = snapInfo.mustSnap ? findClosestSnap(component, snapInfo, newCoord, scroll, origin) : findSnap(component, snapInfo, newCoord, scroll, origin);\n      var fixedCoord = asFixed(newCoord, scroll, origin);\n      set(component, snapInfo, fixedCoord);\n      return snap.fold(function () {\n        return {\n          coord: fixed(fixedCoord.left, fixedCoord.top),\n          extra: Optional.none()\n        };\n      }, function (spanned) {\n        return {\n          coord: spanned.output,\n          extra: spanned.extra\n        };\n      });\n    };\n    var stopDrag = function (component, snapInfo) {\n      clear(component, snapInfo);\n    };\n    var findMatchingSnap = function (snaps, newCoord, scroll, origin) {\n      return findMap(snaps, function (snap) {\n        var sensor = snap.sensor;\n        var inRange = withinRange(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n        return inRange ? Optional.some({\n          output: absorb(snap.output, newCoord, scroll, origin),\n          extra: snap.extra\n        }) : Optional.none();\n      });\n    };\n    var findClosestSnap = function (component, snapInfo, newCoord, scroll, origin) {\n      var snaps = snapInfo.getSnapPoints(component);\n      var matchSnap = findMatchingSnap(snaps, newCoord, scroll, origin);\n      return matchSnap.orThunk(function () {\n        var bestSnap = foldl(snaps, function (acc, snap) {\n          var sensor = snap.sensor;\n          var deltas = getDeltas(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n          return acc.deltas.fold(function () {\n            return {\n              deltas: Optional.some(deltas),\n              snap: Optional.some(snap)\n            };\n          }, function (bestDeltas) {\n            var currAvg = (deltas.left + deltas.top) / 2;\n            var bestAvg = (bestDeltas.left + bestDeltas.top) / 2;\n            if (currAvg <= bestAvg) {\n              return {\n                deltas: Optional.some(deltas),\n                snap: Optional.some(snap)\n              };\n            } else {\n              return acc;\n            }\n          });\n        }, {\n          deltas: Optional.none(),\n          snap: Optional.none()\n        });\n        return bestSnap.snap.map(function (snap) {\n          return {\n            output: absorb(snap.output, newCoord, scroll, origin),\n            extra: snap.extra\n          };\n        });\n      });\n    };\n    var findSnap = function (component, snapInfo, newCoord, scroll, origin) {\n      var snaps = snapInfo.getSnapPoints(component);\n      return findMatchingSnap(snaps, newCoord, scroll, origin);\n    };\n    var snapTo$1 = function (snap, scroll, origin) {\n      return {\n        coord: absorb(snap.output, snap.output, scroll, origin),\n        extra: snap.extra\n      };\n    };\n\n    var snapTo = function (component, dragConfig, _state, snap) {\n      var target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        var doc = owner$4(component.element);\n        var scroll_1 = get$9(doc);\n        var origin_1 = getOrigin(target);\n        var snapPin = snapTo$1(snap, scroll_1, origin_1);\n        var styles = toStyles(snapPin.coord, scroll_1, origin_1);\n        setOptions(target, styles);\n      }\n    };\n\n    var DraggingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        snapTo: snapTo\n    });\n\n    var initialAttribute = 'data-initial-z-index';\n    var resetZIndex = function (blocker) {\n      parent(blocker.element).filter(isElement$2).each(function (root) {\n        getOpt(root, initialAttribute).fold(function () {\n          return remove$6(root, 'z-index');\n        }, function (zIndex) {\n          return set$7(root, 'z-index', zIndex);\n        });\n        remove$7(root, initialAttribute);\n      });\n    };\n    var changeZIndex = function (blocker) {\n      parent(blocker.element).filter(isElement$2).each(function (root) {\n        getRaw(root, 'z-index').each(function (zindex) {\n          set$8(root, initialAttribute, zindex);\n        });\n        set$7(root, 'z-index', get$c(blocker.element, 'z-index'));\n      });\n    };\n    var instigate = function (anyComponent, blocker) {\n      anyComponent.getSystem().addToGui(blocker);\n      changeZIndex(blocker);\n    };\n    var discard = function (blocker) {\n      resetZIndex(blocker);\n      blocker.getSystem().removeFromGui(blocker);\n    };\n    var createComponent = function (component, blockerClass, blockerEvents) {\n      return component.getSystem().build(Container.sketch({\n        dom: {\n          styles: {\n            'left': '0px',\n            'top': '0px',\n            'width': '100%',\n            'height': '100%',\n            'position': 'fixed',\n            'z-index': '1000000000000000'\n          },\n          classes: [blockerClass]\n        },\n        events: blockerEvents\n      }));\n    };\n\n    var SnapSchema = optionObjOf('snaps', [\n      required$1('getSnapPoints'),\n      onHandler('onSensor'),\n      required$1('leftAttr'),\n      required$1('topAttr'),\n      defaulted('lazyViewport', win),\n      defaulted('mustSnap', false)\n    ]);\n\n    var schema$6 = [\n      defaulted('useFixed', never),\n      required$1('blockerClass'),\n      defaulted('getTarget', identity$1),\n      defaulted('onDrag', noop),\n      defaulted('repositionTarget', true),\n      defaulted('onDrop', noop),\n      defaultedFunction('getBounds', win),\n      SnapSchema\n    ];\n\n    var getCurrentCoord = function (target) {\n      return lift3(getRaw(target, 'left'), getRaw(target, 'top'), getRaw(target, 'position'), function (left, top, position) {\n        var nu = position === 'fixed' ? fixed : offset;\n        return nu(parseInt(left, 10), parseInt(top, 10));\n      }).getOrThunk(function () {\n        var location = absolute$3(target);\n        return absolute(location.left, location.top);\n      });\n    };\n    var clampCoords = function (component, coords, scroll, origin, startData) {\n      var bounds = startData.bounds;\n      var absoluteCoord = asAbsolute(coords, scroll, origin);\n      var newX = clamp$1(absoluteCoord.left, bounds.x, bounds.x + bounds.width - startData.width);\n      var newY = clamp$1(absoluteCoord.top, bounds.y, bounds.y + bounds.height - startData.height);\n      var newCoords = absolute(newX, newY);\n      return coords.fold(function () {\n        var offset$1 = asOffset(newCoords, scroll, origin);\n        return offset(offset$1.left, offset$1.top);\n      }, constant$1(newCoords), function () {\n        var fixed$1 = asFixed(newCoords, scroll, origin);\n        return fixed(fixed$1.left, fixed$1.top);\n      });\n    };\n    var calcNewCoord = function (component, optSnaps, currentCoord, scroll, origin, delta, startData) {\n      var newCoord = optSnaps.fold(function () {\n        var translated = translate(currentCoord, delta.left, delta.top);\n        var fixedCoord = asFixed(translated, scroll, origin);\n        return fixed(fixedCoord.left, fixedCoord.top);\n      }, function (snapInfo) {\n        var snapping = moveOrSnap(component, snapInfo, currentCoord, delta, scroll, origin);\n        snapping.extra.each(function (extra) {\n          snapInfo.onSensor(component, extra);\n        });\n        return snapping.coord;\n      });\n      return clampCoords(component, newCoord, scroll, origin, startData);\n    };\n    var dragBy = function (component, dragConfig, startData, delta) {\n      var target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        var doc = owner$4(component.element);\n        var scroll_1 = get$9(doc);\n        var origin_1 = getOrigin(target);\n        var currentCoord = getCurrentCoord(target);\n        var newCoord = calcNewCoord(component, dragConfig.snaps, currentCoord, scroll_1, origin_1, delta, startData);\n        var styles = toStyles(newCoord, scroll_1, origin_1);\n        setOptions(target, styles);\n      }\n      dragConfig.onDrag(component, target, delta);\n    };\n\n    var calcStartData = function (dragConfig, comp) {\n      return {\n        bounds: dragConfig.getBounds(),\n        height: getOuter$2(comp.element),\n        width: getOuter$1(comp.element)\n      };\n    };\n    var move = function (component, dragConfig, dragState, dragMode, event) {\n      var delta = dragState.update(dragMode, event);\n      var dragStartData = dragState.getStartData().getOrThunk(function () {\n        return calcStartData(dragConfig, component);\n      });\n      delta.each(function (dlt) {\n        dragBy(component, dragConfig, dragStartData, dlt);\n      });\n    };\n    var stop = function (component, blocker, dragConfig, dragState) {\n      blocker.each(discard);\n      dragConfig.snaps.each(function (snapInfo) {\n        stopDrag(component, snapInfo);\n      });\n      var target = dragConfig.getTarget(component.element);\n      dragState.reset();\n      dragConfig.onDrop(component, target);\n    };\n    var handlers = function (events) {\n      return function (dragConfig, dragState) {\n        var updateStartState = function (comp) {\n          dragState.setStartData(calcStartData(dragConfig, comp));\n        };\n        return derive$2(__spreadArray([run$1(windowScroll(), function (comp) {\n            dragState.getStartData().each(function () {\n              return updateStartState(comp);\n            });\n          })], events(dragConfig, dragState, updateStartState), true));\n      };\n    };\n\n    var init$2 = function (dragApi) {\n      return derive$2([\n        run$1(mousedown(), dragApi.forceDrop),\n        run$1(mouseup(), dragApi.drop),\n        run$1(mousemove(), function (comp, simulatedEvent) {\n          dragApi.move(simulatedEvent.event);\n        }),\n        run$1(mouseout(), dragApi.delayDrop)\n      ]);\n    };\n\n    var getData$1 = function (event) {\n      return Optional.from(SugarPosition(event.x, event.y));\n    };\n    var getDelta$1 = function (old, nu) {\n      return SugarPosition(nu.left - old.left, nu.top - old.top);\n    };\n\n    var MouseData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData$1,\n        getDelta: getDelta$1\n    });\n\n    var events$2 = function (dragConfig, dragState, updateStartState) {\n      return [run$1(mousedown(), function (component, simulatedEvent) {\n          var raw = simulatedEvent.event.raw;\n          if (raw.button !== 0) {\n            return;\n          }\n          simulatedEvent.stop();\n          var stop$1 = function () {\n            return stop(component, Optional.some(blocker), dragConfig, dragState);\n          };\n          var delayDrop = DelayedFunction(stop$1, 200);\n          var dragApi = {\n            drop: stop$1,\n            delayDrop: delayDrop.schedule,\n            forceDrop: stop$1,\n            move: function (event) {\n              delayDrop.cancel();\n              move(component, dragConfig, dragState, MouseData, event);\n            }\n          };\n          var blocker = createComponent(component, dragConfig.blockerClass, init$2(dragApi));\n          var start = function () {\n            updateStartState(component);\n            instigate(component, blocker);\n          };\n          start();\n        })];\n    };\n    var schema$5 = __spreadArray(__spreadArray([], schema$6, true), [output$1('dragger', { handlers: handlers(events$2) })], false);\n\n    var init$1 = function (dragApi) {\n      return derive$2([\n        run$1(touchstart(), dragApi.forceDrop),\n        run$1(touchend(), dragApi.drop),\n        run$1(touchcancel(), dragApi.drop),\n        run$1(touchmove(), function (comp, simulatedEvent) {\n          dragApi.move(simulatedEvent.event);\n        })\n      ]);\n    };\n\n    var getDataFrom = function (touches) {\n      var touch = touches[0];\n      return Optional.some(SugarPosition(touch.clientX, touch.clientY));\n    };\n    var getData = function (event) {\n      var raw = event.raw;\n      var touches = raw.touches;\n      return touches.length === 1 ? getDataFrom(touches) : Optional.none();\n    };\n    var getDelta = function (old, nu) {\n      return SugarPosition(nu.left - old.left, nu.top - old.top);\n    };\n\n    var TouchData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData,\n        getDelta: getDelta\n    });\n\n    var events$1 = function (dragConfig, dragState, updateStartState) {\n      var blockerSingleton = value$1();\n      var stopBlocking = function (component) {\n        stop(component, blockerSingleton.get(), dragConfig, dragState);\n        blockerSingleton.clear();\n      };\n      return [\n        run$1(touchstart(), function (component, simulatedEvent) {\n          simulatedEvent.stop();\n          var stop = function () {\n            return stopBlocking(component);\n          };\n          var dragApi = {\n            drop: stop,\n            delayDrop: noop,\n            forceDrop: stop,\n            move: function (event) {\n              move(component, dragConfig, dragState, TouchData, event);\n            }\n          };\n          var blocker = createComponent(component, dragConfig.blockerClass, init$1(dragApi));\n          blockerSingleton.set(blocker);\n          var start = function () {\n            updateStartState(component);\n            instigate(component, blocker);\n          };\n          start();\n        }),\n        run$1(touchmove(), function (component, simulatedEvent) {\n          simulatedEvent.stop();\n          move(component, dragConfig, dragState, TouchData, simulatedEvent.event);\n        }),\n        run$1(touchend(), function (component, simulatedEvent) {\n          simulatedEvent.stop();\n          stopBlocking(component);\n        }),\n        run$1(touchcancel(), stopBlocking)\n      ];\n    };\n    var schema$4 = __spreadArray(__spreadArray([], schema$6, true), [output$1('dragger', { handlers: handlers(events$1) })], false);\n\n    var events = function (dragConfig, dragState, updateStartState) {\n      return __spreadArray(__spreadArray([], events$2(dragConfig, dragState, updateStartState), true), events$1(dragConfig, dragState, updateStartState), true);\n    };\n    var schema$3 = __spreadArray(__spreadArray([], schema$6, true), [output$1('dragger', { handlers: handlers(events) })], false);\n\n    var mouse = schema$5;\n    var touch = schema$4;\n    var mouseOrTouch = schema$3;\n\n    var DraggingBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        mouse: mouse,\n        touch: touch,\n        mouseOrTouch: mouseOrTouch\n    });\n\n    var init = function () {\n      var previous = Optional.none();\n      var startData = Optional.none();\n      var reset = function () {\n        previous = Optional.none();\n        startData = Optional.none();\n      };\n      var calculateDelta = function (mode, nu) {\n        var result = previous.map(function (old) {\n          return mode.getDelta(old, nu);\n        });\n        previous = Optional.some(nu);\n        return result;\n      };\n      var update = function (mode, dragEvent) {\n        return mode.getData(dragEvent).bind(function (nuData) {\n          return calculateDelta(mode, nuData);\n        });\n      };\n      var setStartData = function (data) {\n        startData = Optional.some(data);\n      };\n      var getStartData = function () {\n        return startData;\n      };\n      var readState = constant$1({});\n      return nu$8({\n        readState: readState,\n        reset: reset,\n        update: update,\n        getStartData: getStartData,\n        setStartData: setStartData\n      });\n    };\n\n    var DragState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init\n    });\n\n    var Dragging = createModes({\n      branchKey: 'mode',\n      branches: DraggingBranches,\n      name: 'dragging',\n      active: {\n        events: function (dragConfig, dragState) {\n          var dragger = dragConfig.dragger;\n          return dragger.handlers(dragConfig, dragState);\n        }\n      },\n      extra: {\n        snap: function (sConfig) {\n          return {\n            sensor: sConfig.sensor,\n            range: sConfig.range,\n            output: sConfig.output,\n            extra: Optional.from(sConfig.extra)\n          };\n        }\n      },\n      state: DragState,\n      apis: DraggingApis\n    });\n\n    var snapWidth = 40;\n    var snapOffset = snapWidth / 2;\n    var calcSnap = function (selectorOpt, td, x, y, width, height) {\n      return selectorOpt.fold(function () {\n        return Dragging.snap({\n          sensor: absolute(x - snapOffset, y - snapOffset),\n          range: SugarPosition(width, height),\n          output: absolute(Optional.some(x), Optional.some(y)),\n          extra: { td: td }\n        });\n      }, function (selectorHandle) {\n        var sensorLeft = x - snapOffset;\n        var sensorTop = y - snapOffset;\n        var sensorWidth = snapWidth;\n        var sensorHeight = snapWidth;\n        var rect = selectorHandle.element.dom.getBoundingClientRect();\n        return Dragging.snap({\n          sensor: absolute(sensorLeft, sensorTop),\n          range: SugarPosition(sensorWidth, sensorHeight),\n          output: absolute(Optional.some(x - rect.width / 2), Optional.some(y - rect.height / 2)),\n          extra: { td: td }\n        });\n      });\n    };\n    var getSnapsConfig = function (getSnapPoints, cell, onChange) {\n      var isSameCell = function (cellOpt, td) {\n        return cellOpt.exists(function (currentTd) {\n          return eq(currentTd, td);\n        });\n      };\n      return {\n        getSnapPoints: getSnapPoints,\n        leftAttr: 'data-drag-left',\n        topAttr: 'data-drag-top',\n        onSensor: function (component, extra) {\n          var td = extra.td;\n          if (!isSameCell(cell.get(), td)) {\n            cell.set(td);\n            onChange(td);\n          }\n        },\n        mustSnap: true\n      };\n    };\n    var createSelector = function (snaps) {\n      return record(Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-selector']\n        },\n        buttonBehaviours: derive$1([\n          Dragging.config({\n            mode: 'mouseOrTouch',\n            blockerClass: 'blocker',\n            snaps: snaps\n          }),\n          Unselecting.config({})\n        ]),\n        eventOrder: {\n          mousedown: [\n            'dragging',\n            'alloy.base.behaviour'\n          ],\n          touchstart: [\n            'dragging',\n            'alloy.base.behaviour'\n          ]\n        }\n      }));\n    };\n    var setup$4 = function (editor, sink) {\n      var tlTds = Cell([]);\n      var brTds = Cell([]);\n      var isVisible = Cell(false);\n      var startCell = value$1();\n      var finishCell = value$1();\n      var getTopLeftSnap = function (td) {\n        var box = absolute$2(td);\n        return calcSnap(memTopLeft.getOpt(sink), td, box.x, box.y, box.width, box.height);\n      };\n      var getTopLeftSnaps = function () {\n        return map$2(tlTds.get(), function (td) {\n          return getTopLeftSnap(td);\n        });\n      };\n      var getBottomRightSnap = function (td) {\n        var box = absolute$2(td);\n        return calcSnap(memBottomRight.getOpt(sink), td, box.right, box.bottom, box.width, box.height);\n      };\n      var getBottomRightSnaps = function () {\n        return map$2(brTds.get(), function (td) {\n          return getBottomRightSnap(td);\n        });\n      };\n      var topLeftSnaps = getSnapsConfig(getTopLeftSnaps, startCell, function (start) {\n        finishCell.get().each(function (finish) {\n          editor.fire('TableSelectorChange', {\n            start: start,\n            finish: finish\n          });\n        });\n      });\n      var bottomRightSnaps = getSnapsConfig(getBottomRightSnaps, finishCell, function (finish) {\n        startCell.get().each(function (start) {\n          editor.fire('TableSelectorChange', {\n            start: start,\n            finish: finish\n          });\n        });\n      });\n      var memTopLeft = createSelector(topLeftSnaps);\n      var memBottomRight = createSelector(bottomRightSnaps);\n      var topLeft = build$1(memTopLeft.asSpec());\n      var bottomRight = build$1(memBottomRight.asSpec());\n      var showOrHideHandle = function (selector, cell, isAbove, isBelow) {\n        var cellRect = cell.dom.getBoundingClientRect();\n        remove$6(selector.element, 'display');\n        var viewportHeight = defaultView(SugarElement.fromDom(editor.getBody())).dom.innerHeight;\n        var aboveViewport = isAbove(cellRect);\n        var belowViewport = isBelow(cellRect, viewportHeight);\n        if (aboveViewport || belowViewport) {\n          set$7(selector.element, 'display', 'none');\n        }\n      };\n      var snapTo = function (selector, cell, getSnapConfig, pos) {\n        var snap = getSnapConfig(cell);\n        Dragging.snapTo(selector, snap);\n        var isAbove = function (rect) {\n          return rect[pos] < 0;\n        };\n        var isBelow = function (rect, viewportHeight) {\n          return rect[pos] > viewportHeight;\n        };\n        showOrHideHandle(selector, cell, isAbove, isBelow);\n      };\n      var snapTopLeft = function (cell) {\n        return snapTo(topLeft, cell, getTopLeftSnap, 'top');\n      };\n      var snapLastTopLeft = function () {\n        return startCell.get().each(snapTopLeft);\n      };\n      var snapBottomRight = function (cell) {\n        return snapTo(bottomRight, cell, getBottomRightSnap, 'bottom');\n      };\n      var snapLastBottomRight = function () {\n        return finishCell.get().each(snapBottomRight);\n      };\n      if (detect$1().deviceType.isTouch()) {\n        editor.on('TableSelectionChange', function (e) {\n          if (!isVisible.get()) {\n            attach(sink, topLeft);\n            attach(sink, bottomRight);\n            isVisible.set(true);\n          }\n          startCell.set(e.start);\n          finishCell.set(e.finish);\n          e.otherCells.each(function (otherCells) {\n            tlTds.set(otherCells.upOrLeftCells);\n            brTds.set(otherCells.downOrRightCells);\n            snapTopLeft(e.start);\n            snapBottomRight(e.finish);\n          });\n        });\n        editor.on('ResizeEditor ResizeWindow ScrollContent', function () {\n          snapLastTopLeft();\n          snapLastBottomRight();\n        });\n        editor.on('TableSelectionClear', function () {\n          if (isVisible.get()) {\n            detach(topLeft);\n            detach(bottomRight);\n            isVisible.set(false);\n          }\n          startCell.clear();\n          finishCell.clear();\n        });\n      }\n    };\n\n    var isHidden = function (elm) {\n      if (elm.nodeType === 1) {\n        if (elm.nodeName === 'BR' || !!elm.getAttribute('data-mce-bogus')) {\n          return true;\n        }\n        if (elm.getAttribute('data-mce-type') === 'bookmark') {\n          return true;\n        }\n      }\n      return false;\n    };\n    var renderElementPath = function (editor, settings, providersBackstage) {\n      if (!settings.delimiter) {\n        settings.delimiter = '\\xBB';\n      }\n      var getDataPath = function (data) {\n        var parts = data || [];\n        var newPathElements = map$2(parts, function (part, index) {\n          return Button.sketch({\n            dom: {\n              tag: 'div',\n              classes: ['tox-statusbar__path-item'],\n              attributes: {\n                'role': 'button',\n                'data-index': index,\n                'tab-index': -1,\n                'aria-level': index + 1\n              },\n              innerHtml: part.name\n            },\n            action: function (_btn) {\n              editor.focus();\n              editor.selection.select(part.element);\n              editor.nodeChanged();\n            },\n            buttonBehaviours: derive$1([\n              DisablingConfigs.button(providersBackstage.isDisabled),\n              receivingConfig()\n            ])\n          });\n        });\n        var divider = {\n          dom: {\n            tag: 'div',\n            classes: ['tox-statusbar__path-divider'],\n            attributes: { 'aria-hidden': true },\n            innerHtml: ' ' + settings.delimiter + ' '\n          }\n        };\n        return foldl(newPathElements.slice(1), function (acc, element) {\n          var newAcc = acc;\n          newAcc.push(divider);\n          newAcc.push(element);\n          return newAcc;\n        }, [newPathElements[0]]);\n      };\n      var updatePath = function (parents) {\n        var newPath = [];\n        var i = parents.length;\n        while (i-- > 0) {\n          var parent_1 = parents[i];\n          if (parent_1.nodeType === 1 && !isHidden(parent_1)) {\n            var args = editor.fire('ResolveName', {\n              name: parent_1.nodeName.toLowerCase(),\n              target: parent_1\n            });\n            if (!args.isDefaultPrevented()) {\n              newPath.push({\n                name: args.name,\n                element: parent_1\n              });\n            }\n            if (args.isPropagationStopped()) {\n              break;\n            }\n          }\n        }\n        return newPath;\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path'],\n          attributes: { role: 'navigation' }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'flow',\n            selector: 'div[role=button]'\n          }),\n          Disabling.config({ disabled: providersBackstage.isDisabled }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          config('elementPathEvents', [runOnAttached(function (comp, _e) {\n              editor.shortcuts.add('alt+F11', 'focus statusbar elementpath', function () {\n                return Keying.focusIn(comp);\n              });\n              editor.on('NodeChange', function (e) {\n                var newPath = updatePath(e.parents);\n                if (newPath.length > 0) {\n                  Replacing.set(comp, getDataPath(newPath));\n                } else {\n                  Replacing.set(comp, []);\n                }\n              });\n            })])\n        ]),\n        components: []\n      };\n    };\n\n    var ResizeTypes;\n    (function (ResizeTypes) {\n      ResizeTypes[ResizeTypes['None'] = 0] = 'None';\n      ResizeTypes[ResizeTypes['Both'] = 1] = 'Both';\n      ResizeTypes[ResizeTypes['Vertical'] = 2] = 'Vertical';\n    }(ResizeTypes || (ResizeTypes = {})));\n    var getDimensions = function (editor, deltas, resizeType, originalHeight, originalWidth) {\n      var dimensions = {};\n      dimensions.height = calcCappedSize(originalHeight + deltas.top, getMinHeightSetting(editor), getMaxHeightSetting(editor));\n      if (resizeType === ResizeTypes.Both) {\n        dimensions.width = calcCappedSize(originalWidth + deltas.left, getMinWidthSetting(editor), getMaxWidthSetting(editor));\n      }\n      return dimensions;\n    };\n    var resize = function (editor, deltas, resizeType) {\n      var container = SugarElement.fromDom(editor.getContainer());\n      var dimensions = getDimensions(editor, deltas, resizeType, get$b(container), get$a(container));\n      each(dimensions, function (val, dim) {\n        return set$7(container, dim, numToPx(val));\n      });\n      fireResizeEditor(editor);\n    };\n\n    var getResizeType = function (editor) {\n      var fallback = !editor.hasPlugin('autoresize');\n      var resize = editor.getParam('resize', fallback);\n      if (resize === false) {\n        return ResizeTypes.None;\n      } else if (resize === 'both') {\n        return ResizeTypes.Both;\n      } else {\n        return ResizeTypes.Vertical;\n      }\n    };\n    var keyboardHandler = function (editor, resizeType, x, y) {\n      var scale = 20;\n      var delta = SugarPosition(x * scale, y * scale);\n      resize(editor, delta, resizeType);\n      return Optional.some(true);\n    };\n    var renderResizeHandler = function (editor, providersBackstage) {\n      var resizeType = getResizeType(editor);\n      if (resizeType === ResizeTypes.None) {\n        return Optional.none();\n      }\n      return Optional.some(render$3('resize-handle', {\n        tag: 'div',\n        classes: ['tox-statusbar__resize-handle'],\n        attributes: { title: providersBackstage.translate('Resize') },\n        behaviours: [\n          Dragging.config({\n            mode: 'mouse',\n            repositionTarget: false,\n            onDrag: function (_comp, _target, delta) {\n              return resize(editor, delta, resizeType);\n            },\n            blockerClass: 'tox-blocker'\n          }),\n          Keying.config({\n            mode: 'special',\n            onLeft: function () {\n              return keyboardHandler(editor, resizeType, -1, 0);\n            },\n            onRight: function () {\n              return keyboardHandler(editor, resizeType, 1, 0);\n            },\n            onUp: function () {\n              return keyboardHandler(editor, resizeType, 0, -1);\n            },\n            onDown: function () {\n              return keyboardHandler(editor, resizeType, 0, 1);\n            }\n          }),\n          Tabstopping.config({}),\n          Focusing.config({})\n        ]\n      }, providersBackstage.icons));\n    };\n\n    var renderWordCount = function (editor, providersBackstage) {\n      var _a;\n      var replaceCountText = function (comp, count, mode) {\n        return Replacing.set(comp, [text(providersBackstage.translate([\n            '{0} ' + mode,\n            count[mode]\n          ]))]);\n      };\n      return Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: ['tox-statusbar__wordcount']\n        },\n        components: [],\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(providersBackstage.isDisabled),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: {\n                mode: 'words',\n                count: {\n                  words: 0,\n                  characters: 0\n                }\n              }\n            }\n          }),\n          config('wordcount-events', [\n            runOnExecute$1(function (comp) {\n              var currentVal = Representing.getValue(comp);\n              var newMode = currentVal.mode === 'words' ? 'characters' : 'words';\n              Representing.setValue(comp, {\n                mode: newMode,\n                count: currentVal.count\n              });\n              replaceCountText(comp, currentVal.count, newMode);\n            }),\n            runOnAttached(function (comp) {\n              editor.on('wordCountUpdate', function (e) {\n                var mode = Representing.getValue(comp).mode;\n                Representing.setValue(comp, {\n                  mode: mode,\n                  count: e.wordCount\n                });\n                replaceCountText(comp, e.wordCount, mode);\n              });\n            })\n          ])\n        ]),\n        eventOrder: (_a = {}, _a[execute$5()] = [\n          'disabling',\n          'alloy.base.behaviour',\n          'wordcount-events'\n        ], _a)\n      });\n    };\n\n    var renderStatusbar = function (editor, providersBackstage) {\n      var renderBranding = function () {\n        var label = global$e.translate([\n          'Powered by {0}',\n          'Tiny'\n        ]);\n        var linkHtml = '<a href=\"https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5\" rel=\"noopener\" target=\"_blank\" tabindex=\"-1\" aria-label=\"' + label + '\">' + label + '</a>';\n        return {\n          dom: {\n            tag: 'span',\n            classes: ['tox-statusbar__branding'],\n            innerHtml: linkHtml\n          }\n        };\n      };\n      var getTextComponents = function () {\n        var components = [];\n        if (editor.getParam('elementpath', true, 'boolean')) {\n          components.push(renderElementPath(editor, {}, providersBackstage));\n        }\n        if (editor.hasPlugin('wordcount')) {\n          components.push(renderWordCount(editor, providersBackstage));\n        }\n        if (editor.getParam('branding', true, 'boolean')) {\n          components.push(renderBranding());\n        }\n        if (components.length > 0) {\n          return [{\n              dom: {\n                tag: 'div',\n                classes: ['tox-statusbar__text-container']\n              },\n              components: components\n            }];\n        }\n        return [];\n      };\n      var getComponents = function () {\n        var components = getTextComponents();\n        var resizeHandler = renderResizeHandler(editor, providersBackstage);\n        return components.concat(resizeHandler.toArray());\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar']\n        },\n        components: getComponents()\n      };\n    };\n\n    var setup$3 = function (editor) {\n      var _a;\n      var isInline = editor.inline;\n      var mode = isInline ? Inline : Iframe;\n      var header = isStickyToolbar(editor) ? StickyHeader : StaticHeader;\n      var lazyOuterContainer = Optional.none();\n      var platform = detect$1();\n      var isIE = platform.browser.isIE();\n      var platformClasses = isIE ? ['tox-platform-ie'] : [];\n      var isTouch = platform.deviceType.isTouch();\n      var touchPlatformClass = 'tox-platform-touch';\n      var deviceClasses = isTouch ? [touchPlatformClass] : [];\n      var isToolbarBottom = isToolbarLocationBottom(editor);\n      var uiContainer = getUiContainer(editor);\n      var dirAttributes = global$e.isRtl() ? { attributes: { dir: 'rtl' } } : {};\n      var verticalDirAttributes = { attributes: (_a = {}, _a[Attribute] = isToolbarBottom ? AttributeValue.BottomToTop : AttributeValue.TopToBottom, _a) };\n      var lazyHeader = function () {\n        return lazyOuterContainer.bind(OuterContainer.getHeader);\n      };\n      var isHeaderDocked = function () {\n        return header.isDocked(lazyHeader);\n      };\n      var resizeUiMothership = function () {\n        set$7(uiMothership.element, 'width', document.body.clientWidth + 'px');\n      };\n      var makeSinkDefinition = function () {\n        var isGridUiContainer = eq(body(), uiContainer) && get$c(uiContainer, 'display') === 'grid';\n        var sinkSpec = {\n          dom: __assign({\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-silver-sink',\n              'tox-tinymce-aux'\n            ].concat(platformClasses).concat(deviceClasses)\n          }, dirAttributes),\n          behaviours: derive$1([Positioning.config({\n              useFixed: function () {\n                return isHeaderDocked();\n              }\n            })])\n        };\n        var reactiveWidthSpec = {\n          dom: { styles: { width: document.body.clientWidth + 'px' } },\n          events: derive$2([run$1(windowResize(), resizeUiMothership)])\n        };\n        return deepMerge(sinkSpec, isGridUiContainer ? reactiveWidthSpec : {});\n      };\n      var sink = build$1(makeSinkDefinition());\n      var lazySink = function () {\n        return Result.value(sink);\n      };\n      var memAnchorBar = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-anchorbar']\n        }\n      });\n      var lazyAnchorBar = function () {\n        return lazyOuterContainer.bind(function (container) {\n          return memAnchorBar.getOpt(container);\n        }).getOrDie('Could not find a anchor bar element');\n      };\n      var lazyToolbar = function () {\n        return lazyOuterContainer.bind(function (container) {\n          return OuterContainer.getToolbar(container);\n        }).getOrDie('Could not find more toolbar element');\n      };\n      var lazyThrobber = function () {\n        return lazyOuterContainer.bind(function (container) {\n          return OuterContainer.getThrobber(container);\n        }).getOrDie('Could not find throbber element');\n      };\n      var backstage = init$7(sink, editor, lazyAnchorBar);\n      var partMenubar = OuterContainer.parts.menubar({\n        dom: {\n          tag: 'div',\n          classes: ['tox-menubar']\n        },\n        backstage: backstage,\n        onEscape: function () {\n          editor.focus();\n        }\n      });\n      var toolbarMode = getToolbarMode(editor);\n      var partToolbar = OuterContainer.parts.toolbar(__assign({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar']\n        },\n        getSink: lazySink,\n        providers: backstage.shared.providers,\n        onEscape: function () {\n          editor.focus();\n        },\n        type: toolbarMode,\n        lazyToolbar: lazyToolbar,\n        lazyHeader: function () {\n          return lazyHeader().getOrDie('Could not find header element');\n        }\n      }, verticalDirAttributes));\n      var partMultipleToolbar = OuterContainer.parts['multiple-toolbar']({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar-overlord']\n        },\n        providers: backstage.shared.providers,\n        onEscape: function () {\n          editor.focus();\n        },\n        type: toolbarMode\n      });\n      var partSocket = OuterContainer.parts.socket({\n        dom: {\n          tag: 'div',\n          classes: ['tox-edit-area']\n        }\n      });\n      var partSidebar = OuterContainer.parts.sidebar({\n        dom: {\n          tag: 'div',\n          classes: ['tox-sidebar']\n        }\n      });\n      var partThrobber = OuterContainer.parts.throbber({\n        dom: {\n          tag: 'div',\n          classes: ['tox-throbber']\n        },\n        backstage: backstage\n      });\n      var sb = editor.getParam('statusbar', true, 'boolean');\n      var statusbar = sb && !isInline ? Optional.some(renderStatusbar(editor, backstage.shared.providers)) : Optional.none();\n      var socketSidebarContainer = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-sidebar-wrap']\n        },\n        components: [\n          partSocket,\n          partSidebar\n        ]\n      };\n      var hasMultipleToolbar = isMultipleToolbars(editor);\n      var hasToolbar = isToolbarEnabled(editor);\n      var hasMenubar = isMenubarEnabled(editor);\n      var getPartToolbar = function () {\n        if (hasMultipleToolbar) {\n          return [partMultipleToolbar];\n        } else if (hasToolbar) {\n          return [partToolbar];\n        } else {\n          return [];\n        }\n      };\n      var partHeader = OuterContainer.parts.header({\n        dom: __assign({\n          tag: 'div',\n          classes: ['tox-editor-header']\n        }, verticalDirAttributes),\n        components: flatten([\n          hasMenubar ? [partMenubar] : [],\n          getPartToolbar(),\n          useFixedContainer(editor) ? [] : [memAnchorBar.asSpec()]\n        ]),\n        sticky: isStickyToolbar(editor),\n        editor: editor,\n        sharedBackstage: backstage.shared\n      });\n      var editorComponents = flatten([\n        isToolbarBottom ? [] : [partHeader],\n        isInline ? [] : [socketSidebarContainer],\n        isToolbarBottom ? [partHeader] : []\n      ]);\n      var editorContainer = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-editor-container']\n        },\n        components: editorComponents\n      };\n      var containerComponents = flatten([\n        [editorContainer],\n        isInline ? [] : statusbar.toArray(),\n        [partThrobber]\n      ]);\n      var isHidden = isDistractionFree(editor);\n      var attributes = __assign(__assign({ role: 'application' }, global$e.isRtl() ? { dir: 'rtl' } : {}), isHidden ? { 'aria-hidden': 'true' } : {});\n      var outerContainer = build$1(OuterContainer.sketch({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox',\n            'tox-tinymce'\n          ].concat(isInline ? ['tox-tinymce-inline'] : []).concat(isToolbarBottom ? ['tox-tinymce--toolbar-bottom'] : []).concat(deviceClasses).concat(platformClasses),\n          styles: __assign({ visibility: 'hidden' }, isHidden ? {\n            opacity: '0',\n            border: '0'\n          } : {}),\n          attributes: attributes\n        },\n        components: containerComponents,\n        behaviours: derive$1([\n          receivingConfig(),\n          Disabling.config({ disableClass: 'tox-tinymce--disabled' }),\n          Keying.config({\n            mode: 'cyclic',\n            selector: '.tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle'\n          })\n        ])\n      }));\n      lazyOuterContainer = Optional.some(outerContainer);\n      editor.shortcuts.add('alt+F9', 'focus menubar', function () {\n        OuterContainer.focusMenubar(outerContainer);\n      });\n      editor.shortcuts.add('alt+F10', 'focus toolbar', function () {\n        OuterContainer.focusToolbar(outerContainer);\n      });\n      editor.addCommand('ToggleToolbarDrawer', function () {\n        OuterContainer.toggleToolbarDrawer(outerContainer);\n      });\n      editor.addQueryStateHandler('ToggleToolbarDrawer', function () {\n        return OuterContainer.isToolbarDrawerToggled(outerContainer);\n      });\n      var mothership = takeover(outerContainer);\n      var uiMothership = takeover(sink);\n      setup$b(editor, mothership, uiMothership);\n      var getUi = function () {\n        var channels = {\n          broadcastAll: uiMothership.broadcast,\n          broadcastOn: uiMothership.broadcastOn,\n          register: noop\n        };\n        return { channels: channels };\n      };\n      var setEditorSize = function () {\n        var parsedHeight = numToPx(getHeightWithFallback(editor));\n        var parsedWidth = numToPx(getWidthWithFallback(editor));\n        if (!editor.inline) {\n          if (isValidValue('div', 'width', parsedWidth)) {\n            set$7(outerContainer.element, 'width', parsedWidth);\n          }\n          if (isValidValue('div', 'height', parsedHeight)) {\n            set$7(outerContainer.element, 'height', parsedHeight);\n          } else {\n            set$7(outerContainer.element, 'height', '200px');\n          }\n        }\n        return parsedHeight;\n      };\n      var renderUI = function () {\n        header.setup(editor, backstage.shared, lazyHeader);\n        setup$6(editor, backstage);\n        setup$5(editor, lazySink, backstage);\n        setup$8(editor);\n        setup$7(editor, lazyThrobber, backstage.shared);\n        map$1(getToolbarGroups(editor), function (toolbarGroupButtonConfig, name) {\n          editor.ui.registry.addGroupToolbarButton(name, toolbarGroupButtonConfig);\n        });\n        var _a = editor.ui.registry.getAll(), buttons = _a.buttons, menuItems = _a.menuItems, contextToolbars = _a.contextToolbars, sidebars = _a.sidebars;\n        var toolbarOpt = getMultipleToolbarsSetting(editor);\n        var rawUiConfig = {\n          menuItems: menuItems,\n          menus: getMenus(editor),\n          menubar: getMenubar(editor),\n          toolbar: toolbarOpt.getOrThunk(function () {\n            return getToolbar(editor);\n          }),\n          allowToolbarGroups: toolbarMode === ToolbarMode.floating,\n          buttons: buttons,\n          sidebar: sidebars\n        };\n        register$7(editor, contextToolbars, sink, { backstage: backstage });\n        setup$4(editor, sink);\n        var elm = editor.getElement();\n        var height = setEditorSize();\n        var uiComponents = {\n          mothership: mothership,\n          uiMothership: uiMothership,\n          outerContainer: outerContainer\n        };\n        var args = {\n          targetNode: elm,\n          height: height\n        };\n        return mode.render(editor, uiComponents, rawUiConfig, backstage, args);\n      };\n      return {\n        mothership: mothership,\n        uiMothership: uiMothership,\n        backstage: backstage,\n        renderUI: renderUI,\n        getUi: getUi\n      };\n    };\n\n    var describedBy = function (describedElement, describeElement) {\n      var describeId = Optional.from(get$d(describedElement, 'id')).fold(function () {\n        var id = generate$6('dialog-describe');\n        set$8(describeElement, 'id', id);\n        return id;\n      }, identity$1);\n      set$8(describedElement, 'aria-describedby', describeId);\n    };\n\n    var labelledBy = function (labelledElement, labelElement) {\n      var labelId = getOpt(labelledElement, 'id').fold(function () {\n        var id = generate$6('dialog-label');\n        set$8(labelElement, 'id', id);\n        return id;\n      }, identity$1);\n      set$8(labelledElement, 'aria-labelledby', labelId);\n    };\n\n    var schema$2 = constant$1([\n      required$1('lazySink'),\n      option('dragBlockClass'),\n      defaultedFunction('getBounds', win),\n      defaulted('useTabstopAt', always),\n      defaulted('eventOrder', {}),\n      field('modalBehaviours', [Keying]),\n      onKeyboardHandler('onExecute'),\n      onStrictKeyboardHandler('onEscape')\n    ]);\n    var basic = { sketch: identity$1 };\n    var parts$2 = constant$1([\n      optional({\n        name: 'draghandle',\n        overrides: function (detail, spec) {\n          return {\n            behaviours: derive$1([Dragging.config({\n                mode: 'mouse',\n                getTarget: function (handle) {\n                  return ancestor(handle, '[role=\"dialog\"]').getOr(handle);\n                },\n                blockerClass: detail.dragBlockClass.getOrDie(new Error('The drag blocker class was not specified for a dialog with a drag handle: \\n' + JSON.stringify(spec, null, 2)).message),\n                getBounds: detail.getDragBounds\n              })])\n          };\n        }\n      }),\n      required({\n        schema: [required$1('dom')],\n        name: 'title'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'close'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'body'\n      }),\n      optional({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'footer'\n      }),\n      external$1({\n        factory: {\n          sketch: function (spec, detail) {\n            return __assign(__assign({}, spec), {\n              dom: detail.dom,\n              components: detail.components\n            });\n          }\n        },\n        schema: [\n          defaulted('dom', {\n            tag: 'div',\n            styles: {\n              position: 'fixed',\n              left: '0px',\n              top: '0px',\n              right: '0px',\n              bottom: '0px'\n            }\n          }),\n          defaulted('components', [])\n        ],\n        name: 'blocker'\n      })\n    ]);\n\n    var factory$4 = function (detail, components, spec, externals) {\n      var _a;\n      var dialogComp = value$1();\n      var showDialog = function (dialog) {\n        dialogComp.set(dialog);\n        var sink = detail.lazySink(dialog).getOrDie();\n        var externalBlocker = externals.blocker();\n        var blocker = sink.getSystem().build(__assign(__assign({}, externalBlocker), {\n          components: externalBlocker.components.concat([premade(dialog)]),\n          behaviours: derive$1([\n            Focusing.config({}),\n            config('dialog-blocker-events', [runOnSource(focusin(), function () {\n                Keying.focusIn(dialog);\n              })])\n          ])\n        }));\n        attach(sink, blocker);\n        Keying.focusIn(dialog);\n      };\n      var hideDialog = function (dialog) {\n        dialogComp.clear();\n        parent(dialog.element).each(function (blockerDom) {\n          dialog.getSystem().getByDom(blockerDom).each(function (blocker) {\n            detach(blocker);\n          });\n        });\n      };\n      var getDialogBody = function (dialog) {\n        return getPartOrDie(dialog, detail, 'body');\n      };\n      var getDialogFooter = function (dialog) {\n        return getPartOrDie(dialog, detail, 'footer');\n      };\n      var setBusy = function (dialog, getBusySpec) {\n        Blocking.block(dialog, getBusySpec);\n      };\n      var setIdle = function (dialog) {\n        Blocking.unblock(dialog);\n      };\n      var modalEventsId = generate$6('modal-events');\n      var eventOrder = __assign(__assign({}, detail.eventOrder), (_a = {}, _a[attachedToDom()] = [modalEventsId].concat(detail.eventOrder['alloy.system.attached'] || []), _a));\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        apis: {\n          show: showDialog,\n          hide: hideDialog,\n          getBody: getDialogBody,\n          getFooter: getDialogFooter,\n          setIdle: setIdle,\n          setBusy: setBusy\n        },\n        eventOrder: eventOrder,\n        domModification: {\n          attributes: {\n            'role': 'dialog',\n            'aria-modal': 'true'\n          }\n        },\n        behaviours: augment(detail.modalBehaviours, [\n          Replacing.config({}),\n          Keying.config({\n            mode: 'cyclic',\n            onEnter: detail.onExecute,\n            onEscape: detail.onEscape,\n            useTabstopAt: detail.useTabstopAt\n          }),\n          Blocking.config({ getRoot: dialogComp.get }),\n          config(modalEventsId, [runOnAttached(function (c) {\n              labelledBy(c.element, getPartOrDie(c, detail, 'title').element);\n              describedBy(c.element, getPartOrDie(c, detail, 'body').element);\n            })])\n        ])\n      };\n    };\n    var ModalDialog = composite({\n      name: 'ModalDialog',\n      configFields: schema$2(),\n      partFields: parts$2(),\n      factory: factory$4,\n      apis: {\n        show: function (apis, dialog) {\n          apis.show(dialog);\n        },\n        hide: function (apis, dialog) {\n          apis.hide(dialog);\n        },\n        getBody: function (apis, dialog) {\n          return apis.getBody(dialog);\n        },\n        getFooter: function (apis, dialog) {\n          return apis.getFooter(dialog);\n        },\n        setBusy: function (apis, dialog, getBusySpec) {\n          apis.setBusy(dialog, getBusySpec);\n        },\n        setIdle: function (apis, dialog) {\n          apis.setIdle(dialog);\n        }\n      }\n    });\n\n    var dialogToggleMenuItemSchema = objOf([\n      requiredString('type'),\n      requiredString('name')\n    ].concat(commonMenuItemFields));\n    var dialogToggleMenuItemDataProcessor = boolean;\n\n    var baseFooterButtonFields = [\n      field$1('name', 'name', defaultedThunk(function () {\n        return generate$6('button-name');\n      }), string),\n      optionString('icon'),\n      defaultedStringEnum('align', 'end', [\n        'start',\n        'end'\n      ]),\n      defaultedBoolean('primary', false),\n      defaultedBoolean('disabled', false)\n    ];\n    var dialogFooterButtonFields = __spreadArray(__spreadArray([], baseFooterButtonFields, true), [requiredString('text')], false);\n    var normalFooterButtonFields = __spreadArray([requiredStringEnum('type', [\n        'submit',\n        'cancel',\n        'custom'\n      ])], dialogFooterButtonFields, true);\n    var menuFooterButtonFields = __spreadArray([\n      requiredStringEnum('type', ['menu']),\n      optionString('text'),\n      optionString('tooltip'),\n      optionString('icon'),\n      requiredArrayOf('items', dialogToggleMenuItemSchema)\n    ], baseFooterButtonFields, true);\n    var dialogFooterButtonSchema = choose$1('type', {\n      submit: normalFooterButtonFields,\n      cancel: normalFooterButtonFields,\n      custom: normalFooterButtonFields,\n      menu: menuFooterButtonFields\n    });\n\n    var alertBannerFields = [\n      requiredString('type'),\n      requiredString('text'),\n      requiredStringEnum('level', [\n        'info',\n        'warn',\n        'error',\n        'success'\n      ]),\n      requiredString('icon'),\n      defaulted('url', '')\n    ];\n    var alertBannerSchema = objOf(alertBannerFields);\n\n    var createBarFields = function (itemsField) {\n      return [\n        requiredString('type'),\n        itemsField\n      ];\n    };\n\n    var buttonFields = [\n      requiredString('type'),\n      requiredString('text'),\n      defaultedBoolean('disabled', false),\n      defaultedBoolean('primary', false),\n      field$1('name', 'name', defaultedThunk(function () {\n        return generate$6('button-name');\n      }), string),\n      optionString('icon'),\n      defaultedBoolean('borderless', false)\n    ];\n    var buttonSchema = objOf(buttonFields);\n\n    var checkboxFields = [\n      requiredString('type'),\n      requiredString('name'),\n      requiredString('label'),\n      defaultedBoolean('disabled', false)\n    ];\n    var checkboxSchema = objOf(checkboxFields);\n    var checkboxDataProcessor = boolean;\n\n    var formComponentFields = [\n      requiredString('type'),\n      requiredString('name')\n    ];\n    var formComponentWithLabelFields = formComponentFields.concat([optionString('label')]);\n\n    var collectionFields = formComponentWithLabelFields.concat([defaulted('columns', 'auto')]);\n    var collectionSchema = objOf(collectionFields);\n    var collectionDataProcessor = arrOfObj([\n      requiredString('value'),\n      requiredString('text'),\n      requiredString('icon')\n    ]);\n\n    var colorInputFields = formComponentWithLabelFields;\n    var colorInputSchema = objOf(colorInputFields);\n    var colorInputDataProcessor = string;\n\n    var colorPickerFields = formComponentWithLabelFields;\n    var colorPickerSchema = objOf(colorPickerFields);\n    var colorPickerDataProcessor = string;\n\n    var customEditorFields = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredString('scriptId'),\n      requiredString('scriptUrl'),\n      defaultedPostMsg('settings', undefined)\n    ]);\n    var customEditorFieldsOld = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredFunction('init')\n    ]);\n    var customEditorSchema = valueOf(function (v) {\n      return asRaw('customeditor.old', objOfOnly(customEditorFieldsOld), v).orThunk(function () {\n        return asRaw('customeditor.new', objOfOnly(customEditorFields), v);\n      });\n    });\n    var customEditorDataProcessor = string;\n\n    var dropZoneFields = formComponentWithLabelFields;\n    var dropZoneSchema = objOf(dropZoneFields);\n    var dropZoneDataProcessor = arrOfVal();\n\n    var createGridFields = function (itemsField) {\n      return [\n        requiredString('type'),\n        requiredNumber('columns'),\n        itemsField\n      ];\n    };\n\n    var htmlPanelFields = [\n      requiredString('type'),\n      requiredString('html'),\n      defaultedStringEnum('presets', 'presentation', [\n        'presentation',\n        'document'\n      ])\n    ];\n    var htmlPanelSchema = objOf(htmlPanelFields);\n\n    var iframeFields = formComponentWithLabelFields.concat([defaultedBoolean('sandboxed', true)]);\n    var iframeSchema = objOf(iframeFields);\n    var iframeDataProcessor = string;\n\n    var imageToolsFields = formComponentWithLabelFields.concat([requiredOf('currentState', objOf([\n        required$1('blob'),\n        requiredString('url')\n      ]))]);\n    var imageToolsSchema = objOf(imageToolsFields);\n\n    var inputFields = formComponentWithLabelFields.concat([\n      optionString('inputMode'),\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      defaultedBoolean('disabled', false)\n    ]);\n    var inputSchema = objOf(inputFields);\n    var inputDataProcessor = string;\n\n    var createLabelFields = function (itemsField) {\n      return [\n        requiredString('type'),\n        requiredString('label'),\n        itemsField\n      ];\n    };\n\n    var listBoxSingleItemFields = [\n      requiredString('text'),\n      requiredString('value')\n    ];\n    var listBoxNestedItemFields = [\n      requiredString('text'),\n      requiredArrayOf('items', thunkOf('items', function () {\n        return listBoxItemSchema;\n      }))\n    ];\n    var listBoxItemSchema = oneOf([\n      objOf(listBoxSingleItemFields),\n      objOf(listBoxNestedItemFields)\n    ]);\n    var listBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOf('items', listBoxItemSchema),\n      defaultedBoolean('disabled', false)\n    ]);\n    var listBoxSchema = objOf(listBoxFields);\n    var listBoxDataProcessor = string;\n\n    var selectBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOfObj('items', [\n        requiredString('text'),\n        requiredString('value')\n      ]),\n      defaultedNumber('size', 1),\n      defaultedBoolean('disabled', false)\n    ]);\n    var selectBoxSchema = objOf(selectBoxFields);\n    var selectBoxDataProcessor = string;\n\n    var sizeInputFields = formComponentWithLabelFields.concat([\n      defaultedBoolean('constrain', true),\n      defaultedBoolean('disabled', false)\n    ]);\n    var sizeInputSchema = objOf(sizeInputFields);\n    var sizeInputDataProcessor = objOf([\n      requiredString('width'),\n      requiredString('height')\n    ]);\n\n    var tableFields = [\n      requiredString('type'),\n      requiredArrayOf('header', string),\n      requiredArrayOf('cells', arrOf(string))\n    ];\n    var tableSchema = objOf(tableFields);\n\n    var textAreaFields = formComponentWithLabelFields.concat([\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      defaultedBoolean('disabled', false)\n    ]);\n    var textAreaSchema = objOf(textAreaFields);\n    var textAreaDataProcessor = string;\n\n    var urlInputFields = formComponentWithLabelFields.concat([\n      defaultedStringEnum('filetype', 'file', [\n        'image',\n        'media',\n        'file'\n      ]),\n      defaulted('disabled', false)\n    ]);\n    var urlInputSchema = objOf(urlInputFields);\n    var urlInputDataProcessor = objOf([\n      requiredString('value'),\n      defaulted('meta', {})\n    ]);\n\n    var createItemsField = function (name) {\n      return field$1('items', 'items', required$2(), arrOf(valueOf(function (v) {\n        return asRaw('Checking item of ' + name, itemSchema, v).fold(function (sErr) {\n          return Result.error(formatError(sErr));\n        }, function (passValue) {\n          return Result.value(passValue);\n        });\n      })));\n    };\n    var itemSchema = valueThunk(function () {\n      return choose$2('type', {\n        alertbanner: alertBannerSchema,\n        bar: objOf(createBarFields(createItemsField('bar'))),\n        button: buttonSchema,\n        checkbox: checkboxSchema,\n        colorinput: colorInputSchema,\n        colorpicker: colorPickerSchema,\n        dropzone: dropZoneSchema,\n        grid: objOf(createGridFields(createItemsField('grid'))),\n        iframe: iframeSchema,\n        input: inputSchema,\n        listbox: listBoxSchema,\n        selectbox: selectBoxSchema,\n        sizeinput: sizeInputSchema,\n        textarea: textAreaSchema,\n        urlinput: urlInputSchema,\n        customeditor: customEditorSchema,\n        htmlpanel: htmlPanelSchema,\n        imagetools: imageToolsSchema,\n        collection: collectionSchema,\n        label: objOf(createLabelFields(createItemsField('label'))),\n        table: tableSchema,\n        panel: panelSchema\n      });\n    });\n    var panelFields = [\n      requiredString('type'),\n      defaulted('classes', []),\n      requiredArrayOf('items', itemSchema)\n    ];\n    var panelSchema = objOf(panelFields);\n\n    var tabFields = [\n      field$1('name', 'name', defaultedThunk(function () {\n        return generate$6('tab-name');\n      }), string),\n      requiredString('title'),\n      requiredArrayOf('items', itemSchema)\n    ];\n    var tabPanelFields = [\n      requiredString('type'),\n      requiredArrayOfObj('tabs', tabFields)\n    ];\n    var tabPanelSchema = objOf(tabPanelFields);\n\n    var dialogButtonFields = dialogFooterButtonFields;\n    var dialogButtonSchema = dialogFooterButtonSchema;\n    var dialogSchema = objOf([\n      requiredString('title'),\n      requiredOf('body', choose$2('type', {\n        panel: panelSchema,\n        tabpanel: tabPanelSchema\n      })),\n      defaultedString('size', 'normal'),\n      requiredArrayOf('buttons', dialogButtonSchema),\n      defaulted('initialData', {}),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onChange', noop),\n      defaultedFunction('onSubmit', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onCancel', noop),\n      defaulted('onTabChange', noop)\n    ]);\n    var createDialog = function (spec) {\n      return asRaw('dialog', dialogSchema, spec);\n    };\n\n    var urlDialogButtonSchema = objOf(__spreadArray([requiredStringEnum('type', [\n        'cancel',\n        'custom'\n      ])], dialogButtonFields, true));\n    var urlDialogSchema = objOf([\n      requiredString('title'),\n      requiredString('url'),\n      optionNumber('height'),\n      optionNumber('width'),\n      optionArrayOf('buttons', urlDialogButtonSchema),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onCancel', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onMessage', noop)\n    ]);\n    var createUrlDialog = function (spec) {\n      return asRaw('dialog', urlDialogSchema, spec);\n    };\n\n    var getAllObjects = function (obj) {\n      if (isObject(obj)) {\n        return [obj].concat(bind$3(values(obj), getAllObjects));\n      } else if (isArray(obj)) {\n        return bind$3(obj, getAllObjects);\n      } else {\n        return [];\n      }\n    };\n\n    var isNamedItem = function (obj) {\n      return isString(obj.type) && isString(obj.name);\n    };\n    var dataProcessors = {\n      checkbox: checkboxDataProcessor,\n      colorinput: colorInputDataProcessor,\n      colorpicker: colorPickerDataProcessor,\n      dropzone: dropZoneDataProcessor,\n      input: inputDataProcessor,\n      iframe: iframeDataProcessor,\n      sizeinput: sizeInputDataProcessor,\n      selectbox: selectBoxDataProcessor,\n      listbox: listBoxDataProcessor,\n      size: sizeInputDataProcessor,\n      textarea: textAreaDataProcessor,\n      urlinput: urlInputDataProcessor,\n      customeditor: customEditorDataProcessor,\n      collection: collectionDataProcessor,\n      togglemenuitem: dialogToggleMenuItemDataProcessor\n    };\n    var getDataProcessor = function (item) {\n      return Optional.from(dataProcessors[item.type]);\n    };\n    var getNamedItems = function (structure) {\n      return filter$2(getAllObjects(structure), isNamedItem);\n    };\n\n    var createDataValidator = function (structure) {\n      var namedItems = getNamedItems(structure);\n      var fields = bind$3(namedItems, function (item) {\n        return getDataProcessor(item).fold(function () {\n          return [];\n        }, function (schema) {\n          return [requiredOf(item.name, schema)];\n        });\n      });\n      return objOf(fields);\n    };\n\n    var extract = function (structure) {\n      var internalDialog = getOrDie(createDialog(structure));\n      var dataValidator = createDataValidator(structure);\n      var initialData = structure.initialData;\n      return {\n        internalDialog: internalDialog,\n        dataValidator: dataValidator,\n        initialData: initialData\n      };\n    };\n    var DialogManager = {\n      open: function (factory, structure) {\n        var extraction = extract(structure);\n        return factory(extraction.internalDialog, extraction.initialData, extraction.dataValidator);\n      },\n      openUrl: function (factory, structure) {\n        var internalDialog = getOrDie(createUrlDialog(structure));\n        return factory(internalDialog);\n      },\n      redial: function (structure) {\n        return extract(structure);\n      }\n    };\n\n    var toValidValues = function (values) {\n      var errors = [];\n      var result = {};\n      each(values, function (value, name) {\n        value.fold(function () {\n          errors.push(name);\n        }, function (v) {\n          result[name] = v;\n        });\n      });\n      return errors.length > 0 ? Result.error(errors) : Result.value(result);\n    };\n\n    var renderBodyPanel = function (spec, backstage) {\n      var memForm = record(Form.sketch(function (parts) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-form'].concat(spec.classes)\n          },\n          components: map$2(spec.items, function (item) {\n            return interpretInForm(parts, item, backstage);\n          })\n        };\n      }));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            },\n            components: [memForm.asSpec()]\n          }],\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          }),\n          ComposingConfigs.memento(memForm),\n          RepresentingConfigs.memento(memForm, {\n            postprocess: function (formValue) {\n              return toValidValues(formValue).fold(function (err) {\n                console.error(err);\n                return {};\n              }, identity$1);\n            }\n          })\n        ])\n      };\n    };\n\n    var factory$3 = function (detail, _spec) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: detail.components,\n        events: events$a(detail.action),\n        behaviours: augment(detail.tabButtonBehaviours, [\n          Focusing.config({}),\n          Keying.config({\n            mode: 'execution',\n            useSpace: true,\n            useEnter: true\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.value\n            }\n          })\n        ]),\n        domModification: detail.domModification\n      };\n    };\n    var TabButton = single({\n      name: 'TabButton',\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('value'),\n        field$1('dom', 'dom', mergeWithThunk(function () {\n          return {\n            attributes: {\n              'role': 'tab',\n              'id': generate$6('aria'),\n              'aria-selected': 'false'\n            }\n          };\n        }), anyValue()),\n        option('action'),\n        defaulted('domModification', {}),\n        field('tabButtonBehaviours', [\n          Focusing,\n          Keying,\n          Representing\n        ]),\n        required$1('view')\n      ],\n      factory: factory$3\n    });\n\n    var schema$1 = constant$1([\n      required$1('tabs'),\n      required$1('dom'),\n      defaulted('clickToDismiss', false),\n      field('tabbarBehaviours', [\n        Highlighting,\n        Keying\n      ]),\n      markers$1([\n        'tabClass',\n        'selectedClass'\n      ])\n    ]);\n    var tabsPart = group({\n      factory: TabButton,\n      name: 'tabs',\n      unit: 'tab',\n      overrides: function (barDetail) {\n        var dismissTab$1 = function (tabbar, button) {\n          Highlighting.dehighlight(tabbar, button);\n          emitWith(tabbar, dismissTab(), {\n            tabbar: tabbar,\n            button: button\n          });\n        };\n        var changeTab$1 = function (tabbar, button) {\n          Highlighting.highlight(tabbar, button);\n          emitWith(tabbar, changeTab(), {\n            tabbar: tabbar,\n            button: button\n          });\n        };\n        return {\n          action: function (button) {\n            var tabbar = button.getSystem().getByUid(barDetail.uid).getOrDie();\n            var activeButton = Highlighting.isHighlighted(tabbar, button);\n            var response = function () {\n              if (activeButton && barDetail.clickToDismiss) {\n                return dismissTab$1;\n              } else if (!activeButton) {\n                return changeTab$1;\n              } else {\n                return noop;\n              }\n            }();\n            response(tabbar, button);\n          },\n          domModification: { classes: [barDetail.markers.tabClass] }\n        };\n      }\n    });\n    var parts$1 = constant$1([tabsPart]);\n\n    var factory$2 = function (detail, components, _spec, _externals) {\n      return {\n        'uid': detail.uid,\n        'dom': detail.dom,\n        components: components,\n        'debug.sketcher': 'Tabbar',\n        'domModification': { attributes: { role: 'tablist' } },\n        'behaviours': augment(detail.tabbarBehaviours, [\n          Highlighting.config({\n            highlightClass: detail.markers.selectedClass,\n            itemClass: detail.markers.tabClass,\n            onHighlight: function (tabbar, tab) {\n              set$8(tab.element, 'aria-selected', 'true');\n            },\n            onDehighlight: function (tabbar, tab) {\n              set$8(tab.element, 'aria-selected', 'false');\n            }\n          }),\n          Keying.config({\n            mode: 'flow',\n            getInitial: function (tabbar) {\n              return Highlighting.getHighlighted(tabbar).map(function (tab) {\n                return tab.element;\n              });\n            },\n            selector: '.' + detail.markers.tabClass,\n            executeOnMove: true\n          })\n        ])\n      };\n    };\n    var Tabbar = composite({\n      name: 'Tabbar',\n      configFields: schema$1(),\n      partFields: parts$1(),\n      factory: factory$2\n    });\n\n    var factory$1 = function (detail, _spec) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        behaviours: augment(detail.tabviewBehaviours, [Replacing.config({})]),\n        domModification: { attributes: { role: 'tabpanel' } }\n      };\n    };\n    var Tabview = single({\n      name: 'Tabview',\n      configFields: [field('tabviewBehaviours', [Replacing])],\n      factory: factory$1\n    });\n\n    var schema = constant$1([\n      defaulted('selectFirst', true),\n      onHandler('onChangeTab'),\n      onHandler('onDismissTab'),\n      defaulted('tabs', []),\n      field('tabSectionBehaviours', [])\n    ]);\n    var barPart = required({\n      factory: Tabbar,\n      schema: [\n        required$1('dom'),\n        requiredObjOf('markers', [\n          required$1('tabClass'),\n          required$1('selectedClass')\n        ])\n      ],\n      name: 'tabbar',\n      defaults: function (detail) {\n        return { tabs: detail.tabs };\n      }\n    });\n    var viewPart = required({\n      factory: Tabview,\n      name: 'tabview'\n    });\n    var parts = constant$1([\n      barPart,\n      viewPart\n    ]);\n\n    var factory = function (detail, components, _spec, _externals) {\n      var changeTab$1 = function (button) {\n        var tabValue = Representing.getValue(button);\n        getPart(button, detail, 'tabview').each(function (tabview) {\n          var tabWithValue = find$5(detail.tabs, function (t) {\n            return t.value === tabValue;\n          });\n          tabWithValue.each(function (tabData) {\n            var panel = tabData.view();\n            getOpt(button.element, 'id').each(function (id) {\n              set$8(tabview.element, 'aria-labelledby', id);\n            });\n            Replacing.set(tabview, panel);\n            detail.onChangeTab(tabview, button, panel);\n          });\n        });\n      };\n      var changeTabBy = function (section, byPred) {\n        getPart(section, detail, 'tabbar').each(function (tabbar) {\n          byPred(tabbar).each(emitExecute);\n        });\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: get$2(detail.tabSectionBehaviours),\n        events: derive$2(flatten([\n          detail.selectFirst ? [runOnAttached(function (section, _simulatedEvent) {\n              changeTabBy(section, Highlighting.getFirst);\n            })] : [],\n          [\n            run$1(changeTab(), function (section, simulatedEvent) {\n              var button = simulatedEvent.event.button;\n              changeTab$1(button);\n            }),\n            run$1(dismissTab(), function (section, simulatedEvent) {\n              var button = simulatedEvent.event.button;\n              detail.onDismissTab(section, button);\n            })\n          ]\n        ])),\n        apis: {\n          getViewItems: function (section) {\n            return getPart(section, detail, 'tabview').map(function (tabview) {\n              return Replacing.contents(tabview);\n            }).getOr([]);\n          },\n          showTab: function (section, tabKey) {\n            var getTabIfNotActive = function (tabbar) {\n              var candidates = Highlighting.getCandidates(tabbar);\n              var optTab = find$5(candidates, function (c) {\n                return Representing.getValue(c) === tabKey;\n              });\n              return optTab.filter(function (tab) {\n                return !Highlighting.isHighlighted(tabbar, tab);\n              });\n            };\n            changeTabBy(section, getTabIfNotActive);\n          }\n        }\n      };\n    };\n    var TabSection = composite({\n      name: 'TabSection',\n      configFields: schema(),\n      partFields: parts(),\n      factory: factory,\n      apis: {\n        getViewItems: function (apis, component) {\n          return apis.getViewItems(component);\n        },\n        showTab: function (apis, component, tabKey) {\n          apis.showTab(component, tabKey);\n        }\n      }\n    });\n\n    var measureHeights = function (allTabs, tabview, tabviewComp) {\n      return map$2(allTabs, function (_tab, i) {\n        Replacing.set(tabviewComp, allTabs[i].view());\n        var rect = tabview.dom.getBoundingClientRect();\n        Replacing.set(tabviewComp, []);\n        return rect.height;\n      });\n    };\n    var getMaxHeight = function (heights) {\n      return head(sort(heights, function (a, b) {\n        if (a > b) {\n          return -1;\n        } else if (a < b) {\n          return +1;\n        } else {\n          return 0;\n        }\n      }));\n    };\n    var getMaxTabviewHeight = function (dialog, tabview, tablist) {\n      var documentElement$1 = documentElement(dialog).dom;\n      var rootElm = ancestor(dialog, '.tox-dialog-wrap').getOr(dialog);\n      var isFixed = get$c(rootElm, 'position') === 'fixed';\n      var maxHeight;\n      if (isFixed) {\n        maxHeight = Math.max(documentElement$1.clientHeight, window.innerHeight);\n      } else {\n        maxHeight = Math.max(documentElement$1.offsetHeight, documentElement$1.scrollHeight);\n      }\n      var tabviewHeight = get$b(tabview);\n      var isTabListBeside = tabview.dom.offsetLeft >= tablist.dom.offsetLeft + get$a(tablist);\n      var currentTabHeight = isTabListBeside ? Math.max(get$b(tablist), tabviewHeight) : tabviewHeight;\n      var dialogTopMargin = parseInt(get$c(dialog, 'margin-top'), 10) || 0;\n      var dialogBottomMargin = parseInt(get$c(dialog, 'margin-bottom'), 10) || 0;\n      var dialogHeight = get$b(dialog) + dialogTopMargin + dialogBottomMargin;\n      var chromeHeight = dialogHeight - currentTabHeight;\n      return maxHeight - chromeHeight;\n    };\n    var showTab = function (allTabs, comp) {\n      head(allTabs).each(function (tab) {\n        return TabSection.showTab(comp, tab.value);\n      });\n    };\n    var setTabviewHeight = function (tabview, height) {\n      set$7(tabview, 'height', height + 'px');\n      if (!detect$1().browser.isIE()) {\n        set$7(tabview, 'flex-basis', height + 'px');\n      } else {\n        remove$6(tabview, 'flex-basis');\n      }\n    };\n    var updateTabviewHeight = function (dialogBody, tabview, maxTabHeight) {\n      ancestor(dialogBody, '[role=\"dialog\"]').each(function (dialog) {\n        descendant(dialog, '[role=\"tablist\"]').each(function (tablist) {\n          maxTabHeight.get().map(function (height) {\n            set$7(tabview, 'height', '0');\n            set$7(tabview, 'flex-basis', '0');\n            return Math.min(height, getMaxTabviewHeight(dialog, tabview, tablist));\n          }).each(function (height) {\n            setTabviewHeight(tabview, height);\n          });\n        });\n      });\n    };\n    var getTabview = function (dialog) {\n      return descendant(dialog, '[role=\"tabpanel\"]');\n    };\n    var setMode = function (allTabs) {\n      var smartTabHeight = function () {\n        var maxTabHeight = value$1();\n        var extraEvents = [\n          runOnAttached(function (comp) {\n            var dialog = comp.element;\n            getTabview(dialog).each(function (tabview) {\n              set$7(tabview, 'visibility', 'hidden');\n              comp.getSystem().getByDom(tabview).toOptional().each(function (tabviewComp) {\n                var heights = measureHeights(allTabs, tabview, tabviewComp);\n                var maxTabHeightOpt = getMaxHeight(heights);\n                maxTabHeightOpt.fold(maxTabHeight.clear, maxTabHeight.set);\n              });\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n              remove$6(tabview, 'visibility');\n              showTab(allTabs, comp);\n              global$f.requestAnimationFrame(function () {\n                updateTabviewHeight(dialog, tabview, maxTabHeight);\n              });\n            });\n          }),\n          run$1(windowResize(), function (comp) {\n            var dialog = comp.element;\n            getTabview(dialog).each(function (tabview) {\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n            });\n          }),\n          run$1(formResizeEvent, function (comp, _se) {\n            var dialog = comp.element;\n            getTabview(dialog).each(function (tabview) {\n              var oldFocus = active(getRootNode(tabview));\n              set$7(tabview, 'visibility', 'hidden');\n              var oldHeight = getRaw(tabview, 'height').map(function (h) {\n                return parseInt(h, 10);\n              });\n              remove$6(tabview, 'height');\n              remove$6(tabview, 'flex-basis');\n              var newHeight = tabview.dom.getBoundingClientRect().height;\n              var hasGrown = oldHeight.forall(function (h) {\n                return newHeight > h;\n              });\n              if (hasGrown) {\n                maxTabHeight.set(newHeight);\n                updateTabviewHeight(dialog, tabview, maxTabHeight);\n              } else {\n                oldHeight.each(function (h) {\n                  setTabviewHeight(tabview, h);\n                });\n              }\n              remove$6(tabview, 'visibility');\n              oldFocus.each(focus$3);\n            });\n          })\n        ];\n        var selectFirst = false;\n        return {\n          extraEvents: extraEvents,\n          selectFirst: selectFirst\n        };\n      }();\n      var naiveTabHeight = function () {\n        var extraEvents = [];\n        var selectFirst = true;\n        return {\n          extraEvents: extraEvents,\n          selectFirst: selectFirst\n        };\n      }();\n      return {\n        smartTabHeight: smartTabHeight,\n        naiveTabHeight: naiveTabHeight\n      };\n    };\n\n    var SendDataToSectionChannel = 'send-data-to-section';\n    var SendDataToViewChannel = 'send-data-to-view';\n    var renderTabPanel = function (spec, backstage) {\n      var storedValue = Cell({});\n      var updateDataWithForm = function (form) {\n        var formData = Representing.getValue(form);\n        var validData = toValidValues(formData).getOr({});\n        var currentData = storedValue.get();\n        var newData = deepMerge(currentData, validData);\n        storedValue.set(newData);\n      };\n      var setDataOnForm = function (form) {\n        var tabData = storedValue.get();\n        Representing.setValue(form, tabData);\n      };\n      var oldTab = Cell(null);\n      var allTabs = map$2(spec.tabs, function (tab) {\n        return {\n          value: tab.name,\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__body-nav-item'],\n            innerHtml: backstage.shared.providers.translate(tab.title)\n          },\n          view: function () {\n            return [Form.sketch(function (parts) {\n                return {\n                  dom: {\n                    tag: 'div',\n                    classes: ['tox-form']\n                  },\n                  components: map$2(tab.items, function (item) {\n                    return interpretInForm(parts, item, backstage);\n                  }),\n                  formBehaviours: derive$1([\n                    Keying.config({\n                      mode: 'acyclic',\n                      useTabstopAt: not(isPseudoStop)\n                    }),\n                    config('TabView.form.events', [\n                      runOnAttached(setDataOnForm),\n                      runOnDetached(updateDataWithForm)\n                    ]),\n                    Receiving.config({\n                      channels: wrapAll([\n                        {\n                          key: SendDataToSectionChannel,\n                          value: { onReceive: updateDataWithForm }\n                        },\n                        {\n                          key: SendDataToViewChannel,\n                          value: { onReceive: setDataOnForm }\n                        }\n                      ])\n                    })\n                  ])\n                };\n              })];\n          }\n        };\n      });\n      var tabMode = setMode(allTabs).smartTabHeight;\n      return TabSection.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        onChangeTab: function (section, button, _viewItems) {\n          var name = Representing.getValue(button);\n          emitWith(section, formTabChangeEvent, {\n            name: name,\n            oldName: oldTab.get()\n          });\n          oldTab.set(name);\n        },\n        tabs: allTabs,\n        components: [\n          TabSection.parts.tabbar({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-nav']\n            },\n            components: [Tabbar.parts.tabs({})],\n            markers: {\n              tabClass: 'tox-tab',\n              selectedClass: 'tox-dialog__body-nav-item--active'\n            },\n            tabbarBehaviours: derive$1([Tabstopping.config({})])\n          }),\n          TabSection.parts.tabview({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            }\n          })\n        ],\n        selectFirst: tabMode.selectFirst,\n        tabSectionBehaviours: derive$1([\n          config('tabpanel', tabMode.extraEvents),\n          Keying.config({ mode: 'acyclic' }),\n          Composing.config({\n            find: function (comp) {\n              return head(TabSection.getViewItems(comp));\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (tsection) {\n                tsection.getSystem().broadcastOn([SendDataToSectionChannel], {});\n                return storedValue.get();\n              },\n              setValue: function (tsection, value) {\n                storedValue.set(value);\n                tsection.getSystem().broadcastOn([SendDataToViewChannel], {});\n              }\n            }\n          })\n        ])\n      });\n    };\n\n    var dialogChannel = generate$6('update-dialog');\n    var titleChannel = generate$6('update-title');\n    var bodyChannel = generate$6('update-body');\n    var footerChannel = generate$6('update-footer');\n    var bodySendMessageChannel = generate$6('body-send-message');\n\n    var renderBody = function (spec, id, backstage, ariaAttrs) {\n      var renderComponents = function (incoming) {\n        switch (incoming.body.type) {\n        case 'tabpanel': {\n            return [renderTabPanel(incoming.body, backstage)];\n          }\n        default: {\n            return [renderBodyPanel(incoming.body, backstage)];\n          }\n        }\n      };\n      var updateState = function (_comp, incoming) {\n        return Optional.some({\n          isTabPanel: function () {\n            return incoming.body.type === 'tabpanel';\n          }\n        });\n      };\n      var ariaAttributes = { 'aria-live': 'polite' };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js'],\n          attributes: __assign(__assign({}, id.map(function (x) {\n            return { id: x };\n          }).getOr({})), ariaAttrs ? ariaAttributes : {})\n        },\n        components: [],\n        behaviours: derive$1([\n          ComposingConfigs.childAt(0),\n          Reflecting.config({\n            channel: bodyChannel,\n            updateState: updateState,\n            renderComponents: renderComponents,\n            initialData: spec\n          })\n        ])\n      };\n    };\n    var renderInlineBody = function (spec, contentId, backstage, ariaAttrs) {\n      return renderBody(spec, Optional.some(contentId), backstage, ariaAttrs);\n    };\n    var renderModalBody = function (spec, backstage) {\n      var bodySpec = renderBody(spec, Optional.none(), backstage, false);\n      return ModalDialog.parts.body(bodySpec);\n    };\n    var renderIframeBody = function (spec) {\n      var bodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-iframe']\n            },\n            components: [craft({\n                dom: {\n                  tag: 'iframe',\n                  attributes: { src: spec.url }\n                },\n                behaviours: derive$1([\n                  Tabstopping.config({}),\n                  Focusing.config({})\n                ])\n              })]\n          }],\n        behaviours: derive$1([Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          })])\n      };\n      return ModalDialog.parts.body(bodySpec);\n    };\n\n    var isTouch = global$9.deviceType.isTouch();\n    var hiddenHeader = function (title, close) {\n      return {\n        dom: {\n          tag: 'div',\n          styles: { display: 'none' },\n          classes: ['tox-dialog__header']\n        },\n        components: [\n          title,\n          close\n        ]\n      };\n    };\n    var pClose = function (onClose, providersBackstage) {\n      return ModalDialog.parts.close(Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-button',\n            'tox-button--icon',\n            'tox-button--naked'\n          ],\n          attributes: {\n            'type': 'button',\n            'aria-label': providersBackstage.translate('Close')\n          }\n        },\n        action: onClose,\n        buttonBehaviours: derive$1([Tabstopping.config({})])\n      }));\n    };\n    var pUntitled = function () {\n      return ModalDialog.parts.title({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__title'],\n          innerHtml: '',\n          styles: { display: 'none' }\n        }\n      });\n    };\n    var pBodyMessage = function (message, providersBackstage) {\n      return ModalDialog.parts.body({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            },\n            components: [{ dom: fromHtml('<p>' + providersBackstage.translate(message) + '</p>') }]\n          }]\n      });\n    };\n    var pFooter = function (buttons) {\n      return ModalDialog.parts.footer({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__footer']\n        },\n        components: buttons\n      });\n    };\n    var pFooterGroup = function (startButtons, endButtons) {\n      return [\n        Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__footer-start']\n          },\n          components: startButtons\n        }),\n        Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__footer-end']\n          },\n          components: endButtons\n        })\n      ];\n    };\n    var renderDialog$1 = function (spec) {\n      var _a;\n      var dialogClass = 'tox-dialog';\n      var blockerClass = dialogClass + '-wrap';\n      var blockerBackdropClass = blockerClass + '__backdrop';\n      var scrollLockClass = dialogClass + '__disable-scroll';\n      return ModalDialog.sketch({\n        lazySink: spec.lazySink,\n        onEscape: function (comp) {\n          spec.onEscape(comp);\n          return Optional.some(true);\n        },\n        useTabstopAt: function (elem) {\n          return !isPseudoStop(elem);\n        },\n        dom: {\n          tag: 'div',\n          classes: [dialogClass].concat(spec.extraClasses),\n          styles: __assign({ position: 'relative' }, spec.extraStyles)\n        },\n        components: __spreadArray([\n          spec.header,\n          spec.body\n        ], spec.footer.toArray(), true),\n        parts: {\n          blocker: {\n            dom: fromHtml('<div class=\"' + blockerClass + '\"></div>'),\n            components: [{\n                dom: {\n                  tag: 'div',\n                  classes: isTouch ? [\n                    blockerBackdropClass,\n                    blockerBackdropClass + '--opaque'\n                  ] : [blockerBackdropClass]\n                }\n              }]\n          }\n        },\n        dragBlockClass: blockerClass,\n        modalBehaviours: derive$1(__spreadArray([\n          Focusing.config({}),\n          config('dialog-events', spec.dialogEvents.concat([runOnSource(focusin(), function (comp, _se) {\n              Keying.focusIn(comp);\n            })])),\n          config('scroll-lock', [\n            runOnAttached(function () {\n              add$2(body(), scrollLockClass);\n            }),\n            runOnDetached(function () {\n              remove$2(body(), scrollLockClass);\n            })\n          ])\n        ], spec.extraBehaviours, true)),\n        eventOrder: __assign((_a = {}, _a[execute$5()] = ['dialog-events'], _a[attachedToDom()] = [\n          'scroll-lock',\n          'dialog-events',\n          'alloy.base.behaviour'\n        ], _a[detachedFromDom()] = [\n          'alloy.base.behaviour',\n          'dialog-events',\n          'scroll-lock'\n        ], _a), spec.eventOrder)\n      });\n    };\n\n    var renderClose = function (providersBackstage) {\n      return Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-button',\n            'tox-button--icon',\n            'tox-button--naked'\n          ],\n          attributes: {\n            'type': 'button',\n            'aria-label': providersBackstage.translate('Close'),\n            'title': providersBackstage.translate('Close')\n          }\n        },\n        components: [render$3('close', {\n            tag: 'div',\n            classes: ['tox-icon']\n          }, providersBackstage.icons)],\n        action: function (comp) {\n          emit(comp, formCancelEvent);\n        }\n      });\n    };\n    var renderTitle = function (spec, id, providersBackstage) {\n      var renderComponents = function (data) {\n        return [text(providersBackstage.translate(data.title))];\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__title'],\n          attributes: __assign({}, id.map(function (x) {\n            return { id: x };\n          }).getOr({}))\n        },\n        components: renderComponents(spec),\n        behaviours: derive$1([Reflecting.config({\n            channel: titleChannel,\n            renderComponents: renderComponents\n          })])\n      };\n    };\n    var renderDragHandle = function () {\n      return { dom: fromHtml('<div class=\"tox-dialog__draghandle\"></div>') };\n    };\n    var renderInlineHeader = function (spec, titleId, providersBackstage) {\n      return Container.sketch({\n        dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n        components: [\n          renderTitle(spec, Optional.some(titleId), providersBackstage),\n          renderDragHandle(),\n          renderClose(providersBackstage)\n        ],\n        containerBehaviours: derive$1([Dragging.config({\n            mode: 'mouse',\n            blockerClass: 'blocker',\n            getTarget: function (handle) {\n              return closest$1(handle, '[role=\"dialog\"]').getOrDie();\n            },\n            snaps: {\n              getSnapPoints: function () {\n                return [];\n              },\n              leftAttr: 'data-drag-left',\n              topAttr: 'data-drag-top'\n            }\n          })])\n      });\n    };\n    var renderModalHeader = function (spec, providersBackstage) {\n      var pTitle = ModalDialog.parts.title(renderTitle(spec, Optional.none(), providersBackstage));\n      var pHandle = ModalDialog.parts.draghandle(renderDragHandle());\n      var pClose = ModalDialog.parts.close(renderClose(providersBackstage));\n      var components = [pTitle].concat(spec.draggable ? [pHandle] : []).concat([pClose]);\n      return Container.sketch({\n        dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n        components: components\n      });\n    };\n\n    var getHeader = function (title, backstage) {\n      return renderModalHeader({\n        title: backstage.shared.providers.translate(title),\n        draggable: backstage.dialog.isDraggableModal()\n      }, backstage.shared.providers);\n    };\n    var getBusySpec = function (message, bs, providers) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__busy-spinner'],\n          attributes: { 'aria-label': providers.translate(message) },\n          styles: {\n            left: '0px',\n            right: '0px',\n            bottom: '0px',\n            top: '0px',\n            position: 'absolute'\n          }\n        },\n        behaviours: bs,\n        components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n      };\n    };\n    var getEventExtras = function (lazyDialog, providers, extra) {\n      return {\n        onClose: function () {\n          return extra.closeWindow();\n        },\n        onBlock: function (blockEvent) {\n          ModalDialog.setBusy(lazyDialog(), function (_comp, bs) {\n            return getBusySpec(blockEvent.message, bs, providers);\n          });\n        },\n        onUnblock: function () {\n          ModalDialog.setIdle(lazyDialog());\n        }\n      };\n    };\n    var renderModalDialog = function (spec, initialData, dialogEvents, backstage) {\n      var _a;\n      var updateState = function (_comp, incoming) {\n        return Optional.some(incoming);\n      };\n      return build$1(renderDialog$1(__assign(__assign({}, spec), {\n        lazySink: backstage.shared.getSink,\n        extraBehaviours: __spreadArray([\n          Reflecting.config({\n            channel: dialogChannel,\n            updateState: updateState,\n            initialData: initialData\n          }),\n          RepresentingConfigs.memory({})\n        ], spec.extraBehaviours, true),\n        onEscape: function (comp) {\n          emit(comp, formCancelEvent);\n        },\n        dialogEvents: dialogEvents,\n        eventOrder: (_a = {}, _a[receive()] = [\n          Reflecting.name(),\n          Receiving.name()\n        ], _a[attachedToDom()] = [\n          'scroll-lock',\n          Reflecting.name(),\n          'messages',\n          'dialog-events',\n          'alloy.base.behaviour'\n        ], _a[detachedFromDom()] = [\n          'alloy.base.behaviour',\n          'dialog-events',\n          'messages',\n          Reflecting.name(),\n          'scroll-lock'\n        ], _a)\n      })));\n    };\n    var mapMenuButtons = function (buttons) {\n      var mapItems = function (button) {\n        var items = map$2(button.items, function (item) {\n          var cell = Cell(false);\n          return __assign(__assign({}, item), { storage: cell });\n        });\n        return __assign(__assign({}, button), { items: items });\n      };\n      return map$2(buttons, function (button) {\n        if (button.type === 'menu') {\n          return mapItems(button);\n        }\n        return button;\n      });\n    };\n    var extractCellsToObject = function (buttons) {\n      return foldl(buttons, function (acc, button) {\n        if (button.type === 'menu') {\n          var menuButton = button;\n          return foldl(menuButton.items, function (innerAcc, item) {\n            innerAcc[item.name] = item.storage;\n            return innerAcc;\n          }, acc);\n        }\n        return acc;\n      }, {});\n    };\n\n    var initCommonEvents = function (fireApiEvent, extras) {\n      return [\n        runWithTarget(focusin(), onFocus),\n        fireApiEvent(formCloseEvent, function (_api, spec) {\n          extras.onClose();\n          spec.onClose();\n        }),\n        fireApiEvent(formCancelEvent, function (api, spec, _event, self) {\n          spec.onCancel(api);\n          emit(self, formCloseEvent);\n        }),\n        run$1(formUnblockEvent, function (_c, _se) {\n          return extras.onUnblock();\n        }),\n        run$1(formBlockEvent, function (_c, se) {\n          return extras.onBlock(se.event);\n        })\n      ];\n    };\n    var initUrlDialog = function (getInstanceApi, extras) {\n      var fireApiEvent = function (eventName, f) {\n        return run$1(eventName, function (c, se) {\n          withSpec(c, function (spec, _c) {\n            f(getInstanceApi(), spec, se.event, c);\n          });\n        });\n      };\n      var withSpec = function (c, f) {\n        Reflecting.getState(c).get().each(function (currentDialog) {\n          f(currentDialog, c);\n        });\n      };\n      return __spreadArray(__spreadArray([], initCommonEvents(fireApiEvent, extras), true), [fireApiEvent(formActionEvent, function (api, spec, event) {\n          spec.onAction(api, { name: event.name });\n        })], false);\n    };\n    var initDialog = function (getInstanceApi, extras, getSink) {\n      var fireApiEvent = function (eventName, f) {\n        return run$1(eventName, function (c, se) {\n          withSpec(c, function (spec, _c) {\n            f(getInstanceApi(), spec, se.event, c);\n          });\n        });\n      };\n      var withSpec = function (c, f) {\n        Reflecting.getState(c).get().each(function (currentDialogInit) {\n          f(currentDialogInit.internalDialog, c);\n        });\n      };\n      return __spreadArray(__spreadArray([], initCommonEvents(fireApiEvent, extras), true), [\n        fireApiEvent(formSubmitEvent, function (api, spec) {\n          return spec.onSubmit(api);\n        }),\n        fireApiEvent(formChangeEvent, function (api, spec, event) {\n          spec.onChange(api, { name: event.name });\n        }),\n        fireApiEvent(formActionEvent, function (api, spec, event, component) {\n          var focusIn = function () {\n            return Keying.focusIn(component);\n          };\n          var isDisabled = function (focused) {\n            return has$1(focused, 'disabled') || getOpt(focused, 'aria-disabled').exists(function (val) {\n              return val === 'true';\n            });\n          };\n          var rootNode = getRootNode(component.element);\n          var current = active(rootNode);\n          spec.onAction(api, {\n            name: event.name,\n            value: event.value\n          });\n          active(rootNode).fold(focusIn, function (focused) {\n            if (isDisabled(focused)) {\n              focusIn();\n            } else if (current.exists(function (cur) {\n                return contains(focused, cur) && isDisabled(cur);\n              })) {\n              focusIn();\n            } else {\n              getSink().toOptional().filter(function (sink) {\n                return !contains(sink.element, focused);\n              }).each(focusIn);\n            }\n          });\n        }),\n        fireApiEvent(formTabChangeEvent, function (api, spec, event) {\n          spec.onTabChange(api, {\n            newTabName: event.name,\n            oldTabName: event.oldName\n          });\n        }),\n        runOnDetached(function (component) {\n          var api = getInstanceApi();\n          Representing.setValue(component, api.getData());\n        })\n      ], false);\n    };\n    var SilverDialogEvents = {\n      initUrlDialog: initUrlDialog,\n      initDialog: initDialog\n    };\n\n    var makeButton = function (button, backstage) {\n      return renderFooterButton(button, button.type, backstage);\n    };\n    var lookup = function (compInSystem, footerButtons, buttonName) {\n      return find$5(footerButtons, function (button) {\n        return button.name === buttonName;\n      }).bind(function (memButton) {\n        return memButton.memento.getOpt(compInSystem);\n      });\n    };\n    var renderComponents = function (_data, state) {\n      var footerButtons = state.map(function (s) {\n        return s.footerButtons;\n      }).getOr([]);\n      var buttonGroups = partition$3(footerButtons, function (button) {\n        return button.align === 'start';\n      });\n      var makeGroup = function (edge, buttons) {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__footer-' + edge]\n          },\n          components: map$2(buttons, function (button) {\n            return button.memento.asSpec();\n          })\n        });\n      };\n      var startButtons = makeGroup('start', buttonGroups.pass);\n      var endButtons = makeGroup('end', buttonGroups.fail);\n      return [\n        startButtons,\n        endButtons\n      ];\n    };\n    var renderFooter = function (initSpec, backstage) {\n      var updateState = function (_comp, data) {\n        var footerButtons = map$2(data.buttons, function (button) {\n          var memButton = record(makeButton(button, backstage));\n          return {\n            name: button.name,\n            align: button.align,\n            memento: memButton\n          };\n        });\n        var lookupByName = function (compInSystem, buttonName) {\n          return lookup(compInSystem, footerButtons, buttonName);\n        };\n        return Optional.some({\n          lookupByName: lookupByName,\n          footerButtons: footerButtons\n        });\n      };\n      return {\n        dom: fromHtml('<div class=\"tox-dialog__footer\"></div>'),\n        components: [],\n        behaviours: derive$1([Reflecting.config({\n            channel: footerChannel,\n            initialData: initSpec,\n            updateState: updateState,\n            renderComponents: renderComponents\n          })])\n      };\n    };\n    var renderInlineFooter = function (initSpec, backstage) {\n      return renderFooter(initSpec, backstage);\n    };\n    var renderModalFooter = function (initSpec, backstage) {\n      return ModalDialog.parts.footer(renderFooter(initSpec, backstage));\n    };\n\n    var getCompByName = function (access, name) {\n      var root = access.getRoot();\n      if (root.getSystem().isConnected()) {\n        var form_1 = Composing.getCurrent(access.getFormWrapper()).getOr(access.getFormWrapper());\n        return Form.getField(form_1, name).fold(function () {\n          var footer = access.getFooter();\n          var footerState = Reflecting.getState(footer);\n          return footerState.get().bind(function (f) {\n            return f.lookupByName(form_1, name);\n          });\n        }, function (comp) {\n          return Optional.some(comp);\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    var validateData$1 = function (access, data) {\n      var root = access.getRoot();\n      return Reflecting.getState(root).get().map(function (dialogState) {\n        return getOrDie(asRaw('data', dialogState.dataValidator, data));\n      }).getOr(data);\n    };\n    var getDialogApi = function (access, doRedial, menuItemStates) {\n      var withRoot = function (f) {\n        var root = access.getRoot();\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      var getData = function () {\n        var root = access.getRoot();\n        var valueComp = root.getSystem().isConnected() ? access.getFormWrapper() : root;\n        var representedValues = Representing.getValue(valueComp);\n        var menuItemCurrentState = map$1(menuItemStates, function (cell) {\n          return cell.get();\n        });\n        return __assign(__assign({}, representedValues), menuItemCurrentState);\n      };\n      var setData = function (newData) {\n        withRoot(function (_) {\n          var prevData = instanceApi.getData();\n          var mergedData = __assign(__assign({}, prevData), newData);\n          var newInternalData = validateData$1(access, mergedData);\n          var form = access.getFormWrapper();\n          Representing.setValue(form, newInternalData);\n          each(menuItemStates, function (v, k) {\n            if (has$2(mergedData, k)) {\n              v.set(mergedData[k]);\n            }\n          });\n        });\n      };\n      var disable = function (name) {\n        getCompByName(access, name).each(Disabling.disable);\n      };\n      var enable = function (name) {\n        getCompByName(access, name).each(Disabling.enable);\n      };\n      var focus = function (name) {\n        getCompByName(access, name).each(Focusing.focus);\n      };\n      var block = function (message) {\n        if (!isString(message)) {\n          throw new Error('The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(function (root) {\n          emitWith(root, formBlockEvent, { message: message });\n        });\n      };\n      var unblock = function () {\n        withRoot(function (root) {\n          emit(root, formUnblockEvent);\n        });\n      };\n      var showTab = function (name) {\n        withRoot(function (_) {\n          var body = access.getBody();\n          var bodyState = Reflecting.getState(body);\n          if (bodyState.get().exists(function (b) {\n              return b.isTabPanel();\n            })) {\n            Composing.getCurrent(body).each(function (tabSection) {\n              TabSection.showTab(tabSection, name);\n            });\n          }\n        });\n      };\n      var redial = function (d) {\n        withRoot(function (root) {\n          var dialogInit = doRedial(d);\n          root.getSystem().broadcastOn([dialogChannel], dialogInit);\n          root.getSystem().broadcastOn([titleChannel], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([bodyChannel], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([footerChannel], dialogInit.internalDialog);\n          instanceApi.setData(dialogInit.initialData);\n        });\n      };\n      var close = function () {\n        withRoot(function (root) {\n          emit(root, formCloseEvent);\n        });\n      };\n      var instanceApi = {\n        getData: getData,\n        setData: setData,\n        disable: disable,\n        enable: enable,\n        focus: focus,\n        block: block,\n        unblock: unblock,\n        showTab: showTab,\n        redial: redial,\n        close: close\n      };\n      return instanceApi;\n    };\n\n    var getDialogSizeClasses = function (size) {\n      switch (size) {\n      case 'large':\n        return ['tox-dialog--width-lg'];\n      case 'medium':\n        return ['tox-dialog--width-md'];\n      default:\n        return [];\n      }\n    };\n    var renderDialog = function (dialogInit, extra, backstage) {\n      var header = getHeader(dialogInit.internalDialog.title, backstage);\n      var body = renderModalBody({ body: dialogInit.internalDialog.body }, backstage);\n      var storagedMenuButtons = mapMenuButtons(dialogInit.internalDialog.buttons);\n      var objOfCells = extractCellsToObject(storagedMenuButtons);\n      var footer = renderModalFooter({ buttons: storagedMenuButtons }, backstage);\n      var dialogEvents = SilverDialogEvents.initDialog(function () {\n        return instanceApi;\n      }, getEventExtras(function () {\n        return dialog;\n      }, backstage.shared.providers, extra), backstage.shared.getSink);\n      var dialogSize = getDialogSizeClasses(dialogInit.internalDialog.size);\n      var spec = {\n        header: header,\n        body: body,\n        footer: Optional.some(footer),\n        extraClasses: dialogSize,\n        extraBehaviours: [],\n        extraStyles: {}\n      };\n      var dialog = renderModalDialog(spec, dialogInit, dialogEvents, backstage);\n      var modalAccess = function () {\n        var getForm = function () {\n          var outerForm = ModalDialog.getBody(dialog);\n          return Composing.getCurrent(outerForm).getOr(outerForm);\n        };\n        return {\n          getRoot: constant$1(dialog),\n          getBody: function () {\n            return ModalDialog.getBody(dialog);\n          },\n          getFooter: function () {\n            return ModalDialog.getFooter(dialog);\n          },\n          getFormWrapper: getForm\n        };\n      }();\n      var instanceApi = getDialogApi(modalAccess, extra.redial, objOfCells);\n      return {\n        dialog: dialog,\n        instanceApi: instanceApi\n      };\n    };\n\n    var renderInlineDialog = function (dialogInit, extra, backstage, ariaAttrs) {\n      var _a, _b;\n      var dialogLabelId = generate$6('dialog-label');\n      var dialogContentId = generate$6('dialog-content');\n      var updateState = function (_comp, incoming) {\n        return Optional.some(incoming);\n      };\n      var memHeader = record(renderInlineHeader({\n        title: dialogInit.internalDialog.title,\n        draggable: true\n      }, dialogLabelId, backstage.shared.providers));\n      var memBody = record(renderInlineBody({ body: dialogInit.internalDialog.body }, dialogContentId, backstage, ariaAttrs));\n      var storagedMenuButtons = mapMenuButtons(dialogInit.internalDialog.buttons);\n      var objOfCells = extractCellsToObject(storagedMenuButtons);\n      var memFooter = record(renderInlineFooter({ buttons: storagedMenuButtons }, backstage));\n      var dialogEvents = SilverDialogEvents.initDialog(function () {\n        return instanceApi;\n      }, {\n        onBlock: function (event) {\n          Blocking.block(dialog, function (_comp, bs) {\n            return getBusySpec(event.message, bs, backstage.shared.providers);\n          });\n        },\n        onUnblock: function () {\n          Blocking.unblock(dialog);\n        },\n        onClose: function () {\n          return extra.closeWindow();\n        }\n      }, backstage.shared.getSink);\n      var dialog = build$1({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-dialog',\n            'tox-dialog-inline'\n          ],\n          attributes: (_a = { role: 'dialog' }, _a['aria-labelledby'] = dialogLabelId, _a['aria-describedby'] = dialogContentId, _a)\n        },\n        eventOrder: (_b = {}, _b[receive()] = [\n          Reflecting.name(),\n          Receiving.name()\n        ], _b[execute$5()] = ['execute-on-form'], _b[attachedToDom()] = [\n          'reflecting',\n          'execute-on-form'\n        ], _b),\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'cyclic',\n            onEscape: function (c) {\n              emit(c, formCloseEvent);\n              return Optional.some(true);\n            },\n            useTabstopAt: function (elem) {\n              return !isPseudoStop(elem) && (name$2(elem) !== 'button' || get$d(elem, 'disabled') !== 'disabled');\n            }\n          }),\n          Reflecting.config({\n            channel: dialogChannel,\n            updateState: updateState,\n            initialData: dialogInit\n          }),\n          Focusing.config({}),\n          config('execute-on-form', dialogEvents.concat([runOnSource(focusin(), function (comp, _se) {\n              Keying.focusIn(comp);\n            })])),\n          Blocking.config({\n            getRoot: function () {\n              return Optional.some(dialog);\n            }\n          }),\n          Replacing.config({}),\n          RepresentingConfigs.memory({})\n        ]),\n        components: [\n          memHeader.asSpec(),\n          memBody.asSpec(),\n          memFooter.asSpec()\n        ]\n      });\n      var instanceApi = getDialogApi({\n        getRoot: constant$1(dialog),\n        getFooter: function () {\n          return memFooter.get(dialog);\n        },\n        getBody: function () {\n          return memBody.get(dialog);\n        },\n        getFormWrapper: function () {\n          var body = memBody.get(dialog);\n          return Composing.getCurrent(body).getOr(body);\n        }\n      }, extra.redial, objOfCells);\n      return {\n        dialog: dialog,\n        instanceApi: instanceApi\n      };\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    var getUrlDialogApi = function (root) {\n      var withRoot = function (f) {\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      var block = function (message) {\n        if (!isString(message)) {\n          throw new Error('The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(function (root) {\n          emitWith(root, formBlockEvent, { message: message });\n        });\n      };\n      var unblock = function () {\n        withRoot(function (root) {\n          emit(root, formUnblockEvent);\n        });\n      };\n      var close = function () {\n        withRoot(function (root) {\n          emit(root, formCloseEvent);\n        });\n      };\n      var sendMessage = function (data) {\n        withRoot(function (root) {\n          root.getSystem().broadcastOn([bodySendMessageChannel], data);\n        });\n      };\n      return {\n        block: block,\n        unblock: unblock,\n        close: close,\n        sendMessage: sendMessage\n      };\n    };\n\n    var SUPPORTED_MESSAGE_ACTIONS = [\n      'insertContent',\n      'setContent',\n      'execCommand',\n      'close',\n      'block',\n      'unblock'\n    ];\n    var isSupportedMessage = function (data) {\n      return isObject(data) && SUPPORTED_MESSAGE_ACTIONS.indexOf(data.mceAction) !== -1;\n    };\n    var isCustomMessage = function (data) {\n      return !isSupportedMessage(data) && isObject(data) && has$2(data, 'mceAction');\n    };\n    var handleMessage = function (editor, api, data) {\n      switch (data.mceAction) {\n      case 'insertContent':\n        editor.insertContent(data.content);\n        break;\n      case 'setContent':\n        editor.setContent(data.content);\n        break;\n      case 'execCommand':\n        var ui = isBoolean(data.ui) ? data.ui : false;\n        editor.execCommand(data.cmd, ui, data.value);\n        break;\n      case 'close':\n        api.close();\n        break;\n      case 'block':\n        api.block(data.message);\n        break;\n      case 'unblock':\n        api.unblock();\n        break;\n      }\n    };\n    var renderUrlDialog = function (internalDialog, extra, editor, backstage) {\n      var _a;\n      var header = getHeader(internalDialog.title, backstage);\n      var body = renderIframeBody(internalDialog);\n      var footer = internalDialog.buttons.bind(function (buttons) {\n        if (buttons.length === 0) {\n          return Optional.none();\n        } else {\n          return Optional.some(renderModalFooter({ buttons: buttons }, backstage));\n        }\n      });\n      var dialogEvents = SilverDialogEvents.initUrlDialog(function () {\n        return instanceApi;\n      }, getEventExtras(function () {\n        return dialog;\n      }, backstage.shared.providers, extra));\n      var styles = __assign(__assign({}, internalDialog.height.fold(function () {\n        return {};\n      }, function (height) {\n        return {\n          'height': height + 'px',\n          'max-height': height + 'px'\n        };\n      })), internalDialog.width.fold(function () {\n        return {};\n      }, function (width) {\n        return {\n          'width': width + 'px',\n          'max-width': width + 'px'\n        };\n      }));\n      var classes = internalDialog.width.isNone() && internalDialog.height.isNone() ? ['tox-dialog--width-lg'] : [];\n      var iframeUri = new global$1(internalDialog.url, { base_uri: new global$1(window.location.href) });\n      var iframeDomain = iframeUri.protocol + '://' + iframeUri.host + (iframeUri.port ? ':' + iframeUri.port : '');\n      var messageHandlerUnbinder = unbindable();\n      var extraBehaviours = [\n        config('messages', [\n          runOnAttached(function () {\n            var unbind = bind(SugarElement.fromDom(window), 'message', function (e) {\n              if (iframeUri.isSameOrigin(new global$1(e.raw.origin))) {\n                var data = e.raw.data;\n                if (isSupportedMessage(data)) {\n                  handleMessage(editor, instanceApi, data);\n                } else if (isCustomMessage(data)) {\n                  internalDialog.onMessage(instanceApi, data);\n                }\n              }\n            });\n            messageHandlerUnbinder.set(unbind);\n          }),\n          runOnDetached(messageHandlerUnbinder.clear)\n        ]),\n        Receiving.config({\n          channels: (_a = {}, _a[bodySendMessageChannel] = {\n            onReceive: function (comp, data) {\n              descendant(comp.element, 'iframe').each(function (iframeEle) {\n                var iframeWin = iframeEle.dom.contentWindow;\n                iframeWin.postMessage(data, iframeDomain);\n              });\n            }\n          }, _a)\n        })\n      ];\n      var spec = {\n        header: header,\n        body: body,\n        footer: footer,\n        extraClasses: classes,\n        extraBehaviours: extraBehaviours,\n        extraStyles: styles\n      };\n      var dialog = renderModalDialog(spec, internalDialog, dialogEvents, backstage);\n      var instanceApi = getUrlDialogApi(dialog);\n      return {\n        dialog: dialog,\n        instanceApi: instanceApi\n      };\n    };\n\n    var setup$2 = function (extras) {\n      var sharedBackstage = extras.backstage.shared;\n      var open = function (message, callback) {\n        var closeDialog = function () {\n          ModalDialog.hide(alertDialog);\n          callback();\n        };\n        var memFooterClose = record(renderFooterButton({\n          name: 'close-alert',\n          text: 'OK',\n          primary: true,\n          align: 'end',\n          disabled: false,\n          icon: Optional.none()\n        }, 'cancel', extras.backstage));\n        var titleSpec = pUntitled();\n        var closeSpec = pClose(closeDialog, sharedBackstage.providers);\n        var alertDialog = build$1(renderDialog$1({\n          lazySink: function () {\n            return sharedBackstage.getSink();\n          },\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [memFooterClose.asSpec()]))),\n          onEscape: closeDialog,\n          extraClasses: ['tox-alert-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [run$1(formCancelEvent, closeDialog)],\n          eventOrder: {}\n        }));\n        ModalDialog.show(alertDialog);\n        var footerCloseButton = memFooterClose.get(alertDialog);\n        Focusing.focus(footerCloseButton);\n      };\n      return { open: open };\n    };\n\n    var setup$1 = function (extras) {\n      var sharedBackstage = extras.backstage.shared;\n      var open = function (message, callback) {\n        var closeDialog = function (state) {\n          ModalDialog.hide(confirmDialog);\n          callback(state);\n        };\n        var memFooterYes = record(renderFooterButton({\n          name: 'yes',\n          text: 'Yes',\n          primary: true,\n          align: 'end',\n          disabled: false,\n          icon: Optional.none()\n        }, 'submit', extras.backstage));\n        var footerNo = renderFooterButton({\n          name: 'no',\n          text: 'No',\n          primary: false,\n          align: 'end',\n          disabled: false,\n          icon: Optional.none()\n        }, 'cancel', extras.backstage);\n        var titleSpec = pUntitled();\n        var closeSpec = pClose(function () {\n          return closeDialog(false);\n        }, sharedBackstage.providers);\n        var confirmDialog = build$1(renderDialog$1({\n          lazySink: function () {\n            return sharedBackstage.getSink();\n          },\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [\n            footerNo,\n            memFooterYes.asSpec()\n          ]))),\n          onEscape: function () {\n            return closeDialog(false);\n          },\n          extraClasses: ['tox-confirm-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [\n            run$1(formCancelEvent, function () {\n              return closeDialog(false);\n            }),\n            run$1(formSubmitEvent, function () {\n              return closeDialog(true);\n            })\n          ],\n          eventOrder: {}\n        }));\n        ModalDialog.show(confirmDialog);\n        var footerYesButton = memFooterYes.get(confirmDialog);\n        Focusing.focus(footerYesButton);\n      };\n      return { open: open };\n    };\n\n    var validateData = function (data, validator) {\n      return getOrDie(asRaw('data', validator, data));\n    };\n    var isAlertOrConfirmDialog = function (target) {\n      return closest(target, '.tox-alert-dialog') || closest(target, '.tox-confirm-dialog');\n    };\n    var inlineAdditionalBehaviours = function (editor, isStickyToolbar, isToolbarLocationTop) {\n      if (isStickyToolbar && isToolbarLocationTop) {\n        return [];\n      } else {\n        return [Docking.config({\n            contextual: {\n              lazyContext: function () {\n                return Optional.some(box$1(SugarElement.fromDom(editor.getContentAreaContainer())));\n              },\n              fadeInClass: 'tox-dialog-dock-fadein',\n              fadeOutClass: 'tox-dialog-dock-fadeout',\n              transitionClass: 'tox-dialog-dock-transition'\n            },\n            modes: ['top']\n          })];\n      }\n    };\n    var setup = function (extras) {\n      var backstage = extras.backstage;\n      var editor = extras.editor;\n      var isStickyToolbar$1 = isStickyToolbar(editor);\n      var alertDialog = setup$2(extras);\n      var confirmDialog = setup$1(extras);\n      var open = function (config, params, closeWindow) {\n        if (params !== undefined && params.inline === 'toolbar') {\n          return openInlineDialog(config, backstage.shared.anchors.inlineDialog(), closeWindow, params.ariaAttrs);\n        } else if (params !== undefined && params.inline === 'cursor') {\n          return openInlineDialog(config, backstage.shared.anchors.cursor(), closeWindow, params.ariaAttrs);\n        } else {\n          return openModalDialog(config, closeWindow);\n        }\n      };\n      var openUrl = function (config, closeWindow) {\n        return openModalUrlDialog(config, closeWindow);\n      };\n      var openModalUrlDialog = function (config, closeWindow) {\n        var factory = function (contents) {\n          var dialog = renderUrlDialog(contents, {\n            closeWindow: function () {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, editor, backstage);\n          ModalDialog.show(dialog.dialog);\n          return dialog.instanceApi;\n        };\n        return DialogManager.openUrl(factory, config);\n      };\n      var openModalDialog = function (config, closeWindow) {\n        var factory = function (contents, internalInitialData, dataValidator) {\n          var initialData = internalInitialData;\n          var dialogInit = {\n            dataValidator: dataValidator,\n            initialData: initialData,\n            internalDialog: contents\n          };\n          var dialog = renderDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: function () {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, backstage);\n          ModalDialog.show(dialog.dialog);\n          dialog.instanceApi.setData(initialData);\n          return dialog.instanceApi;\n        };\n        return DialogManager.open(factory, config);\n      };\n      var openInlineDialog = function (config$1, anchor, closeWindow, ariaAttrs) {\n        var factory = function (contents, internalInitialData, dataValidator) {\n          var initialData = validateData(internalInitialData, dataValidator);\n          var inlineDialog = value$1();\n          var isToolbarLocationTop = backstage.shared.header.isPositionedAtTop();\n          var dialogInit = {\n            dataValidator: dataValidator,\n            initialData: initialData,\n            internalDialog: contents\n          };\n          var refreshDocking = function () {\n            return inlineDialog.on(function (dialog) {\n              InlineView.reposition(dialog);\n              Docking.refresh(dialog);\n            });\n          };\n          var dialogUi = renderInlineDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: function () {\n              inlineDialog.on(InlineView.hide);\n              editor.off('ResizeEditor', refreshDocking);\n              inlineDialog.clear();\n              closeWindow(dialogUi.instanceApi);\n            }\n          }, backstage, ariaAttrs);\n          var inlineDialogComp = build$1(InlineView.sketch(__assign(__assign({\n            lazySink: backstage.shared.getSink,\n            dom: {\n              tag: 'div',\n              classes: []\n            },\n            fireDismissalEventInstead: {}\n          }, isToolbarLocationTop ? {} : { fireRepositionEventInstead: {} }), {\n            inlineBehaviours: derive$1(__spreadArray([config('window-manager-inline-events', [run$1(dismissRequested(), function (_comp, _se) {\n                  emit(dialogUi.dialog, formCancelEvent);\n                })])], inlineAdditionalBehaviours(editor, isStickyToolbar$1, isToolbarLocationTop), true)),\n            isExtraPart: function (_comp, target) {\n              return isAlertOrConfirmDialog(target);\n            }\n          })));\n          inlineDialog.set(inlineDialogComp);\n          InlineView.showWithin(inlineDialogComp, premade(dialogUi.dialog), { anchor: anchor }, Optional.some(body()));\n          if (!isStickyToolbar$1 || !isToolbarLocationTop) {\n            Docking.refresh(inlineDialogComp);\n            editor.on('ResizeEditor', refreshDocking);\n          }\n          dialogUi.instanceApi.setData(initialData);\n          Keying.focusIn(dialogUi.dialog);\n          return dialogUi.instanceApi;\n        };\n        return DialogManager.open(factory, config$1);\n      };\n      var confirm = function (message, callback) {\n        confirmDialog.open(message, function (state) {\n          callback(state);\n        });\n      };\n      var alert = function (message, callback) {\n        alertDialog.open(message, function () {\n          callback();\n        });\n      };\n      var close = function (instanceApi) {\n        instanceApi.close();\n      };\n      return {\n        open: open,\n        openUrl: openUrl,\n        alert: alert,\n        close: close,\n        confirm: confirm\n      };\n    };\n\n    function Theme () {\n      global$g.add('silver', function (editor) {\n        var _a = setup$3(editor), uiMothership = _a.uiMothership, backstage = _a.backstage, renderUI = _a.renderUI, getUi = _a.getUi;\n        Autocompleter.register(editor, backstage.shared);\n        var windowMgr = setup({\n          editor: editor,\n          backstage: backstage\n        });\n        return {\n          renderUI: renderUI,\n          getWindowManagerImpl: constant$1(windowMgr),\n          getNotificationManagerImpl: function () {\n            return NotificationManagerImpl(editor, { backstage: backstage }, uiMothership);\n          },\n          ui: getUi()\n        };\n      });\n    }\n\n    Theme();\n\n}());\n","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.4 (2022-04-27)\n */\n(function () {\n    'use strict';\n\n    var typeOf$1 = function (x) {\n      if (x === null) {\n        return 'null';\n      }\n      if (x === undefined) {\n        return 'undefined';\n      }\n      var t = typeof x;\n      if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      }\n      if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      }\n      return t;\n    };\n    var isEquatableType = function (x) {\n      return [\n        'undefined',\n        'boolean',\n        'number',\n        'string',\n        'function',\n        'xml',\n        'null'\n      ].indexOf(x) !== -1;\n    };\n\n    var sort$1 = function (xs, compareFn) {\n      var clone = Array.prototype.slice.call(xs);\n      return clone.sort(compareFn);\n    };\n\n    var contramap = function (eqa, f) {\n      return eq$2(function (x, y) {\n        return eqa.eq(f(x), f(y));\n      });\n    };\n    var eq$2 = function (f) {\n      return { eq: f };\n    };\n    var tripleEq = eq$2(function (x, y) {\n      return x === y;\n    });\n    var eqString = tripleEq;\n    var eqArray = function (eqa) {\n      return eq$2(function (x, y) {\n        if (x.length !== y.length) {\n          return false;\n        }\n        var len = x.length;\n        for (var i = 0; i < len; i++) {\n          if (!eqa.eq(x[i], y[i])) {\n            return false;\n          }\n        }\n        return true;\n      });\n    };\n    var eqSortedArray = function (eqa, compareFn) {\n      return contramap(eqArray(eqa), function (xs) {\n        return sort$1(xs, compareFn);\n      });\n    };\n    var eqRecord = function (eqa) {\n      return eq$2(function (x, y) {\n        var kx = Object.keys(x);\n        var ky = Object.keys(y);\n        if (!eqSortedArray(eqString).eq(kx, ky)) {\n          return false;\n        }\n        var len = kx.length;\n        for (var i = 0; i < len; i++) {\n          var q = kx[i];\n          if (!eqa.eq(x[q], y[q])) {\n            return false;\n          }\n        }\n        return true;\n      });\n    };\n    var eqAny = eq$2(function (x, y) {\n      if (x === y) {\n        return true;\n      }\n      var tx = typeOf$1(x);\n      var ty = typeOf$1(y);\n      if (tx !== ty) {\n        return false;\n      }\n      if (isEquatableType(tx)) {\n        return x === y;\n      } else if (tx === 'array') {\n        return eqArray(eqAny).eq(x, y);\n      } else if (tx === 'object') {\n        return eqRecord(eqAny).eq(x, y);\n      }\n      return false;\n    });\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType$1 = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var eq$1 = function (t) {\n      return function (a) {\n        return t === a;\n      };\n    };\n    var isString$1 = isType$1('string');\n    var isObject = isType$1('object');\n    var isArray$1 = isType$1('array');\n    var isNull = eq$1(null);\n    var isBoolean = isSimpleType('boolean');\n    var isUndefined = eq$1(undefined);\n    var isNullable = function (a) {\n      return a === null || a === undefined;\n    };\n    var isNonNullable = function (a) {\n      return !isNullable(a);\n    };\n    var isFunction = isSimpleType('function');\n    var isNumber = isSimpleType('number');\n\n    var noop = function () {\n    };\n    var compose = function (fa, fb) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return fa(fb.apply(null, args));\n      };\n    };\n    var compose1 = function (fbc, fab) {\n      return function (a) {\n        return fbc(fab(a));\n      };\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var tripleEquals = function (a, b) {\n      return a === b;\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var not = function (f) {\n      return function (t) {\n        return !f(t);\n      };\n    };\n    var die = function (msg) {\n      return function () {\n        throw new Error(msg);\n      };\n    };\n    var apply = function (f) {\n      return f();\n    };\n    var call = function (f) {\n      f();\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from$1 = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from$1\n    };\n\n    var nativeSlice = Array.prototype.slice;\n    var nativeIndexOf = Array.prototype.indexOf;\n    var nativePush = Array.prototype.push;\n    var rawIndexOf = function (ts, t) {\n      return nativeIndexOf.call(ts, t);\n    };\n    var indexOf$2 = function (xs, x) {\n      var r = rawIndexOf(xs, x);\n      return r === -1 ? Optional.none() : Optional.some(r);\n    };\n    var contains$3 = function (xs, x) {\n      return rawIndexOf(xs, x) > -1;\n    };\n    var exists = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var map$3 = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each$k = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var eachr = function (xs, f) {\n      for (var i = xs.length - 1; i >= 0; i--) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var partition = function (xs, pred) {\n      var pass = [];\n      var fail = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        var arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass: pass,\n        fail: fail\n      };\n    };\n    var filter$4 = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var foldr = function (xs, f, acc) {\n      eachr(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var foldl = function (xs, f, acc) {\n      each$k(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var findUntil$1 = function (xs, pred, until) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var find$3 = function (xs, pred) {\n      return findUntil$1(xs, pred, never);\n    };\n    var findIndex$2 = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray$1(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind = function (xs, f) {\n      return flatten(map$3(xs, f));\n    };\n    var forall = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        var x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    var reverse = function (xs) {\n      var r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    var difference = function (a1, a2) {\n      return filter$4(a1, function (x) {\n        return !contains$3(a2, x);\n      });\n    };\n    var mapToObject = function (xs, f) {\n      var r = {};\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    var sort = function (xs, comparator) {\n      var copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    var get$a = function (xs, i) {\n      return i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    };\n    var head = function (xs) {\n      return get$a(xs, 0);\n    };\n    var last$2 = function (xs) {\n      return get$a(xs, xs.length - 1);\n    };\n    var from = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n    var findMap = function (arr, f) {\n      for (var i = 0; i < arr.length; i++) {\n        var r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    var keys = Object.keys;\n    var hasOwnProperty$1 = Object.hasOwnProperty;\n    var each$j = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n    var map$2 = function (obj, f) {\n      return tupleMap(obj, function (x, i) {\n        return {\n          k: i,\n          v: f(x, i)\n        };\n      });\n    };\n    var tupleMap = function (obj, f) {\n      var r = {};\n      each$j(obj, function (x, i) {\n        var tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    var objAcc = function (r) {\n      return function (x, i) {\n        r[i] = x;\n      };\n    };\n    var internalFilter = function (obj, pred, onTrue, onFalse) {\n      var r = {};\n      each$j(obj, function (x, i) {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    var bifilter = function (obj, pred) {\n      var t = {};\n      var f = {};\n      internalFilter(obj, pred, objAcc(t), objAcc(f));\n      return {\n        t: t,\n        f: f\n      };\n    };\n    var filter$3 = function (obj, pred) {\n      var t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    var mapToArray = function (obj, f) {\n      var r = [];\n      each$j(obj, function (value, name) {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    var values = function (obj) {\n      return mapToArray(obj, identity);\n    };\n    var get$9 = function (obj, key) {\n      return has$2(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    var has$2 = function (obj, key) {\n      return hasOwnProperty$1.call(obj, key);\n    };\n    var hasNonNullableKey = function (obj, key) {\n      return has$2(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    };\n    var equal$1 = function (a1, a2, eq) {\n      if (eq === void 0) {\n        eq = eqAny;\n      }\n      return eqRecord(eq).eq(a1, a2);\n    };\n\n    var isArray = Array.isArray;\n    var toArray$1 = function (obj) {\n      if (!isArray(obj)) {\n        var array = [];\n        for (var i = 0, l = obj.length; i < l; i++) {\n          array[i] = obj[i];\n        }\n        return array;\n      } else {\n        return obj;\n      }\n    };\n    var each$i = function (o, cb, s) {\n      var n, l;\n      if (!o) {\n        return false;\n      }\n      s = s || o;\n      if (o.length !== undefined) {\n        for (n = 0, l = o.length; n < l; n++) {\n          if (cb.call(s, o[n], n, o) === false) {\n            return false;\n          }\n        }\n      } else {\n        for (n in o) {\n          if (has$2(o, n)) {\n            if (cb.call(s, o[n], n, o) === false) {\n              return false;\n            }\n          }\n        }\n      }\n      return true;\n    };\n    var map$1 = function (array, callback) {\n      var out = [];\n      each$i(array, function (item, index) {\n        out.push(callback(item, index, array));\n      });\n      return out;\n    };\n    var filter$2 = function (a, f) {\n      var o = [];\n      each$i(a, function (v, index) {\n        if (!f || f(v, index, a)) {\n          o.push(v);\n        }\n      });\n      return o;\n    };\n    var indexOf$1 = function (a, v) {\n      if (a) {\n        for (var i = 0, l = a.length; i < l; i++) {\n          if (a[i] === v) {\n            return i;\n          }\n        }\n      }\n      return -1;\n    };\n    var reduce = function (collection, iteratee, accumulator, thisArg) {\n      var acc = isUndefined(accumulator) ? collection[0] : accumulator;\n      for (var i = 0; i < collection.length; i++) {\n        acc = iteratee.call(thisArg, acc, collection[i], i);\n      }\n      return acc;\n    };\n    var findIndex$1 = function (array, predicate, thisArg) {\n      var i, l;\n      for (i = 0, l = array.length; i < l; i++) {\n        if (predicate.call(thisArg, array[i], i, array)) {\n          return i;\n        }\n      }\n      return -1;\n    };\n    var last$1 = function (collection) {\n      return collection[collection.length - 1];\n    };\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n    function __rest(s, e) {\n      var t = {};\n      for (var p in s)\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n          t[p] = s[p];\n      if (s != null && typeof Object.getOwnPropertySymbols === 'function')\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n            t[p[i]] = s[p[i]];\n        }\n      return t;\n    }\n    function __spreadArray(to, from, pack) {\n      if (pack || arguments.length === 2)\n        for (var i = 0, l = from.length, ar; i < l; i++) {\n          if (ar || !(i in from)) {\n            if (!ar)\n              ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n          }\n        }\n      return to.concat(ar || Array.prototype.slice.call(from));\n    }\n\n    var cached = function (f) {\n      var called = false;\n      var r;\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    var DeviceType = function (os, browser, userAgent, mediaMatch) {\n      var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      var isiPhone = os.isiOS() && !isiPad;\n      var isMobile = os.isiOS() || os.isAndroid();\n      var isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      var isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      var isPhone = isiPhone || isMobile && !isTablet;\n      var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      var isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview),\n        isDesktop: constant(isDesktop)\n      };\n    };\n\n    var firstMatch = function (regexes, s) {\n      for (var i = 0; i < regexes.length; i++) {\n        var x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    var find$2 = function (regexes, agent) {\n      var r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      var group = function (i) {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$4(group(1), group(2));\n    };\n    var detect$3 = function (versionRegexes, agent) {\n      var cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$2();\n      }\n      return find$2(versionRegexes, cleanedAgent);\n    };\n    var unknown$2 = function () {\n      return nu$4(0, 0);\n    };\n    var nu$4 = function (major, minor) {\n      return {\n        major: major,\n        minor: minor\n      };\n    };\n    var Version = {\n      nu: nu$4,\n      detect: detect$3,\n      unknown: unknown$2\n    };\n\n    var detectBrowser$1 = function (browsers, userAgentData) {\n      return findMap(userAgentData.brands, function (uaBrand) {\n        var lcBrand = uaBrand.brand.toLowerCase();\n        return find$3(browsers, function (browser) {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(function (info) {\n          return {\n            current: info.name,\n            version: Version.nu(parseInt(uaBrand.version, 10), 0)\n          };\n        });\n      });\n    };\n\n    var detect$2 = function (candidates, userAgent) {\n      var agent = String(userAgent).toLowerCase();\n      return find$3(candidates, function (candidate) {\n        return candidate.search(agent);\n      });\n    };\n    var detectBrowser = function (browsers, userAgent) {\n      return detect$2(browsers, userAgent).map(function (browser) {\n        var version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version: version\n        };\n      });\n    };\n    var detectOs = function (oses, userAgent) {\n      return detect$2(oses, userAgent).map(function (os) {\n        var version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version: version\n        };\n      });\n    };\n\n    var removeFromStart = function (str, numChars) {\n      return str.substring(numChars);\n    };\n\n    var checkRange = function (str, substr, start) {\n      return substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    };\n    var removeLeading = function (str, prefix) {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    var contains$2 = function (str, substr) {\n      return str.indexOf(substr) !== -1;\n    };\n    var startsWith = function (str, prefix) {\n      return checkRange(str, prefix, 0);\n    };\n    var blank = function (r) {\n      return function (s) {\n        return s.replace(r, '');\n      };\n    };\n    var trim$4 = blank(/^\\s+|\\s+$/g);\n    var lTrim = blank(/^\\s+/g);\n    var rTrim = blank(/\\s+$/g);\n    var isNotEmpty = function (s) {\n      return s.length > 0;\n    };\n    var isEmpty$3 = function (s) {\n      return !isNotEmpty(s);\n    };\n\n    var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    var checkContains = function (target) {\n      return function (uastring) {\n        return contains$2(uastring, target);\n      };\n    };\n    var browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: function (uastring) {\n          return contains$2(uastring, 'edge/') && contains$2(uastring, 'chrome') && contains$2(uastring, 'safari') && contains$2(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chrome',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: function (uastring) {\n          return contains$2(uastring, 'chrome') && !contains$2(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return contains$2(uastring, 'msie') || contains$2(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return (contains$2(uastring, 'safari') || contains$2(uastring, 'mobile/')) && contains$2(uastring, 'applewebkit');\n        }\n      }\n    ];\n    var oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: function (uastring) {\n          return contains$2(uastring, 'iphone') || contains$2(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'OSX',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    var PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    var edge = 'Edge';\n    var chrome = 'Chrome';\n    var ie$1 = 'IE';\n    var opera = 'Opera';\n    var firefox = 'Firefox';\n    var safari = 'Safari';\n    var unknown$1 = function () {\n      return nu$3({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$3 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isBrowser = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isEdge: isBrowser(edge),\n        isChrome: isBrowser(chrome),\n        isIE: isBrowser(ie$1),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    var Browser = {\n      unknown: unknown$1,\n      nu: nu$3,\n      edge: constant(edge),\n      chrome: constant(chrome),\n      ie: constant(ie$1),\n      opera: constant(opera),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n\n    var windows = 'Windows';\n    var ios = 'iOS';\n    var android = 'Android';\n    var linux = 'Linux';\n    var osx = 'OSX';\n    var solaris = 'Solaris';\n    var freebsd = 'FreeBSD';\n    var chromeos = 'ChromeOS';\n    var unknown = function () {\n      return nu$2({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$2 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isOS = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isOSX: isOS(osx),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    var OperatingSystem = {\n      unknown: unknown,\n      nu: nu$2,\n      windows: constant(windows),\n      ios: constant(ios),\n      android: constant(android),\n      linux: constant(linux),\n      osx: constant(osx),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd),\n      chromeos: constant(chromeos)\n    };\n\n    var detect$1 = function (userAgent, userAgentDataOpt, mediaMatch) {\n      var browsers = PlatformInfo.browsers();\n      var oses = PlatformInfo.oses();\n      var browser = userAgentDataOpt.bind(function (userAgentData) {\n        return detectBrowser$1(browsers, userAgentData);\n      }).orThunk(function () {\n        return detectBrowser(browsers, userAgent);\n      }).fold(Browser.unknown, Browser.nu);\n      var os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      var deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser: browser,\n        os: os,\n        deviceType: deviceType\n      };\n    };\n    var PlatformDetection = { detect: detect$1 };\n\n    var mediaMatch = function (query) {\n      return window.matchMedia(query).matches;\n    };\n    var platform$2 = cached(function () {\n      return PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch);\n    });\n    var detect = function () {\n      return platform$2();\n    };\n\n    var userAgent = navigator.userAgent;\n    var platform$1 = detect();\n    var browser$4 = platform$1.browser;\n    var os = platform$1.os;\n    var deviceType = platform$1.deviceType;\n    var webkit = /WebKit/.test(userAgent) && !browser$4.isEdge();\n    var fileApi = 'FormData' in window && 'FileReader' in window && 'URL' in window && !!URL.createObjectURL;\n    var windowsPhone = userAgent.indexOf('Windows Phone') !== -1;\n    var Env = {\n      opera: browser$4.isOpera(),\n      webkit: webkit,\n      ie: browser$4.isIE() || browser$4.isEdge() ? browser$4.version.major : false,\n      gecko: browser$4.isFirefox(),\n      mac: os.isOSX() || os.isiOS(),\n      iOS: deviceType.isiPad() || deviceType.isiPhone(),\n      android: os.isAndroid(),\n      contentEditable: true,\n      transparentSrc: 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',\n      caretAfter: true,\n      range: window.getSelection && 'Range' in window,\n      documentMode: browser$4.isIE() ? document.documentMode || 7 : 10,\n      fileApi: fileApi,\n      ceFalse: true,\n      cacheSuffix: null,\n      container: null,\n      experimentalShadowDom: false,\n      canHaveCSP: !browser$4.isIE(),\n      desktop: deviceType.isDesktop(),\n      windowsPhone: windowsPhone,\n      browser: {\n        current: browser$4.current,\n        version: browser$4.version,\n        isChrome: browser$4.isChrome,\n        isEdge: browser$4.isEdge,\n        isFirefox: browser$4.isFirefox,\n        isIE: browser$4.isIE,\n        isOpera: browser$4.isOpera,\n        isSafari: browser$4.isSafari\n      },\n      os: {\n        current: os.current,\n        version: os.version,\n        isAndroid: os.isAndroid,\n        isChromeOS: os.isChromeOS,\n        isFreeBSD: os.isFreeBSD,\n        isiOS: os.isiOS,\n        isLinux: os.isLinux,\n        isOSX: os.isOSX,\n        isSolaris: os.isSolaris,\n        isWindows: os.isWindows\n      },\n      deviceType: {\n        isDesktop: deviceType.isDesktop,\n        isiPad: deviceType.isiPad,\n        isiPhone: deviceType.isiPhone,\n        isPhone: deviceType.isPhone,\n        isTablet: deviceType.isTablet,\n        isTouch: deviceType.isTouch,\n        isWebView: deviceType.isWebView\n      }\n    };\n\n    var whiteSpaceRegExp$2 = /^\\s*|\\s*$/g;\n    var trim$3 = function (str) {\n      return str === null || str === undefined ? '' : ('' + str).replace(whiteSpaceRegExp$2, '');\n    };\n    var is$3 = function (obj, type) {\n      if (!type) {\n        return obj !== undefined;\n      }\n      if (type === 'array' && isArray(obj)) {\n        return true;\n      }\n      return typeof obj === type;\n    };\n    var makeMap$4 = function (items, delim, map) {\n      var i;\n      items = items || [];\n      delim = delim || ',';\n      if (typeof items === 'string') {\n        items = items.split(delim);\n      }\n      map = map || {};\n      i = items.length;\n      while (i--) {\n        map[items[i]] = {};\n      }\n      return map;\n    };\n    var hasOwnProperty = has$2;\n    var create$9 = function (s, p, root) {\n      var self = this;\n      var sp, scn, c, de = 0;\n      s = /^((static) )?([\\w.]+)(:([\\w.]+))?/.exec(s);\n      var cn = s[3].match(/(^|\\.)(\\w+)$/i)[2];\n      var ns = self.createNS(s[3].replace(/\\.\\w+$/, ''), root);\n      if (ns[cn]) {\n        return;\n      }\n      if (s[2] === 'static') {\n        ns[cn] = p;\n        if (this.onCreate) {\n          this.onCreate(s[2], s[3], ns[cn]);\n        }\n        return;\n      }\n      if (!p[cn]) {\n        p[cn] = function () {\n        };\n        de = 1;\n      }\n      ns[cn] = p[cn];\n      self.extend(ns[cn].prototype, p);\n      if (s[5]) {\n        sp = self.resolve(s[5]).prototype;\n        scn = s[5].match(/\\.(\\w+)$/i)[1];\n        c = ns[cn];\n        if (de) {\n          ns[cn] = function () {\n            return sp[scn].apply(this, arguments);\n          };\n        } else {\n          ns[cn] = function () {\n            this.parent = sp[scn];\n            return c.apply(this, arguments);\n          };\n        }\n        ns[cn].prototype[cn] = ns[cn];\n        self.each(sp, function (f, n) {\n          ns[cn].prototype[n] = sp[n];\n        });\n        self.each(p, function (f, n) {\n          if (sp[n]) {\n            ns[cn].prototype[n] = function () {\n              this.parent = sp[n];\n              return f.apply(this, arguments);\n            };\n          } else {\n            if (n !== cn) {\n              ns[cn].prototype[n] = f;\n            }\n          }\n        });\n      }\n      self.each(p.static, function (f, n) {\n        ns[cn][n] = f;\n      });\n    };\n    var extend$6 = function (obj) {\n      var exts = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        exts[_i - 1] = arguments[_i];\n      }\n      for (var i = 0; i < exts.length; i++) {\n        var ext = exts[i];\n        for (var name_1 in ext) {\n          if (has$2(ext, name_1)) {\n            var value = ext[name_1];\n            if (value !== undefined) {\n              obj[name_1] = value;\n            }\n          }\n        }\n      }\n      return obj;\n    };\n    var walk$3 = function (o, f, n, s) {\n      s = s || this;\n      if (o) {\n        if (n) {\n          o = o[n];\n        }\n        each$i(o, function (o, i) {\n          if (f.call(s, o, i, n) === false) {\n            return false;\n          }\n          walk$3(o, f, n, s);\n        });\n      }\n    };\n    var createNS = function (n, o) {\n      var i, v;\n      o = o || window;\n      n = n.split('.');\n      for (i = 0; i < n.length; i++) {\n        v = n[i];\n        if (!o[v]) {\n          o[v] = {};\n        }\n        o = o[v];\n      }\n      return o;\n    };\n    var resolve$3 = function (n, o) {\n      var i, l;\n      o = o || window;\n      n = n.split('.');\n      for (i = 0, l = n.length; i < l; i++) {\n        o = o[n[i]];\n        if (!o) {\n          break;\n        }\n      }\n      return o;\n    };\n    var explode$4 = function (s, d) {\n      if (!s || is$3(s, 'array')) {\n        return s;\n      }\n      return map$1(s.split(d || ','), trim$3);\n    };\n    var _addCacheSuffix = function (url) {\n      var cacheSuffix = Env.cacheSuffix;\n      if (cacheSuffix) {\n        url += (url.indexOf('?') === -1 ? '?' : '&') + cacheSuffix;\n      }\n      return url;\n    };\n    var Tools = {\n      trim: trim$3,\n      isArray: isArray,\n      is: is$3,\n      toArray: toArray$1,\n      makeMap: makeMap$4,\n      each: each$i,\n      map: map$1,\n      grep: filter$2,\n      inArray: indexOf$1,\n      hasOwn: hasOwnProperty,\n      extend: extend$6,\n      create: create$9,\n      walk: walk$3,\n      createNS: createNS,\n      resolve: resolve$3,\n      explode: explode$4,\n      _addCacheSuffix: _addCacheSuffix\n    };\n\n    var fromHtml$1 = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom$2(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom$2(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom$2(node);\n    };\n    var fromDom$2 = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint$1 = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom$2);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml$1,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom$2,\n      fromPoint: fromPoint$1\n    };\n\n    var toArray = function (target, f) {\n      var r = [];\n      var recurse = function (e) {\n        r.push(e);\n        return f(e);\n      };\n      var cur = f(target);\n      do {\n        cur = cur.bind(recurse);\n      } while (cur.isSome());\n      return r;\n    };\n\n    var compareDocumentPosition = function (a, b, match) {\n      return (a.compareDocumentPosition(b) & match) !== 0;\n    };\n    var documentPositionContainedBy = function (a, b) {\n      return compareDocumentPosition(a, b, Node.DOCUMENT_POSITION_CONTAINED_BY);\n    };\n\n    var COMMENT = 8;\n    var DOCUMENT = 9;\n    var DOCUMENT_FRAGMENT = 11;\n    var ELEMENT = 1;\n    var TEXT = 3;\n\n    var is$2 = function (element, selector) {\n      var dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        var elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    var bypassSelector = function (dom) {\n      return dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    };\n    var all = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$3(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    var one = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    var eq = function (e1, e2) {\n      return e1.dom === e2.dom;\n    };\n    var regularContains = function (e1, e2) {\n      var d1 = e1.dom;\n      var d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    var ieContains = function (e1, e2) {\n      return documentPositionContainedBy(e1.dom, e2.dom);\n    };\n    var contains$1 = function (e1, e2) {\n      return detect().browser.isIE() ? ieContains(e1, e2) : regularContains(e1, e2);\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var name = function (element) {\n      var r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    var type = function (element) {\n      return element.dom.nodeType;\n    };\n    var isType = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isComment$1 = function (element) {\n      return type(element) === COMMENT || name(element) === '#comment';\n    };\n    var isElement$6 = isType(ELEMENT);\n    var isText$8 = isType(TEXT);\n    var isDocument$2 = isType(DOCUMENT);\n    var isDocumentFragment$1 = isType(DOCUMENT_FRAGMENT);\n    var isTag = function (tag) {\n      return function (e) {\n        return isElement$6(e) && name(e) === tag;\n      };\n    };\n\n    var owner$1 = function (element) {\n      return SugarElement.fromDom(element.dom.ownerDocument);\n    };\n    var documentOrOwner = function (dos) {\n      return isDocument$2(dos) ? dos : owner$1(dos);\n    };\n    var documentElement = function (element) {\n      return SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    };\n    var defaultView = function (element) {\n      return SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    };\n    var parent = function (element) {\n      return Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    };\n    var parents$1 = function (element, isRoot) {\n      var stop = isFunction(isRoot) ? isRoot : never;\n      var dom = element.dom;\n      var ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        var rawParent = dom.parentNode;\n        var p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    var siblings = function (element) {\n      var filterSelf = function (elements) {\n        return filter$4(elements, function (x) {\n          return !eq(element, x);\n        });\n      };\n      return parent(element).map(children).map(filterSelf).getOr([]);\n    };\n    var prevSibling = function (element) {\n      return Optional.from(element.dom.previousSibling).map(SugarElement.fromDom);\n    };\n    var nextSibling = function (element) {\n      return Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    };\n    var prevSiblings = function (element) {\n      return reverse(toArray(element, prevSibling));\n    };\n    var nextSiblings = function (element) {\n      return toArray(element, nextSibling);\n    };\n    var children = function (element) {\n      return map$3(element.dom.childNodes, SugarElement.fromDom);\n    };\n    var child$1 = function (element, index) {\n      var cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    var firstChild = function (element) {\n      return child$1(element, 0);\n    };\n    var lastChild = function (element) {\n      return child$1(element, element.dom.childNodes.length - 1);\n    };\n    var childNodesCount = function (element) {\n      return element.dom.childNodes.length;\n    };\n\n    var getHead = function (doc) {\n      var b = doc.dom.head;\n      if (b === null || b === undefined) {\n        throw new Error('Head is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    var isShadowRoot = function (dos) {\n      return isDocumentFragment$1(dos) && isNonNullable(dos.dom.host);\n    };\n    var supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    var isSupported$1 = constant(supported);\n    var getRootNode = supported ? function (e) {\n      return SugarElement.fromDom(e.dom.getRootNode());\n    } : documentOrOwner;\n    var getStyleContainer = function (dos) {\n      return isShadowRoot(dos) ? dos : getHead(documentOrOwner(dos));\n    };\n    var getShadowRoot = function (e) {\n      var r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    var getShadowHost = function (e) {\n      return SugarElement.fromDom(e.dom.host);\n    };\n    var getOriginalEventTarget = function (event) {\n      if (isSupported$1() && isNonNullable(event.target)) {\n        var el = SugarElement.fromDom(event.target);\n        if (isElement$6(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            var composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    var isOpenShadowHost = function (element) {\n      return isNonNullable(element.dom.shadowRoot);\n    };\n\n    var before$4 = function (marker, element) {\n      var parent$1 = parent(marker);\n      parent$1.each(function (v) {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    var after$3 = function (marker, element) {\n      var sibling = nextSibling(marker);\n      sibling.fold(function () {\n        var parent$1 = parent(marker);\n        parent$1.each(function (v) {\n          append$1(v, element);\n        });\n      }, function (v) {\n        before$4(v, element);\n      });\n    };\n    var prepend = function (parent, element) {\n      var firstChild$1 = firstChild(parent);\n      firstChild$1.fold(function () {\n        append$1(parent, element);\n      }, function (v) {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    var append$1 = function (parent, element) {\n      parent.dom.appendChild(element.dom);\n    };\n    var wrap$3 = function (element, wrapper) {\n      before$4(element, wrapper);\n      append$1(wrapper, element);\n    };\n\n    var before$3 = function (marker, elements) {\n      each$k(elements, function (x) {\n        before$4(marker, x);\n      });\n    };\n    var append = function (parent, elements) {\n      each$k(elements, function (x) {\n        append$1(parent, x);\n      });\n    };\n\n    var empty = function (element) {\n      element.dom.textContent = '';\n      each$k(children(element), function (rogue) {\n        remove$7(rogue);\n      });\n    };\n    var remove$7 = function (element) {\n      var dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    var unwrap = function (wrapper) {\n      var children$1 = children(wrapper);\n      if (children$1.length > 0) {\n        before$3(wrapper, children$1);\n      }\n      remove$7(wrapper);\n    };\n\n    var inBody = function (element) {\n      var dom = isText$8(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      var doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(function () {\n        return doc.body.contains(dom);\n      }, compose1(inBody, getShadowHost));\n    };\n\n    var r = function (left, top) {\n      var translate = function (x, y) {\n        return r(left + x, top + y);\n      };\n      return {\n        left: left,\n        top: top,\n        translate: translate\n      };\n    };\n    var SugarPosition = r;\n\n    var boxPosition = function (dom) {\n      var box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    var firstDefinedOrZero = function (a, b) {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    var absolute = function (element) {\n      var doc = element.dom.ownerDocument;\n      var body = doc.body;\n      var win = doc.defaultView;\n      var html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      var scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      var scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      var clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      var clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    var viewport = function (element) {\n      var dom = element.dom;\n      var doc = dom.ownerDocument;\n      var body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    var get$8 = function (_DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom : document;\n      var x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      var y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    var to = function (x, y, _DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom : document;\n      var win = doc.defaultView;\n      if (win) {\n        win.scrollTo(x, y);\n      }\n    };\n    var intoView = function (element, alignToTop) {\n      var isSafari = detect().browser.isSafari();\n      if (isSafari && isFunction(element.dom.scrollIntoViewIfNeeded)) {\n        element.dom.scrollIntoViewIfNeeded(false);\n      } else {\n        element.dom.scrollIntoView(alignToTop);\n      }\n    };\n\n    var get$7 = function (_win) {\n      var win = _win === undefined ? window : _win;\n      if (detect().browser.isFirefox()) {\n        return Optional.none();\n      } else {\n        return Optional.from(win['visualViewport']);\n      }\n    };\n    var bounds = function (x, y, width, height) {\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        right: x + width,\n        bottom: y + height\n      };\n    };\n    var getBounds = function (_win) {\n      var win = _win === undefined ? window : _win;\n      var doc = win.document;\n      var scroll = get$8(SugarElement.fromDom(doc));\n      return get$7(win).fold(function () {\n        var html = win.document.documentElement;\n        var width = html.clientWidth;\n        var height = html.clientHeight;\n        return bounds(scroll.left, scroll.top, width, height);\n      }, function (visualViewport) {\n        return bounds(Math.max(visualViewport.pageLeft, scroll.left), Math.max(visualViewport.pageTop, scroll.top), visualViewport.width, visualViewport.height);\n      });\n    };\n\n    var isNodeType = function (type) {\n      return function (node) {\n        return !!node && node.nodeType === type;\n      };\n    };\n    var isRestrictedNode = function (node) {\n      return !!node && !Object.getPrototypeOf(node);\n    };\n    var isElement$5 = isNodeType(1);\n    var matchNodeNames = function (names) {\n      var lowercasedNames = names.map(function (s) {\n        return s.toLowerCase();\n      });\n      return function (node) {\n        if (node && node.nodeName) {\n          var nodeName = node.nodeName.toLowerCase();\n          return contains$3(lowercasedNames, nodeName);\n        }\n        return false;\n      };\n    };\n    var matchStyleValues = function (name, values) {\n      var items = values.toLowerCase().split(' ');\n      return function (node) {\n        if (isElement$5(node)) {\n          for (var i = 0; i < items.length; i++) {\n            var computed = node.ownerDocument.defaultView.getComputedStyle(node, null);\n            var cssValue = computed ? computed.getPropertyValue(name) : null;\n            if (cssValue === items[i]) {\n              return true;\n            }\n          }\n        }\n        return false;\n      };\n    };\n    var hasAttribute = function (attrName) {\n      return function (node) {\n        return isElement$5(node) && node.hasAttribute(attrName);\n      };\n    };\n    var hasAttributeValue = function (attrName, attrValue) {\n      return function (node) {\n        return isElement$5(node) && node.getAttribute(attrName) === attrValue;\n      };\n    };\n    var isBogus$2 = function (node) {\n      return isElement$5(node) && node.hasAttribute('data-mce-bogus');\n    };\n    var isBogusAll$1 = function (node) {\n      return isElement$5(node) && node.getAttribute('data-mce-bogus') === 'all';\n    };\n    var isTable$3 = function (node) {\n      return isElement$5(node) && node.tagName === 'TABLE';\n    };\n    var hasContentEditableState = function (value) {\n      return function (node) {\n        if (isElement$5(node)) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    var isTextareaOrInput = matchNodeNames([\n      'textarea',\n      'input'\n    ]);\n    var isText$7 = isNodeType(3);\n    var isComment = isNodeType(8);\n    var isDocument$1 = isNodeType(9);\n    var isDocumentFragment = isNodeType(11);\n    var isBr$5 = matchNodeNames(['br']);\n    var isImg = matchNodeNames(['img']);\n    var isContentEditableTrue$4 = hasContentEditableState('true');\n    var isContentEditableFalse$b = hasContentEditableState('false');\n    var isTableCell$5 = matchNodeNames([\n      'td',\n      'th'\n    ]);\n    var isMedia$2 = matchNodeNames([\n      'video',\n      'audio',\n      'object',\n      'embed'\n    ]);\n\n    var is$1 = function (lhs, rhs, comparator) {\n      if (comparator === void 0) {\n        comparator = tripleEquals;\n      }\n      return lhs.exists(function (left) {\n        return comparator(left, rhs);\n      });\n    };\n    var cat = function (arr) {\n      var r = [];\n      var push = function (x) {\n        r.push(x);\n      };\n      for (var i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    var lift2 = function (oa, ob, f) {\n      return oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    };\n    var lift3 = function (oa, ob, oc, f) {\n      return oa.isSome() && ob.isSome() && oc.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie(), oc.getOrDie())) : Optional.none();\n    };\n    var someIf = function (b, a) {\n      return b ? Optional.some(a) : Optional.none();\n    };\n\n    var isSupported = function (dom) {\n      return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n    };\n\n    var rawSet = function (dom, key, value) {\n      if (isString$1(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set$1 = function (element, key, value) {\n      rawSet(element.dom, key, value);\n    };\n    var setAll$1 = function (element, attrs) {\n      var dom = element.dom;\n      each$j(attrs, function (v, k) {\n        rawSet(dom, k, v);\n      });\n    };\n    var get$6 = function (element, key) {\n      var v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    var getOpt = function (element, key) {\n      return Optional.from(get$6(element, key));\n    };\n    var has$1 = function (element, key) {\n      var dom = element.dom;\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n    };\n    var remove$6 = function (element, key) {\n      element.dom.removeAttribute(key);\n    };\n    var clone$3 = function (element) {\n      return foldl(element.dom.attributes, function (acc, attr) {\n        acc[attr.name] = attr.value;\n        return acc;\n      }, {});\n    };\n\n    var internalSet = function (dom, property, value) {\n      if (!isString$1(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    var setAll = function (element, css) {\n      var dom = element.dom;\n      each$j(css, function (v, k) {\n        internalSet(dom, k, v);\n      });\n    };\n    var get$5 = function (element, property) {\n      var dom = element.dom;\n      var styles = window.getComputedStyle(dom);\n      var r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    var getUnsafeProperty = function (dom, property) {\n      return isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    };\n    var getRaw = function (element, property) {\n      var dom = element.dom;\n      var raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(function (r) {\n        return r.length > 0;\n      });\n    };\n    var getAllRaw = function (element) {\n      var css = {};\n      var dom = element.dom;\n      if (isSupported(dom)) {\n        for (var i = 0; i < dom.style.length; i++) {\n          var ruleName = dom.style.item(i);\n          css[ruleName] = dom.style[ruleName];\n        }\n      }\n      return css;\n    };\n    var reflow = function (e) {\n      return e.dom.offsetWidth;\n    };\n\n    var browser$3 = detect().browser;\n    var firstElement = function (nodes) {\n      return find$3(nodes, isElement$6);\n    };\n    var getTableCaptionDeltaY = function (elm) {\n      if (browser$3.isFirefox() && name(elm) === 'table') {\n        return firstElement(children(elm)).filter(function (elm) {\n          return name(elm) === 'caption';\n        }).bind(function (caption) {\n          return firstElement(nextSiblings(caption)).map(function (body) {\n            var bodyTop = body.dom.offsetTop;\n            var captionTop = caption.dom.offsetTop;\n            var captionHeight = caption.dom.offsetHeight;\n            return bodyTop <= captionTop ? -captionHeight : 0;\n          });\n        }).getOr(0);\n      } else {\n        return 0;\n      }\n    };\n    var hasChild = function (elm, child) {\n      return elm.children && contains$3(elm.children, child);\n    };\n    var getPos = function (body, elm, rootElm) {\n      var x = 0, y = 0;\n      var doc = body.ownerDocument;\n      rootElm = rootElm ? rootElm : body;\n      if (elm) {\n        if (rootElm === body && elm.getBoundingClientRect && get$5(SugarElement.fromDom(body), 'position') === 'static') {\n          var pos = elm.getBoundingClientRect();\n          x = pos.left + (doc.documentElement.scrollLeft || body.scrollLeft) - doc.documentElement.clientLeft;\n          y = pos.top + (doc.documentElement.scrollTop || body.scrollTop) - doc.documentElement.clientTop;\n          return {\n            x: x,\n            y: y\n          };\n        }\n        var offsetParent = elm;\n        while (offsetParent && offsetParent !== rootElm && offsetParent.nodeType && !hasChild(offsetParent, rootElm)) {\n          var castOffsetParent = offsetParent;\n          x += castOffsetParent.offsetLeft || 0;\n          y += castOffsetParent.offsetTop || 0;\n          offsetParent = castOffsetParent.offsetParent;\n        }\n        offsetParent = elm.parentNode;\n        while (offsetParent && offsetParent !== rootElm && offsetParent.nodeType && !hasChild(offsetParent, rootElm)) {\n          x -= offsetParent.scrollLeft || 0;\n          y -= offsetParent.scrollTop || 0;\n          offsetParent = offsetParent.parentNode;\n        }\n        y += getTableCaptionDeltaY(SugarElement.fromDom(elm));\n      }\n      return {\n        x: x,\n        y: y\n      };\n    };\n\n    var exports$1 = {}, module$1 = { exports: exports$1 };\n    (function (define, exports, module, require) {\n      (function (global, factory) {\n        typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.EphoxContactWrapper = factory());\n      }(this, function () {\n        var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n        var promise = { exports: {} };\n        (function (module) {\n          (function (root) {\n            var setTimeoutFunc = setTimeout;\n            function noop() {\n            }\n            function bind(fn, thisArg) {\n              return function () {\n                fn.apply(thisArg, arguments);\n              };\n            }\n            function Promise(fn) {\n              if (typeof this !== 'object')\n                throw new TypeError('Promises must be constructed via new');\n              if (typeof fn !== 'function')\n                throw new TypeError('not a function');\n              this._state = 0;\n              this._handled = false;\n              this._value = undefined;\n              this._deferreds = [];\n              doResolve(fn, this);\n            }\n            function handle(self, deferred) {\n              while (self._state === 3) {\n                self = self._value;\n              }\n              if (self._state === 0) {\n                self._deferreds.push(deferred);\n                return;\n              }\n              self._handled = true;\n              Promise._immediateFn(function () {\n                var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n                if (cb === null) {\n                  (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n                  return;\n                }\n                var ret;\n                try {\n                  ret = cb(self._value);\n                } catch (e) {\n                  reject(deferred.promise, e);\n                  return;\n                }\n                resolve(deferred.promise, ret);\n              });\n            }\n            function resolve(self, newValue) {\n              try {\n                if (newValue === self)\n                  throw new TypeError('A promise cannot be resolved with itself.');\n                if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n                  var then = newValue.then;\n                  if (newValue instanceof Promise) {\n                    self._state = 3;\n                    self._value = newValue;\n                    finale(self);\n                    return;\n                  } else if (typeof then === 'function') {\n                    doResolve(bind(then, newValue), self);\n                    return;\n                  }\n                }\n                self._state = 1;\n                self._value = newValue;\n                finale(self);\n              } catch (e) {\n                reject(self, e);\n              }\n            }\n            function reject(self, newValue) {\n              self._state = 2;\n              self._value = newValue;\n              finale(self);\n            }\n            function finale(self) {\n              if (self._state === 2 && self._deferreds.length === 0) {\n                Promise._immediateFn(function () {\n                  if (!self._handled) {\n                    Promise._unhandledRejectionFn(self._value);\n                  }\n                });\n              }\n              for (var i = 0, len = self._deferreds.length; i < len; i++) {\n                handle(self, self._deferreds[i]);\n              }\n              self._deferreds = null;\n            }\n            function Handler(onFulfilled, onRejected, promise) {\n              this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n              this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n              this.promise = promise;\n            }\n            function doResolve(fn, self) {\n              var done = false;\n              try {\n                fn(function (value) {\n                  if (done)\n                    return;\n                  done = true;\n                  resolve(self, value);\n                }, function (reason) {\n                  if (done)\n                    return;\n                  done = true;\n                  reject(self, reason);\n                });\n              } catch (ex) {\n                if (done)\n                  return;\n                done = true;\n                reject(self, ex);\n              }\n            }\n            Promise.prototype['catch'] = function (onRejected) {\n              return this.then(null, onRejected);\n            };\n            Promise.prototype.then = function (onFulfilled, onRejected) {\n              var prom = new this.constructor(noop);\n              handle(this, new Handler(onFulfilled, onRejected, prom));\n              return prom;\n            };\n            Promise.all = function (arr) {\n              var args = Array.prototype.slice.call(arr);\n              return new Promise(function (resolve, reject) {\n                if (args.length === 0)\n                  return resolve([]);\n                var remaining = args.length;\n                function res(i, val) {\n                  try {\n                    if (val && (typeof val === 'object' || typeof val === 'function')) {\n                      var then = val.then;\n                      if (typeof then === 'function') {\n                        then.call(val, function (val) {\n                          res(i, val);\n                        }, reject);\n                        return;\n                      }\n                    }\n                    args[i] = val;\n                    if (--remaining === 0) {\n                      resolve(args);\n                    }\n                  } catch (ex) {\n                    reject(ex);\n                  }\n                }\n                for (var i = 0; i < args.length; i++) {\n                  res(i, args[i]);\n                }\n              });\n            };\n            Promise.resolve = function (value) {\n              if (value && typeof value === 'object' && value.constructor === Promise) {\n                return value;\n              }\n              return new Promise(function (resolve) {\n                resolve(value);\n              });\n            };\n            Promise.reject = function (value) {\n              return new Promise(function (resolve, reject) {\n                reject(value);\n              });\n            };\n            Promise.race = function (values) {\n              return new Promise(function (resolve, reject) {\n                for (var i = 0, len = values.length; i < len; i++) {\n                  values[i].then(resolve, reject);\n                }\n              });\n            };\n            Promise._immediateFn = typeof setImmediate === 'function' ? function (fn) {\n              setImmediate(fn);\n            } : function (fn) {\n              setTimeoutFunc(fn, 0);\n            };\n            Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n              if (typeof console !== 'undefined' && console) {\n                console.warn('Possible Unhandled Promise Rejection:', err);\n              }\n            };\n            Promise._setImmediateFn = function _setImmediateFn(fn) {\n              Promise._immediateFn = fn;\n            };\n            Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n              Promise._unhandledRejectionFn = fn;\n            };\n            if (module.exports) {\n              module.exports = Promise;\n            } else if (!root.Promise) {\n              root.Promise = Promise;\n            }\n          }(commonjsGlobal));\n        }(promise));\n        var promisePolyfill = promise.exports;\n        var Global = function () {\n          if (typeof window !== 'undefined') {\n            return window;\n          } else {\n            return Function('return this;')();\n          }\n        }();\n        var promisePolyfill_1 = { boltExport: Global.Promise || promisePolyfill };\n        return promisePolyfill_1;\n      }));\n    }(undefined, exports$1, module$1));\n    var Promise$1 = module$1.exports.boltExport;\n\n    var nu$1 = function (baseFn) {\n      var data = Optional.none();\n      var callbacks = [];\n      var map = function (f) {\n        return nu$1(function (nCallback) {\n          get(function (data) {\n            nCallback(f(data));\n          });\n        });\n      };\n      var get = function (nCallback) {\n        if (isReady()) {\n          call(nCallback);\n        } else {\n          callbacks.push(nCallback);\n        }\n      };\n      var set = function (x) {\n        if (!isReady()) {\n          data = Optional.some(x);\n          run(callbacks);\n          callbacks = [];\n        }\n      };\n      var isReady = function () {\n        return data.isSome();\n      };\n      var run = function (cbs) {\n        each$k(cbs, call);\n      };\n      var call = function (cb) {\n        data.each(function (x) {\n          setTimeout(function () {\n            cb(x);\n          }, 0);\n        });\n      };\n      baseFn(set);\n      return {\n        get: get,\n        map: map,\n        isReady: isReady\n      };\n    };\n    var pure$1 = function (a) {\n      return nu$1(function (callback) {\n        callback(a);\n      });\n    };\n    var LazyValue = {\n      nu: nu$1,\n      pure: pure$1\n    };\n\n    var errorReporter = function (err) {\n      setTimeout(function () {\n        throw err;\n      }, 0);\n    };\n    var make = function (run) {\n      var get = function (callback) {\n        run().then(callback, errorReporter);\n      };\n      var map = function (fab) {\n        return make(function () {\n          return run().then(fab);\n        });\n      };\n      var bind = function (aFutureB) {\n        return make(function () {\n          return run().then(function (v) {\n            return aFutureB(v).toPromise();\n          });\n        });\n      };\n      var anonBind = function (futureB) {\n        return make(function () {\n          return run().then(function () {\n            return futureB.toPromise();\n          });\n        });\n      };\n      var toLazy = function () {\n        return LazyValue.nu(get);\n      };\n      var toCached = function () {\n        var cache = null;\n        return make(function () {\n          if (cache === null) {\n            cache = run();\n          }\n          return cache;\n        });\n      };\n      var toPromise = run;\n      return {\n        map: map,\n        bind: bind,\n        anonBind: anonBind,\n        toLazy: toLazy,\n        toCached: toCached,\n        toPromise: toPromise,\n        get: get\n      };\n    };\n    var nu = function (baseFn) {\n      return make(function () {\n        return new Promise$1(baseFn);\n      });\n    };\n    var pure = function (a) {\n      return make(function () {\n        return Promise$1.resolve(a);\n      });\n    };\n    var Future = {\n      nu: nu,\n      pure: pure\n    };\n\n    var par$1 = function (asyncValues, nu) {\n      return nu(function (callback) {\n        var r = [];\n        var count = 0;\n        var cb = function (i) {\n          return function (value) {\n            r[i] = value;\n            count++;\n            if (count >= asyncValues.length) {\n              callback(r);\n            }\n          };\n        };\n        if (asyncValues.length === 0) {\n          callback([]);\n        } else {\n          each$k(asyncValues, function (asyncValue, i) {\n            asyncValue.get(cb(i));\n          });\n        }\n      });\n    };\n\n    var par = function (futures) {\n      return par$1(futures, Future.nu);\n    };\n\n    var value$1 = function (o) {\n      var or = function (_opt) {\n        return value$1(o);\n      };\n      var orThunk = function (_f) {\n        return value$1(o);\n      };\n      var map = function (f) {\n        return value$1(f(o));\n      };\n      var mapError = function (_f) {\n        return value$1(o);\n      };\n      var each = function (f) {\n        f(o);\n      };\n      var bind = function (f) {\n        return f(o);\n      };\n      var fold = function (_, onValue) {\n        return onValue(o);\n      };\n      var exists = function (f) {\n        return f(o);\n      };\n      var forall = function (f) {\n        return f(o);\n      };\n      var toOptional = function () {\n        return Optional.some(o);\n      };\n      return {\n        isValue: always,\n        isError: never,\n        getOr: constant(o),\n        getOrThunk: constant(o),\n        getOrDie: constant(o),\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: each,\n        bind: bind,\n        exists: exists,\n        forall: forall,\n        toOptional: toOptional\n      };\n    };\n    var error = function (message) {\n      var getOrThunk = function (f) {\n        return f();\n      };\n      var getOrDie = function () {\n        return die(String(message))();\n      };\n      var or = identity;\n      var orThunk = function (f) {\n        return f();\n      };\n      var map = function (_f) {\n        return error(message);\n      };\n      var mapError = function (f) {\n        return error(f(message));\n      };\n      var bind = function (_f) {\n        return error(message);\n      };\n      var fold = function (onError, _) {\n        return onError(message);\n      };\n      return {\n        isValue: never,\n        isError: always,\n        getOr: identity,\n        getOrThunk: getOrThunk,\n        getOrDie: getOrDie,\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: noop,\n        bind: bind,\n        exists: never,\n        forall: always,\n        toOptional: Optional.none\n      };\n    };\n    var fromOption = function (opt, err) {\n      return opt.fold(function () {\n        return error(err);\n      }, value$1);\n    };\n    var Result = {\n      value: value$1,\n      error: error,\n      fromOption: fromOption\n    };\n\n    var generate$1 = function (cases) {\n      if (!isArray$1(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      var constructors = [];\n      var adt = {};\n      each$k(cases, function (acase, count) {\n        var keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        var key = keys$1[0];\n        var value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray$1(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          var argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          var match = function (branches) {\n            var branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            var allReqd = forall(constructors, function (reqKey) {\n              return contains$3(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: function () {\n              var foldArgs = [];\n              for (var _i = 0; _i < arguments.length; _i++) {\n                foldArgs[_i] = arguments[_i];\n              }\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              var target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match: match,\n            log: function (label) {\n              console.log(label, {\n                constructors: constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    var Adt = { generate: generate$1 };\n\n    Adt.generate([\n      {\n        bothErrors: [\n          'error1',\n          'error2'\n        ]\n      },\n      {\n        firstError: [\n          'error1',\n          'value2'\n        ]\n      },\n      {\n        secondError: [\n          'value1',\n          'error2'\n        ]\n      },\n      {\n        bothValues: [\n          'value1',\n          'value2'\n        ]\n      }\n    ]);\n    var unite = function (result) {\n      return result.fold(identity, identity);\n    };\n\n    function ClosestOrAncestor (is, ancestor, scope, a, isRoot) {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    }\n\n    var ancestor$3 = function (scope, predicate, isRoot) {\n      var element = scope.dom;\n      var stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var closest$3 = function (scope, predicate, isRoot) {\n      var is = function (s, test) {\n        return test(s);\n      };\n      return ClosestOrAncestor(is, ancestor$3, scope, predicate, isRoot);\n    };\n    var sibling$2 = function (scope, predicate) {\n      var element = scope.dom;\n      if (!element.parentNode) {\n        return Optional.none();\n      }\n      return child(SugarElement.fromDom(element.parentNode), function (x) {\n        return !eq(scope, x) && predicate(x);\n      });\n    };\n    var child = function (scope, predicate) {\n      var pred = function (node) {\n        return predicate(SugarElement.fromDom(node));\n      };\n      var result = find$3(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n\n    var ancestor$2 = function (scope, selector, isRoot) {\n      return ancestor$3(scope, function (e) {\n        return is$2(e, selector);\n      }, isRoot);\n    };\n    var descendant = function (scope, selector) {\n      return one(selector, scope);\n    };\n    var closest$2 = function (scope, selector, isRoot) {\n      var is = function (element, selector) {\n        return is$2(element, selector);\n      };\n      return ClosestOrAncestor(is, ancestor$2, scope, selector, isRoot);\n    };\n\n    var promiseObj = window.Promise ? window.Promise : Promise$1;\n\n    var requestAnimationFramePromise;\n    var requestAnimationFrame = function (callback, element) {\n      var requestAnimationFrameFunc = window.requestAnimationFrame;\n      var vendors = [\n        'ms',\n        'moz',\n        'webkit'\n      ];\n      var featurefill = function (cb) {\n        window.setTimeout(cb, 0);\n      };\n      for (var i = 0; i < vendors.length && !requestAnimationFrameFunc; i++) {\n        requestAnimationFrameFunc = window[vendors[i] + 'RequestAnimationFrame'];\n      }\n      if (!requestAnimationFrameFunc) {\n        requestAnimationFrameFunc = featurefill;\n      }\n      requestAnimationFrameFunc(callback, element);\n    };\n    var wrappedSetTimeout = function (callback, time) {\n      if (typeof time !== 'number') {\n        time = 0;\n      }\n      return setTimeout(callback, time);\n    };\n    var wrappedSetInterval = function (callback, time) {\n      if (typeof time !== 'number') {\n        time = 1;\n      }\n      return setInterval(callback, time);\n    };\n    var wrappedClearTimeout = function (id) {\n      return clearTimeout(id);\n    };\n    var wrappedClearInterval = function (id) {\n      return clearInterval(id);\n    };\n    var debounce = function (callback, time) {\n      var timer;\n      var func = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        clearTimeout(timer);\n        timer = wrappedSetTimeout(function () {\n          callback.apply(this, args);\n        }, time);\n      };\n      func.stop = function () {\n        clearTimeout(timer);\n      };\n      return func;\n    };\n    var Delay = {\n      requestAnimationFrame: function (callback, element) {\n        if (requestAnimationFramePromise) {\n          requestAnimationFramePromise.then(callback);\n          return;\n        }\n        requestAnimationFramePromise = new promiseObj(function (resolve) {\n          if (!element) {\n            element = document.body;\n          }\n          requestAnimationFrame(resolve, element);\n        }).then(callback);\n      },\n      setTimeout: wrappedSetTimeout,\n      setInterval: wrappedSetInterval,\n      setEditorTimeout: function (editor, callback, time) {\n        return wrappedSetTimeout(function () {\n          if (!editor.removed) {\n            callback();\n          }\n        }, time);\n      },\n      setEditorInterval: function (editor, callback, time) {\n        var timer = wrappedSetInterval(function () {\n          if (!editor.removed) {\n            callback();\n          } else {\n            clearInterval(timer);\n          }\n        }, time);\n        return timer;\n      },\n      debounce: debounce,\n      throttle: debounce,\n      clearInterval: wrappedClearInterval,\n      clearTimeout: wrappedClearTimeout\n    };\n\n    var StyleSheetLoader = function (documentOrShadowRoot, settings) {\n      if (settings === void 0) {\n        settings = {};\n      }\n      var idCount = 0;\n      var loadedStates = {};\n      var edos = SugarElement.fromDom(documentOrShadowRoot);\n      var doc = documentOrOwner(edos);\n      var maxLoadTime = settings.maxLoadTime || 5000;\n      var _setReferrerPolicy = function (referrerPolicy) {\n        settings.referrerPolicy = referrerPolicy;\n      };\n      var addStyle = function (element) {\n        append$1(getStyleContainer(edos), element);\n      };\n      var removeStyle = function (id) {\n        var styleContainer = getStyleContainer(edos);\n        descendant(styleContainer, '#' + id).each(remove$7);\n      };\n      var getOrCreateState = function (url) {\n        return get$9(loadedStates, url).getOrThunk(function () {\n          return {\n            id: 'mce-u' + idCount++,\n            passed: [],\n            failed: [],\n            count: 0\n          };\n        });\n      };\n      var load = function (url, success, failure) {\n        var link;\n        var urlWithSuffix = Tools._addCacheSuffix(url);\n        var state = getOrCreateState(urlWithSuffix);\n        loadedStates[urlWithSuffix] = state;\n        state.count++;\n        var resolve = function (callbacks, status) {\n          var i = callbacks.length;\n          while (i--) {\n            callbacks[i]();\n          }\n          state.status = status;\n          state.passed = [];\n          state.failed = [];\n          if (link) {\n            link.onload = null;\n            link.onerror = null;\n            link = null;\n          }\n        };\n        var passed = function () {\n          return resolve(state.passed, 2);\n        };\n        var failed = function () {\n          return resolve(state.failed, 3);\n        };\n        var wait = function (testCallback, waitCallback) {\n          if (!testCallback()) {\n            if (Date.now() - startTime < maxLoadTime) {\n              Delay.setTimeout(waitCallback);\n            } else {\n              failed();\n            }\n          }\n        };\n        var waitForWebKitLinkLoaded = function () {\n          wait(function () {\n            var styleSheets = documentOrShadowRoot.styleSheets;\n            var i = styleSheets.length;\n            while (i--) {\n              var styleSheet = styleSheets[i];\n              var owner = styleSheet.ownerNode;\n              if (owner && owner.id === link.id) {\n                passed();\n                return true;\n              }\n            }\n            return false;\n          }, waitForWebKitLinkLoaded);\n        };\n        if (success) {\n          state.passed.push(success);\n        }\n        if (failure) {\n          state.failed.push(failure);\n        }\n        if (state.status === 1) {\n          return;\n        }\n        if (state.status === 2) {\n          passed();\n          return;\n        }\n        if (state.status === 3) {\n          failed();\n          return;\n        }\n        state.status = 1;\n        var linkElem = SugarElement.fromTag('link', doc.dom);\n        setAll$1(linkElem, {\n          rel: 'stylesheet',\n          type: 'text/css',\n          id: state.id\n        });\n        var startTime = Date.now();\n        if (settings.contentCssCors) {\n          set$1(linkElem, 'crossOrigin', 'anonymous');\n        }\n        if (settings.referrerPolicy) {\n          set$1(linkElem, 'referrerpolicy', settings.referrerPolicy);\n        }\n        link = linkElem.dom;\n        link.onload = waitForWebKitLinkLoaded;\n        link.onerror = failed;\n        addStyle(linkElem);\n        set$1(linkElem, 'href', urlWithSuffix);\n      };\n      var loadF = function (url) {\n        return Future.nu(function (resolve) {\n          load(url, compose(resolve, constant(Result.value(url))), compose(resolve, constant(Result.error(url))));\n        });\n      };\n      var loadAll = function (urls, success, failure) {\n        par(map$3(urls, loadF)).get(function (result) {\n          var parts = partition(result, function (r) {\n            return r.isValue();\n          });\n          if (parts.fail.length > 0) {\n            failure(parts.fail.map(unite));\n          } else {\n            success(parts.pass.map(unite));\n          }\n        });\n      };\n      var unload = function (url) {\n        var urlWithSuffix = Tools._addCacheSuffix(url);\n        get$9(loadedStates, urlWithSuffix).each(function (state) {\n          var count = --state.count;\n          if (count === 0) {\n            delete loadedStates[urlWithSuffix];\n            removeStyle(state.id);\n          }\n        });\n      };\n      var unloadAll = function (urls) {\n        each$k(urls, function (url) {\n          unload(url);\n        });\n      };\n      return {\n        load: load,\n        loadAll: loadAll,\n        unload: unload,\n        unloadAll: unloadAll,\n        _setReferrerPolicy: _setReferrerPolicy\n      };\n    };\n\n    var create$8 = function () {\n      var map = new WeakMap();\n      var forElement = function (referenceElement, settings) {\n        var root = getRootNode(referenceElement);\n        var rootDom = root.dom;\n        return Optional.from(map.get(rootDom)).getOrThunk(function () {\n          var sl = StyleSheetLoader(rootDom, settings);\n          map.set(rootDom, sl);\n          return sl;\n        });\n      };\n      return { forElement: forElement };\n    };\n    var instance = create$8();\n\n    var DomTreeWalker = function () {\n      function DomTreeWalker(startNode, rootNode) {\n        this.node = startNode;\n        this.rootNode = rootNode;\n        this.current = this.current.bind(this);\n        this.next = this.next.bind(this);\n        this.prev = this.prev.bind(this);\n        this.prev2 = this.prev2.bind(this);\n      }\n      DomTreeWalker.prototype.current = function () {\n        return this.node;\n      };\n      DomTreeWalker.prototype.next = function (shallow) {\n        this.node = this.findSibling(this.node, 'firstChild', 'nextSibling', shallow);\n        return this.node;\n      };\n      DomTreeWalker.prototype.prev = function (shallow) {\n        this.node = this.findSibling(this.node, 'lastChild', 'previousSibling', shallow);\n        return this.node;\n      };\n      DomTreeWalker.prototype.prev2 = function (shallow) {\n        this.node = this.findPreviousNode(this.node, 'lastChild', 'previousSibling', shallow);\n        return this.node;\n      };\n      DomTreeWalker.prototype.findSibling = function (node, startName, siblingName, shallow) {\n        var sibling, parent;\n        if (node) {\n          if (!shallow && node[startName]) {\n            return node[startName];\n          }\n          if (node !== this.rootNode) {\n            sibling = node[siblingName];\n            if (sibling) {\n              return sibling;\n            }\n            for (parent = node.parentNode; parent && parent !== this.rootNode; parent = parent.parentNode) {\n              sibling = parent[siblingName];\n              if (sibling) {\n                return sibling;\n              }\n            }\n          }\n        }\n      };\n      DomTreeWalker.prototype.findPreviousNode = function (node, startName, siblingName, shallow) {\n        var sibling, parent, child;\n        if (node) {\n          sibling = node[siblingName];\n          if (this.rootNode && sibling === this.rootNode) {\n            return;\n          }\n          if (sibling) {\n            if (!shallow) {\n              for (child = sibling[startName]; child; child = child[startName]) {\n                if (!child[startName]) {\n                  return child;\n                }\n              }\n            }\n            return sibling;\n          }\n          parent = node.parentNode;\n          if (parent && parent !== this.rootNode) {\n            return parent;\n          }\n        }\n      };\n      return DomTreeWalker;\n    }();\n\n    var blocks = [\n      'article',\n      'aside',\n      'details',\n      'div',\n      'dt',\n      'figcaption',\n      'footer',\n      'form',\n      'fieldset',\n      'header',\n      'hgroup',\n      'html',\n      'main',\n      'nav',\n      'section',\n      'summary',\n      'body',\n      'p',\n      'dl',\n      'multicol',\n      'dd',\n      'figure',\n      'address',\n      'center',\n      'blockquote',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'listing',\n      'xmp',\n      'pre',\n      'plaintext',\n      'menu',\n      'dir',\n      'ul',\n      'ol',\n      'li',\n      'hr',\n      'table',\n      'tbody',\n      'thead',\n      'tfoot',\n      'th',\n      'tr',\n      'td',\n      'caption'\n    ];\n    var tableCells = [\n      'td',\n      'th'\n    ];\n    var tableSections = [\n      'thead',\n      'tbody',\n      'tfoot'\n    ];\n    var textBlocks = [\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'p',\n      'div',\n      'address',\n      'pre',\n      'form',\n      'blockquote',\n      'center',\n      'dir',\n      'fieldset',\n      'header',\n      'footer',\n      'article',\n      'section',\n      'hgroup',\n      'aside',\n      'nav',\n      'figure'\n    ];\n    var headings = [\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6'\n    ];\n    var listItems$1 = [\n      'li',\n      'dd',\n      'dt'\n    ];\n    var lists = [\n      'ul',\n      'ol',\n      'dl'\n    ];\n    var wsElements = [\n      'pre',\n      'script',\n      'textarea',\n      'style'\n    ];\n    var lazyLookup = function (items) {\n      var lookup;\n      return function (node) {\n        lookup = lookup ? lookup : mapToObject(items, always);\n        return has$2(lookup, name(node));\n      };\n    };\n    var isHeading = lazyLookup(headings);\n    var isBlock$2 = lazyLookup(blocks);\n    var isTable$2 = function (node) {\n      return name(node) === 'table';\n    };\n    var isInline$1 = function (node) {\n      return isElement$6(node) && !isBlock$2(node);\n    };\n    var isBr$4 = function (node) {\n      return isElement$6(node) && name(node) === 'br';\n    };\n    var isTextBlock$2 = lazyLookup(textBlocks);\n    var isList = lazyLookup(lists);\n    var isListItem = lazyLookup(listItems$1);\n    var isTableSection = lazyLookup(tableSections);\n    var isTableCell$4 = lazyLookup(tableCells);\n    var isWsPreserveElement = lazyLookup(wsElements);\n\n    var ancestor$1 = function (scope, selector, isRoot) {\n      return ancestor$2(scope, selector, isRoot).isSome();\n    };\n\n    var zeroWidth = '\\uFEFF';\n    var nbsp = '\\xA0';\n    var isZwsp$1 = function (char) {\n      return char === zeroWidth;\n    };\n    var removeZwsp = function (s) {\n      return s.replace(/\\uFEFF/g, '');\n    };\n\n    var ZWSP$1 = zeroWidth;\n    var isZwsp = isZwsp$1;\n    var trim$2 = removeZwsp;\n\n    var isElement$4 = isElement$5;\n    var isText$6 = isText$7;\n    var isCaretContainerBlock$1 = function (node) {\n      if (isText$6(node)) {\n        node = node.parentNode;\n      }\n      return isElement$4(node) && node.hasAttribute('data-mce-caret');\n    };\n    var isCaretContainerInline = function (node) {\n      return isText$6(node) && isZwsp(node.data);\n    };\n    var isCaretContainer$2 = function (node) {\n      return isCaretContainerBlock$1(node) || isCaretContainerInline(node);\n    };\n    var hasContent = function (node) {\n      return node.firstChild !== node.lastChild || !isBr$5(node.firstChild);\n    };\n    var insertInline$1 = function (node, before) {\n      var doc = node.ownerDocument;\n      var textNode = doc.createTextNode(ZWSP$1);\n      var parentNode = node.parentNode;\n      if (!before) {\n        var sibling = node.nextSibling;\n        if (isText$6(sibling)) {\n          if (isCaretContainer$2(sibling)) {\n            return sibling;\n          }\n          if (startsWithCaretContainer$1(sibling)) {\n            sibling.splitText(1);\n            return sibling;\n          }\n        }\n        if (node.nextSibling) {\n          parentNode.insertBefore(textNode, node.nextSibling);\n        } else {\n          parentNode.appendChild(textNode);\n        }\n      } else {\n        var sibling = node.previousSibling;\n        if (isText$6(sibling)) {\n          if (isCaretContainer$2(sibling)) {\n            return sibling;\n          }\n          if (endsWithCaretContainer$1(sibling)) {\n            return sibling.splitText(sibling.data.length - 1);\n          }\n        }\n        parentNode.insertBefore(textNode, node);\n      }\n      return textNode;\n    };\n    var isBeforeInline = function (pos) {\n      var container = pos.container();\n      if (!isText$7(container)) {\n        return false;\n      }\n      return container.data.charAt(pos.offset()) === ZWSP$1 || pos.isAtStart() && isCaretContainerInline(container.previousSibling);\n    };\n    var isAfterInline = function (pos) {\n      var container = pos.container();\n      if (!isText$7(container)) {\n        return false;\n      }\n      return container.data.charAt(pos.offset() - 1) === ZWSP$1 || pos.isAtEnd() && isCaretContainerInline(container.nextSibling);\n    };\n    var createBogusBr = function () {\n      var br = document.createElement('br');\n      br.setAttribute('data-mce-bogus', '1');\n      return br;\n    };\n    var insertBlock$1 = function (blockName, node, before) {\n      var doc = node.ownerDocument;\n      var blockNode = doc.createElement(blockName);\n      blockNode.setAttribute('data-mce-caret', before ? 'before' : 'after');\n      blockNode.setAttribute('data-mce-bogus', 'all');\n      blockNode.appendChild(createBogusBr());\n      var parentNode = node.parentNode;\n      if (!before) {\n        if (node.nextSibling) {\n          parentNode.insertBefore(blockNode, node.nextSibling);\n        } else {\n          parentNode.appendChild(blockNode);\n        }\n      } else {\n        parentNode.insertBefore(blockNode, node);\n      }\n      return blockNode;\n    };\n    var startsWithCaretContainer$1 = function (node) {\n      return isText$6(node) && node.data[0] === ZWSP$1;\n    };\n    var endsWithCaretContainer$1 = function (node) {\n      return isText$6(node) && node.data[node.data.length - 1] === ZWSP$1;\n    };\n    var trimBogusBr = function (elm) {\n      var brs = elm.getElementsByTagName('br');\n      var lastBr = brs[brs.length - 1];\n      if (isBogus$2(lastBr)) {\n        lastBr.parentNode.removeChild(lastBr);\n      }\n    };\n    var showCaretContainerBlock = function (caretContainer) {\n      if (caretContainer && caretContainer.hasAttribute('data-mce-caret')) {\n        trimBogusBr(caretContainer);\n        caretContainer.removeAttribute('data-mce-caret');\n        caretContainer.removeAttribute('data-mce-bogus');\n        caretContainer.removeAttribute('style');\n        caretContainer.removeAttribute('_moz_abspos');\n        return caretContainer;\n      }\n      return null;\n    };\n    var isRangeInCaretContainerBlock = function (range) {\n      return isCaretContainerBlock$1(range.startContainer);\n    };\n\n    var isContentEditableTrue$3 = isContentEditableTrue$4;\n    var isContentEditableFalse$a = isContentEditableFalse$b;\n    var isBr$3 = isBr$5;\n    var isText$5 = isText$7;\n    var isInvalidTextElement = matchNodeNames([\n      'script',\n      'style',\n      'textarea'\n    ]);\n    var isAtomicInline = matchNodeNames([\n      'img',\n      'input',\n      'textarea',\n      'hr',\n      'iframe',\n      'video',\n      'audio',\n      'object',\n      'embed'\n    ]);\n    var isTable$1 = matchNodeNames(['table']);\n    var isCaretContainer$1 = isCaretContainer$2;\n    var isCaretCandidate$3 = function (node) {\n      if (isCaretContainer$1(node)) {\n        return false;\n      }\n      if (isText$5(node)) {\n        return !isInvalidTextElement(node.parentNode);\n      }\n      return isAtomicInline(node) || isBr$3(node) || isTable$1(node) || isNonUiContentEditableFalse(node);\n    };\n    var isUnselectable = function (node) {\n      return isElement$5(node) && node.getAttribute('unselectable') === 'true';\n    };\n    var isNonUiContentEditableFalse = function (node) {\n      return isUnselectable(node) === false && isContentEditableFalse$a(node);\n    };\n    var isInEditable = function (node, root) {\n      for (node = node.parentNode; node && node !== root; node = node.parentNode) {\n        if (isNonUiContentEditableFalse(node)) {\n          return false;\n        }\n        if (isContentEditableTrue$3(node)) {\n          return true;\n        }\n      }\n      return true;\n    };\n    var isAtomicContentEditableFalse = function (node) {\n      if (!isNonUiContentEditableFalse(node)) {\n        return false;\n      }\n      return foldl(from(node.getElementsByTagName('*')), function (result, elm) {\n        return result || isContentEditableTrue$3(elm);\n      }, false) !== true;\n    };\n    var isAtomic$1 = function (node) {\n      return isAtomicInline(node) || isAtomicContentEditableFalse(node);\n    };\n    var isEditableCaretCandidate$1 = function (node, root) {\n      return isCaretCandidate$3(node) && isInEditable(node, root);\n    };\n\n    var whiteSpaceRegExp$1 = /^[ \\t\\r\\n]*$/;\n    var isWhitespaceText = function (text) {\n      return whiteSpaceRegExp$1.test(text);\n    };\n\n    var hasWhitespacePreserveParent = function (node, rootNode) {\n      var rootElement = SugarElement.fromDom(rootNode);\n      var startNode = SugarElement.fromDom(node);\n      return ancestor$1(startNode, 'pre,code', curry(eq, rootElement));\n    };\n    var isWhitespace = function (node, rootNode) {\n      return isText$7(node) && isWhitespaceText(node.data) && hasWhitespacePreserveParent(node, rootNode) === false;\n    };\n    var isNamedAnchor = function (node) {\n      return isElement$5(node) && node.nodeName === 'A' && !node.hasAttribute('href') && (node.hasAttribute('name') || node.hasAttribute('id'));\n    };\n    var isContent$1 = function (node, rootNode) {\n      return isCaretCandidate$3(node) && isWhitespace(node, rootNode) === false || isNamedAnchor(node) || isBookmark(node);\n    };\n    var isBookmark = hasAttribute('data-mce-bookmark');\n    var isBogus$1 = hasAttribute('data-mce-bogus');\n    var isBogusAll = hasAttributeValue('data-mce-bogus', 'all');\n    var isEmptyNode = function (targetNode, skipBogus) {\n      var brCount = 0;\n      if (isContent$1(targetNode, targetNode)) {\n        return false;\n      } else {\n        var node = targetNode.firstChild;\n        if (!node) {\n          return true;\n        }\n        var walker = new DomTreeWalker(node, targetNode);\n        do {\n          if (skipBogus) {\n            if (isBogusAll(node)) {\n              node = walker.next(true);\n              continue;\n            }\n            if (isBogus$1(node)) {\n              node = walker.next();\n              continue;\n            }\n          }\n          if (isBr$5(node)) {\n            brCount++;\n            node = walker.next();\n            continue;\n          }\n          if (isContent$1(node, targetNode)) {\n            return false;\n          }\n          node = walker.next();\n        } while (node);\n        return brCount <= 1;\n      }\n    };\n    var isEmpty$2 = function (elm, skipBogus) {\n      if (skipBogus === void 0) {\n        skipBogus = true;\n      }\n      return isEmptyNode(elm.dom, skipBogus);\n    };\n\n    var isSpan = function (node) {\n      return node.nodeName.toLowerCase() === 'span';\n    };\n    var isInlineContent = function (node, root) {\n      return isNonNullable(node) && (isContent$1(node, root) || isInline$1(SugarElement.fromDom(node)));\n    };\n    var surroundedByInlineContent = function (node, root) {\n      var prev = new DomTreeWalker(node, root).prev(false);\n      var next = new DomTreeWalker(node, root).next(false);\n      var prevIsInline = isUndefined(prev) || isInlineContent(prev, root);\n      var nextIsInline = isUndefined(next) || isInlineContent(next, root);\n      return prevIsInline && nextIsInline;\n    };\n    var isBookmarkNode$2 = function (node) {\n      return isSpan(node) && node.getAttribute('data-mce-type') === 'bookmark';\n    };\n    var isKeepTextNode = function (node, root) {\n      return isText$7(node) && node.data.length > 0 && surroundedByInlineContent(node, root);\n    };\n    var isKeepElement = function (node) {\n      return isElement$5(node) ? node.childNodes.length > 0 : false;\n    };\n    var isDocument = function (node) {\n      return isDocumentFragment(node) || isDocument$1(node);\n    };\n    var trimNode = function (dom, node, root) {\n      var rootNode = root || node;\n      if (isElement$5(node) && isBookmarkNode$2(node)) {\n        return node;\n      }\n      var children = node.childNodes;\n      for (var i = children.length - 1; i >= 0; i--) {\n        trimNode(dom, children[i], rootNode);\n      }\n      if (isElement$5(node)) {\n        var currentChildren = node.childNodes;\n        if (currentChildren.length === 1 && isBookmarkNode$2(currentChildren[0])) {\n          node.parentNode.insertBefore(currentChildren[0], node);\n        }\n      }\n      if (!isDocument(node) && !isContent$1(node, rootNode) && !isKeepElement(node) && !isKeepTextNode(node, rootNode)) {\n        dom.remove(node);\n      }\n      return node;\n    };\n\n    var makeMap$3 = Tools.makeMap;\n    var attrsCharsRegExp = /[&<>\\\"\\u0060\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n    var textCharsRegExp = /[<>&\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n    var rawCharsRegExp = /[<>&\\\"\\']/g;\n    var entityRegExp = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi;\n    var asciiMap = {\n      128: '\\u20AC',\n      130: '\\u201A',\n      131: '\\u0192',\n      132: '\\u201E',\n      133: '\\u2026',\n      134: '\\u2020',\n      135: '\\u2021',\n      136: '\\u02c6',\n      137: '\\u2030',\n      138: '\\u0160',\n      139: '\\u2039',\n      140: '\\u0152',\n      142: '\\u017d',\n      145: '\\u2018',\n      146: '\\u2019',\n      147: '\\u201C',\n      148: '\\u201D',\n      149: '\\u2022',\n      150: '\\u2013',\n      151: '\\u2014',\n      152: '\\u02DC',\n      153: '\\u2122',\n      154: '\\u0161',\n      155: '\\u203A',\n      156: '\\u0153',\n      158: '\\u017e',\n      159: '\\u0178'\n    };\n    var baseEntities = {\n      '\"': '&quot;',\n      '\\'': '&#39;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '&': '&amp;',\n      '`': '&#96;'\n    };\n    var reverseEntities = {\n      '&lt;': '<',\n      '&gt;': '>',\n      '&amp;': '&',\n      '&quot;': '\"',\n      '&apos;': '\\''\n    };\n    var nativeDecode = function (text) {\n      var elm = SugarElement.fromTag('div').dom;\n      elm.innerHTML = text;\n      return elm.textContent || elm.innerText || text;\n    };\n    var buildEntitiesLookup = function (items, radix) {\n      var i, chr, entity;\n      var lookup = {};\n      if (items) {\n        items = items.split(',');\n        radix = radix || 10;\n        for (i = 0; i < items.length; i += 2) {\n          chr = String.fromCharCode(parseInt(items[i], radix));\n          if (!baseEntities[chr]) {\n            entity = '&' + items[i + 1] + ';';\n            lookup[chr] = entity;\n            lookup[entity] = chr;\n          }\n        }\n        return lookup;\n      }\n    };\n    var namedEntities = buildEntitiesLookup('50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,' + '5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,' + '5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,' + '5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,' + '68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,' + '6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,' + '6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,' + '75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,' + '7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,' + '7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,' + 'sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,' + 'st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,' + 't9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,' + 'tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,' + 'u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,' + '81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,' + '8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,' + '8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,' + '8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,' + '8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,' + 'nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,' + 'rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,' + 'Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,' + '80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,' + '811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro', 32);\n    var encodeRaw = function (text, attr) {\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n        return baseEntities[chr] || chr;\n      });\n    };\n    var encodeAllRaw = function (text) {\n      return ('' + text).replace(rawCharsRegExp, function (chr) {\n        return baseEntities[chr] || chr;\n      });\n    };\n    var encodeNumeric = function (text, attr) {\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n        if (chr.length > 1) {\n          return '&#' + ((chr.charCodeAt(0) - 55296) * 1024 + (chr.charCodeAt(1) - 56320) + 65536) + ';';\n        }\n        return baseEntities[chr] || '&#' + chr.charCodeAt(0) + ';';\n      });\n    };\n    var encodeNamed = function (text, attr, entities) {\n      entities = entities || namedEntities;\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n        return baseEntities[chr] || entities[chr] || chr;\n      });\n    };\n    var getEncodeFunc = function (name, entities) {\n      var entitiesMap = buildEntitiesLookup(entities) || namedEntities;\n      var encodeNamedAndNumeric = function (text, attr) {\n        return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n          if (baseEntities[chr] !== undefined) {\n            return baseEntities[chr];\n          }\n          if (entitiesMap[chr] !== undefined) {\n            return entitiesMap[chr];\n          }\n          if (chr.length > 1) {\n            return '&#' + ((chr.charCodeAt(0) - 55296) * 1024 + (chr.charCodeAt(1) - 56320) + 65536) + ';';\n          }\n          return '&#' + chr.charCodeAt(0) + ';';\n        });\n      };\n      var encodeCustomNamed = function (text, attr) {\n        return encodeNamed(text, attr, entitiesMap);\n      };\n      var nameMap = makeMap$3(name.replace(/\\+/g, ','));\n      if (nameMap.named && nameMap.numeric) {\n        return encodeNamedAndNumeric;\n      }\n      if (nameMap.named) {\n        if (entities) {\n          return encodeCustomNamed;\n        }\n        return encodeNamed;\n      }\n      if (nameMap.numeric) {\n        return encodeNumeric;\n      }\n      return encodeRaw;\n    };\n    var decode = function (text) {\n      return text.replace(entityRegExp, function (all, numeric) {\n        if (numeric) {\n          if (numeric.charAt(0).toLowerCase() === 'x') {\n            numeric = parseInt(numeric.substr(1), 16);\n          } else {\n            numeric = parseInt(numeric, 10);\n          }\n          if (numeric > 65535) {\n            numeric -= 65536;\n            return String.fromCharCode(55296 + (numeric >> 10), 56320 + (numeric & 1023));\n          }\n          return asciiMap[numeric] || String.fromCharCode(numeric);\n        }\n        return reverseEntities[all] || namedEntities[all] || nativeDecode(all);\n      });\n    };\n    var Entities = {\n      encodeRaw: encodeRaw,\n      encodeAllRaw: encodeAllRaw,\n      encodeNumeric: encodeNumeric,\n      encodeNamed: encodeNamed,\n      getEncodeFunc: getEncodeFunc,\n      decode: decode\n    };\n\n    var mapCache = {}, dummyObj = {};\n    var makeMap$2 = Tools.makeMap, each$h = Tools.each, extend$5 = Tools.extend, explode$3 = Tools.explode, inArray$2 = Tools.inArray;\n    var split$1 = function (items, delim) {\n      items = Tools.trim(items);\n      return items ? items.split(delim || ' ') : [];\n    };\n    var compileSchema = function (type) {\n      var schema = {};\n      var globalAttributes, blockContent;\n      var phrasingContent, flowContent, html4BlockContent, html4PhrasingContent;\n      var add = function (name, attributes, children) {\n        var ni, attributesOrder, element;\n        var arrayToMap = function (array, obj) {\n          var map = {};\n          var i, l;\n          for (i = 0, l = array.length; i < l; i++) {\n            map[array[i]] = obj || {};\n          }\n          return map;\n        };\n        children = children || [];\n        attributes = attributes || '';\n        if (typeof children === 'string') {\n          children = split$1(children);\n        }\n        var names = split$1(name);\n        ni = names.length;\n        while (ni--) {\n          attributesOrder = split$1([\n            globalAttributes,\n            attributes\n          ].join(' '));\n          element = {\n            attributes: arrayToMap(attributesOrder),\n            attributesOrder: attributesOrder,\n            children: arrayToMap(children, dummyObj)\n          };\n          schema[names[ni]] = element;\n        }\n      };\n      var addAttrs = function (name, attributes) {\n        var ni, schemaItem, i, l;\n        var names = split$1(name);\n        ni = names.length;\n        var attrs = split$1(attributes);\n        while (ni--) {\n          schemaItem = schema[names[ni]];\n          for (i = 0, l = attrs.length; i < l; i++) {\n            schemaItem.attributes[attrs[i]] = {};\n            schemaItem.attributesOrder.push(attrs[i]);\n          }\n        }\n      };\n      if (mapCache[type]) {\n        return mapCache[type];\n      }\n      globalAttributes = 'id accesskey class dir lang style tabindex title role';\n      blockContent = 'address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul';\n      phrasingContent = 'a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd ' + 'label map noscript object q s samp script select small span strong sub sup ' + 'textarea u var #text #comment';\n      if (type !== 'html4') {\n        globalAttributes += ' contenteditable contextmenu draggable dropzone ' + 'hidden spellcheck translate';\n        blockContent += ' article aside details dialog figure main header footer hgroup section nav';\n        phrasingContent += ' audio canvas command datalist mark meter output picture ' + 'progress time wbr video ruby bdi keygen';\n      }\n      if (type !== 'html5-strict') {\n        globalAttributes += ' xml:lang';\n        html4PhrasingContent = 'acronym applet basefont big font strike tt';\n        phrasingContent = [\n          phrasingContent,\n          html4PhrasingContent\n        ].join(' ');\n        each$h(split$1(html4PhrasingContent), function (name) {\n          add(name, '', phrasingContent);\n        });\n        html4BlockContent = 'center dir isindex noframes';\n        blockContent = [\n          blockContent,\n          html4BlockContent\n        ].join(' ');\n        flowContent = [\n          blockContent,\n          phrasingContent\n        ].join(' ');\n        each$h(split$1(html4BlockContent), function (name) {\n          add(name, '', flowContent);\n        });\n      }\n      flowContent = flowContent || [\n        blockContent,\n        phrasingContent\n      ].join(' ');\n      add('html', 'manifest', 'head body');\n      add('head', '', 'base command link meta noscript script style title');\n      add('title hr noscript br');\n      add('base', 'href target');\n      add('link', 'href rel media hreflang type sizes hreflang');\n      add('meta', 'name http-equiv content charset');\n      add('style', 'media type scoped');\n      add('script', 'src async defer type charset');\n      add('body', 'onafterprint onbeforeprint onbeforeunload onblur onerror onfocus ' + 'onhashchange onload onmessage onoffline ononline onpagehide onpageshow ' + 'onpopstate onresize onscroll onstorage onunload', flowContent);\n      add('address dt dd div caption', '', flowContent);\n      add('h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn', '', phrasingContent);\n      add('blockquote', 'cite', flowContent);\n      add('ol', 'reversed start type', 'li');\n      add('ul', '', 'li');\n      add('li', 'value', flowContent);\n      add('dl', '', 'dt dd');\n      add('a', 'href target rel media hreflang type', phrasingContent);\n      add('q', 'cite', phrasingContent);\n      add('ins del', 'cite datetime', flowContent);\n      add('img', 'src sizes srcset alt usemap ismap width height');\n      add('iframe', 'src name width height', flowContent);\n      add('embed', 'src type width height');\n      add('object', 'data type typemustmatch name usemap form width height', [\n        flowContent,\n        'param'\n      ].join(' '));\n      add('param', 'name value');\n      add('map', 'name', [\n        flowContent,\n        'area'\n      ].join(' '));\n      add('area', 'alt coords shape href target rel media hreflang type');\n      add('table', 'border', 'caption colgroup thead tfoot tbody tr' + (type === 'html4' ? ' col' : ''));\n      add('colgroup', 'span', 'col');\n      add('col', 'span');\n      add('tbody thead tfoot', '', 'tr');\n      add('tr', '', 'td th');\n      add('td', 'colspan rowspan headers', flowContent);\n      add('th', 'colspan rowspan headers scope abbr', flowContent);\n      add('form', 'accept-charset action autocomplete enctype method name novalidate target', flowContent);\n      add('fieldset', 'disabled form name', [\n        flowContent,\n        'legend'\n      ].join(' '));\n      add('label', 'form for', phrasingContent);\n      add('input', 'accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate ' + 'formtarget height list max maxlength min multiple name pattern readonly required size src step type value width');\n      add('button', 'disabled form formaction formenctype formmethod formnovalidate formtarget name type value', type === 'html4' ? flowContent : phrasingContent);\n      add('select', 'disabled form multiple name required size', 'option optgroup');\n      add('optgroup', 'disabled label', 'option');\n      add('option', 'disabled label selected value');\n      add('textarea', 'cols dirname disabled form maxlength name readonly required rows wrap');\n      add('menu', 'type label', [\n        flowContent,\n        'li'\n      ].join(' '));\n      add('noscript', '', flowContent);\n      if (type !== 'html4') {\n        add('wbr');\n        add('ruby', '', [\n          phrasingContent,\n          'rt rp'\n        ].join(' '));\n        add('figcaption', '', flowContent);\n        add('mark rt rp summary bdi', '', phrasingContent);\n        add('canvas', 'width height', flowContent);\n        add('video', 'src crossorigin poster preload autoplay mediagroup loop ' + 'muted controls width height buffered', [\n          flowContent,\n          'track source'\n        ].join(' '));\n        add('audio', 'src crossorigin preload autoplay mediagroup loop muted controls ' + 'buffered volume', [\n          flowContent,\n          'track source'\n        ].join(' '));\n        add('picture', '', 'img source');\n        add('source', 'src srcset type media sizes');\n        add('track', 'kind src srclang label default');\n        add('datalist', '', [\n          phrasingContent,\n          'option'\n        ].join(' '));\n        add('article section nav aside main header footer', '', flowContent);\n        add('hgroup', '', 'h1 h2 h3 h4 h5 h6');\n        add('figure', '', [\n          flowContent,\n          'figcaption'\n        ].join(' '));\n        add('time', 'datetime', phrasingContent);\n        add('dialog', 'open', flowContent);\n        add('command', 'type label icon disabled checked radiogroup command');\n        add('output', 'for form name', phrasingContent);\n        add('progress', 'value max', phrasingContent);\n        add('meter', 'value min max low high optimum', phrasingContent);\n        add('details', 'open', [\n          flowContent,\n          'summary'\n        ].join(' '));\n        add('keygen', 'autofocus challenge disabled form keytype name');\n      }\n      if (type !== 'html5-strict') {\n        addAttrs('script', 'language xml:space');\n        addAttrs('style', 'xml:space');\n        addAttrs('object', 'declare classid code codebase codetype archive standby align border hspace vspace');\n        addAttrs('embed', 'align name hspace vspace');\n        addAttrs('param', 'valuetype type');\n        addAttrs('a', 'charset name rev shape coords');\n        addAttrs('br', 'clear');\n        addAttrs('applet', 'codebase archive code object alt name width height align hspace vspace');\n        addAttrs('img', 'name longdesc align border hspace vspace');\n        addAttrs('iframe', 'longdesc frameborder marginwidth marginheight scrolling align');\n        addAttrs('font basefont', 'size color face');\n        addAttrs('input', 'usemap align');\n        addAttrs('select');\n        addAttrs('textarea');\n        addAttrs('h1 h2 h3 h4 h5 h6 div p legend caption', 'align');\n        addAttrs('ul', 'type compact');\n        addAttrs('li', 'type');\n        addAttrs('ol dl menu dir', 'compact');\n        addAttrs('pre', 'width xml:space');\n        addAttrs('hr', 'align noshade size width');\n        addAttrs('isindex', 'prompt');\n        addAttrs('table', 'summary width frame rules cellspacing cellpadding align bgcolor');\n        addAttrs('col', 'width align char charoff valign');\n        addAttrs('colgroup', 'width align char charoff valign');\n        addAttrs('thead', 'align char charoff valign');\n        addAttrs('tr', 'align char charoff valign bgcolor');\n        addAttrs('th', 'axis align char charoff valign nowrap bgcolor width height');\n        addAttrs('form', 'accept');\n        addAttrs('td', 'abbr axis scope align char charoff valign nowrap bgcolor width height');\n        addAttrs('tfoot', 'align char charoff valign');\n        addAttrs('tbody', 'align char charoff valign');\n        addAttrs('area', 'nohref');\n        addAttrs('body', 'background bgcolor text link vlink alink');\n      }\n      if (type !== 'html4') {\n        addAttrs('input button select textarea', 'autofocus');\n        addAttrs('input textarea', 'placeholder');\n        addAttrs('a', 'download');\n        addAttrs('link script img', 'crossorigin');\n        addAttrs('img', 'loading');\n        addAttrs('iframe', 'sandbox seamless allowfullscreen loading');\n      }\n      each$h(split$1('a form meter progress dfn'), function (name) {\n        if (schema[name]) {\n          delete schema[name].children[name];\n        }\n      });\n      delete schema.caption.children.table;\n      delete schema.script;\n      mapCache[type] = schema;\n      return schema;\n    };\n    var compileElementMap = function (value, mode) {\n      var styles;\n      if (value) {\n        styles = {};\n        if (typeof value === 'string') {\n          value = { '*': value };\n        }\n        each$h(value, function (value, key) {\n          styles[key] = styles[key.toUpperCase()] = mode === 'map' ? makeMap$2(value, /[, ]/) : explode$3(value, /[, ]/);\n        });\n      }\n      return styles;\n    };\n    var Schema = function (settings) {\n      var elements = {};\n      var children = {};\n      var patternElements = [];\n      var customElementsMap = {}, specialElements = {};\n      var createLookupTable = function (option, defaultValue, extendWith) {\n        var value = settings[option];\n        if (!value) {\n          value = mapCache[option];\n          if (!value) {\n            value = makeMap$2(defaultValue, ' ', makeMap$2(defaultValue.toUpperCase(), ' '));\n            value = extend$5(value, extendWith);\n            mapCache[option] = value;\n          }\n        } else {\n          value = makeMap$2(value, /[, ]/, makeMap$2(value.toUpperCase(), /[, ]/));\n        }\n        return value;\n      };\n      settings = settings || {};\n      var schemaItems = compileSchema(settings.schema);\n      if (settings.verify_html === false) {\n        settings.valid_elements = '*[*]';\n      }\n      var validStyles = compileElementMap(settings.valid_styles);\n      var invalidStyles = compileElementMap(settings.invalid_styles, 'map');\n      var validClasses = compileElementMap(settings.valid_classes, 'map');\n      var whiteSpaceElementsMap = createLookupTable('whitespace_elements', 'pre script noscript style textarea video audio iframe object code');\n      var selfClosingElementsMap = createLookupTable('self_closing_elements', 'colgroup dd dt li option p td tfoot th thead tr');\n      var shortEndedElementsMap = createLookupTable('short_ended_elements', 'area base basefont br col frame hr img input isindex link ' + 'meta param embed source wbr track');\n      var boolAttrMap = createLookupTable('boolean_attributes', 'checked compact declare defer disabled ismap multiple nohref noresize ' + 'noshade nowrap readonly selected autoplay loop controls');\n      var nonEmptyOrMoveCaretBeforeOnEnter = 'td th iframe video audio object script code';\n      var nonEmptyElementsMap = createLookupTable('non_empty_elements', nonEmptyOrMoveCaretBeforeOnEnter + ' pre', shortEndedElementsMap);\n      var moveCaretBeforeOnEnterElementsMap = createLookupTable('move_caret_before_on_enter_elements', nonEmptyOrMoveCaretBeforeOnEnter + ' table', shortEndedElementsMap);\n      var textBlockElementsMap = createLookupTable('text_block_elements', 'h1 h2 h3 h4 h5 h6 p div address pre form ' + 'blockquote center dir fieldset header footer article section hgroup aside main nav figure');\n      var blockElementsMap = createLookupTable('block_elements', 'hr table tbody thead tfoot ' + 'th tr td li ol ul caption dl dt dd noscript menu isindex option ' + 'datalist select optgroup figcaption details summary', textBlockElementsMap);\n      var textInlineElementsMap = createLookupTable('text_inline_elements', 'span strong b em i font strike u var cite ' + 'dfn code mark q sup sub samp');\n      each$h((settings.special || 'script noscript iframe noframes noembed title style textarea xmp').split(' '), function (name) {\n        specialElements[name] = new RegExp('</' + name + '[^>]*>', 'gi');\n      });\n      var patternToRegExp = function (str) {\n        return new RegExp('^' + str.replace(/([?+*])/g, '.$1') + '$');\n      };\n      var addValidElements = function (validElements) {\n        var ei, el, ai, al, matches, element, attr, attrData, elementName, attrName, attrType, attributes, attributesOrder, prefix, outputName, globalAttributes, globalAttributesOrder, value;\n        var elementRuleRegExp = /^([#+\\-])?([^\\[!\\/]+)(?:\\/([^\\[!]+))?(?:(!?)\\[([^\\]]+)])?$/, attrRuleRegExp = /^([!\\-])?(\\w+[\\\\:]:\\w+|[^=:<]+)?(?:([=:<])(.*))?$/, hasPatternsRegExp = /[*?+]/;\n        if (validElements) {\n          var validElementsArr = split$1(validElements, ',');\n          if (elements['@']) {\n            globalAttributes = elements['@'].attributes;\n            globalAttributesOrder = elements['@'].attributesOrder;\n          }\n          for (ei = 0, el = validElementsArr.length; ei < el; ei++) {\n            matches = elementRuleRegExp.exec(validElementsArr[ei]);\n            if (matches) {\n              prefix = matches[1];\n              elementName = matches[2];\n              outputName = matches[3];\n              attrData = matches[5];\n              attributes = {};\n              attributesOrder = [];\n              element = {\n                attributes: attributes,\n                attributesOrder: attributesOrder\n              };\n              if (prefix === '#') {\n                element.paddEmpty = true;\n              }\n              if (prefix === '-') {\n                element.removeEmpty = true;\n              }\n              if (matches[4] === '!') {\n                element.removeEmptyAttrs = true;\n              }\n              if (globalAttributes) {\n                each$j(globalAttributes, function (value, key) {\n                  attributes[key] = value;\n                });\n                attributesOrder.push.apply(attributesOrder, globalAttributesOrder);\n              }\n              if (attrData) {\n                attrData = split$1(attrData, '|');\n                for (ai = 0, al = attrData.length; ai < al; ai++) {\n                  matches = attrRuleRegExp.exec(attrData[ai]);\n                  if (matches) {\n                    attr = {};\n                    attrType = matches[1];\n                    attrName = matches[2].replace(/[\\\\:]:/g, ':');\n                    prefix = matches[3];\n                    value = matches[4];\n                    if (attrType === '!') {\n                      element.attributesRequired = element.attributesRequired || [];\n                      element.attributesRequired.push(attrName);\n                      attr.required = true;\n                    }\n                    if (attrType === '-') {\n                      delete attributes[attrName];\n                      attributesOrder.splice(inArray$2(attributesOrder, attrName), 1);\n                      continue;\n                    }\n                    if (prefix) {\n                      if (prefix === '=') {\n                        element.attributesDefault = element.attributesDefault || [];\n                        element.attributesDefault.push({\n                          name: attrName,\n                          value: value\n                        });\n                        attr.defaultValue = value;\n                      }\n                      if (prefix === ':') {\n                        element.attributesForced = element.attributesForced || [];\n                        element.attributesForced.push({\n                          name: attrName,\n                          value: value\n                        });\n                        attr.forcedValue = value;\n                      }\n                      if (prefix === '<') {\n                        attr.validValues = makeMap$2(value, '?');\n                      }\n                    }\n                    if (hasPatternsRegExp.test(attrName)) {\n                      element.attributePatterns = element.attributePatterns || [];\n                      attr.pattern = patternToRegExp(attrName);\n                      element.attributePatterns.push(attr);\n                    } else {\n                      if (!attributes[attrName]) {\n                        attributesOrder.push(attrName);\n                      }\n                      attributes[attrName] = attr;\n                    }\n                  }\n                }\n              }\n              if (!globalAttributes && elementName === '@') {\n                globalAttributes = attributes;\n                globalAttributesOrder = attributesOrder;\n              }\n              if (outputName) {\n                element.outputName = elementName;\n                elements[outputName] = element;\n              }\n              if (hasPatternsRegExp.test(elementName)) {\n                element.pattern = patternToRegExp(elementName);\n                patternElements.push(element);\n              } else {\n                elements[elementName] = element;\n              }\n            }\n          }\n        }\n      };\n      var setValidElements = function (validElements) {\n        elements = {};\n        patternElements = [];\n        addValidElements(validElements);\n        each$h(schemaItems, function (element, name) {\n          children[name] = element.children;\n        });\n      };\n      var addCustomElements = function (customElements) {\n        var customElementRegExp = /^(~)?(.+)$/;\n        if (customElements) {\n          mapCache.text_block_elements = mapCache.block_elements = null;\n          each$h(split$1(customElements, ','), function (rule) {\n            var matches = customElementRegExp.exec(rule), inline = matches[1] === '~', cloneName = inline ? 'span' : 'div', name = matches[2];\n            children[name] = children[cloneName];\n            customElementsMap[name] = cloneName;\n            if (!inline) {\n              blockElementsMap[name.toUpperCase()] = {};\n              blockElementsMap[name] = {};\n            }\n            if (!elements[name]) {\n              var customRule = elements[cloneName];\n              customRule = extend$5({}, customRule);\n              delete customRule.removeEmptyAttrs;\n              delete customRule.removeEmpty;\n              elements[name] = customRule;\n            }\n            each$h(children, function (element, elmName) {\n              if (element[cloneName]) {\n                children[elmName] = element = extend$5({}, children[elmName]);\n                element[name] = element[cloneName];\n              }\n            });\n          });\n        }\n      };\n      var addValidChildren = function (validChildren) {\n        var childRuleRegExp = /^([+\\-]?)([A-Za-z0-9_\\-.\\u00b7\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u037d\\u037f-\\u1fff\\u200c-\\u200d\\u203f-\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]+)\\[([^\\]]+)]$/;\n        mapCache[settings.schema] = null;\n        if (validChildren) {\n          each$h(split$1(validChildren, ','), function (rule) {\n            var matches = childRuleRegExp.exec(rule);\n            var parent, prefix;\n            if (matches) {\n              prefix = matches[1];\n              if (prefix) {\n                parent = children[matches[2]];\n              } else {\n                parent = children[matches[2]] = { '#comment': {} };\n              }\n              parent = children[matches[2]];\n              each$h(split$1(matches[3], '|'), function (child) {\n                if (prefix === '-') {\n                  delete parent[child];\n                } else {\n                  parent[child] = {};\n                }\n              });\n            }\n          });\n        }\n      };\n      var getElementRule = function (name) {\n        var element = elements[name], i;\n        if (element) {\n          return element;\n        }\n        i = patternElements.length;\n        while (i--) {\n          element = patternElements[i];\n          if (element.pattern.test(name)) {\n            return element;\n          }\n        }\n      };\n      if (!settings.valid_elements) {\n        each$h(schemaItems, function (element, name) {\n          elements[name] = {\n            attributes: element.attributes,\n            attributesOrder: element.attributesOrder\n          };\n          children[name] = element.children;\n        });\n        if (settings.schema !== 'html5') {\n          each$h(split$1('strong/b em/i'), function (item) {\n            var items = split$1(item, '/');\n            elements[items[1]].outputName = items[0];\n          });\n        }\n        each$h(split$1('ol ul sub sup blockquote span font a table tbody strong em b i'), function (name) {\n          if (elements[name]) {\n            elements[name].removeEmpty = true;\n          }\n        });\n        each$h(split$1('p h1 h2 h3 h4 h5 h6 th td pre div address caption li'), function (name) {\n          elements[name].paddEmpty = true;\n        });\n        each$h(split$1('span'), function (name) {\n          elements[name].removeEmptyAttrs = true;\n        });\n      } else {\n        setValidElements(settings.valid_elements);\n      }\n      addCustomElements(settings.custom_elements);\n      addValidChildren(settings.valid_children);\n      addValidElements(settings.extended_valid_elements);\n      addValidChildren('+ol[ul|ol],+ul[ul|ol]');\n      each$h({\n        dd: 'dl',\n        dt: 'dl',\n        li: 'ul ol',\n        td: 'tr',\n        th: 'tr',\n        tr: 'tbody thead tfoot',\n        tbody: 'table',\n        thead: 'table',\n        tfoot: 'table',\n        legend: 'fieldset',\n        area: 'map',\n        param: 'video audio object'\n      }, function (parents, item) {\n        if (elements[item]) {\n          elements[item].parentsRequired = split$1(parents);\n        }\n      });\n      if (settings.invalid_elements) {\n        each$h(explode$3(settings.invalid_elements), function (item) {\n          if (elements[item]) {\n            delete elements[item];\n          }\n        });\n      }\n      if (!getElementRule('span')) {\n        addValidElements('span[!data-mce-type|*]');\n      }\n      var getValidStyles = constant(validStyles);\n      var getInvalidStyles = constant(invalidStyles);\n      var getValidClasses = constant(validClasses);\n      var getBoolAttrs = constant(boolAttrMap);\n      var getBlockElements = constant(blockElementsMap);\n      var getTextBlockElements = constant(textBlockElementsMap);\n      var getTextInlineElements = constant(textInlineElementsMap);\n      var getShortEndedElements = constant(shortEndedElementsMap);\n      var getSelfClosingElements = constant(selfClosingElementsMap);\n      var getNonEmptyElements = constant(nonEmptyElementsMap);\n      var getMoveCaretBeforeOnEnterElements = constant(moveCaretBeforeOnEnterElementsMap);\n      var getWhiteSpaceElements = constant(whiteSpaceElementsMap);\n      var getSpecialElements = constant(specialElements);\n      var isValidChild = function (name, child) {\n        var parent = children[name.toLowerCase()];\n        return !!(parent && parent[child.toLowerCase()]);\n      };\n      var isValid = function (name, attr) {\n        var attrPatterns, i;\n        var rule = getElementRule(name);\n        if (rule) {\n          if (attr) {\n            if (rule.attributes[attr]) {\n              return true;\n            }\n            attrPatterns = rule.attributePatterns;\n            if (attrPatterns) {\n              i = attrPatterns.length;\n              while (i--) {\n                if (attrPatterns[i].pattern.test(name)) {\n                  return true;\n                }\n              }\n            }\n          } else {\n            return true;\n          }\n        }\n        return false;\n      };\n      var getCustomElements = constant(customElementsMap);\n      return {\n        children: children,\n        elements: elements,\n        getValidStyles: getValidStyles,\n        getValidClasses: getValidClasses,\n        getBlockElements: getBlockElements,\n        getInvalidStyles: getInvalidStyles,\n        getShortEndedElements: getShortEndedElements,\n        getTextBlockElements: getTextBlockElements,\n        getTextInlineElements: getTextInlineElements,\n        getBoolAttrs: getBoolAttrs,\n        getElementRule: getElementRule,\n        getSelfClosingElements: getSelfClosingElements,\n        getNonEmptyElements: getNonEmptyElements,\n        getMoveCaretBeforeOnEnterElements: getMoveCaretBeforeOnEnterElements,\n        getWhiteSpaceElements: getWhiteSpaceElements,\n        getSpecialElements: getSpecialElements,\n        isValidChild: isValidChild,\n        isValid: isValid,\n        getCustomElements: getCustomElements,\n        addValidElements: addValidElements,\n        setValidElements: setValidElements,\n        addCustomElements: addCustomElements,\n        addValidChildren: addValidChildren\n      };\n    };\n\n    var toHex = function (match, r, g, b) {\n      var hex = function (val) {\n        val = parseInt(val, 10).toString(16);\n        return val.length > 1 ? val : '0' + val;\n      };\n      return '#' + hex(r) + hex(g) + hex(b);\n    };\n    var Styles = function (settings, schema) {\n      var _this = this;\n      var rgbRegExp = /rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/gi;\n      var urlOrStrRegExp = /(?:url(?:(?:\\(\\s*\\\"([^\\\"]+)\\\"\\s*\\))|(?:\\(\\s*\\'([^\\']+)\\'\\s*\\))|(?:\\(\\s*([^)\\s]+)\\s*\\))))|(?:\\'([^\\']+)\\')|(?:\\\"([^\\\"]+)\\\")/gi;\n      var styleRegExp = /\\s*([^:]+):\\s*([^;]+);?/g;\n      var trimRightRegExp = /\\s+$/;\n      var i;\n      var encodingLookup = {};\n      var validStyles;\n      var invalidStyles;\n      var invisibleChar = zeroWidth;\n      settings = settings || {};\n      if (schema) {\n        validStyles = schema.getValidStyles();\n        invalidStyles = schema.getInvalidStyles();\n      }\n      var encodingItems = ('\\\\\" \\\\\\' \\\\; \\\\: ; : ' + invisibleChar).split(' ');\n      for (i = 0; i < encodingItems.length; i++) {\n        encodingLookup[encodingItems[i]] = invisibleChar + i;\n        encodingLookup[invisibleChar + i] = encodingItems[i];\n      }\n      return {\n        toHex: function (color) {\n          return color.replace(rgbRegExp, toHex);\n        },\n        parse: function (css) {\n          var styles = {};\n          var matches, name, value, isEncoded;\n          var urlConverter = settings.url_converter;\n          var urlConverterScope = settings.url_converter_scope || _this;\n          var compress = function (prefix, suffix, noJoin) {\n            var top = styles[prefix + '-top' + suffix];\n            if (!top) {\n              return;\n            }\n            var right = styles[prefix + '-right' + suffix];\n            if (!right) {\n              return;\n            }\n            var bottom = styles[prefix + '-bottom' + suffix];\n            if (!bottom) {\n              return;\n            }\n            var left = styles[prefix + '-left' + suffix];\n            if (!left) {\n              return;\n            }\n            var box = [\n              top,\n              right,\n              bottom,\n              left\n            ];\n            i = box.length - 1;\n            while (i--) {\n              if (box[i] !== box[i + 1]) {\n                break;\n              }\n            }\n            if (i > -1 && noJoin) {\n              return;\n            }\n            styles[prefix + suffix] = i === -1 ? box[0] : box.join(' ');\n            delete styles[prefix + '-top' + suffix];\n            delete styles[prefix + '-right' + suffix];\n            delete styles[prefix + '-bottom' + suffix];\n            delete styles[prefix + '-left' + suffix];\n          };\n          var canCompress = function (key) {\n            var value = styles[key], i;\n            if (!value) {\n              return;\n            }\n            value = value.split(' ');\n            i = value.length;\n            while (i--) {\n              if (value[i] !== value[0]) {\n                return false;\n              }\n            }\n            styles[key] = value[0];\n            return true;\n          };\n          var compress2 = function (target, a, b, c) {\n            if (!canCompress(a)) {\n              return;\n            }\n            if (!canCompress(b)) {\n              return;\n            }\n            if (!canCompress(c)) {\n              return;\n            }\n            styles[target] = styles[a] + ' ' + styles[b] + ' ' + styles[c];\n            delete styles[a];\n            delete styles[b];\n            delete styles[c];\n          };\n          var encode = function (str) {\n            isEncoded = true;\n            return encodingLookup[str];\n          };\n          var decode = function (str, keepSlashes) {\n            if (isEncoded) {\n              str = str.replace(/\\uFEFF[0-9]/g, function (str) {\n                return encodingLookup[str];\n              });\n            }\n            if (!keepSlashes) {\n              str = str.replace(/\\\\([\\'\\\";:])/g, '$1');\n            }\n            return str;\n          };\n          var decodeSingleHexSequence = function (escSeq) {\n            return String.fromCharCode(parseInt(escSeq.slice(1), 16));\n          };\n          var decodeHexSequences = function (value) {\n            return value.replace(/\\\\[0-9a-f]+/gi, decodeSingleHexSequence);\n          };\n          var processUrl = function (match, url, url2, url3, str, str2) {\n            str = str || str2;\n            if (str) {\n              str = decode(str);\n              return '\\'' + str.replace(/\\'/g, '\\\\\\'') + '\\'';\n            }\n            url = decode(url || url2 || url3);\n            if (!settings.allow_script_urls) {\n              var scriptUrl = url.replace(/[\\s\\r\\n]+/g, '');\n              if (/(java|vb)script:/i.test(scriptUrl)) {\n                return '';\n              }\n              if (!settings.allow_svg_data_urls && /^data:image\\/svg/i.test(scriptUrl)) {\n                return '';\n              }\n            }\n            if (urlConverter) {\n              url = urlConverter.call(urlConverterScope, url, 'style');\n            }\n            return 'url(\\'' + url.replace(/\\'/g, '\\\\\\'') + '\\')';\n          };\n          if (css) {\n            css = css.replace(/[\\u0000-\\u001F]/g, '');\n            css = css.replace(/\\\\[\\\"\\';:\\uFEFF]/g, encode).replace(/\\\"[^\\\"]+\\\"|\\'[^\\']+\\'/g, function (str) {\n              return str.replace(/[;:]/g, encode);\n            });\n            while (matches = styleRegExp.exec(css)) {\n              styleRegExp.lastIndex = matches.index + matches[0].length;\n              name = matches[1].replace(trimRightRegExp, '').toLowerCase();\n              value = matches[2].replace(trimRightRegExp, '');\n              if (name && value) {\n                name = decodeHexSequences(name);\n                value = decodeHexSequences(value);\n                if (name.indexOf(invisibleChar) !== -1 || name.indexOf('\"') !== -1) {\n                  continue;\n                }\n                if (!settings.allow_script_urls && (name === 'behavior' || /expression\\s*\\(|\\/\\*|\\*\\//.test(value))) {\n                  continue;\n                }\n                if (name === 'font-weight' && value === '700') {\n                  value = 'bold';\n                } else if (name === 'color' || name === 'background-color') {\n                  value = value.toLowerCase();\n                }\n                value = value.replace(rgbRegExp, toHex);\n                value = value.replace(urlOrStrRegExp, processUrl);\n                styles[name] = isEncoded ? decode(value, true) : value;\n              }\n            }\n            compress('border', '', true);\n            compress('border', '-width');\n            compress('border', '-color');\n            compress('border', '-style');\n            compress('padding', '');\n            compress('margin', '');\n            compress2('border', 'border-width', 'border-style', 'border-color');\n            if (styles.border === 'medium none') {\n              delete styles.border;\n            }\n            if (styles['border-image'] === 'none') {\n              delete styles['border-image'];\n            }\n          }\n          return styles;\n        },\n        serialize: function (styles, elementName) {\n          var css = '';\n          var serializeStyles = function (name) {\n            var value;\n            var styleList = validStyles[name];\n            if (styleList) {\n              for (var i_1 = 0, l = styleList.length; i_1 < l; i_1++) {\n                name = styleList[i_1];\n                value = styles[name];\n                if (value) {\n                  css += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\n                }\n              }\n            }\n          };\n          var isValid = function (name, elementName) {\n            var styleMap = invalidStyles['*'];\n            if (styleMap && styleMap[name]) {\n              return false;\n            }\n            styleMap = invalidStyles[elementName];\n            return !(styleMap && styleMap[name]);\n          };\n          if (elementName && validStyles) {\n            serializeStyles('*');\n            serializeStyles(elementName);\n          } else {\n            each$j(styles, function (value, name) {\n              if (value && (!invalidStyles || isValid(name, elementName))) {\n                css += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\n              }\n            });\n          }\n          return css;\n        }\n      };\n    };\n\n    var deprecated = {\n      keyLocation: true,\n      layerX: true,\n      layerY: true,\n      returnValue: true,\n      webkitMovementX: true,\n      webkitMovementY: true,\n      keyIdentifier: true,\n      mozPressure: true\n    };\n    var isNativeEvent = function (event) {\n      return event instanceof Event || isFunction(event.initEvent);\n    };\n    var hasIsDefaultPrevented = function (event) {\n      return event.isDefaultPrevented === always || event.isDefaultPrevented === never;\n    };\n    var needsNormalizing = function (event) {\n      return isNullable(event.preventDefault) || isNativeEvent(event);\n    };\n    var clone$2 = function (originalEvent, data) {\n      var event = data !== null && data !== void 0 ? data : {};\n      for (var name_1 in originalEvent) {\n        if (!has$2(deprecated, name_1)) {\n          event[name_1] = originalEvent[name_1];\n        }\n      }\n      if (isNonNullable(event.composedPath)) {\n        event.composedPath = function () {\n          return originalEvent.composedPath();\n        };\n      }\n      return event;\n    };\n    var normalize$3 = function (type, originalEvent, fallbackTarget, data) {\n      var _a;\n      var event = clone$2(originalEvent, data);\n      event.type = type;\n      if (isNullable(event.target)) {\n        event.target = (_a = event.srcElement) !== null && _a !== void 0 ? _a : fallbackTarget;\n      }\n      if (needsNormalizing(originalEvent)) {\n        event.preventDefault = function () {\n          event.defaultPrevented = true;\n          event.isDefaultPrevented = always;\n          if (isFunction(originalEvent.preventDefault)) {\n            originalEvent.preventDefault();\n          } else if (isNativeEvent(originalEvent)) {\n            originalEvent.returnValue = false;\n          }\n        };\n        event.stopPropagation = function () {\n          event.cancelBubble = true;\n          event.isPropagationStopped = always;\n          if (isFunction(originalEvent.stopPropagation)) {\n            originalEvent.stopPropagation();\n          } else if (isNativeEvent(originalEvent)) {\n            originalEvent.cancelBubble = true;\n          }\n        };\n        event.stopImmediatePropagation = function () {\n          event.isImmediatePropagationStopped = always;\n          event.stopPropagation();\n        };\n        if (!hasIsDefaultPrevented(event)) {\n          event.isDefaultPrevented = event.defaultPrevented === true ? always : never;\n          event.isPropagationStopped = event.cancelBubble === true ? always : never;\n          event.isImmediatePropagationStopped = never;\n        }\n      }\n      return event;\n    };\n\n    var eventExpandoPrefix = 'mce-data-';\n    var mouseEventRe = /^(?:mouse|contextmenu)|click/;\n    var addEvent = function (target, name, callback, capture) {\n      if (target.addEventListener) {\n        target.addEventListener(name, callback, capture || false);\n      } else if (target.attachEvent) {\n        target.attachEvent('on' + name, callback);\n      }\n    };\n    var removeEvent = function (target, name, callback, capture) {\n      if (target.removeEventListener) {\n        target.removeEventListener(name, callback, capture || false);\n      } else if (target.detachEvent) {\n        target.detachEvent('on' + name, callback);\n      }\n    };\n    var isMouseEvent = function (event) {\n      return isNonNullable(event) && mouseEventRe.test(event.type);\n    };\n    var fix = function (originalEvent, data) {\n      var event = normalize$3(originalEvent.type, originalEvent, document, data);\n      if (isMouseEvent(originalEvent) && isUndefined(originalEvent.pageX) && !isUndefined(originalEvent.clientX)) {\n        var eventDoc = event.target.ownerDocument || document;\n        var doc = eventDoc.documentElement;\n        var body = eventDoc.body;\n        var mouseEvent = event;\n        mouseEvent.pageX = originalEvent.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n        mouseEvent.pageY = originalEvent.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n      }\n      if (isUndefined(event.metaKey)) {\n        event.metaKey = false;\n      }\n      return event;\n    };\n    var bindOnReady = function (win, callback, eventUtils) {\n      var doc = win.document, event = { type: 'ready' };\n      if (eventUtils.domLoaded) {\n        callback(event);\n        return;\n      }\n      var isDocReady = function () {\n        return doc.readyState === 'complete' || doc.readyState === 'interactive' && doc.body;\n      };\n      var readyHandler = function () {\n        removeEvent(win, 'DOMContentLoaded', readyHandler);\n        removeEvent(win, 'load', readyHandler);\n        if (!eventUtils.domLoaded) {\n          eventUtils.domLoaded = true;\n          callback(event);\n        }\n        win = null;\n      };\n      if (isDocReady()) {\n        readyHandler();\n      } else {\n        addEvent(win, 'DOMContentLoaded', readyHandler);\n      }\n      if (!eventUtils.domLoaded) {\n        addEvent(win, 'load', readyHandler);\n      }\n    };\n    var EventUtils = function () {\n      function EventUtils() {\n        this.domLoaded = false;\n        this.events = {};\n        this.count = 1;\n        this.expando = eventExpandoPrefix + (+new Date()).toString(32);\n        this.hasMouseEnterLeave = 'onmouseenter' in document.documentElement;\n        this.hasFocusIn = 'onfocusin' in document.documentElement;\n        this.count = 1;\n      }\n      EventUtils.prototype.bind = function (target, names, callback, scope) {\n        var self = this;\n        var id, callbackList, i, name, fakeName, nativeHandler, capture;\n        var win = window;\n        var defaultNativeHandler = function (evt) {\n          self.executeHandlers(fix(evt || win.event), id);\n        };\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return;\n        }\n        if (!target[self.expando]) {\n          id = self.count++;\n          target[self.expando] = id;\n          self.events[id] = {};\n        } else {\n          id = target[self.expando];\n        }\n        scope = scope || target;\n        var namesList = names.split(' ');\n        i = namesList.length;\n        while (i--) {\n          name = namesList[i];\n          nativeHandler = defaultNativeHandler;\n          fakeName = capture = false;\n          if (name === 'DOMContentLoaded') {\n            name = 'ready';\n          }\n          if (self.domLoaded && name === 'ready' && target.readyState === 'complete') {\n            callback.call(scope, fix({ type: name }));\n            continue;\n          }\n          if (!self.hasMouseEnterLeave) {\n            fakeName = self.mouseEnterLeave[name];\n            if (fakeName) {\n              nativeHandler = function (evt) {\n                var current = evt.currentTarget;\n                var related = evt.relatedTarget;\n                if (related && current.contains) {\n                  related = current.contains(related);\n                } else {\n                  while (related && related !== current) {\n                    related = related.parentNode;\n                  }\n                }\n                if (!related) {\n                  evt = fix(evt || win.event);\n                  evt.type = evt.type === 'mouseout' ? 'mouseleave' : 'mouseenter';\n                  evt.target = current;\n                  self.executeHandlers(evt, id);\n                }\n              };\n            }\n          }\n          if (!self.hasFocusIn && (name === 'focusin' || name === 'focusout')) {\n            capture = true;\n            fakeName = name === 'focusin' ? 'focus' : 'blur';\n            nativeHandler = function (evt) {\n              evt = fix(evt || win.event);\n              evt.type = evt.type === 'focus' ? 'focusin' : 'focusout';\n              self.executeHandlers(evt, id);\n            };\n          }\n          callbackList = self.events[id][name];\n          if (!callbackList) {\n            self.events[id][name] = callbackList = [{\n                func: callback,\n                scope: scope\n              }];\n            callbackList.fakeName = fakeName;\n            callbackList.capture = capture;\n            callbackList.nativeHandler = nativeHandler;\n            if (name === 'ready') {\n              bindOnReady(target, nativeHandler, self);\n            } else {\n              addEvent(target, fakeName || name, nativeHandler, capture);\n            }\n          } else {\n            if (name === 'ready' && self.domLoaded) {\n              callback(fix({ type: name }));\n            } else {\n              callbackList.push({\n                func: callback,\n                scope: scope\n              });\n            }\n          }\n        }\n        target = callbackList = null;\n        return callback;\n      };\n      EventUtils.prototype.unbind = function (target, names, callback) {\n        var callbackList, i, ci, name, eventMap;\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return this;\n        }\n        var id = target[this.expando];\n        if (id) {\n          eventMap = this.events[id];\n          if (names) {\n            var namesList = names.split(' ');\n            i = namesList.length;\n            while (i--) {\n              name = namesList[i];\n              callbackList = eventMap[name];\n              if (callbackList) {\n                if (callback) {\n                  ci = callbackList.length;\n                  while (ci--) {\n                    if (callbackList[ci].func === callback) {\n                      var nativeHandler = callbackList.nativeHandler;\n                      var fakeName = callbackList.fakeName, capture = callbackList.capture;\n                      callbackList = callbackList.slice(0, ci).concat(callbackList.slice(ci + 1));\n                      callbackList.nativeHandler = nativeHandler;\n                      callbackList.fakeName = fakeName;\n                      callbackList.capture = capture;\n                      eventMap[name] = callbackList;\n                    }\n                  }\n                }\n                if (!callback || callbackList.length === 0) {\n                  delete eventMap[name];\n                  removeEvent(target, callbackList.fakeName || name, callbackList.nativeHandler, callbackList.capture);\n                }\n              }\n            }\n          } else {\n            each$j(eventMap, function (callbackList, name) {\n              removeEvent(target, callbackList.fakeName || name, callbackList.nativeHandler, callbackList.capture);\n            });\n            eventMap = {};\n          }\n          for (name in eventMap) {\n            if (has$2(eventMap, name)) {\n              return this;\n            }\n          }\n          delete this.events[id];\n          try {\n            delete target[this.expando];\n          } catch (ex) {\n            target[this.expando] = null;\n          }\n        }\n        return this;\n      };\n      EventUtils.prototype.fire = function (target, name, args) {\n        var id;\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return this;\n        }\n        var event = fix({\n          type: name,\n          target: target\n        }, args);\n        do {\n          id = target[this.expando];\n          if (id) {\n            this.executeHandlers(event, id);\n          }\n          target = target.parentNode || target.ownerDocument || target.defaultView || target.parentWindow;\n        } while (target && !event.isPropagationStopped());\n        return this;\n      };\n      EventUtils.prototype.clean = function (target) {\n        var i, children;\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return this;\n        }\n        if (target[this.expando]) {\n          this.unbind(target);\n        }\n        if (!target.getElementsByTagName) {\n          target = target.document;\n        }\n        if (target && target.getElementsByTagName) {\n          this.unbind(target);\n          children = target.getElementsByTagName('*');\n          i = children.length;\n          while (i--) {\n            target = children[i];\n            if (target[this.expando]) {\n              this.unbind(target);\n            }\n          }\n        }\n        return this;\n      };\n      EventUtils.prototype.destroy = function () {\n        this.events = {};\n      };\n      EventUtils.prototype.cancel = function (e) {\n        if (e) {\n          e.preventDefault();\n          e.stopImmediatePropagation();\n        }\n        return false;\n      };\n      EventUtils.prototype.executeHandlers = function (evt, id) {\n        var container = this.events[id];\n        var callbackList = container && container[evt.type];\n        if (callbackList) {\n          for (var i = 0, l = callbackList.length; i < l; i++) {\n            var callback = callbackList[i];\n            if (callback && callback.func.call(callback.scope, evt) === false) {\n              evt.preventDefault();\n            }\n            if (evt.isImmediatePropagationStopped()) {\n              return;\n            }\n          }\n        }\n      };\n      EventUtils.Event = new EventUtils();\n      return EventUtils;\n    }();\n\n    var support, Expr, getText, isXML, tokenize, compile, select$1, outermostContext, sortInput, hasDuplicate, setDocument, document$1, docElem, documentIsHTML, rbuggyQSA, rbuggyMatches, matches, contains, expando = 'sizzle' + -new Date(), preferredDoc = window.document, dirruns = 0, done = 0, classCache = createCache(), tokenCache = createCache(), compilerCache = createCache(), sortOrder = function (a, b) {\n        if (a === b) {\n          hasDuplicate = true;\n        }\n        return 0;\n      }, strundefined = typeof undefined, MAX_NEGATIVE = 1 << 31, hasOwn = {}.hasOwnProperty, arr = [], pop = arr.pop, push_native = arr.push, push$1 = arr.push, slice$1 = arr.slice, indexOf = arr.indexOf || function (elem) {\n        var i = 0, len = this.length;\n        for (; i < len; i++) {\n          if (this[i] === elem) {\n            return i;\n          }\n        }\n        return -1;\n      }, booleans = 'checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped', whitespace = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]', identifier = '(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+', attributes = '\\\\[' + whitespace + '*(' + identifier + ')(?:' + whitespace + '*([*^$|!~]?=)' + whitespace + '*(?:\\'((?:\\\\\\\\.|[^\\\\\\\\\\'])*)\\'|\"((?:\\\\\\\\.|[^\\\\\\\\\"])*)\"|(' + identifier + '))|)' + whitespace + '*\\\\]', pseudos = ':(' + identifier + ')(?:\\\\((' + '(\\'((?:\\\\\\\\.|[^\\\\\\\\\\'])*)\\'|\"((?:\\\\\\\\.|[^\\\\\\\\\"])*)\")|' + '((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|' + attributes + ')*)|' + '.*' + ')\\\\)|)', rtrim = new RegExp('^' + whitespace + '+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)' + whitespace + '+$', 'g'), rcomma = new RegExp('^' + whitespace + '*,' + whitespace + '*'), rcombinators = new RegExp('^' + whitespace + '*([>+~]|' + whitespace + ')' + whitespace + '*'), rattributeQuotes = new RegExp('=' + whitespace + '*([^\\\\]\\'\"]*?)' + whitespace + '*\\\\]', 'g'), rpseudo = new RegExp(pseudos), ridentifier = new RegExp('^' + identifier + '$'), matchExpr = {\n        ID: new RegExp('^#(' + identifier + ')'),\n        CLASS: new RegExp('^\\\\.(' + identifier + ')'),\n        TAG: new RegExp('^(' + identifier + '|[*])'),\n        ATTR: new RegExp('^' + attributes),\n        PSEUDO: new RegExp('^' + pseudos),\n        CHILD: new RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(' + whitespace + '*(even|odd|(([+-]|)(\\\\d*)n|)' + whitespace + '*(?:([+-]|)' + whitespace + '*(\\\\d+)|))' + whitespace + '*\\\\)|)', 'i'),\n        bool: new RegExp('^(?:' + booleans + ')$', 'i'),\n        needsContext: new RegExp('^' + whitespace + '*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(' + whitespace + '*((?:-\\\\d)?\\\\d*)' + whitespace + '*\\\\)|)(?=[^-]|$)', 'i')\n      }, rinputs = /^(?:input|select|textarea|button)$/i, rheader = /^h\\d$/i, rnative = /^[^{]+\\{\\s*\\[native \\w/, rquickExpr$1 = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/, rsibling = /[+~]/, rescape = /'|\\\\/g, runescape = new RegExp('\\\\\\\\([\\\\da-f]{1,6}' + whitespace + '?|(' + whitespace + ')|.)', 'ig'), funescape = function (_, escaped, escapedWhitespace) {\n        var high = '0x' + escaped - 65536;\n        return high !== high || escapedWhitespace ? escaped : high < 0 ? String.fromCharCode(high + 65536) : String.fromCharCode(high >> 10 | 55296, high & 1023 | 56320);\n      };\n    try {\n      push$1.apply(arr = slice$1.call(preferredDoc.childNodes), preferredDoc.childNodes);\n      arr[preferredDoc.childNodes.length].nodeType;\n    } catch (e) {\n      push$1 = {\n        apply: arr.length ? function (target, els) {\n          push_native.apply(target, slice$1.call(els));\n        } : function (target, els) {\n          var j = target.length, i = 0;\n          while (target[j++] = els[i++]) {\n          }\n          target.length = j - 1;\n        }\n      };\n    }\n    var Sizzle = function (selector, context, results, seed) {\n      var match, elem, m, nodeType, i, groups, old, nid, newContext, newSelector;\n      if ((context ? context.ownerDocument || context : preferredDoc) !== document$1) {\n        setDocument(context);\n      }\n      context = context || document$1;\n      results = results || [];\n      if (!selector || typeof selector !== 'string') {\n        return results;\n      }\n      if ((nodeType = context.nodeType) !== 1 && nodeType !== 9) {\n        return [];\n      }\n      if (documentIsHTML && !seed) {\n        if (match = rquickExpr$1.exec(selector)) {\n          if (m = match[1]) {\n            if (nodeType === 9) {\n              elem = context.getElementById(m);\n              if (elem && elem.parentNode) {\n                if (elem.id === m) {\n                  results.push(elem);\n                  return results;\n                }\n              } else {\n                return results;\n              }\n            } else {\n              if (context.ownerDocument && (elem = context.ownerDocument.getElementById(m)) && contains(context, elem) && elem.id === m) {\n                results.push(elem);\n                return results;\n              }\n            }\n          } else if (match[2]) {\n            push$1.apply(results, context.getElementsByTagName(selector));\n            return results;\n          } else if ((m = match[3]) && support.getElementsByClassName) {\n            push$1.apply(results, context.getElementsByClassName(m));\n            return results;\n          }\n        }\n        if (support.qsa && (!rbuggyQSA || !rbuggyQSA.test(selector))) {\n          nid = old = expando;\n          newContext = context;\n          newSelector = nodeType === 9 && selector;\n          if (nodeType === 1 && context.nodeName.toLowerCase() !== 'object') {\n            groups = tokenize(selector);\n            if (old = context.getAttribute('id')) {\n              nid = old.replace(rescape, '\\\\$&');\n            } else {\n              context.setAttribute('id', nid);\n            }\n            nid = '[id=\\'' + nid + '\\'] ';\n            i = groups.length;\n            while (i--) {\n              groups[i] = nid + toSelector(groups[i]);\n            }\n            newContext = rsibling.test(selector) && testContext(context.parentNode) || context;\n            newSelector = groups.join(',');\n          }\n          if (newSelector) {\n            try {\n              push$1.apply(results, newContext.querySelectorAll(newSelector));\n              return results;\n            } catch (qsaError) {\n            } finally {\n              if (!old) {\n                context.removeAttribute('id');\n              }\n            }\n          }\n        }\n      }\n      return select$1(selector.replace(rtrim, '$1'), context, results, seed);\n    };\n    function createCache() {\n      var keys = [];\n      function cache(key, value) {\n        if (keys.push(key + ' ') > Expr.cacheLength) {\n          delete cache[keys.shift()];\n        }\n        return cache[key + ' '] = value;\n      }\n      return cache;\n    }\n    function markFunction(fn) {\n      fn[expando] = true;\n      return fn;\n    }\n    function siblingCheck(a, b) {\n      var cur = b && a, diff = cur && a.nodeType === 1 && b.nodeType === 1 && (~b.sourceIndex || MAX_NEGATIVE) - (~a.sourceIndex || MAX_NEGATIVE);\n      if (diff) {\n        return diff;\n      }\n      if (cur) {\n        while (cur = cur.nextSibling) {\n          if (cur === b) {\n            return -1;\n          }\n        }\n      }\n      return a ? 1 : -1;\n    }\n    function createInputPseudo(type) {\n      return function (elem) {\n        var name = elem.nodeName.toLowerCase();\n        return name === 'input' && elem.type === type;\n      };\n    }\n    function createButtonPseudo(type) {\n      return function (elem) {\n        var name = elem.nodeName.toLowerCase();\n        return (name === 'input' || name === 'button') && elem.type === type;\n      };\n    }\n    function createPositionalPseudo(fn) {\n      return markFunction(function (argument) {\n        argument = +argument;\n        return markFunction(function (seed, matches) {\n          var j, matchIndexes = fn([], seed.length, argument), i = matchIndexes.length;\n          while (i--) {\n            if (seed[j = matchIndexes[i]]) {\n              seed[j] = !(matches[j] = seed[j]);\n            }\n          }\n        });\n      });\n    }\n    function testContext(context) {\n      return context && typeof context.getElementsByTagName !== strundefined && context;\n    }\n    support = Sizzle.support = {};\n    isXML = Sizzle.isXML = function (elem) {\n      var documentElement = elem && (elem.ownerDocument || elem).documentElement;\n      return documentElement ? documentElement.nodeName !== 'HTML' : false;\n    };\n    setDocument = Sizzle.setDocument = function (node) {\n      var hasCompare, doc = node ? node.ownerDocument || node : preferredDoc, parent = doc.defaultView;\n      function getTop(win) {\n        try {\n          return win.top;\n        } catch (ex) {\n        }\n        return null;\n      }\n      if (doc === document$1 || doc.nodeType !== 9 || !doc.documentElement) {\n        return document$1;\n      }\n      document$1 = doc;\n      docElem = doc.documentElement;\n      documentIsHTML = !isXML(doc);\n      if (parent && parent !== getTop(parent)) {\n        if (parent.addEventListener) {\n          parent.addEventListener('unload', function () {\n            setDocument();\n          }, false);\n        } else if (parent.attachEvent) {\n          parent.attachEvent('onunload', function () {\n            setDocument();\n          });\n        }\n      }\n      support.attributes = true;\n      support.getElementsByTagName = true;\n      support.getElementsByClassName = rnative.test(doc.getElementsByClassName);\n      support.getById = true;\n      Expr.find.ID = function (id, context) {\n        if (typeof context.getElementById !== strundefined && documentIsHTML) {\n          var m = context.getElementById(id);\n          return m && m.parentNode ? [m] : [];\n        }\n      };\n      Expr.filter.ID = function (id) {\n        var attrId = id.replace(runescape, funescape);\n        return function (elem) {\n          return elem.getAttribute('id') === attrId;\n        };\n      };\n      Expr.find.TAG = support.getElementsByTagName ? function (tag, context) {\n        if (typeof context.getElementsByTagName !== strundefined) {\n          return context.getElementsByTagName(tag);\n        }\n      } : function (tag, context) {\n        var elem, tmp = [], i = 0, results = context.getElementsByTagName(tag);\n        if (tag === '*') {\n          while (elem = results[i++]) {\n            if (elem.nodeType === 1) {\n              tmp.push(elem);\n            }\n          }\n          return tmp;\n        }\n        return results;\n      };\n      Expr.find.CLASS = support.getElementsByClassName && function (className, context) {\n        if (documentIsHTML) {\n          return context.getElementsByClassName(className);\n        }\n      };\n      rbuggyMatches = [];\n      rbuggyQSA = [];\n      support.disconnectedMatch = true;\n      rbuggyQSA = rbuggyQSA.length && new RegExp(rbuggyQSA.join('|'));\n      rbuggyMatches = rbuggyMatches.length && new RegExp(rbuggyMatches.join('|'));\n      hasCompare = rnative.test(docElem.compareDocumentPosition);\n      contains = hasCompare || rnative.test(docElem.contains) ? function (a, b) {\n        var adown = a.nodeType === 9 ? a.documentElement : a, bup = b && b.parentNode;\n        return a === bup || !!(bup && bup.nodeType === 1 && (adown.contains ? adown.contains(bup) : a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16));\n      } : function (a, b) {\n        if (b) {\n          while (b = b.parentNode) {\n            if (b === a) {\n              return true;\n            }\n          }\n        }\n        return false;\n      };\n      sortOrder = hasCompare ? function (a, b) {\n        if (a === b) {\n          hasDuplicate = true;\n          return 0;\n        }\n        var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n        if (compare) {\n          return compare;\n        }\n        compare = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1;\n        if (compare & 1 || !support.sortDetached && b.compareDocumentPosition(a) === compare) {\n          if (a === doc || a.ownerDocument === preferredDoc && contains(preferredDoc, a)) {\n            return -1;\n          }\n          if (b === doc || b.ownerDocument === preferredDoc && contains(preferredDoc, b)) {\n            return 1;\n          }\n          return sortInput ? indexOf.call(sortInput, a) - indexOf.call(sortInput, b) : 0;\n        }\n        return compare & 4 ? -1 : 1;\n      } : function (a, b) {\n        if (a === b) {\n          hasDuplicate = true;\n          return 0;\n        }\n        var cur, i = 0, aup = a.parentNode, bup = b.parentNode, ap = [a], bp = [b];\n        if (!aup || !bup) {\n          return a === doc ? -1 : b === doc ? 1 : aup ? -1 : bup ? 1 : sortInput ? indexOf.call(sortInput, a) - indexOf.call(sortInput, b) : 0;\n        } else if (aup === bup) {\n          return siblingCheck(a, b);\n        }\n        cur = a;\n        while (cur = cur.parentNode) {\n          ap.unshift(cur);\n        }\n        cur = b;\n        while (cur = cur.parentNode) {\n          bp.unshift(cur);\n        }\n        while (ap[i] === bp[i]) {\n          i++;\n        }\n        return i ? siblingCheck(ap[i], bp[i]) : ap[i] === preferredDoc ? -1 : bp[i] === preferredDoc ? 1 : 0;\n      };\n      return doc;\n    };\n    Sizzle.matches = function (expr, elements) {\n      return Sizzle(expr, null, null, elements);\n    };\n    Sizzle.matchesSelector = function (elem, expr) {\n      if ((elem.ownerDocument || elem) !== document$1) {\n        setDocument(elem);\n      }\n      expr = expr.replace(rattributeQuotes, '=\\'$1\\']');\n      if (support.matchesSelector && documentIsHTML && (!rbuggyMatches || !rbuggyMatches.test(expr)) && (!rbuggyQSA || !rbuggyQSA.test(expr))) {\n        try {\n          var ret = matches.call(elem, expr);\n          if (ret || support.disconnectedMatch || elem.document && elem.document.nodeType !== 11) {\n            return ret;\n          }\n        } catch (e) {\n        }\n      }\n      return Sizzle(expr, document$1, null, [elem]).length > 0;\n    };\n    Sizzle.contains = function (context, elem) {\n      if ((context.ownerDocument || context) !== document$1) {\n        setDocument(context);\n      }\n      return contains(context, elem);\n    };\n    Sizzle.attr = function (elem, name) {\n      if ((elem.ownerDocument || elem) !== document$1) {\n        setDocument(elem);\n      }\n      var fn = Expr.attrHandle[name.toLowerCase()], val = fn && hasOwn.call(Expr.attrHandle, name.toLowerCase()) ? fn(elem, name, !documentIsHTML) : undefined;\n      return val !== undefined ? val : support.attributes || !documentIsHTML ? elem.getAttribute(name) : (val = elem.getAttributeNode(name)) && val.specified ? val.value : null;\n    };\n    Sizzle.error = function (msg) {\n      throw new Error('Syntax error, unrecognized expression: ' + msg);\n    };\n    Sizzle.uniqueSort = function (results) {\n      var elem, duplicates = [], j = 0, i = 0;\n      hasDuplicate = !support.detectDuplicates;\n      sortInput = !support.sortStable && results.slice(0);\n      results.sort(sortOrder);\n      if (hasDuplicate) {\n        while (elem = results[i++]) {\n          if (elem === results[i]) {\n            j = duplicates.push(i);\n          }\n        }\n        while (j--) {\n          results.splice(duplicates[j], 1);\n        }\n      }\n      sortInput = null;\n      return results;\n    };\n    getText = Sizzle.getText = function (elem) {\n      var node, ret = '', i = 0, nodeType = elem.nodeType;\n      if (!nodeType) {\n        while (node = elem[i++]) {\n          ret += getText(node);\n        }\n      } else if (nodeType === 1 || nodeType === 9 || nodeType === 11) {\n        if (typeof elem.textContent === 'string') {\n          return elem.textContent;\n        } else {\n          for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n            ret += getText(elem);\n          }\n        }\n      } else if (nodeType === 3 || nodeType === 4) {\n        return elem.nodeValue;\n      }\n      return ret;\n    };\n    Expr = Sizzle.selectors = {\n      cacheLength: 50,\n      createPseudo: markFunction,\n      match: matchExpr,\n      attrHandle: {},\n      find: {},\n      relative: {\n        '>': {\n          dir: 'parentNode',\n          first: true\n        },\n        ' ': { dir: 'parentNode' },\n        '+': {\n          dir: 'previousSibling',\n          first: true\n        },\n        '~': { dir: 'previousSibling' }\n      },\n      preFilter: {\n        ATTR: function (match) {\n          match[1] = match[1].replace(runescape, funescape);\n          match[3] = (match[3] || match[4] || match[5] || '').replace(runescape, funescape);\n          if (match[2] === '~=') {\n            match[3] = ' ' + match[3] + ' ';\n          }\n          return match.slice(0, 4);\n        },\n        CHILD: function (match) {\n          match[1] = match[1].toLowerCase();\n          if (match[1].slice(0, 3) === 'nth') {\n            if (!match[3]) {\n              Sizzle.error(match[0]);\n            }\n            match[4] = +(match[4] ? match[5] + (match[6] || 1) : 2 * (match[3] === 'even' || match[3] === 'odd'));\n            match[5] = +(match[7] + match[8] || match[3] === 'odd');\n          } else if (match[3]) {\n            Sizzle.error(match[0]);\n          }\n          return match;\n        },\n        PSEUDO: function (match) {\n          var excess, unquoted = !match[6] && match[2];\n          if (matchExpr.CHILD.test(match[0])) {\n            return null;\n          }\n          if (match[3]) {\n            match[2] = match[4] || match[5] || '';\n          } else if (unquoted && rpseudo.test(unquoted) && (excess = tokenize(unquoted, true)) && (excess = unquoted.indexOf(')', unquoted.length - excess) - unquoted.length)) {\n            match[0] = match[0].slice(0, excess);\n            match[2] = unquoted.slice(0, excess);\n          }\n          return match.slice(0, 3);\n        }\n      },\n      filter: {\n        TAG: function (nodeNameSelector) {\n          var nodeName = nodeNameSelector.replace(runescape, funescape).toLowerCase();\n          return nodeNameSelector === '*' ? function () {\n            return true;\n          } : function (elem) {\n            return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n          };\n        },\n        CLASS: function (className) {\n          var pattern = classCache[className + ' '];\n          return pattern || (pattern = new RegExp('(^|' + whitespace + ')' + className + '(' + whitespace + '|$)')) && classCache(className, function (elem) {\n            return pattern.test(typeof elem.className === 'string' && elem.className || typeof elem.getAttribute !== strundefined && elem.getAttribute('class') || '');\n          });\n        },\n        ATTR: function (name, operator, check) {\n          return function (elem) {\n            var result = Sizzle.attr(elem, name);\n            if (result == null) {\n              return operator === '!=';\n            }\n            if (!operator) {\n              return true;\n            }\n            result += '';\n            return operator === '=' ? result === check : operator === '!=' ? result !== check : operator === '^=' ? check && result.indexOf(check) === 0 : operator === '*=' ? check && result.indexOf(check) > -1 : operator === '$=' ? check && result.slice(-check.length) === check : operator === '~=' ? (' ' + result + ' ').indexOf(check) > -1 : operator === '|=' ? result === check || result.slice(0, check.length + 1) === check + '-' : false;\n          };\n        },\n        CHILD: function (type, what, argument, first, last) {\n          var simple = type.slice(0, 3) !== 'nth', forward = type.slice(-4) !== 'last', ofType = what === 'of-type';\n          return first === 1 && last === 0 ? function (elem) {\n            return !!elem.parentNode;\n          } : function (elem, context, xml) {\n            var cache, outerCache, node, diff, nodeIndex, start, dir = simple !== forward ? 'nextSibling' : 'previousSibling', parent = elem.parentNode, name = ofType && elem.nodeName.toLowerCase(), useCache = !xml && !ofType;\n            if (parent) {\n              if (simple) {\n                while (dir) {\n                  node = elem;\n                  while (node = node[dir]) {\n                    if (ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) {\n                      return false;\n                    }\n                  }\n                  start = dir = type === 'only' && !start && 'nextSibling';\n                }\n                return true;\n              }\n              start = [forward ? parent.firstChild : parent.lastChild];\n              if (forward && useCache) {\n                outerCache = parent[expando] || (parent[expando] = {});\n                cache = outerCache[type] || [];\n                nodeIndex = cache[0] === dirruns && cache[1];\n                diff = cache[0] === dirruns && cache[2];\n                node = nodeIndex && parent.childNodes[nodeIndex];\n                while (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) {\n                  if (node.nodeType === 1 && ++diff && node === elem) {\n                    outerCache[type] = [\n                      dirruns,\n                      nodeIndex,\n                      diff\n                    ];\n                    break;\n                  }\n                }\n              } else if (useCache && (cache = (elem[expando] || (elem[expando] = {}))[type]) && cache[0] === dirruns) {\n                diff = cache[1];\n              } else {\n                while (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) {\n                  if ((ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) && ++diff) {\n                    if (useCache) {\n                      (node[expando] || (node[expando] = {}))[type] = [\n                        dirruns,\n                        diff\n                      ];\n                    }\n                    if (node === elem) {\n                      break;\n                    }\n                  }\n                }\n              }\n              diff -= last;\n              return diff === first || diff % first === 0 && diff / first >= 0;\n            }\n          };\n        },\n        PSEUDO: function (pseudo, argument) {\n          var args, fn = Expr.pseudos[pseudo] || Expr.setFilters[pseudo.toLowerCase()] || Sizzle.error('unsupported pseudo: ' + pseudo);\n          if (fn[expando]) {\n            return fn(argument);\n          }\n          if (fn.length > 1) {\n            args = [\n              pseudo,\n              pseudo,\n              '',\n              argument\n            ];\n            return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase()) ? markFunction(function (seed, matches) {\n              var idx, matched = fn(seed, argument), i = matched.length;\n              while (i--) {\n                idx = indexOf.call(seed, matched[i]);\n                seed[idx] = !(matches[idx] = matched[i]);\n              }\n            }) : function (elem) {\n              return fn(elem, 0, args);\n            };\n          }\n          return fn;\n        }\n      },\n      pseudos: {\n        not: markFunction(function (selector) {\n          var input = [], results = [], matcher = compile(selector.replace(rtrim, '$1'));\n          return matcher[expando] ? markFunction(function (seed, matches, context, xml) {\n            var elem, unmatched = matcher(seed, null, xml, []), i = seed.length;\n            while (i--) {\n              if (elem = unmatched[i]) {\n                seed[i] = !(matches[i] = elem);\n              }\n            }\n          }) : function (elem, context, xml) {\n            input[0] = elem;\n            matcher(input, null, xml, results);\n            input[0] = null;\n            return !results.pop();\n          };\n        }),\n        has: markFunction(function (selector) {\n          return function (elem) {\n            return Sizzle(selector, elem).length > 0;\n          };\n        }),\n        contains: markFunction(function (text) {\n          text = text.replace(runescape, funescape);\n          return function (elem) {\n            return (elem.textContent || elem.innerText || getText(elem)).indexOf(text) > -1;\n          };\n        }),\n        lang: markFunction(function (lang) {\n          if (!ridentifier.test(lang || '')) {\n            Sizzle.error('unsupported lang: ' + lang);\n          }\n          lang = lang.replace(runescape, funescape).toLowerCase();\n          return function (elem) {\n            var elemLang;\n            do {\n              if (elemLang = documentIsHTML ? elem.lang : elem.getAttribute('xml:lang') || elem.getAttribute('lang')) {\n                elemLang = elemLang.toLowerCase();\n                return elemLang === lang || elemLang.indexOf(lang + '-') === 0;\n              }\n            } while ((elem = elem.parentNode) && elem.nodeType === 1);\n            return false;\n          };\n        }),\n        target: function (elem) {\n          var hash = window.location && window.location.hash;\n          return hash && hash.slice(1) === elem.id;\n        },\n        root: function (elem) {\n          return elem === docElem;\n        },\n        focus: function (elem) {\n          return elem === document$1.activeElement && (!document$1.hasFocus || document$1.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n        },\n        enabled: function (elem) {\n          return elem.disabled === false;\n        },\n        disabled: function (elem) {\n          return elem.disabled === true;\n        },\n        checked: function (elem) {\n          var nodeName = elem.nodeName.toLowerCase();\n          return nodeName === 'input' && !!elem.checked || nodeName === 'option' && !!elem.selected;\n        },\n        selected: function (elem) {\n          if (elem.parentNode) {\n            elem.parentNode.selectedIndex;\n          }\n          return elem.selected === true;\n        },\n        empty: function (elem) {\n          for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n            if (elem.nodeType < 6) {\n              return false;\n            }\n          }\n          return true;\n        },\n        parent: function (elem) {\n          return !Expr.pseudos.empty(elem);\n        },\n        header: function (elem) {\n          return rheader.test(elem.nodeName);\n        },\n        input: function (elem) {\n          return rinputs.test(elem.nodeName);\n        },\n        button: function (elem) {\n          var name = elem.nodeName.toLowerCase();\n          return name === 'input' && elem.type === 'button' || name === 'button';\n        },\n        text: function (elem) {\n          var attr;\n          return elem.nodeName.toLowerCase() === 'input' && elem.type === 'text' && ((attr = elem.getAttribute('type')) == null || attr.toLowerCase() === 'text');\n        },\n        first: createPositionalPseudo(function () {\n          return [0];\n        }),\n        last: createPositionalPseudo(function (matchIndexes, length) {\n          return [length - 1];\n        }),\n        eq: createPositionalPseudo(function (matchIndexes, length, argument) {\n          return [argument < 0 ? argument + length : argument];\n        }),\n        even: createPositionalPseudo(function (matchIndexes, length) {\n          var i = 0;\n          for (; i < length; i += 2) {\n            matchIndexes.push(i);\n          }\n          return matchIndexes;\n        }),\n        odd: createPositionalPseudo(function (matchIndexes, length) {\n          var i = 1;\n          for (; i < length; i += 2) {\n            matchIndexes.push(i);\n          }\n          return matchIndexes;\n        }),\n        lt: createPositionalPseudo(function (matchIndexes, length, argument) {\n          var i = argument < 0 ? argument + length : argument;\n          for (; --i >= 0;) {\n            matchIndexes.push(i);\n          }\n          return matchIndexes;\n        }),\n        gt: createPositionalPseudo(function (matchIndexes, length, argument) {\n          var i = argument < 0 ? argument + length : argument;\n          for (; ++i < length;) {\n            matchIndexes.push(i);\n          }\n          return matchIndexes;\n        })\n      }\n    };\n    Expr.pseudos.nth = Expr.pseudos.eq;\n    each$k([\n      'radio',\n      'checkbox',\n      'file',\n      'password',\n      'image'\n    ], function (i) {\n      Expr.pseudos[i] = createInputPseudo(i);\n    });\n    each$k([\n      'submit',\n      'reset'\n    ], function (i) {\n      Expr.pseudos[i] = createButtonPseudo(i);\n    });\n    function setFilters() {\n    }\n    setFilters.prototype = Expr.filters = Expr.pseudos;\n    Expr.setFilters = new setFilters();\n    tokenize = Sizzle.tokenize = function (selector, parseOnly) {\n      var matched, match, tokens, type, soFar, groups, preFilters, cached = tokenCache[selector + ' '];\n      if (cached) {\n        return parseOnly ? 0 : cached.slice(0);\n      }\n      soFar = selector;\n      groups = [];\n      preFilters = Expr.preFilter;\n      while (soFar) {\n        if (!matched || (match = rcomma.exec(soFar))) {\n          if (match) {\n            soFar = soFar.slice(match[0].length) || soFar;\n          }\n          groups.push(tokens = []);\n        }\n        matched = false;\n        if (match = rcombinators.exec(soFar)) {\n          matched = match.shift();\n          tokens.push({\n            value: matched,\n            type: match[0].replace(rtrim, ' ')\n          });\n          soFar = soFar.slice(matched.length);\n        }\n        for (type in Expr.filter) {\n          if (!Expr.filter.hasOwnProperty(type)) {\n            continue;\n          }\n          if ((match = matchExpr[type].exec(soFar)) && (!preFilters[type] || (match = preFilters[type](match)))) {\n            matched = match.shift();\n            tokens.push({\n              value: matched,\n              type: type,\n              matches: match\n            });\n            soFar = soFar.slice(matched.length);\n          }\n        }\n        if (!matched) {\n          break;\n        }\n      }\n      return parseOnly ? soFar.length : soFar ? Sizzle.error(selector) : tokenCache(selector, groups).slice(0);\n    };\n    function toSelector(tokens) {\n      var i = 0, len = tokens.length, selector = '';\n      for (; i < len; i++) {\n        selector += tokens[i].value;\n      }\n      return selector;\n    }\n    function addCombinator(matcher, combinator, base) {\n      var dir = combinator.dir, checkNonElements = base && dir === 'parentNode', doneName = done++;\n      return combinator.first ? function (elem, context, xml) {\n        while (elem = elem[dir]) {\n          if (elem.nodeType === 1 || checkNonElements) {\n            return matcher(elem, context, xml);\n          }\n        }\n      } : function (elem, context, xml) {\n        var oldCache, outerCache, newCache = [\n            dirruns,\n            doneName\n          ];\n        if (xml) {\n          while (elem = elem[dir]) {\n            if (elem.nodeType === 1 || checkNonElements) {\n              if (matcher(elem, context, xml)) {\n                return true;\n              }\n            }\n          }\n        } else {\n          while (elem = elem[dir]) {\n            if (elem.nodeType === 1 || checkNonElements) {\n              outerCache = elem[expando] || (elem[expando] = {});\n              if ((oldCache = outerCache[dir]) && oldCache[0] === dirruns && oldCache[1] === doneName) {\n                return newCache[2] = oldCache[2];\n              } else {\n                outerCache[dir] = newCache;\n                if (newCache[2] = matcher(elem, context, xml)) {\n                  return true;\n                }\n              }\n            }\n          }\n        }\n      };\n    }\n    function elementMatcher(matchers) {\n      return matchers.length > 1 ? function (elem, context, xml) {\n        var i = matchers.length;\n        while (i--) {\n          if (!matchers[i](elem, context, xml)) {\n            return false;\n          }\n        }\n        return true;\n      } : matchers[0];\n    }\n    function multipleContexts(selector, contexts, results) {\n      var i = 0, len = contexts.length;\n      for (; i < len; i++) {\n        Sizzle(selector, contexts[i], results);\n      }\n      return results;\n    }\n    function condense(unmatched, map, filter, context, xml) {\n      var elem, newUnmatched = [], i = 0, len = unmatched.length, mapped = map != null;\n      for (; i < len; i++) {\n        if (elem = unmatched[i]) {\n          if (!filter || filter(elem, context, xml)) {\n            newUnmatched.push(elem);\n            if (mapped) {\n              map.push(i);\n            }\n          }\n        }\n      }\n      return newUnmatched;\n    }\n    function setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector) {\n      if (postFilter && !postFilter[expando]) {\n        postFilter = setMatcher(postFilter);\n      }\n      if (postFinder && !postFinder[expando]) {\n        postFinder = setMatcher(postFinder, postSelector);\n      }\n      return markFunction(function (seed, results, context, xml) {\n        var temp, i, elem, preMap = [], postMap = [], preexisting = results.length, elems = seed || multipleContexts(selector || '*', context.nodeType ? [context] : context, []), matcherIn = preFilter && (seed || !selector) ? condense(elems, preMap, preFilter, context, xml) : elems, matcherOut = matcher ? postFinder || (seed ? preFilter : preexisting || postFilter) ? [] : results : matcherIn;\n        if (matcher) {\n          matcher(matcherIn, matcherOut, context, xml);\n        }\n        if (postFilter) {\n          temp = condense(matcherOut, postMap);\n          postFilter(temp, [], context, xml);\n          i = temp.length;\n          while (i--) {\n            if (elem = temp[i]) {\n              matcherOut[postMap[i]] = !(matcherIn[postMap[i]] = elem);\n            }\n          }\n        }\n        if (seed) {\n          if (postFinder || preFilter) {\n            if (postFinder) {\n              temp = [];\n              i = matcherOut.length;\n              while (i--) {\n                if (elem = matcherOut[i]) {\n                  temp.push(matcherIn[i] = elem);\n                }\n              }\n              postFinder(null, matcherOut = [], temp, xml);\n            }\n            i = matcherOut.length;\n            while (i--) {\n              if ((elem = matcherOut[i]) && (temp = postFinder ? indexOf.call(seed, elem) : preMap[i]) > -1) {\n                seed[temp] = !(results[temp] = elem);\n              }\n            }\n          }\n        } else {\n          matcherOut = condense(matcherOut === results ? matcherOut.splice(preexisting, matcherOut.length) : matcherOut);\n          if (postFinder) {\n            postFinder(null, results, matcherOut, xml);\n          } else {\n            push$1.apply(results, matcherOut);\n          }\n        }\n      });\n    }\n    function matcherFromTokens(tokens) {\n      var checkContext, matcher, j, len = tokens.length, leadingRelative = Expr.relative[tokens[0].type], implicitRelative = leadingRelative || Expr.relative[' '], i = leadingRelative ? 1 : 0, matchContext = addCombinator(function (elem) {\n          return elem === checkContext;\n        }, implicitRelative, true), matchAnyContext = addCombinator(function (elem) {\n          return indexOf.call(checkContext, elem) > -1;\n        }, implicitRelative, true), matchers = [function (elem, context, xml) {\n            var ret = !leadingRelative && (xml || context !== outermostContext) || ((checkContext = context).nodeType ? matchContext(elem, context, xml) : matchAnyContext(elem, context, xml));\n            checkContext = null;\n            return ret;\n          }];\n      for (; i < len; i++) {\n        if (matcher = Expr.relative[tokens[i].type]) {\n          matchers = [addCombinator(elementMatcher(matchers), matcher)];\n        } else {\n          matcher = Expr.filter[tokens[i].type].apply(null, tokens[i].matches);\n          if (matcher[expando]) {\n            j = ++i;\n            for (; j < len; j++) {\n              if (Expr.relative[tokens[j].type]) {\n                break;\n              }\n            }\n            return setMatcher(i > 1 && elementMatcher(matchers), i > 1 && toSelector(tokens.slice(0, i - 1).concat({ value: tokens[i - 2].type === ' ' ? '*' : '' })).replace(rtrim, '$1'), matcher, i < j && matcherFromTokens(tokens.slice(i, j)), j < len && matcherFromTokens(tokens = tokens.slice(j)), j < len && toSelector(tokens));\n          }\n          matchers.push(matcher);\n        }\n      }\n      return elementMatcher(matchers);\n    }\n    function matcherFromGroupMatchers(elementMatchers, setMatchers) {\n      var bySet = setMatchers.length > 0, byElement = elementMatchers.length > 0, superMatcher = function (seed, context, xml, results, outermost) {\n          var elem, j, matcher, matchedCount = 0, i = '0', unmatched = seed && [], setMatched = [], contextBackup = outermostContext, elems = seed || byElement && Expr.find.TAG('*', outermost), dirrunsUnique = dirruns += contextBackup == null ? 1 : Math.random() || 0.1, len = elems.length;\n          if (outermost) {\n            outermostContext = context !== document$1 && context;\n          }\n          for (; i !== len && (elem = elems[i]) != null; i++) {\n            if (byElement && elem) {\n              j = 0;\n              while (matcher = elementMatchers[j++]) {\n                if (matcher(elem, context, xml)) {\n                  results.push(elem);\n                  break;\n                }\n              }\n              if (outermost) {\n                dirruns = dirrunsUnique;\n              }\n            }\n            if (bySet) {\n              if (elem = !matcher && elem) {\n                matchedCount--;\n              }\n              if (seed) {\n                unmatched.push(elem);\n              }\n            }\n          }\n          matchedCount += i;\n          if (bySet && i !== matchedCount) {\n            j = 0;\n            while (matcher = setMatchers[j++]) {\n              matcher(unmatched, setMatched, context, xml);\n            }\n            if (seed) {\n              if (matchedCount > 0) {\n                while (i--) {\n                  if (!(unmatched[i] || setMatched[i])) {\n                    setMatched[i] = pop.call(results);\n                  }\n                }\n              }\n              setMatched = condense(setMatched);\n            }\n            push$1.apply(results, setMatched);\n            if (outermost && !seed && setMatched.length > 0 && matchedCount + setMatchers.length > 1) {\n              Sizzle.uniqueSort(results);\n            }\n          }\n          if (outermost) {\n            dirruns = dirrunsUnique;\n            outermostContext = contextBackup;\n          }\n          return unmatched;\n        };\n      return bySet ? markFunction(superMatcher) : superMatcher;\n    }\n    compile = Sizzle.compile = function (selector, match) {\n      var i, setMatchers = [], elementMatchers = [], cached = compilerCache[selector + ' '];\n      if (!cached) {\n        if (!match) {\n          match = tokenize(selector);\n        }\n        i = match.length;\n        while (i--) {\n          cached = matcherFromTokens(match[i]);\n          if (cached[expando]) {\n            setMatchers.push(cached);\n          } else {\n            elementMatchers.push(cached);\n          }\n        }\n        cached = compilerCache(selector, matcherFromGroupMatchers(elementMatchers, setMatchers));\n        cached.selector = selector;\n      }\n      return cached;\n    };\n    select$1 = Sizzle.select = function (selector, context, results, seed) {\n      var i, tokens, token, type, find, compiled = typeof selector === 'function' && selector, match = !seed && tokenize(selector = compiled.selector || selector);\n      results = results || [];\n      if (match.length === 1) {\n        tokens = match[0] = match[0].slice(0);\n        if (tokens.length > 2 && (token = tokens[0]).type === 'ID' && support.getById && context.nodeType === 9 && documentIsHTML && Expr.relative[tokens[1].type]) {\n          context = (Expr.find.ID(token.matches[0].replace(runescape, funescape), context) || [])[0];\n          if (!context) {\n            return results;\n          } else if (compiled) {\n            context = context.parentNode;\n          }\n          selector = selector.slice(tokens.shift().value.length);\n        }\n        i = matchExpr.needsContext.test(selector) ? 0 : tokens.length;\n        while (i--) {\n          token = tokens[i];\n          if (Expr.relative[type = token.type]) {\n            break;\n          }\n          if (find = Expr.find[type]) {\n            if (seed = find(token.matches[0].replace(runescape, funescape), rsibling.test(tokens[0].type) && testContext(context.parentNode) || context)) {\n              tokens.splice(i, 1);\n              selector = seed.length && toSelector(tokens);\n              if (!selector) {\n                push$1.apply(results, seed);\n                return results;\n              }\n              break;\n            }\n          }\n        }\n      }\n      (compiled || compile(selector, match))(seed, context, !documentIsHTML, results, rsibling.test(selector) && testContext(context.parentNode) || context);\n      return results;\n    };\n    support.sortStable = expando.split('').sort(sortOrder).join('') === expando;\n    support.detectDuplicates = !!hasDuplicate;\n    setDocument();\n    support.sortDetached = true;\n\n    var doc = document;\n    var push = Array.prototype.push;\n    var slice = Array.prototype.slice;\n    var rquickExpr = /^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/;\n    var Event$1 = EventUtils.Event;\n    var skipUniques = Tools.makeMap('children,contents,next,prev');\n    var isDefined = function (obj) {\n      return typeof obj !== 'undefined';\n    };\n    var isString = function (obj) {\n      return typeof obj === 'string';\n    };\n    var isWindow = function (obj) {\n      return obj && obj === obj.window;\n    };\n    var createFragment$1 = function (html, fragDoc) {\n      fragDoc = fragDoc || doc;\n      var container = fragDoc.createElement('div');\n      var frag = fragDoc.createDocumentFragment();\n      container.innerHTML = html;\n      var node;\n      while (node = container.firstChild) {\n        frag.appendChild(node);\n      }\n      return frag;\n    };\n    var domManipulate = function (targetNodes, sourceItem, callback, reverse) {\n      var i;\n      if (isString(sourceItem)) {\n        sourceItem = createFragment$1(sourceItem, getElementDocument(targetNodes[0]));\n      } else if (sourceItem.length && !sourceItem.nodeType) {\n        sourceItem = DomQuery.makeArray(sourceItem);\n        if (reverse) {\n          for (i = sourceItem.length - 1; i >= 0; i--) {\n            domManipulate(targetNodes, sourceItem[i], callback, reverse);\n          }\n        } else {\n          for (i = 0; i < sourceItem.length; i++) {\n            domManipulate(targetNodes, sourceItem[i], callback, reverse);\n          }\n        }\n        return targetNodes;\n      }\n      if (sourceItem.nodeType) {\n        i = targetNodes.length;\n        while (i--) {\n          callback.call(targetNodes[i], sourceItem);\n        }\n      }\n      return targetNodes;\n    };\n    var hasClass = function (node, className) {\n      return node && className && (' ' + node.className + ' ').indexOf(' ' + className + ' ') !== -1;\n    };\n    var wrap$2 = function (elements, wrapper, all) {\n      var lastParent, newWrapper;\n      wrapper = DomQuery(wrapper)[0];\n      elements.each(function () {\n        var self = this;\n        if (!all || lastParent !== self.parentNode) {\n          lastParent = self.parentNode;\n          newWrapper = wrapper.cloneNode(false);\n          self.parentNode.insertBefore(newWrapper, self);\n          newWrapper.appendChild(self);\n        } else {\n          newWrapper.appendChild(self);\n        }\n      });\n      return elements;\n    };\n    var numericCssMap = Tools.makeMap('fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom', ' ');\n    var booleanMap = Tools.makeMap('checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected', ' ');\n    var propFix = {\n      for: 'htmlFor',\n      class: 'className',\n      readonly: 'readOnly'\n    };\n    var cssFix = { float: 'cssFloat' };\n    var attrHooks = {}, cssHooks = {};\n    var DomQueryConstructor = function (selector, context) {\n      return new DomQuery.fn.init(selector, context);\n    };\n    var inArray$1 = function (item, array) {\n      var i;\n      if (array.indexOf) {\n        return array.indexOf(item);\n      }\n      i = array.length;\n      while (i--) {\n        if (array[i] === item) {\n          return i;\n        }\n      }\n      return -1;\n    };\n    var whiteSpaceRegExp = /^\\s*|\\s*$/g;\n    var trim$1 = function (str) {\n      return str === null || str === undefined ? '' : ('' + str).replace(whiteSpaceRegExp, '');\n    };\n    var each$g = function (obj, callback) {\n      var length, key, i, value;\n      if (obj) {\n        length = obj.length;\n        if (length === undefined) {\n          for (key in obj) {\n            if (obj.hasOwnProperty(key)) {\n              value = obj[key];\n              if (callback.call(value, key, value) === false) {\n                break;\n              }\n            }\n          }\n        } else {\n          for (i = 0; i < length; i++) {\n            value = obj[i];\n            if (callback.call(value, i, value) === false) {\n              break;\n            }\n          }\n        }\n      }\n      return obj;\n    };\n    var grep$2 = function (array, callback) {\n      var out = [];\n      each$g(array, function (i, item) {\n        if (callback(item, i)) {\n          out.push(item);\n        }\n      });\n      return out;\n    };\n    var getElementDocument = function (element) {\n      if (!element) {\n        return doc;\n      }\n      if (element.nodeType === 9) {\n        return element;\n      }\n      return element.ownerDocument;\n    };\n    DomQueryConstructor.fn = DomQueryConstructor.prototype = {\n      constructor: DomQueryConstructor,\n      selector: '',\n      context: null,\n      length: 0,\n      init: function (selector, context) {\n        var self = this;\n        var match, node;\n        if (!selector) {\n          return self;\n        }\n        if (selector.nodeType) {\n          self.context = self[0] = selector;\n          self.length = 1;\n          return self;\n        }\n        if (context && context.nodeType) {\n          self.context = context;\n        } else {\n          if (context) {\n            return DomQuery(selector).attr(context);\n          }\n          self.context = context = document;\n        }\n        if (isString(selector)) {\n          self.selector = selector;\n          if (selector.charAt(0) === '<' && selector.charAt(selector.length - 1) === '>' && selector.length >= 3) {\n            match = [\n              null,\n              selector,\n              null\n            ];\n          } else {\n            match = rquickExpr.exec(selector);\n          }\n          if (match) {\n            if (match[1]) {\n              node = createFragment$1(selector, getElementDocument(context)).firstChild;\n              while (node) {\n                push.call(self, node);\n                node = node.nextSibling;\n              }\n            } else {\n              node = getElementDocument(context).getElementById(match[2]);\n              if (!node) {\n                return self;\n              }\n              if (node.id !== match[2]) {\n                return self.find(selector);\n              }\n              self.length = 1;\n              self[0] = node;\n            }\n          } else {\n            return DomQuery(context).find(selector);\n          }\n        } else {\n          this.add(selector, false);\n        }\n        return self;\n      },\n      toArray: function () {\n        return Tools.toArray(this);\n      },\n      add: function (items, sort) {\n        var self = this;\n        var nodes, i;\n        if (isString(items)) {\n          return self.add(DomQuery(items));\n        }\n        if (sort !== false) {\n          nodes = DomQuery.unique(self.toArray().concat(DomQuery.makeArray(items)));\n          self.length = nodes.length;\n          for (i = 0; i < nodes.length; i++) {\n            self[i] = nodes[i];\n          }\n        } else {\n          push.apply(self, DomQuery.makeArray(items));\n        }\n        return self;\n      },\n      attr: function (name, value) {\n        var self = this;\n        var hook;\n        if (typeof name === 'object') {\n          each$g(name, function (name, value) {\n            self.attr(name, value);\n          });\n        } else if (isDefined(value)) {\n          this.each(function () {\n            var hook;\n            if (this.nodeType === 1) {\n              hook = attrHooks[name];\n              if (hook && hook.set) {\n                hook.set(this, value);\n                return;\n              }\n              if (value === null) {\n                this.removeAttribute(name, 2);\n              } else {\n                this.setAttribute(name, value, 2);\n              }\n            }\n          });\n        } else {\n          if (self[0] && self[0].nodeType === 1) {\n            hook = attrHooks[name];\n            if (hook && hook.get) {\n              return hook.get(self[0], name);\n            }\n            if (booleanMap[name]) {\n              return self.prop(name) ? name : undefined;\n            }\n            value = self[0].getAttribute(name, 2);\n            if (value === null) {\n              value = undefined;\n            }\n          }\n          return value;\n        }\n        return self;\n      },\n      removeAttr: function (name) {\n        return this.attr(name, null);\n      },\n      prop: function (name, value) {\n        var self = this;\n        name = propFix[name] || name;\n        if (typeof name === 'object') {\n          each$g(name, function (name, value) {\n            self.prop(name, value);\n          });\n        } else if (isDefined(value)) {\n          this.each(function () {\n            if (this.nodeType === 1) {\n              this[name] = value;\n            }\n          });\n        } else {\n          if (self[0] && self[0].nodeType && name in self[0]) {\n            return self[0][name];\n          }\n          return value;\n        }\n        return self;\n      },\n      css: function (name, value) {\n        var self = this;\n        var elm, hook;\n        var camel = function (name) {\n          return name.replace(/-(\\D)/g, function (a, b) {\n            return b.toUpperCase();\n          });\n        };\n        var dashed = function (name) {\n          return name.replace(/[A-Z]/g, function (a) {\n            return '-' + a;\n          });\n        };\n        if (typeof name === 'object') {\n          each$g(name, function (name, value) {\n            self.css(name, value);\n          });\n        } else {\n          if (isDefined(value)) {\n            name = camel(name);\n            if (typeof value === 'number' && !numericCssMap[name]) {\n              value = value.toString() + 'px';\n            }\n            self.each(function () {\n              var style = this.style;\n              hook = cssHooks[name];\n              if (hook && hook.set) {\n                hook.set(this, value);\n                return;\n              }\n              try {\n                this.style[cssFix[name] || name] = value;\n              } catch (ex) {\n              }\n              if (value === null || value === '') {\n                if (style.removeProperty) {\n                  style.removeProperty(dashed(name));\n                } else {\n                  style.removeAttribute(name);\n                }\n              }\n            });\n          } else {\n            elm = self[0];\n            hook = cssHooks[name];\n            if (hook && hook.get) {\n              return hook.get(elm);\n            }\n            if (elm.ownerDocument.defaultView) {\n              try {\n                return elm.ownerDocument.defaultView.getComputedStyle(elm, null).getPropertyValue(dashed(name));\n              } catch (ex) {\n                return undefined;\n              }\n            } else if (elm.currentStyle) {\n              return elm.currentStyle[camel(name)];\n            } else {\n              return '';\n            }\n          }\n        }\n        return self;\n      },\n      remove: function () {\n        var self = this;\n        var node, i = this.length;\n        while (i--) {\n          node = self[i];\n          Event$1.clean(node);\n          if (node.parentNode) {\n            node.parentNode.removeChild(node);\n          }\n        }\n        return this;\n      },\n      empty: function () {\n        var self = this;\n        var node, i = this.length;\n        while (i--) {\n          node = self[i];\n          while (node.firstChild) {\n            node.removeChild(node.firstChild);\n          }\n        }\n        return this;\n      },\n      html: function (value) {\n        var self = this;\n        var i;\n        if (isDefined(value)) {\n          i = self.length;\n          try {\n            while (i--) {\n              self[i].innerHTML = value;\n            }\n          } catch (ex) {\n            DomQuery(self[i]).empty().append(value);\n          }\n          return self;\n        }\n        return self[0] ? self[0].innerHTML : '';\n      },\n      text: function (value) {\n        var self = this;\n        var i;\n        if (isDefined(value)) {\n          i = self.length;\n          while (i--) {\n            if ('innerText' in self[i]) {\n              self[i].innerText = value;\n            } else {\n              self[0].textContent = value;\n            }\n          }\n          return self;\n        }\n        return self[0] ? self[0].innerText || self[0].textContent : '';\n      },\n      append: function () {\n        return domManipulate(this, arguments, function (node) {\n          if (this.nodeType === 1 || this.host && this.host.nodeType === 1) {\n            this.appendChild(node);\n          }\n        });\n      },\n      prepend: function () {\n        return domManipulate(this, arguments, function (node) {\n          if (this.nodeType === 1 || this.host && this.host.nodeType === 1) {\n            this.insertBefore(node, this.firstChild);\n          }\n        }, true);\n      },\n      before: function () {\n        var self = this;\n        if (self[0] && self[0].parentNode) {\n          return domManipulate(self, arguments, function (node) {\n            this.parentNode.insertBefore(node, this);\n          });\n        }\n        return self;\n      },\n      after: function () {\n        var self = this;\n        if (self[0] && self[0].parentNode) {\n          return domManipulate(self, arguments, function (node) {\n            this.parentNode.insertBefore(node, this.nextSibling);\n          }, true);\n        }\n        return self;\n      },\n      appendTo: function (val) {\n        DomQuery(val).append(this);\n        return this;\n      },\n      prependTo: function (val) {\n        DomQuery(val).prepend(this);\n        return this;\n      },\n      replaceWith: function (content) {\n        return this.before(content).remove();\n      },\n      wrap: function (content) {\n        return wrap$2(this, content);\n      },\n      wrapAll: function (content) {\n        return wrap$2(this, content, true);\n      },\n      wrapInner: function (content) {\n        this.each(function () {\n          DomQuery(this).contents().wrapAll(content);\n        });\n        return this;\n      },\n      unwrap: function () {\n        return this.parent().each(function () {\n          DomQuery(this).replaceWith(this.childNodes);\n        });\n      },\n      clone: function () {\n        var result = [];\n        this.each(function () {\n          result.push(this.cloneNode(true));\n        });\n        return DomQuery(result);\n      },\n      addClass: function (className) {\n        return this.toggleClass(className, true);\n      },\n      removeClass: function (className) {\n        return this.toggleClass(className, false);\n      },\n      toggleClass: function (className, state) {\n        var self = this;\n        if (typeof className !== 'string') {\n          return self;\n        }\n        if (className.indexOf(' ') !== -1) {\n          each$g(className.split(' '), function () {\n            self.toggleClass(this, state);\n          });\n        } else {\n          self.each(function (index, node) {\n            var classState = hasClass(node, className);\n            if (classState !== state) {\n              var existingClassName = node.className;\n              if (classState) {\n                node.className = trim$1((' ' + existingClassName + ' ').replace(' ' + className + ' ', ' '));\n              } else {\n                node.className += existingClassName ? ' ' + className : className;\n              }\n            }\n          });\n        }\n        return self;\n      },\n      hasClass: function (className) {\n        return hasClass(this[0], className);\n      },\n      each: function (callback) {\n        return each$g(this, callback);\n      },\n      on: function (name, callback) {\n        return this.each(function () {\n          Event$1.bind(this, name, callback);\n        });\n      },\n      off: function (name, callback) {\n        return this.each(function () {\n          Event$1.unbind(this, name, callback);\n        });\n      },\n      trigger: function (name) {\n        return this.each(function () {\n          if (typeof name === 'object') {\n            Event$1.fire(this, name.type, name);\n          } else {\n            Event$1.fire(this, name);\n          }\n        });\n      },\n      show: function () {\n        return this.css('display', '');\n      },\n      hide: function () {\n        return this.css('display', 'none');\n      },\n      slice: function () {\n        return DomQuery(slice.apply(this, arguments));\n      },\n      eq: function (index) {\n        return index === -1 ? this.slice(index) : this.slice(index, +index + 1);\n      },\n      first: function () {\n        return this.eq(0);\n      },\n      last: function () {\n        return this.eq(-1);\n      },\n      find: function (selector) {\n        var i, l;\n        var ret = [];\n        for (i = 0, l = this.length; i < l; i++) {\n          DomQuery.find(selector, this[i], ret);\n        }\n        return DomQuery(ret);\n      },\n      filter: function (selector) {\n        if (typeof selector === 'function') {\n          return DomQuery(grep$2(this.toArray(), function (item, i) {\n            return selector(i, item);\n          }));\n        }\n        return DomQuery(DomQuery.filter(selector, this.toArray()));\n      },\n      closest: function (selector) {\n        var result = [];\n        if (selector instanceof DomQuery) {\n          selector = selector[0];\n        }\n        this.each(function (i, node) {\n          while (node) {\n            if (typeof selector === 'string' && DomQuery(node).is(selector)) {\n              result.push(node);\n              break;\n            } else if (node === selector) {\n              result.push(node);\n              break;\n            }\n            node = node.parentNode;\n          }\n        });\n        return DomQuery(result);\n      },\n      offset: function (offset) {\n        var elm, doc, docElm;\n        var x = 0, y = 0, pos;\n        if (!offset) {\n          elm = this[0];\n          if (elm) {\n            doc = elm.ownerDocument;\n            docElm = doc.documentElement;\n            if (elm.getBoundingClientRect) {\n              pos = elm.getBoundingClientRect();\n              x = pos.left + (docElm.scrollLeft || doc.body.scrollLeft) - docElm.clientLeft;\n              y = pos.top + (docElm.scrollTop || doc.body.scrollTop) - docElm.clientTop;\n            }\n          }\n          return {\n            left: x,\n            top: y\n          };\n        }\n        return this.css(offset);\n      },\n      push: push,\n      sort: Array.prototype.sort,\n      splice: Array.prototype.splice\n    };\n    Tools.extend(DomQueryConstructor, {\n      extend: Tools.extend,\n      makeArray: function (object) {\n        if (isWindow(object) || object.nodeType) {\n          return [object];\n        }\n        return Tools.toArray(object);\n      },\n      inArray: inArray$1,\n      isArray: Tools.isArray,\n      each: each$g,\n      trim: trim$1,\n      grep: grep$2,\n      find: Sizzle,\n      expr: Sizzle.selectors,\n      unique: Sizzle.uniqueSort,\n      text: Sizzle.getText,\n      contains: Sizzle.contains,\n      filter: function (expr, elems, not) {\n        var i = elems.length;\n        if (not) {\n          expr = ':not(' + expr + ')';\n        }\n        while (i--) {\n          if (elems[i].nodeType !== 1) {\n            elems.splice(i, 1);\n          }\n        }\n        if (elems.length === 1) {\n          elems = DomQuery.find.matchesSelector(elems[0], expr) ? [elems[0]] : [];\n        } else {\n          elems = DomQuery.find.matches(expr, elems);\n        }\n        return elems;\n      }\n    });\n    var dir = function (el, prop, until) {\n      var matched = [];\n      var cur = el[prop];\n      if (typeof until !== 'string' && until instanceof DomQuery) {\n        until = until[0];\n      }\n      while (cur && cur.nodeType !== 9) {\n        if (until !== undefined) {\n          if (cur === until) {\n            break;\n          }\n          if (typeof until === 'string' && DomQuery(cur).is(until)) {\n            break;\n          }\n        }\n        if (cur.nodeType === 1) {\n          matched.push(cur);\n        }\n        cur = cur[prop];\n      }\n      return matched;\n    };\n    var sibling$1 = function (node, siblingName, nodeType, until) {\n      var result = [];\n      if (until instanceof DomQuery) {\n        until = until[0];\n      }\n      for (; node; node = node[siblingName]) {\n        if (nodeType && node.nodeType !== nodeType) {\n          continue;\n        }\n        if (until !== undefined) {\n          if (node === until) {\n            break;\n          }\n          if (typeof until === 'string' && DomQuery(node).is(until)) {\n            break;\n          }\n        }\n        result.push(node);\n      }\n      return result;\n    };\n    var firstSibling = function (node, siblingName, nodeType) {\n      for (node = node[siblingName]; node; node = node[siblingName]) {\n        if (node.nodeType === nodeType) {\n          return node;\n        }\n      }\n      return null;\n    };\n    each$g({\n      parent: function (node) {\n        var parent = node.parentNode;\n        return parent && parent.nodeType !== 11 ? parent : null;\n      },\n      parents: function (node) {\n        return dir(node, 'parentNode');\n      },\n      next: function (node) {\n        return firstSibling(node, 'nextSibling', 1);\n      },\n      prev: function (node) {\n        return firstSibling(node, 'previousSibling', 1);\n      },\n      children: function (node) {\n        return sibling$1(node.firstChild, 'nextSibling', 1);\n      },\n      contents: function (node) {\n        return Tools.toArray((node.nodeName === 'iframe' ? node.contentDocument || node.contentWindow.document : node).childNodes);\n      }\n    }, function (name, fn) {\n      DomQueryConstructor.fn[name] = function (selector) {\n        var self = this;\n        var result = [];\n        self.each(function () {\n          var nodes = fn.call(result, this, selector, result);\n          if (nodes) {\n            if (DomQuery.isArray(nodes)) {\n              result.push.apply(result, nodes);\n            } else {\n              result.push(nodes);\n            }\n          }\n        });\n        if (this.length > 1) {\n          if (!skipUniques[name]) {\n            result = DomQuery.unique(result);\n          }\n          if (name.indexOf('parents') === 0) {\n            result = result.reverse();\n          }\n        }\n        var wrappedResult = DomQuery(result);\n        if (selector) {\n          return wrappedResult.filter(selector);\n        }\n        return wrappedResult;\n      };\n    });\n    each$g({\n      parentsUntil: function (node, until) {\n        return dir(node, 'parentNode', until);\n      },\n      nextUntil: function (node, until) {\n        return sibling$1(node, 'nextSibling', 1, until).slice(1);\n      },\n      prevUntil: function (node, until) {\n        return sibling$1(node, 'previousSibling', 1, until).slice(1);\n      }\n    }, function (name, fn) {\n      DomQueryConstructor.fn[name] = function (selector, filter) {\n        var self = this;\n        var result = [];\n        self.each(function () {\n          var nodes = fn.call(result, this, selector, result);\n          if (nodes) {\n            if (DomQuery.isArray(nodes)) {\n              result.push.apply(result, nodes);\n            } else {\n              result.push(nodes);\n            }\n          }\n        });\n        if (this.length > 1) {\n          result = DomQuery.unique(result);\n          if (name.indexOf('parents') === 0 || name === 'prevUntil') {\n            result = result.reverse();\n          }\n        }\n        var wrappedResult = DomQuery(result);\n        if (filter) {\n          return wrappedResult.filter(filter);\n        }\n        return wrappedResult;\n      };\n    });\n    DomQueryConstructor.fn.is = function (selector) {\n      return !!selector && this.filter(selector).length > 0;\n    };\n    DomQueryConstructor.fn.init.prototype = DomQueryConstructor.fn;\n    DomQueryConstructor.overrideDefaults = function (callback) {\n      var defaults;\n      var sub = function (selector, context) {\n        defaults = defaults || callback();\n        if (arguments.length === 0) {\n          selector = defaults.element;\n        }\n        if (!context) {\n          context = defaults.context;\n        }\n        return new sub.fn.init(selector, context);\n      };\n      DomQuery.extend(sub, this);\n      return sub;\n    };\n    DomQueryConstructor.attrHooks = attrHooks;\n    DomQueryConstructor.cssHooks = cssHooks;\n    var DomQuery = DomQueryConstructor;\n\n    var each$f = Tools.each;\n    var grep$1 = Tools.grep;\n    var isIE = Env.ie;\n    var simpleSelectorRe = /^([a-z0-9],?)+$/i;\n    var setupAttrHooks = function (styles, settings, getContext) {\n      var keepValues = settings.keep_values;\n      var keepUrlHook = {\n        set: function ($elm, value, name) {\n          if (settings.url_converter && value !== null) {\n            value = settings.url_converter.call(settings.url_converter_scope || getContext(), value, name, $elm[0]);\n          }\n          $elm.attr('data-mce-' + name, value).attr(name, value);\n        },\n        get: function ($elm, name) {\n          return $elm.attr('data-mce-' + name) || $elm.attr(name);\n        }\n      };\n      var attrHooks = {\n        style: {\n          set: function ($elm, value) {\n            if (value !== null && typeof value === 'object') {\n              $elm.css(value);\n              return;\n            }\n            if (keepValues) {\n              $elm.attr('data-mce-style', value);\n            }\n            if (value !== null && typeof value === 'string') {\n              $elm.removeAttr('style');\n              $elm.css(styles.parse(value));\n            } else {\n              $elm.attr('style', value);\n            }\n          },\n          get: function ($elm) {\n            var value = $elm.attr('data-mce-style') || $elm.attr('style');\n            value = styles.serialize(styles.parse(value), $elm[0].nodeName);\n            return value;\n          }\n        }\n      };\n      if (keepValues) {\n        attrHooks.href = attrHooks.src = keepUrlHook;\n      }\n      return attrHooks;\n    };\n    var updateInternalStyleAttr = function (styles, $elm) {\n      var rawValue = $elm.attr('style');\n      var value = styles.serialize(styles.parse(rawValue), $elm[0].nodeName);\n      if (!value) {\n        value = null;\n      }\n      $elm.attr('data-mce-style', value);\n    };\n    var findNodeIndex = function (node, normalized) {\n      var idx = 0, lastNodeType, nodeType;\n      if (node) {\n        for (lastNodeType = node.nodeType, node = node.previousSibling; node; node = node.previousSibling) {\n          nodeType = node.nodeType;\n          if (normalized && nodeType === 3) {\n            if (nodeType === lastNodeType || !node.nodeValue.length) {\n              continue;\n            }\n          }\n          idx++;\n          lastNodeType = nodeType;\n        }\n      }\n      return idx;\n    };\n    var DOMUtils = function (doc, settings) {\n      if (settings === void 0) {\n        settings = {};\n      }\n      var addedStyles = {};\n      var win = window;\n      var files = {};\n      var counter = 0;\n      var stdMode = true;\n      var boxModel = true;\n      var styleSheetLoader = instance.forElement(SugarElement.fromDom(doc), {\n        contentCssCors: settings.contentCssCors,\n        referrerPolicy: settings.referrerPolicy\n      });\n      var boundEvents = [];\n      var schema = settings.schema ? settings.schema : Schema({});\n      var styles = Styles({\n        url_converter: settings.url_converter,\n        url_converter_scope: settings.url_converter_scope\n      }, settings.schema);\n      var events = settings.ownEvents ? new EventUtils() : EventUtils.Event;\n      var blockElementsMap = schema.getBlockElements();\n      var $ = DomQuery.overrideDefaults(function () {\n        return {\n          context: doc,\n          element: self.getRoot()\n        };\n      });\n      var isBlock = function (node) {\n        if (typeof node === 'string') {\n          return !!blockElementsMap[node];\n        } else if (node) {\n          var type = node.nodeType;\n          if (type) {\n            return !!(type === 1 && blockElementsMap[node.nodeName]);\n          }\n        }\n        return false;\n      };\n      var get = function (elm) {\n        return elm && doc && isString$1(elm) ? doc.getElementById(elm) : elm;\n      };\n      var $$ = function (elm) {\n        return $(typeof elm === 'string' ? get(elm) : elm);\n      };\n      var getAttrib = function (elm, name, defaultVal) {\n        var hook, value;\n        var $elm = $$(elm);\n        if ($elm.length) {\n          hook = attrHooks[name];\n          if (hook && hook.get) {\n            value = hook.get($elm, name);\n          } else {\n            value = $elm.attr(name);\n          }\n        }\n        if (typeof value === 'undefined') {\n          value = defaultVal || '';\n        }\n        return value;\n      };\n      var getAttribs = function (elm) {\n        var node = get(elm);\n        if (!node) {\n          return [];\n        }\n        return node.attributes;\n      };\n      var setAttrib = function (elm, name, value) {\n        if (value === '') {\n          value = null;\n        }\n        var $elm = $$(elm);\n        var originalValue = $elm.attr(name);\n        if (!$elm.length) {\n          return;\n        }\n        var hook = attrHooks[name];\n        if (hook && hook.set) {\n          hook.set($elm, value, name);\n        } else {\n          $elm.attr(name, value);\n        }\n        if (originalValue !== value && settings.onSetAttrib) {\n          settings.onSetAttrib({\n            attrElm: $elm,\n            attrName: name,\n            attrValue: value\n          });\n        }\n      };\n      var clone = function (node, deep) {\n        if (!isIE || node.nodeType !== 1 || deep) {\n          return node.cloneNode(deep);\n        } else {\n          var clone_1 = doc.createElement(node.nodeName);\n          each$f(getAttribs(node), function (attr) {\n            setAttrib(clone_1, attr.nodeName, getAttrib(node, attr.nodeName));\n          });\n          return clone_1;\n        }\n      };\n      var getRoot = function () {\n        return settings.root_element || doc.body;\n      };\n      var getViewPort = function (argWin) {\n        var vp = getBounds(argWin);\n        return {\n          x: vp.x,\n          y: vp.y,\n          w: vp.width,\n          h: vp.height\n        };\n      };\n      var getPos$1 = function (elm, rootElm) {\n        return getPos(doc.body, get(elm), rootElm);\n      };\n      var setStyle = function (elm, name, value) {\n        var $elm = isString$1(name) ? $$(elm).css(name, value) : $$(elm).css(name);\n        if (settings.update_styles) {\n          updateInternalStyleAttr(styles, $elm);\n        }\n      };\n      var setStyles = function (elm, stylesArg) {\n        var $elm = $$(elm).css(stylesArg);\n        if (settings.update_styles) {\n          updateInternalStyleAttr(styles, $elm);\n        }\n      };\n      var getStyle = function (elm, name, computed) {\n        var $elm = $$(elm);\n        if (computed) {\n          return $elm.css(name);\n        }\n        name = name.replace(/-(\\D)/g, function (a, b) {\n          return b.toUpperCase();\n        });\n        if (name === 'float') {\n          name = Env.browser.isIE() ? 'styleFloat' : 'cssFloat';\n        }\n        return $elm[0] && $elm[0].style ? $elm[0].style[name] : undefined;\n      };\n      var getSize = function (elm) {\n        var w, h;\n        elm = get(elm);\n        w = getStyle(elm, 'width');\n        h = getStyle(elm, 'height');\n        if (w.indexOf('px') === -1) {\n          w = 0;\n        }\n        if (h.indexOf('px') === -1) {\n          h = 0;\n        }\n        return {\n          w: parseInt(w, 10) || elm.offsetWidth || elm.clientWidth,\n          h: parseInt(h, 10) || elm.offsetHeight || elm.clientHeight\n        };\n      };\n      var getRect = function (elm) {\n        elm = get(elm);\n        var pos = getPos$1(elm);\n        var size = getSize(elm);\n        return {\n          x: pos.x,\n          y: pos.y,\n          w: size.w,\n          h: size.h\n        };\n      };\n      var is = function (elm, selector) {\n        var i;\n        if (!elm) {\n          return false;\n        }\n        if (!Array.isArray(elm)) {\n          if (selector === '*') {\n            return elm.nodeType === 1;\n          }\n          if (simpleSelectorRe.test(selector)) {\n            var selectors = selector.toLowerCase().split(/,/);\n            var elmName = elm.nodeName.toLowerCase();\n            for (i = selectors.length - 1; i >= 0; i--) {\n              if (selectors[i] === elmName) {\n                return true;\n              }\n            }\n            return false;\n          }\n          if (elm.nodeType && elm.nodeType !== 1) {\n            return false;\n          }\n        }\n        var elms = !Array.isArray(elm) ? [elm] : elm;\n        return Sizzle(selector, elms[0].ownerDocument || elms[0], null, elms).length > 0;\n      };\n      var getParents = function (elm, selector, root, collect) {\n        var result = [];\n        var selectorVal;\n        var node = get(elm);\n        collect = collect === undefined;\n        root = root || (getRoot().nodeName !== 'BODY' ? getRoot().parentNode : null);\n        if (Tools.is(selector, 'string')) {\n          selectorVal = selector;\n          if (selector === '*') {\n            selector = function (node) {\n              return node.nodeType === 1;\n            };\n          } else {\n            selector = function (node) {\n              return is(node, selectorVal);\n            };\n          }\n        }\n        while (node) {\n          if (node === root || isNullable(node.nodeType) || isDocument$1(node) || isDocumentFragment(node)) {\n            break;\n          }\n          if (!selector || typeof selector === 'function' && selector(node)) {\n            if (collect) {\n              result.push(node);\n            } else {\n              return [node];\n            }\n          }\n          node = node.parentNode;\n        }\n        return collect ? result : null;\n      };\n      var getParent = function (node, selector, root) {\n        var parents = getParents(node, selector, root, false);\n        return parents && parents.length > 0 ? parents[0] : null;\n      };\n      var _findSib = function (node, selector, name) {\n        var func = selector;\n        if (node) {\n          if (typeof selector === 'string') {\n            func = function (node) {\n              return is(node, selector);\n            };\n          }\n          for (node = node[name]; node; node = node[name]) {\n            if (typeof func === 'function' && func(node)) {\n              return node;\n            }\n          }\n        }\n        return null;\n      };\n      var getNext = function (node, selector) {\n        return _findSib(node, selector, 'nextSibling');\n      };\n      var getPrev = function (node, selector) {\n        return _findSib(node, selector, 'previousSibling');\n      };\n      var select = function (selector, scope) {\n        return Sizzle(selector, get(scope) || settings.root_element || doc, []);\n      };\n      var run = function (elm, func, scope) {\n        var result;\n        var node = typeof elm === 'string' ? get(elm) : elm;\n        if (!node) {\n          return false;\n        }\n        if (Tools.isArray(node) && (node.length || node.length === 0)) {\n          result = [];\n          each$f(node, function (elm, i) {\n            if (elm) {\n              result.push(func.call(scope, typeof elm === 'string' ? get(elm) : elm, i));\n            }\n          });\n          return result;\n        }\n        var context = scope ? scope : this;\n        return func.call(context, node);\n      };\n      var setAttribs = function (elm, attrs) {\n        $$(elm).each(function (i, node) {\n          each$f(attrs, function (value, name) {\n            setAttrib(node, name, value);\n          });\n        });\n      };\n      var setHTML = function (elm, html) {\n        var $elm = $$(elm);\n        if (isIE) {\n          $elm.each(function (i, target) {\n            if (target.canHaveHTML === false) {\n              return;\n            }\n            while (target.firstChild) {\n              target.removeChild(target.firstChild);\n            }\n            try {\n              target.innerHTML = '<br>' + html;\n              target.removeChild(target.firstChild);\n            } catch (ex) {\n              DomQuery('<div></div>').html('<br>' + html).contents().slice(1).appendTo(target);\n            }\n            return html;\n          });\n        } else {\n          $elm.html(html);\n        }\n      };\n      var add = function (parentElm, name, attrs, html, create) {\n        return run(parentElm, function (parentElm) {\n          var newElm = typeof name === 'string' ? doc.createElement(name) : name;\n          setAttribs(newElm, attrs);\n          if (html) {\n            if (typeof html !== 'string' && html.nodeType) {\n              newElm.appendChild(html);\n            } else if (typeof html === 'string') {\n              setHTML(newElm, html);\n            }\n          }\n          return !create ? parentElm.appendChild(newElm) : newElm;\n        });\n      };\n      var create = function (name, attrs, html) {\n        return add(doc.createElement(name), name, attrs, html, true);\n      };\n      var decode = Entities.decode;\n      var encode = Entities.encodeAllRaw;\n      var createHTML = function (name, attrs, html) {\n        var outHtml = '', key;\n        outHtml += '<' + name;\n        for (key in attrs) {\n          if (hasNonNullableKey(attrs, key)) {\n            outHtml += ' ' + key + '=\"' + encode(attrs[key]) + '\"';\n          }\n        }\n        if (typeof html !== 'undefined') {\n          return outHtml + '>' + html + '</' + name + '>';\n        }\n        return outHtml + ' />';\n      };\n      var createFragment = function (html) {\n        var node;\n        var container = doc.createElement('div');\n        var frag = doc.createDocumentFragment();\n        frag.appendChild(container);\n        if (html) {\n          container.innerHTML = html;\n        }\n        while (node = container.firstChild) {\n          frag.appendChild(node);\n        }\n        frag.removeChild(container);\n        return frag;\n      };\n      var remove = function (node, keepChildren) {\n        var $node = $$(node);\n        if (keepChildren) {\n          $node.each(function () {\n            var child;\n            while (child = this.firstChild) {\n              if (child.nodeType === 3 && child.data.length === 0) {\n                this.removeChild(child);\n              } else {\n                this.parentNode.insertBefore(child, this);\n              }\n            }\n          }).remove();\n        } else {\n          $node.remove();\n        }\n        return $node.length > 1 ? $node.toArray() : $node[0];\n      };\n      var removeAllAttribs = function (e) {\n        return run(e, function (e) {\n          var i;\n          var attrs = e.attributes;\n          for (i = attrs.length - 1; i >= 0; i--) {\n            e.removeAttributeNode(attrs.item(i));\n          }\n        });\n      };\n      var parseStyle = function (cssText) {\n        return styles.parse(cssText);\n      };\n      var serializeStyle = function (stylesArg, name) {\n        return styles.serialize(stylesArg, name);\n      };\n      var addStyle = function (cssText) {\n        var head, styleElm;\n        if (self !== DOMUtils.DOM && doc === document) {\n          if (addedStyles[cssText]) {\n            return;\n          }\n          addedStyles[cssText] = true;\n        }\n        styleElm = doc.getElementById('mceDefaultStyles');\n        if (!styleElm) {\n          styleElm = doc.createElement('style');\n          styleElm.id = 'mceDefaultStyles';\n          styleElm.type = 'text/css';\n          head = doc.getElementsByTagName('head')[0];\n          if (head.firstChild) {\n            head.insertBefore(styleElm, head.firstChild);\n          } else {\n            head.appendChild(styleElm);\n          }\n        }\n        if (styleElm.styleSheet) {\n          styleElm.styleSheet.cssText += cssText;\n        } else {\n          styleElm.appendChild(doc.createTextNode(cssText));\n        }\n      };\n      var loadCSS = function (urls) {\n        if (!urls) {\n          urls = '';\n        }\n        each$k(urls.split(','), function (url) {\n          files[url] = true;\n          styleSheetLoader.load(url, noop);\n        });\n      };\n      var toggleClass = function (elm, cls, state) {\n        $$(elm).toggleClass(cls, state).each(function () {\n          if (this.className === '') {\n            DomQuery(this).attr('class', null);\n          }\n        });\n      };\n      var addClass = function (elm, cls) {\n        $$(elm).addClass(cls);\n      };\n      var removeClass = function (elm, cls) {\n        toggleClass(elm, cls, false);\n      };\n      var hasClass = function (elm, cls) {\n        return $$(elm).hasClass(cls);\n      };\n      var show = function (elm) {\n        $$(elm).show();\n      };\n      var hide = function (elm) {\n        $$(elm).hide();\n      };\n      var isHidden = function (elm) {\n        return $$(elm).css('display') === 'none';\n      };\n      var uniqueId = function (prefix) {\n        return (!prefix ? 'mce_' : prefix) + counter++;\n      };\n      var getOuterHTML = function (elm) {\n        var node = typeof elm === 'string' ? get(elm) : elm;\n        return isElement$5(node) ? node.outerHTML : DomQuery('<div></div>').append(DomQuery(node).clone()).html();\n      };\n      var setOuterHTML = function (elm, html) {\n        $$(elm).each(function () {\n          try {\n            if ('outerHTML' in this) {\n              this.outerHTML = html;\n              return;\n            }\n          } catch (ex) {\n          }\n          remove(DomQuery(this).html(html), true);\n        });\n      };\n      var insertAfter = function (node, reference) {\n        var referenceNode = get(reference);\n        return run(node, function (node) {\n          var parent = referenceNode.parentNode;\n          var nextSibling = referenceNode.nextSibling;\n          if (nextSibling) {\n            parent.insertBefore(node, nextSibling);\n          } else {\n            parent.appendChild(node);\n          }\n          return node;\n        });\n      };\n      var replace = function (newElm, oldElm, keepChildren) {\n        return run(oldElm, function (oldElm) {\n          if (Tools.is(oldElm, 'array')) {\n            newElm = newElm.cloneNode(true);\n          }\n          if (keepChildren) {\n            each$f(grep$1(oldElm.childNodes), function (node) {\n              newElm.appendChild(node);\n            });\n          }\n          return oldElm.parentNode.replaceChild(newElm, oldElm);\n        });\n      };\n      var rename = function (elm, name) {\n        var newElm;\n        if (elm.nodeName !== name.toUpperCase()) {\n          newElm = create(name);\n          each$f(getAttribs(elm), function (attrNode) {\n            setAttrib(newElm, attrNode.nodeName, getAttrib(elm, attrNode.nodeName));\n          });\n          replace(newElm, elm, true);\n        }\n        return newElm || elm;\n      };\n      var findCommonAncestor = function (a, b) {\n        var ps = a, pe;\n        while (ps) {\n          pe = b;\n          while (pe && ps !== pe) {\n            pe = pe.parentNode;\n          }\n          if (ps === pe) {\n            break;\n          }\n          ps = ps.parentNode;\n        }\n        if (!ps && a.ownerDocument) {\n          return a.ownerDocument.documentElement;\n        }\n        return ps;\n      };\n      var toHex = function (rgbVal) {\n        return styles.toHex(Tools.trim(rgbVal));\n      };\n      var isNonEmptyElement = function (node) {\n        if (isElement$5(node)) {\n          var isNamedAnchor = node.nodeName.toLowerCase() === 'a' && !getAttrib(node, 'href') && getAttrib(node, 'id');\n          if (getAttrib(node, 'name') || getAttrib(node, 'data-mce-bookmark') || isNamedAnchor) {\n            return true;\n          }\n        }\n        return false;\n      };\n      var isEmpty = function (node, elements) {\n        var type, name, brCount = 0;\n        if (isNonEmptyElement(node)) {\n          return false;\n        }\n        node = node.firstChild;\n        if (node) {\n          var walker = new DomTreeWalker(node, node.parentNode);\n          var whitespace = schema ? schema.getWhiteSpaceElements() : {};\n          elements = elements || (schema ? schema.getNonEmptyElements() : null);\n          do {\n            type = node.nodeType;\n            if (isElement$5(node)) {\n              var bogusVal = node.getAttribute('data-mce-bogus');\n              if (bogusVal) {\n                node = walker.next(bogusVal === 'all');\n                continue;\n              }\n              name = node.nodeName.toLowerCase();\n              if (elements && elements[name]) {\n                if (name === 'br') {\n                  brCount++;\n                  node = walker.next();\n                  continue;\n                }\n                return false;\n              }\n              if (isNonEmptyElement(node)) {\n                return false;\n              }\n            }\n            if (type === 8) {\n              return false;\n            }\n            if (type === 3 && !isWhitespaceText(node.nodeValue)) {\n              return false;\n            }\n            if (type === 3 && node.parentNode && whitespace[node.parentNode.nodeName] && isWhitespaceText(node.nodeValue)) {\n              return false;\n            }\n            node = walker.next();\n          } while (node);\n        }\n        return brCount <= 1;\n      };\n      var createRng = function () {\n        return doc.createRange();\n      };\n      var split = function (parentElm, splitElm, replacementElm) {\n        var range = createRng();\n        var beforeFragment;\n        var afterFragment;\n        var parentNode;\n        if (parentElm && splitElm) {\n          range.setStart(parentElm.parentNode, findNodeIndex(parentElm));\n          range.setEnd(splitElm.parentNode, findNodeIndex(splitElm));\n          beforeFragment = range.extractContents();\n          range = createRng();\n          range.setStart(splitElm.parentNode, findNodeIndex(splitElm) + 1);\n          range.setEnd(parentElm.parentNode, findNodeIndex(parentElm) + 1);\n          afterFragment = range.extractContents();\n          parentNode = parentElm.parentNode;\n          parentNode.insertBefore(trimNode(self, beforeFragment), parentElm);\n          if (replacementElm) {\n            parentNode.insertBefore(replacementElm, parentElm);\n          } else {\n            parentNode.insertBefore(splitElm, parentElm);\n          }\n          parentNode.insertBefore(trimNode(self, afterFragment), parentElm);\n          remove(parentElm);\n          return replacementElm || splitElm;\n        }\n      };\n      var bind = function (target, name, func, scope) {\n        if (Tools.isArray(target)) {\n          var i = target.length;\n          var rv = [];\n          while (i--) {\n            rv[i] = bind(target[i], name, func, scope);\n          }\n          return rv;\n        }\n        if (settings.collect && (target === doc || target === win)) {\n          boundEvents.push([\n            target,\n            name,\n            func,\n            scope\n          ]);\n        }\n        var output = events.bind(target, name, func, scope || self);\n        return output;\n      };\n      var unbind = function (target, name, func) {\n        if (Tools.isArray(target)) {\n          var i = target.length;\n          var rv = [];\n          while (i--) {\n            rv[i] = unbind(target[i], name, func);\n          }\n          return rv;\n        } else {\n          if (boundEvents.length > 0 && (target === doc || target === win)) {\n            var i = boundEvents.length;\n            while (i--) {\n              var item = boundEvents[i];\n              if (target === item[0] && (!name || name === item[1]) && (!func || func === item[2])) {\n                events.unbind(item[0], item[1], item[2]);\n              }\n            }\n          }\n          return events.unbind(target, name, func);\n        }\n      };\n      var fire = function (target, name, evt) {\n        return events.fire(target, name, evt);\n      };\n      var getContentEditable = function (node) {\n        if (node && isElement$5(node)) {\n          var contentEditable = node.getAttribute('data-mce-contenteditable');\n          if (contentEditable && contentEditable !== 'inherit') {\n            return contentEditable;\n          }\n          return node.contentEditable !== 'inherit' ? node.contentEditable : null;\n        } else {\n          return null;\n        }\n      };\n      var getContentEditableParent = function (node) {\n        var root = getRoot();\n        var state = null;\n        for (; node && node !== root; node = node.parentNode) {\n          state = getContentEditable(node);\n          if (state !== null) {\n            break;\n          }\n        }\n        return state;\n      };\n      var destroy = function () {\n        if (boundEvents.length > 0) {\n          var i = boundEvents.length;\n          while (i--) {\n            var item = boundEvents[i];\n            events.unbind(item[0], item[1], item[2]);\n          }\n        }\n        each$j(files, function (_, url) {\n          styleSheetLoader.unload(url);\n          delete files[url];\n        });\n        if (Sizzle.setDocument) {\n          Sizzle.setDocument();\n        }\n      };\n      var isChildOf = function (node, parent) {\n        if (!isIE) {\n          return node === parent || parent.contains(node);\n        } else {\n          while (node) {\n            if (parent === node) {\n              return true;\n            }\n            node = node.parentNode;\n          }\n          return false;\n        }\n      };\n      var dumpRng = function (r) {\n        return 'startContainer: ' + r.startContainer.nodeName + ', startOffset: ' + r.startOffset + ', endContainer: ' + r.endContainer.nodeName + ', endOffset: ' + r.endOffset;\n      };\n      var self = {\n        doc: doc,\n        settings: settings,\n        win: win,\n        files: files,\n        stdMode: stdMode,\n        boxModel: boxModel,\n        styleSheetLoader: styleSheetLoader,\n        boundEvents: boundEvents,\n        styles: styles,\n        schema: schema,\n        events: events,\n        isBlock: isBlock,\n        $: $,\n        $$: $$,\n        root: null,\n        clone: clone,\n        getRoot: getRoot,\n        getViewPort: getViewPort,\n        getRect: getRect,\n        getSize: getSize,\n        getParent: getParent,\n        getParents: getParents,\n        get: get,\n        getNext: getNext,\n        getPrev: getPrev,\n        select: select,\n        is: is,\n        add: add,\n        create: create,\n        createHTML: createHTML,\n        createFragment: createFragment,\n        remove: remove,\n        setStyle: setStyle,\n        getStyle: getStyle,\n        setStyles: setStyles,\n        removeAllAttribs: removeAllAttribs,\n        setAttrib: setAttrib,\n        setAttribs: setAttribs,\n        getAttrib: getAttrib,\n        getPos: getPos$1,\n        parseStyle: parseStyle,\n        serializeStyle: serializeStyle,\n        addStyle: addStyle,\n        loadCSS: loadCSS,\n        addClass: addClass,\n        removeClass: removeClass,\n        hasClass: hasClass,\n        toggleClass: toggleClass,\n        show: show,\n        hide: hide,\n        isHidden: isHidden,\n        uniqueId: uniqueId,\n        setHTML: setHTML,\n        getOuterHTML: getOuterHTML,\n        setOuterHTML: setOuterHTML,\n        decode: decode,\n        encode: encode,\n        insertAfter: insertAfter,\n        replace: replace,\n        rename: rename,\n        findCommonAncestor: findCommonAncestor,\n        toHex: toHex,\n        run: run,\n        getAttribs: getAttribs,\n        isEmpty: isEmpty,\n        createRng: createRng,\n        nodeIndex: findNodeIndex,\n        split: split,\n        bind: bind,\n        unbind: unbind,\n        fire: fire,\n        getContentEditable: getContentEditable,\n        getContentEditableParent: getContentEditableParent,\n        destroy: destroy,\n        isChildOf: isChildOf,\n        dumpRng: dumpRng\n      };\n      var attrHooks = setupAttrHooks(styles, settings, constant(self));\n      return self;\n    };\n    DOMUtils.DOM = DOMUtils(document);\n    DOMUtils.nodeIndex = findNodeIndex;\n\n    var DOM$a = DOMUtils.DOM;\n    var each$e = Tools.each, grep = Tools.grep;\n    var QUEUED = 0;\n    var LOADING = 1;\n    var LOADED = 2;\n    var FAILED = 3;\n    var ScriptLoader = function () {\n      function ScriptLoader(settings) {\n        if (settings === void 0) {\n          settings = {};\n        }\n        this.states = {};\n        this.queue = [];\n        this.scriptLoadedCallbacks = {};\n        this.queueLoadedCallbacks = [];\n        this.loading = 0;\n        this.settings = settings;\n      }\n      ScriptLoader.prototype._setReferrerPolicy = function (referrerPolicy) {\n        this.settings.referrerPolicy = referrerPolicy;\n      };\n      ScriptLoader.prototype.loadScript = function (url, success, failure) {\n        var dom = DOM$a;\n        var elm;\n        var cleanup = function () {\n          dom.remove(id);\n          if (elm) {\n            elm.onerror = elm.onload = elm = null;\n          }\n        };\n        var done = function () {\n          cleanup();\n          success();\n        };\n        var error = function () {\n          cleanup();\n          if (isFunction(failure)) {\n            failure();\n          } else {\n            if (typeof console !== 'undefined' && console.log) {\n              console.log('Failed to load script: ' + url);\n            }\n          }\n        };\n        var id = dom.uniqueId();\n        elm = document.createElement('script');\n        elm.id = id;\n        elm.type = 'text/javascript';\n        elm.src = Tools._addCacheSuffix(url);\n        if (this.settings.referrerPolicy) {\n          dom.setAttrib(elm, 'referrerpolicy', this.settings.referrerPolicy);\n        }\n        elm.onload = done;\n        elm.onerror = error;\n        (document.getElementsByTagName('head')[0] || document.body).appendChild(elm);\n      };\n      ScriptLoader.prototype.isDone = function (url) {\n        return this.states[url] === LOADED;\n      };\n      ScriptLoader.prototype.markDone = function (url) {\n        this.states[url] = LOADED;\n      };\n      ScriptLoader.prototype.add = function (url, success, scope, failure) {\n        var state = this.states[url];\n        this.queue.push(url);\n        if (state === undefined) {\n          this.states[url] = QUEUED;\n        }\n        if (success) {\n          if (!this.scriptLoadedCallbacks[url]) {\n            this.scriptLoadedCallbacks[url] = [];\n          }\n          this.scriptLoadedCallbacks[url].push({\n            success: success,\n            failure: failure,\n            scope: scope || this\n          });\n        }\n      };\n      ScriptLoader.prototype.load = function (url, success, scope, failure) {\n        return this.add(url, success, scope, failure);\n      };\n      ScriptLoader.prototype.remove = function (url) {\n        delete this.states[url];\n        delete this.scriptLoadedCallbacks[url];\n      };\n      ScriptLoader.prototype.loadQueue = function (success, scope, failure) {\n        this.loadScripts(this.queue, success, scope, failure);\n      };\n      ScriptLoader.prototype.loadScripts = function (scripts, success, scope, failure) {\n        var self = this;\n        var failures = [];\n        var execCallbacks = function (name, url) {\n          each$e(self.scriptLoadedCallbacks[url], function (callback) {\n            if (isFunction(callback[name])) {\n              callback[name].call(callback.scope);\n            }\n          });\n          self.scriptLoadedCallbacks[url] = undefined;\n        };\n        self.queueLoadedCallbacks.push({\n          success: success,\n          failure: failure,\n          scope: scope || this\n        });\n        var loadScripts = function () {\n          var loadingScripts = grep(scripts);\n          scripts.length = 0;\n          each$e(loadingScripts, function (url) {\n            if (self.states[url] === LOADED) {\n              execCallbacks('success', url);\n              return;\n            }\n            if (self.states[url] === FAILED) {\n              execCallbacks('failure', url);\n              return;\n            }\n            if (self.states[url] !== LOADING) {\n              self.states[url] = LOADING;\n              self.loading++;\n              self.loadScript(url, function () {\n                self.states[url] = LOADED;\n                self.loading--;\n                execCallbacks('success', url);\n                loadScripts();\n              }, function () {\n                self.states[url] = FAILED;\n                self.loading--;\n                failures.push(url);\n                execCallbacks('failure', url);\n                loadScripts();\n              });\n            }\n          });\n          if (!self.loading) {\n            var notifyCallbacks = self.queueLoadedCallbacks.slice(0);\n            self.queueLoadedCallbacks.length = 0;\n            each$e(notifyCallbacks, function (callback) {\n              if (failures.length === 0) {\n                if (isFunction(callback.success)) {\n                  callback.success.call(callback.scope);\n                }\n              } else {\n                if (isFunction(callback.failure)) {\n                  callback.failure.call(callback.scope, failures);\n                }\n              }\n            });\n          }\n        };\n        loadScripts();\n      };\n      ScriptLoader.ScriptLoader = new ScriptLoader();\n      return ScriptLoader;\n    }();\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var isRaw = function (str) {\n      return isObject(str) && has$2(str, 'raw');\n    };\n    var isTokenised = function (str) {\n      return isArray$1(str) && str.length > 1;\n    };\n    var data = {};\n    var currentCode = Cell('en');\n    var getLanguageData = function () {\n      return get$9(data, currentCode.get());\n    };\n    var getData = function () {\n      return map$2(data, function (value) {\n        return __assign({}, value);\n      });\n    };\n    var setCode = function (newCode) {\n      if (newCode) {\n        currentCode.set(newCode);\n      }\n    };\n    var getCode = function () {\n      return currentCode.get();\n    };\n    var add$4 = function (code, items) {\n      var langData = data[code];\n      if (!langData) {\n        data[code] = langData = {};\n      }\n      each$j(items, function (translation, name) {\n        langData[name.toLowerCase()] = translation;\n      });\n    };\n    var translate = function (text) {\n      var langData = getLanguageData().getOr({});\n      var toString = function (obj) {\n        if (isFunction(obj)) {\n          return Object.prototype.toString.call(obj);\n        }\n        return !isEmpty(obj) ? '' + obj : '';\n      };\n      var isEmpty = function (text) {\n        return text === '' || text === null || text === undefined;\n      };\n      var getLangData = function (text) {\n        var textstr = toString(text);\n        return get$9(langData, textstr.toLowerCase()).map(toString).getOr(textstr);\n      };\n      var removeContext = function (str) {\n        return str.replace(/{context:\\w+}$/, '');\n      };\n      if (isEmpty(text)) {\n        return '';\n      }\n      if (isRaw(text)) {\n        return toString(text.raw);\n      }\n      if (isTokenised(text)) {\n        var values_1 = text.slice(1);\n        var substitued = getLangData(text[0]).replace(/\\{([0-9]+)\\}/g, function ($1, $2) {\n          return has$2(values_1, $2) ? toString(values_1[$2]) : $1;\n        });\n        return removeContext(substitued);\n      }\n      return removeContext(getLangData(text));\n    };\n    var isRtl$1 = function () {\n      return getLanguageData().bind(function (items) {\n        return get$9(items, '_dir');\n      }).exists(function (dir) {\n        return dir === 'rtl';\n      });\n    };\n    var hasCode = function (code) {\n      return has$2(data, code);\n    };\n    var I18n = {\n      getData: getData,\n      setCode: setCode,\n      getCode: getCode,\n      add: add$4,\n      translate: translate,\n      isRtl: isRtl$1,\n      hasCode: hasCode\n    };\n\n    var AddOnManager = function () {\n      var items = [];\n      var urls = {};\n      var lookup = {};\n      var _listeners = [];\n      var runListeners = function (name, state) {\n        var matchedListeners = filter$4(_listeners, function (listener) {\n          return listener.name === name && listener.state === state;\n        });\n        each$k(matchedListeners, function (listener) {\n          return listener.callback();\n        });\n      };\n      var get = function (name) {\n        if (lookup[name]) {\n          return lookup[name].instance;\n        }\n        return undefined;\n      };\n      var dependencies = function (name) {\n        var result;\n        if (lookup[name]) {\n          result = lookup[name].dependencies;\n        }\n        return result || [];\n      };\n      var requireLangPack = function (name, languages) {\n        if (AddOnManager.languageLoad !== false) {\n          waitFor(name, function () {\n            var language = I18n.getCode();\n            var wrappedLanguages = ',' + (languages || '') + ',';\n            if (!language || languages && wrappedLanguages.indexOf(',' + language + ',') === -1) {\n              return;\n            }\n            ScriptLoader.ScriptLoader.add(urls[name] + '/langs/' + language + '.js');\n          }, 'loaded');\n        }\n      };\n      var add = function (id, addOn, dependencies) {\n        var addOnConstructor = addOn;\n        items.push(addOnConstructor);\n        lookup[id] = {\n          instance: addOnConstructor,\n          dependencies: dependencies\n        };\n        runListeners(id, 'added');\n        return addOnConstructor;\n      };\n      var remove = function (name) {\n        delete urls[name];\n        delete lookup[name];\n      };\n      var createUrl = function (baseUrl, dep) {\n        if (typeof dep === 'object') {\n          return dep;\n        }\n        return typeof baseUrl === 'string' ? {\n          prefix: '',\n          resource: dep,\n          suffix: ''\n        } : {\n          prefix: baseUrl.prefix,\n          resource: dep,\n          suffix: baseUrl.suffix\n        };\n      };\n      var addComponents = function (pluginName, scripts) {\n        var pluginUrl = urls[pluginName];\n        each$k(scripts, function (script) {\n          ScriptLoader.ScriptLoader.add(pluginUrl + '/' + script);\n        });\n      };\n      var loadDependencies = function (name, addOnUrl, success, scope) {\n        var deps = dependencies(name);\n        each$k(deps, function (dep) {\n          var newUrl = createUrl(addOnUrl, dep);\n          load(newUrl.resource, newUrl, undefined, undefined);\n        });\n        if (success) {\n          if (scope) {\n            success.call(scope);\n          } else {\n            success.call(ScriptLoader);\n          }\n        }\n      };\n      var load = function (name, addOnUrl, success, scope, failure) {\n        if (urls[name]) {\n          return;\n        }\n        var urlString = typeof addOnUrl === 'string' ? addOnUrl : addOnUrl.prefix + addOnUrl.resource + addOnUrl.suffix;\n        if (urlString.indexOf('/') !== 0 && urlString.indexOf('://') === -1) {\n          urlString = AddOnManager.baseURL + '/' + urlString;\n        }\n        urls[name] = urlString.substring(0, urlString.lastIndexOf('/'));\n        var done = function () {\n          runListeners(name, 'loaded');\n          loadDependencies(name, addOnUrl, success, scope);\n        };\n        if (lookup[name]) {\n          done();\n        } else {\n          ScriptLoader.ScriptLoader.add(urlString, done, scope, failure);\n        }\n      };\n      var waitFor = function (name, callback, state) {\n        if (state === void 0) {\n          state = 'added';\n        }\n        if (has$2(lookup, name) && state === 'added') {\n          callback();\n        } else if (has$2(urls, name) && state === 'loaded') {\n          callback();\n        } else {\n          _listeners.push({\n            name: name,\n            state: state,\n            callback: callback\n          });\n        }\n      };\n      return {\n        items: items,\n        urls: urls,\n        lookup: lookup,\n        _listeners: _listeners,\n        get: get,\n        dependencies: dependencies,\n        requireLangPack: requireLangPack,\n        add: add,\n        remove: remove,\n        createUrl: createUrl,\n        addComponents: addComponents,\n        load: load,\n        waitFor: waitFor\n      };\n    };\n    AddOnManager.languageLoad = true;\n    AddOnManager.baseURL = '';\n    AddOnManager.PluginManager = AddOnManager();\n    AddOnManager.ThemeManager = AddOnManager();\n\n    var singleton = function (doRevoke) {\n      var subject = Cell(Optional.none());\n      var revoke = function () {\n        return subject.get().each(doRevoke);\n      };\n      var clear = function () {\n        revoke();\n        subject.set(Optional.none());\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      var get = function () {\n        return subject.get();\n      };\n      var set = function (s) {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear: clear,\n        isSet: isSet,\n        get: get,\n        set: set\n      };\n    };\n    var value = function () {\n      var subject = singleton(noop);\n      var on = function (f) {\n        return subject.get().each(f);\n      };\n      return __assign(__assign({}, subject), { on: on });\n    };\n\n    var first = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (isNull(timer)) {\n          timer = setTimeout(function () {\n            timer = null;\n            fn.apply(null, args);\n          }, rate);\n        }\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n    var last = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        cancel();\n        timer = setTimeout(function () {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n\n    var read$4 = function (element, attr) {\n      var value = get$6(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    var add$3 = function (element, attr, id) {\n      var old = read$4(element, attr);\n      var nu = old.concat([id]);\n      set$1(element, attr, nu.join(' '));\n      return true;\n    };\n    var remove$5 = function (element, attr, id) {\n      var nu = filter$4(read$4(element, attr), function (v) {\n        return v !== id;\n      });\n      if (nu.length > 0) {\n        set$1(element, attr, nu.join(' '));\n      } else {\n        remove$6(element, attr);\n      }\n      return false;\n    };\n\n    var supports = function (element) {\n      return element.dom.classList !== undefined;\n    };\n    var get$4 = function (element) {\n      return read$4(element, 'class');\n    };\n    var add$2 = function (element, clazz) {\n      return add$3(element, 'class', clazz);\n    };\n    var remove$4 = function (element, clazz) {\n      return remove$5(element, 'class', clazz);\n    };\n\n    var add$1 = function (element, clazz) {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$2(element, clazz);\n      }\n    };\n    var cleanClass = function (element) {\n      var classList = supports(element) ? element.dom.classList : get$4(element);\n      if (classList.length === 0) {\n        remove$6(element, 'class');\n      }\n    };\n    var remove$3 = function (element, clazz) {\n      if (supports(element)) {\n        var classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$4(element, clazz);\n      }\n      cleanClass(element);\n    };\n    var has = function (element, clazz) {\n      return supports(element) && element.dom.classList.contains(clazz);\n    };\n\n    var descendants$1 = function (scope, predicate) {\n      var result = [];\n      each$k(children(scope), function (x) {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(descendants$1(x, predicate));\n      });\n      return result;\n    };\n\n    var descendants = function (scope, selector) {\n      return all(selector, scope);\n    };\n\n    var annotation = constant('mce-annotation');\n    var dataAnnotation = constant('data-mce-annotation');\n    var dataAnnotationId = constant('data-mce-annotation-uid');\n\n    var identify = function (editor, annotationName) {\n      var rng = editor.selection.getRng();\n      var start = SugarElement.fromDom(rng.startContainer);\n      var root = SugarElement.fromDom(editor.getBody());\n      var selector = annotationName.fold(function () {\n        return '.' + annotation();\n      }, function (an) {\n        return '[' + dataAnnotation() + '=\"' + an + '\"]';\n      });\n      var newStart = child$1(start, rng.startOffset).getOr(start);\n      var closest = closest$2(newStart, selector, function (n) {\n        return eq(n, root);\n      });\n      var getAttr = function (c, property) {\n        if (has$1(c, property)) {\n          return Optional.some(get$6(c, property));\n        } else {\n          return Optional.none();\n        }\n      };\n      return closest.bind(function (c) {\n        return getAttr(c, '' + dataAnnotationId()).bind(function (uid) {\n          return getAttr(c, '' + dataAnnotation()).map(function (name) {\n            var elements = findMarkers(editor, uid);\n            return {\n              uid: uid,\n              name: name,\n              elements: elements\n            };\n          });\n        });\n      });\n    };\n    var isAnnotation = function (elem) {\n      return isElement$6(elem) && has(elem, annotation());\n    };\n    var findMarkers = function (editor, uid) {\n      var body = SugarElement.fromDom(editor.getBody());\n      return descendants(body, '[' + dataAnnotationId() + '=\"' + uid + '\"]');\n    };\n    var findAll = function (editor, name) {\n      var body = SugarElement.fromDom(editor.getBody());\n      var markers = descendants(body, '[' + dataAnnotation() + '=\"' + name + '\"]');\n      var directory = {};\n      each$k(markers, function (m) {\n        var uid = get$6(m, dataAnnotationId());\n        var nodesAlready = get$9(directory, uid).getOr([]);\n        directory[uid] = nodesAlready.concat([m]);\n      });\n      return directory;\n    };\n\n    var setup$n = function (editor, _registry) {\n      var changeCallbacks = Cell({});\n      var initData = function () {\n        return {\n          listeners: [],\n          previous: value()\n        };\n      };\n      var withCallbacks = function (name, f) {\n        updateCallbacks(name, function (data) {\n          f(data);\n          return data;\n        });\n      };\n      var updateCallbacks = function (name, f) {\n        var callbackMap = changeCallbacks.get();\n        var data = get$9(callbackMap, name).getOrThunk(initData);\n        var outputData = f(data);\n        callbackMap[name] = outputData;\n        changeCallbacks.set(callbackMap);\n      };\n      var fireCallbacks = function (name, uid, elements) {\n        withCallbacks(name, function (data) {\n          each$k(data.listeners, function (f) {\n            return f(true, name, {\n              uid: uid,\n              nodes: map$3(elements, function (elem) {\n                return elem.dom;\n              })\n            });\n          });\n        });\n      };\n      var fireNoAnnotation = function (name) {\n        withCallbacks(name, function (data) {\n          each$k(data.listeners, function (f) {\n            return f(false, name);\n          });\n        });\n      };\n      var onNodeChange = last(function () {\n        var callbackMap = changeCallbacks.get();\n        var annotations = sort(keys(callbackMap));\n        each$k(annotations, function (name) {\n          updateCallbacks(name, function (data) {\n            var prev = data.previous.get();\n            identify(editor, Optional.some(name)).fold(function () {\n              if (prev.isSome()) {\n                fireNoAnnotation(name);\n                data.previous.clear();\n              }\n            }, function (_a) {\n              var uid = _a.uid, name = _a.name, elements = _a.elements;\n              if (!is$1(prev, uid)) {\n                fireCallbacks(name, uid, elements);\n                data.previous.set(uid);\n              }\n            });\n            return {\n              previous: data.previous,\n              listeners: data.listeners\n            };\n          });\n        });\n      }, 30);\n      editor.on('remove', function () {\n        onNodeChange.cancel();\n      });\n      editor.on('NodeChange', function () {\n        onNodeChange.throttle();\n      });\n      var addListener = function (name, f) {\n        updateCallbacks(name, function (data) {\n          return {\n            previous: data.previous,\n            listeners: data.listeners.concat([f])\n          };\n        });\n      };\n      return { addListener: addListener };\n    };\n\n    var setup$m = function (editor, registry) {\n      var identifyParserNode = function (span) {\n        return Optional.from(span.attr(dataAnnotation())).bind(registry.lookup);\n      };\n      editor.on('init', function () {\n        editor.serializer.addNodeFilter('span', function (spans) {\n          each$k(spans, function (span) {\n            identifyParserNode(span).each(function (settings) {\n              if (settings.persistent === false) {\n                span.unwrap();\n              }\n            });\n          });\n        });\n      });\n    };\n\n    var create$7 = function () {\n      var annotations = {};\n      var register = function (name, settings) {\n        annotations[name] = {\n          name: name,\n          settings: settings\n        };\n      };\n      var lookup = function (name) {\n        return get$9(annotations, name).map(function (a) {\n          return a.settings;\n        });\n      };\n      return {\n        register: register,\n        lookup: lookup\n      };\n    };\n\n    var unique = 0;\n    var generate = function (prefix) {\n      var date = new Date();\n      var time = date.getTime();\n      var random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    var add = function (element, classes) {\n      each$k(classes, function (x) {\n        add$1(element, x);\n      });\n    };\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      return children(SugarElement.fromDom(div));\n    };\n    var fromDom$1 = function (nodes) {\n      return map$3(nodes, SugarElement.fromDom);\n    };\n\n    var get$3 = function (element) {\n      return element.dom.innerHTML;\n    };\n    var set = function (element, content) {\n      var owner = owner$1(element);\n      var docDom = owner.dom;\n      var fragment = SugarElement.fromDom(docDom.createDocumentFragment());\n      var contentElements = fromHtml(content, docDom);\n      append(fragment, contentElements);\n      empty(element);\n      append$1(element, fragment);\n    };\n\n    var clone$1 = function (original, isDeep) {\n      return SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    };\n    var shallow = function (original) {\n      return clone$1(original, false);\n    };\n    var deep$1 = function (original) {\n      return clone$1(original, true);\n    };\n\n    var TextWalker = function (startNode, rootNode, isBoundary) {\n      if (isBoundary === void 0) {\n        isBoundary = never;\n      }\n      var walker = new DomTreeWalker(startNode, rootNode);\n      var walk = function (direction) {\n        var next;\n        do {\n          next = walker[direction]();\n        } while (next && !isText$7(next) && !isBoundary(next));\n        return Optional.from(next).filter(isText$7);\n      };\n      return {\n        current: function () {\n          return Optional.from(walker.current()).filter(isText$7);\n        },\n        next: function () {\n          return walk('next');\n        },\n        prev: function () {\n          return walk('prev');\n        },\n        prev2: function () {\n          return walk('prev2');\n        }\n      };\n    };\n\n    var TextSeeker = function (dom, isBoundary) {\n      var isBlockBoundary = isBoundary ? isBoundary : function (node) {\n        return dom.isBlock(node) || isBr$5(node) || isContentEditableFalse$b(node);\n      };\n      var walk = function (node, offset, walker, process) {\n        if (isText$7(node)) {\n          var newOffset = process(node, offset, node.data);\n          if (newOffset !== -1) {\n            return Optional.some({\n              container: node,\n              offset: newOffset\n            });\n          }\n        }\n        return walker().bind(function (next) {\n          return walk(next.container, next.offset, walker, process);\n        });\n      };\n      var backwards = function (node, offset, process, root) {\n        var walker = TextWalker(node, root, isBlockBoundary);\n        return walk(node, offset, function () {\n          return walker.prev().map(function (prev) {\n            return {\n              container: prev,\n              offset: prev.length\n            };\n          });\n        }, process).getOrNull();\n      };\n      var forwards = function (node, offset, process, root) {\n        var walker = TextWalker(node, root, isBlockBoundary);\n        return walk(node, offset, function () {\n          return walker.next().map(function (next) {\n            return {\n              container: next,\n              offset: 0\n            };\n          });\n        }, process).getOrNull();\n      };\n      return {\n        backwards: backwards,\n        forwards: forwards\n      };\n    };\n\n    var round$2 = Math.round;\n    var clone = function (rect) {\n      if (!rect) {\n        return {\n          left: 0,\n          top: 0,\n          bottom: 0,\n          right: 0,\n          width: 0,\n          height: 0\n        };\n      }\n      return {\n        left: round$2(rect.left),\n        top: round$2(rect.top),\n        bottom: round$2(rect.bottom),\n        right: round$2(rect.right),\n        width: round$2(rect.width),\n        height: round$2(rect.height)\n      };\n    };\n    var collapse = function (rect, toStart) {\n      rect = clone(rect);\n      if (toStart) {\n        rect.right = rect.left;\n      } else {\n        rect.left = rect.left + rect.width;\n        rect.right = rect.left;\n      }\n      rect.width = 0;\n      return rect;\n    };\n    var isEqual = function (rect1, rect2) {\n      return rect1.left === rect2.left && rect1.top === rect2.top && rect1.bottom === rect2.bottom && rect1.right === rect2.right;\n    };\n    var isValidOverflow = function (overflowY, rect1, rect2) {\n      return overflowY >= 0 && overflowY <= Math.min(rect1.height, rect2.height) / 2;\n    };\n    var isAbove$1 = function (rect1, rect2) {\n      var halfHeight = Math.min(rect2.height / 2, rect1.height / 2);\n      if (rect1.bottom - halfHeight < rect2.top) {\n        return true;\n      }\n      if (rect1.top > rect2.bottom) {\n        return false;\n      }\n      return isValidOverflow(rect2.top - rect1.bottom, rect1, rect2);\n    };\n    var isBelow$1 = function (rect1, rect2) {\n      if (rect1.top > rect2.bottom) {\n        return true;\n      }\n      if (rect1.bottom < rect2.top) {\n        return false;\n      }\n      return isValidOverflow(rect2.bottom - rect1.top, rect1, rect2);\n    };\n    var containsXY = function (rect, clientX, clientY) {\n      return clientX >= rect.left && clientX <= rect.right && clientY >= rect.top && clientY <= rect.bottom;\n    };\n\n    var clamp$2 = function (value, min, max) {\n      return Math.min(Math.max(value, min), max);\n    };\n\n    var getSelectedNode = function (range) {\n      var startContainer = range.startContainer, startOffset = range.startOffset;\n      if (startContainer.hasChildNodes() && range.endOffset === startOffset + 1) {\n        return startContainer.childNodes[startOffset];\n      }\n      return null;\n    };\n    var getNode$1 = function (container, offset) {\n      if (isElement$5(container) && container.hasChildNodes()) {\n        var childNodes = container.childNodes;\n        var safeOffset = clamp$2(offset, 0, childNodes.length - 1);\n        return childNodes[safeOffset];\n      } else {\n        return container;\n      }\n    };\n    var getNodeUnsafe = function (container, offset) {\n      if (offset < 0 && isElement$5(container) && container.hasChildNodes()) {\n        return undefined;\n      } else {\n        return getNode$1(container, offset);\n      }\n    };\n\n    var extendingChars = new RegExp('[\\u0300-\\u036f\\u0483-\\u0487\\u0488-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u0610-\\u061a' + '\\u064b-\\u065f\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7-\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0' + '\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08e3-\\u0902\\u093a\\u093c' + '\\u0941-\\u0948\\u094d\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2-\\u09e3' + '\\u0a01-\\u0a02\\u0a3c\\u0a41-\\u0a42\\u0a47-\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70-\\u0a71\\u0a75\\u0a81-\\u0a82\\u0abc' + '\\u0ac1-\\u0ac5\\u0ac7-\\u0ac8\\u0acd\\u0ae2-\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57' + '\\u0b62-\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c00\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55-\\u0c56' + '\\u0c62-\\u0c63\\u0c81\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc-\\u0ccd\\u0cd5-\\u0cd6\\u0ce2-\\u0ce3\\u0d01\\u0d3e\\u0d41-\\u0d44' + '\\u0d4d\\u0d57\\u0d62-\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9' + '\\u0ebb-\\u0ebc\\u0ec8-\\u0ecd\\u0f18-\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97' + '\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039-\\u103a\\u103d-\\u103e\\u1058-\\u1059\\u105e-\\u1060\\u1071-\\u1074' + '\\u1082\\u1085-\\u1086\\u108d\\u109d\\u135d-\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17b4-\\u17b5' + '\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193b\\u1a17-\\u1a18' + '\\u1a1b\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1ab0-\\u1abd\\u1ABE\\u1b00-\\u1b03\\u1b34' + '\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80-\\u1b81\\u1ba2-\\u1ba5\\u1ba8-\\u1ba9\\u1bab-\\u1bad\\u1be6\\u1be8-\\u1be9' + '\\u1bed\\u1bef-\\u1bf1\\u1c2c-\\u1c33\\u1c36-\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1cf4\\u1cf8-\\u1cf9' + '\\u1dc0-\\u1df5\\u1dfc-\\u1dff\\u200c-\\u200d\\u20d0-\\u20dc\\u20DD-\\u20E0\\u20e1\\u20E2-\\u20E4\\u20e5-\\u20f0\\u2cef-\\u2cf1' + '\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302d\\u302e-\\u302f\\u3099-\\u309a\\ua66f\\uA670-\\uA672\\ua674-\\ua67d\\ua69e-\\ua69f\\ua6f0-\\ua6f1' + '\\ua802\\ua806\\ua80b\\ua825-\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc' + '\\ua9e5\\uaa29-\\uaa2e\\uaa31-\\uaa32\\uaa35-\\uaa36\\uaa43\\uaa4c\\uaa7c\\uaab0\\uaab2-\\uaab4\\uaab7-\\uaab8\\uaabe-\\uaabf\\uaac1' + '\\uaaec-\\uaaed\\uaaf6\\uabe5\\uabe8\\uabed\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\uff9e-\\uff9f]');\n    var isExtendingChar = function (ch) {\n      return typeof ch === 'string' && ch.charCodeAt(0) >= 768 && extendingChars.test(ch);\n    };\n\n    var or = function () {\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      return function (x) {\n        for (var i = 0; i < args.length; i++) {\n          if (args[i](x)) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    var and = function () {\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      return function (x) {\n        for (var i = 0; i < args.length; i++) {\n          if (!args[i](x)) {\n            return false;\n          }\n        }\n        return true;\n      };\n    };\n\n    var isElement$3 = isElement$5;\n    var isCaretCandidate$2 = isCaretCandidate$3;\n    var isBlock$1 = matchStyleValues('display', 'block table');\n    var isFloated = matchStyleValues('float', 'left right');\n    var isValidElementCaretCandidate = and(isElement$3, isCaretCandidate$2, not(isFloated));\n    var isNotPre = not(matchStyleValues('white-space', 'pre pre-line pre-wrap'));\n    var isText$4 = isText$7;\n    var isBr$2 = isBr$5;\n    var nodeIndex$1 = DOMUtils.nodeIndex;\n    var resolveIndex$1 = getNodeUnsafe;\n    var createRange$1 = function (doc) {\n      return 'createRange' in doc ? doc.createRange() : DOMUtils.DOM.createRng();\n    };\n    var isWhiteSpace$1 = function (chr) {\n      return chr && /[\\r\\n\\t ]/.test(chr);\n    };\n    var isRange = function (rng) {\n      return !!rng.setStart && !!rng.setEnd;\n    };\n    var isHiddenWhiteSpaceRange = function (range) {\n      var container = range.startContainer;\n      var offset = range.startOffset;\n      if (isWhiteSpace$1(range.toString()) && isNotPre(container.parentNode) && isText$7(container)) {\n        var text = container.data;\n        if (isWhiteSpace$1(text[offset - 1]) || isWhiteSpace$1(text[offset + 1])) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var getBrClientRect = function (brNode) {\n      var doc = brNode.ownerDocument;\n      var rng = createRange$1(doc);\n      var nbsp$1 = doc.createTextNode(nbsp);\n      var parentNode = brNode.parentNode;\n      parentNode.insertBefore(nbsp$1, brNode);\n      rng.setStart(nbsp$1, 0);\n      rng.setEnd(nbsp$1, 1);\n      var clientRect = clone(rng.getBoundingClientRect());\n      parentNode.removeChild(nbsp$1);\n      return clientRect;\n    };\n    var getBoundingClientRectWebKitText = function (rng) {\n      var sc = rng.startContainer;\n      var ec = rng.endContainer;\n      var so = rng.startOffset;\n      var eo = rng.endOffset;\n      if (sc === ec && isText$7(ec) && so === 0 && eo === 1) {\n        var newRng = rng.cloneRange();\n        newRng.setEndAfter(ec);\n        return getBoundingClientRect$1(newRng);\n      } else {\n        return null;\n      }\n    };\n    var isZeroRect = function (r) {\n      return r.left === 0 && r.right === 0 && r.top === 0 && r.bottom === 0;\n    };\n    var getBoundingClientRect$1 = function (item) {\n      var clientRect;\n      var clientRects = item.getClientRects();\n      if (clientRects.length > 0) {\n        clientRect = clone(clientRects[0]);\n      } else {\n        clientRect = clone(item.getBoundingClientRect());\n      }\n      if (!isRange(item) && isBr$2(item) && isZeroRect(clientRect)) {\n        return getBrClientRect(item);\n      }\n      if (isZeroRect(clientRect) && isRange(item)) {\n        return getBoundingClientRectWebKitText(item);\n      }\n      return clientRect;\n    };\n    var collapseAndInflateWidth = function (clientRect, toStart) {\n      var newClientRect = collapse(clientRect, toStart);\n      newClientRect.width = 1;\n      newClientRect.right = newClientRect.left + 1;\n      return newClientRect;\n    };\n    var getCaretPositionClientRects = function (caretPosition) {\n      var clientRects = [];\n      var addUniqueAndValidRect = function (clientRect) {\n        if (clientRect.height === 0) {\n          return;\n        }\n        if (clientRects.length > 0) {\n          if (isEqual(clientRect, clientRects[clientRects.length - 1])) {\n            return;\n          }\n        }\n        clientRects.push(clientRect);\n      };\n      var addCharacterOffset = function (container, offset) {\n        var range = createRange$1(container.ownerDocument);\n        if (offset < container.data.length) {\n          if (isExtendingChar(container.data[offset])) {\n            return clientRects;\n          }\n          if (isExtendingChar(container.data[offset - 1])) {\n            range.setStart(container, offset);\n            range.setEnd(container, offset + 1);\n            if (!isHiddenWhiteSpaceRange(range)) {\n              addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(range), false));\n              return clientRects;\n            }\n          }\n        }\n        if (offset > 0) {\n          range.setStart(container, offset - 1);\n          range.setEnd(container, offset);\n          if (!isHiddenWhiteSpaceRange(range)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(range), false));\n          }\n        }\n        if (offset < container.data.length) {\n          range.setStart(container, offset);\n          range.setEnd(container, offset + 1);\n          if (!isHiddenWhiteSpaceRange(range)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(range), true));\n          }\n        }\n      };\n      var container = caretPosition.container();\n      var offset = caretPosition.offset();\n      if (isText$4(container)) {\n        addCharacterOffset(container, offset);\n        return clientRects;\n      }\n      if (isElement$3(container)) {\n        if (caretPosition.isAtEnd()) {\n          var node = resolveIndex$1(container, offset);\n          if (isText$4(node)) {\n            addCharacterOffset(node, node.data.length);\n          }\n          if (isValidElementCaretCandidate(node) && !isBr$2(node)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(node), false));\n          }\n        } else {\n          var node = resolveIndex$1(container, offset);\n          if (isText$4(node)) {\n            addCharacterOffset(node, 0);\n          }\n          if (isValidElementCaretCandidate(node) && caretPosition.isAtEnd()) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(node), false));\n            return clientRects;\n          }\n          var beforeNode = resolveIndex$1(caretPosition.container(), caretPosition.offset() - 1);\n          if (isValidElementCaretCandidate(beforeNode) && !isBr$2(beforeNode)) {\n            if (isBlock$1(beforeNode) || isBlock$1(node) || !isValidElementCaretCandidate(node)) {\n              addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(beforeNode), false));\n            }\n          }\n          if (isValidElementCaretCandidate(node)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(node), true));\n          }\n        }\n      }\n      return clientRects;\n    };\n    var CaretPosition = function (container, offset, clientRects) {\n      var isAtStart = function () {\n        if (isText$4(container)) {\n          return offset === 0;\n        }\n        return offset === 0;\n      };\n      var isAtEnd = function () {\n        if (isText$4(container)) {\n          return offset >= container.data.length;\n        }\n        return offset >= container.childNodes.length;\n      };\n      var toRange = function () {\n        var range = createRange$1(container.ownerDocument);\n        range.setStart(container, offset);\n        range.setEnd(container, offset);\n        return range;\n      };\n      var getClientRects = function () {\n        if (!clientRects) {\n          clientRects = getCaretPositionClientRects(CaretPosition(container, offset));\n        }\n        return clientRects;\n      };\n      var isVisible = function () {\n        return getClientRects().length > 0;\n      };\n      var isEqual = function (caretPosition) {\n        return caretPosition && container === caretPosition.container() && offset === caretPosition.offset();\n      };\n      var getNode = function (before) {\n        return resolveIndex$1(container, before ? offset - 1 : offset);\n      };\n      return {\n        container: constant(container),\n        offset: constant(offset),\n        toRange: toRange,\n        getClientRects: getClientRects,\n        isVisible: isVisible,\n        isAtStart: isAtStart,\n        isAtEnd: isAtEnd,\n        isEqual: isEqual,\n        getNode: getNode\n      };\n    };\n    CaretPosition.fromRangeStart = function (range) {\n      return CaretPosition(range.startContainer, range.startOffset);\n    };\n    CaretPosition.fromRangeEnd = function (range) {\n      return CaretPosition(range.endContainer, range.endOffset);\n    };\n    CaretPosition.after = function (node) {\n      return CaretPosition(node.parentNode, nodeIndex$1(node) + 1);\n    };\n    CaretPosition.before = function (node) {\n      return CaretPosition(node.parentNode, nodeIndex$1(node));\n    };\n    CaretPosition.isAbove = function (pos1, pos2) {\n      return lift2(head(pos2.getClientRects()), last$2(pos1.getClientRects()), isAbove$1).getOr(false);\n    };\n    CaretPosition.isBelow = function (pos1, pos2) {\n      return lift2(last$2(pos2.getClientRects()), head(pos1.getClientRects()), isBelow$1).getOr(false);\n    };\n    CaretPosition.isAtStart = function (pos) {\n      return pos ? pos.isAtStart() : false;\n    };\n    CaretPosition.isAtEnd = function (pos) {\n      return pos ? pos.isAtEnd() : false;\n    };\n    CaretPosition.isTextPosition = function (pos) {\n      return pos ? isText$7(pos.container()) : false;\n    };\n    CaretPosition.isElementPosition = function (pos) {\n      return CaretPosition.isTextPosition(pos) === false;\n    };\n\n    var trimEmptyTextNode$1 = function (dom, node) {\n      if (isText$7(node) && node.data.length === 0) {\n        dom.remove(node);\n      }\n    };\n    var insertNode = function (dom, rng, node) {\n      rng.insertNode(node);\n      trimEmptyTextNode$1(dom, node.previousSibling);\n      trimEmptyTextNode$1(dom, node.nextSibling);\n    };\n    var insertFragment = function (dom, rng, frag) {\n      var firstChild = Optional.from(frag.firstChild);\n      var lastChild = Optional.from(frag.lastChild);\n      rng.insertNode(frag);\n      firstChild.each(function (child) {\n        return trimEmptyTextNode$1(dom, child.previousSibling);\n      });\n      lastChild.each(function (child) {\n        return trimEmptyTextNode$1(dom, child.nextSibling);\n      });\n    };\n    var rangeInsertNode = function (dom, rng, node) {\n      if (isDocumentFragment(node)) {\n        insertFragment(dom, rng, node);\n      } else {\n        insertNode(dom, rng, node);\n      }\n    };\n\n    var isText$3 = isText$7;\n    var isBogus = isBogus$2;\n    var nodeIndex = DOMUtils.nodeIndex;\n    var normalizedParent = function (node) {\n      var parentNode = node.parentNode;\n      if (isBogus(parentNode)) {\n        return normalizedParent(parentNode);\n      }\n      return parentNode;\n    };\n    var getChildNodes = function (node) {\n      if (!node) {\n        return [];\n      }\n      return reduce(node.childNodes, function (result, node) {\n        if (isBogus(node) && node.nodeName !== 'BR') {\n          result = result.concat(getChildNodes(node));\n        } else {\n          result.push(node);\n        }\n        return result;\n      }, []);\n    };\n    var normalizedTextOffset = function (node, offset) {\n      while (node = node.previousSibling) {\n        if (!isText$3(node)) {\n          break;\n        }\n        offset += node.data.length;\n      }\n      return offset;\n    };\n    var equal = function (a) {\n      return function (b) {\n        return a === b;\n      };\n    };\n    var normalizedNodeIndex = function (node) {\n      var nodes, index;\n      nodes = getChildNodes(normalizedParent(node));\n      index = findIndex$1(nodes, equal(node), node);\n      nodes = nodes.slice(0, index + 1);\n      var numTextFragments = reduce(nodes, function (result, node, i) {\n        if (isText$3(node) && isText$3(nodes[i - 1])) {\n          result++;\n        }\n        return result;\n      }, 0);\n      nodes = filter$2(nodes, matchNodeNames([node.nodeName]));\n      index = findIndex$1(nodes, equal(node), node);\n      return index - numTextFragments;\n    };\n    var createPathItem = function (node) {\n      var name;\n      if (isText$3(node)) {\n        name = 'text()';\n      } else {\n        name = node.nodeName.toLowerCase();\n      }\n      return name + '[' + normalizedNodeIndex(node) + ']';\n    };\n    var parentsUntil$1 = function (root, node, predicate) {\n      var parents = [];\n      for (node = node.parentNode; node !== root; node = node.parentNode) {\n        if (predicate && predicate(node)) {\n          break;\n        }\n        parents.push(node);\n      }\n      return parents;\n    };\n    var create$6 = function (root, caretPosition) {\n      var container, offset, path = [], outputOffset, childNodes, parents;\n      container = caretPosition.container();\n      offset = caretPosition.offset();\n      if (isText$3(container)) {\n        outputOffset = normalizedTextOffset(container, offset);\n      } else {\n        childNodes = container.childNodes;\n        if (offset >= childNodes.length) {\n          outputOffset = 'after';\n          offset = childNodes.length - 1;\n        } else {\n          outputOffset = 'before';\n        }\n        container = childNodes[offset];\n      }\n      path.push(createPathItem(container));\n      parents = parentsUntil$1(root, container);\n      parents = filter$2(parents, not(isBogus$2));\n      path = path.concat(map$1(parents, function (node) {\n        return createPathItem(node);\n      }));\n      return path.reverse().join('/') + ',' + outputOffset;\n    };\n    var resolvePathItem = function (node, name, index) {\n      var nodes = getChildNodes(node);\n      nodes = filter$2(nodes, function (node, index) {\n        return !isText$3(node) || !isText$3(nodes[index - 1]);\n      });\n      nodes = filter$2(nodes, matchNodeNames([name]));\n      return nodes[index];\n    };\n    var findTextPosition = function (container, offset) {\n      var node = container, targetOffset = 0, dataLen;\n      while (isText$3(node)) {\n        dataLen = node.data.length;\n        if (offset >= targetOffset && offset <= targetOffset + dataLen) {\n          container = node;\n          offset = offset - targetOffset;\n          break;\n        }\n        if (!isText$3(node.nextSibling)) {\n          container = node;\n          offset = dataLen;\n          break;\n        }\n        targetOffset += dataLen;\n        node = node.nextSibling;\n      }\n      if (isText$3(container) && offset > container.data.length) {\n        offset = container.data.length;\n      }\n      return CaretPosition(container, offset);\n    };\n    var resolve$2 = function (root, path) {\n      var offset;\n      if (!path) {\n        return null;\n      }\n      var parts = path.split(',');\n      var paths = parts[0].split('/');\n      offset = parts.length > 1 ? parts[1] : 'before';\n      var container = reduce(paths, function (result, value) {\n        var match = /([\\w\\-\\(\\)]+)\\[([0-9]+)\\]/.exec(value);\n        if (!match) {\n          return null;\n        }\n        if (match[1] === 'text()') {\n          match[1] = '#text';\n        }\n        return resolvePathItem(result, match[1], parseInt(match[2], 10));\n      }, root);\n      if (!container) {\n        return null;\n      }\n      if (!isText$3(container)) {\n        if (offset === 'after') {\n          offset = nodeIndex(container) + 1;\n        } else {\n          offset = nodeIndex(container);\n        }\n        return CaretPosition(container.parentNode, offset);\n      }\n      return findTextPosition(container, parseInt(offset, 10));\n    };\n\n    var isContentEditableFalse$9 = isContentEditableFalse$b;\n    var getNormalizedTextOffset = function (trim, container, offset) {\n      var node, trimmedOffset;\n      trimmedOffset = trim(container.data.slice(0, offset)).length;\n      for (node = container.previousSibling; node && isText$7(node); node = node.previousSibling) {\n        trimmedOffset += trim(node.data).length;\n      }\n      return trimmedOffset;\n    };\n    var getPoint = function (dom, trim, normalized, rng, start) {\n      var container = rng[start ? 'startContainer' : 'endContainer'];\n      var offset = rng[start ? 'startOffset' : 'endOffset'];\n      var point = [];\n      var childNodes, after = 0;\n      var root = dom.getRoot();\n      if (isText$7(container)) {\n        point.push(normalized ? getNormalizedTextOffset(trim, container, offset) : offset);\n      } else {\n        childNodes = container.childNodes;\n        if (offset >= childNodes.length && childNodes.length) {\n          after = 1;\n          offset = Math.max(0, childNodes.length - 1);\n        }\n        point.push(dom.nodeIndex(childNodes[offset], normalized) + after);\n      }\n      for (; container && container !== root; container = container.parentNode) {\n        point.push(dom.nodeIndex(container, normalized));\n      }\n      return point;\n    };\n    var getLocation = function (trim, selection, normalized, rng) {\n      var dom = selection.dom, bookmark = {};\n      bookmark.start = getPoint(dom, trim, normalized, rng, true);\n      if (!selection.isCollapsed()) {\n        bookmark.end = getPoint(dom, trim, normalized, rng, false);\n      }\n      if (isRangeInCaretContainerBlock(rng)) {\n        bookmark.isFakeCaret = true;\n      }\n      return bookmark;\n    };\n    var findIndex = function (dom, name, element) {\n      var count = 0;\n      Tools.each(dom.select(name), function (node) {\n        if (node.getAttribute('data-mce-bogus') === 'all') {\n          return;\n        }\n        if (node === element) {\n          return false;\n        }\n        count++;\n      });\n      return count;\n    };\n    var moveEndPoint$1 = function (rng, start) {\n      var container, offset, childNodes;\n      var prefix = start ? 'start' : 'end';\n      container = rng[prefix + 'Container'];\n      offset = rng[prefix + 'Offset'];\n      if (isElement$5(container) && container.nodeName === 'TR') {\n        childNodes = container.childNodes;\n        container = childNodes[Math.min(start ? offset : offset - 1, childNodes.length - 1)];\n        if (container) {\n          offset = start ? 0 : container.childNodes.length;\n          rng['set' + (start ? 'Start' : 'End')](container, offset);\n        }\n      }\n    };\n    var normalizeTableCellSelection = function (rng) {\n      moveEndPoint$1(rng, true);\n      moveEndPoint$1(rng, false);\n      return rng;\n    };\n    var findSibling = function (node, offset) {\n      var sibling;\n      if (isElement$5(node)) {\n        node = getNode$1(node, offset);\n        if (isContentEditableFalse$9(node)) {\n          return node;\n        }\n      }\n      if (isCaretContainer$2(node)) {\n        if (isText$7(node) && isCaretContainerBlock$1(node)) {\n          node = node.parentNode;\n        }\n        sibling = node.previousSibling;\n        if (isContentEditableFalse$9(sibling)) {\n          return sibling;\n        }\n        sibling = node.nextSibling;\n        if (isContentEditableFalse$9(sibling)) {\n          return sibling;\n        }\n      }\n    };\n    var findAdjacentContentEditableFalseElm = function (rng) {\n      return findSibling(rng.startContainer, rng.startOffset) || findSibling(rng.endContainer, rng.endOffset);\n    };\n    var getOffsetBookmark = function (trim, normalized, selection) {\n      var element = selection.getNode();\n      var name = element ? element.nodeName : null;\n      var rng = selection.getRng();\n      if (isContentEditableFalse$9(element) || name === 'IMG') {\n        return {\n          name: name,\n          index: findIndex(selection.dom, name, element)\n        };\n      }\n      var sibling = findAdjacentContentEditableFalseElm(rng);\n      if (sibling) {\n        name = sibling.tagName;\n        return {\n          name: name,\n          index: findIndex(selection.dom, name, sibling)\n        };\n      }\n      return getLocation(trim, selection, normalized, rng);\n    };\n    var getCaretBookmark = function (selection) {\n      var rng = selection.getRng();\n      return {\n        start: create$6(selection.dom.getRoot(), CaretPosition.fromRangeStart(rng)),\n        end: create$6(selection.dom.getRoot(), CaretPosition.fromRangeEnd(rng))\n      };\n    };\n    var getRangeBookmark = function (selection) {\n      return { rng: selection.getRng() };\n    };\n    var createBookmarkSpan = function (dom, id, filled) {\n      var args = {\n        'data-mce-type': 'bookmark',\n        id: id,\n        'style': 'overflow:hidden;line-height:0px'\n      };\n      return filled ? dom.create('span', args, '&#xFEFF;') : dom.create('span', args);\n    };\n    var getPersistentBookmark = function (selection, filled) {\n      var dom = selection.dom;\n      var rng = selection.getRng();\n      var id = dom.uniqueId();\n      var collapsed = selection.isCollapsed();\n      var element = selection.getNode();\n      var name = element.nodeName;\n      if (name === 'IMG') {\n        return {\n          name: name,\n          index: findIndex(dom, name, element)\n        };\n      }\n      var rng2 = normalizeTableCellSelection(rng.cloneRange());\n      if (!collapsed) {\n        rng2.collapse(false);\n        var endBookmarkNode = createBookmarkSpan(dom, id + '_end', filled);\n        rangeInsertNode(dom, rng2, endBookmarkNode);\n      }\n      rng = normalizeTableCellSelection(rng);\n      rng.collapse(true);\n      var startBookmarkNode = createBookmarkSpan(dom, id + '_start', filled);\n      rangeInsertNode(dom, rng, startBookmarkNode);\n      selection.moveToBookmark({\n        id: id,\n        keep: true\n      });\n      return { id: id };\n    };\n    var getBookmark$2 = function (selection, type, normalized) {\n      if (type === 2) {\n        return getOffsetBookmark(trim$2, normalized, selection);\n      } else if (type === 3) {\n        return getCaretBookmark(selection);\n      } else if (type) {\n        return getRangeBookmark(selection);\n      } else {\n        return getPersistentBookmark(selection, false);\n      }\n    };\n    var getUndoBookmark = curry(getOffsetBookmark, identity, true);\n\n    var DOM$9 = DOMUtils.DOM;\n    var defaultPreviewStyles = 'font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow';\n    var getBodySetting = function (editor, name, defaultValue) {\n      var value = editor.getParam(name, defaultValue);\n      if (value.indexOf('=') !== -1) {\n        var bodyObj = editor.getParam(name, '', 'hash');\n        return get$9(bodyObj, editor.id).getOr(defaultValue);\n      } else {\n        return value;\n      }\n    };\n    var getIframeAttrs = function (editor) {\n      return editor.getParam('iframe_attrs', {});\n    };\n    var getDocType = function (editor) {\n      return editor.getParam('doctype', '<!DOCTYPE html>');\n    };\n    var getDocumentBaseUrl = function (editor) {\n      return editor.getParam('document_base_url', '');\n    };\n    var getBodyId = function (editor) {\n      return getBodySetting(editor, 'body_id', 'tinymce');\n    };\n    var getBodyClass = function (editor) {\n      return getBodySetting(editor, 'body_class', '');\n    };\n    var getContentSecurityPolicy = function (editor) {\n      return editor.getParam('content_security_policy', '');\n    };\n    var shouldPutBrInPre$1 = function (editor) {\n      return editor.getParam('br_in_pre', true);\n    };\n    var getForcedRootBlock = function (editor) {\n      if (editor.getParam('force_p_newlines', false)) {\n        return 'p';\n      }\n      var block = editor.getParam('forced_root_block', 'p');\n      if (block === false) {\n        return '';\n      } else if (block === true) {\n        return 'p';\n      } else {\n        return block;\n      }\n    };\n    var getForcedRootBlockAttrs = function (editor) {\n      return editor.getParam('forced_root_block_attrs', {});\n    };\n    var getBrNewLineSelector = function (editor) {\n      return editor.getParam('br_newline_selector', '.mce-toc h2,figcaption,caption');\n    };\n    var getNoNewLineSelector = function (editor) {\n      return editor.getParam('no_newline_selector', '');\n    };\n    var shouldKeepStyles = function (editor) {\n      return editor.getParam('keep_styles', true);\n    };\n    var shouldEndContainerOnEmptyBlock = function (editor) {\n      return editor.getParam('end_container_on_empty_block', false);\n    };\n    var getFontStyleValues = function (editor) {\n      return Tools.explode(editor.getParam('font_size_style_values', 'xx-small,x-small,small,medium,large,x-large,xx-large'));\n    };\n    var getFontSizeClasses = function (editor) {\n      return Tools.explode(editor.getParam('font_size_classes', ''));\n    };\n    var getImagesDataImgFilter = function (editor) {\n      return editor.getParam('images_dataimg_filter', always, 'function');\n    };\n    var isAutomaticUploadsEnabled = function (editor) {\n      return editor.getParam('automatic_uploads', true, 'boolean');\n    };\n    var shouldReuseFileName = function (editor) {\n      return editor.getParam('images_reuse_filename', false, 'boolean');\n    };\n    var shouldReplaceBlobUris = function (editor) {\n      return editor.getParam('images_replace_blob_uris', true, 'boolean');\n    };\n    var getIconPackName = function (editor) {\n      return editor.getParam('icons', '', 'string');\n    };\n    var getIconsUrl = function (editor) {\n      return editor.getParam('icons_url', '', 'string');\n    };\n    var getImageUploadUrl = function (editor) {\n      return editor.getParam('images_upload_url', '', 'string');\n    };\n    var getImageUploadBasePath = function (editor) {\n      return editor.getParam('images_upload_base_path', '', 'string');\n    };\n    var getImagesUploadCredentials = function (editor) {\n      return editor.getParam('images_upload_credentials', false, 'boolean');\n    };\n    var getImagesUploadHandler = function (editor) {\n      return editor.getParam('images_upload_handler', null, 'function');\n    };\n    var shouldUseContentCssCors = function (editor) {\n      return editor.getParam('content_css_cors', false, 'boolean');\n    };\n    var getReferrerPolicy = function (editor) {\n      return editor.getParam('referrer_policy', '', 'string');\n    };\n    var getLanguageCode = function (editor) {\n      return editor.getParam('language', 'en', 'string');\n    };\n    var getLanguageUrl = function (editor) {\n      return editor.getParam('language_url', '', 'string');\n    };\n    var shouldIndentUseMargin = function (editor) {\n      return editor.getParam('indent_use_margin', false);\n    };\n    var getIndentation = function (editor) {\n      return editor.getParam('indentation', '40px', 'string');\n    };\n    var getContentCss = function (editor) {\n      var contentCss = editor.getParam('content_css');\n      if (isString$1(contentCss)) {\n        return map$3(contentCss.split(','), trim$4);\n      } else if (isArray$1(contentCss)) {\n        return contentCss;\n      } else if (contentCss === false || editor.inline) {\n        return [];\n      } else {\n        return ['default'];\n      }\n    };\n    var getFontCss = function (editor) {\n      var fontCss = editor.getParam('font_css', []);\n      return isArray$1(fontCss) ? fontCss : map$3(fontCss.split(','), trim$4);\n    };\n    var getDirectionality = function (editor) {\n      return editor.getParam('directionality', I18n.isRtl() ? 'rtl' : undefined);\n    };\n    var getInlineBoundarySelector = function (editor) {\n      return editor.getParam('inline_boundaries_selector', 'a[href],code,.mce-annotation', 'string');\n    };\n    var getObjectResizing = function (editor) {\n      var selector = editor.getParam('object_resizing');\n      if (selector === false || Env.iOS) {\n        return false;\n      } else {\n        return isString$1(selector) ? selector : 'table,img,figure.image,div,video,iframe';\n      }\n    };\n    var getResizeImgProportional = function (editor) {\n      return editor.getParam('resize_img_proportional', true, 'boolean');\n    };\n    var getPlaceholder = function (editor) {\n      return editor.getParam('placeholder', DOM$9.getAttrib(editor.getElement(), 'placeholder'), 'string');\n    };\n    var getEventRoot = function (editor) {\n      return editor.getParam('event_root');\n    };\n    var getServiceMessage = function (editor) {\n      return editor.getParam('service_message');\n    };\n    var getTheme = function (editor) {\n      return editor.getParam('theme');\n    };\n    var shouldValidate = function (editor) {\n      return editor.getParam('validate');\n    };\n    var isInlineBoundariesEnabled = function (editor) {\n      return editor.getParam('inline_boundaries') !== false;\n    };\n    var getFormats = function (editor) {\n      return editor.getParam('formats');\n    };\n    var getPreviewStyles = function (editor) {\n      var style = editor.getParam('preview_styles', defaultPreviewStyles);\n      if (isString$1(style)) {\n        return style;\n      } else {\n        return '';\n      }\n    };\n    var canFormatEmptyLines = function (editor) {\n      return editor.getParam('format_empty_lines', false, 'boolean');\n    };\n    var getCustomUiSelector = function (editor) {\n      return editor.getParam('custom_ui_selector', '', 'string');\n    };\n    var getThemeUrl = function (editor) {\n      return editor.getParam('theme_url');\n    };\n    var isInline = function (editor) {\n      return editor.getParam('inline');\n    };\n    var hasHiddenInput = function (editor) {\n      return editor.getParam('hidden_input');\n    };\n    var shouldPatchSubmit = function (editor) {\n      return editor.getParam('submit_patch');\n    };\n    var isEncodingXml = function (editor) {\n      return editor.getParam('encoding') === 'xml';\n    };\n    var shouldAddFormSubmitTrigger = function (editor) {\n      return editor.getParam('add_form_submit_trigger');\n    };\n    var shouldAddUnloadTrigger = function (editor) {\n      return editor.getParam('add_unload_trigger');\n    };\n    var hasForcedRootBlock = function (editor) {\n      return getForcedRootBlock(editor) !== '';\n    };\n    var getCustomUndoRedoLevels = function (editor) {\n      return editor.getParam('custom_undo_redo_levels', 0, 'number');\n    };\n    var shouldDisableNodeChange = function (editor) {\n      return editor.getParam('disable_nodechange');\n    };\n    var isReadOnly$1 = function (editor) {\n      return editor.getParam('readonly');\n    };\n    var hasContentCssCors = function (editor) {\n      return editor.getParam('content_css_cors');\n    };\n    var getPlugins = function (editor) {\n      return editor.getParam('plugins', '', 'string');\n    };\n    var getExternalPlugins$1 = function (editor) {\n      return editor.getParam('external_plugins');\n    };\n    var shouldBlockUnsupportedDrop = function (editor) {\n      return editor.getParam('block_unsupported_drop', true, 'boolean');\n    };\n    var isVisualAidsEnabled = function (editor) {\n      return editor.getParam('visual', true, 'boolean');\n    };\n    var getVisualAidsTableClass = function (editor) {\n      return editor.getParam('visual_table_class', 'mce-item-table', 'string');\n    };\n    var getVisualAidsAnchorClass = function (editor) {\n      return editor.getParam('visual_anchor_class', 'mce-item-anchor', 'string');\n    };\n    var getIframeAriaText = function (editor) {\n      return editor.getParam('iframe_aria_text', 'Rich Text Area. Press ALT-0 for help.', 'string');\n    };\n\n    var isElement$2 = isElement$5;\n    var isText$2 = isText$7;\n    var removeNode$1 = function (node) {\n      var parentNode = node.parentNode;\n      if (parentNode) {\n        parentNode.removeChild(node);\n      }\n    };\n    var trimCount = function (text) {\n      var trimmedText = trim$2(text);\n      return {\n        count: text.length - trimmedText.length,\n        text: trimmedText\n      };\n    };\n    var deleteZwspChars = function (caretContainer) {\n      var idx;\n      while ((idx = caretContainer.data.lastIndexOf(ZWSP$1)) !== -1) {\n        caretContainer.deleteData(idx, 1);\n      }\n    };\n    var removeUnchanged = function (caretContainer, pos) {\n      remove$2(caretContainer);\n      return pos;\n    };\n    var removeTextAndReposition = function (caretContainer, pos) {\n      var before = trimCount(caretContainer.data.substr(0, pos.offset()));\n      var after = trimCount(caretContainer.data.substr(pos.offset()));\n      var text = before.text + after.text;\n      if (text.length > 0) {\n        deleteZwspChars(caretContainer);\n        return CaretPosition(caretContainer, pos.offset() - before.count);\n      } else {\n        return pos;\n      }\n    };\n    var removeElementAndReposition = function (caretContainer, pos) {\n      var parentNode = pos.container();\n      var newPosition = indexOf$2(from(parentNode.childNodes), caretContainer).map(function (index) {\n        return index < pos.offset() ? CaretPosition(parentNode, pos.offset() - 1) : pos;\n      }).getOr(pos);\n      remove$2(caretContainer);\n      return newPosition;\n    };\n    var removeTextCaretContainer = function (caretContainer, pos) {\n      return isText$2(caretContainer) && pos.container() === caretContainer ? removeTextAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);\n    };\n    var removeElementCaretContainer = function (caretContainer, pos) {\n      return pos.container() === caretContainer.parentNode ? removeElementAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);\n    };\n    var removeAndReposition = function (container, pos) {\n      return CaretPosition.isTextPosition(pos) ? removeTextCaretContainer(container, pos) : removeElementCaretContainer(container, pos);\n    };\n    var remove$2 = function (caretContainerNode) {\n      if (isElement$2(caretContainerNode) && isCaretContainer$2(caretContainerNode)) {\n        if (hasContent(caretContainerNode)) {\n          caretContainerNode.removeAttribute('data-mce-caret');\n        } else {\n          removeNode$1(caretContainerNode);\n        }\n      }\n      if (isText$2(caretContainerNode)) {\n        deleteZwspChars(caretContainerNode);\n        if (caretContainerNode.data.length === 0) {\n          removeNode$1(caretContainerNode);\n        }\n      }\n    };\n\n    var browser$2 = detect().browser;\n    var isContentEditableFalse$8 = isContentEditableFalse$b;\n    var isMedia$1 = isMedia$2;\n    var isTableCell$3 = isTableCell$5;\n    var inlineFakeCaretSelector = '*[contentEditable=false],video,audio,embed,object';\n    var getAbsoluteClientRect = function (root, element, before) {\n      var clientRect = collapse(element.getBoundingClientRect(), before);\n      var scrollX;\n      var scrollY;\n      if (root.tagName === 'BODY') {\n        var docElm = root.ownerDocument.documentElement;\n        scrollX = root.scrollLeft || docElm.scrollLeft;\n        scrollY = root.scrollTop || docElm.scrollTop;\n      } else {\n        var rootRect = root.getBoundingClientRect();\n        scrollX = root.scrollLeft - rootRect.left;\n        scrollY = root.scrollTop - rootRect.top;\n      }\n      clientRect.left += scrollX;\n      clientRect.right += scrollX;\n      clientRect.top += scrollY;\n      clientRect.bottom += scrollY;\n      clientRect.width = 1;\n      var margin = element.offsetWidth - element.clientWidth;\n      if (margin > 0) {\n        if (before) {\n          margin *= -1;\n        }\n        clientRect.left += margin;\n        clientRect.right += margin;\n      }\n      return clientRect;\n    };\n    var trimInlineCaretContainers = function (root) {\n      var fakeCaretTargetNodes = descendants(SugarElement.fromDom(root), inlineFakeCaretSelector);\n      for (var i = 0; i < fakeCaretTargetNodes.length; i++) {\n        var node = fakeCaretTargetNodes[i].dom;\n        var sibling = node.previousSibling;\n        if (endsWithCaretContainer$1(sibling)) {\n          var data = sibling.data;\n          if (data.length === 1) {\n            sibling.parentNode.removeChild(sibling);\n          } else {\n            sibling.deleteData(data.length - 1, 1);\n          }\n        }\n        sibling = node.nextSibling;\n        if (startsWithCaretContainer$1(sibling)) {\n          var data = sibling.data;\n          if (data.length === 1) {\n            sibling.parentNode.removeChild(sibling);\n          } else {\n            sibling.deleteData(0, 1);\n          }\n        }\n      }\n    };\n    var FakeCaret = function (editor, root, isBlock, hasFocus) {\n      var lastVisualCaret = value();\n      var cursorInterval;\n      var caretContainerNode;\n      var rootBlock = getForcedRootBlock(editor);\n      var caretBlock = rootBlock.length > 0 ? rootBlock : 'p';\n      var show = function (before, element) {\n        var rng;\n        hide();\n        if (isTableCell$3(element)) {\n          return null;\n        }\n        if (isBlock(element)) {\n          caretContainerNode = insertBlock$1(caretBlock, element, before);\n          var clientRect = getAbsoluteClientRect(root, element, before);\n          DomQuery(caretContainerNode).css('top', clientRect.top);\n          var caret = DomQuery('<div class=\"mce-visual-caret\" data-mce-bogus=\"all\"></div>').css(__assign({}, clientRect)).appendTo(root)[0];\n          lastVisualCaret.set({\n            caret: caret,\n            element: element,\n            before: before\n          });\n          if (before) {\n            DomQuery(caret).addClass('mce-visual-caret-before');\n          }\n          startBlink();\n          rng = element.ownerDocument.createRange();\n          rng.setStart(caretContainerNode, 0);\n          rng.setEnd(caretContainerNode, 0);\n        } else {\n          caretContainerNode = insertInline$1(element, before);\n          rng = element.ownerDocument.createRange();\n          if (isInlineFakeCaretTarget(caretContainerNode.nextSibling)) {\n            rng.setStart(caretContainerNode, 0);\n            rng.setEnd(caretContainerNode, 0);\n          } else {\n            rng.setStart(caretContainerNode, 1);\n            rng.setEnd(caretContainerNode, 1);\n          }\n          return rng;\n        }\n        return rng;\n      };\n      var hide = function () {\n        trimInlineCaretContainers(root);\n        if (caretContainerNode) {\n          remove$2(caretContainerNode);\n          caretContainerNode = null;\n        }\n        lastVisualCaret.on(function (caretState) {\n          DomQuery(caretState.caret).remove();\n          lastVisualCaret.clear();\n        });\n        if (cursorInterval) {\n          Delay.clearInterval(cursorInterval);\n          cursorInterval = undefined;\n        }\n      };\n      var startBlink = function () {\n        cursorInterval = Delay.setInterval(function () {\n          if (hasFocus()) {\n            DomQuery('div.mce-visual-caret', root).toggleClass('mce-visual-caret-hidden');\n          } else {\n            DomQuery('div.mce-visual-caret', root).addClass('mce-visual-caret-hidden');\n          }\n        }, 500);\n      };\n      var reposition = function () {\n        lastVisualCaret.on(function (caretState) {\n          var clientRect = getAbsoluteClientRect(root, caretState.element, caretState.before);\n          DomQuery(caretState.caret).css(__assign({}, clientRect));\n        });\n      };\n      var destroy = function () {\n        return Delay.clearInterval(cursorInterval);\n      };\n      var getCss = function () {\n        return '.mce-visual-caret {' + 'position: absolute;' + 'background-color: black;' + 'background-color: currentcolor;' + '}' + '.mce-visual-caret-hidden {' + 'display: none;' + '}' + '*[data-mce-caret] {' + 'position: absolute;' + 'left: -1000px;' + 'right: auto;' + 'top: 0;' + 'margin: 0;' + 'padding: 0;' + '}';\n      };\n      return {\n        show: show,\n        hide: hide,\n        getCss: getCss,\n        reposition: reposition,\n        destroy: destroy\n      };\n    };\n    var isFakeCaretTableBrowser = function () {\n      return browser$2.isIE() || browser$2.isEdge() || browser$2.isFirefox();\n    };\n    var isInlineFakeCaretTarget = function (node) {\n      return isContentEditableFalse$8(node) || isMedia$1(node);\n    };\n    var isFakeCaretTarget = function (node) {\n      return isInlineFakeCaretTarget(node) || isTable$3(node) && isFakeCaretTableBrowser();\n    };\n\n    var isContentEditableFalse$7 = isContentEditableFalse$b;\n    var isMedia = isMedia$2;\n    var isBlockLike = matchStyleValues('display', 'block table table-cell table-caption list-item');\n    var isCaretContainer = isCaretContainer$2;\n    var isCaretContainerBlock = isCaretContainerBlock$1;\n    var isElement$1 = isElement$5;\n    var isCaretCandidate$1 = isCaretCandidate$3;\n    var isForwards = function (direction) {\n      return direction > 0;\n    };\n    var isBackwards = function (direction) {\n      return direction < 0;\n    };\n    var skipCaretContainers = function (walk, shallow) {\n      var node;\n      while (node = walk(shallow)) {\n        if (!isCaretContainerBlock(node)) {\n          return node;\n        }\n      }\n      return null;\n    };\n    var findNode$1 = function (node, direction, predicateFn, rootNode, shallow) {\n      var walker = new DomTreeWalker(node, rootNode);\n      var isCefOrCaretContainer = isContentEditableFalse$7(node) || isCaretContainerBlock(node);\n      if (isBackwards(direction)) {\n        if (isCefOrCaretContainer) {\n          node = skipCaretContainers(walker.prev.bind(walker), true);\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n        while (node = skipCaretContainers(walker.prev.bind(walker), shallow)) {\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n      }\n      if (isForwards(direction)) {\n        if (isCefOrCaretContainer) {\n          node = skipCaretContainers(walker.next.bind(walker), true);\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n        while (node = skipCaretContainers(walker.next.bind(walker), shallow)) {\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n      }\n      return null;\n    };\n    var getParentBlock$2 = function (node, rootNode) {\n      while (node && node !== rootNode) {\n        if (isBlockLike(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var isInSameBlock = function (caretPosition1, caretPosition2, rootNode) {\n      return getParentBlock$2(caretPosition1.container(), rootNode) === getParentBlock$2(caretPosition2.container(), rootNode);\n    };\n    var getChildNodeAtRelativeOffset = function (relativeOffset, caretPosition) {\n      if (!caretPosition) {\n        return null;\n      }\n      var container = caretPosition.container();\n      var offset = caretPosition.offset();\n      if (!isElement$1(container)) {\n        return null;\n      }\n      return container.childNodes[offset + relativeOffset];\n    };\n    var beforeAfter = function (before, node) {\n      var range = node.ownerDocument.createRange();\n      if (before) {\n        range.setStartBefore(node);\n        range.setEndBefore(node);\n      } else {\n        range.setStartAfter(node);\n        range.setEndAfter(node);\n      }\n      return range;\n    };\n    var isNodesInSameBlock = function (root, node1, node2) {\n      return getParentBlock$2(node1, root) === getParentBlock$2(node2, root);\n    };\n    var lean = function (left, root, node) {\n      var siblingName = left ? 'previousSibling' : 'nextSibling';\n      while (node && node !== root) {\n        var sibling = node[siblingName];\n        if (isCaretContainer(sibling)) {\n          sibling = sibling[siblingName];\n        }\n        if (isContentEditableFalse$7(sibling) || isMedia(sibling)) {\n          if (isNodesInSameBlock(root, sibling, node)) {\n            return sibling;\n          }\n          break;\n        }\n        if (isCaretCandidate$1(sibling)) {\n          break;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var before$2 = curry(beforeAfter, true);\n    var after$2 = curry(beforeAfter, false);\n    var normalizeRange = function (direction, root, range) {\n      var node;\n      var leanLeft = curry(lean, true, root);\n      var leanRight = curry(lean, false, root);\n      var container = range.startContainer;\n      var offset = range.startOffset;\n      if (isCaretContainerBlock$1(container)) {\n        if (!isElement$1(container)) {\n          container = container.parentNode;\n        }\n        var location_1 = container.getAttribute('data-mce-caret');\n        if (location_1 === 'before') {\n          node = container.nextSibling;\n          if (isFakeCaretTarget(node)) {\n            return before$2(node);\n          }\n        }\n        if (location_1 === 'after') {\n          node = container.previousSibling;\n          if (isFakeCaretTarget(node)) {\n            return after$2(node);\n          }\n        }\n      }\n      if (!range.collapsed) {\n        return range;\n      }\n      if (isText$7(container)) {\n        if (isCaretContainer(container)) {\n          if (direction === 1) {\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n            node = leanLeft(container);\n            if (node) {\n              return after$2(node);\n            }\n          }\n          if (direction === -1) {\n            node = leanLeft(container);\n            if (node) {\n              return after$2(node);\n            }\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n          }\n          return range;\n        }\n        if (endsWithCaretContainer$1(container) && offset >= container.data.length - 1) {\n          if (direction === 1) {\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n          }\n          return range;\n        }\n        if (startsWithCaretContainer$1(container) && offset <= 1) {\n          if (direction === -1) {\n            node = leanLeft(container);\n            if (node) {\n              return after$2(node);\n            }\n          }\n          return range;\n        }\n        if (offset === container.data.length) {\n          node = leanRight(container);\n          if (node) {\n            return before$2(node);\n          }\n          return range;\n        }\n        if (offset === 0) {\n          node = leanLeft(container);\n          if (node) {\n            return after$2(node);\n          }\n          return range;\n        }\n      }\n      return range;\n    };\n    var getRelativeCefElm = function (forward, caretPosition) {\n      return Optional.from(getChildNodeAtRelativeOffset(forward ? 0 : -1, caretPosition)).filter(isContentEditableFalse$7);\n    };\n    var getNormalizedRangeEndPoint = function (direction, root, range) {\n      var normalizedRange = normalizeRange(direction, root, range);\n      if (direction === -1) {\n        return CaretPosition.fromRangeStart(normalizedRange);\n      }\n      return CaretPosition.fromRangeEnd(normalizedRange);\n    };\n    var getElementFromPosition = function (pos) {\n      return Optional.from(pos.getNode()).map(SugarElement.fromDom);\n    };\n    var getElementFromPrevPosition = function (pos) {\n      return Optional.from(pos.getNode(true)).map(SugarElement.fromDom);\n    };\n    var getVisualCaretPosition = function (walkFn, caretPosition) {\n      while (caretPosition = walkFn(caretPosition)) {\n        if (caretPosition.isVisible()) {\n          return caretPosition;\n        }\n      }\n      return caretPosition;\n    };\n    var isMoveInsideSameBlock = function (from, to) {\n      var inSameBlock = isInSameBlock(from, to);\n      if (!inSameBlock && isBr$5(from.getNode())) {\n        return true;\n      }\n      return inSameBlock;\n    };\n\n    var HDirection;\n    (function (HDirection) {\n      HDirection[HDirection['Backwards'] = -1] = 'Backwards';\n      HDirection[HDirection['Forwards'] = 1] = 'Forwards';\n    }(HDirection || (HDirection = {})));\n    var isContentEditableFalse$6 = isContentEditableFalse$b;\n    var isText$1 = isText$7;\n    var isElement = isElement$5;\n    var isBr$1 = isBr$5;\n    var isCaretCandidate = isCaretCandidate$3;\n    var isAtomic = isAtomic$1;\n    var isEditableCaretCandidate = isEditableCaretCandidate$1;\n    var getParents$3 = function (node, root) {\n      var parents = [];\n      while (node && node !== root) {\n        parents.push(node);\n        node = node.parentNode;\n      }\n      return parents;\n    };\n    var nodeAtIndex = function (container, offset) {\n      if (container.hasChildNodes() && offset < container.childNodes.length) {\n        return container.childNodes[offset];\n      }\n      return null;\n    };\n    var getCaretCandidatePosition = function (direction, node) {\n      if (isForwards(direction)) {\n        if (isCaretCandidate(node.previousSibling) && !isText$1(node.previousSibling)) {\n          return CaretPosition.before(node);\n        }\n        if (isText$1(node)) {\n          return CaretPosition(node, 0);\n        }\n      }\n      if (isBackwards(direction)) {\n        if (isCaretCandidate(node.nextSibling) && !isText$1(node.nextSibling)) {\n          return CaretPosition.after(node);\n        }\n        if (isText$1(node)) {\n          return CaretPosition(node, node.data.length);\n        }\n      }\n      if (isBackwards(direction)) {\n        if (isBr$1(node)) {\n          return CaretPosition.before(node);\n        }\n        return CaretPosition.after(node);\n      }\n      return CaretPosition.before(node);\n    };\n    var moveForwardFromBr = function (root, nextNode) {\n      var nextSibling = nextNode.nextSibling;\n      if (nextSibling && isCaretCandidate(nextSibling)) {\n        if (isText$1(nextSibling)) {\n          return CaretPosition(nextSibling, 0);\n        } else {\n          return CaretPosition.before(nextSibling);\n        }\n      } else {\n        return findCaretPosition$1(HDirection.Forwards, CaretPosition.after(nextNode), root);\n      }\n    };\n    var findCaretPosition$1 = function (direction, startPos, root) {\n      var node;\n      var nextNode;\n      var innerNode;\n      var caretPosition;\n      if (!isElement(root) || !startPos) {\n        return null;\n      }\n      if (startPos.isEqual(CaretPosition.after(root)) && root.lastChild) {\n        caretPosition = CaretPosition.after(root.lastChild);\n        if (isBackwards(direction) && isCaretCandidate(root.lastChild) && isElement(root.lastChild)) {\n          return isBr$1(root.lastChild) ? CaretPosition.before(root.lastChild) : caretPosition;\n        }\n      } else {\n        caretPosition = startPos;\n      }\n      var container = caretPosition.container();\n      var offset = caretPosition.offset();\n      if (isText$1(container)) {\n        if (isBackwards(direction) && offset > 0) {\n          return CaretPosition(container, --offset);\n        }\n        if (isForwards(direction) && offset < container.length) {\n          return CaretPosition(container, ++offset);\n        }\n        node = container;\n      } else {\n        if (isBackwards(direction) && offset > 0) {\n          nextNode = nodeAtIndex(container, offset - 1);\n          if (isCaretCandidate(nextNode)) {\n            if (!isAtomic(nextNode)) {\n              innerNode = findNode$1(nextNode, direction, isEditableCaretCandidate, nextNode);\n              if (innerNode) {\n                if (isText$1(innerNode)) {\n                  return CaretPosition(innerNode, innerNode.data.length);\n                }\n                return CaretPosition.after(innerNode);\n              }\n            }\n            if (isText$1(nextNode)) {\n              return CaretPosition(nextNode, nextNode.data.length);\n            }\n            return CaretPosition.before(nextNode);\n          }\n        }\n        if (isForwards(direction) && offset < container.childNodes.length) {\n          nextNode = nodeAtIndex(container, offset);\n          if (isCaretCandidate(nextNode)) {\n            if (isBr$1(nextNode)) {\n              return moveForwardFromBr(root, nextNode);\n            }\n            if (!isAtomic(nextNode)) {\n              innerNode = findNode$1(nextNode, direction, isEditableCaretCandidate, nextNode);\n              if (innerNode) {\n                if (isText$1(innerNode)) {\n                  return CaretPosition(innerNode, 0);\n                }\n                return CaretPosition.before(innerNode);\n              }\n            }\n            if (isText$1(nextNode)) {\n              return CaretPosition(nextNode, 0);\n            }\n            return CaretPosition.after(nextNode);\n          }\n        }\n        node = nextNode ? nextNode : caretPosition.getNode();\n      }\n      if (isForwards(direction) && caretPosition.isAtEnd() || isBackwards(direction) && caretPosition.isAtStart()) {\n        node = findNode$1(node, direction, always, root, true);\n        if (isEditableCaretCandidate(node, root)) {\n          return getCaretCandidatePosition(direction, node);\n        }\n      }\n      nextNode = findNode$1(node, direction, isEditableCaretCandidate, root);\n      var rootContentEditableFalseElm = last$1(filter$4(getParents$3(container, root), isContentEditableFalse$6));\n      if (rootContentEditableFalseElm && (!nextNode || !rootContentEditableFalseElm.contains(nextNode))) {\n        if (isForwards(direction)) {\n          caretPosition = CaretPosition.after(rootContentEditableFalseElm);\n        } else {\n          caretPosition = CaretPosition.before(rootContentEditableFalseElm);\n        }\n        return caretPosition;\n      }\n      if (nextNode) {\n        return getCaretCandidatePosition(direction, nextNode);\n      }\n      return null;\n    };\n    var CaretWalker = function (root) {\n      return {\n        next: function (caretPosition) {\n          return findCaretPosition$1(HDirection.Forwards, caretPosition, root);\n        },\n        prev: function (caretPosition) {\n          return findCaretPosition$1(HDirection.Backwards, caretPosition, root);\n        }\n      };\n    };\n\n    var walkToPositionIn = function (forward, root, start) {\n      var position = forward ? CaretPosition.before(start) : CaretPosition.after(start);\n      return fromPosition(forward, root, position);\n    };\n    var afterElement = function (node) {\n      return isBr$5(node) ? CaretPosition.before(node) : CaretPosition.after(node);\n    };\n    var isBeforeOrStart = function (position) {\n      if (CaretPosition.isTextPosition(position)) {\n        return position.offset() === 0;\n      } else {\n        return isCaretCandidate$3(position.getNode());\n      }\n    };\n    var isAfterOrEnd = function (position) {\n      if (CaretPosition.isTextPosition(position)) {\n        var container = position.container();\n        return position.offset() === container.data.length;\n      } else {\n        return isCaretCandidate$3(position.getNode(true));\n      }\n    };\n    var isBeforeAfterSameElement = function (from, to) {\n      return !CaretPosition.isTextPosition(from) && !CaretPosition.isTextPosition(to) && from.getNode() === to.getNode(true);\n    };\n    var isAtBr = function (position) {\n      return !CaretPosition.isTextPosition(position) && isBr$5(position.getNode());\n    };\n    var shouldSkipPosition = function (forward, from, to) {\n      if (forward) {\n        return !isBeforeAfterSameElement(from, to) && !isAtBr(from) && isAfterOrEnd(from) && isBeforeOrStart(to);\n      } else {\n        return !isBeforeAfterSameElement(to, from) && isBeforeOrStart(from) && isAfterOrEnd(to);\n      }\n    };\n    var fromPosition = function (forward, root, pos) {\n      var walker = CaretWalker(root);\n      return Optional.from(forward ? walker.next(pos) : walker.prev(pos));\n    };\n    var navigate = function (forward, root, from) {\n      return fromPosition(forward, root, from).bind(function (to) {\n        if (isInSameBlock(from, to, root) && shouldSkipPosition(forward, from, to)) {\n          return fromPosition(forward, root, to);\n        } else {\n          return Optional.some(to);\n        }\n      });\n    };\n    var navigateIgnore = function (forward, root, from, ignoreFilter) {\n      return navigate(forward, root, from).bind(function (pos) {\n        return ignoreFilter(pos) ? navigateIgnore(forward, root, pos, ignoreFilter) : Optional.some(pos);\n      });\n    };\n    var positionIn = function (forward, element) {\n      var startNode = forward ? element.firstChild : element.lastChild;\n      if (isText$7(startNode)) {\n        return Optional.some(CaretPosition(startNode, forward ? 0 : startNode.data.length));\n      } else if (startNode) {\n        if (isCaretCandidate$3(startNode)) {\n          return Optional.some(forward ? CaretPosition.before(startNode) : afterElement(startNode));\n        } else {\n          return walkToPositionIn(forward, element, startNode);\n        }\n      } else {\n        return Optional.none();\n      }\n    };\n    var nextPosition = curry(fromPosition, true);\n    var prevPosition = curry(fromPosition, false);\n    var firstPositionIn = curry(positionIn, true);\n    var lastPositionIn = curry(positionIn, false);\n\n    var CARET_ID$1 = '_mce_caret';\n    var isCaretNode = function (node) {\n      return isElement$5(node) && node.id === CARET_ID$1;\n    };\n    var getParentCaretContainer = function (body, node) {\n      while (node && node !== body) {\n        if (node.id === CARET_ID$1) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n\n    var isStringPathBookmark = function (bookmark) {\n      return isString$1(bookmark.start);\n    };\n    var isRangeBookmark = function (bookmark) {\n      return has$2(bookmark, 'rng');\n    };\n    var isIdBookmark = function (bookmark) {\n      return has$2(bookmark, 'id');\n    };\n    var isIndexBookmark = function (bookmark) {\n      return has$2(bookmark, 'name');\n    };\n    var isPathBookmark = function (bookmark) {\n      return Tools.isArray(bookmark.start);\n    };\n\n    var addBogus = function (dom, node) {\n      if (isElement$5(node) && dom.isBlock(node) && !node.innerHTML && !Env.ie) {\n        node.innerHTML = '<br data-mce-bogus=\"1\" />';\n      }\n      return node;\n    };\n    var resolveCaretPositionBookmark = function (dom, bookmark) {\n      var pos;\n      var rng = dom.createRng();\n      pos = resolve$2(dom.getRoot(), bookmark.start);\n      rng.setStart(pos.container(), pos.offset());\n      pos = resolve$2(dom.getRoot(), bookmark.end);\n      rng.setEnd(pos.container(), pos.offset());\n      return rng;\n    };\n    var insertZwsp = function (node, rng) {\n      var textNode = node.ownerDocument.createTextNode(ZWSP$1);\n      node.appendChild(textNode);\n      rng.setStart(textNode, 0);\n      rng.setEnd(textNode, 0);\n    };\n    var isEmpty$1 = function (node) {\n      return node.hasChildNodes() === false;\n    };\n    var tryFindRangePosition = function (node, rng) {\n      return lastPositionIn(node).fold(never, function (pos) {\n        rng.setStart(pos.container(), pos.offset());\n        rng.setEnd(pos.container(), pos.offset());\n        return true;\n      });\n    };\n    var padEmptyCaretContainer = function (root, node, rng) {\n      if (isEmpty$1(node) && getParentCaretContainer(root, node)) {\n        insertZwsp(node, rng);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var setEndPoint = function (dom, start, bookmark, rng) {\n      var point = bookmark[start ? 'start' : 'end'];\n      var i, node, offset, children;\n      var root = dom.getRoot();\n      if (point) {\n        offset = point[0];\n        for (node = root, i = point.length - 1; i >= 1; i--) {\n          children = node.childNodes;\n          if (padEmptyCaretContainer(root, node, rng)) {\n            return true;\n          }\n          if (point[i] > children.length - 1) {\n            if (padEmptyCaretContainer(root, node, rng)) {\n              return true;\n            }\n            return tryFindRangePosition(node, rng);\n          }\n          node = children[point[i]];\n        }\n        if (node.nodeType === 3) {\n          offset = Math.min(point[0], node.nodeValue.length);\n        }\n        if (node.nodeType === 1) {\n          offset = Math.min(point[0], node.childNodes.length);\n        }\n        if (start) {\n          rng.setStart(node, offset);\n        } else {\n          rng.setEnd(node, offset);\n        }\n      }\n      return true;\n    };\n    var isValidTextNode = function (node) {\n      return isText$7(node) && node.data.length > 0;\n    };\n    var restoreEndPoint = function (dom, suffix, bookmark) {\n      var marker = dom.get(bookmark.id + '_' + suffix), node, idx, next, prev;\n      var keep = bookmark.keep;\n      var container, offset;\n      if (marker) {\n        node = marker.parentNode;\n        if (suffix === 'start') {\n          if (!keep) {\n            idx = dom.nodeIndex(marker);\n          } else {\n            if (marker.hasChildNodes()) {\n              node = marker.firstChild;\n              idx = 1;\n            } else if (isValidTextNode(marker.nextSibling)) {\n              node = marker.nextSibling;\n              idx = 0;\n            } else if (isValidTextNode(marker.previousSibling)) {\n              node = marker.previousSibling;\n              idx = marker.previousSibling.data.length;\n            } else {\n              node = marker.parentNode;\n              idx = dom.nodeIndex(marker) + 1;\n            }\n          }\n          container = node;\n          offset = idx;\n        } else {\n          if (!keep) {\n            idx = dom.nodeIndex(marker);\n          } else {\n            if (marker.hasChildNodes()) {\n              node = marker.firstChild;\n              idx = 1;\n            } else if (isValidTextNode(marker.previousSibling)) {\n              node = marker.previousSibling;\n              idx = marker.previousSibling.data.length;\n            } else {\n              node = marker.parentNode;\n              idx = dom.nodeIndex(marker);\n            }\n          }\n          container = node;\n          offset = idx;\n        }\n        if (!keep) {\n          prev = marker.previousSibling;\n          next = marker.nextSibling;\n          Tools.each(Tools.grep(marker.childNodes), function (node) {\n            if (isText$7(node)) {\n              node.nodeValue = node.nodeValue.replace(/\\uFEFF/g, '');\n            }\n          });\n          while (marker = dom.get(bookmark.id + '_' + suffix)) {\n            dom.remove(marker, true);\n          }\n          if (prev && next && prev.nodeType === next.nodeType && isText$7(prev) && !Env.opera) {\n            idx = prev.nodeValue.length;\n            prev.appendData(next.nodeValue);\n            dom.remove(next);\n            container = prev;\n            offset = idx;\n          }\n        }\n        return Optional.some(CaretPosition(container, offset));\n      } else {\n        return Optional.none();\n      }\n    };\n    var resolvePaths = function (dom, bookmark) {\n      var rng = dom.createRng();\n      if (setEndPoint(dom, true, bookmark, rng) && setEndPoint(dom, false, bookmark, rng)) {\n        return Optional.some(rng);\n      } else {\n        return Optional.none();\n      }\n    };\n    var resolveId = function (dom, bookmark) {\n      var startPos = restoreEndPoint(dom, 'start', bookmark);\n      var endPos = restoreEndPoint(dom, 'end', bookmark);\n      return lift2(startPos, endPos.or(startPos), function (spos, epos) {\n        var rng = dom.createRng();\n        rng.setStart(addBogus(dom, spos.container()), spos.offset());\n        rng.setEnd(addBogus(dom, epos.container()), epos.offset());\n        return rng;\n      });\n    };\n    var resolveIndex = function (dom, bookmark) {\n      return Optional.from(dom.select(bookmark.name)[bookmark.index]).map(function (elm) {\n        var rng = dom.createRng();\n        rng.selectNode(elm);\n        return rng;\n      });\n    };\n    var resolve$1 = function (selection, bookmark) {\n      var dom = selection.dom;\n      if (bookmark) {\n        if (isPathBookmark(bookmark)) {\n          return resolvePaths(dom, bookmark);\n        } else if (isStringPathBookmark(bookmark)) {\n          return Optional.some(resolveCaretPositionBookmark(dom, bookmark));\n        } else if (isIdBookmark(bookmark)) {\n          return resolveId(dom, bookmark);\n        } else if (isIndexBookmark(bookmark)) {\n          return resolveIndex(dom, bookmark);\n        } else if (isRangeBookmark(bookmark)) {\n          return Optional.some(bookmark.rng);\n        }\n      }\n      return Optional.none();\n    };\n\n    var getBookmark$1 = function (selection, type, normalized) {\n      return getBookmark$2(selection, type, normalized);\n    };\n    var moveToBookmark = function (selection, bookmark) {\n      resolve$1(selection, bookmark).each(function (rng) {\n        selection.setRng(rng);\n      });\n    };\n    var isBookmarkNode$1 = function (node) {\n      return isElement$5(node) && node.tagName === 'SPAN' && node.getAttribute('data-mce-type') === 'bookmark';\n    };\n\n    var is = function (expected) {\n      return function (actual) {\n        return expected === actual;\n      };\n    };\n    var isNbsp = is(nbsp);\n    var isWhiteSpace = function (chr) {\n      return chr !== '' && ' \\f\\n\\r\\t\\x0B'.indexOf(chr) !== -1;\n    };\n    var isContent = function (chr) {\n      return !isWhiteSpace(chr) && !isNbsp(chr);\n    };\n\n    var isNode = function (node) {\n      return !!node.nodeType;\n    };\n    var isInlineBlock = function (node) {\n      return node && /^(IMG)$/.test(node.nodeName);\n    };\n    var moveStart = function (dom, selection, rng) {\n      var offset = rng.startOffset;\n      var container = rng.startContainer;\n      if (container === rng.endContainer) {\n        if (isInlineBlock(container.childNodes[offset])) {\n          return;\n        }\n      }\n      if (isElement$5(container)) {\n        var nodes = container.childNodes;\n        var walker = void 0;\n        if (offset < nodes.length) {\n          container = nodes[offset];\n          walker = new DomTreeWalker(container, dom.getParent(container, dom.isBlock));\n        } else {\n          container = nodes[nodes.length - 1];\n          walker = new DomTreeWalker(container, dom.getParent(container, dom.isBlock));\n          walker.next(true);\n        }\n        for (var node = walker.current(); node; node = walker.next()) {\n          if (isText$7(node) && !isWhiteSpaceNode$1(node)) {\n            rng.setStart(node, 0);\n            selection.setRng(rng);\n            return;\n          }\n        }\n      }\n    };\n    var getNonWhiteSpaceSibling = function (node, next, inc) {\n      if (node) {\n        var nextName = next ? 'nextSibling' : 'previousSibling';\n        for (node = inc ? node : node[nextName]; node; node = node[nextName]) {\n          if (isElement$5(node) || !isWhiteSpaceNode$1(node)) {\n            return node;\n          }\n        }\n      }\n    };\n    var isTextBlock$1 = function (editor, name) {\n      if (isNode(name)) {\n        name = name.nodeName;\n      }\n      return !!editor.schema.getTextBlockElements()[name.toLowerCase()];\n    };\n    var isValid = function (ed, parent, child) {\n      return ed.schema.isValidChild(parent, child);\n    };\n    var isWhiteSpaceNode$1 = function (node, allowSpaces) {\n      if (allowSpaces === void 0) {\n        allowSpaces = false;\n      }\n      if (isNonNullable(node) && isText$7(node)) {\n        var data = allowSpaces ? node.data.replace(/ /g, '\\xA0') : node.data;\n        return isWhitespaceText(data);\n      } else {\n        return false;\n      }\n    };\n    var isEmptyTextNode$1 = function (node) {\n      return isNonNullable(node) && isText$7(node) && node.length === 0;\n    };\n    var replaceVars = function (value, vars) {\n      if (isFunction(value)) {\n        value = value(vars);\n      } else if (isNonNullable(vars)) {\n        value = value.replace(/%(\\w+)/g, function (str, name) {\n          return vars[name] || str;\n        });\n      }\n      return value;\n    };\n    var isEq$5 = function (str1, str2) {\n      str1 = str1 || '';\n      str2 = str2 || '';\n      str1 = '' + (str1.nodeName || str1);\n      str2 = '' + (str2.nodeName || str2);\n      return str1.toLowerCase() === str2.toLowerCase();\n    };\n    var normalizeStyleValue = function (dom, value, name) {\n      if (name === 'color' || name === 'backgroundColor') {\n        value = dom.toHex(value);\n      }\n      if (name === 'fontWeight' && value === 700) {\n        value = 'bold';\n      }\n      if (name === 'fontFamily') {\n        value = value.replace(/[\\'\\\"]/g, '').replace(/,\\s+/g, ',');\n      }\n      return '' + value;\n    };\n    var getStyle = function (dom, node, name) {\n      return normalizeStyleValue(dom, dom.getStyle(node, name), name);\n    };\n    var getTextDecoration = function (dom, node) {\n      var decoration;\n      dom.getParent(node, function (n) {\n        decoration = dom.getStyle(n, 'text-decoration');\n        return decoration && decoration !== 'none';\n      });\n      return decoration;\n    };\n    var getParents$2 = function (dom, node, selector) {\n      return dom.getParents(node, selector, dom.getRoot());\n    };\n    var isVariableFormatName = function (editor, formatName) {\n      var hasVariableValues = function (format) {\n        var isVariableValue = function (val) {\n          return val.length > 1 && val.charAt(0) === '%';\n        };\n        return exists([\n          'styles',\n          'attributes'\n        ], function (key) {\n          return get$9(format, key).exists(function (field) {\n            var fieldValues = isArray$1(field) ? field : values(field);\n            return exists(fieldValues, isVariableValue);\n          });\n        });\n      };\n      return exists(editor.formatter.get(formatName), hasVariableValues);\n    };\n    var areSimilarFormats = function (editor, formatName, otherFormatName) {\n      var validKeys = [\n        'inline',\n        'block',\n        'selector',\n        'attributes',\n        'styles',\n        'classes'\n      ];\n      var filterObj = function (format) {\n        return filter$3(format, function (_, key) {\n          return exists(validKeys, function (validKey) {\n            return validKey === key;\n          });\n        });\n      };\n      return exists(editor.formatter.get(formatName), function (fmt1) {\n        var filteredFmt1 = filterObj(fmt1);\n        return exists(editor.formatter.get(otherFormatName), function (fmt2) {\n          var filteredFmt2 = filterObj(fmt2);\n          return equal$1(filteredFmt1, filteredFmt2);\n        });\n      });\n    };\n    var isBlockFormat = function (format) {\n      return hasNonNullableKey(format, 'block');\n    };\n    var isSelectorFormat = function (format) {\n      return hasNonNullableKey(format, 'selector');\n    };\n    var isInlineFormat = function (format) {\n      return hasNonNullableKey(format, 'inline');\n    };\n    var isMixedFormat = function (format) {\n      return isSelectorFormat(format) && isInlineFormat(format) && is$1(get$9(format, 'mixed'), true);\n    };\n    var shouldExpandToSelector = function (format) {\n      return isSelectorFormat(format) && format.expand !== false && !isInlineFormat(format);\n    };\n\n    var isBookmarkNode = isBookmarkNode$1;\n    var getParents$1 = getParents$2;\n    var isWhiteSpaceNode = isWhiteSpaceNode$1;\n    var isTextBlock = isTextBlock$1;\n    var isBogusBr = function (node) {\n      return isBr$5(node) && node.getAttribute('data-mce-bogus') && !node.nextSibling;\n    };\n    var findParentContentEditable = function (dom, node) {\n      var parent = node;\n      while (parent) {\n        if (isElement$5(parent) && dom.getContentEditable(parent)) {\n          return dom.getContentEditable(parent) === 'false' ? parent : node;\n        }\n        parent = parent.parentNode;\n      }\n      return node;\n    };\n    var walkText = function (start, node, offset, predicate) {\n      var str = node.data;\n      for (var i = offset; start ? i >= 0 : i < str.length; start ? i-- : i++) {\n        if (predicate(str.charAt(i))) {\n          return start ? i + 1 : i;\n        }\n      }\n      return -1;\n    };\n    var findSpace = function (start, node, offset) {\n      return walkText(start, node, offset, function (c) {\n        return isNbsp(c) || isWhiteSpace(c);\n      });\n    };\n    var findContent = function (start, node, offset) {\n      return walkText(start, node, offset, isContent);\n    };\n    var findWordEndPoint = function (dom, body, container, offset, start, includeTrailingSpaces) {\n      var lastTextNode;\n      var rootNode = dom.getParent(container, dom.isBlock) || body;\n      var walk = function (container, offset, pred) {\n        var textSeeker = TextSeeker(dom);\n        var walker = start ? textSeeker.backwards : textSeeker.forwards;\n        return Optional.from(walker(container, offset, function (text, textOffset) {\n          if (isBookmarkNode(text.parentNode)) {\n            return -1;\n          } else {\n            lastTextNode = text;\n            return pred(start, text, textOffset);\n          }\n        }, rootNode));\n      };\n      var spaceResult = walk(container, offset, findSpace);\n      return spaceResult.bind(function (result) {\n        return includeTrailingSpaces ? walk(result.container, result.offset + (start ? -1 : 0), findContent) : Optional.some(result);\n      }).orThunk(function () {\n        return lastTextNode ? Optional.some({\n          container: lastTextNode,\n          offset: start ? 0 : lastTextNode.length\n        }) : Optional.none();\n      });\n    };\n    var findSelectorEndPoint = function (dom, formatList, rng, container, siblingName) {\n      if (isText$7(container) && isEmpty$3(container.data) && container[siblingName]) {\n        container = container[siblingName];\n      }\n      var parents = getParents$1(dom, container);\n      for (var i = 0; i < parents.length; i++) {\n        for (var y = 0; y < formatList.length; y++) {\n          var curFormat = formatList[y];\n          if (isNonNullable(curFormat.collapsed) && curFormat.collapsed !== rng.collapsed) {\n            continue;\n          }\n          if (isSelectorFormat(curFormat) && dom.is(parents[i], curFormat.selector)) {\n            return parents[i];\n          }\n        }\n      }\n      return container;\n    };\n    var findBlockEndPoint = function (editor, formatList, container, siblingName) {\n      var node = container;\n      var dom = editor.dom;\n      var root = dom.getRoot();\n      var format = formatList[0];\n      if (isBlockFormat(format)) {\n        node = format.wrapper ? null : dom.getParent(container, format.block, root);\n      }\n      if (!node) {\n        var scopeRoot = dom.getParent(container, 'LI,TD,TH');\n        node = dom.getParent(isText$7(container) ? container.parentNode : container, function (node) {\n          return node !== root && isTextBlock(editor, node);\n        }, scopeRoot);\n      }\n      if (node && isBlockFormat(format) && format.wrapper) {\n        node = getParents$1(dom, node, 'ul,ol').reverse()[0] || node;\n      }\n      if (!node) {\n        node = container;\n        while (node[siblingName] && !dom.isBlock(node[siblingName])) {\n          node = node[siblingName];\n          if (isEq$5(node, 'br')) {\n            break;\n          }\n        }\n      }\n      return node || container;\n    };\n    var isAtBlockBoundary$1 = function (dom, root, container, siblingName) {\n      var parent = container.parentNode;\n      if (isNonNullable(container[siblingName])) {\n        return false;\n      } else if (parent === root || isNullable(parent) || dom.isBlock(parent)) {\n        return true;\n      } else {\n        return isAtBlockBoundary$1(dom, root, parent, siblingName);\n      }\n    };\n    var findParentContainer = function (dom, formatList, container, offset, start) {\n      var parent = container;\n      var siblingName = start ? 'previousSibling' : 'nextSibling';\n      var root = dom.getRoot();\n      if (isText$7(container) && !isWhiteSpaceNode(container)) {\n        if (start ? offset > 0 : offset < container.data.length) {\n          return container;\n        }\n      }\n      while (true) {\n        if (!formatList[0].block_expand && dom.isBlock(parent)) {\n          return parent;\n        }\n        for (var sibling = parent[siblingName]; sibling; sibling = sibling[siblingName]) {\n          var allowSpaces = isText$7(sibling) && !isAtBlockBoundary$1(dom, root, sibling, siblingName);\n          if (!isBookmarkNode(sibling) && !isBogusBr(sibling) && !isWhiteSpaceNode(sibling, allowSpaces)) {\n            return parent;\n          }\n        }\n        if (parent === root || parent.parentNode === root) {\n          container = parent;\n          break;\n        }\n        parent = parent.parentNode;\n      }\n      return container;\n    };\n    var isSelfOrParentBookmark = function (container) {\n      return isBookmarkNode(container.parentNode) || isBookmarkNode(container);\n    };\n    var expandRng = function (editor, rng, formatList, includeTrailingSpace) {\n      if (includeTrailingSpace === void 0) {\n        includeTrailingSpace = false;\n      }\n      var startContainer = rng.startContainer, startOffset = rng.startOffset, endContainer = rng.endContainer, endOffset = rng.endOffset;\n      var dom = editor.dom;\n      var format = formatList[0];\n      if (isElement$5(startContainer) && startContainer.hasChildNodes()) {\n        startContainer = getNode$1(startContainer, startOffset);\n        if (isText$7(startContainer)) {\n          startOffset = 0;\n        }\n      }\n      if (isElement$5(endContainer) && endContainer.hasChildNodes()) {\n        endContainer = getNode$1(endContainer, rng.collapsed ? endOffset : endOffset - 1);\n        if (isText$7(endContainer)) {\n          endOffset = endContainer.nodeValue.length;\n        }\n      }\n      startContainer = findParentContentEditable(dom, startContainer);\n      endContainer = findParentContentEditable(dom, endContainer);\n      if (isSelfOrParentBookmark(startContainer)) {\n        startContainer = isBookmarkNode(startContainer) ? startContainer : startContainer.parentNode;\n        if (rng.collapsed) {\n          startContainer = startContainer.previousSibling || startContainer;\n        } else {\n          startContainer = startContainer.nextSibling || startContainer;\n        }\n        if (isText$7(startContainer)) {\n          startOffset = rng.collapsed ? startContainer.length : 0;\n        }\n      }\n      if (isSelfOrParentBookmark(endContainer)) {\n        endContainer = isBookmarkNode(endContainer) ? endContainer : endContainer.parentNode;\n        if (rng.collapsed) {\n          endContainer = endContainer.nextSibling || endContainer;\n        } else {\n          endContainer = endContainer.previousSibling || endContainer;\n        }\n        if (isText$7(endContainer)) {\n          endOffset = rng.collapsed ? 0 : endContainer.length;\n        }\n      }\n      if (rng.collapsed) {\n        var startPoint = findWordEndPoint(dom, editor.getBody(), startContainer, startOffset, true, includeTrailingSpace);\n        startPoint.each(function (_a) {\n          var container = _a.container, offset = _a.offset;\n          startContainer = container;\n          startOffset = offset;\n        });\n        var endPoint = findWordEndPoint(dom, editor.getBody(), endContainer, endOffset, false, includeTrailingSpace);\n        endPoint.each(function (_a) {\n          var container = _a.container, offset = _a.offset;\n          endContainer = container;\n          endOffset = offset;\n        });\n      }\n      if (isInlineFormat(format) || format.block_expand) {\n        if (!isInlineFormat(format) || (!isText$7(startContainer) || startOffset === 0)) {\n          startContainer = findParentContainer(dom, formatList, startContainer, startOffset, true);\n        }\n        if (!isInlineFormat(format) || (!isText$7(endContainer) || endOffset === endContainer.nodeValue.length)) {\n          endContainer = findParentContainer(dom, formatList, endContainer, endOffset, false);\n        }\n      }\n      if (shouldExpandToSelector(format)) {\n        startContainer = findSelectorEndPoint(dom, formatList, rng, startContainer, 'previousSibling');\n        endContainer = findSelectorEndPoint(dom, formatList, rng, endContainer, 'nextSibling');\n      }\n      if (isBlockFormat(format) || isSelectorFormat(format)) {\n        startContainer = findBlockEndPoint(editor, formatList, startContainer, 'previousSibling');\n        endContainer = findBlockEndPoint(editor, formatList, endContainer, 'nextSibling');\n        if (isBlockFormat(format)) {\n          if (!dom.isBlock(startContainer)) {\n            startContainer = findParentContainer(dom, formatList, startContainer, startOffset, true);\n          }\n          if (!dom.isBlock(endContainer)) {\n            endContainer = findParentContainer(dom, formatList, endContainer, endOffset, false);\n          }\n        }\n      }\n      if (isElement$5(startContainer)) {\n        startOffset = dom.nodeIndex(startContainer);\n        startContainer = startContainer.parentNode;\n      }\n      if (isElement$5(endContainer)) {\n        endOffset = dom.nodeIndex(endContainer) + 1;\n        endContainer = endContainer.parentNode;\n      }\n      return {\n        startContainer: startContainer,\n        startOffset: startOffset,\n        endContainer: endContainer,\n        endOffset: endOffset\n      };\n    };\n\n    var walk$2 = function (dom, rng, callback) {\n      var startOffset = rng.startOffset;\n      var startContainer = getNode$1(rng.startContainer, startOffset);\n      var endOffset = rng.endOffset;\n      var endContainer = getNode$1(rng.endContainer, endOffset - 1);\n      var exclude = function (nodes) {\n        var firstNode = nodes[0];\n        if (isText$7(firstNode) && firstNode === startContainer && startOffset >= firstNode.data.length) {\n          nodes.splice(0, 1);\n        }\n        var lastNode = nodes[nodes.length - 1];\n        if (endOffset === 0 && nodes.length > 0 && lastNode === endContainer && isText$7(lastNode)) {\n          nodes.splice(nodes.length - 1, 1);\n        }\n        return nodes;\n      };\n      var collectSiblings = function (node, name, endNode) {\n        var siblings = [];\n        for (; node && node !== endNode; node = node[name]) {\n          siblings.push(node);\n        }\n        return siblings;\n      };\n      var findEndPoint = function (node, root) {\n        return dom.getParent(node, function (node) {\n          return node.parentNode === root;\n        }, root);\n      };\n      var walkBoundary = function (startNode, endNode, next) {\n        var siblingName = next ? 'nextSibling' : 'previousSibling';\n        for (var node = startNode, parent_1 = node.parentNode; node && node !== endNode; node = parent_1) {\n          parent_1 = node.parentNode;\n          var siblings_1 = collectSiblings(node === startNode ? node : node[siblingName], siblingName);\n          if (siblings_1.length) {\n            if (!next) {\n              siblings_1.reverse();\n            }\n            callback(exclude(siblings_1));\n          }\n        }\n      };\n      if (startContainer === endContainer) {\n        return callback(exclude([startContainer]));\n      }\n      var ancestor = dom.findCommonAncestor(startContainer, endContainer);\n      if (dom.isChildOf(startContainer, endContainer)) {\n        return walkBoundary(startContainer, ancestor, true);\n      }\n      if (dom.isChildOf(endContainer, startContainer)) {\n        return walkBoundary(endContainer, ancestor);\n      }\n      var startPoint = findEndPoint(startContainer, ancestor) || startContainer;\n      var endPoint = findEndPoint(endContainer, ancestor) || endContainer;\n      walkBoundary(startContainer, startPoint, true);\n      var siblings = collectSiblings(startPoint === startContainer ? startPoint : startPoint.nextSibling, 'nextSibling', endPoint === endContainer ? endPoint.nextSibling : endPoint);\n      if (siblings.length) {\n        callback(exclude(siblings));\n      }\n      walkBoundary(endContainer, endPoint);\n    };\n\n    var getRanges = function (selection) {\n      var ranges = [];\n      if (selection) {\n        for (var i = 0; i < selection.rangeCount; i++) {\n          ranges.push(selection.getRangeAt(i));\n        }\n      }\n      return ranges;\n    };\n    var getSelectedNodes = function (ranges) {\n      return bind(ranges, function (range) {\n        var node = getSelectedNode(range);\n        return node ? [SugarElement.fromDom(node)] : [];\n      });\n    };\n    var hasMultipleRanges = function (selection) {\n      return getRanges(selection).length > 1;\n    };\n\n    var getCellsFromRanges = function (ranges) {\n      return filter$4(getSelectedNodes(ranges), isTableCell$4);\n    };\n    var getCellsFromElement = function (elm) {\n      return descendants(elm, 'td[data-mce-selected],th[data-mce-selected]');\n    };\n    var getCellsFromElementOrRanges = function (ranges, element) {\n      var selectedCells = getCellsFromElement(element);\n      return selectedCells.length > 0 ? selectedCells : getCellsFromRanges(ranges);\n    };\n    var getCellsFromEditor = function (editor) {\n      return getCellsFromElementOrRanges(getRanges(editor.selection.getSel()), SugarElement.fromDom(editor.getBody()));\n    };\n    var getClosestTable = function (cell, isRoot) {\n      return ancestor$2(cell, 'table', isRoot);\n    };\n\n    var getStartNode = function (rng) {\n      var sc = rng.startContainer, so = rng.startOffset;\n      if (isText$7(sc)) {\n        return so === 0 ? Optional.some(SugarElement.fromDom(sc)) : Optional.none();\n      } else {\n        return Optional.from(sc.childNodes[so]).map(SugarElement.fromDom);\n      }\n    };\n    var getEndNode = function (rng) {\n      var ec = rng.endContainer, eo = rng.endOffset;\n      if (isText$7(ec)) {\n        return eo === ec.data.length ? Optional.some(SugarElement.fromDom(ec)) : Optional.none();\n      } else {\n        return Optional.from(ec.childNodes[eo - 1]).map(SugarElement.fromDom);\n      }\n    };\n    var getFirstChildren = function (node) {\n      return firstChild(node).fold(constant([node]), function (child) {\n        return [node].concat(getFirstChildren(child));\n      });\n    };\n    var getLastChildren$1 = function (node) {\n      return lastChild(node).fold(constant([node]), function (child) {\n        if (name(child) === 'br') {\n          return prevSibling(child).map(function (sibling) {\n            return [node].concat(getLastChildren$1(sibling));\n          }).getOr([]);\n        } else {\n          return [node].concat(getLastChildren$1(child));\n        }\n      });\n    };\n    var hasAllContentsSelected = function (elm, rng) {\n      return lift2(getStartNode(rng), getEndNode(rng), function (startNode, endNode) {\n        var start = find$3(getFirstChildren(elm), curry(eq, startNode));\n        var end = find$3(getLastChildren$1(elm), curry(eq, endNode));\n        return start.isSome() && end.isSome();\n      }).getOr(false);\n    };\n    var moveEndPoint = function (dom, rng, node, start) {\n      var root = node, walker = new DomTreeWalker(node, root);\n      var moveCaretBeforeOnEnterElementsMap = filter$3(dom.schema.getMoveCaretBeforeOnEnterElements(), function (_, name) {\n        return !contains$3([\n          'td',\n          'th',\n          'table'\n        ], name.toLowerCase());\n      });\n      do {\n        if (isText$7(node) && Tools.trim(node.nodeValue).length !== 0) {\n          if (start) {\n            rng.setStart(node, 0);\n          } else {\n            rng.setEnd(node, node.nodeValue.length);\n          }\n          return;\n        }\n        if (moveCaretBeforeOnEnterElementsMap[node.nodeName]) {\n          if (start) {\n            rng.setStartBefore(node);\n          } else {\n            if (node.nodeName === 'BR') {\n              rng.setEndBefore(node);\n            } else {\n              rng.setEndAfter(node);\n            }\n          }\n          return;\n        }\n      } while (node = start ? walker.next() : walker.prev());\n      if (root.nodeName === 'BODY') {\n        if (start) {\n          rng.setStart(root, 0);\n        } else {\n          rng.setEnd(root, root.childNodes.length);\n        }\n      }\n    };\n    var hasAnyRanges = function (editor) {\n      var sel = editor.selection.getSel();\n      return sel && sel.rangeCount > 0;\n    };\n    var runOnRanges = function (editor, executor) {\n      var fakeSelectionNodes = getCellsFromEditor(editor);\n      if (fakeSelectionNodes.length > 0) {\n        each$k(fakeSelectionNodes, function (elem) {\n          var node = elem.dom;\n          var fakeNodeRng = editor.dom.createRng();\n          fakeNodeRng.setStartBefore(node);\n          fakeNodeRng.setEndAfter(node);\n          executor(fakeNodeRng, true);\n        });\n      } else {\n        executor(editor.selection.getRng(), false);\n      }\n    };\n    var preserve = function (selection, fillBookmark, executor) {\n      var bookmark = getPersistentBookmark(selection, fillBookmark);\n      executor(bookmark);\n      selection.moveToBookmark(bookmark);\n    };\n\n    var NodeValue = function (is, name) {\n      var get = function (element) {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      var getOption = function (element) {\n        return is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      };\n      var set = function (element, value) {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get: get,\n        getOption: getOption,\n        set: set\n      };\n    };\n\n    var api$1 = NodeValue(isText$8, 'text');\n    var get$2 = function (element) {\n      return api$1.get(element);\n    };\n\n    var isZeroWidth = function (elem) {\n      return isText$8(elem) && get$2(elem) === ZWSP$1;\n    };\n    var context = function (editor, elem, wrapName, nodeName) {\n      return parent(elem).fold(function () {\n        return 'skipping';\n      }, function (parent) {\n        if (nodeName === 'br' || isZeroWidth(elem)) {\n          return 'valid';\n        } else if (isAnnotation(elem)) {\n          return 'existing';\n        } else if (isCaretNode(elem.dom)) {\n          return 'caret';\n        } else if (!isValid(editor, wrapName, nodeName) || !isValid(editor, name(parent), wrapName)) {\n          return 'invalid-child';\n        } else {\n          return 'valid';\n        }\n      });\n    };\n\n    var applyWordGrab = function (editor, rng) {\n      var r = expandRng(editor, rng, [{ inline: 'span' }]);\n      rng.setStart(r.startContainer, r.startOffset);\n      rng.setEnd(r.endContainer, r.endOffset);\n      editor.selection.setRng(rng);\n    };\n    var makeAnnotation = function (eDoc, _a, annotationName, decorate) {\n      var _b = _a.uid, uid = _b === void 0 ? generate('mce-annotation') : _b, data = __rest(_a, ['uid']);\n      var master = SugarElement.fromTag('span', eDoc);\n      add$1(master, annotation());\n      set$1(master, '' + dataAnnotationId(), uid);\n      set$1(master, '' + dataAnnotation(), annotationName);\n      var _c = decorate(uid, data), _d = _c.attributes, attributes = _d === void 0 ? {} : _d, _e = _c.classes, classes = _e === void 0 ? [] : _e;\n      setAll$1(master, attributes);\n      add(master, classes);\n      return master;\n    };\n    var annotate = function (editor, rng, annotationName, decorate, data) {\n      var newWrappers = [];\n      var master = makeAnnotation(editor.getDoc(), data, annotationName, decorate);\n      var wrapper = value();\n      var finishWrapper = function () {\n        wrapper.clear();\n      };\n      var getOrOpenWrapper = function () {\n        return wrapper.get().getOrThunk(function () {\n          var nu = shallow(master);\n          newWrappers.push(nu);\n          wrapper.set(nu);\n          return nu;\n        });\n      };\n      var processElements = function (elems) {\n        each$k(elems, processElement);\n      };\n      var processElement = function (elem) {\n        var ctx = context(editor, elem, 'span', name(elem));\n        switch (ctx) {\n        case 'invalid-child': {\n            finishWrapper();\n            var children$1 = children(elem);\n            processElements(children$1);\n            finishWrapper();\n            break;\n          }\n        case 'valid': {\n            var w = getOrOpenWrapper();\n            wrap$3(elem, w);\n            break;\n          }\n        }\n      };\n      var processNodes = function (nodes) {\n        var elems = map$3(nodes, SugarElement.fromDom);\n        processElements(elems);\n      };\n      walk$2(editor.dom, rng, function (nodes) {\n        finishWrapper();\n        processNodes(nodes);\n      });\n      return newWrappers;\n    };\n    var annotateWithBookmark = function (editor, name, settings, data) {\n      editor.undoManager.transact(function () {\n        var selection = editor.selection;\n        var initialRng = selection.getRng();\n        var hasFakeSelection = getCellsFromEditor(editor).length > 0;\n        if (initialRng.collapsed && !hasFakeSelection) {\n          applyWordGrab(editor, initialRng);\n        }\n        if (selection.getRng().collapsed && !hasFakeSelection) {\n          var wrapper = makeAnnotation(editor.getDoc(), data, name, settings.decorate);\n          set(wrapper, nbsp);\n          selection.getRng().insertNode(wrapper.dom);\n          selection.select(wrapper.dom);\n        } else {\n          preserve(selection, false, function () {\n            runOnRanges(editor, function (selectionRng) {\n              annotate(editor, selectionRng, name, settings.decorate, data);\n            });\n          });\n        }\n      });\n    };\n\n    var Annotator = function (editor) {\n      var registry = create$7();\n      setup$m(editor, registry);\n      var changes = setup$n(editor);\n      return {\n        register: function (name, settings) {\n          registry.register(name, settings);\n        },\n        annotate: function (name, data) {\n          registry.lookup(name).each(function (settings) {\n            annotateWithBookmark(editor, name, settings, data);\n          });\n        },\n        annotationChanged: function (name, callback) {\n          changes.addListener(name, callback);\n        },\n        remove: function (name) {\n          identify(editor, Optional.some(name)).each(function (_a) {\n            var elements = _a.elements;\n            each$k(elements, unwrap);\n          });\n        },\n        getAll: function (name) {\n          var directory = findAll(editor, name);\n          return map$2(directory, function (elems) {\n            return map$3(elems, function (elem) {\n              return elem.dom;\n            });\n          });\n        }\n      };\n    };\n\n    var BookmarkManager = function (selection) {\n      return {\n        getBookmark: curry(getBookmark$1, selection),\n        moveToBookmark: curry(moveToBookmark, selection)\n      };\n    };\n    BookmarkManager.isBookmarkNode = isBookmarkNode$1;\n\n    var getContentEditableRoot$1 = function (root, node) {\n      while (node && node !== root) {\n        if (isContentEditableTrue$4(node) || isContentEditableFalse$b(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n\n    var isXYWithinRange = function (clientX, clientY, range) {\n      if (range.collapsed) {\n        return false;\n      }\n      if (Env.browser.isIE() && range.startOffset === range.endOffset - 1 && range.startContainer === range.endContainer) {\n        var elm = range.startContainer.childNodes[range.startOffset];\n        if (isElement$5(elm)) {\n          return exists(elm.getClientRects(), function (rect) {\n            return containsXY(rect, clientX, clientY);\n          });\n        }\n      }\n      return exists(range.getClientRects(), function (rect) {\n        return containsXY(rect, clientX, clientY);\n      });\n    };\n\n    var firePreProcess = function (editor, args) {\n      return editor.fire('PreProcess', args);\n    };\n    var firePostProcess = function (editor, args) {\n      return editor.fire('PostProcess', args);\n    };\n    var fireRemove = function (editor) {\n      return editor.fire('remove');\n    };\n    var fireDetach = function (editor) {\n      return editor.fire('detach');\n    };\n    var fireSwitchMode = function (editor, mode) {\n      return editor.fire('SwitchMode', { mode: mode });\n    };\n    var fireObjectResizeStart = function (editor, target, width, height, origin) {\n      editor.fire('ObjectResizeStart', {\n        target: target,\n        width: width,\n        height: height,\n        origin: origin\n      });\n    };\n    var fireObjectResized = function (editor, target, width, height, origin) {\n      editor.fire('ObjectResized', {\n        target: target,\n        width: width,\n        height: height,\n        origin: origin\n      });\n    };\n    var firePreInit = function (editor) {\n      return editor.fire('PreInit');\n    };\n    var firePostRender = function (editor) {\n      return editor.fire('PostRender');\n    };\n    var fireInit = function (editor) {\n      return editor.fire('Init');\n    };\n    var firePlaceholderToggle = function (editor, state) {\n      return editor.fire('PlaceholderToggle', { state: state });\n    };\n    var fireError = function (editor, errorType, error) {\n      return editor.fire(errorType, error);\n    };\n    var fireFormatApply = function (editor, format, node, vars) {\n      return editor.fire('FormatApply', {\n        format: format,\n        node: node,\n        vars: vars\n      });\n    };\n    var fireFormatRemove = function (editor, format, node, vars) {\n      return editor.fire('FormatRemove', {\n        format: format,\n        node: node,\n        vars: vars\n      });\n    };\n\n    var VK = {\n      BACKSPACE: 8,\n      DELETE: 46,\n      DOWN: 40,\n      ENTER: 13,\n      ESC: 27,\n      LEFT: 37,\n      RIGHT: 39,\n      SPACEBAR: 32,\n      TAB: 9,\n      UP: 38,\n      PAGE_UP: 33,\n      PAGE_DOWN: 34,\n      END: 35,\n      HOME: 36,\n      modifierPressed: function (e) {\n        return e.shiftKey || e.ctrlKey || e.altKey || VK.metaKeyPressed(e);\n      },\n      metaKeyPressed: function (e) {\n        return Env.mac ? e.metaKey : e.ctrlKey && !e.altKey;\n      }\n    };\n\n    var isContentEditableFalse$5 = isContentEditableFalse$b;\n    var ControlSelection = function (selection, editor) {\n      var elementSelectionAttr = 'data-mce-selected';\n      var dom = editor.dom, each = Tools.each;\n      var selectedElm, selectedElmGhost, resizeHelper, selectedHandle, resizeBackdrop;\n      var startX, startY, selectedElmX, selectedElmY, startW, startH, ratio, resizeStarted;\n      var width, height;\n      var editableDoc = editor.getDoc(), rootDocument = document;\n      var abs = Math.abs, round = Math.round, rootElement = editor.getBody();\n      var startScrollWidth, startScrollHeight;\n      var resizeHandles = {\n        nw: [\n          0,\n          0,\n          -1,\n          -1\n        ],\n        ne: [\n          1,\n          0,\n          1,\n          -1\n        ],\n        se: [\n          1,\n          1,\n          1,\n          1\n        ],\n        sw: [\n          0,\n          1,\n          -1,\n          1\n        ]\n      };\n      var isImage = function (elm) {\n        return elm && (elm.nodeName === 'IMG' || editor.dom.is(elm, 'figure.image'));\n      };\n      var isMedia = function (elm) {\n        return isMedia$2(elm) || dom.hasClass(elm, 'mce-preview-object');\n      };\n      var isEventOnImageOutsideRange = function (evt, range) {\n        if (evt.type === 'longpress' || evt.type.indexOf('touch') === 0) {\n          var touch = evt.touches[0];\n          return isImage(evt.target) && !isXYWithinRange(touch.clientX, touch.clientY, range);\n        } else {\n          return isImage(evt.target) && !isXYWithinRange(evt.clientX, evt.clientY, range);\n        }\n      };\n      var contextMenuSelectImage = function (evt) {\n        var target = evt.target;\n        if (isEventOnImageOutsideRange(evt, editor.selection.getRng()) && !evt.isDefaultPrevented()) {\n          editor.selection.select(target);\n        }\n      };\n      var getResizeTargets = function (elm) {\n        if (dom.is(elm, 'figure.image')) {\n          return [elm.querySelector('img')];\n        } else if (dom.hasClass(elm, 'mce-preview-object') && isNonNullable(elm.firstElementChild)) {\n          return [\n            elm,\n            elm.firstElementChild\n          ];\n        } else {\n          return [elm];\n        }\n      };\n      var isResizable = function (elm) {\n        var selector = getObjectResizing(editor);\n        if (!selector) {\n          return false;\n        }\n        if (elm.getAttribute('data-mce-resize') === 'false') {\n          return false;\n        }\n        if (elm === editor.getBody()) {\n          return false;\n        }\n        if (dom.hasClass(elm, 'mce-preview-object')) {\n          return is$2(SugarElement.fromDom(elm.firstElementChild), selector);\n        } else {\n          return is$2(SugarElement.fromDom(elm), selector);\n        }\n      };\n      var createGhostElement = function (elm) {\n        if (isMedia(elm)) {\n          return dom.create('img', { src: Env.transparentSrc });\n        } else {\n          return elm.cloneNode(true);\n        }\n      };\n      var setSizeProp = function (element, name, value) {\n        if (isNonNullable(value)) {\n          var targets = getResizeTargets(element);\n          each$k(targets, function (target) {\n            if (target.style[name] || !editor.schema.isValid(target.nodeName.toLowerCase(), name)) {\n              dom.setStyle(target, name, value);\n            } else {\n              dom.setAttrib(target, name, '' + value);\n            }\n          });\n        }\n      };\n      var setGhostElmSize = function (ghostElm, width, height) {\n        setSizeProp(ghostElm, 'width', width);\n        setSizeProp(ghostElm, 'height', height);\n      };\n      var resizeGhostElement = function (e) {\n        var deltaX, deltaY, proportional;\n        var resizeHelperX, resizeHelperY;\n        deltaX = e.screenX - startX;\n        deltaY = e.screenY - startY;\n        width = deltaX * selectedHandle[2] + startW;\n        height = deltaY * selectedHandle[3] + startH;\n        width = width < 5 ? 5 : width;\n        height = height < 5 ? 5 : height;\n        if ((isImage(selectedElm) || isMedia(selectedElm)) && getResizeImgProportional(editor) !== false) {\n          proportional = !VK.modifierPressed(e);\n        } else {\n          proportional = VK.modifierPressed(e);\n        }\n        if (proportional) {\n          if (abs(deltaX) > abs(deltaY)) {\n            height = round(width * ratio);\n            width = round(height / ratio);\n          } else {\n            width = round(height / ratio);\n            height = round(width * ratio);\n          }\n        }\n        setGhostElmSize(selectedElmGhost, width, height);\n        resizeHelperX = selectedHandle.startPos.x + deltaX;\n        resizeHelperY = selectedHandle.startPos.y + deltaY;\n        resizeHelperX = resizeHelperX > 0 ? resizeHelperX : 0;\n        resizeHelperY = resizeHelperY > 0 ? resizeHelperY : 0;\n        dom.setStyles(resizeHelper, {\n          left: resizeHelperX,\n          top: resizeHelperY,\n          display: 'block'\n        });\n        resizeHelper.innerHTML = width + ' &times; ' + height;\n        if (selectedHandle[2] < 0 && selectedElmGhost.clientWidth <= width) {\n          dom.setStyle(selectedElmGhost, 'left', selectedElmX + (startW - width));\n        }\n        if (selectedHandle[3] < 0 && selectedElmGhost.clientHeight <= height) {\n          dom.setStyle(selectedElmGhost, 'top', selectedElmY + (startH - height));\n        }\n        deltaX = rootElement.scrollWidth - startScrollWidth;\n        deltaY = rootElement.scrollHeight - startScrollHeight;\n        if (deltaX + deltaY !== 0) {\n          dom.setStyles(resizeHelper, {\n            left: resizeHelperX - deltaX,\n            top: resizeHelperY - deltaY\n          });\n        }\n        if (!resizeStarted) {\n          fireObjectResizeStart(editor, selectedElm, startW, startH, 'corner-' + selectedHandle.name);\n          resizeStarted = true;\n        }\n      };\n      var endGhostResize = function () {\n        var wasResizeStarted = resizeStarted;\n        resizeStarted = false;\n        if (wasResizeStarted) {\n          setSizeProp(selectedElm, 'width', width);\n          setSizeProp(selectedElm, 'height', height);\n        }\n        dom.unbind(editableDoc, 'mousemove', resizeGhostElement);\n        dom.unbind(editableDoc, 'mouseup', endGhostResize);\n        if (rootDocument !== editableDoc) {\n          dom.unbind(rootDocument, 'mousemove', resizeGhostElement);\n          dom.unbind(rootDocument, 'mouseup', endGhostResize);\n        }\n        dom.remove(selectedElmGhost);\n        dom.remove(resizeHelper);\n        dom.remove(resizeBackdrop);\n        showResizeRect(selectedElm);\n        if (wasResizeStarted) {\n          fireObjectResized(editor, selectedElm, width, height, 'corner-' + selectedHandle.name);\n          dom.setAttrib(selectedElm, 'style', dom.getAttrib(selectedElm, 'style'));\n        }\n        editor.nodeChanged();\n      };\n      var showResizeRect = function (targetElm) {\n        unbindResizeHandleEvents();\n        var position = dom.getPos(targetElm, rootElement);\n        var selectedElmX = position.x;\n        var selectedElmY = position.y;\n        var rect = targetElm.getBoundingClientRect();\n        var targetWidth = rect.width || rect.right - rect.left;\n        var targetHeight = rect.height || rect.bottom - rect.top;\n        if (selectedElm !== targetElm) {\n          hideResizeRect();\n          selectedElm = targetElm;\n          width = height = 0;\n        }\n        var e = editor.fire('ObjectSelected', { target: targetElm });\n        var selectedValue = dom.getAttrib(selectedElm, elementSelectionAttr, '1');\n        if (isResizable(targetElm) && !e.isDefaultPrevented()) {\n          each(resizeHandles, function (handle, name) {\n            var handleElm;\n            var startDrag = function (e) {\n              var target = getResizeTargets(selectedElm)[0];\n              startX = e.screenX;\n              startY = e.screenY;\n              startW = target.clientWidth;\n              startH = target.clientHeight;\n              ratio = startH / startW;\n              selectedHandle = handle;\n              selectedHandle.name = name;\n              selectedHandle.startPos = {\n                x: targetWidth * handle[0] + selectedElmX,\n                y: targetHeight * handle[1] + selectedElmY\n              };\n              startScrollWidth = rootElement.scrollWidth;\n              startScrollHeight = rootElement.scrollHeight;\n              resizeBackdrop = dom.add(rootElement, 'div', {\n                'class': 'mce-resize-backdrop',\n                'data-mce-bogus': 'all'\n              });\n              dom.setStyles(resizeBackdrop, {\n                position: 'fixed',\n                left: '0',\n                top: '0',\n                width: '100%',\n                height: '100%'\n              });\n              selectedElmGhost = createGhostElement(selectedElm);\n              dom.addClass(selectedElmGhost, 'mce-clonedresizable');\n              dom.setAttrib(selectedElmGhost, 'data-mce-bogus', 'all');\n              selectedElmGhost.contentEditable = 'false';\n              dom.setStyles(selectedElmGhost, {\n                left: selectedElmX,\n                top: selectedElmY,\n                margin: 0\n              });\n              setGhostElmSize(selectedElmGhost, targetWidth, targetHeight);\n              selectedElmGhost.removeAttribute(elementSelectionAttr);\n              rootElement.appendChild(selectedElmGhost);\n              dom.bind(editableDoc, 'mousemove', resizeGhostElement);\n              dom.bind(editableDoc, 'mouseup', endGhostResize);\n              if (rootDocument !== editableDoc) {\n                dom.bind(rootDocument, 'mousemove', resizeGhostElement);\n                dom.bind(rootDocument, 'mouseup', endGhostResize);\n              }\n              resizeHelper = dom.add(rootElement, 'div', {\n                'class': 'mce-resize-helper',\n                'data-mce-bogus': 'all'\n              }, startW + ' &times; ' + startH);\n            };\n            handleElm = dom.get('mceResizeHandle' + name);\n            if (handleElm) {\n              dom.remove(handleElm);\n            }\n            handleElm = dom.add(rootElement, 'div', {\n              'id': 'mceResizeHandle' + name,\n              'data-mce-bogus': 'all',\n              'class': 'mce-resizehandle',\n              'unselectable': true,\n              'style': 'cursor:' + name + '-resize; margin:0; padding:0'\n            });\n            if (Env.ie === 11) {\n              handleElm.contentEditable = false;\n            }\n            dom.bind(handleElm, 'mousedown', function (e) {\n              e.stopImmediatePropagation();\n              e.preventDefault();\n              startDrag(e);\n            });\n            handle.elm = handleElm;\n            dom.setStyles(handleElm, {\n              left: targetWidth * handle[0] + selectedElmX - handleElm.offsetWidth / 2,\n              top: targetHeight * handle[1] + selectedElmY - handleElm.offsetHeight / 2\n            });\n          });\n        } else {\n          hideResizeRect();\n        }\n        if (!dom.getAttrib(selectedElm, elementSelectionAttr)) {\n          selectedElm.setAttribute(elementSelectionAttr, selectedValue);\n        }\n      };\n      var hideResizeRect = function () {\n        unbindResizeHandleEvents();\n        if (selectedElm) {\n          selectedElm.removeAttribute(elementSelectionAttr);\n        }\n        each$j(resizeHandles, function (value, name) {\n          var handleElm = dom.get('mceResizeHandle' + name);\n          if (handleElm) {\n            dom.unbind(handleElm);\n            dom.remove(handleElm);\n          }\n        });\n      };\n      var updateResizeRect = function (e) {\n        var startElm, controlElm;\n        var isChildOrEqual = function (node, parent) {\n          if (node) {\n            do {\n              if (node === parent) {\n                return true;\n              }\n            } while (node = node.parentNode);\n          }\n        };\n        if (resizeStarted || editor.removed) {\n          return;\n        }\n        each(dom.select('img[data-mce-selected],hr[data-mce-selected]'), function (img) {\n          img.removeAttribute(elementSelectionAttr);\n        });\n        controlElm = e.type === 'mousedown' ? e.target : selection.getNode();\n        controlElm = dom.$(controlElm).closest('table,img,figure.image,hr,video,span.mce-preview-object')[0];\n        if (isChildOrEqual(controlElm, rootElement)) {\n          disableGeckoResize();\n          startElm = selection.getStart(true);\n          if (isChildOrEqual(startElm, controlElm) && isChildOrEqual(selection.getEnd(true), controlElm)) {\n            showResizeRect(controlElm);\n            return;\n          }\n        }\n        hideResizeRect();\n      };\n      var isWithinContentEditableFalse = function (elm) {\n        return isContentEditableFalse$5(getContentEditableRoot$1(editor.getBody(), elm));\n      };\n      var unbindResizeHandleEvents = function () {\n        each$j(resizeHandles, function (handle) {\n          if (handle.elm) {\n            dom.unbind(handle.elm);\n            delete handle.elm;\n          }\n        });\n      };\n      var disableGeckoResize = function () {\n        try {\n          editor.getDoc().execCommand('enableObjectResizing', false, 'false');\n        } catch (ex) {\n        }\n      };\n      editor.on('init', function () {\n        disableGeckoResize();\n        if (Env.browser.isIE() || Env.browser.isEdge()) {\n          editor.on('mousedown click', function (e) {\n            var target = e.target, nodeName = target.nodeName;\n            if (!resizeStarted && /^(TABLE|IMG|HR)$/.test(nodeName) && !isWithinContentEditableFalse(target)) {\n              if (e.button !== 2) {\n                editor.selection.select(target, nodeName === 'TABLE');\n              }\n              if (e.type === 'mousedown') {\n                editor.nodeChanged();\n              }\n            }\n          });\n          var handleMSControlSelect_1 = function (e) {\n            var delayedSelect = function (node) {\n              Delay.setEditorTimeout(editor, function () {\n                return editor.selection.select(node);\n              });\n            };\n            if (isWithinContentEditableFalse(e.target) || isMedia$2(e.target)) {\n              e.preventDefault();\n              delayedSelect(e.target);\n              return;\n            }\n            if (/^(TABLE|IMG|HR)$/.test(e.target.nodeName)) {\n              e.preventDefault();\n              if (e.target.tagName === 'IMG') {\n                delayedSelect(e.target);\n              }\n            }\n          };\n          dom.bind(rootElement, 'mscontrolselect', handleMSControlSelect_1);\n          editor.on('remove', function () {\n            return dom.unbind(rootElement, 'mscontrolselect', handleMSControlSelect_1);\n          });\n        }\n        var throttledUpdateResizeRect = Delay.throttle(function (e) {\n          if (!editor.composing) {\n            updateResizeRect(e);\n          }\n        });\n        editor.on('nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged', throttledUpdateResizeRect);\n        editor.on('keyup compositionend', function (e) {\n          if (selectedElm && selectedElm.nodeName === 'TABLE') {\n            throttledUpdateResizeRect(e);\n          }\n        });\n        editor.on('hide blur', hideResizeRect);\n        editor.on('contextmenu longpress', contextMenuSelectImage, true);\n      });\n      editor.on('remove', unbindResizeHandleEvents);\n      var destroy = function () {\n        selectedElm = selectedElmGhost = resizeBackdrop = null;\n      };\n      return {\n        isResizable: isResizable,\n        showResizeRect: showResizeRect,\n        hideResizeRect: hideResizeRect,\n        updateResizeRect: updateResizeRect,\n        destroy: destroy\n      };\n    };\n\n    var hasCeProperty = function (node) {\n      return isContentEditableTrue$4(node) || isContentEditableFalse$b(node);\n    };\n    var findParent$1 = function (node, rootNode, predicate) {\n      while (node && node !== rootNode) {\n        if (predicate(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var findClosestIeRange = function (clientX, clientY, doc) {\n      var rects;\n      var element = doc.elementFromPoint(clientX, clientY);\n      var rng = doc.body.createTextRange();\n      if (!element || element.tagName === 'HTML') {\n        element = doc.body;\n      }\n      rng.moveToElementText(element);\n      rects = Tools.toArray(rng.getClientRects());\n      rects = rects.sort(function (a, b) {\n        a = Math.abs(Math.max(a.top - clientY, a.bottom - clientY));\n        b = Math.abs(Math.max(b.top - clientY, b.bottom - clientY));\n        return a - b;\n      });\n      if (rects.length > 0) {\n        clientY = (rects[0].bottom + rects[0].top) / 2;\n        try {\n          rng.moveToPoint(clientX, clientY);\n          rng.collapse(true);\n          return rng;\n        } catch (ex) {\n        }\n      }\n      return null;\n    };\n    var moveOutOfContentEditableFalse = function (rng, rootNode) {\n      var parentElement = rng && rng.parentElement ? rng.parentElement() : null;\n      return isContentEditableFalse$b(findParent$1(parentElement, rootNode, hasCeProperty)) ? null : rng;\n    };\n    var fromPoint = function (clientX, clientY, doc) {\n      var rng, point;\n      var pointDoc = doc;\n      if (pointDoc.caretPositionFromPoint) {\n        point = pointDoc.caretPositionFromPoint(clientX, clientY);\n        if (point) {\n          rng = doc.createRange();\n          rng.setStart(point.offsetNode, point.offset);\n          rng.collapse(true);\n        }\n      } else if (pointDoc.caretRangeFromPoint) {\n        rng = pointDoc.caretRangeFromPoint(clientX, clientY);\n      } else if (pointDoc.body.createTextRange) {\n        rng = pointDoc.body.createTextRange();\n        try {\n          rng.moveToPoint(clientX, clientY);\n          rng.collapse(true);\n        } catch (ex) {\n          rng = findClosestIeRange(clientX, clientY, doc);\n        }\n        return moveOutOfContentEditableFalse(rng, doc.body);\n      }\n      return rng;\n    };\n\n    var isEq$4 = function (rng1, rng2) {\n      return rng1 && rng2 && (rng1.startContainer === rng2.startContainer && rng1.startOffset === rng2.startOffset) && (rng1.endContainer === rng2.endContainer && rng1.endOffset === rng2.endOffset);\n    };\n\n    var findParent = function (node, rootNode, predicate) {\n      while (node && node !== rootNode) {\n        if (predicate(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var hasParent$1 = function (node, rootNode, predicate) {\n      return findParent(node, rootNode, predicate) !== null;\n    };\n    var hasParentWithName = function (node, rootNode, name) {\n      return hasParent$1(node, rootNode, function (node) {\n        return node.nodeName === name;\n      });\n    };\n    var isTable = function (node) {\n      return node && node.nodeName === 'TABLE';\n    };\n    var isTableCell$2 = function (node) {\n      return node && /^(TD|TH|CAPTION)$/.test(node.nodeName);\n    };\n    var isCeFalseCaretContainer = function (node, rootNode) {\n      return isCaretContainer$2(node) && hasParent$1(node, rootNode, isCaretNode) === false;\n    };\n    var hasBrBeforeAfter = function (dom, node, left) {\n      var walker = new DomTreeWalker(node, dom.getParent(node.parentNode, dom.isBlock) || dom.getRoot());\n      while (node = walker[left ? 'prev' : 'next']()) {\n        if (isBr$5(node)) {\n          return true;\n        }\n      }\n    };\n    var isPrevNode = function (node, name) {\n      return node.previousSibling && node.previousSibling.nodeName === name;\n    };\n    var hasContentEditableFalseParent = function (body, node) {\n      while (node && node !== body) {\n        if (isContentEditableFalse$b(node)) {\n          return true;\n        }\n        node = node.parentNode;\n      }\n      return false;\n    };\n    var findTextNodeRelative = function (dom, isAfterNode, collapsed, left, startNode) {\n      var lastInlineElement;\n      var body = dom.getRoot();\n      var node;\n      var nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n      var parentBlockContainer = dom.getParent(startNode.parentNode, dom.isBlock) || body;\n      if (left && isBr$5(startNode) && isAfterNode && dom.isEmpty(parentBlockContainer)) {\n        return Optional.some(CaretPosition(startNode.parentNode, dom.nodeIndex(startNode)));\n      }\n      var walker = new DomTreeWalker(startNode, parentBlockContainer);\n      while (node = walker[left ? 'prev' : 'next']()) {\n        if (dom.getContentEditableParent(node) === 'false' || isCeFalseCaretContainer(node, body)) {\n          return Optional.none();\n        }\n        if (isText$7(node) && node.nodeValue.length > 0) {\n          if (hasParentWithName(node, body, 'A') === false) {\n            return Optional.some(CaretPosition(node, left ? node.nodeValue.length : 0));\n          }\n          return Optional.none();\n        }\n        if (dom.isBlock(node) || nonEmptyElementsMap[node.nodeName.toLowerCase()]) {\n          return Optional.none();\n        }\n        lastInlineElement = node;\n      }\n      if (collapsed && lastInlineElement) {\n        return Optional.some(CaretPosition(lastInlineElement, 0));\n      }\n      return Optional.none();\n    };\n    var normalizeEndPoint = function (dom, collapsed, start, rng) {\n      var container, offset;\n      var body = dom.getRoot();\n      var node;\n      var directionLeft, normalized = false;\n      container = rng[(start ? 'start' : 'end') + 'Container'];\n      offset = rng[(start ? 'start' : 'end') + 'Offset'];\n      var isAfterNode = isElement$5(container) && offset === container.childNodes.length;\n      var nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n      directionLeft = start;\n      if (isCaretContainer$2(container)) {\n        return Optional.none();\n      }\n      if (isElement$5(container) && offset > container.childNodes.length - 1) {\n        directionLeft = false;\n      }\n      if (isDocument$1(container)) {\n        container = body;\n        offset = 0;\n      }\n      if (container === body) {\n        if (directionLeft) {\n          node = container.childNodes[offset > 0 ? offset - 1 : 0];\n          if (node) {\n            if (isCaretContainer$2(node)) {\n              return Optional.none();\n            }\n            if (nonEmptyElementsMap[node.nodeName] || isTable(node)) {\n              return Optional.none();\n            }\n          }\n        }\n        if (container.hasChildNodes()) {\n          offset = Math.min(!directionLeft && offset > 0 ? offset - 1 : offset, container.childNodes.length - 1);\n          container = container.childNodes[offset];\n          offset = isText$7(container) && isAfterNode ? container.data.length : 0;\n          if (!collapsed && container === body.lastChild && isTable(container)) {\n            return Optional.none();\n          }\n          if (hasContentEditableFalseParent(body, container) || isCaretContainer$2(container)) {\n            return Optional.none();\n          }\n          if (container.hasChildNodes() && isTable(container) === false) {\n            node = container;\n            var walker = new DomTreeWalker(container, body);\n            do {\n              if (isContentEditableFalse$b(node) || isCaretContainer$2(node)) {\n                normalized = false;\n                break;\n              }\n              if (isText$7(node) && node.nodeValue.length > 0) {\n                offset = directionLeft ? 0 : node.nodeValue.length;\n                container = node;\n                normalized = true;\n                break;\n              }\n              if (nonEmptyElementsMap[node.nodeName.toLowerCase()] && !isTableCell$2(node)) {\n                offset = dom.nodeIndex(node);\n                container = node.parentNode;\n                if (!directionLeft) {\n                  offset++;\n                }\n                normalized = true;\n                break;\n              }\n            } while (node = directionLeft ? walker.next() : walker.prev());\n          }\n        }\n      }\n      if (collapsed) {\n        if (isText$7(container) && offset === 0) {\n          findTextNodeRelative(dom, isAfterNode, collapsed, true, container).each(function (pos) {\n            container = pos.container();\n            offset = pos.offset();\n            normalized = true;\n          });\n        }\n        if (isElement$5(container)) {\n          node = container.childNodes[offset];\n          if (!node) {\n            node = container.childNodes[offset - 1];\n          }\n          if (node && isBr$5(node) && !isPrevNode(node, 'A') && !hasBrBeforeAfter(dom, node, false) && !hasBrBeforeAfter(dom, node, true)) {\n            findTextNodeRelative(dom, isAfterNode, collapsed, true, node).each(function (pos) {\n              container = pos.container();\n              offset = pos.offset();\n              normalized = true;\n            });\n          }\n        }\n      }\n      if (directionLeft && !collapsed && isText$7(container) && offset === container.nodeValue.length) {\n        findTextNodeRelative(dom, isAfterNode, collapsed, false, container).each(function (pos) {\n          container = pos.container();\n          offset = pos.offset();\n          normalized = true;\n        });\n      }\n      return normalized ? Optional.some(CaretPosition(container, offset)) : Optional.none();\n    };\n    var normalize$2 = function (dom, rng) {\n      var collapsed = rng.collapsed, normRng = rng.cloneRange();\n      var startPos = CaretPosition.fromRangeStart(rng);\n      normalizeEndPoint(dom, collapsed, true, normRng).each(function (pos) {\n        if (!collapsed || !CaretPosition.isAbove(startPos, pos)) {\n          normRng.setStart(pos.container(), pos.offset());\n        }\n      });\n      if (!collapsed) {\n        normalizeEndPoint(dom, collapsed, false, normRng).each(function (pos) {\n          normRng.setEnd(pos.container(), pos.offset());\n        });\n      }\n      if (collapsed) {\n        normRng.collapse(true);\n      }\n      return isEq$4(rng, normRng) ? Optional.none() : Optional.some(normRng);\n    };\n\n    var splitText = function (node, offset) {\n      return node.splitText(offset);\n    };\n    var split = function (rng) {\n      var startContainer = rng.startContainer, startOffset = rng.startOffset, endContainer = rng.endContainer, endOffset = rng.endOffset;\n      if (startContainer === endContainer && isText$7(startContainer)) {\n        if (startOffset > 0 && startOffset < startContainer.nodeValue.length) {\n          endContainer = splitText(startContainer, startOffset);\n          startContainer = endContainer.previousSibling;\n          if (endOffset > startOffset) {\n            endOffset = endOffset - startOffset;\n            startContainer = endContainer = splitText(endContainer, endOffset).previousSibling;\n            endOffset = endContainer.nodeValue.length;\n            startOffset = 0;\n          } else {\n            endOffset = 0;\n          }\n        }\n      } else {\n        if (isText$7(startContainer) && startOffset > 0 && startOffset < startContainer.nodeValue.length) {\n          startContainer = splitText(startContainer, startOffset);\n          startOffset = 0;\n        }\n        if (isText$7(endContainer) && endOffset > 0 && endOffset < endContainer.nodeValue.length) {\n          endContainer = splitText(endContainer, endOffset).previousSibling;\n          endOffset = endContainer.nodeValue.length;\n        }\n      }\n      return {\n        startContainer: startContainer,\n        startOffset: startOffset,\n        endContainer: endContainer,\n        endOffset: endOffset\n      };\n    };\n\n    var RangeUtils = function (dom) {\n      var walk = function (rng, callback) {\n        return walk$2(dom, rng, callback);\n      };\n      var split$1 = split;\n      var normalize = function (rng) {\n        return normalize$2(dom, rng).fold(never, function (normalizedRng) {\n          rng.setStart(normalizedRng.startContainer, normalizedRng.startOffset);\n          rng.setEnd(normalizedRng.endContainer, normalizedRng.endOffset);\n          return true;\n        });\n      };\n      return {\n        walk: walk,\n        split: split$1,\n        normalize: normalize\n      };\n    };\n    RangeUtils.compareRanges = isEq$4;\n    RangeUtils.getCaretRangeFromPoint = fromPoint;\n    RangeUtils.getSelectedNode = getSelectedNode;\n    RangeUtils.getNode = getNode$1;\n\n    var Dimension = function (name, getOffset) {\n      var set = function (element, h) {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        var dom = element.dom;\n        if (isSupported(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      var get = function (element) {\n        var r = getOffset(element);\n        if (r <= 0 || r === null) {\n          var css = get$5(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      var getOuter = get;\n      var aggregate = function (element, properties) {\n        return foldl(properties, function (acc, property) {\n          var val = get$5(element, property);\n          var value = val === undefined ? 0 : parseInt(val, 10);\n          return isNaN(value) ? acc : acc + value;\n        }, 0);\n      };\n      var max = function (element, value, properties) {\n        var cumulativeInclusions = aggregate(element, properties);\n        var absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set: set,\n        get: get,\n        getOuter: getOuter,\n        aggregate: aggregate,\n        max: max\n      };\n    };\n\n    var api = Dimension('height', function (element) {\n      var dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    var get$1 = function (element) {\n      return api.get(element);\n    };\n\n    var walkUp = function (navigation, doc) {\n      var frame = navigation.view(doc);\n      return frame.fold(constant([]), function (f) {\n        var parent = navigation.owner(f);\n        var rest = walkUp(navigation, parent);\n        return [f].concat(rest);\n      });\n    };\n    var pathTo = function (element, navigation) {\n      var d = navigation.owner(element);\n      return walkUp(navigation, d);\n    };\n\n    var view = function (doc) {\n      var _a;\n      var element = doc.dom === document ? Optional.none() : Optional.from((_a = doc.dom.defaultView) === null || _a === void 0 ? void 0 : _a.frameElement);\n      return element.map(SugarElement.fromDom);\n    };\n    var owner = function (element) {\n      return documentOrOwner(element);\n    };\n\n    var Navigation = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        view: view,\n        owner: owner\n    });\n\n    var find$1 = function (element) {\n      var doc = SugarElement.fromDom(document);\n      var scroll = get$8(doc);\n      var frames = pathTo(element, Navigation);\n      var offset = viewport(element);\n      var r = foldr(frames, function (b, a) {\n        var loc = viewport(a);\n        return {\n          left: b.left + loc.left,\n          top: b.top + loc.top\n        };\n      }, {\n        left: 0,\n        top: 0\n      });\n      return SugarPosition(r.left + offset.left + scroll.left, r.top + offset.top + scroll.top);\n    };\n\n    var excludeFromDescend = function (element) {\n      return name(element) === 'textarea';\n    };\n    var fireScrollIntoViewEvent = function (editor, data) {\n      var scrollEvent = editor.fire('ScrollIntoView', data);\n      return scrollEvent.isDefaultPrevented();\n    };\n    var fireAfterScrollIntoViewEvent = function (editor, data) {\n      editor.fire('AfterScrollIntoView', data);\n    };\n    var descend = function (element, offset) {\n      var children$1 = children(element);\n      if (children$1.length === 0 || excludeFromDescend(element)) {\n        return {\n          element: element,\n          offset: offset\n        };\n      } else if (offset < children$1.length && !excludeFromDescend(children$1[offset])) {\n        return {\n          element: children$1[offset],\n          offset: 0\n        };\n      } else {\n        var last = children$1[children$1.length - 1];\n        if (excludeFromDescend(last)) {\n          return {\n            element: element,\n            offset: offset\n          };\n        } else {\n          if (name(last) === 'img') {\n            return {\n              element: last,\n              offset: 1\n            };\n          } else if (isText$8(last)) {\n            return {\n              element: last,\n              offset: get$2(last).length\n            };\n          } else {\n            return {\n              element: last,\n              offset: children(last).length\n            };\n          }\n        }\n      }\n    };\n    var markerInfo = function (element, cleanupFun) {\n      var pos = absolute(element);\n      var height = get$1(element);\n      return {\n        element: element,\n        bottom: pos.top + height,\n        height: height,\n        pos: pos,\n        cleanup: cleanupFun\n      };\n    };\n    var createMarker = function (element, offset) {\n      var startPoint = descend(element, offset);\n      var span = SugarElement.fromHtml('<span data-mce-bogus=\"all\" style=\"display: inline-block;\">' + ZWSP$1 + '</span>');\n      before$4(startPoint.element, span);\n      return markerInfo(span, function () {\n        return remove$7(span);\n      });\n    };\n    var elementMarker = function (element) {\n      return markerInfo(SugarElement.fromDom(element), noop);\n    };\n    var withMarker = function (editor, f, rng, alignToTop) {\n      preserveWith(editor, function (_s, _e) {\n        return applyWithMarker(editor, f, rng, alignToTop);\n      }, rng);\n    };\n    var withScrollEvents = function (editor, doc, f, marker, alignToTop) {\n      var data = {\n        elm: marker.element.dom,\n        alignToTop: alignToTop\n      };\n      if (fireScrollIntoViewEvent(editor, data)) {\n        return;\n      }\n      var scrollTop = get$8(doc).top;\n      f(doc, scrollTop, marker, alignToTop);\n      fireAfterScrollIntoViewEvent(editor, data);\n    };\n    var applyWithMarker = function (editor, f, rng, alignToTop) {\n      var body = SugarElement.fromDom(editor.getBody());\n      var doc = SugarElement.fromDom(editor.getDoc());\n      reflow(body);\n      var marker = createMarker(SugarElement.fromDom(rng.startContainer), rng.startOffset);\n      withScrollEvents(editor, doc, f, marker, alignToTop);\n      marker.cleanup();\n    };\n    var withElement = function (editor, element, f, alignToTop) {\n      var doc = SugarElement.fromDom(editor.getDoc());\n      withScrollEvents(editor, doc, f, elementMarker(element), alignToTop);\n    };\n    var preserveWith = function (editor, f, rng) {\n      var startElement = rng.startContainer;\n      var startOffset = rng.startOffset;\n      var endElement = rng.endContainer;\n      var endOffset = rng.endOffset;\n      f(SugarElement.fromDom(startElement), SugarElement.fromDom(endElement));\n      var newRng = editor.dom.createRng();\n      newRng.setStart(startElement, startOffset);\n      newRng.setEnd(endElement, endOffset);\n      editor.selection.setRng(rng);\n    };\n    var scrollToMarker = function (marker, viewHeight, alignToTop, doc) {\n      var pos = marker.pos;\n      if (alignToTop) {\n        to(pos.left, pos.top, doc);\n      } else {\n        var y = pos.top - viewHeight + marker.height;\n        to(pos.left, y, doc);\n      }\n    };\n    var intoWindowIfNeeded = function (doc, scrollTop, viewHeight, marker, alignToTop) {\n      var viewportBottom = viewHeight + scrollTop;\n      var markerTop = marker.pos.top;\n      var markerBottom = marker.bottom;\n      var largerThanViewport = markerBottom - markerTop >= viewHeight;\n      if (markerTop < scrollTop) {\n        scrollToMarker(marker, viewHeight, alignToTop !== false, doc);\n      } else if (markerTop > viewportBottom) {\n        var align = largerThanViewport ? alignToTop !== false : alignToTop === true;\n        scrollToMarker(marker, viewHeight, align, doc);\n      } else if (markerBottom > viewportBottom && !largerThanViewport) {\n        scrollToMarker(marker, viewHeight, alignToTop === true, doc);\n      }\n    };\n    var intoWindow = function (doc, scrollTop, marker, alignToTop) {\n      var viewHeight = doc.dom.defaultView.innerHeight;\n      intoWindowIfNeeded(doc, scrollTop, viewHeight, marker, alignToTop);\n    };\n    var intoFrame = function (doc, scrollTop, marker, alignToTop) {\n      var frameViewHeight = doc.dom.defaultView.innerHeight;\n      intoWindowIfNeeded(doc, scrollTop, frameViewHeight, marker, alignToTop);\n      var op = find$1(marker.element);\n      var viewportBounds = getBounds(window);\n      if (op.top < viewportBounds.y) {\n        intoView(marker.element, alignToTop !== false);\n      } else if (op.top > viewportBounds.bottom) {\n        intoView(marker.element, alignToTop === true);\n      }\n    };\n    var rangeIntoWindow = function (editor, rng, alignToTop) {\n      return withMarker(editor, intoWindow, rng, alignToTop);\n    };\n    var elementIntoWindow = function (editor, element, alignToTop) {\n      return withElement(editor, element, intoWindow, alignToTop);\n    };\n    var rangeIntoFrame = function (editor, rng, alignToTop) {\n      return withMarker(editor, intoFrame, rng, alignToTop);\n    };\n    var elementIntoFrame = function (editor, element, alignToTop) {\n      return withElement(editor, element, intoFrame, alignToTop);\n    };\n    var scrollElementIntoView = function (editor, element, alignToTop) {\n      var scroller = editor.inline ? elementIntoWindow : elementIntoFrame;\n      scroller(editor, element, alignToTop);\n    };\n    var scrollRangeIntoView = function (editor, rng, alignToTop) {\n      var scroller = editor.inline ? rangeIntoWindow : rangeIntoFrame;\n      scroller(editor, rng, alignToTop);\n    };\n\n    var getDocument = function () {\n      return SugarElement.fromDom(document);\n    };\n\n    var focus$1 = function (element) {\n      return element.dom.focus();\n    };\n    var hasFocus$1 = function (element) {\n      var root = getRootNode(element).dom;\n      return element.dom === root.activeElement;\n    };\n    var active = function (root) {\n      if (root === void 0) {\n        root = getDocument();\n      }\n      return Optional.from(root.dom.activeElement).map(SugarElement.fromDom);\n    };\n    var search = function (element) {\n      return active(getRootNode(element)).filter(function (e) {\n        return element.dom.contains(e.dom);\n      });\n    };\n\n    var create$5 = function (start, soffset, finish, foffset) {\n      return {\n        start: start,\n        soffset: soffset,\n        finish: finish,\n        foffset: foffset\n      };\n    };\n    var SimRange = { create: create$5 };\n\n    var adt$1 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    var cata = function (subject, onBefore, onOn, onAfter) {\n      return subject.fold(onBefore, onOn, onAfter);\n    };\n    var getStart$2 = function (situ) {\n      return situ.fold(identity, identity, identity);\n    };\n    var before$1 = adt$1.before;\n    var on = adt$1.on;\n    var after$1 = adt$1.after;\n    var Situ = {\n      before: before$1,\n      on: on,\n      after: after$1,\n      cata: cata,\n      getStart: getStart$2\n    };\n\n    var adt = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    var exactFromRange = function (simRange) {\n      return adt.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    };\n    var getStart$1 = function (selection) {\n      return selection.match({\n        domRange: function (rng) {\n          return SugarElement.fromDom(rng.startContainer);\n        },\n        relative: function (startSitu, _finishSitu) {\n          return Situ.getStart(startSitu);\n        },\n        exact: function (start, _soffset, _finish, _foffset) {\n          return start;\n        }\n      });\n    };\n    var domRange = adt.domRange;\n    var relative = adt.relative;\n    var exact = adt.exact;\n    var getWin = function (selection) {\n      var start = getStart$1(selection);\n      return defaultView(start);\n    };\n    var range = SimRange.create;\n    var SimSelection = {\n      domRange: domRange,\n      relative: relative,\n      exact: exact,\n      exactFromRange: exactFromRange,\n      getWin: getWin,\n      range: range\n    };\n\n    var browser$1 = detect().browser;\n    var clamp$1 = function (offset, element) {\n      var max = isText$8(element) ? get$2(element).length : children(element).length + 1;\n      if (offset > max) {\n        return max;\n      } else if (offset < 0) {\n        return 0;\n      }\n      return offset;\n    };\n    var normalizeRng = function (rng) {\n      return SimSelection.range(rng.start, clamp$1(rng.soffset, rng.start), rng.finish, clamp$1(rng.foffset, rng.finish));\n    };\n    var isOrContains = function (root, elm) {\n      return !isRestrictedNode(elm.dom) && (contains$1(root, elm) || eq(root, elm));\n    };\n    var isRngInRoot = function (root) {\n      return function (rng) {\n        return isOrContains(root, rng.start) && isOrContains(root, rng.finish);\n      };\n    };\n    var shouldStore = function (editor) {\n      return editor.inline === true || browser$1.isIE();\n    };\n    var nativeRangeToSelectionRange = function (r) {\n      return SimSelection.range(SugarElement.fromDom(r.startContainer), r.startOffset, SugarElement.fromDom(r.endContainer), r.endOffset);\n    };\n    var readRange = function (win) {\n      var selection = win.getSelection();\n      var rng = !selection || selection.rangeCount === 0 ? Optional.none() : Optional.from(selection.getRangeAt(0));\n      return rng.map(nativeRangeToSelectionRange);\n    };\n    var getBookmark = function (root) {\n      var win = defaultView(root);\n      return readRange(win.dom).filter(isRngInRoot(root));\n    };\n    var validate = function (root, bookmark) {\n      return Optional.from(bookmark).filter(isRngInRoot(root)).map(normalizeRng);\n    };\n    var bookmarkToNativeRng = function (bookmark) {\n      var rng = document.createRange();\n      try {\n        rng.setStart(bookmark.start.dom, bookmark.soffset);\n        rng.setEnd(bookmark.finish.dom, bookmark.foffset);\n        return Optional.some(rng);\n      } catch (_) {\n        return Optional.none();\n      }\n    };\n    var store = function (editor) {\n      var newBookmark = shouldStore(editor) ? getBookmark(SugarElement.fromDom(editor.getBody())) : Optional.none();\n      editor.bookmark = newBookmark.isSome() ? newBookmark : editor.bookmark;\n    };\n    var storeNative = function (editor, rng) {\n      var root = SugarElement.fromDom(editor.getBody());\n      var range = shouldStore(editor) ? Optional.from(rng) : Optional.none();\n      var newBookmark = range.map(nativeRangeToSelectionRange).filter(isRngInRoot(root));\n      editor.bookmark = newBookmark.isSome() ? newBookmark : editor.bookmark;\n    };\n    var getRng = function (editor) {\n      var bookmark = editor.bookmark ? editor.bookmark : Optional.none();\n      return bookmark.bind(function (x) {\n        return validate(SugarElement.fromDom(editor.getBody()), x);\n      }).bind(bookmarkToNativeRng);\n    };\n    var restore = function (editor) {\n      getRng(editor).each(function (rng) {\n        return editor.selection.setRng(rng);\n      });\n    };\n\n    var isEditorUIElement$1 = function (elm) {\n      var className = elm.className.toString();\n      return className.indexOf('tox-') !== -1 || className.indexOf('mce-') !== -1;\n    };\n    var FocusManager = { isEditorUIElement: isEditorUIElement$1 };\n\n    var isManualNodeChange = function (e) {\n      return e.type === 'nodechange' && e.selectionChange;\n    };\n    var registerPageMouseUp = function (editor, throttledStore) {\n      var mouseUpPage = function () {\n        throttledStore.throttle();\n      };\n      DOMUtils.DOM.bind(document, 'mouseup', mouseUpPage);\n      editor.on('remove', function () {\n        DOMUtils.DOM.unbind(document, 'mouseup', mouseUpPage);\n      });\n    };\n    var registerFocusOut = function (editor) {\n      editor.on('focusout', function () {\n        store(editor);\n      });\n    };\n    var registerMouseUp = function (editor, throttledStore) {\n      editor.on('mouseup touchend', function (_e) {\n        throttledStore.throttle();\n      });\n    };\n    var registerEditorEvents = function (editor, throttledStore) {\n      var browser = detect().browser;\n      if (browser.isIE()) {\n        registerFocusOut(editor);\n      } else {\n        registerMouseUp(editor, throttledStore);\n      }\n      editor.on('keyup NodeChange', function (e) {\n        if (!isManualNodeChange(e)) {\n          store(editor);\n        }\n      });\n    };\n    var register$3 = function (editor) {\n      var throttledStore = first(function () {\n        store(editor);\n      }, 0);\n      editor.on('init', function () {\n        if (editor.inline) {\n          registerPageMouseUp(editor, throttledStore);\n        }\n        registerEditorEvents(editor, throttledStore);\n      });\n      editor.on('remove', function () {\n        throttledStore.cancel();\n      });\n    };\n\n    var documentFocusInHandler;\n    var DOM$8 = DOMUtils.DOM;\n    var isEditorUIElement = function (elm) {\n      return FocusManager.isEditorUIElement(elm);\n    };\n    var isEditorContentAreaElement = function (elm) {\n      var classList = elm.classList;\n      if (classList !== undefined) {\n        return classList.contains('tox-edit-area') || classList.contains('tox-edit-area__iframe') || classList.contains('mce-content-body');\n      } else {\n        return false;\n      }\n    };\n    var isUIElement = function (editor, elm) {\n      var customSelector = getCustomUiSelector(editor);\n      var parent = DOM$8.getParent(elm, function (elm) {\n        return isEditorUIElement(elm) || (customSelector ? editor.dom.is(elm, customSelector) : false);\n      });\n      return parent !== null;\n    };\n    var getActiveElement = function (editor) {\n      try {\n        var root = getRootNode(SugarElement.fromDom(editor.getElement()));\n        return active(root).fold(function () {\n          return document.body;\n        }, function (x) {\n          return x.dom;\n        });\n      } catch (ex) {\n        return document.body;\n      }\n    };\n    var registerEvents$1 = function (editorManager, e) {\n      var editor = e.editor;\n      register$3(editor);\n      editor.on('focusin', function () {\n        var focusedEditor = editorManager.focusedEditor;\n        if (focusedEditor !== editor) {\n          if (focusedEditor) {\n            focusedEditor.fire('blur', { focusedEditor: editor });\n          }\n          editorManager.setActive(editor);\n          editorManager.focusedEditor = editor;\n          editor.fire('focus', { blurredEditor: focusedEditor });\n          editor.focus(true);\n        }\n      });\n      editor.on('focusout', function () {\n        Delay.setEditorTimeout(editor, function () {\n          var focusedEditor = editorManager.focusedEditor;\n          if (!isUIElement(editor, getActiveElement(editor)) && focusedEditor === editor) {\n            editor.fire('blur', { focusedEditor: null });\n            editorManager.focusedEditor = null;\n          }\n        });\n      });\n      if (!documentFocusInHandler) {\n        documentFocusInHandler = function (e) {\n          var activeEditor = editorManager.activeEditor;\n          if (activeEditor) {\n            getOriginalEventTarget(e).each(function (target) {\n              if (target.ownerDocument === document) {\n                if (target !== document.body && !isUIElement(activeEditor, target) && editorManager.focusedEditor === activeEditor) {\n                  activeEditor.fire('blur', { focusedEditor: null });\n                  editorManager.focusedEditor = null;\n                }\n              }\n            });\n          }\n        };\n        DOM$8.bind(document, 'focusin', documentFocusInHandler);\n      }\n    };\n    var unregisterDocumentEvents = function (editorManager, e) {\n      if (editorManager.focusedEditor === e.editor) {\n        editorManager.focusedEditor = null;\n      }\n      if (!editorManager.activeEditor) {\n        DOM$8.unbind(document, 'focusin', documentFocusInHandler);\n        documentFocusInHandler = null;\n      }\n    };\n    var setup$l = function (editorManager) {\n      editorManager.on('AddEditor', curry(registerEvents$1, editorManager));\n      editorManager.on('RemoveEditor', curry(unregisterDocumentEvents, editorManager));\n    };\n\n    var getContentEditableHost = function (editor, node) {\n      return editor.dom.getParent(node, function (node) {\n        return editor.dom.getContentEditable(node) === 'true';\n      });\n    };\n    var getCollapsedNode = function (rng) {\n      return rng.collapsed ? Optional.from(getNode$1(rng.startContainer, rng.startOffset)).map(SugarElement.fromDom) : Optional.none();\n    };\n    var getFocusInElement = function (root, rng) {\n      return getCollapsedNode(rng).bind(function (node) {\n        if (isTableSection(node)) {\n          return Optional.some(node);\n        } else if (contains$1(root, node) === false) {\n          return Optional.some(root);\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var normalizeSelection$1 = function (editor, rng) {\n      getFocusInElement(SugarElement.fromDom(editor.getBody()), rng).bind(function (elm) {\n        return firstPositionIn(elm.dom);\n      }).fold(function () {\n        editor.selection.normalize();\n        return;\n      }, function (caretPos) {\n        return editor.selection.setRng(caretPos.toRange());\n      });\n    };\n    var focusBody = function (body) {\n      if (body.setActive) {\n        try {\n          body.setActive();\n        } catch (ex) {\n          body.focus();\n        }\n      } else {\n        body.focus();\n      }\n    };\n    var hasElementFocus = function (elm) {\n      return hasFocus$1(elm) || search(elm).isSome();\n    };\n    var hasIframeFocus = function (editor) {\n      return editor.iframeElement && hasFocus$1(SugarElement.fromDom(editor.iframeElement));\n    };\n    var hasInlineFocus = function (editor) {\n      var rawBody = editor.getBody();\n      return rawBody && hasElementFocus(SugarElement.fromDom(rawBody));\n    };\n    var hasUiFocus = function (editor) {\n      var dos = getRootNode(SugarElement.fromDom(editor.getElement()));\n      return active(dos).filter(function (elem) {\n        return !isEditorContentAreaElement(elem.dom) && isUIElement(editor, elem.dom);\n      }).isSome();\n    };\n    var hasFocus = function (editor) {\n      return editor.inline ? hasInlineFocus(editor) : hasIframeFocus(editor);\n    };\n    var hasEditorOrUiFocus = function (editor) {\n      return hasFocus(editor) || hasUiFocus(editor);\n    };\n    var focusEditor = function (editor) {\n      var selection = editor.selection;\n      var body = editor.getBody();\n      var rng = selection.getRng();\n      editor.quirks.refreshContentEditable();\n      if (editor.bookmark !== undefined && hasFocus(editor) === false) {\n        getRng(editor).each(function (bookmarkRng) {\n          editor.selection.setRng(bookmarkRng);\n          rng = bookmarkRng;\n        });\n      }\n      var contentEditableHost = getContentEditableHost(editor, selection.getNode());\n      if (editor.$.contains(body, contentEditableHost)) {\n        focusBody(contentEditableHost);\n        normalizeSelection$1(editor, rng);\n        activateEditor(editor);\n        return;\n      }\n      if (!editor.inline) {\n        if (!Env.opera) {\n          focusBody(body);\n        }\n        editor.getWin().focus();\n      }\n      if (Env.gecko || editor.inline) {\n        focusBody(body);\n        normalizeSelection$1(editor, rng);\n      }\n      activateEditor(editor);\n    };\n    var activateEditor = function (editor) {\n      return editor.editorManager.setActive(editor);\n    };\n    var focus = function (editor, skipFocus) {\n      if (editor.removed) {\n        return;\n      }\n      if (skipFocus) {\n        activateEditor(editor);\n      } else {\n        focusEditor(editor);\n      }\n    };\n\n    var getEndpointElement = function (root, rng, start, real, resolve) {\n      var container = start ? rng.startContainer : rng.endContainer;\n      var offset = start ? rng.startOffset : rng.endOffset;\n      return Optional.from(container).map(SugarElement.fromDom).map(function (elm) {\n        return !real || !rng.collapsed ? child$1(elm, resolve(elm, offset)).getOr(elm) : elm;\n      }).bind(function (elm) {\n        return isElement$6(elm) ? Optional.some(elm) : parent(elm).filter(isElement$6);\n      }).map(function (elm) {\n        return elm.dom;\n      }).getOr(root);\n    };\n    var getStart = function (root, rng, real) {\n      return getEndpointElement(root, rng, true, real, function (elm, offset) {\n        return Math.min(childNodesCount(elm), offset);\n      });\n    };\n    var getEnd = function (root, rng, real) {\n      return getEndpointElement(root, rng, false, real, function (elm, offset) {\n        return offset > 0 ? offset - 1 : offset;\n      });\n    };\n    var skipEmptyTextNodes = function (node, forwards) {\n      var orig = node;\n      while (node && isText$7(node) && node.length === 0) {\n        node = forwards ? node.nextSibling : node.previousSibling;\n      }\n      return node || orig;\n    };\n    var getNode = function (root, rng) {\n      var elm, startContainer, endContainer;\n      if (!rng) {\n        return root;\n      }\n      startContainer = rng.startContainer;\n      endContainer = rng.endContainer;\n      var startOffset = rng.startOffset;\n      var endOffset = rng.endOffset;\n      elm = rng.commonAncestorContainer;\n      if (!rng.collapsed) {\n        if (startContainer === endContainer) {\n          if (endOffset - startOffset < 2) {\n            if (startContainer.hasChildNodes()) {\n              elm = startContainer.childNodes[startOffset];\n            }\n          }\n        }\n        if (startContainer.nodeType === 3 && endContainer.nodeType === 3) {\n          if (startContainer.length === startOffset) {\n            startContainer = skipEmptyTextNodes(startContainer.nextSibling, true);\n          } else {\n            startContainer = startContainer.parentNode;\n          }\n          if (endOffset === 0) {\n            endContainer = skipEmptyTextNodes(endContainer.previousSibling, false);\n          } else {\n            endContainer = endContainer.parentNode;\n          }\n          if (startContainer && startContainer === endContainer) {\n            return startContainer;\n          }\n        }\n      }\n      if (elm && elm.nodeType === 3) {\n        return elm.parentNode;\n      }\n      return elm;\n    };\n    var getSelectedBlocks = function (dom, rng, startElm, endElm) {\n      var node;\n      var selectedBlocks = [];\n      var root = dom.getRoot();\n      startElm = dom.getParent(startElm || getStart(root, rng, rng.collapsed), dom.isBlock);\n      endElm = dom.getParent(endElm || getEnd(root, rng, rng.collapsed), dom.isBlock);\n      if (startElm && startElm !== root) {\n        selectedBlocks.push(startElm);\n      }\n      if (startElm && endElm && startElm !== endElm) {\n        node = startElm;\n        var walker = new DomTreeWalker(startElm, root);\n        while ((node = walker.next()) && node !== endElm) {\n          if (dom.isBlock(node)) {\n            selectedBlocks.push(node);\n          }\n        }\n      }\n      if (endElm && startElm !== endElm && endElm !== root) {\n        selectedBlocks.push(endElm);\n      }\n      return selectedBlocks;\n    };\n    var select = function (dom, node, content) {\n      return Optional.from(node).map(function (node) {\n        var idx = dom.nodeIndex(node);\n        var rng = dom.createRng();\n        rng.setStart(node.parentNode, idx);\n        rng.setEnd(node.parentNode, idx + 1);\n        if (content) {\n          moveEndPoint(dom, rng, node, true);\n          moveEndPoint(dom, rng, node, false);\n        }\n        return rng;\n      });\n    };\n\n    var processRanges = function (editor, ranges) {\n      return map$3(ranges, function (range) {\n        var evt = editor.fire('GetSelectionRange', { range: range });\n        return evt.range !== range ? evt.range : range;\n      });\n    };\n\n    var typeLookup = {\n      '#text': 3,\n      '#comment': 8,\n      '#cdata': 4,\n      '#pi': 7,\n      '#doctype': 10,\n      '#document-fragment': 11\n    };\n    var walk$1 = function (node, root, prev) {\n      var startName = prev ? 'lastChild' : 'firstChild';\n      var siblingName = prev ? 'prev' : 'next';\n      if (node[startName]) {\n        return node[startName];\n      }\n      if (node !== root) {\n        var sibling = node[siblingName];\n        if (sibling) {\n          return sibling;\n        }\n        for (var parent_1 = node.parent; parent_1 && parent_1 !== root; parent_1 = parent_1.parent) {\n          sibling = parent_1[siblingName];\n          if (sibling) {\n            return sibling;\n          }\n        }\n      }\n    };\n    var isEmptyTextNode = function (node) {\n      if (!isWhitespaceText(node.value)) {\n        return false;\n      }\n      var parentNode = node.parent;\n      if (parentNode && (parentNode.name !== 'span' || parentNode.attr('style')) && /^[ ]+$/.test(node.value)) {\n        return false;\n      }\n      return true;\n    };\n    var isNonEmptyElement = function (node) {\n      var isNamedAnchor = node.name === 'a' && !node.attr('href') && node.attr('id');\n      return node.attr('name') || node.attr('id') && !node.firstChild || node.attr('data-mce-bookmark') || isNamedAnchor;\n    };\n    var AstNode = function () {\n      function AstNode(name, type) {\n        this.name = name;\n        this.type = type;\n        if (type === 1) {\n          this.attributes = [];\n          this.attributes.map = {};\n        }\n      }\n      AstNode.create = function (name, attrs) {\n        var node = new AstNode(name, typeLookup[name] || 1);\n        if (attrs) {\n          each$j(attrs, function (value, attrName) {\n            node.attr(attrName, value);\n          });\n        }\n        return node;\n      };\n      AstNode.prototype.replace = function (node) {\n        var self = this;\n        if (node.parent) {\n          node.remove();\n        }\n        self.insert(node, self);\n        self.remove();\n        return self;\n      };\n      AstNode.prototype.attr = function (name, value) {\n        var self = this;\n        var attrs;\n        if (typeof name !== 'string') {\n          if (name !== undefined && name !== null) {\n            each$j(name, function (value, key) {\n              self.attr(key, value);\n            });\n          }\n          return self;\n        }\n        if (attrs = self.attributes) {\n          if (value !== undefined) {\n            if (value === null) {\n              if (name in attrs.map) {\n                delete attrs.map[name];\n                var i = attrs.length;\n                while (i--) {\n                  if (attrs[i].name === name) {\n                    attrs.splice(i, 1);\n                    return self;\n                  }\n                }\n              }\n              return self;\n            }\n            if (name in attrs.map) {\n              var i = attrs.length;\n              while (i--) {\n                if (attrs[i].name === name) {\n                  attrs[i].value = value;\n                  break;\n                }\n              }\n            } else {\n              attrs.push({\n                name: name,\n                value: value\n              });\n            }\n            attrs.map[name] = value;\n            return self;\n          }\n          return attrs.map[name];\n        }\n      };\n      AstNode.prototype.clone = function () {\n        var self = this;\n        var clone = new AstNode(self.name, self.type);\n        var selfAttrs;\n        if (selfAttrs = self.attributes) {\n          var cloneAttrs = [];\n          cloneAttrs.map = {};\n          for (var i = 0, l = selfAttrs.length; i < l; i++) {\n            var selfAttr = selfAttrs[i];\n            if (selfAttr.name !== 'id') {\n              cloneAttrs[cloneAttrs.length] = {\n                name: selfAttr.name,\n                value: selfAttr.value\n              };\n              cloneAttrs.map[selfAttr.name] = selfAttr.value;\n            }\n          }\n          clone.attributes = cloneAttrs;\n        }\n        clone.value = self.value;\n        clone.shortEnded = self.shortEnded;\n        return clone;\n      };\n      AstNode.prototype.wrap = function (wrapper) {\n        var self = this;\n        self.parent.insert(wrapper, self);\n        wrapper.append(self);\n        return self;\n      };\n      AstNode.prototype.unwrap = function () {\n        var self = this;\n        for (var node = self.firstChild; node;) {\n          var next = node.next;\n          self.insert(node, self, true);\n          node = next;\n        }\n        self.remove();\n      };\n      AstNode.prototype.remove = function () {\n        var self = this, parent = self.parent, next = self.next, prev = self.prev;\n        if (parent) {\n          if (parent.firstChild === self) {\n            parent.firstChild = next;\n            if (next) {\n              next.prev = null;\n            }\n          } else {\n            prev.next = next;\n          }\n          if (parent.lastChild === self) {\n            parent.lastChild = prev;\n            if (prev) {\n              prev.next = null;\n            }\n          } else {\n            next.prev = prev;\n          }\n          self.parent = self.next = self.prev = null;\n        }\n        return self;\n      };\n      AstNode.prototype.append = function (node) {\n        var self = this;\n        if (node.parent) {\n          node.remove();\n        }\n        var last = self.lastChild;\n        if (last) {\n          last.next = node;\n          node.prev = last;\n          self.lastChild = node;\n        } else {\n          self.lastChild = self.firstChild = node;\n        }\n        node.parent = self;\n        return node;\n      };\n      AstNode.prototype.insert = function (node, refNode, before) {\n        if (node.parent) {\n          node.remove();\n        }\n        var parent = refNode.parent || this;\n        if (before) {\n          if (refNode === parent.firstChild) {\n            parent.firstChild = node;\n          } else {\n            refNode.prev.next = node;\n          }\n          node.prev = refNode.prev;\n          node.next = refNode;\n          refNode.prev = node;\n        } else {\n          if (refNode === parent.lastChild) {\n            parent.lastChild = node;\n          } else {\n            refNode.next.prev = node;\n          }\n          node.next = refNode.next;\n          node.prev = refNode;\n          refNode.next = node;\n        }\n        node.parent = parent;\n        return node;\n      };\n      AstNode.prototype.getAll = function (name) {\n        var self = this;\n        var collection = [];\n        for (var node = self.firstChild; node; node = walk$1(node, self)) {\n          if (node.name === name) {\n            collection.push(node);\n          }\n        }\n        return collection;\n      };\n      AstNode.prototype.children = function () {\n        var self = this;\n        var collection = [];\n        for (var node = self.firstChild; node; node = node.next) {\n          collection.push(node);\n        }\n        return collection;\n      };\n      AstNode.prototype.empty = function () {\n        var self = this;\n        if (self.firstChild) {\n          var nodes = [];\n          for (var node = self.firstChild; node; node = walk$1(node, self)) {\n            nodes.push(node);\n          }\n          var i = nodes.length;\n          while (i--) {\n            var node = nodes[i];\n            node.parent = node.firstChild = node.lastChild = node.next = node.prev = null;\n          }\n        }\n        self.firstChild = self.lastChild = null;\n        return self;\n      };\n      AstNode.prototype.isEmpty = function (elements, whitespace, predicate) {\n        if (whitespace === void 0) {\n          whitespace = {};\n        }\n        var self = this;\n        var node = self.firstChild;\n        if (isNonEmptyElement(self)) {\n          return false;\n        }\n        if (node) {\n          do {\n            if (node.type === 1) {\n              if (node.attr('data-mce-bogus')) {\n                continue;\n              }\n              if (elements[node.name]) {\n                return false;\n              }\n              if (isNonEmptyElement(node)) {\n                return false;\n              }\n            }\n            if (node.type === 8) {\n              return false;\n            }\n            if (node.type === 3 && !isEmptyTextNode(node)) {\n              return false;\n            }\n            if (node.type === 3 && node.parent && whitespace[node.parent.name] && isWhitespaceText(node.value)) {\n              return false;\n            }\n            if (predicate && predicate(node)) {\n              return false;\n            }\n          } while (node = walk$1(node, self));\n        }\n        return true;\n      };\n      AstNode.prototype.walk = function (prev) {\n        return walk$1(this, null, prev);\n      };\n      return AstNode;\n    }();\n\n    var extractBase64DataUris = function (html) {\n      var dataImageUri = /data:[^;]+;base64,([a-z0-9\\+\\/=\\s]+)/gi;\n      var chunks = [];\n      var uris = {};\n      var prefix = generate('img');\n      var matches;\n      var index = 0;\n      var count = 0;\n      while (matches = dataImageUri.exec(html)) {\n        var uri = matches[0];\n        var imageId = prefix + '_' + count++;\n        uris[imageId] = uri;\n        if (index < matches.index) {\n          chunks.push(html.substr(index, matches.index - index));\n        }\n        chunks.push(imageId);\n        index = matches.index + uri.length;\n      }\n      var re = new RegExp(prefix + '_[0-9]+', 'g');\n      if (index === 0) {\n        return {\n          prefix: prefix,\n          uris: uris,\n          html: html,\n          re: re\n        };\n      } else {\n        if (index < html.length) {\n          chunks.push(html.substr(index));\n        }\n        return {\n          prefix: prefix,\n          uris: uris,\n          html: chunks.join(''),\n          re: re\n        };\n      }\n    };\n    var restoreDataUris = function (html, result) {\n      return html.replace(result.re, function (imageId) {\n        return get$9(result.uris, imageId).getOr(imageId);\n      });\n    };\n    var parseDataUri$1 = function (uri) {\n      var matches = /data:([^;]+);base64,([a-z0-9\\+\\/=\\s]+)/i.exec(uri);\n      if (matches) {\n        return Optional.some({\n          type: matches[1],\n          data: decodeURIComponent(matches[2])\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n\n    var each$d = Tools.each, trim = Tools.trim;\n    var queryParts = 'source protocol authority userInfo user password host port relative path directory file query anchor'.split(' ');\n    var DEFAULT_PORTS = {\n      ftp: 21,\n      http: 80,\n      https: 443,\n      mailto: 25\n    };\n    var safeSvgDataUrlElements = [\n      'img',\n      'video'\n    ];\n    var blockSvgDataUris = function (allowSvgDataUrls, tagName) {\n      if (isNonNullable(allowSvgDataUrls)) {\n        return !allowSvgDataUrls;\n      } else {\n        return isNonNullable(tagName) ? !contains$3(safeSvgDataUrlElements, tagName) : true;\n      }\n    };\n    var isInvalidUri = function (settings, uri, tagName) {\n      if (settings.allow_html_data_urls) {\n        return false;\n      } else if (/^data:image\\//i.test(uri)) {\n        return blockSvgDataUris(settings.allow_svg_data_urls, tagName) && /^data:image\\/svg\\+xml/i.test(uri);\n      } else {\n        return /^data:/i.test(uri);\n      }\n    };\n    var URI = function () {\n      function URI(url, settings) {\n        url = trim(url);\n        this.settings = settings || {};\n        var baseUri = this.settings.base_uri;\n        var self = this;\n        if (/^([\\w\\-]+):([^\\/]{2})/i.test(url) || /^\\s*#/.test(url)) {\n          self.source = url;\n          return;\n        }\n        var isProtocolRelative = url.indexOf('//') === 0;\n        if (url.indexOf('/') === 0 && !isProtocolRelative) {\n          url = (baseUri ? baseUri.protocol || 'http' : 'http') + '://mce_host' + url;\n        }\n        if (!/^[\\w\\-]*:?\\/\\//.test(url)) {\n          var baseUrl = this.settings.base_uri ? this.settings.base_uri.path : new URI(document.location.href).directory;\n          if (this.settings.base_uri && this.settings.base_uri.protocol == '') {\n            url = '//mce_host' + self.toAbsPath(baseUrl, url);\n          } else {\n            var match = /([^#?]*)([#?]?.*)/.exec(url);\n            url = (baseUri && baseUri.protocol || 'http') + '://mce_host' + self.toAbsPath(baseUrl, match[1]) + match[2];\n          }\n        }\n        url = url.replace(/@@/g, '(mce_at)');\n        var urlMatch = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@\\/]*):?([^:@\\/]*))?@)?(\\[[a-zA-Z0-9:.%]+\\]|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(url);\n        each$d(queryParts, function (v, i) {\n          var part = urlMatch[i];\n          if (part) {\n            part = part.replace(/\\(mce_at\\)/g, '@@');\n          }\n          self[v] = part;\n        });\n        if (baseUri) {\n          if (!self.protocol) {\n            self.protocol = baseUri.protocol;\n          }\n          if (!self.userInfo) {\n            self.userInfo = baseUri.userInfo;\n          }\n          if (!self.port && self.host === 'mce_host') {\n            self.port = baseUri.port;\n          }\n          if (!self.host || self.host === 'mce_host') {\n            self.host = baseUri.host;\n          }\n          self.source = '';\n        }\n        if (isProtocolRelative) {\n          self.protocol = '';\n        }\n      }\n      URI.parseDataUri = function (uri) {\n        var type;\n        var uriComponents = decodeURIComponent(uri).split(',');\n        var matches = /data:([^;]+)/.exec(uriComponents[0]);\n        if (matches) {\n          type = matches[1];\n        }\n        return {\n          type: type,\n          data: uriComponents[1]\n        };\n      };\n      URI.isDomSafe = function (uri, context, options) {\n        if (options === void 0) {\n          options = {};\n        }\n        if (options.allow_script_urls) {\n          return true;\n        } else {\n          var decodedUri = Entities.decode(uri).replace(/[\\s\\u0000-\\u001F]+/g, '');\n          try {\n            decodedUri = decodeURIComponent(decodedUri);\n          } catch (ex) {\n            decodedUri = unescape(decodedUri);\n          }\n          if (/((java|vb)script|mhtml):/i.test(decodedUri)) {\n            return false;\n          }\n          return !isInvalidUri(options, decodedUri, context);\n        }\n      };\n      URI.getDocumentBaseUrl = function (loc) {\n        var baseUrl;\n        if (loc.protocol.indexOf('http') !== 0 && loc.protocol !== 'file:') {\n          baseUrl = loc.href;\n        } else {\n          baseUrl = loc.protocol + '//' + loc.host + loc.pathname;\n        }\n        if (/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(baseUrl)) {\n          baseUrl = baseUrl.replace(/[\\?#].*$/, '').replace(/[\\/\\\\][^\\/]+$/, '');\n          if (!/[\\/\\\\]$/.test(baseUrl)) {\n            baseUrl += '/';\n          }\n        }\n        return baseUrl;\n      };\n      URI.prototype.setPath = function (path) {\n        var pathMatch = /^(.*?)\\/?(\\w+)?$/.exec(path);\n        this.path = pathMatch[0];\n        this.directory = pathMatch[1];\n        this.file = pathMatch[2];\n        this.source = '';\n        this.getURI();\n      };\n      URI.prototype.toRelative = function (uri) {\n        var output;\n        if (uri === './') {\n          return uri;\n        }\n        var relativeUri = new URI(uri, { base_uri: this });\n        if (relativeUri.host !== 'mce_host' && this.host !== relativeUri.host && relativeUri.host || this.port !== relativeUri.port || this.protocol !== relativeUri.protocol && relativeUri.protocol !== '') {\n          return relativeUri.getURI();\n        }\n        var tu = this.getURI(), uu = relativeUri.getURI();\n        if (tu === uu || tu.charAt(tu.length - 1) === '/' && tu.substr(0, tu.length - 1) === uu) {\n          return tu;\n        }\n        output = this.toRelPath(this.path, relativeUri.path);\n        if (relativeUri.query) {\n          output += '?' + relativeUri.query;\n        }\n        if (relativeUri.anchor) {\n          output += '#' + relativeUri.anchor;\n        }\n        return output;\n      };\n      URI.prototype.toAbsolute = function (uri, noHost) {\n        var absoluteUri = new URI(uri, { base_uri: this });\n        return absoluteUri.getURI(noHost && this.isSameOrigin(absoluteUri));\n      };\n      URI.prototype.isSameOrigin = function (uri) {\n        if (this.host == uri.host && this.protocol == uri.protocol) {\n          if (this.port == uri.port) {\n            return true;\n          }\n          var defaultPort = DEFAULT_PORTS[this.protocol];\n          if (defaultPort && (this.port || defaultPort) == (uri.port || defaultPort)) {\n            return true;\n          }\n        }\n        return false;\n      };\n      URI.prototype.toRelPath = function (base, path) {\n        var breakPoint = 0, out = '', i, l;\n        var normalizedBase = base.substring(0, base.lastIndexOf('/')).split('/');\n        var items = path.split('/');\n        if (normalizedBase.length >= items.length) {\n          for (i = 0, l = normalizedBase.length; i < l; i++) {\n            if (i >= items.length || normalizedBase[i] !== items[i]) {\n              breakPoint = i + 1;\n              break;\n            }\n          }\n        }\n        if (normalizedBase.length < items.length) {\n          for (i = 0, l = items.length; i < l; i++) {\n            if (i >= normalizedBase.length || normalizedBase[i] !== items[i]) {\n              breakPoint = i + 1;\n              break;\n            }\n          }\n        }\n        if (breakPoint === 1) {\n          return path;\n        }\n        for (i = 0, l = normalizedBase.length - (breakPoint - 1); i < l; i++) {\n          out += '../';\n        }\n        for (i = breakPoint - 1, l = items.length; i < l; i++) {\n          if (i !== breakPoint - 1) {\n            out += '/' + items[i];\n          } else {\n            out += items[i];\n          }\n        }\n        return out;\n      };\n      URI.prototype.toAbsPath = function (base, path) {\n        var i, nb = 0, o = [], outPath;\n        var tr = /\\/$/.test(path) ? '/' : '';\n        var normalizedBase = base.split('/');\n        var normalizedPath = path.split('/');\n        each$d(normalizedBase, function (k) {\n          if (k) {\n            o.push(k);\n          }\n        });\n        normalizedBase = o;\n        for (i = normalizedPath.length - 1, o = []; i >= 0; i--) {\n          if (normalizedPath[i].length === 0 || normalizedPath[i] === '.') {\n            continue;\n          }\n          if (normalizedPath[i] === '..') {\n            nb++;\n            continue;\n          }\n          if (nb > 0) {\n            nb--;\n            continue;\n          }\n          o.push(normalizedPath[i]);\n        }\n        i = normalizedBase.length - nb;\n        if (i <= 0) {\n          outPath = reverse(o).join('/');\n        } else {\n          outPath = normalizedBase.slice(0, i).join('/') + '/' + reverse(o).join('/');\n        }\n        if (outPath.indexOf('/') !== 0) {\n          outPath = '/' + outPath;\n        }\n        if (tr && outPath.lastIndexOf('/') !== outPath.length - 1) {\n          outPath += tr;\n        }\n        return outPath;\n      };\n      URI.prototype.getURI = function (noProtoHost) {\n        if (noProtoHost === void 0) {\n          noProtoHost = false;\n        }\n        var s;\n        if (!this.source || noProtoHost) {\n          s = '';\n          if (!noProtoHost) {\n            if (this.protocol) {\n              s += this.protocol + '://';\n            } else {\n              s += '//';\n            }\n            if (this.userInfo) {\n              s += this.userInfo + '@';\n            }\n            if (this.host) {\n              s += this.host;\n            }\n            if (this.port) {\n              s += ':' + this.port;\n            }\n          }\n          if (this.path) {\n            s += this.path;\n          }\n          if (this.query) {\n            s += '?' + this.query;\n          }\n          if (this.anchor) {\n            s += '#' + this.anchor;\n          }\n          this.source = s;\n        }\n        return this.source;\n      };\n      return URI;\n    }();\n\n    var filteredClobberElements = Tools.makeMap('button,fieldset,form,iframe,img,image,input,object,output,select,textarea');\n    var isValidPrefixAttrName = function (name) {\n      return name.indexOf('data-') === 0 || name.indexOf('aria-') === 0;\n    };\n    var findMatchingEndTagIndex = function (schema, html, startIndex) {\n      var startTagRegExp = /<([!?\\/])?([A-Za-z0-9\\-_:.]+)/g;\n      var endTagRegExp = /(?:\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>/g;\n      var shortEndedElements = schema.getShortEndedElements();\n      var count = 1, index = startIndex;\n      while (count !== 0) {\n        startTagRegExp.lastIndex = index;\n        while (true) {\n          var startMatch = startTagRegExp.exec(html);\n          if (startMatch === null) {\n            return index;\n          } else if (startMatch[1] === '!') {\n            if (startsWith(startMatch[2], '--')) {\n              index = findCommentEndIndex(html, false, startMatch.index + '!--'.length);\n            } else {\n              index = findCommentEndIndex(html, true, startMatch.index + 1);\n            }\n            break;\n          } else {\n            endTagRegExp.lastIndex = startTagRegExp.lastIndex;\n            var endMatch = endTagRegExp.exec(html);\n            if (isNull(endMatch) || endMatch.index !== startTagRegExp.lastIndex) {\n              continue;\n            }\n            if (startMatch[1] === '/') {\n              count -= 1;\n            } else if (!has$2(shortEndedElements, startMatch[2])) {\n              count += 1;\n            }\n            index = startTagRegExp.lastIndex + endMatch[0].length;\n            break;\n          }\n        }\n      }\n      return index;\n    };\n    var isConditionalComment = function (html, startIndex) {\n      return /^\\s*\\[if [\\w\\W]+\\]>.*<!\\[endif\\](--!?)?>/.test(html.substr(startIndex));\n    };\n    var findCommentEndIndex = function (html, isBogus, startIndex) {\n      if (startIndex === void 0) {\n        startIndex = 0;\n      }\n      var lcHtml = html.toLowerCase();\n      if (lcHtml.indexOf('[if ', startIndex) !== -1 && isConditionalComment(lcHtml, startIndex)) {\n        var endIfIndex = lcHtml.indexOf('[endif]', startIndex);\n        return lcHtml.indexOf('>', endIfIndex);\n      } else {\n        if (isBogus) {\n          var endIndex = lcHtml.indexOf('>', startIndex);\n          return endIndex !== -1 ? endIndex : lcHtml.length;\n        } else {\n          var endCommentRegexp = /--!?>/g;\n          endCommentRegexp.lastIndex = startIndex;\n          var match = endCommentRegexp.exec(html);\n          return match ? match.index + match[0].length : lcHtml.length;\n        }\n      }\n    };\n    var checkBogusAttribute = function (regExp, attrString) {\n      var matches = regExp.exec(attrString);\n      if (matches) {\n        var name_1 = matches[1];\n        var value = matches[2];\n        return typeof name_1 === 'string' && name_1.toLowerCase() === 'data-mce-bogus' ? value : null;\n      } else {\n        return null;\n      }\n    };\n    var SaxParser = function (settings, schema) {\n      var _a;\n      if (schema === void 0) {\n        schema = Schema();\n      }\n      settings = settings || {};\n      var doc = (_a = settings.document) !== null && _a !== void 0 ? _a : document;\n      var form = doc.createElement('form');\n      if (settings.fix_self_closing !== false) {\n        settings.fix_self_closing = true;\n      }\n      var comment = settings.comment ? settings.comment : noop;\n      var cdata = settings.cdata ? settings.cdata : noop;\n      var text = settings.text ? settings.text : noop;\n      var start = settings.start ? settings.start : noop;\n      var end = settings.end ? settings.end : noop;\n      var pi = settings.pi ? settings.pi : noop;\n      var doctype = settings.doctype ? settings.doctype : noop;\n      var parseInternal = function (base64Extract, format) {\n        if (format === void 0) {\n          format = 'html';\n        }\n        var html = base64Extract.html;\n        var matches, index = 0, value, endRegExp;\n        var stack = [];\n        var attrList, i, textData, name;\n        var isInternalElement, isShortEnded;\n        var elementRule, isValidElement, attr, attribsValue, validAttributesMap, validAttributePatterns;\n        var attributesRequired, attributesDefault, attributesForced;\n        var anyAttributesRequired, attrValue, idCount = 0;\n        var decode = Entities.decode;\n        var filteredUrlAttrs = Tools.makeMap('src,href,data,background,action,formaction,poster,xlink:href');\n        var parsingMode = format === 'html' ? 0 : 1;\n        var processEndTag = function (name) {\n          var pos, i;\n          pos = stack.length;\n          while (pos--) {\n            if (stack[pos].name === name) {\n              break;\n            }\n          }\n          if (pos >= 0) {\n            for (i = stack.length - 1; i >= pos; i--) {\n              name = stack[i];\n              if (name.valid) {\n                end(name.name);\n              }\n            }\n            stack.length = pos;\n          }\n        };\n        var processText = function (value, raw) {\n          return text(restoreDataUris(value, base64Extract), raw);\n        };\n        var processComment = function (value) {\n          if (value === '') {\n            return;\n          }\n          if (value.charAt(0) === '>') {\n            value = ' ' + value;\n          }\n          if (!settings.allow_conditional_comments && value.substr(0, 3).toLowerCase() === '[if') {\n            value = ' ' + value;\n          }\n          comment(restoreDataUris(value, base64Extract));\n        };\n        var processAttr = function (value) {\n          return restoreDataUris(value, base64Extract);\n        };\n        var processMalformedComment = function (value, startIndex) {\n          var startTag = value || '';\n          var isBogus = !startsWith(startTag, '--');\n          var endIndex = findCommentEndIndex(html, isBogus, startIndex);\n          value = html.substr(startIndex, endIndex - startIndex);\n          processComment(isBogus ? startTag + value : value);\n          return endIndex + 1;\n        };\n        var parseAttribute = function (tagName, name, value, val2, val3) {\n          name = name.toLowerCase();\n          value = processAttr(name in fillAttrsMap ? name : decode(value || val2 || val3 || ''));\n          if (validate && !isInternalElement && isValidPrefixAttrName(name) === false) {\n            var attrRule = validAttributesMap[name];\n            if (!attrRule && validAttributePatterns) {\n              var i_1 = validAttributePatterns.length;\n              while (i_1--) {\n                attrRule = validAttributePatterns[i_1];\n                if (attrRule.pattern.test(name)) {\n                  break;\n                }\n              }\n              if (i_1 === -1) {\n                attrRule = null;\n              }\n            }\n            if (!attrRule) {\n              return;\n            }\n            if (attrRule.validValues && !(value in attrRule.validValues)) {\n              return;\n            }\n          }\n          var isNameOrId = name === 'name' || name === 'id';\n          if (isNameOrId && tagName in filteredClobberElements && (value in doc || value in form)) {\n            return;\n          }\n          if (filteredUrlAttrs[name] && !URI.isDomSafe(value, tagName, settings)) {\n            return;\n          }\n          if (isInternalElement && (name in filteredUrlAttrs || name.indexOf('on') === 0)) {\n            return;\n          }\n          attrList.map[name] = value;\n          attrList.push({\n            name: name,\n            value: value\n          });\n        };\n        var tokenRegExp = new RegExp('<(?:' + '(?:!--([\\\\w\\\\W]*?)--!?>)|' + '(?:!\\\\[CDATA\\\\[([\\\\w\\\\W]*?)\\\\]\\\\]>)|' + '(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\\\w\\\\W]*?)>)|' + '(?:!(--)?)|' + '(?:\\\\?([^\\\\s\\\\/<>]+) ?([\\\\w\\\\W]*?)[?/]>)|' + '(?:\\\\/([A-Za-z][A-Za-z0-9\\\\-_\\\\:\\\\.]*)>)|' + '(?:([A-Za-z][A-Za-z0-9\\\\-_:.]*)(\\\\s(?:[^\\'\">]+(?:\"[^\"]*\"|\\'[^\\']*\\'))*[^\"\\'>]*(?:\"[^\">]*|\\'[^\\'>]*)?|\\\\s*|\\\\/)>)' + ')', 'g');\n        var attrRegExp = /([\\w:\\-]+)(?:\\s*=\\s*(?:(?:\\\"((?:[^\\\"])*)\\\")|(?:\\'((?:[^\\'])*)\\')|([^>\\s]+)))?/g;\n        var shortEndedElements = schema.getShortEndedElements();\n        var selfClosing = settings.self_closing_elements || schema.getSelfClosingElements();\n        var fillAttrsMap = schema.getBoolAttrs();\n        var validate = settings.validate;\n        var removeInternalElements = settings.remove_internals;\n        var fixSelfClosing = settings.fix_self_closing;\n        var specialElements = schema.getSpecialElements();\n        var processHtml = html + '>';\n        while (matches = tokenRegExp.exec(processHtml)) {\n          var matchText = matches[0];\n          if (index < matches.index) {\n            processText(decode(html.substr(index, matches.index - index)));\n          }\n          if (value = matches[7]) {\n            value = value.toLowerCase();\n            if (value.charAt(0) === ':') {\n              value = value.substr(1);\n            }\n            processEndTag(value);\n          } else if (value = matches[8]) {\n            if (matches.index + matchText.length > html.length) {\n              processText(decode(html.substr(matches.index)));\n              index = matches.index + matchText.length;\n              continue;\n            }\n            value = value.toLowerCase();\n            if (value.charAt(0) === ':') {\n              value = value.substr(1);\n            }\n            isShortEnded = value in shortEndedElements;\n            if (fixSelfClosing && selfClosing[value] && stack.length > 0 && stack[stack.length - 1].name === value) {\n              processEndTag(value);\n            }\n            var bogusValue = checkBogusAttribute(attrRegExp, matches[9]);\n            if (bogusValue !== null) {\n              if (bogusValue === 'all') {\n                index = findMatchingEndTagIndex(schema, html, tokenRegExp.lastIndex);\n                tokenRegExp.lastIndex = index;\n                continue;\n              }\n              isValidElement = false;\n            }\n            if (!validate || (elementRule = schema.getElementRule(value))) {\n              isValidElement = true;\n              if (validate) {\n                validAttributesMap = elementRule.attributes;\n                validAttributePatterns = elementRule.attributePatterns;\n              }\n              if (attribsValue = matches[9]) {\n                isInternalElement = attribsValue.indexOf('data-mce-type') !== -1;\n                if (isInternalElement && removeInternalElements) {\n                  isValidElement = false;\n                }\n                attrList = [];\n                attrList.map = {};\n                attribsValue.replace(attrRegExp, function (match, name, val, val2, val3) {\n                  parseAttribute(value, name, val, val2, val3);\n                  return '';\n                });\n              } else {\n                attrList = [];\n                attrList.map = {};\n              }\n              if (validate && !isInternalElement) {\n                attributesRequired = elementRule.attributesRequired;\n                attributesDefault = elementRule.attributesDefault;\n                attributesForced = elementRule.attributesForced;\n                anyAttributesRequired = elementRule.removeEmptyAttrs;\n                if (anyAttributesRequired && !attrList.length) {\n                  isValidElement = false;\n                }\n                if (attributesForced) {\n                  i = attributesForced.length;\n                  while (i--) {\n                    attr = attributesForced[i];\n                    name = attr.name;\n                    attrValue = attr.value;\n                    if (attrValue === '{$uid}') {\n                      attrValue = 'mce_' + idCount++;\n                    }\n                    attrList.map[name] = attrValue;\n                    attrList.push({\n                      name: name,\n                      value: attrValue\n                    });\n                  }\n                }\n                if (attributesDefault) {\n                  i = attributesDefault.length;\n                  while (i--) {\n                    attr = attributesDefault[i];\n                    name = attr.name;\n                    if (!(name in attrList.map)) {\n                      attrValue = attr.value;\n                      if (attrValue === '{$uid}') {\n                        attrValue = 'mce_' + idCount++;\n                      }\n                      attrList.map[name] = attrValue;\n                      attrList.push({\n                        name: name,\n                        value: attrValue\n                      });\n                    }\n                  }\n                }\n                if (attributesRequired) {\n                  i = attributesRequired.length;\n                  while (i--) {\n                    if (attributesRequired[i] in attrList.map) {\n                      break;\n                    }\n                  }\n                  if (i === -1) {\n                    isValidElement = false;\n                  }\n                }\n                if (attr = attrList.map['data-mce-bogus']) {\n                  if (attr === 'all') {\n                    index = findMatchingEndTagIndex(schema, html, tokenRegExp.lastIndex);\n                    tokenRegExp.lastIndex = index;\n                    continue;\n                  }\n                  isValidElement = false;\n                }\n              }\n              if (isValidElement) {\n                start(value, attrList, isShortEnded);\n              }\n            } else {\n              isValidElement = false;\n            }\n            if (endRegExp = specialElements[value]) {\n              endRegExp.lastIndex = index = matches.index + matchText.length;\n              if (matches = endRegExp.exec(html)) {\n                if (isValidElement) {\n                  textData = html.substr(index, matches.index - index);\n                }\n                index = matches.index + matches[0].length;\n              } else {\n                textData = html.substr(index);\n                index = html.length;\n              }\n              if (isValidElement) {\n                if (textData.length > 0) {\n                  processText(textData, true);\n                }\n                end(value);\n              }\n              tokenRegExp.lastIndex = index;\n              continue;\n            }\n            if (!isShortEnded) {\n              if (!attribsValue || attribsValue.indexOf('/') !== attribsValue.length - 1) {\n                stack.push({\n                  name: value,\n                  valid: isValidElement\n                });\n              } else if (isValidElement) {\n                end(value);\n              }\n            }\n          } else if (value = matches[1]) {\n            processComment(value);\n          } else if (value = matches[2]) {\n            var isValidCdataSection = parsingMode === 1 || settings.preserve_cdata || stack.length > 0 && schema.isValidChild(stack[stack.length - 1].name, '#cdata');\n            if (isValidCdataSection) {\n              cdata(value);\n            } else {\n              index = processMalformedComment('', matches.index + 2);\n              tokenRegExp.lastIndex = index;\n              continue;\n            }\n          } else if (value = matches[3]) {\n            doctype(value);\n          } else if ((value = matches[4]) || matchText === '<!') {\n            index = processMalformedComment(value, matches.index + matchText.length);\n            tokenRegExp.lastIndex = index;\n            continue;\n          } else if (value = matches[5]) {\n            if (parsingMode === 1) {\n              pi(value, matches[6]);\n            } else {\n              index = processMalformedComment('?', matches.index + 2);\n              tokenRegExp.lastIndex = index;\n              continue;\n            }\n          }\n          index = matches.index + matchText.length;\n        }\n        if (index < html.length) {\n          processText(decode(html.substr(index)));\n        }\n        for (i = stack.length - 1; i >= 0; i--) {\n          value = stack[i];\n          if (value.valid) {\n            end(value.name);\n          }\n        }\n      };\n      var parse = function (html, format) {\n        if (format === void 0) {\n          format = 'html';\n        }\n        parseInternal(extractBase64DataUris(html), format);\n      };\n      return { parse: parse };\n    };\n    SaxParser.findEndTag = findMatchingEndTagIndex;\n\n    var trimHtml = function (tempAttrs, html) {\n      var trimContentRegExp = new RegExp(['\\\\s?(' + tempAttrs.join('|') + ')=\"[^\"]+\"'].join('|'), 'gi');\n      return html.replace(trimContentRegExp, '');\n    };\n    var trimInternal = function (serializer, html) {\n      var bogusAllRegExp = /<(\\w+) [^>]*data-mce-bogus=\"all\"[^>]*>/g;\n      var schema = serializer.schema;\n      var content = trimHtml(serializer.getTempAttrs(), html);\n      var shortEndedElements = schema.getShortEndedElements();\n      var matches;\n      while (matches = bogusAllRegExp.exec(content)) {\n        var index = bogusAllRegExp.lastIndex;\n        var matchLength = matches[0].length;\n        var endTagIndex = void 0;\n        if (shortEndedElements[matches[1]]) {\n          endTagIndex = index;\n        } else {\n          endTagIndex = SaxParser.findEndTag(schema, content, index);\n        }\n        content = content.substring(0, index - matchLength) + content.substring(endTagIndex);\n        bogusAllRegExp.lastIndex = index - matchLength;\n      }\n      return trim$2(content);\n    };\n    var trimExternal = trimInternal;\n\n    var trimEmptyContents = function (editor, html) {\n      var blockName = getForcedRootBlock(editor);\n      var emptyRegExp = new RegExp('^(<' + blockName + '[^>]*>(&nbsp;|&#160;|\\\\s|\\xA0|<br \\\\/>|)<\\\\/' + blockName + '>[\\r\\n]*|<br \\\\/>[\\r\\n]*)$');\n      return html.replace(emptyRegExp, '');\n    };\n    var setupArgs$3 = function (args, format) {\n      return __assign(__assign({}, args), {\n        format: format,\n        get: true,\n        getInner: true\n      });\n    };\n    var getContentFromBody = function (editor, args, format, body) {\n      var defaultedArgs = setupArgs$3(args, format);\n      var updatedArgs = args.no_events ? defaultedArgs : editor.fire('BeforeGetContent', defaultedArgs);\n      var content;\n      if (updatedArgs.format === 'raw') {\n        content = Tools.trim(trimExternal(editor.serializer, body.innerHTML));\n      } else if (updatedArgs.format === 'text') {\n        content = editor.dom.isEmpty(body) ? '' : trim$2(body.innerText || body.textContent);\n      } else if (updatedArgs.format === 'tree') {\n        content = editor.serializer.serialize(body, updatedArgs);\n      } else {\n        content = trimEmptyContents(editor, editor.serializer.serialize(body, updatedArgs));\n      }\n      if (!contains$3([\n          'text',\n          'tree'\n        ], updatedArgs.format) && !isWsPreserveElement(SugarElement.fromDom(body))) {\n        updatedArgs.content = Tools.trim(content);\n      } else {\n        updatedArgs.content = content;\n      }\n      if (updatedArgs.no_events) {\n        return updatedArgs.content;\n      } else {\n        return editor.fire('GetContent', updatedArgs).content;\n      }\n    };\n    var getContentInternal = function (editor, args, format) {\n      return Optional.from(editor.getBody()).fold(constant(args.format === 'tree' ? new AstNode('body', 11) : ''), function (body) {\n        return getContentFromBody(editor, args, format, body);\n      });\n    };\n\n    var each$c = Tools.each;\n    var ElementUtils = function (dom) {\n      var compare = function (node1, node2) {\n        if (node1.nodeName !== node2.nodeName) {\n          return false;\n        }\n        var getAttribs = function (node) {\n          var attribs = {};\n          each$c(dom.getAttribs(node), function (attr) {\n            var name = attr.nodeName.toLowerCase();\n            if (name.indexOf('_') !== 0 && name !== 'style' && name.indexOf('data-') !== 0) {\n              attribs[name] = dom.getAttrib(node, name);\n            }\n          });\n          return attribs;\n        };\n        var compareObjects = function (obj1, obj2) {\n          var value, name;\n          for (name in obj1) {\n            if (has$2(obj1, name)) {\n              value = obj2[name];\n              if (typeof value === 'undefined') {\n                return false;\n              }\n              if (obj1[name] !== value) {\n                return false;\n              }\n              delete obj2[name];\n            }\n          }\n          for (name in obj2) {\n            if (has$2(obj2, name)) {\n              return false;\n            }\n          }\n          return true;\n        };\n        if (!compareObjects(getAttribs(node1), getAttribs(node2))) {\n          return false;\n        }\n        if (!compareObjects(dom.parseStyle(dom.getAttrib(node1, 'style')), dom.parseStyle(dom.getAttrib(node2, 'style')))) {\n          return false;\n        }\n        return !isBookmarkNode$1(node1) && !isBookmarkNode$1(node2);\n      };\n      return { compare: compare };\n    };\n\n    var makeMap$1 = Tools.makeMap;\n    var Writer = function (settings) {\n      var html = [];\n      settings = settings || {};\n      var indent = settings.indent;\n      var indentBefore = makeMap$1(settings.indent_before || '');\n      var indentAfter = makeMap$1(settings.indent_after || '');\n      var encode = Entities.getEncodeFunc(settings.entity_encoding || 'raw', settings.entities);\n      var htmlOutput = settings.element_format === 'html';\n      return {\n        start: function (name, attrs, empty) {\n          var i, l, attr, value;\n          if (indent && indentBefore[name] && html.length > 0) {\n            value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n          html.push('<', name);\n          if (attrs) {\n            for (i = 0, l = attrs.length; i < l; i++) {\n              attr = attrs[i];\n              html.push(' ', attr.name, '=\"', encode(attr.value, true), '\"');\n            }\n          }\n          if (!empty || htmlOutput) {\n            html[html.length] = '>';\n          } else {\n            html[html.length] = ' />';\n          }\n          if (empty && indent && indentAfter[name] && html.length > 0) {\n            value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n        },\n        end: function (name) {\n          var value;\n          html.push('</', name, '>');\n          if (indent && indentAfter[name] && html.length > 0) {\n            value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n        },\n        text: function (text, raw) {\n          if (text.length > 0) {\n            html[html.length] = raw ? text : encode(text);\n          }\n        },\n        cdata: function (text) {\n          html.push('<![CDATA[', text, ']]>');\n        },\n        comment: function (text) {\n          html.push('<!--', text, '-->');\n        },\n        pi: function (name, text) {\n          if (text) {\n            html.push('<?', name, ' ', encode(text), '?>');\n          } else {\n            html.push('<?', name, '?>');\n          }\n          if (indent) {\n            html.push('\\n');\n          }\n        },\n        doctype: function (text) {\n          html.push('<!DOCTYPE', text, '>', indent ? '\\n' : '');\n        },\n        reset: function () {\n          html.length = 0;\n        },\n        getContent: function () {\n          return html.join('').replace(/\\n$/, '');\n        }\n      };\n    };\n\n    var HtmlSerializer = function (settings, schema) {\n      if (schema === void 0) {\n        schema = Schema();\n      }\n      var writer = Writer(settings);\n      settings = settings || {};\n      settings.validate = 'validate' in settings ? settings.validate : true;\n      var serialize = function (node) {\n        var validate = settings.validate;\n        var handlers = {\n          3: function (node) {\n            writer.text(node.value, node.raw);\n          },\n          8: function (node) {\n            writer.comment(node.value);\n          },\n          7: function (node) {\n            writer.pi(node.name, node.value);\n          },\n          10: function (node) {\n            writer.doctype(node.value);\n          },\n          4: function (node) {\n            writer.cdata(node.value);\n          },\n          11: function (node) {\n            if (node = node.firstChild) {\n              do {\n                walk(node);\n              } while (node = node.next);\n            }\n          }\n        };\n        writer.reset();\n        var walk = function (node) {\n          var handler = handlers[node.type];\n          if (!handler) {\n            var name_1 = node.name;\n            var isEmpty = node.shortEnded;\n            var attrs = node.attributes;\n            if (validate && attrs && attrs.length > 1) {\n              var sortedAttrs = [];\n              sortedAttrs.map = {};\n              var elementRule = schema.getElementRule(node.name);\n              if (elementRule) {\n                for (var i = 0, l = elementRule.attributesOrder.length; i < l; i++) {\n                  var attrName = elementRule.attributesOrder[i];\n                  if (attrName in attrs.map) {\n                    var attrValue = attrs.map[attrName];\n                    sortedAttrs.map[attrName] = attrValue;\n                    sortedAttrs.push({\n                      name: attrName,\n                      value: attrValue\n                    });\n                  }\n                }\n                for (var i = 0, l = attrs.length; i < l; i++) {\n                  var attrName = attrs[i].name;\n                  if (!(attrName in sortedAttrs.map)) {\n                    var attrValue = attrs.map[attrName];\n                    sortedAttrs.map[attrName] = attrValue;\n                    sortedAttrs.push({\n                      name: attrName,\n                      value: attrValue\n                    });\n                  }\n                }\n                attrs = sortedAttrs;\n              }\n            }\n            writer.start(node.name, attrs, isEmpty);\n            if (!isEmpty) {\n              if (node = node.firstChild) {\n                do {\n                  walk(node);\n                } while (node = node.next);\n              }\n              writer.end(name_1);\n            }\n          } else {\n            handler(node);\n          }\n        };\n        if (node.type === 1 && !settings.inner) {\n          walk(node);\n        } else {\n          handlers[11](node);\n        }\n        return writer.getContent();\n      };\n      return { serialize: serialize };\n    };\n\n    var nonInheritableStyles = new Set();\n    (function () {\n      var nonInheritableStylesArr = [\n        'margin',\n        'margin-left',\n        'margin-right',\n        'margin-top',\n        'margin-bottom',\n        'padding',\n        'padding-left',\n        'padding-right',\n        'padding-top',\n        'padding-bottom',\n        'border',\n        'border-width',\n        'border-style',\n        'border-color',\n        'background',\n        'background-attachment',\n        'background-clip',\n        'background-color',\n        'background-image',\n        'background-origin',\n        'background-position',\n        'background-repeat',\n        'background-size',\n        'float',\n        'position',\n        'left',\n        'right',\n        'top',\n        'bottom',\n        'z-index',\n        'display',\n        'transform',\n        'width',\n        'max-width',\n        'min-width',\n        'height',\n        'max-height',\n        'min-height',\n        'overflow',\n        'overflow-x',\n        'overflow-y',\n        'text-overflow',\n        'vertical-align',\n        'transition',\n        'transition-delay',\n        'transition-duration',\n        'transition-property',\n        'transition-timing-function'\n      ];\n      each$k(nonInheritableStylesArr, function (style) {\n        nonInheritableStyles.add(style);\n      });\n    }());\n    var shorthandStyleProps = [\n      'font',\n      'text-decoration',\n      'text-emphasis'\n    ];\n    var getStyleProps = function (dom, node) {\n      return keys(dom.parseStyle(dom.getAttrib(node, 'style')));\n    };\n    var isNonInheritableStyle = function (style) {\n      return nonInheritableStyles.has(style);\n    };\n    var hasInheritableStyles = function (dom, node) {\n      return forall(getStyleProps(dom, node), function (style) {\n        return !isNonInheritableStyle(style);\n      });\n    };\n    var getLonghandStyleProps = function (styles) {\n      return filter$4(styles, function (style) {\n        return exists(shorthandStyleProps, function (prop) {\n          return startsWith(style, prop);\n        });\n      });\n    };\n    var hasStyleConflict = function (dom, node, parentNode) {\n      var nodeStyleProps = getStyleProps(dom, node);\n      var parentNodeStyleProps = getStyleProps(dom, parentNode);\n      var valueMismatch = function (prop) {\n        var nodeValue = dom.getStyle(node, prop);\n        var parentValue = dom.getStyle(parentNode, prop);\n        return isNotEmpty(nodeValue) && isNotEmpty(parentValue) && nodeValue !== parentValue;\n      };\n      return exists(nodeStyleProps, function (nodeStyleProp) {\n        var propExists = function (props) {\n          return exists(props, function (prop) {\n            return prop === nodeStyleProp;\n          });\n        };\n        if (!propExists(parentNodeStyleProps) && propExists(shorthandStyleProps)) {\n          var longhandProps = getLonghandStyleProps(parentNodeStyleProps);\n          return exists(longhandProps, valueMismatch);\n        } else {\n          return valueMismatch(nodeStyleProp);\n        }\n      });\n    };\n\n    var isChar = function (forward, predicate, pos) {\n      return Optional.from(pos.container()).filter(isText$7).exists(function (text) {\n        var delta = forward ? 0 : -1;\n        return predicate(text.data.charAt(pos.offset() + delta));\n      });\n    };\n    var isBeforeSpace = curry(isChar, true, isWhiteSpace);\n    var isAfterSpace = curry(isChar, false, isWhiteSpace);\n    var isEmptyText = function (pos) {\n      var container = pos.container();\n      return isText$7(container) && (container.data.length === 0 || isZwsp(container.data) && BookmarkManager.isBookmarkNode(container.parentNode));\n    };\n    var matchesElementPosition = function (before, predicate) {\n      return function (pos) {\n        return Optional.from(getChildNodeAtRelativeOffset(before ? 0 : -1, pos)).filter(predicate).isSome();\n      };\n    };\n    var isImageBlock = function (node) {\n      return isImg(node) && get$5(SugarElement.fromDom(node), 'display') === 'block';\n    };\n    var isCefNode = function (node) {\n      return isContentEditableFalse$b(node) && !isBogusAll$1(node);\n    };\n    var isBeforeImageBlock = matchesElementPosition(true, isImageBlock);\n    var isAfterImageBlock = matchesElementPosition(false, isImageBlock);\n    var isBeforeMedia = matchesElementPosition(true, isMedia$2);\n    var isAfterMedia = matchesElementPosition(false, isMedia$2);\n    var isBeforeTable = matchesElementPosition(true, isTable$3);\n    var isAfterTable = matchesElementPosition(false, isTable$3);\n    var isBeforeContentEditableFalse = matchesElementPosition(true, isCefNode);\n    var isAfterContentEditableFalse = matchesElementPosition(false, isCefNode);\n\n    var getLastChildren = function (elm) {\n      var children = [];\n      var rawNode = elm.dom;\n      while (rawNode) {\n        children.push(SugarElement.fromDom(rawNode));\n        rawNode = rawNode.lastChild;\n      }\n      return children;\n    };\n    var removeTrailingBr = function (elm) {\n      var allBrs = descendants(elm, 'br');\n      var brs = filter$4(getLastChildren(elm).slice(-1), isBr$4);\n      if (allBrs.length === brs.length) {\n        each$k(brs, remove$7);\n      }\n    };\n    var fillWithPaddingBr = function (elm) {\n      empty(elm);\n      append$1(elm, SugarElement.fromHtml('<br data-mce-bogus=\"1\">'));\n    };\n    var trimBlockTrailingBr = function (elm) {\n      lastChild(elm).each(function (lastChild) {\n        prevSibling(lastChild).each(function (lastChildPrevSibling) {\n          if (isBlock$2(elm) && isBr$4(lastChild) && isBlock$2(lastChildPrevSibling)) {\n            remove$7(lastChild);\n          }\n        });\n      });\n    };\n\n    var dropLast = function (xs) {\n      return xs.slice(0, -1);\n    };\n    var parentsUntil = function (start, root, predicate) {\n      if (contains$1(root, start)) {\n        return dropLast(parents$1(start, function (elm) {\n          return predicate(elm) || eq(elm, root);\n        }));\n      } else {\n        return [];\n      }\n    };\n    var parents = function (start, root) {\n      return parentsUntil(start, root, never);\n    };\n    var parentsAndSelf = function (start, root) {\n      return [start].concat(parents(start, root));\n    };\n\n    var navigateIgnoreEmptyTextNodes = function (forward, root, from) {\n      return navigateIgnore(forward, root, from, isEmptyText);\n    };\n    var getClosestBlock$1 = function (root, pos) {\n      return find$3(parentsAndSelf(SugarElement.fromDom(pos.container()), root), isBlock$2);\n    };\n    var isAtBeforeAfterBlockBoundary = function (forward, root, pos) {\n      return navigateIgnoreEmptyTextNodes(forward, root.dom, pos).forall(function (newPos) {\n        return getClosestBlock$1(root, pos).fold(function () {\n          return isInSameBlock(newPos, pos, root.dom) === false;\n        }, function (fromBlock) {\n          return isInSameBlock(newPos, pos, root.dom) === false && contains$1(fromBlock, SugarElement.fromDom(newPos.container()));\n        });\n      });\n    };\n    var isAtBlockBoundary = function (forward, root, pos) {\n      return getClosestBlock$1(root, pos).fold(function () {\n        return navigateIgnoreEmptyTextNodes(forward, root.dom, pos).forall(function (newPos) {\n          return isInSameBlock(newPos, pos, root.dom) === false;\n        });\n      }, function (parent) {\n        return navigateIgnoreEmptyTextNodes(forward, parent.dom, pos).isNone();\n      });\n    };\n    var isAtStartOfBlock = curry(isAtBlockBoundary, false);\n    var isAtEndOfBlock = curry(isAtBlockBoundary, true);\n    var isBeforeBlock = curry(isAtBeforeAfterBlockBoundary, false);\n    var isAfterBlock = curry(isAtBeforeAfterBlockBoundary, true);\n\n    var isBr = function (pos) {\n      return getElementFromPosition(pos).exists(isBr$4);\n    };\n    var findBr = function (forward, root, pos) {\n      var parentBlocks = filter$4(parentsAndSelf(SugarElement.fromDom(pos.container()), root), isBlock$2);\n      var scope = head(parentBlocks).getOr(root);\n      return fromPosition(forward, scope.dom, pos).filter(isBr);\n    };\n    var isBeforeBr$1 = function (root, pos) {\n      return getElementFromPosition(pos).exists(isBr$4) || findBr(true, root, pos).isSome();\n    };\n    var isAfterBr = function (root, pos) {\n      return getElementFromPrevPosition(pos).exists(isBr$4) || findBr(false, root, pos).isSome();\n    };\n    var findPreviousBr = curry(findBr, false);\n    var findNextBr = curry(findBr, true);\n\n    var isInMiddleOfText = function (pos) {\n      return CaretPosition.isTextPosition(pos) && !pos.isAtStart() && !pos.isAtEnd();\n    };\n    var getClosestBlock = function (root, pos) {\n      var parentBlocks = filter$4(parentsAndSelf(SugarElement.fromDom(pos.container()), root), isBlock$2);\n      return head(parentBlocks).getOr(root);\n    };\n    var hasSpaceBefore = function (root, pos) {\n      if (isInMiddleOfText(pos)) {\n        return isAfterSpace(pos);\n      } else {\n        return isAfterSpace(pos) || prevPosition(getClosestBlock(root, pos).dom, pos).exists(isAfterSpace);\n      }\n    };\n    var hasSpaceAfter = function (root, pos) {\n      if (isInMiddleOfText(pos)) {\n        return isBeforeSpace(pos);\n      } else {\n        return isBeforeSpace(pos) || nextPosition(getClosestBlock(root, pos).dom, pos).exists(isBeforeSpace);\n      }\n    };\n    var isPreValue = function (value) {\n      return contains$3([\n        'pre',\n        'pre-wrap'\n      ], value);\n    };\n    var isInPre = function (pos) {\n      return getElementFromPosition(pos).bind(function (elm) {\n        return closest$3(elm, isElement$6);\n      }).exists(function (elm) {\n        return isPreValue(get$5(elm, 'white-space'));\n      });\n    };\n    var isAtBeginningOfBody = function (root, pos) {\n      return prevPosition(root.dom, pos).isNone();\n    };\n    var isAtEndOfBody = function (root, pos) {\n      return nextPosition(root.dom, pos).isNone();\n    };\n    var isAtLineBoundary = function (root, pos) {\n      return isAtBeginningOfBody(root, pos) || isAtEndOfBody(root, pos) || isAtStartOfBlock(root, pos) || isAtEndOfBlock(root, pos) || isAfterBr(root, pos) || isBeforeBr$1(root, pos);\n    };\n    var needsToHaveNbsp = function (root, pos) {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtLineBoundary(root, pos) || hasSpaceBefore(root, pos) || hasSpaceAfter(root, pos);\n      }\n    };\n    var needsToBeNbspLeft = function (root, pos) {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtStartOfBlock(root, pos) || isBeforeBlock(root, pos) || isAfterBr(root, pos) || hasSpaceBefore(root, pos);\n      }\n    };\n    var leanRight = function (pos) {\n      var container = pos.container();\n      var offset = pos.offset();\n      if (isText$7(container) && offset < container.data.length) {\n        return CaretPosition(container, offset + 1);\n      } else {\n        return pos;\n      }\n    };\n    var needsToBeNbspRight = function (root, pos) {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtEndOfBlock(root, pos) || isAfterBlock(root, pos) || isBeforeBr$1(root, pos) || hasSpaceAfter(root, pos);\n      }\n    };\n    var needsToBeNbsp = function (root, pos) {\n      return needsToBeNbspLeft(root, pos) || needsToBeNbspRight(root, leanRight(pos));\n    };\n    var isNbspAt = function (text, offset) {\n      return isNbsp(text.charAt(offset));\n    };\n    var hasNbsp = function (pos) {\n      var container = pos.container();\n      return isText$7(container) && contains$2(container.data, nbsp);\n    };\n    var normalizeNbspMiddle = function (text) {\n      var chars = text.split('');\n      return map$3(chars, function (chr, i) {\n        if (isNbsp(chr) && i > 0 && i < chars.length - 1 && isContent(chars[i - 1]) && isContent(chars[i + 1])) {\n          return ' ';\n        } else {\n          return chr;\n        }\n      }).join('');\n    };\n    var normalizeNbspAtStart = function (root, node) {\n      var text = node.data;\n      var firstPos = CaretPosition(node, 0);\n      if (isNbspAt(text, 0) && !needsToBeNbsp(root, firstPos)) {\n        node.data = ' ' + text.slice(1);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var normalizeNbspInMiddleOfTextNode = function (node) {\n      var text = node.data;\n      var newText = normalizeNbspMiddle(text);\n      if (newText !== text) {\n        node.data = newText;\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var normalizeNbspAtEnd = function (root, node) {\n      var text = node.data;\n      var lastPos = CaretPosition(node, text.length - 1);\n      if (isNbspAt(text, text.length - 1) && !needsToBeNbsp(root, lastPos)) {\n        node.data = text.slice(0, -1) + ' ';\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var normalizeNbsps = function (root, pos) {\n      return Optional.some(pos).filter(hasNbsp).bind(function (pos) {\n        var container = pos.container();\n        var normalized = normalizeNbspAtStart(root, container) || normalizeNbspInMiddleOfTextNode(container) || normalizeNbspAtEnd(root, container);\n        return normalized ? Optional.some(pos) : Optional.none();\n      });\n    };\n    var normalizeNbspsInEditor = function (editor) {\n      var root = SugarElement.fromDom(editor.getBody());\n      if (editor.selection.isCollapsed()) {\n        normalizeNbsps(root, CaretPosition.fromRangeStart(editor.selection.getRng())).each(function (pos) {\n          editor.selection.setRng(pos.toRange());\n        });\n      }\n    };\n\n    var normalizeContent = function (content, isStartOfContent, isEndOfContent) {\n      var result = foldl(content, function (acc, c) {\n        if (isWhiteSpace(c) || isNbsp(c)) {\n          if (acc.previousCharIsSpace || acc.str === '' && isStartOfContent || acc.str.length === content.length - 1 && isEndOfContent) {\n            return {\n              previousCharIsSpace: false,\n              str: acc.str + nbsp\n            };\n          } else {\n            return {\n              previousCharIsSpace: true,\n              str: acc.str + ' '\n            };\n          }\n        } else {\n          return {\n            previousCharIsSpace: false,\n            str: acc.str + c\n          };\n        }\n      }, {\n        previousCharIsSpace: false,\n        str: ''\n      });\n      return result.str;\n    };\n    var normalize$1 = function (node, offset, count) {\n      if (count === 0) {\n        return;\n      }\n      var elm = SugarElement.fromDom(node);\n      var root = ancestor$3(elm, isBlock$2).getOr(elm);\n      var whitespace = node.data.slice(offset, offset + count);\n      var isEndOfContent = offset + count >= node.data.length && needsToBeNbspRight(root, CaretPosition(node, node.data.length));\n      var isStartOfContent = offset === 0 && needsToBeNbspLeft(root, CaretPosition(node, 0));\n      node.replaceData(offset, count, normalizeContent(whitespace, isStartOfContent, isEndOfContent));\n    };\n    var normalizeWhitespaceAfter = function (node, offset) {\n      var content = node.data.slice(offset);\n      var whitespaceCount = content.length - lTrim(content).length;\n      normalize$1(node, offset, whitespaceCount);\n    };\n    var normalizeWhitespaceBefore = function (node, offset) {\n      var content = node.data.slice(0, offset);\n      var whitespaceCount = content.length - rTrim(content).length;\n      normalize$1(node, offset - whitespaceCount, whitespaceCount);\n    };\n    var mergeTextNodes = function (prevNode, nextNode, normalizeWhitespace, mergeToPrev) {\n      if (mergeToPrev === void 0) {\n        mergeToPrev = true;\n      }\n      var whitespaceOffset = rTrim(prevNode.data).length;\n      var newNode = mergeToPrev ? prevNode : nextNode;\n      var removeNode = mergeToPrev ? nextNode : prevNode;\n      if (mergeToPrev) {\n        newNode.appendData(removeNode.data);\n      } else {\n        newNode.insertData(0, removeNode.data);\n      }\n      remove$7(SugarElement.fromDom(removeNode));\n      if (normalizeWhitespace) {\n        normalizeWhitespaceAfter(newNode, whitespaceOffset);\n      }\n      return newNode;\n    };\n\n    var needsReposition = function (pos, elm) {\n      var container = pos.container();\n      var offset = pos.offset();\n      return CaretPosition.isTextPosition(pos) === false && container === elm.parentNode && offset > CaretPosition.before(elm).offset();\n    };\n    var reposition = function (elm, pos) {\n      return needsReposition(pos, elm) ? CaretPosition(pos.container(), pos.offset() - 1) : pos;\n    };\n    var beforeOrStartOf = function (node) {\n      return isText$7(node) ? CaretPosition(node, 0) : CaretPosition.before(node);\n    };\n    var afterOrEndOf = function (node) {\n      return isText$7(node) ? CaretPosition(node, node.data.length) : CaretPosition.after(node);\n    };\n    var getPreviousSiblingCaretPosition = function (elm) {\n      if (isCaretCandidate$3(elm.previousSibling)) {\n        return Optional.some(afterOrEndOf(elm.previousSibling));\n      } else {\n        return elm.previousSibling ? lastPositionIn(elm.previousSibling) : Optional.none();\n      }\n    };\n    var getNextSiblingCaretPosition = function (elm) {\n      if (isCaretCandidate$3(elm.nextSibling)) {\n        return Optional.some(beforeOrStartOf(elm.nextSibling));\n      } else {\n        return elm.nextSibling ? firstPositionIn(elm.nextSibling) : Optional.none();\n      }\n    };\n    var findCaretPositionBackwardsFromElm = function (rootElement, elm) {\n      var startPosition = CaretPosition.before(elm.previousSibling ? elm.previousSibling : elm.parentNode);\n      return prevPosition(rootElement, startPosition).fold(function () {\n        return nextPosition(rootElement, CaretPosition.after(elm));\n      }, Optional.some);\n    };\n    var findCaretPositionForwardsFromElm = function (rootElement, elm) {\n      return nextPosition(rootElement, CaretPosition.after(elm)).fold(function () {\n        return prevPosition(rootElement, CaretPosition.before(elm));\n      }, Optional.some);\n    };\n    var findCaretPositionBackwards = function (rootElement, elm) {\n      return getPreviousSiblingCaretPosition(elm).orThunk(function () {\n        return getNextSiblingCaretPosition(elm);\n      }).orThunk(function () {\n        return findCaretPositionBackwardsFromElm(rootElement, elm);\n      });\n    };\n    var findCaretPositionForward = function (rootElement, elm) {\n      return getNextSiblingCaretPosition(elm).orThunk(function () {\n        return getPreviousSiblingCaretPosition(elm);\n      }).orThunk(function () {\n        return findCaretPositionForwardsFromElm(rootElement, elm);\n      });\n    };\n    var findCaretPosition = function (forward, rootElement, elm) {\n      return forward ? findCaretPositionForward(rootElement, elm) : findCaretPositionBackwards(rootElement, elm);\n    };\n    var findCaretPosOutsideElmAfterDelete = function (forward, rootElement, elm) {\n      return findCaretPosition(forward, rootElement, elm).map(curry(reposition, elm));\n    };\n    var setSelection$1 = function (editor, forward, pos) {\n      pos.fold(function () {\n        editor.focus();\n      }, function (pos) {\n        editor.selection.setRng(pos.toRange(), forward);\n      });\n    };\n    var eqRawNode = function (rawNode) {\n      return function (elm) {\n        return elm.dom === rawNode;\n      };\n    };\n    var isBlock = function (editor, elm) {\n      return elm && has$2(editor.schema.getBlockElements(), name(elm));\n    };\n    var paddEmptyBlock = function (elm) {\n      if (isEmpty$2(elm)) {\n        var br = SugarElement.fromHtml('<br data-mce-bogus=\"1\">');\n        empty(elm);\n        append$1(elm, br);\n        return Optional.some(CaretPosition.before(br.dom));\n      } else {\n        return Optional.none();\n      }\n    };\n    var deleteNormalized = function (elm, afterDeletePosOpt, normalizeWhitespace) {\n      var prevTextOpt = prevSibling(elm).filter(isText$8);\n      var nextTextOpt = nextSibling(elm).filter(isText$8);\n      remove$7(elm);\n      return lift3(prevTextOpt, nextTextOpt, afterDeletePosOpt, function (prev, next, pos) {\n        var prevNode = prev.dom, nextNode = next.dom;\n        var offset = prevNode.data.length;\n        mergeTextNodes(prevNode, nextNode, normalizeWhitespace);\n        return pos.container() === nextNode ? CaretPosition(prevNode, offset) : pos;\n      }).orThunk(function () {\n        if (normalizeWhitespace) {\n          prevTextOpt.each(function (elm) {\n            return normalizeWhitespaceBefore(elm.dom, elm.dom.length);\n          });\n          nextTextOpt.each(function (elm) {\n            return normalizeWhitespaceAfter(elm.dom, 0);\n          });\n        }\n        return afterDeletePosOpt;\n      });\n    };\n    var isInlineElement = function (editor, element) {\n      return has$2(editor.schema.getTextInlineElements(), name(element));\n    };\n    var deleteElement$2 = function (editor, forward, elm, moveCaret) {\n      if (moveCaret === void 0) {\n        moveCaret = true;\n      }\n      var afterDeletePos = findCaretPosOutsideElmAfterDelete(forward, editor.getBody(), elm.dom);\n      var parentBlock = ancestor$3(elm, curry(isBlock, editor), eqRawNode(editor.getBody()));\n      var normalizedAfterDeletePos = deleteNormalized(elm, afterDeletePos, isInlineElement(editor, elm));\n      if (editor.dom.isEmpty(editor.getBody())) {\n        editor.setContent('');\n        editor.selection.setCursorLocation();\n      } else {\n        parentBlock.bind(paddEmptyBlock).fold(function () {\n          if (moveCaret) {\n            setSelection$1(editor, forward, normalizedAfterDeletePos);\n          }\n        }, function (paddPos) {\n          if (moveCaret) {\n            setSelection$1(editor, forward, Optional.some(paddPos));\n          }\n        });\n      }\n    };\n\n    var isRootFromElement = function (root) {\n      return function (cur) {\n        return eq(root, cur);\n      };\n    };\n    var getTableCells = function (table) {\n      return descendants(table, 'td,th');\n    };\n    var getTableDetailsFromRange = function (rng, isRoot) {\n      var getTable = function (node) {\n        return getClosestTable(SugarElement.fromDom(node), isRoot);\n      };\n      var startTable = getTable(rng.startContainer);\n      var endTable = getTable(rng.endContainer);\n      var isStartInTable = startTable.isSome();\n      var isEndInTable = endTable.isSome();\n      var isSameTable = lift2(startTable, endTable, eq).getOr(false);\n      var isMultiTable = !isSameTable && isStartInTable && isEndInTable;\n      return {\n        startTable: startTable,\n        endTable: endTable,\n        isStartInTable: isStartInTable,\n        isEndInTable: isEndInTable,\n        isSameTable: isSameTable,\n        isMultiTable: isMultiTable\n      };\n    };\n\n    var tableCellRng = function (start, end) {\n      return {\n        start: start,\n        end: end\n      };\n    };\n    var tableSelection = function (rng, table, cells) {\n      return {\n        rng: rng,\n        table: table,\n        cells: cells\n      };\n    };\n    var deleteAction = Adt.generate([\n      {\n        singleCellTable: [\n          'rng',\n          'cell'\n        ]\n      },\n      { fullTable: ['table'] },\n      {\n        partialTable: [\n          'cells',\n          'outsideDetails'\n        ]\n      },\n      {\n        multiTable: [\n          'startTableCells',\n          'endTableCells',\n          'betweenRng'\n        ]\n      }\n    ]);\n    var getClosestCell$1 = function (container, isRoot) {\n      return closest$2(SugarElement.fromDom(container), 'td,th', isRoot);\n    };\n    var isExpandedCellRng = function (cellRng) {\n      return !eq(cellRng.start, cellRng.end);\n    };\n    var getTableFromCellRng = function (cellRng, isRoot) {\n      return getClosestTable(cellRng.start, isRoot).bind(function (startParentTable) {\n        return getClosestTable(cellRng.end, isRoot).bind(function (endParentTable) {\n          return someIf(eq(startParentTable, endParentTable), startParentTable);\n        });\n      });\n    };\n    var isSingleCellTable = function (cellRng, isRoot) {\n      return !isExpandedCellRng(cellRng) && getTableFromCellRng(cellRng, isRoot).exists(function (table) {\n        var rows = table.dom.rows;\n        return rows.length === 1 && rows[0].cells.length === 1;\n      });\n    };\n    var getCellRng = function (rng, isRoot) {\n      var startCell = getClosestCell$1(rng.startContainer, isRoot);\n      var endCell = getClosestCell$1(rng.endContainer, isRoot);\n      return lift2(startCell, endCell, tableCellRng);\n    };\n    var getCellRangeFromStartTable = function (isRoot) {\n      return function (startCell) {\n        return getClosestTable(startCell, isRoot).bind(function (table) {\n          return last$2(getTableCells(table)).map(function (endCell) {\n            return tableCellRng(startCell, endCell);\n          });\n        });\n      };\n    };\n    var getCellRangeFromEndTable = function (isRoot) {\n      return function (endCell) {\n        return getClosestTable(endCell, isRoot).bind(function (table) {\n          return head(getTableCells(table)).map(function (startCell) {\n            return tableCellRng(startCell, endCell);\n          });\n        });\n      };\n    };\n    var getTableSelectionFromCellRng = function (isRoot) {\n      return function (cellRng) {\n        return getTableFromCellRng(cellRng, isRoot).map(function (table) {\n          return tableSelection(cellRng, table, getTableCells(table));\n        });\n      };\n    };\n    var getTableSelections = function (cellRng, selectionDetails, rng, isRoot) {\n      if (rng.collapsed || !cellRng.forall(isExpandedCellRng)) {\n        return Optional.none();\n      } else if (selectionDetails.isSameTable) {\n        var sameTableSelection = cellRng.bind(getTableSelectionFromCellRng(isRoot));\n        return Optional.some({\n          start: sameTableSelection,\n          end: sameTableSelection\n        });\n      } else {\n        var startCell = getClosestCell$1(rng.startContainer, isRoot);\n        var endCell = getClosestCell$1(rng.endContainer, isRoot);\n        var startTableSelection = startCell.bind(getCellRangeFromStartTable(isRoot)).bind(getTableSelectionFromCellRng(isRoot));\n        var endTableSelection = endCell.bind(getCellRangeFromEndTable(isRoot)).bind(getTableSelectionFromCellRng(isRoot));\n        return Optional.some({\n          start: startTableSelection,\n          end: endTableSelection\n        });\n      }\n    };\n    var getCellIndex = function (cells, cell) {\n      return findIndex$2(cells, function (x) {\n        return eq(x, cell);\n      });\n    };\n    var getSelectedCells = function (tableSelection) {\n      return lift2(getCellIndex(tableSelection.cells, tableSelection.rng.start), getCellIndex(tableSelection.cells, tableSelection.rng.end), function (startIndex, endIndex) {\n        return tableSelection.cells.slice(startIndex, endIndex + 1);\n      });\n    };\n    var isSingleCellTableContentSelected = function (optCellRng, rng, isRoot) {\n      return optCellRng.exists(function (cellRng) {\n        return isSingleCellTable(cellRng, isRoot) && hasAllContentsSelected(cellRng.start, rng);\n      });\n    };\n    var unselectCells = function (rng, selectionDetails) {\n      var startTable = selectionDetails.startTable, endTable = selectionDetails.endTable;\n      var otherContentRng = rng.cloneRange();\n      startTable.each(function (table) {\n        return otherContentRng.setStartAfter(table.dom);\n      });\n      endTable.each(function (table) {\n        return otherContentRng.setEndBefore(table.dom);\n      });\n      return otherContentRng;\n    };\n    var handleSingleTable = function (cellRng, selectionDetails, rng, isRoot) {\n      return getTableSelections(cellRng, selectionDetails, rng, isRoot).bind(function (_a) {\n        var start = _a.start, end = _a.end;\n        return start.or(end);\n      }).bind(function (tableSelection) {\n        var isSameTable = selectionDetails.isSameTable;\n        var selectedCells = getSelectedCells(tableSelection).getOr([]);\n        if (isSameTable && tableSelection.cells.length === selectedCells.length) {\n          return Optional.some(deleteAction.fullTable(tableSelection.table));\n        } else if (selectedCells.length > 0) {\n          if (isSameTable) {\n            return Optional.some(deleteAction.partialTable(selectedCells, Optional.none()));\n          } else {\n            var otherContentRng = unselectCells(rng, selectionDetails);\n            return Optional.some(deleteAction.partialTable(selectedCells, Optional.some(__assign(__assign({}, selectionDetails), { rng: otherContentRng }))));\n          }\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var handleMultiTable = function (cellRng, selectionDetails, rng, isRoot) {\n      return getTableSelections(cellRng, selectionDetails, rng, isRoot).bind(function (_a) {\n        var start = _a.start, end = _a.end;\n        var startTableSelectedCells = start.bind(getSelectedCells).getOr([]);\n        var endTableSelectedCells = end.bind(getSelectedCells).getOr([]);\n        if (startTableSelectedCells.length > 0 && endTableSelectedCells.length > 0) {\n          var otherContentRng = unselectCells(rng, selectionDetails);\n          return Optional.some(deleteAction.multiTable(startTableSelectedCells, endTableSelectedCells, otherContentRng));\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var getActionFromRange = function (root, rng) {\n      var isRoot = isRootFromElement(root);\n      var optCellRng = getCellRng(rng, isRoot);\n      var selectionDetails = getTableDetailsFromRange(rng, isRoot);\n      if (isSingleCellTableContentSelected(optCellRng, rng, isRoot)) {\n        return optCellRng.map(function (cellRng) {\n          return deleteAction.singleCellTable(rng, cellRng.start);\n        });\n      } else if (selectionDetails.isMultiTable) {\n        return handleMultiTable(optCellRng, selectionDetails, rng, isRoot);\n      } else {\n        return handleSingleTable(optCellRng, selectionDetails, rng, isRoot);\n      }\n    };\n\n    var freefallRtl = function (root) {\n      var child = isComment$1(root) ? prevSibling(root) : lastChild(root);\n      return child.bind(freefallRtl).orThunk(function () {\n        return Optional.some(root);\n      });\n    };\n    var cleanCells = function (cells) {\n      return each$k(cells, function (cell) {\n        remove$6(cell, 'contenteditable');\n        fillWithPaddingBr(cell);\n      });\n    };\n    var getOutsideBlock = function (editor, container) {\n      return Optional.from(editor.dom.getParent(container, editor.dom.isBlock)).map(SugarElement.fromDom);\n    };\n    var handleEmptyBlock = function (editor, startInTable, emptyBlock) {\n      emptyBlock.each(function (block) {\n        if (startInTable) {\n          remove$7(block);\n        } else {\n          fillWithPaddingBr(block);\n          editor.selection.setCursorLocation(block.dom, 0);\n        }\n      });\n    };\n    var deleteContentInsideCell = function (editor, cell, rng, isFirstCellInSelection) {\n      var insideTableRng = rng.cloneRange();\n      if (isFirstCellInSelection) {\n        insideTableRng.setStart(rng.startContainer, rng.startOffset);\n        insideTableRng.setEndAfter(cell.dom.lastChild);\n      } else {\n        insideTableRng.setStartBefore(cell.dom.firstChild);\n        insideTableRng.setEnd(rng.endContainer, rng.endOffset);\n      }\n      deleteCellContents(editor, insideTableRng, cell, false);\n    };\n    var collapseAndRestoreCellSelection = function (editor) {\n      var selectedCells = getCellsFromEditor(editor);\n      var selectedNode = SugarElement.fromDom(editor.selection.getNode());\n      if (isTableCell$5(selectedNode.dom) && isEmpty$2(selectedNode)) {\n        editor.selection.setCursorLocation(selectedNode.dom, 0);\n      } else {\n        editor.selection.collapse(true);\n      }\n      if (selectedCells.length > 1 && exists(selectedCells, function (cell) {\n          return eq(cell, selectedNode);\n        })) {\n        set$1(selectedNode, 'data-mce-selected', '1');\n      }\n    };\n    var emptySingleTableCells = function (editor, cells, outsideDetails) {\n      var editorRng = editor.selection.getRng();\n      var cellsToClean = outsideDetails.bind(function (_a) {\n        var rng = _a.rng, isStartInTable = _a.isStartInTable;\n        var outsideBlock = getOutsideBlock(editor, isStartInTable ? rng.endContainer : rng.startContainer);\n        rng.deleteContents();\n        handleEmptyBlock(editor, isStartInTable, outsideBlock.filter(isEmpty$2));\n        var endPointCell = isStartInTable ? cells[0] : cells[cells.length - 1];\n        deleteContentInsideCell(editor, endPointCell, editorRng, isStartInTable);\n        if (!isEmpty$2(endPointCell)) {\n          return Optional.some(isStartInTable ? cells.slice(1) : cells.slice(0, -1));\n        } else {\n          return Optional.none();\n        }\n      }).getOr(cells);\n      cleanCells(cellsToClean);\n      collapseAndRestoreCellSelection(editor);\n      return true;\n    };\n    var emptyMultiTableCells = function (editor, startTableCells, endTableCells, betweenRng) {\n      var rng = editor.selection.getRng();\n      var startCell = startTableCells[0];\n      var endCell = endTableCells[endTableCells.length - 1];\n      deleteContentInsideCell(editor, startCell, rng, true);\n      deleteContentInsideCell(editor, endCell, rng, false);\n      var startTableCellsToClean = isEmpty$2(startCell) ? startTableCells : startTableCells.slice(1);\n      var endTableCellsToClean = isEmpty$2(endCell) ? endTableCells : endTableCells.slice(0, -1);\n      cleanCells(startTableCellsToClean.concat(endTableCellsToClean));\n      betweenRng.deleteContents();\n      collapseAndRestoreCellSelection(editor);\n      return true;\n    };\n    var deleteCellContents = function (editor, rng, cell, moveSelection) {\n      if (moveSelection === void 0) {\n        moveSelection = true;\n      }\n      rng.deleteContents();\n      var lastNode = freefallRtl(cell).getOr(cell);\n      var lastBlock = SugarElement.fromDom(editor.dom.getParent(lastNode.dom, editor.dom.isBlock));\n      if (isEmpty$2(lastBlock)) {\n        fillWithPaddingBr(lastBlock);\n        if (moveSelection) {\n          editor.selection.setCursorLocation(lastBlock.dom, 0);\n        }\n      }\n      if (!eq(cell, lastBlock)) {\n        var additionalCleanupNodes = is$1(parent(lastBlock), cell) ? [] : siblings(lastBlock);\n        each$k(additionalCleanupNodes.concat(children(cell)), function (node) {\n          if (!eq(node, lastBlock) && !contains$1(node, lastBlock) && isEmpty$2(node)) {\n            remove$7(node);\n          }\n        });\n      }\n      return true;\n    };\n    var deleteTableElement = function (editor, table) {\n      deleteElement$2(editor, false, table);\n      return true;\n    };\n    var deleteCellRange = function (editor, rootElm, rng) {\n      return getActionFromRange(rootElm, rng).map(function (action) {\n        return action.fold(curry(deleteCellContents, editor), curry(deleteTableElement, editor), curry(emptySingleTableCells, editor), curry(emptyMultiTableCells, editor));\n      });\n    };\n    var deleteCaptionRange = function (editor, caption) {\n      return emptyElement(editor, caption);\n    };\n    var deleteTableRange = function (editor, rootElm, rng, startElm) {\n      return getParentCaption(rootElm, startElm).fold(function () {\n        return deleteCellRange(editor, rootElm, rng);\n      }, function (caption) {\n        return deleteCaptionRange(editor, caption);\n      }).getOr(false);\n    };\n    var deleteRange$2 = function (editor, startElm, selectedCells) {\n      var rootNode = SugarElement.fromDom(editor.getBody());\n      var rng = editor.selection.getRng();\n      return selectedCells.length !== 0 ? emptySingleTableCells(editor, selectedCells, Optional.none()) : deleteTableRange(editor, rootNode, rng, startElm);\n    };\n    var getParentCell = function (rootElm, elm) {\n      return find$3(parentsAndSelf(elm, rootElm), isTableCell$4);\n    };\n    var getParentCaption = function (rootElm, elm) {\n      return find$3(parentsAndSelf(elm, rootElm), isTag('caption'));\n    };\n    var deleteBetweenCells = function (editor, rootElm, forward, fromCell, from) {\n      return navigate(forward, editor.getBody(), from).bind(function (to) {\n        return getParentCell(rootElm, SugarElement.fromDom(to.getNode())).map(function (toCell) {\n          return eq(toCell, fromCell) === false;\n        });\n      });\n    };\n    var emptyElement = function (editor, elm) {\n      fillWithPaddingBr(elm);\n      editor.selection.setCursorLocation(elm.dom, 0);\n      return Optional.some(true);\n    };\n    var isDeleteOfLastCharPos = function (fromCaption, forward, from, to) {\n      return firstPositionIn(fromCaption.dom).bind(function (first) {\n        return lastPositionIn(fromCaption.dom).map(function (last) {\n          return forward ? from.isEqual(first) && to.isEqual(last) : from.isEqual(last) && to.isEqual(first);\n        });\n      }).getOr(true);\n    };\n    var emptyCaretCaption = function (editor, elm) {\n      return emptyElement(editor, elm);\n    };\n    var validateCaretCaption = function (rootElm, fromCaption, to) {\n      return getParentCaption(rootElm, SugarElement.fromDom(to.getNode())).map(function (toCaption) {\n        return eq(toCaption, fromCaption) === false;\n      });\n    };\n    var deleteCaretInsideCaption = function (editor, rootElm, forward, fromCaption, from) {\n      return navigate(forward, editor.getBody(), from).bind(function (to) {\n        return isDeleteOfLastCharPos(fromCaption, forward, from, to) ? emptyCaretCaption(editor, fromCaption) : validateCaretCaption(rootElm, fromCaption, to);\n      }).or(Optional.some(true));\n    };\n    var deleteCaretCells = function (editor, forward, rootElm, startElm) {\n      var from = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return getParentCell(rootElm, startElm).bind(function (fromCell) {\n        return isEmpty$2(fromCell) ? emptyElement(editor, fromCell) : deleteBetweenCells(editor, rootElm, forward, fromCell, from);\n      }).getOr(false);\n    };\n    var deleteCaretCaption = function (editor, forward, rootElm, fromCaption) {\n      var from = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return isEmpty$2(fromCaption) ? emptyElement(editor, fromCaption) : deleteCaretInsideCaption(editor, rootElm, forward, fromCaption, from);\n    };\n    var isNearTable = function (forward, pos) {\n      return forward ? isBeforeTable(pos) : isAfterTable(pos);\n    };\n    var isBeforeOrAfterTable = function (editor, forward) {\n      var fromPos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return isNearTable(forward, fromPos) || fromPosition(forward, editor.getBody(), fromPos).exists(function (pos) {\n        return isNearTable(forward, pos);\n      });\n    };\n    var deleteCaret$3 = function (editor, forward, startElm) {\n      var rootElm = SugarElement.fromDom(editor.getBody());\n      return getParentCaption(rootElm, startElm).fold(function () {\n        return deleteCaretCells(editor, forward, rootElm, startElm) || isBeforeOrAfterTable(editor, forward);\n      }, function (fromCaption) {\n        return deleteCaretCaption(editor, forward, rootElm, fromCaption).getOr(false);\n      });\n    };\n    var backspaceDelete$9 = function (editor, forward) {\n      var startElm = SugarElement.fromDom(editor.selection.getStart(true));\n      var cells = getCellsFromEditor(editor);\n      return editor.selection.isCollapsed() && cells.length === 0 ? deleteCaret$3(editor, forward, startElm) : deleteRange$2(editor, startElm, cells);\n    };\n\n    var createRange = function (sc, so, ec, eo) {\n      var rng = document.createRange();\n      rng.setStart(sc, so);\n      rng.setEnd(ec, eo);\n      return rng;\n    };\n    var normalizeBlockSelectionRange = function (rng) {\n      var startPos = CaretPosition.fromRangeStart(rng);\n      var endPos = CaretPosition.fromRangeEnd(rng);\n      var rootNode = rng.commonAncestorContainer;\n      return fromPosition(false, rootNode, endPos).map(function (newEndPos) {\n        if (!isInSameBlock(startPos, endPos, rootNode) && isInSameBlock(startPos, newEndPos, rootNode)) {\n          return createRange(startPos.container(), startPos.offset(), newEndPos.container(), newEndPos.offset());\n        } else {\n          return rng;\n        }\n      }).getOr(rng);\n    };\n    var normalize = function (rng) {\n      return rng.collapsed ? rng : normalizeBlockSelectionRange(rng);\n    };\n\n    var hasOnlyOneChild$1 = function (node) {\n      return node.firstChild && node.firstChild === node.lastChild;\n    };\n    var isPaddingNode = function (node) {\n      return node.name === 'br' || node.value === nbsp;\n    };\n    var isPaddedEmptyBlock = function (schema, node) {\n      var blockElements = schema.getBlockElements();\n      return blockElements[node.name] && hasOnlyOneChild$1(node) && isPaddingNode(node.firstChild);\n    };\n    var isEmptyFragmentElement = function (schema, node) {\n      var nonEmptyElements = schema.getNonEmptyElements();\n      return node && (node.isEmpty(nonEmptyElements) || isPaddedEmptyBlock(schema, node));\n    };\n    var isListFragment = function (schema, fragment) {\n      var firstChild = fragment.firstChild;\n      var lastChild = fragment.lastChild;\n      if (firstChild && firstChild.name === 'meta') {\n        firstChild = firstChild.next;\n      }\n      if (lastChild && lastChild.attr('id') === 'mce_marker') {\n        lastChild = lastChild.prev;\n      }\n      if (isEmptyFragmentElement(schema, lastChild)) {\n        lastChild = lastChild.prev;\n      }\n      if (!firstChild || firstChild !== lastChild) {\n        return false;\n      }\n      return firstChild.name === 'ul' || firstChild.name === 'ol';\n    };\n    var cleanupDomFragment = function (domFragment) {\n      var firstChild = domFragment.firstChild;\n      var lastChild = domFragment.lastChild;\n      if (firstChild && firstChild.nodeName === 'META') {\n        firstChild.parentNode.removeChild(firstChild);\n      }\n      if (lastChild && lastChild.id === 'mce_marker') {\n        lastChild.parentNode.removeChild(lastChild);\n      }\n      return domFragment;\n    };\n    var toDomFragment = function (dom, serializer, fragment) {\n      var html = serializer.serialize(fragment);\n      var domFragment = dom.createFragment(html);\n      return cleanupDomFragment(domFragment);\n    };\n    var listItems = function (elm) {\n      return filter$4(elm.childNodes, function (child) {\n        return child.nodeName === 'LI';\n      });\n    };\n    var isPadding = function (node) {\n      return node.data === nbsp || isBr$5(node);\n    };\n    var isListItemPadded = function (node) {\n      return node && node.firstChild && node.firstChild === node.lastChild && isPadding(node.firstChild);\n    };\n    var isEmptyOrPadded = function (elm) {\n      return !elm.firstChild || isListItemPadded(elm);\n    };\n    var trimListItems = function (elms) {\n      return elms.length > 0 && isEmptyOrPadded(elms[elms.length - 1]) ? elms.slice(0, -1) : elms;\n    };\n    var getParentLi = function (dom, node) {\n      var parentBlock = dom.getParent(node, dom.isBlock);\n      return parentBlock && parentBlock.nodeName === 'LI' ? parentBlock : null;\n    };\n    var isParentBlockLi = function (dom, node) {\n      return !!getParentLi(dom, node);\n    };\n    var getSplit = function (parentNode, rng) {\n      var beforeRng = rng.cloneRange();\n      var afterRng = rng.cloneRange();\n      beforeRng.setStartBefore(parentNode);\n      afterRng.setEndAfter(parentNode);\n      return [\n        beforeRng.cloneContents(),\n        afterRng.cloneContents()\n      ];\n    };\n    var findFirstIn = function (node, rootNode) {\n      var caretPos = CaretPosition.before(node);\n      var caretWalker = CaretWalker(rootNode);\n      var newCaretPos = caretWalker.next(caretPos);\n      return newCaretPos ? newCaretPos.toRange() : null;\n    };\n    var findLastOf = function (node, rootNode) {\n      var caretPos = CaretPosition.after(node);\n      var caretWalker = CaretWalker(rootNode);\n      var newCaretPos = caretWalker.prev(caretPos);\n      return newCaretPos ? newCaretPos.toRange() : null;\n    };\n    var insertMiddle = function (target, elms, rootNode, rng) {\n      var parts = getSplit(target, rng);\n      var parentElm = target.parentNode;\n      parentElm.insertBefore(parts[0], target);\n      Tools.each(elms, function (li) {\n        parentElm.insertBefore(li, target);\n      });\n      parentElm.insertBefore(parts[1], target);\n      parentElm.removeChild(target);\n      return findLastOf(elms[elms.length - 1], rootNode);\n    };\n    var insertBefore$1 = function (target, elms, rootNode) {\n      var parentElm = target.parentNode;\n      Tools.each(elms, function (elm) {\n        parentElm.insertBefore(elm, target);\n      });\n      return findFirstIn(target, rootNode);\n    };\n    var insertAfter$1 = function (target, elms, rootNode, dom) {\n      dom.insertAfter(elms.reverse(), target);\n      return findLastOf(elms[0], rootNode);\n    };\n    var insertAtCaret$1 = function (serializer, dom, rng, fragment) {\n      var domFragment = toDomFragment(dom, serializer, fragment);\n      var liTarget = getParentLi(dom, rng.startContainer);\n      var liElms = trimListItems(listItems(domFragment.firstChild));\n      var BEGINNING = 1, END = 2;\n      var rootNode = dom.getRoot();\n      var isAt = function (location) {\n        var caretPos = CaretPosition.fromRangeStart(rng);\n        var caretWalker = CaretWalker(dom.getRoot());\n        var newPos = location === BEGINNING ? caretWalker.prev(caretPos) : caretWalker.next(caretPos);\n        return newPos ? getParentLi(dom, newPos.getNode()) !== liTarget : true;\n      };\n      if (isAt(BEGINNING)) {\n        return insertBefore$1(liTarget, liElms, rootNode);\n      } else if (isAt(END)) {\n        return insertAfter$1(liTarget, liElms, rootNode, dom);\n      }\n      return insertMiddle(liTarget, liElms, rootNode, rng);\n    };\n\n    var trimOrPadLeftRight = function (dom, rng, html) {\n      var root = SugarElement.fromDom(dom.getRoot());\n      if (needsToBeNbspLeft(root, CaretPosition.fromRangeStart(rng))) {\n        html = html.replace(/^ /, '&nbsp;');\n      } else {\n        html = html.replace(/^&nbsp;/, ' ');\n      }\n      if (needsToBeNbspRight(root, CaretPosition.fromRangeEnd(rng))) {\n        html = html.replace(/(&nbsp;| )(<br( \\/)>)?$/, '&nbsp;');\n      } else {\n        html = html.replace(/&nbsp;(<br( \\/)?>)?$/, ' ');\n      }\n      return html;\n    };\n\n    var isTableCell$1 = isTableCell$5;\n    var isTableCellContentSelected = function (dom, rng, cell) {\n      if (cell !== null) {\n        var endCell = dom.getParent(rng.endContainer, isTableCell$1);\n        return cell === endCell && hasAllContentsSelected(SugarElement.fromDom(cell), rng);\n      } else {\n        return false;\n      }\n    };\n    var validInsertion = function (editor, value, parentNode) {\n      if (parentNode.getAttribute('data-mce-bogus') === 'all') {\n        parentNode.parentNode.insertBefore(editor.dom.createFragment(value), parentNode);\n      } else {\n        var node = parentNode.firstChild;\n        var node2 = parentNode.lastChild;\n        if (!node || node === node2 && node.nodeName === 'BR') {\n          editor.dom.setHTML(parentNode, value);\n        } else {\n          editor.selection.setContent(value);\n        }\n      }\n    };\n    var trimBrsFromTableCell = function (dom, elm) {\n      Optional.from(dom.getParent(elm, 'td,th')).map(SugarElement.fromDom).each(trimBlockTrailingBr);\n    };\n    var reduceInlineTextElements = function (editor, merge) {\n      var textInlineElements = editor.schema.getTextInlineElements();\n      var dom = editor.dom;\n      if (merge) {\n        var root_1 = editor.getBody();\n        var elementUtils_1 = ElementUtils(dom);\n        Tools.each(dom.select('*[data-mce-fragment]'), function (node) {\n          var isInline = isNonNullable(textInlineElements[node.nodeName.toLowerCase()]);\n          if (isInline && hasInheritableStyles(dom, node)) {\n            for (var parentNode = node.parentNode; isNonNullable(parentNode) && parentNode !== root_1; parentNode = parentNode.parentNode) {\n              var styleConflict = hasStyleConflict(dom, node, parentNode);\n              if (styleConflict) {\n                break;\n              }\n              if (elementUtils_1.compare(parentNode, node)) {\n                dom.remove(node, true);\n                break;\n              }\n            }\n          }\n        });\n      }\n    };\n    var markFragmentElements = function (fragment) {\n      var node = fragment;\n      while (node = node.walk()) {\n        if (node.type === 1) {\n          node.attr('data-mce-fragment', '1');\n        }\n      }\n    };\n    var unmarkFragmentElements = function (elm) {\n      Tools.each(elm.getElementsByTagName('*'), function (elm) {\n        elm.removeAttribute('data-mce-fragment');\n      });\n    };\n    var isPartOfFragment = function (node) {\n      return !!node.getAttribute('data-mce-fragment');\n    };\n    var canHaveChildren = function (editor, node) {\n      return node && !editor.schema.getShortEndedElements()[node.nodeName];\n    };\n    var moveSelectionToMarker = function (editor, marker) {\n      var nextRng;\n      var dom = editor.dom;\n      var selection = editor.selection;\n      if (!marker) {\n        return;\n      }\n      selection.scrollIntoView(marker);\n      var parentEditableElm = getContentEditableRoot$1(editor.getBody(), marker);\n      if (dom.getContentEditable(parentEditableElm) === 'false') {\n        dom.remove(marker);\n        selection.select(parentEditableElm);\n        return;\n      }\n      var rng = dom.createRng();\n      var node = marker.previousSibling;\n      if (isText$7(node)) {\n        rng.setStart(node, node.nodeValue.length);\n        if (!Env.ie) {\n          var node2 = marker.nextSibling;\n          if (isText$7(node2)) {\n            node.appendData(node2.data);\n            node2.parentNode.removeChild(node2);\n          }\n        }\n      } else {\n        rng.setStartBefore(marker);\n        rng.setEndBefore(marker);\n      }\n      var findNextCaretRng = function (rng) {\n        var caretPos = CaretPosition.fromRangeStart(rng);\n        var caretWalker = CaretWalker(editor.getBody());\n        caretPos = caretWalker.next(caretPos);\n        if (caretPos) {\n          return caretPos.toRange();\n        }\n      };\n      var parentBlock = dom.getParent(marker, dom.isBlock);\n      dom.remove(marker);\n      if (parentBlock && dom.isEmpty(parentBlock)) {\n        editor.$(parentBlock).empty();\n        rng.setStart(parentBlock, 0);\n        rng.setEnd(parentBlock, 0);\n        if (!isTableCell$1(parentBlock) && !isPartOfFragment(parentBlock) && (nextRng = findNextCaretRng(rng))) {\n          rng = nextRng;\n          dom.remove(parentBlock);\n        } else {\n          dom.add(parentBlock, dom.create('br', { 'data-mce-bogus': '1' }));\n        }\n      }\n      selection.setRng(rng);\n    };\n    var deleteSelectedContent = function (editor) {\n      var dom = editor.dom;\n      var rng = normalize(editor.selection.getRng());\n      editor.selection.setRng(rng);\n      var startCell = dom.getParent(rng.startContainer, isTableCell$1);\n      if (isTableCellContentSelected(dom, rng, startCell)) {\n        deleteCellContents(editor, rng, SugarElement.fromDom(startCell));\n      } else {\n        editor.getDoc().execCommand('Delete', false, null);\n      }\n    };\n    var insertHtmlAtCaret = function (editor, value, details) {\n      var parentNode;\n      var rng, node;\n      var selection = editor.selection;\n      var dom = editor.dom;\n      if (/^ | $/.test(value)) {\n        value = trimOrPadLeftRight(dom, selection.getRng(), value);\n      }\n      var parser = editor.parser;\n      var merge = details.merge;\n      var serializer = HtmlSerializer({ validate: shouldValidate(editor) }, editor.schema);\n      var bookmarkHtml = '<span id=\"mce_marker\" data-mce-type=\"bookmark\">&#xFEFF;</span>';\n      var args = editor.fire('BeforeSetContent', {\n        content: value,\n        format: 'html',\n        selection: true,\n        paste: details.paste\n      });\n      if (args.isDefaultPrevented()) {\n        editor.fire('SetContent', {\n          content: args.content,\n          format: 'html',\n          selection: true,\n          paste: details.paste\n        });\n        return;\n      }\n      value = args.content;\n      if (value.indexOf('{$caret}') === -1) {\n        value += '{$caret}';\n      }\n      value = value.replace(/\\{\\$caret\\}/, bookmarkHtml);\n      rng = selection.getRng();\n      var caretElement = rng.startContainer || (rng.parentElement ? rng.parentElement() : null);\n      var body = editor.getBody();\n      if (caretElement === body && selection.isCollapsed()) {\n        if (dom.isBlock(body.firstChild) && canHaveChildren(editor, body.firstChild) && dom.isEmpty(body.firstChild)) {\n          rng = dom.createRng();\n          rng.setStart(body.firstChild, 0);\n          rng.setEnd(body.firstChild, 0);\n          selection.setRng(rng);\n        }\n      }\n      if (!selection.isCollapsed()) {\n        deleteSelectedContent(editor);\n      }\n      parentNode = selection.getNode();\n      var parserArgs = {\n        context: parentNode.nodeName.toLowerCase(),\n        data: details.data,\n        insert: true\n      };\n      var fragment = parser.parse(value, parserArgs);\n      if (details.paste === true && isListFragment(editor.schema, fragment) && isParentBlockLi(dom, parentNode)) {\n        rng = insertAtCaret$1(serializer, dom, selection.getRng(), fragment);\n        selection.setRng(rng);\n        editor.fire('SetContent', args);\n        return;\n      }\n      markFragmentElements(fragment);\n      node = fragment.lastChild;\n      if (node.attr('id') === 'mce_marker') {\n        var marker = node;\n        for (node = node.prev; node; node = node.walk(true)) {\n          if (node.type === 3 || !dom.isBlock(node.name)) {\n            if (editor.schema.isValidChild(node.parent.name, 'span')) {\n              node.parent.insert(marker, node, node.name === 'br');\n            }\n            break;\n          }\n        }\n      }\n      editor._selectionOverrides.showBlockCaretContainer(parentNode);\n      if (!parserArgs.invalid) {\n        value = serializer.serialize(fragment);\n        validInsertion(editor, value, parentNode);\n      } else {\n        editor.selection.setContent(bookmarkHtml);\n        parentNode = selection.getNode();\n        var rootNode = editor.getBody();\n        if (parentNode.nodeType === 9) {\n          parentNode = node = rootNode;\n        } else {\n          node = parentNode;\n        }\n        while (node !== rootNode) {\n          parentNode = node;\n          node = node.parentNode;\n        }\n        value = parentNode === rootNode ? rootNode.innerHTML : dom.getOuterHTML(parentNode);\n        value = serializer.serialize(parser.parse(value.replace(/<span (id=\"mce_marker\"|id=mce_marker).+?<\\/span>/i, function () {\n          return serializer.serialize(fragment);\n        })));\n        if (parentNode === rootNode) {\n          dom.setHTML(rootNode, value);\n        } else {\n          dom.setOuterHTML(parentNode, value);\n        }\n      }\n      reduceInlineTextElements(editor, merge);\n      moveSelectionToMarker(editor, dom.get('mce_marker'));\n      unmarkFragmentElements(editor.getBody());\n      trimBrsFromTableCell(dom, selection.getStart());\n      editor.fire('SetContent', args);\n      editor.addVisual();\n    };\n\n    var traverse = function (node, fn) {\n      fn(node);\n      if (node.firstChild) {\n        traverse(node.firstChild, fn);\n      }\n      if (node.next) {\n        traverse(node.next, fn);\n      }\n    };\n    var findMatchingNodes = function (nodeFilters, attributeFilters, node) {\n      var nodeMatches = {};\n      var attrMatches = {};\n      var matches = [];\n      if (node.firstChild) {\n        traverse(node.firstChild, function (node) {\n          each$k(nodeFilters, function (filter) {\n            if (filter.name === node.name) {\n              if (nodeMatches[filter.name]) {\n                nodeMatches[filter.name].nodes.push(node);\n              } else {\n                nodeMatches[filter.name] = {\n                  filter: filter,\n                  nodes: [node]\n                };\n              }\n            }\n          });\n          each$k(attributeFilters, function (filter) {\n            if (typeof node.attr(filter.name) === 'string') {\n              if (attrMatches[filter.name]) {\n                attrMatches[filter.name].nodes.push(node);\n              } else {\n                attrMatches[filter.name] = {\n                  filter: filter,\n                  nodes: [node]\n                };\n              }\n            }\n          });\n        });\n      }\n      for (var name_1 in nodeMatches) {\n        if (has$2(nodeMatches, name_1)) {\n          matches.push(nodeMatches[name_1]);\n        }\n      }\n      for (var name_2 in attrMatches) {\n        if (has$2(attrMatches, name_2)) {\n          matches.push(attrMatches[name_2]);\n        }\n      }\n      return matches;\n    };\n    var filter$1 = function (nodeFilters, attributeFilters, node) {\n      var matches = findMatchingNodes(nodeFilters, attributeFilters, node);\n      each$k(matches, function (match) {\n        each$k(match.filter.callbacks, function (callback) {\n          callback(match.nodes, match.filter.name, {});\n        });\n      });\n    };\n\n    var defaultFormat$1 = 'html';\n    var isTreeNode = function (content) {\n      return content instanceof AstNode;\n    };\n    var moveSelection = function (editor) {\n      if (hasFocus(editor)) {\n        firstPositionIn(editor.getBody()).each(function (pos) {\n          var node = pos.getNode();\n          var caretPos = isTable$3(node) ? firstPositionIn(node).getOr(pos) : pos;\n          editor.selection.setRng(caretPos.toRange());\n        });\n      }\n    };\n    var setEditorHtml = function (editor, html, noSelection) {\n      editor.dom.setHTML(editor.getBody(), html);\n      if (noSelection !== true) {\n        moveSelection(editor);\n      }\n    };\n    var setContentString = function (editor, body, content, args) {\n      if (content.length === 0 || /^\\s+$/.test(content)) {\n        var padd = '<br data-mce-bogus=\"1\">';\n        if (body.nodeName === 'TABLE') {\n          content = '<tr><td>' + padd + '</td></tr>';\n        } else if (/^(UL|OL)$/.test(body.nodeName)) {\n          content = '<li>' + padd + '</li>';\n        }\n        var forcedRootBlockName = getForcedRootBlock(editor);\n        if (forcedRootBlockName && editor.schema.isValidChild(body.nodeName.toLowerCase(), forcedRootBlockName.toLowerCase())) {\n          content = padd;\n          content = editor.dom.createHTML(forcedRootBlockName, getForcedRootBlockAttrs(editor), content);\n        } else if (!content) {\n          content = '<br data-mce-bogus=\"1\">';\n        }\n        setEditorHtml(editor, content, args.no_selection);\n        editor.fire('SetContent', args);\n      } else {\n        if (args.format !== 'raw') {\n          content = HtmlSerializer({ validate: editor.validate }, editor.schema).serialize(editor.parser.parse(content, {\n            isRootContent: true,\n            insert: true\n          }));\n        }\n        args.content = isWsPreserveElement(SugarElement.fromDom(body)) ? content : Tools.trim(content);\n        setEditorHtml(editor, args.content, args.no_selection);\n        if (!args.no_events) {\n          editor.fire('SetContent', args);\n        }\n      }\n      return args.content;\n    };\n    var setContentTree = function (editor, body, content, args) {\n      filter$1(editor.parser.getNodeFilters(), editor.parser.getAttributeFilters(), content);\n      var html = HtmlSerializer({ validate: editor.validate }, editor.schema).serialize(content);\n      args.content = isWsPreserveElement(SugarElement.fromDom(body)) ? html : Tools.trim(html);\n      setEditorHtml(editor, args.content, args.no_selection);\n      if (!args.no_events) {\n        editor.fire('SetContent', args);\n      }\n      return content;\n    };\n    var setupArgs$2 = function (args, content) {\n      return __assign(__assign({ format: defaultFormat$1 }, args), {\n        set: true,\n        content: isTreeNode(content) ? '' : content\n      });\n    };\n    var setContentInternal = function (editor, content, args) {\n      var defaultedArgs = setupArgs$2(args, content);\n      var updatedArgs = args.no_events ? defaultedArgs : editor.fire('BeforeSetContent', defaultedArgs);\n      if (!isTreeNode(content)) {\n        content = updatedArgs.content;\n      }\n      return Optional.from(editor.getBody()).fold(constant(content), function (body) {\n        return isTreeNode(content) ? setContentTree(editor, body, content, updatedArgs) : setContentString(editor, body, content, updatedArgs);\n      });\n    };\n\n    var sibling = function (scope, predicate) {\n      return sibling$2(scope, predicate).isSome();\n    };\n\n    var ensureIsRoot = function (isRoot) {\n      return isFunction(isRoot) ? isRoot : never;\n    };\n    var ancestor = function (scope, transform, isRoot) {\n      var element = scope.dom;\n      var stop = ensureIsRoot(isRoot);\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = SugarElement.fromDom(element);\n        var transformed = transform(el);\n        if (transformed.isSome()) {\n          return transformed;\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var closest$1 = function (scope, transform, isRoot) {\n      var current = transform(scope);\n      var stop = ensureIsRoot(isRoot);\n      return current.orThunk(function () {\n        return stop(scope) ? Optional.none() : ancestor(scope, transform, stop);\n      });\n    };\n\n    var isEq$3 = isEq$5;\n    var matchesUnInheritedFormatSelector = function (ed, node, name) {\n      var formatList = ed.formatter.get(name);\n      if (formatList) {\n        for (var i = 0; i < formatList.length; i++) {\n          var format = formatList[i];\n          if (isSelectorFormat(format) && format.inherit === false && ed.dom.is(node, format.selector)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    var matchParents = function (editor, node, name, vars, similar) {\n      var root = editor.dom.getRoot();\n      if (node === root) {\n        return false;\n      }\n      node = editor.dom.getParent(node, function (node) {\n        if (matchesUnInheritedFormatSelector(editor, node, name)) {\n          return true;\n        }\n        return node.parentNode === root || !!matchNode(editor, node, name, vars, true);\n      });\n      return !!matchNode(editor, node, name, vars, similar);\n    };\n    var matchName$1 = function (dom, node, format) {\n      if (isEq$3(node, format.inline)) {\n        return true;\n      }\n      if (isEq$3(node, format.block)) {\n        return true;\n      }\n      if (format.selector) {\n        return node.nodeType === 1 && dom.is(node, format.selector);\n      }\n    };\n    var matchItems = function (dom, node, format, itemName, similar, vars) {\n      var items = format[itemName];\n      if (isFunction(format.onmatch)) {\n        return format.onmatch(node, format, itemName);\n      }\n      if (items) {\n        if (isUndefined(items.length)) {\n          for (var key in items) {\n            if (has$2(items, key)) {\n              var value = itemName === 'attributes' ? dom.getAttrib(node, key) : getStyle(dom, node, key);\n              var expectedValue = replaceVars(items[key], vars);\n              var isEmptyValue = isNullable(value) || isEmpty$3(value);\n              if (isEmptyValue && isNullable(expectedValue)) {\n                continue;\n              }\n              if (similar && isEmptyValue && !format.exact) {\n                return false;\n              }\n              if ((!similar || format.exact) && !isEq$3(value, normalizeStyleValue(dom, expectedValue, key))) {\n                return false;\n              }\n            }\n          }\n        } else {\n          for (var i = 0; i < items.length; i++) {\n            if (itemName === 'attributes' ? dom.getAttrib(node, items[i]) : getStyle(dom, node, items[i])) {\n              return true;\n            }\n          }\n        }\n      }\n      return true;\n    };\n    var matchNode = function (ed, node, name, vars, similar) {\n      var formatList = ed.formatter.get(name);\n      var dom = ed.dom;\n      if (formatList && node) {\n        for (var i = 0; i < formatList.length; i++) {\n          var format = formatList[i];\n          if (matchName$1(ed.dom, node, format) && matchItems(dom, node, format, 'attributes', similar, vars) && matchItems(dom, node, format, 'styles', similar, vars)) {\n            var classes = format.classes;\n            if (classes) {\n              for (var x = 0; x < classes.length; x++) {\n                if (!ed.dom.hasClass(node, replaceVars(classes[x], vars))) {\n                  return;\n                }\n              }\n            }\n            return format;\n          }\n        }\n      }\n    };\n    var match$2 = function (editor, name, vars, node, similar) {\n      if (node) {\n        return matchParents(editor, node, name, vars, similar);\n      }\n      node = editor.selection.getNode();\n      if (matchParents(editor, node, name, vars, similar)) {\n        return true;\n      }\n      var startNode = editor.selection.getStart();\n      if (startNode !== node) {\n        if (matchParents(editor, startNode, name, vars, similar)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var matchAll = function (editor, names, vars) {\n      var matchedFormatNames = [];\n      var checkedMap = {};\n      var startElement = editor.selection.getStart();\n      editor.dom.getParent(startElement, function (node) {\n        for (var i = 0; i < names.length; i++) {\n          var name_1 = names[i];\n          if (!checkedMap[name_1] && matchNode(editor, node, name_1, vars)) {\n            checkedMap[name_1] = true;\n            matchedFormatNames.push(name_1);\n          }\n        }\n      }, editor.dom.getRoot());\n      return matchedFormatNames;\n    };\n    var closest = function (editor, names) {\n      var isRoot = function (elm) {\n        return eq(elm, SugarElement.fromDom(editor.getBody()));\n      };\n      var match = function (elm, name) {\n        return matchNode(editor, elm.dom, name) ? Optional.some(name) : Optional.none();\n      };\n      return Optional.from(editor.selection.getStart(true)).bind(function (rawElm) {\n        return closest$1(SugarElement.fromDom(rawElm), function (elm) {\n          return findMap(names, function (name) {\n            return match(elm, name);\n          });\n        }, isRoot);\n      }).getOrNull();\n    };\n    var canApply = function (editor, name) {\n      var formatList = editor.formatter.get(name);\n      var dom = editor.dom;\n      if (formatList) {\n        var startNode = editor.selection.getStart();\n        var parents = getParents$2(dom, startNode);\n        for (var x = formatList.length - 1; x >= 0; x--) {\n          var format = formatList[x];\n          if (!isSelectorFormat(format) || isNonNullable(format.defaultBlock)) {\n            return true;\n          }\n          for (var i = parents.length - 1; i >= 0; i--) {\n            if (dom.is(parents[i], format.selector)) {\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    };\n    var matchAllOnNode = function (editor, node, formatNames) {\n      return foldl(formatNames, function (acc, name) {\n        var matchSimilar = isVariableFormatName(editor, name);\n        if (editor.formatter.matchNode(node, name, {}, matchSimilar)) {\n          return acc.concat([name]);\n        } else {\n          return acc;\n        }\n      }, []);\n    };\n\n    var ZWSP = ZWSP$1, CARET_ID = '_mce_caret';\n    var importNode = function (ownerDocument, node) {\n      return ownerDocument.importNode(node, true);\n    };\n    var getEmptyCaretContainers = function (node) {\n      var nodes = [];\n      while (node) {\n        if (node.nodeType === 3 && node.nodeValue !== ZWSP || node.childNodes.length > 1) {\n          return [];\n        }\n        if (node.nodeType === 1) {\n          nodes.push(node);\n        }\n        node = node.firstChild;\n      }\n      return nodes;\n    };\n    var isCaretContainerEmpty = function (node) {\n      return getEmptyCaretContainers(node).length > 0;\n    };\n    var findFirstTextNode = function (node) {\n      if (node) {\n        var walker = new DomTreeWalker(node, node);\n        for (node = walker.current(); node; node = walker.next()) {\n          if (isText$7(node)) {\n            return node;\n          }\n        }\n      }\n      return null;\n    };\n    var createCaretContainer = function (fill) {\n      var caretContainer = SugarElement.fromTag('span');\n      setAll$1(caretContainer, {\n        'id': CARET_ID,\n        'data-mce-bogus': '1',\n        'data-mce-type': 'format-caret'\n      });\n      if (fill) {\n        append$1(caretContainer, SugarElement.fromText(ZWSP));\n      }\n      return caretContainer;\n    };\n    var trimZwspFromCaretContainer = function (caretContainerNode) {\n      var textNode = findFirstTextNode(caretContainerNode);\n      if (textNode && textNode.nodeValue.charAt(0) === ZWSP) {\n        textNode.deleteData(0, 1);\n      }\n      return textNode;\n    };\n    var removeCaretContainerNode = function (editor, node, moveCaret) {\n      if (moveCaret === void 0) {\n        moveCaret = true;\n      }\n      var dom = editor.dom, selection = editor.selection;\n      if (isCaretContainerEmpty(node)) {\n        deleteElement$2(editor, false, SugarElement.fromDom(node), moveCaret);\n      } else {\n        var rng = selection.getRng();\n        var block = dom.getParent(node, dom.isBlock);\n        var startContainer = rng.startContainer;\n        var startOffset = rng.startOffset;\n        var endContainer = rng.endContainer;\n        var endOffset = rng.endOffset;\n        var textNode = trimZwspFromCaretContainer(node);\n        dom.remove(node, true);\n        if (startContainer === textNode && startOffset > 0) {\n          rng.setStart(textNode, startOffset - 1);\n        }\n        if (endContainer === textNode && endOffset > 0) {\n          rng.setEnd(textNode, endOffset - 1);\n        }\n        if (block && dom.isEmpty(block)) {\n          fillWithPaddingBr(SugarElement.fromDom(block));\n        }\n        selection.setRng(rng);\n      }\n    };\n    var removeCaretContainer = function (editor, node, moveCaret) {\n      if (moveCaret === void 0) {\n        moveCaret = true;\n      }\n      var dom = editor.dom, selection = editor.selection;\n      if (!node) {\n        node = getParentCaretContainer(editor.getBody(), selection.getStart());\n        if (!node) {\n          while (node = dom.get(CARET_ID)) {\n            removeCaretContainerNode(editor, node, false);\n          }\n        }\n      } else {\n        removeCaretContainerNode(editor, node, moveCaret);\n      }\n    };\n    var insertCaretContainerNode = function (editor, caretContainer, formatNode) {\n      var dom = editor.dom, block = dom.getParent(formatNode, curry(isTextBlock$1, editor));\n      if (block && dom.isEmpty(block)) {\n        formatNode.parentNode.replaceChild(caretContainer, formatNode);\n      } else {\n        removeTrailingBr(SugarElement.fromDom(formatNode));\n        if (dom.isEmpty(formatNode)) {\n          formatNode.parentNode.replaceChild(caretContainer, formatNode);\n        } else {\n          dom.insertAfter(caretContainer, formatNode);\n        }\n      }\n    };\n    var appendNode = function (parentNode, node) {\n      parentNode.appendChild(node);\n      return node;\n    };\n    var insertFormatNodesIntoCaretContainer = function (formatNodes, caretContainer) {\n      var innerMostFormatNode = foldr(formatNodes, function (parentNode, formatNode) {\n        return appendNode(parentNode, formatNode.cloneNode(false));\n      }, caretContainer);\n      return appendNode(innerMostFormatNode, innerMostFormatNode.ownerDocument.createTextNode(ZWSP));\n    };\n    var cleanFormatNode = function (editor, caretContainer, formatNode, name, vars, similar) {\n      var formatter = editor.formatter;\n      var dom = editor.dom;\n      var validFormats = filter$4(keys(formatter.get()), function (formatName) {\n        return formatName !== name && !contains$2(formatName, 'removeformat');\n      });\n      var matchedFormats = matchAllOnNode(editor, formatNode, validFormats);\n      var uniqueFormats = filter$4(matchedFormats, function (fmtName) {\n        return !areSimilarFormats(editor, fmtName, name);\n      });\n      if (uniqueFormats.length > 0) {\n        var clonedFormatNode = formatNode.cloneNode(false);\n        dom.add(caretContainer, clonedFormatNode);\n        formatter.remove(name, vars, clonedFormatNode, similar);\n        dom.remove(clonedFormatNode);\n        return Optional.some(clonedFormatNode);\n      } else {\n        return Optional.none();\n      }\n    };\n    var applyCaretFormat = function (editor, name, vars) {\n      var caretContainer, textNode;\n      var selection = editor.selection;\n      var selectionRng = selection.getRng();\n      var offset = selectionRng.startOffset;\n      var container = selectionRng.startContainer;\n      var text = container.nodeValue;\n      caretContainer = getParentCaretContainer(editor.getBody(), selection.getStart());\n      if (caretContainer) {\n        textNode = findFirstTextNode(caretContainer);\n      }\n      var wordcharRegex = /[^\\s\\u00a0\\u00ad\\u200b\\ufeff]/;\n      if (text && offset > 0 && offset < text.length && wordcharRegex.test(text.charAt(offset)) && wordcharRegex.test(text.charAt(offset - 1))) {\n        var bookmark = selection.getBookmark();\n        selectionRng.collapse(true);\n        var rng = expandRng(editor, selectionRng, editor.formatter.get(name));\n        rng = split(rng);\n        editor.formatter.apply(name, vars, rng);\n        selection.moveToBookmark(bookmark);\n      } else {\n        if (!caretContainer || textNode.nodeValue !== ZWSP) {\n          caretContainer = importNode(editor.getDoc(), createCaretContainer(true).dom);\n          textNode = caretContainer.firstChild;\n          selectionRng.insertNode(caretContainer);\n          offset = 1;\n          editor.formatter.apply(name, vars, caretContainer);\n        } else {\n          editor.formatter.apply(name, vars, caretContainer);\n        }\n        selection.setCursorLocation(textNode, offset);\n      }\n    };\n    var removeCaretFormat = function (editor, name, vars, similar) {\n      var dom = editor.dom;\n      var selection = editor.selection;\n      var hasContentAfter, node, formatNode;\n      var parents = [];\n      var rng = selection.getRng();\n      var container = rng.startContainer;\n      var offset = rng.startOffset;\n      node = container;\n      if (container.nodeType === 3) {\n        if (offset !== container.nodeValue.length) {\n          hasContentAfter = true;\n        }\n        node = node.parentNode;\n      }\n      while (node) {\n        if (matchNode(editor, node, name, vars, similar)) {\n          formatNode = node;\n          break;\n        }\n        if (node.nextSibling) {\n          hasContentAfter = true;\n        }\n        parents.push(node);\n        node = node.parentNode;\n      }\n      if (!formatNode) {\n        return;\n      }\n      if (hasContentAfter) {\n        var bookmark = selection.getBookmark();\n        rng.collapse(true);\n        var expandedRng = expandRng(editor, rng, editor.formatter.get(name), true);\n        expandedRng = split(expandedRng);\n        editor.formatter.remove(name, vars, expandedRng, similar);\n        selection.moveToBookmark(bookmark);\n      } else {\n        var caretContainer = getParentCaretContainer(editor.getBody(), formatNode);\n        var newCaretContainer = createCaretContainer(false).dom;\n        insertCaretContainerNode(editor, newCaretContainer, caretContainer !== null ? caretContainer : formatNode);\n        var cleanedFormatNode = cleanFormatNode(editor, newCaretContainer, formatNode, name, vars, similar);\n        var caretTextNode = insertFormatNodesIntoCaretContainer(parents.concat(cleanedFormatNode.toArray()), newCaretContainer);\n        removeCaretContainerNode(editor, caretContainer, false);\n        selection.setCursorLocation(caretTextNode, 1);\n        if (dom.isEmpty(formatNode)) {\n          dom.remove(formatNode);\n        }\n      }\n    };\n    var disableCaretContainer = function (editor, keyCode) {\n      var selection = editor.selection, body = editor.getBody();\n      removeCaretContainer(editor, null, false);\n      if ((keyCode === 8 || keyCode === 46) && selection.isCollapsed() && selection.getStart().innerHTML === ZWSP) {\n        removeCaretContainer(editor, getParentCaretContainer(body, selection.getStart()));\n      }\n      if (keyCode === 37 || keyCode === 39) {\n        removeCaretContainer(editor, getParentCaretContainer(body, selection.getStart()));\n      }\n    };\n    var setup$k = function (editor) {\n      editor.on('mouseup keydown', function (e) {\n        disableCaretContainer(editor, e.keyCode);\n      });\n    };\n    var replaceWithCaretFormat = function (targetNode, formatNodes) {\n      var caretContainer = createCaretContainer(false);\n      var innerMost = insertFormatNodesIntoCaretContainer(formatNodes, caretContainer.dom);\n      before$4(SugarElement.fromDom(targetNode), caretContainer);\n      remove$7(SugarElement.fromDom(targetNode));\n      return CaretPosition(innerMost, 0);\n    };\n    var isFormatElement = function (editor, element) {\n      var inlineElements = editor.schema.getTextInlineElements();\n      return has$2(inlineElements, name(element)) && !isCaretNode(element.dom) && !isBogus$2(element.dom);\n    };\n    var isEmptyCaretFormatElement = function (element) {\n      return isCaretNode(element.dom) && isCaretContainerEmpty(element.dom);\n    };\n\n    var postProcessHooks = {};\n    var filter = filter$2;\n    var each$b = each$i;\n    var addPostProcessHook = function (name, hook) {\n      var hooks = postProcessHooks[name];\n      if (!hooks) {\n        postProcessHooks[name] = [];\n      }\n      postProcessHooks[name].push(hook);\n    };\n    var postProcess$1 = function (name, editor) {\n      each$b(postProcessHooks[name], function (hook) {\n        hook(editor);\n      });\n    };\n    addPostProcessHook('pre', function (editor) {\n      var rng = editor.selection.getRng();\n      var blocks;\n      var hasPreSibling = function (pre) {\n        return isPre(pre.previousSibling) && indexOf$1(blocks, pre.previousSibling) !== -1;\n      };\n      var joinPre = function (pre1, pre2) {\n        DomQuery(pre2).remove();\n        DomQuery(pre1).append('<br><br>').append(pre2.childNodes);\n      };\n      var isPre = matchNodeNames(['pre']);\n      if (!rng.collapsed) {\n        blocks = editor.selection.getSelectedBlocks();\n        each$b(filter(filter(blocks, isPre), hasPreSibling), function (pre) {\n          joinPre(pre.previousSibling, pre);\n        });\n      }\n    });\n\n    var each$a = Tools.each;\n    var isElementNode$1 = function (node) {\n      return isElement$5(node) && !isBookmarkNode$1(node) && !isCaretNode(node) && !isBogus$2(node);\n    };\n    var findElementSibling = function (node, siblingName) {\n      for (var sibling = node; sibling; sibling = sibling[siblingName]) {\n        if (isText$7(sibling) && isNotEmpty(sibling.data)) {\n          return node;\n        }\n        if (isElement$5(sibling) && !isBookmarkNode$1(sibling)) {\n          return sibling;\n        }\n      }\n      return node;\n    };\n    var mergeSiblingsNodes = function (dom, prev, next) {\n      var elementUtils = ElementUtils(dom);\n      if (prev && next) {\n        prev = findElementSibling(prev, 'previousSibling');\n        next = findElementSibling(next, 'nextSibling');\n        if (elementUtils.compare(prev, next)) {\n          for (var sibling = prev.nextSibling; sibling && sibling !== next;) {\n            var tmpSibling = sibling;\n            sibling = sibling.nextSibling;\n            prev.appendChild(tmpSibling);\n          }\n          dom.remove(next);\n          Tools.each(Tools.grep(next.childNodes), function (node) {\n            prev.appendChild(node);\n          });\n          return prev;\n        }\n      }\n      return next;\n    };\n    var mergeSiblings = function (dom, format, vars, node) {\n      if (node && format.merge_siblings !== false) {\n        var newNode = mergeSiblingsNodes(dom, getNonWhiteSpaceSibling(node), node);\n        mergeSiblingsNodes(dom, newNode, getNonWhiteSpaceSibling(newNode, true));\n      }\n    };\n    var clearChildStyles = function (dom, format, node) {\n      if (format.clear_child_styles) {\n        var selector = format.links ? '*:not(a)' : '*';\n        each$a(dom.select(selector, node), function (node) {\n          if (isElementNode$1(node)) {\n            each$a(format.styles, function (value, name) {\n              dom.setStyle(node, name, '');\n            });\n          }\n        });\n      }\n    };\n    var processChildElements = function (node, filter, process) {\n      each$a(node.childNodes, function (node) {\n        if (isElementNode$1(node)) {\n          if (filter(node)) {\n            process(node);\n          }\n          if (node.hasChildNodes()) {\n            processChildElements(node, filter, process);\n          }\n        }\n      });\n    };\n    var unwrapEmptySpan = function (dom, node) {\n      if (node.nodeName === 'SPAN' && dom.getAttribs(node).length === 0) {\n        dom.remove(node, true);\n      }\n    };\n    var hasStyle = function (dom, name) {\n      return function (node) {\n        return !!(node && getStyle(dom, node, name));\n      };\n    };\n    var applyStyle = function (dom, name, value) {\n      return function (node) {\n        dom.setStyle(node, name, value);\n        if (node.getAttribute('style') === '') {\n          node.removeAttribute('style');\n        }\n        unwrapEmptySpan(dom, node);\n      };\n    };\n\n    var removeResult = Adt.generate([\n      { keep: [] },\n      { rename: ['name'] },\n      { removed: [] }\n    ]);\n    var MCE_ATTR_RE = /^(src|href|style)$/;\n    var each$9 = Tools.each;\n    var isEq$2 = isEq$5;\n    var isTableCellOrRow = function (node) {\n      return /^(TR|TH|TD)$/.test(node.nodeName);\n    };\n    var isChildOfInlineParent = function (dom, node, parent) {\n      return dom.isChildOf(node, parent) && node !== parent && !dom.isBlock(parent);\n    };\n    var getContainer = function (ed, rng, start) {\n      var container = rng[start ? 'startContainer' : 'endContainer'];\n      var offset = rng[start ? 'startOffset' : 'endOffset'];\n      if (isElement$5(container)) {\n        var lastIdx = container.childNodes.length - 1;\n        if (!start && offset) {\n          offset--;\n        }\n        container = container.childNodes[offset > lastIdx ? lastIdx : offset];\n      }\n      if (isText$7(container) && start && offset >= container.nodeValue.length) {\n        container = new DomTreeWalker(container, ed.getBody()).next() || container;\n      }\n      if (isText$7(container) && !start && offset === 0) {\n        container = new DomTreeWalker(container, ed.getBody()).prev() || container;\n      }\n      return container;\n    };\n    var normalizeTableSelection = function (node, start) {\n      var prop = start ? 'firstChild' : 'lastChild';\n      if (isTableCellOrRow(node) && node[prop]) {\n        var childNode = node[prop];\n        if (node.nodeName === 'TR') {\n          return childNode[prop] || childNode;\n        } else {\n          return childNode;\n        }\n      }\n      return node;\n    };\n    var wrap$1 = function (dom, node, name, attrs) {\n      var wrapper = dom.create(name, attrs);\n      node.parentNode.insertBefore(wrapper, node);\n      wrapper.appendChild(node);\n      return wrapper;\n    };\n    var wrapWithSiblings = function (dom, node, next, name, attrs) {\n      var start = SugarElement.fromDom(node);\n      var wrapper = SugarElement.fromDom(dom.create(name, attrs));\n      var siblings = next ? nextSiblings(start) : prevSiblings(start);\n      append(wrapper, siblings);\n      if (next) {\n        before$4(start, wrapper);\n        prepend(wrapper, start);\n      } else {\n        after$3(start, wrapper);\n        append$1(wrapper, start);\n      }\n      return wrapper.dom;\n    };\n    var matchName = function (dom, node, format) {\n      if (isInlineFormat(format) && isEq$2(node, format.inline)) {\n        return true;\n      }\n      if (isBlockFormat(format) && isEq$2(node, format.block)) {\n        return true;\n      }\n      if (isSelectorFormat(format)) {\n        return isElement$5(node) && dom.is(node, format.selector);\n      }\n    };\n    var isColorFormatAndAnchor = function (node, format) {\n      return format.links && node.nodeName === 'A';\n    };\n    var find = function (dom, node, next, inc) {\n      var sibling = getNonWhiteSpaceSibling(node, next, inc);\n      return isNullable(sibling) || sibling.nodeName === 'BR' || dom.isBlock(sibling);\n    };\n    var removeNode = function (ed, node, format) {\n      var parentNode = node.parentNode;\n      var rootBlockElm;\n      var dom = ed.dom, forcedRootBlock = getForcedRootBlock(ed);\n      if (isBlockFormat(format)) {\n        if (!forcedRootBlock) {\n          if (dom.isBlock(node) && !dom.isBlock(parentNode)) {\n            if (!find(dom, node, false) && !find(dom, node.firstChild, true, true)) {\n              node.insertBefore(dom.create('br'), node.firstChild);\n            }\n            if (!find(dom, node, true) && !find(dom, node.lastChild, false, true)) {\n              node.appendChild(dom.create('br'));\n            }\n          }\n        } else {\n          if (parentNode === dom.getRoot()) {\n            if (!format.list_block || !isEq$2(node, format.list_block)) {\n              each$k(from(node.childNodes), function (node) {\n                if (isValid(ed, forcedRootBlock, node.nodeName.toLowerCase())) {\n                  if (!rootBlockElm) {\n                    rootBlockElm = wrap$1(dom, node, forcedRootBlock);\n                    dom.setAttribs(rootBlockElm, ed.settings.forced_root_block_attrs);\n                  } else {\n                    rootBlockElm.appendChild(node);\n                  }\n                } else {\n                  rootBlockElm = null;\n                }\n              });\n            }\n          }\n        }\n      }\n      if (isMixedFormat(format) && !isEq$2(format.inline, node)) {\n        return;\n      }\n      dom.remove(node, true);\n    };\n    var removeFormatInternal = function (ed, format, vars, node, compareNode) {\n      var stylesModified;\n      var dom = ed.dom;\n      if (!matchName(dom, node, format) && !isColorFormatAndAnchor(node, format)) {\n        return removeResult.keep();\n      }\n      var elm = node;\n      if (isInlineFormat(format) && format.remove === 'all' && isArray$1(format.preserve_attributes)) {\n        var attrsToPreserve = filter$4(dom.getAttribs(elm), function (attr) {\n          return contains$3(format.preserve_attributes, attr.name.toLowerCase());\n        });\n        dom.removeAllAttribs(elm);\n        each$k(attrsToPreserve, function (attr) {\n          return dom.setAttrib(elm, attr.name, attr.value);\n        });\n        if (attrsToPreserve.length > 0) {\n          return removeResult.rename('span');\n        }\n      }\n      if (format.remove !== 'all') {\n        each$9(format.styles, function (value, name) {\n          value = normalizeStyleValue(dom, replaceVars(value, vars), name + '');\n          if (isNumber(name)) {\n            name = value;\n            compareNode = null;\n          }\n          if (format.remove_similar || (!compareNode || isEq$2(getStyle(dom, compareNode, name), value))) {\n            dom.setStyle(elm, name, '');\n          }\n          stylesModified = true;\n        });\n        if (stylesModified && dom.getAttrib(elm, 'style') === '') {\n          elm.removeAttribute('style');\n          elm.removeAttribute('data-mce-style');\n        }\n        each$9(format.attributes, function (value, name) {\n          var valueOut;\n          value = replaceVars(value, vars);\n          if (isNumber(name)) {\n            name = value;\n            compareNode = null;\n          }\n          if (format.remove_similar || (!compareNode || isEq$2(dom.getAttrib(compareNode, name), value))) {\n            if (name === 'class') {\n              value = dom.getAttrib(elm, name);\n              if (value) {\n                valueOut = '';\n                each$k(value.split(/\\s+/), function (cls) {\n                  if (/mce\\-\\w+/.test(cls)) {\n                    valueOut += (valueOut ? ' ' : '') + cls;\n                  }\n                });\n                if (valueOut) {\n                  dom.setAttrib(elm, name, valueOut);\n                  return;\n                }\n              }\n            }\n            if (MCE_ATTR_RE.test(name)) {\n              elm.removeAttribute('data-mce-' + name);\n            }\n            if (name === 'style' && matchNodeNames(['li'])(elm) && dom.getStyle(elm, 'list-style-type') === 'none') {\n              elm.removeAttribute(name);\n              dom.setStyle(elm, 'list-style-type', 'none');\n              return;\n            }\n            if (name === 'class') {\n              elm.removeAttribute('className');\n            }\n            elm.removeAttribute(name);\n          }\n        });\n        each$9(format.classes, function (value) {\n          value = replaceVars(value, vars);\n          if (!compareNode || dom.hasClass(compareNode, value)) {\n            dom.removeClass(elm, value);\n          }\n        });\n        var attrs = dom.getAttribs(elm);\n        for (var i = 0; i < attrs.length; i++) {\n          var attrName = attrs[i].nodeName;\n          if (attrName.indexOf('_') !== 0 && attrName.indexOf('data-') !== 0) {\n            return removeResult.keep();\n          }\n        }\n      }\n      if (format.remove !== 'none') {\n        removeNode(ed, elm, format);\n        return removeResult.removed();\n      }\n      return removeResult.keep();\n    };\n    var removeFormat$1 = function (ed, format, vars, node, compareNode) {\n      return removeFormatInternal(ed, format, vars, node, compareNode).fold(never, function (newName) {\n        ed.dom.rename(node, newName);\n        return true;\n      }, always);\n    };\n    var findFormatRoot = function (editor, container, name, vars, similar) {\n      var formatRoot;\n      each$k(getParents$2(editor.dom, container.parentNode).reverse(), function (parent) {\n        if (!formatRoot && parent.id !== '_start' && parent.id !== '_end') {\n          var format = matchNode(editor, parent, name, vars, similar);\n          if (format && format.split !== false) {\n            formatRoot = parent;\n          }\n        }\n      });\n      return formatRoot;\n    };\n    var removeFormatFromClone = function (editor, format, vars, clone) {\n      return removeFormatInternal(editor, format, vars, clone, clone).fold(constant(clone), function (newName) {\n        var fragment = editor.dom.createFragment();\n        fragment.appendChild(clone);\n        return editor.dom.rename(clone, newName);\n      }, constant(null));\n    };\n    var wrapAndSplit = function (editor, formatList, formatRoot, container, target, split, format, vars) {\n      var clone, lastClone, firstClone;\n      var dom = editor.dom;\n      if (formatRoot) {\n        var formatRootParent = formatRoot.parentNode;\n        for (var parent_1 = container.parentNode; parent_1 && parent_1 !== formatRootParent; parent_1 = parent_1.parentNode) {\n          clone = dom.clone(parent_1, false);\n          for (var i = 0; i < formatList.length; i++) {\n            clone = removeFormatFromClone(editor, formatList[i], vars, clone);\n            if (clone === null) {\n              break;\n            }\n          }\n          if (clone) {\n            if (lastClone) {\n              clone.appendChild(lastClone);\n            }\n            if (!firstClone) {\n              firstClone = clone;\n            }\n            lastClone = clone;\n          }\n        }\n        if (split && (!format.mixed || !dom.isBlock(formatRoot))) {\n          container = dom.split(formatRoot, container);\n        }\n        if (lastClone) {\n          target.parentNode.insertBefore(lastClone, target);\n          firstClone.appendChild(target);\n          if (isInlineFormat(format)) {\n            mergeSiblings(dom, format, vars, lastClone);\n          }\n        }\n      }\n      return container;\n    };\n    var remove$1 = function (ed, name, vars, node, similar) {\n      var formatList = ed.formatter.get(name);\n      var format = formatList[0];\n      var contentEditable = true;\n      var dom = ed.dom;\n      var selection = ed.selection;\n      var splitToFormatRoot = function (container) {\n        var formatRoot = findFormatRoot(ed, container, name, vars, similar);\n        return wrapAndSplit(ed, formatList, formatRoot, container, container, true, format, vars);\n      };\n      var isRemoveBookmarkNode = function (node) {\n        return isBookmarkNode$1(node) && isElement$5(node) && (node.id === '_start' || node.id === '_end');\n      };\n      var removeNodeFormat = function (node) {\n        return exists(formatList, function (fmt) {\n          return removeFormat$1(ed, fmt, vars, node, node);\n        });\n      };\n      var process = function (node) {\n        var lastContentEditable = true;\n        var hasContentEditableState = false;\n        if (isElement$5(node) && dom.getContentEditable(node)) {\n          lastContentEditable = contentEditable;\n          contentEditable = dom.getContentEditable(node) === 'true';\n          hasContentEditableState = true;\n        }\n        var children = from(node.childNodes);\n        if (contentEditable && !hasContentEditableState) {\n          var removed = removeNodeFormat(node);\n          var currentNodeMatches = removed || exists(formatList, function (f) {\n            return matchName$1(dom, node, f);\n          });\n          var parentNode = node.parentNode;\n          if (!currentNodeMatches && isNonNullable(parentNode) && shouldExpandToSelector(format)) {\n            removeNodeFormat(parentNode);\n          }\n        }\n        if (format.deep) {\n          if (children.length) {\n            for (var i = 0; i < children.length; i++) {\n              process(children[i]);\n            }\n            if (hasContentEditableState) {\n              contentEditable = lastContentEditable;\n            }\n          }\n        }\n        var textDecorations = [\n          'underline',\n          'line-through',\n          'overline'\n        ];\n        each$k(textDecorations, function (decoration) {\n          if (isElement$5(node) && ed.dom.getStyle(node, 'text-decoration') === decoration && node.parentNode && getTextDecoration(dom, node.parentNode) === decoration) {\n            removeFormat$1(ed, {\n              deep: false,\n              exact: true,\n              inline: 'span',\n              styles: { textDecoration: decoration }\n            }, null, node);\n          }\n        });\n      };\n      var unwrap = function (start) {\n        var node = dom.get(start ? '_start' : '_end');\n        var out = node[start ? 'firstChild' : 'lastChild'];\n        if (isRemoveBookmarkNode(out)) {\n          out = out[start ? 'firstChild' : 'lastChild'];\n        }\n        if (isText$7(out) && out.data.length === 0) {\n          out = start ? node.previousSibling || node.nextSibling : node.nextSibling || node.previousSibling;\n        }\n        dom.remove(node, true);\n        return out;\n      };\n      var removeRngStyle = function (rng) {\n        var startContainer, endContainer;\n        var expandedRng = expandRng(ed, rng, formatList, rng.collapsed);\n        if (format.split) {\n          expandedRng = split(expandedRng);\n          startContainer = getContainer(ed, expandedRng, true);\n          endContainer = getContainer(ed, expandedRng);\n          if (startContainer !== endContainer) {\n            startContainer = normalizeTableSelection(startContainer, true);\n            endContainer = normalizeTableSelection(endContainer, false);\n            if (isChildOfInlineParent(dom, startContainer, endContainer)) {\n              var marker = Optional.from(startContainer.firstChild).getOr(startContainer);\n              splitToFormatRoot(wrapWithSiblings(dom, marker, true, 'span', {\n                'id': '_start',\n                'data-mce-type': 'bookmark'\n              }));\n              unwrap(true);\n              return;\n            }\n            if (isChildOfInlineParent(dom, endContainer, startContainer)) {\n              var marker = Optional.from(endContainer.lastChild).getOr(endContainer);\n              splitToFormatRoot(wrapWithSiblings(dom, marker, false, 'span', {\n                'id': '_end',\n                'data-mce-type': 'bookmark'\n              }));\n              unwrap(false);\n              return;\n            }\n            startContainer = wrap$1(dom, startContainer, 'span', {\n              'id': '_start',\n              'data-mce-type': 'bookmark'\n            });\n            endContainer = wrap$1(dom, endContainer, 'span', {\n              'id': '_end',\n              'data-mce-type': 'bookmark'\n            });\n            var newRng = dom.createRng();\n            newRng.setStartAfter(startContainer);\n            newRng.setEndBefore(endContainer);\n            walk$2(dom, newRng, function (nodes) {\n              each$k(nodes, function (n) {\n                if (!isBookmarkNode$1(n) && !isBookmarkNode$1(n.parentNode)) {\n                  splitToFormatRoot(n);\n                }\n              });\n            });\n            splitToFormatRoot(startContainer);\n            splitToFormatRoot(endContainer);\n            startContainer = unwrap(true);\n            endContainer = unwrap();\n          } else {\n            startContainer = endContainer = splitToFormatRoot(startContainer);\n          }\n          expandedRng.startContainer = startContainer.parentNode ? startContainer.parentNode : startContainer;\n          expandedRng.startOffset = dom.nodeIndex(startContainer);\n          expandedRng.endContainer = endContainer.parentNode ? endContainer.parentNode : endContainer;\n          expandedRng.endOffset = dom.nodeIndex(endContainer) + 1;\n        }\n        walk$2(dom, expandedRng, function (nodes) {\n          each$k(nodes, process);\n        });\n      };\n      if (node) {\n        if (isNode(node)) {\n          var rng = dom.createRng();\n          rng.setStartBefore(node);\n          rng.setEndAfter(node);\n          removeRngStyle(rng);\n        } else {\n          removeRngStyle(node);\n        }\n        fireFormatRemove(ed, name, node, vars);\n        return;\n      }\n      if (dom.getContentEditable(selection.getNode()) === 'false') {\n        node = selection.getNode();\n        for (var i = 0; i < formatList.length; i++) {\n          if (formatList[i].ceFalseOverride) {\n            if (removeFormat$1(ed, formatList[i], vars, node, node)) {\n              break;\n            }\n          }\n        }\n        fireFormatRemove(ed, name, node, vars);\n        return;\n      }\n      if (!selection.isCollapsed() || !isInlineFormat(format) || getCellsFromEditor(ed).length) {\n        preserve(selection, true, function () {\n          runOnRanges(ed, removeRngStyle);\n        });\n        if (isInlineFormat(format) && match$2(ed, name, vars, selection.getStart())) {\n          moveStart(dom, selection, selection.getRng());\n        }\n        ed.nodeChanged();\n      } else {\n        removeCaretFormat(ed, name, vars, similar);\n      }\n      fireFormatRemove(ed, name, node, vars);\n    };\n\n    var each$8 = Tools.each;\n    var mergeTextDecorationsAndColor = function (dom, format, vars, node) {\n      var processTextDecorationsAndColor = function (n) {\n        if (n.nodeType === 1 && n.parentNode && n.parentNode.nodeType === 1) {\n          var textDecoration = getTextDecoration(dom, n.parentNode);\n          if (dom.getStyle(n, 'color') && textDecoration) {\n            dom.setStyle(n, 'text-decoration', textDecoration);\n          } else if (dom.getStyle(n, 'text-decoration') === textDecoration) {\n            dom.setStyle(n, 'text-decoration', null);\n          }\n        }\n      };\n      if (format.styles && (format.styles.color || format.styles.textDecoration)) {\n        Tools.walk(node, processTextDecorationsAndColor, 'childNodes');\n        processTextDecorationsAndColor(node);\n      }\n    };\n    var mergeBackgroundColorAndFontSize = function (dom, format, vars, node) {\n      if (format.styles && format.styles.backgroundColor) {\n        processChildElements(node, hasStyle(dom, 'fontSize'), applyStyle(dom, 'backgroundColor', replaceVars(format.styles.backgroundColor, vars)));\n      }\n    };\n    var mergeSubSup = function (dom, format, vars, node) {\n      if (isInlineFormat(format) && (format.inline === 'sub' || format.inline === 'sup')) {\n        processChildElements(node, hasStyle(dom, 'fontSize'), applyStyle(dom, 'fontSize', ''));\n        dom.remove(dom.select(format.inline === 'sup' ? 'sub' : 'sup', node), true);\n      }\n    };\n    var mergeWithChildren = function (editor, formatList, vars, node) {\n      each$8(formatList, function (format) {\n        if (isInlineFormat(format)) {\n          each$8(editor.dom.select(format.inline, node), function (child) {\n            if (!isElementNode$1(child)) {\n              return;\n            }\n            removeFormat$1(editor, format, vars, child, format.exact ? child : null);\n          });\n        }\n        clearChildStyles(editor.dom, format, node);\n      });\n    };\n    var mergeWithParents = function (editor, format, name, vars, node) {\n      if (matchNode(editor, node.parentNode, name, vars)) {\n        if (removeFormat$1(editor, format, vars, node)) {\n          return;\n        }\n      }\n      if (format.merge_with_parents) {\n        editor.dom.getParent(node.parentNode, function (parent) {\n          if (matchNode(editor, parent, name, vars)) {\n            removeFormat$1(editor, format, vars, node);\n            return true;\n          }\n        });\n      }\n    };\n\n    var each$7 = Tools.each;\n    var isElementNode = function (node) {\n      return isElement$5(node) && !isBookmarkNode$1(node) && !isCaretNode(node) && !isBogus$2(node);\n    };\n    var canFormatBR = function (editor, format, node, parentName) {\n      if (canFormatEmptyLines(editor) && isInlineFormat(format)) {\n        var validBRParentElements = __assign(__assign({}, editor.schema.getTextBlockElements()), {\n          td: {},\n          th: {},\n          li: {},\n          dt: {},\n          dd: {},\n          figcaption: {},\n          caption: {},\n          details: {},\n          summary: {}\n        });\n        var hasCaretNodeSibling = sibling(SugarElement.fromDom(node), function (sibling) {\n          return isCaretNode(sibling.dom);\n        });\n        return hasNonNullableKey(validBRParentElements, parentName) && isEmpty$2(SugarElement.fromDom(node.parentNode), false) && !hasCaretNodeSibling;\n      } else {\n        return false;\n      }\n    };\n    var applyFormat$1 = function (ed, name, vars, node) {\n      var formatList = ed.formatter.get(name);\n      var format = formatList[0];\n      var isCollapsed = !node && ed.selection.isCollapsed();\n      var dom = ed.dom;\n      var selection = ed.selection;\n      var setElementFormat = function (elm, fmt) {\n        if (fmt === void 0) {\n          fmt = format;\n        }\n        if (isFunction(fmt.onformat)) {\n          fmt.onformat(elm, fmt, vars, node);\n        }\n        each$7(fmt.styles, function (value, name) {\n          dom.setStyle(elm, name, replaceVars(value, vars));\n        });\n        if (fmt.styles) {\n          var styleVal = dom.getAttrib(elm, 'style');\n          if (styleVal) {\n            dom.setAttrib(elm, 'data-mce-style', styleVal);\n          }\n        }\n        each$7(fmt.attributes, function (value, name) {\n          dom.setAttrib(elm, name, replaceVars(value, vars));\n        });\n        each$7(fmt.classes, function (value) {\n          value = replaceVars(value, vars);\n          if (!dom.hasClass(elm, value)) {\n            dom.addClass(elm, value);\n          }\n        });\n      };\n      var applyNodeStyle = function (formatList, node) {\n        var found = false;\n        each$7(formatList, function (format) {\n          if (!isSelectorFormat(format)) {\n            return false;\n          }\n          if (isNonNullable(format.collapsed) && format.collapsed !== isCollapsed) {\n            return;\n          }\n          if (dom.is(node, format.selector) && !isCaretNode(node)) {\n            setElementFormat(node, format);\n            found = true;\n            return false;\n          }\n        });\n        return found;\n      };\n      var createWrapElement = function (wrapName) {\n        if (isString$1(wrapName)) {\n          var wrapElm = dom.create(wrapName);\n          setElementFormat(wrapElm);\n          return wrapElm;\n        } else {\n          return null;\n        }\n      };\n      var applyRngStyle = function (dom, rng, nodeSpecific) {\n        var newWrappers = [];\n        var contentEditable = true;\n        var wrapName = format.inline || format.block;\n        var wrapElm = createWrapElement(wrapName);\n        walk$2(dom, rng, function (nodes) {\n          var currentWrapElm;\n          var process = function (node) {\n            var hasContentEditableState = false;\n            var lastContentEditable = contentEditable;\n            var nodeName = node.nodeName.toLowerCase();\n            var parentNode = node.parentNode;\n            var parentName = parentNode.nodeName.toLowerCase();\n            if (isElement$5(node) && dom.getContentEditable(node)) {\n              lastContentEditable = contentEditable;\n              contentEditable = dom.getContentEditable(node) === 'true';\n              hasContentEditableState = true;\n            }\n            if (isBr$5(node) && !canFormatBR(ed, format, node, parentName)) {\n              currentWrapElm = null;\n              if (isBlockFormat(format)) {\n                dom.remove(node);\n              }\n              return;\n            }\n            if (isBlockFormat(format) && format.wrapper && matchNode(ed, node, name, vars)) {\n              currentWrapElm = null;\n              return;\n            }\n            if (contentEditable && !hasContentEditableState && isBlockFormat(format) && !format.wrapper && isTextBlock$1(ed, nodeName) && isValid(ed, parentName, wrapName)) {\n              var elm = dom.rename(node, wrapName);\n              setElementFormat(elm);\n              newWrappers.push(elm);\n              currentWrapElm = null;\n              return;\n            }\n            if (isSelectorFormat(format)) {\n              var found = applyNodeStyle(formatList, node);\n              if (!found && isNonNullable(parentNode) && shouldExpandToSelector(format)) {\n                found = applyNodeStyle(formatList, parentNode);\n              }\n              if (!isInlineFormat(format) || found) {\n                currentWrapElm = null;\n                return;\n              }\n            }\n            if (contentEditable && !hasContentEditableState && isValid(ed, wrapName, nodeName) && isValid(ed, parentName, wrapName) && !(!nodeSpecific && isText$7(node) && isZwsp(node.data)) && !isCaretNode(node) && (!isInlineFormat(format) || !dom.isBlock(node))) {\n              if (!currentWrapElm) {\n                currentWrapElm = dom.clone(wrapElm, false);\n                node.parentNode.insertBefore(currentWrapElm, node);\n                newWrappers.push(currentWrapElm);\n              }\n              currentWrapElm.appendChild(node);\n            } else {\n              currentWrapElm = null;\n              each$k(from(node.childNodes), process);\n              if (hasContentEditableState) {\n                contentEditable = lastContentEditable;\n              }\n              currentWrapElm = null;\n            }\n          };\n          each$k(nodes, process);\n        });\n        if (format.links === true) {\n          each$k(newWrappers, function (node) {\n            var process = function (node) {\n              if (node.nodeName === 'A') {\n                setElementFormat(node, format);\n              }\n              each$k(from(node.childNodes), process);\n            };\n            process(node);\n          });\n        }\n        each$k(newWrappers, function (node) {\n          var getChildCount = function (node) {\n            var count = 0;\n            each$k(node.childNodes, function (node) {\n              if (!isEmptyTextNode$1(node) && !isBookmarkNode$1(node)) {\n                count++;\n              }\n            });\n            return count;\n          };\n          var mergeStyles = function (node) {\n            var childElement = find$3(node.childNodes, isElementNode).filter(function (child) {\n              return matchName$1(dom, child, format);\n            });\n            return childElement.map(function (child) {\n              var clone = dom.clone(child, false);\n              setElementFormat(clone);\n              dom.replace(clone, node, true);\n              dom.remove(child, true);\n              return clone;\n            }).getOr(node);\n          };\n          var childCount = getChildCount(node);\n          if ((newWrappers.length > 1 || !dom.isBlock(node)) && childCount === 0) {\n            dom.remove(node, true);\n            return;\n          }\n          if (isInlineFormat(format) || isBlockFormat(format) && format.wrapper) {\n            if (!format.exact && childCount === 1) {\n              node = mergeStyles(node);\n            }\n            mergeWithChildren(ed, formatList, vars, node);\n            mergeWithParents(ed, format, name, vars, node);\n            mergeBackgroundColorAndFontSize(dom, format, vars, node);\n            mergeTextDecorationsAndColor(dom, format, vars, node);\n            mergeSubSup(dom, format, vars, node);\n            mergeSiblings(dom, format, vars, node);\n          }\n        });\n      };\n      if (dom.getContentEditable(selection.getNode()) === 'false') {\n        node = selection.getNode();\n        for (var i = 0, l = formatList.length; i < l; i++) {\n          var formatItem = formatList[i];\n          if (formatItem.ceFalseOverride && isSelectorFormat(formatItem) && dom.is(node, formatItem.selector)) {\n            setElementFormat(node, formatItem);\n            break;\n          }\n        }\n        fireFormatApply(ed, name, node, vars);\n        return;\n      }\n      if (format) {\n        if (node) {\n          if (isNode(node)) {\n            if (!applyNodeStyle(formatList, node)) {\n              var rng = dom.createRng();\n              rng.setStartBefore(node);\n              rng.setEndAfter(node);\n              applyRngStyle(dom, expandRng(ed, rng, formatList), true);\n            }\n          } else {\n            applyRngStyle(dom, node, true);\n          }\n        } else {\n          if (!isCollapsed || !isInlineFormat(format) || getCellsFromEditor(ed).length) {\n            var curSelNode = selection.getNode();\n            var firstFormat = formatList[0];\n            if (!ed.settings.forced_root_block && firstFormat.defaultBlock && !dom.getParent(curSelNode, dom.isBlock)) {\n              applyFormat$1(ed, firstFormat.defaultBlock);\n            }\n            selection.setRng(normalize(selection.getRng()));\n            preserve(selection, true, function () {\n              runOnRanges(ed, function (selectionRng, fake) {\n                var expandedRng = fake ? selectionRng : expandRng(ed, selectionRng, formatList);\n                applyRngStyle(dom, expandedRng, false);\n              });\n            });\n            moveStart(dom, selection, selection.getRng());\n            ed.nodeChanged();\n          } else {\n            applyCaretFormat(ed, name, vars);\n          }\n        }\n        postProcess$1(name, ed);\n      }\n      fireFormatApply(ed, name, node, vars);\n    };\n\n    var hasVars = function (value) {\n      return has$2(value, 'vars');\n    };\n    var setup$j = function (registeredFormatListeners, editor) {\n      registeredFormatListeners.set({});\n      editor.on('NodeChange', function (e) {\n        updateAndFireChangeCallbacks(editor, e.element, registeredFormatListeners.get());\n      });\n      editor.on('FormatApply FormatRemove', function (e) {\n        var element = Optional.from(e.node).map(function (nodeOrRange) {\n          return isNode(nodeOrRange) ? nodeOrRange : nodeOrRange.startContainer;\n        }).bind(function (node) {\n          return isElement$5(node) ? Optional.some(node) : Optional.from(node.parentElement);\n        }).getOrThunk(function () {\n          return fallbackElement(editor);\n        });\n        updateAndFireChangeCallbacks(editor, element, registeredFormatListeners.get());\n      });\n    };\n    var fallbackElement = function (editor) {\n      return editor.selection.getStart();\n    };\n    var matchingNode = function (editor, parents, format, similar, vars) {\n      var isMatchingNode = function (node) {\n        var matchingFormat = editor.formatter.matchNode(node, format, vars !== null && vars !== void 0 ? vars : {}, similar);\n        return !isUndefined(matchingFormat);\n      };\n      var isUnableToMatch = function (node) {\n        if (matchesUnInheritedFormatSelector(editor, node, format)) {\n          return true;\n        } else {\n          if (!similar) {\n            return isNonNullable(editor.formatter.matchNode(node, format, vars, true));\n          } else {\n            return false;\n          }\n        }\n      };\n      return findUntil$1(parents, isMatchingNode, isUnableToMatch);\n    };\n    var getParents = function (editor, elm) {\n      var element = elm !== null && elm !== void 0 ? elm : fallbackElement(editor);\n      return filter$4(getParents$2(editor.dom, element), function (node) {\n        return isElement$5(node) && !isBogus$2(node);\n      });\n    };\n    var updateAndFireChangeCallbacks = function (editor, elm, registeredCallbacks) {\n      var parents = getParents(editor, elm);\n      each$j(registeredCallbacks, function (data, format) {\n        var runIfChanged = function (spec) {\n          var match = matchingNode(editor, parents, format, spec.similar, hasVars(spec) ? spec.vars : undefined);\n          var isSet = match.isSome();\n          if (spec.state.get() !== isSet) {\n            spec.state.set(isSet);\n            var node_1 = match.getOr(elm);\n            if (hasVars(spec)) {\n              spec.callback(isSet, {\n                node: node_1,\n                format: format,\n                parents: parents\n              });\n            } else {\n              each$k(spec.callbacks, function (callback) {\n                return callback(isSet, {\n                  node: node_1,\n                  format: format,\n                  parents: parents\n                });\n              });\n            }\n          }\n        };\n        each$k([\n          data.withSimilar,\n          data.withoutSimilar\n        ], runIfChanged);\n        each$k(data.withVars, runIfChanged);\n      });\n    };\n    var addListeners = function (editor, registeredFormatListeners, formats, callback, similar, vars) {\n      var formatChangeItems = registeredFormatListeners.get();\n      each$k(formats.split(','), function (format) {\n        var group = get$9(formatChangeItems, format).getOrThunk(function () {\n          var base = {\n            withSimilar: {\n              state: Cell(false),\n              similar: true,\n              callbacks: []\n            },\n            withoutSimilar: {\n              state: Cell(false),\n              similar: false,\n              callbacks: []\n            },\n            withVars: []\n          };\n          formatChangeItems[format] = base;\n          return base;\n        });\n        var getCurrent = function () {\n          var parents = getParents(editor);\n          return matchingNode(editor, parents, format, similar, vars).isSome();\n        };\n        if (isUndefined(vars)) {\n          var toAppendTo = similar ? group.withSimilar : group.withoutSimilar;\n          toAppendTo.callbacks.push(callback);\n          if (toAppendTo.callbacks.length === 1) {\n            toAppendTo.state.set(getCurrent());\n          }\n        } else {\n          group.withVars.push({\n            state: Cell(getCurrent()),\n            similar: similar,\n            vars: vars,\n            callback: callback\n          });\n        }\n      });\n      registeredFormatListeners.set(formatChangeItems);\n    };\n    var removeListeners = function (registeredFormatListeners, formats, callback) {\n      var formatChangeItems = registeredFormatListeners.get();\n      each$k(formats.split(','), function (format) {\n        return get$9(formatChangeItems, format).each(function (group) {\n          formatChangeItems[format] = {\n            withSimilar: __assign(__assign({}, group.withSimilar), {\n              callbacks: filter$4(group.withSimilar.callbacks, function (cb) {\n                return cb !== callback;\n              })\n            }),\n            withoutSimilar: __assign(__assign({}, group.withoutSimilar), {\n              callbacks: filter$4(group.withoutSimilar.callbacks, function (cb) {\n                return cb !== callback;\n              })\n            }),\n            withVars: filter$4(group.withVars, function (item) {\n              return item.callback !== callback;\n            })\n          };\n        });\n      });\n      registeredFormatListeners.set(formatChangeItems);\n    };\n    var formatChangedInternal = function (editor, registeredFormatListeners, formats, callback, similar, vars) {\n      if (registeredFormatListeners.get() === null) {\n        setup$j(registeredFormatListeners, editor);\n      }\n      addListeners(editor, registeredFormatListeners, formats, callback, similar, vars);\n      return {\n        unbind: function () {\n          return removeListeners(registeredFormatListeners, formats, callback);\n        }\n      };\n    };\n\n    var toggle = function (editor, name, vars, node) {\n      var fmt = editor.formatter.get(name);\n      if (match$2(editor, name, vars, node) && (!('toggle' in fmt[0]) || fmt[0].toggle)) {\n        remove$1(editor, name, vars, node);\n      } else {\n        applyFormat$1(editor, name, vars, node);\n      }\n    };\n\n    var fromElements = function (elements, scope) {\n      var doc = scope || document;\n      var fragment = doc.createDocumentFragment();\n      each$k(elements, function (element) {\n        fragment.appendChild(element.dom);\n      });\n      return SugarElement.fromDom(fragment);\n    };\n\n    var tableModel = function (element, width, rows) {\n      return {\n        element: element,\n        width: width,\n        rows: rows\n      };\n    };\n    var tableRow = function (element, cells) {\n      return {\n        element: element,\n        cells: cells\n      };\n    };\n    var cellPosition = function (x, y) {\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var getSpan = function (td, key) {\n      var value = parseInt(get$6(td, key), 10);\n      return isNaN(value) ? 1 : value;\n    };\n    var fillout = function (table, x, y, tr, td) {\n      var rowspan = getSpan(td, 'rowspan');\n      var colspan = getSpan(td, 'colspan');\n      var rows = table.rows;\n      for (var y2 = y; y2 < y + rowspan; y2++) {\n        if (!rows[y2]) {\n          rows[y2] = tableRow(deep$1(tr), []);\n        }\n        for (var x2 = x; x2 < x + colspan; x2++) {\n          var cells = rows[y2].cells;\n          cells[x2] = y2 === y && x2 === x ? td : shallow(td);\n        }\n      }\n    };\n    var cellExists = function (table, x, y) {\n      var rows = table.rows;\n      var cells = rows[y] ? rows[y].cells : [];\n      return !!cells[x];\n    };\n    var skipCellsX = function (table, x, y) {\n      while (cellExists(table, x, y)) {\n        x++;\n      }\n      return x;\n    };\n    var getWidth = function (rows) {\n      return foldl(rows, function (acc, row) {\n        return row.cells.length > acc ? row.cells.length : acc;\n      }, 0);\n    };\n    var findElementPos = function (table, element) {\n      var rows = table.rows;\n      for (var y = 0; y < rows.length; y++) {\n        var cells = rows[y].cells;\n        for (var x = 0; x < cells.length; x++) {\n          if (eq(cells[x], element)) {\n            return Optional.some(cellPosition(x, y));\n          }\n        }\n      }\n      return Optional.none();\n    };\n    var extractRows = function (table, sx, sy, ex, ey) {\n      var newRows = [];\n      var rows = table.rows;\n      for (var y = sy; y <= ey; y++) {\n        var cells = rows[y].cells;\n        var slice = sx < ex ? cells.slice(sx, ex + 1) : cells.slice(ex, sx + 1);\n        newRows.push(tableRow(rows[y].element, slice));\n      }\n      return newRows;\n    };\n    var subTable = function (table, startPos, endPos) {\n      var sx = startPos.x, sy = startPos.y;\n      var ex = endPos.x, ey = endPos.y;\n      var newRows = sy < ey ? extractRows(table, sx, sy, ex, ey) : extractRows(table, sx, ey, ex, sy);\n      return tableModel(table.element, getWidth(newRows), newRows);\n    };\n    var createDomTable = function (table, rows) {\n      var tableElement = shallow(table.element);\n      var tableBody = SugarElement.fromTag('tbody');\n      append(tableBody, rows);\n      append$1(tableElement, tableBody);\n      return tableElement;\n    };\n    var modelRowsToDomRows = function (table) {\n      return map$3(table.rows, function (row) {\n        var cells = map$3(row.cells, function (cell) {\n          var td = deep$1(cell);\n          remove$6(td, 'colspan');\n          remove$6(td, 'rowspan');\n          return td;\n        });\n        var tr = shallow(row.element);\n        append(tr, cells);\n        return tr;\n      });\n    };\n    var fromDom = function (tableElm) {\n      var table = tableModel(shallow(tableElm), 0, []);\n      each$k(descendants(tableElm, 'tr'), function (tr, y) {\n        each$k(descendants(tr, 'td,th'), function (td, x) {\n          fillout(table, skipCellsX(table, x, y), y, tr, td);\n        });\n      });\n      return tableModel(table.element, getWidth(table.rows), table.rows);\n    };\n    var toDom = function (table) {\n      return createDomTable(table, modelRowsToDomRows(table));\n    };\n    var subsection = function (table, startElement, endElement) {\n      return findElementPos(table, startElement).bind(function (startPos) {\n        return findElementPos(table, endElement).map(function (endPos) {\n          return subTable(table, startPos, endPos);\n        });\n      });\n    };\n\n    var findParentListContainer = function (parents) {\n      return find$3(parents, function (elm) {\n        return name(elm) === 'ul' || name(elm) === 'ol';\n      });\n    };\n    var getFullySelectedListWrappers = function (parents, rng) {\n      return find$3(parents, function (elm) {\n        return name(elm) === 'li' && hasAllContentsSelected(elm, rng);\n      }).fold(constant([]), function (_li) {\n        return findParentListContainer(parents).map(function (listCont) {\n          var listElm = SugarElement.fromTag(name(listCont));\n          var listStyles = filter$3(getAllRaw(listCont), function (_style, name) {\n            return startsWith(name, 'list-style');\n          });\n          setAll(listElm, listStyles);\n          return [\n            SugarElement.fromTag('li'),\n            listElm\n          ];\n        }).getOr([]);\n      });\n    };\n    var wrap = function (innerElm, elms) {\n      var wrapped = foldl(elms, function (acc, elm) {\n        append$1(elm, acc);\n        return elm;\n      }, innerElm);\n      return elms.length > 0 ? fromElements([wrapped]) : wrapped;\n    };\n    var directListWrappers = function (commonAnchorContainer) {\n      if (isListItem(commonAnchorContainer)) {\n        return parent(commonAnchorContainer).filter(isList).fold(constant([]), function (listElm) {\n          return [\n            commonAnchorContainer,\n            listElm\n          ];\n        });\n      } else {\n        return isList(commonAnchorContainer) ? [commonAnchorContainer] : [];\n      }\n    };\n    var getWrapElements = function (rootNode, rng) {\n      var commonAnchorContainer = SugarElement.fromDom(rng.commonAncestorContainer);\n      var parents = parentsAndSelf(commonAnchorContainer, rootNode);\n      var wrapElements = filter$4(parents, function (elm) {\n        return isInline$1(elm) || isHeading(elm);\n      });\n      var listWrappers = getFullySelectedListWrappers(parents, rng);\n      var allWrappers = wrapElements.concat(listWrappers.length ? listWrappers : directListWrappers(commonAnchorContainer));\n      return map$3(allWrappers, shallow);\n    };\n    var emptyFragment = function () {\n      return fromElements([]);\n    };\n    var getFragmentFromRange = function (rootNode, rng) {\n      return wrap(SugarElement.fromDom(rng.cloneContents()), getWrapElements(rootNode, rng));\n    };\n    var getParentTable = function (rootElm, cell) {\n      return ancestor$2(cell, 'table', curry(eq, rootElm));\n    };\n    var getTableFragment = function (rootNode, selectedTableCells) {\n      return getParentTable(rootNode, selectedTableCells[0]).bind(function (tableElm) {\n        var firstCell = selectedTableCells[0];\n        var lastCell = selectedTableCells[selectedTableCells.length - 1];\n        var fullTableModel = fromDom(tableElm);\n        return subsection(fullTableModel, firstCell, lastCell).map(function (sectionedTableModel) {\n          return fromElements([toDom(sectionedTableModel)]);\n        });\n      }).getOrThunk(emptyFragment);\n    };\n    var getSelectionFragment = function (rootNode, ranges) {\n      return ranges.length > 0 && ranges[0].collapsed ? emptyFragment() : getFragmentFromRange(rootNode, ranges[0]);\n    };\n    var read$3 = function (rootNode, ranges) {\n      var selectedCells = getCellsFromElementOrRanges(ranges, rootNode);\n      return selectedCells.length > 0 ? getTableFragment(rootNode, selectedCells) : getSelectionFragment(rootNode, ranges);\n    };\n\n    var trimLeadingCollapsibleText = function (text) {\n      return text.replace(/^[ \\f\\n\\r\\t\\v]+/, '');\n    };\n    var isCollapsibleWhitespace = function (text, index) {\n      return index >= 0 && index < text.length && isWhiteSpace(text.charAt(index));\n    };\n    var getInnerText = function (bin, shouldTrim) {\n      var text = trim$2(bin.innerText);\n      return shouldTrim ? trimLeadingCollapsibleText(text) : text;\n    };\n    var getContextNodeName = function (parentBlockOpt) {\n      return parentBlockOpt.map(function (block) {\n        return block.nodeName;\n      }).getOr('div').toLowerCase();\n    };\n    var getTextContent = function (editor) {\n      return Optional.from(editor.selection.getRng()).map(function (rng) {\n        var parentBlockOpt = Optional.from(editor.dom.getParent(rng.commonAncestorContainer, editor.dom.isBlock));\n        var body = editor.getBody();\n        var contextNodeName = getContextNodeName(parentBlockOpt);\n        var shouldTrimSpaces = Env.browser.isIE() && contextNodeName !== 'pre';\n        var bin = editor.dom.add(body, contextNodeName, {\n          'data-mce-bogus': 'all',\n          'style': 'overflow: hidden; opacity: 0;'\n        }, rng.cloneContents());\n        var text = getInnerText(bin, shouldTrimSpaces);\n        var nonRenderedText = trim$2(bin.textContent);\n        editor.dom.remove(bin);\n        if (isCollapsibleWhitespace(nonRenderedText, 0) || isCollapsibleWhitespace(nonRenderedText, nonRenderedText.length - 1)) {\n          var parentBlock = parentBlockOpt.getOr(body);\n          var parentBlockText = getInnerText(parentBlock, shouldTrimSpaces);\n          var textIndex = parentBlockText.indexOf(text);\n          if (textIndex === -1) {\n            return text;\n          } else {\n            var hasProceedingSpace = isCollapsibleWhitespace(parentBlockText, textIndex - 1);\n            var hasTrailingSpace = isCollapsibleWhitespace(parentBlockText, textIndex + text.length);\n            return (hasProceedingSpace ? ' ' : '') + text + (hasTrailingSpace ? ' ' : '');\n          }\n        } else {\n          return text;\n        }\n      }).getOr('');\n    };\n    var getSerializedContent = function (editor, args) {\n      var rng = editor.selection.getRng(), tmpElm = editor.dom.create('body');\n      var sel = editor.selection.getSel();\n      var ranges = processRanges(editor, getRanges(sel));\n      var fragment = args.contextual ? read$3(SugarElement.fromDom(editor.getBody()), ranges).dom : rng.cloneContents();\n      if (fragment) {\n        tmpElm.appendChild(fragment);\n      }\n      return editor.selection.serializer.serialize(tmpElm, args);\n    };\n    var setupArgs$1 = function (args, format) {\n      return __assign(__assign({}, args), {\n        format: format,\n        get: true,\n        selection: true\n      });\n    };\n    var getSelectedContentInternal = function (editor, format, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      var defaultedArgs = setupArgs$1(args, format);\n      var updatedArgs = editor.fire('BeforeGetContent', defaultedArgs);\n      if (updatedArgs.isDefaultPrevented()) {\n        editor.fire('GetContent', updatedArgs);\n        return updatedArgs.content;\n      }\n      if (updatedArgs.format === 'text') {\n        return getTextContent(editor);\n      } else {\n        updatedArgs.getInner = true;\n        var content = getSerializedContent(editor, updatedArgs);\n        if (updatedArgs.format === 'tree') {\n          return content;\n        } else {\n          updatedArgs.content = editor.selection.isCollapsed() ? '' : content;\n          editor.fire('GetContent', updatedArgs);\n          return updatedArgs.content;\n        }\n      }\n    };\n\n    var KEEP = 0, INSERT = 1, DELETE = 2;\n    var diff = function (left, right) {\n      var size = left.length + right.length + 2;\n      var vDown = new Array(size);\n      var vUp = new Array(size);\n      var snake = function (start, end, diag) {\n        return {\n          start: start,\n          end: end,\n          diag: diag\n        };\n      };\n      var buildScript = function (start1, end1, start2, end2, script) {\n        var middle = getMiddleSnake(start1, end1, start2, end2);\n        if (middle === null || middle.start === end1 && middle.diag === end1 - end2 || middle.end === start1 && middle.diag === start1 - start2) {\n          var i = start1;\n          var j = start2;\n          while (i < end1 || j < end2) {\n            if (i < end1 && j < end2 && left[i] === right[j]) {\n              script.push([\n                KEEP,\n                left[i]\n              ]);\n              ++i;\n              ++j;\n            } else {\n              if (end1 - start1 > end2 - start2) {\n                script.push([\n                  DELETE,\n                  left[i]\n                ]);\n                ++i;\n              } else {\n                script.push([\n                  INSERT,\n                  right[j]\n                ]);\n                ++j;\n              }\n            }\n          }\n        } else {\n          buildScript(start1, middle.start, start2, middle.start - middle.diag, script);\n          for (var i2 = middle.start; i2 < middle.end; ++i2) {\n            script.push([\n              KEEP,\n              left[i2]\n            ]);\n          }\n          buildScript(middle.end, end1, middle.end - middle.diag, end2, script);\n        }\n      };\n      var buildSnake = function (start, diag, end1, end2) {\n        var end = start;\n        while (end - diag < end2 && end < end1 && left[end] === right[end - diag]) {\n          ++end;\n        }\n        return snake(start, end, diag);\n      };\n      var getMiddleSnake = function (start1, end1, start2, end2) {\n        var m = end1 - start1;\n        var n = end2 - start2;\n        if (m === 0 || n === 0) {\n          return null;\n        }\n        var delta = m - n;\n        var sum = n + m;\n        var offset = (sum % 2 === 0 ? sum : sum + 1) / 2;\n        vDown[1 + offset] = start1;\n        vUp[1 + offset] = end1 + 1;\n        var d, k, i, x, y;\n        for (d = 0; d <= offset; ++d) {\n          for (k = -d; k <= d; k += 2) {\n            i = k + offset;\n            if (k === -d || k !== d && vDown[i - 1] < vDown[i + 1]) {\n              vDown[i] = vDown[i + 1];\n            } else {\n              vDown[i] = vDown[i - 1] + 1;\n            }\n            x = vDown[i];\n            y = x - start1 + start2 - k;\n            while (x < end1 && y < end2 && left[x] === right[y]) {\n              vDown[i] = ++x;\n              ++y;\n            }\n            if (delta % 2 !== 0 && delta - d <= k && k <= delta + d) {\n              if (vUp[i - delta] <= vDown[i]) {\n                return buildSnake(vUp[i - delta], k + start1 - start2, end1, end2);\n              }\n            }\n          }\n          for (k = delta - d; k <= delta + d; k += 2) {\n            i = k + offset - delta;\n            if (k === delta - d || k !== delta + d && vUp[i + 1] <= vUp[i - 1]) {\n              vUp[i] = vUp[i + 1] - 1;\n            } else {\n              vUp[i] = vUp[i - 1];\n            }\n            x = vUp[i] - 1;\n            y = x - start1 + start2 - k;\n            while (x >= start1 && y >= start2 && left[x] === right[y]) {\n              vUp[i] = x--;\n              y--;\n            }\n            if (delta % 2 === 0 && -d <= k && k <= d) {\n              if (vUp[i] <= vDown[i + delta]) {\n                return buildSnake(vUp[i], k + start1 - start2, end1, end2);\n              }\n            }\n          }\n        }\n      };\n      var script = [];\n      buildScript(0, left.length, 0, right.length, script);\n      return script;\n    };\n\n    var getOuterHtml = function (elm) {\n      if (isElement$5(elm)) {\n        return elm.outerHTML;\n      } else if (isText$7(elm)) {\n        return Entities.encodeRaw(elm.data, false);\n      } else if (isComment(elm)) {\n        return '<!--' + elm.data + '-->';\n      }\n      return '';\n    };\n    var createFragment = function (html) {\n      var node;\n      var container = document.createElement('div');\n      var frag = document.createDocumentFragment();\n      if (html) {\n        container.innerHTML = html;\n      }\n      while (node = container.firstChild) {\n        frag.appendChild(node);\n      }\n      return frag;\n    };\n    var insertAt = function (elm, html, index) {\n      var fragment = createFragment(html);\n      if (elm.hasChildNodes() && index < elm.childNodes.length) {\n        var target = elm.childNodes[index];\n        target.parentNode.insertBefore(fragment, target);\n      } else {\n        elm.appendChild(fragment);\n      }\n    };\n    var removeAt = function (elm, index) {\n      if (elm.hasChildNodes() && index < elm.childNodes.length) {\n        var target = elm.childNodes[index];\n        target.parentNode.removeChild(target);\n      }\n    };\n    var applyDiff = function (diff, elm) {\n      var index = 0;\n      each$k(diff, function (action) {\n        if (action[0] === KEEP) {\n          index++;\n        } else if (action[0] === INSERT) {\n          insertAt(elm, action[1], index);\n          index++;\n        } else if (action[0] === DELETE) {\n          removeAt(elm, index);\n        }\n      });\n    };\n    var read$2 = function (elm) {\n      return filter$4(map$3(from(elm.childNodes), getOuterHtml), function (item) {\n        return item.length > 0;\n      });\n    };\n    var write = function (fragments, elm) {\n      var currentFragments = map$3(from(elm.childNodes), getOuterHtml);\n      applyDiff(diff(currentFragments, fragments), elm);\n      return elm;\n    };\n\n    var lazyTempDocument = cached(function () {\n      return document.implementation.createHTMLDocument('undo');\n    });\n    var hasIframes = function (html) {\n      return html.indexOf('</iframe>') !== -1;\n    };\n    var createFragmentedLevel = function (fragments) {\n      return {\n        type: 'fragmented',\n        fragments: fragments,\n        content: '',\n        bookmark: null,\n        beforeBookmark: null\n      };\n    };\n    var createCompleteLevel = function (content) {\n      return {\n        type: 'complete',\n        fragments: null,\n        content: content,\n        bookmark: null,\n        beforeBookmark: null\n      };\n    };\n    var createFromEditor = function (editor) {\n      var fragments = read$2(editor.getBody());\n      var trimmedFragments = bind(fragments, function (html) {\n        var trimmed = trimInternal(editor.serializer, html);\n        return trimmed.length > 0 ? [trimmed] : [];\n      });\n      var content = trimmedFragments.join('');\n      return hasIframes(content) ? createFragmentedLevel(trimmedFragments) : createCompleteLevel(content);\n    };\n    var applyToEditor = function (editor, level, before) {\n      var bookmark = before ? level.beforeBookmark : level.bookmark;\n      if (level.type === 'fragmented') {\n        write(level.fragments, editor.getBody());\n      } else {\n        editor.setContent(level.content, {\n          format: 'raw',\n          no_selection: isNonNullable(bookmark) && isPathBookmark(bookmark) ? !bookmark.isFakeCaret : true\n        });\n      }\n      editor.selection.moveToBookmark(bookmark);\n    };\n    var getLevelContent = function (level) {\n      return level.type === 'fragmented' ? level.fragments.join('') : level.content;\n    };\n    var getCleanLevelContent = function (level) {\n      var elm = SugarElement.fromTag('body', lazyTempDocument());\n      set(elm, getLevelContent(level));\n      each$k(descendants(elm, '*[data-mce-bogus]'), unwrap);\n      return get$3(elm);\n    };\n    var hasEqualContent = function (level1, level2) {\n      return getLevelContent(level1) === getLevelContent(level2);\n    };\n    var hasEqualCleanedContent = function (level1, level2) {\n      return getCleanLevelContent(level1) === getCleanLevelContent(level2);\n    };\n    var isEq$1 = function (level1, level2) {\n      if (!level1 || !level2) {\n        return false;\n      } else if (hasEqualContent(level1, level2)) {\n        return true;\n      } else {\n        return hasEqualCleanedContent(level1, level2);\n      }\n    };\n\n    var isUnlocked = function (locks) {\n      return locks.get() === 0;\n    };\n\n    var setTyping = function (undoManager, typing, locks) {\n      if (isUnlocked(locks)) {\n        undoManager.typing = typing;\n      }\n    };\n    var endTyping = function (undoManager, locks) {\n      if (undoManager.typing) {\n        setTyping(undoManager, false, locks);\n        undoManager.add();\n      }\n    };\n    var endTypingLevelIgnoreLocks = function (undoManager) {\n      if (undoManager.typing) {\n        undoManager.typing = false;\n        undoManager.add();\n      }\n    };\n\n    var beforeChange$1 = function (editor, locks, beforeBookmark) {\n      if (isUnlocked(locks)) {\n        beforeBookmark.set(getUndoBookmark(editor.selection));\n      }\n    };\n    var addUndoLevel$1 = function (editor, undoManager, index, locks, beforeBookmark, level, event) {\n      var currentLevel = createFromEditor(editor);\n      level = level || {};\n      level = Tools.extend(level, currentLevel);\n      if (isUnlocked(locks) === false || editor.removed) {\n        return null;\n      }\n      var lastLevel = undoManager.data[index.get()];\n      if (editor.fire('BeforeAddUndo', {\n          level: level,\n          lastLevel: lastLevel,\n          originalEvent: event\n        }).isDefaultPrevented()) {\n        return null;\n      }\n      if (lastLevel && isEq$1(lastLevel, level)) {\n        return null;\n      }\n      if (undoManager.data[index.get()]) {\n        beforeBookmark.get().each(function (bm) {\n          undoManager.data[index.get()].beforeBookmark = bm;\n        });\n      }\n      var customUndoRedoLevels = getCustomUndoRedoLevels(editor);\n      if (customUndoRedoLevels) {\n        if (undoManager.data.length > customUndoRedoLevels) {\n          for (var i = 0; i < undoManager.data.length - 1; i++) {\n            undoManager.data[i] = undoManager.data[i + 1];\n          }\n          undoManager.data.length--;\n          index.set(undoManager.data.length);\n        }\n      }\n      level.bookmark = getUndoBookmark(editor.selection);\n      if (index.get() < undoManager.data.length - 1) {\n        undoManager.data.length = index.get() + 1;\n      }\n      undoManager.data.push(level);\n      index.set(undoManager.data.length - 1);\n      var args = {\n        level: level,\n        lastLevel: lastLevel,\n        originalEvent: event\n      };\n      if (index.get() > 0) {\n        editor.setDirty(true);\n        editor.fire('AddUndo', args);\n        editor.fire('change', args);\n      } else {\n        editor.fire('AddUndo', args);\n      }\n      return level;\n    };\n    var clear$1 = function (editor, undoManager, index) {\n      undoManager.data = [];\n      index.set(0);\n      undoManager.typing = false;\n      editor.fire('ClearUndos');\n    };\n    var extra$1 = function (editor, undoManager, index, callback1, callback2) {\n      if (undoManager.transact(callback1)) {\n        var bookmark = undoManager.data[index.get()].bookmark;\n        var lastLevel = undoManager.data[index.get() - 1];\n        applyToEditor(editor, lastLevel, true);\n        if (undoManager.transact(callback2)) {\n          undoManager.data[index.get() - 1].beforeBookmark = bookmark;\n        }\n      }\n    };\n    var redo$1 = function (editor, index, data) {\n      var level;\n      if (index.get() < data.length - 1) {\n        index.set(index.get() + 1);\n        level = data[index.get()];\n        applyToEditor(editor, level, false);\n        editor.setDirty(true);\n        editor.fire('Redo', { level: level });\n      }\n      return level;\n    };\n    var undo$1 = function (editor, undoManager, locks, index) {\n      var level;\n      if (undoManager.typing) {\n        undoManager.add();\n        undoManager.typing = false;\n        setTyping(undoManager, false, locks);\n      }\n      if (index.get() > 0) {\n        index.set(index.get() - 1);\n        level = undoManager.data[index.get()];\n        applyToEditor(editor, level, true);\n        editor.setDirty(true);\n        editor.fire('Undo', { level: level });\n      }\n      return level;\n    };\n    var reset$1 = function (undoManager) {\n      undoManager.clear();\n      undoManager.add();\n    };\n    var hasUndo$1 = function (editor, undoManager, index) {\n      return index.get() > 0 || undoManager.typing && undoManager.data[0] && !isEq$1(createFromEditor(editor), undoManager.data[0]);\n    };\n    var hasRedo$1 = function (undoManager, index) {\n      return index.get() < undoManager.data.length - 1 && !undoManager.typing;\n    };\n    var transact$1 = function (undoManager, locks, callback) {\n      endTyping(undoManager, locks);\n      undoManager.beforeChange();\n      undoManager.ignore(callback);\n      return undoManager.add();\n    };\n    var ignore$1 = function (locks, callback) {\n      try {\n        locks.set(locks.get() + 1);\n        callback();\n      } finally {\n        locks.set(locks.get() - 1);\n      }\n    };\n\n    var addVisualInternal = function (editor, elm) {\n      var dom = editor.dom;\n      var scope = isNonNullable(elm) ? elm : editor.getBody();\n      if (isUndefined(editor.hasVisual)) {\n        editor.hasVisual = isVisualAidsEnabled(editor);\n      }\n      each$k(dom.select('table,a', scope), function (matchedElm) {\n        switch (matchedElm.nodeName) {\n        case 'TABLE':\n          var cls = getVisualAidsTableClass(editor);\n          var value = dom.getAttrib(matchedElm, 'border');\n          if ((!value || value === '0') && editor.hasVisual) {\n            dom.addClass(matchedElm, cls);\n          } else {\n            dom.removeClass(matchedElm, cls);\n          }\n          break;\n        case 'A':\n          if (!dom.getAttrib(matchedElm, 'href')) {\n            var value_1 = dom.getAttrib(matchedElm, 'name') || matchedElm.id;\n            var cls_1 = getVisualAidsAnchorClass(editor);\n            if (value_1 && editor.hasVisual) {\n              dom.addClass(matchedElm, cls_1);\n            } else {\n              dom.removeClass(matchedElm, cls_1);\n            }\n          }\n          break;\n        }\n      });\n      editor.fire('VisualAid', {\n        element: elm,\n        hasVisual: editor.hasVisual\n      });\n    };\n\n    var makePlainAdaptor = function (editor) {\n      return {\n        undoManager: {\n          beforeChange: function (locks, beforeBookmark) {\n            return beforeChange$1(editor, locks, beforeBookmark);\n          },\n          add: function (undoManager, index, locks, beforeBookmark, level, event) {\n            return addUndoLevel$1(editor, undoManager, index, locks, beforeBookmark, level, event);\n          },\n          undo: function (undoManager, locks, index) {\n            return undo$1(editor, undoManager, locks, index);\n          },\n          redo: function (index, data) {\n            return redo$1(editor, index, data);\n          },\n          clear: function (undoManager, index) {\n            return clear$1(editor, undoManager, index);\n          },\n          reset: function (undoManager) {\n            return reset$1(undoManager);\n          },\n          hasUndo: function (undoManager, index) {\n            return hasUndo$1(editor, undoManager, index);\n          },\n          hasRedo: function (undoManager, index) {\n            return hasRedo$1(undoManager, index);\n          },\n          transact: function (undoManager, locks, callback) {\n            return transact$1(undoManager, locks, callback);\n          },\n          ignore: function (locks, callback) {\n            return ignore$1(locks, callback);\n          },\n          extra: function (undoManager, index, callback1, callback2) {\n            return extra$1(editor, undoManager, index, callback1, callback2);\n          }\n        },\n        formatter: {\n          match: function (name, vars, node, similar) {\n            return match$2(editor, name, vars, node, similar);\n          },\n          matchAll: function (names, vars) {\n            return matchAll(editor, names, vars);\n          },\n          matchNode: function (node, name, vars, similar) {\n            return matchNode(editor, node, name, vars, similar);\n          },\n          canApply: function (name) {\n            return canApply(editor, name);\n          },\n          closest: function (names) {\n            return closest(editor, names);\n          },\n          apply: function (name, vars, node) {\n            return applyFormat$1(editor, name, vars, node);\n          },\n          remove: function (name, vars, node, similar) {\n            return remove$1(editor, name, vars, node, similar);\n          },\n          toggle: function (name, vars, node) {\n            return toggle(editor, name, vars, node);\n          },\n          formatChanged: function (registeredFormatListeners, formats, callback, similar, vars) {\n            return formatChangedInternal(editor, registeredFormatListeners, formats, callback, similar, vars);\n          }\n        },\n        editor: {\n          getContent: function (args, format) {\n            return getContentInternal(editor, args, format);\n          },\n          setContent: function (content, args) {\n            return setContentInternal(editor, content, args);\n          },\n          insertContent: function (value, details) {\n            return insertHtmlAtCaret(editor, value, details);\n          },\n          addVisual: function (elm) {\n            return addVisualInternal(editor, elm);\n          }\n        },\n        selection: {\n          getContent: function (format, args) {\n            return getSelectedContentInternal(editor, format, args);\n          }\n        },\n        raw: {\n          getModel: function () {\n            return Optional.none();\n          }\n        }\n      };\n    };\n    var makeRtcAdaptor = function (rtcEditor) {\n      var defaultVars = function (vars) {\n        return isObject(vars) ? vars : {};\n      };\n      var undoManager = rtcEditor.undoManager, formatter = rtcEditor.formatter, editor = rtcEditor.editor, selection = rtcEditor.selection, raw = rtcEditor.raw;\n      return {\n        undoManager: {\n          beforeChange: undoManager.beforeChange,\n          add: undoManager.add,\n          undo: undoManager.undo,\n          redo: undoManager.redo,\n          clear: undoManager.clear,\n          reset: undoManager.reset,\n          hasUndo: undoManager.hasUndo,\n          hasRedo: undoManager.hasRedo,\n          transact: function (_undoManager, _locks, fn) {\n            return undoManager.transact(fn);\n          },\n          ignore: function (_locks, callback) {\n            return undoManager.ignore(callback);\n          },\n          extra: function (_undoManager, _index, callback1, callback2) {\n            return undoManager.extra(callback1, callback2);\n          }\n        },\n        formatter: {\n          match: function (name, vars, _node, similar) {\n            return formatter.match(name, defaultVars(vars), similar);\n          },\n          matchAll: formatter.matchAll,\n          matchNode: formatter.matchNode,\n          canApply: function (name) {\n            return formatter.canApply(name);\n          },\n          closest: function (names) {\n            return formatter.closest(names);\n          },\n          apply: function (name, vars, _node) {\n            return formatter.apply(name, defaultVars(vars));\n          },\n          remove: function (name, vars, _node, _similar) {\n            return formatter.remove(name, defaultVars(vars));\n          },\n          toggle: function (name, vars, _node) {\n            return formatter.toggle(name, defaultVars(vars));\n          },\n          formatChanged: function (_rfl, formats, callback, similar, vars) {\n            return formatter.formatChanged(formats, callback, similar, vars);\n          }\n        },\n        editor: {\n          getContent: function (args, _format) {\n            return editor.getContent(args);\n          },\n          setContent: function (content, args) {\n            return editor.setContent(content, args);\n          },\n          insertContent: function (content, _details) {\n            return editor.insertContent(content);\n          },\n          addVisual: editor.addVisual\n        },\n        selection: {\n          getContent: function (_format, args) {\n            return selection.getContent(args);\n          }\n        },\n        raw: {\n          getModel: function () {\n            return Optional.some(raw.getRawModel());\n          }\n        }\n      };\n    };\n    var makeNoopAdaptor = function () {\n      var nul = constant(null);\n      var empty = constant('');\n      return {\n        undoManager: {\n          beforeChange: noop,\n          add: nul,\n          undo: nul,\n          redo: nul,\n          clear: noop,\n          reset: noop,\n          hasUndo: never,\n          hasRedo: never,\n          transact: nul,\n          ignore: noop,\n          extra: noop\n        },\n        formatter: {\n          match: never,\n          matchAll: constant([]),\n          matchNode: constant(undefined),\n          canApply: never,\n          closest: empty,\n          apply: noop,\n          remove: noop,\n          toggle: noop,\n          formatChanged: constant({ unbind: noop })\n        },\n        editor: {\n          getContent: empty,\n          setContent: empty,\n          insertContent: noop,\n          addVisual: noop\n        },\n        selection: { getContent: empty },\n        raw: { getModel: constant(Optional.none()) }\n      };\n    };\n    var isRtc = function (editor) {\n      return has$2(editor.plugins, 'rtc');\n    };\n    var getRtcSetup = function (editor) {\n      return get$9(editor.plugins, 'rtc').bind(function (rtcPlugin) {\n        return Optional.from(rtcPlugin.setup);\n      });\n    };\n    var setup$i = function (editor) {\n      var editorCast = editor;\n      return getRtcSetup(editor).fold(function () {\n        editorCast.rtcInstance = makePlainAdaptor(editor);\n        return Optional.none();\n      }, function (setup) {\n        editorCast.rtcInstance = makeNoopAdaptor();\n        return Optional.some(function () {\n          return setup().then(function (rtcEditor) {\n            editorCast.rtcInstance = makeRtcAdaptor(rtcEditor);\n            return rtcEditor.rtc.isRemote;\n          });\n        });\n      });\n    };\n    var getRtcInstanceWithFallback = function (editor) {\n      return editor.rtcInstance ? editor.rtcInstance : makePlainAdaptor(editor);\n    };\n    var getRtcInstanceWithError = function (editor) {\n      var rtcInstance = editor.rtcInstance;\n      if (!rtcInstance) {\n        throw new Error('Failed to get RTC instance not yet initialized.');\n      } else {\n        return rtcInstance;\n      }\n    };\n    var beforeChange = function (editor, locks, beforeBookmark) {\n      getRtcInstanceWithError(editor).undoManager.beforeChange(locks, beforeBookmark);\n    };\n    var addUndoLevel = function (editor, undoManager, index, locks, beforeBookmark, level, event) {\n      return getRtcInstanceWithError(editor).undoManager.add(undoManager, index, locks, beforeBookmark, level, event);\n    };\n    var undo = function (editor, undoManager, locks, index) {\n      return getRtcInstanceWithError(editor).undoManager.undo(undoManager, locks, index);\n    };\n    var redo = function (editor, index, data) {\n      return getRtcInstanceWithError(editor).undoManager.redo(index, data);\n    };\n    var clear = function (editor, undoManager, index) {\n      getRtcInstanceWithError(editor).undoManager.clear(undoManager, index);\n    };\n    var reset = function (editor, undoManager) {\n      getRtcInstanceWithError(editor).undoManager.reset(undoManager);\n    };\n    var hasUndo = function (editor, undoManager, index) {\n      return getRtcInstanceWithError(editor).undoManager.hasUndo(undoManager, index);\n    };\n    var hasRedo = function (editor, undoManager, index) {\n      return getRtcInstanceWithError(editor).undoManager.hasRedo(undoManager, index);\n    };\n    var transact = function (editor, undoManager, locks, callback) {\n      return getRtcInstanceWithError(editor).undoManager.transact(undoManager, locks, callback);\n    };\n    var ignore = function (editor, locks, callback) {\n      getRtcInstanceWithError(editor).undoManager.ignore(locks, callback);\n    };\n    var extra = function (editor, undoManager, index, callback1, callback2) {\n      getRtcInstanceWithError(editor).undoManager.extra(undoManager, index, callback1, callback2);\n    };\n    var matchFormat = function (editor, name, vars, node, similar) {\n      return getRtcInstanceWithError(editor).formatter.match(name, vars, node, similar);\n    };\n    var matchAllFormats = function (editor, names, vars) {\n      return getRtcInstanceWithError(editor).formatter.matchAll(names, vars);\n    };\n    var matchNodeFormat = function (editor, node, name, vars, similar) {\n      return getRtcInstanceWithError(editor).formatter.matchNode(node, name, vars, similar);\n    };\n    var canApplyFormat = function (editor, name) {\n      return getRtcInstanceWithError(editor).formatter.canApply(name);\n    };\n    var closestFormat = function (editor, names) {\n      return getRtcInstanceWithError(editor).formatter.closest(names);\n    };\n    var applyFormat = function (editor, name, vars, node) {\n      getRtcInstanceWithError(editor).formatter.apply(name, vars, node);\n    };\n    var removeFormat = function (editor, name, vars, node, similar) {\n      getRtcInstanceWithError(editor).formatter.remove(name, vars, node, similar);\n    };\n    var toggleFormat = function (editor, name, vars, node) {\n      getRtcInstanceWithError(editor).formatter.toggle(name, vars, node);\n    };\n    var formatChanged = function (editor, registeredFormatListeners, formats, callback, similar, vars) {\n      return getRtcInstanceWithError(editor).formatter.formatChanged(registeredFormatListeners, formats, callback, similar, vars);\n    };\n    var getContent$2 = function (editor, args, format) {\n      return getRtcInstanceWithFallback(editor).editor.getContent(args, format);\n    };\n    var setContent$2 = function (editor, content, args) {\n      return getRtcInstanceWithFallback(editor).editor.setContent(content, args);\n    };\n    var insertContent = function (editor, value, details) {\n      return getRtcInstanceWithFallback(editor).editor.insertContent(value, details);\n    };\n    var getSelectedContent = function (editor, format, args) {\n      return getRtcInstanceWithError(editor).selection.getContent(format, args);\n    };\n    var addVisual$1 = function (editor, elm) {\n      return getRtcInstanceWithError(editor).editor.addVisual(elm);\n    };\n\n    var getContent$1 = function (editor, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      var format = args.format ? args.format : 'html';\n      return getSelectedContent(editor, format, args);\n    };\n\n    var removeEmpty = function (text) {\n      if (text.dom.length === 0) {\n        remove$7(text);\n        return Optional.none();\n      } else {\n        return Optional.some(text);\n      }\n    };\n    var walkPastBookmark = function (node, start) {\n      return node.filter(function (elm) {\n        return BookmarkManager.isBookmarkNode(elm.dom);\n      }).bind(start ? nextSibling : prevSibling);\n    };\n    var merge = function (outer, inner, rng, start) {\n      var outerElm = outer.dom;\n      var innerElm = inner.dom;\n      var oldLength = start ? outerElm.length : innerElm.length;\n      if (start) {\n        mergeTextNodes(outerElm, innerElm, false, !start);\n        rng.setStart(innerElm, oldLength);\n      } else {\n        mergeTextNodes(innerElm, outerElm, false, !start);\n        rng.setEnd(innerElm, oldLength);\n      }\n    };\n    var normalizeTextIfRequired = function (inner, start) {\n      parent(inner).each(function (root) {\n        var text = inner.dom;\n        if (start && needsToBeNbspLeft(root, CaretPosition(text, 0))) {\n          normalizeWhitespaceAfter(text, 0);\n        } else if (!start && needsToBeNbspRight(root, CaretPosition(text, text.length))) {\n          normalizeWhitespaceBefore(text, text.length);\n        }\n      });\n    };\n    var mergeAndNormalizeText = function (outerNode, innerNode, rng, start) {\n      outerNode.bind(function (outer) {\n        var normalizer = start ? normalizeWhitespaceBefore : normalizeWhitespaceAfter;\n        normalizer(outer.dom, start ? outer.dom.length : 0);\n        return innerNode.filter(isText$8).map(function (inner) {\n          return merge(outer, inner, rng, start);\n        });\n      }).orThunk(function () {\n        var innerTextNode = walkPastBookmark(innerNode, start).or(innerNode).filter(isText$8);\n        return innerTextNode.map(function (inner) {\n          return normalizeTextIfRequired(inner, start);\n        });\n      });\n    };\n    var rngSetContent = function (rng, fragment) {\n      var firstChild = Optional.from(fragment.firstChild).map(SugarElement.fromDom);\n      var lastChild = Optional.from(fragment.lastChild).map(SugarElement.fromDom);\n      rng.deleteContents();\n      rng.insertNode(fragment);\n      var prevText = firstChild.bind(prevSibling).filter(isText$8).bind(removeEmpty);\n      var nextText = lastChild.bind(nextSibling).filter(isText$8).bind(removeEmpty);\n      mergeAndNormalizeText(prevText, firstChild, rng, true);\n      mergeAndNormalizeText(nextText, lastChild, rng, false);\n      rng.collapse(false);\n    };\n    var setupArgs = function (args, content) {\n      return __assign(__assign({ format: 'html' }, args), {\n        set: true,\n        selection: true,\n        content: content\n      });\n    };\n    var cleanContent = function (editor, args) {\n      if (args.format !== 'raw') {\n        var rng = editor.selection.getRng();\n        var contextBlock = editor.dom.getParent(rng.commonAncestorContainer, editor.dom.isBlock);\n        var contextArgs = contextBlock ? { context: contextBlock.nodeName.toLowerCase() } : {};\n        var node = editor.parser.parse(args.content, __assign(__assign({\n          isRootContent: true,\n          forced_root_block: false\n        }, contextArgs), args));\n        return HtmlSerializer({ validate: editor.validate }, editor.schema).serialize(node);\n      } else {\n        return args.content;\n      }\n    };\n    var setContent$1 = function (editor, content, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      var defaultedArgs = setupArgs(args, content);\n      var updatedArgs = defaultedArgs;\n      if (!defaultedArgs.no_events) {\n        var eventArgs = editor.fire('BeforeSetContent', defaultedArgs);\n        if (eventArgs.isDefaultPrevented()) {\n          editor.fire('SetContent', eventArgs);\n          return;\n        } else {\n          updatedArgs = eventArgs;\n        }\n      }\n      updatedArgs.content = cleanContent(editor, updatedArgs);\n      var rng = editor.selection.getRng();\n      rngSetContent(rng, rng.createContextualFragment(updatedArgs.content));\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, rng);\n      if (!updatedArgs.no_events) {\n        editor.fire('SetContent', updatedArgs);\n      }\n    };\n\n    var deleteFromCallbackMap = function (callbackMap, selector, callback) {\n      if (callbackMap && has$2(callbackMap, selector)) {\n        var newCallbacks = filter$4(callbackMap[selector], function (cb) {\n          return cb !== callback;\n        });\n        if (newCallbacks.length === 0) {\n          delete callbackMap[selector];\n        } else {\n          callbackMap[selector] = newCallbacks;\n        }\n      }\n    };\n    function SelectorChanged (dom, editor) {\n      var selectorChangedData;\n      var currentSelectors;\n      var findMatchingNode = function (selector, nodes) {\n        return find$3(nodes, function (node) {\n          return dom.is(node, selector);\n        });\n      };\n      var getParents = function (elem) {\n        return dom.getParents(elem, null, dom.getRoot());\n      };\n      return {\n        selectorChangedWithUnbind: function (selector, callback) {\n          if (!selectorChangedData) {\n            selectorChangedData = {};\n            currentSelectors = {};\n            editor.on('NodeChange', function (e) {\n              var node = e.element;\n              var parents = getParents(node);\n              var matchedSelectors = {};\n              Tools.each(selectorChangedData, function (callbacks, selector) {\n                findMatchingNode(selector, parents).each(function (node) {\n                  if (!currentSelectors[selector]) {\n                    each$k(callbacks, function (callback) {\n                      callback(true, {\n                        node: node,\n                        selector: selector,\n                        parents: parents\n                      });\n                    });\n                    currentSelectors[selector] = callbacks;\n                  }\n                  matchedSelectors[selector] = callbacks;\n                });\n              });\n              Tools.each(currentSelectors, function (callbacks, selector) {\n                if (!matchedSelectors[selector]) {\n                  delete currentSelectors[selector];\n                  Tools.each(callbacks, function (callback) {\n                    callback(false, {\n                      node: node,\n                      selector: selector,\n                      parents: parents\n                    });\n                  });\n                }\n              });\n            });\n          }\n          if (!selectorChangedData[selector]) {\n            selectorChangedData[selector] = [];\n          }\n          selectorChangedData[selector].push(callback);\n          findMatchingNode(selector, getParents(editor.selection.getStart())).each(function () {\n            currentSelectors[selector] = selectorChangedData[selector];\n          });\n          return {\n            unbind: function () {\n              deleteFromCallbackMap(selectorChangedData, selector, callback);\n              deleteFromCallbackMap(currentSelectors, selector, callback);\n            }\n          };\n        }\n      };\n    }\n\n    var isNativeIeSelection = function (rng) {\n      return !!rng.select;\n    };\n    var isAttachedToDom = function (node) {\n      return !!(node && node.ownerDocument) && contains$1(SugarElement.fromDom(node.ownerDocument), SugarElement.fromDom(node));\n    };\n    var isValidRange = function (rng) {\n      if (!rng) {\n        return false;\n      } else if (isNativeIeSelection(rng)) {\n        return true;\n      } else {\n        return isAttachedToDom(rng.startContainer) && isAttachedToDom(rng.endContainer);\n      }\n    };\n    var EditorSelection = function (dom, win, serializer, editor) {\n      var selectedRange;\n      var explicitRange;\n      var selectorChangedWithUnbind = SelectorChanged(dom, editor).selectorChangedWithUnbind;\n      var setCursorLocation = function (node, offset) {\n        var rng = dom.createRng();\n        if (isNonNullable(node) && isNonNullable(offset)) {\n          rng.setStart(node, offset);\n          rng.setEnd(node, offset);\n          setRng(rng);\n          collapse(false);\n        } else {\n          moveEndPoint(dom, rng, editor.getBody(), true);\n          setRng(rng);\n        }\n      };\n      var getContent = function (args) {\n        return getContent$1(editor, args);\n      };\n      var setContent = function (content, args) {\n        return setContent$1(editor, content, args);\n      };\n      var getStart$1 = function (real) {\n        return getStart(editor.getBody(), getRng$1(), real);\n      };\n      var getEnd$1 = function (real) {\n        return getEnd(editor.getBody(), getRng$1(), real);\n      };\n      var getBookmark = function (type, normalized) {\n        return bookmarkManager.getBookmark(type, normalized);\n      };\n      var moveToBookmark = function (bookmark) {\n        return bookmarkManager.moveToBookmark(bookmark);\n      };\n      var select$1 = function (node, content) {\n        select(dom, node, content).each(setRng);\n        return node;\n      };\n      var isCollapsed = function () {\n        var rng = getRng$1(), sel = getSel();\n        if (!rng || rng.item) {\n          return false;\n        }\n        if (rng.compareEndPoints) {\n          return rng.compareEndPoints('StartToEnd', rng) === 0;\n        }\n        return !sel || rng.collapsed;\n      };\n      var collapse = function (toStart) {\n        var rng = getRng$1();\n        rng.collapse(!!toStart);\n        setRng(rng);\n      };\n      var getSel = function () {\n        return win.getSelection ? win.getSelection() : win.document.selection;\n      };\n      var getRng$1 = function () {\n        var selection, rng, elm;\n        var tryCompareBoundaryPoints = function (how, sourceRange, destinationRange) {\n          try {\n            return sourceRange.compareBoundaryPoints(how, destinationRange);\n          } catch (ex) {\n            return -1;\n          }\n        };\n        var doc = win.document;\n        if (editor.bookmark !== undefined && hasFocus(editor) === false) {\n          var bookmark = getRng(editor);\n          if (bookmark.isSome()) {\n            return bookmark.map(function (r) {\n              return processRanges(editor, [r])[0];\n            }).getOr(doc.createRange());\n          }\n        }\n        try {\n          if ((selection = getSel()) && !isRestrictedNode(selection.anchorNode)) {\n            if (selection.rangeCount > 0) {\n              rng = selection.getRangeAt(0);\n            } else {\n              rng = selection.createRange ? selection.createRange() : doc.createRange();\n            }\n            rng = processRanges(editor, [rng])[0];\n          }\n        } catch (ex) {\n        }\n        if (!rng) {\n          rng = doc.createRange ? doc.createRange() : doc.body.createTextRange();\n        }\n        if (rng.setStart && rng.startContainer.nodeType === 9 && rng.collapsed) {\n          elm = dom.getRoot();\n          rng.setStart(elm, 0);\n          rng.setEnd(elm, 0);\n        }\n        if (selectedRange && explicitRange) {\n          if (tryCompareBoundaryPoints(rng.START_TO_START, rng, selectedRange) === 0 && tryCompareBoundaryPoints(rng.END_TO_END, rng, selectedRange) === 0) {\n            rng = explicitRange;\n          } else {\n            selectedRange = null;\n            explicitRange = null;\n          }\n        }\n        return rng;\n      };\n      var setRng = function (rng, forward) {\n        var node;\n        if (!isValidRange(rng)) {\n          return;\n        }\n        var ieRange = isNativeIeSelection(rng) ? rng : null;\n        if (ieRange) {\n          explicitRange = null;\n          try {\n            ieRange.select();\n          } catch (ex) {\n          }\n          return;\n        }\n        var sel = getSel();\n        var evt = editor.fire('SetSelectionRange', {\n          range: rng,\n          forward: forward\n        });\n        rng = evt.range;\n        if (sel) {\n          explicitRange = rng;\n          try {\n            sel.removeAllRanges();\n            sel.addRange(rng);\n          } catch (ex) {\n          }\n          if (forward === false && sel.extend) {\n            sel.collapse(rng.endContainer, rng.endOffset);\n            sel.extend(rng.startContainer, rng.startOffset);\n          }\n          selectedRange = sel.rangeCount > 0 ? sel.getRangeAt(0) : null;\n        }\n        if (!rng.collapsed && rng.startContainer === rng.endContainer && sel.setBaseAndExtent && !Env.ie) {\n          if (rng.endOffset - rng.startOffset < 2) {\n            if (rng.startContainer.hasChildNodes()) {\n              node = rng.startContainer.childNodes[rng.startOffset];\n              if (node && node.tagName === 'IMG') {\n                sel.setBaseAndExtent(rng.startContainer, rng.startOffset, rng.endContainer, rng.endOffset);\n                if (sel.anchorNode !== rng.startContainer || sel.focusNode !== rng.endContainer) {\n                  sel.setBaseAndExtent(node, 0, node, 1);\n                }\n              }\n            }\n          }\n        }\n        editor.fire('AfterSetSelectionRange', {\n          range: rng,\n          forward: forward\n        });\n      };\n      var setNode = function (elm) {\n        setContent(dom.getOuterHTML(elm));\n        return elm;\n      };\n      var getNode$1 = function () {\n        return getNode(editor.getBody(), getRng$1());\n      };\n      var getSelectedBlocks$1 = function (startElm, endElm) {\n        return getSelectedBlocks(dom, getRng$1(), startElm, endElm);\n      };\n      var isForward = function () {\n        var sel = getSel();\n        var anchorNode = sel === null || sel === void 0 ? void 0 : sel.anchorNode;\n        var focusNode = sel === null || sel === void 0 ? void 0 : sel.focusNode;\n        if (!sel || !anchorNode || !focusNode || isRestrictedNode(anchorNode) || isRestrictedNode(focusNode)) {\n          return true;\n        }\n        var anchorRange = dom.createRng();\n        anchorRange.setStart(anchorNode, sel.anchorOffset);\n        anchorRange.collapse(true);\n        var focusRange = dom.createRng();\n        focusRange.setStart(focusNode, sel.focusOffset);\n        focusRange.collapse(true);\n        return anchorRange.compareBoundaryPoints(anchorRange.START_TO_START, focusRange) <= 0;\n      };\n      var normalize = function () {\n        var rng = getRng$1();\n        var sel = getSel();\n        if (!hasMultipleRanges(sel) && hasAnyRanges(editor)) {\n          var normRng = normalize$2(dom, rng);\n          normRng.each(function (normRng) {\n            setRng(normRng, isForward());\n          });\n          return normRng.getOr(rng);\n        }\n        return rng;\n      };\n      var selectorChanged = function (selector, callback) {\n        selectorChangedWithUnbind(selector, callback);\n        return exports;\n      };\n      var getScrollContainer = function () {\n        var scrollContainer;\n        var node = dom.getRoot();\n        while (node && node.nodeName !== 'BODY') {\n          if (node.scrollHeight > node.clientHeight) {\n            scrollContainer = node;\n            break;\n          }\n          node = node.parentNode;\n        }\n        return scrollContainer;\n      };\n      var scrollIntoView = function (elm, alignToTop) {\n        if (isNonNullable(elm)) {\n          scrollElementIntoView(editor, elm, alignToTop);\n        } else {\n          scrollRangeIntoView(editor, getRng$1(), alignToTop);\n        }\n      };\n      var placeCaretAt = function (clientX, clientY) {\n        return setRng(fromPoint(clientX, clientY, editor.getDoc()));\n      };\n      var getBoundingClientRect = function () {\n        var rng = getRng$1();\n        return rng.collapsed ? CaretPosition.fromRangeStart(rng).getClientRects()[0] : rng.getBoundingClientRect();\n      };\n      var destroy = function () {\n        win = selectedRange = explicitRange = null;\n        controlSelection.destroy();\n      };\n      var exports = {\n        bookmarkManager: null,\n        controlSelection: null,\n        dom: dom,\n        win: win,\n        serializer: serializer,\n        editor: editor,\n        collapse: collapse,\n        setCursorLocation: setCursorLocation,\n        getContent: getContent,\n        setContent: setContent,\n        getBookmark: getBookmark,\n        moveToBookmark: moveToBookmark,\n        select: select$1,\n        isCollapsed: isCollapsed,\n        isForward: isForward,\n        setNode: setNode,\n        getNode: getNode$1,\n        getSel: getSel,\n        setRng: setRng,\n        getRng: getRng$1,\n        getStart: getStart$1,\n        getEnd: getEnd$1,\n        getSelectedBlocks: getSelectedBlocks$1,\n        normalize: normalize,\n        selectorChanged: selectorChanged,\n        selectorChangedWithUnbind: selectorChangedWithUnbind,\n        getScrollContainer: getScrollContainer,\n        scrollIntoView: scrollIntoView,\n        placeCaretAt: placeCaretAt,\n        getBoundingClientRect: getBoundingClientRect,\n        destroy: destroy\n      };\n      var bookmarkManager = BookmarkManager(exports);\n      var controlSelection = ControlSelection(exports, editor);\n      exports.bookmarkManager = bookmarkManager;\n      exports.controlSelection = controlSelection;\n      return exports;\n    };\n\n    var removeAttrs = function (node, names) {\n      each$k(names, function (name) {\n        node.attr(name, null);\n      });\n    };\n    var addFontToSpansFilter = function (domParser, styles, fontSizes) {\n      domParser.addNodeFilter('font', function (nodes) {\n        each$k(nodes, function (node) {\n          var props = styles.parse(node.attr('style'));\n          var color = node.attr('color');\n          var face = node.attr('face');\n          var size = node.attr('size');\n          if (color) {\n            props.color = color;\n          }\n          if (face) {\n            props['font-family'] = face;\n          }\n          if (size) {\n            props['font-size'] = fontSizes[parseInt(node.attr('size'), 10) - 1];\n          }\n          node.name = 'span';\n          node.attr('style', styles.serialize(props));\n          removeAttrs(node, [\n            'color',\n            'face',\n            'size'\n          ]);\n        });\n      });\n    };\n    var addStrikeToSpanFilter = function (domParser, styles) {\n      domParser.addNodeFilter('strike', function (nodes) {\n        each$k(nodes, function (node) {\n          var props = styles.parse(node.attr('style'));\n          props['text-decoration'] = 'line-through';\n          node.name = 'span';\n          node.attr('style', styles.serialize(props));\n        });\n      });\n    };\n    var addFilters = function (domParser, settings) {\n      var styles = Styles();\n      if (settings.convert_fonts_to_spans) {\n        addFontToSpansFilter(domParser, styles, Tools.explode(settings.font_size_legacy_values));\n      }\n      addStrikeToSpanFilter(domParser, styles);\n    };\n    var register$2 = function (domParser, settings) {\n      if (settings.inline_styles) {\n        addFilters(domParser, settings);\n      }\n    };\n\n    var blobUriToBlob = function (url) {\n      return new promiseObj(function (resolve, reject) {\n        var rejectWithError = function () {\n          reject('Cannot convert ' + url + ' to Blob. Resource might not exist or is inaccessible.');\n        };\n        try {\n          var xhr_1 = new XMLHttpRequest();\n          xhr_1.open('GET', url, true);\n          xhr_1.responseType = 'blob';\n          xhr_1.onload = function () {\n            if (xhr_1.status === 200) {\n              resolve(xhr_1.response);\n            } else {\n              rejectWithError();\n            }\n          };\n          xhr_1.onerror = rejectWithError;\n          xhr_1.send();\n        } catch (ex) {\n          rejectWithError();\n        }\n      });\n    };\n    var parseDataUri = function (uri) {\n      var type;\n      var uriParts = decodeURIComponent(uri).split(',');\n      var matches = /data:([^;]+)/.exec(uriParts[0]);\n      if (matches) {\n        type = matches[1];\n      }\n      return {\n        type: type,\n        data: uriParts[1]\n      };\n    };\n    var buildBlob = function (type, data) {\n      var str;\n      try {\n        str = atob(data);\n      } catch (e) {\n        return Optional.none();\n      }\n      var arr = new Uint8Array(str.length);\n      for (var i = 0; i < arr.length; i++) {\n        arr[i] = str.charCodeAt(i);\n      }\n      return Optional.some(new Blob([arr], { type: type }));\n    };\n    var dataUriToBlob = function (uri) {\n      return new promiseObj(function (resolve) {\n        var _a = parseDataUri(uri), type = _a.type, data = _a.data;\n        buildBlob(type, data).fold(function () {\n          return resolve(new Blob([]));\n        }, resolve);\n      });\n    };\n    var uriToBlob = function (url) {\n      if (url.indexOf('blob:') === 0) {\n        return blobUriToBlob(url);\n      }\n      if (url.indexOf('data:') === 0) {\n        return dataUriToBlob(url);\n      }\n      return null;\n    };\n    var blobToDataUri = function (blob) {\n      return new promiseObj(function (resolve) {\n        var reader = new FileReader();\n        reader.onloadend = function () {\n          resolve(reader.result);\n        };\n        reader.readAsDataURL(blob);\n      });\n    };\n\n    var count$1 = 0;\n    var uniqueId = function (prefix) {\n      return (prefix || 'blobid') + count$1++;\n    };\n    var imageToBlobInfo = function (blobCache, img, resolve, reject) {\n      var base64, blobInfo;\n      if (img.src.indexOf('blob:') === 0) {\n        blobInfo = blobCache.getByUri(img.src);\n        if (blobInfo) {\n          resolve({\n            image: img,\n            blobInfo: blobInfo\n          });\n        } else {\n          uriToBlob(img.src).then(function (blob) {\n            blobToDataUri(blob).then(function (dataUri) {\n              base64 = parseDataUri(dataUri).data;\n              blobInfo = blobCache.create(uniqueId(), blob, base64);\n              blobCache.add(blobInfo);\n              resolve({\n                image: img,\n                blobInfo: blobInfo\n              });\n            });\n          }, function (err) {\n            reject(err);\n          });\n        }\n        return;\n      }\n      var _a = parseDataUri(img.src), data = _a.data, type = _a.type;\n      base64 = data;\n      blobInfo = blobCache.getByData(base64, type);\n      if (blobInfo) {\n        resolve({\n          image: img,\n          blobInfo: blobInfo\n        });\n      } else {\n        uriToBlob(img.src).then(function (blob) {\n          blobInfo = blobCache.create(uniqueId(), blob, base64);\n          blobCache.add(blobInfo);\n          resolve({\n            image: img,\n            blobInfo: blobInfo\n          });\n        }, function (err) {\n          reject(err);\n        });\n      }\n    };\n    var getAllImages = function (elm) {\n      return elm ? from(elm.getElementsByTagName('img')) : [];\n    };\n    var ImageScanner = function (uploadStatus, blobCache) {\n      var cachedPromises = {};\n      var findAll = function (elm, predicate) {\n        if (!predicate) {\n          predicate = always;\n        }\n        var images = filter$4(getAllImages(elm), function (img) {\n          var src = img.src;\n          if (!Env.fileApi) {\n            return false;\n          }\n          if (img.hasAttribute('data-mce-bogus')) {\n            return false;\n          }\n          if (img.hasAttribute('data-mce-placeholder')) {\n            return false;\n          }\n          if (!src || src === Env.transparentSrc) {\n            return false;\n          }\n          if (src.indexOf('blob:') === 0) {\n            return !uploadStatus.isUploaded(src) && predicate(img);\n          }\n          if (src.indexOf('data:') === 0) {\n            return predicate(img);\n          }\n          return false;\n        });\n        var promises = map$3(images, function (img) {\n          if (cachedPromises[img.src] !== undefined) {\n            return new promiseObj(function (resolve) {\n              cachedPromises[img.src].then(function (imageInfo) {\n                if (typeof imageInfo === 'string') {\n                  return imageInfo;\n                }\n                resolve({\n                  image: img,\n                  blobInfo: imageInfo.blobInfo\n                });\n              });\n            });\n          }\n          var newPromise = new promiseObj(function (resolve, reject) {\n            imageToBlobInfo(blobCache, img, resolve, reject);\n          }).then(function (result) {\n            delete cachedPromises[result.image.src];\n            return result;\n          }).catch(function (error) {\n            delete cachedPromises[img.src];\n            return error;\n          });\n          cachedPromises[img.src] = newPromise;\n          return newPromise;\n        });\n        return promiseObj.all(promises);\n      };\n      return { findAll: findAll };\n    };\n\n    var paddEmptyNode = function (settings, args, blockElements, node) {\n      var brPreferred = settings.padd_empty_with_br || args.insert;\n      if (brPreferred && blockElements[node.name]) {\n        node.empty().append(new AstNode('br', 1)).shortEnded = true;\n      } else {\n        node.empty().append(new AstNode('#text', 3)).value = nbsp;\n      }\n    };\n    var isPaddedWithNbsp = function (node) {\n      return hasOnlyChild(node, '#text') && node.firstChild.value === nbsp;\n    };\n    var hasOnlyChild = function (node, name) {\n      return node && node.firstChild && node.firstChild === node.lastChild && node.firstChild.name === name;\n    };\n    var isPadded = function (schema, node) {\n      var rule = schema.getElementRule(node.name);\n      return rule && rule.paddEmpty;\n    };\n    var isEmpty = function (schema, nonEmptyElements, whitespaceElements, node) {\n      return node.isEmpty(nonEmptyElements, whitespaceElements, function (node) {\n        return isPadded(schema, node);\n      });\n    };\n    var isLineBreakNode = function (node, blockElements) {\n      return node && (has$2(blockElements, node.name) || node.name === 'br');\n    };\n\n    var isBogusImage = function (img) {\n      return isNonNullable(img.attr('data-mce-bogus'));\n    };\n    var isInternalImageSource = function (img) {\n      return img.attr('src') === Env.transparentSrc || isNonNullable(img.attr('data-mce-placeholder'));\n    };\n    var isValidDataImg = function (img, settings) {\n      if (settings.images_dataimg_filter) {\n        var imgElem_1 = new Image();\n        imgElem_1.src = img.attr('src');\n        each$j(img.attributes.map, function (value, key) {\n          imgElem_1.setAttribute(key, value);\n        });\n        return settings.images_dataimg_filter(imgElem_1);\n      } else {\n        return true;\n      }\n    };\n    var registerBase64ImageFilter = function (parser, settings) {\n      var blobCache = settings.blob_cache;\n      var processImage = function (img) {\n        var inputSrc = img.attr('src');\n        if (isInternalImageSource(img) || isBogusImage(img)) {\n          return;\n        }\n        parseDataUri$1(inputSrc).filter(function () {\n          return isValidDataImg(img, settings);\n        }).bind(function (_a) {\n          var type = _a.type, data = _a.data;\n          return Optional.from(blobCache.getByData(data, type)).orThunk(function () {\n            return buildBlob(type, data).map(function (blob) {\n              var blobInfo = blobCache.create(uniqueId(), blob, data);\n              blobCache.add(blobInfo);\n              return blobInfo;\n            });\n          });\n        }).each(function (blobInfo) {\n          img.attr('src', blobInfo.blobUri());\n        });\n      };\n      if (blobCache) {\n        parser.addAttributeFilter('src', function (nodes) {\n          return each$k(nodes, processImage);\n        });\n      }\n    };\n    var register$1 = function (parser, settings) {\n      var schema = parser.schema;\n      if (settings.remove_trailing_brs) {\n        parser.addNodeFilter('br', function (nodes, _, args) {\n          var i;\n          var l = nodes.length;\n          var node;\n          var blockElements = Tools.extend({}, schema.getBlockElements());\n          var nonEmptyElements = schema.getNonEmptyElements();\n          var parent, lastParent, prev, prevName;\n          var whiteSpaceElements = schema.getWhiteSpaceElements();\n          var elementRule, textNode;\n          blockElements.body = 1;\n          for (i = 0; i < l; i++) {\n            node = nodes[i];\n            parent = node.parent;\n            if (blockElements[node.parent.name] && node === parent.lastChild) {\n              prev = node.prev;\n              while (prev) {\n                prevName = prev.name;\n                if (prevName !== 'span' || prev.attr('data-mce-type') !== 'bookmark') {\n                  if (prevName === 'br') {\n                    node = null;\n                  }\n                  break;\n                }\n                prev = prev.prev;\n              }\n              if (node) {\n                node.remove();\n                if (isEmpty(schema, nonEmptyElements, whiteSpaceElements, parent)) {\n                  elementRule = schema.getElementRule(parent.name);\n                  if (elementRule) {\n                    if (elementRule.removeEmpty) {\n                      parent.remove();\n                    } else if (elementRule.paddEmpty) {\n                      paddEmptyNode(settings, args, blockElements, parent);\n                    }\n                  }\n                }\n              }\n            } else {\n              lastParent = node;\n              while (parent && parent.firstChild === lastParent && parent.lastChild === lastParent) {\n                lastParent = parent;\n                if (blockElements[parent.name]) {\n                  break;\n                }\n                parent = parent.parent;\n              }\n              if (lastParent === parent && settings.padd_empty_with_br !== true) {\n                textNode = new AstNode('#text', 3);\n                textNode.value = nbsp;\n                node.replace(textNode);\n              }\n            }\n          }\n        });\n      }\n      parser.addAttributeFilter('href', function (nodes) {\n        var i = nodes.length;\n        var appendRel = function (rel) {\n          var parts = rel.split(' ').filter(function (p) {\n            return p.length > 0;\n          });\n          return parts.concat(['noopener']).sort().join(' ');\n        };\n        var addNoOpener = function (rel) {\n          var newRel = rel ? Tools.trim(rel) : '';\n          if (!/\\b(noopener)\\b/g.test(newRel)) {\n            return appendRel(newRel);\n          } else {\n            return newRel;\n          }\n        };\n        if (!settings.allow_unsafe_link_target) {\n          while (i--) {\n            var node = nodes[i];\n            if (node.name === 'a' && node.attr('target') === '_blank') {\n              node.attr('rel', addNoOpener(node.attr('rel')));\n            }\n          }\n        }\n      });\n      if (!settings.allow_html_in_named_anchor) {\n        parser.addAttributeFilter('id,name', function (nodes) {\n          var i = nodes.length, sibling, prevSibling, parent, node;\n          while (i--) {\n            node = nodes[i];\n            if (node.name === 'a' && node.firstChild && !node.attr('href')) {\n              parent = node.parent;\n              sibling = node.lastChild;\n              do {\n                prevSibling = sibling.prev;\n                parent.insert(sibling, node);\n                sibling = prevSibling;\n              } while (sibling);\n            }\n          }\n        });\n      }\n      if (settings.fix_list_elements) {\n        parser.addNodeFilter('ul,ol', function (nodes) {\n          var i = nodes.length, node, parentNode;\n          while (i--) {\n            node = nodes[i];\n            parentNode = node.parent;\n            if (parentNode.name === 'ul' || parentNode.name === 'ol') {\n              if (node.prev && node.prev.name === 'li') {\n                node.prev.append(node);\n              } else {\n                var li = new AstNode('li', 1);\n                li.attr('style', 'list-style-type: none');\n                node.wrap(li);\n              }\n            }\n          }\n        });\n      }\n      if (settings.validate && schema.getValidClasses()) {\n        parser.addAttributeFilter('class', function (nodes) {\n          var validClasses = schema.getValidClasses();\n          var i = nodes.length;\n          while (i--) {\n            var node = nodes[i];\n            var classList = node.attr('class').split(' ');\n            var classValue = '';\n            for (var ci = 0; ci < classList.length; ci++) {\n              var className = classList[ci];\n              var valid = false;\n              var validClassesMap = validClasses['*'];\n              if (validClassesMap && validClassesMap[className]) {\n                valid = true;\n              }\n              validClassesMap = validClasses[node.name];\n              if (!valid && validClassesMap && validClassesMap[className]) {\n                valid = true;\n              }\n              if (valid) {\n                if (classValue) {\n                  classValue += ' ';\n                }\n                classValue += className;\n              }\n            }\n            if (!classValue.length) {\n              classValue = null;\n            }\n            node.attr('class', classValue);\n          }\n        });\n      }\n      registerBase64ImageFilter(parser, settings);\n    };\n\n    var makeMap = Tools.makeMap, each$6 = Tools.each, explode$2 = Tools.explode, extend$4 = Tools.extend;\n    var DomParser = function (settings, schema) {\n      if (schema === void 0) {\n        schema = Schema();\n      }\n      var nodeFilters = {};\n      var attributeFilters = [];\n      var matchedNodes = {};\n      var matchedAttributes = {};\n      settings = settings || {};\n      settings.validate = 'validate' in settings ? settings.validate : true;\n      settings.root_name = settings.root_name || 'body';\n      var fixInvalidChildren = function (nodes) {\n        var nonSplitableElements = makeMap('tr,td,th,tbody,thead,tfoot,table');\n        var nonEmptyElements = schema.getNonEmptyElements();\n        var whitespaceElements = schema.getWhiteSpaceElements();\n        var textBlockElements = schema.getTextBlockElements();\n        var specialElements = schema.getSpecialElements();\n        var removeOrUnwrapInvalidNode = function (node, originalNodeParent) {\n          if (originalNodeParent === void 0) {\n            originalNodeParent = node.parent;\n          }\n          if (specialElements[node.name]) {\n            node.empty().remove();\n          } else {\n            var children = node.children();\n            for (var _i = 0, children_1 = children; _i < children_1.length; _i++) {\n              var childNode = children_1[_i];\n              if (!schema.isValidChild(originalNodeParent.name, childNode.name)) {\n                removeOrUnwrapInvalidNode(childNode, originalNodeParent);\n              }\n            }\n            node.unwrap();\n          }\n        };\n        for (var ni = 0; ni < nodes.length; ni++) {\n          var node = nodes[ni];\n          var parent_1 = void 0, newParent = void 0, tempNode = void 0;\n          if (!node.parent || node.fixed) {\n            continue;\n          }\n          if (textBlockElements[node.name] && node.parent.name === 'li') {\n            var sibling = node.next;\n            while (sibling) {\n              if (textBlockElements[sibling.name]) {\n                sibling.name = 'li';\n                sibling.fixed = true;\n                node.parent.insert(sibling, node.parent);\n              } else {\n                break;\n              }\n              sibling = sibling.next;\n            }\n            node.unwrap();\n            continue;\n          }\n          var parents = [node];\n          for (parent_1 = node.parent; parent_1 && !schema.isValidChild(parent_1.name, node.name) && !nonSplitableElements[parent_1.name]; parent_1 = parent_1.parent) {\n            parents.push(parent_1);\n          }\n          if (parent_1 && parents.length > 1) {\n            if (schema.isValidChild(parent_1.name, node.name)) {\n              parents.reverse();\n              newParent = filterNode(parents[0].clone());\n              var currentNode = newParent;\n              for (var i = 0; i < parents.length - 1; i++) {\n                if (schema.isValidChild(currentNode.name, parents[i].name)) {\n                  tempNode = filterNode(parents[i].clone());\n                  currentNode.append(tempNode);\n                } else {\n                  tempNode = currentNode;\n                }\n                for (var childNode = parents[i].firstChild; childNode && childNode !== parents[i + 1];) {\n                  var nextNode = childNode.next;\n                  tempNode.append(childNode);\n                  childNode = nextNode;\n                }\n                currentNode = tempNode;\n              }\n              if (!isEmpty(schema, nonEmptyElements, whitespaceElements, newParent)) {\n                parent_1.insert(newParent, parents[0], true);\n                parent_1.insert(node, newParent);\n              } else {\n                parent_1.insert(node, parents[0], true);\n              }\n              parent_1 = parents[0];\n              if (isEmpty(schema, nonEmptyElements, whitespaceElements, parent_1) || hasOnlyChild(parent_1, 'br')) {\n                parent_1.empty().remove();\n              }\n            } else {\n              removeOrUnwrapInvalidNode(node);\n            }\n          } else if (node.parent) {\n            if (node.name === 'li') {\n              var sibling = node.prev;\n              if (sibling && (sibling.name === 'ul' || sibling.name === 'ol')) {\n                sibling.append(node);\n                continue;\n              }\n              sibling = node.next;\n              if (sibling && (sibling.name === 'ul' || sibling.name === 'ol')) {\n                sibling.insert(node, sibling.firstChild, true);\n                continue;\n              }\n              node.wrap(filterNode(new AstNode('ul', 1)));\n              continue;\n            }\n            if (schema.isValidChild(node.parent.name, 'div') && schema.isValidChild('div', node.name)) {\n              node.wrap(filterNode(new AstNode('div', 1)));\n            } else {\n              removeOrUnwrapInvalidNode(node);\n            }\n          }\n        }\n      };\n      var filterNode = function (node) {\n        var name = node.name;\n        if (name in nodeFilters) {\n          var list = matchedNodes[name];\n          if (list) {\n            list.push(node);\n          } else {\n            matchedNodes[name] = [node];\n          }\n        }\n        var i = attributeFilters.length;\n        while (i--) {\n          var attrName = attributeFilters[i].name;\n          if (attrName in node.attributes.map) {\n            var list = matchedAttributes[attrName];\n            if (list) {\n              list.push(node);\n            } else {\n              matchedAttributes[attrName] = [node];\n            }\n          }\n        }\n        return node;\n      };\n      var addNodeFilter = function (name, callback) {\n        each$6(explode$2(name), function (name) {\n          var list = nodeFilters[name];\n          if (!list) {\n            nodeFilters[name] = list = [];\n          }\n          list.push(callback);\n        });\n      };\n      var getNodeFilters = function () {\n        var out = [];\n        for (var name_1 in nodeFilters) {\n          if (has$2(nodeFilters, name_1)) {\n            out.push({\n              name: name_1,\n              callbacks: nodeFilters[name_1]\n            });\n          }\n        }\n        return out;\n      };\n      var addAttributeFilter = function (name, callback) {\n        each$6(explode$2(name), function (name) {\n          var i;\n          for (i = 0; i < attributeFilters.length; i++) {\n            if (attributeFilters[i].name === name) {\n              attributeFilters[i].callbacks.push(callback);\n              return;\n            }\n          }\n          attributeFilters.push({\n            name: name,\n            callbacks: [callback]\n          });\n        });\n      };\n      var getAttributeFilters = function () {\n        return [].concat(attributeFilters);\n      };\n      var parse = function (html, args) {\n        var nodes, i, l, fi, fl, list, name;\n        var invalidChildren = [];\n        var node;\n        var getRootBlockName = function (name) {\n          if (name === false) {\n            return '';\n          } else if (name === true) {\n            return 'p';\n          } else {\n            return name;\n          }\n        };\n        args = args || {};\n        matchedNodes = {};\n        matchedAttributes = {};\n        var blockElements = extend$4(makeMap('script,style,head,html,body,title,meta,param'), schema.getBlockElements());\n        var nonEmptyElements = schema.getNonEmptyElements();\n        var children = schema.children;\n        var validate = settings.validate;\n        var forcedRootBlockName = 'forced_root_block' in args ? args.forced_root_block : settings.forced_root_block;\n        var rootBlockName = getRootBlockName(forcedRootBlockName);\n        var whiteSpaceElements = schema.getWhiteSpaceElements();\n        var startWhiteSpaceRegExp = /^[ \\t\\r\\n]+/;\n        var endWhiteSpaceRegExp = /[ \\t\\r\\n]+$/;\n        var allWhiteSpaceRegExp = /[ \\t\\r\\n]+/g;\n        var isAllWhiteSpaceRegExp = /^[ \\t\\r\\n]+$/;\n        var isInWhiteSpacePreservedElement = has$2(whiteSpaceElements, args.context) || has$2(whiteSpaceElements, settings.root_name);\n        var addRootBlocks = function () {\n          var node = rootNode.firstChild, rootBlockNode = null;\n          var trim = function (rootBlock) {\n            if (rootBlock) {\n              node = rootBlock.firstChild;\n              if (node && node.type === 3) {\n                node.value = node.value.replace(startWhiteSpaceRegExp, '');\n              }\n              node = rootBlock.lastChild;\n              if (node && node.type === 3) {\n                node.value = node.value.replace(endWhiteSpaceRegExp, '');\n              }\n            }\n          };\n          if (!schema.isValidChild(rootNode.name, rootBlockName.toLowerCase())) {\n            return;\n          }\n          while (node) {\n            var next = node.next;\n            if (node.type === 3 || node.type === 1 && node.name !== 'p' && !blockElements[node.name] && !node.attr('data-mce-type')) {\n              if (!rootBlockNode) {\n                rootBlockNode = createNode(rootBlockName, 1);\n                rootBlockNode.attr(settings.forced_root_block_attrs);\n                rootNode.insert(rootBlockNode, node);\n                rootBlockNode.append(node);\n              } else {\n                rootBlockNode.append(node);\n              }\n            } else {\n              trim(rootBlockNode);\n              rootBlockNode = null;\n            }\n            node = next;\n          }\n          trim(rootBlockNode);\n        };\n        var createNode = function (name, type) {\n          var node = new AstNode(name, type);\n          var list;\n          if (name in nodeFilters) {\n            list = matchedNodes[name];\n            if (list) {\n              list.push(node);\n            } else {\n              matchedNodes[name] = [node];\n            }\n          }\n          return node;\n        };\n        var removeWhitespaceBefore = function (node) {\n          var blockElements = schema.getBlockElements();\n          for (var textNode = node.prev; textNode && textNode.type === 3;) {\n            var textVal = textNode.value.replace(endWhiteSpaceRegExp, '');\n            if (textVal.length > 0) {\n              textNode.value = textVal;\n              return;\n            }\n            var textNodeNext = textNode.next;\n            if (textNodeNext) {\n              if (textNodeNext.type === 3 && textNodeNext.value.length) {\n                textNode = textNode.prev;\n                continue;\n              }\n              if (!blockElements[textNodeNext.name] && textNodeNext.name !== 'script' && textNodeNext.name !== 'style') {\n                textNode = textNode.prev;\n                continue;\n              }\n            }\n            var sibling = textNode.prev;\n            textNode.remove();\n            textNode = sibling;\n          }\n        };\n        var cloneAndExcludeBlocks = function (input) {\n          var output = {};\n          for (var name_2 in input) {\n            if (name_2 !== 'li' && name_2 !== 'p') {\n              output[name_2] = input[name_2];\n            }\n          }\n          return output;\n        };\n        var parser = SaxParser({\n          validate: validate,\n          document: settings.document,\n          allow_html_data_urls: settings.allow_html_data_urls,\n          allow_svg_data_urls: settings.allow_svg_data_urls,\n          allow_script_urls: settings.allow_script_urls,\n          allow_conditional_comments: settings.allow_conditional_comments,\n          preserve_cdata: settings.preserve_cdata,\n          self_closing_elements: cloneAndExcludeBlocks(schema.getSelfClosingElements()),\n          cdata: function (text) {\n            node.append(createNode('#cdata', 4)).value = text;\n          },\n          text: function (text, raw) {\n            var textNode;\n            if (!isInWhiteSpacePreservedElement) {\n              text = text.replace(allWhiteSpaceRegExp, ' ');\n              if (isLineBreakNode(node.lastChild, blockElements)) {\n                text = text.replace(startWhiteSpaceRegExp, '');\n              }\n            }\n            if (text.length !== 0) {\n              textNode = createNode('#text', 3);\n              textNode.raw = !!raw;\n              node.append(textNode).value = text;\n            }\n          },\n          comment: function (text) {\n            node.append(createNode('#comment', 8)).value = text;\n          },\n          pi: function (name, text) {\n            node.append(createNode(name, 7)).value = text;\n            removeWhitespaceBefore(node);\n          },\n          doctype: function (text) {\n            var newNode = node.append(createNode('#doctype', 10));\n            newNode.value = text;\n            removeWhitespaceBefore(node);\n          },\n          start: function (name, attrs, empty) {\n            var elementRule = validate ? schema.getElementRule(name) : {};\n            if (elementRule) {\n              var newNode = createNode(elementRule.outputName || name, 1);\n              newNode.attributes = attrs;\n              newNode.shortEnded = empty;\n              node.append(newNode);\n              var parent_2 = children[node.name];\n              if (parent_2 && children[newNode.name] && !parent_2[newNode.name]) {\n                invalidChildren.push(newNode);\n              }\n              var attrFiltersLen = attributeFilters.length;\n              while (attrFiltersLen--) {\n                var attrName = attributeFilters[attrFiltersLen].name;\n                if (attrName in attrs.map) {\n                  list = matchedAttributes[attrName];\n                  if (list) {\n                    list.push(newNode);\n                  } else {\n                    matchedAttributes[attrName] = [newNode];\n                  }\n                }\n              }\n              if (blockElements[name]) {\n                removeWhitespaceBefore(newNode);\n              }\n              if (!empty) {\n                node = newNode;\n              }\n              if (!isInWhiteSpacePreservedElement && whiteSpaceElements[name]) {\n                isInWhiteSpacePreservedElement = true;\n              }\n            }\n          },\n          end: function (name) {\n            var textNode, text, sibling, tempNode;\n            var elementRule = validate ? schema.getElementRule(name) : {};\n            if (elementRule) {\n              if (blockElements[name]) {\n                if (!isInWhiteSpacePreservedElement) {\n                  textNode = node.firstChild;\n                  if (textNode && textNode.type === 3) {\n                    text = textNode.value.replace(startWhiteSpaceRegExp, '');\n                    if (text.length > 0) {\n                      textNode.value = text;\n                      textNode = textNode.next;\n                    } else {\n                      sibling = textNode.next;\n                      textNode.remove();\n                      textNode = sibling;\n                      while (textNode && textNode.type === 3) {\n                        text = textNode.value;\n                        sibling = textNode.next;\n                        if (text.length === 0 || isAllWhiteSpaceRegExp.test(text)) {\n                          textNode.remove();\n                          textNode = sibling;\n                        }\n                        textNode = sibling;\n                      }\n                    }\n                  }\n                  textNode = node.lastChild;\n                  if (textNode && textNode.type === 3) {\n                    text = textNode.value.replace(endWhiteSpaceRegExp, '');\n                    if (text.length > 0) {\n                      textNode.value = text;\n                      textNode = textNode.prev;\n                    } else {\n                      sibling = textNode.prev;\n                      textNode.remove();\n                      textNode = sibling;\n                      while (textNode && textNode.type === 3) {\n                        text = textNode.value;\n                        sibling = textNode.prev;\n                        if (text.length === 0 || isAllWhiteSpaceRegExp.test(text)) {\n                          textNode.remove();\n                          textNode = sibling;\n                        }\n                        textNode = sibling;\n                      }\n                    }\n                  }\n                }\n              }\n              if (isInWhiteSpacePreservedElement && whiteSpaceElements[name]) {\n                isInWhiteSpacePreservedElement = false;\n              }\n              if (elementRule.removeEmpty && isEmpty(schema, nonEmptyElements, whiteSpaceElements, node)) {\n                tempNode = node.parent;\n                if (blockElements[node.name]) {\n                  node.empty().remove();\n                } else {\n                  node.unwrap();\n                }\n                node = tempNode;\n                return;\n              }\n              if (elementRule.paddEmpty && (isPaddedWithNbsp(node) || isEmpty(schema, nonEmptyElements, whiteSpaceElements, node))) {\n                paddEmptyNode(settings, args, blockElements, node);\n              }\n              node = node.parent;\n            }\n          }\n        }, schema);\n        var rootNode = node = new AstNode(args.context || settings.root_name, 11);\n        parser.parse(html, args.format);\n        if (validate && invalidChildren.length) {\n          if (!args.context) {\n            fixInvalidChildren(invalidChildren);\n          } else {\n            args.invalid = true;\n          }\n        }\n        if (rootBlockName && (rootNode.name === 'body' || args.isRootContent)) {\n          addRootBlocks();\n        }\n        if (!args.invalid) {\n          for (name in matchedNodes) {\n            if (!has$2(matchedNodes, name)) {\n              continue;\n            }\n            list = nodeFilters[name];\n            nodes = matchedNodes[name];\n            fi = nodes.length;\n            while (fi--) {\n              if (!nodes[fi].parent) {\n                nodes.splice(fi, 1);\n              }\n            }\n            for (i = 0, l = list.length; i < l; i++) {\n              list[i](nodes, name, args);\n            }\n          }\n          for (i = 0, l = attributeFilters.length; i < l; i++) {\n            list = attributeFilters[i];\n            if (list.name in matchedAttributes) {\n              nodes = matchedAttributes[list.name];\n              fi = nodes.length;\n              while (fi--) {\n                if (!nodes[fi].parent) {\n                  nodes.splice(fi, 1);\n                }\n              }\n              for (fi = 0, fl = list.callbacks.length; fi < fl; fi++) {\n                list.callbacks[fi](nodes, list.name, args);\n              }\n            }\n          }\n        }\n        return rootNode;\n      };\n      var exports = {\n        schema: schema,\n        addAttributeFilter: addAttributeFilter,\n        getAttributeFilters: getAttributeFilters,\n        addNodeFilter: addNodeFilter,\n        getNodeFilters: getNodeFilters,\n        filterNode: filterNode,\n        parse: parse\n      };\n      register$1(exports, settings);\n      register$2(exports, settings);\n      return exports;\n    };\n\n    var register = function (htmlParser, settings, dom) {\n      htmlParser.addAttributeFilter('data-mce-tabindex', function (nodes, name) {\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          node.attr('tabindex', node.attr('data-mce-tabindex'));\n          node.attr(name, null);\n        }\n      });\n      htmlParser.addAttributeFilter('src,href,style', function (nodes, name) {\n        var internalName = 'data-mce-' + name;\n        var urlConverter = settings.url_converter;\n        var urlConverterScope = settings.url_converter_scope;\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          var value = node.attr(internalName);\n          if (value !== undefined) {\n            node.attr(name, value.length > 0 ? value : null);\n            node.attr(internalName, null);\n          } else {\n            value = node.attr(name);\n            if (name === 'style') {\n              value = dom.serializeStyle(dom.parseStyle(value), node.name);\n            } else if (urlConverter) {\n              value = urlConverter.call(urlConverterScope, value, name, node.name);\n            }\n            node.attr(name, value.length > 0 ? value : null);\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('class', function (nodes) {\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          var value = node.attr('class');\n          if (value) {\n            value = node.attr('class').replace(/(?:^|\\s)mce-item-\\w+(?!\\S)/g, '');\n            node.attr('class', value.length > 0 ? value : null);\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('data-mce-type', function (nodes, name, args) {\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          if (node.attr('data-mce-type') === 'bookmark' && !args.cleanup) {\n            var hasChildren = Optional.from(node.firstChild).exists(function (firstChild) {\n              return !isZwsp(firstChild.value);\n            });\n            if (hasChildren) {\n              node.unwrap();\n            } else {\n              node.remove();\n            }\n          }\n        }\n      });\n      htmlParser.addNodeFilter('noscript', function (nodes) {\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i].firstChild;\n          if (node) {\n            node.value = Entities.decode(node.value);\n          }\n        }\n      });\n      htmlParser.addNodeFilter('script,style', function (nodes, name) {\n        var trim = function (value) {\n          return value.replace(/(<!--\\[CDATA\\[|\\]\\]-->)/g, '\\n').replace(/^[\\r\\n]*|[\\r\\n]*$/g, '').replace(/^\\s*((<!--)?(\\s*\\/\\/)?\\s*<!\\[CDATA\\[|(<!--\\s*)?\\/\\*\\s*<!\\[CDATA\\[\\s*\\*\\/|(\\/\\/)?\\s*<!--|\\/\\*\\s*<!--\\s*\\*\\/)\\s*[\\r\\n]*/gi, '').replace(/\\s*(\\/\\*\\s*\\]\\]>\\s*\\*\\/(-->)?|\\s*\\/\\/\\s*\\]\\]>(-->)?|\\/\\/\\s*(-->)?|\\]\\]>|\\/\\*\\s*-->\\s*\\*\\/|\\s*-->\\s*)\\s*$/g, '');\n        };\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          var value = node.firstChild ? node.firstChild.value : '';\n          if (name === 'script') {\n            var type = node.attr('type');\n            if (type) {\n              node.attr('type', type === 'mce-no/type' ? null : type.replace(/^mce\\-/, ''));\n            }\n            if (settings.element_format === 'xhtml' && value.length > 0) {\n              node.firstChild.value = '// <![CDATA[\\n' + trim(value) + '\\n// ]]>';\n            }\n          } else {\n            if (settings.element_format === 'xhtml' && value.length > 0) {\n              node.firstChild.value = '<!--\\n' + trim(value) + '\\n-->';\n            }\n          }\n        }\n      });\n      htmlParser.addNodeFilter('#comment', function (nodes) {\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          if (settings.preserve_cdata && node.value.indexOf('[CDATA[') === 0) {\n            node.name = '#cdata';\n            node.type = 4;\n            node.value = dom.decode(node.value.replace(/^\\[CDATA\\[|\\]\\]$/g, ''));\n          } else if (node.value.indexOf('mce:protected ') === 0) {\n            node.name = '#text';\n            node.type = 3;\n            node.raw = true;\n            node.value = unescape(node.value).substr(14);\n          }\n        }\n      });\n      htmlParser.addNodeFilter('xml:namespace,input', function (nodes, name) {\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          if (node.type === 7) {\n            node.remove();\n          } else if (node.type === 1) {\n            if (name === 'input' && !node.attr('type')) {\n              node.attr('type', 'text');\n            }\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('data-mce-type', function (nodes) {\n        each$k(nodes, function (node) {\n          if (node.attr('data-mce-type') === 'format-caret') {\n            if (node.isEmpty(htmlParser.schema.getNonEmptyElements())) {\n              node.remove();\n            } else {\n              node.unwrap();\n            }\n          }\n        });\n      });\n      htmlParser.addAttributeFilter('data-mce-src,data-mce-href,data-mce-style,' + 'data-mce-selected,data-mce-expando,' + 'data-mce-type,data-mce-resize,data-mce-placeholder', function (nodes, name) {\n        var i = nodes.length;\n        while (i--) {\n          nodes[i].attr(name, null);\n        }\n      });\n    };\n    var trimTrailingBr = function (rootNode) {\n      var isBr = function (node) {\n        return node && node.name === 'br';\n      };\n      var brNode1 = rootNode.lastChild;\n      if (isBr(brNode1)) {\n        var brNode2 = brNode1.prev;\n        if (isBr(brNode2)) {\n          brNode1.remove();\n          brNode2.remove();\n        }\n      }\n    };\n\n    var preProcess = function (editor, node, args) {\n      var oldDoc;\n      var dom = editor.dom;\n      var clonedNode = node.cloneNode(true);\n      var impl = document.implementation;\n      if (impl.createHTMLDocument) {\n        var doc_1 = impl.createHTMLDocument('');\n        Tools.each(clonedNode.nodeName === 'BODY' ? clonedNode.childNodes : [clonedNode], function (node) {\n          doc_1.body.appendChild(doc_1.importNode(node, true));\n        });\n        if (clonedNode.nodeName !== 'BODY') {\n          clonedNode = doc_1.body.firstChild;\n        } else {\n          clonedNode = doc_1.body;\n        }\n        oldDoc = dom.doc;\n        dom.doc = doc_1;\n      }\n      firePreProcess(editor, __assign(__assign({}, args), { node: clonedNode }));\n      if (oldDoc) {\n        dom.doc = oldDoc;\n      }\n      return clonedNode;\n    };\n    var shouldFireEvent = function (editor, args) {\n      return editor && editor.hasEventListeners('PreProcess') && !args.no_events;\n    };\n    var process = function (editor, node, args) {\n      return shouldFireEvent(editor, args) ? preProcess(editor, node, args) : node;\n    };\n\n    var addTempAttr = function (htmlParser, tempAttrs, name) {\n      if (Tools.inArray(tempAttrs, name) === -1) {\n        htmlParser.addAttributeFilter(name, function (nodes, name) {\n          var i = nodes.length;\n          while (i--) {\n            nodes[i].attr(name, null);\n          }\n        });\n        tempAttrs.push(name);\n      }\n    };\n    var postProcess = function (editor, args, content) {\n      if (!args.no_events && editor) {\n        var outArgs = firePostProcess(editor, __assign(__assign({}, args), { content: content }));\n        return outArgs.content;\n      } else {\n        return content;\n      }\n    };\n    var getHtmlFromNode = function (dom, node, args) {\n      var html = trim$2(args.getInner ? node.innerHTML : dom.getOuterHTML(node));\n      return args.selection || isWsPreserveElement(SugarElement.fromDom(node)) ? html : Tools.trim(html);\n    };\n    var parseHtml = function (htmlParser, html, args) {\n      var parserArgs = args.selection ? __assign({ forced_root_block: false }, args) : args;\n      var rootNode = htmlParser.parse(html, parserArgs);\n      trimTrailingBr(rootNode);\n      return rootNode;\n    };\n    var serializeNode = function (settings, schema, node) {\n      var htmlSerializer = HtmlSerializer(settings, schema);\n      return htmlSerializer.serialize(node);\n    };\n    var toHtml = function (editor, settings, schema, rootNode, args) {\n      var content = serializeNode(settings, schema, rootNode);\n      return postProcess(editor, args, content);\n    };\n    var DomSerializerImpl = function (settings, editor) {\n      var tempAttrs = ['data-mce-selected'];\n      var dom = editor && editor.dom ? editor.dom : DOMUtils.DOM;\n      var schema = editor && editor.schema ? editor.schema : Schema(settings);\n      settings.entity_encoding = settings.entity_encoding || 'named';\n      settings.remove_trailing_brs = 'remove_trailing_brs' in settings ? settings.remove_trailing_brs : true;\n      var htmlParser = DomParser(settings, schema);\n      register(htmlParser, settings, dom);\n      var serialize = function (node, parserArgs) {\n        if (parserArgs === void 0) {\n          parserArgs = {};\n        }\n        var args = __assign({ format: 'html' }, parserArgs);\n        var targetNode = process(editor, node, args);\n        var html = getHtmlFromNode(dom, targetNode, args);\n        var rootNode = parseHtml(htmlParser, html, args);\n        return args.format === 'tree' ? rootNode : toHtml(editor, settings, schema, rootNode, args);\n      };\n      return {\n        schema: schema,\n        addNodeFilter: htmlParser.addNodeFilter,\n        addAttributeFilter: htmlParser.addAttributeFilter,\n        serialize: serialize,\n        addRules: schema.addValidElements,\n        setRules: schema.setValidElements,\n        addTempAttr: curry(addTempAttr, htmlParser, tempAttrs),\n        getTempAttrs: constant(tempAttrs),\n        getNodeFilters: htmlParser.getNodeFilters,\n        getAttributeFilters: htmlParser.getAttributeFilters\n      };\n    };\n\n    var DomSerializer = function (settings, editor) {\n      var domSerializer = DomSerializerImpl(settings, editor);\n      return {\n        schema: domSerializer.schema,\n        addNodeFilter: domSerializer.addNodeFilter,\n        addAttributeFilter: domSerializer.addAttributeFilter,\n        serialize: domSerializer.serialize,\n        addRules: domSerializer.addRules,\n        setRules: domSerializer.setRules,\n        addTempAttr: domSerializer.addTempAttr,\n        getTempAttrs: domSerializer.getTempAttrs,\n        getNodeFilters: domSerializer.getNodeFilters,\n        getAttributeFilters: domSerializer.getAttributeFilters\n      };\n    };\n\n    var defaultFormat = 'html';\n    var getContent = function (editor, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      var format = args.format ? args.format : defaultFormat;\n      return getContent$2(editor, args, format);\n    };\n\n    var setContent = function (editor, content, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      return setContent$2(editor, content, args);\n    };\n\n    var DOM$7 = DOMUtils.DOM;\n    var restoreOriginalStyles = function (editor) {\n      DOM$7.setStyle(editor.id, 'display', editor.orgDisplay);\n    };\n    var safeDestroy = function (x) {\n      return Optional.from(x).each(function (x) {\n        return x.destroy();\n      });\n    };\n    var clearDomReferences = function (editor) {\n      editor.contentAreaContainer = editor.formElement = editor.container = editor.editorContainer = null;\n      editor.bodyElement = editor.contentDocument = editor.contentWindow = null;\n      editor.iframeElement = editor.targetElm = null;\n      if (editor.selection) {\n        editor.selection = editor.selection.win = editor.selection.dom = editor.selection.dom.doc = null;\n      }\n    };\n    var restoreForm = function (editor) {\n      var form = editor.formElement;\n      if (form) {\n        if (form._mceOldSubmit) {\n          form.submit = form._mceOldSubmit;\n          form._mceOldSubmit = null;\n        }\n        DOM$7.unbind(form, 'submit reset', editor.formEventDelegate);\n      }\n    };\n    var remove = function (editor) {\n      if (!editor.removed) {\n        var _selectionOverrides = editor._selectionOverrides, editorUpload = editor.editorUpload;\n        var body = editor.getBody();\n        var element = editor.getElement();\n        if (body) {\n          editor.save({ is_removing: true });\n        }\n        editor.removed = true;\n        editor.unbindAllNativeEvents();\n        if (editor.hasHiddenInput && element) {\n          DOM$7.remove(element.nextSibling);\n        }\n        fireRemove(editor);\n        editor.editorManager.remove(editor);\n        if (!editor.inline && body) {\n          restoreOriginalStyles(editor);\n        }\n        fireDetach(editor);\n        DOM$7.remove(editor.getContainer());\n        safeDestroy(_selectionOverrides);\n        safeDestroy(editorUpload);\n        editor.destroy();\n      }\n    };\n    var destroy = function (editor, automatic) {\n      var selection = editor.selection, dom = editor.dom;\n      if (editor.destroyed) {\n        return;\n      }\n      if (!automatic && !editor.removed) {\n        editor.remove();\n        return;\n      }\n      if (!automatic) {\n        editor.editorManager.off('beforeunload', editor._beforeUnload);\n        if (editor.theme && editor.theme.destroy) {\n          editor.theme.destroy();\n        }\n        safeDestroy(selection);\n        safeDestroy(dom);\n      }\n      restoreForm(editor);\n      clearDomReferences(editor);\n      editor.destroyed = true;\n    };\n\n    var deep = function (old, nu) {\n      var bothObjects = isObject(old) && isObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    var baseMerge = function (merger) {\n      return function () {\n        var objects = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          objects[_i] = arguments[_i];\n        }\n        if (objects.length === 0) {\n          throw new Error('Can\\'t merge zero objects');\n        }\n        var ret = {};\n        for (var j = 0; j < objects.length; j++) {\n          var curObject = objects[j];\n          for (var key in curObject) {\n            if (has$2(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    var deepMerge = baseMerge(deep);\n\n    var deprecatedSettings = ('autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,' + 'boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,' + 'force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,' + 'non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,' + 'tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,' + 'paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists').split(',');\n    var deprecatedPlugins = 'bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor'.split(',');\n    var movedToPremiumPlugins = 'imagetools,toc'.split(',');\n    var getDeprecatedSettings = function (settings) {\n      var settingNames = filter$4(deprecatedSettings, function (setting) {\n        return has$2(settings, setting);\n      });\n      var forcedRootBlock = settings.forced_root_block;\n      if (forcedRootBlock === false || forcedRootBlock === '') {\n        settingNames.push('forced_root_block (false only)');\n      }\n      return sort(settingNames);\n    };\n    var getDeprecatedPlugins = function (settings) {\n      var plugins = Tools.makeMap(settings.plugins, ' ');\n      var hasPlugin = function (plugin) {\n        return has$2(plugins, plugin);\n      };\n      var pluginNames = __spreadArray(__spreadArray([], filter$4(deprecatedPlugins, hasPlugin), true), bind(movedToPremiumPlugins, function (plugin) {\n        return hasPlugin(plugin) ? [plugin + ' (moving to premium)'] : [];\n      }), true);\n      return sort(pluginNames);\n    };\n    var logDeprecationsWarning = function (rawSettings, finalSettings) {\n      var deprecatedSettings = getDeprecatedSettings(rawSettings);\n      var deprecatedPlugins = getDeprecatedPlugins(finalSettings);\n      var hasDeprecatedPlugins = deprecatedPlugins.length > 0;\n      var hasDeprecatedSettings = deprecatedSettings.length > 0;\n      var isLegacyMobileTheme = finalSettings.theme === 'mobile';\n      if (hasDeprecatedPlugins || hasDeprecatedSettings || isLegacyMobileTheme) {\n        var listJoiner = '\\n- ';\n        var themesMessage = isLegacyMobileTheme ? '\\n\\nThemes:' + listJoiner + 'mobile' : '';\n        var pluginsMessage = hasDeprecatedPlugins ? '\\n\\nPlugins:' + listJoiner + deprecatedPlugins.join(listJoiner) : '';\n        var settingsMessage = hasDeprecatedSettings ? '\\n\\nSettings:' + listJoiner + deprecatedSettings.join(listJoiner) : '';\n        console.warn('The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. ' + 'See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information.' + themesMessage + pluginsMessage + settingsMessage);\n      }\n    };\n\n    var sectionResult = function (sections, settings) {\n      return {\n        sections: constant(sections),\n        settings: constant(settings)\n      };\n    };\n    var deviceDetection = detect().deviceType;\n    var isTouch = deviceDetection.isTouch();\n    var isPhone = deviceDetection.isPhone();\n    var isTablet = deviceDetection.isTablet();\n    var legacyMobilePlugins = [\n      'lists',\n      'autolink',\n      'autosave'\n    ];\n    var defaultTouchSettings = {\n      table_grid: false,\n      object_resizing: false,\n      resize: false\n    };\n    var normalizePlugins = function (plugins) {\n      var pluginNames = isArray$1(plugins) ? plugins.join(' ') : plugins;\n      var trimmedPlugins = map$3(isString$1(pluginNames) ? pluginNames.split(' ') : [], trim$4);\n      return filter$4(trimmedPlugins, function (item) {\n        return item.length > 0;\n      });\n    };\n    var filterLegacyMobilePlugins = function (plugins) {\n      return filter$4(plugins, curry(contains$3, legacyMobilePlugins));\n    };\n    var extractSections = function (keys, settings) {\n      var result = bifilter(settings, function (value, key) {\n        return contains$3(keys, key);\n      });\n      return sectionResult(result.t, result.f);\n    };\n    var getSection = function (sectionResult, name, defaults) {\n      if (defaults === void 0) {\n        defaults = {};\n      }\n      var sections = sectionResult.sections();\n      var sectionSettings = get$9(sections, name).getOr({});\n      return Tools.extend({}, defaults, sectionSettings);\n    };\n    var hasSection = function (sectionResult, name) {\n      return has$2(sectionResult.sections(), name);\n    };\n    var isSectionTheme = function (sectionResult, name, theme) {\n      var section = sectionResult.sections();\n      return hasSection(sectionResult, name) && section[name].theme === theme;\n    };\n    var getSectionConfig = function (sectionResult, name) {\n      return hasSection(sectionResult, name) ? sectionResult.sections()[name] : {};\n    };\n    var getToolbarMode = function (settings, defaultVal) {\n      return get$9(settings, 'toolbar_mode').orThunk(function () {\n        return get$9(settings, 'toolbar_drawer').map(function (val) {\n          return val === false ? 'wrap' : val;\n        });\n      }).getOr(defaultVal);\n    };\n    var getDefaultSettings = function (settings, id, documentBaseUrl, isTouch, editor) {\n      var baseDefaults = {\n        id: id,\n        theme: 'silver',\n        toolbar_mode: getToolbarMode(settings, 'floating'),\n        plugins: '',\n        document_base_url: documentBaseUrl,\n        add_form_submit_trigger: true,\n        submit_patch: true,\n        add_unload_trigger: true,\n        convert_urls: true,\n        relative_urls: true,\n        remove_script_host: true,\n        object_resizing: true,\n        doctype: '<!DOCTYPE html>',\n        visual: true,\n        font_size_legacy_values: 'xx-small,small,medium,large,x-large,xx-large,300%',\n        forced_root_block: 'p',\n        hidden_input: true,\n        inline_styles: true,\n        convert_fonts_to_spans: true,\n        indent: true,\n        indent_before: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' + 'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',\n        indent_after: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' + 'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',\n        entity_encoding: 'named',\n        url_converter: editor.convertURL,\n        url_converter_scope: editor\n      };\n      return __assign(__assign({}, baseDefaults), isTouch ? defaultTouchSettings : {});\n    };\n    var getDefaultMobileSettings = function (mobileSettings, isPhone) {\n      var defaultMobileSettings = {\n        resize: false,\n        toolbar_mode: getToolbarMode(mobileSettings, 'scrolling'),\n        toolbar_sticky: false\n      };\n      var defaultPhoneSettings = { menubar: false };\n      return __assign(__assign(__assign({}, defaultTouchSettings), defaultMobileSettings), isPhone ? defaultPhoneSettings : {});\n    };\n    var getExternalPlugins = function (overrideSettings, settings) {\n      var userDefinedExternalPlugins = settings.external_plugins ? settings.external_plugins : {};\n      if (overrideSettings && overrideSettings.external_plugins) {\n        return Tools.extend({}, overrideSettings.external_plugins, userDefinedExternalPlugins);\n      } else {\n        return userDefinedExternalPlugins;\n      }\n    };\n    var combinePlugins = function (forcedPlugins, plugins) {\n      return [].concat(normalizePlugins(forcedPlugins)).concat(normalizePlugins(plugins));\n    };\n    var getPlatformPlugins = function (isMobileDevice, sectionResult, desktopPlugins, mobilePlugins) {\n      if (isMobileDevice && isSectionTheme(sectionResult, 'mobile', 'mobile')) {\n        return filterLegacyMobilePlugins(mobilePlugins);\n      } else if (isMobileDevice && hasSection(sectionResult, 'mobile')) {\n        return mobilePlugins;\n      } else {\n        return desktopPlugins;\n      }\n    };\n    var processPlugins = function (isMobileDevice, sectionResult, defaultOverrideSettings, settings) {\n      var forcedPlugins = normalizePlugins(defaultOverrideSettings.forced_plugins);\n      var desktopPlugins = normalizePlugins(settings.plugins);\n      var mobileConfig = getSectionConfig(sectionResult, 'mobile');\n      var mobilePlugins = mobileConfig.plugins ? normalizePlugins(mobileConfig.plugins) : desktopPlugins;\n      var platformPlugins = getPlatformPlugins(isMobileDevice, sectionResult, desktopPlugins, mobilePlugins);\n      var combinedPlugins = combinePlugins(forcedPlugins, platformPlugins);\n      if (Env.browser.isIE() && contains$3(combinedPlugins, 'rtc')) {\n        throw new Error('RTC plugin is not supported on IE 11.');\n      }\n      return Tools.extend(settings, { plugins: combinedPlugins.join(' ') });\n    };\n    var isOnMobile = function (isMobileDevice, sectionResult) {\n      return isMobileDevice && hasSection(sectionResult, 'mobile');\n    };\n    var combineSettings = function (isMobileDevice, isPhone, defaultSettings, defaultOverrideSettings, settings) {\n      var defaultDeviceSettings = isMobileDevice ? { mobile: getDefaultMobileSettings(settings.mobile || {}, isPhone) } : {};\n      var sectionResult = extractSections(['mobile'], deepMerge(defaultDeviceSettings, settings));\n      var extendedSettings = Tools.extend(defaultSettings, defaultOverrideSettings, sectionResult.settings(), isOnMobile(isMobileDevice, sectionResult) ? getSection(sectionResult, 'mobile') : {}, {\n        validate: true,\n        external_plugins: getExternalPlugins(defaultOverrideSettings, sectionResult.settings())\n      });\n      return processPlugins(isMobileDevice, sectionResult, defaultOverrideSettings, extendedSettings);\n    };\n    var getEditorSettings = function (editor, id, documentBaseUrl, defaultOverrideSettings, settings) {\n      var defaultSettings = getDefaultSettings(settings, id, documentBaseUrl, isTouch, editor);\n      var finalSettings = combineSettings(isPhone || isTablet, isPhone, defaultSettings, defaultOverrideSettings, settings);\n      if (finalSettings.deprecation_warnings !== false) {\n        logDeprecationsWarning(settings, finalSettings);\n      }\n      return finalSettings;\n    };\n    var getFiltered = function (predicate, editor, name) {\n      return Optional.from(editor.settings[name]).filter(predicate);\n    };\n    var getParamObject = function (value) {\n      var output = {};\n      if (typeof value === 'string') {\n        each$k(value.indexOf('=') > 0 ? value.split(/[;,](?![^=;,]*(?:[;,]|$))/) : value.split(','), function (val) {\n          var arr = val.split('=');\n          if (arr.length > 1) {\n            output[Tools.trim(arr[0])] = Tools.trim(arr[1]);\n          } else {\n            output[Tools.trim(arr[0])] = Tools.trim(arr[0]);\n          }\n        });\n      } else {\n        output = value;\n      }\n      return output;\n    };\n    var isArrayOf = function (p) {\n      return function (a) {\n        return isArray$1(a) && forall(a, p);\n      };\n    };\n    var getParam = function (editor, name, defaultVal, type) {\n      var value = name in editor.settings ? editor.settings[name] : defaultVal;\n      if (type === 'hash') {\n        return getParamObject(value);\n      } else if (type === 'string') {\n        return getFiltered(isString$1, editor, name).getOr(defaultVal);\n      } else if (type === 'number') {\n        return getFiltered(isNumber, editor, name).getOr(defaultVal);\n      } else if (type === 'boolean') {\n        return getFiltered(isBoolean, editor, name).getOr(defaultVal);\n      } else if (type === 'object') {\n        return getFiltered(isObject, editor, name).getOr(defaultVal);\n      } else if (type === 'array') {\n        return getFiltered(isArray$1, editor, name).getOr(defaultVal);\n      } else if (type === 'string[]') {\n        return getFiltered(isArrayOf(isString$1), editor, name).getOr(defaultVal);\n      } else if (type === 'function') {\n        return getFiltered(isFunction, editor, name).getOr(defaultVal);\n      } else {\n        return value;\n      }\n    };\n\n    var CreateIconManager = function () {\n      var lookup = {};\n      var add = function (id, iconPack) {\n        lookup[id] = iconPack;\n      };\n      var get = function (id) {\n        if (lookup[id]) {\n          return lookup[id];\n        }\n        return { icons: {} };\n      };\n      var has = function (id) {\n        return has$2(lookup, id);\n      };\n      return {\n        add: add,\n        get: get,\n        has: has\n      };\n    };\n    var IconManager = CreateIconManager();\n\n    var getProp = function (propName, elm) {\n      var rawElm = elm.dom;\n      return rawElm[propName];\n    };\n    var getComputedSizeProp = function (propName, elm) {\n      return parseInt(get$5(elm, propName), 10);\n    };\n    var getClientWidth = curry(getProp, 'clientWidth');\n    var getClientHeight = curry(getProp, 'clientHeight');\n    var getMarginTop = curry(getComputedSizeProp, 'margin-top');\n    var getMarginLeft = curry(getComputedSizeProp, 'margin-left');\n    var getBoundingClientRect = function (elm) {\n      return elm.dom.getBoundingClientRect();\n    };\n    var isInsideElementContentArea = function (bodyElm, clientX, clientY) {\n      var clientWidth = getClientWidth(bodyElm);\n      var clientHeight = getClientHeight(bodyElm);\n      return clientX >= 0 && clientY >= 0 && clientX <= clientWidth && clientY <= clientHeight;\n    };\n    var transpose = function (inline, elm, clientX, clientY) {\n      var clientRect = getBoundingClientRect(elm);\n      var deltaX = inline ? clientRect.left + elm.dom.clientLeft + getMarginLeft(elm) : 0;\n      var deltaY = inline ? clientRect.top + elm.dom.clientTop + getMarginTop(elm) : 0;\n      var x = clientX - deltaX;\n      var y = clientY - deltaY;\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var isXYInContentArea = function (editor, clientX, clientY) {\n      var bodyElm = SugarElement.fromDom(editor.getBody());\n      var targetElm = editor.inline ? bodyElm : documentElement(bodyElm);\n      var transposedPoint = transpose(editor.inline, targetElm, clientX, clientY);\n      return isInsideElementContentArea(targetElm, transposedPoint.x, transposedPoint.y);\n    };\n    var fromDomSafe = function (node) {\n      return Optional.from(node).map(SugarElement.fromDom);\n    };\n    var isEditorAttachedToDom = function (editor) {\n      var rawContainer = editor.inline ? editor.getBody() : editor.getContentAreaContainer();\n      return fromDomSafe(rawContainer).map(inBody).getOr(false);\n    };\n\n    var NotificationManagerImpl = function () {\n      var unimplemented = function () {\n        throw new Error('Theme did not provide a NotificationManager implementation.');\n      };\n      return {\n        open: unimplemented,\n        close: unimplemented,\n        reposition: unimplemented,\n        getArgs: unimplemented\n      };\n    };\n\n    var NotificationManager = function (editor) {\n      var notifications = [];\n      var getImplementation = function () {\n        var theme = editor.theme;\n        return theme && theme.getNotificationManagerImpl ? theme.getNotificationManagerImpl() : NotificationManagerImpl();\n      };\n      var getTopNotification = function () {\n        return Optional.from(notifications[0]);\n      };\n      var isEqual = function (a, b) {\n        return a.type === b.type && a.text === b.text && !a.progressBar && !a.timeout && !b.progressBar && !b.timeout;\n      };\n      var reposition = function () {\n        if (notifications.length > 0) {\n          getImplementation().reposition(notifications);\n        }\n      };\n      var addNotification = function (notification) {\n        notifications.push(notification);\n      };\n      var closeNotification = function (notification) {\n        findIndex$2(notifications, function (otherNotification) {\n          return otherNotification === notification;\n        }).each(function (index) {\n          notifications.splice(index, 1);\n        });\n      };\n      var open = function (spec, fireEvent) {\n        if (fireEvent === void 0) {\n          fireEvent = true;\n        }\n        if (editor.removed || !isEditorAttachedToDom(editor)) {\n          return;\n        }\n        if (fireEvent) {\n          editor.fire('BeforeOpenNotification', { notification: spec });\n        }\n        return find$3(notifications, function (notification) {\n          return isEqual(getImplementation().getArgs(notification), spec);\n        }).getOrThunk(function () {\n          editor.editorManager.setActive(editor);\n          var notification = getImplementation().open(spec, function () {\n            closeNotification(notification);\n            reposition();\n            getTopNotification().fold(function () {\n              return editor.focus();\n            }, function (top) {\n              return focus$1(SugarElement.fromDom(top.getEl()));\n            });\n          });\n          addNotification(notification);\n          reposition();\n          editor.fire('OpenNotification', { notification: __assign({}, notification) });\n          return notification;\n        });\n      };\n      var close = function () {\n        getTopNotification().each(function (notification) {\n          getImplementation().close(notification);\n          closeNotification(notification);\n          reposition();\n        });\n      };\n      var getNotifications = constant(notifications);\n      var registerEvents = function (editor) {\n        editor.on('SkinLoaded', function () {\n          var serviceMessage = getServiceMessage(editor);\n          if (serviceMessage) {\n            open({\n              text: serviceMessage,\n              type: 'warning',\n              timeout: 0\n            }, false);\n          }\n          reposition();\n        });\n        editor.on('show ResizeEditor ResizeWindow NodeChange', function () {\n          Delay.requestAnimationFrame(reposition);\n        });\n        editor.on('remove', function () {\n          each$k(notifications.slice(), function (notification) {\n            getImplementation().close(notification);\n          });\n        });\n      };\n      registerEvents(editor);\n      return {\n        open: open,\n        close: close,\n        getNotifications: getNotifications\n      };\n    };\n\n    var PluginManager = AddOnManager.PluginManager;\n\n    var ThemeManager = AddOnManager.ThemeManager;\n\n    function WindowManagerImpl () {\n      var unimplemented = function () {\n        throw new Error('Theme did not provide a WindowManager implementation.');\n      };\n      return {\n        open: unimplemented,\n        openUrl: unimplemented,\n        alert: unimplemented,\n        confirm: unimplemented,\n        close: unimplemented,\n        getParams: unimplemented,\n        setParams: unimplemented\n      };\n    }\n\n    var WindowManager = function (editor) {\n      var dialogs = [];\n      var getImplementation = function () {\n        var theme = editor.theme;\n        return theme && theme.getWindowManagerImpl ? theme.getWindowManagerImpl() : WindowManagerImpl();\n      };\n      var funcBind = function (scope, f) {\n        return function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          return f ? f.apply(scope, args) : undefined;\n        };\n      };\n      var fireOpenEvent = function (dialog) {\n        editor.fire('OpenWindow', { dialog: dialog });\n      };\n      var fireCloseEvent = function (dialog) {\n        editor.fire('CloseWindow', { dialog: dialog });\n      };\n      var addDialog = function (dialog) {\n        dialogs.push(dialog);\n        fireOpenEvent(dialog);\n      };\n      var closeDialog = function (dialog) {\n        fireCloseEvent(dialog);\n        dialogs = filter$4(dialogs, function (otherDialog) {\n          return otherDialog !== dialog;\n        });\n        if (dialogs.length === 0) {\n          editor.focus();\n        }\n      };\n      var getTopDialog = function () {\n        return Optional.from(dialogs[dialogs.length - 1]);\n      };\n      var storeSelectionAndOpenDialog = function (openDialog) {\n        editor.editorManager.setActive(editor);\n        store(editor);\n        var dialog = openDialog();\n        addDialog(dialog);\n        return dialog;\n      };\n      var open = function (args, params) {\n        return storeSelectionAndOpenDialog(function () {\n          return getImplementation().open(args, params, closeDialog);\n        });\n      };\n      var openUrl = function (args) {\n        return storeSelectionAndOpenDialog(function () {\n          return getImplementation().openUrl(args, closeDialog);\n        });\n      };\n      var alert = function (message, callback, scope) {\n        var windowManagerImpl = getImplementation();\n        windowManagerImpl.alert(message, funcBind(scope ? scope : windowManagerImpl, callback));\n      };\n      var confirm = function (message, callback, scope) {\n        var windowManagerImpl = getImplementation();\n        windowManagerImpl.confirm(message, funcBind(scope ? scope : windowManagerImpl, callback));\n      };\n      var close = function () {\n        getTopDialog().each(function (dialog) {\n          getImplementation().close(dialog);\n          closeDialog(dialog);\n        });\n      };\n      editor.on('remove', function () {\n        each$k(dialogs, function (dialog) {\n          getImplementation().close(dialog);\n        });\n      });\n      return {\n        open: open,\n        openUrl: openUrl,\n        alert: alert,\n        confirm: confirm,\n        close: close\n      };\n    };\n\n    var displayNotification = function (editor, message) {\n      editor.notificationManager.open({\n        type: 'error',\n        text: message\n      });\n    };\n    var displayError = function (editor, message) {\n      if (editor._skinLoaded) {\n        displayNotification(editor, message);\n      } else {\n        editor.on('SkinLoaded', function () {\n          displayNotification(editor, message);\n        });\n      }\n    };\n    var uploadError = function (editor, message) {\n      displayError(editor, I18n.translate([\n        'Failed to upload image: {0}',\n        message\n      ]));\n    };\n    var logError = function (editor, errorType, msg) {\n      fireError(editor, errorType, { message: msg });\n      console.error(msg);\n    };\n    var createLoadError = function (type, url, name) {\n      return name ? 'Failed to load ' + type + ': ' + name + ' from url ' + url : 'Failed to load ' + type + ' url: ' + url;\n    };\n    var pluginLoadError = function (editor, url, name) {\n      logError(editor, 'PluginLoadError', createLoadError('plugin', url, name));\n    };\n    var iconsLoadError = function (editor, url, name) {\n      logError(editor, 'IconsLoadError', createLoadError('icons', url, name));\n    };\n    var languageLoadError = function (editor, url, name) {\n      logError(editor, 'LanguageLoadError', createLoadError('language', url, name));\n    };\n    var pluginInitError = function (editor, name, err) {\n      var message = I18n.translate([\n        'Failed to initialize plugin: {0}',\n        name\n      ]);\n      fireError(editor, 'PluginLoadError', { message: message });\n      initError(message, err);\n      displayError(editor, message);\n    };\n    var initError = function (message) {\n      var x = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        x[_i - 1] = arguments[_i];\n      }\n      var console = window.console;\n      if (console) {\n        if (console.error) {\n          console.error.apply(console, __spreadArray([message], x, false));\n        } else {\n          console.log.apply(console, __spreadArray([message], x, false));\n        }\n      }\n    };\n\n    var isContentCssSkinName = function (url) {\n      return /^[a-z0-9\\-]+$/i.test(url);\n    };\n    var getContentCssUrls = function (editor) {\n      return transformToUrls(editor, getContentCss(editor));\n    };\n    var getFontCssUrls = function (editor) {\n      return transformToUrls(editor, getFontCss(editor));\n    };\n    var transformToUrls = function (editor, cssLinks) {\n      var skinUrl = editor.editorManager.baseURL + '/skins/content';\n      var suffix = editor.editorManager.suffix;\n      var contentCssFile = 'content' + suffix + '.css';\n      var inline = editor.inline === true;\n      return map$3(cssLinks, function (url) {\n        if (isContentCssSkinName(url) && !inline) {\n          return skinUrl + '/' + url + '/' + contentCssFile;\n        } else {\n          return editor.documentBaseURI.toAbsolute(url);\n        }\n      });\n    };\n    var appendContentCssFromSettings = function (editor) {\n      editor.contentCSS = editor.contentCSS.concat(getContentCssUrls(editor), getFontCssUrls(editor));\n    };\n\n    var UploadStatus = function () {\n      var PENDING = 1, UPLOADED = 2;\n      var blobUriStatuses = {};\n      var createStatus = function (status, resultUri) {\n        return {\n          status: status,\n          resultUri: resultUri\n        };\n      };\n      var hasBlobUri = function (blobUri) {\n        return blobUri in blobUriStatuses;\n      };\n      var getResultUri = function (blobUri) {\n        var result = blobUriStatuses[blobUri];\n        return result ? result.resultUri : null;\n      };\n      var isPending = function (blobUri) {\n        return hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === PENDING : false;\n      };\n      var isUploaded = function (blobUri) {\n        return hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === UPLOADED : false;\n      };\n      var markPending = function (blobUri) {\n        blobUriStatuses[blobUri] = createStatus(PENDING, null);\n      };\n      var markUploaded = function (blobUri, resultUri) {\n        blobUriStatuses[blobUri] = createStatus(UPLOADED, resultUri);\n      };\n      var removeFailed = function (blobUri) {\n        delete blobUriStatuses[blobUri];\n      };\n      var destroy = function () {\n        blobUriStatuses = {};\n      };\n      return {\n        hasBlobUri: hasBlobUri,\n        getResultUri: getResultUri,\n        isPending: isPending,\n        isUploaded: isUploaded,\n        markPending: markPending,\n        markUploaded: markUploaded,\n        removeFailed: removeFailed,\n        destroy: destroy\n      };\n    };\n\n    var count = 0;\n    var seed = function () {\n      var rnd = function () {\n        return Math.round(Math.random() * 4294967295).toString(36);\n      };\n      var now = new Date().getTime();\n      return 's' + now.toString(36) + rnd() + rnd() + rnd();\n    };\n    var uuid = function (prefix) {\n      return prefix + count++ + seed();\n    };\n\n    var BlobCache = function () {\n      var cache = [];\n      var mimeToExt = function (mime) {\n        var mimes = {\n          'image/jpeg': 'jpg',\n          'image/jpg': 'jpg',\n          'image/gif': 'gif',\n          'image/png': 'png',\n          'image/apng': 'apng',\n          'image/avif': 'avif',\n          'image/svg+xml': 'svg',\n          'image/webp': 'webp',\n          'image/bmp': 'bmp',\n          'image/tiff': 'tiff'\n        };\n        return mimes[mime.toLowerCase()] || 'dat';\n      };\n      var create = function (o, blob, base64, name, filename) {\n        if (isString$1(o)) {\n          var id = o;\n          return toBlobInfo({\n            id: id,\n            name: name,\n            filename: filename,\n            blob: blob,\n            base64: base64\n          });\n        } else if (isObject(o)) {\n          return toBlobInfo(o);\n        } else {\n          throw new Error('Unknown input type');\n        }\n      };\n      var toBlobInfo = function (o) {\n        if (!o.blob || !o.base64) {\n          throw new Error('blob and base64 representations of the image are required for BlobInfo to be created');\n        }\n        var id = o.id || uuid('blobid');\n        var name = o.name || id;\n        var blob = o.blob;\n        return {\n          id: constant(id),\n          name: constant(name),\n          filename: constant(o.filename || name + '.' + mimeToExt(blob.type)),\n          blob: constant(blob),\n          base64: constant(o.base64),\n          blobUri: constant(o.blobUri || URL.createObjectURL(blob)),\n          uri: constant(o.uri)\n        };\n      };\n      var add = function (blobInfo) {\n        if (!get(blobInfo.id())) {\n          cache.push(blobInfo);\n        }\n      };\n      var findFirst = function (predicate) {\n        return find$3(cache, predicate).getOrUndefined();\n      };\n      var get = function (id) {\n        return findFirst(function (cachedBlobInfo) {\n          return cachedBlobInfo.id() === id;\n        });\n      };\n      var getByUri = function (blobUri) {\n        return findFirst(function (blobInfo) {\n          return blobInfo.blobUri() === blobUri;\n        });\n      };\n      var getByData = function (base64, type) {\n        return findFirst(function (blobInfo) {\n          return blobInfo.base64() === base64 && blobInfo.blob().type === type;\n        });\n      };\n      var removeByUri = function (blobUri) {\n        cache = filter$4(cache, function (blobInfo) {\n          if (blobInfo.blobUri() === blobUri) {\n            URL.revokeObjectURL(blobInfo.blobUri());\n            return false;\n          }\n          return true;\n        });\n      };\n      var destroy = function () {\n        each$k(cache, function (cachedBlobInfo) {\n          URL.revokeObjectURL(cachedBlobInfo.blobUri());\n        });\n        cache = [];\n      };\n      return {\n        create: create,\n        add: add,\n        get: get,\n        getByUri: getByUri,\n        getByData: getByData,\n        findFirst: findFirst,\n        removeByUri: removeByUri,\n        destroy: destroy\n      };\n    };\n\n    var Uploader = function (uploadStatus, settings) {\n      var pendingPromises = {};\n      var pathJoin = function (path1, path2) {\n        if (path1) {\n          return path1.replace(/\\/$/, '') + '/' + path2.replace(/^\\//, '');\n        }\n        return path2;\n      };\n      var defaultHandler = function (blobInfo, success, failure, progress) {\n        var xhr = new XMLHttpRequest();\n        xhr.open('POST', settings.url);\n        xhr.withCredentials = settings.credentials;\n        xhr.upload.onprogress = function (e) {\n          progress(e.loaded / e.total * 100);\n        };\n        xhr.onerror = function () {\n          failure('Image upload failed due to a XHR Transport error. Code: ' + xhr.status);\n        };\n        xhr.onload = function () {\n          if (xhr.status < 200 || xhr.status >= 300) {\n            failure('HTTP Error: ' + xhr.status);\n            return;\n          }\n          var json = JSON.parse(xhr.responseText);\n          if (!json || typeof json.location !== 'string') {\n            failure('Invalid JSON: ' + xhr.responseText);\n            return;\n          }\n          success(pathJoin(settings.basePath, json.location));\n        };\n        var formData = new FormData();\n        formData.append('file', blobInfo.blob(), blobInfo.filename());\n        xhr.send(formData);\n      };\n      var noUpload = function () {\n        return new promiseObj(function (resolve) {\n          resolve([]);\n        });\n      };\n      var handlerSuccess = function (blobInfo, url) {\n        return {\n          url: url,\n          blobInfo: blobInfo,\n          status: true\n        };\n      };\n      var handlerFailure = function (blobInfo, message, options) {\n        return {\n          url: '',\n          blobInfo: blobInfo,\n          status: false,\n          error: {\n            message: message,\n            options: options\n          }\n        };\n      };\n      var resolvePending = function (blobUri, result) {\n        Tools.each(pendingPromises[blobUri], function (resolve) {\n          resolve(result);\n        });\n        delete pendingPromises[blobUri];\n      };\n      var uploadBlobInfo = function (blobInfo, handler, openNotification) {\n        uploadStatus.markPending(blobInfo.blobUri());\n        return new promiseObj(function (resolve) {\n          var notification, progress;\n          try {\n            var closeNotification_1 = function () {\n              if (notification) {\n                notification.close();\n                progress = noop;\n              }\n            };\n            var success = function (url) {\n              closeNotification_1();\n              uploadStatus.markUploaded(blobInfo.blobUri(), url);\n              resolvePending(blobInfo.blobUri(), handlerSuccess(blobInfo, url));\n              resolve(handlerSuccess(blobInfo, url));\n            };\n            var failure = function (error, options) {\n              var failureOptions = options ? options : {};\n              closeNotification_1();\n              uploadStatus.removeFailed(blobInfo.blobUri());\n              resolvePending(blobInfo.blobUri(), handlerFailure(blobInfo, error, failureOptions));\n              resolve(handlerFailure(blobInfo, error, failureOptions));\n            };\n            progress = function (percent) {\n              if (percent < 0 || percent > 100) {\n                return;\n              }\n              Optional.from(notification).orThunk(function () {\n                return Optional.from(openNotification).map(apply);\n              }).each(function (n) {\n                notification = n;\n                n.progressBar.value(percent);\n              });\n            };\n            handler(blobInfo, success, failure, progress);\n          } catch (ex) {\n            resolve(handlerFailure(blobInfo, ex.message, {}));\n          }\n        });\n      };\n      var isDefaultHandler = function (handler) {\n        return handler === defaultHandler;\n      };\n      var pendingUploadBlobInfo = function (blobInfo) {\n        var blobUri = blobInfo.blobUri();\n        return new promiseObj(function (resolve) {\n          pendingPromises[blobUri] = pendingPromises[blobUri] || [];\n          pendingPromises[blobUri].push(resolve);\n        });\n      };\n      var uploadBlobs = function (blobInfos, openNotification) {\n        blobInfos = Tools.grep(blobInfos, function (blobInfo) {\n          return !uploadStatus.isUploaded(blobInfo.blobUri());\n        });\n        return promiseObj.all(Tools.map(blobInfos, function (blobInfo) {\n          return uploadStatus.isPending(blobInfo.blobUri()) ? pendingUploadBlobInfo(blobInfo) : uploadBlobInfo(blobInfo, settings.handler, openNotification);\n        }));\n      };\n      var upload = function (blobInfos, openNotification) {\n        return !settings.url && isDefaultHandler(settings.handler) ? noUpload() : uploadBlobs(blobInfos, openNotification);\n      };\n      if (isFunction(settings.handler) === false) {\n        settings.handler = defaultHandler;\n      }\n      return { upload: upload };\n    };\n\n    var openNotification = function (editor) {\n      return function () {\n        return editor.notificationManager.open({\n          text: editor.translate('Image uploading...'),\n          type: 'info',\n          timeout: -1,\n          progressBar: true\n        });\n      };\n    };\n    var createUploader = function (editor, uploadStatus) {\n      return Uploader(uploadStatus, {\n        url: getImageUploadUrl(editor),\n        basePath: getImageUploadBasePath(editor),\n        credentials: getImagesUploadCredentials(editor),\n        handler: getImagesUploadHandler(editor)\n      });\n    };\n    var ImageUploader = function (editor) {\n      var uploadStatus = UploadStatus();\n      var uploader = createUploader(editor, uploadStatus);\n      return {\n        upload: function (blobInfos, showNotification) {\n          if (showNotification === void 0) {\n            showNotification = true;\n          }\n          return uploader.upload(blobInfos, showNotification ? openNotification(editor) : undefined);\n        }\n      };\n    };\n\n    var UploadChangeHandler = function (editor) {\n      var lastChangedLevel = Cell(null);\n      editor.on('change AddUndo', function (e) {\n        lastChangedLevel.set(__assign({}, e.level));\n      });\n      var fireIfChanged = function () {\n        var data = editor.undoManager.data;\n        last$2(data).filter(function (level) {\n          return !isEq$1(lastChangedLevel.get(), level);\n        }).each(function (level) {\n          editor.setDirty(true);\n          editor.fire('change', {\n            level: level,\n            lastLevel: get$a(data, data.length - 2).getOrNull()\n          });\n        });\n      };\n      return { fireIfChanged: fireIfChanged };\n    };\n    var EditorUpload = function (editor) {\n      var blobCache = BlobCache();\n      var uploader, imageScanner;\n      var uploadStatus = UploadStatus();\n      var urlFilters = [];\n      var changeHandler = UploadChangeHandler(editor);\n      var aliveGuard = function (callback) {\n        return function (result) {\n          if (editor.selection) {\n            return callback(result);\n          }\n          return [];\n        };\n      };\n      var cacheInvalidator = function (url) {\n        return url + (url.indexOf('?') === -1 ? '?' : '&') + new Date().getTime();\n      };\n      var replaceString = function (content, search, replace) {\n        var index = 0;\n        do {\n          index = content.indexOf(search, index);\n          if (index !== -1) {\n            content = content.substring(0, index) + replace + content.substr(index + search.length);\n            index += replace.length - search.length + 1;\n          }\n        } while (index !== -1);\n        return content;\n      };\n      var replaceImageUrl = function (content, targetUrl, replacementUrl) {\n        var replacementString = 'src=\"' + replacementUrl + '\"' + (replacementUrl === Env.transparentSrc ? ' data-mce-placeholder=\"1\"' : '');\n        content = replaceString(content, 'src=\"' + targetUrl + '\"', replacementString);\n        content = replaceString(content, 'data-mce-src=\"' + targetUrl + '\"', 'data-mce-src=\"' + replacementUrl + '\"');\n        return content;\n      };\n      var replaceUrlInUndoStack = function (targetUrl, replacementUrl) {\n        each$k(editor.undoManager.data, function (level) {\n          if (level.type === 'fragmented') {\n            level.fragments = map$3(level.fragments, function (fragment) {\n              return replaceImageUrl(fragment, targetUrl, replacementUrl);\n            });\n          } else {\n            level.content = replaceImageUrl(level.content, targetUrl, replacementUrl);\n          }\n        });\n      };\n      var replaceImageUriInView = function (image, resultUri) {\n        var src = editor.convertURL(resultUri, 'src');\n        replaceUrlInUndoStack(image.src, resultUri);\n        editor.$(image).attr({\n          'src': shouldReuseFileName(editor) ? cacheInvalidator(resultUri) : resultUri,\n          'data-mce-src': src\n        });\n      };\n      var uploadImages = function (callback) {\n        if (!uploader) {\n          uploader = createUploader(editor, uploadStatus);\n        }\n        return scanForImages().then(aliveGuard(function (imageInfos) {\n          var blobInfos = map$3(imageInfos, function (imageInfo) {\n            return imageInfo.blobInfo;\n          });\n          return uploader.upload(blobInfos, openNotification(editor)).then(aliveGuard(function (result) {\n            var imagesToRemove = [];\n            var filteredResult = map$3(result, function (uploadInfo, index) {\n              var blobInfo = imageInfos[index].blobInfo;\n              var image = imageInfos[index].image;\n              if (uploadInfo.status && shouldReplaceBlobUris(editor)) {\n                blobCache.removeByUri(image.src);\n                if (isRtc(editor)) ; else {\n                  replaceImageUriInView(image, uploadInfo.url);\n                }\n              } else if (uploadInfo.error) {\n                if (uploadInfo.error.options.remove) {\n                  replaceUrlInUndoStack(image.getAttribute('src'), Env.transparentSrc);\n                  imagesToRemove.push(image);\n                }\n                uploadError(editor, uploadInfo.error.message);\n              }\n              return {\n                element: image,\n                status: uploadInfo.status,\n                uploadUri: uploadInfo.url,\n                blobInfo: blobInfo\n              };\n            });\n            if (filteredResult.length > 0) {\n              changeHandler.fireIfChanged();\n            }\n            if (imagesToRemove.length > 0) {\n              if (isRtc(editor)) {\n                console.error('Removing images on failed uploads is currently unsupported for RTC');\n              } else {\n                editor.undoManager.transact(function () {\n                  each$k(imagesToRemove, function (element) {\n                    editor.dom.remove(element);\n                    blobCache.removeByUri(element.src);\n                  });\n                });\n              }\n            }\n            if (callback) {\n              callback(filteredResult);\n            }\n            return filteredResult;\n          }));\n        }));\n      };\n      var uploadImagesAuto = function (callback) {\n        if (isAutomaticUploadsEnabled(editor)) {\n          return uploadImages(callback);\n        }\n      };\n      var isValidDataUriImage = function (imgElm) {\n        if (forall(urlFilters, function (filter) {\n            return filter(imgElm);\n          }) === false) {\n          return false;\n        }\n        if (imgElm.getAttribute('src').indexOf('data:') === 0) {\n          var dataImgFilter = getImagesDataImgFilter(editor);\n          return dataImgFilter(imgElm);\n        }\n        return true;\n      };\n      var addFilter = function (filter) {\n        urlFilters.push(filter);\n      };\n      var scanForImages = function () {\n        if (!imageScanner) {\n          imageScanner = ImageScanner(uploadStatus, blobCache);\n        }\n        return imageScanner.findAll(editor.getBody(), isValidDataUriImage).then(aliveGuard(function (result) {\n          result = filter$4(result, function (resultItem) {\n            if (typeof resultItem === 'string') {\n              displayError(editor, resultItem);\n              return false;\n            }\n            return true;\n          });\n          if (isRtc(editor)) ; else {\n            each$k(result, function (resultItem) {\n              replaceUrlInUndoStack(resultItem.image.src, resultItem.blobInfo.blobUri());\n              resultItem.image.src = resultItem.blobInfo.blobUri();\n              resultItem.image.removeAttribute('data-mce-src');\n            });\n          }\n          return result;\n        }));\n      };\n      var destroy = function () {\n        blobCache.destroy();\n        uploadStatus.destroy();\n        imageScanner = uploader = null;\n      };\n      var replaceBlobUris = function (content) {\n        return content.replace(/src=\"(blob:[^\"]+)\"/g, function (match, blobUri) {\n          var resultUri = uploadStatus.getResultUri(blobUri);\n          if (resultUri) {\n            return 'src=\"' + resultUri + '\"';\n          }\n          var blobInfo = blobCache.getByUri(blobUri);\n          if (!blobInfo) {\n            blobInfo = foldl(editor.editorManager.get(), function (result, editor) {\n              return result || editor.editorUpload && editor.editorUpload.blobCache.getByUri(blobUri);\n            }, null);\n          }\n          if (blobInfo) {\n            var blob = blobInfo.blob();\n            return 'src=\"data:' + blob.type + ';base64,' + blobInfo.base64() + '\"';\n          }\n          return match;\n        });\n      };\n      editor.on('SetContent', function () {\n        if (isAutomaticUploadsEnabled(editor)) {\n          uploadImagesAuto();\n        } else {\n          scanForImages();\n        }\n      });\n      editor.on('RawSaveContent', function (e) {\n        e.content = replaceBlobUris(e.content);\n      });\n      editor.on('GetContent', function (e) {\n        if (e.source_view || e.format === 'raw' || e.format === 'tree') {\n          return;\n        }\n        e.content = replaceBlobUris(e.content);\n      });\n      editor.on('PostRender', function () {\n        editor.parser.addNodeFilter('img', function (images) {\n          each$k(images, function (img) {\n            var src = img.attr('src');\n            if (blobCache.getByUri(src)) {\n              return;\n            }\n            var resultUri = uploadStatus.getResultUri(src);\n            if (resultUri) {\n              img.attr('src', resultUri);\n            }\n          });\n        });\n      });\n      return {\n        blobCache: blobCache,\n        addFilter: addFilter,\n        uploadImages: uploadImages,\n        uploadImagesAuto: uploadImagesAuto,\n        scanForImages: scanForImages,\n        destroy: destroy\n      };\n    };\n\n    var get = function (dom) {\n      var formats = {\n        valigntop: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'top' }\n          }],\n        valignmiddle: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'middle' }\n          }],\n        valignbottom: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'bottom' }\n          }],\n        alignleft: [\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-left',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n            styles: { textAlign: 'left' },\n            inherit: false,\n            preview: false,\n            defaultBlock: 'div'\n          },\n          {\n            selector: 'img,table,audio,video',\n            collapsed: false,\n            styles: { float: 'left' },\n            preview: 'font-family font-size'\n          }\n        ],\n        aligncenter: [\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n            styles: { textAlign: 'center' },\n            inherit: false,\n            preview: 'font-family font-size',\n            defaultBlock: 'div'\n          },\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-center',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'img,audio,video',\n            collapsed: false,\n            styles: {\n              display: 'block',\n              marginLeft: 'auto',\n              marginRight: 'auto'\n            },\n            preview: false\n          },\n          {\n            selector: 'table',\n            collapsed: false,\n            styles: {\n              marginLeft: 'auto',\n              marginRight: 'auto'\n            },\n            preview: 'font-family font-size'\n          }\n        ],\n        alignright: [\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-right',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n            styles: { textAlign: 'right' },\n            inherit: false,\n            preview: 'font-family font-size',\n            defaultBlock: 'div'\n          },\n          {\n            selector: 'img,table,audio,video',\n            collapsed: false,\n            styles: { float: 'right' },\n            preview: 'font-family font-size'\n          }\n        ],\n        alignjustify: [{\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n            styles: { textAlign: 'justify' },\n            inherit: false,\n            defaultBlock: 'div',\n            preview: 'font-family font-size'\n          }],\n        bold: [\n          {\n            inline: 'strong',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          },\n          {\n            inline: 'span',\n            styles: { fontWeight: 'bold' }\n          },\n          {\n            inline: 'b',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        italic: [\n          {\n            inline: 'em',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          },\n          {\n            inline: 'span',\n            styles: { fontStyle: 'italic' }\n          },\n          {\n            inline: 'i',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        underline: [\n          {\n            inline: 'span',\n            styles: { textDecoration: 'underline' },\n            exact: true\n          },\n          {\n            inline: 'u',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        strikethrough: [\n          {\n            inline: 'span',\n            styles: { textDecoration: 'line-through' },\n            exact: true\n          },\n          {\n            inline: 'strike',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          },\n          {\n            inline: 's',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        forecolor: {\n          inline: 'span',\n          styles: { color: '%value' },\n          links: true,\n          remove_similar: true,\n          clear_child_styles: true\n        },\n        hilitecolor: {\n          inline: 'span',\n          styles: { backgroundColor: '%value' },\n          links: true,\n          remove_similar: true,\n          clear_child_styles: true\n        },\n        fontname: {\n          inline: 'span',\n          toggle: false,\n          styles: { fontFamily: '%value' },\n          clear_child_styles: true\n        },\n        fontsize: {\n          inline: 'span',\n          toggle: false,\n          styles: { fontSize: '%value' },\n          clear_child_styles: true\n        },\n        lineheight: {\n          selector: 'h1,h2,h3,h4,h5,h6,p,li,td,th,div',\n          defaultBlock: 'p',\n          styles: { lineHeight: '%value' }\n        },\n        fontsize_class: {\n          inline: 'span',\n          attributes: { class: '%value' }\n        },\n        blockquote: {\n          block: 'blockquote',\n          wrapper: true,\n          remove: 'all'\n        },\n        subscript: { inline: 'sub' },\n        superscript: { inline: 'sup' },\n        code: { inline: 'code' },\n        link: {\n          inline: 'a',\n          selector: 'a',\n          remove: 'all',\n          split: true,\n          deep: true,\n          onmatch: function (node, _fmt, _itemName) {\n            return isElement$5(node) && node.hasAttribute('href');\n          },\n          onformat: function (elm, _fmt, vars) {\n            Tools.each(vars, function (value, key) {\n              dom.setAttrib(elm, key, value);\n            });\n          }\n        },\n        lang: {\n          inline: 'span',\n          clear_child_styles: true,\n          remove_similar: true,\n          attributes: {\n            'lang': '%value',\n            'data-mce-lang': function (vars) {\n              var _a;\n              return (_a = vars === null || vars === void 0 ? void 0 : vars.customValue) !== null && _a !== void 0 ? _a : null;\n            }\n          }\n        },\n        removeformat: [\n          {\n            selector: 'b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small',\n            remove: 'all',\n            split: true,\n            expand: false,\n            block_expand: true,\n            deep: true\n          },\n          {\n            selector: 'span',\n            attributes: [\n              'style',\n              'class'\n            ],\n            remove: 'empty',\n            split: true,\n            expand: false,\n            deep: true\n          },\n          {\n            selector: '*',\n            attributes: [\n              'style',\n              'class'\n            ],\n            split: false,\n            expand: false,\n            deep: true\n          }\n        ]\n      };\n      Tools.each('p h1 h2 h3 h4 h5 h6 div address pre dt dd samp'.split(/\\s/), function (name) {\n        formats[name] = {\n          block: name,\n          remove: 'all'\n        };\n      });\n      return formats;\n    };\n\n    var FormatRegistry = function (editor) {\n      var formats = {};\n      var get$1 = function (name) {\n        return isNonNullable(name) ? formats[name] : formats;\n      };\n      var has = function (name) {\n        return has$2(formats, name);\n      };\n      var register = function (name, format) {\n        if (name) {\n          if (!isString$1(name)) {\n            each$j(name, function (format, name) {\n              register(name, format);\n            });\n          } else {\n            if (!isArray$1(format)) {\n              format = [format];\n            }\n            each$k(format, function (format) {\n              if (isUndefined(format.deep)) {\n                format.deep = !isSelectorFormat(format);\n              }\n              if (isUndefined(format.split)) {\n                format.split = !isSelectorFormat(format) || isInlineFormat(format);\n              }\n              if (isUndefined(format.remove) && isSelectorFormat(format) && !isInlineFormat(format)) {\n                format.remove = 'none';\n              }\n              if (isSelectorFormat(format) && isInlineFormat(format)) {\n                format.mixed = true;\n                format.block_expand = true;\n              }\n              if (isString$1(format.classes)) {\n                format.classes = format.classes.split(/\\s+/);\n              }\n            });\n            formats[name] = format;\n          }\n        }\n      };\n      var unregister = function (name) {\n        if (name && formats[name]) {\n          delete formats[name];\n        }\n        return formats;\n      };\n      register(get(editor.dom));\n      register(getFormats(editor));\n      return {\n        get: get$1,\n        has: has,\n        register: register,\n        unregister: unregister\n      };\n    };\n\n    var each$5 = Tools.each;\n    var dom = DOMUtils.DOM;\n    var parsedSelectorToHtml = function (ancestry, editor) {\n      var elm, item, fragment;\n      var schema = editor && editor.schema || Schema({});\n      var decorate = function (elm, item) {\n        if (item.classes.length) {\n          dom.addClass(elm, item.classes.join(' '));\n        }\n        dom.setAttribs(elm, item.attrs);\n      };\n      var createElement = function (sItem) {\n        item = typeof sItem === 'string' ? {\n          name: sItem,\n          classes: [],\n          attrs: {}\n        } : sItem;\n        var elm = dom.create(item.name);\n        decorate(elm, item);\n        return elm;\n      };\n      var getRequiredParent = function (elm, candidate) {\n        var name = typeof elm !== 'string' ? elm.nodeName.toLowerCase() : elm;\n        var elmRule = schema.getElementRule(name);\n        var parentsRequired = elmRule && elmRule.parentsRequired;\n        if (parentsRequired && parentsRequired.length) {\n          return candidate && Tools.inArray(parentsRequired, candidate) !== -1 ? candidate : parentsRequired[0];\n        } else {\n          return false;\n        }\n      };\n      var wrapInHtml = function (elm, ancestry, siblings) {\n        var parent, parentCandidate;\n        var ancestor = ancestry.length > 0 && ancestry[0];\n        var ancestorName = ancestor && ancestor.name;\n        var parentRequired = getRequiredParent(elm, ancestorName);\n        if (parentRequired) {\n          if (ancestorName === parentRequired) {\n            parentCandidate = ancestry[0];\n            ancestry = ancestry.slice(1);\n          } else {\n            parentCandidate = parentRequired;\n          }\n        } else if (ancestor) {\n          parentCandidate = ancestry[0];\n          ancestry = ancestry.slice(1);\n        } else if (!siblings) {\n          return elm;\n        }\n        if (parentCandidate) {\n          parent = createElement(parentCandidate);\n          parent.appendChild(elm);\n        }\n        if (siblings) {\n          if (!parent) {\n            parent = dom.create('div');\n            parent.appendChild(elm);\n          }\n          Tools.each(siblings, function (sibling) {\n            var siblingElm = createElement(sibling);\n            parent.insertBefore(siblingElm, elm);\n          });\n        }\n        return wrapInHtml(parent, ancestry, parentCandidate && parentCandidate.siblings);\n      };\n      if (ancestry && ancestry.length) {\n        item = ancestry[0];\n        elm = createElement(item);\n        fragment = dom.create('div');\n        fragment.appendChild(wrapInHtml(elm, ancestry.slice(1), item.siblings));\n        return fragment;\n      } else {\n        return '';\n      }\n    };\n    var parseSelectorItem = function (item) {\n      var tagName;\n      var obj = {\n        classes: [],\n        attrs: {}\n      };\n      item = obj.selector = Tools.trim(item);\n      if (item !== '*') {\n        tagName = item.replace(/(?:([#\\.]|::?)([\\w\\-]+)|(\\[)([^\\]]+)\\]?)/g, function ($0, $1, $2, $3, $4) {\n          switch ($1) {\n          case '#':\n            obj.attrs.id = $2;\n            break;\n          case '.':\n            obj.classes.push($2);\n            break;\n          case ':':\n            if (Tools.inArray('checked disabled enabled read-only required'.split(' '), $2) !== -1) {\n              obj.attrs[$2] = $2;\n            }\n            break;\n          }\n          if ($3 === '[') {\n            var m = $4.match(/([\\w\\-]+)(?:\\=\\\"([^\\\"]+))?/);\n            if (m) {\n              obj.attrs[m[1]] = m[2];\n            }\n          }\n          return '';\n        });\n      }\n      obj.name = tagName || 'div';\n      return obj;\n    };\n    var parseSelector = function (selector) {\n      if (!selector || typeof selector !== 'string') {\n        return [];\n      }\n      selector = selector.split(/\\s*,\\s*/)[0];\n      selector = selector.replace(/\\s*(~\\+|~|\\+|>)\\s*/g, '$1');\n      return Tools.map(selector.split(/(?:>|\\s+(?![^\\[\\]]+\\]))/), function (item) {\n        var siblings = Tools.map(item.split(/(?:~\\+|~|\\+)/), parseSelectorItem);\n        var obj = siblings.pop();\n        if (siblings.length) {\n          obj.siblings = siblings;\n        }\n        return obj;\n      }).reverse();\n    };\n    var getCssText = function (editor, format) {\n      var name, previewFrag;\n      var previewCss = '', parentFontSize;\n      var previewStyles = getPreviewStyles(editor);\n      if (previewStyles === '') {\n        return '';\n      }\n      var removeVars = function (val) {\n        return val.replace(/%(\\w+)/g, '');\n      };\n      if (typeof format === 'string') {\n        format = editor.formatter.get(format);\n        if (!format) {\n          return;\n        }\n        format = format[0];\n      }\n      if ('preview' in format) {\n        var previewOpt = get$9(format, 'preview');\n        if (is$1(previewOpt, false)) {\n          return '';\n        } else {\n          previewStyles = previewOpt.getOr(previewStyles);\n        }\n      }\n      name = format.block || format.inline || 'span';\n      var items = parseSelector(format.selector);\n      if (items.length) {\n        if (!items[0].name) {\n          items[0].name = name;\n        }\n        name = format.selector;\n        previewFrag = parsedSelectorToHtml(items, editor);\n      } else {\n        previewFrag = parsedSelectorToHtml([name], editor);\n      }\n      var previewElm = dom.select(name, previewFrag)[0] || previewFrag.firstChild;\n      each$5(format.styles, function (value, name) {\n        var newValue = removeVars(value);\n        if (newValue) {\n          dom.setStyle(previewElm, name, newValue);\n        }\n      });\n      each$5(format.attributes, function (value, name) {\n        var newValue = removeVars(value);\n        if (newValue) {\n          dom.setAttrib(previewElm, name, newValue);\n        }\n      });\n      each$5(format.classes, function (value) {\n        var newValue = removeVars(value);\n        if (!dom.hasClass(previewElm, newValue)) {\n          dom.addClass(previewElm, newValue);\n        }\n      });\n      editor.fire('PreviewFormats');\n      dom.setStyles(previewFrag, {\n        position: 'absolute',\n        left: -65535\n      });\n      editor.getBody().appendChild(previewFrag);\n      parentFontSize = dom.getStyle(editor.getBody(), 'fontSize', true);\n      parentFontSize = /px$/.test(parentFontSize) ? parseInt(parentFontSize, 10) : 0;\n      each$5(previewStyles.split(' '), function (name) {\n        var value = dom.getStyle(previewElm, name, true);\n        if (name === 'background-color' && /transparent|rgba\\s*\\([^)]+,\\s*0\\)/.test(value)) {\n          value = dom.getStyle(editor.getBody(), name, true);\n          if (dom.toHex(value).toLowerCase() === '#ffffff') {\n            return;\n          }\n        }\n        if (name === 'color') {\n          if (dom.toHex(value).toLowerCase() === '#000000') {\n            return;\n          }\n        }\n        if (name === 'font-size') {\n          if (/em|%$/.test(value)) {\n            if (parentFontSize === 0) {\n              return;\n            }\n            var numValue = parseFloat(value) / (/%$/.test(value) ? 100 : 1);\n            value = numValue * parentFontSize + 'px';\n          }\n        }\n        if (name === 'border' && value) {\n          previewCss += 'padding:0 2px;';\n        }\n        previewCss += name + ':' + value + ';';\n      });\n      editor.fire('AfterPreviewFormats');\n      dom.remove(previewFrag);\n      return previewCss;\n    };\n\n    var setup$h = function (editor) {\n      editor.addShortcut('meta+b', '', 'Bold');\n      editor.addShortcut('meta+i', '', 'Italic');\n      editor.addShortcut('meta+u', '', 'Underline');\n      for (var i = 1; i <= 6; i++) {\n        editor.addShortcut('access+' + i, '', [\n          'FormatBlock',\n          false,\n          'h' + i\n        ]);\n      }\n      editor.addShortcut('access+7', '', [\n        'FormatBlock',\n        false,\n        'p'\n      ]);\n      editor.addShortcut('access+8', '', [\n        'FormatBlock',\n        false,\n        'div'\n      ]);\n      editor.addShortcut('access+9', '', [\n        'FormatBlock',\n        false,\n        'address'\n      ]);\n    };\n\n    var Formatter = function (editor) {\n      var formats = FormatRegistry(editor);\n      var formatChangeState = Cell(null);\n      setup$h(editor);\n      setup$k(editor);\n      return {\n        get: formats.get,\n        has: formats.has,\n        register: formats.register,\n        unregister: formats.unregister,\n        apply: function (name, vars, node) {\n          applyFormat(editor, name, vars, node);\n        },\n        remove: function (name, vars, node, similar) {\n          removeFormat(editor, name, vars, node, similar);\n        },\n        toggle: function (name, vars, node) {\n          toggleFormat(editor, name, vars, node);\n        },\n        match: function (name, vars, node, similar) {\n          return matchFormat(editor, name, vars, node, similar);\n        },\n        closest: function (names) {\n          return closestFormat(editor, names);\n        },\n        matchAll: function (names, vars) {\n          return matchAllFormats(editor, names, vars);\n        },\n        matchNode: function (node, name, vars, similar) {\n          return matchNodeFormat(editor, node, name, vars, similar);\n        },\n        canApply: function (name) {\n          return canApplyFormat(editor, name);\n        },\n        formatChanged: function (formats, callback, similar, vars) {\n          return formatChanged(editor, formatChangeState, formats, callback, similar, vars);\n        },\n        getCssText: curry(getCssText, editor)\n      };\n    };\n\n    var shouldIgnoreCommand = function (cmd) {\n      switch (cmd.toLowerCase()) {\n      case 'undo':\n      case 'redo':\n      case 'mcerepaint':\n      case 'mcefocus':\n        return true;\n      default:\n        return false;\n      }\n    };\n    var registerEvents = function (editor, undoManager, locks) {\n      var isFirstTypedCharacter = Cell(false);\n      var addNonTypingUndoLevel = function (e) {\n        setTyping(undoManager, false, locks);\n        undoManager.add({}, e);\n      };\n      editor.on('init', function () {\n        undoManager.add();\n      });\n      editor.on('BeforeExecCommand', function (e) {\n        var cmd = e.command;\n        if (!shouldIgnoreCommand(cmd)) {\n          endTyping(undoManager, locks);\n          undoManager.beforeChange();\n        }\n      });\n      editor.on('ExecCommand', function (e) {\n        var cmd = e.command;\n        if (!shouldIgnoreCommand(cmd)) {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      editor.on('ObjectResizeStart cut', function () {\n        undoManager.beforeChange();\n      });\n      editor.on('SaveContent ObjectResized blur', addNonTypingUndoLevel);\n      editor.on('dragend', addNonTypingUndoLevel);\n      editor.on('keyup', function (e) {\n        var keyCode = e.keyCode;\n        if (e.isDefaultPrevented()) {\n          return;\n        }\n        if (keyCode >= 33 && keyCode <= 36 || keyCode >= 37 && keyCode <= 40 || keyCode === 45 || e.ctrlKey) {\n          addNonTypingUndoLevel();\n          editor.nodeChanged();\n        }\n        if (keyCode === 46 || keyCode === 8) {\n          editor.nodeChanged();\n        }\n        if (isFirstTypedCharacter.get() && undoManager.typing && isEq$1(createFromEditor(editor), undoManager.data[0]) === false) {\n          if (editor.isDirty() === false) {\n            editor.setDirty(true);\n            editor.fire('change', {\n              level: undoManager.data[0],\n              lastLevel: null\n            });\n          }\n          editor.fire('TypingUndo');\n          isFirstTypedCharacter.set(false);\n          editor.nodeChanged();\n        }\n      });\n      editor.on('keydown', function (e) {\n        var keyCode = e.keyCode;\n        if (e.isDefaultPrevented()) {\n          return;\n        }\n        if (keyCode >= 33 && keyCode <= 36 || keyCode >= 37 && keyCode <= 40 || keyCode === 45) {\n          if (undoManager.typing) {\n            addNonTypingUndoLevel(e);\n          }\n          return;\n        }\n        var modKey = e.ctrlKey && !e.altKey || e.metaKey;\n        if ((keyCode < 16 || keyCode > 20) && keyCode !== 224 && keyCode !== 91 && !undoManager.typing && !modKey) {\n          undoManager.beforeChange();\n          setTyping(undoManager, true, locks);\n          undoManager.add({}, e);\n          isFirstTypedCharacter.set(true);\n        }\n      });\n      editor.on('mousedown', function (e) {\n        if (undoManager.typing) {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      var isInsertReplacementText = function (event) {\n        return event.inputType === 'insertReplacementText';\n      };\n      var isInsertTextDataNull = function (event) {\n        return event.inputType === 'insertText' && event.data === null;\n      };\n      var isInsertFromPasteOrDrop = function (event) {\n        return event.inputType === 'insertFromPaste' || event.inputType === 'insertFromDrop';\n      };\n      editor.on('input', function (e) {\n        if (e.inputType && (isInsertReplacementText(e) || isInsertTextDataNull(e) || isInsertFromPasteOrDrop(e))) {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      editor.on('AddUndo Undo Redo ClearUndos', function (e) {\n        if (!e.isDefaultPrevented()) {\n          editor.nodeChanged();\n        }\n      });\n    };\n    var addKeyboardShortcuts = function (editor) {\n      editor.addShortcut('meta+z', '', 'Undo');\n      editor.addShortcut('meta+y,meta+shift+z', '', 'Redo');\n    };\n\n    var UndoManager = function (editor) {\n      var beforeBookmark = value();\n      var locks = Cell(0);\n      var index = Cell(0);\n      var undoManager = {\n        data: [],\n        typing: false,\n        beforeChange: function () {\n          beforeChange(editor, locks, beforeBookmark);\n        },\n        add: function (level, event) {\n          return addUndoLevel(editor, undoManager, index, locks, beforeBookmark, level, event);\n        },\n        undo: function () {\n          return undo(editor, undoManager, locks, index);\n        },\n        redo: function () {\n          return redo(editor, index, undoManager.data);\n        },\n        clear: function () {\n          clear(editor, undoManager, index);\n        },\n        reset: function () {\n          reset(editor, undoManager);\n        },\n        hasUndo: function () {\n          return hasUndo(editor, undoManager, index);\n        },\n        hasRedo: function () {\n          return hasRedo(editor, undoManager, index);\n        },\n        transact: function (callback) {\n          return transact(editor, undoManager, locks, callback);\n        },\n        ignore: function (callback) {\n          ignore(editor, locks, callback);\n        },\n        extra: function (callback1, callback2) {\n          extra(editor, undoManager, index, callback1, callback2);\n        }\n      };\n      if (!isRtc(editor)) {\n        registerEvents(editor, undoManager, locks);\n      }\n      addKeyboardShortcuts(editor);\n      return undoManager;\n    };\n\n    var nonTypingKeycodes = [\n      9,\n      27,\n      VK.HOME,\n      VK.END,\n      19,\n      20,\n      44,\n      144,\n      145,\n      33,\n      34,\n      45,\n      16,\n      17,\n      18,\n      91,\n      92,\n      93,\n      VK.DOWN,\n      VK.UP,\n      VK.LEFT,\n      VK.RIGHT\n    ].concat(Env.browser.isFirefox() ? [224] : []);\n    var placeholderAttr = 'data-mce-placeholder';\n    var isKeyboardEvent = function (e) {\n      return e.type === 'keydown' || e.type === 'keyup';\n    };\n    var isDeleteEvent = function (e) {\n      var keyCode = e.keyCode;\n      return keyCode === VK.BACKSPACE || keyCode === VK.DELETE;\n    };\n    var isNonTypingKeyboardEvent = function (e) {\n      if (isKeyboardEvent(e)) {\n        var keyCode = e.keyCode;\n        return !isDeleteEvent(e) && (VK.metaKeyPressed(e) || e.altKey || keyCode >= 112 && keyCode <= 123 || contains$3(nonTypingKeycodes, keyCode));\n      } else {\n        return false;\n      }\n    };\n    var isTypingKeyboardEvent = function (e) {\n      return isKeyboardEvent(e) && !(isDeleteEvent(e) || e.type === 'keyup' && e.keyCode === 229);\n    };\n    var isVisuallyEmpty = function (dom, rootElm, forcedRootBlock) {\n      if (isEmpty$2(SugarElement.fromDom(rootElm), false)) {\n        var isForcedRootBlockFalse = forcedRootBlock === '';\n        var firstElement = rootElm.firstElementChild;\n        if (!firstElement) {\n          return true;\n        } else if (dom.getStyle(rootElm.firstElementChild, 'padding-left') || dom.getStyle(rootElm.firstElementChild, 'padding-right')) {\n          return false;\n        } else {\n          return isForcedRootBlockFalse ? !dom.isBlock(firstElement) : forcedRootBlock === firstElement.nodeName.toLowerCase();\n        }\n      } else {\n        return false;\n      }\n    };\n    var setup$g = function (editor) {\n      var dom = editor.dom;\n      var rootBlock = getForcedRootBlock(editor);\n      var placeholder = getPlaceholder(editor);\n      var updatePlaceholder = function (e, initial) {\n        if (isNonTypingKeyboardEvent(e)) {\n          return;\n        }\n        var body = editor.getBody();\n        var showPlaceholder = isTypingKeyboardEvent(e) ? false : isVisuallyEmpty(dom, body, rootBlock);\n        var isPlaceholderShown = dom.getAttrib(body, placeholderAttr) !== '';\n        if (isPlaceholderShown !== showPlaceholder || initial) {\n          dom.setAttrib(body, placeholderAttr, showPlaceholder ? placeholder : null);\n          dom.setAttrib(body, 'aria-placeholder', showPlaceholder ? placeholder : null);\n          firePlaceholderToggle(editor, showPlaceholder);\n          editor.on(showPlaceholder ? 'keydown' : 'keyup', updatePlaceholder);\n          editor.off(showPlaceholder ? 'keyup' : 'keydown', updatePlaceholder);\n        }\n      };\n      if (placeholder) {\n        editor.on('init', function (e) {\n          updatePlaceholder(e, true);\n          editor.on('change SetContent ExecCommand', updatePlaceholder);\n          editor.on('paste', function (e) {\n            return Delay.setEditorTimeout(editor, function () {\n              return updatePlaceholder(e);\n            });\n          });\n        });\n      }\n    };\n\n    var strongRtl = /[\\u0591-\\u07FF\\uFB1D-\\uFDFF\\uFE70-\\uFEFC]/;\n    var hasStrongRtl = function (text) {\n      return strongRtl.test(text);\n    };\n\n    var isInlineTarget = function (editor, elm) {\n      return is$2(SugarElement.fromDom(elm), getInlineBoundarySelector(editor));\n    };\n    var isRtl = function (element) {\n      return DOMUtils.DOM.getStyle(element, 'direction', true) === 'rtl' || hasStrongRtl(element.textContent);\n    };\n    var findInlineParents = function (isInlineTarget, rootNode, pos) {\n      return filter$4(DOMUtils.DOM.getParents(pos.container(), '*', rootNode), isInlineTarget);\n    };\n    var findRootInline = function (isInlineTarget, rootNode, pos) {\n      var parents = findInlineParents(isInlineTarget, rootNode, pos);\n      return Optional.from(parents[parents.length - 1]);\n    };\n    var hasSameParentBlock = function (rootNode, node1, node2) {\n      var block1 = getParentBlock$2(node1, rootNode);\n      var block2 = getParentBlock$2(node2, rootNode);\n      return block1 && block1 === block2;\n    };\n    var isAtZwsp = function (pos) {\n      return isBeforeInline(pos) || isAfterInline(pos);\n    };\n    var normalizePosition = function (forward, pos) {\n      if (!pos) {\n        return pos;\n      }\n      var container = pos.container(), offset = pos.offset();\n      if (forward) {\n        if (isCaretContainerInline(container)) {\n          if (isText$7(container.nextSibling)) {\n            return CaretPosition(container.nextSibling, 0);\n          } else {\n            return CaretPosition.after(container);\n          }\n        } else {\n          return isBeforeInline(pos) ? CaretPosition(container, offset + 1) : pos;\n        }\n      } else {\n        if (isCaretContainerInline(container)) {\n          if (isText$7(container.previousSibling)) {\n            return CaretPosition(container.previousSibling, container.previousSibling.data.length);\n          } else {\n            return CaretPosition.before(container);\n          }\n        } else {\n          return isAfterInline(pos) ? CaretPosition(container, offset - 1) : pos;\n        }\n      }\n    };\n    var normalizeForwards = curry(normalizePosition, true);\n    var normalizeBackwards = curry(normalizePosition, false);\n\n    var isBeforeRoot = function (rootNode) {\n      return function (elm) {\n        return eq(rootNode, SugarElement.fromDom(elm.dom.parentNode));\n      };\n    };\n    var isTextBlockOrListItem = function (element) {\n      return isTextBlock$2(element) || isListItem(element);\n    };\n    var getParentBlock$1 = function (rootNode, elm) {\n      if (contains$1(rootNode, elm)) {\n        return closest$3(elm, isTextBlockOrListItem, isBeforeRoot(rootNode));\n      } else {\n        return Optional.none();\n      }\n    };\n    var placeCaretInEmptyBody = function (editor) {\n      var body = editor.getBody();\n      var node = body.firstChild && editor.dom.isBlock(body.firstChild) ? body.firstChild : body;\n      editor.selection.setCursorLocation(node, 0);\n    };\n    var paddEmptyBody = function (editor) {\n      if (editor.dom.isEmpty(editor.getBody())) {\n        editor.setContent('');\n        placeCaretInEmptyBody(editor);\n      }\n    };\n    var willDeleteLastPositionInElement = function (forward, fromPos, elm) {\n      return lift2(firstPositionIn(elm), lastPositionIn(elm), function (firstPos, lastPos) {\n        var normalizedFirstPos = normalizePosition(true, firstPos);\n        var normalizedLastPos = normalizePosition(false, lastPos);\n        var normalizedFromPos = normalizePosition(false, fromPos);\n        if (forward) {\n          return nextPosition(elm, normalizedFromPos).exists(function (nextPos) {\n            return nextPos.isEqual(normalizedLastPos) && fromPos.isEqual(normalizedFirstPos);\n          });\n        } else {\n          return prevPosition(elm, normalizedFromPos).exists(function (prevPos) {\n            return prevPos.isEqual(normalizedFirstPos) && fromPos.isEqual(normalizedLastPos);\n          });\n        }\n      }).getOr(true);\n    };\n\n    var blockPosition = function (block, position) {\n      return {\n        block: block,\n        position: position\n      };\n    };\n    var blockBoundary = function (from, to) {\n      return {\n        from: from,\n        to: to\n      };\n    };\n    var getBlockPosition = function (rootNode, pos) {\n      var rootElm = SugarElement.fromDom(rootNode);\n      var containerElm = SugarElement.fromDom(pos.container());\n      return getParentBlock$1(rootElm, containerElm).map(function (block) {\n        return blockPosition(block, pos);\n      });\n    };\n    var isDifferentBlocks = function (blockBoundary) {\n      return eq(blockBoundary.from.block, blockBoundary.to.block) === false;\n    };\n    var hasSameParent = function (blockBoundary) {\n      return parent(blockBoundary.from.block).bind(function (parent1) {\n        return parent(blockBoundary.to.block).filter(function (parent2) {\n          return eq(parent1, parent2);\n        });\n      }).isSome();\n    };\n    var isEditable$1 = function (blockBoundary) {\n      return isContentEditableFalse$b(blockBoundary.from.block.dom) === false && isContentEditableFalse$b(blockBoundary.to.block.dom) === false;\n    };\n    var skipLastBr = function (rootNode, forward, blockPosition) {\n      if (isBr$5(blockPosition.position.getNode()) && isEmpty$2(blockPosition.block) === false) {\n        return positionIn(false, blockPosition.block.dom).bind(function (lastPositionInBlock) {\n          if (lastPositionInBlock.isEqual(blockPosition.position)) {\n            return fromPosition(forward, rootNode, lastPositionInBlock).bind(function (to) {\n              return getBlockPosition(rootNode, to);\n            });\n          } else {\n            return Optional.some(blockPosition);\n          }\n        }).getOr(blockPosition);\n      } else {\n        return blockPosition;\n      }\n    };\n    var readFromRange = function (rootNode, forward, rng) {\n      var fromBlockPos = getBlockPosition(rootNode, CaretPosition.fromRangeStart(rng));\n      var toBlockPos = fromBlockPos.bind(function (blockPos) {\n        return fromPosition(forward, rootNode, blockPos.position).bind(function (to) {\n          return getBlockPosition(rootNode, to).map(function (blockPos) {\n            return skipLastBr(rootNode, forward, blockPos);\n          });\n        });\n      });\n      return lift2(fromBlockPos, toBlockPos, blockBoundary).filter(function (blockBoundary) {\n        return isDifferentBlocks(blockBoundary) && hasSameParent(blockBoundary) && isEditable$1(blockBoundary);\n      });\n    };\n    var read$1 = function (rootNode, forward, rng) {\n      return rng.collapsed ? readFromRange(rootNode, forward, rng) : Optional.none();\n    };\n\n    var getChildrenUntilBlockBoundary = function (block) {\n      var children$1 = children(block);\n      return findIndex$2(children$1, isBlock$2).fold(constant(children$1), function (index) {\n        return children$1.slice(0, index);\n      });\n    };\n    var extractChildren = function (block) {\n      var children = getChildrenUntilBlockBoundary(block);\n      each$k(children, remove$7);\n      return children;\n    };\n    var removeEmptyRoot = function (rootNode, block) {\n      var parents = parentsAndSelf(block, rootNode);\n      return find$3(parents.reverse(), function (element) {\n        return isEmpty$2(element);\n      }).each(remove$7);\n    };\n    var isEmptyBefore = function (el) {\n      return filter$4(prevSiblings(el), function (el) {\n        return !isEmpty$2(el);\n      }).length === 0;\n    };\n    var nestedBlockMerge = function (rootNode, fromBlock, toBlock, insertionPoint) {\n      if (isEmpty$2(toBlock)) {\n        fillWithPaddingBr(toBlock);\n        return firstPositionIn(toBlock.dom);\n      }\n      if (isEmptyBefore(insertionPoint) && isEmpty$2(fromBlock)) {\n        before$4(insertionPoint, SugarElement.fromTag('br'));\n      }\n      var position = prevPosition(toBlock.dom, CaretPosition.before(insertionPoint.dom));\n      each$k(extractChildren(fromBlock), function (child) {\n        before$4(insertionPoint, child);\n      });\n      removeEmptyRoot(rootNode, fromBlock);\n      return position;\n    };\n    var sidelongBlockMerge = function (rootNode, fromBlock, toBlock) {\n      if (isEmpty$2(toBlock)) {\n        remove$7(toBlock);\n        if (isEmpty$2(fromBlock)) {\n          fillWithPaddingBr(fromBlock);\n        }\n        return firstPositionIn(fromBlock.dom);\n      }\n      var position = lastPositionIn(toBlock.dom);\n      each$k(extractChildren(fromBlock), function (child) {\n        append$1(toBlock, child);\n      });\n      removeEmptyRoot(rootNode, fromBlock);\n      return position;\n    };\n    var findInsertionPoint = function (toBlock, block) {\n      var parentsAndSelf$1 = parentsAndSelf(block, toBlock);\n      return Optional.from(parentsAndSelf$1[parentsAndSelf$1.length - 1]);\n    };\n    var getInsertionPoint = function (fromBlock, toBlock) {\n      return contains$1(toBlock, fromBlock) ? findInsertionPoint(toBlock, fromBlock) : Optional.none();\n    };\n    var trimBr = function (first, block) {\n      positionIn(first, block.dom).map(function (position) {\n        return position.getNode();\n      }).map(SugarElement.fromDom).filter(isBr$4).each(remove$7);\n    };\n    var mergeBlockInto = function (rootNode, fromBlock, toBlock) {\n      trimBr(true, fromBlock);\n      trimBr(false, toBlock);\n      return getInsertionPoint(fromBlock, toBlock).fold(curry(sidelongBlockMerge, rootNode, fromBlock, toBlock), curry(nestedBlockMerge, rootNode, fromBlock, toBlock));\n    };\n    var mergeBlocks = function (rootNode, forward, block1, block2) {\n      return forward ? mergeBlockInto(rootNode, block2, block1) : mergeBlockInto(rootNode, block1, block2);\n    };\n\n    var backspaceDelete$8 = function (editor, forward) {\n      var rootNode = SugarElement.fromDom(editor.getBody());\n      var position = read$1(rootNode.dom, forward, editor.selection.getRng()).bind(function (blockBoundary) {\n        return mergeBlocks(rootNode, forward, blockBoundary.from.block, blockBoundary.to.block);\n      });\n      position.each(function (pos) {\n        editor.selection.setRng(pos.toRange());\n      });\n      return position.isSome();\n    };\n\n    var deleteRangeMergeBlocks = function (rootNode, selection) {\n      var rng = selection.getRng();\n      return lift2(getParentBlock$1(rootNode, SugarElement.fromDom(rng.startContainer)), getParentBlock$1(rootNode, SugarElement.fromDom(rng.endContainer)), function (block1, block2) {\n        if (eq(block1, block2) === false) {\n          rng.deleteContents();\n          mergeBlocks(rootNode, true, block1, block2).each(function (pos) {\n            selection.setRng(pos.toRange());\n          });\n          return true;\n        } else {\n          return false;\n        }\n      }).getOr(false);\n    };\n    var isRawNodeInTable = function (root, rawNode) {\n      var node = SugarElement.fromDom(rawNode);\n      var isRoot = curry(eq, root);\n      return ancestor$3(node, isTableCell$4, isRoot).isSome();\n    };\n    var isSelectionInTable = function (root, rng) {\n      return isRawNodeInTable(root, rng.startContainer) || isRawNodeInTable(root, rng.endContainer);\n    };\n    var isEverythingSelected = function (root, rng) {\n      var noPrevious = prevPosition(root.dom, CaretPosition.fromRangeStart(rng)).isNone();\n      var noNext = nextPosition(root.dom, CaretPosition.fromRangeEnd(rng)).isNone();\n      return !isSelectionInTable(root, rng) && noPrevious && noNext;\n    };\n    var emptyEditor = function (editor) {\n      editor.setContent('');\n      editor.selection.setCursorLocation();\n      return true;\n    };\n    var deleteRange$1 = function (editor) {\n      var rootNode = SugarElement.fromDom(editor.getBody());\n      var rng = editor.selection.getRng();\n      return isEverythingSelected(rootNode, rng) ? emptyEditor(editor) : deleteRangeMergeBlocks(rootNode, editor.selection);\n    };\n    var backspaceDelete$7 = function (editor, _forward) {\n      return editor.selection.isCollapsed() ? false : deleteRange$1(editor);\n    };\n\n    var isContentEditableTrue$2 = isContentEditableTrue$4;\n    var isContentEditableFalse$4 = isContentEditableFalse$b;\n    var showCaret = function (direction, editor, node, before, scrollIntoView) {\n      return Optional.from(editor._selectionOverrides.showCaret(direction, node, before, scrollIntoView));\n    };\n    var getNodeRange = function (node) {\n      var rng = node.ownerDocument.createRange();\n      rng.selectNode(node);\n      return rng;\n    };\n    var selectNode = function (editor, node) {\n      var e = editor.fire('BeforeObjectSelected', { target: node });\n      if (e.isDefaultPrevented()) {\n        return Optional.none();\n      }\n      return Optional.some(getNodeRange(node));\n    };\n    var renderCaretAtRange = function (editor, range, scrollIntoView) {\n      var normalizedRange = normalizeRange(1, editor.getBody(), range);\n      var caretPosition = CaretPosition.fromRangeStart(normalizedRange);\n      var caretPositionNode = caretPosition.getNode();\n      if (isInlineFakeCaretTarget(caretPositionNode)) {\n        return showCaret(1, editor, caretPositionNode, !caretPosition.isAtEnd(), false);\n      }\n      var caretPositionBeforeNode = caretPosition.getNode(true);\n      if (isInlineFakeCaretTarget(caretPositionBeforeNode)) {\n        return showCaret(1, editor, caretPositionBeforeNode, false, false);\n      }\n      var ceRoot = editor.dom.getParent(caretPosition.getNode(), function (node) {\n        return isContentEditableFalse$4(node) || isContentEditableTrue$2(node);\n      });\n      if (isInlineFakeCaretTarget(ceRoot)) {\n        return showCaret(1, editor, ceRoot, false, scrollIntoView);\n      }\n      return Optional.none();\n    };\n    var renderRangeCaret = function (editor, range, scrollIntoView) {\n      return range.collapsed ? renderCaretAtRange(editor, range, scrollIntoView).getOr(range) : range;\n    };\n\n    var isBeforeBoundary = function (pos) {\n      return isBeforeContentEditableFalse(pos) || isBeforeMedia(pos);\n    };\n    var isAfterBoundary = function (pos) {\n      return isAfterContentEditableFalse(pos) || isAfterMedia(pos);\n    };\n    var trimEmptyTextNode = function (dom, node) {\n      if (isText$7(node) && node.data.length === 0) {\n        dom.remove(node);\n      }\n    };\n    var deleteContentAndShowCaret = function (editor, range, node, direction, forward, peekCaretPosition) {\n      showCaret(direction, editor, peekCaretPosition.getNode(!forward), forward, true).each(function (caretRange) {\n        if (range.collapsed) {\n          var deleteRange = range.cloneRange();\n          if (forward) {\n            deleteRange.setEnd(caretRange.startContainer, caretRange.startOffset);\n          } else {\n            deleteRange.setStart(caretRange.endContainer, caretRange.endOffset);\n          }\n          deleteRange.deleteContents();\n        } else {\n          range.deleteContents();\n        }\n        editor.selection.setRng(caretRange);\n      });\n      trimEmptyTextNode(editor.dom, node);\n      return true;\n    };\n    var deleteBoundaryText = function (editor, forward) {\n      var range = editor.selection.getRng();\n      if (!isText$7(range.commonAncestorContainer)) {\n        return false;\n      }\n      var direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      var caretWalker = CaretWalker(editor.getBody());\n      var getNextPosFn = curry(getVisualCaretPosition, forward ? caretWalker.next : caretWalker.prev);\n      var isBeforeFn = forward ? isBeforeBoundary : isAfterBoundary;\n      var caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      var nextCaretPosition = normalizePosition(forward, getNextPosFn(caretPosition));\n      if (!nextCaretPosition || !isMoveInsideSameBlock(caretPosition, nextCaretPosition)) {\n        return false;\n      } else if (isBeforeFn(nextCaretPosition)) {\n        return deleteContentAndShowCaret(editor, range, caretPosition.getNode(), direction, forward, nextCaretPosition);\n      }\n      var peekCaretPosition = getNextPosFn(nextCaretPosition);\n      if (peekCaretPosition && isBeforeFn(peekCaretPosition)) {\n        if (isMoveInsideSameBlock(nextCaretPosition, peekCaretPosition)) {\n          return deleteContentAndShowCaret(editor, range, caretPosition.getNode(), direction, forward, peekCaretPosition);\n        }\n      }\n      return false;\n    };\n    var backspaceDelete$6 = function (editor, forward) {\n      return deleteBoundaryText(editor, forward);\n    };\n\n    var isCompoundElement = function (node) {\n      return isTableCell$4(SugarElement.fromDom(node)) || isListItem(SugarElement.fromDom(node));\n    };\n    var DeleteAction = Adt.generate([\n      { remove: ['element'] },\n      { moveToElement: ['element'] },\n      { moveToPosition: ['position'] }\n    ]);\n    var isAtContentEditableBlockCaret = function (forward, from) {\n      var elm = from.getNode(forward === false);\n      var caretLocation = forward ? 'after' : 'before';\n      return isElement$5(elm) && elm.getAttribute('data-mce-caret') === caretLocation;\n    };\n    var isDeleteFromCefDifferentBlocks = function (root, forward, from, to) {\n      var inSameBlock = function (elm) {\n        return isInline$1(SugarElement.fromDom(elm)) && !isInSameBlock(from, to, root);\n      };\n      return getRelativeCefElm(!forward, from).fold(function () {\n        return getRelativeCefElm(forward, to).fold(never, inSameBlock);\n      }, inSameBlock);\n    };\n    var deleteEmptyBlockOrMoveToCef = function (root, forward, from, to) {\n      var toCefElm = to.getNode(forward === false);\n      return getParentBlock$1(SugarElement.fromDom(root), SugarElement.fromDom(from.getNode())).map(function (blockElm) {\n        return isEmpty$2(blockElm) ? DeleteAction.remove(blockElm.dom) : DeleteAction.moveToElement(toCefElm);\n      }).orThunk(function () {\n        return Optional.some(DeleteAction.moveToElement(toCefElm));\n      });\n    };\n    var findCefPosition = function (root, forward, from) {\n      return fromPosition(forward, root, from).bind(function (to) {\n        if (isCompoundElement(to.getNode())) {\n          return Optional.none();\n        } else if (isDeleteFromCefDifferentBlocks(root, forward, from, to)) {\n          return Optional.none();\n        } else if (forward && isContentEditableFalse$b(to.getNode())) {\n          return deleteEmptyBlockOrMoveToCef(root, forward, from, to);\n        } else if (forward === false && isContentEditableFalse$b(to.getNode(true))) {\n          return deleteEmptyBlockOrMoveToCef(root, forward, from, to);\n        } else if (forward && isAfterContentEditableFalse(from)) {\n          return Optional.some(DeleteAction.moveToPosition(to));\n        } else if (forward === false && isBeforeContentEditableFalse(from)) {\n          return Optional.some(DeleteAction.moveToPosition(to));\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var getContentEditableBlockAction = function (forward, elm) {\n      if (forward && isContentEditableFalse$b(elm.nextSibling)) {\n        return Optional.some(DeleteAction.moveToElement(elm.nextSibling));\n      } else if (forward === false && isContentEditableFalse$b(elm.previousSibling)) {\n        return Optional.some(DeleteAction.moveToElement(elm.previousSibling));\n      } else {\n        return Optional.none();\n      }\n    };\n    var skipMoveToActionFromInlineCefToContent = function (root, from, deleteAction) {\n      return deleteAction.fold(function (elm) {\n        return Optional.some(DeleteAction.remove(elm));\n      }, function (elm) {\n        return Optional.some(DeleteAction.moveToElement(elm));\n      }, function (to) {\n        if (isInSameBlock(from, to, root)) {\n          return Optional.none();\n        } else {\n          return Optional.some(DeleteAction.moveToPosition(to));\n        }\n      });\n    };\n    var getContentEditableAction = function (root, forward, from) {\n      if (isAtContentEditableBlockCaret(forward, from)) {\n        return getContentEditableBlockAction(forward, from.getNode(forward === false)).fold(function () {\n          return findCefPosition(root, forward, from);\n        }, Optional.some);\n      } else {\n        return findCefPosition(root, forward, from).bind(function (deleteAction) {\n          return skipMoveToActionFromInlineCefToContent(root, from, deleteAction);\n        });\n      }\n    };\n    var read = function (root, forward, rng) {\n      var normalizedRange = normalizeRange(forward ? 1 : -1, root, rng);\n      var from = CaretPosition.fromRangeStart(normalizedRange);\n      var rootElement = SugarElement.fromDom(root);\n      if (forward === false && isAfterContentEditableFalse(from)) {\n        return Optional.some(DeleteAction.remove(from.getNode(true)));\n      } else if (forward && isBeforeContentEditableFalse(from)) {\n        return Optional.some(DeleteAction.remove(from.getNode()));\n      } else if (forward === false && isBeforeContentEditableFalse(from) && isAfterBr(rootElement, from)) {\n        return findPreviousBr(rootElement, from).map(function (br) {\n          return DeleteAction.remove(br.getNode());\n        });\n      } else if (forward && isAfterContentEditableFalse(from) && isBeforeBr$1(rootElement, from)) {\n        return findNextBr(rootElement, from).map(function (br) {\n          return DeleteAction.remove(br.getNode());\n        });\n      } else {\n        return getContentEditableAction(root, forward, from);\n      }\n    };\n\n    var deleteElement$1 = function (editor, forward) {\n      return function (element) {\n        editor._selectionOverrides.hideFakeCaret();\n        deleteElement$2(editor, forward, SugarElement.fromDom(element));\n        return true;\n      };\n    };\n    var moveToElement = function (editor, forward) {\n      return function (element) {\n        var pos = forward ? CaretPosition.before(element) : CaretPosition.after(element);\n        editor.selection.setRng(pos.toRange());\n        return true;\n      };\n    };\n    var moveToPosition = function (editor) {\n      return function (pos) {\n        editor.selection.setRng(pos.toRange());\n        return true;\n      };\n    };\n    var getAncestorCe = function (editor, node) {\n      return Optional.from(getContentEditableRoot$1(editor.getBody(), node));\n    };\n    var backspaceDeleteCaret = function (editor, forward) {\n      var selectedNode = editor.selection.getNode();\n      return getAncestorCe(editor, selectedNode).filter(isContentEditableFalse$b).fold(function () {\n        return read(editor.getBody(), forward, editor.selection.getRng()).exists(function (deleteAction) {\n          return deleteAction.fold(deleteElement$1(editor, forward), moveToElement(editor, forward), moveToPosition(editor));\n        });\n      }, always);\n    };\n    var deleteOffscreenSelection = function (rootElement) {\n      each$k(descendants(rootElement, '.mce-offscreen-selection'), remove$7);\n    };\n    var backspaceDeleteRange = function (editor, forward) {\n      var selectedNode = editor.selection.getNode();\n      if (isContentEditableFalse$b(selectedNode) && !isTableCell$5(selectedNode)) {\n        var hasCefAncestor = getAncestorCe(editor, selectedNode.parentNode).filter(isContentEditableFalse$b);\n        return hasCefAncestor.fold(function () {\n          deleteOffscreenSelection(SugarElement.fromDom(editor.getBody()));\n          deleteElement$2(editor, forward, SugarElement.fromDom(editor.selection.getNode()));\n          paddEmptyBody(editor);\n          return true;\n        }, always);\n      }\n      return false;\n    };\n    var paddEmptyElement = function (editor) {\n      var dom = editor.dom, selection = editor.selection;\n      var ceRoot = getContentEditableRoot$1(editor.getBody(), selection.getNode());\n      if (isContentEditableTrue$4(ceRoot) && dom.isBlock(ceRoot) && dom.isEmpty(ceRoot)) {\n        var br = dom.create('br', { 'data-mce-bogus': '1' });\n        dom.setHTML(ceRoot, '');\n        ceRoot.appendChild(br);\n        selection.setRng(CaretPosition.before(br).toRange());\n      }\n      return true;\n    };\n    var backspaceDelete$5 = function (editor, forward) {\n      if (editor.selection.isCollapsed()) {\n        return backspaceDeleteCaret(editor, forward);\n      } else {\n        return backspaceDeleteRange(editor, forward);\n      }\n    };\n\n    var deleteCaret$2 = function (editor, forward) {\n      var fromPos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return fromPosition(forward, editor.getBody(), fromPos).filter(function (pos) {\n        return forward ? isBeforeImageBlock(pos) : isAfterImageBlock(pos);\n      }).bind(function (pos) {\n        return Optional.from(getChildNodeAtRelativeOffset(forward ? 0 : -1, pos));\n      }).exists(function (elm) {\n        editor.selection.select(elm);\n        return true;\n      });\n    };\n    var backspaceDelete$4 = function (editor, forward) {\n      return editor.selection.isCollapsed() ? deleteCaret$2(editor, forward) : false;\n    };\n\n    var isText = isText$7;\n    var startsWithCaretContainer = function (node) {\n      return isText(node) && node.data[0] === ZWSP$1;\n    };\n    var endsWithCaretContainer = function (node) {\n      return isText(node) && node.data[node.data.length - 1] === ZWSP$1;\n    };\n    var createZwsp = function (node) {\n      return node.ownerDocument.createTextNode(ZWSP$1);\n    };\n    var insertBefore = function (node) {\n      if (isText(node.previousSibling)) {\n        if (endsWithCaretContainer(node.previousSibling)) {\n          return node.previousSibling;\n        } else {\n          node.previousSibling.appendData(ZWSP$1);\n          return node.previousSibling;\n        }\n      } else if (isText(node)) {\n        if (startsWithCaretContainer(node)) {\n          return node;\n        } else {\n          node.insertData(0, ZWSP$1);\n          return node;\n        }\n      } else {\n        var newNode = createZwsp(node);\n        node.parentNode.insertBefore(newNode, node);\n        return newNode;\n      }\n    };\n    var insertAfter = function (node) {\n      if (isText(node.nextSibling)) {\n        if (startsWithCaretContainer(node.nextSibling)) {\n          return node.nextSibling;\n        } else {\n          node.nextSibling.insertData(0, ZWSP$1);\n          return node.nextSibling;\n        }\n      } else if (isText(node)) {\n        if (endsWithCaretContainer(node)) {\n          return node;\n        } else {\n          node.appendData(ZWSP$1);\n          return node;\n        }\n      } else {\n        var newNode = createZwsp(node);\n        if (node.nextSibling) {\n          node.parentNode.insertBefore(newNode, node.nextSibling);\n        } else {\n          node.parentNode.appendChild(newNode);\n        }\n        return newNode;\n      }\n    };\n    var insertInline = function (before, node) {\n      return before ? insertBefore(node) : insertAfter(node);\n    };\n    var insertInlineBefore = curry(insertInline, true);\n    var insertInlineAfter = curry(insertInline, false);\n\n    var insertInlinePos = function (pos, before) {\n      if (isText$7(pos.container())) {\n        return insertInline(before, pos.container());\n      } else {\n        return insertInline(before, pos.getNode());\n      }\n    };\n    var isPosCaretContainer = function (pos, caret) {\n      var caretNode = caret.get();\n      return caretNode && pos.container() === caretNode && isCaretContainerInline(caretNode);\n    };\n    var renderCaret = function (caret, location) {\n      return location.fold(function (element) {\n        remove$2(caret.get());\n        var text = insertInlineBefore(element);\n        caret.set(text);\n        return Optional.some(CaretPosition(text, text.length - 1));\n      }, function (element) {\n        return firstPositionIn(element).map(function (pos) {\n          if (!isPosCaretContainer(pos, caret)) {\n            remove$2(caret.get());\n            var text = insertInlinePos(pos, true);\n            caret.set(text);\n            return CaretPosition(text, 1);\n          } else {\n            return CaretPosition(caret.get(), 1);\n          }\n        });\n      }, function (element) {\n        return lastPositionIn(element).map(function (pos) {\n          if (!isPosCaretContainer(pos, caret)) {\n            remove$2(caret.get());\n            var text = insertInlinePos(pos, false);\n            caret.set(text);\n            return CaretPosition(text, text.length - 1);\n          } else {\n            return CaretPosition(caret.get(), caret.get().length - 1);\n          }\n        });\n      }, function (element) {\n        remove$2(caret.get());\n        var text = insertInlineAfter(element);\n        caret.set(text);\n        return Optional.some(CaretPosition(text, 1));\n      });\n    };\n\n    var evaluateUntil = function (fns, args) {\n      for (var i = 0; i < fns.length; i++) {\n        var result = fns[i].apply(null, args);\n        if (result.isSome()) {\n          return result;\n        }\n      }\n      return Optional.none();\n    };\n\n    var Location = Adt.generate([\n      { before: ['element'] },\n      { start: ['element'] },\n      { end: ['element'] },\n      { after: ['element'] }\n    ]);\n    var rescope$1 = function (rootNode, node) {\n      var parentBlock = getParentBlock$2(node, rootNode);\n      return parentBlock ? parentBlock : rootNode;\n    };\n    var before = function (isInlineTarget, rootNode, pos) {\n      var nPos = normalizeForwards(pos);\n      var scope = rescope$1(rootNode, nPos.container());\n      return findRootInline(isInlineTarget, scope, nPos).fold(function () {\n        return nextPosition(scope, nPos).bind(curry(findRootInline, isInlineTarget, scope)).map(function (inline) {\n          return Location.before(inline);\n        });\n      }, Optional.none);\n    };\n    var isNotInsideFormatCaretContainer = function (rootNode, elm) {\n      return getParentCaretContainer(rootNode, elm) === null;\n    };\n    var findInsideRootInline = function (isInlineTarget, rootNode, pos) {\n      return findRootInline(isInlineTarget, rootNode, pos).filter(curry(isNotInsideFormatCaretContainer, rootNode));\n    };\n    var start$1 = function (isInlineTarget, rootNode, pos) {\n      var nPos = normalizeBackwards(pos);\n      return findInsideRootInline(isInlineTarget, rootNode, nPos).bind(function (inline) {\n        var prevPos = prevPosition(inline, nPos);\n        return prevPos.isNone() ? Optional.some(Location.start(inline)) : Optional.none();\n      });\n    };\n    var end = function (isInlineTarget, rootNode, pos) {\n      var nPos = normalizeForwards(pos);\n      return findInsideRootInline(isInlineTarget, rootNode, nPos).bind(function (inline) {\n        var nextPos = nextPosition(inline, nPos);\n        return nextPos.isNone() ? Optional.some(Location.end(inline)) : Optional.none();\n      });\n    };\n    var after = function (isInlineTarget, rootNode, pos) {\n      var nPos = normalizeBackwards(pos);\n      var scope = rescope$1(rootNode, nPos.container());\n      return findRootInline(isInlineTarget, scope, nPos).fold(function () {\n        return prevPosition(scope, nPos).bind(curry(findRootInline, isInlineTarget, scope)).map(function (inline) {\n          return Location.after(inline);\n        });\n      }, Optional.none);\n    };\n    var isValidLocation = function (location) {\n      return isRtl(getElement(location)) === false;\n    };\n    var readLocation = function (isInlineTarget, rootNode, pos) {\n      var location = evaluateUntil([\n        before,\n        start$1,\n        end,\n        after\n      ], [\n        isInlineTarget,\n        rootNode,\n        pos\n      ]);\n      return location.filter(isValidLocation);\n    };\n    var getElement = function (location) {\n      return location.fold(identity, identity, identity, identity);\n    };\n    var getName = function (location) {\n      return location.fold(constant('before'), constant('start'), constant('end'), constant('after'));\n    };\n    var outside = function (location) {\n      return location.fold(Location.before, Location.before, Location.after, Location.after);\n    };\n    var inside = function (location) {\n      return location.fold(Location.start, Location.start, Location.end, Location.end);\n    };\n    var isEq = function (location1, location2) {\n      return getName(location1) === getName(location2) && getElement(location1) === getElement(location2);\n    };\n    var betweenInlines = function (forward, isInlineTarget, rootNode, from, to, location) {\n      return lift2(findRootInline(isInlineTarget, rootNode, from), findRootInline(isInlineTarget, rootNode, to), function (fromInline, toInline) {\n        if (fromInline !== toInline && hasSameParentBlock(rootNode, fromInline, toInline)) {\n          return Location.after(forward ? fromInline : toInline);\n        } else {\n          return location;\n        }\n      }).getOr(location);\n    };\n    var skipNoMovement = function (fromLocation, toLocation) {\n      return fromLocation.fold(always, function (fromLocation) {\n        return !isEq(fromLocation, toLocation);\n      });\n    };\n    var findLocationTraverse = function (forward, isInlineTarget, rootNode, fromLocation, pos) {\n      var from = normalizePosition(forward, pos);\n      var to = fromPosition(forward, rootNode, from).map(curry(normalizePosition, forward));\n      var location = to.fold(function () {\n        return fromLocation.map(outside);\n      }, function (to) {\n        return readLocation(isInlineTarget, rootNode, to).map(curry(betweenInlines, forward, isInlineTarget, rootNode, from, to)).filter(curry(skipNoMovement, fromLocation));\n      });\n      return location.filter(isValidLocation);\n    };\n    var findLocationSimple = function (forward, location) {\n      if (forward) {\n        return location.fold(compose(Optional.some, Location.start), Optional.none, compose(Optional.some, Location.after), Optional.none);\n      } else {\n        return location.fold(Optional.none, compose(Optional.some, Location.before), Optional.none, compose(Optional.some, Location.end));\n      }\n    };\n    var findLocation$1 = function (forward, isInlineTarget, rootNode, pos) {\n      var from = normalizePosition(forward, pos);\n      var fromLocation = readLocation(isInlineTarget, rootNode, from);\n      return readLocation(isInlineTarget, rootNode, from).bind(curry(findLocationSimple, forward)).orThunk(function () {\n        return findLocationTraverse(forward, isInlineTarget, rootNode, fromLocation, pos);\n      });\n    };\n    curry(findLocation$1, false);\n    curry(findLocation$1, true);\n\n    var hasSelectionModifyApi = function (editor) {\n      return isFunction(editor.selection.getSel().modify);\n    };\n    var moveRel = function (forward, selection, pos) {\n      var delta = forward ? 1 : -1;\n      selection.setRng(CaretPosition(pos.container(), pos.offset() + delta).toRange());\n      selection.getSel().modify('move', forward ? 'forward' : 'backward', 'word');\n      return true;\n    };\n    var moveByWord = function (forward, editor) {\n      var rng = editor.selection.getRng();\n      var pos = forward ? CaretPosition.fromRangeEnd(rng) : CaretPosition.fromRangeStart(rng);\n      if (!hasSelectionModifyApi(editor)) {\n        return false;\n      } else if (forward && isBeforeInline(pos)) {\n        return moveRel(true, editor.selection, pos);\n      } else if (!forward && isAfterInline(pos)) {\n        return moveRel(false, editor.selection, pos);\n      } else {\n        return false;\n      }\n    };\n\n    var BreakType;\n    (function (BreakType) {\n      BreakType[BreakType['Br'] = 0] = 'Br';\n      BreakType[BreakType['Block'] = 1] = 'Block';\n      BreakType[BreakType['Wrap'] = 2] = 'Wrap';\n      BreakType[BreakType['Eol'] = 3] = 'Eol';\n    }(BreakType || (BreakType = {})));\n    var flip = function (direction, positions) {\n      return direction === HDirection.Backwards ? reverse(positions) : positions;\n    };\n    var walk = function (direction, caretWalker, pos) {\n      return direction === HDirection.Forwards ? caretWalker.next(pos) : caretWalker.prev(pos);\n    };\n    var getBreakType = function (scope, direction, currentPos, nextPos) {\n      if (isBr$5(nextPos.getNode(direction === HDirection.Forwards))) {\n        return BreakType.Br;\n      } else if (isInSameBlock(currentPos, nextPos) === false) {\n        return BreakType.Block;\n      } else {\n        return BreakType.Wrap;\n      }\n    };\n    var getPositionsUntil = function (predicate, direction, scope, start) {\n      var caretWalker = CaretWalker(scope);\n      var currentPos = start;\n      var positions = [];\n      while (currentPos) {\n        var nextPos = walk(direction, caretWalker, currentPos);\n        if (!nextPos) {\n          break;\n        }\n        if (isBr$5(nextPos.getNode(false))) {\n          if (direction === HDirection.Forwards) {\n            return {\n              positions: flip(direction, positions).concat([nextPos]),\n              breakType: BreakType.Br,\n              breakAt: Optional.some(nextPos)\n            };\n          } else {\n            return {\n              positions: flip(direction, positions),\n              breakType: BreakType.Br,\n              breakAt: Optional.some(nextPos)\n            };\n          }\n        }\n        if (!nextPos.isVisible()) {\n          currentPos = nextPos;\n          continue;\n        }\n        if (predicate(currentPos, nextPos)) {\n          var breakType = getBreakType(scope, direction, currentPos, nextPos);\n          return {\n            positions: flip(direction, positions),\n            breakType: breakType,\n            breakAt: Optional.some(nextPos)\n          };\n        }\n        positions.push(nextPos);\n        currentPos = nextPos;\n      }\n      return {\n        positions: flip(direction, positions),\n        breakType: BreakType.Eol,\n        breakAt: Optional.none()\n      };\n    };\n    var getAdjacentLinePositions = function (direction, getPositionsUntilBreak, scope, start) {\n      return getPositionsUntilBreak(scope, start).breakAt.map(function (pos) {\n        var positions = getPositionsUntilBreak(scope, pos).positions;\n        return direction === HDirection.Backwards ? positions.concat(pos) : [pos].concat(positions);\n      }).getOr([]);\n    };\n    var findClosestHorizontalPositionFromPoint = function (positions, x) {\n      return foldl(positions, function (acc, newPos) {\n        return acc.fold(function () {\n          return Optional.some(newPos);\n        }, function (lastPos) {\n          return lift2(head(lastPos.getClientRects()), head(newPos.getClientRects()), function (lastRect, newRect) {\n            var lastDist = Math.abs(x - lastRect.left);\n            var newDist = Math.abs(x - newRect.left);\n            return newDist <= lastDist ? newPos : lastPos;\n          }).or(acc);\n        });\n      }, Optional.none());\n    };\n    var findClosestHorizontalPosition = function (positions, pos) {\n      return head(pos.getClientRects()).bind(function (targetRect) {\n        return findClosestHorizontalPositionFromPoint(positions, targetRect.left);\n      });\n    };\n    var getPositionsUntilPreviousLine = curry(getPositionsUntil, CaretPosition.isAbove, -1);\n    var getPositionsUntilNextLine = curry(getPositionsUntil, CaretPosition.isBelow, 1);\n    var getPositionsAbove = curry(getAdjacentLinePositions, -1, getPositionsUntilPreviousLine);\n    var getPositionsBelow = curry(getAdjacentLinePositions, 1, getPositionsUntilNextLine);\n    var isAtFirstLine = function (scope, pos) {\n      return getPositionsUntilPreviousLine(scope, pos).breakAt.isNone();\n    };\n    var isAtLastLine = function (scope, pos) {\n      return getPositionsUntilNextLine(scope, pos).breakAt.isNone();\n    };\n    var getFirstLinePositions = function (scope) {\n      return firstPositionIn(scope).map(function (pos) {\n        return [pos].concat(getPositionsUntilNextLine(scope, pos).positions);\n      }).getOr([]);\n    };\n    var getLastLinePositions = function (scope) {\n      return lastPositionIn(scope).map(function (pos) {\n        return getPositionsUntilPreviousLine(scope, pos).positions.concat(pos);\n      }).getOr([]);\n    };\n\n    var getNodeClientRects = function (node) {\n      var toArrayWithNode = function (clientRects) {\n        return map$3(clientRects, function (rect) {\n          var clientRect = clone(rect);\n          clientRect.node = node;\n          return clientRect;\n        });\n      };\n      if (isElement$5(node)) {\n        return toArrayWithNode(node.getClientRects());\n      }\n      if (isText$7(node)) {\n        var rng = node.ownerDocument.createRange();\n        rng.setStart(node, 0);\n        rng.setEnd(node, node.data.length);\n        return toArrayWithNode(rng.getClientRects());\n      }\n    };\n    var getClientRects = function (nodes) {\n      return bind(nodes, getNodeClientRects);\n    };\n\n    var VDirection;\n    (function (VDirection) {\n      VDirection[VDirection['Up'] = -1] = 'Up';\n      VDirection[VDirection['Down'] = 1] = 'Down';\n    }(VDirection || (VDirection = {})));\n    var findUntil = function (direction, root, predicateFn, node) {\n      while (node = findNode$1(node, direction, isEditableCaretCandidate$1, root)) {\n        if (predicateFn(node)) {\n          return;\n        }\n      }\n    };\n    var walkUntil$1 = function (direction, isAboveFn, isBeflowFn, root, predicateFn, caretPosition) {\n      var line = 0;\n      var result = [];\n      var add = function (node) {\n        var clientRects = getClientRects([node]);\n        if (direction === -1) {\n          clientRects = clientRects.reverse();\n        }\n        for (var i = 0; i < clientRects.length; i++) {\n          var clientRect = clientRects[i];\n          if (isBeflowFn(clientRect, targetClientRect)) {\n            continue;\n          }\n          if (result.length > 0 && isAboveFn(clientRect, last$1(result))) {\n            line++;\n          }\n          clientRect.line = line;\n          if (predicateFn(clientRect)) {\n            return true;\n          }\n          result.push(clientRect);\n        }\n      };\n      var targetClientRect = last$1(caretPosition.getClientRects());\n      if (!targetClientRect) {\n        return result;\n      }\n      var node = caretPosition.getNode();\n      add(node);\n      findUntil(direction, root, add, node);\n      return result;\n    };\n    var aboveLineNumber = function (lineNumber, clientRect) {\n      return clientRect.line > lineNumber;\n    };\n    var isLineNumber = function (lineNumber, clientRect) {\n      return clientRect.line === lineNumber;\n    };\n    var upUntil = curry(walkUntil$1, VDirection.Up, isAbove$1, isBelow$1);\n    var downUntil = curry(walkUntil$1, VDirection.Down, isBelow$1, isAbove$1);\n    var positionsUntil = function (direction, root, predicateFn, node) {\n      var caretWalker = CaretWalker(root);\n      var walkFn;\n      var isBelowFn;\n      var isAboveFn;\n      var caretPosition;\n      var result = [];\n      var line = 0;\n      var getClientRect = function (caretPosition) {\n        if (direction === 1) {\n          return last$1(caretPosition.getClientRects());\n        }\n        return last$1(caretPosition.getClientRects());\n      };\n      if (direction === 1) {\n        walkFn = caretWalker.next;\n        isBelowFn = isBelow$1;\n        isAboveFn = isAbove$1;\n        caretPosition = CaretPosition.after(node);\n      } else {\n        walkFn = caretWalker.prev;\n        isBelowFn = isAbove$1;\n        isAboveFn = isBelow$1;\n        caretPosition = CaretPosition.before(node);\n      }\n      var targetClientRect = getClientRect(caretPosition);\n      do {\n        if (!caretPosition.isVisible()) {\n          continue;\n        }\n        var rect = getClientRect(caretPosition);\n        if (isAboveFn(rect, targetClientRect)) {\n          continue;\n        }\n        if (result.length > 0 && isBelowFn(rect, last$1(result))) {\n          line++;\n        }\n        var clientRect = clone(rect);\n        clientRect.position = caretPosition;\n        clientRect.line = line;\n        if (predicateFn(clientRect)) {\n          return result;\n        }\n        result.push(clientRect);\n      } while (caretPosition = walkFn(caretPosition));\n      return result;\n    };\n    var isAboveLine = function (lineNumber) {\n      return function (clientRect) {\n        return aboveLineNumber(lineNumber, clientRect);\n      };\n    };\n    var isLine = function (lineNumber) {\n      return function (clientRect) {\n        return isLineNumber(lineNumber, clientRect);\n      };\n    };\n\n    var isContentEditableFalse$3 = isContentEditableFalse$b;\n    var findNode = findNode$1;\n    var distanceToRectLeft = function (clientRect, clientX) {\n      return Math.abs(clientRect.left - clientX);\n    };\n    var distanceToRectRight = function (clientRect, clientX) {\n      return Math.abs(clientRect.right - clientX);\n    };\n    var isInsideX = function (clientX, clientRect) {\n      return clientX >= clientRect.left && clientX <= clientRect.right;\n    };\n    var isInsideY = function (clientY, clientRect) {\n      return clientY >= clientRect.top && clientY <= clientRect.bottom;\n    };\n    var isNodeClientRect = function (rect) {\n      return hasNonNullableKey(rect, 'node');\n    };\n    var findClosestClientRect = function (clientRects, clientX, allowInside) {\n      if (allowInside === void 0) {\n        allowInside = always;\n      }\n      return reduce(clientRects, function (oldClientRect, clientRect) {\n        if (isInsideX(clientX, clientRect)) {\n          return allowInside(clientRect) ? clientRect : oldClientRect;\n        }\n        if (isInsideX(clientX, oldClientRect)) {\n          return allowInside(oldClientRect) ? oldClientRect : clientRect;\n        }\n        var oldDistance = Math.min(distanceToRectLeft(oldClientRect, clientX), distanceToRectRight(oldClientRect, clientX));\n        var newDistance = Math.min(distanceToRectLeft(clientRect, clientX), distanceToRectRight(clientRect, clientX));\n        if (newDistance === oldDistance && isNodeClientRect(clientRect) && isContentEditableFalse$3(clientRect.node)) {\n          return clientRect;\n        }\n        if (newDistance < oldDistance) {\n          return clientRect;\n        }\n        return oldClientRect;\n      });\n    };\n    var walkUntil = function (direction, root, predicateFn, startNode, includeChildren) {\n      var node = findNode(startNode, direction, isEditableCaretCandidate$1, root, !includeChildren);\n      do {\n        if (!node || predicateFn(node)) {\n          return;\n        }\n      } while (node = findNode(node, direction, isEditableCaretCandidate$1, root));\n    };\n    var findLineNodeRects = function (root, targetNodeRect, includeChildren) {\n      if (includeChildren === void 0) {\n        includeChildren = true;\n      }\n      var clientRects = [];\n      var collect = function (checkPosFn, node) {\n        var lineRects = filter$4(getClientRects([node]), function (clientRect) {\n          return !checkPosFn(clientRect, targetNodeRect);\n        });\n        clientRects = clientRects.concat(lineRects);\n        return lineRects.length === 0;\n      };\n      clientRects.push(targetNodeRect);\n      walkUntil(VDirection.Up, root, curry(collect, isAbove$1), targetNodeRect.node, includeChildren);\n      walkUntil(VDirection.Down, root, curry(collect, isBelow$1), targetNodeRect.node, includeChildren);\n      return clientRects;\n    };\n    var getFakeCaretTargets = function (root) {\n      return filter$4(from(root.getElementsByTagName('*')), isFakeCaretTarget);\n    };\n    var caretInfo = function (clientRect, clientX) {\n      return {\n        node: clientRect.node,\n        before: distanceToRectLeft(clientRect, clientX) < distanceToRectRight(clientRect, clientX)\n      };\n    };\n    var closestFakeCaret = function (root, clientX, clientY) {\n      var fakeTargetNodeRects = getClientRects(getFakeCaretTargets(root));\n      var targetNodeRects = filter$4(fakeTargetNodeRects, curry(isInsideY, clientY));\n      var checkInside = function (clientRect) {\n        return !isTable$3(clientRect.node) && !isMedia$2(clientRect.node);\n      };\n      var closestNodeRect = findClosestClientRect(targetNodeRects, clientX, checkInside);\n      if (closestNodeRect) {\n        var includeChildren = checkInside(closestNodeRect);\n        closestNodeRect = findClosestClientRect(findLineNodeRects(root, closestNodeRect, includeChildren), clientX, checkInside);\n        if (closestNodeRect && isFakeCaretTarget(closestNodeRect.node)) {\n          return caretInfo(closestNodeRect, clientX);\n        }\n      }\n      return null;\n    };\n\n    var moveToRange = function (editor, rng) {\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, editor.selection.getRng());\n    };\n    var renderRangeCaretOpt = function (editor, range, scrollIntoView) {\n      return Optional.some(renderRangeCaret(editor, range, scrollIntoView));\n    };\n    var moveHorizontally = function (editor, direction, range, isBefore, isAfter, isElement) {\n      var forwards = direction === HDirection.Forwards;\n      var caretWalker = CaretWalker(editor.getBody());\n      var getNextPosFn = curry(getVisualCaretPosition, forwards ? caretWalker.next : caretWalker.prev);\n      var isBeforeFn = forwards ? isBefore : isAfter;\n      if (!range.collapsed) {\n        var node = getSelectedNode(range);\n        if (isElement(node)) {\n          return showCaret(direction, editor, node, direction === HDirection.Backwards, false);\n        }\n      }\n      var caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      if (isBeforeFn(caretPosition)) {\n        return selectNode(editor, caretPosition.getNode(!forwards));\n      }\n      var nextCaretPosition = normalizePosition(forwards, getNextPosFn(caretPosition));\n      var rangeIsInContainerBlock = isRangeInCaretContainerBlock(range);\n      if (!nextCaretPosition) {\n        return rangeIsInContainerBlock ? Optional.some(range) : Optional.none();\n      }\n      if (isBeforeFn(nextCaretPosition)) {\n        return showCaret(direction, editor, nextCaretPosition.getNode(!forwards), forwards, false);\n      }\n      var peekCaretPosition = getNextPosFn(nextCaretPosition);\n      if (peekCaretPosition && isBeforeFn(peekCaretPosition)) {\n        if (isMoveInsideSameBlock(nextCaretPosition, peekCaretPosition)) {\n          return showCaret(direction, editor, peekCaretPosition.getNode(!forwards), forwards, false);\n        }\n      }\n      if (rangeIsInContainerBlock) {\n        return renderRangeCaretOpt(editor, nextCaretPosition.toRange(), false);\n      }\n      return Optional.none();\n    };\n    var moveVertically = function (editor, direction, range, isBefore, isAfter, isElement) {\n      var caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      var caretClientRect = last$1(caretPosition.getClientRects());\n      var forwards = direction === VDirection.Down;\n      if (!caretClientRect) {\n        return Optional.none();\n      }\n      var walkerFn = forwards ? downUntil : upUntil;\n      var linePositions = walkerFn(editor.getBody(), isAboveLine(1), caretPosition);\n      var nextLinePositions = filter$4(linePositions, isLine(1));\n      var clientX = caretClientRect.left;\n      var nextLineRect = findClosestClientRect(nextLinePositions, clientX);\n      if (nextLineRect && isElement(nextLineRect.node)) {\n        var dist1 = Math.abs(clientX - nextLineRect.left);\n        var dist2 = Math.abs(clientX - nextLineRect.right);\n        return showCaret(direction, editor, nextLineRect.node, dist1 < dist2, false);\n      }\n      var currentNode;\n      if (isBefore(caretPosition)) {\n        currentNode = caretPosition.getNode();\n      } else if (isAfter(caretPosition)) {\n        currentNode = caretPosition.getNode(true);\n      } else {\n        currentNode = getSelectedNode(range);\n      }\n      if (currentNode) {\n        var caretPositions = positionsUntil(direction, editor.getBody(), isAboveLine(1), currentNode);\n        var closestNextLineRect = findClosestClientRect(filter$4(caretPositions, isLine(1)), clientX);\n        if (closestNextLineRect) {\n          return renderRangeCaretOpt(editor, closestNextLineRect.position.toRange(), false);\n        }\n        closestNextLineRect = last$1(filter$4(caretPositions, isLine(0)));\n        if (closestNextLineRect) {\n          return renderRangeCaretOpt(editor, closestNextLineRect.position.toRange(), false);\n        }\n      }\n      if (nextLinePositions.length === 0) {\n        return getLineEndPoint(editor, forwards).filter(forwards ? isAfter : isBefore).map(function (pos) {\n          return renderRangeCaret(editor, pos.toRange(), false);\n        });\n      }\n      return Optional.none();\n    };\n    var getLineEndPoint = function (editor, forward) {\n      var rng = editor.selection.getRng();\n      var body = editor.getBody();\n      if (forward) {\n        var from = CaretPosition.fromRangeEnd(rng);\n        var result = getPositionsUntilNextLine(body, from);\n        return last$2(result.positions);\n      } else {\n        var from = CaretPosition.fromRangeStart(rng);\n        var result = getPositionsUntilPreviousLine(body, from);\n        return head(result.positions);\n      }\n    };\n    var moveToLineEndPoint$3 = function (editor, forward, isElementPosition) {\n      return getLineEndPoint(editor, forward).filter(isElementPosition).exists(function (pos) {\n        editor.selection.setRng(pos.toRange());\n        return true;\n      });\n    };\n\n    var setCaretPosition = function (editor, pos) {\n      var rng = editor.dom.createRng();\n      rng.setStart(pos.container(), pos.offset());\n      rng.setEnd(pos.container(), pos.offset());\n      editor.selection.setRng(rng);\n    };\n    var setSelected = function (state, elm) {\n      if (state) {\n        elm.setAttribute('data-mce-selected', 'inline-boundary');\n      } else {\n        elm.removeAttribute('data-mce-selected');\n      }\n    };\n    var renderCaretLocation = function (editor, caret, location) {\n      return renderCaret(caret, location).map(function (pos) {\n        setCaretPosition(editor, pos);\n        return location;\n      });\n    };\n    var findLocation = function (editor, caret, forward) {\n      var rootNode = editor.getBody();\n      var from = CaretPosition.fromRangeStart(editor.selection.getRng());\n      var isInlineTarget$1 = curry(isInlineTarget, editor);\n      var location = findLocation$1(forward, isInlineTarget$1, rootNode, from);\n      return location.bind(function (location) {\n        return renderCaretLocation(editor, caret, location);\n      });\n    };\n    var toggleInlines = function (isInlineTarget, dom, elms) {\n      var inlineBoundaries = map$3(descendants(SugarElement.fromDom(dom.getRoot()), '*[data-mce-selected=\"inline-boundary\"]'), function (e) {\n        return e.dom;\n      });\n      var selectedInlines = filter$4(inlineBoundaries, isInlineTarget);\n      var targetInlines = filter$4(elms, isInlineTarget);\n      each$k(difference(selectedInlines, targetInlines), curry(setSelected, false));\n      each$k(difference(targetInlines, selectedInlines), curry(setSelected, true));\n    };\n    var safeRemoveCaretContainer = function (editor, caret) {\n      if (editor.selection.isCollapsed() && editor.composing !== true && caret.get()) {\n        var pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n        if (CaretPosition.isTextPosition(pos) && isAtZwsp(pos) === false) {\n          setCaretPosition(editor, removeAndReposition(caret.get(), pos));\n          caret.set(null);\n        }\n      }\n    };\n    var renderInsideInlineCaret = function (isInlineTarget, editor, caret, elms) {\n      if (editor.selection.isCollapsed()) {\n        var inlines = filter$4(elms, isInlineTarget);\n        each$k(inlines, function (_inline) {\n          var pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n          readLocation(isInlineTarget, editor.getBody(), pos).bind(function (location) {\n            return renderCaretLocation(editor, caret, location);\n          });\n        });\n      }\n    };\n    var move$2 = function (editor, caret, forward) {\n      return isInlineBoundariesEnabled(editor) ? findLocation(editor, caret, forward).isSome() : false;\n    };\n    var moveWord = function (forward, editor, _caret) {\n      return isInlineBoundariesEnabled(editor) ? moveByWord(forward, editor) : false;\n    };\n    var setupSelectedState = function (editor) {\n      var caret = Cell(null);\n      var isInlineTarget$1 = curry(isInlineTarget, editor);\n      editor.on('NodeChange', function (e) {\n        if (isInlineBoundariesEnabled(editor) && !(Env.browser.isIE() && e.initial)) {\n          toggleInlines(isInlineTarget$1, editor.dom, e.parents);\n          safeRemoveCaretContainer(editor, caret);\n          renderInsideInlineCaret(isInlineTarget$1, editor, caret, e.parents);\n        }\n      });\n      return caret;\n    };\n    var moveNextWord = curry(moveWord, true);\n    var movePrevWord = curry(moveWord, false);\n    var moveToLineEndPoint$2 = function (editor, forward, caret) {\n      if (isInlineBoundariesEnabled(editor)) {\n        var linePoint = getLineEndPoint(editor, forward).getOrThunk(function () {\n          var rng = editor.selection.getRng();\n          return forward ? CaretPosition.fromRangeEnd(rng) : CaretPosition.fromRangeStart(rng);\n        });\n        return readLocation(curry(isInlineTarget, editor), editor.getBody(), linePoint).exists(function (loc) {\n          var outsideLoc = outside(loc);\n          return renderCaret(caret, outsideLoc).exists(function (pos) {\n            setCaretPosition(editor, pos);\n            return true;\n          });\n        });\n      } else {\n        return false;\n      }\n    };\n\n    var rangeFromPositions = function (from, to) {\n      var range = document.createRange();\n      range.setStart(from.container(), from.offset());\n      range.setEnd(to.container(), to.offset());\n      return range;\n    };\n    var hasOnlyTwoOrLessPositionsLeft = function (elm) {\n      return lift2(firstPositionIn(elm), lastPositionIn(elm), function (firstPos, lastPos) {\n        var normalizedFirstPos = normalizePosition(true, firstPos);\n        var normalizedLastPos = normalizePosition(false, lastPos);\n        return nextPosition(elm, normalizedFirstPos).forall(function (pos) {\n          return pos.isEqual(normalizedLastPos);\n        });\n      }).getOr(true);\n    };\n    var setCaretLocation = function (editor, caret) {\n      return function (location) {\n        return renderCaret(caret, location).exists(function (pos) {\n          setCaretPosition(editor, pos);\n          return true;\n        });\n      };\n    };\n    var deleteFromTo = function (editor, caret, from, to) {\n      var rootNode = editor.getBody();\n      var isInlineTarget$1 = curry(isInlineTarget, editor);\n      editor.undoManager.ignore(function () {\n        editor.selection.setRng(rangeFromPositions(from, to));\n        editor.execCommand('Delete');\n        readLocation(isInlineTarget$1, rootNode, CaretPosition.fromRangeStart(editor.selection.getRng())).map(inside).map(setCaretLocation(editor, caret));\n      });\n      editor.nodeChanged();\n    };\n    var rescope = function (rootNode, node) {\n      var parentBlock = getParentBlock$2(node, rootNode);\n      return parentBlock ? parentBlock : rootNode;\n    };\n    var backspaceDeleteCollapsed = function (editor, caret, forward, from) {\n      var rootNode = rescope(editor.getBody(), from.container());\n      var isInlineTarget$1 = curry(isInlineTarget, editor);\n      var fromLocation = readLocation(isInlineTarget$1, rootNode, from);\n      return fromLocation.bind(function (location) {\n        if (forward) {\n          return location.fold(constant(Optional.some(inside(location))), Optional.none, constant(Optional.some(outside(location))), Optional.none);\n        } else {\n          return location.fold(Optional.none, constant(Optional.some(outside(location))), Optional.none, constant(Optional.some(inside(location))));\n        }\n      }).map(setCaretLocation(editor, caret)).getOrThunk(function () {\n        var toPosition = navigate(forward, rootNode, from);\n        var toLocation = toPosition.bind(function (pos) {\n          return readLocation(isInlineTarget$1, rootNode, pos);\n        });\n        return lift2(fromLocation, toLocation, function () {\n          return findRootInline(isInlineTarget$1, rootNode, from).exists(function (elm) {\n            if (hasOnlyTwoOrLessPositionsLeft(elm)) {\n              deleteElement$2(editor, forward, SugarElement.fromDom(elm));\n              return true;\n            } else {\n              return false;\n            }\n          });\n        }).orThunk(function () {\n          return toLocation.bind(function (_) {\n            return toPosition.map(function (to) {\n              if (forward) {\n                deleteFromTo(editor, caret, from, to);\n              } else {\n                deleteFromTo(editor, caret, to, from);\n              }\n              return true;\n            });\n          });\n        }).getOr(false);\n      });\n    };\n    var backspaceDelete$3 = function (editor, caret, forward) {\n      if (editor.selection.isCollapsed() && isInlineBoundariesEnabled(editor)) {\n        var from = CaretPosition.fromRangeStart(editor.selection.getRng());\n        return backspaceDeleteCollapsed(editor, caret, forward, from);\n      }\n      return false;\n    };\n\n    var getParentInlines = function (rootElm, startElm) {\n      var parents = parentsAndSelf(startElm, rootElm);\n      return findIndex$2(parents, isBlock$2).fold(constant(parents), function (index) {\n        return parents.slice(0, index);\n      });\n    };\n    var hasOnlyOneChild = function (elm) {\n      return childNodesCount(elm) === 1;\n    };\n    var deleteLastPosition = function (forward, editor, target, parentInlines) {\n      var isFormatElement$1 = curry(isFormatElement, editor);\n      var formatNodes = map$3(filter$4(parentInlines, isFormatElement$1), function (elm) {\n        return elm.dom;\n      });\n      if (formatNodes.length === 0) {\n        deleteElement$2(editor, forward, target);\n      } else {\n        var pos = replaceWithCaretFormat(target.dom, formatNodes);\n        editor.selection.setRng(pos.toRange());\n      }\n    };\n    var deleteCaret$1 = function (editor, forward) {\n      var rootElm = SugarElement.fromDom(editor.getBody());\n      var startElm = SugarElement.fromDom(editor.selection.getStart());\n      var parentInlines = filter$4(getParentInlines(rootElm, startElm), hasOnlyOneChild);\n      return last$2(parentInlines).exists(function (target) {\n        var fromPos = CaretPosition.fromRangeStart(editor.selection.getRng());\n        if (willDeleteLastPositionInElement(forward, fromPos, target.dom) && !isEmptyCaretFormatElement(target)) {\n          deleteLastPosition(forward, editor, target, parentInlines);\n          return true;\n        } else {\n          return false;\n        }\n      });\n    };\n    var backspaceDelete$2 = function (editor, forward) {\n      return editor.selection.isCollapsed() ? deleteCaret$1(editor, forward) : false;\n    };\n\n    var deleteElement = function (editor, forward, element) {\n      editor._selectionOverrides.hideFakeCaret();\n      deleteElement$2(editor, forward, SugarElement.fromDom(element));\n      return true;\n    };\n    var deleteCaret = function (editor, forward) {\n      var isNearMedia = forward ? isBeforeMedia : isAfterMedia;\n      var direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      var fromPos = getNormalizedRangeEndPoint(direction, editor.getBody(), editor.selection.getRng());\n      if (isNearMedia(fromPos)) {\n        return deleteElement(editor, forward, fromPos.getNode(!forward));\n      } else {\n        return Optional.from(normalizePosition(forward, fromPos)).filter(function (pos) {\n          return isNearMedia(pos) && isMoveInsideSameBlock(fromPos, pos);\n        }).exists(function (pos) {\n          return deleteElement(editor, forward, pos.getNode(!forward));\n        });\n      }\n    };\n    var deleteRange = function (editor, forward) {\n      var selectedNode = editor.selection.getNode();\n      return isMedia$2(selectedNode) ? deleteElement(editor, forward, selectedNode) : false;\n    };\n    var backspaceDelete$1 = function (editor, forward) {\n      return editor.selection.isCollapsed() ? deleteCaret(editor, forward) : deleteRange(editor, forward);\n    };\n\n    var isEditable = function (target) {\n      return closest$3(target, function (elm) {\n        return isContentEditableTrue$4(elm.dom) || isContentEditableFalse$b(elm.dom);\n      }).exists(function (elm) {\n        return isContentEditableTrue$4(elm.dom);\n      });\n    };\n    var parseIndentValue = function (value) {\n      var number = parseInt(value, 10);\n      return isNaN(number) ? 0 : number;\n    };\n    var getIndentStyleName = function (useMargin, element) {\n      var indentStyleName = useMargin || isTable$2(element) ? 'margin' : 'padding';\n      var suffix = get$5(element, 'direction') === 'rtl' ? '-right' : '-left';\n      return indentStyleName + suffix;\n    };\n    var indentElement = function (dom, command, useMargin, value, unit, element) {\n      var indentStyleName = getIndentStyleName(useMargin, SugarElement.fromDom(element));\n      if (command === 'outdent') {\n        var styleValue = Math.max(0, parseIndentValue(element.style[indentStyleName]) - value);\n        dom.setStyle(element, indentStyleName, styleValue ? styleValue + unit : '');\n      } else {\n        var styleValue = parseIndentValue(element.style[indentStyleName]) + value + unit;\n        dom.setStyle(element, indentStyleName, styleValue);\n      }\n    };\n    var validateBlocks = function (editor, blocks) {\n      return forall(blocks, function (block) {\n        var indentStyleName = getIndentStyleName(shouldIndentUseMargin(editor), block);\n        var intentValue = getRaw(block, indentStyleName).map(parseIndentValue).getOr(0);\n        var contentEditable = editor.dom.getContentEditable(block.dom);\n        return contentEditable !== 'false' && intentValue > 0;\n      });\n    };\n    var canOutdent = function (editor) {\n      var blocks = getBlocksToIndent(editor);\n      return !editor.mode.isReadOnly() && (blocks.length > 1 || validateBlocks(editor, blocks));\n    };\n    var isListComponent = function (el) {\n      return isList(el) || isListItem(el);\n    };\n    var parentIsListComponent = function (el) {\n      return parent(el).exists(isListComponent);\n    };\n    var getBlocksToIndent = function (editor) {\n      return filter$4(fromDom$1(editor.selection.getSelectedBlocks()), function (el) {\n        return !isListComponent(el) && !parentIsListComponent(el) && isEditable(el);\n      });\n    };\n    var handle = function (editor, command) {\n      var dom = editor.dom, selection = editor.selection, formatter = editor.formatter;\n      var indentation = getIndentation(editor);\n      var indentUnit = /[a-z%]+$/i.exec(indentation)[0];\n      var indentValue = parseInt(indentation, 10);\n      var useMargin = shouldIndentUseMargin(editor);\n      var forcedRootBlock = getForcedRootBlock(editor);\n      if (!editor.queryCommandState('InsertUnorderedList') && !editor.queryCommandState('InsertOrderedList')) {\n        if (forcedRootBlock === '' && !dom.getParent(selection.getNode(), dom.isBlock)) {\n          formatter.apply('div');\n        }\n      }\n      each$k(getBlocksToIndent(editor), function (block) {\n        indentElement(dom, command, useMargin, indentValue, indentUnit, block.dom);\n      });\n    };\n\n    var backspaceDelete = function (editor, _forward) {\n      if (editor.selection.isCollapsed() && canOutdent(editor)) {\n        var dom = editor.dom;\n        var rng = editor.selection.getRng();\n        var pos = CaretPosition.fromRangeStart(rng);\n        var block = dom.getParent(rng.startContainer, dom.isBlock);\n        if (block !== null && isAtStartOfBlock(SugarElement.fromDom(block), pos)) {\n          handle(editor, 'outdent');\n          return true;\n        }\n      }\n      return false;\n    };\n\n    var nativeCommand = function (editor, command) {\n      editor.getDoc().execCommand(command, false, null);\n    };\n    var deleteCommand = function (editor, caret) {\n      if (backspaceDelete(editor)) {\n        return;\n      } else if (backspaceDelete$5(editor, false)) {\n        return;\n      } else if (backspaceDelete$6(editor, false)) {\n        return;\n      } else if (backspaceDelete$3(editor, caret, false)) {\n        return;\n      } else if (backspaceDelete$8(editor, false)) {\n        return;\n      } else if (backspaceDelete$9(editor)) {\n        return;\n      } else if (backspaceDelete$4(editor, false)) {\n        return;\n      } else if (backspaceDelete$1(editor, false)) {\n        return;\n      } else if (backspaceDelete$7(editor)) {\n        return;\n      } else if (backspaceDelete$2(editor, false)) {\n        return;\n      } else {\n        nativeCommand(editor, 'Delete');\n        paddEmptyBody(editor);\n      }\n    };\n    var forwardDeleteCommand = function (editor, caret) {\n      if (backspaceDelete$5(editor, true)) {\n        return;\n      } else if (backspaceDelete$6(editor, true)) {\n        return;\n      } else if (backspaceDelete$3(editor, caret, true)) {\n        return;\n      } else if (backspaceDelete$8(editor, true)) {\n        return;\n      } else if (backspaceDelete$9(editor)) {\n        return;\n      } else if (backspaceDelete$4(editor, true)) {\n        return;\n      } else if (backspaceDelete$1(editor, true)) {\n        return;\n      } else if (backspaceDelete$7(editor)) {\n        return;\n      } else if (backspaceDelete$2(editor, true)) {\n        return;\n      } else {\n        nativeCommand(editor, 'ForwardDelete');\n      }\n    };\n    var setup$f = function (editor, caret) {\n      editor.addCommand('delete', function () {\n        deleteCommand(editor, caret);\n      });\n      editor.addCommand('forwardDelete', function () {\n        forwardDeleteCommand(editor, caret);\n      });\n    };\n\n    var SIGNIFICANT_MOVE = 5;\n    var LONGPRESS_DELAY = 400;\n    var getTouch = function (event) {\n      if (event.touches === undefined || event.touches.length !== 1) {\n        return Optional.none();\n      }\n      return Optional.some(event.touches[0]);\n    };\n    var isFarEnough = function (touch, data) {\n      var distX = Math.abs(touch.clientX - data.x);\n      var distY = Math.abs(touch.clientY - data.y);\n      return distX > SIGNIFICANT_MOVE || distY > SIGNIFICANT_MOVE;\n    };\n    var setup$e = function (editor) {\n      var startData = value();\n      var longpressFired = Cell(false);\n      var debounceLongpress = last(function (e) {\n        editor.fire('longpress', __assign(__assign({}, e), { type: 'longpress' }));\n        longpressFired.set(true);\n      }, LONGPRESS_DELAY);\n      editor.on('touchstart', function (e) {\n        getTouch(e).each(function (touch) {\n          debounceLongpress.cancel();\n          var data = {\n            x: touch.clientX,\n            y: touch.clientY,\n            target: e.target\n          };\n          debounceLongpress.throttle(e);\n          longpressFired.set(false);\n          startData.set(data);\n        });\n      }, true);\n      editor.on('touchmove', function (e) {\n        debounceLongpress.cancel();\n        getTouch(e).each(function (touch) {\n          startData.on(function (data) {\n            if (isFarEnough(touch, data)) {\n              startData.clear();\n              longpressFired.set(false);\n              editor.fire('longpresscancel');\n            }\n          });\n        });\n      }, true);\n      editor.on('touchend touchcancel', function (e) {\n        debounceLongpress.cancel();\n        if (e.type === 'touchcancel') {\n          return;\n        }\n        startData.get().filter(function (data) {\n          return data.target.isEqualNode(e.target);\n        }).each(function () {\n          if (longpressFired.get()) {\n            e.preventDefault();\n          } else {\n            editor.fire('tap', __assign(__assign({}, e), { type: 'tap' }));\n          }\n        });\n      }, true);\n    };\n\n    var isBlockElement = function (blockElements, node) {\n      return has$2(blockElements, node.nodeName);\n    };\n    var isValidTarget = function (blockElements, node) {\n      if (isText$7(node)) {\n        return true;\n      } else if (isElement$5(node)) {\n        return !isBlockElement(blockElements, node) && !isBookmarkNode$1(node);\n      } else {\n        return false;\n      }\n    };\n    var hasBlockParent = function (blockElements, root, node) {\n      return exists(parents(SugarElement.fromDom(node), SugarElement.fromDom(root)), function (elm) {\n        return isBlockElement(blockElements, elm.dom);\n      });\n    };\n    var shouldRemoveTextNode = function (blockElements, node) {\n      if (isText$7(node)) {\n        if (node.nodeValue.length === 0) {\n          return true;\n        } else if (/^\\s+$/.test(node.nodeValue) && (!node.nextSibling || isBlockElement(blockElements, node.nextSibling))) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var addRootBlocks = function (editor) {\n      var dom = editor.dom, selection = editor.selection;\n      var schema = editor.schema, blockElements = schema.getBlockElements();\n      var node = selection.getStart();\n      var rootNode = editor.getBody();\n      var rootBlockNode, tempNode, wrapped;\n      var forcedRootBlock = getForcedRootBlock(editor);\n      if (!node || !isElement$5(node) || !forcedRootBlock) {\n        return;\n      }\n      var rootNodeName = rootNode.nodeName.toLowerCase();\n      if (!schema.isValidChild(rootNodeName, forcedRootBlock.toLowerCase()) || hasBlockParent(blockElements, rootNode, node)) {\n        return;\n      }\n      var rng = selection.getRng();\n      var startContainer = rng.startContainer;\n      var startOffset = rng.startOffset;\n      var endContainer = rng.endContainer;\n      var endOffset = rng.endOffset;\n      var restoreSelection = hasFocus(editor);\n      node = rootNode.firstChild;\n      while (node) {\n        if (isValidTarget(blockElements, node)) {\n          if (shouldRemoveTextNode(blockElements, node)) {\n            tempNode = node;\n            node = node.nextSibling;\n            dom.remove(tempNode);\n            continue;\n          }\n          if (!rootBlockNode) {\n            rootBlockNode = dom.create(forcedRootBlock, getForcedRootBlockAttrs(editor));\n            node.parentNode.insertBefore(rootBlockNode, node);\n            wrapped = true;\n          }\n          tempNode = node;\n          node = node.nextSibling;\n          rootBlockNode.appendChild(tempNode);\n        } else {\n          rootBlockNode = null;\n          node = node.nextSibling;\n        }\n      }\n      if (wrapped && restoreSelection) {\n        rng.setStart(startContainer, startOffset);\n        rng.setEnd(endContainer, endOffset);\n        selection.setRng(rng);\n        editor.nodeChanged();\n      }\n    };\n    var setup$d = function (editor) {\n      if (getForcedRootBlock(editor)) {\n        editor.on('NodeChange', curry(addRootBlocks, editor));\n      }\n    };\n\n    var findBlockCaretContainer = function (editor) {\n      return descendant(SugarElement.fromDom(editor.getBody()), '*[data-mce-caret]').map(function (elm) {\n        return elm.dom;\n      }).getOrNull();\n    };\n    var removeIeControlRect = function (editor) {\n      editor.selection.setRng(editor.selection.getRng());\n    };\n    var showBlockCaretContainer = function (editor, blockCaretContainer) {\n      if (blockCaretContainer.hasAttribute('data-mce-caret')) {\n        showCaretContainerBlock(blockCaretContainer);\n        removeIeControlRect(editor);\n        editor.selection.scrollIntoView(blockCaretContainer);\n      }\n    };\n    var handleBlockContainer = function (editor, e) {\n      var blockCaretContainer = findBlockCaretContainer(editor);\n      if (!blockCaretContainer) {\n        return;\n      }\n      if (e.type === 'compositionstart') {\n        e.preventDefault();\n        e.stopPropagation();\n        showBlockCaretContainer(editor, blockCaretContainer);\n        return;\n      }\n      if (hasContent(blockCaretContainer)) {\n        showBlockCaretContainer(editor, blockCaretContainer);\n        editor.undoManager.add();\n      }\n    };\n    var setup$c = function (editor) {\n      editor.on('keyup compositionstart', curry(handleBlockContainer, editor));\n    };\n\n    var isContentEditableFalse$2 = isContentEditableFalse$b;\n    var moveToCeFalseHorizontally = function (direction, editor, range) {\n      return moveHorizontally(editor, direction, range, isBeforeContentEditableFalse, isAfterContentEditableFalse, isContentEditableFalse$2);\n    };\n    var moveToCeFalseVertically = function (direction, editor, range) {\n      var isBefore = function (caretPosition) {\n        return isBeforeContentEditableFalse(caretPosition) || isBeforeTable(caretPosition);\n      };\n      var isAfter = function (caretPosition) {\n        return isAfterContentEditableFalse(caretPosition) || isAfterTable(caretPosition);\n      };\n      return moveVertically(editor, direction, range, isBefore, isAfter, isContentEditableFalse$2);\n    };\n    var createTextBlock = function (editor) {\n      var textBlock = editor.dom.create(getForcedRootBlock(editor));\n      if (!Env.ie || Env.ie >= 11) {\n        textBlock.innerHTML = '<br data-mce-bogus=\"1\">';\n      }\n      return textBlock;\n    };\n    var exitPreBlock = function (editor, direction, range) {\n      var caretWalker = CaretWalker(editor.getBody());\n      var getVisualCaretPosition$1 = curry(getVisualCaretPosition, direction === 1 ? caretWalker.next : caretWalker.prev);\n      if (range.collapsed && hasForcedRootBlock(editor)) {\n        var pre = editor.dom.getParent(range.startContainer, 'PRE');\n        if (!pre) {\n          return;\n        }\n        var caretPos = getVisualCaretPosition$1(CaretPosition.fromRangeStart(range));\n        if (!caretPos) {\n          var newBlock = createTextBlock(editor);\n          if (direction === 1) {\n            editor.$(pre).after(newBlock);\n          } else {\n            editor.$(pre).before(newBlock);\n          }\n          editor.selection.select(newBlock, true);\n          editor.selection.collapse();\n        }\n      }\n    };\n    var getHorizontalRange = function (editor, forward) {\n      var direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      var range = editor.selection.getRng();\n      return moveToCeFalseHorizontally(direction, editor, range).orThunk(function () {\n        exitPreBlock(editor, direction, range);\n        return Optional.none();\n      });\n    };\n    var getVerticalRange = function (editor, down) {\n      var direction = down ? 1 : -1;\n      var range = editor.selection.getRng();\n      return moveToCeFalseVertically(direction, editor, range).orThunk(function () {\n        exitPreBlock(editor, direction, range);\n        return Optional.none();\n      });\n    };\n    var moveH$2 = function (editor, forward) {\n      return getHorizontalRange(editor, forward).exists(function (newRange) {\n        moveToRange(editor, newRange);\n        return true;\n      });\n    };\n    var moveV$3 = function (editor, down) {\n      return getVerticalRange(editor, down).exists(function (newRange) {\n        moveToRange(editor, newRange);\n        return true;\n      });\n    };\n    var moveToLineEndPoint$1 = function (editor, forward) {\n      var isCefPosition = forward ? isAfterContentEditableFalse : isBeforeContentEditableFalse;\n      return moveToLineEndPoint$3(editor, forward, isCefPosition);\n    };\n\n    var isTarget = function (node) {\n      return contains$3(['figcaption'], name(node));\n    };\n    var rangeBefore = function (target) {\n      var rng = document.createRange();\n      rng.setStartBefore(target.dom);\n      rng.setEndBefore(target.dom);\n      return rng;\n    };\n    var insertElement = function (root, elm, forward) {\n      if (forward) {\n        append$1(root, elm);\n      } else {\n        prepend(root, elm);\n      }\n    };\n    var insertBr = function (root, forward) {\n      var br = SugarElement.fromTag('br');\n      insertElement(root, br, forward);\n      return rangeBefore(br);\n    };\n    var insertBlock = function (root, forward, blockName, attrs) {\n      var block = SugarElement.fromTag(blockName);\n      var br = SugarElement.fromTag('br');\n      setAll$1(block, attrs);\n      append$1(block, br);\n      insertElement(root, block, forward);\n      return rangeBefore(br);\n    };\n    var insertEmptyLine = function (root, rootBlockName, attrs, forward) {\n      if (rootBlockName === '') {\n        return insertBr(root, forward);\n      } else {\n        return insertBlock(root, forward, rootBlockName, attrs);\n      }\n    };\n    var getClosestTargetBlock = function (pos, root) {\n      var isRoot = curry(eq, root);\n      return closest$3(SugarElement.fromDom(pos.container()), isBlock$2, isRoot).filter(isTarget);\n    };\n    var isAtFirstOrLastLine = function (root, forward, pos) {\n      return forward ? isAtLastLine(root.dom, pos) : isAtFirstLine(root.dom, pos);\n    };\n    var moveCaretToNewEmptyLine = function (editor, forward) {\n      var root = SugarElement.fromDom(editor.getBody());\n      var pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      var rootBlock = getForcedRootBlock(editor);\n      var rootBlockAttrs = getForcedRootBlockAttrs(editor);\n      return getClosestTargetBlock(pos, root).exists(function () {\n        if (isAtFirstOrLastLine(root, forward, pos)) {\n          var rng = insertEmptyLine(root, rootBlock, rootBlockAttrs, forward);\n          editor.selection.setRng(rng);\n          return true;\n        } else {\n          return false;\n        }\n      });\n    };\n    var moveV$2 = function (editor, forward) {\n      if (editor.selection.isCollapsed()) {\n        return moveCaretToNewEmptyLine(editor, forward);\n      } else {\n        return false;\n      }\n    };\n\n    var defaultPatterns = function (patterns) {\n      return map$3(patterns, function (pattern) {\n        return __assign({\n          shiftKey: false,\n          altKey: false,\n          ctrlKey: false,\n          metaKey: false,\n          keyCode: 0,\n          action: noop\n        }, pattern);\n      });\n    };\n    var matchesEvent = function (pattern, evt) {\n      return evt.keyCode === pattern.keyCode && evt.shiftKey === pattern.shiftKey && evt.altKey === pattern.altKey && evt.ctrlKey === pattern.ctrlKey && evt.metaKey === pattern.metaKey;\n    };\n    var match$1 = function (patterns, evt) {\n      return bind(defaultPatterns(patterns), function (pattern) {\n        return matchesEvent(pattern, evt) ? [pattern] : [];\n      });\n    };\n    var action = function (f) {\n      var x = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        x[_i - 1] = arguments[_i];\n      }\n      return function () {\n        return f.apply(null, x);\n      };\n    };\n    var execute = function (patterns, evt) {\n      return find$3(match$1(patterns, evt), function (pattern) {\n        return pattern.action();\n      });\n    };\n\n    var moveH$1 = function (editor, forward) {\n      var direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      var range = editor.selection.getRng();\n      return moveHorizontally(editor, direction, range, isBeforeMedia, isAfterMedia, isMedia$2).exists(function (newRange) {\n        moveToRange(editor, newRange);\n        return true;\n      });\n    };\n    var moveV$1 = function (editor, down) {\n      var direction = down ? 1 : -1;\n      var range = editor.selection.getRng();\n      return moveVertically(editor, direction, range, isBeforeMedia, isAfterMedia, isMedia$2).exists(function (newRange) {\n        moveToRange(editor, newRange);\n        return true;\n      });\n    };\n    var moveToLineEndPoint = function (editor, forward) {\n      var isNearMedia = forward ? isAfterMedia : isBeforeMedia;\n      return moveToLineEndPoint$3(editor, forward, isNearMedia);\n    };\n\n    var deflate = function (rect, delta) {\n      return {\n        left: rect.left - delta,\n        top: rect.top - delta,\n        right: rect.right + delta * 2,\n        bottom: rect.bottom + delta * 2,\n        width: rect.width + delta,\n        height: rect.height + delta\n      };\n    };\n    var getCorners = function (getYAxisValue, tds) {\n      return bind(tds, function (td) {\n        var rect = deflate(clone(td.getBoundingClientRect()), -1);\n        return [\n          {\n            x: rect.left,\n            y: getYAxisValue(rect),\n            cell: td\n          },\n          {\n            x: rect.right,\n            y: getYAxisValue(rect),\n            cell: td\n          }\n        ];\n      });\n    };\n    var findClosestCorner = function (corners, x, y) {\n      return foldl(corners, function (acc, newCorner) {\n        return acc.fold(function () {\n          return Optional.some(newCorner);\n        }, function (oldCorner) {\n          var oldDist = Math.sqrt(Math.abs(oldCorner.x - x) + Math.abs(oldCorner.y - y));\n          var newDist = Math.sqrt(Math.abs(newCorner.x - x) + Math.abs(newCorner.y - y));\n          return Optional.some(newDist < oldDist ? newCorner : oldCorner);\n        });\n      }, Optional.none());\n    };\n    var getClosestCell = function (getYAxisValue, isTargetCorner, table, x, y) {\n      var cells = descendants(SugarElement.fromDom(table), 'td,th,caption').map(function (e) {\n        return e.dom;\n      });\n      var corners = filter$4(getCorners(getYAxisValue, cells), function (corner) {\n        return isTargetCorner(corner, y);\n      });\n      return findClosestCorner(corners, x, y).map(function (corner) {\n        return corner.cell;\n      });\n    };\n    var getBottomValue = function (rect) {\n      return rect.bottom;\n    };\n    var getTopValue = function (rect) {\n      return rect.top;\n    };\n    var isAbove = function (corner, y) {\n      return corner.y < y;\n    };\n    var isBelow = function (corner, y) {\n      return corner.y > y;\n    };\n    var getClosestCellAbove = curry(getClosestCell, getBottomValue, isAbove);\n    var getClosestCellBelow = curry(getClosestCell, getTopValue, isBelow);\n    var findClosestPositionInAboveCell = function (table, pos) {\n      return head(pos.getClientRects()).bind(function (rect) {\n        return getClosestCellAbove(table, rect.left, rect.top);\n      }).bind(function (cell) {\n        return findClosestHorizontalPosition(getLastLinePositions(cell), pos);\n      });\n    };\n    var findClosestPositionInBelowCell = function (table, pos) {\n      return last$2(pos.getClientRects()).bind(function (rect) {\n        return getClosestCellBelow(table, rect.left, rect.top);\n      }).bind(function (cell) {\n        return findClosestHorizontalPosition(getFirstLinePositions(cell), pos);\n      });\n    };\n\n    var hasNextBreak = function (getPositionsUntil, scope, lineInfo) {\n      return lineInfo.breakAt.exists(function (breakPos) {\n        return getPositionsUntil(scope, breakPos).breakAt.isSome();\n      });\n    };\n    var startsWithWrapBreak = function (lineInfo) {\n      return lineInfo.breakType === BreakType.Wrap && lineInfo.positions.length === 0;\n    };\n    var startsWithBrBreak = function (lineInfo) {\n      return lineInfo.breakType === BreakType.Br && lineInfo.positions.length === 1;\n    };\n    var isAtTableCellLine = function (getPositionsUntil, scope, pos) {\n      var lineInfo = getPositionsUntil(scope, pos);\n      if (startsWithWrapBreak(lineInfo) || !isBr$5(pos.getNode()) && startsWithBrBreak(lineInfo)) {\n        return !hasNextBreak(getPositionsUntil, scope, lineInfo);\n      } else {\n        return lineInfo.breakAt.isNone();\n      }\n    };\n    var isAtFirstTableCellLine = curry(isAtTableCellLine, getPositionsUntilPreviousLine);\n    var isAtLastTableCellLine = curry(isAtTableCellLine, getPositionsUntilNextLine);\n    var isCaretAtStartOrEndOfTable = function (forward, rng, table) {\n      var caretPos = CaretPosition.fromRangeStart(rng);\n      return positionIn(!forward, table).exists(function (pos) {\n        return pos.isEqual(caretPos);\n      });\n    };\n    var navigateHorizontally = function (editor, forward, table, _td) {\n      var rng = editor.selection.getRng();\n      var direction = forward ? 1 : -1;\n      if (isFakeCaretTableBrowser() && isCaretAtStartOrEndOfTable(forward, rng, table)) {\n        showCaret(direction, editor, table, !forward, false).each(function (newRng) {\n          moveToRange(editor, newRng);\n        });\n        return true;\n      }\n      return false;\n    };\n    var getClosestAbovePosition = function (root, table, start) {\n      return findClosestPositionInAboveCell(table, start).orThunk(function () {\n        return head(start.getClientRects()).bind(function (rect) {\n          return findClosestHorizontalPositionFromPoint(getPositionsAbove(root, CaretPosition.before(table)), rect.left);\n        });\n      }).getOr(CaretPosition.before(table));\n    };\n    var getClosestBelowPosition = function (root, table, start) {\n      return findClosestPositionInBelowCell(table, start).orThunk(function () {\n        return head(start.getClientRects()).bind(function (rect) {\n          return findClosestHorizontalPositionFromPoint(getPositionsBelow(root, CaretPosition.after(table)), rect.left);\n        });\n      }).getOr(CaretPosition.after(table));\n    };\n    var getTable = function (previous, pos) {\n      var node = pos.getNode(previous);\n      return isElement$5(node) && node.nodeName === 'TABLE' ? Optional.some(node) : Optional.none();\n    };\n    var renderBlock = function (down, editor, table, pos) {\n      var forcedRootBlock = getForcedRootBlock(editor);\n      if (forcedRootBlock) {\n        editor.undoManager.transact(function () {\n          var element = SugarElement.fromTag(forcedRootBlock);\n          setAll$1(element, getForcedRootBlockAttrs(editor));\n          append$1(element, SugarElement.fromTag('br'));\n          if (down) {\n            after$3(SugarElement.fromDom(table), element);\n          } else {\n            before$4(SugarElement.fromDom(table), element);\n          }\n          var rng = editor.dom.createRng();\n          rng.setStart(element.dom, 0);\n          rng.setEnd(element.dom, 0);\n          moveToRange(editor, rng);\n        });\n      } else {\n        moveToRange(editor, pos.toRange());\n      }\n    };\n    var moveCaret = function (editor, down, pos) {\n      var table = down ? getTable(true, pos) : getTable(false, pos);\n      var last = down === false;\n      table.fold(function () {\n        return moveToRange(editor, pos.toRange());\n      }, function (table) {\n        return positionIn(last, editor.getBody()).filter(function (lastPos) {\n          return lastPos.isEqual(pos);\n        }).fold(function () {\n          return moveToRange(editor, pos.toRange());\n        }, function (_) {\n          return renderBlock(down, editor, table, pos);\n        });\n      });\n    };\n    var navigateVertically = function (editor, down, table, td) {\n      var rng = editor.selection.getRng();\n      var pos = CaretPosition.fromRangeStart(rng);\n      var root = editor.getBody();\n      if (!down && isAtFirstTableCellLine(td, pos)) {\n        var newPos = getClosestAbovePosition(root, table, pos);\n        moveCaret(editor, down, newPos);\n        return true;\n      } else if (down && isAtLastTableCellLine(td, pos)) {\n        var newPos = getClosestBelowPosition(root, table, pos);\n        moveCaret(editor, down, newPos);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var move$1 = function (editor, forward, mover) {\n      return Optional.from(editor.dom.getParent(editor.selection.getNode(), 'td,th')).bind(function (td) {\n        return Optional.from(editor.dom.getParent(td, 'table')).map(function (table) {\n          return mover(editor, forward, table, td);\n        });\n      }).getOr(false);\n    };\n    var moveH = function (editor, forward) {\n      return move$1(editor, forward, navigateHorizontally);\n    };\n    var moveV = function (editor, forward) {\n      return move$1(editor, forward, navigateVertically);\n    };\n\n    var executeKeydownOverride$3 = function (editor, caret, evt) {\n      var os = detect().os;\n      execute([\n        {\n          keyCode: VK.RIGHT,\n          action: action(moveH$2, editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(moveH$2, editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV$3, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV$3, editor, true)\n        },\n        {\n          keyCode: VK.RIGHT,\n          action: action(moveH, editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(moveH, editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV, editor, true)\n        },\n        {\n          keyCode: VK.RIGHT,\n          action: action(moveH$1, editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(moveH$1, editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV$1, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV$1, editor, true)\n        },\n        {\n          keyCode: VK.RIGHT,\n          action: action(move$2, editor, caret, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(move$2, editor, caret, false)\n        },\n        {\n          keyCode: VK.RIGHT,\n          ctrlKey: !os.isOSX(),\n          altKey: os.isOSX(),\n          action: action(moveNextWord, editor, caret)\n        },\n        {\n          keyCode: VK.LEFT,\n          ctrlKey: !os.isOSX(),\n          altKey: os.isOSX(),\n          action: action(movePrevWord, editor, caret)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV$2, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV$2, editor, true)\n        }\n      ], evt).each(function (_) {\n        evt.preventDefault();\n      });\n    };\n    var setup$b = function (editor, caret) {\n      editor.on('keydown', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride$3(editor, caret, evt);\n        }\n      });\n    };\n\n    var executeKeydownOverride$2 = function (editor, caret, evt) {\n      execute([\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete, editor, false)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$5, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$5, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$6, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$6, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$3, editor, caret, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$3, editor, caret, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$9, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$9, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$4, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$4, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$1, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$1, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$7, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$7, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$8, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$8, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$2, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$2, editor, true)\n        }\n      ], evt).each(function (_) {\n        evt.preventDefault();\n      });\n    };\n    var executeKeyupOverride = function (editor, evt) {\n      execute([\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(paddEmptyElement, editor)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(paddEmptyElement, editor)\n        }\n      ], evt);\n    };\n    var setup$a = function (editor, caret) {\n      editor.on('keydown', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride$2(editor, caret, evt);\n        }\n      });\n      editor.on('keyup', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeyupOverride(editor, evt);\n        }\n      });\n    };\n\n    var firstNonWhiteSpaceNodeSibling = function (node) {\n      while (node) {\n        if (node.nodeType === 1 || node.nodeType === 3 && node.data && /[\\r\\n\\s]/.test(node.data)) {\n          return node;\n        }\n        node = node.nextSibling;\n      }\n    };\n    var moveToCaretPosition = function (editor, root) {\n      var node, lastNode = root;\n      var dom = editor.dom;\n      var moveCaretBeforeOnEnterElementsMap = editor.schema.getMoveCaretBeforeOnEnterElements();\n      if (!root) {\n        return;\n      }\n      if (/^(LI|DT|DD)$/.test(root.nodeName)) {\n        var firstChild = firstNonWhiteSpaceNodeSibling(root.firstChild);\n        if (firstChild && /^(UL|OL|DL)$/.test(firstChild.nodeName)) {\n          root.insertBefore(dom.doc.createTextNode(nbsp), root.firstChild);\n        }\n      }\n      var rng = dom.createRng();\n      root.normalize();\n      if (root.hasChildNodes()) {\n        var walker = new DomTreeWalker(root, root);\n        while (node = walker.current()) {\n          if (isText$7(node)) {\n            rng.setStart(node, 0);\n            rng.setEnd(node, 0);\n            break;\n          }\n          if (moveCaretBeforeOnEnterElementsMap[node.nodeName.toLowerCase()]) {\n            rng.setStartBefore(node);\n            rng.setEndBefore(node);\n            break;\n          }\n          lastNode = node;\n          node = walker.next();\n        }\n        if (!node) {\n          rng.setStart(lastNode, 0);\n          rng.setEnd(lastNode, 0);\n        }\n      } else {\n        if (isBr$5(root)) {\n          if (root.nextSibling && dom.isBlock(root.nextSibling)) {\n            rng.setStartBefore(root);\n            rng.setEndBefore(root);\n          } else {\n            rng.setStartAfter(root);\n            rng.setEndAfter(root);\n          }\n        } else {\n          rng.setStart(root, 0);\n          rng.setEnd(root, 0);\n        }\n      }\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, rng);\n    };\n    var getEditableRoot$1 = function (dom, node) {\n      var root = dom.getRoot();\n      var parent, editableRoot;\n      parent = node;\n      while (parent !== root && dom.getContentEditable(parent) !== 'false') {\n        if (dom.getContentEditable(parent) === 'true') {\n          editableRoot = parent;\n        }\n        parent = parent.parentNode;\n      }\n      return parent !== root ? editableRoot : root;\n    };\n    var getParentBlock = function (editor) {\n      return Optional.from(editor.dom.getParent(editor.selection.getStart(true), editor.dom.isBlock));\n    };\n    var getParentBlockName = function (editor) {\n      return getParentBlock(editor).fold(constant(''), function (parentBlock) {\n        return parentBlock.nodeName.toUpperCase();\n      });\n    };\n    var isListItemParentBlock = function (editor) {\n      return getParentBlock(editor).filter(function (elm) {\n        return isListItem(SugarElement.fromDom(elm));\n      }).isSome();\n    };\n\n    var hasFirstChild = function (elm, name) {\n      return elm.firstChild && elm.firstChild.nodeName === name;\n    };\n    var isFirstChild = function (elm) {\n      var _a;\n      return ((_a = elm.parentNode) === null || _a === void 0 ? void 0 : _a.firstChild) === elm;\n    };\n    var hasParent = function (elm, parentName) {\n      return elm && elm.parentNode && elm.parentNode.nodeName === parentName;\n    };\n    var isListBlock = function (elm) {\n      return elm && /^(OL|UL|LI)$/.test(elm.nodeName);\n    };\n    var isNestedList = function (elm) {\n      return isListBlock(elm) && isListBlock(elm.parentNode);\n    };\n    var getContainerBlock = function (containerBlock) {\n      var containerBlockParent = containerBlock.parentNode;\n      if (/^(LI|DT|DD)$/.test(containerBlockParent.nodeName)) {\n        return containerBlockParent;\n      }\n      return containerBlock;\n    };\n    var isFirstOrLastLi = function (containerBlock, parentBlock, first) {\n      var node = containerBlock[first ? 'firstChild' : 'lastChild'];\n      while (node) {\n        if (isElement$5(node)) {\n          break;\n        }\n        node = node[first ? 'nextSibling' : 'previousSibling'];\n      }\n      return node === parentBlock;\n    };\n    var insert$3 = function (editor, createNewBlock, containerBlock, parentBlock, newBlockName) {\n      var dom = editor.dom;\n      var rng = editor.selection.getRng();\n      if (containerBlock === editor.getBody()) {\n        return;\n      }\n      if (isNestedList(containerBlock)) {\n        newBlockName = 'LI';\n      }\n      var newBlock = newBlockName ? createNewBlock(newBlockName) : dom.create('BR');\n      if (isFirstOrLastLi(containerBlock, parentBlock, true) && isFirstOrLastLi(containerBlock, parentBlock, false)) {\n        if (hasParent(containerBlock, 'LI')) {\n          var containerBlockParent = getContainerBlock(containerBlock);\n          dom.insertAfter(newBlock, containerBlockParent);\n          if (isFirstChild(containerBlock)) {\n            dom.remove(containerBlockParent);\n          } else {\n            dom.remove(containerBlock);\n          }\n        } else {\n          dom.replace(newBlock, containerBlock);\n        }\n      } else if (isFirstOrLastLi(containerBlock, parentBlock, true)) {\n        if (hasParent(containerBlock, 'LI')) {\n          dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n          newBlock.appendChild(dom.doc.createTextNode(' '));\n          newBlock.appendChild(containerBlock);\n        } else {\n          containerBlock.parentNode.insertBefore(newBlock, containerBlock);\n        }\n        dom.remove(parentBlock);\n      } else if (isFirstOrLastLi(containerBlock, parentBlock, false)) {\n        dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n        dom.remove(parentBlock);\n      } else {\n        containerBlock = getContainerBlock(containerBlock);\n        var tmpRng = rng.cloneRange();\n        tmpRng.setStartAfter(parentBlock);\n        tmpRng.setEndAfter(containerBlock);\n        var fragment = tmpRng.extractContents();\n        if (newBlockName === 'LI' && hasFirstChild(fragment, 'LI')) {\n          newBlock = fragment.firstChild;\n          dom.insertAfter(fragment, containerBlock);\n        } else {\n          dom.insertAfter(fragment, containerBlock);\n          dom.insertAfter(newBlock, containerBlock);\n        }\n        dom.remove(parentBlock);\n      }\n      moveToCaretPosition(editor, newBlock);\n    };\n\n    var trimZwsp = function (fragment) {\n      each$k(descendants$1(SugarElement.fromDom(fragment), isText$8), function (text) {\n        var rawNode = text.dom;\n        rawNode.nodeValue = trim$2(rawNode.nodeValue);\n      });\n    };\n    var isEmptyAnchor = function (dom, elm) {\n      return elm && elm.nodeName === 'A' && dom.isEmpty(elm);\n    };\n    var isTableCell = function (node) {\n      return node && /^(TD|TH|CAPTION)$/.test(node.nodeName);\n    };\n    var emptyBlock = function (elm) {\n      elm.innerHTML = '<br data-mce-bogus=\"1\">';\n    };\n    var containerAndSiblingName = function (container, nodeName) {\n      return container.nodeName === nodeName || container.previousSibling && container.previousSibling.nodeName === nodeName;\n    };\n    var canSplitBlock = function (dom, node) {\n      return node && dom.isBlock(node) && !/^(TD|TH|CAPTION|FORM)$/.test(node.nodeName) && !/^(fixed|absolute)/i.test(node.style.position) && dom.getContentEditable(node) !== 'true';\n    };\n    var trimInlineElementsOnLeftSideOfBlock = function (dom, nonEmptyElementsMap, block) {\n      var node = block;\n      var firstChilds = [];\n      var i;\n      if (!node) {\n        return;\n      }\n      while (node = node.firstChild) {\n        if (dom.isBlock(node)) {\n          return;\n        }\n        if (isElement$5(node) && !nonEmptyElementsMap[node.nodeName.toLowerCase()]) {\n          firstChilds.push(node);\n        }\n      }\n      i = firstChilds.length;\n      while (i--) {\n        node = firstChilds[i];\n        if (!node.hasChildNodes() || node.firstChild === node.lastChild && node.firstChild.nodeValue === '') {\n          dom.remove(node);\n        } else {\n          if (isEmptyAnchor(dom, node)) {\n            dom.remove(node);\n          }\n        }\n      }\n    };\n    var normalizeZwspOffset = function (start, container, offset) {\n      if (isText$7(container) === false) {\n        return offset;\n      } else if (start) {\n        return offset === 1 && container.data.charAt(offset - 1) === ZWSP$1 ? 0 : offset;\n      } else {\n        return offset === container.data.length - 1 && container.data.charAt(offset) === ZWSP$1 ? container.data.length : offset;\n      }\n    };\n    var includeZwspInRange = function (rng) {\n      var newRng = rng.cloneRange();\n      newRng.setStart(rng.startContainer, normalizeZwspOffset(true, rng.startContainer, rng.startOffset));\n      newRng.setEnd(rng.endContainer, normalizeZwspOffset(false, rng.endContainer, rng.endOffset));\n      return newRng;\n    };\n    var trimLeadingLineBreaks = function (node) {\n      do {\n        if (isText$7(node)) {\n          node.nodeValue = node.nodeValue.replace(/^[\\r\\n]+/, '');\n        }\n        node = node.firstChild;\n      } while (node);\n    };\n    var getEditableRoot = function (dom, node) {\n      var root = dom.getRoot();\n      var parent, editableRoot;\n      parent = node;\n      while (parent !== root && dom.getContentEditable(parent) !== 'false') {\n        if (dom.getContentEditable(parent) === 'true') {\n          editableRoot = parent;\n        }\n        parent = parent.parentNode;\n      }\n      return parent !== root ? editableRoot : root;\n    };\n    var applyAttributes = function (editor, node, forcedRootBlockAttrs) {\n      var dom = editor.dom;\n      Optional.from(forcedRootBlockAttrs.style).map(dom.parseStyle).each(function (attrStyles) {\n        var currentStyles = getAllRaw(SugarElement.fromDom(node));\n        var newStyles = __assign(__assign({}, currentStyles), attrStyles);\n        dom.setStyles(node, newStyles);\n      });\n      var attrClassesOpt = Optional.from(forcedRootBlockAttrs.class).map(function (attrClasses) {\n        return attrClasses.split(/\\s+/);\n      });\n      var currentClassesOpt = Optional.from(node.className).map(function (currentClasses) {\n        return filter$4(currentClasses.split(/\\s+/), function (clazz) {\n          return clazz !== '';\n        });\n      });\n      lift2(attrClassesOpt, currentClassesOpt, function (attrClasses, currentClasses) {\n        var filteredClasses = filter$4(currentClasses, function (clazz) {\n          return !contains$3(attrClasses, clazz);\n        });\n        var newClasses = __spreadArray(__spreadArray([], attrClasses, true), filteredClasses, true);\n        dom.setAttrib(node, 'class', newClasses.join(' '));\n      });\n      var appliedAttrs = [\n        'style',\n        'class'\n      ];\n      var remainingAttrs = filter$3(forcedRootBlockAttrs, function (_, attrs) {\n        return !contains$3(appliedAttrs, attrs);\n      });\n      dom.setAttribs(node, remainingAttrs);\n    };\n    var setForcedBlockAttrs = function (editor, node) {\n      var forcedRootBlockName = getForcedRootBlock(editor);\n      if (forcedRootBlockName && forcedRootBlockName.toLowerCase() === node.tagName.toLowerCase()) {\n        var forcedRootBlockAttrs = getForcedRootBlockAttrs(editor);\n        applyAttributes(editor, node, forcedRootBlockAttrs);\n      }\n    };\n    var wrapSelfAndSiblingsInDefaultBlock = function (editor, newBlockName, rng, container, offset) {\n      var newBlock, parentBlock, startNode, node, next, rootBlockName;\n      var blockName = newBlockName || 'P';\n      var dom = editor.dom, editableRoot = getEditableRoot(dom, container);\n      parentBlock = dom.getParent(container, dom.isBlock);\n      if (!parentBlock || !canSplitBlock(dom, parentBlock)) {\n        parentBlock = parentBlock || editableRoot;\n        if (parentBlock === editor.getBody() || isTableCell(parentBlock)) {\n          rootBlockName = parentBlock.nodeName.toLowerCase();\n        } else {\n          rootBlockName = parentBlock.parentNode.nodeName.toLowerCase();\n        }\n        if (!parentBlock.hasChildNodes()) {\n          newBlock = dom.create(blockName);\n          setForcedBlockAttrs(editor, newBlock);\n          parentBlock.appendChild(newBlock);\n          rng.setStart(newBlock, 0);\n          rng.setEnd(newBlock, 0);\n          return newBlock;\n        }\n        node = container;\n        while (node.parentNode !== parentBlock) {\n          node = node.parentNode;\n        }\n        while (node && !dom.isBlock(node)) {\n          startNode = node;\n          node = node.previousSibling;\n        }\n        if (startNode && editor.schema.isValidChild(rootBlockName, blockName.toLowerCase())) {\n          newBlock = dom.create(blockName);\n          setForcedBlockAttrs(editor, newBlock);\n          startNode.parentNode.insertBefore(newBlock, startNode);\n          node = startNode;\n          while (node && !dom.isBlock(node)) {\n            next = node.nextSibling;\n            newBlock.appendChild(node);\n            node = next;\n          }\n          rng.setStart(container, offset);\n          rng.setEnd(container, offset);\n        }\n      }\n      return container;\n    };\n    var addBrToBlockIfNeeded = function (dom, block) {\n      block.normalize();\n      var lastChild = block.lastChild;\n      if (!lastChild || /^(left|right)$/gi.test(dom.getStyle(lastChild, 'float', true))) {\n        dom.add(block, 'br');\n      }\n    };\n    var insert$2 = function (editor, evt) {\n      var tmpRng, container, offset, parentBlock;\n      var newBlock, fragment, containerBlock, parentBlockName, newBlockName, isAfterLastNodeInContainer;\n      var dom = editor.dom;\n      var schema = editor.schema, nonEmptyElementsMap = schema.getNonEmptyElements();\n      var rng = editor.selection.getRng();\n      var createNewBlock = function (name) {\n        var node = container, block, clonedNode, caretNode;\n        var textInlineElements = schema.getTextInlineElements();\n        if (name || parentBlockName === 'TABLE' || parentBlockName === 'HR') {\n          block = dom.create(name || newBlockName);\n        } else {\n          block = parentBlock.cloneNode(false);\n        }\n        caretNode = block;\n        if (shouldKeepStyles(editor) === false) {\n          dom.setAttrib(block, 'style', null);\n          dom.setAttrib(block, 'class', null);\n        } else {\n          do {\n            if (textInlineElements[node.nodeName]) {\n              if (isCaretNode(node) || isBookmarkNode$1(node)) {\n                continue;\n              }\n              clonedNode = node.cloneNode(false);\n              dom.setAttrib(clonedNode, 'id', '');\n              if (block.hasChildNodes()) {\n                clonedNode.appendChild(block.firstChild);\n                block.appendChild(clonedNode);\n              } else {\n                caretNode = clonedNode;\n                block.appendChild(clonedNode);\n              }\n            }\n          } while ((node = node.parentNode) && node !== editableRoot);\n        }\n        setForcedBlockAttrs(editor, block);\n        emptyBlock(caretNode);\n        return block;\n      };\n      var isCaretAtStartOrEndOfBlock = function (start) {\n        var node, name;\n        var normalizedOffset = normalizeZwspOffset(start, container, offset);\n        if (isText$7(container) && (start ? normalizedOffset > 0 : normalizedOffset < container.nodeValue.length)) {\n          return false;\n        }\n        if (container.parentNode === parentBlock && isAfterLastNodeInContainer && !start) {\n          return true;\n        }\n        if (start && isElement$5(container) && container === parentBlock.firstChild) {\n          return true;\n        }\n        if (containerAndSiblingName(container, 'TABLE') || containerAndSiblingName(container, 'HR')) {\n          return isAfterLastNodeInContainer && !start || !isAfterLastNodeInContainer && start;\n        }\n        var walker = new DomTreeWalker(container, parentBlock);\n        if (isText$7(container)) {\n          if (start && normalizedOffset === 0) {\n            walker.prev();\n          } else if (!start && normalizedOffset === container.nodeValue.length) {\n            walker.next();\n          }\n        }\n        while (node = walker.current()) {\n          if (isElement$5(node)) {\n            if (!node.getAttribute('data-mce-bogus')) {\n              name = node.nodeName.toLowerCase();\n              if (nonEmptyElementsMap[name] && name !== 'br') {\n                return false;\n              }\n            }\n          } else if (isText$7(node) && !isWhitespaceText(node.nodeValue)) {\n            return false;\n          }\n          if (start) {\n            walker.prev();\n          } else {\n            walker.next();\n          }\n        }\n        return true;\n      };\n      var insertNewBlockAfter = function () {\n        if (/^(H[1-6]|PRE|FIGURE)$/.test(parentBlockName) && containerBlockName !== 'HGROUP') {\n          newBlock = createNewBlock(newBlockName);\n        } else {\n          newBlock = createNewBlock();\n        }\n        if (shouldEndContainerOnEmptyBlock(editor) && canSplitBlock(dom, containerBlock) && dom.isEmpty(parentBlock)) {\n          newBlock = dom.split(containerBlock, parentBlock);\n        } else {\n          dom.insertAfter(newBlock, parentBlock);\n        }\n        moveToCaretPosition(editor, newBlock);\n      };\n      normalize$2(dom, rng).each(function (normRng) {\n        rng.setStart(normRng.startContainer, normRng.startOffset);\n        rng.setEnd(normRng.endContainer, normRng.endOffset);\n      });\n      container = rng.startContainer;\n      offset = rng.startOffset;\n      newBlockName = getForcedRootBlock(editor);\n      var shiftKey = !!(evt && evt.shiftKey);\n      var ctrlKey = !!(evt && evt.ctrlKey);\n      if (isElement$5(container) && container.hasChildNodes()) {\n        isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n        if (isAfterLastNodeInContainer && isText$7(container)) {\n          offset = container.nodeValue.length;\n        } else {\n          offset = 0;\n        }\n      }\n      var editableRoot = getEditableRoot(dom, container);\n      if (!editableRoot) {\n        return;\n      }\n      if (newBlockName && !shiftKey || !newBlockName && shiftKey) {\n        container = wrapSelfAndSiblingsInDefaultBlock(editor, newBlockName, rng, container, offset);\n      }\n      parentBlock = dom.getParent(container, dom.isBlock);\n      containerBlock = parentBlock ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\n      parentBlockName = parentBlock ? parentBlock.nodeName.toUpperCase() : '';\n      var containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : '';\n      if (containerBlockName === 'LI' && !ctrlKey) {\n        parentBlock = containerBlock;\n        containerBlock = containerBlock.parentNode;\n        parentBlockName = containerBlockName;\n      }\n      if (/^(LI|DT|DD)$/.test(parentBlockName)) {\n        if (dom.isEmpty(parentBlock)) {\n          insert$3(editor, createNewBlock, containerBlock, parentBlock, newBlockName);\n          return;\n        }\n      }\n      if (newBlockName && parentBlock === editor.getBody()) {\n        return;\n      }\n      newBlockName = newBlockName || 'P';\n      if (isCaretContainerBlock$1(parentBlock)) {\n        newBlock = showCaretContainerBlock(parentBlock);\n        if (dom.isEmpty(parentBlock)) {\n          emptyBlock(parentBlock);\n        }\n        setForcedBlockAttrs(editor, newBlock);\n        moveToCaretPosition(editor, newBlock);\n      } else if (isCaretAtStartOrEndOfBlock()) {\n        insertNewBlockAfter();\n      } else if (isCaretAtStartOrEndOfBlock(true)) {\n        newBlock = parentBlock.parentNode.insertBefore(createNewBlock(), parentBlock);\n        moveToCaretPosition(editor, containerAndSiblingName(parentBlock, 'HR') ? newBlock : parentBlock);\n      } else {\n        tmpRng = includeZwspInRange(rng).cloneRange();\n        tmpRng.setEndAfter(parentBlock);\n        fragment = tmpRng.extractContents();\n        trimZwsp(fragment);\n        trimLeadingLineBreaks(fragment);\n        newBlock = fragment.firstChild;\n        dom.insertAfter(fragment, parentBlock);\n        trimInlineElementsOnLeftSideOfBlock(dom, nonEmptyElementsMap, newBlock);\n        addBrToBlockIfNeeded(dom, parentBlock);\n        if (dom.isEmpty(parentBlock)) {\n          emptyBlock(parentBlock);\n        }\n        newBlock.normalize();\n        if (dom.isEmpty(newBlock)) {\n          dom.remove(newBlock);\n          insertNewBlockAfter();\n        } else {\n          setForcedBlockAttrs(editor, newBlock);\n          moveToCaretPosition(editor, newBlock);\n        }\n      }\n      dom.setAttrib(newBlock, 'id', '');\n      editor.fire('NewBlock', { newBlock: newBlock });\n    };\n\n    var hasRightSideContent = function (schema, container, parentBlock) {\n      var walker = new DomTreeWalker(container, parentBlock);\n      var node;\n      var nonEmptyElementsMap = schema.getNonEmptyElements();\n      while (node = walker.next()) {\n        if (nonEmptyElementsMap[node.nodeName.toLowerCase()] || node.length > 0) {\n          return true;\n        }\n      }\n    };\n    var moveSelectionToBr = function (editor, brElm, extraBr) {\n      var rng = editor.dom.createRng();\n      if (!extraBr) {\n        rng.setStartAfter(brElm);\n        rng.setEndAfter(brElm);\n      } else {\n        rng.setStartBefore(brElm);\n        rng.setEndBefore(brElm);\n      }\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, rng);\n    };\n    var insertBrAtCaret = function (editor, evt) {\n      var selection = editor.selection;\n      var dom = editor.dom;\n      var rng = selection.getRng();\n      var brElm;\n      var extraBr;\n      normalize$2(dom, rng).each(function (normRng) {\n        rng.setStart(normRng.startContainer, normRng.startOffset);\n        rng.setEnd(normRng.endContainer, normRng.endOffset);\n      });\n      var offset = rng.startOffset;\n      var container = rng.startContainer;\n      if (container.nodeType === 1 && container.hasChildNodes()) {\n        var isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n        if (isAfterLastNodeInContainer && container.nodeType === 3) {\n          offset = container.nodeValue.length;\n        } else {\n          offset = 0;\n        }\n      }\n      var parentBlock = dom.getParent(container, dom.isBlock);\n      var containerBlock = parentBlock ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\n      var containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : '';\n      var isControlKey = !!(evt && evt.ctrlKey);\n      if (containerBlockName === 'LI' && !isControlKey) {\n        parentBlock = containerBlock;\n      }\n      if (container && container.nodeType === 3 && offset >= container.nodeValue.length) {\n        if (!hasRightSideContent(editor.schema, container, parentBlock)) {\n          brElm = dom.create('br');\n          rng.insertNode(brElm);\n          rng.setStartAfter(brElm);\n          rng.setEndAfter(brElm);\n          extraBr = true;\n        }\n      }\n      brElm = dom.create('br');\n      rangeInsertNode(dom, rng, brElm);\n      moveSelectionToBr(editor, brElm, extraBr);\n      editor.undoManager.add();\n    };\n    var insertBrBefore = function (editor, inline) {\n      var br = SugarElement.fromTag('br');\n      before$4(SugarElement.fromDom(inline), br);\n      editor.undoManager.add();\n    };\n    var insertBrAfter = function (editor, inline) {\n      if (!hasBrAfter(editor.getBody(), inline)) {\n        after$3(SugarElement.fromDom(inline), SugarElement.fromTag('br'));\n      }\n      var br = SugarElement.fromTag('br');\n      after$3(SugarElement.fromDom(inline), br);\n      moveSelectionToBr(editor, br.dom, false);\n      editor.undoManager.add();\n    };\n    var isBeforeBr = function (pos) {\n      return isBr$5(pos.getNode());\n    };\n    var hasBrAfter = function (rootNode, startNode) {\n      if (isBeforeBr(CaretPosition.after(startNode))) {\n        return true;\n      } else {\n        return nextPosition(rootNode, CaretPosition.after(startNode)).map(function (pos) {\n          return isBr$5(pos.getNode());\n        }).getOr(false);\n      }\n    };\n    var isAnchorLink = function (elm) {\n      return elm && elm.nodeName === 'A' && 'href' in elm;\n    };\n    var isInsideAnchor = function (location) {\n      return location.fold(never, isAnchorLink, isAnchorLink, never);\n    };\n    var readInlineAnchorLocation = function (editor) {\n      var isInlineTarget$1 = curry(isInlineTarget, editor);\n      var position = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return readLocation(isInlineTarget$1, editor.getBody(), position).filter(isInsideAnchor);\n    };\n    var insertBrOutsideAnchor = function (editor, location) {\n      location.fold(noop, curry(insertBrBefore, editor), curry(insertBrAfter, editor), noop);\n    };\n    var insert$1 = function (editor, evt) {\n      var anchorLocation = readInlineAnchorLocation(editor);\n      if (anchorLocation.isSome()) {\n        anchorLocation.each(curry(insertBrOutsideAnchor, editor));\n      } else {\n        insertBrAtCaret(editor, evt);\n      }\n    };\n\n    var matchesSelector = function (editor, selector) {\n      return getParentBlock(editor).filter(function (parentBlock) {\n        return selector.length > 0 && is$2(SugarElement.fromDom(parentBlock), selector);\n      }).isSome();\n    };\n    var shouldInsertBr = function (editor) {\n      return matchesSelector(editor, getBrNewLineSelector(editor));\n    };\n    var shouldBlockNewLine$1 = function (editor) {\n      return matchesSelector(editor, getNoNewLineSelector(editor));\n    };\n\n    var newLineAction = Adt.generate([\n      { br: [] },\n      { block: [] },\n      { none: [] }\n    ]);\n    var shouldBlockNewLine = function (editor, _shiftKey) {\n      return shouldBlockNewLine$1(editor);\n    };\n    var isBrMode = function (requiredState) {\n      return function (editor, _shiftKey) {\n        var brMode = getForcedRootBlock(editor) === '';\n        return brMode === requiredState;\n      };\n    };\n    var inListBlock = function (requiredState) {\n      return function (editor, _shiftKey) {\n        return isListItemParentBlock(editor) === requiredState;\n      };\n    };\n    var inBlock = function (blockName, requiredState) {\n      return function (editor, _shiftKey) {\n        var state = getParentBlockName(editor) === blockName.toUpperCase();\n        return state === requiredState;\n      };\n    };\n    var inPreBlock = function (requiredState) {\n      return inBlock('pre', requiredState);\n    };\n    var inSummaryBlock = function () {\n      return inBlock('summary', true);\n    };\n    var shouldPutBrInPre = function (requiredState) {\n      return function (editor, _shiftKey) {\n        return shouldPutBrInPre$1(editor) === requiredState;\n      };\n    };\n    var inBrContext = function (editor, _shiftKey) {\n      return shouldInsertBr(editor);\n    };\n    var hasShiftKey = function (_editor, shiftKey) {\n      return shiftKey;\n    };\n    var canInsertIntoEditableRoot = function (editor) {\n      var forcedRootBlock = getForcedRootBlock(editor);\n      var rootEditable = getEditableRoot$1(editor.dom, editor.selection.getStart());\n      return rootEditable && editor.schema.isValidChild(rootEditable.nodeName, forcedRootBlock ? forcedRootBlock : 'P');\n    };\n    var match = function (predicates, action) {\n      return function (editor, shiftKey) {\n        var isMatch = foldl(predicates, function (res, p) {\n          return res && p(editor, shiftKey);\n        }, true);\n        return isMatch ? Optional.some(action) : Optional.none();\n      };\n    };\n    var getAction = function (editor, evt) {\n      return evaluateUntil([\n        match([shouldBlockNewLine], newLineAction.none()),\n        match([inSummaryBlock()], newLineAction.br()),\n        match([\n          inPreBlock(true),\n          shouldPutBrInPre(false),\n          hasShiftKey\n        ], newLineAction.br()),\n        match([\n          inPreBlock(true),\n          shouldPutBrInPre(false)\n        ], newLineAction.block()),\n        match([\n          inPreBlock(true),\n          shouldPutBrInPre(true),\n          hasShiftKey\n        ], newLineAction.block()),\n        match([\n          inPreBlock(true),\n          shouldPutBrInPre(true)\n        ], newLineAction.br()),\n        match([\n          inListBlock(true),\n          hasShiftKey\n        ], newLineAction.br()),\n        match([inListBlock(true)], newLineAction.block()),\n        match([\n          isBrMode(true),\n          hasShiftKey,\n          canInsertIntoEditableRoot\n        ], newLineAction.block()),\n        match([isBrMode(true)], newLineAction.br()),\n        match([inBrContext], newLineAction.br()),\n        match([\n          isBrMode(false),\n          hasShiftKey\n        ], newLineAction.br()),\n        match([canInsertIntoEditableRoot], newLineAction.block())\n      ], [\n        editor,\n        !!(evt && evt.shiftKey)\n      ]).getOr(newLineAction.none());\n    };\n\n    var insert = function (editor, evt) {\n      getAction(editor, evt).fold(function () {\n        insert$1(editor, evt);\n      }, function () {\n        insert$2(editor, evt);\n      }, noop);\n    };\n\n    var handleEnterKeyEvent = function (editor, event) {\n      if (event.isDefaultPrevented()) {\n        return;\n      }\n      event.preventDefault();\n      endTypingLevelIgnoreLocks(editor.undoManager);\n      editor.undoManager.transact(function () {\n        if (editor.selection.isCollapsed() === false) {\n          editor.execCommand('Delete');\n        }\n        insert(editor, event);\n      });\n    };\n    var setup$9 = function (editor) {\n      editor.on('keydown', function (event) {\n        if (event.keyCode === VK.ENTER) {\n          handleEnterKeyEvent(editor, event);\n        }\n      });\n    };\n\n    var executeKeydownOverride$1 = function (editor, caret, evt) {\n      execute([\n        {\n          keyCode: VK.END,\n          action: action(moveToLineEndPoint$1, editor, true)\n        },\n        {\n          keyCode: VK.HOME,\n          action: action(moveToLineEndPoint$1, editor, false)\n        },\n        {\n          keyCode: VK.END,\n          action: action(moveToLineEndPoint, editor, true)\n        },\n        {\n          keyCode: VK.HOME,\n          action: action(moveToLineEndPoint, editor, false)\n        },\n        {\n          keyCode: VK.END,\n          action: action(moveToLineEndPoint$2, editor, true, caret)\n        },\n        {\n          keyCode: VK.HOME,\n          action: action(moveToLineEndPoint$2, editor, false, caret)\n        }\n      ], evt).each(function (_) {\n        evt.preventDefault();\n      });\n    };\n    var setup$8 = function (editor, caret) {\n      editor.on('keydown', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride$1(editor, caret, evt);\n        }\n      });\n    };\n\n    var browser = detect().browser;\n    var setupIeInput = function (editor) {\n      var keypressThrotter = first(function () {\n        if (!editor.composing) {\n          normalizeNbspsInEditor(editor);\n        }\n      }, 0);\n      if (browser.isIE()) {\n        editor.on('keypress', function (_e) {\n          keypressThrotter.throttle();\n        });\n        editor.on('remove', function (_e) {\n          keypressThrotter.cancel();\n        });\n      }\n    };\n    var setup$7 = function (editor) {\n      setupIeInput(editor);\n      editor.on('input', function (e) {\n        if (e.isComposing === false) {\n          normalizeNbspsInEditor(editor);\n        }\n      });\n    };\n\n    var platform = detect();\n    var executeKeyupAction = function (editor, caret, evt) {\n      execute([\n        {\n          keyCode: VK.PAGE_UP,\n          action: action(moveToLineEndPoint$2, editor, false, caret)\n        },\n        {\n          keyCode: VK.PAGE_DOWN,\n          action: action(moveToLineEndPoint$2, editor, true, caret)\n        }\n      ], evt);\n    };\n    var stopImmediatePropagation = function (e) {\n      return e.stopImmediatePropagation();\n    };\n    var isPageUpDown = function (evt) {\n      return evt.keyCode === VK.PAGE_UP || evt.keyCode === VK.PAGE_DOWN;\n    };\n    var setNodeChangeBlocker = function (blocked, editor, block) {\n      if (block && !blocked.get()) {\n        editor.on('NodeChange', stopImmediatePropagation, true);\n      } else if (!block && blocked.get()) {\n        editor.off('NodeChange', stopImmediatePropagation);\n      }\n      blocked.set(block);\n    };\n    var setup$6 = function (editor, caret) {\n      if (platform.os.isOSX()) {\n        return;\n      }\n      var blocked = Cell(false);\n      editor.on('keydown', function (evt) {\n        if (isPageUpDown(evt)) {\n          setNodeChangeBlocker(blocked, editor, true);\n        }\n      });\n      editor.on('keyup', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeyupAction(editor, caret, evt);\n        }\n        if (isPageUpDown(evt) && blocked.get()) {\n          setNodeChangeBlocker(blocked, editor, false);\n          editor.nodeChanged();\n        }\n      });\n    };\n\n    var insertTextAtPosition = function (text, pos) {\n      var container = pos.container();\n      var offset = pos.offset();\n      if (isText$7(container)) {\n        container.insertData(offset, text);\n        return Optional.some(CaretPosition(container, offset + text.length));\n      } else {\n        return getElementFromPosition(pos).map(function (elm) {\n          var textNode = SugarElement.fromText(text);\n          if (pos.isAtEnd()) {\n            after$3(elm, textNode);\n          } else {\n            before$4(elm, textNode);\n          }\n          return CaretPosition(textNode.dom, text.length);\n        });\n      }\n    };\n    var insertNbspAtPosition = curry(insertTextAtPosition, nbsp);\n    var insertSpaceAtPosition = curry(insertTextAtPosition, ' ');\n\n    var locationToCaretPosition = function (root) {\n      return function (location) {\n        return location.fold(function (element) {\n          return prevPosition(root.dom, CaretPosition.before(element));\n        }, function (element) {\n          return firstPositionIn(element);\n        }, function (element) {\n          return lastPositionIn(element);\n        }, function (element) {\n          return nextPosition(root.dom, CaretPosition.after(element));\n        });\n      };\n    };\n    var insertInlineBoundarySpaceOrNbsp = function (root, pos) {\n      return function (checkPos) {\n        return needsToHaveNbsp(root, checkPos) ? insertNbspAtPosition(pos) : insertSpaceAtPosition(pos);\n      };\n    };\n    var setSelection = function (editor) {\n      return function (pos) {\n        editor.selection.setRng(pos.toRange());\n        editor.nodeChanged();\n        return true;\n      };\n    };\n    var insertSpaceOrNbspAtSelection = function (editor) {\n      var pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      var root = SugarElement.fromDom(editor.getBody());\n      if (editor.selection.isCollapsed()) {\n        var isInlineTarget$1 = curry(isInlineTarget, editor);\n        var caretPosition = CaretPosition.fromRangeStart(editor.selection.getRng());\n        return readLocation(isInlineTarget$1, editor.getBody(), caretPosition).bind(locationToCaretPosition(root)).bind(insertInlineBoundarySpaceOrNbsp(root, pos)).exists(setSelection(editor));\n      } else {\n        return false;\n      }\n    };\n\n    var executeKeydownOverride = function (editor, evt) {\n      execute([{\n          keyCode: VK.SPACEBAR,\n          action: action(insertSpaceOrNbspAtSelection, editor)\n        }], evt).each(function (_) {\n        evt.preventDefault();\n      });\n    };\n    var setup$5 = function (editor) {\n      editor.on('keydown', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride(editor, evt);\n        }\n      });\n    };\n\n    var registerKeyboardOverrides = function (editor) {\n      var caret = setupSelectedState(editor);\n      setup$c(editor);\n      setup$b(editor, caret);\n      setup$a(editor, caret);\n      setup$9(editor);\n      setup$5(editor);\n      setup$7(editor);\n      setup$8(editor, caret);\n      setup$6(editor, caret);\n      return caret;\n    };\n    var setup$4 = function (editor) {\n      if (!isRtc(editor)) {\n        return registerKeyboardOverrides(editor);\n      } else {\n        return Cell(null);\n      }\n    };\n\n    var NodeChange = function () {\n      function NodeChange(editor) {\n        this.lastPath = [];\n        this.editor = editor;\n        var lastRng;\n        var self = this;\n        if (!('onselectionchange' in editor.getDoc())) {\n          editor.on('NodeChange click mouseup keyup focus', function (e) {\n            var nativeRng = editor.selection.getRng();\n            var fakeRng = {\n              startContainer: nativeRng.startContainer,\n              startOffset: nativeRng.startOffset,\n              endContainer: nativeRng.endContainer,\n              endOffset: nativeRng.endOffset\n            };\n            if (e.type === 'nodechange' || !isEq$4(fakeRng, lastRng)) {\n              editor.fire('SelectionChange');\n            }\n            lastRng = fakeRng;\n          });\n        }\n        editor.on('contextmenu', function () {\n          editor.fire('SelectionChange');\n        });\n        editor.on('SelectionChange', function () {\n          var startElm = editor.selection.getStart(true);\n          if (!startElm || !Env.range && editor.selection.isCollapsed()) {\n            return;\n          }\n          if (hasAnyRanges(editor) && !self.isSameElementPath(startElm) && editor.dom.isChildOf(startElm, editor.getBody())) {\n            editor.nodeChanged({ selectionChange: true });\n          }\n        });\n        editor.on('mouseup', function (e) {\n          if (!e.isDefaultPrevented() && hasAnyRanges(editor)) {\n            if (editor.selection.getNode().nodeName === 'IMG') {\n              Delay.setEditorTimeout(editor, function () {\n                editor.nodeChanged();\n              });\n            } else {\n              editor.nodeChanged();\n            }\n          }\n        });\n      }\n      NodeChange.prototype.nodeChanged = function (args) {\n        var selection = this.editor.selection;\n        var node, parents, root;\n        if (this.editor.initialized && selection && !shouldDisableNodeChange(this.editor) && !this.editor.mode.isReadOnly()) {\n          root = this.editor.getBody();\n          node = selection.getStart(true) || root;\n          if (node.ownerDocument !== this.editor.getDoc() || !this.editor.dom.isChildOf(node, root)) {\n            node = root;\n          }\n          parents = [];\n          this.editor.dom.getParent(node, function (node) {\n            if (node === root) {\n              return true;\n            }\n            parents.push(node);\n          });\n          args = args || {};\n          args.element = node;\n          args.parents = parents;\n          this.editor.fire('NodeChange', args);\n        }\n      };\n      NodeChange.prototype.isSameElementPath = function (startElm) {\n        var i;\n        var currentPath = this.editor.$(startElm).parentsUntil(this.editor.getBody()).add(startElm);\n        if (currentPath.length === this.lastPath.length) {\n          for (i = currentPath.length; i >= 0; i--) {\n            if (currentPath[i] !== this.lastPath[i]) {\n              break;\n            }\n          }\n          if (i === -1) {\n            this.lastPath = currentPath;\n            return true;\n          }\n        }\n        this.lastPath = currentPath;\n        return false;\n      };\n      return NodeChange;\n    }();\n\n    var preventSummaryToggle = function (editor) {\n      editor.on('click', function (e) {\n        if (editor.dom.getParent(e.target, 'details')) {\n          e.preventDefault();\n        }\n      });\n    };\n    var filterDetails = function (editor) {\n      editor.parser.addNodeFilter('details', function (elms) {\n        each$k(elms, function (details) {\n          details.attr('data-mce-open', details.attr('open'));\n          details.attr('open', 'open');\n        });\n      });\n      editor.serializer.addNodeFilter('details', function (elms) {\n        each$k(elms, function (details) {\n          var open = details.attr('data-mce-open');\n          details.attr('open', isString$1(open) ? open : null);\n          details.attr('data-mce-open', null);\n        });\n      });\n    };\n    var setup$3 = function (editor) {\n      preventSummaryToggle(editor);\n      filterDetails(editor);\n    };\n\n    var isTextBlockNode = function (node) {\n      return isElement$5(node) && isTextBlock$2(SugarElement.fromDom(node));\n    };\n    var normalizeSelection = function (editor) {\n      var rng = editor.selection.getRng();\n      var startPos = CaretPosition.fromRangeStart(rng);\n      var endPos = CaretPosition.fromRangeEnd(rng);\n      if (CaretPosition.isElementPosition(startPos)) {\n        var container = startPos.container();\n        if (isTextBlockNode(container)) {\n          firstPositionIn(container).each(function (pos) {\n            return rng.setStart(pos.container(), pos.offset());\n          });\n        }\n      }\n      if (CaretPosition.isElementPosition(endPos)) {\n        var container = startPos.container();\n        if (isTextBlockNode(container)) {\n          lastPositionIn(container).each(function (pos) {\n            return rng.setEnd(pos.container(), pos.offset());\n          });\n        }\n      }\n      editor.selection.setRng(normalize(rng));\n    };\n    var setup$2 = function (editor) {\n      editor.on('click', function (e) {\n        if (e.detail >= 3) {\n          normalizeSelection(editor);\n        }\n      });\n    };\n\n    var getAbsolutePosition = function (elm) {\n      var clientRect = elm.getBoundingClientRect();\n      var doc = elm.ownerDocument;\n      var docElem = doc.documentElement;\n      var win = doc.defaultView;\n      return {\n        top: clientRect.top + win.pageYOffset - docElem.clientTop,\n        left: clientRect.left + win.pageXOffset - docElem.clientLeft\n      };\n    };\n    var getBodyPosition = function (editor) {\n      return editor.inline ? getAbsolutePosition(editor.getBody()) : {\n        left: 0,\n        top: 0\n      };\n    };\n    var getScrollPosition = function (editor) {\n      var body = editor.getBody();\n      return editor.inline ? {\n        left: body.scrollLeft,\n        top: body.scrollTop\n      } : {\n        left: 0,\n        top: 0\n      };\n    };\n    var getBodyScroll = function (editor) {\n      var body = editor.getBody(), docElm = editor.getDoc().documentElement;\n      var inlineScroll = {\n        left: body.scrollLeft,\n        top: body.scrollTop\n      };\n      var iframeScroll = {\n        left: body.scrollLeft || docElm.scrollLeft,\n        top: body.scrollTop || docElm.scrollTop\n      };\n      return editor.inline ? inlineScroll : iframeScroll;\n    };\n    var getMousePosition = function (editor, event) {\n      if (event.target.ownerDocument !== editor.getDoc()) {\n        var iframePosition = getAbsolutePosition(editor.getContentAreaContainer());\n        var scrollPosition = getBodyScroll(editor);\n        return {\n          left: event.pageX - iframePosition.left + scrollPosition.left,\n          top: event.pageY - iframePosition.top + scrollPosition.top\n        };\n      }\n      return {\n        left: event.pageX,\n        top: event.pageY\n      };\n    };\n    var calculatePosition = function (bodyPosition, scrollPosition, mousePosition) {\n      return {\n        pageX: mousePosition.left - bodyPosition.left + scrollPosition.left,\n        pageY: mousePosition.top - bodyPosition.top + scrollPosition.top\n      };\n    };\n    var calc = function (editor, event) {\n      return calculatePosition(getBodyPosition(editor), getScrollPosition(editor), getMousePosition(editor, event));\n    };\n\n    var isContentEditableFalse$1 = isContentEditableFalse$b, isContentEditableTrue$1 = isContentEditableTrue$4;\n    var isDraggable = function (rootElm, elm) {\n      return isContentEditableFalse$1(elm) && elm !== rootElm;\n    };\n    var isValidDropTarget = function (editor, targetElement, dragElement) {\n      if (targetElement === dragElement || editor.dom.isChildOf(targetElement, dragElement)) {\n        return false;\n      }\n      return !isContentEditableFalse$1(targetElement);\n    };\n    var cloneElement = function (elm) {\n      var cloneElm = elm.cloneNode(true);\n      cloneElm.removeAttribute('data-mce-selected');\n      return cloneElm;\n    };\n    var createGhost = function (editor, elm, width, height) {\n      var dom = editor.dom;\n      var clonedElm = elm.cloneNode(true);\n      dom.setStyles(clonedElm, {\n        width: width,\n        height: height\n      });\n      dom.setAttrib(clonedElm, 'data-mce-selected', null);\n      var ghostElm = dom.create('div', {\n        'class': 'mce-drag-container',\n        'data-mce-bogus': 'all',\n        'unselectable': 'on',\n        'contenteditable': 'false'\n      });\n      dom.setStyles(ghostElm, {\n        position: 'absolute',\n        opacity: 0.5,\n        overflow: 'hidden',\n        border: 0,\n        padding: 0,\n        margin: 0,\n        width: width,\n        height: height\n      });\n      dom.setStyles(clonedElm, {\n        margin: 0,\n        boxSizing: 'border-box'\n      });\n      ghostElm.appendChild(clonedElm);\n      return ghostElm;\n    };\n    var appendGhostToBody = function (ghostElm, bodyElm) {\n      if (ghostElm.parentNode !== bodyElm) {\n        bodyElm.appendChild(ghostElm);\n      }\n    };\n    var moveGhost = function (ghostElm, position, width, height, maxX, maxY) {\n      var overflowX = 0, overflowY = 0;\n      ghostElm.style.left = position.pageX + 'px';\n      ghostElm.style.top = position.pageY + 'px';\n      if (position.pageX + width > maxX) {\n        overflowX = position.pageX + width - maxX;\n      }\n      if (position.pageY + height > maxY) {\n        overflowY = position.pageY + height - maxY;\n      }\n      ghostElm.style.width = width - overflowX + 'px';\n      ghostElm.style.height = height - overflowY + 'px';\n    };\n    var removeElement = function (elm) {\n      if (elm && elm.parentNode) {\n        elm.parentNode.removeChild(elm);\n      }\n    };\n    var isLeftMouseButtonPressed = function (e) {\n      return e.button === 0;\n    };\n    var applyRelPos = function (state, position) {\n      return {\n        pageX: position.pageX - state.relX,\n        pageY: position.pageY + 5\n      };\n    };\n    var start = function (state, editor) {\n      return function (e) {\n        if (isLeftMouseButtonPressed(e)) {\n          var ceElm = find$3(editor.dom.getParents(e.target), or(isContentEditableFalse$1, isContentEditableTrue$1)).getOr(null);\n          if (isDraggable(editor.getBody(), ceElm)) {\n            var elmPos = editor.dom.getPos(ceElm);\n            var bodyElm = editor.getBody();\n            var docElm = editor.getDoc().documentElement;\n            state.set({\n              element: ceElm,\n              dragging: false,\n              screenX: e.screenX,\n              screenY: e.screenY,\n              maxX: (editor.inline ? bodyElm.scrollWidth : docElm.offsetWidth) - 2,\n              maxY: (editor.inline ? bodyElm.scrollHeight : docElm.offsetHeight) - 2,\n              relX: e.pageX - elmPos.x,\n              relY: e.pageY - elmPos.y,\n              width: ceElm.offsetWidth,\n              height: ceElm.offsetHeight,\n              ghost: createGhost(editor, ceElm, ceElm.offsetWidth, ceElm.offsetHeight)\n            });\n          }\n        }\n      };\n    };\n    var move = function (state, editor) {\n      var throttledPlaceCaretAt = Delay.throttle(function (clientX, clientY) {\n        editor._selectionOverrides.hideFakeCaret();\n        editor.selection.placeCaretAt(clientX, clientY);\n      }, 0);\n      editor.on('remove', throttledPlaceCaretAt.stop);\n      return function (e) {\n        return state.on(function (state) {\n          var movement = Math.max(Math.abs(e.screenX - state.screenX), Math.abs(e.screenY - state.screenY));\n          if (!state.dragging && movement > 10) {\n            var args = editor.fire('dragstart', { target: state.element });\n            if (args.isDefaultPrevented()) {\n              return;\n            }\n            state.dragging = true;\n            editor.focus();\n          }\n          if (state.dragging) {\n            var targetPos = applyRelPos(state, calc(editor, e));\n            appendGhostToBody(state.ghost, editor.getBody());\n            moveGhost(state.ghost, targetPos, state.width, state.height, state.maxX, state.maxY);\n            throttledPlaceCaretAt(e.clientX, e.clientY);\n          }\n        });\n      };\n    };\n    var getRawTarget = function (selection) {\n      var rng = selection.getSel().getRangeAt(0);\n      var startContainer = rng.startContainer;\n      return startContainer.nodeType === 3 ? startContainer.parentNode : startContainer;\n    };\n    var drop = function (state, editor) {\n      return function (e) {\n        state.on(function (state) {\n          if (state.dragging) {\n            if (isValidDropTarget(editor, getRawTarget(editor.selection), state.element)) {\n              var targetClone_1 = cloneElement(state.element);\n              var args = editor.fire('drop', {\n                clientX: e.clientX,\n                clientY: e.clientY\n              });\n              if (!args.isDefaultPrevented()) {\n                editor.undoManager.transact(function () {\n                  removeElement(state.element);\n                  editor.insertContent(editor.dom.getOuterHTML(targetClone_1));\n                  editor._selectionOverrides.hideFakeCaret();\n                });\n              }\n            }\n            editor.fire('dragend');\n          }\n        });\n        removeDragState(state);\n      };\n    };\n    var stop = function (state, editor) {\n      return function () {\n        state.on(function (state) {\n          if (state.dragging) {\n            editor.fire('dragend');\n          }\n        });\n        removeDragState(state);\n      };\n    };\n    var removeDragState = function (state) {\n      state.on(function (state) {\n        removeElement(state.ghost);\n      });\n      state.clear();\n    };\n    var bindFakeDragEvents = function (editor) {\n      var state = value();\n      var pageDom = DOMUtils.DOM;\n      var rootDocument = document;\n      var dragStartHandler = start(state, editor);\n      var dragHandler = move(state, editor);\n      var dropHandler = drop(state, editor);\n      var dragEndHandler = stop(state, editor);\n      editor.on('mousedown', dragStartHandler);\n      editor.on('mousemove', dragHandler);\n      editor.on('mouseup', dropHandler);\n      pageDom.bind(rootDocument, 'mousemove', dragHandler);\n      pageDom.bind(rootDocument, 'mouseup', dragEndHandler);\n      editor.on('remove', function () {\n        pageDom.unbind(rootDocument, 'mousemove', dragHandler);\n        pageDom.unbind(rootDocument, 'mouseup', dragEndHandler);\n      });\n      editor.on('keydown', function (e) {\n        if (e.keyCode === VK.ESC) {\n          dragEndHandler();\n        }\n      });\n    };\n    var blockIeDrop = function (editor) {\n      editor.on('drop', function (e) {\n        var realTarget = typeof e.clientX !== 'undefined' ? editor.getDoc().elementFromPoint(e.clientX, e.clientY) : null;\n        if (isContentEditableFalse$1(realTarget) || editor.dom.getContentEditableParent(realTarget) === 'false') {\n          e.preventDefault();\n        }\n      });\n    };\n    var blockUnsupportedFileDrop = function (editor) {\n      var preventFileDrop = function (e) {\n        if (!e.isDefaultPrevented()) {\n          var dataTransfer = e.dataTransfer;\n          if (dataTransfer && (contains$3(dataTransfer.types, 'Files') || dataTransfer.files.length > 0)) {\n            e.preventDefault();\n            if (e.type === 'drop') {\n              displayError(editor, 'Dropped file type is not supported');\n            }\n          }\n        }\n      };\n      var preventFileDropIfUIElement = function (e) {\n        if (isUIElement(editor, e.target)) {\n          preventFileDrop(e);\n        }\n      };\n      var setup = function () {\n        var pageDom = DOMUtils.DOM;\n        var dom = editor.dom;\n        var doc = document;\n        var editorRoot = editor.inline ? editor.getBody() : editor.getDoc();\n        var eventNames = [\n          'drop',\n          'dragover'\n        ];\n        each$k(eventNames, function (name) {\n          pageDom.bind(doc, name, preventFileDropIfUIElement);\n          dom.bind(editorRoot, name, preventFileDrop);\n        });\n        editor.on('remove', function () {\n          each$k(eventNames, function (name) {\n            pageDom.unbind(doc, name, preventFileDropIfUIElement);\n            dom.unbind(editorRoot, name, preventFileDrop);\n          });\n        });\n      };\n      editor.on('init', function () {\n        Delay.setEditorTimeout(editor, setup, 0);\n      });\n    };\n    var init$2 = function (editor) {\n      bindFakeDragEvents(editor);\n      blockIeDrop(editor);\n      if (shouldBlockUnsupportedDrop(editor)) {\n        blockUnsupportedFileDrop(editor);\n      }\n    };\n\n    var setup$1 = function (editor) {\n      var renderFocusCaret = first(function () {\n        if (!editor.removed && editor.getBody().contains(document.activeElement)) {\n          var rng = editor.selection.getRng();\n          if (rng.collapsed) {\n            var caretRange = renderRangeCaret(editor, rng, false);\n            editor.selection.setRng(caretRange);\n          }\n        }\n      }, 0);\n      editor.on('focus', function () {\n        renderFocusCaret.throttle();\n      });\n      editor.on('blur', function () {\n        renderFocusCaret.cancel();\n      });\n    };\n\n    var setup = function (editor) {\n      editor.on('init', function () {\n        editor.on('focusin', function (e) {\n          var target = e.target;\n          if (isMedia$2(target)) {\n            var ceRoot = getContentEditableRoot$1(editor.getBody(), target);\n            var node = isContentEditableFalse$b(ceRoot) ? ceRoot : target;\n            if (editor.selection.getNode() !== node) {\n              selectNode(editor, node).each(function (rng) {\n                return editor.selection.setRng(rng);\n              });\n            }\n          }\n        });\n      });\n    };\n\n    var isContentEditableTrue = isContentEditableTrue$4;\n    var isContentEditableFalse = isContentEditableFalse$b;\n    var getContentEditableRoot = function (editor, node) {\n      return getContentEditableRoot$1(editor.getBody(), node);\n    };\n    var SelectionOverrides = function (editor) {\n      var selection = editor.selection, dom = editor.dom;\n      var isBlock = dom.isBlock;\n      var rootNode = editor.getBody();\n      var fakeCaret = FakeCaret(editor, rootNode, isBlock, function () {\n        return hasFocus(editor);\n      });\n      var realSelectionId = 'sel-' + dom.uniqueId();\n      var elementSelectionAttr = 'data-mce-selected';\n      var selectedElement;\n      var isFakeSelectionElement = function (node) {\n        return dom.hasClass(node, 'mce-offscreen-selection');\n      };\n      var isFakeSelectionTargetElement = function (node) {\n        return node !== rootNode && (isContentEditableFalse(node) || isMedia$2(node)) && dom.isChildOf(node, rootNode);\n      };\n      var isNearFakeSelectionElement = function (pos) {\n        return isBeforeContentEditableFalse(pos) || isAfterContentEditableFalse(pos) || isBeforeMedia(pos) || isAfterMedia(pos);\n      };\n      var getRealSelectionElement = function () {\n        var container = dom.get(realSelectionId);\n        return container ? container.getElementsByTagName('*')[0] : container;\n      };\n      var setRange = function (range) {\n        if (range) {\n          selection.setRng(range);\n        }\n      };\n      var getRange = selection.getRng;\n      var showCaret = function (direction, node, before, scrollIntoView) {\n        if (scrollIntoView === void 0) {\n          scrollIntoView = true;\n        }\n        var e = editor.fire('ShowCaret', {\n          target: node,\n          direction: direction,\n          before: before\n        });\n        if (e.isDefaultPrevented()) {\n          return null;\n        }\n        if (scrollIntoView) {\n          selection.scrollIntoView(node, direction === -1);\n        }\n        return fakeCaret.show(before, node);\n      };\n      var showBlockCaretContainer = function (blockCaretContainer) {\n        if (blockCaretContainer.hasAttribute('data-mce-caret')) {\n          showCaretContainerBlock(blockCaretContainer);\n          setRange(getRange());\n          selection.scrollIntoView(blockCaretContainer);\n        }\n      };\n      var registerEvents = function () {\n        editor.on('mouseup', function (e) {\n          var range = getRange();\n          if (range.collapsed && isXYInContentArea(editor, e.clientX, e.clientY)) {\n            renderCaretAtRange(editor, range, false).each(setRange);\n          }\n        });\n        editor.on('click', function (e) {\n          var contentEditableRoot = getContentEditableRoot(editor, e.target);\n          if (contentEditableRoot) {\n            if (isContentEditableFalse(contentEditableRoot)) {\n              e.preventDefault();\n              editor.focus();\n            }\n            if (isContentEditableTrue(contentEditableRoot)) {\n              if (dom.isChildOf(contentEditableRoot, selection.getNode())) {\n                removeElementSelection();\n              }\n            }\n          }\n        });\n        editor.on('blur NewBlock', removeElementSelection);\n        editor.on('ResizeWindow FullscreenStateChanged', fakeCaret.reposition);\n        var hasNormalCaretPosition = function (elm) {\n          var start = elm.firstChild;\n          if (isNullable(start)) {\n            return false;\n          }\n          var startPos = CaretPosition.before(start);\n          if (isBr$5(startPos.getNode()) && elm.childNodes.length === 1) {\n            return !isNearFakeSelectionElement(startPos);\n          } else {\n            var caretWalker = CaretWalker(elm);\n            var newPos = caretWalker.next(startPos);\n            return newPos && !isNearFakeSelectionElement(newPos);\n          }\n        };\n        var isInSameBlock = function (node1, node2) {\n          var block1 = dom.getParent(node1, isBlock);\n          var block2 = dom.getParent(node2, isBlock);\n          return block1 === block2;\n        };\n        var hasBetterMouseTarget = function (targetNode, caretNode) {\n          var targetBlock = dom.getParent(targetNode, isBlock);\n          var caretBlock = dom.getParent(caretNode, isBlock);\n          if (isNullable(targetBlock)) {\n            return false;\n          }\n          if (targetNode !== caretBlock && dom.isChildOf(targetBlock, caretBlock) && isContentEditableFalse(getContentEditableRoot(editor, targetBlock)) === false) {\n            return true;\n          }\n          return !dom.isChildOf(caretBlock, targetBlock) && !isInSameBlock(targetBlock, caretBlock) && hasNormalCaretPosition(targetBlock);\n        };\n        editor.on('tap', function (e) {\n          var targetElm = e.target;\n          var contentEditableRoot = getContentEditableRoot(editor, targetElm);\n          if (isContentEditableFalse(contentEditableRoot)) {\n            e.preventDefault();\n            selectNode(editor, contentEditableRoot).each(setElementSelection);\n          } else if (isFakeSelectionTargetElement(targetElm)) {\n            selectNode(editor, targetElm).each(setElementSelection);\n          }\n        }, true);\n        editor.on('mousedown', function (e) {\n          var targetElm = e.target;\n          if (targetElm !== rootNode && targetElm.nodeName !== 'HTML' && !dom.isChildOf(targetElm, rootNode)) {\n            return;\n          }\n          if (isXYInContentArea(editor, e.clientX, e.clientY) === false) {\n            return;\n          }\n          var contentEditableRoot = getContentEditableRoot(editor, targetElm);\n          if (contentEditableRoot) {\n            if (isContentEditableFalse(contentEditableRoot)) {\n              e.preventDefault();\n              selectNode(editor, contentEditableRoot).each(setElementSelection);\n            } else {\n              removeElementSelection();\n              if (!(isContentEditableTrue(contentEditableRoot) && e.shiftKey) && !isXYWithinRange(e.clientX, e.clientY, selection.getRng())) {\n                hideFakeCaret();\n                selection.placeCaretAt(e.clientX, e.clientY);\n              }\n            }\n          } else if (isFakeSelectionTargetElement(targetElm)) {\n            selectNode(editor, targetElm).each(setElementSelection);\n          } else if (isFakeCaretTarget(targetElm) === false) {\n            removeElementSelection();\n            hideFakeCaret();\n            var fakeCaretInfo = closestFakeCaret(rootNode, e.clientX, e.clientY);\n            if (fakeCaretInfo) {\n              if (!hasBetterMouseTarget(targetElm, fakeCaretInfo.node)) {\n                e.preventDefault();\n                var range = showCaret(1, fakeCaretInfo.node, fakeCaretInfo.before, false);\n                setRange(range);\n                editor.getBody().focus();\n              }\n            }\n          }\n        });\n        editor.on('keypress', function (e) {\n          if (VK.modifierPressed(e)) {\n            return;\n          }\n          if (isContentEditableFalse(selection.getNode())) {\n            e.preventDefault();\n          }\n        });\n        editor.on('GetSelectionRange', function (e) {\n          var rng = e.range;\n          if (selectedElement) {\n            if (!selectedElement.parentNode) {\n              selectedElement = null;\n              return;\n            }\n            rng = rng.cloneRange();\n            rng.selectNode(selectedElement);\n            e.range = rng;\n          }\n        });\n        editor.on('SetSelectionRange', function (e) {\n          e.range = normalizeShortEndedElementSelection(e.range);\n          var rng = setElementSelection(e.range, e.forward);\n          if (rng) {\n            e.range = rng;\n          }\n        });\n        var isPasteBin = function (node) {\n          return node.id === 'mcepastebin';\n        };\n        editor.on('AfterSetSelectionRange', function (e) {\n          var rng = e.range;\n          var parentNode = rng.startContainer.parentNode;\n          if (!isRangeInCaretContainer(rng) && !isPasteBin(parentNode)) {\n            hideFakeCaret();\n          }\n          if (!isFakeSelectionElement(parentNode)) {\n            removeElementSelection();\n          }\n        });\n        editor.on('copy', function (e) {\n          var clipboardData = e.clipboardData;\n          if (!e.isDefaultPrevented() && e.clipboardData && !Env.ie) {\n            var realSelectionElement = getRealSelectionElement();\n            if (realSelectionElement) {\n              e.preventDefault();\n              clipboardData.clearData();\n              clipboardData.setData('text/html', realSelectionElement.outerHTML);\n              clipboardData.setData('text/plain', realSelectionElement.outerText || realSelectionElement.innerText);\n            }\n          }\n        });\n        init$2(editor);\n        setup$1(editor);\n        setup(editor);\n      };\n      var isWithinCaretContainer = function (node) {\n        return isCaretContainer$2(node) || startsWithCaretContainer$1(node) || endsWithCaretContainer$1(node);\n      };\n      var isRangeInCaretContainer = function (rng) {\n        return isWithinCaretContainer(rng.startContainer) || isWithinCaretContainer(rng.endContainer);\n      };\n      var normalizeShortEndedElementSelection = function (rng) {\n        var shortEndedElements = editor.schema.getShortEndedElements();\n        var newRng = dom.createRng();\n        var startContainer = rng.startContainer;\n        var startOffset = rng.startOffset;\n        var endContainer = rng.endContainer;\n        var endOffset = rng.endOffset;\n        if (has$2(shortEndedElements, startContainer.nodeName.toLowerCase())) {\n          if (startOffset === 0) {\n            newRng.setStartBefore(startContainer);\n          } else {\n            newRng.setStartAfter(startContainer);\n          }\n        } else {\n          newRng.setStart(startContainer, startOffset);\n        }\n        if (has$2(shortEndedElements, endContainer.nodeName.toLowerCase())) {\n          if (endOffset === 0) {\n            newRng.setEndBefore(endContainer);\n          } else {\n            newRng.setEndAfter(endContainer);\n          }\n        } else {\n          newRng.setEnd(endContainer, endOffset);\n        }\n        return newRng;\n      };\n      var setupOffscreenSelection = function (node, targetClone, origTargetClone) {\n        var $ = editor.$;\n        var $realSelectionContainer = descendant(SugarElement.fromDom(editor.getBody()), '#' + realSelectionId).fold(function () {\n          return $([]);\n        }, function (elm) {\n          return $([elm.dom]);\n        });\n        if ($realSelectionContainer.length === 0) {\n          $realSelectionContainer = $('<div data-mce-bogus=\"all\" class=\"mce-offscreen-selection\"></div>').attr('id', realSelectionId);\n          $realSelectionContainer.appendTo(editor.getBody());\n        }\n        var newRange = dom.createRng();\n        if (targetClone === origTargetClone && Env.ie) {\n          $realSelectionContainer.empty().append('<p style=\"font-size: 0\" data-mce-bogus=\"all\">\\xA0</p>').append(targetClone);\n          newRange.setStartAfter($realSelectionContainer[0].firstChild.firstChild);\n          newRange.setEndAfter(targetClone);\n        } else {\n          $realSelectionContainer.empty().append(nbsp).append(targetClone).append(nbsp);\n          newRange.setStart($realSelectionContainer[0].firstChild, 1);\n          newRange.setEnd($realSelectionContainer[0].lastChild, 0);\n        }\n        $realSelectionContainer.css({ top: dom.getPos(node, editor.getBody()).y });\n        $realSelectionContainer[0].focus();\n        var sel = selection.getSel();\n        sel.removeAllRanges();\n        sel.addRange(newRange);\n        return newRange;\n      };\n      var selectElement = function (elm) {\n        var targetClone = elm.cloneNode(true);\n        var e = editor.fire('ObjectSelected', {\n          target: elm,\n          targetClone: targetClone\n        });\n        if (e.isDefaultPrevented()) {\n          return null;\n        }\n        var range = setupOffscreenSelection(elm, e.targetClone, targetClone);\n        var nodeElm = SugarElement.fromDom(elm);\n        each$k(descendants(SugarElement.fromDom(editor.getBody()), '*[data-mce-selected]'), function (elm) {\n          if (!eq(nodeElm, elm)) {\n            remove$6(elm, elementSelectionAttr);\n          }\n        });\n        if (!dom.getAttrib(elm, elementSelectionAttr)) {\n          elm.setAttribute(elementSelectionAttr, '1');\n        }\n        selectedElement = elm;\n        hideFakeCaret();\n        return range;\n      };\n      var setElementSelection = function (range, forward) {\n        if (!range) {\n          return null;\n        }\n        if (range.collapsed) {\n          if (!isRangeInCaretContainer(range)) {\n            var dir = forward ? 1 : -1;\n            var caretPosition = getNormalizedRangeEndPoint(dir, rootNode, range);\n            var beforeNode = caretPosition.getNode(!forward);\n            if (isFakeCaretTarget(beforeNode)) {\n              return showCaret(dir, beforeNode, forward ? !caretPosition.isAtEnd() : false, false);\n            }\n            var afterNode = caretPosition.getNode(forward);\n            if (isFakeCaretTarget(afterNode)) {\n              return showCaret(dir, afterNode, forward ? false : !caretPosition.isAtEnd(), false);\n            }\n          }\n          return null;\n        }\n        var startContainer = range.startContainer;\n        var startOffset = range.startOffset;\n        var endOffset = range.endOffset;\n        if (startContainer.nodeType === 3 && startOffset === 0 && isContentEditableFalse(startContainer.parentNode)) {\n          startContainer = startContainer.parentNode;\n          startOffset = dom.nodeIndex(startContainer);\n          startContainer = startContainer.parentNode;\n        }\n        if (startContainer.nodeType !== 1) {\n          return null;\n        }\n        if (endOffset === startOffset + 1 && startContainer === range.endContainer) {\n          var node = startContainer.childNodes[startOffset];\n          if (isFakeSelectionTargetElement(node)) {\n            return selectElement(node);\n          }\n        }\n        return null;\n      };\n      var removeElementSelection = function () {\n        if (selectedElement) {\n          selectedElement.removeAttribute(elementSelectionAttr);\n        }\n        descendant(SugarElement.fromDom(editor.getBody()), '#' + realSelectionId).each(remove$7);\n        selectedElement = null;\n      };\n      var destroy = function () {\n        fakeCaret.destroy();\n        selectedElement = null;\n      };\n      var hideFakeCaret = function () {\n        fakeCaret.hide();\n      };\n      if (Env.ceFalse && !isRtc(editor)) {\n        registerEvents();\n      }\n      return {\n        showCaret: showCaret,\n        showBlockCaretContainer: showBlockCaretContainer,\n        hideFakeCaret: hideFakeCaret,\n        destroy: destroy\n      };\n    };\n\n    var Quirks = function (editor) {\n      var each = Tools.each;\n      var BACKSPACE = VK.BACKSPACE, DELETE = VK.DELETE, dom = editor.dom, selection = editor.selection, parser = editor.parser;\n      var isGecko = Env.gecko, isIE = Env.ie, isWebKit = Env.webkit;\n      var mceInternalUrlPrefix = 'data:text/mce-internal,';\n      var mceInternalDataType = isIE ? 'Text' : 'URL';\n      var setEditorCommandState = function (cmd, state) {\n        try {\n          editor.getDoc().execCommand(cmd, false, state);\n        } catch (ex) {\n        }\n      };\n      var isDefaultPrevented = function (e) {\n        return e.isDefaultPrevented();\n      };\n      var setMceInternalContent = function (e) {\n        var selectionHtml, internalContent;\n        if (e.dataTransfer) {\n          if (editor.selection.isCollapsed() && e.target.tagName === 'IMG') {\n            selection.select(e.target);\n          }\n          selectionHtml = editor.selection.getContent();\n          if (selectionHtml.length > 0) {\n            internalContent = mceInternalUrlPrefix + escape(editor.id) + ',' + escape(selectionHtml);\n            e.dataTransfer.setData(mceInternalDataType, internalContent);\n          }\n        }\n      };\n      var getMceInternalContent = function (e) {\n        var internalContent;\n        if (e.dataTransfer) {\n          internalContent = e.dataTransfer.getData(mceInternalDataType);\n          if (internalContent && internalContent.indexOf(mceInternalUrlPrefix) >= 0) {\n            internalContent = internalContent.substr(mceInternalUrlPrefix.length).split(',');\n            return {\n              id: unescape(internalContent[0]),\n              html: unescape(internalContent[1])\n            };\n          }\n        }\n        return null;\n      };\n      var insertClipboardContents = function (content, internal) {\n        if (editor.queryCommandSupported('mceInsertClipboardContent')) {\n          editor.execCommand('mceInsertClipboardContent', false, {\n            content: content,\n            internal: internal\n          });\n        } else {\n          editor.execCommand('mceInsertContent', false, content);\n        }\n      };\n      var emptyEditorWhenDeleting = function () {\n        var serializeRng = function (rng) {\n          var body = dom.create('body');\n          var contents = rng.cloneContents();\n          body.appendChild(contents);\n          return selection.serializer.serialize(body, { format: 'html' });\n        };\n        var allContentsSelected = function (rng) {\n          var selection = serializeRng(rng);\n          var allRng = dom.createRng();\n          allRng.selectNode(editor.getBody());\n          var allSelection = serializeRng(allRng);\n          return selection === allSelection;\n        };\n        editor.on('keydown', function (e) {\n          var keyCode = e.keyCode;\n          var isCollapsed, body;\n          if (!isDefaultPrevented(e) && (keyCode === DELETE || keyCode === BACKSPACE)) {\n            isCollapsed = editor.selection.isCollapsed();\n            body = editor.getBody();\n            if (isCollapsed && !dom.isEmpty(body)) {\n              return;\n            }\n            if (!isCollapsed && !allContentsSelected(editor.selection.getRng())) {\n              return;\n            }\n            e.preventDefault();\n            editor.setContent('');\n            if (body.firstChild && dom.isBlock(body.firstChild)) {\n              editor.selection.setCursorLocation(body.firstChild, 0);\n            } else {\n              editor.selection.setCursorLocation(body, 0);\n            }\n            editor.nodeChanged();\n          }\n        });\n      };\n      var selectAll = function () {\n        editor.shortcuts.add('meta+a', null, 'SelectAll');\n      };\n      var documentElementEditingFocus = function () {\n        if (!editor.inline) {\n          dom.bind(editor.getDoc(), 'mousedown mouseup', function (e) {\n            var rng;\n            if (e.target === editor.getDoc().documentElement) {\n              rng = selection.getRng();\n              editor.getBody().focus();\n              if (e.type === 'mousedown') {\n                if (isCaretContainer$2(rng.startContainer)) {\n                  return;\n                }\n                selection.placeCaretAt(e.clientX, e.clientY);\n              } else {\n                selection.setRng(rng);\n              }\n            }\n          });\n        }\n      };\n      var removeHrOnBackspace = function () {\n        editor.on('keydown', function (e) {\n          if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\n            if (!editor.getBody().getElementsByTagName('hr').length) {\n              return;\n            }\n            if (selection.isCollapsed() && selection.getRng().startOffset === 0) {\n              var node = selection.getNode();\n              var previousSibling = node.previousSibling;\n              if (node.nodeName === 'HR') {\n                dom.remove(node);\n                e.preventDefault();\n                return;\n              }\n              if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === 'hr') {\n                dom.remove(previousSibling);\n                e.preventDefault();\n              }\n            }\n          }\n        });\n      };\n      var focusBody = function () {\n        if (!Range.prototype.getClientRects) {\n          editor.on('mousedown', function (e) {\n            if (!isDefaultPrevented(e) && e.target.nodeName === 'HTML') {\n              var body_1 = editor.getBody();\n              body_1.blur();\n              Delay.setEditorTimeout(editor, function () {\n                body_1.focus();\n              });\n            }\n          });\n        }\n      };\n      var selectControlElements = function () {\n        editor.on('click', function (e) {\n          var target = e.target;\n          if (/^(IMG|HR)$/.test(target.nodeName) && dom.getContentEditableParent(target) !== 'false') {\n            e.preventDefault();\n            editor.selection.select(target);\n            editor.nodeChanged();\n          }\n          if (target.nodeName === 'A' && dom.hasClass(target, 'mce-item-anchor')) {\n            e.preventDefault();\n            selection.select(target);\n          }\n        });\n      };\n      var removeStylesWhenDeletingAcrossBlockElements = function () {\n        var getAttributeApplyFunction = function () {\n          var template = dom.getAttribs(selection.getStart().cloneNode(false));\n          return function () {\n            var target = selection.getStart();\n            if (target !== editor.getBody()) {\n              dom.setAttrib(target, 'style', null);\n              each(template, function (attr) {\n                target.setAttributeNode(attr.cloneNode(true));\n              });\n            }\n          };\n        };\n        var isSelectionAcrossElements = function () {\n          return !selection.isCollapsed() && dom.getParent(selection.getStart(), dom.isBlock) !== dom.getParent(selection.getEnd(), dom.isBlock);\n        };\n        editor.on('keypress', function (e) {\n          var applyAttributes;\n          if (!isDefaultPrevented(e) && (e.keyCode === 8 || e.keyCode === 46) && isSelectionAcrossElements()) {\n            applyAttributes = getAttributeApplyFunction();\n            editor.getDoc().execCommand('delete', false, null);\n            applyAttributes();\n            e.preventDefault();\n            return false;\n          }\n        });\n        dom.bind(editor.getDoc(), 'cut', function (e) {\n          var applyAttributes;\n          if (!isDefaultPrevented(e) && isSelectionAcrossElements()) {\n            applyAttributes = getAttributeApplyFunction();\n            Delay.setEditorTimeout(editor, function () {\n              applyAttributes();\n            });\n          }\n        });\n      };\n      var disableBackspaceIntoATable = function () {\n        editor.on('keydown', function (e) {\n          if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\n            if (selection.isCollapsed() && selection.getRng().startOffset === 0) {\n              var previousSibling = selection.getNode().previousSibling;\n              if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === 'table') {\n                e.preventDefault();\n                return false;\n              }\n            }\n          }\n        });\n      };\n      var removeBlockQuoteOnBackSpace = function () {\n        editor.on('keydown', function (e) {\n          var rng, parent;\n          if (isDefaultPrevented(e) || e.keyCode !== VK.BACKSPACE) {\n            return;\n          }\n          rng = selection.getRng();\n          var container = rng.startContainer;\n          var offset = rng.startOffset;\n          var root = dom.getRoot();\n          parent = container;\n          if (!rng.collapsed || offset !== 0) {\n            return;\n          }\n          while (parent && parent.parentNode && parent.parentNode.firstChild === parent && parent.parentNode !== root) {\n            parent = parent.parentNode;\n          }\n          if (parent.tagName === 'BLOCKQUOTE') {\n            editor.formatter.toggle('blockquote', null, parent);\n            rng = dom.createRng();\n            rng.setStart(container, 0);\n            rng.setEnd(container, 0);\n            selection.setRng(rng);\n          }\n        });\n      };\n      var setGeckoEditingOptions = function () {\n        var setOpts = function () {\n          setEditorCommandState('StyleWithCSS', false);\n          setEditorCommandState('enableInlineTableEditing', false);\n          if (!getObjectResizing(editor)) {\n            setEditorCommandState('enableObjectResizing', false);\n          }\n        };\n        if (!isReadOnly$1(editor)) {\n          editor.on('BeforeExecCommand mousedown', setOpts);\n        }\n      };\n      var addBrAfterLastLinks = function () {\n        var fixLinks = function () {\n          each(dom.select('a'), function (node) {\n            var parentNode = node.parentNode;\n            var root = dom.getRoot();\n            if (parentNode.lastChild === node) {\n              while (parentNode && !dom.isBlock(parentNode)) {\n                if (parentNode.parentNode.lastChild !== parentNode || parentNode === root) {\n                  return;\n                }\n                parentNode = parentNode.parentNode;\n              }\n              dom.add(parentNode, 'br', { 'data-mce-bogus': 1 });\n            }\n          });\n        };\n        editor.on('SetContent ExecCommand', function (e) {\n          if (e.type === 'setcontent' || e.command === 'mceInsertLink') {\n            fixLinks();\n          }\n        });\n      };\n      var setDefaultBlockType = function () {\n        if (getForcedRootBlock(editor)) {\n          editor.on('init', function () {\n            setEditorCommandState('DefaultParagraphSeparator', getForcedRootBlock(editor));\n          });\n        }\n      };\n      var normalizeSelection = function () {\n        editor.on('keyup focusin mouseup', function (e) {\n          if (!VK.modifierPressed(e)) {\n            selection.normalize();\n          }\n        }, true);\n      };\n      var showBrokenImageIcon = function () {\n        editor.contentStyles.push('img:-moz-broken {' + '-moz-force-broken-image-icon:1;' + 'min-width:24px;' + 'min-height:24px' + '}');\n      };\n      var restoreFocusOnKeyDown = function () {\n        if (!editor.inline) {\n          editor.on('keydown', function () {\n            if (document.activeElement === document.body) {\n              editor.getWin().focus();\n            }\n          });\n        }\n      };\n      var bodyHeight = function () {\n        if (!editor.inline) {\n          editor.contentStyles.push('body {min-height: 150px}');\n          editor.on('click', function (e) {\n            var rng;\n            if (e.target.nodeName === 'HTML') {\n              if (Env.ie > 11) {\n                editor.getBody().focus();\n                return;\n              }\n              rng = editor.selection.getRng();\n              editor.getBody().focus();\n              editor.selection.setRng(rng);\n              editor.selection.normalize();\n              editor.nodeChanged();\n            }\n          });\n        }\n      };\n      var blockCmdArrowNavigation = function () {\n        if (Env.mac) {\n          editor.on('keydown', function (e) {\n            if (VK.metaKeyPressed(e) && !e.shiftKey && (e.keyCode === 37 || e.keyCode === 39)) {\n              e.preventDefault();\n              var selection_1 = editor.selection.getSel();\n              selection_1.modify('move', e.keyCode === 37 ? 'backward' : 'forward', 'lineboundary');\n            }\n          });\n        }\n      };\n      var disableAutoUrlDetect = function () {\n        setEditorCommandState('AutoUrlDetect', false);\n      };\n      var tapLinksAndImages = function () {\n        editor.on('click', function (e) {\n          var elm = e.target;\n          do {\n            if (elm.tagName === 'A') {\n              e.preventDefault();\n              return;\n            }\n          } while (elm = elm.parentNode);\n        });\n        editor.contentStyles.push('.mce-content-body {-webkit-touch-callout: none}');\n      };\n      var blockFormSubmitInsideEditor = function () {\n        editor.on('init', function () {\n          editor.dom.bind(editor.getBody(), 'submit', function (e) {\n            e.preventDefault();\n          });\n        });\n      };\n      var removeAppleInterchangeBrs = function () {\n        parser.addNodeFilter('br', function (nodes) {\n          var i = nodes.length;\n          while (i--) {\n            if (nodes[i].attr('class') === 'Apple-interchange-newline') {\n              nodes[i].remove();\n            }\n          }\n        });\n      };\n      var ieInternalDragAndDrop = function () {\n        editor.on('dragstart', function (e) {\n          setMceInternalContent(e);\n        });\n        editor.on('drop', function (e) {\n          if (!isDefaultPrevented(e)) {\n            var internalContent = getMceInternalContent(e);\n            if (internalContent && internalContent.id !== editor.id) {\n              e.preventDefault();\n              var rng = fromPoint(e.x, e.y, editor.getDoc());\n              selection.setRng(rng);\n              insertClipboardContents(internalContent.html, true);\n            }\n          }\n        });\n      };\n      var refreshContentEditable = noop;\n      var isHidden = function () {\n        if (!isGecko || editor.removed) {\n          return false;\n        }\n        var sel = editor.selection.getSel();\n        return !sel || !sel.rangeCount || sel.rangeCount === 0;\n      };\n      var setupRtc = function () {\n        if (isWebKit) {\n          documentElementEditingFocus();\n          selectControlElements();\n          blockFormSubmitInsideEditor();\n          selectAll();\n          if (Env.iOS) {\n            restoreFocusOnKeyDown();\n            bodyHeight();\n            tapLinksAndImages();\n          }\n        }\n        if (isGecko) {\n          focusBody();\n          setGeckoEditingOptions();\n          showBrokenImageIcon();\n          blockCmdArrowNavigation();\n        }\n      };\n      var setup = function () {\n        removeBlockQuoteOnBackSpace();\n        emptyEditorWhenDeleting();\n        if (!Env.windowsPhone) {\n          normalizeSelection();\n        }\n        if (isWebKit) {\n          documentElementEditingFocus();\n          selectControlElements();\n          setDefaultBlockType();\n          blockFormSubmitInsideEditor();\n          disableBackspaceIntoATable();\n          removeAppleInterchangeBrs();\n          if (Env.iOS) {\n            restoreFocusOnKeyDown();\n            bodyHeight();\n            tapLinksAndImages();\n          } else {\n            selectAll();\n          }\n        }\n        if (Env.ie >= 11) {\n          bodyHeight();\n          disableBackspaceIntoATable();\n        }\n        if (Env.ie) {\n          selectAll();\n          disableAutoUrlDetect();\n          ieInternalDragAndDrop();\n        }\n        if (isGecko) {\n          removeHrOnBackspace();\n          focusBody();\n          removeStylesWhenDeletingAcrossBlockElements();\n          setGeckoEditingOptions();\n          addBrAfterLastLinks();\n          showBrokenImageIcon();\n          blockCmdArrowNavigation();\n          disableBackspaceIntoATable();\n        }\n      };\n      if (isRtc(editor)) {\n        setupRtc();\n      } else {\n        setup();\n      }\n      return {\n        refreshContentEditable: refreshContentEditable,\n        isHidden: isHidden\n      };\n    };\n\n    var DOM$6 = DOMUtils.DOM;\n    var appendStyle = function (editor, text) {\n      var body = SugarElement.fromDom(editor.getBody());\n      var container = getStyleContainer(getRootNode(body));\n      var style = SugarElement.fromTag('style');\n      set$1(style, 'type', 'text/css');\n      append$1(style, SugarElement.fromText(text));\n      append$1(container, style);\n      editor.on('remove', function () {\n        remove$7(style);\n      });\n    };\n    var getRootName = function (editor) {\n      return editor.inline ? editor.getElement().nodeName.toLowerCase() : undefined;\n    };\n    var removeUndefined = function (obj) {\n      return filter$3(obj, function (v) {\n        return isUndefined(v) === false;\n      });\n    };\n    var mkParserSettings = function (editor) {\n      var settings = editor.settings;\n      var blobCache = editor.editorUpload.blobCache;\n      return removeUndefined({\n        allow_conditional_comments: settings.allow_conditional_comments,\n        allow_html_data_urls: settings.allow_html_data_urls,\n        allow_svg_data_urls: settings.allow_svg_data_urls,\n        allow_html_in_named_anchor: settings.allow_html_in_named_anchor,\n        allow_script_urls: settings.allow_script_urls,\n        allow_unsafe_link_target: settings.allow_unsafe_link_target,\n        convert_fonts_to_spans: settings.convert_fonts_to_spans,\n        fix_list_elements: settings.fix_list_elements,\n        font_size_legacy_values: settings.font_size_legacy_values,\n        forced_root_block: settings.forced_root_block,\n        forced_root_block_attrs: settings.forced_root_block_attrs,\n        padd_empty_with_br: settings.padd_empty_with_br,\n        preserve_cdata: settings.preserve_cdata,\n        remove_trailing_brs: settings.remove_trailing_brs,\n        inline_styles: settings.inline_styles,\n        root_name: getRootName(editor),\n        validate: true,\n        blob_cache: blobCache,\n        document: editor.getDoc(),\n        images_dataimg_filter: settings.images_dataimg_filter\n      });\n    };\n    var mkSerializerSettings = function (editor) {\n      var settings = editor.settings;\n      return __assign(__assign({}, mkParserSettings(editor)), removeUndefined({\n        url_converter: settings.url_converter,\n        url_converter_scope: settings.url_converter_scope,\n        element_format: settings.element_format,\n        entities: settings.entities,\n        entity_encoding: settings.entity_encoding,\n        indent: settings.indent,\n        indent_after: settings.indent_after,\n        indent_before: settings.indent_before,\n        block_elements: settings.block_elements,\n        boolean_attributes: settings.boolean_attributes,\n        custom_elements: settings.custom_elements,\n        extended_valid_elements: settings.extended_valid_elements,\n        invalid_elements: settings.invalid_elements,\n        invalid_styles: settings.invalid_styles,\n        move_caret_before_on_enter_elements: settings.move_caret_before_on_enter_elements,\n        non_empty_elements: settings.non_empty_elements,\n        schema: settings.schema,\n        self_closing_elements: settings.self_closing_elements,\n        short_ended_elements: settings.short_ended_elements,\n        special: settings.special,\n        text_block_elements: settings.text_block_elements,\n        text_inline_elements: settings.text_inline_elements,\n        valid_children: settings.valid_children,\n        valid_classes: settings.valid_classes,\n        valid_elements: settings.valid_elements,\n        valid_styles: settings.valid_styles,\n        verify_html: settings.verify_html,\n        whitespace_elements: settings.whitespace_elements\n      }));\n    };\n    var createParser = function (editor) {\n      var parser = DomParser(mkParserSettings(editor), editor.schema);\n      parser.addAttributeFilter('src,href,style,tabindex', function (nodes, name) {\n        var i = nodes.length, node, value;\n        var dom = editor.dom;\n        var internalName = 'data-mce-' + name;\n        while (i--) {\n          node = nodes[i];\n          value = node.attr(name);\n          if (value && !node.attr(internalName)) {\n            if (value.indexOf('data:') === 0 || value.indexOf('blob:') === 0) {\n              continue;\n            }\n            if (name === 'style') {\n              value = dom.serializeStyle(dom.parseStyle(value), node.name);\n              if (!value.length) {\n                value = null;\n              }\n              node.attr(internalName, value);\n              node.attr(name, value);\n            } else if (name === 'tabindex') {\n              node.attr(internalName, value);\n              node.attr(name, null);\n            } else {\n              node.attr(internalName, editor.convertURL(value, name, node.name));\n            }\n          }\n        }\n      });\n      parser.addNodeFilter('script', function (nodes) {\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          var type = node.attr('type') || 'no/type';\n          if (type.indexOf('mce-') !== 0) {\n            node.attr('type', 'mce-' + type);\n          }\n        }\n      });\n      if (editor.settings.preserve_cdata) {\n        parser.addNodeFilter('#cdata', function (nodes) {\n          var i = nodes.length;\n          while (i--) {\n            var node = nodes[i];\n            node.type = 8;\n            node.name = '#comment';\n            node.value = '[CDATA[' + editor.dom.encode(node.value) + ']]';\n          }\n        });\n      }\n      parser.addNodeFilter('p,h1,h2,h3,h4,h5,h6,div', function (nodes) {\n        var i = nodes.length;\n        var nonEmptyElements = editor.schema.getNonEmptyElements();\n        while (i--) {\n          var node = nodes[i];\n          if (node.isEmpty(nonEmptyElements) && node.getAll('br').length === 0) {\n            node.append(new AstNode('br', 1)).shortEnded = true;\n          }\n        }\n      });\n      return parser;\n    };\n    var autoFocus = function (editor) {\n      if (editor.settings.auto_focus) {\n        Delay.setEditorTimeout(editor, function () {\n          var focusEditor;\n          if (editor.settings.auto_focus === true) {\n            focusEditor = editor;\n          } else {\n            focusEditor = editor.editorManager.get(editor.settings.auto_focus);\n          }\n          if (!focusEditor.destroyed) {\n            focusEditor.focus();\n          }\n        }, 100);\n      }\n    };\n    var moveSelectionToFirstCaretPosition = function (editor) {\n      var root = editor.dom.getRoot();\n      if (!editor.inline && (!hasAnyRanges(editor) || editor.selection.getStart(true) === root)) {\n        firstPositionIn(root).each(function (pos) {\n          var node = pos.getNode();\n          var caretPos = isTable$3(node) ? firstPositionIn(node).getOr(pos) : pos;\n          if (Env.browser.isIE()) {\n            storeNative(editor, caretPos.toRange());\n          } else {\n            editor.selection.setRng(caretPos.toRange());\n          }\n        });\n      }\n    };\n    var initEditor = function (editor) {\n      editor.bindPendingEventDelegates();\n      editor.initialized = true;\n      fireInit(editor);\n      editor.focus(true);\n      moveSelectionToFirstCaretPosition(editor);\n      editor.nodeChanged({ initial: true });\n      editor.execCallback('init_instance_callback', editor);\n      autoFocus(editor);\n    };\n    var getStyleSheetLoader$1 = function (editor) {\n      return editor.inline ? editor.ui.styleSheetLoader : editor.dom.styleSheetLoader;\n    };\n    var makeStylesheetLoadingPromises = function (editor, css, framedFonts) {\n      var promises = [new promiseObj(function (resolve, reject) {\n          return getStyleSheetLoader$1(editor).loadAll(css, resolve, reject);\n        })];\n      if (editor.inline) {\n        return promises;\n      } else {\n        return promises.concat([new promiseObj(function (resolve, reject) {\n            return editor.ui.styleSheetLoader.loadAll(framedFonts, resolve, reject);\n          })]);\n      }\n    };\n    var loadContentCss = function (editor) {\n      var styleSheetLoader = getStyleSheetLoader$1(editor);\n      var fontCss = getFontCss(editor);\n      var css = editor.contentCSS;\n      var removeCss = function () {\n        styleSheetLoader.unloadAll(css);\n        if (!editor.inline) {\n          editor.ui.styleSheetLoader.unloadAll(fontCss);\n        }\n      };\n      var loaded = function () {\n        if (editor.removed) {\n          removeCss();\n        } else {\n          editor.on('remove', removeCss);\n        }\n      };\n      if (editor.contentStyles.length > 0) {\n        var contentCssText_1 = '';\n        Tools.each(editor.contentStyles, function (style) {\n          contentCssText_1 += style + '\\r\\n';\n        });\n        editor.dom.addStyle(contentCssText_1);\n      }\n      var allStylesheets = promiseObj.all(makeStylesheetLoadingPromises(editor, css, fontCss)).then(loaded).catch(loaded);\n      if (editor.settings.content_style) {\n        appendStyle(editor, editor.settings.content_style);\n      }\n      return allStylesheets;\n    };\n    var preInit = function (editor) {\n      var settings = editor.settings, doc = editor.getDoc(), body = editor.getBody();\n      firePreInit(editor);\n      if (!settings.browser_spellcheck && !settings.gecko_spellcheck) {\n        doc.body.spellcheck = false;\n        DOM$6.setAttrib(body, 'spellcheck', 'false');\n      }\n      editor.quirks = Quirks(editor);\n      firePostRender(editor);\n      var directionality = getDirectionality(editor);\n      if (directionality !== undefined) {\n        body.dir = directionality;\n      }\n      if (settings.protect) {\n        editor.on('BeforeSetContent', function (e) {\n          Tools.each(settings.protect, function (pattern) {\n            e.content = e.content.replace(pattern, function (str) {\n              return '<!--mce:protected ' + escape(str) + '-->';\n            });\n          });\n        });\n      }\n      editor.on('SetContent', function () {\n        editor.addVisual(editor.getBody());\n      });\n      editor.on('compositionstart compositionend', function (e) {\n        editor.composing = e.type === 'compositionstart';\n      });\n    };\n    var loadInitialContent = function (editor) {\n      if (!isRtc(editor)) {\n        editor.load({\n          initial: true,\n          format: 'html'\n        });\n      }\n      editor.startContent = editor.getContent({ format: 'raw' });\n    };\n    var initEditorWithInitialContent = function (editor) {\n      if (editor.removed !== true) {\n        loadInitialContent(editor);\n        initEditor(editor);\n      }\n    };\n    var initContentBody = function (editor, skipWrite) {\n      var settings = editor.settings;\n      var targetElm = editor.getElement();\n      var doc = editor.getDoc();\n      if (!settings.inline) {\n        editor.getElement().style.visibility = editor.orgVisibility;\n      }\n      if (!skipWrite && !editor.inline) {\n        doc.open();\n        doc.write(editor.iframeHTML);\n        doc.close();\n      }\n      if (editor.inline) {\n        DOM$6.addClass(targetElm, 'mce-content-body');\n        editor.contentDocument = doc = document;\n        editor.contentWindow = window;\n        editor.bodyElement = targetElm;\n        editor.contentAreaContainer = targetElm;\n      }\n      var body = editor.getBody();\n      body.disabled = true;\n      editor.readonly = !!settings.readonly;\n      if (!editor.readonly) {\n        if (editor.inline && DOM$6.getStyle(body, 'position', true) === 'static') {\n          body.style.position = 'relative';\n        }\n        body.contentEditable = editor.getParam('content_editable_state', true);\n      }\n      body.disabled = false;\n      editor.editorUpload = EditorUpload(editor);\n      editor.schema = Schema(settings);\n      editor.dom = DOMUtils(doc, {\n        keep_values: true,\n        url_converter: editor.convertURL,\n        url_converter_scope: editor,\n        hex_colors: settings.force_hex_style_colors,\n        update_styles: true,\n        root_element: editor.inline ? editor.getBody() : null,\n        collect: function () {\n          return editor.inline;\n        },\n        schema: editor.schema,\n        contentCssCors: shouldUseContentCssCors(editor),\n        referrerPolicy: getReferrerPolicy(editor),\n        onSetAttrib: function (e) {\n          editor.fire('SetAttrib', e);\n        }\n      });\n      editor.parser = createParser(editor);\n      editor.serializer = DomSerializer(mkSerializerSettings(editor), editor);\n      editor.selection = EditorSelection(editor.dom, editor.getWin(), editor.serializer, editor);\n      editor.annotator = Annotator(editor);\n      editor.formatter = Formatter(editor);\n      editor.undoManager = UndoManager(editor);\n      editor._nodeChangeDispatcher = new NodeChange(editor);\n      editor._selectionOverrides = SelectionOverrides(editor);\n      setup$e(editor);\n      setup$3(editor);\n      if (!isRtc(editor)) {\n        setup$2(editor);\n      }\n      var caret = setup$4(editor);\n      setup$f(editor, caret);\n      setup$d(editor);\n      setup$g(editor);\n      var setupRtcThunk = setup$i(editor);\n      preInit(editor);\n      setupRtcThunk.fold(function () {\n        loadContentCss(editor).then(function () {\n          return initEditorWithInitialContent(editor);\n        });\n      }, function (setupRtc) {\n        editor.setProgressState(true);\n        loadContentCss(editor).then(function () {\n          setupRtc().then(function (_rtcMode) {\n            editor.setProgressState(false);\n            initEditorWithInitialContent(editor);\n          }, function (err) {\n            editor.notificationManager.open({\n              type: 'error',\n              text: String(err)\n            });\n            initEditorWithInitialContent(editor);\n          });\n        });\n      });\n    };\n\n    var DOM$5 = DOMUtils.DOM;\n    var relaxDomain = function (editor, ifr) {\n      if (document.domain !== window.location.hostname && Env.browser.isIE()) {\n        var bodyUuid = uuid('mce');\n        editor[bodyUuid] = function () {\n          initContentBody(editor);\n        };\n        var domainRelaxUrl = 'javascript:(function(){' + 'document.open();document.domain=\"' + document.domain + '\";' + 'var ed = window.parent.tinymce.get(\"' + editor.id + '\");document.write(ed.iframeHTML);' + 'document.close();ed.' + bodyUuid + '(true);})()';\n        DOM$5.setAttrib(ifr, 'src', domainRelaxUrl);\n        return true;\n      }\n      return false;\n    };\n    var createIframeElement = function (id, title, height, customAttrs) {\n      var iframe = SugarElement.fromTag('iframe');\n      setAll$1(iframe, customAttrs);\n      setAll$1(iframe, {\n        id: id + '_ifr',\n        frameBorder: '0',\n        allowTransparency: 'true',\n        title: title\n      });\n      add$1(iframe, 'tox-edit-area__iframe');\n      return iframe;\n    };\n    var getIframeHtml = function (editor) {\n      var iframeHTML = getDocType(editor) + '<html><head>';\n      if (getDocumentBaseUrl(editor) !== editor.documentBaseUrl) {\n        iframeHTML += '<base href=\"' + editor.documentBaseURI.getURI() + '\" />';\n      }\n      iframeHTML += '<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />';\n      var bodyId = getBodyId(editor);\n      var bodyClass = getBodyClass(editor);\n      var translatedAriaText = editor.translate(getIframeAriaText(editor));\n      if (getContentSecurityPolicy(editor)) {\n        iframeHTML += '<meta http-equiv=\"Content-Security-Policy\" content=\"' + getContentSecurityPolicy(editor) + '\" />';\n      }\n      iframeHTML += '</head>' + ('<body id=\"' + bodyId + '\" class=\"mce-content-body ' + bodyClass + '\" data-id=\"' + editor.id + '\" aria-label=\"' + translatedAriaText + '\">') + '<br>' + '</body></html>';\n      return iframeHTML;\n    };\n    var createIframe = function (editor, o) {\n      var iframeTitle = editor.translate('Rich Text Area');\n      var ifr = createIframeElement(editor.id, iframeTitle, o.height, getIframeAttrs(editor)).dom;\n      ifr.onload = function () {\n        ifr.onload = null;\n        editor.fire('load');\n      };\n      var isDomainRelaxed = relaxDomain(editor, ifr);\n      editor.contentAreaContainer = o.iframeContainer;\n      editor.iframeElement = ifr;\n      editor.iframeHTML = getIframeHtml(editor);\n      DOM$5.add(o.iframeContainer, ifr);\n      return isDomainRelaxed;\n    };\n    var init$1 = function (editor, boxInfo) {\n      var isDomainRelaxed = createIframe(editor, boxInfo);\n      if (boxInfo.editorContainer) {\n        DOM$5.get(boxInfo.editorContainer).style.display = editor.orgDisplay;\n        editor.hidden = DOM$5.isHidden(boxInfo.editorContainer);\n      }\n      editor.getElement().style.display = 'none';\n      DOM$5.setAttrib(editor.id, 'aria-hidden', 'true');\n      if (!isDomainRelaxed) {\n        initContentBody(editor);\n      }\n    };\n\n    var DOM$4 = DOMUtils.DOM;\n    var initPlugin = function (editor, initializedPlugins, plugin) {\n      var Plugin = PluginManager.get(plugin);\n      var pluginUrl = PluginManager.urls[plugin] || editor.documentBaseUrl.replace(/\\/$/, '');\n      plugin = Tools.trim(plugin);\n      if (Plugin && Tools.inArray(initializedPlugins, plugin) === -1) {\n        Tools.each(PluginManager.dependencies(plugin), function (dep) {\n          initPlugin(editor, initializedPlugins, dep);\n        });\n        if (editor.plugins[plugin]) {\n          return;\n        }\n        try {\n          var pluginInstance = new Plugin(editor, pluginUrl, editor.$);\n          editor.plugins[plugin] = pluginInstance;\n          if (pluginInstance.init) {\n            pluginInstance.init(editor, pluginUrl);\n            initializedPlugins.push(plugin);\n          }\n        } catch (e) {\n          pluginInitError(editor, plugin, e);\n        }\n      }\n    };\n    var trimLegacyPrefix = function (name) {\n      return name.replace(/^\\-/, '');\n    };\n    var initPlugins = function (editor) {\n      var initializedPlugins = [];\n      Tools.each(getPlugins(editor).split(/[ ,]/), function (name) {\n        initPlugin(editor, initializedPlugins, trimLegacyPrefix(name));\n      });\n    };\n    var initIcons = function (editor) {\n      var iconPackName = Tools.trim(getIconPackName(editor));\n      var currentIcons = editor.ui.registry.getAll().icons;\n      var loadIcons = __assign(__assign({}, IconManager.get('default').icons), IconManager.get(iconPackName).icons);\n      each$j(loadIcons, function (svgData, icon) {\n        if (!has$2(currentIcons, icon)) {\n          editor.ui.registry.addIcon(icon, svgData);\n        }\n      });\n    };\n    var initTheme = function (editor) {\n      var theme = getTheme(editor);\n      if (isString$1(theme)) {\n        editor.settings.theme = trimLegacyPrefix(theme);\n        var Theme = ThemeManager.get(theme);\n        editor.theme = new Theme(editor, ThemeManager.urls[theme]);\n        if (editor.theme.init) {\n          editor.theme.init(editor, ThemeManager.urls[theme] || editor.documentBaseUrl.replace(/\\/$/, ''), editor.$);\n        }\n      } else {\n        editor.theme = {};\n      }\n    };\n    var renderFromLoadedTheme = function (editor) {\n      return editor.theme.renderUI();\n    };\n    var renderFromThemeFunc = function (editor) {\n      var elm = editor.getElement();\n      var theme = getTheme(editor);\n      var info = theme(editor, elm);\n      if (info.editorContainer.nodeType) {\n        info.editorContainer.id = info.editorContainer.id || editor.id + '_parent';\n      }\n      if (info.iframeContainer && info.iframeContainer.nodeType) {\n        info.iframeContainer.id = info.iframeContainer.id || editor.id + '_iframecontainer';\n      }\n      info.height = info.iframeHeight ? info.iframeHeight : elm.offsetHeight;\n      return info;\n    };\n    var createThemeFalseResult = function (element) {\n      return {\n        editorContainer: element,\n        iframeContainer: element,\n        api: {}\n      };\n    };\n    var renderThemeFalseIframe = function (targetElement) {\n      var iframeContainer = DOM$4.create('div');\n      DOM$4.insertAfter(iframeContainer, targetElement);\n      return createThemeFalseResult(iframeContainer);\n    };\n    var renderThemeFalse = function (editor) {\n      var targetElement = editor.getElement();\n      return editor.inline ? createThemeFalseResult(null) : renderThemeFalseIframe(targetElement);\n    };\n    var renderThemeUi = function (editor) {\n      var elm = editor.getElement();\n      editor.orgDisplay = elm.style.display;\n      if (isString$1(getTheme(editor))) {\n        return renderFromLoadedTheme(editor);\n      } else if (isFunction(getTheme(editor))) {\n        return renderFromThemeFunc(editor);\n      } else {\n        return renderThemeFalse(editor);\n      }\n    };\n    var augmentEditorUiApi = function (editor, api) {\n      var uiApiFacade = {\n        show: Optional.from(api.show).getOr(noop),\n        hide: Optional.from(api.hide).getOr(noop),\n        disable: Optional.from(api.disable).getOr(noop),\n        isDisabled: Optional.from(api.isDisabled).getOr(never),\n        enable: function () {\n          if (!editor.mode.isReadOnly()) {\n            Optional.from(api.enable).map(call);\n          }\n        }\n      };\n      editor.ui = __assign(__assign({}, editor.ui), uiApiFacade);\n    };\n    var init = function (editor) {\n      editor.fire('ScriptsLoaded');\n      initIcons(editor);\n      initTheme(editor);\n      initPlugins(editor);\n      var renderInfo = renderThemeUi(editor);\n      augmentEditorUiApi(editor, Optional.from(renderInfo.api).getOr({}));\n      var boxInfo = {\n        editorContainer: renderInfo.editorContainer,\n        iframeContainer: renderInfo.iframeContainer\n      };\n      editor.editorContainer = boxInfo.editorContainer ? boxInfo.editorContainer : null;\n      appendContentCssFromSettings(editor);\n      if (editor.inline) {\n        return initContentBody(editor);\n      } else {\n        return init$1(editor, boxInfo);\n      }\n    };\n\n    var DOM$3 = DOMUtils.DOM;\n    var hasSkipLoadPrefix = function (name) {\n      return name.charAt(0) === '-';\n    };\n    var loadLanguage = function (scriptLoader, editor) {\n      var languageCode = getLanguageCode(editor);\n      var languageUrl = getLanguageUrl(editor);\n      if (I18n.hasCode(languageCode) === false && languageCode !== 'en') {\n        var url_1 = languageUrl !== '' ? languageUrl : editor.editorManager.baseURL + '/langs/' + languageCode + '.js';\n        scriptLoader.add(url_1, noop, undefined, function () {\n          languageLoadError(editor, url_1, languageCode);\n        });\n      }\n    };\n    var loadTheme = function (scriptLoader, editor, suffix, callback) {\n      var theme = getTheme(editor);\n      if (isString$1(theme)) {\n        if (!hasSkipLoadPrefix(theme) && !has$2(ThemeManager.urls, theme)) {\n          var themeUrl = getThemeUrl(editor);\n          if (themeUrl) {\n            ThemeManager.load(theme, editor.documentBaseURI.toAbsolute(themeUrl));\n          } else {\n            ThemeManager.load(theme, 'themes/' + theme + '/theme' + suffix + '.js');\n          }\n        }\n        scriptLoader.loadQueue(function () {\n          ThemeManager.waitFor(theme, callback);\n        });\n      } else {\n        callback();\n      }\n    };\n    var getIconsUrlMetaFromUrl = function (editor) {\n      return Optional.from(getIconsUrl(editor)).filter(function (url) {\n        return url.length > 0;\n      }).map(function (url) {\n        return {\n          url: url,\n          name: Optional.none()\n        };\n      });\n    };\n    var getIconsUrlMetaFromName = function (editor, name, suffix) {\n      return Optional.from(name).filter(function (name) {\n        return name.length > 0 && !IconManager.has(name);\n      }).map(function (name) {\n        return {\n          url: editor.editorManager.baseURL + '/icons/' + name + '/icons' + suffix + '.js',\n          name: Optional.some(name)\n        };\n      });\n    };\n    var loadIcons = function (scriptLoader, editor, suffix) {\n      var defaultIconsUrl = getIconsUrlMetaFromName(editor, 'default', suffix);\n      var customIconsUrl = getIconsUrlMetaFromUrl(editor).orThunk(function () {\n        return getIconsUrlMetaFromName(editor, getIconPackName(editor), '');\n      });\n      each$k(cat([\n        defaultIconsUrl,\n        customIconsUrl\n      ]), function (urlMeta) {\n        scriptLoader.add(urlMeta.url, noop, undefined, function () {\n          iconsLoadError(editor, urlMeta.url, urlMeta.name.getOrUndefined());\n        });\n      });\n    };\n    var loadPlugins = function (editor, suffix) {\n      Tools.each(getExternalPlugins$1(editor), function (url, name) {\n        PluginManager.load(name, url, noop, undefined, function () {\n          pluginLoadError(editor, url, name);\n        });\n        editor.settings.plugins += ' ' + name;\n      });\n      Tools.each(getPlugins(editor).split(/[ ,]/), function (plugin) {\n        plugin = Tools.trim(plugin);\n        if (plugin && !PluginManager.urls[plugin]) {\n          if (hasSkipLoadPrefix(plugin)) {\n            plugin = plugin.substr(1, plugin.length);\n            var dependencies = PluginManager.dependencies(plugin);\n            Tools.each(dependencies, function (depPlugin) {\n              var defaultSettings = {\n                prefix: 'plugins/',\n                resource: depPlugin,\n                suffix: '/plugin' + suffix + '.js'\n              };\n              var dep = PluginManager.createUrl(defaultSettings, depPlugin);\n              PluginManager.load(dep.resource, dep, noop, undefined, function () {\n                pluginLoadError(editor, dep.prefix + dep.resource + dep.suffix, dep.resource);\n              });\n            });\n          } else {\n            var url_2 = {\n              prefix: 'plugins/',\n              resource: plugin,\n              suffix: '/plugin' + suffix + '.js'\n            };\n            PluginManager.load(plugin, url_2, noop, undefined, function () {\n              pluginLoadError(editor, url_2.prefix + url_2.resource + url_2.suffix, plugin);\n            });\n          }\n        }\n      });\n    };\n    var loadScripts = function (editor, suffix) {\n      var scriptLoader = ScriptLoader.ScriptLoader;\n      loadTheme(scriptLoader, editor, suffix, function () {\n        loadLanguage(scriptLoader, editor);\n        loadIcons(scriptLoader, editor, suffix);\n        loadPlugins(editor, suffix);\n        scriptLoader.loadQueue(function () {\n          if (!editor.removed) {\n            init(editor);\n          }\n        }, editor, function () {\n          if (!editor.removed) {\n            init(editor);\n          }\n        });\n      });\n    };\n    var getStyleSheetLoader = function (element, editor) {\n      return instance.forElement(element, {\n        contentCssCors: hasContentCssCors(editor),\n        referrerPolicy: getReferrerPolicy(editor)\n      });\n    };\n    var render = function (editor) {\n      var id = editor.id;\n      I18n.setCode(getLanguageCode(editor));\n      var readyHandler = function () {\n        DOM$3.unbind(window, 'ready', readyHandler);\n        editor.render();\n      };\n      if (!EventUtils.Event.domLoaded) {\n        DOM$3.bind(window, 'ready', readyHandler);\n        return;\n      }\n      if (!editor.getElement()) {\n        return;\n      }\n      if (!Env.contentEditable) {\n        return;\n      }\n      var element = SugarElement.fromDom(editor.getElement());\n      var snapshot = clone$3(element);\n      editor.on('remove', function () {\n        eachr(element.dom.attributes, function (attr) {\n          return remove$6(element, attr.name);\n        });\n        setAll$1(element, snapshot);\n      });\n      editor.ui.styleSheetLoader = getStyleSheetLoader(element, editor);\n      if (!isInline(editor)) {\n        editor.orgVisibility = editor.getElement().style.visibility;\n        editor.getElement().style.visibility = 'hidden';\n      } else {\n        editor.inline = true;\n      }\n      var form = editor.getElement().form || DOM$3.getParent(id, 'form');\n      if (form) {\n        editor.formElement = form;\n        if (hasHiddenInput(editor) && !isTextareaOrInput(editor.getElement())) {\n          DOM$3.insertAfter(DOM$3.create('input', {\n            type: 'hidden',\n            name: id\n          }), id);\n          editor.hasHiddenInput = true;\n        }\n        editor.formEventDelegate = function (e) {\n          editor.fire(e.type, e);\n        };\n        DOM$3.bind(form, 'submit reset', editor.formEventDelegate);\n        editor.on('reset', function () {\n          editor.resetContent();\n        });\n        if (shouldPatchSubmit(editor) && !form.submit.nodeType && !form.submit.length && !form._mceOldSubmit) {\n          form._mceOldSubmit = form.submit;\n          form.submit = function () {\n            editor.editorManager.triggerSave();\n            editor.setDirty(false);\n            return form._mceOldSubmit(form);\n          };\n        }\n      }\n      editor.windowManager = WindowManager(editor);\n      editor.notificationManager = NotificationManager(editor);\n      if (isEncodingXml(editor)) {\n        editor.on('GetContent', function (e) {\n          if (e.save) {\n            e.content = DOM$3.encode(e.content);\n          }\n        });\n      }\n      if (shouldAddFormSubmitTrigger(editor)) {\n        editor.on('submit', function () {\n          if (editor.initialized) {\n            editor.save();\n          }\n        });\n      }\n      if (shouldAddUnloadTrigger(editor)) {\n        editor._beforeUnload = function () {\n          if (editor.initialized && !editor.destroyed && !editor.isHidden()) {\n            editor.save({\n              format: 'raw',\n              no_events: true,\n              set_dirty: false\n            });\n          }\n        };\n        editor.editorManager.on('BeforeUnload', editor._beforeUnload);\n      }\n      editor.editorManager.add(editor);\n      loadScripts(editor, editor.suffix);\n    };\n\n    var addVisual = function (editor, elm) {\n      return addVisual$1(editor, elm);\n    };\n\n    var legacyPropNames = {\n      'font-size': 'size',\n      'font-family': 'face'\n    };\n    var getSpecifiedFontProp = function (propName, rootElm, elm) {\n      var getProperty = function (elm) {\n        return getRaw(elm, propName).orThunk(function () {\n          if (name(elm) === 'font') {\n            return get$9(legacyPropNames, propName).bind(function (legacyPropName) {\n              return getOpt(elm, legacyPropName);\n            });\n          } else {\n            return Optional.none();\n          }\n        });\n      };\n      var isRoot = function (elm) {\n        return eq(SugarElement.fromDom(rootElm), elm);\n      };\n      return closest$1(SugarElement.fromDom(elm), function (elm) {\n        return getProperty(elm);\n      }, isRoot);\n    };\n    var normalizeFontFamily = function (fontFamily) {\n      return fontFamily.replace(/[\\'\\\"\\\\]/g, '').replace(/,\\s+/g, ',');\n    };\n    var getComputedFontProp = function (propName, elm) {\n      return Optional.from(DOMUtils.DOM.getStyle(elm, propName, true));\n    };\n    var getFontProp = function (propName) {\n      return function (rootElm, elm) {\n        return Optional.from(elm).map(SugarElement.fromDom).filter(isElement$6).bind(function (element) {\n          return getSpecifiedFontProp(propName, rootElm, element.dom).or(getComputedFontProp(propName, element.dom));\n        }).getOr('');\n      };\n    };\n    var getFontSize = getFontProp('font-size');\n    var getFontFamily = compose(normalizeFontFamily, getFontProp('font-family'));\n\n    var findFirstCaretElement = function (editor) {\n      return firstPositionIn(editor.getBody()).map(function (caret) {\n        var container = caret.container();\n        return isText$7(container) ? container.parentNode : container;\n      });\n    };\n    var getCaretElement = function (editor) {\n      return Optional.from(editor.selection.getRng()).bind(function (rng) {\n        var root = editor.getBody();\n        var atStartOfNode = rng.startContainer === root && rng.startOffset === 0;\n        return atStartOfNode ? Optional.none() : Optional.from(editor.selection.getStart(true));\n      });\n    };\n    var bindRange = function (editor, binder) {\n      return getCaretElement(editor).orThunk(curry(findFirstCaretElement, editor)).map(SugarElement.fromDom).filter(isElement$6).bind(binder);\n    };\n    var mapRange = function (editor, mapper) {\n      return bindRange(editor, compose1(Optional.some, mapper));\n    };\n\n    var fromFontSizeNumber = function (editor, value) {\n      if (/^[0-9.]+$/.test(value)) {\n        var fontSizeNumber = parseInt(value, 10);\n        if (fontSizeNumber >= 1 && fontSizeNumber <= 7) {\n          var fontSizes = getFontStyleValues(editor);\n          var fontClasses = getFontSizeClasses(editor);\n          if (fontClasses) {\n            return fontClasses[fontSizeNumber - 1] || value;\n          } else {\n            return fontSizes[fontSizeNumber - 1] || value;\n          }\n        } else {\n          return value;\n        }\n      } else {\n        return value;\n      }\n    };\n    var normalizeFontNames = function (font) {\n      var fonts = font.split(/\\s*,\\s*/);\n      return map$3(fonts, function (font) {\n        if (font.indexOf(' ') !== -1 && !(startsWith(font, '\"') || startsWith(font, '\\''))) {\n          return '\\'' + font + '\\'';\n        } else {\n          return font;\n        }\n      }).join(',');\n    };\n    var fontNameAction = function (editor, value) {\n      var font = fromFontSizeNumber(editor, value);\n      editor.formatter.toggle('fontname', { value: normalizeFontNames(font) });\n      editor.nodeChanged();\n    };\n    var fontNameQuery = function (editor) {\n      return mapRange(editor, function (elm) {\n        return getFontFamily(editor.getBody(), elm.dom);\n      }).getOr('');\n    };\n    var fontSizeAction = function (editor, value) {\n      editor.formatter.toggle('fontsize', { value: fromFontSizeNumber(editor, value) });\n      editor.nodeChanged();\n    };\n    var fontSizeQuery = function (editor) {\n      return mapRange(editor, function (elm) {\n        return getFontSize(editor.getBody(), elm.dom);\n      }).getOr('');\n    };\n\n    var lineHeightQuery = function (editor) {\n      return mapRange(editor, function (elm) {\n        var root = SugarElement.fromDom(editor.getBody());\n        var specifiedStyle = closest$1(elm, function (elm) {\n          return getRaw(elm, 'line-height');\n        }, curry(eq, root));\n        var computedStyle = function () {\n          var lineHeight = parseFloat(get$5(elm, 'line-height'));\n          var fontSize = parseFloat(get$5(elm, 'font-size'));\n          return String(lineHeight / fontSize);\n        };\n        return specifiedStyle.getOrThunk(computedStyle);\n      }).getOr('');\n    };\n    var lineHeightAction = function (editor, lineHeight) {\n      editor.formatter.toggle('lineheight', { value: String(lineHeight) });\n      editor.nodeChanged();\n    };\n\n    var processValue = function (value) {\n      if (typeof value !== 'string') {\n        var details = Tools.extend({\n          paste: value.paste,\n          data: { paste: value.paste }\n        }, value);\n        return {\n          content: value.content,\n          details: details\n        };\n      }\n      return {\n        content: value,\n        details: {}\n      };\n    };\n    var insertAtCaret = function (editor, value) {\n      var result = processValue(value);\n      insertContent(editor, result.content, result.details);\n    };\n\n    var each$4 = Tools.each;\n    var map = Tools.map, inArray = Tools.inArray;\n    var EditorCommands = function () {\n      function EditorCommands(editor) {\n        this.commands = {\n          state: {},\n          exec: {},\n          value: {}\n        };\n        this.editor = editor;\n        this.setupCommands(editor);\n      }\n      EditorCommands.prototype.execCommand = function (command, ui, value, args) {\n        var func, state = false;\n        var self = this;\n        if (self.editor.removed) {\n          return;\n        }\n        if (command.toLowerCase() !== 'mcefocus') {\n          if (!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(command) && (!args || !args.skip_focus)) {\n            self.editor.focus();\n          } else {\n            restore(self.editor);\n          }\n        }\n        args = self.editor.fire('BeforeExecCommand', {\n          command: command,\n          ui: ui,\n          value: value\n        });\n        if (args.isDefaultPrevented()) {\n          return false;\n        }\n        var customCommand = command.toLowerCase();\n        if (func = self.commands.exec[customCommand]) {\n          func(customCommand, ui, value);\n          self.editor.fire('ExecCommand', {\n            command: command,\n            ui: ui,\n            value: value\n          });\n          return true;\n        }\n        each$4(this.editor.plugins, function (p) {\n          if (p.execCommand && p.execCommand(command, ui, value)) {\n            self.editor.fire('ExecCommand', {\n              command: command,\n              ui: ui,\n              value: value\n            });\n            state = true;\n            return false;\n          }\n        });\n        if (state) {\n          return state;\n        }\n        if (self.editor.theme && self.editor.theme.execCommand && self.editor.theme.execCommand(command, ui, value)) {\n          self.editor.fire('ExecCommand', {\n            command: command,\n            ui: ui,\n            value: value\n          });\n          return true;\n        }\n        try {\n          state = self.editor.getDoc().execCommand(command, ui, value);\n        } catch (ex) {\n        }\n        if (state) {\n          self.editor.fire('ExecCommand', {\n            command: command,\n            ui: ui,\n            value: value\n          });\n          return true;\n        }\n        return false;\n      };\n      EditorCommands.prototype.queryCommandState = function (command) {\n        var func;\n        if (this.editor.quirks.isHidden() || this.editor.removed) {\n          return;\n        }\n        command = command.toLowerCase();\n        if (func = this.commands.state[command]) {\n          return func(command);\n        }\n        try {\n          return this.editor.getDoc().queryCommandState(command);\n        } catch (ex) {\n        }\n        return false;\n      };\n      EditorCommands.prototype.queryCommandValue = function (command) {\n        var func;\n        if (this.editor.quirks.isHidden() || this.editor.removed) {\n          return;\n        }\n        command = command.toLowerCase();\n        if (func = this.commands.value[command]) {\n          return func(command);\n        }\n        try {\n          return this.editor.getDoc().queryCommandValue(command);\n        } catch (ex) {\n        }\n      };\n      EditorCommands.prototype.addCommands = function (commandList, type) {\n        if (type === void 0) {\n          type = 'exec';\n        }\n        var self = this;\n        each$4(commandList, function (callback, command) {\n          each$4(command.toLowerCase().split(','), function (command) {\n            self.commands[type][command] = callback;\n          });\n        });\n      };\n      EditorCommands.prototype.addCommand = function (command, callback, scope) {\n        var _this = this;\n        command = command.toLowerCase();\n        this.commands.exec[command] = function (command, ui, value, args) {\n          return callback.call(scope || _this.editor, ui, value, args);\n        };\n      };\n      EditorCommands.prototype.queryCommandSupported = function (command) {\n        command = command.toLowerCase();\n        if (this.commands.exec[command]) {\n          return true;\n        }\n        try {\n          return this.editor.getDoc().queryCommandSupported(command);\n        } catch (ex) {\n        }\n        return false;\n      };\n      EditorCommands.prototype.addQueryStateHandler = function (command, callback, scope) {\n        var _this = this;\n        command = command.toLowerCase();\n        this.commands.state[command] = function () {\n          return callback.call(scope || _this.editor);\n        };\n      };\n      EditorCommands.prototype.addQueryValueHandler = function (command, callback, scope) {\n        var _this = this;\n        command = command.toLowerCase();\n        this.commands.value[command] = function () {\n          return callback.call(scope || _this.editor);\n        };\n      };\n      EditorCommands.prototype.hasCustomCommand = function (command) {\n        command = command.toLowerCase();\n        return !!this.commands.exec[command];\n      };\n      EditorCommands.prototype.execNativeCommand = function (command, ui, value) {\n        if (ui === undefined) {\n          ui = false;\n        }\n        if (value === undefined) {\n          value = null;\n        }\n        return this.editor.getDoc().execCommand(command, ui, value);\n      };\n      EditorCommands.prototype.isFormatMatch = function (name) {\n        return this.editor.formatter.match(name);\n      };\n      EditorCommands.prototype.toggleFormat = function (name, value) {\n        this.editor.formatter.toggle(name, value);\n        this.editor.nodeChanged();\n      };\n      EditorCommands.prototype.storeSelection = function (type) {\n        this.selectionBookmark = this.editor.selection.getBookmark(type);\n      };\n      EditorCommands.prototype.restoreSelection = function () {\n        this.editor.selection.moveToBookmark(this.selectionBookmark);\n      };\n      EditorCommands.prototype.setupCommands = function (editor) {\n        var self = this;\n        this.addCommands({\n          'mceResetDesignMode,mceBeginUndoLevel': noop,\n          'mceEndUndoLevel,mceAddUndoLevel': function () {\n            editor.undoManager.add();\n          },\n          'mceFocus': function (_command, _ui, value) {\n            focus(editor, value);\n          },\n          'Cut,Copy,Paste': function (command) {\n            var doc = editor.getDoc();\n            var failed;\n            try {\n              self.execNativeCommand(command);\n            } catch (ex) {\n              failed = true;\n            }\n            if (command === 'paste' && !doc.queryCommandEnabled(command)) {\n              failed = true;\n            }\n            if (failed || !doc.queryCommandSupported(command)) {\n              var msg = editor.translate('Your browser doesn\\'t support direct access to the clipboard. ' + 'Please use the Ctrl+X/C/V keyboard shortcuts instead.');\n              if (Env.mac) {\n                msg = msg.replace(/Ctrl\\+/g, '\\u2318+');\n              }\n              editor.notificationManager.open({\n                text: msg,\n                type: 'error'\n              });\n            }\n          },\n          'unlink': function () {\n            if (editor.selection.isCollapsed()) {\n              var elm = editor.dom.getParent(editor.selection.getStart(), 'a');\n              if (elm) {\n                editor.dom.remove(elm, true);\n              }\n              return;\n            }\n            editor.formatter.remove('link');\n          },\n          'JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone': function (command) {\n            var align = command.substring(7);\n            if (align === 'full') {\n              align = 'justify';\n            }\n            each$4('left,center,right,justify'.split(','), function (name) {\n              if (align !== name) {\n                editor.formatter.remove('align' + name);\n              }\n            });\n            if (align !== 'none') {\n              self.toggleFormat('align' + align);\n            }\n          },\n          'InsertUnorderedList,InsertOrderedList': function (command) {\n            var listParent;\n            self.execNativeCommand(command);\n            var listElm = editor.dom.getParent(editor.selection.getNode(), 'ol,ul');\n            if (listElm) {\n              listParent = listElm.parentNode;\n              if (/^(H[1-6]|P|ADDRESS|PRE)$/.test(listParent.nodeName)) {\n                self.storeSelection();\n                editor.dom.split(listParent, listElm);\n                self.restoreSelection();\n              }\n            }\n          },\n          'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': function (command) {\n            self.toggleFormat(command);\n          },\n          'ForeColor,HiliteColor': function (command, ui, value) {\n            self.toggleFormat(command, { value: value });\n          },\n          'FontName': function (command, ui, value) {\n            fontNameAction(editor, value);\n          },\n          'FontSize': function (command, ui, value) {\n            fontSizeAction(editor, value);\n          },\n          'LineHeight': function (command, ui, value) {\n            lineHeightAction(editor, value);\n          },\n          'Lang': function (command, ui, lang) {\n            self.toggleFormat(command, {\n              value: lang.code,\n              customValue: lang.customCode\n            });\n          },\n          'RemoveFormat': function (command) {\n            editor.formatter.remove(command);\n          },\n          'mceBlockQuote': function () {\n            self.toggleFormat('blockquote');\n          },\n          'FormatBlock': function (command, ui, value) {\n            return self.toggleFormat(value || 'p');\n          },\n          'mceCleanup': function () {\n            var bookmark = editor.selection.getBookmark();\n            editor.setContent(editor.getContent());\n            editor.selection.moveToBookmark(bookmark);\n          },\n          'mceRemoveNode': function (command, ui, value) {\n            var node = value || editor.selection.getNode();\n            if (node !== editor.getBody()) {\n              self.storeSelection();\n              editor.dom.remove(node, true);\n              self.restoreSelection();\n            }\n          },\n          'mceSelectNodeDepth': function (command, ui, value) {\n            var counter = 0;\n            editor.dom.getParent(editor.selection.getNode(), function (node) {\n              if (node.nodeType === 1 && counter++ === value) {\n                editor.selection.select(node);\n                return false;\n              }\n            }, editor.getBody());\n          },\n          'mceSelectNode': function (command, ui, value) {\n            editor.selection.select(value);\n          },\n          'mceInsertContent': function (command, ui, value) {\n            insertAtCaret(editor, value);\n          },\n          'mceInsertRawHTML': function (command, ui, value) {\n            editor.selection.setContent('tiny_mce_marker');\n            var content = editor.getContent();\n            editor.setContent(content.replace(/tiny_mce_marker/g, function () {\n              return value;\n            }));\n          },\n          'mceInsertNewLine': function (command, ui, value) {\n            insert(editor, value);\n          },\n          'mceToggleFormat': function (command, ui, value) {\n            self.toggleFormat(value);\n          },\n          'mceSetContent': function (command, ui, value) {\n            editor.setContent(value);\n          },\n          'Indent,Outdent': function (command) {\n            handle(editor, command);\n          },\n          'mceRepaint': noop,\n          'InsertHorizontalRule': function () {\n            editor.execCommand('mceInsertContent', false, '<hr />');\n          },\n          'mceToggleVisualAid': function () {\n            editor.hasVisual = !editor.hasVisual;\n            editor.addVisual();\n          },\n          'mceReplaceContent': function (command, ui, value) {\n            editor.execCommand('mceInsertContent', false, value.replace(/\\{\\$selection\\}/g, editor.selection.getContent({ format: 'text' })));\n          },\n          'mceInsertLink': function (command, ui, value) {\n            if (typeof value === 'string') {\n              value = { href: value };\n            }\n            var anchor = editor.dom.getParent(editor.selection.getNode(), 'a');\n            value.href = value.href.replace(/ /g, '%20');\n            if (!anchor || !value.href) {\n              editor.formatter.remove('link');\n            }\n            if (value.href) {\n              editor.formatter.apply('link', value, anchor);\n            }\n          },\n          'selectAll': function () {\n            var editingHost = editor.dom.getParent(editor.selection.getStart(), isContentEditableTrue$4);\n            if (editingHost) {\n              var rng = editor.dom.createRng();\n              rng.selectNodeContents(editingHost);\n              editor.selection.setRng(rng);\n            }\n          },\n          'mceNewDocument': function () {\n            editor.setContent('');\n          },\n          'InsertLineBreak': function (command, ui, value) {\n            insert$1(editor, value);\n            return true;\n          }\n        });\n        var alignStates = function (name) {\n          return function () {\n            var selection = editor.selection;\n            var nodes = selection.isCollapsed() ? [editor.dom.getParent(selection.getNode(), editor.dom.isBlock)] : selection.getSelectedBlocks();\n            var matches = map(nodes, function (node) {\n              return !!editor.formatter.matchNode(node, name);\n            });\n            return inArray(matches, true) !== -1;\n          };\n        };\n        self.addCommands({\n          'JustifyLeft': alignStates('alignleft'),\n          'JustifyCenter': alignStates('aligncenter'),\n          'JustifyRight': alignStates('alignright'),\n          'JustifyFull': alignStates('alignjustify'),\n          'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': function (command) {\n            return self.isFormatMatch(command);\n          },\n          'mceBlockQuote': function () {\n            return self.isFormatMatch('blockquote');\n          },\n          'Outdent': function () {\n            return canOutdent(editor);\n          },\n          'InsertUnorderedList,InsertOrderedList': function (command) {\n            var list = editor.dom.getParent(editor.selection.getNode(), 'ul,ol');\n            return list && (command === 'insertunorderedlist' && list.tagName === 'UL' || command === 'insertorderedlist' && list.tagName === 'OL');\n          }\n        }, 'state');\n        self.addCommands({\n          Undo: function () {\n            editor.undoManager.undo();\n          },\n          Redo: function () {\n            editor.undoManager.redo();\n          }\n        });\n        self.addQueryValueHandler('FontName', function () {\n          return fontNameQuery(editor);\n        }, this);\n        self.addQueryValueHandler('FontSize', function () {\n          return fontSizeQuery(editor);\n        }, this);\n        self.addQueryValueHandler('LineHeight', function () {\n          return lineHeightQuery(editor);\n        }, this);\n      };\n      return EditorCommands;\n    }();\n\n    var internalContentEditableAttr = 'data-mce-contenteditable';\n    var toggleClass = function (elm, cls, state) {\n      if (has(elm, cls) && state === false) {\n        remove$3(elm, cls);\n      } else if (state) {\n        add$1(elm, cls);\n      }\n    };\n    var setEditorCommandState = function (editor, cmd, state) {\n      try {\n        editor.getDoc().execCommand(cmd, false, String(state));\n      } catch (ex) {\n      }\n    };\n    var setContentEditable = function (elm, state) {\n      elm.dom.contentEditable = state ? 'true' : 'false';\n    };\n    var switchOffContentEditableTrue = function (elm) {\n      each$k(descendants(elm, '*[contenteditable=\"true\"]'), function (elm) {\n        set$1(elm, internalContentEditableAttr, 'true');\n        setContentEditable(elm, false);\n      });\n    };\n    var switchOnContentEditableTrue = function (elm) {\n      each$k(descendants(elm, '*[' + internalContentEditableAttr + '=\"true\"]'), function (elm) {\n        remove$6(elm, internalContentEditableAttr);\n        setContentEditable(elm, true);\n      });\n    };\n    var removeFakeSelection = function (editor) {\n      Optional.from(editor.selection.getNode()).each(function (elm) {\n        elm.removeAttribute('data-mce-selected');\n      });\n    };\n    var restoreFakeSelection = function (editor) {\n      editor.selection.setRng(editor.selection.getRng());\n    };\n    var toggleReadOnly = function (editor, state) {\n      var body = SugarElement.fromDom(editor.getBody());\n      toggleClass(body, 'mce-content-readonly', state);\n      if (state) {\n        editor.selection.controlSelection.hideResizeRect();\n        editor._selectionOverrides.hideFakeCaret();\n        removeFakeSelection(editor);\n        editor.readonly = true;\n        setContentEditable(body, false);\n        switchOffContentEditableTrue(body);\n      } else {\n        editor.readonly = false;\n        setContentEditable(body, true);\n        switchOnContentEditableTrue(body);\n        setEditorCommandState(editor, 'StyleWithCSS', false);\n        setEditorCommandState(editor, 'enableInlineTableEditing', false);\n        setEditorCommandState(editor, 'enableObjectResizing', false);\n        if (hasEditorOrUiFocus(editor)) {\n          editor.focus();\n        }\n        restoreFakeSelection(editor);\n        editor.nodeChanged();\n      }\n    };\n    var isReadOnly = function (editor) {\n      return editor.readonly;\n    };\n    var registerFilters = function (editor) {\n      editor.parser.addAttributeFilter('contenteditable', function (nodes) {\n        if (isReadOnly(editor)) {\n          each$k(nodes, function (node) {\n            node.attr(internalContentEditableAttr, node.attr('contenteditable'));\n            node.attr('contenteditable', 'false');\n          });\n        }\n      });\n      editor.serializer.addAttributeFilter(internalContentEditableAttr, function (nodes) {\n        if (isReadOnly(editor)) {\n          each$k(nodes, function (node) {\n            node.attr('contenteditable', node.attr(internalContentEditableAttr));\n          });\n        }\n      });\n      editor.serializer.addTempAttr(internalContentEditableAttr);\n    };\n    var registerReadOnlyContentFilters = function (editor) {\n      if (editor.serializer) {\n        registerFilters(editor);\n      } else {\n        editor.on('PreInit', function () {\n          registerFilters(editor);\n        });\n      }\n    };\n    var isClickEvent = function (e) {\n      return e.type === 'click';\n    };\n    var getAnchorHrefOpt = function (editor, elm) {\n      var isRoot = function (elm) {\n        return eq(elm, SugarElement.fromDom(editor.getBody()));\n      };\n      return closest$2(elm, 'a', isRoot).bind(function (a) {\n        return getOpt(a, 'href');\n      });\n    };\n    var processReadonlyEvents = function (editor, e) {\n      if (isClickEvent(e) && !VK.metaKeyPressed(e)) {\n        var elm = SugarElement.fromDom(e.target);\n        getAnchorHrefOpt(editor, elm).each(function (href) {\n          e.preventDefault();\n          if (/^#/.test(href)) {\n            var targetEl = editor.dom.select(href + ',[name=\"' + removeLeading(href, '#') + '\"]');\n            if (targetEl.length) {\n              editor.selection.scrollIntoView(targetEl[0], true);\n            }\n          } else {\n            window.open(href, '_blank', 'rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes');\n          }\n        });\n      }\n    };\n    var registerReadOnlySelectionBlockers = function (editor) {\n      editor.on('ShowCaret', function (e) {\n        if (isReadOnly(editor)) {\n          e.preventDefault();\n        }\n      });\n      editor.on('ObjectSelected', function (e) {\n        if (isReadOnly(editor)) {\n          e.preventDefault();\n        }\n      });\n    };\n\n    var nativeEvents = Tools.makeMap('focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange ' + 'mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover ' + 'draggesture dragdrop drop drag submit ' + 'compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel', ' ');\n    var EventDispatcher = function () {\n      function EventDispatcher(settings) {\n        this.bindings = {};\n        this.settings = settings || {};\n        this.scope = this.settings.scope || this;\n        this.toggleEvent = this.settings.toggleEvent || never;\n      }\n      EventDispatcher.isNative = function (name) {\n        return !!nativeEvents[name.toLowerCase()];\n      };\n      EventDispatcher.prototype.fire = function (name, args) {\n        var lcName = name.toLowerCase();\n        var event = normalize$3(lcName, args || {}, this.scope);\n        if (this.settings.beforeFire) {\n          this.settings.beforeFire(event);\n        }\n        var handlers = this.bindings[lcName];\n        if (handlers) {\n          for (var i = 0, l = handlers.length; i < l; i++) {\n            var callback = handlers[i];\n            if (callback.removed) {\n              continue;\n            }\n            if (callback.once) {\n              this.off(lcName, callback.func);\n            }\n            if (event.isImmediatePropagationStopped()) {\n              return event;\n            }\n            if (callback.func.call(this.scope, event) === false) {\n              event.preventDefault();\n              return event;\n            }\n          }\n        }\n        return event;\n      };\n      EventDispatcher.prototype.on = function (name, callback, prepend, extra) {\n        if (callback === false) {\n          callback = never;\n        }\n        if (callback) {\n          var wrappedCallback = {\n            func: callback,\n            removed: false\n          };\n          if (extra) {\n            Tools.extend(wrappedCallback, extra);\n          }\n          var names = name.toLowerCase().split(' ');\n          var i = names.length;\n          while (i--) {\n            var currentName = names[i];\n            var handlers = this.bindings[currentName];\n            if (!handlers) {\n              handlers = [];\n              this.toggleEvent(currentName, true);\n            }\n            if (prepend) {\n              handlers = __spreadArray([wrappedCallback], handlers, true);\n            } else {\n              handlers = __spreadArray(__spreadArray([], handlers, true), [wrappedCallback], false);\n            }\n            this.bindings[currentName] = handlers;\n          }\n        }\n        return this;\n      };\n      EventDispatcher.prototype.off = function (name, callback) {\n        var _this = this;\n        if (name) {\n          var names = name.toLowerCase().split(' ');\n          var i = names.length;\n          while (i--) {\n            var currentName = names[i];\n            var handlers = this.bindings[currentName];\n            if (!currentName) {\n              each$j(this.bindings, function (_value, bindingName) {\n                _this.toggleEvent(bindingName, false);\n                delete _this.bindings[bindingName];\n              });\n              return this;\n            }\n            if (handlers) {\n              if (!callback) {\n                handlers.length = 0;\n              } else {\n                var filteredHandlers = partition(handlers, function (handler) {\n                  return handler.func === callback;\n                });\n                handlers = filteredHandlers.fail;\n                this.bindings[currentName] = handlers;\n                each$k(filteredHandlers.pass, function (handler) {\n                  handler.removed = true;\n                });\n              }\n              if (!handlers.length) {\n                this.toggleEvent(name, false);\n                delete this.bindings[currentName];\n              }\n            }\n          }\n        } else {\n          each$j(this.bindings, function (_value, name) {\n            _this.toggleEvent(name, false);\n          });\n          this.bindings = {};\n        }\n        return this;\n      };\n      EventDispatcher.prototype.once = function (name, callback, prepend) {\n        return this.on(name, callback, prepend, { once: true });\n      };\n      EventDispatcher.prototype.has = function (name) {\n        name = name.toLowerCase();\n        return !(!this.bindings[name] || this.bindings[name].length === 0);\n      };\n      return EventDispatcher;\n    }();\n\n    var getEventDispatcher = function (obj) {\n      if (!obj._eventDispatcher) {\n        obj._eventDispatcher = new EventDispatcher({\n          scope: obj,\n          toggleEvent: function (name, state) {\n            if (EventDispatcher.isNative(name) && obj.toggleNativeEvent) {\n              obj.toggleNativeEvent(name, state);\n            }\n          }\n        });\n      }\n      return obj._eventDispatcher;\n    };\n    var Observable = {\n      fire: function (name, args, bubble) {\n        var self = this;\n        if (self.removed && name !== 'remove' && name !== 'detach') {\n          return args;\n        }\n        var dispatcherArgs = getEventDispatcher(self).fire(name, args);\n        if (bubble !== false && self.parent) {\n          var parent_1 = self.parent();\n          while (parent_1 && !dispatcherArgs.isPropagationStopped()) {\n            parent_1.fire(name, dispatcherArgs, false);\n            parent_1 = parent_1.parent();\n          }\n        }\n        return dispatcherArgs;\n      },\n      on: function (name, callback, prepend) {\n        return getEventDispatcher(this).on(name, callback, prepend);\n      },\n      off: function (name, callback) {\n        return getEventDispatcher(this).off(name, callback);\n      },\n      once: function (name, callback) {\n        return getEventDispatcher(this).once(name, callback);\n      },\n      hasEventListeners: function (name) {\n        return getEventDispatcher(this).has(name);\n      }\n    };\n\n    var DOM$2 = DOMUtils.DOM;\n    var customEventRootDelegates;\n    var getEventTarget = function (editor, eventName) {\n      if (eventName === 'selectionchange') {\n        return editor.getDoc();\n      }\n      if (!editor.inline && /^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(eventName)) {\n        return editor.getDoc().documentElement;\n      }\n      var eventRoot = getEventRoot(editor);\n      if (eventRoot) {\n        if (!editor.eventRoot) {\n          editor.eventRoot = DOM$2.select(eventRoot)[0];\n        }\n        return editor.eventRoot;\n      }\n      return editor.getBody();\n    };\n    var isListening = function (editor) {\n      return !editor.hidden && !isReadOnly(editor);\n    };\n    var fireEvent = function (editor, eventName, e) {\n      if (isListening(editor)) {\n        editor.fire(eventName, e);\n      } else if (isReadOnly(editor)) {\n        processReadonlyEvents(editor, e);\n      }\n    };\n    var bindEventDelegate = function (editor, eventName) {\n      var delegate;\n      if (!editor.delegates) {\n        editor.delegates = {};\n      }\n      if (editor.delegates[eventName] || editor.removed) {\n        return;\n      }\n      var eventRootElm = getEventTarget(editor, eventName);\n      if (getEventRoot(editor)) {\n        if (!customEventRootDelegates) {\n          customEventRootDelegates = {};\n          editor.editorManager.on('removeEditor', function () {\n            if (!editor.editorManager.activeEditor) {\n              if (customEventRootDelegates) {\n                each$j(customEventRootDelegates, function (_value, name) {\n                  editor.dom.unbind(getEventTarget(editor, name));\n                });\n                customEventRootDelegates = null;\n              }\n            }\n          });\n        }\n        if (customEventRootDelegates[eventName]) {\n          return;\n        }\n        delegate = function (e) {\n          var target = e.target;\n          var editors = editor.editorManager.get();\n          var i = editors.length;\n          while (i--) {\n            var body = editors[i].getBody();\n            if (body === target || DOM$2.isChildOf(target, body)) {\n              fireEvent(editors[i], eventName, e);\n            }\n          }\n        };\n        customEventRootDelegates[eventName] = delegate;\n        DOM$2.bind(eventRootElm, eventName, delegate);\n      } else {\n        delegate = function (e) {\n          fireEvent(editor, eventName, e);\n        };\n        DOM$2.bind(eventRootElm, eventName, delegate);\n        editor.delegates[eventName] = delegate;\n      }\n    };\n    var EditorObservable = __assign(__assign({}, Observable), {\n      bindPendingEventDelegates: function () {\n        var self = this;\n        Tools.each(self._pendingNativeEvents, function (name) {\n          bindEventDelegate(self, name);\n        });\n      },\n      toggleNativeEvent: function (name, state) {\n        var self = this;\n        if (name === 'focus' || name === 'blur') {\n          return;\n        }\n        if (self.removed) {\n          return;\n        }\n        if (state) {\n          if (self.initialized) {\n            bindEventDelegate(self, name);\n          } else {\n            if (!self._pendingNativeEvents) {\n              self._pendingNativeEvents = [name];\n            } else {\n              self._pendingNativeEvents.push(name);\n            }\n          }\n        } else if (self.initialized) {\n          self.dom.unbind(getEventTarget(self, name), name, self.delegates[name]);\n          delete self.delegates[name];\n        }\n      },\n      unbindAllNativeEvents: function () {\n        var self = this;\n        var body = self.getBody();\n        var dom = self.dom;\n        if (self.delegates) {\n          each$j(self.delegates, function (value, name) {\n            self.dom.unbind(getEventTarget(self, name), name, value);\n          });\n          delete self.delegates;\n        }\n        if (!self.inline && body && dom) {\n          body.onload = null;\n          dom.unbind(self.getWin());\n          dom.unbind(self.getDoc());\n        }\n        if (dom) {\n          dom.unbind(body);\n          dom.unbind(self.getContainer());\n        }\n      }\n    });\n\n    var defaultModes = [\n      'design',\n      'readonly'\n    ];\n    var switchToMode = function (editor, activeMode, availableModes, mode) {\n      var oldMode = availableModes[activeMode.get()];\n      var newMode = availableModes[mode];\n      try {\n        newMode.activate();\n      } catch (e) {\n        console.error('problem while activating editor mode ' + mode + ':', e);\n        return;\n      }\n      oldMode.deactivate();\n      if (oldMode.editorReadOnly !== newMode.editorReadOnly) {\n        toggleReadOnly(editor, newMode.editorReadOnly);\n      }\n      activeMode.set(mode);\n      fireSwitchMode(editor, mode);\n    };\n    var setMode = function (editor, availableModes, activeMode, mode) {\n      if (mode === activeMode.get()) {\n        return;\n      } else if (!has$2(availableModes, mode)) {\n        throw new Error('Editor mode \\'' + mode + '\\' is invalid');\n      }\n      if (editor.initialized) {\n        switchToMode(editor, activeMode, availableModes, mode);\n      } else {\n        editor.on('init', function () {\n          return switchToMode(editor, activeMode, availableModes, mode);\n        });\n      }\n    };\n    var registerMode = function (availableModes, mode, api) {\n      var _a;\n      if (contains$3(defaultModes, mode)) {\n        throw new Error('Cannot override default mode ' + mode);\n      }\n      return __assign(__assign({}, availableModes), (_a = {}, _a[mode] = __assign(__assign({}, api), {\n        deactivate: function () {\n          try {\n            api.deactivate();\n          } catch (e) {\n            console.error('problem while deactivating editor mode ' + mode + ':', e);\n          }\n        }\n      }), _a));\n    };\n\n    var create$4 = function (editor) {\n      var activeMode = Cell('design');\n      var availableModes = Cell({\n        design: {\n          activate: noop,\n          deactivate: noop,\n          editorReadOnly: false\n        },\n        readonly: {\n          activate: noop,\n          deactivate: noop,\n          editorReadOnly: true\n        }\n      });\n      registerReadOnlyContentFilters(editor);\n      registerReadOnlySelectionBlockers(editor);\n      return {\n        isReadOnly: function () {\n          return isReadOnly(editor);\n        },\n        set: function (mode) {\n          return setMode(editor, availableModes.get(), activeMode, mode);\n        },\n        get: function () {\n          return activeMode.get();\n        },\n        register: function (mode, api) {\n          availableModes.set(registerMode(availableModes.get(), mode, api));\n        }\n      };\n    };\n\n    var each$3 = Tools.each, explode$1 = Tools.explode;\n    var keyCodeLookup = {\n      f1: 112,\n      f2: 113,\n      f3: 114,\n      f4: 115,\n      f5: 116,\n      f6: 117,\n      f7: 118,\n      f8: 119,\n      f9: 120,\n      f10: 121,\n      f11: 122,\n      f12: 123\n    };\n    var modifierNames = Tools.makeMap('alt,ctrl,shift,meta,access');\n    var parseShortcut = function (pattern) {\n      var key;\n      var shortcut = {};\n      each$3(explode$1(pattern.toLowerCase(), '+'), function (value) {\n        if (value in modifierNames) {\n          shortcut[value] = true;\n        } else {\n          if (/^[0-9]{2,}$/.test(value)) {\n            shortcut.keyCode = parseInt(value, 10);\n          } else {\n            shortcut.charCode = value.charCodeAt(0);\n            shortcut.keyCode = keyCodeLookup[value] || value.toUpperCase().charCodeAt(0);\n          }\n        }\n      });\n      var id = [shortcut.keyCode];\n      for (key in modifierNames) {\n        if (shortcut[key]) {\n          id.push(key);\n        } else {\n          shortcut[key] = false;\n        }\n      }\n      shortcut.id = id.join(',');\n      if (shortcut.access) {\n        shortcut.alt = true;\n        if (Env.mac) {\n          shortcut.ctrl = true;\n        } else {\n          shortcut.shift = true;\n        }\n      }\n      if (shortcut.meta) {\n        if (Env.mac) {\n          shortcut.meta = true;\n        } else {\n          shortcut.ctrl = true;\n          shortcut.meta = false;\n        }\n      }\n      return shortcut;\n    };\n    var Shortcuts = function () {\n      function Shortcuts(editor) {\n        this.shortcuts = {};\n        this.pendingPatterns = [];\n        this.editor = editor;\n        var self = this;\n        editor.on('keyup keypress keydown', function (e) {\n          if ((self.hasModifier(e) || self.isFunctionKey(e)) && !e.isDefaultPrevented()) {\n            each$3(self.shortcuts, function (shortcut) {\n              if (self.matchShortcut(e, shortcut)) {\n                self.pendingPatterns = shortcut.subpatterns.slice(0);\n                if (e.type === 'keydown') {\n                  self.executeShortcutAction(shortcut);\n                }\n                return true;\n              }\n            });\n            if (self.matchShortcut(e, self.pendingPatterns[0])) {\n              if (self.pendingPatterns.length === 1) {\n                if (e.type === 'keydown') {\n                  self.executeShortcutAction(self.pendingPatterns[0]);\n                }\n              }\n              self.pendingPatterns.shift();\n            }\n          }\n        });\n      }\n      Shortcuts.prototype.add = function (pattern, desc, cmdFunc, scope) {\n        var self = this;\n        var func = self.normalizeCommandFunc(cmdFunc);\n        each$3(explode$1(Tools.trim(pattern)), function (pattern) {\n          var shortcut = self.createShortcut(pattern, desc, func, scope);\n          self.shortcuts[shortcut.id] = shortcut;\n        });\n        return true;\n      };\n      Shortcuts.prototype.remove = function (pattern) {\n        var shortcut = this.createShortcut(pattern);\n        if (this.shortcuts[shortcut.id]) {\n          delete this.shortcuts[shortcut.id];\n          return true;\n        }\n        return false;\n      };\n      Shortcuts.prototype.normalizeCommandFunc = function (cmdFunc) {\n        var self = this;\n        var cmd = cmdFunc;\n        if (typeof cmd === 'string') {\n          return function () {\n            self.editor.execCommand(cmd, false, null);\n          };\n        } else if (Tools.isArray(cmd)) {\n          return function () {\n            self.editor.execCommand(cmd[0], cmd[1], cmd[2]);\n          };\n        } else {\n          return cmd;\n        }\n      };\n      Shortcuts.prototype.createShortcut = function (pattern, desc, cmdFunc, scope) {\n        var shortcuts = Tools.map(explode$1(pattern, '>'), parseShortcut);\n        shortcuts[shortcuts.length - 1] = Tools.extend(shortcuts[shortcuts.length - 1], {\n          func: cmdFunc,\n          scope: scope || this.editor\n        });\n        return Tools.extend(shortcuts[0], {\n          desc: this.editor.translate(desc),\n          subpatterns: shortcuts.slice(1)\n        });\n      };\n      Shortcuts.prototype.hasModifier = function (e) {\n        return e.altKey || e.ctrlKey || e.metaKey;\n      };\n      Shortcuts.prototype.isFunctionKey = function (e) {\n        return e.type === 'keydown' && e.keyCode >= 112 && e.keyCode <= 123;\n      };\n      Shortcuts.prototype.matchShortcut = function (e, shortcut) {\n        if (!shortcut) {\n          return false;\n        }\n        if (shortcut.ctrl !== e.ctrlKey || shortcut.meta !== e.metaKey) {\n          return false;\n        }\n        if (shortcut.alt !== e.altKey || shortcut.shift !== e.shiftKey) {\n          return false;\n        }\n        if (e.keyCode === shortcut.keyCode || e.charCode && e.charCode === shortcut.charCode) {\n          e.preventDefault();\n          return true;\n        }\n        return false;\n      };\n      Shortcuts.prototype.executeShortcutAction = function (shortcut) {\n        return shortcut.func ? shortcut.func.call(shortcut.scope) : null;\n      };\n      return Shortcuts;\n    }();\n\n    var create$3 = function () {\n      var buttons = {};\n      var menuItems = {};\n      var popups = {};\n      var icons = {};\n      var contextMenus = {};\n      var contextToolbars = {};\n      var sidebars = {};\n      var add = function (collection, type) {\n        return function (name, spec) {\n          return collection[name.toLowerCase()] = __assign(__assign({}, spec), { type: type });\n        };\n      };\n      var addIcon = function (name, svgData) {\n        return icons[name.toLowerCase()] = svgData;\n      };\n      return {\n        addButton: add(buttons, 'button'),\n        addGroupToolbarButton: add(buttons, 'grouptoolbarbutton'),\n        addToggleButton: add(buttons, 'togglebutton'),\n        addMenuButton: add(buttons, 'menubutton'),\n        addSplitButton: add(buttons, 'splitbutton'),\n        addMenuItem: add(menuItems, 'menuitem'),\n        addNestedMenuItem: add(menuItems, 'nestedmenuitem'),\n        addToggleMenuItem: add(menuItems, 'togglemenuitem'),\n        addAutocompleter: add(popups, 'autocompleter'),\n        addContextMenu: add(contextMenus, 'contextmenu'),\n        addContextToolbar: add(contextToolbars, 'contexttoolbar'),\n        addContextForm: add(contextToolbars, 'contextform'),\n        addSidebar: add(sidebars, 'sidebar'),\n        addIcon: addIcon,\n        getAll: function () {\n          return {\n            buttons: buttons,\n            menuItems: menuItems,\n            icons: icons,\n            popups: popups,\n            contextMenus: contextMenus,\n            contextToolbars: contextToolbars,\n            sidebars: sidebars\n          };\n        }\n      };\n    };\n\n    var registry = function () {\n      var bridge = create$3();\n      return {\n        addAutocompleter: bridge.addAutocompleter,\n        addButton: bridge.addButton,\n        addContextForm: bridge.addContextForm,\n        addContextMenu: bridge.addContextMenu,\n        addContextToolbar: bridge.addContextToolbar,\n        addIcon: bridge.addIcon,\n        addMenuButton: bridge.addMenuButton,\n        addMenuItem: bridge.addMenuItem,\n        addNestedMenuItem: bridge.addNestedMenuItem,\n        addSidebar: bridge.addSidebar,\n        addSplitButton: bridge.addSplitButton,\n        addToggleButton: bridge.addToggleButton,\n        addGroupToolbarButton: bridge.addGroupToolbarButton,\n        addToggleMenuItem: bridge.addToggleMenuItem,\n        getAll: bridge.getAll\n      };\n    };\n\n    var DOM$1 = DOMUtils.DOM;\n    var extend$3 = Tools.extend, each$2 = Tools.each;\n    var resolve = Tools.resolve;\n    var ie = Env.ie;\n    var Editor = function () {\n      function Editor(id, settings, editorManager) {\n        var _this = this;\n        this.plugins = {};\n        this.contentCSS = [];\n        this.contentStyles = [];\n        this.loadedCSS = {};\n        this.isNotDirty = false;\n        this.editorManager = editorManager;\n        this.documentBaseUrl = editorManager.documentBaseURL;\n        extend$3(this, EditorObservable);\n        this.settings = getEditorSettings(this, id, this.documentBaseUrl, editorManager.defaultSettings, settings);\n        if (this.settings.suffix) {\n          editorManager.suffix = this.settings.suffix;\n        }\n        this.suffix = editorManager.suffix;\n        if (this.settings.base_url) {\n          editorManager._setBaseUrl(this.settings.base_url);\n        }\n        this.baseUri = editorManager.baseURI;\n        if (this.settings.referrer_policy) {\n          ScriptLoader.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy);\n          DOMUtils.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy);\n        }\n        AddOnManager.languageLoad = this.settings.language_load;\n        AddOnManager.baseURL = editorManager.baseURL;\n        this.id = id;\n        this.setDirty(false);\n        this.documentBaseURI = new URI(this.settings.document_base_url, { base_uri: this.baseUri });\n        this.baseURI = this.baseUri;\n        this.inline = !!this.settings.inline;\n        this.shortcuts = new Shortcuts(this);\n        this.editorCommands = new EditorCommands(this);\n        if (this.settings.cache_suffix) {\n          Env.cacheSuffix = this.settings.cache_suffix.replace(/^[\\?\\&]+/, '');\n        }\n        this.ui = {\n          registry: registry(),\n          styleSheetLoader: undefined,\n          show: noop,\n          hide: noop,\n          enable: noop,\n          disable: noop,\n          isDisabled: never\n        };\n        var self = this;\n        var modeInstance = create$4(self);\n        this.mode = modeInstance;\n        this.setMode = modeInstance.set;\n        editorManager.fire('SetupEditor', { editor: this });\n        this.execCallback('setup', this);\n        this.$ = DomQuery.overrideDefaults(function () {\n          return {\n            context: _this.inline ? _this.getBody() : _this.getDoc(),\n            element: _this.getBody()\n          };\n        });\n      }\n      Editor.prototype.render = function () {\n        render(this);\n      };\n      Editor.prototype.focus = function (skipFocus) {\n        this.execCommand('mceFocus', false, skipFocus);\n      };\n      Editor.prototype.hasFocus = function () {\n        return hasFocus(this);\n      };\n      Editor.prototype.execCallback = function (name) {\n        var x = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n          x[_i - 1] = arguments[_i];\n        }\n        var self = this;\n        var callback = self.settings[name], scope;\n        if (!callback) {\n          return;\n        }\n        if (self.callbackLookup && (scope = self.callbackLookup[name])) {\n          callback = scope.func;\n          scope = scope.scope;\n        }\n        if (typeof callback === 'string') {\n          scope = callback.replace(/\\.\\w+$/, '');\n          scope = scope ? resolve(scope) : 0;\n          callback = resolve(callback);\n          self.callbackLookup = self.callbackLookup || {};\n          self.callbackLookup[name] = {\n            func: callback,\n            scope: scope\n          };\n        }\n        return callback.apply(scope || self, x);\n      };\n      Editor.prototype.translate = function (text) {\n        return I18n.translate(text);\n      };\n      Editor.prototype.getParam = function (name, defaultVal, type) {\n        return getParam(this, name, defaultVal, type);\n      };\n      Editor.prototype.hasPlugin = function (name, loaded) {\n        var hasPlugin = contains$3(getPlugins(this).split(/[ ,]/), name);\n        if (hasPlugin) {\n          return loaded ? PluginManager.get(name) !== undefined : true;\n        } else {\n          return false;\n        }\n      };\n      Editor.prototype.nodeChanged = function (args) {\n        this._nodeChangeDispatcher.nodeChanged(args);\n      };\n      Editor.prototype.addCommand = function (name, callback, scope) {\n        this.editorCommands.addCommand(name, callback, scope);\n      };\n      Editor.prototype.addQueryStateHandler = function (name, callback, scope) {\n        this.editorCommands.addQueryStateHandler(name, callback, scope);\n      };\n      Editor.prototype.addQueryValueHandler = function (name, callback, scope) {\n        this.editorCommands.addQueryValueHandler(name, callback, scope);\n      };\n      Editor.prototype.addShortcut = function (pattern, desc, cmdFunc, scope) {\n        this.shortcuts.add(pattern, desc, cmdFunc, scope);\n      };\n      Editor.prototype.execCommand = function (cmd, ui, value, args) {\n        return this.editorCommands.execCommand(cmd, ui, value, args);\n      };\n      Editor.prototype.queryCommandState = function (cmd) {\n        return this.editorCommands.queryCommandState(cmd);\n      };\n      Editor.prototype.queryCommandValue = function (cmd) {\n        return this.editorCommands.queryCommandValue(cmd);\n      };\n      Editor.prototype.queryCommandSupported = function (cmd) {\n        return this.editorCommands.queryCommandSupported(cmd);\n      };\n      Editor.prototype.show = function () {\n        var self = this;\n        if (self.hidden) {\n          self.hidden = false;\n          if (self.inline) {\n            self.getBody().contentEditable = 'true';\n          } else {\n            DOM$1.show(self.getContainer());\n            DOM$1.hide(self.id);\n          }\n          self.load();\n          self.fire('show');\n        }\n      };\n      Editor.prototype.hide = function () {\n        var self = this, doc = self.getDoc();\n        if (!self.hidden) {\n          if (ie && doc && !self.inline) {\n            doc.execCommand('SelectAll');\n          }\n          self.save();\n          if (self.inline) {\n            self.getBody().contentEditable = 'false';\n            if (self === self.editorManager.focusedEditor) {\n              self.editorManager.focusedEditor = null;\n            }\n          } else {\n            DOM$1.hide(self.getContainer());\n            DOM$1.setStyle(self.id, 'display', self.orgDisplay);\n          }\n          self.hidden = true;\n          self.fire('hide');\n        }\n      };\n      Editor.prototype.isHidden = function () {\n        return !!this.hidden;\n      };\n      Editor.prototype.setProgressState = function (state, time) {\n        this.fire('ProgressState', {\n          state: state,\n          time: time\n        });\n      };\n      Editor.prototype.load = function (args) {\n        var self = this;\n        var elm = self.getElement(), html;\n        if (self.removed) {\n          return '';\n        }\n        if (elm) {\n          args = args || {};\n          args.load = true;\n          var value = isTextareaOrInput(elm) ? elm.value : elm.innerHTML;\n          html = self.setContent(value, args);\n          args.element = elm;\n          if (!args.no_events) {\n            self.fire('LoadContent', args);\n          }\n          args.element = elm = null;\n          return html;\n        }\n      };\n      Editor.prototype.save = function (args) {\n        var self = this;\n        var elm = self.getElement(), html, form;\n        if (!elm || !self.initialized || self.removed) {\n          return;\n        }\n        args = args || {};\n        args.save = true;\n        args.element = elm;\n        html = args.content = self.getContent(args);\n        if (!args.no_events) {\n          self.fire('SaveContent', args);\n        }\n        if (args.format === 'raw') {\n          self.fire('RawSaveContent', args);\n        }\n        html = args.content;\n        if (!isTextareaOrInput(elm)) {\n          if (args.is_removing || !self.inline) {\n            elm.innerHTML = html;\n          }\n          if (form = DOM$1.getParent(self.id, 'form')) {\n            each$2(form.elements, function (elm) {\n              if (elm.name === self.id) {\n                elm.value = html;\n                return false;\n              }\n            });\n          }\n        } else {\n          elm.value = html;\n        }\n        args.element = elm = null;\n        if (args.set_dirty !== false) {\n          self.setDirty(false);\n        }\n        return html;\n      };\n      Editor.prototype.setContent = function (content, args) {\n        return setContent(this, content, args);\n      };\n      Editor.prototype.getContent = function (args) {\n        return getContent(this, args);\n      };\n      Editor.prototype.insertContent = function (content, args) {\n        if (args) {\n          content = extend$3({ content: content }, args);\n        }\n        this.execCommand('mceInsertContent', false, content);\n      };\n      Editor.prototype.resetContent = function (initialContent) {\n        if (initialContent === undefined) {\n          setContent(this, this.startContent, { format: 'raw' });\n        } else {\n          setContent(this, initialContent);\n        }\n        this.undoManager.reset();\n        this.setDirty(false);\n        this.nodeChanged();\n      };\n      Editor.prototype.isDirty = function () {\n        return !this.isNotDirty;\n      };\n      Editor.prototype.setDirty = function (state) {\n        var oldState = !this.isNotDirty;\n        this.isNotDirty = !state;\n        if (state && state !== oldState) {\n          this.fire('dirty');\n        }\n      };\n      Editor.prototype.getContainer = function () {\n        var self = this;\n        if (!self.container) {\n          self.container = DOM$1.get(self.editorContainer || self.id + '_parent');\n        }\n        return self.container;\n      };\n      Editor.prototype.getContentAreaContainer = function () {\n        return this.contentAreaContainer;\n      };\n      Editor.prototype.getElement = function () {\n        if (!this.targetElm) {\n          this.targetElm = DOM$1.get(this.id);\n        }\n        return this.targetElm;\n      };\n      Editor.prototype.getWin = function () {\n        var self = this;\n        var elm;\n        if (!self.contentWindow) {\n          elm = self.iframeElement;\n          if (elm) {\n            self.contentWindow = elm.contentWindow;\n          }\n        }\n        return self.contentWindow;\n      };\n      Editor.prototype.getDoc = function () {\n        var self = this;\n        var win;\n        if (!self.contentDocument) {\n          win = self.getWin();\n          if (win) {\n            self.contentDocument = win.document;\n          }\n        }\n        return self.contentDocument;\n      };\n      Editor.prototype.getBody = function () {\n        var doc = this.getDoc();\n        return this.bodyElement || (doc ? doc.body : null);\n      };\n      Editor.prototype.convertURL = function (url, name, elm) {\n        var self = this, settings = self.settings;\n        if (settings.urlconverter_callback) {\n          return self.execCallback('urlconverter_callback', url, elm, true, name);\n        }\n        if (!settings.convert_urls || elm && elm.nodeName === 'LINK' || url.indexOf('file:') === 0 || url.length === 0) {\n          return url;\n        }\n        if (settings.relative_urls) {\n          return self.documentBaseURI.toRelative(url);\n        }\n        url = self.documentBaseURI.toAbsolute(url, settings.remove_script_host);\n        return url;\n      };\n      Editor.prototype.addVisual = function (elm) {\n        addVisual(this, elm);\n      };\n      Editor.prototype.remove = function () {\n        remove(this);\n      };\n      Editor.prototype.destroy = function (automatic) {\n        destroy(this, automatic);\n      };\n      Editor.prototype.uploadImages = function (callback) {\n        return this.editorUpload.uploadImages(callback);\n      };\n      Editor.prototype._scanForImages = function () {\n        return this.editorUpload.scanForImages();\n      };\n      Editor.prototype.addButton = function () {\n        throw new Error('editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead');\n      };\n      Editor.prototype.addSidebar = function () {\n        throw new Error('editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead');\n      };\n      Editor.prototype.addMenuItem = function () {\n        throw new Error('editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead');\n      };\n      Editor.prototype.addContextToolbar = function () {\n        throw new Error('editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead');\n      };\n      return Editor;\n    }();\n\n    var DOM = DOMUtils.DOM;\n    var explode = Tools.explode, each$1 = Tools.each, extend$2 = Tools.extend;\n    var instanceCounter = 0, boundGlobalEvents = false;\n    var beforeUnloadDelegate;\n    var legacyEditors = [];\n    var editors = [];\n    var isValidLegacyKey = function (id) {\n      return id !== 'length';\n    };\n    var globalEventDelegate = function (e) {\n      var type = e.type;\n      each$1(EditorManager.get(), function (editor) {\n        switch (type) {\n        case 'scroll':\n          editor.fire('ScrollWindow', e);\n          break;\n        case 'resize':\n          editor.fire('ResizeWindow', e);\n          break;\n        }\n      });\n    };\n    var toggleGlobalEvents = function (state) {\n      if (state !== boundGlobalEvents) {\n        if (state) {\n          DomQuery(window).on('resize scroll', globalEventDelegate);\n        } else {\n          DomQuery(window).off('resize scroll', globalEventDelegate);\n        }\n        boundGlobalEvents = state;\n      }\n    };\n    var removeEditorFromList = function (targetEditor) {\n      var oldEditors = editors;\n      delete legacyEditors[targetEditor.id];\n      for (var i = 0; i < legacyEditors.length; i++) {\n        if (legacyEditors[i] === targetEditor) {\n          legacyEditors.splice(i, 1);\n          break;\n        }\n      }\n      editors = filter$4(editors, function (editor) {\n        return targetEditor !== editor;\n      });\n      if (EditorManager.activeEditor === targetEditor) {\n        EditorManager.activeEditor = editors.length > 0 ? editors[0] : null;\n      }\n      if (EditorManager.focusedEditor === targetEditor) {\n        EditorManager.focusedEditor = null;\n      }\n      return oldEditors.length !== editors.length;\n    };\n    var purgeDestroyedEditor = function (editor) {\n      if (editor && editor.initialized && !(editor.getContainer() || editor.getBody()).parentNode) {\n        removeEditorFromList(editor);\n        editor.unbindAllNativeEvents();\n        editor.destroy(true);\n        editor.removed = true;\n        editor = null;\n      }\n      return editor;\n    };\n    var isQuirksMode = document.compatMode !== 'CSS1Compat';\n    var EditorManager = __assign(__assign({}, Observable), {\n      baseURI: null,\n      baseURL: null,\n      defaultSettings: {},\n      documentBaseURL: null,\n      suffix: null,\n      $: DomQuery,\n      majorVersion: '5',\n      minorVersion: '10.4',\n      releaseDate: '2022-04-27',\n      editors: legacyEditors,\n      i18n: I18n,\n      activeEditor: null,\n      focusedEditor: null,\n      settings: {},\n      setup: function () {\n        var self = this;\n        var baseURL, documentBaseURL, suffix = '';\n        documentBaseURL = URI.getDocumentBaseUrl(document.location);\n        if (/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(documentBaseURL)) {\n          documentBaseURL = documentBaseURL.replace(/[\\?#].*$/, '').replace(/[\\/\\\\][^\\/]+$/, '');\n          if (!/[\\/\\\\]$/.test(documentBaseURL)) {\n            documentBaseURL += '/';\n          }\n        }\n        var preInit = window.tinymce || window.tinyMCEPreInit;\n        if (preInit) {\n          baseURL = preInit.base || preInit.baseURL;\n          suffix = preInit.suffix;\n        } else {\n          var scripts = document.getElementsByTagName('script');\n          for (var i = 0; i < scripts.length; i++) {\n            var src = scripts[i].src || '';\n            if (src === '') {\n              continue;\n            }\n            var srcScript = src.substring(src.lastIndexOf('/'));\n            if (/tinymce(\\.full|\\.jquery|)(\\.min|\\.dev|)\\.js/.test(src)) {\n              if (srcScript.indexOf('.min') !== -1) {\n                suffix = '.min';\n              }\n              baseURL = src.substring(0, src.lastIndexOf('/'));\n              break;\n            }\n          }\n          if (!baseURL && document.currentScript) {\n            var src = document.currentScript.src;\n            if (src.indexOf('.min') !== -1) {\n              suffix = '.min';\n            }\n            baseURL = src.substring(0, src.lastIndexOf('/'));\n          }\n        }\n        self.baseURL = new URI(documentBaseURL).toAbsolute(baseURL);\n        self.documentBaseURL = documentBaseURL;\n        self.baseURI = new URI(self.baseURL);\n        self.suffix = suffix;\n        setup$l(self);\n      },\n      overrideDefaults: function (defaultSettings) {\n        var baseUrl = defaultSettings.base_url;\n        if (baseUrl) {\n          this._setBaseUrl(baseUrl);\n        }\n        var suffix = defaultSettings.suffix;\n        if (defaultSettings.suffix) {\n          this.suffix = suffix;\n        }\n        this.defaultSettings = defaultSettings;\n        var pluginBaseUrls = defaultSettings.plugin_base_urls;\n        if (pluginBaseUrls !== undefined) {\n          each$j(pluginBaseUrls, function (pluginBaseUrl, pluginName) {\n            AddOnManager.PluginManager.urls[pluginName] = pluginBaseUrl;\n          });\n        }\n      },\n      init: function (settings) {\n        var self = this;\n        var result;\n        var invalidInlineTargets = Tools.makeMap('area base basefont br col frame hr img input isindex link meta param embed source wbr track ' + 'colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu', ' ');\n        var isInvalidInlineTarget = function (settings, elm) {\n          return settings.inline && elm.tagName.toLowerCase() in invalidInlineTargets;\n        };\n        var createId = function (elm) {\n          var id = elm.id;\n          if (!id) {\n            id = get$9(elm, 'name').filter(function (name) {\n              return !DOM.get(name);\n            }).getOrThunk(DOM.uniqueId);\n            elm.setAttribute('id', id);\n          }\n          return id;\n        };\n        var execCallback = function (name) {\n          var callback = settings[name];\n          if (!callback) {\n            return;\n          }\n          return callback.apply(self, []);\n        };\n        var hasClass = function (elm, className) {\n          return className.constructor === RegExp ? className.test(elm.className) : DOM.hasClass(elm, className);\n        };\n        var findTargets = function (settings) {\n          var targets = [];\n          if (Env.browser.isIE() && Env.browser.version.major < 11) {\n            initError('TinyMCE does not support the browser you are using. For a list of supported' + ' browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/');\n            return [];\n          } else if (isQuirksMode) {\n            initError('Failed to initialize the editor as the document is not in standards mode. ' + 'TinyMCE requires standards mode.');\n            return [];\n          }\n          if (settings.types) {\n            each$1(settings.types, function (type) {\n              targets = targets.concat(DOM.select(type.selector));\n            });\n            return targets;\n          } else if (settings.selector) {\n            return DOM.select(settings.selector);\n          } else if (settings.target) {\n            return [settings.target];\n          }\n          switch (settings.mode) {\n          case 'exact':\n            var l = settings.elements || '';\n            if (l.length > 0) {\n              each$1(explode(l), function (id) {\n                var elm = DOM.get(id);\n                if (elm) {\n                  targets.push(elm);\n                } else {\n                  each$1(document.forms, function (f) {\n                    each$1(f.elements, function (e) {\n                      if (e.name === id) {\n                        id = 'mce_editor_' + instanceCounter++;\n                        DOM.setAttrib(e, 'id', id);\n                        targets.push(e);\n                      }\n                    });\n                  });\n                }\n              });\n            }\n            break;\n          case 'textareas':\n          case 'specific_textareas':\n            each$1(DOM.select('textarea'), function (elm) {\n              if (settings.editor_deselector && hasClass(elm, settings.editor_deselector)) {\n                return;\n              }\n              if (!settings.editor_selector || hasClass(elm, settings.editor_selector)) {\n                targets.push(elm);\n              }\n            });\n            break;\n          }\n          return targets;\n        };\n        var provideResults = function (editors) {\n          result = editors;\n        };\n        var initEditors = function () {\n          var initCount = 0;\n          var editors = [];\n          var targets;\n          var createEditor = function (id, settings, targetElm) {\n            var editor = new Editor(id, settings, self);\n            editors.push(editor);\n            editor.on('init', function () {\n              if (++initCount === targets.length) {\n                provideResults(editors);\n              }\n            });\n            editor.targetElm = editor.targetElm || targetElm;\n            editor.render();\n          };\n          DOM.unbind(window, 'ready', initEditors);\n          execCallback('onpageload');\n          targets = DomQuery.unique(findTargets(settings));\n          if (settings.types) {\n            each$1(settings.types, function (type) {\n              Tools.each(targets, function (elm) {\n                if (DOM.is(elm, type.selector)) {\n                  createEditor(createId(elm), extend$2({}, settings, type), elm);\n                  return false;\n                }\n                return true;\n              });\n            });\n            return;\n          }\n          Tools.each(targets, function (elm) {\n            purgeDestroyedEditor(self.get(elm.id));\n          });\n          targets = Tools.grep(targets, function (elm) {\n            return !self.get(elm.id);\n          });\n          if (targets.length === 0) {\n            provideResults([]);\n          } else {\n            each$1(targets, function (elm) {\n              if (isInvalidInlineTarget(settings, elm)) {\n                initError('Could not initialize inline editor on invalid inline target element', elm);\n              } else {\n                createEditor(createId(elm), settings, elm);\n              }\n            });\n          }\n        };\n        self.settings = settings;\n        DOM.bind(window, 'ready', initEditors);\n        return new promiseObj(function (resolve) {\n          if (result) {\n            resolve(result);\n          } else {\n            provideResults = function (editors) {\n              resolve(editors);\n            };\n          }\n        });\n      },\n      get: function (id) {\n        if (arguments.length === 0) {\n          return editors.slice(0);\n        } else if (isString$1(id)) {\n          return find$3(editors, function (editor) {\n            return editor.id === id;\n          }).getOr(null);\n        } else if (isNumber(id)) {\n          return editors[id] ? editors[id] : null;\n        } else {\n          return null;\n        }\n      },\n      add: function (editor) {\n        var self = this;\n        var existingEditor = legacyEditors[editor.id];\n        if (existingEditor === editor) {\n          return editor;\n        }\n        if (self.get(editor.id) === null) {\n          if (isValidLegacyKey(editor.id)) {\n            legacyEditors[editor.id] = editor;\n          }\n          legacyEditors.push(editor);\n          editors.push(editor);\n        }\n        toggleGlobalEvents(true);\n        self.activeEditor = editor;\n        self.fire('AddEditor', { editor: editor });\n        if (!beforeUnloadDelegate) {\n          beforeUnloadDelegate = function (e) {\n            var event = self.fire('BeforeUnload');\n            if (event.returnValue) {\n              e.preventDefault();\n              e.returnValue = event.returnValue;\n              return event.returnValue;\n            }\n          };\n          window.addEventListener('beforeunload', beforeUnloadDelegate);\n        }\n        return editor;\n      },\n      createEditor: function (id, settings) {\n        return this.add(new Editor(id, settings, this));\n      },\n      remove: function (selector) {\n        var self = this;\n        var i, editor;\n        if (!selector) {\n          for (i = editors.length - 1; i >= 0; i--) {\n            self.remove(editors[i]);\n          }\n          return;\n        }\n        if (isString$1(selector)) {\n          each$1(DOM.select(selector), function (elm) {\n            editor = self.get(elm.id);\n            if (editor) {\n              self.remove(editor);\n            }\n          });\n          return;\n        }\n        editor = selector;\n        if (isNull(self.get(editor.id))) {\n          return null;\n        }\n        if (removeEditorFromList(editor)) {\n          self.fire('RemoveEditor', { editor: editor });\n        }\n        if (editors.length === 0) {\n          window.removeEventListener('beforeunload', beforeUnloadDelegate);\n        }\n        editor.remove();\n        toggleGlobalEvents(editors.length > 0);\n        return editor;\n      },\n      execCommand: function (cmd, ui, value) {\n        var self = this, editor = self.get(value);\n        switch (cmd) {\n        case 'mceAddEditor':\n          if (!self.get(value)) {\n            new Editor(value, self.settings, self).render();\n          }\n          return true;\n        case 'mceRemoveEditor':\n          if (editor) {\n            editor.remove();\n          }\n          return true;\n        case 'mceToggleEditor':\n          if (!editor) {\n            self.execCommand('mceAddEditor', false, value);\n            return true;\n          }\n          if (editor.isHidden()) {\n            editor.show();\n          } else {\n            editor.hide();\n          }\n          return true;\n        }\n        if (self.activeEditor) {\n          return self.activeEditor.execCommand(cmd, ui, value);\n        }\n        return false;\n      },\n      triggerSave: function () {\n        each$1(editors, function (editor) {\n          editor.save();\n        });\n      },\n      addI18n: function (code, items) {\n        I18n.add(code, items);\n      },\n      translate: function (text) {\n        return I18n.translate(text);\n      },\n      setActive: function (editor) {\n        var activeEditor = this.activeEditor;\n        if (this.activeEditor !== editor) {\n          if (activeEditor) {\n            activeEditor.fire('deactivate', { relatedTarget: editor });\n          }\n          editor.fire('activate', { relatedTarget: activeEditor });\n        }\n        this.activeEditor = editor;\n      },\n      _setBaseUrl: function (baseUrl) {\n        this.baseURL = new URI(this.documentBaseURL).toAbsolute(baseUrl.replace(/\\/+$/, ''));\n        this.baseURI = new URI(this.baseURL);\n      }\n    });\n    EditorManager.setup();\n\n    var min$1 = Math.min, max$1 = Math.max, round$1 = Math.round;\n    var relativePosition = function (rect, targetRect, rel) {\n      var x = targetRect.x;\n      var y = targetRect.y;\n      var w = rect.w;\n      var h = rect.h;\n      var targetW = targetRect.w;\n      var targetH = targetRect.h;\n      var relChars = (rel || '').split('');\n      if (relChars[0] === 'b') {\n        y += targetH;\n      }\n      if (relChars[1] === 'r') {\n        x += targetW;\n      }\n      if (relChars[0] === 'c') {\n        y += round$1(targetH / 2);\n      }\n      if (relChars[1] === 'c') {\n        x += round$1(targetW / 2);\n      }\n      if (relChars[3] === 'b') {\n        y -= h;\n      }\n      if (relChars[4] === 'r') {\n        x -= w;\n      }\n      if (relChars[3] === 'c') {\n        y -= round$1(h / 2);\n      }\n      if (relChars[4] === 'c') {\n        x -= round$1(w / 2);\n      }\n      return create$2(x, y, w, h);\n    };\n    var findBestRelativePosition = function (rect, targetRect, constrainRect, rels) {\n      var pos, i;\n      for (i = 0; i < rels.length; i++) {\n        pos = relativePosition(rect, targetRect, rels[i]);\n        if (pos.x >= constrainRect.x && pos.x + pos.w <= constrainRect.w + constrainRect.x && pos.y >= constrainRect.y && pos.y + pos.h <= constrainRect.h + constrainRect.y) {\n          return rels[i];\n        }\n      }\n      return null;\n    };\n    var inflate = function (rect, w, h) {\n      return create$2(rect.x - w, rect.y - h, rect.w + w * 2, rect.h + h * 2);\n    };\n    var intersect = function (rect, cropRect) {\n      var x1 = max$1(rect.x, cropRect.x);\n      var y1 = max$1(rect.y, cropRect.y);\n      var x2 = min$1(rect.x + rect.w, cropRect.x + cropRect.w);\n      var y2 = min$1(rect.y + rect.h, cropRect.y + cropRect.h);\n      if (x2 - x1 < 0 || y2 - y1 < 0) {\n        return null;\n      }\n      return create$2(x1, y1, x2 - x1, y2 - y1);\n    };\n    var clamp = function (rect, clampRect, fixedSize) {\n      var x1 = rect.x;\n      var y1 = rect.y;\n      var x2 = rect.x + rect.w;\n      var y2 = rect.y + rect.h;\n      var cx2 = clampRect.x + clampRect.w;\n      var cy2 = clampRect.y + clampRect.h;\n      var underflowX1 = max$1(0, clampRect.x - x1);\n      var underflowY1 = max$1(0, clampRect.y - y1);\n      var overflowX2 = max$1(0, x2 - cx2);\n      var overflowY2 = max$1(0, y2 - cy2);\n      x1 += underflowX1;\n      y1 += underflowY1;\n      if (fixedSize) {\n        x2 += underflowX1;\n        y2 += underflowY1;\n        x1 -= overflowX2;\n        y1 -= overflowY2;\n      }\n      x2 -= overflowX2;\n      y2 -= overflowY2;\n      return create$2(x1, y1, x2 - x1, y2 - y1);\n    };\n    var create$2 = function (x, y, w, h) {\n      return {\n        x: x,\n        y: y,\n        w: w,\n        h: h\n      };\n    };\n    var fromClientRect = function (clientRect) {\n      return create$2(clientRect.left, clientRect.top, clientRect.width, clientRect.height);\n    };\n    var Rect = {\n      inflate: inflate,\n      relativePosition: relativePosition,\n      findBestRelativePosition: findBestRelativePosition,\n      intersect: intersect,\n      clamp: clamp,\n      create: create$2,\n      fromClientRect: fromClientRect\n    };\n\n    var awaiter = function (resolveCb, rejectCb, timeout) {\n      if (timeout === void 0) {\n        timeout = 1000;\n      }\n      var done = false;\n      var timer = null;\n      var complete = function (completer) {\n        return function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          if (!done) {\n            done = true;\n            if (timer !== null) {\n              clearTimeout(timer);\n              timer = null;\n            }\n            completer.apply(null, args);\n          }\n        };\n      };\n      var resolve = complete(resolveCb);\n      var reject = complete(rejectCb);\n      var start = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (!done && timer === null) {\n          timer = setTimeout(function () {\n            return reject.apply(null, args);\n          }, timeout);\n        }\n      };\n      return {\n        start: start,\n        resolve: resolve,\n        reject: reject\n      };\n    };\n    var create$1 = function () {\n      var tasks = {};\n      var resultFns = {};\n      var load = function (id, url) {\n        var loadErrMsg = 'Script at URL \"' + url + '\" failed to load';\n        var runErrMsg = 'Script at URL \"' + url + '\" did not call `tinymce.Resource.add(\\'' + id + '\\', data)` within 1 second';\n        if (tasks[id] !== undefined) {\n          return tasks[id];\n        } else {\n          var task = new promiseObj(function (resolve, reject) {\n            var waiter = awaiter(resolve, reject);\n            resultFns[id] = waiter.resolve;\n            ScriptLoader.ScriptLoader.loadScript(url, function () {\n              return waiter.start(runErrMsg);\n            }, function () {\n              return waiter.reject(loadErrMsg);\n            });\n          });\n          tasks[id] = task;\n          return task;\n        }\n      };\n      var add = function (id, data) {\n        if (resultFns[id] !== undefined) {\n          resultFns[id](data);\n          delete resultFns[id];\n        }\n        tasks[id] = promiseObj.resolve(data);\n      };\n      return {\n        load: load,\n        add: add\n      };\n    };\n    var Resource = create$1();\n\n    var each = Tools.each, extend$1 = Tools.extend;\n    var extendClass, initializing;\n    var Class = function () {\n    };\n    Class.extend = extendClass = function (props) {\n      var self = this;\n      var _super = self.prototype;\n      var Class = function () {\n        var i, mixins, mixin;\n        var self = this;\n        if (!initializing) {\n          if (self.init) {\n            self.init.apply(self, arguments);\n          }\n          mixins = self.Mixins;\n          if (mixins) {\n            i = mixins.length;\n            while (i--) {\n              mixin = mixins[i];\n              if (mixin.init) {\n                mixin.init.apply(self, arguments);\n              }\n            }\n          }\n        }\n      };\n      var dummy = function () {\n        return this;\n      };\n      var createMethod = function (name, fn) {\n        return function () {\n          var self = this;\n          var tmp = self._super;\n          self._super = _super[name];\n          var ret = fn.apply(self, arguments);\n          self._super = tmp;\n          return ret;\n        };\n      };\n      initializing = true;\n      var prototype = new self();\n      initializing = false;\n      if (props.Mixins) {\n        each(props.Mixins, function (mixin) {\n          for (var name_1 in mixin) {\n            if (name_1 !== 'init') {\n              props[name_1] = mixin[name_1];\n            }\n          }\n        });\n        if (_super.Mixins) {\n          props.Mixins = _super.Mixins.concat(props.Mixins);\n        }\n      }\n      if (props.Methods) {\n        each(props.Methods.split(','), function (name) {\n          props[name] = dummy;\n        });\n      }\n      if (props.Properties) {\n        each(props.Properties.split(','), function (name) {\n          var fieldName = '_' + name;\n          props[name] = function (value) {\n            var self = this;\n            if (value !== undefined) {\n              self[fieldName] = value;\n              return self;\n            }\n            return self[fieldName];\n          };\n        });\n      }\n      if (props.Statics) {\n        each(props.Statics, function (func, name) {\n          Class[name] = func;\n        });\n      }\n      if (props.Defaults && _super.Defaults) {\n        props.Defaults = extend$1({}, _super.Defaults, props.Defaults);\n      }\n      each$j(props, function (member, name) {\n        if (typeof member === 'function' && _super[name]) {\n          prototype[name] = createMethod(name, member);\n        } else {\n          prototype[name] = member;\n        }\n      });\n      Class.prototype = prototype;\n      Class.constructor = Class;\n      Class.extend = extendClass;\n      return Class;\n    };\n\n    var min = Math.min, max = Math.max, round = Math.round;\n    var Color = function (value) {\n      var self = {};\n      var r = 0, g = 0, b = 0;\n      var rgb2hsv = function (r, g, b) {\n        var h, s, v;\n        h = 0;\n        s = 0;\n        v = 0;\n        r = r / 255;\n        g = g / 255;\n        b = b / 255;\n        var minRGB = min(r, min(g, b));\n        var maxRGB = max(r, max(g, b));\n        if (minRGB === maxRGB) {\n          v = minRGB;\n          return {\n            h: 0,\n            s: 0,\n            v: v * 100\n          };\n        }\n        var d = r === minRGB ? g - b : b === minRGB ? r - g : b - r;\n        h = r === minRGB ? 3 : b === minRGB ? 1 : 5;\n        h = 60 * (h - d / (maxRGB - minRGB));\n        s = (maxRGB - minRGB) / maxRGB;\n        v = maxRGB;\n        return {\n          h: round(h),\n          s: round(s * 100),\n          v: round(v * 100)\n        };\n      };\n      var hsvToRgb = function (hue, saturation, brightness) {\n        hue = (parseInt(hue, 10) || 0) % 360;\n        saturation = parseInt(saturation, 10) / 100;\n        brightness = parseInt(brightness, 10) / 100;\n        saturation = max(0, min(saturation, 1));\n        brightness = max(0, min(brightness, 1));\n        if (saturation === 0) {\n          r = g = b = round(255 * brightness);\n          return;\n        }\n        var side = hue / 60;\n        var chroma = brightness * saturation;\n        var x = chroma * (1 - Math.abs(side % 2 - 1));\n        var match = brightness - chroma;\n        switch (Math.floor(side)) {\n        case 0:\n          r = chroma;\n          g = x;\n          b = 0;\n          break;\n        case 1:\n          r = x;\n          g = chroma;\n          b = 0;\n          break;\n        case 2:\n          r = 0;\n          g = chroma;\n          b = x;\n          break;\n        case 3:\n          r = 0;\n          g = x;\n          b = chroma;\n          break;\n        case 4:\n          r = x;\n          g = 0;\n          b = chroma;\n          break;\n        case 5:\n          r = chroma;\n          g = 0;\n          b = x;\n          break;\n        default:\n          r = g = b = 0;\n        }\n        r = round(255 * (r + match));\n        g = round(255 * (g + match));\n        b = round(255 * (b + match));\n      };\n      var toHex = function () {\n        var hex = function (val) {\n          val = parseInt(val, 10).toString(16);\n          return val.length > 1 ? val : '0' + val;\n        };\n        return '#' + hex(r) + hex(g) + hex(b);\n      };\n      var toRgb = function () {\n        return {\n          r: r,\n          g: g,\n          b: b\n        };\n      };\n      var toHsv = function () {\n        return rgb2hsv(r, g, b);\n      };\n      var parse = function (value) {\n        var matches;\n        if (typeof value === 'object') {\n          if ('r' in value) {\n            r = value.r;\n            g = value.g;\n            b = value.b;\n          } else if ('v' in value) {\n            hsvToRgb(value.h, value.s, value.v);\n          }\n        } else {\n          if (matches = /rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)[^\\)]*\\)/gi.exec(value)) {\n            r = parseInt(matches[1], 10);\n            g = parseInt(matches[2], 10);\n            b = parseInt(matches[3], 10);\n          } else if (matches = /#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(value)) {\n            r = parseInt(matches[1], 16);\n            g = parseInt(matches[2], 16);\n            b = parseInt(matches[3], 16);\n          } else if (matches = /#([0-F])([0-F])([0-F])/gi.exec(value)) {\n            r = parseInt(matches[1] + matches[1], 16);\n            g = parseInt(matches[2] + matches[2], 16);\n            b = parseInt(matches[3] + matches[3], 16);\n          }\n        }\n        r = r < 0 ? 0 : r > 255 ? 255 : r;\n        g = g < 0 ? 0 : g > 255 ? 255 : g;\n        b = b < 0 ? 0 : b > 255 ? 255 : b;\n        return self;\n      };\n      if (value) {\n        parse(value);\n      }\n      self.toRgb = toRgb;\n      self.toHsv = toHsv;\n      self.toHex = toHex;\n      self.parse = parse;\n      return self;\n    };\n\n    var serialize = function (obj) {\n      var data = JSON.stringify(obj);\n      if (!isString$1(data)) {\n        return data;\n      }\n      return data.replace(/[\\u0080-\\uFFFF]/g, function (match) {\n        var hexCode = match.charCodeAt(0).toString(16);\n        return '\\\\u' + '0000'.substring(hexCode.length) + hexCode;\n      });\n    };\n    var JSONUtils = {\n      serialize: serialize,\n      parse: function (text) {\n        try {\n          return JSON.parse(text);\n        } catch (ex) {\n        }\n      }\n    };\n\n    var JSONP = {\n      callbacks: {},\n      count: 0,\n      send: function (settings) {\n        var self = this, dom = DOMUtils.DOM, count = settings.count !== undefined ? settings.count : self.count;\n        var id = 'tinymce_jsonp_' + count;\n        self.callbacks[count] = function (json) {\n          dom.remove(id);\n          delete self.callbacks[count];\n          settings.callback(json);\n        };\n        dom.add(dom.doc.body, 'script', {\n          id: id,\n          src: settings.url,\n          type: 'text/javascript'\n        });\n        self.count++;\n      }\n    };\n\n    var XHR = __assign(__assign({}, Observable), {\n      send: function (settings) {\n        var xhr, count = 0;\n        var ready = function () {\n          if (!settings.async || xhr.readyState === 4 || count++ > 10000) {\n            if (settings.success && count < 10000 && xhr.status === 200) {\n              settings.success.call(settings.success_scope, '' + xhr.responseText, xhr, settings);\n            } else if (settings.error) {\n              settings.error.call(settings.error_scope, count > 10000 ? 'TIMED_OUT' : 'GENERAL', xhr, settings);\n            }\n            xhr = null;\n          } else {\n            Delay.setTimeout(ready, 10);\n          }\n        };\n        settings.scope = settings.scope || this;\n        settings.success_scope = settings.success_scope || settings.scope;\n        settings.error_scope = settings.error_scope || settings.scope;\n        settings.async = settings.async !== false;\n        settings.data = settings.data || '';\n        XHR.fire('beforeInitialize', { settings: settings });\n        xhr = new XMLHttpRequest();\n        if (xhr.overrideMimeType) {\n          xhr.overrideMimeType(settings.content_type);\n        }\n        xhr.open(settings.type || (settings.data ? 'POST' : 'GET'), settings.url, settings.async);\n        if (settings.crossDomain) {\n          xhr.withCredentials = true;\n        }\n        if (settings.content_type) {\n          xhr.setRequestHeader('Content-Type', settings.content_type);\n        }\n        if (settings.requestheaders) {\n          Tools.each(settings.requestheaders, function (header) {\n            xhr.setRequestHeader(header.key, header.value);\n          });\n        }\n        xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n        xhr = XHR.fire('beforeSend', {\n          xhr: xhr,\n          settings: settings\n        }).xhr;\n        xhr.send(settings.data);\n        if (!settings.async) {\n          return ready();\n        }\n        Delay.setTimeout(ready, 10);\n      }\n    });\n\n    var extend = Tools.extend;\n    var JSONRequest = function () {\n      function JSONRequest(settings) {\n        this.settings = extend({}, settings);\n        this.count = 0;\n      }\n      JSONRequest.sendRPC = function (o) {\n        return new JSONRequest().send(o);\n      };\n      JSONRequest.prototype.send = function (args) {\n        var ecb = args.error, scb = args.success;\n        var xhrArgs = extend(this.settings, args);\n        xhrArgs.success = function (c, x) {\n          c = JSONUtils.parse(c);\n          if (typeof c === 'undefined') {\n            c = { error: 'JSON Parse error.' };\n          }\n          if (c.error) {\n            ecb.call(xhrArgs.error_scope || xhrArgs.scope, c.error, x);\n          } else {\n            scb.call(xhrArgs.success_scope || xhrArgs.scope, c.result);\n          }\n        };\n        xhrArgs.error = function (ty, x) {\n          if (ecb) {\n            ecb.call(xhrArgs.error_scope || xhrArgs.scope, ty, x);\n          }\n        };\n        xhrArgs.data = JSONUtils.serialize({\n          id: args.id || 'c' + this.count++,\n          method: args.method,\n          params: args.params\n        });\n        xhrArgs.content_type = 'application/json';\n        XHR.send(xhrArgs);\n      };\n      return JSONRequest;\n    }();\n\n    var create = function () {\n      return function () {\n        var data = {};\n        var keys = [];\n        var storage = {\n          getItem: function (key) {\n            var item = data[key];\n            return item ? item : null;\n          },\n          setItem: function (key, value) {\n            keys.push(key);\n            data[key] = String(value);\n          },\n          key: function (index) {\n            return keys[index];\n          },\n          removeItem: function (key) {\n            keys = keys.filter(function (k) {\n              return k === key;\n            });\n            delete data[key];\n          },\n          clear: function () {\n            keys = [];\n            data = {};\n          },\n          length: 0\n        };\n        Object.defineProperty(storage, 'length', {\n          get: function () {\n            return keys.length;\n          },\n          configurable: false,\n          enumerable: false\n        });\n        return storage;\n      }();\n    };\n\n    var localStorage;\n    try {\n      var test = '__storage_test__';\n      localStorage = window.localStorage;\n      localStorage.setItem(test, test);\n      localStorage.removeItem(test);\n    } catch (e) {\n      localStorage = create();\n    }\n    var LocalStorage = localStorage;\n\n    var publicApi = {\n      geom: { Rect: Rect },\n      util: {\n        Promise: promiseObj,\n        Delay: Delay,\n        Tools: Tools,\n        VK: VK,\n        URI: URI,\n        Class: Class,\n        EventDispatcher: EventDispatcher,\n        Observable: Observable,\n        I18n: I18n,\n        XHR: XHR,\n        JSON: JSONUtils,\n        JSONRequest: JSONRequest,\n        JSONP: JSONP,\n        LocalStorage: LocalStorage,\n        Color: Color,\n        ImageUploader: ImageUploader\n      },\n      dom: {\n        EventUtils: EventUtils,\n        Sizzle: Sizzle,\n        DomQuery: DomQuery,\n        TreeWalker: DomTreeWalker,\n        TextSeeker: TextSeeker,\n        DOMUtils: DOMUtils,\n        ScriptLoader: ScriptLoader,\n        RangeUtils: RangeUtils,\n        Serializer: DomSerializer,\n        StyleSheetLoader: StyleSheetLoader,\n        ControlSelection: ControlSelection,\n        BookmarkManager: BookmarkManager,\n        Selection: EditorSelection,\n        Event: EventUtils.Event\n      },\n      html: {\n        Styles: Styles,\n        Entities: Entities,\n        Node: AstNode,\n        Schema: Schema,\n        SaxParser: SaxParser,\n        DomParser: DomParser,\n        Writer: Writer,\n        Serializer: HtmlSerializer\n      },\n      Env: Env,\n      AddOnManager: AddOnManager,\n      Annotator: Annotator,\n      Formatter: Formatter,\n      UndoManager: UndoManager,\n      EditorCommands: EditorCommands,\n      WindowManager: WindowManager,\n      NotificationManager: NotificationManager,\n      EditorObservable: EditorObservable,\n      Shortcuts: Shortcuts,\n      Editor: Editor,\n      FocusManager: FocusManager,\n      EditorManager: EditorManager,\n      DOM: DOMUtils.DOM,\n      ScriptLoader: ScriptLoader.ScriptLoader,\n      PluginManager: PluginManager,\n      ThemeManager: ThemeManager,\n      IconManager: IconManager,\n      Resource: Resource,\n      trim: Tools.trim,\n      isArray: Tools.isArray,\n      is: Tools.is,\n      toArray: Tools.toArray,\n      makeMap: Tools.makeMap,\n      each: Tools.each,\n      map: Tools.map,\n      grep: Tools.grep,\n      inArray: Tools.inArray,\n      extend: Tools.extend,\n      create: Tools.create,\n      walk: Tools.walk,\n      createNS: Tools.createNS,\n      resolve: Tools.resolve,\n      explode: Tools.explode,\n      _addCacheSuffix: Tools._addCacheSuffix,\n      isOpera: Env.opera,\n      isWebKit: Env.webkit,\n      isIE: Env.ie,\n      isGecko: Env.gecko,\n      isMac: Env.mac\n    };\n    var tinymce = Tools.extend(EditorManager, publicApi);\n\n    var exportToModuleLoaders = function (tinymce) {\n      if (typeof module === 'object') {\n        try {\n          module.exports = tinymce;\n        } catch (_) {\n        }\n      }\n    };\n    var exportToWindowGlobal = function (tinymce) {\n      window.tinymce = tinymce;\n      window.tinyMCE = tinymce;\n    };\n    exportToWindowGlobal(tinymce);\n    exportToModuleLoaders(tinymce);\n\n}());\n"],"names":["LinkType","Base","name","trigger","defaults","linkModal","init","this","options","tinypattern","tiny","dom","getEl","$el","find","value","$","val","toUrl","load","element","getAttrib","attr","set","attributes","updateRelatedItems","ExternalLink","extend","prototype","call","on","RegExp","test","split","indexOf","InternalLink","length","addClass","createRelatedItems","relatedItems","upload","RelatedItems","selectItem","select2","generateUrl","UID","UploadLink","getDelegatedLinkType","linkType","linkTypes","image","internal","ImageLink","generateImageUrl","getScaleFromSrcset","$scale","EmailLink","subject","getSubject","href","apply","$subject","attribs","AnchorLink","$select","anchorNodes","anchorData","populate","id","node","i","j","title","self","remove","nodes","select","push","anchorSelector","text","replace","toLowerCase","substring","found","anode","newAnchor","data","append","getIndex","index","parseInt","innerHTML","anchor","tinymce","editor","ui","registry","addButton","icon","tooltip","onAction","settings","addImageClicked","shortcut","addLinkClicked","stateSelector","execCommand","initialLinkType","insertHeading","linkTypeClassMapping","external","email","uploadImage","externalImage","linkTypeTemplateMapping","LinkTemplate","ImageTemplate","template","_","modal","html","generateModalHtml","content","buttons","reloadWindowOnClose","templateOptions","classDialog","actionOptions","backdropOptions","zIndex","closeOnClick","e","modalShown","isOnlyTextSelected","selection","getContent","anchorElm","childNodes","ii","nodeType","insertImageHelp","uploadText","insertLinkHelp","anchorLabel","target","externalText","emailText","subjectText","targetList","titleText","internalImageText","internalImage","externalImageText","altText","alt","imageAlignText","imageAlign","captionFromDescriptionText","captionFromDescription","enableImageZoom","captionText","caption","scaleText","scale","pictureVariants","imageCaptioningEnabled","cancelBtn","insertBtn","isImageMode","initElements","$target","$modal","$button","$title","$alt","$align","$enableImageZoom","$captionFromDescription","$caption","type","$container","click","classes","eq","className","change","checked","prop","getLinkUrl","getValue","updateAnchor","focus","setRng","rng","linkAttrs","onlyText","initialText","innerText","textContent","setAttribs","undoManager","add","insertContent","createHTML","encode","focusElement","elm","nodeChanged","pictureVariant","pictureVariantsConfig","sourceset","updateImage","src","cssclasses","html_string","imgElm","join","getAttribute","imgWidth","imgHight","width","height","get","setAttrib","onload","onerror","complete","initData","$upload","selectableTypes","folderTypes","PatternUpload","evt","bind","off","preventDefault","stopPropagation","patUpload","patternUpload","dropzone","files","processUpload","counter","checkUpload","setTimeout","hide","error","show","getRng","selectedElm","getNode","getParent","format","default_link_target","rel","img","hasClass","guessImageLink","klasses","klass","availClass","imageClasses","$panel","guessAnchorLink","prependToScalePart","getScaleFromUrl","stripGeneratedUrl","prependToUrl","decodeURIComponent","setSelectElement","reinitialize","LinkModal","TinyMCE","constructor","el","insertAfter","splice","imageModal","_t","imageTypes","part","linkAttribute","appendToUrl","scale_name","url","appendToScalePart","appendToOriginalScalePart","parts","call_back","lang","I18n","currentLanguage","language","toUpperCase","console","log","default","plugin","plugins","uploadModal","pasteModal","utils","JSON","parse","tinyOptions","inline","tinyId","selector","file","skin","init_instance_callback","undefined","addMenuButton","fetch","callback","fancytype","rows","numRows","columns","numColumns","headerRows","initLanguage","after","importcss_file_filter","importcss_selector_filter","importcss_groups","filter","modal_container","parents","random_id","Math","random","toString","save","destroy","parser","uploadMultiple","maxFiles","showTitle","batchSize","basePath","vocabularyUrl","maximumSelectionSize","placeholder","loadingBaseUrl","defaultSrcset","large","media","medium","preview","small","theme","menubar","toolbar","async","implementation","instance","___CSS_LOADER_EXPORT___","module","___CSS_LOADER_URL_IMPORT_0___","URL","___CSS_LOADER_URL_IMPORT_1___","___CSS_LOADER_URL_IMPORT_2___","___CSS_LOADER_URL_IMPORT_3___","___CSS_LOADER_URL_IMPORT_4___","___CSS_LOADER_URL_IMPORT_5___","___CSS_LOADER_URL_IMPORT_6___","___CSS_LOADER_URL_IMPORT_7___","___CSS_LOADER_URL_IMPORT_8___","___CSS_LOADER_URL_IMPORT_9___","___CSS_LOADER_URL_IMPORT_10___","___CSS_LOADER_URL_IMPORT_11___","___CSS_LOADER_URL_IMPORT_12___","___CSS_LOADER_URL_IMPORT_13___","___CSS_LOADER_URL_IMPORT_14___","___CSS_LOADER_URL_IMPORT_15___","___CSS_LOADER_URL_IMPORT_16___","___CSS_LOADER_URL_IMPORT_17___","___CSS_LOADER_URL_IMPORT_18___","___CSS_LOADER_URL_IMPORT_19___","___CSS_LOADER_URL_IMPORT_20___","___CSS_LOADER_URL_IMPORT_21___","___CSS_LOADER_URL_IMPORT_22___","___CSS_LOADER_URL_IMPORT_23___","___CSS_LOADER_URL_IMPORT_24___","___CSS_LOADER_URL_IMPORT_25___","___CSS_LOADER_URL_IMPORT_26___","___CSS_LOADER_URL_IMPORT_27___","___CSS_LOADER_URL_REPLACEMENT_0___","___CSS_LOADER_URL_REPLACEMENT_1___","___CSS_LOADER_URL_REPLACEMENT_2___","___CSS_LOADER_URL_REPLACEMENT_3___","___CSS_LOADER_URL_REPLACEMENT_4___","___CSS_LOADER_URL_REPLACEMENT_5___","___CSS_LOADER_URL_REPLACEMENT_6___","___CSS_LOADER_URL_REPLACEMENT_7___","___CSS_LOADER_URL_REPLACEMENT_8___","___CSS_LOADER_URL_REPLACEMENT_9___","___CSS_LOADER_URL_REPLACEMENT_10___","___CSS_LOADER_URL_REPLACEMENT_11___","___CSS_LOADER_URL_REPLACEMENT_12___","___CSS_LOADER_URL_REPLACEMENT_13___","___CSS_LOADER_URL_REPLACEMENT_14___","___CSS_LOADER_URL_REPLACEMENT_15___","___CSS_LOADER_URL_REPLACEMENT_16___","___CSS_LOADER_URL_REPLACEMENT_17___","___CSS_LOADER_URL_REPLACEMENT_18___","___CSS_LOADER_URL_REPLACEMENT_19___","___CSS_LOADER_URL_REPLACEMENT_20___","___CSS_LOADER_URL_REPLACEMENT_21___","___CSS_LOADER_URL_REPLACEMENT_22___","___CSS_LOADER_URL_REPLACEMENT_23___","___CSS_LOADER_URL_REPLACEMENT_24___","___CSS_LOADER_URL_REPLACEMENT_25___","___CSS_LOADER_URL_REPLACEMENT_26___","___CSS_LOADER_URL_REPLACEMENT_27___","styleTagTransform","setAttributes","insert","first_child","document","head","querySelectorAll","insertBefore","domAPI","insertStyleElement","IconManager","icons","isType$1","x","t","Array","isPrototypeOf","String","typeOf","isSimpleType","eq$1","a","isString","isObject","isArray","isNull","isBoolean","isUndefined","isNullable","isNonNullable","isFunction","isNumber","isArrayOf","pred","len","noop","compose","fa","fb","args","_i","arguments","constant$1","identity$1","tripleEquals","b","curry","fn","initialArgs","restArgs","all","concat","not","f","die","msg","Error","never","always","global$g","util","Tools","resolve","__assign","Object","assign","s","n","p","hasOwnProperty","__rest","getOwnPropertySymbols","propertyIsEnumerable","__spreadArray","to","from","pack","ar","l","slice","none","NONE","thunk","fold","_s","isSome","isNone","getOr","getOrThunk","getOrDie","getOrNull","getOrUndefined","or","orThunk","map","each","exists","forall","toArray","some","constant_a","me","Optional","nativeSlice","nativeIndexOf","nativePush","rawIndexOf","ts","contains$2","xs","range$2","num","r","chunk$1","array","size","map$2","each$1","partition$3","pass","fail","filter$2","foldr","acc","eachr","foldl","find$5","until","findUntil","findIndex$1","flatten","bind$3","reverse","difference","a1","a2","mapToObject","pure$2","sort","comparator","copy","get$f","last$2","findMap","arr","keys","obj","props","k","map$1","tupleMap","v","tuple","filter$1","onTrue","onFalse","internalFilter","objAcc","mapToArray","find$4","values","get$e","key","has$2","hasNonNullableKey","is$1","lhs","rhs","left","cat","lift2","oa","ob","someIf","checkRange","str","substr","start","contains$1","startsWith","prefix","endsWith","suffix","trim$1","blank","isNotEmpty","isSupported$1","style","getPropertyValue","fromDom","SugarElement","fromHtml","scope","div","createElement","hasChildNodes","fromTag","tag","fromText","createTextNode","fromPoint","docElm","y","elementFromPoint","window","Function","SimpleResultType","name$2","nodeName","isType","isElement$2","isText$1","isDocument","isDocumentFragment","cached","called","unknown$3","nu$d","major","minor","Version","nu","detect","versionRegexes","agent","cleanedAgent","regexes","firstMatch","group","Number","find$3","unknown","detect$3","candidates","userAgent","candidate","search","normalVersionRegex","checkContains","uastring","browsers","brand","oses","PlatformInfo","edge","chrome","opera","firefox","safari","nu$c","info","current","version","isBrowser","isEdge","isChrome","isIE","isOpera","isFirefox","isSafari","Browser","ie","windows","android","linux","solaris","freebsd","chromeos","nu$b","isOS","isWindows","isiOS","isAndroid","isOSX","isLinux","isSolaris","isFreeBSD","isChromeOS","OperatingSystem","ios","osx","PlatformDetection","userAgentDataOpt","mediaMatch","browser","userAgentData","brands","uaBrand","lcBrand","_a","detectBrowser$1","detectBrowser","os","detectOs","deviceType","isiPad","isiPhone","isMobile","isTouch","isTablet","isPhone","iOSwebview","isDesktop","isWebView","DeviceType","query","matchMedia","matches","platform","navigator","detect$1","is","elem","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","bypassSelector","childElementCount","e1","e2","ieContains","match","compareDocumentPosition","Node","DOCUMENT_POSITION_CONTAINED_BY","documentPositionContainedBy","contains","d1","d2","regularContains","owner$4","ownerDocument","documentOrOwner","dos","documentElement","defaultView","parent","parentNode","offsetParent","children","child$2","cs","spot","offset","leaf","isShadowRoot","host","supported","Element","attachShadow","getRootNode","isSupported","getContentContainer","body","getShadowRoot","getShadowHost","isOpenShadowHost","shadowRoot","inBody","fbc","fab","doc","getBody","rawSet","setAttribute","set$8","setAll$1","attrs","get$d","getOpt","has$1","hasAttribute","remove$7","removeAttribute","internalSet","property","setProperty","internalRemove","removeProperty","set$7","setAll","css","setOptions","get$c","getComputedStyle","getUnsafeProperty","getRaw","raw","getAllRaw","ruleName","item","isValidValue","remove$6","reflow","offsetWidth","Dimension","getOffset","parseFloat","aggregate","properties","isNaN","h","getOuter","max","cumulativeInclusions","api$3","getBoundingClientRect","offsetHeight","get$b","getOuter$2","r$1","top","translate","SugarPosition","firstDefinedOrZero","absolute$3","win","offsetLeft","offsetTop","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","viewport$1","box","boxPosition","api$2","get$a","getOuter$1","fromRawEvent$1","rawEvent","event","composed","composedPath","getOriginalEventTarget","stop","prevent","kill","mkEvent","clientX","clientY","binder","handler","useCapture","wrapped","handle","addEventListener","unbind","removeEventListener","before$2","marker","after$2","sibling","nextSibling","append$2","prepend$1","firstChild$1","firstChild","appendChild","append$1","elements","empty","rogue","remove$5","removeChild","unwrap","wrapper","children$1","get$9","_DOC","scrollTo","bounds$1","right","bottom","getBounds$3","_win","scroll","get$8","clientWidth","clientHeight","visualViewport","pageLeft","pageTop","walkUp","navigation","view","owner","rest","Navigation","freeze","__proto__","frameElement","find$2","path","d","paths","pathTo","frames","loc","bounds","box$1","xy","w","absolute$2","position","value$3","o","isValue","isError","_opt","_f","onValue","mapError","toOptional","error$1","message","onError","Result","fromOption","opt","err","fold$1","res","stype","serror","svalue","Value","SimpleResult","results","errors","field$2","newKey","presence","ifField","ifCustom","instantiator","baseMerge","merger","objects","ret","curObject","deepMerge","old","merge$1","defaultedThunk","fallbackThunk","process","defaulted$1","fallback","mergeWithThunk","baseThunk","mergeErrors$1","ResultCombine","partitions","formatObj","input","stringify","nu$a","getErrorInfo","value$2","validator","extract","custom","anyValue$1","requiredAccess","bundle","missingRequired","fallbackAccess","extractField","field","av","bundleAsOption","optValue","ov","result","optionAccess","optionDefaultedAccess","valueThunk","getDelegate","getSetKeys","objOfOnly","fields","delegate","objOf","fieldNames","extra","unsupported","unsupportedFields","success","fields_1","extractFields","fieldStrings","_okey","_presence","_instantiator","arrOf","oneOf","props_1","setOf$1","keys$1","validatedKeys","validateKeys","validKeys","schema","vk","arrOfObj","anyValue","typedValue","expectedType","actualType","number","string","boolean","functionProcessor","isPostMessageable","every","postMessageable","chooseFrom","branches","ch","branch","missingBranch","vp","choose$2","missingKey","chosen","valueOf","setOf","asRaw","label","errs","extractValue","extraction","errInfo","formatError","asRawOrDie$1","es","choose$1","field$1","customField","validateEnum","required$1","requiredOf","requiredNumber","requiredString","requiredStringEnum","requiredFunction","requiredObjOf","objSchema","requiredArrayOfObj","objFields","requiredArrayOf","option","optionOf","optionNumber","optionString","optionFunction","optionArrayOf","optionObjOf","defaulted","defaultedOf","defaultedNumber","defaultedString","defaultedStringEnum","defaultedBoolean","defaultedFunction","defaultedArrayOf","defaultedObjOf","Cell","initial","Adt","cases","constructors","adt","acase","count","argLength","branchKeys","reqKey","foldArgs","params","bothErrors","firstError","secondError","bothValues","_a$2","exclude","exclude$1","wrap$1","wrap$2","wrapAll","keyvalues","kv","wrapAll$1","consolidate","objs","base","partition$1","mergeValues","ensureIsRoot","isRoot","ancestor$2","transform","transformed","closest$4","isSource","component","simulatedEvent","defaultEventHandler","can","abort","run","nu$9","fuse$1","handlers","all$2","any","constant","touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseout","mouseup","mouseover","focusin","focusout","keydown","keyup","transitioncancel","transitionend","transitionstart","selectstart","prefixName","alloy","tap","focus$4","postBlur","postPaste","receive","execute$5","focusItem","longpress","sandboxClose","typeaheadCancel","systemInit","documentTouchmove","documentTouchend","windowScroll","windowResize","attachedToDom","detachedFromDom","dismissRequested","repositionRequested","focusShifted","slotVisibility","changeTab","dismissTab","highlight$1","dehighlight$1","emit","dispatchWith","emitWith","emitExecute","dispatch","getSystem","triggerEvent","dispatchEvent","derive$2","configs","predicate","run$1","runActionExtra","action","runOnSourceName","redirectToPart","detail","partName","uid","getByUid","redirectee","redirectToUid","partUids","runWithTarget","ev","getByDom","cutter","cut","stopper","runOnSource","runOnAttached","runOnDetached","runOnInit","runOnExecute$1","runOnName","get$7","set$5","docDom","fragment","createDocumentFragment","contentElements","shallow","original","isDeep","cloneNode","clone$1","getHtml","container","clone","events$i","originator","isRecursive","warn","DefaultEvents","events","unique","generate$6","time","Date","getTime","floor","prefix$1","idAttr$1","idAttr","writeOnly","defineProperty","writable","read$1","generate$5","make$8","NoContextApi","getComp","getMessage","debugInfo","triggerFocus","triggerEscape","broadcast","broadcastOn","broadcastEvent","build","addToWorld","removeFromWorld","addToGui","removeFromGui","isConnected","singleton$1","cleanParameters","parameters","markAsExtraApi","extraName","endIndex","openBracketIndex","toFunctionAnnotation","premadeTag","premade$1","comp","makeApi","apiFunction","markAsSketchApi","getApis","NoState","nu$8","readState","spec","byInnerKey","indexKey","chain","nu$7","styles","getCurried","descHandler","cHandler","behaviourTuple","groupByEvents","behaviours","behaviourEvents","behaviour","nameToHandlers","assemble","rawHandler","read$2","fuse","tuples","eventOrder","eventName","order","keyName","sorted","aKey","bKey","aIndex","bIndex","sortKeys","sortedTuples","c","missingOrderError","combineGroups","byEventName","assembled","purpose","uncurried","baseBehaviour","schema$z","mergeWith","toEvents","read","supports","classList","add$3","clazz","add$4","remove$3","remove$4","add$2","cleanClass","get$6","remove$2","has","add$1","remove$1","get$5","set$4","generateFrom","validated","list","optBlobThunk","output","blob","config","state","generateFrom$1","generate$4","getBehaviours$2","getDomDefinition","bList","bData","defnA","mod","definition","domChildren","components","infoModification","domModification","toModification","baseModification","modification","baseMod","modsByBehaviour","exhibit","byAspect","combineObjects","combinedClasses","combinedAttributes","combinedStyles","combine$2","getEvents","baseEvents","combine$1","build$2","getMe","systemApi","toInfo","bBlob","getBehaviours$3","getData$2","innerHtml","renderToDom","subcomponents","hasConfigured","behaviourName","apis","connect","newApi","disconnect","syncComponents","subs","child","buildFromSpec","userSpec","specEvents","build$1","buildSubcomponents","completeSpec","external$2","extSpec","uids","getPremade","userSpecWithUid","isSketchSpec$1","premade","ClosestOrAncestor","ancestor","EventConfiguration","ancestor$1","closest$3","closest$2","child$1","descendant","querySelector","one","closest$1","manager","ariaId","link","unlink","isAriaPartOf","queryElem","dependent","dep","find$1","isPartOf$1","eventConfig","processEvent","initialTarget","patterns","NORMAL","noLogger","LOGGING","logger","sequence","startTime","logEventCut","_name","outcome","logEventStopped","logNoParent","logEventNoHandlers","logEventResponse","write","finishTime","makeEventLogger","STOP","monitorEvent","menuFields","itemFields","itemSchema$3","_initSize","tieredMenuMarkers","markers$1","required","onPresenceHandler","fieldName","stack","lines","line","getTrace","onHandler","onKeyboardHandler","onStrictHandler","onStrictKeyboardHandler","output$1","snapshot","initSize","nu$6","bubble","direction","placement","boundsRestriction","labelPrefix","alwaysFit","restriction","adt$a","southeast","southwest","northeast","northwest","south","north","east","west","southeast$3","southwest$3","northeast$3","northwest$3","south$3","north$3","east$3","west$3","cycleBy","delta","min","clamp$1","restrictions","dir","getRestriction","labelPrefix$2","eastX$1","middleX$1","westX$1","northY$2","southY$2","centreY$1","southeast$2","bubbles","southwest$2","northeast$2","northwest$2","north$2","south$2","east$2","eastEdgeX$1","west$2","westEdgeX$1","all$1","allRtl$1","aboveOrBelow","aboveOrBelowRtl","belowOrAbove","belowOrAboveRtl","ActiveReceiving","receiveConfig","channelMap","channels","receivingData","targetChannels","universal","chooseChannels","channelInfo","channelSchema","onReceive","ReceivingSchema","loadEvent","bConfig","bState","_simulatedEvent","wrapApi","bName","apiName","markAsBehaviourApi","revokeBehaviour","doCreate","configSchema","schemaSchema","active","getConfig","wrappedApis","apiF","wrappedExtra","extraF","revoke","prepared","configAsRaw","initialConfig","behaviourInfo","exhibitor","derive$1","capabilities","simpleSchema","create$7","create$8","modeSchema","createModes","modes","createModes$1","branchKey","Receiving","ActivePosition","posConfig","useFixed","getDocument","focus$3","hasFocus","root","activeElement","preserve$1","refocus","focused","descend","child_1","oldFocus","newFocus","NuPositionCss","toPx","applyPositionCss","toOptions","adt$9","relative","fixed","positionWithDirection","posName","decision","decisionRect","rect","decisionX","decisionY","decisionRight","decisionBottom","cata$2","reposition","origin","toBox","viewport","getBounds","pos","translate$2","outerScroll","AttributeValue","relative$1","fixed$1","anchorBox","placementAttribute","getPlacement","adt$8","fit","nofit","attempt","bubbleOffset","adjustedBounds","applyRestriction","isVerticalAxis","newPos","adjustedLeft","adjustedTop","adjustedRight","adjustedBottom","adjustBounds","newX","newY","boundsX","boundsY","boundsRight","boundsBottom","originInBounds","sizeInBounds","visibleW","visibleH","determinePosition","fits","fittedBox","maxX","maxY","restrictedX","restrictedY","restrictedWidth","restrictedHeight","calcReposition","isPartlyVisible","_b","upAvailable","downAvailable","maxHeight","middle","cataVertical","westAvailable","eastAvailable","maxWidth","cataHorizontal","calcMaxSizes","classesOn","classesOff","layout","testY","singleton","doRevoke","clear","isSet","destroyable","unbindable","value$1","bind$2","capture","capture$1","fromRawEvent","timerAttr","isTransitioning$1","transition","hasAll","hasChanges","intermediate","round","toFixed","newValue","setupTransitionListeners","timer","transitionEnd","transitionCancel","isSourceTransition","pseudoElement","propertyName","transitionDone","clearTimeout","transitionStarted","transitionStart_1","duration","times","delay","dur","getTransitionDuration","requestAnimationFrame","applyTransitionCss","lastPlacement","shouldTransition","placer","mode","shouldApplyTransitionCss","intermediatePosition_1","intermediateCssOptions","timerId","startTransitioning","elementBox","panelWidth","panelHeight","attemptBestFit","isVisible","next","attemptLayout","newReposition","newVisibleW","newVisibleH","newIsVisible","abc","bestNext","attempts","preference","setPlacement","setPlacement$1","setMaxHeight","absMax","setMax$1","anchored","available","expandable$1","defaultOr","dephault","go","positionCss","position$2","classInfo","setClasses","maxHeightFunction","setHeight","maxWidthFunction","setWidth","allAlignments","nu$5","xOffset","yOffset","insetModifier","insetXOffset","insetYOffset","getClasses","make","xDelta","yDelta","alignmentsOn","alignmentsOff","insetNortheast","insetNorthwest","insetNorth","insetSoutheast","insetSouthwest","insetSouth","insetEast","insetWest","nu$4","onDirection","isLtr","isRtl","getDirection","Attribute","isBottomToTopDir","BottomToTop","schema$y","get$4","defaultLtr","defaultRtl","defaultBottomLtr","defaultBottomRtl","dirElement","isBottomToTop","customLtr","layouts","ls","onLtr","customRtl","onRtl","ltr","onBottomLtr","rtl","onBottomRtl","HotspotAnchor","anchorInfo","hotspot","overrides","MakeshiftAnchor","adt$7","screen","absolute","point","toAbsolute","sum","points","sumAsAbsolute","positions","absolute$1","getRootPoint","frame","frameOwner","compOwner","getBox","pointed","calcNewAnchor","optBox","rootPoint","onNone","onRelative","onFixed","topLeft","sumAsFixed","layoutsLtr","showAbove","layoutsRtl","NodeAnchor","nodeBox","SimRange","soffset","finish","foffset","adt$6","before","Situ","situ","adt$5","domRange","exact","SimSelection","exactFromRange","simRange","getWin","startContainer","startSitu","_finishSitu","_soffset","_finish","_foffset","getStart","range","relativeToNative","finishSitu","createRange","setStartBefore","setStart","setStartAfter","setEndBefore","setEnd","setEndAfter","setFinish","exactToNative","toRect","adt$4","fromRange","startOffset","endContainer","endOffset","diagnose","ranges","getRanges","collapsed","rev","doDiagnose","asLtrRange","FocusInsideModes","api","getOption","nodeValue","NodeValue","elementsWithCursorPosition","isCursorPosition","hasCursorPosition","trim","descendantRtl","descendants","all$3","makeRange","same","readRange","rangeCount","firstRng","getRangeAt","lastRng","doGetExact","anchorNode","focusNode","focus_1","anchorOffset","focusOffset","getExact","getSelection","getNativeSelection","sel","getFirstRect","rects","getClientRects","getFirstRect$1","getBounds$1","getBounds$2","point$1","descendOnce$1","last","get$3","descendOnce","getAnchorSelection","modStart","modFinish","SelectionAnchor","selectionBox","optRect","rawRect","targetElement","labelPrefix$1","eastX","westX","northY$1","southY$1","southeast$1","southwest$1","northeast$1","northwest$1","allRtl","SubmenuAnchor","submenuInfo","AnchorSchema","submenu","makeshift","TransitionSchema","PositionSchema","PlacementSchema","place","anchoring","placee","lastPlace","overrideOptions","simple","positionWithin","posState","placementSpec","boxElement","boundsBox","positionWithinBounds","placeeDetail","anchorage","placeeState","oldVisibility","getRelativeOrigin","newState","doPlace","vis","PositionApis","getMode","pConfig","_pState","reset","reset$2","PositioningState","Positioning","fireDetaching","fireAttaching","attach$1","replaceChildren","newChildren","childComp","detachChildren$1","deleted","attach","attachWith","insertion","doDetach","detach","parent$1","detachChildren","attachSystem","guiSystem","attachSystemWith","inserter","detachSystem","rebuild","sandbox","sConfig","sState","_data","getAttachPoint","built","open$1","onOpen","close$1","onClose","isOpen$1","_sandbox","_sConfig","isOpen","cloak","_sState","sink","cssKey","store","cloakVisibilityAttr","decloak","hasPosition","oldValue","restore","SandboxApis","open","openWhileCloaked","transaction","close","isPartOf","getState","setContent","ActiveSandbox","sandboxConfig","sandboxState","SandboxSchema","SandboxState","contents","Sandboxing","dismissPopups","repositionPopups","mouseReleased","schema$x","receivingChannel$1","rawSpec","isExtraPart","fireEventInstead","fe","schema$w","receivingChannel","doReposition","onLoad$5","repConfig","repState","onLoad","onUnload$2","onUnload","RepresentApis","setValue","ActiveRepresenting","resetOnDom","_se","memory$1","isNotSet","dataset","dataByValue","dataByText","lookup","itemString","update","items","currentDataByValue","currentDataByText","newDataByValue","newDataByText","meta","RepresentState","memory","manual","setValue$2","onSetValue","DatasetStore","getDataKey","getFallbackEntry","initialValue","ManualStore","_repState","MemoryStore","initVal","RepresentSchema","Representing","setValueFrom","source","forbidden","_v","get$2","dump","augment","SketchBehaviours","_placeholder","adt$3","single","multiple","isSubstituted","scan","compSpec","placeholders","uiType","newSpec","subPlaceholder","substitute","req","childSpecs","substituted","valuesThunk","preprocess","preprocessor","substitutePlaces","ps","ph","replacements","used","substituteAll","single$2","adt$2","optional","fFactory","sketch","fSchema","fName","fPname","typeSpec","fGroupSchema","fDefaults","fOverrides","requiredSpec","externalSpec","optionalSpec","groupSpec","asNamedPart","name$1","convert","adtConstructor","partSchema","external$1","PartType","asCommon","combine","partSpec","partValidated","generate$3","np","g","doGenerateOne","pname","generateOne$1","schemas","names","substitutes","internals","externals","factory","_partSpec","_partValidated","units","u","components$1","getPart","partKey","getPartOrDie","getParts","partKeys","system","pk","getAllParts","pUid","_k","getAllPartNames","getPartsOrDie","defaultUids","baseUid","partTypes","partNames","pn","defaultUidsSchema","AlloyParts","generate","generateOne","asRawOrDie","partSchemas","partUidsSchemas","baseS","composite$1","specWithUid","supplyUid","partUidsSchema","hasUid","singleSchema","compositeSchema","rawConfig","extraApis","configFields","single$1","composite","partFields","inside","ComposeApis","getCurrent","composeConfig","_composeState","ComposeSchema","Composing","nativeDisabled","onLoad$1","disableConfig","disableState","disabled","disable$1","enable$1","hasNative","useNative","nativeDisable","nativeEnable","ariaDisable","ariaEnable","_disableState","disableClass","onDisabled","onEnabled","isDisabled","nativeIsDisabled","ariaIsDisabled","DisableApis","enable","disable","ActiveDisable","DisableSchema","Disabling","dehighlightAllExcept","hConfig","hState","skip","highlighted","highlightClass","skipComp","onDehighlight","highlight","isHighlighted","onHighlight","queryTarget","getByIndex","itemClass","getFirst","_hState","getLast","getDelta$2","selected","dest","getCandidates","HighlightApis","dehighlightAll","dehighlight","highlightFirst","firstComp","highlightLast","lastComp","highlightAt","highlightBy","getHighlighted","getPrevious","getNext","HighlightSchema","Highlighting","BACKSPACE","TAB","ENTER","ESCAPE","SPACE","LEFT","UP","RIGHT","DOWN","cyclePrev","tryPrev","cycleNext","tryNext","inSet","which","and","preds","isShift","shiftKey","isControl","ctrlKey","isNotShift","rule","classification","reportFocusShifting","prevFocus","dom$2","focusee","highlights","initialState","typical","infoSchema","stateInit","getKeydownRules","getKeyupRules","optFocusIn","processKey","getRules","keyingConfig","keyingState","transitions","rules","onFocusHandler","focusInside","OnFocusMode","focusIn","keyboardEvents","isEnterOrSpace","OnEnterOrSpaceMode","tryGoInsideComponent","create$5","cyclicField","tabbingConfig","visibilitySelector","_tabbingState","tabstops","visibles","firstTabstop","findInitial","focusManager","goFromTabstop","stopIndex","cycle","useTabstopAt","isTabstop","cyclic","findCurrent","tabstop","navigate","onEscape","onEnter","AcyclicType","CyclicType","defaultExecute","doDefaultExecute","stopEventForFirefox","_component","schema$v","execute$4","executeConfig","execute","ExecutionType","_executeState","spaceExec","useSpace","enterExec","useEnter","downExec","useDown","execKeys","useControlEnter","flatgrid$1","dimensions","setGridSize","getNumRows","getNumColumns","KeyingState","flatgrid","useH","movement","move","use","west$1","moveLeft","moveRight","east$1","useV","north$1","south$1","move$1","isHidden$1","locateVisible","locate","findIndex","withGrid","numCols","address","newIndex","row","column","cycleHorizontal$1","oldRow","oldColumn","colsInRow","newColumn","cycleVertical$1","newRow","newCol","schema$u","focusIn$3","gridConfig","_gridState","first","doMove$2","gridState","identified","handleTab","captureTab","moveLeft$3","moveRight$3","moveNorth$1","moveSouth$1","getKeydownRules$4","findCurrent$1","getKeyupRules$4","FlatgridType","horizontal","tryCycle","schema$t","execute$2","flowConfig","focusIn$2","_state","getInitial","moveLeft$2","moveRight$2","doMove$1","flowState","executeOnMove","doEscape","getKeyupRules$3","FlowType","_flowState","westMovers","allowVertical","eastMovers","toCell","matrix","rowIndex","columnIndex","cell","cycleHorizontal","startCol","deltaCol","newColIndex","cycleVertical","colIndex","startRow","deltaRow","nextRowIndex","colsInNextRow","nextColIndex","moveHorizontal","moveVertical","schema$s","focusIn$1","matrixConfig","previousSelector","selectors","doMove","ifCycle","ifMove","cycles","inRow","cellsInRow","allRows","toMatrix","moveNorth","moveSouth","getKeydownRules$2","getKeyupRules$2","MatrixType","schema$r","menuConfig","moveUp","moveDown","getKeydownRules$1","menuState","moveOnTab","getKeyupRules$1","MenuType","schema$q","SpecialType","specialInfo","onSpace","onShiftEnter","onShiftTab","onTab","onUp","onDown","onLeft","onRight","stopSpaceKeyup","acyclic","flow","execution","menu","special","Keying","keyConfig","keyState","sendFocusIn","isFlatgridState","replaceConfig","childSpec","replaceState","removee","foundChild","_replaceConfig","replaceAt","replaceeIndex","replacer","replacee","appendAt","ReplaceApis","appendee","prepend","prependee","replaceBy","replaceePred","Replacing","eventHandlers","events$d","focus$2","focusConfig","ignore","onFocus","FocusApis","blur","blur$1","isFocused","ActiveFocus","tabindex","stopMousedown","FocusSchema","Focusing","updateAriaState","toggleConfig","toggleState","ariaInfo","aria","updateClass","toggleClass","toggle$2","set$1","ToggleApis","toggle","isOn","ActiveToggle","executor","toggleOnExecute","updateExpanded","status","ToggleSchema","pressed","syncWithExpanded","expanded","Toggling","pointerEvents","onClick","events$a","optAction","hoverEvent","focusEvent","onHover","onFocus$1","hover","focus$1","schema$p","toggling","hasSubmenu","itemBehaviours","tConfig","ignoreFocus","schema$o","owner$2","parts$h","schema$n","focusWidget","widget","onHorizontalArrow","autofocus","setSource","_widget","widgetBehaviours","itemSchema$2","separator","parts$g","itemInfo","builder","unit","fakeFocus","markers","schema$m","grid","movementInfo","rowSelector","Menu","_spec","_externals","menuBehaviours","selectedItem","role","trace","byItem","byMenu","triggerItem","triggerMenu","generate$2","menus","expansions","menuItems","menuPaths","_triggerItem","extractPreparedMenu","prep","LayeredState","primary","directory","getTriggerData","menuValue","getItemByValue","getPreparedMenu","getTriggeringItem","triggeringItemValue","triggeredItem","triggeredMenu","triggeringItem","triggeringPath","lookupMenu","lookupItem","itemValue","setMenuBuilt","menuName","setContents","sPrimary","sMenus","sExpansions","sPaths","expand","refresh","collapse","otherMenus","menuValues","getPrimary","getMenus","isClear","getTriggeringPath","extraPath","revPath","menuIndex","collapseItem$1","tieredMenu","collapseMenu","tmenu","highlightPrimary","repositionMenus","_rawUiSpec","ExpandHighlightDecision","submenuParentItems","layeredState","setup","componentMap","primaryName","makeSketch","nbMenu","buildMenus","toDirectory","getItemValue","_container","_menuName","setActiveMenu","mv","closeOthers","others","backgroundMenu","stayInDom","updateAriaExpansions","parentItems","itemComp","getSubmenuParents","updateMenuPath","latestMenuName","menuPrep","activeMenu","expandRight","HighlightSubmenu","activeMenuPrep","buildIfRequired","onOpenSubmenu","collapseLeft","onCollapseMenu","keyOnItem","getSource","onExecute","onOpenMenu","highlightImmediately","navigateOnHover","updateView","HighlightParent","getActiveItem","currentItem","maybeActivePrimary","allMenus","preparedMenus","extractMenuFromContainer","primaryMenu","onRepositionMenu","tmenuBehaviours","_keyInfo","selectedMenu","tieredData","singleData","collapseItem","InlineView","showWithin","thing","showWithinBounds","lazySink","showMenuWithinBounds","menuSpec","menuSandbox","getSubmenuLayouts","triggeringPaths","isFirstTierSubmenu","submenuTriggers","st","submenuLayouts","makeMenu","showAt","showMenuAt","inlineBehaviours","getRelated","isPartOfRelated","onShow","onHide","fireDismissalEventInstead","fireRepositionEventInstead","westEdgeX","middleX","eastEdgeX","northY","southY","centreY","lookupPreserveLayout","preserve","lookupFlippedLayout","flip$2","global$f","Button","lookupAttr","buttonBehaviours","roleAttrs","getModAttributes","record","isSketchSpec","anyInSystem","asSpec","global$e","rtlTransform","defaultIconName","defaultIcon","getIconName","lcName","rtlName","addToEnd","ensureTrailing","lookupIcon","get$1","iconProvider","addFocusableBehaviour","svg","renderIcon$2","iconName","fallbackIcon","rtlIconClasses","needsRtlTransform","iconHtml","render$3","notificationIconMap","warning","Notification","iconNames","memBannerText","translationProvider","renderPercentBar","percent","renderPercentText","memBannerProgress","progress","updateProgress","updateText","text$1","banner","iconChoices","level","memButton","notificationIconSpec","closeButton","NotificationManagerImpl","extras","uiMothership","sharedBackstage","backstage","shared","closeCallback","hideCloseButton","timeout","notificationWrapper","notification","progressBar","providers","getSink","header","isPositionedAtTop","contentArea","getContentAreaContainer","win$1","moveTo","moveRel","notificationSpec","anchorOverrides","layoutDirection_1","getLayoutDirection","nodeAnchor","anchors","nuText","notifications","getArgs","ItemResponse","rate","cancel","throttle","global$d","repeatLeft","rootNode","isBlock","getContentEditable","isBoundary","backwards","create$4","getDoc","extractContents","insertNode","normalize","last$1","setCursorLocation","getEnd","getText","isWhitespace","chr","stripTriggerChar","triggerCh","findStart","initRange","minChars","getRoot","char","charAt","findChar","cloneRange","lastIndexOf","triggerChar","getContext","createRng","selectNode","AutocompleterEditorEvents","onKeypress","redirectKeyToItem","getItem","getView","isActive","cancelIfNecessary","isMenuOpen","stopImmediatePropagation","isProcessingAction","global$c","toLast","isText","toLeaf","isElement$1","isStartOfWord","isPreviousCharContent","lookup$2","getDatabase","database","triggerChars","getTriggerContext","context","lookupWithContext","fetchOptions","startText","autocompleters","lookupByChar","autocompleter","lookupData","ac","maxResults","then","matchText","highlightOn","separatorMenuItemSchema","autocompleterItemSchema","autocompleterSchema","baseToolbarButtonFields","toolbarButtonSchema","createToolbarButton","baseToolbarToggleButtonFields","toggleButtonSchema","createToggleButton","contextBarFields","contextButtonFields","contextToggleButtonFields","launchButtonFields","launchToggleButtonFields","toggleOrNormal","contextformbutton","contextformtogglebutton","contextFormSchema","contextToolbarSchema","register$b","popups","getAll","popup","stringArray","datasetValues","dv","ToolbarMode","ItemResponse$1","navClass","selectableClass","colorClass","presetClasses","normal","color","tickedClass","iconClass","textClass","caretClass","activeClass","containerClass","containerRowClass","classForPreset","presets","forMenu","hasIcons","menuClasses","dom$1","chunk","rowDom","chunks","preprocessCollection","isSeparator","allSplits","currentSplit","forCollection","initItems","_hasIcons","_item","menuHasIcons","handleError","createHorizontalPartialMenuWithAlloyItems","_columns","_presets","structure","createPartialMenuWithAlloyItems","forSwatch","forToolbar","cardImageFields","cardImageSchema","cardTextFields","cardTextSchema","itemSchema$1","cardimage","cardtext","cardcontainer","cardContainerSchema","commonMenuItemFields","cardMenuItemSchema","choiceMenuItemSchema","baseFields","insertTableFields","colorSwatchFields","fancyMenuItemSchema","inserttable","colorswatch","menuItemSchema","nestedMenuItemSchema","toggleMenuItemSchema","detectSize","margin","selectorClass","descendants$1","columnLength","thisTop","cTop","abs","ceil","namedEvents","SimpleBehaviours","ExclusivityChannel","ShowTooltipEvent","HideTooltipEvent","hideAllExclusive","_tConfig","_tState","TooltippingApis","setComponents","tState","specs","getTooltip","ActiveTooltipping","tooltipConfig","clearTooltip","clearTimer","resetTimer","isShowing","tooltipDom","tooltipComponents","setTooltip","TooltippingSchema","Tooltipping","global$b","global$a","getHeightSetting","getParam","getElement","getWidthSetting","DOM","getStyle","getMinWidthSetting","getMinHeightSetting","getMaxWidthSetting","getMaxHeightSetting","isMenubarEnabled","isToolbarEnabled","isToolbarTrue","isToolbarString","isToolbarObjectArray","isMultipleToolbars","getMultipleToolbarsSetting","toolbars","toolbarArray","ToolbarLocation","getToolbarMode","_a$1","getToolbarLocation","auto","isToolbarLocationBottom","fixedContainerTarget","fixedContainerSelector","fixedToolbarContainerTarget","useFixedContainer","getUiContainer","isDistractionFree","isStickyToolbar","getMenubar","getAnchorTop","getAnchorBottom","ReadOnlyChannel","ReadOnlyDataSchema","broadcastReadonly","uiComponents","readonly","outerContainer","mothership","setupReadonlyModeSwitch","isReadOnly","setMode","receivingConfig","DisablingConfigs","runWithApi","getApi","onControlAttached","editorOffCell","onDestroy","onSetup","onControlDetached","onMenuItemExecute","itemResponse","triggersSubmenu","CLOSE_ON_EXECUTE","menuItemEventOrder","componentRenderPipeline","renderCommonItem","providersbackstage","optComponents","buildData","global$9","convertText","mac","ctrl","shift","access","updated","segment","renderIcon$1","renderText","renderHtml","renderStyledText","renderShortcut","renderCheckmark","renderColorStructure","providerBackstage","baseDom","itemText","ariaLabel","iconSvg","iconContent","renderItemDomStructure","domTitle","renderItemStructure","providersBackstage","renderIcons","iconSpec","leftIcon","checkmark","checkMark","textRender","htmlContent","shortcutContent","caret","renderNormalItemStructure","tooltipBehaviour","tooltipWorker","_tooltip","replaceText","encoded","encodeText","escapedMatchRegex","escape","render$2","directionClass","alignClass","align","valign","getValignClass","renderContainer","renderImage","shouldHighlight","cardText","parts$f","hexColour","shorthandRegex","longformRegex","isHexString","hex","normalizeHex","numChars","removeFromStart","removeLeading","extractValues","longForm","hexString","m","getLongForm","splitForm","exec","toHex","fromRgba","rgbaColour","red","green","blue","round$1","rgbRegex","rgbaRegex","alpha","isRgbaComponent","fromHsv","hsv","hue","saturation","brightness","side","chroma","fromHex","fromStringValues","fromString","rgbaString","rgbMatch","rgbaMatch","rgba","fireResizeContent","fire","hsvColour","fromRgb","minRGB","maxRGB","hsvToHex","anyToHex","canvas","canvasContext","clearRect","fillStyle","fillRect","getImageData","global$8","storageName","FocusMode","choiceItem","defaultColors","colorCache","storageString","localstorage","cache","idx","unshift","pop","setItem","ColorCache","hasCustomColors$1","getColors$2","unmapped","getColorMap","colorMap","colors","mapColors","addColor","fallbackColor","getColorCols$1","defaultCols","sqrt","calcCols","getColorCols$2","getAdditionalColors","hasCustom","applyColor","onChoice","colorPickerDialog","dialog","colorOpt","getColors$1","getFetch$1","setIconColor","splitButtonApi","newColor","setIconFill","registerTextColorButton","lastColor","addSplitButton","optCurrentRgb","getParents","getCurrentColor","currentRgb","currentHex","_splitButtonApi","onItemAction","fireTextColorChange","registerTextColorMenuItem","addNestedMenuItem","getSubmenuItems","isValid","initialData","colorpicker","windowManager","_api","details","onSubmit","getData","alert","onCancel","createPartialChoiceMenu","onItemValueHandler","alloyItems","createChoiceItems","itemPresets","useText","isSelected","setActive","setDisabled","renderChoiceItem","deriveMenuMovement","menuMarkers","getColorItems","useCustomColors","allowCustomColors","colorinput","hasCustomColors","getColors","cellOverEvent","cellExecuteEvent","makeCell","col","labelId","se","makeComponents","cells","cellRow","makeLabelText","fancyMenuItems","sizeLabelId","makeCells","emptyLabelText","memLabel","selectedRow","selectedColumn","selectCells","getColorCols","widgetSpec","autocomplete","separator$3","nested","downwardsCaret","renderSubmenuCaret","toggle$1","fancy","render","card","createMenuItemFromBridge","isHorizontalMenu","parseForHorizontalMenu","menuitem","createNestedMenuItem","createToggleMenuItem","createSeparatorMenuItem","createFancyMenuItem","createAutocompleteItems","createCardMenuItem","createAutocompleterItem","createPartialMenu","createItem","itemHasIcon","createTieredDataFrom","partialMenu","Autocompleter","activeAutocompleter","processingAction","hideIfNecessary","lastElement","getAutocompleters","display","matchLength","ld","focusMode","ContentFocus","createMenuFrom","newContext","doLookup","lookupInfo","commenceIfNecessary","combinedItems","choices","itemMeta","nr","autocompleterApi","reload","BUBBLE_TO_SANDBOX","autocompleterUiApi","hasPlugin","closest","DelayedFunction","fun","ref","schedule","getTouch","touches","monitor","startData","longpressFired","longpress$1","touch","distX","distY","isFarEnough","fireIfReady","setup$d","rawSettings","stopBackspace","tapEvent","simpleEvents","tapStopped","pasteTimeout","onPaste","onKeydown","isDangerous","onFocusIn","bindFocus","focusoutTimeout","onFocusOut","bindBlur","derive","rawTarget","adt$1","stopped","resume","doTriggerHandler","eventType","isStopped","isCut","fromSource","handlerInfo","eventHandler","doTriggerOnUntilStopped","listeners","_logger","fromExternal","listener","triggerOnUntilStopped","EventRegistry","registerId","extraArgs","curryArgs","unregisterId","handlersById","_eventName","filterByType","broadcastHandler","isAboveRoot","findHandler","Registry","readOrTag","unregister","tagId","register","conflict","failOnDuplicate","getById","Container","domWithoutAttributes","containerBehaviours","takeover","domEvents","triggerUntilStopped","_alloyId","triggerHandler","broadcast$1","broadcastData","receivers","receiver","schema$l","parts$e","excludeFactory","FormField","fieldBehaviours","descriptor","descriptorId","getField","getLabel","ActiveTabstopping","tabConfig","tabAttr","TabstopSchema","Tabstopping","global$7","renderFormFieldWith","pLabel","pField","extraClasses","extraBehaviours","renderFormFieldSpecWith","renderFormFieldDomWith","renderLabel$2","formChangeEvent","formCloseEvent","formCancelEvent","formActionEvent","formSubmitEvent","formBlockEvent","formUnblockEvent","formTabChangeEvent","formResizeEvent","renderCollection","runOnItem","tgt","collectionEvents","currentActive","iterCollectionItems","applyAttributes","childElm","htmlLines","mapItemName","encodeAllRaw","schema$k","focusBehaviours","selectOnFocus","setSelectionRange","inputBehaviours","inputAttributes","inputStyles","inputClasses","Input","exports$1","exports","define","require","global","amd","globalThis","EphoxContactWrapper","commonjsGlobal","promise","setTimeoutFunc","Promise","TypeError","_handled","_value","_deferreds","doResolve","deferred","_immediateFn","cb","onFulfilled","onRejected","reject","finale","thisArg","_unhandledRejectionFn","Handler","done","reason","ex","prom","remaining","race","setImmediate","_setImmediateFn","_setUnhandledRejectionFn","promisePolyfill","boltExport","HighlightOnOpen","Promise$1","nu$3","baseFn","callbacks","nCallback","isReady","cbs","LazyValue","pure","errorReporter","make$5","aFutureB","toPromise","anonBind","futureB","toLazy","toCached","Future","ariaElements","isAriaElement","markValid","invalidConfig","invalidClass","notify","notifyInfo","getContainer","validHtml","onValid","markInvalid","invalidState","onInvalid","_invalidState","validatorInfo","validate","onValidate","valid","InvalidateApis","isInvalid","ActiveInvalidate","onEvent","validateOnLoad","InvalidateSchema","Invalidating","validation","CouplingApis","getCoupled","coupleConfig","coupleState","getOrCreate","CouplingSchema","CouplingState","coupled","Coupling","partType$1","kernel","colorFn","getAnchor","getHotspot","getAnchorOverrides","mapFetch","onOpenSync","highlightOnOpen","processed","futureData","fetcher","getLazySink","tdata","HighlightFirst","openF","_onOpenSync","_highlightOnOpen","togglePopup","matchWidth","useMinWidth","buttonWidth","set$6","sinkDetail","internalSink","lazySinkFn","doRepositionMenus","makeSandbox$1","ariaOwner","sandboxClasses","sandboxBehaviours","sandboxFields","schema$j","parts$d","Dropdown","switchToMenu","HighlightNone","triggerExecute","dropdownBehaviours","ActiveUnselecting","unselectable","Unselecting","colorInputChangeEvent","colorSwatchChangeEvent","colorPickerCancelEvent","renderColorInput","colorInputBackstage","inputValue","span","emitSwatchChange","colorBit","memColorButton","renderPanelButton","colorPicker","valueOpt","colorButton","_field","labelPart","edgePart","model","edgeActions","det","mouseIsDown","tlEdgePart","tedgePart","trEdgePart","redgePart","brEdgePart","bedgePart","blEdgePart","ledgePart","thumbPart","spectrumPart","getValueFromEvent","spectrum","SliderParts","sliderChangeEvent","getEventSource","isTouchEvent$2","touchEvent","mouseEvent","minX","minY","min1X","min1Y","max1X","max1Y","xRange","yRange","halfX","halfY","step","stepSize","snap","snapToGrid","snapStart","rounded","hasEdge","edgeName","hasLEdge","hasREdge","hasTEdge","hasBEdge","currentValue","xValue","yValue","xyValue","fireSliderChange$3","reduceBy","increaseBy","capValue","findValueOf","hasMinEdge","hasMaxEdge","minBound","maxBound","screenRange","capMin","capMax","findOffsetOf","initValue","extraValue","remainder","adjustment","rawSteps","maxSteps","snapValueOf","findOffsetOfValue$2","maxOffset","centerMinEdge","centerMaxEdge","getBoundsProperty","getMinXBounds","getMaxXBounds","getMinYBounds","getMaxYBounds","getXScreenRange","getYScreenRange","getCenterOffsetOf","componentMinEdge","componentMaxEdge","spectrumMinEdge","getXCenterOffSetOf","componentBounds","spectrumBounds","getYCenterOffSetOf","fireSliderChange$2","sliderValue$2","findValueOfOffset$1","handleMovement$2","moveBy$2","findPositionOfValue$1","slider","minEdge","maxEdge","minOffset","findOffsetOfValue$1","onLeft$2","onRight$2","onUp$2","onDown$2","edgeActions$2","HorizontalModel","sliderVal","setToMin","setToMax","findValueOfOffset","findPositionOfValue","setPositionFromValue","thumb","edges","getSpectrum","getLeftEdge","getRightEdge","thumbRadius","fireSliderChange$1","sliderValue$1","handleMovement$1","moveBy$1","findOffsetOfValue","onLeft$1","onRight$1","onUp$1","onDown$1","edgeActions$1","VerticalModel","getTopEdge","getBottomEdge","fireSliderChange","sliderValue","handleMovement","isVerticalMovement","moveBy","TwoDModel","mX","mY","xPos","yPos","thumbXRadius","thumbYRadius","Slider","getThumb","modelDetail","choose","wasDown","onChoose","onDragStart","onDragEnd","sliderBehaviours","onChange","changeValue","getInitialValue","onInit","resetToMin","resetToMax","fieldsUpdate","sliderUpdate","paletteUpdate","owner$1","schema$i","getPartName$1","make$4","formBehaviours","form","resPs","resPThunk","pName","Form","fSpec","fieldParts","validInput","invalidInput","validatingInput","translatePrefix","rgbFormFactory","getClass","onValidHexx","onInvalidHexx","invalidation","renderTextField","description","helptext","comps","concats","copyRgbToForm","rgb","memPreview","updatePreview","rgbFormSketcher","setValueRgb","onInvalidInput","onValidRgb","hexField","copyRgbToHex","onValidInput","isHexInputEvent","onValidHex","formPartStrings","redStrings","greenStrings","blueStrings","hexStrings","updateHex","copyHexToRgb","paletteFactory","_translate","setColour","ctx","grdWhite","createLinearGradient","addColorStop","grdBlack","saturationBrightnessPaletteSketcher","_detail","_thumb","_slider","setHue","_apis","setPaletteHue","setThumb","setPaletteThumb","makeFactory","colourPickerSketcher","updates","rgbForm","onInvalidHex","sbPalette","hueDegreesToSlider","paletteRgba","paletteHue","memSlider","sliderFactory","memPalette","memRgb","updatePalette","_hex","palette","updateFields","updateSlider","updatePaletteThumb","runUpdates","updateState","hexToHsv","oldHue","newHsv","newHex","onPaletteUpdate","hueSliderToDegrees","oldRgb","oldHsv","onSliderUpdate","ComposingConfigs","mem","english","translate$1","getEnglishText","global$6","global$5","processors","withComp","optInitialValue","getter","setter","withElement","RepresentingConfigs","rawProcessors","other","rawValue","postprocess","renderDropZone","actions","onDrop","transferEvent","handleFiles","dataTransfer","onSelect","allowedImageFileTypes","explode","getSetting","filterByExtension","memInput","accept","beforeObject","afterObject","craftWithClasses","outline","craft","triggerTab","targetComp","isPseudoStop","platformNeedsSandboxing","renderIFrame","isSandbox","sandboxed","sourcing","cachedValue","_frameComponent","frameComponent","contentWindow","getDynamicSource","create$3","resize$3","tCanvas","get2dContext","drawImage","getWidth$1","naturalWidth","getHeight$1","naturalHeight","dataUriToBlob","uri","mimetype","base64","sliceSize","byteCharacters","atob","bytesLength","slicesCount","byteArrays","sliceIndex","begin","end","bytes","charCodeAt","Uint8Array","Blob","dataUriToBlobSync","canvasToBlob","quality","HTMLCanvasElement","toBlob","toDataURL","blobToCanvas","blobUrl","createObjectURL","Image","removeListeners","loaded","blobToImage","revokeImageUrl","revokeObjectURL","create$2","getCanvas","initialType","getType","toAdjustedDataURL","canvasToDataURL","toBase64","toAdjustedBlob","toAdjustedBase64","dataurl","toCanvas","fromBlob","reader","FileReader","onloadend","readAsDataURL","blobToDataUri","fromCanvas","clamp","parsedValue","DELTA_INDEX","multiply","matrix1","matrix2","out","colorFilter","ir","applyColorFilter","pixels","pixelsData","m0","m1","m2","m3","m4","m5","m6","m7","m8","m9","m10","m11","m12","m13","m14","m15","m16","m17","m18","m19","applyMatrix","putImageData","applyConvoluteFilter","pixelsIn","pixelsOut","pIn","pOut","aMatrix","halfSide","drgba","cy","cx","scx","innerOffset","wt","complexAdjustableColorFilter","matrixAdjustFn","adjust","invert$1","basicColorFilter","brightness$1","contrast$1","colorize$1","adjustR","adjustG","adjustB","adjustColors","sharpen$1","convoluteFilter","gamma$1","pow","applyLookup","filterImpl","dW","dH","sW","sH","wRatio","hRatio","scaleCapped","scaled","_scale","ceilWithPrecision","precision","mul","upper","applyRotate","angle","rad","PI","sin","cos","newWidth","newHeight","rotate","applyFlip","axis","applyCrop","invert","sharpen","gamma","contrast","flip","flip$1","crop","crop$1","resize$1","newCanvas","resize$2","rotate$1","renderIcon","iconsProvider","renderIconFromPack","renderReplacableIconFromPack","renderLabel$1","internalToolbarButtonExecute","toolbarButtonEventOrder","updateMenuText","updateMenuIcon","renderCommonDropdown","optMemDisplayText","optMemDisplayIcon","onLeftOrRightInMenu","dropdown","tooltipAttributes","translatedTooltip","displayText","displayIcon","isSeparator$1","separator$2","unwrapReferences","realItems","isMenuItemReference","getFromItem","isExpandingMenuItem","submenuItems","getFromExpandingItem","itemWithValue","generateValueIfRequired","newData","mainMenu","submenus","getMenuButtonApi","renderMenuButton","_comp","getFetch","getButton","getMenuItemAction","storage","orig","getMenuItemSetup","renderCommonSpec","actionOpt","common","domFinal","renderIconButtonSpec","renderIconButton","iconButtonSpec","renderButtonSpec","translatedText","borderless","renderButton","buttonSpec","getAction","buttonType","renderFooterButton","isMenuFooterButtonSpec","menuButtonSpec","fixedSpec","memButton_1","isNormalFooterButtonSpec","renderDialogButton","schema$h","coupledPart","selfName","otherName","lock","onLockedChange","parts$c","locked","lockClass","FormCoupledInputs","coupledFieldBehaviours","field1Name","field1","field2Name","field2","getField1","getField2","getLock","parseSize","sizeText","convertUnit","inInch","noSizeConversion","_input","makeRatioConverter","currentFieldText","otherFieldText","cValue","oValue","cSize","oSize","ratioSizeConversion","renderSizeInput","converter","ratioEvent","makeIcon","pLock","formGroup","getFieldPart","isField1","widthField","heightField","_lock","newSize","unitDec","numText","formatSize","optCurrent","optOther","value1","value2","undo","redo","zoom","back","swap","tempTransform","transformApply","saveState","renderEditPanel","imagePanel","createButton","createIconButton","disableAllComponents","eventcomp","enableAllComponents","panelDom","noop$1","emit$1","emitDisable","emitEnable","emitTransform","getBackSwap","memContainer","ButtonPanel","emitTransformApply","createBackButton","button","createSpacer","createApplyButton","cropPanelComponents","getRect","hideCrop","CropPanel","memSize","constrain","resizePanelComponents","sizeInput","makeResizeTransform","ResizePanel","makeValueTransform","horizontalFlip","verticalFlip","counterclockwiseRotate","clockwiseRotate","flipRotateOnAction","operation","emitTempTransform","flipRotateComponents","FlipRotatePanel","makeSlider","makeVariableSlider","valTransform","createVariableFilterPanel","filterPanelComponents","variableFilterPanelComponents","FilterPanel","BrightnessPanel","ContrastPanel","GammaPanel","makeColorTransform","colorize","makeColorSlider","redOpt","memRed","blueOpt","memBlue","greenOpt","memGreen","colorizePanelComponents","ColorizePanel","getTransformPanelEvent","panel","sharpenTransform","invertTransform","buttonPanelComponents","_anyInSystem","showCrop","measurements","getMeasurements","getApplyButton","global$4","global$3","global$2","updateWithTouchData","changedTouches","isTouchEvent$1","DragHelper","_c","eventOverlay","downButton","startX","startY","handleEvents","overlayEvents","sugarDoc","handleElement","getElementById","docSize","scrollWidth","scrollHeight","getDocumentSize","screenX","screenY","cursor","drag","deltaX","deltaY","CropRect","currentRect","viewPortRect","clampRect","containerElm","dragHelpers","handles","xMul","yMul","deltaW","deltaH","blockers","getRelativeRect","outerRect","innerRect","moveRect","startRect","setInnerRect","repaint","updateElementRect","newRect","setRect","relativeRect","cropContainer","blocker","blockerElm","cropBlocker","handleElm","cropHandle","handleFocus","activeHandle","moveAndBlock","keyCode","SPACEBAR","toggleVisibility","elems","setClampRect","getInnerRect","setViewPortRect","helper","renderImagePanel","initialUrl","memBg","zoomState","cropRect","rectState","viewRectState","repaintImg","panelW","panelH","bg","cRect","updateSrc","aImg","lastViewRect","viewRect","inflate","zoomFit","currentZoom","newZoom","setButtonEnabled","enabled","Delimiter","makeState","canUndo","canRedo","blobState","tempState","undoStack","removed","setBlobState","createState","destroyState","destroyTempState","addBlobState","states","getBlobState","getTempState","updateTempState","newTempState","addTempState","applyTempState","postApply","temp","currentState","getHistoryStates","undoEnabled","redoEnabled","renderImageTools","updateButtonUndoStates","historyStates","sideBar","imageResultToBlob","block","unblock","editPanel","applyButton","blobManipulate","blobToImageResult","catch","manipulate","currentUrl","memUndo","memRedo","renderSideBar","_oImg","tempManipulate","manipulateApply","disableUndoRedo","isSingleListItem","dataAttribute","fetchItems","dropdownComp","selectedValue","findItemByValue","HtmlSelect","initialValues","selectClasses","selectAttributes","selectBehaviours","baseInputBehaviours","multiline","validatingBehaviours","vl","inputMode","inputmode","classname","extraClasses2","flex","maximized","ActiveStreaming","streamConfig","streamState","processor","stream","streams","cancelEvent","_config","setTimer","StreamingState","StreamingSchema","streamInfo","sInfo","throttler","onStream","stopEvent","Streaming","setValueFromItem","itemData","setCursorAtEnd","setSelectionOn","attemptSelectOver","selectsOver","inputDisplay_1","getDisplayText","setSelectionToEnd","itemExecute","schema$g","parts$b","previewing","populateFromBrowse","typeahead","Typeahead","navigateList","highlighter","focusBehaviours$1","responseTime","previousValue_1","pv","sandboxIsOpen","openClass","onItemExecute","dismissOnBlur","typeaheadBehaviours","wrap","bindFuture","resA","bindResult","mapResult","foldResult","whenError","whenValue","withTimeout","errorThunk","timedOut","nu$1","worker","FutureResult","separator$1","toMenuItem","staticMenuItem","filteredTargets","targets","toMenuItems","filterLinkTargets","headerTargets","linkInfo","anchorTargets","anchorTargetTop","anchorTop","anchorTargetBottom","anchorBottom","filterByQuery","term","lowerCaseTerm","getItems","fileType","urlBackstage","urlInputValue","getLinkInformation","history","historyTargets","getHistory","errorId","make$2","factories","bar","interpreter","renderBar","collection","alertbanner","iconTooltip","renderAlertBanner","renderInput","textarea","renderTextarea","backstageShared","renderLabel","iframe","iframeSpec","makeIframe","checkbox","repBehaviour","toggleCheckboxHandler","memIcons","renderCheckbox","colourPickerFactory","memPicker","picker","renderGrid","listbox","initialItem","sketchSpec","listBoxWrap","renderListBox","selectbox","translatedOptions","chevron","selectWrap","renderSelectBox","sizeinput","urlinput","updateHistory","urlEntry","addToHistory","filetype","memUrlBox","_newValue","getValidationHandler","memInvalidIcon","invalidComp","completer","_menu","_entry","errId","memStatus","optUrlPicker","getUrlPicker","browseUrlEvent","memUrlPickerButton","componentData","urlData","fieldname","chosenData","renderUrlInput","customeditor","editorApi","memReplaced","ta","isOldCustomEditor","scriptId","scriptUrl","ea","cvalue","ed","htmlpanel","imagetools","table","renderTh","renderTd","renderTr","renderTable","renderPanel","noFormParts","interpretInForm","oldBackstage","newBackstage","interpretParts","bubbleAlignments$2","valignCentre","alignCentre","alignLeft","alignRight","getInlineDialogAnchor","contentAreaElement","lazyAnchorbar","lazyUseEditableAreaAnchor","getBannerAnchor","getCursorAnchor","bodyElement","getNodeAnchor$1","getAnchors","isToolbarTop","useFixedToolbarContainer","inlineDialog","ColorInputBackstage","isDraggableModal","isDraggableModal$1","DialogBackstage","defaultStyleFormats","mapFormats","userFormats","fmt","customFormats","formats","isInlineFormat","isBlockFormat","isSelectorFormat","formatNameWithPrefix","getStyleFormats","getUserStyleFormats","registeredUserFormats","registerFormats","formatter","registerCustomFormats","isMergeStyleFormats","processBasic","isSelectedFor","getPreviewFor","formatterSpec","getStylePreview","register$8","doEnrich","newItems","enrichMenu","getStyleItems","enrichSupported","formatName","customSpec","newItem","enrichCustom","init$8","parseStyle","getCssText","settingsFormats","settingsFlattenedFormats","eventsFormats","eventsFlattenedFormats","replaceSettings","_e","enriched","modifications","fromSettings","fromEvents","getFlattenedKeys","hasContentEditableState","isElement","contentEditable","isContentEditableTrue","isContentEditableFalse","create","getElementText","isValidAnchor","isAnchor","isEditable","isHeader","isChildOfContentEditableTrue","isValidHeader","headerTarget","headerId","getOrGenerateId","getLevel","anchorTarget","anchorId","anchorText","getTargetElements","elms","hasTitle","LinkTargets","getHeaderTargets","getAnchorTargets","STORAGE_KEY","isHttpUrl","isRecordOfUrlArray","getAllHistory","unparsedHistory","SyntaxError","itemsWithoutUrl","setAllHistory","isTruthy","makeMap","getPicker","getFilePickerCallback","getPickerSetting","pickerTypes","optFileTypes","getFilePickerTypes","optLegacyTypes","getFileBrowserCallbackTypes","optTypes","_picker","types","getPickerTypes","getTextSetting","UrlInputBackstage","noTypeaheadUrls","getFilePickerValidatorHandler","entry","init$7","contextMenuState","getDockingMode","setDockingMode","HeaderBackstage","interpretWithoutForm","styleselect","isContextMenuOpen","setContextMenuState","parts$a","partType","schema$f","itemsPart","parts$9","CustomList","_external","shell","getListContainer","listBehaviours","setItems","itemComps","numListsRequired","numListsToAdd","itemsToAdd","makeItem","itemsToRemove","builtLists","setupItem","schema$e","parts$8","Toolbar","getGroupContainer","toolbarBehaviours","setGroups","groups","setup$a","isDocked$2","getBehaviours$1","StaticHeader","isDocked","getBehaviours","getOffsetParent","offsetParent$1","getOrigin","morphAdt","static","appear","contextualInfo","transitionClass","fadeOutClass","fadeInClass","disappear","isVisibleForModes","isBottomCompletelyVisible","isTopCompletelyVisible","getPrior","getInitialPos","revertToOriginal","clearInitialPos","offsetBox_1","_left","_top","_right","_bottom","morphToFixed","getModes","setInitialPos","storePrior","winBox","top_1","isTop","getMorph","morphToOriginal","morphToStatic","setDocked","onUndocked","morphToCoord","onDocked","updateVisibility","morphToDocked","contextual","contextInfo","lazyContext","isPartiallyVisible","setVisible","resetInternal","getMorphToOriginal","morph","refresh$4","lazyViewport","refreshInternal","DockingApis","setModes","ActiveDocking","dockInfo","dockState","onShown","onHidden","DockingSchema","Docking","docked","visible","initialBounds","toolbarHeightChange","visibility","editorStickyOnClass","editorStickyOffClass","isDockedMode","updateIframeContentFlow","parentElem","padding","parentWidth","getOccupiedHeight","updateSinkVisibility","sinkElem","updateEditorClasses","editorContainer","focusedElm","runOnSinkElement","onDockingSwitch","additionalBehaviours","getIframeBehaviours","headerHeight","boxHeight","topBound","headerElem","focusedElem","ownerDoc","activeElm","rootElm","findFocusedElem","getStickyToolbarOffset","StickyHeader","lazyHeader","containerHeader","viewHeight","innerHeight","scrollPos","markerElement","markerPos","markerHeight","markerTop","markerBottom","editorHeaderPos","editorHeaderHeight","editorHeaderTop","editorHeaderBottom","editorHeaderDockedAtTop","editorHeaderDockedAtBottom","scrollFromBehindHeader","groupToolbarButtonSchema","baseMenuButtonFields","MenuButtonSchema","createMenuButton","splitButtonSchema","SilverMenubar","setMenus","newMenus","activeButton","hoveredButton","activeComp","hoveredComp","prev","getAnimationRoot","slideConfig","getDimensionProperty","dimension","getDimension","disableTransitions","shrinkingClass","growingClass","setShrunk","closedClass","setGrown","doImmediateShrink","slideState","_calculatedSize","setCollapsed","onStartShrink","onShrunk","doStartShrink","calculatedSize","doStartSmartShrink","doStartGrow","wasShrinking","beforeSize","fullSize","setExpanded","onStartGrow","isGrowing","_slideState","isShrinking","SlidingApis","isExpanded","grow","shrink","immediateShrink","hasGrown","hasShrunk","isCollapsed","isTransitioning","toggleGrow","ActiveSliding","onGrown","SlidingSchema","Sliding","schema$d","getPartName","make$1","getSlotNames","onSlot","def","slot","doShowing","_key","hideSlot","hideSlots","showSlot","getSlot","hideAllSlots","slotBehaviours","slotApis","SlotContainer","sSpec","sidebarSchema","makePanels","panelConfigs","bridged","createSidebar","sidepanel","optSidePanelSpec","sidePanelSpec","makeSidebar","slotContainer","whichSidebar","sidebar","fixSize","autoSize","BlockingApis","getBusySpec","blockerBehaviours","blockSpec","isBlocked","onBlock","blockWith","onUnblock","BlockingSchema","Blocking","getAttrs","focusBusyComponent","throbber","toggleThrobber","tabIndexAttr","dataTabIndexAttr","iframeElement","tabIndex","toggleEditorTabIndex","_root","_behaviours","getBusySpec$1","throbberFocus","busyComp","setup$7","lazyThrobber","throbberState","stealFocus","isFocusEvent","targetElm","editorManager","command","setEditorTimeout","within","withinWidth","apportion","total","parray","generate$1","toUnit","partition","overflower","divide","tryFit","fitLast","overflow","fitAll","setGroups$1","storedGroups","bGroups","refresh$2","setOverflow","builtGroups","overflowGroup","focusedComp","availableWidth","overflows","schema$c","schema$b","parts$7","expandable","setMax","schema$a","parts$6","toggledClass","toolbarSandbox","bounder","FloatingToolbarButton","makeSandbox","getToolbar","schema$9","parts$5","ToolbarGroup","tgroupBehaviours","itemSelector","buildGroups","refresh$1","memFloatingToolbarButton","overflowGroups","floatingToolbarButton","SplitFloatingToolbar","getOverflowBounds","overflowToggledClass","splitToolbarBehaviours","getOverflow","schema$8","parts$4","onClosed","onOpened","toggleToolbar","overf","SplitSlidingToolbar","toolbarToggleEvent","_button","doSetGroups","renderToolbarGroupCommon","toolbarGroup","renderToolbarGroup","getToolbarbehaviours","toolbarSpec","modeName","onAttached","initGroups","renderMoreToolbarCommon","cyclicKeying","renderFloatingMoreToolbar","baseSpec","moreDrawerData","headerBounds","docElem","docBounds","overflowXOffset","renderSlidingMoreToolbar","renderToolbar","scrolling","partMenubar","partMultipleToolbar","_mToolbar","tc","_index","partToolbar","renderer","sliding","floating","toolbarFactory","lazyToolbar","lazyMoreButton","partHeader","sticky","partSocket","partSidebar","partThrobber","OuterContainer","getSocket","setSidebar","toggleSidebar","getHeader","setToolbar","setToolbars","mToolbar","refreshToolbar","toggleToolbarDrawer","isToolbarDrawerToggled","getThrobber","focusToolbar","setMenubar","focusMenubar","grps","grp","renderedToolbars","defaultMenus","edit","tools","help","parseItemsString","identifyMenus","rawMenuData","userDefinedMenus","validMenus","isDefaultMenu","menuData","removedMenuItems","getRemovedMenuItems","itemName","removedMenuItem","fireSkinLoaded","_skinLoaded","fireSkinLoaded$1","initialized","loadStylesheet","stylesheetUrl","styleSheetLoader","unload","loadUiSkins","skinUrl","loadShadowDomUiSkins","loadSkin","isInline","skinName","documentBaseURI","baseURL","getSkinUrl","contentCSS","isSkinDisabled","fireSkinLoadError$1","fireSkinLoadError","onSetupFormatToggle","boundCallback","binding","formatChanged","once","onSetupEvent","handleEvent","onActionToggleFormat$1","rawItem","transact","onActionExecCommand","generateSelectItems","_editor","generateItem","response","si","invalid","validateItems","preItems","getCurrentValue","shouldHide","createMenuItems","createSelectButton","getComponent","decimalDigits","exponentPart","unsignedDecimalLiteral","ResizeTypes","buildBasicSettingsDataset","settingName","delimiter","rawFormats","SemiColon","alignMenuItems","getSpec$4","_format","alignment","canApply","systemStackFonts","splitFonts","fontFamily","fonts","font","getSpec$3","systemFont","getMatchingValue","getFirstFont","queryCommandValue","matchOpt","isSystemFontStack","legacyFontSizes","keywordFontSizes","toPt","fontSize","factor","getSpec$2","_loop_1","pt","legacy","toLegacy","Space","findNearest","getStyles","getSpec$1","fallbackFormat","getSpec","getFormatItems","flattenedItems","ActiveReflecting","reflectingConfig","reflectingState","renderComponents","newComponents","channel","rawData","ReflectingApis","reflectState","ReflectingSchema","ReflectingState","Reflecting","schema$7","arrowPart","arrow","buttonPart","btn","splitDropdown","parts$3","SplitDropdown","executeOnButton","buttonEvents","splitDropdownBehaviours","getButtonApi","getToggleApi","getTooltipAttributes","focusButtonEvent","renderCommonStructure","_d","renderCommonToolbarButton","specialisation","itemApi","buttonApi","toolbarButtonBehaviours","renderToolbarButtonWith","bonusEvents","renderToolbarToggleButtonWith","fetchChoices","defaultToolbar","renderFromBridge","bridgeBuilder","togglebutton","menubutton","splitbutton","displayChannel","underlinePath","setIconStroke","buttonComp","renderSplitButton","grouptoolbarbutton","TopToBottom","identifyButtons","renderFloatingToolbarButton","allowToolbarGroups","styleSelectButton","createStyleSelect","fontsizeSelectButton","createFontsizeSelect","fontSelectButton","createFontSelect","formatButton","createFormatSelect","alignMenuButton","createAlignSelect","bespokeButtons","fontsizeselect","fontselect","formatselect","createToolbar","toolbarConfig","groupsStrings","filteredItemGroups","subItem","removeUnusedDefaults","isToolbarGroupSettingArray","lookupButton","toolbarItem","prefixes","extractFrom","toolbarGroups","rawUiConfig","toolbarButtonsConfig","detection","isiOS12","Iframe","lastToolbarWidth","eTargetNode","targetNode","uiRoot","attachSystemAfter","innerWidth","initialDocEle","lastWindowDimensions","lastDocumentDimensions","resizeWindow","outer","resizeDocument","docEle","inner","fireScrollContent","elementLoad","setupEvents$1","socket","limit","unbinder","addCommand","_ui","addQueryValueHandler","toolbarMode","iframeContainer","parseToInt","numToPx","calcCappedSize","minSize","maxSize","minOverride","maxOverride","getHeightWithFallback","baseHeight","minHeight","getHeight","getWidth","baseWidth","minWidth","InlineHeader","floatContainer","isSticky","editorMaxWidthOpt","headerBackstage","isSplitToolbar","calcToolbarOffset","tbar","repositionPopups$1","updateChromeUi","resetDocking","bodyMargin","targetBounds","updateChromePosition","floatContainerComp","updateMode","updateUi","currentMode","newMode","toolbar_1","toolbarHeight","docHeight","calcMode","verticalDir","setupMode","removeClass","getTargetPosAndBounds","Inline","toolbarPersist","isToolbarPersist","uiContainer","prevPosAndBounds","resizeContent","prevPos","prevBounds","hasResized","setupEvents","hideContextToolbarEvent","runOnExecute","formApi","getFormApi","renderContextToggleButton","renderContextButton","buildInitGroups","commands","findPrimary","mementos","asSpecs","compInSystem","ContextForm","isVerticalOverlap","threshold","getSelectionBounds","leaf$1","getRangeRect","scroll_1","bodyPos","getContextToolbarBounds","toolbarType","viewportBounds","contentAreaBox","toolbarOrMenubarEnabled","getHorizontalBounds","isToolbarLocationTop","headerBox","isToolbarBelowContentArea","isToolbarAbove","containerBounds","getVerticalBounds","bubbleAlignments$1","inset","shouldUseInsetLayouts","determineInsetLayout","contextbar","selectionBounds","isSameAnchorElement","isEntireElementSelected","currentPosition","preservePosition","isReposition","getAnchorSpec$2","mobile","smartInsetLayout","getInsetLayouts","matchTargetWith","ctxs","toolbarApi","contextToolbars","contextForms","matchStartNode","nodeCandidates","editorCandidates","nodeMatches","editorMatches","doesPositionExist","filterToolbarsByPosition","hasSelectionToolbars","hasNodeToolbars","nodeToolbars","selectionToolbars","filterByPositionForStartNode","matchAncestor","startNode","scopes","ancestorElem","inNodeScope","findPosition_1","basePosition","filterByPositionForAncestorNode","categorise","forms","inEditorScope","formNavigators","lookupTable","registerForm","contextForm","launch","registerToolbar","contextToolbar","forwardSlideEvent","backSlideEvent","changeSlideEvent","resizingClass","register$7","registryContextToolbars","lastTrigger","lastContextPosition","currentWidth","newContents","oldContents","forwardContents","canLaunchToolbar","shouldContextToolbarHide","contextToolbarBounds","anchorBounds","getAnchorElementBounds","hideOrRepositionIfNecessary","contextBarEle","wrapInPopDialog","shortcuts","getScopes","alloySpec","buildToolbar","allButtons","buildContextToolbarGroups","buildContextFormGroups","anchorLayout","getAnchorLayout","launchContext","launchContextToolbar","isSameLaunchElement","rootElem","isOutsideRoot","lookup$1","toolbarKey","unsupportedLength","pattern","dot","accepted","unitRaw","check","isUnit","registerController","getMenuItems","getOptions","hash","oldApi","unbindWatcher","watcher","setCurrent","onToolbarSetup","onMenuSetup","lineHeightSpec","normalise","register$5","settingsOpt","getContentLanguages","customCode","code","customValue","ele","languageSpec","register$4","alignSelectMenu","fontSelectMenu","styleSelectMenu","formatSelectMenu","fontsizeSelectMenu","onSetupOutdentState","queryCommandState","register$3","registerButtons$2","onActionToggleFormat","registerButtons$1","_idx","addToggleButton","name_1","registerFormatButtons","registerCommandButtons","registerCommandToggleButtons","register$2","addMenuItem","registerMenuItems$2","onSetupUndoRedoState","register$1","registerMenuItems$1","registerButtons","onSetupVisualAidState","hasVisual","registerToolbarButton","addToggleMenuItem","registerMenuItems","setup$6","cmd","register$6","applyFormat","removeFormat","registerCommands","lastForeColor","lastBackColor","register$a","isTouchEvent","transposeContentAreaContainer","containerPos","getPos","dx","dy","transpose","getPointAnchor","pageX","pageY","fromPageXY","fromClientXY","getSelectionAnchor","getAnchorSpec$1","anchorType","getNodeAnchor","initAndShow$1","buildMenu","contextmenu","anchorSpec","bubbleAlignments","getAnchorSpec","initAndShow","openiOS_1","originalSelection","selectionReset","unbindEventListeners","preventMousedown","clearSelectionReset","setupiOSOverrides","touch_1","rngRect","isTouchWithinSelection","patchPipeConfig","shouldNeverUseNative","getContextMenu","defaultItems","contextMenus","makeContextItem","commonMenuItem","addContextMenuGroup","groupItems","lastMenuItem","isTriggeredByKeyboard","pointerType","getSelectedElement","setup$5","hideContextMenu","showContextMenu","isNativeOverrideKeyEvent","isContextMenuDisabled","getAvoidOverlapSelector","getAnchorType","selectedElement","sections","allItems","generateContextMenu","hideEvents","subtract","changes","asFixed","coord","asAbsolute","asOffset","toStyles","stylesOpt","absorb","partialCoord","originalCoord","absorbOne","stencil","optX","optY","parseAttrToInt","NaN","getCoords","snapInfo","snapsInfo","leftAttr","topAttr","moveOrSnap","newCoord","mustSnap","findClosestSnap","findSnap","fixedCoord","spanned","stopDrag","findMatchingSnap","snaps","sensor","inRange","coord1","coord2","withinRange","getSnapPoints","bestSnap","deltas","getDeltas","bestDeltas","DraggingApis","snapTo","dragConfig","getTarget","repositionTarget","origin_1","snapPin","snapTo$1","initialAttribute","instigate","anyComponent","zindex","changeZIndex","discard","resetZIndex","createComponent","blockerClass","blockerEvents","SnapSchema","schema$6","getCurrentCoord","oc","location","calcNewCoord","optSnaps","currentCoord","coords","absoluteCoord","newCoords","offset$1","clampCoords","translated","snapping","onSensor","calcStartData","dragState","dragMode","dragStartData","getStartData","dlt","onDrag","dragBy","updateStartState","setStartData","MouseData","getDelta","events$2","stop$1","delayDrop","dragApi","drop","forceDrop","init$2","schema$5","TouchData","getDataFrom","events$1","blockerSingleton","stopBlocking","init$1","mouse","mouseOrTouch","DraggingBranches","DragState","previous","dragEvent","nuData","calculateDelta","Dragging","dragger","calcSnap","selectorOpt","td","snapWidth","selectorHandle","sensorLeft","sensorTop","getSnapsConfig","cellOpt","currentTd","isSameCell","createSelector","setup$4","tlTds","brTds","startCell","finishCell","getTopLeftSnap","memTopLeft","getBottomRightSnap","memBottomRight","topLeftSnaps","bottomRightSnaps","bottomRight","getSnapConfig","isAbove","isBelow","cellRect","viewportHeight","aboveViewport","belowViewport","showOrHideHandle","snapTopLeft","snapBottomRight","otherCells","upOrLeftCells","downOrRightCells","isHidden","renderElementPath","newPathElements","divider","newPath","parent_1","isDefaultPrevented","isPropagationStopped","updatePath","_btn","newAcc","resize","resizeType","originalHeight","originalWidth","Both","getDimensions","dim","fireResizeEditor","keyboardHandler","renderResizeHandler","None","Vertical","getResizeType","_target","renderStatusbar","getTextComponents","replaceCountText","words","characters","currentVal","wordCount","renderWordCount","resizeHandler","getComponents","setup$3","isGridUiContainer","sinkSpec","reactiveWidthSpec","lazyOuterContainer","platformClasses","deviceClasses","isToolbarBottom","dirAttributes","verticalDirAttributes","resizeUiMothership","memAnchorBar","statusbar","socketSidebarContainer","hasMultipleToolbar","hasToolbar","hasMenubar","editorComponents","containerComponents","opacity","border","addQueryStateHandler","ship","fireDismissPopups","onTouchstart","onTouchmove","onTouchend","onMousedown","onMouseup","onContentClick","onContentMouseup","onContentMousedown","loopEditor","relatedTarget","onWindowScroll","onWindowResize","onEditorResize","onEditorProgress","onDismissPopups","setup$b","setEditorSize","parsedHeight","parsedWidth","getWidthWithFallback","renderUI","sidebars","handleToggle","setup$8","getToolbarGroups","toolbarGroupButtonConfig","addGroupToolbarButton","toolbarOpt","getUi","broadcastAll","schema$2","basic","parts$2","dragBlockClass","getDragBounds","ModalDialog","dialogComp","modalEventsId","externalBlocker","blockerDom","getFooter","setIdle","setBusy","modalBehaviours","labelledElement","labelElement","describedElement","describeElement","describeId","dialogToggleMenuItemSchema","dialogToggleMenuItemDataProcessor","baseFooterButtonFields","dialogFooterButtonFields","normalFooterButtonFields","menuFooterButtonFields","dialogFooterButtonSchema","submit","alertBannerFields","alertBannerSchema","buttonFields","buttonSchema","checkboxFields","checkboxSchema","checkboxDataProcessor","formComponentFields","formComponentWithLabelFields","collectionFields","collectionSchema","collectionDataProcessor","colorInputSchema","colorInputDataProcessor","colorPickerSchema","colorPickerDataProcessor","customEditorFields","defaultedPostMsg","customEditorFieldsOld","customEditorSchema","customEditorDataProcessor","dropZoneSchema","dropZoneDataProcessor","createGridFields","itemsField","htmlPanelFields","htmlPanelSchema","iframeFields","iframeSchema","iframeDataProcessor","imageToolsFields","imageToolsSchema","inputFields","inputSchema","inputDataProcessor","createLabelFields","listBoxSingleItemFields","listBoxNestedItemFields","desc","getP","thunkOf","listBoxItemSchema","listBoxFields","listBoxSchema","listBoxDataProcessor","selectBoxFields","selectBoxSchema","selectBoxDataProcessor","sizeInputFields","sizeInputSchema","sizeInputDataProcessor","tableFields","tableSchema","textAreaFields","textAreaSchema","textAreaDataProcessor","urlInputFields","urlInputSchema","urlInputDataProcessor","createItemsField","itemSchema","sErr","passValue","panelSchema","panelFields","tabFields","tabPanelFields","tabPanelSchema","dialogButtonFields","dialogButtonSchema","dialogSchema","tabpanel","urlDialogButtonSchema","urlDialogSchema","getAllObjects","isNamedItem","dataProcessors","togglemenuitem","createDataValidator","namedItems","getNamedItems","getDataProcessor","internalDialog","dataValidator","DialogManager","openUrl","redial","toValidValues","renderBodyPanel","memForm","formValue","TabButton","tabButtonBehaviours","schema$1","tabsPart","barDetail","dismissTab$1","tabbar","changeTab$1","clickToDismiss","tabClass","parts$1","Tabbar","tabbarBehaviours","selectedClass","tab","Tabview","tabviewBehaviours","barPart","tabs","viewPart","TabSection","changeTabBy","section","byPred","tabSectionBehaviours","selectFirst","tabValue","tabview","tabWithValue","tabData","onChangeTab","onDismissTab","getViewItems","showTab","tabKey","setTabviewHeight","updateTabviewHeight","dialogBody","maxTabHeight","tablist","documentElement$1","tabviewHeight","currentTabHeight","dialogTopMargin","dialogBottomMargin","getMaxTabviewHeight","getTabview","allTabs","extraEvents","smartTabHeight","tabviewComp","heights","_tab","measureHeights","maxTabHeightOpt","getMaxHeight","oldHeight","naiveTabHeight","SendDataToSectionChannel","SendDataToViewChannel","renderTabPanel","storedValue","updateDataWithForm","formData","validData","currentData","setDataOnForm","oldTab","tabMode","_viewItems","oldName","tsection","dialogChannel","titleChannel","bodyChannel","footerChannel","bodySendMessageChannel","renderBody","ariaAttrs","incoming","isTabPanel","hiddenHeader","pClose","pUntitled","pBodyMessage","pFooter","footer","pFooterGroup","startButtons","endButtons","renderDialog$1","dialogClass","blockerBackdropClass","scrollLockClass","extraStyles","dialogEvents","renderClose","renderTitle","renderDragHandle","pTitle","pHandle","draghandle","draggable","renderModalHeader","bs","getEventExtras","lazyDialog","closeWindow","blockEvent","renderModalDialog","mapMenuButtons","mapItems","extractCellsToObject","innerAcc","initCommonEvents","fireApiEvent","_event","SilverDialogEvents","getInstanceApi","withSpec","currentDialog","currentDialogInit","cur","onTabChange","newTabName","oldTabName","footerButtons","buttonGroups","makeGroup","memento","renderFooter","initSpec","makeButton","lookupByName","buttonName","renderModalFooter","getCompByName","form_1","getFormWrapper","getDialogApi","doRedial","menuItemStates","withRoot","instanceApi","valueComp","representedValues","menuItemCurrentState","setData","prevData","mergedData","newInternalData","dialogState","validateData$1","tabSection","dialogInit","renderDialog","bodySpec","renderModalBody","storagedMenuButtons","objOfCells","dialogSize","getDialogSizeClasses","modalAccess","outerForm","renderInlineDialog","titleId","dialogLabelId","dialogContentId","memHeader","memBody","contentId","renderInlineBody","memFooter","renderInlineFooter","global$1","SUPPORTED_MESSAGE_ACTIONS","isSupportedMessage","mceAction","renderUrlDialog","renderIframeBody","iframeUri","base_uri","iframeDomain","protocol","port","messageHandlerUnbinder","isSameOrigin","handleMessage","isCustomMessage","onMessage","iframeEle","postMessage","sendMessage","inlineAdditionalBehaviours","isStickyToolbar$1","alertDialog","closeDialog","memFooterClose","titleSpec","closeSpec","footerCloseButton","setup$2","confirmDialog","memFooterYes","footerNo","footerYesButton","setup$1","openModalUrlDialog","openModalDialog","internalInitialData","openInlineDialog","config$1","refreshDocking","dialogUi","inlineDialogComp","isAlertOrConfirmDialog","confirm","windowMgr","getWindowManagerImpl","getNotificationManagerImpl","typeOf$1","eq$2","eqString","eqArray","eqa","eqSortedArray","compareFn","contramap","sort$1","eqRecord","kx","ky","q","eqAny","tx","isEquatableType","isString$1","isArray$1","compose1","identity","contains$3","map$3","each$k","filter$4","findUntil$1","findIndex$2","hasOwnProperty$1","each$j","filter$3","each$i","indexOf$1","reduce","iteratee","accumulator","unknown$2","detect$2","trim$4","lTrim","rTrim","isEmpty$3","nu$2","platform$2","platform$1","browser$4","webkit","fileApi","windowsPhone","Env","gecko","iOS","transparentSrc","caretAfter","documentMode","ceFalse","cacheSuffix","experimentalShadowDom","canHaveCSP","desktop","whiteSpaceRegExp$2","trim$3","is$3","walk$3","delim","grep","inArray","hasOwn","exts","ext","sp","scn","de","cn","ns","createNS","onCreate","walk","_addCacheSuffix","fromDom$2","recurse","is$2","isElement$6","isText$8","isDocument$2","isDocumentFragment$1","prevSibling","previousSibling","prevSiblings","nextSiblings","lastChild","childNodesCount","getStyleContainer","getHead","before$4","after$3","intoView","alignToTop","scrollIntoViewIfNeeded","scrollIntoView","isNodeType","isRestrictedNode","getPrototypeOf","isElement$5","matchNodeNames","lowercasedNames","matchStyleValues","computed","attrName","isBogus$2","isTable$3","tagName","isTextareaOrInput","isText$7","isComment","isDocument$1","isBr$5","isImg","isContentEditableTrue$4","isContentEditableFalse$b","isTableCell$5","isMedia$2","browser$3","firstElement","hasChild","castOffsetParent","bodyTop","captionTop","captionHeight","getTableCaptionDeltaY","module$1","par$1","asyncValues","asyncValue","unite","requestAnimationFramePromise","attrValue","support","Expr","isXML","tokenize","compile","select$1","outermostContext","sortInput","hasDuplicate","setDocument","document$1","documentIsHTML","rbuggyQSA","rbuggyMatches","ancestor$3","promiseObj","wrappedSetTimeout","wrappedSetInterval","setInterval","debounce","func","Delay","requestAnimationFrameFunc","vendors","setEditorInterval","clearInterval","StyleSheetLoader","documentOrShadowRoot","idCount","loadedStates","edos","maxLoadTime","failure","urlWithSuffix","passed","failed","getOrCreateState","waitForWebKitLinkLoaded","testCallback","waitCallback","styleSheets","ownerNode","now","linkElem","contentCssCors","referrerPolicy","loadF","styleContainer","loadAll","urls","futures","unloadAll","_setReferrerPolicy","WeakMap","forElement","referenceElement","rootDom","sl","DomTreeWalker","prev2","findSibling","findPreviousNode","startName","siblingName","lazyLookup","isHeading","isBlock$2","isInline$1","isBr$4","isTextBlock$2","isList","isListItem","isTableSection","isTableCell$4","isWsPreserveElement","nbsp","ZWSP$1","isZwsp","trim$2","isElement$4","isText$6","isCaretContainerBlock$1","isCaretContainerInline","isCaretContainer$2","hasContent","isBeforeInline","isAtStart","isAfterInline","isAtEnd","insertBlock$1","blockName","br","blockNode","startsWithCaretContainer$1","endsWithCaretContainer$1","showCaretContainerBlock","caretContainer","brs","getElementsByTagName","lastBr","isRangeInCaretContainerBlock","isContentEditableTrue$3","isContentEditableFalse$a","isBr$3","isText$5","isInvalidTextElement","isAtomicInline","isTable$1","isCaretContainer$1","isCaretCandidate$3","isNonUiContentEditableFalse","isUnselectable","isEditableCaretCandidate$1","isInEditable","whiteSpaceRegExp$1","isWhitespaceText","hasWhitespacePreserveParent","rootElement","isContent$1","isNamedAnchor","isBookmark","isBogus$1","isBogusAll","isEmpty$2","skipBogus","brCount","walker","isEmptyNode","isInlineContent","isBookmarkNode$2","isSpan","isKeepTextNode","prevIsInline","nextIsInline","surroundedByInlineContent","trimNode","currentChildren","isKeepElement","makeMap$3","attrsCharsRegExp","textCharsRegExp","rawCharsRegExp","entityRegExp","asciiMap","baseEntities","reverseEntities","buildEntitiesLookup","radix","entity","fromCharCode","namedEntities","encodeRaw","encodeNumeric","encodeNamed","entities","Entities","getEncodeFunc","entitiesMap","nameMap","named","numeric","decode","nativeDecode","mapCache","dummyObj","makeMap$2","each$h","extend$5","explode$3","inArray$2","split$1","compileElementMap","Schema","patternElements","customElementsMap","specialElements","createLookupTable","defaultValue","extendWith","schemaItems","globalAttributes","blockContent","phrasingContent","flowContent","html4BlockContent","html4PhrasingContent","ni","attributesOrder","arrayToMap","addAttrs","schemaItem","script","compileSchema","verify_html","valid_elements","validStyles","valid_styles","invalidStyles","invalid_styles","validClasses","valid_classes","whiteSpaceElementsMap","selfClosingElementsMap","shortEndedElementsMap","boolAttrMap","nonEmptyOrMoveCaretBeforeOnEnter","nonEmptyElementsMap","moveCaretBeforeOnEnterElementsMap","textBlockElementsMap","blockElementsMap","textInlineElementsMap","patternToRegExp","addValidElements","validElements","ei","ai","al","attrData","elementName","attrType","outputName","globalAttributesOrder","elementRuleRegExp","attrRuleRegExp","hasPatternsRegExp","validElementsArr","paddEmpty","removeEmpty","removeEmptyAttrs","attributesRequired","attributesDefault","attributesForced","forcedValue","validValues","attributePatterns","setValidElements","addCustomElements","customElements","customElementRegExp","text_block_elements","block_elements","cloneName","customRule","elmName","addValidChildren","validChildren","childRuleRegExp","getElementRule","custom_elements","valid_children","extended_valid_elements","dd","dt","li","th","tr","tbody","thead","tfoot","legend","area","param","parentsRequired","invalid_elements","getValidStyles","getInvalidStyles","getValidClasses","getBoolAttrs","getBlockElements","getTextBlockElements","getTextInlineElements","getShortEndedElements","getSelfClosingElements","getNonEmptyElements","getMoveCaretBeforeOnEnterElements","getWhiteSpaceElements","getSpecialElements","getCustomElements","isValidChild","attrPatterns","Styles","_this","rgbRegExp","urlOrStrRegExp","styleRegExp","trimRightRegExp","encodingLookup","invisibleChar","encodingItems","isEncoded","urlConverter","url_converter","urlConverterScope","url_converter_scope","compress","noJoin","canCompress","keepSlashes","decodeSingleHexSequence","escSeq","decodeHexSequences","processUrl","url2","url3","str2","allow_script_urls","allow_svg_data_urls","lastIndex","serialize","serializeStyles","styleList","i_1","styleMap","deprecated","keyLocation","layerX","layerY","returnValue","webkitMovementX","webkitMovementY","keyIdentifier","mozPressure","isNativeEvent","Event","initEvent","normalize$3","originalEvent","fallbackTarget","clone$2","srcElement","needsNormalizing","defaultPrevented","cancelBubble","isImmediatePropagationStopped","hasIsDefaultPrevented","mouseEventRe","addEvent","attachEvent","removeEvent","detachEvent","fix","isMouseEvent","eventDoc","metaKey","bindOnReady","eventUtils","domLoaded","readyHandler","readyState","EventUtils","expando","hasMouseEnterLeave","hasFocusIn","callbackList","fakeName","nativeHandler","defaultNativeHandler","executeHandlers","namesList","mouseEnterLeave","currentTarget","related","ci","eventMap","parentWindow","clean","preferredDoc","dirruns","classCache","createCache","tokenCache","compilerCache","sortOrder","strundefined","MAX_NEGATIVE","push_native","push$1","slice$1","whitespace","identifier","pseudos","rtrim","rcomma","rcombinators","rattributeQuotes","rpseudo","ridentifier","matchExpr","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","rinputs","rheader","rnative","rquickExpr$1","rsibling","rescape","runescape","funescape","escaped","escapedWhitespace","high","els","Sizzle","seed","nid","newSelector","getElementsByClassName","qsa","toSelector","testContext","qsaError","cacheLength","markFunction","siblingCheck","diff","sourceIndex","createPositionalPseudo","argument","matchIndexes","setFilters","tokens","addCombinator","matcher","combinator","checkNonElements","doneName","xml","oldCache","outerCache","newCache","elementMatcher","matchers","condense","unmatched","newUnmatched","mapped","setMatcher","preFilter","postFilter","postFinder","postSelector","preMap","postMap","preexisting","contexts","multipleContexts","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","implicitRelative","matchContext","matchAnyContext","hasCompare","getTop","attrId","tmp","disconnectedMatch","adown","bup","compare","sortDetached","aup","ap","bp","expr","matchesSelector","attrHandle","getAttributeNode","specified","uniqueSort","duplicates","detectDuplicates","sortStable","createPseudo","excess","unquoted","nodeNameSelector","operator","what","forward","ofType","nodeIndex","useCache","pseudo","matched","elemLang","selectedIndex","even","odd","lt","gt","nth","createInputPseudo","createButtonPseudo","filters","parseOnly","soFar","preFilters","setMatchers","elementMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","matcherFromGroupMatchers","token","compiled","rquickExpr","Event$1","skipUniques","isDefined","createFragment$1","fragDoc","frag","domManipulate","targetNodes","sourceItem","getElementDocument","DomQuery","makeArray","lastParent","newWrapper","numericCssMap","booleanMap","propFix","for","class","cssFix","float","attrHooks","cssHooks","DomQueryConstructor","whiteSpaceRegExp","each$g","grep$2","hook","removeAttr","camel","dashed","currentStyle","appendTo","prependTo","replaceWith","wrapInner","classState","existingClassName","object","sibling$1","firstSibling","contentDocument","wrappedResult","parentsUntil","nextUntil","prevUntil","overrideDefaults","sub","each$f","grep$1","simpleSelectorRe","updateInternalStyleAttr","$elm","findNodeIndex","normalized","lastNodeType","DOMUtils","addedStyles","boundEvents","ownEvents","$$","defaultVal","getAttribs","originalValue","onSetAttrib","attrElm","root_element","getPos$1","getSize","collect","selectorVal","_findSib","setHTML","canHaveHTML","parentElm","newElm","keepChildren","$node","cls","oldElm","replaceChild","isNonEmptyElement","rv","stdMode","boxModel","deep","clone_1","getViewPort","argWin","getPrev","outHtml","createFragment","setStyle","update_styles","setStyles","stylesArg","removeAllAttribs","removeAttributeNode","cssText","serializeStyle","addStyle","styleElm","styleSheet","loadCSS","uniqueId","getOuterHTML","outerHTML","setOuterHTML","reference","referenceNode","rename","attrNode","findCommonAncestor","pe","rgbVal","isEmpty","bogusVal","splitElm","replacementElm","beforeFragment","afterFragment","getContentEditableParent","isChildOf","dumpRng","keepValues","keep_values","keepUrlHook","setupAttrHooks","DOM$a","each$e","ScriptLoader","queue","scriptLoadedCallbacks","queueLoadedCallbacks","loading","loadScript","cleanup","isDone","markDone","loadQueue","loadScripts","scripts","failures","execCallbacks","loadingScripts","notifyCallbacks","currentCode","getLanguageData","setCode","newCode","getCode","langData","translation","getLangData","textstr","removeContext","isTokenised","values_1","$1","$2","hasCode","AddOnManager","_listeners","runListeners","matchedListeners","dependencies","createUrl","baseUrl","resource","addOnUrl","urlString","deps","newUrl","loadDependencies","waitFor","requireLangPack","languages","languageLoad","addOn","addOnConstructor","addComponents","pluginName","pluginUrl","PluginManager","ThemeManager","read$4","annotation","dataAnnotation","dataAnnotationId","identify","annotationName","an","newStart","getAttr","findMarkers","setup$n","_registry","changeCallbacks","withCallbacks","updateCallbacks","callbackMap","outputData","onNodeChange","annotations","fireNoAnnotation","fireCallbacks","addListener","setup$m","serializer","addNodeFilter","spans","identifyParserNode","persistent","deep$1","TextWalker","TextSeeker","isBlockBoundary","newOffset","forwards","round$2","toStart","isValidOverflow","overflowY","rect1","rect2","isAbove$1","halfHeight","isBelow$1","containsXY","getSelectedNode","getNode$1","safeOffset","clamp$2","extendingChars","isExtendingChar","isElement$3","isCaretCandidate$2","isBlock$1","isFloated","isValidElementCaretCandidate","isNotPre","isText$4","isBr$2","nodeIndex$1","resolveIndex$1","createRange$1","isWhiteSpace$1","isRange","isHiddenWhiteSpaceRange","isZeroRect","getBoundingClientRect$1","clientRect","clientRects","brNode","nbsp$1","getBrClientRect","sc","ec","so","eo","newRng","getBoundingClientRectWebKitText","collapseAndInflateWidth","newClientRect","getCaretPositionClientRects","caretPosition","addUniqueAndValidRect","addCharacterOffset","beforeNode","CaretPosition","toRange","isEqual","fromRangeStart","fromRangeEnd","pos1","pos2","isTextPosition","isElementPosition","HDirection","trimEmptyTextNode$1","rangeInsertNode","insertFragment","isText$3","isBogus","normalizedParent","getChildNodes","equal","createPathItem","numTextFragments","normalizedNodeIndex","create$6","outputOffset","normalizedTextOffset","parentsUntil$1","resolve$2","resolvePathItem","dataLen","targetOffset","findTextPosition","isContentEditableFalse$9","getPoint","trimmedOffset","getNormalizedTextOffset","moveEndPoint$1","normalizeTableCellSelection","getOffsetBookmark","findAdjacentContentEditableFalseElm","bookmark","isFakeCaret","getLocation","createBookmarkSpan","filled","getPersistentBookmark","rng2","endBookmarkNode","startBookmarkNode","moveToBookmark","keep","getBookmark$2","getCaretBookmark","getRangeBookmark","getUndoBookmark","DOM$9","getBodySetting","bodyObj","getContentSecurityPolicy","getForcedRootBlock","getForcedRootBlockAttrs","isAutomaticUploadsEnabled","shouldReuseFileName","getIconPackName","getImageUploadUrl","getImageUploadBasePath","getImagesUploadCredentials","getImagesUploadHandler","shouldUseContentCssCors","getReferrerPolicy","getLanguageCode","shouldIndentUseMargin","getFontCss","fontCss","getObjectResizing","getEventRoot","getTheme","shouldValidate","isInlineBoundariesEnabled","hasContentCssCors","getPlugins","isText$2","removeNode$1","trimCount","trimmedText","deleteZwspChars","deleteData","removeUnchanged","removeElementAndReposition","newPosition","indexOf$2","removeTextCaretContainer","removeTextAndReposition","removeAndReposition","removeElementCaretContainer","caretContainerNode","browser$2","isContentEditableFalse$8","isMedia$1","isTableCell$3","getAbsoluteClientRect","scrollX","scrollY","rootRect","FakeCaret","cursorInterval","lastVisualCaret","rootBlock","caretBlock","fakeCaretTargetNodes","trimInlineCaretContainers","caretState","startBlink","textNode","splitText","insertInline$1","isInlineFakeCaretTarget","getCss","isFakeCaretTableBrowser","isFakeCaretTarget","isContentEditableFalse$7","isMedia","isBlockLike","isCaretContainer","isCaretContainerBlock","isCaretCandidate$1","isForwards","isBackwards","skipCaretContainers","findNode$1","predicateFn","isCefOrCaretContainer","getParentBlock$2","isInSameBlock","caretPosition1","caretPosition2","getChildNodeAtRelativeOffset","relativeOffset","beforeAfter","isNodesInSameBlock","node1","node2","lean","normalizeRange","leanLeft","leanRight","location_1","getRelativeCefElm","getNormalizedRangeEndPoint","normalizedRange","getElementFromPosition","getVisualCaretPosition","walkFn","isMoveInsideSameBlock","inSameBlock","expected","isContentEditableFalse$6","isBr$1","isCaretCandidate","isAtomic","isAtomicContentEditableFalse","isEditableCaretCandidate","nodeAtIndex","getCaretCandidatePosition","findCaretPosition$1","startPos","nextNode","innerNode","Forwards","moveForwardFromBr","rootContentEditableFalseElm","getParents$3","CaretWalker","Backwards","isBeforeOrStart","isAfterOrEnd","isBeforeAfterSameElement","shouldSkipPosition","fromPosition","navigateIgnore","ignoreFilter","positionIn","walkToPositionIn","nextPosition","prevPosition","firstPositionIn","lastPositionIn","CARET_ID$1","isCaretNode","getParentCaretContainer","isPathBookmark","addBogus","tryFindRangePosition","padEmptyCaretContainer","isEmpty$1","insertZwsp","setEndPoint","isValidTextNode","restoreEndPoint","appendData","resolve$1","resolvePaths","isStringPathBookmark","resolveCaretPositionBookmark","isIdBookmark","endPos","spos","epos","resolveId","isIndexBookmark","resolveIndex","isRangeBookmark","getBookmark$1","isBookmarkNode$1","isNbsp","actual","isWhiteSpace","isContent","isNode","moveStart","isInlineBlock","isWhiteSpaceNode$1","getNonWhiteSpaceSibling","inc","nextName","isTextBlock$1","allowSpaces","replaceVars","vars","isEq$5","str1","normalizeStyleValue","getTextDecoration","decoration","getParents$2","areSimilarFormats","otherFormatName","filterObj","validKey","fmt1","filteredFmt1","fmt2","filteredFmt2","equal$1","shouldExpandToSelector","isBookmarkNode","getParents$1","isWhiteSpaceNode","isTextBlock","findParentContentEditable","walkText","findSpace","findContent","findWordEndPoint","includeTrailingSpaces","lastTextNode","textSeeker","textOffset","findSelectorEndPoint","formatList","curFormat","findBlockEndPoint","scopeRoot","isAtBlockBoundary$1","findParentContainer","block_expand","isSelfOrParentBookmark","expandRng","includeTrailingSpace","walk$2","firstNode","lastNode","collectSiblings","endNode","siblings","findEndPoint","walkBoundary","siblings_1","startPoint","endPoint","getCellsFromRanges","getSelectedNodes","getCellsFromElementOrRanges","selectedCells","getCellsFromEditor","getSel","getClosestTable","getFirstChildren","getLastChildren$1","hasAllContentsSelected","getStartNode","getEndNode","moveEndPoint","hasAnyRanges","runOnRanges","fakeSelectionNodes","fakeNodeRng","fillBookmark","api$1","wrapName","isZeroWidth","isAnnotation","makeAnnotation","eDoc","decorate","master","annotate","newWrappers","finishWrapper","processElements","processElement","wrap$3","processNodes","annotateWithBookmark","initialRng","hasFakeSelection","applyWordGrab","selectionRng","Annotator","annotationChanged","nodesAlready","findAll","BookmarkManager","getBookmark","getContentEditableRoot$1","isXYWithinRange","fireError","errorType","fireFormatApply","fireFormatRemove","VK","DELETE","ESC","PAGE_UP","PAGE_DOWN","END","HOME","modifierPressed","altKey","metaKeyPressed","isContentEditableFalse$5","ControlSelection","selectedElmGhost","resizeHelper","selectedHandle","resizeBackdrop","startW","startH","ratio","resizeStarted","startScrollWidth","startScrollHeight","elementSelectionAttr","editableDoc","rootDocument","resizeHandles","nw","ne","sw","isImage","contextMenuSelectImage","isEventOnImageOutsideRange","getResizeTargets","firstElementChild","isResizable","setSizeProp","setGhostElmSize","ghostElm","resizeGhostElement","proportional","resizeHelperX","resizeHelperY","getResizeImgProportional","selectedElmX","selectedElmY","fireObjectResizeStart","endGhostResize","wasResizeStarted","showResizeRect","fireObjectResized","unbindResizeHandleEvents","targetWidth","targetHeight","hideResizeRect","startDrag","updateResizeRect","controlElm","isChildOrEqual","disableGeckoResize","isWithinContentEditableFalse","handleMSControlSelect_1","delayedSelect","throttledUpdateResizeRect","composing","hasCeProperty","pointDoc","caretPositionFromPoint","offsetNode","caretRangeFromPoint","createTextRange","moveToPoint","moveToElementText","findClosestIeRange","parentElement","findParent$1","moveOutOfContentEditableFalse","isEq$4","rng1","hasParent$1","findParent","hasParentWithName","isTable","isTableCell$2","isCeFalseCaretContainer","hasBrBeforeAfter","findTextNodeRelative","isAfterNode","lastInlineElement","parentBlockContainer","normalizeEndPoint","directionLeft","hasContentEditableFalseParent","isPrevNode","normalize$2","normRng","RangeUtils","normalizedRng","compareRanges","getCaretRangeFromPoint","documentFocusInHandler","excludeFromDescend","markerInfo","cleanupFun","createMarker","withMarker","preserveWith","applyWithMarker","withScrollEvents","fireScrollIntoViewEvent","fireAfterScrollIntoViewEvent","elementMarker","startElement","endElement","scrollToMarker","intoWindowIfNeeded","viewportBottom","largerThanViewport","intoWindow","intoFrame","frameViewHeight","op","rangeIntoWindow","elementIntoWindow","rangeIntoFrame","elementIntoFrame","scrollRangeIntoView","hasFocus$1","getStart$1","browser$1","normalizeRng","isOrContains","isRngInRoot","shouldStore","nativeRangeToSelectionRange","bookmarkToNativeRng","newBookmark","FocusManager","isEditorUIElement","registerEditorEvents","throttledStore","registerFocusOut","registerMouseUp","selectionChange","isManualNodeChange","mouseUpPage","registerPageMouseUp","DOM$8","isUIElement","customSelector","getCustomUiSelector","registerEvents$1","focusedEditor","blurredEditor","getActiveElement","activeEditor","unregisterDocumentEvents","getFocusInElement","getCollapsedNode","normalizeSelection$1","caretPos","focusBody","hasElementFocus","rawBody","hasInlineFocus","hasIframeFocus","hasEditorOrUiFocus","hasUiFocus","activateEditor","skipFocus","quirks","refreshContentEditable","bookmarkRng","contentEditableHost","getContentEditableHost","focusEditor","getEndpointElement","real","skipEmptyTextNodes","processRanges","typeLookup","walk$1","isEmptyTextNode","AstNode","selfAttrs","cloneAttrs","selfAttr","shortEnded","refNode","restoreDataUris","re","imageId","uris","each$d","queryParts","DEFAULT_PORTS","ftp","http","https","mailto","safeSvgDataUrlElements","isInvalidUri","allow_html_data_urls","allowSvgDataUrls","blockSvgDataUris","URI","baseUri","isProtocolRelative","toAbsPath","urlMatch","userInfo","parseDataUri","uriComponents","isDomSafe","decodedUri","unescape","getDocumentBaseUrl","pathname","setPath","pathMatch","getURI","toRelative","relativeUri","tu","uu","toRelPath","noHost","absoluteUri","defaultPort","breakPoint","normalizedBase","outPath","nb","normalizedPath","noProtoHost","filteredClobberElements","findMatchingEndTagIndex","startIndex","startTagRegExp","endTagRegExp","shortEndedElements","startMatch","findCommentEndIndex","endMatch","lcHtml","isConditionalComment","endIfIndex","endCommentRegexp","checkBogusAttribute","regExp","attrString","SaxParser","fix_self_closing","comment","cdata","pi","doctype","parseInternal","base64Extract","endRegExp","attrList","textData","isInternalElement","isShortEnded","elementRule","isValidElement","attribsValue","validAttributesMap","validAttributePatterns","filteredUrlAttrs","parsingMode","processEndTag","processText","processComment","allow_conditional_comments","processMalformedComment","startTag","parseAttribute","val2","val3","processAttr","fillAttrsMap","isValidPrefixAttrName","attrRule","tokenRegExp","attrRegExp","selfClosing","self_closing_elements","removeInternalElements","remove_internals","fixSelfClosing","processHtml","bogusValue","preserve_cdata","dataImageUri","extractBase64DataUris","findEndTag","trimInternal","bogusAllRegExp","tempAttrs","trimContentRegExp","trimHtml","getTempAttrs","endTagIndex","trimExternal","getContentFromBody","defaultedArgs","getInner","setupArgs$3","updatedArgs","no_events","emptyRegExp","trimEmptyContents","each$c","ElementUtils","compareObjects","obj1","obj2","makeMap$1","Writer","indent","indentBefore","indent_before","indentAfter","indent_after","entity_encoding","htmlOutput","element_format","HtmlSerializer","writer","sortedAttrs","nonInheritableStyles","Set","shorthandStyleProps","getStyleProps","hasInheritableStyles","isNonInheritableStyle","hasStyleConflict","nodeStyleProps","parentNodeStyleProps","valueMismatch","parentValue","nodeStyleProp","propExists","longhandProps","isChar","isBeforeSpace","isAfterSpace","isEmptyText","matchesElementPosition","isImageBlock","isCefNode","isBogusAll$1","isBeforeImageBlock","isAfterImageBlock","isBeforeMedia","isAfterMedia","isBeforeTable","isAfterTable","isBeforeContentEditableFalse","isAfterContentEditableFalse","removeTrailingBr","allBrs","rawNode","getLastChildren","fillWithPaddingBr","trimBlockTrailingBr","lastChildPrevSibling","rawParent","parents$1","parentsAndSelf","navigateIgnoreEmptyTextNodes","getClosestBlock$1","isAtBeforeAfterBlockBoundary","fromBlock","isAtBlockBoundary","isAtStartOfBlock","isAtEndOfBlock","isBeforeBlock","isAfterBlock","isBr","findBr","parentBlocks","isBeforeBr$1","isAfterBr","getElementFromPrevPosition","findPreviousBr","findNextBr","isInMiddleOfText","getClosestBlock","hasSpaceBefore","hasSpaceAfter","isInPre","isPreValue","isAtLineBoundary","isAtBeginningOfBody","isAtEndOfBody","needsToBeNbspLeft","needsToBeNbspRight","needsToBeNbsp","isNbspAt","hasNbsp","normalizeNbspInMiddleOfTextNode","newText","chars","normalizeNbspMiddle","normalizeNbsps","firstPos","normalizeNbspAtStart","lastPos","normalizeNbspAtEnd","normalizeNbspsInEditor","normalize$1","isEndOfContent","isStartOfContent","replaceData","previousCharIsSpace","normalizeContent","normalizeWhitespaceAfter","whitespaceCount","normalizeWhitespaceBefore","mergeTextNodes","prevNode","normalizeWhitespace","mergeToPrev","whitespaceOffset","newNode","removeNode","insertData","needsReposition","getPreviousSiblingCaretPosition","getNextSiblingCaretPosition","findCaretPositionBackwards","startPosition","findCaretPositionBackwardsFromElm","findCaretPositionForward","findCaretPositionForwardsFromElm","findCaretPosOutsideElmAfterDelete","findCaretPosition","setSelection$1","paddEmptyBlock","deleteNormalized","afterDeletePosOpt","prevTextOpt","nextTextOpt","deleteElement$2","moveCaret","afterDeletePos","parentBlock","normalizedAfterDeletePos","isInlineElement","paddPos","getTableCells","tableCellRng","deleteAction","singleCellTable","fullTable","partialTable","multiTable","getClosestCell$1","isExpandedCellRng","cellRng","getTableFromCellRng","startParentTable","endParentTable","getTableSelectionFromCellRng","tableSelection","getTableSelections","selectionDetails","isSameTable","sameTableSelection","endCell","startTableSelection","getCellRangeFromStartTable","endTableSelection","getCellRangeFromEndTable","getCellIndex","getSelectedCells","isSingleCellTableContentSelected","optCellRng","isSingleCellTable","unselectCells","startTable","endTable","otherContentRng","getActionFromRange","isRootFromElement","getCellRng","getTable","isStartInTable","isEndInTable","isMultiTable","getTableDetailsFromRange","startTableSelectedCells","endTableSelectedCells","handleMultiTable","handleSingleTable","freefallRtl","cleanCells","deleteContentInsideCell","isFirstCellInSelection","insideTableRng","deleteCellContents","collapseAndRestoreCellSelection","selectedNode","emptySingleTableCells","outsideDetails","editorRng","cellsToClean","outsideBlock","getOutsideBlock","deleteContents","startInTable","emptyBlock","handleEmptyBlock","endPointCell","emptyMultiTableCells","startTableCells","endTableCells","betweenRng","startTableCellsToClean","endTableCellsToClean","moveSelection","lastBlock","additionalCleanupNodes","deleteTableElement","deleteTableRange","startElm","getParentCaption","deleteCellRange","emptyElement","deleteCaptionRange","getParentCell","deleteCaretInsideCaption","fromCaption","isDeleteOfLastCharPos","emptyCaretCaption","toCaption","validateCaretCaption","deleteCaretCells","fromCell","deleteBetweenCells","isNearTable","deleteCaret$3","fromPos","isBeforeOrAfterTable","deleteCaretCaption","backspaceDelete$9","deleteRange$2","normalizeBlockSelectionRange","commonAncestorContainer","newEndPos","isPaddedEmptyBlock","hasOnlyOneChild$1","isPaddingNode","isListFragment","nonEmptyElements","isEmptyFragmentElement","isListItemPadded","isPadding","trimListItems","getParentLi","findLastOf","newCaretPos","insertBefore$1","findFirstIn","insertAtCaret$1","domFragment","cleanupDomFragment","toDomFragment","liTarget","liElms","isAt","caretWalker","insertAfter$1","beforeRng","afterRng","cloneContents","getSplit","insertMiddle","isTableCell$1","deleteSelectedContent","isTableCellContentSelected","insertHtmlAtCaret","trimOrPadLeftRight","merge","bookmarkHtml","paste","caretElement","canHaveChildren","parserArgs","isParentBlockLi","markFragmentElements","_selectionOverrides","showBlockCaretContainer","validInsertion","textInlineElements","root_1","elementUtils_1","reduceInlineTextElements","nextRng","parentEditableElm","isPartOfFragment","findNextCaretRng","moveSelectionToMarker","trimBrsFromTableCell","addVisual","traverse","nodeFilters","attributeFilters","attrMatches","name_2","findMatchingNodes","isTreeNode","setEditorHtml","noSelection","setContentInternal","setupArgs$2","getNodeFilters","getAttributeFilters","no_selection","setContentTree","padd","forcedRootBlockName","isRootContent","setContentString","sibling$2","isEq$3","matchesUnInheritedFormatSelector","inherit","matchParents","similar","matchNode","matchName$1","matchItems","onmatch","expectedValue","isEmptyValue","match$2","rawElm","matchAllOnNode","formatNames","matchSimilar","isVariableValue","fieldValues","isVariableFormatName","ZWSP","CARET_ID","isCaretContainerEmpty","getEmptyCaretContainers","findFirstTextNode","createCaretContainer","fill","removeCaretContainerNode","trimZwspFromCaretContainer","removeCaretContainer","appendNode","insertFormatNodesIntoCaretContainer","formatNodes","innerMostFormatNode","formatNode","removeCaretFormat","hasContentAfter","expandedRng","newCaretContainer","insertCaretContainerNode","cleanedFormatNode","validFormats","matchedFormats","fmtName","clonedFormatNode","cleanFormatNode","caretTextNode","setup$k","disableCaretContainer","isFormatElement","inlineElements","postProcessHooks","each$b","addPostProcessHook","blocks","isPre","getSelectedBlocks","pre","pre1","pre2","each$a","isElementNode$1","findElementSibling","mergeSiblingsNodes","elementUtils","tmpSibling","mergeSiblings","merge_siblings","processChildElements","hasStyle","applyStyle","unwrapEmptySpan","removeResult","MCE_ATTR_RE","each$9","isEq$2","isChildOfInlineParent","lastIdx","normalizeTableSelection","isTableCellOrRow","childNode","wrapWithSiblings","rootBlockElm","forcedRootBlock","list_block","forced_root_block_attrs","isMixedFormat","removeFormatInternal","compareNode","stylesModified","matchName","links","isColorFormatAndAnchor","preserve_attributes","attrsToPreserve","remove_similar","valueOut","removeFormat$1","newName","removeFormatFromClone","splitToFormatRoot","formatRoot","findFormatRoot","lastClone","firstClone","formatRootParent","mixed","wrapAndSplit","removeNodeFormat","lastContentEditable","currentNodeMatches","textDecoration","isRemoveBookmarkNode","removeRngStyle","ceFalseOverride","each$8","mergeWithChildren","clear_child_styles","clearChildStyles","each$7","isElementNode","applyFormat$1","setElementFormat","onformat","styleVal","applyNodeStyle","createWrapElement","wrapElm","applyRngStyle","nodeSpecific","currentWrapElm","parentName","canFormatEmptyLines","validBRParentElements","figcaption","summary","hasCaretNodeSibling","canFormatBR","childCount","isEmptyTextNode$1","getChildCount","childElement","mergeStyles","merge_with_parents","mergeWithParents","backgroundColor","mergeBackgroundColorAndFontSize","processTextDecorationsAndColor","mergeTextDecorationsAndColor","mergeSubSup","wordcharRegex","importNode","applyCaretFormat","curSelNode","firstFormat","forced_root_block","defaultBlock","fake","postProcess$1","formatItem","hasVars","fallbackElement","matchingNode","matchingFormat","updateAndFireChangeCallbacks","registeredCallbacks","runIfChanged","node_1","withSimilar","withoutSimilar","withVars","formatChangedInternal","registeredFormatListeners","nodeOrRange","setup$j","formatChangeItems","toAppendTo","addListeners","fromElements","tableModel","tableRow","cellPosition","getSpan","cellExists","findElementPos","extractRows","sx","sy","ey","newRows","tableElm","rowspan","colspan","y2","x2","fillout","skipCellsX","toDom","tableElement","tableBody","createDomTable","modelRowsToDomRows","subsection","subTable","getFullySelectedListWrappers","_li","findParentListContainer","listCont","listElm","listStyles","_style","getWrapElements","commonAnchorContainer","wrapElements","listWrappers","allWrappers","directListWrappers","emptyFragment","getFragmentFromRange","innerElm","getTableFragment","selectedTableCells","firstCell","lastCell","fullTableModel","sectionedTableModel","read$3","getSelectionFragment","isCollapsibleWhitespace","getInnerText","bin","shouldTrim","trimLeadingCollapsibleText","getSelectedContentInternal","setupArgs$1","parentBlockOpt","contextNodeName","getContextNodeName","shouldTrimSpaces","nonRenderedText","parentBlockText","textIndex","getTextContent","tmpElm","getSerializedContent","getOuterHtml","insertAt","fragments","vDown","vUp","buildScript","buildSnake","getMiddleSnake","currentFragments","removeAt","applyDiff","start1","end1","start2","end2","diag","i2","snake","lazyTempDocument","createHTMLDocument","createFromEditor","trimmedFragments","trimmed","beforeBookmark","createFragmentedLevel","createCompleteLevel","applyToEditor","getLevelContent","getCleanLevelContent","isEq$1","level1","level2","hasEqualContent","hasEqualCleanedContent","isUnlocked","locks","setTyping","typing","endTyping","makePlainAdaptor","beforeChange","beforeChange$1","currentLevel","lastLevel","bm","customUndoRedoLevels","getCustomUndoRedoLevels","setDirty","addUndoLevel$1","undo$1","redo$1","clear$1","reset$1","hasUndo","hasUndo$1","hasRedo","hasRedo$1","transact$1","ignore$1","callback1","callback2","extra$1","matchAll","matchedFormatNames","checkedMap","getContentInternal","isVisualAidsEnabled","matchedElm","getVisualAidsTableClass","value_1","cls_1","getVisualAidsAnchorClass","addVisualInternal","getModel","isRtc","setup$i","editorCast","rtcPlugin","getRtcSetup","rtcInstance","nul","makeNoopAdaptor","rtcEditor","defaultVars","_undoManager","_locks","_node","_similar","_rfl","_details","getRawModel","makeRtcAdaptor","rtc","isRemote","getRtcInstanceWithFallback","getRtcInstanceWithError","getContent$1","getSelectedContent","mergeAndNormalizeText","outerNode","outerElm","oldLength","innerTextNode","walkPastBookmark","normalizeTextIfRequired","setContent$1","setupArgs","eventArgs","contextBlock","contextArgs","cleanContent","prevText","nextText","rngSetContent","createContextualFragment","deleteFromCallbackMap","newCallbacks","isNativeIeSelection","isAttachedToDom","EditorSelection","selectedRange","explicitRange","selectorChangedWithUnbind","selectorChangedData","currentSelectors","findMatchingNode","matchedSelectors","SelectorChanged","getRng$1","tryCompareBoundaryPoints","how","sourceRange","destinationRange","compareBoundaryPoints","START_TO_START","END_TO_END","isValidRange","ieRange","removeAllRanges","addRange","setBaseAndExtent","isForward","anchorRange","focusRange","bookmarkManager","controlSelection","compareEndPoints","setNode","endElm","selectedBlocks","selectorChanged","getScrollContainer","scrollContainer","scrollElementIntoView","placeCaretAt","addFontToSpansFilter","domParser","fontSizes","face","removeAttrs","addFilters","convert_fonts_to_spans","font_size_legacy_values","addStrikeToSpanFilter","uriParts","buildBlob","uriToBlob","rejectWithError","xhr_1","XMLHttpRequest","responseType","send","blobUriToBlob","count$1","imageToBlobInfo","blobCache","blobInfo","getByData","getByUri","dataUri","ImageScanner","uploadStatus","cachedPromises","images","getAllImages","isUploaded","promises","imageInfo","newPromise","paddEmptyNode","blockElements","padd_empty_with_br","hasOnlyChild","whitespaceElements","isPadded","registerBase64ImageFilter","blob_cache","processImage","inputSrc","isInternalImageSource","isBogusImage","parseDataUri$1","images_dataimg_filter","imgElem_1","isValidDataImg","blobUri","addAttributeFilter","each$6","explode$2","extend$4","DomParser","matchedNodes","matchedAttributes","root_name","filterNode","fi","fl","invalidChildren","rootBlockName","getRootBlockName","whiteSpaceElements","startWhiteSpaceRegExp","endWhiteSpaceRegExp","allWhiteSpaceRegExp","isAllWhiteSpaceRegExp","isInWhiteSpacePreservedElement","createNode","removeWhitespaceBefore","textVal","textNodeNext","cloneAndExcludeBlocks","isLineBreakNode","parent_2","attrFiltersLen","tempNode","isPaddedWithNbsp","nonSplitableElements","textBlockElements","removeOrUnwrapInvalidNode","originalNodeParent","children_1","newParent","currentNode","fixInvalidChildren","rootBlockNode","addRootBlocks","remove_trailing_brs","prevName","newRel","allow_unsafe_link_target","appendRel","allow_html_in_named_anchor","fix_list_elements","classValue","validClassesMap","inline_styles","hasEventListeners","shouldFireEvent","oldDoc","clonedNode","impl","doc_1","firePreProcess","preProcess","addTempAttr","htmlParser","toHtml","serializeNode","outArgs","firePostProcess","postProcess","DomSerializerImpl","internalName","hasChildren","getHtmlFromNode","brNode1","brNode2","trimTrailingBr","parseHtml","addRules","setRules","DomSerializer","domSerializer","getContent$2","setContent$2","DOM$7","safeDestroy","editorUpload","is_removing","unbindAllNativeEvents","hasHiddenInput","fireRemove","orgDisplay","restoreOriginalStyles","fireDetach","automatic","destroyed","_beforeUnload","formElement","_mceOldSubmit","formEventDelegate","restoreForm","contentAreaContainer","clearDomReferences","deprecatedSettings","deprecatedPlugins","movedToPremiumPlugins","getDeprecatedSettings","settingNames","setting","getDeprecatedPlugins","pluginNames","deviceDetection","legacyMobilePlugins","defaultTouchSettings","table_grid","object_resizing","normalizePlugins","trimmedPlugins","extractSections","sectionResult","hasSection","getDefaultMobileSettings","mobileSettings","defaultMobileSettings","toolbar_mode","toolbar_sticky","getExternalPlugins","overrideSettings","userDefinedExternalPlugins","external_plugins","getPlatformPlugins","isMobileDevice","desktopPlugins","mobilePlugins","isSectionTheme","processPlugins","defaultOverrideSettings","forcedPlugins","forced_plugins","mobileConfig","getSectionConfig","combinedPlugins","combinePlugins","combineSettings","defaultSettings","defaultDeviceSettings","extendedSettings","isOnMobile","sectionSettings","getSection","getEditorSettings","documentBaseUrl","baseDefaults","document_base_url","add_form_submit_trigger","submit_patch","add_unload_trigger","convert_urls","relative_urls","remove_script_host","visual","hidden_input","convertURL","getDefaultSettings","finalSettings","deprecation_warnings","hasDeprecatedPlugins","hasDeprecatedSettings","isLegacyMobileTheme","listJoiner","themesMessage","pluginsMessage","settingsMessage","logDeprecationsWarning","getFiltered","getParamObject","iconPack","getProp","propName","getComputedSizeProp","getClientWidth","getClientHeight","getMarginTop","getMarginLeft","isXYInContentArea","bodyElm","transposedPoint","isInsideElementContentArea","isEditorAttachedToDom","rawContainer","NotificationManager","getImplementation","unimplemented","getTopNotification","closeNotification","otherNotification","fireEvent","addNotification","getNotifications","serviceMessage","getServiceMessage","registerEvents","WindowManager","dialogs","getParams","setParams","funcBind","addDialog","fireOpenEvent","fireCloseEvent","otherDialog","storeSelectionAndOpenDialog","openDialog","windowManagerImpl","displayNotification","notificationManager","displayError","logError","createLoadError","pluginLoadError","initError","getContentCssUrls","transformToUrls","contentCss","getContentCss","cssLinks","contentCssFile","isContentCssSkinName","appendContentCssFromSettings","getFontCssUrls","UploadStatus","blobUriStatuses","createStatus","resultUri","hasBlobUri","getResultUri","isPending","markPending","markUploaded","removeFailed","uuid","rnd","Uploader","pendingPromises","defaultHandler","xhr","withCredentials","credentials","onprogress","path1","path2","json","responseText","FormData","filename","handlerSuccess","handlerFailure","resolvePending","uploadBlobs","blobInfos","openNotification","pendingUploadBlobInfo","closeNotification_1","failureOptions","uploadBlobInfo","createUploader","EditorUpload","uploader","imageScanner","toBlobInfo","mime","findFirst","cachedBlobInfo","removeByUri","BlobCache","urlFilters","changeHandler","lastChangedLevel","fireIfChanged","UploadChangeHandler","aliveGuard","replaceString","replaceImageUrl","targetUrl","replacementUrl","replacementString","replaceUrlInUndoStack","uploadImages","scanForImages","imageInfos","imagesToRemove","filteredResult","uploadInfo","shouldReplaceBlobUris","replaceImageUriInView","uploadError","uploadUri","uploadImagesAuto","isValidDataUriImage","dataImgFilter","getImagesDataImgFilter","resultItem","replaceBlobUris","source_view","addFilter","FormatRegistry","valigntop","verticalAlign","valignmiddle","valignbottom","alignleft","textAlign","aligncenter","marginLeft","marginRight","alignright","alignjustify","bold","fontWeight","italic","fontStyle","underline","strikethrough","forecolor","hilitecolor","fontname","fontsize","lineheight","lineHeight","fontsize_class","blockquote","subscript","superscript","_fmt","_itemName","removeformat","getFormats","each$5","parsedSelectorToHtml","ancestry","sItem","wrapInHtml","parentCandidate","ancestorName","parentRequired","elmRule","getRequiredParent","siblingElm","parseSelectorItem","$0","$3","$4","previewFrag","parentFontSize","previewCss","previewStyles","getPreviewStyles","removeVars","previewOpt","previewElm","Formatter","formatChangeState","addShortcut","setup$h","toggleFormat","matchFormat","closestFormat","matchAllFormats","matchNodeFormat","canApplyFormat","shouldIgnoreCommand","UndoManager","addUndoLevel","isFirstTypedCharacter","addNonTypingUndoLevel","isDirty","modKey","inputType","isInsertFromPasteOrDrop","addKeyboardShortcuts","nonTypingKeycodes","placeholderAttr","isKeyboardEvent","isDeleteEvent","setup$g","getPlaceholder","updatePlaceholder","isNonTypingKeyboardEvent","showPlaceholder","isTypingKeyboardEvent","isForcedRootBlockFalse","isVisuallyEmpty","firePlaceholderToggle","strongRtl","isInlineTarget","getInlineBoundarySelector","findRootInline","findInlineParents","normalizePosition","normalizeForwards","normalizeBackwards","isTextBlockOrListItem","getParentBlock$1","isBeforeRoot","paddEmptyBody","placeCaretInEmptyBody","blockBoundary","getBlockPosition","blockPosition","readFromRange","fromBlockPos","toBlockPos","blockPos","lastPositionInBlock","skipLastBr","isDifferentBlocks","parent1","parent2","hasSameParent","isEditable$1","getChildrenUntilBlockBoundary","extractChildren","removeEmptyRoot","nestedBlockMerge","toBlock","insertionPoint","sidelongBlockMerge","getInsertionPoint","parentsAndSelf$1","findInsertionPoint","trimBr","mergeBlockInto","mergeBlocks","block1","block2","backspaceDelete$8","isRawNodeInTable","isEverythingSelected","noPrevious","noNext","isSelectionInTable","deleteRange$1","emptyEditor","deleteRangeMergeBlocks","backspaceDelete$7","_forward","isContentEditableTrue$2","isContentEditableFalse$4","showCaret","getNodeRange","renderCaretAtRange","caretPositionNode","caretPositionBeforeNode","ceRoot","renderRangeCaret","isBeforeBoundary","isAfterBoundary","deleteContentAndShowCaret","peekCaretPosition","caretRange","deleteRange","trimEmptyTextNode","backspaceDelete$6","getNextPosFn","isBeforeFn","nextCaretPosition","deleteBoundaryText","DeleteAction","moveToElement","moveToPosition","deleteEmptyBlockOrMoveToCef","toCefElm","blockElm","findCefPosition","isDeleteFromCefDifferentBlocks","getContentEditableAction","caretLocation","isAtContentEditableBlockCaret","getContentEditableBlockAction","skipMoveToActionFromInlineCefToContent","getAncestorCe","backspaceDeleteCaret","hideFakeCaret","deleteElement$1","backspaceDeleteRange","paddEmptyElement","backspaceDelete$5","backspaceDelete$4","deleteCaret$2","startsWithCaretContainer","endsWithCaretContainer","createZwsp","insertInline","insertInlineBefore","insertInlineAfter","insertInlinePos","isPosCaretContainer","caretNode","renderCaret","evaluateUntil","fns","Location","rescope$1","nPos","isNotInsideFormatCaretContainer","findInsideRootInline","start$1","isValidLocation","readLocation","getName","outside","betweenInlines","fromInline","toInline","hasSameParentBlock","skipNoMovement","fromLocation","toLocation","location2","location1","findLocationSimple","findLocation$1","findLocationTraverse","BreakType","modify","moveByWord","hasSelectionModifyApi","VDirection","getBreakType","currentPos","nextPos","Br","Block","Wrap","getPositionsUntil","breakType","breakAt","Eol","getAdjacentLinePositions","getPositionsUntilBreak","findClosestHorizontalPositionFromPoint","lastRect","lastDist","findClosestHorizontalPosition","targetRect","getPositionsUntilPreviousLine","getPositionsUntilNextLine","getPositionsAbove","getPositionsBelow","getNodeClientRects","toArrayWithNode","customEventRootDelegates","beforeUnloadDelegate","walkUntil$1","isAboveFn","isBeflowFn","targetClientRect","upUntil","Up","downUntil","Down","isAboveLine","lineNumber","aboveLineNumber","isLine","isLineNumber","isContentEditableFalse$3","findNode","distanceToRectLeft","distanceToRectRight","isInsideX","isInsideY","findClosestClientRect","allowInside","oldClientRect","oldDistance","newDistance","walkUntil","includeChildren","closestFakeCaret","fakeTargetNodeRects","getFakeCaretTargets","targetNodeRects","checkInside","closestNodeRect","targetNodeRect","checkPosFn","lineRects","findLineNodeRects","caretInfo","moveToRange","renderRangeCaretOpt","moveHorizontally","isBefore","isAfter","rangeIsInContainerBlock","moveVertically","caretClientRect","linePositions","nextLinePositions","nextLineRect","dist1","dist2","caretPositions","isBelowFn","getClientRect","positionsUntil","closestNextLineRect","getLineEndPoint","moveToLineEndPoint$3","setCaretPosition","setSelected","renderCaretLocation","safeRemoveCaretContainer","isAtZwsp","move$2","isInlineTarget$1","findLocation","moveWord","_caret","setupSelectedState","inlineBoundaries","selectedInlines","targetInlines","toggleInlines","inlines","_inline","renderInsideInlineCaret","moveNextWord","movePrevWord","moveToLineEndPoint$2","linePoint","outsideLoc","setCaretLocation","deleteFromTo","rangeFromPositions","backspaceDeleteCollapsed","rescope","toPosition","normalizedFirstPos","normalizedLastPos","hasOnlyTwoOrLessPositionsLeft","backspaceDelete$3","hasOnlyOneChild","deleteLastPosition","parentInlines","isFormatElement$1","innerMost","replaceWithCaretFormat","deleteCaret$1","getParentInlines","normalizedFromPos","willDeleteLastPositionInElement","backspaceDelete$2","deleteElement","backspaceDelete$1","isNearMedia","deleteCaret","parseIndentValue","getIndentStyleName","useMargin","canOutdent","getBlocksToIndent","indentStyleName","intentValue","validateBlocks","isListComponent","parentIsListComponent","indentation","getIndentation","indentUnit","indentValue","styleValue","indentElement","backspaceDelete","nativeCommand","setup$f","deleteCommand","forwardDeleteCommand","setup$e","debounceLongpress","isEqualNode","isBlockElement","isValidTarget","shouldRemoveTextNode","rootNodeName","hasBlockParent","restoreSelection","blockCaretContainer","removeIeControlRect","handleBlockContainer","findBlockCaretContainer","isContentEditableFalse$2","exitPreBlock","getVisualCaretPosition$1","hasForcedRootBlock","newBlock","textBlock","createTextBlock","getHorizontalRange","moveToCeFalseHorizontally","getVerticalRange","down","moveToCeFalseVertically","moveH$2","newRange","moveV$3","moveToLineEndPoint$1","isTarget","rangeBefore","insertElement","insertEmptyLine","insertBr","insertBlock","isAtFirstOrLastLine","isAtLastLine","isAtFirstLine","moveCaretToNewEmptyLine","rootBlockAttrs","getClosestTargetBlock","moveV$2","match$1","defaultPatterns","matchesEvent","moveH$1","moveV$1","moveToLineEndPoint","getClosestCell","getYAxisValue","isTargetCorner","corners","tds","deflate","getCorners","corner","newCorner","oldCorner","oldDist","newDist","findClosestCorner","getClosestCellAbove","getClosestCellBelow","findClosestPositionInAboveCell","findClosestPositionInBelowCell","isAtTableCellLine","lineInfo","startsWithWrapBreak","startsWithBrBreak","breakPos","hasNextBreak","isAtFirstTableCellLine","isAtLastTableCellLine","navigateHorizontally","_td","isCaretAtStartOrEndOfTable","renderBlock","navigateVertically","getClosestAbovePosition","getClosestBelowPosition","mover","moveH","moveV","executeKeydownOverride$3","executeKeydownOverride$2","executeKeyupOverride","moveToCaretPosition","firstNonWhiteSpaceNodeSibling","getParentBlock","hasParent","isListBlock","getContainerBlock","containerBlock","containerBlockParent","isFirstOrLastLi","insert$3","createNewBlock","newBlockName","isFirstChild","tmpRng","hasFirstChild","isEmptyAnchor","containerAndSiblingName","canSplitBlock","normalizeZwspOffset","getEditableRoot","editableRoot","setForcedBlockAttrs","forcedRootBlockAttrs","attrStyles","currentStyles","newStyles","attrClassesOpt","attrClasses","currentClassesOpt","currentClasses","filteredClasses","newClasses","appliedAttrs","remainingAttrs","insert$2","parentBlockName","isAfterLastNodeInContainer","shouldKeepStyles","isCaretAtStartOrEndOfBlock","normalizedOffset","insertNewBlockAfter","containerBlockName","shouldEndContainerOnEmptyBlock","isTableCell","wrapSelfAndSiblingsInDefaultBlock","includeZwspInRange","trimZwsp","trimLeadingLineBreaks","firstChilds","trimInlineElementsOnLeftSideOfBlock","addBrToBlockIfNeeded","moveSelectionToBr","brElm","extraBr","insertBrAtCaret","isControlKey","hasRightSideContent","insertBrBefore","insertBrAfter","hasBrAfter","isAnchorLink","isInsideAnchor","insertBrOutsideAnchor","insert$1","anchorLocation","readInlineAnchorLocation","newLineAction","shouldBlockNewLine","_shiftKey","getNoNewLineSelector","shouldBlockNewLine$1","isBrMode","requiredState","inListBlock","isListItemParentBlock","inBlock","getParentBlockName","inPreBlock","shouldPutBrInPre","shouldPutBrInPre$1","inBrContext","getBrNewLineSelector","shouldInsertBr","hasShiftKey","canInsertIntoEditableRoot","rootEditable","getEditableRoot$1","predicates","setup$9","handleEnterKeyEvent","executeKeydownOverride$1","keypressThrotter","setupIeInput","isComposing","isPageUpDown","setNodeChangeBlocker","blocked","executeKeyupAction","insertTextAtPosition","insertNbspAtPosition","insertSpaceAtPosition","insertInlineBoundarySpaceOrNbsp","checkPos","needsToHaveNbsp","insertSpaceOrNbspAtSelection","locationToCaretPosition","setSelection","executeKeydownOverride","registerKeyboardOverrides","setup$c","NodeChange","lastPath","nativeRng","fakeRng","isSameElementPath","currentPath","preventSummaryToggle","filterDetails","isTextBlockNode","normalizeSelection","getAbsolutePosition","calc","bodyPosition","getBodyPosition","scrollPosition","getScrollPosition","mousePosition","iframePosition","inlineScroll","iframeScroll","getBodyScroll","getMousePosition","isContentEditableFalse$1","isContentEditableTrue$1","createGhost","clonedElm","boxSizing","removeElement","isLeftMouseButtonPressed","ceElm","elmPos","dragging","relX","relY","ghost","dragElement","isValidDropTarget","targetClone_1","cloneElm","removeDragState","bindFakeDragEvents","pageDom","dragStartHandler","dragHandler","throttledPlaceCaretAt","targetPos","applyRelPos","overflowX","moveGhost","dropHandler","dragEndHandler","realTarget","blockIeDrop","shouldBlockUnsupportedDrop","preventFileDrop","preventFileDropIfUIElement","editorRoot","eventNames","blockUnsupportedFileDrop","getContentEditableRoot","SelectionOverrides","fakeCaret","realSelectionId","isFakeSelectionTargetElement","isNearFakeSelectionElement","setRange","getRange","isWithinCaretContainer","isRangeInCaretContainer","normalizeShortEndedElementSelection","selectElement","targetClone","origTargetClone","$realSelectionContainer","setupOffscreenSelection","nodeElm","setElementSelection","afterNode","removeElementSelection","contentEditableRoot","hasBetterMouseTarget","targetBlock","hasNormalCaretPosition","fakeCaretInfo","clipboardData","realSelectionElement","clearData","outerText","renderFocusCaret","Quirks","getAttributeApplyFunction","isSelectionAcrossElements","isGecko","isWebKit","mceInternalUrlPrefix","mceInternalDataType","setEditorCommandState","emptyEditorWhenDeleting","serializeRng","allRng","allContentsSelected","selectAll","documentElementEditingFocus","Range","body_1","selectControlElements","disableBackspaceIntoATable","setGeckoEditingOptions","isReadOnly$1","addBrAfterLastLinks","showBrokenImageIcon","contentStyles","restoreFocusOnKeyDown","bodyHeight","blockCmdArrowNavigation","tapLinksAndImages","blockFormSubmitInsideEditor","ieInternalDragAndDrop","selectionHtml","internalContent","setMceInternalContent","getMceInternalContent","queryCommandSupported","setAttributeNode","DOM$6","getRootName","removeUndefined","mkParserSettings","moveSelectionToFirstCaretPosition","storeNative","initEditor","bindPendingEventDelegates","fireInit","execCallback","auto_focus","autoFocus","getStyleSheetLoader$1","loadContentCss","removeCss","contentCssText_1","allStylesheets","framedFonts","makeStylesheetLoadingPromises","content_style","appendStyle","preInit","firePreInit","browser_spellcheck","gecko_spellcheck","spellcheck","firePostRender","directionality","getDirectionality","protect","initEditorWithInitialContent","startContent","loadInitialContent","initContentBody","skipWrite","orgVisibility","iframeHTML","hex_colors","force_hex_style_colors","createParser","boolean_attributes","move_caret_before_on_enter_elements","non_empty_elements","short_ended_elements","text_inline_elements","whitespace_elements","mkSerializerSettings","annotator","_nodeChangeDispatcher","setupRtcThunk","setupRtc","setProgressState","_rtcMode","DOM$5","getIframeHtml","getDocType","bodyId","getBodyId","bodyClass","getBodyClass","translatedAriaText","getIframeAriaText","createIframe","customAttrs","iframeTitle","ifr","getIframeAttrs","frameBorder","allowTransparency","isDomainRelaxed","domain","hostname","bodyUuid","domainRelaxUrl","relaxDomain","DOM$4","initPlugin","initializedPlugins","Plugin","pluginInstance","pluginInitError","trimLegacyPrefix","createThemeFalseResult","renderThemeFalse","renderThemeFalseIframe","renderThemeUi","renderFromLoadedTheme","iframeHeight","renderFromThemeFunc","iconPackName","currentIcons","loadIcons","svgData","addIcon","initIcons","Theme","initTheme","initPlugins","renderInfo","uiApiFacade","augmentEditorUiApi","boxInfo","hidden","DOM$3","hasSkipLoadPrefix","loadLanguage","scriptLoader","languageCode","languageUrl","getLanguageUrl","url_1","languageLoadError","getIconsUrlMetaFromName","defaultIconsUrl","customIconsUrl","getIconsUrl","getIconsUrlMetaFromUrl","urlMeta","iconsLoadError","themeUrl","getThemeUrl","loadTheme","getExternalPlugins$1","depPlugin","url_2","loadPlugins","clone$3","getStyleSheetLoader","resetContent","shouldPatchSubmit","triggerSave","isEncodingXml","shouldAddFormSubmitTrigger","shouldAddUnloadTrigger","set_dirty","addVisual$1","legacyPropNames","getSpecifiedFontProp","legacyPropName","getProperty","getFontProp","getComputedFontProp","getFontSize","getFontFamily","findFirstCaretElement","bindRange","getCaretElement","mapRange","mapper","fromFontSizeNumber","fontSizeNumber","getFontStyleValues","fontClasses","getFontSizeClasses","normalizeFontNames","insertAtCaret","processValue","each$4","EditorCommands","setupCommands","skip_focus","customCommand","addCommands","commandList","hasCustomCommand","execNativeCommand","isFormatMatch","storeSelection","selectionBookmark","_command","queryCommandEnabled","listParent","fontNameAction","fontSizeAction","lineHeightAction","editingHost","selectNodeContents","alignStates","Undo","Redo","fontNameQuery","fontSizeQuery","specifiedStyle","lineHeightQuery","internalContentEditableAttr","setContentEditable","toggleReadOnly","removeFakeSelection","switchOnContentEditableTrue","restoreFakeSelection","registerFilters","processReadonlyEvents","isClickEvent","getAnchorHrefOpt","targetEl","nativeEvents","EventDispatcher","bindings","toggleEvent","isNative","beforeFire","wrappedCallback","currentName","bindingName","filteredHandlers","getEventDispatcher","_eventDispatcher","toggleNativeEvent","Observable","dispatcherArgs","DOM$2","getEventTarget","eventRoot","isListening","bindEventDelegate","delegates","eventRootElm","editors","EditorObservable","_pendingNativeEvents","defaultModes","switchToMode","activeMode","availableModes","oldMode","activate","deactivate","editorReadOnly","fireSwitchMode","design","registerReadOnlyContentFilters","registerReadOnlySelectionBlockers","registerMode","each$3","explode$1","keyCodeLookup","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","modifierNames","parseShortcut","charCode","Shortcuts","pendingPatterns","hasModifier","isFunctionKey","matchShortcut","subpatterns","executeShortcutAction","cmdFunc","normalizeCommandFunc","createShortcut","bridge","addAutocompleter","addContextMenu","addContextToolbar","addContextForm","addSidebar","DOM$1","extend$3","each$2","Editor","loadedCSS","isNotDirty","documentBaseURL","base_url","_setBaseUrl","baseURI","referrer_policy","language_load","editorCommands","cache_suffix","modeInstance","callbackLookup","initialContent","oldState","urlconverter_callback","_scanForImages","extend$2","instanceCounter","boundGlobalEvents","legacyEditors","globalEventDelegate","EditorManager","toggleGlobalEvents","removeEditorFromList","targetEditor","oldEditors","isQuirksMode","compatMode","majorVersion","minorVersion","releaseDate","i18n","tinyMCEPreInit","srcScript","currentScript","pluginBaseUrls","plugin_base_urls","pluginBaseUrl","invalidInlineTargets","createId","provideResults","initEditors","initCount","createEditor","editor_deselector","editor_selector","findTargets","isInvalidInlineTarget","addI18n","tasks","resultFns","extendClass","initializing","min$1","max$1","relativePosition","targetW","targetH","relChars","Rect","findBestRelativePosition","constrainRect","rels","intersect","x1","y1","fixedSize","cx2","cy2","underflowX1","underflowY1","overflowX2","overflowY2","fromClientRect","Resource","loadErrMsg","runErrMsg","task","waiter","resolveCb","rejectCb","awaiter","extend$1","Class","_super","mixins","mixin","Mixins","dummy","Methods","Properties","Statics","Defaults","member","createMethod","localStorage","JSONUtils","hexCode","JSONP","XHR","ready","success_scope","error_scope","overrideMimeType","content_type","crossDomain","setRequestHeader","requestheaders","JSONRequest","sendRPC","ecb","scb","xhrArgs","ty","method","removeItem","configurable","enumerable","publicApi","geom","LocalStorage","Color","hsvToRgb","toRgb","toHsv","rgb2hsv","ImageUploader","showNotification","TreeWalker","Serializer","Selection","isMac","tinyMCE","exportToWindowGlobal","exportToModuleLoaders"],"sourceRoot":""}