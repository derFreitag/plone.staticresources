{"version":3,"file":"chunks/tinymce.6acdc48e1ef01fb67ec6.min.js","mappings":"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2/D,GAAQwB,EAAKnhE,KAEtB,GAA0B,mBAAfmhE,EAAKx7E,MACd,OAAOg6E,GAAQwB,EAAKx7E,MAExB,CACAq7E,EAASjC,GAAeiC,EAC1B,CAKA,OAJA,SAAuBvtE,GAErB,OADAf,QAAQgpB,KAAK,qBAAsBjoB,GAC5B,IACT,CAEF,CACA,IAAI2tE,GAAS36D,GAAO,CAClB,IACA,OACA,UACA,UACA,OACA,UACA,QACA,QACA,IACA,MACA,MACA,MACA,QACA,aACA,OACA,KACA,SACA,SACA,UACA,SACA,OACA,OACA,MACA,WACA,UACA,OACA,WACA,KACA,YACA,MACA,UACA,MACA,SACA,MACA,MACA,KACA,KACA,UACA,KACA,WACA,aACA,SACA,OACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,MACA,QACA,MACA,MACA,QACA,SACA,KACA,OACA,MACA,OACA,UACA,OACA,WACA,QACA,MACA,OACA,KACA,WACA,SACA,SACA,IACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,UACA,SACA,SACA,QACA,SACA,SACA,OACA,SACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,WACA,QACA,KACA,QACA,OACA,KACA,QACA,KACA,IACA,KACA,MACA,QACA,QAEE46D,GAAQ56D,GAAO,CACjB,MACA,IACA,WACA,cACA,eACA,eACA,gBACA,mBACA,SACA,WACA,OACA,OACA,UACA,SACA,OACA,IACA,QACA,WACA,QACA,QACA,OACA,iBACA,SACA,OACA,WACA,QACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,QACA,SACA,SACA,OACA,WACA,QACA,OACA,QACA,OACA,UAEE66D,GAAa76D,GAAO,CACtB,UACA,gBACA,sBACA,cACA,mBACA,oBACA,oBACA,iBACA,UACA,UACA,UACA,UACA,UACA,iBACA,UACA,UACA,cACA,eACA,WACA,eACA,qBACA,cACA,SACA,iBAEE86D,GAAgB96D,GAAO,CACzB,UACA,gBACA,SACA,UACA,eACA,YACA,mBACA,iBACA,gBACA,gBACA,gBACA,QACA,YACA,OACA,eACA,YACA,UACA,gBACA,SACA,MACA,aACA,UACA,QAEE+6D,GAAW/6D,GAAO,CACpB,OACA,WACA,SACA,UACA,QACA,SACA,KACA,aACA,gBACA,KACA,KACA,QACA,UACA,WACA,QACA,OACA,KACA,SACA,QACA,SACA,OACA,OACA,UACA,SACA,MACA,QACA,MACA,SACA,eAEEg7D,GAAmBh7D,GAAO,CAC5B,UACA,cACA,aACA,WACA,YACA,UACA,UACA,SACA,SACA,QACA,YACA,aACA,iBACA,cACA,SAEE1T,GAAO0T,GAAO,CAAC,UACfvU,GAAOuU,GAAO,CAChB,SACA,SACA,QACA,MACA,iBACA,eACA,uBACA,WACA,aACA,UACA,SACA,UACA,cACA,cACA,UACA,OACA,QACA,QACA,QACA,OACA,UACA,WACA,eACA,SACA,cACA,WACA,WACA,UACA,MACA,WACA,0BACA,wBACA,WACA,YACA,UACA,eACA,OACA,MACA,UACA,SACA,SACA,OACA,OACA,WACA,KACA,YACA,YACA,QACA,OACA,QACA,OACA,OACA,UACA,OACA,MACA,MACA,YACA,QACA,SACA,MACA,YACA,WACA,QACA,OACA,QACA,UACA,aACA,SACA,OACA,UACA,UACA,cACA,cACA,SACA,UACA,UACA,aACA,WACA,MACA,WACA,MACA,WACA,OACA,OACA,UACA,aACA,QACA,WACA,QACA,OACA,QACA,OACA,UACA,QACA,MACA,SACA,OACA,QACA,UACA,WACA,QACA,YACA,OACA,SACA,SACA,QACA,QACA,QACA,SAEEi7D,GAAMj7D,GAAO,CACf,gBACA,aACA,WACA,qBACA,SACA,gBACA,gBACA,UACA,gBACA,iBACA,QACA,OACA,KACA,QACA,OACA,gBACA,YACA,YACA,QACA,sBACA,8BACA,gBACA,kBACA,KACA,KACA,IACA,KACA,KACA,kBACA,YACA,UACA,UACA,MACA,WACA,YACA,MACA,OACA,eACA,YACA,SACA,cACA,cACA,gBACA,cACA,YACA,mBACA,eACA,aACA,eACA,cACA,KACA,KACA,KACA,KACA,aACA,WACA,gBACA,oBACA,SACA,OACA,KACA,kBACA,KACA,MACA,IACA,KACA,KACA,KACA,KACA,UACA,YACA,aACA,WACA,OACA,eACA,iBACA,eACA,mBACA,iBACA,QACA,aACA,aACA,eACA,eACA,cACA,cACA,mBACA,YACA,MACA,OACA,QACA,SACA,OACA,MACA,OACA,aACA,SACA,WACA,UACA,QACA,SACA,cACA,SACA,WACA,cACA,OACA,aACA,sBACA,mBACA,eACA,SACA,gBACA,sBACA,iBACA,IACA,KACA,KACA,SACA,OACA,OACA,cACA,YACA,UACA,SACA,SACA,QACA,OACA,kBACA,mBACA,mBACA,eACA,cACA,eACA,cACA,aACA,eACA,mBACA,oBACA,iBACA,kBACA,oBACA,iBACA,SACA,eACA,QACA,eACA,iBACA,WACA,UACA,UACA,YACA,mBACA,cACA,kBACA,iBACA,aACA,OACA,KACA,KACA,UACA,SACA,UACA,aACA,UACA,aACA,gBACA,gBACA,QACA,eACA,OACA,eACA,mBACA,mBACA,IACA,KACA,KACA,QACA,IACA,KACA,KACA,IACA,eAEEk7D,GAASl7D,GAAO,CAClB,SACA,cACA,QACA,WACA,QACA,eACA,cACA,aACA,aACA,QACA,MACA,UACA,eACA,WACA,QACA,QACA,SACA,OACA,KACA,UACA,SACA,gBACA,SACA,SACA,iBACA,YACA,WACA,cACA,UACA,UACA,gBACA,WACA,WACA,OACA,WACA,WACA,aACA,UACA,SACA,SACA,cACA,gBACA,uBACA,YACA,YACA,aACA,WACA,iBACA,iBACA,YACA,UACA,QACA,UAEEm7D,GAAMn7D,GAAO,CACf,aACA,SACA,cACA,YACA,gBAEEo7D,GAAgB5C,GAAK,6BACrB6C,GAAW7C,GAAK,yBAChB8C,GAAY9C,GAAK,8BACjB+C,GAAY/C,GAAK,kBACjBgD,GAA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H,GACrC,OAAOiB,EAAkBj1H,EAAMg0H,GAAS/jC,MAAK,SAAUqlC,GACrD,OAAOA,EAAQ58F,MAAM,KAAK,EAC5B,GACF,EAYE68F,SAXa,WACb,OAAOT,EAAU7kC,KAAKr6D,GACxB,EAWF,EACI4/F,GAAW,SAAU73F,GACvB,OArDkB,SAAUA,GAC5B,OAAO,IAAIu6E,IAAU,SAAUz0G,GAC7B,IAAIgyH,EAAS,IAAIC,WACjBD,EAAOE,UAAY,WACjBlyH,EAAQgyH,EAAOjvG,OACjB,EACAivG,EAAOG,cAAcj4F,EACvB,GACF,CA6CSk4F,CAAcl4F,GAAMsyD,MAAK,SAAU6iC,GACxC,OAAO+B,GAAST,GAAaz2F,GAAOA,EAAMm1F,EAC5C,GACF,EACIgD,GAAa,SAAU1yB,EAAQpjG,GACjC,OAAO+zH,GAAa3wB,EAAQpjG,GAAMiwF,MAAK,SAAUtyD,GAC/C,OAAOk3F,GAAS3c,GAAUz0G,QAAQ2/F,GAASzlE,EAAMylE,EAAO+wB,YAC1D,GACF,EAMI4B,GAAQ,SAAU91H,EAAOqnC,EAAKvsB,GAChC,IAAIi7G,EAA+B,iBAAV/1H,EAAqBsa,WAAWta,GAASA,EAMlE,OALI+1H,EAAcj7G,EAChBi7G,EAAcj7G,EACLi7G,EAAc1uF,IACvB0uF,EAAc1uF,GAET0uF,CACT,EA8BIC,GAAc,CAChB,EACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,EACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,IACA,KACA,EACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,EACA,IACA,IACA,IACA,IACA,EACA,IACA,IACA,IACA,EACA,IACA,EACA,IACA,IACA,E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","sources":["webpack://plone.staticresources/./node_modules/tinymce/skins/ui/oxide-dark/content.css","webpack://plone.staticresources/./node_modules/tinymce/skins/ui/oxide-dark/skin.css","webpack://plone.staticresources/./node_modules/tinymce/skins/ui/oxide/content.css","webpack://plone.staticresources/./node_modules/tinymce/skins/ui/oxide/skin.css","webpack://plone.staticresources/./node_modules/tinymce/skins/ui/oxide-dark/content.css?b804","webpack://plone.staticresources/./node_modules/tinymce/skins/ui/oxide-dark/skin.css?8fdb","webpack://plone.staticresources/./node_modules/tinymce/skins/ui/oxide/content.css?83e5","webpack://plone.staticresources/./node_modules/tinymce/skins/ui/oxide/skin.css?d86e","webpack://plone.staticresources/./node_modules/tinymce/icons/default/icons.js","webpack://plone.staticresources/./node_modules/tinymce/icons/default/index.js","webpack://plone.staticresources/./node_modules/tinymce/themes/silver/index.js","webpack://plone.staticresources/./node_modules/tinymce/themes/silver/theme.js","webpack://plone.staticresources/./node_modules/tinymce/tinymce.js"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../../css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%278%27%20height%3D%2712%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%3Cpath%20d%3D%27M0%200L8%200%208%2012%204.09117821%209%200%2012z%27%20fill%3D%22%23cccccc%22%2F%3E%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%236d737b%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_2___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_3___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_4___ = new URL(\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_5___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%20fill%3D%22%23cccccc%22%2F%3E%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_6___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba%280%2C%200%2C%200%2C%20.2%29%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba%280%2C%200%2C%200%2C%20.2%29%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba%280%2C%200%2C%200%2C%20.2%29%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_7___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%274%27%20height%3D%274%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%3Cpath%20stroke%3D%27%23ff0000%27%20fill%3D%27none%27%20stroke-linecap%3D%27round%27%20stroke-opacity%3D%27.75%27%20d%3D%27M0%203L2%201%204%203%27%2F%3E%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_8___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%274%27%20height%3D%274%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%3Cpath%20stroke%3D%27%2300A835%27%20fill%3D%27none%27%20stroke-linecap%3D%27round%27%20d%3D%27M0%203L2%201%204%203%27%2F%3E%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_9___ = new URL(\"data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_10___ = new URL(\"data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_11___ = new URL(\"data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_12___ = new URL(\"data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_13___ = new URL(\"data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_14___ = new URL(\"data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_15___ = new URL(\"data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_16___ = new URL(\"data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_17___ = new URL(\"data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_18___ = new URL(\"data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_19___ = new URL(\"data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_20___ = new URL(\"data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_21___ = new URL(\"data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_22___ = new URL(\"data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_23___ = new URL(\"data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_24___ = new URL(\"data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_25___ = new URL(\"data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_26___ = new URL(\"data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_27___ = new URL(\"data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___);\nvar ___CSS_LOADER_URL_REPLACEMENT_5___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_5___);\nvar ___CSS_LOADER_URL_REPLACEMENT_6___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_6___);\nvar ___CSS_LOADER_URL_REPLACEMENT_7___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_7___);\nvar ___CSS_LOADER_URL_REPLACEMENT_8___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_8___);\nvar ___CSS_LOADER_URL_REPLACEMENT_9___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_9___);\nvar ___CSS_LOADER_URL_REPLACEMENT_10___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_10___);\nvar ___CSS_LOADER_URL_REPLACEMENT_11___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_11___);\nvar ___CSS_LOADER_URL_REPLACEMENT_12___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_12___);\nvar ___CSS_LOADER_URL_REPLACEMENT_13___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_13___);\nvar ___CSS_LOADER_URL_REPLACEMENT_14___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_14___);\nvar ___CSS_LOADER_URL_REPLACEMENT_15___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_15___);\nvar ___CSS_LOADER_URL_REPLACEMENT_16___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_16___);\nvar ___CSS_LOADER_URL_REPLACEMENT_17___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_17___);\nvar ___CSS_LOADER_URL_REPLACEMENT_18___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_18___);\nvar ___CSS_LOADER_URL_REPLACEMENT_19___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_19___);\nvar ___CSS_LOADER_URL_REPLACEMENT_20___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_20___);\nvar ___CSS_LOADER_URL_REPLACEMENT_21___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_21___);\nvar ___CSS_LOADER_URL_REPLACEMENT_22___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_22___);\nvar ___CSS_LOADER_URL_REPLACEMENT_23___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_23___);\nvar ___CSS_LOADER_URL_REPLACEMENT_24___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_24___);\nvar ___CSS_LOADER_URL_REPLACEMENT_25___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_25___);\nvar ___CSS_LOADER_URL_REPLACEMENT_26___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_26___);\nvar ___CSS_LOADER_URL_REPLACEMENT_27___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_27___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".mce-content-body .mce-item-anchor{background:transparent url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \") no-repeat center;cursor:default;display:inline-block;height:12px !important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;-moz-user-select:all;-ms-user-select:all;user-select:all;width:8px !important}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment{background-color:#fff0b7}.tox-comments-visible .tox-comment--active{background-color:#ffe168}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas,Monaco,\\\"Andale Mono\\\",\\\"Ubuntu Mono\\\",monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#282a36}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:#6272a4}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.property,.token.tag,.token.constant,.token.symbol,.token.deleted{color:#ff79c6}.token.boolean,.token.number{color:#bd93f9}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.inserted{color:#50fa7b}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.function,.token.class-name{color:#f1fa8c}.token.keyword{color:#8be9fd}.token.regex,.token.important{color:#ffb86c}.token.important,.token.bold{font-weight:bold}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:black;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body *[data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body *[contentEditable=false]{cursor:default}.mce-content-body *[contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \"),default}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px 0 2px;position:relative}.mce-preview-object .mce-shim{background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected=\\\"2\\\"] .mce-shim{display:none}.mce-object{background:transparent url(\" + ___CSS_LOADER_URL_REPLACEMENT_5___ + \") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \");height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected=\\\"2\\\"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--21by9,.tiny-pageembed--16by9,.tiny-pageembed--4by3,.tiny-pageembed--1by1{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--21by9 iframe,.tiny-pageembed--16by9 iframe,.tiny-pageembed--4by3 iframe,.tiny-pageembed--1by1 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34, 47, 62, 0.7);content:attr(data-mce-placeholder);position:absolute}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:nth-of-type(1){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns th,.mce-content-body .mce-clonedresizable.mce-resizetable-columns td{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0, 0, 0, 0.75);border:1px;border-radius:3px;color:white;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:\\\"\\\";display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:bold;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url(\" + ___CSS_LOADER_URL_REPLACEMENT_6___ + \") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::-moz-selection{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body img[data-mce-selected],.mce-content-body video[data-mce-selected],.mce-content-body audio[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body table[data-mce-selected]{outline:3px solid #4099ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #4099ff;outline-offset:1px}.mce-content-body *[contentEditable=false] *[contentEditable=true]:focus{outline:3px solid #4099ff}.mce-content-body *[contentEditable=false] *[contentEditable=true]:hover{outline:3px solid #4099ff}.mce-content-body *[contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #4099ff}.mce-content-body.mce-content-readonly *[contentEditable=true]:focus,.mce-content-body.mce-content-readonly *[contentEditable=true]:hover{outline:none}.mce-content-body *[data-mce-selected=inline-boundary]{background-color:#4099ff}.mce-content-body .mce-edit-focus{outline:3px solid #4099ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::-moz-selection,.mce-content-body th[data-mce-selected]::-moz-selection{background:none}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:none}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180, 215, 255, 0.7);border:1px solid transparent;bottom:-1px;content:\\\"\\\";left:-1px;mix-blend-mode:lighten;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast: active),(-ms-high-contrast: none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0, 84, 180, 0.7)}}.mce-content-body img::-moz-selection{background:none}.mce-content-body img::selection{background:none}.ephox-snooker-resizer-bar{background-color:#4099ff;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_7___ + \");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_8___ + \");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc li{list-style-type:none}table[style*=\\\"border-width: 0px\\\"],.mce-item-table:not([border]),.mce-item-table[border=\\\"0\\\"],table[style*=\\\"border-width: 0px\\\"] td,.mce-item-table:not([border]) td,.mce-item-table[border=\\\"0\\\"] td,table[style*=\\\"border-width: 0px\\\"] th,.mce-item-table:not([border]) th,.mce-item-table[border=\\\"0\\\"] th,table[style*=\\\"border-width: 0px\\\"] caption,.mce-item-table:not([border]) caption,.mce-item-table[border=\\\"0\\\"] caption{border:1px dashed #bbb}.mce-visualblocks p,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks section,.mce-visualblocks article,.mce-visualblocks blockquote,.mce-visualblocks address,.mce-visualblocks pre,.mce-visualblocks figure,.mce-visualblocks figcaption,.mce-visualblocks hgroup,.mce-visualblocks aside,.mce-visualblocks ul,.mce-visualblocks ol,.mce-visualblocks dl{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_9___ + \")}.mce-visualblocks h1{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_10___ + \")}.mce-visualblocks h2{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_11___ + \")}.mce-visualblocks h3{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_12___ + \")}.mce-visualblocks h4{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_13___ + \")}.mce-visualblocks h5{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_14___ + \")}.mce-visualblocks h6{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_15___ + \")}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_16___ + \")}.mce-visualblocks section{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_17___ + \")}.mce-visualblocks article{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_18___ + \")}.mce-visualblocks blockquote{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_19___ + \")}.mce-visualblocks address{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_20___ + \")}.mce-visualblocks pre{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_21___ + \")}.mce-visualblocks figure{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_22___ + \")}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_23___ + \")}.mce-visualblocks aside{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_24___ + \")}.mce-visualblocks ul{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_25___ + \")}.mce-visualblocks ol{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_26___ + \")}.mce-visualblocks dl{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_27___ + \")}.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) ul,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) dl{margin-left:3px}.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] ul,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] dl{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:\\\"-\\\"}body{font-family:sans-serif}table{border-collapse:collapse}\", \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/tinymce/skins/ui/oxide-dark/content.css\"],\"names\":[],\"mappings\":\"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\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../../css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(\"data:image/svg+xml;charset=utf8,%3Csvg height=%2739px%27 viewBox=%270 0 40 39px%27 width=%2740%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Crect x=%270%27 y=%2738px%27 width=%27100%27 height=%271%27 fill=%27%23000000%27/%3E%3C/svg%3E\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".tox{box-shadow:none;box-sizing:content-box;color:#2a3746;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;font-size:16px;font-style:normal;font-weight:normal;line-height:normal;-webkit-tap-highlight-color:transparent;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox *:not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox *:not(svg):not(rect){background:transparent;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:1px solid #000;border-radius:0;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;overflow:hidden;position:relative;visibility:inherit !important}.tox-tinymce-inline{border:none;box-shadow:none}.tox-tinymce-inline .tox-editor-header{background-color:transparent;border:1px solid #000;border-radius:0;box-shadow:none}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;z-index:1300}.tox-tinymce *:focus,.tox-tinymce-aux *:focus{outline:none}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border:1px solid #000;border-radius:3px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>*:last-child:not(:only-child){border-color:#000;border-style:solid}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(32, 122, 183, 0.5);border-color:#207ab7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description>*:last-child{border-color:#207ab7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a .tox-icon{color:#fff}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255, 165, 0, 0.5);border-color:rgba(255, 165, 0, 0.8);color:#fff}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description>*:last-child{border-color:rgba(255, 165, 0, 0.8)}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#fff}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#fff}.tox .tox-dialog__body-content .accessibility-issue--warn a .tox-icon{color:#fff}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204, 0, 0, 0.5);border-color:rgba(204, 0, 0, 0.8);color:#fff}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description>*:last-child{border-color:rgba(204, 0, 0, 0.8)}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#fff}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#fff}.tox .tox-dialog__body-content .accessibility-issue--error a .tox-icon{color:#fff}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120, 171, 70, 0.5);border-color:rgba(120, 171, 70, 0.8);color:#fff}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>*:last-child{border-color:rgba(120, 171, 70, 0.8)}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#fff}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#fff}.tox .tox-dialog__body-content .accessibility-issue--success a .tox-icon{color:#fff}.tox .tox-dialog__body-content .accessibility-issue__header h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>*:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description>*:last-child{border-left-width:1px;padding-left:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>*:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description>*:last-child{border-right-width:1px;padding-right:4px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#207ab7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#207ab7;border-radius:3px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;font-size:14px;font-style:normal;font-weight:bold;letter-spacing:normal;line-height:24px;margin:0;outline:none;padding:4px 16px;text-align:center;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button[disabled]{background-color:#207ab7;background-image:none;border-color:#207ab7;box-shadow:none;color:rgba(255, 255, 255, 0.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#1c6ca1;background-image:none;border-color:#1c6ca1;box-shadow:none;color:#fff}.tox .tox-button:hover:not(:disabled){background-color:#1c6ca1;background-image:none;border-color:#1c6ca1;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#185d8c;background-image:none;border-color:#185d8c;box-shadow:none;color:#fff}.tox .tox-button--secondary{background-color:#3d546f;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#3d546f;border-radius:3px;border-style:solid;border-width:1px;box-shadow:none;color:#fff;font-size:14px;font-style:normal;font-weight:bold;letter-spacing:normal;outline:none;padding:4px 16px;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#3d546f;background-image:none;border-color:#3d546f;box-shadow:none;color:rgba(255, 255, 255, 0.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#34485f;background-image:none;border-color:#34485f;box-shadow:none;color:#fff}.tox .tox-button--secondary:hover:not(:disabled){background-color:#34485f;background-image:none;border-color:#34485f;box-shadow:none;color:#fff}.tox .tox-button--secondary:active:not(:disabled){background-color:#2b3b4e;background-image:none;border-color:#2b3b4e;box-shadow:none;color:#fff}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;font-size:16px;font-weight:normal;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#fff}.tox .tox-button--naked[disabled]{background-color:#3d546f;border-color:#3d546f;box-shadow:none;color:rgba(255, 255, 255, 0.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:#34485f;border-color:#34485f;box-shadow:none;color:#fff}.tox .tox-button--naked:focus:not(:disabled){background-color:#34485f;border-color:#34485f;box-shadow:none;color:#fff}.tox .tox-button--naked:active:not(:disabled){background-color:#2b3b4e;border-color:#2b3b4e;box-shadow:none;color:#fff}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#fff}.tox .tox-checkbox{align-items:center;border-radius:3px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:3px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:3px;width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(255, 255, 255, 0.2)}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#207ab7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#207ab7}.tox .tox-checkbox--disabled{color:rgba(255, 255, 255, 0.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(255, 255, 255, 0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(255, 255, 255, 0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(255, 255, 255, 0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:3px;box-shadow:inset 0 0 0 1px #207ab7;padding:3px}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#1a1a1a;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#333;color:#fff;cursor:default;font-size:12px;font-style:normal;font-weight:normal;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;color:#fff;cursor:pointer;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#2b3b4e;color:#fff}.tox .tox-collection--list .tox-collection__item--active{background-color:#4a5562}.tox .tox-collection--toolbar .tox-collection__item--enabled{background-color:#757d87;color:#fff}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#4a5562}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#757d87;color:#fff}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#4a5562;color:#fff}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}.tox .tox-collection__item-icon,.tox .tox-collection__item-checkmark{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-icon svg,.tox .tox-collection__item-checkmark svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;-ms-flex-preferred-size:auto;font-size:14px;font-style:normal;font-weight:normal;line-height:24px;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:rgba(255, 255, 255, 0.5);display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:\\\"\\\";font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:#fff}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(255, 255, 255, 0.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(255, 255, 255, 0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#2b3b4e;border:1px solid #1a1a1a;border-radius:3px;box-shadow:0 1px 3px rgba(0, 0, 0, 0.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:34px;margin:2px 0 3px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{-ms-grid-row-align:center;align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{-ms-grid-row-align:center;align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid #000}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>*:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid #000}.tox[dir=rtl] .tox-collection--list .tox-collection__item>*:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:none;border:1px solid black;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid white;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom, #f00, #ff0080, #f0f, #8000ff, #00f, #0080ff, #0ff, #00ff80, #0f0, #80ff00, #ff0, #ff8000, #f00);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-thumb{background:white;border:1px solid black;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red !important}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid black;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__primary .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches{margin:2px 0 3px 4px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px 0}.tox .tox-swatches__row{display:flex}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:hover,.tox .tox-swatch:focus{box-shadow:0 0 0 1px rgba(127, 127, 127, 0.3) inset;transform:scale(0.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:none;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#4a5562}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#2b3b4e;position:relative}.tox .tox-comment-thread>*:not(:first-child){margin-top:8px}.tox .tox-comment{background:#2b3b4e;border:1px solid #000;border-radius:3px;box-shadow:0 4px 8px 0 rgba(42, 55, 70, 0.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#fff;display:flex;justify-content:space-between}.tox .tox-comment__date{color:rgba(255, 255, 255, 0.5);font-size:12px}.tox .tox-comment__body{color:#fff;font-size:14px;font-style:normal;font-weight:normal;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(255, 255, 255, 0.5);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#2b3b4e;bottom:0;content:\\\"\\\";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>*:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(43, 59, 78, 0), #2b3b4e);bottom:0;content:\\\"\\\";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#2b3b4e;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#fff;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#2b3b4e;box-shadow:0 0 8px 8px #2b3b4e;color:#fff;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#2b3b4e;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>*:last-child,.tox:not([dir=rtl]) .tox-comment__edit>*:last-child,.tox:not([dir=rtl]) .tox-comment__reply>*:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>*:last-child,.tox[dir=rtl] .tox-comment__edit>*:last-child,.tox[dir=rtl] .tox-comment__reply>*:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(255, 255, 255, 0.5)}.tox .tox-user__name{color:rgba(255, 255, 255, 0.5);font-size:12px;font-style:normal;font-weight:bold;text-transform:uppercase}.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(34, 47, 62, 0.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#222f3e}.tox .tox-dialog{background-color:#2b3b4e;border-color:#000;border-radius:3px;border-style:solid;border-width:1px;box-shadow:0 16px 16px -10px rgba(42, 55, 70, 0.15),0 0 40px 1px rgba(42, 55, 70, 0.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#2b3b4e;border-bottom:none;color:#fff;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;font-size:20px;font-style:normal;font-weight:normal;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#fff;display:flex;flex:1;-ms-flex-preferred-size:auto;font-size:16px;font-style:normal;font-weight:normal;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;padding:16px 16px}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(255, 255, 255, 0.5);display:inline-block;font-size:14px;line-height:1.3;margin-bottom:8px;text-decoration:none;white-space:nowrap}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(32, 122, 183, 0.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #207ab7;color:#207ab7}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;-ms-flex-preferred-size:auto;max-height:650px;overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>*:first-child{margin-top:0}.tox .tox-dialog__body-content>*:last-child{margin-bottom:0}.tox .tox-dialog__body-content>*:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#207ab7;cursor:pointer;text-decoration:none}.tox .tox-dialog__body-content a:hover,.tox .tox-dialog__body-content a:focus{color:#185d8c;text-decoration:none}.tox .tox-dialog__body-content a:active{color:#185d8c;text-decoration:none}.tox .tox-dialog__body-content svg{fill:#fff}.tox .tox-dialog__body-content ul{display:block;list-style-type:disc;margin-bottom:16px;-webkit-margin-end:0;margin-inline-end:0;-webkit-margin-start:0;margin-inline-start:0;-webkit-padding-start:2.5rem;padding-inline-start:2.5rem}.tox .tox-dialog__body-content .tox-form__group h1{color:#fff;font-size:20px;font-style:normal;font-weight:bold;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#fff;font-size:16px;font-style:normal;font-weight:bold;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#2b3b4e;border-top:1px solid #000;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-start,.tox .tox-dialog__footer-end{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(34, 47, 62, 0.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:bold;padding-bottom:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #000}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column;-ms-flex-preferred-size:auto}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1;-ms-flex-preferred-size:auto}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;-ms-flex-preferred-size:auto;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}.tox.tox-platform-ie .tox-dialog-wrap{position:-ms-device-fixed}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1;-ms-flex-preferred-size:auto}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #000;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(255, 255, 255, 0.5);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;-ms-flex-preferred-size:auto;overflow:hidden;position:relative}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;-ms-flex-preferred-size:auto;height:100%;position:absolute;width:100%}.tox.tox-inline-edit-area{border:1px dotted #000}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{z-index:1}.tox:not(.tox-tinymce-inline) .tox-editor-header{box-shadow:none;transition:box-shadow .5s}.tox.tox-tinymce--toolbar-bottom .tox-editor-header,.tox.tox-tinymce-inline .tox-editor-header{margin-bottom:-1px}.tox.tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:transparent;box-shadow:0 4px 4px -3px rgba(0, 0, 0, 0.25)}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:bold}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(42, 55, 70, 0.2);border-radius:3px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}.tox .tox-color-input span:hover:not([aria-disabled=true]),.tox .tox-color-input span:focus:not([aria-disabled=true]){border-color:#207ab7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg, rgba(255, 255, 255, 0.25) 25%, transparent 25%),linear-gradient(-45deg, rgba(255, 255, 255, 0.25) 25%, transparent 25%),linear-gradient(45deg, transparent 75%, rgba(255, 255, 255, 0.25) 75%),linear-gradient(-45deg, transparent 75%, rgba(255, 255, 255, 0.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #2b3b4e;border-radius:3px;box-sizing:border-box;content:\\\"\\\";height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(255, 255, 255, 0.5);display:block;font-size:14px;font-style:normal;font-weight:normal;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column;-ms-flex-preferred-size:auto}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - 4px)}.tox .tox-form__grid--3col>.tox-form__group{width:calc(33.3333333333% - 4px)}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - 4px)}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column;-ms-flex-preferred-size:auto}.tox .tox-form__group--stretched .tox-textarea{flex:1;-ms-flex-preferred-size:auto}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1;-ms-flex-preferred-size:auto}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;-ms-flex-preferred-size:auto;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>*:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>*:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-textfield,.tox .tox-toolbar-textfield,.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#2b3b4e;border-color:#000;border-radius:3px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:none;padding:5px 4.75px;resize:none;width:100%}.tox .tox-textfield[disabled],.tox .tox-textarea[disabled]{background-color:#222f3e;color:rgba(255, 255, 255, 0.85);cursor:not-allowed}.tox .tox-textfield:focus,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea:focus{background-color:#2b3b4e;border-color:#207ab7;box-shadow:none;outline:none}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#207ab7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#fff}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#19232e;color:rgba(255, 255, 255, 0.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#fff}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#2b3b4e;border-color:#000;border-radius:3px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:none;padding:5px 4.75px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#19232e;color:rgba(255, 255, 255, 0.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#2b3b4e;border-color:#207ab7;box-shadow:none;outline:none}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size=\\\"0\\\"],.tox:not([dir=rtl]) .tox-selectfield select[size=\\\"1\\\"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size=\\\"0\\\"],.tox[dir=rtl] .tox-selectfield select[size=\\\"1\\\"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea{-webkit-appearance:textarea;-moz-appearance:textarea;appearance:textarea;white-space:pre-wrap}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;-ms-scroll-chaining:none;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox.tox-tinymce.tox-fullscreen,.tox-shadowhost.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-image-tools{width:100%}.tox .tox-image-tools__toolbar{align-items:center;display:flex;justify-content:center}.tox .tox-image-tools__image{background-color:#666;height:380px;overflow:auto;position:relative;width:100%}.tox .tox-image-tools__image,.tox .tox-image-tools__image+.tox-image-tools__toolbar{margin-top:8px}.tox .tox-image-tools__image-bg{background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \")}.tox .tox-image-tools__toolbar>.tox-spacer{flex:1;-ms-flex-preferred-size:auto}.tox .tox-croprect-block{background:black;filter:alpha(opacity=50);opacity:.5;position:absolute;zoom:1}.tox .tox-croprect-handle{border:2px solid white;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox:not([dir=rtl]) .tox-image-tools__toolbar>.tox-slider:not(:first-of-type){margin-left:8px}.tox:not([dir=rtl]) .tox-image-tools__toolbar>.tox-button+.tox-slider{margin-left:32px}.tox:not([dir=rtl]) .tox-image-tools__toolbar>.tox-slider+.tox-button{margin-left:32px}.tox[dir=rtl] .tox-image-tools__toolbar>.tox-slider:not(:first-of-type){margin-right:8px}.tox[dir=rtl] .tox-image-tools__toolbar>.tox-button+.tox-slider{margin-right:32px}.tox[dir=rtl] .tox-image-tools__toolbar>.tox-slider+.tox-button{margin-right:32px}.tox .tox-insert-table-picker{display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#000;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px 0}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:rgba(32, 122, 183, 0.5);border-color:rgba(32, 122, 183, 0.5)}.tox .tox-insert-table-picker__label{color:#fff;display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#2b3b4e;border:1px solid #000;border-radius:3px;box-shadow:0 4px 8px 0 rgba(42, 55, 70, 0.1);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:4px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:4px}.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p,.tox .tox-menu__label blockquote,.tox .tox-menu__label code{margin:0}.tox .tox-menubar{background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \") left 0 top 0 #222f3e;background-color:#222f3e;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 4px 0 4px}.tox.tox-tinymce:not(.tox-tinymce-inline) .tox-editor-header:not(:first-child) .tox-menubar{border-top:1px solid #000}.tox .tox-mbtn{align-items:center;background:transparent;border:0;border-radius:3px;box-shadow:none;color:#fff;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:normal;height:34px;justify-content:center;margin:2px 0 3px 0;outline:none;overflow:hidden;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:transparent;border:0;box-shadow:none;color:rgba(255, 255, 255, 0.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#4a5562;border:0;box-shadow:none;color:#fff}.tox .tox-mbtn--active{background:#757d87;border:0;box-shadow:none;color:#fff}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#4a5562;border:0;box-shadow:none;color:#fff}.tox .tox-mbtn__select-label{cursor:default;font-weight:normal;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:3px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:-ms-grid;display:grid;font-size:14px;font-weight:normal;-ms-grid-columns:minmax(40px, 1fr) auto minmax(40px, 1fr);grid-template-columns:minmax(40px, 1fr) auto minmax(40px, 1fr);margin-top:4px;opacity:0;padding:4px;transition:transform 100ms ease-in,opacity 150ms ease-in}.tox .tox-notification p{font-size:14px;font-weight:normal}.tox .tox-notification a{cursor:pointer;text-decoration:underline}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#fff}.tox .tox-notification--success p{color:#fff}.tox .tox-notification--success a{color:#547831}.tox .tox-notification--success svg{fill:#fff}.tox .tox-notification--error{background-color:#f8dede;border-color:#f2bfbf;color:#fff}.tox .tox-notification--error p{color:#fff}.tox .tox-notification--error a{color:#c00}.tox .tox-notification--error svg{fill:#fff}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fffaea;border-color:#ffe89d;color:#fff}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#fff}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#fff}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#fff}.tox .tox-notification--info{background-color:#d9edf7;border-color:#779ecb;color:#fff}.tox .tox-notification--info p{color:#fff}.tox .tox-notification--info a{color:#fff}.tox .tox-notification--info svg{fill:#fff}.tox .tox-notification__body{-ms-grid-row-align:center;align-self:center;color:#fff;font-size:14px;-ms-grid-column-span:1;grid-column-end:3;-ms-grid-column:2;grid-column-start:2;-ms-grid-row-span:1;grid-row-end:2;-ms-grid-row:1;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{-ms-grid-row-align:center;align-self:center;-ms-grid-column-span:1;grid-column-end:2;-ms-grid-column:1;grid-column-start:1;-ms-grid-row-span:1;grid-row-end:2;-ms-grid-row:1;grid-row-start:1;-ms-grid-column-align:end;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{-ms-grid-row-align:start;align-self:start;-ms-grid-column-span:1;grid-column-end:4;-ms-grid-column:3;grid-column-start:3;-ms-grid-row-span:1;grid-row-end:2;-ms-grid-row:1;grid-row-start:1;-ms-grid-column-align:end;justify-self:end}.tox .tox-notification .tox-progress-bar{-ms-grid-column-span:3;grid-column-end:4;-ms-grid-column:1;grid-column-start:1;-ms-grid-row-span:1;grid-row-end:3;-ms-grid-row:2;grid-row-start:2;-ms-grid-column-align:center;justify-self:center}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::before,.tox .tox-pop--transition::after{transition:all .15s,visibility 0s,opacity .075s ease .075s}.tox .tox-pop__dialog{background-color:#222f3e;border:1px solid #000;border-radius:3px;box-shadow:0 1px 3px rgba(0, 0, 0, 0.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>*:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::before,.tox .tox-pop::after{border-style:solid;content:\\\"\\\";display:block;height:0;opacity:1;position:absolute;width:0}.tox .tox-pop.tox-pop--inset::before,.tox .tox-pop.tox-pop--inset::after{opacity:0;transition:all 0s .15s,visibility 0s,opacity .075s ease}.tox .tox-pop.tox-pop--bottom::before,.tox .tox-pop.tox-pop--bottom::after{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#222f3e transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#000 transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::before,.tox .tox-pop.tox-pop--top::after{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #222f3e transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #000 transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::before,.tox .tox-pop.tox-pop--left::after{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #222f3e transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #000 transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::before,.tox .tox-pop.tox-pop--right::after{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #222f3e;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #000;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::before,.tox .tox-pop.tox-pop--align-left::after{left:20px}.tox .tox-pop.tox-pop--align-right::before,.tox .tox-pop.tox-pop--align-right::after{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;-ms-flex-preferred-size:0;min-height:0}.tox .tox-sidebar{background-color:#222f3e;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;-ms-flex-preferred-size:auto;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #000;border-radius:3px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#207ab7;border:2px solid #185d8c;border-radius:3px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(255, 255, 255, 0.5);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:nth-child(1){animation-delay:-0.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-0.16s}@keyframes tam-bouncing-dots{0%,80%,100%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#222f3e;border-top:1px solid #000;color:#fff;display:flex;flex:0 0 auto;font-size:12px;font-weight:normal;height:18px;overflow:hidden;padding:0 8px;position:relative;text-transform:uppercase}.tox .tox-statusbar__text-container{display:flex;flex:1 1 auto;justify-content:flex-end;overflow:hidden}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;margin-right:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:#fff;text-decoration:none}.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]){cursor:pointer;text-decoration:underline}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-left:auto;margin-right:-8px;padding-left:1ch}.tox .tox-statusbar__resize-handle svg{display:block;fill:#fff}.tox .tox-statusbar__resize-handle:focus svg{background-color:#4a5562;border-radius:1px;box-shadow:0 0 0 2px #4a5562}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:1ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(34, 47, 62, 0.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:transparent;border:0;border-radius:3px;box-shadow:none;color:#fff;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:normal;height:34px;justify-content:center;margin:2px 0 3px 0;outline:none;overflow:hidden;padding:0;text-transform:none;width:34px}.tox .tox-tbtn svg{display:block;fill:#fff}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#4a5562;border:0;box-shadow:none}.tox .tox-tbtn:hover{background:#4a5562;border:0;box-shadow:none;color:#fff}.tox .tox-tbtn:hover svg{fill:#fff}.tox .tox-tbtn:active{background:#757d87;border:0;box-shadow:none;color:#fff}.tox .tox-tbtn:active svg{fill:#fff}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:transparent;border:0;box-shadow:none;color:rgba(255, 255, 255, 0.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(255, 255, 255, 0.5)}.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:hover{background:#757d87;border:0;box-shadow:none;color:#fff}.tox .tox-tbtn--enabled>*,.tox .tox-tbtn--enabled:hover>*{transform:none}.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:hover svg{fill:#fff}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#fff}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#fff}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:51px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:68px;width:68px}.tox .tox-tbtn--return{-ms-grid-row-align:stretch;align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:normal;letter-spacing:-0.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tbtn--select{margin:2px 0 3px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:normal;margin:0 4px}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(255, 255, 255, 0.5)}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:2px 0 3px 0;overflow:hidden}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #4a5562 inset}.tox .tox-split-button:focus{background:#4a5562;box-shadow:none;color:#fff}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(255, 255, 255, 0.5)}.tox .tox-split-button .tox-tbtn{margin:0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus{background:transparent;box-shadow:none;color:rgba(255, 255, 255, 0.5)}.tox .tox-toolbar-overlord{background-color:#222f3e}.tox .tox-toolbar,.tox .tox-toolbar__primary,.tox .tox-toolbar__overflow{background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \") left 0 top 0 #222f3e;background-color:#222f3e;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord .tox-toolbar__primary{border-top:1px solid #000;margin-top:-1px}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox-tinymce:not(.tox-tinymce-inline) .tox-editor-header:not(:first-child) .tox-toolbar:first-child,.tox-tinymce:not(.tox-tinymce-inline) .tox-editor-header:not(:first-child) .tox-toolbar-overlord:first-child .tox-toolbar__primary{border-top:1px solid #000}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#222f3e;border:1px solid #000;border-radius:3px;box-shadow:0 1px 3px rgba(0, 0, 0, 0.15)}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 4px 0 4px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid #000}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid #000}.tox .tox-tooltip{display:inline-block;padding:8px;position:relative}.tox .tox-tooltip__body{background-color:#3d546f;border-radius:3px;box-shadow:0 2px 4px rgba(42, 55, 70, 0.3);color:rgba(255, 255, 255, 0.75);font-size:14px;font-style:normal;font-weight:normal;padding:4px 8px;text-transform:none}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #3d546f;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #3d546f;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #3d546f;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #3d546f;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-well{border:1px solid #000;border-radius:3px;padding:8px;width:100%}.tox .tox-well>*:first-child{margin-top:0}.tox .tox-well>*:last-child{margin-bottom:0}.tox .tox-well>*:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #000;border-radius:3px;display:flex;flex:1;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0, 0, 0, 0.5);content:\\\"\\\";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1;-ms-flex-preferred-size:auto}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1;-ms-flex-preferred-size:auto}.tox .tox-image-tools-edit-panel{height:60px}.tox .tox-image-tools__sidebar{height:60px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/tinymce/skins/ui/oxide-dark/skin.css\"],\"names\":[],\"mappings\":\"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\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../../css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%278%27%20height%3D%2712%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%3Cpath%20d%3D%27M0%200L8%200%208%2012%204.09117821%209%200%2012z%27%2F%3E%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_2___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_3___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_4___ = new URL(\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_5___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_6___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba%280%2C%200%2C%200%2C%20.2%29%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba%280%2C%200%2C%200%2C%20.2%29%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba%280%2C%200%2C%200%2C%20.2%29%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_7___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%274%27%20height%3D%274%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%3Cpath%20stroke%3D%27%23ff0000%27%20fill%3D%27none%27%20stroke-linecap%3D%27round%27%20stroke-opacity%3D%27.75%27%20d%3D%27M0%203L2%201%204%203%27%2F%3E%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_8___ = new URL(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%274%27%20height%3D%274%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%3Cpath%20stroke%3D%27%2300A835%27%20fill%3D%27none%27%20stroke-linecap%3D%27round%27%20d%3D%27M0%203L2%201%204%203%27%2F%3E%3C%2Fsvg%3E%0A\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_9___ = new URL(\"data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_10___ = new URL(\"data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_11___ = new URL(\"data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_12___ = new URL(\"data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_13___ = new URL(\"data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_14___ = new URL(\"data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_15___ = new URL(\"data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_16___ = new URL(\"data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_17___ = new URL(\"data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_18___ = new URL(\"data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_19___ = new URL(\"data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_20___ = new URL(\"data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_21___ = new URL(\"data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_22___ = new URL(\"data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_23___ = new URL(\"data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_24___ = new URL(\"data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_25___ = new URL(\"data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_26___ = new URL(\"data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_27___ = new URL(\"data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___);\nvar ___CSS_LOADER_URL_REPLACEMENT_5___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_5___);\nvar ___CSS_LOADER_URL_REPLACEMENT_6___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_6___);\nvar ___CSS_LOADER_URL_REPLACEMENT_7___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_7___);\nvar ___CSS_LOADER_URL_REPLACEMENT_8___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_8___);\nvar ___CSS_LOADER_URL_REPLACEMENT_9___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_9___);\nvar ___CSS_LOADER_URL_REPLACEMENT_10___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_10___);\nvar ___CSS_LOADER_URL_REPLACEMENT_11___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_11___);\nvar ___CSS_LOADER_URL_REPLACEMENT_12___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_12___);\nvar ___CSS_LOADER_URL_REPLACEMENT_13___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_13___);\nvar ___CSS_LOADER_URL_REPLACEMENT_14___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_14___);\nvar ___CSS_LOADER_URL_REPLACEMENT_15___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_15___);\nvar ___CSS_LOADER_URL_REPLACEMENT_16___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_16___);\nvar ___CSS_LOADER_URL_REPLACEMENT_17___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_17___);\nvar ___CSS_LOADER_URL_REPLACEMENT_18___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_18___);\nvar ___CSS_LOADER_URL_REPLACEMENT_19___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_19___);\nvar ___CSS_LOADER_URL_REPLACEMENT_20___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_20___);\nvar ___CSS_LOADER_URL_REPLACEMENT_21___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_21___);\nvar ___CSS_LOADER_URL_REPLACEMENT_22___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_22___);\nvar ___CSS_LOADER_URL_REPLACEMENT_23___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_23___);\nvar ___CSS_LOADER_URL_REPLACEMENT_24___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_24___);\nvar ___CSS_LOADER_URL_REPLACEMENT_25___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_25___);\nvar ___CSS_LOADER_URL_REPLACEMENT_26___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_26___);\nvar ___CSS_LOADER_URL_REPLACEMENT_27___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_27___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".mce-content-body .mce-item-anchor{background:transparent url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \") no-repeat center;cursor:default;display:inline-block;height:12px !important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;-moz-user-select:all;-ms-user-select:all;user-select:all;width:8px !important}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment{background-color:#fff0b7}.tox-comments-visible .tox-comment--active{background-color:#ffe168}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:black;background:none;text-shadow:0 1px white;font-family:Consolas,Monaco,\\\"Andale Mono\\\",\\\"Ubuntu Mono\\\",monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}pre[class*=language-]::selection,pre[class*=language-] ::selection,code[class*=language-]::selection,code[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:slategray}.token.punctuation{color:#999}.namespace{opacity:.7}.token.property,.token.tag,.token.boolean,.token.number,.token.constant,.token.symbol,.token.deleted{color:#905}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.inserted{color:#690}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string{color:#9a6e3a;background:hsla(0, 0%, 100%, 0.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function,.token.class-name{color:#dd4a68}.token.regex,.token.important,.token.variable{color:#e90}.token.important,.token.bold{font-weight:bold}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:black;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body *[data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body *[contentEditable=false]{cursor:default}.mce-content-body *[contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \"),default}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px 0 2px;position:relative}.mce-preview-object .mce-shim{background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \");height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected=\\\"2\\\"] .mce-shim{display:none}.mce-object{background:transparent url(\" + ___CSS_LOADER_URL_REPLACEMENT_5___ + \") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \");height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected=\\\"2\\\"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--21by9,.tiny-pageembed--16by9,.tiny-pageembed--4by3,.tiny-pageembed--1by1{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--21by9 iframe,.tiny-pageembed--16by9 iframe,.tiny-pageembed--4by3 iframe,.tiny-pageembed--1by1 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34, 47, 62, 0.7);content:attr(data-mce-placeholder);position:absolute}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:nth-of-type(1){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed black;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns th,.mce-content-body .mce-clonedresizable.mce-resizetable-columns td{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0, 0, 0, 0.75);border:1px;border-radius:3px;color:white;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:\\\"\\\";display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:bold;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url(\" + ___CSS_LOADER_URL_REPLACEMENT_6___ + \") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::-moz-selection{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body img[data-mce-selected],.mce-content-body video[data-mce-selected],.mce-content-body audio[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body table[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body *[contentEditable=false] *[contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body *[contentEditable=false] *[contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body *[contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly *[contentEditable=true]:focus,.mce-content-body.mce-content-readonly *[contentEditable=true]:hover{outline:none}.mce-content-body *[data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::-moz-selection,.mce-content-body th[data-mce-selected]::-moz-selection{background:none}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:none}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180, 215, 255, 0.7);border:1px solid rgba(180, 215, 255, 0.7);bottom:-1px;content:\\\"\\\";left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast: active),(-ms-high-contrast: none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0, 84, 180, 0.7)}}.mce-content-body img::-moz-selection{background:none}.mce-content-body img::selection{background:none}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_7___ + \");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_8___ + \");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc li{list-style-type:none}table[style*=\\\"border-width: 0px\\\"],.mce-item-table:not([border]),.mce-item-table[border=\\\"0\\\"],table[style*=\\\"border-width: 0px\\\"] td,.mce-item-table:not([border]) td,.mce-item-table[border=\\\"0\\\"] td,table[style*=\\\"border-width: 0px\\\"] th,.mce-item-table:not([border]) th,.mce-item-table[border=\\\"0\\\"] th,table[style*=\\\"border-width: 0px\\\"] caption,.mce-item-table:not([border]) caption,.mce-item-table[border=\\\"0\\\"] caption{border:1px dashed #bbb}.mce-visualblocks p,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks section,.mce-visualblocks article,.mce-visualblocks blockquote,.mce-visualblocks address,.mce-visualblocks pre,.mce-visualblocks figure,.mce-visualblocks figcaption,.mce-visualblocks hgroup,.mce-visualblocks aside,.mce-visualblocks ul,.mce-visualblocks ol,.mce-visualblocks dl{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_9___ + \")}.mce-visualblocks h1{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_10___ + \")}.mce-visualblocks h2{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_11___ + \")}.mce-visualblocks h3{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_12___ + \")}.mce-visualblocks h4{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_13___ + \")}.mce-visualblocks h5{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_14___ + \")}.mce-visualblocks h6{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_15___ + \")}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_16___ + \")}.mce-visualblocks section{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_17___ + \")}.mce-visualblocks article{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_18___ + \")}.mce-visualblocks blockquote{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_19___ + \")}.mce-visualblocks address{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_20___ + \")}.mce-visualblocks pre{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_21___ + \")}.mce-visualblocks figure{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_22___ + \")}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_23___ + \")}.mce-visualblocks aside{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_24___ + \")}.mce-visualblocks ul{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_25___ + \")}.mce-visualblocks ol{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_26___ + \")}.mce-visualblocks dl{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_27___ + \")}.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) ul,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) dl{margin-left:3px}.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] ul,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] dl{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:\\\"-\\\"}body{font-family:sans-serif}table{border-collapse:collapse}\", \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/tinymce/skins/ui/oxide/content.css\"],\"names\":[],\"mappings\":\"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\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../../css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(\"data:image/svg+xml;charset=utf8,%3Csvg height=%2739px%27 viewBox=%270 0 40 39px%27 width=%2740%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Crect x=%270%27 y=%2738px%27 width=%27100%27 height=%271%27 fill=%27%23cccccc%27/%3E%3C/svg%3E\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;font-size:16px;font-style:normal;font-weight:normal;line-height:normal;-webkit-tap-highlight-color:transparent;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox *:not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox *:not(svg):not(rect){background:transparent;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:1px solid #ccc;border-radius:0;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;overflow:hidden;position:relative;visibility:inherit !important}.tox-tinymce-inline{border:none;box-shadow:none}.tox-tinymce-inline .tox-editor-header{background-color:transparent;border:1px solid #ccc;border-radius:0;box-shadow:none}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;z-index:1300}.tox-tinymce *:focus,.tox-tinymce-aux *:focus{outline:none}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border:1px solid #ccc;border-radius:3px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>*:last-child:not(:only-child){border-color:#ccc;border-style:solid}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(32, 122, 183, 0.1);border-color:rgba(32, 122, 183, 0.4);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description>*:last-child{border-color:rgba(32, 122, 183, 0.4)}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#207ab7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#207ab7}.tox .tox-dialog__body-content .accessibility-issue--info a .tox-icon{color:#207ab7}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255, 165, 0, 0.1);border-color:rgba(255, 165, 0, 0.5);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description>*:last-child{border-color:rgba(255, 165, 0, 0.5)}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#cc8500}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#cc8500}.tox .tox-dialog__body-content .accessibility-issue--warn a .tox-icon{color:#cc8500}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204, 0, 0, 0.1);border-color:rgba(204, 0, 0, 0.4);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description>*:last-child{border-color:rgba(204, 0, 0, 0.4)}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a .tox-icon{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120, 171, 70, 0.1);border-color:rgba(120, 171, 70, 0.4);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>*:last-child{border-color:rgba(120, 171, 70, 0.4)}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#78ab46}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#78ab46}.tox .tox-dialog__body-content .accessibility-issue--success a .tox-icon{color:#78ab46}.tox .tox-dialog__body-content .accessibility-issue__header h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>*:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description>*:last-child{border-left-width:1px;padding-left:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>*:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description>*:last-child{border-right-width:1px;padding-right:4px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#207ab7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#207ab7;border-radius:3px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;font-size:14px;font-style:normal;font-weight:bold;letter-spacing:normal;line-height:24px;margin:0;outline:none;padding:4px 16px;text-align:center;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button[disabled]{background-color:#207ab7;background-image:none;border-color:#207ab7;box-shadow:none;color:rgba(255, 255, 255, 0.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#1c6ca1;background-image:none;border-color:#1c6ca1;box-shadow:none;color:#fff}.tox .tox-button:hover:not(:disabled){background-color:#1c6ca1;background-image:none;border-color:#1c6ca1;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#185d8c;background-image:none;border-color:#185d8c;box-shadow:none;color:#fff}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:3px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:bold;letter-spacing:normal;outline:none;padding:4px 16px;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34, 47, 62, 0.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;font-size:16px;font-weight:normal;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:#f0f0f0;border-color:#f0f0f0;box-shadow:none;color:rgba(34, 47, 62, 0.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:#e3e3e3;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:#e3e3e3;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:#d6d6d6;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:3px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:3px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:3px;width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34, 47, 62, 0.3)}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#207ab7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#207ab7}.tox .tox-checkbox--disabled{color:rgba(34, 47, 62, 0.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34, 47, 62, 0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34, 47, 62, 0.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34, 47, 62, 0.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:3px;box-shadow:inset 0 0 0 1px #207ab7;padding:3px}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#ccc;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#e6e6e6;color:rgba(34, 47, 62, 0.7);cursor:default;font-size:12px;font-style:normal;font-weight:normal;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;color:#222f3e;cursor:pointer;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#dee0e2}.tox .tox-collection--toolbar .tox-collection__item--enabled{background-color:#c8cbcf;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#dee0e2}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#c8cbcf;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#dee0e2;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}.tox .tox-collection__item-icon,.tox .tox-collection__item-checkmark{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-icon svg,.tox .tox-collection__item-checkmark svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;-ms-flex-preferred-size:auto;font-size:14px;font-style:normal;font-weight:normal;line-height:24px;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:rgba(34, 47, 62, 0.7);display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:\\\"\\\";font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:#222f3e}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34, 47, 62, 0.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34, 47, 62, 0.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 3px rgba(0, 0, 0, 0.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:34px;margin:2px 0 3px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{-ms-grid-row-align:center;align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{-ms-grid-row-align:center;align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid #ccc}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>*:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid #ccc}.tox[dir=rtl] .tox-collection--list .tox-collection__item>*:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:none;border:1px solid black;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid white;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom, #f00, #ff0080, #f0f, #8000ff, #00f, #0080ff, #0ff, #00ff80, #0f0, #80ff00, #ff0, #ff8000, #f00);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-thumb{background:white;border:1px solid black;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red !important}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid black;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__primary .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches{margin:2px 0 3px 4px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px 0}.tox .tox-swatches__row{display:flex}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:hover,.tox .tox-swatch:focus{box-shadow:0 0 0 1px rgba(127, 127, 127, 0.3) inset;transform:scale(0.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:none;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#dee0e2}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>*:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #ccc;border-radius:3px;box-shadow:0 4px 8px 0 rgba(34, 47, 62, 0.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:rgba(34, 47, 62, 0.7);font-size:12px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:normal;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34, 47, 62, 0.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:\\\"\\\";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>*:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255, 255, 255, 0), #fff);bottom:0;content:\\\"\\\";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>*:last-child,.tox:not([dir=rtl]) .tox-comment__edit>*:last-child,.tox:not([dir=rtl]) .tox-comment__reply>*:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>*:last-child,.tox[dir=rtl] .tox-comment__edit>*:last-child,.tox[dir=rtl] .tox-comment__reply>*:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34, 47, 62, 0.7)}.tox .tox-user__name{color:rgba(34, 47, 62, 0.7);font-size:12px;font-style:normal;font-weight:bold;text-transform:uppercase}.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255, 255, 255, 0.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#ccc;border-radius:3px;border-style:solid;border-width:1px;box-shadow:0 16px 16px -10px rgba(34, 47, 62, 0.15),0 0 40px 1px rgba(34, 47, 62, 0.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;font-size:20px;font-style:normal;font-weight:normal;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;-ms-flex-preferred-size:auto;font-size:16px;font-style:normal;font-weight:normal;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;padding:16px 16px}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34, 47, 62, 0.7);display:inline-block;font-size:14px;line-height:1.3;margin-bottom:8px;text-decoration:none;white-space:nowrap}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(32, 122, 183, 0.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #207ab7;color:#207ab7}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;-ms-flex-preferred-size:auto;max-height:650px;overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>*:first-child{margin-top:0}.tox .tox-dialog__body-content>*:last-child{margin-bottom:0}.tox .tox-dialog__body-content>*:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#207ab7;cursor:pointer;text-decoration:none}.tox .tox-dialog__body-content a:hover,.tox .tox-dialog__body-content a:focus{color:#185d8c;text-decoration:none}.tox .tox-dialog__body-content a:active{color:#185d8c;text-decoration:none}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content ul{display:block;list-style-type:disc;margin-bottom:16px;-webkit-margin-end:0;margin-inline-end:0;-webkit-margin-start:0;margin-inline-start:0;-webkit-padding-start:2.5rem;padding-inline-start:2.5rem}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:bold;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:bold;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:1px solid #ccc;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-start,.tox .tox-dialog__footer-end{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255, 255, 255, 0.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:bold;padding-bottom:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #ccc}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column;-ms-flex-preferred-size:auto}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1;-ms-flex-preferred-size:auto}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;-ms-flex-preferred-size:auto;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}.tox.tox-platform-ie .tox-dialog-wrap{position:-ms-device-fixed}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width: 767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1;-ms-flex-preferred-size:auto}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #ccc;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34, 47, 62, 0.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;-ms-flex-preferred-size:auto;overflow:hidden;position:relative}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;-ms-flex-preferred-size:auto;height:100%;position:absolute;width:100%}.tox.tox-inline-edit-area{border:1px dotted #ccc}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{z-index:1}.tox:not(.tox-tinymce-inline) .tox-editor-header{box-shadow:none;transition:box-shadow .5s}.tox.tox-tinymce--toolbar-bottom .tox-editor-header,.tox.tox-tinymce-inline .tox-editor-header{margin-bottom:-1px}.tox.tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:transparent;box-shadow:0 4px 4px -3px rgba(0, 0, 0, 0.25)}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:bold}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34, 47, 62, 0.2);border-radius:3px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}.tox .tox-color-input span:hover:not([aria-disabled=true]),.tox .tox-color-input span:focus:not([aria-disabled=true]){border-color:#207ab7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg, rgba(0, 0, 0, 0.25) 25%, transparent 25%),linear-gradient(-45deg, rgba(0, 0, 0, 0.25) 25%, transparent 25%),linear-gradient(45deg, transparent 75%, rgba(0, 0, 0, 0.25) 75%),linear-gradient(-45deg, transparent 75%, rgba(0, 0, 0, 0.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:3px;box-sizing:border-box;content:\\\"\\\";height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34, 47, 62, 0.7);display:block;font-size:14px;font-style:normal;font-weight:normal;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column;-ms-flex-preferred-size:auto}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - 4px)}.tox .tox-form__grid--3col>.tox-form__group{width:calc(33.3333333333% - 4px)}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - 4px)}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column;-ms-flex-preferred-size:auto}.tox .tox-form__group--stretched .tox-textarea{flex:1;-ms-flex-preferred-size:auto}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1;-ms-flex-preferred-size:auto}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;-ms-flex-preferred-size:auto;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>*:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>*:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-textfield,.tox .tox-toolbar-textfield,.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#ccc;border-radius:3px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:none;padding:5px 4.75px;resize:none;width:100%}.tox .tox-textfield[disabled],.tox .tox-textarea[disabled]{background-color:#f2f2f2;color:rgba(34, 47, 62, 0.85);cursor:not-allowed}.tox .tox-textfield:focus,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea:focus{background-color:#fff;border-color:#207ab7;box-shadow:none;outline:none}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#207ab7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34, 47, 62, 0.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#ccc;border-radius:3px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\\\"Helvetica Neue\\\",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:none;padding:5px 4.75px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34, 47, 62, 0.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#207ab7;box-shadow:none;outline:none}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size=\\\"0\\\"],.tox:not([dir=rtl]) .tox-selectfield select[size=\\\"1\\\"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size=\\\"0\\\"],.tox[dir=rtl] .tox-selectfield select[size=\\\"1\\\"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea{-webkit-appearance:textarea;-moz-appearance:textarea;appearance:textarea;white-space:pre-wrap}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;-ms-scroll-chaining:none;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox.tox-tinymce.tox-fullscreen,.tox-shadowhost.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-image-tools{width:100%}.tox .tox-image-tools__toolbar{align-items:center;display:flex;justify-content:center}.tox .tox-image-tools__image{background-color:#666;height:380px;overflow:auto;position:relative;width:100%}.tox .tox-image-tools__image,.tox .tox-image-tools__image+.tox-image-tools__toolbar{margin-top:8px}.tox .tox-image-tools__image-bg{background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \")}.tox .tox-image-tools__toolbar>.tox-spacer{flex:1;-ms-flex-preferred-size:auto}.tox .tox-croprect-block{background:black;filter:alpha(opacity=50);opacity:.5;position:absolute;zoom:1}.tox .tox-croprect-handle{border:2px solid white;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox:not([dir=rtl]) .tox-image-tools__toolbar>.tox-slider:not(:first-of-type){margin-left:8px}.tox:not([dir=rtl]) .tox-image-tools__toolbar>.tox-button+.tox-slider{margin-left:32px}.tox:not([dir=rtl]) .tox-image-tools__toolbar>.tox-slider+.tox-button{margin-left:32px}.tox[dir=rtl] .tox-image-tools__toolbar>.tox-slider:not(:first-of-type){margin-right:8px}.tox[dir=rtl] .tox-image-tools__toolbar>.tox-button+.tox-slider{margin-right:32px}.tox[dir=rtl] .tox-image-tools__toolbar>.tox-slider+.tox-button{margin-right:32px}.tox .tox-insert-table-picker{display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#ccc;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px 0}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:rgba(32, 122, 183, 0.5);border-color:rgba(32, 122, 183, 0.5)}.tox .tox-insert-table-picker__label{color:rgba(34, 47, 62, 0.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid #ccc;border-radius:3px;box-shadow:0 4px 8px 0 rgba(34, 47, 62, 0.1);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:4px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:4px}.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p,.tox .tox-menu__label blockquote,.tox .tox-menu__label code{margin:0}.tox .tox-menubar{background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \") left 0 top 0 #fff;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 4px 0 4px}.tox.tox-tinymce:not(.tox-tinymce-inline) .tox-editor-header:not(:first-child) .tox-menubar{border-top:1px solid #ccc}.tox .tox-mbtn{align-items:center;background:transparent;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:normal;height:34px;justify-content:center;margin:2px 0 3px 0;outline:none;overflow:hidden;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:transparent;border:0;box-shadow:none;color:rgba(34, 47, 62, 0.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#dee0e2;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn--active{background:#c8cbcf;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#dee0e2;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:normal;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:3px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:-ms-grid;display:grid;font-size:14px;font-weight:normal;-ms-grid-columns:minmax(40px, 1fr) auto minmax(40px, 1fr);grid-template-columns:minmax(40px, 1fr) auto minmax(40px, 1fr);margin-top:4px;opacity:0;padding:4px;transition:transform 100ms ease-in,opacity 150ms ease-in}.tox .tox-notification p{font-size:14px;font-weight:normal}.tox .tox-notification a{cursor:pointer;text-decoration:underline}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#547831}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f8dede;border-color:#f2bfbf;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#c00}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fffaea;border-color:#ffe89d;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#222f3e}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d9edf7;border-color:#779ecb;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#222f3e}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{-ms-grid-row-align:center;align-self:center;color:#222f3e;font-size:14px;-ms-grid-column-span:1;grid-column-end:3;-ms-grid-column:2;grid-column-start:2;-ms-grid-row-span:1;grid-row-end:2;-ms-grid-row:1;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{-ms-grid-row-align:center;align-self:center;-ms-grid-column-span:1;grid-column-end:2;-ms-grid-column:1;grid-column-start:1;-ms-grid-row-span:1;grid-row-end:2;-ms-grid-row:1;grid-row-start:1;-ms-grid-column-align:end;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{-ms-grid-row-align:start;align-self:start;-ms-grid-column-span:1;grid-column-end:4;-ms-grid-column:3;grid-column-start:3;-ms-grid-row-span:1;grid-row-end:2;-ms-grid-row:1;grid-row-start:1;-ms-grid-column-align:end;justify-self:end}.tox .tox-notification .tox-progress-bar{-ms-grid-column-span:3;grid-column-end:4;-ms-grid-column:1;grid-column-start:1;-ms-grid-row-span:1;grid-row-end:3;-ms-grid-row:2;grid-row-start:2;-ms-grid-column-align:center;justify-self:center}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::before,.tox .tox-pop--transition::after{transition:all .15s,visibility 0s,opacity .075s ease .075s}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 3px rgba(0, 0, 0, 0.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>*:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::before,.tox .tox-pop::after{border-style:solid;content:\\\"\\\";display:block;height:0;opacity:1;position:absolute;width:0}.tox .tox-pop.tox-pop--inset::before,.tox .tox-pop.tox-pop--inset::after{opacity:0;transition:all 0s .15s,visibility 0s,opacity .075s ease}.tox .tox-pop.tox-pop--bottom::before,.tox .tox-pop.tox-pop--bottom::after{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#ccc transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::before,.tox .tox-pop.tox-pop--top::after{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #ccc transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::before,.tox .tox-pop.tox-pop--left::after{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #ccc transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::before,.tox .tox-pop.tox-pop--right::after{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #ccc;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::before,.tox .tox-pop.tox-pop--align-left::after{left:20px}.tox .tox-pop.tox-pop--align-right::before,.tox .tox-pop.tox-pop--align-right::after{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;-ms-flex-preferred-size:0;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;-ms-flex-preferred-size:auto;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #ccc;border-radius:3px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#207ab7;border:2px solid #185d8c;border-radius:3px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34, 47, 62, 0.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:nth-child(1){animation-delay:-0.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-0.16s}@keyframes tam-bouncing-dots{0%,80%,100%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #ccc;color:rgba(34, 47, 62, 0.7);display:flex;flex:0 0 auto;font-size:12px;font-weight:normal;height:18px;overflow:hidden;padding:0 8px;position:relative;text-transform:uppercase}.tox .tox-statusbar__text-container{display:flex;flex:1 1 auto;justify-content:flex-end;overflow:hidden}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;margin-right:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34, 47, 62, 0.7);text-decoration:none}.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]){cursor:pointer;text-decoration:underline}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-left:auto;margin-right:-8px;padding-left:1ch}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34, 47, 62, 0.7)}.tox .tox-statusbar__resize-handle:focus svg{background-color:#dee0e2;border-radius:1px;box-shadow:0 0 0 2px #dee0e2}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:1ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255, 255, 255, 0.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:transparent;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:normal;height:34px;justify-content:center;margin:2px 0 3px 0;outline:none;overflow:hidden;padding:0;text-transform:none;width:34px}.tox .tox-tbtn svg{display:block;fill:#222f3e}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#dee0e2;border:0;box-shadow:none}.tox .tox-tbtn:hover{background:#dee0e2;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#c8cbcf;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:transparent;border:0;box-shadow:none;color:rgba(34, 47, 62, 0.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34, 47, 62, 0.5)}.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:hover{background:#c8cbcf;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn--enabled>*,.tox .tox-tbtn--enabled:hover>*{transform:none}.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:51px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:68px;width:68px}.tox .tox-tbtn--return{-ms-grid-row-align:stretch;align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:normal;letter-spacing:-0.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tbtn--select{margin:2px 0 3px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:normal;margin:0 4px}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34, 47, 62, 0.5)}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:2px 0 3px 0;overflow:hidden}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #dee0e2 inset}.tox .tox-split-button:focus{background:#dee0e2;box-shadow:none;color:#222f3e}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34, 47, 62, 0.5)}.tox .tox-split-button .tox-tbtn{margin:0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus{background:transparent;box-shadow:none;color:rgba(34, 47, 62, 0.5)}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__primary,.tox .tox-toolbar__overflow{background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \") left 0 top 0 #fff;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord .tox-toolbar__primary{border-top:1px solid #ccc;margin-top:-1px}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox-tinymce:not(.tox-tinymce-inline) .tox-editor-header:not(:first-child) .tox-toolbar:first-child,.tox-tinymce:not(.tox-tinymce-inline) .tox-editor-header:not(:first-child) .tox-toolbar-overlord:first-child .tox-toolbar__primary{border-top:1px solid #ccc}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 3px rgba(0, 0, 0, 0.15)}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 4px 0 4px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid #ccc}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid #ccc}.tox .tox-tooltip{display:inline-block;padding:8px;position:relative}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:3px;box-shadow:0 2px 4px rgba(34, 47, 62, 0.3);color:rgba(255, 255, 255, 0.75);font-size:14px;font-style:normal;font-weight:normal;padding:4px 8px;text-transform:none}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-well{border:1px solid #ccc;border-radius:3px;padding:8px;width:100%}.tox .tox-well>*:first-child{margin-top:0}.tox .tox-well>*:last-child{margin-bottom:0}.tox .tox-well>*:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #ccc;border-radius:3px;display:flex;flex:1;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0, 0, 0, 0.5);content:\\\"\\\";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1;-ms-flex-preferred-size:auto}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1;-ms-flex-preferred-size:auto}.tox .tox-image-tools-edit-panel{height:60px}.tox .tox-image-tools__sidebar{height:60px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/tinymce/skins/ui/oxide/skin.css\"],\"names\":[],\"mappings\":\"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\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"../../../../@patternslib/dev/webpack/style-inserter.js\";\n      import setAttributes from \"!../../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../css-loader/dist/cjs.js!../../../../sass-loader/dist/cjs.js!./content.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn;\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../css-loader/dist/cjs.js!../../../../sass-loader/dist/cjs.js!./content.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"../../../../@patternslib/dev/webpack/style-inserter.js\";\n      import setAttributes from \"!../../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../css-loader/dist/cjs.js!../../../../sass-loader/dist/cjs.js!./skin.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn;\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../css-loader/dist/cjs.js!../../../../sass-loader/dist/cjs.js!./skin.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"../../../../@patternslib/dev/webpack/style-inserter.js\";\n      import setAttributes from \"!../../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../css-loader/dist/cjs.js!../../../../sass-loader/dist/cjs.js!./content.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn;\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../css-loader/dist/cjs.js!../../../../sass-loader/dist/cjs.js!./content.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"../../../../@patternslib/dev/webpack/style-inserter.js\";\n      import setAttributes from \"!../../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../css-loader/dist/cjs.js!../../../../sass-loader/dist/cjs.js!./skin.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn;\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../css-loader/dist/cjs.js!../../../../sass-loader/dist/cjs.js!./skin.css\";\n       export default content && content.locals ? content.locals : undefined;\n","tinymce.IconManager.add('default', {\n  icons: {\n    'accessibility-check': '<svg width=\"24\" height=\"24\"><path d=\"M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z\" fill-rule=\"nonzero\"/></svg>',\n    'action-next': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z\"/></svg>',\n    'action-prev': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z\"/></svg>',\n    'align-center': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'align-justify': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'align-left': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'align-none': '<svg width=\"24\" height=\"24\"><path d=\"M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z\" fill-rule=\"evenodd\"/></svg>',\n    'align-right': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'arrow-left': '<svg width=\"24\" height=\"24\"><path d=\"M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z\" fill-rule=\"evenodd\"/></svg>',\n    'arrow-right': '<svg width=\"24\" height=\"24\"><path d=\"M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z\" fill-rule=\"evenodd\"/></svg>',\n    'bold': '<svg width=\"24\" height=\"24\"><path d=\"M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z\" fill-rule=\"evenodd\"/></svg>',\n    'bookmark': '<svg width=\"24\" height=\"24\"><path d=\"M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z\" fill-rule=\"nonzero\"/></svg>',\n    'border-style': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><rect width=\"18\" height=\"2\" x=\"3\" y=\"6\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"3\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"6.8\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"10.6\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"14.4\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"18.2\" y=\"16\" rx=\"1\"/><rect width=\"8\" height=\"2\" x=\"3\" y=\"11\" rx=\"1\"/><rect width=\"8\" height=\"2\" x=\"13\" y=\"11\" rx=\"1\"/></g></svg>',\n    'border-width': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><rect width=\"18\" height=\"5\" x=\"3\" y=\"5\" rx=\"1\"/><rect width=\"18\" height=\"3.5\" x=\"3\" y=\"11.5\" rx=\"1\"/><rect width=\"18\" height=\"2\" x=\"3\" y=\"17\" rx=\"1\"/></g></svg>',\n    'brightness': '<svg width=\"24\" height=\"24\"><path d=\"M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z\" fill-rule=\"evenodd\"/></svg>',\n    'browse': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z\" fill-rule=\"nonzero\"/></svg>',\n    'cancel': '<svg width=\"24\" height=\"24\"><path d=\"M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z\" fill-rule=\"nonzero\"/></svg>',\n    'cell-background-color': '<svg width=\"24\" height=\"24\"><path d=\"M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z\"/></svg>',\n    'cell-border-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z\" opacity=\".2\"/><path fill-rule=\"nonzero\" d=\"M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z\"/><path d=\"M13 11l-2 2H5v-2h6V6h2z\"/><path fill-rule=\"nonzero\" d=\"M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z\"/></g></svg>',\n    'change-case': '<svg width=\"24\" height=\"24\"><path d=\"M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z\" fill-rule=\"evenodd\"/></svg>',\n    'character-count': '<svg width=\"24\" height=\"24\"><path d=\"M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z\" fill-rule=\"evenodd\"/></svg>',\n    'checklist-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z\" fill-rule=\"evenodd\"/></svg>',\n    'checklist': '<svg width=\"24\" height=\"24\"><path d=\"M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z\" fill-rule=\"evenodd\"/></svg>',\n    'checkmark': '<svg width=\"24\" height=\"24\"><path d=\"M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-down': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-left': '<svg width=\"10\" height=\"10\"><path d=\"M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-right': '<svg width=\"10\" height=\"10\"><path d=\"M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-up': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z\" fill-rule=\"nonzero\"/></svg>',\n    'close': '<svg width=\"24\" height=\"24\"><path d=\"M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z\" fill-rule=\"evenodd\"/></svg>',\n    'code-sample': '<svg width=\"24\" height=\"26\"><path d=\"M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z\" fill-rule=\"evenodd\"/></svg>',\n    'color-levels': '<svg width=\"24\" height=\"24\"><path d=\"M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z\" fill-rule=\"evenodd\"/></svg>',\n    'color-picker': '<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z\" fill-rule=\"nonzero\"/></svg>',\n    'color-swatch-remove-color': '<svg width=\"24\" height=\"24\"><path stroke=\"#000\" stroke-width=\"2\" d=\"M21 3L3 21\" fill-rule=\"evenodd\"/></svg>',\n    'color-swatch': '<svg width=\"24\" height=\"24\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"1\" fill-rule=\"evenodd\"/></svg>',\n    'comment-add': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z\"/><path d=\"M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z\"/></g></svg>',\n    'comment': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z\"/></svg>',\n    'contrast': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z\" fill-rule=\"evenodd\"/></svg>',\n    'copy': '<svg width=\"24\" height=\"24\"><path d=\"M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z\" fill-rule=\"nonzero\"/></svg>',\n    'crop': '<svg width=\"24\" height=\"24\"><path d=\"M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z\" fill-rule=\"evenodd\"/></svg>',\n    'cut-column': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z\"/></svg>',\n    'cut-row': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z\"/></svg>',\n    'cut': '<svg width=\"24\" height=\"24\"><path d=\"M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z\" fill-rule=\"evenodd\"/></svg>',\n    'document-properties': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z\" fill-rule=\"nonzero\"/></svg>',\n    'drag': '<svg width=\"24\" height=\"24\"><path d=\"M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z\" fill-rule=\"evenodd\"/></svg>',\n    'duplicate-column': '<svg width=\"24\" height=\"24\"><path d=\"M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z\"/></svg>',\n    'duplicate-row': '<svg width=\"24\" height=\"24\"><path d=\"M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z\"/></svg>',\n    'duplicate': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z\"/><path d=\"M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z\"/></g></svg>',\n    'edit-block': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z\"/></svg>',\n    'edit-image': '<svg width=\"24\" height=\"24\"><path d=\"M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z\" fill-rule=\"nonzero\"/></svg>',\n    'embed-page': '<svg width=\"24\" height=\"24\"><path d=\"M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z\" fill-rule=\"nonzero\"/></svg>',\n    'embed': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z\" fill-rule=\"nonzero\"/></svg>',\n    'emoji': '<svg width=\"24\" height=\"24\"><path d=\"M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z\" fill-rule=\"nonzero\"/></svg>',\n    'export': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z\"/><path d=\"M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z\"/><path d=\"M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z\"/></g></svg>',\n    'fill': '<svg width=\"24\" height=\"26\"><path d=\"M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z\" fill-rule=\"nonzero\"/></svg>',\n    'flip-horizontally': '<svg width=\"24\" height=\"24\"><path d=\"M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z\" fill-rule=\"nonzero\"/></svg>',\n    'flip-vertically': '<svg width=\"24\" height=\"24\"><path d=\"M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z\" fill-rule=\"nonzero\"/></svg>',\n    'format-painter': '<svg width=\"24\" height=\"24\"><path d=\"M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z\" fill-rule=\"nonzero\"/></svg>',\n    'format': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z\"/></svg>',\n    'fullscreen': '<svg width=\"24\" height=\"24\"><path d=\"M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z\" fill-rule=\"nonzero\"/></svg>',\n    'gallery': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z\"/></svg>',\n    'gamma': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z\" fill-rule=\"nonzero\"/></svg>',\n    'help': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z\"/><path d=\"M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z\" fill-rule=\"nonzero\"/><circle cx=\"12\" cy=\"16\" r=\"1\"/></g></svg>',\n    'highlight-bg-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path id=\"tox-icon-highlight-bg-color__color\" d=\"M3 18h18v3H3z\"/><path fill-rule=\"nonzero\" d=\"M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6\"/></g></svg>',\n    'home': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"/></svg>',\n    'horizontal-rule': '<svg width=\"24\" height=\"24\"><path d=\"M4 11h16v2H4z\" fill-rule=\"evenodd\"/></svg>',\n    'image-options': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z\" fill-rule=\"nonzero\"/></svg>',\n    'image': '<svg width=\"24\" height=\"24\"><path d=\"M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z\" fill-rule=\"nonzero\"/></svg>',\n    'indent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z\" fill-rule=\"evenodd\"/></svg>',\n    'info': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z\" fill-rule=\"evenodd\"/></svg>',\n    'insert-character': '<svg width=\"24\" height=\"24\"><path d=\"M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z\" fill-rule=\"evenodd\"/></svg>',\n    'insert-time': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z\"/><path d=\"M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z\"/></g></svg>',\n    'invert': '<svg width=\"24\" height=\"24\"><path d=\"M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z\" fill-rule=\"evenodd\"/></svg>',\n    'italic': '<svg width=\"24\" height=\"24\"><path d=\"M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z\" fill-rule=\"evenodd\"/></svg>',\n    'language': '<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z\"/></svg>',\n    'line-height': '<svg width=\"24\" height=\"24\"><path d=\"M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z\"/></svg>',\n    'line': '<svg width=\"24\" height=\"24\"><path d=\"M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z\" fill-rule=\"evenodd\"/></svg>',\n    'link': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z\" fill-rule=\"nonzero\"/></svg>',\n    'list-bull-circle': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z\" fill-rule=\"nonzero\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-bull-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><circle cx=\"11\" cy=\"14\" r=\"3\"/><circle cx=\"11\" cy=\"24\" r=\"3\"/><circle cx=\"11\" cy=\"34\" r=\"3\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-bull-square': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-num-default-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z\"/></g></svg>',\n    'list-num-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z\"/></g></svg>',\n    'list-num-lower-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-greek-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-greek': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z\"/><path fill-rule=\"nonzero\" d=\"M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z\"/></g></svg>',\n    'list-num-lower-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z\"/><path fill-rule=\"nonzero\" d=\"M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z\"/></g></svg>',\n    'list-num-upper-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-upper-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-upper-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z\"/><path fill-rule=\"nonzero\" d=\"M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z\"/></g></svg>',\n    'list-num-upper-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z\"/><path fill-rule=\"nonzero\" d=\"M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z\"/></g></svg>',\n    'lock': '<svg width=\"24\" height=\"24\"><path d=\"M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z\" fill-rule=\"evenodd\"/></svg>',\n    'ltr': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z\" fill-rule=\"evenodd\"/></svg>',\n    'more-drawer': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z\" fill-rule=\"nonzero\"/></svg>',\n    'new-document': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z\" fill-rule=\"nonzero\"/></svg>',\n    'new-tab': '<svg width=\"24\" height=\"24\"><path d=\"M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z\" fill-rule=\"evenodd\"/></svg>',\n    'non-breaking': '<svg width=\"24\" height=\"24\"><path d=\"M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z\" fill-rule=\"evenodd\"/></svg>',\n    'notice': '<svg width=\"24\" height=\"24\"><path d=\"M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z\" fill-rule=\"evenodd\"/></svg>',\n    'ordered-list-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z\" fill-rule=\"evenodd\"/></svg>',\n    'ordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z\" fill-rule=\"evenodd\"/></svg>',\n    'orientation': '<svg width=\"24\" height=\"24\"><path d=\"M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z\" fill-rule=\"nonzero\"/></svg>',\n    'outdent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z\" fill-rule=\"evenodd\"/></svg>',\n    'page-break': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z\"/></g></svg>',\n    'paragraph': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z\"/></svg>',\n    'paste-column-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z\"/></svg>',\n    'paste-column-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z\"/></svg>',\n    'paste-row-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z\"/></svg>',\n    'paste-row-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z\"/></svg>',\n    'paste-text': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z\" fill-rule=\"nonzero\"/></svg>',\n    'paste': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z\" fill-rule=\"nonzero\"/></svg>',\n    'permanent-pen': '<svg width=\"24\" height=\"24\"><path d=\"M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z\" fill-rule=\"nonzero\"/></svg>',\n    'plus': '<svg width=\"24\" height=\"24\"><path d=\"M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z\"/></svg>',\n    'preferences': '<svg width=\"24\" height=\"24\"><path d=\"M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z\" fill-rule=\"evenodd\"/></svg>',\n    'preview': '<svg width=\"24\" height=\"24\"><path d=\"M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z\" fill-rule=\"nonzero\"/></svg>',\n    'print': '<svg width=\"24\" height=\"24\"><path d=\"M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z\" fill-rule=\"nonzero\"/></svg>',\n    'quote': '<svg width=\"24\" height=\"24\"><path d=\"M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z\" fill-rule=\"nonzero\"/></svg>',\n    'redo': '<svg width=\"24\" height=\"24\"><path d=\"M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z\" fill-rule=\"nonzero\"/></svg>',\n    'reload': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z\"/></g></svg>',\n    'remove-formatting': '<svg width=\"24\" height=\"24\"><path d=\"M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z\" fill-rule=\"evenodd\"/></svg>',\n    'remove': '<svg width=\"24\" height=\"24\"><path d=\"M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z\" fill-rule=\"nonzero\"/></svg>',\n    'resize-handle': '<svg width=\"10\" height=\"10\"><g fill-rule=\"nonzero\"><path d=\"M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z\"/></g></svg>',\n    'resize': '<svg width=\"24\" height=\"24\"><path d=\"M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z\" fill-rule=\"evenodd\"/></svg>',\n    'restore-draft': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z\"/><path d=\"M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z\" fill-rule=\"nonzero\"/></g></svg>',\n    'rotate-left': '<svg width=\"24\" height=\"24\"><path d=\"M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z\" fill-rule=\"nonzero\"/></svg>',\n    'rotate-right': '<svg width=\"24\" height=\"24\"><path d=\"M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z\" fill-rule=\"nonzero\"/></svg>',\n    'rtl': '<svg width=\"24\" height=\"24\"><path d=\"M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z\" fill-rule=\"evenodd\"/></svg>',\n    'save': '<svg width=\"24\" height=\"24\"><path d=\"M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z\" fill-rule=\"nonzero\"/></svg>',\n    'search': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z\" fill-rule=\"nonzero\"/></svg>',\n    'select-all': '<svg width=\"24\" height=\"24\"><path d=\"M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z\" fill-rule=\"nonzero\"/></svg>',\n    'selected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z\"/></svg>',\n    'settings': '<svg width=\"24\" height=\"24\"><path d=\"M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z\" fill-rule=\"evenodd\"/></svg>',\n    'sharpen': '<svg width=\"24\" height=\"24\"><path d=\"M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z\" fill-rule=\"evenodd\"/></svg>',\n    'sourcecode': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z\"/></g></svg>',\n    'spell-check': '<svg width=\"24\" height=\"24\"><path d=\"M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z\" fill-rule=\"evenodd\"/></svg>',\n    'strike-through': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z\"/><path d=\"M5 11h14a1 1 0 010 2H5a1 1 0 010-2z\" fill-rule=\"nonzero\"/></g></svg>',\n    'subscript': '<svg width=\"24\" height=\"24\"><path d=\"M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z\" fill-rule=\"nonzero\"/></svg>',\n    'superscript': '<svg width=\"24\" height=\"24\"><path d=\"M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z\" fill-rule=\"nonzero\"/></svg>',\n    'table-caption': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><rect width=\"12\" height=\"2\" x=\"3\" y=\"4\" rx=\"1\"/><path d=\"M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z\"/></g></svg>',\n    'table-cell-classes': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z\"/><path fill-rule=\"nonzero\" d=\"M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z\" opacity=\".2\"/><path d=\"M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z\"/><path fill-rule=\"nonzero\" d=\"M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z\" opacity=\".2\"/></g></svg>',\n    'table-cell-properties': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z\"/></svg>',\n    'table-cell-select-all': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z\"/><path d=\"M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z\" opacity=\".2\"/></g></svg>',\n    'table-cell-select-inner': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z\" opacity=\".2\"/><path d=\"M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z\"/></g></svg>',\n    'table-classes': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z\"/><path d=\"M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z\"/></g></svg>',\n    'table-delete-column': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z\"/></svg>',\n    'table-delete-row': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z\"/></svg>',\n    'table-delete-table': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z\"/><path d=\"M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z\"/></g></svg>',\n    'table-insert-column-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z\"/></svg>',\n    'table-insert-column-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z\"/></svg>',\n    'table-insert-row-above': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z\"/></svg>',\n    'table-insert-row-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z\"/></svg>',\n    'table-left-header': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z\"/></svg>',\n    'table-merge-cells': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z\"/></svg>',\n    'table-row-numbering-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z\"/></svg>',\n    'table-row-numbering': '<svg width=\"24\" height=\"24\"><path d=\"M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z\"/></svg>',\n    'table-row-properties': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z\"/></svg>',\n    'table-split-cells': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z\"/></svg>',\n    'table-top-header': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z\"/></svg>',\n    'table': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z\"/></svg>',\n    'template': '<svg width=\"24\" height=\"24\"><path d=\"M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z\" fill-rule=\"nonzero\"/></svg>',\n    'temporary-placeholder': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z\"/><circle cx=\"14\" cy=\"4\" r=\"1\"/><circle cx=\"12\" cy=\"2\" r=\"1\"/><circle cx=\"10\" cy=\"4\" r=\"1\"/></g></svg>',\n    'text-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path id=\"tox-icon-text-color__color\" d=\"M3 18h18v3H3z\"/><path d=\"M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z\"/></g></svg>',\n    'toc': '<svg width=\"24\" height=\"24\"><path d=\"M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'translate': '<svg width=\"24\" height=\"24\"><path d=\"M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z\" fill-rule=\"evenodd\"/></svg>',\n    'underline': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'undo': '<svg width=\"24\" height=\"24\"><path d=\"M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z\" fill-rule=\"nonzero\"/></svg>',\n    'unlink': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z\" fill-rule=\"nonzero\"/></svg>',\n    'unlock': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z\" fill-rule=\"evenodd\"/></svg>',\n    'unordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z\" fill-rule=\"evenodd\"/></svg>',\n    'unselected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z\"/></svg>',\n    'upload': '<svg width=\"24\" height=\"24\"><path d=\"M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z\" fill-rule=\"nonzero\"/></svg>',\n    'user': '<svg width=\"24\" height=\"24\"><path d=\"M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z\" fill-rule=\"nonzero\"/></svg>',\n    'vertical-align': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><rect width=\"18\" height=\"2\" x=\"3\" y=\"11\" rx=\"1\"/><path d=\"M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z\"/></g></svg>',\n    'visualblocks': '<svg width=\"24\" height=\"24\"><path d=\"M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z\" fill-rule=\"evenodd\"/></svg>',\n    'visualchars': '<svg width=\"24\" height=\"24\"><path d=\"M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z\" fill-rule=\"evenodd\"/></svg>',\n    'warning': '<svg width=\"24\" height=\"24\"><path d=\"M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z\" fill-rule=\"evenodd\"/></svg>',\n    'zoom-in': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z\" fill-rule=\"nonzero\"/></svg>',\n    'zoom-out': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z\" fill-rule=\"nonzero\"/></svg>',\n  }\n});","// Exports the \"default\" icons for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/icons/default')\n//   ES2015:\n//     import 'tinymce/icons/default'\nrequire('./icons.js');","// Exports the \"silver\" theme for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/themes/silver')\n//   ES2015:\n//     import 'tinymce/themes/silver'\nrequire('./theme.js');","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.9 (2023-11-15)\n */\n(function () {\n    'use strict';\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType$1 = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var eq$1 = function (t) {\n      return function (a) {\n        return t === a;\n      };\n    };\n    var isString = isType$1('string');\n    var isObject = isType$1('object');\n    var isArray = isType$1('array');\n    var isNull = eq$1(null);\n    var isBoolean = isSimpleType('boolean');\n    var isUndefined = eq$1(undefined);\n    var isNullable = function (a) {\n      return a === null || a === undefined;\n    };\n    var isNonNullable = function (a) {\n      return !isNullable(a);\n    };\n    var isFunction = isSimpleType('function');\n    var isNumber = isSimpleType('number');\n    var isArrayOf = function (value, pred) {\n      if (isArray(value)) {\n        for (var i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    var noop = function () {\n    };\n    var noarg = function (f) {\n      return function () {\n        return f();\n      };\n    };\n    var compose = function (fa, fb) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return fa(fb.apply(null, args));\n      };\n    };\n    var compose1 = function (fbc, fab) {\n      return function (a) {\n        return fbc(fab(a));\n      };\n    };\n    var constant$1 = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity$1 = function (x) {\n      return x;\n    };\n    var tripleEquals = function (a, b) {\n      return a === b;\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var not = function (f) {\n      return function (t) {\n        return !f(t);\n      };\n    };\n    var die = function (msg) {\n      return function () {\n        throw new Error(msg);\n      };\n    };\n    var never = constant$1(false);\n    var always = constant$1(true);\n\n    var global$g = tinymce.util.Tools.resolve('tinymce.ThemeManager');\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n    function __rest(s, e) {\n      var t = {};\n      for (var p in s)\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n          t[p] = s[p];\n      if (s != null && typeof Object.getOwnPropertySymbols === 'function')\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n            t[p[i]] = s[p[i]];\n        }\n      return t;\n    }\n    function __spreadArray(to, from, pack) {\n      if (pack || arguments.length === 2)\n        for (var i = 0, l = from.length, ar; i < l; i++) {\n          if (ar || !(i in from)) {\n            if (!ar)\n              ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n          }\n        }\n      return to.concat(ar || Array.prototype.slice.call(from));\n    }\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity$1;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant$1(null),\n        getOrUndefined: constant$1(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant$1('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant$1(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from$1 = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from$1\n    };\n\n    var nativeSlice = Array.prototype.slice;\n    var nativeIndexOf = Array.prototype.indexOf;\n    var nativePush = Array.prototype.push;\n    var rawIndexOf = function (ts, t) {\n      return nativeIndexOf.call(ts, t);\n    };\n    var indexOf = function (xs, x) {\n      var r = rawIndexOf(xs, x);\n      return r === -1 ? Optional.none() : Optional.some(r);\n    };\n    var contains$2 = function (xs, x) {\n      return rawIndexOf(xs, x) > -1;\n    };\n    var exists = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var range$2 = function (num, f) {\n      var r = [];\n      for (var i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    var chunk$1 = function (array, size) {\n      var r = [];\n      for (var i = 0; i < array.length; i += size) {\n        var s = nativeSlice.call(array, i, i + size);\n        r.push(s);\n      }\n      return r;\n    };\n    var map$2 = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each$1 = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var eachr = function (xs, f) {\n      for (var i = xs.length - 1; i >= 0; i--) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var partition$3 = function (xs, pred) {\n      var pass = [];\n      var fail = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        var arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass: pass,\n        fail: fail\n      };\n    };\n    var filter$2 = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var foldr = function (xs, f, acc) {\n      eachr(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var foldl = function (xs, f, acc) {\n      each$1(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var findUntil = function (xs, pred, until) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var find$5 = function (xs, pred) {\n      return findUntil(xs, pred, never);\n    };\n    var findIndex$1 = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind$3 = function (xs, f) {\n      return flatten(map$2(xs, f));\n    };\n    var forall = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        var x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    var reverse = function (xs) {\n      var r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    var difference = function (a1, a2) {\n      return filter$2(a1, function (x) {\n        return !contains$2(a2, x);\n      });\n    };\n    var mapToObject = function (xs, f) {\n      var r = {};\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    var pure$2 = function (x) {\n      return [x];\n    };\n    var sort = function (xs, comparator) {\n      var copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    var get$f = function (xs, i) {\n      return i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    };\n    var head = function (xs) {\n      return get$f(xs, 0);\n    };\n    var last$2 = function (xs) {\n      return get$f(xs, xs.length - 1);\n    };\n    var from = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n    var findMap = function (arr, f) {\n      for (var i = 0; i < arr.length; i++) {\n        var r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    var keys = Object.keys;\n    var hasOwnProperty$1 = Object.hasOwnProperty;\n    var each = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n    var map$1 = function (obj, f) {\n      return tupleMap(obj, function (x, i) {\n        return {\n          k: i,\n          v: f(x, i)\n        };\n      });\n    };\n    var tupleMap = function (obj, f) {\n      var r = {};\n      each(obj, function (x, i) {\n        var tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    var objAcc = function (r) {\n      return function (x, i) {\n        r[i] = x;\n      };\n    };\n    var internalFilter = function (obj, pred, onTrue, onFalse) {\n      var r = {};\n      each(obj, function (x, i) {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    var filter$1 = function (obj, pred) {\n      var t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    var mapToArray = function (obj, f) {\n      var r = [];\n      each(obj, function (value, name) {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    var find$4 = function (obj, pred) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        if (pred(x, i, obj)) {\n          return Optional.some(x);\n        }\n      }\n      return Optional.none();\n    };\n    var values = function (obj) {\n      return mapToArray(obj, identity$1);\n    };\n    var get$e = function (obj, key) {\n      return has$2(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    var has$2 = function (obj, key) {\n      return hasOwnProperty$1.call(obj, key);\n    };\n    var hasNonNullableKey = function (obj, key) {\n      return has$2(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    };\n\n    var is$1 = function (lhs, rhs, comparator) {\n      if (comparator === void 0) {\n        comparator = tripleEquals;\n      }\n      return lhs.exists(function (left) {\n        return comparator(left, rhs);\n      });\n    };\n    var equals = function (lhs, rhs, comparator) {\n      if (comparator === void 0) {\n        comparator = tripleEquals;\n      }\n      return lift2(lhs, rhs, comparator).getOr(lhs.isNone() && rhs.isNone());\n    };\n    var cat = function (arr) {\n      var r = [];\n      var push = function (x) {\n        r.push(x);\n      };\n      for (var i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    var sequence = function (arr) {\n      var r = [];\n      for (var i = 0; i < arr.length; i++) {\n        var x = arr[i];\n        if (x.isSome()) {\n          r.push(x.getOrDie());\n        } else {\n          return Optional.none();\n        }\n      }\n      return Optional.some(r);\n    };\n    var lift2 = function (oa, ob, f) {\n      return oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    };\n    var lift3 = function (oa, ob, oc, f) {\n      return oa.isSome() && ob.isSome() && oc.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie(), oc.getOrDie())) : Optional.none();\n    };\n    var mapFrom = function (a, f) {\n      return a !== undefined && a !== null ? Optional.some(f(a)) : Optional.none();\n    };\n    var someIf = function (b, a) {\n      return b ? Optional.some(a) : Optional.none();\n    };\n\n    var addToEnd = function (str, suffix) {\n      return str + suffix;\n    };\n    var removeFromStart = function (str, numChars) {\n      return str.substring(numChars);\n    };\n\n    var checkRange = function (str, substr, start) {\n      return substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    };\n    var removeLeading = function (str, prefix) {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    var ensureTrailing = function (str, suffix) {\n      return endsWith(str, suffix) ? str : addToEnd(str, suffix);\n    };\n    var contains$1 = function (str, substr) {\n      return str.indexOf(substr) !== -1;\n    };\n    var startsWith = function (str, prefix) {\n      return checkRange(str, prefix, 0);\n    };\n    var endsWith = function (str, suffix) {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    var blank = function (r) {\n      return function (s) {\n        return s.replace(r, '');\n      };\n    };\n    var trim$1 = blank(/^\\s+|\\s+$/g);\n    var isNotEmpty = function (s) {\n      return s.length > 0;\n    };\n    var isEmpty = function (s) {\n      return !isNotEmpty(s);\n    };\n\n    var isSupported$1 = function (dom) {\n      return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n    };\n\n    var fromHtml$2 = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml$2,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var DOCUMENT = 9;\n    var DOCUMENT_FRAGMENT = 11;\n    var ELEMENT = 1;\n    var TEXT = 3;\n\n    var name$2 = function (element) {\n      var r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    var type = function (element) {\n      return element.dom.nodeType;\n    };\n    var isType = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isElement$2 = isType(ELEMENT);\n    var isText$1 = isType(TEXT);\n    var isDocument = isType(DOCUMENT);\n    var isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n\n    var cached = function (f) {\n      var called = false;\n      var r;\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    var DeviceType = function (os, browser, userAgent, mediaMatch) {\n      var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      var isiPhone = os.isiOS() && !isiPad;\n      var isMobile = os.isiOS() || os.isAndroid();\n      var isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      var isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      var isPhone = isiPhone || isMobile && !isTablet;\n      var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      var isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant$1(isiPad),\n        isiPhone: constant$1(isiPhone),\n        isTablet: constant$1(isTablet),\n        isPhone: constant$1(isPhone),\n        isTouch: constant$1(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant$1(iOSwebview),\n        isDesktop: constant$1(isDesktop)\n      };\n    };\n\n    var firstMatch = function (regexes, s) {\n      for (var i = 0; i < regexes.length; i++) {\n        var x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    var find$3 = function (regexes, agent) {\n      var r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      var group = function (i) {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$d(group(1), group(2));\n    };\n    var detect$4 = function (versionRegexes, agent) {\n      var cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$3();\n      }\n      return find$3(versionRegexes, cleanedAgent);\n    };\n    var unknown$3 = function () {\n      return nu$d(0, 0);\n    };\n    var nu$d = function (major, minor) {\n      return {\n        major: major,\n        minor: minor\n      };\n    };\n    var Version = {\n      nu: nu$d,\n      detect: detect$4,\n      unknown: unknown$3\n    };\n\n    var detectBrowser$1 = function (browsers, userAgentData) {\n      return findMap(userAgentData.brands, function (uaBrand) {\n        var lcBrand = uaBrand.brand.toLowerCase();\n        return find$5(browsers, function (browser) {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(function (info) {\n          return {\n            current: info.name,\n            version: Version.nu(parseInt(uaBrand.version, 10), 0)\n          };\n        });\n      });\n    };\n\n    var detect$3 = function (candidates, userAgent) {\n      var agent = String(userAgent).toLowerCase();\n      return find$5(candidates, function (candidate) {\n        return candidate.search(agent);\n      });\n    };\n    var detectBrowser = function (browsers, userAgent) {\n      return detect$3(browsers, userAgent).map(function (browser) {\n        var version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version: version\n        };\n      });\n    };\n    var detectOs = function (oses, userAgent) {\n      return detect$3(oses, userAgent).map(function (os) {\n        var version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version: version\n        };\n      });\n    };\n\n    var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    var checkContains = function (target) {\n      return function (uastring) {\n        return contains$1(uastring, target);\n      };\n    };\n    var browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: function (uastring) {\n          return contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chrome',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: function (uastring) {\n          return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n        }\n      }\n    ];\n    var oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: function (uastring) {\n          return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'OSX',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    var PlatformInfo = {\n      browsers: constant$1(browsers),\n      oses: constant$1(oses)\n    };\n\n    var edge = 'Edge';\n    var chrome = 'Chrome';\n    var ie = 'IE';\n    var opera = 'Opera';\n    var firefox = 'Firefox';\n    var safari = 'Safari';\n    var unknown$2 = function () {\n      return nu$c({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$c = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isBrowser = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isEdge: isBrowser(edge),\n        isChrome: isBrowser(chrome),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    var Browser = {\n      unknown: unknown$2,\n      nu: nu$c,\n      edge: constant$1(edge),\n      chrome: constant$1(chrome),\n      ie: constant$1(ie),\n      opera: constant$1(opera),\n      firefox: constant$1(firefox),\n      safari: constant$1(safari)\n    };\n\n    var windows = 'Windows';\n    var ios = 'iOS';\n    var android = 'Android';\n    var linux = 'Linux';\n    var osx = 'OSX';\n    var solaris = 'Solaris';\n    var freebsd = 'FreeBSD';\n    var chromeos = 'ChromeOS';\n    var unknown$1 = function () {\n      return nu$b({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$b = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isOS = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isOSX: isOS(osx),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    var OperatingSystem = {\n      unknown: unknown$1,\n      nu: nu$b,\n      windows: constant$1(windows),\n      ios: constant$1(ios),\n      android: constant$1(android),\n      linux: constant$1(linux),\n      osx: constant$1(osx),\n      solaris: constant$1(solaris),\n      freebsd: constant$1(freebsd),\n      chromeos: constant$1(chromeos)\n    };\n\n    var detect$2 = function (userAgent, userAgentDataOpt, mediaMatch) {\n      var browsers = PlatformInfo.browsers();\n      var oses = PlatformInfo.oses();\n      var browser = userAgentDataOpt.bind(function (userAgentData) {\n        return detectBrowser$1(browsers, userAgentData);\n      }).orThunk(function () {\n        return detectBrowser(browsers, userAgent);\n      }).fold(Browser.unknown, Browser.nu);\n      var os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      var deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser: browser,\n        os: os,\n        deviceType: deviceType\n      };\n    };\n    var PlatformDetection = { detect: detect$2 };\n\n    var mediaMatch = function (query) {\n      return window.matchMedia(query).matches;\n    };\n    var platform = cached(function () {\n      return PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch);\n    });\n    var detect$1 = function () {\n      return platform();\n    };\n\n    var compareDocumentPosition = function (a, b, match) {\n      return (a.compareDocumentPosition(b) & match) !== 0;\n    };\n    var documentPositionContainedBy = function (a, b) {\n      return compareDocumentPosition(a, b, Node.DOCUMENT_POSITION_CONTAINED_BY);\n    };\n\n    var is = function (element, selector) {\n      var dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        var elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    var bypassSelector = function (dom) {\n      return dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    };\n    var all$3 = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$2(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    var one = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    var eq = function (e1, e2) {\n      return e1.dom === e2.dom;\n    };\n    var regularContains = function (e1, e2) {\n      var d1 = e1.dom;\n      var d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    var ieContains = function (e1, e2) {\n      return documentPositionContainedBy(e1.dom, e2.dom);\n    };\n    var contains = function (e1, e2) {\n      return detect$1().browser.isIE() ? ieContains(e1, e2) : regularContains(e1, e2);\n    };\n\n    var owner$4 = function (element) {\n      return SugarElement.fromDom(element.dom.ownerDocument);\n    };\n    var documentOrOwner = function (dos) {\n      return isDocument(dos) ? dos : owner$4(dos);\n    };\n    var documentElement = function (element) {\n      return SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    };\n    var defaultView = function (element) {\n      return SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    };\n    var parent = function (element) {\n      return Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    };\n    var parentNode = function (element) {\n      return parent(element);\n    };\n    var offsetParent = function (element) {\n      return Optional.from(element.dom.offsetParent).map(SugarElement.fromDom);\n    };\n    var nextSibling = function (element) {\n      return Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    };\n    var children = function (element) {\n      return map$2(element.dom.childNodes, SugarElement.fromDom);\n    };\n    var child$2 = function (element, index) {\n      var cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    var firstChild = function (element) {\n      return child$2(element, 0);\n    };\n    var spot = function (element, offset) {\n      return {\n        element: element,\n        offset: offset\n      };\n    };\n    var leaf = function (element, offset) {\n      var cs = children(element);\n      return cs.length > 0 && offset < cs.length ? spot(cs[offset], 0) : spot(element, offset);\n    };\n\n    var isShadowRoot = function (dos) {\n      return isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    };\n    var supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    var isSupported = constant$1(supported);\n    var getRootNode = supported ? function (e) {\n      return SugarElement.fromDom(e.dom.getRootNode());\n    } : documentOrOwner;\n    var getContentContainer = function (dos) {\n      return isShadowRoot(dos) ? dos : SugarElement.fromDom(documentOrOwner(dos).dom.body);\n    };\n    var isInShadowRoot = function (e) {\n      return getShadowRoot(e).isSome();\n    };\n    var getShadowRoot = function (e) {\n      var r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    var getShadowHost = function (e) {\n      return SugarElement.fromDom(e.dom.host);\n    };\n    var getOriginalEventTarget = function (event) {\n      if (isSupported() && isNonNullable(event.target)) {\n        var el = SugarElement.fromDom(event.target);\n        if (isElement$2(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            var composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    var isOpenShadowHost = function (element) {\n      return isNonNullable(element.dom.shadowRoot);\n    };\n\n    var inBody = function (element) {\n      var dom = isText$1(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      var doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(function () {\n        return doc.body.contains(dom);\n      }, compose1(inBody, getShadowHost));\n    };\n    var body = function () {\n      return getBody(SugarElement.fromDom(document));\n    };\n    var getBody = function (doc) {\n      var b = doc.dom.body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set$8 = function (element, key, value) {\n      rawSet(element.dom, key, value);\n    };\n    var setAll$1 = function (element, attrs) {\n      var dom = element.dom;\n      each(attrs, function (v, k) {\n        rawSet(dom, k, v);\n      });\n    };\n    var get$d = function (element, key) {\n      var v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    var getOpt = function (element, key) {\n      return Optional.from(get$d(element, key));\n    };\n    var has$1 = function (element, key) {\n      var dom = element.dom;\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n    };\n    var remove$7 = function (element, key) {\n      element.dom.removeAttribute(key);\n    };\n\n    var internalSet = function (dom, property, value) {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported$1(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    var internalRemove = function (dom, property) {\n      if (isSupported$1(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    var set$7 = function (element, property, value) {\n      var dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    var setAll = function (element, css) {\n      var dom = element.dom;\n      each(css, function (v, k) {\n        internalSet(dom, k, v);\n      });\n    };\n    var setOptions = function (element, css) {\n      var dom = element.dom;\n      each(css, function (v, k) {\n        v.fold(function () {\n          internalRemove(dom, k);\n        }, function (value) {\n          internalSet(dom, k, value);\n        });\n      });\n    };\n    var get$c = function (element, property) {\n      var dom = element.dom;\n      var styles = window.getComputedStyle(dom);\n      var r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    var getUnsafeProperty = function (dom, property) {\n      return isSupported$1(dom) ? dom.style.getPropertyValue(property) : '';\n    };\n    var getRaw = function (element, property) {\n      var dom = element.dom;\n      var raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(function (r) {\n        return r.length > 0;\n      });\n    };\n    var getAllRaw = function (element) {\n      var css = {};\n      var dom = element.dom;\n      if (isSupported$1(dom)) {\n        for (var i = 0; i < dom.style.length; i++) {\n          var ruleName = dom.style.item(i);\n          css[ruleName] = dom.style[ruleName];\n        }\n      }\n      return css;\n    };\n    var isValidValue = function (tag, property, value) {\n      var element = SugarElement.fromTag(tag);\n      set$7(element, property, value);\n      var style = getRaw(element, property);\n      return style.isSome();\n    };\n    var remove$6 = function (element, property) {\n      var dom = element.dom;\n      internalRemove(dom, property);\n      if (is$1(getOpt(element, 'style').map(trim$1), '')) {\n        remove$7(element, 'style');\n      }\n    };\n    var reflow = function (e) {\n      return e.dom.offsetWidth;\n    };\n\n    var Dimension = function (name, getOffset) {\n      var set = function (element, h) {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        var dom = element.dom;\n        if (isSupported$1(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      var get = function (element) {\n        var r = getOffset(element);\n        if (r <= 0 || r === null) {\n          var css = get$c(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      var getOuter = get;\n      var aggregate = function (element, properties) {\n        return foldl(properties, function (acc, property) {\n          var val = get$c(element, property);\n          var value = val === undefined ? 0 : parseInt(val, 10);\n          return isNaN(value) ? acc : acc + value;\n        }, 0);\n      };\n      var max = function (element, value, properties) {\n        var cumulativeInclusions = aggregate(element, properties);\n        var absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set: set,\n        get: get,\n        getOuter: getOuter,\n        aggregate: aggregate,\n        max: max\n      };\n    };\n\n    var api$3 = Dimension('height', function (element) {\n      var dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    var get$b = function (element) {\n      return api$3.get(element);\n    };\n    var getOuter$2 = function (element) {\n      return api$3.getOuter(element);\n    };\n    var setMax$1 = function (element, value) {\n      var inclusions = [\n        'margin-top',\n        'border-top-width',\n        'padding-top',\n        'padding-bottom',\n        'border-bottom-width',\n        'margin-bottom'\n      ];\n      var absMax = api$3.max(element, value, inclusions);\n      set$7(element, 'max-height', absMax + 'px');\n    };\n\n    var r$1 = function (left, top) {\n      var translate = function (x, y) {\n        return r$1(left + x, top + y);\n      };\n      return {\n        left: left,\n        top: top,\n        translate: translate\n      };\n    };\n    var SugarPosition = r$1;\n\n    var boxPosition = function (dom) {\n      var box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    var firstDefinedOrZero = function (a, b) {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    var absolute$3 = function (element) {\n      var doc = element.dom.ownerDocument;\n      var body = doc.body;\n      var win = doc.defaultView;\n      var html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      var scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      var scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      var clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      var clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport$1(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    var viewport$1 = function (element) {\n      var dom = element.dom;\n      var doc = dom.ownerDocument;\n      var body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    var api$2 = Dimension('width', function (element) {\n      return element.dom.offsetWidth;\n    });\n    var set$6 = function (element, h) {\n      return api$2.set(element, h);\n    };\n    var get$a = function (element) {\n      return api$2.get(element);\n    };\n    var getOuter$1 = function (element) {\n      return api$2.getOuter(element);\n    };\n    var setMax = function (element, value) {\n      var inclusions = [\n        'margin-left',\n        'border-left-width',\n        'padding-left',\n        'padding-right',\n        'border-right-width',\n        'margin-right'\n      ];\n      var absMax = api$2.max(element, value, inclusions);\n      set$7(element, 'max-width', absMax + 'px');\n    };\n\n    var mkEvent = function (target, x, y, stop, prevent, kill, raw) {\n      return {\n        target: target,\n        x: x,\n        y: y,\n        stop: stop,\n        prevent: prevent,\n        kill: kill,\n        raw: raw\n      };\n    };\n    var fromRawEvent$1 = function (rawEvent) {\n      var target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      var stop = function () {\n        return rawEvent.stopPropagation();\n      };\n      var prevent = function () {\n        return rawEvent.preventDefault();\n      };\n      var kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    var handle = function (filter, handler) {\n      return function (rawEvent) {\n        if (filter(rawEvent)) {\n          handler(fromRawEvent$1(rawEvent));\n        }\n      };\n    };\n    var binder = function (element, event, filter, handler, useCapture) {\n      var wrapped = handle(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    var bind$2 = function (element, event, filter, handler) {\n      return binder(element, event, filter, handler, false);\n    };\n    var capture$1 = function (element, event, filter, handler) {\n      return binder(element, event, filter, handler, true);\n    };\n    var unbind = function (element, event, handler, useCapture) {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    var before$2 = function (marker, element) {\n      var parent$1 = parent(marker);\n      parent$1.each(function (v) {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    var after$2 = function (marker, element) {\n      var sibling = nextSibling(marker);\n      sibling.fold(function () {\n        var parent$1 = parent(marker);\n        parent$1.each(function (v) {\n          append$2(v, element);\n        });\n      }, function (v) {\n        before$2(v, element);\n      });\n    };\n    var prepend$1 = function (parent, element) {\n      var firstChild$1 = firstChild(parent);\n      firstChild$1.fold(function () {\n        append$2(parent, element);\n      }, function (v) {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    var append$2 = function (parent, element) {\n      parent.dom.appendChild(element.dom);\n    };\n    var appendAt = function (parent, element, index) {\n      child$2(parent, index).fold(function () {\n        append$2(parent, element);\n      }, function (v) {\n        before$2(v, element);\n      });\n    };\n\n    var before$1 = function (marker, elements) {\n      each$1(elements, function (x) {\n        before$2(marker, x);\n      });\n    };\n    var append$1 = function (parent, elements) {\n      each$1(elements, function (x) {\n        append$2(parent, x);\n      });\n    };\n\n    var empty = function (element) {\n      element.dom.textContent = '';\n      each$1(children(element), function (rogue) {\n        remove$5(rogue);\n      });\n    };\n    var remove$5 = function (element) {\n      var dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    var unwrap = function (wrapper) {\n      var children$1 = children(wrapper);\n      if (children$1.length > 0) {\n        before$1(wrapper, children$1);\n      }\n      remove$5(wrapper);\n    };\n\n    var get$9 = function (_DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom : document;\n      var x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      var y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    var to = function (x, y, _DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom : document;\n      var win = doc.defaultView;\n      if (win) {\n        win.scrollTo(x, y);\n      }\n    };\n\n    var get$8 = function (_win) {\n      var win = _win === undefined ? window : _win;\n      if (detect$1().browser.isFirefox()) {\n        return Optional.none();\n      } else {\n        return Optional.from(win['visualViewport']);\n      }\n    };\n    var bounds$1 = function (x, y, width, height) {\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        right: x + width,\n        bottom: y + height\n      };\n    };\n    var getBounds$3 = function (_win) {\n      var win = _win === undefined ? window : _win;\n      var doc = win.document;\n      var scroll = get$9(SugarElement.fromDom(doc));\n      return get$8(win).fold(function () {\n        var html = win.document.documentElement;\n        var width = html.clientWidth;\n        var height = html.clientHeight;\n        return bounds$1(scroll.left, scroll.top, width, height);\n      }, function (visualViewport) {\n        return bounds$1(Math.max(visualViewport.pageLeft, scroll.left), Math.max(visualViewport.pageTop, scroll.top), visualViewport.width, visualViewport.height);\n      });\n    };\n\n    var walkUp = function (navigation, doc) {\n      var frame = navigation.view(doc);\n      return frame.fold(constant$1([]), function (f) {\n        var parent = navigation.owner(f);\n        var rest = walkUp(navigation, parent);\n        return [f].concat(rest);\n      });\n    };\n    var pathTo = function (element, navigation) {\n      var d = navigation.owner(element);\n      var paths = walkUp(navigation, d);\n      return Optional.some(paths);\n    };\n\n    var view = function (doc) {\n      var _a;\n      var element = doc.dom === document ? Optional.none() : Optional.from((_a = doc.dom.defaultView) === null || _a === void 0 ? void 0 : _a.frameElement);\n      return element.map(SugarElement.fromDom);\n    };\n    var owner$3 = function (element) {\n      return owner$4(element);\n    };\n\n    var Navigation = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        view: view,\n        owner: owner$3\n    });\n\n    var find$2 = function (element) {\n      var doc = SugarElement.fromDom(document);\n      var scroll = get$9(doc);\n      var path = pathTo(element, Navigation);\n      return path.fold(curry(absolute$3, element), function (frames) {\n        var offset = viewport$1(element);\n        var r = foldr(frames, function (b, a) {\n          var loc = viewport$1(a);\n          return {\n            left: b.left + loc.left,\n            top: b.top + loc.top\n          };\n        }, {\n          left: 0,\n          top: 0\n        });\n        return SugarPosition(r.left + offset.left + scroll.left, r.top + offset.top + scroll.top);\n      });\n    };\n\n    var pointed = function (point, width, height) {\n      return {\n        point: point,\n        width: width,\n        height: height\n      };\n    };\n    var rect = function (x, y, width, height) {\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      };\n    };\n    var bounds = function (x, y, width, height) {\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        right: x + width,\n        bottom: y + height\n      };\n    };\n    var box$1 = function (element) {\n      var xy = absolute$3(element);\n      var w = getOuter$1(element);\n      var h = getOuter$2(element);\n      return bounds(xy.left, xy.top, w, h);\n    };\n    var absolute$2 = function (element) {\n      var position = find$2(element);\n      var width = getOuter$1(element);\n      var height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    var win = function () {\n      return getBounds$3(window);\n    };\n\n    var value$3 = function (o) {\n      var or = function (_opt) {\n        return value$3(o);\n      };\n      var orThunk = function (_f) {\n        return value$3(o);\n      };\n      var map = function (f) {\n        return value$3(f(o));\n      };\n      var mapError = function (_f) {\n        return value$3(o);\n      };\n      var each = function (f) {\n        f(o);\n      };\n      var bind = function (f) {\n        return f(o);\n      };\n      var fold = function (_, onValue) {\n        return onValue(o);\n      };\n      var exists = function (f) {\n        return f(o);\n      };\n      var forall = function (f) {\n        return f(o);\n      };\n      var toOptional = function () {\n        return Optional.some(o);\n      };\n      return {\n        isValue: always,\n        isError: never,\n        getOr: constant$1(o),\n        getOrThunk: constant$1(o),\n        getOrDie: constant$1(o),\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: each,\n        bind: bind,\n        exists: exists,\n        forall: forall,\n        toOptional: toOptional\n      };\n    };\n    var error$1 = function (message) {\n      var getOrThunk = function (f) {\n        return f();\n      };\n      var getOrDie = function () {\n        return die(String(message))();\n      };\n      var or = identity$1;\n      var orThunk = function (f) {\n        return f();\n      };\n      var map = function (_f) {\n        return error$1(message);\n      };\n      var mapError = function (f) {\n        return error$1(f(message));\n      };\n      var bind = function (_f) {\n        return error$1(message);\n      };\n      var fold = function (onError, _) {\n        return onError(message);\n      };\n      return {\n        isValue: never,\n        isError: always,\n        getOr: identity$1,\n        getOrThunk: getOrThunk,\n        getOrDie: getOrDie,\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: noop,\n        bind: bind,\n        exists: never,\n        forall: always,\n        toOptional: Optional.none\n      };\n    };\n    var fromOption = function (opt, err) {\n      return opt.fold(function () {\n        return error$1(err);\n      }, value$3);\n    };\n    var Result = {\n      value: value$3,\n      error: error$1,\n      fromOption: fromOption\n    };\n\n    var SimpleResultType;\n    (function (SimpleResultType) {\n      SimpleResultType[SimpleResultType['Error'] = 0] = 'Error';\n      SimpleResultType[SimpleResultType['Value'] = 1] = 'Value';\n    }(SimpleResultType || (SimpleResultType = {})));\n    var fold$1 = function (res, onError, onValue) {\n      return res.stype === SimpleResultType.Error ? onError(res.serror) : onValue(res.svalue);\n    };\n    var partition$2 = function (results) {\n      var values = [];\n      var errors = [];\n      each$1(results, function (obj) {\n        fold$1(obj, function (err) {\n          return errors.push(err);\n        }, function (val) {\n          return values.push(val);\n        });\n      });\n      return {\n        values: values,\n        errors: errors\n      };\n    };\n    var mapError = function (res, f) {\n      if (res.stype === SimpleResultType.Error) {\n        return {\n          stype: SimpleResultType.Error,\n          serror: f(res.serror)\n        };\n      } else {\n        return res;\n      }\n    };\n    var map = function (res, f) {\n      if (res.stype === SimpleResultType.Value) {\n        return {\n          stype: SimpleResultType.Value,\n          svalue: f(res.svalue)\n        };\n      } else {\n        return res;\n      }\n    };\n    var bind$1 = function (res, f) {\n      if (res.stype === SimpleResultType.Value) {\n        return f(res.svalue);\n      } else {\n        return res;\n      }\n    };\n    var bindError = function (res, f) {\n      if (res.stype === SimpleResultType.Error) {\n        return f(res.serror);\n      } else {\n        return res;\n      }\n    };\n    var svalue = function (v) {\n      return {\n        stype: SimpleResultType.Value,\n        svalue: v\n      };\n    };\n    var serror = function (e) {\n      return {\n        stype: SimpleResultType.Error,\n        serror: e\n      };\n    };\n    var toResult$1 = function (res) {\n      return fold$1(res, Result.error, Result.value);\n    };\n    var fromResult$1 = function (res) {\n      return res.fold(serror, svalue);\n    };\n    var SimpleResult = {\n      fromResult: fromResult$1,\n      toResult: toResult$1,\n      svalue: svalue,\n      partition: partition$2,\n      serror: serror,\n      bind: bind$1,\n      bindError: bindError,\n      map: map,\n      mapError: mapError,\n      fold: fold$1\n    };\n\n    var field$2 = function (key, newKey, presence, prop) {\n      return {\n        tag: 'field',\n        key: key,\n        newKey: newKey,\n        presence: presence,\n        prop: prop\n      };\n    };\n    var customField$1 = function (newKey, instantiator) {\n      return {\n        tag: 'custom',\n        newKey: newKey,\n        instantiator: instantiator\n      };\n    };\n    var fold = function (value, ifField, ifCustom) {\n      switch (value.tag) {\n      case 'field':\n        return ifField(value.key, value.newKey, value.presence, value.prop);\n      case 'custom':\n        return ifCustom(value.newKey, value.instantiator);\n      }\n    };\n\n    var shallow$1 = function (old, nu) {\n      return nu;\n    };\n    var deep = function (old, nu) {\n      var bothObjects = isObject(old) && isObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    var baseMerge = function (merger) {\n      return function () {\n        var objects = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          objects[_i] = arguments[_i];\n        }\n        if (objects.length === 0) {\n          throw new Error('Can\\'t merge zero objects');\n        }\n        var ret = {};\n        for (var j = 0; j < objects.length; j++) {\n          var curObject = objects[j];\n          for (var key in curObject) {\n            if (has$2(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    var deepMerge = baseMerge(deep);\n    var merge$1 = baseMerge(shallow$1);\n\n    var required$2 = function () {\n      return {\n        tag: 'required',\n        process: {}\n      };\n    };\n    var defaultedThunk = function (fallbackThunk) {\n      return {\n        tag: 'defaultedThunk',\n        process: fallbackThunk\n      };\n    };\n    var defaulted$1 = function (fallback) {\n      return defaultedThunk(constant$1(fallback));\n    };\n    var asOption = function () {\n      return {\n        tag: 'option',\n        process: {}\n      };\n    };\n    var mergeWithThunk = function (baseThunk) {\n      return {\n        tag: 'mergeWithThunk',\n        process: baseThunk\n      };\n    };\n    var mergeWith = function (base) {\n      return mergeWithThunk(constant$1(base));\n    };\n\n    var mergeValues$1 = function (values, base) {\n      return values.length > 0 ? SimpleResult.svalue(deepMerge(base, merge$1.apply(undefined, values))) : SimpleResult.svalue(base);\n    };\n    var mergeErrors$1 = function (errors) {\n      return compose(SimpleResult.serror, flatten)(errors);\n    };\n    var consolidateObj = function (objects, base) {\n      var partition = SimpleResult.partition(objects);\n      return partition.errors.length > 0 ? mergeErrors$1(partition.errors) : mergeValues$1(partition.values, base);\n    };\n    var consolidateArr = function (objects) {\n      var partitions = SimpleResult.partition(objects);\n      return partitions.errors.length > 0 ? mergeErrors$1(partitions.errors) : SimpleResult.svalue(partitions.values);\n    };\n    var ResultCombine = {\n      consolidateObj: consolidateObj,\n      consolidateArr: consolidateArr\n    };\n\n    var formatObj = function (input) {\n      return isObject(input) && keys(input).length > 100 ? ' removed due to size' : JSON.stringify(input, null, 2);\n    };\n    var formatErrors = function (errors) {\n      var es = errors.length > 10 ? errors.slice(0, 10).concat([{\n          path: [],\n          getErrorInfo: constant$1('... (only showing first ten failures)')\n        }]) : errors;\n      return map$2(es, function (e) {\n        return 'Failed path: (' + e.path.join(' > ') + ')\\n' + e.getErrorInfo();\n      });\n    };\n\n    var nu$a = function (path, getErrorInfo) {\n      return SimpleResult.serror([{\n          path: path,\n          getErrorInfo: getErrorInfo\n        }]);\n    };\n    var missingRequired = function (path, key, obj) {\n      return nu$a(path, function () {\n        return 'Could not find valid *required* value for \"' + key + '\" in ' + formatObj(obj);\n      });\n    };\n    var missingKey = function (path, key) {\n      return nu$a(path, function () {\n        return 'Choice schema did not contain choice key: \"' + key + '\"';\n      });\n    };\n    var missingBranch = function (path, branches, branch) {\n      return nu$a(path, function () {\n        return 'The chosen schema: \"' + branch + '\" did not exist in branches: ' + formatObj(branches);\n      });\n    };\n    var unsupportedFields = function (path, unsupported) {\n      return nu$a(path, function () {\n        return 'There are unsupported fields: [' + unsupported.join(', ') + '] specified';\n      });\n    };\n    var custom = function (path, err) {\n      return nu$a(path, constant$1(err));\n    };\n\n    var value$2 = function (validator) {\n      var extract = function (path, val) {\n        return SimpleResult.bindError(validator(val), function (err) {\n          return custom(path, err);\n        });\n      };\n      var toString = constant$1('val');\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var anyValue$1 = value$2(SimpleResult.svalue);\n\n    var requiredAccess = function (path, obj, key, bundle) {\n      return get$e(obj, key).fold(function () {\n        return missingRequired(path, key, obj);\n      }, bundle);\n    };\n    var fallbackAccess = function (obj, key, fallback, bundle) {\n      var v = get$e(obj, key).getOrThunk(function () {\n        return fallback(obj);\n      });\n      return bundle(v);\n    };\n    var optionAccess = function (obj, key, bundle) {\n      return bundle(get$e(obj, key));\n    };\n    var optionDefaultedAccess = function (obj, key, fallback, bundle) {\n      var opt = get$e(obj, key).map(function (val) {\n        return val === true ? fallback(obj) : val;\n      });\n      return bundle(opt);\n    };\n    var extractField = function (field, path, obj, key, prop) {\n      var bundle = function (av) {\n        return prop.extract(path.concat([key]), av);\n      };\n      var bundleAsOption = function (optValue) {\n        return optValue.fold(function () {\n          return SimpleResult.svalue(Optional.none());\n        }, function (ov) {\n          var result = prop.extract(path.concat([key]), ov);\n          return SimpleResult.map(result, Optional.some);\n        });\n      };\n      switch (field.tag) {\n      case 'required':\n        return requiredAccess(path, obj, key, bundle);\n      case 'defaultedThunk':\n        return fallbackAccess(obj, key, field.process, bundle);\n      case 'option':\n        return optionAccess(obj, key, bundleAsOption);\n      case 'defaultedOptionThunk':\n        return optionDefaultedAccess(obj, key, field.process, bundleAsOption);\n      case 'mergeWithThunk': {\n          return fallbackAccess(obj, key, constant$1({}), function (v) {\n            var result = deepMerge(field.process(obj), v);\n            return bundle(result);\n          });\n        }\n      }\n    };\n    var extractFields = function (path, obj, fields) {\n      var success = {};\n      var errors = [];\n      for (var _i = 0, fields_1 = fields; _i < fields_1.length; _i++) {\n        var field = fields_1[_i];\n        fold(field, function (key, newKey, presence, prop) {\n          var result = extractField(presence, path, obj, key, prop);\n          SimpleResult.fold(result, function (err) {\n            errors.push.apply(errors, err);\n          }, function (res) {\n            success[newKey] = res;\n          });\n        }, function (newKey, instantiator) {\n          success[newKey] = instantiator(obj);\n        });\n      }\n      return errors.length > 0 ? SimpleResult.serror(errors) : SimpleResult.svalue(success);\n    };\n    var valueThunk = function (getDelegate) {\n      var extract = function (path, val) {\n        return getDelegate().extract(path, val);\n      };\n      var toString = function () {\n        return getDelegate().toString();\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var getSetKeys = function (obj) {\n      return keys(filter$1(obj, isNonNullable));\n    };\n    var objOfOnly = function (fields) {\n      var delegate = objOf(fields);\n      var fieldNames = foldr(fields, function (acc, value) {\n        return fold(value, function (key) {\n          var _a;\n          return deepMerge(acc, (_a = {}, _a[key] = true, _a));\n        }, constant$1(acc));\n      }, {});\n      var extract = function (path, o) {\n        var keys = isBoolean(o) ? [] : getSetKeys(o);\n        var extra = filter$2(keys, function (k) {\n          return !hasNonNullableKey(fieldNames, k);\n        });\n        return extra.length === 0 ? delegate.extract(path, o) : unsupportedFields(path, extra);\n      };\n      return {\n        extract: extract,\n        toString: delegate.toString\n      };\n    };\n    var objOf = function (values) {\n      var extract = function (path, o) {\n        return extractFields(path, o, values);\n      };\n      var toString = function () {\n        var fieldStrings = map$2(values, function (value) {\n          return fold(value, function (key, _okey, _presence, prop) {\n            return key + ' -> ' + prop.toString();\n          }, function (newKey, _instantiator) {\n            return 'state(' + newKey + ')';\n          });\n        });\n        return 'obj{\\n' + fieldStrings.join('\\n') + '}';\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var arrOf = function (prop) {\n      var extract = function (path, array) {\n        var results = map$2(array, function (a, i) {\n          return prop.extract(path.concat(['[' + i + ']']), a);\n        });\n        return ResultCombine.consolidateArr(results);\n      };\n      var toString = function () {\n        return 'array(' + prop.toString() + ')';\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var oneOf = function (props) {\n      var extract = function (path, val) {\n        var errors = [];\n        for (var _i = 0, props_1 = props; _i < props_1.length; _i++) {\n          var prop = props_1[_i];\n          var res = prop.extract(path, val);\n          if (res.stype === SimpleResultType.Value) {\n            return res;\n          }\n          errors.push(res);\n        }\n        return ResultCombine.consolidateArr(errors);\n      };\n      var toString = function () {\n        return 'oneOf(' + map$2(props, function (prop) {\n          return prop.toString();\n        }).join(', ') + ')';\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var setOf$1 = function (validator, prop) {\n      var validateKeys = function (path, keys) {\n        return arrOf(value$2(validator)).extract(path, keys);\n      };\n      var extract = function (path, o) {\n        var keys$1 = keys(o);\n        var validatedKeys = validateKeys(path, keys$1);\n        return SimpleResult.bind(validatedKeys, function (validKeys) {\n          var schema = map$2(validKeys, function (vk) {\n            return field$2(vk, vk, required$2(), prop);\n          });\n          return objOf(schema).extract(path, o);\n        });\n      };\n      var toString = function () {\n        return 'setOf(' + prop.toString() + ')';\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var thunk = function (_desc, processor) {\n      var getP = cached(processor);\n      var extract = function (path, val) {\n        return getP().extract(path, val);\n      };\n      var toString = function () {\n        return getP().toString();\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n    var arrOfObj = compose(arrOf, objOf);\n\n    var anyValue = constant$1(anyValue$1);\n    var typedValue = function (validator, expectedType) {\n      return value$2(function (a) {\n        var actualType = typeof a;\n        return validator(a) ? SimpleResult.svalue(a) : SimpleResult.serror('Expected type: ' + expectedType + ' but got: ' + actualType);\n      });\n    };\n    var number = typedValue(isNumber, 'number');\n    var string = typedValue(isString, 'string');\n    var boolean = typedValue(isBoolean, 'boolean');\n    var functionProcessor = typedValue(isFunction, 'function');\n    var isPostMessageable = function (val) {\n      if (Object(val) !== val) {\n        return true;\n      }\n      switch ({}.toString.call(val).slice(8, -1)) {\n      case 'Boolean':\n      case 'Number':\n      case 'String':\n      case 'Date':\n      case 'RegExp':\n      case 'Blob':\n      case 'FileList':\n      case 'ImageData':\n      case 'ImageBitmap':\n      case 'ArrayBuffer':\n        return true;\n      case 'Array':\n      case 'Object':\n        return Object.keys(val).every(function (prop) {\n          return isPostMessageable(val[prop]);\n        });\n      default:\n        return false;\n      }\n    };\n    var postMessageable = value$2(function (a) {\n      if (isPostMessageable(a)) {\n        return SimpleResult.svalue(a);\n      } else {\n        return SimpleResult.serror('Expected value to be acceptable for sending via postMessage');\n      }\n    });\n\n    var chooseFrom = function (path, input, branches, ch) {\n      var fields = get$e(branches, ch);\n      return fields.fold(function () {\n        return missingBranch(path, branches, ch);\n      }, function (vp) {\n        return vp.extract(path.concat(['branch: ' + ch]), input);\n      });\n    };\n    var choose$2 = function (key, branches) {\n      var extract = function (path, input) {\n        var choice = get$e(input, key);\n        return choice.fold(function () {\n          return missingKey(path, key);\n        }, function (chosen) {\n          return chooseFrom(path, input, branches, chosen);\n        });\n      };\n      var toString = function () {\n        return 'chooseOn(' + key + '). Possible values: ' + keys(branches);\n      };\n      return {\n        extract: extract,\n        toString: toString\n      };\n    };\n\n    var arrOfVal = function () {\n      return arrOf(anyValue$1);\n    };\n    var valueOf = function (validator) {\n      return value$2(function (v) {\n        return validator(v).fold(SimpleResult.serror, SimpleResult.svalue);\n      });\n    };\n    var setOf = function (validator, prop) {\n      return setOf$1(function (v) {\n        return SimpleResult.fromResult(validator(v));\n      }, prop);\n    };\n    var extractValue = function (label, prop, obj) {\n      var res = prop.extract([label], obj);\n      return SimpleResult.mapError(res, function (errs) {\n        return {\n          input: obj,\n          errors: errs\n        };\n      });\n    };\n    var asRaw = function (label, prop, obj) {\n      return SimpleResult.toResult(extractValue(label, prop, obj));\n    };\n    var getOrDie = function (extraction) {\n      return extraction.fold(function (errInfo) {\n        throw new Error(formatError(errInfo));\n      }, identity$1);\n    };\n    var asRawOrDie$1 = function (label, prop, obj) {\n      return getOrDie(asRaw(label, prop, obj));\n    };\n    var formatError = function (errInfo) {\n      return 'Errors: \\n' + formatErrors(errInfo.errors).join('\\n') + '\\n\\nInput object: ' + formatObj(errInfo.input);\n    };\n    var choose$1 = function (key, branches) {\n      return choose$2(key, map$1(branches, objOf));\n    };\n    var thunkOf = function (desc, schema) {\n      return thunk(desc, schema);\n    };\n\n    var field$1 = field$2;\n    var customField = customField$1;\n    var validateEnum = function (values) {\n      return valueOf(function (value) {\n        return contains$2(values, value) ? Result.value(value) : Result.error('Unsupported value: \"' + value + '\", choose one of \"' + values.join(', ') + '\".');\n      });\n    };\n    var required$1 = function (key) {\n      return field$1(key, key, required$2(), anyValue());\n    };\n    var requiredOf = function (key, schema) {\n      return field$1(key, key, required$2(), schema);\n    };\n    var requiredNumber = function (key) {\n      return requiredOf(key, number);\n    };\n    var requiredString = function (key) {\n      return requiredOf(key, string);\n    };\n    var requiredStringEnum = function (key, values) {\n      return field$1(key, key, required$2(), validateEnum(values));\n    };\n    var requiredBoolean = function (key) {\n      return requiredOf(key, boolean);\n    };\n    var requiredFunction = function (key) {\n      return requiredOf(key, functionProcessor);\n    };\n    var forbid = function (key, message) {\n      return field$1(key, key, asOption(), value$2(function (_v) {\n        return SimpleResult.serror('The field: ' + key + ' is forbidden. ' + message);\n      }));\n    };\n    var requiredObjOf = function (key, objSchema) {\n      return field$1(key, key, required$2(), objOf(objSchema));\n    };\n    var requiredArrayOfObj = function (key, objFields) {\n      return field$1(key, key, required$2(), arrOfObj(objFields));\n    };\n    var requiredArrayOf = function (key, schema) {\n      return field$1(key, key, required$2(), arrOf(schema));\n    };\n    var option = function (key) {\n      return field$1(key, key, asOption(), anyValue());\n    };\n    var optionOf = function (key, schema) {\n      return field$1(key, key, asOption(), schema);\n    };\n    var optionNumber = function (key) {\n      return optionOf(key, number);\n    };\n    var optionString = function (key) {\n      return optionOf(key, string);\n    };\n    var optionFunction = function (key) {\n      return optionOf(key, functionProcessor);\n    };\n    var optionArrayOf = function (key, schema) {\n      return optionOf(key, arrOf(schema));\n    };\n    var optionObjOf = function (key, objSchema) {\n      return optionOf(key, objOf(objSchema));\n    };\n    var optionObjOfOnly = function (key, objSchema) {\n      return optionOf(key, objOfOnly(objSchema));\n    };\n    var defaulted = function (key, fallback) {\n      return field$1(key, key, defaulted$1(fallback), anyValue());\n    };\n    var defaultedOf = function (key, fallback, schema) {\n      return field$1(key, key, defaulted$1(fallback), schema);\n    };\n    var defaultedNumber = function (key, fallback) {\n      return defaultedOf(key, fallback, number);\n    };\n    var defaultedString = function (key, fallback) {\n      return defaultedOf(key, fallback, string);\n    };\n    var defaultedStringEnum = function (key, fallback, values) {\n      return defaultedOf(key, fallback, validateEnum(values));\n    };\n    var defaultedBoolean = function (key, fallback) {\n      return defaultedOf(key, fallback, boolean);\n    };\n    var defaultedFunction = function (key, fallback) {\n      return defaultedOf(key, fallback, functionProcessor);\n    };\n    var defaultedPostMsg = function (key, fallback) {\n      return defaultedOf(key, fallback, postMessageable);\n    };\n    var defaultedArrayOf = function (key, fallback, schema) {\n      return defaultedOf(key, fallback, arrOf(schema));\n    };\n    var defaultedObjOf = function (key, fallback, objSchema) {\n      return defaultedOf(key, fallback, objOf(objSchema));\n    };\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var generate$7 = function (cases) {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      var constructors = [];\n      var adt = {};\n      each$1(cases, function (acase, count) {\n        var keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        var key = keys$1[0];\n        var value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          var argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          var match = function (branches) {\n            var branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            var allReqd = forall(constructors, function (reqKey) {\n              return contains$2(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: function () {\n              var foldArgs = [];\n              for (var _i = 0; _i < arguments.length; _i++) {\n                foldArgs[_i] = arguments[_i];\n              }\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              var target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match: match,\n            log: function (label) {\n              console.log(label, {\n                constructors: constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    var Adt = { generate: generate$7 };\n\n    Adt.generate([\n      {\n        bothErrors: [\n          'error1',\n          'error2'\n        ]\n      },\n      {\n        firstError: [\n          'error1',\n          'value2'\n        ]\n      },\n      {\n        secondError: [\n          'value1',\n          'error2'\n        ]\n      },\n      {\n        bothValues: [\n          'value1',\n          'value2'\n        ]\n      }\n    ]);\n    var partition$1 = function (results) {\n      var errors = [];\n      var values = [];\n      each$1(results, function (result) {\n        result.fold(function (err) {\n          errors.push(err);\n        }, function (value) {\n          values.push(value);\n        });\n      });\n      return {\n        errors: errors,\n        values: values\n      };\n    };\n\n    var exclude$1 = function (obj, fields) {\n      var r = {};\n      each(obj, function (v, k) {\n        if (!contains$2(fields, k)) {\n          r[k] = v;\n        }\n      });\n      return r;\n    };\n\n    var wrap$2 = function (key, value) {\n      var _a;\n      return _a = {}, _a[key] = value, _a;\n    };\n    var wrapAll$1 = function (keyvalues) {\n      var r = {};\n      each$1(keyvalues, function (kv) {\n        r[kv.key] = kv.value;\n      });\n      return r;\n    };\n\n    var exclude = function (obj, fields) {\n      return exclude$1(obj, fields);\n    };\n    var wrap$1 = function (key, value) {\n      return wrap$2(key, value);\n    };\n    var wrapAll = function (keyvalues) {\n      return wrapAll$1(keyvalues);\n    };\n    var mergeValues = function (values, base) {\n      return values.length === 0 ? Result.value(base) : Result.value(deepMerge(base, merge$1.apply(undefined, values)));\n    };\n    var mergeErrors = function (errors) {\n      return Result.error(flatten(errors));\n    };\n    var consolidate = function (objs, base) {\n      var partitions = partition$1(objs);\n      return partitions.errors.length > 0 ? mergeErrors(partitions.errors) : mergeValues(partitions.values, base);\n    };\n\n    var ensureIsRoot = function (isRoot) {\n      return isFunction(isRoot) ? isRoot : never;\n    };\n    var ancestor$2 = function (scope, transform, isRoot) {\n      var element = scope.dom;\n      var stop = ensureIsRoot(isRoot);\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = SugarElement.fromDom(element);\n        var transformed = transform(el);\n        if (transformed.isSome()) {\n          return transformed;\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var closest$4 = function (scope, transform, isRoot) {\n      var current = transform(scope);\n      var stop = ensureIsRoot(isRoot);\n      return current.orThunk(function () {\n        return stop(scope) ? Optional.none() : ancestor$2(scope, transform, stop);\n      });\n    };\n\n    var isSource = function (component, simulatedEvent) {\n      return eq(component.element, simulatedEvent.event.target);\n    };\n\n    var defaultEventHandler = {\n      can: always,\n      abort: never,\n      run: noop\n    };\n    var nu$9 = function (parts) {\n      if (!hasNonNullableKey(parts, 'can') && !hasNonNullableKey(parts, 'abort') && !hasNonNullableKey(parts, 'run')) {\n        throw new Error('EventHandler defined by: ' + JSON.stringify(parts, null, 2) + ' does not have can, abort, or run!');\n      }\n      return __assign(__assign({}, defaultEventHandler), parts);\n    };\n    var all$2 = function (handlers, f) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return foldl(handlers, function (acc, handler) {\n          return acc && f(handler).apply(undefined, args);\n        }, true);\n      };\n    };\n    var any = function (handlers, f) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return foldl(handlers, function (acc, handler) {\n          return acc || f(handler).apply(undefined, args);\n        }, false);\n      };\n    };\n    var read$2 = function (handler) {\n      return isFunction(handler) ? {\n        can: always,\n        abort: never,\n        run: handler\n      } : handler;\n    };\n    var fuse$1 = function (handlers) {\n      var can = all$2(handlers, function (handler) {\n        return handler.can;\n      });\n      var abort = any(handlers, function (handler) {\n        return handler.abort;\n      });\n      var run = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        each$1(handlers, function (handler) {\n          handler.run.apply(undefined, args);\n        });\n      };\n      return {\n        can: can,\n        abort: abort,\n        run: run\n      };\n    };\n\n    var constant = constant$1;\n    var touchstart = constant('touchstart');\n    var touchmove = constant('touchmove');\n    var touchend = constant('touchend');\n    var touchcancel = constant('touchcancel');\n    var mousedown = constant('mousedown');\n    var mousemove = constant('mousemove');\n    var mouseout = constant('mouseout');\n    var mouseup = constant('mouseup');\n    var mouseover = constant('mouseover');\n    var focusin = constant('focusin');\n    var focusout = constant('focusout');\n    var keydown = constant('keydown');\n    var keyup = constant('keyup');\n    var input = constant('input');\n    var change = constant('change');\n    var click = constant('click');\n    var transitioncancel = constant('transitioncancel');\n    var transitionend = constant('transitionend');\n    var transitionstart = constant('transitionstart');\n    var selectstart = constant('selectstart');\n\n    var prefixName = function (name) {\n      return constant$1('alloy.' + name);\n    };\n    var alloy = { tap: prefixName('tap') };\n    var focus$4 = prefixName('focus');\n    var postBlur = prefixName('blur.post');\n    var postPaste = prefixName('paste.post');\n    var receive = prefixName('receive');\n    var execute$5 = prefixName('execute');\n    var focusItem = prefixName('focus.item');\n    var tap = alloy.tap;\n    var longpress = prefixName('longpress');\n    var sandboxClose = prefixName('sandbox.close');\n    var typeaheadCancel = prefixName('typeahead.cancel');\n    var systemInit = prefixName('system.init');\n    var documentTouchmove = prefixName('system.touchmove');\n    var documentTouchend = prefixName('system.touchend');\n    var windowScroll = prefixName('system.scroll');\n    var windowResize = prefixName('system.resize');\n    var attachedToDom = prefixName('system.attached');\n    var detachedFromDom = prefixName('system.detached');\n    var dismissRequested = prefixName('system.dismissRequested');\n    var repositionRequested = prefixName('system.repositionRequested');\n    var focusShifted = prefixName('focusmanager.shifted');\n    var slotVisibility = prefixName('slotcontainer.visibility');\n    var changeTab = prefixName('change.tab');\n    var dismissTab = prefixName('dismiss.tab');\n    var highlight$1 = prefixName('highlight');\n    var dehighlight$1 = prefixName('dehighlight');\n\n    var emit = function (component, event) {\n      dispatchWith(component, component.element, event, {});\n    };\n    var emitWith = function (component, event, properties) {\n      dispatchWith(component, component.element, event, properties);\n    };\n    var emitExecute = function (component) {\n      emit(component, execute$5());\n    };\n    var dispatch = function (component, target, event) {\n      dispatchWith(component, target, event, {});\n    };\n    var dispatchWith = function (component, target, event, properties) {\n      var data = __assign({ target: target }, properties);\n      component.getSystem().triggerEvent(event, target, data);\n    };\n    var dispatchEvent = function (component, target, event, simulatedEvent) {\n      component.getSystem().triggerEvent(event, target, simulatedEvent.event);\n    };\n\n    var derive$2 = function (configs) {\n      return wrapAll(configs);\n    };\n    var abort = function (name, predicate) {\n      return {\n        key: name,\n        value: nu$9({ abort: predicate })\n      };\n    };\n    var can = function (name, predicate) {\n      return {\n        key: name,\n        value: nu$9({ can: predicate })\n      };\n    };\n    var preventDefault = function (name) {\n      return {\n        key: name,\n        value: nu$9({\n          run: function (component, simulatedEvent) {\n            simulatedEvent.event.prevent();\n          }\n        })\n      };\n    };\n    var run$1 = function (name, handler) {\n      return {\n        key: name,\n        value: nu$9({ run: handler })\n      };\n    };\n    var runActionExtra = function (name, action, extra) {\n      return {\n        key: name,\n        value: nu$9({\n          run: function (component, simulatedEvent) {\n            action.apply(undefined, [\n              component,\n              simulatedEvent\n            ].concat(extra));\n          }\n        })\n      };\n    };\n    var runOnName = function (name) {\n      return function (handler) {\n        return run$1(name, handler);\n      };\n    };\n    var runOnSourceName = function (name) {\n      return function (handler) {\n        return {\n          key: name,\n          value: nu$9({\n            run: function (component, simulatedEvent) {\n              if (isSource(component, simulatedEvent)) {\n                handler(component, simulatedEvent);\n              }\n            }\n          })\n        };\n      };\n    };\n    var redirectToUid = function (name, uid) {\n      return run$1(name, function (component, simulatedEvent) {\n        component.getSystem().getByUid(uid).each(function (redirectee) {\n          dispatchEvent(redirectee, redirectee.element, name, simulatedEvent);\n        });\n      });\n    };\n    var redirectToPart = function (name, detail, partName) {\n      var uid = detail.partUids[partName];\n      return redirectToUid(name, uid);\n    };\n    var runWithTarget = function (name, f) {\n      return run$1(name, function (component, simulatedEvent) {\n        var ev = simulatedEvent.event;\n        var target = component.getSystem().getByDom(ev.target).getOrThunk(function () {\n          var closest = closest$4(ev.target, function (el) {\n            return component.getSystem().getByDom(el).toOptional();\n          }, never);\n          return closest.getOr(component);\n        });\n        f(component, target, simulatedEvent);\n      });\n    };\n    var cutter = function (name) {\n      return run$1(name, function (component, simulatedEvent) {\n        simulatedEvent.cut();\n      });\n    };\n    var stopper = function (name) {\n      return run$1(name, function (component, simulatedEvent) {\n        simulatedEvent.stop();\n      });\n    };\n    var runOnSource = function (name, f) {\n      return runOnSourceName(name)(f);\n    };\n    var runOnAttached = runOnSourceName(attachedToDom());\n    var runOnDetached = runOnSourceName(detachedFromDom());\n    var runOnInit = runOnSourceName(systemInit());\n    var runOnExecute$1 = runOnName(execute$5());\n\n    var fromHtml$1 = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      return children(SugarElement.fromDom(div));\n    };\n\n    var get$7 = function (element) {\n      return element.dom.innerHTML;\n    };\n    var set$5 = function (element, content) {\n      var owner = owner$4(element);\n      var docDom = owner.dom;\n      var fragment = SugarElement.fromDom(docDom.createDocumentFragment());\n      var contentElements = fromHtml$1(content, docDom);\n      append$1(fragment, contentElements);\n      empty(element);\n      append$2(element, fragment);\n    };\n    var getOuter = function (element) {\n      var container = SugarElement.fromTag('div');\n      var clone = SugarElement.fromDom(element.dom.cloneNode(true));\n      append$2(container, clone);\n      return get$7(container);\n    };\n\n    var clone$2 = function (original, isDeep) {\n      return SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    };\n    var shallow = function (original) {\n      return clone$2(original, false);\n    };\n\n    var getHtml = function (element) {\n      if (isShadowRoot(element)) {\n        return '#shadow-root';\n      } else {\n        var clone = shallow(element);\n        return getOuter(clone);\n      }\n    };\n\n    var element = function (elem) {\n      return getHtml(elem);\n    };\n\n    var isRecursive = function (component, originator, target) {\n      return eq(originator, component.element) && !eq(originator, target);\n    };\n    var events$i = derive$2([can(focus$4(), function (component, simulatedEvent) {\n        var event = simulatedEvent.event;\n        var originator = event.originator;\n        var target = event.target;\n        if (isRecursive(component, originator, target)) {\n          console.warn(focus$4() + ' did not get interpreted by the desired target. ' + '\\nOriginator: ' + element(originator) + '\\nTarget: ' + element(target) + '\\nCheck the ' + focus$4() + ' event handlers');\n          return false;\n        } else {\n          return true;\n        }\n      })]);\n\n    var DefaultEvents = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$i\n    });\n\n    var unique = 0;\n    var generate$6 = function (prefix) {\n      var date = new Date();\n      var time = date.getTime();\n      var random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    var prefix$1 = constant$1('alloy-id-');\n    var idAttr$1 = constant$1('data-alloy-id');\n\n    var prefix = prefix$1();\n    var idAttr = idAttr$1();\n    var write = function (label, elem) {\n      var id = generate$6(prefix + label);\n      writeOnly(elem, id);\n      return id;\n    };\n    var writeOnly = function (elem, uid) {\n      Object.defineProperty(elem.dom, idAttr, {\n        value: uid,\n        writable: true\n      });\n    };\n    var read$1 = function (elem) {\n      var id = isElement$2(elem) ? elem.dom[idAttr] : null;\n      return Optional.from(id);\n    };\n    var generate$5 = function (prefix) {\n      return generate$6(prefix);\n    };\n\n    var make$8 = identity$1;\n\n    var NoContextApi = function (getComp) {\n      var getMessage = function (event) {\n        return 'The component must be in a context to execute: ' + event + (getComp ? '\\n' + element(getComp().element) + ' is not in context.' : '');\n      };\n      var fail = function (event) {\n        return function () {\n          throw new Error(getMessage(event));\n        };\n      };\n      var warn = function (event) {\n        return function () {\n          console.warn(getMessage(event));\n        };\n      };\n      return {\n        debugInfo: constant$1('fake'),\n        triggerEvent: warn('triggerEvent'),\n        triggerFocus: warn('triggerFocus'),\n        triggerEscape: warn('triggerEscape'),\n        broadcast: warn('broadcast'),\n        broadcastOn: warn('broadcastOn'),\n        broadcastEvent: warn('broadcastEvent'),\n        build: fail('build'),\n        addToWorld: fail('addToWorld'),\n        removeFromWorld: fail('removeFromWorld'),\n        addToGui: fail('addToGui'),\n        removeFromGui: fail('removeFromGui'),\n        getByUid: fail('getByUid'),\n        getByDom: fail('getByDom'),\n        isConnected: never\n      };\n    };\n    var singleton$1 = NoContextApi();\n\n    var markAsBehaviourApi = function (f, apiName, apiFunction) {\n      var delegate = apiFunction.toString();\n      var endIndex = delegate.indexOf(')') + 1;\n      var openBracketIndex = delegate.indexOf('(');\n      var parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = function () {\n        return {\n          name: apiName,\n          parameters: cleanParameters(parameters.slice(0, 1).concat(parameters.slice(3)))\n        };\n      };\n      return f;\n    };\n    var cleanParameters = function (parameters) {\n      return map$2(parameters, function (p) {\n        return endsWith(p, '/*') ? p.substring(0, p.length - '/*'.length) : p;\n      });\n    };\n    var markAsExtraApi = function (f, extraName) {\n      var delegate = f.toString();\n      var endIndex = delegate.indexOf(')') + 1;\n      var openBracketIndex = delegate.indexOf('(');\n      var parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = function () {\n        return {\n          name: extraName,\n          parameters: cleanParameters(parameters)\n        };\n      };\n      return f;\n    };\n    var markAsSketchApi = function (f, apiFunction) {\n      var delegate = apiFunction.toString();\n      var endIndex = delegate.indexOf(')') + 1;\n      var openBracketIndex = delegate.indexOf('(');\n      var parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = function () {\n        return {\n          name: 'OVERRIDE',\n          parameters: cleanParameters(parameters.slice(1))\n        };\n      };\n      return f;\n    };\n\n    var premadeTag = generate$6('alloy-premade');\n    var premade$1 = function (comp) {\n      return wrap$1(premadeTag, comp);\n    };\n    var getPremade = function (spec) {\n      return get$e(spec, premadeTag);\n    };\n    var makeApi = function (f) {\n      return markAsSketchApi(function (component) {\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n          rest[_i - 1] = arguments[_i];\n        }\n        return f.apply(void 0, __spreadArray([\n          component.getApis(),\n          component\n        ], rest, false));\n      }, f);\n    };\n\n    var NoState = {\n      init: function () {\n        return nu$8({ readState: constant$1('No State required') });\n      }\n    };\n    var nu$8 = function (spec) {\n      return spec;\n    };\n\n    var generateFrom$1 = function (spec, all) {\n      var schema = map$2(all, function (a) {\n        return optionObjOf(a.name(), [\n          required$1('config'),\n          defaulted('state', NoState)\n        ]);\n      });\n      var validated = asRaw('component.behaviours', objOf(schema), spec.behaviours).fold(function (errInfo) {\n        throw new Error(formatError(errInfo) + '\\nComplete spec:\\n' + JSON.stringify(spec, null, 2));\n      }, identity$1);\n      return {\n        list: all,\n        data: map$1(validated, function (optBlobThunk) {\n          var output = optBlobThunk.map(function (blob) {\n            return {\n              config: blob.config,\n              state: blob.state.init(blob.config)\n            };\n          });\n          return constant$1(output);\n        })\n      };\n    };\n    var getBehaviours$3 = function (bData) {\n      return bData.list;\n    };\n    var getData$2 = function (bData) {\n      return bData.data;\n    };\n\n    var byInnerKey = function (data, tuple) {\n      var r = {};\n      each(data, function (detail, key) {\n        each(detail, function (value, indexKey) {\n          var chain = get$e(r, indexKey).getOr([]);\n          r[indexKey] = chain.concat([tuple(key, value)]);\n        });\n      });\n      return r;\n    };\n\n    var nu$7 = function (s) {\n      return {\n        classes: isUndefined(s.classes) ? [] : s.classes,\n        attributes: isUndefined(s.attributes) ? {} : s.attributes,\n        styles: isUndefined(s.styles) ? {} : s.styles\n      };\n    };\n    var merge = function (defnA, mod) {\n      return __assign(__assign({}, defnA), {\n        attributes: __assign(__assign({}, defnA.attributes), mod.attributes),\n        styles: __assign(__assign({}, defnA.styles), mod.styles),\n        classes: defnA.classes.concat(mod.classes)\n      });\n    };\n\n    var combine$2 = function (info, baseMod, behaviours, base) {\n      var modsByBehaviour = __assign({}, baseMod);\n      each$1(behaviours, function (behaviour) {\n        modsByBehaviour[behaviour.name()] = behaviour.exhibit(info, base);\n      });\n      var byAspect = byInnerKey(modsByBehaviour, function (name, modification) {\n        return {\n          name: name,\n          modification: modification\n        };\n      });\n      var combineObjects = function (objects) {\n        return foldr(objects, function (b, a) {\n          return __assign(__assign({}, a.modification), b);\n        }, {});\n      };\n      var combinedClasses = foldr(byAspect.classes, function (b, a) {\n        return a.modification.concat(b);\n      }, []);\n      var combinedAttributes = combineObjects(byAspect.attributes);\n      var combinedStyles = combineObjects(byAspect.styles);\n      return nu$7({\n        classes: combinedClasses,\n        attributes: combinedAttributes,\n        styles: combinedStyles\n      });\n    };\n\n    var sortKeys = function (label, keyName, array, order) {\n      try {\n        var sorted = sort(array, function (a, b) {\n          var aKey = a[keyName];\n          var bKey = b[keyName];\n          var aIndex = order.indexOf(aKey);\n          var bIndex = order.indexOf(bKey);\n          if (aIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + aKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (bIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + bKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (aIndex < bIndex) {\n            return -1;\n          } else if (bIndex < aIndex) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n        return Result.value(sorted);\n      } catch (err) {\n        return Result.error([err]);\n      }\n    };\n\n    var uncurried = function (handler, purpose) {\n      return {\n        handler: handler,\n        purpose: purpose\n      };\n    };\n    var curried = function (handler, purpose) {\n      return {\n        cHandler: handler,\n        purpose: purpose\n      };\n    };\n    var curryArgs = function (descHandler, extraArgs) {\n      return curried(curry.apply(undefined, [descHandler.handler].concat(extraArgs)), descHandler.purpose);\n    };\n    var getCurried = function (descHandler) {\n      return descHandler.cHandler;\n    };\n\n    var behaviourTuple = function (name, handler) {\n      return {\n        name: name,\n        handler: handler\n      };\n    };\n    var nameToHandlers = function (behaviours, info) {\n      var r = {};\n      each$1(behaviours, function (behaviour) {\n        r[behaviour.name()] = behaviour.handlers(info);\n      });\n      return r;\n    };\n    var groupByEvents = function (info, behaviours, base) {\n      var behaviourEvents = __assign(__assign({}, base), nameToHandlers(behaviours, info));\n      return byInnerKey(behaviourEvents, behaviourTuple);\n    };\n    var combine$1 = function (info, eventOrder, behaviours, base) {\n      var byEventName = groupByEvents(info, behaviours, base);\n      return combineGroups(byEventName, eventOrder);\n    };\n    var assemble = function (rawHandler) {\n      var handler = read$2(rawHandler);\n      return function (component, simulatedEvent) {\n        var rest = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n          rest[_i - 2] = arguments[_i];\n        }\n        var args = [\n          component,\n          simulatedEvent\n        ].concat(rest);\n        if (handler.abort.apply(undefined, args)) {\n          simulatedEvent.stop();\n        } else if (handler.can.apply(undefined, args)) {\n          handler.run.apply(undefined, args);\n        }\n      };\n    };\n    var missingOrderError = function (eventName, tuples) {\n      return Result.error(['The event (' + eventName + ') has more than one behaviour that listens to it.\\nWhen this occurs, you must ' + 'specify an event ordering for the behaviours in your spec (e.g. [ \"listing\", \"toggling\" ]).\\nThe behaviours that ' + 'can trigger it are: ' + JSON.stringify(map$2(tuples, function (c) {\n          return c.name;\n        }), null, 2)]);\n    };\n    var fuse = function (tuples, eventOrder, eventName) {\n      var order = eventOrder[eventName];\n      if (!order) {\n        return missingOrderError(eventName, tuples);\n      } else {\n        return sortKeys('Event: ' + eventName, 'name', tuples, order).map(function (sortedTuples) {\n          var handlers = map$2(sortedTuples, function (tuple) {\n            return tuple.handler;\n          });\n          return fuse$1(handlers);\n        });\n      }\n    };\n    var combineGroups = function (byEventName, eventOrder) {\n      var r = mapToArray(byEventName, function (tuples, eventName) {\n        var combined = tuples.length === 1 ? Result.value(tuples[0].handler) : fuse(tuples, eventOrder, eventName);\n        return combined.map(function (handler) {\n          var assembled = assemble(handler);\n          var purpose = tuples.length > 1 ? filter$2(eventOrder[eventName], function (o) {\n            return exists(tuples, function (t) {\n              return t.name === o;\n            });\n          }).join(' > ') : tuples[0].name;\n          return wrap$1(eventName, uncurried(assembled, purpose));\n        });\n      });\n      return consolidate(r, {});\n    };\n\n    var _a$2;\n    var baseBehaviour = 'alloy.base.behaviour';\n    var schema$z = objOf([\n      field$1('dom', 'dom', required$2(), objOf([\n        required$1('tag'),\n        defaulted('styles', {}),\n        defaulted('classes', []),\n        defaulted('attributes', {}),\n        option('value'),\n        option('innerHtml')\n      ])),\n      required$1('components'),\n      required$1('uid'),\n      defaulted('events', {}),\n      defaulted('apis', {}),\n      field$1('eventOrder', 'eventOrder', mergeWith((_a$2 = {}, _a$2[execute$5()] = [\n        'disabling',\n        baseBehaviour,\n        'toggling',\n        'typeaheadevents'\n      ], _a$2[focus$4()] = [\n        baseBehaviour,\n        'focusing',\n        'keying'\n      ], _a$2[systemInit()] = [\n        baseBehaviour,\n        'disabling',\n        'toggling',\n        'representing'\n      ], _a$2[input()] = [\n        baseBehaviour,\n        'representing',\n        'streaming',\n        'invalidating'\n      ], _a$2[detachedFromDom()] = [\n        baseBehaviour,\n        'representing',\n        'item-events',\n        'tooltipping'\n      ], _a$2[mousedown()] = [\n        'focusing',\n        baseBehaviour,\n        'item-type-events'\n      ], _a$2[touchstart()] = [\n        'focusing',\n        baseBehaviour,\n        'item-type-events'\n      ], _a$2[mouseover()] = [\n        'item-type-events',\n        'tooltipping'\n      ], _a$2[receive()] = [\n        'receiving',\n        'reflecting',\n        'tooltipping'\n      ], _a$2)), anyValue()),\n      option('domModification')\n    ]);\n    var toInfo = function (spec) {\n      return asRaw('custom.definition', schema$z, spec);\n    };\n    var toDefinition = function (detail) {\n      return __assign(__assign({}, detail.dom), {\n        uid: detail.uid,\n        domChildren: map$2(detail.components, function (comp) {\n          return comp.element;\n        })\n      });\n    };\n    var toModification = function (detail) {\n      return detail.domModification.fold(function () {\n        return nu$7({});\n      }, nu$7);\n    };\n    var toEvents = function (info) {\n      return info.events;\n    };\n\n    var read = function (element, attr) {\n      var value = get$d(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    var add$4 = function (element, attr, id) {\n      var old = read(element, attr);\n      var nu = old.concat([id]);\n      set$8(element, attr, nu.join(' '));\n      return true;\n    };\n    var remove$4 = function (element, attr, id) {\n      var nu = filter$2(read(element, attr), function (v) {\n        return v !== id;\n      });\n      if (nu.length > 0) {\n        set$8(element, attr, nu.join(' '));\n      } else {\n        remove$7(element, attr);\n      }\n      return false;\n    };\n\n    var supports = function (element) {\n      return element.dom.classList !== undefined;\n    };\n    var get$6 = function (element) {\n      return read(element, 'class');\n    };\n    var add$3 = function (element, clazz) {\n      return add$4(element, 'class', clazz);\n    };\n    var remove$3 = function (element, clazz) {\n      return remove$4(element, 'class', clazz);\n    };\n\n    var add$2 = function (element, clazz) {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$3(element, clazz);\n      }\n    };\n    var cleanClass = function (element) {\n      var classList = supports(element) ? element.dom.classList : get$6(element);\n      if (classList.length === 0) {\n        remove$7(element, 'class');\n      }\n    };\n    var remove$2 = function (element, clazz) {\n      if (supports(element)) {\n        var classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$3(element, clazz);\n      }\n      cleanClass(element);\n    };\n    var has = function (element, clazz) {\n      return supports(element) && element.dom.classList.contains(clazz);\n    };\n\n    var add$1 = function (element, classes) {\n      each$1(classes, function (x) {\n        add$2(element, x);\n      });\n    };\n    var remove$1 = function (element, classes) {\n      each$1(classes, function (x) {\n        remove$2(element, x);\n      });\n    };\n    var hasAll = function (element, classes) {\n      return forall(classes, function (clazz) {\n        return has(element, clazz);\n      });\n    };\n\n    var get$5 = function (element) {\n      return element.dom.value;\n    };\n    var set$4 = function (element, value) {\n      if (value === undefined) {\n        throw new Error('Value.set was undefined');\n      }\n      element.dom.value = value;\n    };\n\n    var renderToDom = function (definition) {\n      var subject = SugarElement.fromTag(definition.tag);\n      setAll$1(subject, definition.attributes);\n      add$1(subject, definition.classes);\n      setAll(subject, definition.styles);\n      definition.innerHtml.each(function (html) {\n        return set$5(subject, html);\n      });\n      var children = definition.domChildren;\n      append$1(subject, children);\n      definition.value.each(function (value) {\n        set$4(subject, value);\n      });\n      if (!definition.uid) {\n        debugger;\n      }\n      writeOnly(subject, definition.uid);\n      return subject;\n    };\n\n    var getBehaviours$2 = function (spec) {\n      var behaviours = get$e(spec, 'behaviours').getOr({});\n      return bind$3(keys(behaviours), function (name) {\n        var behaviour = behaviours[name];\n        return isNonNullable(behaviour) ? [behaviour.me] : [];\n      });\n    };\n    var generateFrom = function (spec, all) {\n      return generateFrom$1(spec, all);\n    };\n    var generate$4 = function (spec) {\n      var all = getBehaviours$2(spec);\n      return generateFrom(spec, all);\n    };\n\n    var getDomDefinition = function (info, bList, bData) {\n      var definition = toDefinition(info);\n      var infoModification = toModification(info);\n      var baseModification = { 'alloy.base.modification': infoModification };\n      var modification = bList.length > 0 ? combine$2(bData, baseModification, bList, definition) : infoModification;\n      return merge(definition, modification);\n    };\n    var getEvents = function (info, bList, bData) {\n      var baseEvents = { 'alloy.base.behaviour': toEvents(info) };\n      return combine$1(bData, info.eventOrder, bList, baseEvents).getOrDie();\n    };\n    var build$2 = function (spec) {\n      var getMe = function () {\n        return me;\n      };\n      var systemApi = Cell(singleton$1);\n      var info = getOrDie(toInfo(spec));\n      var bBlob = generate$4(spec);\n      var bList = getBehaviours$3(bBlob);\n      var bData = getData$2(bBlob);\n      var modDefinition = getDomDefinition(info, bList, bData);\n      var item = renderToDom(modDefinition);\n      var events = getEvents(info, bList, bData);\n      var subcomponents = Cell(info.components);\n      var connect = function (newApi) {\n        systemApi.set(newApi);\n      };\n      var disconnect = function () {\n        systemApi.set(NoContextApi(getMe));\n      };\n      var syncComponents = function () {\n        var children$1 = children(item);\n        var subs = bind$3(children$1, function (child) {\n          return systemApi.get().getByDom(child).fold(function () {\n            return [];\n          }, pure$2);\n        });\n        subcomponents.set(subs);\n      };\n      var config = function (behaviour) {\n        var b = bData;\n        var f = isFunction(b[behaviour.name()]) ? b[behaviour.name()] : function () {\n          throw new Error('Could not find ' + behaviour.name() + ' in ' + JSON.stringify(spec, null, 2));\n        };\n        return f();\n      };\n      var hasConfigured = function (behaviour) {\n        return isFunction(bData[behaviour.name()]);\n      };\n      var getApis = function () {\n        return info.apis;\n      };\n      var readState = function (behaviourName) {\n        return bData[behaviourName]().map(function (b) {\n          return b.state.readState();\n        }).getOr('not enabled');\n      };\n      var me = {\n        uid: spec.uid,\n        getSystem: systemApi.get,\n        config: config,\n        hasConfigured: hasConfigured,\n        spec: spec,\n        readState: readState,\n        getApis: getApis,\n        connect: connect,\n        disconnect: disconnect,\n        element: item,\n        syncComponents: syncComponents,\n        components: subcomponents.get,\n        events: events\n      };\n      return me;\n    };\n\n    var buildSubcomponents = function (spec) {\n      var components = get$e(spec, 'components').getOr([]);\n      return map$2(components, build$1);\n    };\n    var buildFromSpec = function (userSpec) {\n      var _a = make$8(userSpec), specEvents = _a.events, spec = __rest(_a, ['events']);\n      var components = buildSubcomponents(spec);\n      var completeSpec = __assign(__assign({}, spec), {\n        events: __assign(__assign({}, DefaultEvents), specEvents),\n        components: components\n      });\n      return Result.value(build$2(completeSpec));\n    };\n    var text$1 = function (textContent) {\n      var element = SugarElement.fromText(textContent);\n      return external$2({ element: element });\n    };\n    var external$2 = function (spec) {\n      var extSpec = asRawOrDie$1('external.component', objOfOnly([\n        required$1('element'),\n        option('uid')\n      ]), spec);\n      var systemApi = Cell(NoContextApi());\n      var connect = function (newApi) {\n        systemApi.set(newApi);\n      };\n      var disconnect = function () {\n        systemApi.set(NoContextApi(function () {\n          return me;\n        }));\n      };\n      var uid = extSpec.uid.getOrThunk(function () {\n        return generate$5('external');\n      });\n      writeOnly(extSpec.element, uid);\n      var me = {\n        uid: uid,\n        getSystem: systemApi.get,\n        config: Optional.none,\n        hasConfigured: never,\n        connect: connect,\n        disconnect: disconnect,\n        getApis: function () {\n          return {};\n        },\n        element: extSpec.element,\n        spec: spec,\n        readState: constant$1('No state'),\n        syncComponents: noop,\n        components: constant$1([]),\n        events: {}\n      };\n      return premade$1(me);\n    };\n    var uids = generate$5;\n    var isSketchSpec$1 = function (spec) {\n      return has$2(spec, 'uid');\n    };\n    var build$1 = function (spec) {\n      return getPremade(spec).getOrThunk(function () {\n        var userSpecWithUid = isSketchSpec$1(spec) ? spec : __assign({ uid: uids('') }, spec);\n        return buildFromSpec(userSpecWithUid).getOrDie();\n      });\n    };\n    var premade = premade$1;\n\n    function ClosestOrAncestor (is, ancestor, scope, a, isRoot) {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    }\n\n    var ancestor$1 = function (scope, predicate, isRoot) {\n      var element = scope.dom;\n      var stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var closest$3 = function (scope, predicate, isRoot) {\n      var is = function (s, test) {\n        return test(s);\n      };\n      return ClosestOrAncestor(is, ancestor$1, scope, predicate, isRoot);\n    };\n    var child$1 = function (scope, predicate) {\n      var pred = function (node) {\n        return predicate(SugarElement.fromDom(node));\n      };\n      var result = find$5(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n    var descendant$1 = function (scope, predicate) {\n      var descend = function (node) {\n        for (var i = 0; i < node.childNodes.length; i++) {\n          var child_1 = SugarElement.fromDom(node.childNodes[i]);\n          if (predicate(child_1)) {\n            return Optional.some(child_1);\n          }\n          var res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope.dom);\n    };\n\n    var closest$2 = function (scope, predicate, isRoot) {\n      return closest$3(scope, predicate, isRoot).isSome();\n    };\n\n    var ancestor = function (scope, selector, isRoot) {\n      return ancestor$1(scope, function (e) {\n        return is(e, selector);\n      }, isRoot);\n    };\n    var child = function (scope, selector) {\n      return child$1(scope, function (e) {\n        return is(e, selector);\n      });\n    };\n    var descendant = function (scope, selector) {\n      return one(selector, scope);\n    };\n    var closest$1 = function (scope, selector, isRoot) {\n      var is$1 = function (element, selector) {\n        return is(element, selector);\n      };\n      return ClosestOrAncestor(is$1, ancestor, scope, selector, isRoot);\n    };\n\n    var find$1 = function (queryElem) {\n      var dependent = closest$3(queryElem, function (elem) {\n        if (!isElement$2(elem)) {\n          return false;\n        }\n        var id = get$d(elem, 'id');\n        return id !== undefined && id.indexOf('aria-owns') > -1;\n      });\n      return dependent.bind(function (dep) {\n        var id = get$d(dep, 'id');\n        var dos = getRootNode(dep);\n        return descendant(dos, '[aria-owns=\"' + id + '\"]');\n      });\n    };\n    var manager = function () {\n      var ariaId = generate$6('aria-owns');\n      var link = function (elem) {\n        set$8(elem, 'aria-owns', ariaId);\n      };\n      var unlink = function (elem) {\n        remove$7(elem, 'aria-owns');\n      };\n      return {\n        id: ariaId,\n        link: link,\n        unlink: unlink\n      };\n    };\n\n    var isAriaPartOf = function (component, queryElem) {\n      return find$1(queryElem).exists(function (owner) {\n        return isPartOf$1(component, owner);\n      });\n    };\n    var isPartOf$1 = function (component, queryElem) {\n      return closest$2(queryElem, function (el) {\n        return eq(el, component.element);\n      }, never) || isAriaPartOf(component, queryElem);\n    };\n\n    var unknown = 'unknown';\n    var EventConfiguration;\n    (function (EventConfiguration) {\n      EventConfiguration[EventConfiguration['STOP'] = 0] = 'STOP';\n      EventConfiguration[EventConfiguration['NORMAL'] = 1] = 'NORMAL';\n      EventConfiguration[EventConfiguration['LOGGING'] = 2] = 'LOGGING';\n    }(EventConfiguration || (EventConfiguration = {})));\n    var eventConfig = Cell({});\n    var makeEventLogger = function (eventName, initialTarget) {\n      var sequence = [];\n      var startTime = new Date().getTime();\n      return {\n        logEventCut: function (_name, target, purpose) {\n          sequence.push({\n            outcome: 'cut',\n            target: target,\n            purpose: purpose\n          });\n        },\n        logEventStopped: function (_name, target, purpose) {\n          sequence.push({\n            outcome: 'stopped',\n            target: target,\n            purpose: purpose\n          });\n        },\n        logNoParent: function (_name, target, purpose) {\n          sequence.push({\n            outcome: 'no-parent',\n            target: target,\n            purpose: purpose\n          });\n        },\n        logEventNoHandlers: function (_name, target) {\n          sequence.push({\n            outcome: 'no-handlers-left',\n            target: target\n          });\n        },\n        logEventResponse: function (_name, target, purpose) {\n          sequence.push({\n            outcome: 'response',\n            purpose: purpose,\n            target: target\n          });\n        },\n        write: function () {\n          var finishTime = new Date().getTime();\n          if (contains$2([\n              'mousemove',\n              'mouseover',\n              'mouseout',\n              systemInit()\n            ], eventName)) {\n            return;\n          }\n          console.log(eventName, {\n            event: eventName,\n            time: finishTime - startTime,\n            target: initialTarget.dom,\n            sequence: map$2(sequence, function (s) {\n              if (!contains$2([\n                  'cut',\n                  'stopped',\n                  'response'\n                ], s.outcome)) {\n                return s.outcome;\n              } else {\n                return '{' + s.purpose + '} ' + s.outcome + ' at (' + element(s.target) + ')';\n              }\n            })\n          });\n        }\n      };\n    };\n    var processEvent = function (eventName, initialTarget, f) {\n      var status = get$e(eventConfig.get(), eventName).orThunk(function () {\n        var patterns = keys(eventConfig.get());\n        return findMap(patterns, function (p) {\n          return eventName.indexOf(p) > -1 ? Optional.some(eventConfig.get()[p]) : Optional.none();\n        });\n      }).getOr(EventConfiguration.NORMAL);\n      switch (status) {\n      case EventConfiguration.NORMAL:\n        return f(noLogger());\n      case EventConfiguration.LOGGING: {\n          var logger = makeEventLogger(eventName, initialTarget);\n          var output = f(logger);\n          logger.write();\n          return output;\n        }\n      case EventConfiguration.STOP:\n        return true;\n      }\n    };\n    var path = [\n      'alloy/data/Fields',\n      'alloy/debugging/Debugging'\n    ];\n    var getTrace = function () {\n      var err = new Error();\n      if (err.stack !== undefined) {\n        var lines = err.stack.split('\\n');\n        return find$5(lines, function (line) {\n          return line.indexOf('alloy') > 0 && !exists(path, function (p) {\n            return line.indexOf(p) > -1;\n          });\n        }).getOr(unknown);\n      } else {\n        return unknown;\n      }\n    };\n    var ignoreEvent = {\n      logEventCut: noop,\n      logEventStopped: noop,\n      logNoParent: noop,\n      logEventNoHandlers: noop,\n      logEventResponse: noop,\n      write: noop\n    };\n    var monitorEvent = function (eventName, initialTarget, f) {\n      return processEvent(eventName, initialTarget, f);\n    };\n    var noLogger = constant$1(ignoreEvent);\n\n    var menuFields = constant$1([\n      required$1('menu'),\n      required$1('selectedMenu')\n    ]);\n    var itemFields = constant$1([\n      required$1('item'),\n      required$1('selectedItem')\n    ]);\n    constant$1(objOf(itemFields().concat(menuFields())));\n    var itemSchema$3 = constant$1(objOf(itemFields()));\n\n    var _initSize = requiredObjOf('initSize', [\n      required$1('numColumns'),\n      required$1('numRows')\n    ]);\n    var itemMarkers = function () {\n      return requiredOf('markers', itemSchema$3());\n    };\n    var tieredMenuMarkers = function () {\n      return requiredObjOf('markers', [required$1('backgroundMenu')].concat(menuFields()).concat(itemFields()));\n    };\n    var markers$1 = function (required) {\n      return requiredObjOf('markers', map$2(required, required$1));\n    };\n    var onPresenceHandler = function (label, fieldName, presence) {\n      getTrace();\n      return field$1(fieldName, fieldName, presence, valueOf(function (f) {\n        return Result.value(function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          return f.apply(undefined, args);\n        });\n      }));\n    };\n    var onHandler = function (fieldName) {\n      return onPresenceHandler('onHandler', fieldName, defaulted$1(noop));\n    };\n    var onKeyboardHandler = function (fieldName) {\n      return onPresenceHandler('onKeyboardHandler', fieldName, defaulted$1(Optional.none));\n    };\n    var onStrictHandler = function (fieldName) {\n      return onPresenceHandler('onHandler', fieldName, required$2());\n    };\n    var onStrictKeyboardHandler = function (fieldName) {\n      return onPresenceHandler('onKeyboardHandler', fieldName, required$2());\n    };\n    var output$1 = function (name, value) {\n      return customField(name, constant$1(value));\n    };\n    var snapshot = function (name) {\n      return customField(name, identity$1);\n    };\n    var initSize = constant$1(_initSize);\n\n    var nu$6 = function (x, y, bubble, direction, placement, boundsRestriction, labelPrefix, alwaysFit) {\n      if (alwaysFit === void 0) {\n        alwaysFit = false;\n      }\n      return {\n        x: x,\n        y: y,\n        bubble: bubble,\n        direction: direction,\n        placement: placement,\n        restriction: boundsRestriction,\n        label: labelPrefix + '-' + placement,\n        alwaysFit: alwaysFit\n      };\n    };\n\n    var adt$a = Adt.generate([\n      { southeast: [] },\n      { southwest: [] },\n      { northeast: [] },\n      { northwest: [] },\n      { south: [] },\n      { north: [] },\n      { east: [] },\n      { west: [] }\n    ]);\n    var cata$2 = function (subject, southeast, southwest, northeast, northwest, south, north, east, west) {\n      return subject.fold(southeast, southwest, northeast, northwest, south, north, east, west);\n    };\n    var cataVertical = function (subject, south, middle, north) {\n      return subject.fold(south, south, north, north, south, north, middle, middle);\n    };\n    var cataHorizontal = function (subject, east, middle, west) {\n      return subject.fold(east, west, east, west, middle, middle, east, west);\n    };\n    var southeast$3 = adt$a.southeast;\n    var southwest$3 = adt$a.southwest;\n    var northeast$3 = adt$a.northeast;\n    var northwest$3 = adt$a.northwest;\n    var south$3 = adt$a.south;\n    var north$3 = adt$a.north;\n    var east$3 = adt$a.east;\n    var west$3 = adt$a.west;\n\n    var cycleBy = function (value, delta, min, max) {\n      var r = value + delta;\n      if (r > max) {\n        return min;\n      } else if (r < min) {\n        return max;\n      } else {\n        return r;\n      }\n    };\n    var clamp$1 = function (value, min, max) {\n      return Math.min(Math.max(value, min), max);\n    };\n\n    var getRestriction = function (anchor, restriction) {\n      switch (restriction) {\n      case 1:\n        return anchor.x;\n      case 0:\n        return anchor.x + anchor.width;\n      case 2:\n        return anchor.y;\n      case 3:\n        return anchor.y + anchor.height;\n      }\n    };\n    var boundsRestriction = function (anchor, restrictions) {\n      return mapToObject([\n        'left',\n        'right',\n        'top',\n        'bottom'\n      ], function (dir) {\n        return get$e(restrictions, dir).map(function (restriction) {\n          return getRestriction(anchor, restriction);\n        });\n      });\n    };\n    var adjustBounds = function (bounds$1, restriction, bubbleOffset) {\n      var applyRestriction = function (dir, current) {\n        return restriction[dir].map(function (pos) {\n          var isVerticalAxis = dir === 'top' || dir === 'bottom';\n          var offset = isVerticalAxis ? bubbleOffset.top : bubbleOffset.left;\n          var comparator = dir === 'left' || dir === 'top' ? Math.max : Math.min;\n          var newPos = comparator(pos, current) + offset;\n          return isVerticalAxis ? clamp$1(newPos, bounds$1.y, bounds$1.bottom) : clamp$1(newPos, bounds$1.x, bounds$1.right);\n        }).getOr(current);\n      };\n      var adjustedLeft = applyRestriction('left', bounds$1.x);\n      var adjustedTop = applyRestriction('top', bounds$1.y);\n      var adjustedRight = applyRestriction('right', bounds$1.right);\n      var adjustedBottom = applyRestriction('bottom', bounds$1.bottom);\n      return bounds(adjustedLeft, adjustedTop, adjustedRight - adjustedLeft, adjustedBottom - adjustedTop);\n    };\n\n    var labelPrefix$2 = 'layout';\n    var eastX$1 = function (anchor) {\n      return anchor.x;\n    };\n    var middleX$1 = function (anchor, element) {\n      return anchor.x + anchor.width / 2 - element.width / 2;\n    };\n    var westX$1 = function (anchor, element) {\n      return anchor.x + anchor.width - element.width;\n    };\n    var northY$2 = function (anchor, element) {\n      return anchor.y - element.height;\n    };\n    var southY$2 = function (anchor) {\n      return anchor.y + anchor.height;\n    };\n    var centreY$1 = function (anchor, element) {\n      return anchor.y + anchor.height / 2 - element.height / 2;\n    };\n    var eastEdgeX$1 = function (anchor) {\n      return anchor.x + anchor.width;\n    };\n    var westEdgeX$1 = function (anchor, element) {\n      return anchor.x - element.width;\n    };\n    var southeast$2 = function (anchor, element, bubbles) {\n      return nu$6(eastX$1(anchor), southY$2(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n        left: 1,\n        top: 3\n      }), labelPrefix$2);\n    };\n    var southwest$2 = function (anchor, element, bubbles) {\n      return nu$6(westX$1(anchor, element), southY$2(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n        right: 0,\n        top: 3\n      }), labelPrefix$2);\n    };\n    var northeast$2 = function (anchor, element, bubbles) {\n      return nu$6(eastX$1(anchor), northY$2(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n        left: 1,\n        bottom: 2\n      }), labelPrefix$2);\n    };\n    var northwest$2 = function (anchor, element, bubbles) {\n      return nu$6(westX$1(anchor, element), northY$2(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n        right: 0,\n        bottom: 2\n      }), labelPrefix$2);\n    };\n    var north$2 = function (anchor, element, bubbles) {\n      return nu$6(middleX$1(anchor, element), northY$2(anchor, element), bubbles.north(), north$3(), 'north', boundsRestriction(anchor, { bottom: 2 }), labelPrefix$2);\n    };\n    var south$2 = function (anchor, element, bubbles) {\n      return nu$6(middleX$1(anchor, element), southY$2(anchor), bubbles.south(), south$3(), 'south', boundsRestriction(anchor, { top: 3 }), labelPrefix$2);\n    };\n    var east$2 = function (anchor, element, bubbles) {\n      return nu$6(eastEdgeX$1(anchor), centreY$1(anchor, element), bubbles.east(), east$3(), 'east', boundsRestriction(anchor, { left: 0 }), labelPrefix$2);\n    };\n    var west$2 = function (anchor, element, bubbles) {\n      return nu$6(westEdgeX$1(anchor, element), centreY$1(anchor, element), bubbles.west(), west$3(), 'west', boundsRestriction(anchor, { right: 1 }), labelPrefix$2);\n    };\n    var all$1 = function () {\n      return [\n        southeast$2,\n        southwest$2,\n        northeast$2,\n        northwest$2,\n        south$2,\n        north$2,\n        east$2,\n        west$2\n      ];\n    };\n    var allRtl$1 = function () {\n      return [\n        southwest$2,\n        southeast$2,\n        northwest$2,\n        northeast$2,\n        south$2,\n        north$2,\n        east$2,\n        west$2\n      ];\n    };\n    var aboveOrBelow = function () {\n      return [\n        northeast$2,\n        northwest$2,\n        southeast$2,\n        southwest$2,\n        north$2,\n        south$2\n      ];\n    };\n    var aboveOrBelowRtl = function () {\n      return [\n        northwest$2,\n        northeast$2,\n        southwest$2,\n        southeast$2,\n        north$2,\n        south$2\n      ];\n    };\n    var belowOrAbove = function () {\n      return [\n        southeast$2,\n        southwest$2,\n        northeast$2,\n        northwest$2,\n        south$2,\n        north$2\n      ];\n    };\n    var belowOrAboveRtl = function () {\n      return [\n        southwest$2,\n        southeast$2,\n        northwest$2,\n        northeast$2,\n        south$2,\n        north$2\n      ];\n    };\n\n    var chooseChannels = function (channels, message) {\n      return message.universal ? channels : filter$2(channels, function (ch) {\n        return contains$2(message.channels, ch);\n      });\n    };\n    var events$h = function (receiveConfig) {\n      return derive$2([run$1(receive(), function (component, message) {\n          var channelMap = receiveConfig.channels;\n          var channels = keys(channelMap);\n          var receivingData = message;\n          var targetChannels = chooseChannels(channels, receivingData);\n          each$1(targetChannels, function (ch) {\n            var channelInfo = channelMap[ch];\n            var channelSchema = channelInfo.schema;\n            var data = asRawOrDie$1('channel[' + ch + '] data\\nReceiver: ' + element(component.element), channelSchema, receivingData.data);\n            channelInfo.onReceive(component, data);\n          });\n        })]);\n    };\n\n    var ActiveReceiving = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$h\n    });\n\n    var ReceivingSchema = [requiredOf('channels', setOf(Result.value, objOfOnly([\n        onStrictHandler('onReceive'),\n        defaulted('schema', anyValue())\n      ])))];\n\n    var executeEvent = function (bConfig, bState, executor) {\n      return runOnExecute$1(function (component) {\n        executor(component, bConfig, bState);\n      });\n    };\n    var loadEvent = function (bConfig, bState, f) {\n      return runOnInit(function (component, _simulatedEvent) {\n        f(component, bConfig, bState);\n      });\n    };\n    var create$9 = function (schema, name, active, apis, extra, state) {\n      var configSchema = objOfOnly(schema);\n      var schemaSchema = optionObjOf(name, [optionObjOfOnly('config', schema)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    var createModes$1 = function (modes, name, active, apis, extra, state) {\n      var configSchema = modes;\n      var schemaSchema = optionObjOf(name, [optionOf('config', modes)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    var wrapApi = function (bName, apiFunction, apiName) {\n      var f = function (component) {\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n          rest[_i - 1] = arguments[_i];\n        }\n        var args = [component].concat(rest);\n        return component.config({ name: constant$1(bName) }).fold(function () {\n          throw new Error('We could not find any behaviour configuration for: ' + bName + '. Using API: ' + apiName);\n        }, function (info) {\n          var rest = Array.prototype.slice.call(args, 1);\n          return apiFunction.apply(undefined, [\n            component,\n            info.config,\n            info.state\n          ].concat(rest));\n        });\n      };\n      return markAsBehaviourApi(f, apiName, apiFunction);\n    };\n    var revokeBehaviour = function (name) {\n      return {\n        key: name,\n        value: undefined\n      };\n    };\n    var doCreate = function (configSchema, schemaSchema, name, active, apis, extra, state) {\n      var getConfig = function (info) {\n        return hasNonNullableKey(info, name) ? info[name]() : Optional.none();\n      };\n      var wrappedApis = map$1(apis, function (apiF, apiName) {\n        return wrapApi(name, apiF, apiName);\n      });\n      var wrappedExtra = map$1(extra, function (extraF, extraName) {\n        return markAsExtraApi(extraF, extraName);\n      });\n      var me = __assign(__assign(__assign({}, wrappedExtra), wrappedApis), {\n        revoke: curry(revokeBehaviour, name),\n        config: function (spec) {\n          var prepared = asRawOrDie$1(name + '-config', configSchema, spec);\n          return {\n            key: name,\n            value: {\n              config: prepared,\n              me: me,\n              configAsRaw: cached(function () {\n                return asRawOrDie$1(name + '-config', configSchema, spec);\n              }),\n              initialConfig: spec,\n              state: state\n            }\n          };\n        },\n        schema: constant$1(schemaSchema),\n        exhibit: function (info, base) {\n          return lift2(getConfig(info), get$e(active, 'exhibit'), function (behaviourInfo, exhibitor) {\n            return exhibitor(base, behaviourInfo.config, behaviourInfo.state);\n          }).getOrThunk(function () {\n            return nu$7({});\n          });\n        },\n        name: constant$1(name),\n        handlers: function (info) {\n          return getConfig(info).map(function (behaviourInfo) {\n            var getEvents = get$e(active, 'events').getOr(function () {\n              return {};\n            });\n            return getEvents(behaviourInfo.config, behaviourInfo.state);\n          }).getOr({});\n        }\n      });\n      return me;\n    };\n\n    var derive$1 = function (capabilities) {\n      return wrapAll(capabilities);\n    };\n    var simpleSchema = objOfOnly([\n      required$1('fields'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    var create$8 = function (data) {\n      var value = asRawOrDie$1('Creating behaviour: ' + data.name, simpleSchema, data);\n      return create$9(value.fields, value.name, value.active, value.apis, value.extra, value.state);\n    };\n    var modeSchema = objOfOnly([\n      required$1('branchKey'),\n      required$1('branches'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    var createModes = function (data) {\n      var value = asRawOrDie$1('Creating behaviour: ' + data.name, modeSchema, data);\n      return createModes$1(choose$1(value.branchKey, value.branches), value.name, value.active, value.apis, value.extra, value.state);\n    };\n    var revoke = constant$1(undefined);\n\n    var Receiving = create$8({\n      fields: ReceivingSchema,\n      name: 'receiving',\n      active: ActiveReceiving\n    });\n\n    var exhibit$6 = function (base, posConfig) {\n      return nu$7({\n        classes: [],\n        styles: posConfig.useFixed() ? {} : { position: 'relative' }\n      });\n    };\n\n    var ActivePosition = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$6\n    });\n\n    var getDocument = function () {\n      return SugarElement.fromDom(document);\n    };\n\n    var focus$3 = function (element) {\n      return element.dom.focus();\n    };\n    var blur$1 = function (element) {\n      return element.dom.blur();\n    };\n    var hasFocus = function (element) {\n      var root = getRootNode(element).dom;\n      return element.dom === root.activeElement;\n    };\n    var active = function (root) {\n      if (root === void 0) {\n        root = getDocument();\n      }\n      return Optional.from(root.dom.activeElement).map(SugarElement.fromDom);\n    };\n    var search = function (element) {\n      return active(getRootNode(element)).filter(function (e) {\n        return element.dom.contains(e.dom);\n      });\n    };\n\n    var preserve$1 = function (f, container) {\n      var dos = getRootNode(container);\n      var refocus = active(dos).bind(function (focused) {\n        var hasFocus = function (elem) {\n          return eq(focused, elem);\n        };\n        return hasFocus(container) ? Optional.some(container) : descendant$1(container, hasFocus);\n      });\n      var result = f(container);\n      refocus.each(function (oldFocus) {\n        active(dos).filter(function (newFocus) {\n          return eq(newFocus, oldFocus);\n        }).fold(function () {\n          focus$3(oldFocus);\n        }, noop);\n      });\n      return result;\n    };\n\n    var NuPositionCss = function (position, left, top, right, bottom) {\n      var toPx = function (num) {\n        return num + 'px';\n      };\n      return {\n        position: position,\n        left: left.map(toPx),\n        top: top.map(toPx),\n        right: right.map(toPx),\n        bottom: bottom.map(toPx)\n      };\n    };\n    var toOptions = function (position) {\n      return __assign(__assign({}, position), { position: Optional.some(position.position) });\n    };\n    var applyPositionCss = function (element, position) {\n      setOptions(element, toOptions(position));\n    };\n\n    var adt$9 = Adt.generate([\n      { none: [] },\n      {\n        relative: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      }\n    ]);\n    var positionWithDirection = function (posName, decision, x, y, width, height) {\n      var decisionRect = decision.rect;\n      var decisionX = decisionRect.x - x;\n      var decisionY = decisionRect.y - y;\n      var decisionWidth = decisionRect.width;\n      var decisionHeight = decisionRect.height;\n      var decisionRight = width - (decisionX + decisionWidth);\n      var decisionBottom = height - (decisionY + decisionHeight);\n      var left = Optional.some(decisionX);\n      var top = Optional.some(decisionY);\n      var right = Optional.some(decisionRight);\n      var bottom = Optional.some(decisionBottom);\n      var none = Optional.none();\n      return cata$2(decision.direction, function () {\n        return NuPositionCss(posName, left, top, none, none);\n      }, function () {\n        return NuPositionCss(posName, none, top, right, none);\n      }, function () {\n        return NuPositionCss(posName, left, none, none, bottom);\n      }, function () {\n        return NuPositionCss(posName, none, none, right, bottom);\n      }, function () {\n        return NuPositionCss(posName, left, top, none, none);\n      }, function () {\n        return NuPositionCss(posName, left, none, none, bottom);\n      }, function () {\n        return NuPositionCss(posName, left, top, none, none);\n      }, function () {\n        return NuPositionCss(posName, none, top, right, none);\n      });\n    };\n    var reposition = function (origin, decision) {\n      return origin.fold(function () {\n        var decisionRect = decision.rect;\n        return NuPositionCss('absolute', Optional.some(decisionRect.x), Optional.some(decisionRect.y), Optional.none(), Optional.none());\n      }, function (x, y, width, height) {\n        return positionWithDirection('absolute', decision, x, y, width, height);\n      }, function (x, y, width, height) {\n        return positionWithDirection('fixed', decision, x, y, width, height);\n      });\n    };\n    var toBox = function (origin, element) {\n      var rel = curry(find$2, element);\n      var position = origin.fold(rel, rel, function () {\n        var scroll = get$9();\n        return find$2(element).translate(-scroll.left, -scroll.top);\n      });\n      var width = getOuter$1(element);\n      var height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    var viewport = function (origin, getBounds) {\n      return getBounds.fold(function () {\n        return origin.fold(win, win, bounds);\n      }, function (b) {\n        return origin.fold(b, b, function () {\n          var bounds$1 = b();\n          var pos = translate$2(origin, bounds$1.x, bounds$1.y);\n          return bounds(pos.left, pos.top, bounds$1.width, bounds$1.height);\n        });\n      });\n    };\n    var translate$2 = function (origin, x, y) {\n      var pos = SugarPosition(x, y);\n      var removeScroll = function () {\n        var outerScroll = get$9();\n        return pos.translate(-outerScroll.left, -outerScroll.top);\n      };\n      return origin.fold(constant$1(pos), constant$1(pos), removeScroll);\n    };\n    var cata$1 = function (subject, onNone, onRelative, onFixed) {\n      return subject.fold(onNone, onRelative, onFixed);\n    };\n    adt$9.none;\n    var relative$1 = adt$9.relative;\n    var fixed$1 = adt$9.fixed;\n\n    var anchor = function (anchorBox, origin) {\n      return {\n        anchorBox: anchorBox,\n        origin: origin\n      };\n    };\n    var box = function (anchorBox, origin) {\n      return anchor(anchorBox, origin);\n    };\n\n    var placementAttribute = 'data-alloy-placement';\n    var setPlacement$1 = function (element, placement) {\n      set$8(element, placementAttribute, placement);\n    };\n    var getPlacement = function (element) {\n      return getOpt(element, placementAttribute);\n    };\n    var reset$2 = function (element) {\n      return remove$7(element, placementAttribute);\n    };\n\n    var adt$8 = Adt.generate([\n      { fit: ['reposition'] },\n      {\n        nofit: [\n          'reposition',\n          'visibleW',\n          'visibleH',\n          'isVisible'\n        ]\n      }\n    ]);\n    var determinePosition = function (box, bounds) {\n      var boundsX = bounds.x, boundsY = bounds.y, boundsRight = bounds.right, boundsBottom = bounds.bottom;\n      var x = box.x, y = box.y, right = box.right, bottom = box.bottom, width = box.width, height = box.height;\n      var xInBounds = x >= boundsX && x <= boundsRight;\n      var yInBounds = y >= boundsY && y <= boundsBottom;\n      var originInBounds = xInBounds && yInBounds;\n      var rightInBounds = right <= boundsRight && right >= boundsX;\n      var bottomInBounds = bottom <= boundsBottom && bottom >= boundsY;\n      var sizeInBounds = rightInBounds && bottomInBounds;\n      var visibleW = Math.min(width, x >= boundsX ? boundsRight - x : right - boundsX);\n      var visibleH = Math.min(height, y >= boundsY ? boundsBottom - y : bottom - boundsY);\n      return {\n        originInBounds: originInBounds,\n        sizeInBounds: sizeInBounds,\n        visibleW: visibleW,\n        visibleH: visibleH\n      };\n    };\n    var calcReposition = function (box, bounds$1) {\n      var boundsX = bounds$1.x, boundsY = bounds$1.y, boundsRight = bounds$1.right, boundsBottom = bounds$1.bottom;\n      var x = box.x, y = box.y, width = box.width, height = box.height;\n      var maxX = Math.max(boundsX, boundsRight - width);\n      var maxY = Math.max(boundsY, boundsBottom - height);\n      var restrictedX = clamp$1(x, boundsX, maxX);\n      var restrictedY = clamp$1(y, boundsY, maxY);\n      var restrictedWidth = Math.min(restrictedX + width, boundsRight) - restrictedX;\n      var restrictedHeight = Math.min(restrictedY + height, boundsBottom) - restrictedY;\n      return bounds(restrictedX, restrictedY, restrictedWidth, restrictedHeight);\n    };\n    var calcMaxSizes = function (direction, box, bounds) {\n      var upAvailable = constant$1(box.bottom - bounds.y);\n      var downAvailable = constant$1(bounds.bottom - box.y);\n      var maxHeight = cataVertical(direction, downAvailable, downAvailable, upAvailable);\n      var westAvailable = constant$1(box.right - bounds.x);\n      var eastAvailable = constant$1(bounds.right - box.x);\n      var maxWidth = cataHorizontal(direction, eastAvailable, eastAvailable, westAvailable);\n      return {\n        maxWidth: maxWidth,\n        maxHeight: maxHeight\n      };\n    };\n    var attempt = function (candidate, width, height, bounds$1) {\n      var bubble = candidate.bubble;\n      var bubbleOffset = bubble.offset;\n      var adjustedBounds = adjustBounds(bounds$1, candidate.restriction, bubbleOffset);\n      var newX = candidate.x + bubbleOffset.left;\n      var newY = candidate.y + bubbleOffset.top;\n      var box = bounds(newX, newY, width, height);\n      var _a = determinePosition(box, adjustedBounds), originInBounds = _a.originInBounds, sizeInBounds = _a.sizeInBounds, visibleW = _a.visibleW, visibleH = _a.visibleH;\n      var fits = originInBounds && sizeInBounds;\n      var fittedBox = fits ? box : calcReposition(box, adjustedBounds);\n      var isPartlyVisible = fittedBox.width > 0 && fittedBox.height > 0;\n      var _b = calcMaxSizes(candidate.direction, fittedBox, bounds$1), maxWidth = _b.maxWidth, maxHeight = _b.maxHeight;\n      var reposition = {\n        rect: fittedBox,\n        maxHeight: maxHeight,\n        maxWidth: maxWidth,\n        direction: candidate.direction,\n        placement: candidate.placement,\n        classes: {\n          on: bubble.classesOn,\n          off: bubble.classesOff\n        },\n        layout: candidate.label,\n        testY: newY\n      };\n      return fits || candidate.alwaysFit ? adt$8.fit(reposition) : adt$8.nofit(reposition, visibleW, visibleH, isPartlyVisible);\n    };\n    var attempts = function (element, candidates, anchorBox, elementBox, bubbles, bounds) {\n      var panelWidth = elementBox.width;\n      var panelHeight = elementBox.height;\n      var attemptBestFit = function (layout, reposition, visibleW, visibleH, isVisible) {\n        var next = layout(anchorBox, elementBox, bubbles, element, bounds);\n        var attemptLayout = attempt(next, panelWidth, panelHeight, bounds);\n        return attemptLayout.fold(constant$1(attemptLayout), function (newReposition, newVisibleW, newVisibleH, newIsVisible) {\n          var improved = isVisible === newIsVisible ? newVisibleH > visibleH || newVisibleW > visibleW : !isVisible && newIsVisible;\n          return improved ? attemptLayout : adt$8.nofit(reposition, visibleW, visibleH, isVisible);\n        });\n      };\n      var abc = foldl(candidates, function (b, a) {\n        var bestNext = curry(attemptBestFit, a);\n        return b.fold(constant$1(b), bestNext);\n      }, adt$8.nofit({\n        rect: anchorBox,\n        maxHeight: elementBox.height,\n        maxWidth: elementBox.width,\n        direction: southeast$3(),\n        placement: 'southeast',\n        classes: {\n          on: [],\n          off: []\n        },\n        layout: 'none',\n        testY: anchorBox.y\n      }, -1, -1, false));\n      return abc.fold(identity$1, identity$1);\n    };\n\n    var singleton = function (doRevoke) {\n      var subject = Cell(Optional.none());\n      var revoke = function () {\n        return subject.get().each(doRevoke);\n      };\n      var clear = function () {\n        revoke();\n        subject.set(Optional.none());\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      var get = function () {\n        return subject.get();\n      };\n      var set = function (s) {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear: clear,\n        isSet: isSet,\n        get: get,\n        set: set\n      };\n    };\n    var destroyable = function () {\n      return singleton(function (s) {\n        return s.destroy();\n      });\n    };\n    var unbindable = function () {\n      return singleton(function (s) {\n        return s.unbind();\n      });\n    };\n    var api$1 = function () {\n      var subject = destroyable();\n      var run = function (f) {\n        return subject.get().each(f);\n      };\n      return __assign(__assign({}, subject), { run: run });\n    };\n    var value$1 = function () {\n      var subject = singleton(noop);\n      var on = function (f) {\n        return subject.get().each(f);\n      };\n      return __assign(__assign({}, subject), { on: on });\n    };\n\n    var filter = always;\n    var bind = function (element, event, handler) {\n      return bind$2(element, event, filter, handler);\n    };\n    var capture = function (element, event, handler) {\n      return capture$1(element, event, filter, handler);\n    };\n    var fromRawEvent = fromRawEvent$1;\n\n    var properties = [\n      'top',\n      'bottom',\n      'right',\n      'left'\n    ];\n    var timerAttr = 'data-alloy-transition-timer';\n    var isTransitioning$1 = function (element, transition) {\n      return hasAll(element, transition.classes);\n    };\n    var shouldApplyTransitionCss = function (transition, decision, lastPlacement) {\n      return lastPlacement.exists(function (placer) {\n        var mode = transition.mode;\n        return mode === 'all' ? true : placer[mode] !== decision[mode];\n      });\n    };\n    var hasChanges = function (position, intermediate) {\n      var round = function (value) {\n        return parseFloat(value).toFixed(3);\n      };\n      return find$4(intermediate, function (value, key) {\n        var newValue = position[key].map(round);\n        var val = value.map(round);\n        return !equals(newValue, val);\n      }).isSome();\n    };\n    var getTransitionDuration = function (element) {\n      var get = function (name) {\n        var style = get$c(element, name);\n        var times = isString(style) ? style.split(/\\s*,\\s*/) : [];\n        return filter$2(times, isNotEmpty);\n      };\n      var parse = function (value) {\n        if (isString(value) && /^[\\d.]+/.test(value)) {\n          var num = parseFloat(value);\n          return endsWith(value, 'ms') ? num : num * 1000;\n        } else {\n          return 0;\n        }\n      };\n      var delay = get('transition-delay');\n      var duration = get('transition-duration');\n      return foldl(duration, function (acc, dur, i) {\n        var time = parse(delay[i]) + parse(dur);\n        return Math.max(acc, time);\n      }, 0);\n    };\n    var setupTransitionListeners = function (element, transition) {\n      var transitionEnd = unbindable();\n      var transitionCancel = unbindable();\n      var timer;\n      var isSourceTransition = function (e) {\n        var _a;\n        var pseudoElement = (_a = e.raw.pseudoElement) !== null && _a !== void 0 ? _a : '';\n        return eq(e.target, element) && isEmpty(pseudoElement) && contains$2(properties, e.raw.propertyName);\n      };\n      var transitionDone = function (e) {\n        if (isNullable(e) || isSourceTransition(e)) {\n          transitionEnd.clear();\n          transitionCancel.clear();\n          var type = e === null || e === void 0 ? void 0 : e.raw.type;\n          if (isNullable(type) || type === transitionend()) {\n            clearTimeout(timer);\n            remove$7(element, timerAttr);\n            remove$1(element, transition.classes);\n          }\n        }\n      };\n      var transitionStarted = function () {\n        transitionEnd.set(bind(element, transitionend(), transitionDone));\n        transitionCancel.set(bind(element, transitioncancel(), transitionDone));\n      };\n      if ('ontransitionstart' in element.dom) {\n        var transitionStart_1 = bind(element, transitionstart(), function (e) {\n          if (isSourceTransition(e)) {\n            transitionStart_1.unbind();\n            transitionStarted();\n          }\n        });\n      } else {\n        transitionStarted();\n      }\n      var duration = getTransitionDuration(element);\n      requestAnimationFrame(function () {\n        timer = setTimeout(transitionDone, duration + 17);\n        set$8(element, timerAttr, timer);\n      });\n    };\n    var startTransitioning = function (element, transition) {\n      add$1(element, transition.classes);\n      getOpt(element, timerAttr).each(function (timerId) {\n        clearTimeout(parseInt(timerId, 10));\n        remove$7(element, timerAttr);\n      });\n      setupTransitionListeners(element, transition);\n    };\n    var applyTransitionCss = function (element, origin, position, transition, decision, lastPlacement) {\n      var shouldTransition = shouldApplyTransitionCss(transition, decision, lastPlacement);\n      if (shouldTransition || isTransitioning$1(element, transition)) {\n        set$7(element, 'position', position.position);\n        var rect = toBox(origin, element);\n        var intermediatePosition_1 = reposition(origin, __assign(__assign({}, decision), { rect: rect }));\n        var intermediateCssOptions = mapToObject(properties, function (prop) {\n          return intermediatePosition_1[prop];\n        });\n        if (hasChanges(position, intermediateCssOptions)) {\n          setOptions(element, intermediateCssOptions);\n          if (shouldTransition) {\n            startTransitioning(element, transition);\n          }\n          reflow(element);\n        }\n      } else {\n        remove$1(element, transition.classes);\n      }\n    };\n\n    var elementSize = function (p) {\n      return {\n        width: getOuter$1(p),\n        height: getOuter$2(p)\n      };\n    };\n    var layout = function (anchorBox, element, bubbles, options) {\n      remove$6(element, 'max-height');\n      remove$6(element, 'max-width');\n      var elementBox = elementSize(element);\n      return attempts(element, options.preference, anchorBox, elementBox, bubbles, options.bounds);\n    };\n    var setClasses = function (element, decision) {\n      var classInfo = decision.classes;\n      remove$1(element, classInfo.off);\n      add$1(element, classInfo.on);\n    };\n    var setHeight = function (element, decision, options) {\n      var maxHeightFunction = options.maxHeightFunction;\n      maxHeightFunction(element, decision.maxHeight);\n    };\n    var setWidth = function (element, decision, options) {\n      var maxWidthFunction = options.maxWidthFunction;\n      maxWidthFunction(element, decision.maxWidth);\n    };\n    var position$2 = function (element, decision, options) {\n      var positionCss = reposition(options.origin, decision);\n      options.transition.each(function (transition) {\n        applyTransitionCss(element, options.origin, positionCss, transition, decision, options.lastPlacement);\n      });\n      applyPositionCss(element, positionCss);\n    };\n    var setPlacement = function (element, decision) {\n      setPlacement$1(element, decision.placement);\n    };\n\n    var setMaxHeight = function (element, maxHeight) {\n      setMax$1(element, Math.floor(maxHeight));\n    };\n    var anchored = constant$1(function (element, available) {\n      setMaxHeight(element, available);\n      setAll(element, {\n        'overflow-x': 'hidden',\n        'overflow-y': 'auto'\n      });\n    });\n    var expandable$1 = constant$1(function (element, available) {\n      setMaxHeight(element, available);\n    });\n\n    var defaultOr = function (options, key, dephault) {\n      return options[key] === undefined ? dephault : options[key];\n    };\n    var simple = function (anchor, element, bubble, layouts, lastPlacement, getBounds, overrideOptions, transition) {\n      var maxHeightFunction = defaultOr(overrideOptions, 'maxHeightFunction', anchored());\n      var maxWidthFunction = defaultOr(overrideOptions, 'maxWidthFunction', noop);\n      var anchorBox = anchor.anchorBox;\n      var origin = anchor.origin;\n      var options = {\n        bounds: viewport(origin, getBounds),\n        origin: origin,\n        preference: layouts,\n        maxHeightFunction: maxHeightFunction,\n        maxWidthFunction: maxWidthFunction,\n        lastPlacement: lastPlacement,\n        transition: transition\n      };\n      return go(anchorBox, element, bubble, options);\n    };\n    var go = function (anchorBox, element, bubble, options) {\n      var decision = layout(anchorBox, element, bubble, options);\n      position$2(element, decision, options);\n      setPlacement(element, decision);\n      setClasses(element, decision);\n      setHeight(element, decision, options);\n      setWidth(element, decision, options);\n      return {\n        layout: decision.layout,\n        placement: decision.placement\n      };\n    };\n\n    var allAlignments = [\n      'valignCentre',\n      'alignLeft',\n      'alignRight',\n      'alignCentre',\n      'top',\n      'bottom',\n      'left',\n      'right',\n      'inset'\n    ];\n    var nu$5 = function (xOffset, yOffset, classes, insetModifier) {\n      if (insetModifier === void 0) {\n        insetModifier = 1;\n      }\n      var insetXOffset = xOffset * insetModifier;\n      var insetYOffset = yOffset * insetModifier;\n      var getClasses = function (prop) {\n        return get$e(classes, prop).getOr([]);\n      };\n      var make = function (xDelta, yDelta, alignmentsOn) {\n        var alignmentsOff = difference(allAlignments, alignmentsOn);\n        return {\n          offset: SugarPosition(xDelta, yDelta),\n          classesOn: bind$3(alignmentsOn, getClasses),\n          classesOff: bind$3(alignmentsOff, getClasses)\n        };\n      };\n      return {\n        southeast: function () {\n          return make(-xOffset, yOffset, [\n            'top',\n            'alignLeft'\n          ]);\n        },\n        southwest: function () {\n          return make(xOffset, yOffset, [\n            'top',\n            'alignRight'\n          ]);\n        },\n        south: function () {\n          return make(-xOffset / 2, yOffset, [\n            'top',\n            'alignCentre'\n          ]);\n        },\n        northeast: function () {\n          return make(-xOffset, -yOffset, [\n            'bottom',\n            'alignLeft'\n          ]);\n        },\n        northwest: function () {\n          return make(xOffset, -yOffset, [\n            'bottom',\n            'alignRight'\n          ]);\n        },\n        north: function () {\n          return make(-xOffset / 2, -yOffset, [\n            'bottom',\n            'alignCentre'\n          ]);\n        },\n        east: function () {\n          return make(xOffset, -yOffset / 2, [\n            'valignCentre',\n            'left'\n          ]);\n        },\n        west: function () {\n          return make(-xOffset, -yOffset / 2, [\n            'valignCentre',\n            'right'\n          ]);\n        },\n        insetNortheast: function () {\n          return make(insetXOffset, insetYOffset, [\n            'top',\n            'alignLeft',\n            'inset'\n          ]);\n        },\n        insetNorthwest: function () {\n          return make(-insetXOffset, insetYOffset, [\n            'top',\n            'alignRight',\n            'inset'\n          ]);\n        },\n        insetNorth: function () {\n          return make(-insetXOffset / 2, insetYOffset, [\n            'top',\n            'alignCentre',\n            'inset'\n          ]);\n        },\n        insetSoutheast: function () {\n          return make(insetXOffset, -insetYOffset, [\n            'bottom',\n            'alignLeft',\n            'inset'\n          ]);\n        },\n        insetSouthwest: function () {\n          return make(-insetXOffset, -insetYOffset, [\n            'bottom',\n            'alignRight',\n            'inset'\n          ]);\n        },\n        insetSouth: function () {\n          return make(-insetXOffset / 2, -insetYOffset, [\n            'bottom',\n            'alignCentre',\n            'inset'\n          ]);\n        },\n        insetEast: function () {\n          return make(-insetXOffset, -insetYOffset / 2, [\n            'valignCentre',\n            'right',\n            'inset'\n          ]);\n        },\n        insetWest: function () {\n          return make(insetXOffset, -insetYOffset / 2, [\n            'valignCentre',\n            'left',\n            'inset'\n          ]);\n        }\n      };\n    };\n    var fallback = function () {\n      return nu$5(0, 0, {});\n    };\n\n    var nu$4 = identity$1;\n\n    var onDirection = function (isLtr, isRtl) {\n      return function (element) {\n        return getDirection(element) === 'rtl' ? isRtl : isLtr;\n      };\n    };\n    var getDirection = function (element) {\n      return get$c(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n    };\n\n    var AttributeValue;\n    (function (AttributeValue) {\n      AttributeValue['TopToBottom'] = 'toptobottom';\n      AttributeValue['BottomToTop'] = 'bottomtotop';\n    }(AttributeValue || (AttributeValue = {})));\n    var Attribute = 'data-alloy-vertical-dir';\n    var isBottomToTopDir = function (el) {\n      return closest$2(el, function (current) {\n        return isElement$2(current) && get$d(current, 'data-alloy-vertical-dir') === AttributeValue.BottomToTop;\n      });\n    };\n\n    var schema$y = function () {\n      return optionObjOf('layouts', [\n        required$1('onLtr'),\n        required$1('onRtl'),\n        option('onBottomLtr'),\n        option('onBottomRtl')\n      ]);\n    };\n    var get$4 = function (elem, info, defaultLtr, defaultRtl, defaultBottomLtr, defaultBottomRtl, dirElement) {\n      var isBottomToTop = dirElement.map(isBottomToTopDir).getOr(false);\n      var customLtr = info.layouts.map(function (ls) {\n        return ls.onLtr(elem);\n      });\n      var customRtl = info.layouts.map(function (ls) {\n        return ls.onRtl(elem);\n      });\n      var ltr = isBottomToTop ? info.layouts.bind(function (ls) {\n        return ls.onBottomLtr.map(function (f) {\n          return f(elem);\n        });\n      }).or(customLtr).getOr(defaultBottomLtr) : customLtr.getOr(defaultLtr);\n      var rtl = isBottomToTop ? info.layouts.bind(function (ls) {\n        return ls.onBottomRtl.map(function (f) {\n          return f(elem);\n        });\n      }).or(customRtl).getOr(defaultBottomRtl) : customRtl.getOr(defaultRtl);\n      var f = onDirection(ltr, rtl);\n      return f(elem);\n    };\n\n    var placement$4 = function (component, anchorInfo, origin) {\n      var hotspot = anchorInfo.hotspot;\n      var anchorBox = toBox(origin, hotspot.element);\n      var layouts = get$4(component.element, anchorInfo, belowOrAbove(), belowOrAboveRtl(), aboveOrBelow(), aboveOrBelowRtl(), Optional.some(anchorInfo.hotspot.element));\n      return Optional.some(nu$4({\n        anchorBox: anchorBox,\n        bubble: anchorInfo.bubble.getOr(fallback()),\n        overrides: anchorInfo.overrides,\n        layouts: layouts,\n        placer: Optional.none()\n      }));\n    };\n    var HotspotAnchor = [\n      required$1('hotspot'),\n      option('bubble'),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$4)\n    ];\n\n    var placement$3 = function (component, anchorInfo, origin) {\n      var pos = translate$2(origin, anchorInfo.x, anchorInfo.y);\n      var anchorBox = bounds(pos.left, pos.top, anchorInfo.width, anchorInfo.height);\n      var layouts = get$4(component.element, anchorInfo, all$1(), allRtl$1(), all$1(), allRtl$1(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox: anchorBox,\n        bubble: anchorInfo.bubble,\n        overrides: anchorInfo.overrides,\n        layouts: layouts,\n        placer: Optional.none()\n      }));\n    };\n    var MakeshiftAnchor = [\n      required$1('x'),\n      required$1('y'),\n      defaulted('height', 0),\n      defaulted('width', 0),\n      defaulted('bubble', fallback()),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$3)\n    ];\n\n    var adt$7 = Adt.generate([\n      { screen: ['point'] },\n      {\n        absolute: [\n          'point',\n          'scrollLeft',\n          'scrollTop'\n        ]\n      }\n    ]);\n    var toFixed = function (pos) {\n      return pos.fold(identity$1, function (point, scrollLeft, scrollTop) {\n        return point.translate(-scrollLeft, -scrollTop);\n      });\n    };\n    var toAbsolute = function (pos) {\n      return pos.fold(identity$1, identity$1);\n    };\n    var sum = function (points) {\n      return foldl(points, function (b, a) {\n        return b.translate(a.left, a.top);\n      }, SugarPosition(0, 0));\n    };\n    var sumAsFixed = function (positions) {\n      var points = map$2(positions, toFixed);\n      return sum(points);\n    };\n    var sumAsAbsolute = function (positions) {\n      var points = map$2(positions, toAbsolute);\n      return sum(points);\n    };\n    var screen = adt$7.screen;\n    var absolute$1 = adt$7.absolute;\n\n    var getOffset = function (component, origin, anchorInfo) {\n      var win = defaultView(anchorInfo.root).dom;\n      var hasSameOwner = function (frame) {\n        var frameOwner = owner$4(frame);\n        var compOwner = owner$4(component.element);\n        return eq(frameOwner, compOwner);\n      };\n      return Optional.from(win.frameElement).map(SugarElement.fromDom).filter(hasSameOwner).map(absolute$3);\n    };\n    var getRootPoint = function (component, origin, anchorInfo) {\n      var doc = owner$4(component.element);\n      var outerScroll = get$9(doc);\n      var offset = getOffset(component, origin, anchorInfo).getOr(outerScroll);\n      return absolute$1(offset, outerScroll.left, outerScroll.top);\n    };\n\n    var getBox = function (left, top, width, height) {\n      var point = screen(SugarPosition(left, top));\n      return Optional.some(pointed(point, width, height));\n    };\n    var calcNewAnchor = function (optBox, rootPoint, anchorInfo, origin, elem) {\n      return optBox.map(function (box) {\n        var points = [\n          rootPoint,\n          box.point\n        ];\n        var topLeft = cata$1(origin, function () {\n          return sumAsAbsolute(points);\n        }, function () {\n          return sumAsAbsolute(points);\n        }, function () {\n          return sumAsFixed(points);\n        });\n        var anchorBox = rect(topLeft.left, topLeft.top, box.width, box.height);\n        var layoutsLtr = anchorInfo.showAbove ? aboveOrBelow() : belowOrAbove();\n        var layoutsRtl = anchorInfo.showAbove ? aboveOrBelowRtl() : belowOrAboveRtl();\n        var layouts = get$4(elem, anchorInfo, layoutsLtr, layoutsRtl, layoutsLtr, layoutsRtl, Optional.none());\n        return nu$4({\n          anchorBox: anchorBox,\n          bubble: anchorInfo.bubble.getOr(fallback()),\n          overrides: anchorInfo.overrides,\n          layouts: layouts,\n          placer: Optional.none()\n        });\n      });\n    };\n\n    var placement$2 = function (component, anchorInfo, origin) {\n      var rootPoint = getRootPoint(component, origin, anchorInfo);\n      return anchorInfo.node.filter(inBody).bind(function (target) {\n        var rect = target.dom.getBoundingClientRect();\n        var nodeBox = getBox(rect.left, rect.top, rect.width, rect.height);\n        var elem = anchorInfo.node.getOr(component.element);\n        return calcNewAnchor(nodeBox, rootPoint, anchorInfo, origin, elem);\n      });\n    };\n    var NodeAnchor = [\n      required$1('node'),\n      required$1('root'),\n      option('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$2)\n    ];\n\n    var zeroWidth = '\\uFEFF';\n    var nbsp = '\\xA0';\n\n    var create$7 = function (start, soffset, finish, foffset) {\n      return {\n        start: start,\n        soffset: soffset,\n        finish: finish,\n        foffset: foffset\n      };\n    };\n    var SimRange = { create: create$7 };\n\n    var adt$6 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    var cata = function (subject, onBefore, onOn, onAfter) {\n      return subject.fold(onBefore, onOn, onAfter);\n    };\n    var getStart$1 = function (situ) {\n      return situ.fold(identity$1, identity$1, identity$1);\n    };\n    var before = adt$6.before;\n    var on$1 = adt$6.on;\n    var after$1 = adt$6.after;\n    var Situ = {\n      before: before,\n      on: on$1,\n      after: after$1,\n      cata: cata,\n      getStart: getStart$1\n    };\n\n    var adt$5 = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    var exactFromRange = function (simRange) {\n      return adt$5.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    };\n    var getStart = function (selection) {\n      return selection.match({\n        domRange: function (rng) {\n          return SugarElement.fromDom(rng.startContainer);\n        },\n        relative: function (startSitu, _finishSitu) {\n          return Situ.getStart(startSitu);\n        },\n        exact: function (start, _soffset, _finish, _foffset) {\n          return start;\n        }\n      });\n    };\n    var domRange = adt$5.domRange;\n    var relative = adt$5.relative;\n    var exact = adt$5.exact;\n    var getWin = function (selection) {\n      var start = getStart(selection);\n      return defaultView(start);\n    };\n    var range$1 = SimRange.create;\n    var SimSelection = {\n      domRange: domRange,\n      relative: relative,\n      exact: exact,\n      exactFromRange: exactFromRange,\n      getWin: getWin,\n      range: range$1\n    };\n\n    var setStart = function (rng, situ) {\n      situ.fold(function (e) {\n        rng.setStartBefore(e.dom);\n      }, function (e, o) {\n        rng.setStart(e.dom, o);\n      }, function (e) {\n        rng.setStartAfter(e.dom);\n      });\n    };\n    var setFinish = function (rng, situ) {\n      situ.fold(function (e) {\n        rng.setEndBefore(e.dom);\n      }, function (e, o) {\n        rng.setEnd(e.dom, o);\n      }, function (e) {\n        rng.setEndAfter(e.dom);\n      });\n    };\n    var relativeToNative = function (win, startSitu, finishSitu) {\n      var range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    var exactToNative = function (win, start, soffset, finish, foffset) {\n      var rng = win.document.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    var toRect = function (rect) {\n      return {\n        left: rect.left,\n        top: rect.top,\n        right: rect.right,\n        bottom: rect.bottom,\n        width: rect.width,\n        height: rect.height\n      };\n    };\n    var getFirstRect$1 = function (rng) {\n      var rects = rng.getClientRects();\n      var rect = rects.length > 0 ? rects[0] : rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n    var getBounds$2 = function (rng) {\n      var rect = rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n\n    var adt$4 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    var fromRange = function (win, type, range) {\n      return type(SugarElement.fromDom(range.startContainer), range.startOffset, SugarElement.fromDom(range.endContainer), range.endOffset);\n    };\n    var getRanges = function (win, selection) {\n      return selection.match({\n        domRange: function (rng) {\n          return {\n            ltr: constant$1(rng),\n            rtl: Optional.none\n          };\n        },\n        relative: function (startSitu, finishSitu) {\n          return {\n            ltr: cached(function () {\n              return relativeToNative(win, startSitu, finishSitu);\n            }),\n            rtl: cached(function () {\n              return Optional.some(relativeToNative(win, finishSitu, startSitu));\n            })\n          };\n        },\n        exact: function (start, soffset, finish, foffset) {\n          return {\n            ltr: cached(function () {\n              return exactToNative(win, start, soffset, finish, foffset);\n            }),\n            rtl: cached(function () {\n              return Optional.some(exactToNative(win, finish, foffset, start, soffset));\n            })\n          };\n        }\n      });\n    };\n    var doDiagnose = function (win, ranges) {\n      var rng = ranges.ltr();\n      if (rng.collapsed) {\n        var reversed = ranges.rtl().filter(function (rev) {\n          return rev.collapsed === false;\n        });\n        return reversed.map(function (rev) {\n          return adt$4.rtl(SugarElement.fromDom(rev.endContainer), rev.endOffset, SugarElement.fromDom(rev.startContainer), rev.startOffset);\n        }).getOrThunk(function () {\n          return fromRange(win, adt$4.ltr, rng);\n        });\n      } else {\n        return fromRange(win, adt$4.ltr, rng);\n      }\n    };\n    var diagnose = function (win, selection) {\n      var ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    var asLtrRange = function (win, selection) {\n      var diagnosis = diagnose(win, selection);\n      return diagnosis.match({\n        ltr: function (start, soffset, finish, foffset) {\n          var rng = win.document.createRange();\n          rng.setStart(start.dom, soffset);\n          rng.setEnd(finish.dom, foffset);\n          return rng;\n        },\n        rtl: function (start, soffset, finish, foffset) {\n          var rng = win.document.createRange();\n          rng.setStart(finish.dom, foffset);\n          rng.setEnd(start.dom, soffset);\n          return rng;\n        }\n      });\n    };\n    adt$4.ltr;\n    adt$4.rtl;\n\n    var NodeValue = function (is, name) {\n      var get = function (element) {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      var getOption = function (element) {\n        return is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      };\n      var set = function (element, value) {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get: get,\n        getOption: getOption,\n        set: set\n      };\n    };\n\n    var api = NodeValue(isText$1, 'text');\n    var get$3 = function (element) {\n      return api.get(element);\n    };\n    var getOption = function (element) {\n      return api.getOption(element);\n    };\n\n    var getEnd = function (element) {\n      return name$2(element) === 'img' ? 1 : getOption(element).fold(function () {\n        return children(element).length;\n      }, function (v) {\n        return v.length;\n      });\n    };\n    var isTextNodeWithCursorPosition = function (el) {\n      return getOption(el).filter(function (text) {\n        return text.trim().length !== 0 || text.indexOf(nbsp) > -1;\n      }).isSome();\n    };\n    var elementsWithCursorPosition = [\n      'img',\n      'br'\n    ];\n    var isCursorPosition = function (elem) {\n      var hasCursorPosition = isTextNodeWithCursorPosition(elem);\n      return hasCursorPosition || contains$2(elementsWithCursorPosition, name$2(elem));\n    };\n\n    var last$1 = function (element) {\n      return descendantRtl(element, isCursorPosition);\n    };\n    var descendantRtl = function (scope, predicate) {\n      var descend = function (element) {\n        var children$1 = children(element);\n        for (var i = children$1.length - 1; i >= 0; i--) {\n          var child = children$1[i];\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          var res = descend(child);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope);\n    };\n\n    var descendants = function (scope, selector) {\n      return all$3(selector, scope);\n    };\n\n    var makeRange = function (start, soffset, finish, foffset) {\n      var doc = owner$4(start);\n      var rng = doc.dom.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    var after = function (start, soffset, finish, foffset) {\n      var r = makeRange(start, soffset, finish, foffset);\n      var same = eq(start, finish) && soffset === foffset;\n      return r.collapsed && !same;\n    };\n\n    var getNativeSelection = function (win) {\n      return Optional.from(win.getSelection());\n    };\n    var readRange = function (selection) {\n      if (selection.rangeCount > 0) {\n        var firstRng = selection.getRangeAt(0);\n        var lastRng = selection.getRangeAt(selection.rangeCount - 1);\n        return Optional.some(SimRange.create(SugarElement.fromDom(firstRng.startContainer), firstRng.startOffset, SugarElement.fromDom(lastRng.endContainer), lastRng.endOffset));\n      } else {\n        return Optional.none();\n      }\n    };\n    var doGetExact = function (selection) {\n      if (selection.anchorNode === null || selection.focusNode === null) {\n        return readRange(selection);\n      } else {\n        var anchor = SugarElement.fromDom(selection.anchorNode);\n        var focus_1 = SugarElement.fromDom(selection.focusNode);\n        return after(anchor, selection.anchorOffset, focus_1, selection.focusOffset) ? Optional.some(SimRange.create(anchor, selection.anchorOffset, focus_1, selection.focusOffset)) : readRange(selection);\n      }\n    };\n    var getExact = function (win) {\n      return getNativeSelection(win).filter(function (sel) {\n        return sel.rangeCount > 0;\n      }).bind(doGetExact);\n    };\n    var getFirstRect = function (win, selection) {\n      var rng = asLtrRange(win, selection);\n      return getFirstRect$1(rng);\n    };\n    var getBounds$1 = function (win, selection) {\n      var rng = asLtrRange(win, selection);\n      return getBounds$2(rng);\n    };\n\n    var point$1 = function (element, offset) {\n      return {\n        element: element,\n        offset: offset\n      };\n    };\n    var descendOnce$1 = function (element, offset) {\n      var children$1 = children(element);\n      if (children$1.length === 0) {\n        return point$1(element, offset);\n      } else if (offset < children$1.length) {\n        return point$1(children$1[offset], 0);\n      } else {\n        var last = children$1[children$1.length - 1];\n        var len = isText$1(last) ? get$3(last).length : children(last).length;\n        return point$1(last, len);\n      }\n    };\n\n    var descendOnce = function (element, offset) {\n      return isText$1(element) ? point$1(element, offset) : descendOnce$1(element, offset);\n    };\n    var getAnchorSelection = function (win, anchorInfo) {\n      var getSelection = anchorInfo.getSelection.getOrThunk(function () {\n        return function () {\n          return getExact(win);\n        };\n      });\n      return getSelection().map(function (sel) {\n        var modStart = descendOnce(sel.start, sel.soffset);\n        var modFinish = descendOnce(sel.finish, sel.foffset);\n        return SimSelection.range(modStart.element, modStart.offset, modFinish.element, modFinish.offset);\n      });\n    };\n    var placement$1 = function (component, anchorInfo, origin) {\n      var win = defaultView(anchorInfo.root).dom;\n      var rootPoint = getRootPoint(component, origin, anchorInfo);\n      var selectionBox = getAnchorSelection(win, anchorInfo).bind(function (sel) {\n        var optRect = getBounds$1(win, SimSelection.exactFromRange(sel)).orThunk(function () {\n          var x = SugarElement.fromText(zeroWidth);\n          before$2(sel.start, x);\n          var rect = getFirstRect(win, SimSelection.exact(x, 0, x, 1));\n          remove$5(x);\n          return rect;\n        });\n        return optRect.bind(function (rawRect) {\n          return getBox(rawRect.left, rawRect.top, rawRect.width, rawRect.height);\n        });\n      });\n      var targetElement = getAnchorSelection(win, anchorInfo).bind(function (sel) {\n        return isElement$2(sel.start) ? Optional.some(sel.start) : parentNode(sel.start);\n      });\n      var elem = targetElement.getOr(component.element);\n      return calcNewAnchor(selectionBox, rootPoint, anchorInfo, origin, elem);\n    };\n    var SelectionAnchor = [\n      option('getSelection'),\n      required$1('root'),\n      option('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$1)\n    ];\n\n    var labelPrefix$1 = 'link-layout';\n    var eastX = function (anchor) {\n      return anchor.x + anchor.width;\n    };\n    var westX = function (anchor, element) {\n      return anchor.x - element.width;\n    };\n    var northY$1 = function (anchor, element) {\n      return anchor.y - element.height + anchor.height;\n    };\n    var southY$1 = function (anchor) {\n      return anchor.y;\n    };\n    var southeast$1 = function (anchor, element, bubbles) {\n      return nu$6(eastX(anchor), southY$1(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n        left: 0,\n        top: 2\n      }), labelPrefix$1);\n    };\n    var southwest$1 = function (anchor, element, bubbles) {\n      return nu$6(westX(anchor, element), southY$1(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n        right: 1,\n        top: 2\n      }), labelPrefix$1);\n    };\n    var northeast$1 = function (anchor, element, bubbles) {\n      return nu$6(eastX(anchor), northY$1(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n        left: 0,\n        bottom: 3\n      }), labelPrefix$1);\n    };\n    var northwest$1 = function (anchor, element, bubbles) {\n      return nu$6(westX(anchor, element), northY$1(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n        right: 1,\n        bottom: 3\n      }), labelPrefix$1);\n    };\n    var all = function () {\n      return [\n        southeast$1,\n        southwest$1,\n        northeast$1,\n        northwest$1\n      ];\n    };\n    var allRtl = function () {\n      return [\n        southwest$1,\n        southeast$1,\n        northwest$1,\n        northeast$1\n      ];\n    };\n\n    var placement = function (component, submenuInfo, origin) {\n      var anchorBox = toBox(origin, submenuInfo.item.element);\n      var layouts = get$4(component.element, submenuInfo, all(), allRtl(), all(), allRtl(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox: anchorBox,\n        bubble: fallback(),\n        overrides: submenuInfo.overrides,\n        layouts: layouts,\n        placer: Optional.none()\n      }));\n    };\n    var SubmenuAnchor = [\n      required$1('item'),\n      schema$y(),\n      defaulted('overrides', {}),\n      output$1('placement', placement)\n    ];\n\n    var AnchorSchema = choose$1('type', {\n      selection: SelectionAnchor,\n      node: NodeAnchor,\n      hotspot: HotspotAnchor,\n      submenu: SubmenuAnchor,\n      makeshift: MakeshiftAnchor\n    });\n\n    var TransitionSchema = [\n      requiredArrayOf('classes', string),\n      defaultedStringEnum('mode', 'all', [\n        'all',\n        'layout',\n        'placement'\n      ])\n    ];\n    var PositionSchema = [\n      defaulted('useFixed', never),\n      option('getBounds')\n    ];\n    var PlacementSchema = [\n      requiredOf('anchor', AnchorSchema),\n      optionObjOf('transition', TransitionSchema)\n    ];\n\n    var getFixedOrigin = function () {\n      var html = document.documentElement;\n      return fixed$1(0, 0, html.clientWidth, html.clientHeight);\n    };\n    var getRelativeOrigin = function (component) {\n      var position = absolute$3(component.element);\n      var bounds = component.element.dom.getBoundingClientRect();\n      return relative$1(position.left, position.top, bounds.width, bounds.height);\n    };\n    var place = function (component, origin, anchoring, getBounds, placee, lastPlace, transition) {\n      var anchor = box(anchoring.anchorBox, origin);\n      return simple(anchor, placee.element, anchoring.bubble, anchoring.layouts, lastPlace, getBounds, anchoring.overrides, transition);\n    };\n    var position$1 = function (component, posConfig, posState, placee, placementSpec) {\n      positionWithin(component, posConfig, posState, placee, placementSpec, Optional.none());\n    };\n    var positionWithin = function (component, posConfig, posState, placee, placementSpec, boxElement) {\n      var boundsBox = boxElement.map(box$1);\n      return positionWithinBounds(component, posConfig, posState, placee, placementSpec, boundsBox);\n    };\n    var positionWithinBounds = function (component, posConfig, posState, placee, placementSpec, bounds) {\n      var placeeDetail = asRawOrDie$1('placement.info', objOf(PlacementSchema), placementSpec);\n      var anchorage = placeeDetail.anchor;\n      var element = placee.element;\n      var placeeState = posState.get(placee.uid);\n      preserve$1(function () {\n        set$7(element, 'position', 'fixed');\n        var oldVisibility = getRaw(element, 'visibility');\n        set$7(element, 'visibility', 'hidden');\n        var origin = posConfig.useFixed() ? getFixedOrigin() : getRelativeOrigin(component);\n        var placer = anchorage.placement;\n        var getBounds = bounds.map(constant$1).or(posConfig.getBounds);\n        placer(component, anchorage, origin).each(function (anchoring) {\n          var doPlace = anchoring.placer.getOr(place);\n          var newState = doPlace(component, origin, anchoring, getBounds, placee, placeeState, placeeDetail.transition);\n          posState.set(placee.uid, newState);\n        });\n        oldVisibility.fold(function () {\n          remove$6(element, 'visibility');\n        }, function (vis) {\n          set$7(element, 'visibility', vis);\n        });\n        if (getRaw(element, 'left').isNone() && getRaw(element, 'top').isNone() && getRaw(element, 'right').isNone() && getRaw(element, 'bottom').isNone() && is$1(getRaw(element, 'position'), 'fixed')) {\n          remove$6(element, 'position');\n        }\n      }, element);\n    };\n    var getMode = function (component, pConfig, _pState) {\n      return pConfig.useFixed() ? 'fixed' : 'absolute';\n    };\n    var reset$1 = function (component, pConfig, posState, placee) {\n      var element = placee.element;\n      each$1([\n        'position',\n        'left',\n        'right',\n        'top',\n        'bottom'\n      ], function (prop) {\n        return remove$6(element, prop);\n      });\n      reset$2(element);\n      posState.clear(placee.uid);\n    };\n\n    var PositionApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        position: position$1,\n        positionWithin: positionWithin,\n        positionWithinBounds: positionWithinBounds,\n        getMode: getMode,\n        reset: reset$1\n    });\n\n    var init$g = function () {\n      var state = {};\n      var set = function (id, data) {\n        state[id] = data;\n      };\n      var get = function (id) {\n        return get$e(state, id);\n      };\n      var clear = function (id) {\n        if (isNonNullable(id)) {\n          delete state[id];\n        } else {\n          state = {};\n        }\n      };\n      return nu$8({\n        readState: function () {\n          return state;\n        },\n        clear: clear,\n        set: set,\n        get: get\n      });\n    };\n\n    var PositioningState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$g\n    });\n\n    var Positioning = create$8({\n      fields: PositionSchema,\n      name: 'positioning',\n      active: ActivePosition,\n      apis: PositionApis,\n      state: PositioningState\n    });\n\n    var fireDetaching = function (component) {\n      emit(component, detachedFromDom());\n      var children = component.components();\n      each$1(children, fireDetaching);\n    };\n    var fireAttaching = function (component) {\n      var children = component.components();\n      each$1(children, fireAttaching);\n      emit(component, attachedToDom());\n    };\n    var attach$1 = function (parent, child) {\n      append$2(parent.element, child.element);\n    };\n    var detachChildren$1 = function (component) {\n      each$1(component.components(), function (childComp) {\n        return remove$5(childComp.element);\n      });\n      empty(component.element);\n      component.syncComponents();\n    };\n    var replaceChildren = function (component, newChildren) {\n      var subs = component.components();\n      detachChildren$1(component);\n      var deleted = difference(subs, newChildren);\n      each$1(deleted, function (comp) {\n        fireDetaching(comp);\n        component.getSystem().removeFromWorld(comp);\n      });\n      each$1(newChildren, function (childComp) {\n        if (!childComp.getSystem().isConnected()) {\n          component.getSystem().addToWorld(childComp);\n          attach$1(component, childComp);\n          if (inBody(component.element)) {\n            fireAttaching(childComp);\n          }\n        } else {\n          attach$1(component, childComp);\n        }\n        component.syncComponents();\n      });\n    };\n\n    var attach = function (parent, child) {\n      attachWith(parent, child, append$2);\n    };\n    var attachWith = function (parent, child, insertion) {\n      parent.getSystem().addToWorld(child);\n      insertion(parent.element, child.element);\n      if (inBody(parent.element)) {\n        fireAttaching(child);\n      }\n      parent.syncComponents();\n    };\n    var doDetach = function (component) {\n      fireDetaching(component);\n      remove$5(component.element);\n      component.getSystem().removeFromWorld(component);\n    };\n    var detach = function (component) {\n      var parent$1 = parent(component.element).bind(function (p) {\n        return component.getSystem().getByDom(p).toOptional();\n      });\n      doDetach(component);\n      parent$1.each(function (p) {\n        p.syncComponents();\n      });\n    };\n    var detachChildren = function (component) {\n      var subs = component.components();\n      each$1(subs, doDetach);\n      empty(component.element);\n      component.syncComponents();\n    };\n    var attachSystem = function (element, guiSystem) {\n      attachSystemWith(element, guiSystem, append$2);\n    };\n    var attachSystemAfter = function (element, guiSystem) {\n      attachSystemWith(element, guiSystem, after$2);\n    };\n    var attachSystemWith = function (element, guiSystem, inserter) {\n      inserter(element, guiSystem.element);\n      var children$1 = children(guiSystem.element);\n      each$1(children$1, function (child) {\n        guiSystem.getByDom(child).each(fireAttaching);\n      });\n    };\n    var detachSystem = function (guiSystem) {\n      var children$1 = children(guiSystem.element);\n      each$1(children$1, function (child) {\n        guiSystem.getByDom(child).each(fireDetaching);\n      });\n      remove$5(guiSystem.element);\n    };\n\n    var rebuild = function (sandbox, sConfig, sState, data) {\n      sState.get().each(function (_data) {\n        detachChildren(sandbox);\n      });\n      var point = sConfig.getAttachPoint(sandbox);\n      attach(point, sandbox);\n      var built = sandbox.getSystem().build(data);\n      attach(sandbox, built);\n      sState.set(built);\n      return built;\n    };\n    var open$1 = function (sandbox, sConfig, sState, data) {\n      var newState = rebuild(sandbox, sConfig, sState, data);\n      sConfig.onOpen(sandbox, newState);\n      return newState;\n    };\n    var setContent = function (sandbox, sConfig, sState, data) {\n      return sState.get().map(function () {\n        return rebuild(sandbox, sConfig, sState, data);\n      });\n    };\n    var openWhileCloaked = function (sandbox, sConfig, sState, data, transaction) {\n      cloak(sandbox, sConfig);\n      open$1(sandbox, sConfig, sState, data);\n      transaction();\n      decloak(sandbox, sConfig);\n    };\n    var close$1 = function (sandbox, sConfig, sState) {\n      sState.get().each(function (data) {\n        detachChildren(sandbox);\n        detach(sandbox);\n        sConfig.onClose(sandbox, data);\n        sState.clear();\n      });\n    };\n    var isOpen$1 = function (_sandbox, _sConfig, sState) {\n      return sState.isOpen();\n    };\n    var isPartOf = function (sandbox, sConfig, sState, queryElem) {\n      return isOpen$1(sandbox, sConfig, sState) && sState.get().exists(function (data) {\n        return sConfig.isPartOf(sandbox, data, queryElem);\n      });\n    };\n    var getState$2 = function (_sandbox, _sConfig, sState) {\n      return sState.get();\n    };\n    var store = function (sandbox, cssKey, attr, newValue) {\n      getRaw(sandbox.element, cssKey).fold(function () {\n        remove$7(sandbox.element, attr);\n      }, function (v) {\n        set$8(sandbox.element, attr, v);\n      });\n      set$7(sandbox.element, cssKey, newValue);\n    };\n    var restore = function (sandbox, cssKey, attr) {\n      getOpt(sandbox.element, attr).fold(function () {\n        return remove$6(sandbox.element, cssKey);\n      }, function (oldValue) {\n        return set$7(sandbox.element, cssKey, oldValue);\n      });\n    };\n    var cloak = function (sandbox, sConfig, _sState) {\n      var sink = sConfig.getAttachPoint(sandbox);\n      set$7(sandbox.element, 'position', Positioning.getMode(sink));\n      store(sandbox, 'visibility', sConfig.cloakVisibilityAttr, 'hidden');\n    };\n    var hasPosition = function (element) {\n      return exists([\n        'top',\n        'left',\n        'right',\n        'bottom'\n      ], function (pos) {\n        return getRaw(element, pos).isSome();\n      });\n    };\n    var decloak = function (sandbox, sConfig, _sState) {\n      if (!hasPosition(sandbox.element)) {\n        remove$6(sandbox.element, 'position');\n      }\n      restore(sandbox, 'visibility', sConfig.cloakVisibilityAttr);\n    };\n\n    var SandboxApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        cloak: cloak,\n        decloak: decloak,\n        open: open$1,\n        openWhileCloaked: openWhileCloaked,\n        close: close$1,\n        isOpen: isOpen$1,\n        isPartOf: isPartOf,\n        getState: getState$2,\n        setContent: setContent\n    });\n\n    var events$g = function (sandboxConfig, sandboxState) {\n      return derive$2([run$1(sandboxClose(), function (sandbox, _simulatedEvent) {\n          close$1(sandbox, sandboxConfig, sandboxState);\n        })]);\n    };\n\n    var ActiveSandbox = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$g\n    });\n\n    var SandboxSchema = [\n      onHandler('onOpen'),\n      onHandler('onClose'),\n      required$1('isPartOf'),\n      required$1('getAttachPoint'),\n      defaulted('cloakVisibilityAttr', 'data-precloak-visibility')\n    ];\n\n    var init$f = function () {\n      var contents = value$1();\n      var readState = constant$1('not-implemented');\n      return nu$8({\n        readState: readState,\n        isOpen: contents.isSet,\n        clear: contents.clear,\n        set: contents.set,\n        get: contents.get\n      });\n    };\n\n    var SandboxState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$f\n    });\n\n    var Sandboxing = create$8({\n      fields: SandboxSchema,\n      name: 'sandboxing',\n      active: ActiveSandbox,\n      apis: SandboxApis,\n      state: SandboxState\n    });\n\n    var dismissPopups = constant$1('dismiss.popups');\n    var repositionPopups = constant$1('reposition.popups');\n    var mouseReleased = constant$1('mouse.released');\n\n    var schema$x = objOfOnly([\n      defaulted('isExtraPart', never),\n      optionObjOf('fireEventInstead', [defaulted('event', dismissRequested())])\n    ]);\n    var receivingChannel$1 = function (rawSpec) {\n      var _a;\n      var detail = asRawOrDie$1('Dismissal', schema$x, rawSpec);\n      return _a = {}, _a[dismissPopups()] = {\n        schema: objOfOnly([required$1('target')]),\n        onReceive: function (sandbox, data) {\n          if (Sandboxing.isOpen(sandbox)) {\n            var isPart = Sandboxing.isPartOf(sandbox, data.target) || detail.isExtraPart(sandbox, data.target);\n            if (!isPart) {\n              detail.fireEventInstead.fold(function () {\n                return Sandboxing.close(sandbox);\n              }, function (fe) {\n                return emit(sandbox, fe.event);\n              });\n            }\n          }\n        }\n      }, _a;\n    };\n\n    var schema$w = objOfOnly([\n      optionObjOf('fireEventInstead', [defaulted('event', repositionRequested())]),\n      requiredFunction('doReposition')\n    ]);\n    var receivingChannel = function (rawSpec) {\n      var _a;\n      var detail = asRawOrDie$1('Reposition', schema$w, rawSpec);\n      return _a = {}, _a[repositionPopups()] = {\n        onReceive: function (sandbox) {\n          if (Sandboxing.isOpen(sandbox)) {\n            detail.fireEventInstead.fold(function () {\n              return detail.doReposition(sandbox);\n            }, function (fe) {\n              return emit(sandbox, fe.event);\n            });\n          }\n        }\n      }, _a;\n    };\n\n    var onLoad$5 = function (component, repConfig, repState) {\n      repConfig.store.manager.onLoad(component, repConfig, repState);\n    };\n    var onUnload$2 = function (component, repConfig, repState) {\n      repConfig.store.manager.onUnload(component, repConfig, repState);\n    };\n    var setValue$3 = function (component, repConfig, repState, data) {\n      repConfig.store.manager.setValue(component, repConfig, repState, data);\n    };\n    var getValue$3 = function (component, repConfig, repState) {\n      return repConfig.store.manager.getValue(component, repConfig, repState);\n    };\n    var getState$1 = function (component, repConfig, repState) {\n      return repState;\n    };\n\n    var RepresentApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad$5,\n        onUnload: onUnload$2,\n        setValue: setValue$3,\n        getValue: getValue$3,\n        getState: getState$1\n    });\n\n    var events$f = function (repConfig, repState) {\n      var es = repConfig.resetOnDom ? [\n        runOnAttached(function (comp, _se) {\n          onLoad$5(comp, repConfig, repState);\n        }),\n        runOnDetached(function (comp, _se) {\n          onUnload$2(comp, repConfig, repState);\n        })\n      ] : [loadEvent(repConfig, repState, onLoad$5)];\n      return derive$2(es);\n    };\n\n    var ActiveRepresenting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$f\n    });\n\n    var memory$1 = function () {\n      var data = Cell(null);\n      var readState = function () {\n        return {\n          mode: 'memory',\n          value: data.get()\n        };\n      };\n      var isNotSet = function () {\n        return data.get() === null;\n      };\n      var clear = function () {\n        data.set(null);\n      };\n      return nu$8({\n        set: data.set,\n        get: data.get,\n        isNotSet: isNotSet,\n        clear: clear,\n        readState: readState\n      });\n    };\n    var manual = function () {\n      var readState = noop;\n      return nu$8({ readState: readState });\n    };\n    var dataset = function () {\n      var dataByValue = Cell({});\n      var dataByText = Cell({});\n      var readState = function () {\n        return {\n          mode: 'dataset',\n          dataByValue: dataByValue.get(),\n          dataByText: dataByText.get()\n        };\n      };\n      var clear = function () {\n        dataByValue.set({});\n        dataByText.set({});\n      };\n      var lookup = function (itemString) {\n        return get$e(dataByValue.get(), itemString).orThunk(function () {\n          return get$e(dataByText.get(), itemString);\n        });\n      };\n      var update = function (items) {\n        var currentDataByValue = dataByValue.get();\n        var currentDataByText = dataByText.get();\n        var newDataByValue = {};\n        var newDataByText = {};\n        each$1(items, function (item) {\n          newDataByValue[item.value] = item;\n          get$e(item, 'meta').each(function (meta) {\n            get$e(meta, 'text').each(function (text) {\n              newDataByText[text] = item;\n            });\n          });\n        });\n        dataByValue.set(__assign(__assign({}, currentDataByValue), newDataByValue));\n        dataByText.set(__assign(__assign({}, currentDataByText), newDataByText));\n      };\n      return nu$8({\n        readState: readState,\n        lookup: lookup,\n        update: update,\n        clear: clear\n      });\n    };\n    var init$e = function (spec) {\n      return spec.store.manager.state(spec);\n    };\n\n    var RepresentState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        memory: memory$1,\n        dataset: dataset,\n        manual: manual,\n        init: init$e\n    });\n\n    var setValue$2 = function (component, repConfig, repState, data) {\n      var store = repConfig.store;\n      repState.update([data]);\n      store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    var getValue$2 = function (component, repConfig, repState) {\n      var store = repConfig.store;\n      var key = store.getDataKey(component);\n      return repState.lookup(key).getOrThunk(function () {\n        return store.getFallbackEntry(key);\n      });\n    };\n    var onLoad$4 = function (component, repConfig, repState) {\n      var store = repConfig.store;\n      store.initialValue.each(function (data) {\n        setValue$2(component, repConfig, repState, data);\n      });\n    };\n    var onUnload$1 = function (component, repConfig, repState) {\n      repState.clear();\n    };\n    var DatasetStore = [\n      option('initialValue'),\n      required$1('getFallbackEntry'),\n      required$1('getDataKey'),\n      required$1('setValue'),\n      output$1('manager', {\n        setValue: setValue$2,\n        getValue: getValue$2,\n        onLoad: onLoad$4,\n        onUnload: onUnload$1,\n        state: dataset\n      })\n    ];\n\n    var getValue$1 = function (component, repConfig, _repState) {\n      return repConfig.store.getValue(component);\n    };\n    var setValue$1 = function (component, repConfig, _repState, data) {\n      repConfig.store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    var onLoad$3 = function (component, repConfig, _repState) {\n      repConfig.store.initialValue.each(function (data) {\n        repConfig.store.setValue(component, data);\n      });\n    };\n    var ManualStore = [\n      required$1('getValue'),\n      defaulted('setValue', noop),\n      option('initialValue'),\n      output$1('manager', {\n        setValue: setValue$1,\n        getValue: getValue$1,\n        onLoad: onLoad$3,\n        onUnload: noop,\n        state: NoState.init\n      })\n    ];\n\n    var setValue = function (component, repConfig, repState, data) {\n      repState.set(data);\n      repConfig.onSetValue(component, data);\n    };\n    var getValue = function (component, repConfig, repState) {\n      return repState.get();\n    };\n    var onLoad$2 = function (component, repConfig, repState) {\n      repConfig.store.initialValue.each(function (initVal) {\n        if (repState.isNotSet()) {\n          repState.set(initVal);\n        }\n      });\n    };\n    var onUnload = function (component, repConfig, repState) {\n      repState.clear();\n    };\n    var MemoryStore = [\n      option('initialValue'),\n      output$1('manager', {\n        setValue: setValue,\n        getValue: getValue,\n        onLoad: onLoad$2,\n        onUnload: onUnload,\n        state: memory$1\n      })\n    ];\n\n    var RepresentSchema = [\n      defaultedOf('store', { mode: 'memory' }, choose$1('mode', {\n        memory: MemoryStore,\n        manual: ManualStore,\n        dataset: DatasetStore\n      })),\n      onHandler('onSetValue'),\n      defaulted('resetOnDom', false)\n    ];\n\n    var Representing = create$8({\n      fields: RepresentSchema,\n      name: 'representing',\n      active: ActiveRepresenting,\n      apis: RepresentApis,\n      extra: {\n        setValueFrom: function (component, source) {\n          var value = Representing.getValue(source);\n          Representing.setValue(component, value);\n        }\n      },\n      state: RepresentState\n    });\n\n    var field = function (name, forbidden) {\n      return defaultedObjOf(name, {}, map$2(forbidden, function (f) {\n        return forbid(f.name(), 'Cannot configure ' + f.name() + ' for ' + name);\n      }).concat([customField('dump', identity$1)]));\n    };\n    var get$2 = function (data) {\n      return data.dump;\n    };\n    var augment = function (data, original) {\n      return __assign(__assign({}, derive$1(original)), data.dump);\n    };\n    var SketchBehaviours = {\n      field: field,\n      augment: augment,\n      get: get$2\n    };\n\n    var _placeholder = 'placeholder';\n    var adt$3 = Adt.generate([\n      {\n        single: [\n          'required',\n          'valueThunk'\n        ]\n      },\n      {\n        multiple: [\n          'required',\n          'valueThunks'\n        ]\n      }\n    ]);\n    var isSubstituted = function (spec) {\n      return has$2(spec, 'uiType');\n    };\n    var subPlaceholder = function (owner, detail, compSpec, placeholders) {\n      if (owner.exists(function (o) {\n          return o !== compSpec.owner;\n        })) {\n        return adt$3.single(true, constant$1(compSpec));\n      }\n      return get$e(placeholders, compSpec.name).fold(function () {\n        throw new Error('Unknown placeholder component: ' + compSpec.name + '\\nKnown: [' + keys(placeholders) + ']\\nNamespace: ' + owner.getOr('none') + '\\nSpec: ' + JSON.stringify(compSpec, null, 2));\n      }, function (newSpec) {\n        return newSpec.replace();\n      });\n    };\n    var scan = function (owner, detail, compSpec, placeholders) {\n      if (isSubstituted(compSpec) && compSpec.uiType === _placeholder) {\n        return subPlaceholder(owner, detail, compSpec, placeholders);\n      } else {\n        return adt$3.single(false, constant$1(compSpec));\n      }\n    };\n    var substitute = function (owner, detail, compSpec, placeholders) {\n      var base = scan(owner, detail, compSpec, placeholders);\n      return base.fold(function (req, valueThunk) {\n        var value = isSubstituted(compSpec) ? valueThunk(detail, compSpec.config, compSpec.validated) : valueThunk(detail);\n        var childSpecs = get$e(value, 'components').getOr([]);\n        var substituted = bind$3(childSpecs, function (c) {\n          return substitute(owner, detail, c, placeholders);\n        });\n        return [__assign(__assign({}, value), { components: substituted })];\n      }, function (req, valuesThunk) {\n        if (isSubstituted(compSpec)) {\n          var values = valuesThunk(detail, compSpec.config, compSpec.validated);\n          var preprocessor = compSpec.validated.preprocess.getOr(identity$1);\n          return preprocessor(values);\n        } else {\n          return valuesThunk(detail);\n        }\n      });\n    };\n    var substituteAll = function (owner, detail, components, placeholders) {\n      return bind$3(components, function (c) {\n        return substitute(owner, detail, c, placeholders);\n      });\n    };\n    var oneReplace = function (label, replacements) {\n      var called = false;\n      var used = function () {\n        return called;\n      };\n      var replace = function () {\n        if (called) {\n          throw new Error('Trying to use the same placeholder more than once: ' + label);\n        }\n        called = true;\n        return replacements;\n      };\n      var required = function () {\n        return replacements.fold(function (req, _) {\n          return req;\n        }, function (req, _) {\n          return req;\n        });\n      };\n      return {\n        name: constant$1(label),\n        required: required,\n        used: used,\n        replace: replace\n      };\n    };\n    var substitutePlaces = function (owner, detail, components, placeholders) {\n      var ps = map$1(placeholders, function (ph, name) {\n        return oneReplace(name, ph);\n      });\n      var outcome = substituteAll(owner, detail, components, ps);\n      each(ps, function (p) {\n        if (p.used() === false && p.required()) {\n          throw new Error('Placeholder: ' + p.name() + ' was not found in components list\\nNamespace: ' + owner.getOr('none') + '\\nComponents: ' + JSON.stringify(detail.components, null, 2));\n        }\n      });\n      return outcome;\n    };\n    var single$2 = adt$3.single;\n    var multiple = adt$3.multiple;\n    var placeholder = constant$1(_placeholder);\n\n    var adt$2 = Adt.generate([\n      { required: ['data'] },\n      { external: ['data'] },\n      { optional: ['data'] },\n      { group: ['data'] }\n    ]);\n    var fFactory = defaulted('factory', { sketch: identity$1 });\n    var fSchema = defaulted('schema', []);\n    var fName = required$1('name');\n    var fPname = field$1('pname', 'pname', defaultedThunk(function (typeSpec) {\n      return '<alloy.' + generate$6(typeSpec.name) + '>';\n    }), anyValue());\n    var fGroupSchema = customField('schema', function () {\n      return [option('preprocess')];\n    });\n    var fDefaults = defaulted('defaults', constant$1({}));\n    var fOverrides = defaulted('overrides', constant$1({}));\n    var requiredSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    var externalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fDefaults,\n      fOverrides\n    ]);\n    var optionalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    var groupSpec = objOf([\n      fFactory,\n      fGroupSchema,\n      fName,\n      required$1('unit'),\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    var asNamedPart = function (part) {\n      return part.fold(Optional.some, Optional.none, Optional.some, Optional.some);\n    };\n    var name$1 = function (part) {\n      var get = function (data) {\n        return data.name;\n      };\n      return part.fold(get, get, get, get);\n    };\n    var asCommon = function (part) {\n      return part.fold(identity$1, identity$1, identity$1, identity$1);\n    };\n    var convert = function (adtConstructor, partSchema) {\n      return function (spec) {\n        var data = asRawOrDie$1('Converting part type', partSchema, spec);\n        return adtConstructor(data);\n      };\n    };\n    var required = convert(adt$2.required, requiredSpec);\n    var external$1 = convert(adt$2.external, externalSpec);\n    var optional = convert(adt$2.optional, optionalSpec);\n    var group = convert(adt$2.group, groupSpec);\n    var original = constant$1('entirety');\n\n    var PartType = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        required: required,\n        external: external$1,\n        optional: optional,\n        group: group,\n        asNamedPart: asNamedPart,\n        name: name$1,\n        asCommon: asCommon,\n        original: original\n    });\n\n    var combine = function (detail, data, partSpec, partValidated) {\n      return deepMerge(data.defaults(detail, partSpec, partValidated), partSpec, { uid: detail.partUids[data.name] }, data.overrides(detail, partSpec, partValidated));\n    };\n    var subs = function (owner, detail, parts) {\n      var internals = {};\n      var externals = {};\n      each$1(parts, function (part) {\n        part.fold(function (data) {\n          internals[data.pname] = single$2(true, function (detail, partSpec, partValidated) {\n            return data.factory.sketch(combine(detail, data, partSpec, partValidated));\n          });\n        }, function (data) {\n          var partSpec = detail.parts[data.name];\n          externals[data.name] = constant$1(data.factory.sketch(combine(detail, data, partSpec[original()]), partSpec));\n        }, function (data) {\n          internals[data.pname] = single$2(false, function (detail, partSpec, partValidated) {\n            return data.factory.sketch(combine(detail, data, partSpec, partValidated));\n          });\n        }, function (data) {\n          internals[data.pname] = multiple(true, function (detail, _partSpec, _partValidated) {\n            var units = detail[data.name];\n            return map$2(units, function (u) {\n              return data.factory.sketch(deepMerge(data.defaults(detail, u, _partValidated), u, data.overrides(detail, u)));\n            });\n          });\n        });\n      });\n      return {\n        internals: constant$1(internals),\n        externals: constant$1(externals)\n      };\n    };\n\n    var generate$3 = function (owner, parts) {\n      var r = {};\n      each$1(parts, function (part) {\n        asNamedPart(part).each(function (np) {\n          var g = doGenerateOne(owner, np.pname);\n          r[np.name] = function (config) {\n            var validated = asRawOrDie$1('Part: ' + np.name + ' in ' + owner, objOf(np.schema), config);\n            return __assign(__assign({}, g), {\n              config: config,\n              validated: validated\n            });\n          };\n        });\n      });\n      return r;\n    };\n    var doGenerateOne = function (owner, pname) {\n      return {\n        uiType: placeholder(),\n        owner: owner,\n        name: pname\n      };\n    };\n    var generateOne$1 = function (owner, pname, config) {\n      return {\n        uiType: placeholder(),\n        owner: owner,\n        name: pname,\n        config: config,\n        validated: {}\n      };\n    };\n    var schemas = function (parts) {\n      return bind$3(parts, function (part) {\n        return part.fold(Optional.none, Optional.some, Optional.none, Optional.none).map(function (data) {\n          return requiredObjOf(data.name, data.schema.concat([snapshot(original())]));\n        }).toArray();\n      });\n    };\n    var names = function (parts) {\n      return map$2(parts, name$1);\n    };\n    var substitutes = function (owner, detail, parts) {\n      return subs(owner, detail, parts);\n    };\n    var components$1 = function (owner, detail, internals) {\n      return substitutePlaces(Optional.some(owner), detail, detail.components, internals);\n    };\n    var getPart = function (component, detail, partKey) {\n      var uid = detail.partUids[partKey];\n      return component.getSystem().getByUid(uid).toOptional();\n    };\n    var getPartOrDie = function (component, detail, partKey) {\n      return getPart(component, detail, partKey).getOrDie('Could not find part: ' + partKey);\n    };\n    var getParts = function (component, detail, partKeys) {\n      var r = {};\n      var uids = detail.partUids;\n      var system = component.getSystem();\n      each$1(partKeys, function (pk) {\n        r[pk] = constant$1(system.getByUid(uids[pk]));\n      });\n      return r;\n    };\n    var getAllParts = function (component, detail) {\n      var system = component.getSystem();\n      return map$1(detail.partUids, function (pUid, _k) {\n        return constant$1(system.getByUid(pUid));\n      });\n    };\n    var getAllPartNames = function (detail) {\n      return keys(detail.partUids);\n    };\n    var getPartsOrDie = function (component, detail, partKeys) {\n      var r = {};\n      var uids = detail.partUids;\n      var system = component.getSystem();\n      each$1(partKeys, function (pk) {\n        r[pk] = constant$1(system.getByUid(uids[pk]).getOrDie());\n      });\n      return r;\n    };\n    var defaultUids = function (baseUid, partTypes) {\n      var partNames = names(partTypes);\n      return wrapAll(map$2(partNames, function (pn) {\n        return {\n          key: pn,\n          value: baseUid + '-' + pn\n        };\n      }));\n    };\n    var defaultUidsSchema = function (partTypes) {\n      return field$1('partUids', 'partUids', mergeWithThunk(function (spec) {\n        return defaultUids(spec.uid, partTypes);\n      }), anyValue());\n    };\n\n    var AlloyParts = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        generate: generate$3,\n        generateOne: generateOne$1,\n        schemas: schemas,\n        names: names,\n        substitutes: substitutes,\n        components: components$1,\n        defaultUids: defaultUids,\n        defaultUidsSchema: defaultUidsSchema,\n        getAllParts: getAllParts,\n        getAllPartNames: getAllPartNames,\n        getPart: getPart,\n        getPartOrDie: getPartOrDie,\n        getParts: getParts,\n        getPartsOrDie: getPartsOrDie\n    });\n\n    var base = function (partSchemas, partUidsSchemas) {\n      var ps = partSchemas.length > 0 ? [requiredObjOf('parts', partSchemas)] : [];\n      return ps.concat([\n        required$1('uid'),\n        defaulted('dom', {}),\n        defaulted('components', []),\n        snapshot('originalSpec'),\n        defaulted('debug.sketcher', {})\n      ]).concat(partUidsSchemas);\n    };\n    var asRawOrDie = function (label, schema, spec, partSchemas, partUidsSchemas) {\n      var baseS = base(partSchemas, partUidsSchemas);\n      return asRawOrDie$1(label + ' [SpecSchema]', objOfOnly(baseS.concat(schema)), spec);\n    };\n\n    var single$1 = function (owner, schema, factory, spec) {\n      var specWithUid = supplyUid(spec);\n      var detail = asRawOrDie(owner, schema, specWithUid, [], []);\n      return factory(detail, specWithUid);\n    };\n    var composite$1 = function (owner, schema, partTypes, factory, spec) {\n      var specWithUid = supplyUid(spec);\n      var partSchemas = schemas(partTypes);\n      var partUidsSchema = defaultUidsSchema(partTypes);\n      var detail = asRawOrDie(owner, schema, specWithUid, partSchemas, [partUidsSchema]);\n      var subs = substitutes(owner, detail, partTypes);\n      var components = components$1(owner, detail, subs.internals());\n      return factory(detail, components, specWithUid, subs.externals());\n    };\n    var hasUid = function (spec) {\n      return has$2(spec, 'uid');\n    };\n    var supplyUid = function (spec) {\n      return hasUid(spec) ? spec : __assign(__assign({}, spec), { uid: generate$5('uid') });\n    };\n\n    var isSketchSpec = function (spec) {\n      return spec.uid !== undefined;\n    };\n    var singleSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    var compositeSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      required$1('partFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    var single = function (rawConfig) {\n      var config = asRawOrDie$1('Sketcher for ' + rawConfig.name, singleSchema, rawConfig);\n      var sketch = function (spec) {\n        return single$1(config.name, config.configFields, config.factory, spec);\n      };\n      var apis = map$1(config.apis, makeApi);\n      var extraApis = map$1(config.extraApis, function (f, k) {\n        return markAsExtraApi(f, k);\n      });\n      return __assign(__assign({\n        name: config.name,\n        configFields: config.configFields,\n        sketch: sketch\n      }, apis), extraApis);\n    };\n    var composite = function (rawConfig) {\n      var config = asRawOrDie$1('Sketcher for ' + rawConfig.name, compositeSchema, rawConfig);\n      var sketch = function (spec) {\n        return composite$1(config.name, config.configFields, config.partFields, config.factory, spec);\n      };\n      var parts = generate$3(config.name, config.partFields);\n      var apis = map$1(config.apis, makeApi);\n      var extraApis = map$1(config.extraApis, function (f, k) {\n        return markAsExtraApi(f, k);\n      });\n      return __assign(__assign({\n        name: config.name,\n        partFields: config.partFields,\n        configFields: config.configFields,\n        sketch: sketch,\n        parts: parts\n      }, apis), extraApis);\n    };\n\n    var inside = function (target) {\n      return name$2(target) === 'input' && get$d(target, 'type') !== 'radio' || name$2(target) === 'textarea';\n    };\n\n    var getCurrent = function (component, composeConfig, _composeState) {\n      return composeConfig.find(component);\n    };\n\n    var ComposeApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCurrent: getCurrent\n    });\n\n    var ComposeSchema = [required$1('find')];\n\n    var Composing = create$8({\n      fields: ComposeSchema,\n      name: 'composing',\n      apis: ComposeApis\n    });\n\n    var nativeDisabled = [\n      'input',\n      'button',\n      'textarea',\n      'select'\n    ];\n    var onLoad$1 = function (component, disableConfig, disableState) {\n      var f = disableConfig.disabled() ? disable$1 : enable$1;\n      f(component, disableConfig);\n    };\n    var hasNative = function (component, config) {\n      return config.useNative === true && contains$2(nativeDisabled, name$2(component.element));\n    };\n    var nativeIsDisabled = function (component) {\n      return has$1(component.element, 'disabled');\n    };\n    var nativeDisable = function (component) {\n      set$8(component.element, 'disabled', 'disabled');\n    };\n    var nativeEnable = function (component) {\n      remove$7(component.element, 'disabled');\n    };\n    var ariaIsDisabled = function (component) {\n      return get$d(component.element, 'aria-disabled') === 'true';\n    };\n    var ariaDisable = function (component) {\n      set$8(component.element, 'aria-disabled', 'true');\n    };\n    var ariaEnable = function (component) {\n      set$8(component.element, 'aria-disabled', 'false');\n    };\n    var disable$1 = function (component, disableConfig, _disableState) {\n      disableConfig.disableClass.each(function (disableClass) {\n        add$2(component.element, disableClass);\n      });\n      var f = hasNative(component, disableConfig) ? nativeDisable : ariaDisable;\n      f(component);\n      disableConfig.onDisabled(component);\n    };\n    var enable$1 = function (component, disableConfig, _disableState) {\n      disableConfig.disableClass.each(function (disableClass) {\n        remove$2(component.element, disableClass);\n      });\n      var f = hasNative(component, disableConfig) ? nativeEnable : ariaEnable;\n      f(component);\n      disableConfig.onEnabled(component);\n    };\n    var isDisabled = function (component, disableConfig) {\n      return hasNative(component, disableConfig) ? nativeIsDisabled(component) : ariaIsDisabled(component);\n    };\n    var set$3 = function (component, disableConfig, disableState, disabled) {\n      var f = disabled ? disable$1 : enable$1;\n      f(component, disableConfig);\n    };\n\n    var DisableApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        enable: enable$1,\n        disable: disable$1,\n        isDisabled: isDisabled,\n        onLoad: onLoad$1,\n        set: set$3\n    });\n\n    var exhibit$5 = function (base, disableConfig) {\n      return nu$7({ classes: disableConfig.disabled() ? disableConfig.disableClass.toArray() : [] });\n    };\n    var events$e = function (disableConfig, disableState) {\n      return derive$2([\n        abort(execute$5(), function (component, _simulatedEvent) {\n          return isDisabled(component, disableConfig);\n        }),\n        loadEvent(disableConfig, disableState, onLoad$1)\n      ]);\n    };\n\n    var ActiveDisable = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$5,\n        events: events$e\n    });\n\n    var DisableSchema = [\n      defaultedFunction('disabled', never),\n      defaulted('useNative', true),\n      option('disableClass'),\n      onHandler('onDisabled'),\n      onHandler('onEnabled')\n    ];\n\n    var Disabling = create$8({\n      fields: DisableSchema,\n      name: 'disabling',\n      active: ActiveDisable,\n      apis: DisableApis\n    });\n\n    var dehighlightAllExcept = function (component, hConfig, hState, skip) {\n      var highlighted = descendants(component.element, '.' + hConfig.highlightClass);\n      each$1(highlighted, function (h) {\n        if (!exists(skip, function (skipComp) {\n            return skipComp.element === h;\n          })) {\n          remove$2(h, hConfig.highlightClass);\n          component.getSystem().getByDom(h).each(function (target) {\n            hConfig.onDehighlight(component, target);\n            emit(target, dehighlight$1());\n          });\n        }\n      });\n    };\n    var dehighlightAll = function (component, hConfig, hState) {\n      return dehighlightAllExcept(component, hConfig, hState, []);\n    };\n    var dehighlight = function (component, hConfig, hState, target) {\n      if (isHighlighted(component, hConfig, hState, target)) {\n        remove$2(target.element, hConfig.highlightClass);\n        hConfig.onDehighlight(component, target);\n        emit(target, dehighlight$1());\n      }\n    };\n    var highlight = function (component, hConfig, hState, target) {\n      dehighlightAllExcept(component, hConfig, hState, [target]);\n      if (!isHighlighted(component, hConfig, hState, target)) {\n        add$2(target.element, hConfig.highlightClass);\n        hConfig.onHighlight(component, target);\n        emit(target, highlight$1());\n      }\n    };\n    var highlightFirst = function (component, hConfig, hState) {\n      getFirst(component, hConfig).each(function (firstComp) {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    var highlightLast = function (component, hConfig, hState) {\n      getLast(component, hConfig).each(function (lastComp) {\n        highlight(component, hConfig, hState, lastComp);\n      });\n    };\n    var highlightAt = function (component, hConfig, hState, index) {\n      getByIndex(component, hConfig, hState, index).fold(function (err) {\n        throw err;\n      }, function (firstComp) {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    var highlightBy = function (component, hConfig, hState, predicate) {\n      var candidates = getCandidates(component, hConfig);\n      var targetComp = find$5(candidates, predicate);\n      targetComp.each(function (c) {\n        highlight(component, hConfig, hState, c);\n      });\n    };\n    var isHighlighted = function (component, hConfig, hState, queryTarget) {\n      return has(queryTarget.element, hConfig.highlightClass);\n    };\n    var getHighlighted = function (component, hConfig, _hState) {\n      return descendant(component.element, '.' + hConfig.highlightClass).bind(function (e) {\n        return component.getSystem().getByDom(e).toOptional();\n      });\n    };\n    var getByIndex = function (component, hConfig, hState, index) {\n      var items = descendants(component.element, '.' + hConfig.itemClass);\n      return Optional.from(items[index]).fold(function () {\n        return Result.error(new Error('No element found with index ' + index));\n      }, component.getSystem().getByDom);\n    };\n    var getFirst = function (component, hConfig, _hState) {\n      return descendant(component.element, '.' + hConfig.itemClass).bind(function (e) {\n        return component.getSystem().getByDom(e).toOptional();\n      });\n    };\n    var getLast = function (component, hConfig, _hState) {\n      var items = descendants(component.element, '.' + hConfig.itemClass);\n      var last = items.length > 0 ? Optional.some(items[items.length - 1]) : Optional.none();\n      return last.bind(function (c) {\n        return component.getSystem().getByDom(c).toOptional();\n      });\n    };\n    var getDelta$2 = function (component, hConfig, hState, delta) {\n      var items = descendants(component.element, '.' + hConfig.itemClass);\n      var current = findIndex$1(items, function (item) {\n        return has(item, hConfig.highlightClass);\n      });\n      return current.bind(function (selected) {\n        var dest = cycleBy(selected, delta, 0, items.length - 1);\n        return component.getSystem().getByDom(items[dest]).toOptional();\n      });\n    };\n    var getPrevious = function (component, hConfig, hState) {\n      return getDelta$2(component, hConfig, hState, -1);\n    };\n    var getNext = function (component, hConfig, hState) {\n      return getDelta$2(component, hConfig, hState, +1);\n    };\n    var getCandidates = function (component, hConfig, _hState) {\n      var items = descendants(component.element, '.' + hConfig.itemClass);\n      return cat(map$2(items, function (i) {\n        return component.getSystem().getByDom(i).toOptional();\n      }));\n    };\n\n    var HighlightApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        dehighlightAll: dehighlightAll,\n        dehighlight: dehighlight,\n        highlight: highlight,\n        highlightFirst: highlightFirst,\n        highlightLast: highlightLast,\n        highlightAt: highlightAt,\n        highlightBy: highlightBy,\n        isHighlighted: isHighlighted,\n        getHighlighted: getHighlighted,\n        getFirst: getFirst,\n        getLast: getLast,\n        getPrevious: getPrevious,\n        getNext: getNext,\n        getCandidates: getCandidates\n    });\n\n    var HighlightSchema = [\n      required$1('highlightClass'),\n      required$1('itemClass'),\n      onHandler('onHighlight'),\n      onHandler('onDehighlight')\n    ];\n\n    var Highlighting = create$8({\n      fields: HighlightSchema,\n      name: 'highlighting',\n      apis: HighlightApis\n    });\n\n    var BACKSPACE = [8];\n    var TAB = [9];\n    var ENTER = [13];\n    var ESCAPE = [27];\n    var SPACE = [32];\n    var LEFT = [37];\n    var UP = [38];\n    var RIGHT = [39];\n    var DOWN = [40];\n\n    var cyclePrev = function (values, index, predicate) {\n      var before = reverse(values.slice(0, index));\n      var after = reverse(values.slice(index + 1));\n      return find$5(before.concat(after), predicate);\n    };\n    var tryPrev = function (values, index, predicate) {\n      var before = reverse(values.slice(0, index));\n      return find$5(before, predicate);\n    };\n    var cycleNext = function (values, index, predicate) {\n      var before = values.slice(0, index);\n      var after = values.slice(index + 1);\n      return find$5(after.concat(before), predicate);\n    };\n    var tryNext = function (values, index, predicate) {\n      var after = values.slice(index + 1);\n      return find$5(after, predicate);\n    };\n\n    var inSet = function (keys) {\n      return function (event) {\n        var raw = event.raw;\n        return contains$2(keys, raw.which);\n      };\n    };\n    var and = function (preds) {\n      return function (event) {\n        return forall(preds, function (pred) {\n          return pred(event);\n        });\n      };\n    };\n    var isShift = function (event) {\n      var raw = event.raw;\n      return raw.shiftKey === true;\n    };\n    var isControl = function (event) {\n      var raw = event.raw;\n      return raw.ctrlKey === true;\n    };\n    var isNotShift = not(isShift);\n\n    var rule = function (matches, action) {\n      return {\n        matches: matches,\n        classification: action\n      };\n    };\n    var choose = function (transitions, event) {\n      var transition = find$5(transitions, function (t) {\n        return t.matches(event);\n      });\n      return transition.map(function (t) {\n        return t.classification;\n      });\n    };\n\n    var reportFocusShifting = function (component, prevFocus, newFocus) {\n      var noChange = prevFocus.exists(function (p) {\n        return newFocus.exists(function (n) {\n          return eq(n, p);\n        });\n      });\n      if (!noChange) {\n        emitWith(component, focusShifted(), {\n          prevFocus: prevFocus,\n          newFocus: newFocus\n        });\n      }\n    };\n    var dom$2 = function () {\n      var get = function (component) {\n        return search(component.element);\n      };\n      var set = function (component, focusee) {\n        var prevFocus = get(component);\n        component.getSystem().triggerFocus(focusee, component.element);\n        var newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n    var highlights = function () {\n      var get = function (component) {\n        return Highlighting.getHighlighted(component).map(function (item) {\n          return item.element;\n        });\n      };\n      var set = function (component, element) {\n        var prevFocus = get(component);\n        component.getSystem().getByDom(element).fold(noop, function (item) {\n          Highlighting.highlight(component, item);\n        });\n        var newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var FocusInsideModes;\n    (function (FocusInsideModes) {\n      FocusInsideModes['OnFocusMode'] = 'onFocus';\n      FocusInsideModes['OnEnterOrSpaceMode'] = 'onEnterOrSpace';\n      FocusInsideModes['OnApiMode'] = 'onApi';\n    }(FocusInsideModes || (FocusInsideModes = {})));\n\n    var typical = function (infoSchema, stateInit, getKeydownRules, getKeyupRules, optFocusIn) {\n      var schema = function () {\n        return infoSchema.concat([\n          defaulted('focusManager', dom$2()),\n          defaultedOf('focusInside', 'onFocus', valueOf(function (val) {\n            return contains$2([\n              'onFocus',\n              'onEnterOrSpace',\n              'onApi'\n            ], val) ? Result.value(val) : Result.error('Invalid value for focusInside');\n          })),\n          output$1('handler', me),\n          output$1('state', stateInit),\n          output$1('sendFocusIn', optFocusIn)\n        ]);\n      };\n      var processKey = function (component, simulatedEvent, getRules, keyingConfig, keyingState) {\n        var rules = getRules(component, simulatedEvent, keyingConfig, keyingState);\n        return choose(rules, simulatedEvent.event).bind(function (rule) {\n          return rule(component, simulatedEvent, keyingConfig, keyingState);\n        });\n      };\n      var toEvents = function (keyingConfig, keyingState) {\n        var onFocusHandler = keyingConfig.focusInside !== FocusInsideModes.OnFocusMode ? Optional.none() : optFocusIn(keyingConfig).map(function (focusIn) {\n          return run$1(focus$4(), function (component, simulatedEvent) {\n            focusIn(component, keyingConfig, keyingState);\n            simulatedEvent.stop();\n          });\n        });\n        var tryGoInsideComponent = function (component, simulatedEvent) {\n          var isEnterOrSpace = inSet(SPACE.concat(ENTER))(simulatedEvent.event);\n          if (keyingConfig.focusInside === FocusInsideModes.OnEnterOrSpaceMode && isEnterOrSpace && isSource(component, simulatedEvent)) {\n            optFocusIn(keyingConfig).each(function (focusIn) {\n              focusIn(component, keyingConfig, keyingState);\n              simulatedEvent.stop();\n            });\n          }\n        };\n        var keyboardEvents = [\n          run$1(keydown(), function (component, simulatedEvent) {\n            processKey(component, simulatedEvent, getKeydownRules, keyingConfig, keyingState).fold(function () {\n              tryGoInsideComponent(component, simulatedEvent);\n            }, function (_) {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(keyup(), function (component, simulatedEvent) {\n            processKey(component, simulatedEvent, getKeyupRules, keyingConfig, keyingState).each(function (_) {\n              simulatedEvent.stop();\n            });\n          })\n        ];\n        return derive$2(onFocusHandler.toArray().concat(keyboardEvents));\n      };\n      var me = {\n        schema: schema,\n        processKey: processKey,\n        toEvents: toEvents\n      };\n      return me;\n    };\n\n    var create$6 = function (cyclicField) {\n      var schema = [\n        option('onEscape'),\n        option('onEnter'),\n        defaulted('selector', '[data-alloy-tabstop=\"true\"]:not(:disabled)'),\n        defaulted('firstTabstop', 0),\n        defaulted('useTabstopAt', always),\n        option('visibilitySelector')\n      ].concat([cyclicField]);\n      var isVisible = function (tabbingConfig, element) {\n        var target = tabbingConfig.visibilitySelector.bind(function (sel) {\n          return closest$1(element, sel);\n        }).getOr(element);\n        return get$b(target) > 0;\n      };\n      var findInitial = function (component, tabbingConfig) {\n        var tabstops = descendants(component.element, tabbingConfig.selector);\n        var visibles = filter$2(tabstops, function (elem) {\n          return isVisible(tabbingConfig, elem);\n        });\n        return Optional.from(visibles[tabbingConfig.firstTabstop]);\n      };\n      var findCurrent = function (component, tabbingConfig) {\n        return tabbingConfig.focusManager.get(component).bind(function (elem) {\n          return closest$1(elem, tabbingConfig.selector);\n        });\n      };\n      var isTabstop = function (tabbingConfig, element) {\n        return isVisible(tabbingConfig, element) && tabbingConfig.useTabstopAt(element);\n      };\n      var focusIn = function (component, tabbingConfig, _tabbingState) {\n        findInitial(component, tabbingConfig).each(function (target) {\n          tabbingConfig.focusManager.set(component, target);\n        });\n      };\n      var goFromTabstop = function (component, tabstops, stopIndex, tabbingConfig, cycle) {\n        return cycle(tabstops, stopIndex, function (elem) {\n          return isTabstop(tabbingConfig, elem);\n        }).fold(function () {\n          return tabbingConfig.cyclic ? Optional.some(true) : Optional.none();\n        }, function (target) {\n          tabbingConfig.focusManager.set(component, target);\n          return Optional.some(true);\n        });\n      };\n      var go = function (component, _simulatedEvent, tabbingConfig, cycle) {\n        var tabstops = descendants(component.element, tabbingConfig.selector);\n        return findCurrent(component, tabbingConfig).bind(function (tabstop) {\n          var optStopIndex = findIndex$1(tabstops, curry(eq, tabstop));\n          return optStopIndex.bind(function (stopIndex) {\n            return goFromTabstop(component, tabstops, stopIndex, tabbingConfig, cycle);\n          });\n        });\n      };\n      var goBackwards = function (component, simulatedEvent, tabbingConfig) {\n        var navigate = tabbingConfig.cyclic ? cyclePrev : tryPrev;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      var goForwards = function (component, simulatedEvent, tabbingConfig) {\n        var navigate = tabbingConfig.cyclic ? cycleNext : tryNext;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      var execute = function (component, simulatedEvent, tabbingConfig) {\n        return tabbingConfig.onEnter.bind(function (f) {\n          return f(component, simulatedEvent);\n        });\n      };\n      var exit = function (component, simulatedEvent, tabbingConfig) {\n        return tabbingConfig.onEscape.bind(function (f) {\n          return f(component, simulatedEvent);\n        });\n      };\n      var getKeydownRules = constant$1([\n        rule(and([\n          isShift,\n          inSet(TAB)\n        ]), goBackwards),\n        rule(inSet(TAB), goForwards),\n        rule(inSet(ESCAPE), exit),\n        rule(and([\n          isNotShift,\n          inSet(ENTER)\n        ]), execute)\n      ]);\n      var getKeyupRules = constant$1([]);\n      return typical(schema, NoState.init, getKeydownRules, getKeyupRules, function () {\n        return Optional.some(focusIn);\n      });\n    };\n\n    var AcyclicType = create$6(customField('cyclic', never));\n\n    var CyclicType = create$6(customField('cyclic', always));\n\n    var doDefaultExecute = function (component, _simulatedEvent, focused) {\n      dispatch(component, focused, execute$5());\n      return Optional.some(true);\n    };\n    var defaultExecute = function (component, simulatedEvent, focused) {\n      var isComplex = inside(focused) && inSet(SPACE)(simulatedEvent.event);\n      return isComplex ? Optional.none() : doDefaultExecute(component, simulatedEvent, focused);\n    };\n    var stopEventForFirefox = function (_component, _simulatedEvent) {\n      return Optional.some(true);\n    };\n\n    var schema$v = [\n      defaulted('execute', defaultExecute),\n      defaulted('useSpace', false),\n      defaulted('useEnter', true),\n      defaulted('useControlEnter', false),\n      defaulted('useDown', false)\n    ];\n    var execute$4 = function (component, simulatedEvent, executeConfig) {\n      return executeConfig.execute(component, simulatedEvent, component.element);\n    };\n    var getKeydownRules$5 = function (component, _simulatedEvent, executeConfig, _executeState) {\n      var spaceExec = executeConfig.useSpace && !inside(component.element) ? SPACE : [];\n      var enterExec = executeConfig.useEnter ? ENTER : [];\n      var downExec = executeConfig.useDown ? DOWN : [];\n      var execKeys = spaceExec.concat(enterExec).concat(downExec);\n      return [rule(inSet(execKeys), execute$4)].concat(executeConfig.useControlEnter ? [rule(and([\n          isControl,\n          inSet(ENTER)\n        ]), execute$4)] : []);\n    };\n    var getKeyupRules$5 = function (component, _simulatedEvent, executeConfig, _executeState) {\n      return executeConfig.useSpace && !inside(component.element) ? [rule(inSet(SPACE), stopEventForFirefox)] : [];\n    };\n    var ExecutionType = typical(schema$v, NoState.init, getKeydownRules$5, getKeyupRules$5, function () {\n      return Optional.none();\n    });\n\n    var flatgrid$1 = function () {\n      var dimensions = value$1();\n      var setGridSize = function (numRows, numColumns) {\n        dimensions.set({\n          numRows: numRows,\n          numColumns: numColumns\n        });\n      };\n      var getNumRows = function () {\n        return dimensions.get().map(function (d) {\n          return d.numRows;\n        });\n      };\n      var getNumColumns = function () {\n        return dimensions.get().map(function (d) {\n          return d.numColumns;\n        });\n      };\n      return nu$8({\n        readState: function () {\n          return dimensions.get().map(function (d) {\n            return {\n              numRows: String(d.numRows),\n              numColumns: String(d.numColumns)\n            };\n          }).getOr({\n            numRows: '?',\n            numColumns: '?'\n          });\n        },\n        setGridSize: setGridSize,\n        getNumRows: getNumRows,\n        getNumColumns: getNumColumns\n      });\n    };\n    var init$d = function (spec) {\n      return spec.state(spec);\n    };\n\n    var KeyingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        flatgrid: flatgrid$1,\n        init: init$d\n    });\n\n    var useH = function (movement) {\n      return function (component, simulatedEvent, config, state) {\n        var move = movement(component.element);\n        return use(move, component, simulatedEvent, config, state);\n      };\n    };\n    var west$1 = function (moveLeft, moveRight) {\n      var movement = onDirection(moveLeft, moveRight);\n      return useH(movement);\n    };\n    var east$1 = function (moveLeft, moveRight) {\n      var movement = onDirection(moveRight, moveLeft);\n      return useH(movement);\n    };\n    var useV = function (move) {\n      return function (component, simulatedEvent, config, state) {\n        return use(move, component, simulatedEvent, config, state);\n      };\n    };\n    var use = function (move, component, simulatedEvent, config, state) {\n      var outcome = config.focusManager.get(component).bind(function (focused) {\n        return move(component.element, focused, config, state);\n      });\n      return outcome.map(function (newFocus) {\n        config.focusManager.set(component, newFocus);\n        return true;\n      });\n    };\n    var north$1 = useV;\n    var south$1 = useV;\n    var move$1 = useV;\n\n    var isHidden$1 = function (dom) {\n      return dom.offsetWidth <= 0 && dom.offsetHeight <= 0;\n    };\n    var isVisible = function (element) {\n      return !isHidden$1(element.dom);\n    };\n\n    var locate = function (candidates, predicate) {\n      return findIndex$1(candidates, predicate).map(function (index) {\n        return {\n          index: index,\n          candidates: candidates\n        };\n      });\n    };\n\n    var locateVisible = function (container, current, selector) {\n      var predicate = function (x) {\n        return eq(x, current);\n      };\n      var candidates = descendants(container, selector);\n      var visible = filter$2(candidates, isVisible);\n      return locate(visible, predicate);\n    };\n    var findIndex = function (elements, target) {\n      return findIndex$1(elements, function (elem) {\n        return eq(target, elem);\n      });\n    };\n\n    var withGrid = function (values, index, numCols, f) {\n      var oldRow = Math.floor(index / numCols);\n      var oldColumn = index % numCols;\n      return f(oldRow, oldColumn).bind(function (address) {\n        var newIndex = address.row * numCols + address.column;\n        return newIndex >= 0 && newIndex < values.length ? Optional.some(values[newIndex]) : Optional.none();\n      });\n    };\n    var cycleHorizontal$1 = function (values, index, numRows, numCols, delta) {\n      return withGrid(values, index, numCols, function (oldRow, oldColumn) {\n        var onLastRow = oldRow === numRows - 1;\n        var colsInRow = onLastRow ? values.length - oldRow * numCols : numCols;\n        var newColumn = cycleBy(oldColumn, delta, 0, colsInRow - 1);\n        return Optional.some({\n          row: oldRow,\n          column: newColumn\n        });\n      });\n    };\n    var cycleVertical$1 = function (values, index, numRows, numCols, delta) {\n      return withGrid(values, index, numCols, function (oldRow, oldColumn) {\n        var newRow = cycleBy(oldRow, delta, 0, numRows - 1);\n        var onLastRow = newRow === numRows - 1;\n        var colsInRow = onLastRow ? values.length - newRow * numCols : numCols;\n        var newCol = clamp$1(oldColumn, 0, colsInRow - 1);\n        return Optional.some({\n          row: newRow,\n          column: newCol\n        });\n      });\n    };\n    var cycleRight$1 = function (values, index, numRows, numCols) {\n      return cycleHorizontal$1(values, index, numRows, numCols, +1);\n    };\n    var cycleLeft$1 = function (values, index, numRows, numCols) {\n      return cycleHorizontal$1(values, index, numRows, numCols, -1);\n    };\n    var cycleUp$1 = function (values, index, numRows, numCols) {\n      return cycleVertical$1(values, index, numRows, numCols, -1);\n    };\n    var cycleDown$1 = function (values, index, numRows, numCols) {\n      return cycleVertical$1(values, index, numRows, numCols, +1);\n    };\n\n    var schema$u = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('captureTab', false),\n      initSize()\n    ];\n    var focusIn$3 = function (component, gridConfig, _gridState) {\n      descendant(component.element, gridConfig.selector).each(function (first) {\n        gridConfig.focusManager.set(component, first);\n      });\n    };\n    var findCurrent$1 = function (component, gridConfig) {\n      return gridConfig.focusManager.get(component).bind(function (elem) {\n        return closest$1(elem, gridConfig.selector);\n      });\n    };\n    var execute$3 = function (component, simulatedEvent, gridConfig, _gridState) {\n      return findCurrent$1(component, gridConfig).bind(function (focused) {\n        return gridConfig.execute(component, simulatedEvent, focused);\n      });\n    };\n    var doMove$2 = function (cycle) {\n      return function (element, focused, gridConfig, gridState) {\n        return locateVisible(element, focused, gridConfig.selector).bind(function (identified) {\n          return cycle(identified.candidates, identified.index, gridState.getNumRows().getOr(gridConfig.initSize.numRows), gridState.getNumColumns().getOr(gridConfig.initSize.numColumns));\n        });\n      };\n    };\n    var handleTab = function (_component, _simulatedEvent, gridConfig) {\n      return gridConfig.captureTab ? Optional.some(true) : Optional.none();\n    };\n    var doEscape$1 = function (component, simulatedEvent, gridConfig) {\n      return gridConfig.onEscape(component, simulatedEvent);\n    };\n    var moveLeft$3 = doMove$2(cycleLeft$1);\n    var moveRight$3 = doMove$2(cycleRight$1);\n    var moveNorth$1 = doMove$2(cycleUp$1);\n    var moveSouth$1 = doMove$2(cycleDown$1);\n    var getKeydownRules$4 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft$3, moveRight$3)),\n      rule(inSet(RIGHT), east$1(moveLeft$3, moveRight$3)),\n      rule(inSet(UP), north$1(moveNorth$1)),\n      rule(inSet(DOWN), south$1(moveSouth$1)),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), handleTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), handleTab),\n      rule(inSet(ESCAPE), doEscape$1),\n      rule(inSet(SPACE.concat(ENTER)), execute$3)\n    ]);\n    var getKeyupRules$4 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var FlatgridType = typical(schema$u, flatgrid$1, getKeydownRules$4, getKeyupRules$4, function () {\n      return Optional.some(focusIn$3);\n    });\n\n    var horizontal = function (container, selector, current, delta) {\n      var isDisabledButton = function (candidate) {\n        return name$2(candidate) === 'button' && get$d(candidate, 'disabled') === 'disabled';\n      };\n      var tryCycle = function (initial, index, candidates) {\n        var newIndex = cycleBy(index, delta, 0, candidates.length - 1);\n        if (newIndex === initial) {\n          return Optional.none();\n        } else {\n          return isDisabledButton(candidates[newIndex]) ? tryCycle(initial, newIndex, candidates) : Optional.from(candidates[newIndex]);\n        }\n      };\n      return locateVisible(container, current, selector).bind(function (identified) {\n        var index = identified.index;\n        var candidates = identified.candidates;\n        return tryCycle(index, index, candidates);\n      });\n    };\n\n    var schema$t = [\n      required$1('selector'),\n      defaulted('getInitial', Optional.none),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('executeOnMove', false),\n      defaulted('allowVertical', true)\n    ];\n    var findCurrent = function (component, flowConfig) {\n      return flowConfig.focusManager.get(component).bind(function (elem) {\n        return closest$1(elem, flowConfig.selector);\n      });\n    };\n    var execute$2 = function (component, simulatedEvent, flowConfig) {\n      return findCurrent(component, flowConfig).bind(function (focused) {\n        return flowConfig.execute(component, simulatedEvent, focused);\n      });\n    };\n    var focusIn$2 = function (component, flowConfig, _state) {\n      flowConfig.getInitial(component).orThunk(function () {\n        return descendant(component.element, flowConfig.selector);\n      }).each(function (first) {\n        flowConfig.focusManager.set(component, first);\n      });\n    };\n    var moveLeft$2 = function (element, focused, info) {\n      return horizontal(element, info.selector, focused, -1);\n    };\n    var moveRight$2 = function (element, focused, info) {\n      return horizontal(element, info.selector, focused, +1);\n    };\n    var doMove$1 = function (movement) {\n      return function (component, simulatedEvent, flowConfig, flowState) {\n        return movement(component, simulatedEvent, flowConfig, flowState).bind(function () {\n          return flowConfig.executeOnMove ? execute$2(component, simulatedEvent, flowConfig) : Optional.some(true);\n        });\n      };\n    };\n    var doEscape = function (component, simulatedEvent, flowConfig) {\n      return flowConfig.onEscape(component, simulatedEvent);\n    };\n    var getKeydownRules$3 = function (_component, _se, flowConfig, _flowState) {\n      var westMovers = LEFT.concat(flowConfig.allowVertical ? UP : []);\n      var eastMovers = RIGHT.concat(flowConfig.allowVertical ? DOWN : []);\n      return [\n        rule(inSet(westMovers), doMove$1(west$1(moveLeft$2, moveRight$2))),\n        rule(inSet(eastMovers), doMove$1(east$1(moveLeft$2, moveRight$2))),\n        rule(inSet(ENTER), execute$2),\n        rule(inSet(SPACE), execute$2),\n        rule(inSet(ESCAPE), doEscape)\n      ];\n    };\n    var getKeyupRules$3 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var FlowType = typical(schema$t, NoState.init, getKeydownRules$3, getKeyupRules$3, function () {\n      return Optional.some(focusIn$2);\n    });\n\n    var toCell = function (matrix, rowIndex, columnIndex) {\n      return Optional.from(matrix[rowIndex]).bind(function (row) {\n        return Optional.from(row[columnIndex]).map(function (cell) {\n          return {\n            rowIndex: rowIndex,\n            columnIndex: columnIndex,\n            cell: cell\n          };\n        });\n      });\n    };\n    var cycleHorizontal = function (matrix, rowIndex, startCol, deltaCol) {\n      var row = matrix[rowIndex];\n      var colsInRow = row.length;\n      var newColIndex = cycleBy(startCol, deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    var cycleVertical = function (matrix, colIndex, startRow, deltaRow) {\n      var nextRowIndex = cycleBy(startRow, deltaRow, 0, matrix.length - 1);\n      var colsInNextRow = matrix[nextRowIndex].length;\n      var nextColIndex = clamp$1(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    var moveHorizontal = function (matrix, rowIndex, startCol, deltaCol) {\n      var row = matrix[rowIndex];\n      var colsInRow = row.length;\n      var newColIndex = clamp$1(startCol + deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    var moveVertical = function (matrix, colIndex, startRow, deltaRow) {\n      var nextRowIndex = clamp$1(startRow + deltaRow, 0, matrix.length - 1);\n      var colsInNextRow = matrix[nextRowIndex].length;\n      var nextColIndex = clamp$1(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    var cycleRight = function (matrix, startRow, startCol) {\n      return cycleHorizontal(matrix, startRow, startCol, +1);\n    };\n    var cycleLeft = function (matrix, startRow, startCol) {\n      return cycleHorizontal(matrix, startRow, startCol, -1);\n    };\n    var cycleUp = function (matrix, startRow, startCol) {\n      return cycleVertical(matrix, startCol, startRow, -1);\n    };\n    var cycleDown = function (matrix, startRow, startCol) {\n      return cycleVertical(matrix, startCol, startRow, +1);\n    };\n    var moveLeft$1 = function (matrix, startRow, startCol) {\n      return moveHorizontal(matrix, startRow, startCol, -1);\n    };\n    var moveRight$1 = function (matrix, startRow, startCol) {\n      return moveHorizontal(matrix, startRow, startCol, +1);\n    };\n    var moveUp$1 = function (matrix, startRow, startCol) {\n      return moveVertical(matrix, startCol, startRow, -1);\n    };\n    var moveDown$1 = function (matrix, startRow, startCol) {\n      return moveVertical(matrix, startCol, startRow, +1);\n    };\n\n    var schema$s = [\n      requiredObjOf('selectors', [\n        required$1('row'),\n        required$1('cell')\n      ]),\n      defaulted('cycles', true),\n      defaulted('previousSelector', Optional.none),\n      defaulted('execute', defaultExecute)\n    ];\n    var focusIn$1 = function (component, matrixConfig, _state) {\n      var focused = matrixConfig.previousSelector(component).orThunk(function () {\n        var selectors = matrixConfig.selectors;\n        return descendant(component.element, selectors.cell);\n      });\n      focused.each(function (cell) {\n        matrixConfig.focusManager.set(component, cell);\n      });\n    };\n    var execute$1 = function (component, simulatedEvent, matrixConfig) {\n      return search(component.element).bind(function (focused) {\n        return matrixConfig.execute(component, simulatedEvent, focused);\n      });\n    };\n    var toMatrix = function (rows, matrixConfig) {\n      return map$2(rows, function (row) {\n        return descendants(row, matrixConfig.selectors.cell);\n      });\n    };\n    var doMove = function (ifCycle, ifMove) {\n      return function (element, focused, matrixConfig) {\n        var move = matrixConfig.cycles ? ifCycle : ifMove;\n        return closest$1(focused, matrixConfig.selectors.row).bind(function (inRow) {\n          var cellsInRow = descendants(inRow, matrixConfig.selectors.cell);\n          return findIndex(cellsInRow, focused).bind(function (colIndex) {\n            var allRows = descendants(element, matrixConfig.selectors.row);\n            return findIndex(allRows, inRow).bind(function (rowIndex) {\n              var matrix = toMatrix(allRows, matrixConfig);\n              return move(matrix, rowIndex, colIndex).map(function (next) {\n                return next.cell;\n              });\n            });\n          });\n        });\n      };\n    };\n    var moveLeft = doMove(cycleLeft, moveLeft$1);\n    var moveRight = doMove(cycleRight, moveRight$1);\n    var moveNorth = doMove(cycleUp, moveUp$1);\n    var moveSouth = doMove(cycleDown, moveDown$1);\n    var getKeydownRules$2 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft, moveRight)),\n      rule(inSet(RIGHT), east$1(moveLeft, moveRight)),\n      rule(inSet(UP), north$1(moveNorth)),\n      rule(inSet(DOWN), south$1(moveSouth)),\n      rule(inSet(SPACE.concat(ENTER)), execute$1)\n    ]);\n    var getKeyupRules$2 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MatrixType = typical(schema$s, NoState.init, getKeydownRules$2, getKeyupRules$2, function () {\n      return Optional.some(focusIn$1);\n    });\n\n    var schema$r = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      defaulted('moveOnTab', false)\n    ];\n    var execute = function (component, simulatedEvent, menuConfig) {\n      return menuConfig.focusManager.get(component).bind(function (focused) {\n        return menuConfig.execute(component, simulatedEvent, focused);\n      });\n    };\n    var focusIn = function (component, menuConfig, _state) {\n      descendant(component.element, menuConfig.selector).each(function (first) {\n        menuConfig.focusManager.set(component, first);\n      });\n    };\n    var moveUp = function (element, focused, info) {\n      return horizontal(element, info.selector, focused, -1);\n    };\n    var moveDown = function (element, focused, info) {\n      return horizontal(element, info.selector, focused, +1);\n    };\n    var fireShiftTab = function (component, simulatedEvent, menuConfig, menuState) {\n      return menuConfig.moveOnTab ? move$1(moveUp)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    };\n    var fireTab = function (component, simulatedEvent, menuConfig, menuState) {\n      return menuConfig.moveOnTab ? move$1(moveDown)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    };\n    var getKeydownRules$1 = constant$1([\n      rule(inSet(UP), move$1(moveUp)),\n      rule(inSet(DOWN), move$1(moveDown)),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), fireShiftTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), fireTab),\n      rule(inSet(ENTER), execute),\n      rule(inSet(SPACE), execute)\n    ]);\n    var getKeyupRules$1 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MenuType = typical(schema$r, NoState.init, getKeydownRules$1, getKeyupRules$1, function () {\n      return Optional.some(focusIn);\n    });\n\n    var schema$q = [\n      onKeyboardHandler('onSpace'),\n      onKeyboardHandler('onEnter'),\n      onKeyboardHandler('onShiftEnter'),\n      onKeyboardHandler('onLeft'),\n      onKeyboardHandler('onRight'),\n      onKeyboardHandler('onTab'),\n      onKeyboardHandler('onShiftTab'),\n      onKeyboardHandler('onUp'),\n      onKeyboardHandler('onDown'),\n      onKeyboardHandler('onEscape'),\n      defaulted('stopSpaceKeyup', false),\n      option('focusIn')\n    ];\n    var getKeydownRules = function (component, simulatedEvent, specialInfo) {\n      return [\n        rule(inSet(SPACE), specialInfo.onSpace),\n        rule(and([\n          isNotShift,\n          inSet(ENTER)\n        ]), specialInfo.onEnter),\n        rule(and([\n          isShift,\n          inSet(ENTER)\n        ]), specialInfo.onShiftEnter),\n        rule(and([\n          isShift,\n          inSet(TAB)\n        ]), specialInfo.onShiftTab),\n        rule(and([\n          isNotShift,\n          inSet(TAB)\n        ]), specialInfo.onTab),\n        rule(inSet(UP), specialInfo.onUp),\n        rule(inSet(DOWN), specialInfo.onDown),\n        rule(inSet(LEFT), specialInfo.onLeft),\n        rule(inSet(RIGHT), specialInfo.onRight),\n        rule(inSet(SPACE), specialInfo.onSpace),\n        rule(inSet(ESCAPE), specialInfo.onEscape)\n      ];\n    };\n    var getKeyupRules = function (component, simulatedEvent, specialInfo) {\n      return specialInfo.stopSpaceKeyup ? [rule(inSet(SPACE), stopEventForFirefox)] : [];\n    };\n    var SpecialType = typical(schema$q, NoState.init, getKeydownRules, getKeyupRules, function (specialInfo) {\n      return specialInfo.focusIn;\n    });\n\n    var acyclic = AcyclicType.schema();\n    var cyclic = CyclicType.schema();\n    var flow = FlowType.schema();\n    var flatgrid = FlatgridType.schema();\n    var matrix = MatrixType.schema();\n    var execution = ExecutionType.schema();\n    var menu = MenuType.schema();\n    var special = SpecialType.schema();\n\n    var KeyboardBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        acyclic: acyclic,\n        cyclic: cyclic,\n        flow: flow,\n        flatgrid: flatgrid,\n        matrix: matrix,\n        execution: execution,\n        menu: menu,\n        special: special\n    });\n\n    var isFlatgridState = function (keyState) {\n      return hasNonNullableKey(keyState, 'setGridSize');\n    };\n    var Keying = createModes({\n      branchKey: 'mode',\n      branches: KeyboardBranches,\n      name: 'keying',\n      active: {\n        events: function (keyingConfig, keyingState) {\n          var handler = keyingConfig.handler;\n          return handler.toEvents(keyingConfig, keyingState);\n        }\n      },\n      apis: {\n        focusIn: function (component, keyConfig, keyState) {\n          keyConfig.sendFocusIn(keyConfig).fold(function () {\n            component.getSystem().triggerFocus(component.element, component.element);\n          }, function (sendFocusIn) {\n            sendFocusIn(component, keyConfig, keyState);\n          });\n        },\n        setGridSize: function (component, keyConfig, keyState, numRows, numColumns) {\n          if (!isFlatgridState(keyState)) {\n            console.error('Layout does not support setGridSize');\n          } else {\n            keyState.setGridSize(numRows, numColumns);\n          }\n        }\n      },\n      state: KeyingState\n    });\n\n    var set$2 = function (component, replaceConfig, replaceState, data) {\n      preserve$1(function () {\n        var newChildren = map$2(data, component.getSystem().build);\n        replaceChildren(component, newChildren);\n      }, component.element);\n    };\n    var insert = function (component, replaceConfig, insertion, childSpec) {\n      var child = component.getSystem().build(childSpec);\n      attachWith(component, child, insertion);\n    };\n    var append = function (component, replaceConfig, replaceState, appendee) {\n      insert(component, replaceConfig, append$2, appendee);\n    };\n    var prepend = function (component, replaceConfig, replaceState, prependee) {\n      insert(component, replaceConfig, prepend$1, prependee);\n    };\n    var remove = function (component, replaceConfig, replaceState, removee) {\n      var children = contents(component);\n      var foundChild = find$5(children, function (child) {\n        return eq(removee.element, child.element);\n      });\n      foundChild.each(detach);\n    };\n    var contents = function (component, _replaceConfig) {\n      return component.components();\n    };\n    var replaceAt = function (component, replaceConfig, replaceState, replaceeIndex, replacer) {\n      var children = contents(component);\n      return Optional.from(children[replaceeIndex]).map(function (replacee) {\n        remove(component, replaceConfig, replaceState, replacee);\n        replacer.each(function (r) {\n          insert(component, replaceConfig, function (p, c) {\n            appendAt(p, c, replaceeIndex);\n          }, r);\n        });\n        return replacee;\n      });\n    };\n    var replaceBy = function (component, replaceConfig, replaceState, replaceePred, replacer) {\n      var children = contents(component);\n      return findIndex$1(children, replaceePred).bind(function (replaceeIndex) {\n        return replaceAt(component, replaceConfig, replaceState, replaceeIndex, replacer);\n      });\n    };\n\n    var ReplaceApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        append: append,\n        prepend: prepend,\n        remove: remove,\n        replaceAt: replaceAt,\n        replaceBy: replaceBy,\n        set: set$2,\n        contents: contents\n    });\n\n    var Replacing = create$8({\n      fields: [],\n      name: 'replacing',\n      apis: ReplaceApis\n    });\n\n    var events$d = function (name, eventHandlers) {\n      var events = derive$2(eventHandlers);\n      return create$8({\n        fields: [required$1('enabled')],\n        name: name,\n        active: { events: constant$1(events) }\n      });\n    };\n    var config = function (name, eventHandlers) {\n      var me = events$d(name, eventHandlers);\n      return {\n        key: name,\n        value: {\n          config: {},\n          me: me,\n          configAsRaw: constant$1({}),\n          initialConfig: {},\n          state: NoState\n        }\n      };\n    };\n\n    var focus$2 = function (component, focusConfig) {\n      if (!focusConfig.ignore) {\n        focus$3(component.element);\n        focusConfig.onFocus(component);\n      }\n    };\n    var blur = function (component, focusConfig) {\n      if (!focusConfig.ignore) {\n        blur$1(component.element);\n      }\n    };\n    var isFocused = function (component) {\n      return hasFocus(component.element);\n    };\n\n    var FocusApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        focus: focus$2,\n        blur: blur,\n        isFocused: isFocused\n    });\n\n    var exhibit$4 = function (base, focusConfig) {\n      var mod = focusConfig.ignore ? {} : { attributes: { tabindex: '-1' } };\n      return nu$7(mod);\n    };\n    var events$c = function (focusConfig) {\n      return derive$2([run$1(focus$4(), function (component, simulatedEvent) {\n          focus$2(component, focusConfig);\n          simulatedEvent.stop();\n        })].concat(focusConfig.stopMousedown ? [run$1(mousedown(), function (_, simulatedEvent) {\n          simulatedEvent.event.prevent();\n        })] : []));\n    };\n\n    var ActiveFocus = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$4,\n        events: events$c\n    });\n\n    var FocusSchema = [\n      onHandler('onFocus'),\n      defaulted('stopMousedown', false),\n      defaulted('ignore', false)\n    ];\n\n    var Focusing = create$8({\n      fields: FocusSchema,\n      name: 'focusing',\n      active: ActiveFocus,\n      apis: FocusApis\n    });\n\n    var SetupBehaviourCellState = function (initialState) {\n      var init = function () {\n        var cell = Cell(initialState);\n        var get = function () {\n          return cell.get();\n        };\n        var set = function (newState) {\n          return cell.set(newState);\n        };\n        var clear = function () {\n          return cell.set(initialState);\n        };\n        var readState = function () {\n          return cell.get();\n        };\n        return {\n          get: get,\n          set: set,\n          clear: clear,\n          readState: readState\n        };\n      };\n      return { init: init };\n    };\n\n    var updateAriaState = function (component, toggleConfig, toggleState) {\n      var ariaInfo = toggleConfig.aria;\n      ariaInfo.update(component, ariaInfo, toggleState.get());\n    };\n    var updateClass = function (component, toggleConfig, toggleState) {\n      toggleConfig.toggleClass.each(function (toggleClass) {\n        if (toggleState.get()) {\n          add$2(component.element, toggleClass);\n        } else {\n          remove$2(component.element, toggleClass);\n        }\n      });\n    };\n    var toggle$2 = function (component, toggleConfig, toggleState) {\n      set$1(component, toggleConfig, toggleState, !toggleState.get());\n    };\n    var on = function (component, toggleConfig, toggleState) {\n      toggleState.set(true);\n      updateClass(component, toggleConfig, toggleState);\n      updateAriaState(component, toggleConfig, toggleState);\n    };\n    var off = function (component, toggleConfig, toggleState) {\n      toggleState.set(false);\n      updateClass(component, toggleConfig, toggleState);\n      updateAriaState(component, toggleConfig, toggleState);\n    };\n    var set$1 = function (component, toggleConfig, toggleState, state) {\n      var action = state ? on : off;\n      action(component, toggleConfig, toggleState);\n    };\n    var isOn = function (component, toggleConfig, toggleState) {\n      return toggleState.get();\n    };\n    var onLoad = function (component, toggleConfig, toggleState) {\n      set$1(component, toggleConfig, toggleState, toggleConfig.selected);\n    };\n\n    var ToggleApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad,\n        toggle: toggle$2,\n        isOn: isOn,\n        on: on,\n        off: off,\n        set: set$1\n    });\n\n    var exhibit$3 = function () {\n      return nu$7({});\n    };\n    var events$b = function (toggleConfig, toggleState) {\n      var execute = executeEvent(toggleConfig, toggleState, toggle$2);\n      var load = loadEvent(toggleConfig, toggleState, onLoad);\n      return derive$2(flatten([\n        toggleConfig.toggleOnExecute ? [execute] : [],\n        [load]\n      ]));\n    };\n\n    var ActiveToggle = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$3,\n        events: events$b\n    });\n\n    var updatePressed = function (component, ariaInfo, status) {\n      set$8(component.element, 'aria-pressed', status);\n      if (ariaInfo.syncWithExpanded) {\n        updateExpanded(component, ariaInfo, status);\n      }\n    };\n    var updateSelected = function (component, ariaInfo, status) {\n      set$8(component.element, 'aria-selected', status);\n    };\n    var updateChecked = function (component, ariaInfo, status) {\n      set$8(component.element, 'aria-checked', status);\n    };\n    var updateExpanded = function (component, ariaInfo, status) {\n      set$8(component.element, 'aria-expanded', status);\n    };\n\n    var ToggleSchema = [\n      defaulted('selected', false),\n      option('toggleClass'),\n      defaulted('toggleOnExecute', true),\n      defaultedOf('aria', { mode: 'none' }, choose$1('mode', {\n        pressed: [\n          defaulted('syncWithExpanded', false),\n          output$1('update', updatePressed)\n        ],\n        checked: [output$1('update', updateChecked)],\n        expanded: [output$1('update', updateExpanded)],\n        selected: [output$1('update', updateSelected)],\n        none: [output$1('update', noop)]\n      }))\n    ];\n\n    var Toggling = create$8({\n      fields: ToggleSchema,\n      name: 'toggling',\n      active: ActiveToggle,\n      apis: ToggleApis,\n      state: SetupBehaviourCellState(false)\n    });\n\n    var pointerEvents = function () {\n      var onClick = function (component, simulatedEvent) {\n        simulatedEvent.stop();\n        emitExecute(component);\n      };\n      return [\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        cutter(touchstart()),\n        cutter(mousedown())\n      ];\n    };\n    var events$a = function (optAction) {\n      var executeHandler = function (action) {\n        return runOnExecute$1(function (component, simulatedEvent) {\n          action(component);\n          simulatedEvent.stop();\n        });\n      };\n      return derive$2(flatten([\n        optAction.map(executeHandler).toArray(),\n        pointerEvents()\n      ]));\n    };\n\n    var hoverEvent = 'alloy.item-hover';\n    var focusEvent = 'alloy.item-focus';\n    var onHover = function (item) {\n      if (search(item.element).isNone() || Focusing.isFocused(item)) {\n        if (!Focusing.isFocused(item)) {\n          Focusing.focus(item);\n        }\n        emitWith(item, hoverEvent, { item: item });\n      }\n    };\n    var onFocus$1 = function (item) {\n      emitWith(item, focusEvent, { item: item });\n    };\n    var hover = constant$1(hoverEvent);\n    var focus$1 = constant$1(focusEvent);\n\n    var builder$2 = function (detail) {\n      return {\n        dom: detail.dom,\n        domModification: __assign(__assign({}, detail.domModification), { attributes: __assign(__assign(__assign({ 'role': detail.toggling.isSome() ? 'menuitemcheckbox' : 'menuitem' }, detail.domModification.attributes), { 'aria-haspopup': detail.hasSubmenu }), detail.hasSubmenu ? { 'aria-expanded': false } : {}) }),\n        behaviours: SketchBehaviours.augment(detail.itemBehaviours, [\n          detail.toggling.fold(Toggling.revoke, function (tConfig) {\n            return Toggling.config(__assign({ aria: { mode: 'checked' } }, tConfig));\n          }),\n          Focusing.config({\n            ignore: detail.ignoreFocus,\n            stopMousedown: detail.ignoreFocus,\n            onFocus: function (component) {\n              onFocus$1(component);\n            }\n          }),\n          Keying.config({ mode: 'execution' }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.data\n            }\n          }),\n          config('item-type-events', __spreadArray(__spreadArray([], pointerEvents(), true), [\n            run$1(mouseover(), onHover),\n            run$1(focusItem(), Focusing.focus)\n          ], false))\n        ]),\n        components: detail.components,\n        eventOrder: detail.eventOrder\n      };\n    };\n    var schema$p = [\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('hasSubmenu', false),\n      option('toggling'),\n      SketchBehaviours.field('itemBehaviours', [\n        Toggling,\n        Focusing,\n        Keying,\n        Representing\n      ]),\n      defaulted('ignoreFocus', false),\n      defaulted('domModification', {}),\n      output$1('builder', builder$2),\n      defaulted('eventOrder', {})\n    ];\n\n    var builder$1 = function (detail) {\n      return {\n        dom: detail.dom,\n        components: detail.components,\n        events: derive$2([stopper(focusItem())])\n      };\n    };\n    var schema$o = [\n      required$1('dom'),\n      required$1('components'),\n      output$1('builder', builder$1)\n    ];\n\n    var owner$2 = constant$1('item-widget');\n    var parts$h = constant$1([required({\n        name: 'widget',\n        overrides: function (detail) {\n          return {\n            behaviours: derive$1([Representing.config({\n                store: {\n                  mode: 'manual',\n                  getValue: function (_component) {\n                    return detail.data;\n                  },\n                  setValue: noop\n                }\n              })])\n          };\n        }\n      })]);\n\n    var builder = function (detail) {\n      var subs = substitutes(owner$2(), detail, parts$h());\n      var components = components$1(owner$2(), detail, subs.internals());\n      var focusWidget = function (component) {\n        return getPart(component, detail, 'widget').map(function (widget) {\n          Keying.focusIn(widget);\n          return widget;\n        });\n      };\n      var onHorizontalArrow = function (component, simulatedEvent) {\n        return inside(simulatedEvent.event.target) ? Optional.none() : function () {\n          if (detail.autofocus) {\n            simulatedEvent.setSource(component.element);\n            return Optional.none();\n          } else {\n            return Optional.none();\n          }\n        }();\n      };\n      return {\n        dom: detail.dom,\n        components: components,\n        domModification: detail.domModification,\n        events: derive$2([\n          runOnExecute$1(function (component, simulatedEvent) {\n            focusWidget(component).each(function (_widget) {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(mouseover(), onHover),\n          run$1(focusItem(), function (component, _simulatedEvent) {\n            if (detail.autofocus) {\n              focusWidget(component);\n            } else {\n              Focusing.focus(component);\n            }\n          })\n        ]),\n        behaviours: SketchBehaviours.augment(detail.widgetBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.data\n            }\n          }),\n          Focusing.config({\n            ignore: detail.ignoreFocus,\n            onFocus: function (component) {\n              onFocus$1(component);\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            focusIn: detail.autofocus ? function (component) {\n              focusWidget(component);\n            } : revoke(),\n            onLeft: onHorizontalArrow,\n            onRight: onHorizontalArrow,\n            onEscape: function (component, simulatedEvent) {\n              if (!Focusing.isFocused(component) && !detail.autofocus) {\n                Focusing.focus(component);\n                return Optional.some(true);\n              } else if (detail.autofocus) {\n                simulatedEvent.setSource(component.element);\n                return Optional.none();\n              } else {\n                return Optional.none();\n              }\n            }\n          })\n        ])\n      };\n    };\n    var schema$n = [\n      required$1('uid'),\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('autofocus', false),\n      defaulted('ignoreFocus', false),\n      SketchBehaviours.field('widgetBehaviours', [\n        Representing,\n        Focusing,\n        Keying\n      ]),\n      defaulted('domModification', {}),\n      defaultUidsSchema(parts$h()),\n      output$1('builder', builder)\n    ];\n\n    var itemSchema$2 = choose$1('type', {\n      widget: schema$n,\n      item: schema$p,\n      separator: schema$o\n    });\n    var configureGrid = function (detail, movementInfo) {\n      return {\n        mode: 'flatgrid',\n        selector: '.' + detail.markers.item,\n        initSize: {\n          numColumns: movementInfo.initSize.numColumns,\n          numRows: movementInfo.initSize.numRows\n        },\n        focusManager: detail.focusManager\n      };\n    };\n    var configureMatrix = function (detail, movementInfo) {\n      return {\n        mode: 'matrix',\n        selectors: {\n          row: movementInfo.rowSelector,\n          cell: '.' + detail.markers.item\n        },\n        focusManager: detail.focusManager\n      };\n    };\n    var configureMenu = function (detail, movementInfo) {\n      return {\n        mode: 'menu',\n        selector: '.' + detail.markers.item,\n        moveOnTab: movementInfo.moveOnTab,\n        focusManager: detail.focusManager\n      };\n    };\n    var parts$g = constant$1([group({\n        factory: {\n          sketch: function (spec) {\n            var itemInfo = asRawOrDie$1('menu.spec item', itemSchema$2, spec);\n            return itemInfo.builder(itemInfo);\n          }\n        },\n        name: 'items',\n        unit: 'item',\n        defaults: function (detail, u) {\n          return has$2(u, 'uid') ? u : __assign(__assign({}, u), { uid: generate$5('item') });\n        },\n        overrides: function (detail, u) {\n          return {\n            type: u.type,\n            ignoreFocus: detail.fakeFocus,\n            domModification: { classes: [detail.markers.item] }\n          };\n        }\n      })]);\n    var schema$m = constant$1([\n      required$1('value'),\n      required$1('items'),\n      required$1('dom'),\n      required$1('components'),\n      defaulted('eventOrder', {}),\n      field('menuBehaviours', [\n        Highlighting,\n        Representing,\n        Composing,\n        Keying\n      ]),\n      defaultedOf('movement', {\n        mode: 'menu',\n        moveOnTab: true\n      }, choose$1('mode', {\n        grid: [\n          initSize(),\n          output$1('config', configureGrid)\n        ],\n        matrix: [\n          output$1('config', configureMatrix),\n          required$1('rowSelector')\n        ],\n        menu: [\n          defaulted('moveOnTab', true),\n          output$1('config', configureMenu)\n        ]\n      })),\n      itemMarkers(),\n      defaulted('fakeFocus', false),\n      defaulted('focusManager', dom$2()),\n      onHandler('onHighlight')\n    ]);\n\n    var focus = constant$1('alloy.menu-focus');\n\n    var make$7 = function (detail, components, _spec, _externals) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        markers: detail.markers,\n        behaviours: augment(detail.menuBehaviours, [\n          Highlighting.config({\n            highlightClass: detail.markers.selectedItem,\n            itemClass: detail.markers.item,\n            onHighlight: detail.onHighlight\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.value\n            }\n          }),\n          Composing.config({ find: Optional.some }),\n          Keying.config(detail.movement.config(detail, detail.movement))\n        ]),\n        events: derive$2([\n          run$1(focus$1(), function (menu, simulatedEvent) {\n            var event = simulatedEvent.event;\n            menu.getSystem().getByDom(event.target).each(function (item) {\n              Highlighting.highlight(menu, item);\n              simulatedEvent.stop();\n              emitWith(menu, focus(), {\n                menu: menu,\n                item: item\n              });\n            });\n          }),\n          run$1(hover(), function (menu, simulatedEvent) {\n            var item = simulatedEvent.event.item;\n            Highlighting.highlight(menu, item);\n          })\n        ]),\n        components: components,\n        eventOrder: detail.eventOrder,\n        domModification: { attributes: { role: 'menu' } }\n      };\n    };\n\n    var Menu = composite({\n      name: 'Menu',\n      configFields: schema$m(),\n      partFields: parts$g(),\n      factory: make$7\n    });\n\n    var transpose$1 = function (obj) {\n      return tupleMap(obj, function (v, k) {\n        return {\n          k: v,\n          v: k\n        };\n      });\n    };\n    var trace = function (items, byItem, byMenu, finish) {\n      return get$e(byMenu, finish).bind(function (triggerItem) {\n        return get$e(items, triggerItem).bind(function (triggerMenu) {\n          var rest = trace(items, byItem, byMenu, triggerMenu);\n          return Optional.some([triggerMenu].concat(rest));\n        });\n      }).getOr([]);\n    };\n    var generate$2 = function (menus, expansions) {\n      var items = {};\n      each(menus, function (menuItems, menu) {\n        each$1(menuItems, function (item) {\n          items[item] = menu;\n        });\n      });\n      var byItem = expansions;\n      var byMenu = transpose$1(expansions);\n      var menuPaths = map$1(byMenu, function (_triggerItem, submenu) {\n        return [submenu].concat(trace(items, byItem, byMenu, submenu));\n      });\n      return map$1(items, function (menu) {\n        return get$e(menuPaths, menu).getOr([menu]);\n      });\n    };\n\n    var init$c = function () {\n      var expansions = Cell({});\n      var menus = Cell({});\n      var paths = Cell({});\n      var primary = value$1();\n      var directory = Cell({});\n      var clear = function () {\n        expansions.set({});\n        menus.set({});\n        paths.set({});\n        primary.clear();\n      };\n      var isClear = function () {\n        return primary.get().isNone();\n      };\n      var setMenuBuilt = function (menuName, built) {\n        var _a;\n        menus.set(__assign(__assign({}, menus.get()), (_a = {}, _a[menuName] = {\n          type: 'prepared',\n          menu: built\n        }, _a)));\n      };\n      var setContents = function (sPrimary, sMenus, sExpansions, dir) {\n        primary.set(sPrimary);\n        expansions.set(sExpansions);\n        menus.set(sMenus);\n        directory.set(dir);\n        var sPaths = generate$2(dir, sExpansions);\n        paths.set(sPaths);\n      };\n      var getTriggeringItem = function (menuValue) {\n        return find$4(expansions.get(), function (v, _k) {\n          return v === menuValue;\n        });\n      };\n      var getTriggerData = function (menuValue, getItemByValue, path) {\n        return getPreparedMenu(menuValue).bind(function (menu) {\n          return getTriggeringItem(menuValue).bind(function (triggeringItemValue) {\n            return getItemByValue(triggeringItemValue).map(function (triggeredItem) {\n              return {\n                triggeredMenu: menu,\n                triggeringItem: triggeredItem,\n                triggeringPath: path\n              };\n            });\n          });\n        });\n      };\n      var getTriggeringPath = function (itemValue, getItemByValue) {\n        var extraPath = filter$2(lookupItem(itemValue).toArray(), function (menuValue) {\n          return getPreparedMenu(menuValue).isSome();\n        });\n        return get$e(paths.get(), itemValue).bind(function (path) {\n          var revPath = reverse(extraPath.concat(path));\n          var triggers = bind$3(revPath, function (menuValue, menuIndex) {\n            return getTriggerData(menuValue, getItemByValue, revPath.slice(0, menuIndex + 1)).fold(function () {\n              return is$1(primary.get(), menuValue) ? [] : [Optional.none()];\n            }, function (data) {\n              return [Optional.some(data)];\n            });\n          });\n          return sequence(triggers);\n        });\n      };\n      var expand = function (itemValue) {\n        return get$e(expansions.get(), itemValue).map(function (menu) {\n          var current = get$e(paths.get(), itemValue).getOr([]);\n          return [menu].concat(current);\n        });\n      };\n      var collapse = function (itemValue) {\n        return get$e(paths.get(), itemValue).bind(function (path) {\n          return path.length > 1 ? Optional.some(path.slice(1)) : Optional.none();\n        });\n      };\n      var refresh = function (itemValue) {\n        return get$e(paths.get(), itemValue);\n      };\n      var getPreparedMenu = function (menuValue) {\n        return lookupMenu(menuValue).bind(extractPreparedMenu);\n      };\n      var lookupMenu = function (menuValue) {\n        return get$e(menus.get(), menuValue);\n      };\n      var lookupItem = function (itemValue) {\n        return get$e(expansions.get(), itemValue);\n      };\n      var otherMenus = function (path) {\n        var menuValues = directory.get();\n        return difference(keys(menuValues), path);\n      };\n      var getPrimary = function () {\n        return primary.get().bind(getPreparedMenu);\n      };\n      var getMenus = function () {\n        return menus.get();\n      };\n      return {\n        setMenuBuilt: setMenuBuilt,\n        setContents: setContents,\n        expand: expand,\n        refresh: refresh,\n        collapse: collapse,\n        lookupMenu: lookupMenu,\n        lookupItem: lookupItem,\n        otherMenus: otherMenus,\n        getPrimary: getPrimary,\n        getMenus: getMenus,\n        clear: clear,\n        isClear: isClear,\n        getTriggeringPath: getTriggeringPath\n      };\n    };\n    var extractPreparedMenu = function (prep) {\n      return prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none();\n    };\n    var LayeredState = {\n      init: init$c,\n      extractPreparedMenu: extractPreparedMenu\n    };\n\n    var make$6 = function (detail, _rawUiSpec) {\n      var submenuParentItems = value$1();\n      var buildMenus = function (container, primaryName, menus) {\n        return map$1(menus, function (spec, name) {\n          var makeSketch = function () {\n            return Menu.sketch(__assign(__assign({}, spec), {\n              value: name,\n              markers: detail.markers,\n              fakeFocus: detail.fakeFocus,\n              onHighlight: detail.onHighlight,\n              focusManager: detail.fakeFocus ? highlights() : dom$2()\n            }));\n          };\n          return name === primaryName ? {\n            type: 'prepared',\n            menu: container.getSystem().build(makeSketch())\n          } : {\n            type: 'notbuilt',\n            nbMenu: makeSketch\n          };\n        });\n      };\n      var layeredState = LayeredState.init();\n      var setup = function (container) {\n        var componentMap = buildMenus(container, detail.data.primary, detail.data.menus);\n        var directory = toDirectory();\n        layeredState.setContents(detail.data.primary, componentMap, detail.data.expansions, directory);\n        return layeredState.getPrimary();\n      };\n      var getItemValue = function (item) {\n        return Representing.getValue(item).value;\n      };\n      var getItemByValue = function (_container, menus, itemValue) {\n        return findMap(menus, function (menu) {\n          if (!menu.getSystem().isConnected()) {\n            return Optional.none();\n          }\n          var candidates = Highlighting.getCandidates(menu);\n          return find$5(candidates, function (c) {\n            return getItemValue(c) === itemValue;\n          });\n        });\n      };\n      var toDirectory = function (_container) {\n        return map$1(detail.data.menus, function (data, _menuName) {\n          return bind$3(data.items, function (item) {\n            return item.type === 'separator' ? [] : [item.data.value];\n          });\n        });\n      };\n      var setActiveMenu = function (container, menu) {\n        Highlighting.highlight(container, menu);\n        Highlighting.getHighlighted(menu).orThunk(function () {\n          return Highlighting.getFirst(menu);\n        }).each(function (item) {\n          dispatch(container, item.element, focusItem());\n        });\n      };\n      var getMenus = function (state, menuValues) {\n        return cat(map$2(menuValues, function (mv) {\n          return state.lookupMenu(mv).bind(function (prep) {\n            return prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none();\n          });\n        }));\n      };\n      var closeOthers = function (container, state, path) {\n        var others = getMenus(state, state.otherMenus(path));\n        each$1(others, function (o) {\n          remove$1(o.element, [detail.markers.backgroundMenu]);\n          if (!detail.stayInDom) {\n            Replacing.remove(container, o);\n          }\n        });\n      };\n      var getSubmenuParents = function (container) {\n        return submenuParentItems.get().getOrThunk(function () {\n          var r = {};\n          var items = descendants(container.element, '.' + detail.markers.item);\n          var parentItems = filter$2(items, function (i) {\n            return get$d(i, 'aria-haspopup') === 'true';\n          });\n          each$1(parentItems, function (i) {\n            container.getSystem().getByDom(i).each(function (itemComp) {\n              var key = getItemValue(itemComp);\n              r[key] = itemComp;\n            });\n          });\n          submenuParentItems.set(r);\n          return r;\n        });\n      };\n      var updateAriaExpansions = function (container, path) {\n        var parentItems = getSubmenuParents(container);\n        each(parentItems, function (v, k) {\n          var expanded = contains$2(path, k);\n          set$8(v.element, 'aria-expanded', expanded);\n        });\n      };\n      var updateMenuPath = function (container, state, path) {\n        return Optional.from(path[0]).bind(function (latestMenuName) {\n          return state.lookupMenu(latestMenuName).bind(function (menuPrep) {\n            if (menuPrep.type === 'notbuilt') {\n              return Optional.none();\n            } else {\n              var activeMenu = menuPrep.menu;\n              var rest = getMenus(state, path.slice(1));\n              each$1(rest, function (r) {\n                add$2(r.element, detail.markers.backgroundMenu);\n              });\n              if (!inBody(activeMenu.element)) {\n                Replacing.append(container, premade(activeMenu));\n              }\n              remove$1(activeMenu.element, [detail.markers.backgroundMenu]);\n              setActiveMenu(container, activeMenu);\n              closeOthers(container, state, path);\n              return Optional.some(activeMenu);\n            }\n          });\n        });\n      };\n      var ExpandHighlightDecision;\n      (function (ExpandHighlightDecision) {\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightSubmenu'] = 0] = 'HighlightSubmenu';\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightParent'] = 1] = 'HighlightParent';\n      }(ExpandHighlightDecision || (ExpandHighlightDecision = {})));\n      var buildIfRequired = function (container, menuName, menuPrep) {\n        if (menuPrep.type === 'notbuilt') {\n          var menu = container.getSystem().build(menuPrep.nbMenu());\n          layeredState.setMenuBuilt(menuName, menu);\n          return menu;\n        } else {\n          return menuPrep.menu;\n        }\n      };\n      var expandRight = function (container, item, decision) {\n        if (decision === void 0) {\n          decision = ExpandHighlightDecision.HighlightSubmenu;\n        }\n        if (item.hasConfigured(Disabling) && Disabling.isDisabled(item)) {\n          return Optional.some(item);\n        } else {\n          var value = getItemValue(item);\n          return layeredState.expand(value).bind(function (path) {\n            updateAriaExpansions(container, path);\n            return Optional.from(path[0]).bind(function (menuName) {\n              return layeredState.lookupMenu(menuName).bind(function (activeMenuPrep) {\n                var activeMenu = buildIfRequired(container, menuName, activeMenuPrep);\n                if (!inBody(activeMenu.element)) {\n                  Replacing.append(container, premade(activeMenu));\n                }\n                detail.onOpenSubmenu(container, item, activeMenu, reverse(path));\n                if (decision === ExpandHighlightDecision.HighlightSubmenu) {\n                  Highlighting.highlightFirst(activeMenu);\n                  return updateMenuPath(container, layeredState, path);\n                } else {\n                  Highlighting.dehighlightAll(activeMenu);\n                  return Optional.some(item);\n                }\n              });\n            });\n          });\n        }\n      };\n      var collapseLeft = function (container, item) {\n        var value = getItemValue(item);\n        return layeredState.collapse(value).bind(function (path) {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path).map(function (activeMenu) {\n            detail.onCollapseMenu(container, item, activeMenu);\n            return activeMenu;\n          });\n        });\n      };\n      var updateView = function (container, item) {\n        var value = getItemValue(item);\n        return layeredState.refresh(value).bind(function (path) {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path);\n        });\n      };\n      var onRight = function (container, item) {\n        return inside(item.element) ? Optional.none() : expandRight(container, item, ExpandHighlightDecision.HighlightSubmenu);\n      };\n      var onLeft = function (container, item) {\n        return inside(item.element) ? Optional.none() : collapseLeft(container, item);\n      };\n      var onEscape = function (container, item) {\n        return collapseLeft(container, item).orThunk(function () {\n          return detail.onEscape(container, item).map(function () {\n            return container;\n          });\n        });\n      };\n      var keyOnItem = function (f) {\n        return function (container, simulatedEvent) {\n          return closest$1(simulatedEvent.getSource(), '.' + detail.markers.item).bind(function (target) {\n            return container.getSystem().getByDom(target).toOptional().bind(function (item) {\n              return f(container, item).map(always);\n            });\n          });\n        };\n      };\n      var events = derive$2([\n        run$1(focus(), function (sandbox, simulatedEvent) {\n          var item = simulatedEvent.event.item;\n          layeredState.lookupItem(getItemValue(item)).each(function () {\n            var menu = simulatedEvent.event.menu;\n            Highlighting.highlight(sandbox, menu);\n            var value = getItemValue(simulatedEvent.event.item);\n            layeredState.refresh(value).each(function (path) {\n              return closeOthers(sandbox, layeredState, path);\n            });\n          });\n        }),\n        runOnExecute$1(function (component, simulatedEvent) {\n          var target = simulatedEvent.event.target;\n          component.getSystem().getByDom(target).each(function (item) {\n            var itemValue = getItemValue(item);\n            if (itemValue.indexOf('collapse-item') === 0) {\n              collapseLeft(component, item);\n            }\n            expandRight(component, item, ExpandHighlightDecision.HighlightSubmenu).fold(function () {\n              detail.onExecute(component, item);\n            }, noop);\n          });\n        }),\n        runOnAttached(function (container, _simulatedEvent) {\n          setup(container).each(function (primary) {\n            Replacing.append(container, premade(primary));\n            detail.onOpenMenu(container, primary);\n            if (detail.highlightImmediately) {\n              setActiveMenu(container, primary);\n            }\n          });\n        })\n      ].concat(detail.navigateOnHover ? [run$1(hover(), function (sandbox, simulatedEvent) {\n          var item = simulatedEvent.event.item;\n          updateView(sandbox, item);\n          expandRight(sandbox, item, ExpandHighlightDecision.HighlightParent);\n          detail.onHover(sandbox, item);\n        })] : []));\n      var getActiveItem = function (container) {\n        return Highlighting.getHighlighted(container).bind(Highlighting.getHighlighted);\n      };\n      var collapseMenuApi = function (container) {\n        getActiveItem(container).each(function (currentItem) {\n          collapseLeft(container, currentItem);\n        });\n      };\n      var highlightPrimary = function (container) {\n        layeredState.getPrimary().each(function (primary) {\n          setActiveMenu(container, primary);\n        });\n      };\n      var extractMenuFromContainer = function (container) {\n        return Optional.from(container.components()[0]).filter(function (comp) {\n          return get$d(comp.element, 'role') === 'menu';\n        });\n      };\n      var repositionMenus = function (container) {\n        var maybeActivePrimary = layeredState.getPrimary().bind(function (primary) {\n          return getActiveItem(container).bind(function (currentItem) {\n            var itemValue = getItemValue(currentItem);\n            var allMenus = values(layeredState.getMenus());\n            var preparedMenus = cat(map$2(allMenus, LayeredState.extractPreparedMenu));\n            return layeredState.getTriggeringPath(itemValue, function (v) {\n              return getItemByValue(container, preparedMenus, v);\n            });\n          }).map(function (triggeringPath) {\n            return {\n              primary: primary,\n              triggeringPath: triggeringPath\n            };\n          });\n        });\n        maybeActivePrimary.fold(function () {\n          extractMenuFromContainer(container).each(function (primaryMenu) {\n            detail.onRepositionMenu(container, primaryMenu, []);\n          });\n        }, function (_a) {\n          var primary = _a.primary, triggeringPath = _a.triggeringPath;\n          detail.onRepositionMenu(container, primary, triggeringPath);\n        });\n      };\n      var apis = {\n        collapseMenu: collapseMenuApi,\n        highlightPrimary: highlightPrimary,\n        repositionMenus: repositionMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        markers: detail.markers,\n        behaviours: augment(detail.tmenuBehaviours, [\n          Keying.config({\n            mode: 'special',\n            onRight: keyOnItem(onRight),\n            onLeft: keyOnItem(onLeft),\n            onEscape: keyOnItem(onEscape),\n            focusIn: function (container, _keyInfo) {\n              layeredState.getPrimary().each(function (primary) {\n                dispatch(container, primary.element, focusItem());\n              });\n            }\n          }),\n          Highlighting.config({\n            highlightClass: detail.markers.selectedMenu,\n            itemClass: detail.markers.menu\n          }),\n          Composing.config({\n            find: function (container) {\n              return Highlighting.getHighlighted(container);\n            }\n          }),\n          Replacing.config({})\n        ]),\n        eventOrder: detail.eventOrder,\n        apis: apis,\n        events: events\n      };\n    };\n    var collapseItem$1 = constant$1('collapse-item');\n\n    var tieredData = function (primary, menus, expansions) {\n      return {\n        primary: primary,\n        menus: menus,\n        expansions: expansions\n      };\n    };\n    var singleData = function (name, menu) {\n      return {\n        primary: name,\n        menus: wrap$1(name, menu),\n        expansions: {}\n      };\n    };\n    var collapseItem = function (text) {\n      return {\n        value: generate$6(collapseItem$1()),\n        meta: { text: text }\n      };\n    };\n    var tieredMenu = single({\n      name: 'TieredMenu',\n      configFields: [\n        onStrictKeyboardHandler('onExecute'),\n        onStrictKeyboardHandler('onEscape'),\n        onStrictHandler('onOpenMenu'),\n        onStrictHandler('onOpenSubmenu'),\n        onHandler('onRepositionMenu'),\n        onHandler('onCollapseMenu'),\n        defaulted('highlightImmediately', true),\n        requiredObjOf('data', [\n          required$1('primary'),\n          required$1('menus'),\n          required$1('expansions')\n        ]),\n        defaulted('fakeFocus', false),\n        onHandler('onHighlight'),\n        onHandler('onHover'),\n        tieredMenuMarkers(),\n        required$1('dom'),\n        defaulted('navigateOnHover', true),\n        defaulted('stayInDom', false),\n        field('tmenuBehaviours', [\n          Keying,\n          Highlighting,\n          Composing,\n          Replacing\n        ]),\n        defaulted('eventOrder', {})\n      ],\n      apis: {\n        collapseMenu: function (apis, tmenu) {\n          apis.collapseMenu(tmenu);\n        },\n        highlightPrimary: function (apis, tmenu) {\n          apis.highlightPrimary(tmenu);\n        },\n        repositionMenus: function (apis, tmenu) {\n          apis.repositionMenus(tmenu);\n        }\n      },\n      factory: make$6,\n      extraApis: {\n        tieredData: tieredData,\n        singleData: singleData,\n        collapseItem: collapseItem\n      }\n    });\n\n    var makeMenu = function (detail, menuSandbox, placementSpec, menuSpec, getBounds) {\n      var lazySink = function () {\n        return detail.lazySink(menuSandbox);\n      };\n      var layouts = menuSpec.type === 'horizontal' ? {\n        layouts: {\n          onLtr: function () {\n            return belowOrAbove();\n          },\n          onRtl: function () {\n            return belowOrAboveRtl();\n          }\n        }\n      } : {};\n      var isFirstTierSubmenu = function (triggeringPaths) {\n        return triggeringPaths.length === 2;\n      };\n      var getSubmenuLayouts = function (triggeringPaths) {\n        return isFirstTierSubmenu(triggeringPaths) ? layouts : {};\n      };\n      return tieredMenu.sketch({\n        dom: { tag: 'div' },\n        data: menuSpec.data,\n        markers: menuSpec.menu.markers,\n        highlightImmediately: menuSpec.menu.highlightImmediately,\n        onEscape: function () {\n          Sandboxing.close(menuSandbox);\n          detail.onEscape.map(function (handler) {\n            return handler(menuSandbox);\n          });\n          return Optional.some(true);\n        },\n        onExecute: function () {\n          return Optional.some(true);\n        },\n        onOpenMenu: function (tmenu, menu) {\n          Positioning.positionWithinBounds(lazySink().getOrDie(), menu, placementSpec, getBounds());\n        },\n        onOpenSubmenu: function (tmenu, item, submenu, triggeringPaths) {\n          var sink = lazySink().getOrDie();\n          Positioning.position(sink, submenu, {\n            anchor: __assign({\n              type: 'submenu',\n              item: item\n            }, getSubmenuLayouts(triggeringPaths))\n          });\n        },\n        onRepositionMenu: function (tmenu, primaryMenu, submenuTriggers) {\n          var sink = lazySink().getOrDie();\n          Positioning.positionWithinBounds(sink, primaryMenu, placementSpec, getBounds());\n          each$1(submenuTriggers, function (st) {\n            var submenuLayouts = getSubmenuLayouts(st.triggeringPath);\n            Positioning.position(sink, st.triggeredMenu, {\n              anchor: __assign({\n                type: 'submenu',\n                item: st.triggeringItem\n              }, submenuLayouts)\n            });\n          });\n        }\n      });\n    };\n    var factory$m = function (detail, spec) {\n      var isPartOfRelated = function (sandbox, queryElem) {\n        var related = detail.getRelated(sandbox);\n        return related.exists(function (rel) {\n          return isPartOf$1(rel, queryElem);\n        });\n      };\n      var setContent = function (sandbox, thing) {\n        Sandboxing.setContent(sandbox, thing);\n      };\n      var showAt = function (sandbox, thing, placementSpec) {\n        showWithin(sandbox, thing, placementSpec, Optional.none());\n      };\n      var showWithin = function (sandbox, thing, placementSpec, boxElement) {\n        showWithinBounds(sandbox, thing, placementSpec, function () {\n          return boxElement.map(function (elem) {\n            return box$1(elem);\n          });\n        });\n      };\n      var showWithinBounds = function (sandbox, thing, placementSpec, getBounds) {\n        var sink = detail.lazySink(sandbox).getOrDie();\n        Sandboxing.openWhileCloaked(sandbox, thing, function () {\n          return Positioning.positionWithinBounds(sink, sandbox, placementSpec, getBounds());\n        });\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'position',\n          config: placementSpec,\n          getBounds: getBounds\n        }));\n      };\n      var showMenuAt = function (sandbox, placementSpec, menuSpec) {\n        showMenuWithinBounds(sandbox, placementSpec, menuSpec, Optional.none);\n      };\n      var showMenuWithinBounds = function (sandbox, placementSpec, menuSpec, getBounds) {\n        var menu = makeMenu(detail, sandbox, placementSpec, menuSpec, getBounds);\n        Sandboxing.open(sandbox, menu);\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'menu',\n          menu: menu\n        }));\n      };\n      var hide = function (sandbox) {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.setValue(sandbox, Optional.none());\n          Sandboxing.close(sandbox);\n        }\n      };\n      var getContent = function (sandbox) {\n        return Sandboxing.getState(sandbox);\n      };\n      var reposition = function (sandbox) {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.getValue(sandbox).each(function (state) {\n            switch (state.mode) {\n            case 'menu':\n              Sandboxing.getState(sandbox).each(tieredMenu.repositionMenus);\n              break;\n            case 'position':\n              var sink = detail.lazySink(sandbox).getOrDie();\n              Positioning.positionWithinBounds(sink, sandbox, state.config, state.getBounds());\n              break;\n            }\n          });\n        }\n      };\n      var apis = {\n        setContent: setContent,\n        showAt: showAt,\n        showWithin: showWithin,\n        showWithinBounds: showWithinBounds,\n        showMenuAt: showMenuAt,\n        showMenuWithinBounds: showMenuWithinBounds,\n        hide: hide,\n        getContent: getContent,\n        reposition: reposition,\n        isOpen: Sandboxing.isOpen\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        behaviours: augment(detail.inlineBehaviours, [\n          Sandboxing.config({\n            isPartOf: function (sandbox, data, queryElem) {\n              return isPartOf$1(data, queryElem) || isPartOfRelated(sandbox, queryElem);\n            },\n            getAttachPoint: function (sandbox) {\n              return detail.lazySink(sandbox).getOrDie();\n            },\n            onOpen: function (sandbox) {\n              detail.onShow(sandbox);\n            },\n            onClose: function (sandbox) {\n              detail.onHide(sandbox);\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: Optional.none()\n            }\n          }),\n          Receiving.config({\n            channels: __assign(__assign({}, receivingChannel$1(__assign({ isExtraPart: spec.isExtraPart }, detail.fireDismissalEventInstead.map(function (fe) {\n              return { fireEventInstead: { event: fe.event } };\n            }).getOr({})))), receivingChannel(__assign(__assign({}, detail.fireRepositionEventInstead.map(function (fe) {\n              return { fireEventInstead: { event: fe.event } };\n            }).getOr({})), { doReposition: reposition })))\n          })\n        ]),\n        eventOrder: detail.eventOrder,\n        apis: apis\n      };\n    };\n    var InlineView = single({\n      name: 'InlineView',\n      configFields: [\n        required$1('lazySink'),\n        onHandler('onShow'),\n        onHandler('onHide'),\n        optionFunction('onEscape'),\n        field('inlineBehaviours', [\n          Sandboxing,\n          Representing,\n          Receiving\n        ]),\n        optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n        optionObjOf('fireRepositionEventInstead', [defaulted('event', repositionRequested())]),\n        defaulted('getRelated', Optional.none),\n        defaulted('isExtraPart', never),\n        defaulted('eventOrder', Optional.none)\n      ],\n      factory: factory$m,\n      apis: {\n        showAt: function (apis, component, anchor, thing) {\n          apis.showAt(component, anchor, thing);\n        },\n        showWithin: function (apis, component, anchor, thing, boxElement) {\n          apis.showWithin(component, anchor, thing, boxElement);\n        },\n        showWithinBounds: function (apis, component, anchor, thing, bounds) {\n          apis.showWithinBounds(component, anchor, thing, bounds);\n        },\n        showMenuAt: function (apis, component, anchor, menuSpec) {\n          apis.showMenuAt(component, anchor, menuSpec);\n        },\n        showMenuWithinBounds: function (apis, component, anchor, menuSpec, bounds) {\n          apis.showMenuWithinBounds(component, anchor, menuSpec, bounds);\n        },\n        hide: function (apis, component) {\n          apis.hide(component);\n        },\n        isOpen: function (apis, component) {\n          return apis.isOpen(component);\n        },\n        getContent: function (apis, component) {\n          return apis.getContent(component);\n        },\n        setContent: function (apis, component, thing) {\n          apis.setContent(component, thing);\n        },\n        reposition: function (apis, component) {\n          apis.reposition(component);\n        }\n      }\n    });\n\n    var labelPrefix = 'layout-inset';\n    var westEdgeX = function (anchor) {\n      return anchor.x;\n    };\n    var middleX = function (anchor, element) {\n      return anchor.x + anchor.width / 2 - element.width / 2;\n    };\n    var eastEdgeX = function (anchor, element) {\n      return anchor.x + anchor.width - element.width;\n    };\n    var northY = function (anchor) {\n      return anchor.y;\n    };\n    var southY = function (anchor, element) {\n      return anchor.y + anchor.height - element.height;\n    };\n    var centreY = function (anchor, element) {\n      return anchor.y + anchor.height / 2 - element.height / 2;\n    };\n    var southwest = function (anchor, element, bubbles) {\n      return nu$6(eastEdgeX(anchor, element), southY(anchor, element), bubbles.insetSouthwest(), northwest$3(), 'southwest', boundsRestriction(anchor, {\n        right: 0,\n        bottom: 3\n      }), labelPrefix);\n    };\n    var southeast = function (anchor, element, bubbles) {\n      return nu$6(westEdgeX(anchor), southY(anchor, element), bubbles.insetSoutheast(), northeast$3(), 'southeast', boundsRestriction(anchor, {\n        left: 1,\n        bottom: 3\n      }), labelPrefix);\n    };\n    var northwest = function (anchor, element, bubbles) {\n      return nu$6(eastEdgeX(anchor, element), northY(anchor), bubbles.insetNorthwest(), southwest$3(), 'northwest', boundsRestriction(anchor, {\n        right: 0,\n        top: 2\n      }), labelPrefix);\n    };\n    var northeast = function (anchor, element, bubbles) {\n      return nu$6(westEdgeX(anchor), northY(anchor), bubbles.insetNortheast(), southeast$3(), 'northeast', boundsRestriction(anchor, {\n        left: 1,\n        top: 2\n      }), labelPrefix);\n    };\n    var north = function (anchor, element, bubbles) {\n      return nu$6(middleX(anchor, element), northY(anchor), bubbles.insetNorth(), south$3(), 'north', boundsRestriction(anchor, { top: 2 }), labelPrefix);\n    };\n    var south = function (anchor, element, bubbles) {\n      return nu$6(middleX(anchor, element), southY(anchor, element), bubbles.insetSouth(), north$3(), 'south', boundsRestriction(anchor, { bottom: 3 }), labelPrefix);\n    };\n    var east = function (anchor, element, bubbles) {\n      return nu$6(eastEdgeX(anchor, element), centreY(anchor, element), bubbles.insetEast(), west$3(), 'east', boundsRestriction(anchor, { right: 0 }), labelPrefix);\n    };\n    var west = function (anchor, element, bubbles) {\n      return nu$6(westEdgeX(anchor), centreY(anchor, element), bubbles.insetWest(), east$3(), 'west', boundsRestriction(anchor, { left: 1 }), labelPrefix);\n    };\n    var lookupPreserveLayout = function (lastPlacement) {\n      switch (lastPlacement) {\n      case 'north':\n        return north;\n      case 'northeast':\n        return northeast;\n      case 'northwest':\n        return northwest;\n      case 'south':\n        return south;\n      case 'southeast':\n        return southeast;\n      case 'southwest':\n        return southwest;\n      case 'east':\n        return east;\n      case 'west':\n        return west;\n      }\n    };\n    var preserve = function (anchor, element, bubbles, placee, bounds) {\n      var layout = getPlacement(placee).map(lookupPreserveLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n    var lookupFlippedLayout = function (lastPlacement) {\n      switch (lastPlacement) {\n      case 'north':\n        return south;\n      case 'northeast':\n        return southeast;\n      case 'northwest':\n        return southwest;\n      case 'south':\n        return north;\n      case 'southeast':\n        return northeast;\n      case 'southwest':\n        return northwest;\n      case 'east':\n        return west;\n      case 'west':\n        return east;\n      }\n    };\n    var flip$2 = function (anchor, element, bubbles, placee, bounds) {\n      var layout = getPlacement(placee).map(lookupFlippedLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n\n    var global$f = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var factory$l = function (detail) {\n      var events = events$a(detail.action);\n      var tag = detail.dom.tag;\n      var lookupAttr = function (attr) {\n        return get$e(detail.dom, 'attributes').bind(function (attrs) {\n          return get$e(attrs, attr);\n        });\n      };\n      var getModAttributes = function () {\n        if (tag === 'button') {\n          var type = lookupAttr('type').getOr('button');\n          var roleAttrs = lookupAttr('role').map(function (role) {\n            return { role: role };\n          }).getOr({});\n          return __assign({ type: type }, roleAttrs);\n        } else {\n          var role = lookupAttr('role').getOr('button');\n          return { role: role };\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: detail.components,\n        events: events,\n        behaviours: SketchBehaviours.augment(detail.buttonBehaviours, [\n          Focusing.config({}),\n          Keying.config({\n            mode: 'execution',\n            useSpace: true,\n            useEnter: true\n          })\n        ]),\n        domModification: { attributes: getModAttributes() },\n        eventOrder: detail.eventOrder\n      };\n    };\n    var Button = single({\n      name: 'Button',\n      factory: factory$l,\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('dom'),\n        defaulted('components', []),\n        SketchBehaviours.field('buttonBehaviours', [\n          Focusing,\n          Keying\n        ]),\n        option('action'),\n        option('role'),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    var getAttrs = function (elem) {\n      var attributes = elem.dom.attributes !== undefined ? elem.dom.attributes : [];\n      return foldl(attributes, function (b, attr) {\n        var _a;\n        if (attr.name === 'class') {\n          return b;\n        } else {\n          return __assign(__assign({}, b), (_a = {}, _a[attr.name] = attr.value, _a));\n        }\n      }, {});\n    };\n    var getClasses = function (elem) {\n      return Array.prototype.slice.call(elem.dom.classList, 0);\n    };\n    var fromHtml = function (html) {\n      var elem = SugarElement.fromHtml(html);\n      var children$1 = children(elem);\n      var attrs = getAttrs(elem);\n      var classes = getClasses(elem);\n      var contents = children$1.length === 0 ? {} : { innerHtml: get$7(elem) };\n      return __assign({\n        tag: name$2(elem),\n        classes: classes,\n        attributes: attrs\n      }, contents);\n    };\n\n    var record = function (spec) {\n      var uid = isSketchSpec(spec) && hasNonNullableKey(spec, 'uid') ? spec.uid : generate$5('memento');\n      var get = function (anyInSystem) {\n        return anyInSystem.getSystem().getByUid(uid).getOrDie();\n      };\n      var getOpt = function (anyInSystem) {\n        return anyInSystem.getSystem().getByUid(uid).toOptional();\n      };\n      var asSpec = function () {\n        return __assign(__assign({}, spec), { uid: uid });\n      };\n      return {\n        get: get,\n        getOpt: getOpt,\n        asSpec: asSpec\n      };\n    };\n\n    function _typeof(obj) {\n      '@babel/helpers - typeof';\n      return _typeof = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && 'function' == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? 'symbol' : typeof obj;\n      }, _typeof(obj);\n    }\n    function _setPrototypeOf(o, p) {\n      _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n        o.__proto__ = p;\n        return o;\n      };\n      return _setPrototypeOf(o, p);\n    }\n    function _isNativeReflectConstruct() {\n      if (typeof Reflect === 'undefined' || !Reflect.construct)\n        return false;\n      if (Reflect.construct.sham)\n        return false;\n      if (typeof Proxy === 'function')\n        return true;\n      try {\n        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {\n        }));\n        return true;\n      } catch (e) {\n        return false;\n      }\n    }\n    function _construct(Parent, args, Class) {\n      if (_isNativeReflectConstruct()) {\n        _construct = Reflect.construct;\n      } else {\n        _construct = function _construct(Parent, args, Class) {\n          var a = [null];\n          a.push.apply(a, args);\n          var Constructor = Function.bind.apply(Parent, a);\n          var instance = new Constructor();\n          if (Class)\n            _setPrototypeOf(instance, Class.prototype);\n          return instance;\n        };\n      }\n      return _construct.apply(null, arguments);\n    }\n    function _toConsumableArray(arr) {\n      return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n    }\n    function _arrayWithoutHoles(arr) {\n      if (Array.isArray(arr))\n        return _arrayLikeToArray(arr);\n    }\n    function _iterableToArray(iter) {\n      if (typeof Symbol !== 'undefined' && iter[Symbol.iterator] != null || iter['@@iterator'] != null)\n        return Array.from(iter);\n    }\n    function _unsupportedIterableToArray(o, minLen) {\n      if (!o)\n        return;\n      if (typeof o === 'string')\n        return _arrayLikeToArray(o, minLen);\n      var n = Object.prototype.toString.call(o).slice(8, -1);\n      if (n === 'Object' && o.constructor)\n        n = o.constructor.name;\n      if (n === 'Map' || n === 'Set')\n        return Array.from(o);\n      if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n        return _arrayLikeToArray(o, minLen);\n    }\n    function _arrayLikeToArray(arr, len) {\n      if (len == null || len > arr.length)\n        len = arr.length;\n      for (var i = 0, arr2 = new Array(len); i < len; i++)\n        arr2[i] = arr[i];\n      return arr2;\n    }\n    function _nonIterableSpread() {\n      throw new TypeError('Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.');\n    }\n    var hasOwnProperty = Object.hasOwnProperty, setPrototypeOf = Object.setPrototypeOf, isFrozen = Object.isFrozen, getPrototypeOf = Object.getPrototypeOf, getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n    var freeze = Object.freeze, seal = Object.seal, create$5 = Object.create;\n    var _ref = typeof Reflect !== 'undefined' && Reflect, apply$1 = _ref.apply, construct = _ref.construct;\n    if (!apply$1) {\n      apply$1 = function apply(fun, thisValue, args) {\n        return fun.apply(thisValue, args);\n      };\n    }\n    if (!freeze) {\n      freeze = function freeze(x) {\n        return x;\n      };\n    }\n    if (!seal) {\n      seal = function seal(x) {\n        return x;\n      };\n    }\n    if (!construct) {\n      construct = function construct(Func, args) {\n        return _construct(Func, _toConsumableArray(args));\n      };\n    }\n    var arrayForEach = unapply(Array.prototype.forEach);\n    var arrayPop = unapply(Array.prototype.pop);\n    var arrayPush = unapply(Array.prototype.push);\n    var stringToLowerCase = unapply(String.prototype.toLowerCase);\n    var stringMatch = unapply(String.prototype.match);\n    var stringReplace = unapply(String.prototype.replace);\n    var stringIndexOf = unapply(String.prototype.indexOf);\n    var stringTrim = unapply(String.prototype.trim);\n    var regExpTest = unapply(RegExp.prototype.test);\n    var typeErrorCreate = unconstruct(TypeError);\n    function unapply(func) {\n      return function (thisArg) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        return apply$1(func, thisArg, args);\n      };\n    }\n    function unconstruct(func) {\n      return function () {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n        return construct(func, args);\n      };\n    }\n    function addToSet(set, array) {\n      if (setPrototypeOf) {\n        setPrototypeOf(set, null);\n      }\n      var l = array.length;\n      while (l--) {\n        var element = array[l];\n        if (typeof element === 'string') {\n          var lcElement = stringToLowerCase(element);\n          if (lcElement !== element) {\n            if (!isFrozen(array)) {\n              array[l] = lcElement;\n            }\n            element = lcElement;\n          }\n        }\n        set[element] = true;\n      }\n      return set;\n    }\n    function clone$1(object) {\n      var newObject = create$5(null);\n      var property;\n      for (property in object) {\n        if (apply$1(hasOwnProperty, object, [property])) {\n          newObject[property] = object[property];\n        }\n      }\n      return newObject;\n    }\n    function lookupGetter(object, prop) {\n      while (object !== null) {\n        var desc = getOwnPropertyDescriptor(object, prop);\n        if (desc) {\n          if (desc.get) {\n            return unapply(desc.get);\n          }\n          if (typeof desc.value === 'function') {\n            return unapply(desc.value);\n          }\n        }\n        object = getPrototypeOf(object);\n      }\n      function fallbackValue(element) {\n        console.warn('fallback value for', element);\n        return null;\n      }\n      return fallbackValue;\n    }\n    var html$1 = freeze([\n      'a',\n      'abbr',\n      'acronym',\n      'address',\n      'area',\n      'article',\n      'aside',\n      'audio',\n      'b',\n      'bdi',\n      'bdo',\n      'big',\n      'blink',\n      'blockquote',\n      'body',\n      'br',\n      'button',\n      'canvas',\n      'caption',\n      'center',\n      'cite',\n      'code',\n      'col',\n      'colgroup',\n      'content',\n      'data',\n      'datalist',\n      'dd',\n      'decorator',\n      'del',\n      'details',\n      'dfn',\n      'dialog',\n      'dir',\n      'div',\n      'dl',\n      'dt',\n      'element',\n      'em',\n      'fieldset',\n      'figcaption',\n      'figure',\n      'font',\n      'footer',\n      'form',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'head',\n      'header',\n      'hgroup',\n      'hr',\n      'html',\n      'i',\n      'img',\n      'input',\n      'ins',\n      'kbd',\n      'label',\n      'legend',\n      'li',\n      'main',\n      'map',\n      'mark',\n      'marquee',\n      'menu',\n      'menuitem',\n      'meter',\n      'nav',\n      'nobr',\n      'ol',\n      'optgroup',\n      'option',\n      'output',\n      'p',\n      'picture',\n      'pre',\n      'progress',\n      'q',\n      'rp',\n      'rt',\n      'ruby',\n      's',\n      'samp',\n      'section',\n      'select',\n      'shadow',\n      'small',\n      'source',\n      'spacer',\n      'span',\n      'strike',\n      'strong',\n      'style',\n      'sub',\n      'summary',\n      'sup',\n      'table',\n      'tbody',\n      'td',\n      'template',\n      'textarea',\n      'tfoot',\n      'th',\n      'thead',\n      'time',\n      'tr',\n      'track',\n      'tt',\n      'u',\n      'ul',\n      'var',\n      'video',\n      'wbr'\n    ]);\n    var svg$1 = freeze([\n      'svg',\n      'a',\n      'altglyph',\n      'altglyphdef',\n      'altglyphitem',\n      'animatecolor',\n      'animatemotion',\n      'animatetransform',\n      'circle',\n      'clippath',\n      'defs',\n      'desc',\n      'ellipse',\n      'filter',\n      'font',\n      'g',\n      'glyph',\n      'glyphref',\n      'hkern',\n      'image',\n      'line',\n      'lineargradient',\n      'marker',\n      'mask',\n      'metadata',\n      'mpath',\n      'path',\n      'pattern',\n      'polygon',\n      'polyline',\n      'radialgradient',\n      'rect',\n      'stop',\n      'style',\n      'switch',\n      'symbol',\n      'text',\n      'textpath',\n      'title',\n      'tref',\n      'tspan',\n      'view',\n      'vkern'\n    ]);\n    var svgFilters = freeze([\n      'feBlend',\n      'feColorMatrix',\n      'feComponentTransfer',\n      'feComposite',\n      'feConvolveMatrix',\n      'feDiffuseLighting',\n      'feDisplacementMap',\n      'feDistantLight',\n      'feFlood',\n      'feFuncA',\n      'feFuncB',\n      'feFuncG',\n      'feFuncR',\n      'feGaussianBlur',\n      'feImage',\n      'feMerge',\n      'feMergeNode',\n      'feMorphology',\n      'feOffset',\n      'fePointLight',\n      'feSpecularLighting',\n      'feSpotLight',\n      'feTile',\n      'feTurbulence'\n    ]);\n    var svgDisallowed = freeze([\n      'animate',\n      'color-profile',\n      'cursor',\n      'discard',\n      'fedropshadow',\n      'font-face',\n      'font-face-format',\n      'font-face-name',\n      'font-face-src',\n      'font-face-uri',\n      'foreignobject',\n      'hatch',\n      'hatchpath',\n      'mesh',\n      'meshgradient',\n      'meshpatch',\n      'meshrow',\n      'missing-glyph',\n      'script',\n      'set',\n      'solidcolor',\n      'unknown',\n      'use'\n    ]);\n    var mathMl$1 = freeze([\n      'math',\n      'menclose',\n      'merror',\n      'mfenced',\n      'mfrac',\n      'mglyph',\n      'mi',\n      'mlabeledtr',\n      'mmultiscripts',\n      'mn',\n      'mo',\n      'mover',\n      'mpadded',\n      'mphantom',\n      'mroot',\n      'mrow',\n      'ms',\n      'mspace',\n      'msqrt',\n      'mstyle',\n      'msub',\n      'msup',\n      'msubsup',\n      'mtable',\n      'mtd',\n      'mtext',\n      'mtr',\n      'munder',\n      'munderover'\n    ]);\n    var mathMlDisallowed = freeze([\n      'maction',\n      'maligngroup',\n      'malignmark',\n      'mlongdiv',\n      'mscarries',\n      'mscarry',\n      'msgroup',\n      'mstack',\n      'msline',\n      'msrow',\n      'semantics',\n      'annotation',\n      'annotation-xml',\n      'mprescripts',\n      'none'\n    ]);\n    var text = freeze(['#text']);\n    var html = freeze([\n      'accept',\n      'action',\n      'align',\n      'alt',\n      'autocapitalize',\n      'autocomplete',\n      'autopictureinpicture',\n      'autoplay',\n      'background',\n      'bgcolor',\n      'border',\n      'capture',\n      'cellpadding',\n      'cellspacing',\n      'checked',\n      'cite',\n      'class',\n      'clear',\n      'color',\n      'cols',\n      'colspan',\n      'controls',\n      'controlslist',\n      'coords',\n      'crossorigin',\n      'datetime',\n      'decoding',\n      'default',\n      'dir',\n      'disabled',\n      'disablepictureinpicture',\n      'disableremoteplayback',\n      'download',\n      'draggable',\n      'enctype',\n      'enterkeyhint',\n      'face',\n      'for',\n      'headers',\n      'height',\n      'hidden',\n      'high',\n      'href',\n      'hreflang',\n      'id',\n      'inputmode',\n      'integrity',\n      'ismap',\n      'kind',\n      'label',\n      'lang',\n      'list',\n      'loading',\n      'loop',\n      'low',\n      'max',\n      'maxlength',\n      'media',\n      'method',\n      'min',\n      'minlength',\n      'multiple',\n      'muted',\n      'name',\n      'nonce',\n      'noshade',\n      'novalidate',\n      'nowrap',\n      'open',\n      'optimum',\n      'pattern',\n      'placeholder',\n      'playsinline',\n      'poster',\n      'preload',\n      'pubdate',\n      'radiogroup',\n      'readonly',\n      'rel',\n      'required',\n      'rev',\n      'reversed',\n      'role',\n      'rows',\n      'rowspan',\n      'spellcheck',\n      'scope',\n      'selected',\n      'shape',\n      'size',\n      'sizes',\n      'span',\n      'srclang',\n      'start',\n      'src',\n      'srcset',\n      'step',\n      'style',\n      'summary',\n      'tabindex',\n      'title',\n      'translate',\n      'type',\n      'usemap',\n      'valign',\n      'value',\n      'width',\n      'xmlns',\n      'slot'\n    ]);\n    var svg = freeze([\n      'accent-height',\n      'accumulate',\n      'additive',\n      'alignment-baseline',\n      'ascent',\n      'attributename',\n      'attributetype',\n      'azimuth',\n      'basefrequency',\n      'baseline-shift',\n      'begin',\n      'bias',\n      'by',\n      'class',\n      'clip',\n      'clippathunits',\n      'clip-path',\n      'clip-rule',\n      'color',\n      'color-interpolation',\n      'color-interpolation-filters',\n      'color-profile',\n      'color-rendering',\n      'cx',\n      'cy',\n      'd',\n      'dx',\n      'dy',\n      'diffuseconstant',\n      'direction',\n      'display',\n      'divisor',\n      'dur',\n      'edgemode',\n      'elevation',\n      'end',\n      'fill',\n      'fill-opacity',\n      'fill-rule',\n      'filter',\n      'filterunits',\n      'flood-color',\n      'flood-opacity',\n      'font-family',\n      'font-size',\n      'font-size-adjust',\n      'font-stretch',\n      'font-style',\n      'font-variant',\n      'font-weight',\n      'fx',\n      'fy',\n      'g1',\n      'g2',\n      'glyph-name',\n      'glyphref',\n      'gradientunits',\n      'gradienttransform',\n      'height',\n      'href',\n      'id',\n      'image-rendering',\n      'in',\n      'in2',\n      'k',\n      'k1',\n      'k2',\n      'k3',\n      'k4',\n      'kerning',\n      'keypoints',\n      'keysplines',\n      'keytimes',\n      'lang',\n      'lengthadjust',\n      'letter-spacing',\n      'kernelmatrix',\n      'kernelunitlength',\n      'lighting-color',\n      'local',\n      'marker-end',\n      'marker-mid',\n      'marker-start',\n      'markerheight',\n      'markerunits',\n      'markerwidth',\n      'maskcontentunits',\n      'maskunits',\n      'max',\n      'mask',\n      'media',\n      'method',\n      'mode',\n      'min',\n      'name',\n      'numoctaves',\n      'offset',\n      'operator',\n      'opacity',\n      'order',\n      'orient',\n      'orientation',\n      'origin',\n      'overflow',\n      'paint-order',\n      'path',\n      'pathlength',\n      'patterncontentunits',\n      'patterntransform',\n      'patternunits',\n      'points',\n      'preservealpha',\n      'preserveaspectratio',\n      'primitiveunits',\n      'r',\n      'rx',\n      'ry',\n      'radius',\n      'refx',\n      'refy',\n      'repeatcount',\n      'repeatdur',\n      'restart',\n      'result',\n      'rotate',\n      'scale',\n      'seed',\n      'shape-rendering',\n      'specularconstant',\n      'specularexponent',\n      'spreadmethod',\n      'startoffset',\n      'stddeviation',\n      'stitchtiles',\n      'stop-color',\n      'stop-opacity',\n      'stroke-dasharray',\n      'stroke-dashoffset',\n      'stroke-linecap',\n      'stroke-linejoin',\n      'stroke-miterlimit',\n      'stroke-opacity',\n      'stroke',\n      'stroke-width',\n      'style',\n      'surfacescale',\n      'systemlanguage',\n      'tabindex',\n      'targetx',\n      'targety',\n      'transform',\n      'transform-origin',\n      'text-anchor',\n      'text-decoration',\n      'text-rendering',\n      'textlength',\n      'type',\n      'u1',\n      'u2',\n      'unicode',\n      'values',\n      'viewbox',\n      'visibility',\n      'version',\n      'vert-adv-y',\n      'vert-origin-x',\n      'vert-origin-y',\n      'width',\n      'word-spacing',\n      'wrap',\n      'writing-mode',\n      'xchannelselector',\n      'ychannelselector',\n      'x',\n      'x1',\n      'x2',\n      'xmlns',\n      'y',\n      'y1',\n      'y2',\n      'z',\n      'zoomandpan'\n    ]);\n    var mathMl = freeze([\n      'accent',\n      'accentunder',\n      'align',\n      'bevelled',\n      'close',\n      'columnsalign',\n      'columnlines',\n      'columnspan',\n      'denomalign',\n      'depth',\n      'dir',\n      'display',\n      'displaystyle',\n      'encoding',\n      'fence',\n      'frame',\n      'height',\n      'href',\n      'id',\n      'largeop',\n      'length',\n      'linethickness',\n      'lspace',\n      'lquote',\n      'mathbackground',\n      'mathcolor',\n      'mathsize',\n      'mathvariant',\n      'maxsize',\n      'minsize',\n      'movablelimits',\n      'notation',\n      'numalign',\n      'open',\n      'rowalign',\n      'rowlines',\n      'rowspacing',\n      'rowspan',\n      'rspace',\n      'rquote',\n      'scriptlevel',\n      'scriptminsize',\n      'scriptsizemultiplier',\n      'selection',\n      'separator',\n      'separators',\n      'stretchy',\n      'subscriptshift',\n      'supscriptshift',\n      'symmetric',\n      'voffset',\n      'width',\n      'xmlns'\n    ]);\n    var xml = freeze([\n      'xlink:href',\n      'xml:id',\n      'xlink:title',\n      'xml:space',\n      'xmlns:xlink'\n    ]);\n    var MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm);\n    var ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\n    var DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/);\n    var ARIA_ATTR = seal(/^aria-[\\-\\w]+$/);\n    var IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i);\n    var IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n    var ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g);\n    var DOCTYPE_NAME = seal(/^html$/i);\n    var getGlobal = function getGlobal() {\n      return typeof window === 'undefined' ? null : window;\n    };\n    var _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, document) {\n      if (_typeof(trustedTypes) !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n        return null;\n      }\n      var suffix = null;\n      var ATTR_NAME = 'data-tt-policy-suffix';\n      if (document.currentScript && document.currentScript.hasAttribute(ATTR_NAME)) {\n        suffix = document.currentScript.getAttribute(ATTR_NAME);\n      }\n      var policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n      try {\n        return trustedTypes.createPolicy(policyName, {\n          createHTML: function createHTML(html) {\n            return html;\n          }\n        });\n      } catch (_) {\n        console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n        return null;\n      }\n    };\n    function createDOMPurify() {\n      var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n      var DOMPurify = function DOMPurify(root) {\n        return createDOMPurify(root);\n      };\n      DOMPurify.version = '2.3.8';\n      DOMPurify.removed = [];\n      if (!window || !window.document || window.document.nodeType !== 9) {\n        DOMPurify.isSupported = false;\n        return DOMPurify;\n      }\n      var originalDocument = window.document;\n      var document = window.document;\n      var DocumentFragment = window.DocumentFragment, HTMLTemplateElement = window.HTMLTemplateElement, Node = window.Node, Element = window.Element, NodeFilter = window.NodeFilter, _window$NamedNodeMap = window.NamedNodeMap, NamedNodeMap = _window$NamedNodeMap === void 0 ? window.NamedNodeMap || window.MozNamedAttrMap : _window$NamedNodeMap, HTMLFormElement = window.HTMLFormElement, DOMParser = window.DOMParser, trustedTypes = window.trustedTypes;\n      var ElementPrototype = Element.prototype;\n      var cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n      var getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n      var getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n      var getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n      if (typeof HTMLTemplateElement === 'function') {\n        var template = document.createElement('template');\n        if (template.content && template.content.ownerDocument) {\n          document = template.content.ownerDocument;\n        }\n      }\n      var trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, originalDocument);\n      var emptyHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML('') : '';\n      var _document = document, implementation = _document.implementation, createNodeIterator = _document.createNodeIterator, createDocumentFragment = _document.createDocumentFragment, getElementsByTagName = _document.getElementsByTagName;\n      var importNode = originalDocument.importNode;\n      var documentMode = {};\n      try {\n        documentMode = clone$1(document).documentMode ? document.documentMode : {};\n      } catch (_) {\n      }\n      var hooks = {};\n      DOMPurify.isSupported = typeof getParentNode === 'function' && implementation && typeof implementation.createHTMLDocument !== 'undefined' && documentMode !== 9;\n      var MUSTACHE_EXPR$1 = MUSTACHE_EXPR, ERB_EXPR$1 = ERB_EXPR, DATA_ATTR$1 = DATA_ATTR, ARIA_ATTR$1 = ARIA_ATTR, IS_SCRIPT_OR_DATA$1 = IS_SCRIPT_OR_DATA, ATTR_WHITESPACE$1 = ATTR_WHITESPACE;\n      var IS_ALLOWED_URI$1 = IS_ALLOWED_URI;\n      var ALLOWED_TAGS = null;\n      var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray(html$1), _toConsumableArray(svg$1), _toConsumableArray(svgFilters), _toConsumableArray(mathMl$1), _toConsumableArray(text)));\n      var ALLOWED_ATTR = null;\n      var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray(html), _toConsumableArray(svg), _toConsumableArray(mathMl), _toConsumableArray(xml)));\n      var CUSTOM_ELEMENT_HANDLING = Object.seal(Object.create(null, {\n        tagNameCheck: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: null\n        },\n        attributeNameCheck: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: null\n        },\n        allowCustomizedBuiltInElements: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: false\n        }\n      }));\n      var FORBID_TAGS = null;\n      var FORBID_ATTR = null;\n      var ALLOW_ARIA_ATTR = true;\n      var ALLOW_DATA_ATTR = true;\n      var ALLOW_UNKNOWN_PROTOCOLS = false;\n      var SAFE_FOR_TEMPLATES = false;\n      var WHOLE_DOCUMENT = false;\n      var SET_CONFIG = false;\n      var FORCE_BODY = false;\n      var RETURN_DOM = false;\n      var RETURN_DOM_FRAGMENT = false;\n      var RETURN_TRUSTED_TYPE = false;\n      var SANITIZE_DOM = true;\n      var KEEP_CONTENT = true;\n      var IN_PLACE = false;\n      var USE_PROFILES = {};\n      var FORBID_CONTENTS = null;\n      var DEFAULT_FORBID_CONTENTS = addToSet({}, [\n        'annotation-xml',\n        'audio',\n        'colgroup',\n        'desc',\n        'foreignobject',\n        'head',\n        'iframe',\n        'math',\n        'mi',\n        'mn',\n        'mo',\n        'ms',\n        'mtext',\n        'noembed',\n        'noframes',\n        'noscript',\n        'plaintext',\n        'script',\n        'style',\n        'svg',\n        'template',\n        'thead',\n        'title',\n        'video',\n        'xmp'\n      ]);\n      var DATA_URI_TAGS = null;\n      var DEFAULT_DATA_URI_TAGS = addToSet({}, [\n        'audio',\n        'video',\n        'img',\n        'source',\n        'image',\n        'track'\n      ]);\n      var URI_SAFE_ATTRIBUTES = null;\n      var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\n        'alt',\n        'class',\n        'for',\n        'id',\n        'label',\n        'name',\n        'pattern',\n        'placeholder',\n        'role',\n        'summary',\n        'title',\n        'value',\n        'style',\n        'xmlns'\n      ]);\n      var MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n      var SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n      var HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n      var NAMESPACE = HTML_NAMESPACE;\n      var IS_EMPTY_INPUT = false;\n      var PARSER_MEDIA_TYPE;\n      var SUPPORTED_PARSER_MEDIA_TYPES = [\n        'application/xhtml+xml',\n        'text/html'\n      ];\n      var DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n      var transformCaseFunc;\n      var CONFIG = null;\n      var formElement = document.createElement('form');\n      var isRegexOrFunction = function isRegexOrFunction(testValue) {\n        return testValue instanceof RegExp || testValue instanceof Function;\n      };\n      var _parseConfig = function _parseConfig(cfg) {\n        if (CONFIG && CONFIG === cfg) {\n          return;\n        }\n        if (!cfg || _typeof(cfg) !== 'object') {\n          cfg = {};\n        }\n        cfg = clone$1(cfg);\n        ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS) : DEFAULT_ALLOWED_TAGS;\n        ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR) : DEFAULT_ALLOWED_ATTR;\n        URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone$1(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR) : DEFAULT_URI_SAFE_ATTRIBUTES;\n        DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone$1(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS) : DEFAULT_DATA_URI_TAGS;\n        FORBID_CONTENTS = 'FORBID_CONTENTS' in cfg ? addToSet({}, cfg.FORBID_CONTENTS) : DEFAULT_FORBID_CONTENTS;\n        FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS) : {};\n        FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR) : {};\n        USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n        ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false;\n        ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false;\n        ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false;\n        SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false;\n        WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false;\n        RETURN_DOM = cfg.RETURN_DOM || false;\n        RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false;\n        RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false;\n        FORCE_BODY = cfg.FORCE_BODY || false;\n        SANITIZE_DOM = cfg.SANITIZE_DOM !== false;\n        KEEP_CONTENT = cfg.KEEP_CONTENT !== false;\n        IN_PLACE = cfg.IN_PLACE || false;\n        IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$1;\n        NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n        if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n        }\n        if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n          CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n        }\n        if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n          CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n        }\n        PARSER_MEDIA_TYPE = SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE : PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE;\n        transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? function (x) {\n          return x;\n        } : stringToLowerCase;\n        if (SAFE_FOR_TEMPLATES) {\n          ALLOW_DATA_ATTR = false;\n        }\n        if (RETURN_DOM_FRAGMENT) {\n          RETURN_DOM = true;\n        }\n        if (USE_PROFILES) {\n          ALLOWED_TAGS = addToSet({}, _toConsumableArray(text));\n          ALLOWED_ATTR = [];\n          if (USE_PROFILES.html === true) {\n            addToSet(ALLOWED_TAGS, html$1);\n            addToSet(ALLOWED_ATTR, html);\n          }\n          if (USE_PROFILES.svg === true) {\n            addToSet(ALLOWED_TAGS, svg$1);\n            addToSet(ALLOWED_ATTR, svg);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n          if (USE_PROFILES.svgFilters === true) {\n            addToSet(ALLOWED_TAGS, svgFilters);\n            addToSet(ALLOWED_ATTR, svg);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n          if (USE_PROFILES.mathMl === true) {\n            addToSet(ALLOWED_TAGS, mathMl$1);\n            addToSet(ALLOWED_ATTR, mathMl);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n        }\n        if (cfg.ADD_TAGS) {\n          if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n            ALLOWED_TAGS = clone$1(ALLOWED_TAGS);\n          }\n          addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);\n        }\n        if (cfg.ADD_ATTR) {\n          if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n            ALLOWED_ATTR = clone$1(ALLOWED_ATTR);\n          }\n          addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);\n        }\n        if (cfg.ADD_URI_SAFE_ATTR) {\n          addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);\n        }\n        if (cfg.FORBID_CONTENTS) {\n          if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n            FORBID_CONTENTS = clone$1(FORBID_CONTENTS);\n          }\n          addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS);\n        }\n        if (KEEP_CONTENT) {\n          ALLOWED_TAGS['#text'] = true;\n        }\n        if (WHOLE_DOCUMENT) {\n          addToSet(ALLOWED_TAGS, [\n            'html',\n            'head',\n            'body'\n          ]);\n        }\n        if (ALLOWED_TAGS.table) {\n          addToSet(ALLOWED_TAGS, ['tbody']);\n          delete FORBID_TAGS.tbody;\n        }\n        if (freeze) {\n          freeze(cfg);\n        }\n        CONFIG = cfg;\n      };\n      var MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, [\n        'mi',\n        'mo',\n        'mn',\n        'ms',\n        'mtext'\n      ]);\n      var HTML_INTEGRATION_POINTS = addToSet({}, [\n        'foreignobject',\n        'desc',\n        'title',\n        'annotation-xml'\n      ]);\n      var COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, [\n        'title',\n        'style',\n        'font',\n        'a',\n        'script'\n      ]);\n      var ALL_SVG_TAGS = addToSet({}, svg$1);\n      addToSet(ALL_SVG_TAGS, svgFilters);\n      addToSet(ALL_SVG_TAGS, svgDisallowed);\n      var ALL_MATHML_TAGS = addToSet({}, mathMl$1);\n      addToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n      var _checkValidNamespace = function _checkValidNamespace(element) {\n        var parent = getParentNode(element);\n        if (!parent || !parent.tagName) {\n          parent = {\n            namespaceURI: HTML_NAMESPACE,\n            tagName: 'template'\n          };\n        }\n        var tagName = stringToLowerCase(element.tagName);\n        var parentTagName = stringToLowerCase(parent.tagName);\n        if (element.namespaceURI === SVG_NAMESPACE) {\n          if (parent.namespaceURI === HTML_NAMESPACE) {\n            return tagName === 'svg';\n          }\n          if (parent.namespaceURI === MATHML_NAMESPACE) {\n            return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n          }\n          return Boolean(ALL_SVG_TAGS[tagName]);\n        }\n        if (element.namespaceURI === MATHML_NAMESPACE) {\n          if (parent.namespaceURI === HTML_NAMESPACE) {\n            return tagName === 'math';\n          }\n          if (parent.namespaceURI === SVG_NAMESPACE) {\n            return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n          }\n          return Boolean(ALL_MATHML_TAGS[tagName]);\n        }\n        if (element.namespaceURI === HTML_NAMESPACE) {\n          if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n            return false;\n          }\n          if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n            return false;\n          }\n          return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n        }\n        return false;\n      };\n      var _forceRemove = function _forceRemove(node) {\n        arrayPush(DOMPurify.removed, { element: node });\n        try {\n          node.parentNode.removeChild(node);\n        } catch (_) {\n          try {\n            node.outerHTML = emptyHTML;\n          } catch (_) {\n            node.remove();\n          }\n        }\n      };\n      var _removeAttribute = function _removeAttribute(name, node) {\n        try {\n          arrayPush(DOMPurify.removed, {\n            attribute: node.getAttributeNode(name),\n            from: node\n          });\n        } catch (_) {\n          arrayPush(DOMPurify.removed, {\n            attribute: null,\n            from: node\n          });\n        }\n        node.removeAttribute(name);\n        if (name === 'is' && !ALLOWED_ATTR[name]) {\n          if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n            try {\n              _forceRemove(node);\n            } catch (_) {\n            }\n          } else {\n            try {\n              node.setAttribute(name, '');\n            } catch (_) {\n            }\n          }\n        }\n      };\n      var _initDocument = function _initDocument(dirty) {\n        var doc;\n        var leadingWhitespace;\n        if (FORCE_BODY) {\n          dirty = '<remove></remove>' + dirty;\n        } else {\n          var matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n          leadingWhitespace = matches && matches[0];\n        }\n        if (PARSER_MEDIA_TYPE === 'application/xhtml+xml') {\n          dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n        }\n        var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        if (NAMESPACE === HTML_NAMESPACE) {\n          try {\n            doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n          } catch (_) {\n          }\n        }\n        if (!doc || !doc.documentElement) {\n          doc = implementation.createDocument(NAMESPACE, 'template', null);\n          try {\n            doc.documentElement.innerHTML = IS_EMPTY_INPUT ? '' : dirtyPayload;\n          } catch (_) {\n          }\n        }\n        var body = doc.body || doc.documentElement;\n        if (dirty && leadingWhitespace) {\n          body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n        }\n        if (NAMESPACE === HTML_NAMESPACE) {\n          return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n        }\n        return WHOLE_DOCUMENT ? doc.documentElement : body;\n      };\n      var _createIterator = function _createIterator(root) {\n        return createNodeIterator.call(root.ownerDocument || root, root, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n      };\n      var _isClobbered = function _isClobbered(elm) {\n        return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function');\n      };\n      var _isNode = function _isNode(object) {\n        return _typeof(Node) === 'object' ? object instanceof Node : object && _typeof(object) === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n      };\n      var _executeHook = function _executeHook(entryPoint, currentNode, data) {\n        if (!hooks[entryPoint]) {\n          return;\n        }\n        arrayForEach(hooks[entryPoint], function (hook) {\n          hook.call(DOMPurify, currentNode, data, CONFIG);\n        });\n      };\n      var _sanitizeElements = function _sanitizeElements(currentNode) {\n        var content;\n        _executeHook('beforeSanitizeElements', currentNode, null);\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (regExpTest(/[\\u0080-\\uFFFF]/, currentNode.nodeName)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        var tagName = transformCaseFunc(currentNode.nodeName);\n        _executeHook('uponSanitizeElement', currentNode, {\n          tagName: tagName,\n          allowedTags: ALLOWED_TAGS\n        });\n        if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (tagName === 'select' && regExpTest(/<template/i, currentNode.innerHTML)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n            if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName))\n              return false;\n            if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName))\n              return false;\n          }\n          if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n            var parentNode = getParentNode(currentNode) || currentNode.parentNode;\n            var childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n            if (childNodes && parentNode) {\n              var childCount = childNodes.length;\n              for (var i = childCount - 1; i >= 0; --i) {\n                parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n              }\n            }\n          }\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if ((tagName === 'noscript' || tagName === 'noembed') && regExpTest(/<\\/no(script|embed)/i, currentNode.innerHTML)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n          content = currentNode.textContent;\n          content = stringReplace(content, MUSTACHE_EXPR$1, ' ');\n          content = stringReplace(content, ERB_EXPR$1, ' ');\n          if (currentNode.textContent !== content) {\n            arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n            currentNode.textContent = content;\n          }\n        }\n        _executeHook('afterSanitizeElements', currentNode, null);\n        return false;\n      };\n      var _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n        if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n          return false;\n        }\n        if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR$1, lcName));\n        else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR$1, lcName));\n        else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n          if (_basicCustomElementTest(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) || lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value)));\n          else {\n            return false;\n          }\n        } else if (URI_SAFE_ATTRIBUTES[lcName]);\n        else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE$1, '')));\n        else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]);\n        else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA$1, stringReplace(value, ATTR_WHITESPACE$1, '')));\n        else if (!value);\n        else {\n          return false;\n        }\n        return true;\n      };\n      var _basicCustomElementTest = function _basicCustomElementTest(tagName) {\n        return tagName.indexOf('-') > 0;\n      };\n      var _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n        var attr;\n        var value;\n        var lcName;\n        var l;\n        _executeHook('beforeSanitizeAttributes', currentNode, null);\n        var attributes = currentNode.attributes;\n        if (!attributes) {\n          return;\n        }\n        var hookEvent = {\n          attrName: '',\n          attrValue: '',\n          keepAttr: true,\n          allowedAttributes: ALLOWED_ATTR\n        };\n        l = attributes.length;\n        while (l--) {\n          attr = attributes[l];\n          var _attr = attr, name = _attr.name, namespaceURI = _attr.namespaceURI;\n          value = name === 'value' ? attr.value : stringTrim(attr.value);\n          lcName = transformCaseFunc(name);\n          hookEvent.attrName = lcName;\n          hookEvent.attrValue = value;\n          hookEvent.keepAttr = true;\n          hookEvent.forceKeepAttr = undefined;\n          _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n          value = hookEvent.attrValue;\n          if (hookEvent.forceKeepAttr) {\n            continue;\n          }\n          _removeAttribute(name, currentNode);\n          if (!hookEvent.keepAttr) {\n            continue;\n          }\n          if (regExpTest(/\\/>/i, value)) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (SAFE_FOR_TEMPLATES) {\n            value = stringReplace(value, MUSTACHE_EXPR$1, ' ');\n            value = stringReplace(value, ERB_EXPR$1, ' ');\n          }\n          var lcTag = transformCaseFunc(currentNode.nodeName);\n          if (!_isValidAttribute(lcTag, lcName, value)) {\n            continue;\n          }\n          try {\n            if (namespaceURI) {\n              currentNode.setAttributeNS(namespaceURI, name, value);\n            } else {\n              currentNode.setAttribute(name, value);\n            }\n            arrayPop(DOMPurify.removed);\n          } catch (_) {\n          }\n        }\n        _executeHook('afterSanitizeAttributes', currentNode, null);\n      };\n      var _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n        var shadowNode;\n        var shadowIterator = _createIterator(fragment);\n        _executeHook('beforeSanitizeShadowDOM', fragment, null);\n        while (shadowNode = shadowIterator.nextNode()) {\n          _executeHook('uponSanitizeShadowNode', shadowNode, null);\n          if (_sanitizeElements(shadowNode)) {\n            continue;\n          }\n          if (shadowNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM(shadowNode.content);\n          }\n          _sanitizeAttributes(shadowNode);\n        }\n        _executeHook('afterSanitizeShadowDOM', fragment, null);\n      };\n      DOMPurify.sanitize = function (dirty, cfg) {\n        var body;\n        var importedNode;\n        var currentNode;\n        var oldNode;\n        var returnNode;\n        IS_EMPTY_INPUT = !dirty;\n        if (IS_EMPTY_INPUT) {\n          dirty = '<!-->';\n        }\n        if (typeof dirty !== 'string' && !_isNode(dirty)) {\n          if (typeof dirty.toString !== 'function') {\n            throw typeErrorCreate('toString is not a function');\n          } else {\n            dirty = dirty.toString();\n            if (typeof dirty !== 'string') {\n              throw typeErrorCreate('dirty is not a string, aborting');\n            }\n          }\n        }\n        if (!DOMPurify.isSupported) {\n          if (_typeof(window.toStaticHTML) === 'object' || typeof window.toStaticHTML === 'function') {\n            if (typeof dirty === 'string') {\n              return window.toStaticHTML(dirty);\n            }\n            if (_isNode(dirty)) {\n              return window.toStaticHTML(dirty.outerHTML);\n            }\n          }\n          return dirty;\n        }\n        if (!SET_CONFIG) {\n          _parseConfig(cfg);\n        }\n        DOMPurify.removed = [];\n        if (typeof dirty === 'string') {\n          IN_PLACE = false;\n        }\n        if (IN_PLACE) {\n          if (dirty.nodeName) {\n            var tagName = transformCaseFunc(dirty.nodeName);\n            if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n              throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n            }\n          }\n        } else if (dirty instanceof Node) {\n          body = _initDocument('<!---->');\n          importedNode = body.ownerDocument.importNode(dirty, true);\n          if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n            body = importedNode;\n          } else if (importedNode.nodeName === 'HTML') {\n            body = importedNode;\n          } else {\n            body.appendChild(importedNode);\n          }\n        } else {\n          if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && dirty.indexOf('<') === -1) {\n            return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n          }\n          body = _initDocument(dirty);\n          if (!body) {\n            return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n          }\n        }\n        if (body && FORCE_BODY) {\n          _forceRemove(body.firstChild);\n        }\n        var nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n        while (currentNode = nodeIterator.nextNode()) {\n          if (currentNode.nodeType === 3 && currentNode === oldNode) {\n            continue;\n          }\n          if (_sanitizeElements(currentNode)) {\n            continue;\n          }\n          if (currentNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM(currentNode.content);\n          }\n          _sanitizeAttributes(currentNode);\n          oldNode = currentNode;\n        }\n        oldNode = null;\n        if (IN_PLACE) {\n          return dirty;\n        }\n        if (RETURN_DOM) {\n          if (RETURN_DOM_FRAGMENT) {\n            returnNode = createDocumentFragment.call(body.ownerDocument);\n            while (body.firstChild) {\n              returnNode.appendChild(body.firstChild);\n            }\n          } else {\n            returnNode = body;\n          }\n          if (ALLOWED_ATTR.shadowroot) {\n            returnNode = importNode.call(originalDocument, returnNode, true);\n          }\n          return returnNode;\n        }\n        var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n        if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n          serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n        }\n        if (SAFE_FOR_TEMPLATES) {\n          serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR$1, ' ');\n          serializedHTML = stringReplace(serializedHTML, ERB_EXPR$1, ' ');\n        }\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n      };\n      DOMPurify.setConfig = function (cfg) {\n        _parseConfig(cfg);\n        SET_CONFIG = true;\n      };\n      DOMPurify.clearConfig = function () {\n        CONFIG = null;\n        SET_CONFIG = false;\n      };\n      DOMPurify.isValidAttribute = function (tag, attr, value) {\n        if (!CONFIG) {\n          _parseConfig({});\n        }\n        var lcTag = transformCaseFunc(tag);\n        var lcName = transformCaseFunc(attr);\n        return _isValidAttribute(lcTag, lcName, value);\n      };\n      DOMPurify.addHook = function (entryPoint, hookFunction) {\n        if (typeof hookFunction !== 'function') {\n          return;\n        }\n        hooks[entryPoint] = hooks[entryPoint] || [];\n        arrayPush(hooks[entryPoint], hookFunction);\n      };\n      DOMPurify.removeHook = function (entryPoint) {\n        if (hooks[entryPoint]) {\n          return arrayPop(hooks[entryPoint]);\n        }\n      };\n      DOMPurify.removeHooks = function (entryPoint) {\n        if (hooks[entryPoint]) {\n          hooks[entryPoint] = [];\n        }\n      };\n      DOMPurify.removeAllHooks = function () {\n        hooks = {};\n      };\n      return DOMPurify;\n    }\n    var purify = createDOMPurify();\n\n    var sanitizeHtmlString = function (html) {\n      return purify().sanitize(html);\n    };\n\n    var global$e = tinymce.util.Tools.resolve('tinymce.util.I18n');\n\n    var rtlTransform = {\n      'indent': true,\n      'outdent': true,\n      'table-insert-column-after': true,\n      'table-insert-column-before': true,\n      'paste-column-after': true,\n      'paste-column-before': true,\n      'unordered-list': true,\n      'list-bull-circle': true,\n      'list-bull-default': true,\n      'list-bull-square': true\n    };\n    var defaultIconName = 'temporary-placeholder';\n    var defaultIcon = function (icons) {\n      return function () {\n        return get$e(icons, defaultIconName).getOr('!not found!');\n      };\n    };\n    var getIconName = function (name, icons) {\n      var lcName = name.toLowerCase();\n      if (global$e.isRtl()) {\n        var rtlName = ensureTrailing(lcName, '-rtl');\n        return has$2(icons, rtlName) ? rtlName : lcName;\n      } else {\n        return lcName;\n      }\n    };\n    var lookupIcon = function (name, icons) {\n      return get$e(icons, getIconName(name, icons));\n    };\n    var get$1 = function (name, iconProvider) {\n      var icons = iconProvider();\n      return lookupIcon(name, icons).getOrThunk(defaultIcon(icons));\n    };\n    var getOr = function (name, iconProvider, fallbackIcon) {\n      var icons = iconProvider();\n      return lookupIcon(name, icons).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n    };\n    var needsRtlTransform = function (iconName) {\n      return global$e.isRtl() ? has$2(rtlTransform, iconName) : false;\n    };\n    var addFocusableBehaviour = function () {\n      return config('add-focusable', [runOnAttached(function (comp) {\n          child(comp.element, 'svg').each(function (svg) {\n            return set$8(svg, 'focusable', 'false');\n          });\n        })]);\n    };\n    var renderIcon$2 = function (spec, iconName, icons, fallbackIcon) {\n      var _a, _b;\n      var rtlIconClasses = needsRtlTransform(iconName) ? ['tox-icon--flip'] : [];\n      var iconHtml = get$e(icons, getIconName(iconName, icons)).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n      return {\n        dom: {\n          tag: spec.tag,\n          attributes: (_a = spec.attributes) !== null && _a !== void 0 ? _a : {},\n          classes: spec.classes.concat(rtlIconClasses),\n          innerHtml: iconHtml\n        },\n        behaviours: derive$1(__spreadArray(__spreadArray([], (_b = spec.behaviours) !== null && _b !== void 0 ? _b : [], true), [addFocusableBehaviour()], false))\n      };\n    };\n    var render$3 = function (iconName, spec, iconProvider, fallbackIcon) {\n      if (fallbackIcon === void 0) {\n        fallbackIcon = Optional.none();\n      }\n      return renderIcon$2(spec, iconName, iconProvider(), fallbackIcon);\n    };\n    var renderFirst = function (iconNames, spec, iconProvider) {\n      var icons = iconProvider();\n      var iconName = find$5(iconNames, function (name) {\n        return has$2(icons, getIconName(name, icons));\n      });\n      return renderIcon$2(spec, iconName.getOr(defaultIconName), icons, Optional.none());\n    };\n\n    var notificationIconMap = {\n      success: 'checkmark',\n      error: 'warning',\n      err: 'error',\n      warning: 'warning',\n      warn: 'warning',\n      info: 'info'\n    };\n    var factory$k = function (detail) {\n      var memBannerText = record({\n        dom: fromHtml('<p>' + sanitizeHtmlString(detail.translationProvider(detail.text)) + '</p>'),\n        behaviours: derive$1([Replacing.config({})])\n      });\n      var renderPercentBar = function (percent) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-bar'],\n            attributes: { style: 'width: ' + percent + '%' }\n          }\n        };\n      };\n      var renderPercentText = function (percent) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-text'],\n            innerHtml: percent + '%'\n          }\n        };\n      };\n      var memBannerProgress = record({\n        dom: {\n          tag: 'div',\n          classes: detail.progress ? [\n            'tox-progress-bar',\n            'tox-progress-indicator'\n          ] : ['tox-progress-bar']\n        },\n        components: [\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-bar-container']\n            },\n            components: [renderPercentBar(0)]\n          },\n          renderPercentText(0)\n        ],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      var updateProgress = function (comp, percent) {\n        if (comp.getSystem().isConnected()) {\n          memBannerProgress.getOpt(comp).each(function (progress) {\n            Replacing.set(progress, [\n              {\n                dom: {\n                  tag: 'div',\n                  classes: ['tox-bar-container']\n                },\n                components: [renderPercentBar(percent)]\n              },\n              renderPercentText(percent)\n            ]);\n          });\n        }\n      };\n      var updateText = function (comp, text) {\n        if (comp.getSystem().isConnected()) {\n          var banner = memBannerText.get(comp);\n          Replacing.set(banner, [text$1(text)]);\n        }\n      };\n      var apis = {\n        updateProgress: updateProgress,\n        updateText: updateText\n      };\n      var iconChoices = flatten([\n        detail.icon.toArray(),\n        detail.level.toArray(),\n        detail.level.bind(function (level) {\n          return Optional.from(notificationIconMap[level]);\n        }).toArray()\n      ]);\n      var memButton = record(Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-notification__dismiss',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ]\n        },\n        components: [render$3('close', {\n            tag: 'div',\n            classes: ['tox-icon'],\n            attributes: { 'aria-label': detail.translationProvider('Close') }\n          }, detail.iconProvider)],\n        action: function (comp) {\n          detail.onAction(comp);\n        }\n      }));\n      var notificationIconSpec = renderFirst(iconChoices, {\n        tag: 'div',\n        classes: ['tox-notification__icon']\n      }, detail.iconProvider);\n      var notificationBodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-notification__body']\n        },\n        components: [memBannerText.asSpec()],\n        behaviours: derive$1([Replacing.config({})])\n      };\n      var components = [\n        notificationIconSpec,\n        notificationBodySpec\n      ];\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          attributes: { role: 'alert' },\n          classes: detail.level.map(function (level) {\n            return [\n              'tox-notification',\n              'tox-notification--in',\n              'tox-notification--' + level\n            ];\n          }).getOr([\n            'tox-notification',\n            'tox-notification--in'\n          ])\n        },\n        behaviours: derive$1([\n          Focusing.config({}),\n          config('notification-events', [run$1(focusin(), function (comp) {\n              memButton.getOpt(comp).each(Focusing.focus);\n            })])\n        ]),\n        components: components.concat(detail.progress ? [memBannerProgress.asSpec()] : []).concat(!detail.closeButton ? [] : [memButton.asSpec()]),\n        apis: apis\n      };\n    };\n    var Notification = single({\n      name: 'Notification',\n      factory: factory$k,\n      configFields: [\n        option('level'),\n        required$1('progress'),\n        required$1('icon'),\n        required$1('onAction'),\n        required$1('text'),\n        required$1('iconProvider'),\n        required$1('translationProvider'),\n        defaultedBoolean('closeButton', true)\n      ],\n      apis: {\n        updateProgress: function (apis, comp, percent) {\n          apis.updateProgress(comp, percent);\n        },\n        updateText: function (apis, comp, text) {\n          apis.updateText(comp, text);\n        }\n      }\n    });\n\n    function NotificationManagerImpl (editor, extras, uiMothership) {\n      var sharedBackstage = extras.backstage.shared;\n      var getLayoutDirection = function (rel) {\n        switch (rel) {\n        case 'bc-bc':\n          return south;\n        case 'tc-tc':\n          return north;\n        case 'tc-bc':\n          return north$2;\n        case 'bc-tc':\n        default:\n          return south$2;\n        }\n      };\n      var reposition = function (notifications) {\n        if (notifications.length > 0) {\n          each$1(notifications, function (notification, index) {\n            if (index === 0) {\n              notification.moveRel(null, 'banner');\n            } else {\n              notification.moveRel(notifications[index - 1].getEl(), 'bc-tc');\n            }\n          });\n        }\n      };\n      var open = function (settings, closeCallback) {\n        var hideCloseButton = !settings.closeButton && settings.timeout && (settings.timeout > 0 || settings.timeout < 0);\n        var close = function () {\n          closeCallback();\n          InlineView.hide(notificationWrapper);\n        };\n        var notification = build$1(Notification.sketch({\n          text: settings.text,\n          level: contains$2([\n            'success',\n            'error',\n            'warning',\n            'warn',\n            'info'\n          ], settings.type) ? settings.type : undefined,\n          progress: settings.progressBar === true,\n          icon: Optional.from(settings.icon),\n          closeButton: !hideCloseButton,\n          onAction: close,\n          iconProvider: sharedBackstage.providers.icons,\n          translationProvider: sharedBackstage.providers.translate\n        }));\n        var notificationWrapper = build$1(InlineView.sketch(__assign({\n          dom: {\n            tag: 'div',\n            classes: ['tox-notifications-container']\n          },\n          lazySink: sharedBackstage.getSink,\n          fireDismissalEventInstead: {}\n        }, sharedBackstage.header.isPositionedAtTop() ? {} : { fireRepositionEventInstead: {} })));\n        uiMothership.add(notificationWrapper);\n        if (settings.timeout > 0) {\n          global$f.setTimeout(function () {\n            close();\n          }, settings.timeout);\n        }\n        var getBounds = function () {\n          var contentArea = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n          var win$1 = win();\n          var x = clamp$1(win$1.x, contentArea.x, contentArea.right);\n          var y = clamp$1(win$1.y, contentArea.y, contentArea.bottom);\n          var right = Math.max(contentArea.right, win$1.right);\n          var bottom = Math.max(contentArea.bottom, win$1.bottom);\n          return Optional.some(bounds(x, y, right - x, bottom - y));\n        };\n        return {\n          close: close,\n          moveTo: function (x, y) {\n            InlineView.showAt(notificationWrapper, premade(notification), {\n              anchor: {\n                type: 'makeshift',\n                x: x,\n                y: y\n              }\n            });\n          },\n          moveRel: function (element, rel) {\n            var notificationSpec = premade(notification);\n            var anchorOverrides = { maxHeightFunction: expandable$1() };\n            if (rel !== 'banner' && isNonNullable(element)) {\n              var layoutDirection_1 = getLayoutDirection(rel);\n              var nodeAnchor = {\n                type: 'node',\n                root: body(),\n                node: Optional.some(SugarElement.fromDom(element)),\n                overrides: anchorOverrides,\n                layouts: {\n                  onRtl: function () {\n                    return [layoutDirection_1];\n                  },\n                  onLtr: function () {\n                    return [layoutDirection_1];\n                  }\n                }\n              };\n              InlineView.showWithinBounds(notificationWrapper, notificationSpec, { anchor: nodeAnchor }, getBounds);\n            } else {\n              var anchor = __assign(__assign({}, sharedBackstage.anchors.banner()), { overrides: anchorOverrides });\n              InlineView.showWithinBounds(notificationWrapper, notificationSpec, { anchor: anchor }, getBounds);\n            }\n          },\n          text: function (nuText) {\n            Notification.updateText(notification, nuText);\n          },\n          settings: settings,\n          getEl: function () {\n            return notification.element.dom;\n          },\n          progressBar: {\n            value: function (percent) {\n              Notification.updateProgress(notification, percent);\n            }\n          }\n        };\n      };\n      var close = function (notification) {\n        notification.close();\n      };\n      var getArgs = function (notification) {\n        return notification.settings;\n      };\n      return {\n        open: open,\n        close: close,\n        reposition: reposition,\n        getArgs: getArgs\n      };\n    }\n\n    var first = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (isNull(timer)) {\n          timer = setTimeout(function () {\n            timer = null;\n            fn.apply(null, args);\n          }, rate);\n        }\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n    var last = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        cancel();\n        timer = setTimeout(function () {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n\n    var global$d = tinymce.util.Tools.resolve('tinymce.dom.TextSeeker');\n\n    var isBoundary = function (dom, node) {\n      return dom.isBlock(node) || contains$2([\n        'BR',\n        'IMG',\n        'HR',\n        'INPUT'\n      ], node.nodeName) || dom.getContentEditable(node) === 'false';\n    };\n    var repeatLeft = function (dom, node, offset, process, rootNode) {\n      var search = global$d(dom, function (node) {\n        return isBoundary(dom, node);\n      });\n      return Optional.from(search.backwards(node, offset, process, rootNode));\n    };\n\n    var autocompleteSelector = '[data-mce-autocompleter]';\n    var create$4 = function (editor, range) {\n      return detect(SugarElement.fromDom(editor.selection.getNode())).getOrThunk(function () {\n        var wrapper = SugarElement.fromHtml('<span data-mce-autocompleter=\"1\" data-mce-bogus=\"1\"></span>', editor.getDoc());\n        append$2(wrapper, SugarElement.fromDom(range.extractContents()));\n        range.insertNode(wrapper.dom);\n        parent(wrapper).each(function (elm) {\n          return elm.dom.normalize();\n        });\n        last$1(wrapper).map(function (last) {\n          editor.selection.setCursorLocation(last.dom, getEnd(last));\n        });\n        return wrapper;\n      });\n    };\n    var detect = function (elm) {\n      return closest$1(elm, autocompleteSelector);\n    };\n\n    var isValidTextRange = function (rng) {\n      return rng.collapsed && rng.startContainer.nodeType === 3;\n    };\n    var getText = function (rng) {\n      return rng.toString().replace(/\\u00A0/g, ' ').replace(/\\uFEFF/g, '');\n    };\n    var isWhitespace = function (chr) {\n      return chr !== '' && ' \\xA0\\f\\n\\r\\t\\x0B'.indexOf(chr) !== -1;\n    };\n\n    var stripTriggerChar = function (text, triggerCh) {\n      return text.substring(triggerCh.length);\n    };\n    var findChar = function (text, index, ch) {\n      var i;\n      for (i = index - 1; i >= 0; i--) {\n        var char = text.charAt(i);\n        if (isWhitespace(char)) {\n          return Optional.none();\n        }\n        if (char === ch) {\n          break;\n        }\n      }\n      return Optional.some(i);\n    };\n    var findStart = function (dom, initRange, ch, minChars) {\n      if (minChars === void 0) {\n        minChars = 0;\n      }\n      if (!isValidTextRange(initRange)) {\n        return Optional.none();\n      }\n      var findTriggerChIndex = function (element, offset, text) {\n        return findChar(text, offset, ch).getOr(offset);\n      };\n      var root = dom.getParent(initRange.startContainer, dom.isBlock) || dom.getRoot();\n      return repeatLeft(dom, initRange.startContainer, initRange.startOffset, findTriggerChIndex, root).bind(function (spot) {\n        var range = initRange.cloneRange();\n        range.setStart(spot.container, spot.offset);\n        range.setEnd(initRange.endContainer, initRange.endOffset);\n        if (range.collapsed) {\n          return Optional.none();\n        }\n        var text = getText(range);\n        var triggerCharIndex = text.lastIndexOf(ch);\n        if (triggerCharIndex !== 0 || stripTriggerChar(text, ch).length < minChars) {\n          return Optional.none();\n        } else {\n          return Optional.some({\n            text: stripTriggerChar(text, ch),\n            range: range,\n            triggerChar: ch\n          });\n        }\n      });\n    };\n    var getContext = function (dom, initRange, ch, minChars) {\n      if (minChars === void 0) {\n        minChars = 0;\n      }\n      return detect(SugarElement.fromDom(initRange.startContainer)).fold(function () {\n        return findStart(dom, initRange, ch, minChars);\n      }, function (elm) {\n        var range = dom.createRng();\n        range.selectNode(elm.dom);\n        var text = getText(range);\n        return Optional.some({\n          range: range,\n          text: stripTriggerChar(text, ch),\n          triggerChar: ch\n        });\n      });\n    };\n\n    var setup$e = function (api, editor) {\n      editor.on('keypress compositionend', api.onKeypress.throttle);\n      editor.on('remove', api.onKeypress.cancel);\n      var redirectKeyToItem = function (item, e) {\n        emitWith(item, keydown(), { raw: e });\n      };\n      editor.on('keydown', function (e) {\n        var getItem = function () {\n          return api.getView().bind(Highlighting.getHighlighted);\n        };\n        if (e.which === 8) {\n          api.onKeypress.throttle(e);\n        }\n        if (api.isActive()) {\n          if (e.which === 27) {\n            api.cancelIfNecessary();\n          }\n          if (api.isMenuOpen()) {\n            if (e.which === 13) {\n              getItem().each(emitExecute);\n              e.preventDefault();\n            } else if (e.which === 40) {\n              getItem().fold(function () {\n                api.getView().each(Highlighting.highlightFirst);\n              }, function (item) {\n                redirectKeyToItem(item, e);\n              });\n              e.preventDefault();\n              e.stopImmediatePropagation();\n            } else if (e.which === 37 || e.which === 38 || e.which === 39) {\n              getItem().each(function (item) {\n                redirectKeyToItem(item, e);\n                e.preventDefault();\n                e.stopImmediatePropagation();\n              });\n            }\n          } else {\n            if (e.which === 13 || e.which === 38 || e.which === 40) {\n              api.cancelIfNecessary();\n            }\n          }\n        }\n      });\n      editor.on('NodeChange', function (e) {\n        if (api.isActive() && !api.isProcessingAction() && detect(SugarElement.fromDom(e.element)).isNone()) {\n          api.cancelIfNecessary();\n        }\n      });\n    };\n    var AutocompleterEditorEvents = { setup: setup$e };\n\n    var global$c = tinymce.util.Tools.resolve('tinymce.util.Promise');\n\n    var point = function (container, offset) {\n      return {\n        container: container,\n        offset: offset\n      };\n    };\n\n    var isText = function (node) {\n      return node.nodeType === TEXT;\n    };\n    var isElement$1 = function (node) {\n      return node.nodeType === ELEMENT;\n    };\n    var toLast = function (node) {\n      if (isText(node)) {\n        return point(node, node.data.length);\n      } else {\n        var children = node.childNodes;\n        return children.length > 0 ? toLast(children[children.length - 1]) : point(node, children.length);\n      }\n    };\n    var toLeaf = function (node, offset) {\n      var children = node.childNodes;\n      if (children.length > 0 && offset < children.length) {\n        return toLeaf(children[offset], 0);\n      } else if (children.length > 0 && isElement$1(node) && children.length === offset) {\n        return toLast(children[children.length - 1]);\n      } else {\n        return point(node, offset);\n      }\n    };\n\n    var isPreviousCharContent = function (dom, leaf) {\n      return repeatLeft(dom, leaf.container, leaf.offset, function (element, offset) {\n        return offset === 0 ? -1 : offset;\n      }, dom.getRoot()).filter(function (spot) {\n        var char = spot.container.data.charAt(spot.offset - 1);\n        return !isWhitespace(char);\n      }).isSome();\n    };\n    var isStartOfWord = function (dom) {\n      return function (rng) {\n        var leaf = toLeaf(rng.startContainer, rng.startOffset);\n        return !isPreviousCharContent(dom, leaf);\n      };\n    };\n    var getTriggerContext = function (dom, initRange, database) {\n      return findMap(database.triggerChars, function (ch) {\n        return getContext(dom, initRange, ch);\n      });\n    };\n    var lookup$2 = function (editor, getDatabase) {\n      var database = getDatabase();\n      var rng = editor.selection.getRng();\n      return getTriggerContext(editor.dom, rng, database).bind(function (context) {\n        return lookupWithContext(editor, getDatabase, context);\n      });\n    };\n    var lookupWithContext = function (editor, getDatabase, context, fetchOptions) {\n      if (fetchOptions === void 0) {\n        fetchOptions = {};\n      }\n      var database = getDatabase();\n      var rng = editor.selection.getRng();\n      var startText = rng.startContainer.nodeValue;\n      var autocompleters = filter$2(database.lookupByChar(context.triggerChar), function (autocompleter) {\n        return context.text.length >= autocompleter.minChars && autocompleter.matches.getOrThunk(function () {\n          return isStartOfWord(editor.dom);\n        })(context.range, startText, context.text);\n      });\n      if (autocompleters.length === 0) {\n        return Optional.none();\n      }\n      var lookupData = global$c.all(map$2(autocompleters, function (ac) {\n        var fetchResult = ac.fetch(context.text, ac.maxResults, fetchOptions);\n        return fetchResult.then(function (results) {\n          return {\n            matchText: context.text,\n            items: results,\n            columns: ac.columns,\n            onAction: ac.onAction,\n            highlightOn: ac.highlightOn\n          };\n        });\n      }));\n      return Optional.some({\n        lookupData: lookupData,\n        context: context\n      });\n    };\n\n    var separatorMenuItemSchema = objOf([\n      requiredString('type'),\n      optionString('text')\n    ]);\n    var createSeparatorMenuItem = function (spec) {\n      return asRaw('separatormenuitem', separatorMenuItemSchema, spec);\n    };\n\n    var autocompleterItemSchema = objOf([\n      defaulted('type', 'autocompleteitem'),\n      defaulted('active', false),\n      defaulted('disabled', false),\n      defaulted('meta', {}),\n      requiredString('value'),\n      optionString('text'),\n      optionString('icon')\n    ]);\n    var autocompleterSchema = objOf([\n      requiredString('type'),\n      requiredString('ch'),\n      defaultedNumber('minChars', 1),\n      defaulted('columns', 1),\n      defaultedNumber('maxResults', 10),\n      optionFunction('matches'),\n      requiredFunction('fetch'),\n      requiredFunction('onAction'),\n      defaultedArrayOf('highlightOn', [], string)\n    ]);\n    var createSeparatorItem = function (spec) {\n      return asRaw('Autocompleter.Separator', separatorMenuItemSchema, spec);\n    };\n    var createAutocompleterItem = function (spec) {\n      return asRaw('Autocompleter.Item', autocompleterItemSchema, spec);\n    };\n    var createAutocompleter = function (spec) {\n      return asRaw('Autocompleter', autocompleterSchema, spec);\n    };\n\n    var baseToolbarButtonFields = [\n      defaultedBoolean('disabled', false),\n      optionString('tooltip'),\n      optionString('icon'),\n      optionString('text'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      })\n    ];\n    var toolbarButtonSchema = objOf([\n      requiredString('type'),\n      requiredFunction('onAction')\n    ].concat(baseToolbarButtonFields));\n    var createToolbarButton = function (spec) {\n      return asRaw('toolbarbutton', toolbarButtonSchema, spec);\n    };\n\n    var baseToolbarToggleButtonFields = [defaultedBoolean('active', false)].concat(baseToolbarButtonFields);\n    var toggleButtonSchema = objOf(baseToolbarToggleButtonFields.concat([\n      requiredString('type'),\n      requiredFunction('onAction')\n    ]));\n    var createToggleButton = function (spec) {\n      return asRaw('ToggleButton', toggleButtonSchema, spec);\n    };\n\n    var contextBarFields = [\n      defaultedFunction('predicate', never),\n      defaultedStringEnum('scope', 'node', [\n        'node',\n        'editor'\n      ]),\n      defaultedStringEnum('position', 'selection', [\n        'node',\n        'selection',\n        'line'\n      ])\n    ];\n\n    var contextButtonFields = baseToolbarButtonFields.concat([\n      defaulted('type', 'contextformbutton'),\n      defaulted('primary', false),\n      requiredFunction('onAction'),\n      customField('original', identity$1)\n    ]);\n    var contextToggleButtonFields = baseToolbarToggleButtonFields.concat([\n      defaulted('type', 'contextformbutton'),\n      defaulted('primary', false),\n      requiredFunction('onAction'),\n      customField('original', identity$1)\n    ]);\n    var launchButtonFields = baseToolbarButtonFields.concat([defaulted('type', 'contextformbutton')]);\n    var launchToggleButtonFields = baseToolbarToggleButtonFields.concat([defaulted('type', 'contextformtogglebutton')]);\n    var toggleOrNormal = choose$1('type', {\n      contextformbutton: contextButtonFields,\n      contextformtogglebutton: contextToggleButtonFields\n    });\n    var contextFormSchema = objOf([\n      defaulted('type', 'contextform'),\n      defaultedFunction('initValue', constant$1('')),\n      optionString('label'),\n      requiredArrayOf('commands', toggleOrNormal),\n      optionOf('launch', choose$1('type', {\n        contextformbutton: launchButtonFields,\n        contextformtogglebutton: launchToggleButtonFields\n      }))\n    ].concat(contextBarFields));\n    var createContextForm = function (spec) {\n      return asRaw('ContextForm', contextFormSchema, spec);\n    };\n\n    var contextToolbarSchema = objOf([\n      defaulted('type', 'contexttoolbar'),\n      requiredString('items')\n    ].concat(contextBarFields));\n    var createContextToolbar = function (spec) {\n      return asRaw('ContextToolbar', contextToolbarSchema, spec);\n    };\n\n    var stringArray = function (a) {\n      var all = {};\n      each$1(a, function (key) {\n        all[key] = {};\n      });\n      return keys(all);\n    };\n\n    var register$b = function (editor) {\n      var popups = editor.ui.registry.getAll().popups;\n      var dataset = map$1(popups, function (popup) {\n        return createAutocompleter(popup).fold(function (err) {\n          throw new Error(formatError(err));\n        }, identity$1);\n      });\n      var triggerChars = stringArray(mapToArray(dataset, function (v) {\n        return v.ch;\n      }));\n      var datasetValues = values(dataset);\n      var lookupByChar = function (ch) {\n        return filter$2(datasetValues, function (dv) {\n          return dv.ch === ch;\n        });\n      };\n      return {\n        dataset: dataset,\n        triggerChars: triggerChars,\n        lookupByChar: lookupByChar\n      };\n    };\n\n    var ItemResponse;\n    (function (ItemResponse) {\n      ItemResponse[ItemResponse['CLOSE_ON_EXECUTE'] = 0] = 'CLOSE_ON_EXECUTE';\n      ItemResponse[ItemResponse['BUBBLE_TO_SANDBOX'] = 1] = 'BUBBLE_TO_SANDBOX';\n    }(ItemResponse || (ItemResponse = {})));\n    var ItemResponse$1 = ItemResponse;\n\n    var navClass = 'tox-menu-nav__js';\n    var selectableClass = 'tox-collection__item';\n    var colorClass = 'tox-swatch';\n    var presetClasses = {\n      normal: navClass,\n      color: colorClass\n    };\n    var tickedClass = 'tox-collection__item--enabled';\n    var groupHeadingClass = 'tox-collection__group-heading';\n    var iconClass = 'tox-collection__item-icon';\n    var textClass = 'tox-collection__item-label';\n    var accessoryClass = 'tox-collection__item-accessory';\n    var caretClass = 'tox-collection__item-caret';\n    var checkmarkClass = 'tox-collection__item-checkmark';\n    var activeClass = 'tox-collection__item--active';\n    var containerClass = 'tox-collection__item-container';\n    var containerColumnClass = 'tox-collection__item-container--column';\n    var containerRowClass = 'tox-collection__item-container--row';\n    var containerAlignRightClass = 'tox-collection__item-container--align-right';\n    var containerAlignLeftClass = 'tox-collection__item-container--align-left';\n    var containerValignTopClass = 'tox-collection__item-container--valign-top';\n    var containerValignMiddleClass = 'tox-collection__item-container--valign-middle';\n    var containerValignBottomClass = 'tox-collection__item-container--valign-bottom';\n    var classForPreset = function (presets) {\n      return get$e(presetClasses, presets).getOr(navClass);\n    };\n\n    var forMenu = function (presets) {\n      if (presets === 'color') {\n        return 'tox-swatches';\n      } else {\n        return 'tox-menu';\n      }\n    };\n    var classes = function (presets) {\n      return {\n        backgroundMenu: 'tox-background-menu',\n        selectedMenu: 'tox-selected-menu',\n        selectedItem: 'tox-collection__item--active',\n        hasIcons: 'tox-menu--has-icons',\n        menu: forMenu(presets),\n        tieredMenu: 'tox-tiered-menu'\n      };\n    };\n\n    var markers = function (presets) {\n      var menuClasses = classes(presets);\n      return {\n        backgroundMenu: menuClasses.backgroundMenu,\n        selectedMenu: menuClasses.selectedMenu,\n        menu: menuClasses.menu,\n        selectedItem: menuClasses.selectedItem,\n        item: classForPreset(presets)\n      };\n    };\n    var dom$1 = function (hasIcons, columns, presets) {\n      var menuClasses = classes(presets);\n      return {\n        tag: 'div',\n        classes: flatten([\n          [\n            menuClasses.menu,\n            'tox-menu-' + columns + '-column'\n          ],\n          hasIcons ? [menuClasses.hasIcons] : []\n        ])\n      };\n    };\n    var components = [Menu.parts.items({})];\n    var part = function (hasIcons, columns, presets) {\n      var menuClasses = classes(presets);\n      var d = {\n        tag: 'div',\n        classes: flatten([[menuClasses.tieredMenu]])\n      };\n      return {\n        dom: d,\n        markers: markers(presets)\n      };\n    };\n\n    var chunk = function (rowDom, numColumns) {\n      return function (items) {\n        var chunks = chunk$1(items, numColumns);\n        return map$2(chunks, function (c) {\n          return {\n            dom: rowDom,\n            components: c\n          };\n        });\n      };\n    };\n    var forSwatch = function (columns) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-swatches-menu'\n          ]\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-swatches']\n            },\n            components: [Menu.parts.items({\n                preprocess: columns !== 'auto' ? chunk({\n                  tag: 'div',\n                  classes: ['tox-swatches__row']\n                }, columns) : identity$1\n              })]\n          }]\n      };\n    };\n    var forToolbar = function (columns) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-collection',\n            'tox-collection--toolbar',\n            'tox-collection--toolbar-lg'\n          ]\n        },\n        components: [Menu.parts.items({\n            preprocess: chunk({\n              tag: 'div',\n              classes: ['tox-collection__group']\n            }, columns)\n          })]\n      };\n    };\n    var preprocessCollection = function (items, isSeparator) {\n      var allSplits = [];\n      var currentSplit = [];\n      each$1(items, function (item, i) {\n        if (isSeparator(item, i)) {\n          if (currentSplit.length > 0) {\n            allSplits.push(currentSplit);\n          }\n          currentSplit = [];\n          if (has$2(item.dom, 'innerHtml')) {\n            currentSplit.push(item);\n          }\n        } else {\n          currentSplit.push(item);\n        }\n      });\n      if (currentSplit.length > 0) {\n        allSplits.push(currentSplit);\n      }\n      return map$2(allSplits, function (s) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-collection__group']\n          },\n          components: s\n        };\n      });\n    };\n    var forCollection = function (columns, initItems, _hasIcons) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-collection'\n          ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'])\n        },\n        components: [Menu.parts.items({\n            preprocess: function (items) {\n              if (columns !== 'auto' && columns > 1) {\n                return chunk({\n                  tag: 'div',\n                  classes: ['tox-collection__group']\n                }, columns)(items);\n              } else {\n                return preprocessCollection(items, function (_item, i) {\n                  return initItems[i].type === 'separator';\n                });\n              }\n            }\n          })]\n      };\n    };\n    var forHorizontalCollection = function (initItems, _hasIcons) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-collection',\n            'tox-collection--horizontal'\n          ]\n        },\n        components: [Menu.parts.items({\n            preprocess: function (items) {\n              return preprocessCollection(items, function (_item, i) {\n                return initItems[i].type === 'separator';\n              });\n            }\n          })]\n      };\n    };\n\n    var menuHasIcons = function (xs) {\n      return exists(xs, function (item) {\n        return 'icon' in item && item.icon !== undefined;\n      });\n    };\n    var handleError = function (error) {\n      console.error(formatError(error));\n      console.log(error);\n      return Optional.none();\n    };\n    var createHorizontalPartialMenuWithAlloyItems = function (value, _hasIcons, items, _columns, _presets) {\n      var structure = forHorizontalCollection(items);\n      return {\n        value: value,\n        dom: structure.dom,\n        components: structure.components,\n        items: items\n      };\n    };\n    var createPartialMenuWithAlloyItems = function (value, hasIcons, items, columns, presets) {\n      if (presets === 'color') {\n        var structure = forSwatch(columns);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      if (presets === 'normal' && columns === 'auto') {\n        var structure = forCollection(columns, items);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      if (presets === 'normal' && columns === 1) {\n        var structure = forCollection(1, items);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      if (presets === 'normal') {\n        var structure = forCollection(columns, items);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      if (presets === 'listpreview' && columns !== 'auto') {\n        var structure = forToolbar(columns);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      return {\n        value: value,\n        dom: dom$1(hasIcons, columns, presets),\n        components: components,\n        items: items\n      };\n    };\n\n    var cardImageFields = [\n      requiredString('type'),\n      requiredString('src'),\n      optionString('alt'),\n      defaultedArrayOf('classes', [], string)\n    ];\n    var cardImageSchema = objOf(cardImageFields);\n\n    var cardTextFields = [\n      requiredString('type'),\n      requiredString('text'),\n      optionString('name'),\n      defaultedArrayOf('classes', ['tox-collection__item-label'], string)\n    ];\n    var cardTextSchema = objOf(cardTextFields);\n\n    var itemSchema$1 = valueThunk(function () {\n      return choose$2('type', {\n        cardimage: cardImageSchema,\n        cardtext: cardTextSchema,\n        cardcontainer: cardContainerSchema\n      });\n    });\n    var cardContainerSchema = objOf([\n      requiredString('type'),\n      defaultedString('direction', 'horizontal'),\n      defaultedString('align', 'left'),\n      defaultedString('valign', 'middle'),\n      requiredArrayOf('items', itemSchema$1)\n    ]);\n\n    var commonMenuItemFields = [\n      defaultedBoolean('disabled', false),\n      optionString('text'),\n      optionString('shortcut'),\n      field$1('value', 'value', defaultedThunk(function () {\n        return generate$6('menuitem-value');\n      }), anyValue()),\n      defaulted('meta', {})\n    ];\n\n    var cardMenuItemSchema = objOf([\n      requiredString('type'),\n      optionString('label'),\n      requiredArrayOf('items', itemSchema$1),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      defaultedFunction('onAction', noop)\n    ].concat(commonMenuItemFields));\n    var createCardMenuItem = function (spec) {\n      return asRaw('cardmenuitem', cardMenuItemSchema, spec);\n    };\n\n    var choiceMenuItemSchema = objOf([\n      requiredString('type'),\n      defaultedBoolean('active', false),\n      optionString('icon')\n    ].concat(commonMenuItemFields));\n    var createChoiceMenuItem = function (spec) {\n      return asRaw('choicemenuitem', choiceMenuItemSchema, spec);\n    };\n\n    var baseFields = [\n      requiredString('type'),\n      requiredString('fancytype'),\n      defaultedFunction('onAction', noop)\n    ];\n    var insertTableFields = [defaulted('initData', {})].concat(baseFields);\n    var colorSwatchFields = [defaultedObjOf('initData', {}, [\n        defaultedBoolean('allowCustomColors', true),\n        optionArrayOf('colors', anyValue())\n      ])].concat(baseFields);\n    var fancyMenuItemSchema = choose$1('fancytype', {\n      inserttable: insertTableFields,\n      colorswatch: colorSwatchFields\n    });\n    var createFancyMenuItem = function (spec) {\n      return asRaw('fancymenuitem', fancyMenuItemSchema, spec);\n    };\n\n    var menuItemSchema = objOf([\n      requiredString('type'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      defaultedFunction('onAction', noop),\n      optionString('icon')\n    ].concat(commonMenuItemFields));\n    var createMenuItem = function (spec) {\n      return asRaw('menuitem', menuItemSchema, spec);\n    };\n\n    var nestedMenuItemSchema = objOf([\n      requiredString('type'),\n      requiredFunction('getSubmenuItems'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      optionString('icon')\n    ].concat(commonMenuItemFields));\n    var createNestedMenuItem = function (spec) {\n      return asRaw('nestedmenuitem', nestedMenuItemSchema, spec);\n    };\n\n    var toggleMenuItemSchema = objOf([\n      requiredString('type'),\n      optionString('icon'),\n      defaultedBoolean('active', false),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      requiredFunction('onAction')\n    ].concat(commonMenuItemFields));\n    var createToggleMenuItem = function (spec) {\n      return asRaw('togglemenuitem', toggleMenuItemSchema, spec);\n    };\n\n    var detectSize = function (comp, margin, selectorClass) {\n      var descendants$1 = descendants(comp.element, '.' + selectorClass);\n      if (descendants$1.length > 0) {\n        var columnLength = findIndex$1(descendants$1, function (c) {\n          var thisTop = c.dom.getBoundingClientRect().top;\n          var cTop = descendants$1[0].dom.getBoundingClientRect().top;\n          return Math.abs(thisTop - cTop) > margin;\n        }).getOr(descendants$1.length);\n        return Optional.some({\n          numColumns: columnLength,\n          numRows: Math.ceil(descendants$1.length / columnLength)\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n\n    var namedEvents = function (name, handlers) {\n      return derive$1([config(name, handlers)]);\n    };\n    var unnamedEvents = function (handlers) {\n      return namedEvents(generate$6('unnamed-events'), handlers);\n    };\n    var SimpleBehaviours = {\n      namedEvents: namedEvents,\n      unnamedEvents: unnamedEvents\n    };\n\n    var ExclusivityChannel = generate$6('tooltip.exclusive');\n    var ShowTooltipEvent = generate$6('tooltip.show');\n    var HideTooltipEvent = generate$6('tooltip.hide');\n\n    var hideAllExclusive = function (component, _tConfig, _tState) {\n      component.getSystem().broadcastOn([ExclusivityChannel], {});\n    };\n    var setComponents = function (component, tConfig, tState, specs) {\n      tState.getTooltip().each(function (tooltip) {\n        if (tooltip.getSystem().isConnected()) {\n          Replacing.set(tooltip, specs);\n        }\n      });\n    };\n\n    var TooltippingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        hideAllExclusive: hideAllExclusive,\n        setComponents: setComponents\n    });\n\n    var events$9 = function (tooltipConfig, state) {\n      var hide = function (comp) {\n        state.getTooltip().each(function (p) {\n          detach(p);\n          tooltipConfig.onHide(comp, p);\n          state.clearTooltip();\n        });\n        state.clearTimer();\n      };\n      var show = function (comp) {\n        if (!state.isShowing()) {\n          hideAllExclusive(comp);\n          var sink = tooltipConfig.lazySink(comp).getOrDie();\n          var popup = comp.getSystem().build({\n            dom: tooltipConfig.tooltipDom,\n            components: tooltipConfig.tooltipComponents,\n            events: derive$2(tooltipConfig.mode === 'normal' ? [\n              run$1(mouseover(), function (_) {\n                emit(comp, ShowTooltipEvent);\n              }),\n              run$1(mouseout(), function (_) {\n                emit(comp, HideTooltipEvent);\n              })\n            ] : []),\n            behaviours: derive$1([Replacing.config({})])\n          });\n          state.setTooltip(popup);\n          attach(sink, popup);\n          tooltipConfig.onShow(comp, popup);\n          Positioning.position(sink, popup, { anchor: tooltipConfig.anchor(comp) });\n        }\n      };\n      return derive$2(flatten([\n        [\n          run$1(ShowTooltipEvent, function (comp) {\n            state.resetTimer(function () {\n              show(comp);\n            }, tooltipConfig.delay);\n          }),\n          run$1(HideTooltipEvent, function (comp) {\n            state.resetTimer(function () {\n              hide(comp);\n            }, tooltipConfig.delay);\n          }),\n          run$1(receive(), function (comp, message) {\n            var receivingData = message;\n            if (!receivingData.universal) {\n              if (contains$2(receivingData.channels, ExclusivityChannel)) {\n                hide(comp);\n              }\n            }\n          }),\n          runOnDetached(function (comp) {\n            hide(comp);\n          })\n        ],\n        tooltipConfig.mode === 'normal' ? [\n          run$1(focusin(), function (comp) {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(postBlur(), function (comp) {\n            emit(comp, HideTooltipEvent);\n          }),\n          run$1(mouseover(), function (comp) {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(mouseout(), function (comp) {\n            emit(comp, HideTooltipEvent);\n          })\n        ] : [\n          run$1(highlight$1(), function (comp, _se) {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(dehighlight$1(), function (comp) {\n            emit(comp, HideTooltipEvent);\n          })\n        ]\n      ]));\n    };\n\n    var ActiveTooltipping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$9\n    });\n\n    var TooltippingSchema = [\n      required$1('lazySink'),\n      required$1('tooltipDom'),\n      defaulted('exclusive', true),\n      defaulted('tooltipComponents', []),\n      defaulted('delay', 300),\n      defaultedStringEnum('mode', 'normal', [\n        'normal',\n        'follow-highlight'\n      ]),\n      defaulted('anchor', function (comp) {\n        return {\n          type: 'hotspot',\n          hotspot: comp,\n          layouts: {\n            onLtr: constant$1([\n              south$2,\n              north$2,\n              southeast$2,\n              northeast$2,\n              southwest$2,\n              northwest$2\n            ]),\n            onRtl: constant$1([\n              south$2,\n              north$2,\n              southeast$2,\n              northeast$2,\n              southwest$2,\n              northwest$2\n            ])\n          }\n        };\n      }),\n      onHandler('onHide'),\n      onHandler('onShow')\n    ];\n\n    var init$b = function () {\n      var timer = value$1();\n      var popup = value$1();\n      var clearTimer = function () {\n        timer.on(clearTimeout);\n      };\n      var resetTimer = function (f, delay) {\n        clearTimer();\n        timer.set(setTimeout(f, delay));\n      };\n      var readState = constant$1('not-implemented');\n      return nu$8({\n        getTooltip: popup.get,\n        isShowing: popup.isSet,\n        setTooltip: popup.set,\n        clearTooltip: popup.clear,\n        clearTimer: clearTimer,\n        resetTimer: resetTimer,\n        readState: readState\n      });\n    };\n\n    var TooltippingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$b\n    });\n\n    var Tooltipping = create$8({\n      fields: TooltippingSchema,\n      name: 'tooltipping',\n      active: ActiveTooltipping,\n      state: TooltippingState,\n      apis: TooltippingApis\n    });\n\n    var escape = function (text) {\n      return text.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n    };\n\n    var global$b = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$a = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n    var getSkinUrl = function (editor) {\n      var skin = editor.getParam('skin');\n      var skinUrl = editor.getParam('skin_url');\n      if (skin !== false) {\n        var skinName = skin ? skin : 'oxide';\n        if (skinUrl) {\n          skinUrl = editor.documentBaseURI.toAbsolute(skinUrl);\n        } else {\n          skinUrl = global$a.baseURL + '/skins/ui/' + skinName;\n        }\n      }\n      return skinUrl;\n    };\n    var isReadOnly = function (editor) {\n      return editor.getParam('readonly', false, 'boolean');\n    };\n    var isSkinDisabled = function (editor) {\n      return editor.getParam('skin') === false;\n    };\n    var getHeightSetting = function (editor) {\n      return editor.getParam('height', Math.max(editor.getElement().offsetHeight, 200));\n    };\n    var getWidthSetting = function (editor) {\n      return editor.getParam('width', global$b.DOM.getStyle(editor.getElement(), 'width'));\n    };\n    var getMinWidthSetting = function (editor) {\n      return Optional.from(editor.getParam('min_width')).filter(isNumber);\n    };\n    var getMinHeightSetting = function (editor) {\n      return Optional.from(editor.getParam('min_height')).filter(isNumber);\n    };\n    var getMaxWidthSetting = function (editor) {\n      return Optional.from(editor.getParam('max_width')).filter(isNumber);\n    };\n    var getMaxHeightSetting = function (editor) {\n      return Optional.from(editor.getParam('max_height')).filter(isNumber);\n    };\n    var getUserStyleFormats = function (editor) {\n      return Optional.from(editor.getParam('style_formats')).filter(isArray);\n    };\n    var isMergeStyleFormats = function (editor) {\n      return editor.getParam('style_formats_merge', false, 'boolean');\n    };\n    var getLineHeightFormats = function (editor) {\n      return editor.getParam('lineheight_formats', '1 1.1 1.2 1.3 1.4 1.5 2', 'string').split(' ');\n    };\n    var getContentLanguages = function (editor) {\n      return editor.getParam('content_langs', undefined, 'array');\n    };\n    var getRemovedMenuItems = function (editor) {\n      return editor.getParam('removed_menuitems', '');\n    };\n    var isMenubarEnabled = function (editor) {\n      return editor.getParam('menubar', true, 'boolean') !== false;\n    };\n    var isToolbarEnabled = function (editor) {\n      var toolbar = editor.getParam('toolbar', true);\n      var isToolbarTrue = toolbar === true;\n      var isToolbarString = isString(toolbar);\n      var isToolbarObjectArray = isArray(toolbar) && toolbar.length > 0;\n      return !isMultipleToolbars(editor) && (isToolbarObjectArray || isToolbarString || isToolbarTrue);\n    };\n    var getMultipleToolbarsSetting = function (editor) {\n      var toolbars = range$2(9, function (num) {\n        return editor.getParam('toolbar' + (num + 1), false, 'string');\n      });\n      var toolbarArray = filter$2(toolbars, function (toolbar) {\n        return typeof toolbar === 'string';\n      });\n      return toolbarArray.length > 0 ? Optional.some(toolbarArray) : Optional.none();\n    };\n    var isMultipleToolbars = function (editor) {\n      return getMultipleToolbarsSetting(editor).fold(function () {\n        var toolbar = editor.getParam('toolbar', [], 'string[]');\n        return toolbar.length > 0;\n      }, always);\n    };\n    var ToolbarMode;\n    (function (ToolbarMode) {\n      ToolbarMode['default'] = 'wrap';\n      ToolbarMode['floating'] = 'floating';\n      ToolbarMode['sliding'] = 'sliding';\n      ToolbarMode['scrolling'] = 'scrolling';\n    }(ToolbarMode || (ToolbarMode = {})));\n    var getToolbarMode = function (editor) {\n      return editor.getParam('toolbar_mode', '', 'string');\n    };\n    var ToolbarLocation;\n    (function (ToolbarLocation) {\n      ToolbarLocation['auto'] = 'auto';\n      ToolbarLocation['top'] = 'top';\n      ToolbarLocation['bottom'] = 'bottom';\n    }(ToolbarLocation || (ToolbarLocation = {})));\n    var getToolbarGroups = function (editor) {\n      return editor.getParam('toolbar_groups', {}, 'object');\n    };\n    var getToolbarLocation = function (editor) {\n      return editor.getParam('toolbar_location', ToolbarLocation.auto, 'string');\n    };\n    var isToolbarLocationBottom = function (editor) {\n      return getToolbarLocation(editor) === ToolbarLocation.bottom;\n    };\n    var fixedContainerSelector = function (editor) {\n      return editor.getParam('fixed_toolbar_container', '', 'string');\n    };\n    var fixedToolbarContainerTarget = function (editor) {\n      return editor.getParam('fixed_toolbar_container_target');\n    };\n    var isToolbarPersist = function (editor) {\n      return editor.getParam('toolbar_persist', false, 'boolean');\n    };\n    var fixedContainerTarget = function (editor) {\n      if (!editor.inline) {\n        return Optional.none();\n      }\n      var selector = fixedContainerSelector(editor);\n      if (selector.length > 0) {\n        return descendant(body(), selector);\n      }\n      var element = fixedToolbarContainerTarget(editor);\n      if (isNonNullable(element)) {\n        return Optional.some(SugarElement.fromDom(element));\n      }\n      return Optional.none();\n    };\n    var useFixedContainer = function (editor) {\n      return editor.inline && fixedContainerTarget(editor).isSome();\n    };\n    var getUiContainer = function (editor) {\n      var fixedContainer = fixedContainerTarget(editor);\n      return fixedContainer.getOrThunk(function () {\n        return getContentContainer(getRootNode(SugarElement.fromDom(editor.getElement())));\n      });\n    };\n    var isDistractionFree = function (editor) {\n      return editor.inline && !isMenubarEnabled(editor) && !isToolbarEnabled(editor) && !isMultipleToolbars(editor);\n    };\n    var isStickyToolbar = function (editor) {\n      var isStickyToolbar = editor.getParam('toolbar_sticky', false, 'boolean');\n      return (isStickyToolbar || editor.inline) && !useFixedContainer(editor) && !isDistractionFree(editor);\n    };\n    var getStickyToolbarOffset = function (editor) {\n      return editor.getParam('toolbar_sticky_offset', 0, 'number');\n    };\n    var isDraggableModal$1 = function (editor) {\n      return editor.getParam('draggable_modal', false, 'boolean');\n    };\n    var getMenus = function (editor) {\n      var menu = editor.getParam('menu');\n      if (menu) {\n        return map$1(menu, function (menu) {\n          return __assign(__assign({}, menu), { items: menu.items });\n        });\n      } else {\n        return {};\n      }\n    };\n    var getMenubar = function (editor) {\n      return editor.getParam('menubar');\n    };\n    var getToolbar = function (editor) {\n      return editor.getParam('toolbar', true);\n    };\n    var getFilePickerCallback = function (editor) {\n      return editor.getParam('file_picker_callback');\n    };\n    var getFilePickerTypes = function (editor) {\n      return editor.getParam('file_picker_types');\n    };\n    var getFileBrowserCallbackTypes = function (editor) {\n      return editor.getParam('file_browser_callback_types');\n    };\n    var noTypeaheadUrls = function (editor) {\n      return editor.getParam('typeahead_urls') === false;\n    };\n    var getAnchorTop = function (editor) {\n      return editor.getParam('anchor_top', '#top');\n    };\n    var getAnchorBottom = function (editor) {\n      return editor.getParam('anchor_bottom', '#bottom');\n    };\n    var getFilePickerValidatorHandler = function (editor) {\n      var handler = editor.getParam('file_picker_validator_handler', undefined, 'function');\n      if (handler === undefined) {\n        return editor.getParam('filepicker_validator_handler', undefined, 'function');\n      } else {\n        return handler;\n      }\n    };\n\n    var ReadOnlyChannel = 'silver.readonly';\n    var ReadOnlyDataSchema = objOf([requiredBoolean('readonly')]);\n    var broadcastReadonly = function (uiComponents, readonly) {\n      var outerContainer = uiComponents.outerContainer;\n      var target = outerContainer.element;\n      if (readonly) {\n        uiComponents.mothership.broadcastOn([dismissPopups()], { target: target });\n        uiComponents.uiMothership.broadcastOn([dismissPopups()], { target: target });\n      }\n      uiComponents.mothership.broadcastOn([ReadOnlyChannel], { readonly: readonly });\n      uiComponents.uiMothership.broadcastOn([ReadOnlyChannel], { readonly: readonly });\n    };\n    var setupReadonlyModeSwitch = function (editor, uiComponents) {\n      editor.on('init', function () {\n        if (editor.mode.isReadOnly()) {\n          broadcastReadonly(uiComponents, true);\n        }\n      });\n      editor.on('SwitchMode', function () {\n        return broadcastReadonly(uiComponents, editor.mode.isReadOnly());\n      });\n      if (isReadOnly(editor)) {\n        editor.setMode('readonly');\n      }\n    };\n    var receivingConfig = function () {\n      var _a;\n      return Receiving.config({\n        channels: (_a = {}, _a[ReadOnlyChannel] = {\n          schema: ReadOnlyDataSchema,\n          onReceive: function (comp, data) {\n            Disabling.set(comp, data.readonly);\n          }\n        }, _a)\n      });\n    };\n\n    var item = function (disabled) {\n      return Disabling.config({\n        disabled: disabled,\n        disableClass: 'tox-collection__item--state-disabled'\n      });\n    };\n    var button = function (disabled) {\n      return Disabling.config({ disabled: disabled });\n    };\n    var splitButton = function (disabled) {\n      return Disabling.config({\n        disabled: disabled,\n        disableClass: 'tox-tbtn--disabled'\n      });\n    };\n    var toolbarButton = function (disabled) {\n      return Disabling.config({\n        disabled: disabled,\n        disableClass: 'tox-tbtn--disabled',\n        useNative: false\n      });\n    };\n    var DisablingConfigs = {\n      item: item,\n      button: button,\n      splitButton: splitButton,\n      toolbarButton: toolbarButton\n    };\n\n    var runWithApi = function (info, comp) {\n      var api = info.getApi(comp);\n      return function (f) {\n        f(api);\n      };\n    };\n    var onControlAttached = function (info, editorOffCell) {\n      return runOnAttached(function (comp) {\n        var run = runWithApi(info, comp);\n        run(function (api) {\n          var onDestroy = info.onSetup(api);\n          if (isFunction(onDestroy)) {\n            editorOffCell.set(onDestroy);\n          }\n        });\n      });\n    };\n    var onControlDetached = function (getApi, editorOffCell) {\n      return runOnDetached(function (comp) {\n        return runWithApi(getApi, comp)(editorOffCell.get());\n      });\n    };\n\n    var _a$1;\n    var onMenuItemExecute = function (info, itemResponse) {\n      return runOnExecute$1(function (comp, simulatedEvent) {\n        runWithApi(info, comp)(info.onAction);\n        if (!info.triggersSubmenu && itemResponse === ItemResponse$1.CLOSE_ON_EXECUTE) {\n          emit(comp, sandboxClose());\n          simulatedEvent.stop();\n        }\n      });\n    };\n    var menuItemEventOrder = (_a$1 = {}, _a$1[execute$5()] = [\n      'disabling',\n      'alloy.base.behaviour',\n      'toggling',\n      'item-events'\n    ], _a$1);\n\n    var componentRenderPipeline = cat;\n    var renderCommonItem = function (spec, structure, itemResponse, providersbackstage) {\n      var editorOffCell = Cell(noop);\n      return {\n        type: 'item',\n        dom: structure.dom,\n        components: componentRenderPipeline(structure.optComponents),\n        data: spec.data,\n        eventOrder: menuItemEventOrder,\n        hasSubmenu: spec.triggersSubmenu,\n        itemBehaviours: derive$1([\n          config('item-events', [\n            onMenuItemExecute(spec, itemResponse),\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          DisablingConfigs.item(function () {\n            return spec.disabled || providersbackstage.isDisabled();\n          }),\n          receivingConfig(),\n          Replacing.config({})\n        ].concat(spec.itemBehaviours))\n      };\n    };\n    var buildData = function (source) {\n      return {\n        value: source.value,\n        meta: __assign({ text: source.text.getOr('') }, source.meta)\n      };\n    };\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var convertText = function (source) {\n      var mac = {\n        alt: '&#x2325;',\n        ctrl: '&#x2303;',\n        shift: '&#x21E7;',\n        meta: '&#x2318;',\n        access: '&#x2303;&#x2325;'\n      };\n      var other = {\n        meta: 'Ctrl',\n        access: 'Shift+Alt'\n      };\n      var replace = global$9.mac ? mac : other;\n      var shortcut = source.split('+');\n      var updated = map$2(shortcut, function (segment) {\n        var search = segment.toLowerCase().trim();\n        return has$2(replace, search) ? replace[search] : segment;\n      });\n      return global$9.mac ? updated.join('') : updated.join('+');\n    };\n\n    var renderIcon$1 = function (name, icons, classes) {\n      if (classes === void 0) {\n        classes = [iconClass];\n      }\n      return render$3(name, {\n        tag: 'div',\n        classes: classes\n      }, icons);\n    };\n    var renderText = function (text) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [textClass]\n        },\n        components: [text$1(global$e.translate(text))]\n      };\n    };\n    var renderHtml = function (html, classes) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: classes,\n          innerHtml: html\n        }\n      };\n    };\n    var renderStyledText = function (style, text) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [textClass]\n        },\n        components: [{\n            dom: {\n              tag: style.tag,\n              styles: style.styles\n            },\n            components: [text$1(global$e.translate(text))]\n          }]\n      };\n    };\n    var renderShortcut = function (shortcut) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [accessoryClass],\n          innerHtml: convertText(shortcut)\n        }\n      };\n    };\n    var renderCheckmark = function (icons) {\n      return renderIcon$1('checkmark', icons, [checkmarkClass]);\n    };\n    var renderSubmenuCaret = function (icons) {\n      return renderIcon$1('chevron-right', icons, [caretClass]);\n    };\n    var renderDownwardsCaret = function (icons) {\n      return renderIcon$1('chevron-down', icons, [caretClass]);\n    };\n    var renderContainer = function (container, components) {\n      var directionClass = container.direction === 'vertical' ? containerColumnClass : containerRowClass;\n      var alignClass = container.align === 'left' ? containerAlignLeftClass : containerAlignRightClass;\n      var getValignClass = function () {\n        switch (container.valign) {\n        case 'top':\n          return containerValignTopClass;\n        case 'middle':\n          return containerValignMiddleClass;\n        case 'bottom':\n          return containerValignBottomClass;\n        }\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            containerClass,\n            directionClass,\n            alignClass,\n            getValignClass()\n          ]\n        },\n        components: components\n      };\n    };\n    var renderImage = function (src, classes, alt) {\n      return {\n        dom: {\n          tag: 'img',\n          classes: classes,\n          attributes: {\n            src: src,\n            alt: alt.getOr('')\n          }\n        }\n      };\n    };\n\n    var renderColorStructure = function (item, providerBackstage, fallbackIcon) {\n      var colorPickerCommand = 'custom';\n      var removeColorCommand = 'remove';\n      var itemText = item.ariaLabel;\n      var itemValue = item.value;\n      var iconSvg = item.iconContent.map(function (name) {\n        return getOr(name, providerBackstage.icons, fallbackIcon);\n      });\n      var getDom = function () {\n        var common = colorClass;\n        var icon = iconSvg.getOr('');\n        var attributes = itemText.map(function (text) {\n          return { title: providerBackstage.translate(text) };\n        }).getOr({});\n        var baseDom = {\n          tag: 'div',\n          attributes: attributes,\n          classes: [common]\n        };\n        if (itemValue === colorPickerCommand) {\n          return __assign(__assign({}, baseDom), {\n            tag: 'button',\n            classes: __spreadArray(__spreadArray([], baseDom.classes, true), ['tox-swatches__picker-btn'], false),\n            innerHtml: icon\n          });\n        } else if (itemValue === removeColorCommand) {\n          return __assign(__assign({}, baseDom), {\n            classes: __spreadArray(__spreadArray([], baseDom.classes, true), ['tox-swatch--remove'], false),\n            innerHtml: icon\n          });\n        } else {\n          return __assign(__assign({}, baseDom), {\n            attributes: __assign(__assign({}, baseDom.attributes), { 'data-mce-color': itemValue }),\n            styles: { 'background-color': itemValue }\n          });\n        }\n      };\n      return {\n        dom: getDom(),\n        optComponents: []\n      };\n    };\n    var renderItemDomStructure = function (ariaLabel) {\n      var domTitle = ariaLabel.map(function (label) {\n        return { attributes: { title: global$e.translate(label) } };\n      }).getOr({});\n      return __assign({\n        tag: 'div',\n        classes: [\n          navClass,\n          selectableClass\n        ]\n      }, domTitle);\n    };\n    var renderNormalItemStructure = function (info, providersBackstage, renderIcons, fallbackIcon) {\n      var iconSpec = {\n        tag: 'div',\n        classes: [iconClass]\n      };\n      var renderIcon = function (iconName) {\n        return render$3(iconName, iconSpec, providersBackstage.icons, fallbackIcon);\n      };\n      var renderEmptyIcon = function () {\n        return Optional.some({ dom: iconSpec });\n      };\n      var leftIcon = renderIcons ? info.iconContent.map(renderIcon).orThunk(renderEmptyIcon) : Optional.none();\n      var checkmark = info.checkMark;\n      var textRender = Optional.from(info.meta).fold(function () {\n        return renderText;\n      }, function (meta) {\n        return has$2(meta, 'style') ? curry(renderStyledText, meta.style) : renderText;\n      });\n      var content = info.htmlContent.fold(function () {\n        return info.textContent.map(textRender);\n      }, function (html) {\n        return Optional.some(renderHtml(html, [textClass]));\n      });\n      var menuItem = {\n        dom: renderItemDomStructure(info.ariaLabel),\n        optComponents: [\n          leftIcon,\n          content,\n          info.shortcutContent.map(renderShortcut),\n          checkmark,\n          info.caret\n        ]\n      };\n      return menuItem;\n    };\n    var renderItemStructure = function (info, providersBackstage, renderIcons, fallbackIcon) {\n      if (fallbackIcon === void 0) {\n        fallbackIcon = Optional.none();\n      }\n      if (info.presets === 'color') {\n        return renderColorStructure(info, providersBackstage, fallbackIcon);\n      } else {\n        return renderNormalItemStructure(info, providersBackstage, renderIcons, fallbackIcon);\n      }\n    };\n\n    var tooltipBehaviour = function (meta, sharedBackstage) {\n      return get$e(meta, 'tooltipWorker').map(function (tooltipWorker) {\n        return [Tooltipping.config({\n            lazySink: sharedBackstage.getSink,\n            tooltipDom: {\n              tag: 'div',\n              classes: ['tox-tooltip-worker-container']\n            },\n            tooltipComponents: [],\n            anchor: function (comp) {\n              return {\n                type: 'submenu',\n                item: comp,\n                overrides: { maxHeightFunction: expandable$1 }\n              };\n            },\n            mode: 'follow-highlight',\n            onShow: function (component, _tooltip) {\n              tooltipWorker(function (elm) {\n                Tooltipping.setComponents(component, [external$2({ element: SugarElement.fromDom(elm) })]);\n              });\n            }\n          })];\n      }).getOr([]);\n    };\n    var encodeText = function (text) {\n      return global$b.DOM.encode(text);\n    };\n    var replaceText = function (text, matchText) {\n      var translated = global$e.translate(text);\n      var encoded = encodeText(translated);\n      if (matchText.length > 0) {\n        var escapedMatchRegex = new RegExp(escape(matchText), 'gi');\n        return encoded.replace(escapedMatchRegex, function (match) {\n          return '<span class=\"tox-autocompleter-highlight\">' + match + '</span>';\n        });\n      } else {\n        return encoded;\n      }\n    };\n    var renderAutocompleteItem = function (spec, matchText, useText, presets, onItemValueHandler, itemResponse, sharedBackstage, renderIcons) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      var structure = renderItemStructure({\n        presets: presets,\n        textContent: Optional.none(),\n        htmlContent: useText ? spec.text.map(function (text) {\n          return replaceText(text, matchText);\n        }) : Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: Optional.none(),\n        checkMark: Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, sharedBackstage.providers, renderIcons, spec.icon);\n      return renderCommonItem({\n        data: buildData(spec),\n        disabled: spec.disabled,\n        getApi: constant$1({}),\n        onAction: function (_api) {\n          return onItemValueHandler(spec.value, spec.meta);\n        },\n        onSetup: constant$1(noop),\n        triggersSubmenu: false,\n        itemBehaviours: tooltipBehaviour(spec.meta, sharedBackstage)\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    var render$2 = function (items, extras) {\n      return map$2(items, function (item) {\n        switch (item.type) {\n        case 'cardcontainer':\n          return renderContainer(item, render$2(item.items, extras));\n        case 'cardimage':\n          return renderImage(item.src, item.classes, item.alt);\n        case 'cardtext':\n          var shouldHighlight = item.name.exists(function (name) {\n            return contains$2(extras.cardText.highlightOn, name);\n          });\n          var matchText = shouldHighlight ? Optional.from(extras.cardText.matchText).getOr('') : '';\n          return renderHtml(replaceText(item.text, matchText), item.classes);\n        }\n      });\n    };\n    var renderCardMenuItem = function (spec, itemResponse, sharedBackstage, extras) {\n      var getApi = function (component) {\n        return {\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            Disabling.set(component, state);\n            each$1(descendants(component.element, '*'), function (elm) {\n              component.getSystem().getByDom(elm).each(function (comp) {\n                if (comp.hasConfigured(Disabling)) {\n                  Disabling.set(comp, state);\n                }\n              });\n            });\n          }\n        };\n      };\n      var structure = {\n        dom: renderItemDomStructure(spec.label),\n        optComponents: [Optional.some({\n            dom: {\n              tag: 'div',\n              classes: [\n                containerClass,\n                containerRowClass\n              ]\n            },\n            components: render$2(spec.items, extras)\n          })]\n      };\n      return renderCommonItem({\n        data: buildData(__assign({ text: Optional.none() }, spec)),\n        disabled: spec.disabled,\n        getApi: getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: Optional.from(extras.itemBehaviours).getOr([])\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    var renderChoiceItem = function (spec, useText, presets, onItemValueHandler, isSelected, itemResponse, providersBackstage, renderIcons) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      var getApi = function (component) {\n        return {\n          setActive: function (state) {\n            Toggling.set(component, state);\n          },\n          isActive: function () {\n            return Toggling.isOn(component);\n          },\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(component, state);\n          }\n        };\n      };\n      var structure = renderItemStructure({\n        presets: presets,\n        textContent: useText ? spec.text : Optional.none(),\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: useText ? spec.shortcut : Optional.none(),\n        checkMark: useText ? Optional.some(renderCheckmark(providersBackstage.icons)) : Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, providersBackstage, renderIcons);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        disabled: spec.disabled,\n        getApi: getApi,\n        onAction: function (_api) {\n          return onItemValueHandler(spec.value);\n        },\n        onSetup: function (api) {\n          api.setActive(isSelected);\n          return noop;\n        },\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active\n        }\n      });\n    };\n\n    var parts$f = generate$3(owner$2(), parts$h());\n\n    var hexColour = function (value) {\n      return { value: value };\n    };\n    var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    var longformRegex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n    var isHexString = function (hex) {\n      return shorthandRegex.test(hex) || longformRegex.test(hex);\n    };\n    var normalizeHex = function (hex) {\n      return removeLeading(hex, '#').toUpperCase();\n    };\n    var fromString$1 = function (hex) {\n      return isHexString(hex) ? Optional.some({ value: normalizeHex(hex) }) : Optional.none();\n    };\n    var getLongForm = function (hex) {\n      var hexString = hex.value.replace(shorthandRegex, function (m, r, g, b) {\n        return r + r + g + g + b + b;\n      });\n      return { value: hexString };\n    };\n    var extractValues = function (hex) {\n      var longForm = getLongForm(hex);\n      var splitForm = longformRegex.exec(longForm.value);\n      return splitForm === null ? [\n        'FFFFFF',\n        'FF',\n        'FF',\n        'FF'\n      ] : splitForm;\n    };\n    var toHex = function (component) {\n      var hex = component.toString(16);\n      return (hex.length === 1 ? '0' + hex : hex).toUpperCase();\n    };\n    var fromRgba = function (rgbaColour) {\n      var value = toHex(rgbaColour.red) + toHex(rgbaColour.green) + toHex(rgbaColour.blue);\n      return hexColour(value);\n    };\n\n    var min = Math.min;\n    var max = Math.max;\n    var round$1 = Math.round;\n    var rgbRegex = /^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)/;\n    var rgbaRegex = /^rgba\\((\\d+),\\s*(\\d+),\\s*(\\d+),\\s*(\\d?(?:\\.\\d+)?)\\)/;\n    var rgbaColour = function (red, green, blue, alpha) {\n      return {\n        red: red,\n        green: green,\n        blue: blue,\n        alpha: alpha\n      };\n    };\n    var isRgbaComponent = function (value) {\n      var num = parseInt(value, 10);\n      return num.toString() === value && num >= 0 && num <= 255;\n    };\n    var fromHsv = function (hsv) {\n      var r;\n      var g;\n      var b;\n      var hue = (hsv.hue || 0) % 360;\n      var saturation = hsv.saturation / 100;\n      var brightness = hsv.value / 100;\n      saturation = max(0, min(saturation, 1));\n      brightness = max(0, min(brightness, 1));\n      if (saturation === 0) {\n        r = g = b = round$1(255 * brightness);\n        return rgbaColour(r, g, b, 1);\n      }\n      var side = hue / 60;\n      var chroma = brightness * saturation;\n      var x = chroma * (1 - Math.abs(side % 2 - 1));\n      var match = brightness - chroma;\n      switch (Math.floor(side)) {\n      case 0:\n        r = chroma;\n        g = x;\n        b = 0;\n        break;\n      case 1:\n        r = x;\n        g = chroma;\n        b = 0;\n        break;\n      case 2:\n        r = 0;\n        g = chroma;\n        b = x;\n        break;\n      case 3:\n        r = 0;\n        g = x;\n        b = chroma;\n        break;\n      case 4:\n        r = x;\n        g = 0;\n        b = chroma;\n        break;\n      case 5:\n        r = chroma;\n        g = 0;\n        b = x;\n        break;\n      default:\n        r = g = b = 0;\n      }\n      r = round$1(255 * (r + match));\n      g = round$1(255 * (g + match));\n      b = round$1(255 * (b + match));\n      return rgbaColour(r, g, b, 1);\n    };\n    var fromHex = function (hexColour) {\n      var result = extractValues(hexColour);\n      var red = parseInt(result[1], 16);\n      var green = parseInt(result[2], 16);\n      var blue = parseInt(result[3], 16);\n      return rgbaColour(red, green, blue, 1);\n    };\n    var fromStringValues = function (red, green, blue, alpha) {\n      var r = parseInt(red, 10);\n      var g = parseInt(green, 10);\n      var b = parseInt(blue, 10);\n      var a = parseFloat(alpha);\n      return rgbaColour(r, g, b, a);\n    };\n    var fromString = function (rgbaString) {\n      if (rgbaString === 'transparent') {\n        return Optional.some(rgbaColour(0, 0, 0, 0));\n      }\n      var rgbMatch = rgbRegex.exec(rgbaString);\n      if (rgbMatch !== null) {\n        return Optional.some(fromStringValues(rgbMatch[1], rgbMatch[2], rgbMatch[3], '1'));\n      }\n      var rgbaMatch = rgbaRegex.exec(rgbaString);\n      if (rgbaMatch !== null) {\n        return Optional.some(fromStringValues(rgbaMatch[1], rgbaMatch[2], rgbaMatch[3], rgbaMatch[4]));\n      }\n      return Optional.none();\n    };\n    var toString = function (rgba) {\n      return 'rgba(' + rgba.red + ',' + rgba.green + ',' + rgba.blue + ',' + rgba.alpha + ')';\n    };\n    var red = rgbaColour(255, 0, 0, 1);\n\n    var fireSkinLoaded$1 = function (editor) {\n      return editor.fire('SkinLoaded');\n    };\n    var fireSkinLoadError$1 = function (editor, error) {\n      return editor.fire('SkinLoadError', error);\n    };\n    var fireResizeEditor = function (editor) {\n      return editor.fire('ResizeEditor');\n    };\n    var fireResizeContent = function (editor, e) {\n      return editor.fire('ResizeContent', e);\n    };\n    var fireScrollContent = function (editor, e) {\n      return editor.fire('ScrollContent', e);\n    };\n    var fireTextColorChange = function (editor, data) {\n      return editor.fire('TextColorChange', data);\n    };\n\n    var hsvColour = function (hue, saturation, value) {\n      return {\n        hue: hue,\n        saturation: saturation,\n        value: value\n      };\n    };\n    var fromRgb = function (rgbaColour) {\n      var h = 0;\n      var s = 0;\n      var v = 0;\n      var r = rgbaColour.red / 255;\n      var g = rgbaColour.green / 255;\n      var b = rgbaColour.blue / 255;\n      var minRGB = Math.min(r, Math.min(g, b));\n      var maxRGB = Math.max(r, Math.max(g, b));\n      if (minRGB === maxRGB) {\n        v = minRGB;\n        return hsvColour(0, 0, v * 100);\n      }\n      var d = r === minRGB ? g - b : b === minRGB ? r - g : b - r;\n      h = r === minRGB ? 3 : b === minRGB ? 1 : 5;\n      h = 60 * (h - d / (maxRGB - minRGB));\n      s = (maxRGB - minRGB) / maxRGB;\n      v = maxRGB;\n      return hsvColour(Math.round(h), Math.round(s * 100), Math.round(v * 100));\n    };\n\n    var hexToHsv = function (hex) {\n      return fromRgb(fromHex(hex));\n    };\n    var hsvToHex = function (hsv) {\n      return fromRgba(fromHsv(hsv));\n    };\n    var anyToHex = function (color) {\n      return fromString$1(color).orThunk(function () {\n        return fromString(color).map(fromRgba);\n      }).getOrThunk(function () {\n        var canvas = document.createElement('canvas');\n        canvas.height = 1;\n        canvas.width = 1;\n        var canvasContext = canvas.getContext('2d');\n        canvasContext.clearRect(0, 0, canvas.width, canvas.height);\n        canvasContext.fillStyle = '#FFFFFF';\n        canvasContext.fillStyle = color;\n        canvasContext.fillRect(0, 0, 1, 1);\n        var rgba = canvasContext.getImageData(0, 0, 1, 1).data;\n        var r = rgba[0];\n        var g = rgba[1];\n        var b = rgba[2];\n        var a = rgba[3];\n        return fromRgba(rgbaColour(r, g, b, a));\n      });\n    };\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.util.LocalStorage');\n\n    var storageName = 'tinymce-custom-colors';\n    function ColorCache (max) {\n      if (max === void 0) {\n        max = 10;\n      }\n      var storageString = global$8.getItem(storageName);\n      var localstorage = isString(storageString) ? JSON.parse(storageString) : [];\n      var prune = function (list) {\n        var diff = max - list.length;\n        return diff < 0 ? list.slice(0, max) : list;\n      };\n      var cache = prune(localstorage);\n      var add = function (key) {\n        indexOf(cache, key).each(remove);\n        cache.unshift(key);\n        if (cache.length > max) {\n          cache.pop();\n        }\n        global$8.setItem(storageName, JSON.stringify(cache));\n      };\n      var remove = function (idx) {\n        cache.splice(idx, 1);\n      };\n      var state = function () {\n        return cache.slice(0);\n      };\n      return {\n        add: add,\n        state: state\n      };\n    }\n\n    var choiceItem = 'choiceitem';\n    var defaultColors = [\n      {\n        type: choiceItem,\n        text: 'Light Green',\n        value: '#BFEDD2'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Yellow',\n        value: '#FBEEB8'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Red',\n        value: '#F8CAC6'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Purple',\n        value: '#ECCAFA'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Blue',\n        value: '#C2E0F4'\n      },\n      {\n        type: choiceItem,\n        text: 'Green',\n        value: '#2DC26B'\n      },\n      {\n        type: choiceItem,\n        text: 'Yellow',\n        value: '#F1C40F'\n      },\n      {\n        type: choiceItem,\n        text: 'Red',\n        value: '#E03E2D'\n      },\n      {\n        type: choiceItem,\n        text: 'Purple',\n        value: '#B96AD9'\n      },\n      {\n        type: choiceItem,\n        text: 'Blue',\n        value: '#3598DB'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Turquoise',\n        value: '#169179'\n      },\n      {\n        type: choiceItem,\n        text: 'Orange',\n        value: '#E67E23'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Red',\n        value: '#BA372A'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Purple',\n        value: '#843FA1'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Blue',\n        value: '#236FA1'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Gray',\n        value: '#ECF0F1'\n      },\n      {\n        type: choiceItem,\n        text: 'Medium Gray',\n        value: '#CED4D9'\n      },\n      {\n        type: choiceItem,\n        text: 'Gray',\n        value: '#95A5A6'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Gray',\n        value: '#7E8C8D'\n      },\n      {\n        type: choiceItem,\n        text: 'Navy Blue',\n        value: '#34495E'\n      },\n      {\n        type: choiceItem,\n        text: 'Black',\n        value: '#000000'\n      },\n      {\n        type: choiceItem,\n        text: 'White',\n        value: '#ffffff'\n      }\n    ];\n    var colorCache = ColorCache(10);\n    var mapColors = function (colorMap) {\n      var colors = [];\n      for (var i = 0; i < colorMap.length; i += 2) {\n        colors.push({\n          text: colorMap[i + 1],\n          value: '#' + anyToHex(colorMap[i]).value,\n          type: 'choiceitem'\n        });\n      }\n      return colors;\n    };\n    var getColorCols$2 = function (editor, defaultCols) {\n      return editor.getParam('color_cols', defaultCols, 'number');\n    };\n    var hasCustomColors$1 = function (editor) {\n      return editor.getParam('custom_colors') !== false;\n    };\n    var getColorMap = function (editor) {\n      return editor.getParam('color_map');\n    };\n    var getColors$2 = function (editor) {\n      var unmapped = getColorMap(editor);\n      return unmapped !== undefined ? mapColors(unmapped) : defaultColors;\n    };\n    var getCurrentColors = function () {\n      return map$2(colorCache.state(), function (color) {\n        return {\n          type: choiceItem,\n          text: color,\n          value: color\n        };\n      });\n    };\n    var addColor = function (color) {\n      colorCache.add(color);\n    };\n\n    var fallbackColor = '#000000';\n    var getCurrentColor = function (editor, format) {\n      var color;\n      editor.dom.getParents(editor.selection.getStart(), function (elm) {\n        var value;\n        if (value = elm.style[format === 'forecolor' ? 'color' : 'background-color']) {\n          color = color ? color : value;\n        }\n      });\n      return Optional.from(color);\n    };\n    var applyFormat = function (editor, format, value) {\n      editor.undoManager.transact(function () {\n        editor.focus();\n        editor.formatter.apply(format, { value: value });\n        editor.nodeChanged();\n      });\n    };\n    var removeFormat = function (editor, format) {\n      editor.undoManager.transact(function () {\n        editor.focus();\n        editor.formatter.remove(format, { value: null }, null, true);\n        editor.nodeChanged();\n      });\n    };\n    var registerCommands = function (editor) {\n      editor.addCommand('mceApplyTextcolor', function (format, value) {\n        applyFormat(editor, format, value);\n      });\n      editor.addCommand('mceRemoveTextcolor', function (format) {\n        removeFormat(editor, format);\n      });\n    };\n    var calcCols = function (colors) {\n      return Math.max(5, Math.ceil(Math.sqrt(colors)));\n    };\n    var getColorCols$1 = function (editor) {\n      var colors = getColors$2(editor);\n      var defaultCols = calcCols(colors.length);\n      return getColorCols$2(editor, defaultCols);\n    };\n    var getAdditionalColors = function (hasCustom) {\n      var type = 'choiceitem';\n      var remove = {\n        type: type,\n        text: 'Remove color',\n        icon: 'color-swatch-remove-color',\n        value: 'remove'\n      };\n      var custom = {\n        type: type,\n        text: 'Custom color',\n        icon: 'color-picker',\n        value: 'custom'\n      };\n      return hasCustom ? [\n        remove,\n        custom\n      ] : [remove];\n    };\n    var applyColor = function (editor, format, value, onChoice) {\n      if (value === 'custom') {\n        var dialog = colorPickerDialog(editor);\n        dialog(function (colorOpt) {\n          colorOpt.each(function (color) {\n            addColor(color);\n            editor.execCommand('mceApplyTextcolor', format, color);\n            onChoice(color);\n          });\n        }, fallbackColor);\n      } else if (value === 'remove') {\n        onChoice('');\n        editor.execCommand('mceRemoveTextcolor', format);\n      } else {\n        onChoice(value);\n        editor.execCommand('mceApplyTextcolor', format, value);\n      }\n    };\n    var getColors$1 = function (colors, hasCustom) {\n      return colors.concat(getCurrentColors().concat(getAdditionalColors(hasCustom)));\n    };\n    var getFetch$1 = function (colors, hasCustom) {\n      return function (callback) {\n        callback(getColors$1(colors, hasCustom));\n      };\n    };\n    var setIconColor = function (splitButtonApi, name, newColor) {\n      var id = name === 'forecolor' ? 'tox-icon-text-color__color' : 'tox-icon-highlight-bg-color__color';\n      splitButtonApi.setIconFill(id, newColor);\n    };\n    var registerTextColorButton = function (editor, name, format, tooltip, lastColor) {\n      editor.ui.registry.addSplitButton(name, {\n        tooltip: tooltip,\n        presets: 'color',\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        select: function (value) {\n          var optCurrentRgb = getCurrentColor(editor, format);\n          return optCurrentRgb.bind(function (currentRgb) {\n            return fromString(currentRgb).map(function (rgba) {\n              var currentHex = fromRgba(rgba).value;\n              return contains$1(value.toLowerCase(), currentHex);\n            });\n          }).getOr(false);\n        },\n        columns: getColorCols$1(editor),\n        fetch: getFetch$1(getColors$2(editor), hasCustomColors$1(editor)),\n        onAction: function (_splitButtonApi) {\n          applyColor(editor, format, lastColor.get(), noop);\n        },\n        onItemAction: function (_splitButtonApi, value) {\n          applyColor(editor, format, value, function (newColor) {\n            lastColor.set(newColor);\n            fireTextColorChange(editor, {\n              name: name,\n              color: newColor\n            });\n          });\n        },\n        onSetup: function (splitButtonApi) {\n          setIconColor(splitButtonApi, name, lastColor.get());\n          var handler = function (e) {\n            if (e.name === name) {\n              setIconColor(splitButtonApi, e.name, e.color);\n            }\n          };\n          editor.on('TextColorChange', handler);\n          return function () {\n            editor.off('TextColorChange', handler);\n          };\n        }\n      });\n    };\n    var registerTextColorMenuItem = function (editor, name, format, text) {\n      editor.ui.registry.addNestedMenuItem(name, {\n        text: text,\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        getSubmenuItems: function () {\n          return [{\n              type: 'fancymenuitem',\n              fancytype: 'colorswatch',\n              onAction: function (data) {\n                applyColor(editor, format, data.value, noop);\n              }\n            }];\n        }\n      });\n    };\n    var colorPickerDialog = function (editor) {\n      return function (callback, value) {\n        var isValid = false;\n        var onSubmit = function (api) {\n          var data = api.getData();\n          var hex = data.colorpicker;\n          if (isValid) {\n            callback(Optional.from(hex));\n            api.close();\n          } else {\n            editor.windowManager.alert(editor.translate([\n              'Invalid hex color code: {0}',\n              hex\n            ]));\n          }\n        };\n        var onAction = function (_api, details) {\n          if (details.name === 'hex-valid') {\n            isValid = details.value;\n          }\n        };\n        var initialData = { colorpicker: value };\n        editor.windowManager.open({\n          title: 'Color Picker',\n          size: 'normal',\n          body: {\n            type: 'panel',\n            items: [{\n                type: 'colorpicker',\n                name: 'colorpicker',\n                label: 'Color'\n              }]\n          },\n          buttons: [\n            {\n              type: 'cancel',\n              name: 'cancel',\n              text: 'Cancel'\n            },\n            {\n              type: 'submit',\n              name: 'save',\n              text: 'Save',\n              primary: true\n            }\n          ],\n          initialData: initialData,\n          onAction: onAction,\n          onSubmit: onSubmit,\n          onClose: noop,\n          onCancel: function () {\n            callback(Optional.none());\n          }\n        });\n      };\n    };\n    var register$a = function (editor) {\n      registerCommands(editor);\n      var lastForeColor = Cell(fallbackColor);\n      var lastBackColor = Cell(fallbackColor);\n      registerTextColorButton(editor, 'forecolor', 'forecolor', 'Text color', lastForeColor);\n      registerTextColorButton(editor, 'backcolor', 'hilitecolor', 'Background color', lastBackColor);\n      registerTextColorMenuItem(editor, 'forecolor', 'forecolor', 'Text color');\n      registerTextColorMenuItem(editor, 'backcolor', 'hilitecolor', 'Background color');\n    };\n\n    var createPartialChoiceMenu = function (value, items, onItemValueHandler, columns, presets, itemResponse, select, providersBackstage) {\n      var hasIcons = menuHasIcons(items);\n      var presetItemTypes = presets !== 'color' ? 'normal' : 'color';\n      var alloyItems = createChoiceItems(items, onItemValueHandler, columns, presetItemTypes, itemResponse, select, providersBackstage);\n      return createPartialMenuWithAlloyItems(value, hasIcons, alloyItems, columns, presets);\n    };\n    var createChoiceItems = function (items, onItemValueHandler, columns, itemPresets, itemResponse, select, providersBackstage) {\n      return cat(map$2(items, function (item) {\n        if (item.type === 'choiceitem') {\n          return createChoiceMenuItem(item).fold(handleError, function (d) {\n            return Optional.some(renderChoiceItem(d, columns === 1, itemPresets, onItemValueHandler, select(item.value), itemResponse, providersBackstage, menuHasIcons(items)));\n          });\n        } else {\n          return Optional.none();\n        }\n      }));\n    };\n\n    var deriveMenuMovement = function (columns, presets) {\n      var menuMarkers = markers(presets);\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: true\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'grid',\n          selector: '.' + menuMarkers.item,\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        var rowClass = presets === 'color' ? 'tox-swatches__row' : 'tox-collection__group';\n        return {\n          mode: 'matrix',\n          rowSelector: '.' + rowClass\n        };\n      }\n    };\n    var deriveCollectionMovement = function (columns, presets) {\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: false,\n          selector: '.tox-collection__item'\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'flatgrid',\n          selector: '.' + 'tox-collection__item',\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        return {\n          mode: 'matrix',\n          selectors: {\n            row: presets === 'color' ? '.tox-swatches__row' : '.tox-collection__group',\n            cell: presets === 'color' ? '.' + colorClass : '.' + selectableClass\n          }\n        };\n      }\n    };\n\n    var renderColorSwatchItem = function (spec, backstage) {\n      var items = getColorItems(spec, backstage);\n      var columns = backstage.colorinput.getColorCols();\n      var presets = 'color';\n      var menuSpec = createPartialChoiceMenu(generate$6('menu-value'), items, function (value) {\n        spec.onAction({ value: value });\n      }, columns, presets, ItemResponse$1.CLOSE_ON_EXECUTE, never, backstage.shared.providers);\n      var widgetSpec = __assign(__assign({}, menuSpec), {\n        markers: markers(presets),\n        movement: deriveMenuMovement(columns, presets)\n      });\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget(Menu.sketch(widgetSpec))]\n      };\n    };\n    var getColorItems = function (spec, backstage) {\n      var useCustomColors = spec.initData.allowCustomColors && backstage.colorinput.hasCustomColors();\n      return spec.initData.colors.fold(function () {\n        return getColors$1(backstage.colorinput.getColors(), useCustomColors);\n      }, function (colors) {\n        return colors.concat(getAdditionalColors(useCustomColors));\n      });\n    };\n\n    var cellOverEvent = generate$6('cell-over');\n    var cellExecuteEvent = generate$6('cell-execute');\n    var makeCell = function (row, col, labelId) {\n      var _a;\n      var emitCellOver = function (c) {\n        return emitWith(c, cellOverEvent, {\n          row: row,\n          col: col\n        });\n      };\n      var emitExecute = function (c) {\n        return emitWith(c, cellExecuteEvent, {\n          row: row,\n          col: col\n        });\n      };\n      var onClick = function (c, se) {\n        se.stop();\n        emitExecute(c);\n      };\n      return build$1({\n        dom: {\n          tag: 'div',\n          attributes: (_a = { role: 'button' }, _a['aria-labelledby'] = labelId, _a)\n        },\n        behaviours: derive$1([\n          config('insert-table-picker-cell', [\n            run$1(mouseover(), Focusing.focus),\n            run$1(execute$5(), emitExecute),\n            run$1(click(), onClick),\n            run$1(tap(), onClick)\n          ]),\n          Toggling.config({\n            toggleClass: 'tox-insert-table-picker__selected',\n            toggleOnExecute: false\n          }),\n          Focusing.config({ onFocus: emitCellOver })\n        ])\n      });\n    };\n    var makeCells = function (labelId, numRows, numCols) {\n      var cells = [];\n      for (var i = 0; i < numRows; i++) {\n        var row = [];\n        for (var j = 0; j < numCols; j++) {\n          row.push(makeCell(i, j, labelId));\n        }\n        cells.push(row);\n      }\n      return cells;\n    };\n    var selectCells = function (cells, selectedRow, selectedColumn, numRows, numColumns) {\n      for (var i = 0; i < numRows; i++) {\n        for (var j = 0; j < numColumns; j++) {\n          Toggling.set(cells[i][j], i <= selectedRow && j <= selectedColumn);\n        }\n      }\n    };\n    var makeComponents = function (cells) {\n      return bind$3(cells, function (cellRow) {\n        return map$2(cellRow, premade);\n      });\n    };\n    var makeLabelText = function (row, col) {\n      return text$1(col + 'x' + row);\n    };\n    var renderInsertTableMenuItem = function (spec) {\n      var numRows = 10;\n      var numColumns = 10;\n      var sizeLabelId = generate$6('size-label');\n      var cells = makeCells(sizeLabelId, numRows, numColumns);\n      var emptyLabelText = makeLabelText(0, 0);\n      var memLabel = record({\n        dom: {\n          tag: 'span',\n          classes: ['tox-insert-table-picker__label'],\n          attributes: { id: sizeLabelId }\n        },\n        components: [emptyLabelText],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget({\n            dom: {\n              tag: 'div',\n              classes: ['tox-insert-table-picker']\n            },\n            components: makeComponents(cells).concat(memLabel.asSpec()),\n            behaviours: derive$1([\n              config('insert-table-picker', [\n                runOnAttached(function (c) {\n                  Replacing.set(memLabel.get(c), [emptyLabelText]);\n                }),\n                runWithTarget(cellOverEvent, function (c, t, e) {\n                  var _a = e.event, row = _a.row, col = _a.col;\n                  selectCells(cells, row, col, numRows, numColumns);\n                  Replacing.set(memLabel.get(c), [makeLabelText(row + 1, col + 1)]);\n                }),\n                runWithTarget(cellExecuteEvent, function (c, _, e) {\n                  var _a = e.event, row = _a.row, col = _a.col;\n                  spec.onAction({\n                    numRows: row + 1,\n                    numColumns: col + 1\n                  });\n                  emit(c, sandboxClose());\n                })\n              ]),\n              Keying.config({\n                initSize: {\n                  numRows: numRows,\n                  numColumns: numColumns\n                },\n                mode: 'flatgrid',\n                selector: '[role=\"button\"]'\n              })\n            ])\n          })]\n      };\n    };\n\n    var fancyMenuItems = {\n      inserttable: renderInsertTableMenuItem,\n      colorswatch: renderColorSwatchItem\n    };\n    var renderFancyMenuItem = function (spec, backstage) {\n      return get$e(fancyMenuItems, spec.fancytype).map(function (render) {\n        return render(spec, backstage);\n      });\n    };\n\n    var renderNestedItem = function (spec, itemResponse, providersBackstage, renderIcons, downwardsCaret) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      if (downwardsCaret === void 0) {\n        downwardsCaret = false;\n      }\n      var caret = downwardsCaret ? renderDownwardsCaret(providersBackstage.icons) : renderSubmenuCaret(providersBackstage.icons);\n      var getApi = function (component) {\n        return {\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(component, state);\n          }\n        };\n      };\n      var structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.some(caret),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi: getApi,\n        disabled: spec.disabled,\n        onAction: noop,\n        onSetup: spec.onSetup,\n        triggersSubmenu: true,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    var renderNormalItem = function (spec, itemResponse, providersBackstage, renderIcons) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      var getApi = function (component) {\n        return {\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(component, state);\n          }\n        };\n      };\n      var structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.none(),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi: getApi,\n        disabled: spec.disabled,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    var renderSeparatorItem = function (spec) {\n      var innerHtml = spec.text.fold(function () {\n        return {};\n      }, function (text) {\n        return { innerHtml: text };\n      });\n      return {\n        type: 'separator',\n        dom: __assign({\n          tag: 'div',\n          classes: [\n            selectableClass,\n            groupHeadingClass\n          ]\n        }, innerHtml),\n        components: []\n      };\n    };\n\n    var renderToggleMenuItem = function (spec, itemResponse, providersBackstage, renderIcons) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      var getApi = function (component) {\n        return {\n          setActive: function (state) {\n            Toggling.set(component, state);\n          },\n          isActive: function () {\n            return Toggling.isOn(component);\n          },\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(component, state);\n          }\n        };\n      };\n      var structure = renderItemStructure({\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        checkMark: Optional.some(renderCheckmark(providersBackstage.icons)),\n        caret: Optional.none(),\n        shortcutContent: spec.shortcut,\n        presets: 'normal',\n        meta: spec.meta\n      }, providersBackstage, renderIcons);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        disabled: spec.disabled,\n        getApi: getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active\n        }\n      });\n    };\n\n    var autocomplete = renderAutocompleteItem;\n    var separator$3 = renderSeparatorItem;\n    var normal = renderNormalItem;\n    var nested = renderNestedItem;\n    var toggle$1 = renderToggleMenuItem;\n    var fancy = renderFancyMenuItem;\n    var card = renderCardMenuItem;\n\n    var FocusMode;\n    (function (FocusMode) {\n      FocusMode[FocusMode['ContentFocus'] = 0] = 'ContentFocus';\n      FocusMode[FocusMode['UiFocus'] = 1] = 'UiFocus';\n    }(FocusMode || (FocusMode = {})));\n    var createMenuItemFromBridge = function (item, itemResponse, backstage, menuHasIcons, isHorizontalMenu) {\n      var providersBackstage = backstage.shared.providers;\n      var parseForHorizontalMenu = function (menuitem) {\n        return !isHorizontalMenu ? menuitem : __assign(__assign({}, menuitem), {\n          shortcut: Optional.none(),\n          icon: menuitem.text.isSome() ? Optional.none() : menuitem.icon\n        });\n      };\n      switch (item.type) {\n      case 'menuitem':\n        return createMenuItem(item).fold(handleError, function (d) {\n          return Optional.some(normal(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons));\n        });\n      case 'nestedmenuitem':\n        return createNestedMenuItem(item).fold(handleError, function (d) {\n          return Optional.some(nested(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons, isHorizontalMenu));\n        });\n      case 'togglemenuitem':\n        return createToggleMenuItem(item).fold(handleError, function (d) {\n          return Optional.some(toggle$1(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons));\n        });\n      case 'separator':\n        return createSeparatorMenuItem(item).fold(handleError, function (d) {\n          return Optional.some(separator$3(d));\n        });\n      case 'fancymenuitem':\n        return createFancyMenuItem(item).fold(handleError, function (d) {\n          return fancy(parseForHorizontalMenu(d), backstage);\n        });\n      default: {\n          console.error('Unknown item in general menu', item);\n          return Optional.none();\n        }\n      }\n    };\n    var createAutocompleteItems = function (items, matchText, onItemValueHandler, columns, itemResponse, sharedBackstage, highlightOn) {\n      var renderText = columns === 1;\n      var renderIcons = !renderText || menuHasIcons(items);\n      return cat(map$2(items, function (item) {\n        switch (item.type) {\n        case 'separator':\n          return createSeparatorItem(item).fold(handleError, function (d) {\n            return Optional.some(separator$3(d));\n          });\n        case 'cardmenuitem':\n          return createCardMenuItem(item).fold(handleError, function (d) {\n            return Optional.some(card(__assign(__assign({}, d), {\n              onAction: function (api) {\n                d.onAction(api);\n                onItemValueHandler(d.value, d.meta);\n              }\n            }), itemResponse, sharedBackstage, {\n              itemBehaviours: tooltipBehaviour(d.meta, sharedBackstage),\n              cardText: {\n                matchText: matchText,\n                highlightOn: highlightOn\n              }\n            }));\n          });\n        case 'autocompleteitem':\n        default:\n          return createAutocompleterItem(item).fold(handleError, function (d) {\n            return Optional.some(autocomplete(d, matchText, renderText, 'normal', onItemValueHandler, itemResponse, sharedBackstage, renderIcons));\n          });\n        }\n      }));\n    };\n    var createPartialMenu = function (value, items, itemResponse, backstage, isHorizontalMenu) {\n      var hasIcons = menuHasIcons(items);\n      var alloyItems = cat(map$2(items, function (item) {\n        var itemHasIcon = function (i) {\n          return isHorizontalMenu ? !has$2(i, 'text') : hasIcons;\n        };\n        var createItem = function (i) {\n          return createMenuItemFromBridge(i, itemResponse, backstage, itemHasIcon(i), isHorizontalMenu);\n        };\n        if (item.type === 'nestedmenuitem' && item.getSubmenuItems().length <= 0) {\n          return createItem(__assign(__assign({}, item), { disabled: true }));\n        } else {\n          return createItem(item);\n        }\n      }));\n      var createPartial = isHorizontalMenu ? createHorizontalPartialMenuWithAlloyItems : createPartialMenuWithAlloyItems;\n      return createPartial(value, hasIcons, alloyItems, 1, 'normal');\n    };\n    var createTieredDataFrom = function (partialMenu) {\n      return tieredMenu.singleData(partialMenu.value, partialMenu);\n    };\n    var createMenuFrom = function (partialMenu, columns, focusMode, presets) {\n      var focusManager = focusMode === FocusMode.ContentFocus ? highlights() : dom$2();\n      var movement = deriveMenuMovement(columns, presets);\n      var menuMarkers = markers(presets);\n      return {\n        dom: partialMenu.dom,\n        components: partialMenu.components,\n        items: partialMenu.items,\n        value: partialMenu.value,\n        markers: {\n          selectedItem: menuMarkers.selectedItem,\n          item: menuMarkers.item\n        },\n        movement: movement,\n        fakeFocus: focusMode === FocusMode.ContentFocus,\n        focusManager: focusManager,\n        menuBehaviours: SimpleBehaviours.unnamedEvents(columns !== 'auto' ? [] : [runOnAttached(function (comp, _se) {\n            detectSize(comp, 4, menuMarkers.item).each(function (_a) {\n              var numColumns = _a.numColumns, numRows = _a.numRows;\n              Keying.setGridSize(comp, numRows, numColumns);\n            });\n          })])\n      };\n    };\n\n    var register$9 = function (editor, sharedBackstage) {\n      var activeAutocompleter = value$1();\n      var processingAction = Cell(false);\n      var autocompleter = build$1(InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-autocompleter']\n        },\n        components: [],\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissAutocompleter', [run$1(dismissRequested(), function () {\n              return cancelIfNecessary();\n            })])]),\n        lazySink: sharedBackstage.getSink\n      }));\n      var isMenuOpen = function () {\n        return InlineView.isOpen(autocompleter);\n      };\n      var isActive = function () {\n        return activeAutocompleter.get().isSome();\n      };\n      var hideIfNecessary = function () {\n        if (isActive()) {\n          InlineView.hide(autocompleter);\n        }\n      };\n      var cancelIfNecessary = function () {\n        if (isActive()) {\n          var lastElement = activeAutocompleter.get().map(function (ac) {\n            return ac.element;\n          });\n          detect(lastElement.getOr(SugarElement.fromDom(editor.selection.getNode()))).each(unwrap);\n          hideIfNecessary();\n          activeAutocompleter.clear();\n          processingAction.set(false);\n        }\n      };\n      var getAutocompleters = cached(function () {\n        return register$b(editor);\n      });\n      var getCombinedItems = function (triggerChar, matches) {\n        var columns = findMap(matches, function (m) {\n          return Optional.from(m.columns);\n        }).getOr(1);\n        return bind$3(matches, function (match) {\n          var choices = match.items;\n          return createAutocompleteItems(choices, match.matchText, function (itemValue, itemMeta) {\n            var nr = editor.selection.getRng();\n            getContext(editor.dom, nr, triggerChar).fold(function () {\n              return console.error('Lost context. Cursor probably moved');\n            }, function (_a) {\n              var range = _a.range;\n              var autocompleterApi = {\n                hide: function () {\n                  cancelIfNecessary();\n                },\n                reload: function (fetchOptions) {\n                  hideIfNecessary();\n                  load(fetchOptions);\n                }\n              };\n              processingAction.set(true);\n              match.onAction(autocompleterApi, range, itemValue, itemMeta);\n              processingAction.set(false);\n            });\n          }, columns, ItemResponse$1.BUBBLE_TO_SANDBOX, sharedBackstage, match.highlightOn);\n        });\n      };\n      var commenceIfNecessary = function (context) {\n        if (!isActive()) {\n          var wrapper = create$4(editor, context.range);\n          activeAutocompleter.set({\n            triggerChar: context.triggerChar,\n            element: wrapper,\n            matchLength: context.text.length\n          });\n          processingAction.set(false);\n        }\n      };\n      var display = function (ac, context, lookupData, items) {\n        ac.matchLength = context.text.length;\n        var columns = findMap(lookupData, function (ld) {\n          return Optional.from(ld.columns);\n        }).getOr(1);\n        InlineView.showAt(autocompleter, Menu.sketch(createMenuFrom(createPartialMenuWithAlloyItems('autocompleter-value', true, items, columns, 'normal'), columns, FocusMode.ContentFocus, 'normal')), {\n          anchor: {\n            type: 'node',\n            root: SugarElement.fromDom(editor.getBody()),\n            node: Optional.from(ac.element)\n          }\n        });\n        InlineView.getContent(autocompleter).each(Highlighting.highlightFirst);\n      };\n      var doLookup = function (fetchOptions) {\n        return activeAutocompleter.get().map(function (ac) {\n          return getContext(editor.dom, editor.selection.getRng(), ac.triggerChar).bind(function (newContext) {\n            return lookupWithContext(editor, getAutocompleters, newContext, fetchOptions);\n          });\n        }).getOrThunk(function () {\n          return lookup$2(editor, getAutocompleters);\n        });\n      };\n      var load = function (fetchOptions) {\n        doLookup(fetchOptions).fold(cancelIfNecessary, function (lookupInfo) {\n          commenceIfNecessary(lookupInfo.context);\n          lookupInfo.lookupData.then(function (lookupData) {\n            activeAutocompleter.get().map(function (ac) {\n              var context = lookupInfo.context;\n              if (ac.triggerChar === context.triggerChar) {\n                var combinedItems = getCombinedItems(context.triggerChar, lookupData);\n                if (combinedItems.length > 0) {\n                  display(ac, context, lookupData, combinedItems);\n                } else if (context.text.length - ac.matchLength >= 10) {\n                  cancelIfNecessary();\n                } else {\n                  hideIfNecessary();\n                }\n              }\n            });\n          });\n        });\n      };\n      var onKeypress = last(function (e) {\n        if (e.which === 27) {\n          return;\n        }\n        load();\n      }, 50);\n      var autocompleterUiApi = {\n        onKeypress: onKeypress,\n        cancelIfNecessary: cancelIfNecessary,\n        isMenuOpen: isMenuOpen,\n        isActive: isActive,\n        isProcessingAction: processingAction.get,\n        getView: function () {\n          return InlineView.getContent(autocompleter);\n        }\n      };\n      if (editor.hasPlugin('rtc') === false) {\n        AutocompleterEditorEvents.setup(autocompleterUiApi, editor);\n      }\n    };\n    var Autocompleter = { register: register$9 };\n\n    var closest = function (scope, selector, isRoot) {\n      return closest$1(scope, selector, isRoot).isSome();\n    };\n\n    var DelayedFunction = function (fun, delay) {\n      var ref = null;\n      var schedule = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        ref = setTimeout(function () {\n          fun.apply(null, args);\n          ref = null;\n        }, delay);\n      };\n      var cancel = function () {\n        if (ref !== null) {\n          clearTimeout(ref);\n          ref = null;\n        }\n      };\n      return {\n        cancel: cancel,\n        schedule: schedule\n      };\n    };\n\n    var SIGNIFICANT_MOVE = 5;\n    var LONGPRESS_DELAY = 400;\n    var getTouch = function (event) {\n      var raw = event.raw;\n      if (raw.touches === undefined || raw.touches.length !== 1) {\n        return Optional.none();\n      }\n      return Optional.some(raw.touches[0]);\n    };\n    var isFarEnough = function (touch, data) {\n      var distX = Math.abs(touch.clientX - data.x);\n      var distY = Math.abs(touch.clientY - data.y);\n      return distX > SIGNIFICANT_MOVE || distY > SIGNIFICANT_MOVE;\n    };\n    var monitor = function (settings) {\n      var startData = value$1();\n      var longpressFired = Cell(false);\n      var longpress$1 = DelayedFunction(function (event) {\n        settings.triggerEvent(longpress(), event);\n        longpressFired.set(true);\n      }, LONGPRESS_DELAY);\n      var handleTouchstart = function (event) {\n        getTouch(event).each(function (touch) {\n          longpress$1.cancel();\n          var data = {\n            x: touch.clientX,\n            y: touch.clientY,\n            target: event.target\n          };\n          longpress$1.schedule(event);\n          longpressFired.set(false);\n          startData.set(data);\n        });\n        return Optional.none();\n      };\n      var handleTouchmove = function (event) {\n        longpress$1.cancel();\n        getTouch(event).each(function (touch) {\n          startData.on(function (data) {\n            if (isFarEnough(touch, data)) {\n              startData.clear();\n            }\n          });\n        });\n        return Optional.none();\n      };\n      var handleTouchend = function (event) {\n        longpress$1.cancel();\n        var isSame = function (data) {\n          return eq(data.target, event.target);\n        };\n        return startData.get().filter(isSame).map(function (_data) {\n          if (longpressFired.get()) {\n            event.prevent();\n            return false;\n          } else {\n            return settings.triggerEvent(tap(), event);\n          }\n        });\n      };\n      var handlers = wrapAll([\n        {\n          key: touchstart(),\n          value: handleTouchstart\n        },\n        {\n          key: touchmove(),\n          value: handleTouchmove\n        },\n        {\n          key: touchend(),\n          value: handleTouchend\n        }\n      ]);\n      var fireIfReady = function (event, type) {\n        return get$e(handlers, type).bind(function (handler) {\n          return handler(event);\n        });\n      };\n      return { fireIfReady: fireIfReady };\n    };\n\n    var isDangerous = function (event) {\n      var keyEv = event.raw;\n      return keyEv.which === BACKSPACE[0] && !contains$2([\n        'input',\n        'textarea'\n      ], name$2(event.target)) && !closest(event.target, '[contenteditable=\"true\"]');\n    };\n    var isFirefox = function () {\n      return detect$1().browser.isFirefox();\n    };\n    var bindFocus = function (container, handler) {\n      if (isFirefox()) {\n        return capture(container, 'focus', handler);\n      } else {\n        return bind(container, 'focusin', handler);\n      }\n    };\n    var bindBlur = function (container, handler) {\n      if (isFirefox()) {\n        return capture(container, 'blur', handler);\n      } else {\n        return bind(container, 'focusout', handler);\n      }\n    };\n    var setup$d = function (container, rawSettings) {\n      var settings = __assign({ stopBackspace: true }, rawSettings);\n      var pointerEvents = [\n        'touchstart',\n        'touchmove',\n        'touchend',\n        'touchcancel',\n        'gesturestart',\n        'mousedown',\n        'mouseup',\n        'mouseover',\n        'mousemove',\n        'mouseout',\n        'click'\n      ];\n      var tapEvent = monitor(settings);\n      var simpleEvents = map$2(pointerEvents.concat([\n        'selectstart',\n        'input',\n        'contextmenu',\n        'change',\n        'transitionend',\n        'transitioncancel',\n        'drag',\n        'dragstart',\n        'dragend',\n        'dragenter',\n        'dragleave',\n        'dragover',\n        'drop',\n        'keyup'\n      ]), function (type) {\n        return bind(container, type, function (event) {\n          tapEvent.fireIfReady(event, type).each(function (tapStopped) {\n            if (tapStopped) {\n              event.kill();\n            }\n          });\n          var stopped = settings.triggerEvent(type, event);\n          if (stopped) {\n            event.kill();\n          }\n        });\n      });\n      var pasteTimeout = value$1();\n      var onPaste = bind(container, 'paste', function (event) {\n        tapEvent.fireIfReady(event, 'paste').each(function (tapStopped) {\n          if (tapStopped) {\n            event.kill();\n          }\n        });\n        var stopped = settings.triggerEvent('paste', event);\n        if (stopped) {\n          event.kill();\n        }\n        pasteTimeout.set(setTimeout(function () {\n          settings.triggerEvent(postPaste(), event);\n        }, 0));\n      });\n      var onKeydown = bind(container, 'keydown', function (event) {\n        var stopped = settings.triggerEvent('keydown', event);\n        if (stopped) {\n          event.kill();\n        } else if (settings.stopBackspace && isDangerous(event)) {\n          event.prevent();\n        }\n      });\n      var onFocusIn = bindFocus(container, function (event) {\n        var stopped = settings.triggerEvent('focusin', event);\n        if (stopped) {\n          event.kill();\n        }\n      });\n      var focusoutTimeout = value$1();\n      var onFocusOut = bindBlur(container, function (event) {\n        var stopped = settings.triggerEvent('focusout', event);\n        if (stopped) {\n          event.kill();\n        }\n        focusoutTimeout.set(setTimeout(function () {\n          settings.triggerEvent(postBlur(), event);\n        }, 0));\n      });\n      var unbind = function () {\n        each$1(simpleEvents, function (e) {\n          e.unbind();\n        });\n        onKeydown.unbind();\n        onFocusIn.unbind();\n        onFocusOut.unbind();\n        onPaste.unbind();\n        pasteTimeout.on(clearTimeout);\n        focusoutTimeout.on(clearTimeout);\n      };\n      return { unbind: unbind };\n    };\n\n    var derive = function (rawEvent, rawTarget) {\n      var source = get$e(rawEvent, 'target').getOr(rawTarget);\n      return Cell(source);\n    };\n\n    var fromSource = function (event, source) {\n      var stopper = Cell(false);\n      var cutter = Cell(false);\n      var stop = function () {\n        stopper.set(true);\n      };\n      var cut = function () {\n        cutter.set(true);\n      };\n      return {\n        stop: stop,\n        cut: cut,\n        isStopped: stopper.get,\n        isCut: cutter.get,\n        event: event,\n        setSource: source.set,\n        getSource: source.get\n      };\n    };\n    var fromExternal = function (event) {\n      var stopper = Cell(false);\n      var stop = function () {\n        stopper.set(true);\n      };\n      return {\n        stop: stop,\n        cut: noop,\n        isStopped: stopper.get,\n        isCut: never,\n        event: event,\n        setSource: die('Cannot set source of a broadcasted event'),\n        getSource: die('Cannot get source of a broadcasted event')\n      };\n    };\n\n    var adt$1 = Adt.generate([\n      { stopped: [] },\n      { resume: ['element'] },\n      { complete: [] }\n    ]);\n    var doTriggerHandler = function (lookup, eventType, rawEvent, target, source, logger) {\n      var handler = lookup(eventType, target);\n      var simulatedEvent = fromSource(rawEvent, source);\n      return handler.fold(function () {\n        logger.logEventNoHandlers(eventType, target);\n        return adt$1.complete();\n      }, function (handlerInfo) {\n        var descHandler = handlerInfo.descHandler;\n        var eventHandler = getCurried(descHandler);\n        eventHandler(simulatedEvent);\n        if (simulatedEvent.isStopped()) {\n          logger.logEventStopped(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.stopped();\n        } else if (simulatedEvent.isCut()) {\n          logger.logEventCut(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.complete();\n        } else {\n          return parent(handlerInfo.element).fold(function () {\n            logger.logNoParent(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.complete();\n          }, function (parent) {\n            logger.logEventResponse(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.resume(parent);\n          });\n        }\n      });\n    };\n    var doTriggerOnUntilStopped = function (lookup, eventType, rawEvent, rawTarget, source, logger) {\n      return doTriggerHandler(lookup, eventType, rawEvent, rawTarget, source, logger).fold(always, function (parent) {\n        return doTriggerOnUntilStopped(lookup, eventType, rawEvent, parent, source, logger);\n      }, never);\n    };\n    var triggerHandler = function (lookup, eventType, rawEvent, target, logger) {\n      var source = derive(rawEvent, target);\n      return doTriggerHandler(lookup, eventType, rawEvent, target, source, logger);\n    };\n    var broadcast = function (listeners, rawEvent, _logger) {\n      var simulatedEvent = fromExternal(rawEvent);\n      each$1(listeners, function (listener) {\n        var descHandler = listener.descHandler;\n        var handler = getCurried(descHandler);\n        handler(simulatedEvent);\n      });\n      return simulatedEvent.isStopped();\n    };\n    var triggerUntilStopped = function (lookup, eventType, rawEvent, logger) {\n      return triggerOnUntilStopped(lookup, eventType, rawEvent, rawEvent.target, logger);\n    };\n    var triggerOnUntilStopped = function (lookup, eventType, rawEvent, rawTarget, logger) {\n      var source = derive(rawEvent, rawTarget);\n      return doTriggerOnUntilStopped(lookup, eventType, rawEvent, rawTarget, source, logger);\n    };\n\n    var eventHandler = function (element, descHandler) {\n      return {\n        element: element,\n        descHandler: descHandler\n      };\n    };\n    var broadcastHandler = function (id, handler) {\n      return {\n        id: id,\n        descHandler: handler\n      };\n    };\n    var EventRegistry = function () {\n      var registry = {};\n      var registerId = function (extraArgs, id, events) {\n        each(events, function (v, k) {\n          var handlers = registry[k] !== undefined ? registry[k] : {};\n          handlers[id] = curryArgs(v, extraArgs);\n          registry[k] = handlers;\n        });\n      };\n      var findHandler = function (handlers, elem) {\n        return read$1(elem).bind(function (id) {\n          return get$e(handlers, id);\n        }).map(function (descHandler) {\n          return eventHandler(elem, descHandler);\n        });\n      };\n      var filterByType = function (type) {\n        return get$e(registry, type).map(function (handlers) {\n          return mapToArray(handlers, function (f, id) {\n            return broadcastHandler(id, f);\n          });\n        }).getOr([]);\n      };\n      var find = function (isAboveRoot, type, target) {\n        return get$e(registry, type).bind(function (handlers) {\n          return closest$4(target, function (elem) {\n            return findHandler(handlers, elem);\n          }, isAboveRoot);\n        });\n      };\n      var unregisterId = function (id) {\n        each(registry, function (handlersById, _eventName) {\n          if (has$2(handlersById, id)) {\n            delete handlersById[id];\n          }\n        });\n      };\n      return {\n        registerId: registerId,\n        unregisterId: unregisterId,\n        filterByType: filterByType,\n        find: find\n      };\n    };\n\n    var Registry = function () {\n      var events = EventRegistry();\n      var components = {};\n      var readOrTag = function (component) {\n        var elem = component.element;\n        return read$1(elem).getOrThunk(function () {\n          return write('uid-', component.element);\n        });\n      };\n      var failOnDuplicate = function (component, tagId) {\n        var conflict = components[tagId];\n        if (conflict === component) {\n          unregister(component);\n        } else {\n          throw new Error('The tagId \"' + tagId + '\" is already used by: ' + element(conflict.element) + '\\nCannot use it for: ' + element(component.element) + '\\n' + 'The conflicting element is' + (inBody(conflict.element) ? ' ' : ' not ') + 'already in the DOM');\n        }\n      };\n      var register = function (component) {\n        var tagId = readOrTag(component);\n        if (hasNonNullableKey(components, tagId)) {\n          failOnDuplicate(component, tagId);\n        }\n        var extraArgs = [component];\n        events.registerId(extraArgs, tagId, component.events);\n        components[tagId] = component;\n      };\n      var unregister = function (component) {\n        read$1(component.element).each(function (tagId) {\n          delete components[tagId];\n          events.unregisterId(tagId);\n        });\n      };\n      var filter = function (type) {\n        return events.filterByType(type);\n      };\n      var find = function (isAboveRoot, type, target) {\n        return events.find(isAboveRoot, type, target);\n      };\n      var getById = function (id) {\n        return get$e(components, id);\n      };\n      return {\n        find: find,\n        filter: filter,\n        register: register,\n        unregister: unregister,\n        getById: getById\n      };\n    };\n\n    var factory$j = function (detail) {\n      var _a = detail.dom, attributes = _a.attributes, domWithoutAttributes = __rest(_a, ['attributes']);\n      return {\n        uid: detail.uid,\n        dom: __assign({\n          tag: 'div',\n          attributes: __assign({ role: 'presentation' }, attributes)\n        }, domWithoutAttributes),\n        components: detail.components,\n        behaviours: get$2(detail.containerBehaviours),\n        events: detail.events,\n        domModification: detail.domModification,\n        eventOrder: detail.eventOrder\n      };\n    };\n    var Container = single({\n      name: 'Container',\n      factory: factory$j,\n      configFields: [\n        defaulted('components', []),\n        field('containerBehaviours', []),\n        defaulted('events', {}),\n        defaulted('domModification', {}),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    var takeover = function (root) {\n      var isAboveRoot = function (el) {\n        return parent(root.element).fold(always, function (parent) {\n          return eq(el, parent);\n        });\n      };\n      var registry = Registry();\n      var lookup = function (eventName, target) {\n        return registry.find(isAboveRoot, eventName, target);\n      };\n      var domEvents = setup$d(root.element, {\n        triggerEvent: function (eventName, event) {\n          return monitorEvent(eventName, event.target, function (logger) {\n            return triggerUntilStopped(lookup, eventName, event, logger);\n          });\n        }\n      });\n      var systemApi = {\n        debugInfo: constant$1('real'),\n        triggerEvent: function (eventName, target, data) {\n          monitorEvent(eventName, target, function (logger) {\n            return triggerOnUntilStopped(lookup, eventName, data, target, logger);\n          });\n        },\n        triggerFocus: function (target, originator) {\n          read$1(target).fold(function () {\n            focus$3(target);\n          }, function (_alloyId) {\n            monitorEvent(focus$4(), target, function (logger) {\n              triggerHandler(lookup, focus$4(), {\n                originator: originator,\n                kill: noop,\n                prevent: noop,\n                target: target\n              }, target, logger);\n              return false;\n            });\n          });\n        },\n        triggerEscape: function (comp, simulatedEvent) {\n          systemApi.triggerEvent('keydown', comp.element, simulatedEvent.event);\n        },\n        getByUid: function (uid) {\n          return getByUid(uid);\n        },\n        getByDom: function (elem) {\n          return getByDom(elem);\n        },\n        build: build$1,\n        addToGui: function (c) {\n          add(c);\n        },\n        removeFromGui: function (c) {\n          remove(c);\n        },\n        addToWorld: function (c) {\n          addToWorld(c);\n        },\n        removeFromWorld: function (c) {\n          removeFromWorld(c);\n        },\n        broadcast: function (message) {\n          broadcast$1(message);\n        },\n        broadcastOn: function (channels, message) {\n          broadcastOn(channels, message);\n        },\n        broadcastEvent: function (eventName, event) {\n          broadcastEvent(eventName, event);\n        },\n        isConnected: always\n      };\n      var addToWorld = function (component) {\n        component.connect(systemApi);\n        if (!isText$1(component.element)) {\n          registry.register(component);\n          each$1(component.components(), addToWorld);\n          systemApi.triggerEvent(systemInit(), component.element, { target: component.element });\n        }\n      };\n      var removeFromWorld = function (component) {\n        if (!isText$1(component.element)) {\n          each$1(component.components(), removeFromWorld);\n          registry.unregister(component);\n        }\n        component.disconnect();\n      };\n      var add = function (component) {\n        attach(root, component);\n      };\n      var remove = function (component) {\n        detach(component);\n      };\n      var destroy = function () {\n        domEvents.unbind();\n        remove$5(root.element);\n      };\n      var broadcastData = function (data) {\n        var receivers = registry.filter(receive());\n        each$1(receivers, function (receiver) {\n          var descHandler = receiver.descHandler;\n          var handler = getCurried(descHandler);\n          handler(data);\n        });\n      };\n      var broadcast$1 = function (message) {\n        broadcastData({\n          universal: true,\n          data: message\n        });\n      };\n      var broadcastOn = function (channels, message) {\n        broadcastData({\n          universal: false,\n          channels: channels,\n          data: message\n        });\n      };\n      var broadcastEvent = function (eventName, event) {\n        var listeners = registry.filter(eventName);\n        return broadcast(listeners, event);\n      };\n      var getByUid = function (uid) {\n        return registry.getById(uid).fold(function () {\n          return Result.error(new Error('Could not find component with uid: \"' + uid + '\" in system.'));\n        }, Result.value);\n      };\n      var getByDom = function (elem) {\n        var uid = read$1(elem).getOr('not found');\n        return getByUid(uid);\n      };\n      addToWorld(root);\n      return {\n        root: root,\n        element: root.element,\n        destroy: destroy,\n        add: add,\n        remove: remove,\n        getByUid: getByUid,\n        getByDom: getByDom,\n        addToWorld: addToWorld,\n        removeFromWorld: removeFromWorld,\n        broadcast: broadcast$1,\n        broadcastOn: broadcastOn,\n        broadcastEvent: broadcastEvent\n      };\n    };\n\n    var renderBar = function (spec, backstage) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-bar',\n            'tox-form__controls-h-stack'\n          ]\n        },\n        components: map$2(spec.items, backstage.interpreter)\n      };\n    };\n\n    var schema$l = constant$1([\n      defaulted('prefix', 'form-field'),\n      field('fieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    var parts$e = constant$1([\n      optional({\n        schema: [required$1('dom')],\n        name: 'label'\n      }),\n      optional({\n        factory: {\n          sketch: function (spec) {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      required({\n        factory: {\n          sketch: function (spec) {\n            var excludeFactory = exclude(spec, ['factory']);\n            return spec.factory.sketch(excludeFactory);\n          }\n        },\n        schema: [required$1('factory')],\n        name: 'field'\n      })\n    ]);\n\n    var factory$i = function (detail, components, _spec, _externals) {\n      var behaviours = augment(detail.fieldBehaviours, [\n        Composing.config({\n          find: function (container) {\n            return getPart(container, detail, 'field');\n          }\n        }),\n        Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: function (field) {\n              return Composing.getCurrent(field).bind(Representing.getValue);\n            },\n            setValue: function (field, value) {\n              Composing.getCurrent(field).each(function (current) {\n                Representing.setValue(current, value);\n              });\n            }\n          }\n        })\n      ]);\n      var events = derive$2([runOnAttached(function (component, _simulatedEvent) {\n          var ps = getParts(component, detail, [\n            'label',\n            'field',\n            'aria-descriptor'\n          ]);\n          ps.field().each(function (field) {\n            var id = generate$6(detail.prefix);\n            ps.label().each(function (label) {\n              set$8(label.element, 'for', id);\n              set$8(field.element, 'id', id);\n            });\n            ps['aria-descriptor']().each(function (descriptor) {\n              var descriptorId = generate$6(detail.prefix);\n              set$8(descriptor.element, 'id', descriptorId);\n              set$8(field.element, 'aria-describedby', descriptorId);\n            });\n          });\n        })]);\n      var apis = {\n        getField: function (container) {\n          return getPart(container, detail, 'field');\n        },\n        getLabel: function (container) {\n          return getPart(container, detail, 'label');\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: behaviours,\n        events: events,\n        apis: apis\n      };\n    };\n    var FormField = composite({\n      name: 'FormField',\n      configFields: schema$l(),\n      partFields: parts$e(),\n      factory: factory$i,\n      apis: {\n        getField: function (apis, comp) {\n          return apis.getField(comp);\n        },\n        getLabel: function (apis, comp) {\n          return apis.getLabel(comp);\n        }\n      }\n    });\n\n    var exhibit$2 = function (base, tabConfig) {\n      return nu$7({\n        attributes: wrapAll([{\n            key: tabConfig.tabAttr,\n            value: 'true'\n          }])\n      });\n    };\n\n    var ActiveTabstopping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$2\n    });\n\n    var TabstopSchema = [defaulted('tabAttr', 'data-alloy-tabstop')];\n\n    var Tabstopping = create$8({\n      fields: TabstopSchema,\n      name: 'tabstopping',\n      active: ActiveTabstopping\n    });\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.html.Entities');\n\n    var renderFormFieldWith = function (pLabel, pField, extraClasses, extraBehaviours) {\n      var spec = renderFormFieldSpecWith(pLabel, pField, extraClasses, extraBehaviours);\n      return FormField.sketch(spec);\n    };\n    var renderFormField = function (pLabel, pField) {\n      return renderFormFieldWith(pLabel, pField, [], []);\n    };\n    var renderFormFieldSpecWith = function (pLabel, pField, extraClasses, extraBehaviours) {\n      return {\n        dom: renderFormFieldDomWith(extraClasses),\n        components: pLabel.toArray().concat([pField]),\n        fieldBehaviours: derive$1(extraBehaviours)\n      };\n    };\n    var renderFormFieldDom = function () {\n      return renderFormFieldDomWith([]);\n    };\n    var renderFormFieldDomWith = function (extraClasses) {\n      return {\n        tag: 'div',\n        classes: ['tox-form__group'].concat(extraClasses)\n      };\n    };\n    var renderLabel$2 = function (label, providersBackstage) {\n      return FormField.parts.label({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label'],\n          innerHtml: providersBackstage.translate(label)\n        }\n      });\n    };\n\n    var formChangeEvent = generate$6('form-component-change');\n    var formCloseEvent = generate$6('form-close');\n    var formCancelEvent = generate$6('form-cancel');\n    var formActionEvent = generate$6('form-action');\n    var formSubmitEvent = generate$6('form-submit');\n    var formBlockEvent = generate$6('form-block');\n    var formUnblockEvent = generate$6('form-unblock');\n    var formTabChangeEvent = generate$6('form-tabchange');\n    var formResizeEvent = generate$6('form-resize');\n\n    var renderCollection = function (spec, providersBackstage) {\n      var _a;\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var runOnItem = function (f) {\n        return function (comp, se) {\n          closest$1(se.event.target, '[data-collection-item-value]').each(function (target) {\n            f(comp, se, target, get$d(target, 'data-collection-item-value'));\n          });\n        };\n      };\n      var setContents = function (comp, items) {\n        var htmlLines = map$2(items, function (item) {\n          var itemText = global$e.translate(item.text);\n          var textContent = spec.columns === 1 ? '<div class=\"tox-collection__item-label\">' + itemText + '</div>' : '';\n          var iconContent = '<div class=\"tox-collection__item-icon\">' + item.icon + '</div>';\n          var mapItemName = {\n            '_': ' ',\n            ' - ': ' ',\n            '-': ' '\n          };\n          var ariaLabel = itemText.replace(/\\_| \\- |\\-/g, function (match) {\n            return mapItemName[match];\n          });\n          var disabledClass = providersBackstage.isDisabled() ? ' tox-collection__item--state-disabled' : '';\n          return '<div class=\"tox-collection__item' + disabledClass + '\" tabindex=\"-1\" data-collection-item-value=\"' + global$7.encodeAllRaw(item.value) + '\" title=\"' + ariaLabel + '\" aria-label=\"' + ariaLabel + '\">' + iconContent + textContent + '</div>';\n        });\n        var chunks = spec.columns !== 'auto' && spec.columns > 1 ? chunk$1(htmlLines, spec.columns) : [htmlLines];\n        var html = map$2(chunks, function (ch) {\n          return '<div class=\"tox-collection__group\">' + ch.join('') + '</div>';\n        });\n        set$5(comp.element, html.join(''));\n      };\n      var onClick = runOnItem(function (comp, se, tgt, itemValue) {\n        se.stop();\n        if (!providersBackstage.isDisabled()) {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }\n      });\n      var collectionEvents = [\n        run$1(mouseover(), runOnItem(function (comp, se, tgt) {\n          focus$3(tgt);\n        })),\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        run$1(focusin(), runOnItem(function (comp, se, tgt) {\n          descendant(comp.element, '.' + activeClass).each(function (currentActive) {\n            remove$2(currentActive, activeClass);\n          });\n          add$2(tgt, activeClass);\n        })),\n        run$1(focusout(), runOnItem(function (comp) {\n          descendant(comp.element, '.' + activeClass).each(function (currentActive) {\n            remove$2(currentActive, activeClass);\n          });\n        })),\n        runOnExecute$1(runOnItem(function (comp, se, tgt, itemValue) {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }))\n      ];\n      var iterCollectionItems = function (comp, applyAttributes) {\n        return map$2(descendants(comp.element, '.tox-collection__item'), applyAttributes);\n      };\n      var pField = FormField.parts.field({\n        dom: {\n          tag: 'div',\n          classes: ['tox-collection'].concat(spec.columns !== 1 ? ['tox-collection--grid'] : ['tox-collection--list'])\n        },\n        components: [],\n        factory: { sketch: identity$1 },\n        behaviours: derive$1([\n          Disabling.config({\n            disabled: providersBackstage.isDisabled,\n            onDisabled: function (comp) {\n              iterCollectionItems(comp, function (childElm) {\n                add$2(childElm, 'tox-collection__item--state-disabled');\n                set$8(childElm, 'aria-disabled', true);\n              });\n            },\n            onEnabled: function (comp) {\n              iterCollectionItems(comp, function (childElm) {\n                remove$2(childElm, 'tox-collection__item--state-disabled');\n                remove$7(childElm, 'aria-disabled');\n              });\n            }\n          }),\n          receivingConfig(),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: []\n            },\n            onSetValue: function (comp, items) {\n              setContents(comp, items);\n              if (spec.columns === 'auto') {\n                detectSize(comp, 5, 'tox-collection__item').each(function (_a) {\n                  var numRows = _a.numRows, numColumns = _a.numColumns;\n                  Keying.setGridSize(comp, numRows, numColumns);\n                });\n              }\n              emit(comp, formResizeEvent);\n            }\n          }),\n          Tabstopping.config({}),\n          Keying.config(deriveCollectionMovement(spec.columns, 'normal')),\n          config('collection-events', collectionEvents)\n        ]),\n        eventOrder: (_a = {}, _a[execute$5()] = [\n          'disabling',\n          'alloy.base.behaviour',\n          'collection-events'\n        ], _a)\n      });\n      var extraClasses = ['tox-form__group--collection'];\n      return renderFormFieldWith(pLabel, pField, extraClasses, []);\n    };\n\n    var schema$k = constant$1([\n      option('data'),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('tag', 'input'),\n      defaulted('inputClasses', []),\n      onHandler('onSetValue'),\n      defaulted('styles', {}),\n      defaulted('eventOrder', {}),\n      field('inputBehaviours', [\n        Representing,\n        Focusing\n      ]),\n      defaulted('selectOnFocus', true)\n    ]);\n    var focusBehaviours = function (detail) {\n      return derive$1([Focusing.config({\n          onFocus: !detail.selectOnFocus ? noop : function (component) {\n            var input = component.element;\n            var value = get$5(input);\n            input.dom.setSelectionRange(0, value.length);\n          }\n        })]);\n    };\n    var behaviours = function (detail) {\n      return __assign(__assign({}, focusBehaviours(detail)), augment(detail.inputBehaviours, [Representing.config({\n          store: __assign(__assign({ mode: 'manual' }, detail.data.map(function (data) {\n            return { initialValue: data };\n          }).getOr({})), {\n            getValue: function (input) {\n              return get$5(input.element);\n            },\n            setValue: function (input, data) {\n              var current = get$5(input.element);\n              if (current !== data) {\n                set$4(input.element, data);\n              }\n            }\n          }),\n          onSetValue: detail.onSetValue\n        })]));\n    };\n    var dom = function (detail) {\n      return {\n        tag: detail.tag,\n        attributes: __assign({ type: 'text' }, detail.inputAttributes),\n        styles: detail.inputStyles,\n        classes: detail.inputClasses\n      };\n    };\n\n    var factory$h = function (detail, _spec) {\n      return {\n        uid: detail.uid,\n        dom: dom(detail),\n        components: [],\n        behaviours: behaviours(detail),\n        eventOrder: detail.eventOrder\n      };\n    };\n    var Input = single({\n      name: 'Input',\n      configFields: schema$k(),\n      factory: factory$h\n    });\n\n    var exports$1 = {}, module = { exports: exports$1 };\n    (function (define, exports, module, require) {\n      (function (global, factory) {\n        typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.EphoxContactWrapper = factory());\n      }(this, function () {\n        var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n        var promise = { exports: {} };\n        (function (module) {\n          (function (root) {\n            var setTimeoutFunc = setTimeout;\n            function noop() {\n            }\n            function bind(fn, thisArg) {\n              return function () {\n                fn.apply(thisArg, arguments);\n              };\n            }\n            function Promise(fn) {\n              if (typeof this !== 'object')\n                throw new TypeError('Promises must be constructed via new');\n              if (typeof fn !== 'function')\n                throw new TypeError('not a function');\n              this._state = 0;\n              this._handled = false;\n              this._value = undefined;\n              this._deferreds = [];\n              doResolve(fn, this);\n            }\n            function handle(self, deferred) {\n              while (self._state === 3) {\n                self = self._value;\n              }\n              if (self._state === 0) {\n                self._deferreds.push(deferred);\n                return;\n              }\n              self._handled = true;\n              Promise._immediateFn(function () {\n                var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n                if (cb === null) {\n                  (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n                  return;\n                }\n                var ret;\n                try {\n                  ret = cb(self._value);\n                } catch (e) {\n                  reject(deferred.promise, e);\n                  return;\n                }\n                resolve(deferred.promise, ret);\n              });\n            }\n            function resolve(self, newValue) {\n              try {\n                if (newValue === self)\n                  throw new TypeError('A promise cannot be resolved with itself.');\n                if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n                  var then = newValue.then;\n                  if (newValue instanceof Promise) {\n                    self._state = 3;\n                    self._value = newValue;\n                    finale(self);\n                    return;\n                  } else if (typeof then === 'function') {\n                    doResolve(bind(then, newValue), self);\n                    return;\n                  }\n                }\n                self._state = 1;\n                self._value = newValue;\n                finale(self);\n              } catch (e) {\n                reject(self, e);\n              }\n            }\n            function reject(self, newValue) {\n              self._state = 2;\n              self._value = newValue;\n              finale(self);\n            }\n            function finale(self) {\n              if (self._state === 2 && self._deferreds.length === 0) {\n                Promise._immediateFn(function () {\n                  if (!self._handled) {\n                    Promise._unhandledRejectionFn(self._value);\n                  }\n                });\n              }\n              for (var i = 0, len = self._deferreds.length; i < len; i++) {\n                handle(self, self._deferreds[i]);\n              }\n              self._deferreds = null;\n            }\n            function Handler(onFulfilled, onRejected, promise) {\n              this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n              this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n              this.promise = promise;\n            }\n            function doResolve(fn, self) {\n              var done = false;\n              try {\n                fn(function (value) {\n                  if (done)\n                    return;\n                  done = true;\n                  resolve(self, value);\n                }, function (reason) {\n                  if (done)\n                    return;\n                  done = true;\n                  reject(self, reason);\n                });\n              } catch (ex) {\n                if (done)\n                  return;\n                done = true;\n                reject(self, ex);\n              }\n            }\n            Promise.prototype['catch'] = function (onRejected) {\n              return this.then(null, onRejected);\n            };\n            Promise.prototype.then = function (onFulfilled, onRejected) {\n              var prom = new this.constructor(noop);\n              handle(this, new Handler(onFulfilled, onRejected, prom));\n              return prom;\n            };\n            Promise.all = function (arr) {\n              var args = Array.prototype.slice.call(arr);\n              return new Promise(function (resolve, reject) {\n                if (args.length === 0)\n                  return resolve([]);\n                var remaining = args.length;\n                function res(i, val) {\n                  try {\n                    if (val && (typeof val === 'object' || typeof val === 'function')) {\n                      var then = val.then;\n                      if (typeof then === 'function') {\n                        then.call(val, function (val) {\n                          res(i, val);\n                        }, reject);\n                        return;\n                      }\n                    }\n                    args[i] = val;\n                    if (--remaining === 0) {\n                      resolve(args);\n                    }\n                  } catch (ex) {\n                    reject(ex);\n                  }\n                }\n                for (var i = 0; i < args.length; i++) {\n                  res(i, args[i]);\n                }\n              });\n            };\n            Promise.resolve = function (value) {\n              if (value && typeof value === 'object' && value.constructor === Promise) {\n                return value;\n              }\n              return new Promise(function (resolve) {\n                resolve(value);\n              });\n            };\n            Promise.reject = function (value) {\n              return new Promise(function (resolve, reject) {\n                reject(value);\n              });\n            };\n            Promise.race = function (values) {\n              return new Promise(function (resolve, reject) {\n                for (var i = 0, len = values.length; i < len; i++) {\n                  values[i].then(resolve, reject);\n                }\n              });\n            };\n            Promise._immediateFn = typeof setImmediate === 'function' ? function (fn) {\n              setImmediate(fn);\n            } : function (fn) {\n              setTimeoutFunc(fn, 0);\n            };\n            Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n              if (typeof console !== 'undefined' && console) {\n                console.warn('Possible Unhandled Promise Rejection:', err);\n              }\n            };\n            Promise._setImmediateFn = function _setImmediateFn(fn) {\n              Promise._immediateFn = fn;\n            };\n            Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n              Promise._unhandledRejectionFn = fn;\n            };\n            if (module.exports) {\n              module.exports = Promise;\n            } else if (!root.Promise) {\n              root.Promise = Promise;\n            }\n          }(commonjsGlobal));\n        }(promise));\n        var promisePolyfill = promise.exports;\n        var Global = function () {\n          if (typeof window !== 'undefined') {\n            return window;\n          } else {\n            return Function('return this;')();\n          }\n        }();\n        var promisePolyfill_1 = { boltExport: Global.Promise || promisePolyfill };\n        return promisePolyfill_1;\n      }));\n    }(undefined, exports$1, module));\n    var Promise$1 = module.exports.boltExport;\n\n    var nu$3 = function (baseFn) {\n      var data = Optional.none();\n      var callbacks = [];\n      var map = function (f) {\n        return nu$3(function (nCallback) {\n          get(function (data) {\n            nCallback(f(data));\n          });\n        });\n      };\n      var get = function (nCallback) {\n        if (isReady()) {\n          call(nCallback);\n        } else {\n          callbacks.push(nCallback);\n        }\n      };\n      var set = function (x) {\n        if (!isReady()) {\n          data = Optional.some(x);\n          run(callbacks);\n          callbacks = [];\n        }\n      };\n      var isReady = function () {\n        return data.isSome();\n      };\n      var run = function (cbs) {\n        each$1(cbs, call);\n      };\n      var call = function (cb) {\n        data.each(function (x) {\n          setTimeout(function () {\n            cb(x);\n          }, 0);\n        });\n      };\n      baseFn(set);\n      return {\n        get: get,\n        map: map,\n        isReady: isReady\n      };\n    };\n    var pure$1 = function (a) {\n      return nu$3(function (callback) {\n        callback(a);\n      });\n    };\n    var LazyValue = {\n      nu: nu$3,\n      pure: pure$1\n    };\n\n    var errorReporter = function (err) {\n      setTimeout(function () {\n        throw err;\n      }, 0);\n    };\n    var make$5 = function (run) {\n      var get = function (callback) {\n        run().then(callback, errorReporter);\n      };\n      var map = function (fab) {\n        return make$5(function () {\n          return run().then(fab);\n        });\n      };\n      var bind = function (aFutureB) {\n        return make$5(function () {\n          return run().then(function (v) {\n            return aFutureB(v).toPromise();\n          });\n        });\n      };\n      var anonBind = function (futureB) {\n        return make$5(function () {\n          return run().then(function () {\n            return futureB.toPromise();\n          });\n        });\n      };\n      var toLazy = function () {\n        return LazyValue.nu(get);\n      };\n      var toCached = function () {\n        var cache = null;\n        return make$5(function () {\n          if (cache === null) {\n            cache = run();\n          }\n          return cache;\n        });\n      };\n      var toPromise = run;\n      return {\n        map: map,\n        bind: bind,\n        anonBind: anonBind,\n        toLazy: toLazy,\n        toCached: toCached,\n        toPromise: toPromise,\n        get: get\n      };\n    };\n    var nu$2 = function (baseFn) {\n      return make$5(function () {\n        return new Promise$1(baseFn);\n      });\n    };\n    var pure = function (a) {\n      return make$5(function () {\n        return Promise$1.resolve(a);\n      });\n    };\n    var Future = {\n      nu: nu$2,\n      pure: pure\n    };\n\n    var ariaElements = [\n      'input',\n      'textarea'\n    ];\n    var isAriaElement = function (elem) {\n      var name = name$2(elem);\n      return contains$2(ariaElements, name);\n    };\n    var markValid = function (component, invalidConfig) {\n      var elem = invalidConfig.getRoot(component).getOr(component.element);\n      remove$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(function (notifyInfo) {\n        if (isAriaElement(component.element)) {\n          set$8(component.element, 'aria-invalid', false);\n        }\n        notifyInfo.getContainer(component).each(function (container) {\n          set$5(container, notifyInfo.validHtml);\n        });\n        notifyInfo.onValid(component);\n      });\n    };\n    var markInvalid = function (component, invalidConfig, invalidState, text) {\n      var elem = invalidConfig.getRoot(component).getOr(component.element);\n      add$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(function (notifyInfo) {\n        if (isAriaElement(component.element)) {\n          set$8(component.element, 'aria-invalid', true);\n        }\n        notifyInfo.getContainer(component).each(function (container) {\n          set$5(container, text);\n        });\n        notifyInfo.onInvalid(component, text);\n      });\n    };\n    var query = function (component, invalidConfig, _invalidState) {\n      return invalidConfig.validator.fold(function () {\n        return Future.pure(Result.value(true));\n      }, function (validatorInfo) {\n        return validatorInfo.validate(component);\n      });\n    };\n    var run = function (component, invalidConfig, invalidState) {\n      invalidConfig.notify.each(function (notifyInfo) {\n        notifyInfo.onValidate(component);\n      });\n      return query(component, invalidConfig).map(function (valid) {\n        if (component.getSystem().isConnected()) {\n          return valid.fold(function (err) {\n            markInvalid(component, invalidConfig, invalidState, err);\n            return Result.error(err);\n          }, function (v) {\n            markValid(component, invalidConfig);\n            return Result.value(v);\n          });\n        } else {\n          return Result.error('No longer in system');\n        }\n      });\n    };\n    var isInvalid = function (component, invalidConfig) {\n      var elem = invalidConfig.getRoot(component).getOr(component.element);\n      return has(elem, invalidConfig.invalidClass);\n    };\n\n    var InvalidateApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        markValid: markValid,\n        markInvalid: markInvalid,\n        query: query,\n        run: run,\n        isInvalid: isInvalid\n    });\n\n    var events$8 = function (invalidConfig, invalidState) {\n      return invalidConfig.validator.map(function (validatorInfo) {\n        return derive$2([run$1(validatorInfo.onEvent, function (component) {\n            run(component, invalidConfig, invalidState).get(identity$1);\n          })].concat(validatorInfo.validateOnLoad ? [runOnAttached(function (component) {\n            run(component, invalidConfig, invalidState).get(noop);\n          })] : []));\n      }).getOr({});\n    };\n\n    var ActiveInvalidate = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$8\n    });\n\n    var InvalidateSchema = [\n      required$1('invalidClass'),\n      defaulted('getRoot', Optional.none),\n      optionObjOf('notify', [\n        defaulted('aria', 'alert'),\n        defaulted('getContainer', Optional.none),\n        defaulted('validHtml', ''),\n        onHandler('onValid'),\n        onHandler('onInvalid'),\n        onHandler('onValidate')\n      ]),\n      optionObjOf('validator', [\n        required$1('validate'),\n        defaulted('onEvent', 'input'),\n        defaulted('validateOnLoad', true)\n      ])\n    ];\n\n    var Invalidating = create$8({\n      fields: InvalidateSchema,\n      name: 'invalidating',\n      active: ActiveInvalidate,\n      apis: InvalidateApis,\n      extra: {\n        validation: function (validator) {\n          return function (component) {\n            var v = Representing.getValue(component);\n            return Future.pure(validator(v));\n          };\n        }\n      }\n    });\n\n    var getCoupled = function (component, coupleConfig, coupleState, name) {\n      return coupleState.getOrCreate(component, coupleConfig, name);\n    };\n\n    var CouplingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCoupled: getCoupled\n    });\n\n    var CouplingSchema = [requiredOf('others', setOf(Result.value, anyValue()))];\n\n    var init$a = function () {\n      var coupled = {};\n      var getOrCreate = function (component, coupleConfig, name) {\n        var available = keys(coupleConfig.others);\n        if (!available) {\n          throw new Error('Cannot find coupled component: ' + name + '. Known coupled components: ' + JSON.stringify(available, null, 2));\n        } else {\n          return get$e(coupled, name).getOrThunk(function () {\n            var builder = get$e(coupleConfig.others, name).getOrDie('No information found for coupled component: ' + name);\n            var spec = builder(component);\n            var built = component.getSystem().build(spec);\n            coupled[name] = built;\n            return built;\n          });\n        }\n      };\n      var readState = constant$1({});\n      return nu$8({\n        readState: readState,\n        getOrCreate: getOrCreate\n      });\n    };\n\n    var CouplingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$a\n    });\n\n    var Coupling = create$8({\n      fields: CouplingSchema,\n      name: 'coupling',\n      apis: CouplingApis,\n      state: CouplingState\n    });\n\n    var suffix = constant$1('sink');\n    var partType$1 = constant$1(optional({\n      name: suffix(),\n      overrides: constant$1({\n        dom: { tag: 'div' },\n        behaviours: derive$1([Positioning.config({ useFixed: always })]),\n        events: derive$2([\n          cutter(keydown()),\n          cutter(mousedown()),\n          cutter(click())\n        ])\n      })\n    }));\n\n    var HighlightOnOpen;\n    (function (HighlightOnOpen) {\n      HighlightOnOpen[HighlightOnOpen['HighlightFirst'] = 0] = 'HighlightFirst';\n      HighlightOnOpen[HighlightOnOpen['HighlightNone'] = 1] = 'HighlightNone';\n    }(HighlightOnOpen || (HighlightOnOpen = {})));\n    var getAnchor = function (detail, component) {\n      var hotspot = detail.getHotspot(component).getOr(component);\n      var type = 'hotspot';\n      var overrides = detail.getAnchorOverrides();\n      return detail.layouts.fold(function () {\n        return {\n          type: type,\n          hotspot: hotspot,\n          overrides: overrides\n        };\n      }, function (layouts) {\n        return {\n          type: type,\n          hotspot: hotspot,\n          overrides: overrides,\n          layouts: layouts\n        };\n      });\n    };\n    var fetch = function (detail, mapFetch, component) {\n      var fetcher = detail.fetch;\n      return fetcher(component).map(mapFetch);\n    };\n    var openF = function (detail, mapFetch, anchor, component, sandbox, externals, highlightOnOpen) {\n      var futureData = fetch(detail, mapFetch, component);\n      var getLazySink = getSink(component, detail);\n      return futureData.map(function (tdata) {\n        return tdata.bind(function (data) {\n          return Optional.from(tieredMenu.sketch(__assign(__assign({}, externals.menu()), {\n            uid: generate$5(''),\n            data: data,\n            highlightImmediately: highlightOnOpen === HighlightOnOpen.HighlightFirst,\n            onOpenMenu: function (tmenu, menu) {\n              var sink = getLazySink().getOrDie();\n              Positioning.position(sink, menu, { anchor: anchor });\n              Sandboxing.decloak(sandbox);\n            },\n            onOpenSubmenu: function (tmenu, item, submenu) {\n              var sink = getLazySink().getOrDie();\n              Positioning.position(sink, submenu, {\n                anchor: {\n                  type: 'submenu',\n                  item: item\n                }\n              });\n              Sandboxing.decloak(sandbox);\n            },\n            onRepositionMenu: function (tmenu, primaryMenu, submenuTriggers) {\n              var sink = getLazySink().getOrDie();\n              Positioning.position(sink, primaryMenu, { anchor: anchor });\n              each$1(submenuTriggers, function (st) {\n                Positioning.position(sink, st.triggeredMenu, {\n                  anchor: {\n                    type: 'submenu',\n                    item: st.triggeringItem\n                  }\n                });\n              });\n            },\n            onEscape: function () {\n              Focusing.focus(component);\n              Sandboxing.close(sandbox);\n              return Optional.some(true);\n            }\n          })));\n        });\n      });\n    };\n    var open = function (detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen) {\n      var anchor = getAnchor(detail, hotspot);\n      var processed = openF(detail, mapFetch, anchor, hotspot, sandbox, externals, highlightOnOpen);\n      return processed.map(function (tdata) {\n        tdata.fold(function () {\n          if (Sandboxing.isOpen(sandbox)) {\n            Sandboxing.close(sandbox);\n          }\n        }, function (data) {\n          Sandboxing.cloak(sandbox);\n          Sandboxing.open(sandbox, data);\n          onOpenSync(sandbox);\n        });\n        return sandbox;\n      });\n    };\n    var close = function (detail, mapFetch, component, sandbox, _externals, _onOpenSync, _highlightOnOpen) {\n      Sandboxing.close(sandbox);\n      return Future.pure(sandbox);\n    };\n    var togglePopup = function (detail, mapFetch, hotspot, externals, onOpenSync, highlightOnOpen) {\n      var sandbox = Coupling.getCoupled(hotspot, 'sandbox');\n      var showing = Sandboxing.isOpen(sandbox);\n      var action = showing ? close : open;\n      return action(detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen);\n    };\n    var matchWidth = function (hotspot, container, useMinWidth) {\n      var menu = Composing.getCurrent(container).getOr(container);\n      var buttonWidth = get$a(hotspot.element);\n      if (useMinWidth) {\n        set$7(menu.element, 'min-width', buttonWidth + 'px');\n      } else {\n        set$6(menu.element, buttonWidth);\n      }\n    };\n    var getSink = function (anyInSystem, sinkDetail) {\n      return anyInSystem.getSystem().getByUid(sinkDetail.uid + '-' + suffix()).map(function (internalSink) {\n        return function () {\n          return Result.value(internalSink);\n        };\n      }).getOrThunk(function () {\n        return sinkDetail.lazySink.fold(function () {\n          return function () {\n            return Result.error(new Error('No internal sink is specified, nor could an external sink be found'));\n          };\n        }, function (lazySinkFn) {\n          return function () {\n            return lazySinkFn(anyInSystem);\n          };\n        });\n      });\n    };\n    var doRepositionMenus = function (sandbox) {\n      Sandboxing.getState(sandbox).each(function (tmenu) {\n        tieredMenu.repositionMenus(tmenu);\n      });\n    };\n    var makeSandbox$1 = function (detail, hotspot, extras) {\n      var ariaOwner = manager();\n      var onOpen = function (component, menu) {\n        var anchor = getAnchor(detail, hotspot);\n        ariaOwner.link(hotspot.element);\n        if (detail.matchWidth) {\n          matchWidth(anchor.hotspot, menu, detail.useMinWidth);\n        }\n        detail.onOpen(anchor, component, menu);\n        if (extras !== undefined && extras.onOpen !== undefined) {\n          extras.onOpen(component, menu);\n        }\n      };\n      var onClose = function (component, menu) {\n        ariaOwner.unlink(hotspot.element);\n        if (extras !== undefined && extras.onClose !== undefined) {\n          extras.onClose(component, menu);\n        }\n      };\n      var lazySink = getSink(hotspot, detail);\n      return {\n        dom: {\n          tag: 'div',\n          classes: detail.sandboxClasses,\n          attributes: {\n            id: ariaOwner.id,\n            role: 'listbox'\n          }\n        },\n        behaviours: SketchBehaviours.augment(detail.sandboxBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: hotspot\n            }\n          }),\n          Sandboxing.config({\n            onOpen: onOpen,\n            onClose: onClose,\n            isPartOf: function (container, data, queryElem) {\n              return isPartOf$1(data, queryElem) || isPartOf$1(hotspot, queryElem);\n            },\n            getAttachPoint: function () {\n              return lazySink().getOrDie();\n            }\n          }),\n          Composing.config({\n            find: function (sandbox) {\n              return Sandboxing.getState(sandbox).bind(function (menu) {\n                return Composing.getCurrent(menu);\n              });\n            }\n          }),\n          Receiving.config({ channels: __assign(__assign({}, receivingChannel$1({ isExtraPart: never })), receivingChannel({ doReposition: doRepositionMenus })) })\n        ])\n      };\n    };\n    var repositionMenus = function (comp) {\n      var sandbox = Coupling.getCoupled(comp, 'sandbox');\n      doRepositionMenus(sandbox);\n    };\n\n    var sandboxFields = function () {\n      return [\n        defaulted('sandboxClasses', []),\n        SketchBehaviours.field('sandboxBehaviours', [\n          Composing,\n          Receiving,\n          Sandboxing,\n          Representing\n        ])\n      ];\n    };\n\n    var schema$j = constant$1([\n      required$1('dom'),\n      required$1('fetch'),\n      onHandler('onOpen'),\n      onKeyboardHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      field('dropdownBehaviours', [\n        Toggling,\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      required$1('toggleClass'),\n      defaulted('eventOrder', {}),\n      option('lazySink'),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      option('role')\n    ].concat(sandboxFields()));\n    var parts$d = constant$1([\n      external$1({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        defaults: function (detail) {\n          return { onExecute: detail.onExecute };\n        }\n      }),\n      partType$1()\n    ]);\n\n    var factory$g = function (detail, components, _spec, externals) {\n      var _a;\n      var lookupAttr = function (attr) {\n        return get$e(detail.dom, 'attributes').bind(function (attrs) {\n          return get$e(attrs, attr);\n        });\n      };\n      var switchToMenu = function (sandbox) {\n        Sandboxing.getState(sandbox).each(function (tmenu) {\n          tieredMenu.highlightPrimary(tmenu);\n        });\n      };\n      var action = function (component) {\n        var onOpenSync = switchToMenu;\n        togglePopup(detail, identity$1, component, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n      };\n      var apis = {\n        expand: function (comp) {\n          if (!Toggling.isOn(comp)) {\n            togglePopup(detail, identity$1, comp, externals, noop, HighlightOnOpen.HighlightNone).get(noop);\n          }\n        },\n        open: function (comp) {\n          if (!Toggling.isOn(comp)) {\n            togglePopup(detail, identity$1, comp, externals, noop, HighlightOnOpen.HighlightFirst).get(noop);\n          }\n        },\n        isOpen: Toggling.isOn,\n        close: function (comp) {\n          if (Toggling.isOn(comp)) {\n            togglePopup(detail, identity$1, comp, externals, noop, HighlightOnOpen.HighlightFirst).get(noop);\n          }\n        },\n        repositionMenus: function (comp) {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      var triggerExecute = function (comp, _se) {\n        emitExecute(comp);\n        return Optional.some(true);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.dropdownBehaviours, [\n          Toggling.config({\n            toggleClass: detail.toggleClass,\n            aria: { mode: 'expanded' }\n          }),\n          Coupling.config({\n            others: {\n              sandbox: function (hotspot) {\n                return makeSandbox$1(detail, hotspot, {\n                  onOpen: function () {\n                    return Toggling.on(hotspot);\n                  },\n                  onClose: function () {\n                    return Toggling.off(hotspot);\n                  }\n                });\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: triggerExecute,\n            onEnter: triggerExecute,\n            onDown: function (comp, _se) {\n              if (Dropdown.isOpen(comp)) {\n                var sandbox = Coupling.getCoupled(comp, 'sandbox');\n                switchToMenu(sandbox);\n              } else {\n                Dropdown.open(comp);\n              }\n              return Optional.some(true);\n            },\n            onEscape: function (comp, _se) {\n              if (Dropdown.isOpen(comp)) {\n                Dropdown.close(comp);\n                return Optional.some(true);\n              } else {\n                return Optional.none();\n              }\n            }\n          }),\n          Focusing.config({})\n        ]),\n        events: events$a(Optional.some(action)),\n        eventOrder: __assign(__assign({}, detail.eventOrder), (_a = {}, _a[execute$5()] = [\n          'disabling',\n          'toggling',\n          'alloy.base.behaviour'\n        ], _a)),\n        apis: apis,\n        domModification: {\n          attributes: __assign(__assign({ 'aria-haspopup': 'true' }, detail.role.fold(function () {\n            return {};\n          }, function (role) {\n            return { role: role };\n          })), detail.dom.tag === 'button' ? { type: lookupAttr('type').getOr('button') } : {})\n        }\n      };\n    };\n    var Dropdown = composite({\n      name: 'Dropdown',\n      configFields: schema$j(),\n      partFields: parts$d(),\n      factory: factory$g,\n      apis: {\n        open: function (apis, comp) {\n          return apis.open(comp);\n        },\n        expand: function (apis, comp) {\n          return apis.expand(comp);\n        },\n        close: function (apis, comp) {\n          return apis.close(comp);\n        },\n        isOpen: function (apis, comp) {\n          return apis.isOpen(comp);\n        },\n        repositionMenus: function (apis, comp) {\n          return apis.repositionMenus(comp);\n        }\n      }\n    });\n\n    var exhibit$1 = function () {\n      return nu$7({\n        styles: {\n          '-webkit-user-select': 'none',\n          'user-select': 'none',\n          '-ms-user-select': 'none',\n          '-moz-user-select': '-moz-none'\n        },\n        attributes: { unselectable: 'on' }\n      });\n    };\n    var events$7 = function () {\n      return derive$2([abort(selectstart(), always)]);\n    };\n\n    var ActiveUnselecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$7,\n        exhibit: exhibit$1\n    });\n\n    var Unselecting = create$8({\n      fields: [],\n      name: 'unselecting',\n      active: ActiveUnselecting\n    });\n\n    var renderPanelButton = function (spec, sharedBackstage) {\n      return Dropdown.sketch({\n        dom: spec.dom,\n        components: spec.components,\n        toggleClass: 'mce-active',\n        dropdownBehaviours: derive$1([\n          DisablingConfigs.button(sharedBackstage.providers.isDisabled),\n          receivingConfig(),\n          Unselecting.config({}),\n          Tabstopping.config({})\n        ]),\n        layouts: spec.layouts,\n        sandboxClasses: ['tox-dialog__popups'],\n        lazySink: sharedBackstage.getSink,\n        fetch: function (comp) {\n          return Future.nu(function (callback) {\n            return spec.fetch(callback);\n          }).map(function (items) {\n            return Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, function (value) {\n              spec.onItemAction(comp, value);\n            }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, never, sharedBackstage.providers), { movement: deriveMenuMovement(spec.columns, spec.presets) })));\n          });\n        },\n        parts: { menu: part(false, 1, spec.presets) }\n      });\n    };\n\n    var colorInputChangeEvent = generate$6('color-input-change');\n    var colorSwatchChangeEvent = generate$6('color-swatch-change');\n    var colorPickerCancelEvent = generate$6('color-picker-cancel');\n    var renderColorInput = function (spec, sharedBackstage, colorInputBackstage) {\n      var pField = FormField.parts.field({\n        factory: Input,\n        inputClasses: ['tox-textfield'],\n        onSetValue: function (c) {\n          return Invalidating.run(c).get(noop);\n        },\n        inputBehaviours: derive$1([\n          Disabling.config({ disabled: sharedBackstage.providers.isDisabled }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Invalidating.config({\n            invalidClass: 'tox-textbox-field-invalid',\n            getRoot: function (comp) {\n              return parent(comp.element);\n            },\n            notify: {\n              onValid: function (comp) {\n                var val = Representing.getValue(comp);\n                emitWith(comp, colorInputChangeEvent, { color: val });\n              }\n            },\n            validator: {\n              validateOnLoad: false,\n              validate: function (input) {\n                var inputValue = Representing.getValue(input);\n                if (inputValue.length === 0) {\n                  return Future.pure(Result.value(true));\n                } else {\n                  var span = SugarElement.fromTag('span');\n                  set$7(span, 'background-color', inputValue);\n                  var res = getRaw(span, 'background-color').fold(function () {\n                    return Result.error('blah');\n                  }, function (_) {\n                    return Result.value(inputValue);\n                  });\n                  return Future.pure(res);\n                }\n              }\n            }\n          })\n        ]),\n        selectOnFocus: false\n      });\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, sharedBackstage.providers);\n      });\n      var emitSwatchChange = function (colorBit, value) {\n        emitWith(colorBit, colorSwatchChangeEvent, { value: value });\n      };\n      var onItemAction = function (comp, value) {\n        memColorButton.getOpt(comp).each(function (colorBit) {\n          if (value === 'custom') {\n            colorInputBackstage.colorPicker(function (valueOpt) {\n              valueOpt.fold(function () {\n                return emit(colorBit, colorPickerCancelEvent);\n              }, function (value) {\n                emitSwatchChange(colorBit, value);\n                addColor(value);\n              });\n            }, '#ffffff');\n          } else if (value === 'remove') {\n            emitSwatchChange(colorBit, '');\n          } else {\n            emitSwatchChange(colorBit, value);\n          }\n        });\n      };\n      var memColorButton = record(renderPanelButton({\n        dom: {\n          tag: 'span',\n          attributes: { 'aria-label': sharedBackstage.providers.translate('Color swatch') }\n        },\n        layouts: {\n          onRtl: function () {\n            return [\n              southwest$2,\n              southeast$2,\n              south$2\n            ];\n          },\n          onLtr: function () {\n            return [\n              southeast$2,\n              southwest$2,\n              south$2\n            ];\n          }\n        },\n        components: [],\n        fetch: getFetch$1(colorInputBackstage.getColors(), colorInputBackstage.hasCustomColors()),\n        columns: colorInputBackstage.getColorCols(),\n        presets: 'color',\n        onItemAction: onItemAction\n      }, sharedBackstage));\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: pLabel.toArray().concat([{\n            dom: {\n              tag: 'div',\n              classes: ['tox-color-input']\n            },\n            components: [\n              pField,\n              memColorButton.asSpec()\n            ]\n          }]),\n        fieldBehaviours: derive$1([config('form-field-events', [\n            run$1(colorInputChangeEvent, function (comp, se) {\n              memColorButton.getOpt(comp).each(function (colorButton) {\n                set$7(colorButton.element, 'background-color', se.event.color);\n              });\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            }),\n            run$1(colorSwatchChangeEvent, function (comp, se) {\n              FormField.getField(comp).each(function (field) {\n                Representing.setValue(field, se.event.value);\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            }),\n            run$1(colorPickerCancelEvent, function (comp, _se) {\n              FormField.getField(comp).each(function (_field) {\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            })\n          ])])\n      });\n    };\n\n    var labelPart = optional({\n      schema: [required$1('dom')],\n      name: 'label'\n    });\n    var edgePart = function (name) {\n      return optional({\n        name: '' + name + '-edge',\n        overrides: function (detail) {\n          var action = detail.model.manager.edgeActions[name];\n          return action.fold(function () {\n            return {};\n          }, function (a) {\n            return {\n              events: derive$2([\n                runActionExtra(touchstart(), function (comp, se, d) {\n                  return a(comp, d);\n                }, [detail]),\n                runActionExtra(mousedown(), function (comp, se, d) {\n                  return a(comp, d);\n                }, [detail]),\n                runActionExtra(mousemove(), function (comp, se, det) {\n                  if (det.mouseIsDown.get()) {\n                    a(comp, det);\n                  }\n                }, [detail])\n              ])\n            };\n          });\n        }\n      });\n    };\n    var tlEdgePart = edgePart('top-left');\n    var tedgePart = edgePart('top');\n    var trEdgePart = edgePart('top-right');\n    var redgePart = edgePart('right');\n    var brEdgePart = edgePart('bottom-right');\n    var bedgePart = edgePart('bottom');\n    var blEdgePart = edgePart('bottom-left');\n    var ledgePart = edgePart('left');\n    var thumbPart = required({\n      name: 'thumb',\n      defaults: constant$1({ dom: { styles: { position: 'absolute' } } }),\n      overrides: function (detail) {\n        return {\n          events: derive$2([\n            redirectToPart(touchstart(), detail, 'spectrum'),\n            redirectToPart(touchmove(), detail, 'spectrum'),\n            redirectToPart(touchend(), detail, 'spectrum'),\n            redirectToPart(mousedown(), detail, 'spectrum'),\n            redirectToPart(mousemove(), detail, 'spectrum'),\n            redirectToPart(mouseup(), detail, 'spectrum')\n          ])\n        };\n      }\n    });\n    var spectrumPart = required({\n      schema: [customField('mouseIsDown', function () {\n          return Cell(false);\n        })],\n      name: 'spectrum',\n      overrides: function (detail) {\n        var modelDetail = detail.model;\n        var model = modelDetail.manager;\n        var setValueFrom = function (component, simulatedEvent) {\n          return model.getValueFromEvent(simulatedEvent).map(function (value) {\n            return model.setValueFrom(component, detail, value);\n          });\n        };\n        return {\n          behaviours: derive$1([\n            Keying.config({\n              mode: 'special',\n              onLeft: function (spectrum) {\n                return model.onLeft(spectrum, detail);\n              },\n              onRight: function (spectrum) {\n                return model.onRight(spectrum, detail);\n              },\n              onUp: function (spectrum) {\n                return model.onUp(spectrum, detail);\n              },\n              onDown: function (spectrum) {\n                return model.onDown(spectrum, detail);\n              }\n            }),\n            Focusing.config({})\n          ]),\n          events: derive$2([\n            run$1(touchstart(), setValueFrom),\n            run$1(touchmove(), setValueFrom),\n            run$1(mousedown(), setValueFrom),\n            run$1(mousemove(), function (spectrum, se) {\n              if (detail.mouseIsDown.get()) {\n                setValueFrom(spectrum, se);\n              }\n            })\n          ])\n        };\n      }\n    });\n    var SliderParts = [\n      labelPart,\n      ledgePart,\n      redgePart,\n      tedgePart,\n      bedgePart,\n      tlEdgePart,\n      trEdgePart,\n      blEdgePart,\n      brEdgePart,\n      thumbPart,\n      spectrumPart\n    ];\n\n    var _sliderChangeEvent = 'slider.change.value';\n    var sliderChangeEvent = constant$1(_sliderChangeEvent);\n    var isTouchEvent$2 = function (evt) {\n      return evt.type.indexOf('touch') !== -1;\n    };\n    var getEventSource = function (simulatedEvent) {\n      var evt = simulatedEvent.event.raw;\n      if (isTouchEvent$2(evt)) {\n        var touchEvent = evt;\n        return touchEvent.touches !== undefined && touchEvent.touches.length === 1 ? Optional.some(touchEvent.touches[0]).map(function (t) {\n          return SugarPosition(t.clientX, t.clientY);\n        }) : Optional.none();\n      } else {\n        var mouseEvent = evt;\n        return mouseEvent.clientX !== undefined ? Optional.some(mouseEvent).map(function (me) {\n          return SugarPosition(me.clientX, me.clientY);\n        }) : Optional.none();\n      }\n    };\n\n    var t = 'top', r = 'right', b = 'bottom', l = 'left';\n    var minX = function (detail) {\n      return detail.model.minX;\n    };\n    var minY = function (detail) {\n      return detail.model.minY;\n    };\n    var min1X = function (detail) {\n      return detail.model.minX - 1;\n    };\n    var min1Y = function (detail) {\n      return detail.model.minY - 1;\n    };\n    var maxX = function (detail) {\n      return detail.model.maxX;\n    };\n    var maxY = function (detail) {\n      return detail.model.maxY;\n    };\n    var max1X = function (detail) {\n      return detail.model.maxX + 1;\n    };\n    var max1Y = function (detail) {\n      return detail.model.maxY + 1;\n    };\n    var range = function (detail, max, min) {\n      return max(detail) - min(detail);\n    };\n    var xRange = function (detail) {\n      return range(detail, maxX, minX);\n    };\n    var yRange = function (detail) {\n      return range(detail, maxY, minY);\n    };\n    var halfX = function (detail) {\n      return xRange(detail) / 2;\n    };\n    var halfY = function (detail) {\n      return yRange(detail) / 2;\n    };\n    var step = function (detail) {\n      return detail.stepSize;\n    };\n    var snap = function (detail) {\n      return detail.snapToGrid;\n    };\n    var snapStart = function (detail) {\n      return detail.snapStart;\n    };\n    var rounded = function (detail) {\n      return detail.rounded;\n    };\n    var hasEdge = function (detail, edgeName) {\n      return detail[edgeName + '-edge'] !== undefined;\n    };\n    var hasLEdge = function (detail) {\n      return hasEdge(detail, l);\n    };\n    var hasREdge = function (detail) {\n      return hasEdge(detail, r);\n    };\n    var hasTEdge = function (detail) {\n      return hasEdge(detail, t);\n    };\n    var hasBEdge = function (detail) {\n      return hasEdge(detail, b);\n    };\n    var currentValue = function (detail) {\n      return detail.model.value.get();\n    };\n\n    var xValue = function (x) {\n      return { x: x };\n    };\n    var yValue = function (y) {\n      return { y: y };\n    };\n    var xyValue = function (x, y) {\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var fireSliderChange$3 = function (component, value) {\n      emitWith(component, sliderChangeEvent(), { value: value });\n    };\n    var setToTLEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(min1X(detail), min1Y(detail)));\n    };\n    var setToTEdge = function (edge, detail) {\n      fireSliderChange$3(edge, yValue(min1Y(detail)));\n    };\n    var setToTEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(halfX(detail), min1Y(detail)));\n    };\n    var setToTREdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(max1X(detail), min1Y(detail)));\n    };\n    var setToREdge = function (edge, detail) {\n      fireSliderChange$3(edge, xValue(max1X(detail)));\n    };\n    var setToREdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(max1X(detail), halfY(detail)));\n    };\n    var setToBREdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(max1X(detail), max1Y(detail)));\n    };\n    var setToBEdge = function (edge, detail) {\n      fireSliderChange$3(edge, yValue(max1Y(detail)));\n    };\n    var setToBEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(halfX(detail), max1Y(detail)));\n    };\n    var setToBLEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(min1X(detail), max1Y(detail)));\n    };\n    var setToLEdge = function (edge, detail) {\n      fireSliderChange$3(edge, xValue(min1X(detail)));\n    };\n    var setToLEdgeXY = function (edge, detail) {\n      fireSliderChange$3(edge, xyValue(min1X(detail), halfY(detail)));\n    };\n\n    var reduceBy = function (value, min, max, step) {\n      if (value < min) {\n        return value;\n      } else if (value > max) {\n        return max;\n      } else if (value === min) {\n        return min - 1;\n      } else {\n        return Math.max(min, value - step);\n      }\n    };\n    var increaseBy = function (value, min, max, step) {\n      if (value > max) {\n        return value;\n      } else if (value < min) {\n        return min;\n      } else if (value === max) {\n        return max + 1;\n      } else {\n        return Math.min(max, value + step);\n      }\n    };\n    var capValue = function (value, min, max) {\n      return Math.max(min, Math.min(max, value));\n    };\n    var snapValueOf = function (value, min, max, step, snapStart) {\n      return snapStart.fold(function () {\n        var initValue = value - min;\n        var extraValue = Math.round(initValue / step) * step;\n        return capValue(min + extraValue, min - 1, max + 1);\n      }, function (start) {\n        var remainder = (value - start) % step;\n        var adjustment = Math.round(remainder / step);\n        var rawSteps = Math.floor((value - start) / step);\n        var maxSteps = Math.floor((max - start) / step);\n        var numSteps = Math.min(maxSteps, rawSteps + adjustment);\n        var r = start + numSteps * step;\n        return Math.max(start, r);\n      });\n    };\n    var findOffsetOf = function (value, min, max) {\n      return Math.min(max, Math.max(value, min)) - min;\n    };\n    var findValueOf = function (args) {\n      var min = args.min, max = args.max, range = args.range, value = args.value, step = args.step, snap = args.snap, snapStart = args.snapStart, rounded = args.rounded, hasMinEdge = args.hasMinEdge, hasMaxEdge = args.hasMaxEdge, minBound = args.minBound, maxBound = args.maxBound, screenRange = args.screenRange;\n      var capMin = hasMinEdge ? min - 1 : min;\n      var capMax = hasMaxEdge ? max + 1 : max;\n      if (value < minBound) {\n        return capMin;\n      } else if (value > maxBound) {\n        return capMax;\n      } else {\n        var offset = findOffsetOf(value, minBound, maxBound);\n        var newValue = capValue(offset / screenRange * range + min, capMin, capMax);\n        if (snap && newValue >= min && newValue <= max) {\n          return snapValueOf(newValue, min, max, step, snapStart);\n        } else if (rounded) {\n          return Math.round(newValue);\n        } else {\n          return newValue;\n        }\n      }\n    };\n    var findOffsetOfValue$2 = function (args) {\n      var min = args.min, max = args.max, range = args.range, value = args.value, hasMinEdge = args.hasMinEdge, hasMaxEdge = args.hasMaxEdge, maxBound = args.maxBound, maxOffset = args.maxOffset, centerMinEdge = args.centerMinEdge, centerMaxEdge = args.centerMaxEdge;\n      if (value < min) {\n        return hasMinEdge ? 0 : centerMinEdge;\n      } else if (value > max) {\n        return hasMaxEdge ? maxBound : centerMaxEdge;\n      } else {\n        return (value - min) / range * maxOffset;\n      }\n    };\n\n    var top = 'top', right = 'right', bottom = 'bottom', left = 'left', width = 'width', height = 'height';\n    var getBounds = function (component) {\n      return component.element.dom.getBoundingClientRect();\n    };\n    var getBoundsProperty = function (bounds, property) {\n      return bounds[property];\n    };\n    var getMinXBounds = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, left);\n    };\n    var getMaxXBounds = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, right);\n    };\n    var getMinYBounds = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, top);\n    };\n    var getMaxYBounds = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, bottom);\n    };\n    var getXScreenRange = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, width);\n    };\n    var getYScreenRange = function (component) {\n      var bounds = getBounds(component);\n      return getBoundsProperty(bounds, height);\n    };\n    var getCenterOffsetOf = function (componentMinEdge, componentMaxEdge, spectrumMinEdge) {\n      return (componentMinEdge + componentMaxEdge) / 2 - spectrumMinEdge;\n    };\n    var getXCenterOffSetOf = function (component, spectrum) {\n      var componentBounds = getBounds(component);\n      var spectrumBounds = getBounds(spectrum);\n      var componentMinEdge = getBoundsProperty(componentBounds, left);\n      var componentMaxEdge = getBoundsProperty(componentBounds, right);\n      var spectrumMinEdge = getBoundsProperty(spectrumBounds, left);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n    var getYCenterOffSetOf = function (component, spectrum) {\n      var componentBounds = getBounds(component);\n      var spectrumBounds = getBounds(spectrum);\n      var componentMinEdge = getBoundsProperty(componentBounds, top);\n      var componentMaxEdge = getBoundsProperty(componentBounds, bottom);\n      var spectrumMinEdge = getBoundsProperty(spectrumBounds, top);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n\n    var fireSliderChange$2 = function (spectrum, value) {\n      emitWith(spectrum, sliderChangeEvent(), { value: value });\n    };\n    var sliderValue$2 = function (x) {\n      return { x: x };\n    };\n    var findValueOfOffset$1 = function (spectrum, detail, left) {\n      var args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value: left,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        maxBound: getMaxXBounds(spectrum),\n        screenRange: getXScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    var setValueFrom$2 = function (spectrum, detail, value) {\n      var xValue = findValueOfOffset$1(spectrum, detail, value);\n      var sliderVal = sliderValue$2(xValue);\n      fireSliderChange$2(spectrum, sliderVal);\n      return xValue;\n    };\n    var setToMin$2 = function (spectrum, detail) {\n      var min = minX(detail);\n      fireSliderChange$2(spectrum, sliderValue$2(min));\n    };\n    var setToMax$2 = function (spectrum, detail) {\n      var max = maxX(detail);\n      fireSliderChange$2(spectrum, sliderValue$2(max));\n    };\n    var moveBy$2 = function (direction, spectrum, detail) {\n      var f = direction > 0 ? increaseBy : reduceBy;\n      var xValue = f(currentValue(detail).x, minX(detail), maxX(detail), step(detail));\n      fireSliderChange$2(spectrum, sliderValue$2(xValue));\n      return Optional.some(xValue);\n    };\n    var handleMovement$2 = function (direction) {\n      return function (spectrum, detail) {\n        return moveBy$2(direction, spectrum, detail).map(always);\n      };\n    };\n    var getValueFromEvent$2 = function (simulatedEvent) {\n      var pos = getEventSource(simulatedEvent);\n      return pos.map(function (p) {\n        return p.left;\n      });\n    };\n    var findOffsetOfValue$1 = function (spectrum, detail, value, minEdge, maxEdge) {\n      var minOffset = 0;\n      var maxOffset = getXScreenRange(spectrum);\n      var centerMinEdge = minEdge.bind(function (edge) {\n        return Optional.some(getXCenterOffSetOf(edge, spectrum));\n      }).getOr(minOffset);\n      var centerMaxEdge = maxEdge.bind(function (edge) {\n        return Optional.some(getXCenterOffSetOf(edge, spectrum));\n      }).getOr(maxOffset);\n      var args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value: value,\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        minOffset: minOffset,\n        maxBound: getMaxXBounds(spectrum),\n        maxOffset: maxOffset,\n        centerMinEdge: centerMinEdge,\n        centerMaxEdge: centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    var findPositionOfValue$1 = function (slider, spectrum, value, minEdge, maxEdge, detail) {\n      var offset = findOffsetOfValue$1(spectrum, detail, value, minEdge, maxEdge);\n      return getMinXBounds(spectrum) - getMinXBounds(slider) + offset;\n    };\n    var setPositionFromValue$2 = function (slider, thumb, detail, edges) {\n      var value = currentValue(detail);\n      var pos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value.x, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      var thumbRadius = get$a(thumb.element) / 2;\n      set$7(thumb.element, 'left', pos - thumbRadius + 'px');\n    };\n    var onLeft$2 = handleMovement$2(-1);\n    var onRight$2 = handleMovement$2(1);\n    var onUp$2 = Optional.none;\n    var onDown$2 = Optional.none;\n    var edgeActions$2 = {\n      'top-left': Optional.none(),\n      'top': Optional.none(),\n      'top-right': Optional.none(),\n      'right': Optional.some(setToREdge),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.none(),\n      'bottom-left': Optional.none(),\n      'left': Optional.some(setToLEdge)\n    };\n\n    var HorizontalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$2,\n        setToMin: setToMin$2,\n        setToMax: setToMax$2,\n        findValueOfOffset: findValueOfOffset$1,\n        getValueFromEvent: getValueFromEvent$2,\n        findPositionOfValue: findPositionOfValue$1,\n        setPositionFromValue: setPositionFromValue$2,\n        onLeft: onLeft$2,\n        onRight: onRight$2,\n        onUp: onUp$2,\n        onDown: onDown$2,\n        edgeActions: edgeActions$2\n    });\n\n    var fireSliderChange$1 = function (spectrum, value) {\n      emitWith(spectrum, sliderChangeEvent(), { value: value });\n    };\n    var sliderValue$1 = function (y) {\n      return { y: y };\n    };\n    var findValueOfOffset = function (spectrum, detail, top) {\n      var args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value: top,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        maxBound: getMaxYBounds(spectrum),\n        screenRange: getYScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    var setValueFrom$1 = function (spectrum, detail, value) {\n      var yValue = findValueOfOffset(spectrum, detail, value);\n      var sliderVal = sliderValue$1(yValue);\n      fireSliderChange$1(spectrum, sliderVal);\n      return yValue;\n    };\n    var setToMin$1 = function (spectrum, detail) {\n      var min = minY(detail);\n      fireSliderChange$1(spectrum, sliderValue$1(min));\n    };\n    var setToMax$1 = function (spectrum, detail) {\n      var max = maxY(detail);\n      fireSliderChange$1(spectrum, sliderValue$1(max));\n    };\n    var moveBy$1 = function (direction, spectrum, detail) {\n      var f = direction > 0 ? increaseBy : reduceBy;\n      var yValue = f(currentValue(detail).y, minY(detail), maxY(detail), step(detail));\n      fireSliderChange$1(spectrum, sliderValue$1(yValue));\n      return Optional.some(yValue);\n    };\n    var handleMovement$1 = function (direction) {\n      return function (spectrum, detail) {\n        return moveBy$1(direction, spectrum, detail).map(always);\n      };\n    };\n    var getValueFromEvent$1 = function (simulatedEvent) {\n      var pos = getEventSource(simulatedEvent);\n      return pos.map(function (p) {\n        return p.top;\n      });\n    };\n    var findOffsetOfValue = function (spectrum, detail, value, minEdge, maxEdge) {\n      var minOffset = 0;\n      var maxOffset = getYScreenRange(spectrum);\n      var centerMinEdge = minEdge.bind(function (edge) {\n        return Optional.some(getYCenterOffSetOf(edge, spectrum));\n      }).getOr(minOffset);\n      var centerMaxEdge = maxEdge.bind(function (edge) {\n        return Optional.some(getYCenterOffSetOf(edge, spectrum));\n      }).getOr(maxOffset);\n      var args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value: value,\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        minOffset: minOffset,\n        maxBound: getMaxYBounds(spectrum),\n        maxOffset: maxOffset,\n        centerMinEdge: centerMinEdge,\n        centerMaxEdge: centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    var findPositionOfValue = function (slider, spectrum, value, minEdge, maxEdge, detail) {\n      var offset = findOffsetOfValue(spectrum, detail, value, minEdge, maxEdge);\n      return getMinYBounds(spectrum) - getMinYBounds(slider) + offset;\n    };\n    var setPositionFromValue$1 = function (slider, thumb, detail, edges) {\n      var value = currentValue(detail);\n      var pos = findPositionOfValue(slider, edges.getSpectrum(slider), value.y, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      var thumbRadius = get$b(thumb.element) / 2;\n      set$7(thumb.element, 'top', pos - thumbRadius + 'px');\n    };\n    var onLeft$1 = Optional.none;\n    var onRight$1 = Optional.none;\n    var onUp$1 = handleMovement$1(-1);\n    var onDown$1 = handleMovement$1(1);\n    var edgeActions$1 = {\n      'top-left': Optional.none(),\n      'top': Optional.some(setToTEdge),\n      'top-right': Optional.none(),\n      'right': Optional.none(),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.some(setToBEdge),\n      'bottom-left': Optional.none(),\n      'left': Optional.none()\n    };\n\n    var VerticalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$1,\n        setToMin: setToMin$1,\n        setToMax: setToMax$1,\n        findValueOfOffset: findValueOfOffset,\n        getValueFromEvent: getValueFromEvent$1,\n        findPositionOfValue: findPositionOfValue,\n        setPositionFromValue: setPositionFromValue$1,\n        onLeft: onLeft$1,\n        onRight: onRight$1,\n        onUp: onUp$1,\n        onDown: onDown$1,\n        edgeActions: edgeActions$1\n    });\n\n    var fireSliderChange = function (spectrum, value) {\n      emitWith(spectrum, sliderChangeEvent(), { value: value });\n    };\n    var sliderValue = function (x, y) {\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var setValueFrom = function (spectrum, detail, value) {\n      var xValue = findValueOfOffset$1(spectrum, detail, value.left);\n      var yValue = findValueOfOffset(spectrum, detail, value.top);\n      var val = sliderValue(xValue, yValue);\n      fireSliderChange(spectrum, val);\n      return val;\n    };\n    var moveBy = function (direction, isVerticalMovement, spectrum, detail) {\n      var f = direction > 0 ? increaseBy : reduceBy;\n      var xValue = isVerticalMovement ? currentValue(detail).x : f(currentValue(detail).x, minX(detail), maxX(detail), step(detail));\n      var yValue = !isVerticalMovement ? currentValue(detail).y : f(currentValue(detail).y, minY(detail), maxY(detail), step(detail));\n      fireSliderChange(spectrum, sliderValue(xValue, yValue));\n      return Optional.some(xValue);\n    };\n    var handleMovement = function (direction, isVerticalMovement) {\n      return function (spectrum, detail) {\n        return moveBy(direction, isVerticalMovement, spectrum, detail).map(always);\n      };\n    };\n    var setToMin = function (spectrum, detail) {\n      var mX = minX(detail);\n      var mY = minY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    var setToMax = function (spectrum, detail) {\n      var mX = maxX(detail);\n      var mY = maxY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    var getValueFromEvent = function (simulatedEvent) {\n      return getEventSource(simulatedEvent);\n    };\n    var setPositionFromValue = function (slider, thumb, detail, edges) {\n      var value = currentValue(detail);\n      var xPos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value.x, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      var yPos = findPositionOfValue(slider, edges.getSpectrum(slider), value.y, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      var thumbXRadius = get$a(thumb.element) / 2;\n      var thumbYRadius = get$b(thumb.element) / 2;\n      set$7(thumb.element, 'left', xPos - thumbXRadius + 'px');\n      set$7(thumb.element, 'top', yPos - thumbYRadius + 'px');\n    };\n    var onLeft = handleMovement(-1, false);\n    var onRight = handleMovement(1, false);\n    var onUp = handleMovement(-1, true);\n    var onDown = handleMovement(1, true);\n    var edgeActions = {\n      'top-left': Optional.some(setToTLEdgeXY),\n      'top': Optional.some(setToTEdgeXY),\n      'top-right': Optional.some(setToTREdgeXY),\n      'right': Optional.some(setToREdgeXY),\n      'bottom-right': Optional.some(setToBREdgeXY),\n      'bottom': Optional.some(setToBEdgeXY),\n      'bottom-left': Optional.some(setToBLEdgeXY),\n      'left': Optional.some(setToLEdgeXY)\n    };\n\n    var TwoDModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom,\n        setToMin: setToMin,\n        setToMax: setToMax,\n        getValueFromEvent: getValueFromEvent,\n        setPositionFromValue: setPositionFromValue,\n        onLeft: onLeft,\n        onRight: onRight,\n        onUp: onUp,\n        onDown: onDown,\n        edgeActions: edgeActions\n    });\n\n    var SliderSchema = [\n      defaulted('stepSize', 1),\n      defaulted('onChange', noop),\n      defaulted('onChoose', noop),\n      defaulted('onInit', noop),\n      defaulted('onDragStart', noop),\n      defaulted('onDragEnd', noop),\n      defaulted('snapToGrid', false),\n      defaulted('rounded', true),\n      option('snapStart'),\n      requiredOf('model', choose$1('mode', {\n        x: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          customField('value', function (spec) {\n            return Cell(spec.mode.minX);\n          }),\n          required$1('getInitialValue'),\n          output$1('manager', HorizontalModel)\n        ],\n        y: [\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', function (spec) {\n            return Cell(spec.mode.minY);\n          }),\n          required$1('getInitialValue'),\n          output$1('manager', VerticalModel)\n        ],\n        xy: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', function (spec) {\n            return Cell({\n              x: spec.mode.minX,\n              y: spec.mode.minY\n            });\n          }),\n          required$1('getInitialValue'),\n          output$1('manager', TwoDModel)\n        ]\n      })),\n      field('sliderBehaviours', [\n        Keying,\n        Representing\n      ]),\n      customField('mouseIsDown', function () {\n        return Cell(false);\n      })\n    ];\n\n    var sketch$2 = function (detail, components, _spec, _externals) {\n      var _a;\n      var getThumb = function (component) {\n        return getPartOrDie(component, detail, 'thumb');\n      };\n      var getSpectrum = function (component) {\n        return getPartOrDie(component, detail, 'spectrum');\n      };\n      var getLeftEdge = function (component) {\n        return getPart(component, detail, 'left-edge');\n      };\n      var getRightEdge = function (component) {\n        return getPart(component, detail, 'right-edge');\n      };\n      var getTopEdge = function (component) {\n        return getPart(component, detail, 'top-edge');\n      };\n      var getBottomEdge = function (component) {\n        return getPart(component, detail, 'bottom-edge');\n      };\n      var modelDetail = detail.model;\n      var model = modelDetail.manager;\n      var refresh = function (slider, thumb) {\n        model.setPositionFromValue(slider, thumb, detail, {\n          getLeftEdge: getLeftEdge,\n          getRightEdge: getRightEdge,\n          getTopEdge: getTopEdge,\n          getBottomEdge: getBottomEdge,\n          getSpectrum: getSpectrum\n        });\n      };\n      var setValue = function (slider, newValue) {\n        modelDetail.value.set(newValue);\n        var thumb = getThumb(slider);\n        refresh(slider, thumb);\n      };\n      var changeValue = function (slider, newValue) {\n        setValue(slider, newValue);\n        var thumb = getThumb(slider);\n        detail.onChange(slider, thumb, newValue);\n        return Optional.some(true);\n      };\n      var resetToMin = function (slider) {\n        model.setToMin(slider, detail);\n      };\n      var resetToMax = function (slider) {\n        model.setToMax(slider, detail);\n      };\n      var choose = function (slider) {\n        var fireOnChoose = function () {\n          getPart(slider, detail, 'thumb').each(function (thumb) {\n            var value = modelDetail.value.get();\n            detail.onChoose(slider, thumb, value);\n          });\n        };\n        var wasDown = detail.mouseIsDown.get();\n        detail.mouseIsDown.set(false);\n        if (wasDown) {\n          fireOnChoose();\n        }\n      };\n      var onDragStart = function (slider, simulatedEvent) {\n        simulatedEvent.stop();\n        detail.mouseIsDown.set(true);\n        detail.onDragStart(slider, getThumb(slider));\n      };\n      var onDragEnd = function (slider, simulatedEvent) {\n        simulatedEvent.stop();\n        detail.onDragEnd(slider, getThumb(slider));\n        choose(slider);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.sliderBehaviours, [\n          Keying.config({\n            mode: 'special',\n            focusIn: function (slider) {\n              return getPart(slider, detail, 'spectrum').map(Keying.focusIn).map(always);\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (_) {\n                return modelDetail.value.get();\n              }\n            }\n          }),\n          Receiving.config({ channels: (_a = {}, _a[mouseReleased()] = { onReceive: choose }, _a) })\n        ]),\n        events: derive$2([\n          run$1(sliderChangeEvent(), function (slider, simulatedEvent) {\n            changeValue(slider, simulatedEvent.event.value);\n          }),\n          runOnAttached(function (slider, _simulatedEvent) {\n            var getInitial = modelDetail.getInitialValue();\n            modelDetail.value.set(getInitial);\n            var thumb = getThumb(slider);\n            refresh(slider, thumb);\n            var spectrum = getSpectrum(slider);\n            detail.onInit(slider, thumb, spectrum, modelDetail.value.get());\n          }),\n          run$1(touchstart(), onDragStart),\n          run$1(touchend(), onDragEnd),\n          run$1(mousedown(), onDragStart),\n          run$1(mouseup(), onDragEnd)\n        ]),\n        apis: {\n          resetToMin: resetToMin,\n          resetToMax: resetToMax,\n          setValue: setValue,\n          refresh: refresh\n        },\n        domModification: { styles: { position: 'relative' } }\n      };\n    };\n\n    var Slider = composite({\n      name: 'Slider',\n      configFields: SliderSchema,\n      partFields: SliderParts,\n      factory: sketch$2,\n      apis: {\n        setValue: function (apis, slider, value) {\n          apis.setValue(slider, value);\n        },\n        resetToMin: function (apis, slider) {\n          apis.resetToMin(slider);\n        },\n        resetToMax: function (apis, slider) {\n          apis.resetToMax(slider);\n        },\n        refresh: function (apis, slider) {\n          apis.refresh(slider);\n        }\n      }\n    });\n\n    var fieldsUpdate = generate$6('rgb-hex-update');\n    var sliderUpdate = generate$6('slider-update');\n    var paletteUpdate = generate$6('palette-update');\n\n    var sliderFactory = function (translate, getClass) {\n      var spectrum = Slider.parts.spectrum({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-spectrum')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      var thumb = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-thumb')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      return Slider.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider')],\n          attributes: { role: 'presentation' }\n        },\n        rounded: false,\n        model: {\n          mode: 'y',\n          getInitialValue: constant$1({ y: 0 })\n        },\n        components: [\n          spectrum,\n          thumb\n        ],\n        sliderBehaviours: derive$1([Focusing.config({})]),\n        onChange: function (slider, _thumb, value) {\n          emitWith(slider, sliderUpdate, { value: value });\n        }\n      });\n    };\n\n    var owner$1 = 'form';\n    var schema$i = [field('formBehaviours', [Representing])];\n    var getPartName$1 = function (name) {\n      return '<alloy.field.' + name + '>';\n    };\n    var sketch$1 = function (fSpec) {\n      var parts = function () {\n        var record = [];\n        var field = function (name, config) {\n          record.push(name);\n          return generateOne$1(owner$1, getPartName$1(name), config);\n        };\n        return {\n          field: field,\n          record: constant$1(record)\n        };\n      }();\n      var spec = fSpec(parts);\n      var partNames = parts.record();\n      var fieldParts = map$2(partNames, function (n) {\n        return required({\n          name: n,\n          pname: getPartName$1(n)\n        });\n      });\n      return composite$1(owner$1, schema$i, fieldParts, make$4, spec);\n    };\n    var toResult = function (o, e) {\n      return o.fold(function () {\n        return Result.error(e);\n      }, Result.value);\n    };\n    var make$4 = function (detail, components) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.formBehaviours, [Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (form) {\n                var resPs = getAllParts(form, detail);\n                return map$1(resPs, function (resPThunk, pName) {\n                  return resPThunk().bind(function (v) {\n                    var opt = Composing.getCurrent(v);\n                    return toResult(opt, new Error('Cannot find a current component to extract the value from for form part \\'' + pName + '\\': ' + element(v.element)));\n                  }).map(Representing.getValue);\n                });\n              },\n              setValue: function (form, values) {\n                each(values, function (newValue, key) {\n                  getPart(form, detail, key).each(function (wrapper) {\n                    Composing.getCurrent(wrapper).each(function (field) {\n                      Representing.setValue(field, newValue);\n                    });\n                  });\n                });\n              }\n            }\n          })]),\n        apis: {\n          getField: function (form, key) {\n            return getPart(form, detail, key).bind(Composing.getCurrent);\n          }\n        }\n      };\n    };\n    var Form = {\n      getField: makeApi(function (apis, component, key) {\n        return apis.getField(component, key);\n      }),\n      sketch: sketch$1\n    };\n\n    var validInput = generate$6('valid-input');\n    var invalidInput = generate$6('invalid-input');\n    var validatingInput = generate$6('validating-input');\n    var translatePrefix = 'colorcustom.rgb.';\n    var rgbFormFactory = function (translate, getClass, onValidHexx, onInvalidHexx) {\n      var invalidation = function (label, isValid) {\n        return Invalidating.config({\n          invalidClass: getClass('invalid'),\n          notify: {\n            onValidate: function (comp) {\n              emitWith(comp, validatingInput, { type: label });\n            },\n            onValid: function (comp) {\n              emitWith(comp, validInput, {\n                type: label,\n                value: Representing.getValue(comp)\n              });\n            },\n            onInvalid: function (comp) {\n              emitWith(comp, invalidInput, {\n                type: label,\n                value: Representing.getValue(comp)\n              });\n            }\n          },\n          validator: {\n            validate: function (comp) {\n              var value = Representing.getValue(comp);\n              var res = isValid(value) ? Result.value(true) : Result.error(translate('aria.input.invalid'));\n              return Future.pure(res);\n            },\n            validateOnLoad: false\n          }\n        });\n      };\n      var renderTextField = function (isValid, name, label, description, data) {\n        var helptext = translate(translatePrefix + 'range');\n        var pLabel = FormField.parts.label({\n          dom: {\n            tag: 'label',\n            innerHtml: label,\n            attributes: { 'aria-label': description }\n          }\n        });\n        var pField = FormField.parts.field({\n          data: data,\n          factory: Input,\n          inputAttributes: __assign({ type: 'text' }, name === 'hex' ? { 'aria-live': 'polite' } : {}),\n          inputClasses: [getClass('textfield')],\n          inputBehaviours: derive$1([\n            invalidation(name, isValid),\n            Tabstopping.config({})\n          ]),\n          onSetValue: function (input) {\n            if (Invalidating.isInvalid(input)) {\n              var run = Invalidating.run(input);\n              run.get(noop);\n            }\n          }\n        });\n        var comps = [\n          pLabel,\n          pField\n        ];\n        var concats = name !== 'hex' ? [FormField.parts['aria-descriptor']({ text: helptext })] : [];\n        var components = comps.concat(concats);\n        return {\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' }\n          },\n          components: components\n        };\n      };\n      var copyRgbToHex = function (form, rgba) {\n        var hex = fromRgba(rgba);\n        Form.getField(form, 'hex').each(function (hexField) {\n          if (!Focusing.isFocused(hexField)) {\n            Representing.setValue(form, { hex: hex.value });\n          }\n        });\n        return hex;\n      };\n      var copyRgbToForm = function (form, rgb) {\n        var red = rgb.red;\n        var green = rgb.green;\n        var blue = rgb.blue;\n        Representing.setValue(form, {\n          red: red,\n          green: green,\n          blue: blue\n        });\n      };\n      var memPreview = record({\n        dom: {\n          tag: 'div',\n          classes: [getClass('rgba-preview')],\n          styles: { 'background-color': 'white' },\n          attributes: { role: 'presentation' }\n        }\n      });\n      var updatePreview = function (anyInSystem, hex) {\n        memPreview.getOpt(anyInSystem).each(function (preview) {\n          set$7(preview.element, 'background-color', '#' + hex.value);\n        });\n      };\n      var factory = function () {\n        var state = {\n          red: Cell(Optional.some(255)),\n          green: Cell(Optional.some(255)),\n          blue: Cell(Optional.some(255)),\n          hex: Cell(Optional.some('ffffff'))\n        };\n        var copyHexToRgb = function (form, hex) {\n          var rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n        };\n        var get = function (prop) {\n          return state[prop].get();\n        };\n        var set = function (prop, value) {\n          state[prop].set(value);\n        };\n        var getValueRgb = function () {\n          return get('red').bind(function (red) {\n            return get('green').bind(function (green) {\n              return get('blue').map(function (blue) {\n                return rgbaColour(red, green, blue, 1);\n              });\n            });\n          });\n        };\n        var setValueRgb = function (rgb) {\n          var red = rgb.red;\n          var green = rgb.green;\n          var blue = rgb.blue;\n          set('red', Optional.some(red));\n          set('green', Optional.some(green));\n          set('blue', Optional.some(blue));\n        };\n        var onInvalidInput = function (form, simulatedEvent) {\n          var data = simulatedEvent.event;\n          if (data.type !== 'hex') {\n            set(data.type, Optional.none());\n          } else {\n            onInvalidHexx(form);\n          }\n        };\n        var onValidHex = function (form, value) {\n          onValidHexx(form);\n          var hex = hexColour(value);\n          set('hex', Optional.some(value));\n          var rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n          emitWith(form, fieldsUpdate, { hex: hex });\n          updatePreview(form, hex);\n        };\n        var onValidRgb = function (form, prop, value) {\n          var val = parseInt(value, 10);\n          set(prop, Optional.some(val));\n          getValueRgb().each(function (rgb) {\n            var hex = copyRgbToHex(form, rgb);\n            emitWith(form, fieldsUpdate, { hex: hex });\n            updatePreview(form, hex);\n          });\n        };\n        var isHexInputEvent = function (data) {\n          return data.type === 'hex';\n        };\n        var onValidInput = function (form, simulatedEvent) {\n          var data = simulatedEvent.event;\n          if (isHexInputEvent(data)) {\n            onValidHex(form, data.value);\n          } else {\n            onValidRgb(form, data.type, data.value);\n          }\n        };\n        var formPartStrings = function (key) {\n          return {\n            label: translate(translatePrefix + key + '.label'),\n            description: translate(translatePrefix + key + '.description')\n          };\n        };\n        var redStrings = formPartStrings('red');\n        var greenStrings = formPartStrings('green');\n        var blueStrings = formPartStrings('blue');\n        var hexStrings = formPartStrings('hex');\n        return deepMerge(Form.sketch(function (parts) {\n          return {\n            dom: {\n              tag: 'form',\n              classes: [getClass('rgb-form')],\n              attributes: { 'aria-label': translate('aria.color.picker') }\n            },\n            components: [\n              parts.field('red', FormField.sketch(renderTextField(isRgbaComponent, 'red', redStrings.label, redStrings.description, 255))),\n              parts.field('green', FormField.sketch(renderTextField(isRgbaComponent, 'green', greenStrings.label, greenStrings.description, 255))),\n              parts.field('blue', FormField.sketch(renderTextField(isRgbaComponent, 'blue', blueStrings.label, blueStrings.description, 255))),\n              parts.field('hex', FormField.sketch(renderTextField(isHexString, 'hex', hexStrings.label, hexStrings.description, 'ffffff'))),\n              memPreview.asSpec()\n            ],\n            formBehaviours: derive$1([\n              Invalidating.config({ invalidClass: getClass('form-invalid') }),\n              config('rgb-form-events', [\n                run$1(validInput, onValidInput),\n                run$1(invalidInput, onInvalidInput),\n                run$1(validatingInput, onInvalidInput)\n              ])\n            ])\n          };\n        }), {\n          apis: {\n            updateHex: function (form, hex) {\n              Representing.setValue(form, { hex: hex.value });\n              copyHexToRgb(form, hex);\n              updatePreview(form, hex);\n            }\n          }\n        });\n      };\n      var rgbFormSketcher = single({\n        factory: factory,\n        name: 'RgbForm',\n        configFields: [],\n        apis: {\n          updateHex: function (apis, form, hex) {\n            apis.updateHex(form, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return rgbFormSketcher;\n    };\n\n    var paletteFactory = function (_translate, getClass) {\n      var spectrumPart = Slider.parts.spectrum({\n        dom: {\n          tag: 'canvas',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-spectrum')]\n        }\n      });\n      var thumbPart = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-thumb')],\n          innerHtml: '<div class=' + getClass('sv-palette-inner-thumb') + ' role=\"presentation\"></div>'\n        }\n      });\n      var setColour = function (canvas, rgba) {\n        var width = canvas.width, height = canvas.height;\n        var ctx = canvas.getContext('2d');\n        if (ctx === null) {\n          return;\n        }\n        ctx.fillStyle = rgba;\n        ctx.fillRect(0, 0, width, height);\n        var grdWhite = ctx.createLinearGradient(0, 0, width, 0);\n        grdWhite.addColorStop(0, 'rgba(255,255,255,1)');\n        grdWhite.addColorStop(1, 'rgba(255,255,255,0)');\n        ctx.fillStyle = grdWhite;\n        ctx.fillRect(0, 0, width, height);\n        var grdBlack = ctx.createLinearGradient(0, 0, 0, height);\n        grdBlack.addColorStop(0, 'rgba(0,0,0,0)');\n        grdBlack.addColorStop(1, 'rgba(0,0,0,1)');\n        ctx.fillStyle = grdBlack;\n        ctx.fillRect(0, 0, width, height);\n      };\n      var setPaletteHue = function (slider, hue) {\n        var canvas = slider.components()[0].element.dom;\n        var hsv = hsvColour(hue, 100, 100);\n        var rgba = fromHsv(hsv);\n        setColour(canvas, toString(rgba));\n      };\n      var setPaletteThumb = function (slider, hex) {\n        var hsv = fromRgb(fromHex(hex));\n        Slider.setValue(slider, {\n          x: hsv.saturation,\n          y: 100 - hsv.value\n        });\n      };\n      var factory = function (_detail) {\n        var getInitialValue = constant$1({\n          x: 0,\n          y: 0\n        });\n        var onChange = function (slider, _thumb, value) {\n          emitWith(slider, paletteUpdate, { value: value });\n        };\n        var onInit = function (_slider, _thumb, spectrum, _value) {\n          setColour(spectrum.element.dom, toString(red));\n        };\n        var sliderBehaviours = derive$1([\n          Composing.config({ find: Optional.some }),\n          Focusing.config({})\n        ]);\n        return Slider.sketch({\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' },\n            classes: [getClass('sv-palette')]\n          },\n          model: {\n            mode: 'xy',\n            getInitialValue: getInitialValue\n          },\n          rounded: false,\n          components: [\n            spectrumPart,\n            thumbPart\n          ],\n          onChange: onChange,\n          onInit: onInit,\n          sliderBehaviours: sliderBehaviours\n        });\n      };\n      var saturationBrightnessPaletteSketcher = single({\n        factory: factory,\n        name: 'SaturationBrightnessPalette',\n        configFields: [],\n        apis: {\n          setHue: function (_apis, slider, hue) {\n            setPaletteHue(slider, hue);\n          },\n          setThumb: function (_apis, slider, hex) {\n            setPaletteThumb(slider, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return saturationBrightnessPaletteSketcher;\n    };\n\n    var makeFactory = function (translate, getClass) {\n      var factory = function (detail) {\n        var rgbForm = rgbFormFactory(translate, getClass, detail.onValidHex, detail.onInvalidHex);\n        var sbPalette = paletteFactory(translate, getClass);\n        var hueSliderToDegrees = function (hue) {\n          return (100 - hue) / 100 * 360;\n        };\n        var hueDegreesToSlider = function (hue) {\n          return 100 - hue / 360 * 100;\n        };\n        var state = {\n          paletteRgba: Cell(red),\n          paletteHue: Cell(0)\n        };\n        var memSlider = record(sliderFactory(translate, getClass));\n        var memPalette = record(sbPalette.sketch({}));\n        var memRgb = record(rgbForm.sketch({}));\n        var updatePalette = function (anyInSystem, _hex, hue) {\n          memPalette.getOpt(anyInSystem).each(function (palette) {\n            sbPalette.setHue(palette, hue);\n          });\n        };\n        var updateFields = function (anyInSystem, hex) {\n          memRgb.getOpt(anyInSystem).each(function (form) {\n            rgbForm.updateHex(form, hex);\n          });\n        };\n        var updateSlider = function (anyInSystem, _hex, hue) {\n          memSlider.getOpt(anyInSystem).each(function (slider) {\n            Slider.setValue(slider, { y: hueDegreesToSlider(hue) });\n          });\n        };\n        var updatePaletteThumb = function (anyInSystem, hex) {\n          memPalette.getOpt(anyInSystem).each(function (palette) {\n            sbPalette.setThumb(palette, hex);\n          });\n        };\n        var updateState = function (hex, hue) {\n          var rgba = fromHex(hex);\n          state.paletteRgba.set(rgba);\n          state.paletteHue.set(hue);\n        };\n        var runUpdates = function (anyInSystem, hex, hue, updates) {\n          updateState(hex, hue);\n          each$1(updates, function (update) {\n            update(anyInSystem, hex, hue);\n          });\n        };\n        var onPaletteUpdate = function () {\n          var updates = [updateFields];\n          return function (form, simulatedEvent) {\n            var value = simulatedEvent.event.value;\n            var oldHue = state.paletteHue.get();\n            var newHsv = hsvColour(oldHue, value.x, 100 - value.y);\n            var newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, oldHue, updates);\n          };\n        };\n        var onSliderUpdate = function () {\n          var updates = [\n            updatePalette,\n            updateFields\n          ];\n          return function (form, simulatedEvent) {\n            var hue = hueSliderToDegrees(simulatedEvent.event.value.y);\n            var oldRgb = state.paletteRgba.get();\n            var oldHsv = fromRgb(oldRgb);\n            var newHsv = hsvColour(hue, oldHsv.saturation, oldHsv.value);\n            var newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, hue, updates);\n          };\n        };\n        var onFieldsUpdate = function () {\n          var updates = [\n            updatePalette,\n            updateSlider,\n            updatePaletteThumb\n          ];\n          return function (form, simulatedEvent) {\n            var hex = simulatedEvent.event.hex;\n            var hsv = hexToHsv(hex);\n            runUpdates(form, hex, hsv.hue, updates);\n          };\n        };\n        return {\n          uid: detail.uid,\n          dom: detail.dom,\n          components: [\n            memPalette.asSpec(),\n            memSlider.asSpec(),\n            memRgb.asSpec()\n          ],\n          behaviours: derive$1([\n            config('colour-picker-events', [\n              run$1(fieldsUpdate, onFieldsUpdate()),\n              run$1(paletteUpdate, onPaletteUpdate()),\n              run$1(sliderUpdate, onSliderUpdate())\n            ]),\n            Composing.config({\n              find: function (comp) {\n                return memRgb.getOpt(comp);\n              }\n            }),\n            Keying.config({ mode: 'acyclic' })\n          ])\n        };\n      };\n      var colourPickerSketcher = single({\n        name: 'ColourPicker',\n        configFields: [\n          required$1('dom'),\n          defaulted('onValidHex', noop),\n          defaulted('onInvalidHex', noop)\n        ],\n        factory: factory\n      });\n      return colourPickerSketcher;\n    };\n\n    var self$1 = function () {\n      return Composing.config({ find: Optional.some });\n    };\n    var memento$1 = function (mem) {\n      return Composing.config({ find: mem.getOpt });\n    };\n    var childAt = function (index) {\n      return Composing.config({\n        find: function (comp) {\n          return child$2(comp.element, index).bind(function (element) {\n            return comp.getSystem().getByDom(element).toOptional();\n          });\n        }\n      });\n    };\n    var ComposingConfigs = {\n      self: self$1,\n      memento: memento$1,\n      childAt: childAt\n    };\n\n    var english = {\n      'colorcustom.rgb.red.label': 'R',\n      'colorcustom.rgb.red.description': 'Red component',\n      'colorcustom.rgb.green.label': 'G',\n      'colorcustom.rgb.green.description': 'Green component',\n      'colorcustom.rgb.blue.label': 'B',\n      'colorcustom.rgb.blue.description': 'Blue component',\n      'colorcustom.rgb.hex.label': '#',\n      'colorcustom.rgb.hex.description': 'Hex color code',\n      'colorcustom.rgb.range': 'Range 0 to 255',\n      'colorcustom.sb.saturation': 'Saturation',\n      'colorcustom.sb.brightness': 'Brightness',\n      'colorcustom.sb.picker': 'Saturation and Brightness Picker',\n      'colorcustom.sb.palette': 'Saturation and Brightness Palette',\n      'colorcustom.sb.instructions': 'Use arrow keys to select saturation and brightness, on x and y axes',\n      'colorcustom.hue.hue': 'Hue',\n      'colorcustom.hue.slider': 'Hue Slider',\n      'colorcustom.hue.palette': 'Hue Palette',\n      'colorcustom.hue.instructions': 'Use arrow keys to select a hue',\n      'aria.color.picker': 'Color Picker',\n      'aria.input.invalid': 'Invalid input'\n    };\n    var getEnglishText = function (key) {\n      return english[key];\n    };\n    var translate$1 = function (key) {\n      return getEnglishText(key);\n    };\n    var renderColorPicker = function (_spec) {\n      var getClass = function (key) {\n        return 'tox-' + key;\n      };\n      var colourPickerFactory = makeFactory(translate$1, getClass);\n      var onValidHex = function (form) {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: true\n        });\n      };\n      var onInvalidHex = function (form) {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: false\n        });\n      };\n      var memPicker = record(colourPickerFactory.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('color-picker-container')],\n          attributes: { role: 'presentation' }\n        },\n        onValidHex: onValidHex,\n        onInvalidHex: onInvalidHex\n      }));\n      return {\n        dom: { tag: 'div' },\n        components: [memPicker.asSpec()],\n        behaviours: derive$1([\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (comp) {\n                var picker = memPicker.get(comp);\n                var optRgbForm = Composing.getCurrent(picker);\n                var optHex = optRgbForm.bind(function (rgbForm) {\n                  var formValues = Representing.getValue(rgbForm);\n                  return formValues.hex;\n                });\n                return optHex.map(function (hex) {\n                  return '#' + hex;\n                }).getOr('');\n              },\n              setValue: function (comp, newValue) {\n                var pattern = /^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/;\n                var m = pattern.exec(newValue);\n                var picker = memPicker.get(comp);\n                var optRgbForm = Composing.getCurrent(picker);\n                optRgbForm.fold(function () {\n                  console.log('Can not find form');\n                }, function (rgbForm) {\n                  Representing.setValue(rgbForm, { hex: Optional.from(m[1]).getOr('') });\n                  Form.getField(rgbForm, 'hex').each(function (hexField) {\n                    emit(hexField, input());\n                  });\n                });\n              }\n            }\n          }),\n          ComposingConfigs.self()\n        ])\n      };\n    };\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.Resource');\n\n    var isOldCustomEditor = function (spec) {\n      return has$2(spec, 'init');\n    };\n    var renderCustomEditor = function (spec) {\n      var editorApi = value$1();\n      var memReplaced = record({ dom: { tag: spec.tag } });\n      var initialValue = value$1();\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-custom-editor']\n        },\n        behaviours: derive$1([\n          config('custom-editor-events', [runOnAttached(function (component) {\n              memReplaced.getOpt(component).each(function (ta) {\n                (isOldCustomEditor(spec) ? spec.init(ta.element.dom) : global$6.load(spec.scriptId, spec.scriptUrl).then(function (init) {\n                  return init(ta.element.dom, spec.settings);\n                })).then(function (ea) {\n                  initialValue.on(function (cvalue) {\n                    ea.setValue(cvalue);\n                  });\n                  initialValue.clear();\n                  editorApi.set(ea);\n                });\n              });\n            })]),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function () {\n                return editorApi.get().fold(function () {\n                  return initialValue.get().getOr('');\n                }, function (ed) {\n                  return ed.getValue();\n                });\n              },\n              setValue: function (component, value) {\n                editorApi.get().fold(function () {\n                  initialValue.set(value);\n                }, function (ed) {\n                  return ed.setValue(value);\n                });\n              }\n            }\n          }),\n          ComposingConfigs.self()\n        ]),\n        components: [memReplaced.asSpec()]\n      };\n    };\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var processors = objOf([\n      defaulted('preprocess', identity$1),\n      defaulted('postprocess', identity$1)\n    ]);\n    var memento = function (mem, rawProcessors) {\n      var ps = asRawOrDie$1('RepresentingConfigs.memento processors', processors, rawProcessors);\n      return Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: function (comp) {\n            var other = mem.get(comp);\n            var rawValue = Representing.getValue(other);\n            return ps.postprocess(rawValue);\n          },\n          setValue: function (comp, rawValue) {\n            var newValue = ps.preprocess(rawValue);\n            var other = mem.get(comp);\n            Representing.setValue(other, newValue);\n          }\n        }\n      });\n    };\n    var withComp = function (optInitialValue, getter, setter) {\n      return Representing.config(deepMerge({\n        store: {\n          mode: 'manual',\n          getValue: getter,\n          setValue: setter\n        }\n      }, optInitialValue.map(function (initialValue) {\n        return { store: { initialValue: initialValue } };\n      }).getOr({})));\n    };\n    var withElement = function (initialValue, getter, setter) {\n      return withComp(initialValue, function (c) {\n        return getter(c.element);\n      }, function (c, v) {\n        return setter(c.element, v);\n      });\n    };\n    var domValue = function (optInitialValue) {\n      return withElement(optInitialValue, get$5, set$4);\n    };\n    var domHtml = function (optInitialValue) {\n      return withElement(optInitialValue, get$7, set$5);\n    };\n    var memory = function (initialValue) {\n      return Representing.config({\n        store: {\n          mode: 'memory',\n          initialValue: initialValue\n        }\n      });\n    };\n    var RepresentingConfigs = {\n      memento: memento,\n      withElement: withElement,\n      withComp: withComp,\n      domValue: domValue,\n      domHtml: domHtml,\n      memory: memory\n    };\n\n    var defaultImageFileTypes = 'jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp';\n    var filterByExtension = function (files, providersBackstage) {\n      var allowedImageFileTypes = global$5.explode(providersBackstage.getSetting('images_file_types', defaultImageFileTypes, 'string'));\n      var isFileInAllowedTypes = function (file) {\n        return exists(allowedImageFileTypes, function (type) {\n          return endsWith(file.name.toLowerCase(), '.' + type.toLowerCase());\n        });\n      };\n      return filter$2(from(files), isFileInAllowedTypes);\n    };\n    var renderDropZone = function (spec, providersBackstage) {\n      var stopper = function (_, se) {\n        se.stop();\n      };\n      var sequence = function (actions) {\n        return function (comp, se) {\n          each$1(actions, function (a) {\n            a(comp, se);\n          });\n        };\n      };\n      var onDrop = function (comp, se) {\n        if (!Disabling.isDisabled(comp)) {\n          var transferEvent = se.event.raw;\n          handleFiles(comp, transferEvent.dataTransfer.files);\n        }\n      };\n      var onSelect = function (component, simulatedEvent) {\n        var input = simulatedEvent.event.raw.target;\n        handleFiles(component, input.files);\n      };\n      var handleFiles = function (component, files) {\n        Representing.setValue(component, filterByExtension(files, providersBackstage));\n        emitWith(component, formChangeEvent, { name: spec.name });\n      };\n      var memInput = record({\n        dom: {\n          tag: 'input',\n          attributes: {\n            type: 'file',\n            accept: 'image/*'\n          },\n          styles: { display: 'none' }\n        },\n        behaviours: derive$1([config('input-file-events', [\n            cutter(click()),\n            cutter(tap())\n          ])])\n      });\n      var renderField = function (s) {\n        return {\n          uid: s.uid,\n          dom: {\n            tag: 'div',\n            classes: ['tox-dropzone-container']\n          },\n          behaviours: derive$1([\n            RepresentingConfigs.memory([]),\n            ComposingConfigs.self(),\n            Disabling.config({}),\n            Toggling.config({\n              toggleClass: 'dragenter',\n              toggleOnExecute: false\n            }),\n            config('dropzone-events', [\n              run$1('dragenter', sequence([\n                stopper,\n                Toggling.toggle\n              ])),\n              run$1('dragleave', sequence([\n                stopper,\n                Toggling.toggle\n              ])),\n              run$1('dragover', stopper),\n              run$1('drop', sequence([\n                stopper,\n                onDrop\n              ])),\n              run$1(change(), onSelect)\n            ])\n          ]),\n          components: [{\n              dom: {\n                tag: 'div',\n                classes: ['tox-dropzone'],\n                styles: {}\n              },\n              components: [\n                {\n                  dom: {\n                    tag: 'p',\n                    innerHtml: providersBackstage.translate('Drop an image here')\n                  }\n                },\n                Button.sketch({\n                  dom: {\n                    tag: 'button',\n                    innerHtml: providersBackstage.translate('Browse for an image'),\n                    styles: { position: 'relative' },\n                    classes: [\n                      'tox-button',\n                      'tox-button--secondary'\n                    ]\n                  },\n                  components: [memInput.asSpec()],\n                  action: function (comp) {\n                    var inputComp = memInput.get(comp);\n                    inputComp.element.dom.click();\n                  },\n                  buttonBehaviours: derive$1([\n                    Tabstopping.config({}),\n                    DisablingConfigs.button(providersBackstage.isDisabled),\n                    receivingConfig()\n                  ])\n                })\n              ]\n            }]\n        };\n      };\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var pField = FormField.parts.field({ factory: { sketch: renderField } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    var renderGrid = function (spec, backstage) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-form__grid',\n            'tox-form__grid--' + spec.columns + 'col'\n          ]\n        },\n        components: map$2(spec.items, backstage.interpreter)\n      };\n    };\n\n    var beforeObject = generate$6('alloy-fake-before-tabstop');\n    var afterObject = generate$6('alloy-fake-after-tabstop');\n    var craftWithClasses = function (classes) {\n      return {\n        dom: {\n          tag: 'div',\n          styles: {\n            width: '1px',\n            height: '1px',\n            outline: 'none'\n          },\n          attributes: { tabindex: '0' },\n          classes: classes\n        },\n        behaviours: derive$1([\n          Focusing.config({ ignore: true }),\n          Tabstopping.config({})\n        ])\n      };\n    };\n    var craft = function (spec) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-navobj']\n        },\n        components: [\n          craftWithClasses([beforeObject]),\n          spec,\n          craftWithClasses([afterObject])\n        ],\n        behaviours: derive$1([ComposingConfigs.childAt(1)])\n      };\n    };\n    var triggerTab = function (placeholder, shiftKey) {\n      emitWith(placeholder, keydown(), {\n        raw: {\n          which: 9,\n          shiftKey: shiftKey\n        }\n      });\n    };\n    var onFocus = function (container, targetComp) {\n      var target = targetComp.element;\n      if (has(target, beforeObject)) {\n        triggerTab(container, true);\n      } else if (has(target, afterObject)) {\n        triggerTab(container, false);\n      }\n    };\n    var isPseudoStop = function (element) {\n      return closest(element, [\n        '.' + beforeObject,\n        '.' + afterObject\n      ].join(','), never);\n    };\n\n    var platformNeedsSandboxing = !(detect$1().browser.isIE() || detect$1().browser.isEdge());\n    var getDynamicSource = function (isSandbox) {\n      var cachedValue = Cell('');\n      return {\n        getValue: function (_frameComponent) {\n          return cachedValue.get();\n        },\n        setValue: function (frameComponent, html) {\n          if (!isSandbox) {\n            set$8(frameComponent.element, 'src', 'javascript:\\'\\'');\n            var doc = frameComponent.element.dom.contentWindow.document;\n            doc.open();\n            doc.write(html);\n            doc.close();\n          } else {\n            set$8(frameComponent.element, 'srcdoc', html);\n          }\n          cachedValue.set(html);\n        }\n      };\n    };\n    var renderIFrame = function (spec, providersBackstage) {\n      var isSandbox = platformNeedsSandboxing && spec.sandboxed;\n      var attributes = __assign(__assign({}, spec.label.map(function (title) {\n        return { title: title };\n      }).getOr({})), isSandbox ? { sandbox: 'allow-scripts allow-same-origin' } : {});\n      var sourcing = getDynamicSource(isSandbox);\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var factory = function (newSpec) {\n        return craft({\n          uid: newSpec.uid,\n          dom: {\n            tag: 'iframe',\n            attributes: attributes\n          },\n          behaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({}),\n            RepresentingConfigs.withComp(Optional.none(), sourcing.getValue, sourcing.setValue)\n          ])\n        });\n      };\n      var pField = FormField.parts.field({ factory: { sketch: factory } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    var create$3 = function (width, height) {\n      return resize$3(document.createElement('canvas'), width, height);\n    };\n    var clone = function (canvas) {\n      var tCanvas = create$3(canvas.width, canvas.height);\n      var ctx = get2dContext(tCanvas);\n      ctx.drawImage(canvas, 0, 0);\n      return tCanvas;\n    };\n    var get2dContext = function (canvas) {\n      return canvas.getContext('2d');\n    };\n    var resize$3 = function (canvas, width, height) {\n      canvas.width = width;\n      canvas.height = height;\n      return canvas;\n    };\n\n    var getWidth$1 = function (image) {\n      return image.naturalWidth || image.width;\n    };\n    var getHeight$1 = function (image) {\n      return image.naturalHeight || image.height;\n    };\n\n    var blobToImage = function (blob) {\n      return new Promise$1(function (resolve, reject) {\n        var blobUrl = URL.createObjectURL(blob);\n        var image = new Image();\n        var removeListeners = function () {\n          image.removeEventListener('load', loaded);\n          image.removeEventListener('error', error);\n        };\n        var loaded = function () {\n          removeListeners();\n          resolve(image);\n        };\n        var error = function () {\n          removeListeners();\n          reject('Unable to load data of type ' + blob.type + ': ' + blobUrl);\n        };\n        image.addEventListener('load', loaded);\n        image.addEventListener('error', error);\n        image.src = blobUrl;\n        if (image.complete) {\n          setTimeout(loaded, 0);\n        }\n      });\n    };\n    var dataUriToBlobSync = function (uri) {\n      var data = uri.split(',');\n      var matches = /data:([^;]+)/.exec(data[0]);\n      if (!matches) {\n        return Optional.none();\n      }\n      var mimetype = matches[1];\n      var base64 = data[1];\n      var sliceSize = 1024;\n      var byteCharacters = atob(base64);\n      var bytesLength = byteCharacters.length;\n      var slicesCount = Math.ceil(bytesLength / sliceSize);\n      var byteArrays = new Array(slicesCount);\n      for (var sliceIndex = 0; sliceIndex < slicesCount; ++sliceIndex) {\n        var begin = sliceIndex * sliceSize;\n        var end = Math.min(begin + sliceSize, bytesLength);\n        var bytes = new Array(end - begin);\n        for (var offset = begin, i = 0; offset < end; ++i, ++offset) {\n          bytes[i] = byteCharacters[offset].charCodeAt(0);\n        }\n        byteArrays[sliceIndex] = new Uint8Array(bytes);\n      }\n      return Optional.some(new Blob(byteArrays, { type: mimetype }));\n    };\n    var dataUriToBlob = function (uri) {\n      return new Promise$1(function (resolve, reject) {\n        dataUriToBlobSync(uri).fold(function () {\n          reject('uri is not base64: ' + uri);\n        }, resolve);\n      });\n    };\n    var canvasToBlob = function (canvas, type, quality) {\n      type = type || 'image/png';\n      if (isFunction(HTMLCanvasElement.prototype.toBlob)) {\n        return new Promise$1(function (resolve, reject) {\n          canvas.toBlob(function (blob) {\n            if (blob) {\n              resolve(blob);\n            } else {\n              reject();\n            }\n          }, type, quality);\n        });\n      } else {\n        return dataUriToBlob(canvas.toDataURL(type, quality));\n      }\n    };\n    var canvasToDataURL = function (canvas, type, quality) {\n      type = type || 'image/png';\n      return canvas.toDataURL(type, quality);\n    };\n    var blobToCanvas = function (blob) {\n      return blobToImage(blob).then(function (image) {\n        revokeImageUrl(image);\n        var canvas = create$3(getWidth$1(image), getHeight$1(image));\n        var context = get2dContext(canvas);\n        context.drawImage(image, 0, 0);\n        return canvas;\n      });\n    };\n    var blobToDataUri = function (blob) {\n      return new Promise$1(function (resolve) {\n        var reader = new FileReader();\n        reader.onloadend = function () {\n          resolve(reader.result);\n        };\n        reader.readAsDataURL(blob);\n      });\n    };\n    var revokeImageUrl = function (image) {\n      URL.revokeObjectURL(image.src);\n    };\n\n    var create$2 = function (getCanvas, blob, uri) {\n      var initialType = blob.type;\n      var getType = constant$1(initialType);\n      var toBlob = function () {\n        return Promise$1.resolve(blob);\n      };\n      var toDataURL = constant$1(uri);\n      var toBase64 = function () {\n        return uri.split(',')[1];\n      };\n      var toAdjustedBlob = function (type, quality) {\n        return getCanvas.then(function (canvas) {\n          return canvasToBlob(canvas, type, quality);\n        });\n      };\n      var toAdjustedDataURL = function (type, quality) {\n        return getCanvas.then(function (canvas) {\n          return canvasToDataURL(canvas, type, quality);\n        });\n      };\n      var toAdjustedBase64 = function (type, quality) {\n        return toAdjustedDataURL(type, quality).then(function (dataurl) {\n          return dataurl.split(',')[1];\n        });\n      };\n      var toCanvas = function () {\n        return getCanvas.then(clone);\n      };\n      return {\n        getType: getType,\n        toBlob: toBlob,\n        toDataURL: toDataURL,\n        toBase64: toBase64,\n        toAdjustedBlob: toAdjustedBlob,\n        toAdjustedDataURL: toAdjustedDataURL,\n        toAdjustedBase64: toAdjustedBase64,\n        toCanvas: toCanvas\n      };\n    };\n    var fromBlob = function (blob) {\n      return blobToDataUri(blob).then(function (uri) {\n        return create$2(blobToCanvas(blob), blob, uri);\n      });\n    };\n    var fromCanvas = function (canvas, type) {\n      return canvasToBlob(canvas, type).then(function (blob) {\n        return create$2(Promise$1.resolve(canvas), blob, canvas.toDataURL());\n      });\n    };\n\n    var blobToImageResult = function (blob) {\n      return fromBlob(blob);\n    };\n\n    var clamp = function (value, min, max) {\n      var parsedValue = typeof value === 'string' ? parseFloat(value) : value;\n      if (parsedValue > max) {\n        parsedValue = max;\n      } else if (parsedValue < min) {\n        parsedValue = min;\n      }\n      return parsedValue;\n    };\n    var identity = function () {\n      return [\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ];\n    };\n    var DELTA_INDEX = [\n      0,\n      0.01,\n      0.02,\n      0.04,\n      0.05,\n      0.06,\n      0.07,\n      0.08,\n      0.1,\n      0.11,\n      0.12,\n      0.14,\n      0.15,\n      0.16,\n      0.17,\n      0.18,\n      0.2,\n      0.21,\n      0.22,\n      0.24,\n      0.25,\n      0.27,\n      0.28,\n      0.3,\n      0.32,\n      0.34,\n      0.36,\n      0.38,\n      0.4,\n      0.42,\n      0.44,\n      0.46,\n      0.48,\n      0.5,\n      0.53,\n      0.56,\n      0.59,\n      0.62,\n      0.65,\n      0.68,\n      0.71,\n      0.74,\n      0.77,\n      0.8,\n      0.83,\n      0.86,\n      0.89,\n      0.92,\n      0.95,\n      0.98,\n      1,\n      1.06,\n      1.12,\n      1.18,\n      1.24,\n      1.3,\n      1.36,\n      1.42,\n      1.48,\n      1.54,\n      1.6,\n      1.66,\n      1.72,\n      1.78,\n      1.84,\n      1.9,\n      1.96,\n      2,\n      2.12,\n      2.25,\n      2.37,\n      2.5,\n      2.62,\n      2.75,\n      2.87,\n      3,\n      3.2,\n      3.4,\n      3.6,\n      3.8,\n      4,\n      4.3,\n      4.7,\n      4.9,\n      5,\n      5.5,\n      6,\n      6.5,\n      6.8,\n      7,\n      7.3,\n      7.5,\n      7.8,\n      8,\n      8.4,\n      8.7,\n      9,\n      9.4,\n      9.6,\n      9.8,\n      10\n    ];\n    var multiply = function (matrix1, matrix2) {\n      var col = [];\n      var out = new Array(25);\n      var val;\n      for (var i = 0; i < 5; i++) {\n        for (var j = 0; j < 5; j++) {\n          col[j] = matrix2[j + i * 5];\n        }\n        for (var j = 0; j < 5; j++) {\n          val = 0;\n          for (var k = 0; k < 5; k++) {\n            val += matrix1[j + k * 5] * col[k];\n          }\n          out[j + i * 5] = val;\n        }\n      }\n      return out;\n    };\n    var adjustContrast = function (matrix, value) {\n      var x;\n      value = clamp(value, -1, 1);\n      value *= 100;\n      if (value < 0) {\n        x = 127 + value / 100 * 127;\n      } else {\n        x = value % 1;\n        if (x === 0) {\n          x = DELTA_INDEX[value];\n        } else {\n          x = DELTA_INDEX[Math.floor(value)] * (1 - x) + DELTA_INDEX[Math.floor(value) + 1] * x;\n        }\n        x = x * 127 + 127;\n      }\n      return multiply(matrix, [\n        x / 127,\n        0,\n        0,\n        0,\n        0.5 * (127 - x),\n        0,\n        x / 127,\n        0,\n        0,\n        0.5 * (127 - x),\n        0,\n        0,\n        x / 127,\n        0,\n        0.5 * (127 - x),\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n    };\n    var adjustBrightness = function (matrix, value) {\n      value = clamp(255 * value, -255, 255);\n      return multiply(matrix, [\n        1,\n        0,\n        0,\n        0,\n        value,\n        0,\n        1,\n        0,\n        0,\n        value,\n        0,\n        0,\n        1,\n        0,\n        value,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n    };\n    var adjustColors = function (matrix, adjustR, adjustG, adjustB) {\n      adjustR = clamp(adjustR, 0, 2);\n      adjustG = clamp(adjustG, 0, 2);\n      adjustB = clamp(adjustB, 0, 2);\n      return multiply(matrix, [\n        adjustR,\n        0,\n        0,\n        0,\n        0,\n        0,\n        adjustG,\n        0,\n        0,\n        0,\n        0,\n        0,\n        adjustB,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n    };\n\n    var colorFilter = function (ir, matrix) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyColorFilter(canvas, ir.getType(), matrix);\n      });\n    };\n    var applyColorFilter = function (canvas, type, matrix) {\n      var context = get2dContext(canvas);\n      var applyMatrix = function (pixelsData, m) {\n        var r, g, b, a;\n        var data = pixelsData.data, m0 = m[0], m1 = m[1], m2 = m[2], m3 = m[3], m4 = m[4], m5 = m[5], m6 = m[6], m7 = m[7], m8 = m[8], m9 = m[9], m10 = m[10], m11 = m[11], m12 = m[12], m13 = m[13], m14 = m[14], m15 = m[15], m16 = m[16], m17 = m[17], m18 = m[18], m19 = m[19];\n        for (var i = 0; i < data.length; i += 4) {\n          r = data[i];\n          g = data[i + 1];\n          b = data[i + 2];\n          a = data[i + 3];\n          data[i] = r * m0 + g * m1 + b * m2 + a * m3 + m4;\n          data[i + 1] = r * m5 + g * m6 + b * m7 + a * m8 + m9;\n          data[i + 2] = r * m10 + g * m11 + b * m12 + a * m13 + m14;\n          data[i + 3] = r * m15 + g * m16 + b * m17 + a * m18 + m19;\n        }\n        return pixelsData;\n      };\n      var pixels = applyMatrix(context.getImageData(0, 0, canvas.width, canvas.height), matrix);\n      context.putImageData(pixels, 0, 0);\n      return fromCanvas(canvas, type);\n    };\n    var convoluteFilter = function (ir, matrix) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyConvoluteFilter(canvas, ir.getType(), matrix);\n      });\n    };\n    var applyConvoluteFilter = function (canvas, type, matrix) {\n      var context = get2dContext(canvas);\n      var applyMatrix = function (pIn, pOut, aMatrix) {\n        var clamp = function (value, min, max) {\n          if (value > max) {\n            value = max;\n          } else if (value < min) {\n            value = min;\n          }\n          return value;\n        };\n        var side = Math.round(Math.sqrt(aMatrix.length));\n        var halfSide = Math.floor(side / 2);\n        var rgba = pIn.data;\n        var drgba = pOut.data;\n        var w = pIn.width;\n        var h = pIn.height;\n        for (var y = 0; y < h; y++) {\n          for (var x = 0; x < w; x++) {\n            var r = 0;\n            var g = 0;\n            var b = 0;\n            for (var cy = 0; cy < side; cy++) {\n              for (var cx = 0; cx < side; cx++) {\n                var scx = clamp(x + cx - halfSide, 0, w - 1);\n                var scy = clamp(y + cy - halfSide, 0, h - 1);\n                var innerOffset = (scy * w + scx) * 4;\n                var wt = aMatrix[cy * side + cx];\n                r += rgba[innerOffset] * wt;\n                g += rgba[innerOffset + 1] * wt;\n                b += rgba[innerOffset + 2] * wt;\n              }\n            }\n            var offset = (y * w + x) * 4;\n            drgba[offset] = clamp(r, 0, 255);\n            drgba[offset + 1] = clamp(g, 0, 255);\n            drgba[offset + 2] = clamp(b, 0, 255);\n          }\n        }\n        return pOut;\n      };\n      var pixelsIn = context.getImageData(0, 0, canvas.width, canvas.height);\n      var pixelsOut = context.getImageData(0, 0, canvas.width, canvas.height);\n      pixelsOut = applyMatrix(pixelsIn, pixelsOut, matrix);\n      context.putImageData(pixelsOut, 0, 0);\n      return fromCanvas(canvas, type);\n    };\n    var functionColorFilter = function (colorFn) {\n      var filterImpl = function (canvas, type, value) {\n        var context = get2dContext(canvas);\n        var lookup = new Array(256);\n        var applyLookup = function (pixelsData, lookupData) {\n          var data = pixelsData.data;\n          for (var i = 0; i < data.length; i += 4) {\n            data[i] = lookupData[data[i]];\n            data[i + 1] = lookupData[data[i + 1]];\n            data[i + 2] = lookupData[data[i + 2]];\n          }\n          return pixelsData;\n        };\n        for (var i = 0; i < lookup.length; i++) {\n          lookup[i] = colorFn(i, value);\n        }\n        var pixels = applyLookup(context.getImageData(0, 0, canvas.width, canvas.height), lookup);\n        context.putImageData(pixels, 0, 0);\n        return fromCanvas(canvas, type);\n      };\n      return function (ir, value) {\n        return ir.toCanvas().then(function (canvas) {\n          return filterImpl(canvas, ir.getType(), value);\n        });\n      };\n    };\n    var complexAdjustableColorFilter = function (matrixAdjustFn) {\n      return function (ir, adjust) {\n        return colorFilter(ir, matrixAdjustFn(identity(), adjust));\n      };\n    };\n    var basicColorFilter = function (matrix) {\n      return function (ir) {\n        return colorFilter(ir, matrix);\n      };\n    };\n    var basicConvolutionFilter = function (kernel) {\n      return function (ir) {\n        return convoluteFilter(ir, kernel);\n      };\n    };\n    var invert$1 = basicColorFilter([\n      -1,\n      0,\n      0,\n      0,\n      255,\n      0,\n      -1,\n      0,\n      0,\n      255,\n      0,\n      0,\n      -1,\n      0,\n      255,\n      0,\n      0,\n      0,\n      1,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1\n    ]);\n    var brightness$1 = complexAdjustableColorFilter(adjustBrightness);\n    var contrast$1 = complexAdjustableColorFilter(adjustContrast);\n    var colorize$1 = function (ir, adjustR, adjustG, adjustB) {\n      return colorFilter(ir, adjustColors(identity(), adjustR, adjustG, adjustB));\n    };\n    var sharpen$1 = basicConvolutionFilter([\n      0,\n      -1,\n      0,\n      -1,\n      5,\n      -1,\n      0,\n      -1,\n      0\n    ]);\n    var gamma$1 = functionColorFilter(function (color, value) {\n      return Math.pow(color / 255, 1 - value) * 255;\n    });\n\n    var scale = function (image, dW, dH) {\n      var sW = getWidth$1(image);\n      var sH = getHeight$1(image);\n      var wRatio = dW / sW;\n      var hRatio = dH / sH;\n      var scaleCapped = false;\n      if (wRatio < 0.5 || wRatio > 2) {\n        wRatio = wRatio < 0.5 ? 0.5 : 2;\n        scaleCapped = true;\n      }\n      if (hRatio < 0.5 || hRatio > 2) {\n        hRatio = hRatio < 0.5 ? 0.5 : 2;\n        scaleCapped = true;\n      }\n      var scaled = _scale(image, wRatio, hRatio);\n      return !scaleCapped ? scaled : scaled.then(function (tCanvas) {\n        return scale(tCanvas, dW, dH);\n      });\n    };\n    var _scale = function (image, wRatio, hRatio) {\n      return new Promise$1(function (resolve) {\n        var sW = getWidth$1(image);\n        var sH = getHeight$1(image);\n        var dW = Math.floor(sW * wRatio);\n        var dH = Math.floor(sH * hRatio);\n        var canvas = create$3(dW, dH);\n        var context = get2dContext(canvas);\n        context.drawImage(image, 0, 0, sW, sH, 0, 0, dW, dH);\n        resolve(canvas);\n      });\n    };\n\n    var ceilWithPrecision = function (num, precision) {\n      if (precision === void 0) {\n        precision = 2;\n      }\n      var mul = Math.pow(10, precision);\n      var upper = Math.round(num * mul);\n      return Math.ceil(upper / mul);\n    };\n    var rotate$1 = function (ir, angle) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyRotate(canvas, ir.getType(), angle);\n      });\n    };\n    var applyRotate = function (image, type, angle) {\n      var degrees = angle < 0 ? 360 + angle : angle;\n      var rad = degrees * Math.PI / 180;\n      var width = image.width;\n      var height = image.height;\n      var sin = Math.sin(rad);\n      var cos = Math.cos(rad);\n      var newWidth = ceilWithPrecision(Math.abs(width * cos) + Math.abs(height * sin));\n      var newHeight = ceilWithPrecision(Math.abs(width * sin) + Math.abs(height * cos));\n      var canvas = create$3(newWidth, newHeight);\n      var context = get2dContext(canvas);\n      context.translate(newWidth / 2, newHeight / 2);\n      context.rotate(rad);\n      context.drawImage(image, -width / 2, -height / 2);\n      return fromCanvas(canvas, type);\n    };\n    var flip$1 = function (ir, axis) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyFlip(canvas, ir.getType(), axis);\n      });\n    };\n    var applyFlip = function (image, type, axis) {\n      var canvas = create$3(image.width, image.height);\n      var context = get2dContext(canvas);\n      if (axis === 'v') {\n        context.scale(1, -1);\n        context.drawImage(image, 0, -canvas.height);\n      } else {\n        context.scale(-1, 1);\n        context.drawImage(image, -canvas.width, 0);\n      }\n      return fromCanvas(canvas, type);\n    };\n    var crop$1 = function (ir, x, y, w, h) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyCrop(canvas, ir.getType(), x, y, w, h);\n      });\n    };\n    var applyCrop = function (image, type, x, y, w, h) {\n      var canvas = create$3(w, h);\n      var context = get2dContext(canvas);\n      context.drawImage(image, -x, -y);\n      return fromCanvas(canvas, type);\n    };\n    var resize$2 = function (ir, w, h) {\n      return ir.toCanvas().then(function (canvas) {\n        return scale(canvas, w, h).then(function (newCanvas) {\n          return fromCanvas(newCanvas, ir.getType());\n        });\n      });\n    };\n\n    var invert = function (ir) {\n      return invert$1(ir);\n    };\n    var sharpen = function (ir) {\n      return sharpen$1(ir);\n    };\n    var gamma = function (ir, value) {\n      return gamma$1(ir, value);\n    };\n    var colorize = function (ir, adjustR, adjustG, adjustB) {\n      return colorize$1(ir, adjustR, adjustG, adjustB);\n    };\n    var brightness = function (ir, adjust) {\n      return brightness$1(ir, adjust);\n    };\n    var contrast = function (ir, adjust) {\n      return contrast$1(ir, adjust);\n    };\n    var flip = function (ir, axis) {\n      return flip$1(ir, axis);\n    };\n    var crop = function (ir, x, y, w, h) {\n      return crop$1(ir, x, y, w, h);\n    };\n    var resize$1 = function (ir, w, h) {\n      return resize$2(ir, w, h);\n    };\n    var rotate = function (ir, angle) {\n      return rotate$1(ir, angle);\n    };\n\n    var renderIcon = function (iconName, iconsProvider, behaviours) {\n      return render$3(iconName, {\n        tag: 'span',\n        classes: [\n          'tox-icon',\n          'tox-tbtn__icon-wrap'\n        ],\n        behaviours: behaviours\n      }, iconsProvider);\n    };\n    var renderIconFromPack = function (iconName, iconsProvider) {\n      return renderIcon(iconName, iconsProvider, []);\n    };\n    var renderReplacableIconFromPack = function (iconName, iconsProvider) {\n      return renderIcon(iconName, iconsProvider, [Replacing.config({})]);\n    };\n    var renderLabel$1 = function (text, prefix, providersBackstage) {\n      return {\n        dom: {\n          tag: 'span',\n          innerHtml: providersBackstage.translate(text),\n          classes: [prefix + '__select-label']\n        },\n        behaviours: derive$1([Replacing.config({})])\n      };\n    };\n\n    var _a;\n    var internalToolbarButtonExecute = generate$6('toolbar.button.execute');\n    var onToolbarButtonExecute = function (info) {\n      return runOnExecute$1(function (comp, _simulatedEvent) {\n        runWithApi(info, comp)(function (itemApi) {\n          emitWith(comp, internalToolbarButtonExecute, { buttonApi: itemApi });\n          info.onAction(itemApi);\n        });\n      });\n    };\n    var toolbarButtonEventOrder = (_a = {}, _a[execute$5()] = [\n      'disabling',\n      'alloy.base.behaviour',\n      'toggling',\n      'toolbar-button-events'\n    ], _a);\n\n    var updateMenuText = generate$6('update-menu-text');\n    var updateMenuIcon = generate$6('update-menu-icon');\n    var renderCommonDropdown = function (spec, prefix, sharedBackstage) {\n      var editorOffCell = Cell(noop);\n      var optMemDisplayText = spec.text.map(function (text) {\n        return record(renderLabel$1(text, prefix, sharedBackstage.providers));\n      });\n      var optMemDisplayIcon = spec.icon.map(function (iconName) {\n        return record(renderReplacableIconFromPack(iconName, sharedBackstage.providers.icons));\n      });\n      var onLeftOrRightInMenu = function (comp, se) {\n        var dropdown = Representing.getValue(comp);\n        Focusing.focus(dropdown);\n        emitWith(dropdown, 'keydown', { raw: se.event.raw });\n        Dropdown.close(dropdown);\n        return Optional.some(true);\n      };\n      var role = spec.role.fold(function () {\n        return {};\n      }, function (role) {\n        return { role: role };\n      });\n      var tooltipAttributes = spec.tooltip.fold(function () {\n        return {};\n      }, function (tooltip) {\n        var translatedTooltip = sharedBackstage.providers.translate(tooltip);\n        return {\n          'title': translatedTooltip,\n          'aria-label': translatedTooltip\n        };\n      });\n      var iconSpec = render$3('chevron-down', {\n        tag: 'div',\n        classes: [prefix + '__select-chevron']\n      }, sharedBackstage.providers.icons);\n      var memDropdown = record(Dropdown.sketch(__assign(__assign(__assign({}, spec.uid ? { uid: spec.uid } : {}), role), {\n        dom: {\n          tag: 'button',\n          classes: [\n            prefix,\n            prefix + '--select'\n          ].concat(map$2(spec.classes, function (c) {\n            return prefix + '--' + c;\n          })),\n          attributes: __assign({}, tooltipAttributes)\n        },\n        components: componentRenderPipeline([\n          optMemDisplayIcon.map(function (mem) {\n            return mem.asSpec();\n          }),\n          optMemDisplayText.map(function (mem) {\n            return mem.asSpec();\n          }),\n          Optional.some(iconSpec)\n        ]),\n        matchWidth: true,\n        useMinWidth: true,\n        dropdownBehaviours: derive$1(__spreadArray(__spreadArray([], spec.dropdownBehaviours, true), [\n          DisablingConfigs.button(function () {\n            return spec.disabled || sharedBackstage.providers.isDisabled();\n          }),\n          receivingConfig(),\n          Unselecting.config({}),\n          Replacing.config({}),\n          config('dropdown-events', [\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          config('menubutton-update-display-text', [\n            run$1(updateMenuText, function (comp, se) {\n              optMemDisplayText.bind(function (mem) {\n                return mem.getOpt(comp);\n              }).each(function (displayText) {\n                Replacing.set(displayText, [text$1(sharedBackstage.providers.translate(se.event.text))]);\n              });\n            }),\n            run$1(updateMenuIcon, function (comp, se) {\n              optMemDisplayIcon.bind(function (mem) {\n                return mem.getOpt(comp);\n              }).each(function (displayIcon) {\n                Replacing.set(displayIcon, [renderReplacableIconFromPack(se.event.icon, sharedBackstage.providers.icons)]);\n              });\n            })\n          ])\n        ], false)),\n        eventOrder: deepMerge(toolbarButtonEventOrder, {\n          mousedown: [\n            'focusing',\n            'alloy.base.behaviour',\n            'item-type-events',\n            'normal-dropdown-events'\n          ]\n        }),\n        sandboxBehaviours: derive$1([Keying.config({\n            mode: 'special',\n            onLeft: onLeftOrRightInMenu,\n            onRight: onLeftOrRightInMenu\n          })]),\n        lazySink: sharedBackstage.getSink,\n        toggleClass: prefix + '--active',\n        parts: { menu: part(false, spec.columns, spec.presets) },\n        fetch: function (comp) {\n          return Future.nu(curry(spec.fetch, comp));\n        }\n      })));\n      return memDropdown.asSpec();\n    };\n\n    var isMenuItemReference = function (item) {\n      return isString(item);\n    };\n    var isSeparator$1 = function (item) {\n      return item.type === 'separator';\n    };\n    var isExpandingMenuItem = function (item) {\n      return has$2(item, 'getSubmenuItems');\n    };\n    var separator$2 = { type: 'separator' };\n    var unwrapReferences = function (items, menuItems) {\n      var realItems = foldl(items, function (acc, item) {\n        if (isMenuItemReference(item)) {\n          if (item === '') {\n            return acc;\n          } else if (item === '|') {\n            return acc.length > 0 && !isSeparator$1(acc[acc.length - 1]) ? acc.concat([separator$2]) : acc;\n          } else if (has$2(menuItems, item.toLowerCase())) {\n            return acc.concat([menuItems[item.toLowerCase()]]);\n          } else {\n            return acc;\n          }\n        } else {\n          return acc.concat([item]);\n        }\n      }, []);\n      if (realItems.length > 0 && isSeparator$1(realItems[realItems.length - 1])) {\n        realItems.pop();\n      }\n      return realItems;\n    };\n    var getFromExpandingItem = function (item, menuItems) {\n      var submenuItems = item.getSubmenuItems();\n      var rest = expand(submenuItems, menuItems);\n      var newMenus = deepMerge(rest.menus, wrap$1(item.value, rest.items));\n      var newExpansions = deepMerge(rest.expansions, wrap$1(item.value, item.value));\n      return {\n        item: item,\n        menus: newMenus,\n        expansions: newExpansions\n      };\n    };\n    var getFromItem = function (item, menuItems) {\n      return isExpandingMenuItem(item) ? getFromExpandingItem(item, menuItems) : {\n        item: item,\n        menus: {},\n        expansions: {}\n      };\n    };\n    var generateValueIfRequired = function (item) {\n      if (isSeparator$1(item)) {\n        return item;\n      } else {\n        var itemValue = get$e(item, 'value').getOrThunk(function () {\n          return generate$6('generated-menu-item');\n        });\n        return deepMerge({ value: itemValue }, item);\n      }\n    };\n    var expand = function (items, menuItems) {\n      var realItems = unwrapReferences(isString(items) ? items.split(' ') : items, menuItems);\n      return foldr(realItems, function (acc, item) {\n        var itemWithValue = generateValueIfRequired(item);\n        var newData = getFromItem(itemWithValue, menuItems);\n        return {\n          menus: deepMerge(acc.menus, newData.menus),\n          items: [newData.item].concat(acc.items),\n          expansions: deepMerge(acc.expansions, newData.expansions)\n        };\n      }, {\n        menus: {},\n        expansions: {},\n        items: []\n      });\n    };\n\n    var build = function (items, itemResponse, backstage, isHorizontalMenu) {\n      var primary = generate$6('primary-menu');\n      var data = expand(items, backstage.shared.providers.menuItems());\n      if (data.items.length === 0) {\n        return Optional.none();\n      }\n      var mainMenu = createPartialMenu(primary, data.items, itemResponse, backstage, isHorizontalMenu);\n      var submenus = map$1(data.menus, function (menuItems, menuName) {\n        return createPartialMenu(menuName, menuItems, itemResponse, backstage, false);\n      });\n      var menus = deepMerge(submenus, wrap$1(primary, mainMenu));\n      return Optional.from(tieredMenu.tieredData(primary, menus, data.expansions));\n    };\n\n    var getMenuButtonApi = function (component) {\n      return {\n        isDisabled: function () {\n          return Disabling.isDisabled(component);\n        },\n        setDisabled: function (state) {\n          return Disabling.set(component, state);\n        },\n        setActive: function (state) {\n          var elm = component.element;\n          if (state) {\n            add$2(elm, 'tox-tbtn--enabled');\n            set$8(elm, 'aria-pressed', true);\n          } else {\n            remove$2(elm, 'tox-tbtn--enabled');\n            remove$7(elm, 'aria-pressed');\n          }\n        },\n        isActive: function () {\n          return has(component.element, 'tox-tbtn--enabled');\n        }\n      };\n    };\n    var renderMenuButton = function (spec, prefix, backstage, role) {\n      return renderCommonDropdown({\n        text: spec.text,\n        icon: spec.icon,\n        tooltip: spec.tooltip,\n        role: role,\n        fetch: function (_comp, callback) {\n          spec.fetch(function (items) {\n            callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false));\n          });\n        },\n        onSetup: spec.onSetup,\n        getApi: getMenuButtonApi,\n        columns: 1,\n        presets: 'normal',\n        classes: [],\n        dropdownBehaviours: [Tabstopping.config({})]\n      }, prefix, backstage.shared);\n    };\n    var getFetch = function (items, getButton, backstage) {\n      var getMenuItemAction = function (item) {\n        return function (api) {\n          var newValue = !api.isActive();\n          api.setActive(newValue);\n          item.storage.set(newValue);\n          backstage.shared.getSink().each(function (sink) {\n            getButton().getOpt(sink).each(function (orig) {\n              focus$3(orig.element);\n              emitWith(orig, formActionEvent, {\n                name: item.name,\n                value: item.storage.get()\n              });\n            });\n          });\n        };\n      };\n      var getMenuItemSetup = function (item) {\n        return function (api) {\n          api.setActive(item.storage.get());\n        };\n      };\n      return function (success) {\n        success(map$2(items, function (item) {\n          var text = item.text.fold(function () {\n            return {};\n          }, function (text) {\n            return { text: text };\n          });\n          return __assign(__assign({\n            type: item.type,\n            active: false\n          }, text), {\n            onAction: getMenuItemAction(item),\n            onSetup: getMenuItemSetup(item)\n          });\n        }));\n      };\n    };\n\n    var renderCommonSpec = function (spec, actionOpt, extraBehaviours, dom, components, providersBackstage) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      var action = actionOpt.fold(function () {\n        return {};\n      }, function (action) {\n        return { action: action };\n      });\n      var common = __assign({\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(function () {\n            return spec.disabled || providersBackstage.isDisabled();\n          }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          config('button press', [\n            preventDefault('click'),\n            preventDefault('mousedown')\n          ])\n        ].concat(extraBehaviours)),\n        eventOrder: {\n          click: [\n            'button press',\n            'alloy.base.behaviour'\n          ],\n          mousedown: [\n            'button press',\n            'alloy.base.behaviour'\n          ]\n        }\n      }, action);\n      var domFinal = deepMerge(common, { dom: dom });\n      return deepMerge(domFinal, { components: components });\n    };\n    var renderIconButtonSpec = function (spec, action, providersBackstage, extraBehaviours) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      var tooltipAttributes = spec.tooltip.map(function (tooltip) {\n        return {\n          'aria-label': providersBackstage.translate(tooltip),\n          'title': providersBackstage.translate(tooltip)\n        };\n      }).getOr({});\n      var dom = {\n        tag: 'button',\n        classes: ['tox-tbtn'],\n        attributes: tooltipAttributes\n      };\n      var icon = spec.icon.map(function (iconName) {\n        return renderIconFromPack(iconName, providersBackstage.icons);\n      });\n      var components = componentRenderPipeline([icon]);\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, providersBackstage);\n    };\n    var renderIconButton = function (spec, action, providersBackstage, extraBehaviours) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      var iconButtonSpec = renderIconButtonSpec(spec, Optional.some(action), providersBackstage, extraBehaviours);\n      return Button.sketch(iconButtonSpec);\n    };\n    var renderButtonSpec = function (spec, action, providersBackstage, extraBehaviours, extraClasses) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      if (extraClasses === void 0) {\n        extraClasses = [];\n      }\n      var translatedText = providersBackstage.translate(spec.text);\n      var icon = spec.icon ? spec.icon.map(function (iconName) {\n        return renderIconFromPack(iconName, providersBackstage.icons);\n      }) : Optional.none();\n      var components = icon.isSome() ? componentRenderPipeline([icon]) : [];\n      var innerHtml = icon.isSome() ? {} : { innerHtml: translatedText };\n      var classes = __spreadArray(__spreadArray(__spreadArray(__spreadArray([], !spec.primary && !spec.borderless ? [\n        'tox-button',\n        'tox-button--secondary'\n      ] : ['tox-button'], true), icon.isSome() ? ['tox-button--icon'] : [], true), spec.borderless ? ['tox-button--naked'] : [], true), extraClasses, true);\n      var dom = __assign(__assign({\n        tag: 'button',\n        classes: classes\n      }, innerHtml), { attributes: { title: translatedText } });\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, providersBackstage);\n    };\n    var renderButton = function (spec, action, providersBackstage, extraBehaviours, extraClasses) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      if (extraClasses === void 0) {\n        extraClasses = [];\n      }\n      var buttonSpec = renderButtonSpec(spec, Optional.some(action), providersBackstage, extraBehaviours, extraClasses);\n      return Button.sketch(buttonSpec);\n    };\n    var getAction = function (name, buttonType) {\n      return function (comp) {\n        if (buttonType === 'custom') {\n          emitWith(comp, formActionEvent, {\n            name: name,\n            value: {}\n          });\n        } else if (buttonType === 'submit') {\n          emit(comp, formSubmitEvent);\n        } else if (buttonType === 'cancel') {\n          emit(comp, formCancelEvent);\n        } else {\n          console.error('Unknown button type: ', buttonType);\n        }\n      };\n    };\n    var isMenuFooterButtonSpec = function (spec, buttonType) {\n      return buttonType === 'menu';\n    };\n    var isNormalFooterButtonSpec = function (spec, buttonType) {\n      return buttonType === 'custom' || buttonType === 'cancel' || buttonType === 'submit';\n    };\n    var renderFooterButton = function (spec, buttonType, backstage) {\n      if (isMenuFooterButtonSpec(spec, buttonType)) {\n        var getButton = function () {\n          return memButton_1;\n        };\n        var menuButtonSpec = spec;\n        var fixedSpec = __assign(__assign({}, spec), {\n          onSetup: function (api) {\n            api.setDisabled(spec.disabled);\n            return noop;\n          },\n          fetch: getFetch(menuButtonSpec.items, getButton, backstage)\n        });\n        var memButton_1 = record(renderMenuButton(fixedSpec, 'tox-tbtn', backstage, Optional.none()));\n        return memButton_1.asSpec();\n      } else if (isNormalFooterButtonSpec(spec, buttonType)) {\n        var action = getAction(spec.name, buttonType);\n        var buttonSpec = __assign(__assign({}, spec), { borderless: false });\n        return renderButton(buttonSpec, action, backstage.shared.providers, []);\n      } else {\n        console.error('Unknown footer button type: ', buttonType);\n      }\n    };\n    var renderDialogButton = function (spec, providersBackstage) {\n      var action = getAction(spec.name, 'custom');\n      return renderFormField(Optional.none(), FormField.parts.field(__assign({ factory: Button }, renderButtonSpec(spec, Optional.some(action), providersBackstage, [\n        RepresentingConfigs.memory(''),\n        ComposingConfigs.self()\n      ]))));\n    };\n\n    var schema$h = constant$1([\n      defaulted('field1Name', 'field1'),\n      defaulted('field2Name', 'field2'),\n      onStrictHandler('onLockedChange'),\n      markers$1(['lockClass']),\n      defaulted('locked', false),\n      SketchBehaviours.field('coupledFieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    var getField = function (comp, detail, partName) {\n      return getPart(comp, detail, partName).bind(Composing.getCurrent);\n    };\n    var coupledPart = function (selfName, otherName) {\n      return required({\n        factory: FormField,\n        name: selfName,\n        overrides: function (detail) {\n          return {\n            fieldBehaviours: derive$1([config('coupled-input-behaviour', [run$1(input(), function (me) {\n                  getField(me, detail, otherName).each(function (other) {\n                    getPart(me, detail, 'lock').each(function (lock) {\n                      if (Toggling.isOn(lock)) {\n                        detail.onLockedChange(me, other, lock);\n                      }\n                    });\n                  });\n                })])])\n          };\n        }\n      });\n    };\n    var parts$c = constant$1([\n      coupledPart('field1', 'field2'),\n      coupledPart('field2', 'field1'),\n      required({\n        factory: Button,\n        schema: [required$1('dom')],\n        name: 'lock',\n        overrides: function (detail) {\n          return {\n            buttonBehaviours: derive$1([Toggling.config({\n                selected: detail.locked,\n                toggleClass: detail.markers.lockClass,\n                aria: { mode: 'pressed' }\n              })])\n          };\n        }\n      })\n    ]);\n\n    var factory$f = function (detail, components, _spec, _externals) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: SketchBehaviours.augment(detail.coupledFieldBehaviours, [\n          Composing.config({ find: Optional.some }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (comp) {\n                var _a;\n                var parts = getPartsOrDie(comp, detail, [\n                  'field1',\n                  'field2'\n                ]);\n                return _a = {}, _a[detail.field1Name] = Representing.getValue(parts.field1()), _a[detail.field2Name] = Representing.getValue(parts.field2()), _a;\n              },\n              setValue: function (comp, value) {\n                var parts = getPartsOrDie(comp, detail, [\n                  'field1',\n                  'field2'\n                ]);\n                if (hasNonNullableKey(value, detail.field1Name)) {\n                  Representing.setValue(parts.field1(), value[detail.field1Name]);\n                }\n                if (hasNonNullableKey(value, detail.field2Name)) {\n                  Representing.setValue(parts.field2(), value[detail.field2Name]);\n                }\n              }\n            }\n          })\n        ]),\n        apis: {\n          getField1: function (component) {\n            return getPart(component, detail, 'field1');\n          },\n          getField2: function (component) {\n            return getPart(component, detail, 'field2');\n          },\n          getLock: function (component) {\n            return getPart(component, detail, 'lock');\n          }\n        }\n      };\n    };\n    var FormCoupledInputs = composite({\n      name: 'FormCoupledInputs',\n      configFields: schema$h(),\n      partFields: parts$c(),\n      factory: factory$f,\n      apis: {\n        getField1: function (apis, component) {\n          return apis.getField1(component);\n        },\n        getField2: function (apis, component) {\n          return apis.getField2(component);\n        },\n        getLock: function (apis, component) {\n          return apis.getLock(component);\n        }\n      }\n    });\n\n    var formatSize = function (size) {\n      var unitDec = {\n        '': 0,\n        'px': 0,\n        'pt': 1,\n        'mm': 1,\n        'pc': 2,\n        'ex': 2,\n        'em': 2,\n        'ch': 2,\n        'rem': 2,\n        'cm': 3,\n        'in': 4,\n        '%': 4\n      };\n      var maxDecimal = function (unit) {\n        return unit in unitDec ? unitDec[unit] : 1;\n      };\n      var numText = size.value.toFixed(maxDecimal(size.unit));\n      if (numText.indexOf('.') !== -1) {\n        numText = numText.replace(/\\.?0*$/, '');\n      }\n      return numText + size.unit;\n    };\n    var parseSize = function (sizeText) {\n      var numPattern = /^\\s*(\\d+(?:\\.\\d+)?)\\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\\s*$/;\n      var match = numPattern.exec(sizeText);\n      if (match !== null) {\n        var value = parseFloat(match[1]);\n        var unit = match[2];\n        return Result.value({\n          value: value,\n          unit: unit\n        });\n      } else {\n        return Result.error(sizeText);\n      }\n    };\n    var convertUnit = function (size, unit) {\n      var inInch = {\n        '': 96,\n        'px': 96,\n        'pt': 72,\n        'cm': 2.54,\n        'pc': 12,\n        'mm': 25.4,\n        'in': 1\n      };\n      var supported = function (u) {\n        return has$2(inInch, u);\n      };\n      if (size.unit === unit) {\n        return Optional.some(size.value);\n      } else if (supported(size.unit) && supported(unit)) {\n        if (inInch[size.unit] === inInch[unit]) {\n          return Optional.some(size.value);\n        } else {\n          return Optional.some(size.value / inInch[size.unit] * inInch[unit]);\n        }\n      } else {\n        return Optional.none();\n      }\n    };\n    var noSizeConversion = function (_input) {\n      return Optional.none();\n    };\n    var ratioSizeConversion = function (scale, unit) {\n      return function (size) {\n        return convertUnit(size, unit).map(function (value) {\n          return {\n            value: value * scale,\n            unit: unit\n          };\n        });\n      };\n    };\n    var makeRatioConverter = function (currentFieldText, otherFieldText) {\n      var cValue = parseSize(currentFieldText).toOptional();\n      var oValue = parseSize(otherFieldText).toOptional();\n      return lift2(cValue, oValue, function (cSize, oSize) {\n        return convertUnit(cSize, oSize.unit).map(function (val) {\n          return oSize.value / val;\n        }).map(function (r) {\n          return ratioSizeConversion(r, oSize.unit);\n        }).getOr(noSizeConversion);\n      }).getOr(noSizeConversion);\n    };\n\n    var renderSizeInput = function (spec, providersBackstage) {\n      var converter = noSizeConversion;\n      var ratioEvent = generate$6('ratio-event');\n      var makeIcon = function (iconName) {\n        return render$3(iconName, {\n          tag: 'span',\n          classes: [\n            'tox-icon',\n            'tox-lock-icon__' + iconName\n          ]\n        }, providersBackstage.icons);\n      };\n      var pLock = FormCoupledInputs.parts.lock({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-lock',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ],\n          attributes: { title: providersBackstage.translate(spec.label.getOr('Constrain proportions')) }\n        },\n        components: [\n          makeIcon('lock'),\n          makeIcon('unlock')\n        ],\n        buttonBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            }\n          }),\n          receivingConfig(),\n          Tabstopping.config({})\n        ])\n      });\n      var formGroup = function (components) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group']\n          },\n          components: components\n        };\n      };\n      var getFieldPart = function (isField1) {\n        return FormField.parts.field({\n          factory: Input,\n          inputClasses: ['tox-textfield'],\n          inputBehaviours: derive$1([\n            Disabling.config({\n              disabled: function () {\n                return spec.disabled || providersBackstage.isDisabled();\n              }\n            }),\n            receivingConfig(),\n            Tabstopping.config({}),\n            config('size-input-events', [\n              run$1(focusin(), function (component, _simulatedEvent) {\n                emitWith(component, ratioEvent, { isField1: isField1 });\n              }),\n              run$1(change(), function (component, _simulatedEvent) {\n                emitWith(component, formChangeEvent, { name: spec.name });\n              })\n            ])\n          ]),\n          selectOnFocus: false\n        });\n      };\n      var getLabel = function (label) {\n        return {\n          dom: {\n            tag: 'label',\n            classes: ['tox-label'],\n            innerHtml: providersBackstage.translate(label)\n          }\n        };\n      };\n      var widthField = FormCoupledInputs.parts.field1(formGroup([\n        FormField.parts.label(getLabel('Width')),\n        getFieldPart(true)\n      ]));\n      var heightField = FormCoupledInputs.parts.field2(formGroup([\n        FormField.parts.label(getLabel('Height')),\n        getFieldPart(false)\n      ]));\n      return FormCoupledInputs.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-form__controls-h-stack']\n            },\n            components: [\n              widthField,\n              heightField,\n              formGroup([\n                getLabel('&nbsp;'),\n                pLock\n              ])\n            ]\n          }],\n        field1Name: 'width',\n        field2Name: 'height',\n        locked: true,\n        markers: { lockClass: 'tox-locked' },\n        onLockedChange: function (current, other, _lock) {\n          parseSize(Representing.getValue(current)).each(function (size) {\n            converter(size).each(function (newSize) {\n              Representing.setValue(other, formatSize(newSize));\n            });\n          });\n        },\n        coupledFieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            },\n            onDisabled: function (comp) {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getLock(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getLock(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig(),\n          config('size-input-events2', [run$1(ratioEvent, function (component, simulatedEvent) {\n              var isField1 = simulatedEvent.event.isField1;\n              var optCurrent = isField1 ? FormCoupledInputs.getField1(component) : FormCoupledInputs.getField2(component);\n              var optOther = isField1 ? FormCoupledInputs.getField2(component) : FormCoupledInputs.getField1(component);\n              var value1 = optCurrent.map(Representing.getValue).getOr('');\n              var value2 = optOther.map(Representing.getValue).getOr('');\n              converter = makeRatioConverter(value1, value2);\n            })])\n        ])\n      });\n    };\n\n    var undo = constant$1(generate$6('undo'));\n    var redo = constant$1(generate$6('redo'));\n    var zoom = constant$1(generate$6('zoom'));\n    var back = constant$1(generate$6('back'));\n    var apply = constant$1(generate$6('apply'));\n    var swap = constant$1(generate$6('swap'));\n    var transform$1 = constant$1(generate$6('transform'));\n    var tempTransform = constant$1(generate$6('temp-transform'));\n    var transformApply = constant$1(generate$6('transform-apply'));\n    var internal = {\n      undo: undo,\n      redo: redo,\n      zoom: zoom,\n      back: back,\n      apply: apply,\n      swap: swap,\n      transform: transform$1,\n      tempTransform: tempTransform,\n      transformApply: transformApply\n    };\n    var saveState = constant$1('save-state');\n    var disable = constant$1('disable');\n    var enable = constant$1('enable');\n    var external = {\n      formActionEvent: formActionEvent,\n      saveState: saveState,\n      disable: disable,\n      enable: enable\n    };\n\n    var renderEditPanel = function (imagePanel, providersBackstage) {\n      var createButton = function (text, action, disabled, primary) {\n        return record(renderButton({\n          name: text,\n          text: text,\n          disabled: disabled,\n          primary: primary,\n          icon: Optional.none(),\n          borderless: false\n        }, action, providersBackstage));\n      };\n      var createIconButton = function (icon, tooltip, action, disabled) {\n        return record(renderIconButton({\n          name: icon,\n          icon: Optional.some(icon),\n          tooltip: Optional.some(tooltip),\n          disabled: disabled,\n          primary: false,\n          borderless: false\n        }, action, providersBackstage));\n      };\n      var disableAllComponents = function (comps, eventcomp) {\n        comps.map(function (mem) {\n          var component = mem.get(eventcomp);\n          if (component.hasConfigured(Disabling)) {\n            Disabling.disable(component);\n          }\n        });\n      };\n      var enableAllComponents = function (comps, eventcomp) {\n        comps.map(function (mem) {\n          var component = mem.get(eventcomp);\n          if (component.hasConfigured(Disabling)) {\n            Disabling.enable(component);\n          }\n        });\n      };\n      var panelDom = {\n        tag: 'div',\n        classes: [\n          'tox-image-tools__toolbar',\n          'tox-image-tools-edit-panel'\n        ]\n      };\n      var noop$1 = noop;\n      var emit$1 = function (comp, event, data) {\n        emitWith(comp, event, data);\n      };\n      var emitDisable = function (component) {\n        return emit(component, external.disable());\n      };\n      var emitEnable = function (component) {\n        return emit(component, external.enable());\n      };\n      var emitTransform = function (comp, transform) {\n        emitDisable(comp);\n        emit$1(comp, internal.transform(), { transform: transform });\n        emitEnable(comp);\n      };\n      var emitTempTransform = function (comp, transform) {\n        emitDisable(comp);\n        emit$1(comp, internal.tempTransform(), { transform: transform });\n        emitEnable(comp);\n      };\n      var getBackSwap = function (anyInSystem) {\n        return function () {\n          memContainer.getOpt(anyInSystem).each(function (container) {\n            Replacing.set(container, [ButtonPanel]);\n          });\n        };\n      };\n      var emitTransformApply = function (comp, transform) {\n        emitDisable(comp);\n        emit$1(comp, internal.transformApply(), {\n          transform: transform,\n          swap: getBackSwap(comp)\n        });\n        emitEnable(comp);\n      };\n      var createBackButton = function () {\n        return createButton('Back', function (button) {\n          return emit$1(button, internal.back(), { swap: getBackSwap(button) });\n        }, false, false);\n      };\n      var createSpacer = function () {\n        return record({\n          dom: {\n            tag: 'div',\n            classes: ['tox-spacer']\n          },\n          behaviours: derive$1([Disabling.config({})])\n        });\n      };\n      var createApplyButton = function () {\n        return createButton('Apply', function (button) {\n          return emit$1(button, internal.apply(), { swap: getBackSwap(button) });\n        }, true, true);\n      };\n      var makeCropTransform = function () {\n        return function (ir) {\n          var rect = imagePanel.getRect();\n          return crop(ir, rect.x, rect.y, rect.w, rect.h);\n        };\n      };\n      var cropPanelComponents = [\n        createBackButton(),\n        createSpacer(),\n        createButton('Apply', function (button) {\n          var transform = makeCropTransform();\n          emitTransformApply(button, transform);\n          imagePanel.hideCrop();\n        }, false, true)\n      ];\n      var CropPanel = Container.sketch({\n        dom: panelDom,\n        components: cropPanelComponents.map(function (mem) {\n          return mem.asSpec();\n        }),\n        containerBehaviours: derive$1([config('image-tools-crop-buttons-events', [\n            run$1(external.disable(), function (comp, _se) {\n              disableAllComponents(cropPanelComponents, comp);\n            }),\n            run$1(external.enable(), function (comp, _se) {\n              enableAllComponents(cropPanelComponents, comp);\n            })\n          ])])\n      });\n      var memSize = record(renderSizeInput({\n        name: 'size',\n        label: Optional.none(),\n        constrain: true,\n        disabled: false\n      }, providersBackstage));\n      var makeResizeTransform = function (width, height) {\n        return function (ir) {\n          return resize$1(ir, width, height);\n        };\n      };\n      var resizePanelComponents = [\n        createBackButton(),\n        createSpacer(),\n        memSize,\n        createSpacer(),\n        createButton('Apply', function (button) {\n          memSize.getOpt(button).each(function (sizeInput) {\n            var value = Representing.getValue(sizeInput);\n            var width = parseInt(value.width, 10);\n            var height = parseInt(value.height, 10);\n            var transform = makeResizeTransform(width, height);\n            emitTransformApply(button, transform);\n          });\n        }, false, true)\n      ];\n      var ResizePanel = Container.sketch({\n        dom: panelDom,\n        components: resizePanelComponents.map(function (mem) {\n          return mem.asSpec();\n        }),\n        containerBehaviours: derive$1([config('image-tools-resize-buttons-events', [\n            run$1(external.disable(), function (comp, _se) {\n              disableAllComponents(resizePanelComponents, comp);\n            }),\n            run$1(external.enable(), function (comp, _se) {\n              enableAllComponents(resizePanelComponents, comp);\n            })\n          ])])\n      });\n      var makeValueTransform = function (transform, value) {\n        return function (ir) {\n          return transform(ir, value);\n        };\n      };\n      var horizontalFlip = makeValueTransform(flip, 'h');\n      var verticalFlip = makeValueTransform(flip, 'v');\n      var counterclockwiseRotate = makeValueTransform(rotate, -90);\n      var clockwiseRotate = makeValueTransform(rotate, 90);\n      var flipRotateOnAction = function (comp, operation) {\n        emitTempTransform(comp, operation);\n      };\n      var flipRotateComponents = [\n        createBackButton(),\n        createSpacer(),\n        createIconButton('flip-horizontally', 'Flip horizontally', function (button) {\n          flipRotateOnAction(button, horizontalFlip);\n        }, false),\n        createIconButton('flip-vertically', 'Flip vertically', function (button) {\n          flipRotateOnAction(button, verticalFlip);\n        }, false),\n        createIconButton('rotate-left', 'Rotate counterclockwise', function (button) {\n          flipRotateOnAction(button, counterclockwiseRotate);\n        }, false),\n        createIconButton('rotate-right', 'Rotate clockwise', function (button) {\n          flipRotateOnAction(button, clockwiseRotate);\n        }, false),\n        createSpacer(),\n        createApplyButton()\n      ];\n      var FlipRotatePanel = Container.sketch({\n        dom: panelDom,\n        components: flipRotateComponents.map(function (mem) {\n          return mem.asSpec();\n        }),\n        containerBehaviours: derive$1([config('image-tools-fliprotate-buttons-events', [\n            run$1(external.disable(), function (comp, _se) {\n              disableAllComponents(flipRotateComponents, comp);\n            }),\n            run$1(external.enable(), function (comp, _se) {\n              enableAllComponents(flipRotateComponents, comp);\n            })\n          ])])\n      });\n      var makeSlider = function (label, onChoose, min, value, max) {\n        var labelPart = Slider.parts.label({\n          dom: {\n            tag: 'label',\n            classes: ['tox-label'],\n            innerHtml: providersBackstage.translate(label)\n          }\n        });\n        var spectrum = Slider.parts.spectrum({\n          dom: {\n            tag: 'div',\n            classes: ['tox-slider__rail'],\n            attributes: { role: 'presentation' }\n          }\n        });\n        var thumb = Slider.parts.thumb({\n          dom: {\n            tag: 'div',\n            classes: ['tox-slider__handle'],\n            attributes: { role: 'presentation' }\n          }\n        });\n        return record(Slider.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-slider'],\n            attributes: { role: 'presentation' }\n          },\n          model: {\n            mode: 'x',\n            minX: min,\n            maxX: max,\n            getInitialValue: constant$1({ x: value })\n          },\n          components: [\n            labelPart,\n            spectrum,\n            thumb\n          ],\n          sliderBehaviours: derive$1([Focusing.config({})]),\n          onChoose: onChoose\n        }));\n      };\n      var makeVariableSlider = function (label, transform, min, value, max) {\n        var onChoose = function (slider, _thumb, value) {\n          var valTransform = makeValueTransform(transform, value.x / 100);\n          emitTransform(slider, valTransform);\n        };\n        return makeSlider(label, onChoose, min, value, max);\n      };\n      var variableFilterPanelComponents = function (label, transform, min, value, max) {\n        return [\n          createBackButton(),\n          makeVariableSlider(label, transform, min, value, max),\n          createApplyButton()\n        ];\n      };\n      var createVariableFilterPanel = function (label, transform, min, value, max) {\n        var filterPanelComponents = variableFilterPanelComponents(label, transform, min, value, max);\n        return Container.sketch({\n          dom: panelDom,\n          components: filterPanelComponents.map(function (mem) {\n            return mem.asSpec();\n          }),\n          containerBehaviours: derive$1([config('image-tools-filter-panel-buttons-events', [\n              run$1(external.disable(), function (comp, _se) {\n                disableAllComponents(filterPanelComponents, comp);\n              }),\n              run$1(external.enable(), function (comp, _se) {\n                enableAllComponents(filterPanelComponents, comp);\n              })\n            ])])\n        });\n      };\n      var filterPanelComponents = [\n        createBackButton(),\n        createSpacer(),\n        createApplyButton()\n      ];\n      var FilterPanel = Container.sketch({\n        dom: panelDom,\n        components: filterPanelComponents.map(function (mem) {\n          return mem.asSpec();\n        })\n      });\n      var BrightnessPanel = createVariableFilterPanel('Brightness', brightness, -100, 0, 100);\n      var ContrastPanel = createVariableFilterPanel('Contrast', contrast, -100, 0, 100);\n      var GammaPanel = createVariableFilterPanel('Gamma', gamma, -100, 0, 100);\n      var makeColorTransform = function (red, green, blue) {\n        return function (ir) {\n          return colorize(ir, red, green, blue);\n        };\n      };\n      var makeColorSlider = function (label) {\n        var onChoose = function (slider, _thumb, _value) {\n          var redOpt = memRed.getOpt(slider);\n          var blueOpt = memBlue.getOpt(slider);\n          var greenOpt = memGreen.getOpt(slider);\n          redOpt.each(function (red) {\n            blueOpt.each(function (blue) {\n              greenOpt.each(function (green) {\n                var r = Representing.getValue(red).x / 100;\n                var g = Representing.getValue(green).x / 100;\n                var b = Representing.getValue(blue).x / 100;\n                var transform = makeColorTransform(r, g, b);\n                emitTransform(slider, transform);\n              });\n            });\n          });\n        };\n        return makeSlider(label, onChoose, 0, 100, 200);\n      };\n      var memRed = makeColorSlider('R');\n      var memGreen = makeColorSlider('G');\n      var memBlue = makeColorSlider('B');\n      var colorizePanelComponents = [\n        createBackButton(),\n        memRed,\n        memGreen,\n        memBlue,\n        createApplyButton()\n      ];\n      var ColorizePanel = Container.sketch({\n        dom: panelDom,\n        components: colorizePanelComponents.map(function (mem) {\n          return mem.asSpec();\n        })\n      });\n      var getTransformPanelEvent = function (panel, transform, update) {\n        return function (button) {\n          var swap = function () {\n            memContainer.getOpt(button).each(function (container) {\n              Replacing.set(container, [panel]);\n              update(container);\n            });\n          };\n          emit$1(button, internal.swap(), {\n            transform: transform,\n            swap: swap\n          });\n        };\n      };\n      var cropPanelUpdate = function (_anyInSystem) {\n        imagePanel.showCrop();\n      };\n      var resizePanelUpdate = function (anyInSystem) {\n        memSize.getOpt(anyInSystem).each(function (sizeInput) {\n          var measurements = imagePanel.getMeasurements();\n          var width = measurements.width;\n          var height = measurements.height;\n          Representing.setValue(sizeInput, {\n            width: width,\n            height: height\n          });\n        });\n      };\n      var sharpenTransform = Optional.some(sharpen);\n      var invertTransform = Optional.some(invert);\n      var buttonPanelComponents = [\n        createIconButton('crop', 'Crop', getTransformPanelEvent(CropPanel, Optional.none(), cropPanelUpdate), false),\n        createIconButton('resize', 'Resize', getTransformPanelEvent(ResizePanel, Optional.none(), resizePanelUpdate), false),\n        createIconButton('orientation', 'Orientation', getTransformPanelEvent(FlipRotatePanel, Optional.none(), noop$1), false),\n        createIconButton('brightness', 'Brightness', getTransformPanelEvent(BrightnessPanel, Optional.none(), noop$1), false),\n        createIconButton('sharpen', 'Sharpen', getTransformPanelEvent(FilterPanel, sharpenTransform, noop$1), false),\n        createIconButton('contrast', 'Contrast', getTransformPanelEvent(ContrastPanel, Optional.none(), noop$1), false),\n        createIconButton('color-levels', 'Color levels', getTransformPanelEvent(ColorizePanel, Optional.none(), noop$1), false),\n        createIconButton('gamma', 'Gamma', getTransformPanelEvent(GammaPanel, Optional.none(), noop$1), false),\n        createIconButton('invert', 'Invert', getTransformPanelEvent(FilterPanel, invertTransform, noop$1), false)\n      ];\n      var ButtonPanel = Container.sketch({\n        dom: panelDom,\n        components: buttonPanelComponents.map(function (mem) {\n          return mem.asSpec();\n        })\n      });\n      var container = Container.sketch({\n        dom: { tag: 'div' },\n        components: [ButtonPanel],\n        containerBehaviours: derive$1([Replacing.config({})])\n      });\n      var memContainer = record(container);\n      var getApplyButton = function (anyInSystem) {\n        return memContainer.getOpt(anyInSystem).map(function (container) {\n          var panel = container.components()[0];\n          return panel.components()[panel.components().length - 1];\n        });\n      };\n      return {\n        memContainer: memContainer,\n        getApplyButton: getApplyButton\n      };\n    };\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.geom.Rect');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Observable');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    var getDocumentSize = function (doc) {\n      var max = Math.max;\n      var documentElement = doc.documentElement;\n      var body = doc.body;\n      var scrollWidth = max(documentElement.scrollWidth, body.scrollWidth);\n      var clientWidth = max(documentElement.clientWidth, body.clientWidth);\n      var offsetWidth = max(documentElement.offsetWidth, body.offsetWidth);\n      var scrollHeight = max(documentElement.scrollHeight, body.scrollHeight);\n      var clientHeight = max(documentElement.clientHeight, body.clientHeight);\n      var offsetHeight = max(documentElement.offsetHeight, body.offsetHeight);\n      return {\n        width: scrollWidth < offsetWidth ? clientWidth : scrollWidth,\n        height: scrollHeight < offsetHeight ? clientHeight : scrollHeight\n      };\n    };\n    var isTouchEvent$1 = function (e) {\n      return isNonNullable(e.changedTouches);\n    };\n    var updateWithTouchData = function (e) {\n      if (isTouchEvent$1(e)) {\n        var keys = 'screenX screenY pageX pageY clientX clientY'.split(' ');\n        for (var i = 0; i < keys.length; i++) {\n          e[keys[i]] = e.changedTouches[0][keys[i]];\n        }\n      }\n    };\n    function DragHelper (id, settings) {\n      var _a, _b, _c;\n      var eventOverlay;\n      var handleEvents = [];\n      var overlayEvents = [];\n      var doc = (_a = settings.document) !== null && _a !== void 0 ? _a : document;\n      var root = (_b = settings.root) !== null && _b !== void 0 ? _b : doc;\n      var sugarDoc = SugarElement.fromDom(doc);\n      var downButton;\n      var startX;\n      var startY;\n      var handleElement = SugarElement.fromDom(root.getElementById((_c = settings.handle) !== null && _c !== void 0 ? _c : id));\n      var start = function (e) {\n        var rawEvent = e.raw;\n        var docSize = getDocumentSize(doc);\n        updateWithTouchData(rawEvent);\n        e.prevent();\n        downButton = rawEvent.button;\n        startX = rawEvent.screenX;\n        startY = rawEvent.screenY;\n        var cursor = get$c(handleElement, 'cursor');\n        eventOverlay = SugarElement.fromTag('div', doc);\n        setAll(eventOverlay, {\n          'position': 'absolute',\n          'top': '0',\n          'left': '0',\n          'width': docSize.width + 'px',\n          'height': docSize.height + 'px',\n          'z-index': 2147483647 + '',\n          'opacity': '0.0001',\n          cursor: cursor\n        });\n        append$2(getBody(sugarDoc), eventOverlay);\n        overlayEvents.push(bind(sugarDoc, 'mousemove', drag), bind(sugarDoc, 'touchmove', drag), bind(sugarDoc, 'mouseup', stop), bind(sugarDoc, 'touchend', stop));\n        settings.start(rawEvent);\n      };\n      var drag = function (e) {\n        var rawEvent = e.raw;\n        updateWithTouchData(rawEvent);\n        if (rawEvent.button !== downButton) {\n          return stop(e);\n        }\n        rawEvent.deltaX = rawEvent.screenX - startX;\n        rawEvent.deltaY = rawEvent.screenY - startY;\n        e.prevent();\n        settings.drag(rawEvent);\n      };\n      var stop = function (e) {\n        updateWithTouchData(e.raw);\n        each$1(overlayEvents, function (e) {\n          return e.unbind();\n        });\n        overlayEvents = [];\n        remove$5(eventOverlay);\n        if (settings.stop) {\n          settings.stop(e.raw);\n        }\n      };\n      var destroy = function () {\n        each$1(overlayEvents.concat(handleEvents), function (e) {\n          return e.unbind();\n        });\n        overlayEvents = [];\n        handleEvents = [];\n        if (isNonNullable(eventOverlay)) {\n          remove$5(eventOverlay);\n        }\n      };\n      handleEvents.push(bind(handleElement, 'mousedown', start), bind(handleElement, 'touchstart', start));\n      return { destroy: destroy };\n    }\n\n    var count = 0;\n    var create$1 = function (currentRect, viewPortRect, clampRect, containerElm, action) {\n      var dragHelpers;\n      var events = [];\n      var prefix = 'tox-';\n      var id = prefix + 'crid-' + count++;\n      var container = SugarElement.fromDom(containerElm);\n      var handles = [\n        {\n          name: 'move',\n          xMul: 0,\n          yMul: 0,\n          deltaX: 1,\n          deltaY: 1,\n          deltaW: 0,\n          deltaH: 0,\n          label: 'Crop Mask'\n        },\n        {\n          name: 'nw',\n          xMul: 0,\n          yMul: 0,\n          deltaX: 1,\n          deltaY: 1,\n          deltaW: -1,\n          deltaH: -1,\n          label: 'Top Left Crop Handle'\n        },\n        {\n          name: 'ne',\n          xMul: 1,\n          yMul: 0,\n          deltaX: 0,\n          deltaY: 1,\n          deltaW: 1,\n          deltaH: -1,\n          label: 'Top Right Crop Handle'\n        },\n        {\n          name: 'sw',\n          xMul: 0,\n          yMul: 1,\n          deltaX: 1,\n          deltaY: 0,\n          deltaW: -1,\n          deltaH: 1,\n          label: 'Bottom Left Crop Handle'\n        },\n        {\n          name: 'se',\n          xMul: 1,\n          yMul: 1,\n          deltaX: 0,\n          deltaY: 0,\n          deltaW: 1,\n          deltaH: 1,\n          label: 'Bottom Right Crop Handle'\n        }\n      ];\n      var blockers = [\n        'top',\n        'right',\n        'bottom',\n        'left'\n      ];\n      var getAbsoluteRect = function (outerRect, relativeRect) {\n        return {\n          x: relativeRect.x + outerRect.x,\n          y: relativeRect.y + outerRect.y,\n          w: relativeRect.w,\n          h: relativeRect.h\n        };\n      };\n      var getRelativeRect = function (outerRect, innerRect) {\n        return {\n          x: innerRect.x - outerRect.x,\n          y: innerRect.y - outerRect.y,\n          w: innerRect.w,\n          h: innerRect.h\n        };\n      };\n      var getInnerRect = function () {\n        return getRelativeRect(clampRect, currentRect);\n      };\n      var moveRect = function (handle, startRect, deltaX, deltaY) {\n        var x = startRect.x + deltaX * handle.deltaX;\n        var y = startRect.y + deltaY * handle.deltaY;\n        var w = Math.max(20, startRect.w + deltaX * handle.deltaW);\n        var h = Math.max(20, startRect.h + deltaY * handle.deltaH);\n        var rect = currentRect = global$4.clamp({\n          x: x,\n          y: y,\n          w: w,\n          h: h\n        }, clampRect, handle.name === 'move');\n        rect = getRelativeRect(clampRect, rect);\n        instance.fire('updateRect', { rect: rect });\n        setInnerRect(rect);\n      };\n      var render = function () {\n        var createDragHelper = function (handle) {\n          var startRect;\n          return DragHelper(id, {\n            document: containerElm.ownerDocument,\n            root: getRootNode(container).dom,\n            handle: id + '-' + handle.name,\n            start: function () {\n              startRect = currentRect;\n            },\n            drag: function (e) {\n              moveRect(handle, startRect, e.deltaX, e.deltaY);\n            }\n          });\n        };\n        var cropContainer = SugarElement.fromTag('div');\n        setAll$1(cropContainer, {\n          id: id,\n          'class': prefix + 'croprect-container',\n          'role': 'grid',\n          'aria-dropeffect': 'execute'\n        });\n        append$2(container, cropContainer);\n        each$1(blockers, function (blocker) {\n          descendant(container, '#' + id).each(function (blockerElm) {\n            var cropBlocker = SugarElement.fromTag('div');\n            setAll$1(cropBlocker, {\n              'id': id + '-' + blocker,\n              'class': prefix + 'croprect-block',\n              'data-mce-bogus': 'all'\n            });\n            set$7(cropBlocker, 'display', 'none');\n            append$2(blockerElm, cropBlocker);\n          });\n        });\n        each$1(handles, function (handle) {\n          descendant(container, '#' + id).each(function (handleElm) {\n            var cropHandle = SugarElement.fromTag('div');\n            setAll$1(cropHandle, {\n              'id': id + '-' + handle.name,\n              'aria-label': handle.label,\n              'aria-grabbed': 'false',\n              'data-mce-bogus': 'all',\n              'role': 'gridcell',\n              'tabindex': '-1',\n              'title': handle.label\n            });\n            add$1(cropHandle, [\n              prefix + 'croprect-handle',\n              prefix + 'croprect-handle-' + handle.name\n            ]);\n            set$7(cropHandle, 'display', 'none');\n            append$2(handleElm, cropHandle);\n          });\n        });\n        dragHelpers = map$2(handles, createDragHelper);\n        repaint(currentRect);\n        var handleFocus = function (e) {\n          set$8(e.target, 'aria-grabbed', e.raw.type === 'focus' ? 'true' : 'false');\n        };\n        var handleKeydown = function (e) {\n          var activeHandle;\n          each$1(handles, function (handle) {\n            if (get$d(e.target, 'id') === id + '-' + handle.name) {\n              activeHandle = handle;\n              return false;\n            }\n          });\n          var moveAndBlock = function (evt, handle, startRect, deltaX, deltaY) {\n            evt.stopPropagation();\n            evt.preventDefault();\n            moveRect(activeHandle, startRect, deltaX, deltaY);\n          };\n          switch (e.raw.keyCode) {\n          case global$2.LEFT:\n            moveAndBlock(e, activeHandle, currentRect, -10, 0);\n            break;\n          case global$2.RIGHT:\n            moveAndBlock(e, activeHandle, currentRect, 10, 0);\n            break;\n          case global$2.UP:\n            moveAndBlock(e, activeHandle, currentRect, 0, -10);\n            break;\n          case global$2.DOWN:\n            moveAndBlock(e, activeHandle, currentRect, 0, 10);\n            break;\n          case global$2.ENTER:\n          case global$2.SPACEBAR:\n            e.prevent();\n            action();\n            break;\n          }\n        };\n        events.push(bind(container, 'focusin', handleFocus), bind(container, 'focusout', handleFocus), bind(container, 'keydown', handleKeydown));\n      };\n      var toggleVisibility = function (state) {\n        var selectors = __spreadArray(__spreadArray([], map$2(handles, function (handle) {\n          return '#' + id + '-' + handle.name;\n        }), true), map$2(blockers, function (blocker) {\n          return '#' + id + '-' + blocker;\n        }), true).join(',');\n        var elems = descendants(container, selectors);\n        if (state) {\n          each$1(elems, function (elm) {\n            return remove$6(elm, 'display');\n          });\n        } else {\n          each$1(elems, function (elm) {\n            return set$7(elm, 'display', 'none');\n          });\n        }\n      };\n      var repaint = function (rect) {\n        var updateElementRect = function (name, newRect) {\n          descendant(container, '#' + id + '-' + name).each(function (elm) {\n            setAll(elm, {\n              left: newRect.x + 'px',\n              top: newRect.y + 'px',\n              width: Math.max(0, newRect.w) + 'px',\n              height: Math.max(0, newRect.h) + 'px'\n            });\n          });\n        };\n        each$1(handles, function (handle) {\n          descendant(container, '#' + id + '-' + handle.name).each(function (elm) {\n            setAll(elm, {\n              left: rect.w * handle.xMul + rect.x + 'px',\n              top: rect.h * handle.yMul + rect.y + 'px'\n            });\n          });\n        });\n        updateElementRect('top', {\n          x: viewPortRect.x,\n          y: viewPortRect.y,\n          w: viewPortRect.w,\n          h: rect.y - viewPortRect.y\n        });\n        updateElementRect('right', {\n          x: rect.x + rect.w,\n          y: rect.y,\n          w: viewPortRect.w - rect.x - rect.w + viewPortRect.x,\n          h: rect.h\n        });\n        updateElementRect('bottom', {\n          x: viewPortRect.x,\n          y: rect.y + rect.h,\n          w: viewPortRect.w,\n          h: viewPortRect.h - rect.y - rect.h + viewPortRect.y\n        });\n        updateElementRect('left', {\n          x: viewPortRect.x,\n          y: rect.y,\n          w: rect.x - viewPortRect.x,\n          h: rect.h\n        });\n        updateElementRect('move', rect);\n      };\n      var setRect = function (rect) {\n        currentRect = rect;\n        repaint(currentRect);\n      };\n      var setViewPortRect = function (rect) {\n        viewPortRect = rect;\n        repaint(currentRect);\n      };\n      var setInnerRect = function (rect) {\n        setRect(getAbsoluteRect(clampRect, rect));\n      };\n      var setClampRect = function (rect) {\n        clampRect = rect;\n        repaint(currentRect);\n      };\n      var destroy = function () {\n        each$1(dragHelpers, function (helper) {\n          return helper.destroy();\n        });\n        dragHelpers = [];\n        each$1(events, function (e) {\n          return e.unbind();\n        });\n        events = [];\n      };\n      render();\n      var instance = __assign(__assign({}, global$3), {\n        toggleVisibility: toggleVisibility,\n        setClampRect: setClampRect,\n        setRect: setRect,\n        getInnerRect: getInnerRect,\n        setInnerRect: setInnerRect,\n        setViewPortRect: setViewPortRect,\n        destroy: destroy\n      });\n      return instance;\n    };\n    var CropRect = { create: create$1 };\n\n    var loadImage = function (image) {\n      return new global$c(function (resolve) {\n        var loaded = function () {\n          image.removeEventListener('load', loaded);\n          resolve(image);\n        };\n        if (image.complete) {\n          resolve(image);\n        } else {\n          image.addEventListener('load', loaded);\n        }\n      });\n    };\n    var renderImagePanel = function (initialUrl) {\n      var memBg = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-image-tools__image-bg'],\n          attributes: { role: 'presentation' }\n        }\n      });\n      var zoomState = Cell(1);\n      var cropRect = api$1();\n      var rectState = Cell({\n        x: 0,\n        y: 0,\n        w: 1,\n        h: 1\n      });\n      var viewRectState = Cell({\n        x: 0,\n        y: 0,\n        w: 1,\n        h: 1\n      });\n      var repaintImg = function (anyInSystem, img) {\n        memContainer.getOpt(anyInSystem).each(function (panel) {\n          var zoom = zoomState.get();\n          var panelW = get$a(panel.element);\n          var panelH = get$b(panel.element);\n          var width = img.dom.naturalWidth * zoom;\n          var height = img.dom.naturalHeight * zoom;\n          var left = Math.max(0, panelW / 2 - width / 2);\n          var top = Math.max(0, panelH / 2 - height / 2);\n          var css = {\n            left: left.toString() + 'px',\n            top: top.toString() + 'px',\n            width: width.toString() + 'px',\n            height: height.toString() + 'px',\n            position: 'absolute'\n          };\n          setAll(img, css);\n          memBg.getOpt(panel).each(function (bg) {\n            setAll(bg.element, css);\n          });\n          cropRect.run(function (cRect) {\n            var rect = rectState.get();\n            cRect.setRect({\n              x: rect.x * zoom + left,\n              y: rect.y * zoom + top,\n              w: rect.w * zoom,\n              h: rect.h * zoom\n            });\n            cRect.setClampRect({\n              x: left,\n              y: top,\n              w: width,\n              h: height\n            });\n            cRect.setViewPortRect({\n              x: 0,\n              y: 0,\n              w: panelW,\n              h: panelH\n            });\n          });\n        });\n      };\n      var zoomFit = function (anyInSystem, img) {\n        memContainer.getOpt(anyInSystem).each(function (panel) {\n          var panelW = get$a(panel.element);\n          var panelH = get$b(panel.element);\n          var width = img.dom.naturalWidth;\n          var height = img.dom.naturalHeight;\n          var zoom = Math.min(panelW / width, panelH / height);\n          if (zoom >= 1) {\n            zoomState.set(1);\n          } else {\n            zoomState.set(zoom);\n          }\n        });\n      };\n      var updateSrc = function (anyInSystem, url) {\n        var img = SugarElement.fromTag('img');\n        set$8(img, 'src', url);\n        return loadImage(img.dom).then(function () {\n          if (anyInSystem.getSystem().isConnected()) {\n            memContainer.getOpt(anyInSystem).map(function (panel) {\n              var aImg = external$2({ element: img });\n              Replacing.replaceAt(panel, 1, Optional.some(aImg));\n              var lastViewRect = viewRectState.get();\n              var viewRect = {\n                x: 0,\n                y: 0,\n                w: img.dom.naturalWidth,\n                h: img.dom.naturalHeight\n              };\n              viewRectState.set(viewRect);\n              var rect = global$4.inflate(viewRect, -20, -20);\n              rectState.set(rect);\n              if (lastViewRect.w !== viewRect.w || lastViewRect.h !== viewRect.h) {\n                zoomFit(panel, img);\n              }\n              repaintImg(panel, img);\n            });\n          }\n        });\n      };\n      var zoom = function (anyInSystem, direction) {\n        var currentZoom = zoomState.get();\n        var newZoom = direction > 0 ? Math.min(2, currentZoom + 0.1) : Math.max(0.1, currentZoom - 0.1);\n        zoomState.set(newZoom);\n        memContainer.getOpt(anyInSystem).each(function (panel) {\n          var img = panel.components()[1].element;\n          repaintImg(panel, img);\n        });\n      };\n      var showCrop = function () {\n        cropRect.run(function (cRect) {\n          cRect.toggleVisibility(true);\n        });\n      };\n      var hideCrop = function () {\n        cropRect.run(function (cRect) {\n          cRect.toggleVisibility(false);\n        });\n      };\n      var getRect = function () {\n        return rectState.get();\n      };\n      var container = Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-image-tools__image']\n        },\n        components: [\n          memBg.asSpec(),\n          {\n            dom: {\n              tag: 'img',\n              attributes: { src: initialUrl }\n            }\n          },\n          {\n            dom: { tag: 'div' },\n            behaviours: derive$1([config('image-panel-crop-events', [\n                runOnAttached(function (comp) {\n                  memContainer.getOpt(comp).each(function (container) {\n                    var el = container.element.dom;\n                    var cRect = CropRect.create({\n                      x: 10,\n                      y: 10,\n                      w: 100,\n                      h: 100\n                    }, {\n                      x: 0,\n                      y: 0,\n                      w: 200,\n                      h: 200\n                    }, {\n                      x: 0,\n                      y: 0,\n                      w: 200,\n                      h: 200\n                    }, el, noop);\n                    cRect.toggleVisibility(false);\n                    cRect.on('updateRect', function (e) {\n                      var rect = e.rect;\n                      var zoom = zoomState.get();\n                      var newRect = {\n                        x: Math.round(rect.x / zoom),\n                        y: Math.round(rect.y / zoom),\n                        w: Math.round(rect.w / zoom),\n                        h: Math.round(rect.h / zoom)\n                      };\n                      rectState.set(newRect);\n                    });\n                    cropRect.set(cRect);\n                  });\n                }),\n                runOnDetached(function () {\n                  cropRect.clear();\n                })\n              ])])\n          }\n        ],\n        containerBehaviours: derive$1([\n          Replacing.config({}),\n          config('image-panel-events', [runOnAttached(function (comp) {\n              updateSrc(comp, initialUrl);\n            })])\n        ])\n      });\n      var memContainer = record(container);\n      var getMeasurements = function () {\n        var viewRect = viewRectState.get();\n        return {\n          width: viewRect.w,\n          height: viewRect.h\n        };\n      };\n      return {\n        memContainer: memContainer,\n        updateSrc: updateSrc,\n        zoom: zoom,\n        showCrop: showCrop,\n        hideCrop: hideCrop,\n        getRect: getRect,\n        getMeasurements: getMeasurements\n      };\n    };\n\n    var createButton = function (innerHtml, icon, disabled, action, providersBackstage) {\n      return renderIconButton({\n        name: innerHtml,\n        icon: Optional.some(icon),\n        disabled: disabled,\n        tooltip: Optional.some(innerHtml),\n        primary: false,\n        borderless: false\n      }, action, providersBackstage);\n    };\n    var setButtonEnabled = function (button, enabled) {\n      if (enabled) {\n        Disabling.enable(button);\n      } else {\n        Disabling.disable(button);\n      }\n    };\n    var renderSideBar = function (providersBackstage) {\n      var updateButtonUndoStates = function (anyInSystem, undoEnabled, redoEnabled) {\n        memUndo.getOpt(anyInSystem).each(function (undo) {\n          setButtonEnabled(undo, undoEnabled);\n        });\n        memRedo.getOpt(anyInSystem).each(function (redo) {\n          setButtonEnabled(redo, redoEnabled);\n        });\n      };\n      var memUndo = record(createButton('Undo', 'undo', true, function (button) {\n        emitWith(button, internal.undo(), { direction: 1 });\n      }, providersBackstage));\n      var memRedo = record(createButton('Redo', 'redo', true, function (button) {\n        emitWith(button, internal.redo(), { direction: 1 });\n      }, providersBackstage));\n      var container = Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-image-tools__toolbar',\n            'tox-image-tools__sidebar'\n          ]\n        },\n        components: [\n          memUndo.asSpec(),\n          memRedo.asSpec(),\n          createButton('Zoom in', 'zoom-in', false, function (button) {\n            emitWith(button, internal.zoom(), { direction: 1 });\n          }, providersBackstage),\n          createButton('Zoom out', 'zoom-out', false, function (button) {\n            emitWith(button, internal.zoom(), { direction: -1 });\n          }, providersBackstage)\n        ]\n      });\n      return {\n        container: container,\n        updateButtonUndoStates: updateButtonUndoStates\n      };\n    };\n\n    function UndoStack () {\n      var data = [];\n      var index = -1;\n      var add = function (state) {\n        var removed = data.splice(++index);\n        data.push(state);\n        return {\n          state: state,\n          removed: removed\n        };\n      };\n      var undo = function () {\n        if (canUndo()) {\n          return data[--index];\n        }\n      };\n      var redo = function () {\n        if (canRedo()) {\n          return data[++index];\n        }\n      };\n      var canUndo = function () {\n        return index > 0;\n      };\n      var canRedo = function () {\n        return index !== -1 && index < data.length - 1;\n      };\n      return {\n        data: data,\n        add: add,\n        undo: undo,\n        redo: redo,\n        canUndo: canUndo,\n        canRedo: canRedo\n      };\n    }\n\n    var makeState = function (initialState) {\n      var blobState = Cell(initialState);\n      var tempState = value$1();\n      var undoStack = UndoStack();\n      undoStack.add(initialState);\n      var getBlobState = function () {\n        return blobState.get();\n      };\n      var setBlobState = function (state) {\n        blobState.set(state);\n      };\n      var getTempState = function () {\n        return tempState.get().getOrThunk(blobState.get);\n      };\n      var updateTempState = function (blob) {\n        var newTempState = createState(blob);\n        destroyTempState();\n        tempState.set(newTempState);\n        return newTempState.url;\n      };\n      var createState = function (blob) {\n        return {\n          blob: blob,\n          url: URL.createObjectURL(blob)\n        };\n      };\n      var destroyState = function (state) {\n        URL.revokeObjectURL(state.url);\n      };\n      var destroyStates = function (states) {\n        global$5.each(states, destroyState);\n      };\n      var destroyTempState = function () {\n        tempState.on(destroyState);\n        tempState.clear();\n      };\n      var addBlobState = function (blob) {\n        var newState = createState(blob);\n        setBlobState(newState);\n        var removed = undoStack.add(newState).removed;\n        destroyStates(removed);\n        return newState.url;\n      };\n      var addTempState = function (blob) {\n        var newState = createState(blob);\n        tempState.set(newState);\n        return newState.url;\n      };\n      var applyTempState = function (postApply) {\n        return tempState.get().fold(noop, function (temp) {\n          addBlobState(temp.blob);\n          postApply();\n        });\n      };\n      var undo = function () {\n        var currentState = undoStack.undo();\n        setBlobState(currentState);\n        return currentState.url;\n      };\n      var redo = function () {\n        var currentState = undoStack.redo();\n        setBlobState(currentState);\n        return currentState.url;\n      };\n      var getHistoryStates = function () {\n        var undoEnabled = undoStack.canUndo();\n        var redoEnabled = undoStack.canRedo();\n        return {\n          undoEnabled: undoEnabled,\n          redoEnabled: redoEnabled\n        };\n      };\n      return {\n        getBlobState: getBlobState,\n        setBlobState: setBlobState,\n        addBlobState: addBlobState,\n        getTempState: getTempState,\n        updateTempState: updateTempState,\n        addTempState: addTempState,\n        applyTempState: applyTempState,\n        destroyTempState: destroyTempState,\n        undo: undo,\n        redo: redo,\n        getHistoryStates: getHistoryStates\n      };\n    };\n\n    var renderImageTools = function (detail, providersBackstage) {\n      var state = makeState(detail.currentState);\n      var zoom = function (anyInSystem, simulatedEvent) {\n        var direction = simulatedEvent.event.direction;\n        imagePanel.zoom(anyInSystem, direction);\n      };\n      var updateButtonUndoStates = function (anyInSystem) {\n        var historyStates = state.getHistoryStates();\n        sideBar.updateButtonUndoStates(anyInSystem, historyStates.undoEnabled, historyStates.redoEnabled);\n        emitWith(anyInSystem, external.formActionEvent, {\n          name: external.saveState(),\n          value: historyStates.undoEnabled\n        });\n      };\n      var disableUndoRedo = function (anyInSystem) {\n        sideBar.updateButtonUndoStates(anyInSystem, false, false);\n      };\n      var undo = function (anyInSystem, _simulatedEvent) {\n        var url = state.undo();\n        updateSrc(anyInSystem, url).then(function (_oImg) {\n          unblock(anyInSystem);\n          updateButtonUndoStates(anyInSystem);\n        });\n      };\n      var redo = function (anyInSystem, _simulatedEvent) {\n        var url = state.redo();\n        updateSrc(anyInSystem, url).then(function (_oImg) {\n          unblock(anyInSystem);\n          updateButtonUndoStates(anyInSystem);\n        });\n      };\n      var imageResultToBlob = function (ir) {\n        return ir.toBlob();\n      };\n      var block = function (anyInSystem) {\n        emitWith(anyInSystem, external.formActionEvent, {\n          name: external.disable(),\n          value: {}\n        });\n      };\n      var unblock = function (anyInSystem) {\n        editPanel.getApplyButton(anyInSystem).each(function (applyButton) {\n          Disabling.enable(applyButton);\n        });\n        emitWith(anyInSystem, external.formActionEvent, {\n          name: external.enable(),\n          value: {}\n        });\n      };\n      var updateSrc = function (anyInSystem, src) {\n        block(anyInSystem);\n        return imagePanel.updateSrc(anyInSystem, src);\n      };\n      var blobManipulate = function (anyInSystem, blob, filter, action, swap) {\n        block(anyInSystem);\n        blobToImageResult(blob).then(filter).then(imageResultToBlob).then(action).then(function (url) {\n          return updateSrc(anyInSystem, url);\n        }).then(function () {\n          updateButtonUndoStates(anyInSystem);\n          swap();\n          unblock(anyInSystem);\n        }).catch(function (err) {\n          console.log(err);\n          if (anyInSystem.getSystem().isConnected()) {\n            unblock(anyInSystem);\n          }\n        });\n      };\n      var manipulate = function (anyInSystem, filter, swap) {\n        var blob = state.getBlobState().blob;\n        var action = function (blob) {\n          return state.updateTempState(blob);\n        };\n        blobManipulate(anyInSystem, blob, filter, action, swap);\n      };\n      var tempManipulate = function (anyInSystem, filter) {\n        var blob = state.getTempState().blob;\n        var action = function (blob) {\n          return state.addTempState(blob);\n        };\n        blobManipulate(anyInSystem, blob, filter, action, noop);\n      };\n      var manipulateApply = function (anyInSystem, filter, swap) {\n        var blob = state.getBlobState().blob;\n        var action = function (blob) {\n          var url = state.addBlobState(blob);\n          destroyTempState(anyInSystem);\n          return url;\n        };\n        blobManipulate(anyInSystem, blob, filter, action, swap);\n      };\n      var apply = function (anyInSystem, simulatedEvent) {\n        var postApply = function () {\n          destroyTempState(anyInSystem);\n          var swap = simulatedEvent.event.swap;\n          swap();\n        };\n        state.applyTempState(postApply);\n      };\n      var destroyTempState = function (anyInSystem) {\n        var currentUrl = state.getBlobState().url;\n        state.destroyTempState();\n        updateButtonUndoStates(anyInSystem);\n        return currentUrl;\n      };\n      var cancel = function (anyInSystem) {\n        var currentUrl = destroyTempState(anyInSystem);\n        updateSrc(anyInSystem, currentUrl).then(function (_oImg) {\n          unblock(anyInSystem);\n        });\n      };\n      var back = function (anyInSystem, simulatedEvent) {\n        cancel(anyInSystem);\n        var swap = simulatedEvent.event.swap;\n        swap();\n        imagePanel.hideCrop();\n      };\n      var transform = function (anyInSystem, simulatedEvent) {\n        return manipulate(anyInSystem, simulatedEvent.event.transform, noop);\n      };\n      var tempTransform = function (anyInSystem, simulatedEvent) {\n        return tempManipulate(anyInSystem, simulatedEvent.event.transform);\n      };\n      var transformApply = function (anyInSystem, simulatedEvent) {\n        return manipulateApply(anyInSystem, simulatedEvent.event.transform, simulatedEvent.event.swap);\n      };\n      var imagePanel = renderImagePanel(detail.currentState.url);\n      var sideBar = renderSideBar(providersBackstage);\n      var editPanel = renderEditPanel(imagePanel, providersBackstage);\n      var swap = function (anyInSystem, simulatedEvent) {\n        disableUndoRedo(anyInSystem);\n        var transform = simulatedEvent.event.transform;\n        var swap = simulatedEvent.event.swap;\n        transform.fold(function () {\n          swap();\n        }, function (transform) {\n          manipulate(anyInSystem, transform, swap);\n        });\n      };\n      return {\n        dom: {\n          tag: 'div',\n          attributes: { role: 'presentation' }\n        },\n        components: [\n          editPanel.memContainer.asSpec(),\n          imagePanel.memContainer.asSpec(),\n          sideBar.container\n        ],\n        behaviours: derive$1([\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function () {\n                return state.getBlobState();\n              }\n            }\n          }),\n          config('image-tools-events', [\n            run$1(internal.undo(), undo),\n            run$1(internal.redo(), redo),\n            run$1(internal.zoom(), zoom),\n            run$1(internal.back(), back),\n            run$1(internal.apply(), apply),\n            run$1(internal.transform(), transform),\n            run$1(internal.tempTransform(), tempTransform),\n            run$1(internal.transformApply(), transformApply),\n            run$1(internal.swap(), swap)\n          ]),\n          ComposingConfigs.self()\n        ])\n      };\n    };\n\n    var renderLabel = function (spec, backstageShared) {\n      var label = {\n        dom: {\n          tag: 'label',\n          innerHtml: backstageShared.providers.translate(spec.label),\n          classes: ['tox-label']\n        }\n      };\n      var comps = map$2(spec.items, backstageShared.interpreter);\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [label].concat(comps),\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Replacing.config({}),\n          RepresentingConfigs.domHtml(Optional.none()),\n          Keying.config({ mode: 'acyclic' })\n        ])\n      };\n    };\n\n    var isSingleListItem = function (item) {\n      return !has$2(item, 'items');\n    };\n    var dataAttribute = 'data-value';\n    var fetchItems = function (dropdownComp, name, items, selectedValue) {\n      return map$2(items, function (item) {\n        if (!isSingleListItem(item)) {\n          return {\n            type: 'nestedmenuitem',\n            text: item.text,\n            getSubmenuItems: function () {\n              return fetchItems(dropdownComp, name, item.items, selectedValue);\n            }\n          };\n        } else {\n          return {\n            type: 'togglemenuitem',\n            text: item.text,\n            value: item.value,\n            active: item.value === selectedValue,\n            onAction: function () {\n              Representing.setValue(dropdownComp, item.value);\n              emitWith(dropdownComp, formChangeEvent, { name: name });\n              Focusing.focus(dropdownComp);\n            }\n          };\n        }\n      });\n    };\n    var findItemByValue = function (items, value) {\n      return findMap(items, function (item) {\n        if (!isSingleListItem(item)) {\n          return findItemByValue(item.items, value);\n        } else {\n          return someIf(item.value === value, item);\n        }\n      });\n    };\n    var renderListBox = function (spec, backstage) {\n      var providersBackstage = backstage.shared.providers;\n      var initialItem = head(spec.items).filter(isSingleListItem);\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var pField = FormField.parts.field({\n        dom: {},\n        factory: {\n          sketch: function (sketchSpec) {\n            return renderCommonDropdown({\n              uid: sketchSpec.uid,\n              text: initialItem.map(function (item) {\n                return item.text;\n              }),\n              icon: Optional.none(),\n              tooltip: spec.label,\n              role: Optional.none(),\n              fetch: function (comp, callback) {\n                var items = fetchItems(comp, spec.name, spec.items, Representing.getValue(comp));\n                callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false));\n              },\n              onSetup: constant$1(noop),\n              getApi: constant$1({}),\n              columns: 1,\n              presets: 'normal',\n              classes: [],\n              dropdownBehaviours: [\n                Tabstopping.config({}),\n                Representing.config({\n                  store: {\n                    mode: 'manual',\n                    initialValue: initialItem.map(function (item) {\n                      return item.value;\n                    }).getOr(''),\n                    getValue: function (comp) {\n                      return get$d(comp.element, dataAttribute);\n                    },\n                    setValue: function (comp, data) {\n                      findItemByValue(spec.items, data).each(function (item) {\n                        set$8(comp.element, dataAttribute, item.value);\n                        emitWith(comp, updateMenuText, { text: item.text });\n                      });\n                    }\n                  }\n                })\n              ]\n            }, 'tox-listbox', backstage.shared);\n          }\n        }\n      });\n      var listBoxWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-listboxfield']\n        },\n        components: [pField]\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [listBoxWrap]\n        ]),\n        fieldBehaviours: derive$1([Disabling.config({\n            disabled: constant$1(spec.disabled),\n            onDisabled: function (comp) {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          })])\n      });\n    };\n\n    var renderPanel = function (spec, backstage) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: spec.classes\n        },\n        components: map$2(spec.items, backstage.shared.interpreter)\n      };\n    };\n\n    var factory$e = function (detail, _spec) {\n      var options = map$2(detail.options, function (option) {\n        return {\n          dom: {\n            tag: 'option',\n            value: option.value,\n            innerHtml: option.text\n          }\n        };\n      });\n      var initialValues = detail.data.map(function (v) {\n        return wrap$1('initialValue', v);\n      }).getOr({});\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'select',\n          classes: detail.selectClasses,\n          attributes: detail.selectAttributes\n        },\n        components: options,\n        behaviours: augment(detail.selectBehaviours, [\n          Focusing.config({}),\n          Representing.config({\n            store: __assign({\n              mode: 'manual',\n              getValue: function (select) {\n                return get$5(select.element);\n              },\n              setValue: function (select, newValue) {\n                var found = find$5(detail.options, function (opt) {\n                  return opt.value === newValue;\n                });\n                if (found.isSome()) {\n                  set$4(select.element, newValue);\n                }\n              }\n            }, initialValues)\n          })\n        ])\n      };\n    };\n    var HtmlSelect = single({\n      name: 'HtmlSelect',\n      configFields: [\n        required$1('options'),\n        field('selectBehaviours', [\n          Focusing,\n          Representing\n        ]),\n        defaulted('selectClasses', []),\n        defaulted('selectAttributes', {}),\n        option('data')\n      ],\n      factory: factory$e\n    });\n\n    var renderSelectBox = function (spec, providersBackstage) {\n      var translatedOptions = map$2(spec.items, function (item) {\n        return {\n          text: providersBackstage.translate(item.text),\n          value: item.value\n        };\n      });\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var pField = FormField.parts.field({\n        dom: {},\n        selectAttributes: { size: spec.size },\n        options: translatedOptions,\n        factory: HtmlSelect,\n        selectBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            }\n          }),\n          Tabstopping.config({}),\n          config('selectbox-change', [run$1(change(), function (component, _) {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      var chevron = spec.size > 1 ? Optional.none() : Optional.some(render$3('chevron-down', {\n        tag: 'div',\n        classes: ['tox-selectfield__icon-js']\n      }, providersBackstage.icons));\n      var selectWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-selectfield']\n        },\n        components: flatten([\n          [pField],\n          chevron.toArray()\n        ])\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [selectWrap]\n        ]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            },\n            onDisabled: function (comp) {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig()\n        ])\n      });\n    };\n\n    var renderTable = function (spec, providersBackstage) {\n      var renderTh = function (text) {\n        return {\n          dom: {\n            tag: 'th',\n            innerHtml: providersBackstage.translate(text)\n          }\n        };\n      };\n      var renderHeader = function (header) {\n        return {\n          dom: { tag: 'thead' },\n          components: [{\n              dom: { tag: 'tr' },\n              components: map$2(header, renderTh)\n            }]\n        };\n      };\n      var renderTd = function (text) {\n        return {\n          dom: {\n            tag: 'td',\n            innerHtml: providersBackstage.translate(text)\n          }\n        };\n      };\n      var renderTr = function (row) {\n        return {\n          dom: { tag: 'tr' },\n          components: map$2(row, renderTd)\n        };\n      };\n      var renderRows = function (rows) {\n        return {\n          dom: { tag: 'tbody' },\n          components: map$2(rows, renderTr)\n        };\n      };\n      return {\n        dom: {\n          tag: 'table',\n          classes: ['tox-dialog__table']\n        },\n        components: [\n          renderHeader(spec.header),\n          renderRows(spec.cells)\n        ],\n        behaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n\n    var renderTextField = function (spec, providersBackstage) {\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var baseInputBehaviours = [\n        Disabling.config({\n          disabled: function () {\n            return spec.disabled || providersBackstage.isDisabled();\n          }\n        }),\n        receivingConfig(),\n        Keying.config({\n          mode: 'execution',\n          useEnter: spec.multiline !== true,\n          useControlEnter: spec.multiline === true,\n          execute: function (comp) {\n            emit(comp, formSubmitEvent);\n            return Optional.some(true);\n          }\n        }),\n        config('textfield-change', [\n          run$1(input(), function (component, _) {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          }),\n          run$1(postPaste(), function (component, _) {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          })\n        ]),\n        Tabstopping.config({})\n      ];\n      var validatingBehaviours = spec.validation.map(function (vl) {\n        return Invalidating.config({\n          getRoot: function (input) {\n            return parent(input.element);\n          },\n          invalidClass: 'tox-invalid',\n          validator: {\n            validate: function (input) {\n              var v = Representing.getValue(input);\n              var result = vl.validator(v);\n              return Future.pure(result === true ? Result.value(v) : Result.error(result));\n            },\n            validateOnLoad: vl.validateOnLoad\n          }\n        });\n      }).toArray();\n      var placeholder = spec.placeholder.fold(constant$1({}), function (p) {\n        return { placeholder: providersBackstage.translate(p) };\n      });\n      var inputMode = spec.inputMode.fold(constant$1({}), function (mode) {\n        return { inputmode: mode };\n      });\n      var inputAttributes = __assign(__assign({}, placeholder), inputMode);\n      var pField = FormField.parts.field({\n        tag: spec.multiline === true ? 'textarea' : 'input',\n        inputAttributes: inputAttributes,\n        inputClasses: [spec.classname],\n        inputBehaviours: derive$1(flatten([\n          baseInputBehaviours,\n          validatingBehaviours\n        ])),\n        selectOnFocus: false,\n        factory: Input\n      });\n      var extraClasses = spec.flex ? ['tox-form__group--stretched'] : [];\n      var extraClasses2 = extraClasses.concat(spec.maximized ? ['tox-form-group--maximize'] : []);\n      var extraBehaviours = [\n        Disabling.config({\n          disabled: function () {\n            return spec.disabled || providersBackstage.isDisabled();\n          },\n          onDisabled: function (comp) {\n            FormField.getField(comp).each(Disabling.disable);\n          },\n          onEnabled: function (comp) {\n            FormField.getField(comp).each(Disabling.enable);\n          }\n        }),\n        receivingConfig()\n      ];\n      return renderFormFieldWith(pLabel, pField, extraClasses2, extraBehaviours);\n    };\n    var renderInput = function (spec, providersBackstage) {\n      return renderTextField({\n        name: spec.name,\n        multiline: false,\n        label: spec.label,\n        inputMode: spec.inputMode,\n        placeholder: spec.placeholder,\n        flex: false,\n        disabled: spec.disabled,\n        classname: 'tox-textfield',\n        validation: Optional.none(),\n        maximized: spec.maximized\n      }, providersBackstage);\n    };\n    var renderTextarea = function (spec, providersBackstage) {\n      return renderTextField({\n        name: spec.name,\n        multiline: true,\n        label: spec.label,\n        inputMode: Optional.none(),\n        placeholder: spec.placeholder,\n        flex: true,\n        disabled: spec.disabled,\n        classname: 'tox-textarea',\n        validation: Optional.none(),\n        maximized: spec.maximized\n      }, providersBackstage);\n    };\n\n    var events$6 = function (streamConfig, streamState) {\n      var streams = streamConfig.stream.streams;\n      var processor = streams.setup(streamConfig, streamState);\n      return derive$2([\n        run$1(streamConfig.event, processor),\n        runOnDetached(function () {\n          return streamState.cancel();\n        })\n      ].concat(streamConfig.cancelEvent.map(function (e) {\n        return [run$1(e, function () {\n            return streamState.cancel();\n          })];\n      }).getOr([])));\n    };\n\n    var ActiveStreaming = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$6\n    });\n\n    var throttle = function (_config) {\n      var state = Cell(null);\n      var readState = function () {\n        return { timer: state.get() !== null ? 'set' : 'unset' };\n      };\n      var setTimer = function (t) {\n        state.set(t);\n      };\n      var cancel = function () {\n        var t = state.get();\n        if (t !== null) {\n          t.cancel();\n        }\n      };\n      return nu$8({\n        readState: readState,\n        setTimer: setTimer,\n        cancel: cancel\n      });\n    };\n    var init$9 = function (spec) {\n      return spec.stream.streams.state(spec);\n    };\n\n    var StreamingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        throttle: throttle,\n        init: init$9\n    });\n\n    var setup$c = function (streamInfo, streamState) {\n      var sInfo = streamInfo.stream;\n      var throttler = last(streamInfo.onStream, sInfo.delay);\n      streamState.setTimer(throttler);\n      return function (component, simulatedEvent) {\n        throttler.throttle(component, simulatedEvent);\n        if (sInfo.stopEvent) {\n          simulatedEvent.stop();\n        }\n      };\n    };\n    var StreamingSchema = [\n      requiredOf('stream', choose$1('mode', {\n        throttle: [\n          required$1('delay'),\n          defaulted('stopEvent', true),\n          output$1('streams', {\n            setup: setup$c,\n            state: throttle\n          })\n        ]\n      })),\n      defaulted('event', 'input'),\n      option('cancelEvent'),\n      onStrictHandler('onStream')\n    ];\n\n    var Streaming = create$8({\n      fields: StreamingSchema,\n      name: 'streaming',\n      active: ActiveStreaming,\n      state: StreamingState\n    });\n\n    var setValueFromItem = function (model, input, item) {\n      var itemData = Representing.getValue(item);\n      Representing.setValue(input, itemData);\n      setCursorAtEnd(input);\n    };\n    var setSelectionOn = function (input, f) {\n      var el = input.element;\n      var value = get$5(el);\n      var node = el.dom;\n      if (get$d(el, 'type') !== 'number') {\n        f(node, value);\n      }\n    };\n    var setCursorAtEnd = function (input) {\n      setSelectionOn(input, function (node, value) {\n        return node.setSelectionRange(value.length, value.length);\n      });\n    };\n    var setSelectionToEnd = function (input, startOffset) {\n      setSelectionOn(input, function (node, value) {\n        return node.setSelectionRange(startOffset, value.length);\n      });\n    };\n    var attemptSelectOver = function (model, input, item) {\n      if (!model.selectsOver) {\n        return Optional.none();\n      } else {\n        var currentValue = Representing.getValue(input);\n        var inputDisplay_1 = model.getDisplayText(currentValue);\n        var itemValue = Representing.getValue(item);\n        var itemDisplay = model.getDisplayText(itemValue);\n        return itemDisplay.indexOf(inputDisplay_1) === 0 ? Optional.some(function () {\n          setValueFromItem(model, input, item);\n          setSelectionToEnd(input, inputDisplay_1.length);\n        }) : Optional.none();\n      }\n    };\n\n    var itemExecute = constant$1('alloy.typeahead.itemexecute');\n\n    var make$3 = function (detail, components, spec, externals) {\n      var navigateList = function (comp, simulatedEvent, highlighter) {\n        detail.previewing.set(false);\n        var sandbox = Coupling.getCoupled(comp, 'sandbox');\n        if (Sandboxing.isOpen(sandbox)) {\n          Composing.getCurrent(sandbox).each(function (menu) {\n            Highlighting.getHighlighted(menu).fold(function () {\n              highlighter(menu);\n            }, function () {\n              dispatchEvent(sandbox, menu.element, 'keydown', simulatedEvent);\n            });\n          });\n        } else {\n          var onOpenSync = function (sandbox) {\n            Composing.getCurrent(sandbox).each(highlighter);\n          };\n          open(detail, mapFetch(comp), comp, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n        }\n      };\n      var focusBehaviours$1 = focusBehaviours(detail);\n      var mapFetch = function (comp) {\n        return function (tdata) {\n          return tdata.map(function (data) {\n            var menus = values(data.menus);\n            var items = bind$3(menus, function (menu) {\n              return filter$2(menu.items, function (item) {\n                return item.type === 'item';\n              });\n            });\n            var repState = Representing.getState(comp);\n            repState.update(map$2(items, function (item) {\n              return item.data;\n            }));\n            return data;\n          });\n        };\n      };\n      var behaviours = [\n        Focusing.config({}),\n        Representing.config({\n          onSetValue: detail.onSetValue,\n          store: __assign({\n            mode: 'dataset',\n            getDataKey: function (comp) {\n              return get$5(comp.element);\n            },\n            getFallbackEntry: function (itemString) {\n              return {\n                value: itemString,\n                meta: {}\n              };\n            },\n            setValue: function (comp, data) {\n              set$4(comp.element, detail.model.getDisplayText(data));\n            }\n          }, detail.initialData.map(function (d) {\n            return wrap$1('initialValue', d);\n          }).getOr({}))\n        }),\n        Streaming.config({\n          stream: {\n            mode: 'throttle',\n            delay: detail.responseTime,\n            stopEvent: false\n          },\n          onStream: function (component, _simulatedEvent) {\n            var sandbox = Coupling.getCoupled(component, 'sandbox');\n            var focusInInput = Focusing.isFocused(component);\n            if (focusInInput) {\n              if (get$5(component.element).length >= detail.minChars) {\n                var previousValue_1 = Composing.getCurrent(sandbox).bind(function (menu) {\n                  return Highlighting.getHighlighted(menu).map(Representing.getValue);\n                });\n                detail.previewing.set(true);\n                var onOpenSync = function (_sandbox) {\n                  Composing.getCurrent(sandbox).each(function (menu) {\n                    previousValue_1.fold(function () {\n                      if (detail.model.selectsOver) {\n                        Highlighting.highlightFirst(menu);\n                      }\n                    }, function (pv) {\n                      Highlighting.highlightBy(menu, function (item) {\n                        var itemData = Representing.getValue(item);\n                        return itemData.value === pv.value;\n                      });\n                      Highlighting.getHighlighted(menu).orThunk(function () {\n                        Highlighting.highlightFirst(menu);\n                        return Optional.none();\n                      });\n                    });\n                  });\n                };\n                open(detail, mapFetch(component), component, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n              }\n            }\n          },\n          cancelEvent: typeaheadCancel()\n        }),\n        Keying.config({\n          mode: 'special',\n          onDown: function (comp, simulatedEvent) {\n            navigateList(comp, simulatedEvent, Highlighting.highlightFirst);\n            return Optional.some(true);\n          },\n          onEscape: function (comp) {\n            var sandbox = Coupling.getCoupled(comp, 'sandbox');\n            if (Sandboxing.isOpen(sandbox)) {\n              Sandboxing.close(sandbox);\n              return Optional.some(true);\n            }\n            return Optional.none();\n          },\n          onUp: function (comp, simulatedEvent) {\n            navigateList(comp, simulatedEvent, Highlighting.highlightLast);\n            return Optional.some(true);\n          },\n          onEnter: function (comp) {\n            var sandbox = Coupling.getCoupled(comp, 'sandbox');\n            var sandboxIsOpen = Sandboxing.isOpen(sandbox);\n            if (sandboxIsOpen && !detail.previewing.get()) {\n              return Composing.getCurrent(sandbox).bind(function (menu) {\n                return Highlighting.getHighlighted(menu);\n              }).map(function (item) {\n                emitWith(comp, itemExecute(), { item: item });\n                return true;\n              });\n            } else {\n              var currentValue = Representing.getValue(comp);\n              emit(comp, typeaheadCancel());\n              detail.onExecute(sandbox, comp, currentValue);\n              if (sandboxIsOpen) {\n                Sandboxing.close(sandbox);\n              }\n              return Optional.some(true);\n            }\n          }\n        }),\n        Toggling.config({\n          toggleClass: detail.markers.openClass,\n          aria: { mode: 'expanded' }\n        }),\n        Coupling.config({\n          others: {\n            sandbox: function (hotspot) {\n              return makeSandbox$1(detail, hotspot, {\n                onOpen: function () {\n                  return Toggling.on(hotspot);\n                },\n                onClose: function () {\n                  return Toggling.off(hotspot);\n                }\n              });\n            }\n          }\n        }),\n        config('typeaheadevents', [\n          runOnExecute$1(function (comp) {\n            var onOpenSync = noop;\n            togglePopup(detail, mapFetch(comp), comp, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n          }),\n          run$1(itemExecute(), function (comp, se) {\n            var sandbox = Coupling.getCoupled(comp, 'sandbox');\n            setValueFromItem(detail.model, comp, se.event.item);\n            emit(comp, typeaheadCancel());\n            detail.onItemExecute(comp, sandbox, se.event.item, Representing.getValue(comp));\n            Sandboxing.close(sandbox);\n            setCursorAtEnd(comp);\n          })\n        ].concat(detail.dismissOnBlur ? [run$1(postBlur(), function (typeahead) {\n            var sandbox = Coupling.getCoupled(typeahead, 'sandbox');\n            if (search(sandbox.element).isNone()) {\n              Sandboxing.close(sandbox);\n            }\n          })] : []))\n      ];\n      return {\n        uid: detail.uid,\n        dom: dom(deepMerge(detail, {\n          inputAttributes: {\n            'role': 'combobox',\n            'aria-autocomplete': 'list',\n            'aria-haspopup': 'true'\n          }\n        })),\n        behaviours: __assign(__assign({}, focusBehaviours$1), augment(detail.typeaheadBehaviours, behaviours)),\n        eventOrder: detail.eventOrder\n      };\n    };\n\n    var schema$g = constant$1([\n      option('lazySink'),\n      required$1('fetch'),\n      defaulted('minChars', 5),\n      defaulted('responseTime', 1000),\n      onHandler('onOpen'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      defaulted('layouts', Optional.none()),\n      defaulted('eventOrder', {}),\n      defaultedObjOf('model', {}, [\n        defaulted('getDisplayText', function (itemData) {\n          return itemData.meta !== undefined && itemData.meta.text !== undefined ? itemData.meta.text : itemData.value;\n        }),\n        defaulted('selectsOver', true),\n        defaulted('populateFromBrowse', true)\n      ]),\n      onHandler('onSetValue'),\n      onKeyboardHandler('onExecute'),\n      onHandler('onItemExecute'),\n      defaulted('inputClasses', []),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('matchWidth', true),\n      defaulted('useMinWidth', false),\n      defaulted('dismissOnBlur', true),\n      markers$1(['openClass']),\n      option('initialData'),\n      field('typeaheadBehaviours', [\n        Focusing,\n        Representing,\n        Streaming,\n        Keying,\n        Toggling,\n        Coupling\n      ]),\n      customField('previewing', function () {\n        return Cell(true);\n      })\n    ].concat(schema$k()).concat(sandboxFields()));\n    var parts$b = constant$1([external$1({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        overrides: function (detail) {\n          return {\n            fakeFocus: true,\n            onHighlight: function (menu, item) {\n              if (!detail.previewing.get()) {\n                menu.getSystem().getByUid(detail.uid).each(function (input) {\n                  if (detail.model.populateFromBrowse) {\n                    setValueFromItem(detail.model, input, item);\n                  }\n                });\n              } else {\n                menu.getSystem().getByUid(detail.uid).each(function (input) {\n                  attemptSelectOver(detail.model, input, item).fold(function () {\n                    return Highlighting.dehighlight(menu, item);\n                  }, function (fn) {\n                    return fn();\n                  });\n                });\n              }\n              detail.previewing.set(false);\n            },\n            onExecute: function (menu, item) {\n              return menu.getSystem().getByUid(detail.uid).toOptional().map(function (typeahead) {\n                emitWith(typeahead, itemExecute(), { item: item });\n                return true;\n              });\n            },\n            onHover: function (menu, item) {\n              detail.previewing.set(false);\n              menu.getSystem().getByUid(detail.uid).each(function (input) {\n                if (detail.model.populateFromBrowse) {\n                  setValueFromItem(detail.model, input, item);\n                }\n              });\n            }\n          };\n        }\n      })]);\n\n    var Typeahead = composite({\n      name: 'Typeahead',\n      configFields: schema$g(),\n      partFields: parts$b(),\n      factory: make$3\n    });\n\n    var wrap = function (delegate) {\n      var toCached = function () {\n        return wrap(delegate.toCached());\n      };\n      var bindFuture = function (f) {\n        return wrap(delegate.bind(function (resA) {\n          return resA.fold(function (err) {\n            return Future.pure(Result.error(err));\n          }, function (a) {\n            return f(a);\n          });\n        }));\n      };\n      var bindResult = function (f) {\n        return wrap(delegate.map(function (resA) {\n          return resA.bind(f);\n        }));\n      };\n      var mapResult = function (f) {\n        return wrap(delegate.map(function (resA) {\n          return resA.map(f);\n        }));\n      };\n      var mapError = function (f) {\n        return wrap(delegate.map(function (resA) {\n          return resA.mapError(f);\n        }));\n      };\n      var foldResult = function (whenError, whenValue) {\n        return delegate.map(function (res) {\n          return res.fold(whenError, whenValue);\n        });\n      };\n      var withTimeout = function (timeout, errorThunk) {\n        return wrap(Future.nu(function (callback) {\n          var timedOut = false;\n          var timer = setTimeout(function () {\n            timedOut = true;\n            callback(Result.error(errorThunk()));\n          }, timeout);\n          delegate.get(function (result) {\n            if (!timedOut) {\n              clearTimeout(timer);\n              callback(result);\n            }\n          });\n        }));\n      };\n      return __assign(__assign({}, delegate), {\n        toCached: toCached,\n        bindFuture: bindFuture,\n        bindResult: bindResult,\n        mapResult: mapResult,\n        mapError: mapError,\n        foldResult: foldResult,\n        withTimeout: withTimeout\n      });\n    };\n    var nu$1 = function (worker) {\n      return wrap(Future.nu(worker));\n    };\n    var value = function (value) {\n      return wrap(Future.pure(Result.value(value)));\n    };\n    var error = function (error) {\n      return wrap(Future.pure(Result.error(error)));\n    };\n    var fromResult = function (result) {\n      return wrap(Future.pure(result));\n    };\n    var fromFuture = function (future) {\n      return wrap(future.map(Result.value));\n    };\n    var fromPromise = function (promise) {\n      return nu$1(function (completer) {\n        promise.then(function (value) {\n          completer(Result.value(value));\n        }, function (error) {\n          completer(Result.error(error));\n        });\n      });\n    };\n    var FutureResult = {\n      nu: nu$1,\n      wrap: wrap,\n      pure: value,\n      value: value,\n      error: error,\n      fromResult: fromResult,\n      fromFuture: fromFuture,\n      fromPromise: fromPromise\n    };\n\n    var separator$1 = { type: 'separator' };\n    var toMenuItem = function (target) {\n      return {\n        type: 'menuitem',\n        value: target.url,\n        text: target.title,\n        meta: { attach: target.attach },\n        onAction: noop\n      };\n    };\n    var staticMenuItem = function (title, url) {\n      return {\n        type: 'menuitem',\n        value: url,\n        text: title,\n        meta: { attach: undefined },\n        onAction: noop\n      };\n    };\n    var toMenuItems = function (targets) {\n      return map$2(targets, toMenuItem);\n    };\n    var filterLinkTargets = function (type, targets) {\n      return filter$2(targets, function (target) {\n        return target.type === type;\n      });\n    };\n    var filteredTargets = function (type, targets) {\n      return toMenuItems(filterLinkTargets(type, targets));\n    };\n    var headerTargets = function (linkInfo) {\n      return filteredTargets('header', linkInfo.targets);\n    };\n    var anchorTargets = function (linkInfo) {\n      return filteredTargets('anchor', linkInfo.targets);\n    };\n    var anchorTargetTop = function (linkInfo) {\n      return Optional.from(linkInfo.anchorTop).map(function (url) {\n        return staticMenuItem('<top>', url);\n      }).toArray();\n    };\n    var anchorTargetBottom = function (linkInfo) {\n      return Optional.from(linkInfo.anchorBottom).map(function (url) {\n        return staticMenuItem('<bottom>', url);\n      }).toArray();\n    };\n    var historyTargets = function (history) {\n      return map$2(history, function (url) {\n        return staticMenuItem(url, url);\n      });\n    };\n    var joinMenuLists = function (items) {\n      return foldl(items, function (a, b) {\n        var bothEmpty = a.length === 0 || b.length === 0;\n        return bothEmpty ? a.concat(b) : a.concat(separator$1, b);\n      }, []);\n    };\n    var filterByQuery = function (term, menuItems) {\n      var lowerCaseTerm = term.toLowerCase();\n      return filter$2(menuItems, function (item) {\n        var text = item.meta !== undefined && item.meta.text !== undefined ? item.meta.text : item.text;\n        return contains$1(text.toLowerCase(), lowerCaseTerm) || contains$1(item.value.toLowerCase(), lowerCaseTerm);\n      });\n    };\n\n    var getItems = function (fileType, input, urlBackstage) {\n      var urlInputValue = Representing.getValue(input);\n      var term = urlInputValue.meta.text !== undefined ? urlInputValue.meta.text : urlInputValue.value;\n      var info = urlBackstage.getLinkInformation();\n      return info.fold(function () {\n        return [];\n      }, function (linkInfo) {\n        var history = filterByQuery(term, historyTargets(urlBackstage.getHistory(fileType)));\n        return fileType === 'file' ? joinMenuLists([\n          history,\n          filterByQuery(term, headerTargets(linkInfo)),\n          filterByQuery(term, flatten([\n            anchorTargetTop(linkInfo),\n            anchorTargets(linkInfo),\n            anchorTargetBottom(linkInfo)\n          ]))\n        ]) : history;\n      });\n    };\n    var errorId = generate$6('aria-invalid');\n    var renderUrlInput = function (spec, backstage, urlBackstage) {\n      var _a;\n      var providersBackstage = backstage.shared.providers;\n      var updateHistory = function (component) {\n        var urlEntry = Representing.getValue(component);\n        urlBackstage.addToHistory(urlEntry.value, spec.filetype);\n      };\n      var pField = FormField.parts.field({\n        factory: Typeahead,\n        dismissOnBlur: true,\n        inputClasses: ['tox-textfield'],\n        sandboxClasses: ['tox-dialog__popups'],\n        inputAttributes: {\n          'aria-errormessage': errorId,\n          'type': 'url'\n        },\n        minChars: 0,\n        responseTime: 0,\n        fetch: function (input) {\n          var items = getItems(spec.filetype, input, urlBackstage);\n          var tdata = build(items, ItemResponse$1.BUBBLE_TO_SANDBOX, backstage, false);\n          return Future.pure(tdata);\n        },\n        getHotspot: function (comp) {\n          return memUrlBox.getOpt(comp);\n        },\n        onSetValue: function (comp, _newValue) {\n          if (comp.hasConfigured(Invalidating)) {\n            Invalidating.run(comp).get(noop);\n          }\n        },\n        typeaheadBehaviours: derive$1(flatten([\n          urlBackstage.getValidationHandler().map(function (handler) {\n            return Invalidating.config({\n              getRoot: function (comp) {\n                return parent(comp.element);\n              },\n              invalidClass: 'tox-control-wrap--status-invalid',\n              notify: {\n                onInvalid: function (comp, err) {\n                  memInvalidIcon.getOpt(comp).each(function (invalidComp) {\n                    set$8(invalidComp.element, 'title', providersBackstage.translate(err));\n                  });\n                }\n              },\n              validator: {\n                validate: function (input) {\n                  var urlEntry = Representing.getValue(input);\n                  return FutureResult.nu(function (completer) {\n                    handler({\n                      type: spec.filetype,\n                      url: urlEntry.value\n                    }, function (validation) {\n                      if (validation.status === 'invalid') {\n                        var err = Result.error(validation.message);\n                        completer(err);\n                      } else {\n                        var val = Result.value(validation.message);\n                        completer(val);\n                      }\n                    });\n                  });\n                },\n                validateOnLoad: false\n              }\n            });\n          }).toArray(),\n          [\n            Disabling.config({\n              disabled: function () {\n                return spec.disabled || providersBackstage.isDisabled();\n              }\n            }),\n            Tabstopping.config({}),\n            config('urlinput-events', flatten([\n              spec.filetype === 'file' ? [run$1(input(), function (comp) {\n                  emitWith(comp, formChangeEvent, { name: spec.name });\n                })] : [],\n              [\n                run$1(change(), function (comp) {\n                  emitWith(comp, formChangeEvent, { name: spec.name });\n                  updateHistory(comp);\n                }),\n                run$1(postPaste(), function (comp) {\n                  emitWith(comp, formChangeEvent, { name: spec.name });\n                  updateHistory(comp);\n                })\n              ]\n            ]))\n          ]\n        ])),\n        eventOrder: (_a = {}, _a[input()] = [\n          'streaming',\n          'urlinput-events',\n          'invalidating'\n        ], _a),\n        model: {\n          getDisplayText: function (itemData) {\n            return itemData.value;\n          },\n          selectsOver: false,\n          populateFromBrowse: false\n        },\n        markers: { openClass: 'tox-textfield--popup-open' },\n        lazySink: backstage.shared.getSink,\n        parts: { menu: part(false, 1, 'normal') },\n        onExecute: function (_menu, component, _entry) {\n          emitWith(component, formSubmitEvent, {});\n        },\n        onItemExecute: function (typeahead, _sandbox, _item, _value) {\n          updateHistory(typeahead);\n          emitWith(typeahead, formChangeEvent, { name: spec.name });\n        }\n      });\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel$2(label, providersBackstage);\n      });\n      var makeIcon = function (name, errId, icon, label) {\n        if (icon === void 0) {\n          icon = name;\n        }\n        if (label === void 0) {\n          label = name;\n        }\n        return render$3(icon, {\n          tag: 'div',\n          classes: [\n            'tox-icon',\n            'tox-control-wrap__status-icon-' + name\n          ],\n          attributes: __assign({\n            'title': providersBackstage.translate(label),\n            'aria-live': 'polite'\n          }, errId.fold(function () {\n            return {};\n          }, function (id) {\n            return { id: id };\n          }))\n        }, providersBackstage.icons);\n      };\n      var memInvalidIcon = record(makeIcon('invalid', Optional.some(errorId), 'warning'));\n      var memStatus = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap__status-icon-wrap']\n        },\n        components: [memInvalidIcon.asSpec()]\n      });\n      var optUrlPicker = urlBackstage.getUrlPicker(spec.filetype);\n      var browseUrlEvent = generate$6('browser.url.event');\n      var memUrlBox = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap']\n        },\n        components: [\n          pField,\n          memStatus.asSpec()\n        ],\n        behaviours: derive$1([Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            }\n          })])\n      });\n      var memUrlPickerButton = record(renderButton({\n        name: spec.name,\n        icon: Optional.some('browse'),\n        text: spec.label.getOr(''),\n        disabled: spec.disabled,\n        primary: false,\n        borderless: true\n      }, function (component) {\n        return emit(component, browseUrlEvent);\n      }, providersBackstage, [], ['tox-browse-url']));\n      var controlHWrapper = function () {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__controls-h-stack']\n          },\n          components: flatten([\n            [memUrlBox.asSpec()],\n            optUrlPicker.map(function () {\n              return memUrlPickerButton.asSpec();\n            }).toArray()\n          ])\n        };\n      };\n      var openUrlPicker = function (comp) {\n        Composing.getCurrent(comp).each(function (field) {\n          var componentData = Representing.getValue(field);\n          var urlData = __assign({ fieldname: spec.name }, componentData);\n          optUrlPicker.each(function (picker) {\n            picker(urlData).get(function (chosenData) {\n              Representing.setValue(field, chosenData);\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            });\n          });\n        });\n      };\n      return FormField.sketch({\n        dom: renderFormFieldDom(),\n        components: pLabel.toArray().concat([controlHWrapper()]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providersBackstage.isDisabled();\n            },\n            onDisabled: function (comp) {\n              FormField.getField(comp).each(Disabling.disable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormField.getField(comp).each(Disabling.enable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig(),\n          config('url-input-events', [run$1(browseUrlEvent, openUrlPicker)])\n        ])\n      });\n    };\n\n    var renderAlertBanner = function (spec, providersBackstage) {\n      return Container.sketch({\n        dom: {\n          tag: 'div',\n          attributes: { role: 'alert' },\n          classes: [\n            'tox-notification',\n            'tox-notification--in',\n            'tox-notification--' + spec.level\n          ]\n        },\n        components: [\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-notification__icon']\n            },\n            components: [Button.sketch({\n                dom: {\n                  tag: 'button',\n                  classes: [\n                    'tox-button',\n                    'tox-button--naked',\n                    'tox-button--icon'\n                  ],\n                  innerHtml: get$1(spec.icon, providersBackstage.icons),\n                  attributes: { title: providersBackstage.translate(spec.iconTooltip) }\n                },\n                action: function (comp) {\n                  emitWith(comp, formActionEvent, {\n                    name: 'alert-banner',\n                    value: spec.url\n                  });\n                },\n                buttonBehaviours: derive$1([addFocusableBehaviour()])\n              })]\n          },\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-notification__body'],\n              innerHtml: providersBackstage.translate(spec.text)\n            }\n          }\n        ]\n      });\n    };\n\n    var renderCheckbox = function (spec, providerBackstage) {\n      var repBehaviour = Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: function (comp) {\n            var el = comp.element.dom;\n            return el.checked;\n          },\n          setValue: function (comp, value) {\n            var el = comp.element.dom;\n            el.checked = value;\n          }\n        }\n      });\n      var toggleCheckboxHandler = function (comp) {\n        comp.element.dom.click();\n        return Optional.some(true);\n      };\n      var pField = FormField.parts.field({\n        factory: { sketch: identity$1 },\n        dom: {\n          tag: 'input',\n          classes: ['tox-checkbox__input'],\n          attributes: { type: 'checkbox' }\n        },\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providerBackstage.isDisabled();\n            }\n          }),\n          Tabstopping.config({}),\n          Focusing.config({}),\n          repBehaviour,\n          Keying.config({\n            mode: 'special',\n            onEnter: toggleCheckboxHandler,\n            onSpace: toggleCheckboxHandler,\n            stopSpaceKeyup: true\n          }),\n          config('checkbox-events', [run$1(change(), function (component, _) {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      var pLabel = FormField.parts.label({\n        dom: {\n          tag: 'span',\n          classes: ['tox-checkbox__label'],\n          innerHtml: providerBackstage.translate(spec.label)\n        },\n        behaviours: derive$1([Unselecting.config({})])\n      });\n      var makeIcon = function (className) {\n        var iconName = className === 'checked' ? 'selected' : 'unselected';\n        return render$3(iconName, {\n          tag: 'span',\n          classes: [\n            'tox-icon',\n            'tox-checkbox-icon__' + className\n          ]\n        }, providerBackstage.icons);\n      };\n      var memIcons = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-checkbox__icons']\n        },\n        components: [\n          makeIcon('checked'),\n          makeIcon('unchecked')\n        ]\n      });\n      return FormField.sketch({\n        dom: {\n          tag: 'label',\n          classes: ['tox-checkbox']\n        },\n        components: [\n          pField,\n          memIcons.asSpec(),\n          pLabel\n        ],\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: function () {\n              return spec.disabled || providerBackstage.isDisabled();\n            },\n            disableClass: 'tox-checkbox--disabled',\n            onDisabled: function (comp) {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig()\n        ])\n      });\n    };\n\n    var renderHtmlPanel = function (spec) {\n      if (spec.presets === 'presentation') {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html\n          }\n        });\n      } else {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html,\n            attributes: { role: 'document' }\n          },\n          containerBehaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({})\n          ])\n        });\n      }\n    };\n\n    var make$2 = function (render) {\n      return function (parts, spec, backstage) {\n        return get$e(spec, 'name').fold(function () {\n          return render(spec, backstage);\n        }, function (fieldName) {\n          return parts.field(fieldName, render(spec, backstage));\n        });\n      };\n    };\n    var makeIframe = function (render) {\n      return function (parts, spec, backstage) {\n        var iframeSpec = deepMerge(spec, { source: 'dynamic' });\n        return make$2(render)(parts, iframeSpec, backstage);\n      };\n    };\n    var factories = {\n      bar: make$2(function (spec, backstage) {\n        return renderBar(spec, backstage.shared);\n      }),\n      collection: make$2(function (spec, backstage) {\n        return renderCollection(spec, backstage.shared.providers);\n      }),\n      alertbanner: make$2(function (spec, backstage) {\n        return renderAlertBanner(spec, backstage.shared.providers);\n      }),\n      input: make$2(function (spec, backstage) {\n        return renderInput(spec, backstage.shared.providers);\n      }),\n      textarea: make$2(function (spec, backstage) {\n        return renderTextarea(spec, backstage.shared.providers);\n      }),\n      label: make$2(function (spec, backstage) {\n        return renderLabel(spec, backstage.shared);\n      }),\n      iframe: makeIframe(function (spec, backstage) {\n        return renderIFrame(spec, backstage.shared.providers);\n      }),\n      button: make$2(function (spec, backstage) {\n        return renderDialogButton(spec, backstage.shared.providers);\n      }),\n      checkbox: make$2(function (spec, backstage) {\n        return renderCheckbox(spec, backstage.shared.providers);\n      }),\n      colorinput: make$2(function (spec, backstage) {\n        return renderColorInput(spec, backstage.shared, backstage.colorinput);\n      }),\n      colorpicker: make$2(renderColorPicker),\n      dropzone: make$2(function (spec, backstage) {\n        return renderDropZone(spec, backstage.shared.providers);\n      }),\n      grid: make$2(function (spec, backstage) {\n        return renderGrid(spec, backstage.shared);\n      }),\n      listbox: make$2(function (spec, backstage) {\n        return renderListBox(spec, backstage);\n      }),\n      selectbox: make$2(function (spec, backstage) {\n        return renderSelectBox(spec, backstage.shared.providers);\n      }),\n      sizeinput: make$2(function (spec, backstage) {\n        return renderSizeInput(spec, backstage.shared.providers);\n      }),\n      urlinput: make$2(function (spec, backstage) {\n        return renderUrlInput(spec, backstage, backstage.urlinput);\n      }),\n      customeditor: make$2(renderCustomEditor),\n      htmlpanel: make$2(renderHtmlPanel),\n      imagetools: make$2(function (spec, backstage) {\n        return renderImageTools(spec, backstage.shared.providers);\n      }),\n      table: make$2(function (spec, backstage) {\n        return renderTable(spec, backstage.shared.providers);\n      }),\n      panel: make$2(function (spec, backstage) {\n        return renderPanel(spec, backstage);\n      })\n    };\n    var noFormParts = {\n      field: function (_name, spec) {\n        return spec;\n      }\n    };\n    var interpretInForm = function (parts, spec, oldBackstage) {\n      var newBackstage = deepMerge(oldBackstage, {\n        shared: {\n          interpreter: function (childSpec) {\n            return interpretParts(parts, childSpec, newBackstage);\n          }\n        }\n      });\n      return interpretParts(parts, spec, newBackstage);\n    };\n    var interpretParts = function (parts, spec, backstage) {\n      return get$e(factories, spec.type).fold(function () {\n        console.error('Unknown factory type \"' + spec.type + '\", defaulting to container: ', spec);\n        return spec;\n      }, function (factory) {\n        return factory(parts, spec, backstage);\n      });\n    };\n    var interpretWithoutForm = function (spec, backstage) {\n      var parts = noFormParts;\n      return interpretParts(parts, spec, backstage);\n    };\n\n    var bubbleAlignments$2 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: [],\n      alignRight: [],\n      right: [],\n      left: [],\n      bottom: [],\n      top: []\n    };\n    var getInlineDialogAnchor = function (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) {\n      var bubbleSize = 12;\n      var overrides = { maxHeightFunction: expandable$1() };\n      var editableAreaAnchor = function () {\n        return {\n          type: 'node',\n          root: getContentContainer(contentAreaElement()),\n          node: Optional.from(contentAreaElement()),\n          bubble: nu$5(bubbleSize, bubbleSize, bubbleAlignments$2),\n          layouts: {\n            onRtl: function () {\n              return [northeast];\n            },\n            onLtr: function () {\n              return [northwest];\n            }\n          },\n          overrides: overrides\n        };\n      };\n      var standardAnchor = function () {\n        return {\n          type: 'hotspot',\n          hotspot: lazyAnchorbar(),\n          bubble: nu$5(-bubbleSize, bubbleSize, bubbleAlignments$2),\n          layouts: {\n            onRtl: function () {\n              return [southeast$2];\n            },\n            onLtr: function () {\n              return [southwest$2];\n            }\n          },\n          overrides: overrides\n        };\n      };\n      return function () {\n        return lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n      };\n    };\n    var getBannerAnchor = function (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) {\n      var editableAreaAnchor = function () {\n        return {\n          type: 'node',\n          root: getContentContainer(contentAreaElement()),\n          node: Optional.from(contentAreaElement()),\n          layouts: {\n            onRtl: function () {\n              return [north];\n            },\n            onLtr: function () {\n              return [north];\n            }\n          }\n        };\n      };\n      var standardAnchor = function () {\n        return {\n          type: 'hotspot',\n          hotspot: lazyAnchorbar(),\n          layouts: {\n            onRtl: function () {\n              return [south$2];\n            },\n            onLtr: function () {\n              return [south$2];\n            }\n          }\n        };\n      };\n      return function () {\n        return lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n      };\n    };\n    var getCursorAnchor = function (editor, bodyElement) {\n      return function () {\n        return {\n          type: 'selection',\n          root: bodyElement(),\n          getSelection: function () {\n            var rng = editor.selection.getRng();\n            return Optional.some(SimSelection.range(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset));\n          }\n        };\n      };\n    };\n    var getNodeAnchor$1 = function (bodyElement) {\n      return function (element) {\n        return {\n          type: 'node',\n          root: bodyElement(),\n          node: element\n        };\n      };\n    };\n    var getAnchors = function (editor, lazyAnchorbar, isToolbarTop) {\n      var useFixedToolbarContainer = useFixedContainer(editor);\n      var bodyElement = function () {\n        return SugarElement.fromDom(editor.getBody());\n      };\n      var contentAreaElement = function () {\n        return SugarElement.fromDom(editor.getContentAreaContainer());\n      };\n      var lazyUseEditableAreaAnchor = function () {\n        return useFixedToolbarContainer || !isToolbarTop();\n      };\n      return {\n        inlineDialog: getInlineDialogAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        banner: getBannerAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        cursor: getCursorAnchor(editor, bodyElement),\n        node: getNodeAnchor$1(bodyElement)\n      };\n    };\n\n    var colorPicker = function (editor) {\n      return function (callback, value) {\n        var dialog = colorPickerDialog(editor);\n        dialog(callback, value);\n      };\n    };\n    var hasCustomColors = function (editor) {\n      return function () {\n        return hasCustomColors$1(editor);\n      };\n    };\n    var getColors = function (editor) {\n      return function () {\n        return getColors$2(editor);\n      };\n    };\n    var getColorCols = function (editor) {\n      return function () {\n        return getColorCols$1(editor);\n      };\n    };\n    var ColorInputBackstage = function (editor) {\n      return {\n        colorPicker: colorPicker(editor),\n        hasCustomColors: hasCustomColors(editor),\n        getColors: getColors(editor),\n        getColorCols: getColorCols(editor)\n      };\n    };\n\n    var isDraggableModal = function (editor) {\n      return function () {\n        return isDraggableModal$1(editor);\n      };\n    };\n    var DialogBackstage = function (editor) {\n      return { isDraggableModal: isDraggableModal(editor) };\n    };\n\n    var HeaderBackstage = function (editor) {\n      var mode = Cell(isToolbarLocationBottom(editor) ? 'bottom' : 'top');\n      return {\n        isPositionedAtTop: function () {\n          return mode.get() === 'top';\n        },\n        getDockingMode: mode.get,\n        setDockingMode: mode.set\n      };\n    };\n\n    var defaultStyleFormats = [\n      {\n        title: 'Headings',\n        items: [\n          {\n            title: 'Heading 1',\n            format: 'h1'\n          },\n          {\n            title: 'Heading 2',\n            format: 'h2'\n          },\n          {\n            title: 'Heading 3',\n            format: 'h3'\n          },\n          {\n            title: 'Heading 4',\n            format: 'h4'\n          },\n          {\n            title: 'Heading 5',\n            format: 'h5'\n          },\n          {\n            title: 'Heading 6',\n            format: 'h6'\n          }\n        ]\n      },\n      {\n        title: 'Inline',\n        items: [\n          {\n            title: 'Bold',\n            format: 'bold'\n          },\n          {\n            title: 'Italic',\n            format: 'italic'\n          },\n          {\n            title: 'Underline',\n            format: 'underline'\n          },\n          {\n            title: 'Strikethrough',\n            format: 'strikethrough'\n          },\n          {\n            title: 'Superscript',\n            format: 'superscript'\n          },\n          {\n            title: 'Subscript',\n            format: 'subscript'\n          },\n          {\n            title: 'Code',\n            format: 'code'\n          }\n        ]\n      },\n      {\n        title: 'Blocks',\n        items: [\n          {\n            title: 'Paragraph',\n            format: 'p'\n          },\n          {\n            title: 'Blockquote',\n            format: 'blockquote'\n          },\n          {\n            title: 'Div',\n            format: 'div'\n          },\n          {\n            title: 'Pre',\n            format: 'pre'\n          }\n        ]\n      },\n      {\n        title: 'Align',\n        items: [\n          {\n            title: 'Left',\n            format: 'alignleft'\n          },\n          {\n            title: 'Center',\n            format: 'aligncenter'\n          },\n          {\n            title: 'Right',\n            format: 'alignright'\n          },\n          {\n            title: 'Justify',\n            format: 'alignjustify'\n          }\n        ]\n      }\n    ];\n    var isNestedFormat = function (format) {\n      return has$2(format, 'items');\n    };\n    var isBlockFormat = function (format) {\n      return has$2(format, 'block');\n    };\n    var isInlineFormat = function (format) {\n      return has$2(format, 'inline');\n    };\n    var isSelectorFormat = function (format) {\n      return has$2(format, 'selector');\n    };\n    var mapFormats = function (userFormats) {\n      return foldl(userFormats, function (acc, fmt) {\n        if (isNestedFormat(fmt)) {\n          var result = mapFormats(fmt.items);\n          return {\n            customFormats: acc.customFormats.concat(result.customFormats),\n            formats: acc.formats.concat([{\n                title: fmt.title,\n                items: result.formats\n              }])\n          };\n        } else if (isInlineFormat(fmt) || isBlockFormat(fmt) || isSelectorFormat(fmt)) {\n          var formatName = isString(fmt.name) ? fmt.name : fmt.title.toLowerCase();\n          var formatNameWithPrefix = 'custom-' + formatName;\n          return {\n            customFormats: acc.customFormats.concat([{\n                name: formatNameWithPrefix,\n                format: fmt\n              }]),\n            formats: acc.formats.concat([{\n                title: fmt.title,\n                format: formatNameWithPrefix,\n                icon: fmt.icon\n              }])\n          };\n        } else {\n          return __assign(__assign({}, acc), { formats: acc.formats.concat(fmt) });\n        }\n      }, {\n        customFormats: [],\n        formats: []\n      });\n    };\n    var registerCustomFormats = function (editor, userFormats) {\n      var result = mapFormats(userFormats);\n      var registerFormats = function (customFormats) {\n        each$1(customFormats, function (fmt) {\n          if (!editor.formatter.has(fmt.name)) {\n            editor.formatter.register(fmt.name, fmt.format);\n          }\n        });\n      };\n      if (editor.formatter) {\n        registerFormats(result.customFormats);\n      } else {\n        editor.on('init', function () {\n          registerFormats(result.customFormats);\n        });\n      }\n      return result.formats;\n    };\n    var getStyleFormats = function (editor) {\n      return getUserStyleFormats(editor).map(function (userFormats) {\n        var registeredUserFormats = registerCustomFormats(editor, userFormats);\n        return isMergeStyleFormats(editor) ? defaultStyleFormats.concat(registeredUserFormats) : registeredUserFormats;\n      }).getOr(defaultStyleFormats);\n    };\n\n    var processBasic = function (item, isSelectedFor, getPreviewFor) {\n      var formatterSpec = {\n        type: 'formatter',\n        isSelected: isSelectedFor(item.format),\n        getStylePreview: getPreviewFor(item.format)\n      };\n      return deepMerge(item, formatterSpec);\n    };\n    var register$8 = function (editor, formats, isSelectedFor, getPreviewFor) {\n      var enrichSupported = function (item) {\n        return processBasic(item, isSelectedFor, getPreviewFor);\n      };\n      var enrichMenu = function (item) {\n        var submenuSpec = { type: 'submenu' };\n        return deepMerge(item, submenuSpec);\n      };\n      var enrichCustom = function (item) {\n        var formatName = isString(item.name) ? item.name : generate$6(item.title);\n        var formatNameWithPrefix = 'custom-' + formatName;\n        var customSpec = {\n          type: 'formatter',\n          format: formatNameWithPrefix,\n          isSelected: isSelectedFor(formatNameWithPrefix),\n          getStylePreview: getPreviewFor(formatNameWithPrefix)\n        };\n        var newItem = deepMerge(item, customSpec);\n        editor.formatter.register(formatName, newItem);\n        return newItem;\n      };\n      var doEnrich = function (items) {\n        return map$2(items, function (item) {\n          var keys$1 = keys(item);\n          if (hasNonNullableKey(item, 'items')) {\n            var newItems = doEnrich(item.items);\n            return deepMerge(enrichMenu(item), { getStyleItems: constant$1(newItems) });\n          } else if (hasNonNullableKey(item, 'format')) {\n            return enrichSupported(item);\n          } else if (keys$1.length === 1 && contains$2(keys$1, 'title')) {\n            return deepMerge(item, { type: 'separator' });\n          } else {\n            return enrichCustom(item);\n          }\n        });\n      };\n      return doEnrich(formats);\n    };\n\n    var init$8 = function (editor) {\n      var isSelectedFor = function (format) {\n        return function () {\n          return editor.formatter.match(format);\n        };\n      };\n      var getPreviewFor = function (format) {\n        return function () {\n          var fmt = editor.formatter.get(format);\n          return fmt !== undefined ? Optional.some({\n            tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n            styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n          }) : Optional.none();\n        };\n      };\n      var flatten = function (fmt) {\n        var subs = fmt.items;\n        return subs !== undefined && subs.length > 0 ? bind$3(subs, flatten) : [fmt.format];\n      };\n      var settingsFormats = Cell([]);\n      var settingsFlattenedFormats = Cell([]);\n      var eventsFormats = Cell([]);\n      var eventsFlattenedFormats = Cell([]);\n      var replaceSettings = Cell(false);\n      editor.on('PreInit', function (_e) {\n        var formats = getStyleFormats(editor);\n        var enriched = register$8(editor, formats, isSelectedFor, getPreviewFor);\n        settingsFormats.set(enriched);\n        settingsFlattenedFormats.set(bind$3(enriched, flatten));\n      });\n      editor.on('addStyleModifications', function (e) {\n        var modifications = register$8(editor, e.items, isSelectedFor, getPreviewFor);\n        eventsFormats.set(modifications);\n        replaceSettings.set(e.replace);\n        eventsFlattenedFormats.set(bind$3(modifications, flatten));\n      });\n      var getData = function () {\n        var fromSettings = replaceSettings.get() ? [] : settingsFormats.get();\n        var fromEvents = eventsFormats.get();\n        return fromSettings.concat(fromEvents);\n      };\n      var getFlattenedKeys = function () {\n        var fromSettings = replaceSettings.get() ? [] : settingsFlattenedFormats.get();\n        var fromEvents = eventsFlattenedFormats.get();\n        return fromSettings.concat(fromEvents);\n      };\n      return {\n        getData: getData,\n        getFlattenedKeys: getFlattenedKeys\n      };\n    };\n\n    var isElement = function (node) {\n      return isNonNullable(node) && node.nodeType === 1;\n    };\n    var trim = global$5.trim;\n    var hasContentEditableState = function (value) {\n      return function (node) {\n        if (isElement(node)) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    var isContentEditableTrue = hasContentEditableState('true');\n    var isContentEditableFalse = hasContentEditableState('false');\n    var create = function (type, title, url, level, attach) {\n      return {\n        type: type,\n        title: title,\n        url: url,\n        level: level,\n        attach: attach\n      };\n    };\n    var isChildOfContentEditableTrue = function (node) {\n      while (node = node.parentNode) {\n        var value = node.contentEditable;\n        if (value && value !== 'inherit') {\n          return isContentEditableTrue(node);\n        }\n      }\n      return false;\n    };\n    var select = function (selector, root) {\n      return map$2(descendants(SugarElement.fromDom(root), selector), function (element) {\n        return element.dom;\n      });\n    };\n    var getElementText = function (elm) {\n      return elm.innerText || elm.textContent;\n    };\n    var getOrGenerateId = function (elm) {\n      return elm.id ? elm.id : generate$6('h');\n    };\n    var isAnchor = function (elm) {\n      return elm && elm.nodeName === 'A' && (elm.id || elm.name) !== undefined;\n    };\n    var isValidAnchor = function (elm) {\n      return isAnchor(elm) && isEditable(elm);\n    };\n    var isHeader = function (elm) {\n      return elm && /^(H[1-6])$/.test(elm.nodeName);\n    };\n    var isEditable = function (elm) {\n      return isChildOfContentEditableTrue(elm) && !isContentEditableFalse(elm);\n    };\n    var isValidHeader = function (elm) {\n      return isHeader(elm) && isEditable(elm);\n    };\n    var getLevel = function (elm) {\n      return isHeader(elm) ? parseInt(elm.nodeName.substr(1), 10) : 0;\n    };\n    var headerTarget = function (elm) {\n      var headerId = getOrGenerateId(elm);\n      var attach = function () {\n        elm.id = headerId;\n      };\n      return create('header', getElementText(elm), '#' + headerId, getLevel(elm), attach);\n    };\n    var anchorTarget = function (elm) {\n      var anchorId = elm.id || elm.name;\n      var anchorText = getElementText(elm);\n      return create('anchor', anchorText ? anchorText : '#' + anchorId, '#' + anchorId, 0, noop);\n    };\n    var getHeaderTargets = function (elms) {\n      return map$2(filter$2(elms, isValidHeader), headerTarget);\n    };\n    var getAnchorTargets = function (elms) {\n      return map$2(filter$2(elms, isValidAnchor), anchorTarget);\n    };\n    var getTargetElements = function (elm) {\n      var elms = select('h1,h2,h3,h4,h5,h6,a:not([href])', elm);\n      return elms;\n    };\n    var hasTitle = function (target) {\n      return trim(target.title).length > 0;\n    };\n    var find = function (elm) {\n      var elms = getTargetElements(elm);\n      return filter$2(getHeaderTargets(elms).concat(getAnchorTargets(elms)), hasTitle);\n    };\n    var LinkTargets = { find: find };\n\n    var STORAGE_KEY = 'tinymce-url-history';\n    var HISTORY_LENGTH = 5;\n    var isHttpUrl = function (url) {\n      return isString(url) && /^https?/.test(url);\n    };\n    var isArrayOfUrl = function (a) {\n      return isArray(a) && a.length <= HISTORY_LENGTH && forall(a, isHttpUrl);\n    };\n    var isRecordOfUrlArray = function (r) {\n      return isObject(r) && find$4(r, function (value) {\n        return !isArrayOfUrl(value);\n      }).isNone();\n    };\n    var getAllHistory = function () {\n      var unparsedHistory = global$8.getItem(STORAGE_KEY);\n      if (unparsedHistory === null) {\n        return {};\n      }\n      var history;\n      try {\n        history = JSON.parse(unparsedHistory);\n      } catch (e) {\n        if (e instanceof SyntaxError) {\n          console.log('Local storage ' + STORAGE_KEY + ' was not valid JSON', e);\n          return {};\n        }\n        throw e;\n      }\n      if (!isRecordOfUrlArray(history)) {\n        console.log('Local storage ' + STORAGE_KEY + ' was not valid format', history);\n        return {};\n      }\n      return history;\n    };\n    var setAllHistory = function (history) {\n      if (!isRecordOfUrlArray(history)) {\n        throw new Error('Bad format for history:\\n' + JSON.stringify(history));\n      }\n      global$8.setItem(STORAGE_KEY, JSON.stringify(history));\n    };\n    var getHistory = function (fileType) {\n      var history = getAllHistory();\n      return get$e(history, fileType).getOr([]);\n    };\n    var addToHistory = function (url, fileType) {\n      if (!isHttpUrl(url)) {\n        return;\n      }\n      var history = getAllHistory();\n      var items = get$e(history, fileType).getOr([]);\n      var itemsWithoutUrl = filter$2(items, function (item) {\n        return item !== url;\n      });\n      history[fileType] = [url].concat(itemsWithoutUrl).slice(0, HISTORY_LENGTH);\n      setAllHistory(history);\n    };\n\n    var isTruthy = function (value) {\n      return !!value;\n    };\n    var makeMap = function (value) {\n      return map$1(global$5.makeMap(value, /[, ]/), isTruthy);\n    };\n    var getPicker = function (editor) {\n      return Optional.from(getFilePickerCallback(editor)).filter(isFunction);\n    };\n    var getPickerTypes = function (editor) {\n      var optFileTypes = Optional.some(getFilePickerTypes(editor)).filter(isTruthy);\n      var optLegacyTypes = Optional.some(getFileBrowserCallbackTypes(editor)).filter(isTruthy);\n      var optTypes = optFileTypes.or(optLegacyTypes).map(makeMap);\n      return getPicker(editor).fold(never, function (_picker) {\n        return optTypes.fold(always, function (types) {\n          return keys(types).length > 0 ? types : false;\n        });\n      });\n    };\n    var getPickerSetting = function (editor, filetype) {\n      var pickerTypes = getPickerTypes(editor);\n      if (isBoolean(pickerTypes)) {\n        return pickerTypes ? getPicker(editor) : Optional.none();\n      } else {\n        return pickerTypes[filetype] ? getPicker(editor) : Optional.none();\n      }\n    };\n    var getUrlPicker = function (editor, filetype) {\n      return getPickerSetting(editor, filetype).map(function (picker) {\n        return function (entry) {\n          return Future.nu(function (completer) {\n            var handler = function (value, meta) {\n              if (!isString(value)) {\n                throw new Error('Expected value to be string');\n              }\n              if (meta !== undefined && !isObject(meta)) {\n                throw new Error('Expected meta to be a object');\n              }\n              var r = {\n                value: value,\n                meta: meta\n              };\n              completer(r);\n            };\n            var meta = __assign({\n              filetype: filetype,\n              fieldname: entry.fieldname\n            }, Optional.from(entry.meta).getOr({}));\n            picker.call(editor, handler, entry.value, meta);\n          });\n        };\n      });\n    };\n    var getTextSetting = function (value) {\n      return Optional.from(value).filter(isString).getOrUndefined();\n    };\n    var getLinkInformation = function (editor) {\n      if (noTypeaheadUrls(editor)) {\n        return Optional.none();\n      }\n      return Optional.some({\n        targets: LinkTargets.find(editor.getBody()),\n        anchorTop: getTextSetting(getAnchorTop(editor)),\n        anchorBottom: getTextSetting(getAnchorBottom(editor))\n      });\n    };\n    var getValidationHandler = function (editor) {\n      return Optional.from(getFilePickerValidatorHandler(editor));\n    };\n    var UrlInputBackstage = function (editor) {\n      return {\n        getHistory: getHistory,\n        addToHistory: addToHistory,\n        getLinkInformation: function () {\n          return getLinkInformation(editor);\n        },\n        getValidationHandler: function () {\n          return getValidationHandler(editor);\n        },\n        getUrlPicker: function (filetype) {\n          return getUrlPicker(editor, filetype);\n        }\n      };\n    };\n\n    var init$7 = function (sink, editor, lazyAnchorbar) {\n      var contextMenuState = Cell(false);\n      var toolbar = HeaderBackstage(editor);\n      var backstage = {\n        shared: {\n          providers: {\n            icons: function () {\n              return editor.ui.registry.getAll().icons;\n            },\n            menuItems: function () {\n              return editor.ui.registry.getAll().menuItems;\n            },\n            translate: global$e.translate,\n            isDisabled: function () {\n              return editor.mode.isReadOnly() || editor.ui.isDisabled();\n            },\n            getSetting: editor.getParam.bind(editor)\n          },\n          interpreter: function (s) {\n            return interpretWithoutForm(s, backstage);\n          },\n          anchors: getAnchors(editor, lazyAnchorbar, toolbar.isPositionedAtTop),\n          header: toolbar,\n          getSink: function () {\n            return Result.value(sink);\n          }\n        },\n        urlinput: UrlInputBackstage(editor),\n        styleselect: init$8(editor),\n        colorinput: ColorInputBackstage(editor),\n        dialog: DialogBackstage(editor),\n        isContextMenuOpen: function () {\n          return contextMenuState.get();\n        },\n        setContextMenuState: function (state) {\n          return contextMenuState.set(state);\n        }\n      };\n      return backstage;\n    };\n\n    var setup$b = function (editor, mothership, uiMothership) {\n      var broadcastEvent = function (name, evt) {\n        each$1([\n          mothership,\n          uiMothership\n        ], function (ship) {\n          ship.broadcastEvent(name, evt);\n        });\n      };\n      var broadcastOn = function (channel, message) {\n        each$1([\n          mothership,\n          uiMothership\n        ], function (ship) {\n          ship.broadcastOn([channel], message);\n        });\n      };\n      var fireDismissPopups = function (evt) {\n        return broadcastOn(dismissPopups(), { target: evt.target });\n      };\n      var doc = getDocument();\n      var onTouchstart = bind(doc, 'touchstart', fireDismissPopups);\n      var onTouchmove = bind(doc, 'touchmove', function (evt) {\n        return broadcastEvent(documentTouchmove(), evt);\n      });\n      var onTouchend = bind(doc, 'touchend', function (evt) {\n        return broadcastEvent(documentTouchend(), evt);\n      });\n      var onMousedown = bind(doc, 'mousedown', fireDismissPopups);\n      var onMouseup = bind(doc, 'mouseup', function (evt) {\n        if (evt.raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: evt.target });\n        }\n      });\n      var onContentClick = function (raw) {\n        return broadcastOn(dismissPopups(), { target: SugarElement.fromDom(raw.target) });\n      };\n      var onContentMouseup = function (raw) {\n        if (raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: SugarElement.fromDom(raw.target) });\n        }\n      };\n      var onContentMousedown = function () {\n        each$1(editor.editorManager.get(), function (loopEditor) {\n          if (editor !== loopEditor) {\n            loopEditor.fire('DismissPopups', { relatedTarget: editor });\n          }\n        });\n      };\n      var onWindowScroll = function (evt) {\n        return broadcastEvent(windowScroll(), fromRawEvent(evt));\n      };\n      var onWindowResize = function (evt) {\n        broadcastOn(repositionPopups(), {});\n        broadcastEvent(windowResize(), fromRawEvent(evt));\n      };\n      var onEditorResize = function () {\n        return broadcastOn(repositionPopups(), {});\n      };\n      var onEditorProgress = function (evt) {\n        if (evt.state) {\n          broadcastOn(dismissPopups(), { target: SugarElement.fromDom(editor.getContainer()) });\n        }\n      };\n      var onDismissPopups = function (event) {\n        broadcastOn(dismissPopups(), { target: SugarElement.fromDom(event.relatedTarget.getContainer()) });\n      };\n      editor.on('PostRender', function () {\n        editor.on('click', onContentClick);\n        editor.on('tap', onContentClick);\n        editor.on('mouseup', onContentMouseup);\n        editor.on('mousedown', onContentMousedown);\n        editor.on('ScrollWindow', onWindowScroll);\n        editor.on('ResizeWindow', onWindowResize);\n        editor.on('ResizeEditor', onEditorResize);\n        editor.on('AfterProgressState', onEditorProgress);\n        editor.on('DismissPopups', onDismissPopups);\n      });\n      editor.on('remove', function () {\n        editor.off('click', onContentClick);\n        editor.off('tap', onContentClick);\n        editor.off('mouseup', onContentMouseup);\n        editor.off('mousedown', onContentMousedown);\n        editor.off('ScrollWindow', onWindowScroll);\n        editor.off('ResizeWindow', onWindowResize);\n        editor.off('ResizeEditor', onEditorResize);\n        editor.off('AfterProgressState', onEditorProgress);\n        editor.off('DismissPopups', onDismissPopups);\n        onMousedown.unbind();\n        onTouchstart.unbind();\n        onTouchmove.unbind();\n        onTouchend.unbind();\n        onMouseup.unbind();\n      });\n      editor.on('detach', function () {\n        detachSystem(mothership);\n        detachSystem(uiMothership);\n        mothership.destroy();\n        uiMothership.destroy();\n      });\n    };\n\n    var parts$a = AlloyParts;\n    var partType = PartType;\n\n    var schema$f = constant$1([\n      defaulted('shell', false),\n      required$1('makeItem'),\n      defaulted('setupItem', noop),\n      SketchBehaviours.field('listBehaviours', [Replacing])\n    ]);\n    var customListDetail = function () {\n      return { behaviours: derive$1([Replacing.config({})]) };\n    };\n    var itemsPart = optional({\n      name: 'items',\n      overrides: customListDetail\n    });\n    var parts$9 = constant$1([itemsPart]);\n    var name = constant$1('CustomList');\n\n    var factory$d = function (detail, components, _spec, _external) {\n      var setItems = function (list, items) {\n        getListContainer(list).fold(function () {\n          console.error('Custom List was defined to not be a shell, but no item container was specified in components');\n          throw new Error('Custom List was defined to not be a shell, but no item container was specified in components');\n        }, function (container) {\n          var itemComps = Replacing.contents(container);\n          var numListsRequired = items.length;\n          var numListsToAdd = numListsRequired - itemComps.length;\n          var itemsToAdd = numListsToAdd > 0 ? range$2(numListsToAdd, function () {\n            return detail.makeItem();\n          }) : [];\n          var itemsToRemove = itemComps.slice(numListsRequired);\n          each$1(itemsToRemove, function (item) {\n            return Replacing.remove(container, item);\n          });\n          each$1(itemsToAdd, function (item) {\n            return Replacing.append(container, item);\n          });\n          var builtLists = Replacing.contents(container);\n          each$1(builtLists, function (item, i) {\n            detail.setupItem(list, item, items[i], i);\n          });\n        });\n      };\n      var extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components: components\n      };\n      var getListContainer = function (component) {\n        return detail.shell ? Optional.some(component) : getPart(component, detail, 'items');\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.listBehaviours, extra.behaviours),\n        apis: { setItems: setItems }\n      };\n    };\n    var CustomList = composite({\n      name: name(),\n      configFields: schema$f(),\n      partFields: parts$9(),\n      factory: factory$d,\n      apis: {\n        setItems: function (apis, list, items) {\n          apis.setItems(list, items);\n        }\n      }\n    });\n\n    var schema$e = constant$1([\n      required$1('dom'),\n      defaulted('shell', true),\n      field('toolbarBehaviours', [Replacing])\n    ]);\n    var enhanceGroups = function () {\n      return { behaviours: derive$1([Replacing.config({})]) };\n    };\n    var parts$8 = constant$1([optional({\n        name: 'groups',\n        overrides: enhanceGroups\n      })]);\n\n    var factory$c = function (detail, components, _spec, _externals) {\n      var setGroups = function (toolbar, groups) {\n        getGroupContainer(toolbar).fold(function () {\n          console.error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n          throw new Error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n        }, function (container) {\n          Replacing.set(container, groups);\n        });\n      };\n      var getGroupContainer = function (component) {\n        return detail.shell ? Optional.some(component) : getPart(component, detail, 'groups');\n      };\n      var extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components: components\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.toolbarBehaviours, extra.behaviours),\n        apis: { setGroups: setGroups },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    var Toolbar = composite({\n      name: 'Toolbar',\n      configFields: schema$e(),\n      partFields: parts$8(),\n      factory: factory$c,\n      apis: {\n        setGroups: function (apis, toolbar, groups) {\n          apis.setGroups(toolbar, groups);\n        }\n      }\n    });\n\n    var setup$a = noop;\n    var isDocked$2 = never;\n    var getBehaviours$1 = constant$1([]);\n\n    var StaticHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$a,\n        isDocked: isDocked$2,\n        getBehaviours: getBehaviours$1\n    });\n\n    var getOffsetParent = function (element) {\n      var isFixed = is$1(getRaw(element, 'position'), 'fixed');\n      var offsetParent$1 = isFixed ? Optional.none() : offsetParent(element);\n      return offsetParent$1.orThunk(function () {\n        var marker = SugarElement.fromTag('span');\n        return parent(element).bind(function (parent) {\n          append$2(parent, marker);\n          var offsetParent$1 = offsetParent(marker);\n          remove$5(marker);\n          return offsetParent$1;\n        });\n      });\n    };\n    var getOrigin = function (element) {\n      return getOffsetParent(element).map(absolute$3).getOrThunk(function () {\n        return SugarPosition(0, 0);\n      });\n    };\n\n    var morphAdt = Adt.generate([\n      { static: [] },\n      { absolute: ['positionCss'] },\n      { fixed: ['positionCss'] }\n    ]);\n    var appear = function (component, contextualInfo) {\n      var elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$2(elem, contextualInfo.fadeOutClass);\n      add$2(elem, contextualInfo.fadeInClass);\n      contextualInfo.onShow(component);\n    };\n    var disappear = function (component, contextualInfo) {\n      var elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$2(elem, contextualInfo.fadeInClass);\n      add$2(elem, contextualInfo.fadeOutClass);\n      contextualInfo.onHide(component);\n    };\n    var isPartiallyVisible = function (box, viewport) {\n      return box.y < viewport.bottom && box.bottom > viewport.y;\n    };\n    var isTopCompletelyVisible = function (box, viewport) {\n      return box.y >= viewport.y;\n    };\n    var isBottomCompletelyVisible = function (box, viewport) {\n      return box.bottom <= viewport.bottom;\n    };\n    var isVisibleForModes = function (modes, box, viewport) {\n      return forall(modes, function (mode) {\n        switch (mode) {\n        case 'bottom':\n          return isBottomCompletelyVisible(box, viewport);\n        case 'top':\n          return isTopCompletelyVisible(box, viewport);\n        }\n      });\n    };\n    var getPrior = function (elem, state) {\n      return state.getInitialPos().map(function (pos) {\n        return bounds(pos.bounds.x, pos.bounds.y, get$a(elem), get$b(elem));\n      });\n    };\n    var storePrior = function (elem, box, state) {\n      state.setInitialPos({\n        style: getAllRaw(elem),\n        position: get$c(elem, 'position') || 'static',\n        bounds: box\n      });\n    };\n    var revertToOriginal = function (elem, box, state) {\n      return state.getInitialPos().bind(function (position) {\n        state.clearInitialPos();\n        switch (position.position) {\n        case 'static':\n          return Optional.some(morphAdt.static());\n        case 'absolute':\n          var offsetBox_1 = getOffsetParent(elem).map(box$1).getOrThunk(function () {\n            return box$1(body());\n          });\n          return Optional.some(morphAdt.absolute(NuPositionCss('absolute', get$e(position.style, 'left').map(function (_left) {\n            return box.x - offsetBox_1.x;\n          }), get$e(position.style, 'top').map(function (_top) {\n            return box.y - offsetBox_1.y;\n          }), get$e(position.style, 'right').map(function (_right) {\n            return offsetBox_1.right - box.right;\n          }), get$e(position.style, 'bottom').map(function (_bottom) {\n            return offsetBox_1.bottom - box.bottom;\n          }))));\n        default:\n          return Optional.none();\n        }\n      });\n    };\n    var morphToOriginal = function (elem, viewport, state) {\n      return getPrior(elem, state).filter(function (box) {\n        return isVisibleForModes(state.getModes(), box, viewport);\n      }).bind(function (box) {\n        return revertToOriginal(elem, box, state);\n      });\n    };\n    var morphToFixed = function (elem, viewport, state) {\n      var box = box$1(elem);\n      if (!isVisibleForModes(state.getModes(), box, viewport)) {\n        storePrior(elem, box, state);\n        var winBox = win();\n        var left = box.x - winBox.x;\n        var top_1 = viewport.y - winBox.y;\n        var bottom = winBox.bottom - viewport.bottom;\n        var isTop = box.y <= viewport.y;\n        return Optional.some(morphAdt.fixed(NuPositionCss('fixed', Optional.some(left), isTop ? Optional.some(top_1) : Optional.none(), Optional.none(), !isTop ? Optional.some(bottom) : Optional.none())));\n      } else {\n        return Optional.none();\n      }\n    };\n    var getMorph = function (component, viewport, state) {\n      var elem = component.element;\n      var isDocked = is$1(getRaw(elem, 'position'), 'fixed');\n      return isDocked ? morphToOriginal(elem, viewport, state) : morphToFixed(elem, viewport, state);\n    };\n    var getMorphToOriginal = function (component, state) {\n      var elem = component.element;\n      return getPrior(elem, state).bind(function (box) {\n        return revertToOriginal(elem, box, state);\n      });\n    };\n\n    var morphToStatic = function (component, config, state) {\n      state.setDocked(false);\n      each$1([\n        'left',\n        'right',\n        'top',\n        'bottom',\n        'position'\n      ], function (prop) {\n        return remove$6(component.element, prop);\n      });\n      config.onUndocked(component);\n    };\n    var morphToCoord = function (component, config, state, position) {\n      var isDocked = position.position === 'fixed';\n      state.setDocked(isDocked);\n      applyPositionCss(component.element, position);\n      var method = isDocked ? config.onDocked : config.onUndocked;\n      method(component);\n    };\n    var updateVisibility = function (component, config, state, viewport, morphToDocked) {\n      if (morphToDocked === void 0) {\n        morphToDocked = false;\n      }\n      config.contextual.each(function (contextInfo) {\n        contextInfo.lazyContext(component).each(function (box) {\n          var isVisible = isPartiallyVisible(box, viewport);\n          if (isVisible !== state.isVisible()) {\n            state.setVisible(isVisible);\n            if (morphToDocked && !isVisible) {\n              add$1(component.element, [contextInfo.fadeOutClass]);\n              contextInfo.onHide(component);\n            } else {\n              var method = isVisible ? appear : disappear;\n              method(component, contextInfo);\n            }\n          }\n        });\n      });\n    };\n    var refreshInternal = function (component, config, state) {\n      var viewport = config.lazyViewport(component);\n      var isDocked = state.isDocked();\n      if (isDocked) {\n        updateVisibility(component, config, state, viewport);\n      }\n      getMorph(component, viewport, state).each(function (morph) {\n        morph.fold(function () {\n          return morphToStatic(component, config, state);\n        }, function (position) {\n          return morphToCoord(component, config, state, position);\n        }, function (position) {\n          updateVisibility(component, config, state, viewport, true);\n          morphToCoord(component, config, state, position);\n        });\n      });\n    };\n    var resetInternal = function (component, config, state) {\n      var elem = component.element;\n      state.setDocked(false);\n      getMorphToOriginal(component, state).each(function (morph) {\n        morph.fold(function () {\n          return morphToStatic(component, config, state);\n        }, function (position) {\n          return morphToCoord(component, config, state, position);\n        }, noop);\n      });\n      state.setVisible(true);\n      config.contextual.each(function (contextInfo) {\n        remove$1(elem, [\n          contextInfo.fadeInClass,\n          contextInfo.fadeOutClass,\n          contextInfo.transitionClass\n        ]);\n        contextInfo.onShow(component);\n      });\n      refresh$4(component, config, state);\n    };\n    var refresh$4 = function (component, config, state) {\n      if (component.getSystem().isConnected()) {\n        refreshInternal(component, config, state);\n      }\n    };\n    var reset = function (component, config, state) {\n      if (state.isDocked()) {\n        resetInternal(component, config, state);\n      }\n    };\n    var isDocked$1 = function (component, config, state) {\n      return state.isDocked();\n    };\n    var setModes = function (component, config, state, modes) {\n      return state.setModes(modes);\n    };\n    var getModes = function (component, config, state) {\n      return state.getModes();\n    };\n\n    var DockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$4,\n        reset: reset,\n        isDocked: isDocked$1,\n        getModes: getModes,\n        setModes: setModes\n    });\n\n    var events$5 = function (dockInfo, dockState) {\n      return derive$2([\n        runOnSource(transitionend(), function (component, simulatedEvent) {\n          dockInfo.contextual.each(function (contextInfo) {\n            if (has(component.element, contextInfo.transitionClass)) {\n              remove$1(component.element, [\n                contextInfo.transitionClass,\n                contextInfo.fadeInClass\n              ]);\n              var notify = dockState.isVisible() ? contextInfo.onShown : contextInfo.onHidden;\n              notify(component);\n            }\n            simulatedEvent.stop();\n          });\n        }),\n        run$1(windowScroll(), function (component, _) {\n          refresh$4(component, dockInfo, dockState);\n        }),\n        run$1(windowResize(), function (component, _) {\n          reset(component, dockInfo, dockState);\n        })\n      ]);\n    };\n\n    var ActiveDocking = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$5\n    });\n\n    var DockingSchema = [\n      optionObjOf('contextual', [\n        requiredString('fadeInClass'),\n        requiredString('fadeOutClass'),\n        requiredString('transitionClass'),\n        requiredFunction('lazyContext'),\n        onHandler('onShow'),\n        onHandler('onShown'),\n        onHandler('onHide'),\n        onHandler('onHidden')\n      ]),\n      defaultedFunction('lazyViewport', win),\n      defaultedArrayOf('modes', [\n        'top',\n        'bottom'\n      ], string),\n      onHandler('onDocked'),\n      onHandler('onUndocked')\n    ];\n\n    var init$6 = function (spec) {\n      var docked = Cell(false);\n      var visible = Cell(true);\n      var initialBounds = value$1();\n      var modes = Cell(spec.modes);\n      var readState = function () {\n        return 'docked:  ' + docked.get() + ', visible: ' + visible.get() + ', modes: ' + modes.get().join(',');\n      };\n      return nu$8({\n        isDocked: docked.get,\n        setDocked: docked.set,\n        getInitialPos: initialBounds.get,\n        setInitialPos: initialBounds.set,\n        clearInitialPos: initialBounds.clear,\n        isVisible: visible.get,\n        setVisible: visible.set,\n        getModes: modes.get,\n        setModes: modes.set,\n        readState: readState\n      });\n    };\n\n    var DockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$6\n    });\n\n    var Docking = create$8({\n      fields: DockingSchema,\n      name: 'docking',\n      active: ActiveDocking,\n      apis: DockingApis,\n      state: DockingState\n    });\n\n    var toolbarHeightChange = constant$1(generate$6('toolbar-height-change'));\n\n    var visibility = {\n      fadeInClass: 'tox-editor-dock-fadein',\n      fadeOutClass: 'tox-editor-dock-fadeout',\n      transitionClass: 'tox-editor-dock-transition'\n    };\n    var editorStickyOnClass = 'tox-tinymce--toolbar-sticky-on';\n    var editorStickyOffClass = 'tox-tinymce--toolbar-sticky-off';\n    var scrollFromBehindHeader = function (e, containerHeader) {\n      var doc = owner$4(containerHeader);\n      var viewHeight = doc.dom.defaultView.innerHeight;\n      var scrollPos = get$9(doc);\n      var markerElement = SugarElement.fromDom(e.elm);\n      var markerPos = absolute$2(markerElement);\n      var markerHeight = get$b(markerElement);\n      var markerTop = markerPos.y;\n      var markerBottom = markerTop + markerHeight;\n      var editorHeaderPos = absolute$3(containerHeader);\n      var editorHeaderHeight = get$b(containerHeader);\n      var editorHeaderTop = editorHeaderPos.top;\n      var editorHeaderBottom = editorHeaderTop + editorHeaderHeight;\n      var editorHeaderDockedAtTop = Math.abs(editorHeaderTop - scrollPos.top) < 2;\n      var editorHeaderDockedAtBottom = Math.abs(editorHeaderBottom - (scrollPos.top + viewHeight)) < 2;\n      if (editorHeaderDockedAtTop && markerTop < editorHeaderBottom) {\n        to(scrollPos.left, markerTop - editorHeaderHeight, doc);\n      } else if (editorHeaderDockedAtBottom && markerBottom > editorHeaderTop) {\n        var y = markerTop - viewHeight + markerHeight + editorHeaderHeight;\n        to(scrollPos.left, y, doc);\n      }\n    };\n    var isDockedMode = function (header, mode) {\n      return contains$2(Docking.getModes(header), mode);\n    };\n    var updateIframeContentFlow = function (header) {\n      var getOccupiedHeight = function (elm) {\n        return getOuter$2(elm) + (parseInt(get$c(elm, 'margin-top'), 10) || 0) + (parseInt(get$c(elm, 'margin-bottom'), 10) || 0);\n      };\n      var elm = header.element;\n      parent(elm).each(function (parentElem) {\n        var padding = 'padding-' + Docking.getModes(header)[0];\n        if (Docking.isDocked(header)) {\n          var parentWidth = get$a(parentElem);\n          set$7(elm, 'width', parentWidth + 'px');\n          set$7(parentElem, padding, getOccupiedHeight(elm) + 'px');\n        } else {\n          remove$6(elm, 'width');\n          remove$6(parentElem, padding);\n        }\n      });\n    };\n    var updateSinkVisibility = function (sinkElem, visible) {\n      if (visible) {\n        remove$2(sinkElem, visibility.fadeOutClass);\n        add$1(sinkElem, [\n          visibility.transitionClass,\n          visibility.fadeInClass\n        ]);\n      } else {\n        remove$2(sinkElem, visibility.fadeInClass);\n        add$1(sinkElem, [\n          visibility.fadeOutClass,\n          visibility.transitionClass\n        ]);\n      }\n    };\n    var updateEditorClasses = function (editor, docked) {\n      var editorContainer = SugarElement.fromDom(editor.getContainer());\n      if (docked) {\n        add$2(editorContainer, editorStickyOnClass);\n        remove$2(editorContainer, editorStickyOffClass);\n      } else {\n        add$2(editorContainer, editorStickyOffClass);\n        remove$2(editorContainer, editorStickyOnClass);\n      }\n    };\n    var restoreFocus = function (headerElem, focusedElem) {\n      var ownerDoc = owner$4(focusedElem);\n      active(ownerDoc).filter(function (activeElm) {\n        return !eq(focusedElem, activeElm);\n      }).filter(function (activeElm) {\n        return eq(activeElm, SugarElement.fromDom(ownerDoc.dom.body)) || contains(headerElem, activeElm);\n      }).each(function () {\n        return focus$3(focusedElem);\n      });\n    };\n    var findFocusedElem = function (rootElm, lazySink) {\n      return search(rootElm).orThunk(function () {\n        return lazySink().toOptional().bind(function (sink) {\n          return search(sink.element);\n        });\n      });\n    };\n    var setup$9 = function (editor, sharedBackstage, lazyHeader) {\n      if (!editor.inline) {\n        if (!sharedBackstage.header.isPositionedAtTop()) {\n          editor.on('ResizeEditor', function () {\n            lazyHeader().each(Docking.reset);\n          });\n        }\n        editor.on('ResizeWindow ResizeEditor', function () {\n          lazyHeader().each(updateIframeContentFlow);\n        });\n        editor.on('SkinLoaded', function () {\n          lazyHeader().each(function (comp) {\n            Docking.isDocked(comp) ? Docking.reset(comp) : Docking.refresh(comp);\n          });\n        });\n        editor.on('FullscreenStateChanged', function () {\n          lazyHeader().each(Docking.reset);\n        });\n      }\n      editor.on('AfterScrollIntoView', function (e) {\n        lazyHeader().each(function (header) {\n          Docking.refresh(header);\n          var headerElem = header.element;\n          if (isVisible(headerElem)) {\n            scrollFromBehindHeader(e, headerElem);\n          }\n        });\n      });\n      editor.on('PostRender', function () {\n        updateEditorClasses(editor, false);\n      });\n    };\n    var isDocked = function (lazyHeader) {\n      return lazyHeader().map(Docking.isDocked).getOr(false);\n    };\n    var getIframeBehaviours = function () {\n      var _a;\n      return [Receiving.config({ channels: (_a = {}, _a[toolbarHeightChange()] = { onReceive: updateIframeContentFlow }, _a) })];\n    };\n    var getBehaviours = function (editor, sharedBackstage) {\n      var focusedElm = value$1();\n      var lazySink = sharedBackstage.getSink;\n      var runOnSinkElement = function (f) {\n        lazySink().each(function (sink) {\n          return f(sink.element);\n        });\n      };\n      var onDockingSwitch = function (comp) {\n        if (!editor.inline) {\n          updateIframeContentFlow(comp);\n        }\n        updateEditorClasses(editor, Docking.isDocked(comp));\n        comp.getSystem().broadcastOn([repositionPopups()], {});\n        lazySink().each(function (sink) {\n          return sink.getSystem().broadcastOn([repositionPopups()], {});\n        });\n      };\n      var additionalBehaviours = editor.inline ? [] : getIframeBehaviours();\n      return __spreadArray([\n        Focusing.config({}),\n        Docking.config({\n          contextual: __assign({\n            lazyContext: function (comp) {\n              var headerHeight = getOuter$2(comp.element);\n              var container = editor.inline ? editor.getContentAreaContainer() : editor.getContainer();\n              var box = box$1(SugarElement.fromDom(container));\n              var boxHeight = box.height - headerHeight;\n              var topBound = box.y + (isDockedMode(comp, 'top') ? 0 : headerHeight);\n              return Optional.some(bounds(box.x, topBound, box.width, boxHeight));\n            },\n            onShow: function () {\n              runOnSinkElement(function (elem) {\n                return updateSinkVisibility(elem, true);\n              });\n            },\n            onShown: function (comp) {\n              runOnSinkElement(function (elem) {\n                return remove$1(elem, [\n                  visibility.transitionClass,\n                  visibility.fadeInClass\n                ]);\n              });\n              focusedElm.get().each(function (elem) {\n                restoreFocus(comp.element, elem);\n                focusedElm.clear();\n              });\n            },\n            onHide: function (comp) {\n              findFocusedElem(comp.element, lazySink).fold(focusedElm.clear, focusedElm.set);\n              runOnSinkElement(function (elem) {\n                return updateSinkVisibility(elem, false);\n              });\n            },\n            onHidden: function () {\n              runOnSinkElement(function (elem) {\n                return remove$1(elem, [visibility.transitionClass]);\n              });\n            }\n          }, visibility),\n          lazyViewport: function (comp) {\n            var win$1 = win();\n            var offset = getStickyToolbarOffset(editor);\n            var top = win$1.y + (isDockedMode(comp, 'top') ? offset : 0);\n            var height = win$1.height - (isDockedMode(comp, 'bottom') ? offset : 0);\n            return bounds(win$1.x, top, win$1.width, height);\n          },\n          modes: [sharedBackstage.header.getDockingMode()],\n          onDocked: onDockingSwitch,\n          onUndocked: onDockingSwitch\n        })\n      ], additionalBehaviours, true);\n    };\n\n    var StickyHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$9,\n        isDocked: isDocked,\n        getBehaviours: getBehaviours\n    });\n\n    var renderHeader = function (spec) {\n      var editor = spec.editor;\n      var getBehaviours$2 = spec.sticky ? getBehaviours : getBehaviours$1;\n      return {\n        uid: spec.uid,\n        dom: spec.dom,\n        components: spec.components,\n        behaviours: derive$1(getBehaviours$2(editor, spec.sharedBackstage))\n      };\n    };\n\n    var groupToolbarButtonSchema = objOf([\n      requiredString('type'),\n      requiredOf('items', oneOf([\n        arrOfObj([\n          requiredString('name'),\n          requiredArrayOf('items', string)\n        ]),\n        string\n      ]))\n    ].concat(baseToolbarButtonFields));\n    var createGroupToolbarButton = function (spec) {\n      return asRaw('GroupToolbarButton', groupToolbarButtonSchema, spec);\n    };\n\n    var baseMenuButtonFields = [\n      optionString('text'),\n      optionString('tooltip'),\n      optionString('icon'),\n      requiredFunction('fetch'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      })\n    ];\n\n    var MenuButtonSchema = objOf(__spreadArray([requiredString('type')], baseMenuButtonFields, true));\n    var createMenuButton = function (spec) {\n      return asRaw('menubutton', MenuButtonSchema, spec);\n    };\n\n    var splitButtonSchema = objOf([\n      requiredString('type'),\n      optionString('tooltip'),\n      optionString('icon'),\n      optionString('text'),\n      optionFunction('select'),\n      requiredFunction('fetch'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      defaultedStringEnum('presets', 'normal', [\n        'normal',\n        'color',\n        'listpreview'\n      ]),\n      defaulted('columns', 1),\n      requiredFunction('onAction'),\n      requiredFunction('onItemAction')\n    ]);\n    var createSplitButton = function (spec) {\n      return asRaw('SplitButton', splitButtonSchema, spec);\n    };\n\n    var factory$b = function (detail, spec) {\n      var setMenus = function (comp, menus) {\n        var newMenus = map$2(menus, function (m) {\n          var buttonSpec = {\n            type: 'menubutton',\n            text: m.text,\n            fetch: function (callback) {\n              callback(m.getItems());\n            }\n          };\n          var internal = createMenuButton(buttonSpec).mapError(function (errInfo) {\n            return formatError(errInfo);\n          }).getOrDie();\n          return renderMenuButton(internal, 'tox-mbtn', spec.backstage, Optional.some('menuitem'));\n        });\n        Replacing.set(comp, newMenus);\n      };\n      var apis = {\n        focus: Keying.focusIn,\n        setMenus: setMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: [],\n        behaviours: derive$1([\n          Replacing.config({}),\n          config('menubar-events', [\n            runOnAttached(function (component) {\n              detail.onSetup(component);\n            }),\n            run$1(mouseover(), function (comp, se) {\n              descendant(comp.element, '.' + 'tox-mbtn--active').each(function (activeButton) {\n                closest$1(se.event.target, '.' + 'tox-mbtn').each(function (hoveredButton) {\n                  if (!eq(activeButton, hoveredButton)) {\n                    comp.getSystem().getByDom(activeButton).each(function (activeComp) {\n                      comp.getSystem().getByDom(hoveredButton).each(function (hoveredComp) {\n                        Dropdown.expand(hoveredComp);\n                        Dropdown.close(activeComp);\n                        Focusing.focus(hoveredComp);\n                      });\n                    });\n                  }\n                });\n              });\n            }),\n            run$1(focusShifted(), function (comp, se) {\n              se.event.prevFocus.bind(function (prev) {\n                return comp.getSystem().getByDom(prev).toOptional();\n              }).each(function (prev) {\n                se.event.newFocus.bind(function (nu) {\n                  return comp.getSystem().getByDom(nu).toOptional();\n                }).each(function (nu) {\n                  if (Dropdown.isOpen(prev)) {\n                    Dropdown.expand(nu);\n                    Dropdown.close(prev);\n                  }\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'flow',\n            selector: '.' + 'tox-mbtn',\n            onEscape: function (comp) {\n              detail.onEscape(comp);\n              return Optional.some(true);\n            }\n          }),\n          Tabstopping.config({})\n        ]),\n        apis: apis,\n        domModification: { attributes: { role: 'menubar' } }\n      };\n    };\n    var SilverMenubar = single({\n      factory: factory$b,\n      name: 'silver.Menubar',\n      configFields: [\n        required$1('dom'),\n        required$1('uid'),\n        required$1('onEscape'),\n        required$1('backstage'),\n        defaulted('onSetup', noop)\n      ],\n      apis: {\n        focus: function (apis, comp) {\n          apis.focus(comp);\n        },\n        setMenus: function (apis, comp, menus) {\n          apis.setMenus(comp, menus);\n        }\n      }\n    });\n\n    var getAnimationRoot = function (component, slideConfig) {\n      return slideConfig.getAnimationRoot.fold(function () {\n        return component.element;\n      }, function (get) {\n        return get(component);\n      });\n    };\n\n    var getDimensionProperty = function (slideConfig) {\n      return slideConfig.dimension.property;\n    };\n    var getDimension = function (slideConfig, elem) {\n      return slideConfig.dimension.getDimension(elem);\n    };\n    var disableTransitions = function (component, slideConfig) {\n      var root = getAnimationRoot(component, slideConfig);\n      remove$1(root, [\n        slideConfig.shrinkingClass,\n        slideConfig.growingClass\n      ]);\n    };\n    var setShrunk = function (component, slideConfig) {\n      remove$2(component.element, slideConfig.openClass);\n      add$2(component.element, slideConfig.closedClass);\n      set$7(component.element, getDimensionProperty(slideConfig), '0px');\n      reflow(component.element);\n    };\n    var setGrown = function (component, slideConfig) {\n      remove$2(component.element, slideConfig.closedClass);\n      add$2(component.element, slideConfig.openClass);\n      remove$6(component.element, getDimensionProperty(slideConfig));\n    };\n    var doImmediateShrink = function (component, slideConfig, slideState, _calculatedSize) {\n      slideState.setCollapsed();\n      set$7(component.element, getDimensionProperty(slideConfig), getDimension(slideConfig, component.element));\n      reflow(component.element);\n      disableTransitions(component, slideConfig);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n      slideConfig.onShrunk(component);\n    };\n    var doStartShrink = function (component, slideConfig, slideState, calculatedSize) {\n      var size = calculatedSize.getOrThunk(function () {\n        return getDimension(slideConfig, component.element);\n      });\n      slideState.setCollapsed();\n      set$7(component.element, getDimensionProperty(slideConfig), size);\n      reflow(component.element);\n      var root = getAnimationRoot(component, slideConfig);\n      remove$2(root, slideConfig.growingClass);\n      add$2(root, slideConfig.shrinkingClass);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n    };\n    var doStartSmartShrink = function (component, slideConfig, slideState) {\n      var size = getDimension(slideConfig, component.element);\n      var shrinker = size === '0px' ? doImmediateShrink : doStartShrink;\n      shrinker(component, slideConfig, slideState, Optional.some(size));\n    };\n    var doStartGrow = function (component, slideConfig, slideState) {\n      var root = getAnimationRoot(component, slideConfig);\n      var wasShrinking = has(root, slideConfig.shrinkingClass);\n      var beforeSize = getDimension(slideConfig, component.element);\n      setGrown(component, slideConfig);\n      var fullSize = getDimension(slideConfig, component.element);\n      var startPartialGrow = function () {\n        set$7(component.element, getDimensionProperty(slideConfig), beforeSize);\n        reflow(component.element);\n      };\n      var startCompleteGrow = function () {\n        setShrunk(component, slideConfig);\n      };\n      var setStartSize = wasShrinking ? startPartialGrow : startCompleteGrow;\n      setStartSize();\n      remove$2(root, slideConfig.shrinkingClass);\n      add$2(root, slideConfig.growingClass);\n      setGrown(component, slideConfig);\n      set$7(component.element, getDimensionProperty(slideConfig), fullSize);\n      slideState.setExpanded();\n      slideConfig.onStartGrow(component);\n    };\n    var refresh$3 = function (component, slideConfig, slideState) {\n      if (slideState.isExpanded()) {\n        remove$6(component.element, getDimensionProperty(slideConfig));\n        var fullSize = getDimension(slideConfig, component.element);\n        set$7(component.element, getDimensionProperty(slideConfig), fullSize);\n      }\n    };\n    var grow = function (component, slideConfig, slideState) {\n      if (!slideState.isExpanded()) {\n        doStartGrow(component, slideConfig, slideState);\n      }\n    };\n    var shrink = function (component, slideConfig, slideState) {\n      if (slideState.isExpanded()) {\n        doStartSmartShrink(component, slideConfig, slideState);\n      }\n    };\n    var immediateShrink = function (component, slideConfig, slideState) {\n      if (slideState.isExpanded()) {\n        doImmediateShrink(component, slideConfig, slideState);\n      }\n    };\n    var hasGrown = function (component, slideConfig, slideState) {\n      return slideState.isExpanded();\n    };\n    var hasShrunk = function (component, slideConfig, slideState) {\n      return slideState.isCollapsed();\n    };\n    var isGrowing = function (component, slideConfig, _slideState) {\n      var root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.growingClass) === true;\n    };\n    var isShrinking = function (component, slideConfig, _slideState) {\n      var root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.shrinkingClass) === true;\n    };\n    var isTransitioning = function (component, slideConfig, slideState) {\n      return isGrowing(component, slideConfig) || isShrinking(component, slideConfig);\n    };\n    var toggleGrow = function (component, slideConfig, slideState) {\n      var f = slideState.isExpanded() ? doStartSmartShrink : doStartGrow;\n      f(component, slideConfig, slideState);\n    };\n\n    var SlidingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$3,\n        grow: grow,\n        shrink: shrink,\n        immediateShrink: immediateShrink,\n        hasGrown: hasGrown,\n        hasShrunk: hasShrunk,\n        isGrowing: isGrowing,\n        isShrinking: isShrinking,\n        isTransitioning: isTransitioning,\n        toggleGrow: toggleGrow,\n        disableTransitions: disableTransitions\n    });\n\n    var exhibit = function (base, slideConfig, _slideState) {\n      var expanded = slideConfig.expanded;\n      return expanded ? nu$7({\n        classes: [slideConfig.openClass],\n        styles: {}\n      }) : nu$7({\n        classes: [slideConfig.closedClass],\n        styles: wrap$1(slideConfig.dimension.property, '0px')\n      });\n    };\n    var events$4 = function (slideConfig, slideState) {\n      return derive$2([runOnSource(transitionend(), function (component, simulatedEvent) {\n          var raw = simulatedEvent.event.raw;\n          if (raw.propertyName === slideConfig.dimension.property) {\n            disableTransitions(component, slideConfig);\n            if (slideState.isExpanded()) {\n              remove$6(component.element, slideConfig.dimension.property);\n            }\n            var notify = slideState.isExpanded() ? slideConfig.onGrown : slideConfig.onShrunk;\n            notify(component);\n          }\n        })]);\n    };\n\n    var ActiveSliding = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit,\n        events: events$4\n    });\n\n    var SlidingSchema = [\n      required$1('closedClass'),\n      required$1('openClass'),\n      required$1('shrinkingClass'),\n      required$1('growingClass'),\n      option('getAnimationRoot'),\n      onHandler('onShrunk'),\n      onHandler('onStartShrink'),\n      onHandler('onGrown'),\n      onHandler('onStartGrow'),\n      defaulted('expanded', false),\n      requiredOf('dimension', choose$1('property', {\n        width: [\n          output$1('property', 'width'),\n          output$1('getDimension', function (elem) {\n            return get$a(elem) + 'px';\n          })\n        ],\n        height: [\n          output$1('property', 'height'),\n          output$1('getDimension', function (elem) {\n            return get$b(elem) + 'px';\n          })\n        ]\n      }))\n    ];\n\n    var init$5 = function (spec) {\n      var state = Cell(spec.expanded);\n      var readState = function () {\n        return 'expanded: ' + state.get();\n      };\n      return nu$8({\n        isExpanded: function () {\n          return state.get() === true;\n        },\n        isCollapsed: function () {\n          return state.get() === false;\n        },\n        setCollapsed: curry(state.set, false),\n        setExpanded: curry(state.set, true),\n        readState: readState\n      });\n    };\n\n    var SlidingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$5\n    });\n\n    var Sliding = create$8({\n      fields: SlidingSchema,\n      name: 'sliding',\n      active: ActiveSliding,\n      apis: SlidingApis,\n      state: SlidingState\n    });\n\n    var owner = 'container';\n    var schema$d = [field('slotBehaviours', [])];\n    var getPartName = function (name) {\n      return '<alloy.field.' + name + '>';\n    };\n    var sketch = function (sSpec) {\n      var parts = function () {\n        var record = [];\n        var slot = function (name, config) {\n          record.push(name);\n          return generateOne$1(owner, getPartName(name), config);\n        };\n        return {\n          slot: slot,\n          record: constant$1(record)\n        };\n      }();\n      var spec = sSpec(parts);\n      var partNames = parts.record();\n      var fieldParts = map$2(partNames, function (n) {\n        return required({\n          name: n,\n          pname: getPartName(n)\n        });\n      });\n      return composite$1(owner, schema$d, fieldParts, make$1, spec);\n    };\n    var make$1 = function (detail, components) {\n      var getSlotNames = function (_) {\n        return getAllPartNames(detail);\n      };\n      var getSlot = function (container, key) {\n        return getPart(container, detail, key);\n      };\n      var onSlot = function (f, def) {\n        return function (container, key) {\n          return getPart(container, detail, key).map(function (slot) {\n            return f(slot, key);\n          }).getOr(def);\n        };\n      };\n      var onSlots = function (f) {\n        return function (container, keys) {\n          each$1(keys, function (key) {\n            return f(container, key);\n          });\n        };\n      };\n      var doShowing = function (comp, _key) {\n        return get$d(comp.element, 'aria-hidden') !== 'true';\n      };\n      var doShow = function (comp, key) {\n        if (!doShowing(comp)) {\n          var element = comp.element;\n          remove$6(element, 'display');\n          remove$7(element, 'aria-hidden');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: true\n          });\n        }\n      };\n      var doHide = function (comp, key) {\n        if (doShowing(comp)) {\n          var element = comp.element;\n          set$7(element, 'display', 'none');\n          set$8(element, 'aria-hidden', 'true');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: false\n          });\n        }\n      };\n      var isShowing = onSlot(doShowing, false);\n      var hideSlot = onSlot(doHide);\n      var hideSlots = onSlots(hideSlot);\n      var hideAllSlots = function (container) {\n        return hideSlots(container, getSlotNames());\n      };\n      var showSlot = onSlot(doShow);\n      var apis = {\n        getSlotNames: getSlotNames,\n        getSlot: getSlot,\n        isShowing: isShowing,\n        hideSlot: hideSlot,\n        hideAllSlots: hideAllSlots,\n        showSlot: showSlot\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: get$2(detail.slotBehaviours),\n        apis: apis\n      };\n    };\n    var slotApis = map$1({\n      getSlotNames: function (apis, c) {\n        return apis.getSlotNames(c);\n      },\n      getSlot: function (apis, c, key) {\n        return apis.getSlot(c, key);\n      },\n      isShowing: function (apis, c, key) {\n        return apis.isShowing(c, key);\n      },\n      hideSlot: function (apis, c, key) {\n        return apis.hideSlot(c, key);\n      },\n      hideAllSlots: function (apis, c) {\n        return apis.hideAllSlots(c);\n      },\n      showSlot: function (apis, c, key) {\n        return apis.showSlot(c, key);\n      }\n    }, function (value) {\n      return makeApi(value);\n    });\n    var SlotContainer = __assign(__assign({}, slotApis), { sketch: sketch });\n\n    var sidebarSchema = objOf([\n      optionString('icon'),\n      optionString('tooltip'),\n      defaultedFunction('onShow', noop),\n      defaultedFunction('onHide', noop),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      })\n    ]);\n    var createSidebar = function (spec) {\n      return asRaw('sidebar', sidebarSchema, spec);\n    };\n\n    var setup$8 = function (editor) {\n      var sidebars = editor.ui.registry.getAll().sidebars;\n      each$1(keys(sidebars), function (name) {\n        var spec = sidebars[name];\n        var isActive = function () {\n          return is$1(Optional.from(editor.queryCommandValue('ToggleSidebar')), name);\n        };\n        editor.ui.registry.addToggleButton(name, {\n          icon: spec.icon,\n          tooltip: spec.tooltip,\n          onAction: function (buttonApi) {\n            editor.execCommand('ToggleSidebar', false, name);\n            buttonApi.setActive(isActive());\n          },\n          onSetup: function (buttonApi) {\n            var handleToggle = function () {\n              return buttonApi.setActive(isActive());\n            };\n            editor.on('ToggleSidebar', handleToggle);\n            return function () {\n              editor.off('ToggleSidebar', handleToggle);\n            };\n          }\n        });\n      });\n    };\n    var getApi = function (comp) {\n      return {\n        element: function () {\n          return comp.element.dom;\n        }\n      };\n    };\n    var makePanels = function (parts, panelConfigs) {\n      var specs = map$2(keys(panelConfigs), function (name) {\n        var spec = panelConfigs[name];\n        var bridged = getOrDie(createSidebar(spec));\n        return {\n          name: name,\n          getApi: getApi,\n          onSetup: bridged.onSetup,\n          onShow: bridged.onShow,\n          onHide: bridged.onHide\n        };\n      });\n      return map$2(specs, function (spec) {\n        var editorOffCell = Cell(noop);\n        return parts.slot(spec.name, {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__pane']\n          },\n          behaviours: SimpleBehaviours.unnamedEvents([\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell),\n            run$1(slotVisibility(), function (sidepanel, se) {\n              var data = se.event;\n              var optSidePanelSpec = find$5(specs, function (config) {\n                return config.name === data.name;\n              });\n              optSidePanelSpec.each(function (sidePanelSpec) {\n                var handler = data.visible ? sidePanelSpec.onShow : sidePanelSpec.onHide;\n                handler(sidePanelSpec.getApi(sidepanel));\n              });\n            })\n          ])\n        });\n      });\n    };\n    var makeSidebar = function (panelConfigs) {\n      return SlotContainer.sketch(function (parts) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__pane-container']\n          },\n          components: makePanels(parts, panelConfigs),\n          slotBehaviours: SimpleBehaviours.unnamedEvents([runOnAttached(function (slotContainer) {\n              return SlotContainer.hideAllSlots(slotContainer);\n            })])\n        };\n      });\n    };\n    var setSidebar = function (sidebar, panelConfigs) {\n      var optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(function (slider) {\n        return Replacing.set(slider, [makeSidebar(panelConfigs)]);\n      });\n    };\n    var toggleSidebar = function (sidebar, name) {\n      var optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(function (slider) {\n        var optSlotContainer = Composing.getCurrent(slider);\n        optSlotContainer.each(function (slotContainer) {\n          if (Sliding.hasGrown(slider)) {\n            if (SlotContainer.isShowing(slotContainer, name)) {\n              Sliding.shrink(slider);\n            } else {\n              SlotContainer.hideAllSlots(slotContainer);\n              SlotContainer.showSlot(slotContainer, name);\n            }\n          } else {\n            SlotContainer.hideAllSlots(slotContainer);\n            SlotContainer.showSlot(slotContainer, name);\n            Sliding.grow(slider);\n          }\n        });\n      });\n    };\n    var whichSidebar = function (sidebar) {\n      var optSlider = Composing.getCurrent(sidebar);\n      return optSlider.bind(function (slider) {\n        var sidebarOpen = Sliding.isGrowing(slider) || Sliding.hasGrown(slider);\n        if (sidebarOpen) {\n          var optSlotContainer = Composing.getCurrent(slider);\n          return optSlotContainer.bind(function (slotContainer) {\n            return find$5(SlotContainer.getSlotNames(slotContainer), function (name) {\n              return SlotContainer.isShowing(slotContainer, name);\n            });\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var fixSize = generate$6('FixSizeEvent');\n    var autoSize = generate$6('AutoSizeEvent');\n    var renderSidebar = function (spec) {\n      return {\n        uid: spec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-sidebar'],\n          attributes: { role: 'complementary' }\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-sidebar__slider']\n            },\n            components: [],\n            behaviours: derive$1([\n              Tabstopping.config({}),\n              Focusing.config({}),\n              Sliding.config({\n                dimension: { property: 'width' },\n                closedClass: 'tox-sidebar--sliding-closed',\n                openClass: 'tox-sidebar--sliding-open',\n                shrinkingClass: 'tox-sidebar--sliding-shrinking',\n                growingClass: 'tox-sidebar--sliding-growing',\n                onShrunk: function (slider) {\n                  var optSlotContainer = Composing.getCurrent(slider);\n                  optSlotContainer.each(SlotContainer.hideAllSlots);\n                  emit(slider, autoSize);\n                },\n                onGrown: function (slider) {\n                  emit(slider, autoSize);\n                },\n                onStartGrow: function (slider) {\n                  emitWith(slider, fixSize, { width: getRaw(slider.element, 'width').getOr('') });\n                },\n                onStartShrink: function (slider) {\n                  emitWith(slider, fixSize, { width: get$a(slider.element) + 'px' });\n                }\n              }),\n              Replacing.config({}),\n              Composing.config({\n                find: function (comp) {\n                  var children = Replacing.contents(comp);\n                  return head(children);\n                }\n              })\n            ])\n          }],\n        behaviours: derive$1([\n          ComposingConfigs.childAt(0),\n          config('sidebar-sliding-events', [\n            run$1(fixSize, function (comp, se) {\n              set$7(comp.element, 'width', se.event.width);\n            }),\n            run$1(autoSize, function (comp, _se) {\n              remove$6(comp.element, 'width');\n            })\n          ])\n        ])\n      };\n    };\n\n    var block = function (component, config, state, getBusySpec) {\n      set$8(component.element, 'aria-busy', true);\n      var root = config.getRoot(component).getOr(component);\n      var blockerBehaviours = derive$1([\n        Keying.config({\n          mode: 'special',\n          onTab: function () {\n            return Optional.some(true);\n          },\n          onShiftTab: function () {\n            return Optional.some(true);\n          }\n        }),\n        Focusing.config({})\n      ]);\n      var blockSpec = getBusySpec(root, blockerBehaviours);\n      var blocker = root.getSystem().build(blockSpec);\n      Replacing.append(root, premade(blocker));\n      if (blocker.hasConfigured(Keying) && config.focus) {\n        Keying.focusIn(blocker);\n      }\n      if (!state.isBlocked()) {\n        config.onBlock(component);\n      }\n      state.blockWith(function () {\n        return Replacing.remove(root, blocker);\n      });\n    };\n    var unblock = function (component, config, state) {\n      remove$7(component.element, 'aria-busy');\n      if (state.isBlocked()) {\n        config.onUnblock(component);\n      }\n      state.clear();\n    };\n\n    var BlockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        block: block,\n        unblock: unblock\n    });\n\n    var BlockingSchema = [\n      defaultedFunction('getRoot', Optional.none),\n      defaultedBoolean('focus', true),\n      onHandler('onBlock'),\n      onHandler('onUnblock')\n    ];\n\n    var init$4 = function () {\n      var blocker = destroyable();\n      var blockWith = function (destroy) {\n        blocker.set({ destroy: destroy });\n      };\n      return nu$8({\n        readState: blocker.isSet,\n        blockWith: blockWith,\n        clear: blocker.clear,\n        isBlocked: blocker.isSet\n      });\n    };\n\n    var BlockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$4\n    });\n\n    var Blocking = create$8({\n      fields: BlockingSchema,\n      name: 'blocking',\n      apis: BlockingApis,\n      state: BlockingState\n    });\n\n    var getBusySpec$1 = function (providerBackstage) {\n      return function (_root, _behaviours) {\n        return {\n          dom: {\n            tag: 'div',\n            attributes: {\n              'aria-label': providerBackstage.translate('Loading...'),\n              'tabindex': '0'\n            },\n            classes: ['tox-throbber__busy-spinner']\n          },\n          components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n        };\n      };\n    };\n    var focusBusyComponent = function (throbber) {\n      return Composing.getCurrent(throbber).each(function (comp) {\n        return focus$3(comp.element);\n      });\n    };\n    var toggleEditorTabIndex = function (editor, state) {\n      var tabIndexAttr = 'tabindex';\n      var dataTabIndexAttr = 'data-mce-' + tabIndexAttr;\n      Optional.from(editor.iframeElement).map(SugarElement.fromDom).each(function (iframe) {\n        if (state) {\n          getOpt(iframe, tabIndexAttr).each(function (tabIndex) {\n            return set$8(iframe, dataTabIndexAttr, tabIndex);\n          });\n          set$8(iframe, tabIndexAttr, -1);\n        } else {\n          remove$7(iframe, tabIndexAttr);\n          getOpt(iframe, dataTabIndexAttr).each(function (tabIndex) {\n            set$8(iframe, tabIndexAttr, tabIndex);\n            remove$7(iframe, dataTabIndexAttr);\n          });\n        }\n      });\n    };\n    var toggleThrobber = function (editor, comp, state, providerBackstage) {\n      var element = comp.element;\n      toggleEditorTabIndex(editor, state);\n      if (state) {\n        Blocking.block(comp, getBusySpec$1(providerBackstage));\n        remove$6(element, 'display');\n        remove$7(element, 'aria-hidden');\n        if (editor.hasFocus()) {\n          focusBusyComponent(comp);\n        }\n      } else {\n        var throbberFocus = Composing.getCurrent(comp).exists(function (busyComp) {\n          return hasFocus(busyComp.element);\n        });\n        Blocking.unblock(comp);\n        set$7(element, 'display', 'none');\n        set$8(element, 'aria-hidden', 'true');\n        if (throbberFocus) {\n          editor.focus();\n        }\n      }\n    };\n    var renderThrobber = function (spec) {\n      return {\n        uid: spec.uid,\n        dom: {\n          tag: 'div',\n          attributes: { 'aria-hidden': 'true' },\n          classes: ['tox-throbber'],\n          styles: { display: 'none' }\n        },\n        behaviours: derive$1([\n          Replacing.config({}),\n          Blocking.config({ focus: false }),\n          Composing.config({\n            find: function (comp) {\n              return head(comp.components());\n            }\n          })\n        ]),\n        components: []\n      };\n    };\n    var isFocusEvent = function (event) {\n      return event.type === 'focusin';\n    };\n    var isPasteBinTarget = function (event) {\n      if (isFocusEvent(event)) {\n        var node = event.composed ? head(event.composedPath()) : Optional.from(event.target);\n        return node.map(SugarElement.fromDom).filter(isElement$2).exists(function (targetElm) {\n          return has(targetElm, 'mce-pastebin');\n        });\n      } else {\n        return false;\n      }\n    };\n    var setup$7 = function (editor, lazyThrobber, sharedBackstage) {\n      var throbberState = Cell(false);\n      var timer = value$1();\n      var stealFocus = function (e) {\n        if (throbberState.get() && !isPasteBinTarget(e)) {\n          e.preventDefault();\n          focusBusyComponent(lazyThrobber());\n          editor.editorManager.setActive(editor);\n        }\n      };\n      if (!editor.inline) {\n        editor.on('PreInit', function () {\n          editor.dom.bind(editor.getWin(), 'focusin', stealFocus);\n          editor.on('BeforeExecCommand', function (e) {\n            if (e.command.toLowerCase() === 'mcefocus' && e.value !== true) {\n              stealFocus(e);\n            }\n          });\n        });\n      }\n      var toggle = function (state) {\n        if (state !== throbberState.get()) {\n          throbberState.set(state);\n          toggleThrobber(editor, lazyThrobber(), state, sharedBackstage.providers);\n          editor.fire('AfterProgressState', { state: state });\n        }\n      };\n      editor.on('ProgressState', function (e) {\n        timer.on(global$f.clearTimeout);\n        if (isNumber(e.time)) {\n          var timerId = global$f.setEditorTimeout(editor, function () {\n            return toggle(e.state);\n          }, e.time);\n          timer.set(timerId);\n        } else {\n          toggle(e.state);\n          timer.clear();\n        }\n      });\n    };\n\n    var generate$1 = function (xs, f) {\n      var init = {\n        len: 0,\n        list: []\n      };\n      var r = foldl(xs, function (b, a) {\n        var value = f(a, b.len);\n        return value.fold(constant$1(b), function (v) {\n          return {\n            len: v.finish,\n            list: b.list.concat([v])\n          };\n        });\n      }, init);\n      return r.list;\n    };\n\n    var output = function (within, extra, withinWidth) {\n      return {\n        within: within,\n        extra: extra,\n        withinWidth: withinWidth\n      };\n    };\n    var apportion = function (units, total, len) {\n      var parray = generate$1(units, function (unit, current) {\n        var width = len(unit);\n        return Optional.some({\n          element: unit,\n          start: current,\n          finish: current + width,\n          width: width\n        });\n      });\n      var within = filter$2(parray, function (unit) {\n        return unit.finish <= total;\n      });\n      var withinWidth = foldr(within, function (acc, el) {\n        return acc + el.width;\n      }, 0);\n      var extra = parray.slice(within.length);\n      return {\n        within: within,\n        extra: extra,\n        withinWidth: withinWidth\n      };\n    };\n    var toUnit = function (parray) {\n      return map$2(parray, function (unit) {\n        return unit.element;\n      });\n    };\n    var fitLast = function (within, extra, withinWidth) {\n      var fits = toUnit(within.concat(extra));\n      return output(fits, [], withinWidth);\n    };\n    var overflow = function (within, extra, overflower, withinWidth) {\n      var fits = toUnit(within).concat([overflower]);\n      return output(fits, toUnit(extra), withinWidth);\n    };\n    var fitAll = function (within, extra, withinWidth) {\n      return output(toUnit(within), [], withinWidth);\n    };\n    var tryFit = function (total, units, len) {\n      var divide = apportion(units, total, len);\n      return divide.extra.length === 0 ? Optional.some(divide) : Optional.none();\n    };\n    var partition = function (total, units, len, overflower) {\n      var divide = tryFit(total, units, len).getOrThunk(function () {\n        return apportion(units, total - len(overflower), len);\n      });\n      var within = divide.within;\n      var extra = divide.extra;\n      var withinWidth = divide.withinWidth;\n      if (extra.length === 1 && extra[0].width <= len(overflower)) {\n        return fitLast(within, extra, withinWidth);\n      } else if (extra.length >= 1) {\n        return overflow(within, extra, overflower, withinWidth);\n      } else {\n        return fitAll(within, extra, withinWidth);\n      }\n    };\n\n    var setGroups$1 = function (toolbar, storedGroups) {\n      var bGroups = map$2(storedGroups, function (g) {\n        return premade(g);\n      });\n      Toolbar.setGroups(toolbar, bGroups);\n    };\n    var findFocusedComp = function (comps) {\n      return findMap(comps, function (comp) {\n        return search(comp.element).bind(function (focusedElm) {\n          return comp.getSystem().getByDom(focusedElm).toOptional();\n        });\n      });\n    };\n    var refresh$2 = function (toolbar, detail, setOverflow) {\n      var builtGroups = detail.builtGroups.get();\n      if (builtGroups.length === 0) {\n        return;\n      }\n      var primary = getPartOrDie(toolbar, detail, 'primary');\n      var overflowGroup = Coupling.getCoupled(toolbar, 'overflowGroup');\n      set$7(primary.element, 'visibility', 'hidden');\n      var groups = builtGroups.concat([overflowGroup]);\n      var focusedComp = findFocusedComp(groups);\n      setOverflow([]);\n      setGroups$1(primary, groups);\n      var availableWidth = get$a(primary.element);\n      var overflows = partition(availableWidth, detail.builtGroups.get(), function (comp) {\n        return get$a(comp.element);\n      }, overflowGroup);\n      if (overflows.extra.length === 0) {\n        Replacing.remove(primary, overflowGroup);\n        setOverflow([]);\n      } else {\n        setGroups$1(primary, overflows.within);\n        setOverflow(overflows.extra);\n      }\n      remove$6(primary.element, 'visibility');\n      reflow(primary.element);\n      focusedComp.each(Focusing.focus);\n    };\n\n    var schema$c = constant$1([\n      field('splitToolbarBehaviours', [Coupling]),\n      customField('builtGroups', function () {\n        return Cell([]);\n      })\n    ]);\n\n    var schema$b = constant$1([\n      markers$1(['overflowToggledClass']),\n      optionFunction('getOverflowBounds'),\n      required$1('lazySink'),\n      customField('overflowGroups', function () {\n        return Cell([]);\n      })\n    ].concat(schema$c()));\n    var parts$7 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      external$1({\n        schema: schema$e(),\n        name: 'overflow'\n      }),\n      external$1({ name: 'overflow-button' }),\n      external$1({ name: 'overflow-group' })\n    ]);\n\n    var expandable = constant$1(function (element, available) {\n      setMax(element, Math.floor(available));\n    });\n\n    var schema$a = constant$1([\n      markers$1(['toggledClass']),\n      required$1('lazySink'),\n      requiredFunction('fetch'),\n      optionFunction('getBounds'),\n      optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n      schema$y()\n    ]);\n    var parts$6 = constant$1([\n      external$1({\n        name: 'button',\n        overrides: function (detail) {\n          return {\n            dom: { attributes: { 'aria-haspopup': 'true' } },\n            buttonBehaviours: derive$1([Toggling.config({\n                toggleClass: detail.markers.toggledClass,\n                aria: { mode: 'expanded' },\n                toggleOnExecute: false\n              })])\n          };\n        }\n      }),\n      external$1({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'toolbar',\n        overrides: function (detail) {\n          return {\n            toolbarBehaviours: derive$1([Keying.config({\n                mode: 'cyclic',\n                onEscape: function (comp) {\n                  getPart(comp, detail, 'button').each(Focusing.focus);\n                  return Optional.none();\n                }\n              })])\n          };\n        }\n      })\n    ]);\n\n    var toggle = function (button, externals) {\n      var toolbarSandbox = Coupling.getCoupled(button, 'toolbarSandbox');\n      if (Sandboxing.isOpen(toolbarSandbox)) {\n        Sandboxing.close(toolbarSandbox);\n      } else {\n        Sandboxing.open(toolbarSandbox, externals.toolbar());\n      }\n    };\n    var position = function (button, toolbar, detail, layouts) {\n      var bounds = detail.getBounds.map(function (bounder) {\n        return bounder();\n      });\n      var sink = detail.lazySink(button).getOrDie();\n      Positioning.positionWithinBounds(sink, toolbar, {\n        anchor: {\n          type: 'hotspot',\n          hotspot: button,\n          layouts: layouts,\n          overrides: { maxWidthFunction: expandable() }\n        }\n      }, bounds);\n    };\n    var setGroups = function (button, toolbar, detail, layouts, groups) {\n      Toolbar.setGroups(toolbar, groups);\n      position(button, toolbar, detail, layouts);\n      Toggling.on(button);\n    };\n    var makeSandbox = function (button, spec, detail) {\n      var ariaOwner = manager();\n      var onOpen = function (sandbox, toolbar) {\n        detail.fetch().get(function (groups) {\n          setGroups(button, toolbar, detail, spec.layouts, groups);\n          ariaOwner.link(button.element);\n          Keying.focusIn(toolbar);\n        });\n      };\n      var onClose = function () {\n        Toggling.off(button);\n        Focusing.focus(button);\n        ariaOwner.unlink(button.element);\n      };\n      return {\n        dom: {\n          tag: 'div',\n          attributes: { id: ariaOwner.id }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'special',\n            onEscape: function (comp) {\n              Sandboxing.close(comp);\n              return Optional.some(true);\n            }\n          }),\n          Sandboxing.config({\n            onOpen: onOpen,\n            onClose: onClose,\n            isPartOf: function (container, data, queryElem) {\n              return isPartOf$1(data, queryElem) || isPartOf$1(button, queryElem);\n            },\n            getAttachPoint: function () {\n              return detail.lazySink(button).getOrDie();\n            }\n          }),\n          Receiving.config({\n            channels: __assign(__assign({}, receivingChannel$1(__assign({ isExtraPart: never }, detail.fireDismissalEventInstead.map(function (fe) {\n              return { fireEventInstead: { event: fe.event } };\n            }).getOr({})))), receivingChannel({\n              doReposition: function () {\n                Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(function (toolbar) {\n                  position(button, toolbar, detail, spec.layouts);\n                });\n              }\n            }))\n          })\n        ])\n      };\n    };\n    var factory$a = function (detail, components, spec, externals) {\n      return __assign(__assign({}, Button.sketch(__assign(__assign({}, externals.button()), {\n        action: function (button) {\n          toggle(button, externals);\n        },\n        buttonBehaviours: SketchBehaviours.augment({ dump: externals.button().buttonBehaviours }, [Coupling.config({\n            others: {\n              toolbarSandbox: function (button) {\n                return makeSandbox(button, spec, detail);\n              }\n            }\n          })])\n      }))), {\n        apis: {\n          setGroups: function (button, groups) {\n            Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(function (toolbar) {\n              setGroups(button, toolbar, detail, spec.layouts, groups);\n            });\n          },\n          reposition: function (button) {\n            Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(function (toolbar) {\n              position(button, toolbar, detail, spec.layouts);\n            });\n          },\n          toggle: function (button) {\n            toggle(button, externals);\n          },\n          getToolbar: function (button) {\n            return Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox'));\n          },\n          isOpen: function (button) {\n            return Sandboxing.isOpen(Coupling.getCoupled(button, 'toolbarSandbox'));\n          }\n        }\n      });\n    };\n    var FloatingToolbarButton = composite({\n      name: 'FloatingToolbarButton',\n      factory: factory$a,\n      configFields: schema$a(),\n      partFields: parts$6(),\n      apis: {\n        setGroups: function (apis, button, groups) {\n          apis.setGroups(button, groups);\n        },\n        reposition: function (apis, button) {\n          apis.reposition(button);\n        },\n        toggle: function (apis, button) {\n          apis.toggle(button);\n        },\n        getToolbar: function (apis, button) {\n          return apis.getToolbar(button);\n        },\n        isOpen: function (apis, button) {\n          return apis.isOpen(button);\n        }\n      }\n    });\n\n    var schema$9 = constant$1([\n      required$1('items'),\n      markers$1(['itemSelector']),\n      field('tgroupBehaviours', [Keying])\n    ]);\n    var parts$5 = constant$1([group({\n        name: 'items',\n        unit: 'item'\n      })]);\n\n    var factory$9 = function (detail, components, _spec, _externals) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.tgroupBehaviours, [Keying.config({\n            mode: 'flow',\n            selector: detail.markers.itemSelector\n          })]),\n        domModification: { attributes: { role: 'toolbar' } }\n      };\n    };\n    var ToolbarGroup = composite({\n      name: 'ToolbarGroup',\n      configFields: schema$9(),\n      partFields: parts$5(),\n      factory: factory$9\n    });\n\n    var buildGroups = function (comps) {\n      return map$2(comps, function (g) {\n        return premade(g);\n      });\n    };\n    var refresh$1 = function (toolbar, memFloatingToolbarButton, detail) {\n      refresh$2(toolbar, detail, function (overflowGroups) {\n        detail.overflowGroups.set(overflowGroups);\n        memFloatingToolbarButton.getOpt(toolbar).each(function (floatingToolbarButton) {\n          FloatingToolbarButton.setGroups(floatingToolbarButton, buildGroups(overflowGroups));\n        });\n      });\n    };\n    var factory$8 = function (detail, components, spec, externals) {\n      var memFloatingToolbarButton = record(FloatingToolbarButton.sketch({\n        fetch: function () {\n          return Future.nu(function (resolve) {\n            resolve(buildGroups(detail.overflowGroups.get()));\n          });\n        },\n        layouts: {\n          onLtr: function () {\n            return [\n              southwest$2,\n              southeast$2\n            ];\n          },\n          onRtl: function () {\n            return [\n              southeast$2,\n              southwest$2\n            ];\n          },\n          onBottomLtr: function () {\n            return [\n              northwest$2,\n              northeast$2\n            ];\n          },\n          onBottomRtl: function () {\n            return [\n              northeast$2,\n              northwest$2\n            ];\n          }\n        },\n        getBounds: spec.getOverflowBounds,\n        lazySink: detail.lazySink,\n        fireDismissalEventInstead: {},\n        markers: { toggledClass: detail.markers.overflowToggledClass },\n        parts: {\n          button: externals['overflow-button'](),\n          toolbar: externals.overflow()\n        }\n      }));\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.splitToolbarBehaviours, [Coupling.config({\n            others: {\n              overflowGroup: function () {\n                return ToolbarGroup.sketch(__assign(__assign({}, externals['overflow-group']()), { items: [memFloatingToolbarButton.asSpec()] }));\n              }\n            }\n          })]),\n        apis: {\n          setGroups: function (toolbar, groups) {\n            detail.builtGroups.set(map$2(groups, toolbar.getSystem().build));\n            refresh$1(toolbar, memFloatingToolbarButton, detail);\n          },\n          refresh: function (toolbar) {\n            return refresh$1(toolbar, memFloatingToolbarButton, detail);\n          },\n          toggle: function (toolbar) {\n            memFloatingToolbarButton.getOpt(toolbar).each(function (floatingToolbarButton) {\n              FloatingToolbarButton.toggle(floatingToolbarButton);\n            });\n          },\n          isOpen: function (toolbar) {\n            return memFloatingToolbarButton.getOpt(toolbar).map(FloatingToolbarButton.isOpen).getOr(false);\n          },\n          reposition: function (toolbar) {\n            memFloatingToolbarButton.getOpt(toolbar).each(function (floatingToolbarButton) {\n              FloatingToolbarButton.reposition(floatingToolbarButton);\n            });\n          },\n          getOverflow: function (toolbar) {\n            return memFloatingToolbarButton.getOpt(toolbar).bind(FloatingToolbarButton.getToolbar);\n          }\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    var SplitFloatingToolbar = composite({\n      name: 'SplitFloatingToolbar',\n      configFields: schema$b(),\n      partFields: parts$7(),\n      factory: factory$8,\n      apis: {\n        setGroups: function (apis, toolbar, groups) {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: function (apis, toolbar) {\n          apis.refresh(toolbar);\n        },\n        reposition: function (apis, toolbar) {\n          apis.reposition(toolbar);\n        },\n        toggle: function (apis, toolbar) {\n          apis.toggle(toolbar);\n        },\n        isOpen: function (apis, toolbar) {\n          return apis.isOpen(toolbar);\n        },\n        getOverflow: function (apis, toolbar) {\n          return apis.getOverflow(toolbar);\n        }\n      }\n    });\n\n    var schema$8 = constant$1([\n      markers$1([\n        'closedClass',\n        'openClass',\n        'shrinkingClass',\n        'growingClass',\n        'overflowToggledClass'\n      ]),\n      onHandler('onOpened'),\n      onHandler('onClosed')\n    ].concat(schema$c()));\n    var parts$4 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'overflow',\n        overrides: function (detail) {\n          return {\n            toolbarBehaviours: derive$1([\n              Sliding.config({\n                dimension: { property: 'height' },\n                closedClass: detail.markers.closedClass,\n                openClass: detail.markers.openClass,\n                shrinkingClass: detail.markers.shrinkingClass,\n                growingClass: detail.markers.growingClass,\n                onShrunk: function (comp) {\n                  getPart(comp, detail, 'overflow-button').each(function (button) {\n                    Toggling.off(button);\n                    Focusing.focus(button);\n                  });\n                  detail.onClosed(comp);\n                },\n                onGrown: function (comp) {\n                  Keying.focusIn(comp);\n                  detail.onOpened(comp);\n                },\n                onStartGrow: function (comp) {\n                  getPart(comp, detail, 'overflow-button').each(Toggling.on);\n                }\n              }),\n              Keying.config({\n                mode: 'acyclic',\n                onEscape: function (comp) {\n                  getPart(comp, detail, 'overflow-button').each(Focusing.focus);\n                  return Optional.some(true);\n                }\n              })\n            ])\n          };\n        }\n      }),\n      external$1({\n        name: 'overflow-button',\n        overrides: function (detail) {\n          return {\n            buttonBehaviours: derive$1([Toggling.config({\n                toggleClass: detail.markers.overflowToggledClass,\n                aria: { mode: 'pressed' },\n                toggleOnExecute: false\n              })])\n          };\n        }\n      }),\n      external$1({ name: 'overflow-group' })\n    ]);\n\n    var isOpen = function (toolbar, detail) {\n      return getPart(toolbar, detail, 'overflow').map(Sliding.hasGrown).getOr(false);\n    };\n    var toggleToolbar = function (toolbar, detail) {\n      getPart(toolbar, detail, 'overflow-button').bind(function () {\n        return getPart(toolbar, detail, 'overflow');\n      }).each(function (overf) {\n        refresh(toolbar, detail);\n        Sliding.toggleGrow(overf);\n      });\n    };\n    var refresh = function (toolbar, detail) {\n      getPart(toolbar, detail, 'overflow').each(function (overflow) {\n        refresh$2(toolbar, detail, function (groups) {\n          var builtGroups = map$2(groups, function (g) {\n            return premade(g);\n          });\n          Toolbar.setGroups(overflow, builtGroups);\n        });\n        getPart(toolbar, detail, 'overflow-button').each(function (button) {\n          if (Sliding.hasGrown(overflow)) {\n            Toggling.on(button);\n          }\n        });\n        Sliding.refresh(overflow);\n      });\n    };\n    var factory$7 = function (detail, components, spec, externals) {\n      var toolbarToggleEvent = 'alloy.toolbar.toggle';\n      var doSetGroups = function (toolbar, groups) {\n        var built = map$2(groups, toolbar.getSystem().build);\n        detail.builtGroups.set(built);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.splitToolbarBehaviours, [\n          Coupling.config({\n            others: {\n              overflowGroup: function (toolbar) {\n                return ToolbarGroup.sketch(__assign(__assign({}, externals['overflow-group']()), {\n                  items: [Button.sketch(__assign(__assign({}, externals['overflow-button']()), {\n                      action: function (_button) {\n                        emit(toolbar, toolbarToggleEvent);\n                      }\n                    }))]\n                }));\n              }\n            }\n          }),\n          config('toolbar-toggle-events', [run$1(toolbarToggleEvent, function (toolbar) {\n              toggleToolbar(toolbar, detail);\n            })])\n        ]),\n        apis: {\n          setGroups: function (toolbar, groups) {\n            doSetGroups(toolbar, groups);\n            refresh(toolbar, detail);\n          },\n          refresh: function (toolbar) {\n            return refresh(toolbar, detail);\n          },\n          toggle: function (toolbar) {\n            return toggleToolbar(toolbar, detail);\n          },\n          isOpen: function (toolbar) {\n            return isOpen(toolbar, detail);\n          }\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    var SplitSlidingToolbar = composite({\n      name: 'SplitSlidingToolbar',\n      configFields: schema$8(),\n      partFields: parts$4(),\n      factory: factory$7,\n      apis: {\n        setGroups: function (apis, toolbar, groups) {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: function (apis, toolbar) {\n          apis.refresh(toolbar);\n        },\n        toggle: function (apis, toolbar) {\n          apis.toggle(toolbar);\n        },\n        isOpen: function (apis, toolbar) {\n          return apis.isOpen(toolbar);\n        }\n      }\n    });\n\n    var renderToolbarGroupCommon = function (toolbarGroup) {\n      var attributes = toolbarGroup.title.fold(function () {\n        return {};\n      }, function (title) {\n        return { attributes: { title: title } };\n      });\n      return {\n        dom: __assign({\n          tag: 'div',\n          classes: ['tox-toolbar__group']\n        }, attributes),\n        components: [ToolbarGroup.parts.items({})],\n        items: toolbarGroup.items,\n        markers: { itemSelector: '*:not(.tox-split-button) > .tox-tbtn:not([disabled]), ' + '.tox-split-button:not([disabled]), ' + '.tox-toolbar-nav-js:not([disabled])' },\n        tgroupBehaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n    var renderToolbarGroup = function (toolbarGroup) {\n      return ToolbarGroup.sketch(renderToolbarGroupCommon(toolbarGroup));\n    };\n    var getToolbarbehaviours = function (toolbarSpec, modeName) {\n      var onAttached = runOnAttached(function (component) {\n        var groups = map$2(toolbarSpec.initGroups, renderToolbarGroup);\n        Toolbar.setGroups(component, groups);\n      });\n      return derive$1([\n        DisablingConfigs.toolbarButton(toolbarSpec.providers.isDisabled),\n        receivingConfig(),\n        Keying.config({\n          mode: modeName,\n          onEscape: toolbarSpec.onEscape,\n          selector: '.tox-toolbar__group'\n        }),\n        config('toolbar-events', [onAttached])\n      ]);\n    };\n    var renderMoreToolbarCommon = function (toolbarSpec) {\n      var modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return {\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar-overlord']\n        },\n        parts: {\n          'overflow-group': renderToolbarGroupCommon({\n            title: Optional.none(),\n            items: []\n          }),\n          'overflow-button': renderIconButtonSpec({\n            name: 'more',\n            icon: Optional.some('more-drawer'),\n            disabled: false,\n            tooltip: Optional.some('More...'),\n            primary: false,\n            borderless: false\n          }, Optional.none(), toolbarSpec.providers)\n        },\n        splitToolbarBehaviours: getToolbarbehaviours(toolbarSpec, modeName)\n      };\n    };\n    var renderFloatingMoreToolbar = function (toolbarSpec) {\n      var baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      var overflowXOffset = 4;\n      var primary = SplitFloatingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      return SplitFloatingToolbar.sketch(__assign(__assign({}, baseSpec), {\n        lazySink: toolbarSpec.getSink,\n        getOverflowBounds: function () {\n          var headerElem = toolbarSpec.moreDrawerData.lazyHeader().element;\n          var headerBounds = absolute$2(headerElem);\n          var docElem = documentElement(headerElem);\n          var docBounds = absolute$2(docElem);\n          var height = Math.max(docElem.dom.scrollHeight, docBounds.height);\n          return bounds(headerBounds.x + overflowXOffset, docBounds.y, headerBounds.width - overflowXOffset * 2, height);\n        },\n        parts: __assign(__assign({}, baseSpec.parts), {\n          overflow: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes: toolbarSpec.attributes\n            }\n          }\n        }),\n        components: [primary],\n        markers: { overflowToggledClass: 'tox-tbtn--enabled' }\n      }));\n    };\n    var renderSlidingMoreToolbar = function (toolbarSpec) {\n      var primary = SplitSlidingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      var overflow = SplitSlidingToolbar.parts.overflow({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__overflow']\n        }\n      });\n      var baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      return SplitSlidingToolbar.sketch(__assign(__assign({}, baseSpec), {\n        components: [\n          primary,\n          overflow\n        ],\n        markers: {\n          openClass: 'tox-toolbar__overflow--open',\n          closedClass: 'tox-toolbar__overflow--closed',\n          growingClass: 'tox-toolbar__overflow--growing',\n          shrinkingClass: 'tox-toolbar__overflow--shrinking',\n          overflowToggledClass: 'tox-tbtn--enabled'\n        },\n        onOpened: function (comp) {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'opened' });\n        },\n        onClosed: function (comp) {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'closed' });\n        }\n      }));\n    };\n    var renderToolbar = function (toolbarSpec) {\n      var modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return Toolbar.sketch({\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar'].concat(toolbarSpec.type === ToolbarMode.scrolling ? ['tox-toolbar--scrolling'] : [])\n        },\n        components: [Toolbar.parts.groups({})],\n        toolbarBehaviours: getToolbarbehaviours(toolbarSpec, modeName)\n      });\n    };\n\n    var factory$6 = function (detail, components, _spec) {\n      var apis = {\n        getSocket: function (comp) {\n          return parts$a.getPart(comp, detail, 'socket');\n        },\n        setSidebar: function (comp, panelConfigs) {\n          parts$a.getPart(comp, detail, 'sidebar').each(function (sidebar) {\n            return setSidebar(sidebar, panelConfigs);\n          });\n        },\n        toggleSidebar: function (comp, name) {\n          parts$a.getPart(comp, detail, 'sidebar').each(function (sidebar) {\n            return toggleSidebar(sidebar, name);\n          });\n        },\n        whichSidebar: function (comp) {\n          return parts$a.getPart(comp, detail, 'sidebar').bind(whichSidebar).getOrNull();\n        },\n        getHeader: function (comp) {\n          return parts$a.getPart(comp, detail, 'header');\n        },\n        getToolbar: function (comp) {\n          return parts$a.getPart(comp, detail, 'toolbar');\n        },\n        setToolbar: function (comp, groups) {\n          parts$a.getPart(comp, detail, 'toolbar').each(function (toolbar) {\n            toolbar.getApis().setGroups(toolbar, groups);\n          });\n        },\n        setToolbars: function (comp, toolbars) {\n          parts$a.getPart(comp, detail, 'multiple-toolbar').each(function (mToolbar) {\n            CustomList.setItems(mToolbar, toolbars);\n          });\n        },\n        refreshToolbar: function (comp) {\n          var toolbar = parts$a.getPart(comp, detail, 'toolbar');\n          toolbar.each(function (toolbar) {\n            return toolbar.getApis().refresh(toolbar);\n          });\n        },\n        toggleToolbarDrawer: function (comp) {\n          parts$a.getPart(comp, detail, 'toolbar').each(function (toolbar) {\n            mapFrom(toolbar.getApis().toggle, function (toggle) {\n              return toggle(toolbar);\n            });\n          });\n        },\n        isToolbarDrawerToggled: function (comp) {\n          return parts$a.getPart(comp, detail, 'toolbar').bind(function (toolbar) {\n            return Optional.from(toolbar.getApis().isOpen).map(function (isOpen) {\n              return isOpen(toolbar);\n            });\n          }).getOr(false);\n        },\n        getThrobber: function (comp) {\n          return parts$a.getPart(comp, detail, 'throbber');\n        },\n        focusToolbar: function (comp) {\n          var optToolbar = parts$a.getPart(comp, detail, 'toolbar').orThunk(function () {\n            return parts$a.getPart(comp, detail, 'multiple-toolbar');\n          });\n          optToolbar.each(function (toolbar) {\n            Keying.focusIn(toolbar);\n          });\n        },\n        setMenubar: function (comp, menus) {\n          parts$a.getPart(comp, detail, 'menubar').each(function (menubar) {\n            SilverMenubar.setMenus(menubar, menus);\n          });\n        },\n        focusMenubar: function (comp) {\n          parts$a.getPart(comp, detail, 'menubar').each(function (menubar) {\n            SilverMenubar.focus(menubar);\n          });\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        apis: apis,\n        behaviours: detail.behaviours\n      };\n    };\n    var partMenubar = partType.optional({\n      factory: SilverMenubar,\n      name: 'menubar',\n      schema: [required$1('backstage')]\n    });\n    var toolbarFactory = function (spec) {\n      if (spec.type === ToolbarMode.sliding) {\n        return renderSlidingMoreToolbar;\n      } else if (spec.type === ToolbarMode.floating) {\n        return renderFloatingMoreToolbar;\n      } else {\n        return renderToolbar;\n      }\n    };\n    var partMultipleToolbar = partType.optional({\n      factory: {\n        sketch: function (spec) {\n          return CustomList.sketch({\n            uid: spec.uid,\n            dom: spec.dom,\n            listBehaviours: derive$1([Keying.config({\n                mode: 'acyclic',\n                selector: '.tox-toolbar'\n              })]),\n            makeItem: function () {\n              return renderToolbar({\n                type: spec.type,\n                uid: generate$6('multiple-toolbar-item'),\n                cyclicKeying: false,\n                initGroups: [],\n                providers: spec.providers,\n                onEscape: function () {\n                  spec.onEscape();\n                  return Optional.some(true);\n                }\n              });\n            },\n            setupItem: function (_mToolbar, tc, data, _index) {\n              Toolbar.setGroups(tc, data);\n            },\n            shell: true\n          });\n        }\n      },\n      name: 'multiple-toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape')\n      ]\n    });\n    var partToolbar = partType.optional({\n      factory: {\n        sketch: function (spec) {\n          var renderer = toolbarFactory(spec);\n          var toolbarSpec = {\n            type: spec.type,\n            uid: spec.uid,\n            onEscape: function () {\n              spec.onEscape();\n              return Optional.some(true);\n            },\n            cyclicKeying: false,\n            initGroups: [],\n            getSink: spec.getSink,\n            providers: spec.providers,\n            moreDrawerData: {\n              lazyToolbar: spec.lazyToolbar,\n              lazyMoreButton: spec.lazyMoreButton,\n              lazyHeader: spec.lazyHeader\n            },\n            attributes: spec.attributes\n          };\n          return renderer(toolbarSpec);\n        }\n      },\n      name: 'toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape'),\n        required$1('getSink')\n      ]\n    });\n    var partHeader = partType.optional({\n      factory: { sketch: renderHeader },\n      name: 'header',\n      schema: [required$1('dom')]\n    });\n    var partSocket = partType.optional({\n      name: 'socket',\n      schema: [required$1('dom')]\n    });\n    var partSidebar = partType.optional({\n      factory: { sketch: renderSidebar },\n      name: 'sidebar',\n      schema: [required$1('dom')]\n    });\n    var partThrobber = partType.optional({\n      factory: { sketch: renderThrobber },\n      name: 'throbber',\n      schema: [required$1('dom')]\n    });\n    var OuterContainer = composite({\n      name: 'OuterContainer',\n      factory: factory$6,\n      configFields: [\n        required$1('dom'),\n        required$1('behaviours')\n      ],\n      partFields: [\n        partHeader,\n        partMenubar,\n        partToolbar,\n        partMultipleToolbar,\n        partSocket,\n        partSidebar,\n        partThrobber\n      ],\n      apis: {\n        getSocket: function (apis, comp) {\n          return apis.getSocket(comp);\n        },\n        setSidebar: function (apis, comp, panelConfigs) {\n          apis.setSidebar(comp, panelConfigs);\n        },\n        toggleSidebar: function (apis, comp, name) {\n          apis.toggleSidebar(comp, name);\n        },\n        whichSidebar: function (apis, comp) {\n          return apis.whichSidebar(comp);\n        },\n        getHeader: function (apis, comp) {\n          return apis.getHeader(comp);\n        },\n        getToolbar: function (apis, comp) {\n          return apis.getToolbar(comp);\n        },\n        setToolbar: function (apis, comp, grps) {\n          var groups = map$2(grps, function (grp) {\n            return renderToolbarGroup(grp);\n          });\n          apis.setToolbar(comp, groups);\n        },\n        setToolbars: function (apis, comp, ts) {\n          var renderedToolbars = map$2(ts, function (g) {\n            return map$2(g, renderToolbarGroup);\n          });\n          apis.setToolbars(comp, renderedToolbars);\n        },\n        refreshToolbar: function (apis, comp) {\n          return apis.refreshToolbar(comp);\n        },\n        toggleToolbarDrawer: function (apis, comp) {\n          apis.toggleToolbarDrawer(comp);\n        },\n        isToolbarDrawerToggled: function (apis, comp) {\n          return apis.isToolbarDrawerToggled(comp);\n        },\n        getThrobber: function (apis, comp) {\n          return apis.getThrobber(comp);\n        },\n        setMenubar: function (apis, comp, menus) {\n          apis.setMenubar(comp, menus);\n        },\n        focusMenubar: function (apis, comp) {\n          apis.focusMenubar(comp);\n        },\n        focusToolbar: function (apis, comp) {\n          apis.focusToolbar(comp);\n        }\n      }\n    });\n\n    var defaultMenubar = 'file edit view insert format tools table help';\n    var defaultMenus = {\n      file: {\n        title: 'File',\n        items: 'newdocument restoredraft | preview | export print | deleteallconversations'\n      },\n      edit: {\n        title: 'Edit',\n        items: 'undo redo | cut copy paste pastetext | selectall | searchreplace'\n      },\n      view: {\n        title: 'View',\n        items: 'code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments'\n      },\n      insert: {\n        title: 'Insert',\n        items: 'image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime'\n      },\n      format: {\n        title: 'Format',\n        items: 'bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat'\n      },\n      tools: {\n        title: 'Tools',\n        items: 'spellchecker spellcheckerlanguage | a11ycheck code wordcount'\n      },\n      table: {\n        title: 'Table',\n        items: 'inserttable | cell row column | advtablesort | tableprops deletetable'\n      },\n      help: {\n        title: 'Help',\n        items: 'help'\n      }\n    };\n    var make = function (menu, registry, editor) {\n      var removedMenuItems = getRemovedMenuItems(editor).split(/[ ,]/);\n      return {\n        text: menu.title,\n        getItems: function () {\n          return bind$3(menu.items, function (i) {\n            var itemName = i.toLowerCase();\n            if (itemName.trim().length === 0) {\n              return [];\n            } else if (exists(removedMenuItems, function (removedMenuItem) {\n                return removedMenuItem === itemName;\n              })) {\n              return [];\n            } else if (itemName === 'separator' || itemName === '|') {\n              return [{ type: 'separator' }];\n            } else if (registry.menuItems[itemName]) {\n              return [registry.menuItems[itemName]];\n            } else {\n              return [];\n            }\n          });\n        }\n      };\n    };\n    var parseItemsString = function (items) {\n      if (typeof items === 'string') {\n        return items.split(' ');\n      }\n      return items;\n    };\n    var identifyMenus = function (editor, registry) {\n      var rawMenuData = __assign(__assign({}, defaultMenus), registry.menus);\n      var userDefinedMenus = keys(registry.menus).length > 0;\n      var menubar = registry.menubar === undefined || registry.menubar === true ? parseItemsString(defaultMenubar) : parseItemsString(registry.menubar === false ? '' : registry.menubar);\n      var validMenus = filter$2(menubar, function (menuName) {\n        var isDefaultMenu = has$2(defaultMenus, menuName);\n        if (userDefinedMenus) {\n          return isDefaultMenu || get$e(registry.menus, menuName).exists(function (menu) {\n            return has$2(menu, 'items');\n          });\n        } else {\n          return isDefaultMenu;\n        }\n      });\n      var menus = map$2(validMenus, function (menuName) {\n        var menuData = rawMenuData[menuName];\n        return make({\n          title: menuData.title,\n          items: parseItemsString(menuData.items)\n        }, registry, editor);\n      });\n      return filter$2(menus, function (menu) {\n        var isNotSeparator = function (item) {\n          return item.type !== 'separator';\n        };\n        return menu.getItems().length > 0 && exists(menu.getItems(), isNotSeparator);\n      });\n    };\n\n    var fireSkinLoaded = function (editor) {\n      var done = function () {\n        editor._skinLoaded = true;\n        fireSkinLoaded$1(editor);\n      };\n      return function () {\n        if (editor.initialized) {\n          done();\n        } else {\n          editor.on('init', done);\n        }\n      };\n    };\n    var fireSkinLoadError = function (editor, err) {\n      return function () {\n        return fireSkinLoadError$1(editor, { message: err });\n      };\n    };\n\n    var loadStylesheet = function (editor, stylesheetUrl, styleSheetLoader) {\n      return new global$c(function (resolve, reject) {\n        styleSheetLoader.load(stylesheetUrl, resolve, reject);\n        editor.on('remove', function () {\n          return styleSheetLoader.unload(stylesheetUrl);\n        });\n      });\n    };\n    var loadUiSkins = function (editor, skinUrl) {\n      var skinUiCss = skinUrl + '/skin.min.css';\n      return loadStylesheet(editor, skinUiCss, editor.ui.styleSheetLoader);\n    };\n    var loadShadowDomUiSkins = function (editor, skinUrl) {\n      var isInShadowRoot$1 = isInShadowRoot(SugarElement.fromDom(editor.getElement()));\n      if (isInShadowRoot$1) {\n        var shadowDomSkinCss = skinUrl + '/skin.shadowdom.min.css';\n        return loadStylesheet(editor, shadowDomSkinCss, global$b.DOM.styleSheetLoader);\n      } else {\n        return global$c.resolve();\n      }\n    };\n    var loadSkin = function (isInline, editor) {\n      var skinUrl = getSkinUrl(editor);\n      if (skinUrl) {\n        editor.contentCSS.push(skinUrl + (isInline ? '/content.inline' : '/content') + '.min.css');\n      }\n      if (isSkinDisabled(editor) === false && isString(skinUrl)) {\n        global$c.all([\n          loadUiSkins(editor, skinUrl),\n          loadShadowDomUiSkins(editor, skinUrl)\n        ]).then(fireSkinLoaded(editor), fireSkinLoadError(editor, 'Skin could not be loaded'));\n      } else {\n        fireSkinLoaded(editor)();\n      }\n    };\n    var iframe = curry(loadSkin, false);\n    var inline = curry(loadSkin, true);\n\n    var onSetupFormatToggle = function (editor, name) {\n      return function (api) {\n        var boundCallback = unbindable();\n        var init = function () {\n          api.setActive(editor.formatter.match(name));\n          var binding = editor.formatter.formatChanged(name, api.setActive);\n          boundCallback.set(binding);\n        };\n        editor.initialized ? init() : editor.once('init', init);\n        return function () {\n          editor.off('init', init);\n          boundCallback.clear();\n        };\n      };\n    };\n    var onSetupEvent = function (editor, event, f) {\n      return function (api) {\n        var handleEvent = function () {\n          return f(api);\n        };\n        var init = function () {\n          f(api);\n          editor.on(event, handleEvent);\n        };\n        editor.initialized ? init() : editor.once('init', init);\n        return function () {\n          editor.off('init', init);\n          editor.off(event, handleEvent);\n        };\n      };\n    };\n    var onActionToggleFormat$1 = function (editor) {\n      return function (rawItem) {\n        return function () {\n          editor.undoManager.transact(function () {\n            editor.focus();\n            editor.execCommand('mceToggleFormat', false, rawItem.format);\n          });\n        };\n      };\n    };\n    var onActionExecCommand = function (editor, command) {\n      return function () {\n        return editor.execCommand(command);\n      };\n    };\n\n    var generateSelectItems = function (_editor, backstage, spec) {\n      var generateItem = function (rawItem, response, disabled, value) {\n        var translatedText = backstage.shared.providers.translate(rawItem.title);\n        if (rawItem.type === 'separator') {\n          return Optional.some({\n            type: 'separator',\n            text: translatedText\n          });\n        } else if (rawItem.type === 'submenu') {\n          var items = bind$3(rawItem.getStyleItems(), function (si) {\n            return validate(si, response, value);\n          });\n          if (response === 0 && items.length <= 0) {\n            return Optional.none();\n          } else {\n            return Optional.some({\n              type: 'nestedmenuitem',\n              text: translatedText,\n              disabled: items.length <= 0,\n              getSubmenuItems: function () {\n                return bind$3(rawItem.getStyleItems(), function (si) {\n                  return validate(si, response, value);\n                });\n              }\n            });\n          }\n        } else {\n          return Optional.some(__assign({\n            type: 'togglemenuitem',\n            text: translatedText,\n            icon: rawItem.icon,\n            active: rawItem.isSelected(value),\n            disabled: disabled,\n            onAction: spec.onAction(rawItem)\n          }, rawItem.getStylePreview().fold(function () {\n            return {};\n          }, function (preview) {\n            return { meta: { style: preview } };\n          })));\n        }\n      };\n      var validate = function (item, response, value) {\n        var invalid = item.type === 'formatter' && spec.isInvalid(item);\n        if (response === 0) {\n          return invalid ? [] : generateItem(item, response, false, value).toArray();\n        } else {\n          return generateItem(item, response, invalid, value).toArray();\n        }\n      };\n      var validateItems = function (preItems) {\n        var value = spec.getCurrentValue();\n        var response = spec.shouldHide ? 0 : 1;\n        return bind$3(preItems, function (item) {\n          return validate(item, response, value);\n        });\n      };\n      var getFetch = function (backstage, getStyleItems) {\n        return function (comp, callback) {\n          var preItems = getStyleItems();\n          var items = validateItems(preItems);\n          var menu = build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false);\n          callback(menu);\n        };\n      };\n      return {\n        validateItems: validateItems,\n        getFetch: getFetch\n      };\n    };\n    var createMenuItems = function (editor, backstage, spec) {\n      var dataset = spec.dataset;\n      var getStyleItems = dataset.type === 'basic' ? function () {\n        return map$2(dataset.data, function (d) {\n          return processBasic(d, spec.isSelectedFor, spec.getPreviewFor);\n        });\n      } : dataset.getData;\n      return {\n        items: generateSelectItems(editor, backstage, spec),\n        getStyleItems: getStyleItems\n      };\n    };\n    var createSelectButton = function (editor, backstage, spec) {\n      var _a = createMenuItems(editor, backstage, spec), items = _a.items, getStyleItems = _a.getStyleItems;\n      var getApi = function (comp) {\n        return { getComponent: constant$1(comp) };\n      };\n      var onSetup = onSetupEvent(editor, 'NodeChange', function (api) {\n        var comp = api.getComponent();\n        spec.updateText(comp);\n      });\n      return renderCommonDropdown({\n        text: spec.icon.isSome() ? Optional.none() : spec.text,\n        icon: spec.icon,\n        tooltip: Optional.from(spec.tooltip),\n        role: Optional.none(),\n        fetch: items.getFetch(backstage, getStyleItems),\n        onSetup: onSetup,\n        getApi: getApi,\n        columns: 1,\n        presets: 'normal',\n        classes: spec.icon.isSome() ? [] : ['bespoke'],\n        dropdownBehaviours: []\n      }, 'tox-tbtn', backstage.shared);\n    };\n\n    var process = function (rawFormats) {\n      return map$2(rawFormats, function (item) {\n        var title = item, format = item;\n        var values = item.split('=');\n        if (values.length > 1) {\n          title = values[0];\n          format = values[1];\n        }\n        return {\n          title: title,\n          format: format\n        };\n      });\n    };\n    var buildBasicStaticDataset = function (data) {\n      return {\n        type: 'basic',\n        data: data\n      };\n    };\n    var Delimiter;\n    (function (Delimiter) {\n      Delimiter[Delimiter['SemiColon'] = 0] = 'SemiColon';\n      Delimiter[Delimiter['Space'] = 1] = 'Space';\n    }(Delimiter || (Delimiter = {})));\n    var split = function (rawFormats, delimiter) {\n      if (delimiter === Delimiter.SemiColon) {\n        return rawFormats.replace(/;$/, '').split(';');\n      } else {\n        return rawFormats.split(' ');\n      }\n    };\n    var buildBasicSettingsDataset = function (editor, settingName, defaults, delimiter) {\n      var rawFormats = editor.getParam(settingName, defaults, 'string');\n      var data = process(split(rawFormats, delimiter));\n      return {\n        type: 'basic',\n        data: data\n      };\n    };\n\n    var alignMenuItems = [\n      {\n        title: 'Left',\n        icon: 'align-left',\n        format: 'alignleft',\n        command: 'JustifyLeft'\n      },\n      {\n        title: 'Center',\n        icon: 'align-center',\n        format: 'aligncenter',\n        command: 'JustifyCenter'\n      },\n      {\n        title: 'Right',\n        icon: 'align-right',\n        format: 'alignright',\n        command: 'JustifyRight'\n      },\n      {\n        title: 'Justify',\n        icon: 'align-justify',\n        format: 'alignjustify',\n        command: 'JustifyFull'\n      }\n    ];\n    var getSpec$4 = function (editor) {\n      var getMatchingValue = function () {\n        return find$5(alignMenuItems, function (item) {\n          return editor.formatter.match(item.format);\n        });\n      };\n      var isSelectedFor = function (format) {\n        return function () {\n          return editor.formatter.match(format);\n        };\n      };\n      var getPreviewFor = function (_format) {\n        return Optional.none;\n      };\n      var updateSelectMenuIcon = function (comp) {\n        var match = getMatchingValue();\n        var alignment = match.fold(constant$1('left'), function (item) {\n          return item.title.toLowerCase();\n        });\n        emitWith(comp, updateMenuIcon, { icon: 'align-' + alignment });\n      };\n      var dataset = buildBasicStaticDataset(alignMenuItems);\n      var onAction = function (rawItem) {\n        return function () {\n          return find$5(alignMenuItems, function (item) {\n            return item.format === rawItem.format;\n          }).each(function (item) {\n            return editor.execCommand(item.command);\n          });\n        };\n      };\n      return {\n        tooltip: 'Align',\n        text: Optional.none(),\n        icon: Optional.some('align-left'),\n        isSelectedFor: isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor: getPreviewFor,\n        onAction: onAction,\n        updateText: updateSelectMenuIcon,\n        dataset: dataset,\n        shouldHide: false,\n        isInvalid: function (item) {\n          return !editor.formatter.canApply(item.format);\n        }\n      };\n    };\n    var createAlignSelect = function (editor, backstage) {\n      return createSelectButton(editor, backstage, getSpec$4(editor));\n    };\n    var alignSelectMenu = function (editor, backstage) {\n      var menuItems = createMenuItems(editor, backstage, getSpec$4(editor));\n      editor.ui.registry.addNestedMenuItem('align', {\n        text: backstage.shared.providers.translate('Align'),\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var defaultFontsFormats = 'Andale Mono=andale mono,monospace;' + 'Arial=arial,helvetica,sans-serif;' + 'Arial Black=arial black,sans-serif;' + 'Book Antiqua=book antiqua,palatino,serif;' + 'Comic Sans MS=comic sans ms,sans-serif;' + 'Courier New=courier new,courier,monospace;' + 'Georgia=georgia,palatino,serif;' + 'Helvetica=helvetica,arial,sans-serif;' + 'Impact=impact,sans-serif;' + 'Symbol=symbol;' + 'Tahoma=tahoma,arial,helvetica,sans-serif;' + 'Terminal=terminal,monaco,monospace;' + 'Times New Roman=times new roman,times,serif;' + 'Trebuchet MS=trebuchet ms,geneva,sans-serif;' + 'Verdana=verdana,geneva,sans-serif;' + 'Webdings=webdings;' + 'Wingdings=wingdings,zapf dingbats';\n    var systemStackFonts = [\n      '-apple-system',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica Neue',\n      'sans-serif'\n    ];\n    var splitFonts = function (fontFamily) {\n      var fonts = fontFamily.split(/\\s*,\\s*/);\n      return map$2(fonts, function (font) {\n        return font.replace(/^['\"]+|['\"]+$/g, '');\n      });\n    };\n    var isSystemFontStack = function (fontFamily) {\n      var matchesSystemStack = function () {\n        var fonts = splitFonts(fontFamily.toLowerCase());\n        return forall(systemStackFonts, function (font) {\n          return fonts.indexOf(font.toLowerCase()) > -1;\n        });\n      };\n      return fontFamily.indexOf('-apple-system') === 0 && matchesSystemStack();\n    };\n    var getSpec$3 = function (editor) {\n      var systemFont = 'System Font';\n      var getMatchingValue = function () {\n        var getFirstFont = function (fontFamily) {\n          return fontFamily ? splitFonts(fontFamily)[0] : '';\n        };\n        var fontFamily = editor.queryCommandValue('FontName');\n        var items = dataset.data;\n        var font = fontFamily ? fontFamily.toLowerCase() : '';\n        var matchOpt = find$5(items, function (item) {\n          var format = item.format;\n          return format.toLowerCase() === font || getFirstFont(format).toLowerCase() === getFirstFont(font).toLowerCase();\n        }).orThunk(function () {\n          return someIf(isSystemFontStack(font), {\n            title: systemFont,\n            format: font\n          });\n        });\n        return {\n          matchOpt: matchOpt,\n          font: fontFamily\n        };\n      };\n      var isSelectedFor = function (item) {\n        return function (valueOpt) {\n          return valueOpt.exists(function (value) {\n            return value.format === item;\n          });\n        };\n      };\n      var getCurrentValue = function () {\n        var matchOpt = getMatchingValue().matchOpt;\n        return matchOpt;\n      };\n      var getPreviewFor = function (item) {\n        return function () {\n          return Optional.some({\n            tag: 'div',\n            styles: item.indexOf('dings') === -1 ? { 'font-family': item } : {}\n          });\n        };\n      };\n      var onAction = function (rawItem) {\n        return function () {\n          editor.undoManager.transact(function () {\n            editor.focus();\n            editor.execCommand('FontName', false, rawItem.format);\n          });\n        };\n      };\n      var updateSelectMenuText = function (comp) {\n        var _a = getMatchingValue(), matchOpt = _a.matchOpt, font = _a.font;\n        var text = matchOpt.fold(constant$1(font), function (item) {\n          return item.title;\n        });\n        emitWith(comp, updateMenuText, { text: text });\n      };\n      var dataset = buildBasicSettingsDataset(editor, 'font_formats', defaultFontsFormats, Delimiter.SemiColon);\n      return {\n        tooltip: 'Fonts',\n        text: Optional.some(systemFont),\n        icon: Optional.none(),\n        isSelectedFor: isSelectedFor,\n        getCurrentValue: getCurrentValue,\n        getPreviewFor: getPreviewFor,\n        onAction: onAction,\n        updateText: updateSelectMenuText,\n        dataset: dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    var createFontSelect = function (editor, backstage) {\n      return createSelectButton(editor, backstage, getSpec$3(editor));\n    };\n    var fontSelectMenu = function (editor, backstage) {\n      var menuItems = createMenuItems(editor, backstage, getSpec$3(editor));\n      editor.ui.registry.addNestedMenuItem('fontformats', {\n        text: backstage.shared.providers.translate('Fonts'),\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var defaultFontsizeFormats = '8pt 10pt 12pt 14pt 18pt 24pt 36pt';\n    var legacyFontSizes = {\n      '8pt': '1',\n      '10pt': '2',\n      '12pt': '3',\n      '14pt': '4',\n      '18pt': '5',\n      '24pt': '6',\n      '36pt': '7'\n    };\n    var keywordFontSizes = {\n      'xx-small': '7pt',\n      'x-small': '8pt',\n      'small': '10pt',\n      'medium': '12pt',\n      'large': '14pt',\n      'x-large': '18pt',\n      'xx-large': '24pt'\n    };\n    var round = function (number, precision) {\n      var factor = Math.pow(10, precision);\n      return Math.round(number * factor) / factor;\n    };\n    var toPt = function (fontSize, precision) {\n      if (/[0-9.]+px$/.test(fontSize)) {\n        return round(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';\n      } else {\n        return get$e(keywordFontSizes, fontSize).getOr(fontSize);\n      }\n    };\n    var toLegacy = function (fontSize) {\n      return get$e(legacyFontSizes, fontSize).getOr('');\n    };\n    var getSpec$2 = function (editor) {\n      var getMatchingValue = function () {\n        var matchOpt = Optional.none();\n        var items = dataset.data;\n        var fontSize = editor.queryCommandValue('FontSize');\n        if (fontSize) {\n          var _loop_1 = function (precision) {\n            var pt = toPt(fontSize, precision);\n            var legacy = toLegacy(pt);\n            matchOpt = find$5(items, function (item) {\n              return item.format === fontSize || item.format === pt || item.format === legacy;\n            });\n          };\n          for (var precision = 3; matchOpt.isNone() && precision >= 0; precision--) {\n            _loop_1(precision);\n          }\n        }\n        return {\n          matchOpt: matchOpt,\n          size: fontSize\n        };\n      };\n      var isSelectedFor = function (item) {\n        return function (valueOpt) {\n          return valueOpt.exists(function (value) {\n            return value.format === item;\n          });\n        };\n      };\n      var getCurrentValue = function () {\n        var matchOpt = getMatchingValue().matchOpt;\n        return matchOpt;\n      };\n      var getPreviewFor = constant$1(Optional.none);\n      var onAction = function (rawItem) {\n        return function () {\n          editor.undoManager.transact(function () {\n            editor.focus();\n            editor.execCommand('FontSize', false, rawItem.format);\n          });\n        };\n      };\n      var updateSelectMenuText = function (comp) {\n        var _a = getMatchingValue(), matchOpt = _a.matchOpt, size = _a.size;\n        var text = matchOpt.fold(constant$1(size), function (match) {\n          return match.title;\n        });\n        emitWith(comp, updateMenuText, { text: text });\n      };\n      var dataset = buildBasicSettingsDataset(editor, 'fontsize_formats', defaultFontsizeFormats, Delimiter.Space);\n      return {\n        tooltip: 'Font sizes',\n        text: Optional.some('12pt'),\n        icon: Optional.none(),\n        isSelectedFor: isSelectedFor,\n        getPreviewFor: getPreviewFor,\n        getCurrentValue: getCurrentValue,\n        onAction: onAction,\n        updateText: updateSelectMenuText,\n        dataset: dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    var createFontsizeSelect = function (editor, backstage) {\n      return createSelectButton(editor, backstage, getSpec$2(editor));\n    };\n    var fontsizeSelectMenu = function (editor, backstage) {\n      var menuItems = createMenuItems(editor, backstage, getSpec$2(editor));\n      editor.ui.registry.addNestedMenuItem('fontsizes', {\n        text: 'Font sizes',\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var findNearest = function (editor, getStyles) {\n      var styles = getStyles();\n      var formats = map$2(styles, function (style) {\n        return style.format;\n      });\n      return Optional.from(editor.formatter.closest(formats)).bind(function (fmt) {\n        return find$5(styles, function (data) {\n          return data.format === fmt;\n        });\n      }).orThunk(function () {\n        return someIf(editor.formatter.match('p'), {\n          title: 'Paragraph',\n          format: 'p'\n        });\n      });\n    };\n\n    var defaultBlocks = 'Paragraph=p;' + 'Heading 1=h1;' + 'Heading 2=h2;' + 'Heading 3=h3;' + 'Heading 4=h4;' + 'Heading 5=h5;' + 'Heading 6=h6;' + 'Preformatted=pre';\n    var getSpec$1 = function (editor) {\n      var fallbackFormat = 'Paragraph';\n      var isSelectedFor = function (format) {\n        return function () {\n          return editor.formatter.match(format);\n        };\n      };\n      var getPreviewFor = function (format) {\n        return function () {\n          var fmt = editor.formatter.get(format);\n          return Optional.some({\n            tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n            styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n          });\n        };\n      };\n      var updateSelectMenuText = function (comp) {\n        var detectedFormat = findNearest(editor, function () {\n          return dataset.data;\n        });\n        var text = detectedFormat.fold(constant$1(fallbackFormat), function (fmt) {\n          return fmt.title;\n        });\n        emitWith(comp, updateMenuText, { text: text });\n      };\n      var dataset = buildBasicSettingsDataset(editor, 'block_formats', defaultBlocks, Delimiter.SemiColon);\n      return {\n        tooltip: 'Blocks',\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor: isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor: getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        dataset: dataset,\n        shouldHide: false,\n        isInvalid: function (item) {\n          return !editor.formatter.canApply(item.format);\n        }\n      };\n    };\n    var createFormatSelect = function (editor, backstage) {\n      return createSelectButton(editor, backstage, getSpec$1(editor));\n    };\n    var formatSelectMenu = function (editor, backstage) {\n      var menuItems = createMenuItems(editor, backstage, getSpec$1(editor));\n      editor.ui.registry.addNestedMenuItem('blockformats', {\n        text: 'Blocks',\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var getSpec = function (editor, dataset) {\n      var fallbackFormat = 'Paragraph';\n      var isSelectedFor = function (format) {\n        return function () {\n          return editor.formatter.match(format);\n        };\n      };\n      var getPreviewFor = function (format) {\n        return function () {\n          var fmt = editor.formatter.get(format);\n          return fmt !== undefined ? Optional.some({\n            tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n            styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n          }) : Optional.none();\n        };\n      };\n      var updateSelectMenuText = function (comp) {\n        var getFormatItems = function (fmt) {\n          var subs = fmt.items;\n          return subs !== undefined && subs.length > 0 ? bind$3(subs, getFormatItems) : [{\n              title: fmt.title,\n              format: fmt.format\n            }];\n        };\n        var flattenedItems = bind$3(getStyleFormats(editor), getFormatItems);\n        var detectedFormat = findNearest(editor, constant$1(flattenedItems));\n        var text = detectedFormat.fold(constant$1(fallbackFormat), function (fmt) {\n          return fmt.title;\n        });\n        emitWith(comp, updateMenuText, { text: text });\n      };\n      return {\n        tooltip: 'Formats',\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor: isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor: getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        shouldHide: editor.getParam('style_formats_autohide', false, 'boolean'),\n        isInvalid: function (item) {\n          return !editor.formatter.canApply(item.format);\n        },\n        dataset: dataset\n      };\n    };\n    var createStyleSelect = function (editor, backstage) {\n      var dataset = __assign({ type: 'advanced' }, backstage.styleselect);\n      return createSelectButton(editor, backstage, getSpec(editor, dataset));\n    };\n    var styleSelectMenu = function (editor, backstage) {\n      var dataset = __assign({ type: 'advanced' }, backstage.styleselect);\n      var menuItems = createMenuItems(editor, backstage, getSpec(editor, dataset));\n      editor.ui.registry.addNestedMenuItem('formats', {\n        text: 'Formats',\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var events$3 = function (reflectingConfig, reflectingState) {\n      var update = function (component, data) {\n        reflectingConfig.updateState.each(function (updateState) {\n          var newState = updateState(component, data);\n          reflectingState.set(newState);\n        });\n        reflectingConfig.renderComponents.each(function (renderComponents) {\n          var newComponents = renderComponents(data, reflectingState.get());\n          var newChildren = map$2(newComponents, component.getSystem().build);\n          replaceChildren(component, newChildren);\n        });\n      };\n      return derive$2([\n        run$1(receive(), function (component, message) {\n          var receivingData = message;\n          if (!receivingData.universal) {\n            var channel = reflectingConfig.channel;\n            if (contains$2(receivingData.channels, channel)) {\n              update(component, receivingData.data);\n            }\n          }\n        }),\n        runOnAttached(function (comp, _se) {\n          reflectingConfig.initialData.each(function (rawData) {\n            update(comp, rawData);\n          });\n        })\n      ]);\n    };\n\n    var ActiveReflecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$3\n    });\n\n    var getState = function (component, replaceConfig, reflectState) {\n      return reflectState;\n    };\n\n    var ReflectingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getState: getState\n    });\n\n    var ReflectingSchema = [\n      required$1('channel'),\n      option('renderComponents'),\n      option('updateState'),\n      option('initialData')\n    ];\n\n    var init$3 = function () {\n      var cell = Cell(Optional.none());\n      var clear = function () {\n        return cell.set(Optional.none());\n      };\n      var readState = function () {\n        return cell.get().getOr('none');\n      };\n      return {\n        readState: readState,\n        get: cell.get,\n        set: cell.set,\n        clear: clear\n      };\n    };\n\n    var ReflectingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$3\n    });\n\n    var Reflecting = create$8({\n      fields: ReflectingSchema,\n      name: 'reflecting',\n      active: ActiveReflecting,\n      apis: ReflectingApis,\n      state: ReflectingState\n    });\n\n    var schema$7 = constant$1([\n      required$1('toggleClass'),\n      required$1('fetch'),\n      onStrictHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      onStrictHandler('onItemExecute'),\n      option('lazySink'),\n      required$1('dom'),\n      onHandler('onOpen'),\n      field('splitDropdownBehaviours', [\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      defaulted('eventOrder', {}),\n      option('role')\n    ].concat(sandboxFields()));\n    var arrowPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'arrow',\n      defaults: function () {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: function (detail) {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: function (arrow) {\n            arrow.getSystem().getByUid(detail.uid).each(emitExecute);\n          },\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleOnExecute: false,\n              toggleClass: detail.toggleClass\n            })])\n        };\n      }\n    });\n    var buttonPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'button',\n      defaults: function () {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: function (detail) {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: function (btn) {\n            btn.getSystem().getByUid(detail.uid).each(function (splitDropdown) {\n              detail.onExecute(splitDropdown, btn);\n            });\n          }\n        };\n      }\n    });\n    var parts$3 = constant$1([\n      arrowPart,\n      buttonPart,\n      optional({\n        factory: {\n          sketch: function (spec) {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      external$1({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        defaults: function (detail) {\n          return {\n            onExecute: function (tmenu, item) {\n              tmenu.getSystem().getByUid(detail.uid).each(function (splitDropdown) {\n                detail.onItemExecute(splitDropdown, tmenu, item);\n              });\n            }\n          };\n        }\n      }),\n      partType$1()\n    ]);\n\n    var factory$5 = function (detail, components, spec, externals) {\n      var _a;\n      var switchToMenu = function (sandbox) {\n        Composing.getCurrent(sandbox).each(function (current) {\n          Highlighting.highlightFirst(current);\n          Keying.focusIn(current);\n        });\n      };\n      var action = function (component) {\n        var onOpenSync = switchToMenu;\n        togglePopup(detail, identity$1, component, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n      };\n      var openMenu = function (comp) {\n        action(comp);\n        return Optional.some(true);\n      };\n      var executeOnButton = function (comp) {\n        var button = getPartOrDie(comp, detail, 'button');\n        emitExecute(button);\n        return Optional.some(true);\n      };\n      var buttonEvents = __assign(__assign({}, derive$2([runOnAttached(function (component, _simulatedEvent) {\n          var ariaDescriptor = getPart(component, detail, 'aria-descriptor');\n          ariaDescriptor.each(function (descriptor) {\n            var descriptorId = generate$6('aria');\n            set$8(descriptor.element, 'id', descriptorId);\n            set$8(component.element, 'aria-describedby', descriptorId);\n          });\n        })])), events$a(Optional.some(action)));\n      var apis = {\n        repositionMenus: function (comp) {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        apis: apis,\n        eventOrder: __assign(__assign({}, detail.eventOrder), (_a = {}, _a[execute$5()] = [\n          'disabling',\n          'toggling',\n          'alloy.base.behaviour'\n        ], _a)),\n        events: buttonEvents,\n        behaviours: augment(detail.splitDropdownBehaviours, [\n          Coupling.config({\n            others: {\n              sandbox: function (hotspot) {\n                var arrow = getPartOrDie(hotspot, detail, 'arrow');\n                var extras = {\n                  onOpen: function () {\n                    Toggling.on(arrow);\n                    Toggling.on(hotspot);\n                  },\n                  onClose: function () {\n                    Toggling.off(arrow);\n                    Toggling.off(hotspot);\n                  }\n                };\n                return makeSandbox$1(detail, hotspot, extras);\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: executeOnButton,\n            onEnter: executeOnButton,\n            onDown: openMenu\n          }),\n          Focusing.config({}),\n          Toggling.config({\n            toggleOnExecute: false,\n            aria: { mode: 'expanded' }\n          })\n        ]),\n        domModification: {\n          attributes: {\n            'role': detail.role.getOr('button'),\n            'aria-haspopup': true\n          }\n        }\n      };\n    };\n    var SplitDropdown = composite({\n      name: 'SplitDropdown',\n      configFields: schema$7(),\n      partFields: parts$3(),\n      factory: factory$5,\n      apis: {\n        repositionMenus: function (apis, comp) {\n          return apis.repositionMenus(comp);\n        }\n      }\n    });\n\n    var getButtonApi = function (component) {\n      return {\n        isDisabled: function () {\n          return Disabling.isDisabled(component);\n        },\n        setDisabled: function (state) {\n          return Disabling.set(component, state);\n        }\n      };\n    };\n    var getToggleApi = function (component) {\n      return {\n        setActive: function (state) {\n          Toggling.set(component, state);\n        },\n        isActive: function () {\n          return Toggling.isOn(component);\n        },\n        isDisabled: function () {\n          return Disabling.isDisabled(component);\n        },\n        setDisabled: function (state) {\n          return Disabling.set(component, state);\n        }\n      };\n    };\n    var getTooltipAttributes = function (tooltip, providersBackstage) {\n      return tooltip.map(function (tooltip) {\n        return {\n          'aria-label': providersBackstage.translate(tooltip),\n          'title': providersBackstage.translate(tooltip)\n        };\n      }).getOr({});\n    };\n    var focusButtonEvent = generate$6('focus-button');\n    var renderCommonStructure = function (icon, text, tooltip, receiver, behaviours, providersBackstage) {\n      var _d;\n      return {\n        dom: {\n          tag: 'button',\n          classes: ['tox-tbtn'].concat(text.isSome() ? ['tox-tbtn--select'] : []),\n          attributes: getTooltipAttributes(tooltip, providersBackstage)\n        },\n        components: componentRenderPipeline([\n          icon.map(function (iconName) {\n            return renderIconFromPack(iconName, providersBackstage.icons);\n          }),\n          text.map(function (text) {\n            return renderLabel$1(text, 'tox-tbtn', providersBackstage);\n          })\n        ]),\n        eventOrder: (_d = {}, _d[mousedown()] = [\n          'focusing',\n          'alloy.base.behaviour',\n          'common-button-display-events'\n        ], _d),\n        buttonBehaviours: derive$1([\n          DisablingConfigs.toolbarButton(providersBackstage.isDisabled),\n          receivingConfig(),\n          config('common-button-display-events', [run$1(mousedown(), function (button, se) {\n              se.event.prevent();\n              emit(button, focusButtonEvent);\n            })])\n        ].concat(receiver.map(function (r) {\n          return Reflecting.config({\n            channel: r,\n            initialData: {\n              icon: icon,\n              text: text\n            },\n            renderComponents: function (data, _state) {\n              return componentRenderPipeline([\n                data.icon.map(function (iconName) {\n                  return renderIconFromPack(iconName, providersBackstage.icons);\n                }),\n                data.text.map(function (text) {\n                  return renderLabel$1(text, 'tox-tbtn', providersBackstage);\n                })\n              ]);\n            }\n          });\n        }).toArray()).concat(behaviours.getOr([])))\n      };\n    };\n    var renderFloatingToolbarButton = function (spec, backstage, identifyButtons, attributes) {\n      var sharedBackstage = backstage.shared;\n      return FloatingToolbarButton.sketch({\n        lazySink: sharedBackstage.getSink,\n        fetch: function () {\n          return Future.nu(function (resolve) {\n            resolve(map$2(identifyButtons(spec.items), renderToolbarGroup));\n          });\n        },\n        markers: { toggledClass: 'tox-tbtn--enabled' },\n        parts: {\n          button: renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.none(), Optional.none(), sharedBackstage.providers),\n          toolbar: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes: attributes\n            }\n          }\n        }\n      });\n    };\n    var renderCommonToolbarButton = function (spec, specialisation, providersBackstage) {\n      var editorOffCell = Cell(noop);\n      var structure = renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.none(), Optional.none(), providersBackstage);\n      return Button.sketch({\n        dom: structure.dom,\n        components: structure.components,\n        eventOrder: toolbarButtonEventOrder,\n        buttonBehaviours: derive$1([\n          config('toolbar-button-events', [\n            onToolbarButtonExecute({\n              onAction: spec.onAction,\n              getApi: specialisation.getApi\n            }),\n            onControlAttached(specialisation, editorOffCell),\n            onControlDetached(specialisation, editorOffCell)\n          ]),\n          DisablingConfigs.toolbarButton(function () {\n            return spec.disabled || providersBackstage.isDisabled();\n          }),\n          receivingConfig()\n        ].concat(specialisation.toolbarButtonBehaviours))\n      });\n    };\n    var renderToolbarButton = function (spec, providersBackstage) {\n      return renderToolbarButtonWith(spec, providersBackstage, []);\n    };\n    var renderToolbarButtonWith = function (spec, providersBackstage, bonusEvents) {\n      return renderCommonToolbarButton(spec, {\n        toolbarButtonBehaviours: [].concat(bonusEvents.length > 0 ? [config('toolbarButtonWith', bonusEvents)] : []),\n        getApi: getButtonApi,\n        onSetup: spec.onSetup\n      }, providersBackstage);\n    };\n    var renderToolbarToggleButton = function (spec, providersBackstage) {\n      return renderToolbarToggleButtonWith(spec, providersBackstage, []);\n    };\n    var renderToolbarToggleButtonWith = function (spec, providersBackstage, bonusEvents) {\n      return deepMerge(renderCommonToolbarButton(spec, {\n        toolbarButtonBehaviours: [\n          Replacing.config({}),\n          Toggling.config({\n            toggleClass: 'tox-tbtn--enabled',\n            aria: { mode: 'pressed' },\n            toggleOnExecute: false\n          })\n        ].concat(bonusEvents.length > 0 ? [config('toolbarToggleButtonWith', bonusEvents)] : []),\n        getApi: getToggleApi,\n        onSetup: spec.onSetup\n      }, providersBackstage));\n    };\n    var fetchChoices = function (getApi, spec, providersBackstage) {\n      return function (comp) {\n        return Future.nu(function (callback) {\n          return spec.fetch(callback);\n        }).map(function (items) {\n          return Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, function (value) {\n            spec.onItemAction(getApi(comp), value);\n          }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, spec.select.getOr(never), providersBackstage), {\n            movement: deriveMenuMovement(spec.columns, spec.presets),\n            menuBehaviours: SimpleBehaviours.unnamedEvents(spec.columns !== 'auto' ? [] : [runOnAttached(function (comp, _se) {\n                detectSize(comp, 4, classForPreset(spec.presets)).each(function (_d) {\n                  var numRows = _d.numRows, numColumns = _d.numColumns;\n                  Keying.setGridSize(comp, numRows, numColumns);\n                });\n              })])\n          })));\n        });\n      };\n    };\n    var renderSplitButton = function (spec, sharedBackstage) {\n      var _d;\n      var displayChannel = generate$6('channel-update-split-dropdown-display');\n      var getApi = function (comp) {\n        return {\n          isDisabled: function () {\n            return Disabling.isDisabled(comp);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(comp, state);\n          },\n          setIconFill: function (id, value) {\n            descendant(comp.element, 'svg path[id=\"' + id + '\"], rect[id=\"' + id + '\"]').each(function (underlinePath) {\n              set$8(underlinePath, 'fill', value);\n            });\n          },\n          setIconStroke: function (id, value) {\n            descendant(comp.element, 'svg path[id=\"' + id + '\"], rect[id=\"' + id + '\"]').each(function (underlinePath) {\n              set$8(underlinePath, 'stroke', value);\n            });\n          },\n          setActive: function (state) {\n            set$8(comp.element, 'aria-pressed', state);\n            descendant(comp.element, 'span').each(function (button) {\n              comp.getSystem().getByDom(button).each(function (buttonComp) {\n                return Toggling.set(buttonComp, state);\n              });\n            });\n          },\n          isActive: function () {\n            return descendant(comp.element, 'span').exists(function (button) {\n              return comp.getSystem().getByDom(button).exists(Toggling.isOn);\n            });\n          }\n        };\n      };\n      var editorOffCell = Cell(noop);\n      var specialisation = {\n        getApi: getApi,\n        onSetup: spec.onSetup\n      };\n      return SplitDropdown.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-split-button'],\n          attributes: __assign({ 'aria-pressed': false }, getTooltipAttributes(spec.tooltip, sharedBackstage.providers))\n        },\n        onExecute: function (button) {\n          spec.onAction(getApi(button));\n        },\n        onItemExecute: function (_a, _b, _c) {\n        },\n        splitDropdownBehaviours: derive$1([\n          DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),\n          receivingConfig(),\n          config('split-dropdown-events', [\n            run$1(focusButtonEvent, Focusing.focus),\n            onControlAttached(specialisation, editorOffCell),\n            onControlDetached(specialisation, editorOffCell)\n          ]),\n          Unselecting.config({})\n        ]),\n        eventOrder: (_d = {}, _d[attachedToDom()] = [\n          'alloy.base.behaviour',\n          'split-dropdown-events'\n        ], _d),\n        toggleClass: 'tox-tbtn--enabled',\n        lazySink: sharedBackstage.getSink,\n        fetch: fetchChoices(getApi, spec, sharedBackstage.providers),\n        parts: { menu: part(false, spec.columns, spec.presets) },\n        components: [\n          SplitDropdown.parts.button(renderCommonStructure(spec.icon, spec.text, Optional.none(), Optional.some(displayChannel), Optional.some([Toggling.config({\n              toggleClass: 'tox-tbtn--enabled',\n              toggleOnExecute: false\n            })]), sharedBackstage.providers)),\n          SplitDropdown.parts.arrow({\n            dom: {\n              tag: 'button',\n              classes: [\n                'tox-tbtn',\n                'tox-split-button__chevron'\n              ],\n              innerHtml: get$1('chevron-down', sharedBackstage.providers.icons)\n            },\n            buttonBehaviours: derive$1([\n              DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),\n              receivingConfig(),\n              addFocusableBehaviour()\n            ])\n          }),\n          SplitDropdown.parts['aria-descriptor']({ text: sharedBackstage.providers.translate('To open the popup, press Shift+Enter') })\n        ]\n      });\n    };\n\n    var defaultToolbar = [\n      {\n        name: 'history',\n        items: [\n          'undo',\n          'redo'\n        ]\n      },\n      {\n        name: 'styles',\n        items: ['styleselect']\n      },\n      {\n        name: 'formatting',\n        items: [\n          'bold',\n          'italic'\n        ]\n      },\n      {\n        name: 'alignment',\n        items: [\n          'alignleft',\n          'aligncenter',\n          'alignright',\n          'alignjustify'\n        ]\n      },\n      {\n        name: 'indentation',\n        items: [\n          'outdent',\n          'indent'\n        ]\n      },\n      {\n        name: 'permanent pen',\n        items: ['permanentpen']\n      },\n      {\n        name: 'comments',\n        items: ['addcomment']\n      }\n    ];\n    var renderFromBridge = function (bridgeBuilder, render) {\n      return function (spec, extras, editor) {\n        var internal = bridgeBuilder(spec).mapError(function (errInfo) {\n          return formatError(errInfo);\n        }).getOrDie();\n        return render(internal, extras, editor);\n      };\n    };\n    var types = {\n      button: renderFromBridge(createToolbarButton, function (s, extras) {\n        return renderToolbarButton(s, extras.backstage.shared.providers);\n      }),\n      togglebutton: renderFromBridge(createToggleButton, function (s, extras) {\n        return renderToolbarToggleButton(s, extras.backstage.shared.providers);\n      }),\n      menubutton: renderFromBridge(createMenuButton, function (s, extras) {\n        return renderMenuButton(s, 'tox-tbtn', extras.backstage, Optional.none());\n      }),\n      splitbutton: renderFromBridge(createSplitButton, function (s, extras) {\n        return renderSplitButton(s, extras.backstage.shared);\n      }),\n      grouptoolbarbutton: renderFromBridge(createGroupToolbarButton, function (s, extras, editor) {\n        var _a;\n        var buttons = editor.ui.registry.getAll().buttons;\n        var identify = function (toolbar) {\n          return identifyButtons(editor, {\n            buttons: buttons,\n            toolbar: toolbar,\n            allowToolbarGroups: false\n          }, extras, Optional.none());\n        };\n        var attributes = (_a = {}, _a[Attribute] = extras.backstage.shared.header.isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop, _a);\n        switch (getToolbarMode(editor)) {\n        case ToolbarMode.floating:\n          return renderFloatingToolbarButton(s, extras.backstage, identify, attributes);\n        default:\n          throw new Error('Toolbar groups are only supported when using floating toolbar mode');\n        }\n      }),\n      styleSelectButton: function (editor, extras) {\n        return createStyleSelect(editor, extras.backstage);\n      },\n      fontsizeSelectButton: function (editor, extras) {\n        return createFontsizeSelect(editor, extras.backstage);\n      },\n      fontSelectButton: function (editor, extras) {\n        return createFontSelect(editor, extras.backstage);\n      },\n      formatButton: function (editor, extras) {\n        return createFormatSelect(editor, extras.backstage);\n      },\n      alignMenuButton: function (editor, extras) {\n        return createAlignSelect(editor, extras.backstage);\n      }\n    };\n    var extractFrom = function (spec, extras, editor) {\n      return get$e(types, spec.type).fold(function () {\n        console.error('skipping button defined by', spec);\n        return Optional.none();\n      }, function (render) {\n        return Optional.some(render(spec, extras, editor));\n      });\n    };\n    var bespokeButtons = {\n      styleselect: types.styleSelectButton,\n      fontsizeselect: types.fontsizeSelectButton,\n      fontselect: types.fontSelectButton,\n      formatselect: types.formatButton,\n      align: types.alignMenuButton\n    };\n    var removeUnusedDefaults = function (buttons) {\n      var filteredItemGroups = map$2(defaultToolbar, function (group) {\n        var items = filter$2(group.items, function (subItem) {\n          return has$2(buttons, subItem) || has$2(bespokeButtons, subItem);\n        });\n        return {\n          name: group.name,\n          items: items\n        };\n      });\n      return filter$2(filteredItemGroups, function (group) {\n        return group.items.length > 0;\n      });\n    };\n    var convertStringToolbar = function (strToolbar) {\n      var groupsStrings = strToolbar.split('|');\n      return map$2(groupsStrings, function (g) {\n        return { items: g.trim().split(' ') };\n      });\n    };\n    var isToolbarGroupSettingArray = function (toolbar) {\n      return isArrayOf(toolbar, function (t) {\n        return has$2(t, 'name') && has$2(t, 'items');\n      });\n    };\n    var createToolbar = function (toolbarConfig) {\n      var toolbar = toolbarConfig.toolbar;\n      var buttons = toolbarConfig.buttons;\n      if (toolbar === false) {\n        return [];\n      } else if (toolbar === undefined || toolbar === true) {\n        return removeUnusedDefaults(buttons);\n      } else if (isString(toolbar)) {\n        return convertStringToolbar(toolbar);\n      } else if (isToolbarGroupSettingArray(toolbar)) {\n        return toolbar;\n      } else {\n        console.error('Toolbar type should be string, string[], boolean or ToolbarGroup[]');\n        return [];\n      }\n    };\n    var lookupButton = function (editor, buttons, toolbarItem, allowToolbarGroups, extras, prefixes) {\n      return get$e(buttons, toolbarItem.toLowerCase()).orThunk(function () {\n        return prefixes.bind(function (ps) {\n          return findMap(ps, function (prefix) {\n            return get$e(buttons, prefix + toolbarItem.toLowerCase());\n          });\n        });\n      }).fold(function () {\n        return get$e(bespokeButtons, toolbarItem.toLowerCase()).map(function (r) {\n          return r(editor, extras);\n        }).orThunk(function () {\n          return Optional.none();\n        });\n      }, function (spec) {\n        if (spec.type === 'grouptoolbarbutton' && !allowToolbarGroups) {\n          console.warn('Ignoring the \\'' + toolbarItem + '\\' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.');\n          return Optional.none();\n        } else {\n          return extractFrom(spec, extras, editor);\n        }\n      });\n    };\n    var identifyButtons = function (editor, toolbarConfig, extras, prefixes) {\n      var toolbarGroups = createToolbar(toolbarConfig);\n      var groups = map$2(toolbarGroups, function (group) {\n        var items = bind$3(group.items, function (toolbarItem) {\n          return toolbarItem.trim().length === 0 ? [] : lookupButton(editor, toolbarConfig.buttons, toolbarItem, toolbarConfig.allowToolbarGroups, extras, prefixes).toArray();\n        });\n        return {\n          title: Optional.from(editor.translate(group.name)),\n          items: items\n        };\n      });\n      return filter$2(groups, function (group) {\n        return group.items.length > 0;\n      });\n    };\n\n    var setToolbar = function (editor, uiComponents, rawUiConfig, backstage) {\n      var comp = uiComponents.outerContainer;\n      var toolbarConfig = rawUiConfig.toolbar;\n      var toolbarButtonsConfig = rawUiConfig.buttons;\n      if (isArrayOf(toolbarConfig, isString)) {\n        var toolbars = toolbarConfig.map(function (t) {\n          var config = {\n            toolbar: t,\n            buttons: toolbarButtonsConfig,\n            allowToolbarGroups: rawUiConfig.allowToolbarGroups\n          };\n          return identifyButtons(editor, config, { backstage: backstage }, Optional.none());\n        });\n        OuterContainer.setToolbars(comp, toolbars);\n      } else {\n        OuterContainer.setToolbar(comp, identifyButtons(editor, rawUiConfig, { backstage: backstage }, Optional.none()));\n      }\n    };\n\n    var detection = detect$1();\n    var isiOS12 = detection.os.isiOS() && detection.os.version.major <= 12;\n    var setupEvents$1 = function (editor, uiComponents) {\n      var dom = editor.dom;\n      var contentWindow = editor.getWin();\n      var initialDocEle = editor.getDoc().documentElement;\n      var lastWindowDimensions = Cell(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n      var lastDocumentDimensions = Cell(SugarPosition(initialDocEle.offsetWidth, initialDocEle.offsetHeight));\n      var resizeWindow = function () {\n        var outer = lastWindowDimensions.get();\n        if (outer.left !== contentWindow.innerWidth || outer.top !== contentWindow.innerHeight) {\n          lastWindowDimensions.set(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n          fireResizeContent(editor);\n        }\n      };\n      var resizeDocument = function () {\n        var docEle = editor.getDoc().documentElement;\n        var inner = lastDocumentDimensions.get();\n        if (inner.left !== docEle.offsetWidth || inner.top !== docEle.offsetHeight) {\n          lastDocumentDimensions.set(SugarPosition(docEle.offsetWidth, docEle.offsetHeight));\n          fireResizeContent(editor);\n        }\n      };\n      var scroll = function (e) {\n        return fireScrollContent(editor, e);\n      };\n      dom.bind(contentWindow, 'resize', resizeWindow);\n      dom.bind(contentWindow, 'scroll', scroll);\n      var elementLoad = capture(SugarElement.fromDom(editor.getBody()), 'load', resizeDocument);\n      var mothership = uiComponents.uiMothership.element;\n      editor.on('hide', function () {\n        set$7(mothership, 'display', 'none');\n      });\n      editor.on('show', function () {\n        remove$6(mothership, 'display');\n      });\n      editor.on('NodeChange', resizeDocument);\n      editor.on('remove', function () {\n        elementLoad.unbind();\n        dom.unbind(contentWindow, 'resize', resizeWindow);\n        dom.unbind(contentWindow, 'scroll', scroll);\n        contentWindow = null;\n      });\n    };\n    var render$1 = function (editor, uiComponents, rawUiConfig, backstage, args) {\n      var lastToolbarWidth = Cell(0);\n      var outerContainer = uiComponents.outerContainer;\n      iframe(editor);\n      var eTargetNode = SugarElement.fromDom(args.targetNode);\n      var uiRoot = getContentContainer(getRootNode(eTargetNode));\n      attachSystemAfter(eTargetNode, uiComponents.mothership);\n      attachSystem(uiRoot, uiComponents.uiMothership);\n      editor.on('PostRender', function () {\n        setToolbar(editor, uiComponents, rawUiConfig, backstage);\n        lastToolbarWidth.set(editor.getWin().innerWidth);\n        OuterContainer.setMenubar(outerContainer, identifyMenus(editor, rawUiConfig));\n        OuterContainer.setSidebar(outerContainer, rawUiConfig.sidebar);\n        setupEvents$1(editor, uiComponents);\n      });\n      var socket = OuterContainer.getSocket(outerContainer).getOrDie('Could not find expected socket element');\n      if (isiOS12) {\n        setAll(socket.element, {\n          'overflow': 'scroll',\n          '-webkit-overflow-scrolling': 'touch'\n        });\n        var limit = first(function () {\n          editor.fire('ScrollContent');\n        }, 20);\n        var unbinder = bind(socket.element, 'scroll', limit.throttle);\n        editor.on('remove', unbinder.unbind);\n      }\n      setupReadonlyModeSwitch(editor, uiComponents);\n      editor.addCommand('ToggleSidebar', function (_ui, value) {\n        OuterContainer.toggleSidebar(outerContainer, value);\n        editor.fire('ToggleSidebar');\n      });\n      editor.addQueryValueHandler('ToggleSidebar', function () {\n        return OuterContainer.whichSidebar(outerContainer);\n      });\n      var toolbarMode = getToolbarMode(editor);\n      var refreshDrawer = function () {\n        OuterContainer.refreshToolbar(uiComponents.outerContainer);\n      };\n      if (toolbarMode === ToolbarMode.sliding || toolbarMode === ToolbarMode.floating) {\n        editor.on('ResizeWindow ResizeEditor ResizeContent', function () {\n          var width = editor.getWin().innerWidth;\n          if (width !== lastToolbarWidth.get()) {\n            refreshDrawer();\n            lastToolbarWidth.set(width);\n          }\n        });\n      }\n      var api = {\n        enable: function () {\n          broadcastReadonly(uiComponents, false);\n        },\n        disable: function () {\n          broadcastReadonly(uiComponents, true);\n        },\n        isDisabled: function () {\n          return Disabling.isDisabled(outerContainer);\n        }\n      };\n      return {\n        iframeContainer: socket.element.dom,\n        editorContainer: outerContainer.element.dom,\n        api: api\n      };\n    };\n\n    var Iframe = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render$1\n    });\n\n    var parseToInt = function (val) {\n      var re = /^[0-9\\.]+(|px)$/i;\n      if (re.test('' + val)) {\n        return Optional.some(parseInt('' + val, 10));\n      }\n      return Optional.none();\n    };\n    var numToPx = function (val) {\n      return isNumber(val) ? val + 'px' : val;\n    };\n    var calcCappedSize = function (size, minSize, maxSize) {\n      var minOverride = minSize.filter(function (min) {\n        return size < min;\n      });\n      var maxOverride = maxSize.filter(function (max) {\n        return size > max;\n      });\n      return minOverride.or(maxOverride).getOr(size);\n    };\n\n    var getHeight = function (editor) {\n      var baseHeight = getHeightSetting(editor);\n      var minHeight = getMinHeightSetting(editor);\n      var maxHeight = getMaxHeightSetting(editor);\n      return parseToInt(baseHeight).map(function (height) {\n        return calcCappedSize(height, minHeight, maxHeight);\n      });\n    };\n    var getHeightWithFallback = function (editor) {\n      var height = getHeight(editor);\n      return height.getOr(getHeightSetting(editor));\n    };\n    var getWidth = function (editor) {\n      var baseWidth = getWidthSetting(editor);\n      var minWidth = getMinWidthSetting(editor);\n      var maxWidth = getMaxWidthSetting(editor);\n      return parseToInt(baseWidth).map(function (width) {\n        return calcCappedSize(width, minWidth, maxWidth);\n      });\n    };\n    var getWidthWithFallback = function (editor) {\n      var width = getWidth(editor);\n      return width.getOr(getWidthSetting(editor));\n    };\n\n    var InlineHeader = function (editor, targetElm, uiComponents, backstage, floatContainer) {\n      var uiMothership = uiComponents.uiMothership, outerContainer = uiComponents.outerContainer;\n      var DOM = global$b.DOM;\n      var useFixedToolbarContainer = useFixedContainer(editor);\n      var isSticky = isStickyToolbar(editor);\n      var editorMaxWidthOpt = getMaxWidthSetting(editor).or(getWidth(editor));\n      var headerBackstage = backstage.shared.header;\n      var isPositionedAtTop = headerBackstage.isPositionedAtTop;\n      var toolbarMode = getToolbarMode(editor);\n      var isSplitToolbar = toolbarMode === ToolbarMode.sliding || toolbarMode === ToolbarMode.floating;\n      var visible = Cell(false);\n      var isVisible = function () {\n        return visible.get() && !editor.removed;\n      };\n      var calcToolbarOffset = function (toolbar) {\n        return isSplitToolbar ? toolbar.fold(constant$1(0), function (tbar) {\n          return tbar.components().length > 1 ? get$b(tbar.components()[1].element) : 0;\n        }) : 0;\n      };\n      var calcMode = function (container) {\n        switch (getToolbarLocation(editor)) {\n        case ToolbarLocation.auto:\n          var toolbar_1 = OuterContainer.getToolbar(outerContainer);\n          var offset = calcToolbarOffset(toolbar_1);\n          var toolbarHeight = get$b(container.element) - offset;\n          var targetBounds = box$1(targetElm);\n          var roomAtTop = targetBounds.y > toolbarHeight;\n          if (roomAtTop) {\n            return 'top';\n          } else {\n            var doc = documentElement(targetElm);\n            var docHeight = Math.max(doc.dom.scrollHeight, get$b(doc));\n            var roomAtBottom = targetBounds.bottom < docHeight - toolbarHeight;\n            if (roomAtBottom) {\n              return 'bottom';\n            } else {\n              var winBounds = win();\n              var isRoomAtBottomViewport = winBounds.bottom < targetBounds.bottom - toolbarHeight;\n              return isRoomAtBottomViewport ? 'bottom' : 'top';\n            }\n          }\n        case ToolbarLocation.bottom:\n          return 'bottom';\n        case ToolbarLocation.top:\n        default:\n          return 'top';\n        }\n      };\n      var setupMode = function (mode) {\n        var container = floatContainer.get();\n        Docking.setModes(container, [mode]);\n        headerBackstage.setDockingMode(mode);\n        var verticalDir = isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop;\n        set$8(container.element, Attribute, verticalDir);\n      };\n      var updateChromeWidth = function () {\n        var maxWidth = editorMaxWidthOpt.getOrThunk(function () {\n          var bodyMargin = parseToInt(get$c(body(), 'margin-left')).getOr(0);\n          return get$a(body()) - absolute$3(targetElm).left + bodyMargin;\n        });\n        set$7(floatContainer.get().element, 'max-width', maxWidth + 'px');\n      };\n      var updateChromePosition = function () {\n        var toolbar = OuterContainer.getToolbar(outerContainer);\n        var offset = calcToolbarOffset(toolbar);\n        var targetBounds = box$1(targetElm);\n        var top = isPositionedAtTop() ? Math.max(targetBounds.y - get$b(floatContainer.get().element) + offset, 0) : targetBounds.bottom;\n        setAll(outerContainer.element, {\n          position: 'absolute',\n          top: Math.round(top) + 'px',\n          left: Math.round(targetBounds.x) + 'px'\n        });\n      };\n      var repositionPopups$1 = function () {\n        uiMothership.broadcastOn([repositionPopups()], {});\n      };\n      var updateChromeUi = function (resetDocking) {\n        if (resetDocking === void 0) {\n          resetDocking = false;\n        }\n        if (!isVisible()) {\n          return;\n        }\n        if (!useFixedToolbarContainer) {\n          updateChromeWidth();\n        }\n        if (isSplitToolbar) {\n          OuterContainer.refreshToolbar(outerContainer);\n        }\n        if (!useFixedToolbarContainer) {\n          updateChromePosition();\n        }\n        if (isSticky) {\n          var floatContainerComp = floatContainer.get();\n          resetDocking ? Docking.reset(floatContainerComp) : Docking.refresh(floatContainerComp);\n        }\n        repositionPopups$1();\n      };\n      var updateMode = function (updateUi) {\n        if (updateUi === void 0) {\n          updateUi = true;\n        }\n        if (useFixedToolbarContainer || !isSticky || !isVisible()) {\n          return;\n        }\n        var currentMode = headerBackstage.getDockingMode();\n        var newMode = calcMode(floatContainer.get());\n        if (newMode !== currentMode) {\n          setupMode(newMode);\n          if (updateUi) {\n            updateChromeUi(true);\n          }\n        }\n      };\n      var show = function () {\n        visible.set(true);\n        set$7(outerContainer.element, 'display', 'flex');\n        DOM.addClass(editor.getBody(), 'mce-edit-focus');\n        remove$6(uiMothership.element, 'display');\n        updateMode(false);\n        updateChromeUi();\n      };\n      var hide = function () {\n        visible.set(false);\n        if (uiComponents.outerContainer) {\n          set$7(outerContainer.element, 'display', 'none');\n          DOM.removeClass(editor.getBody(), 'mce-edit-focus');\n        }\n        set$7(uiMothership.element, 'display', 'none');\n      };\n      return {\n        isVisible: isVisible,\n        isPositionedAtTop: isPositionedAtTop,\n        show: show,\n        hide: hide,\n        update: updateChromeUi,\n        updateMode: updateMode,\n        repositionPopups: repositionPopups$1\n      };\n    };\n\n    var getTargetPosAndBounds = function (targetElm, isToolbarTop) {\n      var bounds = box$1(targetElm);\n      return {\n        pos: isToolbarTop ? bounds.y : bounds.bottom,\n        bounds: bounds\n      };\n    };\n    var setupEvents = function (editor, targetElm, ui, toolbarPersist) {\n      var prevPosAndBounds = Cell(getTargetPosAndBounds(targetElm, ui.isPositionedAtTop()));\n      var resizeContent = function (e) {\n        var _a = getTargetPosAndBounds(targetElm, ui.isPositionedAtTop()), pos = _a.pos, bounds = _a.bounds;\n        var _b = prevPosAndBounds.get(), prevPos = _b.pos, prevBounds = _b.bounds;\n        var hasResized = bounds.height !== prevBounds.height || bounds.width !== prevBounds.width;\n        prevPosAndBounds.set({\n          pos: pos,\n          bounds: bounds\n        });\n        if (hasResized) {\n          fireResizeContent(editor, e);\n        }\n        if (ui.isVisible()) {\n          if (prevPos !== pos) {\n            ui.update(true);\n          } else if (hasResized) {\n            ui.updateMode();\n            ui.repositionPopups();\n          }\n        }\n      };\n      if (!toolbarPersist) {\n        editor.on('activate', ui.show);\n        editor.on('deactivate', ui.hide);\n      }\n      editor.on('SkinLoaded ResizeWindow', function () {\n        return ui.update(true);\n      });\n      editor.on('NodeChange keydown', function (e) {\n        global$f.requestAnimationFrame(function () {\n          return resizeContent(e);\n        });\n      });\n      editor.on('ScrollWindow', function () {\n        return ui.updateMode();\n      });\n      var elementLoad = unbindable();\n      elementLoad.set(capture(SugarElement.fromDom(editor.getBody()), 'load', resizeContent));\n      editor.on('remove', function () {\n        elementLoad.clear();\n      });\n    };\n    var render = function (editor, uiComponents, rawUiConfig, backstage, args) {\n      var mothership = uiComponents.mothership, uiMothership = uiComponents.uiMothership, outerContainer = uiComponents.outerContainer;\n      var floatContainer = Cell(null);\n      var targetElm = SugarElement.fromDom(args.targetNode);\n      var ui = InlineHeader(editor, targetElm, uiComponents, backstage, floatContainer);\n      var toolbarPersist = isToolbarPersist(editor);\n      inline(editor);\n      var render = function () {\n        if (floatContainer.get()) {\n          ui.show();\n          return;\n        }\n        floatContainer.set(OuterContainer.getHeader(outerContainer).getOrDie());\n        var uiContainer = getUiContainer(editor);\n        attachSystem(uiContainer, mothership);\n        attachSystem(uiContainer, uiMothership);\n        setToolbar(editor, uiComponents, rawUiConfig, backstage);\n        OuterContainer.setMenubar(outerContainer, identifyMenus(editor, rawUiConfig));\n        ui.show();\n        setupEvents(editor, targetElm, ui, toolbarPersist);\n        editor.nodeChanged();\n      };\n      editor.on('show', render);\n      editor.on('hide', ui.hide);\n      if (!toolbarPersist) {\n        editor.on('focus', render);\n        editor.on('blur', ui.hide);\n      }\n      editor.on('init', function () {\n        if (editor.hasFocus() || toolbarPersist) {\n          render();\n        }\n      });\n      setupReadonlyModeSwitch(editor, uiComponents);\n      var api = {\n        show: function () {\n          ui.show();\n        },\n        hide: function () {\n          ui.hide();\n        },\n        enable: function () {\n          broadcastReadonly(uiComponents, false);\n        },\n        disable: function () {\n          broadcastReadonly(uiComponents, true);\n        },\n        isDisabled: function () {\n          return Disabling.isDisabled(outerContainer);\n        }\n      };\n      return {\n        editorContainer: outerContainer.element.dom,\n        api: api\n      };\n    };\n\n    var Inline = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render\n    });\n\n    var showContextToolbarEvent = 'contexttoolbar-show';\n    var hideContextToolbarEvent = 'contexttoolbar-hide';\n\n    var getFormApi = function (input) {\n      return {\n        hide: function () {\n          return emit(input, sandboxClose());\n        },\n        getValue: function () {\n          return Representing.getValue(input);\n        }\n      };\n    };\n    var runOnExecute = function (memInput, original) {\n      return run$1(internalToolbarButtonExecute, function (comp, se) {\n        var input = memInput.get(comp);\n        var formApi = getFormApi(input);\n        original.onAction(formApi, se.event.buttonApi);\n      });\n    };\n    var renderContextButton = function (memInput, button, extras) {\n      var _a = button.original; _a.primary; var rest = __rest(_a, ['primary']);\n      var bridged = getOrDie(createToolbarButton(__assign(__assign({}, rest), {\n        type: 'button',\n        onAction: noop\n      })));\n      return renderToolbarButtonWith(bridged, extras.backstage.shared.providers, [runOnExecute(memInput, button)]);\n    };\n    var renderContextToggleButton = function (memInput, button, extras) {\n      var _a = button.original; _a.primary; var rest = __rest(_a, ['primary']);\n      var bridged = getOrDie(createToggleButton(__assign(__assign({}, rest), {\n        type: 'togglebutton',\n        onAction: noop\n      })));\n      return renderToolbarToggleButtonWith(bridged, extras.backstage.shared.providers, [runOnExecute(memInput, button)]);\n    };\n    var generateOne = function (memInput, button, providersBackstage) {\n      var extras = { backstage: { shared: { providers: providersBackstage } } };\n      if (button.type === 'contextformtogglebutton') {\n        return renderContextToggleButton(memInput, button, extras);\n      } else {\n        return renderContextButton(memInput, button, extras);\n      }\n    };\n    var generate = function (memInput, buttons, providersBackstage) {\n      var mementos = map$2(buttons, function (button) {\n        return record(generateOne(memInput, button, providersBackstage));\n      });\n      var asSpecs = function () {\n        return map$2(mementos, function (mem) {\n          return mem.asSpec();\n        });\n      };\n      var findPrimary = function (compInSystem) {\n        return findMap(buttons, function (button, i) {\n          if (button.primary) {\n            return Optional.from(mementos[i]).bind(function (mem) {\n              return mem.getOpt(compInSystem);\n            }).filter(not(Disabling.isDisabled));\n          } else {\n            return Optional.none();\n          }\n        });\n      };\n      return {\n        asSpecs: asSpecs,\n        findPrimary: findPrimary\n      };\n    };\n\n    var buildInitGroups = function (ctx, providers) {\n      var inputAttributes = ctx.label.fold(function () {\n        return {};\n      }, function (label) {\n        return { 'aria-label': label };\n      });\n      var memInput = record(Input.sketch({\n        inputClasses: [\n          'tox-toolbar-textfield',\n          'tox-toolbar-nav-js'\n        ],\n        data: ctx.initValue(),\n        inputAttributes: inputAttributes,\n        selectOnFocus: true,\n        inputBehaviours: derive$1([Keying.config({\n            mode: 'special',\n            onEnter: function (input) {\n              return commands.findPrimary(input).map(function (primary) {\n                emitExecute(primary);\n                return true;\n              });\n            },\n            onLeft: function (comp, se) {\n              se.cut();\n              return Optional.none();\n            },\n            onRight: function (comp, se) {\n              se.cut();\n              return Optional.none();\n            }\n          })])\n      }));\n      var commands = generate(memInput, ctx.commands, providers);\n      return [\n        {\n          title: Optional.none(),\n          items: [memInput.asSpec()]\n        },\n        {\n          title: Optional.none(),\n          items: commands.asSpecs()\n        }\n      ];\n    };\n    var renderContextForm = function (toolbarType, ctx, providers) {\n      return renderToolbar({\n        type: toolbarType,\n        uid: generate$6('context-toolbar'),\n        initGroups: buildInitGroups(ctx, providers),\n        onEscape: Optional.none,\n        cyclicKeying: true,\n        providers: providers\n      });\n    };\n    var ContextForm = {\n      renderContextForm: renderContextForm,\n      buildInitGroups: buildInitGroups\n    };\n\n    var isVerticalOverlap = function (a, b, threshold) {\n      if (threshold === void 0) {\n        threshold = 0.01;\n      }\n      return b.bottom - a.y >= threshold && a.bottom - b.y >= threshold;\n    };\n    var getRangeRect = function (rng) {\n      var rect = rng.getBoundingClientRect();\n      if (rect.height <= 0 && rect.width <= 0) {\n        var leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset).element;\n        var elm = isText$1(leaf$1) ? parent(leaf$1) : Optional.some(leaf$1);\n        return elm.filter(isElement$2).map(function (e) {\n          return e.dom.getBoundingClientRect();\n        }).getOr(rect);\n      } else {\n        return rect;\n      }\n    };\n    var getSelectionBounds = function (editor) {\n      var rng = editor.selection.getRng();\n      var rect = getRangeRect(rng);\n      if (editor.inline) {\n        var scroll_1 = get$9();\n        return bounds(scroll_1.left + rect.left, scroll_1.top + rect.top, rect.width, rect.height);\n      } else {\n        var bodyPos = absolute$2(SugarElement.fromDom(editor.getBody()));\n        return bounds(bodyPos.x + rect.left, bodyPos.y + rect.top, rect.width, rect.height);\n      }\n    };\n    var getAnchorElementBounds = function (editor, lastElement) {\n      return lastElement.filter(inBody).map(absolute$2).getOrThunk(function () {\n        return getSelectionBounds(editor);\n      });\n    };\n    var getHorizontalBounds = function (contentAreaBox, viewportBounds, margin) {\n      var x = Math.max(contentAreaBox.x + margin, viewportBounds.x);\n      var right = Math.min(contentAreaBox.right - margin, viewportBounds.right);\n      return {\n        x: x,\n        width: right - x\n      };\n    };\n    var getVerticalBounds = function (editor, contentAreaBox, viewportBounds, isToolbarLocationTop, toolbarType, margin) {\n      var container = SugarElement.fromDom(editor.getContainer());\n      var header = descendant(container, '.tox-editor-header').getOr(container);\n      var headerBox = box$1(header);\n      var isToolbarBelowContentArea = headerBox.y >= contentAreaBox.bottom;\n      var isToolbarAbove = isToolbarLocationTop && !isToolbarBelowContentArea;\n      if (editor.inline && isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: viewportBounds.bottom\n        };\n      }\n      if (editor.inline && !isToolbarAbove) {\n        return {\n          y: viewportBounds.y,\n          bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n        };\n      }\n      var containerBounds = toolbarType === 'line' ? box$1(container) : contentAreaBox;\n      if (isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: Math.min(containerBounds.bottom - margin, viewportBounds.bottom)\n        };\n      }\n      return {\n        y: Math.max(containerBounds.y + margin, viewportBounds.y),\n        bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n      };\n    };\n    var getContextToolbarBounds = function (editor, sharedBackstage, toolbarType, margin) {\n      if (margin === void 0) {\n        margin = 0;\n      }\n      var viewportBounds = getBounds$3(window);\n      var contentAreaBox = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n      var toolbarOrMenubarEnabled = isMenubarEnabled(editor) || isToolbarEnabled(editor) || isMultipleToolbars(editor);\n      var _a = getHorizontalBounds(contentAreaBox, viewportBounds, margin), x = _a.x, width = _a.width;\n      if (editor.inline && !toolbarOrMenubarEnabled) {\n        return bounds(x, viewportBounds.y, width, viewportBounds.height);\n      } else {\n        var isToolbarTop = sharedBackstage.header.isPositionedAtTop();\n        var _b = getVerticalBounds(editor, contentAreaBox, viewportBounds, isToolbarTop, toolbarType, margin), y = _b.y, bottom = _b.bottom;\n        return bounds(x, y, width, bottom - y);\n      }\n    };\n\n    var bubbleSize$1 = 12;\n    var bubbleAlignments$1 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top'],\n      inset: ['tox-pop--inset']\n    };\n    var anchorOverrides = {\n      maxHeightFunction: expandable$1(),\n      maxWidthFunction: expandable()\n    };\n    var isEntireElementSelected = function (editor, elem) {\n      var rng = editor.selection.getRng();\n      var leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset);\n      return rng.startContainer === rng.endContainer && rng.startOffset === rng.endOffset - 1 && eq(leaf$1.element, elem);\n    };\n    var preservePosition = function (elem, position, f) {\n      var currentPosition = getRaw(elem, 'position');\n      set$7(elem, 'position', position);\n      var result = f(elem);\n      currentPosition.each(function (pos) {\n        return set$7(elem, 'position', pos);\n      });\n      return result;\n    };\n    var shouldUseInsetLayouts = function (position) {\n      return position === 'node';\n    };\n    var determineInsetLayout = function (editor, contextbar, elem, data, bounds) {\n      var selectionBounds = getSelectionBounds(editor);\n      var isSameAnchorElement = data.lastElement().exists(function (prev) {\n        return eq(elem, prev);\n      });\n      if (isEntireElementSelected(editor, elem)) {\n        return isSameAnchorElement ? preserve : north;\n      } else if (isSameAnchorElement) {\n        return preservePosition(contextbar, data.getMode(), function () {\n          var isOverlapping = isVerticalOverlap(selectionBounds, box$1(contextbar));\n          return isOverlapping && !data.isReposition() ? flip$2 : preserve;\n        });\n      } else {\n        var yBounds = data.getMode() === 'fixed' ? bounds.y + get$9().top : bounds.y;\n        var contextbarHeight = get$b(contextbar) + bubbleSize$1;\n        return yBounds + contextbarHeight <= selectionBounds.y ? north : south;\n      }\n    };\n    var getAnchorSpec$2 = function (editor, mobile, data, position) {\n      var smartInsetLayout = function (elem) {\n        return function (anchor, element, bubbles, placee, bounds) {\n          var layout = determineInsetLayout(editor, placee, elem, data, bounds);\n          var newAnchor = __assign(__assign({}, anchor), {\n            y: bounds.y,\n            height: bounds.height\n          });\n          return __assign(__assign({}, layout(newAnchor, element, bubbles, placee, bounds)), { alwaysFit: true });\n        };\n      };\n      var getInsetLayouts = function (elem) {\n        return shouldUseInsetLayouts(position) ? [smartInsetLayout(elem)] : [];\n      };\n      var desktopAnchorSpecLayouts = {\n        onLtr: function (elem) {\n          return [\n            north$2,\n            south$2,\n            northeast$2,\n            southeast$2,\n            northwest$2,\n            southwest$2\n          ].concat(getInsetLayouts(elem));\n        },\n        onRtl: function (elem) {\n          return [\n            north$2,\n            south$2,\n            northwest$2,\n            southwest$2,\n            northeast$2,\n            southeast$2\n          ].concat(getInsetLayouts(elem));\n        }\n      };\n      var mobileAnchorSpecLayouts = {\n        onLtr: function (elem) {\n          return [\n            south$2,\n            southeast$2,\n            southwest$2,\n            northeast$2,\n            northwest$2,\n            north$2\n          ].concat(getInsetLayouts(elem));\n        },\n        onRtl: function (elem) {\n          return [\n            south$2,\n            southwest$2,\n            southeast$2,\n            northwest$2,\n            northeast$2,\n            north$2\n          ].concat(getInsetLayouts(elem));\n        }\n      };\n      return mobile ? mobileAnchorSpecLayouts : desktopAnchorSpecLayouts;\n    };\n    var getAnchorLayout = function (editor, position, isTouch, data) {\n      if (position === 'line') {\n        return {\n          bubble: nu$5(bubbleSize$1, 0, bubbleAlignments$1),\n          layouts: {\n            onLtr: function () {\n              return [east$2];\n            },\n            onRtl: function () {\n              return [west$2];\n            }\n          },\n          overrides: anchorOverrides\n        };\n      } else {\n        return {\n          bubble: nu$5(0, bubbleSize$1, bubbleAlignments$1, 1 / bubbleSize$1),\n          layouts: getAnchorSpec$2(editor, isTouch, data, position),\n          overrides: anchorOverrides\n        };\n      }\n    };\n\n    var matchTargetWith = function (elem, candidates) {\n      var ctxs = filter$2(candidates, function (toolbarApi) {\n        return toolbarApi.predicate(elem.dom);\n      });\n      var _a = partition$3(ctxs, function (t) {\n          return t.type === 'contexttoolbar';\n        }), pass = _a.pass, fail = _a.fail;\n      return {\n        contextToolbars: pass,\n        contextForms: fail\n      };\n    };\n    var filterByPositionForStartNode = function (toolbars) {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        var doesPositionExist = function (value) {\n          return exists(toolbars, function (t) {\n            return t.position === value;\n          });\n        };\n        var filterToolbarsByPosition = function (value) {\n          return filter$2(toolbars, function (t) {\n            return t.position === value;\n          });\n        };\n        var hasSelectionToolbars = doesPositionExist('selection');\n        var hasNodeToolbars = doesPositionExist('node');\n        if (hasSelectionToolbars || hasNodeToolbars) {\n          if (hasNodeToolbars && hasSelectionToolbars) {\n            var nodeToolbars = filterToolbarsByPosition('node');\n            var selectionToolbars = map$2(filterToolbarsByPosition('selection'), function (t) {\n              return __assign(__assign({}, t), { position: 'node' });\n            });\n            return nodeToolbars.concat(selectionToolbars);\n          } else {\n            return hasSelectionToolbars ? filterToolbarsByPosition('selection') : filterToolbarsByPosition('node');\n          }\n        } else {\n          return filterToolbarsByPosition('line');\n        }\n      }\n    };\n    var filterByPositionForAncestorNode = function (toolbars) {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        var findPosition_1 = function (value) {\n          return find$5(toolbars, function (t) {\n            return t.position === value;\n          });\n        };\n        var basePosition = findPosition_1('selection').orThunk(function () {\n          return findPosition_1('node');\n        }).orThunk(function () {\n          return findPosition_1('line');\n        }).map(function (t) {\n          return t.position;\n        });\n        return basePosition.fold(function () {\n          return [];\n        }, function (pos) {\n          return filter$2(toolbars, function (t) {\n            return t.position === pos;\n          });\n        });\n      }\n    };\n    var matchStartNode = function (elem, nodeCandidates, editorCandidates) {\n      var nodeMatches = matchTargetWith(elem, nodeCandidates);\n      if (nodeMatches.contextForms.length > 0) {\n        return Optional.some({\n          elem: elem,\n          toolbars: [nodeMatches.contextForms[0]]\n        });\n      } else {\n        var editorMatches = matchTargetWith(elem, editorCandidates);\n        if (editorMatches.contextForms.length > 0) {\n          return Optional.some({\n            elem: elem,\n            toolbars: [editorMatches.contextForms[0]]\n          });\n        } else if (nodeMatches.contextToolbars.length > 0 || editorMatches.contextToolbars.length > 0) {\n          var toolbars = filterByPositionForStartNode(nodeMatches.contextToolbars.concat(editorMatches.contextToolbars));\n          return Optional.some({\n            elem: elem,\n            toolbars: toolbars\n          });\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n    var matchAncestor = function (isRoot, startNode, scopes) {\n      if (isRoot(startNode)) {\n        return Optional.none();\n      } else {\n        return ancestor$2(startNode, function (ancestorElem) {\n          if (isElement$2(ancestorElem)) {\n            var _a = matchTargetWith(ancestorElem, scopes.inNodeScope), contextToolbars = _a.contextToolbars, contextForms = _a.contextForms;\n            var toolbars = contextForms.length > 0 ? contextForms : filterByPositionForAncestorNode(contextToolbars);\n            return toolbars.length > 0 ? Optional.some({\n              elem: ancestorElem,\n              toolbars: toolbars\n            }) : Optional.none();\n          } else {\n            return Optional.none();\n          }\n        }, isRoot);\n      }\n    };\n    var lookup$1 = function (scopes, editor) {\n      var rootElem = SugarElement.fromDom(editor.getBody());\n      var isRoot = function (elem) {\n        return eq(elem, rootElem);\n      };\n      var isOutsideRoot = function (startNode) {\n        return !isRoot(startNode) && !contains(rootElem, startNode);\n      };\n      var startNode = SugarElement.fromDom(editor.selection.getNode());\n      if (isOutsideRoot(startNode)) {\n        return Optional.none();\n      }\n      return matchStartNode(startNode, scopes.inNodeScope, scopes.inEditorScope).orThunk(function () {\n        return matchAncestor(isRoot, startNode, scopes);\n      });\n    };\n\n    var categorise = function (contextToolbars, navigate) {\n      var forms = {};\n      var inNodeScope = [];\n      var inEditorScope = [];\n      var formNavigators = {};\n      var lookupTable = {};\n      var registerForm = function (key, toolbarSpec) {\n        var contextForm = getOrDie(createContextForm(toolbarSpec));\n        forms[key] = contextForm;\n        contextForm.launch.map(function (launch) {\n          formNavigators['form:' + key + ''] = __assign(__assign({}, toolbarSpec.launch), {\n            type: launch.type === 'contextformtogglebutton' ? 'togglebutton' : 'button',\n            onAction: function () {\n              navigate(contextForm);\n            }\n          });\n        });\n        if (contextForm.scope === 'editor') {\n          inEditorScope.push(contextForm);\n        } else {\n          inNodeScope.push(contextForm);\n        }\n        lookupTable[key] = contextForm;\n      };\n      var registerToolbar = function (key, toolbarSpec) {\n        createContextToolbar(toolbarSpec).each(function (contextToolbar) {\n          if (toolbarSpec.scope === 'editor') {\n            inEditorScope.push(contextToolbar);\n          } else {\n            inNodeScope.push(contextToolbar);\n          }\n          lookupTable[key] = contextToolbar;\n        });\n      };\n      var keys$1 = keys(contextToolbars);\n      each$1(keys$1, function (key) {\n        var toolbarApi = contextToolbars[key];\n        if (toolbarApi.type === 'contextform') {\n          registerForm(key, toolbarApi);\n        } else if (toolbarApi.type === 'contexttoolbar') {\n          registerToolbar(key, toolbarApi);\n        }\n      });\n      return {\n        forms: forms,\n        inNodeScope: inNodeScope,\n        inEditorScope: inEditorScope,\n        lookupTable: lookupTable,\n        formNavigators: formNavigators\n      };\n    };\n\n    var forwardSlideEvent = generate$6('forward-slide');\n    var backSlideEvent = generate$6('backward-slide');\n    var changeSlideEvent = generate$6('change-slide-event');\n    var resizingClass = 'tox-pop--resizing';\n    var renderContextToolbar = function (spec) {\n      var stack = Cell([]);\n      return InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-pop']\n        },\n        fireDismissalEventInstead: { event: 'doNotDismissYet' },\n        onShow: function (comp) {\n          stack.set([]);\n          InlineView.getContent(comp).each(function (c) {\n            remove$6(c.element, 'visibility');\n          });\n          remove$2(comp.element, resizingClass);\n          remove$6(comp.element, 'width');\n        },\n        inlineBehaviours: derive$1([\n          config('context-toolbar-events', [\n            runOnSource(transitionend(), function (comp, se) {\n              if (se.event.raw.propertyName === 'width') {\n                remove$2(comp.element, resizingClass);\n                remove$6(comp.element, 'width');\n              }\n            }),\n            run$1(changeSlideEvent, function (comp, se) {\n              var elem = comp.element;\n              remove$6(elem, 'width');\n              var currentWidth = get$a(elem);\n              InlineView.setContent(comp, se.event.contents);\n              add$2(elem, resizingClass);\n              var newWidth = get$a(elem);\n              set$7(elem, 'width', currentWidth + 'px');\n              InlineView.getContent(comp).each(function (newContents) {\n                se.event.focus.bind(function (f) {\n                  focus$3(f);\n                  return search(elem);\n                }).orThunk(function () {\n                  Keying.focusIn(newContents);\n                  return active(getRootNode(elem));\n                });\n              });\n              global$f.setTimeout(function () {\n                set$7(comp.element, 'width', newWidth + 'px');\n              }, 0);\n            }),\n            run$1(forwardSlideEvent, function (comp, se) {\n              InlineView.getContent(comp).each(function (oldContents) {\n                stack.set(stack.get().concat([{\n                    bar: oldContents,\n                    focus: active(getRootNode(comp.element))\n                  }]));\n              });\n              emitWith(comp, changeSlideEvent, {\n                contents: se.event.forwardContents,\n                focus: Optional.none()\n              });\n            }),\n            run$1(backSlideEvent, function (comp, _se) {\n              last$2(stack.get()).each(function (last) {\n                stack.set(stack.get().slice(0, stack.get().length - 1));\n                emitWith(comp, changeSlideEvent, {\n                  contents: premade(last.bar),\n                  focus: last.focus\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'special',\n            onEscape: function (comp) {\n              return last$2(stack.get()).fold(function () {\n                return spec.onEscape();\n              }, function (_) {\n                emit(comp, backSlideEvent);\n                return Optional.some(true);\n              });\n            }\n          })\n        ]),\n        lazySink: function () {\n          return Result.value(spec.sink);\n        }\n      });\n    };\n\n    var transitionClass = 'tox-pop--transition';\n    var register$7 = function (editor, registryContextToolbars, sink, extras) {\n      var backstage = extras.backstage;\n      var sharedBackstage = backstage.shared;\n      var isTouch = detect$1().deviceType.isTouch;\n      var lastElement = value$1();\n      var lastTrigger = value$1();\n      var lastContextPosition = value$1();\n      var contextbar = build$1(renderContextToolbar({\n        sink: sink,\n        onEscape: function () {\n          editor.focus();\n          return Optional.some(true);\n        }\n      }));\n      var getBounds = function () {\n        var position = lastContextPosition.get().getOr('node');\n        var margin = shouldUseInsetLayouts(position) ? 1 : 0;\n        return getContextToolbarBounds(editor, sharedBackstage, position, margin);\n      };\n      var canLaunchToolbar = function () {\n        return !editor.removed && !(isTouch() && backstage.isContextMenuOpen());\n      };\n      var isSameLaunchElement = function (elem) {\n        return is$1(lift2(elem, lastElement.get(), eq), true);\n      };\n      var shouldContextToolbarHide = function () {\n        if (!canLaunchToolbar()) {\n          return true;\n        } else {\n          var contextToolbarBounds = getBounds();\n          var anchorBounds = is$1(lastContextPosition.get(), 'node') ? getAnchorElementBounds(editor, lastElement.get()) : getSelectionBounds(editor);\n          return contextToolbarBounds.height <= 0 || !isVerticalOverlap(anchorBounds, contextToolbarBounds);\n        }\n      };\n      var close = function () {\n        lastElement.clear();\n        lastTrigger.clear();\n        lastContextPosition.clear();\n        InlineView.hide(contextbar);\n      };\n      var hideOrRepositionIfNecessary = function () {\n        if (InlineView.isOpen(contextbar)) {\n          var contextBarEle = contextbar.element;\n          remove$6(contextBarEle, 'display');\n          if (shouldContextToolbarHide()) {\n            set$7(contextBarEle, 'display', 'none');\n          } else {\n            lastTrigger.set(0);\n            InlineView.reposition(contextbar);\n          }\n        }\n      };\n      var wrapInPopDialog = function (toolbarSpec) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-pop__dialog']\n          },\n          components: [toolbarSpec],\n          behaviours: derive$1([\n            Keying.config({ mode: 'acyclic' }),\n            config('pop-dialog-wrap-events', [\n              runOnAttached(function (comp) {\n                editor.shortcuts.add('ctrl+F9', 'focus statusbar', function () {\n                  return Keying.focusIn(comp);\n                });\n              }),\n              runOnDetached(function (_comp) {\n                editor.shortcuts.remove('ctrl+F9');\n              })\n            ])\n          ])\n        };\n      };\n      var getScopes = cached(function () {\n        return categorise(registryContextToolbars, function (toolbarApi) {\n          var alloySpec = buildToolbar([toolbarApi]);\n          emitWith(contextbar, forwardSlideEvent, { forwardContents: wrapInPopDialog(alloySpec) });\n        });\n      });\n      var buildContextToolbarGroups = function (allButtons, ctx) {\n        return identifyButtons(editor, {\n          buttons: allButtons,\n          toolbar: ctx.items,\n          allowToolbarGroups: false\n        }, extras, Optional.some(['form:']));\n      };\n      var buildContextFormGroups = function (ctx, providers) {\n        return ContextForm.buildInitGroups(ctx, providers);\n      };\n      var buildToolbar = function (toolbars) {\n        var buttons = editor.ui.registry.getAll().buttons;\n        var scopes = getScopes();\n        var allButtons = __assign(__assign({}, buttons), scopes.formNavigators);\n        var toolbarType = getToolbarMode(editor) === ToolbarMode.scrolling ? ToolbarMode.scrolling : ToolbarMode.default;\n        var initGroups = flatten(map$2(toolbars, function (ctx) {\n          return ctx.type === 'contexttoolbar' ? buildContextToolbarGroups(allButtons, ctx) : buildContextFormGroups(ctx, sharedBackstage.providers);\n        }));\n        return renderToolbar({\n          type: toolbarType,\n          uid: generate$6('context-toolbar'),\n          initGroups: initGroups,\n          onEscape: Optional.none,\n          cyclicKeying: true,\n          providers: sharedBackstage.providers\n        });\n      };\n      var getAnchor = function (position, element) {\n        var anchorage = position === 'node' ? sharedBackstage.anchors.node(element) : sharedBackstage.anchors.cursor();\n        var anchorLayout = getAnchorLayout(editor, position, isTouch(), {\n          lastElement: lastElement.get,\n          isReposition: function () {\n            return is$1(lastTrigger.get(), 0);\n          },\n          getMode: function () {\n            return Positioning.getMode(sink);\n          }\n        });\n        return deepMerge(anchorage, anchorLayout);\n      };\n      var launchContext = function (toolbarApi, elem) {\n        launchContextToolbar.cancel();\n        if (!canLaunchToolbar()) {\n          return;\n        }\n        var toolbarSpec = buildToolbar(toolbarApi);\n        var position = toolbarApi[0].position;\n        var anchor = getAnchor(position, elem);\n        lastContextPosition.set(position);\n        lastTrigger.set(1);\n        var contextBarEle = contextbar.element;\n        remove$6(contextBarEle, 'display');\n        if (!isSameLaunchElement(elem)) {\n          remove$2(contextBarEle, transitionClass);\n          Positioning.reset(sink, contextbar);\n        }\n        InlineView.showWithinBounds(contextbar, wrapInPopDialog(toolbarSpec), {\n          anchor: anchor,\n          transition: {\n            classes: [transitionClass],\n            mode: 'placement'\n          }\n        }, function () {\n          return Optional.some(getBounds());\n        });\n        elem.fold(lastElement.clear, lastElement.set);\n        if (shouldContextToolbarHide()) {\n          set$7(contextBarEle, 'display', 'none');\n        }\n      };\n      var launchContextToolbar = last(function () {\n        if (!editor.hasFocus() || editor.removed) {\n          return;\n        }\n        if (has(contextbar.element, transitionClass)) {\n          launchContextToolbar.throttle();\n        } else {\n          var scopes = getScopes();\n          lookup$1(scopes, editor).fold(close, function (info) {\n            launchContext(info.toolbars, Optional.some(info.elem));\n          });\n        }\n      }, 17);\n      editor.on('init', function () {\n        editor.on('remove', close);\n        editor.on('ScrollContent ScrollWindow ObjectResized ResizeEditor longpress', hideOrRepositionIfNecessary);\n        editor.on('click keyup focus SetContent', launchContextToolbar.throttle);\n        editor.on(hideContextToolbarEvent, close);\n        editor.on(showContextToolbarEvent, function (e) {\n          var scopes = getScopes();\n          get$e(scopes.lookupTable, e.toolbarKey).each(function (ctx) {\n            launchContext([ctx], someIf(e.target !== editor, e.target));\n            InlineView.getContent(contextbar).each(Keying.focusIn);\n          });\n        });\n        editor.on('focusout', function (_e) {\n          global$f.setEditorTimeout(editor, function () {\n            if (search(sink.element).isNone() && search(contextbar.element).isNone()) {\n              close();\n            }\n          }, 0);\n        });\n        editor.on('SwitchMode', function () {\n          if (editor.mode.isReadOnly()) {\n            close();\n          }\n        });\n        editor.on('AfterProgressState', function (event) {\n          if (event.state) {\n            close();\n          } else if (editor.hasFocus()) {\n            launchContextToolbar.throttle();\n          }\n        });\n        editor.on('NodeChange', function (_e) {\n          search(contextbar.element).fold(launchContextToolbar.throttle, noop);\n        });\n      });\n    };\n\n    var register$6 = function (editor) {\n      var alignToolbarButtons = [\n        {\n          name: 'alignleft',\n          text: 'Align left',\n          cmd: 'JustifyLeft',\n          icon: 'align-left'\n        },\n        {\n          name: 'aligncenter',\n          text: 'Align center',\n          cmd: 'JustifyCenter',\n          icon: 'align-center'\n        },\n        {\n          name: 'alignright',\n          text: 'Align right',\n          cmd: 'JustifyRight',\n          icon: 'align-right'\n        },\n        {\n          name: 'alignjustify',\n          text: 'Justify',\n          cmd: 'JustifyFull',\n          icon: 'align-justify'\n        }\n      ];\n      each$1(alignToolbarButtons, function (item) {\n        editor.ui.registry.addToggleButton(item.name, {\n          tooltip: item.text,\n          icon: item.icon,\n          onAction: onActionExecCommand(editor, item.cmd),\n          onSetup: onSetupFormatToggle(editor, item.name)\n        });\n      });\n      editor.ui.registry.addButton('alignnone', {\n        tooltip: 'No alignment',\n        icon: 'align-none',\n        onAction: onActionExecCommand(editor, 'JustifyNone')\n      });\n    };\n\n    var units = {\n      unsupportedLength: [\n        'em',\n        'ex',\n        'cap',\n        'ch',\n        'ic',\n        'rem',\n        'lh',\n        'rlh',\n        'vw',\n        'vh',\n        'vi',\n        'vb',\n        'vmin',\n        'vmax',\n        'cm',\n        'mm',\n        'Q',\n        'in',\n        'pc',\n        'pt',\n        'px'\n      ],\n      fixed: [\n        'px',\n        'pt'\n      ],\n      relative: ['%'],\n      empty: ['']\n    };\n    var pattern = function () {\n      var decimalDigits = '[0-9]+';\n      var signedInteger = '[+-]?' + decimalDigits;\n      var exponentPart = '[eE]' + signedInteger;\n      var dot = '\\\\.';\n      var opt = function (input) {\n        return '(?:' + input + ')?';\n      };\n      var unsignedDecimalLiteral = [\n        'Infinity',\n        decimalDigits + dot + opt(decimalDigits) + opt(exponentPart),\n        dot + decimalDigits + opt(exponentPart),\n        decimalDigits + opt(exponentPart)\n      ].join('|');\n      var float = '[+-]?(?:' + unsignedDecimalLiteral + ')';\n      return new RegExp('^(' + float + ')(.*)$');\n    }();\n    var isUnit = function (unit, accepted) {\n      return exists(accepted, function (acc) {\n        return exists(units[acc], function (check) {\n          return unit === check;\n        });\n      });\n    };\n    var parse = function (input, accepted) {\n      var match = Optional.from(pattern.exec(input));\n      return match.bind(function (array) {\n        var value = Number(array[1]);\n        var unitRaw = array[2];\n        if (isUnit(unitRaw, accepted)) {\n          return Optional.some({\n            value: value,\n            unit: unitRaw\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var normalise = function (input, accepted) {\n      return parse(input, accepted).map(function (_a) {\n        var value = _a.value, unit = _a.unit;\n        return value + unit;\n      });\n    };\n\n    var registerController = function (editor, spec) {\n      var getMenuItems = function () {\n        var options = spec.getOptions(editor);\n        var initial = spec.getCurrent(editor).map(spec.hash);\n        var current = value$1();\n        return map$2(options, function (value) {\n          return {\n            type: 'togglemenuitem',\n            text: spec.display(value),\n            onSetup: function (api) {\n              var setActive = function (active) {\n                if (active) {\n                  current.on(function (oldApi) {\n                    return oldApi.setActive(false);\n                  });\n                  current.set(api);\n                }\n                api.setActive(active);\n              };\n              setActive(is$1(initial, spec.hash(value)));\n              var unbindWatcher = spec.watcher(editor, value, setActive);\n              return function () {\n                current.clear();\n                unbindWatcher();\n              };\n            },\n            onAction: function () {\n              return spec.setCurrent(editor, value);\n            }\n          };\n        });\n      };\n      editor.ui.registry.addMenuButton(spec.name, {\n        tooltip: spec.text,\n        icon: spec.icon,\n        fetch: function (callback) {\n          return callback(getMenuItems());\n        },\n        onSetup: spec.onToolbarSetup\n      });\n      editor.ui.registry.addNestedMenuItem(spec.name, {\n        type: 'nestedmenuitem',\n        text: spec.text,\n        getSubmenuItems: getMenuItems,\n        onSetup: spec.onMenuSetup\n      });\n    };\n    var lineHeightSpec = {\n      name: 'lineheight',\n      text: 'Line height',\n      icon: 'line-height',\n      getOptions: getLineHeightFormats,\n      hash: function (input) {\n        return normalise(input, [\n          'fixed',\n          'relative',\n          'empty'\n        ]).getOr(input);\n      },\n      display: identity$1,\n      watcher: function (editor, value, callback) {\n        return editor.formatter.formatChanged('lineheight', callback, false, { value: value }).unbind;\n      },\n      getCurrent: function (editor) {\n        return Optional.from(editor.queryCommandValue('LineHeight'));\n      },\n      setCurrent: function (editor, value) {\n        return editor.execCommand('LineHeight', false, value);\n      }\n    };\n    var languageSpec = function (editor) {\n      var settingsOpt = Optional.from(getContentLanguages(editor));\n      return settingsOpt.map(function (settings) {\n        return {\n          name: 'language',\n          text: 'Language',\n          icon: 'language',\n          getOptions: constant$1(settings),\n          hash: function (input) {\n            return isUndefined(input.customCode) ? input.code : input.code + '/' + input.customCode;\n          },\n          display: function (input) {\n            return input.title;\n          },\n          watcher: function (editor, value, callback) {\n            return editor.formatter.formatChanged('lang', callback, false, {\n              value: value.code,\n              customValue: value.customCode\n            }).unbind;\n          },\n          getCurrent: function (editor) {\n            var node = SugarElement.fromDom(editor.selection.getNode());\n            return closest$4(node, function (n) {\n              return Optional.some(n).filter(isElement$2).bind(function (ele) {\n                var codeOpt = getOpt(ele, 'lang');\n                return codeOpt.map(function (code) {\n                  var customCode = getOpt(ele, 'data-mce-lang').getOrUndefined();\n                  return {\n                    code: code,\n                    customCode: customCode,\n                    title: ''\n                  };\n                });\n              });\n            });\n          },\n          setCurrent: function (editor, lang) {\n            return editor.execCommand('Lang', false, lang);\n          },\n          onToolbarSetup: function (api) {\n            var unbinder = unbindable();\n            api.setActive(editor.formatter.match('lang', {}, undefined, true));\n            unbinder.set(editor.formatter.formatChanged('lang', api.setActive, true));\n            return unbinder.clear;\n          }\n        };\n      });\n    };\n    var register$5 = function (editor) {\n      registerController(editor, lineHeightSpec);\n      languageSpec(editor).each(function (spec) {\n        return registerController(editor, spec);\n      });\n    };\n\n    var register$4 = function (editor, backstage) {\n      alignSelectMenu(editor, backstage);\n      fontSelectMenu(editor, backstage);\n      styleSelectMenu(editor, backstage);\n      formatSelectMenu(editor, backstage);\n      fontsizeSelectMenu(editor, backstage);\n    };\n\n    var onSetupOutdentState = function (editor) {\n      return onSetupEvent(editor, 'NodeChange', function (api) {\n        api.setDisabled(!editor.queryCommandState('outdent'));\n      });\n    };\n    var registerButtons$2 = function (editor) {\n      editor.ui.registry.addButton('outdent', {\n        tooltip: 'Decrease indent',\n        icon: 'outdent',\n        onSetup: onSetupOutdentState(editor),\n        onAction: onActionExecCommand(editor, 'outdent')\n      });\n      editor.ui.registry.addButton('indent', {\n        tooltip: 'Increase indent',\n        icon: 'indent',\n        onAction: onActionExecCommand(editor, 'indent')\n      });\n    };\n    var register$3 = function (editor) {\n      registerButtons$2(editor);\n    };\n\n    var onActionToggleFormat = function (editor, fmt) {\n      return function () {\n        editor.execCommand('mceToggleFormat', false, fmt);\n      };\n    };\n    var registerFormatButtons = function (editor) {\n      global$5.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          icon: 'bold'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          icon: 'italic'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          icon: 'underline'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          icon: 'strike-through'\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          icon: 'subscript'\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          icon: 'superscript'\n        }\n      ], function (btn, _idx) {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onSetup: onSetupFormatToggle(editor, btn.name),\n          onAction: onActionToggleFormat(editor, btn.name)\n        });\n      });\n      for (var i = 1; i <= 6; i++) {\n        var name_1 = 'h' + i;\n        editor.ui.registry.addToggleButton(name_1, {\n          text: name_1.toUpperCase(),\n          tooltip: 'Heading ' + i,\n          onSetup: onSetupFormatToggle(editor, name_1),\n          onAction: onActionToggleFormat(editor, name_1)\n        });\n      }\n    };\n    var registerCommandButtons = function (editor) {\n      global$5.each([\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste'\n        },\n        {\n          name: 'help',\n          text: 'Help',\n          action: 'mceHelp',\n          icon: 'help'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all'\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document'\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting'\n        },\n        {\n          name: 'remove',\n          text: 'Remove',\n          action: 'Delete',\n          icon: 'remove'\n        }\n      ], function (btn) {\n        editor.ui.registry.addButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action)\n        });\n      });\n    };\n    var registerCommandToggleButtons = function (editor) {\n      global$5.each([{\n          name: 'blockquote',\n          text: 'Blockquote',\n          action: 'mceBlockQuote',\n          icon: 'quote'\n        }], function (btn) {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action),\n          onSetup: onSetupFormatToggle(editor, btn.name)\n        });\n      });\n    };\n    var registerButtons$1 = function (editor) {\n      registerFormatButtons(editor);\n      registerCommandButtons(editor);\n      registerCommandToggleButtons(editor);\n    };\n    var registerMenuItems$2 = function (editor) {\n      global$5.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          action: 'Bold',\n          icon: 'bold',\n          shortcut: 'Meta+B'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          action: 'Italic',\n          icon: 'italic',\n          shortcut: 'Meta+I'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          action: 'Underline',\n          icon: 'underline',\n          shortcut: 'Meta+U'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          action: 'Strikethrough',\n          icon: 'strike-through',\n          shortcut: ''\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          action: 'Subscript',\n          icon: 'subscript',\n          shortcut: ''\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          action: 'Superscript',\n          icon: 'superscript',\n          shortcut: ''\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting',\n          shortcut: ''\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document',\n          shortcut: ''\n        },\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut',\n          shortcut: 'Meta+X'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy',\n          shortcut: 'Meta+C'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste',\n          shortcut: 'Meta+V'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all',\n          shortcut: 'Meta+A'\n        }\n      ], function (btn) {\n        editor.ui.registry.addMenuItem(btn.name, {\n          text: btn.text,\n          icon: btn.icon,\n          shortcut: btn.shortcut,\n          onAction: onActionExecCommand(editor, btn.action)\n        });\n      });\n      editor.ui.registry.addMenuItem('codeformat', {\n        text: 'Code',\n        icon: 'sourcecode',\n        onAction: onActionToggleFormat(editor, 'code')\n      });\n    };\n    var register$2 = function (editor) {\n      registerButtons$1(editor);\n      registerMenuItems$2(editor);\n    };\n\n    var onSetupUndoRedoState = function (editor, type) {\n      return onSetupEvent(editor, 'Undo Redo AddUndo TypingUndo ClearUndos SwitchMode', function (api) {\n        api.setDisabled(editor.mode.isReadOnly() || !editor.undoManager[type]());\n      });\n    };\n    var registerMenuItems$1 = function (editor) {\n      editor.ui.registry.addMenuItem('undo', {\n        text: 'Undo',\n        icon: 'undo',\n        shortcut: 'Meta+Z',\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo')\n      });\n      editor.ui.registry.addMenuItem('redo', {\n        text: 'Redo',\n        icon: 'redo',\n        shortcut: 'Meta+Y',\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo')\n      });\n    };\n    var registerButtons = function (editor) {\n      editor.ui.registry.addButton('undo', {\n        tooltip: 'Undo',\n        icon: 'undo',\n        disabled: true,\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo')\n      });\n      editor.ui.registry.addButton('redo', {\n        tooltip: 'Redo',\n        icon: 'redo',\n        disabled: true,\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo')\n      });\n    };\n    var register$1 = function (editor) {\n      registerMenuItems$1(editor);\n      registerButtons(editor);\n    };\n\n    var onSetupVisualAidState = function (editor) {\n      return onSetupEvent(editor, 'VisualAid', function (api) {\n        api.setActive(editor.hasVisual);\n      });\n    };\n    var registerMenuItems = function (editor) {\n      editor.ui.registry.addToggleMenuItem('visualaid', {\n        text: 'Visual aids',\n        onSetup: onSetupVisualAidState(editor),\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid')\n      });\n    };\n    var registerToolbarButton = function (editor) {\n      editor.ui.registry.addButton('visualaid', {\n        tooltip: 'Visual aids',\n        text: 'Visual aids',\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid')\n      });\n    };\n    var register = function (editor) {\n      registerToolbarButton(editor);\n      registerMenuItems(editor);\n    };\n\n    var setup$6 = function (editor, backstage) {\n      register$6(editor);\n      register$2(editor);\n      register$4(editor, backstage);\n      register$1(editor);\n      register$a(editor);\n      register(editor);\n      register$3(editor);\n      register$5(editor);\n    };\n\n    var nu = function (x, y) {\n      return {\n        type: 'makeshift',\n        x: x,\n        y: y\n      };\n    };\n    var transpose = function (pos, dx, dy) {\n      return nu(pos.x + dx, pos.y + dy);\n    };\n    var isTouchEvent = function (e) {\n      return e.type === 'longpress' || e.type.indexOf('touch') === 0;\n    };\n    var fromPageXY = function (e) {\n      if (isTouchEvent(e)) {\n        var touch = e.touches[0];\n        return nu(touch.pageX, touch.pageY);\n      } else {\n        return nu(e.pageX, e.pageY);\n      }\n    };\n    var fromClientXY = function (e) {\n      if (isTouchEvent(e)) {\n        var touch = e.touches[0];\n        return nu(touch.clientX, touch.clientY);\n      } else {\n        return nu(e.clientX, e.clientY);\n      }\n    };\n    var transposeContentAreaContainer = function (element, pos) {\n      var containerPos = global$b.DOM.getPos(element);\n      return transpose(pos, containerPos.x, containerPos.y);\n    };\n    var getPointAnchor = function (editor, e) {\n      if (e.type === 'contextmenu' || e.type === 'longpress') {\n        if (editor.inline) {\n          return fromPageXY(e);\n        } else {\n          return transposeContentAreaContainer(editor.getContentAreaContainer(), fromClientXY(e));\n        }\n      } else {\n        return getSelectionAnchor(editor);\n      }\n    };\n    var getSelectionAnchor = function (editor) {\n      return {\n        type: 'selection',\n        root: SugarElement.fromDom(editor.selection.getNode())\n      };\n    };\n    var getNodeAnchor = function (editor) {\n      return {\n        type: 'node',\n        node: Optional.some(SugarElement.fromDom(editor.selection.getNode())),\n        root: SugarElement.fromDom(editor.getBody())\n      };\n    };\n    var getAnchorSpec$1 = function (editor, e, anchorType) {\n      switch (anchorType) {\n      case 'node':\n        return getNodeAnchor(editor);\n      case 'point':\n        return getPointAnchor(editor, e);\n      case 'selection':\n        return getSelectionAnchor(editor);\n      }\n    };\n\n    var initAndShow$1 = function (editor, e, buildMenu, backstage, contextmenu, anchorType) {\n      var items = buildMenu();\n      var anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false).map(function (menuData) {\n        e.preventDefault();\n        InlineView.showMenuAt(contextmenu, { anchor: anchorSpec }, {\n          menu: { markers: markers('normal') },\n          data: menuData\n        });\n      });\n    };\n\n    var layouts = {\n      onLtr: function () {\n        return [\n          south$2,\n          southeast$2,\n          southwest$2,\n          northeast$2,\n          northwest$2,\n          north$2,\n          north,\n          south,\n          northeast,\n          southeast,\n          northwest,\n          southwest\n        ];\n      },\n      onRtl: function () {\n        return [\n          south$2,\n          southwest$2,\n          southeast$2,\n          northwest$2,\n          northeast$2,\n          north$2,\n          north,\n          south,\n          northwest,\n          southwest,\n          northeast,\n          southeast\n        ];\n      }\n    };\n    var bubbleSize = 12;\n    var bubbleAlignments = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top']\n    };\n    var isTouchWithinSelection = function (editor, e) {\n      var selection = editor.selection;\n      if (selection.isCollapsed() || e.touches.length < 1) {\n        return false;\n      } else {\n        var touch_1 = e.touches[0];\n        var rng = selection.getRng();\n        var rngRectOpt = getFirstRect(editor.getWin(), SimSelection.domRange(rng));\n        return rngRectOpt.exists(function (rngRect) {\n          return rngRect.left <= touch_1.clientX && rngRect.right >= touch_1.clientX && rngRect.top <= touch_1.clientY && rngRect.bottom >= touch_1.clientY;\n        });\n      }\n    };\n    var setupiOSOverrides = function (editor) {\n      var originalSelection = editor.selection.getRng();\n      var selectionReset = function () {\n        global$f.setEditorTimeout(editor, function () {\n          editor.selection.setRng(originalSelection);\n        }, 10);\n        unbindEventListeners();\n      };\n      editor.once('touchend', selectionReset);\n      var preventMousedown = function (e) {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n      };\n      editor.on('mousedown', preventMousedown, true);\n      var clearSelectionReset = function () {\n        return unbindEventListeners();\n      };\n      editor.once('longpresscancel', clearSelectionReset);\n      var unbindEventListeners = function () {\n        editor.off('touchend', selectionReset);\n        editor.off('longpresscancel', clearSelectionReset);\n        editor.off('mousedown', preventMousedown);\n      };\n    };\n    var getAnchorSpec = function (editor, e, anchorType) {\n      var anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      var bubbleYOffset = anchorType === 'point' ? bubbleSize : 0;\n      return __assign({\n        bubble: nu$5(0, bubbleYOffset, bubbleAlignments),\n        layouts: layouts,\n        overrides: {\n          maxWidthFunction: expandable(),\n          maxHeightFunction: expandable$1()\n        }\n      }, anchorSpec);\n    };\n    var show = function (editor, e, items, backstage, contextmenu, anchorType, highlightImmediately) {\n      var anchorSpec = getAnchorSpec(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, true).map(function (menuData) {\n        e.preventDefault();\n        InlineView.showMenuWithinBounds(contextmenu, { anchor: anchorSpec }, {\n          menu: {\n            markers: markers('normal'),\n            highlightImmediately: highlightImmediately\n          },\n          data: menuData,\n          type: 'horizontal'\n        }, function () {\n          return Optional.some(getContextToolbarBounds(editor, backstage.shared, anchorType === 'node' ? 'node' : 'selection'));\n        });\n        editor.fire(hideContextToolbarEvent);\n      });\n    };\n    var initAndShow = function (editor, e, buildMenu, backstage, contextmenu, anchorType) {\n      var detection = detect$1();\n      var isiOS = detection.os.isiOS();\n      var isOSX = detection.os.isOSX();\n      var isAndroid = detection.os.isAndroid();\n      var isTouch = detection.deviceType.isTouch();\n      var shouldHighlightImmediately = function () {\n        return !(isAndroid || isiOS || isOSX && isTouch);\n      };\n      var open = function () {\n        var items = buildMenu();\n        show(editor, e, items, backstage, contextmenu, anchorType, shouldHighlightImmediately());\n      };\n      if ((isOSX || isiOS) && anchorType !== 'node') {\n        var openiOS_1 = function () {\n          setupiOSOverrides(editor);\n          open();\n        };\n        if (isTouchWithinSelection(editor, e)) {\n          openiOS_1();\n        } else {\n          editor.once('selectionchange', openiOS_1);\n          editor.once('touchend', function () {\n            return editor.off('selectionchange', openiOS_1);\n          });\n        }\n      } else {\n        open();\n      }\n    };\n\n    var patchPipeConfig = function (config) {\n      return typeof config === 'string' ? config.split(/[ ,]/) : config;\n    };\n    var shouldNeverUseNative = function (editor) {\n      return editor.getParam('contextmenu_never_use_native', false, 'boolean');\n    };\n    var getMenuItems = function (editor, name, defaultItems) {\n      var contextMenus = editor.ui.registry.getAll().contextMenus;\n      return Optional.from(editor.getParam(name)).map(patchPipeConfig).getOrThunk(function () {\n        return filter$2(patchPipeConfig(defaultItems), function (item) {\n          return has$2(contextMenus, item);\n        });\n      });\n    };\n    var isContextMenuDisabled = function (editor) {\n      return editor.getParam('contextmenu') === false;\n    };\n    var getContextMenu = function (editor) {\n      return getMenuItems(editor, 'contextmenu', 'link linkchecker image imagetools table spellchecker configurepermanentpen');\n    };\n    var getAvoidOverlapSelector = function (editor) {\n      return editor.getParam('contextmenu_avoid_overlap', '', 'string');\n    };\n\n    var isSeparator = function (item) {\n      return isString(item) ? item === '|' : item.type === 'separator';\n    };\n    var separator = { type: 'separator' };\n    var makeContextItem = function (item) {\n      var commonMenuItem = function (item) {\n        return {\n          text: item.text,\n          icon: item.icon,\n          disabled: item.disabled,\n          shortcut: item.shortcut\n        };\n      };\n      if (isString(item)) {\n        return item;\n      } else {\n        switch (item.type) {\n        case 'separator':\n          return separator;\n        case 'submenu':\n          return __assign(__assign({ type: 'nestedmenuitem' }, commonMenuItem(item)), {\n            getSubmenuItems: function () {\n              var items = item.getSubmenuItems();\n              if (isString(items)) {\n                return items;\n              } else {\n                return map$2(items, makeContextItem);\n              }\n            }\n          });\n        default:\n          return __assign(__assign({ type: 'menuitem' }, commonMenuItem(item)), { onAction: noarg(item.onAction) });\n        }\n      }\n    };\n    var addContextMenuGroup = function (xs, groupItems) {\n      if (groupItems.length === 0) {\n        return xs;\n      }\n      var lastMenuItem = last$2(xs).filter(function (item) {\n        return !isSeparator(item);\n      });\n      var before = lastMenuItem.fold(function () {\n        return [];\n      }, function (_) {\n        return [separator];\n      });\n      return xs.concat(before).concat(groupItems).concat([separator]);\n    };\n    var generateContextMenu = function (contextMenus, menuConfig, selectedElement) {\n      var sections = foldl(menuConfig, function (acc, name) {\n        return get$e(contextMenus, name.toLowerCase()).map(function (menu) {\n          var items = menu.update(selectedElement);\n          if (isString(items)) {\n            return addContextMenuGroup(acc, items.split(' '));\n          } else if (items.length > 0) {\n            var allItems = map$2(items, makeContextItem);\n            return addContextMenuGroup(acc, allItems);\n          } else {\n            return acc;\n          }\n        }).getOrThunk(function () {\n          return acc.concat([name]);\n        });\n      }, []);\n      if (sections.length > 0 && isSeparator(sections[sections.length - 1])) {\n        sections.pop();\n      }\n      return sections;\n    };\n    var isNativeOverrideKeyEvent = function (editor, e) {\n      return e.ctrlKey && !shouldNeverUseNative(editor);\n    };\n    var isTriggeredByKeyboard = function (editor, e) {\n      return e.type !== 'longpress' && (e.button !== 2 || e.target === editor.getBody() && e.pointerType === '');\n    };\n    var getSelectedElement = function (editor, e) {\n      return isTriggeredByKeyboard(editor, e) ? editor.selection.getStart(true) : e.target;\n    };\n    var getAnchorType = function (editor, e) {\n      var selector = getAvoidOverlapSelector(editor);\n      var anchorType = isTriggeredByKeyboard(editor, e) ? 'selection' : 'point';\n      if (isNotEmpty(selector)) {\n        var target = getSelectedElement(editor, e);\n        var selectorExists = closest(SugarElement.fromDom(target), selector);\n        return selectorExists ? 'node' : anchorType;\n      } else {\n        return anchorType;\n      }\n    };\n    var setup$5 = function (editor, lazySink, backstage) {\n      var detection = detect$1();\n      var isTouch = detection.deviceType.isTouch;\n      var contextmenu = build$1(InlineView.sketch({\n        dom: { tag: 'div' },\n        lazySink: lazySink,\n        onEscape: function () {\n          return editor.focus();\n        },\n        onShow: function () {\n          return backstage.setContextMenuState(true);\n        },\n        onHide: function () {\n          return backstage.setContextMenuState(false);\n        },\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissContextMenu', [run$1(dismissRequested(), function (comp, _se) {\n              Sandboxing.close(comp);\n              editor.focus();\n            })])])\n      }));\n      var hideContextMenu = function (_e) {\n        return InlineView.hide(contextmenu);\n      };\n      var showContextMenu = function (e) {\n        if (shouldNeverUseNative(editor)) {\n          e.preventDefault();\n        }\n        if (isNativeOverrideKeyEvent(editor, e) || isContextMenuDisabled(editor)) {\n          return;\n        }\n        var anchorType = getAnchorType(editor, e);\n        var buildMenu = function () {\n          var selectedElement = getSelectedElement(editor, e);\n          var registry = editor.ui.registry.getAll();\n          var menuConfig = getContextMenu(editor);\n          return generateContextMenu(registry.contextMenus, menuConfig, selectedElement);\n        };\n        var initAndShow$2 = isTouch() ? initAndShow : initAndShow$1;\n        initAndShow$2(editor, e, buildMenu, backstage, contextmenu, anchorType);\n      };\n      editor.on('init', function () {\n        var hideEvents = 'ResizeEditor ScrollContent ScrollWindow longpresscancel' + (isTouch() ? '' : ' ResizeWindow');\n        editor.on(hideEvents, hideContextMenu);\n        editor.on('longpress contextmenu', showContextMenu);\n      });\n    };\n\n    var adt = Adt.generate([\n      {\n        offset: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        absolute: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y'\n        ]\n      }\n    ]);\n    var subtract = function (change) {\n      return function (point) {\n        return point.translate(-change.left, -change.top);\n      };\n    };\n    var add = function (change) {\n      return function (point) {\n        return point.translate(change.left, change.top);\n      };\n    };\n    var transform = function (changes) {\n      return function (x, y) {\n        return foldl(changes, function (rest, f) {\n          return f(rest);\n        }, SugarPosition(x, y));\n      };\n    };\n    var asFixed = function (coord, scroll, origin) {\n      return coord.fold(transform([\n        add(origin),\n        subtract(scroll)\n      ]), transform([subtract(scroll)]), transform([]));\n    };\n    var asAbsolute = function (coord, scroll, origin) {\n      return coord.fold(transform([add(origin)]), transform([]), transform([add(scroll)]));\n    };\n    var asOffset = function (coord, scroll, origin) {\n      return coord.fold(transform([]), transform([subtract(origin)]), transform([\n        add(scroll),\n        subtract(origin)\n      ]));\n    };\n    var withinRange = function (coord1, coord2, xRange, yRange, scroll, origin) {\n      var a1 = asAbsolute(coord1, scroll, origin);\n      var a2 = asAbsolute(coord2, scroll, origin);\n      return Math.abs(a1.left - a2.left) <= xRange && Math.abs(a1.top - a2.top) <= yRange;\n    };\n    var getDeltas = function (coord1, coord2, xRange, yRange, scroll, origin) {\n      var a1 = asAbsolute(coord1, scroll, origin);\n      var a2 = asAbsolute(coord2, scroll, origin);\n      var left = Math.abs(a1.left - a2.left);\n      var top = Math.abs(a1.top - a2.top);\n      return SugarPosition(left, top);\n    };\n    var toStyles = function (coord, scroll, origin) {\n      var stylesOpt = coord.fold(function (x, y) {\n        return {\n          position: Optional.some('absolute'),\n          left: Optional.some(x + 'px'),\n          top: Optional.some(y + 'px')\n        };\n      }, function (x, y) {\n        return {\n          position: Optional.some('absolute'),\n          left: Optional.some(x - origin.left + 'px'),\n          top: Optional.some(y - origin.top + 'px')\n        };\n      }, function (x, y) {\n        return {\n          position: Optional.some('fixed'),\n          left: Optional.some(x + 'px'),\n          top: Optional.some(y + 'px')\n        };\n      });\n      return __assign({\n        right: Optional.none(),\n        bottom: Optional.none()\n      }, stylesOpt);\n    };\n    var translate = function (coord, deltaX, deltaY) {\n      return coord.fold(function (x, y) {\n        return offset(x + deltaX, y + deltaY);\n      }, function (x, y) {\n        return absolute(x + deltaX, y + deltaY);\n      }, function (x, y) {\n        return fixed(x + deltaX, y + deltaY);\n      });\n    };\n    var absorb = function (partialCoord, originalCoord, scroll, origin) {\n      var absorbOne = function (stencil, nu) {\n        return function (optX, optY) {\n          var original = stencil(originalCoord, scroll, origin);\n          return nu(optX.getOr(original.left), optY.getOr(original.top));\n        };\n      };\n      return partialCoord.fold(absorbOne(asOffset, offset), absorbOne(asAbsolute, absolute), absorbOne(asFixed, fixed));\n    };\n    var offset = adt.offset;\n    var absolute = adt.absolute;\n    var fixed = adt.fixed;\n\n    var parseAttrToInt = function (element, name) {\n      var value = get$d(element, name);\n      return isUndefined(value) ? NaN : parseInt(value, 10);\n    };\n    var get = function (component, snapsInfo) {\n      var element = component.element;\n      var x = parseAttrToInt(element, snapsInfo.leftAttr);\n      var y = parseAttrToInt(element, snapsInfo.topAttr);\n      return isNaN(x) || isNaN(y) ? Optional.none() : Optional.some(SugarPosition(x, y));\n    };\n    var set = function (component, snapsInfo, pt) {\n      var element = component.element;\n      set$8(element, snapsInfo.leftAttr, pt.left + 'px');\n      set$8(element, snapsInfo.topAttr, pt.top + 'px');\n    };\n    var clear = function (component, snapsInfo) {\n      var element = component.element;\n      remove$7(element, snapsInfo.leftAttr);\n      remove$7(element, snapsInfo.topAttr);\n    };\n\n    var getCoords = function (component, snapInfo, coord, delta) {\n      return get(component, snapInfo).fold(function () {\n        return coord;\n      }, function (fixed$1) {\n        return fixed(fixed$1.left + delta.left, fixed$1.top + delta.top);\n      });\n    };\n    var moveOrSnap = function (component, snapInfo, coord, delta, scroll, origin) {\n      var newCoord = getCoords(component, snapInfo, coord, delta);\n      var snap = snapInfo.mustSnap ? findClosestSnap(component, snapInfo, newCoord, scroll, origin) : findSnap(component, snapInfo, newCoord, scroll, origin);\n      var fixedCoord = asFixed(newCoord, scroll, origin);\n      set(component, snapInfo, fixedCoord);\n      return snap.fold(function () {\n        return {\n          coord: fixed(fixedCoord.left, fixedCoord.top),\n          extra: Optional.none()\n        };\n      }, function (spanned) {\n        return {\n          coord: spanned.output,\n          extra: spanned.extra\n        };\n      });\n    };\n    var stopDrag = function (component, snapInfo) {\n      clear(component, snapInfo);\n    };\n    var findMatchingSnap = function (snaps, newCoord, scroll, origin) {\n      return findMap(snaps, function (snap) {\n        var sensor = snap.sensor;\n        var inRange = withinRange(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n        return inRange ? Optional.some({\n          output: absorb(snap.output, newCoord, scroll, origin),\n          extra: snap.extra\n        }) : Optional.none();\n      });\n    };\n    var findClosestSnap = function (component, snapInfo, newCoord, scroll, origin) {\n      var snaps = snapInfo.getSnapPoints(component);\n      var matchSnap = findMatchingSnap(snaps, newCoord, scroll, origin);\n      return matchSnap.orThunk(function () {\n        var bestSnap = foldl(snaps, function (acc, snap) {\n          var sensor = snap.sensor;\n          var deltas = getDeltas(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n          return acc.deltas.fold(function () {\n            return {\n              deltas: Optional.some(deltas),\n              snap: Optional.some(snap)\n            };\n          }, function (bestDeltas) {\n            var currAvg = (deltas.left + deltas.top) / 2;\n            var bestAvg = (bestDeltas.left + bestDeltas.top) / 2;\n            if (currAvg <= bestAvg) {\n              return {\n                deltas: Optional.some(deltas),\n                snap: Optional.some(snap)\n              };\n            } else {\n              return acc;\n            }\n          });\n        }, {\n          deltas: Optional.none(),\n          snap: Optional.none()\n        });\n        return bestSnap.snap.map(function (snap) {\n          return {\n            output: absorb(snap.output, newCoord, scroll, origin),\n            extra: snap.extra\n          };\n        });\n      });\n    };\n    var findSnap = function (component, snapInfo, newCoord, scroll, origin) {\n      var snaps = snapInfo.getSnapPoints(component);\n      return findMatchingSnap(snaps, newCoord, scroll, origin);\n    };\n    var snapTo$1 = function (snap, scroll, origin) {\n      return {\n        coord: absorb(snap.output, snap.output, scroll, origin),\n        extra: snap.extra\n      };\n    };\n\n    var snapTo = function (component, dragConfig, _state, snap) {\n      var target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        var doc = owner$4(component.element);\n        var scroll_1 = get$9(doc);\n        var origin_1 = getOrigin(target);\n        var snapPin = snapTo$1(snap, scroll_1, origin_1);\n        var styles = toStyles(snapPin.coord, scroll_1, origin_1);\n        setOptions(target, styles);\n      }\n    };\n\n    var DraggingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        snapTo: snapTo\n    });\n\n    var initialAttribute = 'data-initial-z-index';\n    var resetZIndex = function (blocker) {\n      parent(blocker.element).filter(isElement$2).each(function (root) {\n        getOpt(root, initialAttribute).fold(function () {\n          return remove$6(root, 'z-index');\n        }, function (zIndex) {\n          return set$7(root, 'z-index', zIndex);\n        });\n        remove$7(root, initialAttribute);\n      });\n    };\n    var changeZIndex = function (blocker) {\n      parent(blocker.element).filter(isElement$2).each(function (root) {\n        getRaw(root, 'z-index').each(function (zindex) {\n          set$8(root, initialAttribute, zindex);\n        });\n        set$7(root, 'z-index', get$c(blocker.element, 'z-index'));\n      });\n    };\n    var instigate = function (anyComponent, blocker) {\n      anyComponent.getSystem().addToGui(blocker);\n      changeZIndex(blocker);\n    };\n    var discard = function (blocker) {\n      resetZIndex(blocker);\n      blocker.getSystem().removeFromGui(blocker);\n    };\n    var createComponent = function (component, blockerClass, blockerEvents) {\n      return component.getSystem().build(Container.sketch({\n        dom: {\n          styles: {\n            'left': '0px',\n            'top': '0px',\n            'width': '100%',\n            'height': '100%',\n            'position': 'fixed',\n            'z-index': '1000000000000000'\n          },\n          classes: [blockerClass]\n        },\n        events: blockerEvents\n      }));\n    };\n\n    var SnapSchema = optionObjOf('snaps', [\n      required$1('getSnapPoints'),\n      onHandler('onSensor'),\n      required$1('leftAttr'),\n      required$1('topAttr'),\n      defaulted('lazyViewport', win),\n      defaulted('mustSnap', false)\n    ]);\n\n    var schema$6 = [\n      defaulted('useFixed', never),\n      required$1('blockerClass'),\n      defaulted('getTarget', identity$1),\n      defaulted('onDrag', noop),\n      defaulted('repositionTarget', true),\n      defaulted('onDrop', noop),\n      defaultedFunction('getBounds', win),\n      SnapSchema\n    ];\n\n    var getCurrentCoord = function (target) {\n      return lift3(getRaw(target, 'left'), getRaw(target, 'top'), getRaw(target, 'position'), function (left, top, position) {\n        var nu = position === 'fixed' ? fixed : offset;\n        return nu(parseInt(left, 10), parseInt(top, 10));\n      }).getOrThunk(function () {\n        var location = absolute$3(target);\n        return absolute(location.left, location.top);\n      });\n    };\n    var clampCoords = function (component, coords, scroll, origin, startData) {\n      var bounds = startData.bounds;\n      var absoluteCoord = asAbsolute(coords, scroll, origin);\n      var newX = clamp$1(absoluteCoord.left, bounds.x, bounds.x + bounds.width - startData.width);\n      var newY = clamp$1(absoluteCoord.top, bounds.y, bounds.y + bounds.height - startData.height);\n      var newCoords = absolute(newX, newY);\n      return coords.fold(function () {\n        var offset$1 = asOffset(newCoords, scroll, origin);\n        return offset(offset$1.left, offset$1.top);\n      }, constant$1(newCoords), function () {\n        var fixed$1 = asFixed(newCoords, scroll, origin);\n        return fixed(fixed$1.left, fixed$1.top);\n      });\n    };\n    var calcNewCoord = function (component, optSnaps, currentCoord, scroll, origin, delta, startData) {\n      var newCoord = optSnaps.fold(function () {\n        var translated = translate(currentCoord, delta.left, delta.top);\n        var fixedCoord = asFixed(translated, scroll, origin);\n        return fixed(fixedCoord.left, fixedCoord.top);\n      }, function (snapInfo) {\n        var snapping = moveOrSnap(component, snapInfo, currentCoord, delta, scroll, origin);\n        snapping.extra.each(function (extra) {\n          snapInfo.onSensor(component, extra);\n        });\n        return snapping.coord;\n      });\n      return clampCoords(component, newCoord, scroll, origin, startData);\n    };\n    var dragBy = function (component, dragConfig, startData, delta) {\n      var target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        var doc = owner$4(component.element);\n        var scroll_1 = get$9(doc);\n        var origin_1 = getOrigin(target);\n        var currentCoord = getCurrentCoord(target);\n        var newCoord = calcNewCoord(component, dragConfig.snaps, currentCoord, scroll_1, origin_1, delta, startData);\n        var styles = toStyles(newCoord, scroll_1, origin_1);\n        setOptions(target, styles);\n      }\n      dragConfig.onDrag(component, target, delta);\n    };\n\n    var calcStartData = function (dragConfig, comp) {\n      return {\n        bounds: dragConfig.getBounds(),\n        height: getOuter$2(comp.element),\n        width: getOuter$1(comp.element)\n      };\n    };\n    var move = function (component, dragConfig, dragState, dragMode, event) {\n      var delta = dragState.update(dragMode, event);\n      var dragStartData = dragState.getStartData().getOrThunk(function () {\n        return calcStartData(dragConfig, component);\n      });\n      delta.each(function (dlt) {\n        dragBy(component, dragConfig, dragStartData, dlt);\n      });\n    };\n    var stop = function (component, blocker, dragConfig, dragState) {\n      blocker.each(discard);\n      dragConfig.snaps.each(function (snapInfo) {\n        stopDrag(component, snapInfo);\n      });\n      var target = dragConfig.getTarget(component.element);\n      dragState.reset();\n      dragConfig.onDrop(component, target);\n    };\n    var handlers = function (events) {\n      return function (dragConfig, dragState) {\n        var updateStartState = function (comp) {\n          dragState.setStartData(calcStartData(dragConfig, comp));\n        };\n        return derive$2(__spreadArray([run$1(windowScroll(), function (comp) {\n            dragState.getStartData().each(function () {\n              return updateStartState(comp);\n            });\n          })], events(dragConfig, dragState, updateStartState), true));\n      };\n    };\n\n    var init$2 = function (dragApi) {\n      return derive$2([\n        run$1(mousedown(), dragApi.forceDrop),\n        run$1(mouseup(), dragApi.drop),\n        run$1(mousemove(), function (comp, simulatedEvent) {\n          dragApi.move(simulatedEvent.event);\n        }),\n        run$1(mouseout(), dragApi.delayDrop)\n      ]);\n    };\n\n    var getData$1 = function (event) {\n      return Optional.from(SugarPosition(event.x, event.y));\n    };\n    var getDelta$1 = function (old, nu) {\n      return SugarPosition(nu.left - old.left, nu.top - old.top);\n    };\n\n    var MouseData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData$1,\n        getDelta: getDelta$1\n    });\n\n    var events$2 = function (dragConfig, dragState, updateStartState) {\n      return [run$1(mousedown(), function (component, simulatedEvent) {\n          var raw = simulatedEvent.event.raw;\n          if (raw.button !== 0) {\n            return;\n          }\n          simulatedEvent.stop();\n          var stop$1 = function () {\n            return stop(component, Optional.some(blocker), dragConfig, dragState);\n          };\n          var delayDrop = DelayedFunction(stop$1, 200);\n          var dragApi = {\n            drop: stop$1,\n            delayDrop: delayDrop.schedule,\n            forceDrop: stop$1,\n            move: function (event) {\n              delayDrop.cancel();\n              move(component, dragConfig, dragState, MouseData, event);\n            }\n          };\n          var blocker = createComponent(component, dragConfig.blockerClass, init$2(dragApi));\n          var start = function () {\n            updateStartState(component);\n            instigate(component, blocker);\n          };\n          start();\n        })];\n    };\n    var schema$5 = __spreadArray(__spreadArray([], schema$6, true), [output$1('dragger', { handlers: handlers(events$2) })], false);\n\n    var init$1 = function (dragApi) {\n      return derive$2([\n        run$1(touchstart(), dragApi.forceDrop),\n        run$1(touchend(), dragApi.drop),\n        run$1(touchcancel(), dragApi.drop),\n        run$1(touchmove(), function (comp, simulatedEvent) {\n          dragApi.move(simulatedEvent.event);\n        })\n      ]);\n    };\n\n    var getDataFrom = function (touches) {\n      var touch = touches[0];\n      return Optional.some(SugarPosition(touch.clientX, touch.clientY));\n    };\n    var getData = function (event) {\n      var raw = event.raw;\n      var touches = raw.touches;\n      return touches.length === 1 ? getDataFrom(touches) : Optional.none();\n    };\n    var getDelta = function (old, nu) {\n      return SugarPosition(nu.left - old.left, nu.top - old.top);\n    };\n\n    var TouchData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData,\n        getDelta: getDelta\n    });\n\n    var events$1 = function (dragConfig, dragState, updateStartState) {\n      var blockerSingleton = value$1();\n      var stopBlocking = function (component) {\n        stop(component, blockerSingleton.get(), dragConfig, dragState);\n        blockerSingleton.clear();\n      };\n      return [\n        run$1(touchstart(), function (component, simulatedEvent) {\n          simulatedEvent.stop();\n          var stop = function () {\n            return stopBlocking(component);\n          };\n          var dragApi = {\n            drop: stop,\n            delayDrop: noop,\n            forceDrop: stop,\n            move: function (event) {\n              move(component, dragConfig, dragState, TouchData, event);\n            }\n          };\n          var blocker = createComponent(component, dragConfig.blockerClass, init$1(dragApi));\n          blockerSingleton.set(blocker);\n          var start = function () {\n            updateStartState(component);\n            instigate(component, blocker);\n          };\n          start();\n        }),\n        run$1(touchmove(), function (component, simulatedEvent) {\n          simulatedEvent.stop();\n          move(component, dragConfig, dragState, TouchData, simulatedEvent.event);\n        }),\n        run$1(touchend(), function (component, simulatedEvent) {\n          simulatedEvent.stop();\n          stopBlocking(component);\n        }),\n        run$1(touchcancel(), stopBlocking)\n      ];\n    };\n    var schema$4 = __spreadArray(__spreadArray([], schema$6, true), [output$1('dragger', { handlers: handlers(events$1) })], false);\n\n    var events = function (dragConfig, dragState, updateStartState) {\n      return __spreadArray(__spreadArray([], events$2(dragConfig, dragState, updateStartState), true), events$1(dragConfig, dragState, updateStartState), true);\n    };\n    var schema$3 = __spreadArray(__spreadArray([], schema$6, true), [output$1('dragger', { handlers: handlers(events) })], false);\n\n    var mouse = schema$5;\n    var touch = schema$4;\n    var mouseOrTouch = schema$3;\n\n    var DraggingBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        mouse: mouse,\n        touch: touch,\n        mouseOrTouch: mouseOrTouch\n    });\n\n    var init = function () {\n      var previous = Optional.none();\n      var startData = Optional.none();\n      var reset = function () {\n        previous = Optional.none();\n        startData = Optional.none();\n      };\n      var calculateDelta = function (mode, nu) {\n        var result = previous.map(function (old) {\n          return mode.getDelta(old, nu);\n        });\n        previous = Optional.some(nu);\n        return result;\n      };\n      var update = function (mode, dragEvent) {\n        return mode.getData(dragEvent).bind(function (nuData) {\n          return calculateDelta(mode, nuData);\n        });\n      };\n      var setStartData = function (data) {\n        startData = Optional.some(data);\n      };\n      var getStartData = function () {\n        return startData;\n      };\n      var readState = constant$1({});\n      return nu$8({\n        readState: readState,\n        reset: reset,\n        update: update,\n        getStartData: getStartData,\n        setStartData: setStartData\n      });\n    };\n\n    var DragState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init\n    });\n\n    var Dragging = createModes({\n      branchKey: 'mode',\n      branches: DraggingBranches,\n      name: 'dragging',\n      active: {\n        events: function (dragConfig, dragState) {\n          var dragger = dragConfig.dragger;\n          return dragger.handlers(dragConfig, dragState);\n        }\n      },\n      extra: {\n        snap: function (sConfig) {\n          return {\n            sensor: sConfig.sensor,\n            range: sConfig.range,\n            output: sConfig.output,\n            extra: Optional.from(sConfig.extra)\n          };\n        }\n      },\n      state: DragState,\n      apis: DraggingApis\n    });\n\n    var snapWidth = 40;\n    var snapOffset = snapWidth / 2;\n    var calcSnap = function (selectorOpt, td, x, y, width, height) {\n      return selectorOpt.fold(function () {\n        return Dragging.snap({\n          sensor: absolute(x - snapOffset, y - snapOffset),\n          range: SugarPosition(width, height),\n          output: absolute(Optional.some(x), Optional.some(y)),\n          extra: { td: td }\n        });\n      }, function (selectorHandle) {\n        var sensorLeft = x - snapOffset;\n        var sensorTop = y - snapOffset;\n        var sensorWidth = snapWidth;\n        var sensorHeight = snapWidth;\n        var rect = selectorHandle.element.dom.getBoundingClientRect();\n        return Dragging.snap({\n          sensor: absolute(sensorLeft, sensorTop),\n          range: SugarPosition(sensorWidth, sensorHeight),\n          output: absolute(Optional.some(x - rect.width / 2), Optional.some(y - rect.height / 2)),\n          extra: { td: td }\n        });\n      });\n    };\n    var getSnapsConfig = function (getSnapPoints, cell, onChange) {\n      var isSameCell = function (cellOpt, td) {\n        return cellOpt.exists(function (currentTd) {\n          return eq(currentTd, td);\n        });\n      };\n      return {\n        getSnapPoints: getSnapPoints,\n        leftAttr: 'data-drag-left',\n        topAttr: 'data-drag-top',\n        onSensor: function (component, extra) {\n          var td = extra.td;\n          if (!isSameCell(cell.get(), td)) {\n            cell.set(td);\n            onChange(td);\n          }\n        },\n        mustSnap: true\n      };\n    };\n    var createSelector = function (snaps) {\n      return record(Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-selector']\n        },\n        buttonBehaviours: derive$1([\n          Dragging.config({\n            mode: 'mouseOrTouch',\n            blockerClass: 'blocker',\n            snaps: snaps\n          }),\n          Unselecting.config({})\n        ]),\n        eventOrder: {\n          mousedown: [\n            'dragging',\n            'alloy.base.behaviour'\n          ],\n          touchstart: [\n            'dragging',\n            'alloy.base.behaviour'\n          ]\n        }\n      }));\n    };\n    var setup$4 = function (editor, sink) {\n      var tlTds = Cell([]);\n      var brTds = Cell([]);\n      var isVisible = Cell(false);\n      var startCell = value$1();\n      var finishCell = value$1();\n      var getTopLeftSnap = function (td) {\n        var box = absolute$2(td);\n        return calcSnap(memTopLeft.getOpt(sink), td, box.x, box.y, box.width, box.height);\n      };\n      var getTopLeftSnaps = function () {\n        return map$2(tlTds.get(), function (td) {\n          return getTopLeftSnap(td);\n        });\n      };\n      var getBottomRightSnap = function (td) {\n        var box = absolute$2(td);\n        return calcSnap(memBottomRight.getOpt(sink), td, box.right, box.bottom, box.width, box.height);\n      };\n      var getBottomRightSnaps = function () {\n        return map$2(brTds.get(), function (td) {\n          return getBottomRightSnap(td);\n        });\n      };\n      var topLeftSnaps = getSnapsConfig(getTopLeftSnaps, startCell, function (start) {\n        finishCell.get().each(function (finish) {\n          editor.fire('TableSelectorChange', {\n            start: start,\n            finish: finish\n          });\n        });\n      });\n      var bottomRightSnaps = getSnapsConfig(getBottomRightSnaps, finishCell, function (finish) {\n        startCell.get().each(function (start) {\n          editor.fire('TableSelectorChange', {\n            start: start,\n            finish: finish\n          });\n        });\n      });\n      var memTopLeft = createSelector(topLeftSnaps);\n      var memBottomRight = createSelector(bottomRightSnaps);\n      var topLeft = build$1(memTopLeft.asSpec());\n      var bottomRight = build$1(memBottomRight.asSpec());\n      var showOrHideHandle = function (selector, cell, isAbove, isBelow) {\n        var cellRect = cell.dom.getBoundingClientRect();\n        remove$6(selector.element, 'display');\n        var viewportHeight = defaultView(SugarElement.fromDom(editor.getBody())).dom.innerHeight;\n        var aboveViewport = isAbove(cellRect);\n        var belowViewport = isBelow(cellRect, viewportHeight);\n        if (aboveViewport || belowViewport) {\n          set$7(selector.element, 'display', 'none');\n        }\n      };\n      var snapTo = function (selector, cell, getSnapConfig, pos) {\n        var snap = getSnapConfig(cell);\n        Dragging.snapTo(selector, snap);\n        var isAbove = function (rect) {\n          return rect[pos] < 0;\n        };\n        var isBelow = function (rect, viewportHeight) {\n          return rect[pos] > viewportHeight;\n        };\n        showOrHideHandle(selector, cell, isAbove, isBelow);\n      };\n      var snapTopLeft = function (cell) {\n        return snapTo(topLeft, cell, getTopLeftSnap, 'top');\n      };\n      var snapLastTopLeft = function () {\n        return startCell.get().each(snapTopLeft);\n      };\n      var snapBottomRight = function (cell) {\n        return snapTo(bottomRight, cell, getBottomRightSnap, 'bottom');\n      };\n      var snapLastBottomRight = function () {\n        return finishCell.get().each(snapBottomRight);\n      };\n      if (detect$1().deviceType.isTouch()) {\n        editor.on('TableSelectionChange', function (e) {\n          if (!isVisible.get()) {\n            attach(sink, topLeft);\n            attach(sink, bottomRight);\n            isVisible.set(true);\n          }\n          startCell.set(e.start);\n          finishCell.set(e.finish);\n          e.otherCells.each(function (otherCells) {\n            tlTds.set(otherCells.upOrLeftCells);\n            brTds.set(otherCells.downOrRightCells);\n            snapTopLeft(e.start);\n            snapBottomRight(e.finish);\n          });\n        });\n        editor.on('ResizeEditor ResizeWindow ScrollContent', function () {\n          snapLastTopLeft();\n          snapLastBottomRight();\n        });\n        editor.on('TableSelectionClear', function () {\n          if (isVisible.get()) {\n            detach(topLeft);\n            detach(bottomRight);\n            isVisible.set(false);\n          }\n          startCell.clear();\n          finishCell.clear();\n        });\n      }\n    };\n\n    var isHidden = function (elm) {\n      if (elm.nodeType === 1) {\n        if (elm.nodeName === 'BR' || !!elm.getAttribute('data-mce-bogus')) {\n          return true;\n        }\n        if (elm.getAttribute('data-mce-type') === 'bookmark') {\n          return true;\n        }\n      }\n      return false;\n    };\n    var renderElementPath = function (editor, settings, providersBackstage) {\n      if (!settings.delimiter) {\n        settings.delimiter = '\\xBB';\n      }\n      var getDataPath = function (data) {\n        var parts = data || [];\n        var newPathElements = map$2(parts, function (part, index) {\n          return Button.sketch({\n            dom: {\n              tag: 'div',\n              classes: ['tox-statusbar__path-item'],\n              attributes: {\n                'role': 'button',\n                'data-index': index,\n                'tab-index': -1,\n                'aria-level': index + 1\n              },\n              innerHtml: part.name\n            },\n            action: function (_btn) {\n              editor.focus();\n              editor.selection.select(part.element);\n              editor.nodeChanged();\n            },\n            buttonBehaviours: derive$1([\n              DisablingConfigs.button(providersBackstage.isDisabled),\n              receivingConfig()\n            ])\n          });\n        });\n        var divider = {\n          dom: {\n            tag: 'div',\n            classes: ['tox-statusbar__path-divider'],\n            attributes: { 'aria-hidden': true },\n            innerHtml: ' ' + settings.delimiter + ' '\n          }\n        };\n        return foldl(newPathElements.slice(1), function (acc, element) {\n          var newAcc = acc;\n          newAcc.push(divider);\n          newAcc.push(element);\n          return newAcc;\n        }, [newPathElements[0]]);\n      };\n      var updatePath = function (parents) {\n        var newPath = [];\n        var i = parents.length;\n        while (i-- > 0) {\n          var parent_1 = parents[i];\n          if (parent_1.nodeType === 1 && !isHidden(parent_1)) {\n            var args = editor.fire('ResolveName', {\n              name: parent_1.nodeName.toLowerCase(),\n              target: parent_1\n            });\n            if (!args.isDefaultPrevented()) {\n              newPath.push({\n                name: args.name,\n                element: parent_1\n              });\n            }\n            if (args.isPropagationStopped()) {\n              break;\n            }\n          }\n        }\n        return newPath;\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path'],\n          attributes: { role: 'navigation' }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'flow',\n            selector: 'div[role=button]'\n          }),\n          Disabling.config({ disabled: providersBackstage.isDisabled }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          config('elementPathEvents', [runOnAttached(function (comp, _e) {\n              editor.shortcuts.add('alt+F11', 'focus statusbar elementpath', function () {\n                return Keying.focusIn(comp);\n              });\n              editor.on('NodeChange', function (e) {\n                var newPath = updatePath(e.parents);\n                if (newPath.length > 0) {\n                  Replacing.set(comp, getDataPath(newPath));\n                } else {\n                  Replacing.set(comp, []);\n                }\n              });\n            })])\n        ]),\n        components: []\n      };\n    };\n\n    var ResizeTypes;\n    (function (ResizeTypes) {\n      ResizeTypes[ResizeTypes['None'] = 0] = 'None';\n      ResizeTypes[ResizeTypes['Both'] = 1] = 'Both';\n      ResizeTypes[ResizeTypes['Vertical'] = 2] = 'Vertical';\n    }(ResizeTypes || (ResizeTypes = {})));\n    var getDimensions = function (editor, deltas, resizeType, originalHeight, originalWidth) {\n      var dimensions = {};\n      dimensions.height = calcCappedSize(originalHeight + deltas.top, getMinHeightSetting(editor), getMaxHeightSetting(editor));\n      if (resizeType === ResizeTypes.Both) {\n        dimensions.width = calcCappedSize(originalWidth + deltas.left, getMinWidthSetting(editor), getMaxWidthSetting(editor));\n      }\n      return dimensions;\n    };\n    var resize = function (editor, deltas, resizeType) {\n      var container = SugarElement.fromDom(editor.getContainer());\n      var dimensions = getDimensions(editor, deltas, resizeType, get$b(container), get$a(container));\n      each(dimensions, function (val, dim) {\n        return set$7(container, dim, numToPx(val));\n      });\n      fireResizeEditor(editor);\n    };\n\n    var getResizeType = function (editor) {\n      var fallback = !editor.hasPlugin('autoresize');\n      var resize = editor.getParam('resize', fallback);\n      if (resize === false) {\n        return ResizeTypes.None;\n      } else if (resize === 'both') {\n        return ResizeTypes.Both;\n      } else {\n        return ResizeTypes.Vertical;\n      }\n    };\n    var keyboardHandler = function (editor, resizeType, x, y) {\n      var scale = 20;\n      var delta = SugarPosition(x * scale, y * scale);\n      resize(editor, delta, resizeType);\n      return Optional.some(true);\n    };\n    var renderResizeHandler = function (editor, providersBackstage) {\n      var resizeType = getResizeType(editor);\n      if (resizeType === ResizeTypes.None) {\n        return Optional.none();\n      }\n      return Optional.some(render$3('resize-handle', {\n        tag: 'div',\n        classes: ['tox-statusbar__resize-handle'],\n        attributes: { title: providersBackstage.translate('Resize') },\n        behaviours: [\n          Dragging.config({\n            mode: 'mouse',\n            repositionTarget: false,\n            onDrag: function (_comp, _target, delta) {\n              return resize(editor, delta, resizeType);\n            },\n            blockerClass: 'tox-blocker'\n          }),\n          Keying.config({\n            mode: 'special',\n            onLeft: function () {\n              return keyboardHandler(editor, resizeType, -1, 0);\n            },\n            onRight: function () {\n              return keyboardHandler(editor, resizeType, 1, 0);\n            },\n            onUp: function () {\n              return keyboardHandler(editor, resizeType, 0, -1);\n            },\n            onDown: function () {\n              return keyboardHandler(editor, resizeType, 0, 1);\n            }\n          }),\n          Tabstopping.config({}),\n          Focusing.config({})\n        ]\n      }, providersBackstage.icons));\n    };\n\n    var renderWordCount = function (editor, providersBackstage) {\n      var _a;\n      var replaceCountText = function (comp, count, mode) {\n        return Replacing.set(comp, [text$1(providersBackstage.translate([\n            '{0} ' + mode,\n            count[mode]\n          ]))]);\n      };\n      return Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: ['tox-statusbar__wordcount']\n        },\n        components: [],\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(providersBackstage.isDisabled),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: {\n                mode: 'words',\n                count: {\n                  words: 0,\n                  characters: 0\n                }\n              }\n            }\n          }),\n          config('wordcount-events', [\n            runOnExecute$1(function (comp) {\n              var currentVal = Representing.getValue(comp);\n              var newMode = currentVal.mode === 'words' ? 'characters' : 'words';\n              Representing.setValue(comp, {\n                mode: newMode,\n                count: currentVal.count\n              });\n              replaceCountText(comp, currentVal.count, newMode);\n            }),\n            runOnAttached(function (comp) {\n              editor.on('wordCountUpdate', function (e) {\n                var mode = Representing.getValue(comp).mode;\n                Representing.setValue(comp, {\n                  mode: mode,\n                  count: e.wordCount\n                });\n                replaceCountText(comp, e.wordCount, mode);\n              });\n            })\n          ])\n        ]),\n        eventOrder: (_a = {}, _a[execute$5()] = [\n          'disabling',\n          'alloy.base.behaviour',\n          'wordcount-events'\n        ], _a)\n      });\n    };\n\n    var renderStatusbar = function (editor, providersBackstage) {\n      var renderBranding = function () {\n        var label = global$e.translate([\n          'Powered by {0}',\n          'Tiny'\n        ]);\n        var linkHtml = '<a href=\"https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5\" rel=\"noopener\" target=\"_blank\" tabindex=\"-1\" aria-label=\"' + label + '\">' + label + '</a>';\n        return {\n          dom: {\n            tag: 'span',\n            classes: ['tox-statusbar__branding'],\n            innerHtml: linkHtml\n          }\n        };\n      };\n      var getTextComponents = function () {\n        var components = [];\n        if (editor.getParam('elementpath', true, 'boolean')) {\n          components.push(renderElementPath(editor, {}, providersBackstage));\n        }\n        if (editor.hasPlugin('wordcount')) {\n          components.push(renderWordCount(editor, providersBackstage));\n        }\n        if (editor.getParam('branding', true, 'boolean')) {\n          components.push(renderBranding());\n        }\n        if (components.length > 0) {\n          return [{\n              dom: {\n                tag: 'div',\n                classes: ['tox-statusbar__text-container']\n              },\n              components: components\n            }];\n        }\n        return [];\n      };\n      var getComponents = function () {\n        var components = getTextComponents();\n        var resizeHandler = renderResizeHandler(editor, providersBackstage);\n        return components.concat(resizeHandler.toArray());\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar']\n        },\n        components: getComponents()\n      };\n    };\n\n    var setup$3 = function (editor) {\n      var _a;\n      var isInline = editor.inline;\n      var mode = isInline ? Inline : Iframe;\n      var header = isStickyToolbar(editor) ? StickyHeader : StaticHeader;\n      var lazyOuterContainer = Optional.none();\n      var platform = detect$1();\n      var isIE = platform.browser.isIE();\n      var platformClasses = isIE ? ['tox-platform-ie'] : [];\n      var isTouch = platform.deviceType.isTouch();\n      var touchPlatformClass = 'tox-platform-touch';\n      var deviceClasses = isTouch ? [touchPlatformClass] : [];\n      var isToolbarBottom = isToolbarLocationBottom(editor);\n      var uiContainer = getUiContainer(editor);\n      var dirAttributes = global$e.isRtl() ? { attributes: { dir: 'rtl' } } : {};\n      var verticalDirAttributes = { attributes: (_a = {}, _a[Attribute] = isToolbarBottom ? AttributeValue.BottomToTop : AttributeValue.TopToBottom, _a) };\n      var lazyHeader = function () {\n        return lazyOuterContainer.bind(OuterContainer.getHeader);\n      };\n      var isHeaderDocked = function () {\n        return header.isDocked(lazyHeader);\n      };\n      var resizeUiMothership = function () {\n        set$7(uiMothership.element, 'width', document.body.clientWidth + 'px');\n      };\n      var makeSinkDefinition = function () {\n        var isGridUiContainer = eq(body(), uiContainer) && get$c(uiContainer, 'display') === 'grid';\n        var sinkSpec = {\n          dom: __assign({\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-silver-sink',\n              'tox-tinymce-aux'\n            ].concat(platformClasses).concat(deviceClasses)\n          }, dirAttributes),\n          behaviours: derive$1([Positioning.config({\n              useFixed: function () {\n                return isHeaderDocked();\n              }\n            })])\n        };\n        var reactiveWidthSpec = {\n          dom: { styles: { width: document.body.clientWidth + 'px' } },\n          events: derive$2([run$1(windowResize(), resizeUiMothership)])\n        };\n        return deepMerge(sinkSpec, isGridUiContainer ? reactiveWidthSpec : {});\n      };\n      var sink = build$1(makeSinkDefinition());\n      var lazySink = function () {\n        return Result.value(sink);\n      };\n      var memAnchorBar = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-anchorbar']\n        }\n      });\n      var lazyAnchorBar = function () {\n        return lazyOuterContainer.bind(function (container) {\n          return memAnchorBar.getOpt(container);\n        }).getOrDie('Could not find a anchor bar element');\n      };\n      var lazyToolbar = function () {\n        return lazyOuterContainer.bind(function (container) {\n          return OuterContainer.getToolbar(container);\n        }).getOrDie('Could not find more toolbar element');\n      };\n      var lazyThrobber = function () {\n        return lazyOuterContainer.bind(function (container) {\n          return OuterContainer.getThrobber(container);\n        }).getOrDie('Could not find throbber element');\n      };\n      var backstage = init$7(sink, editor, lazyAnchorBar);\n      var partMenubar = OuterContainer.parts.menubar({\n        dom: {\n          tag: 'div',\n          classes: ['tox-menubar']\n        },\n        backstage: backstage,\n        onEscape: function () {\n          editor.focus();\n        }\n      });\n      var toolbarMode = getToolbarMode(editor);\n      var partToolbar = OuterContainer.parts.toolbar(__assign({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar']\n        },\n        getSink: lazySink,\n        providers: backstage.shared.providers,\n        onEscape: function () {\n          editor.focus();\n        },\n        type: toolbarMode,\n        lazyToolbar: lazyToolbar,\n        lazyHeader: function () {\n          return lazyHeader().getOrDie('Could not find header element');\n        }\n      }, verticalDirAttributes));\n      var partMultipleToolbar = OuterContainer.parts['multiple-toolbar']({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar-overlord']\n        },\n        providers: backstage.shared.providers,\n        onEscape: function () {\n          editor.focus();\n        },\n        type: toolbarMode\n      });\n      var partSocket = OuterContainer.parts.socket({\n        dom: {\n          tag: 'div',\n          classes: ['tox-edit-area']\n        }\n      });\n      var partSidebar = OuterContainer.parts.sidebar({\n        dom: {\n          tag: 'div',\n          classes: ['tox-sidebar']\n        }\n      });\n      var partThrobber = OuterContainer.parts.throbber({\n        dom: {\n          tag: 'div',\n          classes: ['tox-throbber']\n        },\n        backstage: backstage\n      });\n      var sb = editor.getParam('statusbar', true, 'boolean');\n      var statusbar = sb && !isInline ? Optional.some(renderStatusbar(editor, backstage.shared.providers)) : Optional.none();\n      var socketSidebarContainer = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-sidebar-wrap']\n        },\n        components: [\n          partSocket,\n          partSidebar\n        ]\n      };\n      var hasMultipleToolbar = isMultipleToolbars(editor);\n      var hasToolbar = isToolbarEnabled(editor);\n      var hasMenubar = isMenubarEnabled(editor);\n      var getPartToolbar = function () {\n        if (hasMultipleToolbar) {\n          return [partMultipleToolbar];\n        } else if (hasToolbar) {\n          return [partToolbar];\n        } else {\n          return [];\n        }\n      };\n      var partHeader = OuterContainer.parts.header({\n        dom: __assign({\n          tag: 'div',\n          classes: ['tox-editor-header']\n        }, verticalDirAttributes),\n        components: flatten([\n          hasMenubar ? [partMenubar] : [],\n          getPartToolbar(),\n          useFixedContainer(editor) ? [] : [memAnchorBar.asSpec()]\n        ]),\n        sticky: isStickyToolbar(editor),\n        editor: editor,\n        sharedBackstage: backstage.shared\n      });\n      var editorComponents = flatten([\n        isToolbarBottom ? [] : [partHeader],\n        isInline ? [] : [socketSidebarContainer],\n        isToolbarBottom ? [partHeader] : []\n      ]);\n      var editorContainer = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-editor-container']\n        },\n        components: editorComponents\n      };\n      var containerComponents = flatten([\n        [editorContainer],\n        isInline ? [] : statusbar.toArray(),\n        [partThrobber]\n      ]);\n      var isHidden = isDistractionFree(editor);\n      var attributes = __assign(__assign({ role: 'application' }, global$e.isRtl() ? { dir: 'rtl' } : {}), isHidden ? { 'aria-hidden': 'true' } : {});\n      var outerContainer = build$1(OuterContainer.sketch({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox',\n            'tox-tinymce'\n          ].concat(isInline ? ['tox-tinymce-inline'] : []).concat(isToolbarBottom ? ['tox-tinymce--toolbar-bottom'] : []).concat(deviceClasses).concat(platformClasses),\n          styles: __assign({ visibility: 'hidden' }, isHidden ? {\n            opacity: '0',\n            border: '0'\n          } : {}),\n          attributes: attributes\n        },\n        components: containerComponents,\n        behaviours: derive$1([\n          receivingConfig(),\n          Disabling.config({ disableClass: 'tox-tinymce--disabled' }),\n          Keying.config({\n            mode: 'cyclic',\n            selector: '.tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle'\n          })\n        ])\n      }));\n      lazyOuterContainer = Optional.some(outerContainer);\n      editor.shortcuts.add('alt+F9', 'focus menubar', function () {\n        OuterContainer.focusMenubar(outerContainer);\n      });\n      editor.shortcuts.add('alt+F10', 'focus toolbar', function () {\n        OuterContainer.focusToolbar(outerContainer);\n      });\n      editor.addCommand('ToggleToolbarDrawer', function () {\n        OuterContainer.toggleToolbarDrawer(outerContainer);\n      });\n      editor.addQueryStateHandler('ToggleToolbarDrawer', function () {\n        return OuterContainer.isToolbarDrawerToggled(outerContainer);\n      });\n      var mothership = takeover(outerContainer);\n      var uiMothership = takeover(sink);\n      setup$b(editor, mothership, uiMothership);\n      var getUi = function () {\n        var channels = {\n          broadcastAll: uiMothership.broadcast,\n          broadcastOn: uiMothership.broadcastOn,\n          register: noop\n        };\n        return { channels: channels };\n      };\n      var setEditorSize = function () {\n        var parsedHeight = numToPx(getHeightWithFallback(editor));\n        var parsedWidth = numToPx(getWidthWithFallback(editor));\n        if (!editor.inline) {\n          if (isValidValue('div', 'width', parsedWidth)) {\n            set$7(outerContainer.element, 'width', parsedWidth);\n          }\n          if (isValidValue('div', 'height', parsedHeight)) {\n            set$7(outerContainer.element, 'height', parsedHeight);\n          } else {\n            set$7(outerContainer.element, 'height', '200px');\n          }\n        }\n        return parsedHeight;\n      };\n      var renderUI = function () {\n        header.setup(editor, backstage.shared, lazyHeader);\n        setup$6(editor, backstage);\n        setup$5(editor, lazySink, backstage);\n        setup$8(editor);\n        setup$7(editor, lazyThrobber, backstage.shared);\n        map$1(getToolbarGroups(editor), function (toolbarGroupButtonConfig, name) {\n          editor.ui.registry.addGroupToolbarButton(name, toolbarGroupButtonConfig);\n        });\n        var _a = editor.ui.registry.getAll(), buttons = _a.buttons, menuItems = _a.menuItems, contextToolbars = _a.contextToolbars, sidebars = _a.sidebars;\n        var toolbarOpt = getMultipleToolbarsSetting(editor);\n        var rawUiConfig = {\n          menuItems: menuItems,\n          menus: getMenus(editor),\n          menubar: getMenubar(editor),\n          toolbar: toolbarOpt.getOrThunk(function () {\n            return getToolbar(editor);\n          }),\n          allowToolbarGroups: toolbarMode === ToolbarMode.floating,\n          buttons: buttons,\n          sidebar: sidebars\n        };\n        register$7(editor, contextToolbars, sink, { backstage: backstage });\n        setup$4(editor, sink);\n        var elm = editor.getElement();\n        var height = setEditorSize();\n        var uiComponents = {\n          mothership: mothership,\n          uiMothership: uiMothership,\n          outerContainer: outerContainer\n        };\n        var args = {\n          targetNode: elm,\n          height: height\n        };\n        return mode.render(editor, uiComponents, rawUiConfig, backstage, args);\n      };\n      return {\n        mothership: mothership,\n        uiMothership: uiMothership,\n        backstage: backstage,\n        renderUI: renderUI,\n        getUi: getUi\n      };\n    };\n\n    var describedBy = function (describedElement, describeElement) {\n      var describeId = Optional.from(get$d(describedElement, 'id')).fold(function () {\n        var id = generate$6('dialog-describe');\n        set$8(describeElement, 'id', id);\n        return id;\n      }, identity$1);\n      set$8(describedElement, 'aria-describedby', describeId);\n    };\n\n    var labelledBy = function (labelledElement, labelElement) {\n      var labelId = getOpt(labelledElement, 'id').fold(function () {\n        var id = generate$6('dialog-label');\n        set$8(labelElement, 'id', id);\n        return id;\n      }, identity$1);\n      set$8(labelledElement, 'aria-labelledby', labelId);\n    };\n\n    var schema$2 = constant$1([\n      required$1('lazySink'),\n      option('dragBlockClass'),\n      defaultedFunction('getBounds', win),\n      defaulted('useTabstopAt', always),\n      defaulted('eventOrder', {}),\n      field('modalBehaviours', [Keying]),\n      onKeyboardHandler('onExecute'),\n      onStrictKeyboardHandler('onEscape')\n    ]);\n    var basic = { sketch: identity$1 };\n    var parts$2 = constant$1([\n      optional({\n        name: 'draghandle',\n        overrides: function (detail, spec) {\n          return {\n            behaviours: derive$1([Dragging.config({\n                mode: 'mouse',\n                getTarget: function (handle) {\n                  return ancestor(handle, '[role=\"dialog\"]').getOr(handle);\n                },\n                blockerClass: detail.dragBlockClass.getOrDie(new Error('The drag blocker class was not specified for a dialog with a drag handle: \\n' + JSON.stringify(spec, null, 2)).message),\n                getBounds: detail.getDragBounds\n              })])\n          };\n        }\n      }),\n      required({\n        schema: [required$1('dom')],\n        name: 'title'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'close'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'body'\n      }),\n      optional({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'footer'\n      }),\n      external$1({\n        factory: {\n          sketch: function (spec, detail) {\n            return __assign(__assign({}, spec), {\n              dom: detail.dom,\n              components: detail.components\n            });\n          }\n        },\n        schema: [\n          defaulted('dom', {\n            tag: 'div',\n            styles: {\n              position: 'fixed',\n              left: '0px',\n              top: '0px',\n              right: '0px',\n              bottom: '0px'\n            }\n          }),\n          defaulted('components', [])\n        ],\n        name: 'blocker'\n      })\n    ]);\n\n    var factory$4 = function (detail, components, spec, externals) {\n      var _a;\n      var dialogComp = value$1();\n      var showDialog = function (dialog) {\n        dialogComp.set(dialog);\n        var sink = detail.lazySink(dialog).getOrDie();\n        var externalBlocker = externals.blocker();\n        var blocker = sink.getSystem().build(__assign(__assign({}, externalBlocker), {\n          components: externalBlocker.components.concat([premade(dialog)]),\n          behaviours: derive$1([\n            Focusing.config({}),\n            config('dialog-blocker-events', [runOnSource(focusin(), function () {\n                Keying.focusIn(dialog);\n              })])\n          ])\n        }));\n        attach(sink, blocker);\n        Keying.focusIn(dialog);\n      };\n      var hideDialog = function (dialog) {\n        dialogComp.clear();\n        parent(dialog.element).each(function (blockerDom) {\n          dialog.getSystem().getByDom(blockerDom).each(function (blocker) {\n            detach(blocker);\n          });\n        });\n      };\n      var getDialogBody = function (dialog) {\n        return getPartOrDie(dialog, detail, 'body');\n      };\n      var getDialogFooter = function (dialog) {\n        return getPartOrDie(dialog, detail, 'footer');\n      };\n      var setBusy = function (dialog, getBusySpec) {\n        Blocking.block(dialog, getBusySpec);\n      };\n      var setIdle = function (dialog) {\n        Blocking.unblock(dialog);\n      };\n      var modalEventsId = generate$6('modal-events');\n      var eventOrder = __assign(__assign({}, detail.eventOrder), (_a = {}, _a[attachedToDom()] = [modalEventsId].concat(detail.eventOrder['alloy.system.attached'] || []), _a));\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        apis: {\n          show: showDialog,\n          hide: hideDialog,\n          getBody: getDialogBody,\n          getFooter: getDialogFooter,\n          setIdle: setIdle,\n          setBusy: setBusy\n        },\n        eventOrder: eventOrder,\n        domModification: {\n          attributes: {\n            'role': 'dialog',\n            'aria-modal': 'true'\n          }\n        },\n        behaviours: augment(detail.modalBehaviours, [\n          Replacing.config({}),\n          Keying.config({\n            mode: 'cyclic',\n            onEnter: detail.onExecute,\n            onEscape: detail.onEscape,\n            useTabstopAt: detail.useTabstopAt\n          }),\n          Blocking.config({ getRoot: dialogComp.get }),\n          config(modalEventsId, [runOnAttached(function (c) {\n              labelledBy(c.element, getPartOrDie(c, detail, 'title').element);\n              describedBy(c.element, getPartOrDie(c, detail, 'body').element);\n            })])\n        ])\n      };\n    };\n    var ModalDialog = composite({\n      name: 'ModalDialog',\n      configFields: schema$2(),\n      partFields: parts$2(),\n      factory: factory$4,\n      apis: {\n        show: function (apis, dialog) {\n          apis.show(dialog);\n        },\n        hide: function (apis, dialog) {\n          apis.hide(dialog);\n        },\n        getBody: function (apis, dialog) {\n          return apis.getBody(dialog);\n        },\n        getFooter: function (apis, dialog) {\n          return apis.getFooter(dialog);\n        },\n        setBusy: function (apis, dialog, getBusySpec) {\n          apis.setBusy(dialog, getBusySpec);\n        },\n        setIdle: function (apis, dialog) {\n          apis.setIdle(dialog);\n        }\n      }\n    });\n\n    var dialogToggleMenuItemSchema = objOf([\n      requiredString('type'),\n      requiredString('name')\n    ].concat(commonMenuItemFields));\n    var dialogToggleMenuItemDataProcessor = boolean;\n\n    var baseFooterButtonFields = [\n      field$1('name', 'name', defaultedThunk(function () {\n        return generate$6('button-name');\n      }), string),\n      optionString('icon'),\n      defaultedStringEnum('align', 'end', [\n        'start',\n        'end'\n      ]),\n      defaultedBoolean('primary', false),\n      defaultedBoolean('disabled', false)\n    ];\n    var dialogFooterButtonFields = __spreadArray(__spreadArray([], baseFooterButtonFields, true), [requiredString('text')], false);\n    var normalFooterButtonFields = __spreadArray([requiredStringEnum('type', [\n        'submit',\n        'cancel',\n        'custom'\n      ])], dialogFooterButtonFields, true);\n    var menuFooterButtonFields = __spreadArray([\n      requiredStringEnum('type', ['menu']),\n      optionString('text'),\n      optionString('tooltip'),\n      optionString('icon'),\n      requiredArrayOf('items', dialogToggleMenuItemSchema)\n    ], baseFooterButtonFields, true);\n    var dialogFooterButtonSchema = choose$1('type', {\n      submit: normalFooterButtonFields,\n      cancel: normalFooterButtonFields,\n      custom: normalFooterButtonFields,\n      menu: menuFooterButtonFields\n    });\n\n    var alertBannerFields = [\n      requiredString('type'),\n      requiredString('text'),\n      requiredStringEnum('level', [\n        'info',\n        'warn',\n        'error',\n        'success'\n      ]),\n      requiredString('icon'),\n      defaulted('url', '')\n    ];\n    var alertBannerSchema = objOf(alertBannerFields);\n\n    var createBarFields = function (itemsField) {\n      return [\n        requiredString('type'),\n        itemsField\n      ];\n    };\n\n    var buttonFields = [\n      requiredString('type'),\n      requiredString('text'),\n      defaultedBoolean('disabled', false),\n      defaultedBoolean('primary', false),\n      field$1('name', 'name', defaultedThunk(function () {\n        return generate$6('button-name');\n      }), string),\n      optionString('icon'),\n      defaultedBoolean('borderless', false)\n    ];\n    var buttonSchema = objOf(buttonFields);\n\n    var checkboxFields = [\n      requiredString('type'),\n      requiredString('name'),\n      requiredString('label'),\n      defaultedBoolean('disabled', false)\n    ];\n    var checkboxSchema = objOf(checkboxFields);\n    var checkboxDataProcessor = boolean;\n\n    var formComponentFields = [\n      requiredString('type'),\n      requiredString('name')\n    ];\n    var formComponentWithLabelFields = formComponentFields.concat([optionString('label')]);\n\n    var collectionFields = formComponentWithLabelFields.concat([defaulted('columns', 'auto')]);\n    var collectionSchema = objOf(collectionFields);\n    var collectionDataProcessor = arrOfObj([\n      requiredString('value'),\n      requiredString('text'),\n      requiredString('icon')\n    ]);\n\n    var colorInputFields = formComponentWithLabelFields;\n    var colorInputSchema = objOf(colorInputFields);\n    var colorInputDataProcessor = string;\n\n    var colorPickerFields = formComponentWithLabelFields;\n    var colorPickerSchema = objOf(colorPickerFields);\n    var colorPickerDataProcessor = string;\n\n    var customEditorFields = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredString('scriptId'),\n      requiredString('scriptUrl'),\n      defaultedPostMsg('settings', undefined)\n    ]);\n    var customEditorFieldsOld = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredFunction('init')\n    ]);\n    var customEditorSchema = valueOf(function (v) {\n      return asRaw('customeditor.old', objOfOnly(customEditorFieldsOld), v).orThunk(function () {\n        return asRaw('customeditor.new', objOfOnly(customEditorFields), v);\n      });\n    });\n    var customEditorDataProcessor = string;\n\n    var dropZoneFields = formComponentWithLabelFields;\n    var dropZoneSchema = objOf(dropZoneFields);\n    var dropZoneDataProcessor = arrOfVal();\n\n    var createGridFields = function (itemsField) {\n      return [\n        requiredString('type'),\n        requiredNumber('columns'),\n        itemsField\n      ];\n    };\n\n    var htmlPanelFields = [\n      requiredString('type'),\n      requiredString('html'),\n      defaultedStringEnum('presets', 'presentation', [\n        'presentation',\n        'document'\n      ])\n    ];\n    var htmlPanelSchema = objOf(htmlPanelFields);\n\n    var iframeFields = formComponentWithLabelFields.concat([defaultedBoolean('sandboxed', true)]);\n    var iframeSchema = objOf(iframeFields);\n    var iframeDataProcessor = string;\n\n    var imageToolsFields = formComponentWithLabelFields.concat([requiredOf('currentState', objOf([\n        required$1('blob'),\n        requiredString('url')\n      ]))]);\n    var imageToolsSchema = objOf(imageToolsFields);\n\n    var inputFields = formComponentWithLabelFields.concat([\n      optionString('inputMode'),\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      defaultedBoolean('disabled', false)\n    ]);\n    var inputSchema = objOf(inputFields);\n    var inputDataProcessor = string;\n\n    var createLabelFields = function (itemsField) {\n      return [\n        requiredString('type'),\n        requiredString('label'),\n        itemsField\n      ];\n    };\n\n    var listBoxSingleItemFields = [\n      requiredString('text'),\n      requiredString('value')\n    ];\n    var listBoxNestedItemFields = [\n      requiredString('text'),\n      requiredArrayOf('items', thunkOf('items', function () {\n        return listBoxItemSchema;\n      }))\n    ];\n    var listBoxItemSchema = oneOf([\n      objOf(listBoxSingleItemFields),\n      objOf(listBoxNestedItemFields)\n    ]);\n    var listBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOf('items', listBoxItemSchema),\n      defaultedBoolean('disabled', false)\n    ]);\n    var listBoxSchema = objOf(listBoxFields);\n    var listBoxDataProcessor = string;\n\n    var selectBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOfObj('items', [\n        requiredString('text'),\n        requiredString('value')\n      ]),\n      defaultedNumber('size', 1),\n      defaultedBoolean('disabled', false)\n    ]);\n    var selectBoxSchema = objOf(selectBoxFields);\n    var selectBoxDataProcessor = string;\n\n    var sizeInputFields = formComponentWithLabelFields.concat([\n      defaultedBoolean('constrain', true),\n      defaultedBoolean('disabled', false)\n    ]);\n    var sizeInputSchema = objOf(sizeInputFields);\n    var sizeInputDataProcessor = objOf([\n      requiredString('width'),\n      requiredString('height')\n    ]);\n\n    var tableFields = [\n      requiredString('type'),\n      requiredArrayOf('header', string),\n      requiredArrayOf('cells', arrOf(string))\n    ];\n    var tableSchema = objOf(tableFields);\n\n    var textAreaFields = formComponentWithLabelFields.concat([\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      defaultedBoolean('disabled', false)\n    ]);\n    var textAreaSchema = objOf(textAreaFields);\n    var textAreaDataProcessor = string;\n\n    var urlInputFields = formComponentWithLabelFields.concat([\n      defaultedStringEnum('filetype', 'file', [\n        'image',\n        'media',\n        'file'\n      ]),\n      defaulted('disabled', false)\n    ]);\n    var urlInputSchema = objOf(urlInputFields);\n    var urlInputDataProcessor = objOf([\n      requiredString('value'),\n      defaulted('meta', {})\n    ]);\n\n    var createItemsField = function (name) {\n      return field$1('items', 'items', required$2(), arrOf(valueOf(function (v) {\n        return asRaw('Checking item of ' + name, itemSchema, v).fold(function (sErr) {\n          return Result.error(formatError(sErr));\n        }, function (passValue) {\n          return Result.value(passValue);\n        });\n      })));\n    };\n    var itemSchema = valueThunk(function () {\n      return choose$2('type', {\n        alertbanner: alertBannerSchema,\n        bar: objOf(createBarFields(createItemsField('bar'))),\n        button: buttonSchema,\n        checkbox: checkboxSchema,\n        colorinput: colorInputSchema,\n        colorpicker: colorPickerSchema,\n        dropzone: dropZoneSchema,\n        grid: objOf(createGridFields(createItemsField('grid'))),\n        iframe: iframeSchema,\n        input: inputSchema,\n        listbox: listBoxSchema,\n        selectbox: selectBoxSchema,\n        sizeinput: sizeInputSchema,\n        textarea: textAreaSchema,\n        urlinput: urlInputSchema,\n        customeditor: customEditorSchema,\n        htmlpanel: htmlPanelSchema,\n        imagetools: imageToolsSchema,\n        collection: collectionSchema,\n        label: objOf(createLabelFields(createItemsField('label'))),\n        table: tableSchema,\n        panel: panelSchema\n      });\n    });\n    var panelFields = [\n      requiredString('type'),\n      defaulted('classes', []),\n      requiredArrayOf('items', itemSchema)\n    ];\n    var panelSchema = objOf(panelFields);\n\n    var tabFields = [\n      field$1('name', 'name', defaultedThunk(function () {\n        return generate$6('tab-name');\n      }), string),\n      requiredString('title'),\n      requiredArrayOf('items', itemSchema)\n    ];\n    var tabPanelFields = [\n      requiredString('type'),\n      requiredArrayOfObj('tabs', tabFields)\n    ];\n    var tabPanelSchema = objOf(tabPanelFields);\n\n    var dialogButtonFields = dialogFooterButtonFields;\n    var dialogButtonSchema = dialogFooterButtonSchema;\n    var dialogSchema = objOf([\n      requiredString('title'),\n      requiredOf('body', choose$2('type', {\n        panel: panelSchema,\n        tabpanel: tabPanelSchema\n      })),\n      defaultedString('size', 'normal'),\n      requiredArrayOf('buttons', dialogButtonSchema),\n      defaulted('initialData', {}),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onChange', noop),\n      defaultedFunction('onSubmit', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onCancel', noop),\n      defaulted('onTabChange', noop)\n    ]);\n    var createDialog = function (spec) {\n      return asRaw('dialog', dialogSchema, spec);\n    };\n\n    var urlDialogButtonSchema = objOf(__spreadArray([requiredStringEnum('type', [\n        'cancel',\n        'custom'\n      ])], dialogButtonFields, true));\n    var urlDialogSchema = objOf([\n      requiredString('title'),\n      requiredString('url'),\n      optionNumber('height'),\n      optionNumber('width'),\n      optionArrayOf('buttons', urlDialogButtonSchema),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onCancel', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onMessage', noop)\n    ]);\n    var createUrlDialog = function (spec) {\n      return asRaw('dialog', urlDialogSchema, spec);\n    };\n\n    var getAllObjects = function (obj) {\n      if (isObject(obj)) {\n        return [obj].concat(bind$3(values(obj), getAllObjects));\n      } else if (isArray(obj)) {\n        return bind$3(obj, getAllObjects);\n      } else {\n        return [];\n      }\n    };\n\n    var isNamedItem = function (obj) {\n      return isString(obj.type) && isString(obj.name);\n    };\n    var dataProcessors = {\n      checkbox: checkboxDataProcessor,\n      colorinput: colorInputDataProcessor,\n      colorpicker: colorPickerDataProcessor,\n      dropzone: dropZoneDataProcessor,\n      input: inputDataProcessor,\n      iframe: iframeDataProcessor,\n      sizeinput: sizeInputDataProcessor,\n      selectbox: selectBoxDataProcessor,\n      listbox: listBoxDataProcessor,\n      size: sizeInputDataProcessor,\n      textarea: textAreaDataProcessor,\n      urlinput: urlInputDataProcessor,\n      customeditor: customEditorDataProcessor,\n      collection: collectionDataProcessor,\n      togglemenuitem: dialogToggleMenuItemDataProcessor\n    };\n    var getDataProcessor = function (item) {\n      return Optional.from(dataProcessors[item.type]);\n    };\n    var getNamedItems = function (structure) {\n      return filter$2(getAllObjects(structure), isNamedItem);\n    };\n\n    var createDataValidator = function (structure) {\n      var namedItems = getNamedItems(structure);\n      var fields = bind$3(namedItems, function (item) {\n        return getDataProcessor(item).fold(function () {\n          return [];\n        }, function (schema) {\n          return [requiredOf(item.name, schema)];\n        });\n      });\n      return objOf(fields);\n    };\n\n    var extract = function (structure) {\n      var internalDialog = getOrDie(createDialog(structure));\n      var dataValidator = createDataValidator(structure);\n      var initialData = structure.initialData;\n      return {\n        internalDialog: internalDialog,\n        dataValidator: dataValidator,\n        initialData: initialData\n      };\n    };\n    var DialogManager = {\n      open: function (factory, structure) {\n        var extraction = extract(structure);\n        return factory(extraction.internalDialog, extraction.initialData, extraction.dataValidator);\n      },\n      openUrl: function (factory, structure) {\n        var internalDialog = getOrDie(createUrlDialog(structure));\n        return factory(internalDialog);\n      },\n      redial: function (structure) {\n        return extract(structure);\n      }\n    };\n\n    var toValidValues = function (values) {\n      var errors = [];\n      var result = {};\n      each(values, function (value, name) {\n        value.fold(function () {\n          errors.push(name);\n        }, function (v) {\n          result[name] = v;\n        });\n      });\n      return errors.length > 0 ? Result.error(errors) : Result.value(result);\n    };\n\n    var renderBodyPanel = function (spec, backstage) {\n      var memForm = record(Form.sketch(function (parts) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-form'].concat(spec.classes)\n          },\n          components: map$2(spec.items, function (item) {\n            return interpretInForm(parts, item, backstage);\n          })\n        };\n      }));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            },\n            components: [memForm.asSpec()]\n          }],\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          }),\n          ComposingConfigs.memento(memForm),\n          RepresentingConfigs.memento(memForm, {\n            postprocess: function (formValue) {\n              return toValidValues(formValue).fold(function (err) {\n                console.error(err);\n                return {};\n              }, identity$1);\n            }\n          })\n        ])\n      };\n    };\n\n    var factory$3 = function (detail, _spec) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: detail.components,\n        events: events$a(detail.action),\n        behaviours: augment(detail.tabButtonBehaviours, [\n          Focusing.config({}),\n          Keying.config({\n            mode: 'execution',\n            useSpace: true,\n            useEnter: true\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.value\n            }\n          })\n        ]),\n        domModification: detail.domModification\n      };\n    };\n    var TabButton = single({\n      name: 'TabButton',\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('value'),\n        field$1('dom', 'dom', mergeWithThunk(function () {\n          return {\n            attributes: {\n              'role': 'tab',\n              'id': generate$6('aria'),\n              'aria-selected': 'false'\n            }\n          };\n        }), anyValue()),\n        option('action'),\n        defaulted('domModification', {}),\n        field('tabButtonBehaviours', [\n          Focusing,\n          Keying,\n          Representing\n        ]),\n        required$1('view')\n      ],\n      factory: factory$3\n    });\n\n    var schema$1 = constant$1([\n      required$1('tabs'),\n      required$1('dom'),\n      defaulted('clickToDismiss', false),\n      field('tabbarBehaviours', [\n        Highlighting,\n        Keying\n      ]),\n      markers$1([\n        'tabClass',\n        'selectedClass'\n      ])\n    ]);\n    var tabsPart = group({\n      factory: TabButton,\n      name: 'tabs',\n      unit: 'tab',\n      overrides: function (barDetail) {\n        var dismissTab$1 = function (tabbar, button) {\n          Highlighting.dehighlight(tabbar, button);\n          emitWith(tabbar, dismissTab(), {\n            tabbar: tabbar,\n            button: button\n          });\n        };\n        var changeTab$1 = function (tabbar, button) {\n          Highlighting.highlight(tabbar, button);\n          emitWith(tabbar, changeTab(), {\n            tabbar: tabbar,\n            button: button\n          });\n        };\n        return {\n          action: function (button) {\n            var tabbar = button.getSystem().getByUid(barDetail.uid).getOrDie();\n            var activeButton = Highlighting.isHighlighted(tabbar, button);\n            var response = function () {\n              if (activeButton && barDetail.clickToDismiss) {\n                return dismissTab$1;\n              } else if (!activeButton) {\n                return changeTab$1;\n              } else {\n                return noop;\n              }\n            }();\n            response(tabbar, button);\n          },\n          domModification: { classes: [barDetail.markers.tabClass] }\n        };\n      }\n    });\n    var parts$1 = constant$1([tabsPart]);\n\n    var factory$2 = function (detail, components, _spec, _externals) {\n      return {\n        'uid': detail.uid,\n        'dom': detail.dom,\n        components: components,\n        'debug.sketcher': 'Tabbar',\n        'domModification': { attributes: { role: 'tablist' } },\n        'behaviours': augment(detail.tabbarBehaviours, [\n          Highlighting.config({\n            highlightClass: detail.markers.selectedClass,\n            itemClass: detail.markers.tabClass,\n            onHighlight: function (tabbar, tab) {\n              set$8(tab.element, 'aria-selected', 'true');\n            },\n            onDehighlight: function (tabbar, tab) {\n              set$8(tab.element, 'aria-selected', 'false');\n            }\n          }),\n          Keying.config({\n            mode: 'flow',\n            getInitial: function (tabbar) {\n              return Highlighting.getHighlighted(tabbar).map(function (tab) {\n                return tab.element;\n              });\n            },\n            selector: '.' + detail.markers.tabClass,\n            executeOnMove: true\n          })\n        ])\n      };\n    };\n    var Tabbar = composite({\n      name: 'Tabbar',\n      configFields: schema$1(),\n      partFields: parts$1(),\n      factory: factory$2\n    });\n\n    var factory$1 = function (detail, _spec) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        behaviours: augment(detail.tabviewBehaviours, [Replacing.config({})]),\n        domModification: { attributes: { role: 'tabpanel' } }\n      };\n    };\n    var Tabview = single({\n      name: 'Tabview',\n      configFields: [field('tabviewBehaviours', [Replacing])],\n      factory: factory$1\n    });\n\n    var schema = constant$1([\n      defaulted('selectFirst', true),\n      onHandler('onChangeTab'),\n      onHandler('onDismissTab'),\n      defaulted('tabs', []),\n      field('tabSectionBehaviours', [])\n    ]);\n    var barPart = required({\n      factory: Tabbar,\n      schema: [\n        required$1('dom'),\n        requiredObjOf('markers', [\n          required$1('tabClass'),\n          required$1('selectedClass')\n        ])\n      ],\n      name: 'tabbar',\n      defaults: function (detail) {\n        return { tabs: detail.tabs };\n      }\n    });\n    var viewPart = required({\n      factory: Tabview,\n      name: 'tabview'\n    });\n    var parts = constant$1([\n      barPart,\n      viewPart\n    ]);\n\n    var factory = function (detail, components, _spec, _externals) {\n      var changeTab$1 = function (button) {\n        var tabValue = Representing.getValue(button);\n        getPart(button, detail, 'tabview').each(function (tabview) {\n          var tabWithValue = find$5(detail.tabs, function (t) {\n            return t.value === tabValue;\n          });\n          tabWithValue.each(function (tabData) {\n            var panel = tabData.view();\n            getOpt(button.element, 'id').each(function (id) {\n              set$8(tabview.element, 'aria-labelledby', id);\n            });\n            Replacing.set(tabview, panel);\n            detail.onChangeTab(tabview, button, panel);\n          });\n        });\n      };\n      var changeTabBy = function (section, byPred) {\n        getPart(section, detail, 'tabbar').each(function (tabbar) {\n          byPred(tabbar).each(emitExecute);\n        });\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: get$2(detail.tabSectionBehaviours),\n        events: derive$2(flatten([\n          detail.selectFirst ? [runOnAttached(function (section, _simulatedEvent) {\n              changeTabBy(section, Highlighting.getFirst);\n            })] : [],\n          [\n            run$1(changeTab(), function (section, simulatedEvent) {\n              var button = simulatedEvent.event.button;\n              changeTab$1(button);\n            }),\n            run$1(dismissTab(), function (section, simulatedEvent) {\n              var button = simulatedEvent.event.button;\n              detail.onDismissTab(section, button);\n            })\n          ]\n        ])),\n        apis: {\n          getViewItems: function (section) {\n            return getPart(section, detail, 'tabview').map(function (tabview) {\n              return Replacing.contents(tabview);\n            }).getOr([]);\n          },\n          showTab: function (section, tabKey) {\n            var getTabIfNotActive = function (tabbar) {\n              var candidates = Highlighting.getCandidates(tabbar);\n              var optTab = find$5(candidates, function (c) {\n                return Representing.getValue(c) === tabKey;\n              });\n              return optTab.filter(function (tab) {\n                return !Highlighting.isHighlighted(tabbar, tab);\n              });\n            };\n            changeTabBy(section, getTabIfNotActive);\n          }\n        }\n      };\n    };\n    var TabSection = composite({\n      name: 'TabSection',\n      configFields: schema(),\n      partFields: parts(),\n      factory: factory,\n      apis: {\n        getViewItems: function (apis, component) {\n          return apis.getViewItems(component);\n        },\n        showTab: function (apis, component, tabKey) {\n          apis.showTab(component, tabKey);\n        }\n      }\n    });\n\n    var measureHeights = function (allTabs, tabview, tabviewComp) {\n      return map$2(allTabs, function (_tab, i) {\n        Replacing.set(tabviewComp, allTabs[i].view());\n        var rect = tabview.dom.getBoundingClientRect();\n        Replacing.set(tabviewComp, []);\n        return rect.height;\n      });\n    };\n    var getMaxHeight = function (heights) {\n      return head(sort(heights, function (a, b) {\n        if (a > b) {\n          return -1;\n        } else if (a < b) {\n          return +1;\n        } else {\n          return 0;\n        }\n      }));\n    };\n    var getMaxTabviewHeight = function (dialog, tabview, tablist) {\n      var documentElement$1 = documentElement(dialog).dom;\n      var rootElm = ancestor(dialog, '.tox-dialog-wrap').getOr(dialog);\n      var isFixed = get$c(rootElm, 'position') === 'fixed';\n      var maxHeight;\n      if (isFixed) {\n        maxHeight = Math.max(documentElement$1.clientHeight, window.innerHeight);\n      } else {\n        maxHeight = Math.max(documentElement$1.offsetHeight, documentElement$1.scrollHeight);\n      }\n      var tabviewHeight = get$b(tabview);\n      var isTabListBeside = tabview.dom.offsetLeft >= tablist.dom.offsetLeft + get$a(tablist);\n      var currentTabHeight = isTabListBeside ? Math.max(get$b(tablist), tabviewHeight) : tabviewHeight;\n      var dialogTopMargin = parseInt(get$c(dialog, 'margin-top'), 10) || 0;\n      var dialogBottomMargin = parseInt(get$c(dialog, 'margin-bottom'), 10) || 0;\n      var dialogHeight = get$b(dialog) + dialogTopMargin + dialogBottomMargin;\n      var chromeHeight = dialogHeight - currentTabHeight;\n      return maxHeight - chromeHeight;\n    };\n    var showTab = function (allTabs, comp) {\n      head(allTabs).each(function (tab) {\n        return TabSection.showTab(comp, tab.value);\n      });\n    };\n    var setTabviewHeight = function (tabview, height) {\n      set$7(tabview, 'height', height + 'px');\n      if (!detect$1().browser.isIE()) {\n        set$7(tabview, 'flex-basis', height + 'px');\n      } else {\n        remove$6(tabview, 'flex-basis');\n      }\n    };\n    var updateTabviewHeight = function (dialogBody, tabview, maxTabHeight) {\n      ancestor(dialogBody, '[role=\"dialog\"]').each(function (dialog) {\n        descendant(dialog, '[role=\"tablist\"]').each(function (tablist) {\n          maxTabHeight.get().map(function (height) {\n            set$7(tabview, 'height', '0');\n            set$7(tabview, 'flex-basis', '0');\n            return Math.min(height, getMaxTabviewHeight(dialog, tabview, tablist));\n          }).each(function (height) {\n            setTabviewHeight(tabview, height);\n          });\n        });\n      });\n    };\n    var getTabview = function (dialog) {\n      return descendant(dialog, '[role=\"tabpanel\"]');\n    };\n    var setMode = function (allTabs) {\n      var smartTabHeight = function () {\n        var maxTabHeight = value$1();\n        var extraEvents = [\n          runOnAttached(function (comp) {\n            var dialog = comp.element;\n            getTabview(dialog).each(function (tabview) {\n              set$7(tabview, 'visibility', 'hidden');\n              comp.getSystem().getByDom(tabview).toOptional().each(function (tabviewComp) {\n                var heights = measureHeights(allTabs, tabview, tabviewComp);\n                var maxTabHeightOpt = getMaxHeight(heights);\n                maxTabHeightOpt.fold(maxTabHeight.clear, maxTabHeight.set);\n              });\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n              remove$6(tabview, 'visibility');\n              showTab(allTabs, comp);\n              global$f.requestAnimationFrame(function () {\n                updateTabviewHeight(dialog, tabview, maxTabHeight);\n              });\n            });\n          }),\n          run$1(windowResize(), function (comp) {\n            var dialog = comp.element;\n            getTabview(dialog).each(function (tabview) {\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n            });\n          }),\n          run$1(formResizeEvent, function (comp, _se) {\n            var dialog = comp.element;\n            getTabview(dialog).each(function (tabview) {\n              var oldFocus = active(getRootNode(tabview));\n              set$7(tabview, 'visibility', 'hidden');\n              var oldHeight = getRaw(tabview, 'height').map(function (h) {\n                return parseInt(h, 10);\n              });\n              remove$6(tabview, 'height');\n              remove$6(tabview, 'flex-basis');\n              var newHeight = tabview.dom.getBoundingClientRect().height;\n              var hasGrown = oldHeight.forall(function (h) {\n                return newHeight > h;\n              });\n              if (hasGrown) {\n                maxTabHeight.set(newHeight);\n                updateTabviewHeight(dialog, tabview, maxTabHeight);\n              } else {\n                oldHeight.each(function (h) {\n                  setTabviewHeight(tabview, h);\n                });\n              }\n              remove$6(tabview, 'visibility');\n              oldFocus.each(focus$3);\n            });\n          })\n        ];\n        var selectFirst = false;\n        return {\n          extraEvents: extraEvents,\n          selectFirst: selectFirst\n        };\n      }();\n      var naiveTabHeight = function () {\n        var extraEvents = [];\n        var selectFirst = true;\n        return {\n          extraEvents: extraEvents,\n          selectFirst: selectFirst\n        };\n      }();\n      return {\n        smartTabHeight: smartTabHeight,\n        naiveTabHeight: naiveTabHeight\n      };\n    };\n\n    var SendDataToSectionChannel = 'send-data-to-section';\n    var SendDataToViewChannel = 'send-data-to-view';\n    var renderTabPanel = function (spec, backstage) {\n      var storedValue = Cell({});\n      var updateDataWithForm = function (form) {\n        var formData = Representing.getValue(form);\n        var validData = toValidValues(formData).getOr({});\n        var currentData = storedValue.get();\n        var newData = deepMerge(currentData, validData);\n        storedValue.set(newData);\n      };\n      var setDataOnForm = function (form) {\n        var tabData = storedValue.get();\n        Representing.setValue(form, tabData);\n      };\n      var oldTab = Cell(null);\n      var allTabs = map$2(spec.tabs, function (tab) {\n        return {\n          value: tab.name,\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__body-nav-item'],\n            innerHtml: backstage.shared.providers.translate(tab.title)\n          },\n          view: function () {\n            return [Form.sketch(function (parts) {\n                return {\n                  dom: {\n                    tag: 'div',\n                    classes: ['tox-form']\n                  },\n                  components: map$2(tab.items, function (item) {\n                    return interpretInForm(parts, item, backstage);\n                  }),\n                  formBehaviours: derive$1([\n                    Keying.config({\n                      mode: 'acyclic',\n                      useTabstopAt: not(isPseudoStop)\n                    }),\n                    config('TabView.form.events', [\n                      runOnAttached(setDataOnForm),\n                      runOnDetached(updateDataWithForm)\n                    ]),\n                    Receiving.config({\n                      channels: wrapAll([\n                        {\n                          key: SendDataToSectionChannel,\n                          value: { onReceive: updateDataWithForm }\n                        },\n                        {\n                          key: SendDataToViewChannel,\n                          value: { onReceive: setDataOnForm }\n                        }\n                      ])\n                    })\n                  ])\n                };\n              })];\n          }\n        };\n      });\n      var tabMode = setMode(allTabs).smartTabHeight;\n      return TabSection.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        onChangeTab: function (section, button, _viewItems) {\n          var name = Representing.getValue(button);\n          emitWith(section, formTabChangeEvent, {\n            name: name,\n            oldName: oldTab.get()\n          });\n          oldTab.set(name);\n        },\n        tabs: allTabs,\n        components: [\n          TabSection.parts.tabbar({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-nav']\n            },\n            components: [Tabbar.parts.tabs({})],\n            markers: {\n              tabClass: 'tox-tab',\n              selectedClass: 'tox-dialog__body-nav-item--active'\n            },\n            tabbarBehaviours: derive$1([Tabstopping.config({})])\n          }),\n          TabSection.parts.tabview({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            }\n          })\n        ],\n        selectFirst: tabMode.selectFirst,\n        tabSectionBehaviours: derive$1([\n          config('tabpanel', tabMode.extraEvents),\n          Keying.config({ mode: 'acyclic' }),\n          Composing.config({\n            find: function (comp) {\n              return head(TabSection.getViewItems(comp));\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (tsection) {\n                tsection.getSystem().broadcastOn([SendDataToSectionChannel], {});\n                return storedValue.get();\n              },\n              setValue: function (tsection, value) {\n                storedValue.set(value);\n                tsection.getSystem().broadcastOn([SendDataToViewChannel], {});\n              }\n            }\n          })\n        ])\n      });\n    };\n\n    var dialogChannel = generate$6('update-dialog');\n    var titleChannel = generate$6('update-title');\n    var bodyChannel = generate$6('update-body');\n    var footerChannel = generate$6('update-footer');\n    var bodySendMessageChannel = generate$6('body-send-message');\n\n    var renderBody = function (spec, id, backstage, ariaAttrs) {\n      var renderComponents = function (incoming) {\n        switch (incoming.body.type) {\n        case 'tabpanel': {\n            return [renderTabPanel(incoming.body, backstage)];\n          }\n        default: {\n            return [renderBodyPanel(incoming.body, backstage)];\n          }\n        }\n      };\n      var updateState = function (_comp, incoming) {\n        return Optional.some({\n          isTabPanel: function () {\n            return incoming.body.type === 'tabpanel';\n          }\n        });\n      };\n      var ariaAttributes = { 'aria-live': 'polite' };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js'],\n          attributes: __assign(__assign({}, id.map(function (x) {\n            return { id: x };\n          }).getOr({})), ariaAttrs ? ariaAttributes : {})\n        },\n        components: [],\n        behaviours: derive$1([\n          ComposingConfigs.childAt(0),\n          Reflecting.config({\n            channel: bodyChannel,\n            updateState: updateState,\n            renderComponents: renderComponents,\n            initialData: spec\n          })\n        ])\n      };\n    };\n    var renderInlineBody = function (spec, contentId, backstage, ariaAttrs) {\n      return renderBody(spec, Optional.some(contentId), backstage, ariaAttrs);\n    };\n    var renderModalBody = function (spec, backstage) {\n      var bodySpec = renderBody(spec, Optional.none(), backstage, false);\n      return ModalDialog.parts.body(bodySpec);\n    };\n    var renderIframeBody = function (spec) {\n      var bodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-iframe']\n            },\n            components: [craft({\n                dom: {\n                  tag: 'iframe',\n                  attributes: { src: spec.url }\n                },\n                behaviours: derive$1([\n                  Tabstopping.config({}),\n                  Focusing.config({})\n                ])\n              })]\n          }],\n        behaviours: derive$1([Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          })])\n      };\n      return ModalDialog.parts.body(bodySpec);\n    };\n\n    var isTouch = global$9.deviceType.isTouch();\n    var hiddenHeader = function (title, close) {\n      return {\n        dom: {\n          tag: 'div',\n          styles: { display: 'none' },\n          classes: ['tox-dialog__header']\n        },\n        components: [\n          title,\n          close\n        ]\n      };\n    };\n    var pClose = function (onClose, providersBackstage) {\n      return ModalDialog.parts.close(Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-button',\n            'tox-button--icon',\n            'tox-button--naked'\n          ],\n          attributes: {\n            'type': 'button',\n            'aria-label': providersBackstage.translate('Close')\n          }\n        },\n        action: onClose,\n        buttonBehaviours: derive$1([Tabstopping.config({})])\n      }));\n    };\n    var pUntitled = function () {\n      return ModalDialog.parts.title({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__title'],\n          innerHtml: '',\n          styles: { display: 'none' }\n        }\n      });\n    };\n    var pBodyMessage = function (message, providersBackstage) {\n      return ModalDialog.parts.body({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            },\n            components: [{ dom: fromHtml('<p>' + sanitizeHtmlString(providersBackstage.translate(message)) + '</p>') }]\n          }]\n      });\n    };\n    var pFooter = function (buttons) {\n      return ModalDialog.parts.footer({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__footer']\n        },\n        components: buttons\n      });\n    };\n    var pFooterGroup = function (startButtons, endButtons) {\n      return [\n        Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__footer-start']\n          },\n          components: startButtons\n        }),\n        Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__footer-end']\n          },\n          components: endButtons\n        })\n      ];\n    };\n    var renderDialog$1 = function (spec) {\n      var _a;\n      var dialogClass = 'tox-dialog';\n      var blockerClass = dialogClass + '-wrap';\n      var blockerBackdropClass = blockerClass + '__backdrop';\n      var scrollLockClass = dialogClass + '__disable-scroll';\n      return ModalDialog.sketch({\n        lazySink: spec.lazySink,\n        onEscape: function (comp) {\n          spec.onEscape(comp);\n          return Optional.some(true);\n        },\n        useTabstopAt: function (elem) {\n          return !isPseudoStop(elem);\n        },\n        dom: {\n          tag: 'div',\n          classes: [dialogClass].concat(spec.extraClasses),\n          styles: __assign({ position: 'relative' }, spec.extraStyles)\n        },\n        components: __spreadArray([\n          spec.header,\n          spec.body\n        ], spec.footer.toArray(), true),\n        parts: {\n          blocker: {\n            dom: fromHtml('<div class=\"' + blockerClass + '\"></div>'),\n            components: [{\n                dom: {\n                  tag: 'div',\n                  classes: isTouch ? [\n                    blockerBackdropClass,\n                    blockerBackdropClass + '--opaque'\n                  ] : [blockerBackdropClass]\n                }\n              }]\n          }\n        },\n        dragBlockClass: blockerClass,\n        modalBehaviours: derive$1(__spreadArray([\n          Focusing.config({}),\n          config('dialog-events', spec.dialogEvents.concat([runOnSource(focusin(), function (comp, _se) {\n              Keying.focusIn(comp);\n            })])),\n          config('scroll-lock', [\n            runOnAttached(function () {\n              add$2(body(), scrollLockClass);\n            }),\n            runOnDetached(function () {\n              remove$2(body(), scrollLockClass);\n            })\n          ])\n        ], spec.extraBehaviours, true)),\n        eventOrder: __assign((_a = {}, _a[execute$5()] = ['dialog-events'], _a[attachedToDom()] = [\n          'scroll-lock',\n          'dialog-events',\n          'alloy.base.behaviour'\n        ], _a[detachedFromDom()] = [\n          'alloy.base.behaviour',\n          'dialog-events',\n          'scroll-lock'\n        ], _a), spec.eventOrder)\n      });\n    };\n\n    var renderClose = function (providersBackstage) {\n      return Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-button',\n            'tox-button--icon',\n            'tox-button--naked'\n          ],\n          attributes: {\n            'type': 'button',\n            'aria-label': providersBackstage.translate('Close'),\n            'title': providersBackstage.translate('Close')\n          }\n        },\n        components: [render$3('close', {\n            tag: 'div',\n            classes: ['tox-icon']\n          }, providersBackstage.icons)],\n        action: function (comp) {\n          emit(comp, formCancelEvent);\n        }\n      });\n    };\n    var renderTitle = function (spec, id, providersBackstage) {\n      var renderComponents = function (data) {\n        return [text$1(providersBackstage.translate(data.title))];\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__title'],\n          attributes: __assign({}, id.map(function (x) {\n            return { id: x };\n          }).getOr({}))\n        },\n        components: renderComponents(spec),\n        behaviours: derive$1([Reflecting.config({\n            channel: titleChannel,\n            renderComponents: renderComponents\n          })])\n      };\n    };\n    var renderDragHandle = function () {\n      return { dom: fromHtml('<div class=\"tox-dialog__draghandle\"></div>') };\n    };\n    var renderInlineHeader = function (spec, titleId, providersBackstage) {\n      return Container.sketch({\n        dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n        components: [\n          renderTitle(spec, Optional.some(titleId), providersBackstage),\n          renderDragHandle(),\n          renderClose(providersBackstage)\n        ],\n        containerBehaviours: derive$1([Dragging.config({\n            mode: 'mouse',\n            blockerClass: 'blocker',\n            getTarget: function (handle) {\n              return closest$1(handle, '[role=\"dialog\"]').getOrDie();\n            },\n            snaps: {\n              getSnapPoints: function () {\n                return [];\n              },\n              leftAttr: 'data-drag-left',\n              topAttr: 'data-drag-top'\n            }\n          })])\n      });\n    };\n    var renderModalHeader = function (spec, providersBackstage) {\n      var pTitle = ModalDialog.parts.title(renderTitle(spec, Optional.none(), providersBackstage));\n      var pHandle = ModalDialog.parts.draghandle(renderDragHandle());\n      var pClose = ModalDialog.parts.close(renderClose(providersBackstage));\n      var components = [pTitle].concat(spec.draggable ? [pHandle] : []).concat([pClose]);\n      return Container.sketch({\n        dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n        components: components\n      });\n    };\n\n    var getHeader = function (title, backstage) {\n      return renderModalHeader({\n        title: backstage.shared.providers.translate(title),\n        draggable: backstage.dialog.isDraggableModal()\n      }, backstage.shared.providers);\n    };\n    var getBusySpec = function (message, bs, providers) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__busy-spinner'],\n          attributes: { 'aria-label': providers.translate(message) },\n          styles: {\n            left: '0px',\n            right: '0px',\n            bottom: '0px',\n            top: '0px',\n            position: 'absolute'\n          }\n        },\n        behaviours: bs,\n        components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n      };\n    };\n    var getEventExtras = function (lazyDialog, providers, extra) {\n      return {\n        onClose: function () {\n          return extra.closeWindow();\n        },\n        onBlock: function (blockEvent) {\n          ModalDialog.setBusy(lazyDialog(), function (_comp, bs) {\n            return getBusySpec(blockEvent.message, bs, providers);\n          });\n        },\n        onUnblock: function () {\n          ModalDialog.setIdle(lazyDialog());\n        }\n      };\n    };\n    var renderModalDialog = function (spec, initialData, dialogEvents, backstage) {\n      var _a;\n      var updateState = function (_comp, incoming) {\n        return Optional.some(incoming);\n      };\n      return build$1(renderDialog$1(__assign(__assign({}, spec), {\n        lazySink: backstage.shared.getSink,\n        extraBehaviours: __spreadArray([\n          Reflecting.config({\n            channel: dialogChannel,\n            updateState: updateState,\n            initialData: initialData\n          }),\n          RepresentingConfigs.memory({})\n        ], spec.extraBehaviours, true),\n        onEscape: function (comp) {\n          emit(comp, formCancelEvent);\n        },\n        dialogEvents: dialogEvents,\n        eventOrder: (_a = {}, _a[receive()] = [\n          Reflecting.name(),\n          Receiving.name()\n        ], _a[attachedToDom()] = [\n          'scroll-lock',\n          Reflecting.name(),\n          'messages',\n          'dialog-events',\n          'alloy.base.behaviour'\n        ], _a[detachedFromDom()] = [\n          'alloy.base.behaviour',\n          'dialog-events',\n          'messages',\n          Reflecting.name(),\n          'scroll-lock'\n        ], _a)\n      })));\n    };\n    var mapMenuButtons = function (buttons) {\n      var mapItems = function (button) {\n        var items = map$2(button.items, function (item) {\n          var cell = Cell(false);\n          return __assign(__assign({}, item), { storage: cell });\n        });\n        return __assign(__assign({}, button), { items: items });\n      };\n      return map$2(buttons, function (button) {\n        if (button.type === 'menu') {\n          return mapItems(button);\n        }\n        return button;\n      });\n    };\n    var extractCellsToObject = function (buttons) {\n      return foldl(buttons, function (acc, button) {\n        if (button.type === 'menu') {\n          var menuButton = button;\n          return foldl(menuButton.items, function (innerAcc, item) {\n            innerAcc[item.name] = item.storage;\n            return innerAcc;\n          }, acc);\n        }\n        return acc;\n      }, {});\n    };\n\n    var initCommonEvents = function (fireApiEvent, extras) {\n      return [\n        runWithTarget(focusin(), onFocus),\n        fireApiEvent(formCloseEvent, function (_api, spec) {\n          extras.onClose();\n          spec.onClose();\n        }),\n        fireApiEvent(formCancelEvent, function (api, spec, _event, self) {\n          spec.onCancel(api);\n          emit(self, formCloseEvent);\n        }),\n        run$1(formUnblockEvent, function (_c, _se) {\n          return extras.onUnblock();\n        }),\n        run$1(formBlockEvent, function (_c, se) {\n          return extras.onBlock(se.event);\n        })\n      ];\n    };\n    var initUrlDialog = function (getInstanceApi, extras) {\n      var fireApiEvent = function (eventName, f) {\n        return run$1(eventName, function (c, se) {\n          withSpec(c, function (spec, _c) {\n            f(getInstanceApi(), spec, se.event, c);\n          });\n        });\n      };\n      var withSpec = function (c, f) {\n        Reflecting.getState(c).get().each(function (currentDialog) {\n          f(currentDialog, c);\n        });\n      };\n      return __spreadArray(__spreadArray([], initCommonEvents(fireApiEvent, extras), true), [fireApiEvent(formActionEvent, function (api, spec, event) {\n          spec.onAction(api, { name: event.name });\n        })], false);\n    };\n    var initDialog = function (getInstanceApi, extras, getSink) {\n      var fireApiEvent = function (eventName, f) {\n        return run$1(eventName, function (c, se) {\n          withSpec(c, function (spec, _c) {\n            f(getInstanceApi(), spec, se.event, c);\n          });\n        });\n      };\n      var withSpec = function (c, f) {\n        Reflecting.getState(c).get().each(function (currentDialogInit) {\n          f(currentDialogInit.internalDialog, c);\n        });\n      };\n      return __spreadArray(__spreadArray([], initCommonEvents(fireApiEvent, extras), true), [\n        fireApiEvent(formSubmitEvent, function (api, spec) {\n          return spec.onSubmit(api);\n        }),\n        fireApiEvent(formChangeEvent, function (api, spec, event) {\n          spec.onChange(api, { name: event.name });\n        }),\n        fireApiEvent(formActionEvent, function (api, spec, event, component) {\n          var focusIn = function () {\n            return Keying.focusIn(component);\n          };\n          var isDisabled = function (focused) {\n            return has$1(focused, 'disabled') || getOpt(focused, 'aria-disabled').exists(function (val) {\n              return val === 'true';\n            });\n          };\n          var rootNode = getRootNode(component.element);\n          var current = active(rootNode);\n          spec.onAction(api, {\n            name: event.name,\n            value: event.value\n          });\n          active(rootNode).fold(focusIn, function (focused) {\n            if (isDisabled(focused)) {\n              focusIn();\n            } else if (current.exists(function (cur) {\n                return contains(focused, cur) && isDisabled(cur);\n              })) {\n              focusIn();\n            } else {\n              getSink().toOptional().filter(function (sink) {\n                return !contains(sink.element, focused);\n              }).each(focusIn);\n            }\n          });\n        }),\n        fireApiEvent(formTabChangeEvent, function (api, spec, event) {\n          spec.onTabChange(api, {\n            newTabName: event.name,\n            oldTabName: event.oldName\n          });\n        }),\n        runOnDetached(function (component) {\n          var api = getInstanceApi();\n          Representing.setValue(component, api.getData());\n        })\n      ], false);\n    };\n    var SilverDialogEvents = {\n      initUrlDialog: initUrlDialog,\n      initDialog: initDialog\n    };\n\n    var makeButton = function (button, backstage) {\n      return renderFooterButton(button, button.type, backstage);\n    };\n    var lookup = function (compInSystem, footerButtons, buttonName) {\n      return find$5(footerButtons, function (button) {\n        return button.name === buttonName;\n      }).bind(function (memButton) {\n        return memButton.memento.getOpt(compInSystem);\n      });\n    };\n    var renderComponents = function (_data, state) {\n      var footerButtons = state.map(function (s) {\n        return s.footerButtons;\n      }).getOr([]);\n      var buttonGroups = partition$3(footerButtons, function (button) {\n        return button.align === 'start';\n      });\n      var makeGroup = function (edge, buttons) {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__footer-' + edge]\n          },\n          components: map$2(buttons, function (button) {\n            return button.memento.asSpec();\n          })\n        });\n      };\n      var startButtons = makeGroup('start', buttonGroups.pass);\n      var endButtons = makeGroup('end', buttonGroups.fail);\n      return [\n        startButtons,\n        endButtons\n      ];\n    };\n    var renderFooter = function (initSpec, backstage) {\n      var updateState = function (_comp, data) {\n        var footerButtons = map$2(data.buttons, function (button) {\n          var memButton = record(makeButton(button, backstage));\n          return {\n            name: button.name,\n            align: button.align,\n            memento: memButton\n          };\n        });\n        var lookupByName = function (compInSystem, buttonName) {\n          return lookup(compInSystem, footerButtons, buttonName);\n        };\n        return Optional.some({\n          lookupByName: lookupByName,\n          footerButtons: footerButtons\n        });\n      };\n      return {\n        dom: fromHtml('<div class=\"tox-dialog__footer\"></div>'),\n        components: [],\n        behaviours: derive$1([Reflecting.config({\n            channel: footerChannel,\n            initialData: initSpec,\n            updateState: updateState,\n            renderComponents: renderComponents\n          })])\n      };\n    };\n    var renderInlineFooter = function (initSpec, backstage) {\n      return renderFooter(initSpec, backstage);\n    };\n    var renderModalFooter = function (initSpec, backstage) {\n      return ModalDialog.parts.footer(renderFooter(initSpec, backstage));\n    };\n\n    var getCompByName = function (access, name) {\n      var root = access.getRoot();\n      if (root.getSystem().isConnected()) {\n        var form_1 = Composing.getCurrent(access.getFormWrapper()).getOr(access.getFormWrapper());\n        return Form.getField(form_1, name).fold(function () {\n          var footer = access.getFooter();\n          var footerState = Reflecting.getState(footer);\n          return footerState.get().bind(function (f) {\n            return f.lookupByName(form_1, name);\n          });\n        }, function (comp) {\n          return Optional.some(comp);\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    var validateData$1 = function (access, data) {\n      var root = access.getRoot();\n      return Reflecting.getState(root).get().map(function (dialogState) {\n        return getOrDie(asRaw('data', dialogState.dataValidator, data));\n      }).getOr(data);\n    };\n    var getDialogApi = function (access, doRedial, menuItemStates) {\n      var withRoot = function (f) {\n        var root = access.getRoot();\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      var getData = function () {\n        var root = access.getRoot();\n        var valueComp = root.getSystem().isConnected() ? access.getFormWrapper() : root;\n        var representedValues = Representing.getValue(valueComp);\n        var menuItemCurrentState = map$1(menuItemStates, function (cell) {\n          return cell.get();\n        });\n        return __assign(__assign({}, representedValues), menuItemCurrentState);\n      };\n      var setData = function (newData) {\n        withRoot(function (_) {\n          var prevData = instanceApi.getData();\n          var mergedData = __assign(__assign({}, prevData), newData);\n          var newInternalData = validateData$1(access, mergedData);\n          var form = access.getFormWrapper();\n          Representing.setValue(form, newInternalData);\n          each(menuItemStates, function (v, k) {\n            if (has$2(mergedData, k)) {\n              v.set(mergedData[k]);\n            }\n          });\n        });\n      };\n      var disable = function (name) {\n        getCompByName(access, name).each(Disabling.disable);\n      };\n      var enable = function (name) {\n        getCompByName(access, name).each(Disabling.enable);\n      };\n      var focus = function (name) {\n        getCompByName(access, name).each(Focusing.focus);\n      };\n      var block = function (message) {\n        if (!isString(message)) {\n          throw new Error('The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(function (root) {\n          emitWith(root, formBlockEvent, { message: message });\n        });\n      };\n      var unblock = function () {\n        withRoot(function (root) {\n          emit(root, formUnblockEvent);\n        });\n      };\n      var showTab = function (name) {\n        withRoot(function (_) {\n          var body = access.getBody();\n          var bodyState = Reflecting.getState(body);\n          if (bodyState.get().exists(function (b) {\n              return b.isTabPanel();\n            })) {\n            Composing.getCurrent(body).each(function (tabSection) {\n              TabSection.showTab(tabSection, name);\n            });\n          }\n        });\n      };\n      var redial = function (d) {\n        withRoot(function (root) {\n          var dialogInit = doRedial(d);\n          root.getSystem().broadcastOn([dialogChannel], dialogInit);\n          root.getSystem().broadcastOn([titleChannel], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([bodyChannel], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([footerChannel], dialogInit.internalDialog);\n          instanceApi.setData(dialogInit.initialData);\n        });\n      };\n      var close = function () {\n        withRoot(function (root) {\n          emit(root, formCloseEvent);\n        });\n      };\n      var instanceApi = {\n        getData: getData,\n        setData: setData,\n        disable: disable,\n        enable: enable,\n        focus: focus,\n        block: block,\n        unblock: unblock,\n        showTab: showTab,\n        redial: redial,\n        close: close\n      };\n      return instanceApi;\n    };\n\n    var getDialogSizeClasses = function (size) {\n      switch (size) {\n      case 'large':\n        return ['tox-dialog--width-lg'];\n      case 'medium':\n        return ['tox-dialog--width-md'];\n      default:\n        return [];\n      }\n    };\n    var renderDialog = function (dialogInit, extra, backstage) {\n      var header = getHeader(dialogInit.internalDialog.title, backstage);\n      var body = renderModalBody({ body: dialogInit.internalDialog.body }, backstage);\n      var storagedMenuButtons = mapMenuButtons(dialogInit.internalDialog.buttons);\n      var objOfCells = extractCellsToObject(storagedMenuButtons);\n      var footer = renderModalFooter({ buttons: storagedMenuButtons }, backstage);\n      var dialogEvents = SilverDialogEvents.initDialog(function () {\n        return instanceApi;\n      }, getEventExtras(function () {\n        return dialog;\n      }, backstage.shared.providers, extra), backstage.shared.getSink);\n      var dialogSize = getDialogSizeClasses(dialogInit.internalDialog.size);\n      var spec = {\n        header: header,\n        body: body,\n        footer: Optional.some(footer),\n        extraClasses: dialogSize,\n        extraBehaviours: [],\n        extraStyles: {}\n      };\n      var dialog = renderModalDialog(spec, dialogInit, dialogEvents, backstage);\n      var modalAccess = function () {\n        var getForm = function () {\n          var outerForm = ModalDialog.getBody(dialog);\n          return Composing.getCurrent(outerForm).getOr(outerForm);\n        };\n        return {\n          getRoot: constant$1(dialog),\n          getBody: function () {\n            return ModalDialog.getBody(dialog);\n          },\n          getFooter: function () {\n            return ModalDialog.getFooter(dialog);\n          },\n          getFormWrapper: getForm\n        };\n      }();\n      var instanceApi = getDialogApi(modalAccess, extra.redial, objOfCells);\n      return {\n        dialog: dialog,\n        instanceApi: instanceApi\n      };\n    };\n\n    var renderInlineDialog = function (dialogInit, extra, backstage, ariaAttrs) {\n      var _a, _b;\n      var dialogLabelId = generate$6('dialog-label');\n      var dialogContentId = generate$6('dialog-content');\n      var updateState = function (_comp, incoming) {\n        return Optional.some(incoming);\n      };\n      var memHeader = record(renderInlineHeader({\n        title: dialogInit.internalDialog.title,\n        draggable: true\n      }, dialogLabelId, backstage.shared.providers));\n      var memBody = record(renderInlineBody({ body: dialogInit.internalDialog.body }, dialogContentId, backstage, ariaAttrs));\n      var storagedMenuButtons = mapMenuButtons(dialogInit.internalDialog.buttons);\n      var objOfCells = extractCellsToObject(storagedMenuButtons);\n      var memFooter = record(renderInlineFooter({ buttons: storagedMenuButtons }, backstage));\n      var dialogEvents = SilverDialogEvents.initDialog(function () {\n        return instanceApi;\n      }, {\n        onBlock: function (event) {\n          Blocking.block(dialog, function (_comp, bs) {\n            return getBusySpec(event.message, bs, backstage.shared.providers);\n          });\n        },\n        onUnblock: function () {\n          Blocking.unblock(dialog);\n        },\n        onClose: function () {\n          return extra.closeWindow();\n        }\n      }, backstage.shared.getSink);\n      var dialog = build$1({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-dialog',\n            'tox-dialog-inline'\n          ],\n          attributes: (_a = { role: 'dialog' }, _a['aria-labelledby'] = dialogLabelId, _a['aria-describedby'] = dialogContentId, _a)\n        },\n        eventOrder: (_b = {}, _b[receive()] = [\n          Reflecting.name(),\n          Receiving.name()\n        ], _b[execute$5()] = ['execute-on-form'], _b[attachedToDom()] = [\n          'reflecting',\n          'execute-on-form'\n        ], _b),\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'cyclic',\n            onEscape: function (c) {\n              emit(c, formCloseEvent);\n              return Optional.some(true);\n            },\n            useTabstopAt: function (elem) {\n              return !isPseudoStop(elem) && (name$2(elem) !== 'button' || get$d(elem, 'disabled') !== 'disabled');\n            }\n          }),\n          Reflecting.config({\n            channel: dialogChannel,\n            updateState: updateState,\n            initialData: dialogInit\n          }),\n          Focusing.config({}),\n          config('execute-on-form', dialogEvents.concat([runOnSource(focusin(), function (comp, _se) {\n              Keying.focusIn(comp);\n            })])),\n          Blocking.config({\n            getRoot: function () {\n              return Optional.some(dialog);\n            }\n          }),\n          Replacing.config({}),\n          RepresentingConfigs.memory({})\n        ]),\n        components: [\n          memHeader.asSpec(),\n          memBody.asSpec(),\n          memFooter.asSpec()\n        ]\n      });\n      var instanceApi = getDialogApi({\n        getRoot: constant$1(dialog),\n        getFooter: function () {\n          return memFooter.get(dialog);\n        },\n        getBody: function () {\n          return memBody.get(dialog);\n        },\n        getFormWrapper: function () {\n          var body = memBody.get(dialog);\n          return Composing.getCurrent(body).getOr(body);\n        }\n      }, extra.redial, objOfCells);\n      return {\n        dialog: dialog,\n        instanceApi: instanceApi\n      };\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    var getUrlDialogApi = function (root) {\n      var withRoot = function (f) {\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      var block = function (message) {\n        if (!isString(message)) {\n          throw new Error('The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(function (root) {\n          emitWith(root, formBlockEvent, { message: message });\n        });\n      };\n      var unblock = function () {\n        withRoot(function (root) {\n          emit(root, formUnblockEvent);\n        });\n      };\n      var close = function () {\n        withRoot(function (root) {\n          emit(root, formCloseEvent);\n        });\n      };\n      var sendMessage = function (data) {\n        withRoot(function (root) {\n          root.getSystem().broadcastOn([bodySendMessageChannel], data);\n        });\n      };\n      return {\n        block: block,\n        unblock: unblock,\n        close: close,\n        sendMessage: sendMessage\n      };\n    };\n\n    var SUPPORTED_MESSAGE_ACTIONS = [\n      'insertContent',\n      'setContent',\n      'execCommand',\n      'close',\n      'block',\n      'unblock'\n    ];\n    var isSupportedMessage = function (data) {\n      return isObject(data) && SUPPORTED_MESSAGE_ACTIONS.indexOf(data.mceAction) !== -1;\n    };\n    var isCustomMessage = function (data) {\n      return !isSupportedMessage(data) && isObject(data) && has$2(data, 'mceAction');\n    };\n    var handleMessage = function (editor, api, data) {\n      switch (data.mceAction) {\n      case 'insertContent':\n        editor.insertContent(data.content);\n        break;\n      case 'setContent':\n        editor.setContent(data.content);\n        break;\n      case 'execCommand':\n        var ui = isBoolean(data.ui) ? data.ui : false;\n        editor.execCommand(data.cmd, ui, data.value);\n        break;\n      case 'close':\n        api.close();\n        break;\n      case 'block':\n        api.block(data.message);\n        break;\n      case 'unblock':\n        api.unblock();\n        break;\n      }\n    };\n    var renderUrlDialog = function (internalDialog, extra, editor, backstage) {\n      var _a;\n      var header = getHeader(internalDialog.title, backstage);\n      var body = renderIframeBody(internalDialog);\n      var footer = internalDialog.buttons.bind(function (buttons) {\n        if (buttons.length === 0) {\n          return Optional.none();\n        } else {\n          return Optional.some(renderModalFooter({ buttons: buttons }, backstage));\n        }\n      });\n      var dialogEvents = SilverDialogEvents.initUrlDialog(function () {\n        return instanceApi;\n      }, getEventExtras(function () {\n        return dialog;\n      }, backstage.shared.providers, extra));\n      var styles = __assign(__assign({}, internalDialog.height.fold(function () {\n        return {};\n      }, function (height) {\n        return {\n          'height': height + 'px',\n          'max-height': height + 'px'\n        };\n      })), internalDialog.width.fold(function () {\n        return {};\n      }, function (width) {\n        return {\n          'width': width + 'px',\n          'max-width': width + 'px'\n        };\n      }));\n      var classes = internalDialog.width.isNone() && internalDialog.height.isNone() ? ['tox-dialog--width-lg'] : [];\n      var iframeUri = new global$1(internalDialog.url, { base_uri: new global$1(window.location.href) });\n      var iframeDomain = iframeUri.protocol + '://' + iframeUri.host + (iframeUri.port ? ':' + iframeUri.port : '');\n      var messageHandlerUnbinder = unbindable();\n      var extraBehaviours = [\n        config('messages', [\n          runOnAttached(function () {\n            var unbind = bind(SugarElement.fromDom(window), 'message', function (e) {\n              if (iframeUri.isSameOrigin(new global$1(e.raw.origin))) {\n                var data = e.raw.data;\n                if (isSupportedMessage(data)) {\n                  handleMessage(editor, instanceApi, data);\n                } else if (isCustomMessage(data)) {\n                  internalDialog.onMessage(instanceApi, data);\n                }\n              }\n            });\n            messageHandlerUnbinder.set(unbind);\n          }),\n          runOnDetached(messageHandlerUnbinder.clear)\n        ]),\n        Receiving.config({\n          channels: (_a = {}, _a[bodySendMessageChannel] = {\n            onReceive: function (comp, data) {\n              descendant(comp.element, 'iframe').each(function (iframeEle) {\n                var iframeWin = iframeEle.dom.contentWindow;\n                iframeWin.postMessage(data, iframeDomain);\n              });\n            }\n          }, _a)\n        })\n      ];\n      var spec = {\n        header: header,\n        body: body,\n        footer: footer,\n        extraClasses: classes,\n        extraBehaviours: extraBehaviours,\n        extraStyles: styles\n      };\n      var dialog = renderModalDialog(spec, internalDialog, dialogEvents, backstage);\n      var instanceApi = getUrlDialogApi(dialog);\n      return {\n        dialog: dialog,\n        instanceApi: instanceApi\n      };\n    };\n\n    var setup$2 = function (extras) {\n      var sharedBackstage = extras.backstage.shared;\n      var open = function (message, callback) {\n        var closeDialog = function () {\n          ModalDialog.hide(alertDialog);\n          callback();\n        };\n        var memFooterClose = record(renderFooterButton({\n          name: 'close-alert',\n          text: 'OK',\n          primary: true,\n          align: 'end',\n          disabled: false,\n          icon: Optional.none()\n        }, 'cancel', extras.backstage));\n        var titleSpec = pUntitled();\n        var closeSpec = pClose(closeDialog, sharedBackstage.providers);\n        var alertDialog = build$1(renderDialog$1({\n          lazySink: function () {\n            return sharedBackstage.getSink();\n          },\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [memFooterClose.asSpec()]))),\n          onEscape: closeDialog,\n          extraClasses: ['tox-alert-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [run$1(formCancelEvent, closeDialog)],\n          eventOrder: {}\n        }));\n        ModalDialog.show(alertDialog);\n        var footerCloseButton = memFooterClose.get(alertDialog);\n        Focusing.focus(footerCloseButton);\n      };\n      return { open: open };\n    };\n\n    var setup$1 = function (extras) {\n      var sharedBackstage = extras.backstage.shared;\n      var open = function (message, callback) {\n        var closeDialog = function (state) {\n          ModalDialog.hide(confirmDialog);\n          callback(state);\n        };\n        var memFooterYes = record(renderFooterButton({\n          name: 'yes',\n          text: 'Yes',\n          primary: true,\n          align: 'end',\n          disabled: false,\n          icon: Optional.none()\n        }, 'submit', extras.backstage));\n        var footerNo = renderFooterButton({\n          name: 'no',\n          text: 'No',\n          primary: false,\n          align: 'end',\n          disabled: false,\n          icon: Optional.none()\n        }, 'cancel', extras.backstage);\n        var titleSpec = pUntitled();\n        var closeSpec = pClose(function () {\n          return closeDialog(false);\n        }, sharedBackstage.providers);\n        var confirmDialog = build$1(renderDialog$1({\n          lazySink: function () {\n            return sharedBackstage.getSink();\n          },\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [\n            footerNo,\n            memFooterYes.asSpec()\n          ]))),\n          onEscape: function () {\n            return closeDialog(false);\n          },\n          extraClasses: ['tox-confirm-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [\n            run$1(formCancelEvent, function () {\n              return closeDialog(false);\n            }),\n            run$1(formSubmitEvent, function () {\n              return closeDialog(true);\n            })\n          ],\n          eventOrder: {}\n        }));\n        ModalDialog.show(confirmDialog);\n        var footerYesButton = memFooterYes.get(confirmDialog);\n        Focusing.focus(footerYesButton);\n      };\n      return { open: open };\n    };\n\n    var validateData = function (data, validator) {\n      return getOrDie(asRaw('data', validator, data));\n    };\n    var isAlertOrConfirmDialog = function (target) {\n      return closest(target, '.tox-alert-dialog') || closest(target, '.tox-confirm-dialog');\n    };\n    var inlineAdditionalBehaviours = function (editor, isStickyToolbar, isToolbarLocationTop) {\n      if (isStickyToolbar && isToolbarLocationTop) {\n        return [];\n      } else {\n        return [Docking.config({\n            contextual: {\n              lazyContext: function () {\n                return Optional.some(box$1(SugarElement.fromDom(editor.getContentAreaContainer())));\n              },\n              fadeInClass: 'tox-dialog-dock-fadein',\n              fadeOutClass: 'tox-dialog-dock-fadeout',\n              transitionClass: 'tox-dialog-dock-transition'\n            },\n            modes: ['top']\n          })];\n      }\n    };\n    var setup = function (extras) {\n      var backstage = extras.backstage;\n      var editor = extras.editor;\n      var isStickyToolbar$1 = isStickyToolbar(editor);\n      var alertDialog = setup$2(extras);\n      var confirmDialog = setup$1(extras);\n      var open = function (config, params, closeWindow) {\n        if (params !== undefined && params.inline === 'toolbar') {\n          return openInlineDialog(config, backstage.shared.anchors.inlineDialog(), closeWindow, params.ariaAttrs);\n        } else if (params !== undefined && params.inline === 'cursor') {\n          return openInlineDialog(config, backstage.shared.anchors.cursor(), closeWindow, params.ariaAttrs);\n        } else {\n          return openModalDialog(config, closeWindow);\n        }\n      };\n      var openUrl = function (config, closeWindow) {\n        return openModalUrlDialog(config, closeWindow);\n      };\n      var openModalUrlDialog = function (config, closeWindow) {\n        var factory = function (contents) {\n          var dialog = renderUrlDialog(contents, {\n            closeWindow: function () {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, editor, backstage);\n          ModalDialog.show(dialog.dialog);\n          return dialog.instanceApi;\n        };\n        return DialogManager.openUrl(factory, config);\n      };\n      var openModalDialog = function (config, closeWindow) {\n        var factory = function (contents, internalInitialData, dataValidator) {\n          var initialData = internalInitialData;\n          var dialogInit = {\n            dataValidator: dataValidator,\n            initialData: initialData,\n            internalDialog: contents\n          };\n          var dialog = renderDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: function () {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, backstage);\n          ModalDialog.show(dialog.dialog);\n          dialog.instanceApi.setData(initialData);\n          return dialog.instanceApi;\n        };\n        return DialogManager.open(factory, config);\n      };\n      var openInlineDialog = function (config$1, anchor, closeWindow, ariaAttrs) {\n        var factory = function (contents, internalInitialData, dataValidator) {\n          var initialData = validateData(internalInitialData, dataValidator);\n          var inlineDialog = value$1();\n          var isToolbarLocationTop = backstage.shared.header.isPositionedAtTop();\n          var dialogInit = {\n            dataValidator: dataValidator,\n            initialData: initialData,\n            internalDialog: contents\n          };\n          var refreshDocking = function () {\n            return inlineDialog.on(function (dialog) {\n              InlineView.reposition(dialog);\n              Docking.refresh(dialog);\n            });\n          };\n          var dialogUi = renderInlineDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: function () {\n              inlineDialog.on(InlineView.hide);\n              editor.off('ResizeEditor', refreshDocking);\n              inlineDialog.clear();\n              closeWindow(dialogUi.instanceApi);\n            }\n          }, backstage, ariaAttrs);\n          var inlineDialogComp = build$1(InlineView.sketch(__assign(__assign({\n            lazySink: backstage.shared.getSink,\n            dom: {\n              tag: 'div',\n              classes: []\n            },\n            fireDismissalEventInstead: {}\n          }, isToolbarLocationTop ? {} : { fireRepositionEventInstead: {} }), {\n            inlineBehaviours: derive$1(__spreadArray([config('window-manager-inline-events', [run$1(dismissRequested(), function (_comp, _se) {\n                  emit(dialogUi.dialog, formCancelEvent);\n                })])], inlineAdditionalBehaviours(editor, isStickyToolbar$1, isToolbarLocationTop), true)),\n            isExtraPart: function (_comp, target) {\n              return isAlertOrConfirmDialog(target);\n            }\n          })));\n          inlineDialog.set(inlineDialogComp);\n          InlineView.showWithin(inlineDialogComp, premade(dialogUi.dialog), { anchor: anchor }, Optional.some(body()));\n          if (!isStickyToolbar$1 || !isToolbarLocationTop) {\n            Docking.refresh(inlineDialogComp);\n            editor.on('ResizeEditor', refreshDocking);\n          }\n          dialogUi.instanceApi.setData(initialData);\n          Keying.focusIn(dialogUi.dialog);\n          return dialogUi.instanceApi;\n        };\n        return DialogManager.open(factory, config$1);\n      };\n      var confirm = function (message, callback) {\n        confirmDialog.open(message, function (state) {\n          callback(state);\n        });\n      };\n      var alert = function (message, callback) {\n        alertDialog.open(message, function () {\n          callback();\n        });\n      };\n      var close = function (instanceApi) {\n        instanceApi.close();\n      };\n      return {\n        open: open,\n        openUrl: openUrl,\n        alert: alert,\n        close: close,\n        confirm: confirm\n      };\n    };\n\n    function Theme () {\n      global$g.add('silver', function (editor) {\n        var _a = setup$3(editor), uiMothership = _a.uiMothership, backstage = _a.backstage, renderUI = _a.renderUI, getUi = _a.getUi;\n        Autocompleter.register(editor, backstage.shared);\n        var windowMgr = setup({\n          editor: editor,\n          backstage: backstage\n        });\n        return {\n          renderUI: renderUI,\n          getWindowManagerImpl: constant$1(windowMgr),\n          getNotificationManagerImpl: function () {\n            return NotificationManagerImpl(editor, { backstage: backstage }, uiMothership);\n          },\n          ui: getUi()\n        };\n      });\n    }\n\n    Theme();\n\n}());\n","/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.9 (2023-11-15)\n */\n(function () {\n    'use strict';\n\n    var typeOf$1 = function (x) {\n      if (x === null) {\n        return 'null';\n      }\n      if (x === undefined) {\n        return 'undefined';\n      }\n      var t = typeof x;\n      if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      }\n      if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      }\n      return t;\n    };\n    var isEquatableType = function (x) {\n      return [\n        'undefined',\n        'boolean',\n        'number',\n        'string',\n        'function',\n        'xml',\n        'null'\n      ].indexOf(x) !== -1;\n    };\n\n    var sort$1 = function (xs, compareFn) {\n      var clone = Array.prototype.slice.call(xs);\n      return clone.sort(compareFn);\n    };\n\n    var contramap = function (eqa, f) {\n      return eq$2(function (x, y) {\n        return eqa.eq(f(x), f(y));\n      });\n    };\n    var eq$2 = function (f) {\n      return { eq: f };\n    };\n    var tripleEq = eq$2(function (x, y) {\n      return x === y;\n    });\n    var eqString = tripleEq;\n    var eqArray = function (eqa) {\n      return eq$2(function (x, y) {\n        if (x.length !== y.length) {\n          return false;\n        }\n        var len = x.length;\n        for (var i = 0; i < len; i++) {\n          if (!eqa.eq(x[i], y[i])) {\n            return false;\n          }\n        }\n        return true;\n      });\n    };\n    var eqSortedArray = function (eqa, compareFn) {\n      return contramap(eqArray(eqa), function (xs) {\n        return sort$1(xs, compareFn);\n      });\n    };\n    var eqRecord = function (eqa) {\n      return eq$2(function (x, y) {\n        var kx = Object.keys(x);\n        var ky = Object.keys(y);\n        if (!eqSortedArray(eqString).eq(kx, ky)) {\n          return false;\n        }\n        var len = kx.length;\n        for (var i = 0; i < len; i++) {\n          var q = kx[i];\n          if (!eqa.eq(x[q], y[q])) {\n            return false;\n          }\n        }\n        return true;\n      });\n    };\n    var eqAny = eq$2(function (x, y) {\n      if (x === y) {\n        return true;\n      }\n      var tx = typeOf$1(x);\n      var ty = typeOf$1(y);\n      if (tx !== ty) {\n        return false;\n      }\n      if (isEquatableType(tx)) {\n        return x === y;\n      } else if (tx === 'array') {\n        return eqArray(eqAny).eq(x, y);\n      } else if (tx === 'object') {\n        return eqRecord(eqAny).eq(x, y);\n      }\n      return false;\n    });\n\n    var typeOf = function (x) {\n      var t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      } else if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    var isType$1 = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isSimpleType = function (type) {\n      return function (value) {\n        return typeof value === type;\n      };\n    };\n    var eq$1 = function (t) {\n      return function (a) {\n        return t === a;\n      };\n    };\n    var isString$1 = isType$1('string');\n    var isObject = isType$1('object');\n    var isArray$1 = isType$1('array');\n    var isNull = eq$1(null);\n    var isBoolean = isSimpleType('boolean');\n    var isUndefined = eq$1(undefined);\n    var isNullable = function (a) {\n      return a === null || a === undefined;\n    };\n    var isNonNullable = function (a) {\n      return !isNullable(a);\n    };\n    var isFunction = isSimpleType('function');\n    var isNumber = isSimpleType('number');\n\n    var noop = function () {\n    };\n    var compose = function (fa, fb) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return fa(fb.apply(null, args));\n      };\n    };\n    var compose1 = function (fbc, fab) {\n      return function (a) {\n        return fbc(fab(a));\n      };\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var tripleEquals = function (a, b) {\n      return a === b;\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var not = function (f) {\n      return function (t) {\n        return !f(t);\n      };\n    };\n    var die = function (msg) {\n      return function () {\n        throw new Error(msg);\n      };\n    };\n    var apply = function (f) {\n      return f();\n    };\n    var call = function (f) {\n      f();\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = identity;\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: function () {\n          return none();\n        },\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n    var from$1 = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from$1\n    };\n\n    var nativeSlice = Array.prototype.slice;\n    var nativeIndexOf = Array.prototype.indexOf;\n    var nativePush = Array.prototype.push;\n    var rawIndexOf = function (ts, t) {\n      return nativeIndexOf.call(ts, t);\n    };\n    var indexOf$2 = function (xs, x) {\n      var r = rawIndexOf(xs, x);\n      return r === -1 ? Optional.none() : Optional.some(r);\n    };\n    var contains$3 = function (xs, x) {\n      return rawIndexOf(xs, x) > -1;\n    };\n    var exists = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var map$3 = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each$k = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var eachr = function (xs, f) {\n      for (var i = xs.length - 1; i >= 0; i--) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var partition = function (xs, pred) {\n      var pass = [];\n      var fail = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        var arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass: pass,\n        fail: fail\n      };\n    };\n    var filter$4 = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var foldr = function (xs, f, acc) {\n      eachr(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var foldl = function (xs, f, acc) {\n      each$k(xs, function (x, i) {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    var findUntil$1 = function (xs, pred, until) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var find$3 = function (xs, pred) {\n      return findUntil$1(xs, pred, never);\n    };\n    var findIndex$2 = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray$1(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind = function (xs, f) {\n      return flatten(map$3(xs, f));\n    };\n    var forall = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        var x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    var reverse = function (xs) {\n      var r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    var difference = function (a1, a2) {\n      return filter$4(a1, function (x) {\n        return !contains$3(a2, x);\n      });\n    };\n    var mapToObject = function (xs, f) {\n      var r = {};\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    var sort = function (xs, comparator) {\n      var copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    var get$a = function (xs, i) {\n      return i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    };\n    var head = function (xs) {\n      return get$a(xs, 0);\n    };\n    var last$2 = function (xs) {\n      return get$a(xs, xs.length - 1);\n    };\n    var from = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n    var findMap = function (arr, f) {\n      for (var i = 0; i < arr.length; i++) {\n        var r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    var keys = Object.keys;\n    var hasOwnProperty$1 = Object.hasOwnProperty;\n    var each$j = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n    var map$2 = function (obj, f) {\n      return tupleMap(obj, function (x, i) {\n        return {\n          k: i,\n          v: f(x, i)\n        };\n      });\n    };\n    var tupleMap = function (obj, f) {\n      var r = {};\n      each$j(obj, function (x, i) {\n        var tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    var objAcc = function (r) {\n      return function (x, i) {\n        r[i] = x;\n      };\n    };\n    var internalFilter = function (obj, pred, onTrue, onFalse) {\n      var r = {};\n      each$j(obj, function (x, i) {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    var bifilter = function (obj, pred) {\n      var t = {};\n      var f = {};\n      internalFilter(obj, pred, objAcc(t), objAcc(f));\n      return {\n        t: t,\n        f: f\n      };\n    };\n    var filter$3 = function (obj, pred) {\n      var t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    var mapToArray = function (obj, f) {\n      var r = [];\n      each$j(obj, function (value, name) {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    var values = function (obj) {\n      return mapToArray(obj, identity);\n    };\n    var get$9 = function (obj, key) {\n      return has$2(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    var has$2 = function (obj, key) {\n      return hasOwnProperty$1.call(obj, key);\n    };\n    var hasNonNullableKey = function (obj, key) {\n      return has$2(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    };\n    var equal$1 = function (a1, a2, eq) {\n      if (eq === void 0) {\n        eq = eqAny;\n      }\n      return eqRecord(eq).eq(a1, a2);\n    };\n\n    var isArray = Array.isArray;\n    var toArray$1 = function (obj) {\n      if (!isArray(obj)) {\n        var array = [];\n        for (var i = 0, l = obj.length; i < l; i++) {\n          array[i] = obj[i];\n        }\n        return array;\n      } else {\n        return obj;\n      }\n    };\n    var each$i = function (o, cb, s) {\n      var n, l;\n      if (!o) {\n        return false;\n      }\n      s = s || o;\n      if (o.length !== undefined) {\n        for (n = 0, l = o.length; n < l; n++) {\n          if (cb.call(s, o[n], n, o) === false) {\n            return false;\n          }\n        }\n      } else {\n        for (n in o) {\n          if (has$2(o, n)) {\n            if (cb.call(s, o[n], n, o) === false) {\n              return false;\n            }\n          }\n        }\n      }\n      return true;\n    };\n    var map$1 = function (array, callback) {\n      var out = [];\n      each$i(array, function (item, index) {\n        out.push(callback(item, index, array));\n      });\n      return out;\n    };\n    var filter$2 = function (a, f) {\n      var o = [];\n      each$i(a, function (v, index) {\n        if (!f || f(v, index, a)) {\n          o.push(v);\n        }\n      });\n      return o;\n    };\n    var indexOf$1 = function (a, v) {\n      if (a) {\n        for (var i = 0, l = a.length; i < l; i++) {\n          if (a[i] === v) {\n            return i;\n          }\n        }\n      }\n      return -1;\n    };\n    var reduce = function (collection, iteratee, accumulator, thisArg) {\n      var acc = isUndefined(accumulator) ? collection[0] : accumulator;\n      for (var i = 0; i < collection.length; i++) {\n        acc = iteratee.call(thisArg, acc, collection[i], i);\n      }\n      return acc;\n    };\n    var findIndex$1 = function (array, predicate, thisArg) {\n      var i, l;\n      for (i = 0, l = array.length; i < l; i++) {\n        if (predicate.call(thisArg, array[i], i, array)) {\n          return i;\n        }\n      }\n      return -1;\n    };\n    var last$1 = function (collection) {\n      return collection[collection.length - 1];\n    };\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n    function __rest(s, e) {\n      var t = {};\n      for (var p in s)\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n          t[p] = s[p];\n      if (s != null && typeof Object.getOwnPropertySymbols === 'function')\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n            t[p[i]] = s[p[i]];\n        }\n      return t;\n    }\n    function __spreadArray(to, from, pack) {\n      if (pack || arguments.length === 2)\n        for (var i = 0, l = from.length, ar; i < l; i++) {\n          if (ar || !(i in from)) {\n            if (!ar)\n              ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n          }\n        }\n      return to.concat(ar || Array.prototype.slice.call(from));\n    }\n\n    var cached = function (f) {\n      var called = false;\n      var r;\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    var DeviceType = function (os, browser, userAgent, mediaMatch) {\n      var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      var isiPhone = os.isiOS() && !isiPad;\n      var isMobile = os.isiOS() || os.isAndroid();\n      var isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      var isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      var isPhone = isiPhone || isMobile && !isTablet;\n      var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      var isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview),\n        isDesktop: constant(isDesktop)\n      };\n    };\n\n    var firstMatch = function (regexes, s) {\n      for (var i = 0; i < regexes.length; i++) {\n        var x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    var find$2 = function (regexes, agent) {\n      var r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      var group = function (i) {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$4(group(1), group(2));\n    };\n    var detect$3 = function (versionRegexes, agent) {\n      var cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$2();\n      }\n      return find$2(versionRegexes, cleanedAgent);\n    };\n    var unknown$2 = function () {\n      return nu$4(0, 0);\n    };\n    var nu$4 = function (major, minor) {\n      return {\n        major: major,\n        minor: minor\n      };\n    };\n    var Version = {\n      nu: nu$4,\n      detect: detect$3,\n      unknown: unknown$2\n    };\n\n    var detectBrowser$1 = function (browsers, userAgentData) {\n      return findMap(userAgentData.brands, function (uaBrand) {\n        var lcBrand = uaBrand.brand.toLowerCase();\n        return find$3(browsers, function (browser) {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(function (info) {\n          return {\n            current: info.name,\n            version: Version.nu(parseInt(uaBrand.version, 10), 0)\n          };\n        });\n      });\n    };\n\n    var detect$2 = function (candidates, userAgent) {\n      var agent = String(userAgent).toLowerCase();\n      return find$3(candidates, function (candidate) {\n        return candidate.search(agent);\n      });\n    };\n    var detectBrowser = function (browsers, userAgent) {\n      return detect$2(browsers, userAgent).map(function (browser) {\n        var version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version: version\n        };\n      });\n    };\n    var detectOs = function (oses, userAgent) {\n      return detect$2(oses, userAgent).map(function (os) {\n        var version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version: version\n        };\n      });\n    };\n\n    var removeFromStart = function (str, numChars) {\n      return str.substring(numChars);\n    };\n\n    var checkRange = function (str, substr, start) {\n      return substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    };\n    var removeLeading = function (str, prefix) {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    var contains$2 = function (str, substr) {\n      return str.indexOf(substr) !== -1;\n    };\n    var startsWith = function (str, prefix) {\n      return checkRange(str, prefix, 0);\n    };\n    var blank = function (r) {\n      return function (s) {\n        return s.replace(r, '');\n      };\n    };\n    var trim$5 = blank(/^\\s+|\\s+$/g);\n    var lTrim = blank(/^\\s+/g);\n    var rTrim = blank(/\\s+$/g);\n    var isNotEmpty = function (s) {\n      return s.length > 0;\n    };\n    var isEmpty$3 = function (s) {\n      return !isNotEmpty(s);\n    };\n\n    var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    var checkContains = function (target) {\n      return function (uastring) {\n        return contains$2(uastring, target);\n      };\n    };\n    var browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: function (uastring) {\n          return contains$2(uastring, 'edge/') && contains$2(uastring, 'chrome') && contains$2(uastring, 'safari') && contains$2(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chrome',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: function (uastring) {\n          return contains$2(uastring, 'chrome') && !contains$2(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return contains$2(uastring, 'msie') || contains$2(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return (contains$2(uastring, 'safari') || contains$2(uastring, 'mobile/')) && contains$2(uastring, 'applewebkit');\n        }\n      }\n    ];\n    var oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: function (uastring) {\n          return contains$2(uastring, 'iphone') || contains$2(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'OSX',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    var PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    var edge = 'Edge';\n    var chrome = 'Chrome';\n    var ie$1 = 'IE';\n    var opera = 'Opera';\n    var firefox = 'Firefox';\n    var safari = 'Safari';\n    var unknown$1 = function () {\n      return nu$3({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$3 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isBrowser = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isEdge: isBrowser(edge),\n        isChrome: isBrowser(chrome),\n        isIE: isBrowser(ie$1),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    var Browser = {\n      unknown: unknown$1,\n      nu: nu$3,\n      edge: constant(edge),\n      chrome: constant(chrome),\n      ie: constant(ie$1),\n      opera: constant(opera),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n\n    var windows = 'Windows';\n    var ios = 'iOS';\n    var android = 'Android';\n    var linux = 'Linux';\n    var osx = 'OSX';\n    var solaris = 'Solaris';\n    var freebsd = 'FreeBSD';\n    var chromeos = 'ChromeOS';\n    var unknown = function () {\n      return nu$2({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$2 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      var isOS = function (name) {\n        return function () {\n          return current === name;\n        };\n      };\n      return {\n        current: current,\n        version: version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isOSX: isOS(osx),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    var OperatingSystem = {\n      unknown: unknown,\n      nu: nu$2,\n      windows: constant(windows),\n      ios: constant(ios),\n      android: constant(android),\n      linux: constant(linux),\n      osx: constant(osx),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd),\n      chromeos: constant(chromeos)\n    };\n\n    var detect$1 = function (userAgent, userAgentDataOpt, mediaMatch) {\n      var browsers = PlatformInfo.browsers();\n      var oses = PlatformInfo.oses();\n      var browser = userAgentDataOpt.bind(function (userAgentData) {\n        return detectBrowser$1(browsers, userAgentData);\n      }).orThunk(function () {\n        return detectBrowser(browsers, userAgent);\n      }).fold(Browser.unknown, Browser.nu);\n      var os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      var deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser: browser,\n        os: os,\n        deviceType: deviceType\n      };\n    };\n    var PlatformDetection = { detect: detect$1 };\n\n    var mediaMatch = function (query) {\n      return window.matchMedia(query).matches;\n    };\n    var platform$2 = cached(function () {\n      return PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch);\n    });\n    var detect = function () {\n      return platform$2();\n    };\n\n    var userAgent = navigator.userAgent;\n    var platform$1 = detect();\n    var browser$4 = platform$1.browser;\n    var os = platform$1.os;\n    var deviceType = platform$1.deviceType;\n    var webkit = /WebKit/.test(userAgent) && !browser$4.isEdge();\n    var fileApi = 'FormData' in window && 'FileReader' in window && 'URL' in window && !!URL.createObjectURL;\n    var windowsPhone = userAgent.indexOf('Windows Phone') !== -1;\n    var Env = {\n      opera: browser$4.isOpera(),\n      webkit: webkit,\n      ie: browser$4.isIE() || browser$4.isEdge() ? browser$4.version.major : false,\n      gecko: browser$4.isFirefox(),\n      mac: os.isOSX() || os.isiOS(),\n      iOS: deviceType.isiPad() || deviceType.isiPhone(),\n      android: os.isAndroid(),\n      contentEditable: true,\n      transparentSrc: 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',\n      caretAfter: true,\n      range: window.getSelection && 'Range' in window,\n      documentMode: browser$4.isIE() ? document.documentMode || 7 : 10,\n      fileApi: fileApi,\n      ceFalse: true,\n      cacheSuffix: null,\n      container: null,\n      experimentalShadowDom: false,\n      canHaveCSP: !browser$4.isIE(),\n      desktop: deviceType.isDesktop(),\n      windowsPhone: windowsPhone,\n      browser: {\n        current: browser$4.current,\n        version: browser$4.version,\n        isChrome: browser$4.isChrome,\n        isEdge: browser$4.isEdge,\n        isFirefox: browser$4.isFirefox,\n        isIE: browser$4.isIE,\n        isOpera: browser$4.isOpera,\n        isSafari: browser$4.isSafari\n      },\n      os: {\n        current: os.current,\n        version: os.version,\n        isAndroid: os.isAndroid,\n        isChromeOS: os.isChromeOS,\n        isFreeBSD: os.isFreeBSD,\n        isiOS: os.isiOS,\n        isLinux: os.isLinux,\n        isOSX: os.isOSX,\n        isSolaris: os.isSolaris,\n        isWindows: os.isWindows\n      },\n      deviceType: {\n        isDesktop: deviceType.isDesktop,\n        isiPad: deviceType.isiPad,\n        isiPhone: deviceType.isiPhone,\n        isPhone: deviceType.isPhone,\n        isTablet: deviceType.isTablet,\n        isTouch: deviceType.isTouch,\n        isWebView: deviceType.isWebView\n      }\n    };\n\n    var whiteSpaceRegExp$2 = /^\\s*|\\s*$/g;\n    var trim$4 = function (str) {\n      return str === null || str === undefined ? '' : ('' + str).replace(whiteSpaceRegExp$2, '');\n    };\n    var is$3 = function (obj, type) {\n      if (!type) {\n        return obj !== undefined;\n      }\n      if (type === 'array' && isArray(obj)) {\n        return true;\n      }\n      return typeof obj === type;\n    };\n    var makeMap$4 = function (items, delim, map) {\n      var i;\n      items = items || [];\n      delim = delim || ',';\n      if (typeof items === 'string') {\n        items = items.split(delim);\n      }\n      map = map || {};\n      i = items.length;\n      while (i--) {\n        map[items[i]] = {};\n      }\n      return map;\n    };\n    var hasOwnProperty = has$2;\n    var create$9 = function (s, p, root) {\n      var self = this;\n      var sp, scn, c, de = 0;\n      s = /^((static) )?([\\w.]+)(:([\\w.]+))?/.exec(s);\n      var cn = s[3].match(/(^|\\.)(\\w+)$/i)[2];\n      var ns = self.createNS(s[3].replace(/\\.\\w+$/, ''), root);\n      if (ns[cn]) {\n        return;\n      }\n      if (s[2] === 'static') {\n        ns[cn] = p;\n        if (this.onCreate) {\n          this.onCreate(s[2], s[3], ns[cn]);\n        }\n        return;\n      }\n      if (!p[cn]) {\n        p[cn] = function () {\n        };\n        de = 1;\n      }\n      ns[cn] = p[cn];\n      self.extend(ns[cn].prototype, p);\n      if (s[5]) {\n        sp = self.resolve(s[5]).prototype;\n        scn = s[5].match(/\\.(\\w+)$/i)[1];\n        c = ns[cn];\n        if (de) {\n          ns[cn] = function () {\n            return sp[scn].apply(this, arguments);\n          };\n        } else {\n          ns[cn] = function () {\n            this.parent = sp[scn];\n            return c.apply(this, arguments);\n          };\n        }\n        ns[cn].prototype[cn] = ns[cn];\n        self.each(sp, function (f, n) {\n          ns[cn].prototype[n] = sp[n];\n        });\n        self.each(p, function (f, n) {\n          if (sp[n]) {\n            ns[cn].prototype[n] = function () {\n              this.parent = sp[n];\n              return f.apply(this, arguments);\n            };\n          } else {\n            if (n !== cn) {\n              ns[cn].prototype[n] = f;\n            }\n          }\n        });\n      }\n      self.each(p.static, function (f, n) {\n        ns[cn][n] = f;\n      });\n    };\n    var extend$6 = function (obj) {\n      var exts = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        exts[_i - 1] = arguments[_i];\n      }\n      for (var i = 0; i < exts.length; i++) {\n        var ext = exts[i];\n        for (var name_1 in ext) {\n          if (has$2(ext, name_1)) {\n            var value = ext[name_1];\n            if (value !== undefined) {\n              obj[name_1] = value;\n            }\n          }\n        }\n      }\n      return obj;\n    };\n    var walk$3 = function (o, f, n, s) {\n      s = s || this;\n      if (o) {\n        if (n) {\n          o = o[n];\n        }\n        each$i(o, function (o, i) {\n          if (f.call(s, o, i, n) === false) {\n            return false;\n          }\n          walk$3(o, f, n, s);\n        });\n      }\n    };\n    var createNS = function (n, o) {\n      var i, v;\n      o = o || window;\n      n = n.split('.');\n      for (i = 0; i < n.length; i++) {\n        v = n[i];\n        if (!o[v]) {\n          o[v] = {};\n        }\n        o = o[v];\n      }\n      return o;\n    };\n    var resolve$3 = function (n, o) {\n      var i, l;\n      o = o || window;\n      n = n.split('.');\n      for (i = 0, l = n.length; i < l; i++) {\n        o = o[n[i]];\n        if (!o) {\n          break;\n        }\n      }\n      return o;\n    };\n    var explode$4 = function (s, d) {\n      if (!s || is$3(s, 'array')) {\n        return s;\n      }\n      return map$1(s.split(d || ','), trim$4);\n    };\n    var _addCacheSuffix = function (url) {\n      var cacheSuffix = Env.cacheSuffix;\n      if (cacheSuffix) {\n        url += (url.indexOf('?') === -1 ? '?' : '&') + cacheSuffix;\n      }\n      return url;\n    };\n    var Tools = {\n      trim: trim$4,\n      isArray: isArray,\n      is: is$3,\n      toArray: toArray$1,\n      makeMap: makeMap$4,\n      each: each$i,\n      map: map$1,\n      grep: filter$2,\n      inArray: indexOf$1,\n      hasOwn: hasOwnProperty,\n      extend: extend$6,\n      create: create$9,\n      walk: walk$3,\n      createNS: createNS,\n      resolve: resolve$3,\n      explode: explode$4,\n      _addCacheSuffix: _addCacheSuffix\n    };\n\n    var fromHtml$1 = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom$2(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom$2(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom$2(node);\n    };\n    var fromDom$2 = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    var fromPoint$1 = function (docElm, x, y) {\n      return Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom$2);\n    };\n    var SugarElement = {\n      fromHtml: fromHtml$1,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom$2,\n      fromPoint: fromPoint$1\n    };\n\n    var toArray = function (target, f) {\n      var r = [];\n      var recurse = function (e) {\n        r.push(e);\n        return f(e);\n      };\n      var cur = f(target);\n      do {\n        cur = cur.bind(recurse);\n      } while (cur.isSome());\n      return r;\n    };\n\n    var compareDocumentPosition = function (a, b, match) {\n      return (a.compareDocumentPosition(b) & match) !== 0;\n    };\n    var documentPositionContainedBy = function (a, b) {\n      return compareDocumentPosition(a, b, Node.DOCUMENT_POSITION_CONTAINED_BY);\n    };\n\n    var COMMENT = 8;\n    var DOCUMENT = 9;\n    var DOCUMENT_FRAGMENT = 11;\n    var ELEMENT = 1;\n    var TEXT = 3;\n\n    var is$2 = function (element, selector) {\n      var dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        var elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    var bypassSelector = function (dom) {\n      return dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    };\n    var all = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$3(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    var one = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    var eq = function (e1, e2) {\n      return e1.dom === e2.dom;\n    };\n    var regularContains = function (e1, e2) {\n      var d1 = e1.dom;\n      var d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    var ieContains = function (e1, e2) {\n      return documentPositionContainedBy(e1.dom, e2.dom);\n    };\n    var contains$1 = function (e1, e2) {\n      return detect().browser.isIE() ? ieContains(e1, e2) : regularContains(e1, e2);\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var name = function (element) {\n      var r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    var type = function (element) {\n      return element.dom.nodeType;\n    };\n    var isType = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isComment$1 = function (element) {\n      return type(element) === COMMENT || name(element) === '#comment';\n    };\n    var isElement$6 = isType(ELEMENT);\n    var isText$8 = isType(TEXT);\n    var isDocument$2 = isType(DOCUMENT);\n    var isDocumentFragment$1 = isType(DOCUMENT_FRAGMENT);\n    var isTag = function (tag) {\n      return function (e) {\n        return isElement$6(e) && name(e) === tag;\n      };\n    };\n\n    var owner$1 = function (element) {\n      return SugarElement.fromDom(element.dom.ownerDocument);\n    };\n    var documentOrOwner = function (dos) {\n      return isDocument$2(dos) ? dos : owner$1(dos);\n    };\n    var documentElement = function (element) {\n      return SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    };\n    var defaultView = function (element) {\n      return SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    };\n    var parent = function (element) {\n      return Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    };\n    var parents$1 = function (element, isRoot) {\n      var stop = isFunction(isRoot) ? isRoot : never;\n      var dom = element.dom;\n      var ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        var rawParent = dom.parentNode;\n        var p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    var siblings = function (element) {\n      var filterSelf = function (elements) {\n        return filter$4(elements, function (x) {\n          return !eq(element, x);\n        });\n      };\n      return parent(element).map(children).map(filterSelf).getOr([]);\n    };\n    var prevSibling = function (element) {\n      return Optional.from(element.dom.previousSibling).map(SugarElement.fromDom);\n    };\n    var nextSibling = function (element) {\n      return Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    };\n    var prevSiblings = function (element) {\n      return reverse(toArray(element, prevSibling));\n    };\n    var nextSiblings = function (element) {\n      return toArray(element, nextSibling);\n    };\n    var children = function (element) {\n      return map$3(element.dom.childNodes, SugarElement.fromDom);\n    };\n    var child$1 = function (element, index) {\n      var cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    var firstChild = function (element) {\n      return child$1(element, 0);\n    };\n    var lastChild = function (element) {\n      return child$1(element, element.dom.childNodes.length - 1);\n    };\n    var childNodesCount = function (element) {\n      return element.dom.childNodes.length;\n    };\n\n    var getHead = function (doc) {\n      var b = doc.dom.head;\n      if (b === null || b === undefined) {\n        throw new Error('Head is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    var isShadowRoot = function (dos) {\n      return isDocumentFragment$1(dos) && isNonNullable(dos.dom.host);\n    };\n    var supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    var isSupported$1 = constant(supported);\n    var getRootNode = supported ? function (e) {\n      return SugarElement.fromDom(e.dom.getRootNode());\n    } : documentOrOwner;\n    var getStyleContainer = function (dos) {\n      return isShadowRoot(dos) ? dos : getHead(documentOrOwner(dos));\n    };\n    var getShadowRoot = function (e) {\n      var r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    var getShadowHost = function (e) {\n      return SugarElement.fromDom(e.dom.host);\n    };\n    var getOriginalEventTarget = function (event) {\n      if (isSupported$1() && isNonNullable(event.target)) {\n        var el = SugarElement.fromDom(event.target);\n        if (isElement$6(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            var composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    var isOpenShadowHost = function (element) {\n      return isNonNullable(element.dom.shadowRoot);\n    };\n\n    var before$4 = function (marker, element) {\n      var parent$1 = parent(marker);\n      parent$1.each(function (v) {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    var after$3 = function (marker, element) {\n      var sibling = nextSibling(marker);\n      sibling.fold(function () {\n        var parent$1 = parent(marker);\n        parent$1.each(function (v) {\n          append$1(v, element);\n        });\n      }, function (v) {\n        before$4(v, element);\n      });\n    };\n    var prepend = function (parent, element) {\n      var firstChild$1 = firstChild(parent);\n      firstChild$1.fold(function () {\n        append$1(parent, element);\n      }, function (v) {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    var append$1 = function (parent, element) {\n      parent.dom.appendChild(element.dom);\n    };\n    var wrap$3 = function (element, wrapper) {\n      before$4(element, wrapper);\n      append$1(wrapper, element);\n    };\n\n    var before$3 = function (marker, elements) {\n      each$k(elements, function (x) {\n        before$4(marker, x);\n      });\n    };\n    var append = function (parent, elements) {\n      each$k(elements, function (x) {\n        append$1(parent, x);\n      });\n    };\n\n    var empty = function (element) {\n      element.dom.textContent = '';\n      each$k(children(element), function (rogue) {\n        remove$7(rogue);\n      });\n    };\n    var remove$7 = function (element) {\n      var dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    var unwrap = function (wrapper) {\n      var children$1 = children(wrapper);\n      if (children$1.length > 0) {\n        before$3(wrapper, children$1);\n      }\n      remove$7(wrapper);\n    };\n\n    var inBody = function (element) {\n      var dom = isText$8(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      var doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(function () {\n        return doc.body.contains(dom);\n      }, compose1(inBody, getShadowHost));\n    };\n\n    var r = function (left, top) {\n      var translate = function (x, y) {\n        return r(left + x, top + y);\n      };\n      return {\n        left: left,\n        top: top,\n        translate: translate\n      };\n    };\n    var SugarPosition = r;\n\n    var boxPosition = function (dom) {\n      var box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    var firstDefinedOrZero = function (a, b) {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    var absolute = function (element) {\n      var doc = element.dom.ownerDocument;\n      var body = doc.body;\n      var win = doc.defaultView;\n      var html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      var scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      var scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      var clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      var clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    var viewport = function (element) {\n      var dom = element.dom;\n      var doc = dom.ownerDocument;\n      var body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    var get$8 = function (_DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom : document;\n      var x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      var y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    var to = function (x, y, _DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom : document;\n      var win = doc.defaultView;\n      if (win) {\n        win.scrollTo(x, y);\n      }\n    };\n    var intoView = function (element, alignToTop) {\n      var isSafari = detect().browser.isSafari();\n      if (isSafari && isFunction(element.dom.scrollIntoViewIfNeeded)) {\n        element.dom.scrollIntoViewIfNeeded(false);\n      } else {\n        element.dom.scrollIntoView(alignToTop);\n      }\n    };\n\n    var get$7 = function (_win) {\n      var win = _win === undefined ? window : _win;\n      if (detect().browser.isFirefox()) {\n        return Optional.none();\n      } else {\n        return Optional.from(win['visualViewport']);\n      }\n    };\n    var bounds = function (x, y, width, height) {\n      return {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        right: x + width,\n        bottom: y + height\n      };\n    };\n    var getBounds = function (_win) {\n      var win = _win === undefined ? window : _win;\n      var doc = win.document;\n      var scroll = get$8(SugarElement.fromDom(doc));\n      return get$7(win).fold(function () {\n        var html = win.document.documentElement;\n        var width = html.clientWidth;\n        var height = html.clientHeight;\n        return bounds(scroll.left, scroll.top, width, height);\n      }, function (visualViewport) {\n        return bounds(Math.max(visualViewport.pageLeft, scroll.left), Math.max(visualViewport.pageTop, scroll.top), visualViewport.width, visualViewport.height);\n      });\n    };\n\n    var isNodeType = function (type) {\n      return function (node) {\n        return !!node && node.nodeType === type;\n      };\n    };\n    var isRestrictedNode = function (node) {\n      return !!node && !Object.getPrototypeOf(node);\n    };\n    var isElement$5 = isNodeType(1);\n    var matchNodeNames = function (names) {\n      var lowercasedNames = names.map(function (s) {\n        return s.toLowerCase();\n      });\n      return function (node) {\n        if (node && node.nodeName) {\n          var nodeName = node.nodeName.toLowerCase();\n          return contains$3(lowercasedNames, nodeName);\n        }\n        return false;\n      };\n    };\n    var matchStyleValues = function (name, values) {\n      var items = values.toLowerCase().split(' ');\n      return function (node) {\n        if (isElement$5(node)) {\n          for (var i = 0; i < items.length; i++) {\n            var computed = node.ownerDocument.defaultView.getComputedStyle(node, null);\n            var cssValue = computed ? computed.getPropertyValue(name) : null;\n            if (cssValue === items[i]) {\n              return true;\n            }\n          }\n        }\n        return false;\n      };\n    };\n    var hasAttribute = function (attrName) {\n      return function (node) {\n        return isElement$5(node) && node.hasAttribute(attrName);\n      };\n    };\n    var hasAttributeValue = function (attrName, attrValue) {\n      return function (node) {\n        return isElement$5(node) && node.getAttribute(attrName) === attrValue;\n      };\n    };\n    var isBogus$2 = function (node) {\n      return isElement$5(node) && node.hasAttribute('data-mce-bogus');\n    };\n    var isBogusAll$1 = function (node) {\n      return isElement$5(node) && node.getAttribute('data-mce-bogus') === 'all';\n    };\n    var isTable$3 = function (node) {\n      return isElement$5(node) && node.tagName === 'TABLE';\n    };\n    var hasContentEditableState = function (value) {\n      return function (node) {\n        if (isElement$5(node)) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    var isTextareaOrInput = matchNodeNames([\n      'textarea',\n      'input'\n    ]);\n    var isText$7 = isNodeType(3);\n    var isComment = isNodeType(8);\n    var isDocument$1 = isNodeType(9);\n    var isDocumentFragment = isNodeType(11);\n    var isBr$5 = matchNodeNames(['br']);\n    var isImg = matchNodeNames(['img']);\n    var isContentEditableTrue$4 = hasContentEditableState('true');\n    var isContentEditableFalse$b = hasContentEditableState('false');\n    var isTableCell$5 = matchNodeNames([\n      'td',\n      'th'\n    ]);\n    var isMedia$2 = matchNodeNames([\n      'video',\n      'audio',\n      'object',\n      'embed'\n    ]);\n\n    var is$1 = function (lhs, rhs, comparator) {\n      if (comparator === void 0) {\n        comparator = tripleEquals;\n      }\n      return lhs.exists(function (left) {\n        return comparator(left, rhs);\n      });\n    };\n    var cat = function (arr) {\n      var r = [];\n      var push = function (x) {\n        r.push(x);\n      };\n      for (var i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    var lift2 = function (oa, ob, f) {\n      return oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    };\n    var lift3 = function (oa, ob, oc, f) {\n      return oa.isSome() && ob.isSome() && oc.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie(), oc.getOrDie())) : Optional.none();\n    };\n    var someIf = function (b, a) {\n      return b ? Optional.some(a) : Optional.none();\n    };\n\n    var isSupported = function (dom) {\n      return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n    };\n\n    var rawSet = function (dom, key, value) {\n      if (isString$1(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set$1 = function (element, key, value) {\n      rawSet(element.dom, key, value);\n    };\n    var setAll$1 = function (element, attrs) {\n      var dom = element.dom;\n      each$j(attrs, function (v, k) {\n        rawSet(dom, k, v);\n      });\n    };\n    var get$6 = function (element, key) {\n      var v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    var getOpt = function (element, key) {\n      return Optional.from(get$6(element, key));\n    };\n    var has$1 = function (element, key) {\n      var dom = element.dom;\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n    };\n    var remove$6 = function (element, key) {\n      element.dom.removeAttribute(key);\n    };\n    var clone$3 = function (element) {\n      return foldl(element.dom.attributes, function (acc, attr) {\n        acc[attr.name] = attr.value;\n        return acc;\n      }, {});\n    };\n\n    var internalSet = function (dom, property, value) {\n      if (!isString$1(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    var setAll = function (element, css) {\n      var dom = element.dom;\n      each$j(css, function (v, k) {\n        internalSet(dom, k, v);\n      });\n    };\n    var get$5 = function (element, property) {\n      var dom = element.dom;\n      var styles = window.getComputedStyle(dom);\n      var r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    var getUnsafeProperty = function (dom, property) {\n      return isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    };\n    var getRaw = function (element, property) {\n      var dom = element.dom;\n      var raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(function (r) {\n        return r.length > 0;\n      });\n    };\n    var getAllRaw = function (element) {\n      var css = {};\n      var dom = element.dom;\n      if (isSupported(dom)) {\n        for (var i = 0; i < dom.style.length; i++) {\n          var ruleName = dom.style.item(i);\n          css[ruleName] = dom.style[ruleName];\n        }\n      }\n      return css;\n    };\n    var reflow = function (e) {\n      return e.dom.offsetWidth;\n    };\n\n    var browser$3 = detect().browser;\n    var firstElement = function (nodes) {\n      return find$3(nodes, isElement$6);\n    };\n    var getTableCaptionDeltaY = function (elm) {\n      if (browser$3.isFirefox() && name(elm) === 'table') {\n        return firstElement(children(elm)).filter(function (elm) {\n          return name(elm) === 'caption';\n        }).bind(function (caption) {\n          return firstElement(nextSiblings(caption)).map(function (body) {\n            var bodyTop = body.dom.offsetTop;\n            var captionTop = caption.dom.offsetTop;\n            var captionHeight = caption.dom.offsetHeight;\n            return bodyTop <= captionTop ? -captionHeight : 0;\n          });\n        }).getOr(0);\n      } else {\n        return 0;\n      }\n    };\n    var hasChild = function (elm, child) {\n      return elm.children && contains$3(elm.children, child);\n    };\n    var getPos = function (body, elm, rootElm) {\n      var x = 0, y = 0;\n      var doc = body.ownerDocument;\n      rootElm = rootElm ? rootElm : body;\n      if (elm) {\n        if (rootElm === body && elm.getBoundingClientRect && get$5(SugarElement.fromDom(body), 'position') === 'static') {\n          var pos = elm.getBoundingClientRect();\n          x = pos.left + (doc.documentElement.scrollLeft || body.scrollLeft) - doc.documentElement.clientLeft;\n          y = pos.top + (doc.documentElement.scrollTop || body.scrollTop) - doc.documentElement.clientTop;\n          return {\n            x: x,\n            y: y\n          };\n        }\n        var offsetParent = elm;\n        while (offsetParent && offsetParent !== rootElm && offsetParent.nodeType && !hasChild(offsetParent, rootElm)) {\n          var castOffsetParent = offsetParent;\n          x += castOffsetParent.offsetLeft || 0;\n          y += castOffsetParent.offsetTop || 0;\n          offsetParent = castOffsetParent.offsetParent;\n        }\n        offsetParent = elm.parentNode;\n        while (offsetParent && offsetParent !== rootElm && offsetParent.nodeType && !hasChild(offsetParent, rootElm)) {\n          x -= offsetParent.scrollLeft || 0;\n          y -= offsetParent.scrollTop || 0;\n          offsetParent = offsetParent.parentNode;\n        }\n        y += getTableCaptionDeltaY(SugarElement.fromDom(elm));\n      }\n      return {\n        x: x,\n        y: y\n      };\n    };\n\n    var exports$1 = {}, module$1 = { exports: exports$1 };\n    (function (define, exports, module, require) {\n      (function (global, factory) {\n        typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.EphoxContactWrapper = factory());\n      }(this, function () {\n        var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n        var promise = { exports: {} };\n        (function (module) {\n          (function (root) {\n            var setTimeoutFunc = setTimeout;\n            function noop() {\n            }\n            function bind(fn, thisArg) {\n              return function () {\n                fn.apply(thisArg, arguments);\n              };\n            }\n            function Promise(fn) {\n              if (typeof this !== 'object')\n                throw new TypeError('Promises must be constructed via new');\n              if (typeof fn !== 'function')\n                throw new TypeError('not a function');\n              this._state = 0;\n              this._handled = false;\n              this._value = undefined;\n              this._deferreds = [];\n              doResolve(fn, this);\n            }\n            function handle(self, deferred) {\n              while (self._state === 3) {\n                self = self._value;\n              }\n              if (self._state === 0) {\n                self._deferreds.push(deferred);\n                return;\n              }\n              self._handled = true;\n              Promise._immediateFn(function () {\n                var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n                if (cb === null) {\n                  (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n                  return;\n                }\n                var ret;\n                try {\n                  ret = cb(self._value);\n                } catch (e) {\n                  reject(deferred.promise, e);\n                  return;\n                }\n                resolve(deferred.promise, ret);\n              });\n            }\n            function resolve(self, newValue) {\n              try {\n                if (newValue === self)\n                  throw new TypeError('A promise cannot be resolved with itself.');\n                if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n                  var then = newValue.then;\n                  if (newValue instanceof Promise) {\n                    self._state = 3;\n                    self._value = newValue;\n                    finale(self);\n                    return;\n                  } else if (typeof then === 'function') {\n                    doResolve(bind(then, newValue), self);\n                    return;\n                  }\n                }\n                self._state = 1;\n                self._value = newValue;\n                finale(self);\n              } catch (e) {\n                reject(self, e);\n              }\n            }\n            function reject(self, newValue) {\n              self._state = 2;\n              self._value = newValue;\n              finale(self);\n            }\n            function finale(self) {\n              if (self._state === 2 && self._deferreds.length === 0) {\n                Promise._immediateFn(function () {\n                  if (!self._handled) {\n                    Promise._unhandledRejectionFn(self._value);\n                  }\n                });\n              }\n              for (var i = 0, len = self._deferreds.length; i < len; i++) {\n                handle(self, self._deferreds[i]);\n              }\n              self._deferreds = null;\n            }\n            function Handler(onFulfilled, onRejected, promise) {\n              this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n              this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n              this.promise = promise;\n            }\n            function doResolve(fn, self) {\n              var done = false;\n              try {\n                fn(function (value) {\n                  if (done)\n                    return;\n                  done = true;\n                  resolve(self, value);\n                }, function (reason) {\n                  if (done)\n                    return;\n                  done = true;\n                  reject(self, reason);\n                });\n              } catch (ex) {\n                if (done)\n                  return;\n                done = true;\n                reject(self, ex);\n              }\n            }\n            Promise.prototype['catch'] = function (onRejected) {\n              return this.then(null, onRejected);\n            };\n            Promise.prototype.then = function (onFulfilled, onRejected) {\n              var prom = new this.constructor(noop);\n              handle(this, new Handler(onFulfilled, onRejected, prom));\n              return prom;\n            };\n            Promise.all = function (arr) {\n              var args = Array.prototype.slice.call(arr);\n              return new Promise(function (resolve, reject) {\n                if (args.length === 0)\n                  return resolve([]);\n                var remaining = args.length;\n                function res(i, val) {\n                  try {\n                    if (val && (typeof val === 'object' || typeof val === 'function')) {\n                      var then = val.then;\n                      if (typeof then === 'function') {\n                        then.call(val, function (val) {\n                          res(i, val);\n                        }, reject);\n                        return;\n                      }\n                    }\n                    args[i] = val;\n                    if (--remaining === 0) {\n                      resolve(args);\n                    }\n                  } catch (ex) {\n                    reject(ex);\n                  }\n                }\n                for (var i = 0; i < args.length; i++) {\n                  res(i, args[i]);\n                }\n              });\n            };\n            Promise.resolve = function (value) {\n              if (value && typeof value === 'object' && value.constructor === Promise) {\n                return value;\n              }\n              return new Promise(function (resolve) {\n                resolve(value);\n              });\n            };\n            Promise.reject = function (value) {\n              return new Promise(function (resolve, reject) {\n                reject(value);\n              });\n            };\n            Promise.race = function (values) {\n              return new Promise(function (resolve, reject) {\n                for (var i = 0, len = values.length; i < len; i++) {\n                  values[i].then(resolve, reject);\n                }\n              });\n            };\n            Promise._immediateFn = typeof setImmediate === 'function' ? function (fn) {\n              setImmediate(fn);\n            } : function (fn) {\n              setTimeoutFunc(fn, 0);\n            };\n            Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n              if (typeof console !== 'undefined' && console) {\n                console.warn('Possible Unhandled Promise Rejection:', err);\n              }\n            };\n            Promise._setImmediateFn = function _setImmediateFn(fn) {\n              Promise._immediateFn = fn;\n            };\n            Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n              Promise._unhandledRejectionFn = fn;\n            };\n            if (module.exports) {\n              module.exports = Promise;\n            } else if (!root.Promise) {\n              root.Promise = Promise;\n            }\n          }(commonjsGlobal));\n        }(promise));\n        var promisePolyfill = promise.exports;\n        var Global = function () {\n          if (typeof window !== 'undefined') {\n            return window;\n          } else {\n            return Function('return this;')();\n          }\n        }();\n        var promisePolyfill_1 = { boltExport: Global.Promise || promisePolyfill };\n        return promisePolyfill_1;\n      }));\n    }(undefined, exports$1, module$1));\n    var Promise$1 = module$1.exports.boltExport;\n\n    var nu$1 = function (baseFn) {\n      var data = Optional.none();\n      var callbacks = [];\n      var map = function (f) {\n        return nu$1(function (nCallback) {\n          get(function (data) {\n            nCallback(f(data));\n          });\n        });\n      };\n      var get = function (nCallback) {\n        if (isReady()) {\n          call(nCallback);\n        } else {\n          callbacks.push(nCallback);\n        }\n      };\n      var set = function (x) {\n        if (!isReady()) {\n          data = Optional.some(x);\n          run(callbacks);\n          callbacks = [];\n        }\n      };\n      var isReady = function () {\n        return data.isSome();\n      };\n      var run = function (cbs) {\n        each$k(cbs, call);\n      };\n      var call = function (cb) {\n        data.each(function (x) {\n          setTimeout(function () {\n            cb(x);\n          }, 0);\n        });\n      };\n      baseFn(set);\n      return {\n        get: get,\n        map: map,\n        isReady: isReady\n      };\n    };\n    var pure$1 = function (a) {\n      return nu$1(function (callback) {\n        callback(a);\n      });\n    };\n    var LazyValue = {\n      nu: nu$1,\n      pure: pure$1\n    };\n\n    var errorReporter = function (err) {\n      setTimeout(function () {\n        throw err;\n      }, 0);\n    };\n    var make = function (run) {\n      var get = function (callback) {\n        run().then(callback, errorReporter);\n      };\n      var map = function (fab) {\n        return make(function () {\n          return run().then(fab);\n        });\n      };\n      var bind = function (aFutureB) {\n        return make(function () {\n          return run().then(function (v) {\n            return aFutureB(v).toPromise();\n          });\n        });\n      };\n      var anonBind = function (futureB) {\n        return make(function () {\n          return run().then(function () {\n            return futureB.toPromise();\n          });\n        });\n      };\n      var toLazy = function () {\n        return LazyValue.nu(get);\n      };\n      var toCached = function () {\n        var cache = null;\n        return make(function () {\n          if (cache === null) {\n            cache = run();\n          }\n          return cache;\n        });\n      };\n      var toPromise = run;\n      return {\n        map: map,\n        bind: bind,\n        anonBind: anonBind,\n        toLazy: toLazy,\n        toCached: toCached,\n        toPromise: toPromise,\n        get: get\n      };\n    };\n    var nu = function (baseFn) {\n      return make(function () {\n        return new Promise$1(baseFn);\n      });\n    };\n    var pure = function (a) {\n      return make(function () {\n        return Promise$1.resolve(a);\n      });\n    };\n    var Future = {\n      nu: nu,\n      pure: pure\n    };\n\n    var par$1 = function (asyncValues, nu) {\n      return nu(function (callback) {\n        var r = [];\n        var count = 0;\n        var cb = function (i) {\n          return function (value) {\n            r[i] = value;\n            count++;\n            if (count >= asyncValues.length) {\n              callback(r);\n            }\n          };\n        };\n        if (asyncValues.length === 0) {\n          callback([]);\n        } else {\n          each$k(asyncValues, function (asyncValue, i) {\n            asyncValue.get(cb(i));\n          });\n        }\n      });\n    };\n\n    var par = function (futures) {\n      return par$1(futures, Future.nu);\n    };\n\n    var value$1 = function (o) {\n      var or = function (_opt) {\n        return value$1(o);\n      };\n      var orThunk = function (_f) {\n        return value$1(o);\n      };\n      var map = function (f) {\n        return value$1(f(o));\n      };\n      var mapError = function (_f) {\n        return value$1(o);\n      };\n      var each = function (f) {\n        f(o);\n      };\n      var bind = function (f) {\n        return f(o);\n      };\n      var fold = function (_, onValue) {\n        return onValue(o);\n      };\n      var exists = function (f) {\n        return f(o);\n      };\n      var forall = function (f) {\n        return f(o);\n      };\n      var toOptional = function () {\n        return Optional.some(o);\n      };\n      return {\n        isValue: always,\n        isError: never,\n        getOr: constant(o),\n        getOrThunk: constant(o),\n        getOrDie: constant(o),\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: each,\n        bind: bind,\n        exists: exists,\n        forall: forall,\n        toOptional: toOptional\n      };\n    };\n    var error = function (message) {\n      var getOrThunk = function (f) {\n        return f();\n      };\n      var getOrDie = function () {\n        return die(String(message))();\n      };\n      var or = identity;\n      var orThunk = function (f) {\n        return f();\n      };\n      var map = function (_f) {\n        return error(message);\n      };\n      var mapError = function (f) {\n        return error(f(message));\n      };\n      var bind = function (_f) {\n        return error(message);\n      };\n      var fold = function (onError, _) {\n        return onError(message);\n      };\n      return {\n        isValue: never,\n        isError: always,\n        getOr: identity,\n        getOrThunk: getOrThunk,\n        getOrDie: getOrDie,\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: noop,\n        bind: bind,\n        exists: never,\n        forall: always,\n        toOptional: Optional.none\n      };\n    };\n    var fromOption = function (opt, err) {\n      return opt.fold(function () {\n        return error(err);\n      }, value$1);\n    };\n    var Result = {\n      value: value$1,\n      error: error,\n      fromOption: fromOption\n    };\n\n    var generate$1 = function (cases) {\n      if (!isArray$1(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      var constructors = [];\n      var adt = {};\n      each$k(cases, function (acase, count) {\n        var keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        var key = keys$1[0];\n        var value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray$1(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          var argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          var match = function (branches) {\n            var branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            var allReqd = forall(constructors, function (reqKey) {\n              return contains$3(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: function () {\n              var foldArgs = [];\n              for (var _i = 0; _i < arguments.length; _i++) {\n                foldArgs[_i] = arguments[_i];\n              }\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              var target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match: match,\n            log: function (label) {\n              console.log(label, {\n                constructors: constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    var Adt = { generate: generate$1 };\n\n    Adt.generate([\n      {\n        bothErrors: [\n          'error1',\n          'error2'\n        ]\n      },\n      {\n        firstError: [\n          'error1',\n          'value2'\n        ]\n      },\n      {\n        secondError: [\n          'value1',\n          'error2'\n        ]\n      },\n      {\n        bothValues: [\n          'value1',\n          'value2'\n        ]\n      }\n    ]);\n    var unite = function (result) {\n      return result.fold(identity, identity);\n    };\n\n    function ClosestOrAncestor (is, ancestor, scope, a, isRoot) {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    }\n\n    var ancestor$3 = function (scope, predicate, isRoot) {\n      var element = scope.dom;\n      var stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var closest$3 = function (scope, predicate, isRoot) {\n      var is = function (s, test) {\n        return test(s);\n      };\n      return ClosestOrAncestor(is, ancestor$3, scope, predicate, isRoot);\n    };\n    var sibling$2 = function (scope, predicate) {\n      var element = scope.dom;\n      if (!element.parentNode) {\n        return Optional.none();\n      }\n      return child(SugarElement.fromDom(element.parentNode), function (x) {\n        return !eq(scope, x) && predicate(x);\n      });\n    };\n    var child = function (scope, predicate) {\n      var pred = function (node) {\n        return predicate(SugarElement.fromDom(node));\n      };\n      var result = find$3(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n\n    var ancestor$2 = function (scope, selector, isRoot) {\n      return ancestor$3(scope, function (e) {\n        return is$2(e, selector);\n      }, isRoot);\n    };\n    var descendant = function (scope, selector) {\n      return one(selector, scope);\n    };\n    var closest$2 = function (scope, selector, isRoot) {\n      var is = function (element, selector) {\n        return is$2(element, selector);\n      };\n      return ClosestOrAncestor(is, ancestor$2, scope, selector, isRoot);\n    };\n\n    var promiseObj = window.Promise ? window.Promise : Promise$1;\n\n    var requestAnimationFramePromise;\n    var requestAnimationFrame = function (callback, element) {\n      var requestAnimationFrameFunc = window.requestAnimationFrame;\n      var vendors = [\n        'ms',\n        'moz',\n        'webkit'\n      ];\n      var featurefill = function (cb) {\n        window.setTimeout(cb, 0);\n      };\n      for (var i = 0; i < vendors.length && !requestAnimationFrameFunc; i++) {\n        requestAnimationFrameFunc = window[vendors[i] + 'RequestAnimationFrame'];\n      }\n      if (!requestAnimationFrameFunc) {\n        requestAnimationFrameFunc = featurefill;\n      }\n      requestAnimationFrameFunc(callback, element);\n    };\n    var wrappedSetTimeout = function (callback, time) {\n      if (typeof time !== 'number') {\n        time = 0;\n      }\n      return setTimeout(callback, time);\n    };\n    var wrappedSetInterval = function (callback, time) {\n      if (typeof time !== 'number') {\n        time = 1;\n      }\n      return setInterval(callback, time);\n    };\n    var wrappedClearTimeout = function (id) {\n      return clearTimeout(id);\n    };\n    var wrappedClearInterval = function (id) {\n      return clearInterval(id);\n    };\n    var debounce = function (callback, time) {\n      var timer;\n      var func = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        clearTimeout(timer);\n        timer = wrappedSetTimeout(function () {\n          callback.apply(this, args);\n        }, time);\n      };\n      func.stop = function () {\n        clearTimeout(timer);\n      };\n      return func;\n    };\n    var Delay = {\n      requestAnimationFrame: function (callback, element) {\n        if (requestAnimationFramePromise) {\n          requestAnimationFramePromise.then(callback);\n          return;\n        }\n        requestAnimationFramePromise = new promiseObj(function (resolve) {\n          if (!element) {\n            element = document.body;\n          }\n          requestAnimationFrame(resolve, element);\n        }).then(callback);\n      },\n      setTimeout: wrappedSetTimeout,\n      setInterval: wrappedSetInterval,\n      setEditorTimeout: function (editor, callback, time) {\n        return wrappedSetTimeout(function () {\n          if (!editor.removed) {\n            callback();\n          }\n        }, time);\n      },\n      setEditorInterval: function (editor, callback, time) {\n        var timer = wrappedSetInterval(function () {\n          if (!editor.removed) {\n            callback();\n          } else {\n            clearInterval(timer);\n          }\n        }, time);\n        return timer;\n      },\n      debounce: debounce,\n      throttle: debounce,\n      clearInterval: wrappedClearInterval,\n      clearTimeout: wrappedClearTimeout\n    };\n\n    var StyleSheetLoader = function (documentOrShadowRoot, settings) {\n      if (settings === void 0) {\n        settings = {};\n      }\n      var idCount = 0;\n      var loadedStates = {};\n      var edos = SugarElement.fromDom(documentOrShadowRoot);\n      var doc = documentOrOwner(edos);\n      var maxLoadTime = settings.maxLoadTime || 5000;\n      var _setReferrerPolicy = function (referrerPolicy) {\n        settings.referrerPolicy = referrerPolicy;\n      };\n      var addStyle = function (element) {\n        append$1(getStyleContainer(edos), element);\n      };\n      var removeStyle = function (id) {\n        var styleContainer = getStyleContainer(edos);\n        descendant(styleContainer, '#' + id).each(remove$7);\n      };\n      var getOrCreateState = function (url) {\n        return get$9(loadedStates, url).getOrThunk(function () {\n          return {\n            id: 'mce-u' + idCount++,\n            passed: [],\n            failed: [],\n            count: 0\n          };\n        });\n      };\n      var load = function (url, success, failure) {\n        var link;\n        var urlWithSuffix = Tools._addCacheSuffix(url);\n        var state = getOrCreateState(urlWithSuffix);\n        loadedStates[urlWithSuffix] = state;\n        state.count++;\n        var resolve = function (callbacks, status) {\n          var i = callbacks.length;\n          while (i--) {\n            callbacks[i]();\n          }\n          state.status = status;\n          state.passed = [];\n          state.failed = [];\n          if (link) {\n            link.onload = null;\n            link.onerror = null;\n            link = null;\n          }\n        };\n        var passed = function () {\n          return resolve(state.passed, 2);\n        };\n        var failed = function () {\n          return resolve(state.failed, 3);\n        };\n        var wait = function (testCallback, waitCallback) {\n          if (!testCallback()) {\n            if (Date.now() - startTime < maxLoadTime) {\n              Delay.setTimeout(waitCallback);\n            } else {\n              failed();\n            }\n          }\n        };\n        var waitForWebKitLinkLoaded = function () {\n          wait(function () {\n            var styleSheets = documentOrShadowRoot.styleSheets;\n            var i = styleSheets.length;\n            while (i--) {\n              var styleSheet = styleSheets[i];\n              var owner = styleSheet.ownerNode;\n              if (owner && owner.id === link.id) {\n                passed();\n                return true;\n              }\n            }\n            return false;\n          }, waitForWebKitLinkLoaded);\n        };\n        if (success) {\n          state.passed.push(success);\n        }\n        if (failure) {\n          state.failed.push(failure);\n        }\n        if (state.status === 1) {\n          return;\n        }\n        if (state.status === 2) {\n          passed();\n          return;\n        }\n        if (state.status === 3) {\n          failed();\n          return;\n        }\n        state.status = 1;\n        var linkElem = SugarElement.fromTag('link', doc.dom);\n        setAll$1(linkElem, {\n          rel: 'stylesheet',\n          type: 'text/css',\n          id: state.id\n        });\n        var startTime = Date.now();\n        if (settings.contentCssCors) {\n          set$1(linkElem, 'crossOrigin', 'anonymous');\n        }\n        if (settings.referrerPolicy) {\n          set$1(linkElem, 'referrerpolicy', settings.referrerPolicy);\n        }\n        link = linkElem.dom;\n        link.onload = waitForWebKitLinkLoaded;\n        link.onerror = failed;\n        addStyle(linkElem);\n        set$1(linkElem, 'href', urlWithSuffix);\n      };\n      var loadF = function (url) {\n        return Future.nu(function (resolve) {\n          load(url, compose(resolve, constant(Result.value(url))), compose(resolve, constant(Result.error(url))));\n        });\n      };\n      var loadAll = function (urls, success, failure) {\n        par(map$3(urls, loadF)).get(function (result) {\n          var parts = partition(result, function (r) {\n            return r.isValue();\n          });\n          if (parts.fail.length > 0) {\n            failure(parts.fail.map(unite));\n          } else {\n            success(parts.pass.map(unite));\n          }\n        });\n      };\n      var unload = function (url) {\n        var urlWithSuffix = Tools._addCacheSuffix(url);\n        get$9(loadedStates, urlWithSuffix).each(function (state) {\n          var count = --state.count;\n          if (count === 0) {\n            delete loadedStates[urlWithSuffix];\n            removeStyle(state.id);\n          }\n        });\n      };\n      var unloadAll = function (urls) {\n        each$k(urls, function (url) {\n          unload(url);\n        });\n      };\n      return {\n        load: load,\n        loadAll: loadAll,\n        unload: unload,\n        unloadAll: unloadAll,\n        _setReferrerPolicy: _setReferrerPolicy\n      };\n    };\n\n    var create$8 = function () {\n      var map = new WeakMap();\n      var forElement = function (referenceElement, settings) {\n        var root = getRootNode(referenceElement);\n        var rootDom = root.dom;\n        return Optional.from(map.get(rootDom)).getOrThunk(function () {\n          var sl = StyleSheetLoader(rootDom, settings);\n          map.set(rootDom, sl);\n          return sl;\n        });\n      };\n      return { forElement: forElement };\n    };\n    var instance = create$8();\n\n    var DomTreeWalker = function () {\n      function DomTreeWalker(startNode, rootNode) {\n        this.node = startNode;\n        this.rootNode = rootNode;\n        this.current = this.current.bind(this);\n        this.next = this.next.bind(this);\n        this.prev = this.prev.bind(this);\n        this.prev2 = this.prev2.bind(this);\n      }\n      DomTreeWalker.prototype.current = function () {\n        return this.node;\n      };\n      DomTreeWalker.prototype.next = function (shallow) {\n        this.node = this.findSibling(this.node, 'firstChild', 'nextSibling', shallow);\n        return this.node;\n      };\n      DomTreeWalker.prototype.prev = function (shallow) {\n        this.node = this.findSibling(this.node, 'lastChild', 'previousSibling', shallow);\n        return this.node;\n      };\n      DomTreeWalker.prototype.prev2 = function (shallow) {\n        this.node = this.findPreviousNode(this.node, 'lastChild', 'previousSibling', shallow);\n        return this.node;\n      };\n      DomTreeWalker.prototype.findSibling = function (node, startName, siblingName, shallow) {\n        var sibling, parent;\n        if (node) {\n          if (!shallow && node[startName]) {\n            return node[startName];\n          }\n          if (node !== this.rootNode) {\n            sibling = node[siblingName];\n            if (sibling) {\n              return sibling;\n            }\n            for (parent = node.parentNode; parent && parent !== this.rootNode; parent = parent.parentNode) {\n              sibling = parent[siblingName];\n              if (sibling) {\n                return sibling;\n              }\n            }\n          }\n        }\n      };\n      DomTreeWalker.prototype.findPreviousNode = function (node, startName, siblingName, shallow) {\n        var sibling, parent, child;\n        if (node) {\n          sibling = node[siblingName];\n          if (this.rootNode && sibling === this.rootNode) {\n            return;\n          }\n          if (sibling) {\n            if (!shallow) {\n              for (child = sibling[startName]; child; child = child[startName]) {\n                if (!child[startName]) {\n                  return child;\n                }\n              }\n            }\n            return sibling;\n          }\n          parent = node.parentNode;\n          if (parent && parent !== this.rootNode) {\n            return parent;\n          }\n        }\n      };\n      return DomTreeWalker;\n    }();\n\n    var blocks = [\n      'article',\n      'aside',\n      'details',\n      'div',\n      'dt',\n      'figcaption',\n      'footer',\n      'form',\n      'fieldset',\n      'header',\n      'hgroup',\n      'html',\n      'main',\n      'nav',\n      'section',\n      'summary',\n      'body',\n      'p',\n      'dl',\n      'multicol',\n      'dd',\n      'figure',\n      'address',\n      'center',\n      'blockquote',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'listing',\n      'xmp',\n      'pre',\n      'plaintext',\n      'menu',\n      'dir',\n      'ul',\n      'ol',\n      'li',\n      'hr',\n      'table',\n      'tbody',\n      'thead',\n      'tfoot',\n      'th',\n      'tr',\n      'td',\n      'caption'\n    ];\n    var tableCells = [\n      'td',\n      'th'\n    ];\n    var tableSections = [\n      'thead',\n      'tbody',\n      'tfoot'\n    ];\n    var textBlocks = [\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'p',\n      'div',\n      'address',\n      'pre',\n      'form',\n      'blockquote',\n      'center',\n      'dir',\n      'fieldset',\n      'header',\n      'footer',\n      'article',\n      'section',\n      'hgroup',\n      'aside',\n      'nav',\n      'figure'\n    ];\n    var headings = [\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6'\n    ];\n    var listItems$1 = [\n      'li',\n      'dd',\n      'dt'\n    ];\n    var lists = [\n      'ul',\n      'ol',\n      'dl'\n    ];\n    var wsElements = [\n      'pre',\n      'script',\n      'textarea',\n      'style'\n    ];\n    var lazyLookup = function (items) {\n      var lookup;\n      return function (node) {\n        lookup = lookup ? lookup : mapToObject(items, always);\n        return has$2(lookup, name(node));\n      };\n    };\n    var isHeading = lazyLookup(headings);\n    var isBlock$2 = lazyLookup(blocks);\n    var isTable$2 = function (node) {\n      return name(node) === 'table';\n    };\n    var isInline$1 = function (node) {\n      return isElement$6(node) && !isBlock$2(node);\n    };\n    var isBr$4 = function (node) {\n      return isElement$6(node) && name(node) === 'br';\n    };\n    var isTextBlock$2 = lazyLookup(textBlocks);\n    var isList = lazyLookup(lists);\n    var isListItem = lazyLookup(listItems$1);\n    var isTableSection = lazyLookup(tableSections);\n    var isTableCell$4 = lazyLookup(tableCells);\n    var isWsPreserveElement = lazyLookup(wsElements);\n\n    var ancestor$1 = function (scope, selector, isRoot) {\n      return ancestor$2(scope, selector, isRoot).isSome();\n    };\n\n    var zeroWidth = '\\uFEFF';\n    var nbsp = '\\xA0';\n    var isZwsp$1 = function (char) {\n      return char === zeroWidth;\n    };\n    var removeZwsp = function (s) {\n      return s.replace(/\\uFEFF/g, '');\n    };\n\n    var ZWSP$1 = zeroWidth;\n    var isZwsp = isZwsp$1;\n    var trim$3 = removeZwsp;\n\n    var isElement$4 = isElement$5;\n    var isText$6 = isText$7;\n    var isCaretContainerBlock$1 = function (node) {\n      if (isText$6(node)) {\n        node = node.parentNode;\n      }\n      return isElement$4(node) && node.hasAttribute('data-mce-caret');\n    };\n    var isCaretContainerInline = function (node) {\n      return isText$6(node) && isZwsp(node.data);\n    };\n    var isCaretContainer$2 = function (node) {\n      return isCaretContainerBlock$1(node) || isCaretContainerInline(node);\n    };\n    var hasContent = function (node) {\n      return node.firstChild !== node.lastChild || !isBr$5(node.firstChild);\n    };\n    var insertInline$1 = function (node, before) {\n      var doc = node.ownerDocument;\n      var textNode = doc.createTextNode(ZWSP$1);\n      var parentNode = node.parentNode;\n      if (!before) {\n        var sibling = node.nextSibling;\n        if (isText$6(sibling)) {\n          if (isCaretContainer$2(sibling)) {\n            return sibling;\n          }\n          if (startsWithCaretContainer$1(sibling)) {\n            sibling.splitText(1);\n            return sibling;\n          }\n        }\n        if (node.nextSibling) {\n          parentNode.insertBefore(textNode, node.nextSibling);\n        } else {\n          parentNode.appendChild(textNode);\n        }\n      } else {\n        var sibling = node.previousSibling;\n        if (isText$6(sibling)) {\n          if (isCaretContainer$2(sibling)) {\n            return sibling;\n          }\n          if (endsWithCaretContainer$1(sibling)) {\n            return sibling.splitText(sibling.data.length - 1);\n          }\n        }\n        parentNode.insertBefore(textNode, node);\n      }\n      return textNode;\n    };\n    var isBeforeInline = function (pos) {\n      var container = pos.container();\n      if (!isText$7(container)) {\n        return false;\n      }\n      return container.data.charAt(pos.offset()) === ZWSP$1 || pos.isAtStart() && isCaretContainerInline(container.previousSibling);\n    };\n    var isAfterInline = function (pos) {\n      var container = pos.container();\n      if (!isText$7(container)) {\n        return false;\n      }\n      return container.data.charAt(pos.offset() - 1) === ZWSP$1 || pos.isAtEnd() && isCaretContainerInline(container.nextSibling);\n    };\n    var createBogusBr = function () {\n      var br = document.createElement('br');\n      br.setAttribute('data-mce-bogus', '1');\n      return br;\n    };\n    var insertBlock$1 = function (blockName, node, before) {\n      var doc = node.ownerDocument;\n      var blockNode = doc.createElement(blockName);\n      blockNode.setAttribute('data-mce-caret', before ? 'before' : 'after');\n      blockNode.setAttribute('data-mce-bogus', 'all');\n      blockNode.appendChild(createBogusBr());\n      var parentNode = node.parentNode;\n      if (!before) {\n        if (node.nextSibling) {\n          parentNode.insertBefore(blockNode, node.nextSibling);\n        } else {\n          parentNode.appendChild(blockNode);\n        }\n      } else {\n        parentNode.insertBefore(blockNode, node);\n      }\n      return blockNode;\n    };\n    var startsWithCaretContainer$1 = function (node) {\n      return isText$6(node) && node.data[0] === ZWSP$1;\n    };\n    var endsWithCaretContainer$1 = function (node) {\n      return isText$6(node) && node.data[node.data.length - 1] === ZWSP$1;\n    };\n    var trimBogusBr = function (elm) {\n      var brs = elm.getElementsByTagName('br');\n      var lastBr = brs[brs.length - 1];\n      if (isBogus$2(lastBr)) {\n        lastBr.parentNode.removeChild(lastBr);\n      }\n    };\n    var showCaretContainerBlock = function (caretContainer) {\n      if (caretContainer && caretContainer.hasAttribute('data-mce-caret')) {\n        trimBogusBr(caretContainer);\n        caretContainer.removeAttribute('data-mce-caret');\n        caretContainer.removeAttribute('data-mce-bogus');\n        caretContainer.removeAttribute('style');\n        caretContainer.removeAttribute('_moz_abspos');\n        return caretContainer;\n      }\n      return null;\n    };\n    var isRangeInCaretContainerBlock = function (range) {\n      return isCaretContainerBlock$1(range.startContainer);\n    };\n\n    var isContentEditableTrue$3 = isContentEditableTrue$4;\n    var isContentEditableFalse$a = isContentEditableFalse$b;\n    var isBr$3 = isBr$5;\n    var isText$5 = isText$7;\n    var isInvalidTextElement = matchNodeNames([\n      'script',\n      'style',\n      'textarea'\n    ]);\n    var isAtomicInline = matchNodeNames([\n      'img',\n      'input',\n      'textarea',\n      'hr',\n      'iframe',\n      'video',\n      'audio',\n      'object',\n      'embed'\n    ]);\n    var isTable$1 = matchNodeNames(['table']);\n    var isCaretContainer$1 = isCaretContainer$2;\n    var isCaretCandidate$3 = function (node) {\n      if (isCaretContainer$1(node)) {\n        return false;\n      }\n      if (isText$5(node)) {\n        return !isInvalidTextElement(node.parentNode);\n      }\n      return isAtomicInline(node) || isBr$3(node) || isTable$1(node) || isNonUiContentEditableFalse(node);\n    };\n    var isUnselectable = function (node) {\n      return isElement$5(node) && node.getAttribute('unselectable') === 'true';\n    };\n    var isNonUiContentEditableFalse = function (node) {\n      return isUnselectable(node) === false && isContentEditableFalse$a(node);\n    };\n    var isInEditable = function (node, root) {\n      for (node = node.parentNode; node && node !== root; node = node.parentNode) {\n        if (isNonUiContentEditableFalse(node)) {\n          return false;\n        }\n        if (isContentEditableTrue$3(node)) {\n          return true;\n        }\n      }\n      return true;\n    };\n    var isAtomicContentEditableFalse = function (node) {\n      if (!isNonUiContentEditableFalse(node)) {\n        return false;\n      }\n      return foldl(from(node.getElementsByTagName('*')), function (result, elm) {\n        return result || isContentEditableTrue$3(elm);\n      }, false) !== true;\n    };\n    var isAtomic$1 = function (node) {\n      return isAtomicInline(node) || isAtomicContentEditableFalse(node);\n    };\n    var isEditableCaretCandidate$1 = function (node, root) {\n      return isCaretCandidate$3(node) && isInEditable(node, root);\n    };\n\n    var whiteSpaceRegExp$1 = /^[ \\t\\r\\n]*$/;\n    var isWhitespaceText = function (text) {\n      return whiteSpaceRegExp$1.test(text);\n    };\n\n    var hasWhitespacePreserveParent = function (node, rootNode) {\n      var rootElement = SugarElement.fromDom(rootNode);\n      var startNode = SugarElement.fromDom(node);\n      return ancestor$1(startNode, 'pre,code', curry(eq, rootElement));\n    };\n    var isWhitespace = function (node, rootNode) {\n      return isText$7(node) && isWhitespaceText(node.data) && hasWhitespacePreserveParent(node, rootNode) === false;\n    };\n    var isNamedAnchor = function (node) {\n      return isElement$5(node) && node.nodeName === 'A' && !node.hasAttribute('href') && (node.hasAttribute('name') || node.hasAttribute('id'));\n    };\n    var isContent$1 = function (node, rootNode) {\n      return isCaretCandidate$3(node) && isWhitespace(node, rootNode) === false || isNamedAnchor(node) || isBookmark(node);\n    };\n    var isBookmark = hasAttribute('data-mce-bookmark');\n    var isBogus$1 = hasAttribute('data-mce-bogus');\n    var isBogusAll = hasAttributeValue('data-mce-bogus', 'all');\n    var isEmptyNode = function (targetNode, skipBogus) {\n      var brCount = 0;\n      if (isContent$1(targetNode, targetNode)) {\n        return false;\n      } else {\n        var node = targetNode.firstChild;\n        if (!node) {\n          return true;\n        }\n        var walker = new DomTreeWalker(node, targetNode);\n        do {\n          if (skipBogus) {\n            if (isBogusAll(node)) {\n              node = walker.next(true);\n              continue;\n            }\n            if (isBogus$1(node)) {\n              node = walker.next();\n              continue;\n            }\n          }\n          if (isBr$5(node)) {\n            brCount++;\n            node = walker.next();\n            continue;\n          }\n          if (isContent$1(node, targetNode)) {\n            return false;\n          }\n          node = walker.next();\n        } while (node);\n        return brCount <= 1;\n      }\n    };\n    var isEmpty$2 = function (elm, skipBogus) {\n      if (skipBogus === void 0) {\n        skipBogus = true;\n      }\n      return isEmptyNode(elm.dom, skipBogus);\n    };\n\n    var isSpan = function (node) {\n      return node.nodeName.toLowerCase() === 'span';\n    };\n    var isInlineContent = function (node, root) {\n      return isNonNullable(node) && (isContent$1(node, root) || isInline$1(SugarElement.fromDom(node)));\n    };\n    var surroundedByInlineContent = function (node, root) {\n      var prev = new DomTreeWalker(node, root).prev(false);\n      var next = new DomTreeWalker(node, root).next(false);\n      var prevIsInline = isUndefined(prev) || isInlineContent(prev, root);\n      var nextIsInline = isUndefined(next) || isInlineContent(next, root);\n      return prevIsInline && nextIsInline;\n    };\n    var isBookmarkNode$2 = function (node) {\n      return isSpan(node) && node.getAttribute('data-mce-type') === 'bookmark';\n    };\n    var isKeepTextNode = function (node, root) {\n      return isText$7(node) && node.data.length > 0 && surroundedByInlineContent(node, root);\n    };\n    var isKeepElement = function (node) {\n      return isElement$5(node) ? node.childNodes.length > 0 : false;\n    };\n    var isDocument = function (node) {\n      return isDocumentFragment(node) || isDocument$1(node);\n    };\n    var trimNode = function (dom, node, root) {\n      var rootNode = root || node;\n      if (isElement$5(node) && isBookmarkNode$2(node)) {\n        return node;\n      }\n      var children = node.childNodes;\n      for (var i = children.length - 1; i >= 0; i--) {\n        trimNode(dom, children[i], rootNode);\n      }\n      if (isElement$5(node)) {\n        var currentChildren = node.childNodes;\n        if (currentChildren.length === 1 && isBookmarkNode$2(currentChildren[0])) {\n          node.parentNode.insertBefore(currentChildren[0], node);\n        }\n      }\n      if (!isDocument(node) && !isContent$1(node, rootNode) && !isKeepElement(node) && !isKeepTextNode(node, rootNode)) {\n        dom.remove(node);\n      }\n      return node;\n    };\n\n    var makeMap$3 = Tools.makeMap;\n    var attrsCharsRegExp = /[&<>\\\"\\u0060\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n    var textCharsRegExp = /[<>&\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n    var rawCharsRegExp = /[<>&\\\"\\']/g;\n    var entityRegExp = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi;\n    var asciiMap = {\n      128: '\\u20AC',\n      130: '\\u201A',\n      131: '\\u0192',\n      132: '\\u201E',\n      133: '\\u2026',\n      134: '\\u2020',\n      135: '\\u2021',\n      136: '\\u02c6',\n      137: '\\u2030',\n      138: '\\u0160',\n      139: '\\u2039',\n      140: '\\u0152',\n      142: '\\u017d',\n      145: '\\u2018',\n      146: '\\u2019',\n      147: '\\u201C',\n      148: '\\u201D',\n      149: '\\u2022',\n      150: '\\u2013',\n      151: '\\u2014',\n      152: '\\u02DC',\n      153: '\\u2122',\n      154: '\\u0161',\n      155: '\\u203A',\n      156: '\\u0153',\n      158: '\\u017e',\n      159: '\\u0178'\n    };\n    var baseEntities = {\n      '\"': '&quot;',\n      '\\'': '&#39;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '&': '&amp;',\n      '`': '&#96;'\n    };\n    var reverseEntities = {\n      '&lt;': '<',\n      '&gt;': '>',\n      '&amp;': '&',\n      '&quot;': '\"',\n      '&apos;': '\\''\n    };\n    var nativeDecode = function (text) {\n      var elm = SugarElement.fromTag('div').dom;\n      elm.innerHTML = text;\n      return elm.textContent || elm.innerText || text;\n    };\n    var buildEntitiesLookup = function (items, radix) {\n      var i, chr, entity;\n      var lookup = {};\n      if (items) {\n        items = items.split(',');\n        radix = radix || 10;\n        for (i = 0; i < items.length; i += 2) {\n          chr = String.fromCharCode(parseInt(items[i], radix));\n          if (!baseEntities[chr]) {\n            entity = '&' + items[i + 1] + ';';\n            lookup[chr] = entity;\n            lookup[entity] = chr;\n          }\n        }\n        return lookup;\n      }\n    };\n    var namedEntities = buildEntitiesLookup('50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,' + '5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,' + '5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,' + '5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,' + '68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,' + '6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,' + '6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,' + '75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,' + '7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,' + '7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,' + 'sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,' + 'st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,' + 't9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,' + 'tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,' + 'u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,' + '81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,' + '8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,' + '8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,' + '8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,' + '8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,' + 'nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,' + 'rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,' + 'Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,' + '80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,' + '811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro', 32);\n    var encodeRaw = function (text, attr) {\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n        return baseEntities[chr] || chr;\n      });\n    };\n    var encodeAllRaw = function (text) {\n      return ('' + text).replace(rawCharsRegExp, function (chr) {\n        return baseEntities[chr] || chr;\n      });\n    };\n    var encodeNumeric = function (text, attr) {\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n        if (chr.length > 1) {\n          return '&#' + ((chr.charCodeAt(0) - 55296) * 1024 + (chr.charCodeAt(1) - 56320) + 65536) + ';';\n        }\n        return baseEntities[chr] || '&#' + chr.charCodeAt(0) + ';';\n      });\n    };\n    var encodeNamed = function (text, attr, entities) {\n      entities = entities || namedEntities;\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n        return baseEntities[chr] || entities[chr] || chr;\n      });\n    };\n    var getEncodeFunc = function (name, entities) {\n      var entitiesMap = buildEntitiesLookup(entities) || namedEntities;\n      var encodeNamedAndNumeric = function (text, attr) {\n        return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n          if (baseEntities[chr] !== undefined) {\n            return baseEntities[chr];\n          }\n          if (entitiesMap[chr] !== undefined) {\n            return entitiesMap[chr];\n          }\n          if (chr.length > 1) {\n            return '&#' + ((chr.charCodeAt(0) - 55296) * 1024 + (chr.charCodeAt(1) - 56320) + 65536) + ';';\n          }\n          return '&#' + chr.charCodeAt(0) + ';';\n        });\n      };\n      var encodeCustomNamed = function (text, attr) {\n        return encodeNamed(text, attr, entitiesMap);\n      };\n      var nameMap = makeMap$3(name.replace(/\\+/g, ','));\n      if (nameMap.named && nameMap.numeric) {\n        return encodeNamedAndNumeric;\n      }\n      if (nameMap.named) {\n        if (entities) {\n          return encodeCustomNamed;\n        }\n        return encodeNamed;\n      }\n      if (nameMap.numeric) {\n        return encodeNumeric;\n      }\n      return encodeRaw;\n    };\n    var decode = function (text) {\n      return text.replace(entityRegExp, function (all, numeric) {\n        if (numeric) {\n          if (numeric.charAt(0).toLowerCase() === 'x') {\n            numeric = parseInt(numeric.substr(1), 16);\n          } else {\n            numeric = parseInt(numeric, 10);\n          }\n          if (numeric > 65535) {\n            numeric -= 65536;\n            return String.fromCharCode(55296 + (numeric >> 10), 56320 + (numeric & 1023));\n          }\n          return asciiMap[numeric] || String.fromCharCode(numeric);\n        }\n        return reverseEntities[all] || namedEntities[all] || nativeDecode(all);\n      });\n    };\n    var Entities = {\n      encodeRaw: encodeRaw,\n      encodeAllRaw: encodeAllRaw,\n      encodeNumeric: encodeNumeric,\n      encodeNamed: encodeNamed,\n      getEncodeFunc: getEncodeFunc,\n      decode: decode\n    };\n\n    var mapCache = {}, dummyObj = {};\n    var makeMap$2 = Tools.makeMap, each$h = Tools.each, extend$5 = Tools.extend, explode$3 = Tools.explode, inArray$2 = Tools.inArray;\n    var split$1 = function (items, delim) {\n      items = Tools.trim(items);\n      return items ? items.split(delim || ' ') : [];\n    };\n    var createMap = function (defaultValue, extendWith) {\n      var value = makeMap$2(defaultValue, ' ', makeMap$2(defaultValue.toUpperCase(), ' '));\n      return extend$5(value, extendWith);\n    };\n    var getTextRootBlockElements = function (schema) {\n      return createMap('td th li dt dd figcaption caption details summary', schema.getTextBlockElements());\n    };\n    var compileSchema = function (type) {\n      var schema = {};\n      var globalAttributes, blockContent;\n      var phrasingContent, flowContent, html4BlockContent, html4PhrasingContent;\n      var add = function (name, attributes, children) {\n        var ni, attributesOrder, element;\n        var arrayToMap = function (array, obj) {\n          var map = {};\n          var i, l;\n          for (i = 0, l = array.length; i < l; i++) {\n            map[array[i]] = obj || {};\n          }\n          return map;\n        };\n        children = children || [];\n        attributes = attributes || '';\n        if (typeof children === 'string') {\n          children = split$1(children);\n        }\n        var names = split$1(name);\n        ni = names.length;\n        while (ni--) {\n          attributesOrder = split$1([\n            globalAttributes,\n            attributes\n          ].join(' '));\n          element = {\n            attributes: arrayToMap(attributesOrder),\n            attributesOrder: attributesOrder,\n            children: arrayToMap(children, dummyObj)\n          };\n          schema[names[ni]] = element;\n        }\n      };\n      var addAttrs = function (name, attributes) {\n        var ni, schemaItem, i, l;\n        var names = split$1(name);\n        ni = names.length;\n        var attrs = split$1(attributes);\n        while (ni--) {\n          schemaItem = schema[names[ni]];\n          for (i = 0, l = attrs.length; i < l; i++) {\n            schemaItem.attributes[attrs[i]] = {};\n            schemaItem.attributesOrder.push(attrs[i]);\n          }\n        }\n      };\n      if (mapCache[type]) {\n        return mapCache[type];\n      }\n      globalAttributes = 'id accesskey class dir lang style tabindex title role';\n      blockContent = 'address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul';\n      phrasingContent = 'a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd ' + 'label map noscript object q s samp script select small span strong sub sup ' + 'textarea u var #text #comment';\n      if (type !== 'html4') {\n        globalAttributes += ' contenteditable contextmenu draggable dropzone ' + 'hidden spellcheck translate';\n        blockContent += ' article aside details dialog figure main header footer hgroup section nav';\n        phrasingContent += ' audio canvas command datalist mark meter output picture ' + 'progress time wbr video ruby bdi keygen';\n      }\n      if (type !== 'html5-strict') {\n        globalAttributes += ' xml:lang';\n        html4PhrasingContent = 'acronym applet basefont big font strike tt';\n        phrasingContent = [\n          phrasingContent,\n          html4PhrasingContent\n        ].join(' ');\n        each$h(split$1(html4PhrasingContent), function (name) {\n          add(name, '', phrasingContent);\n        });\n        html4BlockContent = 'center dir isindex noframes';\n        blockContent = [\n          blockContent,\n          html4BlockContent\n        ].join(' ');\n        flowContent = [\n          blockContent,\n          phrasingContent\n        ].join(' ');\n        each$h(split$1(html4BlockContent), function (name) {\n          add(name, '', flowContent);\n        });\n      }\n      flowContent = flowContent || [\n        blockContent,\n        phrasingContent\n      ].join(' ');\n      add('html', 'manifest', 'head body');\n      add('head', '', 'base command link meta noscript script style title');\n      add('title hr noscript br');\n      add('base', 'href target');\n      add('link', 'href rel media hreflang type sizes hreflang');\n      add('meta', 'name http-equiv content charset');\n      add('style', 'media type scoped');\n      add('script', 'src async defer type charset');\n      add('body', 'onafterprint onbeforeprint onbeforeunload onblur onerror onfocus ' + 'onhashchange onload onmessage onoffline ononline onpagehide onpageshow ' + 'onpopstate onresize onscroll onstorage onunload', flowContent);\n      add('address dt dd div caption', '', flowContent);\n      add('h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn', '', phrasingContent);\n      add('blockquote', 'cite', flowContent);\n      add('ol', 'reversed start type', 'li');\n      add('ul', '', 'li');\n      add('li', 'value', flowContent);\n      add('dl', '', 'dt dd');\n      add('a', 'href target rel media hreflang type', phrasingContent);\n      add('q', 'cite', phrasingContent);\n      add('ins del', 'cite datetime', flowContent);\n      add('img', 'src sizes srcset alt usemap ismap width height');\n      add('iframe', 'src name width height', flowContent);\n      add('embed', 'src type width height');\n      add('object', 'data type typemustmatch name usemap form width height', [\n        flowContent,\n        'param'\n      ].join(' '));\n      add('param', 'name value');\n      add('map', 'name', [\n        flowContent,\n        'area'\n      ].join(' '));\n      add('area', 'alt coords shape href target rel media hreflang type');\n      add('table', 'border', 'caption colgroup thead tfoot tbody tr' + (type === 'html4' ? ' col' : ''));\n      add('colgroup', 'span', 'col');\n      add('col', 'span');\n      add('tbody thead tfoot', '', 'tr');\n      add('tr', '', 'td th');\n      add('td', 'colspan rowspan headers', flowContent);\n      add('th', 'colspan rowspan headers scope abbr', flowContent);\n      add('form', 'accept-charset action autocomplete enctype method name novalidate target', flowContent);\n      add('fieldset', 'disabled form name', [\n        flowContent,\n        'legend'\n      ].join(' '));\n      add('label', 'form for', phrasingContent);\n      add('input', 'accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate ' + 'formtarget height list max maxlength min multiple name pattern readonly required size src step type value width');\n      add('button', 'disabled form formaction formenctype formmethod formnovalidate formtarget name type value', type === 'html4' ? flowContent : phrasingContent);\n      add('select', 'disabled form multiple name required size', 'option optgroup');\n      add('optgroup', 'disabled label', 'option');\n      add('option', 'disabled label selected value');\n      add('textarea', 'cols dirname disabled form maxlength name readonly required rows wrap');\n      add('menu', 'type label', [\n        flowContent,\n        'li'\n      ].join(' '));\n      add('noscript', '', flowContent);\n      if (type !== 'html4') {\n        add('wbr');\n        add('ruby', '', [\n          phrasingContent,\n          'rt rp'\n        ].join(' '));\n        add('figcaption', '', flowContent);\n        add('mark rt rp summary bdi', '', phrasingContent);\n        add('canvas', 'width height', flowContent);\n        add('video', 'src crossorigin poster preload autoplay mediagroup loop ' + 'muted controls width height buffered', [\n          flowContent,\n          'track source'\n        ].join(' '));\n        add('audio', 'src crossorigin preload autoplay mediagroup loop muted controls ' + 'buffered volume', [\n          flowContent,\n          'track source'\n        ].join(' '));\n        add('picture', '', 'img source');\n        add('source', 'src srcset type media sizes');\n        add('track', 'kind src srclang label default');\n        add('datalist', '', [\n          phrasingContent,\n          'option'\n        ].join(' '));\n        add('article section nav aside main header footer', '', flowContent);\n        add('hgroup', '', 'h1 h2 h3 h4 h5 h6');\n        add('figure', '', [\n          flowContent,\n          'figcaption'\n        ].join(' '));\n        add('time', 'datetime', phrasingContent);\n        add('dialog', 'open', flowContent);\n        add('command', 'type label icon disabled checked radiogroup command');\n        add('output', 'for form name', phrasingContent);\n        add('progress', 'value max', phrasingContent);\n        add('meter', 'value min max low high optimum', phrasingContent);\n        add('details', 'open', [\n          flowContent,\n          'summary'\n        ].join(' '));\n        add('keygen', 'autofocus challenge disabled form keytype name');\n      }\n      if (type !== 'html5-strict') {\n        addAttrs('script', 'language xml:space');\n        addAttrs('style', 'xml:space');\n        addAttrs('object', 'declare classid code codebase codetype archive standby align border hspace vspace');\n        addAttrs('embed', 'align name hspace vspace');\n        addAttrs('param', 'valuetype type');\n        addAttrs('a', 'charset name rev shape coords');\n        addAttrs('br', 'clear');\n        addAttrs('applet', 'codebase archive code object alt name width height align hspace vspace');\n        addAttrs('img', 'name longdesc align border hspace vspace');\n        addAttrs('iframe', 'longdesc frameborder marginwidth marginheight scrolling align');\n        addAttrs('font basefont', 'size color face');\n        addAttrs('input', 'usemap align');\n        addAttrs('select');\n        addAttrs('textarea');\n        addAttrs('h1 h2 h3 h4 h5 h6 div p legend caption', 'align');\n        addAttrs('ul', 'type compact');\n        addAttrs('li', 'type');\n        addAttrs('ol dl menu dir', 'compact');\n        addAttrs('pre', 'width xml:space');\n        addAttrs('hr', 'align noshade size width');\n        addAttrs('isindex', 'prompt');\n        addAttrs('table', 'summary width frame rules cellspacing cellpadding align bgcolor');\n        addAttrs('col', 'width align char charoff valign');\n        addAttrs('colgroup', 'width align char charoff valign');\n        addAttrs('thead', 'align char charoff valign');\n        addAttrs('tr', 'align char charoff valign bgcolor');\n        addAttrs('th', 'axis align char charoff valign nowrap bgcolor width height');\n        addAttrs('form', 'accept');\n        addAttrs('td', 'abbr axis scope align char charoff valign nowrap bgcolor width height');\n        addAttrs('tfoot', 'align char charoff valign');\n        addAttrs('tbody', 'align char charoff valign');\n        addAttrs('area', 'nohref');\n        addAttrs('body', 'background bgcolor text link vlink alink');\n      }\n      if (type !== 'html4') {\n        addAttrs('input button select textarea', 'autofocus');\n        addAttrs('input textarea', 'placeholder');\n        addAttrs('a', 'download');\n        addAttrs('link script img', 'crossorigin');\n        addAttrs('img', 'loading');\n        addAttrs('iframe', 'sandbox seamless allowfullscreen loading');\n      }\n      each$h(split$1('a form meter progress dfn'), function (name) {\n        if (schema[name]) {\n          delete schema[name].children[name];\n        }\n      });\n      delete schema.caption.children.table;\n      delete schema.script;\n      mapCache[type] = schema;\n      return schema;\n    };\n    var compileElementMap = function (value, mode) {\n      var styles;\n      if (value) {\n        styles = {};\n        if (typeof value === 'string') {\n          value = { '*': value };\n        }\n        each$h(value, function (value, key) {\n          styles[key] = styles[key.toUpperCase()] = mode === 'map' ? makeMap$2(value, /[, ]/) : explode$3(value, /[, ]/);\n        });\n      }\n      return styles;\n    };\n    var Schema = function (settings) {\n      var elements = {};\n      var children = {};\n      var patternElements = [];\n      var customElementsMap = {}, specialElements = {};\n      var createLookupTable = function (option, defaultValue, extendWith) {\n        var value = settings[option];\n        if (!value) {\n          value = mapCache[option];\n          if (!value) {\n            value = createMap(defaultValue, extendWith);\n            mapCache[option] = value;\n          }\n        } else {\n          value = makeMap$2(value, /[, ]/, makeMap$2(value.toUpperCase(), /[, ]/));\n        }\n        return value;\n      };\n      settings = settings || {};\n      var schemaItems = compileSchema(settings.schema);\n      if (settings.verify_html === false) {\n        settings.valid_elements = '*[*]';\n      }\n      var validStyles = compileElementMap(settings.valid_styles);\n      var invalidStyles = compileElementMap(settings.invalid_styles, 'map');\n      var validClasses = compileElementMap(settings.valid_classes, 'map');\n      var whiteSpaceElementsMap = createLookupTable('whitespace_elements', 'pre script noscript style textarea video audio iframe object code');\n      var selfClosingElementsMap = createLookupTable('self_closing_elements', 'colgroup dd dt li option p td tfoot th thead tr');\n      var shortEndedElementsMap = createLookupTable('short_ended_elements', 'area base basefont br col frame hr img input isindex link ' + 'meta param embed source wbr track');\n      var boolAttrMap = createLookupTable('boolean_attributes', 'checked compact declare defer disabled ismap multiple nohref noresize ' + 'noshade nowrap readonly selected autoplay loop controls');\n      var nonEmptyOrMoveCaretBeforeOnEnter = 'td th iframe video audio object script code';\n      var nonEmptyElementsMap = createLookupTable('non_empty_elements', nonEmptyOrMoveCaretBeforeOnEnter + ' pre', shortEndedElementsMap);\n      var moveCaretBeforeOnEnterElementsMap = createLookupTable('move_caret_before_on_enter_elements', nonEmptyOrMoveCaretBeforeOnEnter + ' table', shortEndedElementsMap);\n      var textBlockElementsMap = createLookupTable('text_block_elements', 'h1 h2 h3 h4 h5 h6 p div address pre form ' + 'blockquote center dir fieldset header footer article section hgroup aside main nav figure');\n      var blockElementsMap = createLookupTable('block_elements', 'hr table tbody thead tfoot ' + 'th tr td li ol ul caption dl dt dd noscript menu isindex option ' + 'datalist select optgroup figcaption details summary', textBlockElementsMap);\n      var textInlineElementsMap = createLookupTable('text_inline_elements', 'span strong b em i font s strike u var cite ' + 'dfn code mark q sup sub samp');\n      each$h((settings.special || 'script noscript iframe noframes noembed title style textarea xmp').split(' '), function (name) {\n        specialElements[name] = new RegExp('</' + name + '[^>]*>', 'gi');\n      });\n      var patternToRegExp = function (str) {\n        return new RegExp('^' + str.replace(/([?+*])/g, '.$1') + '$');\n      };\n      var addValidElements = function (validElements) {\n        var ei, el, ai, al, matches, element, attr, attrData, elementName, attrName, attrType, attributes, attributesOrder, prefix, outputName, globalAttributes, globalAttributesOrder, value;\n        var elementRuleRegExp = /^([#+\\-])?([^\\[!\\/]+)(?:\\/([^\\[!]+))?(?:(!?)\\[([^\\]]+)])?$/, attrRuleRegExp = /^([!\\-])?(\\w+[\\\\:]:\\w+|[^=:<]+)?(?:([=:<])(.*))?$/, hasPatternsRegExp = /[*?+]/;\n        if (validElements) {\n          var validElementsArr = split$1(validElements, ',');\n          if (elements['@']) {\n            globalAttributes = elements['@'].attributes;\n            globalAttributesOrder = elements['@'].attributesOrder;\n          }\n          for (ei = 0, el = validElementsArr.length; ei < el; ei++) {\n            matches = elementRuleRegExp.exec(validElementsArr[ei]);\n            if (matches) {\n              prefix = matches[1];\n              elementName = matches[2];\n              outputName = matches[3];\n              attrData = matches[5];\n              attributes = {};\n              attributesOrder = [];\n              element = {\n                attributes: attributes,\n                attributesOrder: attributesOrder\n              };\n              if (prefix === '#') {\n                element.paddEmpty = true;\n              }\n              if (prefix === '-') {\n                element.removeEmpty = true;\n              }\n              if (matches[4] === '!') {\n                element.removeEmptyAttrs = true;\n              }\n              if (globalAttributes) {\n                each$j(globalAttributes, function (value, key) {\n                  attributes[key] = value;\n                });\n                attributesOrder.push.apply(attributesOrder, globalAttributesOrder);\n              }\n              if (attrData) {\n                attrData = split$1(attrData, '|');\n                for (ai = 0, al = attrData.length; ai < al; ai++) {\n                  matches = attrRuleRegExp.exec(attrData[ai]);\n                  if (matches) {\n                    attr = {};\n                    attrType = matches[1];\n                    attrName = matches[2].replace(/[\\\\:]:/g, ':');\n                    prefix = matches[3];\n                    value = matches[4];\n                    if (attrType === '!') {\n                      element.attributesRequired = element.attributesRequired || [];\n                      element.attributesRequired.push(attrName);\n                      attr.required = true;\n                    }\n                    if (attrType === '-') {\n                      delete attributes[attrName];\n                      attributesOrder.splice(inArray$2(attributesOrder, attrName), 1);\n                      continue;\n                    }\n                    if (prefix) {\n                      if (prefix === '=') {\n                        element.attributesDefault = element.attributesDefault || [];\n                        element.attributesDefault.push({\n                          name: attrName,\n                          value: value\n                        });\n                        attr.defaultValue = value;\n                      }\n                      if (prefix === ':') {\n                        element.attributesForced = element.attributesForced || [];\n                        element.attributesForced.push({\n                          name: attrName,\n                          value: value\n                        });\n                        attr.forcedValue = value;\n                      }\n                      if (prefix === '<') {\n                        attr.validValues = makeMap$2(value, '?');\n                      }\n                    }\n                    if (hasPatternsRegExp.test(attrName)) {\n                      element.attributePatterns = element.attributePatterns || [];\n                      attr.pattern = patternToRegExp(attrName);\n                      element.attributePatterns.push(attr);\n                    } else {\n                      if (!attributes[attrName]) {\n                        attributesOrder.push(attrName);\n                      }\n                      attributes[attrName] = attr;\n                    }\n                  }\n                }\n              }\n              if (!globalAttributes && elementName === '@') {\n                globalAttributes = attributes;\n                globalAttributesOrder = attributesOrder;\n              }\n              if (outputName) {\n                element.outputName = elementName;\n                elements[outputName] = element;\n              }\n              if (hasPatternsRegExp.test(elementName)) {\n                element.pattern = patternToRegExp(elementName);\n                patternElements.push(element);\n              } else {\n                elements[elementName] = element;\n              }\n            }\n          }\n        }\n      };\n      var setValidElements = function (validElements) {\n        elements = {};\n        patternElements = [];\n        addValidElements(validElements);\n        each$h(schemaItems, function (element, name) {\n          children[name] = element.children;\n        });\n      };\n      var addCustomElements = function (customElements) {\n        var customElementRegExp = /^(~)?(.+)$/;\n        if (customElements) {\n          mapCache.text_block_elements = mapCache.block_elements = null;\n          each$h(split$1(customElements, ','), function (rule) {\n            var matches = customElementRegExp.exec(rule), inline = matches[1] === '~', cloneName = inline ? 'span' : 'div', name = matches[2];\n            children[name] = children[cloneName];\n            customElementsMap[name] = cloneName;\n            if (!inline) {\n              blockElementsMap[name.toUpperCase()] = {};\n              blockElementsMap[name] = {};\n            }\n            if (!elements[name]) {\n              var customRule = elements[cloneName];\n              customRule = extend$5({}, customRule);\n              delete customRule.removeEmptyAttrs;\n              delete customRule.removeEmpty;\n              elements[name] = customRule;\n            }\n            each$h(children, function (element, elmName) {\n              if (element[cloneName]) {\n                children[elmName] = element = extend$5({}, children[elmName]);\n                element[name] = element[cloneName];\n              }\n            });\n          });\n        }\n      };\n      var addValidChildren = function (validChildren) {\n        var childRuleRegExp = /^([+\\-]?)([A-Za-z0-9_\\-.\\u00b7\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u037d\\u037f-\\u1fff\\u200c-\\u200d\\u203f-\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]+)\\[([^\\]]+)]$/;\n        mapCache[settings.schema] = null;\n        if (validChildren) {\n          each$h(split$1(validChildren, ','), function (rule) {\n            var matches = childRuleRegExp.exec(rule);\n            var parent, prefix;\n            if (matches) {\n              prefix = matches[1];\n              if (prefix) {\n                parent = children[matches[2]];\n              } else {\n                parent = children[matches[2]] = { '#comment': {} };\n              }\n              parent = children[matches[2]];\n              each$h(split$1(matches[3], '|'), function (child) {\n                if (prefix === '-') {\n                  delete parent[child];\n                } else {\n                  parent[child] = {};\n                }\n              });\n            }\n          });\n        }\n      };\n      var getElementRule = function (name) {\n        var element = elements[name], i;\n        if (element) {\n          return element;\n        }\n        i = patternElements.length;\n        while (i--) {\n          element = patternElements[i];\n          if (element.pattern.test(name)) {\n            return element;\n          }\n        }\n      };\n      if (!settings.valid_elements) {\n        each$h(schemaItems, function (element, name) {\n          elements[name] = {\n            attributes: element.attributes,\n            attributesOrder: element.attributesOrder\n          };\n          children[name] = element.children;\n        });\n        if (settings.schema !== 'html5') {\n          each$h(split$1('strong/b em/i'), function (item) {\n            var items = split$1(item, '/');\n            elements[items[1]].outputName = items[0];\n          });\n        }\n        each$h(textInlineElementsMap, function (_val, name) {\n          if (elements[name]) {\n            if (settings.padd_empty_block_inline_children) {\n              elements[name].paddInEmptyBlock = true;\n            }\n            elements[name].removeEmpty = true;\n          }\n        });\n        each$h(split$1('ol ul blockquote a table tbody'), function (name) {\n          if (elements[name]) {\n            elements[name].removeEmpty = true;\n          }\n        });\n        each$h(split$1('p h1 h2 h3 h4 h5 h6 th td pre div address caption li'), function (name) {\n          elements[name].paddEmpty = true;\n        });\n        each$h(split$1('span'), function (name) {\n          elements[name].removeEmptyAttrs = true;\n        });\n      } else {\n        setValidElements(settings.valid_elements);\n      }\n      addCustomElements(settings.custom_elements);\n      addValidChildren(settings.valid_children);\n      addValidElements(settings.extended_valid_elements);\n      addValidChildren('+ol[ul|ol],+ul[ul|ol]');\n      each$h({\n        dd: 'dl',\n        dt: 'dl',\n        li: 'ul ol',\n        td: 'tr',\n        th: 'tr',\n        tr: 'tbody thead tfoot',\n        tbody: 'table',\n        thead: 'table',\n        tfoot: 'table',\n        legend: 'fieldset',\n        area: 'map',\n        param: 'video audio object'\n      }, function (parents, item) {\n        if (elements[item]) {\n          elements[item].parentsRequired = split$1(parents);\n        }\n      });\n      if (settings.invalid_elements) {\n        each$h(explode$3(settings.invalid_elements), function (item) {\n          if (elements[item]) {\n            delete elements[item];\n          }\n        });\n      }\n      if (!getElementRule('span')) {\n        addValidElements('span[!data-mce-type|*]');\n      }\n      var getValidStyles = constant(validStyles);\n      var getInvalidStyles = constant(invalidStyles);\n      var getValidClasses = constant(validClasses);\n      var getBoolAttrs = constant(boolAttrMap);\n      var getBlockElements = constant(blockElementsMap);\n      var getTextBlockElements = constant(textBlockElementsMap);\n      var getTextInlineElements = constant(textInlineElementsMap);\n      var getShortEndedElements = constant(shortEndedElementsMap);\n      var getSelfClosingElements = constant(selfClosingElementsMap);\n      var getNonEmptyElements = constant(nonEmptyElementsMap);\n      var getMoveCaretBeforeOnEnterElements = constant(moveCaretBeforeOnEnterElementsMap);\n      var getWhiteSpaceElements = constant(whiteSpaceElementsMap);\n      var getSpecialElements = constant(specialElements);\n      var isValidChild = function (name, child) {\n        var parent = children[name.toLowerCase()];\n        return !!(parent && parent[child.toLowerCase()]);\n      };\n      var isValid = function (name, attr) {\n        var attrPatterns, i;\n        var rule = getElementRule(name);\n        if (rule) {\n          if (attr) {\n            if (rule.attributes[attr]) {\n              return true;\n            }\n            attrPatterns = rule.attributePatterns;\n            if (attrPatterns) {\n              i = attrPatterns.length;\n              while (i--) {\n                if (attrPatterns[i].pattern.test(name)) {\n                  return true;\n                }\n              }\n            }\n          } else {\n            return true;\n          }\n        }\n        return false;\n      };\n      var getCustomElements = constant(customElementsMap);\n      return {\n        children: children,\n        elements: elements,\n        getValidStyles: getValidStyles,\n        getValidClasses: getValidClasses,\n        getBlockElements: getBlockElements,\n        getInvalidStyles: getInvalidStyles,\n        getShortEndedElements: getShortEndedElements,\n        getTextBlockElements: getTextBlockElements,\n        getTextInlineElements: getTextInlineElements,\n        getBoolAttrs: getBoolAttrs,\n        getElementRule: getElementRule,\n        getSelfClosingElements: getSelfClosingElements,\n        getNonEmptyElements: getNonEmptyElements,\n        getMoveCaretBeforeOnEnterElements: getMoveCaretBeforeOnEnterElements,\n        getWhiteSpaceElements: getWhiteSpaceElements,\n        getSpecialElements: getSpecialElements,\n        isValidChild: isValidChild,\n        isValid: isValid,\n        getCustomElements: getCustomElements,\n        addValidElements: addValidElements,\n        setValidElements: setValidElements,\n        addCustomElements: addCustomElements,\n        addValidChildren: addValidChildren\n      };\n    };\n\n    var toHex = function (match, r, g, b) {\n      var hex = function (val) {\n        val = parseInt(val, 10).toString(16);\n        return val.length > 1 ? val : '0' + val;\n      };\n      return '#' + hex(r) + hex(g) + hex(b);\n    };\n    var Styles = function (settings, schema) {\n      var _this = this;\n      var rgbRegExp = /rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/gi;\n      var urlOrStrRegExp = /(?:url(?:(?:\\(\\s*\\\"([^\\\"]+)\\\"\\s*\\))|(?:\\(\\s*\\'([^\\']+)\\'\\s*\\))|(?:\\(\\s*([^)\\s]+)\\s*\\))))|(?:\\'([^\\']+)\\')|(?:\\\"([^\\\"]+)\\\")/gi;\n      var styleRegExp = /\\s*([^:]+):\\s*([^;]+);?/g;\n      var trimRightRegExp = /\\s+$/;\n      var i;\n      var encodingLookup = {};\n      var validStyles;\n      var invalidStyles;\n      var invisibleChar = zeroWidth;\n      settings = settings || {};\n      if (schema) {\n        validStyles = schema.getValidStyles();\n        invalidStyles = schema.getInvalidStyles();\n      }\n      var encodingItems = ('\\\\\" \\\\\\' \\\\; \\\\: ; : ' + invisibleChar).split(' ');\n      for (i = 0; i < encodingItems.length; i++) {\n        encodingLookup[encodingItems[i]] = invisibleChar + i;\n        encodingLookup[invisibleChar + i] = encodingItems[i];\n      }\n      return {\n        toHex: function (color) {\n          return color.replace(rgbRegExp, toHex);\n        },\n        parse: function (css) {\n          var styles = {};\n          var matches, name, value, isEncoded;\n          var urlConverter = settings.url_converter;\n          var urlConverterScope = settings.url_converter_scope || _this;\n          var compress = function (prefix, suffix, noJoin) {\n            var top = styles[prefix + '-top' + suffix];\n            if (!top) {\n              return;\n            }\n            var right = styles[prefix + '-right' + suffix];\n            if (!right) {\n              return;\n            }\n            var bottom = styles[prefix + '-bottom' + suffix];\n            if (!bottom) {\n              return;\n            }\n            var left = styles[prefix + '-left' + suffix];\n            if (!left) {\n              return;\n            }\n            var box = [\n              top,\n              right,\n              bottom,\n              left\n            ];\n            i = box.length - 1;\n            while (i--) {\n              if (box[i] !== box[i + 1]) {\n                break;\n              }\n            }\n            if (i > -1 && noJoin) {\n              return;\n            }\n            styles[prefix + suffix] = i === -1 ? box[0] : box.join(' ');\n            delete styles[prefix + '-top' + suffix];\n            delete styles[prefix + '-right' + suffix];\n            delete styles[prefix + '-bottom' + suffix];\n            delete styles[prefix + '-left' + suffix];\n          };\n          var canCompress = function (key) {\n            var value = styles[key], i;\n            if (!value) {\n              return;\n            }\n            value = value.split(' ');\n            i = value.length;\n            while (i--) {\n              if (value[i] !== value[0]) {\n                return false;\n              }\n            }\n            styles[key] = value[0];\n            return true;\n          };\n          var compress2 = function (target, a, b, c) {\n            if (!canCompress(a)) {\n              return;\n            }\n            if (!canCompress(b)) {\n              return;\n            }\n            if (!canCompress(c)) {\n              return;\n            }\n            styles[target] = styles[a] + ' ' + styles[b] + ' ' + styles[c];\n            delete styles[a];\n            delete styles[b];\n            delete styles[c];\n          };\n          var encode = function (str) {\n            isEncoded = true;\n            return encodingLookup[str];\n          };\n          var decode = function (str, keepSlashes) {\n            if (isEncoded) {\n              str = str.replace(/\\uFEFF[0-9]/g, function (str) {\n                return encodingLookup[str];\n              });\n            }\n            if (!keepSlashes) {\n              str = str.replace(/\\\\([\\'\\\";:])/g, '$1');\n            }\n            return str;\n          };\n          var decodeSingleHexSequence = function (escSeq) {\n            return String.fromCharCode(parseInt(escSeq.slice(1), 16));\n          };\n          var decodeHexSequences = function (value) {\n            return value.replace(/\\\\[0-9a-f]+/gi, decodeSingleHexSequence);\n          };\n          var processUrl = function (match, url, url2, url3, str, str2) {\n            str = str || str2;\n            if (str) {\n              str = decode(str);\n              return '\\'' + str.replace(/\\'/g, '\\\\\\'') + '\\'';\n            }\n            url = decode(url || url2 || url3);\n            if (!settings.allow_script_urls) {\n              var scriptUrl = url.replace(/[\\s\\r\\n]+/g, '');\n              if (/(java|vb)script:/i.test(scriptUrl)) {\n                return '';\n              }\n              if (!settings.allow_svg_data_urls && /^data:image\\/svg/i.test(scriptUrl)) {\n                return '';\n              }\n            }\n            if (urlConverter) {\n              url = urlConverter.call(urlConverterScope, url, 'style');\n            }\n            return 'url(\\'' + url.replace(/\\'/g, '\\\\\\'') + '\\')';\n          };\n          if (css) {\n            css = css.replace(/[\\u0000-\\u001F]/g, '');\n            css = css.replace(/\\\\[\\\"\\';:\\uFEFF]/g, encode).replace(/\\\"[^\\\"]+\\\"|\\'[^\\']+\\'/g, function (str) {\n              return str.replace(/[;:]/g, encode);\n            });\n            while (matches = styleRegExp.exec(css)) {\n              styleRegExp.lastIndex = matches.index + matches[0].length;\n              name = matches[1].replace(trimRightRegExp, '').toLowerCase();\n              value = matches[2].replace(trimRightRegExp, '');\n              if (name && value) {\n                name = decodeHexSequences(name);\n                value = decodeHexSequences(value);\n                if (name.indexOf(invisibleChar) !== -1 || name.indexOf('\"') !== -1) {\n                  continue;\n                }\n                if (!settings.allow_script_urls && (name === 'behavior' || /expression\\s*\\(|\\/\\*|\\*\\//.test(value))) {\n                  continue;\n                }\n                if (name === 'font-weight' && value === '700') {\n                  value = 'bold';\n                } else if (name === 'color' || name === 'background-color') {\n                  value = value.toLowerCase();\n                }\n                value = value.replace(rgbRegExp, toHex);\n                value = value.replace(urlOrStrRegExp, processUrl);\n                styles[name] = isEncoded ? decode(value, true) : value;\n              }\n            }\n            compress('border', '', true);\n            compress('border', '-width');\n            compress('border', '-color');\n            compress('border', '-style');\n            compress('padding', '');\n            compress('margin', '');\n            compress2('border', 'border-width', 'border-style', 'border-color');\n            if (styles.border === 'medium none') {\n              delete styles.border;\n            }\n            if (styles['border-image'] === 'none') {\n              delete styles['border-image'];\n            }\n          }\n          return styles;\n        },\n        serialize: function (styles, elementName) {\n          var css = '';\n          var serializeStyles = function (name) {\n            var value;\n            var styleList = validStyles[name];\n            if (styleList) {\n              for (var i_1 = 0, l = styleList.length; i_1 < l; i_1++) {\n                name = styleList[i_1];\n                value = styles[name];\n                if (value) {\n                  css += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\n                }\n              }\n            }\n          };\n          var isValid = function (name, elementName) {\n            var styleMap = invalidStyles['*'];\n            if (styleMap && styleMap[name]) {\n              return false;\n            }\n            styleMap = invalidStyles[elementName];\n            return !(styleMap && styleMap[name]);\n          };\n          if (elementName && validStyles) {\n            serializeStyles('*');\n            serializeStyles(elementName);\n          } else {\n            each$j(styles, function (value, name) {\n              if (value && (!invalidStyles || isValid(name, elementName))) {\n                css += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\n              }\n            });\n          }\n          return css;\n        }\n      };\n    };\n\n    var deprecated = {\n      keyLocation: true,\n      layerX: true,\n      layerY: true,\n      returnValue: true,\n      webkitMovementX: true,\n      webkitMovementY: true,\n      keyIdentifier: true,\n      mozPressure: true\n    };\n    var isNativeEvent = function (event) {\n      return event instanceof Event || isFunction(event.initEvent);\n    };\n    var hasIsDefaultPrevented = function (event) {\n      return event.isDefaultPrevented === always || event.isDefaultPrevented === never;\n    };\n    var needsNormalizing = function (event) {\n      return isNullable(event.preventDefault) || isNativeEvent(event);\n    };\n    var clone$2 = function (originalEvent, data) {\n      var event = data !== null && data !== void 0 ? data : {};\n      for (var name_1 in originalEvent) {\n        if (!has$2(deprecated, name_1)) {\n          event[name_1] = originalEvent[name_1];\n        }\n      }\n      if (isNonNullable(event.composedPath)) {\n        event.composedPath = function () {\n          return originalEvent.composedPath();\n        };\n      }\n      return event;\n    };\n    var normalize$3 = function (type, originalEvent, fallbackTarget, data) {\n      var _a;\n      var event = clone$2(originalEvent, data);\n      event.type = type;\n      if (isNullable(event.target)) {\n        event.target = (_a = event.srcElement) !== null && _a !== void 0 ? _a : fallbackTarget;\n      }\n      if (needsNormalizing(originalEvent)) {\n        event.preventDefault = function () {\n          event.defaultPrevented = true;\n          event.isDefaultPrevented = always;\n          if (isFunction(originalEvent.preventDefault)) {\n            originalEvent.preventDefault();\n          } else if (isNativeEvent(originalEvent)) {\n            originalEvent.returnValue = false;\n          }\n        };\n        event.stopPropagation = function () {\n          event.cancelBubble = true;\n          event.isPropagationStopped = always;\n          if (isFunction(originalEvent.stopPropagation)) {\n            originalEvent.stopPropagation();\n          } else if (isNativeEvent(originalEvent)) {\n            originalEvent.cancelBubble = true;\n          }\n        };\n        event.stopImmediatePropagation = function () {\n          event.isImmediatePropagationStopped = always;\n          event.stopPropagation();\n        };\n        if (!hasIsDefaultPrevented(event)) {\n          event.isDefaultPrevented = event.defaultPrevented === true ? always : never;\n          event.isPropagationStopped = event.cancelBubble === true ? always : never;\n          event.isImmediatePropagationStopped = never;\n        }\n      }\n      return event;\n    };\n\n    var eventExpandoPrefix = 'mce-data-';\n    var mouseEventRe = /^(?:mouse|contextmenu)|click/;\n    var addEvent = function (target, name, callback, capture) {\n      if (target.addEventListener) {\n        target.addEventListener(name, callback, capture || false);\n      } else if (target.attachEvent) {\n        target.attachEvent('on' + name, callback);\n      }\n    };\n    var removeEvent = function (target, name, callback, capture) {\n      if (target.removeEventListener) {\n        target.removeEventListener(name, callback, capture || false);\n      } else if (target.detachEvent) {\n        target.detachEvent('on' + name, callback);\n      }\n    };\n    var isMouseEvent = function (event) {\n      return isNonNullable(event) && mouseEventRe.test(event.type);\n    };\n    var fix = function (originalEvent, data) {\n      var event = normalize$3(originalEvent.type, originalEvent, document, data);\n      if (isMouseEvent(originalEvent) && isUndefined(originalEvent.pageX) && !isUndefined(originalEvent.clientX)) {\n        var eventDoc = event.target.ownerDocument || document;\n        var doc = eventDoc.documentElement;\n        var body = eventDoc.body;\n        var mouseEvent = event;\n        mouseEvent.pageX = originalEvent.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n        mouseEvent.pageY = originalEvent.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n      }\n      if (isUndefined(event.metaKey)) {\n        event.metaKey = false;\n      }\n      return event;\n    };\n    var bindOnReady = function (win, callback, eventUtils) {\n      var doc = win.document, event = { type: 'ready' };\n      if (eventUtils.domLoaded) {\n        callback(event);\n        return;\n      }\n      var isDocReady = function () {\n        return doc.readyState === 'complete' || doc.readyState === 'interactive' && doc.body;\n      };\n      var readyHandler = function () {\n        removeEvent(win, 'DOMContentLoaded', readyHandler);\n        removeEvent(win, 'load', readyHandler);\n        if (!eventUtils.domLoaded) {\n          eventUtils.domLoaded = true;\n          callback(event);\n        }\n        win = null;\n      };\n      if (isDocReady()) {\n        readyHandler();\n      } else {\n        addEvent(win, 'DOMContentLoaded', readyHandler);\n      }\n      if (!eventUtils.domLoaded) {\n        addEvent(win, 'load', readyHandler);\n      }\n    };\n    var EventUtils = function () {\n      function EventUtils() {\n        this.domLoaded = false;\n        this.events = {};\n        this.count = 1;\n        this.expando = eventExpandoPrefix + (+new Date()).toString(32);\n        this.hasMouseEnterLeave = 'onmouseenter' in document.documentElement;\n        this.hasFocusIn = 'onfocusin' in document.documentElement;\n        this.count = 1;\n      }\n      EventUtils.prototype.bind = function (target, names, callback, scope) {\n        var self = this;\n        var id, callbackList, i, name, fakeName, nativeHandler, capture;\n        var win = window;\n        var defaultNativeHandler = function (evt) {\n          self.executeHandlers(fix(evt || win.event), id);\n        };\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return;\n        }\n        if (!target[self.expando]) {\n          id = self.count++;\n          target[self.expando] = id;\n          self.events[id] = {};\n        } else {\n          id = target[self.expando];\n        }\n        scope = scope || target;\n        var namesList = names.split(' ');\n        i = namesList.length;\n        while (i--) {\n          name = namesList[i];\n          nativeHandler = defaultNativeHandler;\n          fakeName = capture = false;\n          if (name === 'DOMContentLoaded') {\n            name = 'ready';\n          }\n          if (self.domLoaded && name === 'ready' && target.readyState === 'complete') {\n            callback.call(scope, fix({ type: name }));\n            continue;\n          }\n          if (!self.hasMouseEnterLeave) {\n            fakeName = self.mouseEnterLeave[name];\n            if (fakeName) {\n              nativeHandler = function (evt) {\n                var current = evt.currentTarget;\n                var related = evt.relatedTarget;\n                if (related && current.contains) {\n                  related = current.contains(related);\n                } else {\n                  while (related && related !== current) {\n                    related = related.parentNode;\n                  }\n                }\n                if (!related) {\n                  evt = fix(evt || win.event);\n                  evt.type = evt.type === 'mouseout' ? 'mouseleave' : 'mouseenter';\n                  evt.target = current;\n                  self.executeHandlers(evt, id);\n                }\n              };\n            }\n          }\n          if (!self.hasFocusIn && (name === 'focusin' || name === 'focusout')) {\n            capture = true;\n            fakeName = name === 'focusin' ? 'focus' : 'blur';\n            nativeHandler = function (evt) {\n              evt = fix(evt || win.event);\n              evt.type = evt.type === 'focus' ? 'focusin' : 'focusout';\n              self.executeHandlers(evt, id);\n            };\n          }\n          callbackList = self.events[id][name];\n          if (!callbackList) {\n            self.events[id][name] = callbackList = [{\n                func: callback,\n                scope: scope\n              }];\n            callbackList.fakeName = fakeName;\n            callbackList.capture = capture;\n            callbackList.nativeHandler = nativeHandler;\n            if (name === 'ready') {\n              bindOnReady(target, nativeHandler, self);\n            } else {\n              addEvent(target, fakeName || name, nativeHandler, capture);\n            }\n          } else {\n            if (name === 'ready' && self.domLoaded) {\n              callback(fix({ type: name }));\n            } else {\n              callbackList.push({\n                func: callback,\n                scope: scope\n              });\n            }\n          }\n        }\n        target = callbackList = null;\n        return callback;\n      };\n      EventUtils.prototype.unbind = function (target, names, callback) {\n        var callbackList, i, ci, name, eventMap;\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return this;\n        }\n        var id = target[this.expando];\n        if (id) {\n          eventMap = this.events[id];\n          if (names) {\n            var namesList = names.split(' ');\n            i = namesList.length;\n            while (i--) {\n              name = namesList[i];\n              callbackList = eventMap[name];\n              if (callbackList) {\n                if (callback) {\n                  ci = callbackList.length;\n                  while (ci--) {\n                    if (callbackList[ci].func === callback) {\n                      var nativeHandler = callbackList.nativeHandler;\n                      var fakeName = callbackList.fakeName, capture = callbackList.capture;\n                      callbackList = callbackList.slice(0, ci).concat(callbackList.slice(ci + 1));\n                      callbackList.nativeHandler = nativeHandler;\n                      callbackList.fakeName = fakeName;\n                      callbackList.capture = capture;\n                      eventMap[name] = callbackList;\n                    }\n                  }\n                }\n                if (!callback || callbackList.length === 0) {\n                  delete eventMap[name];\n                  removeEvent(target, callbackList.fakeName || name, callbackList.nativeHandler, callbackList.capture);\n                }\n              }\n            }\n          } else {\n            each$j(eventMap, function (callbackList, name) {\n              removeEvent(target, callbackList.fakeName || name, callbackList.nativeHandler, callbackList.capture);\n            });\n            eventMap = {};\n          }\n          for (name in eventMap) {\n            if (has$2(eventMap, name)) {\n              return this;\n            }\n          }\n          delete this.events[id];\n          try {\n            delete target[this.expando];\n          } catch (ex) {\n            target[this.expando] = null;\n          }\n        }\n        return this;\n      };\n      EventUtils.prototype.fire = function (target, name, args) {\n        var id;\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return this;\n        }\n        var event = fix({\n          type: name,\n          target: target\n        }, args);\n        do {\n          id = target[this.expando];\n          if (id) {\n            this.executeHandlers(event, id);\n          }\n          target = target.parentNode || target.ownerDocument || target.defaultView || target.parentWindow;\n        } while (target && !event.isPropagationStopped());\n        return this;\n      };\n      EventUtils.prototype.clean = function (target) {\n        var i, children;\n        if (!target || target.nodeType === 3 || target.nodeType === 8) {\n          return this;\n        }\n        if (target[this.expando]) {\n          this.unbind(target);\n        }\n        if (!target.getElementsByTagName) {\n          target = target.document;\n        }\n        if (target && target.getElementsByTagName) {\n          this.unbind(target);\n          children = target.getElementsByTagName('*');\n          i = children.length;\n          while (i--) {\n            target = children[i];\n            if (target[this.expando]) {\n              this.unbind(target);\n            }\n          }\n        }\n        return this;\n      };\n      EventUtils.prototype.destroy = function () {\n        this.events = {};\n      };\n      EventUtils.prototype.cancel = function (e) {\n        if (e) {\n          e.preventDefault();\n          e.stopImmediatePropagation();\n        }\n        return false;\n      };\n      EventUtils.prototype.executeHandlers = function (evt, id) {\n        var container = this.events[id];\n        var callbackList = container && container[evt.type];\n        if (callbackList) {\n          for (var i = 0, l = callbackList.length; i < l; i++) {\n            var callback = callbackList[i];\n            if (callback && callback.func.call(callback.scope, evt) === false) {\n              evt.preventDefault();\n            }\n            if (evt.isImmediatePropagationStopped()) {\n              return;\n            }\n          }\n        }\n      };\n      EventUtils.Event = new EventUtils();\n      return EventUtils;\n    }();\n\n    var support, Expr, getText, isXML, tokenize, compile, select$1, outermostContext, sortInput, hasDuplicate, setDocument, document$1, docElem, documentIsHTML, rbuggyQSA, rbuggyMatches, matches, contains, expando = 'sizzle' + -new Date(), preferredDoc = window.document, dirruns = 0, done = 0, classCache = createCache(), tokenCache = createCache(), compilerCache = createCache(), sortOrder = function (a, b) {\n        if (a === b) {\n          hasDuplicate = true;\n        }\n        return 0;\n      }, strundefined = typeof undefined, MAX_NEGATIVE = 1 << 31, hasOwn = {}.hasOwnProperty, arr = [], pop = arr.pop, push_native = arr.push, push$1 = arr.push, slice$1 = arr.slice, indexOf = arr.indexOf || function (elem) {\n        var i = 0, len = this.length;\n        for (; i < len; i++) {\n          if (this[i] === elem) {\n            return i;\n          }\n        }\n        return -1;\n      }, booleans = 'checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped', whitespace = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]', identifier = '(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+', attributes = '\\\\[' + whitespace + '*(' + identifier + ')(?:' + whitespace + '*([*^$|!~]?=)' + whitespace + '*(?:\\'((?:\\\\\\\\.|[^\\\\\\\\\\'])*)\\'|\"((?:\\\\\\\\.|[^\\\\\\\\\"])*)\"|(' + identifier + '))|)' + whitespace + '*\\\\]', pseudos = ':(' + identifier + ')(?:\\\\((' + '(\\'((?:\\\\\\\\.|[^\\\\\\\\\\'])*)\\'|\"((?:\\\\\\\\.|[^\\\\\\\\\"])*)\")|' + '((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|' + attributes + ')*)|' + '.*' + ')\\\\)|)', rtrim = new RegExp('^' + whitespace + '+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)' + whitespace + '+$', 'g'), rcomma = new RegExp('^' + whitespace + '*,' + whitespace + '*'), rcombinators = new RegExp('^' + whitespace + '*([>+~]|' + whitespace + ')' + whitespace + '*'), rattributeQuotes = new RegExp('=' + whitespace + '*([^\\\\]\\'\"]*?)' + whitespace + '*\\\\]', 'g'), rpseudo = new RegExp(pseudos), ridentifier = new RegExp('^' + identifier + '$'), matchExpr = {\n        ID: new RegExp('^#(' + identifier + ')'),\n        CLASS: new RegExp('^\\\\.(' + identifier + ')'),\n        TAG: new RegExp('^(' + identifier + '|[*])'),\n        ATTR: new RegExp('^' + attributes),\n        PSEUDO: new RegExp('^' + pseudos),\n        CHILD: new RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(' + whitespace + '*(even|odd|(([+-]|)(\\\\d*)n|)' + whitespace + '*(?:([+-]|)' + whitespace + '*(\\\\d+)|))' + whitespace + '*\\\\)|)', 'i'),\n        bool: new RegExp('^(?:' + booleans + ')$', 'i'),\n        needsContext: new RegExp('^' + whitespace + '*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(' + whitespace + '*((?:-\\\\d)?\\\\d*)' + whitespace + '*\\\\)|)(?=[^-]|$)', 'i')\n      }, rinputs = /^(?:input|select|textarea|button)$/i, rheader = /^h\\d$/i, rnative = /^[^{]+\\{\\s*\\[native \\w/, rquickExpr$1 = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/, rsibling = /[+~]/, rescape = /'|\\\\/g, runescape = new RegExp('\\\\\\\\([\\\\da-f]{1,6}' + whitespace + '?|(' + whitespace + ')|.)', 'ig'), funescape = function (_, escaped, escapedWhitespace) {\n        var high = '0x' + escaped - 65536;\n        return high !== high || escapedWhitespace ? escaped : high < 0 ? String.fromCharCode(high + 65536) : String.fromCharCode(high >> 10 | 55296, high & 1023 | 56320);\n      };\n    try {\n      push$1.apply(arr = slice$1.call(preferredDoc.childNodes), preferredDoc.childNodes);\n      arr[preferredDoc.childNodes.length].nodeType;\n    } catch (e) {\n      push$1 = {\n        apply: arr.length ? function (target, els) {\n          push_native.apply(target, slice$1.call(els));\n        } : function (target, els) {\n          var j = target.length, i = 0;\n          while (target[j++] = els[i++]) {\n          }\n          target.length = j - 1;\n        }\n      };\n    }\n    var Sizzle = function (selector, context, results, seed) {\n      var match, elem, m, nodeType, i, groups, old, nid, newContext, newSelector;\n      if ((context ? context.ownerDocument || context : preferredDoc) !== document$1) {\n        setDocument(context);\n      }\n      context = context || document$1;\n      results = results || [];\n      if (!selector || typeof selector !== 'string') {\n        return results;\n      }\n      if ((nodeType = context.nodeType) !== 1 && nodeType !== 9) {\n        return [];\n      }\n      if (documentIsHTML && !seed) {\n        if (match = rquickExpr$1.exec(selector)) {\n          if (m = match[1]) {\n            if (nodeType === 9) {\n              elem = context.getElementById(m);\n              if (elem && elem.parentNode) {\n                if (elem.id === m) {\n                  results.push(elem);\n                  return results;\n                }\n              } else {\n                return results;\n              }\n            } else {\n              if (context.ownerDocument && (elem = context.ownerDocument.getElementById(m)) && contains(context, elem) && elem.id === m) {\n                results.push(elem);\n                return results;\n              }\n            }\n          } else if (match[2]) {\n            push$1.apply(results, context.getElementsByTagName(selector));\n            return results;\n          } else if ((m = match[3]) && support.getElementsByClassName) {\n            push$1.apply(results, context.getElementsByClassName(m));\n            return results;\n          }\n        }\n        if (support.qsa && (!rbuggyQSA || !rbuggyQSA.test(selector))) {\n          nid = old = expando;\n          newContext = context;\n          newSelector = nodeType === 9 && selector;\n          if (nodeType === 1 && context.nodeName.toLowerCase() !== 'object') {\n            groups = tokenize(selector);\n            if (old = context.getAttribute('id')) {\n              nid = old.replace(rescape, '\\\\$&');\n            } else {\n              context.setAttribute('id', nid);\n            }\n            nid = '[id=\\'' + nid + '\\'] ';\n            i = groups.length;\n            while (i--) {\n              groups[i] = nid + toSelector(groups[i]);\n            }\n            newContext = rsibling.test(selector) && testContext(context.parentNode) || context;\n            newSelector = groups.join(',');\n          }\n          if (newSelector) {\n            try {\n              push$1.apply(results, newContext.querySelectorAll(newSelector));\n              return results;\n            } catch (qsaError) {\n            } finally {\n              if (!old) {\n                context.removeAttribute('id');\n              }\n            }\n          }\n        }\n      }\n      return select$1(selector.replace(rtrim, '$1'), context, results, seed);\n    };\n    function createCache() {\n      var keys = [];\n      function cache(key, value) {\n        if (keys.push(key + ' ') > Expr.cacheLength) {\n          delete cache[keys.shift()];\n        }\n        return cache[key + ' '] = value;\n      }\n      return cache;\n    }\n    function markFunction(fn) {\n      fn[expando] = true;\n      return fn;\n    }\n    function siblingCheck(a, b) {\n      var cur = b && a, diff = cur && a.nodeType === 1 && b.nodeType === 1 && (~b.sourceIndex || MAX_NEGATIVE) - (~a.sourceIndex || MAX_NEGATIVE);\n      if (diff) {\n        return diff;\n      }\n      if (cur) {\n        while (cur = cur.nextSibling) {\n          if (cur === b) {\n            return -1;\n          }\n        }\n      }\n      return a ? 1 : -1;\n    }\n    function createInputPseudo(type) {\n      return function (elem) {\n        var name = elem.nodeName.toLowerCase();\n        return name === 'input' && elem.type === type;\n      };\n    }\n    function createButtonPseudo(type) {\n      return function (elem) {\n        var name = elem.nodeName.toLowerCase();\n        return (name === 'input' || name === 'button') && elem.type === type;\n      };\n    }\n    function createPositionalPseudo(fn) {\n      return markFunction(function (argument) {\n        argument = +argument;\n        return markFunction(function (seed, matches) {\n          var j, matchIndexes = fn([], seed.length, argument), i = matchIndexes.length;\n          while (i--) {\n            if (seed[j = matchIndexes[i]]) {\n              seed[j] = !(matches[j] = seed[j]);\n            }\n          }\n        });\n      });\n    }\n    function testContext(context) {\n      return context && typeof context.getElementsByTagName !== strundefined && context;\n    }\n    support = Sizzle.support = {};\n    isXML = Sizzle.isXML = function (elem) {\n      var documentElement = elem && (elem.ownerDocument || elem).documentElement;\n      return documentElement ? documentElement.nodeName !== 'HTML' : false;\n    };\n    setDocument = Sizzle.setDocument = function (node) {\n      var hasCompare, doc = node ? node.ownerDocument || node : preferredDoc, parent = doc.defaultView;\n      function getTop(win) {\n        try {\n          return win.top;\n        } catch (ex) {\n        }\n        return null;\n      }\n      if (doc === document$1 || doc.nodeType !== 9 || !doc.documentElement) {\n        return document$1;\n      }\n      document$1 = doc;\n      docElem = doc.documentElement;\n      documentIsHTML = !isXML(doc);\n      if (parent && parent !== getTop(parent)) {\n        if (parent.addEventListener) {\n          parent.addEventListener('unload', function () {\n            setDocument();\n          }, false);\n        } else if (parent.attachEvent) {\n          parent.attachEvent('onunload', function () {\n            setDocument();\n          });\n        }\n      }\n      support.attributes = true;\n      support.getElementsByTagName = true;\n      support.getElementsByClassName = rnative.test(doc.getElementsByClassName);\n      support.getById = true;\n      Expr.find.ID = function (id, context) {\n        if (typeof context.getElementById !== strundefined && documentIsHTML) {\n          var m = context.getElementById(id);\n          return m && m.parentNode ? [m] : [];\n        }\n      };\n      Expr.filter.ID = function (id) {\n        var attrId = id.replace(runescape, funescape);\n        return function (elem) {\n          return elem.getAttribute('id') === attrId;\n        };\n      };\n      Expr.find.TAG = support.getElementsByTagName ? function (tag, context) {\n        if (typeof context.getElementsByTagName !== strundefined) {\n          return context.getElementsByTagName(tag);\n        }\n      } : function (tag, context) {\n        var elem, tmp = [], i = 0, results = context.getElementsByTagName(tag);\n        if (tag === '*') {\n          while (elem = results[i++]) {\n            if (elem.nodeType === 1) {\n              tmp.push(elem);\n            }\n          }\n          return tmp;\n        }\n        return results;\n      };\n      Expr.find.CLASS = support.getElementsByClassName && function (className, context) {\n        if (documentIsHTML) {\n          return context.getElementsByClassName(className);\n        }\n      };\n      rbuggyMatches = [];\n      rbuggyQSA = [];\n      support.disconnectedMatch = true;\n      rbuggyQSA = rbuggyQSA.length && new RegExp(rbuggyQSA.join('|'));\n      rbuggyMatches = rbuggyMatches.length && new RegExp(rbuggyMatches.join('|'));\n      hasCompare = rnative.test(docElem.compareDocumentPosition);\n      contains = hasCompare || rnative.test(docElem.contains) ? function (a, b) {\n        var adown = a.nodeType === 9 ? a.documentElement : a, bup = b && b.parentNode;\n        return a === bup || !!(bup && bup.nodeType === 1 && (adown.contains ? adown.contains(bup) : a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16));\n      } : function (a, b) {\n        if (b) {\n          while (b = b.parentNode) {\n            if (b === a) {\n              return true;\n            }\n          }\n        }\n        return false;\n      };\n      sortOrder = hasCompare ? function (a, b) {\n        if (a === b) {\n          hasDuplicate = true;\n          return 0;\n        }\n        var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n        if (compare) {\n          return compare;\n        }\n        compare = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1;\n        if (compare & 1 || !support.sortDetached && b.compareDocumentPosition(a) === compare) {\n          if (a === doc || a.ownerDocument === preferredDoc && contains(preferredDoc, a)) {\n            return -1;\n          }\n          if (b === doc || b.ownerDocument === preferredDoc && contains(preferredDoc, b)) {\n            return 1;\n          }\n          return sortInput ? indexOf.call(sortInput, a) - indexOf.call(sortInput, b) : 0;\n        }\n        return compare & 4 ? -1 : 1;\n      } : function (a, b) {\n        if (a === b) {\n          hasDuplicate = true;\n          return 0;\n        }\n        var cur, i = 0, aup = a.parentNode, bup = b.parentNode, ap = [a], bp = [b];\n        if (!aup || !bup) {\n          return a === doc ? -1 : b === doc ? 1 : aup ? -1 : bup ? 1 : sortInput ? indexOf.call(sortInput, a) - indexOf.call(sortInput, b) : 0;\n        } else if (aup === bup) {\n          return siblingCheck(a, b);\n        }\n        cur = a;\n        while (cur = cur.parentNode) {\n          ap.unshift(cur);\n        }\n        cur = b;\n        while (cur = cur.parentNode) {\n          bp.unshift(cur);\n        }\n        while (ap[i] === bp[i]) {\n          i++;\n        }\n        return i ? siblingCheck(ap[i], bp[i]) : ap[i] === preferredDoc ? -1 : bp[i] === preferredDoc ? 1 : 0;\n      };\n      return doc;\n    };\n    Sizzle.matches = function (expr, elements) {\n      return Sizzle(expr, null, null, elements);\n    };\n    Sizzle.matchesSelector = function (elem, expr) {\n      if ((elem.ownerDocument || elem) !== document$1) {\n        setDocument(elem);\n      }\n      expr = expr.replace(rattributeQuotes, '=\\'$1\\']');\n      if (support.matchesSelector && documentIsHTML && (!rbuggyMatches || !rbuggyMatches.test(expr)) && (!rbuggyQSA || !rbuggyQSA.test(expr))) {\n        try {\n          var ret = matches.call(elem, expr);\n          if (ret || support.disconnectedMatch || elem.document && elem.document.nodeType !== 11) {\n            return ret;\n          }\n        } catch (e) {\n        }\n      }\n      return Sizzle(expr, document$1, null, [elem]).length > 0;\n    };\n    Sizzle.contains = function (context, elem) {\n      if ((context.ownerDocument || context) !== document$1) {\n        setDocument(context);\n      }\n      return contains(context, elem);\n    };\n    Sizzle.attr = function (elem, name) {\n      if ((elem.ownerDocument || elem) !== document$1) {\n        setDocument(elem);\n      }\n      var fn = Expr.attrHandle[name.toLowerCase()], val = fn && hasOwn.call(Expr.attrHandle, name.toLowerCase()) ? fn(elem, name, !documentIsHTML) : undefined;\n      return val !== undefined ? val : support.attributes || !documentIsHTML ? elem.getAttribute(name) : (val = elem.getAttributeNode(name)) && val.specified ? val.value : null;\n    };\n    Sizzle.error = function (msg) {\n      throw new Error('Syntax error, unrecognized expression: ' + msg);\n    };\n    Sizzle.uniqueSort = function (results) {\n      var elem, duplicates = [], j = 0, i = 0;\n      hasDuplicate = !support.detectDuplicates;\n      sortInput = !support.sortStable && results.slice(0);\n      results.sort(sortOrder);\n      if (hasDuplicate) {\n        while (elem = results[i++]) {\n          if (elem === results[i]) {\n            j = duplicates.push(i);\n          }\n        }\n        while (j--) {\n          results.splice(duplicates[j], 1);\n        }\n      }\n      sortInput = null;\n      return results;\n    };\n    getText = Sizzle.getText = function (elem) {\n      var node, ret = '', i = 0, nodeType = elem.nodeType;\n      if (!nodeType) {\n        while (node = elem[i++]) {\n          ret += getText(node);\n        }\n      } else if (nodeType === 1 || nodeType === 9 || nodeType === 11) {\n        if (typeof elem.textContent === 'string') {\n          return elem.textContent;\n        } else {\n          for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n            ret += getText(elem);\n          }\n        }\n      } else if (nodeType === 3 || nodeType === 4) {\n        return elem.nodeValue;\n      }\n      return ret;\n    };\n    Expr = Sizzle.selectors = {\n      cacheLength: 50,\n      createPseudo: markFunction,\n      match: matchExpr,\n      attrHandle: {},\n      find: {},\n      relative: {\n        '>': {\n          dir: 'parentNode',\n          first: true\n        },\n        ' ': { dir: 'parentNode' },\n        '+': {\n          dir: 'previousSibling',\n          first: true\n        },\n        '~': { dir: 'previousSibling' }\n      },\n      preFilter: {\n        ATTR: function (match) {\n          match[1] = match[1].replace(runescape, funescape);\n          match[3] = (match[3] || match[4] || match[5] || '').replace(runescape, funescape);\n          if (match[2] === '~=') {\n            match[3] = ' ' + match[3] + ' ';\n          }\n          return match.slice(0, 4);\n        },\n        CHILD: function (match) {\n          match[1] = match[1].toLowerCase();\n          if (match[1].slice(0, 3) === 'nth') {\n            if (!match[3]) {\n              Sizzle.error(match[0]);\n            }\n            match[4] = +(match[4] ? match[5] + (match[6] || 1) : 2 * (match[3] === 'even' || match[3] === 'odd'));\n            match[5] = +(match[7] + match[8] || match[3] === 'odd');\n          } else if (match[3]) {\n            Sizzle.error(match[0]);\n          }\n          return match;\n        },\n        PSEUDO: function (match) {\n          var excess, unquoted = !match[6] && match[2];\n          if (matchExpr.CHILD.test(match[0])) {\n            return null;\n          }\n          if (match[3]) {\n            match[2] = match[4] || match[5] || '';\n          } else if (unquoted && rpseudo.test(unquoted) && (excess = tokenize(unquoted, true)) && (excess = unquoted.indexOf(')', unquoted.length - excess) - unquoted.length)) {\n            match[0] = match[0].slice(0, excess);\n            match[2] = unquoted.slice(0, excess);\n          }\n          return match.slice(0, 3);\n        }\n      },\n      filter: {\n        TAG: function (nodeNameSelector) {\n          var nodeName = nodeNameSelector.replace(runescape, funescape).toLowerCase();\n          return nodeNameSelector === '*' ? function () {\n            return true;\n          } : function (elem) {\n            return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n          };\n        },\n        CLASS: function (className) {\n          var pattern = classCache[className + ' '];\n          return pattern || (pattern = new RegExp('(^|' + whitespace + ')' + className + '(' + whitespace + '|$)')) && classCache(className, function (elem) {\n            return pattern.test(typeof elem.className === 'string' && elem.className || typeof elem.getAttribute !== strundefined && elem.getAttribute('class') || '');\n          });\n        },\n        ATTR: function (name, operator, check) {\n          return function (elem) {\n            var result = Sizzle.attr(elem, name);\n            if (result == null) {\n              return operator === '!=';\n            }\n            if (!operator) {\n              return true;\n            }\n            result += '';\n            return operator === '=' ? result === check : operator === '!=' ? result !== check : operator === '^=' ? check && result.indexOf(check) === 0 : operator === '*=' ? check && result.indexOf(check) > -1 : operator === '$=' ? check && result.slice(-check.length) === check : operator === '~=' ? (' ' + result + ' ').indexOf(check) > -1 : operator === '|=' ? result === check || result.slice(0, check.length + 1) === check + '-' : false;\n          };\n        },\n        CHILD: function (type, what, argument, first, last) {\n          var simple = type.slice(0, 3) !== 'nth', forward = type.slice(-4) !== 'last', ofType = what === 'of-type';\n          return first === 1 && last === 0 ? function (elem) {\n            return !!elem.parentNode;\n          } : function (elem, context, xml) {\n            var cache, outerCache, node, diff, nodeIndex, start, dir = simple !== forward ? 'nextSibling' : 'previousSibling', parent = elem.parentNode, name = ofType && elem.nodeName.toLowerCase(), useCache = !xml && !ofType;\n            if (parent) {\n              if (simple) {\n                while (dir) {\n                  node = elem;\n                  while (node = node[dir]) {\n                    if (ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) {\n                      return false;\n                    }\n                  }\n                  start = dir = type === 'only' && !start && 'nextSibling';\n                }\n                return true;\n              }\n              start = [forward ? parent.firstChild : parent.lastChild];\n              if (forward && useCache) {\n                outerCache = parent[expando] || (parent[expando] = {});\n                cache = outerCache[type] || [];\n                nodeIndex = cache[0] === dirruns && cache[1];\n                diff = cache[0] === dirruns && cache[2];\n                node = nodeIndex && parent.childNodes[nodeIndex];\n                while (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) {\n                  if (node.nodeType === 1 && ++diff && node === elem) {\n                    outerCache[type] = [\n                      dirruns,\n                      nodeIndex,\n                      diff\n                    ];\n                    break;\n                  }\n                }\n              } else if (useCache && (cache = (elem[expando] || (elem[expando] = {}))[type]) && cache[0] === dirruns) {\n                diff = cache[1];\n              } else {\n                while (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) {\n                  if ((ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) && ++diff) {\n                    if (useCache) {\n                      (node[expando] || (node[expando] = {}))[type] = [\n                        dirruns,\n                        diff\n                      ];\n                    }\n                    if (node === elem) {\n                      break;\n                    }\n                  }\n                }\n              }\n              diff -= last;\n              return diff === first || diff % first === 0 && diff / first >= 0;\n            }\n          };\n        },\n        PSEUDO: function (pseudo, argument) {\n          var args, fn = Expr.pseudos[pseudo] || Expr.setFilters[pseudo.toLowerCase()] || Sizzle.error('unsupported pseudo: ' + pseudo);\n          if (fn[expando]) {\n            return fn(argument);\n          }\n          if (fn.length > 1) {\n            args = [\n              pseudo,\n              pseudo,\n              '',\n              argument\n            ];\n            return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase()) ? markFunction(function (seed, matches) {\n              var idx, matched = fn(seed, argument), i = matched.length;\n              while (i--) {\n                idx = indexOf.call(seed, matched[i]);\n                seed[idx] = !(matches[idx] = matched[i]);\n              }\n            }) : function (elem) {\n              return fn(elem, 0, args);\n            };\n          }\n          return fn;\n        }\n      },\n      pseudos: {\n        not: markFunction(function (selector) {\n          var input = [], results = [], matcher = compile(selector.replace(rtrim, '$1'));\n          return matcher[expando] ? markFunction(function (seed, matches, context, xml) {\n            var elem, unmatched = matcher(seed, null, xml, []), i = seed.length;\n            while (i--) {\n              if (elem = unmatched[i]) {\n                seed[i] = !(matches[i] = elem);\n              }\n            }\n          }) : function (elem, context, xml) {\n            input[0] = elem;\n            matcher(input, null, xml, results);\n            input[0] = null;\n            return !results.pop();\n          };\n        }),\n        has: markFunction(function (selector) {\n          return function (elem) {\n            return Sizzle(selector, elem).length > 0;\n          };\n        }),\n        contains: markFunction(function (text) {\n          text = text.replace(runescape, funescape);\n          return function (elem) {\n            return (elem.textContent || elem.innerText || getText(elem)).indexOf(text) > -1;\n          };\n        }),\n        lang: markFunction(function (lang) {\n          if (!ridentifier.test(lang || '')) {\n            Sizzle.error('unsupported lang: ' + lang);\n          }\n          lang = lang.replace(runescape, funescape).toLowerCase();\n          return function (elem) {\n            var elemLang;\n            do {\n              if (elemLang = documentIsHTML ? elem.lang : elem.getAttribute('xml:lang') || elem.getAttribute('lang')) {\n                elemLang = elemLang.toLowerCase();\n                return elemLang === lang || elemLang.indexOf(lang + '-') === 0;\n              }\n            } while ((elem = elem.parentNode) && elem.nodeType === 1);\n            return false;\n          };\n        }),\n        target: function (elem) {\n          var hash = window.location && window.location.hash;\n          return hash && hash.slice(1) === elem.id;\n        },\n        root: function (elem) {\n          return elem === docElem;\n        },\n        focus: function (elem) {\n          return elem === document$1.activeElement && (!document$1.hasFocus || document$1.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n        },\n        enabled: function (elem) {\n          return elem.disabled === false;\n        },\n        disabled: function (elem) {\n          return elem.disabled === true;\n        },\n        checked: function (elem) {\n          var nodeName = elem.nodeName.toLowerCase();\n          return nodeName === 'input' && !!elem.checked || nodeName === 'option' && !!elem.selected;\n        },\n        selected: function (elem) {\n          if (elem.parentNode) {\n            elem.parentNode.selectedIndex;\n          }\n          return elem.selected === true;\n        },\n        empty: function (elem) {\n          for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n            if (elem.nodeType < 6) {\n              return false;\n            }\n          }\n          return true;\n        },\n        parent: function (elem) {\n          return !Expr.pseudos.empty(elem);\n        },\n        header: function (elem) {\n          return rheader.test(elem.nodeName);\n        },\n        input: function (elem) {\n          return rinputs.test(elem.nodeName);\n        },\n        button: function (elem) {\n          var name = elem.nodeName.toLowerCase();\n          return name === 'input' && elem.type === 'button' || name === 'button';\n        },\n        text: function (elem) {\n          var attr;\n          return elem.nodeName.toLowerCase() === 'input' && elem.type === 'text' && ((attr = elem.getAttribute('type')) == null || attr.toLowerCase() === 'text');\n        },\n        first: createPositionalPseudo(function () {\n          return [0];\n        }),\n        last: createPositionalPseudo(function (matchIndexes, length) {\n          return [length - 1];\n        }),\n        eq: createPositionalPseudo(function (matchIndexes, length, argument) {\n          return [argument < 0 ? argument + length : argument];\n        }),\n        even: createPositionalPseudo(function (matchIndexes, length) {\n          var i = 0;\n          for (; i < length; i += 2) {\n            matchIndexes.push(i);\n          }\n          return matchIndexes;\n        }),\n        odd: createPositionalPseudo(function (matchIndexes, length) {\n          var i = 1;\n          for (; i < length; i += 2) {\n            matchIndexes.push(i);\n          }\n          return matchIndexes;\n        }),\n        lt: createPositionalPseudo(function (matchIndexes, length, argument) {\n          var i = argument < 0 ? argument + length : argument;\n          for (; --i >= 0;) {\n            matchIndexes.push(i);\n          }\n          return matchIndexes;\n        }),\n        gt: createPositionalPseudo(function (matchIndexes, length, argument) {\n          var i = argument < 0 ? argument + length : argument;\n          for (; ++i < length;) {\n            matchIndexes.push(i);\n          }\n          return matchIndexes;\n        })\n      }\n    };\n    Expr.pseudos.nth = Expr.pseudos.eq;\n    each$k([\n      'radio',\n      'checkbox',\n      'file',\n      'password',\n      'image'\n    ], function (i) {\n      Expr.pseudos[i] = createInputPseudo(i);\n    });\n    each$k([\n      'submit',\n      'reset'\n    ], function (i) {\n      Expr.pseudos[i] = createButtonPseudo(i);\n    });\n    function setFilters() {\n    }\n    setFilters.prototype = Expr.filters = Expr.pseudos;\n    Expr.setFilters = new setFilters();\n    tokenize = Sizzle.tokenize = function (selector, parseOnly) {\n      var matched, match, tokens, type, soFar, groups, preFilters, cached = tokenCache[selector + ' '];\n      if (cached) {\n        return parseOnly ? 0 : cached.slice(0);\n      }\n      soFar = selector;\n      groups = [];\n      preFilters = Expr.preFilter;\n      while (soFar) {\n        if (!matched || (match = rcomma.exec(soFar))) {\n          if (match) {\n            soFar = soFar.slice(match[0].length) || soFar;\n          }\n          groups.push(tokens = []);\n        }\n        matched = false;\n        if (match = rcombinators.exec(soFar)) {\n          matched = match.shift();\n          tokens.push({\n            value: matched,\n            type: match[0].replace(rtrim, ' ')\n          });\n          soFar = soFar.slice(matched.length);\n        }\n        for (type in Expr.filter) {\n          if (!Expr.filter.hasOwnProperty(type)) {\n            continue;\n          }\n          if ((match = matchExpr[type].exec(soFar)) && (!preFilters[type] || (match = preFilters[type](match)))) {\n            matched = match.shift();\n            tokens.push({\n              value: matched,\n              type: type,\n              matches: match\n            });\n            soFar = soFar.slice(matched.length);\n          }\n        }\n        if (!matched) {\n          break;\n        }\n      }\n      return parseOnly ? soFar.length : soFar ? Sizzle.error(selector) : tokenCache(selector, groups).slice(0);\n    };\n    function toSelector(tokens) {\n      var i = 0, len = tokens.length, selector = '';\n      for (; i < len; i++) {\n        selector += tokens[i].value;\n      }\n      return selector;\n    }\n    function addCombinator(matcher, combinator, base) {\n      var dir = combinator.dir, checkNonElements = base && dir === 'parentNode', doneName = done++;\n      return combinator.first ? function (elem, context, xml) {\n        while (elem = elem[dir]) {\n          if (elem.nodeType === 1 || checkNonElements) {\n            return matcher(elem, context, xml);\n          }\n        }\n      } : function (elem, context, xml) {\n        var oldCache, outerCache, newCache = [\n            dirruns,\n            doneName\n          ];\n        if (xml) {\n          while (elem = elem[dir]) {\n            if (elem.nodeType === 1 || checkNonElements) {\n              if (matcher(elem, context, xml)) {\n                return true;\n              }\n            }\n          }\n        } else {\n          while (elem = elem[dir]) {\n            if (elem.nodeType === 1 || checkNonElements) {\n              outerCache = elem[expando] || (elem[expando] = {});\n              if ((oldCache = outerCache[dir]) && oldCache[0] === dirruns && oldCache[1] === doneName) {\n                return newCache[2] = oldCache[2];\n              } else {\n                outerCache[dir] = newCache;\n                if (newCache[2] = matcher(elem, context, xml)) {\n                  return true;\n                }\n              }\n            }\n          }\n        }\n      };\n    }\n    function elementMatcher(matchers) {\n      return matchers.length > 1 ? function (elem, context, xml) {\n        var i = matchers.length;\n        while (i--) {\n          if (!matchers[i](elem, context, xml)) {\n            return false;\n          }\n        }\n        return true;\n      } : matchers[0];\n    }\n    function multipleContexts(selector, contexts, results) {\n      var i = 0, len = contexts.length;\n      for (; i < len; i++) {\n        Sizzle(selector, contexts[i], results);\n      }\n      return results;\n    }\n    function condense(unmatched, map, filter, context, xml) {\n      var elem, newUnmatched = [], i = 0, len = unmatched.length, mapped = map != null;\n      for (; i < len; i++) {\n        if (elem = unmatched[i]) {\n          if (!filter || filter(elem, context, xml)) {\n            newUnmatched.push(elem);\n            if (mapped) {\n              map.push(i);\n            }\n          }\n        }\n      }\n      return newUnmatched;\n    }\n    function setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector) {\n      if (postFilter && !postFilter[expando]) {\n        postFilter = setMatcher(postFilter);\n      }\n      if (postFinder && !postFinder[expando]) {\n        postFinder = setMatcher(postFinder, postSelector);\n      }\n      return markFunction(function (seed, results, context, xml) {\n        var temp, i, elem, preMap = [], postMap = [], preexisting = results.length, elems = seed || multipleContexts(selector || '*', context.nodeType ? [context] : context, []), matcherIn = preFilter && (seed || !selector) ? condense(elems, preMap, preFilter, context, xml) : elems, matcherOut = matcher ? postFinder || (seed ? preFilter : preexisting || postFilter) ? [] : results : matcherIn;\n        if (matcher) {\n          matcher(matcherIn, matcherOut, context, xml);\n        }\n        if (postFilter) {\n          temp = condense(matcherOut, postMap);\n          postFilter(temp, [], context, xml);\n          i = temp.length;\n          while (i--) {\n            if (elem = temp[i]) {\n              matcherOut[postMap[i]] = !(matcherIn[postMap[i]] = elem);\n            }\n          }\n        }\n        if (seed) {\n          if (postFinder || preFilter) {\n            if (postFinder) {\n              temp = [];\n              i = matcherOut.length;\n              while (i--) {\n                if (elem = matcherOut[i]) {\n                  temp.push(matcherIn[i] = elem);\n                }\n              }\n              postFinder(null, matcherOut = [], temp, xml);\n            }\n            i = matcherOut.length;\n            while (i--) {\n              if ((elem = matcherOut[i]) && (temp = postFinder ? indexOf.call(seed, elem) : preMap[i]) > -1) {\n                seed[temp] = !(results[temp] = elem);\n              }\n            }\n          }\n        } else {\n          matcherOut = condense(matcherOut === results ? matcherOut.splice(preexisting, matcherOut.length) : matcherOut);\n          if (postFinder) {\n            postFinder(null, results, matcherOut, xml);\n          } else {\n            push$1.apply(results, matcherOut);\n          }\n        }\n      });\n    }\n    function matcherFromTokens(tokens) {\n      var checkContext, matcher, j, len = tokens.length, leadingRelative = Expr.relative[tokens[0].type], implicitRelative = leadingRelative || Expr.relative[' '], i = leadingRelative ? 1 : 0, matchContext = addCombinator(function (elem) {\n          return elem === checkContext;\n        }, implicitRelative, true), matchAnyContext = addCombinator(function (elem) {\n          return indexOf.call(checkContext, elem) > -1;\n        }, implicitRelative, true), matchers = [function (elem, context, xml) {\n            var ret = !leadingRelative && (xml || context !== outermostContext) || ((checkContext = context).nodeType ? matchContext(elem, context, xml) : matchAnyContext(elem, context, xml));\n            checkContext = null;\n            return ret;\n          }];\n      for (; i < len; i++) {\n        if (matcher = Expr.relative[tokens[i].type]) {\n          matchers = [addCombinator(elementMatcher(matchers), matcher)];\n        } else {\n          matcher = Expr.filter[tokens[i].type].apply(null, tokens[i].matches);\n          if (matcher[expando]) {\n            j = ++i;\n            for (; j < len; j++) {\n              if (Expr.relative[tokens[j].type]) {\n                break;\n              }\n            }\n            return setMatcher(i > 1 && elementMatcher(matchers), i > 1 && toSelector(tokens.slice(0, i - 1).concat({ value: tokens[i - 2].type === ' ' ? '*' : '' })).replace(rtrim, '$1'), matcher, i < j && matcherFromTokens(tokens.slice(i, j)), j < len && matcherFromTokens(tokens = tokens.slice(j)), j < len && toSelector(tokens));\n          }\n          matchers.push(matcher);\n        }\n      }\n      return elementMatcher(matchers);\n    }\n    function matcherFromGroupMatchers(elementMatchers, setMatchers) {\n      var bySet = setMatchers.length > 0, byElement = elementMatchers.length > 0, superMatcher = function (seed, context, xml, results, outermost) {\n          var elem, j, matcher, matchedCount = 0, i = '0', unmatched = seed && [], setMatched = [], contextBackup = outermostContext, elems = seed || byElement && Expr.find.TAG('*', outermost), dirrunsUnique = dirruns += contextBackup == null ? 1 : Math.random() || 0.1, len = elems.length;\n          if (outermost) {\n            outermostContext = context !== document$1 && context;\n          }\n          for (; i !== len && (elem = elems[i]) != null; i++) {\n            if (byElement && elem) {\n              j = 0;\n              while (matcher = elementMatchers[j++]) {\n                if (matcher(elem, context, xml)) {\n                  results.push(elem);\n                  break;\n                }\n              }\n              if (outermost) {\n                dirruns = dirrunsUnique;\n              }\n            }\n            if (bySet) {\n              if (elem = !matcher && elem) {\n                matchedCount--;\n              }\n              if (seed) {\n                unmatched.push(elem);\n              }\n            }\n          }\n          matchedCount += i;\n          if (bySet && i !== matchedCount) {\n            j = 0;\n            while (matcher = setMatchers[j++]) {\n              matcher(unmatched, setMatched, context, xml);\n            }\n            if (seed) {\n              if (matchedCount > 0) {\n                while (i--) {\n                  if (!(unmatched[i] || setMatched[i])) {\n                    setMatched[i] = pop.call(results);\n                  }\n                }\n              }\n              setMatched = condense(setMatched);\n            }\n            push$1.apply(results, setMatched);\n            if (outermost && !seed && setMatched.length > 0 && matchedCount + setMatchers.length > 1) {\n              Sizzle.uniqueSort(results);\n            }\n          }\n          if (outermost) {\n            dirruns = dirrunsUnique;\n            outermostContext = contextBackup;\n          }\n          return unmatched;\n        };\n      return bySet ? markFunction(superMatcher) : superMatcher;\n    }\n    compile = Sizzle.compile = function (selector, match) {\n      var i, setMatchers = [], elementMatchers = [], cached = compilerCache[selector + ' '];\n      if (!cached) {\n        if (!match) {\n          match = tokenize(selector);\n        }\n        i = match.length;\n        while (i--) {\n          cached = matcherFromTokens(match[i]);\n          if (cached[expando]) {\n            setMatchers.push(cached);\n          } else {\n            elementMatchers.push(cached);\n          }\n        }\n        cached = compilerCache(selector, matcherFromGroupMatchers(elementMatchers, setMatchers));\n        cached.selector = selector;\n      }\n      return cached;\n    };\n    select$1 = Sizzle.select = function (selector, context, results, seed) {\n      var i, tokens, token, type, find, compiled = typeof selector === 'function' && selector, match = !seed && tokenize(selector = compiled.selector || selector);\n      results = results || [];\n      if (match.length === 1) {\n        tokens = match[0] = match[0].slice(0);\n        if (tokens.length > 2 && (token = tokens[0]).type === 'ID' && support.getById && context.nodeType === 9 && documentIsHTML && Expr.relative[tokens[1].type]) {\n          context = (Expr.find.ID(token.matches[0].replace(runescape, funescape), context) || [])[0];\n          if (!context) {\n            return results;\n          } else if (compiled) {\n            context = context.parentNode;\n          }\n          selector = selector.slice(tokens.shift().value.length);\n        }\n        i = matchExpr.needsContext.test(selector) ? 0 : tokens.length;\n        while (i--) {\n          token = tokens[i];\n          if (Expr.relative[type = token.type]) {\n            break;\n          }\n          if (find = Expr.find[type]) {\n            if (seed = find(token.matches[0].replace(runescape, funescape), rsibling.test(tokens[0].type) && testContext(context.parentNode) || context)) {\n              tokens.splice(i, 1);\n              selector = seed.length && toSelector(tokens);\n              if (!selector) {\n                push$1.apply(results, seed);\n                return results;\n              }\n              break;\n            }\n          }\n        }\n      }\n      (compiled || compile(selector, match))(seed, context, !documentIsHTML, results, rsibling.test(selector) && testContext(context.parentNode) || context);\n      return results;\n    };\n    support.sortStable = expando.split('').sort(sortOrder).join('') === expando;\n    support.detectDuplicates = !!hasDuplicate;\n    setDocument();\n    support.sortDetached = true;\n\n    var doc = document;\n    var push = Array.prototype.push;\n    var slice = Array.prototype.slice;\n    var rquickExpr = /^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/;\n    var Event$1 = EventUtils.Event;\n    var skipUniques = Tools.makeMap('children,contents,next,prev');\n    var isDefined = function (obj) {\n      return typeof obj !== 'undefined';\n    };\n    var isString = function (obj) {\n      return typeof obj === 'string';\n    };\n    var isWindow = function (obj) {\n      return obj && obj === obj.window;\n    };\n    var createFragment$1 = function (html, fragDoc) {\n      fragDoc = fragDoc || doc;\n      var container = fragDoc.createElement('div');\n      var frag = fragDoc.createDocumentFragment();\n      container.innerHTML = html;\n      var node;\n      while (node = container.firstChild) {\n        frag.appendChild(node);\n      }\n      return frag;\n    };\n    var domManipulate = function (targetNodes, sourceItem, callback, reverse) {\n      var i;\n      if (isString(sourceItem)) {\n        sourceItem = createFragment$1(sourceItem, getElementDocument(targetNodes[0]));\n      } else if (sourceItem.length && !sourceItem.nodeType) {\n        sourceItem = DomQuery.makeArray(sourceItem);\n        if (reverse) {\n          for (i = sourceItem.length - 1; i >= 0; i--) {\n            domManipulate(targetNodes, sourceItem[i], callback, reverse);\n          }\n        } else {\n          for (i = 0; i < sourceItem.length; i++) {\n            domManipulate(targetNodes, sourceItem[i], callback, reverse);\n          }\n        }\n        return targetNodes;\n      }\n      if (sourceItem.nodeType) {\n        i = targetNodes.length;\n        while (i--) {\n          callback.call(targetNodes[i], sourceItem);\n        }\n      }\n      return targetNodes;\n    };\n    var hasClass = function (node, className) {\n      return node && className && (' ' + node.className + ' ').indexOf(' ' + className + ' ') !== -1;\n    };\n    var wrap$2 = function (elements, wrapper, all) {\n      var lastParent, newWrapper;\n      wrapper = DomQuery(wrapper)[0];\n      elements.each(function () {\n        var self = this;\n        if (!all || lastParent !== self.parentNode) {\n          lastParent = self.parentNode;\n          newWrapper = wrapper.cloneNode(false);\n          self.parentNode.insertBefore(newWrapper, self);\n          newWrapper.appendChild(self);\n        } else {\n          newWrapper.appendChild(self);\n        }\n      });\n      return elements;\n    };\n    var numericCssMap = Tools.makeMap('fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom', ' ');\n    var booleanMap = Tools.makeMap('checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected', ' ');\n    var propFix = {\n      for: 'htmlFor',\n      class: 'className',\n      readonly: 'readOnly'\n    };\n    var cssFix = { float: 'cssFloat' };\n    var attrHooks = {}, cssHooks = {};\n    var DomQueryConstructor = function (selector, context) {\n      return new DomQuery.fn.init(selector, context);\n    };\n    var inArray$1 = function (item, array) {\n      var i;\n      if (array.indexOf) {\n        return array.indexOf(item);\n      }\n      i = array.length;\n      while (i--) {\n        if (array[i] === item) {\n          return i;\n        }\n      }\n      return -1;\n    };\n    var whiteSpaceRegExp = /^\\s*|\\s*$/g;\n    var trim$2 = function (str) {\n      return str === null || str === undefined ? '' : ('' + str).replace(whiteSpaceRegExp, '');\n    };\n    var each$g = function (obj, callback) {\n      var length, key, i, value;\n      if (obj) {\n        length = obj.length;\n        if (length === undefined) {\n          for (key in obj) {\n            if (obj.hasOwnProperty(key)) {\n              value = obj[key];\n              if (callback.call(value, key, value) === false) {\n                break;\n              }\n            }\n          }\n        } else {\n          for (i = 0; i < length; i++) {\n            value = obj[i];\n            if (callback.call(value, i, value) === false) {\n              break;\n            }\n          }\n        }\n      }\n      return obj;\n    };\n    var grep$2 = function (array, callback) {\n      var out = [];\n      each$g(array, function (i, item) {\n        if (callback(item, i)) {\n          out.push(item);\n        }\n      });\n      return out;\n    };\n    var getElementDocument = function (element) {\n      if (!element) {\n        return doc;\n      }\n      if (element.nodeType === 9) {\n        return element;\n      }\n      return element.ownerDocument;\n    };\n    DomQueryConstructor.fn = DomQueryConstructor.prototype = {\n      constructor: DomQueryConstructor,\n      selector: '',\n      context: null,\n      length: 0,\n      init: function (selector, context) {\n        var self = this;\n        var match, node;\n        if (!selector) {\n          return self;\n        }\n        if (selector.nodeType) {\n          self.context = self[0] = selector;\n          self.length = 1;\n          return self;\n        }\n        if (context && context.nodeType) {\n          self.context = context;\n        } else {\n          if (context) {\n            return DomQuery(selector).attr(context);\n          }\n          self.context = context = document;\n        }\n        if (isString(selector)) {\n          self.selector = selector;\n          if (selector.charAt(0) === '<' && selector.charAt(selector.length - 1) === '>' && selector.length >= 3) {\n            match = [\n              null,\n              selector,\n              null\n            ];\n          } else {\n            match = rquickExpr.exec(selector);\n          }\n          if (match) {\n            if (match[1]) {\n              node = createFragment$1(selector, getElementDocument(context)).firstChild;\n              while (node) {\n                push.call(self, node);\n                node = node.nextSibling;\n              }\n            } else {\n              node = getElementDocument(context).getElementById(match[2]);\n              if (!node) {\n                return self;\n              }\n              if (node.id !== match[2]) {\n                return self.find(selector);\n              }\n              self.length = 1;\n              self[0] = node;\n            }\n          } else {\n            return DomQuery(context).find(selector);\n          }\n        } else {\n          this.add(selector, false);\n        }\n        return self;\n      },\n      toArray: function () {\n        return Tools.toArray(this);\n      },\n      add: function (items, sort) {\n        var self = this;\n        var nodes, i;\n        if (isString(items)) {\n          return self.add(DomQuery(items));\n        }\n        if (sort !== false) {\n          nodes = DomQuery.unique(self.toArray().concat(DomQuery.makeArray(items)));\n          self.length = nodes.length;\n          for (i = 0; i < nodes.length; i++) {\n            self[i] = nodes[i];\n          }\n        } else {\n          push.apply(self, DomQuery.makeArray(items));\n        }\n        return self;\n      },\n      attr: function (name, value) {\n        var self = this;\n        var hook;\n        if (typeof name === 'object') {\n          each$g(name, function (name, value) {\n            self.attr(name, value);\n          });\n        } else if (isDefined(value)) {\n          this.each(function () {\n            var hook;\n            if (this.nodeType === 1) {\n              hook = attrHooks[name];\n              if (hook && hook.set) {\n                hook.set(this, value);\n                return;\n              }\n              if (value === null) {\n                this.removeAttribute(name, 2);\n              } else {\n                this.setAttribute(name, value, 2);\n              }\n            }\n          });\n        } else {\n          if (self[0] && self[0].nodeType === 1) {\n            hook = attrHooks[name];\n            if (hook && hook.get) {\n              return hook.get(self[0], name);\n            }\n            if (booleanMap[name]) {\n              return self.prop(name) ? name : undefined;\n            }\n            value = self[0].getAttribute(name, 2);\n            if (value === null) {\n              value = undefined;\n            }\n          }\n          return value;\n        }\n        return self;\n      },\n      removeAttr: function (name) {\n        return this.attr(name, null);\n      },\n      prop: function (name, value) {\n        var self = this;\n        name = propFix[name] || name;\n        if (typeof name === 'object') {\n          each$g(name, function (name, value) {\n            self.prop(name, value);\n          });\n        } else if (isDefined(value)) {\n          this.each(function () {\n            if (this.nodeType === 1) {\n              this[name] = value;\n            }\n          });\n        } else {\n          if (self[0] && self[0].nodeType && name in self[0]) {\n            return self[0][name];\n          }\n          return value;\n        }\n        return self;\n      },\n      css: function (name, value) {\n        var self = this;\n        var elm, hook;\n        var camel = function (name) {\n          return name.replace(/-(\\D)/g, function (a, b) {\n            return b.toUpperCase();\n          });\n        };\n        var dashed = function (name) {\n          return name.replace(/[A-Z]/g, function (a) {\n            return '-' + a;\n          });\n        };\n        if (typeof name === 'object') {\n          each$g(name, function (name, value) {\n            self.css(name, value);\n          });\n        } else {\n          if (isDefined(value)) {\n            name = camel(name);\n            if (typeof value === 'number' && !numericCssMap[name]) {\n              value = value.toString() + 'px';\n            }\n            self.each(function () {\n              var style = this.style;\n              hook = cssHooks[name];\n              if (hook && hook.set) {\n                hook.set(this, value);\n                return;\n              }\n              try {\n                this.style[cssFix[name] || name] = value;\n              } catch (ex) {\n              }\n              if (value === null || value === '') {\n                if (style.removeProperty) {\n                  style.removeProperty(dashed(name));\n                } else {\n                  style.removeAttribute(name);\n                }\n              }\n            });\n          } else {\n            elm = self[0];\n            hook = cssHooks[name];\n            if (hook && hook.get) {\n              return hook.get(elm);\n            }\n            if (elm.ownerDocument.defaultView) {\n              try {\n                return elm.ownerDocument.defaultView.getComputedStyle(elm, null).getPropertyValue(dashed(name));\n              } catch (ex) {\n                return undefined;\n              }\n            } else if (elm.currentStyle) {\n              return elm.currentStyle[camel(name)];\n            } else {\n              return '';\n            }\n          }\n        }\n        return self;\n      },\n      remove: function () {\n        var self = this;\n        var node, i = this.length;\n        while (i--) {\n          node = self[i];\n          Event$1.clean(node);\n          if (node.parentNode) {\n            node.parentNode.removeChild(node);\n          }\n        }\n        return this;\n      },\n      empty: function () {\n        var self = this;\n        var node, i = this.length;\n        while (i--) {\n          node = self[i];\n          while (node.firstChild) {\n            node.removeChild(node.firstChild);\n          }\n        }\n        return this;\n      },\n      html: function (value) {\n        var self = this;\n        var i;\n        if (isDefined(value)) {\n          i = self.length;\n          try {\n            while (i--) {\n              self[i].innerHTML = value;\n            }\n          } catch (ex) {\n            DomQuery(self[i]).empty().append(value);\n          }\n          return self;\n        }\n        return self[0] ? self[0].innerHTML : '';\n      },\n      text: function (value) {\n        var self = this;\n        var i;\n        if (isDefined(value)) {\n          i = self.length;\n          while (i--) {\n            if ('innerText' in self[i]) {\n              self[i].innerText = value;\n            } else {\n              self[0].textContent = value;\n            }\n          }\n          return self;\n        }\n        return self[0] ? self[0].innerText || self[0].textContent : '';\n      },\n      append: function () {\n        return domManipulate(this, arguments, function (node) {\n          if (this.nodeType === 1 || this.host && this.host.nodeType === 1) {\n            this.appendChild(node);\n          }\n        });\n      },\n      prepend: function () {\n        return domManipulate(this, arguments, function (node) {\n          if (this.nodeType === 1 || this.host && this.host.nodeType === 1) {\n            this.insertBefore(node, this.firstChild);\n          }\n        }, true);\n      },\n      before: function () {\n        var self = this;\n        if (self[0] && self[0].parentNode) {\n          return domManipulate(self, arguments, function (node) {\n            this.parentNode.insertBefore(node, this);\n          });\n        }\n        return self;\n      },\n      after: function () {\n        var self = this;\n        if (self[0] && self[0].parentNode) {\n          return domManipulate(self, arguments, function (node) {\n            this.parentNode.insertBefore(node, this.nextSibling);\n          }, true);\n        }\n        return self;\n      },\n      appendTo: function (val) {\n        DomQuery(val).append(this);\n        return this;\n      },\n      prependTo: function (val) {\n        DomQuery(val).prepend(this);\n        return this;\n      },\n      replaceWith: function (content) {\n        return this.before(content).remove();\n      },\n      wrap: function (content) {\n        return wrap$2(this, content);\n      },\n      wrapAll: function (content) {\n        return wrap$2(this, content, true);\n      },\n      wrapInner: function (content) {\n        this.each(function () {\n          DomQuery(this).contents().wrapAll(content);\n        });\n        return this;\n      },\n      unwrap: function () {\n        return this.parent().each(function () {\n          DomQuery(this).replaceWith(this.childNodes);\n        });\n      },\n      clone: function () {\n        var result = [];\n        this.each(function () {\n          result.push(this.cloneNode(true));\n        });\n        return DomQuery(result);\n      },\n      addClass: function (className) {\n        return this.toggleClass(className, true);\n      },\n      removeClass: function (className) {\n        return this.toggleClass(className, false);\n      },\n      toggleClass: function (className, state) {\n        var self = this;\n        if (typeof className !== 'string') {\n          return self;\n        }\n        if (className.indexOf(' ') !== -1) {\n          each$g(className.split(' '), function () {\n            self.toggleClass(this, state);\n          });\n        } else {\n          self.each(function (index, node) {\n            var classState = hasClass(node, className);\n            if (classState !== state) {\n              var existingClassName = node.className;\n              if (classState) {\n                node.className = trim$2((' ' + existingClassName + ' ').replace(' ' + className + ' ', ' '));\n              } else {\n                node.className += existingClassName ? ' ' + className : className;\n              }\n            }\n          });\n        }\n        return self;\n      },\n      hasClass: function (className) {\n        return hasClass(this[0], className);\n      },\n      each: function (callback) {\n        return each$g(this, callback);\n      },\n      on: function (name, callback) {\n        return this.each(function () {\n          Event$1.bind(this, name, callback);\n        });\n      },\n      off: function (name, callback) {\n        return this.each(function () {\n          Event$1.unbind(this, name, callback);\n        });\n      },\n      trigger: function (name) {\n        return this.each(function () {\n          if (typeof name === 'object') {\n            Event$1.fire(this, name.type, name);\n          } else {\n            Event$1.fire(this, name);\n          }\n        });\n      },\n      show: function () {\n        return this.css('display', '');\n      },\n      hide: function () {\n        return this.css('display', 'none');\n      },\n      slice: function () {\n        return DomQuery(slice.apply(this, arguments));\n      },\n      eq: function (index) {\n        return index === -1 ? this.slice(index) : this.slice(index, +index + 1);\n      },\n      first: function () {\n        return this.eq(0);\n      },\n      last: function () {\n        return this.eq(-1);\n      },\n      find: function (selector) {\n        var i, l;\n        var ret = [];\n        for (i = 0, l = this.length; i < l; i++) {\n          DomQuery.find(selector, this[i], ret);\n        }\n        return DomQuery(ret);\n      },\n      filter: function (selector) {\n        if (typeof selector === 'function') {\n          return DomQuery(grep$2(this.toArray(), function (item, i) {\n            return selector(i, item);\n          }));\n        }\n        return DomQuery(DomQuery.filter(selector, this.toArray()));\n      },\n      closest: function (selector) {\n        var result = [];\n        if (selector instanceof DomQuery) {\n          selector = selector[0];\n        }\n        this.each(function (i, node) {\n          while (node) {\n            if (typeof selector === 'string' && DomQuery(node).is(selector)) {\n              result.push(node);\n              break;\n            } else if (node === selector) {\n              result.push(node);\n              break;\n            }\n            node = node.parentNode;\n          }\n        });\n        return DomQuery(result);\n      },\n      offset: function (offset) {\n        var elm, doc, docElm;\n        var x = 0, y = 0, pos;\n        if (!offset) {\n          elm = this[0];\n          if (elm) {\n            doc = elm.ownerDocument;\n            docElm = doc.documentElement;\n            if (elm.getBoundingClientRect) {\n              pos = elm.getBoundingClientRect();\n              x = pos.left + (docElm.scrollLeft || doc.body.scrollLeft) - docElm.clientLeft;\n              y = pos.top + (docElm.scrollTop || doc.body.scrollTop) - docElm.clientTop;\n            }\n          }\n          return {\n            left: x,\n            top: y\n          };\n        }\n        return this.css(offset);\n      },\n      push: push,\n      sort: Array.prototype.sort,\n      splice: Array.prototype.splice\n    };\n    Tools.extend(DomQueryConstructor, {\n      extend: Tools.extend,\n      makeArray: function (object) {\n        if (isWindow(object) || object.nodeType) {\n          return [object];\n        }\n        return Tools.toArray(object);\n      },\n      inArray: inArray$1,\n      isArray: Tools.isArray,\n      each: each$g,\n      trim: trim$2,\n      grep: grep$2,\n      find: Sizzle,\n      expr: Sizzle.selectors,\n      unique: Sizzle.uniqueSort,\n      text: Sizzle.getText,\n      contains: Sizzle.contains,\n      filter: function (expr, elems, not) {\n        var i = elems.length;\n        if (not) {\n          expr = ':not(' + expr + ')';\n        }\n        while (i--) {\n          if (elems[i].nodeType !== 1) {\n            elems.splice(i, 1);\n          }\n        }\n        if (elems.length === 1) {\n          elems = DomQuery.find.matchesSelector(elems[0], expr) ? [elems[0]] : [];\n        } else {\n          elems = DomQuery.find.matches(expr, elems);\n        }\n        return elems;\n      }\n    });\n    var dir = function (el, prop, until) {\n      var matched = [];\n      var cur = el[prop];\n      if (typeof until !== 'string' && until instanceof DomQuery) {\n        until = until[0];\n      }\n      while (cur && cur.nodeType !== 9) {\n        if (until !== undefined) {\n          if (cur === until) {\n            break;\n          }\n          if (typeof until === 'string' && DomQuery(cur).is(until)) {\n            break;\n          }\n        }\n        if (cur.nodeType === 1) {\n          matched.push(cur);\n        }\n        cur = cur[prop];\n      }\n      return matched;\n    };\n    var sibling$1 = function (node, siblingName, nodeType, until) {\n      var result = [];\n      if (until instanceof DomQuery) {\n        until = until[0];\n      }\n      for (; node; node = node[siblingName]) {\n        if (nodeType && node.nodeType !== nodeType) {\n          continue;\n        }\n        if (until !== undefined) {\n          if (node === until) {\n            break;\n          }\n          if (typeof until === 'string' && DomQuery(node).is(until)) {\n            break;\n          }\n        }\n        result.push(node);\n      }\n      return result;\n    };\n    var firstSibling = function (node, siblingName, nodeType) {\n      for (node = node[siblingName]; node; node = node[siblingName]) {\n        if (node.nodeType === nodeType) {\n          return node;\n        }\n      }\n      return null;\n    };\n    each$g({\n      parent: function (node) {\n        var parent = node.parentNode;\n        return parent && parent.nodeType !== 11 ? parent : null;\n      },\n      parents: function (node) {\n        return dir(node, 'parentNode');\n      },\n      next: function (node) {\n        return firstSibling(node, 'nextSibling', 1);\n      },\n      prev: function (node) {\n        return firstSibling(node, 'previousSibling', 1);\n      },\n      children: function (node) {\n        return sibling$1(node.firstChild, 'nextSibling', 1);\n      },\n      contents: function (node) {\n        return Tools.toArray((node.nodeName === 'iframe' ? node.contentDocument || node.contentWindow.document : node).childNodes);\n      }\n    }, function (name, fn) {\n      DomQueryConstructor.fn[name] = function (selector) {\n        var self = this;\n        var result = [];\n        self.each(function () {\n          var nodes = fn.call(result, this, selector, result);\n          if (nodes) {\n            if (DomQuery.isArray(nodes)) {\n              result.push.apply(result, nodes);\n            } else {\n              result.push(nodes);\n            }\n          }\n        });\n        if (this.length > 1) {\n          if (!skipUniques[name]) {\n            result = DomQuery.unique(result);\n          }\n          if (name.indexOf('parents') === 0) {\n            result = result.reverse();\n          }\n        }\n        var wrappedResult = DomQuery(result);\n        if (selector) {\n          return wrappedResult.filter(selector);\n        }\n        return wrappedResult;\n      };\n    });\n    each$g({\n      parentsUntil: function (node, until) {\n        return dir(node, 'parentNode', until);\n      },\n      nextUntil: function (node, until) {\n        return sibling$1(node, 'nextSibling', 1, until).slice(1);\n      },\n      prevUntil: function (node, until) {\n        return sibling$1(node, 'previousSibling', 1, until).slice(1);\n      }\n    }, function (name, fn) {\n      DomQueryConstructor.fn[name] = function (selector, filter) {\n        var self = this;\n        var result = [];\n        self.each(function () {\n          var nodes = fn.call(result, this, selector, result);\n          if (nodes) {\n            if (DomQuery.isArray(nodes)) {\n              result.push.apply(result, nodes);\n            } else {\n              result.push(nodes);\n            }\n          }\n        });\n        if (this.length > 1) {\n          result = DomQuery.unique(result);\n          if (name.indexOf('parents') === 0 || name === 'prevUntil') {\n            result = result.reverse();\n          }\n        }\n        var wrappedResult = DomQuery(result);\n        if (filter) {\n          return wrappedResult.filter(filter);\n        }\n        return wrappedResult;\n      };\n    });\n    DomQueryConstructor.fn.is = function (selector) {\n      return !!selector && this.filter(selector).length > 0;\n    };\n    DomQueryConstructor.fn.init.prototype = DomQueryConstructor.fn;\n    DomQueryConstructor.overrideDefaults = function (callback) {\n      var defaults;\n      var sub = function (selector, context) {\n        defaults = defaults || callback();\n        if (arguments.length === 0) {\n          selector = defaults.element;\n        }\n        if (!context) {\n          context = defaults.context;\n        }\n        return new sub.fn.init(selector, context);\n      };\n      DomQuery.extend(sub, this);\n      return sub;\n    };\n    DomQueryConstructor.attrHooks = attrHooks;\n    DomQueryConstructor.cssHooks = cssHooks;\n    var DomQuery = DomQueryConstructor;\n\n    var each$f = Tools.each;\n    var grep$1 = Tools.grep;\n    var isIE = Env.ie;\n    var simpleSelectorRe = /^([a-z0-9],?)+$/i;\n    var setupAttrHooks = function (styles, settings, getContext) {\n      var keepValues = settings.keep_values;\n      var keepUrlHook = {\n        set: function ($elm, value, name) {\n          if (settings.url_converter && value !== null) {\n            value = settings.url_converter.call(settings.url_converter_scope || getContext(), value, name, $elm[0]);\n          }\n          $elm.attr('data-mce-' + name, value).attr(name, value);\n        },\n        get: function ($elm, name) {\n          return $elm.attr('data-mce-' + name) || $elm.attr(name);\n        }\n      };\n      var attrHooks = {\n        style: {\n          set: function ($elm, value) {\n            if (value !== null && typeof value === 'object') {\n              $elm.css(value);\n              return;\n            }\n            if (keepValues) {\n              $elm.attr('data-mce-style', value);\n            }\n            if (value !== null && typeof value === 'string') {\n              $elm.removeAttr('style');\n              $elm.css(styles.parse(value));\n            } else {\n              $elm.attr('style', value);\n            }\n          },\n          get: function ($elm) {\n            var value = $elm.attr('data-mce-style') || $elm.attr('style');\n            value = styles.serialize(styles.parse(value), $elm[0].nodeName);\n            return value;\n          }\n        }\n      };\n      if (keepValues) {\n        attrHooks.href = attrHooks.src = keepUrlHook;\n      }\n      return attrHooks;\n    };\n    var updateInternalStyleAttr = function (styles, $elm) {\n      var rawValue = $elm.attr('style');\n      var value = styles.serialize(styles.parse(rawValue), $elm[0].nodeName);\n      if (!value) {\n        value = null;\n      }\n      $elm.attr('data-mce-style', value);\n    };\n    var findNodeIndex = function (node, normalized) {\n      var idx = 0, lastNodeType, nodeType;\n      if (node) {\n        for (lastNodeType = node.nodeType, node = node.previousSibling; node; node = node.previousSibling) {\n          nodeType = node.nodeType;\n          if (normalized && nodeType === 3) {\n            if (nodeType === lastNodeType || !node.nodeValue.length) {\n              continue;\n            }\n          }\n          idx++;\n          lastNodeType = nodeType;\n        }\n      }\n      return idx;\n    };\n    var DOMUtils = function (doc, settings) {\n      if (settings === void 0) {\n        settings = {};\n      }\n      var addedStyles = {};\n      var win = window;\n      var files = {};\n      var counter = 0;\n      var stdMode = true;\n      var boxModel = true;\n      var styleSheetLoader = instance.forElement(SugarElement.fromDom(doc), {\n        contentCssCors: settings.contentCssCors,\n        referrerPolicy: settings.referrerPolicy\n      });\n      var boundEvents = [];\n      var schema = settings.schema ? settings.schema : Schema({});\n      var styles = Styles({\n        url_converter: settings.url_converter,\n        url_converter_scope: settings.url_converter_scope\n      }, settings.schema);\n      var events = settings.ownEvents ? new EventUtils() : EventUtils.Event;\n      var blockElementsMap = schema.getBlockElements();\n      var $ = DomQuery.overrideDefaults(function () {\n        return {\n          context: doc,\n          element: self.getRoot()\n        };\n      });\n      var isBlock = function (node) {\n        if (typeof node === 'string') {\n          return !!blockElementsMap[node];\n        } else if (node) {\n          var type = node.nodeType;\n          if (type) {\n            return !!(type === 1 && blockElementsMap[node.nodeName]);\n          }\n        }\n        return false;\n      };\n      var get = function (elm) {\n        return elm && doc && isString$1(elm) ? doc.getElementById(elm) : elm;\n      };\n      var $$ = function (elm) {\n        return $(typeof elm === 'string' ? get(elm) : elm);\n      };\n      var getAttrib = function (elm, name, defaultVal) {\n        var hook, value;\n        var $elm = $$(elm);\n        if ($elm.length) {\n          hook = attrHooks[name];\n          if (hook && hook.get) {\n            value = hook.get($elm, name);\n          } else {\n            value = $elm.attr(name);\n          }\n        }\n        if (typeof value === 'undefined') {\n          value = defaultVal || '';\n        }\n        return value;\n      };\n      var getAttribs = function (elm) {\n        var node = get(elm);\n        if (!node) {\n          return [];\n        }\n        return node.attributes;\n      };\n      var setAttrib = function (elm, name, value) {\n        if (value === '') {\n          value = null;\n        }\n        var $elm = $$(elm);\n        var originalValue = $elm.attr(name);\n        if (!$elm.length) {\n          return;\n        }\n        var hook = attrHooks[name];\n        if (hook && hook.set) {\n          hook.set($elm, value, name);\n        } else {\n          $elm.attr(name, value);\n        }\n        if (originalValue !== value && settings.onSetAttrib) {\n          settings.onSetAttrib({\n            attrElm: $elm,\n            attrName: name,\n            attrValue: value\n          });\n        }\n      };\n      var clone = function (node, deep) {\n        if (!isIE || node.nodeType !== 1 || deep) {\n          return node.cloneNode(deep);\n        } else {\n          var clone_1 = doc.createElement(node.nodeName);\n          each$f(getAttribs(node), function (attr) {\n            setAttrib(clone_1, attr.nodeName, getAttrib(node, attr.nodeName));\n          });\n          return clone_1;\n        }\n      };\n      var getRoot = function () {\n        return settings.root_element || doc.body;\n      };\n      var getViewPort = function (argWin) {\n        var vp = getBounds(argWin);\n        return {\n          x: vp.x,\n          y: vp.y,\n          w: vp.width,\n          h: vp.height\n        };\n      };\n      var getPos$1 = function (elm, rootElm) {\n        return getPos(doc.body, get(elm), rootElm);\n      };\n      var setStyle = function (elm, name, value) {\n        var $elm = isString$1(name) ? $$(elm).css(name, value) : $$(elm).css(name);\n        if (settings.update_styles) {\n          updateInternalStyleAttr(styles, $elm);\n        }\n      };\n      var setStyles = function (elm, stylesArg) {\n        var $elm = $$(elm).css(stylesArg);\n        if (settings.update_styles) {\n          updateInternalStyleAttr(styles, $elm);\n        }\n      };\n      var getStyle = function (elm, name, computed) {\n        var $elm = $$(elm);\n        if (computed) {\n          return $elm.css(name);\n        }\n        name = name.replace(/-(\\D)/g, function (a, b) {\n          return b.toUpperCase();\n        });\n        if (name === 'float') {\n          name = Env.browser.isIE() ? 'styleFloat' : 'cssFloat';\n        }\n        return $elm[0] && $elm[0].style ? $elm[0].style[name] : undefined;\n      };\n      var getSize = function (elm) {\n        var w, h;\n        elm = get(elm);\n        w = getStyle(elm, 'width');\n        h = getStyle(elm, 'height');\n        if (w.indexOf('px') === -1) {\n          w = 0;\n        }\n        if (h.indexOf('px') === -1) {\n          h = 0;\n        }\n        return {\n          w: parseInt(w, 10) || elm.offsetWidth || elm.clientWidth,\n          h: parseInt(h, 10) || elm.offsetHeight || elm.clientHeight\n        };\n      };\n      var getRect = function (elm) {\n        elm = get(elm);\n        var pos = getPos$1(elm);\n        var size = getSize(elm);\n        return {\n          x: pos.x,\n          y: pos.y,\n          w: size.w,\n          h: size.h\n        };\n      };\n      var is = function (elm, selector) {\n        var i;\n        if (!elm) {\n          return false;\n        }\n        if (!Array.isArray(elm)) {\n          if (selector === '*') {\n            return elm.nodeType === 1;\n          }\n          if (simpleSelectorRe.test(selector)) {\n            var selectors = selector.toLowerCase().split(/,/);\n            var elmName = elm.nodeName.toLowerCase();\n            for (i = selectors.length - 1; i >= 0; i--) {\n              if (selectors[i] === elmName) {\n                return true;\n              }\n            }\n            return false;\n          }\n          if (elm.nodeType && elm.nodeType !== 1) {\n            return false;\n          }\n        }\n        var elms = !Array.isArray(elm) ? [elm] : elm;\n        return Sizzle(selector, elms[0].ownerDocument || elms[0], null, elms).length > 0;\n      };\n      var getParents = function (elm, selector, root, collect) {\n        var result = [];\n        var selectorVal;\n        var node = get(elm);\n        collect = collect === undefined;\n        root = root || (getRoot().nodeName !== 'BODY' ? getRoot().parentNode : null);\n        if (Tools.is(selector, 'string')) {\n          selectorVal = selector;\n          if (selector === '*') {\n            selector = function (node) {\n              return node.nodeType === 1;\n            };\n          } else {\n            selector = function (node) {\n              return is(node, selectorVal);\n            };\n          }\n        }\n        while (node) {\n          if (node === root || isNullable(node.nodeType) || isDocument$1(node) || isDocumentFragment(node)) {\n            break;\n          }\n          if (!selector || typeof selector === 'function' && selector(node)) {\n            if (collect) {\n              result.push(node);\n            } else {\n              return [node];\n            }\n          }\n          node = node.parentNode;\n        }\n        return collect ? result : null;\n      };\n      var getParent = function (node, selector, root) {\n        var parents = getParents(node, selector, root, false);\n        return parents && parents.length > 0 ? parents[0] : null;\n      };\n      var _findSib = function (node, selector, name) {\n        var func = selector;\n        if (node) {\n          if (typeof selector === 'string') {\n            func = function (node) {\n              return is(node, selector);\n            };\n          }\n          for (node = node[name]; node; node = node[name]) {\n            if (typeof func === 'function' && func(node)) {\n              return node;\n            }\n          }\n        }\n        return null;\n      };\n      var getNext = function (node, selector) {\n        return _findSib(node, selector, 'nextSibling');\n      };\n      var getPrev = function (node, selector) {\n        return _findSib(node, selector, 'previousSibling');\n      };\n      var select = function (selector, scope) {\n        return Sizzle(selector, get(scope) || settings.root_element || doc, []);\n      };\n      var run = function (elm, func, scope) {\n        var result;\n        var node = typeof elm === 'string' ? get(elm) : elm;\n        if (!node) {\n          return false;\n        }\n        if (Tools.isArray(node) && (node.length || node.length === 0)) {\n          result = [];\n          each$f(node, function (elm, i) {\n            if (elm) {\n              result.push(func.call(scope, typeof elm === 'string' ? get(elm) : elm, i));\n            }\n          });\n          return result;\n        }\n        var context = scope ? scope : this;\n        return func.call(context, node);\n      };\n      var setAttribs = function (elm, attrs) {\n        $$(elm).each(function (i, node) {\n          each$f(attrs, function (value, name) {\n            setAttrib(node, name, value);\n          });\n        });\n      };\n      var setHTML = function (elm, html) {\n        var $elm = $$(elm);\n        if (isIE) {\n          $elm.each(function (i, target) {\n            if (target.canHaveHTML === false) {\n              return;\n            }\n            while (target.firstChild) {\n              target.removeChild(target.firstChild);\n            }\n            try {\n              target.innerHTML = '<br>' + html;\n              target.removeChild(target.firstChild);\n            } catch (ex) {\n              DomQuery('<div></div>').html('<br>' + html).contents().slice(1).appendTo(target);\n            }\n            return html;\n          });\n        } else {\n          $elm.html(html);\n        }\n      };\n      var add = function (parentElm, name, attrs, html, create) {\n        return run(parentElm, function (parentElm) {\n          var newElm = typeof name === 'string' ? doc.createElement(name) : name;\n          setAttribs(newElm, attrs);\n          if (html) {\n            if (typeof html !== 'string' && html.nodeType) {\n              newElm.appendChild(html);\n            } else if (typeof html === 'string') {\n              setHTML(newElm, html);\n            }\n          }\n          return !create ? parentElm.appendChild(newElm) : newElm;\n        });\n      };\n      var create = function (name, attrs, html) {\n        return add(doc.createElement(name), name, attrs, html, true);\n      };\n      var decode = Entities.decode;\n      var encode = Entities.encodeAllRaw;\n      var createHTML = function (name, attrs, html) {\n        var outHtml = '', key;\n        outHtml += '<' + name;\n        for (key in attrs) {\n          if (hasNonNullableKey(attrs, key)) {\n            outHtml += ' ' + key + '=\"' + encode(attrs[key]) + '\"';\n          }\n        }\n        if (typeof html !== 'undefined') {\n          return outHtml + '>' + html + '</' + name + '>';\n        }\n        return outHtml + ' />';\n      };\n      var createFragment = function (html) {\n        var node;\n        var container = doc.createElement('div');\n        var frag = doc.createDocumentFragment();\n        frag.appendChild(container);\n        if (html) {\n          container.innerHTML = html;\n        }\n        while (node = container.firstChild) {\n          frag.appendChild(node);\n        }\n        frag.removeChild(container);\n        return frag;\n      };\n      var remove = function (node, keepChildren) {\n        var $node = $$(node);\n        if (keepChildren) {\n          $node.each(function () {\n            var child;\n            while (child = this.firstChild) {\n              if (child.nodeType === 3 && child.data.length === 0) {\n                this.removeChild(child);\n              } else {\n                this.parentNode.insertBefore(child, this);\n              }\n            }\n          }).remove();\n        } else {\n          $node.remove();\n        }\n        return $node.length > 1 ? $node.toArray() : $node[0];\n      };\n      var removeAllAttribs = function (e) {\n        return run(e, function (e) {\n          var i;\n          var attrs = e.attributes;\n          for (i = attrs.length - 1; i >= 0; i--) {\n            e.removeAttributeNode(attrs.item(i));\n          }\n        });\n      };\n      var parseStyle = function (cssText) {\n        return styles.parse(cssText);\n      };\n      var serializeStyle = function (stylesArg, name) {\n        return styles.serialize(stylesArg, name);\n      };\n      var addStyle = function (cssText) {\n        var head, styleElm;\n        if (self !== DOMUtils.DOM && doc === document) {\n          if (addedStyles[cssText]) {\n            return;\n          }\n          addedStyles[cssText] = true;\n        }\n        styleElm = doc.getElementById('mceDefaultStyles');\n        if (!styleElm) {\n          styleElm = doc.createElement('style');\n          styleElm.id = 'mceDefaultStyles';\n          styleElm.type = 'text/css';\n          head = doc.getElementsByTagName('head')[0];\n          if (head.firstChild) {\n            head.insertBefore(styleElm, head.firstChild);\n          } else {\n            head.appendChild(styleElm);\n          }\n        }\n        if (styleElm.styleSheet) {\n          styleElm.styleSheet.cssText += cssText;\n        } else {\n          styleElm.appendChild(doc.createTextNode(cssText));\n        }\n      };\n      var loadCSS = function (urls) {\n        if (!urls) {\n          urls = '';\n        }\n        each$k(urls.split(','), function (url) {\n          files[url] = true;\n          styleSheetLoader.load(url, noop);\n        });\n      };\n      var toggleClass = function (elm, cls, state) {\n        $$(elm).toggleClass(cls, state).each(function () {\n          if (this.className === '') {\n            DomQuery(this).attr('class', null);\n          }\n        });\n      };\n      var addClass = function (elm, cls) {\n        $$(elm).addClass(cls);\n      };\n      var removeClass = function (elm, cls) {\n        toggleClass(elm, cls, false);\n      };\n      var hasClass = function (elm, cls) {\n        return $$(elm).hasClass(cls);\n      };\n      var show = function (elm) {\n        $$(elm).show();\n      };\n      var hide = function (elm) {\n        $$(elm).hide();\n      };\n      var isHidden = function (elm) {\n        return $$(elm).css('display') === 'none';\n      };\n      var uniqueId = function (prefix) {\n        return (!prefix ? 'mce_' : prefix) + counter++;\n      };\n      var getOuterHTML = function (elm) {\n        var node = typeof elm === 'string' ? get(elm) : elm;\n        return isElement$5(node) ? node.outerHTML : DomQuery('<div></div>').append(DomQuery(node).clone()).html();\n      };\n      var setOuterHTML = function (elm, html) {\n        $$(elm).each(function () {\n          try {\n            if ('outerHTML' in this) {\n              this.outerHTML = html;\n              return;\n            }\n          } catch (ex) {\n          }\n          remove(DomQuery(this).html(html), true);\n        });\n      };\n      var insertAfter = function (node, reference) {\n        var referenceNode = get(reference);\n        return run(node, function (node) {\n          var parent = referenceNode.parentNode;\n          var nextSibling = referenceNode.nextSibling;\n          if (nextSibling) {\n            parent.insertBefore(node, nextSibling);\n          } else {\n            parent.appendChild(node);\n          }\n          return node;\n        });\n      };\n      var replace = function (newElm, oldElm, keepChildren) {\n        return run(oldElm, function (oldElm) {\n          if (Tools.is(oldElm, 'array')) {\n            newElm = newElm.cloneNode(true);\n          }\n          if (keepChildren) {\n            each$f(grep$1(oldElm.childNodes), function (node) {\n              newElm.appendChild(node);\n            });\n          }\n          return oldElm.parentNode.replaceChild(newElm, oldElm);\n        });\n      };\n      var rename = function (elm, name) {\n        var newElm;\n        if (elm.nodeName !== name.toUpperCase()) {\n          newElm = create(name);\n          each$f(getAttribs(elm), function (attrNode) {\n            setAttrib(newElm, attrNode.nodeName, getAttrib(elm, attrNode.nodeName));\n          });\n          replace(newElm, elm, true);\n        }\n        return newElm || elm;\n      };\n      var findCommonAncestor = function (a, b) {\n        var ps = a, pe;\n        while (ps) {\n          pe = b;\n          while (pe && ps !== pe) {\n            pe = pe.parentNode;\n          }\n          if (ps === pe) {\n            break;\n          }\n          ps = ps.parentNode;\n        }\n        if (!ps && a.ownerDocument) {\n          return a.ownerDocument.documentElement;\n        }\n        return ps;\n      };\n      var toHex = function (rgbVal) {\n        return styles.toHex(Tools.trim(rgbVal));\n      };\n      var isNonEmptyElement = function (node) {\n        if (isElement$5(node)) {\n          var isNamedAnchor = node.nodeName.toLowerCase() === 'a' && !getAttrib(node, 'href') && getAttrib(node, 'id');\n          if (getAttrib(node, 'name') || getAttrib(node, 'data-mce-bookmark') || isNamedAnchor) {\n            return true;\n          }\n        }\n        return false;\n      };\n      var isEmpty = function (node, elements) {\n        var type, name, brCount = 0;\n        if (isNonEmptyElement(node)) {\n          return false;\n        }\n        node = node.firstChild;\n        if (node) {\n          var walker = new DomTreeWalker(node, node.parentNode);\n          var whitespace = schema ? schema.getWhiteSpaceElements() : {};\n          elements = elements || (schema ? schema.getNonEmptyElements() : null);\n          do {\n            type = node.nodeType;\n            if (isElement$5(node)) {\n              var bogusVal = node.getAttribute('data-mce-bogus');\n              if (bogusVal) {\n                node = walker.next(bogusVal === 'all');\n                continue;\n              }\n              name = node.nodeName.toLowerCase();\n              if (elements && elements[name]) {\n                if (name === 'br') {\n                  brCount++;\n                  node = walker.next();\n                  continue;\n                }\n                return false;\n              }\n              if (isNonEmptyElement(node)) {\n                return false;\n              }\n            }\n            if (type === 8) {\n              return false;\n            }\n            if (type === 3 && !isWhitespaceText(node.nodeValue)) {\n              return false;\n            }\n            if (type === 3 && node.parentNode && whitespace[node.parentNode.nodeName] && isWhitespaceText(node.nodeValue)) {\n              return false;\n            }\n            node = walker.next();\n          } while (node);\n        }\n        return brCount <= 1;\n      };\n      var createRng = function () {\n        return doc.createRange();\n      };\n      var split = function (parentElm, splitElm, replacementElm) {\n        var range = createRng();\n        var beforeFragment;\n        var afterFragment;\n        var parentNode;\n        if (parentElm && splitElm) {\n          range.setStart(parentElm.parentNode, findNodeIndex(parentElm));\n          range.setEnd(splitElm.parentNode, findNodeIndex(splitElm));\n          beforeFragment = range.extractContents();\n          range = createRng();\n          range.setStart(splitElm.parentNode, findNodeIndex(splitElm) + 1);\n          range.setEnd(parentElm.parentNode, findNodeIndex(parentElm) + 1);\n          afterFragment = range.extractContents();\n          parentNode = parentElm.parentNode;\n          parentNode.insertBefore(trimNode(self, beforeFragment), parentElm);\n          if (replacementElm) {\n            parentNode.insertBefore(replacementElm, parentElm);\n          } else {\n            parentNode.insertBefore(splitElm, parentElm);\n          }\n          parentNode.insertBefore(trimNode(self, afterFragment), parentElm);\n          remove(parentElm);\n          return replacementElm || splitElm;\n        }\n      };\n      var bind = function (target, name, func, scope) {\n        if (Tools.isArray(target)) {\n          var i = target.length;\n          var rv = [];\n          while (i--) {\n            rv[i] = bind(target[i], name, func, scope);\n          }\n          return rv;\n        }\n        if (settings.collect && (target === doc || target === win)) {\n          boundEvents.push([\n            target,\n            name,\n            func,\n            scope\n          ]);\n        }\n        var output = events.bind(target, name, func, scope || self);\n        return output;\n      };\n      var unbind = function (target, name, func) {\n        if (Tools.isArray(target)) {\n          var i = target.length;\n          var rv = [];\n          while (i--) {\n            rv[i] = unbind(target[i], name, func);\n          }\n          return rv;\n        } else {\n          if (boundEvents.length > 0 && (target === doc || target === win)) {\n            var i = boundEvents.length;\n            while (i--) {\n              var item = boundEvents[i];\n              if (target === item[0] && (!name || name === item[1]) && (!func || func === item[2])) {\n                events.unbind(item[0], item[1], item[2]);\n              }\n            }\n          }\n          return events.unbind(target, name, func);\n        }\n      };\n      var fire = function (target, name, evt) {\n        return events.fire(target, name, evt);\n      };\n      var getContentEditable = function (node) {\n        if (node && isElement$5(node)) {\n          var contentEditable = node.getAttribute('data-mce-contenteditable');\n          if (contentEditable && contentEditable !== 'inherit') {\n            return contentEditable;\n          }\n          return node.contentEditable !== 'inherit' ? node.contentEditable : null;\n        } else {\n          return null;\n        }\n      };\n      var getContentEditableParent = function (node) {\n        var root = getRoot();\n        var state = null;\n        for (; node && node !== root; node = node.parentNode) {\n          state = getContentEditable(node);\n          if (state !== null) {\n            break;\n          }\n        }\n        return state;\n      };\n      var destroy = function () {\n        if (boundEvents.length > 0) {\n          var i = boundEvents.length;\n          while (i--) {\n            var item = boundEvents[i];\n            events.unbind(item[0], item[1], item[2]);\n          }\n        }\n        each$j(files, function (_, url) {\n          styleSheetLoader.unload(url);\n          delete files[url];\n        });\n        if (Sizzle.setDocument) {\n          Sizzle.setDocument();\n        }\n      };\n      var isChildOf = function (node, parent) {\n        if (!isIE) {\n          return node === parent || parent.contains(node);\n        } else {\n          while (node) {\n            if (parent === node) {\n              return true;\n            }\n            node = node.parentNode;\n          }\n          return false;\n        }\n      };\n      var dumpRng = function (r) {\n        return 'startContainer: ' + r.startContainer.nodeName + ', startOffset: ' + r.startOffset + ', endContainer: ' + r.endContainer.nodeName + ', endOffset: ' + r.endOffset;\n      };\n      var self = {\n        doc: doc,\n        settings: settings,\n        win: win,\n        files: files,\n        stdMode: stdMode,\n        boxModel: boxModel,\n        styleSheetLoader: styleSheetLoader,\n        boundEvents: boundEvents,\n        styles: styles,\n        schema: schema,\n        events: events,\n        isBlock: isBlock,\n        $: $,\n        $$: $$,\n        root: null,\n        clone: clone,\n        getRoot: getRoot,\n        getViewPort: getViewPort,\n        getRect: getRect,\n        getSize: getSize,\n        getParent: getParent,\n        getParents: getParents,\n        get: get,\n        getNext: getNext,\n        getPrev: getPrev,\n        select: select,\n        is: is,\n        add: add,\n        create: create,\n        createHTML: createHTML,\n        createFragment: createFragment,\n        remove: remove,\n        setStyle: setStyle,\n        getStyle: getStyle,\n        setStyles: setStyles,\n        removeAllAttribs: removeAllAttribs,\n        setAttrib: setAttrib,\n        setAttribs: setAttribs,\n        getAttrib: getAttrib,\n        getPos: getPos$1,\n        parseStyle: parseStyle,\n        serializeStyle: serializeStyle,\n        addStyle: addStyle,\n        loadCSS: loadCSS,\n        addClass: addClass,\n        removeClass: removeClass,\n        hasClass: hasClass,\n        toggleClass: toggleClass,\n        show: show,\n        hide: hide,\n        isHidden: isHidden,\n        uniqueId: uniqueId,\n        setHTML: setHTML,\n        getOuterHTML: getOuterHTML,\n        setOuterHTML: setOuterHTML,\n        decode: decode,\n        encode: encode,\n        insertAfter: insertAfter,\n        replace: replace,\n        rename: rename,\n        findCommonAncestor: findCommonAncestor,\n        toHex: toHex,\n        run: run,\n        getAttribs: getAttribs,\n        isEmpty: isEmpty,\n        createRng: createRng,\n        nodeIndex: findNodeIndex,\n        split: split,\n        bind: bind,\n        unbind: unbind,\n        fire: fire,\n        getContentEditable: getContentEditable,\n        getContentEditableParent: getContentEditableParent,\n        destroy: destroy,\n        isChildOf: isChildOf,\n        dumpRng: dumpRng\n      };\n      var attrHooks = setupAttrHooks(styles, settings, constant(self));\n      return self;\n    };\n    DOMUtils.DOM = DOMUtils(document);\n    DOMUtils.nodeIndex = findNodeIndex;\n\n    var DOM$a = DOMUtils.DOM;\n    var each$e = Tools.each, grep = Tools.grep;\n    var QUEUED = 0;\n    var LOADING = 1;\n    var LOADED = 2;\n    var FAILED = 3;\n    var ScriptLoader = function () {\n      function ScriptLoader(settings) {\n        if (settings === void 0) {\n          settings = {};\n        }\n        this.states = {};\n        this.queue = [];\n        this.scriptLoadedCallbacks = {};\n        this.queueLoadedCallbacks = [];\n        this.loading = 0;\n        this.settings = settings;\n      }\n      ScriptLoader.prototype._setReferrerPolicy = function (referrerPolicy) {\n        this.settings.referrerPolicy = referrerPolicy;\n      };\n      ScriptLoader.prototype.loadScript = function (url, success, failure) {\n        var dom = DOM$a;\n        var elm;\n        var cleanup = function () {\n          dom.remove(id);\n          if (elm) {\n            elm.onerror = elm.onload = elm = null;\n          }\n        };\n        var done = function () {\n          cleanup();\n          success();\n        };\n        var error = function () {\n          cleanup();\n          if (isFunction(failure)) {\n            failure();\n          } else {\n            if (typeof console !== 'undefined' && console.log) {\n              console.log('Failed to load script: ' + url);\n            }\n          }\n        };\n        var id = dom.uniqueId();\n        elm = document.createElement('script');\n        elm.id = id;\n        elm.type = 'text/javascript';\n        elm.src = Tools._addCacheSuffix(url);\n        if (this.settings.referrerPolicy) {\n          dom.setAttrib(elm, 'referrerpolicy', this.settings.referrerPolicy);\n        }\n        elm.onload = done;\n        elm.onerror = error;\n        (document.getElementsByTagName('head')[0] || document.body).appendChild(elm);\n      };\n      ScriptLoader.prototype.isDone = function (url) {\n        return this.states[url] === LOADED;\n      };\n      ScriptLoader.prototype.markDone = function (url) {\n        this.states[url] = LOADED;\n      };\n      ScriptLoader.prototype.add = function (url, success, scope, failure) {\n        var state = this.states[url];\n        this.queue.push(url);\n        if (state === undefined) {\n          this.states[url] = QUEUED;\n        }\n        if (success) {\n          if (!this.scriptLoadedCallbacks[url]) {\n            this.scriptLoadedCallbacks[url] = [];\n          }\n          this.scriptLoadedCallbacks[url].push({\n            success: success,\n            failure: failure,\n            scope: scope || this\n          });\n        }\n      };\n      ScriptLoader.prototype.load = function (url, success, scope, failure) {\n        return this.add(url, success, scope, failure);\n      };\n      ScriptLoader.prototype.remove = function (url) {\n        delete this.states[url];\n        delete this.scriptLoadedCallbacks[url];\n      };\n      ScriptLoader.prototype.loadQueue = function (success, scope, failure) {\n        this.loadScripts(this.queue, success, scope, failure);\n      };\n      ScriptLoader.prototype.loadScripts = function (scripts, success, scope, failure) {\n        var self = this;\n        var failures = [];\n        var execCallbacks = function (name, url) {\n          each$e(self.scriptLoadedCallbacks[url], function (callback) {\n            if (isFunction(callback[name])) {\n              callback[name].call(callback.scope);\n            }\n          });\n          self.scriptLoadedCallbacks[url] = undefined;\n        };\n        self.queueLoadedCallbacks.push({\n          success: success,\n          failure: failure,\n          scope: scope || this\n        });\n        var loadScripts = function () {\n          var loadingScripts = grep(scripts);\n          scripts.length = 0;\n          each$e(loadingScripts, function (url) {\n            if (self.states[url] === LOADED) {\n              execCallbacks('success', url);\n              return;\n            }\n            if (self.states[url] === FAILED) {\n              execCallbacks('failure', url);\n              return;\n            }\n            if (self.states[url] !== LOADING) {\n              self.states[url] = LOADING;\n              self.loading++;\n              self.loadScript(url, function () {\n                self.states[url] = LOADED;\n                self.loading--;\n                execCallbacks('success', url);\n                loadScripts();\n              }, function () {\n                self.states[url] = FAILED;\n                self.loading--;\n                failures.push(url);\n                execCallbacks('failure', url);\n                loadScripts();\n              });\n            }\n          });\n          if (!self.loading) {\n            var notifyCallbacks = self.queueLoadedCallbacks.slice(0);\n            self.queueLoadedCallbacks.length = 0;\n            each$e(notifyCallbacks, function (callback) {\n              if (failures.length === 0) {\n                if (isFunction(callback.success)) {\n                  callback.success.call(callback.scope);\n                }\n              } else {\n                if (isFunction(callback.failure)) {\n                  callback.failure.call(callback.scope, failures);\n                }\n              }\n            });\n          }\n        };\n        loadScripts();\n      };\n      ScriptLoader.ScriptLoader = new ScriptLoader();\n      return ScriptLoader;\n    }();\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var isRaw = function (str) {\n      return isObject(str) && has$2(str, 'raw');\n    };\n    var isTokenised = function (str) {\n      return isArray$1(str) && str.length > 1;\n    };\n    var data = {};\n    var currentCode = Cell('en');\n    var getLanguageData = function () {\n      return get$9(data, currentCode.get());\n    };\n    var getData = function () {\n      return map$2(data, function (value) {\n        return __assign({}, value);\n      });\n    };\n    var setCode = function (newCode) {\n      if (newCode) {\n        currentCode.set(newCode);\n      }\n    };\n    var getCode = function () {\n      return currentCode.get();\n    };\n    var add$4 = function (code, items) {\n      var langData = data[code];\n      if (!langData) {\n        data[code] = langData = {};\n      }\n      each$j(items, function (translation, name) {\n        langData[name.toLowerCase()] = translation;\n      });\n    };\n    var translate = function (text) {\n      var langData = getLanguageData().getOr({});\n      var toString = function (obj) {\n        if (isFunction(obj)) {\n          return Object.prototype.toString.call(obj);\n        }\n        return !isEmpty(obj) ? '' + obj : '';\n      };\n      var isEmpty = function (text) {\n        return text === '' || text === null || text === undefined;\n      };\n      var getLangData = function (text) {\n        var textstr = toString(text);\n        return get$9(langData, textstr.toLowerCase()).map(toString).getOr(textstr);\n      };\n      var removeContext = function (str) {\n        return str.replace(/{context:\\w+}$/, '');\n      };\n      if (isEmpty(text)) {\n        return '';\n      }\n      if (isRaw(text)) {\n        return toString(text.raw);\n      }\n      if (isTokenised(text)) {\n        var values_1 = text.slice(1);\n        var substitued = getLangData(text[0]).replace(/\\{([0-9]+)\\}/g, function ($1, $2) {\n          return has$2(values_1, $2) ? toString(values_1[$2]) : $1;\n        });\n        return removeContext(substitued);\n      }\n      return removeContext(getLangData(text));\n    };\n    var isRtl$1 = function () {\n      return getLanguageData().bind(function (items) {\n        return get$9(items, '_dir');\n      }).exists(function (dir) {\n        return dir === 'rtl';\n      });\n    };\n    var hasCode = function (code) {\n      return has$2(data, code);\n    };\n    var I18n = {\n      getData: getData,\n      setCode: setCode,\n      getCode: getCode,\n      add: add$4,\n      translate: translate,\n      isRtl: isRtl$1,\n      hasCode: hasCode\n    };\n\n    var AddOnManager = function () {\n      var items = [];\n      var urls = {};\n      var lookup = {};\n      var _listeners = [];\n      var runListeners = function (name, state) {\n        var matchedListeners = filter$4(_listeners, function (listener) {\n          return listener.name === name && listener.state === state;\n        });\n        each$k(matchedListeners, function (listener) {\n          return listener.callback();\n        });\n      };\n      var get = function (name) {\n        if (lookup[name]) {\n          return lookup[name].instance;\n        }\n        return undefined;\n      };\n      var dependencies = function (name) {\n        var result;\n        if (lookup[name]) {\n          result = lookup[name].dependencies;\n        }\n        return result || [];\n      };\n      var requireLangPack = function (name, languages) {\n        if (AddOnManager.languageLoad !== false) {\n          waitFor(name, function () {\n            var language = I18n.getCode();\n            var wrappedLanguages = ',' + (languages || '') + ',';\n            if (!language || languages && wrappedLanguages.indexOf(',' + language + ',') === -1) {\n              return;\n            }\n            ScriptLoader.ScriptLoader.add(urls[name] + '/langs/' + language + '.js');\n          }, 'loaded');\n        }\n      };\n      var add = function (id, addOn, dependencies) {\n        var addOnConstructor = addOn;\n        items.push(addOnConstructor);\n        lookup[id] = {\n          instance: addOnConstructor,\n          dependencies: dependencies\n        };\n        runListeners(id, 'added');\n        return addOnConstructor;\n      };\n      var remove = function (name) {\n        delete urls[name];\n        delete lookup[name];\n      };\n      var createUrl = function (baseUrl, dep) {\n        if (typeof dep === 'object') {\n          return dep;\n        }\n        return typeof baseUrl === 'string' ? {\n          prefix: '',\n          resource: dep,\n          suffix: ''\n        } : {\n          prefix: baseUrl.prefix,\n          resource: dep,\n          suffix: baseUrl.suffix\n        };\n      };\n      var addComponents = function (pluginName, scripts) {\n        var pluginUrl = urls[pluginName];\n        each$k(scripts, function (script) {\n          ScriptLoader.ScriptLoader.add(pluginUrl + '/' + script);\n        });\n      };\n      var loadDependencies = function (name, addOnUrl, success, scope) {\n        var deps = dependencies(name);\n        each$k(deps, function (dep) {\n          var newUrl = createUrl(addOnUrl, dep);\n          load(newUrl.resource, newUrl, undefined, undefined);\n        });\n        if (success) {\n          if (scope) {\n            success.call(scope);\n          } else {\n            success.call(ScriptLoader);\n          }\n        }\n      };\n      var load = function (name, addOnUrl, success, scope, failure) {\n        if (urls[name]) {\n          return;\n        }\n        var urlString = typeof addOnUrl === 'string' ? addOnUrl : addOnUrl.prefix + addOnUrl.resource + addOnUrl.suffix;\n        if (urlString.indexOf('/') !== 0 && urlString.indexOf('://') === -1) {\n          urlString = AddOnManager.baseURL + '/' + urlString;\n        }\n        urls[name] = urlString.substring(0, urlString.lastIndexOf('/'));\n        var done = function () {\n          runListeners(name, 'loaded');\n          loadDependencies(name, addOnUrl, success, scope);\n        };\n        if (lookup[name]) {\n          done();\n        } else {\n          ScriptLoader.ScriptLoader.add(urlString, done, scope, failure);\n        }\n      };\n      var waitFor = function (name, callback, state) {\n        if (state === void 0) {\n          state = 'added';\n        }\n        if (has$2(lookup, name) && state === 'added') {\n          callback();\n        } else if (has$2(urls, name) && state === 'loaded') {\n          callback();\n        } else {\n          _listeners.push({\n            name: name,\n            state: state,\n            callback: callback\n          });\n        }\n      };\n      return {\n        items: items,\n        urls: urls,\n        lookup: lookup,\n        _listeners: _listeners,\n        get: get,\n        dependencies: dependencies,\n        requireLangPack: requireLangPack,\n        add: add,\n        remove: remove,\n        createUrl: createUrl,\n        addComponents: addComponents,\n        load: load,\n        waitFor: waitFor\n      };\n    };\n    AddOnManager.languageLoad = true;\n    AddOnManager.baseURL = '';\n    AddOnManager.PluginManager = AddOnManager();\n    AddOnManager.ThemeManager = AddOnManager();\n\n    var singleton = function (doRevoke) {\n      var subject = Cell(Optional.none());\n      var revoke = function () {\n        return subject.get().each(doRevoke);\n      };\n      var clear = function () {\n        revoke();\n        subject.set(Optional.none());\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      var get = function () {\n        return subject.get();\n      };\n      var set = function (s) {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear: clear,\n        isSet: isSet,\n        get: get,\n        set: set\n      };\n    };\n    var value = function () {\n      var subject = singleton(noop);\n      var on = function (f) {\n        return subject.get().each(f);\n      };\n      return __assign(__assign({}, subject), { on: on });\n    };\n\n    var first = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (isNull(timer)) {\n          timer = setTimeout(function () {\n            timer = null;\n            fn.apply(null, args);\n          }, rate);\n        }\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n    var last = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        cancel();\n        timer = setTimeout(function () {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n\n    var read$4 = function (element, attr) {\n      var value = get$6(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    var add$3 = function (element, attr, id) {\n      var old = read$4(element, attr);\n      var nu = old.concat([id]);\n      set$1(element, attr, nu.join(' '));\n      return true;\n    };\n    var remove$5 = function (element, attr, id) {\n      var nu = filter$4(read$4(element, attr), function (v) {\n        return v !== id;\n      });\n      if (nu.length > 0) {\n        set$1(element, attr, nu.join(' '));\n      } else {\n        remove$6(element, attr);\n      }\n      return false;\n    };\n\n    var supports = function (element) {\n      return element.dom.classList !== undefined;\n    };\n    var get$4 = function (element) {\n      return read$4(element, 'class');\n    };\n    var add$2 = function (element, clazz) {\n      return add$3(element, 'class', clazz);\n    };\n    var remove$4 = function (element, clazz) {\n      return remove$5(element, 'class', clazz);\n    };\n\n    var add$1 = function (element, clazz) {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$2(element, clazz);\n      }\n    };\n    var cleanClass = function (element) {\n      var classList = supports(element) ? element.dom.classList : get$4(element);\n      if (classList.length === 0) {\n        remove$6(element, 'class');\n      }\n    };\n    var remove$3 = function (element, clazz) {\n      if (supports(element)) {\n        var classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$4(element, clazz);\n      }\n      cleanClass(element);\n    };\n    var has = function (element, clazz) {\n      return supports(element) && element.dom.classList.contains(clazz);\n    };\n\n    var descendants$1 = function (scope, predicate) {\n      var result = [];\n      each$k(children(scope), function (x) {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(descendants$1(x, predicate));\n      });\n      return result;\n    };\n\n    var descendants = function (scope, selector) {\n      return all(selector, scope);\n    };\n\n    var annotation = constant('mce-annotation');\n    var dataAnnotation = constant('data-mce-annotation');\n    var dataAnnotationId = constant('data-mce-annotation-uid');\n\n    var identify = function (editor, annotationName) {\n      var rng = editor.selection.getRng();\n      var start = SugarElement.fromDom(rng.startContainer);\n      var root = SugarElement.fromDom(editor.getBody());\n      var selector = annotationName.fold(function () {\n        return '.' + annotation();\n      }, function (an) {\n        return '[' + dataAnnotation() + '=\"' + an + '\"]';\n      });\n      var newStart = child$1(start, rng.startOffset).getOr(start);\n      var closest = closest$2(newStart, selector, function (n) {\n        return eq(n, root);\n      });\n      var getAttr = function (c, property) {\n        if (has$1(c, property)) {\n          return Optional.some(get$6(c, property));\n        } else {\n          return Optional.none();\n        }\n      };\n      return closest.bind(function (c) {\n        return getAttr(c, '' + dataAnnotationId()).bind(function (uid) {\n          return getAttr(c, '' + dataAnnotation()).map(function (name) {\n            var elements = findMarkers(editor, uid);\n            return {\n              uid: uid,\n              name: name,\n              elements: elements\n            };\n          });\n        });\n      });\n    };\n    var isAnnotation = function (elem) {\n      return isElement$6(elem) && has(elem, annotation());\n    };\n    var findMarkers = function (editor, uid) {\n      var body = SugarElement.fromDom(editor.getBody());\n      return descendants(body, '[' + dataAnnotationId() + '=\"' + uid + '\"]');\n    };\n    var findAll = function (editor, name) {\n      var body = SugarElement.fromDom(editor.getBody());\n      var markers = descendants(body, '[' + dataAnnotation() + '=\"' + name + '\"]');\n      var directory = {};\n      each$k(markers, function (m) {\n        var uid = get$6(m, dataAnnotationId());\n        var nodesAlready = get$9(directory, uid).getOr([]);\n        directory[uid] = nodesAlready.concat([m]);\n      });\n      return directory;\n    };\n\n    var setup$n = function (editor, _registry) {\n      var changeCallbacks = Cell({});\n      var initData = function () {\n        return {\n          listeners: [],\n          previous: value()\n        };\n      };\n      var withCallbacks = function (name, f) {\n        updateCallbacks(name, function (data) {\n          f(data);\n          return data;\n        });\n      };\n      var updateCallbacks = function (name, f) {\n        var callbackMap = changeCallbacks.get();\n        var data = get$9(callbackMap, name).getOrThunk(initData);\n        var outputData = f(data);\n        callbackMap[name] = outputData;\n        changeCallbacks.set(callbackMap);\n      };\n      var fireCallbacks = function (name, uid, elements) {\n        withCallbacks(name, function (data) {\n          each$k(data.listeners, function (f) {\n            return f(true, name, {\n              uid: uid,\n              nodes: map$3(elements, function (elem) {\n                return elem.dom;\n              })\n            });\n          });\n        });\n      };\n      var fireNoAnnotation = function (name) {\n        withCallbacks(name, function (data) {\n          each$k(data.listeners, function (f) {\n            return f(false, name);\n          });\n        });\n      };\n      var onNodeChange = last(function () {\n        var callbackMap = changeCallbacks.get();\n        var annotations = sort(keys(callbackMap));\n        each$k(annotations, function (name) {\n          updateCallbacks(name, function (data) {\n            var prev = data.previous.get();\n            identify(editor, Optional.some(name)).fold(function () {\n              if (prev.isSome()) {\n                fireNoAnnotation(name);\n                data.previous.clear();\n              }\n            }, function (_a) {\n              var uid = _a.uid, name = _a.name, elements = _a.elements;\n              if (!is$1(prev, uid)) {\n                fireCallbacks(name, uid, elements);\n                data.previous.set(uid);\n              }\n            });\n            return {\n              previous: data.previous,\n              listeners: data.listeners\n            };\n          });\n        });\n      }, 30);\n      editor.on('remove', function () {\n        onNodeChange.cancel();\n      });\n      editor.on('NodeChange', function () {\n        onNodeChange.throttle();\n      });\n      var addListener = function (name, f) {\n        updateCallbacks(name, function (data) {\n          return {\n            previous: data.previous,\n            listeners: data.listeners.concat([f])\n          };\n        });\n      };\n      return { addListener: addListener };\n    };\n\n    var setup$m = function (editor, registry) {\n      var identifyParserNode = function (span) {\n        return Optional.from(span.attr(dataAnnotation())).bind(registry.lookup);\n      };\n      editor.on('init', function () {\n        editor.serializer.addNodeFilter('span', function (spans) {\n          each$k(spans, function (span) {\n            identifyParserNode(span).each(function (settings) {\n              if (settings.persistent === false) {\n                span.unwrap();\n              }\n            });\n          });\n        });\n      });\n    };\n\n    var create$7 = function () {\n      var annotations = {};\n      var register = function (name, settings) {\n        annotations[name] = {\n          name: name,\n          settings: settings\n        };\n      };\n      var lookup = function (name) {\n        return get$9(annotations, name).map(function (a) {\n          return a.settings;\n        });\n      };\n      return {\n        register: register,\n        lookup: lookup\n      };\n    };\n\n    var unique = 0;\n    var generate = function (prefix) {\n      var date = new Date();\n      var time = date.getTime();\n      var random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    var add = function (element, classes) {\n      each$k(classes, function (x) {\n        add$1(element, x);\n      });\n    };\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      return children(SugarElement.fromDom(div));\n    };\n    var fromDom$1 = function (nodes) {\n      return map$3(nodes, SugarElement.fromDom);\n    };\n\n    var get$3 = function (element) {\n      return element.dom.innerHTML;\n    };\n    var set = function (element, content) {\n      var owner = owner$1(element);\n      var docDom = owner.dom;\n      var fragment = SugarElement.fromDom(docDom.createDocumentFragment());\n      var contentElements = fromHtml(content, docDom);\n      append(fragment, contentElements);\n      empty(element);\n      append$1(element, fragment);\n    };\n\n    var clone$1 = function (original, isDeep) {\n      return SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    };\n    var shallow = function (original) {\n      return clone$1(original, false);\n    };\n    var deep$1 = function (original) {\n      return clone$1(original, true);\n    };\n\n    var TextWalker = function (startNode, rootNode, isBoundary) {\n      if (isBoundary === void 0) {\n        isBoundary = never;\n      }\n      var walker = new DomTreeWalker(startNode, rootNode);\n      var walk = function (direction) {\n        var next;\n        do {\n          next = walker[direction]();\n        } while (next && !isText$7(next) && !isBoundary(next));\n        return Optional.from(next).filter(isText$7);\n      };\n      return {\n        current: function () {\n          return Optional.from(walker.current()).filter(isText$7);\n        },\n        next: function () {\n          return walk('next');\n        },\n        prev: function () {\n          return walk('prev');\n        },\n        prev2: function () {\n          return walk('prev2');\n        }\n      };\n    };\n\n    var TextSeeker = function (dom, isBoundary) {\n      var isBlockBoundary = isBoundary ? isBoundary : function (node) {\n        return dom.isBlock(node) || isBr$5(node) || isContentEditableFalse$b(node);\n      };\n      var walk = function (node, offset, walker, process) {\n        if (isText$7(node)) {\n          var newOffset = process(node, offset, node.data);\n          if (newOffset !== -1) {\n            return Optional.some({\n              container: node,\n              offset: newOffset\n            });\n          }\n        }\n        return walker().bind(function (next) {\n          return walk(next.container, next.offset, walker, process);\n        });\n      };\n      var backwards = function (node, offset, process, root) {\n        var walker = TextWalker(node, root, isBlockBoundary);\n        return walk(node, offset, function () {\n          return walker.prev().map(function (prev) {\n            return {\n              container: prev,\n              offset: prev.length\n            };\n          });\n        }, process).getOrNull();\n      };\n      var forwards = function (node, offset, process, root) {\n        var walker = TextWalker(node, root, isBlockBoundary);\n        return walk(node, offset, function () {\n          return walker.next().map(function (next) {\n            return {\n              container: next,\n              offset: 0\n            };\n          });\n        }, process).getOrNull();\n      };\n      return {\n        backwards: backwards,\n        forwards: forwards\n      };\n    };\n\n    var round$2 = Math.round;\n    var clone = function (rect) {\n      if (!rect) {\n        return {\n          left: 0,\n          top: 0,\n          bottom: 0,\n          right: 0,\n          width: 0,\n          height: 0\n        };\n      }\n      return {\n        left: round$2(rect.left),\n        top: round$2(rect.top),\n        bottom: round$2(rect.bottom),\n        right: round$2(rect.right),\n        width: round$2(rect.width),\n        height: round$2(rect.height)\n      };\n    };\n    var collapse = function (rect, toStart) {\n      rect = clone(rect);\n      if (toStart) {\n        rect.right = rect.left;\n      } else {\n        rect.left = rect.left + rect.width;\n        rect.right = rect.left;\n      }\n      rect.width = 0;\n      return rect;\n    };\n    var isEqual = function (rect1, rect2) {\n      return rect1.left === rect2.left && rect1.top === rect2.top && rect1.bottom === rect2.bottom && rect1.right === rect2.right;\n    };\n    var isValidOverflow = function (overflowY, rect1, rect2) {\n      return overflowY >= 0 && overflowY <= Math.min(rect1.height, rect2.height) / 2;\n    };\n    var isAbove$1 = function (rect1, rect2) {\n      var halfHeight = Math.min(rect2.height / 2, rect1.height / 2);\n      if (rect1.bottom - halfHeight < rect2.top) {\n        return true;\n      }\n      if (rect1.top > rect2.bottom) {\n        return false;\n      }\n      return isValidOverflow(rect2.top - rect1.bottom, rect1, rect2);\n    };\n    var isBelow$1 = function (rect1, rect2) {\n      if (rect1.top > rect2.bottom) {\n        return true;\n      }\n      if (rect1.bottom < rect2.top) {\n        return false;\n      }\n      return isValidOverflow(rect2.bottom - rect1.top, rect1, rect2);\n    };\n    var containsXY = function (rect, clientX, clientY) {\n      return clientX >= rect.left && clientX <= rect.right && clientY >= rect.top && clientY <= rect.bottom;\n    };\n\n    var clamp$2 = function (value, min, max) {\n      return Math.min(Math.max(value, min), max);\n    };\n\n    var getSelectedNode = function (range) {\n      var startContainer = range.startContainer, startOffset = range.startOffset;\n      if (startContainer.hasChildNodes() && range.endOffset === startOffset + 1) {\n        return startContainer.childNodes[startOffset];\n      }\n      return null;\n    };\n    var getNode$1 = function (container, offset) {\n      if (isElement$5(container) && container.hasChildNodes()) {\n        var childNodes = container.childNodes;\n        var safeOffset = clamp$2(offset, 0, childNodes.length - 1);\n        return childNodes[safeOffset];\n      } else {\n        return container;\n      }\n    };\n    var getNodeUnsafe = function (container, offset) {\n      if (offset < 0 && isElement$5(container) && container.hasChildNodes()) {\n        return undefined;\n      } else {\n        return getNode$1(container, offset);\n      }\n    };\n\n    var extendingChars = new RegExp('[\\u0300-\\u036f\\u0483-\\u0487\\u0488-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u0610-\\u061a' + '\\u064b-\\u065f\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7-\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0' + '\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08e3-\\u0902\\u093a\\u093c' + '\\u0941-\\u0948\\u094d\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2-\\u09e3' + '\\u0a01-\\u0a02\\u0a3c\\u0a41-\\u0a42\\u0a47-\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70-\\u0a71\\u0a75\\u0a81-\\u0a82\\u0abc' + '\\u0ac1-\\u0ac5\\u0ac7-\\u0ac8\\u0acd\\u0ae2-\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57' + '\\u0b62-\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c00\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55-\\u0c56' + '\\u0c62-\\u0c63\\u0c81\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc-\\u0ccd\\u0cd5-\\u0cd6\\u0ce2-\\u0ce3\\u0d01\\u0d3e\\u0d41-\\u0d44' + '\\u0d4d\\u0d57\\u0d62-\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9' + '\\u0ebb-\\u0ebc\\u0ec8-\\u0ecd\\u0f18-\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97' + '\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039-\\u103a\\u103d-\\u103e\\u1058-\\u1059\\u105e-\\u1060\\u1071-\\u1074' + '\\u1082\\u1085-\\u1086\\u108d\\u109d\\u135d-\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17b4-\\u17b5' + '\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193b\\u1a17-\\u1a18' + '\\u1a1b\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1ab0-\\u1abd\\u1ABE\\u1b00-\\u1b03\\u1b34' + '\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80-\\u1b81\\u1ba2-\\u1ba5\\u1ba8-\\u1ba9\\u1bab-\\u1bad\\u1be6\\u1be8-\\u1be9' + '\\u1bed\\u1bef-\\u1bf1\\u1c2c-\\u1c33\\u1c36-\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1cf4\\u1cf8-\\u1cf9' + '\\u1dc0-\\u1df5\\u1dfc-\\u1dff\\u200c-\\u200d\\u20d0-\\u20dc\\u20DD-\\u20E0\\u20e1\\u20E2-\\u20E4\\u20e5-\\u20f0\\u2cef-\\u2cf1' + '\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302d\\u302e-\\u302f\\u3099-\\u309a\\ua66f\\uA670-\\uA672\\ua674-\\ua67d\\ua69e-\\ua69f\\ua6f0-\\ua6f1' + '\\ua802\\ua806\\ua80b\\ua825-\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc' + '\\ua9e5\\uaa29-\\uaa2e\\uaa31-\\uaa32\\uaa35-\\uaa36\\uaa43\\uaa4c\\uaa7c\\uaab0\\uaab2-\\uaab4\\uaab7-\\uaab8\\uaabe-\\uaabf\\uaac1' + '\\uaaec-\\uaaed\\uaaf6\\uabe5\\uabe8\\uabed\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\uff9e-\\uff9f]');\n    var isExtendingChar = function (ch) {\n      return typeof ch === 'string' && ch.charCodeAt(0) >= 768 && extendingChars.test(ch);\n    };\n\n    var or = function () {\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      return function (x) {\n        for (var i = 0; i < args.length; i++) {\n          if (args[i](x)) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    var and = function () {\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      return function (x) {\n        for (var i = 0; i < args.length; i++) {\n          if (!args[i](x)) {\n            return false;\n          }\n        }\n        return true;\n      };\n    };\n\n    var isElement$3 = isElement$5;\n    var isCaretCandidate$2 = isCaretCandidate$3;\n    var isBlock$1 = matchStyleValues('display', 'block table');\n    var isFloated = matchStyleValues('float', 'left right');\n    var isValidElementCaretCandidate = and(isElement$3, isCaretCandidate$2, not(isFloated));\n    var isNotPre = not(matchStyleValues('white-space', 'pre pre-line pre-wrap'));\n    var isText$4 = isText$7;\n    var isBr$2 = isBr$5;\n    var nodeIndex$1 = DOMUtils.nodeIndex;\n    var resolveIndex$1 = getNodeUnsafe;\n    var createRange$1 = function (doc) {\n      return 'createRange' in doc ? doc.createRange() : DOMUtils.DOM.createRng();\n    };\n    var isWhiteSpace$1 = function (chr) {\n      return chr && /[\\r\\n\\t ]/.test(chr);\n    };\n    var isRange = function (rng) {\n      return !!rng.setStart && !!rng.setEnd;\n    };\n    var isHiddenWhiteSpaceRange = function (range) {\n      var container = range.startContainer;\n      var offset = range.startOffset;\n      if (isWhiteSpace$1(range.toString()) && isNotPre(container.parentNode) && isText$7(container)) {\n        var text = container.data;\n        if (isWhiteSpace$1(text[offset - 1]) || isWhiteSpace$1(text[offset + 1])) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var getBrClientRect = function (brNode) {\n      var doc = brNode.ownerDocument;\n      var rng = createRange$1(doc);\n      var nbsp$1 = doc.createTextNode(nbsp);\n      var parentNode = brNode.parentNode;\n      parentNode.insertBefore(nbsp$1, brNode);\n      rng.setStart(nbsp$1, 0);\n      rng.setEnd(nbsp$1, 1);\n      var clientRect = clone(rng.getBoundingClientRect());\n      parentNode.removeChild(nbsp$1);\n      return clientRect;\n    };\n    var getBoundingClientRectWebKitText = function (rng) {\n      var sc = rng.startContainer;\n      var ec = rng.endContainer;\n      var so = rng.startOffset;\n      var eo = rng.endOffset;\n      if (sc === ec && isText$7(ec) && so === 0 && eo === 1) {\n        var newRng = rng.cloneRange();\n        newRng.setEndAfter(ec);\n        return getBoundingClientRect$1(newRng);\n      } else {\n        return null;\n      }\n    };\n    var isZeroRect = function (r) {\n      return r.left === 0 && r.right === 0 && r.top === 0 && r.bottom === 0;\n    };\n    var getBoundingClientRect$1 = function (item) {\n      var clientRect;\n      var clientRects = item.getClientRects();\n      if (clientRects.length > 0) {\n        clientRect = clone(clientRects[0]);\n      } else {\n        clientRect = clone(item.getBoundingClientRect());\n      }\n      if (!isRange(item) && isBr$2(item) && isZeroRect(clientRect)) {\n        return getBrClientRect(item);\n      }\n      if (isZeroRect(clientRect) && isRange(item)) {\n        return getBoundingClientRectWebKitText(item);\n      }\n      return clientRect;\n    };\n    var collapseAndInflateWidth = function (clientRect, toStart) {\n      var newClientRect = collapse(clientRect, toStart);\n      newClientRect.width = 1;\n      newClientRect.right = newClientRect.left + 1;\n      return newClientRect;\n    };\n    var getCaretPositionClientRects = function (caretPosition) {\n      var clientRects = [];\n      var addUniqueAndValidRect = function (clientRect) {\n        if (clientRect.height === 0) {\n          return;\n        }\n        if (clientRects.length > 0) {\n          if (isEqual(clientRect, clientRects[clientRects.length - 1])) {\n            return;\n          }\n        }\n        clientRects.push(clientRect);\n      };\n      var addCharacterOffset = function (container, offset) {\n        var range = createRange$1(container.ownerDocument);\n        if (offset < container.data.length) {\n          if (isExtendingChar(container.data[offset])) {\n            return clientRects;\n          }\n          if (isExtendingChar(container.data[offset - 1])) {\n            range.setStart(container, offset);\n            range.setEnd(container, offset + 1);\n            if (!isHiddenWhiteSpaceRange(range)) {\n              addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(range), false));\n              return clientRects;\n            }\n          }\n        }\n        if (offset > 0) {\n          range.setStart(container, offset - 1);\n          range.setEnd(container, offset);\n          if (!isHiddenWhiteSpaceRange(range)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(range), false));\n          }\n        }\n        if (offset < container.data.length) {\n          range.setStart(container, offset);\n          range.setEnd(container, offset + 1);\n          if (!isHiddenWhiteSpaceRange(range)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(range), true));\n          }\n        }\n      };\n      var container = caretPosition.container();\n      var offset = caretPosition.offset();\n      if (isText$4(container)) {\n        addCharacterOffset(container, offset);\n        return clientRects;\n      }\n      if (isElement$3(container)) {\n        if (caretPosition.isAtEnd()) {\n          var node = resolveIndex$1(container, offset);\n          if (isText$4(node)) {\n            addCharacterOffset(node, node.data.length);\n          }\n          if (isValidElementCaretCandidate(node) && !isBr$2(node)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(node), false));\n          }\n        } else {\n          var node = resolveIndex$1(container, offset);\n          if (isText$4(node)) {\n            addCharacterOffset(node, 0);\n          }\n          if (isValidElementCaretCandidate(node) && caretPosition.isAtEnd()) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(node), false));\n            return clientRects;\n          }\n          var beforeNode = resolveIndex$1(caretPosition.container(), caretPosition.offset() - 1);\n          if (isValidElementCaretCandidate(beforeNode) && !isBr$2(beforeNode)) {\n            if (isBlock$1(beforeNode) || isBlock$1(node) || !isValidElementCaretCandidate(node)) {\n              addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(beforeNode), false));\n            }\n          }\n          if (isValidElementCaretCandidate(node)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(node), true));\n          }\n        }\n      }\n      return clientRects;\n    };\n    var CaretPosition = function (container, offset, clientRects) {\n      var isAtStart = function () {\n        if (isText$4(container)) {\n          return offset === 0;\n        }\n        return offset === 0;\n      };\n      var isAtEnd = function () {\n        if (isText$4(container)) {\n          return offset >= container.data.length;\n        }\n        return offset >= container.childNodes.length;\n      };\n      var toRange = function () {\n        var range = createRange$1(container.ownerDocument);\n        range.setStart(container, offset);\n        range.setEnd(container, offset);\n        return range;\n      };\n      var getClientRects = function () {\n        if (!clientRects) {\n          clientRects = getCaretPositionClientRects(CaretPosition(container, offset));\n        }\n        return clientRects;\n      };\n      var isVisible = function () {\n        return getClientRects().length > 0;\n      };\n      var isEqual = function (caretPosition) {\n        return caretPosition && container === caretPosition.container() && offset === caretPosition.offset();\n      };\n      var getNode = function (before) {\n        return resolveIndex$1(container, before ? offset - 1 : offset);\n      };\n      return {\n        container: constant(container),\n        offset: constant(offset),\n        toRange: toRange,\n        getClientRects: getClientRects,\n        isVisible: isVisible,\n        isAtStart: isAtStart,\n        isAtEnd: isAtEnd,\n        isEqual: isEqual,\n        getNode: getNode\n      };\n    };\n    CaretPosition.fromRangeStart = function (range) {\n      return CaretPosition(range.startContainer, range.startOffset);\n    };\n    CaretPosition.fromRangeEnd = function (range) {\n      return CaretPosition(range.endContainer, range.endOffset);\n    };\n    CaretPosition.after = function (node) {\n      return CaretPosition(node.parentNode, nodeIndex$1(node) + 1);\n    };\n    CaretPosition.before = function (node) {\n      return CaretPosition(node.parentNode, nodeIndex$1(node));\n    };\n    CaretPosition.isAbove = function (pos1, pos2) {\n      return lift2(head(pos2.getClientRects()), last$2(pos1.getClientRects()), isAbove$1).getOr(false);\n    };\n    CaretPosition.isBelow = function (pos1, pos2) {\n      return lift2(last$2(pos2.getClientRects()), head(pos1.getClientRects()), isBelow$1).getOr(false);\n    };\n    CaretPosition.isAtStart = function (pos) {\n      return pos ? pos.isAtStart() : false;\n    };\n    CaretPosition.isAtEnd = function (pos) {\n      return pos ? pos.isAtEnd() : false;\n    };\n    CaretPosition.isTextPosition = function (pos) {\n      return pos ? isText$7(pos.container()) : false;\n    };\n    CaretPosition.isElementPosition = function (pos) {\n      return CaretPosition.isTextPosition(pos) === false;\n    };\n\n    var trimEmptyTextNode$1 = function (dom, node) {\n      if (isText$7(node) && node.data.length === 0) {\n        dom.remove(node);\n      }\n    };\n    var insertNode = function (dom, rng, node) {\n      rng.insertNode(node);\n      trimEmptyTextNode$1(dom, node.previousSibling);\n      trimEmptyTextNode$1(dom, node.nextSibling);\n    };\n    var insertFragment = function (dom, rng, frag) {\n      var firstChild = Optional.from(frag.firstChild);\n      var lastChild = Optional.from(frag.lastChild);\n      rng.insertNode(frag);\n      firstChild.each(function (child) {\n        return trimEmptyTextNode$1(dom, child.previousSibling);\n      });\n      lastChild.each(function (child) {\n        return trimEmptyTextNode$1(dom, child.nextSibling);\n      });\n    };\n    var rangeInsertNode = function (dom, rng, node) {\n      if (isDocumentFragment(node)) {\n        insertFragment(dom, rng, node);\n      } else {\n        insertNode(dom, rng, node);\n      }\n    };\n\n    var isText$3 = isText$7;\n    var isBogus = isBogus$2;\n    var nodeIndex = DOMUtils.nodeIndex;\n    var normalizedParent = function (node) {\n      var parentNode = node.parentNode;\n      if (isBogus(parentNode)) {\n        return normalizedParent(parentNode);\n      }\n      return parentNode;\n    };\n    var getChildNodes = function (node) {\n      if (!node) {\n        return [];\n      }\n      return reduce(node.childNodes, function (result, node) {\n        if (isBogus(node) && node.nodeName !== 'BR') {\n          result = result.concat(getChildNodes(node));\n        } else {\n          result.push(node);\n        }\n        return result;\n      }, []);\n    };\n    var normalizedTextOffset = function (node, offset) {\n      while (node = node.previousSibling) {\n        if (!isText$3(node)) {\n          break;\n        }\n        offset += node.data.length;\n      }\n      return offset;\n    };\n    var equal = function (a) {\n      return function (b) {\n        return a === b;\n      };\n    };\n    var normalizedNodeIndex = function (node) {\n      var nodes, index;\n      nodes = getChildNodes(normalizedParent(node));\n      index = findIndex$1(nodes, equal(node), node);\n      nodes = nodes.slice(0, index + 1);\n      var numTextFragments = reduce(nodes, function (result, node, i) {\n        if (isText$3(node) && isText$3(nodes[i - 1])) {\n          result++;\n        }\n        return result;\n      }, 0);\n      nodes = filter$2(nodes, matchNodeNames([node.nodeName]));\n      index = findIndex$1(nodes, equal(node), node);\n      return index - numTextFragments;\n    };\n    var createPathItem = function (node) {\n      var name;\n      if (isText$3(node)) {\n        name = 'text()';\n      } else {\n        name = node.nodeName.toLowerCase();\n      }\n      return name + '[' + normalizedNodeIndex(node) + ']';\n    };\n    var parentsUntil$1 = function (root, node, predicate) {\n      var parents = [];\n      for (node = node.parentNode; node !== root; node = node.parentNode) {\n        if (predicate && predicate(node)) {\n          break;\n        }\n        parents.push(node);\n      }\n      return parents;\n    };\n    var create$6 = function (root, caretPosition) {\n      var container, offset, path = [], outputOffset, childNodes, parents;\n      container = caretPosition.container();\n      offset = caretPosition.offset();\n      if (isText$3(container)) {\n        outputOffset = normalizedTextOffset(container, offset);\n      } else {\n        childNodes = container.childNodes;\n        if (offset >= childNodes.length) {\n          outputOffset = 'after';\n          offset = childNodes.length - 1;\n        } else {\n          outputOffset = 'before';\n        }\n        container = childNodes[offset];\n      }\n      path.push(createPathItem(container));\n      parents = parentsUntil$1(root, container);\n      parents = filter$2(parents, not(isBogus$2));\n      path = path.concat(map$1(parents, function (node) {\n        return createPathItem(node);\n      }));\n      return path.reverse().join('/') + ',' + outputOffset;\n    };\n    var resolvePathItem = function (node, name, index) {\n      var nodes = getChildNodes(node);\n      nodes = filter$2(nodes, function (node, index) {\n        return !isText$3(node) || !isText$3(nodes[index - 1]);\n      });\n      nodes = filter$2(nodes, matchNodeNames([name]));\n      return nodes[index];\n    };\n    var findTextPosition = function (container, offset) {\n      var node = container, targetOffset = 0, dataLen;\n      while (isText$3(node)) {\n        dataLen = node.data.length;\n        if (offset >= targetOffset && offset <= targetOffset + dataLen) {\n          container = node;\n          offset = offset - targetOffset;\n          break;\n        }\n        if (!isText$3(node.nextSibling)) {\n          container = node;\n          offset = dataLen;\n          break;\n        }\n        targetOffset += dataLen;\n        node = node.nextSibling;\n      }\n      if (isText$3(container) && offset > container.data.length) {\n        offset = container.data.length;\n      }\n      return CaretPosition(container, offset);\n    };\n    var resolve$2 = function (root, path) {\n      var offset;\n      if (!path) {\n        return null;\n      }\n      var parts = path.split(',');\n      var paths = parts[0].split('/');\n      offset = parts.length > 1 ? parts[1] : 'before';\n      var container = reduce(paths, function (result, value) {\n        var match = /([\\w\\-\\(\\)]+)\\[([0-9]+)\\]/.exec(value);\n        if (!match) {\n          return null;\n        }\n        if (match[1] === 'text()') {\n          match[1] = '#text';\n        }\n        return resolvePathItem(result, match[1], parseInt(match[2], 10));\n      }, root);\n      if (!container) {\n        return null;\n      }\n      if (!isText$3(container)) {\n        if (offset === 'after') {\n          offset = nodeIndex(container) + 1;\n        } else {\n          offset = nodeIndex(container);\n        }\n        return CaretPosition(container.parentNode, offset);\n      }\n      return findTextPosition(container, parseInt(offset, 10));\n    };\n\n    var isContentEditableFalse$9 = isContentEditableFalse$b;\n    var getNormalizedTextOffset = function (trim, container, offset) {\n      var node, trimmedOffset;\n      trimmedOffset = trim(container.data.slice(0, offset)).length;\n      for (node = container.previousSibling; node && isText$7(node); node = node.previousSibling) {\n        trimmedOffset += trim(node.data).length;\n      }\n      return trimmedOffset;\n    };\n    var getPoint = function (dom, trim, normalized, rng, start) {\n      var container = rng[start ? 'startContainer' : 'endContainer'];\n      var offset = rng[start ? 'startOffset' : 'endOffset'];\n      var point = [];\n      var childNodes, after = 0;\n      var root = dom.getRoot();\n      if (isText$7(container)) {\n        point.push(normalized ? getNormalizedTextOffset(trim, container, offset) : offset);\n      } else {\n        childNodes = container.childNodes;\n        if (offset >= childNodes.length && childNodes.length) {\n          after = 1;\n          offset = Math.max(0, childNodes.length - 1);\n        }\n        point.push(dom.nodeIndex(childNodes[offset], normalized) + after);\n      }\n      for (; container && container !== root; container = container.parentNode) {\n        point.push(dom.nodeIndex(container, normalized));\n      }\n      return point;\n    };\n    var getLocation = function (trim, selection, normalized, rng) {\n      var dom = selection.dom, bookmark = {};\n      bookmark.start = getPoint(dom, trim, normalized, rng, true);\n      if (!selection.isCollapsed()) {\n        bookmark.end = getPoint(dom, trim, normalized, rng, false);\n      }\n      if (isRangeInCaretContainerBlock(rng)) {\n        bookmark.isFakeCaret = true;\n      }\n      return bookmark;\n    };\n    var findIndex = function (dom, name, element) {\n      var count = 0;\n      Tools.each(dom.select(name), function (node) {\n        if (node.getAttribute('data-mce-bogus') === 'all') {\n          return;\n        }\n        if (node === element) {\n          return false;\n        }\n        count++;\n      });\n      return count;\n    };\n    var moveEndPoint$1 = function (rng, start) {\n      var container, offset, childNodes;\n      var prefix = start ? 'start' : 'end';\n      container = rng[prefix + 'Container'];\n      offset = rng[prefix + 'Offset'];\n      if (isElement$5(container) && container.nodeName === 'TR') {\n        childNodes = container.childNodes;\n        container = childNodes[Math.min(start ? offset : offset - 1, childNodes.length - 1)];\n        if (container) {\n          offset = start ? 0 : container.childNodes.length;\n          rng['set' + (start ? 'Start' : 'End')](container, offset);\n        }\n      }\n    };\n    var normalizeTableCellSelection = function (rng) {\n      moveEndPoint$1(rng, true);\n      moveEndPoint$1(rng, false);\n      return rng;\n    };\n    var findSibling = function (node, offset) {\n      var sibling;\n      if (isElement$5(node)) {\n        node = getNode$1(node, offset);\n        if (isContentEditableFalse$9(node)) {\n          return node;\n        }\n      }\n      if (isCaretContainer$2(node)) {\n        if (isText$7(node) && isCaretContainerBlock$1(node)) {\n          node = node.parentNode;\n        }\n        sibling = node.previousSibling;\n        if (isContentEditableFalse$9(sibling)) {\n          return sibling;\n        }\n        sibling = node.nextSibling;\n        if (isContentEditableFalse$9(sibling)) {\n          return sibling;\n        }\n      }\n    };\n    var findAdjacentContentEditableFalseElm = function (rng) {\n      return findSibling(rng.startContainer, rng.startOffset) || findSibling(rng.endContainer, rng.endOffset);\n    };\n    var getOffsetBookmark = function (trim, normalized, selection) {\n      var element = selection.getNode();\n      var name = element ? element.nodeName : null;\n      var rng = selection.getRng();\n      if (isContentEditableFalse$9(element) || name === 'IMG') {\n        return {\n          name: name,\n          index: findIndex(selection.dom, name, element)\n        };\n      }\n      var sibling = findAdjacentContentEditableFalseElm(rng);\n      if (sibling) {\n        name = sibling.tagName;\n        return {\n          name: name,\n          index: findIndex(selection.dom, name, sibling)\n        };\n      }\n      return getLocation(trim, selection, normalized, rng);\n    };\n    var getCaretBookmark = function (selection) {\n      var rng = selection.getRng();\n      return {\n        start: create$6(selection.dom.getRoot(), CaretPosition.fromRangeStart(rng)),\n        end: create$6(selection.dom.getRoot(), CaretPosition.fromRangeEnd(rng))\n      };\n    };\n    var getRangeBookmark = function (selection) {\n      return { rng: selection.getRng() };\n    };\n    var createBookmarkSpan = function (dom, id, filled) {\n      var args = {\n        'data-mce-type': 'bookmark',\n        id: id,\n        'style': 'overflow:hidden;line-height:0px'\n      };\n      return filled ? dom.create('span', args, '&#xFEFF;') : dom.create('span', args);\n    };\n    var getPersistentBookmark = function (selection, filled) {\n      var dom = selection.dom;\n      var rng = selection.getRng();\n      var id = dom.uniqueId();\n      var collapsed = selection.isCollapsed();\n      var element = selection.getNode();\n      var name = element.nodeName;\n      if (name === 'IMG') {\n        return {\n          name: name,\n          index: findIndex(dom, name, element)\n        };\n      }\n      var rng2 = normalizeTableCellSelection(rng.cloneRange());\n      if (!collapsed) {\n        rng2.collapse(false);\n        var endBookmarkNode = createBookmarkSpan(dom, id + '_end', filled);\n        rangeInsertNode(dom, rng2, endBookmarkNode);\n      }\n      rng = normalizeTableCellSelection(rng);\n      rng.collapse(true);\n      var startBookmarkNode = createBookmarkSpan(dom, id + '_start', filled);\n      rangeInsertNode(dom, rng, startBookmarkNode);\n      selection.moveToBookmark({\n        id: id,\n        keep: true\n      });\n      return { id: id };\n    };\n    var getBookmark$2 = function (selection, type, normalized) {\n      if (type === 2) {\n        return getOffsetBookmark(trim$3, normalized, selection);\n      } else if (type === 3) {\n        return getCaretBookmark(selection);\n      } else if (type) {\n        return getRangeBookmark(selection);\n      } else {\n        return getPersistentBookmark(selection, false);\n      }\n    };\n    var getUndoBookmark = curry(getOffsetBookmark, identity, true);\n\n    var DOM$9 = DOMUtils.DOM;\n    var defaultPreviewStyles = 'font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow';\n    var getBodySetting = function (editor, name, defaultValue) {\n      var value = editor.getParam(name, defaultValue);\n      if (value.indexOf('=') !== -1) {\n        var bodyObj = editor.getParam(name, '', 'hash');\n        return get$9(bodyObj, editor.id).getOr(defaultValue);\n      } else {\n        return value;\n      }\n    };\n    var getIframeAttrs = function (editor) {\n      return editor.getParam('iframe_attrs', {});\n    };\n    var getDocType = function (editor) {\n      return editor.getParam('doctype', '<!DOCTYPE html>');\n    };\n    var getDocumentBaseUrl = function (editor) {\n      return editor.getParam('document_base_url', '');\n    };\n    var getBodyId = function (editor) {\n      return getBodySetting(editor, 'body_id', 'tinymce');\n    };\n    var getBodyClass = function (editor) {\n      return getBodySetting(editor, 'body_class', '');\n    };\n    var getContentSecurityPolicy = function (editor) {\n      return editor.getParam('content_security_policy', '');\n    };\n    var shouldPutBrInPre$1 = function (editor) {\n      return editor.getParam('br_in_pre', true);\n    };\n    var getForcedRootBlock = function (editor) {\n      if (editor.getParam('force_p_newlines', false)) {\n        return 'p';\n      }\n      var block = editor.getParam('forced_root_block', 'p');\n      if (block === false) {\n        return '';\n      } else if (block === true) {\n        return 'p';\n      } else {\n        return block;\n      }\n    };\n    var getForcedRootBlockAttrs = function (editor) {\n      return editor.getParam('forced_root_block_attrs', {});\n    };\n    var getBrNewLineSelector = function (editor) {\n      return editor.getParam('br_newline_selector', '.mce-toc h2,figcaption,caption');\n    };\n    var getNoNewLineSelector = function (editor) {\n      return editor.getParam('no_newline_selector', '');\n    };\n    var shouldKeepStyles = function (editor) {\n      return editor.getParam('keep_styles', true);\n    };\n    var shouldEndContainerOnEmptyBlock = function (editor) {\n      return editor.getParam('end_container_on_empty_block', false);\n    };\n    var getFontStyleValues = function (editor) {\n      return Tools.explode(editor.getParam('font_size_style_values', 'xx-small,x-small,small,medium,large,x-large,xx-large'));\n    };\n    var getFontSizeClasses = function (editor) {\n      return Tools.explode(editor.getParam('font_size_classes', ''));\n    };\n    var getImagesDataImgFilter = function (editor) {\n      return editor.getParam('images_dataimg_filter', always, 'function');\n    };\n    var isAutomaticUploadsEnabled = function (editor) {\n      return editor.getParam('automatic_uploads', true, 'boolean');\n    };\n    var shouldReuseFileName = function (editor) {\n      return editor.getParam('images_reuse_filename', false, 'boolean');\n    };\n    var shouldReplaceBlobUris = function (editor) {\n      return editor.getParam('images_replace_blob_uris', true, 'boolean');\n    };\n    var getIconPackName = function (editor) {\n      return editor.getParam('icons', '', 'string');\n    };\n    var getIconsUrl = function (editor) {\n      return editor.getParam('icons_url', '', 'string');\n    };\n    var getImageUploadUrl = function (editor) {\n      return editor.getParam('images_upload_url', '', 'string');\n    };\n    var getImageUploadBasePath = function (editor) {\n      return editor.getParam('images_upload_base_path', '', 'string');\n    };\n    var getImagesUploadCredentials = function (editor) {\n      return editor.getParam('images_upload_credentials', false, 'boolean');\n    };\n    var getImagesUploadHandler = function (editor) {\n      return editor.getParam('images_upload_handler', null, 'function');\n    };\n    var shouldUseContentCssCors = function (editor) {\n      return editor.getParam('content_css_cors', false, 'boolean');\n    };\n    var getReferrerPolicy = function (editor) {\n      return editor.getParam('referrer_policy', '', 'string');\n    };\n    var getLanguageCode = function (editor) {\n      return editor.getParam('language', 'en', 'string');\n    };\n    var getLanguageUrl = function (editor) {\n      return editor.getParam('language_url', '', 'string');\n    };\n    var shouldIndentUseMargin = function (editor) {\n      return editor.getParam('indent_use_margin', false);\n    };\n    var getIndentation = function (editor) {\n      return editor.getParam('indentation', '40px', 'string');\n    };\n    var getContentCss = function (editor) {\n      var contentCss = editor.getParam('content_css');\n      if (isString$1(contentCss)) {\n        return map$3(contentCss.split(','), trim$5);\n      } else if (isArray$1(contentCss)) {\n        return contentCss;\n      } else if (contentCss === false || editor.inline) {\n        return [];\n      } else {\n        return ['default'];\n      }\n    };\n    var getFontCss = function (editor) {\n      var fontCss = editor.getParam('font_css', []);\n      return isArray$1(fontCss) ? fontCss : map$3(fontCss.split(','), trim$5);\n    };\n    var getDirectionality = function (editor) {\n      return editor.getParam('directionality', I18n.isRtl() ? 'rtl' : undefined);\n    };\n    var getInlineBoundarySelector = function (editor) {\n      return editor.getParam('inline_boundaries_selector', 'a[href],code,.mce-annotation', 'string');\n    };\n    var getObjectResizing = function (editor) {\n      var selector = editor.getParam('object_resizing');\n      if (selector === false || Env.iOS) {\n        return false;\n      } else {\n        return isString$1(selector) ? selector : 'table,img,figure.image,div,video,iframe';\n      }\n    };\n    var getResizeImgProportional = function (editor) {\n      return editor.getParam('resize_img_proportional', true, 'boolean');\n    };\n    var getPlaceholder = function (editor) {\n      return editor.getParam('placeholder', DOM$9.getAttrib(editor.getElement(), 'placeholder'), 'string');\n    };\n    var getEventRoot = function (editor) {\n      return editor.getParam('event_root');\n    };\n    var getServiceMessage = function (editor) {\n      return editor.getParam('service_message');\n    };\n    var getTheme = function (editor) {\n      return editor.getParam('theme');\n    };\n    var shouldValidate = function (editor) {\n      return editor.getParam('validate');\n    };\n    var isInlineBoundariesEnabled = function (editor) {\n      return editor.getParam('inline_boundaries') !== false;\n    };\n    var getFormats = function (editor) {\n      return editor.getParam('formats');\n    };\n    var getPreviewStyles = function (editor) {\n      var style = editor.getParam('preview_styles', defaultPreviewStyles);\n      if (isString$1(style)) {\n        return style;\n      } else {\n        return '';\n      }\n    };\n    var canFormatEmptyLines = function (editor) {\n      return editor.getParam('format_empty_lines', false, 'boolean');\n    };\n    var getCustomUiSelector = function (editor) {\n      return editor.getParam('custom_ui_selector', '', 'string');\n    };\n    var getThemeUrl = function (editor) {\n      return editor.getParam('theme_url');\n    };\n    var isInline = function (editor) {\n      return editor.getParam('inline');\n    };\n    var hasHiddenInput = function (editor) {\n      return editor.getParam('hidden_input');\n    };\n    var shouldPatchSubmit = function (editor) {\n      return editor.getParam('submit_patch');\n    };\n    var isEncodingXml = function (editor) {\n      return editor.getParam('encoding') === 'xml';\n    };\n    var shouldAddFormSubmitTrigger = function (editor) {\n      return editor.getParam('add_form_submit_trigger');\n    };\n    var shouldAddUnloadTrigger = function (editor) {\n      return editor.getParam('add_unload_trigger');\n    };\n    var hasForcedRootBlock = function (editor) {\n      return getForcedRootBlock(editor) !== '';\n    };\n    var getCustomUndoRedoLevels = function (editor) {\n      return editor.getParam('custom_undo_redo_levels', 0, 'number');\n    };\n    var shouldDisableNodeChange = function (editor) {\n      return editor.getParam('disable_nodechange');\n    };\n    var isReadOnly$1 = function (editor) {\n      return editor.getParam('readonly');\n    };\n    var hasContentCssCors = function (editor) {\n      return editor.getParam('content_css_cors');\n    };\n    var getPlugins = function (editor) {\n      return editor.getParam('plugins', '', 'string');\n    };\n    var getExternalPlugins$1 = function (editor) {\n      return editor.getParam('external_plugins');\n    };\n    var shouldBlockUnsupportedDrop = function (editor) {\n      return editor.getParam('block_unsupported_drop', true, 'boolean');\n    };\n    var isVisualAidsEnabled = function (editor) {\n      return editor.getParam('visual', true, 'boolean');\n    };\n    var getVisualAidsTableClass = function (editor) {\n      return editor.getParam('visual_table_class', 'mce-item-table', 'string');\n    };\n    var getVisualAidsAnchorClass = function (editor) {\n      return editor.getParam('visual_anchor_class', 'mce-item-anchor', 'string');\n    };\n    var getIframeAriaText = function (editor) {\n      return editor.getParam('iframe_aria_text', 'Rich Text Area. Press ALT-0 for help.', 'string');\n    };\n\n    var isElement$2 = isElement$5;\n    var isText$2 = isText$7;\n    var removeNode$1 = function (node) {\n      var parentNode = node.parentNode;\n      if (parentNode) {\n        parentNode.removeChild(node);\n      }\n    };\n    var trimCount = function (text) {\n      var trimmedText = trim$3(text);\n      return {\n        count: text.length - trimmedText.length,\n        text: trimmedText\n      };\n    };\n    var deleteZwspChars = function (caretContainer) {\n      var idx;\n      while ((idx = caretContainer.data.lastIndexOf(ZWSP$1)) !== -1) {\n        caretContainer.deleteData(idx, 1);\n      }\n    };\n    var removeUnchanged = function (caretContainer, pos) {\n      remove$2(caretContainer);\n      return pos;\n    };\n    var removeTextAndReposition = function (caretContainer, pos) {\n      var before = trimCount(caretContainer.data.substr(0, pos.offset()));\n      var after = trimCount(caretContainer.data.substr(pos.offset()));\n      var text = before.text + after.text;\n      if (text.length > 0) {\n        deleteZwspChars(caretContainer);\n        return CaretPosition(caretContainer, pos.offset() - before.count);\n      } else {\n        return pos;\n      }\n    };\n    var removeElementAndReposition = function (caretContainer, pos) {\n      var parentNode = pos.container();\n      var newPosition = indexOf$2(from(parentNode.childNodes), caretContainer).map(function (index) {\n        return index < pos.offset() ? CaretPosition(parentNode, pos.offset() - 1) : pos;\n      }).getOr(pos);\n      remove$2(caretContainer);\n      return newPosition;\n    };\n    var removeTextCaretContainer = function (caretContainer, pos) {\n      return isText$2(caretContainer) && pos.container() === caretContainer ? removeTextAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);\n    };\n    var removeElementCaretContainer = function (caretContainer, pos) {\n      return pos.container() === caretContainer.parentNode ? removeElementAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);\n    };\n    var removeAndReposition = function (container, pos) {\n      return CaretPosition.isTextPosition(pos) ? removeTextCaretContainer(container, pos) : removeElementCaretContainer(container, pos);\n    };\n    var remove$2 = function (caretContainerNode) {\n      if (isElement$2(caretContainerNode) && isCaretContainer$2(caretContainerNode)) {\n        if (hasContent(caretContainerNode)) {\n          caretContainerNode.removeAttribute('data-mce-caret');\n        } else {\n          removeNode$1(caretContainerNode);\n        }\n      }\n      if (isText$2(caretContainerNode)) {\n        deleteZwspChars(caretContainerNode);\n        if (caretContainerNode.data.length === 0) {\n          removeNode$1(caretContainerNode);\n        }\n      }\n    };\n\n    var browser$2 = detect().browser;\n    var isContentEditableFalse$8 = isContentEditableFalse$b;\n    var isMedia$1 = isMedia$2;\n    var isTableCell$3 = isTableCell$5;\n    var inlineFakeCaretSelector = '*[contentEditable=false],video,audio,embed,object';\n    var getAbsoluteClientRect = function (root, element, before) {\n      var clientRect = collapse(element.getBoundingClientRect(), before);\n      var scrollX;\n      var scrollY;\n      if (root.tagName === 'BODY') {\n        var docElm = root.ownerDocument.documentElement;\n        scrollX = root.scrollLeft || docElm.scrollLeft;\n        scrollY = root.scrollTop || docElm.scrollTop;\n      } else {\n        var rootRect = root.getBoundingClientRect();\n        scrollX = root.scrollLeft - rootRect.left;\n        scrollY = root.scrollTop - rootRect.top;\n      }\n      clientRect.left += scrollX;\n      clientRect.right += scrollX;\n      clientRect.top += scrollY;\n      clientRect.bottom += scrollY;\n      clientRect.width = 1;\n      var margin = element.offsetWidth - element.clientWidth;\n      if (margin > 0) {\n        if (before) {\n          margin *= -1;\n        }\n        clientRect.left += margin;\n        clientRect.right += margin;\n      }\n      return clientRect;\n    };\n    var trimInlineCaretContainers = function (root) {\n      var fakeCaretTargetNodes = descendants(SugarElement.fromDom(root), inlineFakeCaretSelector);\n      for (var i = 0; i < fakeCaretTargetNodes.length; i++) {\n        var node = fakeCaretTargetNodes[i].dom;\n        var sibling = node.previousSibling;\n        if (endsWithCaretContainer$1(sibling)) {\n          var data = sibling.data;\n          if (data.length === 1) {\n            sibling.parentNode.removeChild(sibling);\n          } else {\n            sibling.deleteData(data.length - 1, 1);\n          }\n        }\n        sibling = node.nextSibling;\n        if (startsWithCaretContainer$1(sibling)) {\n          var data = sibling.data;\n          if (data.length === 1) {\n            sibling.parentNode.removeChild(sibling);\n          } else {\n            sibling.deleteData(0, 1);\n          }\n        }\n      }\n    };\n    var FakeCaret = function (editor, root, isBlock, hasFocus) {\n      var lastVisualCaret = value();\n      var cursorInterval;\n      var caretContainerNode;\n      var rootBlock = getForcedRootBlock(editor);\n      var caretBlock = rootBlock.length > 0 ? rootBlock : 'p';\n      var show = function (before, element) {\n        var rng;\n        hide();\n        if (isTableCell$3(element)) {\n          return null;\n        }\n        if (isBlock(element)) {\n          caretContainerNode = insertBlock$1(caretBlock, element, before);\n          var clientRect = getAbsoluteClientRect(root, element, before);\n          DomQuery(caretContainerNode).css('top', clientRect.top);\n          var caret = DomQuery('<div class=\"mce-visual-caret\" data-mce-bogus=\"all\"></div>').css(__assign({}, clientRect)).appendTo(root)[0];\n          lastVisualCaret.set({\n            caret: caret,\n            element: element,\n            before: before\n          });\n          if (before) {\n            DomQuery(caret).addClass('mce-visual-caret-before');\n          }\n          startBlink();\n          rng = element.ownerDocument.createRange();\n          rng.setStart(caretContainerNode, 0);\n          rng.setEnd(caretContainerNode, 0);\n        } else {\n          caretContainerNode = insertInline$1(element, before);\n          rng = element.ownerDocument.createRange();\n          if (isInlineFakeCaretTarget(caretContainerNode.nextSibling)) {\n            rng.setStart(caretContainerNode, 0);\n            rng.setEnd(caretContainerNode, 0);\n          } else {\n            rng.setStart(caretContainerNode, 1);\n            rng.setEnd(caretContainerNode, 1);\n          }\n          return rng;\n        }\n        return rng;\n      };\n      var hide = function () {\n        trimInlineCaretContainers(root);\n        if (caretContainerNode) {\n          remove$2(caretContainerNode);\n          caretContainerNode = null;\n        }\n        lastVisualCaret.on(function (caretState) {\n          DomQuery(caretState.caret).remove();\n          lastVisualCaret.clear();\n        });\n        if (cursorInterval) {\n          Delay.clearInterval(cursorInterval);\n          cursorInterval = undefined;\n        }\n      };\n      var startBlink = function () {\n        cursorInterval = Delay.setInterval(function () {\n          if (hasFocus()) {\n            DomQuery('div.mce-visual-caret', root).toggleClass('mce-visual-caret-hidden');\n          } else {\n            DomQuery('div.mce-visual-caret', root).addClass('mce-visual-caret-hidden');\n          }\n        }, 500);\n      };\n      var reposition = function () {\n        lastVisualCaret.on(function (caretState) {\n          var clientRect = getAbsoluteClientRect(root, caretState.element, caretState.before);\n          DomQuery(caretState.caret).css(__assign({}, clientRect));\n        });\n      };\n      var destroy = function () {\n        return Delay.clearInterval(cursorInterval);\n      };\n      var getCss = function () {\n        return '.mce-visual-caret {' + 'position: absolute;' + 'background-color: black;' + 'background-color: currentcolor;' + '}' + '.mce-visual-caret-hidden {' + 'display: none;' + '}' + '*[data-mce-caret] {' + 'position: absolute;' + 'left: -1000px;' + 'right: auto;' + 'top: 0;' + 'margin: 0;' + 'padding: 0;' + '}';\n      };\n      return {\n        show: show,\n        hide: hide,\n        getCss: getCss,\n        reposition: reposition,\n        destroy: destroy\n      };\n    };\n    var isFakeCaretTableBrowser = function () {\n      return browser$2.isIE() || browser$2.isEdge() || browser$2.isFirefox();\n    };\n    var isInlineFakeCaretTarget = function (node) {\n      return isContentEditableFalse$8(node) || isMedia$1(node);\n    };\n    var isFakeCaretTarget = function (node) {\n      return isInlineFakeCaretTarget(node) || isTable$3(node) && isFakeCaretTableBrowser();\n    };\n\n    var isContentEditableFalse$7 = isContentEditableFalse$b;\n    var isMedia = isMedia$2;\n    var isBlockLike = matchStyleValues('display', 'block table table-cell table-caption list-item');\n    var isCaretContainer = isCaretContainer$2;\n    var isCaretContainerBlock = isCaretContainerBlock$1;\n    var isElement$1 = isElement$5;\n    var isCaretCandidate$1 = isCaretCandidate$3;\n    var isForwards = function (direction) {\n      return direction > 0;\n    };\n    var isBackwards = function (direction) {\n      return direction < 0;\n    };\n    var skipCaretContainers = function (walk, shallow) {\n      var node;\n      while (node = walk(shallow)) {\n        if (!isCaretContainerBlock(node)) {\n          return node;\n        }\n      }\n      return null;\n    };\n    var findNode$1 = function (node, direction, predicateFn, rootNode, shallow) {\n      var walker = new DomTreeWalker(node, rootNode);\n      var isCefOrCaretContainer = isContentEditableFalse$7(node) || isCaretContainerBlock(node);\n      if (isBackwards(direction)) {\n        if (isCefOrCaretContainer) {\n          node = skipCaretContainers(walker.prev.bind(walker), true);\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n        while (node = skipCaretContainers(walker.prev.bind(walker), shallow)) {\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n      }\n      if (isForwards(direction)) {\n        if (isCefOrCaretContainer) {\n          node = skipCaretContainers(walker.next.bind(walker), true);\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n        while (node = skipCaretContainers(walker.next.bind(walker), shallow)) {\n          if (predicateFn(node)) {\n            return node;\n          }\n        }\n      }\n      return null;\n    };\n    var getParentBlock$2 = function (node, rootNode) {\n      while (node && node !== rootNode) {\n        if (isBlockLike(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var isInSameBlock = function (caretPosition1, caretPosition2, rootNode) {\n      return getParentBlock$2(caretPosition1.container(), rootNode) === getParentBlock$2(caretPosition2.container(), rootNode);\n    };\n    var getChildNodeAtRelativeOffset = function (relativeOffset, caretPosition) {\n      if (!caretPosition) {\n        return null;\n      }\n      var container = caretPosition.container();\n      var offset = caretPosition.offset();\n      if (!isElement$1(container)) {\n        return null;\n      }\n      return container.childNodes[offset + relativeOffset];\n    };\n    var beforeAfter = function (before, node) {\n      var range = node.ownerDocument.createRange();\n      if (before) {\n        range.setStartBefore(node);\n        range.setEndBefore(node);\n      } else {\n        range.setStartAfter(node);\n        range.setEndAfter(node);\n      }\n      return range;\n    };\n    var isNodesInSameBlock = function (root, node1, node2) {\n      return getParentBlock$2(node1, root) === getParentBlock$2(node2, root);\n    };\n    var lean = function (left, root, node) {\n      var siblingName = left ? 'previousSibling' : 'nextSibling';\n      while (node && node !== root) {\n        var sibling = node[siblingName];\n        if (isCaretContainer(sibling)) {\n          sibling = sibling[siblingName];\n        }\n        if (isContentEditableFalse$7(sibling) || isMedia(sibling)) {\n          if (isNodesInSameBlock(root, sibling, node)) {\n            return sibling;\n          }\n          break;\n        }\n        if (isCaretCandidate$1(sibling)) {\n          break;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var before$2 = curry(beforeAfter, true);\n    var after$2 = curry(beforeAfter, false);\n    var normalizeRange = function (direction, root, range) {\n      var node;\n      var leanLeft = curry(lean, true, root);\n      var leanRight = curry(lean, false, root);\n      var container = range.startContainer;\n      var offset = range.startOffset;\n      if (isCaretContainerBlock$1(container)) {\n        if (!isElement$1(container)) {\n          container = container.parentNode;\n        }\n        var location_1 = container.getAttribute('data-mce-caret');\n        if (location_1 === 'before') {\n          node = container.nextSibling;\n          if (isFakeCaretTarget(node)) {\n            return before$2(node);\n          }\n        }\n        if (location_1 === 'after') {\n          node = container.previousSibling;\n          if (isFakeCaretTarget(node)) {\n            return after$2(node);\n          }\n        }\n      }\n      if (!range.collapsed) {\n        return range;\n      }\n      if (isText$7(container)) {\n        if (isCaretContainer(container)) {\n          if (direction === 1) {\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n            node = leanLeft(container);\n            if (node) {\n              return after$2(node);\n            }\n          }\n          if (direction === -1) {\n            node = leanLeft(container);\n            if (node) {\n              return after$2(node);\n            }\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n          }\n          return range;\n        }\n        if (endsWithCaretContainer$1(container) && offset >= container.data.length - 1) {\n          if (direction === 1) {\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n          }\n          return range;\n        }\n        if (startsWithCaretContainer$1(container) && offset <= 1) {\n          if (direction === -1) {\n            node = leanLeft(container);\n            if (node) {\n              return after$2(node);\n            }\n          }\n          return range;\n        }\n        if (offset === container.data.length) {\n          node = leanRight(container);\n          if (node) {\n            return before$2(node);\n          }\n          return range;\n        }\n        if (offset === 0) {\n          node = leanLeft(container);\n          if (node) {\n            return after$2(node);\n          }\n          return range;\n        }\n      }\n      return range;\n    };\n    var getRelativeCefElm = function (forward, caretPosition) {\n      return Optional.from(getChildNodeAtRelativeOffset(forward ? 0 : -1, caretPosition)).filter(isContentEditableFalse$7);\n    };\n    var getNormalizedRangeEndPoint = function (direction, root, range) {\n      var normalizedRange = normalizeRange(direction, root, range);\n      if (direction === -1) {\n        return CaretPosition.fromRangeStart(normalizedRange);\n      }\n      return CaretPosition.fromRangeEnd(normalizedRange);\n    };\n    var getElementFromPosition = function (pos) {\n      return Optional.from(pos.getNode()).map(SugarElement.fromDom);\n    };\n    var getElementFromPrevPosition = function (pos) {\n      return Optional.from(pos.getNode(true)).map(SugarElement.fromDom);\n    };\n    var getVisualCaretPosition = function (walkFn, caretPosition) {\n      while (caretPosition = walkFn(caretPosition)) {\n        if (caretPosition.isVisible()) {\n          return caretPosition;\n        }\n      }\n      return caretPosition;\n    };\n    var isMoveInsideSameBlock = function (from, to) {\n      var inSameBlock = isInSameBlock(from, to);\n      if (!inSameBlock && isBr$5(from.getNode())) {\n        return true;\n      }\n      return inSameBlock;\n    };\n\n    var HDirection;\n    (function (HDirection) {\n      HDirection[HDirection['Backwards'] = -1] = 'Backwards';\n      HDirection[HDirection['Forwards'] = 1] = 'Forwards';\n    }(HDirection || (HDirection = {})));\n    var isContentEditableFalse$6 = isContentEditableFalse$b;\n    var isText$1 = isText$7;\n    var isElement = isElement$5;\n    var isBr$1 = isBr$5;\n    var isCaretCandidate = isCaretCandidate$3;\n    var isAtomic = isAtomic$1;\n    var isEditableCaretCandidate = isEditableCaretCandidate$1;\n    var getParents$3 = function (node, root) {\n      var parents = [];\n      while (node && node !== root) {\n        parents.push(node);\n        node = node.parentNode;\n      }\n      return parents;\n    };\n    var nodeAtIndex = function (container, offset) {\n      if (container.hasChildNodes() && offset < container.childNodes.length) {\n        return container.childNodes[offset];\n      }\n      return null;\n    };\n    var getCaretCandidatePosition = function (direction, node) {\n      if (isForwards(direction)) {\n        if (isCaretCandidate(node.previousSibling) && !isText$1(node.previousSibling)) {\n          return CaretPosition.before(node);\n        }\n        if (isText$1(node)) {\n          return CaretPosition(node, 0);\n        }\n      }\n      if (isBackwards(direction)) {\n        if (isCaretCandidate(node.nextSibling) && !isText$1(node.nextSibling)) {\n          return CaretPosition.after(node);\n        }\n        if (isText$1(node)) {\n          return CaretPosition(node, node.data.length);\n        }\n      }\n      if (isBackwards(direction)) {\n        if (isBr$1(node)) {\n          return CaretPosition.before(node);\n        }\n        return CaretPosition.after(node);\n      }\n      return CaretPosition.before(node);\n    };\n    var moveForwardFromBr = function (root, nextNode) {\n      var nextSibling = nextNode.nextSibling;\n      if (nextSibling && isCaretCandidate(nextSibling)) {\n        if (isText$1(nextSibling)) {\n          return CaretPosition(nextSibling, 0);\n        } else {\n          return CaretPosition.before(nextSibling);\n        }\n      } else {\n        return findCaretPosition$1(HDirection.Forwards, CaretPosition.after(nextNode), root);\n      }\n    };\n    var findCaretPosition$1 = function (direction, startPos, root) {\n      var node;\n      var nextNode;\n      var innerNode;\n      var caretPosition;\n      if (!isElement(root) || !startPos) {\n        return null;\n      }\n      if (startPos.isEqual(CaretPosition.after(root)) && root.lastChild) {\n        caretPosition = CaretPosition.after(root.lastChild);\n        if (isBackwards(direction) && isCaretCandidate(root.lastChild) && isElement(root.lastChild)) {\n          return isBr$1(root.lastChild) ? CaretPosition.before(root.lastChild) : caretPosition;\n        }\n      } else {\n        caretPosition = startPos;\n      }\n      var container = caretPosition.container();\n      var offset = caretPosition.offset();\n      if (isText$1(container)) {\n        if (isBackwards(direction) && offset > 0) {\n          return CaretPosition(container, --offset);\n        }\n        if (isForwards(direction) && offset < container.length) {\n          return CaretPosition(container, ++offset);\n        }\n        node = container;\n      } else {\n        if (isBackwards(direction) && offset > 0) {\n          nextNode = nodeAtIndex(container, offset - 1);\n          if (isCaretCandidate(nextNode)) {\n            if (!isAtomic(nextNode)) {\n              innerNode = findNode$1(nextNode, direction, isEditableCaretCandidate, nextNode);\n              if (innerNode) {\n                if (isText$1(innerNode)) {\n                  return CaretPosition(innerNode, innerNode.data.length);\n                }\n                return CaretPosition.after(innerNode);\n              }\n            }\n            if (isText$1(nextNode)) {\n              return CaretPosition(nextNode, nextNode.data.length);\n            }\n            return CaretPosition.before(nextNode);\n          }\n        }\n        if (isForwards(direction) && offset < container.childNodes.length) {\n          nextNode = nodeAtIndex(container, offset);\n          if (isCaretCandidate(nextNode)) {\n            if (isBr$1(nextNode)) {\n              return moveForwardFromBr(root, nextNode);\n            }\n            if (!isAtomic(nextNode)) {\n              innerNode = findNode$1(nextNode, direction, isEditableCaretCandidate, nextNode);\n              if (innerNode) {\n                if (isText$1(innerNode)) {\n                  return CaretPosition(innerNode, 0);\n                }\n                return CaretPosition.before(innerNode);\n              }\n            }\n            if (isText$1(nextNode)) {\n              return CaretPosition(nextNode, 0);\n            }\n            return CaretPosition.after(nextNode);\n          }\n        }\n        node = nextNode ? nextNode : caretPosition.getNode();\n      }\n      if (isForwards(direction) && caretPosition.isAtEnd() || isBackwards(direction) && caretPosition.isAtStart()) {\n        node = findNode$1(node, direction, always, root, true);\n        if (isEditableCaretCandidate(node, root)) {\n          return getCaretCandidatePosition(direction, node);\n        }\n      }\n      nextNode = findNode$1(node, direction, isEditableCaretCandidate, root);\n      var rootContentEditableFalseElm = last$1(filter$4(getParents$3(container, root), isContentEditableFalse$6));\n      if (rootContentEditableFalseElm && (!nextNode || !rootContentEditableFalseElm.contains(nextNode))) {\n        if (isForwards(direction)) {\n          caretPosition = CaretPosition.after(rootContentEditableFalseElm);\n        } else {\n          caretPosition = CaretPosition.before(rootContentEditableFalseElm);\n        }\n        return caretPosition;\n      }\n      if (nextNode) {\n        return getCaretCandidatePosition(direction, nextNode);\n      }\n      return null;\n    };\n    var CaretWalker = function (root) {\n      return {\n        next: function (caretPosition) {\n          return findCaretPosition$1(HDirection.Forwards, caretPosition, root);\n        },\n        prev: function (caretPosition) {\n          return findCaretPosition$1(HDirection.Backwards, caretPosition, root);\n        }\n      };\n    };\n\n    var walkToPositionIn = function (forward, root, start) {\n      var position = forward ? CaretPosition.before(start) : CaretPosition.after(start);\n      return fromPosition(forward, root, position);\n    };\n    var afterElement = function (node) {\n      return isBr$5(node) ? CaretPosition.before(node) : CaretPosition.after(node);\n    };\n    var isBeforeOrStart = function (position) {\n      if (CaretPosition.isTextPosition(position)) {\n        return position.offset() === 0;\n      } else {\n        return isCaretCandidate$3(position.getNode());\n      }\n    };\n    var isAfterOrEnd = function (position) {\n      if (CaretPosition.isTextPosition(position)) {\n        var container = position.container();\n        return position.offset() === container.data.length;\n      } else {\n        return isCaretCandidate$3(position.getNode(true));\n      }\n    };\n    var isBeforeAfterSameElement = function (from, to) {\n      return !CaretPosition.isTextPosition(from) && !CaretPosition.isTextPosition(to) && from.getNode() === to.getNode(true);\n    };\n    var isAtBr = function (position) {\n      return !CaretPosition.isTextPosition(position) && isBr$5(position.getNode());\n    };\n    var shouldSkipPosition = function (forward, from, to) {\n      if (forward) {\n        return !isBeforeAfterSameElement(from, to) && !isAtBr(from) && isAfterOrEnd(from) && isBeforeOrStart(to);\n      } else {\n        return !isBeforeAfterSameElement(to, from) && isBeforeOrStart(from) && isAfterOrEnd(to);\n      }\n    };\n    var fromPosition = function (forward, root, pos) {\n      var walker = CaretWalker(root);\n      return Optional.from(forward ? walker.next(pos) : walker.prev(pos));\n    };\n    var navigate = function (forward, root, from) {\n      return fromPosition(forward, root, from).bind(function (to) {\n        if (isInSameBlock(from, to, root) && shouldSkipPosition(forward, from, to)) {\n          return fromPosition(forward, root, to);\n        } else {\n          return Optional.some(to);\n        }\n      });\n    };\n    var navigateIgnore = function (forward, root, from, ignoreFilter) {\n      return navigate(forward, root, from).bind(function (pos) {\n        return ignoreFilter(pos) ? navigateIgnore(forward, root, pos, ignoreFilter) : Optional.some(pos);\n      });\n    };\n    var positionIn = function (forward, element) {\n      var startNode = forward ? element.firstChild : element.lastChild;\n      if (isText$7(startNode)) {\n        return Optional.some(CaretPosition(startNode, forward ? 0 : startNode.data.length));\n      } else if (startNode) {\n        if (isCaretCandidate$3(startNode)) {\n          return Optional.some(forward ? CaretPosition.before(startNode) : afterElement(startNode));\n        } else {\n          return walkToPositionIn(forward, element, startNode);\n        }\n      } else {\n        return Optional.none();\n      }\n    };\n    var nextPosition = curry(fromPosition, true);\n    var prevPosition = curry(fromPosition, false);\n    var firstPositionIn = curry(positionIn, true);\n    var lastPositionIn = curry(positionIn, false);\n\n    var CARET_ID$1 = '_mce_caret';\n    var isCaretNode = function (node) {\n      return isElement$5(node) && node.id === CARET_ID$1;\n    };\n    var getParentCaretContainer = function (body, node) {\n      while (node && node !== body) {\n        if (node.id === CARET_ID$1) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n\n    var isStringPathBookmark = function (bookmark) {\n      return isString$1(bookmark.start);\n    };\n    var isRangeBookmark = function (bookmark) {\n      return has$2(bookmark, 'rng');\n    };\n    var isIdBookmark = function (bookmark) {\n      return has$2(bookmark, 'id');\n    };\n    var isIndexBookmark = function (bookmark) {\n      return has$2(bookmark, 'name');\n    };\n    var isPathBookmark = function (bookmark) {\n      return Tools.isArray(bookmark.start);\n    };\n\n    var addBogus = function (dom, node) {\n      if (isElement$5(node) && dom.isBlock(node) && !node.innerHTML && !Env.ie) {\n        node.innerHTML = '<br data-mce-bogus=\"1\" />';\n      }\n      return node;\n    };\n    var resolveCaretPositionBookmark = function (dom, bookmark) {\n      var pos;\n      var rng = dom.createRng();\n      pos = resolve$2(dom.getRoot(), bookmark.start);\n      rng.setStart(pos.container(), pos.offset());\n      pos = resolve$2(dom.getRoot(), bookmark.end);\n      rng.setEnd(pos.container(), pos.offset());\n      return rng;\n    };\n    var insertZwsp = function (node, rng) {\n      var textNode = node.ownerDocument.createTextNode(ZWSP$1);\n      node.appendChild(textNode);\n      rng.setStart(textNode, 0);\n      rng.setEnd(textNode, 0);\n    };\n    var isEmpty$1 = function (node) {\n      return node.hasChildNodes() === false;\n    };\n    var tryFindRangePosition = function (node, rng) {\n      return lastPositionIn(node).fold(never, function (pos) {\n        rng.setStart(pos.container(), pos.offset());\n        rng.setEnd(pos.container(), pos.offset());\n        return true;\n      });\n    };\n    var padEmptyCaretContainer = function (root, node, rng) {\n      if (isEmpty$1(node) && getParentCaretContainer(root, node)) {\n        insertZwsp(node, rng);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var setEndPoint = function (dom, start, bookmark, rng) {\n      var point = bookmark[start ? 'start' : 'end'];\n      var i, node, offset, children;\n      var root = dom.getRoot();\n      if (point) {\n        offset = point[0];\n        for (node = root, i = point.length - 1; i >= 1; i--) {\n          children = node.childNodes;\n          if (padEmptyCaretContainer(root, node, rng)) {\n            return true;\n          }\n          if (point[i] > children.length - 1) {\n            if (padEmptyCaretContainer(root, node, rng)) {\n              return true;\n            }\n            return tryFindRangePosition(node, rng);\n          }\n          node = children[point[i]];\n        }\n        if (node.nodeType === 3) {\n          offset = Math.min(point[0], node.nodeValue.length);\n        }\n        if (node.nodeType === 1) {\n          offset = Math.min(point[0], node.childNodes.length);\n        }\n        if (start) {\n          rng.setStart(node, offset);\n        } else {\n          rng.setEnd(node, offset);\n        }\n      }\n      return true;\n    };\n    var isValidTextNode = function (node) {\n      return isText$7(node) && node.data.length > 0;\n    };\n    var restoreEndPoint = function (dom, suffix, bookmark) {\n      var marker = dom.get(bookmark.id + '_' + suffix), node, idx, next, prev;\n      var keep = bookmark.keep;\n      var container, offset;\n      if (marker) {\n        node = marker.parentNode;\n        if (suffix === 'start') {\n          if (!keep) {\n            idx = dom.nodeIndex(marker);\n          } else {\n            if (marker.hasChildNodes()) {\n              node = marker.firstChild;\n              idx = 1;\n            } else if (isValidTextNode(marker.nextSibling)) {\n              node = marker.nextSibling;\n              idx = 0;\n            } else if (isValidTextNode(marker.previousSibling)) {\n              node = marker.previousSibling;\n              idx = marker.previousSibling.data.length;\n            } else {\n              node = marker.parentNode;\n              idx = dom.nodeIndex(marker) + 1;\n            }\n          }\n          container = node;\n          offset = idx;\n        } else {\n          if (!keep) {\n            idx = dom.nodeIndex(marker);\n          } else {\n            if (marker.hasChildNodes()) {\n              node = marker.firstChild;\n              idx = 1;\n            } else if (isValidTextNode(marker.previousSibling)) {\n              node = marker.previousSibling;\n              idx = marker.previousSibling.data.length;\n            } else {\n              node = marker.parentNode;\n              idx = dom.nodeIndex(marker);\n            }\n          }\n          container = node;\n          offset = idx;\n        }\n        if (!keep) {\n          prev = marker.previousSibling;\n          next = marker.nextSibling;\n          Tools.each(Tools.grep(marker.childNodes), function (node) {\n            if (isText$7(node)) {\n              node.nodeValue = node.nodeValue.replace(/\\uFEFF/g, '');\n            }\n          });\n          while (marker = dom.get(bookmark.id + '_' + suffix)) {\n            dom.remove(marker, true);\n          }\n          if (prev && next && prev.nodeType === next.nodeType && isText$7(prev) && !Env.opera) {\n            idx = prev.nodeValue.length;\n            prev.appendData(next.nodeValue);\n            dom.remove(next);\n            container = prev;\n            offset = idx;\n          }\n        }\n        return Optional.some(CaretPosition(container, offset));\n      } else {\n        return Optional.none();\n      }\n    };\n    var resolvePaths = function (dom, bookmark) {\n      var rng = dom.createRng();\n      if (setEndPoint(dom, true, bookmark, rng) && setEndPoint(dom, false, bookmark, rng)) {\n        return Optional.some(rng);\n      } else {\n        return Optional.none();\n      }\n    };\n    var resolveId = function (dom, bookmark) {\n      var startPos = restoreEndPoint(dom, 'start', bookmark);\n      var endPos = restoreEndPoint(dom, 'end', bookmark);\n      return lift2(startPos, endPos.or(startPos), function (spos, epos) {\n        var rng = dom.createRng();\n        rng.setStart(addBogus(dom, spos.container()), spos.offset());\n        rng.setEnd(addBogus(dom, epos.container()), epos.offset());\n        return rng;\n      });\n    };\n    var resolveIndex = function (dom, bookmark) {\n      return Optional.from(dom.select(bookmark.name)[bookmark.index]).map(function (elm) {\n        var rng = dom.createRng();\n        rng.selectNode(elm);\n        return rng;\n      });\n    };\n    var resolve$1 = function (selection, bookmark) {\n      var dom = selection.dom;\n      if (bookmark) {\n        if (isPathBookmark(bookmark)) {\n          return resolvePaths(dom, bookmark);\n        } else if (isStringPathBookmark(bookmark)) {\n          return Optional.some(resolveCaretPositionBookmark(dom, bookmark));\n        } else if (isIdBookmark(bookmark)) {\n          return resolveId(dom, bookmark);\n        } else if (isIndexBookmark(bookmark)) {\n          return resolveIndex(dom, bookmark);\n        } else if (isRangeBookmark(bookmark)) {\n          return Optional.some(bookmark.rng);\n        }\n      }\n      return Optional.none();\n    };\n\n    var getBookmark$1 = function (selection, type, normalized) {\n      return getBookmark$2(selection, type, normalized);\n    };\n    var moveToBookmark = function (selection, bookmark) {\n      resolve$1(selection, bookmark).each(function (rng) {\n        selection.setRng(rng);\n      });\n    };\n    var isBookmarkNode$1 = function (node) {\n      return isElement$5(node) && node.tagName === 'SPAN' && node.getAttribute('data-mce-type') === 'bookmark';\n    };\n\n    var is = function (expected) {\n      return function (actual) {\n        return expected === actual;\n      };\n    };\n    var isNbsp = is(nbsp);\n    var isWhiteSpace = function (chr) {\n      return chr !== '' && ' \\f\\n\\r\\t\\x0B'.indexOf(chr) !== -1;\n    };\n    var isContent = function (chr) {\n      return !isWhiteSpace(chr) && !isNbsp(chr);\n    };\n\n    var isNode = function (node) {\n      return !!node.nodeType;\n    };\n    var isInlineBlock = function (node) {\n      return node && /^(IMG)$/.test(node.nodeName);\n    };\n    var moveStart = function (dom, selection, rng) {\n      var offset = rng.startOffset;\n      var container = rng.startContainer;\n      if (container === rng.endContainer) {\n        if (isInlineBlock(container.childNodes[offset])) {\n          return;\n        }\n      }\n      if (isElement$5(container)) {\n        var nodes = container.childNodes;\n        var walker = void 0;\n        if (offset < nodes.length) {\n          container = nodes[offset];\n          walker = new DomTreeWalker(container, dom.getParent(container, dom.isBlock));\n        } else {\n          container = nodes[nodes.length - 1];\n          walker = new DomTreeWalker(container, dom.getParent(container, dom.isBlock));\n          walker.next(true);\n        }\n        for (var node = walker.current(); node; node = walker.next()) {\n          if (isText$7(node) && !isWhiteSpaceNode$1(node)) {\n            rng.setStart(node, 0);\n            selection.setRng(rng);\n            return;\n          }\n        }\n      }\n    };\n    var getNonWhiteSpaceSibling = function (node, next, inc) {\n      if (node) {\n        var nextName = next ? 'nextSibling' : 'previousSibling';\n        for (node = inc ? node : node[nextName]; node; node = node[nextName]) {\n          if (isElement$5(node) || !isWhiteSpaceNode$1(node)) {\n            return node;\n          }\n        }\n      }\n    };\n    var isTextBlock$1 = function (editor, name) {\n      if (isNode(name)) {\n        name = name.nodeName;\n      }\n      return !!editor.schema.getTextBlockElements()[name.toLowerCase()];\n    };\n    var isValid = function (ed, parent, child) {\n      return ed.schema.isValidChild(parent, child);\n    };\n    var isWhiteSpaceNode$1 = function (node, allowSpaces) {\n      if (allowSpaces === void 0) {\n        allowSpaces = false;\n      }\n      if (isNonNullable(node) && isText$7(node)) {\n        var data = allowSpaces ? node.data.replace(/ /g, '\\xA0') : node.data;\n        return isWhitespaceText(data);\n      } else {\n        return false;\n      }\n    };\n    var isEmptyTextNode$1 = function (node) {\n      return isNonNullable(node) && isText$7(node) && node.length === 0;\n    };\n    var replaceVars = function (value, vars) {\n      if (isFunction(value)) {\n        value = value(vars);\n      } else if (isNonNullable(vars)) {\n        value = value.replace(/%(\\w+)/g, function (str, name) {\n          return vars[name] || str;\n        });\n      }\n      return value;\n    };\n    var isEq$5 = function (str1, str2) {\n      str1 = str1 || '';\n      str2 = str2 || '';\n      str1 = '' + (str1.nodeName || str1);\n      str2 = '' + (str2.nodeName || str2);\n      return str1.toLowerCase() === str2.toLowerCase();\n    };\n    var normalizeStyleValue = function (dom, value, name) {\n      if (name === 'color' || name === 'backgroundColor') {\n        value = dom.toHex(value);\n      }\n      if (name === 'fontWeight' && value === 700) {\n        value = 'bold';\n      }\n      if (name === 'fontFamily') {\n        value = value.replace(/[\\'\\\"]/g, '').replace(/,\\s+/g, ',');\n      }\n      return '' + value;\n    };\n    var getStyle = function (dom, node, name) {\n      return normalizeStyleValue(dom, dom.getStyle(node, name), name);\n    };\n    var getTextDecoration = function (dom, node) {\n      var decoration;\n      dom.getParent(node, function (n) {\n        decoration = dom.getStyle(n, 'text-decoration');\n        return decoration && decoration !== 'none';\n      });\n      return decoration;\n    };\n    var getParents$2 = function (dom, node, selector) {\n      return dom.getParents(node, selector, dom.getRoot());\n    };\n    var isVariableFormatName = function (editor, formatName) {\n      var hasVariableValues = function (format) {\n        var isVariableValue = function (val) {\n          return val.length > 1 && val.charAt(0) === '%';\n        };\n        return exists([\n          'styles',\n          'attributes'\n        ], function (key) {\n          return get$9(format, key).exists(function (field) {\n            var fieldValues = isArray$1(field) ? field : values(field);\n            return exists(fieldValues, isVariableValue);\n          });\n        });\n      };\n      return exists(editor.formatter.get(formatName), hasVariableValues);\n    };\n    var areSimilarFormats = function (editor, formatName, otherFormatName) {\n      var validKeys = [\n        'inline',\n        'block',\n        'selector',\n        'attributes',\n        'styles',\n        'classes'\n      ];\n      var filterObj = function (format) {\n        return filter$3(format, function (_, key) {\n          return exists(validKeys, function (validKey) {\n            return validKey === key;\n          });\n        });\n      };\n      return exists(editor.formatter.get(formatName), function (fmt1) {\n        var filteredFmt1 = filterObj(fmt1);\n        return exists(editor.formatter.get(otherFormatName), function (fmt2) {\n          var filteredFmt2 = filterObj(fmt2);\n          return equal$1(filteredFmt1, filteredFmt2);\n        });\n      });\n    };\n    var isBlockFormat = function (format) {\n      return hasNonNullableKey(format, 'block');\n    };\n    var isSelectorFormat = function (format) {\n      return hasNonNullableKey(format, 'selector');\n    };\n    var isInlineFormat = function (format) {\n      return hasNonNullableKey(format, 'inline');\n    };\n    var isMixedFormat = function (format) {\n      return isSelectorFormat(format) && isInlineFormat(format) && is$1(get$9(format, 'mixed'), true);\n    };\n    var shouldExpandToSelector = function (format) {\n      return isSelectorFormat(format) && format.expand !== false && !isInlineFormat(format);\n    };\n\n    var isBookmarkNode = isBookmarkNode$1;\n    var getParents$1 = getParents$2;\n    var isWhiteSpaceNode = isWhiteSpaceNode$1;\n    var isTextBlock = isTextBlock$1;\n    var isBogusBr = function (node) {\n      return isBr$5(node) && node.getAttribute('data-mce-bogus') && !node.nextSibling;\n    };\n    var findParentContentEditable = function (dom, node) {\n      var parent = node;\n      while (parent) {\n        if (isElement$5(parent) && dom.getContentEditable(parent)) {\n          return dom.getContentEditable(parent) === 'false' ? parent : node;\n        }\n        parent = parent.parentNode;\n      }\n      return node;\n    };\n    var walkText = function (start, node, offset, predicate) {\n      var str = node.data;\n      for (var i = offset; start ? i >= 0 : i < str.length; start ? i-- : i++) {\n        if (predicate(str.charAt(i))) {\n          return start ? i + 1 : i;\n        }\n      }\n      return -1;\n    };\n    var findSpace = function (start, node, offset) {\n      return walkText(start, node, offset, function (c) {\n        return isNbsp(c) || isWhiteSpace(c);\n      });\n    };\n    var findContent = function (start, node, offset) {\n      return walkText(start, node, offset, isContent);\n    };\n    var findWordEndPoint = function (dom, body, container, offset, start, includeTrailingSpaces) {\n      var lastTextNode;\n      var rootNode = dom.getParent(container, dom.isBlock) || body;\n      var walk = function (container, offset, pred) {\n        var textSeeker = TextSeeker(dom);\n        var walker = start ? textSeeker.backwards : textSeeker.forwards;\n        return Optional.from(walker(container, offset, function (text, textOffset) {\n          if (isBookmarkNode(text.parentNode)) {\n            return -1;\n          } else {\n            lastTextNode = text;\n            return pred(start, text, textOffset);\n          }\n        }, rootNode));\n      };\n      var spaceResult = walk(container, offset, findSpace);\n      return spaceResult.bind(function (result) {\n        return includeTrailingSpaces ? walk(result.container, result.offset + (start ? -1 : 0), findContent) : Optional.some(result);\n      }).orThunk(function () {\n        return lastTextNode ? Optional.some({\n          container: lastTextNode,\n          offset: start ? 0 : lastTextNode.length\n        }) : Optional.none();\n      });\n    };\n    var findSelectorEndPoint = function (dom, formatList, rng, container, siblingName) {\n      if (isText$7(container) && isEmpty$3(container.data) && container[siblingName]) {\n        container = container[siblingName];\n      }\n      var parents = getParents$1(dom, container);\n      for (var i = 0; i < parents.length; i++) {\n        for (var y = 0; y < formatList.length; y++) {\n          var curFormat = formatList[y];\n          if (isNonNullable(curFormat.collapsed) && curFormat.collapsed !== rng.collapsed) {\n            continue;\n          }\n          if (isSelectorFormat(curFormat) && dom.is(parents[i], curFormat.selector)) {\n            return parents[i];\n          }\n        }\n      }\n      return container;\n    };\n    var findBlockEndPoint = function (editor, formatList, container, siblingName) {\n      var node = container;\n      var dom = editor.dom;\n      var root = dom.getRoot();\n      var format = formatList[0];\n      if (isBlockFormat(format)) {\n        node = format.wrapper ? null : dom.getParent(container, format.block, root);\n      }\n      if (!node) {\n        var scopeRoot = dom.getParent(container, 'LI,TD,TH');\n        node = dom.getParent(isText$7(container) ? container.parentNode : container, function (node) {\n          return node !== root && isTextBlock(editor, node);\n        }, scopeRoot);\n      }\n      if (node && isBlockFormat(format) && format.wrapper) {\n        node = getParents$1(dom, node, 'ul,ol').reverse()[0] || node;\n      }\n      if (!node) {\n        node = container;\n        while (node[siblingName] && !dom.isBlock(node[siblingName])) {\n          node = node[siblingName];\n          if (isEq$5(node, 'br')) {\n            break;\n          }\n        }\n      }\n      return node || container;\n    };\n    var isAtBlockBoundary$1 = function (dom, root, container, siblingName) {\n      var parent = container.parentNode;\n      if (isNonNullable(container[siblingName])) {\n        return false;\n      } else if (parent === root || isNullable(parent) || dom.isBlock(parent)) {\n        return true;\n      } else {\n        return isAtBlockBoundary$1(dom, root, parent, siblingName);\n      }\n    };\n    var findParentContainer = function (dom, formatList, container, offset, start) {\n      var parent = container;\n      var siblingName = start ? 'previousSibling' : 'nextSibling';\n      var root = dom.getRoot();\n      if (isText$7(container) && !isWhiteSpaceNode(container)) {\n        if (start ? offset > 0 : offset < container.data.length) {\n          return container;\n        }\n      }\n      while (true) {\n        if (!formatList[0].block_expand && dom.isBlock(parent)) {\n          return parent;\n        }\n        for (var sibling = parent[siblingName]; sibling; sibling = sibling[siblingName]) {\n          var allowSpaces = isText$7(sibling) && !isAtBlockBoundary$1(dom, root, sibling, siblingName);\n          if (!isBookmarkNode(sibling) && !isBogusBr(sibling) && !isWhiteSpaceNode(sibling, allowSpaces)) {\n            return parent;\n          }\n        }\n        if (parent === root || parent.parentNode === root) {\n          container = parent;\n          break;\n        }\n        parent = parent.parentNode;\n      }\n      return container;\n    };\n    var isSelfOrParentBookmark = function (container) {\n      return isBookmarkNode(container.parentNode) || isBookmarkNode(container);\n    };\n    var expandRng = function (editor, rng, formatList, includeTrailingSpace) {\n      if (includeTrailingSpace === void 0) {\n        includeTrailingSpace = false;\n      }\n      var startContainer = rng.startContainer, startOffset = rng.startOffset, endContainer = rng.endContainer, endOffset = rng.endOffset;\n      var dom = editor.dom;\n      var format = formatList[0];\n      if (isElement$5(startContainer) && startContainer.hasChildNodes()) {\n        startContainer = getNode$1(startContainer, startOffset);\n        if (isText$7(startContainer)) {\n          startOffset = 0;\n        }\n      }\n      if (isElement$5(endContainer) && endContainer.hasChildNodes()) {\n        endContainer = getNode$1(endContainer, rng.collapsed ? endOffset : endOffset - 1);\n        if (isText$7(endContainer)) {\n          endOffset = endContainer.nodeValue.length;\n        }\n      }\n      startContainer = findParentContentEditable(dom, startContainer);\n      endContainer = findParentContentEditable(dom, endContainer);\n      if (isSelfOrParentBookmark(startContainer)) {\n        startContainer = isBookmarkNode(startContainer) ? startContainer : startContainer.parentNode;\n        if (rng.collapsed) {\n          startContainer = startContainer.previousSibling || startContainer;\n        } else {\n          startContainer = startContainer.nextSibling || startContainer;\n        }\n        if (isText$7(startContainer)) {\n          startOffset = rng.collapsed ? startContainer.length : 0;\n        }\n      }\n      if (isSelfOrParentBookmark(endContainer)) {\n        endContainer = isBookmarkNode(endContainer) ? endContainer : endContainer.parentNode;\n        if (rng.collapsed) {\n          endContainer = endContainer.nextSibling || endContainer;\n        } else {\n          endContainer = endContainer.previousSibling || endContainer;\n        }\n        if (isText$7(endContainer)) {\n          endOffset = rng.collapsed ? 0 : endContainer.length;\n        }\n      }\n      if (rng.collapsed) {\n        var startPoint = findWordEndPoint(dom, editor.getBody(), startContainer, startOffset, true, includeTrailingSpace);\n        startPoint.each(function (_a) {\n          var container = _a.container, offset = _a.offset;\n          startContainer = container;\n          startOffset = offset;\n        });\n        var endPoint = findWordEndPoint(dom, editor.getBody(), endContainer, endOffset, false, includeTrailingSpace);\n        endPoint.each(function (_a) {\n          var container = _a.container, offset = _a.offset;\n          endContainer = container;\n          endOffset = offset;\n        });\n      }\n      if (isInlineFormat(format) || format.block_expand) {\n        if (!isInlineFormat(format) || (!isText$7(startContainer) || startOffset === 0)) {\n          startContainer = findParentContainer(dom, formatList, startContainer, startOffset, true);\n        }\n        if (!isInlineFormat(format) || (!isText$7(endContainer) || endOffset === endContainer.nodeValue.length)) {\n          endContainer = findParentContainer(dom, formatList, endContainer, endOffset, false);\n        }\n      }\n      if (shouldExpandToSelector(format)) {\n        startContainer = findSelectorEndPoint(dom, formatList, rng, startContainer, 'previousSibling');\n        endContainer = findSelectorEndPoint(dom, formatList, rng, endContainer, 'nextSibling');\n      }\n      if (isBlockFormat(format) || isSelectorFormat(format)) {\n        startContainer = findBlockEndPoint(editor, formatList, startContainer, 'previousSibling');\n        endContainer = findBlockEndPoint(editor, formatList, endContainer, 'nextSibling');\n        if (isBlockFormat(format)) {\n          if (!dom.isBlock(startContainer)) {\n            startContainer = findParentContainer(dom, formatList, startContainer, startOffset, true);\n          }\n          if (!dom.isBlock(endContainer)) {\n            endContainer = findParentContainer(dom, formatList, endContainer, endOffset, false);\n          }\n        }\n      }\n      if (isElement$5(startContainer)) {\n        startOffset = dom.nodeIndex(startContainer);\n        startContainer = startContainer.parentNode;\n      }\n      if (isElement$5(endContainer)) {\n        endOffset = dom.nodeIndex(endContainer) + 1;\n        endContainer = endContainer.parentNode;\n      }\n      return {\n        startContainer: startContainer,\n        startOffset: startOffset,\n        endContainer: endContainer,\n        endOffset: endOffset\n      };\n    };\n\n    var walk$2 = function (dom, rng, callback) {\n      var startOffset = rng.startOffset;\n      var startContainer = getNode$1(rng.startContainer, startOffset);\n      var endOffset = rng.endOffset;\n      var endContainer = getNode$1(rng.endContainer, endOffset - 1);\n      var exclude = function (nodes) {\n        var firstNode = nodes[0];\n        if (isText$7(firstNode) && firstNode === startContainer && startOffset >= firstNode.data.length) {\n          nodes.splice(0, 1);\n        }\n        var lastNode = nodes[nodes.length - 1];\n        if (endOffset === 0 && nodes.length > 0 && lastNode === endContainer && isText$7(lastNode)) {\n          nodes.splice(nodes.length - 1, 1);\n        }\n        return nodes;\n      };\n      var collectSiblings = function (node, name, endNode) {\n        var siblings = [];\n        for (; node && node !== endNode; node = node[name]) {\n          siblings.push(node);\n        }\n        return siblings;\n      };\n      var findEndPoint = function (node, root) {\n        return dom.getParent(node, function (node) {\n          return node.parentNode === root;\n        }, root);\n      };\n      var walkBoundary = function (startNode, endNode, next) {\n        var siblingName = next ? 'nextSibling' : 'previousSibling';\n        for (var node = startNode, parent_1 = node.parentNode; node && node !== endNode; node = parent_1) {\n          parent_1 = node.parentNode;\n          var siblings_1 = collectSiblings(node === startNode ? node : node[siblingName], siblingName);\n          if (siblings_1.length) {\n            if (!next) {\n              siblings_1.reverse();\n            }\n            callback(exclude(siblings_1));\n          }\n        }\n      };\n      if (startContainer === endContainer) {\n        return callback(exclude([startContainer]));\n      }\n      var ancestor = dom.findCommonAncestor(startContainer, endContainer);\n      if (dom.isChildOf(startContainer, endContainer)) {\n        return walkBoundary(startContainer, ancestor, true);\n      }\n      if (dom.isChildOf(endContainer, startContainer)) {\n        return walkBoundary(endContainer, ancestor);\n      }\n      var startPoint = findEndPoint(startContainer, ancestor) || startContainer;\n      var endPoint = findEndPoint(endContainer, ancestor) || endContainer;\n      walkBoundary(startContainer, startPoint, true);\n      var siblings = collectSiblings(startPoint === startContainer ? startPoint : startPoint.nextSibling, 'nextSibling', endPoint === endContainer ? endPoint.nextSibling : endPoint);\n      if (siblings.length) {\n        callback(exclude(siblings));\n      }\n      walkBoundary(endContainer, endPoint);\n    };\n\n    var getRanges = function (selection) {\n      var ranges = [];\n      if (selection) {\n        for (var i = 0; i < selection.rangeCount; i++) {\n          ranges.push(selection.getRangeAt(i));\n        }\n      }\n      return ranges;\n    };\n    var getSelectedNodes = function (ranges) {\n      return bind(ranges, function (range) {\n        var node = getSelectedNode(range);\n        return node ? [SugarElement.fromDom(node)] : [];\n      });\n    };\n    var hasMultipleRanges = function (selection) {\n      return getRanges(selection).length > 1;\n    };\n\n    var getCellsFromRanges = function (ranges) {\n      return filter$4(getSelectedNodes(ranges), isTableCell$4);\n    };\n    var getCellsFromElement = function (elm) {\n      return descendants(elm, 'td[data-mce-selected],th[data-mce-selected]');\n    };\n    var getCellsFromElementOrRanges = function (ranges, element) {\n      var selectedCells = getCellsFromElement(element);\n      return selectedCells.length > 0 ? selectedCells : getCellsFromRanges(ranges);\n    };\n    var getCellsFromEditor = function (editor) {\n      return getCellsFromElementOrRanges(getRanges(editor.selection.getSel()), SugarElement.fromDom(editor.getBody()));\n    };\n    var getClosestTable = function (cell, isRoot) {\n      return ancestor$2(cell, 'table', isRoot);\n    };\n\n    var getStartNode = function (rng) {\n      var sc = rng.startContainer, so = rng.startOffset;\n      if (isText$7(sc)) {\n        return so === 0 ? Optional.some(SugarElement.fromDom(sc)) : Optional.none();\n      } else {\n        return Optional.from(sc.childNodes[so]).map(SugarElement.fromDom);\n      }\n    };\n    var getEndNode = function (rng) {\n      var ec = rng.endContainer, eo = rng.endOffset;\n      if (isText$7(ec)) {\n        return eo === ec.data.length ? Optional.some(SugarElement.fromDom(ec)) : Optional.none();\n      } else {\n        return Optional.from(ec.childNodes[eo - 1]).map(SugarElement.fromDom);\n      }\n    };\n    var getFirstChildren = function (node) {\n      return firstChild(node).fold(constant([node]), function (child) {\n        return [node].concat(getFirstChildren(child));\n      });\n    };\n    var getLastChildren$1 = function (node) {\n      return lastChild(node).fold(constant([node]), function (child) {\n        if (name(child) === 'br') {\n          return prevSibling(child).map(function (sibling) {\n            return [node].concat(getLastChildren$1(sibling));\n          }).getOr([]);\n        } else {\n          return [node].concat(getLastChildren$1(child));\n        }\n      });\n    };\n    var hasAllContentsSelected = function (elm, rng) {\n      return lift2(getStartNode(rng), getEndNode(rng), function (startNode, endNode) {\n        var start = find$3(getFirstChildren(elm), curry(eq, startNode));\n        var end = find$3(getLastChildren$1(elm), curry(eq, endNode));\n        return start.isSome() && end.isSome();\n      }).getOr(false);\n    };\n    var moveEndPoint = function (dom, rng, node, start) {\n      var root = node, walker = new DomTreeWalker(node, root);\n      var moveCaretBeforeOnEnterElementsMap = filter$3(dom.schema.getMoveCaretBeforeOnEnterElements(), function (_, name) {\n        return !contains$3([\n          'td',\n          'th',\n          'table'\n        ], name.toLowerCase());\n      });\n      do {\n        if (isText$7(node) && Tools.trim(node.nodeValue).length !== 0) {\n          if (start) {\n            rng.setStart(node, 0);\n          } else {\n            rng.setEnd(node, node.nodeValue.length);\n          }\n          return;\n        }\n        if (moveCaretBeforeOnEnterElementsMap[node.nodeName]) {\n          if (start) {\n            rng.setStartBefore(node);\n          } else {\n            if (node.nodeName === 'BR') {\n              rng.setEndBefore(node);\n            } else {\n              rng.setEndAfter(node);\n            }\n          }\n          return;\n        }\n      } while (node = start ? walker.next() : walker.prev());\n      if (root.nodeName === 'BODY') {\n        if (start) {\n          rng.setStart(root, 0);\n        } else {\n          rng.setEnd(root, root.childNodes.length);\n        }\n      }\n    };\n    var hasAnyRanges = function (editor) {\n      var sel = editor.selection.getSel();\n      return sel && sel.rangeCount > 0;\n    };\n    var runOnRanges = function (editor, executor) {\n      var fakeSelectionNodes = getCellsFromEditor(editor);\n      if (fakeSelectionNodes.length > 0) {\n        each$k(fakeSelectionNodes, function (elem) {\n          var node = elem.dom;\n          var fakeNodeRng = editor.dom.createRng();\n          fakeNodeRng.setStartBefore(node);\n          fakeNodeRng.setEndAfter(node);\n          executor(fakeNodeRng, true);\n        });\n      } else {\n        executor(editor.selection.getRng(), false);\n      }\n    };\n    var preserve = function (selection, fillBookmark, executor) {\n      var bookmark = getPersistentBookmark(selection, fillBookmark);\n      executor(bookmark);\n      selection.moveToBookmark(bookmark);\n    };\n\n    var NodeValue = function (is, name) {\n      var get = function (element) {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      var getOption = function (element) {\n        return is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      };\n      var set = function (element, value) {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get: get,\n        getOption: getOption,\n        set: set\n      };\n    };\n\n    var api$1 = NodeValue(isText$8, 'text');\n    var get$2 = function (element) {\n      return api$1.get(element);\n    };\n\n    var isZeroWidth = function (elem) {\n      return isText$8(elem) && get$2(elem) === ZWSP$1;\n    };\n    var context = function (editor, elem, wrapName, nodeName) {\n      return parent(elem).fold(function () {\n        return 'skipping';\n      }, function (parent) {\n        if (nodeName === 'br' || isZeroWidth(elem)) {\n          return 'valid';\n        } else if (isAnnotation(elem)) {\n          return 'existing';\n        } else if (isCaretNode(elem.dom)) {\n          return 'caret';\n        } else if (!isValid(editor, wrapName, nodeName) || !isValid(editor, name(parent), wrapName)) {\n          return 'invalid-child';\n        } else {\n          return 'valid';\n        }\n      });\n    };\n\n    var applyWordGrab = function (editor, rng) {\n      var r = expandRng(editor, rng, [{ inline: 'span' }]);\n      rng.setStart(r.startContainer, r.startOffset);\n      rng.setEnd(r.endContainer, r.endOffset);\n      editor.selection.setRng(rng);\n    };\n    var makeAnnotation = function (eDoc, _a, annotationName, decorate) {\n      var _b = _a.uid, uid = _b === void 0 ? generate('mce-annotation') : _b, data = __rest(_a, ['uid']);\n      var master = SugarElement.fromTag('span', eDoc);\n      add$1(master, annotation());\n      set$1(master, '' + dataAnnotationId(), uid);\n      set$1(master, '' + dataAnnotation(), annotationName);\n      var _c = decorate(uid, data), _d = _c.attributes, attributes = _d === void 0 ? {} : _d, _e = _c.classes, classes = _e === void 0 ? [] : _e;\n      setAll$1(master, attributes);\n      add(master, classes);\n      return master;\n    };\n    var annotate = function (editor, rng, annotationName, decorate, data) {\n      var newWrappers = [];\n      var master = makeAnnotation(editor.getDoc(), data, annotationName, decorate);\n      var wrapper = value();\n      var finishWrapper = function () {\n        wrapper.clear();\n      };\n      var getOrOpenWrapper = function () {\n        return wrapper.get().getOrThunk(function () {\n          var nu = shallow(master);\n          newWrappers.push(nu);\n          wrapper.set(nu);\n          return nu;\n        });\n      };\n      var processElements = function (elems) {\n        each$k(elems, processElement);\n      };\n      var processElement = function (elem) {\n        var ctx = context(editor, elem, 'span', name(elem));\n        switch (ctx) {\n        case 'invalid-child': {\n            finishWrapper();\n            var children$1 = children(elem);\n            processElements(children$1);\n            finishWrapper();\n            break;\n          }\n        case 'valid': {\n            var w = getOrOpenWrapper();\n            wrap$3(elem, w);\n            break;\n          }\n        }\n      };\n      var processNodes = function (nodes) {\n        var elems = map$3(nodes, SugarElement.fromDom);\n        processElements(elems);\n      };\n      walk$2(editor.dom, rng, function (nodes) {\n        finishWrapper();\n        processNodes(nodes);\n      });\n      return newWrappers;\n    };\n    var annotateWithBookmark = function (editor, name, settings, data) {\n      editor.undoManager.transact(function () {\n        var selection = editor.selection;\n        var initialRng = selection.getRng();\n        var hasFakeSelection = getCellsFromEditor(editor).length > 0;\n        if (initialRng.collapsed && !hasFakeSelection) {\n          applyWordGrab(editor, initialRng);\n        }\n        if (selection.getRng().collapsed && !hasFakeSelection) {\n          var wrapper = makeAnnotation(editor.getDoc(), data, name, settings.decorate);\n          set(wrapper, nbsp);\n          selection.getRng().insertNode(wrapper.dom);\n          selection.select(wrapper.dom);\n        } else {\n          preserve(selection, false, function () {\n            runOnRanges(editor, function (selectionRng) {\n              annotate(editor, selectionRng, name, settings.decorate, data);\n            });\n          });\n        }\n      });\n    };\n\n    var Annotator = function (editor) {\n      var registry = create$7();\n      setup$m(editor, registry);\n      var changes = setup$n(editor);\n      return {\n        register: function (name, settings) {\n          registry.register(name, settings);\n        },\n        annotate: function (name, data) {\n          registry.lookup(name).each(function (settings) {\n            annotateWithBookmark(editor, name, settings, data);\n          });\n        },\n        annotationChanged: function (name, callback) {\n          changes.addListener(name, callback);\n        },\n        remove: function (name) {\n          identify(editor, Optional.some(name)).each(function (_a) {\n            var elements = _a.elements;\n            each$k(elements, unwrap);\n          });\n        },\n        getAll: function (name) {\n          var directory = findAll(editor, name);\n          return map$2(directory, function (elems) {\n            return map$3(elems, function (elem) {\n              return elem.dom;\n            });\n          });\n        }\n      };\n    };\n\n    var BookmarkManager = function (selection) {\n      return {\n        getBookmark: curry(getBookmark$1, selection),\n        moveToBookmark: curry(moveToBookmark, selection)\n      };\n    };\n    BookmarkManager.isBookmarkNode = isBookmarkNode$1;\n\n    var getContentEditableRoot$1 = function (root, node) {\n      while (node && node !== root) {\n        if (isContentEditableTrue$4(node) || isContentEditableFalse$b(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n\n    var isXYWithinRange = function (clientX, clientY, range) {\n      if (range.collapsed) {\n        return false;\n      }\n      if (Env.browser.isIE() && range.startOffset === range.endOffset - 1 && range.startContainer === range.endContainer) {\n        var elm = range.startContainer.childNodes[range.startOffset];\n        if (isElement$5(elm)) {\n          return exists(elm.getClientRects(), function (rect) {\n            return containsXY(rect, clientX, clientY);\n          });\n        }\n      }\n      return exists(range.getClientRects(), function (rect) {\n        return containsXY(rect, clientX, clientY);\n      });\n    };\n\n    var firePreProcess = function (editor, args) {\n      return editor.fire('PreProcess', args);\n    };\n    var firePostProcess = function (editor, args) {\n      return editor.fire('PostProcess', args);\n    };\n    var fireRemove = function (editor) {\n      return editor.fire('remove');\n    };\n    var fireDetach = function (editor) {\n      return editor.fire('detach');\n    };\n    var fireSwitchMode = function (editor, mode) {\n      return editor.fire('SwitchMode', { mode: mode });\n    };\n    var fireObjectResizeStart = function (editor, target, width, height, origin) {\n      editor.fire('ObjectResizeStart', {\n        target: target,\n        width: width,\n        height: height,\n        origin: origin\n      });\n    };\n    var fireObjectResized = function (editor, target, width, height, origin) {\n      editor.fire('ObjectResized', {\n        target: target,\n        width: width,\n        height: height,\n        origin: origin\n      });\n    };\n    var firePreInit = function (editor) {\n      return editor.fire('PreInit');\n    };\n    var firePostRender = function (editor) {\n      return editor.fire('PostRender');\n    };\n    var fireInit = function (editor) {\n      return editor.fire('Init');\n    };\n    var firePlaceholderToggle = function (editor, state) {\n      return editor.fire('PlaceholderToggle', { state: state });\n    };\n    var fireError = function (editor, errorType, error) {\n      return editor.fire(errorType, error);\n    };\n    var fireFormatApply = function (editor, format, node, vars) {\n      return editor.fire('FormatApply', {\n        format: format,\n        node: node,\n        vars: vars\n      });\n    };\n    var fireFormatRemove = function (editor, format, node, vars) {\n      return editor.fire('FormatRemove', {\n        format: format,\n        node: node,\n        vars: vars\n      });\n    };\n\n    var VK = {\n      BACKSPACE: 8,\n      DELETE: 46,\n      DOWN: 40,\n      ENTER: 13,\n      ESC: 27,\n      LEFT: 37,\n      RIGHT: 39,\n      SPACEBAR: 32,\n      TAB: 9,\n      UP: 38,\n      PAGE_UP: 33,\n      PAGE_DOWN: 34,\n      END: 35,\n      HOME: 36,\n      modifierPressed: function (e) {\n        return e.shiftKey || e.ctrlKey || e.altKey || VK.metaKeyPressed(e);\n      },\n      metaKeyPressed: function (e) {\n        return Env.mac ? e.metaKey : e.ctrlKey && !e.altKey;\n      }\n    };\n\n    var isContentEditableFalse$5 = isContentEditableFalse$b;\n    var ControlSelection = function (selection, editor) {\n      var elementSelectionAttr = 'data-mce-selected';\n      var dom = editor.dom, each = Tools.each;\n      var selectedElm, selectedElmGhost, resizeHelper, selectedHandle, resizeBackdrop;\n      var startX, startY, selectedElmX, selectedElmY, startW, startH, ratio, resizeStarted;\n      var width, height;\n      var editableDoc = editor.getDoc(), rootDocument = document;\n      var abs = Math.abs, round = Math.round, rootElement = editor.getBody();\n      var startScrollWidth, startScrollHeight;\n      var resizeHandles = {\n        nw: [\n          0,\n          0,\n          -1,\n          -1\n        ],\n        ne: [\n          1,\n          0,\n          1,\n          -1\n        ],\n        se: [\n          1,\n          1,\n          1,\n          1\n        ],\n        sw: [\n          0,\n          1,\n          -1,\n          1\n        ]\n      };\n      var isImage = function (elm) {\n        return elm && (elm.nodeName === 'IMG' || editor.dom.is(elm, 'figure.image'));\n      };\n      var isMedia = function (elm) {\n        return isMedia$2(elm) || dom.hasClass(elm, 'mce-preview-object');\n      };\n      var isEventOnImageOutsideRange = function (evt, range) {\n        if (evt.type === 'longpress' || evt.type.indexOf('touch') === 0) {\n          var touch = evt.touches[0];\n          return isImage(evt.target) && !isXYWithinRange(touch.clientX, touch.clientY, range);\n        } else {\n          return isImage(evt.target) && !isXYWithinRange(evt.clientX, evt.clientY, range);\n        }\n      };\n      var contextMenuSelectImage = function (evt) {\n        var target = evt.target;\n        if (isEventOnImageOutsideRange(evt, editor.selection.getRng()) && !evt.isDefaultPrevented()) {\n          editor.selection.select(target);\n        }\n      };\n      var getResizeTargets = function (elm) {\n        if (dom.is(elm, 'figure.image')) {\n          return [elm.querySelector('img')];\n        } else if (dom.hasClass(elm, 'mce-preview-object') && isNonNullable(elm.firstElementChild)) {\n          return [\n            elm,\n            elm.firstElementChild\n          ];\n        } else {\n          return [elm];\n        }\n      };\n      var isResizable = function (elm) {\n        var selector = getObjectResizing(editor);\n        if (!selector) {\n          return false;\n        }\n        if (elm.getAttribute('data-mce-resize') === 'false') {\n          return false;\n        }\n        if (elm === editor.getBody()) {\n          return false;\n        }\n        if (dom.hasClass(elm, 'mce-preview-object')) {\n          return is$2(SugarElement.fromDom(elm.firstElementChild), selector);\n        } else {\n          return is$2(SugarElement.fromDom(elm), selector);\n        }\n      };\n      var createGhostElement = function (elm) {\n        if (isMedia(elm)) {\n          return dom.create('img', { src: Env.transparentSrc });\n        } else {\n          return elm.cloneNode(true);\n        }\n      };\n      var setSizeProp = function (element, name, value) {\n        if (isNonNullable(value)) {\n          var targets = getResizeTargets(element);\n          each$k(targets, function (target) {\n            if (target.style[name] || !editor.schema.isValid(target.nodeName.toLowerCase(), name)) {\n              dom.setStyle(target, name, value);\n            } else {\n              dom.setAttrib(target, name, '' + value);\n            }\n          });\n        }\n      };\n      var setGhostElmSize = function (ghostElm, width, height) {\n        setSizeProp(ghostElm, 'width', width);\n        setSizeProp(ghostElm, 'height', height);\n      };\n      var resizeGhostElement = function (e) {\n        var deltaX, deltaY, proportional;\n        var resizeHelperX, resizeHelperY;\n        deltaX = e.screenX - startX;\n        deltaY = e.screenY - startY;\n        width = deltaX * selectedHandle[2] + startW;\n        height = deltaY * selectedHandle[3] + startH;\n        width = width < 5 ? 5 : width;\n        height = height < 5 ? 5 : height;\n        if ((isImage(selectedElm) || isMedia(selectedElm)) && getResizeImgProportional(editor) !== false) {\n          proportional = !VK.modifierPressed(e);\n        } else {\n          proportional = VK.modifierPressed(e);\n        }\n        if (proportional) {\n          if (abs(deltaX) > abs(deltaY)) {\n            height = round(width * ratio);\n            width = round(height / ratio);\n          } else {\n            width = round(height / ratio);\n            height = round(width * ratio);\n          }\n        }\n        setGhostElmSize(selectedElmGhost, width, height);\n        resizeHelperX = selectedHandle.startPos.x + deltaX;\n        resizeHelperY = selectedHandle.startPos.y + deltaY;\n        resizeHelperX = resizeHelperX > 0 ? resizeHelperX : 0;\n        resizeHelperY = resizeHelperY > 0 ? resizeHelperY : 0;\n        dom.setStyles(resizeHelper, {\n          left: resizeHelperX,\n          top: resizeHelperY,\n          display: 'block'\n        });\n        resizeHelper.innerHTML = width + ' &times; ' + height;\n        if (selectedHandle[2] < 0 && selectedElmGhost.clientWidth <= width) {\n          dom.setStyle(selectedElmGhost, 'left', selectedElmX + (startW - width));\n        }\n        if (selectedHandle[3] < 0 && selectedElmGhost.clientHeight <= height) {\n          dom.setStyle(selectedElmGhost, 'top', selectedElmY + (startH - height));\n        }\n        deltaX = rootElement.scrollWidth - startScrollWidth;\n        deltaY = rootElement.scrollHeight - startScrollHeight;\n        if (deltaX + deltaY !== 0) {\n          dom.setStyles(resizeHelper, {\n            left: resizeHelperX - deltaX,\n            top: resizeHelperY - deltaY\n          });\n        }\n        if (!resizeStarted) {\n          fireObjectResizeStart(editor, selectedElm, startW, startH, 'corner-' + selectedHandle.name);\n          resizeStarted = true;\n        }\n      };\n      var endGhostResize = function () {\n        var wasResizeStarted = resizeStarted;\n        resizeStarted = false;\n        if (wasResizeStarted) {\n          setSizeProp(selectedElm, 'width', width);\n          setSizeProp(selectedElm, 'height', height);\n        }\n        dom.unbind(editableDoc, 'mousemove', resizeGhostElement);\n        dom.unbind(editableDoc, 'mouseup', endGhostResize);\n        if (rootDocument !== editableDoc) {\n          dom.unbind(rootDocument, 'mousemove', resizeGhostElement);\n          dom.unbind(rootDocument, 'mouseup', endGhostResize);\n        }\n        dom.remove(selectedElmGhost);\n        dom.remove(resizeHelper);\n        dom.remove(resizeBackdrop);\n        showResizeRect(selectedElm);\n        if (wasResizeStarted) {\n          fireObjectResized(editor, selectedElm, width, height, 'corner-' + selectedHandle.name);\n          dom.setAttrib(selectedElm, 'style', dom.getAttrib(selectedElm, 'style'));\n        }\n        editor.nodeChanged();\n      };\n      var showResizeRect = function (targetElm) {\n        unbindResizeHandleEvents();\n        var position = dom.getPos(targetElm, rootElement);\n        var selectedElmX = position.x;\n        var selectedElmY = position.y;\n        var rect = targetElm.getBoundingClientRect();\n        var targetWidth = rect.width || rect.right - rect.left;\n        var targetHeight = rect.height || rect.bottom - rect.top;\n        if (selectedElm !== targetElm) {\n          hideResizeRect();\n          selectedElm = targetElm;\n          width = height = 0;\n        }\n        var e = editor.fire('ObjectSelected', { target: targetElm });\n        var selectedValue = dom.getAttrib(selectedElm, elementSelectionAttr, '1');\n        if (isResizable(targetElm) && !e.isDefaultPrevented()) {\n          each(resizeHandles, function (handle, name) {\n            var handleElm;\n            var startDrag = function (e) {\n              var target = getResizeTargets(selectedElm)[0];\n              startX = e.screenX;\n              startY = e.screenY;\n              startW = target.clientWidth;\n              startH = target.clientHeight;\n              ratio = startH / startW;\n              selectedHandle = handle;\n              selectedHandle.name = name;\n              selectedHandle.startPos = {\n                x: targetWidth * handle[0] + selectedElmX,\n                y: targetHeight * handle[1] + selectedElmY\n              };\n              startScrollWidth = rootElement.scrollWidth;\n              startScrollHeight = rootElement.scrollHeight;\n              resizeBackdrop = dom.add(rootElement, 'div', {\n                'class': 'mce-resize-backdrop',\n                'data-mce-bogus': 'all'\n              });\n              dom.setStyles(resizeBackdrop, {\n                position: 'fixed',\n                left: '0',\n                top: '0',\n                width: '100%',\n                height: '100%'\n              });\n              selectedElmGhost = createGhostElement(selectedElm);\n              dom.addClass(selectedElmGhost, 'mce-clonedresizable');\n              dom.setAttrib(selectedElmGhost, 'data-mce-bogus', 'all');\n              selectedElmGhost.contentEditable = 'false';\n              dom.setStyles(selectedElmGhost, {\n                left: selectedElmX,\n                top: selectedElmY,\n                margin: 0\n              });\n              setGhostElmSize(selectedElmGhost, targetWidth, targetHeight);\n              selectedElmGhost.removeAttribute(elementSelectionAttr);\n              rootElement.appendChild(selectedElmGhost);\n              dom.bind(editableDoc, 'mousemove', resizeGhostElement);\n              dom.bind(editableDoc, 'mouseup', endGhostResize);\n              if (rootDocument !== editableDoc) {\n                dom.bind(rootDocument, 'mousemove', resizeGhostElement);\n                dom.bind(rootDocument, 'mouseup', endGhostResize);\n              }\n              resizeHelper = dom.add(rootElement, 'div', {\n                'class': 'mce-resize-helper',\n                'data-mce-bogus': 'all'\n              }, startW + ' &times; ' + startH);\n            };\n            handleElm = dom.get('mceResizeHandle' + name);\n            if (handleElm) {\n              dom.remove(handleElm);\n            }\n            handleElm = dom.add(rootElement, 'div', {\n              'id': 'mceResizeHandle' + name,\n              'data-mce-bogus': 'all',\n              'class': 'mce-resizehandle',\n              'unselectable': true,\n              'style': 'cursor:' + name + '-resize; margin:0; padding:0'\n            });\n            if (Env.ie === 11) {\n              handleElm.contentEditable = false;\n            }\n            dom.bind(handleElm, 'mousedown', function (e) {\n              e.stopImmediatePropagation();\n              e.preventDefault();\n              startDrag(e);\n            });\n            handle.elm = handleElm;\n            dom.setStyles(handleElm, {\n              left: targetWidth * handle[0] + selectedElmX - handleElm.offsetWidth / 2,\n              top: targetHeight * handle[1] + selectedElmY - handleElm.offsetHeight / 2\n            });\n          });\n        } else {\n          hideResizeRect();\n        }\n        if (!dom.getAttrib(selectedElm, elementSelectionAttr)) {\n          selectedElm.setAttribute(elementSelectionAttr, selectedValue);\n        }\n      };\n      var hideResizeRect = function () {\n        unbindResizeHandleEvents();\n        if (selectedElm) {\n          selectedElm.removeAttribute(elementSelectionAttr);\n        }\n        each$j(resizeHandles, function (value, name) {\n          var handleElm = dom.get('mceResizeHandle' + name);\n          if (handleElm) {\n            dom.unbind(handleElm);\n            dom.remove(handleElm);\n          }\n        });\n      };\n      var updateResizeRect = function (e) {\n        var startElm, controlElm;\n        var isChildOrEqual = function (node, parent) {\n          if (node) {\n            do {\n              if (node === parent) {\n                return true;\n              }\n            } while (node = node.parentNode);\n          }\n        };\n        if (resizeStarted || editor.removed) {\n          return;\n        }\n        each(dom.select('img[data-mce-selected],hr[data-mce-selected]'), function (img) {\n          img.removeAttribute(elementSelectionAttr);\n        });\n        controlElm = e.type === 'mousedown' ? e.target : selection.getNode();\n        controlElm = dom.$(controlElm).closest('table,img,figure.image,hr,video,span.mce-preview-object')[0];\n        if (isChildOrEqual(controlElm, rootElement)) {\n          disableGeckoResize();\n          startElm = selection.getStart(true);\n          if (isChildOrEqual(startElm, controlElm) && isChildOrEqual(selection.getEnd(true), controlElm)) {\n            showResizeRect(controlElm);\n            return;\n          }\n        }\n        hideResizeRect();\n      };\n      var isWithinContentEditableFalse = function (elm) {\n        return isContentEditableFalse$5(getContentEditableRoot$1(editor.getBody(), elm));\n      };\n      var unbindResizeHandleEvents = function () {\n        each$j(resizeHandles, function (handle) {\n          if (handle.elm) {\n            dom.unbind(handle.elm);\n            delete handle.elm;\n          }\n        });\n      };\n      var disableGeckoResize = function () {\n        try {\n          editor.getDoc().execCommand('enableObjectResizing', false, 'false');\n        } catch (ex) {\n        }\n      };\n      editor.on('init', function () {\n        disableGeckoResize();\n        if (Env.browser.isIE() || Env.browser.isEdge()) {\n          editor.on('mousedown click', function (e) {\n            var target = e.target, nodeName = target.nodeName;\n            if (!resizeStarted && /^(TABLE|IMG|HR)$/.test(nodeName) && !isWithinContentEditableFalse(target)) {\n              if (e.button !== 2) {\n                editor.selection.select(target, nodeName === 'TABLE');\n              }\n              if (e.type === 'mousedown') {\n                editor.nodeChanged();\n              }\n            }\n          });\n          var handleMSControlSelect_1 = function (e) {\n            var delayedSelect = function (node) {\n              Delay.setEditorTimeout(editor, function () {\n                return editor.selection.select(node);\n              });\n            };\n            if (isWithinContentEditableFalse(e.target) || isMedia$2(e.target)) {\n              e.preventDefault();\n              delayedSelect(e.target);\n              return;\n            }\n            if (/^(TABLE|IMG|HR)$/.test(e.target.nodeName)) {\n              e.preventDefault();\n              if (e.target.tagName === 'IMG') {\n                delayedSelect(e.target);\n              }\n            }\n          };\n          dom.bind(rootElement, 'mscontrolselect', handleMSControlSelect_1);\n          editor.on('remove', function () {\n            return dom.unbind(rootElement, 'mscontrolselect', handleMSControlSelect_1);\n          });\n        }\n        var throttledUpdateResizeRect = Delay.throttle(function (e) {\n          if (!editor.composing) {\n            updateResizeRect(e);\n          }\n        });\n        editor.on('NodeChange ResizeEditor ResizeWindow ResizeContent drop', throttledUpdateResizeRect);\n        editor.on('keyup compositionend', function (e) {\n          if (selectedElm && selectedElm.nodeName === 'TABLE') {\n            throttledUpdateResizeRect(e);\n          }\n        });\n        editor.on('hide blur', hideResizeRect);\n        editor.on('contextmenu longpress', contextMenuSelectImage, true);\n      });\n      editor.on('remove', unbindResizeHandleEvents);\n      var destroy = function () {\n        selectedElm = selectedElmGhost = resizeBackdrop = null;\n      };\n      return {\n        isResizable: isResizable,\n        showResizeRect: showResizeRect,\n        hideResizeRect: hideResizeRect,\n        updateResizeRect: updateResizeRect,\n        destroy: destroy\n      };\n    };\n\n    var hasCeProperty = function (node) {\n      return isContentEditableTrue$4(node) || isContentEditableFalse$b(node);\n    };\n    var findParent$1 = function (node, rootNode, predicate) {\n      while (node && node !== rootNode) {\n        if (predicate(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var findClosestIeRange = function (clientX, clientY, doc) {\n      var rects;\n      var element = doc.elementFromPoint(clientX, clientY);\n      var rng = doc.body.createTextRange();\n      if (!element || element.tagName === 'HTML') {\n        element = doc.body;\n      }\n      rng.moveToElementText(element);\n      rects = Tools.toArray(rng.getClientRects());\n      rects = rects.sort(function (a, b) {\n        a = Math.abs(Math.max(a.top - clientY, a.bottom - clientY));\n        b = Math.abs(Math.max(b.top - clientY, b.bottom - clientY));\n        return a - b;\n      });\n      if (rects.length > 0) {\n        clientY = (rects[0].bottom + rects[0].top) / 2;\n        try {\n          rng.moveToPoint(clientX, clientY);\n          rng.collapse(true);\n          return rng;\n        } catch (ex) {\n        }\n      }\n      return null;\n    };\n    var moveOutOfContentEditableFalse = function (rng, rootNode) {\n      var parentElement = rng && rng.parentElement ? rng.parentElement() : null;\n      return isContentEditableFalse$b(findParent$1(parentElement, rootNode, hasCeProperty)) ? null : rng;\n    };\n    var fromPoint = function (clientX, clientY, doc) {\n      var rng, point;\n      var pointDoc = doc;\n      if (pointDoc.caretPositionFromPoint) {\n        point = pointDoc.caretPositionFromPoint(clientX, clientY);\n        if (point) {\n          rng = doc.createRange();\n          rng.setStart(point.offsetNode, point.offset);\n          rng.collapse(true);\n        }\n      } else if (pointDoc.caretRangeFromPoint) {\n        rng = pointDoc.caretRangeFromPoint(clientX, clientY);\n      } else if (pointDoc.body.createTextRange) {\n        rng = pointDoc.body.createTextRange();\n        try {\n          rng.moveToPoint(clientX, clientY);\n          rng.collapse(true);\n        } catch (ex) {\n          rng = findClosestIeRange(clientX, clientY, doc);\n        }\n        return moveOutOfContentEditableFalse(rng, doc.body);\n      }\n      return rng;\n    };\n\n    var isEq$4 = function (rng1, rng2) {\n      return rng1 && rng2 && (rng1.startContainer === rng2.startContainer && rng1.startOffset === rng2.startOffset) && (rng1.endContainer === rng2.endContainer && rng1.endOffset === rng2.endOffset);\n    };\n\n    var findParent = function (node, rootNode, predicate) {\n      while (node && node !== rootNode) {\n        if (predicate(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    var hasParent$1 = function (node, rootNode, predicate) {\n      return findParent(node, rootNode, predicate) !== null;\n    };\n    var hasParentWithName = function (node, rootNode, name) {\n      return hasParent$1(node, rootNode, function (node) {\n        return node.nodeName === name;\n      });\n    };\n    var isTable = function (node) {\n      return node && node.nodeName === 'TABLE';\n    };\n    var isTableCell$2 = function (node) {\n      return node && /^(TD|TH|CAPTION)$/.test(node.nodeName);\n    };\n    var isCeFalseCaretContainer = function (node, rootNode) {\n      return isCaretContainer$2(node) && hasParent$1(node, rootNode, isCaretNode) === false;\n    };\n    var hasBrBeforeAfter = function (dom, node, left) {\n      var walker = new DomTreeWalker(node, dom.getParent(node.parentNode, dom.isBlock) || dom.getRoot());\n      while (node = walker[left ? 'prev' : 'next']()) {\n        if (isBr$5(node)) {\n          return true;\n        }\n      }\n    };\n    var isPrevNode = function (node, name) {\n      return node.previousSibling && node.previousSibling.nodeName === name;\n    };\n    var hasContentEditableFalseParent = function (body, node) {\n      while (node && node !== body) {\n        if (isContentEditableFalse$b(node)) {\n          return true;\n        }\n        node = node.parentNode;\n      }\n      return false;\n    };\n    var findTextNodeRelative = function (dom, isAfterNode, collapsed, left, startNode) {\n      var lastInlineElement;\n      var body = dom.getRoot();\n      var node;\n      var nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n      var parentBlockContainer = dom.getParent(startNode.parentNode, dom.isBlock) || body;\n      if (left && isBr$5(startNode) && isAfterNode && dom.isEmpty(parentBlockContainer)) {\n        return Optional.some(CaretPosition(startNode.parentNode, dom.nodeIndex(startNode)));\n      }\n      var walker = new DomTreeWalker(startNode, parentBlockContainer);\n      while (node = walker[left ? 'prev' : 'next']()) {\n        if (dom.getContentEditableParent(node) === 'false' || isCeFalseCaretContainer(node, body)) {\n          return Optional.none();\n        }\n        if (isText$7(node) && node.nodeValue.length > 0) {\n          if (hasParentWithName(node, body, 'A') === false) {\n            return Optional.some(CaretPosition(node, left ? node.nodeValue.length : 0));\n          }\n          return Optional.none();\n        }\n        if (dom.isBlock(node) || nonEmptyElementsMap[node.nodeName.toLowerCase()]) {\n          return Optional.none();\n        }\n        lastInlineElement = node;\n      }\n      if (collapsed && lastInlineElement) {\n        return Optional.some(CaretPosition(lastInlineElement, 0));\n      }\n      return Optional.none();\n    };\n    var normalizeEndPoint = function (dom, collapsed, start, rng) {\n      var container, offset;\n      var body = dom.getRoot();\n      var node;\n      var directionLeft, normalized = false;\n      container = rng[(start ? 'start' : 'end') + 'Container'];\n      offset = rng[(start ? 'start' : 'end') + 'Offset'];\n      var isAfterNode = isElement$5(container) && offset === container.childNodes.length;\n      var nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n      directionLeft = start;\n      if (isCaretContainer$2(container)) {\n        return Optional.none();\n      }\n      if (isElement$5(container) && offset > container.childNodes.length - 1) {\n        directionLeft = false;\n      }\n      if (isDocument$1(container)) {\n        container = body;\n        offset = 0;\n      }\n      if (container === body) {\n        if (directionLeft) {\n          node = container.childNodes[offset > 0 ? offset - 1 : 0];\n          if (node) {\n            if (isCaretContainer$2(node)) {\n              return Optional.none();\n            }\n            if (nonEmptyElementsMap[node.nodeName] || isTable(node)) {\n              return Optional.none();\n            }\n          }\n        }\n        if (container.hasChildNodes()) {\n          offset = Math.min(!directionLeft && offset > 0 ? offset - 1 : offset, container.childNodes.length - 1);\n          container = container.childNodes[offset];\n          offset = isText$7(container) && isAfterNode ? container.data.length : 0;\n          if (!collapsed && container === body.lastChild && isTable(container)) {\n            return Optional.none();\n          }\n          if (hasContentEditableFalseParent(body, container) || isCaretContainer$2(container)) {\n            return Optional.none();\n          }\n          if (container.hasChildNodes() && isTable(container) === false) {\n            node = container;\n            var walker = new DomTreeWalker(container, body);\n            do {\n              if (isContentEditableFalse$b(node) || isCaretContainer$2(node)) {\n                normalized = false;\n                break;\n              }\n              if (isText$7(node) && node.nodeValue.length > 0) {\n                offset = directionLeft ? 0 : node.nodeValue.length;\n                container = node;\n                normalized = true;\n                break;\n              }\n              if (nonEmptyElementsMap[node.nodeName.toLowerCase()] && !isTableCell$2(node)) {\n                offset = dom.nodeIndex(node);\n                container = node.parentNode;\n                if (!directionLeft) {\n                  offset++;\n                }\n                normalized = true;\n                break;\n              }\n            } while (node = directionLeft ? walker.next() : walker.prev());\n          }\n        }\n      }\n      if (collapsed) {\n        if (isText$7(container) && offset === 0) {\n          findTextNodeRelative(dom, isAfterNode, collapsed, true, container).each(function (pos) {\n            container = pos.container();\n            offset = pos.offset();\n            normalized = true;\n          });\n        }\n        if (isElement$5(container)) {\n          node = container.childNodes[offset];\n          if (!node) {\n            node = container.childNodes[offset - 1];\n          }\n          if (node && isBr$5(node) && !isPrevNode(node, 'A') && !hasBrBeforeAfter(dom, node, false) && !hasBrBeforeAfter(dom, node, true)) {\n            findTextNodeRelative(dom, isAfterNode, collapsed, true, node).each(function (pos) {\n              container = pos.container();\n              offset = pos.offset();\n              normalized = true;\n            });\n          }\n        }\n      }\n      if (directionLeft && !collapsed && isText$7(container) && offset === container.nodeValue.length) {\n        findTextNodeRelative(dom, isAfterNode, collapsed, false, container).each(function (pos) {\n          container = pos.container();\n          offset = pos.offset();\n          normalized = true;\n        });\n      }\n      return normalized ? Optional.some(CaretPosition(container, offset)) : Optional.none();\n    };\n    var normalize$2 = function (dom, rng) {\n      var collapsed = rng.collapsed, normRng = rng.cloneRange();\n      var startPos = CaretPosition.fromRangeStart(rng);\n      normalizeEndPoint(dom, collapsed, true, normRng).each(function (pos) {\n        if (!collapsed || !CaretPosition.isAbove(startPos, pos)) {\n          normRng.setStart(pos.container(), pos.offset());\n        }\n      });\n      if (!collapsed) {\n        normalizeEndPoint(dom, collapsed, false, normRng).each(function (pos) {\n          normRng.setEnd(pos.container(), pos.offset());\n        });\n      }\n      if (collapsed) {\n        normRng.collapse(true);\n      }\n      return isEq$4(rng, normRng) ? Optional.none() : Optional.some(normRng);\n    };\n\n    var splitText = function (node, offset) {\n      return node.splitText(offset);\n    };\n    var split = function (rng) {\n      var startContainer = rng.startContainer, startOffset = rng.startOffset, endContainer = rng.endContainer, endOffset = rng.endOffset;\n      if (startContainer === endContainer && isText$7(startContainer)) {\n        if (startOffset > 0 && startOffset < startContainer.nodeValue.length) {\n          endContainer = splitText(startContainer, startOffset);\n          startContainer = endContainer.previousSibling;\n          if (endOffset > startOffset) {\n            endOffset = endOffset - startOffset;\n            startContainer = endContainer = splitText(endContainer, endOffset).previousSibling;\n            endOffset = endContainer.nodeValue.length;\n            startOffset = 0;\n          } else {\n            endOffset = 0;\n          }\n        }\n      } else {\n        if (isText$7(startContainer) && startOffset > 0 && startOffset < startContainer.nodeValue.length) {\n          startContainer = splitText(startContainer, startOffset);\n          startOffset = 0;\n        }\n        if (isText$7(endContainer) && endOffset > 0 && endOffset < endContainer.nodeValue.length) {\n          endContainer = splitText(endContainer, endOffset).previousSibling;\n          endOffset = endContainer.nodeValue.length;\n        }\n      }\n      return {\n        startContainer: startContainer,\n        startOffset: startOffset,\n        endContainer: endContainer,\n        endOffset: endOffset\n      };\n    };\n\n    var RangeUtils = function (dom) {\n      var walk = function (rng, callback) {\n        return walk$2(dom, rng, callback);\n      };\n      var split$1 = split;\n      var normalize = function (rng) {\n        return normalize$2(dom, rng).fold(never, function (normalizedRng) {\n          rng.setStart(normalizedRng.startContainer, normalizedRng.startOffset);\n          rng.setEnd(normalizedRng.endContainer, normalizedRng.endOffset);\n          return true;\n        });\n      };\n      return {\n        walk: walk,\n        split: split$1,\n        normalize: normalize\n      };\n    };\n    RangeUtils.compareRanges = isEq$4;\n    RangeUtils.getCaretRangeFromPoint = fromPoint;\n    RangeUtils.getSelectedNode = getSelectedNode;\n    RangeUtils.getNode = getNode$1;\n\n    var Dimension = function (name, getOffset) {\n      var set = function (element, h) {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        var dom = element.dom;\n        if (isSupported(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      var get = function (element) {\n        var r = getOffset(element);\n        if (r <= 0 || r === null) {\n          var css = get$5(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      var getOuter = get;\n      var aggregate = function (element, properties) {\n        return foldl(properties, function (acc, property) {\n          var val = get$5(element, property);\n          var value = val === undefined ? 0 : parseInt(val, 10);\n          return isNaN(value) ? acc : acc + value;\n        }, 0);\n      };\n      var max = function (element, value, properties) {\n        var cumulativeInclusions = aggregate(element, properties);\n        var absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set: set,\n        get: get,\n        getOuter: getOuter,\n        aggregate: aggregate,\n        max: max\n      };\n    };\n\n    var api = Dimension('height', function (element) {\n      var dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    var get$1 = function (element) {\n      return api.get(element);\n    };\n\n    var walkUp = function (navigation, doc) {\n      var frame = navigation.view(doc);\n      return frame.fold(constant([]), function (f) {\n        var parent = navigation.owner(f);\n        var rest = walkUp(navigation, parent);\n        return [f].concat(rest);\n      });\n    };\n    var pathTo = function (element, navigation) {\n      var d = navigation.owner(element);\n      return walkUp(navigation, d);\n    };\n\n    var view = function (doc) {\n      var _a;\n      var element = doc.dom === document ? Optional.none() : Optional.from((_a = doc.dom.defaultView) === null || _a === void 0 ? void 0 : _a.frameElement);\n      return element.map(SugarElement.fromDom);\n    };\n    var owner = function (element) {\n      return documentOrOwner(element);\n    };\n\n    var Navigation = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        view: view,\n        owner: owner\n    });\n\n    var find$1 = function (element) {\n      var doc = SugarElement.fromDom(document);\n      var scroll = get$8(doc);\n      var frames = pathTo(element, Navigation);\n      var offset = viewport(element);\n      var r = foldr(frames, function (b, a) {\n        var loc = viewport(a);\n        return {\n          left: b.left + loc.left,\n          top: b.top + loc.top\n        };\n      }, {\n        left: 0,\n        top: 0\n      });\n      return SugarPosition(r.left + offset.left + scroll.left, r.top + offset.top + scroll.top);\n    };\n\n    var excludeFromDescend = function (element) {\n      return name(element) === 'textarea';\n    };\n    var fireScrollIntoViewEvent = function (editor, data) {\n      var scrollEvent = editor.fire('ScrollIntoView', data);\n      return scrollEvent.isDefaultPrevented();\n    };\n    var fireAfterScrollIntoViewEvent = function (editor, data) {\n      editor.fire('AfterScrollIntoView', data);\n    };\n    var descend = function (element, offset) {\n      var children$1 = children(element);\n      if (children$1.length === 0 || excludeFromDescend(element)) {\n        return {\n          element: element,\n          offset: offset\n        };\n      } else if (offset < children$1.length && !excludeFromDescend(children$1[offset])) {\n        return {\n          element: children$1[offset],\n          offset: 0\n        };\n      } else {\n        var last = children$1[children$1.length - 1];\n        if (excludeFromDescend(last)) {\n          return {\n            element: element,\n            offset: offset\n          };\n        } else {\n          if (name(last) === 'img') {\n            return {\n              element: last,\n              offset: 1\n            };\n          } else if (isText$8(last)) {\n            return {\n              element: last,\n              offset: get$2(last).length\n            };\n          } else {\n            return {\n              element: last,\n              offset: children(last).length\n            };\n          }\n        }\n      }\n    };\n    var markerInfo = function (element, cleanupFun) {\n      var pos = absolute(element);\n      var height = get$1(element);\n      return {\n        element: element,\n        bottom: pos.top + height,\n        height: height,\n        pos: pos,\n        cleanup: cleanupFun\n      };\n    };\n    var createMarker = function (element, offset) {\n      var startPoint = descend(element, offset);\n      var span = SugarElement.fromHtml('<span data-mce-bogus=\"all\" style=\"display: inline-block;\">' + ZWSP$1 + '</span>');\n      before$4(startPoint.element, span);\n      return markerInfo(span, function () {\n        return remove$7(span);\n      });\n    };\n    var elementMarker = function (element) {\n      return markerInfo(SugarElement.fromDom(element), noop);\n    };\n    var withMarker = function (editor, f, rng, alignToTop) {\n      preserveWith(editor, function (_s, _e) {\n        return applyWithMarker(editor, f, rng, alignToTop);\n      }, rng);\n    };\n    var withScrollEvents = function (editor, doc, f, marker, alignToTop) {\n      var data = {\n        elm: marker.element.dom,\n        alignToTop: alignToTop\n      };\n      if (fireScrollIntoViewEvent(editor, data)) {\n        return;\n      }\n      var scrollTop = get$8(doc).top;\n      f(doc, scrollTop, marker, alignToTop);\n      fireAfterScrollIntoViewEvent(editor, data);\n    };\n    var applyWithMarker = function (editor, f, rng, alignToTop) {\n      var body = SugarElement.fromDom(editor.getBody());\n      var doc = SugarElement.fromDom(editor.getDoc());\n      reflow(body);\n      var marker = createMarker(SugarElement.fromDom(rng.startContainer), rng.startOffset);\n      withScrollEvents(editor, doc, f, marker, alignToTop);\n      marker.cleanup();\n    };\n    var withElement = function (editor, element, f, alignToTop) {\n      var doc = SugarElement.fromDom(editor.getDoc());\n      withScrollEvents(editor, doc, f, elementMarker(element), alignToTop);\n    };\n    var preserveWith = function (editor, f, rng) {\n      var startElement = rng.startContainer;\n      var startOffset = rng.startOffset;\n      var endElement = rng.endContainer;\n      var endOffset = rng.endOffset;\n      f(SugarElement.fromDom(startElement), SugarElement.fromDom(endElement));\n      var newRng = editor.dom.createRng();\n      newRng.setStart(startElement, startOffset);\n      newRng.setEnd(endElement, endOffset);\n      editor.selection.setRng(rng);\n    };\n    var scrollToMarker = function (marker, viewHeight, alignToTop, doc) {\n      var pos = marker.pos;\n      if (alignToTop) {\n        to(pos.left, pos.top, doc);\n      } else {\n        var y = pos.top - viewHeight + marker.height;\n        to(pos.left, y, doc);\n      }\n    };\n    var intoWindowIfNeeded = function (doc, scrollTop, viewHeight, marker, alignToTop) {\n      var viewportBottom = viewHeight + scrollTop;\n      var markerTop = marker.pos.top;\n      var markerBottom = marker.bottom;\n      var largerThanViewport = markerBottom - markerTop >= viewHeight;\n      if (markerTop < scrollTop) {\n        scrollToMarker(marker, viewHeight, alignToTop !== false, doc);\n      } else if (markerTop > viewportBottom) {\n        var align = largerThanViewport ? alignToTop !== false : alignToTop === true;\n        scrollToMarker(marker, viewHeight, align, doc);\n      } else if (markerBottom > viewportBottom && !largerThanViewport) {\n        scrollToMarker(marker, viewHeight, alignToTop === true, doc);\n      }\n    };\n    var intoWindow = function (doc, scrollTop, marker, alignToTop) {\n      var viewHeight = doc.dom.defaultView.innerHeight;\n      intoWindowIfNeeded(doc, scrollTop, viewHeight, marker, alignToTop);\n    };\n    var intoFrame = function (doc, scrollTop, marker, alignToTop) {\n      var frameViewHeight = doc.dom.defaultView.innerHeight;\n      intoWindowIfNeeded(doc, scrollTop, frameViewHeight, marker, alignToTop);\n      var op = find$1(marker.element);\n      var viewportBounds = getBounds(window);\n      if (op.top < viewportBounds.y) {\n        intoView(marker.element, alignToTop !== false);\n      } else if (op.top > viewportBounds.bottom) {\n        intoView(marker.element, alignToTop === true);\n      }\n    };\n    var rangeIntoWindow = function (editor, rng, alignToTop) {\n      return withMarker(editor, intoWindow, rng, alignToTop);\n    };\n    var elementIntoWindow = function (editor, element, alignToTop) {\n      return withElement(editor, element, intoWindow, alignToTop);\n    };\n    var rangeIntoFrame = function (editor, rng, alignToTop) {\n      return withMarker(editor, intoFrame, rng, alignToTop);\n    };\n    var elementIntoFrame = function (editor, element, alignToTop) {\n      return withElement(editor, element, intoFrame, alignToTop);\n    };\n    var scrollElementIntoView = function (editor, element, alignToTop) {\n      var scroller = editor.inline ? elementIntoWindow : elementIntoFrame;\n      scroller(editor, element, alignToTop);\n    };\n    var scrollRangeIntoView = function (editor, rng, alignToTop) {\n      var scroller = editor.inline ? rangeIntoWindow : rangeIntoFrame;\n      scroller(editor, rng, alignToTop);\n    };\n\n    var getDocument = function () {\n      return SugarElement.fromDom(document);\n    };\n\n    var focus$1 = function (element) {\n      return element.dom.focus();\n    };\n    var hasFocus$1 = function (element) {\n      var root = getRootNode(element).dom;\n      return element.dom === root.activeElement;\n    };\n    var active = function (root) {\n      if (root === void 0) {\n        root = getDocument();\n      }\n      return Optional.from(root.dom.activeElement).map(SugarElement.fromDom);\n    };\n    var search = function (element) {\n      return active(getRootNode(element)).filter(function (e) {\n        return element.dom.contains(e.dom);\n      });\n    };\n\n    var create$5 = function (start, soffset, finish, foffset) {\n      return {\n        start: start,\n        soffset: soffset,\n        finish: finish,\n        foffset: foffset\n      };\n    };\n    var SimRange = { create: create$5 };\n\n    var adt$1 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    var cata = function (subject, onBefore, onOn, onAfter) {\n      return subject.fold(onBefore, onOn, onAfter);\n    };\n    var getStart$2 = function (situ) {\n      return situ.fold(identity, identity, identity);\n    };\n    var before$1 = adt$1.before;\n    var on = adt$1.on;\n    var after$1 = adt$1.after;\n    var Situ = {\n      before: before$1,\n      on: on,\n      after: after$1,\n      cata: cata,\n      getStart: getStart$2\n    };\n\n    var adt = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    var exactFromRange = function (simRange) {\n      return adt.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    };\n    var getStart$1 = function (selection) {\n      return selection.match({\n        domRange: function (rng) {\n          return SugarElement.fromDom(rng.startContainer);\n        },\n        relative: function (startSitu, _finishSitu) {\n          return Situ.getStart(startSitu);\n        },\n        exact: function (start, _soffset, _finish, _foffset) {\n          return start;\n        }\n      });\n    };\n    var domRange = adt.domRange;\n    var relative = adt.relative;\n    var exact = adt.exact;\n    var getWin = function (selection) {\n      var start = getStart$1(selection);\n      return defaultView(start);\n    };\n    var range = SimRange.create;\n    var SimSelection = {\n      domRange: domRange,\n      relative: relative,\n      exact: exact,\n      exactFromRange: exactFromRange,\n      getWin: getWin,\n      range: range\n    };\n\n    var browser$1 = detect().browser;\n    var clamp$1 = function (offset, element) {\n      var max = isText$8(element) ? get$2(element).length : children(element).length + 1;\n      if (offset > max) {\n        return max;\n      } else if (offset < 0) {\n        return 0;\n      }\n      return offset;\n    };\n    var normalizeRng = function (rng) {\n      return SimSelection.range(rng.start, clamp$1(rng.soffset, rng.start), rng.finish, clamp$1(rng.foffset, rng.finish));\n    };\n    var isOrContains = function (root, elm) {\n      return !isRestrictedNode(elm.dom) && (contains$1(root, elm) || eq(root, elm));\n    };\n    var isRngInRoot = function (root) {\n      return function (rng) {\n        return isOrContains(root, rng.start) && isOrContains(root, rng.finish);\n      };\n    };\n    var shouldStore = function (editor) {\n      return editor.inline === true || browser$1.isIE();\n    };\n    var nativeRangeToSelectionRange = function (r) {\n      return SimSelection.range(SugarElement.fromDom(r.startContainer), r.startOffset, SugarElement.fromDom(r.endContainer), r.endOffset);\n    };\n    var readRange = function (win) {\n      var selection = win.getSelection();\n      var rng = !selection || selection.rangeCount === 0 ? Optional.none() : Optional.from(selection.getRangeAt(0));\n      return rng.map(nativeRangeToSelectionRange);\n    };\n    var getBookmark = function (root) {\n      var win = defaultView(root);\n      return readRange(win.dom).filter(isRngInRoot(root));\n    };\n    var validate = function (root, bookmark) {\n      return Optional.from(bookmark).filter(isRngInRoot(root)).map(normalizeRng);\n    };\n    var bookmarkToNativeRng = function (bookmark) {\n      var rng = document.createRange();\n      try {\n        rng.setStart(bookmark.start.dom, bookmark.soffset);\n        rng.setEnd(bookmark.finish.dom, bookmark.foffset);\n        return Optional.some(rng);\n      } catch (_) {\n        return Optional.none();\n      }\n    };\n    var store = function (editor) {\n      var newBookmark = shouldStore(editor) ? getBookmark(SugarElement.fromDom(editor.getBody())) : Optional.none();\n      editor.bookmark = newBookmark.isSome() ? newBookmark : editor.bookmark;\n    };\n    var storeNative = function (editor, rng) {\n      var root = SugarElement.fromDom(editor.getBody());\n      var range = shouldStore(editor) ? Optional.from(rng) : Optional.none();\n      var newBookmark = range.map(nativeRangeToSelectionRange).filter(isRngInRoot(root));\n      editor.bookmark = newBookmark.isSome() ? newBookmark : editor.bookmark;\n    };\n    var getRng = function (editor) {\n      var bookmark = editor.bookmark ? editor.bookmark : Optional.none();\n      return bookmark.bind(function (x) {\n        return validate(SugarElement.fromDom(editor.getBody()), x);\n      }).bind(bookmarkToNativeRng);\n    };\n    var restore = function (editor) {\n      getRng(editor).each(function (rng) {\n        return editor.selection.setRng(rng);\n      });\n    };\n\n    var isEditorUIElement$1 = function (elm) {\n      var className = elm.className.toString();\n      return className.indexOf('tox-') !== -1 || className.indexOf('mce-') !== -1;\n    };\n    var FocusManager = { isEditorUIElement: isEditorUIElement$1 };\n\n    var isManualNodeChange = function (e) {\n      return e.type === 'nodechange' && e.selectionChange;\n    };\n    var registerPageMouseUp = function (editor, throttledStore) {\n      var mouseUpPage = function () {\n        throttledStore.throttle();\n      };\n      DOMUtils.DOM.bind(document, 'mouseup', mouseUpPage);\n      editor.on('remove', function () {\n        DOMUtils.DOM.unbind(document, 'mouseup', mouseUpPage);\n      });\n    };\n    var registerFocusOut = function (editor) {\n      editor.on('focusout', function () {\n        store(editor);\n      });\n    };\n    var registerMouseUp = function (editor, throttledStore) {\n      editor.on('mouseup touchend', function (_e) {\n        throttledStore.throttle();\n      });\n    };\n    var registerEditorEvents = function (editor, throttledStore) {\n      var browser = detect().browser;\n      if (browser.isIE()) {\n        registerFocusOut(editor);\n      } else {\n        registerMouseUp(editor, throttledStore);\n      }\n      editor.on('keyup NodeChange', function (e) {\n        if (!isManualNodeChange(e)) {\n          store(editor);\n        }\n      });\n    };\n    var register$3 = function (editor) {\n      var throttledStore = first(function () {\n        store(editor);\n      }, 0);\n      editor.on('init', function () {\n        if (editor.inline) {\n          registerPageMouseUp(editor, throttledStore);\n        }\n        registerEditorEvents(editor, throttledStore);\n      });\n      editor.on('remove', function () {\n        throttledStore.cancel();\n      });\n    };\n\n    var documentFocusInHandler;\n    var DOM$8 = DOMUtils.DOM;\n    var isEditorUIElement = function (elm) {\n      return FocusManager.isEditorUIElement(elm);\n    };\n    var isEditorContentAreaElement = function (elm) {\n      var classList = elm.classList;\n      if (classList !== undefined) {\n        return classList.contains('tox-edit-area') || classList.contains('tox-edit-area__iframe') || classList.contains('mce-content-body');\n      } else {\n        return false;\n      }\n    };\n    var isUIElement = function (editor, elm) {\n      var customSelector = getCustomUiSelector(editor);\n      var parent = DOM$8.getParent(elm, function (elm) {\n        return isEditorUIElement(elm) || (customSelector ? editor.dom.is(elm, customSelector) : false);\n      });\n      return parent !== null;\n    };\n    var getActiveElement = function (editor) {\n      try {\n        var root = getRootNode(SugarElement.fromDom(editor.getElement()));\n        return active(root).fold(function () {\n          return document.body;\n        }, function (x) {\n          return x.dom;\n        });\n      } catch (ex) {\n        return document.body;\n      }\n    };\n    var registerEvents$1 = function (editorManager, e) {\n      var editor = e.editor;\n      register$3(editor);\n      editor.on('focusin', function () {\n        var focusedEditor = editorManager.focusedEditor;\n        if (focusedEditor !== editor) {\n          if (focusedEditor) {\n            focusedEditor.fire('blur', { focusedEditor: editor });\n          }\n          editorManager.setActive(editor);\n          editorManager.focusedEditor = editor;\n          editor.fire('focus', { blurredEditor: focusedEditor });\n          editor.focus(true);\n        }\n      });\n      editor.on('focusout', function () {\n        Delay.setEditorTimeout(editor, function () {\n          var focusedEditor = editorManager.focusedEditor;\n          if (!isUIElement(editor, getActiveElement(editor)) && focusedEditor === editor) {\n            editor.fire('blur', { focusedEditor: null });\n            editorManager.focusedEditor = null;\n          }\n        });\n      });\n      if (!documentFocusInHandler) {\n        documentFocusInHandler = function (e) {\n          var activeEditor = editorManager.activeEditor;\n          if (activeEditor) {\n            getOriginalEventTarget(e).each(function (target) {\n              if (target.ownerDocument === document) {\n                if (target !== document.body && !isUIElement(activeEditor, target) && editorManager.focusedEditor === activeEditor) {\n                  activeEditor.fire('blur', { focusedEditor: null });\n                  editorManager.focusedEditor = null;\n                }\n              }\n            });\n          }\n        };\n        DOM$8.bind(document, 'focusin', documentFocusInHandler);\n      }\n    };\n    var unregisterDocumentEvents = function (editorManager, e) {\n      if (editorManager.focusedEditor === e.editor) {\n        editorManager.focusedEditor = null;\n      }\n      if (!editorManager.activeEditor) {\n        DOM$8.unbind(document, 'focusin', documentFocusInHandler);\n        documentFocusInHandler = null;\n      }\n    };\n    var setup$l = function (editorManager) {\n      editorManager.on('AddEditor', curry(registerEvents$1, editorManager));\n      editorManager.on('RemoveEditor', curry(unregisterDocumentEvents, editorManager));\n    };\n\n    var getContentEditableHost = function (editor, node) {\n      return editor.dom.getParent(node, function (node) {\n        return editor.dom.getContentEditable(node) === 'true';\n      });\n    };\n    var getCollapsedNode = function (rng) {\n      return rng.collapsed ? Optional.from(getNode$1(rng.startContainer, rng.startOffset)).map(SugarElement.fromDom) : Optional.none();\n    };\n    var getFocusInElement = function (root, rng) {\n      return getCollapsedNode(rng).bind(function (node) {\n        if (isTableSection(node)) {\n          return Optional.some(node);\n        } else if (contains$1(root, node) === false) {\n          return Optional.some(root);\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var normalizeSelection$1 = function (editor, rng) {\n      getFocusInElement(SugarElement.fromDom(editor.getBody()), rng).bind(function (elm) {\n        return firstPositionIn(elm.dom);\n      }).fold(function () {\n        editor.selection.normalize();\n        return;\n      }, function (caretPos) {\n        return editor.selection.setRng(caretPos.toRange());\n      });\n    };\n    var focusBody = function (body) {\n      if (body.setActive) {\n        try {\n          body.setActive();\n        } catch (ex) {\n          body.focus();\n        }\n      } else {\n        body.focus();\n      }\n    };\n    var hasElementFocus = function (elm) {\n      return hasFocus$1(elm) || search(elm).isSome();\n    };\n    var hasIframeFocus = function (editor) {\n      return editor.iframeElement && hasFocus$1(SugarElement.fromDom(editor.iframeElement));\n    };\n    var hasInlineFocus = function (editor) {\n      var rawBody = editor.getBody();\n      return rawBody && hasElementFocus(SugarElement.fromDom(rawBody));\n    };\n    var hasUiFocus = function (editor) {\n      var dos = getRootNode(SugarElement.fromDom(editor.getElement()));\n      return active(dos).filter(function (elem) {\n        return !isEditorContentAreaElement(elem.dom) && isUIElement(editor, elem.dom);\n      }).isSome();\n    };\n    var hasFocus = function (editor) {\n      return editor.inline ? hasInlineFocus(editor) : hasIframeFocus(editor);\n    };\n    var hasEditorOrUiFocus = function (editor) {\n      return hasFocus(editor) || hasUiFocus(editor);\n    };\n    var focusEditor = function (editor) {\n      var selection = editor.selection;\n      var body = editor.getBody();\n      var rng = selection.getRng();\n      editor.quirks.refreshContentEditable();\n      if (editor.bookmark !== undefined && hasFocus(editor) === false) {\n        getRng(editor).each(function (bookmarkRng) {\n          editor.selection.setRng(bookmarkRng);\n          rng = bookmarkRng;\n        });\n      }\n      var contentEditableHost = getContentEditableHost(editor, selection.getNode());\n      if (editor.$.contains(body, contentEditableHost)) {\n        focusBody(contentEditableHost);\n        normalizeSelection$1(editor, rng);\n        activateEditor(editor);\n        return;\n      }\n      if (!editor.inline) {\n        if (!Env.opera) {\n          focusBody(body);\n        }\n        editor.getWin().focus();\n      }\n      if (Env.gecko || editor.inline) {\n        focusBody(body);\n        normalizeSelection$1(editor, rng);\n      }\n      activateEditor(editor);\n    };\n    var activateEditor = function (editor) {\n      return editor.editorManager.setActive(editor);\n    };\n    var focus = function (editor, skipFocus) {\n      if (editor.removed) {\n        return;\n      }\n      if (skipFocus) {\n        activateEditor(editor);\n      } else {\n        focusEditor(editor);\n      }\n    };\n\n    var getEndpointElement = function (root, rng, start, real, resolve) {\n      var container = start ? rng.startContainer : rng.endContainer;\n      var offset = start ? rng.startOffset : rng.endOffset;\n      return Optional.from(container).map(SugarElement.fromDom).map(function (elm) {\n        return !real || !rng.collapsed ? child$1(elm, resolve(elm, offset)).getOr(elm) : elm;\n      }).bind(function (elm) {\n        return isElement$6(elm) ? Optional.some(elm) : parent(elm).filter(isElement$6);\n      }).map(function (elm) {\n        return elm.dom;\n      }).getOr(root);\n    };\n    var getStart = function (root, rng, real) {\n      return getEndpointElement(root, rng, true, real, function (elm, offset) {\n        return Math.min(childNodesCount(elm), offset);\n      });\n    };\n    var getEnd = function (root, rng, real) {\n      return getEndpointElement(root, rng, false, real, function (elm, offset) {\n        return offset > 0 ? offset - 1 : offset;\n      });\n    };\n    var skipEmptyTextNodes = function (node, forwards) {\n      var orig = node;\n      while (node && isText$7(node) && node.length === 0) {\n        node = forwards ? node.nextSibling : node.previousSibling;\n      }\n      return node || orig;\n    };\n    var getNode = function (root, rng) {\n      var elm, startContainer, endContainer;\n      if (!rng) {\n        return root;\n      }\n      startContainer = rng.startContainer;\n      endContainer = rng.endContainer;\n      var startOffset = rng.startOffset;\n      var endOffset = rng.endOffset;\n      elm = rng.commonAncestorContainer;\n      if (!rng.collapsed) {\n        if (startContainer === endContainer) {\n          if (endOffset - startOffset < 2) {\n            if (startContainer.hasChildNodes()) {\n              elm = startContainer.childNodes[startOffset];\n            }\n          }\n        }\n        if (startContainer.nodeType === 3 && endContainer.nodeType === 3) {\n          if (startContainer.length === startOffset) {\n            startContainer = skipEmptyTextNodes(startContainer.nextSibling, true);\n          } else {\n            startContainer = startContainer.parentNode;\n          }\n          if (endOffset === 0) {\n            endContainer = skipEmptyTextNodes(endContainer.previousSibling, false);\n          } else {\n            endContainer = endContainer.parentNode;\n          }\n          if (startContainer && startContainer === endContainer) {\n            return startContainer;\n          }\n        }\n      }\n      if (elm && elm.nodeType === 3) {\n        return elm.parentNode;\n      }\n      return elm;\n    };\n    var getSelectedBlocks = function (dom, rng, startElm, endElm) {\n      var node;\n      var selectedBlocks = [];\n      var root = dom.getRoot();\n      startElm = dom.getParent(startElm || getStart(root, rng, rng.collapsed), dom.isBlock);\n      endElm = dom.getParent(endElm || getEnd(root, rng, rng.collapsed), dom.isBlock);\n      if (startElm && startElm !== root) {\n        selectedBlocks.push(startElm);\n      }\n      if (startElm && endElm && startElm !== endElm) {\n        node = startElm;\n        var walker = new DomTreeWalker(startElm, root);\n        while ((node = walker.next()) && node !== endElm) {\n          if (dom.isBlock(node)) {\n            selectedBlocks.push(node);\n          }\n        }\n      }\n      if (endElm && startElm !== endElm && endElm !== root) {\n        selectedBlocks.push(endElm);\n      }\n      return selectedBlocks;\n    };\n    var select = function (dom, node, content) {\n      return Optional.from(node).map(function (node) {\n        var idx = dom.nodeIndex(node);\n        var rng = dom.createRng();\n        rng.setStart(node.parentNode, idx);\n        rng.setEnd(node.parentNode, idx + 1);\n        if (content) {\n          moveEndPoint(dom, rng, node, true);\n          moveEndPoint(dom, rng, node, false);\n        }\n        return rng;\n      });\n    };\n\n    var processRanges = function (editor, ranges) {\n      return map$3(ranges, function (range) {\n        var evt = editor.fire('GetSelectionRange', { range: range });\n        return evt.range !== range ? evt.range : range;\n      });\n    };\n\n    var typeLookup = {\n      '#text': 3,\n      '#comment': 8,\n      '#cdata': 4,\n      '#pi': 7,\n      '#doctype': 10,\n      '#document-fragment': 11\n    };\n    var walk$1 = function (node, root, prev) {\n      var startName = prev ? 'lastChild' : 'firstChild';\n      var siblingName = prev ? 'prev' : 'next';\n      if (node[startName]) {\n        return node[startName];\n      }\n      if (node !== root) {\n        var sibling = node[siblingName];\n        if (sibling) {\n          return sibling;\n        }\n        for (var parent_1 = node.parent; parent_1 && parent_1 !== root; parent_1 = parent_1.parent) {\n          sibling = parent_1[siblingName];\n          if (sibling) {\n            return sibling;\n          }\n        }\n      }\n    };\n    var isEmptyTextNode = function (node) {\n      if (!isWhitespaceText(node.value)) {\n        return false;\n      }\n      var parentNode = node.parent;\n      if (parentNode && (parentNode.name !== 'span' || parentNode.attr('style')) && /^[ ]+$/.test(node.value)) {\n        return false;\n      }\n      return true;\n    };\n    var isNonEmptyElement = function (node) {\n      var isNamedAnchor = node.name === 'a' && !node.attr('href') && node.attr('id');\n      return node.attr('name') || node.attr('id') && !node.firstChild || node.attr('data-mce-bookmark') || isNamedAnchor;\n    };\n    var AstNode = function () {\n      function AstNode(name, type) {\n        this.name = name;\n        this.type = type;\n        if (type === 1) {\n          this.attributes = [];\n          this.attributes.map = {};\n        }\n      }\n      AstNode.create = function (name, attrs) {\n        var node = new AstNode(name, typeLookup[name] || 1);\n        if (attrs) {\n          each$j(attrs, function (value, attrName) {\n            node.attr(attrName, value);\n          });\n        }\n        return node;\n      };\n      AstNode.prototype.replace = function (node) {\n        var self = this;\n        if (node.parent) {\n          node.remove();\n        }\n        self.insert(node, self);\n        self.remove();\n        return self;\n      };\n      AstNode.prototype.attr = function (name, value) {\n        var self = this;\n        var attrs;\n        if (typeof name !== 'string') {\n          if (name !== undefined && name !== null) {\n            each$j(name, function (value, key) {\n              self.attr(key, value);\n            });\n          }\n          return self;\n        }\n        if (attrs = self.attributes) {\n          if (value !== undefined) {\n            if (value === null) {\n              if (name in attrs.map) {\n                delete attrs.map[name];\n                var i = attrs.length;\n                while (i--) {\n                  if (attrs[i].name === name) {\n                    attrs.splice(i, 1);\n                    return self;\n                  }\n                }\n              }\n              return self;\n            }\n            if (name in attrs.map) {\n              var i = attrs.length;\n              while (i--) {\n                if (attrs[i].name === name) {\n                  attrs[i].value = value;\n                  break;\n                }\n              }\n            } else {\n              attrs.push({\n                name: name,\n                value: value\n              });\n            }\n            attrs.map[name] = value;\n            return self;\n          }\n          return attrs.map[name];\n        }\n      };\n      AstNode.prototype.clone = function () {\n        var self = this;\n        var clone = new AstNode(self.name, self.type);\n        var selfAttrs;\n        if (selfAttrs = self.attributes) {\n          var cloneAttrs = [];\n          cloneAttrs.map = {};\n          for (var i = 0, l = selfAttrs.length; i < l; i++) {\n            var selfAttr = selfAttrs[i];\n            if (selfAttr.name !== 'id') {\n              cloneAttrs[cloneAttrs.length] = {\n                name: selfAttr.name,\n                value: selfAttr.value\n              };\n              cloneAttrs.map[selfAttr.name] = selfAttr.value;\n            }\n          }\n          clone.attributes = cloneAttrs;\n        }\n        clone.value = self.value;\n        clone.shortEnded = self.shortEnded;\n        return clone;\n      };\n      AstNode.prototype.wrap = function (wrapper) {\n        var self = this;\n        self.parent.insert(wrapper, self);\n        wrapper.append(self);\n        return self;\n      };\n      AstNode.prototype.unwrap = function () {\n        var self = this;\n        for (var node = self.firstChild; node;) {\n          var next = node.next;\n          self.insert(node, self, true);\n          node = next;\n        }\n        self.remove();\n      };\n      AstNode.prototype.remove = function () {\n        var self = this, parent = self.parent, next = self.next, prev = self.prev;\n        if (parent) {\n          if (parent.firstChild === self) {\n            parent.firstChild = next;\n            if (next) {\n              next.prev = null;\n            }\n          } else {\n            prev.next = next;\n          }\n          if (parent.lastChild === self) {\n            parent.lastChild = prev;\n            if (prev) {\n              prev.next = null;\n            }\n          } else {\n            next.prev = prev;\n          }\n          self.parent = self.next = self.prev = null;\n        }\n        return self;\n      };\n      AstNode.prototype.append = function (node) {\n        var self = this;\n        if (node.parent) {\n          node.remove();\n        }\n        var last = self.lastChild;\n        if (last) {\n          last.next = node;\n          node.prev = last;\n          self.lastChild = node;\n        } else {\n          self.lastChild = self.firstChild = node;\n        }\n        node.parent = self;\n        return node;\n      };\n      AstNode.prototype.insert = function (node, refNode, before) {\n        if (node.parent) {\n          node.remove();\n        }\n        var parent = refNode.parent || this;\n        if (before) {\n          if (refNode === parent.firstChild) {\n            parent.firstChild = node;\n          } else {\n            refNode.prev.next = node;\n          }\n          node.prev = refNode.prev;\n          node.next = refNode;\n          refNode.prev = node;\n        } else {\n          if (refNode === parent.lastChild) {\n            parent.lastChild = node;\n          } else {\n            refNode.next.prev = node;\n          }\n          node.next = refNode.next;\n          node.prev = refNode;\n          refNode.next = node;\n        }\n        node.parent = parent;\n        return node;\n      };\n      AstNode.prototype.getAll = function (name) {\n        var self = this;\n        var collection = [];\n        for (var node = self.firstChild; node; node = walk$1(node, self)) {\n          if (node.name === name) {\n            collection.push(node);\n          }\n        }\n        return collection;\n      };\n      AstNode.prototype.children = function () {\n        var self = this;\n        var collection = [];\n        for (var node = self.firstChild; node; node = node.next) {\n          collection.push(node);\n        }\n        return collection;\n      };\n      AstNode.prototype.empty = function () {\n        var self = this;\n        if (self.firstChild) {\n          var nodes = [];\n          for (var node = self.firstChild; node; node = walk$1(node, self)) {\n            nodes.push(node);\n          }\n          var i = nodes.length;\n          while (i--) {\n            var node = nodes[i];\n            node.parent = node.firstChild = node.lastChild = node.next = node.prev = null;\n          }\n        }\n        self.firstChild = self.lastChild = null;\n        return self;\n      };\n      AstNode.prototype.isEmpty = function (elements, whitespace, predicate) {\n        if (whitespace === void 0) {\n          whitespace = {};\n        }\n        var self = this;\n        var node = self.firstChild;\n        if (isNonEmptyElement(self)) {\n          return false;\n        }\n        if (node) {\n          do {\n            if (node.type === 1) {\n              if (node.attr('data-mce-bogus')) {\n                continue;\n              }\n              if (elements[node.name]) {\n                return false;\n              }\n              if (isNonEmptyElement(node)) {\n                return false;\n              }\n            }\n            if (node.type === 8) {\n              return false;\n            }\n            if (node.type === 3 && !isEmptyTextNode(node)) {\n              return false;\n            }\n            if (node.type === 3 && node.parent && whitespace[node.parent.name] && isWhitespaceText(node.value)) {\n              return false;\n            }\n            if (predicate && predicate(node)) {\n              return false;\n            }\n          } while (node = walk$1(node, self));\n        }\n        return true;\n      };\n      AstNode.prototype.walk = function (prev) {\n        return walk$1(this, null, prev);\n      };\n      return AstNode;\n    }();\n\n    var unescapedTextParents = Tools.makeMap('NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT', ' ');\n    var containsZwsp = function (node) {\n      return isString$1(node.nodeValue) && contains$2(node.nodeValue, ZWSP$1);\n    };\n    var getTemporaryNodeSelector = function (tempAttrs) {\n      return (tempAttrs.length === 0 ? '' : map$3(tempAttrs, function (attr) {\n        return '[' + attr + ']';\n      }).join(',') + ',') + '[data-mce-bogus=\"all\"]';\n    };\n    var getTemporaryNodes = function (tempAttrs, body) {\n      return body.querySelectorAll(getTemporaryNodeSelector(tempAttrs));\n    };\n    var createWalker = function (body, whatToShow, filter) {\n      return document.createTreeWalker(body, whatToShow, filter, false);\n    };\n    var createZwspCommentWalker = function (body) {\n      return createWalker(body, NodeFilter.SHOW_COMMENT, function (node) {\n        return containsZwsp(node) ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;\n      });\n    };\n    var createUnescapedZwspTextWalker = function (body) {\n      return createWalker(body, NodeFilter.SHOW_TEXT, function (node) {\n        if (containsZwsp(node)) {\n          var parent_1 = node.parentNode;\n          return parent_1 && has$2(unescapedTextParents, parent_1.nodeName) ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;\n        } else {\n          return NodeFilter.FILTER_SKIP;\n        }\n      });\n    };\n    var hasZwspComment = function (body) {\n      return createZwspCommentWalker(body).nextNode() !== null;\n    };\n    var hasUnescapedZwspText = function (body) {\n      return createUnescapedZwspTextWalker(body).nextNode() !== null;\n    };\n    var hasTemporaryNode = function (tempAttrs, body) {\n      return body.querySelector(getTemporaryNodeSelector(tempAttrs)) !== null;\n    };\n    var trimTemporaryNodes = function (tempAttrs, body) {\n      each$k(getTemporaryNodes(tempAttrs, body), function (elm) {\n        var element = SugarElement.fromDom(elm);\n        if (get$6(element, 'data-mce-bogus') === 'all') {\n          remove$7(element);\n        } else {\n          each$k(tempAttrs, function (attr) {\n            if (has$1(element, attr)) {\n              remove$6(element, attr);\n            }\n          });\n        }\n      });\n    };\n    var emptyAllNodeValuesInWalker = function (walker) {\n      var curr = walker.nextNode();\n      while (curr !== null) {\n        curr.nodeValue = null;\n        curr = walker.nextNode();\n      }\n    };\n    var emptyZwspComments = compose(emptyAllNodeValuesInWalker, createZwspCommentWalker);\n    var emptyUnescapedZwspTexts = compose(emptyAllNodeValuesInWalker, createUnescapedZwspTextWalker);\n    var trim$1 = function (body, tempAttrs) {\n      var conditionalTrims = [\n        {\n          condition: curry(hasTemporaryNode, tempAttrs),\n          action: curry(trimTemporaryNodes, tempAttrs)\n        },\n        {\n          condition: hasZwspComment,\n          action: emptyZwspComments\n        },\n        {\n          condition: hasUnescapedZwspText,\n          action: emptyUnescapedZwspTexts\n        }\n      ];\n      var trimmed = body;\n      var cloned = false;\n      each$k(conditionalTrims, function (_a) {\n        var condition = _a.condition, action = _a.action;\n        if (condition(trimmed)) {\n          if (!cloned) {\n            trimmed = body.cloneNode(true);\n            cloned = true;\n          }\n          action(trimmed);\n        }\n      });\n      return trimmed;\n    };\n\n    var trimEmptyContents = function (editor, html) {\n      var blockName = getForcedRootBlock(editor);\n      var emptyRegExp = new RegExp('^(<' + blockName + '[^>]*>(&nbsp;|&#160;|\\\\s|\\xA0|<br \\\\/>|)<\\\\/' + blockName + '>[\\r\\n]*|<br \\\\/>[\\r\\n]*)$');\n      return html.replace(emptyRegExp, '');\n    };\n    var setupArgs$3 = function (args, format) {\n      return __assign(__assign({}, args), {\n        format: format,\n        get: true,\n        getInner: true\n      });\n    };\n    var getContentFromBody = function (editor, args, format, body) {\n      var defaultedArgs = setupArgs$3(args, format);\n      var updatedArgs = args.no_events ? defaultedArgs : editor.fire('BeforeGetContent', defaultedArgs);\n      var content;\n      if (updatedArgs.format === 'raw') {\n        content = Tools.trim(trim$3(trim$1(body, editor.serializer.getTempAttrs()).innerHTML));\n      } else if (updatedArgs.format === 'text') {\n        content = editor.dom.isEmpty(body) ? '' : trim$3(body.innerText || body.textContent);\n      } else if (updatedArgs.format === 'tree') {\n        content = editor.serializer.serialize(body, updatedArgs);\n      } else {\n        content = trimEmptyContents(editor, editor.serializer.serialize(body, updatedArgs));\n      }\n      if (!contains$3([\n          'text',\n          'tree'\n        ], updatedArgs.format) && !isWsPreserveElement(SugarElement.fromDom(body))) {\n        updatedArgs.content = Tools.trim(content);\n      } else {\n        updatedArgs.content = content;\n      }\n      if (updatedArgs.no_events) {\n        return updatedArgs.content;\n      } else {\n        return editor.fire('GetContent', updatedArgs).content;\n      }\n    };\n    var getContentInternal = function (editor, args, format) {\n      return Optional.from(editor.getBody()).fold(constant(args.format === 'tree' ? new AstNode('body', 11) : ''), function (body) {\n        return getContentFromBody(editor, args, format, body);\n      });\n    };\n\n    var each$d = Tools.each;\n    var ElementUtils = function (dom) {\n      var compare = function (node1, node2) {\n        if (node1.nodeName !== node2.nodeName) {\n          return false;\n        }\n        var getAttribs = function (node) {\n          var attribs = {};\n          each$d(dom.getAttribs(node), function (attr) {\n            var name = attr.nodeName.toLowerCase();\n            if (name.indexOf('_') !== 0 && name !== 'style' && name.indexOf('data-') !== 0) {\n              attribs[name] = dom.getAttrib(node, name);\n            }\n          });\n          return attribs;\n        };\n        var compareObjects = function (obj1, obj2) {\n          var value, name;\n          for (name in obj1) {\n            if (has$2(obj1, name)) {\n              value = obj2[name];\n              if (typeof value === 'undefined') {\n                return false;\n              }\n              if (obj1[name] !== value) {\n                return false;\n              }\n              delete obj2[name];\n            }\n          }\n          for (name in obj2) {\n            if (has$2(obj2, name)) {\n              return false;\n            }\n          }\n          return true;\n        };\n        if (!compareObjects(getAttribs(node1), getAttribs(node2))) {\n          return false;\n        }\n        if (!compareObjects(dom.parseStyle(dom.getAttrib(node1, 'style')), dom.parseStyle(dom.getAttrib(node2, 'style')))) {\n          return false;\n        }\n        return !isBookmarkNode$1(node1) && !isBookmarkNode$1(node2);\n      };\n      return { compare: compare };\n    };\n\n    var makeMap$1 = Tools.makeMap;\n    var Writer = function (settings) {\n      var html = [];\n      settings = settings || {};\n      var indent = settings.indent;\n      var indentBefore = makeMap$1(settings.indent_before || '');\n      var indentAfter = makeMap$1(settings.indent_after || '');\n      var encode = Entities.getEncodeFunc(settings.entity_encoding || 'raw', settings.entities);\n      var htmlOutput = settings.element_format === 'html';\n      return {\n        start: function (name, attrs, empty) {\n          var i, l, attr, value;\n          if (indent && indentBefore[name] && html.length > 0) {\n            value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n          html.push('<', name);\n          if (attrs) {\n            for (i = 0, l = attrs.length; i < l; i++) {\n              attr = attrs[i];\n              html.push(' ', attr.name, '=\"', encode(attr.value, true), '\"');\n            }\n          }\n          if (!empty || htmlOutput) {\n            html[html.length] = '>';\n          } else {\n            html[html.length] = ' />';\n          }\n          if (empty && indent && indentAfter[name] && html.length > 0) {\n            value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n        },\n        end: function (name) {\n          var value;\n          html.push('</', name, '>');\n          if (indent && indentAfter[name] && html.length > 0) {\n            value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n        },\n        text: function (text, raw) {\n          if (text.length > 0) {\n            html[html.length] = raw ? text : encode(text);\n          }\n        },\n        cdata: function (text) {\n          html.push('<![CDATA[', text, ']]>');\n        },\n        comment: function (text) {\n          html.push('<!--', text, '-->');\n        },\n        pi: function (name, text) {\n          if (text) {\n            html.push('<?', name, ' ', encode(text), '?>');\n          } else {\n            html.push('<?', name, '?>');\n          }\n          if (indent) {\n            html.push('\\n');\n          }\n        },\n        doctype: function (text) {\n          html.push('<!DOCTYPE', text, '>', indent ? '\\n' : '');\n        },\n        reset: function () {\n          html.length = 0;\n        },\n        getContent: function () {\n          return html.join('').replace(/\\n$/, '');\n        }\n      };\n    };\n\n    var HtmlSerializer = function (settings, schema) {\n      if (schema === void 0) {\n        schema = Schema();\n      }\n      var writer = Writer(settings);\n      settings = settings || {};\n      settings.validate = 'validate' in settings ? settings.validate : true;\n      var serialize = function (node) {\n        var validate = settings.validate;\n        var handlers = {\n          3: function (node) {\n            writer.text(node.value, node.raw);\n          },\n          8: function (node) {\n            writer.comment(node.value);\n          },\n          7: function (node) {\n            writer.pi(node.name, node.value);\n          },\n          10: function (node) {\n            writer.doctype(node.value);\n          },\n          4: function (node) {\n            writer.cdata(node.value);\n          },\n          11: function (node) {\n            if (node = node.firstChild) {\n              do {\n                walk(node);\n              } while (node = node.next);\n            }\n          }\n        };\n        writer.reset();\n        var walk = function (node) {\n          var handler = handlers[node.type];\n          if (!handler) {\n            var name_1 = node.name;\n            var isEmpty = node.shortEnded;\n            var attrs = node.attributes;\n            if (validate && attrs && attrs.length > 1) {\n              var sortedAttrs = [];\n              sortedAttrs.map = {};\n              var elementRule = schema.getElementRule(node.name);\n              if (elementRule) {\n                for (var i = 0, l = elementRule.attributesOrder.length; i < l; i++) {\n                  var attrName = elementRule.attributesOrder[i];\n                  if (attrName in attrs.map) {\n                    var attrValue = attrs.map[attrName];\n                    sortedAttrs.map[attrName] = attrValue;\n                    sortedAttrs.push({\n                      name: attrName,\n                      value: attrValue\n                    });\n                  }\n                }\n                for (var i = 0, l = attrs.length; i < l; i++) {\n                  var attrName = attrs[i].name;\n                  if (!(attrName in sortedAttrs.map)) {\n                    var attrValue = attrs.map[attrName];\n                    sortedAttrs.map[attrName] = attrValue;\n                    sortedAttrs.push({\n                      name: attrName,\n                      value: attrValue\n                    });\n                  }\n                }\n                attrs = sortedAttrs;\n              }\n            }\n            writer.start(node.name, attrs, isEmpty);\n            if (!isEmpty) {\n              if (node = node.firstChild) {\n                do {\n                  walk(node);\n                } while (node = node.next);\n              }\n              writer.end(name_1);\n            }\n          } else {\n            handler(node);\n          }\n        };\n        if (node.type === 1 && !settings.inner) {\n          walk(node);\n        } else {\n          handlers[11](node);\n        }\n        return writer.getContent();\n      };\n      return { serialize: serialize };\n    };\n\n    var nonInheritableStyles = new Set();\n    (function () {\n      var nonInheritableStylesArr = [\n        'margin',\n        'margin-left',\n        'margin-right',\n        'margin-top',\n        'margin-bottom',\n        'padding',\n        'padding-left',\n        'padding-right',\n        'padding-top',\n        'padding-bottom',\n        'border',\n        'border-width',\n        'border-style',\n        'border-color',\n        'background',\n        'background-attachment',\n        'background-clip',\n        'background-color',\n        'background-image',\n        'background-origin',\n        'background-position',\n        'background-repeat',\n        'background-size',\n        'float',\n        'position',\n        'left',\n        'right',\n        'top',\n        'bottom',\n        'z-index',\n        'display',\n        'transform',\n        'width',\n        'max-width',\n        'min-width',\n        'height',\n        'max-height',\n        'min-height',\n        'overflow',\n        'overflow-x',\n        'overflow-y',\n        'text-overflow',\n        'vertical-align',\n        'transition',\n        'transition-delay',\n        'transition-duration',\n        'transition-property',\n        'transition-timing-function'\n      ];\n      each$k(nonInheritableStylesArr, function (style) {\n        nonInheritableStyles.add(style);\n      });\n    }());\n    var shorthandStyleProps = [\n      'font',\n      'text-decoration',\n      'text-emphasis'\n    ];\n    var getStyleProps = function (dom, node) {\n      return keys(dom.parseStyle(dom.getAttrib(node, 'style')));\n    };\n    var isNonInheritableStyle = function (style) {\n      return nonInheritableStyles.has(style);\n    };\n    var hasInheritableStyles = function (dom, node) {\n      return forall(getStyleProps(dom, node), function (style) {\n        return !isNonInheritableStyle(style);\n      });\n    };\n    var getLonghandStyleProps = function (styles) {\n      return filter$4(styles, function (style) {\n        return exists(shorthandStyleProps, function (prop) {\n          return startsWith(style, prop);\n        });\n      });\n    };\n    var hasStyleConflict = function (dom, node, parentNode) {\n      var nodeStyleProps = getStyleProps(dom, node);\n      var parentNodeStyleProps = getStyleProps(dom, parentNode);\n      var valueMismatch = function (prop) {\n        var nodeValue = dom.getStyle(node, prop);\n        var parentValue = dom.getStyle(parentNode, prop);\n        return isNotEmpty(nodeValue) && isNotEmpty(parentValue) && nodeValue !== parentValue;\n      };\n      return exists(nodeStyleProps, function (nodeStyleProp) {\n        var propExists = function (props) {\n          return exists(props, function (prop) {\n            return prop === nodeStyleProp;\n          });\n        };\n        if (!propExists(parentNodeStyleProps) && propExists(shorthandStyleProps)) {\n          var longhandProps = getLonghandStyleProps(parentNodeStyleProps);\n          return exists(longhandProps, valueMismatch);\n        } else {\n          return valueMismatch(nodeStyleProp);\n        }\n      });\n    };\n\n    var isChar = function (forward, predicate, pos) {\n      return Optional.from(pos.container()).filter(isText$7).exists(function (text) {\n        var delta = forward ? 0 : -1;\n        return predicate(text.data.charAt(pos.offset() + delta));\n      });\n    };\n    var isBeforeSpace = curry(isChar, true, isWhiteSpace);\n    var isAfterSpace = curry(isChar, false, isWhiteSpace);\n    var isEmptyText = function (pos) {\n      var container = pos.container();\n      return isText$7(container) && (container.data.length === 0 || isZwsp(container.data) && BookmarkManager.isBookmarkNode(container.parentNode));\n    };\n    var matchesElementPosition = function (before, predicate) {\n      return function (pos) {\n        return Optional.from(getChildNodeAtRelativeOffset(before ? 0 : -1, pos)).filter(predicate).isSome();\n      };\n    };\n    var isImageBlock = function (node) {\n      return isImg(node) && get$5(SugarElement.fromDom(node), 'display') === 'block';\n    };\n    var isCefNode = function (node) {\n      return isContentEditableFalse$b(node) && !isBogusAll$1(node);\n    };\n    var isBeforeImageBlock = matchesElementPosition(true, isImageBlock);\n    var isAfterImageBlock = matchesElementPosition(false, isImageBlock);\n    var isBeforeMedia = matchesElementPosition(true, isMedia$2);\n    var isAfterMedia = matchesElementPosition(false, isMedia$2);\n    var isBeforeTable = matchesElementPosition(true, isTable$3);\n    var isAfterTable = matchesElementPosition(false, isTable$3);\n    var isBeforeContentEditableFalse = matchesElementPosition(true, isCefNode);\n    var isAfterContentEditableFalse = matchesElementPosition(false, isCefNode);\n\n    var getLastChildren = function (elm) {\n      var children = [];\n      var rawNode = elm.dom;\n      while (rawNode) {\n        children.push(SugarElement.fromDom(rawNode));\n        rawNode = rawNode.lastChild;\n      }\n      return children;\n    };\n    var removeTrailingBr = function (elm) {\n      var allBrs = descendants(elm, 'br');\n      var brs = filter$4(getLastChildren(elm).slice(-1), isBr$4);\n      if (allBrs.length === brs.length) {\n        each$k(brs, remove$7);\n      }\n    };\n    var fillWithPaddingBr = function (elm) {\n      empty(elm);\n      append$1(elm, SugarElement.fromHtml('<br data-mce-bogus=\"1\">'));\n    };\n    var trimBlockTrailingBr = function (elm) {\n      lastChild(elm).each(function (lastChild) {\n        prevSibling(lastChild).each(function (lastChildPrevSibling) {\n          if (isBlock$2(elm) && isBr$4(lastChild) && isBlock$2(lastChildPrevSibling)) {\n            remove$7(lastChild);\n          }\n        });\n      });\n    };\n\n    var dropLast = function (xs) {\n      return xs.slice(0, -1);\n    };\n    var parentsUntil = function (start, root, predicate) {\n      if (contains$1(root, start)) {\n        return dropLast(parents$1(start, function (elm) {\n          return predicate(elm) || eq(elm, root);\n        }));\n      } else {\n        return [];\n      }\n    };\n    var parents = function (start, root) {\n      return parentsUntil(start, root, never);\n    };\n    var parentsAndSelf = function (start, root) {\n      return [start].concat(parents(start, root));\n    };\n\n    var navigateIgnoreEmptyTextNodes = function (forward, root, from) {\n      return navigateIgnore(forward, root, from, isEmptyText);\n    };\n    var getClosestBlock$1 = function (root, pos) {\n      return find$3(parentsAndSelf(SugarElement.fromDom(pos.container()), root), isBlock$2);\n    };\n    var isAtBeforeAfterBlockBoundary = function (forward, root, pos) {\n      return navigateIgnoreEmptyTextNodes(forward, root.dom, pos).forall(function (newPos) {\n        return getClosestBlock$1(root, pos).fold(function () {\n          return isInSameBlock(newPos, pos, root.dom) === false;\n        }, function (fromBlock) {\n          return isInSameBlock(newPos, pos, root.dom) === false && contains$1(fromBlock, SugarElement.fromDom(newPos.container()));\n        });\n      });\n    };\n    var isAtBlockBoundary = function (forward, root, pos) {\n      return getClosestBlock$1(root, pos).fold(function () {\n        return navigateIgnoreEmptyTextNodes(forward, root.dom, pos).forall(function (newPos) {\n          return isInSameBlock(newPos, pos, root.dom) === false;\n        });\n      }, function (parent) {\n        return navigateIgnoreEmptyTextNodes(forward, parent.dom, pos).isNone();\n      });\n    };\n    var isAtStartOfBlock = curry(isAtBlockBoundary, false);\n    var isAtEndOfBlock = curry(isAtBlockBoundary, true);\n    var isBeforeBlock = curry(isAtBeforeAfterBlockBoundary, false);\n    var isAfterBlock = curry(isAtBeforeAfterBlockBoundary, true);\n\n    var isBr = function (pos) {\n      return getElementFromPosition(pos).exists(isBr$4);\n    };\n    var findBr = function (forward, root, pos) {\n      var parentBlocks = filter$4(parentsAndSelf(SugarElement.fromDom(pos.container()), root), isBlock$2);\n      var scope = head(parentBlocks).getOr(root);\n      return fromPosition(forward, scope.dom, pos).filter(isBr);\n    };\n    var isBeforeBr$1 = function (root, pos) {\n      return getElementFromPosition(pos).exists(isBr$4) || findBr(true, root, pos).isSome();\n    };\n    var isAfterBr = function (root, pos) {\n      return getElementFromPrevPosition(pos).exists(isBr$4) || findBr(false, root, pos).isSome();\n    };\n    var findPreviousBr = curry(findBr, false);\n    var findNextBr = curry(findBr, true);\n\n    var isInMiddleOfText = function (pos) {\n      return CaretPosition.isTextPosition(pos) && !pos.isAtStart() && !pos.isAtEnd();\n    };\n    var getClosestBlock = function (root, pos) {\n      var parentBlocks = filter$4(parentsAndSelf(SugarElement.fromDom(pos.container()), root), isBlock$2);\n      return head(parentBlocks).getOr(root);\n    };\n    var hasSpaceBefore = function (root, pos) {\n      if (isInMiddleOfText(pos)) {\n        return isAfterSpace(pos);\n      } else {\n        return isAfterSpace(pos) || prevPosition(getClosestBlock(root, pos).dom, pos).exists(isAfterSpace);\n      }\n    };\n    var hasSpaceAfter = function (root, pos) {\n      if (isInMiddleOfText(pos)) {\n        return isBeforeSpace(pos);\n      } else {\n        return isBeforeSpace(pos) || nextPosition(getClosestBlock(root, pos).dom, pos).exists(isBeforeSpace);\n      }\n    };\n    var isPreValue = function (value) {\n      return contains$3([\n        'pre',\n        'pre-wrap'\n      ], value);\n    };\n    var isInPre = function (pos) {\n      return getElementFromPosition(pos).bind(function (elm) {\n        return closest$3(elm, isElement$6);\n      }).exists(function (elm) {\n        return isPreValue(get$5(elm, 'white-space'));\n      });\n    };\n    var isAtBeginningOfBody = function (root, pos) {\n      return prevPosition(root.dom, pos).isNone();\n    };\n    var isAtEndOfBody = function (root, pos) {\n      return nextPosition(root.dom, pos).isNone();\n    };\n    var isAtLineBoundary = function (root, pos) {\n      return isAtBeginningOfBody(root, pos) || isAtEndOfBody(root, pos) || isAtStartOfBlock(root, pos) || isAtEndOfBlock(root, pos) || isAfterBr(root, pos) || isBeforeBr$1(root, pos);\n    };\n    var needsToHaveNbsp = function (root, pos) {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtLineBoundary(root, pos) || hasSpaceBefore(root, pos) || hasSpaceAfter(root, pos);\n      }\n    };\n    var needsToBeNbspLeft = function (root, pos) {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtStartOfBlock(root, pos) || isBeforeBlock(root, pos) || isAfterBr(root, pos) || hasSpaceBefore(root, pos);\n      }\n    };\n    var leanRight = function (pos) {\n      var container = pos.container();\n      var offset = pos.offset();\n      if (isText$7(container) && offset < container.data.length) {\n        return CaretPosition(container, offset + 1);\n      } else {\n        return pos;\n      }\n    };\n    var needsToBeNbspRight = function (root, pos) {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtEndOfBlock(root, pos) || isAfterBlock(root, pos) || isBeforeBr$1(root, pos) || hasSpaceAfter(root, pos);\n      }\n    };\n    var needsToBeNbsp = function (root, pos) {\n      return needsToBeNbspLeft(root, pos) || needsToBeNbspRight(root, leanRight(pos));\n    };\n    var isNbspAt = function (text, offset) {\n      return isNbsp(text.charAt(offset));\n    };\n    var hasNbsp = function (pos) {\n      var container = pos.container();\n      return isText$7(container) && contains$2(container.data, nbsp);\n    };\n    var normalizeNbspMiddle = function (text) {\n      var chars = text.split('');\n      return map$3(chars, function (chr, i) {\n        if (isNbsp(chr) && i > 0 && i < chars.length - 1 && isContent(chars[i - 1]) && isContent(chars[i + 1])) {\n          return ' ';\n        } else {\n          return chr;\n        }\n      }).join('');\n    };\n    var normalizeNbspAtStart = function (root, node) {\n      var text = node.data;\n      var firstPos = CaretPosition(node, 0);\n      if (isNbspAt(text, 0) && !needsToBeNbsp(root, firstPos)) {\n        node.data = ' ' + text.slice(1);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var normalizeNbspInMiddleOfTextNode = function (node) {\n      var text = node.data;\n      var newText = normalizeNbspMiddle(text);\n      if (newText !== text) {\n        node.data = newText;\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var normalizeNbspAtEnd = function (root, node) {\n      var text = node.data;\n      var lastPos = CaretPosition(node, text.length - 1);\n      if (isNbspAt(text, text.length - 1) && !needsToBeNbsp(root, lastPos)) {\n        node.data = text.slice(0, -1) + ' ';\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var normalizeNbsps = function (root, pos) {\n      return Optional.some(pos).filter(hasNbsp).bind(function (pos) {\n        var container = pos.container();\n        var normalized = normalizeNbspAtStart(root, container) || normalizeNbspInMiddleOfTextNode(container) || normalizeNbspAtEnd(root, container);\n        return normalized ? Optional.some(pos) : Optional.none();\n      });\n    };\n    var normalizeNbspsInEditor = function (editor) {\n      var root = SugarElement.fromDom(editor.getBody());\n      if (editor.selection.isCollapsed()) {\n        normalizeNbsps(root, CaretPosition.fromRangeStart(editor.selection.getRng())).each(function (pos) {\n          editor.selection.setRng(pos.toRange());\n        });\n      }\n    };\n\n    var normalizeContent = function (content, isStartOfContent, isEndOfContent) {\n      var result = foldl(content, function (acc, c) {\n        if (isWhiteSpace(c) || isNbsp(c)) {\n          if (acc.previousCharIsSpace || acc.str === '' && isStartOfContent || acc.str.length === content.length - 1 && isEndOfContent) {\n            return {\n              previousCharIsSpace: false,\n              str: acc.str + nbsp\n            };\n          } else {\n            return {\n              previousCharIsSpace: true,\n              str: acc.str + ' '\n            };\n          }\n        } else {\n          return {\n            previousCharIsSpace: false,\n            str: acc.str + c\n          };\n        }\n      }, {\n        previousCharIsSpace: false,\n        str: ''\n      });\n      return result.str;\n    };\n    var normalize$1 = function (node, offset, count) {\n      if (count === 0) {\n        return;\n      }\n      var elm = SugarElement.fromDom(node);\n      var root = ancestor$3(elm, isBlock$2).getOr(elm);\n      var whitespace = node.data.slice(offset, offset + count);\n      var isEndOfContent = offset + count >= node.data.length && needsToBeNbspRight(root, CaretPosition(node, node.data.length));\n      var isStartOfContent = offset === 0 && needsToBeNbspLeft(root, CaretPosition(node, 0));\n      node.replaceData(offset, count, normalizeContent(whitespace, isStartOfContent, isEndOfContent));\n    };\n    var normalizeWhitespaceAfter = function (node, offset) {\n      var content = node.data.slice(offset);\n      var whitespaceCount = content.length - lTrim(content).length;\n      normalize$1(node, offset, whitespaceCount);\n    };\n    var normalizeWhitespaceBefore = function (node, offset) {\n      var content = node.data.slice(0, offset);\n      var whitespaceCount = content.length - rTrim(content).length;\n      normalize$1(node, offset - whitespaceCount, whitespaceCount);\n    };\n    var mergeTextNodes = function (prevNode, nextNode, normalizeWhitespace, mergeToPrev) {\n      if (mergeToPrev === void 0) {\n        mergeToPrev = true;\n      }\n      var whitespaceOffset = rTrim(prevNode.data).length;\n      var newNode = mergeToPrev ? prevNode : nextNode;\n      var removeNode = mergeToPrev ? nextNode : prevNode;\n      if (mergeToPrev) {\n        newNode.appendData(removeNode.data);\n      } else {\n        newNode.insertData(0, removeNode.data);\n      }\n      remove$7(SugarElement.fromDom(removeNode));\n      if (normalizeWhitespace) {\n        normalizeWhitespaceAfter(newNode, whitespaceOffset);\n      }\n      return newNode;\n    };\n\n    var needsReposition = function (pos, elm) {\n      var container = pos.container();\n      var offset = pos.offset();\n      return CaretPosition.isTextPosition(pos) === false && container === elm.parentNode && offset > CaretPosition.before(elm).offset();\n    };\n    var reposition = function (elm, pos) {\n      return needsReposition(pos, elm) ? CaretPosition(pos.container(), pos.offset() - 1) : pos;\n    };\n    var beforeOrStartOf = function (node) {\n      return isText$7(node) ? CaretPosition(node, 0) : CaretPosition.before(node);\n    };\n    var afterOrEndOf = function (node) {\n      return isText$7(node) ? CaretPosition(node, node.data.length) : CaretPosition.after(node);\n    };\n    var getPreviousSiblingCaretPosition = function (elm) {\n      if (isCaretCandidate$3(elm.previousSibling)) {\n        return Optional.some(afterOrEndOf(elm.previousSibling));\n      } else {\n        return elm.previousSibling ? lastPositionIn(elm.previousSibling) : Optional.none();\n      }\n    };\n    var getNextSiblingCaretPosition = function (elm) {\n      if (isCaretCandidate$3(elm.nextSibling)) {\n        return Optional.some(beforeOrStartOf(elm.nextSibling));\n      } else {\n        return elm.nextSibling ? firstPositionIn(elm.nextSibling) : Optional.none();\n      }\n    };\n    var findCaretPositionBackwardsFromElm = function (rootElement, elm) {\n      var startPosition = CaretPosition.before(elm.previousSibling ? elm.previousSibling : elm.parentNode);\n      return prevPosition(rootElement, startPosition).fold(function () {\n        return nextPosition(rootElement, CaretPosition.after(elm));\n      }, Optional.some);\n    };\n    var findCaretPositionForwardsFromElm = function (rootElement, elm) {\n      return nextPosition(rootElement, CaretPosition.after(elm)).fold(function () {\n        return prevPosition(rootElement, CaretPosition.before(elm));\n      }, Optional.some);\n    };\n    var findCaretPositionBackwards = function (rootElement, elm) {\n      return getPreviousSiblingCaretPosition(elm).orThunk(function () {\n        return getNextSiblingCaretPosition(elm);\n      }).orThunk(function () {\n        return findCaretPositionBackwardsFromElm(rootElement, elm);\n      });\n    };\n    var findCaretPositionForward = function (rootElement, elm) {\n      return getNextSiblingCaretPosition(elm).orThunk(function () {\n        return getPreviousSiblingCaretPosition(elm);\n      }).orThunk(function () {\n        return findCaretPositionForwardsFromElm(rootElement, elm);\n      });\n    };\n    var findCaretPosition = function (forward, rootElement, elm) {\n      return forward ? findCaretPositionForward(rootElement, elm) : findCaretPositionBackwards(rootElement, elm);\n    };\n    var findCaretPosOutsideElmAfterDelete = function (forward, rootElement, elm) {\n      return findCaretPosition(forward, rootElement, elm).map(curry(reposition, elm));\n    };\n    var setSelection$1 = function (editor, forward, pos) {\n      pos.fold(function () {\n        editor.focus();\n      }, function (pos) {\n        editor.selection.setRng(pos.toRange(), forward);\n      });\n    };\n    var eqRawNode = function (rawNode) {\n      return function (elm) {\n        return elm.dom === rawNode;\n      };\n    };\n    var isBlock = function (editor, elm) {\n      return elm && has$2(editor.schema.getBlockElements(), name(elm));\n    };\n    var paddEmptyBlock = function (elm) {\n      if (isEmpty$2(elm)) {\n        var br = SugarElement.fromHtml('<br data-mce-bogus=\"1\">');\n        empty(elm);\n        append$1(elm, br);\n        return Optional.some(CaretPosition.before(br.dom));\n      } else {\n        return Optional.none();\n      }\n    };\n    var deleteNormalized = function (elm, afterDeletePosOpt, normalizeWhitespace) {\n      var prevTextOpt = prevSibling(elm).filter(isText$8);\n      var nextTextOpt = nextSibling(elm).filter(isText$8);\n      remove$7(elm);\n      return lift3(prevTextOpt, nextTextOpt, afterDeletePosOpt, function (prev, next, pos) {\n        var prevNode = prev.dom, nextNode = next.dom;\n        var offset = prevNode.data.length;\n        mergeTextNodes(prevNode, nextNode, normalizeWhitespace);\n        return pos.container() === nextNode ? CaretPosition(prevNode, offset) : pos;\n      }).orThunk(function () {\n        if (normalizeWhitespace) {\n          prevTextOpt.each(function (elm) {\n            return normalizeWhitespaceBefore(elm.dom, elm.dom.length);\n          });\n          nextTextOpt.each(function (elm) {\n            return normalizeWhitespaceAfter(elm.dom, 0);\n          });\n        }\n        return afterDeletePosOpt;\n      });\n    };\n    var isInlineElement = function (editor, element) {\n      return has$2(editor.schema.getTextInlineElements(), name(element));\n    };\n    var deleteElement$2 = function (editor, forward, elm, moveCaret) {\n      if (moveCaret === void 0) {\n        moveCaret = true;\n      }\n      var afterDeletePos = findCaretPosOutsideElmAfterDelete(forward, editor.getBody(), elm.dom);\n      var parentBlock = ancestor$3(elm, curry(isBlock, editor), eqRawNode(editor.getBody()));\n      var normalizedAfterDeletePos = deleteNormalized(elm, afterDeletePos, isInlineElement(editor, elm));\n      if (editor.dom.isEmpty(editor.getBody())) {\n        editor.setContent('');\n        editor.selection.setCursorLocation();\n      } else {\n        parentBlock.bind(paddEmptyBlock).fold(function () {\n          if (moveCaret) {\n            setSelection$1(editor, forward, normalizedAfterDeletePos);\n          }\n        }, function (paddPos) {\n          if (moveCaret) {\n            setSelection$1(editor, forward, Optional.some(paddPos));\n          }\n        });\n      }\n    };\n\n    var isRootFromElement = function (root) {\n      return function (cur) {\n        return eq(root, cur);\n      };\n    };\n    var getTableCells = function (table) {\n      return descendants(table, 'td,th');\n    };\n    var getTableDetailsFromRange = function (rng, isRoot) {\n      var getTable = function (node) {\n        return getClosestTable(SugarElement.fromDom(node), isRoot);\n      };\n      var startTable = getTable(rng.startContainer);\n      var endTable = getTable(rng.endContainer);\n      var isStartInTable = startTable.isSome();\n      var isEndInTable = endTable.isSome();\n      var isSameTable = lift2(startTable, endTable, eq).getOr(false);\n      var isMultiTable = !isSameTable && isStartInTable && isEndInTable;\n      return {\n        startTable: startTable,\n        endTable: endTable,\n        isStartInTable: isStartInTable,\n        isEndInTable: isEndInTable,\n        isSameTable: isSameTable,\n        isMultiTable: isMultiTable\n      };\n    };\n\n    var tableCellRng = function (start, end) {\n      return {\n        start: start,\n        end: end\n      };\n    };\n    var tableSelection = function (rng, table, cells) {\n      return {\n        rng: rng,\n        table: table,\n        cells: cells\n      };\n    };\n    var deleteAction = Adt.generate([\n      {\n        singleCellTable: [\n          'rng',\n          'cell'\n        ]\n      },\n      { fullTable: ['table'] },\n      {\n        partialTable: [\n          'cells',\n          'outsideDetails'\n        ]\n      },\n      {\n        multiTable: [\n          'startTableCells',\n          'endTableCells',\n          'betweenRng'\n        ]\n      }\n    ]);\n    var getClosestCell$1 = function (container, isRoot) {\n      return closest$2(SugarElement.fromDom(container), 'td,th', isRoot);\n    };\n    var isExpandedCellRng = function (cellRng) {\n      return !eq(cellRng.start, cellRng.end);\n    };\n    var getTableFromCellRng = function (cellRng, isRoot) {\n      return getClosestTable(cellRng.start, isRoot).bind(function (startParentTable) {\n        return getClosestTable(cellRng.end, isRoot).bind(function (endParentTable) {\n          return someIf(eq(startParentTable, endParentTable), startParentTable);\n        });\n      });\n    };\n    var isSingleCellTable = function (cellRng, isRoot) {\n      return !isExpandedCellRng(cellRng) && getTableFromCellRng(cellRng, isRoot).exists(function (table) {\n        var rows = table.dom.rows;\n        return rows.length === 1 && rows[0].cells.length === 1;\n      });\n    };\n    var getCellRng = function (rng, isRoot) {\n      var startCell = getClosestCell$1(rng.startContainer, isRoot);\n      var endCell = getClosestCell$1(rng.endContainer, isRoot);\n      return lift2(startCell, endCell, tableCellRng);\n    };\n    var getCellRangeFromStartTable = function (isRoot) {\n      return function (startCell) {\n        return getClosestTable(startCell, isRoot).bind(function (table) {\n          return last$2(getTableCells(table)).map(function (endCell) {\n            return tableCellRng(startCell, endCell);\n          });\n        });\n      };\n    };\n    var getCellRangeFromEndTable = function (isRoot) {\n      return function (endCell) {\n        return getClosestTable(endCell, isRoot).bind(function (table) {\n          return head(getTableCells(table)).map(function (startCell) {\n            return tableCellRng(startCell, endCell);\n          });\n        });\n      };\n    };\n    var getTableSelectionFromCellRng = function (isRoot) {\n      return function (cellRng) {\n        return getTableFromCellRng(cellRng, isRoot).map(function (table) {\n          return tableSelection(cellRng, table, getTableCells(table));\n        });\n      };\n    };\n    var getTableSelections = function (cellRng, selectionDetails, rng, isRoot) {\n      if (rng.collapsed || !cellRng.forall(isExpandedCellRng)) {\n        return Optional.none();\n      } else if (selectionDetails.isSameTable) {\n        var sameTableSelection = cellRng.bind(getTableSelectionFromCellRng(isRoot));\n        return Optional.some({\n          start: sameTableSelection,\n          end: sameTableSelection\n        });\n      } else {\n        var startCell = getClosestCell$1(rng.startContainer, isRoot);\n        var endCell = getClosestCell$1(rng.endContainer, isRoot);\n        var startTableSelection = startCell.bind(getCellRangeFromStartTable(isRoot)).bind(getTableSelectionFromCellRng(isRoot));\n        var endTableSelection = endCell.bind(getCellRangeFromEndTable(isRoot)).bind(getTableSelectionFromCellRng(isRoot));\n        return Optional.some({\n          start: startTableSelection,\n          end: endTableSelection\n        });\n      }\n    };\n    var getCellIndex = function (cells, cell) {\n      return findIndex$2(cells, function (x) {\n        return eq(x, cell);\n      });\n    };\n    var getSelectedCells = function (tableSelection) {\n      return lift2(getCellIndex(tableSelection.cells, tableSelection.rng.start), getCellIndex(tableSelection.cells, tableSelection.rng.end), function (startIndex, endIndex) {\n        return tableSelection.cells.slice(startIndex, endIndex + 1);\n      });\n    };\n    var isSingleCellTableContentSelected = function (optCellRng, rng, isRoot) {\n      return optCellRng.exists(function (cellRng) {\n        return isSingleCellTable(cellRng, isRoot) && hasAllContentsSelected(cellRng.start, rng);\n      });\n    };\n    var unselectCells = function (rng, selectionDetails) {\n      var startTable = selectionDetails.startTable, endTable = selectionDetails.endTable;\n      var otherContentRng = rng.cloneRange();\n      startTable.each(function (table) {\n        return otherContentRng.setStartAfter(table.dom);\n      });\n      endTable.each(function (table) {\n        return otherContentRng.setEndBefore(table.dom);\n      });\n      return otherContentRng;\n    };\n    var handleSingleTable = function (cellRng, selectionDetails, rng, isRoot) {\n      return getTableSelections(cellRng, selectionDetails, rng, isRoot).bind(function (_a) {\n        var start = _a.start, end = _a.end;\n        return start.or(end);\n      }).bind(function (tableSelection) {\n        var isSameTable = selectionDetails.isSameTable;\n        var selectedCells = getSelectedCells(tableSelection).getOr([]);\n        if (isSameTable && tableSelection.cells.length === selectedCells.length) {\n          return Optional.some(deleteAction.fullTable(tableSelection.table));\n        } else if (selectedCells.length > 0) {\n          if (isSameTable) {\n            return Optional.some(deleteAction.partialTable(selectedCells, Optional.none()));\n          } else {\n            var otherContentRng = unselectCells(rng, selectionDetails);\n            return Optional.some(deleteAction.partialTable(selectedCells, Optional.some(__assign(__assign({}, selectionDetails), { rng: otherContentRng }))));\n          }\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var handleMultiTable = function (cellRng, selectionDetails, rng, isRoot) {\n      return getTableSelections(cellRng, selectionDetails, rng, isRoot).bind(function (_a) {\n        var start = _a.start, end = _a.end;\n        var startTableSelectedCells = start.bind(getSelectedCells).getOr([]);\n        var endTableSelectedCells = end.bind(getSelectedCells).getOr([]);\n        if (startTableSelectedCells.length > 0 && endTableSelectedCells.length > 0) {\n          var otherContentRng = unselectCells(rng, selectionDetails);\n          return Optional.some(deleteAction.multiTable(startTableSelectedCells, endTableSelectedCells, otherContentRng));\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var getActionFromRange = function (root, rng) {\n      var isRoot = isRootFromElement(root);\n      var optCellRng = getCellRng(rng, isRoot);\n      var selectionDetails = getTableDetailsFromRange(rng, isRoot);\n      if (isSingleCellTableContentSelected(optCellRng, rng, isRoot)) {\n        return optCellRng.map(function (cellRng) {\n          return deleteAction.singleCellTable(rng, cellRng.start);\n        });\n      } else if (selectionDetails.isMultiTable) {\n        return handleMultiTable(optCellRng, selectionDetails, rng, isRoot);\n      } else {\n        return handleSingleTable(optCellRng, selectionDetails, rng, isRoot);\n      }\n    };\n\n    var freefallRtl = function (root) {\n      var child = isComment$1(root) ? prevSibling(root) : lastChild(root);\n      return child.bind(freefallRtl).orThunk(function () {\n        return Optional.some(root);\n      });\n    };\n    var cleanCells = function (cells) {\n      return each$k(cells, function (cell) {\n        remove$6(cell, 'contenteditable');\n        fillWithPaddingBr(cell);\n      });\n    };\n    var getOutsideBlock = function (editor, container) {\n      return Optional.from(editor.dom.getParent(container, editor.dom.isBlock)).map(SugarElement.fromDom);\n    };\n    var handleEmptyBlock = function (editor, startInTable, emptyBlock) {\n      emptyBlock.each(function (block) {\n        if (startInTable) {\n          remove$7(block);\n        } else {\n          fillWithPaddingBr(block);\n          editor.selection.setCursorLocation(block.dom, 0);\n        }\n      });\n    };\n    var deleteContentInsideCell = function (editor, cell, rng, isFirstCellInSelection) {\n      var insideTableRng = rng.cloneRange();\n      if (isFirstCellInSelection) {\n        insideTableRng.setStart(rng.startContainer, rng.startOffset);\n        insideTableRng.setEndAfter(cell.dom.lastChild);\n      } else {\n        insideTableRng.setStartBefore(cell.dom.firstChild);\n        insideTableRng.setEnd(rng.endContainer, rng.endOffset);\n      }\n      deleteCellContents(editor, insideTableRng, cell, false);\n    };\n    var collapseAndRestoreCellSelection = function (editor) {\n      var selectedCells = getCellsFromEditor(editor);\n      var selectedNode = SugarElement.fromDom(editor.selection.getNode());\n      if (isTableCell$5(selectedNode.dom) && isEmpty$2(selectedNode)) {\n        editor.selection.setCursorLocation(selectedNode.dom, 0);\n      } else {\n        editor.selection.collapse(true);\n      }\n      if (selectedCells.length > 1 && exists(selectedCells, function (cell) {\n          return eq(cell, selectedNode);\n        })) {\n        set$1(selectedNode, 'data-mce-selected', '1');\n      }\n    };\n    var emptySingleTableCells = function (editor, cells, outsideDetails) {\n      var editorRng = editor.selection.getRng();\n      var cellsToClean = outsideDetails.bind(function (_a) {\n        var rng = _a.rng, isStartInTable = _a.isStartInTable;\n        var outsideBlock = getOutsideBlock(editor, isStartInTable ? rng.endContainer : rng.startContainer);\n        rng.deleteContents();\n        handleEmptyBlock(editor, isStartInTable, outsideBlock.filter(isEmpty$2));\n        var endPointCell = isStartInTable ? cells[0] : cells[cells.length - 1];\n        deleteContentInsideCell(editor, endPointCell, editorRng, isStartInTable);\n        if (!isEmpty$2(endPointCell)) {\n          return Optional.some(isStartInTable ? cells.slice(1) : cells.slice(0, -1));\n        } else {\n          return Optional.none();\n        }\n      }).getOr(cells);\n      cleanCells(cellsToClean);\n      collapseAndRestoreCellSelection(editor);\n      return true;\n    };\n    var emptyMultiTableCells = function (editor, startTableCells, endTableCells, betweenRng) {\n      var rng = editor.selection.getRng();\n      var startCell = startTableCells[0];\n      var endCell = endTableCells[endTableCells.length - 1];\n      deleteContentInsideCell(editor, startCell, rng, true);\n      deleteContentInsideCell(editor, endCell, rng, false);\n      var startTableCellsToClean = isEmpty$2(startCell) ? startTableCells : startTableCells.slice(1);\n      var endTableCellsToClean = isEmpty$2(endCell) ? endTableCells : endTableCells.slice(0, -1);\n      cleanCells(startTableCellsToClean.concat(endTableCellsToClean));\n      betweenRng.deleteContents();\n      collapseAndRestoreCellSelection(editor);\n      return true;\n    };\n    var deleteCellContents = function (editor, rng, cell, moveSelection) {\n      if (moveSelection === void 0) {\n        moveSelection = true;\n      }\n      rng.deleteContents();\n      var lastNode = freefallRtl(cell).getOr(cell);\n      var lastBlock = SugarElement.fromDom(editor.dom.getParent(lastNode.dom, editor.dom.isBlock));\n      if (isEmpty$2(lastBlock)) {\n        fillWithPaddingBr(lastBlock);\n        if (moveSelection) {\n          editor.selection.setCursorLocation(lastBlock.dom, 0);\n        }\n      }\n      if (!eq(cell, lastBlock)) {\n        var additionalCleanupNodes = is$1(parent(lastBlock), cell) ? [] : siblings(lastBlock);\n        each$k(additionalCleanupNodes.concat(children(cell)), function (node) {\n          if (!eq(node, lastBlock) && !contains$1(node, lastBlock) && isEmpty$2(node)) {\n            remove$7(node);\n          }\n        });\n      }\n      return true;\n    };\n    var deleteTableElement = function (editor, table) {\n      deleteElement$2(editor, false, table);\n      return true;\n    };\n    var deleteCellRange = function (editor, rootElm, rng) {\n      return getActionFromRange(rootElm, rng).map(function (action) {\n        return action.fold(curry(deleteCellContents, editor), curry(deleteTableElement, editor), curry(emptySingleTableCells, editor), curry(emptyMultiTableCells, editor));\n      });\n    };\n    var deleteCaptionRange = function (editor, caption) {\n      return emptyElement(editor, caption);\n    };\n    var deleteTableRange = function (editor, rootElm, rng, startElm) {\n      return getParentCaption(rootElm, startElm).fold(function () {\n        return deleteCellRange(editor, rootElm, rng);\n      }, function (caption) {\n        return deleteCaptionRange(editor, caption);\n      }).getOr(false);\n    };\n    var deleteRange$2 = function (editor, startElm, selectedCells) {\n      var rootNode = SugarElement.fromDom(editor.getBody());\n      var rng = editor.selection.getRng();\n      return selectedCells.length !== 0 ? emptySingleTableCells(editor, selectedCells, Optional.none()) : deleteTableRange(editor, rootNode, rng, startElm);\n    };\n    var getParentCell = function (rootElm, elm) {\n      return find$3(parentsAndSelf(elm, rootElm), isTableCell$4);\n    };\n    var getParentCaption = function (rootElm, elm) {\n      return find$3(parentsAndSelf(elm, rootElm), isTag('caption'));\n    };\n    var deleteBetweenCells = function (editor, rootElm, forward, fromCell, from) {\n      return navigate(forward, editor.getBody(), from).bind(function (to) {\n        return getParentCell(rootElm, SugarElement.fromDom(to.getNode())).map(function (toCell) {\n          return eq(toCell, fromCell) === false;\n        });\n      });\n    };\n    var emptyElement = function (editor, elm) {\n      fillWithPaddingBr(elm);\n      editor.selection.setCursorLocation(elm.dom, 0);\n      return Optional.some(true);\n    };\n    var isDeleteOfLastCharPos = function (fromCaption, forward, from, to) {\n      return firstPositionIn(fromCaption.dom).bind(function (first) {\n        return lastPositionIn(fromCaption.dom).map(function (last) {\n          return forward ? from.isEqual(first) && to.isEqual(last) : from.isEqual(last) && to.isEqual(first);\n        });\n      }).getOr(true);\n    };\n    var emptyCaretCaption = function (editor, elm) {\n      return emptyElement(editor, elm);\n    };\n    var validateCaretCaption = function (rootElm, fromCaption, to) {\n      return getParentCaption(rootElm, SugarElement.fromDom(to.getNode())).map(function (toCaption) {\n        return eq(toCaption, fromCaption) === false;\n      });\n    };\n    var deleteCaretInsideCaption = function (editor, rootElm, forward, fromCaption, from) {\n      return navigate(forward, editor.getBody(), from).bind(function (to) {\n        return isDeleteOfLastCharPos(fromCaption, forward, from, to) ? emptyCaretCaption(editor, fromCaption) : validateCaretCaption(rootElm, fromCaption, to);\n      }).or(Optional.some(true));\n    };\n    var deleteCaretCells = function (editor, forward, rootElm, startElm) {\n      var from = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return getParentCell(rootElm, startElm).bind(function (fromCell) {\n        return isEmpty$2(fromCell) ? emptyElement(editor, fromCell) : deleteBetweenCells(editor, rootElm, forward, fromCell, from);\n      }).getOr(false);\n    };\n    var deleteCaretCaption = function (editor, forward, rootElm, fromCaption) {\n      var from = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return isEmpty$2(fromCaption) ? emptyElement(editor, fromCaption) : deleteCaretInsideCaption(editor, rootElm, forward, fromCaption, from);\n    };\n    var isNearTable = function (forward, pos) {\n      return forward ? isBeforeTable(pos) : isAfterTable(pos);\n    };\n    var isBeforeOrAfterTable = function (editor, forward) {\n      var fromPos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return isNearTable(forward, fromPos) || fromPosition(forward, editor.getBody(), fromPos).exists(function (pos) {\n        return isNearTable(forward, pos);\n      });\n    };\n    var deleteCaret$3 = function (editor, forward, startElm) {\n      var rootElm = SugarElement.fromDom(editor.getBody());\n      return getParentCaption(rootElm, startElm).fold(function () {\n        return deleteCaretCells(editor, forward, rootElm, startElm) || isBeforeOrAfterTable(editor, forward);\n      }, function (fromCaption) {\n        return deleteCaretCaption(editor, forward, rootElm, fromCaption).getOr(false);\n      });\n    };\n    var backspaceDelete$9 = function (editor, forward) {\n      var startElm = SugarElement.fromDom(editor.selection.getStart(true));\n      var cells = getCellsFromEditor(editor);\n      return editor.selection.isCollapsed() && cells.length === 0 ? deleteCaret$3(editor, forward, startElm) : deleteRange$2(editor, startElm, cells);\n    };\n\n    var createRange = function (sc, so, ec, eo) {\n      var rng = document.createRange();\n      rng.setStart(sc, so);\n      rng.setEnd(ec, eo);\n      return rng;\n    };\n    var normalizeBlockSelectionRange = function (rng) {\n      var startPos = CaretPosition.fromRangeStart(rng);\n      var endPos = CaretPosition.fromRangeEnd(rng);\n      var rootNode = rng.commonAncestorContainer;\n      return fromPosition(false, rootNode, endPos).map(function (newEndPos) {\n        if (!isInSameBlock(startPos, endPos, rootNode) && isInSameBlock(startPos, newEndPos, rootNode)) {\n          return createRange(startPos.container(), startPos.offset(), newEndPos.container(), newEndPos.offset());\n        } else {\n          return rng;\n        }\n      }).getOr(rng);\n    };\n    var normalize = function (rng) {\n      return rng.collapsed ? rng : normalizeBlockSelectionRange(rng);\n    };\n\n    var hasOnlyOneChild$1 = function (node) {\n      return node.firstChild && node.firstChild === node.lastChild;\n    };\n    var isPaddingNode = function (node) {\n      return node.name === 'br' || node.value === nbsp;\n    };\n    var isPaddedEmptyBlock = function (schema, node) {\n      var blockElements = schema.getBlockElements();\n      return blockElements[node.name] && hasOnlyOneChild$1(node) && isPaddingNode(node.firstChild);\n    };\n    var isEmptyFragmentElement = function (schema, node) {\n      var nonEmptyElements = schema.getNonEmptyElements();\n      return node && (node.isEmpty(nonEmptyElements) || isPaddedEmptyBlock(schema, node));\n    };\n    var isListFragment = function (schema, fragment) {\n      var firstChild = fragment.firstChild;\n      var lastChild = fragment.lastChild;\n      if (firstChild && firstChild.name === 'meta') {\n        firstChild = firstChild.next;\n      }\n      if (lastChild && lastChild.attr('id') === 'mce_marker') {\n        lastChild = lastChild.prev;\n      }\n      if (isEmptyFragmentElement(schema, lastChild)) {\n        lastChild = lastChild.prev;\n      }\n      if (!firstChild || firstChild !== lastChild) {\n        return false;\n      }\n      return firstChild.name === 'ul' || firstChild.name === 'ol';\n    };\n    var cleanupDomFragment = function (domFragment) {\n      var firstChild = domFragment.firstChild;\n      var lastChild = domFragment.lastChild;\n      if (firstChild && firstChild.nodeName === 'META') {\n        firstChild.parentNode.removeChild(firstChild);\n      }\n      if (lastChild && lastChild.id === 'mce_marker') {\n        lastChild.parentNode.removeChild(lastChild);\n      }\n      return domFragment;\n    };\n    var toDomFragment = function (dom, serializer, fragment) {\n      var html = serializer.serialize(fragment);\n      var domFragment = dom.createFragment(html);\n      return cleanupDomFragment(domFragment);\n    };\n    var listItems = function (elm) {\n      return filter$4(elm.childNodes, function (child) {\n        return child.nodeName === 'LI';\n      });\n    };\n    var isPadding = function (node) {\n      return node.data === nbsp || isBr$5(node);\n    };\n    var isListItemPadded = function (node) {\n      return node && node.firstChild && node.firstChild === node.lastChild && isPadding(node.firstChild);\n    };\n    var isEmptyOrPadded = function (elm) {\n      return !elm.firstChild || isListItemPadded(elm);\n    };\n    var trimListItems = function (elms) {\n      return elms.length > 0 && isEmptyOrPadded(elms[elms.length - 1]) ? elms.slice(0, -1) : elms;\n    };\n    var getParentLi = function (dom, node) {\n      var parentBlock = dom.getParent(node, dom.isBlock);\n      return parentBlock && parentBlock.nodeName === 'LI' ? parentBlock : null;\n    };\n    var isParentBlockLi = function (dom, node) {\n      return !!getParentLi(dom, node);\n    };\n    var getSplit = function (parentNode, rng) {\n      var beforeRng = rng.cloneRange();\n      var afterRng = rng.cloneRange();\n      beforeRng.setStartBefore(parentNode);\n      afterRng.setEndAfter(parentNode);\n      return [\n        beforeRng.cloneContents(),\n        afterRng.cloneContents()\n      ];\n    };\n    var findFirstIn = function (node, rootNode) {\n      var caretPos = CaretPosition.before(node);\n      var caretWalker = CaretWalker(rootNode);\n      var newCaretPos = caretWalker.next(caretPos);\n      return newCaretPos ? newCaretPos.toRange() : null;\n    };\n    var findLastOf = function (node, rootNode) {\n      var caretPos = CaretPosition.after(node);\n      var caretWalker = CaretWalker(rootNode);\n      var newCaretPos = caretWalker.prev(caretPos);\n      return newCaretPos ? newCaretPos.toRange() : null;\n    };\n    var insertMiddle = function (target, elms, rootNode, rng) {\n      var parts = getSplit(target, rng);\n      var parentElm = target.parentNode;\n      parentElm.insertBefore(parts[0], target);\n      Tools.each(elms, function (li) {\n        parentElm.insertBefore(li, target);\n      });\n      parentElm.insertBefore(parts[1], target);\n      parentElm.removeChild(target);\n      return findLastOf(elms[elms.length - 1], rootNode);\n    };\n    var insertBefore$1 = function (target, elms, rootNode) {\n      var parentElm = target.parentNode;\n      Tools.each(elms, function (elm) {\n        parentElm.insertBefore(elm, target);\n      });\n      return findFirstIn(target, rootNode);\n    };\n    var insertAfter$1 = function (target, elms, rootNode, dom) {\n      dom.insertAfter(elms.reverse(), target);\n      return findLastOf(elms[0], rootNode);\n    };\n    var insertAtCaret$1 = function (serializer, dom, rng, fragment) {\n      var domFragment = toDomFragment(dom, serializer, fragment);\n      var liTarget = getParentLi(dom, rng.startContainer);\n      var liElms = trimListItems(listItems(domFragment.firstChild));\n      var BEGINNING = 1, END = 2;\n      var rootNode = dom.getRoot();\n      var isAt = function (location) {\n        var caretPos = CaretPosition.fromRangeStart(rng);\n        var caretWalker = CaretWalker(dom.getRoot());\n        var newPos = location === BEGINNING ? caretWalker.prev(caretPos) : caretWalker.next(caretPos);\n        return newPos ? getParentLi(dom, newPos.getNode()) !== liTarget : true;\n      };\n      if (isAt(BEGINNING)) {\n        return insertBefore$1(liTarget, liElms, rootNode);\n      } else if (isAt(END)) {\n        return insertAfter$1(liTarget, liElms, rootNode, dom);\n      }\n      return insertMiddle(liTarget, liElms, rootNode, rng);\n    };\n\n    var trimOrPadLeftRight = function (dom, rng, html) {\n      var root = SugarElement.fromDom(dom.getRoot());\n      if (needsToBeNbspLeft(root, CaretPosition.fromRangeStart(rng))) {\n        html = html.replace(/^ /, '&nbsp;');\n      } else {\n        html = html.replace(/^&nbsp;/, ' ');\n      }\n      if (needsToBeNbspRight(root, CaretPosition.fromRangeEnd(rng))) {\n        html = html.replace(/(&nbsp;| )(<br( \\/)>)?$/, '&nbsp;');\n      } else {\n        html = html.replace(/&nbsp;(<br( \\/)?>)?$/, ' ');\n      }\n      return html;\n    };\n\n    var isTableCell$1 = isTableCell$5;\n    var isTableCellContentSelected = function (dom, rng, cell) {\n      if (cell !== null) {\n        var endCell = dom.getParent(rng.endContainer, isTableCell$1);\n        return cell === endCell && hasAllContentsSelected(SugarElement.fromDom(cell), rng);\n      } else {\n        return false;\n      }\n    };\n    var validInsertion = function (editor, value, parentNode) {\n      if (parentNode.getAttribute('data-mce-bogus') === 'all') {\n        parentNode.parentNode.insertBefore(editor.dom.createFragment(value), parentNode);\n      } else {\n        var node = parentNode.firstChild;\n        var node2 = parentNode.lastChild;\n        if (!node || node === node2 && node.nodeName === 'BR') {\n          editor.dom.setHTML(parentNode, value);\n        } else {\n          editor.selection.setContent(value);\n        }\n      }\n    };\n    var trimBrsFromTableCell = function (dom, elm) {\n      Optional.from(dom.getParent(elm, 'td,th')).map(SugarElement.fromDom).each(trimBlockTrailingBr);\n    };\n    var reduceInlineTextElements = function (editor, merge) {\n      var textInlineElements = editor.schema.getTextInlineElements();\n      var dom = editor.dom;\n      if (merge) {\n        var root_1 = editor.getBody();\n        var elementUtils_1 = ElementUtils(dom);\n        Tools.each(dom.select('*[data-mce-fragment]'), function (node) {\n          var isInline = isNonNullable(textInlineElements[node.nodeName.toLowerCase()]);\n          if (isInline && hasInheritableStyles(dom, node)) {\n            for (var parentNode = node.parentNode; isNonNullable(parentNode) && parentNode !== root_1; parentNode = parentNode.parentNode) {\n              var styleConflict = hasStyleConflict(dom, node, parentNode);\n              if (styleConflict) {\n                break;\n              }\n              if (elementUtils_1.compare(parentNode, node)) {\n                dom.remove(node, true);\n                break;\n              }\n            }\n          }\n        });\n      }\n    };\n    var markFragmentElements = function (fragment) {\n      var node = fragment;\n      while (node = node.walk()) {\n        if (node.type === 1) {\n          node.attr('data-mce-fragment', '1');\n        }\n      }\n    };\n    var unmarkFragmentElements = function (elm) {\n      Tools.each(elm.getElementsByTagName('*'), function (elm) {\n        elm.removeAttribute('data-mce-fragment');\n      });\n    };\n    var isPartOfFragment = function (node) {\n      return !!node.getAttribute('data-mce-fragment');\n    };\n    var canHaveChildren = function (editor, node) {\n      return node && !editor.schema.getShortEndedElements()[node.nodeName];\n    };\n    var moveSelectionToMarker = function (editor, marker) {\n      var nextRng;\n      var dom = editor.dom;\n      var selection = editor.selection;\n      if (!marker) {\n        return;\n      }\n      selection.scrollIntoView(marker);\n      var parentEditableElm = getContentEditableRoot$1(editor.getBody(), marker);\n      if (dom.getContentEditable(parentEditableElm) === 'false') {\n        dom.remove(marker);\n        selection.select(parentEditableElm);\n        return;\n      }\n      var rng = dom.createRng();\n      var node = marker.previousSibling;\n      if (isText$7(node)) {\n        rng.setStart(node, node.nodeValue.length);\n        if (!Env.ie) {\n          var node2 = marker.nextSibling;\n          if (isText$7(node2)) {\n            node.appendData(node2.data);\n            node2.parentNode.removeChild(node2);\n          }\n        }\n      } else {\n        rng.setStartBefore(marker);\n        rng.setEndBefore(marker);\n      }\n      var findNextCaretRng = function (rng) {\n        var caretPos = CaretPosition.fromRangeStart(rng);\n        var caretWalker = CaretWalker(editor.getBody());\n        caretPos = caretWalker.next(caretPos);\n        if (caretPos) {\n          return caretPos.toRange();\n        }\n      };\n      var parentBlock = dom.getParent(marker, dom.isBlock);\n      dom.remove(marker);\n      if (parentBlock && dom.isEmpty(parentBlock)) {\n        editor.$(parentBlock).empty();\n        rng.setStart(parentBlock, 0);\n        rng.setEnd(parentBlock, 0);\n        if (!isTableCell$1(parentBlock) && !isPartOfFragment(parentBlock) && (nextRng = findNextCaretRng(rng))) {\n          rng = nextRng;\n          dom.remove(parentBlock);\n        } else {\n          dom.add(parentBlock, dom.create('br', { 'data-mce-bogus': '1' }));\n        }\n      }\n      selection.setRng(rng);\n    };\n    var deleteSelectedContent = function (editor) {\n      var dom = editor.dom;\n      var rng = normalize(editor.selection.getRng());\n      editor.selection.setRng(rng);\n      var startCell = dom.getParent(rng.startContainer, isTableCell$1);\n      if (isTableCellContentSelected(dom, rng, startCell)) {\n        deleteCellContents(editor, rng, SugarElement.fromDom(startCell));\n      } else {\n        editor.getDoc().execCommand('Delete', false, null);\n      }\n    };\n    var insertHtmlAtCaret = function (editor, value, details) {\n      var parentNode;\n      var rng, node;\n      var selection = editor.selection;\n      var dom = editor.dom;\n      if (/^ | $/.test(value)) {\n        value = trimOrPadLeftRight(dom, selection.getRng(), value);\n      }\n      var parser = editor.parser;\n      var merge = details.merge;\n      var serializer = HtmlSerializer({ validate: shouldValidate(editor) }, editor.schema);\n      var bookmarkHtml = '<span id=\"mce_marker\" data-mce-type=\"bookmark\">&#xFEFF;</span>';\n      var args = editor.fire('BeforeSetContent', {\n        content: value,\n        format: 'html',\n        selection: true,\n        paste: details.paste\n      });\n      if (args.isDefaultPrevented()) {\n        editor.fire('SetContent', {\n          content: args.content,\n          format: 'html',\n          selection: true,\n          paste: details.paste\n        });\n        return;\n      }\n      value = args.content;\n      if (!details.preserve_zwsp) {\n        value = trim$3(value);\n      }\n      if (value.indexOf('{$caret}') === -1) {\n        value += '{$caret}';\n      }\n      value = value.replace(/\\{\\$caret\\}/, bookmarkHtml);\n      rng = selection.getRng();\n      var caretElement = rng.startContainer || (rng.parentElement ? rng.parentElement() : null);\n      var body = editor.getBody();\n      if (caretElement === body && selection.isCollapsed()) {\n        if (dom.isBlock(body.firstChild) && canHaveChildren(editor, body.firstChild) && dom.isEmpty(body.firstChild)) {\n          rng = dom.createRng();\n          rng.setStart(body.firstChild, 0);\n          rng.setEnd(body.firstChild, 0);\n          selection.setRng(rng);\n        }\n      }\n      if (!selection.isCollapsed()) {\n        deleteSelectedContent(editor);\n      }\n      parentNode = selection.getNode();\n      var parserArgs = {\n        context: parentNode.nodeName.toLowerCase(),\n        data: details.data,\n        insert: true\n      };\n      var fragment = parser.parse(value, parserArgs);\n      if (details.paste === true && isListFragment(editor.schema, fragment) && isParentBlockLi(dom, parentNode)) {\n        rng = insertAtCaret$1(serializer, dom, selection.getRng(), fragment);\n        selection.setRng(rng);\n        editor.fire('SetContent', args);\n        return;\n      }\n      markFragmentElements(fragment);\n      node = fragment.lastChild;\n      if (node.attr('id') === 'mce_marker') {\n        var marker = node;\n        for (node = node.prev; node; node = node.walk(true)) {\n          if (node.type === 3 || !dom.isBlock(node.name)) {\n            if (editor.schema.isValidChild(node.parent.name, 'span')) {\n              node.parent.insert(marker, node, node.name === 'br');\n            }\n            break;\n          }\n        }\n      }\n      editor._selectionOverrides.showBlockCaretContainer(parentNode);\n      if (!parserArgs.invalid) {\n        value = serializer.serialize(fragment);\n        validInsertion(editor, value, parentNode);\n      } else {\n        editor.selection.setContent(bookmarkHtml);\n        parentNode = selection.getNode();\n        var rootNode = editor.getBody();\n        if (parentNode.nodeType === 9) {\n          parentNode = node = rootNode;\n        } else {\n          node = parentNode;\n        }\n        while (node !== rootNode) {\n          parentNode = node;\n          node = node.parentNode;\n        }\n        value = parentNode === rootNode ? rootNode.innerHTML : dom.getOuterHTML(parentNode);\n        value = serializer.serialize(parser.parse(value.replace(/<span (id=\"mce_marker\"|id=mce_marker).+?<\\/span>/i, function () {\n          return serializer.serialize(fragment);\n        })));\n        if (parentNode === rootNode) {\n          dom.setHTML(rootNode, value);\n        } else {\n          dom.setOuterHTML(parentNode, value);\n        }\n      }\n      reduceInlineTextElements(editor, merge);\n      moveSelectionToMarker(editor, dom.get('mce_marker'));\n      unmarkFragmentElements(editor.getBody());\n      trimBrsFromTableCell(dom, selection.getStart());\n      editor.fire('SetContent', args);\n      editor.addVisual();\n    };\n\n    var traverse = function (node, fn) {\n      fn(node);\n      if (node.firstChild) {\n        traverse(node.firstChild, fn);\n      }\n      if (node.next) {\n        traverse(node.next, fn);\n      }\n    };\n    var findMatchingNodes = function (nodeFilters, attributeFilters, node) {\n      var nodeMatches = {};\n      var attrMatches = {};\n      var matches = [];\n      if (node.firstChild) {\n        traverse(node.firstChild, function (node) {\n          each$k(nodeFilters, function (filter) {\n            if (filter.name === node.name) {\n              if (nodeMatches[filter.name]) {\n                nodeMatches[filter.name].nodes.push(node);\n              } else {\n                nodeMatches[filter.name] = {\n                  filter: filter,\n                  nodes: [node]\n                };\n              }\n            }\n          });\n          each$k(attributeFilters, function (filter) {\n            if (typeof node.attr(filter.name) === 'string') {\n              if (attrMatches[filter.name]) {\n                attrMatches[filter.name].nodes.push(node);\n              } else {\n                attrMatches[filter.name] = {\n                  filter: filter,\n                  nodes: [node]\n                };\n              }\n            }\n          });\n        });\n      }\n      for (var name_1 in nodeMatches) {\n        if (has$2(nodeMatches, name_1)) {\n          matches.push(nodeMatches[name_1]);\n        }\n      }\n      for (var name_2 in attrMatches) {\n        if (has$2(attrMatches, name_2)) {\n          matches.push(attrMatches[name_2]);\n        }\n      }\n      return matches;\n    };\n    var filter$1 = function (nodeFilters, attributeFilters, node) {\n      var matches = findMatchingNodes(nodeFilters, attributeFilters, node);\n      each$k(matches, function (match) {\n        each$k(match.filter.callbacks, function (callback) {\n          callback(match.nodes, match.filter.name, {});\n        });\n      });\n    };\n\n    var defaultFormat$1 = 'html';\n    var isTreeNode = function (content) {\n      return content instanceof AstNode;\n    };\n    var moveSelection = function (editor) {\n      if (hasFocus(editor)) {\n        firstPositionIn(editor.getBody()).each(function (pos) {\n          var node = pos.getNode();\n          var caretPos = isTable$3(node) ? firstPositionIn(node).getOr(pos) : pos;\n          editor.selection.setRng(caretPos.toRange());\n        });\n      }\n    };\n    var setEditorHtml = function (editor, html, noSelection) {\n      editor.dom.setHTML(editor.getBody(), html);\n      if (noSelection !== true) {\n        moveSelection(editor);\n      }\n    };\n    var setContentString = function (editor, body, content, args) {\n      content = trim$3(content);\n      if (content.length === 0 || /^\\s+$/.test(content)) {\n        var padd = '<br data-mce-bogus=\"1\">';\n        if (body.nodeName === 'TABLE') {\n          content = '<tr><td>' + padd + '</td></tr>';\n        } else if (/^(UL|OL)$/.test(body.nodeName)) {\n          content = '<li>' + padd + '</li>';\n        }\n        var forcedRootBlockName = getForcedRootBlock(editor);\n        if (forcedRootBlockName && editor.schema.isValidChild(body.nodeName.toLowerCase(), forcedRootBlockName.toLowerCase())) {\n          content = padd;\n          content = editor.dom.createHTML(forcedRootBlockName, getForcedRootBlockAttrs(editor), content);\n        } else if (!content) {\n          content = '<br data-mce-bogus=\"1\">';\n        }\n        setEditorHtml(editor, content, args.no_selection);\n        editor.fire('SetContent', args);\n      } else {\n        if (args.format !== 'raw') {\n          content = HtmlSerializer({ validate: editor.validate }, editor.schema).serialize(editor.parser.parse(content, {\n            isRootContent: true,\n            insert: true\n          }));\n        }\n        args.content = isWsPreserveElement(SugarElement.fromDom(body)) ? content : Tools.trim(content);\n        setEditorHtml(editor, args.content, args.no_selection);\n        if (!args.no_events) {\n          editor.fire('SetContent', args);\n        }\n      }\n      return args.content;\n    };\n    var setContentTree = function (editor, body, content, args) {\n      filter$1(editor.parser.getNodeFilters(), editor.parser.getAttributeFilters(), content);\n      var html = HtmlSerializer({ validate: editor.validate }, editor.schema).serialize(content);\n      args.content = trim$3(isWsPreserveElement(SugarElement.fromDom(body)) ? html : Tools.trim(html));\n      setEditorHtml(editor, args.content, args.no_selection);\n      if (!args.no_events) {\n        editor.fire('SetContent', args);\n      }\n      return content;\n    };\n    var setupArgs$2 = function (args, content) {\n      return __assign(__assign({ format: defaultFormat$1 }, args), {\n        set: true,\n        content: isTreeNode(content) ? '' : content\n      });\n    };\n    var setContentInternal = function (editor, content, args) {\n      var defaultedArgs = setupArgs$2(args, content);\n      var updatedArgs = args.no_events ? defaultedArgs : editor.fire('BeforeSetContent', defaultedArgs);\n      if (!isTreeNode(content)) {\n        content = updatedArgs.content;\n      }\n      return Optional.from(editor.getBody()).fold(constant(content), function (body) {\n        return isTreeNode(content) ? setContentTree(editor, body, content, updatedArgs) : setContentString(editor, body, content, updatedArgs);\n      });\n    };\n\n    var sibling = function (scope, predicate) {\n      return sibling$2(scope, predicate).isSome();\n    };\n\n    var ensureIsRoot = function (isRoot) {\n      return isFunction(isRoot) ? isRoot : never;\n    };\n    var ancestor = function (scope, transform, isRoot) {\n      var element = scope.dom;\n      var stop = ensureIsRoot(isRoot);\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = SugarElement.fromDom(element);\n        var transformed = transform(el);\n        if (transformed.isSome()) {\n          return transformed;\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    var closest$1 = function (scope, transform, isRoot) {\n      var current = transform(scope);\n      var stop = ensureIsRoot(isRoot);\n      return current.orThunk(function () {\n        return stop(scope) ? Optional.none() : ancestor(scope, transform, stop);\n      });\n    };\n\n    var isEq$3 = isEq$5;\n    var matchesUnInheritedFormatSelector = function (ed, node, name) {\n      var formatList = ed.formatter.get(name);\n      if (formatList) {\n        for (var i = 0; i < formatList.length; i++) {\n          var format = formatList[i];\n          if (isSelectorFormat(format) && format.inherit === false && ed.dom.is(node, format.selector)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    var matchParents = function (editor, node, name, vars, similar) {\n      var root = editor.dom.getRoot();\n      if (node === root) {\n        return false;\n      }\n      node = editor.dom.getParent(node, function (node) {\n        if (matchesUnInheritedFormatSelector(editor, node, name)) {\n          return true;\n        }\n        return node.parentNode === root || !!matchNode(editor, node, name, vars, true);\n      });\n      return !!matchNode(editor, node, name, vars, similar);\n    };\n    var matchName$1 = function (dom, node, format) {\n      if (isEq$3(node, format.inline)) {\n        return true;\n      }\n      if (isEq$3(node, format.block)) {\n        return true;\n      }\n      if (format.selector) {\n        return node.nodeType === 1 && dom.is(node, format.selector);\n      }\n    };\n    var matchItems = function (dom, node, format, itemName, similar, vars) {\n      var items = format[itemName];\n      if (isFunction(format.onmatch)) {\n        return format.onmatch(node, format, itemName);\n      }\n      if (items) {\n        if (isUndefined(items.length)) {\n          for (var key in items) {\n            if (has$2(items, key)) {\n              var value = itemName === 'attributes' ? dom.getAttrib(node, key) : getStyle(dom, node, key);\n              var expectedValue = replaceVars(items[key], vars);\n              var isEmptyValue = isNullable(value) || isEmpty$3(value);\n              if (isEmptyValue && isNullable(expectedValue)) {\n                continue;\n              }\n              if (similar && isEmptyValue && !format.exact) {\n                return false;\n              }\n              if ((!similar || format.exact) && !isEq$3(value, normalizeStyleValue(dom, expectedValue, key))) {\n                return false;\n              }\n            }\n          }\n        } else {\n          for (var i = 0; i < items.length; i++) {\n            if (itemName === 'attributes' ? dom.getAttrib(node, items[i]) : getStyle(dom, node, items[i])) {\n              return true;\n            }\n          }\n        }\n      }\n      return true;\n    };\n    var matchNode = function (ed, node, name, vars, similar) {\n      var formatList = ed.formatter.get(name);\n      var dom = ed.dom;\n      if (formatList && node) {\n        for (var i = 0; i < formatList.length; i++) {\n          var format = formatList[i];\n          if (matchName$1(ed.dom, node, format) && matchItems(dom, node, format, 'attributes', similar, vars) && matchItems(dom, node, format, 'styles', similar, vars)) {\n            var classes = format.classes;\n            if (classes) {\n              for (var x = 0; x < classes.length; x++) {\n                if (!ed.dom.hasClass(node, replaceVars(classes[x], vars))) {\n                  return;\n                }\n              }\n            }\n            return format;\n          }\n        }\n      }\n    };\n    var match$2 = function (editor, name, vars, node, similar) {\n      if (node) {\n        return matchParents(editor, node, name, vars, similar);\n      }\n      node = editor.selection.getNode();\n      if (matchParents(editor, node, name, vars, similar)) {\n        return true;\n      }\n      var startNode = editor.selection.getStart();\n      if (startNode !== node) {\n        if (matchParents(editor, startNode, name, vars, similar)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var matchAll = function (editor, names, vars) {\n      var matchedFormatNames = [];\n      var checkedMap = {};\n      var startElement = editor.selection.getStart();\n      editor.dom.getParent(startElement, function (node) {\n        for (var i = 0; i < names.length; i++) {\n          var name_1 = names[i];\n          if (!checkedMap[name_1] && matchNode(editor, node, name_1, vars)) {\n            checkedMap[name_1] = true;\n            matchedFormatNames.push(name_1);\n          }\n        }\n      }, editor.dom.getRoot());\n      return matchedFormatNames;\n    };\n    var closest = function (editor, names) {\n      var isRoot = function (elm) {\n        return eq(elm, SugarElement.fromDom(editor.getBody()));\n      };\n      var match = function (elm, name) {\n        return matchNode(editor, elm.dom, name) ? Optional.some(name) : Optional.none();\n      };\n      return Optional.from(editor.selection.getStart(true)).bind(function (rawElm) {\n        return closest$1(SugarElement.fromDom(rawElm), function (elm) {\n          return findMap(names, function (name) {\n            return match(elm, name);\n          });\n        }, isRoot);\n      }).getOrNull();\n    };\n    var canApply = function (editor, name) {\n      var formatList = editor.formatter.get(name);\n      var dom = editor.dom;\n      if (formatList) {\n        var startNode = editor.selection.getStart();\n        var parents = getParents$2(dom, startNode);\n        for (var x = formatList.length - 1; x >= 0; x--) {\n          var format = formatList[x];\n          if (!isSelectorFormat(format) || isNonNullable(format.defaultBlock)) {\n            return true;\n          }\n          for (var i = parents.length - 1; i >= 0; i--) {\n            if (dom.is(parents[i], format.selector)) {\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    };\n    var matchAllOnNode = function (editor, node, formatNames) {\n      return foldl(formatNames, function (acc, name) {\n        var matchSimilar = isVariableFormatName(editor, name);\n        if (editor.formatter.matchNode(node, name, {}, matchSimilar)) {\n          return acc.concat([name]);\n        } else {\n          return acc;\n        }\n      }, []);\n    };\n\n    var ZWSP = ZWSP$1, CARET_ID = '_mce_caret';\n    var importNode = function (ownerDocument, node) {\n      return ownerDocument.importNode(node, true);\n    };\n    var getEmptyCaretContainers = function (node) {\n      var nodes = [];\n      while (node) {\n        if (node.nodeType === 3 && node.nodeValue !== ZWSP || node.childNodes.length > 1) {\n          return [];\n        }\n        if (node.nodeType === 1) {\n          nodes.push(node);\n        }\n        node = node.firstChild;\n      }\n      return nodes;\n    };\n    var isCaretContainerEmpty = function (node) {\n      return getEmptyCaretContainers(node).length > 0;\n    };\n    var findFirstTextNode = function (node) {\n      if (node) {\n        var walker = new DomTreeWalker(node, node);\n        for (node = walker.current(); node; node = walker.next()) {\n          if (isText$7(node)) {\n            return node;\n          }\n        }\n      }\n      return null;\n    };\n    var createCaretContainer = function (fill) {\n      var caretContainer = SugarElement.fromTag('span');\n      setAll$1(caretContainer, {\n        'id': CARET_ID,\n        'data-mce-bogus': '1',\n        'data-mce-type': 'format-caret'\n      });\n      if (fill) {\n        append$1(caretContainer, SugarElement.fromText(ZWSP));\n      }\n      return caretContainer;\n    };\n    var trimZwspFromCaretContainer = function (caretContainerNode) {\n      var textNode = findFirstTextNode(caretContainerNode);\n      if (textNode && textNode.nodeValue.charAt(0) === ZWSP) {\n        textNode.deleteData(0, 1);\n      }\n      return textNode;\n    };\n    var removeCaretContainerNode = function (editor, node, moveCaret) {\n      if (moveCaret === void 0) {\n        moveCaret = true;\n      }\n      var dom = editor.dom, selection = editor.selection;\n      if (isCaretContainerEmpty(node)) {\n        deleteElement$2(editor, false, SugarElement.fromDom(node), moveCaret);\n      } else {\n        var rng = selection.getRng();\n        var block = dom.getParent(node, dom.isBlock);\n        var startContainer = rng.startContainer;\n        var startOffset = rng.startOffset;\n        var endContainer = rng.endContainer;\n        var endOffset = rng.endOffset;\n        var textNode = trimZwspFromCaretContainer(node);\n        dom.remove(node, true);\n        if (startContainer === textNode && startOffset > 0) {\n          rng.setStart(textNode, startOffset - 1);\n        }\n        if (endContainer === textNode && endOffset > 0) {\n          rng.setEnd(textNode, endOffset - 1);\n        }\n        if (block && dom.isEmpty(block)) {\n          fillWithPaddingBr(SugarElement.fromDom(block));\n        }\n        selection.setRng(rng);\n      }\n    };\n    var removeCaretContainer = function (editor, node, moveCaret) {\n      if (moveCaret === void 0) {\n        moveCaret = true;\n      }\n      var dom = editor.dom, selection = editor.selection;\n      if (!node) {\n        node = getParentCaretContainer(editor.getBody(), selection.getStart());\n        if (!node) {\n          while (node = dom.get(CARET_ID)) {\n            removeCaretContainerNode(editor, node, false);\n          }\n        }\n      } else {\n        removeCaretContainerNode(editor, node, moveCaret);\n      }\n    };\n    var insertCaretContainerNode = function (editor, caretContainer, formatNode) {\n      var dom = editor.dom, block = dom.getParent(formatNode, curry(isTextBlock$1, editor));\n      if (block && dom.isEmpty(block)) {\n        formatNode.parentNode.replaceChild(caretContainer, formatNode);\n      } else {\n        removeTrailingBr(SugarElement.fromDom(formatNode));\n        if (dom.isEmpty(formatNode)) {\n          formatNode.parentNode.replaceChild(caretContainer, formatNode);\n        } else {\n          dom.insertAfter(caretContainer, formatNode);\n        }\n      }\n    };\n    var appendNode = function (parentNode, node) {\n      parentNode.appendChild(node);\n      return node;\n    };\n    var insertFormatNodesIntoCaretContainer = function (formatNodes, caretContainer) {\n      var innerMostFormatNode = foldr(formatNodes, function (parentNode, formatNode) {\n        return appendNode(parentNode, formatNode.cloneNode(false));\n      }, caretContainer);\n      return appendNode(innerMostFormatNode, innerMostFormatNode.ownerDocument.createTextNode(ZWSP));\n    };\n    var cleanFormatNode = function (editor, caretContainer, formatNode, name, vars, similar) {\n      var formatter = editor.formatter;\n      var dom = editor.dom;\n      var validFormats = filter$4(keys(formatter.get()), function (formatName) {\n        return formatName !== name && !contains$2(formatName, 'removeformat');\n      });\n      var matchedFormats = matchAllOnNode(editor, formatNode, validFormats);\n      var uniqueFormats = filter$4(matchedFormats, function (fmtName) {\n        return !areSimilarFormats(editor, fmtName, name);\n      });\n      if (uniqueFormats.length > 0) {\n        var clonedFormatNode = formatNode.cloneNode(false);\n        dom.add(caretContainer, clonedFormatNode);\n        formatter.remove(name, vars, clonedFormatNode, similar);\n        dom.remove(clonedFormatNode);\n        return Optional.some(clonedFormatNode);\n      } else {\n        return Optional.none();\n      }\n    };\n    var applyCaretFormat = function (editor, name, vars) {\n      var caretContainer, textNode;\n      var selection = editor.selection;\n      var selectionRng = selection.getRng();\n      var offset = selectionRng.startOffset;\n      var container = selectionRng.startContainer;\n      var text = container.nodeValue;\n      caretContainer = getParentCaretContainer(editor.getBody(), selection.getStart());\n      if (caretContainer) {\n        textNode = findFirstTextNode(caretContainer);\n      }\n      var wordcharRegex = /[^\\s\\u00a0\\u00ad\\u200b\\ufeff]/;\n      if (text && offset > 0 && offset < text.length && wordcharRegex.test(text.charAt(offset)) && wordcharRegex.test(text.charAt(offset - 1))) {\n        var bookmark = selection.getBookmark();\n        selectionRng.collapse(true);\n        var rng = expandRng(editor, selectionRng, editor.formatter.get(name));\n        rng = split(rng);\n        editor.formatter.apply(name, vars, rng);\n        selection.moveToBookmark(bookmark);\n      } else {\n        if (!caretContainer || textNode.nodeValue !== ZWSP) {\n          caretContainer = importNode(editor.getDoc(), createCaretContainer(true).dom);\n          textNode = caretContainer.firstChild;\n          selectionRng.insertNode(caretContainer);\n          offset = 1;\n          editor.formatter.apply(name, vars, caretContainer);\n        } else {\n          editor.formatter.apply(name, vars, caretContainer);\n        }\n        selection.setCursorLocation(textNode, offset);\n      }\n    };\n    var removeCaretFormat = function (editor, name, vars, similar) {\n      var dom = editor.dom;\n      var selection = editor.selection;\n      var hasContentAfter, node, formatNode;\n      var parents = [];\n      var rng = selection.getRng();\n      var container = rng.startContainer;\n      var offset = rng.startOffset;\n      node = container;\n      if (container.nodeType === 3) {\n        if (offset !== container.nodeValue.length) {\n          hasContentAfter = true;\n        }\n        node = node.parentNode;\n      }\n      while (node) {\n        if (matchNode(editor, node, name, vars, similar)) {\n          formatNode = node;\n          break;\n        }\n        if (node.nextSibling) {\n          hasContentAfter = true;\n        }\n        parents.push(node);\n        node = node.parentNode;\n      }\n      if (!formatNode) {\n        return;\n      }\n      if (hasContentAfter) {\n        var bookmark = selection.getBookmark();\n        rng.collapse(true);\n        var expandedRng = expandRng(editor, rng, editor.formatter.get(name), true);\n        expandedRng = split(expandedRng);\n        editor.formatter.remove(name, vars, expandedRng, similar);\n        selection.moveToBookmark(bookmark);\n      } else {\n        var caretContainer = getParentCaretContainer(editor.getBody(), formatNode);\n        var newCaretContainer = createCaretContainer(false).dom;\n        insertCaretContainerNode(editor, newCaretContainer, caretContainer !== null ? caretContainer : formatNode);\n        var cleanedFormatNode = cleanFormatNode(editor, newCaretContainer, formatNode, name, vars, similar);\n        var caretTextNode = insertFormatNodesIntoCaretContainer(parents.concat(cleanedFormatNode.toArray()), newCaretContainer);\n        removeCaretContainerNode(editor, caretContainer, false);\n        selection.setCursorLocation(caretTextNode, 1);\n        if (dom.isEmpty(formatNode)) {\n          dom.remove(formatNode);\n        }\n      }\n    };\n    var disableCaretContainer = function (editor, keyCode) {\n      var selection = editor.selection, body = editor.getBody();\n      removeCaretContainer(editor, null, false);\n      if ((keyCode === 8 || keyCode === 46) && selection.isCollapsed() && selection.getStart().innerHTML === ZWSP) {\n        removeCaretContainer(editor, getParentCaretContainer(body, selection.getStart()));\n      }\n      if (keyCode === 37 || keyCode === 39) {\n        removeCaretContainer(editor, getParentCaretContainer(body, selection.getStart()));\n      }\n    };\n    var setup$k = function (editor) {\n      editor.on('mouseup keydown', function (e) {\n        disableCaretContainer(editor, e.keyCode);\n      });\n    };\n    var replaceWithCaretFormat = function (targetNode, formatNodes) {\n      var caretContainer = createCaretContainer(false);\n      var innerMost = insertFormatNodesIntoCaretContainer(formatNodes, caretContainer.dom);\n      before$4(SugarElement.fromDom(targetNode), caretContainer);\n      remove$7(SugarElement.fromDom(targetNode));\n      return CaretPosition(innerMost, 0);\n    };\n    var isFormatElement = function (editor, element) {\n      var inlineElements = editor.schema.getTextInlineElements();\n      return has$2(inlineElements, name(element)) && !isCaretNode(element.dom) && !isBogus$2(element.dom);\n    };\n    var isEmptyCaretFormatElement = function (element) {\n      return isCaretNode(element.dom) && isCaretContainerEmpty(element.dom);\n    };\n\n    var postProcessHooks = {};\n    var filter = filter$2;\n    var each$c = each$i;\n    var addPostProcessHook = function (name, hook) {\n      var hooks = postProcessHooks[name];\n      if (!hooks) {\n        postProcessHooks[name] = [];\n      }\n      postProcessHooks[name].push(hook);\n    };\n    var postProcess$1 = function (name, editor) {\n      each$c(postProcessHooks[name], function (hook) {\n        hook(editor);\n      });\n    };\n    addPostProcessHook('pre', function (editor) {\n      var rng = editor.selection.getRng();\n      var blocks;\n      var hasPreSibling = function (pre) {\n        return isPre(pre.previousSibling) && indexOf$1(blocks, pre.previousSibling) !== -1;\n      };\n      var joinPre = function (pre1, pre2) {\n        DomQuery(pre2).remove();\n        DomQuery(pre1).append('<br><br>').append(pre2.childNodes);\n      };\n      var isPre = matchNodeNames(['pre']);\n      if (!rng.collapsed) {\n        blocks = editor.selection.getSelectedBlocks();\n        each$c(filter(filter(blocks, isPre), hasPreSibling), function (pre) {\n          joinPre(pre.previousSibling, pre);\n        });\n      }\n    });\n\n    var each$b = Tools.each;\n    var isElementNode$1 = function (node) {\n      return isElement$5(node) && !isBookmarkNode$1(node) && !isCaretNode(node) && !isBogus$2(node);\n    };\n    var findElementSibling = function (node, siblingName) {\n      for (var sibling = node; sibling; sibling = sibling[siblingName]) {\n        if (isText$7(sibling) && isNotEmpty(sibling.data)) {\n          return node;\n        }\n        if (isElement$5(sibling) && !isBookmarkNode$1(sibling)) {\n          return sibling;\n        }\n      }\n      return node;\n    };\n    var mergeSiblingsNodes = function (dom, prev, next) {\n      var elementUtils = ElementUtils(dom);\n      if (prev && next) {\n        prev = findElementSibling(prev, 'previousSibling');\n        next = findElementSibling(next, 'nextSibling');\n        if (elementUtils.compare(prev, next)) {\n          for (var sibling = prev.nextSibling; sibling && sibling !== next;) {\n            var tmpSibling = sibling;\n            sibling = sibling.nextSibling;\n            prev.appendChild(tmpSibling);\n          }\n          dom.remove(next);\n          Tools.each(Tools.grep(next.childNodes), function (node) {\n            prev.appendChild(node);\n          });\n          return prev;\n        }\n      }\n      return next;\n    };\n    var mergeSiblings = function (dom, format, vars, node) {\n      if (node && format.merge_siblings !== false) {\n        var newNode = mergeSiblingsNodes(dom, getNonWhiteSpaceSibling(node), node);\n        mergeSiblingsNodes(dom, newNode, getNonWhiteSpaceSibling(newNode, true));\n      }\n    };\n    var clearChildStyles = function (dom, format, node) {\n      if (format.clear_child_styles) {\n        var selector = format.links ? '*:not(a)' : '*';\n        each$b(dom.select(selector, node), function (node) {\n          if (isElementNode$1(node)) {\n            each$b(format.styles, function (value, name) {\n              dom.setStyle(node, name, '');\n            });\n          }\n        });\n      }\n    };\n    var processChildElements = function (node, filter, process) {\n      each$b(node.childNodes, function (node) {\n        if (isElementNode$1(node)) {\n          if (filter(node)) {\n            process(node);\n          }\n          if (node.hasChildNodes()) {\n            processChildElements(node, filter, process);\n          }\n        }\n      });\n    };\n    var unwrapEmptySpan = function (dom, node) {\n      if (node.nodeName === 'SPAN' && dom.getAttribs(node).length === 0) {\n        dom.remove(node, true);\n      }\n    };\n    var hasStyle = function (dom, name) {\n      return function (node) {\n        return !!(node && getStyle(dom, node, name));\n      };\n    };\n    var applyStyle = function (dom, name, value) {\n      return function (node) {\n        dom.setStyle(node, name, value);\n        if (node.getAttribute('style') === '') {\n          node.removeAttribute('style');\n        }\n        unwrapEmptySpan(dom, node);\n      };\n    };\n\n    var removeResult = Adt.generate([\n      { keep: [] },\n      { rename: ['name'] },\n      { removed: [] }\n    ]);\n    var MCE_ATTR_RE = /^(src|href|style)$/;\n    var each$a = Tools.each;\n    var isEq$2 = isEq$5;\n    var isTableCellOrRow = function (node) {\n      return /^(TR|TH|TD)$/.test(node.nodeName);\n    };\n    var isChildOfInlineParent = function (dom, node, parent) {\n      return dom.isChildOf(node, parent) && node !== parent && !dom.isBlock(parent);\n    };\n    var getContainer = function (ed, rng, start) {\n      var container = rng[start ? 'startContainer' : 'endContainer'];\n      var offset = rng[start ? 'startOffset' : 'endOffset'];\n      if (isElement$5(container)) {\n        var lastIdx = container.childNodes.length - 1;\n        if (!start && offset) {\n          offset--;\n        }\n        container = container.childNodes[offset > lastIdx ? lastIdx : offset];\n      }\n      if (isText$7(container) && start && offset >= container.nodeValue.length) {\n        container = new DomTreeWalker(container, ed.getBody()).next() || container;\n      }\n      if (isText$7(container) && !start && offset === 0) {\n        container = new DomTreeWalker(container, ed.getBody()).prev() || container;\n      }\n      return container;\n    };\n    var normalizeTableSelection = function (node, start) {\n      var prop = start ? 'firstChild' : 'lastChild';\n      if (isTableCellOrRow(node) && node[prop]) {\n        var childNode = node[prop];\n        if (node.nodeName === 'TR') {\n          return childNode[prop] || childNode;\n        } else {\n          return childNode;\n        }\n      }\n      return node;\n    };\n    var wrap$1 = function (dom, node, name, attrs) {\n      var wrapper = dom.create(name, attrs);\n      node.parentNode.insertBefore(wrapper, node);\n      wrapper.appendChild(node);\n      return wrapper;\n    };\n    var wrapWithSiblings = function (dom, node, next, name, attrs) {\n      var start = SugarElement.fromDom(node);\n      var wrapper = SugarElement.fromDom(dom.create(name, attrs));\n      var siblings = next ? nextSiblings(start) : prevSiblings(start);\n      append(wrapper, siblings);\n      if (next) {\n        before$4(start, wrapper);\n        prepend(wrapper, start);\n      } else {\n        after$3(start, wrapper);\n        append$1(wrapper, start);\n      }\n      return wrapper.dom;\n    };\n    var matchName = function (dom, node, format) {\n      if (isInlineFormat(format) && isEq$2(node, format.inline)) {\n        return true;\n      }\n      if (isBlockFormat(format) && isEq$2(node, format.block)) {\n        return true;\n      }\n      if (isSelectorFormat(format)) {\n        return isElement$5(node) && dom.is(node, format.selector);\n      }\n    };\n    var isColorFormatAndAnchor = function (node, format) {\n      return format.links && node.nodeName === 'A';\n    };\n    var find = function (dom, node, next, inc) {\n      var sibling = getNonWhiteSpaceSibling(node, next, inc);\n      return isNullable(sibling) || sibling.nodeName === 'BR' || dom.isBlock(sibling);\n    };\n    var removeNode = function (ed, node, format) {\n      var parentNode = node.parentNode;\n      var rootBlockElm;\n      var dom = ed.dom, forcedRootBlock = getForcedRootBlock(ed);\n      if (isBlockFormat(format)) {\n        if (!forcedRootBlock) {\n          if (dom.isBlock(node) && !dom.isBlock(parentNode)) {\n            if (!find(dom, node, false) && !find(dom, node.firstChild, true, true)) {\n              node.insertBefore(dom.create('br'), node.firstChild);\n            }\n            if (!find(dom, node, true) && !find(dom, node.lastChild, false, true)) {\n              node.appendChild(dom.create('br'));\n            }\n          }\n        } else {\n          if (parentNode === dom.getRoot()) {\n            if (!format.list_block || !isEq$2(node, format.list_block)) {\n              each$k(from(node.childNodes), function (node) {\n                if (isValid(ed, forcedRootBlock, node.nodeName.toLowerCase())) {\n                  if (!rootBlockElm) {\n                    rootBlockElm = wrap$1(dom, node, forcedRootBlock);\n                    dom.setAttribs(rootBlockElm, ed.settings.forced_root_block_attrs);\n                  } else {\n                    rootBlockElm.appendChild(node);\n                  }\n                } else {\n                  rootBlockElm = null;\n                }\n              });\n            }\n          }\n        }\n      }\n      if (isMixedFormat(format) && !isEq$2(format.inline, node)) {\n        return;\n      }\n      dom.remove(node, true);\n    };\n    var removeFormatInternal = function (ed, format, vars, node, compareNode) {\n      var stylesModified;\n      var dom = ed.dom;\n      if (!matchName(dom, node, format) && !isColorFormatAndAnchor(node, format)) {\n        return removeResult.keep();\n      }\n      var elm = node;\n      if (isInlineFormat(format) && format.remove === 'all' && isArray$1(format.preserve_attributes)) {\n        var attrsToPreserve = filter$4(dom.getAttribs(elm), function (attr) {\n          return contains$3(format.preserve_attributes, attr.name.toLowerCase());\n        });\n        dom.removeAllAttribs(elm);\n        each$k(attrsToPreserve, function (attr) {\n          return dom.setAttrib(elm, attr.name, attr.value);\n        });\n        if (attrsToPreserve.length > 0) {\n          return removeResult.rename('span');\n        }\n      }\n      if (format.remove !== 'all') {\n        each$a(format.styles, function (value, name) {\n          value = normalizeStyleValue(dom, replaceVars(value, vars), name + '');\n          if (isNumber(name)) {\n            name = value;\n            compareNode = null;\n          }\n          if (format.remove_similar || (!compareNode || isEq$2(getStyle(dom, compareNode, name), value))) {\n            dom.setStyle(elm, name, '');\n          }\n          stylesModified = true;\n        });\n        if (stylesModified && dom.getAttrib(elm, 'style') === '') {\n          elm.removeAttribute('style');\n          elm.removeAttribute('data-mce-style');\n        }\n        each$a(format.attributes, function (value, name) {\n          var valueOut;\n          value = replaceVars(value, vars);\n          if (isNumber(name)) {\n            name = value;\n            compareNode = null;\n          }\n          if (format.remove_similar || (!compareNode || isEq$2(dom.getAttrib(compareNode, name), value))) {\n            if (name === 'class') {\n              value = dom.getAttrib(elm, name);\n              if (value) {\n                valueOut = '';\n                each$k(value.split(/\\s+/), function (cls) {\n                  if (/mce\\-\\w+/.test(cls)) {\n                    valueOut += (valueOut ? ' ' : '') + cls;\n                  }\n                });\n                if (valueOut) {\n                  dom.setAttrib(elm, name, valueOut);\n                  return;\n                }\n              }\n            }\n            if (MCE_ATTR_RE.test(name)) {\n              elm.removeAttribute('data-mce-' + name);\n            }\n            if (name === 'style' && matchNodeNames(['li'])(elm) && dom.getStyle(elm, 'list-style-type') === 'none') {\n              elm.removeAttribute(name);\n              dom.setStyle(elm, 'list-style-type', 'none');\n              return;\n            }\n            if (name === 'class') {\n              elm.removeAttribute('className');\n            }\n            elm.removeAttribute(name);\n          }\n        });\n        each$a(format.classes, function (value) {\n          value = replaceVars(value, vars);\n          if (!compareNode || dom.hasClass(compareNode, value)) {\n            dom.removeClass(elm, value);\n          }\n        });\n        var attrs = dom.getAttribs(elm);\n        for (var i = 0; i < attrs.length; i++) {\n          var attrName = attrs[i].nodeName;\n          if (attrName.indexOf('_') !== 0 && attrName.indexOf('data-') !== 0) {\n            return removeResult.keep();\n          }\n        }\n      }\n      if (format.remove !== 'none') {\n        removeNode(ed, elm, format);\n        return removeResult.removed();\n      }\n      return removeResult.keep();\n    };\n    var removeFormat$1 = function (ed, format, vars, node, compareNode) {\n      return removeFormatInternal(ed, format, vars, node, compareNode).fold(never, function (newName) {\n        ed.dom.rename(node, newName);\n        return true;\n      }, always);\n    };\n    var findFormatRoot = function (editor, container, name, vars, similar) {\n      var formatRoot;\n      each$k(getParents$2(editor.dom, container.parentNode).reverse(), function (parent) {\n        if (!formatRoot && parent.id !== '_start' && parent.id !== '_end') {\n          var format = matchNode(editor, parent, name, vars, similar);\n          if (format && format.split !== false) {\n            formatRoot = parent;\n          }\n        }\n      });\n      return formatRoot;\n    };\n    var removeFormatFromClone = function (editor, format, vars, clone) {\n      return removeFormatInternal(editor, format, vars, clone, clone).fold(constant(clone), function (newName) {\n        var fragment = editor.dom.createFragment();\n        fragment.appendChild(clone);\n        return editor.dom.rename(clone, newName);\n      }, constant(null));\n    };\n    var wrapAndSplit = function (editor, formatList, formatRoot, container, target, split, format, vars) {\n      var clone, lastClone, firstClone;\n      var dom = editor.dom;\n      if (formatRoot) {\n        var formatRootParent = formatRoot.parentNode;\n        for (var parent_1 = container.parentNode; parent_1 && parent_1 !== formatRootParent; parent_1 = parent_1.parentNode) {\n          clone = dom.clone(parent_1, false);\n          for (var i = 0; i < formatList.length; i++) {\n            clone = removeFormatFromClone(editor, formatList[i], vars, clone);\n            if (clone === null) {\n              break;\n            }\n          }\n          if (clone) {\n            if (lastClone) {\n              clone.appendChild(lastClone);\n            }\n            if (!firstClone) {\n              firstClone = clone;\n            }\n            lastClone = clone;\n          }\n        }\n        if (split && (!format.mixed || !dom.isBlock(formatRoot))) {\n          container = dom.split(formatRoot, container);\n        }\n        if (lastClone) {\n          target.parentNode.insertBefore(lastClone, target);\n          firstClone.appendChild(target);\n          if (isInlineFormat(format)) {\n            mergeSiblings(dom, format, vars, lastClone);\n          }\n        }\n      }\n      return container;\n    };\n    var remove$1 = function (ed, name, vars, node, similar) {\n      var formatList = ed.formatter.get(name);\n      var format = formatList[0];\n      var contentEditable = true;\n      var dom = ed.dom;\n      var selection = ed.selection;\n      var splitToFormatRoot = function (container) {\n        var formatRoot = findFormatRoot(ed, container, name, vars, similar);\n        return wrapAndSplit(ed, formatList, formatRoot, container, container, true, format, vars);\n      };\n      var isRemoveBookmarkNode = function (node) {\n        return isBookmarkNode$1(node) && isElement$5(node) && (node.id === '_start' || node.id === '_end');\n      };\n      var removeNodeFormat = function (node) {\n        return exists(formatList, function (fmt) {\n          return removeFormat$1(ed, fmt, vars, node, node);\n        });\n      };\n      var process = function (node) {\n        var lastContentEditable = true;\n        var hasContentEditableState = false;\n        if (isElement$5(node) && dom.getContentEditable(node)) {\n          lastContentEditable = contentEditable;\n          contentEditable = dom.getContentEditable(node) === 'true';\n          hasContentEditableState = true;\n        }\n        var children = from(node.childNodes);\n        if (contentEditable && !hasContentEditableState) {\n          var removed = removeNodeFormat(node);\n          var currentNodeMatches = removed || exists(formatList, function (f) {\n            return matchName$1(dom, node, f);\n          });\n          var parentNode = node.parentNode;\n          if (!currentNodeMatches && isNonNullable(parentNode) && shouldExpandToSelector(format)) {\n            removeNodeFormat(parentNode);\n          }\n        }\n        if (format.deep) {\n          if (children.length) {\n            for (var i = 0; i < children.length; i++) {\n              process(children[i]);\n            }\n            if (hasContentEditableState) {\n              contentEditable = lastContentEditable;\n            }\n          }\n        }\n        var textDecorations = [\n          'underline',\n          'line-through',\n          'overline'\n        ];\n        each$k(textDecorations, function (decoration) {\n          if (isElement$5(node) && ed.dom.getStyle(node, 'text-decoration') === decoration && node.parentNode && getTextDecoration(dom, node.parentNode) === decoration) {\n            removeFormat$1(ed, {\n              deep: false,\n              exact: true,\n              inline: 'span',\n              styles: { textDecoration: decoration }\n            }, null, node);\n          }\n        });\n      };\n      var unwrap = function (start) {\n        var node = dom.get(start ? '_start' : '_end');\n        var out = node[start ? 'firstChild' : 'lastChild'];\n        if (isRemoveBookmarkNode(out)) {\n          out = out[start ? 'firstChild' : 'lastChild'];\n        }\n        if (isText$7(out) && out.data.length === 0) {\n          out = start ? node.previousSibling || node.nextSibling : node.nextSibling || node.previousSibling;\n        }\n        dom.remove(node, true);\n        return out;\n      };\n      var removeRngStyle = function (rng) {\n        var startContainer, endContainer;\n        var expandedRng = expandRng(ed, rng, formatList, rng.collapsed);\n        if (format.split) {\n          expandedRng = split(expandedRng);\n          startContainer = getContainer(ed, expandedRng, true);\n          endContainer = getContainer(ed, expandedRng);\n          if (startContainer !== endContainer) {\n            startContainer = normalizeTableSelection(startContainer, true);\n            endContainer = normalizeTableSelection(endContainer, false);\n            if (isChildOfInlineParent(dom, startContainer, endContainer)) {\n              var marker = Optional.from(startContainer.firstChild).getOr(startContainer);\n              splitToFormatRoot(wrapWithSiblings(dom, marker, true, 'span', {\n                'id': '_start',\n                'data-mce-type': 'bookmark'\n              }));\n              unwrap(true);\n              return;\n            }\n            if (isChildOfInlineParent(dom, endContainer, startContainer)) {\n              var marker = Optional.from(endContainer.lastChild).getOr(endContainer);\n              splitToFormatRoot(wrapWithSiblings(dom, marker, false, 'span', {\n                'id': '_end',\n                'data-mce-type': 'bookmark'\n              }));\n              unwrap(false);\n              return;\n            }\n            startContainer = wrap$1(dom, startContainer, 'span', {\n              'id': '_start',\n              'data-mce-type': 'bookmark'\n            });\n            endContainer = wrap$1(dom, endContainer, 'span', {\n              'id': '_end',\n              'data-mce-type': 'bookmark'\n            });\n            var newRng = dom.createRng();\n            newRng.setStartAfter(startContainer);\n            newRng.setEndBefore(endContainer);\n            walk$2(dom, newRng, function (nodes) {\n              each$k(nodes, function (n) {\n                if (!isBookmarkNode$1(n) && !isBookmarkNode$1(n.parentNode)) {\n                  splitToFormatRoot(n);\n                }\n              });\n            });\n            splitToFormatRoot(startContainer);\n            splitToFormatRoot(endContainer);\n            startContainer = unwrap(true);\n            endContainer = unwrap();\n          } else {\n            startContainer = endContainer = splitToFormatRoot(startContainer);\n          }\n          expandedRng.startContainer = startContainer.parentNode ? startContainer.parentNode : startContainer;\n          expandedRng.startOffset = dom.nodeIndex(startContainer);\n          expandedRng.endContainer = endContainer.parentNode ? endContainer.parentNode : endContainer;\n          expandedRng.endOffset = dom.nodeIndex(endContainer) + 1;\n        }\n        walk$2(dom, expandedRng, function (nodes) {\n          each$k(nodes, process);\n        });\n      };\n      if (node) {\n        if (isNode(node)) {\n          var rng = dom.createRng();\n          rng.setStartBefore(node);\n          rng.setEndAfter(node);\n          removeRngStyle(rng);\n        } else {\n          removeRngStyle(node);\n        }\n        fireFormatRemove(ed, name, node, vars);\n        return;\n      }\n      if (dom.getContentEditable(selection.getNode()) === 'false') {\n        node = selection.getNode();\n        for (var i = 0; i < formatList.length; i++) {\n          if (formatList[i].ceFalseOverride) {\n            if (removeFormat$1(ed, formatList[i], vars, node, node)) {\n              break;\n            }\n          }\n        }\n        fireFormatRemove(ed, name, node, vars);\n        return;\n      }\n      if (!selection.isCollapsed() || !isInlineFormat(format) || getCellsFromEditor(ed).length) {\n        preserve(selection, true, function () {\n          runOnRanges(ed, removeRngStyle);\n        });\n        if (isInlineFormat(format) && match$2(ed, name, vars, selection.getStart())) {\n          moveStart(dom, selection, selection.getRng());\n        }\n        ed.nodeChanged();\n      } else {\n        removeCaretFormat(ed, name, vars, similar);\n      }\n      fireFormatRemove(ed, name, node, vars);\n    };\n\n    var each$9 = Tools.each;\n    var mergeTextDecorationsAndColor = function (dom, format, vars, node) {\n      var processTextDecorationsAndColor = function (n) {\n        if (n.nodeType === 1 && n.parentNode && n.parentNode.nodeType === 1) {\n          var textDecoration = getTextDecoration(dom, n.parentNode);\n          if (dom.getStyle(n, 'color') && textDecoration) {\n            dom.setStyle(n, 'text-decoration', textDecoration);\n          } else if (dom.getStyle(n, 'text-decoration') === textDecoration) {\n            dom.setStyle(n, 'text-decoration', null);\n          }\n        }\n      };\n      if (format.styles && (format.styles.color || format.styles.textDecoration)) {\n        Tools.walk(node, processTextDecorationsAndColor, 'childNodes');\n        processTextDecorationsAndColor(node);\n      }\n    };\n    var mergeBackgroundColorAndFontSize = function (dom, format, vars, node) {\n      if (format.styles && format.styles.backgroundColor) {\n        processChildElements(node, hasStyle(dom, 'fontSize'), applyStyle(dom, 'backgroundColor', replaceVars(format.styles.backgroundColor, vars)));\n      }\n    };\n    var mergeSubSup = function (dom, format, vars, node) {\n      if (isInlineFormat(format) && (format.inline === 'sub' || format.inline === 'sup')) {\n        processChildElements(node, hasStyle(dom, 'fontSize'), applyStyle(dom, 'fontSize', ''));\n        dom.remove(dom.select(format.inline === 'sup' ? 'sub' : 'sup', node), true);\n      }\n    };\n    var mergeWithChildren = function (editor, formatList, vars, node) {\n      each$9(formatList, function (format) {\n        if (isInlineFormat(format)) {\n          each$9(editor.dom.select(format.inline, node), function (child) {\n            if (!isElementNode$1(child)) {\n              return;\n            }\n            removeFormat$1(editor, format, vars, child, format.exact ? child : null);\n          });\n        }\n        clearChildStyles(editor.dom, format, node);\n      });\n    };\n    var mergeWithParents = function (editor, format, name, vars, node) {\n      if (matchNode(editor, node.parentNode, name, vars)) {\n        if (removeFormat$1(editor, format, vars, node)) {\n          return;\n        }\n      }\n      if (format.merge_with_parents) {\n        editor.dom.getParent(node.parentNode, function (parent) {\n          if (matchNode(editor, parent, name, vars)) {\n            removeFormat$1(editor, format, vars, node);\n            return true;\n          }\n        });\n      }\n    };\n\n    var each$8 = Tools.each;\n    var isElementNode = function (node) {\n      return isElement$5(node) && !isBookmarkNode$1(node) && !isCaretNode(node) && !isBogus$2(node);\n    };\n    var canFormatBR = function (editor, format, node, parentName) {\n      if (canFormatEmptyLines(editor) && isInlineFormat(format)) {\n        var validBRParentElements = getTextRootBlockElements(editor.schema);\n        var hasCaretNodeSibling = sibling(SugarElement.fromDom(node), function (sibling) {\n          return isCaretNode(sibling.dom);\n        });\n        return hasNonNullableKey(validBRParentElements, parentName) && isEmpty$2(SugarElement.fromDom(node.parentNode), false) && !hasCaretNodeSibling;\n      } else {\n        return false;\n      }\n    };\n    var applyFormat$1 = function (ed, name, vars, node) {\n      var formatList = ed.formatter.get(name);\n      var format = formatList[0];\n      var isCollapsed = !node && ed.selection.isCollapsed();\n      var dom = ed.dom;\n      var selection = ed.selection;\n      var setElementFormat = function (elm, fmt) {\n        if (fmt === void 0) {\n          fmt = format;\n        }\n        if (isFunction(fmt.onformat)) {\n          fmt.onformat(elm, fmt, vars, node);\n        }\n        each$8(fmt.styles, function (value, name) {\n          dom.setStyle(elm, name, replaceVars(value, vars));\n        });\n        if (fmt.styles) {\n          var styleVal = dom.getAttrib(elm, 'style');\n          if (styleVal) {\n            dom.setAttrib(elm, 'data-mce-style', styleVal);\n          }\n        }\n        each$8(fmt.attributes, function (value, name) {\n          dom.setAttrib(elm, name, replaceVars(value, vars));\n        });\n        each$8(fmt.classes, function (value) {\n          value = replaceVars(value, vars);\n          if (!dom.hasClass(elm, value)) {\n            dom.addClass(elm, value);\n          }\n        });\n      };\n      var applyNodeStyle = function (formatList, node) {\n        var found = false;\n        each$8(formatList, function (format) {\n          if (!isSelectorFormat(format)) {\n            return false;\n          }\n          if (isNonNullable(format.collapsed) && format.collapsed !== isCollapsed) {\n            return;\n          }\n          if (dom.is(node, format.selector) && !isCaretNode(node)) {\n            setElementFormat(node, format);\n            found = true;\n            return false;\n          }\n        });\n        return found;\n      };\n      var createWrapElement = function (wrapName) {\n        if (isString$1(wrapName)) {\n          var wrapElm = dom.create(wrapName);\n          setElementFormat(wrapElm);\n          return wrapElm;\n        } else {\n          return null;\n        }\n      };\n      var applyRngStyle = function (dom, rng, nodeSpecific) {\n        var newWrappers = [];\n        var contentEditable = true;\n        var wrapName = format.inline || format.block;\n        var wrapElm = createWrapElement(wrapName);\n        walk$2(dom, rng, function (nodes) {\n          var currentWrapElm;\n          var process = function (node) {\n            var hasContentEditableState = false;\n            var lastContentEditable = contentEditable;\n            var nodeName = node.nodeName.toLowerCase();\n            var parentNode = node.parentNode;\n            var parentName = parentNode.nodeName.toLowerCase();\n            if (isElement$5(node) && dom.getContentEditable(node)) {\n              lastContentEditable = contentEditable;\n              contentEditable = dom.getContentEditable(node) === 'true';\n              hasContentEditableState = true;\n            }\n            if (isBr$5(node) && !canFormatBR(ed, format, node, parentName)) {\n              currentWrapElm = null;\n              if (isBlockFormat(format)) {\n                dom.remove(node);\n              }\n              return;\n            }\n            if (isBlockFormat(format) && format.wrapper && matchNode(ed, node, name, vars)) {\n              currentWrapElm = null;\n              return;\n            }\n            if (contentEditable && !hasContentEditableState && isBlockFormat(format) && !format.wrapper && isTextBlock$1(ed, nodeName) && isValid(ed, parentName, wrapName)) {\n              var elm = dom.rename(node, wrapName);\n              setElementFormat(elm);\n              newWrappers.push(elm);\n              currentWrapElm = null;\n              return;\n            }\n            if (isSelectorFormat(format)) {\n              var found = applyNodeStyle(formatList, node);\n              if (!found && isNonNullable(parentNode) && shouldExpandToSelector(format)) {\n                found = applyNodeStyle(formatList, parentNode);\n              }\n              if (!isInlineFormat(format) || found) {\n                currentWrapElm = null;\n                return;\n              }\n            }\n            if (contentEditable && !hasContentEditableState && isValid(ed, wrapName, nodeName) && isValid(ed, parentName, wrapName) && !(!nodeSpecific && isText$7(node) && isZwsp(node.data)) && !isCaretNode(node) && (!isInlineFormat(format) || !dom.isBlock(node))) {\n              if (!currentWrapElm) {\n                currentWrapElm = dom.clone(wrapElm, false);\n                node.parentNode.insertBefore(currentWrapElm, node);\n                newWrappers.push(currentWrapElm);\n              }\n              currentWrapElm.appendChild(node);\n            } else {\n              currentWrapElm = null;\n              each$k(from(node.childNodes), process);\n              if (hasContentEditableState) {\n                contentEditable = lastContentEditable;\n              }\n              currentWrapElm = null;\n            }\n          };\n          each$k(nodes, process);\n        });\n        if (format.links === true) {\n          each$k(newWrappers, function (node) {\n            var process = function (node) {\n              if (node.nodeName === 'A') {\n                setElementFormat(node, format);\n              }\n              each$k(from(node.childNodes), process);\n            };\n            process(node);\n          });\n        }\n        each$k(newWrappers, function (node) {\n          var getChildCount = function (node) {\n            var count = 0;\n            each$k(node.childNodes, function (node) {\n              if (!isEmptyTextNode$1(node) && !isBookmarkNode$1(node)) {\n                count++;\n              }\n            });\n            return count;\n          };\n          var mergeStyles = function (node) {\n            var childElement = find$3(node.childNodes, isElementNode).filter(function (child) {\n              return matchName$1(dom, child, format);\n            });\n            return childElement.map(function (child) {\n              var clone = dom.clone(child, false);\n              setElementFormat(clone);\n              dom.replace(clone, node, true);\n              dom.remove(child, true);\n              return clone;\n            }).getOr(node);\n          };\n          var childCount = getChildCount(node);\n          if ((newWrappers.length > 1 || !dom.isBlock(node)) && childCount === 0) {\n            dom.remove(node, true);\n            return;\n          }\n          if (isInlineFormat(format) || isBlockFormat(format) && format.wrapper) {\n            if (!format.exact && childCount === 1) {\n              node = mergeStyles(node);\n            }\n            mergeWithChildren(ed, formatList, vars, node);\n            mergeWithParents(ed, format, name, vars, node);\n            mergeBackgroundColorAndFontSize(dom, format, vars, node);\n            mergeTextDecorationsAndColor(dom, format, vars, node);\n            mergeSubSup(dom, format, vars, node);\n            mergeSiblings(dom, format, vars, node);\n          }\n        });\n      };\n      if (dom.getContentEditable(selection.getNode()) === 'false') {\n        node = selection.getNode();\n        for (var i = 0, l = formatList.length; i < l; i++) {\n          var formatItem = formatList[i];\n          if (formatItem.ceFalseOverride && isSelectorFormat(formatItem) && dom.is(node, formatItem.selector)) {\n            setElementFormat(node, formatItem);\n            break;\n          }\n        }\n        fireFormatApply(ed, name, node, vars);\n        return;\n      }\n      if (format) {\n        if (node) {\n          if (isNode(node)) {\n            if (!applyNodeStyle(formatList, node)) {\n              var rng = dom.createRng();\n              rng.setStartBefore(node);\n              rng.setEndAfter(node);\n              applyRngStyle(dom, expandRng(ed, rng, formatList), true);\n            }\n          } else {\n            applyRngStyle(dom, node, true);\n          }\n        } else {\n          if (!isCollapsed || !isInlineFormat(format) || getCellsFromEditor(ed).length) {\n            var curSelNode = selection.getNode();\n            var firstFormat = formatList[0];\n            if (!ed.settings.forced_root_block && firstFormat.defaultBlock && !dom.getParent(curSelNode, dom.isBlock)) {\n              applyFormat$1(ed, firstFormat.defaultBlock);\n            }\n            selection.setRng(normalize(selection.getRng()));\n            preserve(selection, true, function () {\n              runOnRanges(ed, function (selectionRng, fake) {\n                var expandedRng = fake ? selectionRng : expandRng(ed, selectionRng, formatList);\n                applyRngStyle(dom, expandedRng, false);\n              });\n            });\n            moveStart(dom, selection, selection.getRng());\n            ed.nodeChanged();\n          } else {\n            applyCaretFormat(ed, name, vars);\n          }\n        }\n        postProcess$1(name, ed);\n      }\n      fireFormatApply(ed, name, node, vars);\n    };\n\n    var hasVars = function (value) {\n      return has$2(value, 'vars');\n    };\n    var setup$j = function (registeredFormatListeners, editor) {\n      registeredFormatListeners.set({});\n      editor.on('NodeChange', function (e) {\n        updateAndFireChangeCallbacks(editor, e.element, registeredFormatListeners.get());\n      });\n      editor.on('FormatApply FormatRemove', function (e) {\n        var element = Optional.from(e.node).map(function (nodeOrRange) {\n          return isNode(nodeOrRange) ? nodeOrRange : nodeOrRange.startContainer;\n        }).bind(function (node) {\n          return isElement$5(node) ? Optional.some(node) : Optional.from(node.parentElement);\n        }).getOrThunk(function () {\n          return fallbackElement(editor);\n        });\n        updateAndFireChangeCallbacks(editor, element, registeredFormatListeners.get());\n      });\n    };\n    var fallbackElement = function (editor) {\n      return editor.selection.getStart();\n    };\n    var matchingNode = function (editor, parents, format, similar, vars) {\n      var isMatchingNode = function (node) {\n        var matchingFormat = editor.formatter.matchNode(node, format, vars !== null && vars !== void 0 ? vars : {}, similar);\n        return !isUndefined(matchingFormat);\n      };\n      var isUnableToMatch = function (node) {\n        if (matchesUnInheritedFormatSelector(editor, node, format)) {\n          return true;\n        } else {\n          if (!similar) {\n            return isNonNullable(editor.formatter.matchNode(node, format, vars, true));\n          } else {\n            return false;\n          }\n        }\n      };\n      return findUntil$1(parents, isMatchingNode, isUnableToMatch);\n    };\n    var getParents = function (editor, elm) {\n      var element = elm !== null && elm !== void 0 ? elm : fallbackElement(editor);\n      return filter$4(getParents$2(editor.dom, element), function (node) {\n        return isElement$5(node) && !isBogus$2(node);\n      });\n    };\n    var updateAndFireChangeCallbacks = function (editor, elm, registeredCallbacks) {\n      var parents = getParents(editor, elm);\n      each$j(registeredCallbacks, function (data, format) {\n        var runIfChanged = function (spec) {\n          var match = matchingNode(editor, parents, format, spec.similar, hasVars(spec) ? spec.vars : undefined);\n          var isSet = match.isSome();\n          if (spec.state.get() !== isSet) {\n            spec.state.set(isSet);\n            var node_1 = match.getOr(elm);\n            if (hasVars(spec)) {\n              spec.callback(isSet, {\n                node: node_1,\n                format: format,\n                parents: parents\n              });\n            } else {\n              each$k(spec.callbacks, function (callback) {\n                return callback(isSet, {\n                  node: node_1,\n                  format: format,\n                  parents: parents\n                });\n              });\n            }\n          }\n        };\n        each$k([\n          data.withSimilar,\n          data.withoutSimilar\n        ], runIfChanged);\n        each$k(data.withVars, runIfChanged);\n      });\n    };\n    var addListeners = function (editor, registeredFormatListeners, formats, callback, similar, vars) {\n      var formatChangeItems = registeredFormatListeners.get();\n      each$k(formats.split(','), function (format) {\n        var group = get$9(formatChangeItems, format).getOrThunk(function () {\n          var base = {\n            withSimilar: {\n              state: Cell(false),\n              similar: true,\n              callbacks: []\n            },\n            withoutSimilar: {\n              state: Cell(false),\n              similar: false,\n              callbacks: []\n            },\n            withVars: []\n          };\n          formatChangeItems[format] = base;\n          return base;\n        });\n        var getCurrent = function () {\n          var parents = getParents(editor);\n          return matchingNode(editor, parents, format, similar, vars).isSome();\n        };\n        if (isUndefined(vars)) {\n          var toAppendTo = similar ? group.withSimilar : group.withoutSimilar;\n          toAppendTo.callbacks.push(callback);\n          if (toAppendTo.callbacks.length === 1) {\n            toAppendTo.state.set(getCurrent());\n          }\n        } else {\n          group.withVars.push({\n            state: Cell(getCurrent()),\n            similar: similar,\n            vars: vars,\n            callback: callback\n          });\n        }\n      });\n      registeredFormatListeners.set(formatChangeItems);\n    };\n    var removeListeners = function (registeredFormatListeners, formats, callback) {\n      var formatChangeItems = registeredFormatListeners.get();\n      each$k(formats.split(','), function (format) {\n        return get$9(formatChangeItems, format).each(function (group) {\n          formatChangeItems[format] = {\n            withSimilar: __assign(__assign({}, group.withSimilar), {\n              callbacks: filter$4(group.withSimilar.callbacks, function (cb) {\n                return cb !== callback;\n              })\n            }),\n            withoutSimilar: __assign(__assign({}, group.withoutSimilar), {\n              callbacks: filter$4(group.withoutSimilar.callbacks, function (cb) {\n                return cb !== callback;\n              })\n            }),\n            withVars: filter$4(group.withVars, function (item) {\n              return item.callback !== callback;\n            })\n          };\n        });\n      });\n      registeredFormatListeners.set(formatChangeItems);\n    };\n    var formatChangedInternal = function (editor, registeredFormatListeners, formats, callback, similar, vars) {\n      if (registeredFormatListeners.get() === null) {\n        setup$j(registeredFormatListeners, editor);\n      }\n      addListeners(editor, registeredFormatListeners, formats, callback, similar, vars);\n      return {\n        unbind: function () {\n          return removeListeners(registeredFormatListeners, formats, callback);\n        }\n      };\n    };\n\n    var toggle = function (editor, name, vars, node) {\n      var fmt = editor.formatter.get(name);\n      if (match$2(editor, name, vars, node) && (!('toggle' in fmt[0]) || fmt[0].toggle)) {\n        remove$1(editor, name, vars, node);\n      } else {\n        applyFormat$1(editor, name, vars, node);\n      }\n    };\n\n    var fromElements = function (elements, scope) {\n      var doc = scope || document;\n      var fragment = doc.createDocumentFragment();\n      each$k(elements, function (element) {\n        fragment.appendChild(element.dom);\n      });\n      return SugarElement.fromDom(fragment);\n    };\n\n    var tableModel = function (element, width, rows) {\n      return {\n        element: element,\n        width: width,\n        rows: rows\n      };\n    };\n    var tableRow = function (element, cells) {\n      return {\n        element: element,\n        cells: cells\n      };\n    };\n    var cellPosition = function (x, y) {\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var getSpan = function (td, key) {\n      var value = parseInt(get$6(td, key), 10);\n      return isNaN(value) ? 1 : value;\n    };\n    var fillout = function (table, x, y, tr, td) {\n      var rowspan = getSpan(td, 'rowspan');\n      var colspan = getSpan(td, 'colspan');\n      var rows = table.rows;\n      for (var y2 = y; y2 < y + rowspan; y2++) {\n        if (!rows[y2]) {\n          rows[y2] = tableRow(deep$1(tr), []);\n        }\n        for (var x2 = x; x2 < x + colspan; x2++) {\n          var cells = rows[y2].cells;\n          cells[x2] = y2 === y && x2 === x ? td : shallow(td);\n        }\n      }\n    };\n    var cellExists = function (table, x, y) {\n      var rows = table.rows;\n      var cells = rows[y] ? rows[y].cells : [];\n      return !!cells[x];\n    };\n    var skipCellsX = function (table, x, y) {\n      while (cellExists(table, x, y)) {\n        x++;\n      }\n      return x;\n    };\n    var getWidth = function (rows) {\n      return foldl(rows, function (acc, row) {\n        return row.cells.length > acc ? row.cells.length : acc;\n      }, 0);\n    };\n    var findElementPos = function (table, element) {\n      var rows = table.rows;\n      for (var y = 0; y < rows.length; y++) {\n        var cells = rows[y].cells;\n        for (var x = 0; x < cells.length; x++) {\n          if (eq(cells[x], element)) {\n            return Optional.some(cellPosition(x, y));\n          }\n        }\n      }\n      return Optional.none();\n    };\n    var extractRows = function (table, sx, sy, ex, ey) {\n      var newRows = [];\n      var rows = table.rows;\n      for (var y = sy; y <= ey; y++) {\n        var cells = rows[y].cells;\n        var slice = sx < ex ? cells.slice(sx, ex + 1) : cells.slice(ex, sx + 1);\n        newRows.push(tableRow(rows[y].element, slice));\n      }\n      return newRows;\n    };\n    var subTable = function (table, startPos, endPos) {\n      var sx = startPos.x, sy = startPos.y;\n      var ex = endPos.x, ey = endPos.y;\n      var newRows = sy < ey ? extractRows(table, sx, sy, ex, ey) : extractRows(table, sx, ey, ex, sy);\n      return tableModel(table.element, getWidth(newRows), newRows);\n    };\n    var createDomTable = function (table, rows) {\n      var tableElement = shallow(table.element);\n      var tableBody = SugarElement.fromTag('tbody');\n      append(tableBody, rows);\n      append$1(tableElement, tableBody);\n      return tableElement;\n    };\n    var modelRowsToDomRows = function (table) {\n      return map$3(table.rows, function (row) {\n        var cells = map$3(row.cells, function (cell) {\n          var td = deep$1(cell);\n          remove$6(td, 'colspan');\n          remove$6(td, 'rowspan');\n          return td;\n        });\n        var tr = shallow(row.element);\n        append(tr, cells);\n        return tr;\n      });\n    };\n    var fromDom = function (tableElm) {\n      var table = tableModel(shallow(tableElm), 0, []);\n      each$k(descendants(tableElm, 'tr'), function (tr, y) {\n        each$k(descendants(tr, 'td,th'), function (td, x) {\n          fillout(table, skipCellsX(table, x, y), y, tr, td);\n        });\n      });\n      return tableModel(table.element, getWidth(table.rows), table.rows);\n    };\n    var toDom = function (table) {\n      return createDomTable(table, modelRowsToDomRows(table));\n    };\n    var subsection = function (table, startElement, endElement) {\n      return findElementPos(table, startElement).bind(function (startPos) {\n        return findElementPos(table, endElement).map(function (endPos) {\n          return subTable(table, startPos, endPos);\n        });\n      });\n    };\n\n    var findParentListContainer = function (parents) {\n      return find$3(parents, function (elm) {\n        return name(elm) === 'ul' || name(elm) === 'ol';\n      });\n    };\n    var getFullySelectedListWrappers = function (parents, rng) {\n      return find$3(parents, function (elm) {\n        return name(elm) === 'li' && hasAllContentsSelected(elm, rng);\n      }).fold(constant([]), function (_li) {\n        return findParentListContainer(parents).map(function (listCont) {\n          var listElm = SugarElement.fromTag(name(listCont));\n          var listStyles = filter$3(getAllRaw(listCont), function (_style, name) {\n            return startsWith(name, 'list-style');\n          });\n          setAll(listElm, listStyles);\n          return [\n            SugarElement.fromTag('li'),\n            listElm\n          ];\n        }).getOr([]);\n      });\n    };\n    var wrap = function (innerElm, elms) {\n      var wrapped = foldl(elms, function (acc, elm) {\n        append$1(elm, acc);\n        return elm;\n      }, innerElm);\n      return elms.length > 0 ? fromElements([wrapped]) : wrapped;\n    };\n    var directListWrappers = function (commonAnchorContainer) {\n      if (isListItem(commonAnchorContainer)) {\n        return parent(commonAnchorContainer).filter(isList).fold(constant([]), function (listElm) {\n          return [\n            commonAnchorContainer,\n            listElm\n          ];\n        });\n      } else {\n        return isList(commonAnchorContainer) ? [commonAnchorContainer] : [];\n      }\n    };\n    var getWrapElements = function (rootNode, rng) {\n      var commonAnchorContainer = SugarElement.fromDom(rng.commonAncestorContainer);\n      var parents = parentsAndSelf(commonAnchorContainer, rootNode);\n      var wrapElements = filter$4(parents, function (elm) {\n        return isInline$1(elm) || isHeading(elm);\n      });\n      var listWrappers = getFullySelectedListWrappers(parents, rng);\n      var allWrappers = wrapElements.concat(listWrappers.length ? listWrappers : directListWrappers(commonAnchorContainer));\n      return map$3(allWrappers, shallow);\n    };\n    var emptyFragment = function () {\n      return fromElements([]);\n    };\n    var getFragmentFromRange = function (rootNode, rng) {\n      return wrap(SugarElement.fromDom(rng.cloneContents()), getWrapElements(rootNode, rng));\n    };\n    var getParentTable = function (rootElm, cell) {\n      return ancestor$2(cell, 'table', curry(eq, rootElm));\n    };\n    var getTableFragment = function (rootNode, selectedTableCells) {\n      return getParentTable(rootNode, selectedTableCells[0]).bind(function (tableElm) {\n        var firstCell = selectedTableCells[0];\n        var lastCell = selectedTableCells[selectedTableCells.length - 1];\n        var fullTableModel = fromDom(tableElm);\n        return subsection(fullTableModel, firstCell, lastCell).map(function (sectionedTableModel) {\n          return fromElements([toDom(sectionedTableModel)]);\n        });\n      }).getOrThunk(emptyFragment);\n    };\n    var getSelectionFragment = function (rootNode, ranges) {\n      return ranges.length > 0 && ranges[0].collapsed ? emptyFragment() : getFragmentFromRange(rootNode, ranges[0]);\n    };\n    var read$3 = function (rootNode, ranges) {\n      var selectedCells = getCellsFromElementOrRanges(ranges, rootNode);\n      return selectedCells.length > 0 ? getTableFragment(rootNode, selectedCells) : getSelectionFragment(rootNode, ranges);\n    };\n\n    var trimLeadingCollapsibleText = function (text) {\n      return text.replace(/^[ \\f\\n\\r\\t\\v]+/, '');\n    };\n    var isCollapsibleWhitespace = function (text, index) {\n      return index >= 0 && index < text.length && isWhiteSpace(text.charAt(index));\n    };\n    var getInnerText = function (bin, shouldTrim) {\n      var text = trim$3(bin.innerText);\n      return shouldTrim ? trimLeadingCollapsibleText(text) : text;\n    };\n    var getContextNodeName = function (parentBlockOpt) {\n      return parentBlockOpt.map(function (block) {\n        return block.nodeName;\n      }).getOr('div').toLowerCase();\n    };\n    var getTextContent = function (editor) {\n      return Optional.from(editor.selection.getRng()).map(function (rng) {\n        var parentBlockOpt = Optional.from(editor.dom.getParent(rng.commonAncestorContainer, editor.dom.isBlock));\n        var body = editor.getBody();\n        var contextNodeName = getContextNodeName(parentBlockOpt);\n        var shouldTrimSpaces = Env.browser.isIE() && contextNodeName !== 'pre';\n        var bin = editor.dom.add(body, contextNodeName, {\n          'data-mce-bogus': 'all',\n          'style': 'overflow: hidden; opacity: 0;'\n        }, rng.cloneContents());\n        var text = getInnerText(bin, shouldTrimSpaces);\n        var nonRenderedText = trim$3(bin.textContent);\n        editor.dom.remove(bin);\n        if (isCollapsibleWhitespace(nonRenderedText, 0) || isCollapsibleWhitespace(nonRenderedText, nonRenderedText.length - 1)) {\n          var parentBlock = parentBlockOpt.getOr(body);\n          var parentBlockText = getInnerText(parentBlock, shouldTrimSpaces);\n          var textIndex = parentBlockText.indexOf(text);\n          if (textIndex === -1) {\n            return text;\n          } else {\n            var hasProceedingSpace = isCollapsibleWhitespace(parentBlockText, textIndex - 1);\n            var hasTrailingSpace = isCollapsibleWhitespace(parentBlockText, textIndex + text.length);\n            return (hasProceedingSpace ? ' ' : '') + text + (hasTrailingSpace ? ' ' : '');\n          }\n        } else {\n          return text;\n        }\n      }).getOr('');\n    };\n    var getSerializedContent = function (editor, args) {\n      var rng = editor.selection.getRng(), tmpElm = editor.dom.create('body');\n      var sel = editor.selection.getSel();\n      var ranges = processRanges(editor, getRanges(sel));\n      var fragment = args.contextual ? read$3(SugarElement.fromDom(editor.getBody()), ranges).dom : rng.cloneContents();\n      if (fragment) {\n        tmpElm.appendChild(fragment);\n      }\n      return editor.selection.serializer.serialize(tmpElm, args);\n    };\n    var setupArgs$1 = function (args, format) {\n      return __assign(__assign({}, args), {\n        format: format,\n        get: true,\n        selection: true\n      });\n    };\n    var getSelectedContentInternal = function (editor, format, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      var defaultedArgs = setupArgs$1(args, format);\n      var updatedArgs = editor.fire('BeforeGetContent', defaultedArgs);\n      if (updatedArgs.isDefaultPrevented()) {\n        editor.fire('GetContent', updatedArgs);\n        return updatedArgs.content;\n      }\n      if (updatedArgs.format === 'text') {\n        return getTextContent(editor);\n      } else {\n        updatedArgs.getInner = true;\n        var content = getSerializedContent(editor, updatedArgs);\n        if (updatedArgs.format === 'tree') {\n          return content;\n        } else {\n          updatedArgs.content = editor.selection.isCollapsed() ? '' : content;\n          editor.fire('GetContent', updatedArgs);\n          return updatedArgs.content;\n        }\n      }\n    };\n\n    var KEEP = 0, INSERT = 1, DELETE = 2;\n    var diff = function (left, right) {\n      var size = left.length + right.length + 2;\n      var vDown = new Array(size);\n      var vUp = new Array(size);\n      var snake = function (start, end, diag) {\n        return {\n          start: start,\n          end: end,\n          diag: diag\n        };\n      };\n      var buildScript = function (start1, end1, start2, end2, script) {\n        var middle = getMiddleSnake(start1, end1, start2, end2);\n        if (middle === null || middle.start === end1 && middle.diag === end1 - end2 || middle.end === start1 && middle.diag === start1 - start2) {\n          var i = start1;\n          var j = start2;\n          while (i < end1 || j < end2) {\n            if (i < end1 && j < end2 && left[i] === right[j]) {\n              script.push([\n                KEEP,\n                left[i]\n              ]);\n              ++i;\n              ++j;\n            } else {\n              if (end1 - start1 > end2 - start2) {\n                script.push([\n                  DELETE,\n                  left[i]\n                ]);\n                ++i;\n              } else {\n                script.push([\n                  INSERT,\n                  right[j]\n                ]);\n                ++j;\n              }\n            }\n          }\n        } else {\n          buildScript(start1, middle.start, start2, middle.start - middle.diag, script);\n          for (var i2 = middle.start; i2 < middle.end; ++i2) {\n            script.push([\n              KEEP,\n              left[i2]\n            ]);\n          }\n          buildScript(middle.end, end1, middle.end - middle.diag, end2, script);\n        }\n      };\n      var buildSnake = function (start, diag, end1, end2) {\n        var end = start;\n        while (end - diag < end2 && end < end1 && left[end] === right[end - diag]) {\n          ++end;\n        }\n        return snake(start, end, diag);\n      };\n      var getMiddleSnake = function (start1, end1, start2, end2) {\n        var m = end1 - start1;\n        var n = end2 - start2;\n        if (m === 0 || n === 0) {\n          return null;\n        }\n        var delta = m - n;\n        var sum = n + m;\n        var offset = (sum % 2 === 0 ? sum : sum + 1) / 2;\n        vDown[1 + offset] = start1;\n        vUp[1 + offset] = end1 + 1;\n        var d, k, i, x, y;\n        for (d = 0; d <= offset; ++d) {\n          for (k = -d; k <= d; k += 2) {\n            i = k + offset;\n            if (k === -d || k !== d && vDown[i - 1] < vDown[i + 1]) {\n              vDown[i] = vDown[i + 1];\n            } else {\n              vDown[i] = vDown[i - 1] + 1;\n            }\n            x = vDown[i];\n            y = x - start1 + start2 - k;\n            while (x < end1 && y < end2 && left[x] === right[y]) {\n              vDown[i] = ++x;\n              ++y;\n            }\n            if (delta % 2 !== 0 && delta - d <= k && k <= delta + d) {\n              if (vUp[i - delta] <= vDown[i]) {\n                return buildSnake(vUp[i - delta], k + start1 - start2, end1, end2);\n              }\n            }\n          }\n          for (k = delta - d; k <= delta + d; k += 2) {\n            i = k + offset - delta;\n            if (k === delta - d || k !== delta + d && vUp[i + 1] <= vUp[i - 1]) {\n              vUp[i] = vUp[i + 1] - 1;\n            } else {\n              vUp[i] = vUp[i - 1];\n            }\n            x = vUp[i] - 1;\n            y = x - start1 + start2 - k;\n            while (x >= start1 && y >= start2 && left[x] === right[y]) {\n              vUp[i] = x--;\n              y--;\n            }\n            if (delta % 2 === 0 && -d <= k && k <= d) {\n              if (vUp[i] <= vDown[i + delta]) {\n                return buildSnake(vUp[i], k + start1 - start2, end1, end2);\n              }\n            }\n          }\n        }\n      };\n      var script = [];\n      buildScript(0, left.length, 0, right.length, script);\n      return script;\n    };\n\n    var getOuterHtml = function (elm) {\n      if (isElement$5(elm)) {\n        return elm.outerHTML;\n      } else if (isText$7(elm)) {\n        return Entities.encodeRaw(elm.data, false);\n      } else if (isComment(elm)) {\n        return '<!--' + elm.data + '-->';\n      }\n      return '';\n    };\n    var createFragment = function (html) {\n      var node;\n      var container = document.createElement('div');\n      var frag = document.createDocumentFragment();\n      if (html) {\n        container.innerHTML = html;\n      }\n      while (node = container.firstChild) {\n        frag.appendChild(node);\n      }\n      return frag;\n    };\n    var insertAt = function (elm, html, index) {\n      var fragment = createFragment(html);\n      if (elm.hasChildNodes() && index < elm.childNodes.length) {\n        var target = elm.childNodes[index];\n        target.parentNode.insertBefore(fragment, target);\n      } else {\n        elm.appendChild(fragment);\n      }\n    };\n    var removeAt = function (elm, index) {\n      if (elm.hasChildNodes() && index < elm.childNodes.length) {\n        var target = elm.childNodes[index];\n        target.parentNode.removeChild(target);\n      }\n    };\n    var applyDiff = function (diff, elm) {\n      var index = 0;\n      each$k(diff, function (action) {\n        if (action[0] === KEEP) {\n          index++;\n        } else if (action[0] === INSERT) {\n          insertAt(elm, action[1], index);\n          index++;\n        } else if (action[0] === DELETE) {\n          removeAt(elm, index);\n        }\n      });\n    };\n    var read$2 = function (elm, trimZwsp) {\n      return filter$4(map$3(from(elm.childNodes), trimZwsp ? compose(trim$3, getOuterHtml) : getOuterHtml), function (item) {\n        return item.length > 0;\n      });\n    };\n    var write = function (fragments, elm) {\n      var currentFragments = map$3(from(elm.childNodes), getOuterHtml);\n      applyDiff(diff(currentFragments, fragments), elm);\n      return elm;\n    };\n\n    var lazyTempDocument$1 = cached(function () {\n      return document.implementation.createHTMLDocument('undo');\n    });\n    var hasIframes = function (body) {\n      return body.querySelector('iframe') !== null;\n    };\n    var createFragmentedLevel = function (fragments) {\n      return {\n        type: 'fragmented',\n        fragments: fragments,\n        content: '',\n        bookmark: null,\n        beforeBookmark: null\n      };\n    };\n    var createCompleteLevel = function (content) {\n      return {\n        type: 'complete',\n        fragments: null,\n        content: content,\n        bookmark: null,\n        beforeBookmark: null\n      };\n    };\n    var createFromEditor = function (editor) {\n      var tempAttrs = editor.serializer.getTempAttrs();\n      var body = trim$1(editor.getBody(), tempAttrs);\n      return hasIframes(body) ? createFragmentedLevel(read$2(body, true)) : createCompleteLevel(trim$3(body.innerHTML));\n    };\n    var applyToEditor = function (editor, level, before) {\n      var bookmark = before ? level.beforeBookmark : level.bookmark;\n      if (level.type === 'fragmented') {\n        write(level.fragments, editor.getBody());\n      } else {\n        editor.setContent(level.content, {\n          format: 'raw',\n          no_selection: isNonNullable(bookmark) && isPathBookmark(bookmark) ? !bookmark.isFakeCaret : true\n        });\n      }\n      editor.selection.moveToBookmark(bookmark);\n    };\n    var getLevelContent = function (level) {\n      return level.type === 'fragmented' ? level.fragments.join('') : level.content;\n    };\n    var getCleanLevelContent = function (level) {\n      var elm = SugarElement.fromTag('body', lazyTempDocument$1());\n      set(elm, getLevelContent(level));\n      each$k(descendants(elm, '*[data-mce-bogus]'), unwrap);\n      return get$3(elm);\n    };\n    var hasEqualContent = function (level1, level2) {\n      return getLevelContent(level1) === getLevelContent(level2);\n    };\n    var hasEqualCleanedContent = function (level1, level2) {\n      return getCleanLevelContent(level1) === getCleanLevelContent(level2);\n    };\n    var isEq$1 = function (level1, level2) {\n      if (!level1 || !level2) {\n        return false;\n      } else if (hasEqualContent(level1, level2)) {\n        return true;\n      } else {\n        return hasEqualCleanedContent(level1, level2);\n      }\n    };\n\n    var isUnlocked = function (locks) {\n      return locks.get() === 0;\n    };\n\n    var setTyping = function (undoManager, typing, locks) {\n      if (isUnlocked(locks)) {\n        undoManager.typing = typing;\n      }\n    };\n    var endTyping = function (undoManager, locks) {\n      if (undoManager.typing) {\n        setTyping(undoManager, false, locks);\n        undoManager.add();\n      }\n    };\n    var endTypingLevelIgnoreLocks = function (undoManager) {\n      if (undoManager.typing) {\n        undoManager.typing = false;\n        undoManager.add();\n      }\n    };\n\n    var beforeChange$1 = function (editor, locks, beforeBookmark) {\n      if (isUnlocked(locks)) {\n        beforeBookmark.set(getUndoBookmark(editor.selection));\n      }\n    };\n    var addUndoLevel$1 = function (editor, undoManager, index, locks, beforeBookmark, level, event) {\n      var currentLevel = createFromEditor(editor);\n      level = level || {};\n      level = Tools.extend(level, currentLevel);\n      if (isUnlocked(locks) === false || editor.removed) {\n        return null;\n      }\n      var lastLevel = undoManager.data[index.get()];\n      if (editor.fire('BeforeAddUndo', {\n          level: level,\n          lastLevel: lastLevel,\n          originalEvent: event\n        }).isDefaultPrevented()) {\n        return null;\n      }\n      if (lastLevel && isEq$1(lastLevel, level)) {\n        return null;\n      }\n      if (undoManager.data[index.get()]) {\n        beforeBookmark.get().each(function (bm) {\n          undoManager.data[index.get()].beforeBookmark = bm;\n        });\n      }\n      var customUndoRedoLevels = getCustomUndoRedoLevels(editor);\n      if (customUndoRedoLevels) {\n        if (undoManager.data.length > customUndoRedoLevels) {\n          for (var i = 0; i < undoManager.data.length - 1; i++) {\n            undoManager.data[i] = undoManager.data[i + 1];\n          }\n          undoManager.data.length--;\n          index.set(undoManager.data.length);\n        }\n      }\n      level.bookmark = getUndoBookmark(editor.selection);\n      if (index.get() < undoManager.data.length - 1) {\n        undoManager.data.length = index.get() + 1;\n      }\n      undoManager.data.push(level);\n      index.set(undoManager.data.length - 1);\n      var args = {\n        level: level,\n        lastLevel: lastLevel,\n        originalEvent: event\n      };\n      if (index.get() > 0) {\n        editor.setDirty(true);\n        editor.fire('AddUndo', args);\n        editor.fire('change', args);\n      } else {\n        editor.fire('AddUndo', args);\n      }\n      return level;\n    };\n    var clear$1 = function (editor, undoManager, index) {\n      undoManager.data = [];\n      index.set(0);\n      undoManager.typing = false;\n      editor.fire('ClearUndos');\n    };\n    var extra$1 = function (editor, undoManager, index, callback1, callback2) {\n      if (undoManager.transact(callback1)) {\n        var bookmark = undoManager.data[index.get()].bookmark;\n        var lastLevel = undoManager.data[index.get() - 1];\n        applyToEditor(editor, lastLevel, true);\n        if (undoManager.transact(callback2)) {\n          undoManager.data[index.get() - 1].beforeBookmark = bookmark;\n        }\n      }\n    };\n    var redo$1 = function (editor, index, data) {\n      var level;\n      if (index.get() < data.length - 1) {\n        index.set(index.get() + 1);\n        level = data[index.get()];\n        applyToEditor(editor, level, false);\n        editor.setDirty(true);\n        editor.fire('Redo', { level: level });\n      }\n      return level;\n    };\n    var undo$1 = function (editor, undoManager, locks, index) {\n      var level;\n      if (undoManager.typing) {\n        undoManager.add();\n        undoManager.typing = false;\n        setTyping(undoManager, false, locks);\n      }\n      if (index.get() > 0) {\n        index.set(index.get() - 1);\n        level = undoManager.data[index.get()];\n        applyToEditor(editor, level, true);\n        editor.setDirty(true);\n        editor.fire('Undo', { level: level });\n      }\n      return level;\n    };\n    var reset$1 = function (undoManager) {\n      undoManager.clear();\n      undoManager.add();\n    };\n    var hasUndo$1 = function (editor, undoManager, index) {\n      return index.get() > 0 || undoManager.typing && undoManager.data[0] && !isEq$1(createFromEditor(editor), undoManager.data[0]);\n    };\n    var hasRedo$1 = function (undoManager, index) {\n      return index.get() < undoManager.data.length - 1 && !undoManager.typing;\n    };\n    var transact$1 = function (undoManager, locks, callback) {\n      endTyping(undoManager, locks);\n      undoManager.beforeChange();\n      undoManager.ignore(callback);\n      return undoManager.add();\n    };\n    var ignore$1 = function (locks, callback) {\n      try {\n        locks.set(locks.get() + 1);\n        callback();\n      } finally {\n        locks.set(locks.get() - 1);\n      }\n    };\n\n    var addVisualInternal = function (editor, elm) {\n      var dom = editor.dom;\n      var scope = isNonNullable(elm) ? elm : editor.getBody();\n      if (isUndefined(editor.hasVisual)) {\n        editor.hasVisual = isVisualAidsEnabled(editor);\n      }\n      each$k(dom.select('table,a', scope), function (matchedElm) {\n        switch (matchedElm.nodeName) {\n        case 'TABLE':\n          var cls = getVisualAidsTableClass(editor);\n          var value = dom.getAttrib(matchedElm, 'border');\n          if ((!value || value === '0') && editor.hasVisual) {\n            dom.addClass(matchedElm, cls);\n          } else {\n            dom.removeClass(matchedElm, cls);\n          }\n          break;\n        case 'A':\n          if (!dom.getAttrib(matchedElm, 'href')) {\n            var value_1 = dom.getAttrib(matchedElm, 'name') || matchedElm.id;\n            var cls_1 = getVisualAidsAnchorClass(editor);\n            if (value_1 && editor.hasVisual) {\n              dom.addClass(matchedElm, cls_1);\n            } else {\n              dom.removeClass(matchedElm, cls_1);\n            }\n          }\n          break;\n        }\n      });\n      editor.fire('VisualAid', {\n        element: elm,\n        hasVisual: editor.hasVisual\n      });\n    };\n\n    var makePlainAdaptor = function (editor) {\n      return {\n        undoManager: {\n          beforeChange: function (locks, beforeBookmark) {\n            return beforeChange$1(editor, locks, beforeBookmark);\n          },\n          add: function (undoManager, index, locks, beforeBookmark, level, event) {\n            return addUndoLevel$1(editor, undoManager, index, locks, beforeBookmark, level, event);\n          },\n          undo: function (undoManager, locks, index) {\n            return undo$1(editor, undoManager, locks, index);\n          },\n          redo: function (index, data) {\n            return redo$1(editor, index, data);\n          },\n          clear: function (undoManager, index) {\n            return clear$1(editor, undoManager, index);\n          },\n          reset: function (undoManager) {\n            return reset$1(undoManager);\n          },\n          hasUndo: function (undoManager, index) {\n            return hasUndo$1(editor, undoManager, index);\n          },\n          hasRedo: function (undoManager, index) {\n            return hasRedo$1(undoManager, index);\n          },\n          transact: function (undoManager, locks, callback) {\n            return transact$1(undoManager, locks, callback);\n          },\n          ignore: function (locks, callback) {\n            return ignore$1(locks, callback);\n          },\n          extra: function (undoManager, index, callback1, callback2) {\n            return extra$1(editor, undoManager, index, callback1, callback2);\n          }\n        },\n        formatter: {\n          match: function (name, vars, node, similar) {\n            return match$2(editor, name, vars, node, similar);\n          },\n          matchAll: function (names, vars) {\n            return matchAll(editor, names, vars);\n          },\n          matchNode: function (node, name, vars, similar) {\n            return matchNode(editor, node, name, vars, similar);\n          },\n          canApply: function (name) {\n            return canApply(editor, name);\n          },\n          closest: function (names) {\n            return closest(editor, names);\n          },\n          apply: function (name, vars, node) {\n            return applyFormat$1(editor, name, vars, node);\n          },\n          remove: function (name, vars, node, similar) {\n            return remove$1(editor, name, vars, node, similar);\n          },\n          toggle: function (name, vars, node) {\n            return toggle(editor, name, vars, node);\n          },\n          formatChanged: function (registeredFormatListeners, formats, callback, similar, vars) {\n            return formatChangedInternal(editor, registeredFormatListeners, formats, callback, similar, vars);\n          }\n        },\n        editor: {\n          getContent: function (args, format) {\n            return getContentInternal(editor, args, format);\n          },\n          setContent: function (content, args) {\n            return setContentInternal(editor, content, args);\n          },\n          insertContent: function (value, details) {\n            return insertHtmlAtCaret(editor, value, details);\n          },\n          addVisual: function (elm) {\n            return addVisualInternal(editor, elm);\n          }\n        },\n        selection: {\n          getContent: function (format, args) {\n            return getSelectedContentInternal(editor, format, args);\n          }\n        },\n        raw: {\n          getModel: function () {\n            return Optional.none();\n          }\n        }\n      };\n    };\n    var makeRtcAdaptor = function (rtcEditor) {\n      var defaultVars = function (vars) {\n        return isObject(vars) ? vars : {};\n      };\n      var undoManager = rtcEditor.undoManager, formatter = rtcEditor.formatter, editor = rtcEditor.editor, selection = rtcEditor.selection, raw = rtcEditor.raw;\n      return {\n        undoManager: {\n          beforeChange: undoManager.beforeChange,\n          add: undoManager.add,\n          undo: undoManager.undo,\n          redo: undoManager.redo,\n          clear: undoManager.clear,\n          reset: undoManager.reset,\n          hasUndo: undoManager.hasUndo,\n          hasRedo: undoManager.hasRedo,\n          transact: function (_undoManager, _locks, fn) {\n            return undoManager.transact(fn);\n          },\n          ignore: function (_locks, callback) {\n            return undoManager.ignore(callback);\n          },\n          extra: function (_undoManager, _index, callback1, callback2) {\n            return undoManager.extra(callback1, callback2);\n          }\n        },\n        formatter: {\n          match: function (name, vars, _node, similar) {\n            return formatter.match(name, defaultVars(vars), similar);\n          },\n          matchAll: formatter.matchAll,\n          matchNode: formatter.matchNode,\n          canApply: function (name) {\n            return formatter.canApply(name);\n          },\n          closest: function (names) {\n            return formatter.closest(names);\n          },\n          apply: function (name, vars, _node) {\n            return formatter.apply(name, defaultVars(vars));\n          },\n          remove: function (name, vars, _node, _similar) {\n            return formatter.remove(name, defaultVars(vars));\n          },\n          toggle: function (name, vars, _node) {\n            return formatter.toggle(name, defaultVars(vars));\n          },\n          formatChanged: function (_rfl, formats, callback, similar, vars) {\n            return formatter.formatChanged(formats, callback, similar, vars);\n          }\n        },\n        editor: {\n          getContent: function (args, _format) {\n            return editor.getContent(args);\n          },\n          setContent: function (content, args) {\n            return editor.setContent(content, args);\n          },\n          insertContent: function (content, _details) {\n            return editor.insertContent(content);\n          },\n          addVisual: editor.addVisual\n        },\n        selection: {\n          getContent: function (_format, args) {\n            return selection.getContent(args);\n          }\n        },\n        raw: {\n          getModel: function () {\n            return Optional.some(raw.getRawModel());\n          }\n        }\n      };\n    };\n    var makeNoopAdaptor = function () {\n      var nul = constant(null);\n      var empty = constant('');\n      return {\n        undoManager: {\n          beforeChange: noop,\n          add: nul,\n          undo: nul,\n          redo: nul,\n          clear: noop,\n          reset: noop,\n          hasUndo: never,\n          hasRedo: never,\n          transact: nul,\n          ignore: noop,\n          extra: noop\n        },\n        formatter: {\n          match: never,\n          matchAll: constant([]),\n          matchNode: constant(undefined),\n          canApply: never,\n          closest: empty,\n          apply: noop,\n          remove: noop,\n          toggle: noop,\n          formatChanged: constant({ unbind: noop })\n        },\n        editor: {\n          getContent: empty,\n          setContent: empty,\n          insertContent: noop,\n          addVisual: noop\n        },\n        selection: { getContent: empty },\n        raw: { getModel: constant(Optional.none()) }\n      };\n    };\n    var isRtc = function (editor) {\n      return has$2(editor.plugins, 'rtc');\n    };\n    var getRtcSetup = function (editor) {\n      return get$9(editor.plugins, 'rtc').bind(function (rtcPlugin) {\n        return Optional.from(rtcPlugin.setup);\n      });\n    };\n    var setup$i = function (editor) {\n      var editorCast = editor;\n      return getRtcSetup(editor).fold(function () {\n        editorCast.rtcInstance = makePlainAdaptor(editor);\n        return Optional.none();\n      }, function (setup) {\n        editorCast.rtcInstance = makeNoopAdaptor();\n        return Optional.some(function () {\n          return setup().then(function (rtcEditor) {\n            editorCast.rtcInstance = makeRtcAdaptor(rtcEditor);\n            return rtcEditor.rtc.isRemote;\n          });\n        });\n      });\n    };\n    var getRtcInstanceWithFallback = function (editor) {\n      return editor.rtcInstance ? editor.rtcInstance : makePlainAdaptor(editor);\n    };\n    var getRtcInstanceWithError = function (editor) {\n      var rtcInstance = editor.rtcInstance;\n      if (!rtcInstance) {\n        throw new Error('Failed to get RTC instance not yet initialized.');\n      } else {\n        return rtcInstance;\n      }\n    };\n    var beforeChange = function (editor, locks, beforeBookmark) {\n      getRtcInstanceWithError(editor).undoManager.beforeChange(locks, beforeBookmark);\n    };\n    var addUndoLevel = function (editor, undoManager, index, locks, beforeBookmark, level, event) {\n      return getRtcInstanceWithError(editor).undoManager.add(undoManager, index, locks, beforeBookmark, level, event);\n    };\n    var undo = function (editor, undoManager, locks, index) {\n      return getRtcInstanceWithError(editor).undoManager.undo(undoManager, locks, index);\n    };\n    var redo = function (editor, index, data) {\n      return getRtcInstanceWithError(editor).undoManager.redo(index, data);\n    };\n    var clear = function (editor, undoManager, index) {\n      getRtcInstanceWithError(editor).undoManager.clear(undoManager, index);\n    };\n    var reset = function (editor, undoManager) {\n      getRtcInstanceWithError(editor).undoManager.reset(undoManager);\n    };\n    var hasUndo = function (editor, undoManager, index) {\n      return getRtcInstanceWithError(editor).undoManager.hasUndo(undoManager, index);\n    };\n    var hasRedo = function (editor, undoManager, index) {\n      return getRtcInstanceWithError(editor).undoManager.hasRedo(undoManager, index);\n    };\n    var transact = function (editor, undoManager, locks, callback) {\n      return getRtcInstanceWithError(editor).undoManager.transact(undoManager, locks, callback);\n    };\n    var ignore = function (editor, locks, callback) {\n      getRtcInstanceWithError(editor).undoManager.ignore(locks, callback);\n    };\n    var extra = function (editor, undoManager, index, callback1, callback2) {\n      getRtcInstanceWithError(editor).undoManager.extra(undoManager, index, callback1, callback2);\n    };\n    var matchFormat = function (editor, name, vars, node, similar) {\n      return getRtcInstanceWithError(editor).formatter.match(name, vars, node, similar);\n    };\n    var matchAllFormats = function (editor, names, vars) {\n      return getRtcInstanceWithError(editor).formatter.matchAll(names, vars);\n    };\n    var matchNodeFormat = function (editor, node, name, vars, similar) {\n      return getRtcInstanceWithError(editor).formatter.matchNode(node, name, vars, similar);\n    };\n    var canApplyFormat = function (editor, name) {\n      return getRtcInstanceWithError(editor).formatter.canApply(name);\n    };\n    var closestFormat = function (editor, names) {\n      return getRtcInstanceWithError(editor).formatter.closest(names);\n    };\n    var applyFormat = function (editor, name, vars, node) {\n      getRtcInstanceWithError(editor).formatter.apply(name, vars, node);\n    };\n    var removeFormat = function (editor, name, vars, node, similar) {\n      getRtcInstanceWithError(editor).formatter.remove(name, vars, node, similar);\n    };\n    var toggleFormat = function (editor, name, vars, node) {\n      getRtcInstanceWithError(editor).formatter.toggle(name, vars, node);\n    };\n    var formatChanged = function (editor, registeredFormatListeners, formats, callback, similar, vars) {\n      return getRtcInstanceWithError(editor).formatter.formatChanged(registeredFormatListeners, formats, callback, similar, vars);\n    };\n    var getContent$2 = function (editor, args, format) {\n      return getRtcInstanceWithFallback(editor).editor.getContent(args, format);\n    };\n    var setContent$2 = function (editor, content, args) {\n      return getRtcInstanceWithFallback(editor).editor.setContent(content, args);\n    };\n    var insertContent = function (editor, value, details) {\n      return getRtcInstanceWithFallback(editor).editor.insertContent(value, details);\n    };\n    var getSelectedContent = function (editor, format, args) {\n      return getRtcInstanceWithError(editor).selection.getContent(format, args);\n    };\n    var addVisual$1 = function (editor, elm) {\n      return getRtcInstanceWithError(editor).editor.addVisual(elm);\n    };\n\n    var getContent$1 = function (editor, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      var format = args.format ? args.format : 'html';\n      return getSelectedContent(editor, format, args);\n    };\n\n    var removeEmpty = function (text) {\n      if (text.dom.length === 0) {\n        remove$7(text);\n        return Optional.none();\n      } else {\n        return Optional.some(text);\n      }\n    };\n    var walkPastBookmark = function (node, start) {\n      return node.filter(function (elm) {\n        return BookmarkManager.isBookmarkNode(elm.dom);\n      }).bind(start ? nextSibling : prevSibling);\n    };\n    var merge = function (outer, inner, rng, start) {\n      var outerElm = outer.dom;\n      var innerElm = inner.dom;\n      var oldLength = start ? outerElm.length : innerElm.length;\n      if (start) {\n        mergeTextNodes(outerElm, innerElm, false, !start);\n        rng.setStart(innerElm, oldLength);\n      } else {\n        mergeTextNodes(innerElm, outerElm, false, !start);\n        rng.setEnd(innerElm, oldLength);\n      }\n    };\n    var normalizeTextIfRequired = function (inner, start) {\n      parent(inner).each(function (root) {\n        var text = inner.dom;\n        if (start && needsToBeNbspLeft(root, CaretPosition(text, 0))) {\n          normalizeWhitespaceAfter(text, 0);\n        } else if (!start && needsToBeNbspRight(root, CaretPosition(text, text.length))) {\n          normalizeWhitespaceBefore(text, text.length);\n        }\n      });\n    };\n    var mergeAndNormalizeText = function (outerNode, innerNode, rng, start) {\n      outerNode.bind(function (outer) {\n        var normalizer = start ? normalizeWhitespaceBefore : normalizeWhitespaceAfter;\n        normalizer(outer.dom, start ? outer.dom.length : 0);\n        return innerNode.filter(isText$8).map(function (inner) {\n          return merge(outer, inner, rng, start);\n        });\n      }).orThunk(function () {\n        var innerTextNode = walkPastBookmark(innerNode, start).or(innerNode).filter(isText$8);\n        return innerTextNode.map(function (inner) {\n          return normalizeTextIfRequired(inner, start);\n        });\n      });\n    };\n    var rngSetContent = function (rng, fragment) {\n      var firstChild = Optional.from(fragment.firstChild).map(SugarElement.fromDom);\n      var lastChild = Optional.from(fragment.lastChild).map(SugarElement.fromDom);\n      rng.deleteContents();\n      rng.insertNode(fragment);\n      var prevText = firstChild.bind(prevSibling).filter(isText$8).bind(removeEmpty);\n      var nextText = lastChild.bind(nextSibling).filter(isText$8).bind(removeEmpty);\n      mergeAndNormalizeText(prevText, firstChild, rng, true);\n      mergeAndNormalizeText(nextText, lastChild, rng, false);\n      rng.collapse(false);\n    };\n    var setupArgs = function (args, content) {\n      return __assign(__assign({ format: 'html' }, args), {\n        set: true,\n        selection: true,\n        content: content\n      });\n    };\n    var cleanContent = function (editor, args) {\n      if (args.format !== 'raw') {\n        var rng = editor.selection.getRng();\n        var contextBlock = editor.dom.getParent(rng.commonAncestorContainer, editor.dom.isBlock);\n        var contextArgs = contextBlock ? { context: contextBlock.nodeName.toLowerCase() } : {};\n        var node = editor.parser.parse(args.content, __assign(__assign({\n          isRootContent: true,\n          forced_root_block: false\n        }, contextArgs), args));\n        return HtmlSerializer({ validate: editor.validate }, editor.schema).serialize(node);\n      } else {\n        return args.content;\n      }\n    };\n    var setContent$1 = function (editor, content, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      var defaultedArgs = setupArgs(args, content);\n      var updatedArgs = defaultedArgs;\n      if (!defaultedArgs.no_events) {\n        var eventArgs = editor.fire('BeforeSetContent', defaultedArgs);\n        if (eventArgs.isDefaultPrevented()) {\n          editor.fire('SetContent', eventArgs);\n          return;\n        } else {\n          updatedArgs = eventArgs;\n        }\n      }\n      updatedArgs.content = cleanContent(editor, updatedArgs);\n      var rng = editor.selection.getRng();\n      rngSetContent(rng, rng.createContextualFragment(updatedArgs.content));\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, rng);\n      if (!updatedArgs.no_events) {\n        editor.fire('SetContent', updatedArgs);\n      }\n    };\n\n    var deleteFromCallbackMap = function (callbackMap, selector, callback) {\n      if (callbackMap && has$2(callbackMap, selector)) {\n        var newCallbacks = filter$4(callbackMap[selector], function (cb) {\n          return cb !== callback;\n        });\n        if (newCallbacks.length === 0) {\n          delete callbackMap[selector];\n        } else {\n          callbackMap[selector] = newCallbacks;\n        }\n      }\n    };\n    function SelectorChanged (dom, editor) {\n      var selectorChangedData;\n      var currentSelectors;\n      var findMatchingNode = function (selector, nodes) {\n        return find$3(nodes, function (node) {\n          return dom.is(node, selector);\n        });\n      };\n      var getParents = function (elem) {\n        return dom.getParents(elem, null, dom.getRoot());\n      };\n      return {\n        selectorChangedWithUnbind: function (selector, callback) {\n          if (!selectorChangedData) {\n            selectorChangedData = {};\n            currentSelectors = {};\n            editor.on('NodeChange', function (e) {\n              var node = e.element;\n              var parents = getParents(node);\n              var matchedSelectors = {};\n              Tools.each(selectorChangedData, function (callbacks, selector) {\n                findMatchingNode(selector, parents).each(function (node) {\n                  if (!currentSelectors[selector]) {\n                    each$k(callbacks, function (callback) {\n                      callback(true, {\n                        node: node,\n                        selector: selector,\n                        parents: parents\n                      });\n                    });\n                    currentSelectors[selector] = callbacks;\n                  }\n                  matchedSelectors[selector] = callbacks;\n                });\n              });\n              Tools.each(currentSelectors, function (callbacks, selector) {\n                if (!matchedSelectors[selector]) {\n                  delete currentSelectors[selector];\n                  Tools.each(callbacks, function (callback) {\n                    callback(false, {\n                      node: node,\n                      selector: selector,\n                      parents: parents\n                    });\n                  });\n                }\n              });\n            });\n          }\n          if (!selectorChangedData[selector]) {\n            selectorChangedData[selector] = [];\n          }\n          selectorChangedData[selector].push(callback);\n          findMatchingNode(selector, getParents(editor.selection.getStart())).each(function () {\n            currentSelectors[selector] = selectorChangedData[selector];\n          });\n          return {\n            unbind: function () {\n              deleteFromCallbackMap(selectorChangedData, selector, callback);\n              deleteFromCallbackMap(currentSelectors, selector, callback);\n            }\n          };\n        }\n      };\n    }\n\n    var isNativeIeSelection = function (rng) {\n      return !!rng.select;\n    };\n    var isAttachedToDom = function (node) {\n      return !!(node && node.ownerDocument) && contains$1(SugarElement.fromDom(node.ownerDocument), SugarElement.fromDom(node));\n    };\n    var isValidRange = function (rng) {\n      if (!rng) {\n        return false;\n      } else if (isNativeIeSelection(rng)) {\n        return true;\n      } else {\n        return isAttachedToDom(rng.startContainer) && isAttachedToDom(rng.endContainer);\n      }\n    };\n    var EditorSelection = function (dom, win, serializer, editor) {\n      var selectedRange;\n      var explicitRange;\n      var selectorChangedWithUnbind = SelectorChanged(dom, editor).selectorChangedWithUnbind;\n      var setCursorLocation = function (node, offset) {\n        var rng = dom.createRng();\n        if (isNonNullable(node) && isNonNullable(offset)) {\n          rng.setStart(node, offset);\n          rng.setEnd(node, offset);\n          setRng(rng);\n          collapse(false);\n        } else {\n          moveEndPoint(dom, rng, editor.getBody(), true);\n          setRng(rng);\n        }\n      };\n      var getContent = function (args) {\n        return getContent$1(editor, args);\n      };\n      var setContent = function (content, args) {\n        return setContent$1(editor, content, args);\n      };\n      var getStart$1 = function (real) {\n        return getStart(editor.getBody(), getRng$1(), real);\n      };\n      var getEnd$1 = function (real) {\n        return getEnd(editor.getBody(), getRng$1(), real);\n      };\n      var getBookmark = function (type, normalized) {\n        return bookmarkManager.getBookmark(type, normalized);\n      };\n      var moveToBookmark = function (bookmark) {\n        return bookmarkManager.moveToBookmark(bookmark);\n      };\n      var select$1 = function (node, content) {\n        select(dom, node, content).each(setRng);\n        return node;\n      };\n      var isCollapsed = function () {\n        var rng = getRng$1(), sel = getSel();\n        if (!rng || rng.item) {\n          return false;\n        }\n        if (rng.compareEndPoints) {\n          return rng.compareEndPoints('StartToEnd', rng) === 0;\n        }\n        return !sel || rng.collapsed;\n      };\n      var collapse = function (toStart) {\n        var rng = getRng$1();\n        rng.collapse(!!toStart);\n        setRng(rng);\n      };\n      var getSel = function () {\n        return win.getSelection ? win.getSelection() : win.document.selection;\n      };\n      var getRng$1 = function () {\n        var selection, rng, elm;\n        var tryCompareBoundaryPoints = function (how, sourceRange, destinationRange) {\n          try {\n            return sourceRange.compareBoundaryPoints(how, destinationRange);\n          } catch (ex) {\n            return -1;\n          }\n        };\n        var doc = win.document;\n        if (editor.bookmark !== undefined && hasFocus(editor) === false) {\n          var bookmark = getRng(editor);\n          if (bookmark.isSome()) {\n            return bookmark.map(function (r) {\n              return processRanges(editor, [r])[0];\n            }).getOr(doc.createRange());\n          }\n        }\n        try {\n          if ((selection = getSel()) && !isRestrictedNode(selection.anchorNode)) {\n            if (selection.rangeCount > 0) {\n              rng = selection.getRangeAt(0);\n            } else {\n              rng = selection.createRange ? selection.createRange() : doc.createRange();\n            }\n            rng = processRanges(editor, [rng])[0];\n          }\n        } catch (ex) {\n        }\n        if (!rng) {\n          rng = doc.createRange ? doc.createRange() : doc.body.createTextRange();\n        }\n        if (rng.setStart && rng.startContainer.nodeType === 9 && rng.collapsed) {\n          elm = dom.getRoot();\n          rng.setStart(elm, 0);\n          rng.setEnd(elm, 0);\n        }\n        if (selectedRange && explicitRange) {\n          if (tryCompareBoundaryPoints(rng.START_TO_START, rng, selectedRange) === 0 && tryCompareBoundaryPoints(rng.END_TO_END, rng, selectedRange) === 0) {\n            rng = explicitRange;\n          } else {\n            selectedRange = null;\n            explicitRange = null;\n          }\n        }\n        return rng;\n      };\n      var setRng = function (rng, forward) {\n        var node;\n        if (!isValidRange(rng)) {\n          return;\n        }\n        var ieRange = isNativeIeSelection(rng) ? rng : null;\n        if (ieRange) {\n          explicitRange = null;\n          try {\n            ieRange.select();\n          } catch (ex) {\n          }\n          return;\n        }\n        var sel = getSel();\n        var evt = editor.fire('SetSelectionRange', {\n          range: rng,\n          forward: forward\n        });\n        rng = evt.range;\n        if (sel) {\n          explicitRange = rng;\n          try {\n            sel.removeAllRanges();\n            sel.addRange(rng);\n          } catch (ex) {\n          }\n          if (forward === false && sel.extend) {\n            sel.collapse(rng.endContainer, rng.endOffset);\n            sel.extend(rng.startContainer, rng.startOffset);\n          }\n          selectedRange = sel.rangeCount > 0 ? sel.getRangeAt(0) : null;\n        }\n        if (!rng.collapsed && rng.startContainer === rng.endContainer && sel.setBaseAndExtent && !Env.ie) {\n          if (rng.endOffset - rng.startOffset < 2) {\n            if (rng.startContainer.hasChildNodes()) {\n              node = rng.startContainer.childNodes[rng.startOffset];\n              if (node && node.tagName === 'IMG') {\n                sel.setBaseAndExtent(rng.startContainer, rng.startOffset, rng.endContainer, rng.endOffset);\n                if (sel.anchorNode !== rng.startContainer || sel.focusNode !== rng.endContainer) {\n                  sel.setBaseAndExtent(node, 0, node, 1);\n                }\n              }\n            }\n          }\n        }\n        editor.fire('AfterSetSelectionRange', {\n          range: rng,\n          forward: forward\n        });\n      };\n      var setNode = function (elm) {\n        setContent(dom.getOuterHTML(elm));\n        return elm;\n      };\n      var getNode$1 = function () {\n        return getNode(editor.getBody(), getRng$1());\n      };\n      var getSelectedBlocks$1 = function (startElm, endElm) {\n        return getSelectedBlocks(dom, getRng$1(), startElm, endElm);\n      };\n      var isForward = function () {\n        var sel = getSel();\n        var anchorNode = sel === null || sel === void 0 ? void 0 : sel.anchorNode;\n        var focusNode = sel === null || sel === void 0 ? void 0 : sel.focusNode;\n        if (!sel || !anchorNode || !focusNode || isRestrictedNode(anchorNode) || isRestrictedNode(focusNode)) {\n          return true;\n        }\n        var anchorRange = dom.createRng();\n        anchorRange.setStart(anchorNode, sel.anchorOffset);\n        anchorRange.collapse(true);\n        var focusRange = dom.createRng();\n        focusRange.setStart(focusNode, sel.focusOffset);\n        focusRange.collapse(true);\n        return anchorRange.compareBoundaryPoints(anchorRange.START_TO_START, focusRange) <= 0;\n      };\n      var normalize = function () {\n        var rng = getRng$1();\n        var sel = getSel();\n        if (!hasMultipleRanges(sel) && hasAnyRanges(editor)) {\n          var normRng = normalize$2(dom, rng);\n          normRng.each(function (normRng) {\n            setRng(normRng, isForward());\n          });\n          return normRng.getOr(rng);\n        }\n        return rng;\n      };\n      var selectorChanged = function (selector, callback) {\n        selectorChangedWithUnbind(selector, callback);\n        return exports;\n      };\n      var getScrollContainer = function () {\n        var scrollContainer;\n        var node = dom.getRoot();\n        while (node && node.nodeName !== 'BODY') {\n          if (node.scrollHeight > node.clientHeight) {\n            scrollContainer = node;\n            break;\n          }\n          node = node.parentNode;\n        }\n        return scrollContainer;\n      };\n      var scrollIntoView = function (elm, alignToTop) {\n        if (isNonNullable(elm)) {\n          scrollElementIntoView(editor, elm, alignToTop);\n        } else {\n          scrollRangeIntoView(editor, getRng$1(), alignToTop);\n        }\n      };\n      var placeCaretAt = function (clientX, clientY) {\n        return setRng(fromPoint(clientX, clientY, editor.getDoc()));\n      };\n      var getBoundingClientRect = function () {\n        var rng = getRng$1();\n        return rng.collapsed ? CaretPosition.fromRangeStart(rng).getClientRects()[0] : rng.getBoundingClientRect();\n      };\n      var destroy = function () {\n        win = selectedRange = explicitRange = null;\n        controlSelection.destroy();\n      };\n      var exports = {\n        bookmarkManager: null,\n        controlSelection: null,\n        dom: dom,\n        win: win,\n        serializer: serializer,\n        editor: editor,\n        collapse: collapse,\n        setCursorLocation: setCursorLocation,\n        getContent: getContent,\n        setContent: setContent,\n        getBookmark: getBookmark,\n        moveToBookmark: moveToBookmark,\n        select: select$1,\n        isCollapsed: isCollapsed,\n        isForward: isForward,\n        setNode: setNode,\n        getNode: getNode$1,\n        getSel: getSel,\n        setRng: setRng,\n        getRng: getRng$1,\n        getStart: getStart$1,\n        getEnd: getEnd$1,\n        getSelectedBlocks: getSelectedBlocks$1,\n        normalize: normalize,\n        selectorChanged: selectorChanged,\n        selectorChangedWithUnbind: selectorChangedWithUnbind,\n        getScrollContainer: getScrollContainer,\n        scrollIntoView: scrollIntoView,\n        placeCaretAt: placeCaretAt,\n        getBoundingClientRect: getBoundingClientRect,\n        destroy: destroy\n      };\n      var bookmarkManager = BookmarkManager(exports);\n      var controlSelection = ControlSelection(exports, editor);\n      exports.bookmarkManager = bookmarkManager;\n      exports.controlSelection = controlSelection;\n      return exports;\n    };\n\n    var removeAttrs = function (node, names) {\n      each$k(names, function (name) {\n        node.attr(name, null);\n      });\n    };\n    var addFontToSpansFilter = function (domParser, styles, fontSizes) {\n      domParser.addNodeFilter('font', function (nodes) {\n        each$k(nodes, function (node) {\n          var props = styles.parse(node.attr('style'));\n          var color = node.attr('color');\n          var face = node.attr('face');\n          var size = node.attr('size');\n          if (color) {\n            props.color = color;\n          }\n          if (face) {\n            props['font-family'] = face;\n          }\n          if (size) {\n            props['font-size'] = fontSizes[parseInt(node.attr('size'), 10) - 1];\n          }\n          node.name = 'span';\n          node.attr('style', styles.serialize(props));\n          removeAttrs(node, [\n            'color',\n            'face',\n            'size'\n          ]);\n        });\n      });\n    };\n    var addStrikeToSpanFilter = function (domParser, styles) {\n      domParser.addNodeFilter('strike', function (nodes) {\n        each$k(nodes, function (node) {\n          var props = styles.parse(node.attr('style'));\n          props['text-decoration'] = 'line-through';\n          node.name = 'span';\n          node.attr('style', styles.serialize(props));\n        });\n      });\n    };\n    var addFilters = function (domParser, settings) {\n      var styles = Styles();\n      if (settings.convert_fonts_to_spans) {\n        addFontToSpansFilter(domParser, styles, Tools.explode(settings.font_size_legacy_values));\n      }\n      addStrikeToSpanFilter(domParser, styles);\n    };\n    var register$2 = function (domParser, settings) {\n      if (settings.inline_styles) {\n        addFilters(domParser, settings);\n      }\n    };\n\n    var blobUriToBlob = function (url) {\n      return new promiseObj(function (resolve, reject) {\n        var rejectWithError = function () {\n          reject('Cannot convert ' + url + ' to Blob. Resource might not exist or is inaccessible.');\n        };\n        try {\n          var xhr_1 = new XMLHttpRequest();\n          xhr_1.open('GET', url, true);\n          xhr_1.responseType = 'blob';\n          xhr_1.onload = function () {\n            if (xhr_1.status === 200) {\n              resolve(xhr_1.response);\n            } else {\n              rejectWithError();\n            }\n          };\n          xhr_1.onerror = rejectWithError;\n          xhr_1.send();\n        } catch (ex) {\n          rejectWithError();\n        }\n      });\n    };\n    var parseDataUri$1 = function (uri) {\n      var type;\n      var uriParts = decodeURIComponent(uri).split(',');\n      var matches = /data:([^;]+)/.exec(uriParts[0]);\n      if (matches) {\n        type = matches[1];\n      }\n      return {\n        type: type,\n        data: uriParts[1]\n      };\n    };\n    var buildBlob = function (type, data) {\n      var str;\n      try {\n        str = atob(data);\n      } catch (e) {\n        return Optional.none();\n      }\n      var arr = new Uint8Array(str.length);\n      for (var i = 0; i < arr.length; i++) {\n        arr[i] = str.charCodeAt(i);\n      }\n      return Optional.some(new Blob([arr], { type: type }));\n    };\n    var dataUriToBlob = function (uri) {\n      return new promiseObj(function (resolve) {\n        var _a = parseDataUri$1(uri), type = _a.type, data = _a.data;\n        buildBlob(type, data).fold(function () {\n          return resolve(new Blob([]));\n        }, resolve);\n      });\n    };\n    var uriToBlob = function (url) {\n      if (url.indexOf('blob:') === 0) {\n        return blobUriToBlob(url);\n      }\n      if (url.indexOf('data:') === 0) {\n        return dataUriToBlob(url);\n      }\n      return null;\n    };\n    var blobToDataUri = function (blob) {\n      return new promiseObj(function (resolve) {\n        var reader = new FileReader();\n        reader.onloadend = function () {\n          resolve(reader.result);\n        };\n        reader.readAsDataURL(blob);\n      });\n    };\n\n    var count$1 = 0;\n    var uniqueId = function (prefix) {\n      return (prefix || 'blobid') + count$1++;\n    };\n    var imageToBlobInfo = function (blobCache, img, resolve, reject) {\n      var base64, blobInfo;\n      if (img.src.indexOf('blob:') === 0) {\n        blobInfo = blobCache.getByUri(img.src);\n        if (blobInfo) {\n          resolve({\n            image: img,\n            blobInfo: blobInfo\n          });\n        } else {\n          uriToBlob(img.src).then(function (blob) {\n            blobToDataUri(blob).then(function (dataUri) {\n              base64 = parseDataUri$1(dataUri).data;\n              blobInfo = blobCache.create(uniqueId(), blob, base64);\n              blobCache.add(blobInfo);\n              resolve({\n                image: img,\n                blobInfo: blobInfo\n              });\n            });\n          }, function (err) {\n            reject(err);\n          });\n        }\n        return;\n      }\n      var _a = parseDataUri$1(img.src), data = _a.data, type = _a.type;\n      base64 = data;\n      blobInfo = blobCache.getByData(base64, type);\n      if (blobInfo) {\n        resolve({\n          image: img,\n          blobInfo: blobInfo\n        });\n      } else {\n        uriToBlob(img.src).then(function (blob) {\n          blobInfo = blobCache.create(uniqueId(), blob, base64);\n          blobCache.add(blobInfo);\n          resolve({\n            image: img,\n            blobInfo: blobInfo\n          });\n        }, function (err) {\n          reject(err);\n        });\n      }\n    };\n    var getAllImages = function (elm) {\n      return elm ? from(elm.getElementsByTagName('img')) : [];\n    };\n    var ImageScanner = function (uploadStatus, blobCache) {\n      var cachedPromises = {};\n      var findAll = function (elm, predicate) {\n        if (!predicate) {\n          predicate = always;\n        }\n        var images = filter$4(getAllImages(elm), function (img) {\n          var src = img.src;\n          if (!Env.fileApi) {\n            return false;\n          }\n          if (img.hasAttribute('data-mce-bogus')) {\n            return false;\n          }\n          if (img.hasAttribute('data-mce-placeholder')) {\n            return false;\n          }\n          if (!src || src === Env.transparentSrc) {\n            return false;\n          }\n          if (src.indexOf('blob:') === 0) {\n            return !uploadStatus.isUploaded(src) && predicate(img);\n          }\n          if (src.indexOf('data:') === 0) {\n            return predicate(img);\n          }\n          return false;\n        });\n        var promises = map$3(images, function (img) {\n          if (cachedPromises[img.src] !== undefined) {\n            return new promiseObj(function (resolve) {\n              cachedPromises[img.src].then(function (imageInfo) {\n                if (typeof imageInfo === 'string') {\n                  return imageInfo;\n                }\n                resolve({\n                  image: img,\n                  blobInfo: imageInfo.blobInfo\n                });\n              });\n            });\n          }\n          var newPromise = new promiseObj(function (resolve, reject) {\n            imageToBlobInfo(blobCache, img, resolve, reject);\n          }).then(function (result) {\n            delete cachedPromises[result.image.src];\n            return result;\n          }).catch(function (error) {\n            delete cachedPromises[img.src];\n            return error;\n          });\n          cachedPromises[img.src] = newPromise;\n          return newPromise;\n        });\n        return promiseObj.all(promises);\n      };\n      return { findAll: findAll };\n    };\n\n    var extractBase64DataUris = function (html) {\n      var dataImageUri = /data:[^;<\"'\\s]+;base64,([a-z0-9\\+\\/=\\s]+)/gi;\n      var chunks = [];\n      var uris = {};\n      var prefix = generate('img');\n      var matches;\n      var index = 0;\n      var count = 0;\n      while (matches = dataImageUri.exec(html)) {\n        var uri = matches[0];\n        var imageId = prefix + '_' + count++;\n        uris[imageId] = uri;\n        if (index < matches.index) {\n          chunks.push(html.substr(index, matches.index - index));\n        }\n        chunks.push(imageId);\n        index = matches.index + uri.length;\n      }\n      var re = new RegExp(prefix + '_[0-9]+', 'g');\n      if (index === 0) {\n        return {\n          prefix: prefix,\n          uris: uris,\n          html: html,\n          re: re\n        };\n      } else {\n        if (index < html.length) {\n          chunks.push(html.substr(index));\n        }\n        return {\n          prefix: prefix,\n          uris: uris,\n          html: chunks.join(''),\n          re: re\n        };\n      }\n    };\n    var restoreDataUris = function (html, result) {\n      return html.replace(result.re, function (imageId) {\n        return get$9(result.uris, imageId).getOr(imageId);\n      });\n    };\n    var parseDataUri = function (uri) {\n      var matches = /data:([^;]+);base64,([a-z0-9\\+\\/=\\s]+)/i.exec(uri);\n      if (matches) {\n        return Optional.some({\n          type: matches[1],\n          data: decodeURIComponent(matches[2])\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n\n    var paddEmptyNode = function (settings, args, blockElements, node) {\n      var brPreferred = settings.padd_empty_with_br || args.insert;\n      if (brPreferred && blockElements[node.name]) {\n        node.empty().append(new AstNode('br', 1)).shortEnded = true;\n      } else {\n        node.empty().append(new AstNode('#text', 3)).value = nbsp;\n      }\n    };\n    var isPaddedWithNbsp = function (node) {\n      return hasOnlyChild(node, '#text') && node.firstChild.value === nbsp;\n    };\n    var hasOnlyChild = function (node, name) {\n      return node && node.firstChild && node.firstChild === node.lastChild && node.firstChild.name === name;\n    };\n    var isPadded = function (schema, node) {\n      var rule = schema.getElementRule(node.name);\n      return rule && rule.paddEmpty;\n    };\n    var isEmpty = function (schema, nonEmptyElements, whitespaceElements, node) {\n      return node.isEmpty(nonEmptyElements, whitespaceElements, function (node) {\n        return isPadded(schema, node);\n      });\n    };\n    var isLineBreakNode = function (node, blockElements) {\n      return node && (has$2(blockElements, node.name) || node.name === 'br');\n    };\n\n    var isBogusImage = function (img) {\n      return isNonNullable(img.attr('data-mce-bogus'));\n    };\n    var isInternalImageSource = function (img) {\n      return img.attr('src') === Env.transparentSrc || isNonNullable(img.attr('data-mce-placeholder'));\n    };\n    var isValidDataImg = function (img, settings) {\n      if (settings.images_dataimg_filter) {\n        var imgElem_1 = new Image();\n        imgElem_1.src = img.attr('src');\n        each$j(img.attributes.map, function (value, key) {\n          imgElem_1.setAttribute(key, value);\n        });\n        return settings.images_dataimg_filter(imgElem_1);\n      } else {\n        return true;\n      }\n    };\n    var registerBase64ImageFilter = function (parser, settings) {\n      var blobCache = settings.blob_cache;\n      var processImage = function (img) {\n        var inputSrc = img.attr('src');\n        if (isInternalImageSource(img) || isBogusImage(img)) {\n          return;\n        }\n        parseDataUri(inputSrc).filter(function () {\n          return isValidDataImg(img, settings);\n        }).bind(function (_a) {\n          var type = _a.type, data = _a.data;\n          return Optional.from(blobCache.getByData(data, type)).orThunk(function () {\n            return buildBlob(type, data).map(function (blob) {\n              var blobInfo = blobCache.create(uniqueId(), blob, data);\n              blobCache.add(blobInfo);\n              return blobInfo;\n            });\n          });\n        }).each(function (blobInfo) {\n          img.attr('src', blobInfo.blobUri());\n        });\n      };\n      if (blobCache) {\n        parser.addAttributeFilter('src', function (nodes) {\n          return each$k(nodes, processImage);\n        });\n      }\n    };\n    var register$1 = function (parser, settings) {\n      var schema = parser.schema;\n      if (settings.remove_trailing_brs) {\n        parser.addNodeFilter('br', function (nodes, _, args) {\n          var i;\n          var l = nodes.length;\n          var node;\n          var blockElements = Tools.extend({}, schema.getBlockElements());\n          var nonEmptyElements = schema.getNonEmptyElements();\n          var parent, lastParent, prev, prevName;\n          var whiteSpaceElements = schema.getWhiteSpaceElements();\n          var elementRule, textNode;\n          blockElements.body = 1;\n          for (i = 0; i < l; i++) {\n            node = nodes[i];\n            parent = node.parent;\n            if (blockElements[node.parent.name] && node === parent.lastChild) {\n              prev = node.prev;\n              while (prev) {\n                prevName = prev.name;\n                if (prevName !== 'span' || prev.attr('data-mce-type') !== 'bookmark') {\n                  if (prevName === 'br') {\n                    node = null;\n                  }\n                  break;\n                }\n                prev = prev.prev;\n              }\n              if (node) {\n                node.remove();\n                if (isEmpty(schema, nonEmptyElements, whiteSpaceElements, parent)) {\n                  elementRule = schema.getElementRule(parent.name);\n                  if (elementRule) {\n                    if (elementRule.removeEmpty) {\n                      parent.remove();\n                    } else if (elementRule.paddEmpty) {\n                      paddEmptyNode(settings, args, blockElements, parent);\n                    }\n                  }\n                }\n              }\n            } else {\n              lastParent = node;\n              while (parent && parent.firstChild === lastParent && parent.lastChild === lastParent) {\n                lastParent = parent;\n                if (blockElements[parent.name]) {\n                  break;\n                }\n                parent = parent.parent;\n              }\n              if (lastParent === parent && settings.padd_empty_with_br !== true) {\n                textNode = new AstNode('#text', 3);\n                textNode.value = nbsp;\n                node.replace(textNode);\n              }\n            }\n          }\n        });\n      }\n      parser.addAttributeFilter('href', function (nodes) {\n        var i = nodes.length;\n        var appendRel = function (rel) {\n          var parts = rel.split(' ').filter(function (p) {\n            return p.length > 0;\n          });\n          return parts.concat(['noopener']).sort().join(' ');\n        };\n        var addNoOpener = function (rel) {\n          var newRel = rel ? Tools.trim(rel) : '';\n          if (!/\\b(noopener)\\b/g.test(newRel)) {\n            return appendRel(newRel);\n          } else {\n            return newRel;\n          }\n        };\n        if (!settings.allow_unsafe_link_target) {\n          while (i--) {\n            var node = nodes[i];\n            if (node.name === 'a' && node.attr('target') === '_blank') {\n              node.attr('rel', addNoOpener(node.attr('rel')));\n            }\n          }\n        }\n      });\n      if (!settings.allow_html_in_named_anchor) {\n        parser.addAttributeFilter('id,name', function (nodes) {\n          var i = nodes.length, sibling, prevSibling, parent, node;\n          while (i--) {\n            node = nodes[i];\n            if (node.name === 'a' && node.firstChild && !node.attr('href')) {\n              parent = node.parent;\n              sibling = node.lastChild;\n              do {\n                prevSibling = sibling.prev;\n                parent.insert(sibling, node);\n                sibling = prevSibling;\n              } while (sibling);\n            }\n          }\n        });\n      }\n      if (settings.fix_list_elements) {\n        parser.addNodeFilter('ul,ol', function (nodes) {\n          var i = nodes.length, node, parentNode;\n          while (i--) {\n            node = nodes[i];\n            parentNode = node.parent;\n            if (parentNode.name === 'ul' || parentNode.name === 'ol') {\n              if (node.prev && node.prev.name === 'li') {\n                node.prev.append(node);\n              } else {\n                var li = new AstNode('li', 1);\n                li.attr('style', 'list-style-type: none');\n                node.wrap(li);\n              }\n            }\n          }\n        });\n      }\n      if (settings.validate && schema.getValidClasses()) {\n        parser.addAttributeFilter('class', function (nodes) {\n          var validClasses = schema.getValidClasses();\n          var i = nodes.length;\n          while (i--) {\n            var node = nodes[i];\n            var classList = node.attr('class').split(' ');\n            var classValue = '';\n            for (var ci = 0; ci < classList.length; ci++) {\n              var className = classList[ci];\n              var valid = false;\n              var validClassesMap = validClasses['*'];\n              if (validClassesMap && validClassesMap[className]) {\n                valid = true;\n              }\n              validClassesMap = validClasses[node.name];\n              if (!valid && validClassesMap && validClassesMap[className]) {\n                valid = true;\n              }\n              if (valid) {\n                if (classValue) {\n                  classValue += ' ';\n                }\n                classValue += className;\n              }\n            }\n            if (!classValue.length) {\n              classValue = null;\n            }\n            node.attr('class', classValue);\n          }\n        });\n      }\n      registerBase64ImageFilter(parser, settings);\n    };\n\n    var each$7 = Tools.each, trim = Tools.trim;\n    var queryParts = 'source protocol authority userInfo user password host port relative path directory file query anchor'.split(' ');\n    var DEFAULT_PORTS = {\n      ftp: 21,\n      http: 80,\n      https: 443,\n      mailto: 25\n    };\n    var safeSvgDataUrlElements = [\n      'img',\n      'video'\n    ];\n    var blockSvgDataUris = function (allowSvgDataUrls, tagName) {\n      if (isNonNullable(allowSvgDataUrls)) {\n        return !allowSvgDataUrls;\n      } else {\n        return isNonNullable(tagName) ? !contains$3(safeSvgDataUrlElements, tagName) : true;\n      }\n    };\n    var isInvalidUri = function (settings, uri, tagName) {\n      if (settings.allow_html_data_urls) {\n        return false;\n      } else if (/^data:image\\//i.test(uri)) {\n        return blockSvgDataUris(settings.allow_svg_data_urls, tagName) && /^data:image\\/svg\\+xml/i.test(uri);\n      } else {\n        return /^data:/i.test(uri);\n      }\n    };\n    var URI = function () {\n      function URI(url, settings) {\n        url = trim(url);\n        this.settings = settings || {};\n        var baseUri = this.settings.base_uri;\n        var self = this;\n        if (/^([\\w\\-]+):([^\\/]{2})/i.test(url) || /^\\s*#/.test(url)) {\n          self.source = url;\n          return;\n        }\n        var isProtocolRelative = url.indexOf('//') === 0;\n        if (url.indexOf('/') === 0 && !isProtocolRelative) {\n          url = (baseUri ? baseUri.protocol || 'http' : 'http') + '://mce_host' + url;\n        }\n        if (!/^[\\w\\-]*:?\\/\\//.test(url)) {\n          var baseUrl = this.settings.base_uri ? this.settings.base_uri.path : new URI(document.location.href).directory;\n          if (this.settings.base_uri && this.settings.base_uri.protocol == '') {\n            url = '//mce_host' + self.toAbsPath(baseUrl, url);\n          } else {\n            var match = /([^#?]*)([#?]?.*)/.exec(url);\n            url = (baseUri && baseUri.protocol || 'http') + '://mce_host' + self.toAbsPath(baseUrl, match[1]) + match[2];\n          }\n        }\n        url = url.replace(/@@/g, '(mce_at)');\n        var urlMatch = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@\\/]*):?([^:@\\/]*))?@)?(\\[[a-zA-Z0-9:.%]+\\]|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(url);\n        each$7(queryParts, function (v, i) {\n          var part = urlMatch[i];\n          if (part) {\n            part = part.replace(/\\(mce_at\\)/g, '@@');\n          }\n          self[v] = part;\n        });\n        if (baseUri) {\n          if (!self.protocol) {\n            self.protocol = baseUri.protocol;\n          }\n          if (!self.userInfo) {\n            self.userInfo = baseUri.userInfo;\n          }\n          if (!self.port && self.host === 'mce_host') {\n            self.port = baseUri.port;\n          }\n          if (!self.host || self.host === 'mce_host') {\n            self.host = baseUri.host;\n          }\n          self.source = '';\n        }\n        if (isProtocolRelative) {\n          self.protocol = '';\n        }\n      }\n      URI.parseDataUri = function (uri) {\n        var type;\n        var uriComponents = decodeURIComponent(uri).split(',');\n        var matches = /data:([^;]+)/.exec(uriComponents[0]);\n        if (matches) {\n          type = matches[1];\n        }\n        return {\n          type: type,\n          data: uriComponents[1]\n        };\n      };\n      URI.isDomSafe = function (uri, context, options) {\n        if (options === void 0) {\n          options = {};\n        }\n        if (options.allow_script_urls) {\n          return true;\n        } else {\n          var decodedUri = Entities.decode(uri).replace(/[\\s\\u0000-\\u001F]+/g, '');\n          try {\n            decodedUri = decodeURIComponent(decodedUri);\n          } catch (ex) {\n            decodedUri = unescape(decodedUri);\n          }\n          if (/((java|vb)script|mhtml):/i.test(decodedUri)) {\n            return false;\n          }\n          return !isInvalidUri(options, decodedUri, context);\n        }\n      };\n      URI.getDocumentBaseUrl = function (loc) {\n        var baseUrl;\n        if (loc.protocol.indexOf('http') !== 0 && loc.protocol !== 'file:') {\n          baseUrl = loc.href;\n        } else {\n          baseUrl = loc.protocol + '//' + loc.host + loc.pathname;\n        }\n        if (/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(baseUrl)) {\n          baseUrl = baseUrl.replace(/[\\?#].*$/, '').replace(/[\\/\\\\][^\\/]+$/, '');\n          if (!/[\\/\\\\]$/.test(baseUrl)) {\n            baseUrl += '/';\n          }\n        }\n        return baseUrl;\n      };\n      URI.prototype.setPath = function (path) {\n        var pathMatch = /^(.*?)\\/?(\\w+)?$/.exec(path);\n        this.path = pathMatch[0];\n        this.directory = pathMatch[1];\n        this.file = pathMatch[2];\n        this.source = '';\n        this.getURI();\n      };\n      URI.prototype.toRelative = function (uri) {\n        var output;\n        if (uri === './') {\n          return uri;\n        }\n        var relativeUri = new URI(uri, { base_uri: this });\n        if (relativeUri.host !== 'mce_host' && this.host !== relativeUri.host && relativeUri.host || this.port !== relativeUri.port || this.protocol !== relativeUri.protocol && relativeUri.protocol !== '') {\n          return relativeUri.getURI();\n        }\n        var tu = this.getURI(), uu = relativeUri.getURI();\n        if (tu === uu || tu.charAt(tu.length - 1) === '/' && tu.substr(0, tu.length - 1) === uu) {\n          return tu;\n        }\n        output = this.toRelPath(this.path, relativeUri.path);\n        if (relativeUri.query) {\n          output += '?' + relativeUri.query;\n        }\n        if (relativeUri.anchor) {\n          output += '#' + relativeUri.anchor;\n        }\n        return output;\n      };\n      URI.prototype.toAbsolute = function (uri, noHost) {\n        var absoluteUri = new URI(uri, { base_uri: this });\n        return absoluteUri.getURI(noHost && this.isSameOrigin(absoluteUri));\n      };\n      URI.prototype.isSameOrigin = function (uri) {\n        if (this.host == uri.host && this.protocol == uri.protocol) {\n          if (this.port == uri.port) {\n            return true;\n          }\n          var defaultPort = DEFAULT_PORTS[this.protocol];\n          if (defaultPort && (this.port || defaultPort) == (uri.port || defaultPort)) {\n            return true;\n          }\n        }\n        return false;\n      };\n      URI.prototype.toRelPath = function (base, path) {\n        var breakPoint = 0, out = '', i, l;\n        var normalizedBase = base.substring(0, base.lastIndexOf('/')).split('/');\n        var items = path.split('/');\n        if (normalizedBase.length >= items.length) {\n          for (i = 0, l = normalizedBase.length; i < l; i++) {\n            if (i >= items.length || normalizedBase[i] !== items[i]) {\n              breakPoint = i + 1;\n              break;\n            }\n          }\n        }\n        if (normalizedBase.length < items.length) {\n          for (i = 0, l = items.length; i < l; i++) {\n            if (i >= normalizedBase.length || normalizedBase[i] !== items[i]) {\n              breakPoint = i + 1;\n              break;\n            }\n          }\n        }\n        if (breakPoint === 1) {\n          return path;\n        }\n        for (i = 0, l = normalizedBase.length - (breakPoint - 1); i < l; i++) {\n          out += '../';\n        }\n        for (i = breakPoint - 1, l = items.length; i < l; i++) {\n          if (i !== breakPoint - 1) {\n            out += '/' + items[i];\n          } else {\n            out += items[i];\n          }\n        }\n        return out;\n      };\n      URI.prototype.toAbsPath = function (base, path) {\n        var i, nb = 0, o = [], outPath;\n        var tr = /\\/$/.test(path) ? '/' : '';\n        var normalizedBase = base.split('/');\n        var normalizedPath = path.split('/');\n        each$7(normalizedBase, function (k) {\n          if (k) {\n            o.push(k);\n          }\n        });\n        normalizedBase = o;\n        for (i = normalizedPath.length - 1, o = []; i >= 0; i--) {\n          if (normalizedPath[i].length === 0 || normalizedPath[i] === '.') {\n            continue;\n          }\n          if (normalizedPath[i] === '..') {\n            nb++;\n            continue;\n          }\n          if (nb > 0) {\n            nb--;\n            continue;\n          }\n          o.push(normalizedPath[i]);\n        }\n        i = normalizedBase.length - nb;\n        if (i <= 0) {\n          outPath = reverse(o).join('/');\n        } else {\n          outPath = normalizedBase.slice(0, i).join('/') + '/' + reverse(o).join('/');\n        }\n        if (outPath.indexOf('/') !== 0) {\n          outPath = '/' + outPath;\n        }\n        if (tr && outPath.lastIndexOf('/') !== outPath.length - 1) {\n          outPath += tr;\n        }\n        return outPath;\n      };\n      URI.prototype.getURI = function (noProtoHost) {\n        if (noProtoHost === void 0) {\n          noProtoHost = false;\n        }\n        var s;\n        if (!this.source || noProtoHost) {\n          s = '';\n          if (!noProtoHost) {\n            if (this.protocol) {\n              s += this.protocol + '://';\n            } else {\n              s += '//';\n            }\n            if (this.userInfo) {\n              s += this.userInfo + '@';\n            }\n            if (this.host) {\n              s += this.host;\n            }\n            if (this.port) {\n              s += ':' + this.port;\n            }\n          }\n          if (this.path) {\n            s += this.path;\n          }\n          if (this.query) {\n            s += '?' + this.query;\n          }\n          if (this.anchor) {\n            s += '#' + this.anchor;\n          }\n          this.source = s;\n        }\n        return this.source;\n      };\n      return URI;\n    }();\n\n    var filteredClobberElements = Tools.makeMap('button,fieldset,form,iframe,img,image,input,object,output,select,textarea');\n    var isValidPrefixAttrName = function (name) {\n      return name.indexOf('data-') === 0 || name.indexOf('aria-') === 0;\n    };\n    var lazyTempDocument = cached(function () {\n      return document.implementation.createHTMLDocument('parser');\n    });\n    var findMatchingEndTagIndex = function (schema, html, startIndex) {\n      var startTagRegExp = /<([!?\\/])?([A-Za-z0-9\\-_:.]+)/g;\n      var endTagRegExp = /(?:\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>/g;\n      var shortEndedElements = schema.getShortEndedElements();\n      var count = 1, index = startIndex;\n      while (count !== 0) {\n        startTagRegExp.lastIndex = index;\n        while (true) {\n          var startMatch = startTagRegExp.exec(html);\n          if (startMatch === null) {\n            return index;\n          } else if (startMatch[1] === '!') {\n            if (startsWith(startMatch[2], '--')) {\n              index = findCommentEndIndex(html, false, startMatch.index + '!--'.length);\n            } else {\n              index = findCommentEndIndex(html, true, startMatch.index + 1);\n            }\n            break;\n          } else {\n            endTagRegExp.lastIndex = startTagRegExp.lastIndex;\n            var endMatch = endTagRegExp.exec(html);\n            if (isNull(endMatch) || endMatch.index !== startTagRegExp.lastIndex) {\n              continue;\n            }\n            if (startMatch[1] === '/') {\n              count -= 1;\n            } else if (!has$2(shortEndedElements, startMatch[2])) {\n              count += 1;\n            }\n            index = startTagRegExp.lastIndex + endMatch[0].length;\n            break;\n          }\n        }\n      }\n      return index;\n    };\n    var isConditionalComment = function (html, startIndex) {\n      return /^\\s*\\[if [\\w\\W]+\\]>.*<!\\[endif\\](--!?)?>/.test(html.substr(startIndex));\n    };\n    var findCommentEndIndex = function (html, isBogus, startIndex) {\n      if (startIndex === void 0) {\n        startIndex = 0;\n      }\n      var lcHtml = html.toLowerCase();\n      if (lcHtml.indexOf('[if ', startIndex) !== -1 && isConditionalComment(lcHtml, startIndex)) {\n        var endIfIndex = lcHtml.indexOf('[endif]', startIndex);\n        return lcHtml.indexOf('>', endIfIndex);\n      } else {\n        if (isBogus) {\n          var endIndex = lcHtml.indexOf('>', startIndex);\n          return endIndex !== -1 ? endIndex : lcHtml.length;\n        } else {\n          var endCommentRegexp = /--!?>/g;\n          endCommentRegexp.lastIndex = startIndex;\n          var match = endCommentRegexp.exec(html);\n          return match ? match.index + match[0].length : lcHtml.length;\n        }\n      }\n    };\n    var checkBogusAttribute = function (regExp, attrString) {\n      var matches = regExp.exec(attrString);\n      if (matches) {\n        var name_1 = matches[1];\n        var value = matches[2];\n        return typeof name_1 === 'string' && name_1.toLowerCase() === 'data-mce-bogus' ? value : null;\n      } else {\n        return null;\n      }\n    };\n    var SaxParser = function (settings, schema) {\n      if (schema === void 0) {\n        schema = Schema();\n      }\n      settings = settings || {};\n      var doc = lazyTempDocument();\n      var form = doc.createElement('form');\n      if (settings.fix_self_closing !== false) {\n        settings.fix_self_closing = true;\n      }\n      var comment = settings.comment ? settings.comment : noop;\n      var cdata = settings.cdata ? settings.cdata : noop;\n      var text = settings.text ? settings.text : noop;\n      var start = settings.start ? settings.start : noop;\n      var end = settings.end ? settings.end : noop;\n      var pi = settings.pi ? settings.pi : noop;\n      var doctype = settings.doctype ? settings.doctype : noop;\n      var parseInternal = function (base64Extract, format) {\n        if (format === void 0) {\n          format = 'html';\n        }\n        var html = base64Extract.html;\n        var matches, index = 0, value, endRegExp;\n        var stack = [];\n        var attrList, i, textData, name;\n        var isInternalElement, isShortEnded;\n        var elementRule, isValidElement, attr, attribsValue, validAttributesMap, validAttributePatterns;\n        var attributesRequired, attributesDefault, attributesForced;\n        var anyAttributesRequired, attrValue, idCount = 0;\n        var decode = Entities.decode;\n        var filteredUrlAttrs = Tools.makeMap('src,href,data,background,action,formaction,poster,xlink:href');\n        var parsingMode = format === 'html' ? 0 : 1;\n        var processEndTag = function (name) {\n          var pos, i;\n          pos = stack.length;\n          while (pos--) {\n            if (stack[pos].name === name) {\n              break;\n            }\n          }\n          if (pos >= 0) {\n            for (i = stack.length - 1; i >= pos; i--) {\n              name = stack[i];\n              if (name.valid) {\n                end(name.name);\n              }\n            }\n            stack.length = pos;\n          }\n        };\n        var processText = function (value, raw) {\n          return text(restoreDataUris(value, base64Extract), raw);\n        };\n        var processComment = function (value) {\n          if (value === '') {\n            return;\n          }\n          if (value.charAt(0) === '>') {\n            value = ' ' + value;\n          }\n          if (!settings.allow_conditional_comments && value.substr(0, 3).toLowerCase() === '[if') {\n            value = ' ' + value;\n          }\n          comment(restoreDataUris(value, base64Extract));\n        };\n        var processAttr = function (value) {\n          return restoreDataUris(value, base64Extract);\n        };\n        var processMalformedComment = function (value, startIndex) {\n          var startTag = value || '';\n          var isBogus = !startsWith(startTag, '--');\n          var endIndex = findCommentEndIndex(html, isBogus, startIndex);\n          value = html.substr(startIndex, endIndex - startIndex);\n          processComment(isBogus ? startTag + value : value);\n          return endIndex + 1;\n        };\n        var parseAttribute = function (tagName, name, value, val2, val3) {\n          name = name.toLowerCase();\n          value = processAttr(name in fillAttrsMap ? name : decode(value || val2 || val3 || ''));\n          if (validate && !isInternalElement && isValidPrefixAttrName(name) === false) {\n            var attrRule = validAttributesMap[name];\n            if (!attrRule && validAttributePatterns) {\n              var i_1 = validAttributePatterns.length;\n              while (i_1--) {\n                attrRule = validAttributePatterns[i_1];\n                if (attrRule.pattern.test(name)) {\n                  break;\n                }\n              }\n              if (i_1 === -1) {\n                attrRule = null;\n              }\n            }\n            if (!attrRule) {\n              return;\n            }\n            if (attrRule.validValues && !(value in attrRule.validValues)) {\n              return;\n            }\n          }\n          var isNameOrId = name === 'name' || name === 'id';\n          if (isNameOrId && tagName in filteredClobberElements && (value in doc || value in form)) {\n            return;\n          }\n          if (filteredUrlAttrs[name] && !URI.isDomSafe(value, tagName, settings)) {\n            return;\n          }\n          if (isInternalElement && (name in filteredUrlAttrs || name.indexOf('on') === 0)) {\n            return;\n          }\n          attrList.map[name] = value;\n          attrList.push({\n            name: name,\n            value: value\n          });\n        };\n        var tokenRegExp = new RegExp('<(?:' + '(?:!--([\\\\w\\\\W]*?)--!?>)|' + '(?:!\\\\[CDATA\\\\[([\\\\w\\\\W]*?)\\\\]\\\\]>)|' + '(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\\\w\\\\W]*?)>)|' + '(?:!(--)?)|' + '(?:\\\\?([^\\\\s\\\\/<>]+) ?([\\\\w\\\\W]*?)[?/]>)|' + '(?:\\\\/([A-Za-z][A-Za-z0-9\\\\-_\\\\:\\\\.]*)>)|' + '(?:([A-Za-z][A-Za-z0-9\\\\-_:.]*)(\\\\s(?:[^\\'\">]+(?:\"[^\"]*\"|\\'[^\\']*\\'))*[^\"\\'>]*(?:\"[^\">]*|\\'[^\\'>]*)?|\\\\s*|\\\\/)>)' + ')', 'g');\n        var attrRegExp = /([\\w:\\-]+)(?:\\s*=\\s*(?:(?:\\\"((?:[^\\\"])*)\\\")|(?:\\'((?:[^\\'])*)\\')|([^>\\s]+)))?/g;\n        var shortEndedElements = schema.getShortEndedElements();\n        var selfClosing = settings.self_closing_elements || schema.getSelfClosingElements();\n        var fillAttrsMap = schema.getBoolAttrs();\n        var validate = settings.validate;\n        var removeInternalElements = settings.remove_internals;\n        var fixSelfClosing = settings.fix_self_closing;\n        var specialElements = schema.getSpecialElements();\n        var processHtml = html + '>';\n        while (matches = tokenRegExp.exec(processHtml)) {\n          var matchText = matches[0];\n          if (index < matches.index) {\n            processText(decode(html.substr(index, matches.index - index)));\n          }\n          if (value = matches[7]) {\n            value = value.toLowerCase();\n            if (value.charAt(0) === ':') {\n              value = value.substr(1);\n            }\n            processEndTag(value);\n          } else if (value = matches[8]) {\n            if (matches.index + matchText.length > html.length) {\n              processText(decode(html.substr(matches.index)));\n              index = matches.index + matchText.length;\n              continue;\n            }\n            value = value.toLowerCase();\n            if (value.charAt(0) === ':') {\n              value = value.substr(1);\n            }\n            isShortEnded = value in shortEndedElements;\n            if (fixSelfClosing && selfClosing[value] && stack.length > 0 && stack[stack.length - 1].name === value) {\n              processEndTag(value);\n            }\n            var bogusValue = checkBogusAttribute(attrRegExp, matches[9]);\n            if (bogusValue !== null) {\n              if (bogusValue === 'all') {\n                index = findMatchingEndTagIndex(schema, html, tokenRegExp.lastIndex);\n                tokenRegExp.lastIndex = index;\n                continue;\n              }\n              isValidElement = false;\n            }\n            if (!validate || (elementRule = schema.getElementRule(value))) {\n              isValidElement = true;\n              if (validate) {\n                validAttributesMap = elementRule.attributes;\n                validAttributePatterns = elementRule.attributePatterns;\n              }\n              if (attribsValue = matches[9]) {\n                isInternalElement = attribsValue.indexOf('data-mce-type') !== -1;\n                if (isInternalElement && removeInternalElements) {\n                  isValidElement = false;\n                }\n                attrList = [];\n                attrList.map = {};\n                attribsValue.replace(attrRegExp, function (match, name, val, val2, val3) {\n                  parseAttribute(value, name, val, val2, val3);\n                  return '';\n                });\n              } else {\n                attrList = [];\n                attrList.map = {};\n              }\n              if (validate && !isInternalElement) {\n                attributesRequired = elementRule.attributesRequired;\n                attributesDefault = elementRule.attributesDefault;\n                attributesForced = elementRule.attributesForced;\n                anyAttributesRequired = elementRule.removeEmptyAttrs;\n                if (anyAttributesRequired && !attrList.length) {\n                  isValidElement = false;\n                }\n                if (attributesForced) {\n                  i = attributesForced.length;\n                  while (i--) {\n                    attr = attributesForced[i];\n                    name = attr.name;\n                    attrValue = attr.value;\n                    if (attrValue === '{$uid}') {\n                      attrValue = 'mce_' + idCount++;\n                    }\n                    attrList.map[name] = attrValue;\n                    attrList.push({\n                      name: name,\n                      value: attrValue\n                    });\n                  }\n                }\n                if (attributesDefault) {\n                  i = attributesDefault.length;\n                  while (i--) {\n                    attr = attributesDefault[i];\n                    name = attr.name;\n                    if (!(name in attrList.map)) {\n                      attrValue = attr.value;\n                      if (attrValue === '{$uid}') {\n                        attrValue = 'mce_' + idCount++;\n                      }\n                      attrList.map[name] = attrValue;\n                      attrList.push({\n                        name: name,\n                        value: attrValue\n                      });\n                    }\n                  }\n                }\n                if (attributesRequired) {\n                  i = attributesRequired.length;\n                  while (i--) {\n                    if (attributesRequired[i] in attrList.map) {\n                      break;\n                    }\n                  }\n                  if (i === -1) {\n                    isValidElement = false;\n                  }\n                }\n                if (attr = attrList.map['data-mce-bogus']) {\n                  if (attr === 'all') {\n                    index = findMatchingEndTagIndex(schema, html, tokenRegExp.lastIndex);\n                    tokenRegExp.lastIndex = index;\n                    continue;\n                  }\n                  isValidElement = false;\n                }\n              }\n              if (isValidElement) {\n                start(value, attrList, isShortEnded);\n              }\n            } else {\n              isValidElement = false;\n            }\n            if (endRegExp = specialElements[value]) {\n              endRegExp.lastIndex = index = matches.index + matchText.length;\n              if (matches = endRegExp.exec(html)) {\n                if (isValidElement) {\n                  textData = html.substr(index, matches.index - index);\n                }\n                index = matches.index + matches[0].length;\n              } else {\n                textData = html.substr(index);\n                index = html.length;\n              }\n              if (isValidElement) {\n                if (textData.length > 0) {\n                  processText(textData, true);\n                }\n                end(value);\n              }\n              tokenRegExp.lastIndex = index;\n              continue;\n            }\n            if (!isShortEnded) {\n              if (!attribsValue || attribsValue.indexOf('/') !== attribsValue.length - 1) {\n                stack.push({\n                  name: value,\n                  valid: isValidElement\n                });\n              } else if (isValidElement) {\n                end(value);\n              }\n            }\n          } else if (value = matches[1]) {\n            processComment(value);\n          } else if (value = matches[2]) {\n            var isValidCdataSection = parsingMode === 1 || settings.preserve_cdata || stack.length > 0 && schema.isValidChild(stack[stack.length - 1].name, '#cdata');\n            if (isValidCdataSection) {\n              cdata(value);\n            } else {\n              index = processMalformedComment('', matches.index + 2);\n              tokenRegExp.lastIndex = index;\n              continue;\n            }\n          } else if (value = matches[3]) {\n            doctype(value);\n          } else if ((value = matches[4]) || matchText === '<!') {\n            index = processMalformedComment(value, matches.index + matchText.length);\n            tokenRegExp.lastIndex = index;\n            continue;\n          } else if (value = matches[5]) {\n            if (parsingMode === 1) {\n              pi(value, matches[6]);\n            } else {\n              index = processMalformedComment('?', matches.index + 2);\n              tokenRegExp.lastIndex = index;\n              continue;\n            }\n          }\n          index = matches.index + matchText.length;\n        }\n        if (index < html.length) {\n          processText(decode(html.substr(index)));\n        }\n        for (i = stack.length - 1; i >= 0; i--) {\n          value = stack[i];\n          if (value.valid) {\n            end(value.name);\n          }\n        }\n      };\n      var parse = function (html, format) {\n        if (format === void 0) {\n          format = 'html';\n        }\n        parseInternal(extractBase64DataUris(html), format);\n      };\n      return { parse: parse };\n    };\n    SaxParser.findEndTag = findMatchingEndTagIndex;\n\n    var makeMap = Tools.makeMap, each$6 = Tools.each, explode$2 = Tools.explode, extend$4 = Tools.extend;\n    var DomParser = function (settings, schema) {\n      if (schema === void 0) {\n        schema = Schema();\n      }\n      var nodeFilters = {};\n      var attributeFilters = [];\n      var matchedNodes = {};\n      var matchedAttributes = {};\n      settings = settings || {};\n      settings.validate = 'validate' in settings ? settings.validate : true;\n      settings.root_name = settings.root_name || 'body';\n      var fixInvalidChildren = function (nodes) {\n        var nonSplitableElements = makeMap('tr,td,th,tbody,thead,tfoot,table');\n        var nonEmptyElements = schema.getNonEmptyElements();\n        var whitespaceElements = schema.getWhiteSpaceElements();\n        var textBlockElements = schema.getTextBlockElements();\n        var specialElements = schema.getSpecialElements();\n        var removeOrUnwrapInvalidNode = function (node, originalNodeParent) {\n          if (originalNodeParent === void 0) {\n            originalNodeParent = node.parent;\n          }\n          if (specialElements[node.name]) {\n            node.empty().remove();\n          } else {\n            var children = node.children();\n            for (var _i = 0, children_1 = children; _i < children_1.length; _i++) {\n              var childNode = children_1[_i];\n              if (!schema.isValidChild(originalNodeParent.name, childNode.name)) {\n                removeOrUnwrapInvalidNode(childNode, originalNodeParent);\n              }\n            }\n            node.unwrap();\n          }\n        };\n        for (var ni = 0; ni < nodes.length; ni++) {\n          var node = nodes[ni];\n          var parent_1 = void 0, newParent = void 0, tempNode = void 0;\n          if (!node.parent || node.fixed) {\n            continue;\n          }\n          if (textBlockElements[node.name] && node.parent.name === 'li') {\n            var sibling = node.next;\n            while (sibling) {\n              if (textBlockElements[sibling.name]) {\n                sibling.name = 'li';\n                sibling.fixed = true;\n                node.parent.insert(sibling, node.parent);\n              } else {\n                break;\n              }\n              sibling = sibling.next;\n            }\n            node.unwrap();\n            continue;\n          }\n          var parents = [node];\n          for (parent_1 = node.parent; parent_1 && !schema.isValidChild(parent_1.name, node.name) && !nonSplitableElements[parent_1.name]; parent_1 = parent_1.parent) {\n            parents.push(parent_1);\n          }\n          if (parent_1 && parents.length > 1) {\n            if (schema.isValidChild(parent_1.name, node.name)) {\n              parents.reverse();\n              newParent = filterNode(parents[0].clone());\n              var currentNode = newParent;\n              for (var i = 0; i < parents.length - 1; i++) {\n                if (schema.isValidChild(currentNode.name, parents[i].name)) {\n                  tempNode = filterNode(parents[i].clone());\n                  currentNode.append(tempNode);\n                } else {\n                  tempNode = currentNode;\n                }\n                for (var childNode = parents[i].firstChild; childNode && childNode !== parents[i + 1];) {\n                  var nextNode = childNode.next;\n                  tempNode.append(childNode);\n                  childNode = nextNode;\n                }\n                currentNode = tempNode;\n              }\n              if (!isEmpty(schema, nonEmptyElements, whitespaceElements, newParent)) {\n                parent_1.insert(newParent, parents[0], true);\n                parent_1.insert(node, newParent);\n              } else {\n                parent_1.insert(node, parents[0], true);\n              }\n              parent_1 = parents[0];\n              if (isEmpty(schema, nonEmptyElements, whitespaceElements, parent_1) || hasOnlyChild(parent_1, 'br')) {\n                parent_1.empty().remove();\n              }\n            } else {\n              removeOrUnwrapInvalidNode(node);\n            }\n          } else if (node.parent) {\n            if (node.name === 'li') {\n              var sibling = node.prev;\n              if (sibling && (sibling.name === 'ul' || sibling.name === 'ol')) {\n                sibling.append(node);\n                continue;\n              }\n              sibling = node.next;\n              if (sibling && (sibling.name === 'ul' || sibling.name === 'ol')) {\n                sibling.insert(node, sibling.firstChild, true);\n                continue;\n              }\n              node.wrap(filterNode(new AstNode('ul', 1)));\n              continue;\n            }\n            if (schema.isValidChild(node.parent.name, 'div') && schema.isValidChild('div', node.name)) {\n              node.wrap(filterNode(new AstNode('div', 1)));\n            } else {\n              removeOrUnwrapInvalidNode(node);\n            }\n          }\n        }\n      };\n      var filterNode = function (node) {\n        var name = node.name;\n        if (name in nodeFilters) {\n          var list = matchedNodes[name];\n          if (list) {\n            list.push(node);\n          } else {\n            matchedNodes[name] = [node];\n          }\n        }\n        var i = attributeFilters.length;\n        while (i--) {\n          var attrName = attributeFilters[i].name;\n          if (attrName in node.attributes.map) {\n            var list = matchedAttributes[attrName];\n            if (list) {\n              list.push(node);\n            } else {\n              matchedAttributes[attrName] = [node];\n            }\n          }\n        }\n        return node;\n      };\n      var addNodeFilter = function (name, callback) {\n        each$6(explode$2(name), function (name) {\n          var list = nodeFilters[name];\n          if (!list) {\n            nodeFilters[name] = list = [];\n          }\n          list.push(callback);\n        });\n      };\n      var getNodeFilters = function () {\n        var out = [];\n        for (var name_1 in nodeFilters) {\n          if (has$2(nodeFilters, name_1)) {\n            out.push({\n              name: name_1,\n              callbacks: nodeFilters[name_1]\n            });\n          }\n        }\n        return out;\n      };\n      var addAttributeFilter = function (name, callback) {\n        each$6(explode$2(name), function (name) {\n          var i;\n          for (i = 0; i < attributeFilters.length; i++) {\n            if (attributeFilters[i].name === name) {\n              attributeFilters[i].callbacks.push(callback);\n              return;\n            }\n          }\n          attributeFilters.push({\n            name: name,\n            callbacks: [callback]\n          });\n        });\n      };\n      var getAttributeFilters = function () {\n        return [].concat(attributeFilters);\n      };\n      var parse = function (html, args) {\n        var nodes, i, l, fi, fl, list, name;\n        var invalidChildren = [];\n        var node;\n        var getRootBlockName = function (name) {\n          if (name === false) {\n            return '';\n          } else if (name === true) {\n            return 'p';\n          } else {\n            return name;\n          }\n        };\n        args = args || {};\n        matchedNodes = {};\n        matchedAttributes = {};\n        var blockElements = extend$4(makeMap('script,style,head,html,body,title,meta,param'), schema.getBlockElements());\n        var textRootBlockElements = getTextRootBlockElements(schema);\n        var nonEmptyElements = schema.getNonEmptyElements();\n        var children = schema.children;\n        var validate = settings.validate;\n        var forcedRootBlockName = 'forced_root_block' in args ? args.forced_root_block : settings.forced_root_block;\n        var rootBlockName = getRootBlockName(forcedRootBlockName);\n        var whiteSpaceElements = schema.getWhiteSpaceElements();\n        var startWhiteSpaceRegExp = /^[ \\t\\r\\n]+/;\n        var endWhiteSpaceRegExp = /[ \\t\\r\\n]+$/;\n        var allWhiteSpaceRegExp = /[ \\t\\r\\n]+/g;\n        var isAllWhiteSpaceRegExp = /^[ \\t\\r\\n]+$/;\n        var isInWhiteSpacePreservedElement = has$2(whiteSpaceElements, args.context) || has$2(whiteSpaceElements, settings.root_name);\n        var addRootBlocks = function () {\n          var node = rootNode.firstChild, rootBlockNode = null;\n          var trim = function (rootBlock) {\n            if (rootBlock) {\n              node = rootBlock.firstChild;\n              if (node && node.type === 3) {\n                node.value = node.value.replace(startWhiteSpaceRegExp, '');\n              }\n              node = rootBlock.lastChild;\n              if (node && node.type === 3) {\n                node.value = node.value.replace(endWhiteSpaceRegExp, '');\n              }\n            }\n          };\n          if (!schema.isValidChild(rootNode.name, rootBlockName.toLowerCase())) {\n            return;\n          }\n          while (node) {\n            var next = node.next;\n            if (node.type === 3 || node.type === 1 && node.name !== 'p' && !blockElements[node.name] && !node.attr('data-mce-type')) {\n              if (!rootBlockNode) {\n                rootBlockNode = createNode(rootBlockName, 1);\n                rootBlockNode.attr(settings.forced_root_block_attrs);\n                rootNode.insert(rootBlockNode, node);\n                rootBlockNode.append(node);\n              } else {\n                rootBlockNode.append(node);\n              }\n            } else {\n              trim(rootBlockNode);\n              rootBlockNode = null;\n            }\n            node = next;\n          }\n          trim(rootBlockNode);\n        };\n        var createNode = function (name, type) {\n          var node = new AstNode(name, type);\n          var list;\n          if (name in nodeFilters) {\n            list = matchedNodes[name];\n            if (list) {\n              list.push(node);\n            } else {\n              matchedNodes[name] = [node];\n            }\n          }\n          return node;\n        };\n        var removeWhitespaceBefore = function (node) {\n          var blockElements = schema.getBlockElements();\n          for (var textNode = node.prev; textNode && textNode.type === 3;) {\n            var textVal = textNode.value.replace(endWhiteSpaceRegExp, '');\n            if (textVal.length > 0) {\n              textNode.value = textVal;\n              return;\n            }\n            var textNodeNext = textNode.next;\n            if (textNodeNext) {\n              if (textNodeNext.type === 3 && textNodeNext.value.length) {\n                textNode = textNode.prev;\n                continue;\n              }\n              if (!blockElements[textNodeNext.name] && textNodeNext.name !== 'script' && textNodeNext.name !== 'style') {\n                textNode = textNode.prev;\n                continue;\n              }\n            }\n            var sibling = textNode.prev;\n            textNode.remove();\n            textNode = sibling;\n          }\n        };\n        var cloneAndExcludeBlocks = function (input) {\n          var output = {};\n          for (var name_2 in input) {\n            if (name_2 !== 'li' && name_2 !== 'p') {\n              output[name_2] = input[name_2];\n            }\n          }\n          return output;\n        };\n        var isTextRootBlockEmpty = function (node) {\n          var tempNode = node;\n          while (isNonNullable(tempNode)) {\n            if (tempNode.name in textRootBlockElements) {\n              return isEmpty(schema, nonEmptyElements, whiteSpaceElements, tempNode);\n            } else {\n              tempNode = tempNode.parent;\n            }\n          }\n          return false;\n        };\n        var parser = SaxParser({\n          validate: validate,\n          document: settings.document,\n          allow_html_data_urls: settings.allow_html_data_urls,\n          allow_svg_data_urls: settings.allow_svg_data_urls,\n          allow_script_urls: settings.allow_script_urls,\n          allow_conditional_comments: settings.allow_conditional_comments,\n          preserve_cdata: settings.preserve_cdata,\n          self_closing_elements: cloneAndExcludeBlocks(schema.getSelfClosingElements()),\n          cdata: function (text) {\n            node.append(createNode('#cdata', 4)).value = text;\n          },\n          text: function (text, raw) {\n            var textNode;\n            if (!isInWhiteSpacePreservedElement) {\n              text = text.replace(allWhiteSpaceRegExp, ' ');\n              if (isLineBreakNode(node.lastChild, blockElements)) {\n                text = text.replace(startWhiteSpaceRegExp, '');\n              }\n            }\n            if (text.length !== 0) {\n              textNode = createNode('#text', 3);\n              textNode.raw = !!raw;\n              node.append(textNode).value = text;\n            }\n          },\n          comment: function (text) {\n            node.append(createNode('#comment', 8)).value = text;\n          },\n          pi: function (name, text) {\n            node.append(createNode(name, 7)).value = text;\n            removeWhitespaceBefore(node);\n          },\n          doctype: function (text) {\n            var newNode = node.append(createNode('#doctype', 10));\n            newNode.value = text;\n            removeWhitespaceBefore(node);\n          },\n          start: function (name, attrs, empty) {\n            var elementRule = validate ? schema.getElementRule(name) : {};\n            if (elementRule) {\n              var newNode = createNode(elementRule.outputName || name, 1);\n              newNode.attributes = attrs;\n              newNode.shortEnded = empty;\n              node.append(newNode);\n              var parent_2 = children[node.name];\n              if (parent_2 && children[newNode.name] && !parent_2[newNode.name]) {\n                invalidChildren.push(newNode);\n              }\n              var attrFiltersLen = attributeFilters.length;\n              while (attrFiltersLen--) {\n                var attrName = attributeFilters[attrFiltersLen].name;\n                if (attrName in attrs.map) {\n                  list = matchedAttributes[attrName];\n                  if (list) {\n                    list.push(newNode);\n                  } else {\n                    matchedAttributes[attrName] = [newNode];\n                  }\n                }\n              }\n              if (blockElements[name]) {\n                removeWhitespaceBefore(newNode);\n              }\n              if (!empty) {\n                node = newNode;\n              }\n              if (!isInWhiteSpacePreservedElement && whiteSpaceElements[name]) {\n                isInWhiteSpacePreservedElement = true;\n              }\n            }\n          },\n          end: function (name) {\n            var textNode, text, sibling;\n            var elementRule = validate ? schema.getElementRule(name) : {};\n            if (elementRule) {\n              if (blockElements[name]) {\n                if (!isInWhiteSpacePreservedElement) {\n                  textNode = node.firstChild;\n                  if (textNode && textNode.type === 3) {\n                    text = textNode.value.replace(startWhiteSpaceRegExp, '');\n                    if (text.length > 0) {\n                      textNode.value = text;\n                      textNode = textNode.next;\n                    } else {\n                      sibling = textNode.next;\n                      textNode.remove();\n                      textNode = sibling;\n                      while (textNode && textNode.type === 3) {\n                        text = textNode.value;\n                        sibling = textNode.next;\n                        if (text.length === 0 || isAllWhiteSpaceRegExp.test(text)) {\n                          textNode.remove();\n                          textNode = sibling;\n                        }\n                        textNode = sibling;\n                      }\n                    }\n                  }\n                  textNode = node.lastChild;\n                  if (textNode && textNode.type === 3) {\n                    text = textNode.value.replace(endWhiteSpaceRegExp, '');\n                    if (text.length > 0) {\n                      textNode.value = text;\n                      textNode = textNode.prev;\n                    } else {\n                      sibling = textNode.prev;\n                      textNode.remove();\n                      textNode = sibling;\n                      while (textNode && textNode.type === 3) {\n                        text = textNode.value;\n                        sibling = textNode.prev;\n                        if (text.length === 0 || isAllWhiteSpaceRegExp.test(text)) {\n                          textNode.remove();\n                          textNode = sibling;\n                        }\n                        textNode = sibling;\n                      }\n                    }\n                  }\n                }\n              }\n              if (isInWhiteSpacePreservedElement && whiteSpaceElements[name]) {\n                isInWhiteSpacePreservedElement = false;\n              }\n              var isNodeEmpty = isEmpty(schema, nonEmptyElements, whiteSpaceElements, node);\n              var parentNode = node.parent;\n              if (elementRule.paddInEmptyBlock && isNodeEmpty && isTextRootBlockEmpty(node)) {\n                paddEmptyNode(settings, args, blockElements, node);\n              } else if (elementRule.removeEmpty && isNodeEmpty) {\n                if (blockElements[node.name]) {\n                  node.empty().remove();\n                } else {\n                  node.unwrap();\n                }\n              } else if (elementRule.paddEmpty && (isPaddedWithNbsp(node) || isNodeEmpty)) {\n                paddEmptyNode(settings, args, blockElements, node);\n              }\n              node = parentNode;\n            }\n          }\n        }, schema);\n        var rootNode = node = new AstNode(args.context || settings.root_name, 11);\n        parser.parse(html, args.format);\n        if (validate && invalidChildren.length) {\n          if (!args.context) {\n            fixInvalidChildren(invalidChildren);\n          } else {\n            args.invalid = true;\n          }\n        }\n        if (rootBlockName && (rootNode.name === 'body' || args.isRootContent)) {\n          addRootBlocks();\n        }\n        if (!args.invalid) {\n          for (name in matchedNodes) {\n            if (!has$2(matchedNodes, name)) {\n              continue;\n            }\n            list = nodeFilters[name];\n            nodes = matchedNodes[name];\n            fi = nodes.length;\n            while (fi--) {\n              if (!nodes[fi].parent) {\n                nodes.splice(fi, 1);\n              }\n            }\n            for (i = 0, l = list.length; i < l; i++) {\n              list[i](nodes, name, args);\n            }\n          }\n          for (i = 0, l = attributeFilters.length; i < l; i++) {\n            list = attributeFilters[i];\n            if (list.name in matchedAttributes) {\n              nodes = matchedAttributes[list.name];\n              fi = nodes.length;\n              while (fi--) {\n                if (!nodes[fi].parent) {\n                  nodes.splice(fi, 1);\n                }\n              }\n              for (fi = 0, fl = list.callbacks.length; fi < fl; fi++) {\n                list.callbacks[fi](nodes, list.name, args);\n              }\n            }\n          }\n        }\n        return rootNode;\n      };\n      var exports = {\n        schema: schema,\n        addAttributeFilter: addAttributeFilter,\n        getAttributeFilters: getAttributeFilters,\n        addNodeFilter: addNodeFilter,\n        getNodeFilters: getNodeFilters,\n        filterNode: filterNode,\n        parse: parse\n      };\n      register$1(exports, settings);\n      register$2(exports, settings);\n      return exports;\n    };\n\n    var register = function (htmlParser, settings, dom) {\n      htmlParser.addAttributeFilter('data-mce-tabindex', function (nodes, name) {\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          node.attr('tabindex', node.attr('data-mce-tabindex'));\n          node.attr(name, null);\n        }\n      });\n      htmlParser.addAttributeFilter('src,href,style', function (nodes, name) {\n        var internalName = 'data-mce-' + name;\n        var urlConverter = settings.url_converter;\n        var urlConverterScope = settings.url_converter_scope;\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          var value = node.attr(internalName);\n          if (value !== undefined) {\n            node.attr(name, value.length > 0 ? value : null);\n            node.attr(internalName, null);\n          } else {\n            value = node.attr(name);\n            if (name === 'style') {\n              value = dom.serializeStyle(dom.parseStyle(value), node.name);\n            } else if (urlConverter) {\n              value = urlConverter.call(urlConverterScope, value, name, node.name);\n            }\n            node.attr(name, value.length > 0 ? value : null);\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('class', function (nodes) {\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          var value = node.attr('class');\n          if (value) {\n            value = node.attr('class').replace(/(?:^|\\s)mce-item-\\w+(?!\\S)/g, '');\n            node.attr('class', value.length > 0 ? value : null);\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('data-mce-type', function (nodes, name, args) {\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          if (node.attr('data-mce-type') === 'bookmark' && !args.cleanup) {\n            var hasChildren = Optional.from(node.firstChild).exists(function (firstChild) {\n              return !isZwsp(firstChild.value);\n            });\n            if (hasChildren) {\n              node.unwrap();\n            } else {\n              node.remove();\n            }\n          }\n        }\n      });\n      htmlParser.addNodeFilter('noscript', function (nodes) {\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i].firstChild;\n          if (node) {\n            node.value = Entities.decode(node.value);\n          }\n        }\n      });\n      htmlParser.addNodeFilter('script,style', function (nodes, name) {\n        var trim = function (value) {\n          return value.replace(/(<!--\\[CDATA\\[|\\]\\]-->)/g, '\\n').replace(/^[\\r\\n]*|[\\r\\n]*$/g, '').replace(/^\\s*((<!--)?(\\s*\\/\\/)?\\s*<!\\[CDATA\\[|(<!--\\s*)?\\/\\*\\s*<!\\[CDATA\\[\\s*\\*\\/|(\\/\\/)?\\s*<!--|\\/\\*\\s*<!--\\s*\\*\\/)\\s*[\\r\\n]*/gi, '').replace(/\\s*(\\/\\*\\s*\\]\\]>\\s*\\*\\/(-->)?|\\s*\\/\\/\\s*\\]\\]>(-->)?|\\/\\/\\s*(-->)?|\\]\\]>|\\/\\*\\s*-->\\s*\\*\\/|\\s*-->\\s*)\\s*$/g, '');\n        };\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          var value = node.firstChild ? node.firstChild.value : '';\n          if (name === 'script') {\n            var type = node.attr('type');\n            if (type) {\n              node.attr('type', type === 'mce-no/type' ? null : type.replace(/^mce\\-/, ''));\n            }\n            if (settings.element_format === 'xhtml' && value.length > 0) {\n              node.firstChild.value = '// <![CDATA[\\n' + trim(value) + '\\n// ]]>';\n            }\n          } else {\n            if (settings.element_format === 'xhtml' && value.length > 0) {\n              node.firstChild.value = '<!--\\n' + trim(value) + '\\n-->';\n            }\n          }\n        }\n      });\n      htmlParser.addNodeFilter('#comment', function (nodes) {\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          if (settings.preserve_cdata && node.value.indexOf('[CDATA[') === 0) {\n            node.name = '#cdata';\n            node.type = 4;\n            node.value = dom.decode(node.value.replace(/^\\[CDATA\\[|\\]\\]$/g, ''));\n          } else if (node.value.indexOf('mce:protected ') === 0) {\n            node.name = '#text';\n            node.type = 3;\n            node.raw = true;\n            node.value = unescape(node.value).substr(14);\n          }\n        }\n      });\n      htmlParser.addNodeFilter('xml:namespace,input', function (nodes, name) {\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          if (node.type === 7) {\n            node.remove();\n          } else if (node.type === 1) {\n            if (name === 'input' && !node.attr('type')) {\n              node.attr('type', 'text');\n            }\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('data-mce-type', function (nodes) {\n        each$k(nodes, function (node) {\n          if (node.attr('data-mce-type') === 'format-caret') {\n            if (node.isEmpty(htmlParser.schema.getNonEmptyElements())) {\n              node.remove();\n            } else {\n              node.unwrap();\n            }\n          }\n        });\n      });\n      htmlParser.addAttributeFilter('data-mce-src,data-mce-href,data-mce-style,' + 'data-mce-selected,data-mce-expando,' + 'data-mce-type,data-mce-resize,data-mce-placeholder', function (nodes, name) {\n        var i = nodes.length;\n        while (i--) {\n          nodes[i].attr(name, null);\n        }\n      });\n    };\n    var trimTrailingBr = function (rootNode) {\n      var isBr = function (node) {\n        return node && node.name === 'br';\n      };\n      var brNode1 = rootNode.lastChild;\n      if (isBr(brNode1)) {\n        var brNode2 = brNode1.prev;\n        if (isBr(brNode2)) {\n          brNode1.remove();\n          brNode2.remove();\n        }\n      }\n    };\n\n    var preProcess = function (editor, node, args) {\n      var oldDoc;\n      var dom = editor.dom;\n      var clonedNode = node.cloneNode(true);\n      var impl = document.implementation;\n      if (impl.createHTMLDocument) {\n        var doc_1 = impl.createHTMLDocument('');\n        Tools.each(clonedNode.nodeName === 'BODY' ? clonedNode.childNodes : [clonedNode], function (node) {\n          doc_1.body.appendChild(doc_1.importNode(node, true));\n        });\n        if (clonedNode.nodeName !== 'BODY') {\n          clonedNode = doc_1.body.firstChild;\n        } else {\n          clonedNode = doc_1.body;\n        }\n        oldDoc = dom.doc;\n        dom.doc = doc_1;\n      }\n      firePreProcess(editor, __assign(__assign({}, args), { node: clonedNode }));\n      if (oldDoc) {\n        dom.doc = oldDoc;\n      }\n      return clonedNode;\n    };\n    var shouldFireEvent = function (editor, args) {\n      return editor && editor.hasEventListeners('PreProcess') && !args.no_events;\n    };\n    var process = function (editor, node, args) {\n      return shouldFireEvent(editor, args) ? preProcess(editor, node, args) : node;\n    };\n\n    var addTempAttr = function (htmlParser, tempAttrs, name) {\n      if (Tools.inArray(tempAttrs, name) === -1) {\n        htmlParser.addAttributeFilter(name, function (nodes, name) {\n          var i = nodes.length;\n          while (i--) {\n            nodes[i].attr(name, null);\n          }\n        });\n        tempAttrs.push(name);\n      }\n    };\n    var postProcess = function (editor, args, content) {\n      if (!args.no_events && editor) {\n        var outArgs = firePostProcess(editor, __assign(__assign({}, args), { content: content }));\n        return outArgs.content;\n      } else {\n        return content;\n      }\n    };\n    var getHtmlFromNode = function (dom, node, args) {\n      var html = trim$3(args.getInner ? node.innerHTML : dom.getOuterHTML(node));\n      return args.selection || isWsPreserveElement(SugarElement.fromDom(node)) ? html : Tools.trim(html);\n    };\n    var parseHtml = function (htmlParser, html, args) {\n      var parserArgs = args.selection ? __assign({ forced_root_block: false }, args) : args;\n      var rootNode = htmlParser.parse(html, parserArgs);\n      trimTrailingBr(rootNode);\n      return rootNode;\n    };\n    var serializeNode = function (settings, schema, node) {\n      var htmlSerializer = HtmlSerializer(settings, schema);\n      return htmlSerializer.serialize(node);\n    };\n    var toHtml = function (editor, settings, schema, rootNode, args) {\n      var content = serializeNode(settings, schema, rootNode);\n      return postProcess(editor, args, content);\n    };\n    var DomSerializerImpl = function (settings, editor) {\n      var tempAttrs = ['data-mce-selected'];\n      var dom = editor && editor.dom ? editor.dom : DOMUtils.DOM;\n      var schema = editor && editor.schema ? editor.schema : Schema(settings);\n      settings.entity_encoding = settings.entity_encoding || 'named';\n      settings.remove_trailing_brs = 'remove_trailing_brs' in settings ? settings.remove_trailing_brs : true;\n      var htmlParser = DomParser(settings, schema);\n      register(htmlParser, settings, dom);\n      var serialize = function (node, parserArgs) {\n        if (parserArgs === void 0) {\n          parserArgs = {};\n        }\n        var args = __assign({ format: 'html' }, parserArgs);\n        var targetNode = process(editor, node, args);\n        var html = getHtmlFromNode(dom, targetNode, args);\n        var rootNode = parseHtml(htmlParser, html, args);\n        return args.format === 'tree' ? rootNode : toHtml(editor, settings, schema, rootNode, args);\n      };\n      return {\n        schema: schema,\n        addNodeFilter: htmlParser.addNodeFilter,\n        addAttributeFilter: htmlParser.addAttributeFilter,\n        serialize: serialize,\n        addRules: schema.addValidElements,\n        setRules: schema.setValidElements,\n        addTempAttr: curry(addTempAttr, htmlParser, tempAttrs),\n        getTempAttrs: constant(tempAttrs),\n        getNodeFilters: htmlParser.getNodeFilters,\n        getAttributeFilters: htmlParser.getAttributeFilters\n      };\n    };\n\n    var DomSerializer = function (settings, editor) {\n      var domSerializer = DomSerializerImpl(settings, editor);\n      return {\n        schema: domSerializer.schema,\n        addNodeFilter: domSerializer.addNodeFilter,\n        addAttributeFilter: domSerializer.addAttributeFilter,\n        serialize: domSerializer.serialize,\n        addRules: domSerializer.addRules,\n        setRules: domSerializer.setRules,\n        addTempAttr: domSerializer.addTempAttr,\n        getTempAttrs: domSerializer.getTempAttrs,\n        getNodeFilters: domSerializer.getNodeFilters,\n        getAttributeFilters: domSerializer.getAttributeFilters\n      };\n    };\n\n    var defaultFormat = 'html';\n    var getContent = function (editor, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      var format = args.format ? args.format : defaultFormat;\n      return getContent$2(editor, args, format);\n    };\n\n    var setContent = function (editor, content, args) {\n      if (args === void 0) {\n        args = {};\n      }\n      return setContent$2(editor, content, args);\n    };\n\n    var DOM$7 = DOMUtils.DOM;\n    var restoreOriginalStyles = function (editor) {\n      DOM$7.setStyle(editor.id, 'display', editor.orgDisplay);\n    };\n    var safeDestroy = function (x) {\n      return Optional.from(x).each(function (x) {\n        return x.destroy();\n      });\n    };\n    var clearDomReferences = function (editor) {\n      editor.contentAreaContainer = editor.formElement = editor.container = editor.editorContainer = null;\n      editor.bodyElement = editor.contentDocument = editor.contentWindow = null;\n      editor.iframeElement = editor.targetElm = null;\n      if (editor.selection) {\n        editor.selection = editor.selection.win = editor.selection.dom = editor.selection.dom.doc = null;\n      }\n    };\n    var restoreForm = function (editor) {\n      var form = editor.formElement;\n      if (form) {\n        if (form._mceOldSubmit) {\n          form.submit = form._mceOldSubmit;\n          form._mceOldSubmit = null;\n        }\n        DOM$7.unbind(form, 'submit reset', editor.formEventDelegate);\n      }\n    };\n    var remove = function (editor) {\n      if (!editor.removed) {\n        var _selectionOverrides = editor._selectionOverrides, editorUpload = editor.editorUpload;\n        var body = editor.getBody();\n        var element = editor.getElement();\n        if (body) {\n          editor.save({ is_removing: true });\n        }\n        editor.removed = true;\n        editor.unbindAllNativeEvents();\n        if (editor.hasHiddenInput && element) {\n          DOM$7.remove(element.nextSibling);\n        }\n        fireRemove(editor);\n        editor.editorManager.remove(editor);\n        if (!editor.inline && body) {\n          restoreOriginalStyles(editor);\n        }\n        fireDetach(editor);\n        DOM$7.remove(editor.getContainer());\n        safeDestroy(_selectionOverrides);\n        safeDestroy(editorUpload);\n        editor.destroy();\n      }\n    };\n    var destroy = function (editor, automatic) {\n      var selection = editor.selection, dom = editor.dom;\n      if (editor.destroyed) {\n        return;\n      }\n      if (!automatic && !editor.removed) {\n        editor.remove();\n        return;\n      }\n      if (!automatic) {\n        editor.editorManager.off('beforeunload', editor._beforeUnload);\n        if (editor.theme && editor.theme.destroy) {\n          editor.theme.destroy();\n        }\n        safeDestroy(selection);\n        safeDestroy(dom);\n      }\n      restoreForm(editor);\n      clearDomReferences(editor);\n      editor.destroyed = true;\n    };\n\n    var deep = function (old, nu) {\n      var bothObjects = isObject(old) && isObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    var baseMerge = function (merger) {\n      return function () {\n        var objects = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          objects[_i] = arguments[_i];\n        }\n        if (objects.length === 0) {\n          throw new Error('Can\\'t merge zero objects');\n        }\n        var ret = {};\n        for (var j = 0; j < objects.length; j++) {\n          var curObject = objects[j];\n          for (var key in curObject) {\n            if (has$2(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    var deepMerge = baseMerge(deep);\n\n    var deprecatedSettings = ('autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,' + 'boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,' + 'force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,' + 'non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,' + 'tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,' + 'paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists').split(',');\n    var deprecatedPlugins = 'bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor'.split(',');\n    var movedToPremiumPlugins = 'imagetools,toc'.split(',');\n    var getDeprecatedSettings = function (settings) {\n      var settingNames = filter$4(deprecatedSettings, function (setting) {\n        return has$2(settings, setting);\n      });\n      var forcedRootBlock = settings.forced_root_block;\n      if (forcedRootBlock === false || forcedRootBlock === '') {\n        settingNames.push('forced_root_block (false only)');\n      }\n      return sort(settingNames);\n    };\n    var getDeprecatedPlugins = function (settings) {\n      var plugins = Tools.makeMap(settings.plugins, ' ');\n      var hasPlugin = function (plugin) {\n        return has$2(plugins, plugin);\n      };\n      var pluginNames = __spreadArray(__spreadArray([], filter$4(deprecatedPlugins, hasPlugin), true), bind(movedToPremiumPlugins, function (plugin) {\n        return hasPlugin(plugin) ? [plugin + ' (moving to premium)'] : [];\n      }), true);\n      return sort(pluginNames);\n    };\n    var logDeprecationsWarning = function (rawSettings, finalSettings) {\n      var deprecatedSettings = getDeprecatedSettings(rawSettings);\n      var deprecatedPlugins = getDeprecatedPlugins(finalSettings);\n      var hasDeprecatedPlugins = deprecatedPlugins.length > 0;\n      var hasDeprecatedSettings = deprecatedSettings.length > 0;\n      var isLegacyMobileTheme = finalSettings.theme === 'mobile';\n      if (hasDeprecatedPlugins || hasDeprecatedSettings || isLegacyMobileTheme) {\n        var listJoiner = '\\n- ';\n        var themesMessage = isLegacyMobileTheme ? '\\n\\nThemes:' + listJoiner + 'mobile' : '';\n        var pluginsMessage = hasDeprecatedPlugins ? '\\n\\nPlugins:' + listJoiner + deprecatedPlugins.join(listJoiner) : '';\n        var settingsMessage = hasDeprecatedSettings ? '\\n\\nSettings:' + listJoiner + deprecatedSettings.join(listJoiner) : '';\n        console.warn('The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. ' + 'See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information.' + themesMessage + pluginsMessage + settingsMessage);\n      }\n    };\n\n    var sectionResult = function (sections, settings) {\n      return {\n        sections: constant(sections),\n        settings: constant(settings)\n      };\n    };\n    var deviceDetection = detect().deviceType;\n    var isTouch = deviceDetection.isTouch();\n    var isPhone = deviceDetection.isPhone();\n    var isTablet = deviceDetection.isTablet();\n    var legacyMobilePlugins = [\n      'lists',\n      'autolink',\n      'autosave'\n    ];\n    var defaultTouchSettings = {\n      table_grid: false,\n      object_resizing: false,\n      resize: false\n    };\n    var normalizePlugins = function (plugins) {\n      var pluginNames = isArray$1(plugins) ? plugins.join(' ') : plugins;\n      var trimmedPlugins = map$3(isString$1(pluginNames) ? pluginNames.split(' ') : [], trim$5);\n      return filter$4(trimmedPlugins, function (item) {\n        return item.length > 0;\n      });\n    };\n    var filterLegacyMobilePlugins = function (plugins) {\n      return filter$4(plugins, curry(contains$3, legacyMobilePlugins));\n    };\n    var extractSections = function (keys, settings) {\n      var result = bifilter(settings, function (value, key) {\n        return contains$3(keys, key);\n      });\n      return sectionResult(result.t, result.f);\n    };\n    var getSection = function (sectionResult, name, defaults) {\n      if (defaults === void 0) {\n        defaults = {};\n      }\n      var sections = sectionResult.sections();\n      var sectionSettings = get$9(sections, name).getOr({});\n      return Tools.extend({}, defaults, sectionSettings);\n    };\n    var hasSection = function (sectionResult, name) {\n      return has$2(sectionResult.sections(), name);\n    };\n    var isSectionTheme = function (sectionResult, name, theme) {\n      var section = sectionResult.sections();\n      return hasSection(sectionResult, name) && section[name].theme === theme;\n    };\n    var getSectionConfig = function (sectionResult, name) {\n      return hasSection(sectionResult, name) ? sectionResult.sections()[name] : {};\n    };\n    var getToolbarMode = function (settings, defaultVal) {\n      return get$9(settings, 'toolbar_mode').orThunk(function () {\n        return get$9(settings, 'toolbar_drawer').map(function (val) {\n          return val === false ? 'wrap' : val;\n        });\n      }).getOr(defaultVal);\n    };\n    var getDefaultSettings = function (settings, id, documentBaseUrl, isTouch, editor) {\n      var baseDefaults = {\n        id: id,\n        theme: 'silver',\n        toolbar_mode: getToolbarMode(settings, 'floating'),\n        plugins: '',\n        document_base_url: documentBaseUrl,\n        add_form_submit_trigger: true,\n        submit_patch: true,\n        add_unload_trigger: true,\n        convert_urls: true,\n        relative_urls: true,\n        remove_script_host: true,\n        object_resizing: true,\n        doctype: '<!DOCTYPE html>',\n        visual: true,\n        font_size_legacy_values: 'xx-small,small,medium,large,x-large,xx-large,300%',\n        forced_root_block: 'p',\n        hidden_input: true,\n        inline_styles: true,\n        convert_fonts_to_spans: true,\n        indent: true,\n        indent_before: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' + 'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',\n        indent_after: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' + 'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',\n        entity_encoding: 'named',\n        url_converter: editor.convertURL,\n        url_converter_scope: editor\n      };\n      return __assign(__assign({}, baseDefaults), isTouch ? defaultTouchSettings : {});\n    };\n    var getDefaultMobileSettings = function (mobileSettings, isPhone) {\n      var defaultMobileSettings = {\n        resize: false,\n        toolbar_mode: getToolbarMode(mobileSettings, 'scrolling'),\n        toolbar_sticky: false\n      };\n      var defaultPhoneSettings = { menubar: false };\n      return __assign(__assign(__assign({}, defaultTouchSettings), defaultMobileSettings), isPhone ? defaultPhoneSettings : {});\n    };\n    var getExternalPlugins = function (overrideSettings, settings) {\n      var userDefinedExternalPlugins = settings.external_plugins ? settings.external_plugins : {};\n      if (overrideSettings && overrideSettings.external_plugins) {\n        return Tools.extend({}, overrideSettings.external_plugins, userDefinedExternalPlugins);\n      } else {\n        return userDefinedExternalPlugins;\n      }\n    };\n    var combinePlugins = function (forcedPlugins, plugins) {\n      return [].concat(normalizePlugins(forcedPlugins)).concat(normalizePlugins(plugins));\n    };\n    var getPlatformPlugins = function (isMobileDevice, sectionResult, desktopPlugins, mobilePlugins) {\n      if (isMobileDevice && isSectionTheme(sectionResult, 'mobile', 'mobile')) {\n        return filterLegacyMobilePlugins(mobilePlugins);\n      } else if (isMobileDevice && hasSection(sectionResult, 'mobile')) {\n        return mobilePlugins;\n      } else {\n        return desktopPlugins;\n      }\n    };\n    var processPlugins = function (isMobileDevice, sectionResult, defaultOverrideSettings, settings) {\n      var forcedPlugins = normalizePlugins(defaultOverrideSettings.forced_plugins);\n      var desktopPlugins = normalizePlugins(settings.plugins);\n      var mobileConfig = getSectionConfig(sectionResult, 'mobile');\n      var mobilePlugins = mobileConfig.plugins ? normalizePlugins(mobileConfig.plugins) : desktopPlugins;\n      var platformPlugins = getPlatformPlugins(isMobileDevice, sectionResult, desktopPlugins, mobilePlugins);\n      var combinedPlugins = combinePlugins(forcedPlugins, platformPlugins);\n      if (Env.browser.isIE() && contains$3(combinedPlugins, 'rtc')) {\n        throw new Error('RTC plugin is not supported on IE 11.');\n      }\n      return Tools.extend(settings, { plugins: combinedPlugins.join(' ') });\n    };\n    var isOnMobile = function (isMobileDevice, sectionResult) {\n      return isMobileDevice && hasSection(sectionResult, 'mobile');\n    };\n    var combineSettings = function (isMobileDevice, isPhone, defaultSettings, defaultOverrideSettings, settings) {\n      var defaultDeviceSettings = isMobileDevice ? { mobile: getDefaultMobileSettings(settings.mobile || {}, isPhone) } : {};\n      var sectionResult = extractSections(['mobile'], deepMerge(defaultDeviceSettings, settings));\n      var extendedSettings = Tools.extend(defaultSettings, defaultOverrideSettings, sectionResult.settings(), isOnMobile(isMobileDevice, sectionResult) ? getSection(sectionResult, 'mobile') : {}, {\n        validate: true,\n        external_plugins: getExternalPlugins(defaultOverrideSettings, sectionResult.settings())\n      });\n      return processPlugins(isMobileDevice, sectionResult, defaultOverrideSettings, extendedSettings);\n    };\n    var getEditorSettings = function (editor, id, documentBaseUrl, defaultOverrideSettings, settings) {\n      var defaultSettings = getDefaultSettings(settings, id, documentBaseUrl, isTouch, editor);\n      var finalSettings = combineSettings(isPhone || isTablet, isPhone, defaultSettings, defaultOverrideSettings, settings);\n      if (finalSettings.deprecation_warnings !== false) {\n        logDeprecationsWarning(settings, finalSettings);\n      }\n      return finalSettings;\n    };\n    var getFiltered = function (predicate, editor, name) {\n      return Optional.from(editor.settings[name]).filter(predicate);\n    };\n    var getParamObject = function (value) {\n      var output = {};\n      if (typeof value === 'string') {\n        each$k(value.indexOf('=') > 0 ? value.split(/[;,](?![^=;,]*(?:[;,]|$))/) : value.split(','), function (val) {\n          var arr = val.split('=');\n          if (arr.length > 1) {\n            output[Tools.trim(arr[0])] = Tools.trim(arr[1]);\n          } else {\n            output[Tools.trim(arr[0])] = Tools.trim(arr[0]);\n          }\n        });\n      } else {\n        output = value;\n      }\n      return output;\n    };\n    var isArrayOf = function (p) {\n      return function (a) {\n        return isArray$1(a) && forall(a, p);\n      };\n    };\n    var getParam = function (editor, name, defaultVal, type) {\n      var value = name in editor.settings ? editor.settings[name] : defaultVal;\n      if (type === 'hash') {\n        return getParamObject(value);\n      } else if (type === 'string') {\n        return getFiltered(isString$1, editor, name).getOr(defaultVal);\n      } else if (type === 'number') {\n        return getFiltered(isNumber, editor, name).getOr(defaultVal);\n      } else if (type === 'boolean') {\n        return getFiltered(isBoolean, editor, name).getOr(defaultVal);\n      } else if (type === 'object') {\n        return getFiltered(isObject, editor, name).getOr(defaultVal);\n      } else if (type === 'array') {\n        return getFiltered(isArray$1, editor, name).getOr(defaultVal);\n      } else if (type === 'string[]') {\n        return getFiltered(isArrayOf(isString$1), editor, name).getOr(defaultVal);\n      } else if (type === 'function') {\n        return getFiltered(isFunction, editor, name).getOr(defaultVal);\n      } else {\n        return value;\n      }\n    };\n\n    var CreateIconManager = function () {\n      var lookup = {};\n      var add = function (id, iconPack) {\n        lookup[id] = iconPack;\n      };\n      var get = function (id) {\n        if (lookup[id]) {\n          return lookup[id];\n        }\n        return { icons: {} };\n      };\n      var has = function (id) {\n        return has$2(lookup, id);\n      };\n      return {\n        add: add,\n        get: get,\n        has: has\n      };\n    };\n    var IconManager = CreateIconManager();\n\n    var getProp = function (propName, elm) {\n      var rawElm = elm.dom;\n      return rawElm[propName];\n    };\n    var getComputedSizeProp = function (propName, elm) {\n      return parseInt(get$5(elm, propName), 10);\n    };\n    var getClientWidth = curry(getProp, 'clientWidth');\n    var getClientHeight = curry(getProp, 'clientHeight');\n    var getMarginTop = curry(getComputedSizeProp, 'margin-top');\n    var getMarginLeft = curry(getComputedSizeProp, 'margin-left');\n    var getBoundingClientRect = function (elm) {\n      return elm.dom.getBoundingClientRect();\n    };\n    var isInsideElementContentArea = function (bodyElm, clientX, clientY) {\n      var clientWidth = getClientWidth(bodyElm);\n      var clientHeight = getClientHeight(bodyElm);\n      return clientX >= 0 && clientY >= 0 && clientX <= clientWidth && clientY <= clientHeight;\n    };\n    var transpose = function (inline, elm, clientX, clientY) {\n      var clientRect = getBoundingClientRect(elm);\n      var deltaX = inline ? clientRect.left + elm.dom.clientLeft + getMarginLeft(elm) : 0;\n      var deltaY = inline ? clientRect.top + elm.dom.clientTop + getMarginTop(elm) : 0;\n      var x = clientX - deltaX;\n      var y = clientY - deltaY;\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var isXYInContentArea = function (editor, clientX, clientY) {\n      var bodyElm = SugarElement.fromDom(editor.getBody());\n      var targetElm = editor.inline ? bodyElm : documentElement(bodyElm);\n      var transposedPoint = transpose(editor.inline, targetElm, clientX, clientY);\n      return isInsideElementContentArea(targetElm, transposedPoint.x, transposedPoint.y);\n    };\n    var fromDomSafe = function (node) {\n      return Optional.from(node).map(SugarElement.fromDom);\n    };\n    var isEditorAttachedToDom = function (editor) {\n      var rawContainer = editor.inline ? editor.getBody() : editor.getContentAreaContainer();\n      return fromDomSafe(rawContainer).map(inBody).getOr(false);\n    };\n\n    var NotificationManagerImpl = function () {\n      var unimplemented = function () {\n        throw new Error('Theme did not provide a NotificationManager implementation.');\n      };\n      return {\n        open: unimplemented,\n        close: unimplemented,\n        reposition: unimplemented,\n        getArgs: unimplemented\n      };\n    };\n\n    var NotificationManager = function (editor) {\n      var notifications = [];\n      var getImplementation = function () {\n        var theme = editor.theme;\n        return theme && theme.getNotificationManagerImpl ? theme.getNotificationManagerImpl() : NotificationManagerImpl();\n      };\n      var getTopNotification = function () {\n        return Optional.from(notifications[0]);\n      };\n      var isEqual = function (a, b) {\n        return a.type === b.type && a.text === b.text && !a.progressBar && !a.timeout && !b.progressBar && !b.timeout;\n      };\n      var reposition = function () {\n        if (notifications.length > 0) {\n          getImplementation().reposition(notifications);\n        }\n      };\n      var addNotification = function (notification) {\n        notifications.push(notification);\n      };\n      var closeNotification = function (notification) {\n        findIndex$2(notifications, function (otherNotification) {\n          return otherNotification === notification;\n        }).each(function (index) {\n          notifications.splice(index, 1);\n        });\n      };\n      var open = function (spec, fireEvent) {\n        if (fireEvent === void 0) {\n          fireEvent = true;\n        }\n        if (editor.removed || !isEditorAttachedToDom(editor)) {\n          return;\n        }\n        if (fireEvent) {\n          editor.fire('BeforeOpenNotification', { notification: spec });\n        }\n        return find$3(notifications, function (notification) {\n          return isEqual(getImplementation().getArgs(notification), spec);\n        }).getOrThunk(function () {\n          editor.editorManager.setActive(editor);\n          var notification = getImplementation().open(spec, function () {\n            closeNotification(notification);\n            reposition();\n            getTopNotification().fold(function () {\n              return editor.focus();\n            }, function (top) {\n              return focus$1(SugarElement.fromDom(top.getEl()));\n            });\n          });\n          addNotification(notification);\n          reposition();\n          editor.fire('OpenNotification', { notification: __assign({}, notification) });\n          return notification;\n        });\n      };\n      var close = function () {\n        getTopNotification().each(function (notification) {\n          getImplementation().close(notification);\n          closeNotification(notification);\n          reposition();\n        });\n      };\n      var getNotifications = constant(notifications);\n      var registerEvents = function (editor) {\n        editor.on('SkinLoaded', function () {\n          var serviceMessage = getServiceMessage(editor);\n          if (serviceMessage) {\n            open({\n              text: serviceMessage,\n              type: 'warning',\n              timeout: 0\n            }, false);\n          }\n          reposition();\n        });\n        editor.on('show ResizeEditor ResizeWindow NodeChange', function () {\n          Delay.requestAnimationFrame(reposition);\n        });\n        editor.on('remove', function () {\n          each$k(notifications.slice(), function (notification) {\n            getImplementation().close(notification);\n          });\n        });\n      };\n      registerEvents(editor);\n      return {\n        open: open,\n        close: close,\n        getNotifications: getNotifications\n      };\n    };\n\n    var PluginManager = AddOnManager.PluginManager;\n\n    var ThemeManager = AddOnManager.ThemeManager;\n\n    function WindowManagerImpl () {\n      var unimplemented = function () {\n        throw new Error('Theme did not provide a WindowManager implementation.');\n      };\n      return {\n        open: unimplemented,\n        openUrl: unimplemented,\n        alert: unimplemented,\n        confirm: unimplemented,\n        close: unimplemented,\n        getParams: unimplemented,\n        setParams: unimplemented\n      };\n    }\n\n    var WindowManager = function (editor) {\n      var dialogs = [];\n      var getImplementation = function () {\n        var theme = editor.theme;\n        return theme && theme.getWindowManagerImpl ? theme.getWindowManagerImpl() : WindowManagerImpl();\n      };\n      var funcBind = function (scope, f) {\n        return function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          return f ? f.apply(scope, args) : undefined;\n        };\n      };\n      var fireOpenEvent = function (dialog) {\n        editor.fire('OpenWindow', { dialog: dialog });\n      };\n      var fireCloseEvent = function (dialog) {\n        editor.fire('CloseWindow', { dialog: dialog });\n      };\n      var addDialog = function (dialog) {\n        dialogs.push(dialog);\n        fireOpenEvent(dialog);\n      };\n      var closeDialog = function (dialog) {\n        fireCloseEvent(dialog);\n        dialogs = filter$4(dialogs, function (otherDialog) {\n          return otherDialog !== dialog;\n        });\n        if (dialogs.length === 0) {\n          editor.focus();\n        }\n      };\n      var getTopDialog = function () {\n        return Optional.from(dialogs[dialogs.length - 1]);\n      };\n      var storeSelectionAndOpenDialog = function (openDialog) {\n        editor.editorManager.setActive(editor);\n        store(editor);\n        var dialog = openDialog();\n        addDialog(dialog);\n        return dialog;\n      };\n      var open = function (args, params) {\n        return storeSelectionAndOpenDialog(function () {\n          return getImplementation().open(args, params, closeDialog);\n        });\n      };\n      var openUrl = function (args) {\n        return storeSelectionAndOpenDialog(function () {\n          return getImplementation().openUrl(args, closeDialog);\n        });\n      };\n      var alert = function (message, callback, scope) {\n        var windowManagerImpl = getImplementation();\n        windowManagerImpl.alert(message, funcBind(scope ? scope : windowManagerImpl, callback));\n      };\n      var confirm = function (message, callback, scope) {\n        var windowManagerImpl = getImplementation();\n        windowManagerImpl.confirm(message, funcBind(scope ? scope : windowManagerImpl, callback));\n      };\n      var close = function () {\n        getTopDialog().each(function (dialog) {\n          getImplementation().close(dialog);\n          closeDialog(dialog);\n        });\n      };\n      editor.on('remove', function () {\n        each$k(dialogs, function (dialog) {\n          getImplementation().close(dialog);\n        });\n      });\n      return {\n        open: open,\n        openUrl: openUrl,\n        alert: alert,\n        confirm: confirm,\n        close: close\n      };\n    };\n\n    var displayNotification = function (editor, message) {\n      editor.notificationManager.open({\n        type: 'error',\n        text: message\n      });\n    };\n    var displayError = function (editor, message) {\n      if (editor._skinLoaded) {\n        displayNotification(editor, message);\n      } else {\n        editor.on('SkinLoaded', function () {\n          displayNotification(editor, message);\n        });\n      }\n    };\n    var uploadError = function (editor, message) {\n      displayError(editor, I18n.translate([\n        'Failed to upload image: {0}',\n        message\n      ]));\n    };\n    var logError = function (editor, errorType, msg) {\n      fireError(editor, errorType, { message: msg });\n      console.error(msg);\n    };\n    var createLoadError = function (type, url, name) {\n      return name ? 'Failed to load ' + type + ': ' + name + ' from url ' + url : 'Failed to load ' + type + ' url: ' + url;\n    };\n    var pluginLoadError = function (editor, url, name) {\n      logError(editor, 'PluginLoadError', createLoadError('plugin', url, name));\n    };\n    var iconsLoadError = function (editor, url, name) {\n      logError(editor, 'IconsLoadError', createLoadError('icons', url, name));\n    };\n    var languageLoadError = function (editor, url, name) {\n      logError(editor, 'LanguageLoadError', createLoadError('language', url, name));\n    };\n    var pluginInitError = function (editor, name, err) {\n      var message = I18n.translate([\n        'Failed to initialize plugin: {0}',\n        name\n      ]);\n      fireError(editor, 'PluginLoadError', { message: message });\n      initError(message, err);\n      displayError(editor, message);\n    };\n    var initError = function (message) {\n      var x = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        x[_i - 1] = arguments[_i];\n      }\n      var console = window.console;\n      if (console) {\n        if (console.error) {\n          console.error.apply(console, __spreadArray([message], x, false));\n        } else {\n          console.log.apply(console, __spreadArray([message], x, false));\n        }\n      }\n    };\n\n    var isContentCssSkinName = function (url) {\n      return /^[a-z0-9\\-]+$/i.test(url);\n    };\n    var getContentCssUrls = function (editor) {\n      return transformToUrls(editor, getContentCss(editor));\n    };\n    var getFontCssUrls = function (editor) {\n      return transformToUrls(editor, getFontCss(editor));\n    };\n    var transformToUrls = function (editor, cssLinks) {\n      var skinUrl = editor.editorManager.baseURL + '/skins/content';\n      var suffix = editor.editorManager.suffix;\n      var contentCssFile = 'content' + suffix + '.css';\n      var inline = editor.inline === true;\n      return map$3(cssLinks, function (url) {\n        if (isContentCssSkinName(url) && !inline) {\n          return skinUrl + '/' + url + '/' + contentCssFile;\n        } else {\n          return editor.documentBaseURI.toAbsolute(url);\n        }\n      });\n    };\n    var appendContentCssFromSettings = function (editor) {\n      editor.contentCSS = editor.contentCSS.concat(getContentCssUrls(editor), getFontCssUrls(editor));\n    };\n\n    var UploadStatus = function () {\n      var PENDING = 1, UPLOADED = 2;\n      var blobUriStatuses = {};\n      var createStatus = function (status, resultUri) {\n        return {\n          status: status,\n          resultUri: resultUri\n        };\n      };\n      var hasBlobUri = function (blobUri) {\n        return blobUri in blobUriStatuses;\n      };\n      var getResultUri = function (blobUri) {\n        var result = blobUriStatuses[blobUri];\n        return result ? result.resultUri : null;\n      };\n      var isPending = function (blobUri) {\n        return hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === PENDING : false;\n      };\n      var isUploaded = function (blobUri) {\n        return hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === UPLOADED : false;\n      };\n      var markPending = function (blobUri) {\n        blobUriStatuses[blobUri] = createStatus(PENDING, null);\n      };\n      var markUploaded = function (blobUri, resultUri) {\n        blobUriStatuses[blobUri] = createStatus(UPLOADED, resultUri);\n      };\n      var removeFailed = function (blobUri) {\n        delete blobUriStatuses[blobUri];\n      };\n      var destroy = function () {\n        blobUriStatuses = {};\n      };\n      return {\n        hasBlobUri: hasBlobUri,\n        getResultUri: getResultUri,\n        isPending: isPending,\n        isUploaded: isUploaded,\n        markPending: markPending,\n        markUploaded: markUploaded,\n        removeFailed: removeFailed,\n        destroy: destroy\n      };\n    };\n\n    var count = 0;\n    var seed = function () {\n      var rnd = function () {\n        return Math.round(Math.random() * 4294967295).toString(36);\n      };\n      var now = new Date().getTime();\n      return 's' + now.toString(36) + rnd() + rnd() + rnd();\n    };\n    var uuid = function (prefix) {\n      return prefix + count++ + seed();\n    };\n\n    var BlobCache = function () {\n      var cache = [];\n      var mimeToExt = function (mime) {\n        var mimes = {\n          'image/jpeg': 'jpg',\n          'image/jpg': 'jpg',\n          'image/gif': 'gif',\n          'image/png': 'png',\n          'image/apng': 'apng',\n          'image/avif': 'avif',\n          'image/svg+xml': 'svg',\n          'image/webp': 'webp',\n          'image/bmp': 'bmp',\n          'image/tiff': 'tiff'\n        };\n        return mimes[mime.toLowerCase()] || 'dat';\n      };\n      var create = function (o, blob, base64, name, filename) {\n        if (isString$1(o)) {\n          var id = o;\n          return toBlobInfo({\n            id: id,\n            name: name,\n            filename: filename,\n            blob: blob,\n            base64: base64\n          });\n        } else if (isObject(o)) {\n          return toBlobInfo(o);\n        } else {\n          throw new Error('Unknown input type');\n        }\n      };\n      var toBlobInfo = function (o) {\n        if (!o.blob || !o.base64) {\n          throw new Error('blob and base64 representations of the image are required for BlobInfo to be created');\n        }\n        var id = o.id || uuid('blobid');\n        var name = o.name || id;\n        var blob = o.blob;\n        return {\n          id: constant(id),\n          name: constant(name),\n          filename: constant(o.filename || name + '.' + mimeToExt(blob.type)),\n          blob: constant(blob),\n          base64: constant(o.base64),\n          blobUri: constant(o.blobUri || URL.createObjectURL(blob)),\n          uri: constant(o.uri)\n        };\n      };\n      var add = function (blobInfo) {\n        if (!get(blobInfo.id())) {\n          cache.push(blobInfo);\n        }\n      };\n      var findFirst = function (predicate) {\n        return find$3(cache, predicate).getOrUndefined();\n      };\n      var get = function (id) {\n        return findFirst(function (cachedBlobInfo) {\n          return cachedBlobInfo.id() === id;\n        });\n      };\n      var getByUri = function (blobUri) {\n        return findFirst(function (blobInfo) {\n          return blobInfo.blobUri() === blobUri;\n        });\n      };\n      var getByData = function (base64, type) {\n        return findFirst(function (blobInfo) {\n          return blobInfo.base64() === base64 && blobInfo.blob().type === type;\n        });\n      };\n      var removeByUri = function (blobUri) {\n        cache = filter$4(cache, function (blobInfo) {\n          if (blobInfo.blobUri() === blobUri) {\n            URL.revokeObjectURL(blobInfo.blobUri());\n            return false;\n          }\n          return true;\n        });\n      };\n      var destroy = function () {\n        each$k(cache, function (cachedBlobInfo) {\n          URL.revokeObjectURL(cachedBlobInfo.blobUri());\n        });\n        cache = [];\n      };\n      return {\n        create: create,\n        add: add,\n        get: get,\n        getByUri: getByUri,\n        getByData: getByData,\n        findFirst: findFirst,\n        removeByUri: removeByUri,\n        destroy: destroy\n      };\n    };\n\n    var Uploader = function (uploadStatus, settings) {\n      var pendingPromises = {};\n      var pathJoin = function (path1, path2) {\n        if (path1) {\n          return path1.replace(/\\/$/, '') + '/' + path2.replace(/^\\//, '');\n        }\n        return path2;\n      };\n      var defaultHandler = function (blobInfo, success, failure, progress) {\n        var xhr = new XMLHttpRequest();\n        xhr.open('POST', settings.url);\n        xhr.withCredentials = settings.credentials;\n        xhr.upload.onprogress = function (e) {\n          progress(e.loaded / e.total * 100);\n        };\n        xhr.onerror = function () {\n          failure('Image upload failed due to a XHR Transport error. Code: ' + xhr.status);\n        };\n        xhr.onload = function () {\n          if (xhr.status < 200 || xhr.status >= 300) {\n            failure('HTTP Error: ' + xhr.status);\n            return;\n          }\n          var json = JSON.parse(xhr.responseText);\n          if (!json || typeof json.location !== 'string') {\n            failure('Invalid JSON: ' + xhr.responseText);\n            return;\n          }\n          success(pathJoin(settings.basePath, json.location));\n        };\n        var formData = new FormData();\n        formData.append('file', blobInfo.blob(), blobInfo.filename());\n        xhr.send(formData);\n      };\n      var noUpload = function () {\n        return new promiseObj(function (resolve) {\n          resolve([]);\n        });\n      };\n      var handlerSuccess = function (blobInfo, url) {\n        return {\n          url: url,\n          blobInfo: blobInfo,\n          status: true\n        };\n      };\n      var handlerFailure = function (blobInfo, message, options) {\n        return {\n          url: '',\n          blobInfo: blobInfo,\n          status: false,\n          error: {\n            message: message,\n            options: options\n          }\n        };\n      };\n      var resolvePending = function (blobUri, result) {\n        Tools.each(pendingPromises[blobUri], function (resolve) {\n          resolve(result);\n        });\n        delete pendingPromises[blobUri];\n      };\n      var uploadBlobInfo = function (blobInfo, handler, openNotification) {\n        uploadStatus.markPending(blobInfo.blobUri());\n        return new promiseObj(function (resolve) {\n          var notification, progress;\n          try {\n            var closeNotification_1 = function () {\n              if (notification) {\n                notification.close();\n                progress = noop;\n              }\n            };\n            var success = function (url) {\n              closeNotification_1();\n              uploadStatus.markUploaded(blobInfo.blobUri(), url);\n              resolvePending(blobInfo.blobUri(), handlerSuccess(blobInfo, url));\n              resolve(handlerSuccess(blobInfo, url));\n            };\n            var failure = function (error, options) {\n              var failureOptions = options ? options : {};\n              closeNotification_1();\n              uploadStatus.removeFailed(blobInfo.blobUri());\n              resolvePending(blobInfo.blobUri(), handlerFailure(blobInfo, error, failureOptions));\n              resolve(handlerFailure(blobInfo, error, failureOptions));\n            };\n            progress = function (percent) {\n              if (percent < 0 || percent > 100) {\n                return;\n              }\n              Optional.from(notification).orThunk(function () {\n                return Optional.from(openNotification).map(apply);\n              }).each(function (n) {\n                notification = n;\n                n.progressBar.value(percent);\n              });\n            };\n            handler(blobInfo, success, failure, progress);\n          } catch (ex) {\n            resolve(handlerFailure(blobInfo, ex.message, {}));\n          }\n        });\n      };\n      var isDefaultHandler = function (handler) {\n        return handler === defaultHandler;\n      };\n      var pendingUploadBlobInfo = function (blobInfo) {\n        var blobUri = blobInfo.blobUri();\n        return new promiseObj(function (resolve) {\n          pendingPromises[blobUri] = pendingPromises[blobUri] || [];\n          pendingPromises[blobUri].push(resolve);\n        });\n      };\n      var uploadBlobs = function (blobInfos, openNotification) {\n        blobInfos = Tools.grep(blobInfos, function (blobInfo) {\n          return !uploadStatus.isUploaded(blobInfo.blobUri());\n        });\n        return promiseObj.all(Tools.map(blobInfos, function (blobInfo) {\n          return uploadStatus.isPending(blobInfo.blobUri()) ? pendingUploadBlobInfo(blobInfo) : uploadBlobInfo(blobInfo, settings.handler, openNotification);\n        }));\n      };\n      var upload = function (blobInfos, openNotification) {\n        return !settings.url && isDefaultHandler(settings.handler) ? noUpload() : uploadBlobs(blobInfos, openNotification);\n      };\n      if (isFunction(settings.handler) === false) {\n        settings.handler = defaultHandler;\n      }\n      return { upload: upload };\n    };\n\n    var openNotification = function (editor) {\n      return function () {\n        return editor.notificationManager.open({\n          text: editor.translate('Image uploading...'),\n          type: 'info',\n          timeout: -1,\n          progressBar: true\n        });\n      };\n    };\n    var createUploader = function (editor, uploadStatus) {\n      return Uploader(uploadStatus, {\n        url: getImageUploadUrl(editor),\n        basePath: getImageUploadBasePath(editor),\n        credentials: getImagesUploadCredentials(editor),\n        handler: getImagesUploadHandler(editor)\n      });\n    };\n    var ImageUploader = function (editor) {\n      var uploadStatus = UploadStatus();\n      var uploader = createUploader(editor, uploadStatus);\n      return {\n        upload: function (blobInfos, showNotification) {\n          if (showNotification === void 0) {\n            showNotification = true;\n          }\n          return uploader.upload(blobInfos, showNotification ? openNotification(editor) : undefined);\n        }\n      };\n    };\n\n    var UploadChangeHandler = function (editor) {\n      var lastChangedLevel = Cell(null);\n      editor.on('change AddUndo', function (e) {\n        lastChangedLevel.set(__assign({}, e.level));\n      });\n      var fireIfChanged = function () {\n        var data = editor.undoManager.data;\n        last$2(data).filter(function (level) {\n          return !isEq$1(lastChangedLevel.get(), level);\n        }).each(function (level) {\n          editor.setDirty(true);\n          editor.fire('change', {\n            level: level,\n            lastLevel: get$a(data, data.length - 2).getOrNull()\n          });\n        });\n      };\n      return { fireIfChanged: fireIfChanged };\n    };\n    var EditorUpload = function (editor) {\n      var blobCache = BlobCache();\n      var uploader, imageScanner;\n      var uploadStatus = UploadStatus();\n      var urlFilters = [];\n      var changeHandler = UploadChangeHandler(editor);\n      var aliveGuard = function (callback) {\n        return function (result) {\n          if (editor.selection) {\n            return callback(result);\n          }\n          return [];\n        };\n      };\n      var cacheInvalidator = function (url) {\n        return url + (url.indexOf('?') === -1 ? '?' : '&') + new Date().getTime();\n      };\n      var replaceString = function (content, search, replace) {\n        var index = 0;\n        do {\n          index = content.indexOf(search, index);\n          if (index !== -1) {\n            content = content.substring(0, index) + replace + content.substr(index + search.length);\n            index += replace.length - search.length + 1;\n          }\n        } while (index !== -1);\n        return content;\n      };\n      var replaceImageUrl = function (content, targetUrl, replacementUrl) {\n        var replacementString = 'src=\"' + replacementUrl + '\"' + (replacementUrl === Env.transparentSrc ? ' data-mce-placeholder=\"1\"' : '');\n        content = replaceString(content, 'src=\"' + targetUrl + '\"', replacementString);\n        content = replaceString(content, 'data-mce-src=\"' + targetUrl + '\"', 'data-mce-src=\"' + replacementUrl + '\"');\n        return content;\n      };\n      var replaceUrlInUndoStack = function (targetUrl, replacementUrl) {\n        each$k(editor.undoManager.data, function (level) {\n          if (level.type === 'fragmented') {\n            level.fragments = map$3(level.fragments, function (fragment) {\n              return replaceImageUrl(fragment, targetUrl, replacementUrl);\n            });\n          } else {\n            level.content = replaceImageUrl(level.content, targetUrl, replacementUrl);\n          }\n        });\n      };\n      var replaceImageUriInView = function (image, resultUri) {\n        var src = editor.convertURL(resultUri, 'src');\n        replaceUrlInUndoStack(image.src, resultUri);\n        editor.$(image).attr({\n          'src': shouldReuseFileName(editor) ? cacheInvalidator(resultUri) : resultUri,\n          'data-mce-src': src\n        });\n      };\n      var uploadImages = function (callback) {\n        if (!uploader) {\n          uploader = createUploader(editor, uploadStatus);\n        }\n        return scanForImages().then(aliveGuard(function (imageInfos) {\n          var blobInfos = map$3(imageInfos, function (imageInfo) {\n            return imageInfo.blobInfo;\n          });\n          return uploader.upload(blobInfos, openNotification(editor)).then(aliveGuard(function (result) {\n            var imagesToRemove = [];\n            var filteredResult = map$3(result, function (uploadInfo, index) {\n              var blobInfo = imageInfos[index].blobInfo;\n              var image = imageInfos[index].image;\n              if (uploadInfo.status && shouldReplaceBlobUris(editor)) {\n                blobCache.removeByUri(image.src);\n                if (isRtc(editor)) ; else {\n                  replaceImageUriInView(image, uploadInfo.url);\n                }\n              } else if (uploadInfo.error) {\n                if (uploadInfo.error.options.remove) {\n                  replaceUrlInUndoStack(image.getAttribute('src'), Env.transparentSrc);\n                  imagesToRemove.push(image);\n                }\n                uploadError(editor, uploadInfo.error.message);\n              }\n              return {\n                element: image,\n                status: uploadInfo.status,\n                uploadUri: uploadInfo.url,\n                blobInfo: blobInfo\n              };\n            });\n            if (filteredResult.length > 0) {\n              changeHandler.fireIfChanged();\n            }\n            if (imagesToRemove.length > 0) {\n              if (isRtc(editor)) {\n                console.error('Removing images on failed uploads is currently unsupported for RTC');\n              } else {\n                editor.undoManager.transact(function () {\n                  each$k(imagesToRemove, function (element) {\n                    editor.dom.remove(element);\n                    blobCache.removeByUri(element.src);\n                  });\n                });\n              }\n            }\n            if (callback) {\n              callback(filteredResult);\n            }\n            return filteredResult;\n          }));\n        }));\n      };\n      var uploadImagesAuto = function (callback) {\n        if (isAutomaticUploadsEnabled(editor)) {\n          return uploadImages(callback);\n        }\n      };\n      var isValidDataUriImage = function (imgElm) {\n        if (forall(urlFilters, function (filter) {\n            return filter(imgElm);\n          }) === false) {\n          return false;\n        }\n        if (imgElm.getAttribute('src').indexOf('data:') === 0) {\n          var dataImgFilter = getImagesDataImgFilter(editor);\n          return dataImgFilter(imgElm);\n        }\n        return true;\n      };\n      var addFilter = function (filter) {\n        urlFilters.push(filter);\n      };\n      var scanForImages = function () {\n        if (!imageScanner) {\n          imageScanner = ImageScanner(uploadStatus, blobCache);\n        }\n        return imageScanner.findAll(editor.getBody(), isValidDataUriImage).then(aliveGuard(function (result) {\n          result = filter$4(result, function (resultItem) {\n            if (typeof resultItem === 'string') {\n              displayError(editor, resultItem);\n              return false;\n            }\n            return true;\n          });\n          if (isRtc(editor)) ; else {\n            each$k(result, function (resultItem) {\n              replaceUrlInUndoStack(resultItem.image.src, resultItem.blobInfo.blobUri());\n              resultItem.image.src = resultItem.blobInfo.blobUri();\n              resultItem.image.removeAttribute('data-mce-src');\n            });\n          }\n          return result;\n        }));\n      };\n      var destroy = function () {\n        blobCache.destroy();\n        uploadStatus.destroy();\n        imageScanner = uploader = null;\n      };\n      var replaceBlobUris = function (content) {\n        return content.replace(/src=\"(blob:[^\"]+)\"/g, function (match, blobUri) {\n          var resultUri = uploadStatus.getResultUri(blobUri);\n          if (resultUri) {\n            return 'src=\"' + resultUri + '\"';\n          }\n          var blobInfo = blobCache.getByUri(blobUri);\n          if (!blobInfo) {\n            blobInfo = foldl(editor.editorManager.get(), function (result, editor) {\n              return result || editor.editorUpload && editor.editorUpload.blobCache.getByUri(blobUri);\n            }, null);\n          }\n          if (blobInfo) {\n            var blob = blobInfo.blob();\n            return 'src=\"data:' + blob.type + ';base64,' + blobInfo.base64() + '\"';\n          }\n          return match;\n        });\n      };\n      editor.on('SetContent', function () {\n        if (isAutomaticUploadsEnabled(editor)) {\n          uploadImagesAuto();\n        } else {\n          scanForImages();\n        }\n      });\n      editor.on('RawSaveContent', function (e) {\n        e.content = replaceBlobUris(e.content);\n      });\n      editor.on('GetContent', function (e) {\n        if (e.source_view || e.format === 'raw' || e.format === 'tree') {\n          return;\n        }\n        e.content = replaceBlobUris(e.content);\n      });\n      editor.on('PostRender', function () {\n        editor.parser.addNodeFilter('img', function (images) {\n          each$k(images, function (img) {\n            var src = img.attr('src');\n            if (blobCache.getByUri(src)) {\n              return;\n            }\n            var resultUri = uploadStatus.getResultUri(src);\n            if (resultUri) {\n              img.attr('src', resultUri);\n            }\n          });\n        });\n      });\n      return {\n        blobCache: blobCache,\n        addFilter: addFilter,\n        uploadImages: uploadImages,\n        uploadImagesAuto: uploadImagesAuto,\n        scanForImages: scanForImages,\n        destroy: destroy\n      };\n    };\n\n    var get = function (dom) {\n      var formats = {\n        valigntop: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'top' }\n          }],\n        valignmiddle: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'middle' }\n          }],\n        valignbottom: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'bottom' }\n          }],\n        alignleft: [\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-left',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n            styles: { textAlign: 'left' },\n            inherit: false,\n            preview: false,\n            defaultBlock: 'div'\n          },\n          {\n            selector: 'img,table,audio,video',\n            collapsed: false,\n            styles: { float: 'left' },\n            preview: 'font-family font-size'\n          }\n        ],\n        aligncenter: [\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n            styles: { textAlign: 'center' },\n            inherit: false,\n            preview: 'font-family font-size',\n            defaultBlock: 'div'\n          },\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-center',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'img,audio,video',\n            collapsed: false,\n            styles: {\n              display: 'block',\n              marginLeft: 'auto',\n              marginRight: 'auto'\n            },\n            preview: false\n          },\n          {\n            selector: 'table',\n            collapsed: false,\n            styles: {\n              marginLeft: 'auto',\n              marginRight: 'auto'\n            },\n            preview: 'font-family font-size'\n          }\n        ],\n        alignright: [\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-right',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n            styles: { textAlign: 'right' },\n            inherit: false,\n            preview: 'font-family font-size',\n            defaultBlock: 'div'\n          },\n          {\n            selector: 'img,table,audio,video',\n            collapsed: false,\n            styles: { float: 'right' },\n            preview: 'font-family font-size'\n          }\n        ],\n        alignjustify: [{\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n            styles: { textAlign: 'justify' },\n            inherit: false,\n            defaultBlock: 'div',\n            preview: 'font-family font-size'\n          }],\n        bold: [\n          {\n            inline: 'strong',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          },\n          {\n            inline: 'span',\n            styles: { fontWeight: 'bold' }\n          },\n          {\n            inline: 'b',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        italic: [\n          {\n            inline: 'em',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          },\n          {\n            inline: 'span',\n            styles: { fontStyle: 'italic' }\n          },\n          {\n            inline: 'i',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        underline: [\n          {\n            inline: 'span',\n            styles: { textDecoration: 'underline' },\n            exact: true\n          },\n          {\n            inline: 'u',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        strikethrough: [\n          {\n            inline: 'span',\n            styles: { textDecoration: 'line-through' },\n            exact: true\n          },\n          {\n            inline: 'strike',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          },\n          {\n            inline: 's',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        forecolor: {\n          inline: 'span',\n          styles: { color: '%value' },\n          links: true,\n          remove_similar: true,\n          clear_child_styles: true\n        },\n        hilitecolor: {\n          inline: 'span',\n          styles: { backgroundColor: '%value' },\n          links: true,\n          remove_similar: true,\n          clear_child_styles: true\n        },\n        fontname: {\n          inline: 'span',\n          toggle: false,\n          styles: { fontFamily: '%value' },\n          clear_child_styles: true\n        },\n        fontsize: {\n          inline: 'span',\n          toggle: false,\n          styles: { fontSize: '%value' },\n          clear_child_styles: true\n        },\n        lineheight: {\n          selector: 'h1,h2,h3,h4,h5,h6,p,li,td,th,div',\n          defaultBlock: 'p',\n          styles: { lineHeight: '%value' }\n        },\n        fontsize_class: {\n          inline: 'span',\n          attributes: { class: '%value' }\n        },\n        blockquote: {\n          block: 'blockquote',\n          wrapper: true,\n          remove: 'all'\n        },\n        subscript: { inline: 'sub' },\n        superscript: { inline: 'sup' },\n        code: { inline: 'code' },\n        link: {\n          inline: 'a',\n          selector: 'a',\n          remove: 'all',\n          split: true,\n          deep: true,\n          onmatch: function (node, _fmt, _itemName) {\n            return isElement$5(node) && node.hasAttribute('href');\n          },\n          onformat: function (elm, _fmt, vars) {\n            Tools.each(vars, function (value, key) {\n              dom.setAttrib(elm, key, value);\n            });\n          }\n        },\n        lang: {\n          inline: 'span',\n          clear_child_styles: true,\n          remove_similar: true,\n          attributes: {\n            'lang': '%value',\n            'data-mce-lang': function (vars) {\n              var _a;\n              return (_a = vars === null || vars === void 0 ? void 0 : vars.customValue) !== null && _a !== void 0 ? _a : null;\n            }\n          }\n        },\n        removeformat: [\n          {\n            selector: 'b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small',\n            remove: 'all',\n            split: true,\n            expand: false,\n            block_expand: true,\n            deep: true\n          },\n          {\n            selector: 'span',\n            attributes: [\n              'style',\n              'class'\n            ],\n            remove: 'empty',\n            split: true,\n            expand: false,\n            deep: true\n          },\n          {\n            selector: '*',\n            attributes: [\n              'style',\n              'class'\n            ],\n            split: false,\n            expand: false,\n            deep: true\n          }\n        ]\n      };\n      Tools.each('p h1 h2 h3 h4 h5 h6 div address pre dt dd samp'.split(/\\s/), function (name) {\n        formats[name] = {\n          block: name,\n          remove: 'all'\n        };\n      });\n      return formats;\n    };\n\n    var FormatRegistry = function (editor) {\n      var formats = {};\n      var get$1 = function (name) {\n        return isNonNullable(name) ? formats[name] : formats;\n      };\n      var has = function (name) {\n        return has$2(formats, name);\n      };\n      var register = function (name, format) {\n        if (name) {\n          if (!isString$1(name)) {\n            each$j(name, function (format, name) {\n              register(name, format);\n            });\n          } else {\n            if (!isArray$1(format)) {\n              format = [format];\n            }\n            each$k(format, function (format) {\n              if (isUndefined(format.deep)) {\n                format.deep = !isSelectorFormat(format);\n              }\n              if (isUndefined(format.split)) {\n                format.split = !isSelectorFormat(format) || isInlineFormat(format);\n              }\n              if (isUndefined(format.remove) && isSelectorFormat(format) && !isInlineFormat(format)) {\n                format.remove = 'none';\n              }\n              if (isSelectorFormat(format) && isInlineFormat(format)) {\n                format.mixed = true;\n                format.block_expand = true;\n              }\n              if (isString$1(format.classes)) {\n                format.classes = format.classes.split(/\\s+/);\n              }\n            });\n            formats[name] = format;\n          }\n        }\n      };\n      var unregister = function (name) {\n        if (name && formats[name]) {\n          delete formats[name];\n        }\n        return formats;\n      };\n      register(get(editor.dom));\n      register(getFormats(editor));\n      return {\n        get: get$1,\n        has: has,\n        register: register,\n        unregister: unregister\n      };\n    };\n\n    var each$5 = Tools.each;\n    var dom = DOMUtils.DOM;\n    var parsedSelectorToHtml = function (ancestry, editor) {\n      var elm, item, fragment;\n      var schema = editor && editor.schema || Schema({});\n      var decorate = function (elm, item) {\n        if (item.classes.length) {\n          dom.addClass(elm, item.classes.join(' '));\n        }\n        dom.setAttribs(elm, item.attrs);\n      };\n      var createElement = function (sItem) {\n        item = typeof sItem === 'string' ? {\n          name: sItem,\n          classes: [],\n          attrs: {}\n        } : sItem;\n        var elm = dom.create(item.name);\n        decorate(elm, item);\n        return elm;\n      };\n      var getRequiredParent = function (elm, candidate) {\n        var name = typeof elm !== 'string' ? elm.nodeName.toLowerCase() : elm;\n        var elmRule = schema.getElementRule(name);\n        var parentsRequired = elmRule && elmRule.parentsRequired;\n        if (parentsRequired && parentsRequired.length) {\n          return candidate && Tools.inArray(parentsRequired, candidate) !== -1 ? candidate : parentsRequired[0];\n        } else {\n          return false;\n        }\n      };\n      var wrapInHtml = function (elm, ancestry, siblings) {\n        var parent, parentCandidate;\n        var ancestor = ancestry.length > 0 && ancestry[0];\n        var ancestorName = ancestor && ancestor.name;\n        var parentRequired = getRequiredParent(elm, ancestorName);\n        if (parentRequired) {\n          if (ancestorName === parentRequired) {\n            parentCandidate = ancestry[0];\n            ancestry = ancestry.slice(1);\n          } else {\n            parentCandidate = parentRequired;\n          }\n        } else if (ancestor) {\n          parentCandidate = ancestry[0];\n          ancestry = ancestry.slice(1);\n        } else if (!siblings) {\n          return elm;\n        }\n        if (parentCandidate) {\n          parent = createElement(parentCandidate);\n          parent.appendChild(elm);\n        }\n        if (siblings) {\n          if (!parent) {\n            parent = dom.create('div');\n            parent.appendChild(elm);\n          }\n          Tools.each(siblings, function (sibling) {\n            var siblingElm = createElement(sibling);\n            parent.insertBefore(siblingElm, elm);\n          });\n        }\n        return wrapInHtml(parent, ancestry, parentCandidate && parentCandidate.siblings);\n      };\n      if (ancestry && ancestry.length) {\n        item = ancestry[0];\n        elm = createElement(item);\n        fragment = dom.create('div');\n        fragment.appendChild(wrapInHtml(elm, ancestry.slice(1), item.siblings));\n        return fragment;\n      } else {\n        return '';\n      }\n    };\n    var parseSelectorItem = function (item) {\n      var tagName;\n      var obj = {\n        classes: [],\n        attrs: {}\n      };\n      item = obj.selector = Tools.trim(item);\n      if (item !== '*') {\n        tagName = item.replace(/(?:([#\\.]|::?)([\\w\\-]+)|(\\[)([^\\]]+)\\]?)/g, function ($0, $1, $2, $3, $4) {\n          switch ($1) {\n          case '#':\n            obj.attrs.id = $2;\n            break;\n          case '.':\n            obj.classes.push($2);\n            break;\n          case ':':\n            if (Tools.inArray('checked disabled enabled read-only required'.split(' '), $2) !== -1) {\n              obj.attrs[$2] = $2;\n            }\n            break;\n          }\n          if ($3 === '[') {\n            var m = $4.match(/([\\w\\-]+)(?:\\=\\\"([^\\\"]+))?/);\n            if (m) {\n              obj.attrs[m[1]] = m[2];\n            }\n          }\n          return '';\n        });\n      }\n      obj.name = tagName || 'div';\n      return obj;\n    };\n    var parseSelector = function (selector) {\n      if (!selector || typeof selector !== 'string') {\n        return [];\n      }\n      selector = selector.split(/\\s*,\\s*/)[0];\n      selector = selector.replace(/\\s*(~\\+|~|\\+|>)\\s*/g, '$1');\n      return Tools.map(selector.split(/(?:>|\\s+(?![^\\[\\]]+\\]))/), function (item) {\n        var siblings = Tools.map(item.split(/(?:~\\+|~|\\+)/), parseSelectorItem);\n        var obj = siblings.pop();\n        if (siblings.length) {\n          obj.siblings = siblings;\n        }\n        return obj;\n      }).reverse();\n    };\n    var getCssText = function (editor, format) {\n      var name, previewFrag;\n      var previewCss = '', parentFontSize;\n      var previewStyles = getPreviewStyles(editor);\n      if (previewStyles === '') {\n        return '';\n      }\n      var removeVars = function (val) {\n        return val.replace(/%(\\w+)/g, '');\n      };\n      if (typeof format === 'string') {\n        format = editor.formatter.get(format);\n        if (!format) {\n          return;\n        }\n        format = format[0];\n      }\n      if ('preview' in format) {\n        var previewOpt = get$9(format, 'preview');\n        if (is$1(previewOpt, false)) {\n          return '';\n        } else {\n          previewStyles = previewOpt.getOr(previewStyles);\n        }\n      }\n      name = format.block || format.inline || 'span';\n      var items = parseSelector(format.selector);\n      if (items.length) {\n        if (!items[0].name) {\n          items[0].name = name;\n        }\n        name = format.selector;\n        previewFrag = parsedSelectorToHtml(items, editor);\n      } else {\n        previewFrag = parsedSelectorToHtml([name], editor);\n      }\n      var previewElm = dom.select(name, previewFrag)[0] || previewFrag.firstChild;\n      each$5(format.styles, function (value, name) {\n        var newValue = removeVars(value);\n        if (newValue) {\n          dom.setStyle(previewElm, name, newValue);\n        }\n      });\n      each$5(format.attributes, function (value, name) {\n        var newValue = removeVars(value);\n        if (newValue) {\n          dom.setAttrib(previewElm, name, newValue);\n        }\n      });\n      each$5(format.classes, function (value) {\n        var newValue = removeVars(value);\n        if (!dom.hasClass(previewElm, newValue)) {\n          dom.addClass(previewElm, newValue);\n        }\n      });\n      editor.fire('PreviewFormats');\n      dom.setStyles(previewFrag, {\n        position: 'absolute',\n        left: -65535\n      });\n      editor.getBody().appendChild(previewFrag);\n      parentFontSize = dom.getStyle(editor.getBody(), 'fontSize', true);\n      parentFontSize = /px$/.test(parentFontSize) ? parseInt(parentFontSize, 10) : 0;\n      each$5(previewStyles.split(' '), function (name) {\n        var value = dom.getStyle(previewElm, name, true);\n        if (name === 'background-color' && /transparent|rgba\\s*\\([^)]+,\\s*0\\)/.test(value)) {\n          value = dom.getStyle(editor.getBody(), name, true);\n          if (dom.toHex(value).toLowerCase() === '#ffffff') {\n            return;\n          }\n        }\n        if (name === 'color') {\n          if (dom.toHex(value).toLowerCase() === '#000000') {\n            return;\n          }\n        }\n        if (name === 'font-size') {\n          if (/em|%$/.test(value)) {\n            if (parentFontSize === 0) {\n              return;\n            }\n            var numValue = parseFloat(value) / (/%$/.test(value) ? 100 : 1);\n            value = numValue * parentFontSize + 'px';\n          }\n        }\n        if (name === 'border' && value) {\n          previewCss += 'padding:0 2px;';\n        }\n        previewCss += name + ':' + value + ';';\n      });\n      editor.fire('AfterPreviewFormats');\n      dom.remove(previewFrag);\n      return previewCss;\n    };\n\n    var setup$h = function (editor) {\n      editor.addShortcut('meta+b', '', 'Bold');\n      editor.addShortcut('meta+i', '', 'Italic');\n      editor.addShortcut('meta+u', '', 'Underline');\n      for (var i = 1; i <= 6; i++) {\n        editor.addShortcut('access+' + i, '', [\n          'FormatBlock',\n          false,\n          'h' + i\n        ]);\n      }\n      editor.addShortcut('access+7', '', [\n        'FormatBlock',\n        false,\n        'p'\n      ]);\n      editor.addShortcut('access+8', '', [\n        'FormatBlock',\n        false,\n        'div'\n      ]);\n      editor.addShortcut('access+9', '', [\n        'FormatBlock',\n        false,\n        'address'\n      ]);\n    };\n\n    var Formatter = function (editor) {\n      var formats = FormatRegistry(editor);\n      var formatChangeState = Cell(null);\n      setup$h(editor);\n      setup$k(editor);\n      return {\n        get: formats.get,\n        has: formats.has,\n        register: formats.register,\n        unregister: formats.unregister,\n        apply: function (name, vars, node) {\n          applyFormat(editor, name, vars, node);\n        },\n        remove: function (name, vars, node, similar) {\n          removeFormat(editor, name, vars, node, similar);\n        },\n        toggle: function (name, vars, node) {\n          toggleFormat(editor, name, vars, node);\n        },\n        match: function (name, vars, node, similar) {\n          return matchFormat(editor, name, vars, node, similar);\n        },\n        closest: function (names) {\n          return closestFormat(editor, names);\n        },\n        matchAll: function (names, vars) {\n          return matchAllFormats(editor, names, vars);\n        },\n        matchNode: function (node, name, vars, similar) {\n          return matchNodeFormat(editor, node, name, vars, similar);\n        },\n        canApply: function (name) {\n          return canApplyFormat(editor, name);\n        },\n        formatChanged: function (formats, callback, similar, vars) {\n          return formatChanged(editor, formatChangeState, formats, callback, similar, vars);\n        },\n        getCssText: curry(getCssText, editor)\n      };\n    };\n\n    var shouldIgnoreCommand = function (cmd) {\n      switch (cmd.toLowerCase()) {\n      case 'undo':\n      case 'redo':\n      case 'mcerepaint':\n      case 'mcefocus':\n        return true;\n      default:\n        return false;\n      }\n    };\n    var registerEvents = function (editor, undoManager, locks) {\n      var isFirstTypedCharacter = Cell(false);\n      var addNonTypingUndoLevel = function (e) {\n        setTyping(undoManager, false, locks);\n        undoManager.add({}, e);\n      };\n      editor.on('init', function () {\n        undoManager.add();\n      });\n      editor.on('BeforeExecCommand', function (e) {\n        var cmd = e.command;\n        if (!shouldIgnoreCommand(cmd)) {\n          endTyping(undoManager, locks);\n          undoManager.beforeChange();\n        }\n      });\n      editor.on('ExecCommand', function (e) {\n        var cmd = e.command;\n        if (!shouldIgnoreCommand(cmd)) {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      editor.on('ObjectResizeStart cut', function () {\n        undoManager.beforeChange();\n      });\n      editor.on('SaveContent ObjectResized blur', addNonTypingUndoLevel);\n      editor.on('dragend', addNonTypingUndoLevel);\n      editor.on('keyup', function (e) {\n        var keyCode = e.keyCode;\n        if (e.isDefaultPrevented()) {\n          return;\n        }\n        if (keyCode >= 33 && keyCode <= 36 || keyCode >= 37 && keyCode <= 40 || keyCode === 45 || e.ctrlKey) {\n          addNonTypingUndoLevel();\n          editor.nodeChanged();\n        }\n        if (keyCode === 46 || keyCode === 8) {\n          editor.nodeChanged();\n        }\n        if (isFirstTypedCharacter.get() && undoManager.typing && isEq$1(createFromEditor(editor), undoManager.data[0]) === false) {\n          if (editor.isDirty() === false) {\n            editor.setDirty(true);\n            editor.fire('change', {\n              level: undoManager.data[0],\n              lastLevel: null\n            });\n          }\n          editor.fire('TypingUndo');\n          isFirstTypedCharacter.set(false);\n          editor.nodeChanged();\n        }\n      });\n      editor.on('keydown', function (e) {\n        var keyCode = e.keyCode;\n        if (e.isDefaultPrevented()) {\n          return;\n        }\n        if (keyCode >= 33 && keyCode <= 36 || keyCode >= 37 && keyCode <= 40 || keyCode === 45) {\n          if (undoManager.typing) {\n            addNonTypingUndoLevel(e);\n          }\n          return;\n        }\n        var modKey = e.ctrlKey && !e.altKey || e.metaKey;\n        if ((keyCode < 16 || keyCode > 20) && keyCode !== 224 && keyCode !== 91 && !undoManager.typing && !modKey) {\n          undoManager.beforeChange();\n          setTyping(undoManager, true, locks);\n          undoManager.add({}, e);\n          isFirstTypedCharacter.set(true);\n        }\n      });\n      editor.on('mousedown', function (e) {\n        if (undoManager.typing) {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      var isInsertReplacementText = function (event) {\n        return event.inputType === 'insertReplacementText';\n      };\n      var isInsertTextDataNull = function (event) {\n        return event.inputType === 'insertText' && event.data === null;\n      };\n      var isInsertFromPasteOrDrop = function (event) {\n        return event.inputType === 'insertFromPaste' || event.inputType === 'insertFromDrop';\n      };\n      editor.on('input', function (e) {\n        if (e.inputType && (isInsertReplacementText(e) || isInsertTextDataNull(e) || isInsertFromPasteOrDrop(e))) {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      editor.on('AddUndo Undo Redo ClearUndos', function (e) {\n        if (!e.isDefaultPrevented()) {\n          editor.nodeChanged();\n        }\n      });\n    };\n    var addKeyboardShortcuts = function (editor) {\n      editor.addShortcut('meta+z', '', 'Undo');\n      editor.addShortcut('meta+y,meta+shift+z', '', 'Redo');\n    };\n\n    var UndoManager = function (editor) {\n      var beforeBookmark = value();\n      var locks = Cell(0);\n      var index = Cell(0);\n      var undoManager = {\n        data: [],\n        typing: false,\n        beforeChange: function () {\n          beforeChange(editor, locks, beforeBookmark);\n        },\n        add: function (level, event) {\n          return addUndoLevel(editor, undoManager, index, locks, beforeBookmark, level, event);\n        },\n        undo: function () {\n          return undo(editor, undoManager, locks, index);\n        },\n        redo: function () {\n          return redo(editor, index, undoManager.data);\n        },\n        clear: function () {\n          clear(editor, undoManager, index);\n        },\n        reset: function () {\n          reset(editor, undoManager);\n        },\n        hasUndo: function () {\n          return hasUndo(editor, undoManager, index);\n        },\n        hasRedo: function () {\n          return hasRedo(editor, undoManager, index);\n        },\n        transact: function (callback) {\n          return transact(editor, undoManager, locks, callback);\n        },\n        ignore: function (callback) {\n          ignore(editor, locks, callback);\n        },\n        extra: function (callback1, callback2) {\n          extra(editor, undoManager, index, callback1, callback2);\n        }\n      };\n      if (!isRtc(editor)) {\n        registerEvents(editor, undoManager, locks);\n      }\n      addKeyboardShortcuts(editor);\n      return undoManager;\n    };\n\n    var nonTypingKeycodes = [\n      9,\n      27,\n      VK.HOME,\n      VK.END,\n      19,\n      20,\n      44,\n      144,\n      145,\n      33,\n      34,\n      45,\n      16,\n      17,\n      18,\n      91,\n      92,\n      93,\n      VK.DOWN,\n      VK.UP,\n      VK.LEFT,\n      VK.RIGHT\n    ].concat(Env.browser.isFirefox() ? [224] : []);\n    var placeholderAttr = 'data-mce-placeholder';\n    var isKeyboardEvent = function (e) {\n      return e.type === 'keydown' || e.type === 'keyup';\n    };\n    var isDeleteEvent = function (e) {\n      var keyCode = e.keyCode;\n      return keyCode === VK.BACKSPACE || keyCode === VK.DELETE;\n    };\n    var isNonTypingKeyboardEvent = function (e) {\n      if (isKeyboardEvent(e)) {\n        var keyCode = e.keyCode;\n        return !isDeleteEvent(e) && (VK.metaKeyPressed(e) || e.altKey || keyCode >= 112 && keyCode <= 123 || contains$3(nonTypingKeycodes, keyCode));\n      } else {\n        return false;\n      }\n    };\n    var isTypingKeyboardEvent = function (e) {\n      return isKeyboardEvent(e) && !(isDeleteEvent(e) || e.type === 'keyup' && e.keyCode === 229);\n    };\n    var isVisuallyEmpty = function (dom, rootElm, forcedRootBlock) {\n      if (isEmpty$2(SugarElement.fromDom(rootElm), false)) {\n        var isForcedRootBlockFalse = forcedRootBlock === '';\n        var firstElement = rootElm.firstElementChild;\n        if (!firstElement) {\n          return true;\n        } else if (dom.getStyle(rootElm.firstElementChild, 'padding-left') || dom.getStyle(rootElm.firstElementChild, 'padding-right')) {\n          return false;\n        } else {\n          return isForcedRootBlockFalse ? !dom.isBlock(firstElement) : forcedRootBlock === firstElement.nodeName.toLowerCase();\n        }\n      } else {\n        return false;\n      }\n    };\n    var setup$g = function (editor) {\n      var dom = editor.dom;\n      var rootBlock = getForcedRootBlock(editor);\n      var placeholder = getPlaceholder(editor);\n      var updatePlaceholder = function (e, initial) {\n        if (isNonTypingKeyboardEvent(e)) {\n          return;\n        }\n        var body = editor.getBody();\n        var showPlaceholder = isTypingKeyboardEvent(e) ? false : isVisuallyEmpty(dom, body, rootBlock);\n        var isPlaceholderShown = dom.getAttrib(body, placeholderAttr) !== '';\n        if (isPlaceholderShown !== showPlaceholder || initial) {\n          dom.setAttrib(body, placeholderAttr, showPlaceholder ? placeholder : null);\n          dom.setAttrib(body, 'aria-placeholder', showPlaceholder ? placeholder : null);\n          firePlaceholderToggle(editor, showPlaceholder);\n          editor.on(showPlaceholder ? 'keydown' : 'keyup', updatePlaceholder);\n          editor.off(showPlaceholder ? 'keyup' : 'keydown', updatePlaceholder);\n        }\n      };\n      if (placeholder) {\n        editor.on('init', function (e) {\n          updatePlaceholder(e, true);\n          editor.on('change SetContent ExecCommand', updatePlaceholder);\n          editor.on('paste', function (e) {\n            return Delay.setEditorTimeout(editor, function () {\n              return updatePlaceholder(e);\n            });\n          });\n        });\n      }\n    };\n\n    var strongRtl = /[\\u0591-\\u07FF\\uFB1D-\\uFDFF\\uFE70-\\uFEFC]/;\n    var hasStrongRtl = function (text) {\n      return strongRtl.test(text);\n    };\n\n    var isInlineTarget = function (editor, elm) {\n      return is$2(SugarElement.fromDom(elm), getInlineBoundarySelector(editor));\n    };\n    var isRtl = function (element) {\n      return DOMUtils.DOM.getStyle(element, 'direction', true) === 'rtl' || hasStrongRtl(element.textContent);\n    };\n    var findInlineParents = function (isInlineTarget, rootNode, pos) {\n      return filter$4(DOMUtils.DOM.getParents(pos.container(), '*', rootNode), isInlineTarget);\n    };\n    var findRootInline = function (isInlineTarget, rootNode, pos) {\n      var parents = findInlineParents(isInlineTarget, rootNode, pos);\n      return Optional.from(parents[parents.length - 1]);\n    };\n    var hasSameParentBlock = function (rootNode, node1, node2) {\n      var block1 = getParentBlock$2(node1, rootNode);\n      var block2 = getParentBlock$2(node2, rootNode);\n      return block1 && block1 === block2;\n    };\n    var isAtZwsp = function (pos) {\n      return isBeforeInline(pos) || isAfterInline(pos);\n    };\n    var normalizePosition = function (forward, pos) {\n      if (!pos) {\n        return pos;\n      }\n      var container = pos.container(), offset = pos.offset();\n      if (forward) {\n        if (isCaretContainerInline(container)) {\n          if (isText$7(container.nextSibling)) {\n            return CaretPosition(container.nextSibling, 0);\n          } else {\n            return CaretPosition.after(container);\n          }\n        } else {\n          return isBeforeInline(pos) ? CaretPosition(container, offset + 1) : pos;\n        }\n      } else {\n        if (isCaretContainerInline(container)) {\n          if (isText$7(container.previousSibling)) {\n            return CaretPosition(container.previousSibling, container.previousSibling.data.length);\n          } else {\n            return CaretPosition.before(container);\n          }\n        } else {\n          return isAfterInline(pos) ? CaretPosition(container, offset - 1) : pos;\n        }\n      }\n    };\n    var normalizeForwards = curry(normalizePosition, true);\n    var normalizeBackwards = curry(normalizePosition, false);\n\n    var isBeforeRoot = function (rootNode) {\n      return function (elm) {\n        return eq(rootNode, SugarElement.fromDom(elm.dom.parentNode));\n      };\n    };\n    var isTextBlockOrListItem = function (element) {\n      return isTextBlock$2(element) || isListItem(element);\n    };\n    var getParentBlock$1 = function (rootNode, elm) {\n      if (contains$1(rootNode, elm)) {\n        return closest$3(elm, isTextBlockOrListItem, isBeforeRoot(rootNode));\n      } else {\n        return Optional.none();\n      }\n    };\n    var placeCaretInEmptyBody = function (editor) {\n      var body = editor.getBody();\n      var node = body.firstChild && editor.dom.isBlock(body.firstChild) ? body.firstChild : body;\n      editor.selection.setCursorLocation(node, 0);\n    };\n    var paddEmptyBody = function (editor) {\n      if (editor.dom.isEmpty(editor.getBody())) {\n        editor.setContent('');\n        placeCaretInEmptyBody(editor);\n      }\n    };\n    var willDeleteLastPositionInElement = function (forward, fromPos, elm) {\n      return lift2(firstPositionIn(elm), lastPositionIn(elm), function (firstPos, lastPos) {\n        var normalizedFirstPos = normalizePosition(true, firstPos);\n        var normalizedLastPos = normalizePosition(false, lastPos);\n        var normalizedFromPos = normalizePosition(false, fromPos);\n        if (forward) {\n          return nextPosition(elm, normalizedFromPos).exists(function (nextPos) {\n            return nextPos.isEqual(normalizedLastPos) && fromPos.isEqual(normalizedFirstPos);\n          });\n        } else {\n          return prevPosition(elm, normalizedFromPos).exists(function (prevPos) {\n            return prevPos.isEqual(normalizedFirstPos) && fromPos.isEqual(normalizedLastPos);\n          });\n        }\n      }).getOr(true);\n    };\n\n    var blockPosition = function (block, position) {\n      return {\n        block: block,\n        position: position\n      };\n    };\n    var blockBoundary = function (from, to) {\n      return {\n        from: from,\n        to: to\n      };\n    };\n    var getBlockPosition = function (rootNode, pos) {\n      var rootElm = SugarElement.fromDom(rootNode);\n      var containerElm = SugarElement.fromDom(pos.container());\n      return getParentBlock$1(rootElm, containerElm).map(function (block) {\n        return blockPosition(block, pos);\n      });\n    };\n    var isDifferentBlocks = function (blockBoundary) {\n      return eq(blockBoundary.from.block, blockBoundary.to.block) === false;\n    };\n    var hasSameParent = function (blockBoundary) {\n      return parent(blockBoundary.from.block).bind(function (parent1) {\n        return parent(blockBoundary.to.block).filter(function (parent2) {\n          return eq(parent1, parent2);\n        });\n      }).isSome();\n    };\n    var isEditable$1 = function (blockBoundary) {\n      return isContentEditableFalse$b(blockBoundary.from.block.dom) === false && isContentEditableFalse$b(blockBoundary.to.block.dom) === false;\n    };\n    var skipLastBr = function (rootNode, forward, blockPosition) {\n      if (isBr$5(blockPosition.position.getNode()) && isEmpty$2(blockPosition.block) === false) {\n        return positionIn(false, blockPosition.block.dom).bind(function (lastPositionInBlock) {\n          if (lastPositionInBlock.isEqual(blockPosition.position)) {\n            return fromPosition(forward, rootNode, lastPositionInBlock).bind(function (to) {\n              return getBlockPosition(rootNode, to);\n            });\n          } else {\n            return Optional.some(blockPosition);\n          }\n        }).getOr(blockPosition);\n      } else {\n        return blockPosition;\n      }\n    };\n    var readFromRange = function (rootNode, forward, rng) {\n      var fromBlockPos = getBlockPosition(rootNode, CaretPosition.fromRangeStart(rng));\n      var toBlockPos = fromBlockPos.bind(function (blockPos) {\n        return fromPosition(forward, rootNode, blockPos.position).bind(function (to) {\n          return getBlockPosition(rootNode, to).map(function (blockPos) {\n            return skipLastBr(rootNode, forward, blockPos);\n          });\n        });\n      });\n      return lift2(fromBlockPos, toBlockPos, blockBoundary).filter(function (blockBoundary) {\n        return isDifferentBlocks(blockBoundary) && hasSameParent(blockBoundary) && isEditable$1(blockBoundary);\n      });\n    };\n    var read$1 = function (rootNode, forward, rng) {\n      return rng.collapsed ? readFromRange(rootNode, forward, rng) : Optional.none();\n    };\n\n    var getChildrenUntilBlockBoundary = function (block) {\n      var children$1 = children(block);\n      return findIndex$2(children$1, isBlock$2).fold(constant(children$1), function (index) {\n        return children$1.slice(0, index);\n      });\n    };\n    var extractChildren = function (block) {\n      var children = getChildrenUntilBlockBoundary(block);\n      each$k(children, remove$7);\n      return children;\n    };\n    var removeEmptyRoot = function (rootNode, block) {\n      var parents = parentsAndSelf(block, rootNode);\n      return find$3(parents.reverse(), function (element) {\n        return isEmpty$2(element);\n      }).each(remove$7);\n    };\n    var isEmptyBefore = function (el) {\n      return filter$4(prevSiblings(el), function (el) {\n        return !isEmpty$2(el);\n      }).length === 0;\n    };\n    var nestedBlockMerge = function (rootNode, fromBlock, toBlock, insertionPoint) {\n      if (isEmpty$2(toBlock)) {\n        fillWithPaddingBr(toBlock);\n        return firstPositionIn(toBlock.dom);\n      }\n      if (isEmptyBefore(insertionPoint) && isEmpty$2(fromBlock)) {\n        before$4(insertionPoint, SugarElement.fromTag('br'));\n      }\n      var position = prevPosition(toBlock.dom, CaretPosition.before(insertionPoint.dom));\n      each$k(extractChildren(fromBlock), function (child) {\n        before$4(insertionPoint, child);\n      });\n      removeEmptyRoot(rootNode, fromBlock);\n      return position;\n    };\n    var sidelongBlockMerge = function (rootNode, fromBlock, toBlock) {\n      if (isEmpty$2(toBlock)) {\n        remove$7(toBlock);\n        if (isEmpty$2(fromBlock)) {\n          fillWithPaddingBr(fromBlock);\n        }\n        return firstPositionIn(fromBlock.dom);\n      }\n      var position = lastPositionIn(toBlock.dom);\n      each$k(extractChildren(fromBlock), function (child) {\n        append$1(toBlock, child);\n      });\n      removeEmptyRoot(rootNode, fromBlock);\n      return position;\n    };\n    var findInsertionPoint = function (toBlock, block) {\n      var parentsAndSelf$1 = parentsAndSelf(block, toBlock);\n      return Optional.from(parentsAndSelf$1[parentsAndSelf$1.length - 1]);\n    };\n    var getInsertionPoint = function (fromBlock, toBlock) {\n      return contains$1(toBlock, fromBlock) ? findInsertionPoint(toBlock, fromBlock) : Optional.none();\n    };\n    var trimBr = function (first, block) {\n      positionIn(first, block.dom).map(function (position) {\n        return position.getNode();\n      }).map(SugarElement.fromDom).filter(isBr$4).each(remove$7);\n    };\n    var mergeBlockInto = function (rootNode, fromBlock, toBlock) {\n      trimBr(true, fromBlock);\n      trimBr(false, toBlock);\n      return getInsertionPoint(fromBlock, toBlock).fold(curry(sidelongBlockMerge, rootNode, fromBlock, toBlock), curry(nestedBlockMerge, rootNode, fromBlock, toBlock));\n    };\n    var mergeBlocks = function (rootNode, forward, block1, block2) {\n      return forward ? mergeBlockInto(rootNode, block2, block1) : mergeBlockInto(rootNode, block1, block2);\n    };\n\n    var backspaceDelete$8 = function (editor, forward) {\n      var rootNode = SugarElement.fromDom(editor.getBody());\n      var position = read$1(rootNode.dom, forward, editor.selection.getRng()).bind(function (blockBoundary) {\n        return mergeBlocks(rootNode, forward, blockBoundary.from.block, blockBoundary.to.block);\n      });\n      position.each(function (pos) {\n        editor.selection.setRng(pos.toRange());\n      });\n      return position.isSome();\n    };\n\n    var deleteRangeMergeBlocks = function (rootNode, selection) {\n      var rng = selection.getRng();\n      return lift2(getParentBlock$1(rootNode, SugarElement.fromDom(rng.startContainer)), getParentBlock$1(rootNode, SugarElement.fromDom(rng.endContainer)), function (block1, block2) {\n        if (eq(block1, block2) === false) {\n          rng.deleteContents();\n          mergeBlocks(rootNode, true, block1, block2).each(function (pos) {\n            selection.setRng(pos.toRange());\n          });\n          return true;\n        } else {\n          return false;\n        }\n      }).getOr(false);\n    };\n    var isRawNodeInTable = function (root, rawNode) {\n      var node = SugarElement.fromDom(rawNode);\n      var isRoot = curry(eq, root);\n      return ancestor$3(node, isTableCell$4, isRoot).isSome();\n    };\n    var isSelectionInTable = function (root, rng) {\n      return isRawNodeInTable(root, rng.startContainer) || isRawNodeInTable(root, rng.endContainer);\n    };\n    var isEverythingSelected = function (root, rng) {\n      var noPrevious = prevPosition(root.dom, CaretPosition.fromRangeStart(rng)).isNone();\n      var noNext = nextPosition(root.dom, CaretPosition.fromRangeEnd(rng)).isNone();\n      return !isSelectionInTable(root, rng) && noPrevious && noNext;\n    };\n    var emptyEditor = function (editor) {\n      editor.setContent('');\n      editor.selection.setCursorLocation();\n      return true;\n    };\n    var deleteRange$1 = function (editor) {\n      var rootNode = SugarElement.fromDom(editor.getBody());\n      var rng = editor.selection.getRng();\n      return isEverythingSelected(rootNode, rng) ? emptyEditor(editor) : deleteRangeMergeBlocks(rootNode, editor.selection);\n    };\n    var backspaceDelete$7 = function (editor, _forward) {\n      return editor.selection.isCollapsed() ? false : deleteRange$1(editor);\n    };\n\n    var isContentEditableTrue$2 = isContentEditableTrue$4;\n    var isContentEditableFalse$4 = isContentEditableFalse$b;\n    var showCaret = function (direction, editor, node, before, scrollIntoView) {\n      return Optional.from(editor._selectionOverrides.showCaret(direction, node, before, scrollIntoView));\n    };\n    var getNodeRange = function (node) {\n      var rng = node.ownerDocument.createRange();\n      rng.selectNode(node);\n      return rng;\n    };\n    var selectNode = function (editor, node) {\n      var e = editor.fire('BeforeObjectSelected', { target: node });\n      if (e.isDefaultPrevented()) {\n        return Optional.none();\n      }\n      return Optional.some(getNodeRange(node));\n    };\n    var renderCaretAtRange = function (editor, range, scrollIntoView) {\n      var normalizedRange = normalizeRange(1, editor.getBody(), range);\n      var caretPosition = CaretPosition.fromRangeStart(normalizedRange);\n      var caretPositionNode = caretPosition.getNode();\n      if (isInlineFakeCaretTarget(caretPositionNode)) {\n        return showCaret(1, editor, caretPositionNode, !caretPosition.isAtEnd(), false);\n      }\n      var caretPositionBeforeNode = caretPosition.getNode(true);\n      if (isInlineFakeCaretTarget(caretPositionBeforeNode)) {\n        return showCaret(1, editor, caretPositionBeforeNode, false, false);\n      }\n      var ceRoot = editor.dom.getParent(caretPosition.getNode(), function (node) {\n        return isContentEditableFalse$4(node) || isContentEditableTrue$2(node);\n      });\n      if (isInlineFakeCaretTarget(ceRoot)) {\n        return showCaret(1, editor, ceRoot, false, scrollIntoView);\n      }\n      return Optional.none();\n    };\n    var renderRangeCaret = function (editor, range, scrollIntoView) {\n      return range.collapsed ? renderCaretAtRange(editor, range, scrollIntoView).getOr(range) : range;\n    };\n\n    var isBeforeBoundary = function (pos) {\n      return isBeforeContentEditableFalse(pos) || isBeforeMedia(pos);\n    };\n    var isAfterBoundary = function (pos) {\n      return isAfterContentEditableFalse(pos) || isAfterMedia(pos);\n    };\n    var trimEmptyTextNode = function (dom, node) {\n      if (isText$7(node) && node.data.length === 0) {\n        dom.remove(node);\n      }\n    };\n    var deleteContentAndShowCaret = function (editor, range, node, direction, forward, peekCaretPosition) {\n      showCaret(direction, editor, peekCaretPosition.getNode(!forward), forward, true).each(function (caretRange) {\n        if (range.collapsed) {\n          var deleteRange = range.cloneRange();\n          if (forward) {\n            deleteRange.setEnd(caretRange.startContainer, caretRange.startOffset);\n          } else {\n            deleteRange.setStart(caretRange.endContainer, caretRange.endOffset);\n          }\n          deleteRange.deleteContents();\n        } else {\n          range.deleteContents();\n        }\n        editor.selection.setRng(caretRange);\n      });\n      trimEmptyTextNode(editor.dom, node);\n      return true;\n    };\n    var deleteBoundaryText = function (editor, forward) {\n      var range = editor.selection.getRng();\n      if (!isText$7(range.commonAncestorContainer)) {\n        return false;\n      }\n      var direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      var caretWalker = CaretWalker(editor.getBody());\n      var getNextPosFn = curry(getVisualCaretPosition, forward ? caretWalker.next : caretWalker.prev);\n      var isBeforeFn = forward ? isBeforeBoundary : isAfterBoundary;\n      var caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      var nextCaretPosition = normalizePosition(forward, getNextPosFn(caretPosition));\n      if (!nextCaretPosition || !isMoveInsideSameBlock(caretPosition, nextCaretPosition)) {\n        return false;\n      } else if (isBeforeFn(nextCaretPosition)) {\n        return deleteContentAndShowCaret(editor, range, caretPosition.getNode(), direction, forward, nextCaretPosition);\n      }\n      var peekCaretPosition = getNextPosFn(nextCaretPosition);\n      if (peekCaretPosition && isBeforeFn(peekCaretPosition)) {\n        if (isMoveInsideSameBlock(nextCaretPosition, peekCaretPosition)) {\n          return deleteContentAndShowCaret(editor, range, caretPosition.getNode(), direction, forward, peekCaretPosition);\n        }\n      }\n      return false;\n    };\n    var backspaceDelete$6 = function (editor, forward) {\n      return deleteBoundaryText(editor, forward);\n    };\n\n    var isCompoundElement = function (node) {\n      return isTableCell$4(SugarElement.fromDom(node)) || isListItem(SugarElement.fromDom(node));\n    };\n    var DeleteAction = Adt.generate([\n      { remove: ['element'] },\n      { moveToElement: ['element'] },\n      { moveToPosition: ['position'] }\n    ]);\n    var isAtContentEditableBlockCaret = function (forward, from) {\n      var elm = from.getNode(forward === false);\n      var caretLocation = forward ? 'after' : 'before';\n      return isElement$5(elm) && elm.getAttribute('data-mce-caret') === caretLocation;\n    };\n    var isDeleteFromCefDifferentBlocks = function (root, forward, from, to) {\n      var inSameBlock = function (elm) {\n        return isInline$1(SugarElement.fromDom(elm)) && !isInSameBlock(from, to, root);\n      };\n      return getRelativeCefElm(!forward, from).fold(function () {\n        return getRelativeCefElm(forward, to).fold(never, inSameBlock);\n      }, inSameBlock);\n    };\n    var deleteEmptyBlockOrMoveToCef = function (root, forward, from, to) {\n      var toCefElm = to.getNode(forward === false);\n      return getParentBlock$1(SugarElement.fromDom(root), SugarElement.fromDom(from.getNode())).map(function (blockElm) {\n        return isEmpty$2(blockElm) ? DeleteAction.remove(blockElm.dom) : DeleteAction.moveToElement(toCefElm);\n      }).orThunk(function () {\n        return Optional.some(DeleteAction.moveToElement(toCefElm));\n      });\n    };\n    var findCefPosition = function (root, forward, from) {\n      return fromPosition(forward, root, from).bind(function (to) {\n        if (isCompoundElement(to.getNode())) {\n          return Optional.none();\n        } else if (isDeleteFromCefDifferentBlocks(root, forward, from, to)) {\n          return Optional.none();\n        } else if (forward && isContentEditableFalse$b(to.getNode())) {\n          return deleteEmptyBlockOrMoveToCef(root, forward, from, to);\n        } else if (forward === false && isContentEditableFalse$b(to.getNode(true))) {\n          return deleteEmptyBlockOrMoveToCef(root, forward, from, to);\n        } else if (forward && isAfterContentEditableFalse(from)) {\n          return Optional.some(DeleteAction.moveToPosition(to));\n        } else if (forward === false && isBeforeContentEditableFalse(from)) {\n          return Optional.some(DeleteAction.moveToPosition(to));\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    var getContentEditableBlockAction = function (forward, elm) {\n      if (forward && isContentEditableFalse$b(elm.nextSibling)) {\n        return Optional.some(DeleteAction.moveToElement(elm.nextSibling));\n      } else if (forward === false && isContentEditableFalse$b(elm.previousSibling)) {\n        return Optional.some(DeleteAction.moveToElement(elm.previousSibling));\n      } else {\n        return Optional.none();\n      }\n    };\n    var skipMoveToActionFromInlineCefToContent = function (root, from, deleteAction) {\n      return deleteAction.fold(function (elm) {\n        return Optional.some(DeleteAction.remove(elm));\n      }, function (elm) {\n        return Optional.some(DeleteAction.moveToElement(elm));\n      }, function (to) {\n        if (isInSameBlock(from, to, root)) {\n          return Optional.none();\n        } else {\n          return Optional.some(DeleteAction.moveToPosition(to));\n        }\n      });\n    };\n    var getContentEditableAction = function (root, forward, from) {\n      if (isAtContentEditableBlockCaret(forward, from)) {\n        return getContentEditableBlockAction(forward, from.getNode(forward === false)).fold(function () {\n          return findCefPosition(root, forward, from);\n        }, Optional.some);\n      } else {\n        return findCefPosition(root, forward, from).bind(function (deleteAction) {\n          return skipMoveToActionFromInlineCefToContent(root, from, deleteAction);\n        });\n      }\n    };\n    var read = function (root, forward, rng) {\n      var normalizedRange = normalizeRange(forward ? 1 : -1, root, rng);\n      var from = CaretPosition.fromRangeStart(normalizedRange);\n      var rootElement = SugarElement.fromDom(root);\n      if (forward === false && isAfterContentEditableFalse(from)) {\n        return Optional.some(DeleteAction.remove(from.getNode(true)));\n      } else if (forward && isBeforeContentEditableFalse(from)) {\n        return Optional.some(DeleteAction.remove(from.getNode()));\n      } else if (forward === false && isBeforeContentEditableFalse(from) && isAfterBr(rootElement, from)) {\n        return findPreviousBr(rootElement, from).map(function (br) {\n          return DeleteAction.remove(br.getNode());\n        });\n      } else if (forward && isAfterContentEditableFalse(from) && isBeforeBr$1(rootElement, from)) {\n        return findNextBr(rootElement, from).map(function (br) {\n          return DeleteAction.remove(br.getNode());\n        });\n      } else {\n        return getContentEditableAction(root, forward, from);\n      }\n    };\n\n    var deleteElement$1 = function (editor, forward) {\n      return function (element) {\n        editor._selectionOverrides.hideFakeCaret();\n        deleteElement$2(editor, forward, SugarElement.fromDom(element));\n        return true;\n      };\n    };\n    var moveToElement = function (editor, forward) {\n      return function (element) {\n        var pos = forward ? CaretPosition.before(element) : CaretPosition.after(element);\n        editor.selection.setRng(pos.toRange());\n        return true;\n      };\n    };\n    var moveToPosition = function (editor) {\n      return function (pos) {\n        editor.selection.setRng(pos.toRange());\n        return true;\n      };\n    };\n    var getAncestorCe = function (editor, node) {\n      return Optional.from(getContentEditableRoot$1(editor.getBody(), node));\n    };\n    var backspaceDeleteCaret = function (editor, forward) {\n      var selectedNode = editor.selection.getNode();\n      return getAncestorCe(editor, selectedNode).filter(isContentEditableFalse$b).fold(function () {\n        return read(editor.getBody(), forward, editor.selection.getRng()).exists(function (deleteAction) {\n          return deleteAction.fold(deleteElement$1(editor, forward), moveToElement(editor, forward), moveToPosition(editor));\n        });\n      }, always);\n    };\n    var deleteOffscreenSelection = function (rootElement) {\n      each$k(descendants(rootElement, '.mce-offscreen-selection'), remove$7);\n    };\n    var backspaceDeleteRange = function (editor, forward) {\n      var selectedNode = editor.selection.getNode();\n      if (isContentEditableFalse$b(selectedNode) && !isTableCell$5(selectedNode)) {\n        var hasCefAncestor = getAncestorCe(editor, selectedNode.parentNode).filter(isContentEditableFalse$b);\n        return hasCefAncestor.fold(function () {\n          deleteOffscreenSelection(SugarElement.fromDom(editor.getBody()));\n          deleteElement$2(editor, forward, SugarElement.fromDom(editor.selection.getNode()));\n          paddEmptyBody(editor);\n          return true;\n        }, always);\n      }\n      return false;\n    };\n    var paddEmptyElement = function (editor) {\n      var dom = editor.dom, selection = editor.selection;\n      var ceRoot = getContentEditableRoot$1(editor.getBody(), selection.getNode());\n      if (isContentEditableTrue$4(ceRoot) && dom.isBlock(ceRoot) && dom.isEmpty(ceRoot)) {\n        var br = dom.create('br', { 'data-mce-bogus': '1' });\n        dom.setHTML(ceRoot, '');\n        ceRoot.appendChild(br);\n        selection.setRng(CaretPosition.before(br).toRange());\n      }\n      return true;\n    };\n    var backspaceDelete$5 = function (editor, forward) {\n      if (editor.selection.isCollapsed()) {\n        return backspaceDeleteCaret(editor, forward);\n      } else {\n        return backspaceDeleteRange(editor, forward);\n      }\n    };\n\n    var deleteCaret$2 = function (editor, forward) {\n      var fromPos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return fromPosition(forward, editor.getBody(), fromPos).filter(function (pos) {\n        return forward ? isBeforeImageBlock(pos) : isAfterImageBlock(pos);\n      }).bind(function (pos) {\n        return Optional.from(getChildNodeAtRelativeOffset(forward ? 0 : -1, pos));\n      }).exists(function (elm) {\n        editor.selection.select(elm);\n        return true;\n      });\n    };\n    var backspaceDelete$4 = function (editor, forward) {\n      return editor.selection.isCollapsed() ? deleteCaret$2(editor, forward) : false;\n    };\n\n    var isText = isText$7;\n    var startsWithCaretContainer = function (node) {\n      return isText(node) && node.data[0] === ZWSP$1;\n    };\n    var endsWithCaretContainer = function (node) {\n      return isText(node) && node.data[node.data.length - 1] === ZWSP$1;\n    };\n    var createZwsp = function (node) {\n      return node.ownerDocument.createTextNode(ZWSP$1);\n    };\n    var insertBefore = function (node) {\n      if (isText(node.previousSibling)) {\n        if (endsWithCaretContainer(node.previousSibling)) {\n          return node.previousSibling;\n        } else {\n          node.previousSibling.appendData(ZWSP$1);\n          return node.previousSibling;\n        }\n      } else if (isText(node)) {\n        if (startsWithCaretContainer(node)) {\n          return node;\n        } else {\n          node.insertData(0, ZWSP$1);\n          return node;\n        }\n      } else {\n        var newNode = createZwsp(node);\n        node.parentNode.insertBefore(newNode, node);\n        return newNode;\n      }\n    };\n    var insertAfter = function (node) {\n      if (isText(node.nextSibling)) {\n        if (startsWithCaretContainer(node.nextSibling)) {\n          return node.nextSibling;\n        } else {\n          node.nextSibling.insertData(0, ZWSP$1);\n          return node.nextSibling;\n        }\n      } else if (isText(node)) {\n        if (endsWithCaretContainer(node)) {\n          return node;\n        } else {\n          node.appendData(ZWSP$1);\n          return node;\n        }\n      } else {\n        var newNode = createZwsp(node);\n        if (node.nextSibling) {\n          node.parentNode.insertBefore(newNode, node.nextSibling);\n        } else {\n          node.parentNode.appendChild(newNode);\n        }\n        return newNode;\n      }\n    };\n    var insertInline = function (before, node) {\n      return before ? insertBefore(node) : insertAfter(node);\n    };\n    var insertInlineBefore = curry(insertInline, true);\n    var insertInlineAfter = curry(insertInline, false);\n\n    var insertInlinePos = function (pos, before) {\n      if (isText$7(pos.container())) {\n        return insertInline(before, pos.container());\n      } else {\n        return insertInline(before, pos.getNode());\n      }\n    };\n    var isPosCaretContainer = function (pos, caret) {\n      var caretNode = caret.get();\n      return caretNode && pos.container() === caretNode && isCaretContainerInline(caretNode);\n    };\n    var renderCaret = function (caret, location) {\n      return location.fold(function (element) {\n        remove$2(caret.get());\n        var text = insertInlineBefore(element);\n        caret.set(text);\n        return Optional.some(CaretPosition(text, text.length - 1));\n      }, function (element) {\n        return firstPositionIn(element).map(function (pos) {\n          if (!isPosCaretContainer(pos, caret)) {\n            remove$2(caret.get());\n            var text = insertInlinePos(pos, true);\n            caret.set(text);\n            return CaretPosition(text, 1);\n          } else {\n            return CaretPosition(caret.get(), 1);\n          }\n        });\n      }, function (element) {\n        return lastPositionIn(element).map(function (pos) {\n          if (!isPosCaretContainer(pos, caret)) {\n            remove$2(caret.get());\n            var text = insertInlinePos(pos, false);\n            caret.set(text);\n            return CaretPosition(text, text.length - 1);\n          } else {\n            return CaretPosition(caret.get(), caret.get().length - 1);\n          }\n        });\n      }, function (element) {\n        remove$2(caret.get());\n        var text = insertInlineAfter(element);\n        caret.set(text);\n        return Optional.some(CaretPosition(text, 1));\n      });\n    };\n\n    var evaluateUntil = function (fns, args) {\n      for (var i = 0; i < fns.length; i++) {\n        var result = fns[i].apply(null, args);\n        if (result.isSome()) {\n          return result;\n        }\n      }\n      return Optional.none();\n    };\n\n    var Location = Adt.generate([\n      { before: ['element'] },\n      { start: ['element'] },\n      { end: ['element'] },\n      { after: ['element'] }\n    ]);\n    var rescope$1 = function (rootNode, node) {\n      var parentBlock = getParentBlock$2(node, rootNode);\n      return parentBlock ? parentBlock : rootNode;\n    };\n    var before = function (isInlineTarget, rootNode, pos) {\n      var nPos = normalizeForwards(pos);\n      var scope = rescope$1(rootNode, nPos.container());\n      return findRootInline(isInlineTarget, scope, nPos).fold(function () {\n        return nextPosition(scope, nPos).bind(curry(findRootInline, isInlineTarget, scope)).map(function (inline) {\n          return Location.before(inline);\n        });\n      }, Optional.none);\n    };\n    var isNotInsideFormatCaretContainer = function (rootNode, elm) {\n      return getParentCaretContainer(rootNode, elm) === null;\n    };\n    var findInsideRootInline = function (isInlineTarget, rootNode, pos) {\n      return findRootInline(isInlineTarget, rootNode, pos).filter(curry(isNotInsideFormatCaretContainer, rootNode));\n    };\n    var start$1 = function (isInlineTarget, rootNode, pos) {\n      var nPos = normalizeBackwards(pos);\n      return findInsideRootInline(isInlineTarget, rootNode, nPos).bind(function (inline) {\n        var prevPos = prevPosition(inline, nPos);\n        return prevPos.isNone() ? Optional.some(Location.start(inline)) : Optional.none();\n      });\n    };\n    var end = function (isInlineTarget, rootNode, pos) {\n      var nPos = normalizeForwards(pos);\n      return findInsideRootInline(isInlineTarget, rootNode, nPos).bind(function (inline) {\n        var nextPos = nextPosition(inline, nPos);\n        return nextPos.isNone() ? Optional.some(Location.end(inline)) : Optional.none();\n      });\n    };\n    var after = function (isInlineTarget, rootNode, pos) {\n      var nPos = normalizeBackwards(pos);\n      var scope = rescope$1(rootNode, nPos.container());\n      return findRootInline(isInlineTarget, scope, nPos).fold(function () {\n        return prevPosition(scope, nPos).bind(curry(findRootInline, isInlineTarget, scope)).map(function (inline) {\n          return Location.after(inline);\n        });\n      }, Optional.none);\n    };\n    var isValidLocation = function (location) {\n      return isRtl(getElement(location)) === false;\n    };\n    var readLocation = function (isInlineTarget, rootNode, pos) {\n      var location = evaluateUntil([\n        before,\n        start$1,\n        end,\n        after\n      ], [\n        isInlineTarget,\n        rootNode,\n        pos\n      ]);\n      return location.filter(isValidLocation);\n    };\n    var getElement = function (location) {\n      return location.fold(identity, identity, identity, identity);\n    };\n    var getName = function (location) {\n      return location.fold(constant('before'), constant('start'), constant('end'), constant('after'));\n    };\n    var outside = function (location) {\n      return location.fold(Location.before, Location.before, Location.after, Location.after);\n    };\n    var inside = function (location) {\n      return location.fold(Location.start, Location.start, Location.end, Location.end);\n    };\n    var isEq = function (location1, location2) {\n      return getName(location1) === getName(location2) && getElement(location1) === getElement(location2);\n    };\n    var betweenInlines = function (forward, isInlineTarget, rootNode, from, to, location) {\n      return lift2(findRootInline(isInlineTarget, rootNode, from), findRootInline(isInlineTarget, rootNode, to), function (fromInline, toInline) {\n        if (fromInline !== toInline && hasSameParentBlock(rootNode, fromInline, toInline)) {\n          return Location.after(forward ? fromInline : toInline);\n        } else {\n          return location;\n        }\n      }).getOr(location);\n    };\n    var skipNoMovement = function (fromLocation, toLocation) {\n      return fromLocation.fold(always, function (fromLocation) {\n        return !isEq(fromLocation, toLocation);\n      });\n    };\n    var findLocationTraverse = function (forward, isInlineTarget, rootNode, fromLocation, pos) {\n      var from = normalizePosition(forward, pos);\n      var to = fromPosition(forward, rootNode, from).map(curry(normalizePosition, forward));\n      var location = to.fold(function () {\n        return fromLocation.map(outside);\n      }, function (to) {\n        return readLocation(isInlineTarget, rootNode, to).map(curry(betweenInlines, forward, isInlineTarget, rootNode, from, to)).filter(curry(skipNoMovement, fromLocation));\n      });\n      return location.filter(isValidLocation);\n    };\n    var findLocationSimple = function (forward, location) {\n      if (forward) {\n        return location.fold(compose(Optional.some, Location.start), Optional.none, compose(Optional.some, Location.after), Optional.none);\n      } else {\n        return location.fold(Optional.none, compose(Optional.some, Location.before), Optional.none, compose(Optional.some, Location.end));\n      }\n    };\n    var findLocation$1 = function (forward, isInlineTarget, rootNode, pos) {\n      var from = normalizePosition(forward, pos);\n      var fromLocation = readLocation(isInlineTarget, rootNode, from);\n      return readLocation(isInlineTarget, rootNode, from).bind(curry(findLocationSimple, forward)).orThunk(function () {\n        return findLocationTraverse(forward, isInlineTarget, rootNode, fromLocation, pos);\n      });\n    };\n    curry(findLocation$1, false);\n    curry(findLocation$1, true);\n\n    var hasSelectionModifyApi = function (editor) {\n      return isFunction(editor.selection.getSel().modify);\n    };\n    var moveRel = function (forward, selection, pos) {\n      var delta = forward ? 1 : -1;\n      selection.setRng(CaretPosition(pos.container(), pos.offset() + delta).toRange());\n      selection.getSel().modify('move', forward ? 'forward' : 'backward', 'word');\n      return true;\n    };\n    var moveByWord = function (forward, editor) {\n      var rng = editor.selection.getRng();\n      var pos = forward ? CaretPosition.fromRangeEnd(rng) : CaretPosition.fromRangeStart(rng);\n      if (!hasSelectionModifyApi(editor)) {\n        return false;\n      } else if (forward && isBeforeInline(pos)) {\n        return moveRel(true, editor.selection, pos);\n      } else if (!forward && isAfterInline(pos)) {\n        return moveRel(false, editor.selection, pos);\n      } else {\n        return false;\n      }\n    };\n\n    var BreakType;\n    (function (BreakType) {\n      BreakType[BreakType['Br'] = 0] = 'Br';\n      BreakType[BreakType['Block'] = 1] = 'Block';\n      BreakType[BreakType['Wrap'] = 2] = 'Wrap';\n      BreakType[BreakType['Eol'] = 3] = 'Eol';\n    }(BreakType || (BreakType = {})));\n    var flip = function (direction, positions) {\n      return direction === HDirection.Backwards ? reverse(positions) : positions;\n    };\n    var walk = function (direction, caretWalker, pos) {\n      return direction === HDirection.Forwards ? caretWalker.next(pos) : caretWalker.prev(pos);\n    };\n    var getBreakType = function (scope, direction, currentPos, nextPos) {\n      if (isBr$5(nextPos.getNode(direction === HDirection.Forwards))) {\n        return BreakType.Br;\n      } else if (isInSameBlock(currentPos, nextPos) === false) {\n        return BreakType.Block;\n      } else {\n        return BreakType.Wrap;\n      }\n    };\n    var getPositionsUntil = function (predicate, direction, scope, start) {\n      var caretWalker = CaretWalker(scope);\n      var currentPos = start;\n      var positions = [];\n      while (currentPos) {\n        var nextPos = walk(direction, caretWalker, currentPos);\n        if (!nextPos) {\n          break;\n        }\n        if (isBr$5(nextPos.getNode(false))) {\n          if (direction === HDirection.Forwards) {\n            return {\n              positions: flip(direction, positions).concat([nextPos]),\n              breakType: BreakType.Br,\n              breakAt: Optional.some(nextPos)\n            };\n          } else {\n            return {\n              positions: flip(direction, positions),\n              breakType: BreakType.Br,\n              breakAt: Optional.some(nextPos)\n            };\n          }\n        }\n        if (!nextPos.isVisible()) {\n          currentPos = nextPos;\n          continue;\n        }\n        if (predicate(currentPos, nextPos)) {\n          var breakType = getBreakType(scope, direction, currentPos, nextPos);\n          return {\n            positions: flip(direction, positions),\n            breakType: breakType,\n            breakAt: Optional.some(nextPos)\n          };\n        }\n        positions.push(nextPos);\n        currentPos = nextPos;\n      }\n      return {\n        positions: flip(direction, positions),\n        breakType: BreakType.Eol,\n        breakAt: Optional.none()\n      };\n    };\n    var getAdjacentLinePositions = function (direction, getPositionsUntilBreak, scope, start) {\n      return getPositionsUntilBreak(scope, start).breakAt.map(function (pos) {\n        var positions = getPositionsUntilBreak(scope, pos).positions;\n        return direction === HDirection.Backwards ? positions.concat(pos) : [pos].concat(positions);\n      }).getOr([]);\n    };\n    var findClosestHorizontalPositionFromPoint = function (positions, x) {\n      return foldl(positions, function (acc, newPos) {\n        return acc.fold(function () {\n          return Optional.some(newPos);\n        }, function (lastPos) {\n          return lift2(head(lastPos.getClientRects()), head(newPos.getClientRects()), function (lastRect, newRect) {\n            var lastDist = Math.abs(x - lastRect.left);\n            var newDist = Math.abs(x - newRect.left);\n            return newDist <= lastDist ? newPos : lastPos;\n          }).or(acc);\n        });\n      }, Optional.none());\n    };\n    var findClosestHorizontalPosition = function (positions, pos) {\n      return head(pos.getClientRects()).bind(function (targetRect) {\n        return findClosestHorizontalPositionFromPoint(positions, targetRect.left);\n      });\n    };\n    var getPositionsUntilPreviousLine = curry(getPositionsUntil, CaretPosition.isAbove, -1);\n    var getPositionsUntilNextLine = curry(getPositionsUntil, CaretPosition.isBelow, 1);\n    var getPositionsAbove = curry(getAdjacentLinePositions, -1, getPositionsUntilPreviousLine);\n    var getPositionsBelow = curry(getAdjacentLinePositions, 1, getPositionsUntilNextLine);\n    var isAtFirstLine = function (scope, pos) {\n      return getPositionsUntilPreviousLine(scope, pos).breakAt.isNone();\n    };\n    var isAtLastLine = function (scope, pos) {\n      return getPositionsUntilNextLine(scope, pos).breakAt.isNone();\n    };\n    var getFirstLinePositions = function (scope) {\n      return firstPositionIn(scope).map(function (pos) {\n        return [pos].concat(getPositionsUntilNextLine(scope, pos).positions);\n      }).getOr([]);\n    };\n    var getLastLinePositions = function (scope) {\n      return lastPositionIn(scope).map(function (pos) {\n        return getPositionsUntilPreviousLine(scope, pos).positions.concat(pos);\n      }).getOr([]);\n    };\n\n    var getNodeClientRects = function (node) {\n      var toArrayWithNode = function (clientRects) {\n        return map$3(clientRects, function (rect) {\n          var clientRect = clone(rect);\n          clientRect.node = node;\n          return clientRect;\n        });\n      };\n      if (isElement$5(node)) {\n        return toArrayWithNode(node.getClientRects());\n      }\n      if (isText$7(node)) {\n        var rng = node.ownerDocument.createRange();\n        rng.setStart(node, 0);\n        rng.setEnd(node, node.data.length);\n        return toArrayWithNode(rng.getClientRects());\n      }\n    };\n    var getClientRects = function (nodes) {\n      return bind(nodes, getNodeClientRects);\n    };\n\n    var VDirection;\n    (function (VDirection) {\n      VDirection[VDirection['Up'] = -1] = 'Up';\n      VDirection[VDirection['Down'] = 1] = 'Down';\n    }(VDirection || (VDirection = {})));\n    var findUntil = function (direction, root, predicateFn, node) {\n      while (node = findNode$1(node, direction, isEditableCaretCandidate$1, root)) {\n        if (predicateFn(node)) {\n          return;\n        }\n      }\n    };\n    var walkUntil$1 = function (direction, isAboveFn, isBeflowFn, root, predicateFn, caretPosition) {\n      var line = 0;\n      var result = [];\n      var add = function (node) {\n        var clientRects = getClientRects([node]);\n        if (direction === -1) {\n          clientRects = clientRects.reverse();\n        }\n        for (var i = 0; i < clientRects.length; i++) {\n          var clientRect = clientRects[i];\n          if (isBeflowFn(clientRect, targetClientRect)) {\n            continue;\n          }\n          if (result.length > 0 && isAboveFn(clientRect, last$1(result))) {\n            line++;\n          }\n          clientRect.line = line;\n          if (predicateFn(clientRect)) {\n            return true;\n          }\n          result.push(clientRect);\n        }\n      };\n      var targetClientRect = last$1(caretPosition.getClientRects());\n      if (!targetClientRect) {\n        return result;\n      }\n      var node = caretPosition.getNode();\n      add(node);\n      findUntil(direction, root, add, node);\n      return result;\n    };\n    var aboveLineNumber = function (lineNumber, clientRect) {\n      return clientRect.line > lineNumber;\n    };\n    var isLineNumber = function (lineNumber, clientRect) {\n      return clientRect.line === lineNumber;\n    };\n    var upUntil = curry(walkUntil$1, VDirection.Up, isAbove$1, isBelow$1);\n    var downUntil = curry(walkUntil$1, VDirection.Down, isBelow$1, isAbove$1);\n    var positionsUntil = function (direction, root, predicateFn, node) {\n      var caretWalker = CaretWalker(root);\n      var walkFn;\n      var isBelowFn;\n      var isAboveFn;\n      var caretPosition;\n      var result = [];\n      var line = 0;\n      var getClientRect = function (caretPosition) {\n        if (direction === 1) {\n          return last$1(caretPosition.getClientRects());\n        }\n        return last$1(caretPosition.getClientRects());\n      };\n      if (direction === 1) {\n        walkFn = caretWalker.next;\n        isBelowFn = isBelow$1;\n        isAboveFn = isAbove$1;\n        caretPosition = CaretPosition.after(node);\n      } else {\n        walkFn = caretWalker.prev;\n        isBelowFn = isAbove$1;\n        isAboveFn = isBelow$1;\n        caretPosition = CaretPosition.before(node);\n      }\n      var targetClientRect = getClientRect(caretPosition);\n      do {\n        if (!caretPosition.isVisible()) {\n          continue;\n        }\n        var rect = getClientRect(caretPosition);\n        if (isAboveFn(rect, targetClientRect)) {\n          continue;\n        }\n        if (result.length > 0 && isBelowFn(rect, last$1(result))) {\n          line++;\n        }\n        var clientRect = clone(rect);\n        clientRect.position = caretPosition;\n        clientRect.line = line;\n        if (predicateFn(clientRect)) {\n          return result;\n        }\n        result.push(clientRect);\n      } while (caretPosition = walkFn(caretPosition));\n      return result;\n    };\n    var isAboveLine = function (lineNumber) {\n      return function (clientRect) {\n        return aboveLineNumber(lineNumber, clientRect);\n      };\n    };\n    var isLine = function (lineNumber) {\n      return function (clientRect) {\n        return isLineNumber(lineNumber, clientRect);\n      };\n    };\n\n    var isContentEditableFalse$3 = isContentEditableFalse$b;\n    var findNode = findNode$1;\n    var distanceToRectLeft = function (clientRect, clientX) {\n      return Math.abs(clientRect.left - clientX);\n    };\n    var distanceToRectRight = function (clientRect, clientX) {\n      return Math.abs(clientRect.right - clientX);\n    };\n    var isInsideX = function (clientX, clientRect) {\n      return clientX >= clientRect.left && clientX <= clientRect.right;\n    };\n    var isInsideY = function (clientY, clientRect) {\n      return clientY >= clientRect.top && clientY <= clientRect.bottom;\n    };\n    var isNodeClientRect = function (rect) {\n      return hasNonNullableKey(rect, 'node');\n    };\n    var findClosestClientRect = function (clientRects, clientX, allowInside) {\n      if (allowInside === void 0) {\n        allowInside = always;\n      }\n      return reduce(clientRects, function (oldClientRect, clientRect) {\n        if (isInsideX(clientX, clientRect)) {\n          return allowInside(clientRect) ? clientRect : oldClientRect;\n        }\n        if (isInsideX(clientX, oldClientRect)) {\n          return allowInside(oldClientRect) ? oldClientRect : clientRect;\n        }\n        var oldDistance = Math.min(distanceToRectLeft(oldClientRect, clientX), distanceToRectRight(oldClientRect, clientX));\n        var newDistance = Math.min(distanceToRectLeft(clientRect, clientX), distanceToRectRight(clientRect, clientX));\n        if (newDistance === oldDistance && isNodeClientRect(clientRect) && isContentEditableFalse$3(clientRect.node)) {\n          return clientRect;\n        }\n        if (newDistance < oldDistance) {\n          return clientRect;\n        }\n        return oldClientRect;\n      });\n    };\n    var walkUntil = function (direction, root, predicateFn, startNode, includeChildren) {\n      var node = findNode(startNode, direction, isEditableCaretCandidate$1, root, !includeChildren);\n      do {\n        if (!node || predicateFn(node)) {\n          return;\n        }\n      } while (node = findNode(node, direction, isEditableCaretCandidate$1, root));\n    };\n    var findLineNodeRects = function (root, targetNodeRect, includeChildren) {\n      if (includeChildren === void 0) {\n        includeChildren = true;\n      }\n      var clientRects = [];\n      var collect = function (checkPosFn, node) {\n        var lineRects = filter$4(getClientRects([node]), function (clientRect) {\n          return !checkPosFn(clientRect, targetNodeRect);\n        });\n        clientRects = clientRects.concat(lineRects);\n        return lineRects.length === 0;\n      };\n      clientRects.push(targetNodeRect);\n      walkUntil(VDirection.Up, root, curry(collect, isAbove$1), targetNodeRect.node, includeChildren);\n      walkUntil(VDirection.Down, root, curry(collect, isBelow$1), targetNodeRect.node, includeChildren);\n      return clientRects;\n    };\n    var getFakeCaretTargets = function (root) {\n      return filter$4(from(root.getElementsByTagName('*')), isFakeCaretTarget);\n    };\n    var caretInfo = function (clientRect, clientX) {\n      return {\n        node: clientRect.node,\n        before: distanceToRectLeft(clientRect, clientX) < distanceToRectRight(clientRect, clientX)\n      };\n    };\n    var closestFakeCaret = function (root, clientX, clientY) {\n      var fakeTargetNodeRects = getClientRects(getFakeCaretTargets(root));\n      var targetNodeRects = filter$4(fakeTargetNodeRects, curry(isInsideY, clientY));\n      var checkInside = function (clientRect) {\n        return !isTable$3(clientRect.node) && !isMedia$2(clientRect.node);\n      };\n      var closestNodeRect = findClosestClientRect(targetNodeRects, clientX, checkInside);\n      if (closestNodeRect) {\n        var includeChildren = checkInside(closestNodeRect);\n        closestNodeRect = findClosestClientRect(findLineNodeRects(root, closestNodeRect, includeChildren), clientX, checkInside);\n        if (closestNodeRect && isFakeCaretTarget(closestNodeRect.node)) {\n          return caretInfo(closestNodeRect, clientX);\n        }\n      }\n      return null;\n    };\n\n    var moveToRange = function (editor, rng) {\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, editor.selection.getRng());\n    };\n    var renderRangeCaretOpt = function (editor, range, scrollIntoView) {\n      return Optional.some(renderRangeCaret(editor, range, scrollIntoView));\n    };\n    var moveHorizontally = function (editor, direction, range, isBefore, isAfter, isElement) {\n      var forwards = direction === HDirection.Forwards;\n      var caretWalker = CaretWalker(editor.getBody());\n      var getNextPosFn = curry(getVisualCaretPosition, forwards ? caretWalker.next : caretWalker.prev);\n      var isBeforeFn = forwards ? isBefore : isAfter;\n      if (!range.collapsed) {\n        var node = getSelectedNode(range);\n        if (isElement(node)) {\n          return showCaret(direction, editor, node, direction === HDirection.Backwards, false);\n        }\n      }\n      var caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      if (isBeforeFn(caretPosition)) {\n        return selectNode(editor, caretPosition.getNode(!forwards));\n      }\n      var nextCaretPosition = normalizePosition(forwards, getNextPosFn(caretPosition));\n      var rangeIsInContainerBlock = isRangeInCaretContainerBlock(range);\n      if (!nextCaretPosition) {\n        return rangeIsInContainerBlock ? Optional.some(range) : Optional.none();\n      }\n      if (isBeforeFn(nextCaretPosition)) {\n        return showCaret(direction, editor, nextCaretPosition.getNode(!forwards), forwards, false);\n      }\n      var peekCaretPosition = getNextPosFn(nextCaretPosition);\n      if (peekCaretPosition && isBeforeFn(peekCaretPosition)) {\n        if (isMoveInsideSameBlock(nextCaretPosition, peekCaretPosition)) {\n          return showCaret(direction, editor, peekCaretPosition.getNode(!forwards), forwards, false);\n        }\n      }\n      if (rangeIsInContainerBlock) {\n        return renderRangeCaretOpt(editor, nextCaretPosition.toRange(), false);\n      }\n      return Optional.none();\n    };\n    var moveVertically = function (editor, direction, range, isBefore, isAfter, isElement) {\n      var caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      var caretClientRect = last$1(caretPosition.getClientRects());\n      var forwards = direction === VDirection.Down;\n      if (!caretClientRect) {\n        return Optional.none();\n      }\n      var walkerFn = forwards ? downUntil : upUntil;\n      var linePositions = walkerFn(editor.getBody(), isAboveLine(1), caretPosition);\n      var nextLinePositions = filter$4(linePositions, isLine(1));\n      var clientX = caretClientRect.left;\n      var nextLineRect = findClosestClientRect(nextLinePositions, clientX);\n      if (nextLineRect && isElement(nextLineRect.node)) {\n        var dist1 = Math.abs(clientX - nextLineRect.left);\n        var dist2 = Math.abs(clientX - nextLineRect.right);\n        return showCaret(direction, editor, nextLineRect.node, dist1 < dist2, false);\n      }\n      var currentNode;\n      if (isBefore(caretPosition)) {\n        currentNode = caretPosition.getNode();\n      } else if (isAfter(caretPosition)) {\n        currentNode = caretPosition.getNode(true);\n      } else {\n        currentNode = getSelectedNode(range);\n      }\n      if (currentNode) {\n        var caretPositions = positionsUntil(direction, editor.getBody(), isAboveLine(1), currentNode);\n        var closestNextLineRect = findClosestClientRect(filter$4(caretPositions, isLine(1)), clientX);\n        if (closestNextLineRect) {\n          return renderRangeCaretOpt(editor, closestNextLineRect.position.toRange(), false);\n        }\n        closestNextLineRect = last$1(filter$4(caretPositions, isLine(0)));\n        if (closestNextLineRect) {\n          return renderRangeCaretOpt(editor, closestNextLineRect.position.toRange(), false);\n        }\n      }\n      if (nextLinePositions.length === 0) {\n        return getLineEndPoint(editor, forwards).filter(forwards ? isAfter : isBefore).map(function (pos) {\n          return renderRangeCaret(editor, pos.toRange(), false);\n        });\n      }\n      return Optional.none();\n    };\n    var getLineEndPoint = function (editor, forward) {\n      var rng = editor.selection.getRng();\n      var body = editor.getBody();\n      if (forward) {\n        var from = CaretPosition.fromRangeEnd(rng);\n        var result = getPositionsUntilNextLine(body, from);\n        return last$2(result.positions);\n      } else {\n        var from = CaretPosition.fromRangeStart(rng);\n        var result = getPositionsUntilPreviousLine(body, from);\n        return head(result.positions);\n      }\n    };\n    var moveToLineEndPoint$3 = function (editor, forward, isElementPosition) {\n      return getLineEndPoint(editor, forward).filter(isElementPosition).exists(function (pos) {\n        editor.selection.setRng(pos.toRange());\n        return true;\n      });\n    };\n\n    var setCaretPosition = function (editor, pos) {\n      var rng = editor.dom.createRng();\n      rng.setStart(pos.container(), pos.offset());\n      rng.setEnd(pos.container(), pos.offset());\n      editor.selection.setRng(rng);\n    };\n    var setSelected = function (state, elm) {\n      if (state) {\n        elm.setAttribute('data-mce-selected', 'inline-boundary');\n      } else {\n        elm.removeAttribute('data-mce-selected');\n      }\n    };\n    var renderCaretLocation = function (editor, caret, location) {\n      return renderCaret(caret, location).map(function (pos) {\n        setCaretPosition(editor, pos);\n        return location;\n      });\n    };\n    var findLocation = function (editor, caret, forward) {\n      var rootNode = editor.getBody();\n      var from = CaretPosition.fromRangeStart(editor.selection.getRng());\n      var isInlineTarget$1 = curry(isInlineTarget, editor);\n      var location = findLocation$1(forward, isInlineTarget$1, rootNode, from);\n      return location.bind(function (location) {\n        return renderCaretLocation(editor, caret, location);\n      });\n    };\n    var toggleInlines = function (isInlineTarget, dom, elms) {\n      var inlineBoundaries = map$3(descendants(SugarElement.fromDom(dom.getRoot()), '*[data-mce-selected=\"inline-boundary\"]'), function (e) {\n        return e.dom;\n      });\n      var selectedInlines = filter$4(inlineBoundaries, isInlineTarget);\n      var targetInlines = filter$4(elms, isInlineTarget);\n      each$k(difference(selectedInlines, targetInlines), curry(setSelected, false));\n      each$k(difference(targetInlines, selectedInlines), curry(setSelected, true));\n    };\n    var safeRemoveCaretContainer = function (editor, caret) {\n      if (editor.selection.isCollapsed() && editor.composing !== true && caret.get()) {\n        var pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n        if (CaretPosition.isTextPosition(pos) && isAtZwsp(pos) === false) {\n          setCaretPosition(editor, removeAndReposition(caret.get(), pos));\n          caret.set(null);\n        }\n      }\n    };\n    var renderInsideInlineCaret = function (isInlineTarget, editor, caret, elms) {\n      if (editor.selection.isCollapsed()) {\n        var inlines = filter$4(elms, isInlineTarget);\n        each$k(inlines, function (_inline) {\n          var pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n          readLocation(isInlineTarget, editor.getBody(), pos).bind(function (location) {\n            return renderCaretLocation(editor, caret, location);\n          });\n        });\n      }\n    };\n    var move$2 = function (editor, caret, forward) {\n      return isInlineBoundariesEnabled(editor) ? findLocation(editor, caret, forward).isSome() : false;\n    };\n    var moveWord = function (forward, editor, _caret) {\n      return isInlineBoundariesEnabled(editor) ? moveByWord(forward, editor) : false;\n    };\n    var setupSelectedState = function (editor) {\n      var caret = Cell(null);\n      var isInlineTarget$1 = curry(isInlineTarget, editor);\n      editor.on('NodeChange', function (e) {\n        if (isInlineBoundariesEnabled(editor) && !(Env.browser.isIE() && e.initial)) {\n          toggleInlines(isInlineTarget$1, editor.dom, e.parents);\n          safeRemoveCaretContainer(editor, caret);\n          renderInsideInlineCaret(isInlineTarget$1, editor, caret, e.parents);\n        }\n      });\n      return caret;\n    };\n    var moveNextWord = curry(moveWord, true);\n    var movePrevWord = curry(moveWord, false);\n    var moveToLineEndPoint$2 = function (editor, forward, caret) {\n      if (isInlineBoundariesEnabled(editor)) {\n        var linePoint = getLineEndPoint(editor, forward).getOrThunk(function () {\n          var rng = editor.selection.getRng();\n          return forward ? CaretPosition.fromRangeEnd(rng) : CaretPosition.fromRangeStart(rng);\n        });\n        return readLocation(curry(isInlineTarget, editor), editor.getBody(), linePoint).exists(function (loc) {\n          var outsideLoc = outside(loc);\n          return renderCaret(caret, outsideLoc).exists(function (pos) {\n            setCaretPosition(editor, pos);\n            return true;\n          });\n        });\n      } else {\n        return false;\n      }\n    };\n\n    var rangeFromPositions = function (from, to) {\n      var range = document.createRange();\n      range.setStart(from.container(), from.offset());\n      range.setEnd(to.container(), to.offset());\n      return range;\n    };\n    var hasOnlyTwoOrLessPositionsLeft = function (elm) {\n      return lift2(firstPositionIn(elm), lastPositionIn(elm), function (firstPos, lastPos) {\n        var normalizedFirstPos = normalizePosition(true, firstPos);\n        var normalizedLastPos = normalizePosition(false, lastPos);\n        return nextPosition(elm, normalizedFirstPos).forall(function (pos) {\n          return pos.isEqual(normalizedLastPos);\n        });\n      }).getOr(true);\n    };\n    var setCaretLocation = function (editor, caret) {\n      return function (location) {\n        return renderCaret(caret, location).exists(function (pos) {\n          setCaretPosition(editor, pos);\n          return true;\n        });\n      };\n    };\n    var deleteFromTo = function (editor, caret, from, to) {\n      var rootNode = editor.getBody();\n      var isInlineTarget$1 = curry(isInlineTarget, editor);\n      editor.undoManager.ignore(function () {\n        editor.selection.setRng(rangeFromPositions(from, to));\n        editor.execCommand('Delete');\n        readLocation(isInlineTarget$1, rootNode, CaretPosition.fromRangeStart(editor.selection.getRng())).map(inside).map(setCaretLocation(editor, caret));\n      });\n      editor.nodeChanged();\n    };\n    var rescope = function (rootNode, node) {\n      var parentBlock = getParentBlock$2(node, rootNode);\n      return parentBlock ? parentBlock : rootNode;\n    };\n    var backspaceDeleteCollapsed = function (editor, caret, forward, from) {\n      var rootNode = rescope(editor.getBody(), from.container());\n      var isInlineTarget$1 = curry(isInlineTarget, editor);\n      var fromLocation = readLocation(isInlineTarget$1, rootNode, from);\n      return fromLocation.bind(function (location) {\n        if (forward) {\n          return location.fold(constant(Optional.some(inside(location))), Optional.none, constant(Optional.some(outside(location))), Optional.none);\n        } else {\n          return location.fold(Optional.none, constant(Optional.some(outside(location))), Optional.none, constant(Optional.some(inside(location))));\n        }\n      }).map(setCaretLocation(editor, caret)).getOrThunk(function () {\n        var toPosition = navigate(forward, rootNode, from);\n        var toLocation = toPosition.bind(function (pos) {\n          return readLocation(isInlineTarget$1, rootNode, pos);\n        });\n        return lift2(fromLocation, toLocation, function () {\n          return findRootInline(isInlineTarget$1, rootNode, from).exists(function (elm) {\n            if (hasOnlyTwoOrLessPositionsLeft(elm)) {\n              deleteElement$2(editor, forward, SugarElement.fromDom(elm));\n              return true;\n            } else {\n              return false;\n            }\n          });\n        }).orThunk(function () {\n          return toLocation.bind(function (_) {\n            return toPosition.map(function (to) {\n              if (forward) {\n                deleteFromTo(editor, caret, from, to);\n              } else {\n                deleteFromTo(editor, caret, to, from);\n              }\n              return true;\n            });\n          });\n        }).getOr(false);\n      });\n    };\n    var backspaceDelete$3 = function (editor, caret, forward) {\n      if (editor.selection.isCollapsed() && isInlineBoundariesEnabled(editor)) {\n        var from = CaretPosition.fromRangeStart(editor.selection.getRng());\n        return backspaceDeleteCollapsed(editor, caret, forward, from);\n      }\n      return false;\n    };\n\n    var getParentInlines = function (rootElm, startElm) {\n      var parents = parentsAndSelf(startElm, rootElm);\n      return findIndex$2(parents, isBlock$2).fold(constant(parents), function (index) {\n        return parents.slice(0, index);\n      });\n    };\n    var hasOnlyOneChild = function (elm) {\n      return childNodesCount(elm) === 1;\n    };\n    var deleteLastPosition = function (forward, editor, target, parentInlines) {\n      var isFormatElement$1 = curry(isFormatElement, editor);\n      var formatNodes = map$3(filter$4(parentInlines, isFormatElement$1), function (elm) {\n        return elm.dom;\n      });\n      if (formatNodes.length === 0) {\n        deleteElement$2(editor, forward, target);\n      } else {\n        var pos = replaceWithCaretFormat(target.dom, formatNodes);\n        editor.selection.setRng(pos.toRange());\n      }\n    };\n    var deleteCaret$1 = function (editor, forward) {\n      var rootElm = SugarElement.fromDom(editor.getBody());\n      var startElm = SugarElement.fromDom(editor.selection.getStart());\n      var parentInlines = filter$4(getParentInlines(rootElm, startElm), hasOnlyOneChild);\n      return last$2(parentInlines).exists(function (target) {\n        var fromPos = CaretPosition.fromRangeStart(editor.selection.getRng());\n        if (willDeleteLastPositionInElement(forward, fromPos, target.dom) && !isEmptyCaretFormatElement(target)) {\n          deleteLastPosition(forward, editor, target, parentInlines);\n          return true;\n        } else {\n          return false;\n        }\n      });\n    };\n    var backspaceDelete$2 = function (editor, forward) {\n      return editor.selection.isCollapsed() ? deleteCaret$1(editor, forward) : false;\n    };\n\n    var deleteElement = function (editor, forward, element) {\n      editor._selectionOverrides.hideFakeCaret();\n      deleteElement$2(editor, forward, SugarElement.fromDom(element));\n      return true;\n    };\n    var deleteCaret = function (editor, forward) {\n      var isNearMedia = forward ? isBeforeMedia : isAfterMedia;\n      var direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      var fromPos = getNormalizedRangeEndPoint(direction, editor.getBody(), editor.selection.getRng());\n      if (isNearMedia(fromPos)) {\n        return deleteElement(editor, forward, fromPos.getNode(!forward));\n      } else {\n        return Optional.from(normalizePosition(forward, fromPos)).filter(function (pos) {\n          return isNearMedia(pos) && isMoveInsideSameBlock(fromPos, pos);\n        }).exists(function (pos) {\n          return deleteElement(editor, forward, pos.getNode(!forward));\n        });\n      }\n    };\n    var deleteRange = function (editor, forward) {\n      var selectedNode = editor.selection.getNode();\n      return isMedia$2(selectedNode) ? deleteElement(editor, forward, selectedNode) : false;\n    };\n    var backspaceDelete$1 = function (editor, forward) {\n      return editor.selection.isCollapsed() ? deleteCaret(editor, forward) : deleteRange(editor, forward);\n    };\n\n    var isEditable = function (target) {\n      return closest$3(target, function (elm) {\n        return isContentEditableTrue$4(elm.dom) || isContentEditableFalse$b(elm.dom);\n      }).exists(function (elm) {\n        return isContentEditableTrue$4(elm.dom);\n      });\n    };\n    var parseIndentValue = function (value) {\n      var number = parseInt(value, 10);\n      return isNaN(number) ? 0 : number;\n    };\n    var getIndentStyleName = function (useMargin, element) {\n      var indentStyleName = useMargin || isTable$2(element) ? 'margin' : 'padding';\n      var suffix = get$5(element, 'direction') === 'rtl' ? '-right' : '-left';\n      return indentStyleName + suffix;\n    };\n    var indentElement = function (dom, command, useMargin, value, unit, element) {\n      var indentStyleName = getIndentStyleName(useMargin, SugarElement.fromDom(element));\n      if (command === 'outdent') {\n        var styleValue = Math.max(0, parseIndentValue(element.style[indentStyleName]) - value);\n        dom.setStyle(element, indentStyleName, styleValue ? styleValue + unit : '');\n      } else {\n        var styleValue = parseIndentValue(element.style[indentStyleName]) + value + unit;\n        dom.setStyle(element, indentStyleName, styleValue);\n      }\n    };\n    var validateBlocks = function (editor, blocks) {\n      return forall(blocks, function (block) {\n        var indentStyleName = getIndentStyleName(shouldIndentUseMargin(editor), block);\n        var intentValue = getRaw(block, indentStyleName).map(parseIndentValue).getOr(0);\n        var contentEditable = editor.dom.getContentEditable(block.dom);\n        return contentEditable !== 'false' && intentValue > 0;\n      });\n    };\n    var canOutdent = function (editor) {\n      var blocks = getBlocksToIndent(editor);\n      return !editor.mode.isReadOnly() && (blocks.length > 1 || validateBlocks(editor, blocks));\n    };\n    var isListComponent = function (el) {\n      return isList(el) || isListItem(el);\n    };\n    var parentIsListComponent = function (el) {\n      return parent(el).exists(isListComponent);\n    };\n    var getBlocksToIndent = function (editor) {\n      return filter$4(fromDom$1(editor.selection.getSelectedBlocks()), function (el) {\n        return !isListComponent(el) && !parentIsListComponent(el) && isEditable(el);\n      });\n    };\n    var handle = function (editor, command) {\n      var dom = editor.dom, selection = editor.selection, formatter = editor.formatter;\n      var indentation = getIndentation(editor);\n      var indentUnit = /[a-z%]+$/i.exec(indentation)[0];\n      var indentValue = parseInt(indentation, 10);\n      var useMargin = shouldIndentUseMargin(editor);\n      var forcedRootBlock = getForcedRootBlock(editor);\n      if (!editor.queryCommandState('InsertUnorderedList') && !editor.queryCommandState('InsertOrderedList')) {\n        if (forcedRootBlock === '' && !dom.getParent(selection.getNode(), dom.isBlock)) {\n          formatter.apply('div');\n        }\n      }\n      each$k(getBlocksToIndent(editor), function (block) {\n        indentElement(dom, command, useMargin, indentValue, indentUnit, block.dom);\n      });\n    };\n\n    var backspaceDelete = function (editor, _forward) {\n      if (editor.selection.isCollapsed() && canOutdent(editor)) {\n        var dom = editor.dom;\n        var rng = editor.selection.getRng();\n        var pos = CaretPosition.fromRangeStart(rng);\n        var block = dom.getParent(rng.startContainer, dom.isBlock);\n        if (block !== null && isAtStartOfBlock(SugarElement.fromDom(block), pos)) {\n          handle(editor, 'outdent');\n          return true;\n        }\n      }\n      return false;\n    };\n\n    var nativeCommand = function (editor, command) {\n      editor.getDoc().execCommand(command, false, null);\n    };\n    var deleteCommand = function (editor, caret) {\n      if (backspaceDelete(editor)) {\n        return;\n      } else if (backspaceDelete$5(editor, false)) {\n        return;\n      } else if (backspaceDelete$6(editor, false)) {\n        return;\n      } else if (backspaceDelete$3(editor, caret, false)) {\n        return;\n      } else if (backspaceDelete$8(editor, false)) {\n        return;\n      } else if (backspaceDelete$9(editor)) {\n        return;\n      } else if (backspaceDelete$4(editor, false)) {\n        return;\n      } else if (backspaceDelete$1(editor, false)) {\n        return;\n      } else if (backspaceDelete$7(editor)) {\n        return;\n      } else if (backspaceDelete$2(editor, false)) {\n        return;\n      } else {\n        nativeCommand(editor, 'Delete');\n        paddEmptyBody(editor);\n      }\n    };\n    var forwardDeleteCommand = function (editor, caret) {\n      if (backspaceDelete$5(editor, true)) {\n        return;\n      } else if (backspaceDelete$6(editor, true)) {\n        return;\n      } else if (backspaceDelete$3(editor, caret, true)) {\n        return;\n      } else if (backspaceDelete$8(editor, true)) {\n        return;\n      } else if (backspaceDelete$9(editor)) {\n        return;\n      } else if (backspaceDelete$4(editor, true)) {\n        return;\n      } else if (backspaceDelete$1(editor, true)) {\n        return;\n      } else if (backspaceDelete$7(editor)) {\n        return;\n      } else if (backspaceDelete$2(editor, true)) {\n        return;\n      } else {\n        nativeCommand(editor, 'ForwardDelete');\n      }\n    };\n    var setup$f = function (editor, caret) {\n      editor.addCommand('delete', function () {\n        deleteCommand(editor, caret);\n      });\n      editor.addCommand('forwardDelete', function () {\n        forwardDeleteCommand(editor, caret);\n      });\n    };\n\n    var SIGNIFICANT_MOVE = 5;\n    var LONGPRESS_DELAY = 400;\n    var getTouch = function (event) {\n      if (event.touches === undefined || event.touches.length !== 1) {\n        return Optional.none();\n      }\n      return Optional.some(event.touches[0]);\n    };\n    var isFarEnough = function (touch, data) {\n      var distX = Math.abs(touch.clientX - data.x);\n      var distY = Math.abs(touch.clientY - data.y);\n      return distX > SIGNIFICANT_MOVE || distY > SIGNIFICANT_MOVE;\n    };\n    var setup$e = function (editor) {\n      var startData = value();\n      var longpressFired = Cell(false);\n      var debounceLongpress = last(function (e) {\n        editor.fire('longpress', __assign(__assign({}, e), { type: 'longpress' }));\n        longpressFired.set(true);\n      }, LONGPRESS_DELAY);\n      editor.on('touchstart', function (e) {\n        getTouch(e).each(function (touch) {\n          debounceLongpress.cancel();\n          var data = {\n            x: touch.clientX,\n            y: touch.clientY,\n            target: e.target\n          };\n          debounceLongpress.throttle(e);\n          longpressFired.set(false);\n          startData.set(data);\n        });\n      }, true);\n      editor.on('touchmove', function (e) {\n        debounceLongpress.cancel();\n        getTouch(e).each(function (touch) {\n          startData.on(function (data) {\n            if (isFarEnough(touch, data)) {\n              startData.clear();\n              longpressFired.set(false);\n              editor.fire('longpresscancel');\n            }\n          });\n        });\n      }, true);\n      editor.on('touchend touchcancel', function (e) {\n        debounceLongpress.cancel();\n        if (e.type === 'touchcancel') {\n          return;\n        }\n        startData.get().filter(function (data) {\n          return data.target.isEqualNode(e.target);\n        }).each(function () {\n          if (longpressFired.get()) {\n            e.preventDefault();\n          } else {\n            editor.fire('tap', __assign(__assign({}, e), { type: 'tap' }));\n          }\n        });\n      }, true);\n    };\n\n    var isBlockElement = function (blockElements, node) {\n      return has$2(blockElements, node.nodeName);\n    };\n    var isValidTarget = function (blockElements, node) {\n      if (isText$7(node)) {\n        return true;\n      } else if (isElement$5(node)) {\n        return !isBlockElement(blockElements, node) && !isBookmarkNode$1(node);\n      } else {\n        return false;\n      }\n    };\n    var hasBlockParent = function (blockElements, root, node) {\n      return exists(parents(SugarElement.fromDom(node), SugarElement.fromDom(root)), function (elm) {\n        return isBlockElement(blockElements, elm.dom);\n      });\n    };\n    var shouldRemoveTextNode = function (blockElements, node) {\n      if (isText$7(node)) {\n        if (node.nodeValue.length === 0) {\n          return true;\n        } else if (/^\\s+$/.test(node.nodeValue) && (!node.nextSibling || isBlockElement(blockElements, node.nextSibling))) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var addRootBlocks = function (editor) {\n      var dom = editor.dom, selection = editor.selection;\n      var schema = editor.schema, blockElements = schema.getBlockElements();\n      var node = selection.getStart();\n      var rootNode = editor.getBody();\n      var rootBlockNode, tempNode, wrapped;\n      var forcedRootBlock = getForcedRootBlock(editor);\n      if (!node || !isElement$5(node) || !forcedRootBlock) {\n        return;\n      }\n      var rootNodeName = rootNode.nodeName.toLowerCase();\n      if (!schema.isValidChild(rootNodeName, forcedRootBlock.toLowerCase()) || hasBlockParent(blockElements, rootNode, node)) {\n        return;\n      }\n      var rng = selection.getRng();\n      var startContainer = rng.startContainer;\n      var startOffset = rng.startOffset;\n      var endContainer = rng.endContainer;\n      var endOffset = rng.endOffset;\n      var restoreSelection = hasFocus(editor);\n      node = rootNode.firstChild;\n      while (node) {\n        if (isValidTarget(blockElements, node)) {\n          if (shouldRemoveTextNode(blockElements, node)) {\n            tempNode = node;\n            node = node.nextSibling;\n            dom.remove(tempNode);\n            continue;\n          }\n          if (!rootBlockNode) {\n            rootBlockNode = dom.create(forcedRootBlock, getForcedRootBlockAttrs(editor));\n            node.parentNode.insertBefore(rootBlockNode, node);\n            wrapped = true;\n          }\n          tempNode = node;\n          node = node.nextSibling;\n          rootBlockNode.appendChild(tempNode);\n        } else {\n          rootBlockNode = null;\n          node = node.nextSibling;\n        }\n      }\n      if (wrapped && restoreSelection) {\n        rng.setStart(startContainer, startOffset);\n        rng.setEnd(endContainer, endOffset);\n        selection.setRng(rng);\n        editor.nodeChanged();\n      }\n    };\n    var setup$d = function (editor) {\n      if (getForcedRootBlock(editor)) {\n        editor.on('NodeChange', curry(addRootBlocks, editor));\n      }\n    };\n\n    var findBlockCaretContainer = function (editor) {\n      return descendant(SugarElement.fromDom(editor.getBody()), '*[data-mce-caret]').map(function (elm) {\n        return elm.dom;\n      }).getOrNull();\n    };\n    var removeIeControlRect = function (editor) {\n      editor.selection.setRng(editor.selection.getRng());\n    };\n    var showBlockCaretContainer = function (editor, blockCaretContainer) {\n      if (blockCaretContainer.hasAttribute('data-mce-caret')) {\n        showCaretContainerBlock(blockCaretContainer);\n        removeIeControlRect(editor);\n        editor.selection.scrollIntoView(blockCaretContainer);\n      }\n    };\n    var handleBlockContainer = function (editor, e) {\n      var blockCaretContainer = findBlockCaretContainer(editor);\n      if (!blockCaretContainer) {\n        return;\n      }\n      if (e.type === 'compositionstart') {\n        e.preventDefault();\n        e.stopPropagation();\n        showBlockCaretContainer(editor, blockCaretContainer);\n        return;\n      }\n      if (hasContent(blockCaretContainer)) {\n        showBlockCaretContainer(editor, blockCaretContainer);\n        editor.undoManager.add();\n      }\n    };\n    var setup$c = function (editor) {\n      editor.on('keyup compositionstart', curry(handleBlockContainer, editor));\n    };\n\n    var isContentEditableFalse$2 = isContentEditableFalse$b;\n    var moveToCeFalseHorizontally = function (direction, editor, range) {\n      return moveHorizontally(editor, direction, range, isBeforeContentEditableFalse, isAfterContentEditableFalse, isContentEditableFalse$2);\n    };\n    var moveToCeFalseVertically = function (direction, editor, range) {\n      var isBefore = function (caretPosition) {\n        return isBeforeContentEditableFalse(caretPosition) || isBeforeTable(caretPosition);\n      };\n      var isAfter = function (caretPosition) {\n        return isAfterContentEditableFalse(caretPosition) || isAfterTable(caretPosition);\n      };\n      return moveVertically(editor, direction, range, isBefore, isAfter, isContentEditableFalse$2);\n    };\n    var createTextBlock = function (editor) {\n      var textBlock = editor.dom.create(getForcedRootBlock(editor));\n      if (!Env.ie || Env.ie >= 11) {\n        textBlock.innerHTML = '<br data-mce-bogus=\"1\">';\n      }\n      return textBlock;\n    };\n    var exitPreBlock = function (editor, direction, range) {\n      var caretWalker = CaretWalker(editor.getBody());\n      var getVisualCaretPosition$1 = curry(getVisualCaretPosition, direction === 1 ? caretWalker.next : caretWalker.prev);\n      if (range.collapsed && hasForcedRootBlock(editor)) {\n        var pre = editor.dom.getParent(range.startContainer, 'PRE');\n        if (!pre) {\n          return;\n        }\n        var caretPos = getVisualCaretPosition$1(CaretPosition.fromRangeStart(range));\n        if (!caretPos) {\n          var newBlock = createTextBlock(editor);\n          if (direction === 1) {\n            editor.$(pre).after(newBlock);\n          } else {\n            editor.$(pre).before(newBlock);\n          }\n          editor.selection.select(newBlock, true);\n          editor.selection.collapse();\n        }\n      }\n    };\n    var getHorizontalRange = function (editor, forward) {\n      var direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      var range = editor.selection.getRng();\n      return moveToCeFalseHorizontally(direction, editor, range).orThunk(function () {\n        exitPreBlock(editor, direction, range);\n        return Optional.none();\n      });\n    };\n    var getVerticalRange = function (editor, down) {\n      var direction = down ? 1 : -1;\n      var range = editor.selection.getRng();\n      return moveToCeFalseVertically(direction, editor, range).orThunk(function () {\n        exitPreBlock(editor, direction, range);\n        return Optional.none();\n      });\n    };\n    var moveH$2 = function (editor, forward) {\n      return getHorizontalRange(editor, forward).exists(function (newRange) {\n        moveToRange(editor, newRange);\n        return true;\n      });\n    };\n    var moveV$3 = function (editor, down) {\n      return getVerticalRange(editor, down).exists(function (newRange) {\n        moveToRange(editor, newRange);\n        return true;\n      });\n    };\n    var moveToLineEndPoint$1 = function (editor, forward) {\n      var isCefPosition = forward ? isAfterContentEditableFalse : isBeforeContentEditableFalse;\n      return moveToLineEndPoint$3(editor, forward, isCefPosition);\n    };\n\n    var isTarget = function (node) {\n      return contains$3(['figcaption'], name(node));\n    };\n    var rangeBefore = function (target) {\n      var rng = document.createRange();\n      rng.setStartBefore(target.dom);\n      rng.setEndBefore(target.dom);\n      return rng;\n    };\n    var insertElement = function (root, elm, forward) {\n      if (forward) {\n        append$1(root, elm);\n      } else {\n        prepend(root, elm);\n      }\n    };\n    var insertBr = function (root, forward) {\n      var br = SugarElement.fromTag('br');\n      insertElement(root, br, forward);\n      return rangeBefore(br);\n    };\n    var insertBlock = function (root, forward, blockName, attrs) {\n      var block = SugarElement.fromTag(blockName);\n      var br = SugarElement.fromTag('br');\n      setAll$1(block, attrs);\n      append$1(block, br);\n      insertElement(root, block, forward);\n      return rangeBefore(br);\n    };\n    var insertEmptyLine = function (root, rootBlockName, attrs, forward) {\n      if (rootBlockName === '') {\n        return insertBr(root, forward);\n      } else {\n        return insertBlock(root, forward, rootBlockName, attrs);\n      }\n    };\n    var getClosestTargetBlock = function (pos, root) {\n      var isRoot = curry(eq, root);\n      return closest$3(SugarElement.fromDom(pos.container()), isBlock$2, isRoot).filter(isTarget);\n    };\n    var isAtFirstOrLastLine = function (root, forward, pos) {\n      return forward ? isAtLastLine(root.dom, pos) : isAtFirstLine(root.dom, pos);\n    };\n    var moveCaretToNewEmptyLine = function (editor, forward) {\n      var root = SugarElement.fromDom(editor.getBody());\n      var pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      var rootBlock = getForcedRootBlock(editor);\n      var rootBlockAttrs = getForcedRootBlockAttrs(editor);\n      return getClosestTargetBlock(pos, root).exists(function () {\n        if (isAtFirstOrLastLine(root, forward, pos)) {\n          var rng = insertEmptyLine(root, rootBlock, rootBlockAttrs, forward);\n          editor.selection.setRng(rng);\n          return true;\n        } else {\n          return false;\n        }\n      });\n    };\n    var moveV$2 = function (editor, forward) {\n      if (editor.selection.isCollapsed()) {\n        return moveCaretToNewEmptyLine(editor, forward);\n      } else {\n        return false;\n      }\n    };\n\n    var defaultPatterns = function (patterns) {\n      return map$3(patterns, function (pattern) {\n        return __assign({\n          shiftKey: false,\n          altKey: false,\n          ctrlKey: false,\n          metaKey: false,\n          keyCode: 0,\n          action: noop\n        }, pattern);\n      });\n    };\n    var matchesEvent = function (pattern, evt) {\n      return evt.keyCode === pattern.keyCode && evt.shiftKey === pattern.shiftKey && evt.altKey === pattern.altKey && evt.ctrlKey === pattern.ctrlKey && evt.metaKey === pattern.metaKey;\n    };\n    var match$1 = function (patterns, evt) {\n      return bind(defaultPatterns(patterns), function (pattern) {\n        return matchesEvent(pattern, evt) ? [pattern] : [];\n      });\n    };\n    var action = function (f) {\n      var x = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        x[_i - 1] = arguments[_i];\n      }\n      return function () {\n        return f.apply(null, x);\n      };\n    };\n    var execute = function (patterns, evt) {\n      return find$3(match$1(patterns, evt), function (pattern) {\n        return pattern.action();\n      });\n    };\n\n    var moveH$1 = function (editor, forward) {\n      var direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      var range = editor.selection.getRng();\n      return moveHorizontally(editor, direction, range, isBeforeMedia, isAfterMedia, isMedia$2).exists(function (newRange) {\n        moveToRange(editor, newRange);\n        return true;\n      });\n    };\n    var moveV$1 = function (editor, down) {\n      var direction = down ? 1 : -1;\n      var range = editor.selection.getRng();\n      return moveVertically(editor, direction, range, isBeforeMedia, isAfterMedia, isMedia$2).exists(function (newRange) {\n        moveToRange(editor, newRange);\n        return true;\n      });\n    };\n    var moveToLineEndPoint = function (editor, forward) {\n      var isNearMedia = forward ? isAfterMedia : isBeforeMedia;\n      return moveToLineEndPoint$3(editor, forward, isNearMedia);\n    };\n\n    var deflate = function (rect, delta) {\n      return {\n        left: rect.left - delta,\n        top: rect.top - delta,\n        right: rect.right + delta * 2,\n        bottom: rect.bottom + delta * 2,\n        width: rect.width + delta,\n        height: rect.height + delta\n      };\n    };\n    var getCorners = function (getYAxisValue, tds) {\n      return bind(tds, function (td) {\n        var rect = deflate(clone(td.getBoundingClientRect()), -1);\n        return [\n          {\n            x: rect.left,\n            y: getYAxisValue(rect),\n            cell: td\n          },\n          {\n            x: rect.right,\n            y: getYAxisValue(rect),\n            cell: td\n          }\n        ];\n      });\n    };\n    var findClosestCorner = function (corners, x, y) {\n      return foldl(corners, function (acc, newCorner) {\n        return acc.fold(function () {\n          return Optional.some(newCorner);\n        }, function (oldCorner) {\n          var oldDist = Math.sqrt(Math.abs(oldCorner.x - x) + Math.abs(oldCorner.y - y));\n          var newDist = Math.sqrt(Math.abs(newCorner.x - x) + Math.abs(newCorner.y - y));\n          return Optional.some(newDist < oldDist ? newCorner : oldCorner);\n        });\n      }, Optional.none());\n    };\n    var getClosestCell = function (getYAxisValue, isTargetCorner, table, x, y) {\n      var cells = descendants(SugarElement.fromDom(table), 'td,th,caption').map(function (e) {\n        return e.dom;\n      });\n      var corners = filter$4(getCorners(getYAxisValue, cells), function (corner) {\n        return isTargetCorner(corner, y);\n      });\n      return findClosestCorner(corners, x, y).map(function (corner) {\n        return corner.cell;\n      });\n    };\n    var getBottomValue = function (rect) {\n      return rect.bottom;\n    };\n    var getTopValue = function (rect) {\n      return rect.top;\n    };\n    var isAbove = function (corner, y) {\n      return corner.y < y;\n    };\n    var isBelow = function (corner, y) {\n      return corner.y > y;\n    };\n    var getClosestCellAbove = curry(getClosestCell, getBottomValue, isAbove);\n    var getClosestCellBelow = curry(getClosestCell, getTopValue, isBelow);\n    var findClosestPositionInAboveCell = function (table, pos) {\n      return head(pos.getClientRects()).bind(function (rect) {\n        return getClosestCellAbove(table, rect.left, rect.top);\n      }).bind(function (cell) {\n        return findClosestHorizontalPosition(getLastLinePositions(cell), pos);\n      });\n    };\n    var findClosestPositionInBelowCell = function (table, pos) {\n      return last$2(pos.getClientRects()).bind(function (rect) {\n        return getClosestCellBelow(table, rect.left, rect.top);\n      }).bind(function (cell) {\n        return findClosestHorizontalPosition(getFirstLinePositions(cell), pos);\n      });\n    };\n\n    var hasNextBreak = function (getPositionsUntil, scope, lineInfo) {\n      return lineInfo.breakAt.exists(function (breakPos) {\n        return getPositionsUntil(scope, breakPos).breakAt.isSome();\n      });\n    };\n    var startsWithWrapBreak = function (lineInfo) {\n      return lineInfo.breakType === BreakType.Wrap && lineInfo.positions.length === 0;\n    };\n    var startsWithBrBreak = function (lineInfo) {\n      return lineInfo.breakType === BreakType.Br && lineInfo.positions.length === 1;\n    };\n    var isAtTableCellLine = function (getPositionsUntil, scope, pos) {\n      var lineInfo = getPositionsUntil(scope, pos);\n      if (startsWithWrapBreak(lineInfo) || !isBr$5(pos.getNode()) && startsWithBrBreak(lineInfo)) {\n        return !hasNextBreak(getPositionsUntil, scope, lineInfo);\n      } else {\n        return lineInfo.breakAt.isNone();\n      }\n    };\n    var isAtFirstTableCellLine = curry(isAtTableCellLine, getPositionsUntilPreviousLine);\n    var isAtLastTableCellLine = curry(isAtTableCellLine, getPositionsUntilNextLine);\n    var isCaretAtStartOrEndOfTable = function (forward, rng, table) {\n      var caretPos = CaretPosition.fromRangeStart(rng);\n      return positionIn(!forward, table).exists(function (pos) {\n        return pos.isEqual(caretPos);\n      });\n    };\n    var navigateHorizontally = function (editor, forward, table, _td) {\n      var rng = editor.selection.getRng();\n      var direction = forward ? 1 : -1;\n      if (isFakeCaretTableBrowser() && isCaretAtStartOrEndOfTable(forward, rng, table)) {\n        showCaret(direction, editor, table, !forward, false).each(function (newRng) {\n          moveToRange(editor, newRng);\n        });\n        return true;\n      }\n      return false;\n    };\n    var getClosestAbovePosition = function (root, table, start) {\n      return findClosestPositionInAboveCell(table, start).orThunk(function () {\n        return head(start.getClientRects()).bind(function (rect) {\n          return findClosestHorizontalPositionFromPoint(getPositionsAbove(root, CaretPosition.before(table)), rect.left);\n        });\n      }).getOr(CaretPosition.before(table));\n    };\n    var getClosestBelowPosition = function (root, table, start) {\n      return findClosestPositionInBelowCell(table, start).orThunk(function () {\n        return head(start.getClientRects()).bind(function (rect) {\n          return findClosestHorizontalPositionFromPoint(getPositionsBelow(root, CaretPosition.after(table)), rect.left);\n        });\n      }).getOr(CaretPosition.after(table));\n    };\n    var getTable = function (previous, pos) {\n      var node = pos.getNode(previous);\n      return isElement$5(node) && node.nodeName === 'TABLE' ? Optional.some(node) : Optional.none();\n    };\n    var renderBlock = function (down, editor, table, pos) {\n      var forcedRootBlock = getForcedRootBlock(editor);\n      if (forcedRootBlock) {\n        editor.undoManager.transact(function () {\n          var element = SugarElement.fromTag(forcedRootBlock);\n          setAll$1(element, getForcedRootBlockAttrs(editor));\n          append$1(element, SugarElement.fromTag('br'));\n          if (down) {\n            after$3(SugarElement.fromDom(table), element);\n          } else {\n            before$4(SugarElement.fromDom(table), element);\n          }\n          var rng = editor.dom.createRng();\n          rng.setStart(element.dom, 0);\n          rng.setEnd(element.dom, 0);\n          moveToRange(editor, rng);\n        });\n      } else {\n        moveToRange(editor, pos.toRange());\n      }\n    };\n    var moveCaret = function (editor, down, pos) {\n      var table = down ? getTable(true, pos) : getTable(false, pos);\n      var last = down === false;\n      table.fold(function () {\n        return moveToRange(editor, pos.toRange());\n      }, function (table) {\n        return positionIn(last, editor.getBody()).filter(function (lastPos) {\n          return lastPos.isEqual(pos);\n        }).fold(function () {\n          return moveToRange(editor, pos.toRange());\n        }, function (_) {\n          return renderBlock(down, editor, table, pos);\n        });\n      });\n    };\n    var navigateVertically = function (editor, down, table, td) {\n      var rng = editor.selection.getRng();\n      var pos = CaretPosition.fromRangeStart(rng);\n      var root = editor.getBody();\n      if (!down && isAtFirstTableCellLine(td, pos)) {\n        var newPos = getClosestAbovePosition(root, table, pos);\n        moveCaret(editor, down, newPos);\n        return true;\n      } else if (down && isAtLastTableCellLine(td, pos)) {\n        var newPos = getClosestBelowPosition(root, table, pos);\n        moveCaret(editor, down, newPos);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    var move$1 = function (editor, forward, mover) {\n      return Optional.from(editor.dom.getParent(editor.selection.getNode(), 'td,th')).bind(function (td) {\n        return Optional.from(editor.dom.getParent(td, 'table')).map(function (table) {\n          return mover(editor, forward, table, td);\n        });\n      }).getOr(false);\n    };\n    var moveH = function (editor, forward) {\n      return move$1(editor, forward, navigateHorizontally);\n    };\n    var moveV = function (editor, forward) {\n      return move$1(editor, forward, navigateVertically);\n    };\n\n    var executeKeydownOverride$3 = function (editor, caret, evt) {\n      var os = detect().os;\n      execute([\n        {\n          keyCode: VK.RIGHT,\n          action: action(moveH$2, editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(moveH$2, editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV$3, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV$3, editor, true)\n        },\n        {\n          keyCode: VK.RIGHT,\n          action: action(moveH, editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(moveH, editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV, editor, true)\n        },\n        {\n          keyCode: VK.RIGHT,\n          action: action(moveH$1, editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(moveH$1, editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV$1, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV$1, editor, true)\n        },\n        {\n          keyCode: VK.RIGHT,\n          action: action(move$2, editor, caret, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(move$2, editor, caret, false)\n        },\n        {\n          keyCode: VK.RIGHT,\n          ctrlKey: !os.isOSX(),\n          altKey: os.isOSX(),\n          action: action(moveNextWord, editor, caret)\n        },\n        {\n          keyCode: VK.LEFT,\n          ctrlKey: !os.isOSX(),\n          altKey: os.isOSX(),\n          action: action(movePrevWord, editor, caret)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV$2, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV$2, editor, true)\n        }\n      ], evt).each(function (_) {\n        evt.preventDefault();\n      });\n    };\n    var setup$b = function (editor, caret) {\n      editor.on('keydown', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride$3(editor, caret, evt);\n        }\n      });\n    };\n\n    var executeKeydownOverride$2 = function (editor, caret, evt) {\n      execute([\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete, editor, false)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$5, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$5, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$6, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$6, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$3, editor, caret, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$3, editor, caret, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$9, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$9, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$4, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$4, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$1, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$1, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$7, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$7, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$8, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$8, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$2, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$2, editor, true)\n        }\n      ], evt).each(function (_) {\n        evt.preventDefault();\n      });\n    };\n    var executeKeyupOverride = function (editor, evt) {\n      execute([\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(paddEmptyElement, editor)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(paddEmptyElement, editor)\n        }\n      ], evt);\n    };\n    var setup$a = function (editor, caret) {\n      editor.on('keydown', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride$2(editor, caret, evt);\n        }\n      });\n      editor.on('keyup', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeyupOverride(editor, evt);\n        }\n      });\n    };\n\n    var firstNonWhiteSpaceNodeSibling = function (node) {\n      while (node) {\n        if (node.nodeType === 1 || node.nodeType === 3 && node.data && /[\\r\\n\\s]/.test(node.data)) {\n          return node;\n        }\n        node = node.nextSibling;\n      }\n    };\n    var moveToCaretPosition = function (editor, root) {\n      var node, lastNode = root;\n      var dom = editor.dom;\n      var moveCaretBeforeOnEnterElementsMap = editor.schema.getMoveCaretBeforeOnEnterElements();\n      if (!root) {\n        return;\n      }\n      if (/^(LI|DT|DD)$/.test(root.nodeName)) {\n        var firstChild = firstNonWhiteSpaceNodeSibling(root.firstChild);\n        if (firstChild && /^(UL|OL|DL)$/.test(firstChild.nodeName)) {\n          root.insertBefore(dom.doc.createTextNode(nbsp), root.firstChild);\n        }\n      }\n      var rng = dom.createRng();\n      root.normalize();\n      if (root.hasChildNodes()) {\n        var walker = new DomTreeWalker(root, root);\n        while (node = walker.current()) {\n          if (isText$7(node)) {\n            rng.setStart(node, 0);\n            rng.setEnd(node, 0);\n            break;\n          }\n          if (moveCaretBeforeOnEnterElementsMap[node.nodeName.toLowerCase()]) {\n            rng.setStartBefore(node);\n            rng.setEndBefore(node);\n            break;\n          }\n          lastNode = node;\n          node = walker.next();\n        }\n        if (!node) {\n          rng.setStart(lastNode, 0);\n          rng.setEnd(lastNode, 0);\n        }\n      } else {\n        if (isBr$5(root)) {\n          if (root.nextSibling && dom.isBlock(root.nextSibling)) {\n            rng.setStartBefore(root);\n            rng.setEndBefore(root);\n          } else {\n            rng.setStartAfter(root);\n            rng.setEndAfter(root);\n          }\n        } else {\n          rng.setStart(root, 0);\n          rng.setEnd(root, 0);\n        }\n      }\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, rng);\n    };\n    var getEditableRoot$1 = function (dom, node) {\n      var root = dom.getRoot();\n      var parent, editableRoot;\n      parent = node;\n      while (parent !== root && dom.getContentEditable(parent) !== 'false') {\n        if (dom.getContentEditable(parent) === 'true') {\n          editableRoot = parent;\n        }\n        parent = parent.parentNode;\n      }\n      return parent !== root ? editableRoot : root;\n    };\n    var getParentBlock = function (editor) {\n      return Optional.from(editor.dom.getParent(editor.selection.getStart(true), editor.dom.isBlock));\n    };\n    var getParentBlockName = function (editor) {\n      return getParentBlock(editor).fold(constant(''), function (parentBlock) {\n        return parentBlock.nodeName.toUpperCase();\n      });\n    };\n    var isListItemParentBlock = function (editor) {\n      return getParentBlock(editor).filter(function (elm) {\n        return isListItem(SugarElement.fromDom(elm));\n      }).isSome();\n    };\n\n    var hasFirstChild = function (elm, name) {\n      return elm.firstChild && elm.firstChild.nodeName === name;\n    };\n    var isFirstChild = function (elm) {\n      var _a;\n      return ((_a = elm.parentNode) === null || _a === void 0 ? void 0 : _a.firstChild) === elm;\n    };\n    var hasParent = function (elm, parentName) {\n      return elm && elm.parentNode && elm.parentNode.nodeName === parentName;\n    };\n    var isListBlock = function (elm) {\n      return elm && /^(OL|UL|LI)$/.test(elm.nodeName);\n    };\n    var isNestedList = function (elm) {\n      return isListBlock(elm) && isListBlock(elm.parentNode);\n    };\n    var getContainerBlock = function (containerBlock) {\n      var containerBlockParent = containerBlock.parentNode;\n      if (/^(LI|DT|DD)$/.test(containerBlockParent.nodeName)) {\n        return containerBlockParent;\n      }\n      return containerBlock;\n    };\n    var isFirstOrLastLi = function (containerBlock, parentBlock, first) {\n      var node = containerBlock[first ? 'firstChild' : 'lastChild'];\n      while (node) {\n        if (isElement$5(node)) {\n          break;\n        }\n        node = node[first ? 'nextSibling' : 'previousSibling'];\n      }\n      return node === parentBlock;\n    };\n    var insert$3 = function (editor, createNewBlock, containerBlock, parentBlock, newBlockName) {\n      var dom = editor.dom;\n      var rng = editor.selection.getRng();\n      if (containerBlock === editor.getBody()) {\n        return;\n      }\n      if (isNestedList(containerBlock)) {\n        newBlockName = 'LI';\n      }\n      var newBlock = newBlockName ? createNewBlock(newBlockName) : dom.create('BR');\n      if (isFirstOrLastLi(containerBlock, parentBlock, true) && isFirstOrLastLi(containerBlock, parentBlock, false)) {\n        if (hasParent(containerBlock, 'LI')) {\n          var containerBlockParent = getContainerBlock(containerBlock);\n          dom.insertAfter(newBlock, containerBlockParent);\n          if (isFirstChild(containerBlock)) {\n            dom.remove(containerBlockParent);\n          } else {\n            dom.remove(containerBlock);\n          }\n        } else {\n          dom.replace(newBlock, containerBlock);\n        }\n      } else if (isFirstOrLastLi(containerBlock, parentBlock, true)) {\n        if (hasParent(containerBlock, 'LI')) {\n          dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n          newBlock.appendChild(dom.doc.createTextNode(' '));\n          newBlock.appendChild(containerBlock);\n        } else {\n          containerBlock.parentNode.insertBefore(newBlock, containerBlock);\n        }\n        dom.remove(parentBlock);\n      } else if (isFirstOrLastLi(containerBlock, parentBlock, false)) {\n        dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n        dom.remove(parentBlock);\n      } else {\n        containerBlock = getContainerBlock(containerBlock);\n        var tmpRng = rng.cloneRange();\n        tmpRng.setStartAfter(parentBlock);\n        tmpRng.setEndAfter(containerBlock);\n        var fragment = tmpRng.extractContents();\n        if (newBlockName === 'LI' && hasFirstChild(fragment, 'LI')) {\n          newBlock = fragment.firstChild;\n          dom.insertAfter(fragment, containerBlock);\n        } else {\n          dom.insertAfter(fragment, containerBlock);\n          dom.insertAfter(newBlock, containerBlock);\n        }\n        dom.remove(parentBlock);\n      }\n      moveToCaretPosition(editor, newBlock);\n    };\n\n    var trimZwsp = function (fragment) {\n      each$k(descendants$1(SugarElement.fromDom(fragment), isText$8), function (text) {\n        var rawNode = text.dom;\n        rawNode.nodeValue = trim$3(rawNode.nodeValue);\n      });\n    };\n    var isEmptyAnchor = function (dom, elm) {\n      return elm && elm.nodeName === 'A' && dom.isEmpty(elm);\n    };\n    var isTableCell = function (node) {\n      return node && /^(TD|TH|CAPTION)$/.test(node.nodeName);\n    };\n    var emptyBlock = function (elm) {\n      elm.innerHTML = '<br data-mce-bogus=\"1\">';\n    };\n    var containerAndSiblingName = function (container, nodeName) {\n      return container.nodeName === nodeName || container.previousSibling && container.previousSibling.nodeName === nodeName;\n    };\n    var canSplitBlock = function (dom, node) {\n      return node && dom.isBlock(node) && !/^(TD|TH|CAPTION|FORM)$/.test(node.nodeName) && !/^(fixed|absolute)/i.test(node.style.position) && dom.getContentEditable(node) !== 'true';\n    };\n    var trimInlineElementsOnLeftSideOfBlock = function (dom, nonEmptyElementsMap, block) {\n      var node = block;\n      var firstChilds = [];\n      var i;\n      if (!node) {\n        return;\n      }\n      while (node = node.firstChild) {\n        if (dom.isBlock(node)) {\n          return;\n        }\n        if (isElement$5(node) && !nonEmptyElementsMap[node.nodeName.toLowerCase()]) {\n          firstChilds.push(node);\n        }\n      }\n      i = firstChilds.length;\n      while (i--) {\n        node = firstChilds[i];\n        if (!node.hasChildNodes() || node.firstChild === node.lastChild && node.firstChild.nodeValue === '') {\n          dom.remove(node);\n        } else {\n          if (isEmptyAnchor(dom, node)) {\n            dom.remove(node);\n          }\n        }\n      }\n    };\n    var normalizeZwspOffset = function (start, container, offset) {\n      if (isText$7(container) === false) {\n        return offset;\n      } else if (start) {\n        return offset === 1 && container.data.charAt(offset - 1) === ZWSP$1 ? 0 : offset;\n      } else {\n        return offset === container.data.length - 1 && container.data.charAt(offset) === ZWSP$1 ? container.data.length : offset;\n      }\n    };\n    var includeZwspInRange = function (rng) {\n      var newRng = rng.cloneRange();\n      newRng.setStart(rng.startContainer, normalizeZwspOffset(true, rng.startContainer, rng.startOffset));\n      newRng.setEnd(rng.endContainer, normalizeZwspOffset(false, rng.endContainer, rng.endOffset));\n      return newRng;\n    };\n    var trimLeadingLineBreaks = function (node) {\n      do {\n        if (isText$7(node)) {\n          node.nodeValue = node.nodeValue.replace(/^[\\r\\n]+/, '');\n        }\n        node = node.firstChild;\n      } while (node);\n    };\n    var getEditableRoot = function (dom, node) {\n      var root = dom.getRoot();\n      var parent, editableRoot;\n      parent = node;\n      while (parent !== root && dom.getContentEditable(parent) !== 'false') {\n        if (dom.getContentEditable(parent) === 'true') {\n          editableRoot = parent;\n        }\n        parent = parent.parentNode;\n      }\n      return parent !== root ? editableRoot : root;\n    };\n    var applyAttributes = function (editor, node, forcedRootBlockAttrs) {\n      var dom = editor.dom;\n      Optional.from(forcedRootBlockAttrs.style).map(dom.parseStyle).each(function (attrStyles) {\n        var currentStyles = getAllRaw(SugarElement.fromDom(node));\n        var newStyles = __assign(__assign({}, currentStyles), attrStyles);\n        dom.setStyles(node, newStyles);\n      });\n      var attrClassesOpt = Optional.from(forcedRootBlockAttrs.class).map(function (attrClasses) {\n        return attrClasses.split(/\\s+/);\n      });\n      var currentClassesOpt = Optional.from(node.className).map(function (currentClasses) {\n        return filter$4(currentClasses.split(/\\s+/), function (clazz) {\n          return clazz !== '';\n        });\n      });\n      lift2(attrClassesOpt, currentClassesOpt, function (attrClasses, currentClasses) {\n        var filteredClasses = filter$4(currentClasses, function (clazz) {\n          return !contains$3(attrClasses, clazz);\n        });\n        var newClasses = __spreadArray(__spreadArray([], attrClasses, true), filteredClasses, true);\n        dom.setAttrib(node, 'class', newClasses.join(' '));\n      });\n      var appliedAttrs = [\n        'style',\n        'class'\n      ];\n      var remainingAttrs = filter$3(forcedRootBlockAttrs, function (_, attrs) {\n        return !contains$3(appliedAttrs, attrs);\n      });\n      dom.setAttribs(node, remainingAttrs);\n    };\n    var setForcedBlockAttrs = function (editor, node) {\n      var forcedRootBlockName = getForcedRootBlock(editor);\n      if (forcedRootBlockName && forcedRootBlockName.toLowerCase() === node.tagName.toLowerCase()) {\n        var forcedRootBlockAttrs = getForcedRootBlockAttrs(editor);\n        applyAttributes(editor, node, forcedRootBlockAttrs);\n      }\n    };\n    var wrapSelfAndSiblingsInDefaultBlock = function (editor, newBlockName, rng, container, offset) {\n      var newBlock, parentBlock, startNode, node, next, rootBlockName;\n      var blockName = newBlockName || 'P';\n      var dom = editor.dom, editableRoot = getEditableRoot(dom, container);\n      parentBlock = dom.getParent(container, dom.isBlock);\n      if (!parentBlock || !canSplitBlock(dom, parentBlock)) {\n        parentBlock = parentBlock || editableRoot;\n        if (parentBlock === editor.getBody() || isTableCell(parentBlock)) {\n          rootBlockName = parentBlock.nodeName.toLowerCase();\n        } else {\n          rootBlockName = parentBlock.parentNode.nodeName.toLowerCase();\n        }\n        if (!parentBlock.hasChildNodes()) {\n          newBlock = dom.create(blockName);\n          setForcedBlockAttrs(editor, newBlock);\n          parentBlock.appendChild(newBlock);\n          rng.setStart(newBlock, 0);\n          rng.setEnd(newBlock, 0);\n          return newBlock;\n        }\n        node = container;\n        while (node.parentNode !== parentBlock) {\n          node = node.parentNode;\n        }\n        while (node && !dom.isBlock(node)) {\n          startNode = node;\n          node = node.previousSibling;\n        }\n        if (startNode && editor.schema.isValidChild(rootBlockName, blockName.toLowerCase())) {\n          newBlock = dom.create(blockName);\n          setForcedBlockAttrs(editor, newBlock);\n          startNode.parentNode.insertBefore(newBlock, startNode);\n          node = startNode;\n          while (node && !dom.isBlock(node)) {\n            next = node.nextSibling;\n            newBlock.appendChild(node);\n            node = next;\n          }\n          rng.setStart(container, offset);\n          rng.setEnd(container, offset);\n        }\n      }\n      return container;\n    };\n    var addBrToBlockIfNeeded = function (dom, block) {\n      block.normalize();\n      var lastChild = block.lastChild;\n      if (!lastChild || /^(left|right)$/gi.test(dom.getStyle(lastChild, 'float', true))) {\n        dom.add(block, 'br');\n      }\n    };\n    var insert$2 = function (editor, evt) {\n      var tmpRng, container, offset, parentBlock;\n      var newBlock, fragment, containerBlock, parentBlockName, newBlockName, isAfterLastNodeInContainer;\n      var dom = editor.dom;\n      var schema = editor.schema, nonEmptyElementsMap = schema.getNonEmptyElements();\n      var rng = editor.selection.getRng();\n      var createNewBlock = function (name) {\n        var node = container, block, clonedNode, caretNode;\n        var textInlineElements = schema.getTextInlineElements();\n        if (name || parentBlockName === 'TABLE' || parentBlockName === 'HR') {\n          block = dom.create(name || newBlockName);\n        } else {\n          block = parentBlock.cloneNode(false);\n        }\n        caretNode = block;\n        if (shouldKeepStyles(editor) === false) {\n          dom.setAttrib(block, 'style', null);\n          dom.setAttrib(block, 'class', null);\n        } else {\n          do {\n            if (textInlineElements[node.nodeName]) {\n              if (isCaretNode(node) || isBookmarkNode$1(node)) {\n                continue;\n              }\n              clonedNode = node.cloneNode(false);\n              dom.setAttrib(clonedNode, 'id', '');\n              if (block.hasChildNodes()) {\n                clonedNode.appendChild(block.firstChild);\n                block.appendChild(clonedNode);\n              } else {\n                caretNode = clonedNode;\n                block.appendChild(clonedNode);\n              }\n            }\n          } while ((node = node.parentNode) && node !== editableRoot);\n        }\n        setForcedBlockAttrs(editor, block);\n        emptyBlock(caretNode);\n        return block;\n      };\n      var isCaretAtStartOrEndOfBlock = function (start) {\n        var node, name;\n        var normalizedOffset = normalizeZwspOffset(start, container, offset);\n        if (isText$7(container) && (start ? normalizedOffset > 0 : normalizedOffset < container.nodeValue.length)) {\n          return false;\n        }\n        if (container.parentNode === parentBlock && isAfterLastNodeInContainer && !start) {\n          return true;\n        }\n        if (start && isElement$5(container) && container === parentBlock.firstChild) {\n          return true;\n        }\n        if (containerAndSiblingName(container, 'TABLE') || containerAndSiblingName(container, 'HR')) {\n          return isAfterLastNodeInContainer && !start || !isAfterLastNodeInContainer && start;\n        }\n        var walker = new DomTreeWalker(container, parentBlock);\n        if (isText$7(container)) {\n          if (start && normalizedOffset === 0) {\n            walker.prev();\n          } else if (!start && normalizedOffset === container.nodeValue.length) {\n            walker.next();\n          }\n        }\n        while (node = walker.current()) {\n          if (isElement$5(node)) {\n            if (!node.getAttribute('data-mce-bogus')) {\n              name = node.nodeName.toLowerCase();\n              if (nonEmptyElementsMap[name] && name !== 'br') {\n                return false;\n              }\n            }\n          } else if (isText$7(node) && !isWhitespaceText(node.nodeValue)) {\n            return false;\n          }\n          if (start) {\n            walker.prev();\n          } else {\n            walker.next();\n          }\n        }\n        return true;\n      };\n      var insertNewBlockAfter = function () {\n        if (/^(H[1-6]|PRE|FIGURE)$/.test(parentBlockName) && containerBlockName !== 'HGROUP') {\n          newBlock = createNewBlock(newBlockName);\n        } else {\n          newBlock = createNewBlock();\n        }\n        if (shouldEndContainerOnEmptyBlock(editor) && canSplitBlock(dom, containerBlock) && dom.isEmpty(parentBlock)) {\n          newBlock = dom.split(containerBlock, parentBlock);\n        } else {\n          dom.insertAfter(newBlock, parentBlock);\n        }\n        moveToCaretPosition(editor, newBlock);\n      };\n      normalize$2(dom, rng).each(function (normRng) {\n        rng.setStart(normRng.startContainer, normRng.startOffset);\n        rng.setEnd(normRng.endContainer, normRng.endOffset);\n      });\n      container = rng.startContainer;\n      offset = rng.startOffset;\n      newBlockName = getForcedRootBlock(editor);\n      var shiftKey = !!(evt && evt.shiftKey);\n      var ctrlKey = !!(evt && evt.ctrlKey);\n      if (isElement$5(container) && container.hasChildNodes()) {\n        isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n        if (isAfterLastNodeInContainer && isText$7(container)) {\n          offset = container.nodeValue.length;\n        } else {\n          offset = 0;\n        }\n      }\n      var editableRoot = getEditableRoot(dom, container);\n      if (!editableRoot) {\n        return;\n      }\n      if (newBlockName && !shiftKey || !newBlockName && shiftKey) {\n        container = wrapSelfAndSiblingsInDefaultBlock(editor, newBlockName, rng, container, offset);\n      }\n      parentBlock = dom.getParent(container, dom.isBlock);\n      containerBlock = parentBlock ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\n      parentBlockName = parentBlock ? parentBlock.nodeName.toUpperCase() : '';\n      var containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : '';\n      if (containerBlockName === 'LI' && !ctrlKey) {\n        parentBlock = containerBlock;\n        containerBlock = containerBlock.parentNode;\n        parentBlockName = containerBlockName;\n      }\n      if (/^(LI|DT|DD)$/.test(parentBlockName)) {\n        if (dom.isEmpty(parentBlock)) {\n          insert$3(editor, createNewBlock, containerBlock, parentBlock, newBlockName);\n          return;\n        }\n      }\n      if (newBlockName && parentBlock === editor.getBody()) {\n        return;\n      }\n      newBlockName = newBlockName || 'P';\n      if (isCaretContainerBlock$1(parentBlock)) {\n        newBlock = showCaretContainerBlock(parentBlock);\n        if (dom.isEmpty(parentBlock)) {\n          emptyBlock(parentBlock);\n        }\n        setForcedBlockAttrs(editor, newBlock);\n        moveToCaretPosition(editor, newBlock);\n      } else if (isCaretAtStartOrEndOfBlock()) {\n        insertNewBlockAfter();\n      } else if (isCaretAtStartOrEndOfBlock(true)) {\n        newBlock = parentBlock.parentNode.insertBefore(createNewBlock(), parentBlock);\n        moveToCaretPosition(editor, containerAndSiblingName(parentBlock, 'HR') ? newBlock : parentBlock);\n      } else {\n        tmpRng = includeZwspInRange(rng).cloneRange();\n        tmpRng.setEndAfter(parentBlock);\n        fragment = tmpRng.extractContents();\n        trimZwsp(fragment);\n        trimLeadingLineBreaks(fragment);\n        newBlock = fragment.firstChild;\n        dom.insertAfter(fragment, parentBlock);\n        trimInlineElementsOnLeftSideOfBlock(dom, nonEmptyElementsMap, newBlock);\n        addBrToBlockIfNeeded(dom, parentBlock);\n        if (dom.isEmpty(parentBlock)) {\n          emptyBlock(parentBlock);\n        }\n        newBlock.normalize();\n        if (dom.isEmpty(newBlock)) {\n          dom.remove(newBlock);\n          insertNewBlockAfter();\n        } else {\n          setForcedBlockAttrs(editor, newBlock);\n          moveToCaretPosition(editor, newBlock);\n        }\n      }\n      dom.setAttrib(newBlock, 'id', '');\n      editor.fire('NewBlock', { newBlock: newBlock });\n    };\n\n    var hasRightSideContent = function (schema, container, parentBlock) {\n      var walker = new DomTreeWalker(container, parentBlock);\n      var node;\n      var nonEmptyElementsMap = schema.getNonEmptyElements();\n      while (node = walker.next()) {\n        if (nonEmptyElementsMap[node.nodeName.toLowerCase()] || node.length > 0) {\n          return true;\n        }\n      }\n    };\n    var moveSelectionToBr = function (editor, brElm, extraBr) {\n      var rng = editor.dom.createRng();\n      if (!extraBr) {\n        rng.setStartAfter(brElm);\n        rng.setEndAfter(brElm);\n      } else {\n        rng.setStartBefore(brElm);\n        rng.setEndBefore(brElm);\n      }\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, rng);\n    };\n    var insertBrAtCaret = function (editor, evt) {\n      var selection = editor.selection;\n      var dom = editor.dom;\n      var rng = selection.getRng();\n      var brElm;\n      var extraBr;\n      normalize$2(dom, rng).each(function (normRng) {\n        rng.setStart(normRng.startContainer, normRng.startOffset);\n        rng.setEnd(normRng.endContainer, normRng.endOffset);\n      });\n      var offset = rng.startOffset;\n      var container = rng.startContainer;\n      if (container.nodeType === 1 && container.hasChildNodes()) {\n        var isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n        if (isAfterLastNodeInContainer && container.nodeType === 3) {\n          offset = container.nodeValue.length;\n        } else {\n          offset = 0;\n        }\n      }\n      var parentBlock = dom.getParent(container, dom.isBlock);\n      var containerBlock = parentBlock ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\n      var containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : '';\n      var isControlKey = !!(evt && evt.ctrlKey);\n      if (containerBlockName === 'LI' && !isControlKey) {\n        parentBlock = containerBlock;\n      }\n      if (container && container.nodeType === 3 && offset >= container.nodeValue.length) {\n        if (!hasRightSideContent(editor.schema, container, parentBlock)) {\n          brElm = dom.create('br');\n          rng.insertNode(brElm);\n          rng.setStartAfter(brElm);\n          rng.setEndAfter(brElm);\n          extraBr = true;\n        }\n      }\n      brElm = dom.create('br');\n      rangeInsertNode(dom, rng, brElm);\n      moveSelectionToBr(editor, brElm, extraBr);\n      editor.undoManager.add();\n    };\n    var insertBrBefore = function (editor, inline) {\n      var br = SugarElement.fromTag('br');\n      before$4(SugarElement.fromDom(inline), br);\n      editor.undoManager.add();\n    };\n    var insertBrAfter = function (editor, inline) {\n      if (!hasBrAfter(editor.getBody(), inline)) {\n        after$3(SugarElement.fromDom(inline), SugarElement.fromTag('br'));\n      }\n      var br = SugarElement.fromTag('br');\n      after$3(SugarElement.fromDom(inline), br);\n      moveSelectionToBr(editor, br.dom, false);\n      editor.undoManager.add();\n    };\n    var isBeforeBr = function (pos) {\n      return isBr$5(pos.getNode());\n    };\n    var hasBrAfter = function (rootNode, startNode) {\n      if (isBeforeBr(CaretPosition.after(startNode))) {\n        return true;\n      } else {\n        return nextPosition(rootNode, CaretPosition.after(startNode)).map(function (pos) {\n          return isBr$5(pos.getNode());\n        }).getOr(false);\n      }\n    };\n    var isAnchorLink = function (elm) {\n      return elm && elm.nodeName === 'A' && 'href' in elm;\n    };\n    var isInsideAnchor = function (location) {\n      return location.fold(never, isAnchorLink, isAnchorLink, never);\n    };\n    var readInlineAnchorLocation = function (editor) {\n      var isInlineTarget$1 = curry(isInlineTarget, editor);\n      var position = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return readLocation(isInlineTarget$1, editor.getBody(), position).filter(isInsideAnchor);\n    };\n    var insertBrOutsideAnchor = function (editor, location) {\n      location.fold(noop, curry(insertBrBefore, editor), curry(insertBrAfter, editor), noop);\n    };\n    var insert$1 = function (editor, evt) {\n      var anchorLocation = readInlineAnchorLocation(editor);\n      if (anchorLocation.isSome()) {\n        anchorLocation.each(curry(insertBrOutsideAnchor, editor));\n      } else {\n        insertBrAtCaret(editor, evt);\n      }\n    };\n\n    var matchesSelector = function (editor, selector) {\n      return getParentBlock(editor).filter(function (parentBlock) {\n        return selector.length > 0 && is$2(SugarElement.fromDom(parentBlock), selector);\n      }).isSome();\n    };\n    var shouldInsertBr = function (editor) {\n      return matchesSelector(editor, getBrNewLineSelector(editor));\n    };\n    var shouldBlockNewLine$1 = function (editor) {\n      return matchesSelector(editor, getNoNewLineSelector(editor));\n    };\n\n    var newLineAction = Adt.generate([\n      { br: [] },\n      { block: [] },\n      { none: [] }\n    ]);\n    var shouldBlockNewLine = function (editor, _shiftKey) {\n      return shouldBlockNewLine$1(editor);\n    };\n    var isBrMode = function (requiredState) {\n      return function (editor, _shiftKey) {\n        var brMode = getForcedRootBlock(editor) === '';\n        return brMode === requiredState;\n      };\n    };\n    var inListBlock = function (requiredState) {\n      return function (editor, _shiftKey) {\n        return isListItemParentBlock(editor) === requiredState;\n      };\n    };\n    var inBlock = function (blockName, requiredState) {\n      return function (editor, _shiftKey) {\n        var state = getParentBlockName(editor) === blockName.toUpperCase();\n        return state === requiredState;\n      };\n    };\n    var inPreBlock = function (requiredState) {\n      return inBlock('pre', requiredState);\n    };\n    var inSummaryBlock = function () {\n      return inBlock('summary', true);\n    };\n    var shouldPutBrInPre = function (requiredState) {\n      return function (editor, _shiftKey) {\n        return shouldPutBrInPre$1(editor) === requiredState;\n      };\n    };\n    var inBrContext = function (editor, _shiftKey) {\n      return shouldInsertBr(editor);\n    };\n    var hasShiftKey = function (_editor, shiftKey) {\n      return shiftKey;\n    };\n    var canInsertIntoEditableRoot = function (editor) {\n      var forcedRootBlock = getForcedRootBlock(editor);\n      var rootEditable = getEditableRoot$1(editor.dom, editor.selection.getStart());\n      return rootEditable && editor.schema.isValidChild(rootEditable.nodeName, forcedRootBlock ? forcedRootBlock : 'P');\n    };\n    var match = function (predicates, action) {\n      return function (editor, shiftKey) {\n        var isMatch = foldl(predicates, function (res, p) {\n          return res && p(editor, shiftKey);\n        }, true);\n        return isMatch ? Optional.some(action) : Optional.none();\n      };\n    };\n    var getAction = function (editor, evt) {\n      return evaluateUntil([\n        match([shouldBlockNewLine], newLineAction.none()),\n        match([inSummaryBlock()], newLineAction.br()),\n        match([\n          inPreBlock(true),\n          shouldPutBrInPre(false),\n          hasShiftKey\n        ], newLineAction.br()),\n        match([\n          inPreBlock(true),\n          shouldPutBrInPre(false)\n        ], newLineAction.block()),\n        match([\n          inPreBlock(true),\n          shouldPutBrInPre(true),\n          hasShiftKey\n        ], newLineAction.block()),\n        match([\n          inPreBlock(true),\n          shouldPutBrInPre(true)\n        ], newLineAction.br()),\n        match([\n          inListBlock(true),\n          hasShiftKey\n        ], newLineAction.br()),\n        match([inListBlock(true)], newLineAction.block()),\n        match([\n          isBrMode(true),\n          hasShiftKey,\n          canInsertIntoEditableRoot\n        ], newLineAction.block()),\n        match([isBrMode(true)], newLineAction.br()),\n        match([inBrContext], newLineAction.br()),\n        match([\n          isBrMode(false),\n          hasShiftKey\n        ], newLineAction.br()),\n        match([canInsertIntoEditableRoot], newLineAction.block())\n      ], [\n        editor,\n        !!(evt && evt.shiftKey)\n      ]).getOr(newLineAction.none());\n    };\n\n    var insert = function (editor, evt) {\n      getAction(editor, evt).fold(function () {\n        insert$1(editor, evt);\n      }, function () {\n        insert$2(editor, evt);\n      }, noop);\n    };\n\n    var handleEnterKeyEvent = function (editor, event) {\n      if (event.isDefaultPrevented()) {\n        return;\n      }\n      event.preventDefault();\n      endTypingLevelIgnoreLocks(editor.undoManager);\n      editor.undoManager.transact(function () {\n        if (editor.selection.isCollapsed() === false) {\n          editor.execCommand('Delete');\n        }\n        insert(editor, event);\n      });\n    };\n    var setup$9 = function (editor) {\n      editor.on('keydown', function (event) {\n        if (event.keyCode === VK.ENTER) {\n          handleEnterKeyEvent(editor, event);\n        }\n      });\n    };\n\n    var executeKeydownOverride$1 = function (editor, caret, evt) {\n      execute([\n        {\n          keyCode: VK.END,\n          action: action(moveToLineEndPoint$1, editor, true)\n        },\n        {\n          keyCode: VK.HOME,\n          action: action(moveToLineEndPoint$1, editor, false)\n        },\n        {\n          keyCode: VK.END,\n          action: action(moveToLineEndPoint, editor, true)\n        },\n        {\n          keyCode: VK.HOME,\n          action: action(moveToLineEndPoint, editor, false)\n        },\n        {\n          keyCode: VK.END,\n          action: action(moveToLineEndPoint$2, editor, true, caret)\n        },\n        {\n          keyCode: VK.HOME,\n          action: action(moveToLineEndPoint$2, editor, false, caret)\n        }\n      ], evt).each(function (_) {\n        evt.preventDefault();\n      });\n    };\n    var setup$8 = function (editor, caret) {\n      editor.on('keydown', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride$1(editor, caret, evt);\n        }\n      });\n    };\n\n    var browser = detect().browser;\n    var setupIeInput = function (editor) {\n      var keypressThrotter = first(function () {\n        if (!editor.composing) {\n          normalizeNbspsInEditor(editor);\n        }\n      }, 0);\n      if (browser.isIE()) {\n        editor.on('keypress', function (_e) {\n          keypressThrotter.throttle();\n        });\n        editor.on('remove', function (_e) {\n          keypressThrotter.cancel();\n        });\n      }\n    };\n    var setup$7 = function (editor) {\n      setupIeInput(editor);\n      editor.on('input', function (e) {\n        if (e.isComposing === false) {\n          normalizeNbspsInEditor(editor);\n        }\n      });\n    };\n\n    var platform = detect();\n    var executeKeyupAction = function (editor, caret, evt) {\n      execute([\n        {\n          keyCode: VK.PAGE_UP,\n          action: action(moveToLineEndPoint$2, editor, false, caret)\n        },\n        {\n          keyCode: VK.PAGE_DOWN,\n          action: action(moveToLineEndPoint$2, editor, true, caret)\n        }\n      ], evt);\n    };\n    var stopImmediatePropagation = function (e) {\n      return e.stopImmediatePropagation();\n    };\n    var isPageUpDown = function (evt) {\n      return evt.keyCode === VK.PAGE_UP || evt.keyCode === VK.PAGE_DOWN;\n    };\n    var setNodeChangeBlocker = function (blocked, editor, block) {\n      if (block && !blocked.get()) {\n        editor.on('NodeChange', stopImmediatePropagation, true);\n      } else if (!block && blocked.get()) {\n        editor.off('NodeChange', stopImmediatePropagation);\n      }\n      blocked.set(block);\n    };\n    var setup$6 = function (editor, caret) {\n      if (platform.os.isOSX()) {\n        return;\n      }\n      var blocked = Cell(false);\n      editor.on('keydown', function (evt) {\n        if (isPageUpDown(evt)) {\n          setNodeChangeBlocker(blocked, editor, true);\n        }\n      });\n      editor.on('keyup', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeyupAction(editor, caret, evt);\n        }\n        if (isPageUpDown(evt) && blocked.get()) {\n          setNodeChangeBlocker(blocked, editor, false);\n          editor.nodeChanged();\n        }\n      });\n    };\n\n    var insertTextAtPosition = function (text, pos) {\n      var container = pos.container();\n      var offset = pos.offset();\n      if (isText$7(container)) {\n        container.insertData(offset, text);\n        return Optional.some(CaretPosition(container, offset + text.length));\n      } else {\n        return getElementFromPosition(pos).map(function (elm) {\n          var textNode = SugarElement.fromText(text);\n          if (pos.isAtEnd()) {\n            after$3(elm, textNode);\n          } else {\n            before$4(elm, textNode);\n          }\n          return CaretPosition(textNode.dom, text.length);\n        });\n      }\n    };\n    var insertNbspAtPosition = curry(insertTextAtPosition, nbsp);\n    var insertSpaceAtPosition = curry(insertTextAtPosition, ' ');\n\n    var locationToCaretPosition = function (root) {\n      return function (location) {\n        return location.fold(function (element) {\n          return prevPosition(root.dom, CaretPosition.before(element));\n        }, function (element) {\n          return firstPositionIn(element);\n        }, function (element) {\n          return lastPositionIn(element);\n        }, function (element) {\n          return nextPosition(root.dom, CaretPosition.after(element));\n        });\n      };\n    };\n    var insertInlineBoundarySpaceOrNbsp = function (root, pos) {\n      return function (checkPos) {\n        return needsToHaveNbsp(root, checkPos) ? insertNbspAtPosition(pos) : insertSpaceAtPosition(pos);\n      };\n    };\n    var setSelection = function (editor) {\n      return function (pos) {\n        editor.selection.setRng(pos.toRange());\n        editor.nodeChanged();\n        return true;\n      };\n    };\n    var insertSpaceOrNbspAtSelection = function (editor) {\n      var pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      var root = SugarElement.fromDom(editor.getBody());\n      if (editor.selection.isCollapsed()) {\n        var isInlineTarget$1 = curry(isInlineTarget, editor);\n        var caretPosition = CaretPosition.fromRangeStart(editor.selection.getRng());\n        return readLocation(isInlineTarget$1, editor.getBody(), caretPosition).bind(locationToCaretPosition(root)).bind(insertInlineBoundarySpaceOrNbsp(root, pos)).exists(setSelection(editor));\n      } else {\n        return false;\n      }\n    };\n\n    var executeKeydownOverride = function (editor, evt) {\n      execute([{\n          keyCode: VK.SPACEBAR,\n          action: action(insertSpaceOrNbspAtSelection, editor)\n        }], evt).each(function (_) {\n        evt.preventDefault();\n      });\n    };\n    var setup$5 = function (editor) {\n      editor.on('keydown', function (evt) {\n        if (evt.isDefaultPrevented() === false) {\n          executeKeydownOverride(editor, evt);\n        }\n      });\n    };\n\n    var registerKeyboardOverrides = function (editor) {\n      var caret = setupSelectedState(editor);\n      setup$c(editor);\n      setup$b(editor, caret);\n      setup$a(editor, caret);\n      setup$9(editor);\n      setup$5(editor);\n      setup$7(editor);\n      setup$8(editor, caret);\n      setup$6(editor, caret);\n      return caret;\n    };\n    var setup$4 = function (editor) {\n      if (!isRtc(editor)) {\n        return registerKeyboardOverrides(editor);\n      } else {\n        return Cell(null);\n      }\n    };\n\n    var NodeChange = function () {\n      function NodeChange(editor) {\n        this.lastPath = [];\n        this.editor = editor;\n        var lastRng;\n        var self = this;\n        if (!('onselectionchange' in editor.getDoc())) {\n          editor.on('NodeChange click mouseup keyup focus', function (e) {\n            var nativeRng = editor.selection.getRng();\n            var fakeRng = {\n              startContainer: nativeRng.startContainer,\n              startOffset: nativeRng.startOffset,\n              endContainer: nativeRng.endContainer,\n              endOffset: nativeRng.endOffset\n            };\n            if (e.type === 'nodechange' || !isEq$4(fakeRng, lastRng)) {\n              editor.fire('SelectionChange');\n            }\n            lastRng = fakeRng;\n          });\n        }\n        editor.on('contextmenu', function () {\n          editor.fire('SelectionChange');\n        });\n        editor.on('SelectionChange', function () {\n          var startElm = editor.selection.getStart(true);\n          if (!startElm || !Env.range && editor.selection.isCollapsed()) {\n            return;\n          }\n          if (hasAnyRanges(editor) && !self.isSameElementPath(startElm) && editor.dom.isChildOf(startElm, editor.getBody())) {\n            editor.nodeChanged({ selectionChange: true });\n          }\n        });\n        editor.on('mouseup', function (e) {\n          if (!e.isDefaultPrevented() && hasAnyRanges(editor)) {\n            if (editor.selection.getNode().nodeName === 'IMG') {\n              Delay.setEditorTimeout(editor, function () {\n                editor.nodeChanged();\n              });\n            } else {\n              editor.nodeChanged();\n            }\n          }\n        });\n      }\n      NodeChange.prototype.nodeChanged = function (args) {\n        var selection = this.editor.selection;\n        var node, parents, root;\n        if (this.editor.initialized && selection && !shouldDisableNodeChange(this.editor) && !this.editor.mode.isReadOnly()) {\n          root = this.editor.getBody();\n          node = selection.getStart(true) || root;\n          if (node.ownerDocument !== this.editor.getDoc() || !this.editor.dom.isChildOf(node, root)) {\n            node = root;\n          }\n          parents = [];\n          this.editor.dom.getParent(node, function (node) {\n            if (node === root) {\n              return true;\n            }\n            parents.push(node);\n          });\n          args = args || {};\n          args.element = node;\n          args.parents = parents;\n          this.editor.fire('NodeChange', args);\n        }\n      };\n      NodeChange.prototype.isSameElementPath = function (startElm) {\n        var i;\n        var currentPath = this.editor.$(startElm).parentsUntil(this.editor.getBody()).add(startElm);\n        if (currentPath.length === this.lastPath.length) {\n          for (i = currentPath.length; i >= 0; i--) {\n            if (currentPath[i] !== this.lastPath[i]) {\n              break;\n            }\n          }\n          if (i === -1) {\n            this.lastPath = currentPath;\n            return true;\n          }\n        }\n        this.lastPath = currentPath;\n        return false;\n      };\n      return NodeChange;\n    }();\n\n    var preventSummaryToggle = function (editor) {\n      editor.on('click', function (e) {\n        if (editor.dom.getParent(e.target, 'details')) {\n          e.preventDefault();\n        }\n      });\n    };\n    var filterDetails = function (editor) {\n      editor.parser.addNodeFilter('details', function (elms) {\n        each$k(elms, function (details) {\n          details.attr('data-mce-open', details.attr('open'));\n          details.attr('open', 'open');\n        });\n      });\n      editor.serializer.addNodeFilter('details', function (elms) {\n        each$k(elms, function (details) {\n          var open = details.attr('data-mce-open');\n          details.attr('open', isString$1(open) ? open : null);\n          details.attr('data-mce-open', null);\n        });\n      });\n    };\n    var setup$3 = function (editor) {\n      preventSummaryToggle(editor);\n      filterDetails(editor);\n    };\n\n    var isTextBlockNode = function (node) {\n      return isElement$5(node) && isTextBlock$2(SugarElement.fromDom(node));\n    };\n    var normalizeSelection = function (editor) {\n      var rng = editor.selection.getRng();\n      var startPos = CaretPosition.fromRangeStart(rng);\n      var endPos = CaretPosition.fromRangeEnd(rng);\n      if (CaretPosition.isElementPosition(startPos)) {\n        var container = startPos.container();\n        if (isTextBlockNode(container)) {\n          firstPositionIn(container).each(function (pos) {\n            return rng.setStart(pos.container(), pos.offset());\n          });\n        }\n      }\n      if (CaretPosition.isElementPosition(endPos)) {\n        var container = startPos.container();\n        if (isTextBlockNode(container)) {\n          lastPositionIn(container).each(function (pos) {\n            return rng.setEnd(pos.container(), pos.offset());\n          });\n        }\n      }\n      editor.selection.setRng(normalize(rng));\n    };\n    var setup$2 = function (editor) {\n      editor.on('click', function (e) {\n        if (e.detail >= 3) {\n          normalizeSelection(editor);\n        }\n      });\n    };\n\n    var getAbsolutePosition = function (elm) {\n      var clientRect = elm.getBoundingClientRect();\n      var doc = elm.ownerDocument;\n      var docElem = doc.documentElement;\n      var win = doc.defaultView;\n      return {\n        top: clientRect.top + win.pageYOffset - docElem.clientTop,\n        left: clientRect.left + win.pageXOffset - docElem.clientLeft\n      };\n    };\n    var getBodyPosition = function (editor) {\n      return editor.inline ? getAbsolutePosition(editor.getBody()) : {\n        left: 0,\n        top: 0\n      };\n    };\n    var getScrollPosition = function (editor) {\n      var body = editor.getBody();\n      return editor.inline ? {\n        left: body.scrollLeft,\n        top: body.scrollTop\n      } : {\n        left: 0,\n        top: 0\n      };\n    };\n    var getBodyScroll = function (editor) {\n      var body = editor.getBody(), docElm = editor.getDoc().documentElement;\n      var inlineScroll = {\n        left: body.scrollLeft,\n        top: body.scrollTop\n      };\n      var iframeScroll = {\n        left: body.scrollLeft || docElm.scrollLeft,\n        top: body.scrollTop || docElm.scrollTop\n      };\n      return editor.inline ? inlineScroll : iframeScroll;\n    };\n    var getMousePosition = function (editor, event) {\n      if (event.target.ownerDocument !== editor.getDoc()) {\n        var iframePosition = getAbsolutePosition(editor.getContentAreaContainer());\n        var scrollPosition = getBodyScroll(editor);\n        return {\n          left: event.pageX - iframePosition.left + scrollPosition.left,\n          top: event.pageY - iframePosition.top + scrollPosition.top\n        };\n      }\n      return {\n        left: event.pageX,\n        top: event.pageY\n      };\n    };\n    var calculatePosition = function (bodyPosition, scrollPosition, mousePosition) {\n      return {\n        pageX: mousePosition.left - bodyPosition.left + scrollPosition.left,\n        pageY: mousePosition.top - bodyPosition.top + scrollPosition.top\n      };\n    };\n    var calc = function (editor, event) {\n      return calculatePosition(getBodyPosition(editor), getScrollPosition(editor), getMousePosition(editor, event));\n    };\n\n    var isContentEditableFalse$1 = isContentEditableFalse$b, isContentEditableTrue$1 = isContentEditableTrue$4;\n    var isDraggable = function (rootElm, elm) {\n      return isContentEditableFalse$1(elm) && elm !== rootElm;\n    };\n    var isValidDropTarget = function (editor, targetElement, dragElement) {\n      if (targetElement === dragElement || editor.dom.isChildOf(targetElement, dragElement)) {\n        return false;\n      }\n      return !isContentEditableFalse$1(targetElement);\n    };\n    var cloneElement = function (elm) {\n      var cloneElm = elm.cloneNode(true);\n      cloneElm.removeAttribute('data-mce-selected');\n      return cloneElm;\n    };\n    var createGhost = function (editor, elm, width, height) {\n      var dom = editor.dom;\n      var clonedElm = elm.cloneNode(true);\n      dom.setStyles(clonedElm, {\n        width: width,\n        height: height\n      });\n      dom.setAttrib(clonedElm, 'data-mce-selected', null);\n      var ghostElm = dom.create('div', {\n        'class': 'mce-drag-container',\n        'data-mce-bogus': 'all',\n        'unselectable': 'on',\n        'contenteditable': 'false'\n      });\n      dom.setStyles(ghostElm, {\n        position: 'absolute',\n        opacity: 0.5,\n        overflow: 'hidden',\n        border: 0,\n        padding: 0,\n        margin: 0,\n        width: width,\n        height: height\n      });\n      dom.setStyles(clonedElm, {\n        margin: 0,\n        boxSizing: 'border-box'\n      });\n      ghostElm.appendChild(clonedElm);\n      return ghostElm;\n    };\n    var appendGhostToBody = function (ghostElm, bodyElm) {\n      if (ghostElm.parentNode !== bodyElm) {\n        bodyElm.appendChild(ghostElm);\n      }\n    };\n    var moveGhost = function (ghostElm, position, width, height, maxX, maxY) {\n      var overflowX = 0, overflowY = 0;\n      ghostElm.style.left = position.pageX + 'px';\n      ghostElm.style.top = position.pageY + 'px';\n      if (position.pageX + width > maxX) {\n        overflowX = position.pageX + width - maxX;\n      }\n      if (position.pageY + height > maxY) {\n        overflowY = position.pageY + height - maxY;\n      }\n      ghostElm.style.width = width - overflowX + 'px';\n      ghostElm.style.height = height - overflowY + 'px';\n    };\n    var removeElement = function (elm) {\n      if (elm && elm.parentNode) {\n        elm.parentNode.removeChild(elm);\n      }\n    };\n    var isLeftMouseButtonPressed = function (e) {\n      return e.button === 0;\n    };\n    var applyRelPos = function (state, position) {\n      return {\n        pageX: position.pageX - state.relX,\n        pageY: position.pageY + 5\n      };\n    };\n    var start = function (state, editor) {\n      return function (e) {\n        if (isLeftMouseButtonPressed(e)) {\n          var ceElm = find$3(editor.dom.getParents(e.target), or(isContentEditableFalse$1, isContentEditableTrue$1)).getOr(null);\n          if (isDraggable(editor.getBody(), ceElm)) {\n            var elmPos = editor.dom.getPos(ceElm);\n            var bodyElm = editor.getBody();\n            var docElm = editor.getDoc().documentElement;\n            state.set({\n              element: ceElm,\n              dragging: false,\n              screenX: e.screenX,\n              screenY: e.screenY,\n              maxX: (editor.inline ? bodyElm.scrollWidth : docElm.offsetWidth) - 2,\n              maxY: (editor.inline ? bodyElm.scrollHeight : docElm.offsetHeight) - 2,\n              relX: e.pageX - elmPos.x,\n              relY: e.pageY - elmPos.y,\n              width: ceElm.offsetWidth,\n              height: ceElm.offsetHeight,\n              ghost: createGhost(editor, ceElm, ceElm.offsetWidth, ceElm.offsetHeight)\n            });\n          }\n        }\n      };\n    };\n    var move = function (state, editor) {\n      var throttledPlaceCaretAt = Delay.throttle(function (clientX, clientY) {\n        editor._selectionOverrides.hideFakeCaret();\n        editor.selection.placeCaretAt(clientX, clientY);\n      }, 0);\n      editor.on('remove', throttledPlaceCaretAt.stop);\n      return function (e) {\n        return state.on(function (state) {\n          var movement = Math.max(Math.abs(e.screenX - state.screenX), Math.abs(e.screenY - state.screenY));\n          if (!state.dragging && movement > 10) {\n            var args = editor.fire('dragstart', { target: state.element });\n            if (args.isDefaultPrevented()) {\n              return;\n            }\n            state.dragging = true;\n            editor.focus();\n          }\n          if (state.dragging) {\n            var targetPos = applyRelPos(state, calc(editor, e));\n            appendGhostToBody(state.ghost, editor.getBody());\n            moveGhost(state.ghost, targetPos, state.width, state.height, state.maxX, state.maxY);\n            throttledPlaceCaretAt(e.clientX, e.clientY);\n          }\n        });\n      };\n    };\n    var getRawTarget = function (selection) {\n      var rng = selection.getSel().getRangeAt(0);\n      var startContainer = rng.startContainer;\n      return startContainer.nodeType === 3 ? startContainer.parentNode : startContainer;\n    };\n    var drop = function (state, editor) {\n      return function (e) {\n        state.on(function (state) {\n          if (state.dragging) {\n            if (isValidDropTarget(editor, getRawTarget(editor.selection), state.element)) {\n              var targetClone_1 = cloneElement(state.element);\n              var args = editor.fire('drop', {\n                clientX: e.clientX,\n                clientY: e.clientY\n              });\n              if (!args.isDefaultPrevented()) {\n                editor.undoManager.transact(function () {\n                  removeElement(state.element);\n                  editor.insertContent(editor.dom.getOuterHTML(targetClone_1));\n                  editor._selectionOverrides.hideFakeCaret();\n                });\n              }\n            }\n            editor.fire('dragend');\n          }\n        });\n        removeDragState(state);\n      };\n    };\n    var stop = function (state, editor) {\n      return function () {\n        state.on(function (state) {\n          if (state.dragging) {\n            editor.fire('dragend');\n          }\n        });\n        removeDragState(state);\n      };\n    };\n    var removeDragState = function (state) {\n      state.on(function (state) {\n        removeElement(state.ghost);\n      });\n      state.clear();\n    };\n    var bindFakeDragEvents = function (editor) {\n      var state = value();\n      var pageDom = DOMUtils.DOM;\n      var rootDocument = document;\n      var dragStartHandler = start(state, editor);\n      var dragHandler = move(state, editor);\n      var dropHandler = drop(state, editor);\n      var dragEndHandler = stop(state, editor);\n      editor.on('mousedown', dragStartHandler);\n      editor.on('mousemove', dragHandler);\n      editor.on('mouseup', dropHandler);\n      pageDom.bind(rootDocument, 'mousemove', dragHandler);\n      pageDom.bind(rootDocument, 'mouseup', dragEndHandler);\n      editor.on('remove', function () {\n        pageDom.unbind(rootDocument, 'mousemove', dragHandler);\n        pageDom.unbind(rootDocument, 'mouseup', dragEndHandler);\n      });\n      editor.on('keydown', function (e) {\n        if (e.keyCode === VK.ESC) {\n          dragEndHandler();\n        }\n      });\n    };\n    var blockIeDrop = function (editor) {\n      editor.on('drop', function (e) {\n        var realTarget = typeof e.clientX !== 'undefined' ? editor.getDoc().elementFromPoint(e.clientX, e.clientY) : null;\n        if (isContentEditableFalse$1(realTarget) || editor.dom.getContentEditableParent(realTarget) === 'false') {\n          e.preventDefault();\n        }\n      });\n    };\n    var blockUnsupportedFileDrop = function (editor) {\n      var preventFileDrop = function (e) {\n        if (!e.isDefaultPrevented()) {\n          var dataTransfer = e.dataTransfer;\n          if (dataTransfer && (contains$3(dataTransfer.types, 'Files') || dataTransfer.files.length > 0)) {\n            e.preventDefault();\n            if (e.type === 'drop') {\n              displayError(editor, 'Dropped file type is not supported');\n            }\n          }\n        }\n      };\n      var preventFileDropIfUIElement = function (e) {\n        if (isUIElement(editor, e.target)) {\n          preventFileDrop(e);\n        }\n      };\n      var setup = function () {\n        var pageDom = DOMUtils.DOM;\n        var dom = editor.dom;\n        var doc = document;\n        var editorRoot = editor.inline ? editor.getBody() : editor.getDoc();\n        var eventNames = [\n          'drop',\n          'dragover'\n        ];\n        each$k(eventNames, function (name) {\n          pageDom.bind(doc, name, preventFileDropIfUIElement);\n          dom.bind(editorRoot, name, preventFileDrop);\n        });\n        editor.on('remove', function () {\n          each$k(eventNames, function (name) {\n            pageDom.unbind(doc, name, preventFileDropIfUIElement);\n            dom.unbind(editorRoot, name, preventFileDrop);\n          });\n        });\n      };\n      editor.on('init', function () {\n        Delay.setEditorTimeout(editor, setup, 0);\n      });\n    };\n    var init$2 = function (editor) {\n      bindFakeDragEvents(editor);\n      blockIeDrop(editor);\n      if (shouldBlockUnsupportedDrop(editor)) {\n        blockUnsupportedFileDrop(editor);\n      }\n    };\n\n    var setup$1 = function (editor) {\n      var renderFocusCaret = first(function () {\n        if (!editor.removed && editor.getBody().contains(document.activeElement)) {\n          var rng = editor.selection.getRng();\n          if (rng.collapsed) {\n            var caretRange = renderRangeCaret(editor, rng, false);\n            editor.selection.setRng(caretRange);\n          }\n        }\n      }, 0);\n      editor.on('focus', function () {\n        renderFocusCaret.throttle();\n      });\n      editor.on('blur', function () {\n        renderFocusCaret.cancel();\n      });\n    };\n\n    var setup = function (editor) {\n      editor.on('init', function () {\n        editor.on('focusin', function (e) {\n          var target = e.target;\n          if (isMedia$2(target)) {\n            var ceRoot = getContentEditableRoot$1(editor.getBody(), target);\n            var node = isContentEditableFalse$b(ceRoot) ? ceRoot : target;\n            if (editor.selection.getNode() !== node) {\n              selectNode(editor, node).each(function (rng) {\n                return editor.selection.setRng(rng);\n              });\n            }\n          }\n        });\n      });\n    };\n\n    var isContentEditableTrue = isContentEditableTrue$4;\n    var isContentEditableFalse = isContentEditableFalse$b;\n    var getContentEditableRoot = function (editor, node) {\n      return getContentEditableRoot$1(editor.getBody(), node);\n    };\n    var SelectionOverrides = function (editor) {\n      var selection = editor.selection, dom = editor.dom;\n      var isBlock = dom.isBlock;\n      var rootNode = editor.getBody();\n      var fakeCaret = FakeCaret(editor, rootNode, isBlock, function () {\n        return hasFocus(editor);\n      });\n      var realSelectionId = 'sel-' + dom.uniqueId();\n      var elementSelectionAttr = 'data-mce-selected';\n      var selectedElement;\n      var isFakeSelectionElement = function (node) {\n        return dom.hasClass(node, 'mce-offscreen-selection');\n      };\n      var isFakeSelectionTargetElement = function (node) {\n        return node !== rootNode && (isContentEditableFalse(node) || isMedia$2(node)) && dom.isChildOf(node, rootNode);\n      };\n      var isNearFakeSelectionElement = function (pos) {\n        return isBeforeContentEditableFalse(pos) || isAfterContentEditableFalse(pos) || isBeforeMedia(pos) || isAfterMedia(pos);\n      };\n      var getRealSelectionElement = function () {\n        var container = dom.get(realSelectionId);\n        return container ? container.getElementsByTagName('*')[0] : container;\n      };\n      var setRange = function (range) {\n        if (range) {\n          selection.setRng(range);\n        }\n      };\n      var getRange = selection.getRng;\n      var showCaret = function (direction, node, before, scrollIntoView) {\n        if (scrollIntoView === void 0) {\n          scrollIntoView = true;\n        }\n        var e = editor.fire('ShowCaret', {\n          target: node,\n          direction: direction,\n          before: before\n        });\n        if (e.isDefaultPrevented()) {\n          return null;\n        }\n        if (scrollIntoView) {\n          selection.scrollIntoView(node, direction === -1);\n        }\n        return fakeCaret.show(before, node);\n      };\n      var showBlockCaretContainer = function (blockCaretContainer) {\n        if (blockCaretContainer.hasAttribute('data-mce-caret')) {\n          showCaretContainerBlock(blockCaretContainer);\n          setRange(getRange());\n          selection.scrollIntoView(blockCaretContainer);\n        }\n      };\n      var registerEvents = function () {\n        editor.on('mouseup', function (e) {\n          var range = getRange();\n          if (range.collapsed && isXYInContentArea(editor, e.clientX, e.clientY)) {\n            renderCaretAtRange(editor, range, false).each(setRange);\n          }\n        });\n        editor.on('click', function (e) {\n          var contentEditableRoot = getContentEditableRoot(editor, e.target);\n          if (contentEditableRoot) {\n            if (isContentEditableFalse(contentEditableRoot)) {\n              e.preventDefault();\n              editor.focus();\n            }\n            if (isContentEditableTrue(contentEditableRoot)) {\n              if (dom.isChildOf(contentEditableRoot, selection.getNode())) {\n                removeElementSelection();\n              }\n            }\n          }\n        });\n        editor.on('blur NewBlock', removeElementSelection);\n        editor.on('ResizeWindow FullscreenStateChanged', fakeCaret.reposition);\n        var hasNormalCaretPosition = function (elm) {\n          var start = elm.firstChild;\n          if (isNullable(start)) {\n            return false;\n          }\n          var startPos = CaretPosition.before(start);\n          if (isBr$5(startPos.getNode()) && elm.childNodes.length === 1) {\n            return !isNearFakeSelectionElement(startPos);\n          } else {\n            var caretWalker = CaretWalker(elm);\n            var newPos = caretWalker.next(startPos);\n            return newPos && !isNearFakeSelectionElement(newPos);\n          }\n        };\n        var isInSameBlock = function (node1, node2) {\n          var block1 = dom.getParent(node1, isBlock);\n          var block2 = dom.getParent(node2, isBlock);\n          return block1 === block2;\n        };\n        var hasBetterMouseTarget = function (targetNode, caretNode) {\n          var targetBlock = dom.getParent(targetNode, isBlock);\n          var caretBlock = dom.getParent(caretNode, isBlock);\n          if (isNullable(targetBlock)) {\n            return false;\n          }\n          if (targetNode !== caretBlock && dom.isChildOf(targetBlock, caretBlock) && isContentEditableFalse(getContentEditableRoot(editor, targetBlock)) === false) {\n            return true;\n          }\n          return !dom.isChildOf(caretBlock, targetBlock) && !isInSameBlock(targetBlock, caretBlock) && hasNormalCaretPosition(targetBlock);\n        };\n        editor.on('tap', function (e) {\n          var targetElm = e.target;\n          var contentEditableRoot = getContentEditableRoot(editor, targetElm);\n          if (isContentEditableFalse(contentEditableRoot)) {\n            e.preventDefault();\n            selectNode(editor, contentEditableRoot).each(setElementSelection);\n          } else if (isFakeSelectionTargetElement(targetElm)) {\n            selectNode(editor, targetElm).each(setElementSelection);\n          }\n        }, true);\n        editor.on('mousedown', function (e) {\n          var targetElm = e.target;\n          if (targetElm !== rootNode && targetElm.nodeName !== 'HTML' && !dom.isChildOf(targetElm, rootNode)) {\n            return;\n          }\n          if (isXYInContentArea(editor, e.clientX, e.clientY) === false) {\n            return;\n          }\n          var contentEditableRoot = getContentEditableRoot(editor, targetElm);\n          if (contentEditableRoot) {\n            if (isContentEditableFalse(contentEditableRoot)) {\n              e.preventDefault();\n              selectNode(editor, contentEditableRoot).each(setElementSelection);\n            } else {\n              removeElementSelection();\n              if (!(isContentEditableTrue(contentEditableRoot) && e.shiftKey) && !isXYWithinRange(e.clientX, e.clientY, selection.getRng())) {\n                hideFakeCaret();\n                selection.placeCaretAt(e.clientX, e.clientY);\n              }\n            }\n          } else if (isFakeSelectionTargetElement(targetElm)) {\n            selectNode(editor, targetElm).each(setElementSelection);\n          } else if (isFakeCaretTarget(targetElm) === false) {\n            removeElementSelection();\n            hideFakeCaret();\n            var fakeCaretInfo = closestFakeCaret(rootNode, e.clientX, e.clientY);\n            if (fakeCaretInfo) {\n              if (!hasBetterMouseTarget(targetElm, fakeCaretInfo.node)) {\n                e.preventDefault();\n                var range = showCaret(1, fakeCaretInfo.node, fakeCaretInfo.before, false);\n                setRange(range);\n                editor.getBody().focus();\n              }\n            }\n          }\n        });\n        editor.on('keypress', function (e) {\n          if (VK.modifierPressed(e)) {\n            return;\n          }\n          if (isContentEditableFalse(selection.getNode())) {\n            e.preventDefault();\n          }\n        });\n        editor.on('GetSelectionRange', function (e) {\n          var rng = e.range;\n          if (selectedElement) {\n            if (!selectedElement.parentNode) {\n              selectedElement = null;\n              return;\n            }\n            rng = rng.cloneRange();\n            rng.selectNode(selectedElement);\n            e.range = rng;\n          }\n        });\n        editor.on('SetSelectionRange', function (e) {\n          e.range = normalizeShortEndedElementSelection(e.range);\n          var rng = setElementSelection(e.range, e.forward);\n          if (rng) {\n            e.range = rng;\n          }\n        });\n        var isPasteBin = function (node) {\n          return node.id === 'mcepastebin';\n        };\n        editor.on('AfterSetSelectionRange', function (e) {\n          var rng = e.range;\n          var parentNode = rng.startContainer.parentNode;\n          if (!isRangeInCaretContainer(rng) && !isPasteBin(parentNode)) {\n            hideFakeCaret();\n          }\n          if (!isFakeSelectionElement(parentNode)) {\n            removeElementSelection();\n          }\n        });\n        editor.on('copy', function (e) {\n          var clipboardData = e.clipboardData;\n          if (!e.isDefaultPrevented() && e.clipboardData && !Env.ie) {\n            var realSelectionElement = getRealSelectionElement();\n            if (realSelectionElement) {\n              e.preventDefault();\n              clipboardData.clearData();\n              clipboardData.setData('text/html', realSelectionElement.outerHTML);\n              clipboardData.setData('text/plain', realSelectionElement.outerText || realSelectionElement.innerText);\n            }\n          }\n        });\n        init$2(editor);\n        setup$1(editor);\n        setup(editor);\n      };\n      var isWithinCaretContainer = function (node) {\n        return isCaretContainer$2(node) || startsWithCaretContainer$1(node) || endsWithCaretContainer$1(node);\n      };\n      var isRangeInCaretContainer = function (rng) {\n        return isWithinCaretContainer(rng.startContainer) || isWithinCaretContainer(rng.endContainer);\n      };\n      var normalizeShortEndedElementSelection = function (rng) {\n        var shortEndedElements = editor.schema.getShortEndedElements();\n        var newRng = dom.createRng();\n        var startContainer = rng.startContainer;\n        var startOffset = rng.startOffset;\n        var endContainer = rng.endContainer;\n        var endOffset = rng.endOffset;\n        if (has$2(shortEndedElements, startContainer.nodeName.toLowerCase())) {\n          if (startOffset === 0) {\n            newRng.setStartBefore(startContainer);\n          } else {\n            newRng.setStartAfter(startContainer);\n          }\n        } else {\n          newRng.setStart(startContainer, startOffset);\n        }\n        if (has$2(shortEndedElements, endContainer.nodeName.toLowerCase())) {\n          if (endOffset === 0) {\n            newRng.setEndBefore(endContainer);\n          } else {\n            newRng.setEndAfter(endContainer);\n          }\n        } else {\n          newRng.setEnd(endContainer, endOffset);\n        }\n        return newRng;\n      };\n      var setupOffscreenSelection = function (node, targetClone, origTargetClone) {\n        var $ = editor.$;\n        var $realSelectionContainer = descendant(SugarElement.fromDom(editor.getBody()), '#' + realSelectionId).fold(function () {\n          return $([]);\n        }, function (elm) {\n          return $([elm.dom]);\n        });\n        if ($realSelectionContainer.length === 0) {\n          $realSelectionContainer = $('<div data-mce-bogus=\"all\" class=\"mce-offscreen-selection\"></div>').attr('id', realSelectionId);\n          $realSelectionContainer.appendTo(editor.getBody());\n        }\n        var newRange = dom.createRng();\n        if (targetClone === origTargetClone && Env.ie) {\n          $realSelectionContainer.empty().append('<p style=\"font-size: 0\" data-mce-bogus=\"all\">\\xA0</p>').append(targetClone);\n          newRange.setStartAfter($realSelectionContainer[0].firstChild.firstChild);\n          newRange.setEndAfter(targetClone);\n        } else {\n          $realSelectionContainer.empty().append(nbsp).append(targetClone).append(nbsp);\n          newRange.setStart($realSelectionContainer[0].firstChild, 1);\n          newRange.setEnd($realSelectionContainer[0].lastChild, 0);\n        }\n        $realSelectionContainer.css({ top: dom.getPos(node, editor.getBody()).y });\n        $realSelectionContainer[0].focus();\n        var sel = selection.getSel();\n        sel.removeAllRanges();\n        sel.addRange(newRange);\n        return newRange;\n      };\n      var selectElement = function (elm) {\n        var targetClone = elm.cloneNode(true);\n        var e = editor.fire('ObjectSelected', {\n          target: elm,\n          targetClone: targetClone\n        });\n        if (e.isDefaultPrevented()) {\n          return null;\n        }\n        var range = setupOffscreenSelection(elm, e.targetClone, targetClone);\n        var nodeElm = SugarElement.fromDom(elm);\n        each$k(descendants(SugarElement.fromDom(editor.getBody()), '*[data-mce-selected]'), function (elm) {\n          if (!eq(nodeElm, elm)) {\n            remove$6(elm, elementSelectionAttr);\n          }\n        });\n        if (!dom.getAttrib(elm, elementSelectionAttr)) {\n          elm.setAttribute(elementSelectionAttr, '1');\n        }\n        selectedElement = elm;\n        hideFakeCaret();\n        return range;\n      };\n      var setElementSelection = function (range, forward) {\n        if (!range) {\n          return null;\n        }\n        if (range.collapsed) {\n          if (!isRangeInCaretContainer(range)) {\n            var dir = forward ? 1 : -1;\n            var caretPosition = getNormalizedRangeEndPoint(dir, rootNode, range);\n            var beforeNode = caretPosition.getNode(!forward);\n            if (isFakeCaretTarget(beforeNode)) {\n              return showCaret(dir, beforeNode, forward ? !caretPosition.isAtEnd() : false, false);\n            }\n            var afterNode = caretPosition.getNode(forward);\n            if (isFakeCaretTarget(afterNode)) {\n              return showCaret(dir, afterNode, forward ? false : !caretPosition.isAtEnd(), false);\n            }\n          }\n          return null;\n        }\n        var startContainer = range.startContainer;\n        var startOffset = range.startOffset;\n        var endOffset = range.endOffset;\n        if (startContainer.nodeType === 3 && startOffset === 0 && isContentEditableFalse(startContainer.parentNode)) {\n          startContainer = startContainer.parentNode;\n          startOffset = dom.nodeIndex(startContainer);\n          startContainer = startContainer.parentNode;\n        }\n        if (startContainer.nodeType !== 1) {\n          return null;\n        }\n        if (endOffset === startOffset + 1 && startContainer === range.endContainer) {\n          var node = startContainer.childNodes[startOffset];\n          if (isFakeSelectionTargetElement(node)) {\n            return selectElement(node);\n          }\n        }\n        return null;\n      };\n      var removeElementSelection = function () {\n        if (selectedElement) {\n          selectedElement.removeAttribute(elementSelectionAttr);\n        }\n        descendant(SugarElement.fromDom(editor.getBody()), '#' + realSelectionId).each(remove$7);\n        selectedElement = null;\n      };\n      var destroy = function () {\n        fakeCaret.destroy();\n        selectedElement = null;\n      };\n      var hideFakeCaret = function () {\n        fakeCaret.hide();\n      };\n      if (Env.ceFalse && !isRtc(editor)) {\n        registerEvents();\n      }\n      return {\n        showCaret: showCaret,\n        showBlockCaretContainer: showBlockCaretContainer,\n        hideFakeCaret: hideFakeCaret,\n        destroy: destroy\n      };\n    };\n\n    var Quirks = function (editor) {\n      var each = Tools.each;\n      var BACKSPACE = VK.BACKSPACE, DELETE = VK.DELETE, dom = editor.dom, selection = editor.selection, parser = editor.parser;\n      var isGecko = Env.gecko, isIE = Env.ie, isWebKit = Env.webkit;\n      var mceInternalUrlPrefix = 'data:text/mce-internal,';\n      var mceInternalDataType = isIE ? 'Text' : 'URL';\n      var setEditorCommandState = function (cmd, state) {\n        try {\n          editor.getDoc().execCommand(cmd, false, state);\n        } catch (ex) {\n        }\n      };\n      var isDefaultPrevented = function (e) {\n        return e.isDefaultPrevented();\n      };\n      var setMceInternalContent = function (e) {\n        var selectionHtml, internalContent;\n        if (e.dataTransfer) {\n          if (editor.selection.isCollapsed() && e.target.tagName === 'IMG') {\n            selection.select(e.target);\n          }\n          selectionHtml = editor.selection.getContent();\n          if (selectionHtml.length > 0) {\n            internalContent = mceInternalUrlPrefix + escape(editor.id) + ',' + escape(selectionHtml);\n            e.dataTransfer.setData(mceInternalDataType, internalContent);\n          }\n        }\n      };\n      var getMceInternalContent = function (e) {\n        var internalContent;\n        if (e.dataTransfer) {\n          internalContent = e.dataTransfer.getData(mceInternalDataType);\n          if (internalContent && internalContent.indexOf(mceInternalUrlPrefix) >= 0) {\n            internalContent = internalContent.substr(mceInternalUrlPrefix.length).split(',');\n            return {\n              id: unescape(internalContent[0]),\n              html: unescape(internalContent[1])\n            };\n          }\n        }\n        return null;\n      };\n      var insertClipboardContents = function (content, internal) {\n        if (editor.queryCommandSupported('mceInsertClipboardContent')) {\n          editor.execCommand('mceInsertClipboardContent', false, {\n            content: content,\n            internal: internal\n          });\n        } else {\n          editor.execCommand('mceInsertContent', false, content);\n        }\n      };\n      var emptyEditorWhenDeleting = function () {\n        var serializeRng = function (rng) {\n          var body = dom.create('body');\n          var contents = rng.cloneContents();\n          body.appendChild(contents);\n          return selection.serializer.serialize(body, { format: 'html' });\n        };\n        var allContentsSelected = function (rng) {\n          var selection = serializeRng(rng);\n          var allRng = dom.createRng();\n          allRng.selectNode(editor.getBody());\n          var allSelection = serializeRng(allRng);\n          return selection === allSelection;\n        };\n        editor.on('keydown', function (e) {\n          var keyCode = e.keyCode;\n          var isCollapsed, body;\n          if (!isDefaultPrevented(e) && (keyCode === DELETE || keyCode === BACKSPACE)) {\n            isCollapsed = editor.selection.isCollapsed();\n            body = editor.getBody();\n            if (isCollapsed && !dom.isEmpty(body)) {\n              return;\n            }\n            if (!isCollapsed && !allContentsSelected(editor.selection.getRng())) {\n              return;\n            }\n            e.preventDefault();\n            editor.setContent('');\n            if (body.firstChild && dom.isBlock(body.firstChild)) {\n              editor.selection.setCursorLocation(body.firstChild, 0);\n            } else {\n              editor.selection.setCursorLocation(body, 0);\n            }\n            editor.nodeChanged();\n          }\n        });\n      };\n      var selectAll = function () {\n        editor.shortcuts.add('meta+a', null, 'SelectAll');\n      };\n      var documentElementEditingFocus = function () {\n        if (!editor.inline) {\n          dom.bind(editor.getDoc(), 'mousedown mouseup', function (e) {\n            var rng;\n            if (e.target === editor.getDoc().documentElement) {\n              rng = selection.getRng();\n              editor.getBody().focus();\n              if (e.type === 'mousedown') {\n                if (isCaretContainer$2(rng.startContainer)) {\n                  return;\n                }\n                selection.placeCaretAt(e.clientX, e.clientY);\n              } else {\n                selection.setRng(rng);\n              }\n            }\n          });\n        }\n      };\n      var removeHrOnBackspace = function () {\n        editor.on('keydown', function (e) {\n          if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\n            if (!editor.getBody().getElementsByTagName('hr').length) {\n              return;\n            }\n            if (selection.isCollapsed() && selection.getRng().startOffset === 0) {\n              var node = selection.getNode();\n              var previousSibling = node.previousSibling;\n              if (node.nodeName === 'HR') {\n                dom.remove(node);\n                e.preventDefault();\n                return;\n              }\n              if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === 'hr') {\n                dom.remove(previousSibling);\n                e.preventDefault();\n              }\n            }\n          }\n        });\n      };\n      var focusBody = function () {\n        if (!Range.prototype.getClientRects) {\n          editor.on('mousedown', function (e) {\n            if (!isDefaultPrevented(e) && e.target.nodeName === 'HTML') {\n              var body_1 = editor.getBody();\n              body_1.blur();\n              Delay.setEditorTimeout(editor, function () {\n                body_1.focus();\n              });\n            }\n          });\n        }\n      };\n      var selectControlElements = function () {\n        editor.on('click', function (e) {\n          var target = e.target;\n          if (/^(IMG|HR)$/.test(target.nodeName) && dom.getContentEditableParent(target) !== 'false') {\n            e.preventDefault();\n            editor.selection.select(target);\n            editor.nodeChanged();\n          }\n          if (target.nodeName === 'A' && dom.hasClass(target, 'mce-item-anchor')) {\n            e.preventDefault();\n            selection.select(target);\n          }\n        });\n      };\n      var removeStylesWhenDeletingAcrossBlockElements = function () {\n        var getAttributeApplyFunction = function () {\n          var template = dom.getAttribs(selection.getStart().cloneNode(false));\n          return function () {\n            var target = selection.getStart();\n            if (target !== editor.getBody()) {\n              dom.setAttrib(target, 'style', null);\n              each(template, function (attr) {\n                target.setAttributeNode(attr.cloneNode(true));\n              });\n            }\n          };\n        };\n        var isSelectionAcrossElements = function () {\n          return !selection.isCollapsed() && dom.getParent(selection.getStart(), dom.isBlock) !== dom.getParent(selection.getEnd(), dom.isBlock);\n        };\n        editor.on('keypress', function (e) {\n          var applyAttributes;\n          if (!isDefaultPrevented(e) && (e.keyCode === 8 || e.keyCode === 46) && isSelectionAcrossElements()) {\n            applyAttributes = getAttributeApplyFunction();\n            editor.getDoc().execCommand('delete', false, null);\n            applyAttributes();\n            e.preventDefault();\n            return false;\n          }\n        });\n        dom.bind(editor.getDoc(), 'cut', function (e) {\n          var applyAttributes;\n          if (!isDefaultPrevented(e) && isSelectionAcrossElements()) {\n            applyAttributes = getAttributeApplyFunction();\n            Delay.setEditorTimeout(editor, function () {\n              applyAttributes();\n            });\n          }\n        });\n      };\n      var disableBackspaceIntoATable = function () {\n        editor.on('keydown', function (e) {\n          if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\n            if (selection.isCollapsed() && selection.getRng().startOffset === 0) {\n              var previousSibling = selection.getNode().previousSibling;\n              if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === 'table') {\n                e.preventDefault();\n                return false;\n              }\n            }\n          }\n        });\n      };\n      var removeBlockQuoteOnBackSpace = function () {\n        editor.on('keydown', function (e) {\n          var rng, parent;\n          if (isDefaultPrevented(e) || e.keyCode !== VK.BACKSPACE) {\n            return;\n          }\n          rng = selection.getRng();\n          var container = rng.startContainer;\n          var offset = rng.startOffset;\n          var root = dom.getRoot();\n          parent = container;\n          if (!rng.collapsed || offset !== 0) {\n            return;\n          }\n          while (parent && parent.parentNode && parent.parentNode.firstChild === parent && parent.parentNode !== root) {\n            parent = parent.parentNode;\n          }\n          if (parent.tagName === 'BLOCKQUOTE') {\n            editor.formatter.toggle('blockquote', null, parent);\n            rng = dom.createRng();\n            rng.setStart(container, 0);\n            rng.setEnd(container, 0);\n            selection.setRng(rng);\n          }\n        });\n      };\n      var setGeckoEditingOptions = function () {\n        var setOpts = function () {\n          setEditorCommandState('StyleWithCSS', false);\n          setEditorCommandState('enableInlineTableEditing', false);\n          if (!getObjectResizing(editor)) {\n            setEditorCommandState('enableObjectResizing', false);\n          }\n        };\n        if (!isReadOnly$1(editor)) {\n          editor.on('BeforeExecCommand mousedown', setOpts);\n        }\n      };\n      var addBrAfterLastLinks = function () {\n        var fixLinks = function () {\n          each(dom.select('a'), function (node) {\n            var parentNode = node.parentNode;\n            var root = dom.getRoot();\n            if (parentNode.lastChild === node) {\n              while (parentNode && !dom.isBlock(parentNode)) {\n                if (parentNode.parentNode.lastChild !== parentNode || parentNode === root) {\n                  return;\n                }\n                parentNode = parentNode.parentNode;\n              }\n              dom.add(parentNode, 'br', { 'data-mce-bogus': 1 });\n            }\n          });\n        };\n        editor.on('SetContent ExecCommand', function (e) {\n          if (e.type === 'setcontent' || e.command === 'mceInsertLink') {\n            fixLinks();\n          }\n        });\n      };\n      var setDefaultBlockType = function () {\n        if (getForcedRootBlock(editor)) {\n          editor.on('init', function () {\n            setEditorCommandState('DefaultParagraphSeparator', getForcedRootBlock(editor));\n          });\n        }\n      };\n      var normalizeSelection = function () {\n        editor.on('keyup focusin mouseup', function (e) {\n          if (!VK.modifierPressed(e)) {\n            selection.normalize();\n          }\n        }, true);\n      };\n      var showBrokenImageIcon = function () {\n        editor.contentStyles.push('img:-moz-broken {' + '-moz-force-broken-image-icon:1;' + 'min-width:24px;' + 'min-height:24px' + '}');\n      };\n      var restoreFocusOnKeyDown = function () {\n        if (!editor.inline) {\n          editor.on('keydown', function () {\n            if (document.activeElement === document.body) {\n              editor.getWin().focus();\n            }\n          });\n        }\n      };\n      var bodyHeight = function () {\n        if (!editor.inline) {\n          editor.contentStyles.push('body {min-height: 150px}');\n          editor.on('click', function (e) {\n            var rng;\n            if (e.target.nodeName === 'HTML') {\n              if (Env.ie > 11) {\n                editor.getBody().focus();\n                return;\n              }\n              rng = editor.selection.getRng();\n              editor.getBody().focus();\n              editor.selection.setRng(rng);\n              editor.selection.normalize();\n              editor.nodeChanged();\n            }\n          });\n        }\n      };\n      var blockCmdArrowNavigation = function () {\n        if (Env.mac) {\n          editor.on('keydown', function (e) {\n            if (VK.metaKeyPressed(e) && !e.shiftKey && (e.keyCode === 37 || e.keyCode === 39)) {\n              e.preventDefault();\n              var selection_1 = editor.selection.getSel();\n              selection_1.modify('move', e.keyCode === 37 ? 'backward' : 'forward', 'lineboundary');\n            }\n          });\n        }\n      };\n      var disableAutoUrlDetect = function () {\n        setEditorCommandState('AutoUrlDetect', false);\n      };\n      var tapLinksAndImages = function () {\n        editor.on('click', function (e) {\n          var elm = e.target;\n          do {\n            if (elm.tagName === 'A') {\n              e.preventDefault();\n              return;\n            }\n          } while (elm = elm.parentNode);\n        });\n        editor.contentStyles.push('.mce-content-body {-webkit-touch-callout: none}');\n      };\n      var blockFormSubmitInsideEditor = function () {\n        editor.on('init', function () {\n          editor.dom.bind(editor.getBody(), 'submit', function (e) {\n            e.preventDefault();\n          });\n        });\n      };\n      var removeAppleInterchangeBrs = function () {\n        parser.addNodeFilter('br', function (nodes) {\n          var i = nodes.length;\n          while (i--) {\n            if (nodes[i].attr('class') === 'Apple-interchange-newline') {\n              nodes[i].remove();\n            }\n          }\n        });\n      };\n      var ieInternalDragAndDrop = function () {\n        editor.on('dragstart', function (e) {\n          setMceInternalContent(e);\n        });\n        editor.on('drop', function (e) {\n          if (!isDefaultPrevented(e)) {\n            var internalContent = getMceInternalContent(e);\n            if (internalContent && internalContent.id !== editor.id) {\n              e.preventDefault();\n              var rng = fromPoint(e.x, e.y, editor.getDoc());\n              selection.setRng(rng);\n              insertClipboardContents(internalContent.html, true);\n            }\n          }\n        });\n      };\n      var refreshContentEditable = noop;\n      var isHidden = function () {\n        if (!isGecko || editor.removed) {\n          return false;\n        }\n        var sel = editor.selection.getSel();\n        return !sel || !sel.rangeCount || sel.rangeCount === 0;\n      };\n      var setupRtc = function () {\n        if (isWebKit) {\n          documentElementEditingFocus();\n          selectControlElements();\n          blockFormSubmitInsideEditor();\n          selectAll();\n          if (Env.iOS) {\n            restoreFocusOnKeyDown();\n            bodyHeight();\n            tapLinksAndImages();\n          }\n        }\n        if (isGecko) {\n          focusBody();\n          setGeckoEditingOptions();\n          showBrokenImageIcon();\n          blockCmdArrowNavigation();\n        }\n      };\n      var setup = function () {\n        removeBlockQuoteOnBackSpace();\n        emptyEditorWhenDeleting();\n        if (!Env.windowsPhone) {\n          normalizeSelection();\n        }\n        if (isWebKit) {\n          documentElementEditingFocus();\n          selectControlElements();\n          setDefaultBlockType();\n          blockFormSubmitInsideEditor();\n          disableBackspaceIntoATable();\n          removeAppleInterchangeBrs();\n          if (Env.iOS) {\n            restoreFocusOnKeyDown();\n            bodyHeight();\n            tapLinksAndImages();\n          } else {\n            selectAll();\n          }\n        }\n        if (Env.ie >= 11) {\n          bodyHeight();\n          disableBackspaceIntoATable();\n        }\n        if (Env.ie) {\n          selectAll();\n          disableAutoUrlDetect();\n          ieInternalDragAndDrop();\n        }\n        if (isGecko) {\n          removeHrOnBackspace();\n          focusBody();\n          removeStylesWhenDeletingAcrossBlockElements();\n          setGeckoEditingOptions();\n          addBrAfterLastLinks();\n          showBrokenImageIcon();\n          blockCmdArrowNavigation();\n          disableBackspaceIntoATable();\n        }\n      };\n      if (isRtc(editor)) {\n        setupRtc();\n      } else {\n        setup();\n      }\n      return {\n        refreshContentEditable: refreshContentEditable,\n        isHidden: isHidden\n      };\n    };\n\n    var DOM$6 = DOMUtils.DOM;\n    var appendStyle = function (editor, text) {\n      var body = SugarElement.fromDom(editor.getBody());\n      var container = getStyleContainer(getRootNode(body));\n      var style = SugarElement.fromTag('style');\n      set$1(style, 'type', 'text/css');\n      append$1(style, SugarElement.fromText(text));\n      append$1(container, style);\n      editor.on('remove', function () {\n        remove$7(style);\n      });\n    };\n    var getRootName = function (editor) {\n      return editor.inline ? editor.getElement().nodeName.toLowerCase() : undefined;\n    };\n    var removeUndefined = function (obj) {\n      return filter$3(obj, function (v) {\n        return isUndefined(v) === false;\n      });\n    };\n    var mkSchemaSettings = function (editor) {\n      var settings = editor.settings;\n      return removeUndefined({\n        block_elements: settings.block_elements,\n        boolean_attributes: settings.boolean_attributes,\n        custom_elements: settings.custom_elements,\n        extended_valid_elements: settings.extended_valid_elements,\n        invalid_elements: settings.invalid_elements,\n        invalid_styles: settings.invalid_styles,\n        move_caret_before_on_enter_elements: settings.move_caret_before_on_enter_elements,\n        non_empty_elements: settings.non_empty_elements,\n        schema: settings.schema,\n        self_closing_elements: settings.self_closing_elements,\n        short_ended_elements: settings.short_ended_elements,\n        special: settings.special,\n        text_block_elements: settings.text_block_elements,\n        text_inline_elements: settings.text_inline_elements,\n        valid_children: settings.valid_children,\n        valid_classes: settings.valid_classes,\n        valid_elements: settings.valid_elements,\n        valid_styles: settings.valid_styles,\n        verify_html: settings.verify_html,\n        whitespace_elements: settings.whitespace_elements,\n        padd_empty_block_inline_children: settings.format_empty_lines\n      });\n    };\n    var mkParserSettings = function (editor) {\n      var settings = editor.settings;\n      var blobCache = editor.editorUpload.blobCache;\n      return removeUndefined({\n        allow_conditional_comments: settings.allow_conditional_comments,\n        allow_html_data_urls: settings.allow_html_data_urls,\n        allow_svg_data_urls: settings.allow_svg_data_urls,\n        allow_html_in_named_anchor: settings.allow_html_in_named_anchor,\n        allow_script_urls: settings.allow_script_urls,\n        allow_unsafe_link_target: settings.allow_unsafe_link_target,\n        convert_fonts_to_spans: settings.convert_fonts_to_spans,\n        fix_list_elements: settings.fix_list_elements,\n        font_size_legacy_values: settings.font_size_legacy_values,\n        forced_root_block: settings.forced_root_block,\n        forced_root_block_attrs: settings.forced_root_block_attrs,\n        padd_empty_with_br: settings.padd_empty_with_br,\n        preserve_cdata: settings.preserve_cdata,\n        remove_trailing_brs: settings.remove_trailing_brs,\n        inline_styles: settings.inline_styles,\n        root_name: getRootName(editor),\n        validate: true,\n        blob_cache: blobCache,\n        document: editor.getDoc(),\n        images_dataimg_filter: settings.images_dataimg_filter\n      });\n    };\n    var mkSerializerSettings = function (editor) {\n      var settings = editor.settings;\n      return __assign(__assign(__assign({}, mkParserSettings(editor)), mkSchemaSettings(editor)), removeUndefined({\n        url_converter: settings.url_converter,\n        url_converter_scope: settings.url_converter_scope,\n        element_format: settings.element_format,\n        entities: settings.entities,\n        entity_encoding: settings.entity_encoding,\n        indent: settings.indent,\n        indent_after: settings.indent_after,\n        indent_before: settings.indent_before\n      }));\n    };\n    var createParser = function (editor) {\n      var parser = DomParser(mkParserSettings(editor), editor.schema);\n      parser.addAttributeFilter('src,href,style,tabindex', function (nodes, name) {\n        var i = nodes.length, node, value;\n        var dom = editor.dom;\n        var internalName = 'data-mce-' + name;\n        while (i--) {\n          node = nodes[i];\n          value = node.attr(name);\n          if (value && !node.attr(internalName)) {\n            if (value.indexOf('data:') === 0 || value.indexOf('blob:') === 0) {\n              continue;\n            }\n            if (name === 'style') {\n              value = dom.serializeStyle(dom.parseStyle(value), node.name);\n              if (!value.length) {\n                value = null;\n              }\n              node.attr(internalName, value);\n              node.attr(name, value);\n            } else if (name === 'tabindex') {\n              node.attr(internalName, value);\n              node.attr(name, null);\n            } else {\n              node.attr(internalName, editor.convertURL(value, name, node.name));\n            }\n          }\n        }\n      });\n      parser.addNodeFilter('script', function (nodes) {\n        var i = nodes.length;\n        while (i--) {\n          var node = nodes[i];\n          var type = node.attr('type') || 'no/type';\n          if (type.indexOf('mce-') !== 0) {\n            node.attr('type', 'mce-' + type);\n          }\n        }\n      });\n      if (editor.settings.preserve_cdata) {\n        parser.addNodeFilter('#cdata', function (nodes) {\n          var i = nodes.length;\n          while (i--) {\n            var node = nodes[i];\n            node.type = 8;\n            node.name = '#comment';\n            node.value = '[CDATA[' + editor.dom.encode(node.value) + ']]';\n          }\n        });\n      }\n      parser.addNodeFilter('p,h1,h2,h3,h4,h5,h6,div', function (nodes) {\n        var i = nodes.length;\n        var nonEmptyElements = editor.schema.getNonEmptyElements();\n        while (i--) {\n          var node = nodes[i];\n          if (node.isEmpty(nonEmptyElements) && node.getAll('br').length === 0) {\n            node.append(new AstNode('br', 1)).shortEnded = true;\n          }\n        }\n      });\n      return parser;\n    };\n    var autoFocus = function (editor) {\n      if (editor.settings.auto_focus) {\n        Delay.setEditorTimeout(editor, function () {\n          var focusEditor;\n          if (editor.settings.auto_focus === true) {\n            focusEditor = editor;\n          } else {\n            focusEditor = editor.editorManager.get(editor.settings.auto_focus);\n          }\n          if (!focusEditor.destroyed) {\n            focusEditor.focus();\n          }\n        }, 100);\n      }\n    };\n    var moveSelectionToFirstCaretPosition = function (editor) {\n      var root = editor.dom.getRoot();\n      if (!editor.inline && (!hasAnyRanges(editor) || editor.selection.getStart(true) === root)) {\n        firstPositionIn(root).each(function (pos) {\n          var node = pos.getNode();\n          var caretPos = isTable$3(node) ? firstPositionIn(node).getOr(pos) : pos;\n          if (Env.browser.isIE()) {\n            storeNative(editor, caretPos.toRange());\n          } else {\n            editor.selection.setRng(caretPos.toRange());\n          }\n        });\n      }\n    };\n    var initEditor = function (editor) {\n      editor.bindPendingEventDelegates();\n      editor.initialized = true;\n      fireInit(editor);\n      editor.focus(true);\n      moveSelectionToFirstCaretPosition(editor);\n      editor.nodeChanged({ initial: true });\n      editor.execCallback('init_instance_callback', editor);\n      autoFocus(editor);\n    };\n    var getStyleSheetLoader$1 = function (editor) {\n      return editor.inline ? editor.ui.styleSheetLoader : editor.dom.styleSheetLoader;\n    };\n    var makeStylesheetLoadingPromises = function (editor, css, framedFonts) {\n      var promises = [new promiseObj(function (resolve, reject) {\n          return getStyleSheetLoader$1(editor).loadAll(css, resolve, reject);\n        })];\n      if (editor.inline) {\n        return promises;\n      } else {\n        return promises.concat([new promiseObj(function (resolve, reject) {\n            return editor.ui.styleSheetLoader.loadAll(framedFonts, resolve, reject);\n          })]);\n      }\n    };\n    var loadContentCss = function (editor) {\n      var styleSheetLoader = getStyleSheetLoader$1(editor);\n      var fontCss = getFontCss(editor);\n      var css = editor.contentCSS;\n      var removeCss = function () {\n        styleSheetLoader.unloadAll(css);\n        if (!editor.inline) {\n          editor.ui.styleSheetLoader.unloadAll(fontCss);\n        }\n      };\n      var loaded = function () {\n        if (editor.removed) {\n          removeCss();\n        } else {\n          editor.on('remove', removeCss);\n        }\n      };\n      if (editor.contentStyles.length > 0) {\n        var contentCssText_1 = '';\n        Tools.each(editor.contentStyles, function (style) {\n          contentCssText_1 += style + '\\r\\n';\n        });\n        editor.dom.addStyle(contentCssText_1);\n      }\n      var allStylesheets = promiseObj.all(makeStylesheetLoadingPromises(editor, css, fontCss)).then(loaded).catch(loaded);\n      if (editor.settings.content_style) {\n        appendStyle(editor, editor.settings.content_style);\n      }\n      return allStylesheets;\n    };\n    var preInit = function (editor) {\n      var settings = editor.settings, doc = editor.getDoc(), body = editor.getBody();\n      firePreInit(editor);\n      if (!settings.browser_spellcheck && !settings.gecko_spellcheck) {\n        doc.body.spellcheck = false;\n        DOM$6.setAttrib(body, 'spellcheck', 'false');\n      }\n      editor.quirks = Quirks(editor);\n      firePostRender(editor);\n      var directionality = getDirectionality(editor);\n      if (directionality !== undefined) {\n        body.dir = directionality;\n      }\n      if (settings.protect) {\n        editor.on('BeforeSetContent', function (e) {\n          Tools.each(settings.protect, function (pattern) {\n            e.content = e.content.replace(pattern, function (str) {\n              return '<!--mce:protected ' + escape(str) + '-->';\n            });\n          });\n        });\n      }\n      editor.on('SetContent', function () {\n        editor.addVisual(editor.getBody());\n      });\n      editor.on('compositionstart compositionend', function (e) {\n        editor.composing = e.type === 'compositionstart';\n      });\n    };\n    var loadInitialContent = function (editor) {\n      if (!isRtc(editor)) {\n        editor.load({\n          initial: true,\n          format: 'html'\n        });\n      }\n      editor.startContent = editor.getContent({ format: 'raw' });\n    };\n    var initEditorWithInitialContent = function (editor) {\n      if (editor.removed !== true) {\n        loadInitialContent(editor);\n        initEditor(editor);\n      }\n    };\n    var initContentBody = function (editor, skipWrite) {\n      var settings = editor.settings;\n      var targetElm = editor.getElement();\n      var doc = editor.getDoc();\n      if (!settings.inline) {\n        editor.getElement().style.visibility = editor.orgVisibility;\n      }\n      if (!skipWrite && !editor.inline) {\n        doc.open();\n        doc.write(editor.iframeHTML);\n        doc.close();\n      }\n      if (editor.inline) {\n        DOM$6.addClass(targetElm, 'mce-content-body');\n        editor.contentDocument = doc = document;\n        editor.contentWindow = window;\n        editor.bodyElement = targetElm;\n        editor.contentAreaContainer = targetElm;\n      }\n      var body = editor.getBody();\n      body.disabled = true;\n      editor.readonly = !!settings.readonly;\n      if (!editor.readonly) {\n        if (editor.inline && DOM$6.getStyle(body, 'position', true) === 'static') {\n          body.style.position = 'relative';\n        }\n        body.contentEditable = editor.getParam('content_editable_state', true);\n      }\n      body.disabled = false;\n      editor.editorUpload = EditorUpload(editor);\n      editor.schema = Schema(mkSchemaSettings(editor));\n      editor.dom = DOMUtils(doc, {\n        keep_values: true,\n        url_converter: editor.convertURL,\n        url_converter_scope: editor,\n        hex_colors: settings.force_hex_style_colors,\n        update_styles: true,\n        root_element: editor.inline ? editor.getBody() : null,\n        collect: function () {\n          return editor.inline;\n        },\n        schema: editor.schema,\n        contentCssCors: shouldUseContentCssCors(editor),\n        referrerPolicy: getReferrerPolicy(editor),\n        onSetAttrib: function (e) {\n          editor.fire('SetAttrib', e);\n        }\n      });\n      editor.parser = createParser(editor);\n      editor.serializer = DomSerializer(mkSerializerSettings(editor), editor);\n      editor.selection = EditorSelection(editor.dom, editor.getWin(), editor.serializer, editor);\n      editor.annotator = Annotator(editor);\n      editor.formatter = Formatter(editor);\n      editor.undoManager = UndoManager(editor);\n      editor._nodeChangeDispatcher = new NodeChange(editor);\n      editor._selectionOverrides = SelectionOverrides(editor);\n      setup$e(editor);\n      setup$3(editor);\n      if (!isRtc(editor)) {\n        setup$2(editor);\n      }\n      var caret = setup$4(editor);\n      setup$f(editor, caret);\n      setup$d(editor);\n      setup$g(editor);\n      var setupRtcThunk = setup$i(editor);\n      preInit(editor);\n      setupRtcThunk.fold(function () {\n        loadContentCss(editor).then(function () {\n          return initEditorWithInitialContent(editor);\n        });\n      }, function (setupRtc) {\n        editor.setProgressState(true);\n        loadContentCss(editor).then(function () {\n          setupRtc().then(function (_rtcMode) {\n            editor.setProgressState(false);\n            initEditorWithInitialContent(editor);\n          }, function (err) {\n            editor.notificationManager.open({\n              type: 'error',\n              text: String(err)\n            });\n            initEditorWithInitialContent(editor);\n          });\n        });\n      });\n    };\n\n    var DOM$5 = DOMUtils.DOM;\n    var relaxDomain = function (editor, ifr) {\n      if (document.domain !== window.location.hostname && Env.browser.isIE()) {\n        var bodyUuid = uuid('mce');\n        editor[bodyUuid] = function () {\n          initContentBody(editor);\n        };\n        var domainRelaxUrl = 'javascript:(function(){' + 'document.open();document.domain=\"' + document.domain + '\";' + 'var ed = window.parent.tinymce.get(\"' + editor.id + '\");document.write(ed.iframeHTML);' + 'document.close();ed.' + bodyUuid + '(true);})()';\n        DOM$5.setAttrib(ifr, 'src', domainRelaxUrl);\n        return true;\n      }\n      return false;\n    };\n    var createIframeElement = function (id, title, height, customAttrs) {\n      var iframe = SugarElement.fromTag('iframe');\n      setAll$1(iframe, customAttrs);\n      setAll$1(iframe, {\n        id: id + '_ifr',\n        frameBorder: '0',\n        allowTransparency: 'true',\n        title: title\n      });\n      add$1(iframe, 'tox-edit-area__iframe');\n      return iframe;\n    };\n    var getIframeHtml = function (editor) {\n      var iframeHTML = getDocType(editor) + '<html><head>';\n      if (getDocumentBaseUrl(editor) !== editor.documentBaseUrl) {\n        iframeHTML += '<base href=\"' + editor.documentBaseURI.getURI() + '\" />';\n      }\n      iframeHTML += '<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />';\n      var bodyId = getBodyId(editor);\n      var bodyClass = getBodyClass(editor);\n      var translatedAriaText = editor.translate(getIframeAriaText(editor));\n      if (getContentSecurityPolicy(editor)) {\n        iframeHTML += '<meta http-equiv=\"Content-Security-Policy\" content=\"' + getContentSecurityPolicy(editor) + '\" />';\n      }\n      iframeHTML += '</head>' + ('<body id=\"' + bodyId + '\" class=\"mce-content-body ' + bodyClass + '\" data-id=\"' + editor.id + '\" aria-label=\"' + translatedAriaText + '\">') + '<br>' + '</body></html>';\n      return iframeHTML;\n    };\n    var createIframe = function (editor, o) {\n      var iframeTitle = editor.translate('Rich Text Area');\n      var ifr = createIframeElement(editor.id, iframeTitle, o.height, getIframeAttrs(editor)).dom;\n      ifr.onload = function () {\n        ifr.onload = null;\n        editor.fire('load');\n      };\n      var isDomainRelaxed = relaxDomain(editor, ifr);\n      editor.contentAreaContainer = o.iframeContainer;\n      editor.iframeElement = ifr;\n      editor.iframeHTML = getIframeHtml(editor);\n      DOM$5.add(o.iframeContainer, ifr);\n      return isDomainRelaxed;\n    };\n    var init$1 = function (editor, boxInfo) {\n      var isDomainRelaxed = createIframe(editor, boxInfo);\n      if (boxInfo.editorContainer) {\n        DOM$5.get(boxInfo.editorContainer).style.display = editor.orgDisplay;\n        editor.hidden = DOM$5.isHidden(boxInfo.editorContainer);\n      }\n      editor.getElement().style.display = 'none';\n      DOM$5.setAttrib(editor.id, 'aria-hidden', 'true');\n      if (!isDomainRelaxed) {\n        initContentBody(editor);\n      }\n    };\n\n    var DOM$4 = DOMUtils.DOM;\n    var initPlugin = function (editor, initializedPlugins, plugin) {\n      var Plugin = PluginManager.get(plugin);\n      var pluginUrl = PluginManager.urls[plugin] || editor.documentBaseUrl.replace(/\\/$/, '');\n      plugin = Tools.trim(plugin);\n      if (Plugin && Tools.inArray(initializedPlugins, plugin) === -1) {\n        Tools.each(PluginManager.dependencies(plugin), function (dep) {\n          initPlugin(editor, initializedPlugins, dep);\n        });\n        if (editor.plugins[plugin]) {\n          return;\n        }\n        try {\n          var pluginInstance = new Plugin(editor, pluginUrl, editor.$);\n          editor.plugins[plugin] = pluginInstance;\n          if (pluginInstance.init) {\n            pluginInstance.init(editor, pluginUrl);\n            initializedPlugins.push(plugin);\n          }\n        } catch (e) {\n          pluginInitError(editor, plugin, e);\n        }\n      }\n    };\n    var trimLegacyPrefix = function (name) {\n      return name.replace(/^\\-/, '');\n    };\n    var initPlugins = function (editor) {\n      var initializedPlugins = [];\n      Tools.each(getPlugins(editor).split(/[ ,]/), function (name) {\n        initPlugin(editor, initializedPlugins, trimLegacyPrefix(name));\n      });\n    };\n    var initIcons = function (editor) {\n      var iconPackName = Tools.trim(getIconPackName(editor));\n      var currentIcons = editor.ui.registry.getAll().icons;\n      var loadIcons = __assign(__assign({}, IconManager.get('default').icons), IconManager.get(iconPackName).icons);\n      each$j(loadIcons, function (svgData, icon) {\n        if (!has$2(currentIcons, icon)) {\n          editor.ui.registry.addIcon(icon, svgData);\n        }\n      });\n    };\n    var initTheme = function (editor) {\n      var theme = getTheme(editor);\n      if (isString$1(theme)) {\n        editor.settings.theme = trimLegacyPrefix(theme);\n        var Theme = ThemeManager.get(theme);\n        editor.theme = new Theme(editor, ThemeManager.urls[theme]);\n        if (editor.theme.init) {\n          editor.theme.init(editor, ThemeManager.urls[theme] || editor.documentBaseUrl.replace(/\\/$/, ''), editor.$);\n        }\n      } else {\n        editor.theme = {};\n      }\n    };\n    var renderFromLoadedTheme = function (editor) {\n      return editor.theme.renderUI();\n    };\n    var renderFromThemeFunc = function (editor) {\n      var elm = editor.getElement();\n      var theme = getTheme(editor);\n      var info = theme(editor, elm);\n      if (info.editorContainer.nodeType) {\n        info.editorContainer.id = info.editorContainer.id || editor.id + '_parent';\n      }\n      if (info.iframeContainer && info.iframeContainer.nodeType) {\n        info.iframeContainer.id = info.iframeContainer.id || editor.id + '_iframecontainer';\n      }\n      info.height = info.iframeHeight ? info.iframeHeight : elm.offsetHeight;\n      return info;\n    };\n    var createThemeFalseResult = function (element) {\n      return {\n        editorContainer: element,\n        iframeContainer: element,\n        api: {}\n      };\n    };\n    var renderThemeFalseIframe = function (targetElement) {\n      var iframeContainer = DOM$4.create('div');\n      DOM$4.insertAfter(iframeContainer, targetElement);\n      return createThemeFalseResult(iframeContainer);\n    };\n    var renderThemeFalse = function (editor) {\n      var targetElement = editor.getElement();\n      return editor.inline ? createThemeFalseResult(null) : renderThemeFalseIframe(targetElement);\n    };\n    var renderThemeUi = function (editor) {\n      var elm = editor.getElement();\n      editor.orgDisplay = elm.style.display;\n      if (isString$1(getTheme(editor))) {\n        return renderFromLoadedTheme(editor);\n      } else if (isFunction(getTheme(editor))) {\n        return renderFromThemeFunc(editor);\n      } else {\n        return renderThemeFalse(editor);\n      }\n    };\n    var augmentEditorUiApi = function (editor, api) {\n      var uiApiFacade = {\n        show: Optional.from(api.show).getOr(noop),\n        hide: Optional.from(api.hide).getOr(noop),\n        disable: Optional.from(api.disable).getOr(noop),\n        isDisabled: Optional.from(api.isDisabled).getOr(never),\n        enable: function () {\n          if (!editor.mode.isReadOnly()) {\n            Optional.from(api.enable).map(call);\n          }\n        }\n      };\n      editor.ui = __assign(__assign({}, editor.ui), uiApiFacade);\n    };\n    var init = function (editor) {\n      editor.fire('ScriptsLoaded');\n      initIcons(editor);\n      initTheme(editor);\n      initPlugins(editor);\n      var renderInfo = renderThemeUi(editor);\n      augmentEditorUiApi(editor, Optional.from(renderInfo.api).getOr({}));\n      var boxInfo = {\n        editorContainer: renderInfo.editorContainer,\n        iframeContainer: renderInfo.iframeContainer\n      };\n      editor.editorContainer = boxInfo.editorContainer ? boxInfo.editorContainer : null;\n      appendContentCssFromSettings(editor);\n      if (editor.inline) {\n        return initContentBody(editor);\n      } else {\n        return init$1(editor, boxInfo);\n      }\n    };\n\n    var DOM$3 = DOMUtils.DOM;\n    var hasSkipLoadPrefix = function (name) {\n      return name.charAt(0) === '-';\n    };\n    var loadLanguage = function (scriptLoader, editor) {\n      var languageCode = getLanguageCode(editor);\n      var languageUrl = getLanguageUrl(editor);\n      if (I18n.hasCode(languageCode) === false && languageCode !== 'en') {\n        var url_1 = languageUrl !== '' ? languageUrl : editor.editorManager.baseURL + '/langs/' + languageCode + '.js';\n        scriptLoader.add(url_1, noop, undefined, function () {\n          languageLoadError(editor, url_1, languageCode);\n        });\n      }\n    };\n    var loadTheme = function (scriptLoader, editor, suffix, callback) {\n      var theme = getTheme(editor);\n      if (isString$1(theme)) {\n        if (!hasSkipLoadPrefix(theme) && !has$2(ThemeManager.urls, theme)) {\n          var themeUrl = getThemeUrl(editor);\n          if (themeUrl) {\n            ThemeManager.load(theme, editor.documentBaseURI.toAbsolute(themeUrl));\n          } else {\n            ThemeManager.load(theme, 'themes/' + theme + '/theme' + suffix + '.js');\n          }\n        }\n        scriptLoader.loadQueue(function () {\n          ThemeManager.waitFor(theme, callback);\n        });\n      } else {\n        callback();\n      }\n    };\n    var getIconsUrlMetaFromUrl = function (editor) {\n      return Optional.from(getIconsUrl(editor)).filter(function (url) {\n        return url.length > 0;\n      }).map(function (url) {\n        return {\n          url: url,\n          name: Optional.none()\n        };\n      });\n    };\n    var getIconsUrlMetaFromName = function (editor, name, suffix) {\n      return Optional.from(name).filter(function (name) {\n        return name.length > 0 && !IconManager.has(name);\n      }).map(function (name) {\n        return {\n          url: editor.editorManager.baseURL + '/icons/' + name + '/icons' + suffix + '.js',\n          name: Optional.some(name)\n        };\n      });\n    };\n    var loadIcons = function (scriptLoader, editor, suffix) {\n      var defaultIconsUrl = getIconsUrlMetaFromName(editor, 'default', suffix);\n      var customIconsUrl = getIconsUrlMetaFromUrl(editor).orThunk(function () {\n        return getIconsUrlMetaFromName(editor, getIconPackName(editor), '');\n      });\n      each$k(cat([\n        defaultIconsUrl,\n        customIconsUrl\n      ]), function (urlMeta) {\n        scriptLoader.add(urlMeta.url, noop, undefined, function () {\n          iconsLoadError(editor, urlMeta.url, urlMeta.name.getOrUndefined());\n        });\n      });\n    };\n    var loadPlugins = function (editor, suffix) {\n      Tools.each(getExternalPlugins$1(editor), function (url, name) {\n        PluginManager.load(name, url, noop, undefined, function () {\n          pluginLoadError(editor, url, name);\n        });\n        editor.settings.plugins += ' ' + name;\n      });\n      Tools.each(getPlugins(editor).split(/[ ,]/), function (plugin) {\n        plugin = Tools.trim(plugin);\n        if (plugin && !PluginManager.urls[plugin]) {\n          if (hasSkipLoadPrefix(plugin)) {\n            plugin = plugin.substr(1, plugin.length);\n            var dependencies = PluginManager.dependencies(plugin);\n            Tools.each(dependencies, function (depPlugin) {\n              var defaultSettings = {\n                prefix: 'plugins/',\n                resource: depPlugin,\n                suffix: '/plugin' + suffix + '.js'\n              };\n              var dep = PluginManager.createUrl(defaultSettings, depPlugin);\n              PluginManager.load(dep.resource, dep, noop, undefined, function () {\n                pluginLoadError(editor, dep.prefix + dep.resource + dep.suffix, dep.resource);\n              });\n            });\n          } else {\n            var url_2 = {\n              prefix: 'plugins/',\n              resource: plugin,\n              suffix: '/plugin' + suffix + '.js'\n            };\n            PluginManager.load(plugin, url_2, noop, undefined, function () {\n              pluginLoadError(editor, url_2.prefix + url_2.resource + url_2.suffix, plugin);\n            });\n          }\n        }\n      });\n    };\n    var loadScripts = function (editor, suffix) {\n      var scriptLoader = ScriptLoader.ScriptLoader;\n      loadTheme(scriptLoader, editor, suffix, function () {\n        loadLanguage(scriptLoader, editor);\n        loadIcons(scriptLoader, editor, suffix);\n        loadPlugins(editor, suffix);\n        scriptLoader.loadQueue(function () {\n          if (!editor.removed) {\n            init(editor);\n          }\n        }, editor, function () {\n          if (!editor.removed) {\n            init(editor);\n          }\n        });\n      });\n    };\n    var getStyleSheetLoader = function (element, editor) {\n      return instance.forElement(element, {\n        contentCssCors: hasContentCssCors(editor),\n        referrerPolicy: getReferrerPolicy(editor)\n      });\n    };\n    var render = function (editor) {\n      var id = editor.id;\n      I18n.setCode(getLanguageCode(editor));\n      var readyHandler = function () {\n        DOM$3.unbind(window, 'ready', readyHandler);\n        editor.render();\n      };\n      if (!EventUtils.Event.domLoaded) {\n        DOM$3.bind(window, 'ready', readyHandler);\n        return;\n      }\n      if (!editor.getElement()) {\n        return;\n      }\n      if (!Env.contentEditable) {\n        return;\n      }\n      var element = SugarElement.fromDom(editor.getElement());\n      var snapshot = clone$3(element);\n      editor.on('remove', function () {\n        eachr(element.dom.attributes, function (attr) {\n          return remove$6(element, attr.name);\n        });\n        setAll$1(element, snapshot);\n      });\n      editor.ui.styleSheetLoader = getStyleSheetLoader(element, editor);\n      if (!isInline(editor)) {\n        editor.orgVisibility = editor.getElement().style.visibility;\n        editor.getElement().style.visibility = 'hidden';\n      } else {\n        editor.inline = true;\n      }\n      var form = editor.getElement().form || DOM$3.getParent(id, 'form');\n      if (form) {\n        editor.formElement = form;\n        if (hasHiddenInput(editor) && !isTextareaOrInput(editor.getElement())) {\n          DOM$3.insertAfter(DOM$3.create('input', {\n            type: 'hidden',\n            name: id\n          }), id);\n          editor.hasHiddenInput = true;\n        }\n        editor.formEventDelegate = function (e) {\n          editor.fire(e.type, e);\n        };\n        DOM$3.bind(form, 'submit reset', editor.formEventDelegate);\n        editor.on('reset', function () {\n          editor.resetContent();\n        });\n        if (shouldPatchSubmit(editor) && !form.submit.nodeType && !form.submit.length && !form._mceOldSubmit) {\n          form._mceOldSubmit = form.submit;\n          form.submit = function () {\n            editor.editorManager.triggerSave();\n            editor.setDirty(false);\n            return form._mceOldSubmit(form);\n          };\n        }\n      }\n      editor.windowManager = WindowManager(editor);\n      editor.notificationManager = NotificationManager(editor);\n      if (isEncodingXml(editor)) {\n        editor.on('GetContent', function (e) {\n          if (e.save) {\n            e.content = DOM$3.encode(e.content);\n          }\n        });\n      }\n      if (shouldAddFormSubmitTrigger(editor)) {\n        editor.on('submit', function () {\n          if (editor.initialized) {\n            editor.save();\n          }\n        });\n      }\n      if (shouldAddUnloadTrigger(editor)) {\n        editor._beforeUnload = function () {\n          if (editor.initialized && !editor.destroyed && !editor.isHidden()) {\n            editor.save({\n              format: 'raw',\n              no_events: true,\n              set_dirty: false\n            });\n          }\n        };\n        editor.editorManager.on('BeforeUnload', editor._beforeUnload);\n      }\n      editor.editorManager.add(editor);\n      loadScripts(editor, editor.suffix);\n    };\n\n    var addVisual = function (editor, elm) {\n      return addVisual$1(editor, elm);\n    };\n\n    var legacyPropNames = {\n      'font-size': 'size',\n      'font-family': 'face'\n    };\n    var getSpecifiedFontProp = function (propName, rootElm, elm) {\n      var getProperty = function (elm) {\n        return getRaw(elm, propName).orThunk(function () {\n          if (name(elm) === 'font') {\n            return get$9(legacyPropNames, propName).bind(function (legacyPropName) {\n              return getOpt(elm, legacyPropName);\n            });\n          } else {\n            return Optional.none();\n          }\n        });\n      };\n      var isRoot = function (elm) {\n        return eq(SugarElement.fromDom(rootElm), elm);\n      };\n      return closest$1(SugarElement.fromDom(elm), function (elm) {\n        return getProperty(elm);\n      }, isRoot);\n    };\n    var normalizeFontFamily = function (fontFamily) {\n      return fontFamily.replace(/[\\'\\\"\\\\]/g, '').replace(/,\\s+/g, ',');\n    };\n    var getComputedFontProp = function (propName, elm) {\n      return Optional.from(DOMUtils.DOM.getStyle(elm, propName, true));\n    };\n    var getFontProp = function (propName) {\n      return function (rootElm, elm) {\n        return Optional.from(elm).map(SugarElement.fromDom).filter(isElement$6).bind(function (element) {\n          return getSpecifiedFontProp(propName, rootElm, element.dom).or(getComputedFontProp(propName, element.dom));\n        }).getOr('');\n      };\n    };\n    var getFontSize = getFontProp('font-size');\n    var getFontFamily = compose(normalizeFontFamily, getFontProp('font-family'));\n\n    var findFirstCaretElement = function (editor) {\n      return firstPositionIn(editor.getBody()).map(function (caret) {\n        var container = caret.container();\n        return isText$7(container) ? container.parentNode : container;\n      });\n    };\n    var getCaretElement = function (editor) {\n      return Optional.from(editor.selection.getRng()).bind(function (rng) {\n        var root = editor.getBody();\n        var atStartOfNode = rng.startContainer === root && rng.startOffset === 0;\n        return atStartOfNode ? Optional.none() : Optional.from(editor.selection.getStart(true));\n      });\n    };\n    var bindRange = function (editor, binder) {\n      return getCaretElement(editor).orThunk(curry(findFirstCaretElement, editor)).map(SugarElement.fromDom).filter(isElement$6).bind(binder);\n    };\n    var mapRange = function (editor, mapper) {\n      return bindRange(editor, compose1(Optional.some, mapper));\n    };\n\n    var fromFontSizeNumber = function (editor, value) {\n      if (/^[0-9.]+$/.test(value)) {\n        var fontSizeNumber = parseInt(value, 10);\n        if (fontSizeNumber >= 1 && fontSizeNumber <= 7) {\n          var fontSizes = getFontStyleValues(editor);\n          var fontClasses = getFontSizeClasses(editor);\n          if (fontClasses) {\n            return fontClasses[fontSizeNumber - 1] || value;\n          } else {\n            return fontSizes[fontSizeNumber - 1] || value;\n          }\n        } else {\n          return value;\n        }\n      } else {\n        return value;\n      }\n    };\n    var normalizeFontNames = function (font) {\n      var fonts = font.split(/\\s*,\\s*/);\n      return map$3(fonts, function (font) {\n        if (font.indexOf(' ') !== -1 && !(startsWith(font, '\"') || startsWith(font, '\\''))) {\n          return '\\'' + font + '\\'';\n        } else {\n          return font;\n        }\n      }).join(',');\n    };\n    var fontNameAction = function (editor, value) {\n      var font = fromFontSizeNumber(editor, value);\n      editor.formatter.toggle('fontname', { value: normalizeFontNames(font) });\n      editor.nodeChanged();\n    };\n    var fontNameQuery = function (editor) {\n      return mapRange(editor, function (elm) {\n        return getFontFamily(editor.getBody(), elm.dom);\n      }).getOr('');\n    };\n    var fontSizeAction = function (editor, value) {\n      editor.formatter.toggle('fontsize', { value: fromFontSizeNumber(editor, value) });\n      editor.nodeChanged();\n    };\n    var fontSizeQuery = function (editor) {\n      return mapRange(editor, function (elm) {\n        return getFontSize(editor.getBody(), elm.dom);\n      }).getOr('');\n    };\n\n    var lineHeightQuery = function (editor) {\n      return mapRange(editor, function (elm) {\n        var root = SugarElement.fromDom(editor.getBody());\n        var specifiedStyle = closest$1(elm, function (elm) {\n          return getRaw(elm, 'line-height');\n        }, curry(eq, root));\n        var computedStyle = function () {\n          var lineHeight = parseFloat(get$5(elm, 'line-height'));\n          var fontSize = parseFloat(get$5(elm, 'font-size'));\n          return String(lineHeight / fontSize);\n        };\n        return specifiedStyle.getOrThunk(computedStyle);\n      }).getOr('');\n    };\n    var lineHeightAction = function (editor, lineHeight) {\n      editor.formatter.toggle('lineheight', { value: String(lineHeight) });\n      editor.nodeChanged();\n    };\n\n    var processValue = function (value) {\n      if (typeof value !== 'string') {\n        var details = Tools.extend({\n          paste: value.paste,\n          data: { paste: value.paste }\n        }, value);\n        return {\n          content: value.content,\n          details: details\n        };\n      }\n      return {\n        content: value,\n        details: {}\n      };\n    };\n    var insertAtCaret = function (editor, value) {\n      var result = processValue(value);\n      insertContent(editor, result.content, result.details);\n    };\n\n    var each$4 = Tools.each;\n    var map = Tools.map, inArray = Tools.inArray;\n    var EditorCommands = function () {\n      function EditorCommands(editor) {\n        this.commands = {\n          state: {},\n          exec: {},\n          value: {}\n        };\n        this.editor = editor;\n        this.setupCommands(editor);\n      }\n      EditorCommands.prototype.execCommand = function (command, ui, value, args) {\n        var func, state = false;\n        var self = this;\n        if (self.editor.removed) {\n          return;\n        }\n        if (command.toLowerCase() !== 'mcefocus') {\n          if (!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(command) && (!args || !args.skip_focus)) {\n            self.editor.focus();\n          } else {\n            restore(self.editor);\n          }\n        }\n        args = self.editor.fire('BeforeExecCommand', {\n          command: command,\n          ui: ui,\n          value: value\n        });\n        if (args.isDefaultPrevented()) {\n          return false;\n        }\n        var customCommand = command.toLowerCase();\n        if (func = self.commands.exec[customCommand]) {\n          func(customCommand, ui, value);\n          self.editor.fire('ExecCommand', {\n            command: command,\n            ui: ui,\n            value: value\n          });\n          return true;\n        }\n        each$4(this.editor.plugins, function (p) {\n          if (p.execCommand && p.execCommand(command, ui, value)) {\n            self.editor.fire('ExecCommand', {\n              command: command,\n              ui: ui,\n              value: value\n            });\n            state = true;\n            return false;\n          }\n        });\n        if (state) {\n          return state;\n        }\n        if (self.editor.theme && self.editor.theme.execCommand && self.editor.theme.execCommand(command, ui, value)) {\n          self.editor.fire('ExecCommand', {\n            command: command,\n            ui: ui,\n            value: value\n          });\n          return true;\n        }\n        try {\n          state = self.editor.getDoc().execCommand(command, ui, value);\n        } catch (ex) {\n        }\n        if (state) {\n          self.editor.fire('ExecCommand', {\n            command: command,\n            ui: ui,\n            value: value\n          });\n          return true;\n        }\n        return false;\n      };\n      EditorCommands.prototype.queryCommandState = function (command) {\n        var func;\n        if (this.editor.quirks.isHidden() || this.editor.removed) {\n          return;\n        }\n        command = command.toLowerCase();\n        if (func = this.commands.state[command]) {\n          return func(command);\n        }\n        try {\n          return this.editor.getDoc().queryCommandState(command);\n        } catch (ex) {\n        }\n        return false;\n      };\n      EditorCommands.prototype.queryCommandValue = function (command) {\n        var func;\n        if (this.editor.quirks.isHidden() || this.editor.removed) {\n          return;\n        }\n        command = command.toLowerCase();\n        if (func = this.commands.value[command]) {\n          return func(command);\n        }\n        try {\n          return this.editor.getDoc().queryCommandValue(command);\n        } catch (ex) {\n        }\n      };\n      EditorCommands.prototype.addCommands = function (commandList, type) {\n        if (type === void 0) {\n          type = 'exec';\n        }\n        var self = this;\n        each$4(commandList, function (callback, command) {\n          each$4(command.toLowerCase().split(','), function (command) {\n            self.commands[type][command] = callback;\n          });\n        });\n      };\n      EditorCommands.prototype.addCommand = function (command, callback, scope) {\n        var _this = this;\n        command = command.toLowerCase();\n        this.commands.exec[command] = function (command, ui, value, args) {\n          return callback.call(scope || _this.editor, ui, value, args);\n        };\n      };\n      EditorCommands.prototype.queryCommandSupported = function (command) {\n        command = command.toLowerCase();\n        if (this.commands.exec[command]) {\n          return true;\n        }\n        try {\n          return this.editor.getDoc().queryCommandSupported(command);\n        } catch (ex) {\n        }\n        return false;\n      };\n      EditorCommands.prototype.addQueryStateHandler = function (command, callback, scope) {\n        var _this = this;\n        command = command.toLowerCase();\n        this.commands.state[command] = function () {\n          return callback.call(scope || _this.editor);\n        };\n      };\n      EditorCommands.prototype.addQueryValueHandler = function (command, callback, scope) {\n        var _this = this;\n        command = command.toLowerCase();\n        this.commands.value[command] = function () {\n          return callback.call(scope || _this.editor);\n        };\n      };\n      EditorCommands.prototype.hasCustomCommand = function (command) {\n        command = command.toLowerCase();\n        return !!this.commands.exec[command];\n      };\n      EditorCommands.prototype.execNativeCommand = function (command, ui, value) {\n        if (ui === undefined) {\n          ui = false;\n        }\n        if (value === undefined) {\n          value = null;\n        }\n        return this.editor.getDoc().execCommand(command, ui, value);\n      };\n      EditorCommands.prototype.isFormatMatch = function (name) {\n        return this.editor.formatter.match(name);\n      };\n      EditorCommands.prototype.toggleFormat = function (name, value) {\n        this.editor.formatter.toggle(name, value);\n        this.editor.nodeChanged();\n      };\n      EditorCommands.prototype.storeSelection = function (type) {\n        this.selectionBookmark = this.editor.selection.getBookmark(type);\n      };\n      EditorCommands.prototype.restoreSelection = function () {\n        this.editor.selection.moveToBookmark(this.selectionBookmark);\n      };\n      EditorCommands.prototype.setupCommands = function (editor) {\n        var self = this;\n        this.addCommands({\n          'mceResetDesignMode,mceBeginUndoLevel': noop,\n          'mceEndUndoLevel,mceAddUndoLevel': function () {\n            editor.undoManager.add();\n          },\n          'mceFocus': function (_command, _ui, value) {\n            focus(editor, value);\n          },\n          'Cut,Copy,Paste': function (command) {\n            var doc = editor.getDoc();\n            var failed;\n            try {\n              self.execNativeCommand(command);\n            } catch (ex) {\n              failed = true;\n            }\n            if (command === 'paste' && !doc.queryCommandEnabled(command)) {\n              failed = true;\n            }\n            if (failed || !doc.queryCommandSupported(command)) {\n              var msg = editor.translate('Your browser doesn\\'t support direct access to the clipboard. ' + 'Please use the Ctrl+X/C/V keyboard shortcuts instead.');\n              if (Env.mac) {\n                msg = msg.replace(/Ctrl\\+/g, '\\u2318+');\n              }\n              editor.notificationManager.open({\n                text: msg,\n                type: 'error'\n              });\n            }\n          },\n          'unlink': function () {\n            if (editor.selection.isCollapsed()) {\n              var elm = editor.dom.getParent(editor.selection.getStart(), 'a');\n              if (elm) {\n                editor.dom.remove(elm, true);\n              }\n              return;\n            }\n            editor.formatter.remove('link');\n          },\n          'JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone': function (command) {\n            var align = command.substring(7);\n            if (align === 'full') {\n              align = 'justify';\n            }\n            each$4('left,center,right,justify'.split(','), function (name) {\n              if (align !== name) {\n                editor.formatter.remove('align' + name);\n              }\n            });\n            if (align !== 'none') {\n              self.toggleFormat('align' + align);\n            }\n          },\n          'InsertUnorderedList,InsertOrderedList': function (command) {\n            var listParent;\n            self.execNativeCommand(command);\n            var listElm = editor.dom.getParent(editor.selection.getNode(), 'ol,ul');\n            if (listElm) {\n              listParent = listElm.parentNode;\n              if (/^(H[1-6]|P|ADDRESS|PRE)$/.test(listParent.nodeName)) {\n                self.storeSelection();\n                editor.dom.split(listParent, listElm);\n                self.restoreSelection();\n              }\n            }\n          },\n          'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': function (command) {\n            self.toggleFormat(command);\n          },\n          'ForeColor,HiliteColor': function (command, ui, value) {\n            self.toggleFormat(command, { value: value });\n          },\n          'FontName': function (command, ui, value) {\n            fontNameAction(editor, value);\n          },\n          'FontSize': function (command, ui, value) {\n            fontSizeAction(editor, value);\n          },\n          'LineHeight': function (command, ui, value) {\n            lineHeightAction(editor, value);\n          },\n          'Lang': function (command, ui, lang) {\n            self.toggleFormat(command, {\n              value: lang.code,\n              customValue: lang.customCode\n            });\n          },\n          'RemoveFormat': function (command) {\n            editor.formatter.remove(command);\n          },\n          'mceBlockQuote': function () {\n            self.toggleFormat('blockquote');\n          },\n          'FormatBlock': function (command, ui, value) {\n            return self.toggleFormat(value || 'p');\n          },\n          'mceCleanup': function () {\n            var bookmark = editor.selection.getBookmark();\n            editor.setContent(editor.getContent());\n            editor.selection.moveToBookmark(bookmark);\n          },\n          'mceRemoveNode': function (command, ui, value) {\n            var node = value || editor.selection.getNode();\n            if (node !== editor.getBody()) {\n              self.storeSelection();\n              editor.dom.remove(node, true);\n              self.restoreSelection();\n            }\n          },\n          'mceSelectNodeDepth': function (command, ui, value) {\n            var counter = 0;\n            editor.dom.getParent(editor.selection.getNode(), function (node) {\n              if (node.nodeType === 1 && counter++ === value) {\n                editor.selection.select(node);\n                return false;\n              }\n            }, editor.getBody());\n          },\n          'mceSelectNode': function (command, ui, value) {\n            editor.selection.select(value);\n          },\n          'mceInsertContent': function (command, ui, value) {\n            insertAtCaret(editor, value);\n          },\n          'mceInsertRawHTML': function (command, ui, value) {\n            editor.selection.setContent('tiny_mce_marker');\n            var content = editor.getContent();\n            editor.setContent(content.replace(/tiny_mce_marker/g, function () {\n              return value;\n            }));\n          },\n          'mceInsertNewLine': function (command, ui, value) {\n            insert(editor, value);\n          },\n          'mceToggleFormat': function (command, ui, value) {\n            self.toggleFormat(value);\n          },\n          'mceSetContent': function (command, ui, value) {\n            editor.setContent(value);\n          },\n          'Indent,Outdent': function (command) {\n            handle(editor, command);\n          },\n          'mceRepaint': noop,\n          'InsertHorizontalRule': function () {\n            editor.execCommand('mceInsertContent', false, '<hr />');\n          },\n          'mceToggleVisualAid': function () {\n            editor.hasVisual = !editor.hasVisual;\n            editor.addVisual();\n          },\n          'mceReplaceContent': function (command, ui, value) {\n            editor.execCommand('mceInsertContent', false, value.replace(/\\{\\$selection\\}/g, editor.selection.getContent({ format: 'text' })));\n          },\n          'mceInsertLink': function (command, ui, value) {\n            if (typeof value === 'string') {\n              value = { href: value };\n            }\n            var anchor = editor.dom.getParent(editor.selection.getNode(), 'a');\n            value.href = value.href.replace(/ /g, '%20');\n            if (!anchor || !value.href) {\n              editor.formatter.remove('link');\n            }\n            if (value.href) {\n              editor.formatter.apply('link', value, anchor);\n            }\n          },\n          'selectAll': function () {\n            var editingHost = editor.dom.getParent(editor.selection.getStart(), isContentEditableTrue$4);\n            if (editingHost) {\n              var rng = editor.dom.createRng();\n              rng.selectNodeContents(editingHost);\n              editor.selection.setRng(rng);\n            }\n          },\n          'mceNewDocument': function () {\n            editor.setContent('');\n          },\n          'InsertLineBreak': function (command, ui, value) {\n            insert$1(editor, value);\n            return true;\n          }\n        });\n        var alignStates = function (name) {\n          return function () {\n            var selection = editor.selection;\n            var nodes = selection.isCollapsed() ? [editor.dom.getParent(selection.getNode(), editor.dom.isBlock)] : selection.getSelectedBlocks();\n            var matches = map(nodes, function (node) {\n              return !!editor.formatter.matchNode(node, name);\n            });\n            return inArray(matches, true) !== -1;\n          };\n        };\n        self.addCommands({\n          'JustifyLeft': alignStates('alignleft'),\n          'JustifyCenter': alignStates('aligncenter'),\n          'JustifyRight': alignStates('alignright'),\n          'JustifyFull': alignStates('alignjustify'),\n          'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': function (command) {\n            return self.isFormatMatch(command);\n          },\n          'mceBlockQuote': function () {\n            return self.isFormatMatch('blockquote');\n          },\n          'Outdent': function () {\n            return canOutdent(editor);\n          },\n          'InsertUnorderedList,InsertOrderedList': function (command) {\n            var list = editor.dom.getParent(editor.selection.getNode(), 'ul,ol');\n            return list && (command === 'insertunorderedlist' && list.tagName === 'UL' || command === 'insertorderedlist' && list.tagName === 'OL');\n          }\n        }, 'state');\n        self.addCommands({\n          Undo: function () {\n            editor.undoManager.undo();\n          },\n          Redo: function () {\n            editor.undoManager.redo();\n          }\n        });\n        self.addQueryValueHandler('FontName', function () {\n          return fontNameQuery(editor);\n        }, this);\n        self.addQueryValueHandler('FontSize', function () {\n          return fontSizeQuery(editor);\n        }, this);\n        self.addQueryValueHandler('LineHeight', function () {\n          return lineHeightQuery(editor);\n        }, this);\n      };\n      return EditorCommands;\n    }();\n\n    var internalContentEditableAttr = 'data-mce-contenteditable';\n    var toggleClass = function (elm, cls, state) {\n      if (has(elm, cls) && state === false) {\n        remove$3(elm, cls);\n      } else if (state) {\n        add$1(elm, cls);\n      }\n    };\n    var setEditorCommandState = function (editor, cmd, state) {\n      try {\n        editor.getDoc().execCommand(cmd, false, String(state));\n      } catch (ex) {\n      }\n    };\n    var setContentEditable = function (elm, state) {\n      elm.dom.contentEditable = state ? 'true' : 'false';\n    };\n    var switchOffContentEditableTrue = function (elm) {\n      each$k(descendants(elm, '*[contenteditable=\"true\"]'), function (elm) {\n        set$1(elm, internalContentEditableAttr, 'true');\n        setContentEditable(elm, false);\n      });\n    };\n    var switchOnContentEditableTrue = function (elm) {\n      each$k(descendants(elm, '*[' + internalContentEditableAttr + '=\"true\"]'), function (elm) {\n        remove$6(elm, internalContentEditableAttr);\n        setContentEditable(elm, true);\n      });\n    };\n    var removeFakeSelection = function (editor) {\n      Optional.from(editor.selection.getNode()).each(function (elm) {\n        elm.removeAttribute('data-mce-selected');\n      });\n    };\n    var restoreFakeSelection = function (editor) {\n      editor.selection.setRng(editor.selection.getRng());\n    };\n    var toggleReadOnly = function (editor, state) {\n      var body = SugarElement.fromDom(editor.getBody());\n      toggleClass(body, 'mce-content-readonly', state);\n      if (state) {\n        editor.selection.controlSelection.hideResizeRect();\n        editor._selectionOverrides.hideFakeCaret();\n        removeFakeSelection(editor);\n        editor.readonly = true;\n        setContentEditable(body, false);\n        switchOffContentEditableTrue(body);\n      } else {\n        editor.readonly = false;\n        setContentEditable(body, true);\n        switchOnContentEditableTrue(body);\n        setEditorCommandState(editor, 'StyleWithCSS', false);\n        setEditorCommandState(editor, 'enableInlineTableEditing', false);\n        setEditorCommandState(editor, 'enableObjectResizing', false);\n        if (hasEditorOrUiFocus(editor)) {\n          editor.focus();\n        }\n        restoreFakeSelection(editor);\n        editor.nodeChanged();\n      }\n    };\n    var isReadOnly = function (editor) {\n      return editor.readonly;\n    };\n    var registerFilters = function (editor) {\n      editor.parser.addAttributeFilter('contenteditable', function (nodes) {\n        if (isReadOnly(editor)) {\n          each$k(nodes, function (node) {\n            node.attr(internalContentEditableAttr, node.attr('contenteditable'));\n            node.attr('contenteditable', 'false');\n          });\n        }\n      });\n      editor.serializer.addAttributeFilter(internalContentEditableAttr, function (nodes) {\n        if (isReadOnly(editor)) {\n          each$k(nodes, function (node) {\n            node.attr('contenteditable', node.attr(internalContentEditableAttr));\n          });\n        }\n      });\n      editor.serializer.addTempAttr(internalContentEditableAttr);\n    };\n    var registerReadOnlyContentFilters = function (editor) {\n      if (editor.serializer) {\n        registerFilters(editor);\n      } else {\n        editor.on('PreInit', function () {\n          registerFilters(editor);\n        });\n      }\n    };\n    var isClickEvent = function (e) {\n      return e.type === 'click';\n    };\n    var getAnchorHrefOpt = function (editor, elm) {\n      var isRoot = function (elm) {\n        return eq(elm, SugarElement.fromDom(editor.getBody()));\n      };\n      return closest$2(elm, 'a', isRoot).bind(function (a) {\n        return getOpt(a, 'href');\n      });\n    };\n    var processReadonlyEvents = function (editor, e) {\n      if (isClickEvent(e) && !VK.metaKeyPressed(e)) {\n        var elm = SugarElement.fromDom(e.target);\n        getAnchorHrefOpt(editor, elm).each(function (href) {\n          e.preventDefault();\n          if (/^#/.test(href)) {\n            var targetEl = editor.dom.select(href + ',[name=\"' + removeLeading(href, '#') + '\"]');\n            if (targetEl.length) {\n              editor.selection.scrollIntoView(targetEl[0], true);\n            }\n          } else {\n            window.open(href, '_blank', 'rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes');\n          }\n        });\n      }\n    };\n    var registerReadOnlySelectionBlockers = function (editor) {\n      editor.on('ShowCaret', function (e) {\n        if (isReadOnly(editor)) {\n          e.preventDefault();\n        }\n      });\n      editor.on('ObjectSelected', function (e) {\n        if (isReadOnly(editor)) {\n          e.preventDefault();\n        }\n      });\n    };\n\n    var nativeEvents = Tools.makeMap('focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange ' + 'mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover ' + 'draggesture dragdrop drop drag submit ' + 'compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel', ' ');\n    var EventDispatcher = function () {\n      function EventDispatcher(settings) {\n        this.bindings = {};\n        this.settings = settings || {};\n        this.scope = this.settings.scope || this;\n        this.toggleEvent = this.settings.toggleEvent || never;\n      }\n      EventDispatcher.isNative = function (name) {\n        return !!nativeEvents[name.toLowerCase()];\n      };\n      EventDispatcher.prototype.fire = function (name, args) {\n        var lcName = name.toLowerCase();\n        var event = normalize$3(lcName, args || {}, this.scope);\n        if (this.settings.beforeFire) {\n          this.settings.beforeFire(event);\n        }\n        var handlers = this.bindings[lcName];\n        if (handlers) {\n          for (var i = 0, l = handlers.length; i < l; i++) {\n            var callback = handlers[i];\n            if (callback.removed) {\n              continue;\n            }\n            if (callback.once) {\n              this.off(lcName, callback.func);\n            }\n            if (event.isImmediatePropagationStopped()) {\n              return event;\n            }\n            if (callback.func.call(this.scope, event) === false) {\n              event.preventDefault();\n              return event;\n            }\n          }\n        }\n        return event;\n      };\n      EventDispatcher.prototype.on = function (name, callback, prepend, extra) {\n        if (callback === false) {\n          callback = never;\n        }\n        if (callback) {\n          var wrappedCallback = {\n            func: callback,\n            removed: false\n          };\n          if (extra) {\n            Tools.extend(wrappedCallback, extra);\n          }\n          var names = name.toLowerCase().split(' ');\n          var i = names.length;\n          while (i--) {\n            var currentName = names[i];\n            var handlers = this.bindings[currentName];\n            if (!handlers) {\n              handlers = [];\n              this.toggleEvent(currentName, true);\n            }\n            if (prepend) {\n              handlers = __spreadArray([wrappedCallback], handlers, true);\n            } else {\n              handlers = __spreadArray(__spreadArray([], handlers, true), [wrappedCallback], false);\n            }\n            this.bindings[currentName] = handlers;\n          }\n        }\n        return this;\n      };\n      EventDispatcher.prototype.off = function (name, callback) {\n        var _this = this;\n        if (name) {\n          var names = name.toLowerCase().split(' ');\n          var i = names.length;\n          while (i--) {\n            var currentName = names[i];\n            var handlers = this.bindings[currentName];\n            if (!currentName) {\n              each$j(this.bindings, function (_value, bindingName) {\n                _this.toggleEvent(bindingName, false);\n                delete _this.bindings[bindingName];\n              });\n              return this;\n            }\n            if (handlers) {\n              if (!callback) {\n                handlers.length = 0;\n              } else {\n                var filteredHandlers = partition(handlers, function (handler) {\n                  return handler.func === callback;\n                });\n                handlers = filteredHandlers.fail;\n                this.bindings[currentName] = handlers;\n                each$k(filteredHandlers.pass, function (handler) {\n                  handler.removed = true;\n                });\n              }\n              if (!handlers.length) {\n                this.toggleEvent(name, false);\n                delete this.bindings[currentName];\n              }\n            }\n          }\n        } else {\n          each$j(this.bindings, function (_value, name) {\n            _this.toggleEvent(name, false);\n          });\n          this.bindings = {};\n        }\n        return this;\n      };\n      EventDispatcher.prototype.once = function (name, callback, prepend) {\n        return this.on(name, callback, prepend, { once: true });\n      };\n      EventDispatcher.prototype.has = function (name) {\n        name = name.toLowerCase();\n        return !(!this.bindings[name] || this.bindings[name].length === 0);\n      };\n      return EventDispatcher;\n    }();\n\n    var getEventDispatcher = function (obj) {\n      if (!obj._eventDispatcher) {\n        obj._eventDispatcher = new EventDispatcher({\n          scope: obj,\n          toggleEvent: function (name, state) {\n            if (EventDispatcher.isNative(name) && obj.toggleNativeEvent) {\n              obj.toggleNativeEvent(name, state);\n            }\n          }\n        });\n      }\n      return obj._eventDispatcher;\n    };\n    var Observable = {\n      fire: function (name, args, bubble) {\n        var self = this;\n        if (self.removed && name !== 'remove' && name !== 'detach') {\n          return args;\n        }\n        var dispatcherArgs = getEventDispatcher(self).fire(name, args);\n        if (bubble !== false && self.parent) {\n          var parent_1 = self.parent();\n          while (parent_1 && !dispatcherArgs.isPropagationStopped()) {\n            parent_1.fire(name, dispatcherArgs, false);\n            parent_1 = parent_1.parent();\n          }\n        }\n        return dispatcherArgs;\n      },\n      on: function (name, callback, prepend) {\n        return getEventDispatcher(this).on(name, callback, prepend);\n      },\n      off: function (name, callback) {\n        return getEventDispatcher(this).off(name, callback);\n      },\n      once: function (name, callback) {\n        return getEventDispatcher(this).once(name, callback);\n      },\n      hasEventListeners: function (name) {\n        return getEventDispatcher(this).has(name);\n      }\n    };\n\n    var DOM$2 = DOMUtils.DOM;\n    var customEventRootDelegates;\n    var getEventTarget = function (editor, eventName) {\n      if (eventName === 'selectionchange') {\n        return editor.getDoc();\n      }\n      if (!editor.inline && /^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(eventName)) {\n        return editor.getDoc().documentElement;\n      }\n      var eventRoot = getEventRoot(editor);\n      if (eventRoot) {\n        if (!editor.eventRoot) {\n          editor.eventRoot = DOM$2.select(eventRoot)[0];\n        }\n        return editor.eventRoot;\n      }\n      return editor.getBody();\n    };\n    var isListening = function (editor) {\n      return !editor.hidden && !isReadOnly(editor);\n    };\n    var fireEvent = function (editor, eventName, e) {\n      if (isListening(editor)) {\n        editor.fire(eventName, e);\n      } else if (isReadOnly(editor)) {\n        processReadonlyEvents(editor, e);\n      }\n    };\n    var bindEventDelegate = function (editor, eventName) {\n      var delegate;\n      if (!editor.delegates) {\n        editor.delegates = {};\n      }\n      if (editor.delegates[eventName] || editor.removed) {\n        return;\n      }\n      var eventRootElm = getEventTarget(editor, eventName);\n      if (getEventRoot(editor)) {\n        if (!customEventRootDelegates) {\n          customEventRootDelegates = {};\n          editor.editorManager.on('removeEditor', function () {\n            if (!editor.editorManager.activeEditor) {\n              if (customEventRootDelegates) {\n                each$j(customEventRootDelegates, function (_value, name) {\n                  editor.dom.unbind(getEventTarget(editor, name));\n                });\n                customEventRootDelegates = null;\n              }\n            }\n          });\n        }\n        if (customEventRootDelegates[eventName]) {\n          return;\n        }\n        delegate = function (e) {\n          var target = e.target;\n          var editors = editor.editorManager.get();\n          var i = editors.length;\n          while (i--) {\n            var body = editors[i].getBody();\n            if (body === target || DOM$2.isChildOf(target, body)) {\n              fireEvent(editors[i], eventName, e);\n            }\n          }\n        };\n        customEventRootDelegates[eventName] = delegate;\n        DOM$2.bind(eventRootElm, eventName, delegate);\n      } else {\n        delegate = function (e) {\n          fireEvent(editor, eventName, e);\n        };\n        DOM$2.bind(eventRootElm, eventName, delegate);\n        editor.delegates[eventName] = delegate;\n      }\n    };\n    var EditorObservable = __assign(__assign({}, Observable), {\n      bindPendingEventDelegates: function () {\n        var self = this;\n        Tools.each(self._pendingNativeEvents, function (name) {\n          bindEventDelegate(self, name);\n        });\n      },\n      toggleNativeEvent: function (name, state) {\n        var self = this;\n        if (name === 'focus' || name === 'blur') {\n          return;\n        }\n        if (self.removed) {\n          return;\n        }\n        if (state) {\n          if (self.initialized) {\n            bindEventDelegate(self, name);\n          } else {\n            if (!self._pendingNativeEvents) {\n              self._pendingNativeEvents = [name];\n            } else {\n              self._pendingNativeEvents.push(name);\n            }\n          }\n        } else if (self.initialized) {\n          self.dom.unbind(getEventTarget(self, name), name, self.delegates[name]);\n          delete self.delegates[name];\n        }\n      },\n      unbindAllNativeEvents: function () {\n        var self = this;\n        var body = self.getBody();\n        var dom = self.dom;\n        if (self.delegates) {\n          each$j(self.delegates, function (value, name) {\n            self.dom.unbind(getEventTarget(self, name), name, value);\n          });\n          delete self.delegates;\n        }\n        if (!self.inline && body && dom) {\n          body.onload = null;\n          dom.unbind(self.getWin());\n          dom.unbind(self.getDoc());\n        }\n        if (dom) {\n          dom.unbind(body);\n          dom.unbind(self.getContainer());\n        }\n      }\n    });\n\n    var defaultModes = [\n      'design',\n      'readonly'\n    ];\n    var switchToMode = function (editor, activeMode, availableModes, mode) {\n      var oldMode = availableModes[activeMode.get()];\n      var newMode = availableModes[mode];\n      try {\n        newMode.activate();\n      } catch (e) {\n        console.error('problem while activating editor mode ' + mode + ':', e);\n        return;\n      }\n      oldMode.deactivate();\n      if (oldMode.editorReadOnly !== newMode.editorReadOnly) {\n        toggleReadOnly(editor, newMode.editorReadOnly);\n      }\n      activeMode.set(mode);\n      fireSwitchMode(editor, mode);\n    };\n    var setMode = function (editor, availableModes, activeMode, mode) {\n      if (mode === activeMode.get()) {\n        return;\n      } else if (!has$2(availableModes, mode)) {\n        throw new Error('Editor mode \\'' + mode + '\\' is invalid');\n      }\n      if (editor.initialized) {\n        switchToMode(editor, activeMode, availableModes, mode);\n      } else {\n        editor.on('init', function () {\n          return switchToMode(editor, activeMode, availableModes, mode);\n        });\n      }\n    };\n    var registerMode = function (availableModes, mode, api) {\n      var _a;\n      if (contains$3(defaultModes, mode)) {\n        throw new Error('Cannot override default mode ' + mode);\n      }\n      return __assign(__assign({}, availableModes), (_a = {}, _a[mode] = __assign(__assign({}, api), {\n        deactivate: function () {\n          try {\n            api.deactivate();\n          } catch (e) {\n            console.error('problem while deactivating editor mode ' + mode + ':', e);\n          }\n        }\n      }), _a));\n    };\n\n    var create$4 = function (editor) {\n      var activeMode = Cell('design');\n      var availableModes = Cell({\n        design: {\n          activate: noop,\n          deactivate: noop,\n          editorReadOnly: false\n        },\n        readonly: {\n          activate: noop,\n          deactivate: noop,\n          editorReadOnly: true\n        }\n      });\n      registerReadOnlyContentFilters(editor);\n      registerReadOnlySelectionBlockers(editor);\n      return {\n        isReadOnly: function () {\n          return isReadOnly(editor);\n        },\n        set: function (mode) {\n          return setMode(editor, availableModes.get(), activeMode, mode);\n        },\n        get: function () {\n          return activeMode.get();\n        },\n        register: function (mode, api) {\n          availableModes.set(registerMode(availableModes.get(), mode, api));\n        }\n      };\n    };\n\n    var each$3 = Tools.each, explode$1 = Tools.explode;\n    var keyCodeLookup = {\n      f1: 112,\n      f2: 113,\n      f3: 114,\n      f4: 115,\n      f5: 116,\n      f6: 117,\n      f7: 118,\n      f8: 119,\n      f9: 120,\n      f10: 121,\n      f11: 122,\n      f12: 123\n    };\n    var modifierNames = Tools.makeMap('alt,ctrl,shift,meta,access');\n    var parseShortcut = function (pattern) {\n      var key;\n      var shortcut = {};\n      each$3(explode$1(pattern.toLowerCase(), '+'), function (value) {\n        if (value in modifierNames) {\n          shortcut[value] = true;\n        } else {\n          if (/^[0-9]{2,}$/.test(value)) {\n            shortcut.keyCode = parseInt(value, 10);\n          } else {\n            shortcut.charCode = value.charCodeAt(0);\n            shortcut.keyCode = keyCodeLookup[value] || value.toUpperCase().charCodeAt(0);\n          }\n        }\n      });\n      var id = [shortcut.keyCode];\n      for (key in modifierNames) {\n        if (shortcut[key]) {\n          id.push(key);\n        } else {\n          shortcut[key] = false;\n        }\n      }\n      shortcut.id = id.join(',');\n      if (shortcut.access) {\n        shortcut.alt = true;\n        if (Env.mac) {\n          shortcut.ctrl = true;\n        } else {\n          shortcut.shift = true;\n        }\n      }\n      if (shortcut.meta) {\n        if (Env.mac) {\n          shortcut.meta = true;\n        } else {\n          shortcut.ctrl = true;\n          shortcut.meta = false;\n        }\n      }\n      return shortcut;\n    };\n    var Shortcuts = function () {\n      function Shortcuts(editor) {\n        this.shortcuts = {};\n        this.pendingPatterns = [];\n        this.editor = editor;\n        var self = this;\n        editor.on('keyup keypress keydown', function (e) {\n          if ((self.hasModifier(e) || self.isFunctionKey(e)) && !e.isDefaultPrevented()) {\n            each$3(self.shortcuts, function (shortcut) {\n              if (self.matchShortcut(e, shortcut)) {\n                self.pendingPatterns = shortcut.subpatterns.slice(0);\n                if (e.type === 'keydown') {\n                  self.executeShortcutAction(shortcut);\n                }\n                return true;\n              }\n            });\n            if (self.matchShortcut(e, self.pendingPatterns[0])) {\n              if (self.pendingPatterns.length === 1) {\n                if (e.type === 'keydown') {\n                  self.executeShortcutAction(self.pendingPatterns[0]);\n                }\n              }\n              self.pendingPatterns.shift();\n            }\n          }\n        });\n      }\n      Shortcuts.prototype.add = function (pattern, desc, cmdFunc, scope) {\n        var self = this;\n        var func = self.normalizeCommandFunc(cmdFunc);\n        each$3(explode$1(Tools.trim(pattern)), function (pattern) {\n          var shortcut = self.createShortcut(pattern, desc, func, scope);\n          self.shortcuts[shortcut.id] = shortcut;\n        });\n        return true;\n      };\n      Shortcuts.prototype.remove = function (pattern) {\n        var shortcut = this.createShortcut(pattern);\n        if (this.shortcuts[shortcut.id]) {\n          delete this.shortcuts[shortcut.id];\n          return true;\n        }\n        return false;\n      };\n      Shortcuts.prototype.normalizeCommandFunc = function (cmdFunc) {\n        var self = this;\n        var cmd = cmdFunc;\n        if (typeof cmd === 'string') {\n          return function () {\n            self.editor.execCommand(cmd, false, null);\n          };\n        } else if (Tools.isArray(cmd)) {\n          return function () {\n            self.editor.execCommand(cmd[0], cmd[1], cmd[2]);\n          };\n        } else {\n          return cmd;\n        }\n      };\n      Shortcuts.prototype.createShortcut = function (pattern, desc, cmdFunc, scope) {\n        var shortcuts = Tools.map(explode$1(pattern, '>'), parseShortcut);\n        shortcuts[shortcuts.length - 1] = Tools.extend(shortcuts[shortcuts.length - 1], {\n          func: cmdFunc,\n          scope: scope || this.editor\n        });\n        return Tools.extend(shortcuts[0], {\n          desc: this.editor.translate(desc),\n          subpatterns: shortcuts.slice(1)\n        });\n      };\n      Shortcuts.prototype.hasModifier = function (e) {\n        return e.altKey || e.ctrlKey || e.metaKey;\n      };\n      Shortcuts.prototype.isFunctionKey = function (e) {\n        return e.type === 'keydown' && e.keyCode >= 112 && e.keyCode <= 123;\n      };\n      Shortcuts.prototype.matchShortcut = function (e, shortcut) {\n        if (!shortcut) {\n          return false;\n        }\n        if (shortcut.ctrl !== e.ctrlKey || shortcut.meta !== e.metaKey) {\n          return false;\n        }\n        if (shortcut.alt !== e.altKey || shortcut.shift !== e.shiftKey) {\n          return false;\n        }\n        if (e.keyCode === shortcut.keyCode || e.charCode && e.charCode === shortcut.charCode) {\n          e.preventDefault();\n          return true;\n        }\n        return false;\n      };\n      Shortcuts.prototype.executeShortcutAction = function (shortcut) {\n        return shortcut.func ? shortcut.func.call(shortcut.scope) : null;\n      };\n      return Shortcuts;\n    }();\n\n    var create$3 = function () {\n      var buttons = {};\n      var menuItems = {};\n      var popups = {};\n      var icons = {};\n      var contextMenus = {};\n      var contextToolbars = {};\n      var sidebars = {};\n      var add = function (collection, type) {\n        return function (name, spec) {\n          return collection[name.toLowerCase()] = __assign(__assign({}, spec), { type: type });\n        };\n      };\n      var addIcon = function (name, svgData) {\n        return icons[name.toLowerCase()] = svgData;\n      };\n      return {\n        addButton: add(buttons, 'button'),\n        addGroupToolbarButton: add(buttons, 'grouptoolbarbutton'),\n        addToggleButton: add(buttons, 'togglebutton'),\n        addMenuButton: add(buttons, 'menubutton'),\n        addSplitButton: add(buttons, 'splitbutton'),\n        addMenuItem: add(menuItems, 'menuitem'),\n        addNestedMenuItem: add(menuItems, 'nestedmenuitem'),\n        addToggleMenuItem: add(menuItems, 'togglemenuitem'),\n        addAutocompleter: add(popups, 'autocompleter'),\n        addContextMenu: add(contextMenus, 'contextmenu'),\n        addContextToolbar: add(contextToolbars, 'contexttoolbar'),\n        addContextForm: add(contextToolbars, 'contextform'),\n        addSidebar: add(sidebars, 'sidebar'),\n        addIcon: addIcon,\n        getAll: function () {\n          return {\n            buttons: buttons,\n            menuItems: menuItems,\n            icons: icons,\n            popups: popups,\n            contextMenus: contextMenus,\n            contextToolbars: contextToolbars,\n            sidebars: sidebars\n          };\n        }\n      };\n    };\n\n    var registry = function () {\n      var bridge = create$3();\n      return {\n        addAutocompleter: bridge.addAutocompleter,\n        addButton: bridge.addButton,\n        addContextForm: bridge.addContextForm,\n        addContextMenu: bridge.addContextMenu,\n        addContextToolbar: bridge.addContextToolbar,\n        addIcon: bridge.addIcon,\n        addMenuButton: bridge.addMenuButton,\n        addMenuItem: bridge.addMenuItem,\n        addNestedMenuItem: bridge.addNestedMenuItem,\n        addSidebar: bridge.addSidebar,\n        addSplitButton: bridge.addSplitButton,\n        addToggleButton: bridge.addToggleButton,\n        addGroupToolbarButton: bridge.addGroupToolbarButton,\n        addToggleMenuItem: bridge.addToggleMenuItem,\n        getAll: bridge.getAll\n      };\n    };\n\n    var DOM$1 = DOMUtils.DOM;\n    var extend$3 = Tools.extend, each$2 = Tools.each;\n    var resolve = Tools.resolve;\n    var ie = Env.ie;\n    var Editor = function () {\n      function Editor(id, settings, editorManager) {\n        var _this = this;\n        this.plugins = {};\n        this.contentCSS = [];\n        this.contentStyles = [];\n        this.loadedCSS = {};\n        this.isNotDirty = false;\n        this.editorManager = editorManager;\n        this.documentBaseUrl = editorManager.documentBaseURL;\n        extend$3(this, EditorObservable);\n        this.settings = getEditorSettings(this, id, this.documentBaseUrl, editorManager.defaultSettings, settings);\n        if (this.settings.suffix) {\n          editorManager.suffix = this.settings.suffix;\n        }\n        this.suffix = editorManager.suffix;\n        if (this.settings.base_url) {\n          editorManager._setBaseUrl(this.settings.base_url);\n        }\n        this.baseUri = editorManager.baseURI;\n        if (this.settings.referrer_policy) {\n          ScriptLoader.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy);\n          DOMUtils.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy);\n        }\n        AddOnManager.languageLoad = this.settings.language_load;\n        AddOnManager.baseURL = editorManager.baseURL;\n        this.id = id;\n        this.setDirty(false);\n        this.documentBaseURI = new URI(this.settings.document_base_url, { base_uri: this.baseUri });\n        this.baseURI = this.baseUri;\n        this.inline = !!this.settings.inline;\n        this.shortcuts = new Shortcuts(this);\n        this.editorCommands = new EditorCommands(this);\n        if (this.settings.cache_suffix) {\n          Env.cacheSuffix = this.settings.cache_suffix.replace(/^[\\?\\&]+/, '');\n        }\n        this.ui = {\n          registry: registry(),\n          styleSheetLoader: undefined,\n          show: noop,\n          hide: noop,\n          enable: noop,\n          disable: noop,\n          isDisabled: never\n        };\n        var self = this;\n        var modeInstance = create$4(self);\n        this.mode = modeInstance;\n        this.setMode = modeInstance.set;\n        editorManager.fire('SetupEditor', { editor: this });\n        this.execCallback('setup', this);\n        this.$ = DomQuery.overrideDefaults(function () {\n          return {\n            context: _this.inline ? _this.getBody() : _this.getDoc(),\n            element: _this.getBody()\n          };\n        });\n      }\n      Editor.prototype.render = function () {\n        render(this);\n      };\n      Editor.prototype.focus = function (skipFocus) {\n        this.execCommand('mceFocus', false, skipFocus);\n      };\n      Editor.prototype.hasFocus = function () {\n        return hasFocus(this);\n      };\n      Editor.prototype.execCallback = function (name) {\n        var x = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n          x[_i - 1] = arguments[_i];\n        }\n        var self = this;\n        var callback = self.settings[name], scope;\n        if (!callback) {\n          return;\n        }\n        if (self.callbackLookup && (scope = self.callbackLookup[name])) {\n          callback = scope.func;\n          scope = scope.scope;\n        }\n        if (typeof callback === 'string') {\n          scope = callback.replace(/\\.\\w+$/, '');\n          scope = scope ? resolve(scope) : 0;\n          callback = resolve(callback);\n          self.callbackLookup = self.callbackLookup || {};\n          self.callbackLookup[name] = {\n            func: callback,\n            scope: scope\n          };\n        }\n        return callback.apply(scope || self, x);\n      };\n      Editor.prototype.translate = function (text) {\n        return I18n.translate(text);\n      };\n      Editor.prototype.getParam = function (name, defaultVal, type) {\n        return getParam(this, name, defaultVal, type);\n      };\n      Editor.prototype.hasPlugin = function (name, loaded) {\n        var hasPlugin = contains$3(getPlugins(this).split(/[ ,]/), name);\n        if (hasPlugin) {\n          return loaded ? PluginManager.get(name) !== undefined : true;\n        } else {\n          return false;\n        }\n      };\n      Editor.prototype.nodeChanged = function (args) {\n        this._nodeChangeDispatcher.nodeChanged(args);\n      };\n      Editor.prototype.addCommand = function (name, callback, scope) {\n        this.editorCommands.addCommand(name, callback, scope);\n      };\n      Editor.prototype.addQueryStateHandler = function (name, callback, scope) {\n        this.editorCommands.addQueryStateHandler(name, callback, scope);\n      };\n      Editor.prototype.addQueryValueHandler = function (name, callback, scope) {\n        this.editorCommands.addQueryValueHandler(name, callback, scope);\n      };\n      Editor.prototype.addShortcut = function (pattern, desc, cmdFunc, scope) {\n        this.shortcuts.add(pattern, desc, cmdFunc, scope);\n      };\n      Editor.prototype.execCommand = function (cmd, ui, value, args) {\n        return this.editorCommands.execCommand(cmd, ui, value, args);\n      };\n      Editor.prototype.queryCommandState = function (cmd) {\n        return this.editorCommands.queryCommandState(cmd);\n      };\n      Editor.prototype.queryCommandValue = function (cmd) {\n        return this.editorCommands.queryCommandValue(cmd);\n      };\n      Editor.prototype.queryCommandSupported = function (cmd) {\n        return this.editorCommands.queryCommandSupported(cmd);\n      };\n      Editor.prototype.show = function () {\n        var self = this;\n        if (self.hidden) {\n          self.hidden = false;\n          if (self.inline) {\n            self.getBody().contentEditable = 'true';\n          } else {\n            DOM$1.show(self.getContainer());\n            DOM$1.hide(self.id);\n          }\n          self.load();\n          self.fire('show');\n        }\n      };\n      Editor.prototype.hide = function () {\n        var self = this, doc = self.getDoc();\n        if (!self.hidden) {\n          if (ie && doc && !self.inline) {\n            doc.execCommand('SelectAll');\n          }\n          self.save();\n          if (self.inline) {\n            self.getBody().contentEditable = 'false';\n            if (self === self.editorManager.focusedEditor) {\n              self.editorManager.focusedEditor = null;\n            }\n          } else {\n            DOM$1.hide(self.getContainer());\n            DOM$1.setStyle(self.id, 'display', self.orgDisplay);\n          }\n          self.hidden = true;\n          self.fire('hide');\n        }\n      };\n      Editor.prototype.isHidden = function () {\n        return !!this.hidden;\n      };\n      Editor.prototype.setProgressState = function (state, time) {\n        this.fire('ProgressState', {\n          state: state,\n          time: time\n        });\n      };\n      Editor.prototype.load = function (args) {\n        var self = this;\n        var elm = self.getElement(), html;\n        if (self.removed) {\n          return '';\n        }\n        if (elm) {\n          args = args || {};\n          args.load = true;\n          var value = isTextareaOrInput(elm) ? elm.value : elm.innerHTML;\n          html = self.setContent(value, args);\n          args.element = elm;\n          if (!args.no_events) {\n            self.fire('LoadContent', args);\n          }\n          args.element = elm = null;\n          return html;\n        }\n      };\n      Editor.prototype.save = function (args) {\n        var self = this;\n        var elm = self.getElement(), html, form;\n        if (!elm || !self.initialized || self.removed) {\n          return;\n        }\n        args = args || {};\n        args.save = true;\n        args.element = elm;\n        html = args.content = self.getContent(args);\n        if (!args.no_events) {\n          self.fire('SaveContent', args);\n        }\n        if (args.format === 'raw') {\n          self.fire('RawSaveContent', args);\n        }\n        html = args.content;\n        if (!isTextareaOrInput(elm)) {\n          if (args.is_removing || !self.inline) {\n            elm.innerHTML = html;\n          }\n          if (form = DOM$1.getParent(self.id, 'form')) {\n            each$2(form.elements, function (elm) {\n              if (elm.name === self.id) {\n                elm.value = html;\n                return false;\n              }\n            });\n          }\n        } else {\n          elm.value = html;\n        }\n        args.element = elm = null;\n        if (args.set_dirty !== false) {\n          self.setDirty(false);\n        }\n        return html;\n      };\n      Editor.prototype.setContent = function (content, args) {\n        return setContent(this, content, args);\n      };\n      Editor.prototype.getContent = function (args) {\n        return getContent(this, args);\n      };\n      Editor.prototype.insertContent = function (content, args) {\n        if (args) {\n          content = extend$3({ content: content }, args);\n        }\n        this.execCommand('mceInsertContent', false, content);\n      };\n      Editor.prototype.resetContent = function (initialContent) {\n        if (initialContent === undefined) {\n          setContent(this, this.startContent, { format: 'raw' });\n        } else {\n          setContent(this, initialContent);\n        }\n        this.undoManager.reset();\n        this.setDirty(false);\n        this.nodeChanged();\n      };\n      Editor.prototype.isDirty = function () {\n        return !this.isNotDirty;\n      };\n      Editor.prototype.setDirty = function (state) {\n        var oldState = !this.isNotDirty;\n        this.isNotDirty = !state;\n        if (state && state !== oldState) {\n          this.fire('dirty');\n        }\n      };\n      Editor.prototype.getContainer = function () {\n        var self = this;\n        if (!self.container) {\n          self.container = DOM$1.get(self.editorContainer || self.id + '_parent');\n        }\n        return self.container;\n      };\n      Editor.prototype.getContentAreaContainer = function () {\n        return this.contentAreaContainer;\n      };\n      Editor.prototype.getElement = function () {\n        if (!this.targetElm) {\n          this.targetElm = DOM$1.get(this.id);\n        }\n        return this.targetElm;\n      };\n      Editor.prototype.getWin = function () {\n        var self = this;\n        var elm;\n        if (!self.contentWindow) {\n          elm = self.iframeElement;\n          if (elm) {\n            self.contentWindow = elm.contentWindow;\n          }\n        }\n        return self.contentWindow;\n      };\n      Editor.prototype.getDoc = function () {\n        var self = this;\n        var win;\n        if (!self.contentDocument) {\n          win = self.getWin();\n          if (win) {\n            self.contentDocument = win.document;\n          }\n        }\n        return self.contentDocument;\n      };\n      Editor.prototype.getBody = function () {\n        var doc = this.getDoc();\n        return this.bodyElement || (doc ? doc.body : null);\n      };\n      Editor.prototype.convertURL = function (url, name, elm) {\n        var self = this, settings = self.settings;\n        if (settings.urlconverter_callback) {\n          return self.execCallback('urlconverter_callback', url, elm, true, name);\n        }\n        if (!settings.convert_urls || elm && elm.nodeName === 'LINK' || url.indexOf('file:') === 0 || url.length === 0) {\n          return url;\n        }\n        if (settings.relative_urls) {\n          return self.documentBaseURI.toRelative(url);\n        }\n        url = self.documentBaseURI.toAbsolute(url, settings.remove_script_host);\n        return url;\n      };\n      Editor.prototype.addVisual = function (elm) {\n        addVisual(this, elm);\n      };\n      Editor.prototype.remove = function () {\n        remove(this);\n      };\n      Editor.prototype.destroy = function (automatic) {\n        destroy(this, automatic);\n      };\n      Editor.prototype.uploadImages = function (callback) {\n        return this.editorUpload.uploadImages(callback);\n      };\n      Editor.prototype._scanForImages = function () {\n        return this.editorUpload.scanForImages();\n      };\n      Editor.prototype.addButton = function () {\n        throw new Error('editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead');\n      };\n      Editor.prototype.addSidebar = function () {\n        throw new Error('editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead');\n      };\n      Editor.prototype.addMenuItem = function () {\n        throw new Error('editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead');\n      };\n      Editor.prototype.addContextToolbar = function () {\n        throw new Error('editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead');\n      };\n      return Editor;\n    }();\n\n    var DOM = DOMUtils.DOM;\n    var explode = Tools.explode, each$1 = Tools.each, extend$2 = Tools.extend;\n    var instanceCounter = 0, boundGlobalEvents = false;\n    var beforeUnloadDelegate;\n    var legacyEditors = [];\n    var editors = [];\n    var isValidLegacyKey = function (id) {\n      return id !== 'length';\n    };\n    var globalEventDelegate = function (e) {\n      var type = e.type;\n      each$1(EditorManager.get(), function (editor) {\n        switch (type) {\n        case 'scroll':\n          editor.fire('ScrollWindow', e);\n          break;\n        case 'resize':\n          editor.fire('ResizeWindow', e);\n          break;\n        }\n      });\n    };\n    var toggleGlobalEvents = function (state) {\n      if (state !== boundGlobalEvents) {\n        if (state) {\n          DomQuery(window).on('resize scroll', globalEventDelegate);\n        } else {\n          DomQuery(window).off('resize scroll', globalEventDelegate);\n        }\n        boundGlobalEvents = state;\n      }\n    };\n    var removeEditorFromList = function (targetEditor) {\n      var oldEditors = editors;\n      delete legacyEditors[targetEditor.id];\n      for (var i = 0; i < legacyEditors.length; i++) {\n        if (legacyEditors[i] === targetEditor) {\n          legacyEditors.splice(i, 1);\n          break;\n        }\n      }\n      editors = filter$4(editors, function (editor) {\n        return targetEditor !== editor;\n      });\n      if (EditorManager.activeEditor === targetEditor) {\n        EditorManager.activeEditor = editors.length > 0 ? editors[0] : null;\n      }\n      if (EditorManager.focusedEditor === targetEditor) {\n        EditorManager.focusedEditor = null;\n      }\n      return oldEditors.length !== editors.length;\n    };\n    var purgeDestroyedEditor = function (editor) {\n      if (editor && editor.initialized && !(editor.getContainer() || editor.getBody()).parentNode) {\n        removeEditorFromList(editor);\n        editor.unbindAllNativeEvents();\n        editor.destroy(true);\n        editor.removed = true;\n        editor = null;\n      }\n      return editor;\n    };\n    var isQuirksMode = document.compatMode !== 'CSS1Compat';\n    var EditorManager = __assign(__assign({}, Observable), {\n      baseURI: null,\n      baseURL: null,\n      defaultSettings: {},\n      documentBaseURL: null,\n      suffix: null,\n      $: DomQuery,\n      majorVersion: '5',\n      minorVersion: '10.9',\n      releaseDate: '2023-11-15',\n      editors: legacyEditors,\n      i18n: I18n,\n      activeEditor: null,\n      focusedEditor: null,\n      settings: {},\n      setup: function () {\n        var self = this;\n        var baseURL, documentBaseURL, suffix = '';\n        documentBaseURL = URI.getDocumentBaseUrl(document.location);\n        if (/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(documentBaseURL)) {\n          documentBaseURL = documentBaseURL.replace(/[\\?#].*$/, '').replace(/[\\/\\\\][^\\/]+$/, '');\n          if (!/[\\/\\\\]$/.test(documentBaseURL)) {\n            documentBaseURL += '/';\n          }\n        }\n        var preInit = window.tinymce || window.tinyMCEPreInit;\n        if (preInit) {\n          baseURL = preInit.base || preInit.baseURL;\n          suffix = preInit.suffix;\n        } else {\n          var scripts = document.getElementsByTagName('script');\n          for (var i = 0; i < scripts.length; i++) {\n            var src = scripts[i].src || '';\n            if (src === '') {\n              continue;\n            }\n            var srcScript = src.substring(src.lastIndexOf('/'));\n            if (/tinymce(\\.full|\\.jquery|)(\\.min|\\.dev|)\\.js/.test(src)) {\n              if (srcScript.indexOf('.min') !== -1) {\n                suffix = '.min';\n              }\n              baseURL = src.substring(0, src.lastIndexOf('/'));\n              break;\n            }\n          }\n          if (!baseURL && document.currentScript) {\n            var src = document.currentScript.src;\n            if (src.indexOf('.min') !== -1) {\n              suffix = '.min';\n            }\n            baseURL = src.substring(0, src.lastIndexOf('/'));\n          }\n        }\n        self.baseURL = new URI(documentBaseURL).toAbsolute(baseURL);\n        self.documentBaseURL = documentBaseURL;\n        self.baseURI = new URI(self.baseURL);\n        self.suffix = suffix;\n        setup$l(self);\n      },\n      overrideDefaults: function (defaultSettings) {\n        var baseUrl = defaultSettings.base_url;\n        if (baseUrl) {\n          this._setBaseUrl(baseUrl);\n        }\n        var suffix = defaultSettings.suffix;\n        if (defaultSettings.suffix) {\n          this.suffix = suffix;\n        }\n        this.defaultSettings = defaultSettings;\n        var pluginBaseUrls = defaultSettings.plugin_base_urls;\n        if (pluginBaseUrls !== undefined) {\n          each$j(pluginBaseUrls, function (pluginBaseUrl, pluginName) {\n            AddOnManager.PluginManager.urls[pluginName] = pluginBaseUrl;\n          });\n        }\n      },\n      init: function (settings) {\n        var self = this;\n        var result;\n        var invalidInlineTargets = Tools.makeMap('area base basefont br col frame hr img input isindex link meta param embed source wbr track ' + 'colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu', ' ');\n        var isInvalidInlineTarget = function (settings, elm) {\n          return settings.inline && elm.tagName.toLowerCase() in invalidInlineTargets;\n        };\n        var createId = function (elm) {\n          var id = elm.id;\n          if (!id) {\n            id = get$9(elm, 'name').filter(function (name) {\n              return !DOM.get(name);\n            }).getOrThunk(DOM.uniqueId);\n            elm.setAttribute('id', id);\n          }\n          return id;\n        };\n        var execCallback = function (name) {\n          var callback = settings[name];\n          if (!callback) {\n            return;\n          }\n          return callback.apply(self, []);\n        };\n        var hasClass = function (elm, className) {\n          return className.constructor === RegExp ? className.test(elm.className) : DOM.hasClass(elm, className);\n        };\n        var findTargets = function (settings) {\n          var targets = [];\n          if (Env.browser.isIE() && Env.browser.version.major < 11) {\n            initError('TinyMCE does not support the browser you are using. For a list of supported' + ' browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/');\n            return [];\n          } else if (isQuirksMode) {\n            initError('Failed to initialize the editor as the document is not in standards mode. ' + 'TinyMCE requires standards mode.');\n            return [];\n          }\n          if (settings.types) {\n            each$1(settings.types, function (type) {\n              targets = targets.concat(DOM.select(type.selector));\n            });\n            return targets;\n          } else if (settings.selector) {\n            return DOM.select(settings.selector);\n          } else if (settings.target) {\n            return [settings.target];\n          }\n          switch (settings.mode) {\n          case 'exact':\n            var l = settings.elements || '';\n            if (l.length > 0) {\n              each$1(explode(l), function (id) {\n                var elm = DOM.get(id);\n                if (elm) {\n                  targets.push(elm);\n                } else {\n                  each$1(document.forms, function (f) {\n                    each$1(f.elements, function (e) {\n                      if (e.name === id) {\n                        id = 'mce_editor_' + instanceCounter++;\n                        DOM.setAttrib(e, 'id', id);\n                        targets.push(e);\n                      }\n                    });\n                  });\n                }\n              });\n            }\n            break;\n          case 'textareas':\n          case 'specific_textareas':\n            each$1(DOM.select('textarea'), function (elm) {\n              if (settings.editor_deselector && hasClass(elm, settings.editor_deselector)) {\n                return;\n              }\n              if (!settings.editor_selector || hasClass(elm, settings.editor_selector)) {\n                targets.push(elm);\n              }\n            });\n            break;\n          }\n          return targets;\n        };\n        var provideResults = function (editors) {\n          result = editors;\n        };\n        var initEditors = function () {\n          var initCount = 0;\n          var editors = [];\n          var targets;\n          var createEditor = function (id, settings, targetElm) {\n            var editor = new Editor(id, settings, self);\n            editors.push(editor);\n            editor.on('init', function () {\n              if (++initCount === targets.length) {\n                provideResults(editors);\n              }\n            });\n            editor.targetElm = editor.targetElm || targetElm;\n            editor.render();\n          };\n          DOM.unbind(window, 'ready', initEditors);\n          execCallback('onpageload');\n          targets = DomQuery.unique(findTargets(settings));\n          if (settings.types) {\n            each$1(settings.types, function (type) {\n              Tools.each(targets, function (elm) {\n                if (DOM.is(elm, type.selector)) {\n                  createEditor(createId(elm), extend$2({}, settings, type), elm);\n                  return false;\n                }\n                return true;\n              });\n            });\n            return;\n          }\n          Tools.each(targets, function (elm) {\n            purgeDestroyedEditor(self.get(elm.id));\n          });\n          targets = Tools.grep(targets, function (elm) {\n            return !self.get(elm.id);\n          });\n          if (targets.length === 0) {\n            provideResults([]);\n          } else {\n            each$1(targets, function (elm) {\n              if (isInvalidInlineTarget(settings, elm)) {\n                initError('Could not initialize inline editor on invalid inline target element', elm);\n              } else {\n                createEditor(createId(elm), settings, elm);\n              }\n            });\n          }\n        };\n        self.settings = settings;\n        DOM.bind(window, 'ready', initEditors);\n        return new promiseObj(function (resolve) {\n          if (result) {\n            resolve(result);\n          } else {\n            provideResults = function (editors) {\n              resolve(editors);\n            };\n          }\n        });\n      },\n      get: function (id) {\n        if (arguments.length === 0) {\n          return editors.slice(0);\n        } else if (isString$1(id)) {\n          return find$3(editors, function (editor) {\n            return editor.id === id;\n          }).getOr(null);\n        } else if (isNumber(id)) {\n          return editors[id] ? editors[id] : null;\n        } else {\n          return null;\n        }\n      },\n      add: function (editor) {\n        var self = this;\n        var existingEditor = legacyEditors[editor.id];\n        if (existingEditor === editor) {\n          return editor;\n        }\n        if (self.get(editor.id) === null) {\n          if (isValidLegacyKey(editor.id)) {\n            legacyEditors[editor.id] = editor;\n          }\n          legacyEditors.push(editor);\n          editors.push(editor);\n        }\n        toggleGlobalEvents(true);\n        self.activeEditor = editor;\n        self.fire('AddEditor', { editor: editor });\n        if (!beforeUnloadDelegate) {\n          beforeUnloadDelegate = function (e) {\n            var event = self.fire('BeforeUnload');\n            if (event.returnValue) {\n              e.preventDefault();\n              e.returnValue = event.returnValue;\n              return event.returnValue;\n            }\n          };\n          window.addEventListener('beforeunload', beforeUnloadDelegate);\n        }\n        return editor;\n      },\n      createEditor: function (id, settings) {\n        return this.add(new Editor(id, settings, this));\n      },\n      remove: function (selector) {\n        var self = this;\n        var i, editor;\n        if (!selector) {\n          for (i = editors.length - 1; i >= 0; i--) {\n            self.remove(editors[i]);\n          }\n          return;\n        }\n        if (isString$1(selector)) {\n          each$1(DOM.select(selector), function (elm) {\n            editor = self.get(elm.id);\n            if (editor) {\n              self.remove(editor);\n            }\n          });\n          return;\n        }\n        editor = selector;\n        if (isNull(self.get(editor.id))) {\n          return null;\n        }\n        if (removeEditorFromList(editor)) {\n          self.fire('RemoveEditor', { editor: editor });\n        }\n        if (editors.length === 0) {\n          window.removeEventListener('beforeunload', beforeUnloadDelegate);\n        }\n        editor.remove();\n        toggleGlobalEvents(editors.length > 0);\n        return editor;\n      },\n      execCommand: function (cmd, ui, value) {\n        var self = this, editor = self.get(value);\n        switch (cmd) {\n        case 'mceAddEditor':\n          if (!self.get(value)) {\n            new Editor(value, self.settings, self).render();\n          }\n          return true;\n        case 'mceRemoveEditor':\n          if (editor) {\n            editor.remove();\n          }\n          return true;\n        case 'mceToggleEditor':\n          if (!editor) {\n            self.execCommand('mceAddEditor', false, value);\n            return true;\n          }\n          if (editor.isHidden()) {\n            editor.show();\n          } else {\n            editor.hide();\n          }\n          return true;\n        }\n        if (self.activeEditor) {\n          return self.activeEditor.execCommand(cmd, ui, value);\n        }\n        return false;\n      },\n      triggerSave: function () {\n        each$1(editors, function (editor) {\n          editor.save();\n        });\n      },\n      addI18n: function (code, items) {\n        I18n.add(code, items);\n      },\n      translate: function (text) {\n        return I18n.translate(text);\n      },\n      setActive: function (editor) {\n        var activeEditor = this.activeEditor;\n        if (this.activeEditor !== editor) {\n          if (activeEditor) {\n            activeEditor.fire('deactivate', { relatedTarget: editor });\n          }\n          editor.fire('activate', { relatedTarget: activeEditor });\n        }\n        this.activeEditor = editor;\n      },\n      _setBaseUrl: function (baseUrl) {\n        this.baseURL = new URI(this.documentBaseURL).toAbsolute(baseUrl.replace(/\\/+$/, ''));\n        this.baseURI = new URI(this.baseURL);\n      }\n    });\n    EditorManager.setup();\n\n    var min$1 = Math.min, max$1 = Math.max, round$1 = Math.round;\n    var relativePosition = function (rect, targetRect, rel) {\n      var x = targetRect.x;\n      var y = targetRect.y;\n      var w = rect.w;\n      var h = rect.h;\n      var targetW = targetRect.w;\n      var targetH = targetRect.h;\n      var relChars = (rel || '').split('');\n      if (relChars[0] === 'b') {\n        y += targetH;\n      }\n      if (relChars[1] === 'r') {\n        x += targetW;\n      }\n      if (relChars[0] === 'c') {\n        y += round$1(targetH / 2);\n      }\n      if (relChars[1] === 'c') {\n        x += round$1(targetW / 2);\n      }\n      if (relChars[3] === 'b') {\n        y -= h;\n      }\n      if (relChars[4] === 'r') {\n        x -= w;\n      }\n      if (relChars[3] === 'c') {\n        y -= round$1(h / 2);\n      }\n      if (relChars[4] === 'c') {\n        x -= round$1(w / 2);\n      }\n      return create$2(x, y, w, h);\n    };\n    var findBestRelativePosition = function (rect, targetRect, constrainRect, rels) {\n      var pos, i;\n      for (i = 0; i < rels.length; i++) {\n        pos = relativePosition(rect, targetRect, rels[i]);\n        if (pos.x >= constrainRect.x && pos.x + pos.w <= constrainRect.w + constrainRect.x && pos.y >= constrainRect.y && pos.y + pos.h <= constrainRect.h + constrainRect.y) {\n          return rels[i];\n        }\n      }\n      return null;\n    };\n    var inflate = function (rect, w, h) {\n      return create$2(rect.x - w, rect.y - h, rect.w + w * 2, rect.h + h * 2);\n    };\n    var intersect = function (rect, cropRect) {\n      var x1 = max$1(rect.x, cropRect.x);\n      var y1 = max$1(rect.y, cropRect.y);\n      var x2 = min$1(rect.x + rect.w, cropRect.x + cropRect.w);\n      var y2 = min$1(rect.y + rect.h, cropRect.y + cropRect.h);\n      if (x2 - x1 < 0 || y2 - y1 < 0) {\n        return null;\n      }\n      return create$2(x1, y1, x2 - x1, y2 - y1);\n    };\n    var clamp = function (rect, clampRect, fixedSize) {\n      var x1 = rect.x;\n      var y1 = rect.y;\n      var x2 = rect.x + rect.w;\n      var y2 = rect.y + rect.h;\n      var cx2 = clampRect.x + clampRect.w;\n      var cy2 = clampRect.y + clampRect.h;\n      var underflowX1 = max$1(0, clampRect.x - x1);\n      var underflowY1 = max$1(0, clampRect.y - y1);\n      var overflowX2 = max$1(0, x2 - cx2);\n      var overflowY2 = max$1(0, y2 - cy2);\n      x1 += underflowX1;\n      y1 += underflowY1;\n      if (fixedSize) {\n        x2 += underflowX1;\n        y2 += underflowY1;\n        x1 -= overflowX2;\n        y1 -= overflowY2;\n      }\n      x2 -= overflowX2;\n      y2 -= overflowY2;\n      return create$2(x1, y1, x2 - x1, y2 - y1);\n    };\n    var create$2 = function (x, y, w, h) {\n      return {\n        x: x,\n        y: y,\n        w: w,\n        h: h\n      };\n    };\n    var fromClientRect = function (clientRect) {\n      return create$2(clientRect.left, clientRect.top, clientRect.width, clientRect.height);\n    };\n    var Rect = {\n      inflate: inflate,\n      relativePosition: relativePosition,\n      findBestRelativePosition: findBestRelativePosition,\n      intersect: intersect,\n      clamp: clamp,\n      create: create$2,\n      fromClientRect: fromClientRect\n    };\n\n    var awaiter = function (resolveCb, rejectCb, timeout) {\n      if (timeout === void 0) {\n        timeout = 1000;\n      }\n      var done = false;\n      var timer = null;\n      var complete = function (completer) {\n        return function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          if (!done) {\n            done = true;\n            if (timer !== null) {\n              clearTimeout(timer);\n              timer = null;\n            }\n            completer.apply(null, args);\n          }\n        };\n      };\n      var resolve = complete(resolveCb);\n      var reject = complete(rejectCb);\n      var start = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (!done && timer === null) {\n          timer = setTimeout(function () {\n            return reject.apply(null, args);\n          }, timeout);\n        }\n      };\n      return {\n        start: start,\n        resolve: resolve,\n        reject: reject\n      };\n    };\n    var create$1 = function () {\n      var tasks = {};\n      var resultFns = {};\n      var load = function (id, url) {\n        var loadErrMsg = 'Script at URL \"' + url + '\" failed to load';\n        var runErrMsg = 'Script at URL \"' + url + '\" did not call `tinymce.Resource.add(\\'' + id + '\\', data)` within 1 second';\n        if (tasks[id] !== undefined) {\n          return tasks[id];\n        } else {\n          var task = new promiseObj(function (resolve, reject) {\n            var waiter = awaiter(resolve, reject);\n            resultFns[id] = waiter.resolve;\n            ScriptLoader.ScriptLoader.loadScript(url, function () {\n              return waiter.start(runErrMsg);\n            }, function () {\n              return waiter.reject(loadErrMsg);\n            });\n          });\n          tasks[id] = task;\n          return task;\n        }\n      };\n      var add = function (id, data) {\n        if (resultFns[id] !== undefined) {\n          resultFns[id](data);\n          delete resultFns[id];\n        }\n        tasks[id] = promiseObj.resolve(data);\n      };\n      return {\n        load: load,\n        add: add\n      };\n    };\n    var Resource = create$1();\n\n    var each = Tools.each, extend$1 = Tools.extend;\n    var extendClass, initializing;\n    var Class = function () {\n    };\n    Class.extend = extendClass = function (props) {\n      var self = this;\n      var _super = self.prototype;\n      var Class = function () {\n        var i, mixins, mixin;\n        var self = this;\n        if (!initializing) {\n          if (self.init) {\n            self.init.apply(self, arguments);\n          }\n          mixins = self.Mixins;\n          if (mixins) {\n            i = mixins.length;\n            while (i--) {\n              mixin = mixins[i];\n              if (mixin.init) {\n                mixin.init.apply(self, arguments);\n              }\n            }\n          }\n        }\n      };\n      var dummy = function () {\n        return this;\n      };\n      var createMethod = function (name, fn) {\n        return function () {\n          var self = this;\n          var tmp = self._super;\n          self._super = _super[name];\n          var ret = fn.apply(self, arguments);\n          self._super = tmp;\n          return ret;\n        };\n      };\n      initializing = true;\n      var prototype = new self();\n      initializing = false;\n      if (props.Mixins) {\n        each(props.Mixins, function (mixin) {\n          for (var name_1 in mixin) {\n            if (name_1 !== 'init') {\n              props[name_1] = mixin[name_1];\n            }\n          }\n        });\n        if (_super.Mixins) {\n          props.Mixins = _super.Mixins.concat(props.Mixins);\n        }\n      }\n      if (props.Methods) {\n        each(props.Methods.split(','), function (name) {\n          props[name] = dummy;\n        });\n      }\n      if (props.Properties) {\n        each(props.Properties.split(','), function (name) {\n          var fieldName = '_' + name;\n          props[name] = function (value) {\n            var self = this;\n            if (value !== undefined) {\n              self[fieldName] = value;\n              return self;\n            }\n            return self[fieldName];\n          };\n        });\n      }\n      if (props.Statics) {\n        each(props.Statics, function (func, name) {\n          Class[name] = func;\n        });\n      }\n      if (props.Defaults && _super.Defaults) {\n        props.Defaults = extend$1({}, _super.Defaults, props.Defaults);\n      }\n      each$j(props, function (member, name) {\n        if (typeof member === 'function' && _super[name]) {\n          prototype[name] = createMethod(name, member);\n        } else {\n          prototype[name] = member;\n        }\n      });\n      Class.prototype = prototype;\n      Class.constructor = Class;\n      Class.extend = extendClass;\n      return Class;\n    };\n\n    var min = Math.min, max = Math.max, round = Math.round;\n    var Color = function (value) {\n      var self = {};\n      var r = 0, g = 0, b = 0;\n      var rgb2hsv = function (r, g, b) {\n        var h, s, v;\n        h = 0;\n        s = 0;\n        v = 0;\n        r = r / 255;\n        g = g / 255;\n        b = b / 255;\n        var minRGB = min(r, min(g, b));\n        var maxRGB = max(r, max(g, b));\n        if (minRGB === maxRGB) {\n          v = minRGB;\n          return {\n            h: 0,\n            s: 0,\n            v: v * 100\n          };\n        }\n        var d = r === minRGB ? g - b : b === minRGB ? r - g : b - r;\n        h = r === minRGB ? 3 : b === minRGB ? 1 : 5;\n        h = 60 * (h - d / (maxRGB - minRGB));\n        s = (maxRGB - minRGB) / maxRGB;\n        v = maxRGB;\n        return {\n          h: round(h),\n          s: round(s * 100),\n          v: round(v * 100)\n        };\n      };\n      var hsvToRgb = function (hue, saturation, brightness) {\n        hue = (parseInt(hue, 10) || 0) % 360;\n        saturation = parseInt(saturation, 10) / 100;\n        brightness = parseInt(brightness, 10) / 100;\n        saturation = max(0, min(saturation, 1));\n        brightness = max(0, min(brightness, 1));\n        if (saturation === 0) {\n          r = g = b = round(255 * brightness);\n          return;\n        }\n        var side = hue / 60;\n        var chroma = brightness * saturation;\n        var x = chroma * (1 - Math.abs(side % 2 - 1));\n        var match = brightness - chroma;\n        switch (Math.floor(side)) {\n        case 0:\n          r = chroma;\n          g = x;\n          b = 0;\n          break;\n        case 1:\n          r = x;\n          g = chroma;\n          b = 0;\n          break;\n        case 2:\n          r = 0;\n          g = chroma;\n          b = x;\n          break;\n        case 3:\n          r = 0;\n          g = x;\n          b = chroma;\n          break;\n        case 4:\n          r = x;\n          g = 0;\n          b = chroma;\n          break;\n        case 5:\n          r = chroma;\n          g = 0;\n          b = x;\n          break;\n        default:\n          r = g = b = 0;\n        }\n        r = round(255 * (r + match));\n        g = round(255 * (g + match));\n        b = round(255 * (b + match));\n      };\n      var toHex = function () {\n        var hex = function (val) {\n          val = parseInt(val, 10).toString(16);\n          return val.length > 1 ? val : '0' + val;\n        };\n        return '#' + hex(r) + hex(g) + hex(b);\n      };\n      var toRgb = function () {\n        return {\n          r: r,\n          g: g,\n          b: b\n        };\n      };\n      var toHsv = function () {\n        return rgb2hsv(r, g, b);\n      };\n      var parse = function (value) {\n        var matches;\n        if (typeof value === 'object') {\n          if ('r' in value) {\n            r = value.r;\n            g = value.g;\n            b = value.b;\n          } else if ('v' in value) {\n            hsvToRgb(value.h, value.s, value.v);\n          }\n        } else {\n          if (matches = /rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)[^\\)]*\\)/gi.exec(value)) {\n            r = parseInt(matches[1], 10);\n            g = parseInt(matches[2], 10);\n            b = parseInt(matches[3], 10);\n          } else if (matches = /#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(value)) {\n            r = parseInt(matches[1], 16);\n            g = parseInt(matches[2], 16);\n            b = parseInt(matches[3], 16);\n          } else if (matches = /#([0-F])([0-F])([0-F])/gi.exec(value)) {\n            r = parseInt(matches[1] + matches[1], 16);\n            g = parseInt(matches[2] + matches[2], 16);\n            b = parseInt(matches[3] + matches[3], 16);\n          }\n        }\n        r = r < 0 ? 0 : r > 255 ? 255 : r;\n        g = g < 0 ? 0 : g > 255 ? 255 : g;\n        b = b < 0 ? 0 : b > 255 ? 255 : b;\n        return self;\n      };\n      if (value) {\n        parse(value);\n      }\n      self.toRgb = toRgb;\n      self.toHsv = toHsv;\n      self.toHex = toHex;\n      self.parse = parse;\n      return self;\n    };\n\n    var serialize = function (obj) {\n      var data = JSON.stringify(obj);\n      if (!isString$1(data)) {\n        return data;\n      }\n      return data.replace(/[\\u0080-\\uFFFF]/g, function (match) {\n        var hexCode = match.charCodeAt(0).toString(16);\n        return '\\\\u' + '0000'.substring(hexCode.length) + hexCode;\n      });\n    };\n    var JSONUtils = {\n      serialize: serialize,\n      parse: function (text) {\n        try {\n          return JSON.parse(text);\n        } catch (ex) {\n        }\n      }\n    };\n\n    var JSONP = {\n      callbacks: {},\n      count: 0,\n      send: function (settings) {\n        var self = this, dom = DOMUtils.DOM, count = settings.count !== undefined ? settings.count : self.count;\n        var id = 'tinymce_jsonp_' + count;\n        self.callbacks[count] = function (json) {\n          dom.remove(id);\n          delete self.callbacks[count];\n          settings.callback(json);\n        };\n        dom.add(dom.doc.body, 'script', {\n          id: id,\n          src: settings.url,\n          type: 'text/javascript'\n        });\n        self.count++;\n      }\n    };\n\n    var XHR = __assign(__assign({}, Observable), {\n      send: function (settings) {\n        var xhr, count = 0;\n        var ready = function () {\n          if (!settings.async || xhr.readyState === 4 || count++ > 10000) {\n            if (settings.success && count < 10000 && xhr.status === 200) {\n              settings.success.call(settings.success_scope, '' + xhr.responseText, xhr, settings);\n            } else if (settings.error) {\n              settings.error.call(settings.error_scope, count > 10000 ? 'TIMED_OUT' : 'GENERAL', xhr, settings);\n            }\n            xhr = null;\n          } else {\n            Delay.setTimeout(ready, 10);\n          }\n        };\n        settings.scope = settings.scope || this;\n        settings.success_scope = settings.success_scope || settings.scope;\n        settings.error_scope = settings.error_scope || settings.scope;\n        settings.async = settings.async !== false;\n        settings.data = settings.data || '';\n        XHR.fire('beforeInitialize', { settings: settings });\n        xhr = new XMLHttpRequest();\n        if (xhr.overrideMimeType) {\n          xhr.overrideMimeType(settings.content_type);\n        }\n        xhr.open(settings.type || (settings.data ? 'POST' : 'GET'), settings.url, settings.async);\n        if (settings.crossDomain) {\n          xhr.withCredentials = true;\n        }\n        if (settings.content_type) {\n          xhr.setRequestHeader('Content-Type', settings.content_type);\n        }\n        if (settings.requestheaders) {\n          Tools.each(settings.requestheaders, function (header) {\n            xhr.setRequestHeader(header.key, header.value);\n          });\n        }\n        xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n        xhr = XHR.fire('beforeSend', {\n          xhr: xhr,\n          settings: settings\n        }).xhr;\n        xhr.send(settings.data);\n        if (!settings.async) {\n          return ready();\n        }\n        Delay.setTimeout(ready, 10);\n      }\n    });\n\n    var extend = Tools.extend;\n    var JSONRequest = function () {\n      function JSONRequest(settings) {\n        this.settings = extend({}, settings);\n        this.count = 0;\n      }\n      JSONRequest.sendRPC = function (o) {\n        return new JSONRequest().send(o);\n      };\n      JSONRequest.prototype.send = function (args) {\n        var ecb = args.error, scb = args.success;\n        var xhrArgs = extend(this.settings, args);\n        xhrArgs.success = function (c, x) {\n          c = JSONUtils.parse(c);\n          if (typeof c === 'undefined') {\n            c = { error: 'JSON Parse error.' };\n          }\n          if (c.error) {\n            ecb.call(xhrArgs.error_scope || xhrArgs.scope, c.error, x);\n          } else {\n            scb.call(xhrArgs.success_scope || xhrArgs.scope, c.result);\n          }\n        };\n        xhrArgs.error = function (ty, x) {\n          if (ecb) {\n            ecb.call(xhrArgs.error_scope || xhrArgs.scope, ty, x);\n          }\n        };\n        xhrArgs.data = JSONUtils.serialize({\n          id: args.id || 'c' + this.count++,\n          method: args.method,\n          params: args.params\n        });\n        xhrArgs.content_type = 'application/json';\n        XHR.send(xhrArgs);\n      };\n      return JSONRequest;\n    }();\n\n    var create = function () {\n      return function () {\n        var data = {};\n        var keys = [];\n        var storage = {\n          getItem: function (key) {\n            var item = data[key];\n            return item ? item : null;\n          },\n          setItem: function (key, value) {\n            keys.push(key);\n            data[key] = String(value);\n          },\n          key: function (index) {\n            return keys[index];\n          },\n          removeItem: function (key) {\n            keys = keys.filter(function (k) {\n              return k === key;\n            });\n            delete data[key];\n          },\n          clear: function () {\n            keys = [];\n            data = {};\n          },\n          length: 0\n        };\n        Object.defineProperty(storage, 'length', {\n          get: function () {\n            return keys.length;\n          },\n          configurable: false,\n          enumerable: false\n        });\n        return storage;\n      }();\n    };\n\n    var localStorage;\n    try {\n      var test = '__storage_test__';\n      localStorage = window.localStorage;\n      localStorage.setItem(test, test);\n      localStorage.removeItem(test);\n    } catch (e) {\n      localStorage = create();\n    }\n    var LocalStorage = localStorage;\n\n    var publicApi = {\n      geom: { Rect: Rect },\n      util: {\n        Promise: promiseObj,\n        Delay: Delay,\n        Tools: Tools,\n        VK: VK,\n        URI: URI,\n        Class: Class,\n        EventDispatcher: EventDispatcher,\n        Observable: Observable,\n        I18n: I18n,\n        XHR: XHR,\n        JSON: JSONUtils,\n        JSONRequest: JSONRequest,\n        JSONP: JSONP,\n        LocalStorage: LocalStorage,\n        Color: Color,\n        ImageUploader: ImageUploader\n      },\n      dom: {\n        EventUtils: EventUtils,\n        Sizzle: Sizzle,\n        DomQuery: DomQuery,\n        TreeWalker: DomTreeWalker,\n        TextSeeker: TextSeeker,\n        DOMUtils: DOMUtils,\n        ScriptLoader: ScriptLoader,\n        RangeUtils: RangeUtils,\n        Serializer: DomSerializer,\n        StyleSheetLoader: StyleSheetLoader,\n        ControlSelection: ControlSelection,\n        BookmarkManager: BookmarkManager,\n        Selection: EditorSelection,\n        Event: EventUtils.Event\n      },\n      html: {\n        Styles: Styles,\n        Entities: Entities,\n        Node: AstNode,\n        Schema: Schema,\n        SaxParser: SaxParser,\n        DomParser: DomParser,\n        Writer: Writer,\n        Serializer: HtmlSerializer\n      },\n      Env: Env,\n      AddOnManager: AddOnManager,\n      Annotator: Annotator,\n      Formatter: Formatter,\n      UndoManager: UndoManager,\n      EditorCommands: EditorCommands,\n      WindowManager: WindowManager,\n      NotificationManager: NotificationManager,\n      EditorObservable: EditorObservable,\n      Shortcuts: Shortcuts,\n      Editor: Editor,\n      FocusManager: FocusManager,\n      EditorManager: EditorManager,\n      DOM: DOMUtils.DOM,\n      ScriptLoader: ScriptLoader.ScriptLoader,\n      PluginManager: PluginManager,\n      ThemeManager: ThemeManager,\n      IconManager: IconManager,\n      Resource: Resource,\n      trim: Tools.trim,\n      isArray: Tools.isArray,\n      is: Tools.is,\n      toArray: Tools.toArray,\n      makeMap: Tools.makeMap,\n      each: Tools.each,\n      map: Tools.map,\n      grep: Tools.grep,\n      inArray: Tools.inArray,\n      extend: Tools.extend,\n      create: Tools.create,\n      walk: Tools.walk,\n      createNS: Tools.createNS,\n      resolve: Tools.resolve,\n      explode: Tools.explode,\n      _addCacheSuffix: Tools._addCacheSuffix,\n      isOpera: Env.opera,\n      isWebKit: Env.webkit,\n      isIE: Env.ie,\n      isGecko: Env.gecko,\n      isMac: Env.mac\n    };\n    var tinymce = Tools.extend(EditorManager, publicApi);\n\n    var exportToModuleLoaders = function (tinymce) {\n      if (typeof module === 'object') {\n        try {\n          module.exports = tinymce;\n        } catch (_) {\n        }\n      }\n    };\n    var exportToWindowGlobal = function (tinymce) {\n      window.tinymce = tinymce;\n      window.tinyMCE = tinymce;\n    };\n    exportToWindowGlobal(tinymce);\n    exportToModuleLoaders(tinymce);\n\n}());\n"],"names":["___CSS_LOADER_URL_IMPORT_0___","URL","___CSS_LOADER_URL_IMPORT_1___","___CSS_LOADER_URL_IMPORT_2___","___CSS_LOADER_URL_IMPORT_3___","___CSS_LOADER_URL_IMPORT_4___","___CSS_LOADER_URL_IMPORT_5___","___CSS_LOADER_URL_IMPORT_6___","___CSS_LOADER_URL_IMPORT_7___","___CSS_LOADER_URL_IMPORT_8___","___CSS_LOADER_URL_IMPORT_9___","___CSS_LOADER_URL_IMPORT_10___","___CSS_LOADER_URL_IMPORT_11___","___CSS_LOADER_URL_IMPORT_12___","___CSS_LOADER_URL_IMPORT_13___","___CSS_LOADER_URL_IMPORT_14___","___CSS_LOADER_URL_IMPORT_15___","___CSS_LOADER_URL_IMPORT_16___","___CSS_LOADER_URL_IMPORT_17___","___CSS_LOADER_URL_IMPORT_18___","___CSS_LOADER_URL_IMPORT_19___","___CSS_LOADER_URL_IMPORT_20___","___CSS_LOADER_URL_IMPORT_21___","___CSS_LOADER_URL_IMPORT_22___","___CSS_LOADER_URL_IMPORT_23___","___CSS_LOADER_URL_IMPORT_24___","___CSS_LOADER_URL_IMPORT_25___","___CSS_LOADER_URL_IMPORT_26___","___CSS_LOADER_URL_IMPORT_27___","___CSS_LOADER_EXPORT___","___CSS_LOADER_URL_REPLACEMENT_0___","___CSS_LOADER_URL_REPLACEMENT_1___","___CSS_LOADER_URL_REPLACEMENT_2___","___CSS_LOADER_URL_REPLACEMENT_3___","___CSS_LOADER_URL_REPLACEMENT_4___","___CSS_LOADER_URL_REPLACEMENT_5___","___CSS_LOADER_URL_REPLACEMENT_6___","___CSS_LOADER_URL_REPLACEMENT_7___","___CSS_LOADER_URL_REPLACEMENT_8___","___CSS_LOADER_URL_REPLACEMENT_9___","___CSS_LOADER_URL_REPLACEMENT_10___","___CSS_LOADER_URL_REPLACEMENT_11___","___CSS_LOADER_URL_REPLACEMENT_12___","___CSS_LOADER_URL_REPLACEMENT_13___","___CSS_LOADER_URL_REPLACEMENT_14___","___CSS_LOADER_URL_REPLACEMENT_15___","___CSS_LOADER_URL_REPLACEMENT_16___","___CSS_LOADER_URL_REPLACEMENT_17___","___CSS_LOADER_URL_REPLACEMENT_18___","___CSS_LOADER_URL_REPLACEMENT_19___","___CSS_LOADER_URL_REPLACEMENT_20___","___CSS_LOADER_URL_REPLACEMENT_21___","___CSS_LOADER_URL_REPLACEMENT_22___","___CSS_LOADER_URL_REPLACEMENT_23___","___CSS_LOADER_URL_REPLACEMENT_24___","___CSS_LOADER_URL_REPLACEMENT_25___","___CSS_LOADER_URL_REPLACEMENT_26___","___CSS_LOADER_URL_REPLACEMENT_27___","push","module","id","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","undefined","tinymce","IconManager","add","icons","isType$1","type","value","x","t","Array","prototype","isPrototypeOf","constructor","name","String","typeOf","isSimpleType","eq$1","a","isString","isObject","isArray","isNull","isBoolean","isUndefined","isNullable","isNonNullable","isFunction","isNumber","isArrayOf","pred","i","len","length","noop","compose","fa","fb","args","_i","arguments","apply","constant$1","identity$1","tripleEquals","b","curry","fn","initialArgs","restArgs","all","concat","not","f","die","msg","Error","never","always","global$g","util","Tools","resolve","__assign","Object","assign","s","n","p","hasOwnProperty","call","this","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArray","to","from","pack","ar","l","slice","none","NONE","thunk","fold","_s","isSome","isNone","getOr","getOrThunk","getOrDie","getOrNull","getOrUndefined","or","orThunk","map","each","bind","exists","forall","filter","toArray","toString","some","constant_a","self","me","Optional","nativeSlice","nativeIndexOf","nativePush","rawIndexOf","ts","contains$2","xs","range$2","num","r","chunk$1","array","size","map$2","each$1","partition$3","pass","fail","filter$2","foldr","acc","eachr","foldl","find$5","until","findUntil","findIndex$1","flatten","bind$3","reverse","difference","a1","a2","mapToObject","pure$2","sort","comparator","copy","get$f","head","last$2","findMap","arr","keys","hasOwnProperty$1","obj","props","k","map$1","tupleMap","v","tuple","filter$1","onTrue","onFalse","internalFilter","objAcc","mapToArray","find$4","values","get$e","key","has$2","hasNonNullableKey","is$1","lhs","rhs","left","cat","lift2","oa","ob","someIf","checkRange","str","substr","start","contains$1","startsWith","prefix","endsWith","suffix","trim$1","replace","blank","isNotEmpty","isSupported$1","dom","style","getPropertyValue","fromDom","node","SugarElement","fromHtml","html","scope","div","document","createElement","innerHTML","hasChildNodes","childNodes","console","error","fromTag","tag","fromText","text","createTextNode","fromPoint","docElm","y","elementFromPoint","window","Function","SimpleResultType","name$2","element","nodeName","toLowerCase","isType","nodeType","isElement$2","isText$1","isDocument","isDocumentFragment","cached","called","unknown$3","nu$d","major","minor","Version","nu","detect","versionRegexes","agent","cleanedAgent","regexes","test","firstMatch","group","Number","find$3","unknown","detect$3","candidates","userAgent","candidate","search","normalVersionRegex","checkContains","target","uastring","browsers","brand","oses","PlatformInfo","edge","chrome","opera","firefox","safari","nu$c","info","current","version","isBrowser","isEdge","isChrome","isIE","isOpera","isFirefox","isSafari","Browser","ie","windows","android","linux","solaris","freebsd","chromeos","nu$b","isOS","isWindows","isiOS","isAndroid","isOSX","isLinux","isSolaris","isFreeBSD","isChromeOS","OperatingSystem","ios","osx","PlatformDetection","userAgentDataOpt","mediaMatch","browser","userAgentData","brands","uaBrand","lcBrand","_a","parseInt","detectBrowser$1","detectBrowser","os","detectOs","deviceType","isiPad","isiPhone","isMobile","isTouch","isTablet","isPhone","iOSwebview","isDesktop","isWebView","DeviceType","query","matchMedia","matches","platform","navigator","detect$1","is","selector","elem","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","bypassSelector","childElementCount","eq","e1","e2","ieContains","match","compareDocumentPosition","Node","DOCUMENT_POSITION_CONTAINED_BY","documentPositionContainedBy","contains","d1","d2","regularContains","owner$4","ownerDocument","documentOrOwner","dos","documentElement","defaultView","parent","parentNode","offsetParent","children","child$2","index","cs","spot","offset","leaf","isShadowRoot","host","supported","Element","attachShadow","getRootNode","isSupported","getContentContainer","body","getShadowRoot","getShadowHost","isOpenShadowHost","shadowRoot","inBody","fbc","fab","doc","getBody","rawSet","setAttribute","set$8","setAll$1","attrs","get$d","getAttribute","getOpt","has$1","hasAttribute","remove$7","removeAttribute","internalSet","property","setProperty","internalRemove","removeProperty","set$7","setAll","css","setOptions","get$c","getComputedStyle","getUnsafeProperty","getRaw","raw","getAllRaw","ruleName","item","isValidValue","remove$6","reflow","offsetWidth","Dimension","getOffset","get","parseFloat","aggregate","properties","val","isNaN","set","h","getOuter","max","cumulativeInclusions","api$3","getBoundingClientRect","height","offsetHeight","get$b","getOuter$2","r$1","top","translate","SugarPosition","firstDefinedOrZero","absolute$3","win","offsetLeft","offsetTop","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","viewport$1","box","boxPosition","api$2","get$a","getOuter$1","fromRawEvent$1","rawEvent","event","el","composed","composedPath","getOriginalEventTarget","stop","stopPropagation","prevent","preventDefault","kill","mkEvent","clientX","clientY","binder","handler","useCapture","wrapped","handle","addEventListener","unbind","removeEventListener","before$2","marker","insertBefore","after$2","sibling","nextSibling","append$2","prepend$1","firstChild$1","firstChild","appendChild","append$1","elements","empty","textContent","rogue","remove$5","removeChild","unwrap","wrapper","children$1","get$9","_DOC","scrollTo","bounds$1","width","right","bottom","getBounds$3","_win","scroll","get$8","clientWidth","clientHeight","visualViewport","Math","pageLeft","pageTop","walkUp","navigation","view","owner","rest","Navigation","freeze","__proto__","frameElement","find$2","path","d","paths","pathTo","frames","loc","bounds","box$1","xy","w","absolute$2","position","value$3","o","isValue","isError","_opt","_f","_","onValue","mapError","toOptional","error$1","message","onError","Result","fromOption","opt","err","fold$1","res","stype","serror","svalue","Value","SimpleResult","results","errors","field$2","newKey","presence","prop","ifField","ifCustom","instantiator","baseMerge","merger","objects","ret","j","curObject","deepMerge","old","merge$1","defaultedThunk","fallbackThunk","process","defaulted$1","fallback","mergeWithThunk","baseThunk","mergeErrors$1","ResultCombine","partitions","formatObj","input","JSON","stringify","nu$a","getErrorInfo","value$2","validator","extract","custom","anyValue$1","requiredAccess","bundle","missingRequired","fallbackAccess","extractField","field","av","bundleAsOption","optValue","ov","result","optionAccess","optionDefaultedAccess","valueThunk","getDelegate","getSetKeys","objOfOnly","fields","delegate","objOf","fieldNames","extra","unsupported","join","unsupportedFields","success","fields_1","extractFields","fieldStrings","_okey","_presence","_instantiator","arrOf","oneOf","props_1","setOf$1","keys$1","validatedKeys","validateKeys","validKeys","schema","vk","arrOfObj","anyValue","typedValue","expectedType","actualType","number","string","boolean","functionProcessor","isPostMessageable","every","postMessageable","chooseFrom","branches","ch","branch","missingBranch","vp","choose$2","missingKey","chosen","valueOf","setOf","asRaw","label","errs","extractValue","extraction","errInfo","formatError","asRawOrDie$1","es","choose$1","field$1","customField","validateEnum","required$1","requiredOf","requiredNumber","requiredString","requiredStringEnum","requiredFunction","requiredObjOf","objSchema","requiredArrayOfObj","objFields","requiredArrayOf","option","optionOf","optionNumber","optionString","optionFunction","optionArrayOf","optionObjOf","defaulted","defaultedOf","defaultedNumber","defaultedString","defaultedStringEnum","defaultedBoolean","defaultedFunction","defaultedArrayOf","defaultedObjOf","Cell","initial","Adt","cases","constructors","adt","acase","count","argLength","foldArgs","branchKeys","reqKey","log","params","bothErrors","firstError","secondError","bothValues","_a$2","exclude","exclude$1","wrap$1","wrap$2","wrapAll","keyvalues","kv","wrapAll$1","consolidate","objs","base","partition$1","mergeValues","ensureIsRoot","isRoot","ancestor$2","transform","transformed","closest$4","isSource","component","simulatedEvent","defaultEventHandler","can","abort","run","nu$9","parts","fuse$1","handlers","all$2","any","constant","touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseout","mouseup","mouseover","focusin","focusout","keydown","keyup","change","click","transitioncancel","transitionend","transitionstart","selectstart","prefixName","alloy","tap","focus$4","postBlur","postPaste","receive","execute$5","focusItem","longpress","sandboxClose","typeaheadCancel","systemInit","documentTouchmove","documentTouchend","windowScroll","windowResize","attachedToDom","detachedFromDom","dismissRequested","repositionRequested","focusShifted","slotVisibility","changeTab","dismissTab","highlight$1","dehighlight$1","emit","dispatchWith","emitWith","emitExecute","dispatch","data","getSystem","triggerEvent","dispatchEvent","derive$2","configs","predicate","run$1","runActionExtra","action","runOnSourceName","redirectToPart","detail","partName","uid","getByUid","redirectee","redirectToUid","partUids","runWithTarget","ev","getByDom","cutter","cut","stopper","runOnSource","runOnAttached","runOnDetached","runOnInit","runOnExecute$1","runOnName","get$7","set$5","content","docDom","fragment","createDocumentFragment","contentElements","fromHtml$1","shallow","original","isDeep","cloneNode","clone$2","getHtml","container","clone","events$i","originator","isRecursive","warn","DefaultEvents","events","unique","generate$6","time","Date","getTime","floor","random","prefix$1","idAttr$1","idAttr","writeOnly","defineProperty","writable","read$1","generate$5","make$8","NoContextApi","getComp","getMessage","debugInfo","triggerFocus","triggerEscape","broadcast","broadcastOn","broadcastEvent","build","addToWorld","removeFromWorld","addToGui","removeFromGui","isConnected","singleton$1","cleanParameters","parameters","substring","markAsExtraApi","extraName","endIndex","openBracketIndex","split","toFunctionAnnotation","premadeTag","premade$1","comp","makeApi","apiFunction","markAsSketchApi","getApis","NoState","init","nu$8","readState","spec","byInnerKey","indexKey","chain","nu$7","classes","attributes","styles","getCurried","descHandler","cHandler","behaviourTuple","groupByEvents","behaviours","behaviourEvents","behaviour","nameToHandlers","assemble","rawHandler","read$2","fuse","tuples","eventOrder","eventName","order","keyName","sorted","aKey","bKey","aIndex","bIndex","sortKeys","sortedTuples","c","missingOrderError","combineGroups","byEventName","assembled","purpose","uncurried","baseBehaviour","schema$z","mergeWith","toEvents","read","attr","supports","classList","add$3","clazz","add$4","remove$3","remove$4","add$2","cleanClass","get$6","remove$2","remove","has","add$1","remove$1","get$5","set$4","generateFrom","validated","list","optBlobThunk","output","blob","config","state","generateFrom$1","generate$4","getBehaviours$2","getDomDefinition","bList","bData","defnA","mod","definition","domChildren","components","infoModification","domModification","toModification","baseModification","modification","baseMod","modsByBehaviour","exhibit","byAspect","combineObjects","combinedClasses","combinedAttributes","combinedStyles","combine$2","getEvents","baseEvents","combine$1","build$2","getMe","systemApi","toInfo","bBlob","getBehaviours$3","getData$2","subject","innerHtml","renderToDom","subcomponents","hasConfigured","behaviourName","apis","connect","newApi","disconnect","syncComponents","subs","child","buildFromSpec","userSpec","specEvents","build$1","buildSubcomponents","completeSpec","text$1","external$2","extSpec","uids","getPremade","userSpecWithUid","isSketchSpec$1","premade","ClosestOrAncestor","ancestor","EventConfiguration","ancestor$1","closest$3","closest$2","child$1","descendant","querySelector","one","closest$1","manager","ariaId","link","unlink","isAriaPartOf","queryElem","dependent","dep","find$1","isPartOf$1","eventConfig","processEvent","initialTarget","patterns","NORMAL","noLogger","LOGGING","logger","sequence","startTime","logEventCut","_name","outcome","logEventStopped","logNoParent","logEventNoHandlers","logEventResponse","write","finishTime","makeEventLogger","STOP","monitorEvent","menuFields","itemFields","itemSchema$3","_initSize","tieredMenuMarkers","markers$1","required","onPresenceHandler","fieldName","stack","lines","line","getTrace","onHandler","onKeyboardHandler","onStrictHandler","onStrictKeyboardHandler","output$1","snapshot","initSize","nu$6","bubble","direction","placement","boundsRestriction","labelPrefix","alwaysFit","restriction","adt$a","southeast","southwest","northeast","northwest","south","north","east","west","southeast$3","southwest$3","northeast$3","northwest$3","south$3","north$3","east$3","west$3","cycleBy","delta","min","clamp$1","anchor","restrictions","dir","getRestriction","labelPrefix$2","eastX$1","middleX$1","westX$1","northY$2","southY$2","centreY$1","southeast$2","bubbles","southwest$2","northeast$2","northwest$2","north$2","south$2","east$2","eastEdgeX$1","west$2","westEdgeX$1","all$1","allRtl$1","aboveOrBelow","aboveOrBelowRtl","belowOrAbove","belowOrAboveRtl","ActiveReceiving","receiveConfig","channelMap","channels","receivingData","targetChannels","universal","chooseChannels","channelInfo","channelSchema","onReceive","ReceivingSchema","loadEvent","bConfig","bState","_simulatedEvent","wrapApi","bName","apiName","markAsBehaviourApi","revokeBehaviour","doCreate","configSchema","schemaSchema","active","getConfig","wrappedApis","apiF","wrappedExtra","extraF","revoke","prepared","configAsRaw","initialConfig","behaviourInfo","exhibitor","derive$1","capabilities","simpleSchema","create$8","create$9","modeSchema","createModes","modes","createModes$1","branchKey","Receiving","ActivePosition","posConfig","useFixed","getDocument","focus$3","focus","hasFocus","root","activeElement","preserve$1","refocus","focused","descend","child_1","oldFocus","newFocus","NuPositionCss","toPx","applyPositionCss","toOptions","adt$9","relative","fixed","positionWithDirection","posName","decision","decisionRect","rect","decisionX","decisionY","decisionRight","decisionBottom","cata$2","reposition","origin","toBox","rel","viewport","getBounds","pos","translate$2","outerScroll","AttributeValue","relative$1","fixed$1","anchorBox","placementAttribute","getPlacement","adt$8","fit","nofit","attempt","bubbleOffset","adjustedBounds","applyRestriction","isVerticalAxis","newPos","adjustedLeft","adjustedTop","adjustedRight","adjustedBottom","adjustBounds","newX","newY","boundsX","boundsY","boundsRight","boundsBottom","originInBounds","sizeInBounds","visibleW","visibleH","determinePosition","fits","fittedBox","maxX","maxY","restrictedX","restrictedY","restrictedWidth","restrictedHeight","calcReposition","isPartlyVisible","_b","upAvailable","downAvailable","maxHeight","middle","cataVertical","westAvailable","eastAvailable","maxWidth","cataHorizontal","calcMaxSizes","on","classesOn","off","classesOff","layout","testY","singleton","doRevoke","clear","isSet","destroyable","destroy","unbindable","value$1","bind$2","capture","capture$1","fromRawEvent","timerAttr","isTransitioning$1","transition","hasAll","hasChanges","intermediate","round","toFixed","newValue","setupTransitionListeners","timer","transitionEnd","transitionCancel","isSourceTransition","pseudoElement","propertyName","transitionDone","clearTimeout","transitionStarted","transitionStart_1","duration","times","parse","delay","dur","getTransitionDuration","requestAnimationFrame","setTimeout","applyTransitionCss","lastPlacement","shouldTransition","placer","mode","shouldApplyTransitionCss","intermediatePosition_1","intermediateCssOptions","timerId","startTransitioning","elementBox","panelWidth","panelHeight","attemptBestFit","isVisible","next","attemptLayout","newReposition","newVisibleW","newVisibleH","newIsVisible","abc","bestNext","attempts","preference","setPlacement","setPlacement$1","setMaxHeight","absMax","setMax$1","anchored","available","expandable$1","defaultOr","dephault","go","positionCss","position$2","classInfo","setClasses","maxHeightFunction","setHeight","maxWidthFunction","setWidth","allAlignments","nu$5","xOffset","yOffset","insetModifier","insetXOffset","insetYOffset","getClasses","make","xDelta","yDelta","alignmentsOn","alignmentsOff","insetNortheast","insetNorthwest","insetNorth","insetSoutheast","insetSouthwest","insetSouth","insetEast","insetWest","nu$4","onDirection","isLtr","isRtl","getDirection","Attribute","isBottomToTopDir","BottomToTop","schema$y","get$4","defaultLtr","defaultRtl","defaultBottomLtr","defaultBottomRtl","dirElement","isBottomToTop","customLtr","layouts","ls","onLtr","customRtl","onRtl","ltr","onBottomLtr","rtl","onBottomRtl","HotspotAnchor","anchorInfo","hotspot","overrides","MakeshiftAnchor","adt$7","screen","absolute","point","toAbsolute","sum","points","sumAsAbsolute","positions","absolute$1","getRootPoint","frame","frameOwner","compOwner","getBox","pointed","calcNewAnchor","optBox","rootPoint","onNone","onRelative","onFixed","topLeft","sumAsFixed","layoutsLtr","showAbove","layoutsRtl","NodeAnchor","nodeBox","SimRange","soffset","finish","foffset","adt$6","before","after","Situ","situ","adt$5","domRange","exact","SimSelection","exactFromRange","simRange","getWin","selection","rng","startContainer","startSitu","_finishSitu","_soffset","_finish","_foffset","getStart","range","relativeToNative","finishSitu","createRange","setStartBefore","setStart","setStartAfter","setEndBefore","setEnd","setEndAfter","setFinish","exactToNative","toRect","adt$4","fromRange","startOffset","endContainer","endOffset","diagnose","ranges","getRanges","collapsed","rev","doDiagnose","asLtrRange","FocusInsideModes","api","getOption","nodeValue","NodeValue","elementsWithCursorPosition","isCursorPosition","hasCursorPosition","trim","descendantRtl","descendants","querySelectorAll","all$3","makeRange","same","readRange","rangeCount","firstRng","getRangeAt","lastRng","doGetExact","anchorNode","focusNode","focus_1","anchorOffset","focusOffset","getExact","getSelection","getNativeSelection","sel","getFirstRect","rects","getClientRects","getFirstRect$1","getBounds$1","getBounds$2","point$1","descendOnce$1","last","get$3","descendOnce","getAnchorSelection","modStart","modFinish","SelectionAnchor","selectionBox","optRect","rawRect","targetElement","labelPrefix$1","eastX","westX","northY$1","southY$1","southeast$1","southwest$1","northeast$1","northwest$1","allRtl","SubmenuAnchor","submenuInfo","AnchorSchema","submenu","makeshift","TransitionSchema","PositionSchema","PlacementSchema","place","anchoring","placee","lastPlace","overrideOptions","simple","positionWithin","posState","placementSpec","boxElement","boundsBox","positionWithinBounds","placeeDetail","anchorage","placeeState","oldVisibility","getFixedOrigin","getRelativeOrigin","newState","doPlace","vis","PositionApis","getMode","pConfig","_pState","reset","reset$2","PositioningState","Positioning","fireDetaching","fireAttaching","attach$1","replaceChildren","newChildren","childComp","detachChildren$1","deleted","attach","attachWith","insertion","doDetach","detach","parent$1","detachChildren","attachSystem","guiSystem","attachSystemWith","inserter","detachSystem","rebuild","sandbox","sConfig","sState","_data","getAttachPoint","built","open$1","onOpen","close$1","onClose","isOpen$1","_sandbox","_sConfig","isOpen","cloak","_sState","sink","cssKey","store","cloakVisibilityAttr","decloak","hasPosition","oldValue","restore","SandboxApis","open","openWhileCloaked","transaction","close","isPartOf","getState","setContent","ActiveSandbox","sandboxConfig","sandboxState","SandboxSchema","SandboxState","contents","Sandboxing","dismissPopups","repositionPopups","mouseReleased","schema$x","receivingChannel$1","rawSpec","isExtraPart","fireEventInstead","fe","schema$w","receivingChannel","doReposition","onLoad$5","repConfig","repState","onLoad","onUnload$2","onUnload","RepresentApis","setValue","getValue","ActiveRepresenting","resetOnDom","_se","memory$1","isNotSet","dataset","dataByValue","dataByText","lookup","itemString","update","items","currentDataByValue","currentDataByText","newDataByValue","newDataByText","meta","RepresentState","memory","manual","setValue$2","onSetValue","DatasetStore","getDataKey","getFallbackEntry","initialValue","ManualStore","_repState","MemoryStore","initVal","RepresentSchema","Representing","setValueFrom","source","forbidden","_v","get$2","dump","augment","SketchBehaviours","_placeholder","adt$3","single","multiple","isSubstituted","scan","compSpec","placeholders","uiType","newSpec","subPlaceholder","substitute","req","childSpecs","substituted","valuesThunk","preprocess","preprocessor","substitutePlaces","ps","ph","replacements","used","substituteAll","single$2","placeholder","adt$2","external","optional","fFactory","sketch","fSchema","fName","fPname","typeSpec","fGroupSchema","fDefaults","fOverrides","requiredSpec","externalSpec","optionalSpec","groupSpec","asNamedPart","part","name$1","convert","adtConstructor","partSchema","external$1","PartType","asCommon","combine","partSpec","partValidated","defaults","generate$3","np","g","doGenerateOne","pname","generateOne$1","schemas","names","substitutes","internals","externals","factory","_partSpec","_partValidated","units","u","components$1","getPart","partKey","getPartOrDie","getParts","partKeys","system","pk","getAllParts","pUid","_k","getAllPartNames","getPartsOrDie","defaultUids","baseUid","partTypes","partNames","pn","defaultUidsSchema","AlloyParts","generate","generateOne","asRawOrDie","partSchemas","partUidsSchemas","baseS","composite$1","specWithUid","supplyUid","partUidsSchema","hasUid","singleSchema","compositeSchema","rawConfig","extraApis","configFields","single$1","composite","partFields","inside","ComposeApis","getCurrent","composeConfig","_composeState","find","ComposeSchema","Composing","nativeDisabled","onLoad$1","disableConfig","disableState","disabled","disable$1","enable$1","hasNative","useNative","nativeDisable","nativeEnable","ariaDisable","ariaEnable","_disableState","disableClass","onDisabled","onEnabled","isDisabled","nativeIsDisabled","ariaIsDisabled","DisableApis","enable","disable","ActiveDisable","DisableSchema","Disabling","dehighlightAllExcept","hConfig","hState","skip","highlighted","highlightClass","skipComp","onDehighlight","highlight","isHighlighted","onHighlight","queryTarget","getByIndex","itemClass","getFirst","_hState","getLast","getDelta$2","selected","dest","getCandidates","HighlightApis","dehighlightAll","dehighlight","highlightFirst","firstComp","highlightLast","lastComp","highlightAt","highlightBy","getHighlighted","getPrevious","getNext","HighlightSchema","Highlighting","BACKSPACE","TAB","ENTER","ESCAPE","SPACE","LEFT","UP","RIGHT","DOWN","cyclePrev","tryPrev","cycleNext","tryNext","inSet","which","and","preds","isShift","shiftKey","isControl","ctrlKey","isNotShift","rule","classification","reportFocusShifting","prevFocus","dom$2","focusee","highlights","initialState","typical","infoSchema","stateInit","getKeydownRules","getKeyupRules","optFocusIn","processKey","getRules","keyingConfig","keyingState","transitions","rules","onFocusHandler","focusInside","OnFocusMode","focusIn","keyboardEvents","isEnterOrSpace","OnEnterOrSpaceMode","tryGoInsideComponent","create$6","cyclicField","tabbingConfig","visibilitySelector","_tabbingState","tabstops","visibles","firstTabstop","findInitial","focusManager","goFromTabstop","stopIndex","cycle","useTabstopAt","isTabstop","cyclic","findCurrent","tabstop","navigate","onEscape","onEnter","AcyclicType","CyclicType","defaultExecute","doDefaultExecute","stopEventForFirefox","_component","schema$v","execute$4","executeConfig","execute","ExecutionType","_executeState","spaceExec","useSpace","enterExec","useEnter","downExec","useDown","execKeys","useControlEnter","flatgrid$1","dimensions","numRows","numColumns","setGridSize","getNumRows","getNumColumns","KeyingState","flatgrid","useH","movement","move","use","west$1","moveLeft","moveRight","east$1","useV","north$1","south$1","move$1","isHidden$1","locateVisible","locate","findIndex","withGrid","numCols","address","newIndex","row","column","cycleHorizontal$1","oldRow","oldColumn","colsInRow","newColumn","cycleVertical$1","newRow","newCol","schema$u","focusIn$3","gridConfig","_gridState","first","doMove$2","gridState","identified","handleTab","captureTab","moveLeft$3","moveRight$3","moveNorth$1","moveSouth$1","getKeydownRules$4","findCurrent$1","getKeyupRules$4","FlatgridType","horizontal","tryCycle","schema$t","execute$2","flowConfig","focusIn$2","_state","getInitial","moveLeft$2","moveRight$2","doMove$1","flowState","executeOnMove","doEscape","getKeyupRules$3","FlowType","_flowState","westMovers","allowVertical","eastMovers","toCell","matrix","rowIndex","columnIndex","cell","cycleHorizontal","startCol","deltaCol","newColIndex","cycleVertical","colIndex","startRow","deltaRow","nextRowIndex","colsInNextRow","nextColIndex","moveHorizontal","moveVertical","schema$s","focusIn$1","matrixConfig","previousSelector","selectors","doMove","ifCycle","ifMove","cycles","inRow","cellsInRow","allRows","rows","toMatrix","moveNorth","moveSouth","getKeydownRules$2","getKeyupRules$2","MatrixType","schema$r","menuConfig","moveUp","moveDown","getKeydownRules$1","menuState","moveOnTab","getKeyupRules$1","MenuType","schema$q","SpecialType","specialInfo","onSpace","onShiftEnter","onShiftTab","onTab","onUp","onDown","onLeft","onRight","stopSpaceKeyup","acyclic","flow","execution","menu","special","Keying","keyConfig","keyState","sendFocusIn","isFlatgridState","replaceConfig","childSpec","replaceState","removee","foundChild","_replaceConfig","replaceAt","replaceeIndex","replacer","replacee","appendAt","ReplaceApis","append","appendee","prepend","prependee","replaceBy","replaceePred","Replacing","eventHandlers","events$d","focus$2","focusConfig","ignore","onFocus","FocusApis","blur","blur$1","isFocused","ActiveFocus","tabindex","stopMousedown","FocusSchema","Focusing","updateAriaState","toggleConfig","toggleState","ariaInfo","aria","updateClass","toggleClass","toggle$2","set$1","ToggleApis","toggle","isOn","ActiveToggle","executor","load","toggleOnExecute","updateExpanded","status","ToggleSchema","pressed","syncWithExpanded","checked","expanded","Toggling","pointerEvents","onClick","events$a","optAction","hoverEvent","focusEvent","onHover","onFocus$1","hover","focus$1","schema$p","toggling","hasSubmenu","itemBehaviours","tConfig","ignoreFocus","schema$o","owner$2","parts$h","schema$n","focusWidget","widget","onHorizontalArrow","autofocus","setSource","_widget","widgetBehaviours","itemSchema$2","separator","parts$g","itemInfo","builder","unit","fakeFocus","markers","schema$m","grid","movementInfo","rowSelector","Menu","_spec","_externals","menuBehaviours","selectedItem","role","trace","byItem","byMenu","triggerItem","triggerMenu","generate$2","menus","expansions","menuItems","menuPaths","_triggerItem","extractPreparedMenu","prep","LayeredState","primary","directory","getTriggerData","menuValue","getItemByValue","getPreparedMenu","getTriggeringItem","triggeringItemValue","triggeredItem","triggeredMenu","triggeringItem","triggeringPath","lookupMenu","lookupItem","itemValue","setMenuBuilt","menuName","setContents","sPrimary","sMenus","sExpansions","sPaths","expand","refresh","collapse","otherMenus","menuValues","getPrimary","getMenus","isClear","getTriggeringPath","extraPath","revPath","menuIndex","collapseItem$1","tieredMenu","collapseMenu","tmenu","highlightPrimary","repositionMenus","_rawUiSpec","ExpandHighlightDecision","submenuParentItems","layeredState","setup","componentMap","primaryName","makeSketch","nbMenu","buildMenus","toDirectory","getItemValue","_container","_menuName","setActiveMenu","mv","closeOthers","others","backgroundMenu","stayInDom","updateAriaExpansions","parentItems","itemComp","getSubmenuParents","updateMenuPath","latestMenuName","menuPrep","activeMenu","expandRight","HighlightSubmenu","activeMenuPrep","buildIfRequired","onOpenSubmenu","collapseLeft","onCollapseMenu","keyOnItem","getSource","onExecute","onOpenMenu","highlightImmediately","navigateOnHover","updateView","HighlightParent","getActiveItem","currentItem","maybeActivePrimary","allMenus","preparedMenus","extractMenuFromContainer","primaryMenu","onRepositionMenu","tmenuBehaviours","_keyInfo","selectedMenu","tieredData","singleData","collapseItem","InlineView","showWithin","thing","showWithinBounds","lazySink","showMenuWithinBounds","menuSpec","menuSandbox","getSubmenuLayouts","triggeringPaths","isFirstTierSubmenu","submenuTriggers","st","submenuLayouts","makeMenu","showAt","showMenuAt","hide","getContent","inlineBehaviours","getRelated","isPartOfRelated","onShow","onHide","fireDismissalEventInstead","fireRepositionEventInstead","westEdgeX","middleX","eastEdgeX","northY","southY","centreY","lookupPreserveLayout","preserve","lookupFlippedLayout","flip$2","global$f","Button","lookupAttr","buttonBehaviours","roleAttrs","getModAttributes","getAttrs","record","isSketchSpec","anyInSystem","asSpec","_typeof","Symbol","iterator","_setPrototypeOf","setPrototypeOf","_construct","Parent","Class","Reflect","construct","sham","Proxy","Boolean","_isNativeReflectConstruct","instance","_toConsumableArray","_arrayLikeToArray","_arrayWithoutHoles","iter","_iterableToArray","minLen","_unsupportedIterableToArray","TypeError","_nonIterableSpread","arr2","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","seal","create$5","create","_ref","apply$1","fun","thisValue","Func","func","arrayForEach","unapply","forEach","arrayPop","pop","arrayPush","stringToLowerCase","stringMatch","stringReplace","stringIndexOf","stringTrim","regExpTest","RegExp","typeErrorCreate","_len2","_key2","thisArg","_len","_key","addToSet","lcElement","clone$1","object","newObject","lookupGetter","desc","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","svg","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","getGlobal","purify","createDOMPurify","DOMPurify","removed","originalDocument","DocumentFragment","HTMLTemplateElement","NodeFilter","_window$NamedNodeMap","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","trustedTypes","ElementPrototype","getNextSibling","getChildNodes","getParentNode","template","trustedTypesPolicy","createPolicy","ATTR_NAME","currentScript","policyName","createHTML","_createTrustedTypesPolicy","emptyHTML","_document","implementation","createNodeIterator","getElementsByTagName","importNode","documentMode","hooks","createHTMLDocument","PARSER_MEDIA_TYPE","transformCaseFunc","MUSTACHE_EXPR$1","ERB_EXPR$1","DATA_ATTR$1","ARIA_ATTR$1","IS_SCRIPT_OR_DATA$1","ATTR_WHITESPACE$1","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","tagNameCheck","configurable","enumerable","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","SUPPORTED_PARSER_MEDIA_TYPES","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","table","tbody","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_forceRemove","outerHTML","_removeAttribute","attribute","getAttributeNode","_initDocument","dirty","leadingWhitespace","dirtyPayload","parseFromString","createDocument","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","_isNode","_executeHook","entryPoint","currentNode","hook","_sanitizeElements","elm","namespaceURI","tagName","allowedTags","firstElementChild","_basicCustomElementTest","parentTagName","_checkValidNamespace","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","_attr","forceKeepAttr","setAttributeNS","_sanitizeShadowDOM","shadowNode","shadowIterator","nextNode","sanitize","importedNode","oldNode","returnNode","toStaticHTML","nodeIterator","shadowroot","serializedHTML","doctype","setConfig","clearConfig","isValidAttribute","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","sanitizeHtmlString","global$e","rtlTransform","defaultIconName","defaultIcon","getIconName","rtlName","addToEnd","ensureTrailing","lookupIcon","get$1","iconProvider","addFocusableBehaviour","renderIcon$2","iconName","fallbackIcon","rtlIconClasses","needsRtlTransform","iconHtml","render$3","notificationIconMap","warning","Notification","iconNames","memBannerText","translationProvider","renderPercentBar","percent","renderPercentText","memBannerProgress","progress","updateProgress","updateText","banner","iconChoices","icon","level","memButton","onAction","notificationIconSpec","closeButton","NotificationManagerImpl","editor","extras","uiMothership","sharedBackstage","backstage","shared","settings","closeCallback","hideCloseButton","timeout","notificationWrapper","notification","progressBar","providers","getSink","header","isPositionedAtTop","contentArea","getContentAreaContainer","win$1","moveTo","moveRel","notificationSpec","anchorOverrides","layoutDirection_1","getLayoutDirection","nodeAnchor","anchors","nuText","getEl","notifications","getArgs","ItemResponse","rate","cancel","throttle","global$d","repeatLeft","rootNode","isBlock","getContentEditable","isBoundary","backwards","create$4","getNode","getDoc","extractContents","insertNode","normalize","last$1","setCursorLocation","getEnd","getText","isWhitespace","chr","stripTriggerChar","triggerCh","findStart","initRange","minChars","getParent","getRoot","char","charAt","findChar","cloneRange","lastIndexOf","triggerChar","getContext","createRng","selectNode","AutocompleterEditorEvents","onKeypress","redirectKeyToItem","getItem","getView","isActive","cancelIfNecessary","isMenuOpen","stopImmediatePropagation","isProcessingAction","global$c","toLast","isText","toLeaf","isElement$1","isStartOfWord","isPreviousCharContent","lookup$2","getDatabase","database","getRng","triggerChars","getTriggerContext","context","lookupWithContext","fetchOptions","startText","autocompleters","lookupByChar","autocompleter","lookupData","ac","fetch","maxResults","then","matchText","columns","highlightOn","separatorMenuItemSchema","autocompleterItemSchema","autocompleterSchema","baseToolbarButtonFields","toolbarButtonSchema","createToolbarButton","baseToolbarToggleButtonFields","toggleButtonSchema","createToggleButton","contextBarFields","contextButtonFields","contextToggleButtonFields","launchButtonFields","launchToggleButtonFields","toggleOrNormal","contextformbutton","contextformtogglebutton","contextFormSchema","contextToolbarSchema","register$b","popups","ui","registry","getAll","popup","stringArray","datasetValues","dv","ToolbarMode","ItemResponse$1","navClass","selectableClass","colorClass","presetClasses","normal","color","tickedClass","iconClass","textClass","caretClass","activeClass","containerClass","containerRowClass","classForPreset","presets","forMenu","hasIcons","menuClasses","dom$1","chunk","rowDom","chunks","preprocessCollection","isSeparator","allSplits","currentSplit","forCollection","initItems","_hasIcons","_item","menuHasIcons","handleError","createHorizontalPartialMenuWithAlloyItems","_columns","_presets","structure","createPartialMenuWithAlloyItems","forSwatch","forToolbar","cardImageFields","cardImageSchema","cardTextFields","cardTextSchema","itemSchema$1","cardimage","cardtext","cardcontainer","cardContainerSchema","commonMenuItemFields","cardMenuItemSchema","choiceMenuItemSchema","baseFields","insertTableFields","colorSwatchFields","fancyMenuItemSchema","inserttable","colorswatch","menuItemSchema","nestedMenuItemSchema","toggleMenuItemSchema","detectSize","margin","selectorClass","descendants$1","columnLength","thisTop","cTop","abs","ceil","namedEvents","SimpleBehaviours","ExclusivityChannel","ShowTooltipEvent","HideTooltipEvent","hideAllExclusive","_tConfig","_tState","TooltippingApis","setComponents","tState","specs","getTooltip","tooltip","ActiveTooltipping","tooltipConfig","clearTooltip","clearTimer","resetTimer","isShowing","tooltipDom","tooltipComponents","setTooltip","show","TooltippingSchema","Tooltipping","global$b","global$a","getHeightSetting","getParam","getElement","getWidthSetting","DOM","getStyle","getMinWidthSetting","getMinHeightSetting","getMaxWidthSetting","getMaxHeightSetting","isMenubarEnabled","isToolbarEnabled","toolbar","isToolbarTrue","isToolbarString","isToolbarObjectArray","isMultipleToolbars","getMultipleToolbarsSetting","toolbars","toolbarArray","ToolbarLocation","getToolbarMode","_a$1","getToolbarLocation","auto","isToolbarLocationBottom","fixedContainerTarget","inline","fixedContainerSelector","fixedToolbarContainerTarget","useFixedContainer","getUiContainer","isDistractionFree","isStickyToolbar","getMenubar","getAnchorTop","getAnchorBottom","ReadOnlyChannel","ReadOnlyDataSchema","broadcastReadonly","uiComponents","readonly","outerContainer","mothership","setupReadonlyModeSwitch","isReadOnly","setMode","receivingConfig","DisablingConfigs","runWithApi","getApi","onControlAttached","editorOffCell","onDestroy","onSetup","onControlDetached","onMenuItemExecute","itemResponse","triggersSubmenu","CLOSE_ON_EXECUTE","menuItemEventOrder","componentRenderPipeline","renderCommonItem","providersbackstage","optComponents","buildData","global$9","convertText","mac","alt","ctrl","shift","access","shortcut","updated","segment","renderIcon$1","renderText","renderHtml","renderStyledText","renderShortcut","renderCheckmark","renderColorStructure","providerBackstage","common","baseDom","itemText","ariaLabel","iconSvg","iconContent","title","renderItemDomStructure","domTitle","renderItemStructure","providersBackstage","renderIcons","iconSpec","leftIcon","checkmark","checkMark","textRender","htmlContent","shortcutContent","caret","renderNormalItemStructure","tooltipBehaviour","tooltipWorker","_tooltip","replaceText","encoded","encode","encodeText","escapedMatchRegex","escape","render$2","directionClass","alignClass","align","valign","getValignClass","renderContainer","src","renderImage","shouldHighlight","cardText","parts$f","hexColour","shorthandRegex","longformRegex","isHexString","hex","normalizeHex","numChars","removeFromStart","removeLeading","toUpperCase","extractValues","longForm","hexString","m","getLongForm","splitForm","exec","toHex","fromRgba","rgbaColour","red","green","blue","round$1","rgbRegex","rgbaRegex","alpha","isRgbaComponent","fromHsv","hsv","hue","saturation","brightness","side","chroma","fromHex","fromStringValues","fromString","rgbaString","rgbMatch","rgbaMatch","rgba","fireResizeContent","fire","hsvColour","fromRgb","minRGB","maxRGB","hsvToHex","anyToHex","canvas","canvasContext","clearRect","fillStyle","fillRect","getImageData","global$8","storageName","FocusMode","choiceItem","defaultColors","colorCache","storageString","localstorage","cache","idx","splice","unshift","setItem","ColorCache","hasCustomColors$1","getColors$2","unmapped","getColorMap","colorMap","colors","mapColors","addColor","fallbackColor","getColorCols$1","defaultCols","sqrt","calcCols","getColorCols$2","getAdditionalColors","hasCustom","applyColor","format","onChoice","colorPickerDialog","dialog","colorOpt","execCommand","getColors$1","getFetch$1","callback","setIconColor","splitButtonApi","newColor","setIconFill","registerTextColorButton","lastColor","addSplitButton","select","optCurrentRgb","getParents","getCurrentColor","currentRgb","currentHex","_splitButtonApi","onItemAction","fireTextColorChange","registerTextColorMenuItem","addNestedMenuItem","getSubmenuItems","fancytype","isValid","initialData","colorpicker","windowManager","buttons","_api","details","onSubmit","getData","alert","onCancel","createPartialChoiceMenu","onItemValueHandler","alloyItems","createChoiceItems","itemPresets","useText","isSelected","setActive","setDisabled","renderChoiceItem","deriveMenuMovement","menuMarkers","getColorItems","useCustomColors","initData","allowCustomColors","colorinput","hasCustomColors","getColors","cellOverEvent","cellExecuteEvent","makeCell","col","labelId","se","makeComponents","cells","cellRow","makeLabelText","fancyMenuItems","sizeLabelId","makeCells","emptyLabelText","memLabel","selectedRow","selectedColumn","selectCells","getColorCols","widgetSpec","autocomplete","separator$3","nested","downwardsCaret","renderSubmenuCaret","toggle$1","fancy","render","card","createMenuItemFromBridge","isHorizontalMenu","parseForHorizontalMenu","menuitem","createNestedMenuItem","createToggleMenuItem","createSeparatorMenuItem","createFancyMenuItem","createAutocompleteItems","createCardMenuItem","createAutocompleterItem","createPartialMenu","createItem","itemHasIcon","createTieredDataFrom","partialMenu","Autocompleter","activeAutocompleter","processingAction","hideIfNecessary","lastElement","getAutocompleters","display","matchLength","ld","focusMode","ContentFocus","createMenuFrom","newContext","doLookup","lookupInfo","commenceIfNecessary","combinedItems","choices","itemMeta","nr","autocompleterApi","reload","BUBBLE_TO_SANDBOX","autocompleterUiApi","hasPlugin","closest","DelayedFunction","ref","schedule","getTouch","touches","monitor","startData","longpressFired","longpress$1","touch","distX","distY","isFarEnough","fireIfReady","setup$d","rawSettings","stopBackspace","tapEvent","simpleEvents","tapStopped","pasteTimeout","onPaste","onKeydown","isDangerous","onFocusIn","bindFocus","focusoutTimeout","onFocusOut","bindBlur","derive","rawTarget","adt$1","stopped","resume","complete","doTriggerHandler","eventType","isStopped","isCut","fromSource","handlerInfo","eventHandler","doTriggerOnUntilStopped","listeners","_logger","fromExternal","listener","triggerOnUntilStopped","EventRegistry","registerId","extraArgs","curryArgs","unregisterId","handlersById","_eventName","filterByType","broadcastHandler","isAboveRoot","findHandler","Registry","readOrTag","unregister","tagId","register","conflict","failOnDuplicate","getById","Container","domWithoutAttributes","containerBehaviours","takeover","domEvents","triggerUntilStopped","_alloyId","triggerHandler","broadcast$1","broadcastData","receivers","receiver","schema$l","parts$e","excludeFactory","FormField","fieldBehaviours","descriptor","descriptorId","getField","getLabel","ActiveTabstopping","tabConfig","tabAttr","TabstopSchema","Tabstopping","global$7","renderFormFieldWith","pLabel","pField","extraClasses","extraBehaviours","renderFormFieldSpecWith","renderFormFieldDomWith","renderLabel$2","formChangeEvent","formCloseEvent","formCancelEvent","formActionEvent","formSubmitEvent","formBlockEvent","formUnblockEvent","formTabChangeEvent","formResizeEvent","renderCollection","runOnItem","tgt","collectionEvents","currentActive","iterCollectionItems","applyAttributes","childElm","htmlLines","mapItemName","encodeAllRaw","schema$k","focusBehaviours","selectOnFocus","setSelectionRange","inputBehaviours","inputAttributes","inputStyles","inputClasses","Input","exports$1","exports","define","global","amd","globalThis","EphoxContactWrapper","commonjsGlobal","promise","setTimeoutFunc","Promise","_handled","_value","_deferreds","doResolve","deferred","_immediateFn","cb","onFulfilled","onRejected","reject","finale","_unhandledRejectionFn","Handler","done","reason","ex","prom","remaining","race","setImmediate","_setImmediateFn","_setUnhandledRejectionFn","promisePolyfill","boltExport","HighlightOnOpen","Promise$1","nu$3","baseFn","callbacks","nCallback","isReady","cbs","LazyValue","pure","errorReporter","make$5","aFutureB","toPromise","anonBind","futureB","toLazy","toCached","Future","ariaElements","isAriaElement","markValid","invalidConfig","invalidClass","notify","notifyInfo","getContainer","validHtml","onValid","markInvalid","invalidState","onInvalid","_invalidState","validatorInfo","validate","onValidate","valid","InvalidateApis","isInvalid","ActiveInvalidate","onEvent","validateOnLoad","InvalidateSchema","Invalidating","validation","CouplingApis","getCoupled","coupleConfig","coupleState","getOrCreate","CouplingSchema","CouplingState","coupled","Coupling","partType$1","kernel","colorFn","getAnchor","getHotspot","getAnchorOverrides","mapFetch","onOpenSync","highlightOnOpen","processed","futureData","fetcher","getLazySink","tdata","HighlightFirst","openF","_onOpenSync","_highlightOnOpen","togglePopup","matchWidth","useMinWidth","buttonWidth","set$6","sinkDetail","internalSink","lazySinkFn","doRepositionMenus","makeSandbox$1","ariaOwner","sandboxClasses","sandboxBehaviours","sandboxFields","schema$j","parts$d","Dropdown","switchToMenu","HighlightNone","triggerExecute","dropdownBehaviours","ActiveUnselecting","unselectable","Unselecting","colorInputChangeEvent","colorSwatchChangeEvent","colorPickerCancelEvent","renderColorInput","colorInputBackstage","inputValue","span","emitSwatchChange","colorBit","memColorButton","renderPanelButton","colorPicker","valueOpt","colorButton","_field","labelPart","edgePart","model","edgeActions","det","mouseIsDown","tlEdgePart","tedgePart","trEdgePart","redgePart","brEdgePart","bedgePart","blEdgePart","ledgePart","thumbPart","spectrumPart","getValueFromEvent","spectrum","SliderParts","sliderChangeEvent","getEventSource","evt","isTouchEvent$2","touchEvent","mouseEvent","minX","minY","min1X","min1Y","max1X","max1Y","xRange","yRange","halfX","halfY","step","stepSize","snap","snapToGrid","snapStart","rounded","hasEdge","edgeName","hasLEdge","hasREdge","hasTEdge","hasBEdge","currentValue","xValue","yValue","xyValue","fireSliderChange$3","reduceBy","increaseBy","capValue","findValueOf","hasMinEdge","hasMaxEdge","minBound","maxBound","screenRange","capMin","capMax","findOffsetOf","initValue","extraValue","remainder","adjustment","rawSteps","maxSteps","snapValueOf","findOffsetOfValue$2","maxOffset","centerMinEdge","centerMaxEdge","getBoundsProperty","getMinXBounds","getMaxXBounds","getMinYBounds","getMaxYBounds","getXScreenRange","getYScreenRange","getCenterOffsetOf","componentMinEdge","componentMaxEdge","spectrumMinEdge","getXCenterOffSetOf","componentBounds","spectrumBounds","getYCenterOffSetOf","fireSliderChange$2","sliderValue$2","findValueOfOffset$1","handleMovement$2","moveBy$2","findPositionOfValue$1","slider","minEdge","maxEdge","minOffset","findOffsetOfValue$1","onLeft$2","onRight$2","onUp$2","onDown$2","edgeActions$2","HorizontalModel","sliderVal","setToMin","setToMax","findValueOfOffset","findPositionOfValue","setPositionFromValue","thumb","edges","getSpectrum","getLeftEdge","getRightEdge","thumbRadius","fireSliderChange$1","sliderValue$1","handleMovement$1","moveBy$1","findOffsetOfValue","onLeft$1","onRight$1","onUp$1","onDown$1","edgeActions$1","VerticalModel","getTopEdge","getBottomEdge","fireSliderChange","sliderValue","handleMovement","isVerticalMovement","moveBy","TwoDModel","mX","mY","xPos","yPos","thumbXRadius","thumbYRadius","Slider","getThumb","modelDetail","choose","wasDown","onChoose","onDragStart","onDragEnd","sliderBehaviours","onChange","changeValue","getInitialValue","onInit","resetToMin","resetToMax","fieldsUpdate","sliderUpdate","paletteUpdate","owner$1","schema$i","getPartName$1","make$4","formBehaviours","form","resPs","resPThunk","pName","Form","fSpec","fieldParts","validInput","invalidInput","validatingInput","translatePrefix","rgbFormFactory","getClass","onValidHexx","onInvalidHexx","invalidation","renderTextField","description","helptext","comps","concats","copyRgbToForm","rgb","memPreview","updatePreview","preview","rgbFormSketcher","setValueRgb","onInvalidInput","onValidRgb","hexField","copyRgbToHex","onValidInput","isHexInputEvent","onValidHex","formPartStrings","redStrings","greenStrings","blueStrings","hexStrings","updateHex","copyHexToRgb","paletteFactory","_translate","setColour","ctx","grdWhite","createLinearGradient","addColorStop","grdBlack","saturationBrightnessPaletteSketcher","_detail","_thumb","_slider","setHue","_apis","setPaletteHue","setThumb","setPaletteThumb","makeFactory","colourPickerSketcher","updates","rgbForm","onInvalidHex","sbPalette","hueDegreesToSlider","paletteRgba","paletteHue","memSlider","sliderFactory","memPalette","memRgb","updatePalette","_hex","palette","updateFields","updateSlider","updatePaletteThumb","runUpdates","updateState","hexToHsv","oldHue","newHsv","newHex","onPaletteUpdate","hueSliderToDegrees","oldRgb","oldHsv","onSliderUpdate","ComposingConfigs","mem","english","translate$1","getEnglishText","global$6","global$5","processors","withComp","optInitialValue","getter","setter","withElement","RepresentingConfigs","rawProcessors","other","rawValue","postprocess","renderDropZone","actions","onDrop","transferEvent","handleFiles","dataTransfer","files","onSelect","allowedImageFileTypes","explode","getSetting","file","filterByExtension","memInput","accept","beforeObject","afterObject","craftWithClasses","outline","craft","triggerTab","targetComp","isPseudoStop","platformNeedsSandboxing","renderIFrame","isSandbox","sandboxed","sourcing","cachedValue","_frameComponent","frameComponent","contentWindow","getDynamicSource","create$3","resize$3","tCanvas","get2dContext","drawImage","getWidth$1","image","naturalWidth","getHeight$1","naturalHeight","dataUriToBlob","uri","mimetype","base64","sliceSize","byteCharacters","atob","bytesLength","slicesCount","byteArrays","sliceIndex","begin","end","bytes","charCodeAt","Uint8Array","Blob","dataUriToBlobSync","canvasToBlob","quality","HTMLCanvasElement","toBlob","toDataURL","blobToCanvas","blobUrl","createObjectURL","Image","removeListeners","loaded","blobToImage","revokeImageUrl","revokeObjectURL","create$2","getCanvas","initialType","getType","toAdjustedDataURL","canvasToDataURL","toBase64","toAdjustedBlob","toAdjustedBase64","dataurl","toCanvas","fromBlob","reader","FileReader","onloadend","readAsDataURL","blobToDataUri","fromCanvas","clamp","parsedValue","DELTA_INDEX","multiply","matrix1","matrix2","out","colorFilter","ir","applyColorFilter","pixels","pixelsData","m0","m1","m2","m3","m4","m5","m6","m7","m8","m9","m10","m11","m12","m13","m14","m15","m16","m17","m18","m19","applyMatrix","putImageData","applyConvoluteFilter","pixelsIn","pixelsOut","pIn","pOut","aMatrix","halfSide","drgba","cy","cx","scx","innerOffset","wt","complexAdjustableColorFilter","matrixAdjustFn","adjust","invert$1","basicColorFilter","brightness$1","contrast$1","colorize$1","adjustR","adjustG","adjustB","adjustColors","sharpen$1","convoluteFilter","gamma$1","pow","applyLookup","filterImpl","scale","dW","dH","sW","sH","wRatio","hRatio","scaleCapped","scaled","_scale","ceilWithPrecision","precision","mul","upper","applyRotate","angle","rad","PI","sin","cos","newWidth","newHeight","rotate","applyFlip","axis","applyCrop","invert","sharpen","gamma","contrast","flip","flip$1","crop","crop$1","resize$1","newCanvas","resize$2","rotate$1","renderIcon","iconsProvider","renderIconFromPack","renderReplacableIconFromPack","renderLabel$1","internalToolbarButtonExecute","toolbarButtonEventOrder","updateMenuText","updateMenuIcon","renderCommonDropdown","optMemDisplayText","optMemDisplayIcon","onLeftOrRightInMenu","dropdown","tooltipAttributes","translatedTooltip","displayText","displayIcon","isSeparator$1","separator$2","unwrapReferences","realItems","isMenuItemReference","getFromItem","isExpandingMenuItem","submenuItems","getFromExpandingItem","itemWithValue","generateValueIfRequired","newData","mainMenu","submenus","getMenuButtonApi","renderMenuButton","_comp","getFetch","getButton","getMenuItemAction","storage","orig","getMenuItemSetup","renderCommonSpec","actionOpt","domFinal","renderIconButtonSpec","renderIconButton","iconButtonSpec","renderButtonSpec","translatedText","borderless","renderButton","buttonSpec","getAction","buttonType","renderFooterButton","isMenuFooterButtonSpec","menuButtonSpec","fixedSpec","memButton_1","isNormalFooterButtonSpec","renderDialogButton","schema$h","coupledPart","selfName","otherName","lock","onLockedChange","parts$c","locked","lockClass","FormCoupledInputs","coupledFieldBehaviours","field1Name","field1","field2Name","field2","getField1","getField2","getLock","parseSize","sizeText","convertUnit","inInch","noSizeConversion","_input","makeRatioConverter","currentFieldText","otherFieldText","cValue","oValue","cSize","oSize","ratioSizeConversion","renderSizeInput","converter","ratioEvent","makeIcon","pLock","formGroup","getFieldPart","isField1","widthField","heightField","_lock","newSize","unitDec","numText","formatSize","optCurrent","optOther","value1","value2","internal","undo","redo","zoom","back","swap","tempTransform","transformApply","saveState","renderEditPanel","imagePanel","createButton","createIconButton","disableAllComponents","eventcomp","enableAllComponents","panelDom","noop$1","emit$1","emitDisable","emitEnable","emitTransform","getBackSwap","memContainer","ButtonPanel","emitTransformApply","createBackButton","button","createSpacer","createApplyButton","cropPanelComponents","getRect","hideCrop","CropPanel","memSize","constrain","resizePanelComponents","sizeInput","makeResizeTransform","ResizePanel","makeValueTransform","horizontalFlip","verticalFlip","counterclockwiseRotate","clockwiseRotate","flipRotateOnAction","operation","emitTempTransform","flipRotateComponents","FlipRotatePanel","makeSlider","makeVariableSlider","valTransform","createVariableFilterPanel","filterPanelComponents","variableFilterPanelComponents","FilterPanel","BrightnessPanel","ContrastPanel","GammaPanel","makeColorTransform","colorize","makeColorSlider","redOpt","memRed","blueOpt","memBlue","greenOpt","memGreen","colorizePanelComponents","ColorizePanel","getTransformPanelEvent","panel","sharpenTransform","invertTransform","buttonPanelComponents","_anyInSystem","showCrop","measurements","getMeasurements","getApplyButton","global$4","global$3","global$2","updateWithTouchData","changedTouches","isTouchEvent$1","DragHelper","_c","eventOverlay","downButton","startX","startY","handleEvents","overlayEvents","sugarDoc","handleElement","getElementById","docSize","scrollWidth","scrollHeight","getDocumentSize","screenX","screenY","cursor","drag","deltaX","deltaY","CropRect","currentRect","viewPortRect","clampRect","containerElm","dragHelpers","handles","xMul","yMul","deltaW","deltaH","blockers","getRelativeRect","outerRect","innerRect","moveRect","startRect","setInnerRect","repaint","updateElementRect","newRect","setRect","relativeRect","cropContainer","blocker","blockerElm","cropBlocker","handleElm","cropHandle","handleFocus","activeHandle","moveAndBlock","keyCode","SPACEBAR","toggleVisibility","elems","setClampRect","getInnerRect","setViewPortRect","helper","renderImagePanel","initialUrl","memBg","zoomState","cropRect","rectState","viewRectState","repaintImg","img","panelW","panelH","bg","cRect","updateSrc","url","aImg","lastViewRect","viewRect","inflate","zoomFit","currentZoom","newZoom","setButtonEnabled","enabled","Delimiter","makeState","canUndo","canRedo","blobState","tempState","undoStack","setBlobState","createState","destroyState","destroyTempState","addBlobState","states","getBlobState","getTempState","updateTempState","newTempState","addTempState","applyTempState","postApply","temp","currentState","getHistoryStates","undoEnabled","redoEnabled","renderImageTools","updateButtonUndoStates","historyStates","sideBar","imageResultToBlob","block","unblock","editPanel","applyButton","blobManipulate","blobToImageResult","catch","manipulate","currentUrl","memUndo","memRedo","renderSideBar","_oImg","tempManipulate","manipulateApply","disableUndoRedo","isSingleListItem","dataAttribute","fetchItems","dropdownComp","selectedValue","findItemByValue","HtmlSelect","initialValues","selectClasses","selectAttributes","selectBehaviours","baseInputBehaviours","multiline","validatingBehaviours","vl","inputMode","inputmode","classname","extraClasses2","flex","maximized","ActiveStreaming","streamConfig","streamState","processor","stream","streams","cancelEvent","_config","setTimer","StreamingState","StreamingSchema","streamInfo","sInfo","throttler","onStream","stopEvent","Streaming","setValueFromItem","itemData","setCursorAtEnd","setSelectionOn","attemptSelectOver","selectsOver","inputDisplay_1","getDisplayText","setSelectionToEnd","itemExecute","schema$g","parts$b","previewing","populateFromBrowse","typeahead","Typeahead","navigateList","highlighter","focusBehaviours$1","responseTime","previousValue_1","pv","sandboxIsOpen","openClass","onItemExecute","dismissOnBlur","typeaheadBehaviours","wrap","bindFuture","resA","bindResult","mapResult","foldResult","whenError","whenValue","withTimeout","errorThunk","timedOut","nu$1","worker","FutureResult","separator$1","toMenuItem","staticMenuItem","filteredTargets","targets","toMenuItems","filterLinkTargets","headerTargets","linkInfo","anchorTargets","anchorTargetTop","anchorTop","anchorTargetBottom","anchorBottom","filterByQuery","term","lowerCaseTerm","getItems","fileType","urlBackstage","urlInputValue","getLinkInformation","history","historyTargets","getHistory","errorId","make$2","factories","bar","interpreter","renderBar","collection","alertbanner","iconTooltip","renderAlertBanner","renderInput","textarea","renderTextarea","backstageShared","renderLabel","iframe","iframeSpec","makeIframe","checkbox","repBehaviour","toggleCheckboxHandler","className","memIcons","renderCheckbox","colourPickerFactory","memPicker","picker","dropzone","renderGrid","listbox","initialItem","sketchSpec","listBoxWrap","renderListBox","selectbox","translatedOptions","chevron","selectWrap","renderSelectBox","sizeinput","urlinput","updateHistory","urlEntry","addToHistory","filetype","memUrlBox","_newValue","getValidationHandler","memInvalidIcon","invalidComp","completer","_menu","_entry","errId","memStatus","optUrlPicker","getUrlPicker","browseUrlEvent","memUrlPickerButton","componentData","urlData","fieldname","chosenData","renderUrlInput","customeditor","editorApi","memReplaced","ta","isOldCustomEditor","scriptId","scriptUrl","ea","cvalue","ed","htmlpanel","imagetools","renderTh","renderTd","renderTr","renderTable","renderPanel","noFormParts","interpretInForm","oldBackstage","newBackstage","interpretParts","bubbleAlignments$2","valignCentre","alignCentre","alignLeft","alignRight","getInlineDialogAnchor","contentAreaElement","lazyAnchorbar","lazyUseEditableAreaAnchor","getBannerAnchor","getCursorAnchor","bodyElement","getNodeAnchor$1","getAnchors","isToolbarTop","useFixedToolbarContainer","inlineDialog","ColorInputBackstage","isDraggableModal","isDraggableModal$1","DialogBackstage","defaultStyleFormats","mapFormats","userFormats","fmt","customFormats","formats","isInlineFormat","isBlockFormat","isSelectorFormat","formatNameWithPrefix","getStyleFormats","getUserStyleFormats","registeredUserFormats","registerFormats","formatter","registerCustomFormats","isMergeStyleFormats","processBasic","isSelectedFor","getPreviewFor","formatterSpec","getStylePreview","register$8","doEnrich","newItems","enrichMenu","getStyleItems","enrichSupported","formatName","customSpec","newItem","enrichCustom","init$8","parseStyle","getCssText","settingsFormats","settingsFlattenedFormats","eventsFormats","eventsFlattenedFormats","replaceSettings","_e","enriched","modifications","fromSettings","fromEvents","getFlattenedKeys","hasContentEditableState","isElement","contentEditable","isContentEditableTrue","isContentEditableFalse","getElementText","innerText","isValidAnchor","isAnchor","isEditable","isHeader","isChildOfContentEditableTrue","isValidHeader","headerTarget","headerId","getOrGenerateId","getLevel","anchorTarget","anchorId","anchorText","getTargetElements","elms","hasTitle","LinkTargets","getHeaderTargets","getAnchorTargets","STORAGE_KEY","isHttpUrl","isRecordOfUrlArray","getAllHistory","unparsedHistory","SyntaxError","itemsWithoutUrl","setAllHistory","isTruthy","makeMap","getPicker","getFilePickerCallback","getPickerSetting","pickerTypes","optFileTypes","getFilePickerTypes","optLegacyTypes","getFileBrowserCallbackTypes","optTypes","_picker","types","getPickerTypes","getTextSetting","UrlInputBackstage","noTypeaheadUrls","getFilePickerValidatorHandler","entry","init$7","contextMenuState","getDockingMode","setDockingMode","HeaderBackstage","interpretWithoutForm","styleselect","isContextMenuOpen","setContextMenuState","parts$a","partType","schema$f","itemsPart","parts$9","CustomList","_external","shell","getListContainer","listBehaviours","setItems","itemComps","numListsRequired","numListsToAdd","itemsToAdd","makeItem","itemsToRemove","builtLists","setupItem","schema$e","parts$8","Toolbar","getGroupContainer","toolbarBehaviours","setGroups","groups","setup$a","isDocked$2","getBehaviours$1","StaticHeader","isDocked","getBehaviours","getOffsetParent","offsetParent$1","getOrigin","morphAdt","static","appear","contextualInfo","transitionClass","fadeOutClass","fadeInClass","disappear","isVisibleForModes","isBottomCompletelyVisible","isTopCompletelyVisible","getPrior","getInitialPos","revertToOriginal","clearInitialPos","offsetBox_1","_left","_top","_right","_bottom","morphToFixed","getModes","setInitialPos","storePrior","winBox","top_1","isTop","getMorph","morphToOriginal","morphToStatic","setDocked","onUndocked","morphToCoord","onDocked","updateVisibility","morphToDocked","contextual","contextInfo","lazyContext","isPartiallyVisible","setVisible","resetInternal","getMorphToOriginal","morph","refresh$4","lazyViewport","refreshInternal","DockingApis","setModes","ActiveDocking","dockInfo","dockState","onShown","onHidden","DockingSchema","Docking","docked","visible","initialBounds","toolbarHeightChange","visibility","editorStickyOnClass","editorStickyOffClass","isDockedMode","updateIframeContentFlow","parentElem","padding","parentWidth","getOccupiedHeight","updateSinkVisibility","sinkElem","updateEditorClasses","editorContainer","focusedElm","runOnSinkElement","onDockingSwitch","additionalBehaviours","getIframeBehaviours","headerHeight","boxHeight","topBound","headerElem","focusedElem","ownerDoc","activeElm","rootElm","findFocusedElem","getStickyToolbarOffset","StickyHeader","lazyHeader","containerHeader","viewHeight","innerHeight","scrollPos","markerElement","markerPos","markerHeight","markerTop","markerBottom","editorHeaderPos","editorHeaderHeight","editorHeaderTop","editorHeaderBottom","editorHeaderDockedAtTop","editorHeaderDockedAtBottom","scrollFromBehindHeader","groupToolbarButtonSchema","baseMenuButtonFields","MenuButtonSchema","createMenuButton","splitButtonSchema","SilverMenubar","setMenus","newMenus","activeButton","hoveredButton","activeComp","hoveredComp","prev","getAnimationRoot","slideConfig","getDimensionProperty","dimension","getDimension","disableTransitions","shrinkingClass","growingClass","setShrunk","closedClass","setGrown","doImmediateShrink","slideState","_calculatedSize","setCollapsed","onStartShrink","onShrunk","doStartShrink","calculatedSize","doStartSmartShrink","doStartGrow","wasShrinking","beforeSize","fullSize","setExpanded","onStartGrow","isGrowing","_slideState","isShrinking","SlidingApis","isExpanded","grow","shrink","immediateShrink","hasGrown","hasShrunk","isCollapsed","isTransitioning","toggleGrow","ActiveSliding","onGrown","SlidingSchema","Sliding","schema$d","getPartName","make$1","getSlotNames","onSlot","def","slot","doShowing","hideSlot","hideSlots","showSlot","getSlot","hideAllSlots","slotBehaviours","slotApis","SlotContainer","sSpec","sidebarSchema","makePanels","panelConfigs","bridged","createSidebar","sidepanel","optSidePanelSpec","sidePanelSpec","makeSidebar","slotContainer","whichSidebar","sidebar","fixSize","autoSize","BlockingApis","getBusySpec","blockerBehaviours","blockSpec","isBlocked","onBlock","blockWith","onUnblock","BlockingSchema","Blocking","focusBusyComponent","throbber","toggleThrobber","tabIndexAttr","dataTabIndexAttr","iframeElement","tabIndex","toggleEditorTabIndex","_root","_behaviours","getBusySpec$1","throbberFocus","busyComp","setup$7","lazyThrobber","throbberState","stealFocus","isFocusEvent","targetElm","editorManager","command","setEditorTimeout","within","withinWidth","apportion","total","parray","generate$1","toUnit","partition","overflower","divide","tryFit","fitLast","overflow","fitAll","setGroups$1","storedGroups","bGroups","refresh$2","setOverflow","builtGroups","overflowGroup","focusedComp","availableWidth","overflows","schema$c","schema$b","parts$7","expandable","setMax","schema$a","parts$6","toggledClass","toolbarSandbox","bounder","FloatingToolbarButton","makeSandbox","getToolbar","schema$9","parts$5","ToolbarGroup","tgroupBehaviours","itemSelector","buildGroups","refresh$1","memFloatingToolbarButton","overflowGroups","floatingToolbarButton","SplitFloatingToolbar","getOverflowBounds","overflowToggledClass","splitToolbarBehaviours","getOverflow","schema$8","parts$4","onClosed","onOpened","toggleToolbar","overf","SplitSlidingToolbar","toolbarToggleEvent","_button","doSetGroups","renderToolbarGroupCommon","toolbarGroup","renderToolbarGroup","getToolbarbehaviours","toolbarSpec","modeName","onAttached","initGroups","renderMoreToolbarCommon","cyclicKeying","renderFloatingMoreToolbar","baseSpec","moreDrawerData","headerBounds","docElem","docBounds","overflowXOffset","renderSlidingMoreToolbar","renderToolbar","scrolling","partMenubar","partMultipleToolbar","_mToolbar","tc","_index","partToolbar","renderer","sliding","floating","toolbarFactory","lazyToolbar","lazyMoreButton","partHeader","sticky","partSocket","partSidebar","partThrobber","OuterContainer","getSocket","setSidebar","toggleSidebar","getHeader","setToolbar","setToolbars","mToolbar","refreshToolbar","toggleToolbarDrawer","isToolbarDrawerToggled","getThrobber","focusToolbar","setMenubar","menubar","focusMenubar","grps","grp","renderedToolbars","defaultMenus","edit","tools","help","parseItemsString","identifyMenus","rawMenuData","userDefinedMenus","validMenus","isDefaultMenu","menuData","removedMenuItems","getRemovedMenuItems","itemName","removedMenuItem","fireSkinLoaded","_skinLoaded","fireSkinLoaded$1","initialized","loadStylesheet","stylesheetUrl","styleSheetLoader","unload","loadUiSkins","skinUrl","loadShadowDomUiSkins","loadSkin","isInline","skin","skinName","documentBaseURI","baseURL","getSkinUrl","contentCSS","isSkinDisabled","fireSkinLoadError$1","fireSkinLoadError","onSetupFormatToggle","boundCallback","binding","formatChanged","once","onSetupEvent","handleEvent","onActionToggleFormat$1","rawItem","undoManager","transact","onActionExecCommand","generateSelectItems","_editor","generateItem","response","si","invalid","validateItems","preItems","getCurrentValue","shouldHide","createMenuItems","createSelectButton","getComponent","decimalDigits","exponentPart","unsignedDecimalLiteral","ResizeTypes","buildBasicSettingsDataset","settingName","delimiter","rawFormats","SemiColon","alignMenuItems","getSpec$4","_format","alignment","canApply","systemStackFonts","splitFonts","fontFamily","fonts","font","getSpec$3","systemFont","getMatchingValue","getFirstFont","queryCommandValue","matchOpt","isSystemFontStack","legacyFontSizes","keywordFontSizes","toPt","fontSize","factor","getSpec$2","_loop_1","pt","legacy","toLegacy","Space","findNearest","getStyles","getSpec$1","fallbackFormat","getSpec","getFormatItems","flattenedItems","ActiveReflecting","reflectingConfig","reflectingState","renderComponents","newComponents","channel","rawData","ReflectingApis","reflectState","ReflectingSchema","ReflectingState","Reflecting","schema$7","arrowPart","arrow","buttonPart","btn","splitDropdown","parts$3","SplitDropdown","executeOnButton","buttonEvents","splitDropdownBehaviours","getButtonApi","getToggleApi","getTooltipAttributes","focusButtonEvent","renderCommonStructure","_d","renderCommonToolbarButton","specialisation","itemApi","buttonApi","toolbarButtonBehaviours","renderToolbarButtonWith","bonusEvents","renderToolbarToggleButtonWith","fetchChoices","defaultToolbar","renderFromBridge","bridgeBuilder","togglebutton","menubutton","splitbutton","displayChannel","underlinePath","setIconStroke","buttonComp","renderSplitButton","grouptoolbarbutton","TopToBottom","identifyButtons","renderFloatingToolbarButton","allowToolbarGroups","styleSelectButton","createStyleSelect","fontsizeSelectButton","createFontsizeSelect","fontSelectButton","createFontSelect","formatButton","createFormatSelect","alignMenuButton","createAlignSelect","bespokeButtons","fontsizeselect","fontselect","formatselect","createToolbar","toolbarConfig","groupsStrings","filteredItemGroups","subItem","removeUnusedDefaults","isToolbarGroupSettingArray","lookupButton","toolbarItem","prefixes","extractFrom","toolbarGroups","rawUiConfig","toolbarButtonsConfig","detection","isiOS12","Iframe","lastToolbarWidth","eTargetNode","targetNode","uiRoot","attachSystemAfter","innerWidth","initialDocEle","lastWindowDimensions","lastDocumentDimensions","resizeWindow","outer","resizeDocument","docEle","inner","fireScrollContent","elementLoad","setupEvents$1","socket","limit","unbinder","addCommand","_ui","addQueryValueHandler","toolbarMode","iframeContainer","parseToInt","numToPx","calcCappedSize","minSize","maxSize","minOverride","maxOverride","getHeightWithFallback","baseHeight","minHeight","getHeight","getWidth","baseWidth","minWidth","InlineHeader","floatContainer","isSticky","editorMaxWidthOpt","headerBackstage","isSplitToolbar","calcToolbarOffset","tbar","repositionPopups$1","updateChromeUi","resetDocking","bodyMargin","targetBounds","updateChromePosition","floatContainerComp","updateMode","updateUi","currentMode","newMode","toolbar_1","toolbarHeight","docHeight","calcMode","verticalDir","setupMode","addClass","removeClass","getTargetPosAndBounds","Inline","toolbarPersist","isToolbarPersist","uiContainer","prevPosAndBounds","resizeContent","prevPos","prevBounds","hasResized","setupEvents","nodeChanged","hideContextToolbarEvent","runOnExecute","formApi","getFormApi","renderContextToggleButton","renderContextButton","buildInitGroups","commands","findPrimary","mementos","asSpecs","compInSystem","ContextForm","isVerticalOverlap","threshold","getSelectionBounds","leaf$1","getRangeRect","scroll_1","bodyPos","getContextToolbarBounds","toolbarType","viewportBounds","contentAreaBox","toolbarOrMenubarEnabled","getHorizontalBounds","isToolbarLocationTop","headerBox","isToolbarBelowContentArea","isToolbarAbove","containerBounds","getVerticalBounds","bubbleAlignments$1","inset","shouldUseInsetLayouts","determineInsetLayout","contextbar","selectionBounds","isSameAnchorElement","isEntireElementSelected","currentPosition","preservePosition","isReposition","getAnchorSpec$2","mobile","smartInsetLayout","newAnchor","getInsetLayouts","matchTargetWith","ctxs","toolbarApi","contextToolbars","contextForms","matchStartNode","nodeCandidates","editorCandidates","nodeMatches","editorMatches","doesPositionExist","filterToolbarsByPosition","hasSelectionToolbars","hasNodeToolbars","nodeToolbars","selectionToolbars","filterByPositionForStartNode","matchAncestor","startNode","scopes","ancestorElem","inNodeScope","findPosition_1","basePosition","filterByPositionForAncestorNode","categorise","forms","inEditorScope","formNavigators","lookupTable","registerForm","contextForm","launch","registerToolbar","contextToolbar","forwardSlideEvent","backSlideEvent","changeSlideEvent","resizingClass","register$7","registryContextToolbars","lastTrigger","lastContextPosition","currentWidth","newContents","oldContents","forwardContents","canLaunchToolbar","shouldContextToolbarHide","contextToolbarBounds","anchorBounds","getAnchorElementBounds","hideOrRepositionIfNecessary","contextBarEle","wrapInPopDialog","shortcuts","getScopes","alloySpec","buildToolbar","allButtons","default","buildContextToolbarGroups","buildContextFormGroups","anchorLayout","getAnchorLayout","launchContext","launchContextToolbar","isSameLaunchElement","rootElem","isOutsideRoot","lookup$1","toolbarKey","unsupportedLength","pattern","accepted","unitRaw","check","isUnit","registerController","getMenuItems","getOptions","hash","oldApi","unbindWatcher","watcher","setCurrent","addMenuButton","onToolbarSetup","onMenuSetup","lineHeightSpec","normalise","register$5","settingsOpt","getContentLanguages","customCode","code","customValue","ele","lang","languageSpec","register$4","alignSelectMenu","fontSelectMenu","styleSelectMenu","formatSelectMenu","fontsizeSelectMenu","onSetupOutdentState","queryCommandState","register$3","addButton","registerButtons$2","onActionToggleFormat","registerButtons$1","_idx","addToggleButton","name_1","registerFormatButtons","registerCommandButtons","registerCommandToggleButtons","register$2","addMenuItem","registerMenuItems$2","onSetupUndoRedoState","register$1","registerMenuItems$1","registerButtons","onSetupVisualAidState","hasVisual","registerToolbarButton","addToggleMenuItem","registerMenuItems","setup$6","cmd","register$6","applyFormat","removeFormat","registerCommands","lastForeColor","lastBackColor","register$a","isTouchEvent","transposeContentAreaContainer","containerPos","getPos","dx","dy","transpose","getPointAnchor","pageX","pageY","fromPageXY","fromClientXY","getSelectionAnchor","getAnchorSpec$1","anchorType","getNodeAnchor","initAndShow$1","buildMenu","contextmenu","anchorSpec","bubbleAlignments","getAnchorSpec","initAndShow","openiOS_1","originalSelection","selectionReset","setRng","unbindEventListeners","preventMousedown","clearSelectionReset","setupiOSOverrides","touch_1","rngRect","isTouchWithinSelection","patchPipeConfig","shouldNeverUseNative","getContextMenu","defaultItems","contextMenus","makeContextItem","commonMenuItem","addContextMenuGroup","groupItems","lastMenuItem","isTriggeredByKeyboard","pointerType","getSelectedElement","setup$5","hideContextMenu","showContextMenu","isNativeOverrideKeyEvent","isContextMenuDisabled","getAvoidOverlapSelector","getAnchorType","selectedElement","sections","allItems","generateContextMenu","hideEvents","subtract","changes","asFixed","coord","asAbsolute","asOffset","toStyles","stylesOpt","absorb","partialCoord","originalCoord","absorbOne","stencil","optX","optY","parseAttrToInt","NaN","getCoords","snapInfo","snapsInfo","leftAttr","topAttr","moveOrSnap","newCoord","mustSnap","findClosestSnap","findSnap","fixedCoord","spanned","stopDrag","findMatchingSnap","snaps","sensor","inRange","coord1","coord2","withinRange","getSnapPoints","bestSnap","deltas","getDeltas","bestDeltas","DraggingApis","snapTo","dragConfig","getTarget","repositionTarget","origin_1","snapPin","snapTo$1","initialAttribute","instigate","anyComponent","zindex","changeZIndex","discard","zIndex","resetZIndex","createComponent","blockerClass","blockerEvents","SnapSchema","schema$6","getCurrentCoord","oc","location","calcNewCoord","optSnaps","currentCoord","coords","absoluteCoord","newCoords","offset$1","clampCoords","translated","snapping","onSensor","calcStartData","dragState","dragMode","dragStartData","getStartData","dlt","onDrag","dragBy","updateStartState","setStartData","MouseData","getDelta","events$2","stop$1","delayDrop","dragApi","drop","forceDrop","init$2","schema$5","TouchData","getDataFrom","events$1","blockerSingleton","stopBlocking","init$1","mouse","mouseOrTouch","DraggingBranches","DragState","previous","dragEvent","nuData","calculateDelta","Dragging","dragger","calcSnap","selectorOpt","td","snapWidth","selectorHandle","sensorLeft","sensorTop","getSnapsConfig","cellOpt","currentTd","isSameCell","createSelector","setup$4","tlTds","brTds","startCell","finishCell","getTopLeftSnap","memTopLeft","getBottomRightSnap","memBottomRight","topLeftSnaps","bottomRightSnaps","bottomRight","getSnapConfig","isAbove","isBelow","cellRect","viewportHeight","aboveViewport","belowViewport","showOrHideHandle","snapTopLeft","snapBottomRight","otherCells","upOrLeftCells","downOrRightCells","isHidden","renderElementPath","newPathElements","divider","newPath","parents","parent_1","isDefaultPrevented","isPropagationStopped","updatePath","_btn","newAcc","resize","resizeType","originalHeight","originalWidth","Both","getDimensions","dim","fireResizeEditor","keyboardHandler","renderResizeHandler","None","Vertical","getResizeType","_target","renderStatusbar","getTextComponents","replaceCountText","words","characters","currentVal","wordCount","renderWordCount","resizeHandler","getComponents","setup$3","isGridUiContainer","sinkSpec","reactiveWidthSpec","lazyOuterContainer","platformClasses","deviceClasses","isToolbarBottom","dirAttributes","verticalDirAttributes","resizeUiMothership","memAnchorBar","statusbar","socketSidebarContainer","hasMultipleToolbar","hasToolbar","hasMenubar","editorComponents","containerComponents","opacity","border","addQueryStateHandler","ship","fireDismissPopups","onTouchstart","onTouchmove","onTouchend","onMousedown","onMouseup","onContentClick","onContentMouseup","onContentMousedown","loopEditor","relatedTarget","onWindowScroll","onWindowResize","onEditorResize","onEditorProgress","onDismissPopups","setup$b","setEditorSize","parsedHeight","parsedWidth","getWidthWithFallback","renderUI","sidebars","handleToggle","setup$8","getToolbarGroups","toolbarGroupButtonConfig","addGroupToolbarButton","toolbarOpt","getUi","broadcastAll","schema$2","basic","parts$2","dragBlockClass","getDragBounds","ModalDialog","dialogComp","modalEventsId","externalBlocker","blockerDom","getFooter","setIdle","setBusy","modalBehaviours","labelledElement","labelElement","describedElement","describeElement","describeId","dialogToggleMenuItemSchema","dialogToggleMenuItemDataProcessor","baseFooterButtonFields","dialogFooterButtonFields","normalFooterButtonFields","menuFooterButtonFields","dialogFooterButtonSchema","submit","alertBannerFields","alertBannerSchema","buttonFields","buttonSchema","checkboxFields","checkboxSchema","checkboxDataProcessor","formComponentFields","formComponentWithLabelFields","collectionFields","collectionSchema","collectionDataProcessor","colorInputSchema","colorInputDataProcessor","colorPickerSchema","colorPickerDataProcessor","customEditorFields","defaultedPostMsg","customEditorFieldsOld","customEditorSchema","customEditorDataProcessor","dropZoneSchema","dropZoneDataProcessor","createGridFields","itemsField","htmlPanelFields","htmlPanelSchema","iframeFields","iframeSchema","iframeDataProcessor","imageToolsFields","imageToolsSchema","inputFields","inputSchema","inputDataProcessor","createLabelFields","listBoxSingleItemFields","listBoxNestedItemFields","getP","thunkOf","listBoxItemSchema","listBoxFields","listBoxSchema","listBoxDataProcessor","selectBoxFields","selectBoxSchema","selectBoxDataProcessor","sizeInputFields","sizeInputSchema","sizeInputDataProcessor","tableFields","tableSchema","textAreaFields","textAreaSchema","textAreaDataProcessor","urlInputFields","urlInputSchema","urlInputDataProcessor","createItemsField","itemSchema","sErr","passValue","panelSchema","panelFields","tabFields","tabPanelFields","tabPanelSchema","dialogButtonFields","dialogButtonSchema","dialogSchema","tabpanel","urlDialogButtonSchema","urlDialogSchema","getAllObjects","isNamedItem","dataProcessors","togglemenuitem","createDataValidator","namedItems","getNamedItems","getDataProcessor","internalDialog","dataValidator","DialogManager","openUrl","redial","toValidValues","renderBodyPanel","memForm","formValue","TabButton","tabButtonBehaviours","schema$1","tabsPart","barDetail","dismissTab$1","tabbar","changeTab$1","clickToDismiss","tabClass","parts$1","Tabbar","tabbarBehaviours","selectedClass","tab","Tabview","tabviewBehaviours","barPart","tabs","viewPart","TabSection","changeTabBy","section","byPred","tabSectionBehaviours","selectFirst","tabValue","tabview","tabWithValue","tabData","onChangeTab","onDismissTab","getViewItems","showTab","tabKey","setTabviewHeight","updateTabviewHeight","dialogBody","maxTabHeight","tablist","documentElement$1","tabviewHeight","currentTabHeight","dialogTopMargin","dialogBottomMargin","getMaxTabviewHeight","getTabview","allTabs","extraEvents","smartTabHeight","tabviewComp","heights","_tab","measureHeights","maxTabHeightOpt","getMaxHeight","oldHeight","naiveTabHeight","SendDataToSectionChannel","SendDataToViewChannel","renderTabPanel","storedValue","updateDataWithForm","formData","validData","currentData","setDataOnForm","oldTab","tabMode","_viewItems","oldName","tsection","dialogChannel","titleChannel","bodyChannel","footerChannel","bodySendMessageChannel","renderBody","ariaAttrs","incoming","isTabPanel","hiddenHeader","pClose","pUntitled","pBodyMessage","pFooter","footer","pFooterGroup","startButtons","endButtons","renderDialog$1","dialogClass","blockerBackdropClass","scrollLockClass","extraStyles","dialogEvents","renderClose","renderTitle","renderDragHandle","pTitle","pHandle","draghandle","draggable","renderModalHeader","bs","getEventExtras","lazyDialog","closeWindow","blockEvent","renderModalDialog","mapMenuButtons","mapItems","extractCellsToObject","innerAcc","initCommonEvents","fireApiEvent","_event","SilverDialogEvents","getInstanceApi","withSpec","currentDialog","currentDialogInit","cur","onTabChange","newTabName","oldTabName","footerButtons","buttonGroups","makeGroup","memento","renderFooter","initSpec","makeButton","lookupByName","buttonName","renderModalFooter","getCompByName","form_1","getFormWrapper","getDialogApi","doRedial","menuItemStates","withRoot","instanceApi","valueComp","representedValues","menuItemCurrentState","setData","prevData","mergedData","newInternalData","dialogState","validateData$1","tabSection","dialogInit","renderDialog","bodySpec","renderModalBody","storagedMenuButtons","objOfCells","dialogSize","getDialogSizeClasses","modalAccess","outerForm","renderInlineDialog","titleId","dialogLabelId","dialogContentId","memHeader","memBody","contentId","renderInlineBody","memFooter","renderInlineFooter","global$1","SUPPORTED_MESSAGE_ACTIONS","isSupportedMessage","mceAction","renderUrlDialog","renderIframeBody","iframeUri","base_uri","href","iframeDomain","protocol","port","messageHandlerUnbinder","isSameOrigin","insertContent","handleMessage","isCustomMessage","onMessage","iframeEle","postMessage","sendMessage","inlineAdditionalBehaviours","isStickyToolbar$1","alertDialog","closeDialog","memFooterClose","titleSpec","closeSpec","footerCloseButton","setup$2","confirmDialog","memFooterYes","footerNo","footerYesButton","setup$1","openModalUrlDialog","openModalDialog","internalInitialData","openInlineDialog","config$1","refreshDocking","dialogUi","inlineDialogComp","isAlertOrConfirmDialog","confirm","windowMgr","getWindowManagerImpl","getNotificationManagerImpl","typeOf$1","eq$2","eqString","eqArray","eqa","eqSortedArray","compareFn","contramap","sort$1","eqRecord","kx","ky","q","eqAny","tx","isEquatableType","isString$1","isArray$1","compose1","identity","contains$3","map$3","each$k","filter$4","findUntil$1","findIndex$2","each$j","filter$3","each$i","indexOf$1","reduce","iteratee","accumulator","unknown$2","detect$2","trim$5","lTrim","rTrim","isEmpty$3","nu$2","platform$2","platform$1","browser$4","webkit","fileApi","windowsPhone","Env","gecko","iOS","transparentSrc","caretAfter","ceFalse","cacheSuffix","experimentalShadowDom","canHaveCSP","desktop","whiteSpaceRegExp$2","trim$4","is$3","walk$3","delim","grep","inArray","hasOwn","extend","exts","ext","sp","scn","de","cn","ns","createNS","onCreate","walk","_addCacheSuffix","fromDom$2","recurse","is$2","isElement$6","isText$8","isDocument$2","isDocumentFragment$1","prevSibling","previousSibling","prevSiblings","nextSiblings","lastChild","childNodesCount","getStyleContainer","getHead","before$4","after$3","intoView","alignToTop","scrollIntoViewIfNeeded","scrollIntoView","isNodeType","isRestrictedNode","isElement$5","matchNodeNames","lowercasedNames","matchStyleValues","computed","isBogus$2","isTable$3","isTextareaOrInput","isText$7","isComment","isDocument$1","isBr$5","isImg","isContentEditableTrue$4","isContentEditableFalse$b","isTableCell$5","isMedia$2","browser$3","firstElement","nodes","hasChild","castOffsetParent","caption","bodyTop","captionTop","captionHeight","getTableCaptionDeltaY","module$1","par$1","asyncValues","asyncValue","unite","requestAnimationFramePromise","support","Expr","isXML","tokenize","compile","select$1","outermostContext","sortInput","hasDuplicate","setDocument","document$1","documentIsHTML","rbuggyQSA","rbuggyMatches","ancestor$3","promiseObj","wrappedSetTimeout","wrappedSetInterval","setInterval","debounce","Delay","requestAnimationFrameFunc","vendors","setEditorInterval","clearInterval","StyleSheetLoader","documentOrShadowRoot","idCount","loadedStates","edos","maxLoadTime","failure","urlWithSuffix","passed","failed","getOrCreateState","onload","onerror","waitForWebKitLinkLoaded","testCallback","waitCallback","styleSheets","ownerNode","now","linkElem","contentCssCors","referrerPolicy","loadF","styleContainer","loadAll","urls","futures","unloadAll","_setReferrerPolicy","WeakMap","forElement","referenceElement","rootDom","sl","DomTreeWalker","prev2","findSibling","findPreviousNode","startName","siblingName","lazyLookup","isHeading","isBlock$2","isInline$1","isBr$4","isTextBlock$2","isList","isListItem","isTableSection","isTableCell$4","isWsPreserveElement","nbsp","ZWSP$1","isZwsp","trim$3","isElement$4","isText$6","isCaretContainerBlock$1","isCaretContainerInline","isCaretContainer$2","hasContent","isBeforeInline","isAtStart","isAfterInline","isAtEnd","insertBlock$1","blockName","br","blockNode","startsWithCaretContainer$1","endsWithCaretContainer$1","showCaretContainerBlock","caretContainer","brs","lastBr","isRangeInCaretContainerBlock","isContentEditableTrue$3","isContentEditableFalse$a","isBr$3","isText$5","isInvalidTextElement","isAtomicInline","isTable$1","isCaretContainer$1","isCaretCandidate$3","isNonUiContentEditableFalse","isUnselectable","isEditableCaretCandidate$1","isInEditable","whiteSpaceRegExp$1","isWhitespaceText","hasWhitespacePreserveParent","rootElement","isContent$1","isNamedAnchor","isBookmark","isBogus$1","isBogusAll","isEmpty$2","skipBogus","brCount","walker","isEmptyNode","isInlineContent","isBookmarkNode$2","isSpan","isKeepTextNode","prevIsInline","nextIsInline","surroundedByInlineContent","trimNode","currentChildren","isKeepElement","makeMap$3","attrsCharsRegExp","textCharsRegExp","rawCharsRegExp","entityRegExp","asciiMap","baseEntities","reverseEntities","buildEntitiesLookup","radix","entity","fromCharCode","namedEntities","encodeRaw","encodeNumeric","encodeNamed","entities","Entities","getEncodeFunc","entitiesMap","nameMap","named","numeric","decode","nativeDecode","mapCache","dummyObj","makeMap$2","each$h","extend$5","explode$3","inArray$2","split$1","createMap","defaultValue","extendWith","getTextRootBlockElements","getTextBlockElements","compileElementMap","Schema","patternElements","customElementsMap","specialElements","createLookupTable","schemaItems","globalAttributes","blockContent","phrasingContent","flowContent","html4BlockContent","html4PhrasingContent","ni","attributesOrder","arrayToMap","addAttrs","schemaItem","script","compileSchema","verify_html","valid_elements","validStyles","valid_styles","invalidStyles","invalid_styles","validClasses","valid_classes","whiteSpaceElementsMap","selfClosingElementsMap","shortEndedElementsMap","boolAttrMap","nonEmptyOrMoveCaretBeforeOnEnter","nonEmptyElementsMap","moveCaretBeforeOnEnterElementsMap","textBlockElementsMap","blockElementsMap","textInlineElementsMap","patternToRegExp","addValidElements","validElements","ei","ai","al","attrData","elementName","attrType","outputName","globalAttributesOrder","elementRuleRegExp","attrRuleRegExp","hasPatternsRegExp","validElementsArr","paddEmpty","removeEmpty","removeEmptyAttrs","attributesRequired","attributesDefault","attributesForced","forcedValue","validValues","attributePatterns","setValidElements","addCustomElements","customElements","customElementRegExp","text_block_elements","block_elements","cloneName","customRule","elmName","addValidChildren","validChildren","childRuleRegExp","getElementRule","_val","padd_empty_block_inline_children","paddInEmptyBlock","custom_elements","valid_children","extended_valid_elements","dd","dt","li","th","tr","thead","tfoot","legend","area","param","parentsRequired","invalid_elements","getValidStyles","getInvalidStyles","getValidClasses","getBoolAttrs","getBlockElements","getTextInlineElements","getShortEndedElements","getSelfClosingElements","getNonEmptyElements","getMoveCaretBeforeOnEnterElements","getWhiteSpaceElements","getSpecialElements","getCustomElements","isValidChild","attrPatterns","Styles","_this","rgbRegExp","urlOrStrRegExp","styleRegExp","trimRightRegExp","encodingLookup","invisibleChar","encodingItems","isEncoded","urlConverter","url_converter","urlConverterScope","url_converter_scope","compress","noJoin","canCompress","keepSlashes","decodeSingleHexSequence","escSeq","decodeHexSequences","processUrl","url2","url3","str2","allow_script_urls","allow_svg_data_urls","lastIndex","serialize","serializeStyles","styleList","i_1","styleMap","deprecated","keyLocation","layerX","layerY","returnValue","webkitMovementX","webkitMovementY","keyIdentifier","mozPressure","isNativeEvent","Event","initEvent","normalize$3","originalEvent","fallbackTarget","srcElement","needsNormalizing","defaultPrevented","cancelBubble","isImmediatePropagationStopped","hasIsDefaultPrevented","mouseEventRe","addEvent","attachEvent","removeEvent","detachEvent","fix","isMouseEvent","eventDoc","metaKey","bindOnReady","eventUtils","domLoaded","readyHandler","readyState","EventUtils","expando","hasMouseEnterLeave","hasFocusIn","callbackList","fakeName","nativeHandler","defaultNativeHandler","executeHandlers","namesList","mouseEnterLeave","currentTarget","related","ci","eventMap","parentWindow","clean","preferredDoc","dirruns","classCache","createCache","tokenCache","compilerCache","sortOrder","strundefined","MAX_NEGATIVE","push_native","push$1","slice$1","whitespace","identifier","pseudos","rtrim","rcomma","rcombinators","rattributeQuotes","rpseudo","ridentifier","matchExpr","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","rinputs","rheader","rnative","rquickExpr$1","rsibling","rescape","runescape","funescape","escaped","escapedWhitespace","high","els","Sizzle","seed","nid","newSelector","getElementsByClassName","qsa","toSelector","testContext","qsaError","cacheLength","markFunction","siblingCheck","diff","sourceIndex","createPositionalPseudo","argument","matchIndexes","setFilters","tokens","addCombinator","matcher","combinator","checkNonElements","doneName","oldCache","outerCache","newCache","elementMatcher","matchers","condense","unmatched","newUnmatched","mapped","setMatcher","preFilter","postFilter","postFinder","postSelector","preMap","postMap","preexisting","contexts","multipleContexts","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","implicitRelative","matchContext","matchAnyContext","hasCompare","getTop","attrId","tmp","disconnectedMatch","adown","bup","compare","sortDetached","aup","ap","bp","expr","matchesSelector","attrHandle","specified","uniqueSort","duplicates","detectDuplicates","sortStable","createPseudo","excess","unquoted","nodeNameSelector","operator","what","forward","ofType","nodeIndex","useCache","pseudo","matched","elemLang","selectedIndex","even","odd","lt","gt","nth","createInputPseudo","createButtonPseudo","filters","parseOnly","soFar","preFilters","setMatchers","elementMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","matcherFromGroupMatchers","token","compiled","rquickExpr","Event$1","skipUniques","isDefined","createFragment$1","fragDoc","frag","domManipulate","targetNodes","sourceItem","getElementDocument","DomQuery","makeArray","hasClass","lastParent","newWrapper","numericCssMap","booleanMap","propFix","for","class","cssFix","float","attrHooks","cssHooks","DomQueryConstructor","whiteSpaceRegExp","trim$2","each$g","grep$2","removeAttr","camel","dashed","currentStyle","appendTo","prependTo","replaceWith","wrapInner","classState","existingClassName","trigger","sibling$1","firstSibling","contentDocument","wrappedResult","parentsUntil","nextUntil","prevUntil","overrideDefaults","sub","each$f","grep$1","simpleSelectorRe","updateInternalStyleAttr","$elm","findNodeIndex","normalized","lastNodeType","DOMUtils","addedStyles","counter","boundEvents","ownEvents","$","$$","getAttrib","defaultVal","getAttribs","setAttrib","originalValue","onSetAttrib","attrElm","root_element","getPos$1","getSize","collect","selectorVal","_findSib","setAttribs","setHTML","canHaveHTML","parentElm","newElm","keepChildren","$node","cls","oldElm","replaceChild","isNonEmptyElement","rv","stdMode","boxModel","deep","clone_1","getViewPort","argWin","getPrev","outHtml","createFragment","setStyle","update_styles","setStyles","stylesArg","removeAllAttribs","removeAttributeNode","cssText","serializeStyle","addStyle","styleElm","styleSheet","loadCSS","uniqueId","getOuterHTML","setOuterHTML","insertAfter","reference","referenceNode","rename","attrNode","findCommonAncestor","pe","rgbVal","isEmpty","bogusVal","splitElm","replacementElm","beforeFragment","afterFragment","getContentEditableParent","isChildOf","dumpRng","keepValues","keep_values","keepUrlHook","setupAttrHooks","DOM$a","each$e","ScriptLoader","queue","scriptLoadedCallbacks","queueLoadedCallbacks","loading","loadScript","cleanup","isDone","markDone","loadQueue","loadScripts","scripts","failures","execCallbacks","loadingScripts","notifyCallbacks","currentCode","getLanguageData","I18n","setCode","newCode","getCode","langData","translation","getLangData","textstr","removeContext","isTokenised","values_1","$1","$2","hasCode","AddOnManager","_listeners","runListeners","matchedListeners","dependencies","createUrl","baseUrl","resource","addOnUrl","urlString","deps","newUrl","loadDependencies","waitFor","requireLangPack","languages","languageLoad","language","addOn","addOnConstructor","addComponents","pluginName","pluginUrl","PluginManager","ThemeManager","read$4","annotation","dataAnnotation","dataAnnotationId","identify","annotationName","an","newStart","getAttr","findMarkers","setup$n","_registry","changeCallbacks","withCallbacks","updateCallbacks","callbackMap","outputData","onNodeChange","annotations","fireNoAnnotation","fireCallbacks","addListener","setup$m","serializer","addNodeFilter","spans","identifyParserNode","persistent","deep$1","TextWalker","TextSeeker","isBlockBoundary","newOffset","forwards","round$2","toStart","isValidOverflow","overflowY","rect1","rect2","isAbove$1","halfHeight","isBelow$1","containsXY","getSelectedNode","getNode$1","safeOffset","clamp$2","extendingChars","isExtendingChar","isElement$3","isCaretCandidate$2","isBlock$1","isFloated","isValidElementCaretCandidate","isNotPre","isText$4","isBr$2","nodeIndex$1","resolveIndex$1","createRange$1","isWhiteSpace$1","isRange","isHiddenWhiteSpaceRange","isZeroRect","getBoundingClientRect$1","clientRect","clientRects","brNode","nbsp$1","getBrClientRect","sc","ec","so","eo","newRng","getBoundingClientRectWebKitText","collapseAndInflateWidth","newClientRect","getCaretPositionClientRects","caretPosition","addUniqueAndValidRect","addCharacterOffset","beforeNode","CaretPosition","toRange","isEqual","fromRangeStart","fromRangeEnd","pos1","pos2","isTextPosition","isElementPosition","HDirection","trimEmptyTextNode$1","rangeInsertNode","insertFragment","isText$3","isBogus","normalizedParent","equal","createPathItem","numTextFragments","normalizedNodeIndex","outputOffset","normalizedTextOffset","parentsUntil$1","resolve$2","resolvePathItem","dataLen","targetOffset","findTextPosition","isContentEditableFalse$9","getPoint","trimmedOffset","getNormalizedTextOffset","moveEndPoint$1","normalizeTableCellSelection","getOffsetBookmark","findAdjacentContentEditableFalseElm","bookmark","isFakeCaret","getLocation","createBookmarkSpan","filled","getPersistentBookmark","rng2","endBookmarkNode","startBookmarkNode","moveToBookmark","keep","getBookmark$2","getCaretBookmark","getRangeBookmark","getUndoBookmark","DOM$9","getBodySetting","bodyObj","getContentSecurityPolicy","getForcedRootBlock","getForcedRootBlockAttrs","isAutomaticUploadsEnabled","shouldReuseFileName","getIconPackName","getImageUploadUrl","getImageUploadBasePath","getImagesUploadCredentials","getImagesUploadHandler","shouldUseContentCssCors","getReferrerPolicy","getLanguageCode","shouldIndentUseMargin","getFontCss","fontCss","getObjectResizing","getEventRoot","getTheme","shouldValidate","isInlineBoundariesEnabled","hasContentCssCors","getPlugins","isText$2","removeNode$1","trimCount","trimmedText","deleteZwspChars","deleteData","removeUnchanged","removeElementAndReposition","newPosition","indexOf$2","removeTextCaretContainer","removeTextAndReposition","removeAndReposition","removeElementCaretContainer","caretContainerNode","browser$2","isContentEditableFalse$8","isMedia$1","isTableCell$3","getAbsoluteClientRect","scrollX","scrollY","rootRect","FakeCaret","cursorInterval","lastVisualCaret","rootBlock","caretBlock","fakeCaretTargetNodes","trimInlineCaretContainers","caretState","startBlink","textNode","splitText","insertInline$1","isInlineFakeCaretTarget","getCss","isFakeCaretTableBrowser","isFakeCaretTarget","isContentEditableFalse$7","isMedia","isBlockLike","isCaretContainer","isCaretContainerBlock","isCaretCandidate$1","isForwards","isBackwards","skipCaretContainers","findNode$1","predicateFn","isCefOrCaretContainer","getParentBlock$2","isInSameBlock","caretPosition1","caretPosition2","getChildNodeAtRelativeOffset","relativeOffset","beforeAfter","isNodesInSameBlock","node1","node2","lean","normalizeRange","leanLeft","leanRight","location_1","getRelativeCefElm","getNormalizedRangeEndPoint","normalizedRange","getElementFromPosition","getVisualCaretPosition","walkFn","isMoveInsideSameBlock","inSameBlock","expected","isContentEditableFalse$6","isBr$1","isCaretCandidate","isAtomic","isAtomicContentEditableFalse","isEditableCaretCandidate","nodeAtIndex","getCaretCandidatePosition","findCaretPosition$1","startPos","innerNode","Forwards","moveForwardFromBr","rootContentEditableFalseElm","getParents$3","CaretWalker","Backwards","isBeforeOrStart","isAfterOrEnd","isBeforeAfterSameElement","shouldSkipPosition","fromPosition","navigateIgnore","ignoreFilter","positionIn","walkToPositionIn","nextPosition","prevPosition","firstPositionIn","lastPositionIn","CARET_ID$1","isCaretNode","getParentCaretContainer","isPathBookmark","addBogus","tryFindRangePosition","padEmptyCaretContainer","isEmpty$1","insertZwsp","setEndPoint","isValidTextNode","restoreEndPoint","appendData","resolve$1","resolvePaths","isStringPathBookmark","resolveCaretPositionBookmark","isIdBookmark","endPos","spos","epos","resolveId","isIndexBookmark","resolveIndex","isRangeBookmark","getBookmark$1","isBookmarkNode$1","isNbsp","actual","isWhiteSpace","isContent","isNode","moveStart","isInlineBlock","isWhiteSpaceNode$1","getNonWhiteSpaceSibling","inc","nextName","isTextBlock$1","allowSpaces","replaceVars","vars","isEq$5","str1","normalizeStyleValue","getTextDecoration","decoration","getParents$2","areSimilarFormats","otherFormatName","filterObj","validKey","fmt1","filteredFmt1","fmt2","filteredFmt2","equal$1","shouldExpandToSelector","isBookmarkNode","getParents$1","isWhiteSpaceNode","isTextBlock","findParentContentEditable","walkText","findSpace","findContent","findWordEndPoint","includeTrailingSpaces","lastTextNode","textSeeker","textOffset","findSelectorEndPoint","formatList","curFormat","findBlockEndPoint","scopeRoot","isAtBlockBoundary$1","findParentContainer","block_expand","isSelfOrParentBookmark","expandRng","includeTrailingSpace","walk$2","firstNode","lastNode","collectSiblings","endNode","siblings","findEndPoint","walkBoundary","siblings_1","startPoint","endPoint","getCellsFromRanges","getSelectedNodes","getCellsFromElementOrRanges","selectedCells","getCellsFromEditor","getSel","getClosestTable","getFirstChildren","getLastChildren$1","hasAllContentsSelected","getStartNode","getEndNode","moveEndPoint","hasAnyRanges","runOnRanges","fakeSelectionNodes","fakeNodeRng","fillBookmark","api$1","wrapName","isZeroWidth","isAnnotation","makeAnnotation","eDoc","decorate","master","annotate","newWrappers","finishWrapper","processElements","processElement","wrap$3","processNodes","annotateWithBookmark","initialRng","hasFakeSelection","applyWordGrab","selectionRng","Annotator","annotationChanged","nodesAlready","findAll","BookmarkManager","getBookmark","getContentEditableRoot$1","isXYWithinRange","fireError","errorType","fireFormatApply","fireFormatRemove","VK","DELETE","ESC","PAGE_UP","PAGE_DOWN","END","HOME","modifierPressed","altKey","metaKeyPressed","isContentEditableFalse$5","ControlSelection","selectedElm","selectedElmGhost","resizeHelper","selectedHandle","resizeBackdrop","startW","startH","ratio","resizeStarted","startScrollWidth","startScrollHeight","elementSelectionAttr","editableDoc","rootDocument","resizeHandles","nw","ne","sw","isImage","contextMenuSelectImage","isEventOnImageOutsideRange","getResizeTargets","isResizable","setSizeProp","setGhostElmSize","ghostElm","resizeGhostElement","proportional","resizeHelperX","resizeHelperY","getResizeImgProportional","selectedElmX","selectedElmY","fireObjectResizeStart","endGhostResize","wasResizeStarted","showResizeRect","fireObjectResized","unbindResizeHandleEvents","targetWidth","targetHeight","hideResizeRect","startDrag","updateResizeRect","controlElm","isChildOrEqual","disableGeckoResize","isWithinContentEditableFalse","handleMSControlSelect_1","delayedSelect","throttledUpdateResizeRect","composing","hasCeProperty","pointDoc","caretPositionFromPoint","offsetNode","caretRangeFromPoint","createTextRange","moveToPoint","moveToElementText","findClosestIeRange","parentElement","findParent$1","moveOutOfContentEditableFalse","isEq$4","rng1","hasParent$1","findParent","hasParentWithName","isTable","isTableCell$2","isCeFalseCaretContainer","hasBrBeforeAfter","findTextNodeRelative","isAfterNode","lastInlineElement","parentBlockContainer","normalizeEndPoint","directionLeft","hasContentEditableFalseParent","isPrevNode","normalize$2","normRng","RangeUtils","normalizedRng","compareRanges","getCaretRangeFromPoint","documentFocusInHandler","excludeFromDescend","markerInfo","cleanupFun","createMarker","withMarker","preserveWith","applyWithMarker","withScrollEvents","fireScrollIntoViewEvent","fireAfterScrollIntoViewEvent","elementMarker","startElement","endElement","scrollToMarker","intoWindowIfNeeded","viewportBottom","largerThanViewport","intoWindow","intoFrame","frameViewHeight","op","rangeIntoWindow","elementIntoWindow","rangeIntoFrame","elementIntoFrame","scrollRangeIntoView","hasFocus$1","getStart$1","browser$1","normalizeRng","isOrContains","isRngInRoot","shouldStore","nativeRangeToSelectionRange","bookmarkToNativeRng","newBookmark","FocusManager","isEditorUIElement","registerEditorEvents","throttledStore","registerFocusOut","registerMouseUp","selectionChange","isManualNodeChange","mouseUpPage","registerPageMouseUp","DOM$8","isUIElement","customSelector","getCustomUiSelector","registerEvents$1","focusedEditor","blurredEditor","getActiveElement","activeEditor","unregisterDocumentEvents","getFocusInElement","getCollapsedNode","normalizeSelection$1","caretPos","focusBody","hasElementFocus","rawBody","hasInlineFocus","hasIframeFocus","hasEditorOrUiFocus","hasUiFocus","activateEditor","skipFocus","quirks","refreshContentEditable","bookmarkRng","contentEditableHost","getContentEditableHost","focusEditor","getEndpointElement","real","skipEmptyTextNodes","processRanges","typeLookup","walk$1","isEmptyTextNode","AstNode","selfAttrs","cloneAttrs","selfAttr","shortEnded","refNode","unescapedTextParents","containsZwsp","getTemporaryNodeSelector","tempAttrs","createWalker","whatToShow","createTreeWalker","createZwspCommentWalker","FILTER_ACCEPT","FILTER_SKIP","createUnescapedZwspTextWalker","hasZwspComment","hasUnescapedZwspText","hasTemporaryNode","trimTemporaryNodes","getTemporaryNodes","emptyAllNodeValuesInWalker","curr","emptyZwspComments","emptyUnescapedZwspTexts","conditionalTrims","condition","trimmed","cloned","getContentFromBody","defaultedArgs","getInner","setupArgs$3","updatedArgs","no_events","getTempAttrs","emptyRegExp","trimEmptyContents","each$d","ElementUtils","attribs","compareObjects","obj1","obj2","makeMap$1","Writer","indent","indentBefore","indent_before","indentAfter","indent_after","entity_encoding","htmlOutput","element_format","cdata","comment","pi","HtmlSerializer","writer","sortedAttrs","elementRule","nonInheritableStyles","Set","shorthandStyleProps","getStyleProps","hasInheritableStyles","isNonInheritableStyle","hasStyleConflict","nodeStyleProps","parentNodeStyleProps","valueMismatch","parentValue","nodeStyleProp","propExists","longhandProps","isChar","isBeforeSpace","isAfterSpace","isEmptyText","matchesElementPosition","isImageBlock","isCefNode","isBogusAll$1","isBeforeImageBlock","isAfterImageBlock","isBeforeMedia","isAfterMedia","isBeforeTable","isAfterTable","isBeforeContentEditableFalse","isAfterContentEditableFalse","removeTrailingBr","allBrs","rawNode","getLastChildren","fillWithPaddingBr","trimBlockTrailingBr","lastChildPrevSibling","rawParent","parents$1","parentsAndSelf","navigateIgnoreEmptyTextNodes","getClosestBlock$1","isAtBeforeAfterBlockBoundary","fromBlock","isAtBlockBoundary","isAtStartOfBlock","isAtEndOfBlock","isBeforeBlock","isAfterBlock","isBr","findBr","parentBlocks","isBeforeBr$1","isAfterBr","getElementFromPrevPosition","findPreviousBr","findNextBr","isInMiddleOfText","getClosestBlock","hasSpaceBefore","hasSpaceAfter","isInPre","isPreValue","isAtLineBoundary","isAtBeginningOfBody","isAtEndOfBody","needsToBeNbspLeft","needsToBeNbspRight","needsToBeNbsp","isNbspAt","hasNbsp","normalizeNbspInMiddleOfTextNode","newText","chars","normalizeNbspMiddle","normalizeNbsps","firstPos","normalizeNbspAtStart","lastPos","normalizeNbspAtEnd","normalizeNbspsInEditor","normalize$1","isEndOfContent","isStartOfContent","replaceData","previousCharIsSpace","normalizeContent","normalizeWhitespaceAfter","whitespaceCount","normalizeWhitespaceBefore","mergeTextNodes","prevNode","normalizeWhitespace","mergeToPrev","whitespaceOffset","newNode","removeNode","insertData","needsReposition","getPreviousSiblingCaretPosition","getNextSiblingCaretPosition","findCaretPositionBackwards","startPosition","findCaretPositionBackwardsFromElm","findCaretPositionForward","findCaretPositionForwardsFromElm","findCaretPosOutsideElmAfterDelete","findCaretPosition","setSelection$1","paddEmptyBlock","deleteNormalized","afterDeletePosOpt","prevTextOpt","nextTextOpt","deleteElement$2","moveCaret","afterDeletePos","parentBlock","normalizedAfterDeletePos","isInlineElement","paddPos","getTableCells","tableCellRng","deleteAction","singleCellTable","fullTable","partialTable","multiTable","getClosestCell$1","isExpandedCellRng","cellRng","getTableFromCellRng","startParentTable","endParentTable","getTableSelectionFromCellRng","tableSelection","getTableSelections","selectionDetails","isSameTable","sameTableSelection","endCell","startTableSelection","getCellRangeFromStartTable","endTableSelection","getCellRangeFromEndTable","getCellIndex","getSelectedCells","startIndex","isSingleCellTableContentSelected","optCellRng","isSingleCellTable","unselectCells","startTable","endTable","otherContentRng","getActionFromRange","isRootFromElement","getCellRng","getTable","isStartInTable","isEndInTable","isMultiTable","getTableDetailsFromRange","startTableSelectedCells","endTableSelectedCells","handleMultiTable","handleSingleTable","freefallRtl","cleanCells","deleteContentInsideCell","isFirstCellInSelection","insideTableRng","deleteCellContents","collapseAndRestoreCellSelection","selectedNode","emptySingleTableCells","outsideDetails","editorRng","cellsToClean","outsideBlock","getOutsideBlock","deleteContents","startInTable","emptyBlock","handleEmptyBlock","endPointCell","emptyMultiTableCells","startTableCells","endTableCells","betweenRng","startTableCellsToClean","endTableCellsToClean","moveSelection","lastBlock","additionalCleanupNodes","deleteTableElement","deleteTableRange","startElm","getParentCaption","deleteCellRange","emptyElement","deleteCaptionRange","getParentCell","deleteCaretInsideCaption","fromCaption","isDeleteOfLastCharPos","emptyCaretCaption","toCaption","validateCaretCaption","deleteCaretCells","fromCell","deleteBetweenCells","isNearTable","deleteCaret$3","fromPos","isBeforeOrAfterTable","deleteCaretCaption","backspaceDelete$9","deleteRange$2","normalizeBlockSelectionRange","commonAncestorContainer","newEndPos","isPaddedEmptyBlock","hasOnlyOneChild$1","isPaddingNode","isListFragment","nonEmptyElements","isEmptyFragmentElement","isListItemPadded","isPadding","trimListItems","getParentLi","findLastOf","newCaretPos","insertBefore$1","findFirstIn","insertAtCaret$1","domFragment","cleanupDomFragment","toDomFragment","liTarget","liElms","isAt","caretWalker","insertAfter$1","beforeRng","afterRng","cloneContents","getSplit","insertMiddle","isTableCell$1","deleteSelectedContent","isTableCellContentSelected","insertHtmlAtCaret","trimOrPadLeftRight","parser","merge","bookmarkHtml","paste","preserve_zwsp","caretElement","canHaveChildren","parserArgs","isParentBlockLi","markFragmentElements","_selectionOverrides","showBlockCaretContainer","validInsertion","textInlineElements","root_1","elementUtils_1","reduceInlineTextElements","nextRng","parentEditableElm","isPartOfFragment","findNextCaretRng","moveSelectionToMarker","trimBrsFromTableCell","addVisual","traverse","nodeFilters","attributeFilters","attrMatches","name_2","findMatchingNodes","isTreeNode","setEditorHtml","noSelection","setContentInternal","setupArgs$2","getNodeFilters","getAttributeFilters","no_selection","setContentTree","padd","forcedRootBlockName","isRootContent","setContentString","sibling$2","isEq$3","matchesUnInheritedFormatSelector","inherit","matchParents","similar","matchNode","matchName$1","matchItems","onmatch","expectedValue","isEmptyValue","match$2","rawElm","matchAllOnNode","formatNames","matchSimilar","isVariableValue","fieldValues","isVariableFormatName","ZWSP","CARET_ID","isCaretContainerEmpty","getEmptyCaretContainers","findFirstTextNode","createCaretContainer","fill","removeCaretContainerNode","trimZwspFromCaretContainer","removeCaretContainer","appendNode","insertFormatNodesIntoCaretContainer","formatNodes","innerMostFormatNode","formatNode","removeCaretFormat","hasContentAfter","expandedRng","newCaretContainer","insertCaretContainerNode","cleanedFormatNode","validFormats","matchedFormats","fmtName","clonedFormatNode","cleanFormatNode","caretTextNode","setup$k","disableCaretContainer","isFormatElement","inlineElements","postProcessHooks","each$c","addPostProcessHook","blocks","isPre","getSelectedBlocks","pre","pre1","pre2","each$b","isElementNode$1","findElementSibling","mergeSiblingsNodes","elementUtils","tmpSibling","mergeSiblings","merge_siblings","processChildElements","hasStyle","applyStyle","unwrapEmptySpan","removeResult","MCE_ATTR_RE","each$a","isEq$2","isChildOfInlineParent","lastIdx","normalizeTableSelection","isTableCellOrRow","childNode","wrapWithSiblings","rootBlockElm","forcedRootBlock","list_block","forced_root_block_attrs","isMixedFormat","removeFormatInternal","compareNode","stylesModified","matchName","links","isColorFormatAndAnchor","preserve_attributes","attrsToPreserve","remove_similar","valueOut","removeFormat$1","newName","removeFormatFromClone","splitToFormatRoot","formatRoot","findFormatRoot","lastClone","firstClone","formatRootParent","mixed","wrapAndSplit","removeNodeFormat","lastContentEditable","currentNodeMatches","textDecoration","isRemoveBookmarkNode","removeRngStyle","ceFalseOverride","each$9","mergeWithChildren","clear_child_styles","clearChildStyles","each$8","isElementNode","applyFormat$1","setElementFormat","onformat","styleVal","applyNodeStyle","found","createWrapElement","wrapElm","applyRngStyle","nodeSpecific","currentWrapElm","parentName","canFormatEmptyLines","validBRParentElements","hasCaretNodeSibling","canFormatBR","childCount","isEmptyTextNode$1","getChildCount","childElement","mergeStyles","merge_with_parents","mergeWithParents","backgroundColor","mergeBackgroundColorAndFontSize","processTextDecorationsAndColor","mergeTextDecorationsAndColor","mergeSubSup","wordcharRegex","applyCaretFormat","curSelNode","firstFormat","forced_root_block","defaultBlock","fake","postProcess$1","formatItem","hasVars","fallbackElement","matchingNode","matchingFormat","updateAndFireChangeCallbacks","registeredCallbacks","runIfChanged","node_1","withSimilar","withoutSimilar","withVars","formatChangedInternal","registeredFormatListeners","nodeOrRange","setup$j","formatChangeItems","toAppendTo","addListeners","fromElements","tableModel","tableRow","cellPosition","getSpan","cellExists","findElementPos","extractRows","sx","sy","ey","newRows","tableElm","rowspan","colspan","y2","x2","fillout","skipCellsX","toDom","tableElement","tableBody","createDomTable","modelRowsToDomRows","subsection","subTable","getFullySelectedListWrappers","_li","findParentListContainer","listCont","listElm","listStyles","_style","getWrapElements","commonAnchorContainer","wrapElements","listWrappers","allWrappers","directListWrappers","emptyFragment","getFragmentFromRange","innerElm","getTableFragment","selectedTableCells","firstCell","lastCell","fullTableModel","sectionedTableModel","read$3","getSelectionFragment","isCollapsibleWhitespace","getInnerText","bin","shouldTrim","trimLeadingCollapsibleText","getSelectedContentInternal","setupArgs$1","parentBlockOpt","contextNodeName","getContextNodeName","shouldTrimSpaces","nonRenderedText","parentBlockText","textIndex","getTextContent","tmpElm","getSerializedContent","getOuterHtml","insertAt","fragments","vDown","vUp","buildScript","buildSnake","getMiddleSnake","currentFragments","removeAt","applyDiff","start1","end1","start2","end2","diag","i2","snake","lazyTempDocument$1","createFromEditor","hasIframes","trimZwsp","beforeBookmark","applyToEditor","getLevelContent","getCleanLevelContent","isEq$1","level1","level2","hasEqualContent","hasEqualCleanedContent","isUnlocked","locks","setTyping","typing","endTyping","makePlainAdaptor","beforeChange","beforeChange$1","currentLevel","lastLevel","bm","customUndoRedoLevels","getCustomUndoRedoLevels","setDirty","addUndoLevel$1","undo$1","redo$1","clear$1","reset$1","hasUndo","hasUndo$1","hasRedo","hasRedo$1","transact$1","ignore$1","callback1","callback2","extra$1","matchAll","matchedFormatNames","checkedMap","getContentInternal","isVisualAidsEnabled","matchedElm","getVisualAidsTableClass","value_1","cls_1","getVisualAidsAnchorClass","addVisualInternal","getModel","isRtc","plugins","setup$i","editorCast","rtcPlugin","getRtcSetup","rtcInstance","nul","makeNoopAdaptor","rtcEditor","defaultVars","_undoManager","_locks","_node","_similar","_rfl","_details","getRawModel","makeRtcAdaptor","rtc","isRemote","getRtcInstanceWithFallback","getRtcInstanceWithError","getContent$1","getSelectedContent","mergeAndNormalizeText","outerNode","outerElm","oldLength","innerTextNode","walkPastBookmark","normalizeTextIfRequired","setContent$1","setupArgs","eventArgs","contextBlock","contextArgs","cleanContent","prevText","nextText","rngSetContent","createContextualFragment","deleteFromCallbackMap","newCallbacks","isNativeIeSelection","isAttachedToDom","EditorSelection","selectedRange","explicitRange","selectorChangedWithUnbind","selectorChangedData","currentSelectors","findMatchingNode","matchedSelectors","SelectorChanged","getRng$1","tryCompareBoundaryPoints","how","sourceRange","destinationRange","compareBoundaryPoints","START_TO_START","END_TO_END","isValidRange","ieRange","removeAllRanges","addRange","setBaseAndExtent","isForward","anchorRange","focusRange","bookmarkManager","controlSelection","compareEndPoints","setNode","endElm","selectedBlocks","selectorChanged","getScrollContainer","scrollContainer","scrollElementIntoView","placeCaretAt","addFontToSpansFilter","domParser","fontSizes","face","removeAttrs","addFilters","convert_fonts_to_spans","font_size_legacy_values","addStrikeToSpanFilter","parseDataUri$1","uriParts","decodeURIComponent","buildBlob","uriToBlob","rejectWithError","xhr_1","XMLHttpRequest","responseType","send","blobUriToBlob","count$1","imageToBlobInfo","blobCache","blobInfo","getByData","getByUri","dataUri","ImageScanner","uploadStatus","cachedPromises","images","getAllImages","isUploaded","promises","imageInfo","newPromise","restoreDataUris","re","imageId","uris","paddEmptyNode","blockElements","padd_empty_with_br","hasOnlyChild","whitespaceElements","isPadded","registerBase64ImageFilter","blob_cache","processImage","inputSrc","isInternalImageSource","isBogusImage","parseDataUri","images_dataimg_filter","imgElem_1","isValidDataImg","blobUri","addAttributeFilter","each$7","queryParts","DEFAULT_PORTS","ftp","http","https","mailto","safeSvgDataUrlElements","isInvalidUri","allow_html_data_urls","allowSvgDataUrls","blockSvgDataUris","URI","baseUri","isProtocolRelative","toAbsPath","urlMatch","userInfo","uriComponents","isDomSafe","decodedUri","unescape","getDocumentBaseUrl","pathname","setPath","pathMatch","getURI","toRelative","relativeUri","tu","uu","toRelPath","noHost","absoluteUri","defaultPort","breakPoint","normalizedBase","outPath","nb","normalizedPath","noProtoHost","filteredClobberElements","lazyTempDocument","findMatchingEndTagIndex","startTagRegExp","endTagRegExp","shortEndedElements","startMatch","findCommentEndIndex","endMatch","lcHtml","isConditionalComment","endIfIndex","endCommentRegexp","checkBogusAttribute","regExp","attrString","SaxParser","fix_self_closing","parseInternal","base64Extract","endRegExp","attrList","textData","isInternalElement","isShortEnded","isValidElement","attribsValue","validAttributesMap","validAttributePatterns","filteredUrlAttrs","parsingMode","processEndTag","processText","processComment","allow_conditional_comments","processMalformedComment","startTag","parseAttribute","val2","val3","processAttr","fillAttrsMap","isValidPrefixAttrName","attrRule","tokenRegExp","attrRegExp","selfClosing","self_closing_elements","removeInternalElements","remove_internals","fixSelfClosing","processHtml","bogusValue","preserve_cdata","dataImageUri","extractBase64DataUris","findEndTag","each$6","explode$2","extend$4","DomParser","matchedNodes","matchedAttributes","root_name","filterNode","fi","fl","invalidChildren","textRootBlockElements","rootBlockName","getRootBlockName","whiteSpaceElements","startWhiteSpaceRegExp","endWhiteSpaceRegExp","allWhiteSpaceRegExp","isAllWhiteSpaceRegExp","isInWhiteSpacePreservedElement","createNode","removeWhitespaceBefore","textVal","textNodeNext","cloneAndExcludeBlocks","isLineBreakNode","parent_2","attrFiltersLen","isNodeEmpty","tempNode","isTextRootBlockEmpty","isPaddedWithNbsp","nonSplitableElements","textBlockElements","removeOrUnwrapInvalidNode","originalNodeParent","children_1","newParent","fixInvalidChildren","rootBlockNode","addRootBlocks","remove_trailing_brs","prevName","newRel","allow_unsafe_link_target","appendRel","allow_html_in_named_anchor","fix_list_elements","classValue","validClassesMap","inline_styles","hasEventListeners","shouldFireEvent","oldDoc","clonedNode","impl","doc_1","firePreProcess","preProcess","addTempAttr","htmlParser","toHtml","serializeNode","outArgs","firePostProcess","postProcess","DomSerializerImpl","internalName","hasChildren","getHtmlFromNode","brNode1","brNode2","trimTrailingBr","parseHtml","addRules","setRules","DomSerializer","domSerializer","getContent$2","setContent$2","DOM$7","safeDestroy","editorUpload","save","is_removing","unbindAllNativeEvents","hasHiddenInput","fireRemove","orgDisplay","restoreOriginalStyles","fireDetach","automatic","destroyed","_beforeUnload","theme","_mceOldSubmit","formEventDelegate","restoreForm","contentAreaContainer","clearDomReferences","deprecatedSettings","deprecatedPlugins","movedToPremiumPlugins","getDeprecatedSettings","settingNames","setting","getDeprecatedPlugins","plugin","pluginNames","deviceDetection","legacyMobilePlugins","defaultTouchSettings","table_grid","object_resizing","normalizePlugins","trimmedPlugins","extractSections","sectionResult","hasSection","getDefaultMobileSettings","mobileSettings","defaultMobileSettings","toolbar_mode","toolbar_sticky","getExternalPlugins","overrideSettings","userDefinedExternalPlugins","external_plugins","getPlatformPlugins","isMobileDevice","desktopPlugins","mobilePlugins","isSectionTheme","processPlugins","defaultOverrideSettings","forcedPlugins","forced_plugins","mobileConfig","getSectionConfig","combinedPlugins","combinePlugins","combineSettings","defaultSettings","defaultDeviceSettings","extendedSettings","isOnMobile","sectionSettings","getSection","getEditorSettings","documentBaseUrl","baseDefaults","document_base_url","add_form_submit_trigger","submit_patch","add_unload_trigger","convert_urls","relative_urls","remove_script_host","visual","hidden_input","convertURL","getDefaultSettings","finalSettings","deprecation_warnings","hasDeprecatedPlugins","hasDeprecatedSettings","isLegacyMobileTheme","listJoiner","themesMessage","pluginsMessage","settingsMessage","logDeprecationsWarning","getFiltered","getParamObject","iconPack","getProp","propName","getComputedSizeProp","getClientWidth","getClientHeight","getMarginTop","getMarginLeft","isXYInContentArea","bodyElm","transposedPoint","isInsideElementContentArea","isEditorAttachedToDom","rawContainer","NotificationManager","getImplementation","unimplemented","getTopNotification","closeNotification","otherNotification","fireEvent","addNotification","getNotifications","serviceMessage","getServiceMessage","registerEvents","WindowManager","dialogs","getParams","setParams","funcBind","addDialog","fireOpenEvent","fireCloseEvent","otherDialog","storeSelectionAndOpenDialog","openDialog","windowManagerImpl","displayNotification","notificationManager","displayError","logError","createLoadError","pluginLoadError","initError","getContentCssUrls","transformToUrls","contentCss","getContentCss","cssLinks","contentCssFile","isContentCssSkinName","appendContentCssFromSettings","getFontCssUrls","UploadStatus","blobUriStatuses","createStatus","resultUri","hasBlobUri","getResultUri","isPending","markPending","markUploaded","removeFailed","uuid","rnd","Uploader","pendingPromises","defaultHandler","xhr","withCredentials","credentials","upload","onprogress","path1","path2","json","responseText","basePath","FormData","filename","handlerSuccess","handlerFailure","resolvePending","uploadBlobs","blobInfos","openNotification","pendingUploadBlobInfo","closeNotification_1","failureOptions","uploadBlobInfo","createUploader","EditorUpload","uploader","imageScanner","toBlobInfo","mime","findFirst","cachedBlobInfo","removeByUri","BlobCache","urlFilters","changeHandler","lastChangedLevel","fireIfChanged","UploadChangeHandler","aliveGuard","replaceString","replaceImageUrl","targetUrl","replacementUrl","replacementString","replaceUrlInUndoStack","uploadImages","scanForImages","imageInfos","imagesToRemove","filteredResult","uploadInfo","shouldReplaceBlobUris","replaceImageUriInView","uploadError","uploadUri","uploadImagesAuto","isValidDataUriImage","imgElm","dataImgFilter","getImagesDataImgFilter","resultItem","replaceBlobUris","source_view","addFilter","FormatRegistry","valigntop","verticalAlign","valignmiddle","valignbottom","alignleft","textAlign","aligncenter","marginLeft","marginRight","alignright","alignjustify","bold","fontWeight","italic","fontStyle","underline","strikethrough","forecolor","hilitecolor","fontname","fontsize","lineheight","lineHeight","fontsize_class","blockquote","subscript","superscript","_fmt","_itemName","removeformat","getFormats","each$5","parsedSelectorToHtml","ancestry","sItem","wrapInHtml","parentCandidate","ancestorName","parentRequired","elmRule","getRequiredParent","siblingElm","parseSelectorItem","$0","$3","$4","previewFrag","parentFontSize","previewCss","previewStyles","getPreviewStyles","removeVars","previewOpt","previewElm","Formatter","formatChangeState","addShortcut","setup$h","toggleFormat","matchFormat","closestFormat","matchAllFormats","matchNodeFormat","canApplyFormat","shouldIgnoreCommand","UndoManager","addUndoLevel","isFirstTypedCharacter","addNonTypingUndoLevel","isDirty","modKey","inputType","isInsertFromPasteOrDrop","addKeyboardShortcuts","nonTypingKeycodes","placeholderAttr","isKeyboardEvent","isDeleteEvent","setup$g","getPlaceholder","updatePlaceholder","isNonTypingKeyboardEvent","showPlaceholder","isTypingKeyboardEvent","isForcedRootBlockFalse","isVisuallyEmpty","firePlaceholderToggle","strongRtl","isInlineTarget","getInlineBoundarySelector","findRootInline","findInlineParents","normalizePosition","normalizeForwards","normalizeBackwards","isTextBlockOrListItem","getParentBlock$1","isBeforeRoot","paddEmptyBody","placeCaretInEmptyBody","blockBoundary","getBlockPosition","blockPosition","readFromRange","fromBlockPos","toBlockPos","blockPos","lastPositionInBlock","skipLastBr","isDifferentBlocks","parent1","parent2","hasSameParent","isEditable$1","getChildrenUntilBlockBoundary","extractChildren","removeEmptyRoot","nestedBlockMerge","toBlock","insertionPoint","sidelongBlockMerge","getInsertionPoint","parentsAndSelf$1","findInsertionPoint","trimBr","mergeBlockInto","mergeBlocks","block1","block2","backspaceDelete$8","isRawNodeInTable","isEverythingSelected","noPrevious","noNext","isSelectionInTable","deleteRange$1","emptyEditor","deleteRangeMergeBlocks","backspaceDelete$7","_forward","isContentEditableTrue$2","isContentEditableFalse$4","showCaret","getNodeRange","renderCaretAtRange","caretPositionNode","caretPositionBeforeNode","ceRoot","renderRangeCaret","isBeforeBoundary","isAfterBoundary","deleteContentAndShowCaret","peekCaretPosition","caretRange","deleteRange","trimEmptyTextNode","backspaceDelete$6","getNextPosFn","isBeforeFn","nextCaretPosition","deleteBoundaryText","DeleteAction","moveToElement","moveToPosition","deleteEmptyBlockOrMoveToCef","toCefElm","blockElm","findCefPosition","isDeleteFromCefDifferentBlocks","getContentEditableAction","caretLocation","isAtContentEditableBlockCaret","getContentEditableBlockAction","skipMoveToActionFromInlineCefToContent","getAncestorCe","backspaceDeleteCaret","hideFakeCaret","deleteElement$1","backspaceDeleteRange","paddEmptyElement","backspaceDelete$5","backspaceDelete$4","deleteCaret$2","startsWithCaretContainer","endsWithCaretContainer","createZwsp","insertInline","insertInlineBefore","insertInlineAfter","insertInlinePos","isPosCaretContainer","caretNode","renderCaret","evaluateUntil","fns","Location","rescope$1","nPos","isNotInsideFormatCaretContainer","findInsideRootInline","start$1","isValidLocation","readLocation","getName","outside","betweenInlines","fromInline","toInline","hasSameParentBlock","skipNoMovement","fromLocation","toLocation","location2","location1","findLocationSimple","findLocation$1","findLocationTraverse","BreakType","modify","moveByWord","hasSelectionModifyApi","VDirection","getBreakType","currentPos","nextPos","Br","Block","Wrap","getPositionsUntil","breakType","breakAt","Eol","getAdjacentLinePositions","getPositionsUntilBreak","findClosestHorizontalPositionFromPoint","lastRect","lastDist","findClosestHorizontalPosition","targetRect","getPositionsUntilPreviousLine","getPositionsUntilNextLine","getPositionsAbove","getPositionsBelow","getNodeClientRects","toArrayWithNode","customEventRootDelegates","beforeUnloadDelegate","walkUntil$1","isAboveFn","isBeflowFn","targetClientRect","upUntil","Up","downUntil","Down","isAboveLine","lineNumber","aboveLineNumber","isLine","isLineNumber","isContentEditableFalse$3","findNode","distanceToRectLeft","distanceToRectRight","isInsideX","isInsideY","findClosestClientRect","allowInside","oldClientRect","oldDistance","newDistance","walkUntil","includeChildren","closestFakeCaret","fakeTargetNodeRects","getFakeCaretTargets","targetNodeRects","checkInside","closestNodeRect","targetNodeRect","checkPosFn","lineRects","findLineNodeRects","caretInfo","moveToRange","renderRangeCaretOpt","moveHorizontally","isBefore","isAfter","rangeIsInContainerBlock","moveVertically","caretClientRect","linePositions","nextLinePositions","nextLineRect","dist1","dist2","caretPositions","isBelowFn","getClientRect","positionsUntil","closestNextLineRect","getLineEndPoint","moveToLineEndPoint$3","setCaretPosition","setSelected","renderCaretLocation","safeRemoveCaretContainer","isAtZwsp","move$2","isInlineTarget$1","findLocation","moveWord","_caret","setupSelectedState","inlineBoundaries","selectedInlines","targetInlines","toggleInlines","inlines","_inline","renderInsideInlineCaret","moveNextWord","movePrevWord","moveToLineEndPoint$2","linePoint","outsideLoc","setCaretLocation","deleteFromTo","rangeFromPositions","backspaceDeleteCollapsed","rescope","toPosition","normalizedFirstPos","normalizedLastPos","hasOnlyTwoOrLessPositionsLeft","backspaceDelete$3","hasOnlyOneChild","deleteLastPosition","parentInlines","isFormatElement$1","innerMost","replaceWithCaretFormat","deleteCaret$1","getParentInlines","normalizedFromPos","willDeleteLastPositionInElement","backspaceDelete$2","deleteElement","backspaceDelete$1","isNearMedia","deleteCaret","parseIndentValue","getIndentStyleName","useMargin","canOutdent","getBlocksToIndent","indentStyleName","intentValue","validateBlocks","isListComponent","parentIsListComponent","indentation","getIndentation","indentUnit","indentValue","styleValue","indentElement","backspaceDelete","nativeCommand","setup$f","deleteCommand","forwardDeleteCommand","setup$e","debounceLongpress","isEqualNode","isBlockElement","isValidTarget","shouldRemoveTextNode","rootNodeName","hasBlockParent","restoreSelection","blockCaretContainer","removeIeControlRect","handleBlockContainer","findBlockCaretContainer","isContentEditableFalse$2","exitPreBlock","getVisualCaretPosition$1","hasForcedRootBlock","newBlock","textBlock","createTextBlock","getHorizontalRange","moveToCeFalseHorizontally","getVerticalRange","down","moveToCeFalseVertically","moveH$2","newRange","moveV$3","moveToLineEndPoint$1","isTarget","rangeBefore","insertElement","insertEmptyLine","insertBr","insertBlock","isAtFirstOrLastLine","isAtLastLine","isAtFirstLine","moveCaretToNewEmptyLine","rootBlockAttrs","getClosestTargetBlock","moveV$2","match$1","defaultPatterns","matchesEvent","moveH$1","moveV$1","moveToLineEndPoint","getClosestCell","getYAxisValue","isTargetCorner","corners","tds","deflate","getCorners","corner","newCorner","oldCorner","oldDist","newDist","findClosestCorner","getClosestCellAbove","getClosestCellBelow","findClosestPositionInAboveCell","findClosestPositionInBelowCell","isAtTableCellLine","lineInfo","startsWithWrapBreak","startsWithBrBreak","breakPos","hasNextBreak","isAtFirstTableCellLine","isAtLastTableCellLine","navigateHorizontally","_td","isCaretAtStartOrEndOfTable","renderBlock","navigateVertically","getClosestAbovePosition","getClosestBelowPosition","mover","moveH","moveV","executeKeydownOverride$3","executeKeydownOverride$2","executeKeyupOverride","moveToCaretPosition","firstNonWhiteSpaceNodeSibling","getParentBlock","hasParent","isListBlock","getContainerBlock","containerBlock","containerBlockParent","isFirstOrLastLi","insert$3","createNewBlock","newBlockName","isFirstChild","tmpRng","hasFirstChild","isEmptyAnchor","containerAndSiblingName","canSplitBlock","normalizeZwspOffset","getEditableRoot","editableRoot","setForcedBlockAttrs","forcedRootBlockAttrs","attrStyles","currentStyles","newStyles","attrClassesOpt","attrClasses","currentClassesOpt","currentClasses","filteredClasses","newClasses","appliedAttrs","remainingAttrs","insert$2","parentBlockName","isAfterLastNodeInContainer","shouldKeepStyles","isCaretAtStartOrEndOfBlock","normalizedOffset","insertNewBlockAfter","containerBlockName","shouldEndContainerOnEmptyBlock","isTableCell","wrapSelfAndSiblingsInDefaultBlock","includeZwspInRange","trimLeadingLineBreaks","firstChilds","trimInlineElementsOnLeftSideOfBlock","addBrToBlockIfNeeded","moveSelectionToBr","brElm","extraBr","insertBrAtCaret","isControlKey","hasRightSideContent","insertBrBefore","insertBrAfter","hasBrAfter","isAnchorLink","isInsideAnchor","insertBrOutsideAnchor","insert$1","anchorLocation","readInlineAnchorLocation","newLineAction","shouldBlockNewLine","_shiftKey","getNoNewLineSelector","shouldBlockNewLine$1","isBrMode","requiredState","inListBlock","isListItemParentBlock","inBlock","getParentBlockName","inPreBlock","shouldPutBrInPre","shouldPutBrInPre$1","inBrContext","getBrNewLineSelector","shouldInsertBr","hasShiftKey","canInsertIntoEditableRoot","rootEditable","getEditableRoot$1","predicates","setup$9","handleEnterKeyEvent","executeKeydownOverride$1","keypressThrotter","setupIeInput","isComposing","isPageUpDown","setNodeChangeBlocker","blocked","executeKeyupAction","insertTextAtPosition","insertNbspAtPosition","insertSpaceAtPosition","insertInlineBoundarySpaceOrNbsp","checkPos","needsToHaveNbsp","insertSpaceOrNbspAtSelection","locationToCaretPosition","setSelection","executeKeydownOverride","registerKeyboardOverrides","setup$c","NodeChange","lastPath","nativeRng","fakeRng","isSameElementPath","currentPath","preventSummaryToggle","filterDetails","isTextBlockNode","normalizeSelection","getAbsolutePosition","calc","bodyPosition","getBodyPosition","scrollPosition","getScrollPosition","mousePosition","iframePosition","inlineScroll","iframeScroll","getBodyScroll","getMousePosition","isContentEditableFalse$1","isContentEditableTrue$1","createGhost","clonedElm","boxSizing","removeElement","isLeftMouseButtonPressed","ceElm","elmPos","dragging","relX","relY","ghost","dragElement","isValidDropTarget","targetClone_1","cloneElm","removeDragState","bindFakeDragEvents","pageDom","dragStartHandler","dragHandler","throttledPlaceCaretAt","targetPos","applyRelPos","overflowX","moveGhost","dropHandler","dragEndHandler","realTarget","blockIeDrop","shouldBlockUnsupportedDrop","preventFileDrop","preventFileDropIfUIElement","editorRoot","eventNames","blockUnsupportedFileDrop","getContentEditableRoot","SelectionOverrides","fakeCaret","realSelectionId","isFakeSelectionTargetElement","isNearFakeSelectionElement","setRange","getRange","isWithinCaretContainer","isRangeInCaretContainer","normalizeShortEndedElementSelection","selectElement","targetClone","origTargetClone","$realSelectionContainer","setupOffscreenSelection","nodeElm","setElementSelection","afterNode","removeElementSelection","contentEditableRoot","hasBetterMouseTarget","targetBlock","hasNormalCaretPosition","fakeCaretInfo","clipboardData","realSelectionElement","clearData","outerText","renderFocusCaret","Quirks","getAttributeApplyFunction","isSelectionAcrossElements","isGecko","isWebKit","mceInternalUrlPrefix","mceInternalDataType","setEditorCommandState","emptyEditorWhenDeleting","serializeRng","allRng","allContentsSelected","selectAll","documentElementEditingFocus","Range","body_1","selectControlElements","disableBackspaceIntoATable","setGeckoEditingOptions","isReadOnly$1","addBrAfterLastLinks","showBrokenImageIcon","contentStyles","restoreFocusOnKeyDown","bodyHeight","blockCmdArrowNavigation","tapLinksAndImages","blockFormSubmitInsideEditor","ieInternalDragAndDrop","selectionHtml","internalContent","setMceInternalContent","getMceInternalContent","queryCommandSupported","setAttributeNode","DOM$6","getRootName","removeUndefined","mkSchemaSettings","boolean_attributes","move_caret_before_on_enter_elements","non_empty_elements","short_ended_elements","text_inline_elements","whitespace_elements","format_empty_lines","mkParserSettings","moveSelectionToFirstCaretPosition","storeNative","initEditor","bindPendingEventDelegates","fireInit","execCallback","auto_focus","autoFocus","getStyleSheetLoader$1","loadContentCss","removeCss","contentCssText_1","allStylesheets","framedFonts","makeStylesheetLoadingPromises","content_style","appendStyle","preInit","firePreInit","browser_spellcheck","gecko_spellcheck","spellcheck","firePostRender","directionality","getDirectionality","protect","initEditorWithInitialContent","startContent","loadInitialContent","initContentBody","skipWrite","orgVisibility","iframeHTML","hex_colors","force_hex_style_colors","createParser","mkSerializerSettings","annotator","_nodeChangeDispatcher","setupRtcThunk","setupRtc","setProgressState","_rtcMode","DOM$5","getIframeHtml","getDocType","bodyId","getBodyId","bodyClass","getBodyClass","translatedAriaText","getIframeAriaText","createIframe","customAttrs","iframeTitle","ifr","getIframeAttrs","frameBorder","allowTransparency","isDomainRelaxed","domain","hostname","bodyUuid","domainRelaxUrl","relaxDomain","DOM$4","initPlugin","initializedPlugins","Plugin","pluginInstance","pluginInitError","trimLegacyPrefix","createThemeFalseResult","renderThemeFalse","renderThemeFalseIframe","renderThemeUi","renderFromLoadedTheme","iframeHeight","renderFromThemeFunc","iconPackName","currentIcons","loadIcons","svgData","addIcon","initIcons","Theme","initTheme","initPlugins","renderInfo","uiApiFacade","augmentEditorUiApi","boxInfo","hidden","DOM$3","hasSkipLoadPrefix","loadLanguage","scriptLoader","languageCode","languageUrl","getLanguageUrl","url_1","languageLoadError","getIconsUrlMetaFromName","defaultIconsUrl","customIconsUrl","getIconsUrl","getIconsUrlMetaFromUrl","urlMeta","iconsLoadError","themeUrl","getThemeUrl","loadTheme","getExternalPlugins$1","depPlugin","url_2","loadPlugins","clone$3","getStyleSheetLoader","resetContent","shouldPatchSubmit","triggerSave","isEncodingXml","shouldAddFormSubmitTrigger","shouldAddUnloadTrigger","set_dirty","addVisual$1","legacyPropNames","getSpecifiedFontProp","legacyPropName","getProperty","getFontProp","getComputedFontProp","getFontSize","getFontFamily","findFirstCaretElement","bindRange","getCaretElement","mapRange","mapper","fromFontSizeNumber","fontSizeNumber","getFontStyleValues","fontClasses","getFontSizeClasses","normalizeFontNames","insertAtCaret","processValue","each$4","EditorCommands","setupCommands","skip_focus","customCommand","addCommands","commandList","hasCustomCommand","execNativeCommand","isFormatMatch","storeSelection","selectionBookmark","_command","queryCommandEnabled","listParent","fontNameAction","fontSizeAction","lineHeightAction","editingHost","selectNodeContents","alignStates","Undo","Redo","fontNameQuery","fontSizeQuery","specifiedStyle","lineHeightQuery","internalContentEditableAttr","setContentEditable","toggleReadOnly","removeFakeSelection","switchOnContentEditableTrue","restoreFakeSelection","registerFilters","processReadonlyEvents","isClickEvent","getAnchorHrefOpt","targetEl","nativeEvents","EventDispatcher","bindings","toggleEvent","isNative","beforeFire","wrappedCallback","currentName","bindingName","filteredHandlers","getEventDispatcher","_eventDispatcher","toggleNativeEvent","Observable","dispatcherArgs","DOM$2","getEventTarget","eventRoot","isListening","bindEventDelegate","delegates","eventRootElm","editors","EditorObservable","_pendingNativeEvents","defaultModes","switchToMode","activeMode","availableModes","oldMode","activate","deactivate","editorReadOnly","fireSwitchMode","design","registerReadOnlyContentFilters","registerReadOnlySelectionBlockers","registerMode","each$3","explode$1","keyCodeLookup","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","modifierNames","parseShortcut","charCode","Shortcuts","pendingPatterns","hasModifier","isFunctionKey","matchShortcut","subpatterns","executeShortcutAction","cmdFunc","normalizeCommandFunc","createShortcut","bridge","addAutocompleter","addContextMenu","addContextToolbar","addContextForm","addSidebar","DOM$1","extend$3","each$2","Editor","loadedCSS","isNotDirty","documentBaseURL","base_url","_setBaseUrl","baseURI","referrer_policy","language_load","editorCommands","cache_suffix","modeInstance","callbackLookup","initialContent","oldState","urlconverter_callback","_scanForImages","extend$2","instanceCounter","boundGlobalEvents","legacyEditors","globalEventDelegate","EditorManager","toggleGlobalEvents","removeEditorFromList","targetEditor","oldEditors","isQuirksMode","compatMode","majorVersion","minorVersion","releaseDate","i18n","tinyMCEPreInit","srcScript","pluginBaseUrls","plugin_base_urls","pluginBaseUrl","invalidInlineTargets","createId","provideResults","initEditors","initCount","createEditor","editor_deselector","editor_selector","findTargets","isInvalidInlineTarget","addI18n","tasks","resultFns","extendClass","initializing","min$1","max$1","relativePosition","targetW","targetH","relChars","Rect","findBestRelativePosition","constrainRect","rels","intersect","x1","y1","fixedSize","cx2","cy2","underflowX1","underflowY1","overflowX2","overflowY2","fromClientRect","Resource","loadErrMsg","runErrMsg","task","waiter","resolveCb","rejectCb","awaiter","extend$1","_super","mixins","mixin","Mixins","dummy","Methods","Properties","Statics","Defaults","member","createMethod","localStorage","JSONUtils","hexCode","JSONP","XHR","ready","async","success_scope","error_scope","overrideMimeType","content_type","crossDomain","setRequestHeader","requestheaders","JSONRequest","sendRPC","ecb","scb","xhrArgs","ty","method","removeItem","publicApi","geom","LocalStorage","Color","hsvToRgb","toRgb","toHsv","rgb2hsv","ImageUploader","showNotification","TreeWalker","Serializer","Selection","isMac","tinyMCE","exportToWindowGlobal","exportToModuleLoaders"],"sourceRoot":""}