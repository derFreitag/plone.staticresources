(self.webpackChunkplone_staticresources=self.webpackChunkplone_staticresources||[]).push([[85997,65167,87548,20405,42786,54691,77072,9929],{57722:function(e){e.exports=function(e){var t=document.head.querySelectorAll("*")[0];t?document.head.insertBefore(e,t):document.head.append(e)}},32:function(e,t,n){"use strict";var s=n(71354),r=n.n(s),o=n(76314),l=n.n(o)()(r());l.push([e.id,".content-browser-position-wrapper.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{position:fixed;top:0;right:0;display:flex;justify-content:end;z-index:1500;width:100%;height:100vh;background-color:rgba(0,0,0,.25)}.btn-xs.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{--bs-btn-padding-y:0.15rem;--bs-btn-padding-x:0.5rem;--bs-btn-font-size:0.75rem}.content-browser.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{height:100vh;min-width:550px;background-color:var(--bs-light-bg-subtle);border-left:var(--bs-border-style) var(--bs-border-width) #fff;z-index:1500;display:flex;flex-direction:column}.toolBar.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{background-color:var(--bs-primary);padding:.325rem .75rem;color:var(--bs-light);width:100%;display:flex;justify-content:space-between}.toolBar.svelte-1nidsbj>.upload.svelte-1nidsbj.svelte-1nidsbj{margin:0 1rem 0 auto}.toolBar.svelte-1nidsbj svg{vertical-align:-0.125em}.levelColumns.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{display:flex;flex-wrap:nowrap;width:100%;overflow:hidden;flex-grow:3;border-left:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);user-select:none}.levelColumn.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{width:320px;border-right:var(--bs-border-style) var(--bs-border-width) var(--bs-border-color);display:flex;flex-direction:column}.levelToolbar.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{width:100%;height:2.5rem;display:flex;justify-content:space-between;padding:.375rem;border-bottom:var(--bs-border-style) var(--bs-border-width) var(--bs-border-color)}.levelToolbar.svelte-1nidsbj>.levelActions.svelte-1nidsbj.svelte-1nidsbj{margin-left:auto}.levelItems.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{overflow-x:auto}.contentItem.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{display:flex;align-items:center;justify-content:space-between;font-size:90%;min-height:2rem}.contentItem.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj:focus-visible{outline:none}.contentItem.even.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{background-color:var(--bs-secondary-bg)}.contentItem.inPath.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj,.contentItem.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj:focus{background-color:rgba(var(--bs-primary-rgb), 0.15)}.contentItem.selectedItem.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{background-color:var(--bs-primary);color:var(--bs-body-bg)}.contentItem.svelte-1nidsbj>.svelte-1nidsbj.svelte-1nidsbj{padding:.5rem;white-space:nowrap;max-width:450px;text-overflow:ellipsis;overflow:hidden}.contentItem.svelte-1nidsbj>.browseSub.svelte-1nidsbj.svelte-1nidsbj{flex-shrink:0}.contentItem.svelte-1nidsbj .grid-preview.svelte-1nidsbj>img.svelte-1nidsbj{width:95px;height:95px;object-fit:cover;float:left;margin-right:1rem}.preview.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{width:320px;min-height:300px;display:flex;flex-direction:column;align-items:center}.preview.svelte-1nidsbj .info.svelte-1nidsbj.svelte-1nidsbj{padding:.5rem;width:100%;word-wrap:anywhere}.preview.svelte-1nidsbj .info .previewIcon.svelte-1nidsbj.svelte-1nidsbj{margin:0 auto 1rem auto}.preview.svelte-1nidsbj .info .previewIcon svg.svelte-1nidsbj.svelte-1nidsbj{width:50px !important;height:50px !important}.preview.svelte-1nidsbj h4.svelte-1nidsbj.svelte-1nidsbj{font-size:1.2 rem}.preview.svelte-1nidsbj img.svelte-1nidsbj.svelte-1nidsbj{max-width:100%;max-width:100%;margin-bottom:.5rem}.upload-wrapper.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{padding:1rem;width:590px;overflow-x:auto}.loadmore.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{text-align:center;padding:.25rem 0}","",{version:3,sources:["webpack://./node_modules/@plone/mockup/src/pat/contentbrowser/src/ContentBrowser.svelte"],names:[],mappings:"AAAA,+EAAA,cAAA,CAAA,KAAA,CAAA,OAAA,CAAA,YAAA,CAAA,mBAAA,CAAA,YAAA,CAAA,UAAA,CAAA,YAAA,CAAA,gCAAA,CAAA,qDAAA,0BAAA,CAAA,yBAAA,CAAA,0BAAA,CAAA,8DAAA,YAAA,CAAA,eAAA,CAAA,0CAAA,CAAA,8DAAA,CAAA,YAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,sDAAA,kCAAA,CAAA,sBAAA,CAAA,qBAAA,CAAA,UAAA,CAAA,YAAA,CAAA,6BAAA,CAAA,8DAAA,oBAAA,CAAA,4BAAA,uBAAA,CAAA,2DAAA,YAAA,CAAA,gBAAA,CAAA,UAAA,CAAA,eAAA,CAAA,WAAA,CAAA,gFAAA,CAAA,gBAAA,CAAA,0DAAA,WAAA,CAAA,iFAAA,CACmC,YAAA,CAAA,qBAAA,CAAA,2DAAA,UAAA,CAAA,aAAA,CAAA,YAAA,CAAA,6BAAA,CAAA,eAAA,CAAA,kFAAA,CACA,yEAAA,gBAAA,CAAA,yDAAA,eAAA,CAAA,0DAAA,YAAA,CAAA,kBAAA,CAAA,6BAAA,CAAA,aAAA,CAAA,eAAA,CAAA,wEAAA,YAAA,CAAA,+DAAA,uCAAA,CAAA,iIAAA,kDAAA,CAAA,uEAAA,kCAAA,CAAA,uBAAA,CAAA,2DAAA,aAAA,CAAA,kBAAA,CAAA,eAAA,CAAA,sBAAA,CAAA,eAAA,CAAA,qEAAA,aAAA,CAAA,4EAAA,UAAA,CAAA,WAAA,CAAA,gBAAA,CAAA,UAAA,CAAA,iBAAA,CAAA,sDAAA,WAAA,CAAA,gBAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,kBAAA,CAAA,4DAAA,aAAA,CAAA,UAAA,CAAA,kBAAA,CAAA,yEAAA,uBAAA,CAAA,6EAAA,qBAAA,CAAA,sBAAA,CAAA,yDAAA,iBAAA,CAAA,0DAAA,cAAA,CAAA,cAAA,CAAA,mBAAA,CAAA,6DAAA,YAAA,CAAA,WAAA,CAAA,eAAA,CAAA,uDAAA,iBAAA,CAAA,gBAAA",sourceRoot:""}]),t.A=l},49393:function(e,t,n){"use strict";var s=n(71354),r=n.n(s),o=n(76314),l=n.n(o)()(r());l.push([e.id,".content-browser-selected-items-wrapper.svelte-bljrxf.svelte-bljrxf.svelte-bljrxf{display:flex;align-items:start}.content-browser-selected-items.svelte-bljrxf.svelte-bljrxf.svelte-bljrxf{list-style:none;background-color:var(--bs-body-bg);border-radius:var(--bs-border-radius) 0 0 var(--bs-border-radius);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);min-height:2.4rem;padding:.5rem .5rem 0 .5rem;flex:1 1 auto}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf.svelte-bljrxf{border-radius:var(--bs-border-radius);background-color:var(--bs-tertiary-bg);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);padding:.5rem;margin-bottom:.5rem;display:flex;flex-wrap:nowrap;align-items:start;justify-content:space-between;cursor:move}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf>.svelte-bljrxf{margin-right:.5rem;display:block}.content-browser-selected-items.svelte-bljrxf .selected-item button.svelte-bljrxf.svelte-bljrxf{cursor:pointer;padding:0 .375rem .374rem 0}.content-browser-selected-items.svelte-bljrxf .selected-item .item-info.svelte-bljrxf.svelte-bljrxf{display:flex;align-items:start}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf>img.svelte-bljrxf{object-fit:cover;width:95px;height:95px}","",{version:3,sources:["webpack://./node_modules/@plone/mockup/src/pat/contentbrowser/src/SelectedItems.svelte"],names:[],mappings:"AAAA,kFAAA,YAAA,CAAA,iBAAA,CAAA,0EAAA,eAAA,CAAA,kCAAA,CAAA,iEAAA,CAAA,2EAAA,CAAA,iBAAA,CAAA,2BAAA,CAAA,aAAA,CAAA,yFAAA,qCAAA,CAAA,sCAAA,CAAA,2EAAA,CAAA,aAAA,CAAA,mBAAA,CAAA,YAAA,CAAA,gBAAA,CAAA,iBAAA,CAAA,6BAAA,CAAA,WAAA,CAAA,0FAAA,kBAAA,CAAA,aAAA,CAAA,gGAAA,cAAA,CAAA,2BAAA,CAAA,oGAAA,YAAA,CAAA,iBAAA,CAAA,6FAAA,gBAAA,CAAA,UAAA,CAAA,WAAA",sourceRoot:""}]),t.A=l},76314:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",s=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),s&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),s&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,s,r,o){"string"==typeof e&&(e=[[null,e,void 0]]);var l={};if(s)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(l[c]=!0)}for(var a=0;a<e.length;a++){var u=[].concat(e[a]);s&&l[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),t.push(u))}},t}},71354:function(e){"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),o="/*# ".concat(r," */");return[t].concat([o]).join("\n")}return[t].join("\n")}},85072:function(e){"use strict";var t=[];function n(e){for(var n=-1,s=0;s<t.length;s++)if(t[s].identifier===e){n=s;break}return n}function s(e,s){for(var o={},l=[],i=0;i<e.length;i++){var c=e[i],a=s.base?c[0]+s.base:c[0],u=o[a]||0,d="".concat(a," ").concat(u);o[a]=u+1;var A=n(d),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==A)t[A].references++,t[A].updater(p);else{var f=r(p,s);s.byIndex=i,t.splice(i,0,{identifier:d,updater:f,references:1})}l.push(d)}return l}function r(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var o=s(e=e||[],r=r||{});return function(e){e=e||[];for(var l=0;l<o.length;l++){var i=n(o[l]);t[i].references--}for(var c=s(e,r),a=0;a<o.length;a++){var u=n(o[a]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=c}}},10540:function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},55056:function(e,t,n){"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},97825:function(e){"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var s="";n.supports&&(s+="@supports (".concat(n.supports,") {")),n.media&&(s+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(s+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),s+=n.css,r&&(s+="}"),n.media&&(s+="}"),n.supports&&(s+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(s,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},41113:function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},85997:function(e,t,n){"use strict";function s(){}n.r(t),n.d(t,{default:function(){return rn}});const r=e=>e;function o(e){return e()}function l(){return Object.create(null)}function i(e){e.forEach(o)}function c(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let u;function d(e,t){return e===t||(u||(u=document.createElement("a")),u.href=t,e===u.href)}function A(e,...t){if(null==e){for(const e of t)e(void 0);return s}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function p(e){let t;return A(e,(e=>t=e))(),t}function f(e,t,n){e.$$.on_destroy.push(A(t,n))}function m(e,t,n){return e.set(n),t}function b(e){return e&&c(e.destroy)?e.destroy:s}function h(e){const t="string"==typeof e&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const v="undefined"!=typeof window;let g=v?()=>window.performance.now():()=>Date.now(),y=v?e=>requestAnimationFrame(e):s;const $=new Set;function w(e){$.forEach((t=>{t.c(e)||($.delete(t),t.f())})),0!==$.size&&y(w)}function x(e){let t;return 0===$.size&&y(w),{promise:new Promise((n=>{$.add(t={c:e,f:n})})),abort(){$.delete(t)}}}const C="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;class j{_listeners="WeakMap"in C?new WeakMap:void 0;_observer=void 0;options;constructor(e){this.options=e}observe(e,t){return this._listeners.set(e,t),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){return this._observer??(this._observer=new ResizeObserver((e=>{for(const t of e)j.entries.set(t.target,t),this._listeners.get(t.target)?.(t)})))}}j.entries="WeakMap"in C?new WeakMap:void 0;let k=!1;function _(e,t){e.appendChild(t)}function S(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function I(e){const t=B("style");return t.textContent="/* empty */",T(S(e),t),t.sheet}function T(e,t){return _(e.head||e,t),t.sheet}function U(e,t,n){e.insertBefore(t,n||null)}function E(e){e.parentNode&&e.parentNode.removeChild(e)}function B(e){return document.createElement(e)}function D(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function L(e){return document.createTextNode(e)}function P(){return L(" ")}function O(){return L("")}function N(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function q(e){return function(t){return t.preventDefault(),e.call(this,t)}}function z(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function M(e,t){t=""+t,e.data!==t&&(e.data=t)}function R(e,t,n,s){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}const Y=new Map;let W,F=0;function H(e,t,n,s,r,o,l,i=0){const c=16.666/s;let a="{\n";for(let e=0;e<=1;e+=c){const s=t+(n-t)*o(e);a+=100*e+`%{${l(s,1-s)}}\n`}const u=a+`100% {${l(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${i}`,A=S(e),{stylesheet:p,rules:f}=Y.get(A)||function(e,t){const n={stylesheet:I(t),rules:{}};return Y.set(e,n),n}(A,e);f[d]||(f[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${d} ${s}ms linear ${r}ms 1 both`,F+=1,d}function K(e,t){const n=(e.style.animation||"").split(", "),s=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),r=n.length-s.length;r&&(e.style.animation=s.join(", "),F-=r,F||y((()=>{F||(Y.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&E(t)})),Y.clear())})))}function J(e){const t=getComputedStyle(e);if("absolute"!==t.position&&"fixed"!==t.position){const{width:n,height:s}=t,r=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=s,function(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const s=getComputedStyle(e),r="none"===s.transform?"":s.transform;e.style.transform=`${r} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}(e,r)}}function V(e){W=e}function X(){if(!W)throw new Error("Function called outside component initialization");return W}function G(e,t){return X().$$.context.set(e,t),t}function Q(e){return X().$$.context.get(e)}const Z=[],ee=[];let te=[];const ne=[],se=Promise.resolve();let re=!1;function oe(){re||(re=!0,se.then(ue))}function le(e){te.push(e)}const ie=new Set;let ce,ae=0;function ue(){if(0!==ae)return;const e=W;do{try{for(;ae<Z.length;){const e=Z[ae];ae++,V(e),de(e.$$)}}catch(e){throw Z.length=0,ae=0,e}for(V(null),Z.length=0,ae=0;ee.length;)ee.pop()();for(let e=0;e<te.length;e+=1){const t=te[e];ie.has(t)||(ie.add(t),t())}te.length=0}while(Z.length);for(;ne.length;)ne.pop()();re=!1,ie.clear(),V(e)}function de(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(le)}}function Ae(){return ce||(ce=Promise.resolve(),ce.then((()=>{ce=null}))),ce}function pe(e,t,n){e.dispatchEvent(function(e,t,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:s})}(`${t?"intro":"outro"}${n}`))}const fe=new Set;let me;function be(){me={r:0,c:[],p:me}}function he(){me.r||i(me.c),me=me.p}function ve(e,t){e&&e.i&&(fe.delete(e),e.i(t))}function ge(e,t,n,s){if(e&&e.o){if(fe.has(e))return;fe.add(e),me.c.push((()=>{fe.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}else s&&s()}const ye={duration:0};function $e(e,t,n,o){let l,a=t(e,n,{direction:"both"}),u=o?0:1,d=null,A=null,p=null;function f(){p&&K(e,p)}function m(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function b(t){const{delay:n=0,duration:o=300,easing:c=r,tick:b=s,css:h}=a||ye,v={start:g()+n,b:t};t||(v.group=me,me.r+=1),"inert"in e&&(t?void 0!==l&&(e.inert=l):(l=e.inert,e.inert=!0)),d||A?A=v:(h&&(f(),p=H(e,u,t,o,n,c,h)),t&&b(0,1),d=m(v,o),le((()=>pe(e,t,"start"))),x((t=>{if(A&&t>A.start&&(d=m(A,o),A=null,pe(e,d.b,"start"),h&&(f(),p=H(e,u,d.b,d.duration,0,c,a.css))),d)if(t>=d.end)b(u=d.b,1-u),pe(e,d.b,"end"),A||(d.b?f():--d.group.r||i(d.group.c)),d=null;else if(t>=d.start){const e=t-d.start;u=d.a+d.d*c(e/d.duration),b(u,1-u)}return!(!d&&!A)})))}return{run(e){c(a)?Ae().then((()=>{a=a({direction:e?"in":"out"}),b(e)})):b(e)},end(){f(),d=A=null}}}function we(e,t){const n=t.token={};function s(e,s,r,o){if(t.token!==n)return;t.resolved=o;let l=t.ctx;void 0!==r&&(l=l.slice(),l[r]=o);const i=e&&(t.current=e)(l);let c=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==s&&e&&(be(),ge(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),he())})):t.block.d(1),i.c(),ve(i,1),i.m(t.mount(),t.anchor),c=!0),t.block=i,t.blocks&&(t.blocks[s]=i),c&&ue()}if(!(r=e)||"object"!=typeof r&&"function"!=typeof r||"function"!=typeof r.then){if(t.current!==t.then)return s(t.then,1,t.value,e),!0;t.resolved=e}else{const n=X();if(e.then((e=>{V(n),s(t.then,1,t.value,e),V(null)}),(e=>{if(V(n),s(t.catch,2,t.error,e),V(null),!t.hasCatch)throw e})),t.current!==t.pending)return s(t.pending,0),!0}var r}function xe(e){return void 0!==e?.length?e:Array.from(e)}function Ce(e,t){e.d(1),t.delete(e.key)}function je(e,t){e.f(),Ce(e,t)}function ke(e,t,n,s,r,o,l,c,a,u,d,A){let p=e.length,f=o.length,m=p;const b={};for(;m--;)b[e[m].key]=m;const h=[],v=new Map,g=new Map,y=[];for(m=f;m--;){const e=A(r,o,m),i=n(e);let c=l.get(i);c?s&&y.push((()=>c.p(e,t))):(c=u(i,e),c.c()),v.set(i,h[m]=c),i in b&&g.set(i,Math.abs(m-b[i]))}const $=new Set,w=new Set;function x(e){ve(e,1),e.m(c,d),l.set(e.key,e),d=e.first,f--}for(;p&&f;){const t=h[f-1],n=e[p-1],s=t.key,r=n.key;t===n?(d=t.first,p--,f--):v.has(r)?!l.has(s)||$.has(s)?x(t):w.has(r)?p--:g.get(s)>g.get(r)?(w.add(s),x(t)):($.add(r),p--):(a(n,l),p--)}for(;p--;){const t=e[p];v.has(t.key)||a(t,l)}for(;f;)x(h[f-1]);return i(y),h}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);let _e;function Se(e){e&&e.c()}function Ie(e,t,n){const{fragment:s,after_update:r}=e.$$;s&&s.m(t,n),le((()=>{const t=e.$$.on_mount.map(o).filter(c);e.$$.on_destroy?e.$$.on_destroy.push(...t):i(t),e.$$.on_mount=[]})),r.forEach(le)}function Te(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];te.forEach((s=>-1===e.indexOf(s)?t.push(s):n.push(s))),n.forEach((e=>e())),te=t}(n.after_update),i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ue(e,t,n,r,o,c,a=null,u=[-1]){const d=W;V(e);const A=e.$$={fragment:null,ctx:[],props:c,update:s,not_equal:o,bound:l(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:l(),dirty:u,skip_bound:!1,root:t.target||d.$$.root};a&&a(A.root);let p=!1;if(A.ctx=n?n(e,t.props||{},((t,n,...s)=>{const r=s.length?s[0]:n;return A.ctx&&o(A.ctx[t],A.ctx[t]=r)&&(!A.skip_bound&&A.bound[t]&&A.bound[t](r),p&&function(e,t){-1===e.$$.dirty[0]&&(Z.push(e),oe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],A.update(),p=!0,i(A.before_update),A.fragment=!!r&&r(A.ctx),t.target){if(t.hydrate){k=!0;const e=(f=t.target,Array.from(f.childNodes));A.fragment&&A.fragment.l(e),e.forEach(E)}else A.fragment&&A.fragment.c();t.intro&&ve(e.$$.fragment),Ie(e,t.target,t.anchor),k=!1,ue()}var f;V(d)}function Ee(e,t,n,s){const r=n[e]?.type;if(t="Boolean"===r&&"boolean"!=typeof t?null!=t:t,!s||!n[e])return t;if("toAttribute"===s)switch(r){case"Object":case"Array":return null==t?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return null==t?null:t;default:return t}else switch(r){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":default:return t;case"Number":return null!=t?+t:t}}"function"==typeof HTMLElement&&(_e=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=!1;$$d={};$$r=!1;$$p_d={};$$l={};$$l_u=new Map;constructor(e,t,n){super(),this.$$ctor=e,this.$$s=t,n&&this.attachShadow({mode:"open"})}addEventListener(e,t,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){const n=this.$$c.$on(e,t);this.$$l_u.set(t,n)}super.addEventListener(e,t,n)}removeEventListener(e,t,n){if(super.removeEventListener(e,t,n),this.$$c){const e=this.$$l_u.get(t);e&&(e(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){if(await Promise.resolve(),!this.$$cn||this.$$c)return;function e(e){return()=>{let t;return{c:function(){t=B("slot"),"default"!==e&&z(t,"name",e)},m:function(e,n){U(e,t,n)},d:function(e){e&&E(t)}}}}const t={},n=function(e){const t={};return e.childNodes.forEach((e=>{t[e.slot||"default"]=!0})),t}(this);for(const r of this.$$s)r in n&&(t[r]=[e(r)]);for(const o of this.attributes){const l=this.$$g_p(o.name);l in this.$$d||(this.$$d[l]=Ee(l,o.value,this.$$p_d,"toProp"))}for(const i in this.$$p_d)i in this.$$d||void 0===this[i]||(this.$$d[i]=this[i],delete this[i]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$scope:{ctx:[]}}});const s=()=>{this.$$r=!0;for(const e in this.$$p_d)if(this.$$d[e]=this.$$c.$$.ctx[this.$$c.$$.props[e]],this.$$p_d[e].reflect){const t=Ee(e,this.$$d[e],this.$$p_d,"toAttribute");null==t?this.removeAttribute(this.$$p_d[e].attribute||e):this.setAttribute(this.$$p_d[e].attribute||e,t)}this.$$r=!1};this.$$c.$$.after_update.push(s),s();for(const c in this.$$l)for(const a of this.$$l[c]){const u=this.$$c.$on(c,a);this.$$l_u.set(a,u)}this.$$l={}}}attributeChangedCallback(e,t,n){this.$$r||(e=this.$$g_p(e),this.$$d[e]=Ee(e,n,this.$$p_d,"toProp"),this.$$c?.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then((()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$c=void 0)}))}$$g_p(e){return Object.keys(this.$$p_d).find((t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e))||e}});class Be{$$=void 0;$$set=void 0;$destroy(){Te(this,1),this.$destroy=s}$on(e,t){if(!c(t))return s;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");var De=n(23505),Le=n(8633);function Pe(e){const t=e-1;return t*t*t+1}var Oe={$(e){return"string"==typeof e?document.querySelector(e):e},extend(...e){return Object.assign(...e)},cumulativeOffset(e){let t=0,n=0;do{t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:n}},directScroll(e){return e&&e!==document&&e!==document.body},scrollTop(e,t){let n=void 0!==t;return this.directScroll(e)?n?e.scrollTop=t:e.scrollTop:n?document.documentElement.scrollTop=document.body.scrollTop=t:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},scrollLeft(e,t){let n=void 0!==t;return this.directScroll(e)?n?e.scrollLeft=t:e.scrollLeft:n?document.documentElement.scrollLeft=document.body.scrollLeft=t:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0}};const Ne={container:"body",duration:500,delay:0,offset:0,easing:function(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1},onStart:s,onDone:s,onAborting:s,scrollX:!1,scrollY:!0},qe=e=>{let{offset:t,duration:n,delay:s,easing:r,x:o=0,y:l=0,scrollX:i,scrollY:c,onStart:a,onDone:u,container:d,onAborting:A,element:p}=e;"function"==typeof t&&(t=t());var f=Oe.cumulativeOffset(d),m=p?Oe.cumulativeOffset(p):{top:l,left:o},b=Oe.scrollLeft(d),h=Oe.scrollTop(d),v=m.left-f.left+t,y=m.top-f.top+t,$=v-b,w=y-h;let C=!0,j=!1,k=g()+s,_=k+n;function S(e){e||(j=!0,a(p,{x:o,y:l}))}function I(e){!function(e,t,n){i&&Oe.scrollLeft(e,n),c&&Oe.scrollTop(e,t)}(d,h+w*e,b+$*e)}function T(){C=!1}return x((e=>{if(!j&&e>=k&&S(!1),j&&e>=_&&(I(1),T(),u(p,{x:o,y:l})),!C)return A(p,{x:o,y:l}),!1;if(j){I(0+1*r((e-k)/n))}return!0})),S(s),I(0),T},ze=e=>{let t=Oe.extend({},Ne,e);return t.container=Oe.$(t.container),t.element=Oe.$(t.element),t},Me=e=>{if(e&&e!==document&&e!==document.body)return e.scrollHeight-e.offsetHeight;{let e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}},Re=e=>qe(ze(e)),Ye=e=>(t,n)=>{let s=n;const r=t=>{t.preventDefault(),e("string"==typeof s?{element:s}:s)};return t.addEventListener("click",r),t.addEventListener("touchstart",r),{update(e){s=e},destroy(){t.removeEventListener("click",r),t.removeEventListener("touchstart",r)}}};Ye(Re),Ye((e=>(e=ze(e),qe(Oe.extend(e,{element:null,y:0}))))),Ye((e=>(e=ze(e),qe(Oe.extend(e,{element:null,y:Me(e.container)})))));function We(e,{delay:t=0,duration:n=400,easing:s=Pe,x:r=0,y:o=0,opacity:l=0}={}){const i=getComputedStyle(e),c=+i.opacity,a="none"===i.transform?"":i.transform,u=c*(1-l),[d,A]=h(r),[p,f]=h(o);return{delay:t,duration:n,easing:s,css:(e,t)=>`\n\t\t\ttransform: ${a} translate(${(1-e)*d}${A}, ${(1-e)*p}${f});\n\t\t\topacity: ${c-u*t}`}}var Fe=n(20681),He=n(98146);const Ke=[];function Je(e,t=s){let n;const r=new Set;function o(t){if(a(e,t)&&(e=t,n)){const t=!Ke.length;for(const t of r)t[1](),Ke.push(t,e);if(t){for(let e=0;e<Ke.length;e+=2)Ke[e][0](Ke[e+1]);Ke.length=0}}}function l(t){o(t(e))}return{set:o,update:l,subscribe:function(i,c=s){const a=[i,c];return r.add(a),1===r.size&&(n=t(o,l)||s),i(e),()=>{r.delete(a),0===r.size&&n&&(n(),n=null)}}}}var Ve=n(59994);async function Xe(e){let{method:t="GET",vocabularyUrl:n=null,attributes:s=[],path:r=null,uids:o=null,searchTerm:l=null,searchPath:i=null,levelInfoPath:c=null,selectableTypes:a=[],pageSize:u=100,page:d=1}=e,A={criteria:[]};if(r&&(A={criteria:[{i:"path",o:"plone.app.querystring.operation.string.path",v:`${r}::1`}],sort_on:"getObjPositionInParent",sort_order:"ascending"}),c&&(A={criteria:[{i:"path",o:"plone.app.querystring.operation.string.path",v:`${c}::0`}]}),i&&(A={criteria:[{i:"path",o:"plone.app.querystring.operation.string.path",v:i}]},a&&A.criteria.push({i:"portal_type",o:"plone.app.querystring.operation.list.contains",v:a})),o&&(A={criteria:[{i:"UID",o:"plone.app.querystring.operation.list.contains",v:o}]}),l&&A.criteria.push({i:"SearchableText",o:"plone.app.querystring.operation.string.contains",v:`${l}`}),!A.criteria.length)return{results:[],total:0};console.log(A);let p=`${n}&query=${JSON.stringify(A)}&attributes=${JSON.stringify(s)}&batch=${JSON.stringify({page:d,size:u})}`,f=new Headers;f.set("Accept","application/json");const m=await fetch(p,{method:t,headers:f}),b=await m.json();if(m.ok){if(!i&&!c&&a.length){const e={results:[],total:b.total};for(const t of b.results)(-1!=a.indexOf(t.portal_type)||t.is_folderish)&&e.results.push(t);return e}return b}return{results:[],total:0,errors:b.errors}}async function Ge(e,t){if(!e)return[];const n=await Xe({vocabularyUrl:t.vocabularyUrl,attributes:t.attributes,uids:e});let s=await(n?.results)||[];return s.sort(((t,n)=>e.indexOf(t.UID)-e.indexOf(n.UID))),s}async function Qe(e,t){let{iconName:n}=t;const s=await async function(e){return await Ve.A.resolveIcon(e)}(n);return e.outerHTML=s,{destroy(){}}}function Ze(e){const t=t=>{e&&!e.contains(t.target)&&e.dispatchEvent(new CustomEvent("click_outside",e))};return document.addEventListener("click",t,!0),{destroy(){document.removeEventListener("click",t,!0)}}}function et(e,t){const n=Je([]),s=async t=>(t={...{vocabularyUrl:e.vocabularyUrl,attributes:e.attributes,pageSize:e.pageSize},...t},e.selectableTypes.length&&(t.selectableTypes=e.selectableTypes),await Xe(t));return n.get=async r=>{let{path:o="",searchTerm:l="",updateCache:i=!1,loadMorePath:c="",page:a=1}=r;const u=new URL(e.base_url).pathname;if("search"===e.mode)await(async(t,r,o)=>{let l={searchPath:t,page:o};r&&(l.searchTerm="*"+r+"*");let i=await s(l);i.page=o,i.searchTerm=r,n.update((t=>{const n=o*e.pageSize<i.total;return 0==t.length||t[0].searchTerm!=r?(i.more=n,i.selectable=!1,i.gridView=!1,[i]):(t[0].more=n,t[0].page=i.page,t[0].results=[...t[0].results,...i.results],t)}))})(u,l,a);else if(c){const r=p(t);if(!(c in r))return;let o=r[c];a>o.page&&await(async(t,r,o)=>{let l={path:t,page:r};o&&(l.searchTerm="*"+o+"*");let i=await s(l);i.more=r*e.pageSize<i.total,i.page=r,n.update((e=>(e.forEach((e=>{if(e.path!=t)return e;e.page=i.page,e.more=i.more,e.results=[...e.results,...i.results]})),e)))})(c,a,o.searchTerm)}else o&&(o=o.replace(new RegExp(`^${u}`),""),await(async(r,o,l,i)=>{let c=[],a=o.split("/")||[];const u=a.length>=e.maxDepth?e.maxDepth:a.length;let d=a.slice(a.length-u,a.length);const A=r+a.slice(0,a.length-u).join("/"),f=p(t);for(;d.length>0;){let e=d.join("/").replace(/^\//,"");e=A+(""!=d.pop()?`/${e}`:""),-1===c.indexOf(e)&&c.push(e)}let m=[],b=0;for(var h of c){b++;const n=1==b;let o={};if(!(h in f)||n&&l||i){let i={path:h};if(n&&l&&(i.searchTerm="*"+l+"*"),o=await s(i),o.more=e.pageSize<o.total,o.searchTerm=l,o.page=1,o.path=h,o.absPath=h.replace(r,""),!l){const n=await s({levelInfoPath:h});n.total&&(o.UID=n.results[0].UID,o.Title=n.results[0].Title,o.selectable=!e.selectableTypes.length||-1!=e.selectableTypes.indexOf(n.results[0].portal_type)),o.gridView=!1,t.update((e=>(e[h]=o,e)))}}else o=f[h];m=[o,...m]}n.set(m)})(u,o,l,i))},n}var tt=n(85072),nt=n.n(tt),st=n(97825),rt=n.n(st),ot=n(57722),lt=n.n(ot),it=n(55056),ct=n.n(it),at=n(10540),ut=n.n(at),dt=n(41113),At=n.n(dt),pt=n(32),ft={};ft.styleTagTransform=At(),ft.setAttributes=ct(),ft.insert=lt(),ft.domAPI=rt(),ft.insertStyleElement=ut();nt()(pt.A,ft),pt.A&&pt.A.locals&&pt.A.locals;function mt(e,t,n){const s=e.slice();return s[46]=t[n],s[47]=t,s[48]=n,s}function bt(e,t,n){const s=e.slice();return s[49]=t[n],s[51]=n,s}function ht(e){let t,n,s,r,o,l,c,a,u,d,A,p,f,m,h,v,g,y,$,w,x,C=e[6].uploadEnabled&&vt(e),j={ctx:e,current:null,token:null,hasCatch:!0,pending:qt,then:yt,catch:gt,value:45,error:52};return we(v=e[1],j),{c(){t=B("div"),n=B("nav"),s=B("div"),r=B("div"),o=B("input"),l=P(),c=B("label"),a=D("svg"),d=P(),C&&C.c(),A=P(),p=B("button"),f=D("svg"),h=P(),j.block.c(),z(o,"type","text"),z(o,"name","filter"),z(c,"for","filter"),z(r,"class","filter"),z(p,"class","btn btn-link text-white"),z(p,"tabindex","0"),z(s,"class","toolBar navbar svelte-1nidsbj"),z(n,"class","content-browser svelte-1nidsbj"),z(t,"class","content-browser-position-wrapper svelte-1nidsbj")},m(i,v){U(i,t,v),_(t,n),_(n,s),_(s,r),_(r,o),_(r,l),_(r,c),_(c,a),_(s,d),C&&C.m(s,null),_(s,A),_(s,p),_(p,f),_(n,h),j.block.m(n,j.anchor=null),j.mount=()=>n,j.anchor=null,$=!0,w||(x=[N(o,"input",e[26]),b(u=Qe.call(null,a,{iconName:"search"})),b(m=Qe.call(null,f,{iconName:"x-circle"})),N(p,"click",q(e[28])),N(n,"introend",e[37]),b(g=Ze.call(null,n)),N(n,"click_outside",e[22])],w=!0)},p(t,n){(e=t)[6].uploadEnabled?C?C.p(e,n):(C=vt(e),C.c(),C.m(s,A)):C&&(C.d(1),C=null),j.ctx=e,2&n[0]&&v!==(v=e[1])&&we(v,j)||function(e,t,n){const s=t.slice(),{resolved:r}=e;e.current===e.then&&(s[e.value]=r),e.current===e.catch&&(s[e.error]=r),e.block.p(s,n)}(j,e,n)},i(t){$||(t&&le((()=>{$&&(y||(y=$e(n,We,{x:e[14]/100*94,opacity:1},!0)),y.run(1))})),$=!0)},o(t){t&&(y||(y=$e(n,We,{x:e[14]/100*94,opacity:1},!1)),y.run(0)),$=!1},d(e){e&&E(t),C&&C.d(),j.block.d(),j.token=null,j=null,e&&y&&y.end(),w=!1,i(x)}}}function vt(e){let t,n,s,r,o,l,c,a=(0,Fe.Ay)("upload to ${current_path}",{current_path:e[2]})+"";return{c(){t=B("button"),n=D("svg"),r=P(),o=L(a),z(t,"type","button"),z(t,"class","upload btn btn-secondary btn-sm svelte-1nidsbj"),z(t,"tabindex","0")},m(i,a){U(i,t,a),_(t,n),_(t,r),_(t,o),l||(c=[b(s=Qe.call(null,n,{iconName:"upload"})),N(t,"keydown",e[15]),N(t,"click",e[15])],l=!0)},p(e,t){4&t[0]&&a!==(a=(0,Fe.Ay)("upload to ${current_path}",{current_path:e[2]})+"")&&M(o,a)},d(e){e&&E(t),l=!1,i(c)}}}function gt(e){let t,n,s=e[52].message+"";return{c(){t=B("p"),n=L(s),R(t,"color","red")},m(e,s){U(e,t,s),_(t,n)},p(e,t){2&t[0]&&s!==(s=e[52].message+"")&&M(n,s)},d(e){e&&E(t)}}}function yt(e){let t,n,s,r,o=[],l=new Map,i=xe(e[45]);const c=e=>e[46].path;for(let t=0;t<i.length;t+=1){let n=mt(e,i,t),s=c(n);l.set(s,o[t]=Bt(s,n))}let a=e[5]?.UID&&1==e[0].length&&Dt(e),u=e[0].length>1&&Ot(e),d=e[4]&&Nt(e);return{c(){t=B("div");for(let e=0;e<o.length;e+=1)o[e].c();n=P(),a&&a.c(),s=P(),u&&u.c(),r=P(),d&&d.c(),z(t,"class","levelColumns svelte-1nidsbj")},m(e,l){U(e,t,l);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null);_(t,n),a&&a.m(t,null),_(t,s),u&&u.m(t,null),_(t,r),d&&d.m(t,null)},p(e,A){43712579&A[0]&&(i=xe(e[45]),o=ke(o,A,c,1,e,i,l,t,Ce,Bt,n,mt)),e[5]?.UID&&1==e[0].length?a?a.p(e,A):(a=Dt(e),a.c(),a.m(t,s)):a&&(a.d(1),a=null),e[0].length>1?u?u.p(e,A):(u=Ot(e),u.c(),u.m(t,r)):u&&(u.d(1),u=null),e[4]?d||(d=Nt(e),d.c(),d.m(t,null)):d&&(d.d(1),d=null)},d(e){e&&E(t);for(let e=0;e<o.length;e+=1)o[e].d();a&&a.d(),u&&u.d(),d&&d.d()}}}function $t(e){let t,n,r,o,l;return{c(){t=B("button"),n=D("svg"),z(t,"type","button"),z(t,"class","btn btn-link btn-xs ps-0 svelte-1nidsbj"),z(t,"tabindex","0")},m(s,i){U(s,t,i),_(t,n),o||(l=[b(r=Qe.call(null,n,{iconName:"house"})),N(t,"keydown",e[29]),N(t,"click",e[30])],o=!0)},p:s,d(e){e&&E(t),o=!1,i(l)}}}function wt(e){let t,n,s,r,o,l=(0,Fe.Ay)("select ${level_path}",{level_path:e[46].absPath||"/"})+"";function i(){return e[31](e[46])}return{c(){t=B("button"),n=L(l),z(t,"class","btn btn-primary btn-xs svelte-1nidsbj"),t.disabled=s=!e[23](e[46])},m(e,s){U(e,t,s),_(t,n),r||(o=N(t,"click",q(i)),r=!0)},p(r,o){e=r,2&o[0]&&l!==(l=(0,Fe.Ay)("select ${level_path}",{level_path:e[46].absPath||"/"})+"")&&M(n,l),2&o[0]&&s!==(s=!e[23](e[46]))&&(t.disabled=s)},d(e){e&&E(t),r=!1,o()}}}function xt(e){let t,n,s,r,o;function l(){return e[33](e[46],e[47],e[48])}return{c(){t=B("button"),n=D("svg"),z(t,"class","btn btn-link btn-xs grid-view svelte-1nidsbj")},m(e,i){U(e,t,i),_(t,n),r||(o=[b(s=Qe.call(null,n,{iconName:"list"})),N(t,"click",l)],r=!0)},p(t,n){e=t},d(e){e&&E(t),r=!1,i(o)}}}function Ct(e){let t,n,s,r,o;function l(){return e[32](e[46],e[47],e[48])}return{c(){t=B("button"),n=D("svg"),z(t,"class","btn btn-link btn-xs grid-view svelte-1nidsbj")},m(e,i){U(e,t,i),_(t,n),r||(o=[b(s=Qe.call(null,n,{iconName:"grid"})),N(t,"click",l)],r=!0)},p(t,n){e=t},d(e){e&&E(t),r=!1,i(o)}}}function jt(e){let t,n,s,r,o,l,i,a,u=e[49].Title+"";return{c(){t=B("div"),n=D("svg"),r=P(),o=L(u),z(t,"class","item-title svelte-1nidsbj"),z(t,"title",l=e[49].portal_type+": "+e[49].Title)},m(l,c){U(l,t,c),_(t,n),_(t,r),_(t,o),i||(a=b(s=Qe.call(null,n,{iconName:`contenttype/${e[49].portal_type.toLowerCase().replace(/\.| /g,"-")}`})),i=!0)},p(n,r){e=n,s&&c(s.update)&&2&r[0]&&s.update.call(null,{iconName:`contenttype/${e[49].portal_type.toLowerCase().replace(/\.| /g,"-")}`}),2&r[0]&&u!==(u=e[49].Title+"")&&M(o,u),2&r[0]&&l!==(l=e[49].portal_type+": "+e[49].Title)&&z(t,"title",l)},d(e){e&&E(t),i=!1,a()}}}function kt(e){let t,n,s,r=e[49].Title+"";function o(e,t){return e[49].getIcon?St:_t}let l=o(e),i=l(e);return{c(){t=B("div"),i.c(),n=P(),s=L(r),z(t,"class","grid-preview svelte-1nidsbj")},m(e,r){U(e,t,r),i.m(t,null),_(t,n),_(t,s)},p(e,c){l===(l=o(e))&&i?i.p(e,c):(i.d(1),i=l(e),i&&(i.c(),i.m(t,n))),2&c[0]&&r!==(r=e[49].Title+"")&&M(s,r)},d(e){e&&E(t),i.d()}}}function _t(e){let t,n,s,r;return{c(){t=D("svg")},m(o,l){U(o,t,l),s||(r=b(n=Qe.call(null,t,{iconName:`contenttype/${e[49].portal_type.toLowerCase().replace(/\.| /g,"-")}`})),s=!0)},p(t,s){e=t,n&&c(n.update)&&2&s[0]&&n.update.call(null,{iconName:`contenttype/${e[49].portal_type.toLowerCase().replace(/\.| /g,"-")}`})},d(e){e&&E(t),s=!1,r()}}}function St(e){let t,n,s;return{c(){t=B("img"),d(t.src,n=`${e[49].getURL}/@@images/image/thumb`)||z(t,"src",n),z(t,"alt",s=e[49].Title),z(t,"class","svelte-1nidsbj")},m(e,n){U(e,t,n)},p(e,r){2&r[0]&&!d(t.src,n=`${e[49].getURL}/@@images/image/thumb`)&&z(t,"src",n),2&r[0]&&s!==(s=e[49].Title)&&z(t,"alt",s)},d(e){e&&E(t)}}}function It(e){let t,n,s,r,o;return{c(){t=B("div"),n=D("svg"),z(t,"class","browseSub svelte-1nidsbj")},m(e,l){U(e,t,l),_(t,n),r||(o=b(s=Qe.call(null,n,{iconName:"arrow-right-circle"})),r=!0)},d(e){e&&E(t),r=!1,o()}}}function Tt(e){let t,n,s,r,o,l,c;function a(e,t){return e[46].gridView?kt:jt}let u=a(e),d=u(e),A=e[49].is_folderish&&"browse"==e[6].mode&&It();function p(...t){return e[34](e[49],...t)}function f(...t){return e[35](e[49],...t)}return{c(){t=B("div"),d.c(),n=P(),A&&A.c(),z(t,"class",s="contentItem"+(e[51]%2==0?" odd":" even")+(e[25](e[49])?" inPath":"")+(-1!=e[0].indexOf(e[49].UID)?" selectedItem":"")+(e[23](e[49])?"":" text-muted")+" svelte-1nidsbj"),z(t,"role","button"),z(t,"tabindex",r=e[51]),z(t,"data-uuid",o=e[49].UID)},m(e,s){U(e,t,s),d.m(t,null),_(t,n),A&&A.m(t,null),l||(c=[N(t,"keydown",q(p)),N(t,"click",f)],l=!0)},p(r,l){u===(u=a(e=r))&&d?d.p(e,l):(d.d(1),d=u(e),d&&(d.c(),d.m(t,n))),e[49].is_folderish&&"browse"==e[6].mode?A||(A=It(),A.c(),A.m(t,null)):A&&(A.d(1),A=null),3&l[0]&&s!==(s="contentItem"+(e[51]%2==0?" odd":" even")+(e[25](e[49])?" inPath":"")+(-1!=e[0].indexOf(e[49].UID)?" selectedItem":"")+(e[23](e[49])?"":" text-muted")+" svelte-1nidsbj")&&z(t,"class",s),2&l[0]&&o!==(o=e[49].UID)&&z(t,"data-uuid",o)},d(e){e&&E(t),d.d(),A&&A.d(),l=!1,i(c)}}}function Ut(e){let t,n,s,r,o,l,i;return{c(){t=B("div"),n=B("div"),z(n,"class","spinner-border"),z(n,"role","status"),z(t,"class","loadmore svelte-1nidsbj"),z(t,"data-level-path",s=e[46].path),z(t,"data-level-next-page",r=parseInt(e[46].page)+1)},m(s,r){U(s,t,r),_(t,n),l||(i=b(o=e[27].call(null,t)),l=!0)},p(e,n){2&n[0]&&s!==(s=e[46].path)&&z(t,"data-level-path",s),2&n[0]&&r!==(r=parseInt(e[46].page)+1)&&z(t,"data-level-next-page",r)},d(e){e&&E(t),l=!1,i()}}}function Et(e){let t,n;return{c(){t=B("div"),n=B("p"),n.textContent=`${(0,Fe.Ay)("no results found")}`,z(n,"class","svelte-1nidsbj"),z(t,"class","contentItem svelte-1nidsbj")},m(e,s){U(e,t,s),_(t,n)},d(e){e&&E(t)}}}function Bt(e,t){let n,o,l,i,a,u,d,A,p,f,m,b=0==t[48]&&$t(t),h=t[46].selectable&&wt(t);function v(e,t){return e[46].gridView?xt:Ct}let y=v(t),$=y(t),w=xe(t[46].results||[]),C=[];for(let e=0;e<w.length;e+=1)C[e]=Tt(bt(t,w,e));let j=t[46].more&&Ut(t),k=0==t[46].total&&Et();return{key:e,first:null,c(){n=B("div"),o=B("div"),b&&b.c(),l=P(),h&&h.c(),i=P(),a=B("div"),$.c(),u=P(),d=B("div");for(let e=0;e<C.length;e+=1)C[e].c();A=P(),j&&j.c(),p=P(),k&&k.c(),z(a,"class","levelActions svelte-1nidsbj"),z(o,"class","levelToolbar svelte-1nidsbj"),z(d,"class","levelItems svelte-1nidsbj"),z(n,"class",f="levelColumn"+(t[48]%2==0?" odd":" even")+" svelte-1nidsbj"),this.first=n},m(e,t){U(e,n,t),_(n,o),b&&b.m(o,null),_(o,l),h&&h.m(o,null),_(o,i),_(o,a),$.m(a,null),_(n,u),_(n,d);for(let e=0;e<C.length;e+=1)C[e]&&C[e].m(d,null);_(d,A),j&&j.m(d,null),_(d,p),k&&k.m(d,null)},p(e,s){if(0==(t=e)[48]?b?b.p(t,s):(b=$t(t),b.c(),b.m(o,l)):b&&(b.d(1),b=null),t[46].selectable?h?h.p(t,s):(h=wt(t),h.c(),h.m(o,i)):h&&(h.d(1),h=null),y===(y=v(t))&&$?$.p(t,s):($.d(1),$=y(t),$&&($.c(),$.m(a,null))),42598467&s[0]){let e;for(w=xe(t[46].results||[]),e=0;e<w.length;e+=1){const n=bt(t,w,e);C[e]?C[e].p(n,s):(C[e]=Tt(n),C[e].c(),C[e].m(d,A))}for(;e<C.length;e+=1)C[e].d(1);C.length=w.length}t[46].more?j?j.p(t,s):(j=Ut(t),j.c(),j.m(d,p)):j&&(j.d(1),j=null),0==t[46].total?k||(k=Et(),k.c(),k.m(d,null)):k&&(k.d(1),k=null),2&s[0]&&f!==(f="levelColumn"+(t[48]%2==0?" odd":" even")+" svelte-1nidsbj")&&z(n,"class",f)},i(e){e&&(m||le((()=>{m=function(e,t,n){const o={direction:"in"};let l,i,a=t(e,n,o),u=!1,d=0;function A(){l&&K(e,l)}function p(){const{delay:t=0,duration:n=300,easing:o=r,tick:c=s,css:p}=a||ye;p&&(l=H(e,0,1,n,t,o,p,d++)),c(0,1);const f=g()+t,m=f+n;i&&i.abort(),u=!0,le((()=>pe(e,!0,"start"))),i=x((t=>{if(u){if(t>=m)return c(1,0),pe(e,!0,"end"),A(),u=!1;if(t>=f){const e=o((t-f)/n);c(e,1-e)}}return u}))}let f=!1;return{start(){f||(f=!0,K(e),c(a)?(a=a(o),Ae().then(p)):p())},invalidate(){f=!1},end(){u&&(A(),u=!1)}}}(n,We,{duration:300}),m.start()})))},o:s,d(e){e&&E(n),b&&b.d(),h&&h.d(),$.d(),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(C,e),j&&j.d(),k&&k.d()}}}function Dt(e){let t,n,s,r,o,l,i,c,a,u,d,A,p,f,m,b=(0,Fe.Ay)("select ${preview_path}",{preview_path:e[5].path.split("/").pop()})+"",h=e[5].Title+"",v=e[5].Description+"";function g(e,t){return e[5].getIcon?Pt:Lt}let y=g(e),$=y(e);return{c(){t=B("div"),n=B("div"),s=B("button"),r=L(b),l=P(),i=B("div"),$.c(),c=P(),a=B("h4"),u=L(h),d=P(),A=B("p"),p=L(v),z(s,"class","btn btn-primary btn-xs svelte-1nidsbj"),s.disabled=o=!e[23](e[5]),z(n,"class","levelToolbar svelte-1nidsbj"),z(a,"class","svelte-1nidsbj"),z(i,"class","info svelte-1nidsbj"),z(t,"class","preview svelte-1nidsbj")},m(o,b){U(o,t,b),_(t,n),_(n,s),_(s,r),_(t,l),_(t,i),$.m(i,null),_(i,c),_(i,a),_(a,u),_(i,d),_(i,A),_(A,p),f||(m=N(s,"click",q(e[36])),f=!0)},p(e,t){32&t[0]&&b!==(b=(0,Fe.Ay)("select ${preview_path}",{preview_path:e[5].path.split("/").pop()})+"")&&M(r,b),32&t[0]&&o!==(o=!e[23](e[5]))&&(s.disabled=o),y===(y=g(e))&&$?$.p(e,t):($.d(1),$=y(e),$&&($.c(),$.m(i,c))),32&t[0]&&h!==(h=e[5].Title+"")&&M(u,h),32&t[0]&&v!==(v=e[5].Description+"")&&M(p,v)},d(e){e&&E(t),$.d(),f=!1,m()}}}function Lt(e){let t,n,s,r,o;return{c(){t=B("div"),n=D("svg"),z(n,"class","svelte-1nidsbj"),z(t,"class","previewIcon svelte-1nidsbj")},m(l,i){U(l,t,i),_(t,n),r||(o=b(s=Qe.call(null,n,{iconName:`contenttype/${e[5].portal_type.toLowerCase().replace(/\.| /g,"-")}`})),r=!0)},p(e,t){s&&c(s.update)&&32&t[0]&&s.update.call(null,{iconName:`contenttype/${e[5].portal_type.toLowerCase().replace(/\.| /g,"-")}`})},d(e){e&&E(t),r=!1,o()}}}function Pt(e){let t,n,s,r;return{c(){t=B("div"),n=B("img"),d(n.src,s=e[5].getURL+"/@@images/image/preview")||z(n,"src",s),z(n,"alt",r=e[5].Title),z(n,"class","svelte-1nidsbj"),z(t,"class","previewImage")},m(e,s){U(e,t,s),_(t,n)},p(e,t){32&t[0]&&!d(n.src,s=e[5].getURL+"/@@images/image/preview")&&z(n,"src",s),32&t[0]&&r!==(r=e[5].Title)&&z(n,"alt",r)},d(e){e&&E(t)}}}function Ot(e){let t,n,r,o,l,c,a,u,d;return{c(){t=B("div"),n=B("div"),r=B("button"),r.textContent=`${(0,Fe.Ay)("add selected items")}`,o=P(),l=B("div"),c=D("svg"),z(r,"class","btn btn-primary btn-xs svelte-1nidsbj"),z(n,"class","levelToolbar svelte-1nidsbj"),z(c,"class","svelte-1nidsbj"),z(l,"class","info svelte-1nidsbj"),z(t,"class","preview svelte-1nidsbj")},m(s,i){U(s,t,i),_(t,n),_(n,r),_(t,o),_(t,l),_(l,c),u||(d=[N(r,"click",q(e[21])),b(a=Qe.call(null,c,{iconName:"files"}))],u=!0)},p:s,d(e){e&&E(t),u=!1,i(d)}}}function Nt(e){let t;return{c(){t=B("div"),z(t,"class","upload-wrapper svelte-1nidsbj")},m(e,n){U(e,t,n)},d(e){e&&E(t)}}}function qt(e){let t;return{c(){t=B("p"),t.textContent=`${(0,Fe.Ay)("loading content items")}`},m(e,n){U(e,t,n)},p:s,d(e){e&&E(t)}}}function zt(e){let t,n=e[3]&&ht(e);return{c(){n&&n.c(),t=O()},m(e,s){n&&n.m(e,s),U(e,t,s)},p(e,s){e[3]?n?(n.p(e,s),8&s[0]&&ve(n,1)):(n=ht(e),n.c(),ve(n,1),n.m(t.parentNode,t)):n&&(be(),ge(n,1,1,(()=>{n=null})),he())},i(e){ve(n)},o(e){ge(n)},d(e){e&&E(t),n&&n.d(e)}}}function Mt(e,t,n){let s,r,o,l,i,c,a;(e=>{Oe.extend(Ne,e||{})})({scrollX:!0,container:".levelColumns",duration:500});const u=Q("currentPath");f(e,u,(e=>n(2,o=e)));const d=Q("config");f(e,d,(e=>n(6,a=e)));const A=Q("pathCache"),p=Q("showContentBrowser");f(e,p,(e=>n(3,l=e)));const b=Q("selectedItems");f(e,b,(e=>n(41,c=e)));const h=Q("selectedUids");f(e,h,(e=>n(40,i=e)));const v=Q("previewUids");f(e,v,(e=>n(0,s=e)));const g=et(a,A);f(e,g,(e=>n(1,r=e)));let y=!1,$={},w=!1,x=!1,C=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);function j({data:e=null,uuid:t=null,action:r="show"}){if(e&&"show"==r)n(5,$=e),m(v,s=[e.UID],s);else if(t&&"add"==r&&-1===s.indexOf(t)){if(a.maximumSelectionSize>0&&s.length>=a.maximumSelectionSize)return;m(v,s=[...s,t],s)}else t&&"remove"==r&&-1!==s.indexOf(t)?v.update((e=>(e.splice(e.indexOf(t),1),e))):"clear"==r&&(n(5,$={}),m(v,s=[],s))}function k(e,t){n(4,y=!1),j({action:"clear"}),"/"!==e?function(e){if("search"==a.mode)j({data:e});else if(e.is_folderish)u.set(e.path);else{const t=e.path.split("/"),n=t.slice(0,t.length-1).join("/");u.set(n||"/"),j({data:e})}D()}(e):u.set(e)}function _(e,t){w||(w=!0);const n=t.currentTarget.closest(".levelItems"),r=n.querySelectorAll(".selectedItem");if(r.length)if(x||t?.shiftKey){let t=!1;for(const s of n.children){if(-1!==[e.UID,$.UID].indexOf(s.dataset.uuid)){if(t){j({uuid:s.dataset.uuid,action:"add"}),t=!1;continue}t=!0}j({uuid:s.dataset.uuid,action:t?"add":"remove"})}}else t?.metaKey||t?.ctrlKey?j({uuid:e.UID,action:-1==s.indexOf(e.UID)?"add":"remove"}):([...r].map((e=>e.classList.remove("selectedItem"))),k(e));else k(e);t.currentTarget.focus(),t.currentTarget.classList.add("selectedItem")}function S(){if(w)return;const e=[...document.querySelectorAll(".levelColumn .inPath"),...document.querySelectorAll(".levelColumn .selectedItem"),document.querySelector(".levelColumn .contentItem")];e.length&&(w=!0,e[0].focus())}function I(e,t){const n=t.currentTarget;if(x=t.shiftKey,"Escape"==t.key&&E(),"ArrowDown"==t.key&&n?.nextElementSibling?.classList.contains("contentItem")&&n.nextElementSibling.click(),"ArrowUp"==t.key&&n?.previousElementSibling?.classList.contains("contentItem")&&n.previousElementSibling.click(),"ArrowRight"==t.key){const e=t.target.closest(".levelColumn"),n=e?.nextElementSibling;if(!n||!n.classList.contains("levelColumn"))return;n.querySelector(".contentItem")?.click()}if("ArrowLeft"==t.key){const e=t.target.closest(".levelColumn"),n=e?.previousElementSibling;if(!n||!n.classList.contains("levelColumn"))return;n.querySelector(".inPath").click()}"Space"==t.key&&_(e,t),"Enter"==t.key&&B(e)&&U()}async function T(e){b.update((t=>[...t,e])),h.update((()=>c.map((e=>e.UID)))),j({action:"clear"}),m(p,l=!1,l),w=!1}async function U(){const e=await Ge(s,a);b.update((t=>{for(const n of e)-1==i.indexOf(n.UID)&&t.push(n);return t})),h.update((()=>c.map((e=>e.UID)))),j({action:"clear"}),m(p,l=!1,l),w=!1}function E(){m(p,l=!1,l),w=!1,j({action:"clear"})}function B(e){return-1===i.indexOf(e.UID)}function D(){const e=document.querySelector(".levelColumns");e&&Re({x:e.scrollWidth+100})}return e.$$.update=()=>{12&e.$$.dirty[0]&&l&&g.get({path:o}),2&e.$$.dirty[0]&&D(),e.$$.dirty[0]},[s,r,o,l,y,$,a,u,d,p,b,h,v,g,C,async function(){j({action:"clear"}),n(4,y=!0),await Le.A.timeout(1);const e=document.querySelector(".upload-wrapper");e.classList.add("pat-upload"),new He.default(e,{baseUrl:a.base_url,currentPath:o,relativePath:"@@fileUpload",allowPathSelection:!1,hiddenInputContainer:".upload-wrapper",success:(e,t)=>{g.get({path:o,updateCache:!0})}})},k,_,S,I,T,U,E,B,D,function(e){return-1!=o.indexOf(e.path)},function(){let e;e&&clearTimeout(e),e=setTimeout((()=>{g.get({path:o,searchTerm:this.value})}),300)},function(e){const t=new IntersectionObserver((t=>{for(const n of t)if(n.isIntersecting){const t=e.dataset.levelPath,n=parseInt(e.dataset.levelNextPage);g.get({loadMorePath:t,page:n})}}),{threshold:0,root:null,margin:"0px"});window.setTimeout((()=>{t.observe(e)}),500)},()=>E(),()=>k("/"),()=>k("/"),e=>T(e),(e,t,n)=>m(g,t[n].gridView=!0,r),(e,t,n)=>m(g,t[n].gridView=!1,r),(e,t)=>I(e,t),(e,t)=>_(e,t),()=>T($),()=>{D(),S()}]}var Rt=class extends Be{constructor(e){super(),Ue(this,e,Mt,zt,a,{},null,[-1,-1])}};function Yt(e,{from:t,to:n},s={}){const r=getComputedStyle(e),o="none"===r.transform?"":r.transform,[l,i]=r.transformOrigin.split(" ").map(parseFloat),a=t.left+t.width*l/n.width-(n.left+l),u=t.top+t.height*i/n.height-(n.top+i),{delay:d=0,duration:A=e=>120*Math.sqrt(e),easing:p=Pe}=s;return{delay:d,duration:c(A)?A(Math.sqrt(a*a+u*u)):A,easing:p,css:(e,s)=>{const r=s*a,l=s*u,i=e+s*t.width/n.width,c=e+s*t.height/n.height;return`transform: ${o} translate(${r}px, ${l}px) scale(${i}, ${c});`}}}var Wt=n(44423),Ft=n.n(Wt),Ht=n(49393),Kt={};Kt.styleTagTransform=At(),Kt.setAttributes=ct(),Kt.insert=lt(),Kt.domAPI=rt(),Kt.insertStyleElement=ut();nt()(Ht.A,Kt),Ht.A&&Ht.A.locals&&Ht.A.locals;function Jt(e,t,n){const s=e.slice();return s[19]=t[n],s[21]=n,s}function Vt(e){let t,n=[],s=new Map,r=xe(e[0]);const o=e=>e[19].UID;for(let t=0;t<r.length;t+=1){let l=Jt(e,r,t),i=o(l);s.set(i,n[t]=Gt(i,l))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=O()},m(e,s){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,s);U(e,t,s)},p(e,l){if(129&l){r=xe(e[0]);for(let e=0;e<n.length;e+=1)n[e].r();n=ke(n,l,o,1,e,r,s,t.parentNode,je,Gt,t,Jt);for(let e=0;e<n.length;e+=1)n[e].a()}},d(e){e&&E(t);for(let t=0;t<n.length;t+=1)n[t].d(e)}}}function Xt(e){let t,n,s;return{c(){t=B("img"),d(t.src,n=e[19].getURL+"/@@images/image/mini")||z(t,"src",n),z(t,"alt",s=e[19].Title),z(t,"class","svelte-bljrxf")},m(e,n){U(e,t,n)},p(e,r){1&r&&!d(t.src,n=e[19].getURL+"/@@images/image/mini")&&z(t,"src",n),1&r&&s!==(s=e[19].Title)&&z(t,"alt",s)},d(e){e&&E(t)}}}function Gt(e,t){let n,o,l,c,a,u,d,A,p,f,m,h,v,y,$,w,C,j,k,S=t[19].Title+"",I=t[19].path+"",T=s;function O(){return t[9](t[21])}let q=t[19].getURL&&(t[19].getIcon||"Image"===t[19].portal_type)&&Xt(t);return{key:e,first:null,c(){n=B("div"),o=B("div"),l=B("button"),c=D("svg"),u=P(),d=B("div"),A=B("span"),p=L(S),f=B("br"),m=P(),h=B("span"),v=L(I),y=P(),q&&q.c(),$=P(),z(l,"class","btn btn-link btn-sm link-secondary svelte-bljrxf"),z(A,"class","item-title"),z(h,"class","small"),z(o,"class","item-info svelte-bljrxf"),z(n,"class","selected-item svelte-bljrxf"),z(n,"data-uuid",w=t[19].UID),this.first=n},m(e,t){U(e,n,t),_(n,o),_(o,l),_(l,c),_(o,u),_(o,d),_(d,A),_(A,p),_(d,f),_(d,m),_(d,h),_(h,v),_(n,y),q&&q.m(n,null),_(n,$),j||(k=[b(a=Qe.call(null,c,{iconName:"x-circle"})),N(l,"click",O)],j=!0)},p(e,s){t=e,1&s&&S!==(S=t[19].Title+"")&&M(p,S),1&s&&I!==(I=t[19].path+"")&&M(v,I),t[19].getURL&&(t[19].getIcon||"Image"===t[19].portal_type)?q?q.p(t,s):(q=Xt(t),q.c(),q.m(n,$)):q&&(q.d(1),q=null),1&s&&w!==(w=t[19].UID)&&z(n,"data-uuid",w)},r(){C=n.getBoundingClientRect()},f(){J(n),T()},a(){T(),T=function(e,t,n,o){if(!t)return s;const l=e.getBoundingClientRect();if(t.left===l.left&&t.right===l.right&&t.top===l.top&&t.bottom===l.bottom)return s;const{delay:i=0,duration:c=300,easing:a=r,start:u=g()+i,end:d=u+c,tick:A=s,css:p}=n(e,{from:t,to:l},o);let f,m=!0,b=!1;function h(){p&&K(e,f),m=!1}return x((e=>{if(!b&&e>=u&&(b=!0),b&&e>=d&&(A(1,0),h()),!m)return!1;if(b){const t=0+1*a((e-u)/c);A(t,1-t)}return!0})),p&&(f=H(e,0,1,c,i,a,p)),i||(b=!0),A(0,1),h}(n,C,Yt,{duration:500})},d(e){e&&E(n),q&&q.d(),j=!1,i(k)}}}function Qt(e){let t;return{c(){t=B("p"),t.textContent=`${(0,Fe.Ay)("loading selected items")}`},m(e,n){U(e,t,n)},d(e){e&&E(t)}}}function Zt(e){let t,n,r,o,l,i,c,a,u,d=(0,Fe.Ay)("Select")+"",A=e[0]&&Vt(e),p=!e[0]&&Qt();return{c(){t=B("div"),n=B("div"),A&&A.c(),r=P(),p&&p.c(),o=P(),l=B("button"),i=L(d),z(n,"class","content-browser-selected-items svelte-bljrxf"),z(l,"class","btn btn-primary"),R(l,"border-radius","0 var(--bs-border-radius) var(--bs-border-radius) 0"),l.disabled=c=e[2].maximumSelectionSize>0&&(e[0].length||0)>=e[2].maximumSelectionSize,z(t,"class","content-browser-selected-items-wrapper svelte-bljrxf")},m(s,c){U(s,t,c),_(t,n),A&&A.m(n,null),_(n,r),p&&p.m(n,null),_(t,o),_(t,l),_(l,i),e[11](t),a||(u=N(l,"click",q(e[10])),a=!0)},p(e,[t]){e[0]?A?A.p(e,t):(A=Vt(e),A.c(),A.m(n,r)):A&&(A.d(1),A=null),e[0]?p&&(p.d(1),p=null):p||(p=Qt(),p.c(),p.m(n,null)),5&t&&c!==(c=e[2].maximumSelectionSize>0&&(e[0].length||0)>=e[2].maximumSelectionSize)&&(l.disabled=c)},i:s,o:s,d(n){n&&E(t),A&&A.d(),p&&p.d(),e[11](null),a=!1,u()}}}function en(e,t,n){let s,r,o,l,i=!0;const c=Q("config");f(e,c,(e=>n(2,r=e)));const a=r.fieldId,u=document.getElementById(a),d=Q("selectedItems");f(e,d,(e=>n(0,s=e)));const A=Q("selectedUids"),p=Q("showContentBrowser");var b;function h(e){d.update((t=>(t.splice(e,1),t))),A.update((()=>s.map((e=>e.UID))))}function v(){1!==r.maximumSelectionSize&&s.length>1&&Ft().create(u.previousSibling.querySelector(".content-browser-selected-items"),{draggable:".selected-item",animation:200,onUpdate:e=>{let t=[];for(const n of e.target.children)t.push(n.dataset.uuid);g(t)}})}function g(e){const t=e.join(r.separator);u.value=t}f(e,p,(e=>n(3,o=e))),b=async()=>{await async function(){const e=r.selection.length?r.selection:u?.value?u.value.split(r.separator):[];if(!e.length)return;const t=await Ge(e,r);m(d,s=t,s),A.update((()=>t.map((e=>e.UID))))}(),v(),n(8,i=!1)},X().$$.on_mount.push(b);return e.$$.update=()=>{257&e.$$.dirty&&(!s.length&&i||(g(function(){let e=[];return s.forEach((t=>{e.push(t.UID)})),e}()),v(),function(e,t){const n=new CustomEvent(e,{detail:{content:t},bubbles:!0});document.dispatchEvent(n)}("updateSelection",A)))},[s,l,r,o,c,d,p,h,i,e=>h(e),()=>m(p,o=!0,o),function(e){ee[e?"unshift":"push"]((()=>{l=e,n(1,l)}))}]}var tn=class extends Be{constructor(e){super(),Ue(this,e,en,Zt,a,{})}};Je(!1);function nn(e){let t,n,r,o;return t=new Rt({}),r=new tn({}),{c(){Se(t.$$.fragment),n=P(),Se(r.$$.fragment)},m(e,s){Ie(t,e,s),U(e,n,s),Ie(r,e,s),o=!0},p:s,i(e){o||(ve(t.$$.fragment,e),ve(r.$$.fragment,e),o=!0)},o(e){ge(t.$$.fragment,e),ge(r.$$.fragment,e),o=!1},d(e){e&&E(n),Te(t,e),Te(r,e)}}}function sn(e,t,n){let s,r,{maxDepth:o}=t,{attributes:l}=t,{contextPath:i}=t,{vocabularyUrl:c}=t,{mode:a="browse"}=t,{basePath:u=""}=t,{selectableTypes:d=[]}=t,{maximumSelectionSize:A=-1}=t,{separator:p}=t,{selection:b=[]}=t,{query:h={}}=t,{fieldId:v}=t,{upload:g}=t,{favorites:y}=t,{recentlyUsed:$}=t,{recentlyUsedKey:w}=t,{bSize:x=20}=t;const C=De.A.getLogger("pat-contentbrowser");G("currentPath",Je("")),G("config",Je({})),G("pathCache",Je({})),G("selectedItems",Je([])),G("showContentBrowser",Je(!1)),G("selectedUids",Je([])),G("previewUids",Je([]));const j=Q("currentPath");f(e,j,(e=>n(20,r=e))),r||m(j,r=u||"/",r);const k=document.body.getAttribute("data-portal-url");let _=Q("config");return f(e,_,(e=>n(19,s=e))),m(_,s={mode:a,attributes:l,contextPath:i,vocabularyUrl:c,maxDepth:o,basePath:u,selectableTypes:d,maximumSelectionSize:A,separator:p,selection:b,query:h,fieldId:v,uploadEnabled:g,favorites:y,recentlyUsed:$,recentlyUsedKey:w,base_url:k,pageSize:x},s),C.debug(`Initialized App<${v}> with config ${JSON.stringify(s)}`),e.$$set=e=>{"maxDepth"in e&&n(2,o=e.maxDepth),"attributes"in e&&n(3,l=e.attributes),"contextPath"in e&&n(4,i=e.contextPath),"vocabularyUrl"in e&&n(5,c=e.vocabularyUrl),"mode"in e&&n(6,a=e.mode),"basePath"in e&&n(7,u=e.basePath),"selectableTypes"in e&&n(8,d=e.selectableTypes),"maximumSelectionSize"in e&&n(9,A=e.maximumSelectionSize),"separator"in e&&n(10,p=e.separator),"selection"in e&&n(11,b=e.selection),"query"in e&&n(12,h=e.query),"fieldId"in e&&n(13,v=e.fieldId),"upload"in e&&n(14,g=e.upload),"favorites"in e&&n(15,y=e.favorites),"recentlyUsed"in e&&n(16,$=e.recentlyUsed),"recentlyUsedKey"in e&&n(17,w=e.recentlyUsedKey),"bSize"in e&&n(18,x=e.bSize)},[j,_,o,l,i,c,a,u,d,A,p,b,h,v,g,y,$,w,x]}var rn=class extends Be{constructor(e){super(),Ue(this,e,sn,nn,a,{maxDepth:2,attributes:3,contextPath:4,vocabularyUrl:5,mode:6,basePath:7,selectableTypes:8,maximumSelectionSize:9,separator:10,selection:11,query:12,fieldId:13,upload:14,favorites:15,recentlyUsed:16,recentlyUsedKey:17,bSize:18})}}}}]);
//# sourceMappingURL=85997.e96553a067b38a177e77.min.js.map