/*! @plone/mockup 5.0.0-alpha.25 */
"use strict";(self.webpackChunkplone_staticresources=self.webpackChunkplone_staticresources||[]).push([[76533],{76533:function(e,t,n){n.r(t),n.d(t,{default:function(){return r}});var a=n(72513),s=n.n(a);n(43067);class r{constructor(e){this.el=e}updatezebra(e){e.find("tr:visible:odd").removeClass("odd even").addClass("odd"),e.find("tr:visible:even").removeClass("odd even").addClass("even")}initStatusMessageArea(){if(document.getElementById("portalMessagesWrapper"))return;let e=document.createElement("div");e.id="portalMessagesWrapper",document.getElementById("content").insertAdjacentElement("afterbegin",e)}addStatusMessage(e,t){void 0===t&&(t="info");let n=document.createElement("dl"),a=document.createElement("dt"),s=document.createElement("dd");n.classList.add("alert","alert-"+t),a.innerText=t,s.innerText=e,n.appendChild(a),n.appendChild(s);let r=document.getElementById("portalMessagesWrapper");r&&(r.innerHTML="",r.appendChild(n))}init(){let e=this;e.initStatusMessageArea(),s()(".btn-rule-action").unbind("click").bind("click",(function(t){t.preventDefault();var n=s()(this),a=this,r=n.parents("tr").first(),d=r.parent(),l=n.data("value"),i=n.data("url");s().ajax({type:"POST",url:i,data:{"rule-id":l,_authenticator:s()('input[name="_authenticator"]').val()},beforeSend:function(){s()("#spinner").show()},error:function(){e.addStatusMessage(s()("#trns_form_error").html(),"warn")},success:function(){let t="";t=r.find(".rule-title")[0].innerText,n.hasClass("btn-rule-enable")&&(r.removeClass("state-disabled").addClass("state-enabled"),a.parentNode.querySelector(".btn-rule-enable").classList.add("d-none"),a.parentNode.querySelector(".btn-rule-disable").classList.remove("d-none"),e.addStatusMessage(s()("#trns_form_success_enabled").html()+": "+t,"info")),n.hasClass("btn-rule-disable")&&(r.removeClass("state-enabled").addClass("state-disabled"),a.parentNode.querySelector(".btn-rule-disable").classList.add("d-none"),a.parentNode.querySelector(".btn-rule-enable").classList.remove("d-none"),e.addStatusMessage(s()("#trns_form_success_disabled").html()+": "+t,"info")),n.hasClass("btn-rule-delete")&&(r.remove(),e.updatezebra(d),e.addStatusMessage(s()("#trns_form_success_deleted").html()+": "+t,"info"))},complete:function(){s()("#spinner").hide()}})})),s()(".filter-option input").unbind("change").bind("change",(function(){var t=s()("#rules_table_form table"),n=s()(".state-filters input:checked"),a=s()(".type-filters input:checked");t.find("tr").show(),n.length>0&&s()(".state-filters input:not(:checked)").each((function(){t.find("."+this.id).hide()})),a.length>0&&s()(".type-filters input:not(:checked)").each((function(){t.find("."+this.id).hide()})),e.updatezebra(t)})),s()("#rules_disable_globally").change((function(){var t=s()("#fieldset-global form"),n="";s()("#rules_disable_globally")[0].checked&&(n="True"),s().ajax({type:"POST",url:t.attr("action"),data:{"global_disable:boolean":n,_authenticator:s()('input[name="_authenticator"]').val()},beforeSend:function(){s()("#spinner").show()},error:function(){e.addStatusMessage(s()("#trns_form_error").html(),"warn")},success:function(){e.addStatusMessage(s()("#trns_form_success").html(),"info")},complete:function(){s()("#spinner").hide()}})}))}}}}]);
//# sourceMappingURL=76533.877eac51f5266b3bdd0e.min.js.map